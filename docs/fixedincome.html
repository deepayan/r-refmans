<!DOCTYPE html><html><head><title>Help for package fixedincome</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fixedincome}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fixedincome-package'><p>Fixed income models, calculations and data structures</p></a></li>
<li><a href='#as.forwardrate'><p>Coerce objects to ForwardRate</p></a></li>
<li><a href='#as.spotrate'><p>Coerce to SpotRate</p></a></li>
<li><a href='#as.spotratecurve'><p>Coerce objects to spotratecurve</p></a></li>
<li><a href='#as.term'><p>Coerce a character to a Term</p></a></li>
<li><a href='#compound'><p>Compound method</p></a></li>
<li><a href='#compounding'><p>Create Compounding class</p></a></li>
<li><a href='#Compounding-class'><p>Compounding class</p></a></li>
<li><a href='#datasets'><p>Datasets</p></a></li>
<li><a href='#daycount'><p>Create Daycount class</p></a></li>
<li><a href='#Daycount-class'><p>Daycount class</p></a></li>
<li><a href='#dib'><p>Days in base for Daycount</p></a></li>
<li><a href='#diff,Term-method'><p>Calculate lagged differences of Term objects</p></a></li>
<li><a href='#fit_interpolation'><p>Fit parametric interpolation functions</p></a></li>
<li><a href='#forwardrate'><p>Create a ForwardRate object</p></a></li>
<li><a href='#ForwardRate-class'><p>ForwardRate class</p></a></li>
<li><a href='#ggplot2-support'><p>ggplot2 plotting functions</p></a></li>
<li><a href='#ggspotratecurveplot'><p>Fancy ggplot for SpotRateCurve object</p></a></li>
<li><a href='#hidden_aliases'><p>Internal page for hidden aliases</p></a></li>
<li><a href='#implied_rate'><p>Implied rates</p></a></li>
<li><a href='#interpolate'><p>Interpolates a <code>SpotRateCurve</code></p></a></li>
<li><a href='#interpolation'><p>Set/Get interpolation to SpotRateCurve</p></a></li>
<li><a href='#interpolation_error'><p>Interpolation error</p></a></li>
<li><a href='#Interpolation-class'><p>Interpolation classes</p></a></li>
<li><a href='#interpolation-constructor'><p>Create Interpolation objects</p></a></li>
<li><a href='#maturities'><p>Get SpotRateCurve terms as Date objects</p></a></li>
<li><a href='#parameters'><p>Get parameters of the interpolation models</p></a></li>
<li><a href='#prepare_interpolation'><p>Create the interpolation function</p></a></li>
<li><a href='#shift'><p>Shift vectors</p></a></li>
<li><a href='#spotrate'><p>Create SpotRate objects</p></a></li>
<li><a href='#SpotRate-class'><p>SpotRate class</p></a></li>
<li><a href='#spotrate-compare-method'><p>SpotRate comparison operations</p></a></li>
<li><a href='#spotratecurve'><p>Create a SpotRateCurve object</p></a></li>
<li><a href='#SpotRateCurve-class'><p>SpotRateCurve class</p></a></li>
<li><a href='#spotratecurve-helpers'><p>SpotRateCurve helpers</p></a></li>
<li><a href='#term'><p>Create Term class</p></a></li>
<li><a href='#Term-class'><p>Term class</p></a></li>
<li><a href='#term-conversion'><p>Convert Term in different units</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Fixed Income Models, Calculations, Data Structures and
Instruments</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.5</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Description:</td>
<td>Fixed income mathematics made easy. A rich set of functions 
    that helps with calculations of interest rates and fixed income.
    It has objects that abstract interest rates, compounding factors, day count rules,
    forward rates and term structure of interest rates.
    Many interpolation methods and parametric curve models commonly used by practitioners
    are implemented.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/wilsonfreitas/R-fixedincome">https://github.com/wilsonfreitas/R-fixedincome</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wilsonfreitas/R-fixedincome/issues">https://github.com/wilsonfreitas/R-fixedincome/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0),</td>
</tr>
<tr>
<td>Imports:</td>
<td>bizdays (&ge; 1.0.0), methods, graphics, stats, grDevices,
utils, ggplot2, scales</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, rb3, dplyr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Collate:</td>
<td>"fixedincome-internal.R" "utils.R" "term-class.R"
"daycount-class.R" "compounding-class.R"
"interpolation-class.R" "spotrate-class.R"
"spotratecurve-class.R" "spotratecurve-interpolation.R"
"spotratecurve-interpolation-nelsonsiegel.R" "plot.R"
"autoplot.R" "forwardrate-class.R" "compound-method.R"
"hidden.R" "zzz.R"</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-28 19:46:09 UTC; wilso</td>
</tr>
<tr>
<td>Author:</td>
<td>Wilson Freitas [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Wilson Freitas &lt;wilson.freitas@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-30 09:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='fixedincome-package'>Fixed income models, calculations and data structures</h2><span id='topic+fixedincome-package'></span><span id='topic+fixedincome'></span>

<h3>Description</h3>

<p>The <code>fixedincome</code> package brings a set of funtions that helps with the
mathematics of interest rates and fixed income.
It handles the interest rates and term structures of interest rates as
objects and provides many methods to tackle specific issues
like computing discount factors and forward rates, interpolate term
structures, fit curve models and so much more.
This package also supports methods and models commonly used by practitioners
to do fixed income calculations.
</p>


<h3>Author(s)</h3>

<p>Wilson Freitas <a href="mailto:wilson.freitas@gmail.com">wilson.freitas@gmail.com</a>
</p>


<h3>References</h3>

<p>Frank Fabozzi. Fixed Income Mathematics, Wiley, 1994.
</p>
<p>Bruce Tuckman. Fixed Income Securities, Wiley, 1994.
</p>

<hr>
<h2 id='as.forwardrate'>Coerce objects to ForwardRate</h2><span id='topic+as.forwardrate'></span><span id='topic+as.forwardrate.SpotRate'></span><span id='topic+as.forwardrate.SpotRateCurve'></span>

<h3>Description</h3>

<p>A <code>ForwardRate</code> object can be created from a <code>SpotRate</code> object and
a <code>SpotRateCurve</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.forwardrate(x, ...)

## S3 method for class 'SpotRate'
as.forwardrate(x, terms, refdate = NULL, ...)

## S3 method for class 'SpotRateCurve'
as.forwardrate(x, t1 = NULL, t2 = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.forwardrate_+3A_x">x</code></td>
<td>
<p>a <code>SpotRate</code> or a <code>SpotRateCurve</code> object.</p>
</td></tr>
<tr><td><code id="as.forwardrate_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="as.forwardrate_+3A_terms">terms</code></td>
<td>
<p>a numeric with positive values representing terms or a Term
object.</p>
</td></tr>
<tr><td><code id="as.forwardrate_+3A_refdate">refdate</code></td>
<td>
<p>the curve reference date.</p>
</td></tr>
<tr><td><code id="as.forwardrate_+3A_t1">t1</code></td>
<td>
<p>initial term</p>
</td></tr>
<tr><td><code id="as.forwardrate_+3A_t2">t2</code></td>
<td>
<p>final term</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ForwardRate</code> object created from another object, <code>SpotRate</code> or
<code>SpotRateCurve</code>.
</p>

<hr>
<h2 id='as.spotrate'>Coerce to SpotRate</h2><span id='topic+as.spotrate'></span><span id='topic+as.spotrate+2Ccharacter-method'></span><span id='topic+as.spotrate+2CSpotRateCurve-method'></span><span id='topic+as.spotrate+2CForwardRate-method'></span>

<h3>Description</h3>

<p>Coerce character objects to SpotRate class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.spotrate(x, ...)

## S4 method for signature 'character'
as.spotrate(x, simplify = TRUE)

## S4 method for signature 'SpotRateCurve'
as.spotrate(x, ...)

## S4 method for signature 'ForwardRate'
as.spotrate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.spotrate_+3A_x">x</code></td>
<td>
<p>a character with SpotRate specification.</p>
</td></tr>
<tr><td><code id="as.spotrate_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="as.spotrate_+3A_simplify">simplify</code></td>
<td>
<p>a boolean indicating whether to simplify SpotRate creation
or not. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The character representation of a SpotRate is as follows:
</p>
<pre>"RATE COMPOUNDING DAYCOUNT CALENDAR"</pre>
<p>where:
</p>

<ul>
<li> <p><code>RATE</code> is a numeric value
</p>
</li>
<li> <p><code>COMPOUNDING</code> is one of the following:
<code>simple</code>, <code>discrete</code>, <code>continuous</code>
</p>
</li>
<li> <p><code>DAYCOUNT</code> is a valid day count rule, pex. <code>business/252</code>,
see <a href="#topic+Daycount-class">Daycount</a>.
</p>
</li>
<li> <p><code>CALENDAR</code> is the name of a bizdays calendar.
</p>
</li></ul>

<p><code>simplify</code> check if compounding, daycount and calendar are the same for
all given characters.
If it is true the returned object is a SpotRate otherwise a <code>list</code> with
SpotRate objects is returned.
</p>


<h3>Value</h3>

<p>A <code>SpotRate</code> object created from a string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
as.spotrate(c(
  "0.06 simple actual/365 actual",
  "0.11 discrete business/252 actual"
))
</code></pre>

<hr>
<h2 id='as.spotratecurve'>Coerce objects to spotratecurve</h2><span id='topic+as.spotratecurve'></span><span id='topic+as.spotratecurve.ForwardRate'></span>

<h3>Description</h3>

<p>A SpotRateCurve can be created from a <code>ForwardRate</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.spotratecurve(x, ...)

## S3 method for class 'ForwardRate'
as.spotratecurve(x, refdate = Sys.Date(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.spotratecurve_+3A_x">x</code></td>
<td>
<p>a ForwardRate object.</p>
</td></tr>
<tr><td><code id="as.spotratecurve_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="as.spotratecurve_+3A_refdate">refdate</code></td>
<td>
<p>the curve reference date.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SpotRateCurve</code> object create from another object.
</p>

<hr>
<h2 id='as.term'>Coerce a character to a Term</h2><span id='topic+as.term'></span><span id='topic+as.term+2Ccharacter-method'></span>

<h3>Description</h3>

<p><code>as.term</code> coerces a character vector to a Term object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.term(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.term_+3A_x">x</code></td>
<td>
<p>a character to be coerced to a Term.</p>
</td></tr>
<tr><td><code id="as.term_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The string representation of the Term class follows the layout:
</p>
<pre>NUMBER UNITS</pre>
<p>where units is one of: days, months, years.
</p>


<h3>Value</h3>

<p>A <code>Term</code> object created from a string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>t &lt;- as.term("6 months")
</code></pre>

<hr>
<h2 id='compound'>Compound method</h2><span id='topic+compound'></span><span id='topic+compound+2CContinuous+2Cnumeric+2Cnumeric-method'></span><span id='topic+compound+2CDiscrete+2Cnumeric+2Cnumeric-method'></span><span id='topic+compound+2CForwardRate+2Cmissing+2Cmissing-method'></span><span id='topic+compound+2CSimple+2Cnumeric+2Cnumeric-method'></span><span id='topic+compound+2CSpotRate+2CDate+2CDate-method'></span><span id='topic+compound+2CSpotRate+2CTerm+2Cmissing-method'></span><span id='topic+compound+2CSpotRate+2Cnumeric+2Ccharacter-method'></span><span id='topic+compound+2CSpotRateCurve+2Cmissing+2Cmissing-method'></span><span id='topic+compound+2Ccharacter+2Cnumeric+2Cnumeric-method'></span><span id='topic+discount+2CForwardRate+2Cmissing+2Cmissing-method'></span><span id='topic+discount+2CSpotRate+2CDate+2CDate-method'></span><span id='topic+discount+2CSpotRate+2CTerm+2Cmissing-method'></span><span id='topic+discount+2CSpotRate+2Cnumeric+2Ccharacter-method'></span><span id='topic+discount+2CSpotRateCurve+2Cmissing+2Cmissing-method'></span><span id='topic+discount'></span>

<h3>Description</h3>

<p>Computes the compounding (and discount) factor for spot rates and curves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compound(x, t, val, ...)

discount(x, t, val, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compound_+3A_x">x</code></td>
<td>
<p>can be a <code>Compounding</code>, a <code>SpotRate</code>,
a <code>SpotRateCurve</code>, a <code>ForwardRate</code> and a character
representing a <code>Compounding</code>.</p>
</td></tr>
<tr><td><code id="compound_+3A_t">t</code></td>
<td>
<p>represents the term to compound. Can be a numeric, a <code>Term</code>,
a <code>Date</code> or even missing. See Details.</p>
</td></tr>
<tr><td><code id="compound_+3A_val">val</code></td>
<td>
<p>is the value of the spot rate to be compounded in the given term.
Can be a numeric, a <code>Date</code> or missing. See Details.</p>
</td></tr>
<tr><td><code id="compound_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For <code>Compounding</code> classes the arguments <code>t</code> and <code>val</code> must be
provided.
</p>
<p>For a <code>SpotRate</code> class, if the <code>t</code> argument is numeric,
representing the term to be compounded, the argument <code>val</code> must
be a character with the units of the Term class. If otherwise <code>t</code>
is a Term object, <code>val</code> is missing.
</p>
<p>For <code>SpotRateCurve</code> and <code>ForwardRate</code> classes, that already have
terms associated, <code>t</code> and <code>val</code> are missing.
</p>
<p><code>discount()</code> method is the inverse of compound: <code>1 / compound()</code>.
</p>


<h3>Value</h3>

<p>A numeric value that represents the compounding factor for the given
spot rate.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compound("simple", 2, 0.05)
compound("discrete", 2, 0.05)
compound("continuous", 2, 0.05)

spr &lt;- spotrate(0.06, "simple", "actual/365", "actual")
compound(spr, 10, "days")
discount(spr, 10, "days")
t &lt;- term(10, "days")
compound(spr, t)
discount(spr, t)
d1 &lt;- Sys.Date()
d2 &lt;- Sys.Date() + 10
compound(spr, d1, d2)
discount(spr, d1, d2)

terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
compound(curve)
discount(curve)
</code></pre>

<hr>
<h2 id='compounding'>Create Compounding class</h2><span id='topic+compounding'></span>

<h3>Description</h3>

<p><code>compound()</code> creates a <code>Compounding</code> object in one of its subclasses:
<a href="#topic+Simple-class">Simple</a>, <a href="#topic+Discrete-class">Discrete</a>, <a href="#topic+Continuous-class">Continuous</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compounding(x = c("simple", "discrete", "continuous"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compounding_+3A_x">x</code></td>
<td>
<p>a character with the name of compounding regime:
<code>simple</code>, <code>discrete</code>, <code>continuous</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A Compounding object can be instanciated with the <code>compounding</code>
function, passing a string with the name of one of the compounding regimes:
<code>simple</code>, <code>discrete</code>, <code>continuous</code>.
</p>


<h3>Value</h3>

<p>A subclass of <code>Compounding</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compounding("simple")
compounding("discrete")
compounding("continuous")

comp &lt;- compounding("discrete")
compound(comp, 0.06, 2) # equals (1 + 0.06) ^ 2 = 1.1236
implied_rate(comp, 1.1236, 2) # equals 0.06
</code></pre>

<hr>
<h2 id='Compounding-class'>Compounding class</h2><span id='topic+Compounding-class'></span><span id='topic+Simple-class'></span><span id='topic+Discrete-class'></span><span id='topic+Continuous-class'></span><span id='topic+SimpleCompoundingClass'></span><span id='topic+DiscreteCompoundingClass'></span><span id='topic+ContinuousCompoundingClass'></span>

<h3>Description</h3>

<p>The Compounding class abstracts the compounding regime used to
discount or compound a spot rate.
</p>


<h3>Details</h3>

<p>There are 3 compoundings:
</p>

<ul>
<li> <p><code>simple</code> for simple interest rate compounding </p>
<p style="text-align: center;"><code class="reqn">1 + rt</code>
</p>

</li>
<li> <p><code>discrete</code> for compounded interest rate compounding
</p>
<p style="text-align: center;"><code class="reqn">(1 + r)^t</code>
</p>

</li>
<li> <p><code>continuous</code> for continuous interest rate compounding
</p>
<p style="text-align: center;"><code class="reqn">exp(rt)</code>
</p>

</li></ul>

<p>The <code>Compounding</code> class has 2 methods:
</p>

<ul>
<li> <p><code>compound</code> to compound the spot rate for a given term.
</p>
</li>
<li> <p><code>rates</code> to compute the implied rate for a compound factor
in a given term.
</p>
</li></ul>


<hr>
<h2 id='datasets'>Datasets</h2><span id='topic+datasets'></span><span id='topic+ZeroCurveBRL'></span>

<h3>Description</h3>

<p>Interest rate datasets
</p>


<h3>Details</h3>

<p><code>ZeroCurveBRL</code> Brazil's zero curve
</p>

<hr>
<h2 id='daycount'>Create Daycount class</h2><span id='topic+daycount'></span>

<h3>Description</h3>

<p><code>daycount</code> creates a <code>Daycount</code> object.
It accepts the following daycount rules: <code>actual/365</code>,
<code>actual/360</code>, <code>business/252</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>daycount(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="daycount_+3A_x">x</code></td>
<td>
<p>a character representing a daycount rule, like: <code>business/252</code>,
<code>actual/365</code>, <code>actual/360</code>, ...</p>
</td></tr>
<tr><td><code id="daycount_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Daycount</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dc &lt;- daycount("actual/360")
</code></pre>

<hr>
<h2 id='Daycount-class'>Daycount class</h2><span id='topic+Daycount-class'></span>

<h3>Description</h3>

<p><code>Daycount</code> class helps adjusting the terms to compound interest rates.
With annual rates it is necessary to convert periods of days or months
to years units.
The day count convention helps with that by defining the number of days of
one year.
Together with a calendar it defines the way the wordays are counted between
two dates.
</p>


<h3>Details</h3>

<p>Common day count rules are: <code>actual/365</code>, <code>actual/360</code>,
<code>business/252</code>, <code>30/360</code>, ...
</p>

<hr>
<h2 id='dib'>Days in base for Daycount</h2><span id='topic+dib'></span><span id='topic+dib+2CDaycount-method'></span>

<h3>Description</h3>

<p><code>dib</code> returns the days in base, that is the number of days used to
define one year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dib(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dib_+3A_x">x</code></td>
<td>
<p>a Daycount object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The method <code>dib</code> returns the days in base for a daycount convention.
Since we work with annual rates the days in base define the amount of days
in a year used in the convention.
</p>


<h3>Value</h3>

<p>A numeric with daycount's days in base, the number of days in a year
used in the convention.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dc &lt;- daycount("actual/360")
dib(dc)
</code></pre>

<hr>
<h2 id='diff+2CTerm-method'>Calculate lagged differences of Term objects</h2><span id='topic+diff+2CTerm-method'></span>

<h3>Description</h3>

<p><code>diff</code> returns a Term vector with lagged differences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Term'
diff(x, lag = 1, ..., fill = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diff+2B2CTerm-method_+3A_x">x</code></td>
<td>
<p>a Term object.</p>
</td></tr>
<tr><td><code id="diff+2B2CTerm-method_+3A_lag">lag</code></td>
<td>
<p>a numerix indicating which lag to use.</p>
</td></tr>
<tr><td><code id="diff+2B2CTerm-method_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
<tr><td><code id="diff+2B2CTerm-method_+3A_fill">fill</code></td>
<td>
<p>a numeric value (or <code>NA</code>) to fill the empty created by
applying diff to a Term object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new <code>Term</code> object with lagged differences of the given <code>Term</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>t &lt;- term(1:10, "months")
diff(t)
</code></pre>

<hr>
<h2 id='fit_interpolation'>Fit parametric interpolation functions</h2><span id='topic+fit_interpolation'></span><span id='topic+fit_interpolation+2CNelsonSiegel+2CSpotRateCurve-method'></span><span id='topic+fit_interpolation+2CNelsonSiegelSvensson+2CSpotRateCurve-method'></span>

<h3>Description</h3>

<p>Fits parametric interpolation functions like <a href="#topic+NelsonSiegel-class">NelsonSiegel</a> or
<a href="#topic+NelsonSiegelSvensson-class">NelsonSiegelSvensson</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_interpolation(object, x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_interpolation_+3A_object">object</code></td>
<td>
<p>a Interpolation object with initial parameters set.</p>
</td></tr>
<tr><td><code id="fit_interpolation_+3A_x">x</code></td>
<td>
<p>a SpotRateCurve object.</p>
</td></tr>
<tr><td><code id="fit_interpolation_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Interpolation</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
fit_interpolation(interp_nelsonsiegel(0.1, 0.01, 0.01, 0.01), curve)
</code></pre>

<hr>
<h2 id='forwardrate'>Create a ForwardRate object</h2><span id='topic+forwardrate'></span><span id='topic+forwardrate.numeric'></span><span id='topic+forwardrate.SpotRateCurve'></span>

<h3>Description</h3>

<p><code>forwardrate()</code> creates a ForwardRate object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forwardrate(x, ...)

## S3 method for class 'numeric'
forwardrate(
  x,
  terms,
  compounding,
  daycount,
  calendar,
  .copyfrom = NULL,
  refdate = NULL,
  ...
)

## S3 method for class 'SpotRateCurve'
forwardrate(x, t1 = NULL, t2 = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forwardrate_+3A_x">x</code></td>
<td>
<p>a numeric or a SpotRateCurve object.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_terms">terms</code></td>
<td>
<p>a numeric vector with positive values representing terms of
the forward rates.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_compounding">compounding</code></td>
<td>
<p>a character with the compouning name.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_daycount">daycount</code></td>
<td>
<p>a character representing the daycount.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_calendar">calendar</code></td>
<td>
<p>a calendar object.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_.copyfrom">.copyfrom</code></td>
<td>
<p>a SpotRate object that is used as reference to build
the SpotRateCurve object.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_refdate">refdate</code></td>
<td>
<p>the curve reference date.</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_t1">t1</code></td>
<td>
<p>initial term</p>
</td></tr>
<tr><td><code id="forwardrate_+3A_t2">t2</code></td>
<td>
<p>final term</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ForwardRate</code> object.
</p>
<p>The arguments <code>t1</code> and <code>t2</code> define initial and final term used to
extract a ForwardRate from a SpotRateCurve.
</p>

<hr>
<h2 id='ForwardRate-class'>ForwardRate class</h2><span id='topic+ForwardRate-class'></span>

<h3>Description</h3>

<p>ForwardRate class abstracts a forward rate.
It has an additional term, that reffers to the forward period used to
compute the forward rate.
</p>

<hr>
<h2 id='ggplot2-support'>ggplot2 plotting functions</h2><span id='topic+ggplot2-support'></span><span id='topic+autoplot.SpotRateCurve'></span><span id='topic+autolayer.SpotRateCurve'></span><span id='topic+autolayer.ForwardRate'></span>

<h3>Description</h3>

<p>Functions to plot fixedincome objects using ggplot2 package and its grammar
of graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SpotRateCurve'
autoplot(
  object,
  ...,
  curve.name = NULL,
  curve.geom = c("line", "point"),
  curve.interpolation = FALSE,
  curve.x.axis = c("dates", "terms")
)

## S3 method for class 'SpotRateCurve'
autolayer(
  object,
  ...,
  curve.name = NULL,
  curve.geom = c("line", "point"),
  curve.interpolation = FALSE,
  curve.x.axis = c("dates", "terms")
)

## S3 method for class 'ForwardRate'
autolayer(
  object,
  ...,
  curve.name = NULL,
  curve.geom = c("step", "line", "point"),
  curve.x.axis = c("dates", "terms")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot2-support_+3A_object">object</code></td>
<td>
<p>SpotRateCurve or ForwardRate objects</p>
</td></tr>
<tr><td><code id="ggplot2-support_+3A_...">...</code></td>
<td>
<p>additional arguments passed to ggplot2 geom_* functions</p>
</td></tr>
<tr><td><code id="ggplot2-support_+3A_curve.name">curve.name</code></td>
<td>
<p>Curve's name</p>
</td></tr>
<tr><td><code id="ggplot2-support_+3A_curve.geom">curve.geom</code></td>
<td>
<p>Curve geom used: <code>line</code>, <code>point</code>, <code>step</code></p>
</td></tr>
<tr><td><code id="ggplot2-support_+3A_curve.interpolation">curve.interpolation</code></td>
<td>
<p>logical indicating to use curve interpolation in
the plot. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ggplot2-support_+3A_curve.x.axis">curve.x.axis</code></td>
<td>
<p>x axis can be presented with a numeric scale representing
business days (<code>terms</code>) or dates (<code>dates</code>). Defaults to <code>dates</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='ggspotratecurveplot'>Fancy ggplot for SpotRateCurve object</h2><span id='topic+ggspotratecurveplot'></span>

<h3>Description</h3>

<p>Fancy ggplot for SpotRateCurve object with custom axis, title
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggspotratecurveplot(
  curve,
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  curve.name = NULL,
  curve.interpolation = FALSE,
  curve.x.axis = c("dates", "terms"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggspotratecurveplot_+3A_curve">curve</code></td>
<td>
<p>SpotRateCurve object</p>
</td></tr>
<tr><td><code id="ggspotratecurveplot_+3A_title">title</code></td>
<td>
<p>plot title</p>
</td></tr>
<tr><td><code id="ggspotratecurveplot_+3A_subtitle">subtitle</code></td>
<td>
<p>plot subtitle</p>
</td></tr>
<tr><td><code id="ggspotratecurveplot_+3A_caption">caption</code></td>
<td>
<p>plot caption</p>
</td></tr>
<tr><td><code id="ggspotratecurveplot_+3A_curve.name">curve.name</code></td>
<td>
<p>Curve's name, if not provided curve's refdate is used.</p>
</td></tr>
<tr><td><code id="ggspotratecurveplot_+3A_curve.interpolation">curve.interpolation</code></td>
<td>
<p>logical indicating to use daily interpolation
instead of curve points. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ggspotratecurveplot_+3A_curve.x.axis">curve.x.axis</code></td>
<td>
<p>x axis can be presented with a numeric scale representing
business days (<code>terms</code>) or dates (<code>dates</code>). Defaults to <code>dates</code>.</p>
</td></tr>
<tr><td><code id="ggspotratecurveplot_+3A_...">...</code></td>
<td>
<p>additional arguments (not used)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
ggspotratecurveplot(curve)

## End(Not run)
</code></pre>

<hr>
<h2 id='hidden_aliases'>Internal page for hidden aliases</h2><span id='topic+hidden_aliases'></span><span id='topic+Ops+2CTerm+2CTerm-method'></span><span id='topic+Arith+2CSpotRate+2CSpotRate-method'></span><span id='topic+Arith+2CSpotRate+2Cnumeric-method'></span><span id='topic+Arith+2Cnumeric+2CSpotRate-method'></span><span id='topic++21+3D+2CCompounding+2CCompounding-method'></span><span id='topic++3D+3D+2CCompounding+2CCompounding-method'></span><span id='topic++5B+2CTerm+2Cnumeric+2CANY-method'></span><span id='topic++5B+2CTerm+2Clogical+2CANY-method'></span><span id='topic++5B+2CForwardRate+2Cmissing+2Cmissing-method'></span><span id='topic++5B+2CForwardRate+2Cnumeric+2Cmissing-method'></span><span id='topic++5B+2CSpotRateCurve+2Clogical+2Cmissing-method'></span><span id='topic++5B+2CSpotRateCurve+2Cmissing+2Cmissing-method'></span><span id='topic++5B+2CSpotRateCurve+2Cnumeric+2Cmissing-method'></span><span id='topic++5B+3C-+2CForwardRate+2Cnumeric+2Cmissing+2CSpotRate-method'></span><span id='topic++5B+3C-+2CSpotRateCurve+2Clogical+2Cmissing+2Cnumeric-method'></span><span id='topic++5B+3C-+2CSpotRateCurve+2Cnumeric+2Cmissing+2CSpotRate-method'></span><span id='topic++5B+5B+2CSpotRateCurve+2Cnumeric+2Cmissing-method'></span><span id='topic++5B+5B+2CSpotRateCurve+2Cmissing+2Cmissing-method'></span><span id='topic++5B+5B+3C-+2CSpotRateCurve+2Cmissing+2Cmissing+2CSpotRateCurve-method'></span><span id='topic++5B+5B+3C-+2CSpotRateCurve+2Cnumeric+2Cmissing+2CSpotRate-method'></span><span id='topic++5B+5B+3C-+2CSpotRateCurve+2Cnumeric+2Cmissing+2Cnumeric-method'></span><span id='topic+as.data.frame+2CForwardRate-method'></span><span id='topic+as.data.frame+2CSpotRateCurve-method'></span><span id='topic+show+2CCompounding-method'></span><span id='topic+show+2CDaycount-method'></span><span id='topic+show+2CForwardRate-method'></span><span id='topic+show+2CInterpolation-method'></span><span id='topic+show+2CNelsonSiegel-method'></span><span id='topic+show+2CNelsonSiegelSvensson-method'></span><span id='topic+show+2CSpotRate-method'></span><span id='topic+show+2CSpotRateCurve-method'></span><span id='topic+show+2CTerm-method'></span><span id='topic+format+2CTerm-method'></span><span id='topic+c+2CTerm-method'></span><span id='topic+c+2CSpotRate-method'></span><span id='topic+c+2CSpotRateCurve-method'></span><span id='topic+c+2CForwardRate-method'></span><span id='topic+as.character+2CDaycount-method'></span><span id='topic+as.character+2CTerm-method'></span><span id='topic+as.character+2CSpotRate-method'></span><span id='topic+as.character+2CCompounding-method'></span>

<h3>Description</h3>

<p>For S4 methods that require a documentation entry but only clutter the index.
</p>

<hr>
<h2 id='implied_rate'>Implied rates</h2><span id='topic+implied_rate'></span><span id='topic+implied_rate+2CContinuous+2Cnumeric+2Cnumeric-method'></span><span id='topic+implied_rate+2CDiscrete+2Cnumeric+2Cnumeric-method'></span><span id='topic+implied_rate+2CSimple+2Cnumeric+2Cnumeric-method'></span><span id='topic+implied_rate+2Ccharacter+2Cnumeric+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Computes implied rates to compounding factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>implied_rate(x, t, val, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="implied_rate_+3A_x">x</code></td>
<td>
<p>a Compounding object or a character with the compounding name.</p>
</td></tr>
<tr><td><code id="implied_rate_+3A_t">t</code></td>
<td>
<p>a numeric representing the term.</p>
</td></tr>
<tr><td><code id="implied_rate_+3A_val">val</code></td>
<td>
<p>a numeric representing the compounding factor.</p>
</td></tr>
<tr><td><code id="implied_rate_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the <code>x</code> argument is a <code>character</code> with a valid compounding name
(<code>simple</code>, <code>discrete</code>, <code>continuous</code>) the function
instanciates a Compounding object and then computes the implied rate
for the given compounding values and terms.
</p>


<h3>Value</h3>

<p>A numeric value that represents a spot rate.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>implied_rate("simple", 2, 1.1)
implied_rate("discrete", 2, 1.1025)
implied_rate("continuous", 2, 1.105170918)

comp &lt;- compounding("discrete")
compound(comp, 0.06, 2) # equals (1 + 0.06) ^ 2 = 1.1236
implied_rate(comp, 1.1236, 2) # equals 0.06
</code></pre>

<hr>
<h2 id='interpolate'>Interpolates a <code>SpotRateCurve</code></h2><span id='topic+interpolate'></span><span id='topic+interpolate+2CInterpolation+2Cnumeric-method'></span><span id='topic+interpolate+2CInterpolation+2CTerm-method'></span>

<h3>Description</h3>

<p>This method is internally used by the interpolation engine.
The interpolation function is created by calling <code>prepare_interpolation</code>
method.
This method creates the interpolation funcion with the current state of the
curve object and sets this function to the <code>func</code> slot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpolate(object, x, ...)
</code></pre>


<h3>Value</h3>

<p>A numeric vector with the interpolated values.
The <code>Interpolation</code> object is created with the data point of the curve.
The interpolation method is executed on these points the numeric
vector.
</p>

<hr>
<h2 id='interpolation'>Set/Get interpolation to SpotRateCurve</h2><span id='topic+interpolation'></span><span id='topic+interpolation+2CSpotRateCurve-method'></span><span id='topic+interpolation+3C-+2CSpotRateCurve+2CInterpolation-method'></span><span id='topic+interpolation+3C-+2CSpotRateCurve+2CNULL-method'></span><span id='topic+interpolation+3C-'></span>

<h3>Description</h3>

<p>Sets and gets interpolation method to the SpotRateCurve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpolation(x, ...)

interpolation(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpolation_+3A_x">x</code></td>
<td>
<p>a SpotRateCurve object.</p>
</td></tr>
<tr><td><code id="interpolation_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
<tr><td><code id="interpolation_+3A_value">value</code></td>
<td>
<p>a Interpolation object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Interpolatin object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
interpolation(curve) &lt;- interp_flatforward()
interpolation(curve)
</code></pre>

<hr>
<h2 id='interpolation_error'>Interpolation error</h2><span id='topic+interpolation_error'></span><span id='topic+interpolation_error+2CSpotRateCurve-method'></span>

<h3>Description</h3>

<p>Computes interpolation error as the root mean square error of differences
between interpolated terms and SpotRateCurve values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpolation_error(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpolation_error_+3A_x">x</code></td>
<td>
<p>a SpotRateCurve object.</p>
</td></tr>
<tr><td><code id="interpolation_error_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.
</p>
<p>The curve must have a interpolation set to compute the interpolation error.
This is useful to evaluate parametric methods like <a href="#topic+NelsonSiegel-class">NelsonSiegel</a> and
<a href="#topic+NelsonSiegelSvensson-class">NelsonSiegelSvensson</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric value with the root mean squared error between the curve data point
and interpolated points.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
interpolation(curve) &lt;- interp_nelsonsiegel(
  0.1229, -0.0606, 0.1004, 1.9174
)
interpolation_error(curve)
</code></pre>

<hr>
<h2 id='Interpolation-class'>Interpolation classes</h2><span id='topic+Interpolation-class'></span><span id='topic+FlatForward-class'></span><span id='topic+Linear-class'></span><span id='topic+LogLinear-class'></span><span id='topic+NaturalSpline-class'></span><span id='topic+HermiteSpline-class'></span><span id='topic+MonotoneSpline-class'></span><span id='topic+NelsonSiegel-class'></span><span id='topic+NelsonSiegelSvensson-class'></span>

<h3>Description</h3>

<p>Classes that implement interpolation methods to be used with <code>SpotRateCurve</code>
objects.
</p>


<h3>Details</h3>


<ul>
<li><p> FlatForward
</p>
</li>
<li><p> Linear
</p>
</li>
<li><p> LogLinear
</p>
</li>
<li><p> NaturalSpline
</p>
</li>
<li><p> HermiteSpline
</p>
</li>
<li><p> MonotoneSpline
</p>
</li>
<li><p> NelsonSiegel
</p>
</li>
<li><p> NelsonSiegelSvensson
</p>
</li></ul>

<p>Every class that implement a interpolation method inherits the
<code>Interpolation</code> class.
</p>

<hr>
<h2 id='interpolation-constructor'>Create Interpolation objects</h2><span id='topic+interpolation-constructor'></span><span id='topic+interp_flatforward'></span><span id='topic+interp_linear'></span><span id='topic+interp_loglinear'></span><span id='topic+interp_naturalspline'></span><span id='topic+interp_hermitespline'></span><span id='topic+interp_monotonespline'></span><span id='topic+interp_nelsonsiegel'></span><span id='topic+interp_nelsonsiegelsvensson'></span>

<h3>Description</h3>

<p>Functions to create intepolation objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interp_flatforward()

interp_linear()

interp_loglinear()

interp_naturalspline()

interp_hermitespline()

interp_monotonespline()

interp_nelsonsiegel(beta1, beta2, beta3, lambda1)

interp_nelsonsiegelsvensson(beta1, beta2, beta3, beta4, lambda1, lambda2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpolation-constructor_+3A_beta1">beta1</code></td>
<td>
<p>a single numeric</p>
</td></tr>
<tr><td><code id="interpolation-constructor_+3A_beta2">beta2</code></td>
<td>
<p>a single numeric</p>
</td></tr>
<tr><td><code id="interpolation-constructor_+3A_beta3">beta3</code></td>
<td>
<p>a single numeric</p>
</td></tr>
<tr><td><code id="interpolation-constructor_+3A_lambda1">lambda1</code></td>
<td>
<p>a single numeric</p>
</td></tr>
<tr><td><code id="interpolation-constructor_+3A_beta4">beta4</code></td>
<td>
<p>a single numeric</p>
</td></tr>
<tr><td><code id="interpolation-constructor_+3A_lambda2">lambda2</code></td>
<td>
<p>a single numeric</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>interp_flatforward</code> creates a <code>FlatForward</code> interpolation object.
</p>
<p><code>interp_linear</code> creates a <code>Linear</code> interpolation object.
</p>
<p><code>interp_loglinear</code> creates a <code>LogLinear</code> interpolation object.
</p>
<p><code>interp_naturalspline</code> creates a <code>NaturalSpline</code> interpolation object.
</p>
<p><code>interp_hermitespline</code> creates a <code>HermiteSpline</code> interpolation object.
</p>
<p><code>interp_monotonespline</code> creates a <code>MonotoneSpline</code> interpolation object.
</p>
<p><code>interp_nelsonsiegel</code> creates a <code>NelsonSiegel</code> interpolation object.
The arguments <code>beta1</code>, <code>beta2</code>, <code>beta3</code>, <code>lambda1</code> are the paremeters of
the Nelson-Siegel model for term structure.
</p>
<p><code>interp_nelsonsiegelsvensson</code> creates a <code>NelsonSiegelSvensson</code>
interpolation object.
The arguments <code>beta1</code>, <code>beta2</code>, <code>beta3</code>, <code>beta4</code>, <code>lambda1</code>, <code>lambda2</code> are
the paremeters of Svensson's extension to Nelson-Siegel the model for
term structure.
</p>


<h3>Value</h3>

<p>An <code>Interpolation</code> object.
That object knows the interpolation method but doesn't have the data
points.
When the <code>Interpolation</code> is set to the curve with <code style="white-space: pre;">&#8288;interpolation&lt;-&#8288;</code>
the interpolation engine is properly configured.
</p>


<h3>References</h3>

<p>Charles R. Nelson and Andrew F. Siegel (1987), The Journal of Business
</p>
<p>Lars E.O. Svensson (1994), National Bureau of Economic Research
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)

curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")

interpolation(curve) &lt;- interp_flatforward()

curve[[1:10]]
</code></pre>

<hr>
<h2 id='maturities'>Get SpotRateCurve terms as Date objects</h2><span id='topic+maturities'></span>

<h3>Description</h3>

<p>Compute the SpotRateCurve terms as Date objects, according to the curve's
reference date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maturities(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="maturities_+3A_x">x</code></td>
<td>
<p>a SpotRateCurve object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>Date</code> objects that represent the curve's <code>terms</code> and using
curve's <code>refdate</code> as a starting point.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
maturities(curve)
</code></pre>

<hr>
<h2 id='parameters'>Get parameters of the interpolation models</h2><span id='topic+parameters'></span><span id='topic+parameters+2CNelsonSiegel-method'></span><span id='topic+parameters+2CNelsonSiegelSvensson-method'></span>

<h3>Description</h3>

<p>Gets parameters of parametric interpolation models like
<a href="#topic+NelsonSiegel-class">NelsonSiegel</a> and <a href="#topic+NelsonSiegelSvensson-class">NelsonSiegelSvensson</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parameters(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parameters_+3A_x">x</code></td>
<td>
<p>a Interpolation object.</p>
</td></tr>
<tr><td><code id="parameters_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector with parameters of the models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
model &lt;- fit_interpolation(interp_nelsonsiegel(0.1, 0.01, 0.01, 0.01), curve)
parameters(model)
</code></pre>

<hr>
<h2 id='prepare_interpolation'>Create the interpolation function</h2><span id='topic+prepare_interpolation'></span><span id='topic+prepare_interpolation+2CFlatForward+2CSpotRateCurve-method'></span><span id='topic+prepare_interpolation+2CHermiteSpline+2CSpotRateCurve-method'></span><span id='topic+prepare_interpolation+2CLinear+2CSpotRateCurve-method'></span><span id='topic+prepare_interpolation+2CLogLinear+2CSpotRateCurve-method'></span><span id='topic+prepare_interpolation+2CMonotoneSpline+2CSpotRateCurve-method'></span><span id='topic+prepare_interpolation+2CNaturalSpline+2CSpotRateCurve-method'></span><span id='topic+prepare_interpolation+2CNelsonSiegel+2CSpotRateCurve-method'></span><span id='topic+prepare_interpolation+2CNelsonSiegelSvensson+2CSpotRateCurve-method'></span>

<h3>Description</h3>

<p>Creates the interpolation function to a SpotRateCurve object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_interpolation(object, x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_interpolation_+3A_object">object</code></td>
<td>
<p>a Interpolation object.</p>
</td></tr>
<tr><td><code id="prepare_interpolation_+3A_x">x</code></td>
<td>
<p>a SpotRateCurve object.</p>
</td></tr>
<tr><td><code id="prepare_interpolation_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.
</p>
<p>This method is used internally when the interpolation is set to a curve.
It uses the current state of the curve to build the interpolation function.
This is similar to call <code>approxfun</code> and <code>splinefun</code> to create functions that
perform interpolation of the given data points.
</p>
<p>This method shouldn't be directly called, it is for internal use only.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Interpolation</code> object with the slot <code>func</code> properly defined.
This slot is set with a <code>function</code> (closure) that executes
the interpolation method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
prepare_interpolation(interp_flatforward(), curve)
</code></pre>

<hr>
<h2 id='shift'>Shift vectors</h2><span id='topic+shift'></span><span id='topic+shift+2CTerm-method'></span><span id='topic+shift+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Element wise shift of vectors by <code>k</code> positions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shift(x, k = 1, ..., fill = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shift_+3A_x">x</code></td>
<td>
<p>a vector object.</p>
</td></tr>
<tr><td><code id="shift_+3A_k">k</code></td>
<td>
<p>a numeric with the number of elements to shift the Term vector</p>
</td></tr>
<tr><td><code id="shift_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
<tr><td><code id="shift_+3A_fill">fill</code></td>
<td>
<p>a numeric value (or <code>NA</code>) to fill the empty created by
shifting a vector object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A shifted vector object of the same type of provided object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>shift(1:10, fill = 0)

t &lt;- term(1:10, "months")
shift(t)
</code></pre>

<hr>
<h2 id='spotrate'>Create SpotRate objects</h2><span id='topic+spotrate'></span>

<h3>Description</h3>

<p><code>spotrate()</code> function creates <code>SpotRate</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spotrate(x, compounding, daycount, calendar, .copyfrom = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spotrate_+3A_x">x</code></td>
<td>
<p>a numeric vector representing spot rate values.</p>
</td></tr>
<tr><td><code id="spotrate_+3A_compounding">compounding</code></td>
<td>
<p>a <code>Compounding</code> object.</p>
</td></tr>
<tr><td><code id="spotrate_+3A_daycount">daycount</code></td>
<td>
<p>a <code>Daycount</code> object.</p>
</td></tr>
<tr><td><code id="spotrate_+3A_calendar">calendar</code></td>
<td>
<p>a <code>bizdays</code> calendar.</p>
</td></tr>
<tr><td><code id="spotrate_+3A_.copyfrom">.copyfrom</code></td>
<td>
<p>a <code>SpotRate</code> object used as reference to copy
attributes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SpotRate</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spotrate(0.06, "continuous", "actual/365", "actual")
spotrate(c(0.06, 0.07, 0.08), "continuous", "actual/365", "actual")
</code></pre>

<hr>
<h2 id='SpotRate-class'>SpotRate class</h2><span id='topic+SpotRate-class'></span>

<h3>Description</h3>

<p>The <code>SpotRate</code> class abstracts the interst rate and has methods
to handle many calculations on it.
</p>


<h3>Details</h3>

<p>The <code>SpotRate</code> class fully specifies spot rates.
It has:
</p>

<ul>
<li><p> the spot rate values which are numeric values representing the rate.
</p>
</li>
<li><p> the compounding regime that specifies how to compound the spot
rate. This is a <code>Compounding</code> object.
</p>
</li>
<li><p> the daycount rule to compute the compounding periods right
adjusted to the spot rate frequency.
</p>
</li>
<li><p> the calendar according to which the number of days are counted.
</p>
</li></ul>

<p>The <code>SpotRate</code> class is a <code>numeric</code>, that represents the
interest rate and that has the slots: <code>compounding</code>, <code>daycount</code>
and <code>calendar</code>.
</p>
<p>For example, an annual simple interest rate of 6%, that compounds in
calendar days, is defined as follows:
</p>
<div class="sourceCode r"><pre>sr_simple &lt;- spotrate(0.06, "simple", "actual/360", "actual")
sr_simple
#&gt; [1] "0.06 simple actual/360 actual"
</pre></div>
<p><code>actual/360</code> is the daycount rule and <code>actual</code> is the calendar.
</p>
<p>Differently, an annual compound interest rate of 10%, that compounds
in business days according to calendar <code>Brazil/ANBIMA</code> is
</p>
<div class="sourceCode r"><pre>sr_disc &lt;- spotrate(0.1, "discrete", "business/252", "Brazil/ANBIMA")
sr_disc
#&gt; [1] "0.1 discrete business/252 Brazil/ANBIMA"
</pre></div>
<p>The <code>calendar</code> slot is a <code>bizdays</code> calendar.
</p>
<p>An $100,000 investment in an instrument that pays that interst rate for 5
years has the future value.
</p>
<div class="sourceCode r"><pre>100000 * compound(sr_disc, term(5, "years"))
#&gt; [1] 161051
</pre></div>
<p>for the simple interest rate we have
</p>
<div class="sourceCode r"><pre>100000 * compound(sr_simple, term(5, "years"))
#&gt; [1] 130000
</pre></div>
<p>SpotRate objects can be created with vectors
</p>
<div class="sourceCode r"><pre>rates &lt;- c(1.69, 0.16, 0.07, 0.72, 0.10, 1.60, 0.18, 1.56, 0.60, 1.69)
sr_vec &lt;- spotrate(rates, "discrete", "business/252", "Brazil/ANBIMA")
sr_vec
#&gt;  [1] "1.69 discrete business/252 Brazil/ANBIMA"
#&gt;  [2] "0.16 discrete business/252 Brazil/ANBIMA"
#&gt;  [3] "0.07 discrete business/252 Brazil/ANBIMA"
#&gt;  [4] "0.72 discrete business/252 Brazil/ANBIMA"
#&gt;  [5] "0.10 discrete business/252 Brazil/ANBIMA"
#&gt;  [6] "1.60 discrete business/252 Brazil/ANBIMA"
#&gt;  [7] "0.18 discrete business/252 Brazil/ANBIMA"
#&gt;  [8] "1.56 discrete business/252 Brazil/ANBIMA"
#&gt;  [9] "0.60 discrete business/252 Brazil/ANBIMA"
#&gt; [10] "1.69 discrete business/252 Brazil/ANBIMA"
</pre></div>
<p>and can be put into a <code>data.frame</code>
</p>
<div class="sourceCode r"><pre>data.frame(spot_rate = sr_vec)
#&gt;                                   spot_rate
#&gt; 1  1.69 discrete business/252 Brazil/ANBIMA
#&gt; 2  0.16 discrete business/252 Brazil/ANBIMA
#&gt; 3  0.07 discrete business/252 Brazil/ANBIMA
#&gt; 4  0.72 discrete business/252 Brazil/ANBIMA
#&gt; 5  0.10 discrete business/252 Brazil/ANBIMA
#&gt; 6  1.60 discrete business/252 Brazil/ANBIMA
#&gt; 7  0.18 discrete business/252 Brazil/ANBIMA
#&gt; 8  1.56 discrete business/252 Brazil/ANBIMA
#&gt; 9  0.60 discrete business/252 Brazil/ANBIMA
#&gt; 10 1.69 discrete business/252 Brazil/ANBIMA
</pre></div>
<p>once in a <code>data.frame</code>, dplyr verbs can be used to manipulate it.
</p>
<div class="sourceCode r"><pre>require(dplyr, warn.conflicts = FALSE)
#&gt; Loading required package: dplyr

data.frame(spot_rate = sr_vec) |&gt;
   mutate(comp = compound(spot_rate, term(5, "months")))
#&gt;                                   spot_rate     comp
#&gt; 1  1.69 discrete business/252 Brazil/ANBIMA 1.510301
#&gt; 2  0.16 discrete business/252 Brazil/ANBIMA 1.063794
#&gt; 3  0.07 discrete business/252 Brazil/ANBIMA 1.028592
#&gt; 4  0.72 discrete business/252 Brazil/ANBIMA 1.253536
#&gt; 5  0.10 discrete business/252 Brazil/ANBIMA 1.040512
#&gt; 6  1.60 discrete business/252 Brazil/ANBIMA 1.489037
#&gt; 7  0.18 discrete business/252 Brazil/ANBIMA 1.071398
#&gt; 8  1.56 discrete business/252 Brazil/ANBIMA 1.479449
#&gt; 9  0.60 discrete business/252 Brazil/ANBIMA 1.216326
#&gt; 10 1.69 discrete business/252 Brazil/ANBIMA 1.510301
</pre></div>
<p>SpotRate is <code>numeric</code>, so it executes arithmetic and comparison operations
with <code>numeric</code> objects.
</p>
<div class="sourceCode r"><pre>data.frame(spot_rate = sr_vec) |&gt;
   mutate(
     new_spot_rate = spot_rate + 0.02,
     check_gt_1pp = spot_rate &gt; 0.01,
     check_gt_nsr = spot_rate &gt; new_spot_rate
   )
#&gt;                                   spot_rate
#&gt; 1  1.69 discrete business/252 Brazil/ANBIMA
#&gt; 2  0.16 discrete business/252 Brazil/ANBIMA
#&gt; 3  0.07 discrete business/252 Brazil/ANBIMA
#&gt; 4  0.72 discrete business/252 Brazil/ANBIMA
#&gt; 5  0.10 discrete business/252 Brazil/ANBIMA
#&gt; 6  1.60 discrete business/252 Brazil/ANBIMA
#&gt; 7  0.18 discrete business/252 Brazil/ANBIMA
#&gt; 8  1.56 discrete business/252 Brazil/ANBIMA
#&gt; 9  0.60 discrete business/252 Brazil/ANBIMA
#&gt; 10 1.69 discrete business/252 Brazil/ANBIMA
#&gt;                               new_spot_rate check_gt_1pp check_gt_nsr
#&gt; 1  1.71 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 2  0.18 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 3  0.09 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 4  0.74 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 5  0.12 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 6  1.62 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 7  0.20 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 8  1.58 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 9  0.62 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 10 1.71 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
</pre></div>
<p>SpotRate vectors also are created with the concatenation function <code>c</code>.
</p>
<div class="sourceCode r"><pre>c(sr_disc, 0.1, 0.13, 0.14, 0.15)
#&gt; [1] "0.10 discrete business/252 Brazil/ANBIMA"
#&gt; [2] "0.10 discrete business/252 Brazil/ANBIMA"
#&gt; [3] "0.13 discrete business/252 Brazil/ANBIMA"
#&gt; [4] "0.14 discrete business/252 Brazil/ANBIMA"
#&gt; [5] "0.15 discrete business/252 Brazil/ANBIMA"
</pre></div>
<p>Furtherly, all indexing operations of numeric objects are supported by
SpotRate objects.
</p>


<h4>Invalid Operations</h4>

<p>Operations involving SpotRate objects with different <code>compounding</code>,
<code>daycount</code> or <code>calendar</code>, raise errors.
</p>
<p>This happens with the following operations:
</p>

<ul>
<li><p> Compare: &gt;, &lt;, &lt;=, &gt;=
</p>
</li>
<li><p> Arithmetic: +, -, *, /
</p>
</li>
<li><p> Concatenation: <code>c</code>
</p>
</li></ul>

<div class="sourceCode r"><pre>try(sr_simple + sr_disc)
#&gt; Error in stop_if_spotrate_slots_differ(e1, e2, "SpotRate objects have different slots") : 
#&gt;   SpotRate objects have different slots
try(sr_simple &gt; sr_disc)
#&gt; Error in stop_if_spotrate_slots_differ(e1, e2, "SpotRate objects have different slots") : 
#&gt;   SpotRate objects have different slots
try(c(sr_simple, sr_disc))
#&gt; Error in stop_if_spotrate_slots_differ(x, values_, "SpotRate objects have different slots") : 
#&gt;   SpotRate objects have different slots
</pre></div>



<h3>Note</h3>

<p>The <code>SpotRate</code> objects are annual rates.
</p>

<hr>
<h2 id='spotrate-compare-method'>SpotRate comparison operations</h2><span id='topic+spotrate-compare-method'></span><span id='topic++3E+3D+2CSpotRate+2CSpotRate-method'></span><span id='topic++3C+3D+2CSpotRate+2CSpotRate-method'></span><span id='topic++3C+2CSpotRate+2CSpotRate-method'></span><span id='topic++3E+2CSpotRate+2CSpotRate-method'></span><span id='topic++3D+3D+2CSpotRate+2CSpotRate-method'></span><span id='topic++21+3D+2CSpotRate+2CSpotRate-method'></span><span id='topic+Compare+2CSpotRate+2Cnumeric-method'></span><span id='topic+Compare+2Cnumeric+2CSpotRate-method'></span>

<h3>Description</h3>

<p>Comparison operations with SpotRate class
<code>SpotRate</code> objects can be compared among themselves or with numeric
variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SpotRate,SpotRate'
e1 &gt;= e2

## S4 method for signature 'SpotRate,SpotRate'
e1 &lt;= e2

## S4 method for signature 'SpotRate,SpotRate'
e1 &lt; e2

## S4 method for signature 'SpotRate,SpotRate'
e1 &gt; e2

## S4 method for signature 'SpotRate,SpotRate'
e1 == e2

## S4 method for signature 'SpotRate,SpotRate'
e1 != e2

## S4 method for signature 'SpotRate,numeric'
Compare(e1, e2)

## S4 method for signature 'numeric,SpotRate'
Compare(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spotrate-compare-method_+3A_e1">e1</code></td>
<td>
<p>a <code>SpotRate</code> object or a numeric</p>
</td></tr>
<tr><td><code id="spotrate-compare-method_+3A_e2">e2</code></td>
<td>
<p>a <code>SpotRate</code> object or a numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A boolean <code>logical</code> object.
The comparison with <code>SpotRate</code> objects only takes all fields
into account.
Comparing <code>SpotRate</code> against numeric values is equivalent to
coerce the <code>SpotRate</code> object to numeric execute the operation,
this is a syntax sugar for a shortcut that is commonly applied.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
spr &lt;- as.spotrate("0.06 simple actual/365 actual")
spr == 0.06
spr != 0.05
spr &gt; 0.05
spr &lt; 0.1
spr &gt;= 0.05
spr &lt;= 0.1

spr1 &lt;- spotrate(0.06, "simple", "actual/365", "actual")
spr2 &lt;- spotrate(0.02, "simple", "actual/365", "actual")
spr1 == spr2
spr1 != spr2
spr1 &gt; spr2
spr1 &lt; spr2
spr1 &gt;= spr2
spr1 &lt;= spr2

# compare spotrate with different slots
spr2 &lt;- spotrate(0.06, "discrete", "actual/365", "actual")
spr1 == spr2
spr1 != spr2
try(spr1 &gt; spr2)
try(spr1 &lt; spr2)
try(spr1 &gt;= spr2)
try(spr1 &lt;= spr2)

</code></pre>

<hr>
<h2 id='spotratecurve'>Create a SpotRateCurve object</h2><span id='topic+spotratecurve'></span><span id='topic+spotratecurve.numeric'></span><span id='topic+spotratecurve.SpotRate'></span>

<h3>Description</h3>

<p><code>spotratecurve()</code> S3 method createas a SpotRateCurve object.
It is dispatched for numeric values, that represent spot rates and
for SpotRate objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spotratecurve(x, terms, ..., refdate = Sys.Date())

## S3 method for class 'numeric'
spotratecurve(
  x,
  terms,
  compounding,
  daycount,
  calendar,
  refdate = Sys.Date(),
  .copyfrom = NULL,
  ...
)

## S3 method for class 'SpotRate'
spotratecurve(x, terms, refdate = Sys.Date(), .copyfrom = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spotratecurve_+3A_x">x</code></td>
<td>
<p>a numeric representing a spot rate value or a SpotRate object.</p>
</td></tr>
<tr><td><code id="spotratecurve_+3A_terms">terms</code></td>
<td>
<p>a numeric vector with positive values representing the days of
the term structure.</p>
</td></tr>
<tr><td><code id="spotratecurve_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="spotratecurve_+3A_refdate">refdate</code></td>
<td>
<p>the curve reference date.</p>
</td></tr>
<tr><td><code id="spotratecurve_+3A_compounding">compounding</code></td>
<td>
<p>a character with the compouning name.</p>
</td></tr>
<tr><td><code id="spotratecurve_+3A_daycount">daycount</code></td>
<td>
<p>a character representing the daycount.</p>
</td></tr>
<tr><td><code id="spotratecurve_+3A_calendar">calendar</code></td>
<td>
<p>a calendar object.</p>
</td></tr>
<tr><td><code id="spotratecurve_+3A_.copyfrom">.copyfrom</code></td>
<td>
<p>a SpotRate object that is used as reference to build
the SpotRateCurve object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SpotRateCurve</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)

curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")

# access the term 11 days
curve[[11]]

# access the second element
curve[2]
</code></pre>

<hr>
<h2 id='SpotRateCurve-class'>SpotRateCurve class</h2><span id='topic+SpotRateCurve-class'></span>

<h3>Description</h3>

<p>The SpotRateCurve class abstracts a term structure of SpotRate objects.
The SpotRateCurve has a reference date (<code>refdate</code> slot), that is a
mark to market date.
The SpotRates are indexed to future dates according to its reference date
and these future dates represent the terms of the SpotRateCurve.
</p>


<h3>Details</h3>

<p>Once the SpotRateCurve object is built, any SpotRate can be accessed
using indexing operations: <code>[]</code> positional indexing, <code>[[]]</code>
term indexing.
</p>
<p>The SpotRateCurve inherits SpotRate class and has three slots:
terms that is a Term object, refdate and interpolation that defines the
method used to interpolate the curve.
</p>

<hr>
<h2 id='spotratecurve-helpers'>SpotRateCurve helpers</h2><span id='topic+spotratecurve-helpers'></span><span id='topic+closest+2CSpotRateCurve+2CTerm-method'></span><span id='topic+closest+2CSpotRateCurve+2Ccharacter-method'></span><span id='topic+first+2CSpotRateCurve+2CTerm-method'></span><span id='topic+first+2CSpotRateCurve+2Ccharacter-method'></span><span id='topic+last+2CSpotRateCurve+2CTerm-method'></span><span id='topic+last+2CSpotRateCurve+2Ccharacter-method'></span><span id='topic+first'></span><span id='topic+last'></span><span id='topic+closest'></span>

<h3>Description</h3>

<p>Helpers methods that return parts of a SpotRateCurve object according to a
given term.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>first(x, t)

last(x, t)

closest(x, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spotratecurve-helpers_+3A_x">x</code></td>
<td>
<p>a SpotRateCurve object.</p>
</td></tr>
<tr><td><code id="spotratecurve-helpers_+3A_t">t</code></td>
<td>
<p>a Term object.
</p>
<p><code>first</code> filters the first elements of the SpotRateCurve according to the
given term.
</p>
<p><code>last</code> filters the last elements of the SpotRateCurve according to the
given term.
</p>
<p><code>closest</code> selects the element of the SpotRateCurve that is the closest to
the given term.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SpotRateCurve</code> object that is a subset of the given curve.
The elements returned are select according to the operation executed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>terms &lt;- c(1, 11, 26, 27, 28)
rates &lt;- c(0.0719, 0.056, 0.0674, 0.0687, 0.07)
curve &lt;- spotratecurve(rates, terms, "discrete", "actual/365", "actual")
first(curve, "10 days")
last(curve, "10 days")
closest(curve, "10 days")
</code></pre>

<hr>
<h2 id='term'>Create Term class</h2><span id='topic+term'></span><span id='topic+term.numeric'></span><span id='topic+term.Term'></span><span id='topic+term.Date'></span>

<h3>Description</h3>

<p><code>term()</code> creates a Term object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>term(x, ...)

## S3 method for class 'numeric'
term(x, units = "days", ...)

## S3 method for class 'Term'
term(x, ...)

## S3 method for class 'Date'
term(x, end_date, calendar, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="term_+3A_x">x</code></td>
<td>
<p>can be a numeric value representing the time period, a Term object,
or the initial date for a period between two dates.</p>
</td></tr>
<tr><td><code id="term_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="term_+3A_units">units</code></td>
<td>
<p>one of the valid <code>units</code>: <code>days</code>, <code>monts</code>,
<code>years</code>.</p>
</td></tr>
<tr><td><code id="term_+3A_end_date">end_date</code></td>
<td>
<p>the final date for a period between two dates.</p>
</td></tr>
<tr><td><code id="term_+3A_calendar">calendar</code></td>
<td>
<p>the calendar used to compute the amount of days for a period
between two dates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Term</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>term(6, "months")
if (require("bizdays")) {
  term(as.Date("2022-02-02"), as.Date("2022-02-23"), "Brazil/ANBIMA")
}
</code></pre>

<hr>
<h2 id='Term-class'>Term class</h2><span id='topic+Term-class'></span><span id='topic+DateRangeTerm-class'></span>

<h3>Description</h3>

<p>It is the time interval used in calculations with interest rates.
The Term class represents the period used to discount or compound a spot
rate.
</p>


<h3>Details</h3>

<p>The Term object is defined by its numeric value and its unit, that can be
<code>"days"</code>, <code>"months"</code> or <code>"years"</code>.
For example:
</p>
<div class="sourceCode r"><pre>term(6, "months")
#&gt; [1] "6 months"
</pre></div>
<p>It represents a period of 6 months.
The Term object can also be created from a string representation of a Term.
</p>
<div class="sourceCode r"><pre>as.term("6 months")
#&gt; [1] "6 months"
</pre></div>
<p>Since the Term object inherits from a <code>numeric</code>, it inherits all numeric
operations.
Numeric values can be summed or subtracted from a Term object numeric part.
</p>
<div class="sourceCode r"><pre>term(1, "days") + 1
#&gt; [1] "2 days"
</pre></div>
<p>Arithmetic and comparison operations between Term object are not implemented,
so these operations raise an error.
</p>
<div class="sourceCode r"><pre>try(term(1, "days") + term(2 , "days"))
#&gt; Error in term(1, "days") + term(2, "days") : Not implemented
</pre></div>


<h4>DateRangeTerm objects</h4>

<p>The DateRangeTerm class inherits Term and defines start and end dates
and a calendar to count the amount of working days between these two dates.
This is a Term between two dates.
</p>
<div class="sourceCode r"><pre>term(Sys.Date() - 5, Sys.Date(), "Brazil/ANBIMA")
#&gt; [1] "3 days"
</pre></div>
<p>In financial markets it is fairly usual to evaluate interest rates between
two dates.
</p>


<hr>
<h2 id='term-conversion'>Convert Term in different units</h2><span id='topic+term-conversion'></span><span id='topic+toyears+2CDaycount+2CTerm-method'></span><span id='topic+tomonths+2CDaycount+2CTerm-method'></span><span id='topic+todays+2CDaycount+2CTerm-method'></span><span id='topic+toyears'></span><span id='topic+tomonths'></span><span id='topic+todays'></span>

<h3>Description</h3>

<p><code>toyears</code>, <code>tomonths</code> and <code>todays</code> functions convert Term objects according
to Daycount.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toyears(x, t)

tomonths(x, t)

todays(x, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="term-conversion_+3A_x">x</code></td>
<td>
<p>a Daycount object.</p>
</td></tr>
<tr><td><code id="term-conversion_+3A_t">t</code></td>
<td>
<p>a Term object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>toyears</code> returns the given Term in years units.
<code>tomonths</code> returns the given Term in months units.
<code>todays</code> returns the given Term in days units.
</p>


<h3>Value</h3>

<p>A Term object converted to the units accordingly the used function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dc &lt;- daycount("actual/360")
t &lt;- term(10, "months")
toyears(dc, t)
tomonths(dc, t)
todays(dc, t)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

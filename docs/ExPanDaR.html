<!DOCTYPE html><html><head><title>Help for package ExPanDaR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ExPanDaR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ExPanD'><p>Explore Your Data (ExPanD)</p></a></li>
<li><a href='#ExPanD_config_russell_3000'><p>Default Configuration to use with ExPanD and the Russell 3000 Data Set</p></a></li>
<li><a href='#ExPanD_config_worldbank'><p>Default Configuration to Use with ExPanD and the <code>worldbank</code> Data Set</p></a></li>
<li><a href='#ExPanDaR'><p>ExPanDaR: Explore Panel Data with R</p></a></li>
<li><a href='#prepare_by_group_bar_graph'><p>Prepares a by Group Bar Graph</p></a></li>
<li><a href='#prepare_by_group_trend_graph'><p>Prepares a By Group Trend Graph</p></a></li>
<li><a href='#prepare_by_group_violin_graph'><p>Prepares a by Group Violin Graph</p></a></li>
<li><a href='#prepare_correlation_graph'><p>Prepares a Correlation Graph</p></a></li>
<li><a href='#prepare_correlation_table'><p>Prepares a Correlation Table</p></a></li>
<li><a href='#prepare_descriptive_table'><p>Prepares a Table of Descriptive Statistics</p></a></li>
<li><a href='#prepare_ext_obs_table'><p>Prepares a Table Displaying Extreme Observations</p></a></li>
<li><a href='#prepare_missing_values_graph'><p>Prepares a Graph Displaying Missing Values in Panel Data</p></a></li>
<li><a href='#prepare_quantile_trend_graph'><p>Prepares a Quantile Trend Graph</p></a></li>
<li><a href='#prepare_regression_table'><p>Prepares a Regression Table</p></a></li>
<li><a href='#prepare_scatter_plot'><p>Prepares a Scatter Plot</p></a></li>
<li><a href='#prepare_trend_graph'><p>Prepares a Trend Graph</p></a></li>
<li><a href='#russell_3000'><p>Annual Financial Accounting and Stock Return Data for a Sample of Russell 3000 Firms (2013-2016)</p></a></li>
<li><a href='#russell_3000_data_def'><p>Data Definitions for <code>russell_3000</code> Data Set</p></a></li>
<li><a href='#treat_outliers'><p>Treats Outliers in Numerical Data</p></a></li>
<li><a href='#worldbank'><p>A Snapshot of Macroeconomic Data as Provided by the World Bank API (1960 - 2018)</p></a></li>
<li><a href='#worldbank_data_def'><p>Data Definitions for <code>worldbank</code> Data Set</p></a></li>
<li><a href='#worldbank_var_def'><p>Variable Definitions to Construct an Analysis Sample Based on the <code>worldbank</code> Data Set</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Explore Your Data Interactively</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a shiny-based front end (the 'ExPanD' app) and
    a set of functions for exploratory data analysis. Run as a web-based 
    app, 'ExPanD' enables users to assess the robustness of empirical evidence 
    without providing them access to the underlying data. You can export a 
    notebook containing the analysis of 'ExPanD' and/or use the functions of the 
    package to support your exploratory data analysis workflow. Refer to the 
    vignettes of the package for more information on how to use 'ExPanD' and/or 
    the functions of this package.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://joachim-gassen.github.io/ExPanDaR/">https://joachim-gassen.github.io/ExPanDaR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/joachim-gassen/ExPanDaR/issues">https://github.com/joachim-gassen/ExPanDaR/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>tidyr, dplyr, ggplot2, corrplot, multiwayvcov, lmtest, plm,
stargazer, scales, shiny, DT, openssl, tictoc, shinycssloaders,
kableExtra, rio, zip, rlang</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gapminder, rmarkdown, htmltools, knitr, devtools</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-12-06 13:02:10 UTC; joachim</td>
</tr>
<tr>
<td>Author:</td>
<td>Joachim Gassen <a href="https://orcid.org/0000-0003-4364-2911"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joachim Gassen &lt;gassen@wiwi.hu-berlin.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-12-06 23:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='ExPanD'>Explore Your Data (ExPanD)</h2><span id='topic+ExPanD'></span>

<h3>Description</h3>

<p>A shiny based web app that uses ExPanDaR functionality for
interactive data exploration. Designed for long-form panel data but works on
simple cross-sectional data as well.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ExPanD(
  df = NULL,
  cs_id = NULL,
  ts_id = NULL,
  df_def = NULL,
  var_def = NULL,
  config_list = NULL,
  title = "ExPanD - Explore your data!",
  abstract = NULL,
  df_name = deparse(substitute(df)),
  long_def = TRUE,
  factor_cutoff = 10L,
  components = c(sample_selection = TRUE, subset_factor = TRUE, grouping = TRUE,
    bar_chart = TRUE, missing_values = TRUE, udvars = TRUE, descriptive_table = TRUE,
    histogram = TRUE, ext_obs = TRUE, by_group_bar_graph = TRUE, by_group_violin_graph =
    TRUE, trend_graph = TRUE, quantile_trend_graph = TRUE, by_group_trend_graph = TRUE,
    corrplot = TRUE, scatter_plot = TRUE, regression = TRUE),
  html_blocks = NULL,
  export_nb_option = FALSE,
  store_encrypted = FALSE,
  key_phrase = "What a wonderful key",
  debug = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ExPanD_+3A_df">df</code></td>
<td>
<p>A data frame or a list of data frames containing the data that
you want to explore. If NULL, ExPanD will start up with a file upload
dialog.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_cs_id">cs_id</code></td>
<td>
<p>A character vector containing the names of the variables that
identify the cross-section in your data. If only <code>cs_id</code> and not
<code>ts_id</code> is provided, the data is treated as cross-sectional, and only
appropriate displays are included. <code>df_def</code> overrides if provided.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_ts_id">ts_id</code></td>
<td>
<p>A character scalar identifying the name of
the variable that identifies the time series in your data. The according
variable needs to be coercible to an ordered vector.
If you provide a time series indicator that already is an ordered vector,
ExPanD will verify that it has the same levels for each data frame
and throw an error otherwise. If <code>cs_id</code> and <code>ts_id</code> are not
provided either directly of by <code>df_def</code>, the data is treated as
cross-sectional,observations are identified by row names and
only appropriate displays are included. <code>df_def</code> overrides if
provided.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_df_def">df_def</code></td>
<td>
<p>An optional dataframe (or a list of dataframes) containing
variable names, definitions and types. If NULL (the default) ExPanD
uses <code>cs_id</code> and <code>ts_id</code> to identify the data structure and
determines the variable types (factor, numeric, logical) based on the
classes of the data. See the details section for further information.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_var_def">var_def</code></td>
<td>
<p>If you specify here a dataframe containing variable names and
variable definitions, ExPanD will use these on the provided sample(s) to
create the analysis sample. See the details section
for the structure of the <code>var_def</code> dataframe. If NULL (default)
the sample(s) provided by <code>df</code> will be used as analysis sample(s)
directly.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_config_list">config_list</code></td>
<td>
<p>a list containing the startup configuration for ExPanD to
display. Take a look at <code>data(ExPanD_config_russell_3000)</code> for the
format. The easiest way to generate a config list is to customize the
display within the app and then save the configuration locally.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_title">title</code></td>
<td>
<p>the title to display in the shiny web app.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_abstract">abstract</code></td>
<td>
<p>An introductory text to display in the shiny web app. Needs
to be formatted as clean HTML.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_df_name">df_name</code></td>
<td>
<p>A character string or a vector of character strings
characterizing the dataframe(s) provided in <code>df</code> (will be used in the
selection menu of the app)</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_long_def">long_def</code></td>
<td>
<p>If you set this to TRUE (default) and are providing a
<code>var_def</code> then ExPanD will add the definitions of the used variables
of the underlying dataframe to the definitions provided for the analysis
sample to make these more informative to the user.
If set to FALSE only the variable definitions provided in the
<code>var_def</code> sample will be provided to the user.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_factor_cutoff">factor_cutoff</code></td>
<td>
<p>ExPanD treats factors different from numerical variables.
Factors are available for sub-sampling data and for certain plots.
Each variable classified as such will be treated as a factor. In addition,
ExPanD classifies all logical values and all numerical values with less or
equal than <code>factor_cutoff</code> unique values as a factor.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_components">components</code></td>
<td>
<p>A named logical vector indicating the components that you want
ExPanD to generate and their order. See the function head of <code>ExpanD</code>
for the list of available components. By default, all components are reported.
You can also exclude selected components from the standard order by setting
then to <code>FALSE</code>. In addition, you can include an arbitrary number of
<code>html_block</code> components. Each block will render clean HTML code as contained in
the <code>html_blocks</code> parameter below. This allows you to customize your
ExPanD report.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_html_blocks">html_blocks</code></td>
<td>
<p>A character vector containing the clean HTML code for each
<code>html_block</code> that is included in <code>components</code>.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_export_nb_option">export_nb_option</code></td>
<td>
<p>Do you want to give the user the option to download your
data and an R notebook containing code for the analyses that <code>ExPanD</code> displays?
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_store_encrypted">store_encrypted</code></td>
<td>
<p>Do you want the user-side saved config files to be
encrypted? A security measure to avoid that users can inject arbitrary code
in the config list. Probably a good idea when you are hosting sensitive data
on a publicly available server.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_key_phrase">key_phrase</code></td>
<td>
<p>The key phrase to use for encryption.
Change this from the default if you want to encrypt the config files.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_debug">debug</code></td>
<td>
<p>Do you want ExPanD to echo some debug timing information to the
console/log file and to store some diagnostics to the global environment?
Probably not.</p>
</td></tr>
<tr><td><code id="ExPanD_+3A_...">...</code></td>
<td>
<p>Additional parameters that are passed on to
<code><a href="shiny.html#topic+runApp">runApp</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you start ExPanD without any options, it will start with an upload
dialog so that the user (e.g., you) can upload a data file
for analysis. Supported formats are as provided
by the <code>rio</code> package.
</p>
<p>When you start ExPanD with a dataframe as the only parameter, it will assume
the data to be cross-sectional and will use its row names as the
cross-sectional identifier.
</p>
<p>When you have panel data in long format, set the <code>ts_id</code> and
<code>cs_id</code> parameters to identify the variables that determine
the time series and cross-sectional dimensions.
</p>
<p>If you provide variable definitions in <code>df_def</code> and/or <code>var_def</code>,
ExPanD displays these as tooltips in the descriptive table of the
ExPanD app. In this case, you need to identify the panel dimensions in the
variable definitions (see below).
</p>
<p>When you provide more than one data frame in <code>df</code>, make sure that all have
the same variables and variable types defined. If not, ExPanD will throw
an error. When you provide only one <code>df_def</code> for multiple data frames,
<code>df_def</code> will be recycled.
</p>
<p>When you provide <code>var_def</code>, ExPanD starts up in the &quot;advanced mode&quot;. The
advanced mode uses (a) base sample(s) (the one(s) you provide via <code>df</code>)
and the variable definitions in <code>var_def</code> to generate an analysis
sample based on the active base sample. In the advanced mode, the app user
can delete variables from the analysis sample within the app.
</p>
<p>A <code>df_def</code> or <code>var_def</code> dataframe can contain the following
variables
</p>

<dl>
<dt>&quot;var_name&quot;</dt><dd><p>Required: The names of the variables
that are provided by the base sample
or are to be calculated for the analysis sample</p>
</dd>
<dt>&quot;var_def&quot;</dt><dd><p>Required: For a <code>var_def</code> data frame,
the code that is passed to the data frame
(grouped by cross-sectional units) in calls to
<code><a href="dplyr.html#topic+mutate">mutate</a></code> as right hand side
to calculate the respective variable.
For a <code>data_def</code> data frame, a string
describing the nature of the variable.</p>
</dd>
<dt>&quot;type&quot;</dt><dd><p>Required: One of the strings &quot;cs_id&quot;, &quot;ts_id&quot;, &quot;factor&quot;,
&quot;logical&quot; or &quot;numeric&quot;, indicating the type of the variable. Please note that
at least one variable has to be assigned as a cross-sectional identifier
(&quot;cs_id&quot;) and exactly one variable that is coercible into an ordered factor
has to be assigned as the time-series identifier (&quot;ts_id&quot;).</p>
</dd>
<dt>&quot;can_be_na&quot;</dt><dd><p>Optional: If included,
then all variables with this value set to FALSE are required to be non
missing in the data set. This reduces the number of observations. If missing,
it defaults to being TRUE for all variables other than cs_id and ts_id.</p>
</dd> </dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  ExPanD()

  # Use this if you want to read very large files via the file dialog
  options(shiny.maxRequestSize = 1024^3)
  ExPanD()

  # Explore cross-sectional data
  ExPanD(mtcars)

  # Include the option to download notebook code and data
  ExPanD(mtcars, export_nb_option = TRUE)

  # Use ExPanD on long-form panel data
  data(russell_3000)
  ExPanD(russell_3000, c("coid", "coname"), "period")
  ExPanD(russell_3000, df_def = russell_3000_data_def)
  ExPanD(russell_3000, df_def = russell_3000_data_def,
    components = c(ext_obs = T, descriptive_table = T, regression = T))
  ExPanD(russell_3000, df_def = russell_3000_data_def,
    components = c(missing_values = F, by_group_violin_graph = F))
  ExPanD(russell_3000, df_def = russell_3000_data_def,
    components = c(html_block = T, descriptive_table = T,
    html_block = T, regression = T),
    html_blocks = c(
    paste('&lt;div class="col-sm-2"&gt;&lt;h3&gt;HTML Block 1&lt;/h3&gt;&lt;/div&gt;',
    '&lt;div class="col-sm-10"&gt;',
    "&lt;p&gt;&lt;/p&gt;This is a condensed variant of ExPanD with two additional HTML Blocks.",
    "&lt;/div&gt;"),
    paste('&lt;div class="col-sm-2"&gt;&lt;h3&gt;HTML Block 2&lt;/h3&gt;&lt;/div&gt;',
    '&lt;div class="col-sm-10"&gt;',
    "It contains only the descriptive table and the regression component.",
    "&lt;/div&gt;")))
  data(ExPanD_config_russell_3000)
  ExPanD(df = russell_3000, df_def = russell_3000_data_def,
    config_list = ExPanD_config_russell_3000)
  exploratory_sample &lt;- sample(nrow(russell_3000), round(0.5*nrow(russell_3000)))
  test_sample &lt;- setdiff(1:nrow(russell_3000), exploratory_sample)
  ExPanD(df = list(russell_3000[exploratory_sample, ], russell_3000[test_sample, ]),
    df_def = russell_3000_data_def,
    df_name = c("Exploratory sample", "Test sample"))
  ExPanD(worldbank, df_def = worldbank_data_def, var_def = worldbank_var_def,
    config_list = ExPanD_config_worldbank)

    
## End(Not run)
</code></pre>

<hr>
<h2 id='ExPanD_config_russell_3000'>Default Configuration to use with ExPanD and the Russell 3000 Data Set</h2><span id='topic+ExPanD_config_russell_3000'></span>

<h3>Description</h3>

<p>List to use as a <code>list_config</code> parameter when starting <a href="#topic+ExPanD">ExPanD</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ExPanD_config_russell_3000)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"list"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(russell_3000)
data(russell_3000_data_def)
data(ExPanD_config_russell_3000)
## Not run: 
  ExPanD(russell_3000, df_def = russell_3000_data_def, config_list = ExPanD_config_russell_3000)

## End(Not run)
</code></pre>

<hr>
<h2 id='ExPanD_config_worldbank'>Default Configuration to Use with ExPanD and the <code>worldbank</code> Data Set</h2><span id='topic+ExPanD_config_worldbank'></span>

<h3>Description</h3>

<p>List to use as a <code>list_config</code> parameter when starting <a href="#topic+ExPanD">ExPanD</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ExPanD_config_worldbank)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"list"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(worldbank)
data(worldbank_data_def)
data(worldbank_var_def)
data(ExPanD_config_worldbank)
## Not run: 
  ExPanD(worldbank, df_def = worldbank_data_def,
    var_def = worldbank_var_def, config_list = ExPanD_config_worldbank)

## End(Not run)
</code></pre>

<hr>
<h2 id='ExPanDaR'>ExPanDaR: Explore Panel Data with R</h2><span id='topic+ExPanDaR'></span>

<h3>Description</h3>

<p>ExPanDaR provides the code base for the ExPanD web app.
ExPanD is a shiny based app supporting interactive
exploratory data analysis.
</p>


<h3>Details</h3>

<p>ExPanDaR has two main goals:
</p>

<ul>
<li><p> Enable users to assess the robustness of
empirical evidence without providing them with
access to the underlying data.
</p>
</li>
<li><p>  Provide a toolbox for researchers to explore
panel data on the fly.
</p>
</li></ul>

<p>To learn more about ExPanDaR, start with the vignettes:
<code>browseVignettes(package = "ExPanDaR")</code>
</p>

<hr>
<h2 id='prepare_by_group_bar_graph'>Prepares a by Group Bar Graph</h2><span id='topic+prepare_by_group_bar_graph'></span>

<h3>Description</h3>

<p>Reads a data frame containing a grouping factor and a numerical variable
and plots a bar graph of a given statistic of the variable
by the grouping factor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_by_group_bar_graph(
  df,
  by_var,
  var,
  stat_fun = mean,
  order_by_stat = FALSE,
  color = "red"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_by_group_bar_graph_+3A_df">df</code></td>
<td>
<p>Data frame containing the grouping factor and the numerical variable
to be plotted</p>
</td></tr>
<tr><td><code id="prepare_by_group_bar_graph_+3A_by_var">by_var</code></td>
<td>
<p>a string containing the column name of the grouping factor</p>
</td></tr>
<tr><td><code id="prepare_by_group_bar_graph_+3A_var">var</code></td>
<td>
<p>a string containing the column name of the numerical variable</p>
</td></tr>
<tr><td><code id="prepare_by_group_bar_graph_+3A_stat_fun">stat_fun</code></td>
<td>
<p>a function to be called on the numerical variable.
Will be called with <code>na.rm = TRUE</code> to ignore missing values</p>
</td></tr>
<tr><td><code id="prepare_by_group_bar_graph_+3A_order_by_stat">order_by_stat</code></td>
<td>
<p>a logical value indicating whether you want your bars to be ordered
the value of the statistic (defaults to FALSE)</p>
</td></tr>
<tr><td><code id="prepare_by_group_bar_graph_+3A_color">color</code></td>
<td>
<p>bar color</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two items:
</p>

<dl>
<dt>&quot;df&quot;</dt><dd><p>A data frame containing the statistics by group</p>
</dd>
<dt>&quot;plot&quot;</dt><dd><p>The plot as returned by <code>ggplot</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(russell_3000)
graph &lt;- prepare_by_group_bar_graph(russell_3000, "sector", "ni_sales", median)
graph$plot
</code></pre>

<hr>
<h2 id='prepare_by_group_trend_graph'>Prepares a By Group Trend Graph</h2><span id='topic+prepare_by_group_trend_graph'></span>

<h3>Description</h3>

<p>Reads a data frame and line plots the selected variables (which need to be numeric)
by group and an ordered factor (normally the time-series indicator).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_by_group_trend_graph(
  df,
  ts_id,
  group_var,
  var,
  points = TRUE,
  error_bars = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_by_group_trend_graph_+3A_df">df</code></td>
<td>
<p>Data frame containing the ordered factor and a set of numerical variables
to be plotted.</p>
</td></tr>
<tr><td><code id="prepare_by_group_trend_graph_+3A_ts_id">ts_id</code></td>
<td>
<p>a string containing the column name of the ordered factor
(normally the time-series indicator).</p>
</td></tr>
<tr><td><code id="prepare_by_group_trend_graph_+3A_group_var">group_var</code></td>
<td>
<p>a variable coercible into a factor to group the data on.</p>
</td></tr>
<tr><td><code id="prepare_by_group_trend_graph_+3A_var">var</code></td>
<td>
<p>The name of the variable that you want to plot.</p>
</td></tr>
<tr><td><code id="prepare_by_group_trend_graph_+3A_points">points</code></td>
<td>
<p>Do you want points to indicate the observations? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="prepare_by_group_trend_graph_+3A_error_bars">error_bars</code></td>
<td>
<p>Do you want error bars to be plotted? Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two items:
</p>

<dl>
<dt>&quot;df&quot;</dt><dd><p>A data frame containing the plotted means and standard errors by group</p>
</dd>
<dt>&quot;plot</dt><dd><p>The plot as returned by <code>ggplot</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- worldbank
df$gdp_capita &lt;- worldbank$NY.GDP.PCAP.KD
graph &lt;- prepare_by_group_trend_graph(df, "year", "region", "gdp_capita")
graph$plot
</code></pre>

<hr>
<h2 id='prepare_by_group_violin_graph'>Prepares a by Group Violin Graph</h2><span id='topic+prepare_by_group_violin_graph'></span>

<h3>Description</h3>

<p>Reads a data frame containing a grouping factor and a numerical variable
and plots a series of violin graphs by the grouping factor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_by_group_violin_graph(
  df,
  by_var,
  var,
  order_by_mean = FALSE,
  group_on_y = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_by_group_violin_graph_+3A_df">df</code></td>
<td>
<p>Data frame containing the grouping factor and the numerical variable
to be plotted</p>
</td></tr>
<tr><td><code id="prepare_by_group_violin_graph_+3A_by_var">by_var</code></td>
<td>
<p>a string containing the column name of the grouping factor</p>
</td></tr>
<tr><td><code id="prepare_by_group_violin_graph_+3A_var">var</code></td>
<td>
<p>a string containing the column name of the numerical variable</p>
</td></tr>
<tr><td><code id="prepare_by_group_violin_graph_+3A_order_by_mean">order_by_mean</code></td>
<td>
<p>a logical value indicating whether you want your
violins to be ordered by group means (defaults to FALSE)</p>
</td></tr>
<tr><td><code id="prepare_by_group_violin_graph_+3A_group_on_y">group_on_y</code></td>
<td>
<p>a logical value indicating whether you want your
violins to be oriented horizontally (defaults to TRUE)</p>
</td></tr>
<tr><td><code id="prepare_by_group_violin_graph_+3A_...">...</code></td>
<td>
<p>additional parameters that are passed to
<code><a href="ggplot2.html#topic+geom_violin">geom_violin</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The plot as returned by <code>ggplot2</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(russell_3000)
df &lt;- treat_outliers(russell_3000)
prepare_by_group_violin_graph(df, "sector", "nioa")
</code></pre>

<hr>
<h2 id='prepare_correlation_graph'>Prepares a Correlation Graph</h2><span id='topic+prepare_correlation_graph'></span>

<h3>Description</h3>

<p>Reads a data frame and presents Pearson correlations above
and Spearman correlations the diagonal using a fancy graph prepared
by the package <code>corrplot</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_correlation_graph(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_correlation_graph_+3A_df">df</code></td>
<td>
<p>Data frame containing at least two variables that are either numeric
or logical and at least five observations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function directly renders the graph as produced by <code>corrplot</code>.
In addition, it returns a list containing three items:
</p>

<dl>
<dt>&quot;df_corr&quot;</dt><dd><p>A data frame containing the correlations</p>
</dd>
<dt>&quot;df_prob&quot;</dt><dd><p>A data frame containing the p-values of the correlations</p>
</dd>
<dt>&quot;df_n&quot;</dt><dd><p>A data frame containing the number of observations used for the correlations</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>prepare_correlation_graph(mtcars)
</code></pre>

<hr>
<h2 id='prepare_correlation_table'>Prepares a Correlation Table</h2><span id='topic+prepare_correlation_table'></span>

<h3>Description</h3>

<p>Reads a data frame and presents Pearson correlations above the diagonal
and Spearman correlations below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_correlation_table(df, digits = 2, bold = 0.05, format = "html", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_correlation_table_+3A_df">df</code></td>
<td>
<p>Data frame containing at least two variables that are either numeric
or logical and at least five observations.</p>
</td></tr>
<tr><td><code id="prepare_correlation_table_+3A_digits">digits</code></td>
<td>
<p>The number of digits that you want to report.</p>
</td></tr>
<tr><td><code id="prepare_correlation_table_+3A_bold">bold</code></td>
<td>
<p>Indicate the p-Value for for identifying significant correlations
in bold print. Defaults to 0.05. If set to 0, no bold print is being used.</p>
</td></tr>
<tr><td><code id="prepare_correlation_table_+3A_format">format</code></td>
<td>
<p>The format that you want <code><a href="knitr.html#topic+kable">kable</a></code> to produce (&quot;html&quot; or &quot;latex&quot;)</p>
</td></tr>
<tr><td><code id="prepare_correlation_table_+3A_...">...</code></td>
<td>
<p>Additional parameters that are passed on to <code><a href="knitr.html#topic+kable">kable</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing four items:
</p>

<dl>
<dt>&quot;df_corr&quot;</dt><dd><p>A data frame containing the correlations</p>
</dd>
<dt>&quot;df_prob&quot;</dt><dd><p>A data frame containing the p-values of the correlations</p>
</dd>
<dt>&quot;df_n&quot;</dt><dd><p>A data frame containing the number of observations used for the correlations</p>
</dd>
<dt>&quot;kable_ret&quot;</dt><dd><p>The return value provided by <code><a href="knitr.html#topic+kable">kable</a></code> containing the formatted table</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>t &lt;- prepare_correlation_table(mtcars)
t$df_corr
</code></pre>

<hr>
<h2 id='prepare_descriptive_table'>Prepares a Table of Descriptive Statistics</h2><span id='topic+prepare_descriptive_table'></span>

<h3>Description</h3>

<p>Reads a data frame and reports descriptive statistics
(n, mean, standard deviation, minimum, first quartile, median,
third quartile, maximum) for all members of the data frame that are either
numeric or logical.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_descriptive_table(
  df,
  digits = c(0, 3, 3, 3, 3, 3, 3, 3),
  format = "html"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_descriptive_table_+3A_df">df</code></td>
<td>
<p>Data frame containing at least one variable that is either numeric
or logical and at least two observations.</p>
</td></tr>
<tr><td><code id="prepare_descriptive_table_+3A_digits">digits</code></td>
<td>
<p>Number of decimal digits that you want to be displayed for each
column. If you provide NA, then the column is omitted from the output.</p>
</td></tr>
<tr><td><code id="prepare_descriptive_table_+3A_format">format</code></td>
<td>
<p>character scalar that is handed over to <code><a href="knitr.html#topic+kable">kable</a></code>
(e.g., &quot;html&quot; or &quot;latex&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>digits</code> parameter from <code>prepare_descriptive_table()</code> uses the default method of
<code><a href="knitr.html#topic+kable">kable</a></code> to format numbers, calling <code><a href="base.html#topic+round">round</a></code>. This implies that trailing zeroes are
just omitted.
</p>


<h3>Value</h3>

<p>A list containing two items.
</p>

<dl>
<dt>&quot;df&quot;</dt><dd><p>A data frame containing the descriptive table</p>
</dd>
<dt>&quot;kable_ret&quot;</dt><dd><p>The return value provided by <code><a href="knitr.html#topic+kable">kable</a></code> containing the formatted table</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>t &lt;- prepare_descriptive_table(mtcars)
t$df
</code></pre>

<hr>
<h2 id='prepare_ext_obs_table'>Prepares a Table Displaying Extreme Observations</h2><span id='topic+prepare_ext_obs_table'></span>

<h3>Description</h3>

<p>Reads a data frame, sorts it by the given variable and displays the top and bottom n observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_ext_obs_table(
  df,
  n = 5,
  cs_id = NULL,
  ts_id = NULL,
  var = utils::tail(colnames(df[sapply(df, is.numeric) &amp; (!colnames(df) %in% c(cs_id,
    ts_id))]), n = 1),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_ext_obs_table_+3A_df">df</code></td>
<td>
<p>Data frame</p>
</td></tr>
<tr><td><code id="prepare_ext_obs_table_+3A_n">n</code></td>
<td>
<p>The number of top/bottom observations that you want to report.</p>
</td></tr>
<tr><td><code id="prepare_ext_obs_table_+3A_cs_id">cs_id</code></td>
<td>
<p>The variable(s) identifying the cross-section in the data.</p>
</td></tr>
<tr><td><code id="prepare_ext_obs_table_+3A_ts_id">ts_id</code></td>
<td>
<p>The variable identifying the time-series in the data.</p>
</td></tr>
<tr><td><code id="prepare_ext_obs_table_+3A_var">var</code></td>
<td>
<p>Variable to display. Defaults to the last numerical variable of the data frame.</p>
</td></tr>
<tr><td><code id="prepare_ext_obs_table_+3A_...">...</code></td>
<td>
<p>Additional parameters that are passed to <code><a href="knitr.html#topic+kable">kable</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When both <code>cs_id</code> and <code>ts_id</code> are omitted, all variables are tabulated.
Otherwise, <code>var</code> is tabulated along with the identifiers.
Infinite values in <code>var</code> are omitted.
The default parameters for calling <code><a href="knitr.html#topic+kable">kable</a></code>,
are <code>format = "html", digits = 3, format.args = list(big.mark = ','), row.names = FALSE</code>.
</p>


<h3>Value</h3>

<p>A list containing two items:
</p>

<dl>
<dt>&quot;df&quot;</dt><dd><p>A data frame containing the top/bottom n observations</p>
</dd>
<dt>&quot;kable_ret&quot;</dt><dd><p>The return value provided by <code><a href="knitr.html#topic+kable">kable</a></code> containing the formatted table</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>t &lt;- prepare_ext_obs_table(russell_3000, n = 10,
                           cs_id = c("coid", "coname"),
                           ts_id = "period", var = "sales")
t$df
</code></pre>

<hr>
<h2 id='prepare_missing_values_graph'>Prepares a Graph Displaying Missing Values in Panel Data</h2><span id='topic+prepare_missing_values_graph'></span>

<h3>Description</h3>

<p>Displays a heatmap of missing value frequency across the panel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_missing_values_graph(df, ts_id, no_factors = FALSE, binary = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_missing_values_graph_+3A_df">df</code></td>
<td>
<p>Data frame containing the data.</p>
</td></tr>
<tr><td><code id="prepare_missing_values_graph_+3A_ts_id">ts_id</code></td>
<td>
<p>A string containing the name of the variable indicating the time dimension.
Needs to be coercible into an ordered factor.</p>
</td></tr>
<tr><td><code id="prepare_missing_values_graph_+3A_no_factors">no_factors</code></td>
<td>
<p>A logical value indicating whether you want to limit the plot to
logical and numerical variables. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="prepare_missing_values_graph_+3A_binary">binary</code></td>
<td>
<p>If set to <code>TRUE</code>, the plot uses a binary scale only high-lightening
whether values are missing or not. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This was inspired by a
<a href="http://www.rensenieuwenhuis.nl/r-sessions-30-visualizing-missing-values/">blog post of Rense Nieuwenhuis</a>.
Thanks!
</p>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>prepare_missing_values_graph(russell_3000, ts_id="period")
prepare_missing_values_graph(russell_3000, ts_id="period", binary = TRUE)
</code></pre>

<hr>
<h2 id='prepare_quantile_trend_graph'>Prepares a Quantile Trend Graph</h2><span id='topic+prepare_quantile_trend_graph'></span>

<h3>Description</h3>

<p>Reads a data frame
and plots the quantiles of the specified variable
by an ordered factor (normally the time-series indicator)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_quantile_trend_graph(
  df,
  ts_id,
  quantiles = c(0.05, 0.25, 0.5, 0.75, 0.95),
  var = utils::tail(colnames(df[sapply(df, is.numeric) &amp; colnames(df) != ts_id]), n =
    1),
  points = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_quantile_trend_graph_+3A_df">df</code></td>
<td>
<p>Data frame containing the ordered factor and the numerical variable
to be plotted</p>
</td></tr>
<tr><td><code id="prepare_quantile_trend_graph_+3A_ts_id">ts_id</code></td>
<td>
<p>a string containing the column name of the ordered factor
(normally the time-series indicator)</p>
</td></tr>
<tr><td><code id="prepare_quantile_trend_graph_+3A_quantiles">quantiles</code></td>
<td>
<p>a numerical vector containing the quantiles that are to be plotted</p>
</td></tr>
<tr><td><code id="prepare_quantile_trend_graph_+3A_var">var</code></td>
<td>
<p>a string containing the column name of the variable
to be plotted. Defaults to the last numerical variable of the data frame
that is not <code>ts_id</code>.</p>
</td></tr>
<tr><td><code id="prepare_quantile_trend_graph_+3A_points">points</code></td>
<td>
<p>Do you want points to indicate the statistics? Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two items:
</p>

<dl>
<dt>&quot;df&quot;</dt><dd><p>A data frame containing the plotted quantiles</p>
</dd>
<dt>&quot;plot&quot;</dt><dd><p>The plot as returned by <code>ggplot</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>prepare_quantile_trend_graph(worldbank, "year", var = "SP.DYN.LE00.IN")$plot +
  ggplot2::ylab("Life expectancy at birth world-wide")
df &lt;- data.frame(year = floor(stats::time(datasets::EuStockMarkets)),
                 DAX = datasets::EuStockMarkets[,"DAX"])
graph &lt;- prepare_quantile_trend_graph(df, "year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
</code></pre>

<hr>
<h2 id='prepare_regression_table'>Prepares a Regression Table</h2><span id='topic+prepare_regression_table'></span>

<h3>Description</h3>

<p>Builds a regression table based on a set of user-specified models or a single model and a partitioning variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_regression_table(
  df,
  dvs,
  idvs,
  feffects = rep("", length(dvs)),
  clusters = rep("", length(dvs)),
  models = rep("auto", length(dvs)),
  byvar = "",
  format = "html"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_regression_table_+3A_df">df</code></td>
<td>
<p>Data frame containing the data to estimate the models on.</p>
</td></tr>
<tr><td><code id="prepare_regression_table_+3A_dvs">dvs</code></td>
<td>
<p>A character vector containing the variable names for the dependent variable(s).</p>
</td></tr>
<tr><td><code id="prepare_regression_table_+3A_idvs">idvs</code></td>
<td>
<p>A character vector or a a list of character vectors containing the variable names of the independent variables.</p>
</td></tr>
<tr><td><code id="prepare_regression_table_+3A_feffects">feffects</code></td>
<td>
<p>A character vector or a a list of character vectors containing the variable names of the fixed effects.</p>
</td></tr>
<tr><td><code id="prepare_regression_table_+3A_clusters">clusters</code></td>
<td>
<p>A character vector or a a list of character vectors containing the variable names of the cluster variables.</p>
</td></tr>
<tr><td><code id="prepare_regression_table_+3A_models">models</code></td>
<td>
<p>A character vector indicating the model types to be estimated ('ols', 'logit', or 'auto')</p>
</td></tr>
<tr><td><code id="prepare_regression_table_+3A_byvar">byvar</code></td>
<td>
<p>A factorial variable to estimate the model on (only possible if only one model is being estimated).</p>
</td></tr>
<tr><td><code id="prepare_regression_table_+3A_format">format</code></td>
<td>
<p>A character scalar that is passed on <code><a href="stargazer.html#topic+stargazer">stargazer</a></code> as <code>type</code> to determine the presentation
format (&quot;html&quot;, &quot;text&quot;, or &quot;latex&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a wrapper function calling the stargazer package. For numeric
dependent variables the models are estimated using <code><a href="stats.html#topic+lm">lm</a></code>
for models without and <code><a href="plm.html#topic+plm">plm</a></code> for models with fixed
effects. Binary dependent variable models are estimated using
<code><a href="stats.html#topic+glm">glm</a></code> (with <code>family = binomial(link="logit")</code>).
You can override this behavior by specifying the model with the
<code>models</code> parameter. Multinomial logit models are not supported.
Clustered standard errors are estimated using <code>plm</code>'s robust
covariance matrix estimators for OLS and
<code><a href="multiwayvcov.html#topic+cluster.vcov">cluster.vcov</a></code> for logit models.
Only up to two dimensions are supported for fixed effects and standard
error clusters need to be also present as fixed effects.
If run with <code>byvar</code>, only levels that have more observations than
coefficients are estimated.
</p>


<h3>Value</h3>

<p>A list containing two items
</p>

<dl>
<dt>&quot;models&quot;</dt><dd><p>A list containing the model results and by values if appropriate</p>
</dd>
<dt>&quot;table&quot;</dt><dd><p>The output of <code><a href="stargazer.html#topic+stargazer">stargazer</a></code> containing the table</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(year = as.factor(floor(stats::time(datasets::EuStockMarkets))),
                 datasets::EuStockMarkets)
dvs = c("DAX", "SMI", "CAC", "FTSE")
idvs = list(c("SMI", "CAC", "FTSE"),
            c("DAX", "CAC", "FTSE"),
            c("SMI", "DAX", "FTSE"),
            c("SMI", "CAC", "DAX"))
feffects = list("year", "year", "year", "year")
clusters = list("year", "year", "year", "year")
t &lt;- prepare_regression_table(df, dvs, idvs, feffects, clusters, format = "text")
t$table
t &lt;- prepare_regression_table(df, "DAX", c("SMI", "CAC", "FTSE"), byvar="year", format = "text")
print(t$table)
</code></pre>

<hr>
<h2 id='prepare_scatter_plot'>Prepares a Scatter Plot</h2><span id='topic+prepare_scatter_plot'></span>

<h3>Description</h3>

<p>Reads a data frame and prepares a scatter plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_scatter_plot(
  df,
  x,
  y,
  color = "",
  size = "",
  loess = 0,
  alpha = min(1, 1/((1 + (max(0, log(nrow(df)) - log(100))))))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_scatter_plot_+3A_df">df</code></td>
<td>
<p>Data frame containing the data</p>
</td></tr>
<tr><td><code id="prepare_scatter_plot_+3A_x">x</code></td>
<td>
<p>a string containing the column name of the x variable</p>
</td></tr>
<tr><td><code id="prepare_scatter_plot_+3A_y">y</code></td>
<td>
<p>a string containing the column name of the y variable</p>
</td></tr>
<tr><td><code id="prepare_scatter_plot_+3A_color">color</code></td>
<td>
<p>a string containing the column name of the variable providing the color aesthetic
(can be numerical or a factor)</p>
</td></tr>
<tr><td><code id="prepare_scatter_plot_+3A_size">size</code></td>
<td>
<p>a string containing the column name of the variable providing the size aesthetic</p>
</td></tr>
<tr><td><code id="prepare_scatter_plot_+3A_loess">loess</code></td>
<td>
<p>a numerical scalar
</p>

<dl>
<dt>0</dt><dd><p>No loess curve</p>
</dd>
<dt>1</dt><dd><p>loess curve with equal weights</p>
</dd>
<dt>2</dt><dd><p>loess curve with weights based on <code>size</code> variable</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="prepare_scatter_plot_+3A_alpha">alpha</code></td>
<td>
<p>The alpha value to be used.
If missing, it calculates a default based on the sample size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the plot as returned by <code>ggplot</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(year = floor(stats::time(datasets::EuStockMarkets)),
                 datasets::EuStockMarkets[, c("DAX", "FTSE")])
prepare_scatter_plot(df, x="DAX", y="FTSE", color="year")
</code></pre>

<hr>
<h2 id='prepare_trend_graph'>Prepares a Trend Graph</h2><span id='topic+prepare_trend_graph'></span>

<h3>Description</h3>

<p>Reads a data frame and line plots all variables (which need to be numeric)
by an ordered factor (normally the time-series indicator).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_trend_graph(
  df,
  ts_id,
  var = colnames(df[sapply(df, is.numeric) &amp; colnames(df) != ts_id])
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_trend_graph_+3A_df">df</code></td>
<td>
<p>Data frame containing the ordered factor and a set of numerical variables
to be plotted</p>
</td></tr>
<tr><td><code id="prepare_trend_graph_+3A_ts_id">ts_id</code></td>
<td>
<p>a string containing the column name of the ordered factor
(normally the time-series indicator)</p>
</td></tr>
<tr><td><code id="prepare_trend_graph_+3A_var">var</code></td>
<td>
<p>a character vector containing the column names of the variables
that should be plotted. Defaults to all numeric variables of the data frame
besides the one indicated by <code>ts_id</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two items:
</p>

<dl>
<dt>&quot;df&quot;</dt><dd><p>A data frame containing the plotted means and standard errors</p>
</dd>
<dt>&quot;plot</dt><dd><p>The plot as returned by <code>ggplot</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(year = floor(time(EuStockMarkets)), EuStockMarkets)
graph &lt;- prepare_trend_graph(df, "year")
graph$plot
</code></pre>

<hr>
<h2 id='russell_3000'>Annual Financial Accounting and Stock Return Data for a Sample of Russell 3000 Firms (2013-2016)</h2><span id='topic+russell_3000'></span>

<h3>Description</h3>

<p>Data collected from Google Finance and Yahoo finance using the package <code>tidyquant</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(russell_3000)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"data.frame"</code>.
</p>


<h3>Source</h3>

<p>Has been collected using the <code>tidyquant::tq_get</code> function family in Summer 2017.
The code to generate this data is available in the
<a href="https://github.com/joachim-gassen/ExPanDaR">github repository</a> of this package.
As the Google Finance API providing financial statement data is currently unavailable,
the data cannot be replicated by running the code.
Use in scientific studies is not advised without prior cleaning/checking.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(russell_3000)
prepare_missing_values_graph(russell_3000, ts_id = "period")

</code></pre>

<hr>
<h2 id='russell_3000_data_def'>Data Definitions for <code>russell_3000</code> Data Set</h2><span id='topic+russell_3000_data_def'></span>

<h3>Description</h3>

<p>A data frame containing variable definitions for the <code>russell_3000</code> data set.
The data definitions can be passed to <a href="#topic+ExPanD">ExPanD</a> via the
<code>df_def</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(russell_3000_data_def)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"data.frame"</code>.
</p>


<h3>Details</h3>

<p>Data definitions are provided by the package maintainer and are somewhat superficial
to make them both, short and informative. User discretion is advised when using this
data outside of its didactic purpose.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(russell_3000)
data(russell_3000_data_def)
data(ExPanD_config_russell_3000)
## Not run: 
  ExPanD(russell_3000, df_def = russell_3000_data_def, config_list = ExPanD_config_russell_3000)

## End(Not run)
</code></pre>

<hr>
<h2 id='treat_outliers'>Treats Outliers in Numerical Data</h2><span id='topic+treat_outliers'></span>

<h3>Description</h3>

<p>Treats numerical outliers either by winsorizing or by truncating.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>treat_outliers(x, percentile = 0.01, truncate = FALSE, by = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="treat_outliers_+3A_x">x</code></td>
<td>
<p>Data that is coercible into a numeric vector or matrix.
If it is a data frame then all numerical variables
of the data frame are coerced into a matrix.</p>
</td></tr>
<tr><td><code id="treat_outliers_+3A_percentile">percentile</code></td>
<td>
<p>A numeric scalar.
The percentile below which observations
are considered to be outliers. Is treated symmetrical so that
<code>c(percentile, 1-percentile)</code> are used as boundaries.
Defaults to 0.01 and needs to be &gt; 0 and &lt; 0.5.</p>
</td></tr>
<tr><td><code id="treat_outliers_+3A_truncate">truncate</code></td>
<td>
<p>A logical scalar. If TRUE then data are truncated
(i.e., set to NA if out of bounds). Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="treat_outliers_+3A_by">by</code></td>
<td>
<p>NULL or either a factor vector or a character string
identifying a factor variable in the data frame provided by x.
The factor indicated by 'by' is being used to identify groups
by which the outlier treatment is applied. Defaults to NULL (no grouping).
If provided, the resulting vector must not contain NAs and needs to be such so that
<code>length(byvec) == nrows(as.matrix(x))</code>.</p>
</td></tr>
<tr><td><code id="treat_outliers_+3A_...">...</code></td>
<td>
<p>Additional parameters forwarded to <a href="stats.html#topic+quantile">quantile</a> (notably, <code>type</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All members of the numerical matrix are checked for finiteness and are
set to NA if they are not finite. NAs are removed when calculating the outlier cut-offs.
</p>


<h3>Value</h3>

<p>A numeric vector or matrix containing the outlier-treated <code>x</code>.
if a data frame was provided in <code>x</code>, a data frame with its numeric variables
replaced by their outlier-treated values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>treat_outliers(seq(1:100), 0.05)
treat_outliers(seq(1:100), truncate = TRUE, 0.05)

# When you like the percentiles calculated like STATA's summary or pctile:
treat_outliers(seq(1:100), 0.05, type = 2)

df &lt;- data.frame(a = seq(1:1000), b = rnorm(1000), c = sample(LETTERS[1:5], 1000, replace=TRUE))
winsorized_df &lt;- treat_outliers(df)
summary(df)
summary(winsorized_df)

winsorized_df &lt;- treat_outliers(df, 0.05, by="c")
by(df, df$c, summary)
by(winsorized_df, df$c, summary)

hist(treat_outliers(rnorm(1000)), breaks=100)
</code></pre>

<hr>
<h2 id='worldbank'>A Snapshot of Macroeconomic Data as Provided by the World Bank API (1960 - 2018)</h2><span id='topic+worldbank'></span>

<h3>Description</h3>

<p>Data collected from the World Bank API using the package <code>wbstats</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(worldbank)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"data.frame"</code>.
</p>


<h3>Source</h3>

<p>Has been collected using the <code>wbstats::wb()</code> function
from the World Bank API in Dec 2020.
The code to generate this data is available in the
<a href="https://github.com/joachim-gassen/ExPanDaR">github repository</a> of this package.
Use in scientific studies is not advised without prior cleaning/checking.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(worldbank)
prepare_missing_values_graph(worldbank, ts_id = "year")

data(worldbank_data_def)
data(worldbank_var_def)
data(ExPanD_config_worldbank)
## Not run: 
  ExPanD(worldbank, df_def = worldbank_data_def,
    var_def = worldbank_var_def, config_list = ExPanD_config_worldbank)

## End(Not run)

</code></pre>

<hr>
<h2 id='worldbank_data_def'>Data Definitions for <code>worldbank</code> Data Set</h2><span id='topic+worldbank_data_def'></span>

<h3>Description</h3>

<p>A data frame containing variable definitions for the <code>worldbank</code> data set.
The data definitions can be passed to <code><a href="#topic+ExPanD">ExPanD</a></code> via the
<code>df_def</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(worldbank_data_def)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"data.frame"</code>.
</p>


<h3>Details</h3>

<p>Data definitions are as provided by the World Bank API and
the code to generate them is available in the
<a href="https://github.com/joachim-gassen/ExPanDaR">github repository</a>
of this package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(worldbank)
data(worldbank_data_def)
data(worldbank_var_def)
data(ExPanD_config_worldbank)
## Not run: 
  ExPanD(worldbank,df_def = worldbank_data_def,
    var_def = worldbank_var_def, config_list = ExPanD_config_worldbank)

## End(Not run)
</code></pre>

<hr>
<h2 id='worldbank_var_def'>Variable Definitions to Construct an Analysis Sample Based on the <code>worldbank</code> Data Set</h2><span id='topic+worldbank_var_def'></span>

<h3>Description</h3>

<p>A data frame containing variable definitions that can be passed to <code><a href="#topic+ExPanD">ExPanD</a></code>
via the var_def parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(worldbank_var_def)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"data.frame"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(worldbank)
data(worldbank_data_def)
data(worldbank_var_def)
data(ExPanD_config_worldbank)
## Not run: 
  ExPanD(worldbank, df_def = worldbank_data_def,
    var_def = worldbank_var_def, config_list = ExPanD_config_worldbank)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package symSEM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {symSEM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#symSEM-package'><p>A collection of functions for symbolic computation using 'caracas'</p>
package for structural equation models and other statistical analyses.
Among its features is the ability to calculate the model-implied
covariance (and correlation) matrix and the sampling covariance matrix of
variable functions using the delta method.</a></li>
<li><a href='#deltamethod'><p>Compute the Variance-Covariance Matrix of Functions using the first-order</p>
Delta Method</a></li>
<li><a href='#impliedS'><p>Compute a Symbolic Model-Implied Covariance/Correlation Matrix</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Symbolic Computation for Structural Equation Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-05-31</td>
</tr>
<tr>
<td>Depends:</td>
<td>caracas</td>
</tr>
<tr>
<td>Imports:</td>
<td>OpenMx, metaSEM</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, roxygen2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mike Cheung &lt;mikewlcheung@nus.edu.sg&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of functions for symbolic computation using the
			 'caracas' package for structural equation models and other
			 statistical analyses. Among its features is the ability
			 to calculate the model-implied covariance (and correlation)
			 matrix and the sampling covariance matrix of variable functions
			 using the delta method.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Python (&gt;= 3.6.0)</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mikewlcheung/symsem">https://github.com/mikewlcheung/symsem</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-31 09:17:00 UTC; mikewlcheung</td>
</tr>
<tr>
<td>Author:</td>
<td>Mike Cheung <a href="https://orcid.org/0000-0003-0113-0758"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-31 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='symSEM-package'>A collection of functions for symbolic computation using 'caracas'
package for structural equation models and other statistical analyses.
Among its features is the ability to calculate the model-implied
covariance (and correlation) matrix and the sampling covariance matrix of
variable functions using the delta method.</h2><span id='topic+symSEM-package'></span>

<h3>Description</h3>

<p>A collection of functions for symbolic computation using 'caracas'
package for structural equation models and other statistical analyses.
Among its features is the ability to calculate the model-implied
covariance (and correlation) matrix and the sampling covariance matrix of
variable functions using the delta method.
</p>

<hr>
<h2 id='deltamethod'>Compute the Variance-Covariance Matrix of Functions using the first-order
Delta Method</h2><span id='topic+deltamethod'></span>

<h3>Description</h3>

<p>It computes the variance-covariance matrix of functions using the
first-order delta method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deltamethod(fn, Covvars, vars, Var.name = "V", Cov.name = "C", simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deltamethod_+3A_fn">fn</code></td>
<td>
<p>A function in character strings or a vector of functions.</p>
</td></tr>
<tr><td><code id="deltamethod_+3A_covvars">Covvars</code></td>
<td>
<p>Variance-covariance matrix of the variables. If it is not
specified, they are automatically generated.</p>
</td></tr>
<tr><td><code id="deltamethod_+3A_vars">vars</code></td>
<td>
<p>A vector of characters of the random variables. If the random
variables are not listed in 'vars', they are treated as constants. If 'vars'
is missing, all names in 'RAM' are treated as random variables.</p>
</td></tr>
<tr><td><code id="deltamethod_+3A_var.name">Var.name</code></td>
<td>
<p>Name of the variances.</p>
</td></tr>
<tr><td><code id="deltamethod_+3A_cov.name">Cov.name</code></td>
<td>
<p>Name of the covariances.</p>
</td></tr>
<tr><td><code id="deltamethod_+3A_simplify">simplify</code></td>
<td>
<p>Attempt to simplify the output.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Variance-covariance matrix of the functions.
</p>


<h3>Author(s)</h3>

<p>Mike W.-L. Cheung &lt;mikewlcheung@nus.edu.sg&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

#### Fisher-z-transformation
fn  &lt;- "0.5*log((1+r)/(1-r))"

## Sampling variance of r
Covvars &lt;- "(1-r^2)^2/n"

deltamethod(fn=fn, Covvars=Covvars, vars="r")
## $fn
##     [,1]
## fn1 "0.5*log((r+1)/(1-r))"

## $Covfn
##     fn1
## fn1 "1/n"

## $vars
## [1] "r"

## $Covvars
##   r
## r "(1-r^2)^2/n"

## $Jmatrix
##     r
## fn1 "(0.5*(1-r+r+1)*(1-r))/((1-r)^2*(r+1))"

#### Raw mean difference: y_treatment - y_control
fn &lt;- "yt - yc"

## Sampling covariance matrix
## S2p: pooled variance
## nt: n_treatment
## nc: n_control
Covvars &lt;- matrix(c("S2p/nt", 0,
                    0, "S2p/nc"),
                  ncol=2, nrow=2)

deltamethod(fn=fn, Covvars=Covvars, vars=c("yt", "yc"))
## $fn
##     [,1]
## fn1 "yt-yc"

## $Covfn
##     fn1
## fn1 "(S2p*nt+S2p*nc)/(nt*nc)"

## $vars
## [1] "yt" "yc"

## $Covvars
##    yt       yc
## yt "S2p/nt" "0"
## yc "0"      "S2p/nc"

## $Jmatrix
##     yt  yc
## fn1 "1" "-1"

#### log(odds)
fn &lt;- "log(p/(1-p))"

## Sampling variance of p
Covvars &lt;- "p*(1-p)/n"

## Though it is correct, the simplification does not work well.
deltamethod(fn=fn, Covvars=Covvars, vars="p")
## $fn
##     [,1]
## fn1 "log(p/(1-p))"

## $Covfn
##     fn1
## fn1 "(3*p^2-p^3-3*p+1)/((p^4-4*p^3+6*p^2-4*p+1)*p*n)"

## $vars
## [1] "p"

## $Covvars
##   p
## p "(p*(1-p))/n"

## $Jmatrix
##     p
## fn1 "((1-p+p)*(1-p))/((1-p)^2*p)"

## End(Not run)
</code></pre>

<hr>
<h2 id='impliedS'>Compute a Symbolic Model-Implied Covariance/Correlation Matrix</h2><span id='topic+impliedS'></span>

<h3>Description</h3>

<p>It computes a symbolic model-implied covariance (or correlation) matrix in
SEM using the RAM inputs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impliedS(RAM, corr = FALSE, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impliedS_+3A_ram">RAM</code></td>
<td>
<p>A RAM object including a list of matrices of the model returned
from <code><a href="metaSEM.html#topic+lavaan2RAM">lavaan2RAM</a></code></p>
</td></tr>
<tr><td><code id="impliedS_+3A_corr">corr</code></td>
<td>
<p>Whether the model implied matrix is covariance (default) or
correlation structure.</p>
</td></tr>
<tr><td><code id="impliedS_+3A_simplify">simplify</code></td>
<td>
<p>Attempt to simplify the output.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The model implied covariance (or correlation) matrix and means vector.
</p>


<h3>Author(s)</h3>

<p>Mike W.-L. Cheung &lt;mikewlcheung@nus.edu.sg&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

#### A mediation model
model1 &lt;- "y ~ c*x + b*m
           m ~ a*x
           ## Means
           y ~ b0*1
           m ~ m0*1
           x ~ x0*1"

RAM1 &lt;- metaSEM::lavaan2RAM(model1)

## Model-implied covariance matrix and mean structure
impliedS(RAM1, corr=FALSE)

## Model-implied correlation matrix
impliedS(RAM1, corr=TRUE)

#### A CFA model
model2 &lt;- "f =~ x1 + x2 + x3 + x4#'
           ## Mean
           f ~ fmean*1"

RAM2 &lt;- metaSEM::lavaan2RAM(model2)

## Model-implied covariance matrix
impliedS(RAM2, corr=FALSE)

## Model-implied correlation matrix
impliedS(RAM2, corr=TRUE)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

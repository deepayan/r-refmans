<!DOCTYPE html><html><head><title>Help for package pmetar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pmetar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#metar_airport'><p>Get airport ICAO, International Civil Aviation Organization, code.</p></a></li>
<li><a href='#metar_cloud_coverage'><p>Get cloud coverage information.</p></a></li>
<li><a href='#metar_day'><p>Get day of month.</p></a></li>
<li><a href='#metar_decode'><p>Decode METAR report.</p></a></li>
<li><a href='#metar_dew_point'><p>Get dew point temperature.</p></a></li>
<li><a href='#metar_dir'><p>Get wind direction.</p></a></li>
<li><a href='#metar_get'><p>Get a current METAR report for an airport.</p></a></li>
<li><a href='#metar_get_historical'><p>Get historical METAR reports.</p></a></li>
<li><a href='#metar_gust'><p>Get gust speed.</p></a></li>
<li><a href='#metar_hour'><p>Get hour and minutes.</p></a></li>
<li><a href='#metar_iata_icao'><p>Convert between IATA (International Air Transport Association) airport code to</p>
ICAO (International Civil Aviation Organization) airport code or vice versa.</a></li>
<li><a href='#metar_is_correct'><p>Check if METAR report is correct.</p></a></li>
<li><a href='#metar_location'><p>Get approximated airport location.</p></a></li>
<li><a href='#metar_pressure'><p>Get atmospheric pressure.</p></a></li>
<li><a href='#metar_print'><p>Decode and print METAR report</p></a></li>
<li><a href='#metar_rwy_visibility'><p>Get runway(s) visibility.</p></a></li>
<li><a href='#metar_speed'><p>Get wind speed</p></a></li>
<li><a href='#metar_temp'><p>Get temperature.</p></a></li>
<li><a href='#metar_time_zone'><p>Get time zone.</p></a></li>
<li><a href='#metar_visibility'><p>Get visibility information.</p></a></li>
<li><a href='#metar_windshear'><p>Get wind shear information.</p></a></li>
<li><a href='#metar_wx_codes'><p>Get weather conditions information.</p></a></li>
<li><a href='#metarWXcodes'><p>METAR WX weather conditions codes</p></a></li>
<li><a href='#mst'><p>Secondary airport list</p></a></li>
<li><a href='#ourairports'><p>Main list of airports</p></a></li>
<li><a href='#pmetar-package'><p>pmetar: Processing METAR Weather Reports</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Processing METAR Weather Reports</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Pawel Cwiek &lt;prc.altodato@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows to download current and historical METAR weather reports
  extract and parse basic parameters and present main weather information. 
  Current reports are downloaded from Aviation Weather Center 
  <a href="https://aviationweather.gov/data/metar/">https://aviationweather.gov/data/metar/</a> and historical reports from
  Iowa Environmental Mesonet web page of Iowa State University
  ASOS-AWOS-METAR <a href="http://mesonet.agron.iastate.edu/AWOS/">http://mesonet.agron.iastate.edu/AWOS/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/prcwiek/pmetar">https://github.com/prcwiek/pmetar</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/prcwiek/pmetar/issues">https://github.com/prcwiek/pmetar/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), utils, stats</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, dplyr, httr, lubridate, magrittr, RCurl, tidyr, stringr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, tibble</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-25 18:08:17 UTC; pawel</td>
</tr>
<tr>
<td>Author:</td>
<td>Pawel Cwiek [aut, cre],
  David Megginson [ctb] (Author of data set with airports list
    https://ourairports.com/data/),
  Greg Thompson [ctb] (Author of data set with airports list
    https://weather.ral.ucar.edu/surface/stations.txt)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-25 21:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='metar_airport'>Get airport ICAO, International Civil Aviation Organization, code.</h2><span id='topic+metar_airport'></span>

<h3>Description</h3>

<p>Extract an airport ICAO code from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_airport(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_airport_+3A_x">x</code></td>
<td>
<p>character vector; METAR weather report or reports.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with an airport ICAO code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_airport("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_airport("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_airport("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")
metar_airport("202103251800 METAR COR NFTL 251800Z 00000KT SCT017TCU BKN290 25/25 Q1014")

</code></pre>

<hr>
<h2 id='metar_cloud_coverage'>Get cloud coverage information.</h2><span id='topic+metar_cloud_coverage'></span>

<h3>Description</h3>

<p>Extract and parse cloud coverage information from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_cloud_coverage(x, sep = ";")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_cloud_coverage_+3A_x">x</code></td>
<td>
<p>character vector; a METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_cloud_coverage_+3A_sep">sep</code></td>
<td>
<p>character; comma or semicolon, used for separating decoded elements of weather
conditions information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with cloud coverage information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_cloud_coverage("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_cloud_coverage("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_cloud_coverage("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")
metar_cloud_coverage("202103251800 METAR COR NFTL 251800Z 00000KT SCT017TCU BKN290 25/25 Q1014")
metar_cloud_coverage("KEWR 011451Z 26015KT 10SM FEW030 FEW045 BKN065 04/M07 A2977", sep = ",")

</code></pre>

<hr>
<h2 id='metar_day'>Get day of month.</h2><span id='topic+metar_day'></span>

<h3>Description</h3>

<p>Extract a day of a month from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_day(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_day_+3A_x">x</code></td>
<td>
<p>character vector; a METAR weather report or reports.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with a day of a month.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_day("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_day("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_day("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")

</code></pre>

<hr>
<h2 id='metar_decode'>Decode METAR report.</h2><span id='topic+metar_decode'></span>

<h3>Description</h3>

<p>Extract and parse information from a single METAR weather report or several reports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_decode(
  x,
  metric = TRUE,
  altimeter = FALSE,
  numeric_only = FALSE,
  check = TRUE,
  sep = ";"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_decode_+3A_x">x</code></td>
<td>
<p>character vector; a single METAR weather report or<br />
historical METAR weather reports.</p>
</td></tr>
<tr><td><code id="metar_decode_+3A_metric">metric</code></td>
<td>
<p>logical; if TRUE wind speeds returned in m/s, distances in meters.<br />
If FALSE, wind speeds returned in knots and distances in miles.</p>
</td></tr>
<tr><td><code id="metar_decode_+3A_altimeter">altimeter</code></td>
<td>
<p>logical; if FLASE pressures returned in hPa, if TRUE in mmHg.</p>
</td></tr>
<tr><td><code id="metar_decode_+3A_numeric_only">numeric_only</code></td>
<td>
<p>logical; if TRUE only numeric values are returned.</p>
</td></tr>
<tr><td><code id="metar_decode_+3A_check">check</code></td>
<td>
<p>logical; if TRUE the syntax of METAR reports will be checked and incorrect
reports will be omitted. If FALSE, the incorrect syntax of reports can cause errors and
breakdown of decoding. The default value is TRUE.</p>
</td></tr>
<tr><td><code id="metar_decode_+3A_sep">sep</code></td>
<td>
<p>character; comma or semicolon, used for separating decoded elements of weather
conditions information. The default value is &quot;;&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Decoded METAR weather report consists of:<br />
</p>

<ul>
<li><p> Remark: Don't use for flight planning or navigation!
or Incorrect METAR report! Please check the column Original_METAR.
</p>
</li>
<li><p> Airport ICAO
</p>
</li>
<li><p> Day of Month
</p>
</li>
<li><p> Hour (HH:mm)
</p>
</li>
<li><p> Time zone
</p>
</li>
<li><p> Wind speed
</p>
</li>
<li><p> Wind speed unit (m/s or kn)
</p>
</li>
<li><p> Gust
</p>
</li>
<li><p> Gust unit (m/s or kn)
</p>
</li>
<li><p> Wind shear
</p>
</li>
<li><p> Wind direction (degrees)
</p>
</li>
<li><p> Temperature (Celsius degrees)
</p>
</li>
<li><p> Dew point (Celsius degrees)
</p>
</li>
<li><p> Pressure (hPa)
</p>
</li>
<li><p> Pressure unit (hPa or mmHg)
</p>
</li>
<li><p> Visibility
</p>
</li>
<li><p> Visibility unit (m or miles)
</p>
</li>
<li><p> Cloud coverage
</p>
</li>
<li><p> Weather conditions information from WX codes
</p>
</li>
<li><p> Runway visibility (m or feet)
</p>
</li>
<li><p> Airport Name
</p>
</li>
<li><p> Longitude
</p>
</li>
<li><p> Latitude
</p>
</li>
<li><p> Elevation
</p>
</li>
<li><p> Decode Date
</p>
</li>
<li><p> Original METAR text
</p>
</li></ul>



<h3>Value</h3>

<p>a tibble with decoded METAR weather report or reports.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_decode("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_decode("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180",
altimeter = TRUE, metric = FALSE)
metar_decode("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")
metar_decode("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005", altimeter = TRUE)
metar_decode("CYWG 172000Z 30015G25KT 3/4SM R36/4000FT/D -SN M05/M08 A2992")
metar_decode("202103251800 METAR COR NFTL 251800Z 00000KT SCT017TCU BKN290 25/25 Q1014")

</code></pre>

<hr>
<h2 id='metar_dew_point'>Get dew point temperature.</h2><span id='topic+metar_dew_point'></span>

<h3>Description</h3>

<p>Extracts a dew point temperature value from a METAR weather report or reports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_dew_point(x, check = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_dew_point_+3A_x">x</code></td>
<td>
<p>character vector; a METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_dew_point_+3A_check">check</code></td>
<td>
<p>logical; if TRUE the syntax of METAR reports will be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with a dew point temperature in Celsius degrees.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_dew_point("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_dew_point("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_dew_point("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")
metar_dew_point("METAR KEWR 010851Z 27010KT 10SM FEW030 BKN070 BKN100 BKN210 04/M03 A2969")
metar_dew_point("201905121244 METAR KDCA 121244Z 05010KT 14/12 A2978 RMK P0002 T01390122")

</code></pre>

<hr>
<h2 id='metar_dir'>Get wind direction.</h2><span id='topic+metar_dir'></span>

<h3>Description</h3>

<p>Extract a wind direction value from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_dir(x, numeric_only = FALSE, check = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_dir_+3A_x">x</code></td>
<td>
<p>character vector; a METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_dir_+3A_numeric_only">numeric_only</code></td>
<td>
<p>logical; the default value is FALSE and information about variability will be included.
If TRUE only a numeric value of direction will be returned.</p>
</td></tr>
<tr><td><code id="metar_dir_+3A_check">check</code></td>
<td>
<p>logical; if TRUE the syntax of METAR reports will be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with a wind direction in degrees.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_dir("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_dir("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180",
numeric_only = TRUE)
metar_dir("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")

</code></pre>

<hr>
<h2 id='metar_get'>Get a current METAR report for an airport.</h2><span id='topic+metar_get'></span>

<h3>Description</h3>

<p>A current METAR weather report is downloaded from the web page of NOAA National Weather Service
https://aviationweather.gov/data/metar/ based on an airport four letters ICAO code, International Civil
Aviation Organization, or three letters IATA code, International Air Transport Association.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_get(airport = "EPWA")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_get_+3A_airport">airport</code></td>
<td>
<p>character; ICAO or an IATA airport code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with a current METAR weather report.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_get("EPWA")
metar_get("CYUL")
metar_get("MAD")
metar_get("WAW")

</code></pre>

<hr>
<h2 id='metar_get_historical'>Get historical METAR reports.</h2><span id='topic+metar_get_historical'></span>

<h3>Description</h3>

<p>Download a set of historical METAR weather reports.
The default source is the Iowa Environmental
Mesonet web page of Iowa State University ASOS-AWOS-METAR<br />
<a href="https://mesonet.agron.iastate.edu/AWOS/">https://mesonet.agron.iastate.edu/AWOS/</a><br />
The secondary source of METAR reports is Weather Information Service provided by Ogimet
<a href="https://www.ogimet.com/">https://www.ogimet.com/</a>. However for this source
the requested period is limited to 31 days. METAR reports are available from
the year 2005.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_get_historical(
  airport = "EPWA",
  start_date = "2020-01-01",
  end_date = "2020-01-10",
  from = "iastate"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_get_historical_+3A_airport">airport</code></td>
<td>
<p>character;  ICAO or IATA airport code.</p>
</td></tr>
<tr><td><code id="metar_get_historical_+3A_start_date">start_date</code></td>
<td>
<p>character; start date in the format YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="metar_get_historical_+3A_end_date">end_date</code></td>
<td>
<p>character; end date in the format YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="metar_get_historical_+3A_from">from</code></td>
<td>
<p>character; selection of online METAR database, <br />
the default value is &quot;iastate&quot; downolading METAR reports from
Iowa Environmental Mesonet ASOS-AWOS-METAR
<a href="https://mesonet.agron.iastate.edu/AWOS/">https://mesonet.agron.iastate.edu/AWOS/</a>. <br />
Setting the parameter from to &quot;ogimet&quot; allows to use Weather Information Service provided by Ogimet
<a href="https://www.ogimet.com/">https://www.ogimet.com/</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame character vectors with historical METAR weather report.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
metar_get_historical("EPWA", start_date = "2017-11-20", end_date = "2017-11-25")
metar_get_historical("MAD", start_date = "2015-06-01", end_date = "2015-06-02",
from = "iastate")
metar_get_historical("CYUL", start_date = "2016-07-01", end_date = "2016-07-05",
from = "ogimet")


</code></pre>

<hr>
<h2 id='metar_gust'>Get gust speed.</h2><span id='topic+metar_gust'></span>

<h3>Description</h3>

<p>Extract a gust speed from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_gust(x, metric = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_gust_+3A_x">x</code></td>
<td>
<p>Input character vector; a METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_gust_+3A_metric">metric</code></td>
<td>
<p>For the default metric = TRUE a returned gust wind speed is in m/s. If it's FALSE, in knots.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with a gust speed in m/s or in knots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_gust("METAR EPWA 141200Z 30011G22KT 270V340 9999 -SHRA SCT007 BKN015CB 18/17 Q1011")
metar_gust("CYUL 101900Z 27015G25KT 15SM DRSN SCT028 BKN090 OVC110 M04/M10 A2973 RMK")
metar_gust("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")

</code></pre>

<hr>
<h2 id='metar_hour'>Get hour and minutes.</h2><span id='topic+metar_hour'></span>

<h3>Description</h3>

<p>Extract and parse hour and minutes from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_hour(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_hour_+3A_x">x</code></td>
<td>
<p>character; a METAR weather report or reports.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with the METAR time in the format HH:mm.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_hour("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_hour("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_hour("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")

</code></pre>

<hr>
<h2 id='metar_iata_icao'>Convert between IATA (International Air Transport Association) airport code to
ICAO (International Civil Aviation Organization) airport code or vice versa.</h2><span id='topic+metar_iata_icao'></span>

<h3>Description</h3>

<p>Convert between IATA (International Air Transport Association) airport code to
ICAO (International Civil Aviation Organization) airport code or vice versa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_iata_icao(code = "WAW")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_iata_icao_+3A_code">code</code></td>
<td>
<p>character vector; an airport ICAO four letters code or an IATA three letters code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with an IATA code an ICAO input code or an ICAO code an IATA input code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_iata_icao("EPWA")
metar_iata_icao("CYUL")
metar_iata_icao("LEMD")
metar_iata_icao("WAW")
metar_iata_icao("FRA")
metar_iata_icao("KRK")

</code></pre>

<hr>
<h2 id='metar_is_correct'>Check if METAR report is correct.</h2><span id='topic+metar_is_correct'></span>

<h3>Description</h3>

<p>Function checks METRAR reports syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_is_correct(x, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_is_correct_+3A_x">x</code></td>
<td>
<p>character vector; METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_is_correct_+3A_verbose">verbose</code></td>
<td>
<p>logical; default FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It checks:<br />
appearance of not allowed characters: ! \ ? . , ; : * # &amp; ' &quot; ) and
multiple slash characters<br />
wind speed syntax<br />
wind direction syntax<br />
pressure syntax<br />
air and dew point temperature syntax<br />
if an airport code is the first element or appear
immediately after METAR, SPECI, METAR COR ro SPECI COR.
</p>


<h3>Value</h3>

<p>if verbose = FALSE, TRUE if a METAR is correct, FALSE if not.
</p>
<p>if verbose = TRUE, all incorrect METAR reports will be printed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_is_correct("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_is_correct("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5! SLP180")
metar_is_correct("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04//M03 Q1025")

</code></pre>

<hr>
<h2 id='metar_location'>Get approximated airport location.</h2><span id='topic+metar_location'></span>

<h3>Description</h3>

<p>Find approximated latitude, longitude and elevation of an airport according to
IATA, International Air Transport Association, or
ICAO, International Civil Aviation Organization, airport code. Two source of
information about airports are used. First the function search in the list of
airports available at
<a href="https://ourairports.com/data/">https://ourairports.com/data/</a>
created by David Megginson.
If an airport cannot be found there, the second list of airports is searched, from
<a href="https://weather.ral.ucar.edu/surface/stations.txt">https://weather.ral.ucar.edu/surface/stations.txt</a>
prepared by Greg Thompson from <br />
National Weather Service NCAR/RAP.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_location(x = "EPWA")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_location_+3A_x">x</code></td>
<td>
<p>character vector; an airport ICAO four letters code or an IATA three letters code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble with columns with an airport information as below:
</p>

<ul>
<li><p> ICAO code
</p>
</li>
<li><p> IATA Code
</p>
</li>
<li><p> Airport name
</p>
</li>
<li><p> Longitude, in degress
</p>
</li>
<li><p> Latitude, in degress
</p>
</li>
<li><p> Elevation, above see elevel in meters
</p>
</li>
<li><p> Source of information
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>metar_location("EPWA")
metar_location("CYUL")
metar_location("LEMD")
metar_location("NCRK")
metar_location("WAW")
metar_location("FRA")

</code></pre>

<hr>
<h2 id='metar_pressure'>Get atmospheric pressure.</h2><span id='topic+metar_pressure'></span>

<h3>Description</h3>

<p>Extract and parse an air pressure value from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_pressure(x, altimeter = FALSE, check = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_pressure_+3A_x">x</code></td>
<td>
<p>character vector; a METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_pressure_+3A_altimeter">altimeter</code></td>
<td>
<p>boolean; if FALSE, the default value, a pressure is returned in hPa,
if TRUE a pressure is returned in inHg (inch of mercury).</p>
</td></tr>
<tr><td><code id="metar_pressure_+3A_check">check</code></td>
<td>
<p>logical; if TRUE the syntax of METAR reports will be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with air pressure in inHg or hPa.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_pressure("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_pressure("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005", altimeter = TRUE)
metar_pressure("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025 NOSIG= NOSIG=")

</code></pre>

<hr>
<h2 id='metar_print'>Decode and print METAR report</h2><span id='topic+metar_print'></span>

<h3>Description</h3>

<p>Extract, parse and print information from a single METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_print(
  x,
  metric = TRUE,
  altimeter = FALSE,
  numeric_only = FALSE,
  check = TRUE,
  sep = ";"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_print_+3A_x">x</code></td>
<td>
<p>character vector; a single METAR weather report.</p>
</td></tr>
<tr><td><code id="metar_print_+3A_metric">metric</code></td>
<td>
<p>logical; if TRUE wind speeds returned in m/s, distances in meters.<br />
If FALSE, wind speeds returned in knots and distances in miles.</p>
</td></tr>
<tr><td><code id="metar_print_+3A_altimeter">altimeter</code></td>
<td>
<p>logical; if FLASE pressures returned in hPa, if TRUE in mmHg.</p>
</td></tr>
<tr><td><code id="metar_print_+3A_numeric_only">numeric_only</code></td>
<td>
<p>logical; if TRUE only numeric values are returned.</p>
</td></tr>
<tr><td><code id="metar_print_+3A_check">check</code></td>
<td>
<p>logical; if TRUE the syntax of METAR reports will be checked and incorrect
reports will be omitted. If FALSE, the incorrect syntax of reports can cause errors and
breakdown of decoding. The default value is TRUE.</p>
</td></tr>
<tr><td><code id="metar_print_+3A_sep">sep</code></td>
<td>
<p>character; comma or semicolon, used for separating decoded elements of weather
conditions information. The default value is &quot;;&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function prints below decoded METAR weather report elements:<br />
</p>

<ul>
<li><p> Remark: Don't use for flight planning or navigation!
or Incorrect METAR report! Please check the column Original_METAR.
</p>
</li>
<li><p> Airport ICAO
</p>
</li>
<li><p> Day of Month
</p>
</li>
<li><p> Hour (HH:mm)
</p>
</li>
<li><p> Time zone
</p>
</li>
<li><p> Wind speed (m/s or kn)
</p>
</li>
<li><p> Gust (m/s or kn)
</p>
</li>
<li><p> Wind shear
</p>
</li>
<li><p> Wind direction (degrees)
</p>
</li>
<li><p> Temperature (Celsius degrees)
</p>
</li>
<li><p> Dew point (Celsius degrees)
</p>
</li>
<li><p> Pressure (hPa or mmHg)
</p>
</li>
<li><p> Pressure unit (hPa or mmHg)
</p>
</li>
<li><p> Visibility (m or miles)
</p>
</li>
<li><p> Cloud coverage
</p>
</li>
<li><p> Weather conditions information from WX codes
</p>
</li>
<li><p> Runway visibility (m or feet)
</p>
</li>
<li><p> Airport Name
</p>
</li>
<li><p> Longitude
</p>
</li>
<li><p> Latitude
</p>
</li>
<li><p> Elevation
</p>
</li>
<li><p> Decode Date
</p>
</li>
<li><p> Original METAR text
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>metar_print("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_print("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180",
altimeter = TRUE, metric = FALSE)
metar_print("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")
metar_print("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005", altimeter = TRUE)
metar_print("CYWG 172000Z 30015G25KT 3/4SM R36/4000FT/D -SN M05/M08 A2992")
metar_print("202103251800 METAR COR NFTL 251800Z 00000KT SCT017TCU BKN290 25/25 Q1014")

</code></pre>

<hr>
<h2 id='metar_rwy_visibility'>Get runway(s) visibility.</h2><span id='topic+metar_rwy_visibility'></span>

<h3>Description</h3>

<p>Function extracts runway(s) visibility value(s) from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_rwy_visibility(x, metric = TRUE, sep = ";")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_rwy_visibility_+3A_x">x</code></td>
<td>
<p>Input character vector</p>
</td></tr>
<tr><td><code id="metar_rwy_visibility_+3A_metric">metric</code></td>
<td>
<p>logical; if TRUE, the default value, runway(s) visibility is returned in meters,
if FALSE then in feet.</p>
</td></tr>
<tr><td><code id="metar_rwy_visibility_+3A_sep">sep</code></td>
<td>
<p>character; comma or semicolon, used for separating decoded elements of weather
conditions information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector. A visibility in m/s or feet.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
metar_rwy_visibility("EBBR 040220Z VRB01KT 0150 R25L/1200N R02/P1500 07/06 Q1017")
metar_rwy_visibility("EBBR 040220Z VRB01KT 0150 R25R/0600FT R02/P1500 07/06 Q1017")
metar_rwy_visibility("EDDF 220520Z 26003KT 0500 R25R/0400N R18/0650V1100N FZFG", sep = ",")
metar_rwy_visibility("CYWG 172000Z 30015G25KT 3/4SM R36/4000FT/D -SN M05/M08 A2992")
metar_rwy_visibility("EBBR 040220Z VRB01KT 0150 R25L/1200N R26R/1000 R36/4000FT/D -SN")

</code></pre>

<hr>
<h2 id='metar_speed'>Get wind speed</h2><span id='topic+metar_speed'></span>

<h3>Description</h3>

<p>Extract a wind speed value from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_speed(x, metric = TRUE, check = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_speed_+3A_x">x</code></td>
<td>
<p>character vector; METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_speed_+3A_metric">metric</code></td>
<td>
<p>logical; the default value is TRUE and a returned wind speed is in m/s;
if it's FALSE then in knots.</p>
</td></tr>
<tr><td><code id="metar_speed_+3A_check">check</code></td>
<td>
<p>logical; the default value is FALSE, if METAR report fails the syntax
check, NA value will be returned. If FALSE, zero values will be returned for
METAR reports with incorrect syntax.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector. A wind speed in m/s or in knots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_speed("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_speed("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180", metric = FALSE)
metar_speed("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025 NOSIG= NOSIG=")
metar_speed("EPKK 141730Z VRB01KT CAVOK 21/16 Q1028")

</code></pre>

<hr>
<h2 id='metar_temp'>Get temperature.</h2><span id='topic+metar_temp'></span>

<h3>Description</h3>

<p>Extract a temperature value from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_temp(x, check = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_temp_+3A_x">x</code></td>
<td>
<p>character vector; a METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_temp_+3A_check">check</code></td>
<td>
<p>logical; if TRUE the syntax of METAR reports will be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with temperature in degrees Celsius.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_temp("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_temp("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_temp("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025 NOSIG=")
metar_temp("METAR KEWR 010851Z 27010KT 10SM BKN210 04/M03 A2969 RMK SLP054
T00391033 52012")

</code></pre>

<hr>
<h2 id='metar_time_zone'>Get time zone.</h2><span id='topic+metar_time_zone'></span>

<h3>Description</h3>

<p>Extract a time zone of METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_time_zone(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_time_zone_+3A_x">x</code></td>
<td>
<p>character; a METAR weather report or reports.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with time zone.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_time_zone("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_time_zone("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_time_zone("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")

</code></pre>

<hr>
<h2 id='metar_visibility'>Get visibility information.</h2><span id='topic+metar_visibility'></span>

<h3>Description</h3>

<p>Extract and parse visibility information from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_visibility(x, metric = TRUE, numeric_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_visibility_+3A_x">x</code></td>
<td>
<p>character vector; a METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_visibility_+3A_metric">metric</code></td>
<td>
<p>For the default metric = TRUE returned distances are in meters. If it's FALSE, in miles.</p>
</td></tr>
<tr><td><code id="metar_visibility_+3A_numeric_only">numeric_only</code></td>
<td>
<p>logical; if TRUE only a numeric value will be returned</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with visibility information, in meters or miles.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_visibility("EPWA 281830Z 18009KT 140V200 9999 SCT037 03/M01 Q1008 NOSIG")
metar_visibility("CYUL 281800Z 13008KT 30SM BKN240 01/M06 A3005 RMK CI5 SLP180")
metar_visibility("201711271930 METAR LEMD 271930Z 02002KT CAVOK 04/M03 Q1025")
metar_visibility("KBLV 011657Z AUTO 25015G30KT 210V290 3/8SM R32L/1000FT FG
BKN005 01/M01 A2984")

</code></pre>

<hr>
<h2 id='metar_windshear'>Get wind shear information.</h2><span id='topic+metar_windshear'></span>

<h3>Description</h3>

<p>Function extracts information about wind shear from METAR weather report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_windshear(x, metric = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_windshear_+3A_x">x</code></td>
<td>
<p>character vector; METAR weather report or reports.</p>
</td></tr>
<tr><td><code id="metar_windshear_+3A_metric">metric</code></td>
<td>
<p>For the default metric = TRUE a returned wind speed is in m/s. If it's FALSE, in knots.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with information about wind shear.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_windshear("METAR VHHH 180800Z 12009KT 060V150 FEW010 SCT045 22/18 Q1012 WS R07R")
metar_windshear("CYWG 172000Z 30015G25KT 3/4SM R36/4000FT/D M05/M08 A2992 WS RWY36")
metar_windshear("KPIT 091730Z 091818 22020KT 3SM -SHRA BKN020 WS015/30045KT",
 metric = FALSE)

</code></pre>

<hr>
<h2 id='metar_wx_codes'>Get weather conditions information.</h2><span id='topic+metar_wx_codes'></span>

<h3>Description</h3>

<p>Extract and parse weather conditions information METAR WX codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metar_wx_codes(x, sep = ";")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metar_wx_codes_+3A_x">x</code></td>
<td>
<p>Input character vector</p>
</td></tr>
<tr><td><code id="metar_wx_codes_+3A_sep">sep</code></td>
<td>
<p>character; comma or semicolon, used for separating decoded elements of weather
conditions information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector. with METAR WX codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>metar_wx_codes("METAR EPWA 132100Z 29006KT 260V320 8000 SHRA SCT009 BKN025CB 18/17 Q1011")
metar_wx_codes("CYUL 101900Z 27015G25KT 15SM DRSN SCT028 BKN090 OVC110 M04/M10 A2973 RMK")
metar_wx_codes("METAR EPKK 200300Z 23014KT 9999 -SHSN SCT009CB BKN012 01/M00 Q1008", sep = ",")
metar_wx_codes("202001190045 METAR KEWR 190045Z 19008KT 4SM -RA -PL BR FEW007 01/M01 A2995")

</code></pre>

<hr>
<h2 id='metarWXcodes'>METAR WX weather conditions codes</h2><span id='topic+metarWXcodes'></span>

<h3>Description</h3>

<p>A dataset containing the explanations for METAR WX
weather conditions codes. The variables are as follows:
</p>


<h3>Format</h3>

<p>A data frame with 39 rows and 3 variables
</p>


<h3>Details</h3>


<ul>
<li><p> Type; type of the codes
</p>
</li>
<li><p> Abbreviation; the codes which are included in METAR reports
</p>
</li>
<li><p> Meaning; description of the codes
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/METAR#METAR_WX_codes">https://en.wikipedia.org/wiki/METAR#METAR_WX_codes</a>
</p>

<hr>
<h2 id='mst'>Secondary airport list</h2><span id='topic+mst'></span>

<h3>Description</h3>

<p>A character vector containing the list of airports.
</p>


<h3>Format</h3>

<p>A character vector with the length of 10113 items
</p>


<h3>Details</h3>

<p>From <a href="https://www.aviationweather.gov/">https://www.aviationweather.gov/</a>
A data set is in the public domain according to <a href="https://www.weather.gov/disclaimer">https://www.weather.gov/disclaimer</a>
</p>


<h3>Author(s)</h3>

<p>Greg Thompson from National Weather Service NCAR/RAP, NOAA National Weather Service
</p>


<h3>References</h3>

<p><a href="https://weather.ral.ucar.edu/surface/stations.txt">https://weather.ral.ucar.edu/surface/stations.txt</a>,
</p>

<hr>
<h2 id='ourairports'>Main list of airports</h2><span id='topic+ourairports'></span>

<h3>Description</h3>

<p>#' A dataset containing the list of airports
</p>


<h3>Format</h3>

<p>A data frame with 28935 rows and 12 variables
</p>


<h3>Details</h3>

<p>From <a href="https://ourairports.com">https://ourairports.com</a>
A data set is in the public domain according to <a href="https://ourairports.com/data/">https://ourairports.com/data/</a>
</p>

<ul>
<li><p> id; identification number
</p>
</li>
<li><p> ident; airport ICAO code
</p>
</li>
<li><p> type; airport type
</p>
</li>
<li><p> name; airport name
</p>
</li>
<li><p> latitude_deg; geographical latitude
</p>
</li>
<li><p> longitude_deg; geographical longitude
</p>
</li>
<li><p> elevation_ft; airport elevation in feet
</p>
</li>
<li><p> elevation_m; airport elevation in meters
</p>
</li>
<li><p> iso_country; ISO country code
</p>
</li>
<li><p> iso_region; ISO region code
</p>
</li>
<li><p> municipality;
</p>
</li>
<li><p> iata_code; airport IATA code
</p>
</li></ul>



<h3>Author(s)</h3>

<p>David Megginson
</p>


<h3>References</h3>

<p><a href="https://ourairports.com/data/">https://ourairports.com/data/</a>
</p>

<hr>
<h2 id='pmetar-package'>pmetar: Processing METAR Weather Reports</h2><span id='topic+pmetar'></span><span id='topic+pmetar-package'></span>

<h3>Description</h3>

<p>Processing METAR Weather Reports
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Pawel Cwiek <a href="mailto:prc.altodato@gmail.com">prc.altodato@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> David Megginson (Author of data set with airports list https://ourairports.com/data/) [contributor]
</p>
</li>
<li><p> Greg Thompson (Author of data set with airports list https://weather.ral.ucar.edu/surface/stations.txt) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/prcwiek/pmetar">https://github.com/prcwiek/pmetar</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/prcwiek/pmetar/issues">https://github.com/prcwiek/pmetar/issues</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ptable</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ptable}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_ptable'><p>Noise Probability Generator for the Cell-Key Method (CKM)</p></a></li>
<li><a href='#modify_cnt_ptable'><p>Modify a ptable suitable for frequency count variables</p></a></li>
<li><a href='#plot'><p>Plot the results of the perturbation table generator</p></a></li>
<li><a href='#pt_check'><p>Check the constraint of the ptable</p></a></li>
<li><a href='#pt_ex_cnts'><p>A quick ptable that can be used in various examples</p></a></li>
<li><a href='#pt_ex_nums'><p>Quick ptables for numeric variables</p></a></li>
<li><a href='#pt_export'><p>Export ptables as a txt-file</p></a></li>
<li><a href='#pt_optim_entropy'><p>Maximum Entropy Approach</p></a></li>
<li><a href='#pt_vignette'><p>Vignette</p></a></li>
<li><a href='#ptable'><p>Perturbation Table Dashboard for Frequency Count Tables</p></a></li>
<li><a href='#ptable_params-class'><p>An S4 class to represent perturbation parameters</p></a></li>
<li><a href='#ptable-class'><p>An S4 class to represent perturbation table</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generation of Perturbation Tables for the Cell-Key Method</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tobias Enderle &lt;tobias.enderle@destatis.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Tabular data from statistical institutes and agencies are mostly 
    confidential and must be protected prior to publications. The cell-key 
    method is a post-tabular Statistical Disclosure Control perturbation 
    technique that adds random noise to tabular data. The statistical 
    properties of the perturbations are defined by some noise probability 
    distributions - also referred to as perturbation tables. 
    This tool can be used to create the perturbation tables based on a maximum 
    entropy approach as described for example in Giessing (2016) 
    &lt;<a href="https://doi.org/10.1007%2F978-3-319-45381-1_18">doi:10.1007/978-3-319-45381-1_18</a>&gt;. The perturbation tables created can 
    finally be used to apply a cell-key method to frequency count or magnitude 
    tables.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://joinup.ec.europa.eu/software/page/eupl">EUPL</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sdcTools/ptable">https://github.com/sdcTools/ptable</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sdcTools/ptable/issues">https://github.com/sdcTools/ptable/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, flexdashboard, ggplot2, methods, nloptr,
RColorBrewer, rlang, rmarkdown</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-01 15:46:41 UTC; enderle</td>
</tr>
<tr>
<td>Author:</td>
<td>Tobias Enderle [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-01 20:10:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_ptable'>Noise Probability Generator for the Cell-Key Method (CKM)</h2><span id='topic+create_ptable'></span><span id='topic+create_cnt_ptable'></span><span id='topic+create_cnts_ptable'></span><span id='topic+create_num_ptable'></span><span id='topic+create_nums_ptable'></span>

<h3>Description</h3>

<p><a href="https://github.com/sdcTools/ptable">ptable</a> makes it easy to create
perturbation tables that can be used for applying noise to statistical
tables with any cell-key method approach - among others either the
<a href="https://github.com/sdcTools/cellKey">cellKey()</a>-package
or the standalone tool <a href="https://github.com/sdcTools/tauargus">TauArgus</a>.
</p>
<p>The package
provides four main functions to create the perturbation tables:
</p>

<ul>
<li> <p><code>create_ptable()</code>: generic function that creates a ptable, either for
frequency count or magnitude tables with a various set of options.
</p>
</li>
<li> <p><code>create_cnt_ptable()</code>: creates a ptable suitable for frequency count
tables.
</p>
</li>
<li> <p><code>create_num_ptable()</code>: creates a ptable suitable for magnitude tables
(i.e. with numerical variables).
</p>
</li>
<li> <p><code><a href="#topic+modify_cnt_ptable">modify_cnt_ptable()</a></code>: modifies the ptable for a higher level of protection
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>create_ptable(
  D,
  V,
  js = 0,
  pstay = NULL,
  optim = 1,
  mono = TRUE,
  step = 1,
  icat = NULL,
  table = "cnts",
  type = "all",
  label = paste0("D", D, "V", V * 100),
  monitoring = FALSE,
  debugging = FALSE,
  create = TRUE,
  params = NULL
)

create_cnt_ptable(
  D,
  V,
  js = 0,
  pstay = NULL,
  optim = 1,
  mono = TRUE,
  label = paste0("D", D, "V", V * 100),
  monitoring = FALSE,
  create = TRUE
)

create_num_ptable(
  D,
  V,
  pstay = NULL,
  optim = 1,
  mono = TRUE,
  step = 2,
  icat = NULL,
  type = "all",
  label = paste0("D", D, "V", V * 100),
  monitoring = FALSE,
  create = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_ptable_+3A_d">D</code></td>
<td>
<p>perturbation parameter for maximum noise (scalar integer)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_v">V</code></td>
<td>
<p>perturbation parameter for variance (scalar double)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_js">js</code></td>
<td>
<p>threshold value for blocking of small frequencies
(i.e. the perturbation will not produce positive cell values that are equal
to or smaller than the threshold value). (scalar integer)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_pstay">pstay</code></td>
<td>
<p>optional parameter to set the probability (0 &lt; p &lt; 1) of
an original frequency to remain unperturbed: NA (default) no preset
probability (i.e. produces the maximum entropy solution)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_optim">optim</code></td>
<td>
<p>optimization parameter: <code>1</code> standard approach (default) with
regular constraints, <code>4</code> alternative approach with simplified constraints
(may work if constraints using the standard approach are violated)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_mono">mono</code></td>
<td>
<p>(logical) vector specifying optimization parameter for
monotony condition</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_step">step</code></td>
<td>
<p>(integer) number of steps for the noise (between two integer
values). Whereas the cell-key approach
for frequency count tables only allows to have noise values that are
integers (<code>step = 1</code>)
</p>
<p style="text-align: center;"><code class="reqn">-D, 1-D, 2-D, ..., -1, 0, 1, ..., D-2, D-1, D</code>
</p>

<p>the noise distribution for magnitude values does not have
to be integer valued:
</p>
<p style="text-align: center;"><code class="reqn">-D, (1/step)-D, (2/step)-D, ..., 0, ..., D-(2/step), D-(1/step), D</code>
</p>

<p>The reciprocal of step (='step width') is computed and used internally
for the perturbation table.</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_icat">icat</code></td>
<td>
<p>(integer) categorized original frequencies i</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_table">table</code></td>
<td>
<p>(character) type of the table: frequency count (<code>cnts</code>)
or magnitude table (<code>nums</code>)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_type">type</code></td>
<td>
<p>(character) type indicator for the extra column 'type' used for
magnitude tables: <code>'even'</code>, <code>'odd'</code> or <code>'all'</code> (default)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_label">label</code></td>
<td>
<p>(character) label of the Output</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_monitoring">monitoring</code></td>
<td>
<p>(logical) output monitoring on/off</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_debugging">debugging</code></td>
<td>
<p>(logical) debug monitoring on/off</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_create">create</code></td>
<td>
<p>(logical) scalar specifying to create just the
input parameters of class <a href="#topic+ptable_params-class">ptable_params</a> (<code>FALSE</code>) or also to
create the perturbation table object of class <a href="#topic+ptable-class">ptable</a>
(default: <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="create_ptable_+3A_params">params</code></td>
<td>
<p>object of class <a href="#topic+ptable_params-class">ptable_params</a> can be used as input
instead of the remaining parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The perturbation probabilities are constructed given the following
constraints:
</p>

<ul>
<li><p> Maximum noise
</p>
</li>
<li><p> Zero mean (unbiased noise)
</p>
</li>
<li><p> Fixed noise variance
</p>
</li>
<li><p> Transition probabilities are between zero and one and the sum up to 1
</p>
</li>
<li><p> Perturbations will not produce negative cell values or positive cell values
equal to or less than a specific threshold value
</p>
</li></ul>



<h3>Value</h3>

<p>Returns <a href="#topic+ptable-class">ptable</a> object including the
created perturbation table by default. If the argument <code>create = FALSE</code>,
a <a href="#topic+ptable_params-class">ptable_params</a> object is returned.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+plot">plot()</a></code> to analyze the created perturbation table visually
</p>
</li>
<li> <p><code><a href="#topic+pt_export">pt_export()</a></code> to export the perturbation table for external sdcTools
like <a href="https://github.com/sdcTools/tauargus">TauArgus</a> or SAS.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# create ptable for frequency count tables
create_cnt_ptable(D = 3, V = 1.08, js = 1, label = "ptable_frequency_tab")

# create ptable for magnitude tables
create_num_ptable(D = 5, V = 2, step = 4, icat = c(1, 3, 5))

# create ptable for frequency or magnitude tables
create_ptable(D = 3, V = 1.08, js = 1, table="cnts")
create_ptable(D = 5, V = 2, step = 4, icat = c(1, 4, 5), table="nums")


</code></pre>

<hr>
<h2 id='modify_cnt_ptable'>Modify a ptable suitable for frequency count variables</h2><span id='topic+modify_cnt_ptable'></span><span id='topic+modify_cnts_ptable'></span>

<h3>Description</h3>

<p><code><a href="#topic+modify_cnt_ptable">modify_cnt_ptable()</a></code> is a function to modify the standard
ptable for count variables that is generated by <code><a href="#topic+create_cnt_ptable">create_cnt_ptable()</a></code> or
within the 'cellKey'-package. The noise intervals in
the standard ptable are ordered from -D to D. A modified ptable still has
the same properties as the standard ptable but can ensure a higher
protection of perturbed frequency tables since the noise probabilities are
split and the intervals are rearranged.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modify_cnt_ptable(input, threshold = 0.2, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modify_cnt_ptable_+3A_input">input</code></td>
<td>
<p>The ptable-object of class 'ptable', 'ck_params' or data.table</p>
</td></tr>
<tr><td><code id="modify_cnt_ptable_+3A_threshold">threshold</code></td>
<td>
<p>The maximum width of the intervals after modification</p>
</td></tr>
<tr><td><code id="modify_cnt_ptable_+3A_seed">seed</code></td>
<td>
<p>A seed for the rearrangement of the split intervals</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In a first step, the noise probabilities larger than a threshold value
will be split. Then, the split noise probabilities are randomly rearranged
using a seed (the modifications is replicable). Finally, the intervals of
the ptable will be adjusted.
</p>


<h3>Value</h3>

<p>Returns an object of class <a href="#topic+ptable-class">ptable</a> or a data.table.
</p>


<h3>Author(s)</h3>

<p>Tobias Enderle, <a href="mailto:tobias.enderle@destatis.de">tobias.enderle@destatis.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_ptable">create_ptable()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Original ptable
ptab &lt;- create_cnt_ptable(3, 1)

# modified ptable
ptab_mod &lt;- modify_cnt_ptable(ptab, 0.3, seed = 5467)
ptab_mod@pTable

</code></pre>

<hr>
<h2 id='plot'>Plot the results of the perturbation table generator</h2><span id='topic+plot'></span>

<h3>Description</h3>

<p><code><a href="#topic+plot">plot()</a></code> makes it easy to visualize the results of the created
ptable-object that has been created by <code><a href="#topic+create_cnt_ptable">create_cnt_ptable()</a></code>,
<code><a href="#topic+create_cnt_ptable">create_cnt_ptable()</a></code> or <code><a href="#topic+modify_cnt_ptable">modify_cnt_ptable()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot(obj, type = "d", file = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_+3A_obj">obj</code></td>
<td>
<p>an object of class <code><a href="#topic+ptable-class">ptable</a></code></p>
</td></tr>
<tr><td><code id="plot_+3A_type">type</code></td>
<td>
<p>(character) type of graph: distribution &quot;d&quot; (standard),
perturbation panel (&quot;p&quot;), transition matrix &quot;t&quot;</p>
</td></tr>
<tr><td><code id="plot_+3A_file">file</code></td>
<td>
<p>if not <code>NULL</code>, a path to a file (with file extension, e.g.
'.pdf' or '.png') where the graph is saved to</p>
</td></tr>
<tr><td><code id="plot_+3A_...">...</code></td>
<td>
<p>additional parameters passed to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The selected graph is displayed, but there is no direct return
value. The output could also be assigned to an object to receive an object
of class <code>ggplot</code>.
</p>


<h3>Author(s)</h3>

<p>Tobias Enderle
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a ptable for frequency count tables and modify the intervals
ptab &lt;- create_cnt_ptable(D = 3, V = 1.05, js = 1, label = "Example")
ptab_mod &lt;- modify_cnt_ptable(ptab, threshold = 0.3, seed = 5432)

# Distribution Plot of the Noise
plot(ptab_mod, type = "d")

# Perturbations Panel of the Noise
plot(ptab_mod, type = "p")


## Plot and Save the Transition Matrix
plot(ptab_mod, type ="t", 
     file = tempfile("example_tMatrix", fileext = ".pdf"))


</code></pre>

<hr>
<h2 id='pt_check'>Check the constraint of the ptable</h2><span id='topic+pt_check'></span>

<h3>Description</h3>

<p><code><a href="#topic+pt_check">pt_check()</a></code> checks the constraints of the ptable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pt_check(ptab)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pt_check_+3A_ptab">ptab</code></td>
<td>
<p>a <code>data.table</code> or an an object of <a href="#topic+ptable-class">ptable</a> generated
with <code><a href="#topic+create_cnt_ptable">create_cnt_ptable()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.table object
</p>


<h3>Author(s)</h3>

<p>Tobias Enderle, <a href="mailto:tobias.enderle@destatis.de">tobias.enderle@destatis.de</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create ptable 
ptab1 &lt;- create_cnt_ptable(D = 5, V = 3, js = 2, label = "test2")

# check ptable
pt_check(ptab1)

</code></pre>

<hr>
<h2 id='pt_ex_cnts'>A quick ptable that can be used in various examples</h2><span id='topic+pt_ex_cnts'></span>

<h3>Description</h3>

<p><code><a href="#topic+pt_ex_cnts">pt_ex_cnts()</a></code> returns a perturbation table object from
<code><a href="#topic+create_cnt_ptable">create_cnt_ptable()</a></code> with some default parameters. This is useful
for quickly creating ptables to demonstrate usage in other tools.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pt_ex_cnts()
</code></pre>


<h3>Value</h3>

<p>Returns a <a href="#topic+ptable-class">ptable</a> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ptab &lt;- pt_ex_cnts()
plot(ptab, type = "t")
</code></pre>

<hr>
<h2 id='pt_ex_nums'>Quick ptables for numeric variables</h2><span id='topic+pt_ex_nums'></span>

<h3>Description</h3>

<p><code><a href="#topic+pt_ex_nums">pt_ex_nums()</a></code> returns a perturbation table objects from
<code><a href="#topic+create_num_ptable">create_num_ptable()</a></code> with some default parameters. This is useful
for quickly creating ptables to demonstrate usage in other tools.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pt_ex_nums(parity = TRUE, separation = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pt_ex_nums_+3A_parity">parity</code></td>
<td>
<p>a scalar logical; if <code>TRUE</code>, a single ptable will be generated.
If <code>FALSE</code>, two ptables for even and odd numbers are created</p>
</td></tr>
<tr><td><code id="pt_ex_nums_+3A_separation">separation</code></td>
<td>
<p>a scalar logical; if <code>TRUE</code>, an additional ptable with
variance <code>1</code> will be returned that is designed to perturb small cell values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <a href="#topic+ptable-class">ptable</a> object if both <code>parity</code> and <code>separation</code>
are <code>FALSE</code>, else a named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# extra ptable for small cells
names(pt_ex_nums(parity = FALSE, separation = TRUE))

# different ptables for even/odd cells
names(pt_ex_nums(parity = TRUE, separation = TRUE))

</code></pre>

<hr>
<h2 id='pt_export'>Export ptables as a txt-file</h2><span id='topic+pt_export'></span>

<h3>Description</h3>

<p>Function to export perturbation table to Tau-Argus, SAS or
any other CKM tool (as txt-file).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pt_export(..., file, SDCtool = "TauArgus")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pt_export_+3A_...">...</code></td>
<td>
<p>1 or 2 input object of class <code><a href="#topic+ptable-class">ptable</a></code></p>
</td></tr>
<tr><td><code id="pt_export_+3A_file">file</code></td>
<td>
<p>(character) filename (only 'txt' is possible as file extension)</p>
</td></tr>
<tr><td><code id="pt_export_+3A_sdctool">SDCtool</code></td>
<td>
<p>(character) either &quot;TauArgus&quot; or &quot;SAS&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns 'NULL' and the ptable is saved in the specified format.
</p>


<h3>Author(s)</h3>

<p>Tobias Enderle
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ptab &lt;- create_cnt_ptable(D = 5, V = 3, js = 2, label = "test")
pt_export(ptab, file = tempfile("ptable_example"), SDCtool = "TauArgus")

</code></pre>

<hr>
<h2 id='pt_optim_entropy'>Maximum Entropy Approach</h2><span id='topic+pt_optim_entropy'></span>

<h3>Description</h3>

<p>Function to solve the non-linear optimization problem used 
within <code><a href="#topic+ptable">ptable</a>()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pt_optim_entropy(
  optim = optim,
  mono = mono,
  v = v,
  variance = variance,
  lb = p_lb,
  ub = p_ub,
  ndigits
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pt_optim_entropy_+3A_optim">optim</code></td>
<td>
<p>optimization parameter (1=default, 2-4=further test 
implementations)</p>
</td></tr>
<tr><td><code id="pt_optim_entropy_+3A_mono">mono</code></td>
<td>
<p>(logical) monotony parameter</p>
</td></tr>
<tr><td><code id="pt_optim_entropy_+3A_v">v</code></td>
<td>
<p>(integer) vector with perturbation values (i.e. deviations to the 
original frequency)</p>
</td></tr>
<tr><td><code id="pt_optim_entropy_+3A_variance">variance</code></td>
<td>
<p>(numeric) variance parameter</p>
</td></tr>
<tr><td><code id="pt_optim_entropy_+3A_lb">lb</code></td>
<td>
<p>(integer) vector with lower bounds of the controls</p>
</td></tr>
<tr><td><code id="pt_optim_entropy_+3A_ub">ub</code></td>
<td>
<p>(integer) vector with upper bounds of the controls</p>
</td></tr>
<tr><td><code id="pt_optim_entropy_+3A_ndigits">ndigits</code></td>
<td>
<p>(integer) number of digits</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The main parameter is 'optim': In 'optim=1 to 3' the variance is 
stated as inequality constraint and in 'optim=4' the variance condition is 
stated as equality constraint.
</p>


<h3>Value</h3>

<p>The return value contains a list with two elements:
</p>

<dl>
<dt>&quot;<code>result</code>&quot;</dt><dd><p>   optimal value of the controls</p>
</dd>
<dt>&quot;<code>iter</code>&quot;  </dt><dd><p>   number of iterations that were executed</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Tobias Enderle, Sarah Giessing, Jonas Peter
</p>


<h3>See Also</h3>

<p>Giessing, S. (2016), 'Computational Issues in the Design of 
Transition Probabilities and Disclosure Risk Estimation for Additive Noise'. 
In: Domingo-Ferrer, J. and Pejic-Bach, M. (Eds.), Privacy in Statistical 
Databases, pp. 237-251, Springer International Publishing, LNCS, vol. 9867.
</p>
<p>Fraser, B. and Wooton, J.: A proposed method for confidentialising 
tabular output to protect against differencing. In: Monographs of Official 
Statistics. Work session on Statistical Data Confidentiality, 
Eurostat-Office for Official Publications of the European Communities, 
Luxembourg, 2006, pp. 299-302
</p>

<hr>
<h2 id='pt_vignette'>Vignette</h2><span id='topic+pt_vignette'></span>

<h3>Description</h3>

<p>Starts the package vignette that gets you started with the 
package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pt_vignette()
</code></pre>


<h3>Value</h3>

<p>a browser windows/tab with showing the vignette
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pt_vignette()

</code></pre>

<hr>
<h2 id='ptable'>Perturbation Table Dashboard for Frequency Count Tables</h2><span id='topic+ptable'></span>

<h3>Description</h3>

<p>In the <code>ptable</code>-package there is a shiny app for first
time users and visual-style learners. <code><a href="#topic+ptable">ptable()</a></code> makes it easy to experiment
with different parameter
settings while getting direct feedback by means of graphical plots and
summaries. The different result output tabs are:
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;Perturbation Table&#8288;</code> shows the output used for applying CKM methods.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;Constraints Check&#8288;</code> can be used to check the main constraints (e.g., zero
mean, fixed variance)
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;Input Code&#8288;</code> could be used for replication of the results (i.e. copy&amp;paste
the code for your R script).
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;Input Object&#8288;</code> shows the input object derived from the parameters a user
set.
</p>
</li>
<li> <p><code>Legend</code> gives an overview of used parameters.
</p>
</li></ul>

<p>Users can also visually learn how input parameters effect
the perturbation table:
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;Transition Matrix&#8288;</code>
</p>
</li>
<li> <p><code>Distribution</code> Plot
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;Perturbation Panel&#8288;</code> Plot
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>ptable()
</code></pre>


<h3>Value</h3>

<p>No return value, the dashboard is opened in the default browser.
</p>


<h3>Note</h3>

<p>After usage (e.g. closing the browser tab), interrupt R to stop the
application (usually by pressing Ctrl+C or Esc in the console or by using
the stop button in RStudio).
</p>


<h3>Author(s)</h3>

<p>Tobias Enderle, <a href="mailto:tobias.enderle@destatis.de">tobias.enderle@destatis.de</a>
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+create_cnt_ptable">create_cnt_ptable()</a></code> to get more help or <code><a href="#topic+pt_vignette">pt_vignette()</a></code> for an
introduction
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Run the dashboard in your default browser
ptable()


</code></pre>

<hr>
<h2 id='ptable_params-class'>An S4 class to represent perturbation parameters</h2><span id='topic+ptable_params-class'></span>

<h3>Description</h3>

<p>An S4 class to represent perturbation parameters
</p>


<h3>Slots</h3>


<dl>
<dt><code>D</code></dt><dd><p>(integer) parameter for maximum perturbation / noise</p>
</dd>
<dt><code>V</code></dt><dd><p>(numeric) parameter for perturbation variance</p>
</dd>
<dt><code>js</code></dt><dd><p>(integer) parameter for original counts not to be perturbed</p>
</dd>
<dt><code>ncat</code></dt><dd><p>(integer) number of perturbation classes</p>
</dd>
<dt><code>pstay</code></dt><dd><p>numeric vector specifying parameter for non-perturbation</p>
</dd>
<dt><code>optim</code></dt><dd><p>(integer) specifying optimization parameter for optimization 
function</p>
</dd>
<dt><code>mono</code></dt><dd><p>(logical) vector specifying optimization parameter for monotony 
condition</p>
</dd>
<dt><code>label</code></dt><dd><p>(character) label for output</p>
</dd>
<dt><code>icat</code></dt><dd><p>(integer) categorized original frequencies i</p>
</dd>
<dt><code>table</code></dt><dd><p>(character) type of table: frequency counts (<code>cnts</code>) or 
magnitude (<code>nums</code>)</p>
</dd>
<dt><code>step</code></dt><dd><p>(integer) step</p>
</dd>
<dt><code>type</code></dt><dd><p>(character) indicator for the extra column 'type' used for
magnitude tables: <code>'even'</code>, <code>'odd'</code> or <code>'all'</code></p>
</dd>
</dl>

<hr>
<h2 id='ptable-class'>An S4 class to represent perturbation table</h2><span id='topic+ptable-class'></span>

<h3>Description</h3>

<p>An S4 class to represent perturbation table
</p>


<h3>Slots</h3>


<dl>
<dt><code>tMatrix</code></dt><dd><p>(matrix) transition matrix with perturbation probabilities</p>
</dd>
<dt><code>pClasses</code></dt><dd><p>(numeric) numeric classes</p>
</dd>
<dt><code>pTable</code></dt><dd><p>(data.table) perturbation table with probabilities</p>
</dd>
<dt><code>empResults</code></dt><dd><p>(data.table) ...</p>
</dd>
<dt><code>pParams</code></dt><dd><p>a <code><a href="#topic+ptable_params-class">ptable_params</a></code> object</p>
</dd>
<dt><code>tStamp</code></dt><dd><p>(character) ...</p>
</dd>
<dt><code>type</code></dt><dd><p>(character) type indicator for magnitude tables</p>
</dd>
<dt><code>table</code></dt><dd><p>(character) type of table: frequency counts (cnts) 
or magnitude (nums)</p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package QuickJSR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {QuickJSR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#QuickJSR-package'><p>The QuickJSR package.</p></a></li>
<li><a href='#cxxflags'><p>cxxflags</p></a></li>
<li><a href='#from_json'><p>from_json</p></a></li>
<li><a href='#JSContext'><p>JSContext object</p></a></li>
<li><a href='#JSContext-method-assign'><p>Assign a value to a variable in the current context</p></a></li>
<li><a href='#JSContext-method-call'><p>Call a JS function in the current context</p></a></li>
<li><a href='#JSContext-method-get'><p>Get a variable from the current context</p></a></li>
<li><a href='#JSContext-method-source'><p>Evaluate JS string or file in the current context</p></a></li>
<li><a href='#JSContext-method-validate'><p>Assess validity of JS code without evaluating</p></a></li>
<li><a href='#ldflags'><p>ldflags</p></a></li>
<li><a href='#qjs_eval'><p>qjs_eval</p></a></li>
<li><a href='#quickjs_version'><p>Get the version of the bundled QuickJS library</p></a></li>
<li><a href='#to_json'><p>to_json</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interface for the 'QuickJS' Lightweight 'JavaScript' Engine</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An 'R' interface to the 'QuickJS' portable 'JavaScript'
    engine.  The engine and all 'R' to 'JavaScript' interoperability is bundled
    within the package, requiring no dependencies beyond a 'C' compiler.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/andrjohns/QuickJSR">https://github.com/andrjohns/QuickJSR</a>,
<a href="https://bellard.org/quickjs/">https://bellard.org/quickjs/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/andrjohns/QuickJSR/issues">https://github.com/andrjohns/QuickJSR/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, tinytest</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-AU</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-08 12:53:38 UTC; andrew</td>
</tr>
<tr>
<td>Author:</td>
<td>Andrew R. Johnson <a href="https://orcid.org/0000-0001-7000-8065"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Fabrice Bellard [cph] (Author of QuickJS sources and headers),
  Charlie Gordon [cph] (Author of QuickJS sources and headers),
  QuickJS-NG Authors [cph] (QuickJS-NG sources and headers)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andrew R. Johnson &lt;andrew.johnson@arjohnsonau.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-08 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='QuickJSR-package'>The QuickJSR package.</h2><span id='topic+QuickJSR-package'></span><span id='topic+QuickJSR'></span>

<h3>Description</h3>

<p>An interface to the QuickJS lightweight Javascript engine
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Andrew R. Johnson <a href="mailto:andrew.johnson@arjohnsonau.com">andrew.johnson@arjohnsonau.com</a> (<a href="https://orcid.org/0000-0001-7000-8065">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Fabrice Bellard (Author of QuickJS sources and headers) [copyright holder]
</p>
</li>
<li><p> Charlie Gordon (Author of QuickJS sources and headers) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/andrjohns/QuickJSR">https://github.com/andrjohns/QuickJSR</a>
</p>
</li>
<li> <p><a href="https://bellard.org/quickjs/">https://bellard.org/quickjs/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/andrjohns/QuickJSR/issues">https://github.com/andrjohns/QuickJSR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='cxxflags'>cxxflags</h2><span id='topic+cxxflags'></span>

<h3>Description</h3>

<p>Function for returning the C/C++ flags needed for compilation
using the package's headers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cxxflags(to_console = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cxxflags_+3A_to_console">to_console</code></td>
<td>
<p>Whether the result should be returned as a string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character string of CXX flags, or print flags to console
and invisibly return NULL (for use in package Makevars or similar)
</p>

<hr>
<h2 id='from_json'>from_json</h2><span id='topic+from_json'></span>

<h3>Description</h3>

<p>Use the QuickJS C API to convert a JSON string to an R object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>from_json(json)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="from_json_+3A_json">json</code></td>
<td>
<p>JSON string to convert to an R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>R object
</p>

<hr>
<h2 id='JSContext'>JSContext object</h2><span id='topic+JSContext'></span>

<h3>Description</h3>

<p>An initialised context within which to evaluate Javascript
scripts or commands.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>JSContext
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 1.
</p>


<h3>Value</h3>

<p>A JSContext object containing an initialised JavaScript
context for evaluating scripts/commands
</p>

<hr>
<h2 id='JSContext-method-assign'>Assign a value to a variable in the current context</h2><span id='topic+JSContext-method-assign'></span><span id='topic+assign'></span>

<h3>Description</h3>

<p>Assign a value to a variable in the current context
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assign(var_name, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="JSContext-method-assign_+3A_var_name">var_name</code></td>
<td>
<p>The name of the variable to assign</p>
</td></tr>
<tr><td><code id="JSContext-method-assign_+3A_value">value</code></td>
<td>
<p>The value to assign to the variable</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>NULL</code> of length 0.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ctx &lt;- JSContext$new()
ctx$assign("a", 1)
ctx$get("a")

## End(Not run)
</code></pre>

<hr>
<h2 id='JSContext-method-call'>Call a JS function in the current context</h2><span id='topic+JSContext-method-call'></span><span id='topic+call'></span>

<h3>Description</h3>

<p>Call a specified function in the JavaScript context with the
provided arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call(function_name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="JSContext-method-call_+3A_function_name">function_name</code></td>
<td>
<p>The function to be called</p>
</td></tr>
<tr><td><code id="JSContext-method-call_+3A_...">...</code></td>
<td>
<p>The arguments to be passed to the function</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>NULL</code> of length 0.
</p>


<h3>Value</h3>

<p>The result of calling the specified function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ctx &lt;- JSContext$new()
ctx$source(code = "function add(a, b) { return a + b; }")
ctx$call("add", 1, 2)

## End(Not run)
</code></pre>

<hr>
<h2 id='JSContext-method-get'>Get a variable from the current context</h2><span id='topic+JSContext-method-get'></span><span id='topic+get'></span>

<h3>Description</h3>

<p>Get the value of a variable from the current context
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get(var_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="JSContext-method-get_+3A_var_name">var_name</code></td>
<td>
<p>The name of the variable to retrieve</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>NULL</code> of length 0.
</p>


<h3>Value</h3>

<p>The value of the variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ctx &lt;- JSContext$new()
ctx$source(code = "var a = 1;")
ctx$get("a")

## End(Not run)
</code></pre>

<hr>
<h2 id='JSContext-method-source'>Evaluate JS string or file in the current context</h2><span id='topic+JSContext-method-source'></span><span id='topic+source'></span>

<h3>Description</h3>

<p>Evaluate a provided JavaScript file or string within the initialised context.
Note that this method should only be used for initialising functions or values
within the context, no values are returned from this function. See the <code style="white-space: pre;">&#8288;$call()&#8288;</code>
method for returning values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source(file = NULL, code = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="JSContext-method-source_+3A_file">file</code></td>
<td>
<p>A path to the JavaScript file to load</p>
</td></tr>
<tr><td><code id="JSContext-method-source_+3A_code">code</code></td>
<td>
<p>A single string of JavaScript to evaluate</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>NULL</code> of length 0.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ctx &lt;- JSContext$new()
ctx$source(file = "path/to/file.js")
ctx$source(code = "1 + 2")

## End(Not run)
</code></pre>

<hr>
<h2 id='JSContext-method-validate'>Assess validity of JS code without evaluating</h2><span id='topic+JSContext-method-validate'></span><span id='topic+validate'></span>

<h3>Description</h3>

<p>Checks whether JS code string is valid code in the current context
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate(code_string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="JSContext-method-validate_+3A_code_string">code_string</code></td>
<td>
<p>The JS code to check</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>NULL</code> of length 0.
</p>


<h3>Value</h3>

<p>A boolean indicating whether code is valid
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ctx &lt;- JSContext$new()
ctx$validate("1 + 2")

## End(Not run)
</code></pre>

<hr>
<h2 id='ldflags'>ldflags</h2><span id='topic+ldflags'></span>

<h3>Description</h3>

<p>Function for returning the flags needed for linking to the package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ldflags(to_console = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ldflags_+3A_to_console">to_console</code></td>
<td>
<p>Whether the result should be returned as a string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character string of linker flags, or print flags to console
and invisibly return NULL (for use in package Makevars or similar)
</p>

<hr>
<h2 id='qjs_eval'>qjs_eval</h2><span id='topic+qjs_eval'></span>

<h3>Description</h3>

<p>Evaluate a single Javascript expression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qjs_eval(eval_string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qjs_eval_+3A_eval_string">eval_string</code></td>
<td>
<p>A single string of the expression to evaluate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of the provided expression
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Return the sum of two numbers:
qjs_eval("1 + 2")

# Concatenate strings:
qjs_eval("'1' + '2'")

# Create lists from objects:
qjs_eval("var t = {'a' : 1, 'b' : 2}; t")

</code></pre>

<hr>
<h2 id='quickjs_version'>Get the version of the bundled QuickJS library</h2><span id='topic+quickjs_version'></span>

<h3>Description</h3>

<p>Get the version of the bundled QuickJS library
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quickjs_version()
</code></pre>


<h3>Value</h3>

<p>Character string of the version of the bundled QuickJS library
</p>

<hr>
<h2 id='to_json'>to_json</h2><span id='topic+to_json'></span>

<h3>Description</h3>

<p>Use the QuickJS C API to convert an R object to a JSON string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_json(arg, auto_unbox = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_json_+3A_arg">arg</code></td>
<td>
<p>Argument to convert to JSON</p>
</td></tr>
<tr><td><code id="to_json_+3A_auto_unbox">auto_unbox</code></td>
<td>
<p>Automatically unbox single element vectors</p>
</td></tr>
</table>


<h3>Value</h3>

<p>JSON string
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

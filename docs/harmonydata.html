<!DOCTYPE html><html><head><title>Help for package harmonydata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {harmonydata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_example_instruments'><p>Retrieve Example Instruments from 'Harmony Data API'</p></a></li>
<li><a href='#load_instruments_from_file'><p>Load Instruments from File</p></a></li>
<li><a href='#match_instruments'><p>Match Instruments Function</p></a></li>
<li><a href='#set_url'><p>Set 'Harmony' URL</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Library for 'Harmony'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>'Harmony' is a tool using AI which allows you to compare items from questionnaires and identify similar content. You can try 'Harmony' at <a href="https://harmonydata.ac.uk/app/">https://harmonydata.ac.uk/app/</a> and you can read our blog at <a href="https://harmonydata.ac.uk/blog/">https://harmonydata.ac.uk/blog/</a> or at <a href="https://fastdatascience.com/how-does-harmony-work/">https://fastdatascience.com/how-does-harmony-work/</a>. Documentation at <a href="https://harmonydata.ac.uk/harmony-r-released/">https://harmonydata.ac.uk/harmony-r-released/</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td>&lt;<a href="https://harmonydata.ac.uk&amp;gt;">https://harmonydata.ac.uk&gt;</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, uuid, base64enc, jsonlite, utils, tools</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-19 15:05:24 UTC; User</td>
</tr>
<tr>
<td>Author:</td>
<td>Omar Hassoun [aut, cre],
  Thomas Wood [ctb],
  Ulster University [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Omar Hassoun &lt;omtarful@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-19 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_example_instruments'>Retrieve Example Instruments from 'Harmony Data API'</h2><span id='topic+get_example_instruments'></span>

<h3>Description</h3>

<p>This function retrieves example instruments from the 'Harmony Data API'
using an HTTP POST request.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_example_instruments()
</code></pre>


<h3>Value</h3>

<p>A list representing example instruments retrieved
from the 'Harmony Data API'.
</p>


<h3>Author(s)</h3>

<p>Ulster University [cph]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load required libraries (httr) and call the function
require(httr)
instruments &lt;- get_example_instruments()

# Print the retrieved JSON content
print(instruments)


</code></pre>

<hr>
<h2 id='load_instruments_from_file'>Load Instruments from File</h2><span id='topic+load_instruments_from_file'></span>

<h3>Description</h3>

<p>This function loads instruments from a file specified by the <code>path</code>
parameter and sends the file content to an API for further processing.
It also accepts a URL leading to a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_instruments_from_file(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_instruments_from_file_+3A_path">path</code></td>
<td>
<p>The path to the file to load instruments from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of instruments returned from the API.
</p>


<h3>Author(s)</h3>

<p>Ulster University [cph]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load instruments from a PDF file
pdf_file &lt;- "https://www.apa.org/depression-guideline/patient-health-questionnaire.pdf"
response &lt;- load_instruments_from_file(pdf_file)


</code></pre>

<hr>
<h2 id='match_instruments'>Match Instruments Function</h2><span id='topic+match_instruments'></span>

<h3>Description</h3>

<p>This function takes a list of instruments, converts it to a format acceptable by the database,
and matches the instruments using the 'Harmony Data API'. It returns the matched instruments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_instruments(instruments)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="match_instruments_+3A_instruments">instruments</code></td>
<td>
<p>A list of instruments to be matched.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of matched instruments returned from the 'Harmony Data API'.
</p>


<h3>Author(s)</h3>

<p>Ulster University [cph]
</p>


<h3>References</h3>

<p>For more information about the 'Harmony Data API', visit: <a href="https://api.harmonydata.org/docs">https://api.harmonydata.org/docs</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
instruments_list &lt;- list(
  list(
    instrument_id = "id1",
    instrument_name = "Instrument A",
    questions = list(
      list(
        question_text = "How old are you?",
        topics = c("Age", "Demographics"),
        source_page = "https://example.com/instrumentA"
      ),
      list(
        question_text = "What is your gender?",
        topics = c("Gender", "Demographics"),
        source_page = "https://example.com/instrumentA"
      )
    )
  ),
  list(
    instrument_id = "id2",
    instrument_name = "Instrument B",
    questions = list(
      list(
        question_text = "Do you smoke?",
        topics = c("Smoking", "Health"),
        source_page = "https://example.com/instrumentB"
      )
    )
  )
)
matched_instruments &lt;- match_instruments(instruments_list)



</code></pre>

<hr>
<h2 id='set_url'>Set 'Harmony' URL</h2><span id='topic+set_url'></span>

<h3>Description</h3>

<p>This function sets the 'Harmony' API URL to be used in the package. By default,
it uses the production 'Harmony' API ('https://api.harmonydata.ac.uk'), but you can
override it by providing a different URL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_url(harmony_url = "https://api.harmonydata.ac.uk")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_url_+3A_harmony_url">harmony_url</code></td>
<td>
<p>The 'Harmony' API URL to be set. (default: 'https://api.harmonydata.ac.uk')</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>pkg.globals$url</code> variable is a global variable that holds the 'Harmony' API URL
to be used in the package. Once you set the URL using this function, it will be
used in all the relevant functions within the package.
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Author(s)</h3>

<p>Ulster University [cph]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set_url('https://staging.harmonydata.org')
set_url() # Will set the URL back to the default 'https://api.harmonydata.ac.uk'


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

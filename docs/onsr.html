<!DOCTYPE html><html lang="en"><head><title>Help for package onsr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {onsr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataset_size'><p>The Dataset with a size column</p></a></li>
<li><a href='#ons_browse'><p>Quickly browse to ONS' developer webpage</p></a></li>
<li><a href='#ons_browse_qmi'><p>Quickly browse to dataset's Quality and Methodology Information (QMI)</p></a></li>
<li><a href='#ons_codelists'><p>Explore codes and lists</p></a></li>
<li><a href='#ons_codes'><p>Explore codes and lists</p></a></li>
<li><a href='#ons_datasets'><p>ONS Datasets</p></a></li>
<li><a href='#ons_desc'><p>Description of the Dataset</p></a></li>
<li><a href='#ons_extra'><p>Access dataset's additional information</p></a></li>
<li><a href='#ons_get'><p>Download data from ONS</p></a></li>
<li><a href='#ons_latest'><p>Latest info on ONS Datasets</p></a></li>
<li><a href='#ons_search'><p>Search for a Dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Client for the 'ONS' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Client for the 'Office of National Statistics'
    ('ONS') API <a href="https://api.beta.ons.gov.uk/v1">https://api.beta.ons.gov.uk/v1</a>.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite, readr, tibble</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://kvasilopoulos.github.io/onsr/">https://kvasilopoulos.github.io/onsr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kvasilopoulos/onsr/issues">https://github.com/kvasilopoulos/onsr/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), data.table, vroom, curl</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-20 15:52:51 UTC; User</td>
</tr>
<tr>
<td>Author:</td>
<td>Kostas Vasilopoulos [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kostas Vasilopoulos &lt;k.vasilopoulo@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-21 11:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataset_size'>The Dataset with a size column</h2><span id='topic+dataset_size'></span>

<h3>Description</h3>

<p>The Dataset with a size column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_size
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 41 rows and 3 columns.
</p>

<hr>
<h2 id='ons_browse'>Quickly browse to ONS' developer webpage</h2><span id='topic+ons_browse'></span>

<h3>Description</h3>

<p>This function take you to the ONS' developer webpage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_browse()
</code></pre>


<h3>Value</h3>

<p>An atomic character vector with the url of the webpage
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_browse()

</code></pre>

<hr>
<h2 id='ons_browse_qmi'>Quickly browse to dataset's Quality and Methodology Information (QMI)</h2><span id='topic+ons_browse_qmi'></span>

<h3>Description</h3>

<p>This function take you to the QMI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_browse_qmi(id = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_browse_qmi_+3A_id">id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     Id that represents a dataset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An atomic character vector url with of the webpage
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_browse_qmi("cpih01")

</code></pre>

<hr>
<h2 id='ons_codelists'>Explore codes and lists</h2><span id='topic+ons_codelists'></span><span id='topic+ons_codelist'></span><span id='topic+ons_codelist_editions'></span><span id='topic+ons_codelist_edition'></span>

<h3>Description</h3>

<p>Used to get details about codes and code lists stored by ONS. Codes are used
to provide a common definition when presenting statistics with related categories.
Codes are gathered in code lists, which may change over time to include new or
different codes. The meaning of a code should not change over time, but new codes
may be created where new meaning is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_codelists()

ons_codelist(code_id = NULL)

ons_codelist_editions(code_id = NULL)

ons_codelist_edition(code_id = NULL, edition = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_codelists_+3A_code_id">code_id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>. The id of a codelist.</p>
</td></tr>
<tr><td><code id="ons_codelists_+3A_edition">edition</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A subset of the dataset representing a specific time period.
For some datasets this edition can contain all time periods (all historical data).
The latest version of this is displayed by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list or character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_codelists()
ons_codelist(code_id = "quarter")

#editions
ons_codelist_editions(code_id = "quarter")
ons_codelist_edition(code_id = "quarter", edition = "one-off")


</code></pre>

<hr>
<h2 id='ons_codes'>Explore codes and lists</h2><span id='topic+ons_codes'></span><span id='topic+ons_code'></span><span id='topic+ons_code_dataset'></span>

<h3>Description</h3>

<p>Used to get details about codes and code lists stored by ONS. Codes are used
to provide a common definition when presenting statistics with related categories.
Codes are gathered in code lists, which may change over time to include new or
different codes. The meaning of a code should not change over time, but new codes
may be created where new meaning is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_codes(code_id = NULL, edition = NULL)

ons_code(code_id = NULL, edition = NULL, code = NULL)

ons_code_dataset(code_id = NULL, edition = NULL, code = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_codes_+3A_code_id">code_id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>. The id of a codelist.</p>
</td></tr>
<tr><td><code id="ons_codes_+3A_edition">edition</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A subset of the dataset representing a specific time period.
For some datasets this edition can contain all time periods (all historical data).
The latest version of this is displayed by default.</p>
</td></tr>
<tr><td><code id="ons_codes_+3A_code">code</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code> The ID of the code within a code list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list or character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

#codes
ons_codes(code_id = "quarter", edition = "one-off")
ons_code(code_id = "quarter", edition = "one-off", code = "q2")

ons_code_dataset(code_id = "quarter", edition = "one-off", code = "q2")

</code></pre>

<hr>
<h2 id='ons_datasets'>ONS Datasets</h2><span id='topic+ons_datasets'></span><span id='topic+ons_ids'></span>

<h3>Description</h3>

<p>A grouping of data (editions) with shared dimensions, for example Sex,
Age and Geography, and all published history of this group of data.
The options in these dimensions can change over time leading to
separate editions. For example: Population Estimates for UK, England
and Wales, Scotland and Northern Ireland.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_datasets()

ons_ids()
</code></pre>


<h3>Value</h3>

<p>A tibble with the datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Find all the information about the data
ons_datasets()

# Just the ids
ons_ids()

</code></pre>

<hr>
<h2 id='ons_desc'>Description of the Dataset</h2><span id='topic+ons_desc'></span>

<h3>Description</h3>

<p>This function provides a description of the important information about a
dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_desc(id = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_desc_+3A_id">id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     Id that represents a dataset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A description of the requested dataset.
</p>


<h3>See Also</h3>

<p><code>ons_meta()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_desc("cpih01")

</code></pre>

<hr>
<h2 id='ons_extra'>Access dataset's additional information</h2><span id='topic+ons_extra'></span><span id='topic+ons_dim'></span><span id='topic+ons_dim_opts'></span><span id='topic+ons_meta'></span>

<h3>Description</h3>

<p>Data in each version is broken down by <code>dimensions</code>, and a unique
combination of dimension <code>options</code> in a version can be used to retrieve
<code>observation</code> level data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_dim(id = NULL, edition = NULL, version = NULL)

ons_dim_opts(
  id = NULL,
  edition = NULL,
  version = NULL,
  dimension = NULL,
  limit = NULL,
  offset = NULL
)

ons_meta(id = NULL, edition = NULL, version = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_extra_+3A_id">id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     Id that represents a dataset.</p>
</td></tr>
<tr><td><code id="ons_extra_+3A_edition">edition</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A subset of the dataset representing a specific time period.
For some datasets this edition can contain all time periods (all historical data).
The latest version of this is displayed by default.</p>
</td></tr>
<tr><td><code id="ons_extra_+3A_version">version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A specific instance of the edition at a point in time. New
versions can be published as a result of corrections, revisions or new data
becoming available.</p>
</td></tr>
<tr><td><code id="ons_extra_+3A_dimension">dimension</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code></p>
</td></tr>
<tr><td><code id="ons_extra_+3A_limit">limit</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[numeric(1): NULL]&#8288;</code> Number of records to return. By default is <code>NULL</code>, which
means that the defaults of the ONS API are used. You can set it to a number
to request more (or less) records, and also to <code>Inf</code> to request all records.</p>
</td></tr>
<tr><td><code id="ons_extra_+3A_offset">offset</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[numeric(1): NULL]&#8288;</code> The position in the dataset of a particular record.
By specifying <code>offset</code> , you retrieve a subset of records starting with
the <code>offset</code> value. Offset normally works with length , which determines
how many records to retrieve starting from the <code>offset</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ons_dim(id = "cpih01")

ons_dim_opts(id = "cpih01", dimension = "time")

ons_meta(id = "cpih01")

## End(Not run)
</code></pre>

<hr>
<h2 id='ons_get'>Download data from ONS</h2><span id='topic+ons_get'></span><span id='topic+ons_get_obs'></span>

<h3>Description</h3>

<p>This functions is used to find information about data published by the ONS.
<code>Datasets</code> are published in unique <code>versions</code>, which are categorized by <code>edition</code>.
Available datasets are given  an <code>id</code>. All available <code>id</code> can be viewed with <code>ons_ids()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_get(
  id = NULL,
  edition = NULL,
  version = NULL,
  ons_read = getOption("onsr.read"),
  ...
)

ons_get_obs(id = NULL, edition = NULL, version = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_get_+3A_id">id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     Id that represents a dataset.</p>
</td></tr>
<tr><td><code id="ons_get_+3A_edition">edition</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A subset of the dataset representing a specific time period.
For some datasets this edition can contain all time periods (all historical data).
The latest version of this is displayed by default.</p>
</td></tr>
<tr><td><code id="ons_get_+3A_version">version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A specific instance of the edition at a point in time. New
versions can be published as a result of corrections, revisions or new data
becoming available.</p>
</td></tr>
<tr><td><code id="ons_get_+3A_ons_read">ons_read</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>. Reading backend, one of <code>readr</code>, <code>data.table</code> or <code>vroom</code>.</p>
</td></tr>
<tr><td><code id="ons_get_+3A_...">...</code></td>
<td>
<p>Further arguments passed on the methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the dataset in tidy format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_get(id = "cpih01")

# Same dataset but older version
ons_get(id = "cpih01", version = "5")


# Take only specific observations
ons_get_obs("cpih01", geography = "K02000001", aggregate = "cpih1dim1A0", time = "Oct-11")

# Or can use a wildcard for the time
ons_get_obs("cpih01", geography = "K02000001", aggregate = "cpih1dim1A0", time = "*")



</code></pre>

<hr>
<h2 id='ons_latest'>Latest info on ONS Datasets</h2><span id='topic+ons_latest'></span><span id='topic+ons_latest_href'></span><span id='topic+ons_latest_version'></span><span id='topic+ons_latest_edition'></span>

<h3>Description</h3>

<p>This functions are used to access the latest <code>href</code>, <code>version</code> and <code>edition</code>
of a dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_latest_href(id = NULL)

ons_latest_version(id = NULL)

ons_latest_edition(id = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_latest_+3A_id">id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     Id that represents a dataset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An atomic character vector with the latest info.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_latest_href("cpih01")
ons_latest_version("cpih01")
ons_latest_edition("cpih01")

</code></pre>

<hr>
<h2 id='ons_search'>Search for a Dataset</h2><span id='topic+ons_search'></span>

<h3>Description</h3>

<p>Search for a Dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_search(id, edition = NULL, version = NULL, name = NULL, query = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_search_+3A_id">id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     Id that represents a dataset.</p>
</td></tr>
<tr><td><code id="ons_search_+3A_edition">edition</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A subset of the dataset representing a specific time period.
For some datasets this edition can contain all time periods (all historical data).
The latest version of this is displayed by default.</p>
</td></tr>
<tr><td><code id="ons_search_+3A_version">version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>     A specific instance of the edition at a point in time. New
versions can be published as a result of corrections, revisions or new data
becoming available.</p>
</td></tr>
<tr><td><code id="ons_search_+3A_name">name</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>. The name of dimension to perform the query. Available dimensions for
a specific id at <code>ons_dim()</code>.</p>
</td></tr>
<tr><td><code id="ons_search_+3A_query">query</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code>. The query.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_dim("cpih01")
ons_search("cpih01", name = "aggregate", query = "cpih1dim1A0")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package svMisc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {svMisc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#svMisc-package'><p>svMisc: 'SciViews' - Miscellaneous Functions</p></a></li>
<li><a href='#about'><p>Get information and help about <span class="rlang"><b>R</b></span> objects</p></a></li>
<li><a href='#add_actions'><p>Add GUI elements like actions (menu items), icons, or methods in a predefined</p>
list</a></li>
<li><a href='#batch'><p>Run a function in batch mode</p></a></li>
<li><a href='#capture_all'><p>Run an R expression and capture output and messages in a similar way as it</p>
would be done at the command line</a></li>
<li><a href='#compare_r_version'><p>Compare current R version with a specified one</p></a></li>
<li><a href='#completion'><p>Get a completion list for a R code fragment</p></a></li>
<li><a href='#def'><p>Define a vector of a given mode and length (possibly filling it with default</p>
values)</a></li>
<li><a href='#describe_function'><p>Get textual help on function or function arguments, or get a call tip</p></a></li>
<li><a href='#file_edit'><p>Invoke an external text editor for a file</p></a></li>
<li><a href='#gui_cmd'><p>Execute a command in the GUI client</p></a></li>
<li><a href='#Install'><p>An easy package installation function that pairs with <code>package()</code></p></a></li>
<li><a href='#is_help'><p>Check for the existence of an help file, or some context</p></a></li>
<li><a href='#list_methods'><p>List all methods associated with a generic function or a class, or all types</p>
associated with a method</a></li>
<li><a href='#obj_browse'><p>Functions to implement an object browser</p></a></li>
<li><a href='#package'><p>A (possibly) very silent and multi-package library()/require() function</p></a></li>
<li><a href='#parse_text'><p>Parse a character string as if it was a command entered at the command line</p></a></li>
<li><a href='#pcloud'><p>Create the path to a file in the p-Cloud drive</p></a></li>
<li><a href='#pkgman_describe'><p>Functions to manage R side of the SciViews R package manager</p></a></li>
<li><a href='#progress'><p>Display progression of a long calculation at the R console and/or in a GUI</p></a></li>
<li><a href='#search_web'><p>Search web documents about R and R functions</p></a></li>
<li><a href='#source_clipboard'><p>Source code from the clipboard</p></a></li>
<li><a href='#subsettable'><p>Define a function as being 'subsettable' using $ operator</p></a></li>
<li><a href='#system_file'><p>Get a system file or directory</p></a></li>
<li><a href='#temp_env'><p>Get an environment dedicated to temporary variables (and create it if needed)</p></a></li>
<li><a href='#temp_var'><p>Get an arbitrary name for a temporary variable</p></a></li>
<li><a href='#to_rjson'><p>Convert R object to and from RJSON specification</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-10-11</td>
</tr>
<tr>
<td>Title:</td>
<td>'SciViews' - Miscellaneous Functions</td>
</tr>
<tr>
<td>Description:</td>
<td>Miscellaneous functions for 'SciViews' or general use: manage a
  temporary environment attached to the search path for temporary variables you
  do not want to save() or load(), test if 'Aqua', 'Mac', 'Win', ... Show
  progress bar, etc.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philippe Grosjean &lt;phgrosjean@sciviews.org&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.13.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, methods, stats, tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rJava, tcltk, covr, knitr, markdown, rmarkdown, testthat,
spelling</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/SciViews/svMisc">https://github.com/SciViews/svMisc</a>,
<a href="https://www.sciviews.org/svMisc/">https://www.sciviews.org/svMisc/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/SciViews/svMisc/issues">https://github.com/SciViews/svMisc/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-11 16:48:40 UTC; phgrosjean</td>
</tr>
<tr>
<td>Author:</td>
<td>Philippe Grosjean <a href="https://orcid.org/0000-0002-2694-9471"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Romain Francois [ctb],
  Kamil Barton [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-11 17:20:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='svMisc-package'>svMisc: 'SciViews' - Miscellaneous Functions</h2><span id='topic+svMisc'></span><span id='topic+svMisc-package'></span>

<h3>Description</h3>

<p>Miscellaneous functions for 'SciViews' or general use: manage a
temporary environment attached to the search path for temporary variables you
do not want to save() or load(), test if 'Aqua', 'Mac', 'Win', ... Show
progress bar, etc.
</p>


<h3>Details</h3>

<p>The 'svMisc' package is of general use among <code>SciViews::R</code>, a layer on top of
R, and the tidyverse. This package collects together a series of general
functions to manage a centralized environment for temporary variables, a
progress bar and batch analysis mode, etc.
</p>


<h3>Important functions</h3>


<ul>
<li> <p><code><a href="#topic+temp_env">temp_env()</a></code> for using a temporary environment attached to the search path,
</p>
</li>
<li> <p><code><a href="#topic+temp_var">temp_var()</a></code> create the name of temporary variables,
</p>
</li>
<li> <p><code><a href="#topic+capture_all">capture_all()</a></code> to capture R output, errors, warnings and messages,
</p>
</li>
<li> <p><code><a href="#topic+parse_text">parse_text()</a></code> to parse any R expression, including partial or incorrect
ones (fails gracefully).
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a> (<a href="https://orcid.org/0000-0002-2694-9471">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Romain Francois <a href="mailto:romain@r-enthusiasts.com">romain@r-enthusiasts.com</a> [contributor]
</p>
</li>
<li><p> Kamil Barton <a href="mailto:kamil.barton@uni-wuerzburg.de">kamil.barton@uni-wuerzburg.de</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/SciViews/svMisc">https://github.com/SciViews/svMisc</a>
</p>
</li>
<li> <p><a href="https://www.sciviews.org/svMisc/">https://www.sciviews.org/svMisc/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/SciViews/svMisc/issues">https://github.com/SciViews/svMisc/issues</a>
</p>
</li></ul>


<hr>
<h2 id='about'>Get information and help about <span class="rlang"><b>R</b></span> objects</h2><span id='topic+about'></span><span id='topic++3F'></span>

<h3>Description</h3>

<p>Help obtained with this function is wider than with <code><a href="utils.html#topic+help">help()</a></code>. If
a man page is not found, it suggests related topics. If an object is an S3
generic function, it also lists all its known methods. Also, one can track
the help page of an object even if its name is changed, by using the <code>src</code> or
<code>srcfile</code> attribute of the object's comment. By the way, if the object has a
comment, it is also displayed. This can be used as a quick and dirty way to
provide short hints to custom objects. Finally, it is possible to track down
the source of an object into a file with the <code>srcfile</code> attribute of its
comment. In this case, it is the source file that is displayed. So, you can
also further document your custom objects easily in their source files!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>about(topic, ...)

`?`(type, topic)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="about_+3A_topic">topic</code></td>
<td>
<p>The name of an object, or the topic to search for, if this is
not the name of a known object.</p>
</td></tr>
<tr><td><code id="about_+3A_...">...</code></td>
<td>
<p>Further arguments passed to <code><a href="utils.html#topic+help">help()</a></code>.</p>
</td></tr>
<tr><td><code id="about_+3A_type">type</code></td>
<td>
<p>First argument to <code style="white-space: pre;">&#8288;?&#8288;</code>. If it is a dot, like <code>.?topic</code>, the second
argument is a topic passed to the <code>about()</code> function. Otherwise, it is the
first argument to restrict help pages, like <code>class</code>, <code>methods</code>, or <code>method</code>.
See examples for how to use it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string with the location of all objects named <code>topic</code> are found is
returned invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+help">help()</a></code>, <code><a href="utils.html#topic+help.search">help.search()</a></code>, <code><a href="utils.html#topic+apropos">apropos()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
about("nonexisting") # Not found on search path, but help pages
about("htgdsfgfdsgf") # Not found anywhere
#library(tidyverse)
#about("group_by") # Just one page
#about("filter") # Several items
about("stats::filter") # OK
#about("dplyr::filter") # OK too
about("base::filter") # Not found there
# Objects with comment: print comment
vec &lt;- structure(1:10, comment = "A simple vector")
about("vec")
# If there is a srcfile attribute in the comment, also display the file
# Hint: integrate some help in the header!
#library(data)
#(iris &lt;- read(data_example("iris.csv")))
#about("iris")
# If the comment has a src attribute, change the topic to that one
#urchin &lt;- read("urchin_bio", package = "data")
#about("urchin")
.?filter
.?stats::filter

## End(Not run)
</code></pre>

<hr>
<h2 id='add_actions'>Add GUI elements like actions (menu items), icons, or methods in a predefined
list</h2><span id='topic+add_actions'></span><span id='topic+get_actions'></span><span id='topic+add_icons'></span><span id='topic+add_methods'></span><span id='topic+addActions'></span><span id='topic+addIcons'></span><span id='topic+addMethods'></span>

<h3>Description</h3>

<p>Manage lists of GUI actions, icons and methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_actions(
  obj = get_actions(),
  text = NULL,
  code = NULL,
  state = NULL,
  options = NULL,
  replace = TRUE
)

get_actions()

add_icons(obj = ".svIcons", icons, replace = TRUE)

add_methods(methods)

addActions(
  obj = get_actions(),
  text = NULL,
  code = NULL,
  state = NULL,
  options = NULL,
  replace = TRUE
)

addIcons(obj = ".svIcons", icons, replace = TRUE)

addMethods(methods)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_actions_+3A_obj">obj</code></td>
<td>
<p>The name of the object in <code>SciViews:TempEnv</code> to manipulate.</p>
</td></tr>
<tr><td><code id="add_actions_+3A_text">text</code></td>
<td>
<p>The text of actions to add (label on first line, tip on other
lines).</p>
</td></tr>
<tr><td><code id="add_actions_+3A_code">code</code></td>
<td>
<p>The R code of actions to add.</p>
</td></tr>
<tr><td><code id="add_actions_+3A_state">state</code></td>
<td>
<p>The default (initial) state of an action, as a succession of
letters: <code>c</code> = checked, <code>u</code> = unchecked (default); <code>d</code> = disabled,
<code>e</code> = enabled (default); <code>h</code> = hidden, <code>v</code> = visible (default). Default
values are optional. Ex: <code>udv</code> means: unchecked - disabled - visible and
it equals to simply <code>d</code>, given the defaults for the other properties.</p>
</td></tr>
<tr><td><code id="add_actions_+3A_options">options</code></td>
<td>
<p>A character vector with other options to pass to the graphical
toolkit for this action.</p>
</td></tr>
<tr><td><code id="add_actions_+3A_replace">replace</code></td>
<td>
<p>Do we replace existing items in 'x'?</p>
</td></tr>
<tr><td><code id="add_actions_+3A_icons">icons</code></td>
<td>
<p>The description of the icons to add.</p>
</td></tr>
<tr><td><code id="add_actions_+3A_methods">methods</code></td>
<td>
<p>The list of methods to add (character string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The modified object is returned invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_items">add_items()</a></code>, <code><a href="#topic+obj_menu">obj_menu()</a></code>, <code><a href="#topic+temp_env">temp_env()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This is useful to add actions, icons, descriptions, shortcuts or methods
# TODO: examples and use for functions add_actions(), add_icons() and
# add_methods()
</code></pre>

<hr>
<h2 id='batch'>Run a function in batch mode</h2><span id='topic+batch'></span>

<h3>Description</h3>

<p>A function can be run in batch mode if it never fails (replace
errors by warnings) and returns <code>TRUE</code> in case of success, or <code>FALSE</code> otherwise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>batch(
  items,
  fun,
  ...,
  show.progress = !is_aqua() &amp;&amp; !is_jgr(),
  suppress.messages = show.progress,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="batch_+3A_items">items</code></td>
<td>
<p>The items (usually, arguments vector of character strings) on
which to apply <code>fun</code> sequentially.</p>
</td></tr>
<tr><td><code id="batch_+3A_fun">fun</code></td>
<td>
<p>The function to run (must return <code>TRUE</code> or <code>FALSE</code> and issue only
warnings or messages to be a good candidate, batchable, function).</p>
</td></tr>
<tr><td><code id="batch_+3A_...">...</code></td>
<td>
<p>Further arguments to pass the <code>fun</code>.</p>
</td></tr>
<tr><td><code id="batch_+3A_show.progress">show.progress</code></td>
<td>
<p>Do we show progression as item x on y... message? This
uses the <code><a href="#topic+progress">progress()</a></code> function.</p>
</td></tr>
<tr><td><code id="batch_+3A_suppress.messages">suppress.messages</code></td>
<td>
<p>Are messages from the batchable function suppressed?
Only warnings will be issued. Recommended if <code>show.progress = TRUE</code>.</p>
</td></tr>
<tr><td><code id="batch_+3A_verbose">verbose</code></td>
<td>
<p>Display start and end messages if <code>TRUE</code> (default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns invisibly the number of items that were correctly processed
with attributes <code>items</code> and <code>ok</code> giving more details.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+progress">progress()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Here is a fake batchable process
fake_process &lt;- function(file) {
  message("Processing ", file, "...")
  flush.console()
  Sys.sleep(0.5)
  if (runif(1) &gt; 0.7) { # Fails
    warning("fake_process was unable to process ", file)
    invisible(FALSE)
  } else invisible(TRUE)
}

# Run it in batch mode on five items
files &lt;- paste0("file", 1:5)
batch(files, fake_process)

## End(Not run)
</code></pre>

<hr>
<h2 id='capture_all'>Run an R expression and capture output and messages in a similar way as it
would be done at the command line</h2><span id='topic+capture_all'></span><span id='topic+captureAll'></span><span id='topic+warnings2'></span>

<h3>Description</h3>

<p>This function captures results of evaluating one or several R
expressions the same way as it would be issued at the prompt in a R console.
The result is returned in a character string. Errors, warnings and other
conditions are treated as usual, including the delayed display of the
warnings if <code>options(warn = 0)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>capture_all(expr, split = TRUE, echo = TRUE, file = NULL, markStdErr = FALSE)

captureAll(expr, split = TRUE, echo = TRUE, file = NULL, markStdErr = FALSE)

warnings2(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="capture_all_+3A_expr">expr</code></td>
<td>
<p>A  valid R expression to evaluate (names and calls are also
accepted).</p>
</td></tr>
<tr><td><code id="capture_all_+3A_split">split</code></td>
<td>
<p>Do we split output, that is, do we also issue it at the R
console too, or do we only capture it silently?</p>
</td></tr>
<tr><td><code id="capture_all_+3A_echo">echo</code></td>
<td>
<p>Do we echo each expression in front of the results (like in the
console)? In case the expression spans on more than 7 lines, only first and
last three lines are echoed, separated by <code style="white-space: pre;">&#8288;[...]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="capture_all_+3A_file">file</code></td>
<td>
<p>A file, or a valid opened connection where output is sunk. It
is closed at the end, and the function returns <code>NULL</code> in this case. If
<code>file = NULL</code> (by default), a <code>textConnection()</code> captures the output and it
is returned as a character string by the function.</p>
</td></tr>
<tr><td><code id="capture_all_+3A_markstderr">markStdErr</code></td>
<td>
<p>If <code>TRUE</code>, stderr is separated from sddout by STX/ETX
characters.</p>
</td></tr>
<tr><td><code id="capture_all_+3A_...">...</code></td>
<td>
<p>Items passed directly to <code>warnings2()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string with the result of the evaluation done in the user
workspace.
</p>


<h3>Note</h3>

<p>If the expression is provided as a character string that should be
evaluated, and you need a similar behavior as at the prompt for incomplete
lines of code (that is, to prompt for more), you should not parse the
expression with <code>parse(text = "&lt;some_code&gt;")</code> because it returns an error
instead of an indication of an incomplete code line. Use
<code>parse_text("&lt;some_code&gt;")</code> instead, like in the examples bellow.
Of course, you have to deal with incomplete line management in your GUI/CLI
application... the function only returns <code>NA</code> instead of a character string.
Starting from version 1.1.3, <code>.Traceback</code> is not set any more in the base
environment, but it is <code>.Traceback_capture_all</code> that is set in <code>temp_env()</code>.
You can get its value with <code>get_temp(".Traceback_capture_all")</code>.
Also, if there are many warnings, those are now assigned in <code>temp_env()</code>
instead of <code>baseenv()</code>. Consequently, they cannot be viewer with <code><a href="base.html#topic+warnings">warnings()</a></code>
but use <code>warnings2()</code> in this case.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+parse">parse()</a></code>, <code><a href="base.html#topic+expression">expression()</a></code>, <code><a href="utils.html#topic+capture.output">capture.output()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>writeLines(capture_all(expression(1 + 1), split = FALSE))
writeLines(capture_all(expression(1 + 1), split = TRUE))
writeLines(capture_all(parse_text("search()"), split = FALSE))
## Not run: 
writeLines(capture_all(parse_text('1:2 + 1:3'), split = FALSE))
writeLines(capture_all(parse_text("badname"), split = FALSE))

## End(Not run)

# Management of incomplete lines
capt_res &lt;- capture_all(parse_text("1 +")) # Clearly an incomplete command
if (is.na(capt_res)) cat("Incomplete line!\n") else writeLines(capt_res)
rm(capt_res)
</code></pre>

<hr>
<h2 id='compare_r_version'>Compare current R version with a specified one</h2><span id='topic+compare_r_version'></span><span id='topic+compareRVersion'></span>

<h3>Description</h3>

<p>Determine if R is older (return -1), or not (return 0 if equal,
or 1 if newer) than a given version number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_r_version(version)

compareRVersion(version)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_r_version_+3A_version">version</code></td>
<td>
<p>A string defining the version to compare to, like '2.0.0' or
'1.9.1'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>-1 if R is older, 0 if equal, 1 if newer. Take care: if you specify
version as &quot;2.11&quot;, and R is version &quot;2.11.0&quot;, then the function will return 1
(newer)!
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+compareVersion">compareVersion()</a></code>, <code><a href="base.html#topic+R.version">R.version()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compare_r_version("2.11.0") # Note that we strongly advise to use R &gt; 2.11.0!
</code></pre>

<hr>
<h2 id='completion'>Get a completion list for a R code fragment</h2><span id='topic+completion'></span>

<h3>Description</h3>

<p>Returns names of objects/arguments/namespaces matching a code
fragment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>completion(
  code,
  pos = nchar(code),
  min.length = 2,
  print = FALSE,
  types = c("default", "scintilla"),
  addition = FALSE,
  sort = TRUE,
  what = c("arguments", "functions", "packages"),
  description = FALSE,
  max.fun = 100,
  skip.used.args = TRUE,
  sep = "\n",
  field.sep = "\t",
  name.or.addition = c("name", "addition", "both")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="completion_+3A_code">code</code></td>
<td>
<p>A partial R code to be completed.</p>
</td></tr>
<tr><td><code id="completion_+3A_pos">pos</code></td>
<td>
<p>The position of the cursor in this code.</p>
</td></tr>
<tr><td><code id="completion_+3A_min.length">min.length</code></td>
<td>
<p>The minimal length in characters of <code>code</code> required before
the completion list is calculated.</p>
</td></tr>
<tr><td><code id="completion_+3A_print">print</code></td>
<td>
<p>Logical, print result and return invisibly. See details.</p>
</td></tr>
<tr><td><code id="completion_+3A_types">types</code></td>
<td>
<p>A named list giving names of types. Set to <code>NA</code> to give
only names. See details.</p>
</td></tr>
<tr><td><code id="completion_+3A_addition">addition</code></td>
<td>
<p>Should only addition string be returned?</p>
</td></tr>
<tr><td><code id="completion_+3A_sort">sort</code></td>
<td>
<p>Do we sort the list of completions alphabetically?</p>
</td></tr>
<tr><td><code id="completion_+3A_what">what</code></td>
<td>
<p>What are we looking for? Allow to restrict search for faster
calculation.</p>
</td></tr>
<tr><td><code id="completion_+3A_description">description</code></td>
<td>
<p>Do we describe items in the completion list
(could be slow)?</p>
</td></tr>
<tr><td><code id="completion_+3A_max.fun">max.fun</code></td>
<td>
<p>In the case where we describe items, the maximum number of
functions to process (if longer, no description is returned for function)
because it can be very slow otherwise.</p>
</td></tr>
<tr><td><code id="completion_+3A_skip.used.args">skip.used.args</code></td>
<td>
<p>Logical, if completion is within function arguments,
should the already used named arguments be omitted?</p>
</td></tr>
<tr><td><code id="completion_+3A_sep">sep</code></td>
<td>
<p>The separator to use between returned items.</p>
</td></tr>
<tr><td><code id="completion_+3A_field.sep">field.sep</code></td>
<td>
<p>Character string to separate fields for each entry.</p>
</td></tr>
<tr><td><code id="completion_+3A_name.or.addition">name.or.addition</code></td>
<td>
<p>Should we return the completion name, addition string, or both?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The completion list is context-dependent, and it is calculated as if
the code was entered at the command line.
</p>
<p>If the code ends with <code>$</code> or <code>[[</code>, then the function look for items in a list
or data.frame whose name is the last identifier.
</p>
<p>If the code ends with <code>@</code>, then the function look for slots of the
corresponding S4 object.
</p>
<p>If the code ends with <code>::</code>, then it looks for objects in a namespace.
</p>
<p>If the code ends with a partial identifier name, the function returns all
matching keywords visible from .GlobalEnv.
</p>
<p>If the code is empty or parses into an empty last token, the list of objects
currently in the global environment is returned.
</p>


<h3>Value</h3>

<p>If <code>types == NA</code> and <code>description = FALSE</code>, a character vector giving
the completions, otherwise a data frame with two columns: 'completion', and
'type' when <code>description = FALSE</code>, or with four columns: 'completion',
'type', 'desc' and 'context' when <code>description = TRUE</code>. If name.or.addition == 'both',
an 'addition' column is also returned.<br />
Attributes:<br />
<code>attr(, "token")</code> - a completed token.<br />
<code>attr(, "triggerPos")</code> - number of already typed characters.<br />
<code>attr(, "fguess")</code> - name of guessed function.<br />
'attr(, &quot;isFirstArg&quot;)&ldquo; - is this a first argument?
</p>


<h3>Note</h3>

<p>Take care: depending on the context, the completion list could be
incorrect (but it should work for code entered at the command line). For
instance, inside a function call, the context is very different, and
arguments and local variables should be returned instead. This may be
implemented in the future, but for now, we focus on completion that should be
most useful for novice useRs that are using R expressions entered one after
the other at the R console or in a script (and considering the script is run
or sourced line after line in R).
</p>
<p>There are other situations where the completion can be calculated, see the
help of <code><a href="utils.html#topic+rc.settings">rc.settings()</a></code>.
</p>
<p>If <code>print == TRUE</code>, results are returned invisibly, and printed in a form:
triggerPos <em>newline</em> completions separated by <code>sep</code>.
</p>
<p>If <code>types</code> are supplied, a completion will consist of name and type,
separated by <code>type.sep</code>. <code>types</code> may me a vector of length 5, giving the type
codes for &quot;function&quot;, &quot;variable&quot;, &quot;environment&quot;, &quot;argument&quot; and &quot;keyword&quot;.
If <code>types == "default"</code>, above type names are given; <code>types == "scintilla"</code>
will give numeric codes that can be used with &quot;scintilla.autoCShow&quot; function
(e.g., with the SciViews-K Komodo Edit plugin).
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a> &amp;
Kamil Barton <a href="mailto:kamil.barton@uni-wuerzburg.de">kamil.barton@uni-wuerzburg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+rc.settings">rc.settings()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A data frame
data(iris)
completion("item &lt;- iris$")
completion("item &lt;- iris[[")

# An S4 object
setClass("track", representation(x = "numeric", y = "numeric"))
t1 &lt;- new("track", x = 1:20, y = (1:20)^2)
completion("item2 &lt;- t1@")

# A namespace
completion("utils::", description = TRUE)

# A partial identifier
completion("item3 &lt;- va", description = TRUE)

# Otherwise, a list with the content of .GlobalEnv
completion("item4 &lt;- ")

# TODO: directory and filename completion!
rm(iris, t1)
</code></pre>

<hr>
<h2 id='def'>Define a vector of a given mode and length (possibly filling it with default
values)</h2><span id='topic+def'></span>

<h3>Description</h3>

<p>This function makes sure that a vector of a given mode and
length is returned. If the value provided is <code>NULL</code>, or empty, the default
value is used instead. If <code>length.out = NULL</code>, the length of the vector is
not constrained, otherwise, it is fixed (possibly cutting or recycling
<code>value</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>def(value, default = "", mode = "character", length.out = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="def_+3A_value">value</code></td>
<td>
<p>The value to pass with default.</p>
</td></tr>
<tr><td><code id="def_+3A_default">default</code></td>
<td>
<p>The default value to use, in case of <code>NULL</code>, or
<code>length(value) == 0</code>.</p>
</td></tr>
<tr><td><code id="def_+3A_mode">mode</code></td>
<td>
<p>The mode of the resulting object: 'character', 'logical',
'numeric' (and, if you want to be more precise: 'double', 'integer' or
'single') or 'complex'. Although not being a mode by itself, you can also
specify 'factor' to make sure the result is a factor (thus, of mode
'numeric', storage mode 'integer', with a levels attribute). Other modes are
ignored, and <code>value</code> is NOT coerced (silently) in this case, i.e., if you
don't want to force coercion of the resulting object, use anything else.</p>
</td></tr>
<tr><td><code id="def_+3A_length.out">length.out</code></td>
<td>
<p>The desired length of the returned vector; use
<code>length.out = NULL</code> (default) if you don't want to change the length of the
vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of given mode and length, with either <code>value</code> or <code>default</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+mode">mode()</a></code>, <code><a href="base.html#topic+rep">rep()</a></code>, <code><a href="#topic+temp_env">temp_env()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>def(1:3, length.out = 5)                      # Convert into character and recycle
def(0:2, mode = "logical")                    # Numbers to logical
def(c("TRUE", "FALSE"), mode = "logical")     # Text to logical
def(NULL, "default text")                     # Default value used
def(character(0), "default text")             # Idem
def(NA, 10, mode = "numeric", length.out = 2) # Vector of two numbers
</code></pre>

<hr>
<h2 id='describe_function'>Get textual help on function or function arguments, or get a call tip</h2><span id='topic+describe_function'></span><span id='topic+describe_args'></span><span id='topic+args_tip'></span><span id='topic+call_tip'></span><span id='topic+descFun'></span><span id='topic+descArgs'></span><span id='topic+argsTip'></span><span id='topic+callTip'></span>

<h3>Description</h3>

<p>Textual help on functions or their arguments is extracted for
text online help for a given function. By default, all arguments from the
online help are returned for <code>describe_args()</code>. If the file contains help for
several functions, one probably gets also some irrelevant information. Use of
'args' to limit result is strongly encouraged. <code>args_tip()</code> provides a
human-readable textual description of function arguments in a better way than
<code>args()</code> does. It is primarily intended for code tips in GUIs. <code>call_tip()</code>
has a similar purpose to show how some code could be completed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describe_function(fun, package, lib.loc = NULL)

describe_args(fun, args = NULL, package = NULL, lib.loc = NULL)

args_tip(name, only.args = FALSE, width = getOption("width"))

call_tip(
  code,
  only.args = FALSE,
  location = FALSE,
  description = FALSE,
  methods = FALSE,
  width = getOption("width")
)

descFun(fun, package, lib.loc = NULL)

descArgs(fun, args = NULL, package = NULL, lib.loc = NULL)

argsTip(name, only.args = FALSE, width = getOption("width"))

callTip(
  code,
  only.args = FALSE,
  location = FALSE,
  description = FALSE,
  methods = FALSE,
  width = getOption("width")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="describe_function_+3A_fun">fun</code></td>
<td>
<p>A character string with the name of a function (several functions
accepted too for <code>describe_function()</code>.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_package">package</code></td>
<td>
<p>A character string with the name of the package that contains
<code>fun</code>, or <code>NULL</code> for searching in all loaded packages.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_lib.loc">lib.loc</code></td>
<td>
<p>A character vector of directory names of <span class="rlang"><b>R</b></span> libraries, or
<code>NULL</code>. The default value of <code>NULL</code> corresponds to all libraries currently
known. If the default is used, the loaded packages are searched before the
libraries.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_args">args</code></td>
<td>
<p>Either <code>NULL</code> (by default) to return the description of all
arguments from the corresponding man page, or a character vector with names
of the arguments to search for.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_name">name</code></td>
<td>
<p>A string with the name of a function.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_only.args">only.args</code></td>
<td>
<p>Do we return only arguments of the function
(<code style="white-space: pre;">&#8288;arg1, arg2 = TRUE, ...&#8288;</code>), or the full call, like
(<code>myfun(arg1, arg2 = TRUE, ...)</code>).</p>
</td></tr>
<tr><td><code id="describe_function_+3A_width">width</code></td>
<td>
<p>Reformat the tip to fit to fit in that width, except if
<code>width = NULL</code>.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_code">code</code></td>
<td>
<p>A fraction of R code ending with the name of a function,
eventually followed by '('.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_location">location</code></td>
<td>
<p>If <code>TRUE</code> then the location (in which package the function
resides) is appended to the calltip between square brackets.</p>
</td></tr>
<tr><td><code id="describe_function_+3A_description">description</code></td>
<td>
<p>If <code>TRUE</code> then a short description of the function is
added to the call_tip (in fact, the title of the corresponding help page, if
it exists).</p>
</td></tr>
<tr><td><code id="describe_function_+3A_methods">methods</code></td>
<td>
<p>If <code>TRUE</code> then a short message indicating if this is a generic
function and that lists, in this case, available methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string with the description of the function or of its arguments, or
the calling syntax of the function, plus additional information depending on
the flags used. If the man page is not found, a vector of empty strings is
returned. Empty strings are also returned for arguments that are not found in
the man page.
</p>


<h3>Note</h3>

<p><code>args_tip()</code> is supposed to display S3 and S4 methods, and primitives
adequately,... but this is not implemented yet in the current version! For
<code>call_tip()</code>, the use of <code>methods = TRUE</code> slows down the execution of the
function, especially for generic functions that have many methods like
<code>print()</code> or <code>summary()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+completion">completion()</a></code>, <code><a href="base.html#topic+args">args()</a></code>, <code><a href="utils.html#topic+argsAnywhere">argsAnywhere()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>describe_function("ls", "base")
describe_function("library", "base")
describe_function("descFun", "svMisc")
describe_function("descArgs")

describe_args("ls")
describe_args("library", args = c("package", "pos"))

args_tip("ls")

call_tip("myvar &lt;- lm(")
</code></pre>

<hr>
<h2 id='file_edit'>Invoke an external text editor for a file</h2><span id='topic+file_edit'></span><span id='topic+fileEdit'></span>

<h3>Description</h3>

<p>Edit a text file using an external editor. Possibly wait for the
end of the program and care about creating the file (from a template) if it
does not exists yet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_edit(
  ...,
  title = files,
  editor = getOption("fileEditor"),
  file.encoding = "",
  template = NULL,
  replace = FALSE,
  wait = FALSE
)

fileEdit(
  ...,
  title = files,
  editor = getOption("fileEditor"),
  file.encoding = "",
  template = NULL,
  replace = FALSE,
  wait = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_edit_+3A_...">...</code></td>
<td>
<p>Path to one or more files to edit.</p>
</td></tr>
<tr><td><code id="file_edit_+3A_title">title</code></td>
<td>
<p>The title of the editor window (not honored by all editors,
most external editors only display the file name or path).</p>
</td></tr>
<tr><td><code id="file_edit_+3A_editor">editor</code></td>
<td>
<p>Editor to use. Either the name of the program, or a string
containing the command to run, using \
the filename in the command, or a function with 'file', 'title' and 'wait'
arguments to delegate process of the files.</p>
</td></tr>
<tr><td><code id="file_edit_+3A_file.encoding">file.encoding</code></td>
<td>
<p>Encoding of the files. If <code>""</code> or <code>native.enc</code>, the
files are considered as being already in the right encoding.</p>
</td></tr>
<tr><td><code id="file_edit_+3A_template">template</code></td>
<td>
<p>One or more files to use as template if files must be
created. If <code>NULL</code>, an empty file is created. This argument is recycled for
all files to edit.</p>
</td></tr>
<tr><td><code id="file_edit_+3A_replace">replace</code></td>
<td>
<p>Force replacement of files if <code style="white-space: pre;">&#8288;template=&#8288;</code> is not null.</p>
</td></tr>
<tr><td><code id="file_edit_+3A_wait">wait</code></td>
<td>
<p>Wait for edition to complete. If more than one file is edited,
the program waits sequentially for each file to be edited in turn (with a
message in the R console).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns <code>TRUE</code> if it was able to edit the files or
<code>FALSE</code> otherwise, invisibly. Encountered errors are reported as warnings.
</p>


<h3>Note</h3>

<p>The default editor program, or the command to run is in the
<code>fileEditor</code> option (use <code>getOption("fileEditor")</code> to retrieve it, and
<code>options(fileEditor = "&lt;my_own_editor&gt;")</code> to change it). Default values are
determined automatically.
</p>
<p>On Unixes, &quot;gedit&quot;, &quot;kate&quot; and &quot;vi&quot; are looked for in that order. Note that
there is a gedit plugin to submit code directly to R:
<a href="http://rgedit.sourceforge.net/">http://rgedit.sourceforge.net/</a>. Since, gedit natively supports a lot of
different syntax highlighting, including R, and is lightweight but feature
rich, it is recommended as default text editor for <code>file_edit()</code> on Unixes.
If JGR is run and the editor is &quot;vi&quot; or &quot;internal&quot;, then the internal JGR
editor is used, otherwise, the provided editor is chosen.
</p>
<p>On MacOS, if the &quot;bbedit&quot; program exists, it is used (it is the command line
program installed by BBEdit, see <a href="http://www.barebones.com/products/">http://www.barebones.com/products/</a>, a much
more capable text editor than the default TextEdit program), otherwise, the
default text editor used by MacOS is chosen (default usually to TextEdit).
BBEdit can be configured to highlight and submit R code.It features also
several tools that makes it a much better choice than TextEdit for
<code>file_edit()</code> on MacOS. Specify &quot;bbedit&quot; to force using it. The default value
is &quot;textedit&quot;, the MacOS default text editor, but on R.app, and with
<code>wait = FALSE</code>, the internal R.app editor is used instead in that case. If
RStudio or JGR is run, and the editor is &quot;textedit&quot;, &quot;internal&quot; or &quot;vi&quot;, then,
the RStudio or JGR internal editor is used instead. If <code>wait = TRUE</code> with an
RStudio editor, it is enough to switch to another editor to continue.
</p>
<p>On Windows, if Notepad++ is installed in its default location, it is used,
otherwise, the default &quot;notepad&quot; is used in Rterm and the internal editors
are chosen for Rgui. Notepad++ is a free text editor that is much better
suited to edit code or text files that the default Windows' notepad
application, in particular because it can handle various line end types
(Unix, Mac or Windows) and encodings. It also supports syntax highlighting,
code completion and much more. So, it is strongly recommended to install it
(see <a href="http://notepad-plus-plus.org/">http://notepad-plus-plus.org/</a>) and use it with <code>file-edit()</code>. There is
also a plugin to submit code to R directly from Notepad++:
<a href="https://sourceforge.net/projects/npptor/">https://sourceforge.net/projects/npptor/</a>.
</p>
<p>Of course, you can use your own text editor, just indicate it in the
<code>fileEditor</code> option. Note, however, that you should use only lightweight and
fast starting programs. Also, for the <code>wait = TRUE</code> argument of
<code>file_edit()</code>, you must check that R waits for the editor to be closed
before further processing code. In some cases, a little command line program
is used to start a larger application (like for Komodo Edit/IDE), or the
program delegates to an existing instances and exits immediately, even if the
file is still edited. Such editors are not recommended at all for
<code>file_edit()</code>.
</p>
<p>If you want to use files that are compatibles between all platforms supported
by R itself, you should think about using ASCII encoding as much as possible
and the Windows style of line-ending. That way, you ensure that all the
default editors will handle those files correctly, including the broken
default editor on Windows, notepad, which does not understand at all MacOS
or Unix line ending characters!
</p>


<h3>See Also</h3>

<p><code><a href="#topic+system_file">system_file()</a></code>, <code><a href="base.html#topic+file.path">file.path()</a></code>, <code><a href="utils.html#topic+file.edit">file.edit()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Create a template file in the tempdir...
template &lt;- tempfile("template", fileext = ".txt")
cat("Example template file to be used with file_edit()", file = template)

# ... and edit a new file, starting from that template:
new_file &lt;- tempfile("test", fileext = ".txt")
file_edit(new_file, template = template, wait = TRUE)

message("Your file contains:")
readLines(new_file)

# Eliminate both the file and template
unlink(new_file)
unlink(template)

## End(Not run)
</code></pre>

<hr>
<h2 id='gui_cmd'>Execute a command in the GUI client</h2><span id='topic+gui_cmd'></span><span id='topic+gui_load'></span><span id='topic+gui_source'></span><span id='topic+gui_save'></span><span id='topic+gui_import'></span><span id='topic+gui_export'></span><span id='topic+gui_report'></span><span id='topic+gui_setwd'></span><span id='topic+guiCmd'></span><span id='topic+guiLoad'></span><span id='topic+guiSource'></span><span id='topic+guiSave'></span><span id='topic+guiImport'></span><span id='topic+guiExport'></span><span id='topic+guiReport'></span><span id='topic+guiSetwd'></span>

<h3>Description</h3>

<p>This function is not intended to be used at the command line
(except for debugging purposes). It executes a command string to a
(compatible) GUI client.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gui_cmd(command, ...)

gui_load(...)

gui_source(...)

gui_save(...)

gui_import(...)

gui_export(...)

gui_report(...)

gui_setwd(...)

guiCmd(command, ...)

guiLoad(...)

guiSource(...)

guiSave(...)

guiImport(...)

guiExport(...)

guiReport(...)

guiSetwd(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gui_cmd_+3A_command">command</code></td>
<td>
<p>The command string to execute in the GUI client.</p>
</td></tr>
<tr><td><code id="gui_cmd_+3A_...">...</code></td>
<td>
<p>Parameters provided for the command to execute in the GUI client.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You must define a function <code>.guiCmd()</code> in the <code>SciViews:TempEnv</code>
environment that will take first argument as the name of the command to
execute (like <code>source</code>, <code>save</code>, <code>import</code>, etc.), and ... with arguments to
the command to send. Depending on your GUI, you should have code that
delegates the GUI elements (ex: display a dialog asking for a .Rdata file to
source) and then, execute the command in <span class="rlang"><b>R</b></span> with the selected file as
attribute.
</p>


<h3>Value</h3>

<p>The result of the command if it succeed, or <code>NULL</code> if the command
cannot be run (i.e., <code>.guiCmd()</code> is not defined in <code>SciViews:TempEnv</code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_temp">get_temp()</a></code>
</p>

<hr>
<h2 id='Install'>An easy package installation function that pairs with <code>package()</code></h2><span id='topic+Install'></span>

<h3>Description</h3>

<p>This is similar to <code><a href="utils.html#topic+install.packages">install.packages()</a></code>, except it takes by
default the list of packages from <code>.packages_to_install</code> in
<code>SciViews:TempEnv</code>. That list is populated automatically by infructuous calls
to <code>package()</code>, so that just a call to <code>Install()</code> without arguments is
generally sufficient.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Install(pkgs = get_temp(".packages_to_install"), ..., ask = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Install_+3A_pkgs">pkgs</code></td>
<td>
<p>The list of packages to install (character vector). If missing,
the list is read from <code>packages_to_install</code>, which is cleared on success.</p>
</td></tr>
<tr><td><code id="Install_+3A_...">...</code></td>
<td>
<p>Further arguments passed to <code><a href="utils.html#topic+install.packages">install.packages()</a></code>.</p>
</td></tr>
<tr><td><code id="Install_+3A_ask">ask</code></td>
<td>
<p>If <code>TRUE</code> and <code>pkgs</code> is missing, ask first to install the
packages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> in case of success, <code>FALSE</code> otherwise. The function is
invoked for its side-effect of installing <span class="rlang"><b>R</b></span> packages.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+package">package()</a></code>
</p>

<hr>
<h2 id='is_help'>Check for the existence of an help file, or some context</h2><span id='topic+is_help'></span><span id='topic+is_win'></span><span id='topic+is_rgui'></span><span id='topic+is_sdi'></span><span id='topic+is_mac'></span><span id='topic+is_aqua'></span><span id='topic+is_rstudio'></span><span id='topic+is_rstudio_desktop'></span><span id='topic+is_rstudio_server'></span><span id='topic+is_jgr'></span><span id='topic+isHelp'></span><span id='topic+isWin'></span><span id='topic+isRgui'></span><span id='topic+isSDI'></span><span id='topic+isMac'></span><span id='topic+isAqua'></span><span id='topic+isJGR'></span>

<h3>Description</h3>

<p>For <code>is_help()</code>, determine if 'topic' has a help file and
example to run. For <code>is_win()</code> and <code>is_mac()</code>, determine if the platform is
Windows or MacOS. For <code>is_aqua()</code>, is the R UI is AQUA, the standard R GUI
under Macintosh? For <code>is_rgui()</code>, determine if the default Rgui under Windows
is in use, and with <code>is_sdi()</code> in this case, you can check if it is in SDI
(single-document interface) <em>versus</em> MDI (multi-document interface, by
default). <code>is_rstudio()</code> and <code>is_rstudio_server()</code> check if R is run under
RStudio (server), and <code>is_jgr()</code> indicate if the R GUI is JGR.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_help(topic, package = NULL, lib.loc = NULL)

is_win()

is_rgui()

is_sdi()

is_mac()

is_aqua()

is_rstudio()

is_rstudio_desktop()

is_rstudio_server()

is_jgr()

isHelp(topic, package = NULL, lib.loc = NULL)

isWin()

isRgui()

isSDI()

isMac()

isAqua()

isJGR()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_help_+3A_topic">topic</code></td>
<td>
<p>Name or literal character string: the online help topic to
look for.</p>
</td></tr>
<tr><td><code id="is_help_+3A_package">package</code></td>
<td>
<p>A character vector giving the package names to look into for
help or example code, or <code>NULL</code>. By default, all packages in the search
path are used.</p>
</td></tr>
<tr><td><code id="is_help_+3A_lib.loc">lib.loc</code></td>
<td>
<p>A character vector of directory names of <span class="rlang"><b>R</b></span> libraries, or
<code>NULL</code>. The default value of <code>NULL</code> corresponds to all libraries currently
known. If the default is used, the loaded packages are searched before the
libraries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>All these functions return either <code>TRUE</code> or <code>FALSE</code> depending on the
tested item, except for <code>is_help()</code>, which returns a logical vector with two
elements. The first one indicating if there is a help file, and the second
one indicating if there are examples associated with this help file.
</p>


<h3>Note</h3>

<p>The code of <code>is_help()</code> is largely inspired from the first part of
<code>example()</code>.
</p>
<p>Under <strong>Rgui</strong>, to switch fro MDI to SDI more, go to the menu entry
'Edit' -&gt; 'GUI preferences' to change the Rgui mode, or start Rgui with the
'&ndash;SDI' argument line parameter. Under another platform than Windows or if it
is not Rgui, then <code>is_sdi()</code> always returns <code>FALSE</code>.'
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+example">example()</a></code>, <code><a href="utils.html#topic+help">help()</a></code>, <code><a href="base.html#topic+capabilities">capabilities()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_help("help")		# Help and example
is_help("Rtangle")	# Help but no example
is_help("notopic")	# No help or example

is_win()
is_mac()

is_aqua()
is_rgui()
is_sdi()
is_rstudio()
is_rstudio_desktop()
is_rstudio_server()
is_jgr()
</code></pre>

<hr>
<h2 id='list_methods'>List all methods associated with a generic function or a class, or all types
associated with a method</h2><span id='topic+list_methods'></span><span id='topic+list_types'></span><span id='topic+listMethods'></span><span id='topic+listTypes'></span>

<h3>Description</h3>

<p>List all S3 and/or S4 methods for a generic function or for a
class. List all types for a method; types are variants for a given method
defined in a way it is easy to add other variants dynamically (on the
contrary to a usual <code style="white-space: pre;">&#8288;type =&#8288;</code> or <code style="white-space: pre;">&#8288;which =&#8288;</code> argument, like in <code><a href="stats.html#topic+plot.ts">plot.ts()</a></code> or
<code><a href="stats.html#topic+plot.lm">plot.lm()</a></code>, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_methods(
  f = character(),
  class = NULL,
  S3 = TRUE,
  S4 = TRUE,
  mixed = TRUE,
  filter = getOption("svGUI.methods")
)

list_types(method, class = "default", strict = FALSE)

listMethods(
  f = character(),
  class = NULL,
  S3 = TRUE,
  S4 = TRUE,
  mixed = TRUE,
  filter = getOption("svGUI.methods")
)

listTypes(method, class = "default", strict = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_methods_+3A_f">f</code></td>
<td>
<p>The name of the generic function (character string), used only when
<code>class = NULL</code>.</p>
</td></tr>
<tr><td><code id="list_methods_+3A_class">class</code></td>
<td>
<p>The name of a class.</p>
</td></tr>
<tr><td><code id="list_methods_+3A_s3">S3</code></td>
<td>
<p>If <code>TRUE</code>, list of S3 methods.</p>
</td></tr>
<tr><td><code id="list_methods_+3A_s4">S4</code></td>
<td>
<p>If <code>TRUE</code>, list of S4 methods.</p>
</td></tr>
<tr><td><code id="list_methods_+3A_mixed">mixed</code></td>
<td>
<p>If <code>TRUE</code>, S3 and S4 methods are mixed together in a character
vector, otherwise, S3 and S4 methods are reported separately in a list.</p>
</td></tr>
<tr><td><code id="list_methods_+3A_filter">filter</code></td>
<td>
<p>A list of methods to consider when listing class methods. Only
classes in this list that are defined for the class are returned. Store the
list of methods you want in the options <code>"svGUI.methods"</code>. The package
proposes a reasonable starting point on loading if this option is not defined
yet.</p>
</td></tr>
<tr><td><code id="list_methods_+3A_method">method</code></td>
<td>
<p>The method name.</p>
</td></tr>
<tr><td><code id="list_methods_+3A_strict">strict</code></td>
<td>
<p>Do we list only types for the class (<code>TRUE</code>), or all
possible types, including for inherited objects, and default ones <code>FALSE</code>,
by default)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>list_methods()</code>, if <code>mixed = TRUE</code>, a list with components:
</p>

<ul>
<li> <p><code>S3</code> The S3 methods for the generic function or the class, or
<code>character(0)</code> if none
</p>
</li>
<li> <p><code>S4</code> The S4 methods for the generic function or the class, or
<code>character(0)</code> if none.
</p>
</li></ul>

<p>Otherwise, a character vector with the requested methods.
</p>
<p>For <code>list_types()</code>, a vector with character strings with methods' type names.
</p>


<h3>Note</h3>

<p><code>list_types()</code> is only useful for special generic functions with type
argument like <code>view</code>, <code>copy</code> or <code>export</code>. These functions offer a mechanism
to easily add custom types, and the present function list them. For S3
objects a type is simply a function whose name is : <em>method</em>_<em>type</em>.<em>class</em>.
So, adding new <em>type</em>s for <em>method</em> is very easy to implement.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+obj_menu">obj_menu()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generic functions
list_methods("t.test")               # S3
list_methods("show", mixed = FALSE)	# S4
list_methods("ls") # None, not a generic function!

# Classes
# Only the following methods are considered
getOption("gui.methods")
list_methods(class = "data.frame")
list_methods(class = "lm")

# List method types
list_types("view")  # All default view types currently defined
list_types("view", "data.frame")
list_types("view", "data.frame", TRUE) # None, except if you defined custom views!
</code></pre>

<hr>
<h2 id='obj_browse'>Functions to implement an object browser</h2><span id='topic+obj_browse'></span><span id='topic+obj_clear'></span><span id='topic+obj_dir'></span><span id='topic+obj_info'></span><span id='topic+obj_list'></span><span id='topic+write.objList'></span><span id='topic+print.objList'></span><span id='topic+obj_search'></span><span id='topic+obj_menu'></span><span id='topic+objBrowse'></span><span id='topic+objClear'></span><span id='topic+objDir'></span><span id='topic+objInfo'></span><span id='topic+objList'></span><span id='topic+objSearch'></span><span id='topic+objMenu'></span>

<h3>Description</h3>

<p>These functions provide features required to implement a
complete object browser in a GUI client.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>obj_browse(
  id = "default",
  envir = .GlobalEnv,
  all.names = NULL,
  pattern = NULL,
  group = NULL,
  sep = "\t",
  path = NULL,
  regenerate = FALSE
)

obj_clear(id = "default")

obj_dir()

obj_info(id = "default", envir = .GlobalEnv, object = "", path = NULL)

obj_list(
  id = "default",
  envir = .GlobalEnv,
  object = NULL,
  all.names = FALSE,
  pattern = "",
  group = "",
  all.info = FALSE,
  sep = "\t",
  path = NULL,
  compare = TRUE,
  ...
)

write.objList(x, path, sep = "\t", ...)

## S3 method for class 'objList'
print(
  x,
  sep = NA,
  eol = "\n",
  header = !attr(x, "all.info"),
  raw.output = !is.na(sep),
  ...
)

obj_search(sep = "\t", path = NULL, compare = TRUE)

obj_menu(
  id = "default",
  envir = .GlobalEnv,
  objects = "",
  sep = "\t",
  path = NULL
)

objBrowse(
  id = "default",
  envir = .GlobalEnv,
  all.names = NULL,
  pattern = NULL,
  group = NULL,
  sep = "\t",
  path = NULL,
  regenerate = FALSE
)

objClear(id = "default")

objDir()

objInfo(id = "default", envir = .GlobalEnv, object = "", path = NULL)

objList(
  id = "default",
  envir = .GlobalEnv,
  object = NULL,
  all.names = FALSE,
  pattern = "",
  group = "",
  all.info = FALSE,
  sep = "\t",
  path = NULL,
  compare = TRUE,
  ...
)

objSearch(sep = "\t", path = NULL, compare = TRUE)

objMenu(
  id = "default",
  envir = .GlobalEnv,
  objects = "",
  sep = "\t",
  path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obj_browse_+3A_id">id</code></td>
<td>
<p>The id of the object browser (you can run several ones
concurrently, providing you give them different ids).</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_envir">envir</code></td>
<td>
<p>An environment, or the name of the environment, or the position
in the <code><a href="base.html#topic+search">search()</a></code> path.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_all.names">all.names</code></td>
<td>
<p>Do we display all names (including hidden variables starting
with '.')?</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_pattern">pattern</code></td>
<td>
<p>A pattern to match for selecting variables.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_group">group</code></td>
<td>
<p>A group to filter.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_sep">sep</code></td>
<td>
<p>Separator to use between items (if path is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_path">path</code></td>
<td>
<p>The path where to write a temporary file with the requested
information. Set to NULL (default) if you don't pass this data to your GUI
client by mean of a file.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_regenerate">regenerate</code></td>
<td>
<p>Do we force to regenerate the information?</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_object">object</code></td>
<td>
<p>Name of the object selected in the object browser,
components/arguments of which should be listed.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_all.info">all.info</code></td>
<td>
<p>Do we return all the information (envir as first column or
not (by default).</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_compare">compare</code></td>
<td>
<p>If TRUE, result is compared with last cached value and the
client is updated only if something changed.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_...">...</code></td>
<td>
<p>Further arguments, passed to <code><a href="utils.html#topic+write.table">write.table()</a></code>.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_x">x</code></td>
<td>
<p>Object returned by <code>obj_list()</code>.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_eol">eol</code></td>
<td>
<p>Separator to use between object entries, default is to list each
item in a separate line.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_header">header</code></td>
<td>
<p>If <code>TRUE</code>, two-line header is printed, of the form: <br />
Environment = environment name <br />
Object = object name <br />
Default is not to print header if <code>all.info == TRUE</code>.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_raw.output">raw.output</code></td>
<td>
<p>If <code>TRUE</code>, a compact, better suited for parsing output is
produced.</p>
</td></tr>
<tr><td><code id="obj_browse_+3A_objects">objects</code></td>
<td>
<p>A list with selected items in the object browser.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>obj_browse()</code> does the horse work. <code>obj_dir()</code> gets the temporary
directory where exchange files with the GUI client are stored, in case you
exchange data through files. You can use a better way to communicate with
your GUI (you have to provide your code) and disable writing to files by
using <code>path = NULL</code>.
</p>
<p><code>obj_list()</code> lists objects in a given environment, elements of a recursive
object or function argument.
</p>
<p><code>obj_search()</code> lists the search path.
</p>
<p><code>obj_clear()</code> clears any reference to a given object browser.
</p>
<p><code>obj_info()</code> computes a tooltip info for a given object.
</p>
<p>obj_menu()' computes a context menu for selected object(s) in the object
explorer managed by the GUI client.
</p>
<p><code>print.objList()</code> print method for <code>objList</code> objects.
</p>


<h3>Value</h3>

<p>Depending on the function, a list, a string, a reference to an
external, temporary file or <code>TRUE</code> in case of success or <code>FALSE</code> otherwise
is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a> &amp;
Kamil Barton <a href="mailto:kamil.barton@uni-wuerzburg.de">kamil.barton@uni-wuerzburg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+completion">completion()</a></code>, <code><a href="#topic+call_tip">call_tip()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create various context menus
data(iris)
(obj_info(object = "iris"))
data(trees)
# For one object
(obj_menu(objects = "iris"))
# For multiple objects
(obj_menu(objects = c("iris", "trees")))
# For inexistant object (return "")
(obj_info(object = "noobject"))
(obj_menu(objects = "noobject"))
rm(iris, trees)

# For environments
(obj_info(envir = ".GlobalEnv"))
(obj_menu(envir = ".GlobalEnv"))
(obj_info(envir = "SciViews:TempEnv"))
(obj_menu(envir = "SciViews:TempEnv"))
(obj_info(envir = "package:datasets"))
(obj_menu(envir = "package:datasets"))
# For an environment that does not exist on the search path (return "")
(obj_info(envir = "noenvir"))
(obj_menu(envir = "noenvir"))
</code></pre>

<hr>
<h2 id='package'>A (possibly) very silent and multi-package library()/require() function</h2><span id='topic+package'></span>

<h3>Description</h3>

<p>This function loads one or several R packages as silently as
possible (with <code>warn/message = FALSE</code>) and it returns <code>TRUE</code> only if all
packages are loaded successfully. If at least one loading fails, a short
message is printed, by default. For all packages that were not found, an
entry is recorded in <code>.packages_to_install</code> in <code>SciViews:TempEnv</code>, and that
list can be automatically used by <code><a href="#topic+Install">Install()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>package(
  ...,
  stop = TRUE,
  message = stop,
  warn.conflicts = message,
  pos = 2L,
  lib.loc = NULL,
  verbose = getOption("verbose")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="package_+3A_...">...</code></td>
<td>
<p>The name of one or several R packages to load (character strings).</p>
</td></tr>
<tr><td><code id="package_+3A_stop">stop</code></td>
<td>
<p>If <code>TRUE</code>, issue an error in case the package(s) cannot be
loaded.</p>
</td></tr>
<tr><td><code id="package_+3A_message">message</code></td>
<td>
<p>Do we display introductory message of the package? If a
package displays such a message, there is often a good reason. So, it is
<strong>not</strong> a good idea to disable it in <em>interactive</em> sessions. However, in
other contexts, like in non-interactive use, inside an R Markdown document,
etc., it is more convenient not to display it.</p>
</td></tr>
<tr><td><code id="package_+3A_warn.conflicts">warn.conflicts</code></td>
<td>
<p>As for <code><a href="base.html#topic+library">library()</a></code>: &quot;logical. If TRUE, warnings are
printed about conflicts from attaching the new package. A conflict is a
function masking a function, or a non-function masking a non-function.</p>
</td></tr>
<tr><td><code id="package_+3A_pos">pos</code></td>
<td>
<p>As for <code><a href="base.html#topic+library">library()</a></code>: &quot;the position on the search list at which to
attach the loaded namespace. Can also be the name of a position on the
current search list as given by <code><a href="base.html#topic+search">search()</a></code>&quot;. Only one position can be
provided here, even if several packages, and they will be all inserted one
after the other at the given position.</p>
</td></tr>
<tr><td><code id="package_+3A_lib.loc">lib.loc</code></td>
<td>
<p>As for <code><a href="base.html#topic+library">library()</a></code>: &quot;a character vector describing the
location of <span class="rlang"><b>R</b></span> library trees to search through, or <code>NULL</code>. The default value
of <code>NULL</code> corresponds to all libraries currently known to <code><a href="base.html#topic+.libPaths">.libPaths()</a></code>.
Non-existent library trees are silently ignored&quot;.</p>
</td></tr>
<tr><td><code id="package_+3A_verbose">verbose</code></td>
<td>
<p>A logical indicating if additional diagnostic messages are
printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if all packages are loaded correctly, <code>FALSE</code> otherwise, with
a <code>details</code> attribute indicating which package was loaded or not.
</p>


<h3>Note</h3>

<p>This function is designed to concisely and possibly quietly (with
<code>warn = FALSE</code>) load packages and attach them to the search path. Also, on
the contrary to <code><a href="base.html#topic+library">library()</a></code>, or <code><a href="base.html#topic+require">require()</a></code>, it is <strong>not</strong> possible to use
unquoted names of the packages. This is cleaner, and avoids the contrived
work-around to pass name(s) of packages as a variable with an arguments
<code>character.only = TRUE</code>!
</p>
<p>If several packages are provided, they are loaded and attached in reverse
order, so that the order in the search path is the same one as the order in
the provided vector.
</p>
<p>The <code>library(help = ...)</code> version is not implemented here.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+require">require()</a></code>, <code><a href="base.html#topic+library">library()</a></code>, <code><a href="#topic+Install">Install()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This should work...
if (package('tools', 'methods', stop = FALSE)) message("Fine!")
# ... but this not (note that there are no details here!)
if (!package('tools', 'badname', stop = FALSE)) message("Not fine!")
## Not run: 
# Get an error
package('badname')

## End(Not run)
</code></pre>

<hr>
<h2 id='parse_text'>Parse a character string as if it was a command entered at the command line</h2><span id='topic+parse_text'></span><span id='topic+parseText'></span>

<h3>Description</h3>

<p>Parse R instructions provided as a string and return the
expression if it is correct, or an object of class 'try-error' if it is an
incorrect code, or <code>NA</code> if the (last) instruction is incomplete.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_text(text, firstline = 1, srcfilename = NULL, encoding = "unknown")

parseText(text, firstline = 1, srcfilename = NULL, encoding = "unknown")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_text_+3A_text">text</code></td>
<td>
<p>The character string vector to parse into an R expression.</p>
</td></tr>
<tr><td><code id="parse_text_+3A_firstline">firstline</code></td>
<td>
<p>The index of first line being parsed in the file. If this is
larger than <code>1</code>, empty lines are added in front of <code>text</code> in order to match
the correct position in the file.</p>
</td></tr>
<tr><td><code id="parse_text_+3A_srcfilename">srcfilename</code></td>
<td>
<p>A character string with the name of the source file.</p>
</td></tr>
<tr><td><code id="parse_text_+3A_encoding">encoding</code></td>
<td>
<p>Encoding of 'text&ldquo;, as in <code><a href="base.html#topic+parse">parse()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an expression with the parsed code or <code>NA</code> if the last
instruction is correct but incomplete, or an object of class 'try-error' with
the error message if the code is incorrect.
</p>


<h3>Note</h3>

<p>On the contrary to <code>parse()</code>, <code>parse_text()</code> recovers from incorrect
code and also detects incomplete code. It is also easier to use in case you
pass a character string to it, because you don't have to name the argument
explicitly (<code>text = ...</code>).
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+parse">parse()</a></code>, <code><a href="#topic+capture_all">capture_all()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parse_text("1 + 1")
parse_text("1 + 1; log(10)")
parse_text(c("1 + 1", "log(10)"))

# Incomplete instruction
parse_text("log(")

# Incomplete strings
parse_text("text &lt;- \"some string")
parse_text("text &lt;- 'some string")

# Incomplete names (don't write backtick quoted names on several lines!)
# ...but just in case
parse_text("`myvar")

# Incorrect expression
parse_text("log)")
</code></pre>

<hr>
<h2 id='pcloud'>Create the path to a file in the p-Cloud drive</h2><span id='topic+pcloud'></span><span id='topic+pcloud_crypto'></span>

<h3>Description</h3>

<p>Similar to <code><a href="base.html#topic+file.path">file.path()</a></code> but creates a path to a file located
somewhere in a p-Cloud drive. <a href="https://www.pcloud.com/eu.html">p-Cloud</a> is a
cloud storage system that comes with an application for Windows, MacOS or
Linux. It creates a virtual drive on the PC where files can be managed as if
they were local. However, the path to these files differ between OSes. This
function abstracts out the first part of the path for you. So, you just have
to provide the folders and files and it constructs a valid absolute path, no
matter which OS you are using. The <code><a href="#topic+pcloud_crypto">pcloud_crypto()</a></code> function does the same
for the special <code style="white-space: pre;">&#8288;Crypo Folder&#8288;</code> that p-Cloud creates if you subscribe to the
encryption option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pcloud(...)

pcloud_crypto(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pcloud_+3A_...">...</code></td>
<td>
<p>The folder, subfolder and file to form the path, starting to the
root of the p-Cloud drive, or the <code style="white-space: pre;">&#8288;Crypto Folder&#8288;</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string with the absolute path to the file or folder.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+system_file">system_file()</a></code>, <code><a href="#topic+source_clipboard">source_clipboard()</a></code>, <code><a href="base.html#topic+file.path">file.path()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pcloud("subfolder", "file.txt")
# Only valid with the encryption option and the Crypto Folder is unlocked
pcloud_crypto("subfolder1", "subfolder2", "crypted_file.txt")

## End(Not run)
</code></pre>

<hr>
<h2 id='pkgman_describe'>Functions to manage R side of the SciViews R package manager</h2><span id='topic+pkgman_describe'></span><span id='topic+pkgman_get_mirrors'></span><span id='topic+pkgman_get_available'></span><span id='topic+pkgman_get_installed'></span><span id='topic+pkgman_set_cran_mirror'></span><span id='topic+pkgman_install'></span><span id='topic+pkgman_remove'></span><span id='topic+pkgman_load'></span><span id='topic+pkgman_detach'></span><span id='topic+pkgManDescribe'></span><span id='topic+pkgManGetMirrors'></span><span id='topic+pkgManGetAvailable'></span><span id='topic+pkgManGetInstalled'></span><span id='topic+pkgManSetCRANMirror'></span><span id='topic+pkgManInstall'></span><span id='topic+pkgManRemove'></span><span id='topic+pkgManLoad'></span><span id='topic+pkgManDetach'></span>

<h3>Description</h3>

<p>These functions should not be used directly by the end-user.
They implement the R-side code for the SciViews <span class="rlang"><b>R</b></span> package manager.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkgman_describe(pkgname, print.it = TRUE)

pkgman_get_mirrors()

pkgman_get_available(
  page = "next",
  pattern = "",
  n = 50,
  keep = c("Package", "Version", "InstalledVersion", "Status"),
  reload = FALSE,
  sep = ";",
  eol = "\t\n"
)

pkgman_get_installed(sep = ";", eol = "\t\n")

pkgman_set_cran_mirror(url)

pkgman_install(pkgs, install.deps = FALSE, ask = TRUE)

pkgman_remove(pkgname)

pkgman_load(pkgname)

pkgman_detach(pkgname)

pkgManDescribe(pkgname, print.it = TRUE)

pkgManGetMirrors()

pkgManGetAvailable(
  page = "next",
  pattern = "",
  n = 50,
  keep = c("Package", "Version", "InstalledVersion", "Status"),
  reload = FALSE,
  sep = ";",
  eol = "\t\n"
)

pkgManGetInstalled(sep = ";", eol = "\t\n")

pkgManSetCRANMirror(url)

pkgManInstall(pkgs, install.deps = FALSE, ask = TRUE)

pkgManRemove(pkgname)

pkgManLoad(pkgname)

pkgManDetach(pkgname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkgman_describe_+3A_pkgname">pkgname</code></td>
<td>
<p>The name of one R package (character string).</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_print.it">print.it</code></td>
<td>
<p>Should the result be printed?</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_page">page</code></td>
<td>
<p>Which page to get?</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_pattern">pattern</code></td>
<td>
<p>Selection pattern.</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_n">n</code></td>
<td>
<p>The number of items to retrieve.</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_keep">keep</code></td>
<td>
<p>The columns to keep in the resulting data frame.</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_reload">reload</code></td>
<td>
<p>Do we force reload of the data and ignore cache version?</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_sep">sep</code></td>
<td>
<p>Field separator to use.</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_eol">eol</code></td>
<td>
<p>End-of-line sequence to use.</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_url">url</code></td>
<td>
<p>The URL to use for the current CRAN mirror.</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_pkgs">pkgs</code></td>
<td>
<p>A list of packages to install.</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_install.deps">install.deps</code></td>
<td>
<p>Do we also install dependencies?</p>
</td></tr>
<tr><td><code id="pkgman_describe_+3A_ask">ask</code></td>
<td>
<p>Do we prompt the user for package installation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>These functions return data that is intended to be used by the
SciViews <span class="rlang"><b>R</b></span> package manager.
</p>


<h3>Author(s)</h3>

<p>Kamil Barton <a href="mailto:kamil.barton@uni-wuerzburg.de">kamil.barton@uni-wuerzburg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+package">package()</a></code>
</p>

<hr>
<h2 id='progress'>Display progression of a long calculation at the R console and/or in a GUI</h2><span id='topic+progress'></span>

<h3>Description</h3>

<p>Display progression level of a long-running task in the console.
Two mode can be used: either percent of achievement (55\
items or steps done on a total (1 file on 10 done...). This is displayed
either through a message, or through a text-based &quot;progression bar&quot; on the
console, or a true progression bar widget in a GUI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>progress(
  value,
  max.value = NULL,
  progress.bar = FALSE,
  char = "|",
  init = (value == 0),
  console = TRUE,
  gui = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="progress_+3A_value">value</code></td>
<td>
<p>Current value of the progression (use a value higher than
<code>max.value</code> to dismiss the progression indication automatically.</p>
</td></tr>
<tr><td><code id="progress_+3A_max.value">max.value</code></td>
<td>
<p>Maximum value to be achieved.</p>
</td></tr>
<tr><td><code id="progress_+3A_progress.bar">progress.bar</code></td>
<td>
<p>Should we display a progression bar on the console? If
<code>FALSE</code>, a temporary message is used.</p>
</td></tr>
<tr><td><code id="progress_+3A_char">char</code></td>
<td>
<p>The character to use to fill the progress bar in the console. not
used for the alternate display, or for GUI display of progression.</p>
</td></tr>
<tr><td><code id="progress_+3A_init">init</code></td>
<td>
<p>Do we have to initialize the progress bar? It is usually done the
first time the function is used, and the default value <code>init = (value == 0)</code>
is correct most of the time. You must specify <code>init = TRUE</code> in two cases:
(1) if the first value to display is different from zero, and (2) if your
code issues some text on screen during progression display. Hence, you must
force redraw of the progression bar.</p>
</td></tr>
<tr><td><code id="progress_+3A_console">console</code></td>
<td>
<p>Do we display progression on the console?</p>
</td></tr>
<tr><td><code id="progress_+3A_gui">gui</code></td>
<td>
<p>Do we display progression in a dialog box, or any other GUI widget?
See &quot;details&quot; and &quot;examples&quot; hereunder to know how to implement your own GUI
progression indicator.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>progress()</code> proposes different styles of progression
indicators than the standard <code><a href="utils.html#topic+txtProgressBar">txtProgressBar()</a></code> in package 'utils'.
</p>
<p>The function uses backspace (\8) to erase characters at the console.
</p>
<p>With <code>gui = TRUE</code>, it looks for all functions defined in the <code>.progress</code> list
located in the <code>SciViews:TempEnv</code> environment. Each function is executed in
turn with following call: <code>the_gui_function(value, max.value)</code>. You are
responsible to create <code>the_gui_function()</code> and to add it as an element in
the <code>.progress</code> list. See also example (5) hereunder.
</p>
<p>If your GUI display of the progression offers the possibility to stop
calculation (for instance, using a 'Cancel' button), you are responsible to
pass this info to your code doing the long calculation and to stop it there.
Example (5) shows how to do this.
</p>


<h3>Value</h3>

<p>This function returns <code>NULL</code> invisibly. It is invoked for its side
effects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+batch">batch()</a></code>, <code><a href="utils.html#topic+txtProgressBar">txtProgressBar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># 1) A simple progress indicator in percent
for (i in 0:101) {
  progress(i)
  Sys.sleep(0.01)
  if (i == 101) message("Done!")
}

## Not run: 
# 2) A progress indicator with 'x on y'
for (i in 0:31) {
  progress(i, 30)
  Sys.sleep(0.02)
  if (i == 31) message("Done!")
}

# 3) A progress bar in percent
for (i in 0:101) {
  progress(i, progress.bar = TRUE)
  Sys.sleep(0.01)
  if (i == 101) message("Done!")
}

# 4) A progress indicator with 'x on y'
for (i in 0:21) {
  progress(i, 20, progress.bar = TRUE)
  Sys.sleep(0.03)
  if (i == 21) message("Done!")
}

## End(Not run)

# 5) A progression dialog box with Tcl/Tk
## Not run: 
if (require(tcltk)) {
  gui_progress &lt;- function(value, max.value) {
    # Do we need to destroy the progression dialog box?
    if (value &gt; max.value) {
      try(tkdestroy(get_temp("gui_progress_window")), silent = TRUE)
      delete_temp(c("gui_progress_state", "gui_progress_window",
        "gui_progress_cancel"))
      return(invisible(FALSE))
    } else if (exists_temp("gui_progress_window") &amp;&amp;
      !inherits(try(tkwm.deiconify(tt &lt;- get_temp("gui_progress_window")),
        silent = TRUE), "try-error")) {
      # The progression dialog box exists
      # Focus on it and change progress value
      tkfocus(tt)
      state &lt;- get_temp("gui_progress_state")
      tclvalue(state) &lt;- value
    } else {
      # The progression dialog box must be (re)created
      # First, make sure there is no remaining "gui_progress_cancel"
      delete_temp("gui_progress_cancel")
      # Create a Tcl variable to hold current progression state
      state &lt;- tclVar(value)
      assign_temp("gui_progress_state", state)
      # Create the progression dialog box
      tt &lt;- tktoplevel()
      assign_temp("gui_progress_window", tt)
      tktitle(tt) &lt;- "Waiting..."
      sc &lt;- tkscale(tt, orient = "h", state = "disabled", to = max.value,
        label = "Progress:", length = 200, variable = state)
      tkpack(sc)
      but &lt;- tkbutton(tt, text = "Cancel", command = function() {
        # Set a flag telling to stop running calculation
        assign_temp("gui_progress_cancel", TRUE) # Content is not important!
        tkdestroy(tt)
      })
      tkpack(but)
    }
    invisible(TRUE)
  }
  # Register it as function to use in progress()
  change_temp(".progress", "gui_progress", gui_progress,
    replace.existing = TRUE)
  rm(gui_progress) # Don't need this any more
  # Test it...
  for (i in 0:101) {
    progress(i) # Could also set console = FALSE for using the GUI only
    Sys.sleep(0.05)
    # The code to stop long calc when user presses "Cancel"
    if (exists_temp("gui_progress_cancel")) {
      progress(101, console = FALSE) # Make sure to clean up everything
      break
    }
    if (i == 101) message("Done!")
  }
  # Unregister the GUI for progress
  change_temp(".progress", "gui_progress", NULL)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='search_web'>Search web documents about R and R functions</h2><span id='topic+search_web'></span><span id='topic+helpSearchWeb'></span>

<h3>Description</h3>

<p>Retrieve web documents, or search with Google for <code>what</code> string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_web(what, type = c("R", "google"), browse = TRUE, msg = browse, ...)

helpSearchWeb(what, type = c("R", "google"), browse = TRUE, msg = browse, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_web_+3A_what">what</code></td>
<td>
<p>The string(s) to search. In case of several strings, or several
words, any of these words are searched.</p>
</td></tr>
<tr><td><code id="search_web_+3A_type">type</code></td>
<td>
<p>The search engine, or location to use.</p>
</td></tr>
<tr><td><code id="search_web_+3A_browse">browse</code></td>
<td>
<p>Do we actually show the page in the Web browser? If
<code>type = "R"</code>, this argument is ignored and the result is always displayed in
the Web browser.</p>
</td></tr>
<tr><td><code id="search_web_+3A_msg">msg</code></td>
<td>
<p>Do we issue a message indicating that a page should be displayed
shortly in the Web browser? If <code>type = "R"</code>, this argument is ignored and a
message is always displayed.</p>
</td></tr>
<tr><td><code id="search_web_+3A_...">...</code></td>
<td>
<p>Further arguments to format the result page in case of
<code>type = "R"</code>. These are the same arguments as for <code><a href="utils.html#topic+RSiteSearch">RSiteSearch()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the URL used invisibly (invoked for its side effect of
opening the Web browser with the search result, when <code>browse = TRUE</code>).
</p>


<h3>Note</h3>

<p>The <code><a href="utils.html#topic+RSiteSearch">RSiteSearch()</a></code> function in the 'utils' package is used when
<code>type = "R"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+RSiteSearch">RSiteSearch()</a></code>, <code><a href="utils.html#topic+help.search">help.search()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
search_web("volatility")                    # R site search, by default
search_web("volatility", type = "google")   # Google search

## End(Not run)
</code></pre>

<hr>
<h2 id='source_clipboard'>Source code from the clipboard</h2><span id='topic+source_clipboard'></span><span id='topic+sourceClipboard'></span>

<h3>Description</h3>

<p>This function reads R code from the clipboard, and then source
it. Clipboard is managed correctly depending on the OS (Windows, MacOS, or
*nix)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_clipboard(primary = TRUE, ...)

sourceClipboard(primary = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="source_clipboard_+3A_primary">primary</code></td>
<td>
<p>Only valid on *nix: read the primary (or secondary) clipboard.</p>
</td></tr>
<tr><td><code id="source_clipboard_+3A_...">...</code></td>
<td>
<p>Further parameters passed to <code><a href="base.html#topic+source">source()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Same result as <code><a href="base.html#topic+source">source()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+source">source()</a></code>, <code><a href="base.html#topic+file">file()</a></code>
</p>

<hr>
<h2 id='subsettable'>Define a function as being 'subsettable' using $ operator</h2><span id='topic+subsettable'></span><span id='topic++24.subsettable_type'></span><span id='topic++24.subsettable_which'></span>

<h3>Description</h3>

<p>In case a textual argument allows for selecting the result, for
instance, if <code>plot()</code> allows for several charts that you can choose with a
<code style="white-space: pre;">&#8288;type=&#8288;</code> or <code style="white-space: pre;">&#8288;which=&#8288;</code>, making the function 'subsettable' also allows to
indicate <code>fun$variant()</code>. See examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'subsettable_type'
x$name

## S3 method for class 'subsettable_which'
x$name
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subsettable_+3A_x">x</code></td>
<td>
<p>A <code>subsettable_type</code> function.</p>
</td></tr>
<tr><td><code id="subsettable_+3A_name">name</code></td>
<td>
<p>The value to use for the <code style="white-space: pre;">&#8288;type=&#8288;</code> argument.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>foo &lt;- structure(function(x, type = c("histogram", "boxplot"), ...) {
  type &lt;- match.arg(type, c("histogram", "boxplot"))
  switch(type,
    histogram = hist(x, ...),
    boxplot = boxplot(x, ...),
    stop("unknow type")
  )
}, class = c("function", "subsettable_type"))
foo

# This function can be used as usual:
foo(rnorm(50), type = "histogram")
# ... but also this way:
foo$histogram(rnorm(50))
foo$boxplot(rnorm(50))
</code></pre>

<hr>
<h2 id='system_file'>Get a system file or directory</h2><span id='topic+system_file'></span><span id='topic+system_dir'></span><span id='topic+systemFile'></span><span id='topic+systemDir'></span>

<h3>Description</h3>

<p>Get system files or directories, in R subdirectories, in package
subdirectories, or elsewhere on the disk (including executables that are
accessible on the search path).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>system_file(..., exec = FALSE, package = NULL, lib.loc = NULL)

system_dir(..., exec = FALSE, package = NULL, lib.loc = NULL)

systemFile(..., exec = FALSE, package = NULL, lib.loc = NULL)

systemDir(..., exec = FALSE, package = NULL, lib.loc = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="system_file_+3A_...">...</code></td>
<td>
<p>One or several executables if <code>exec = TRUE</code>, or subpath to a file
or dir in a package directory if <code>package != NULL</code>, or a list of paths and
subpaths for testing the existence of a file on disk, or a list of directory
components to retrieve in 'temp', 'sysTemp', 'user', 'home', 'bin', 'doc',
'etc' and/or 'share' to retrieve special system directories.</p>
</td></tr>
<tr><td><code id="system_file_+3A_exec">exec</code></td>
<td>
<p>If <code>TRUE</code> (default) search for executables on the search path.
It supersedes all other arguments.</p>
</td></tr>
<tr><td><code id="system_file_+3A_package">package</code></td>
<td>
<p>The name of one package to look for files or subdirs in its
main directory (use <code>exec = FALSE</code> to search inside package dirs).</p>
</td></tr>
<tr><td><code id="system_file_+3A_lib.loc">lib.loc</code></td>
<td>
<p>A character vector with path names of <span class="rlang"><b>R</b></span> libraries or <code>NULL</code>
(search all currently known libraries in this case).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string with the path to the directories or files, or <code>""</code> if they
are not found, or of the wrong type (a dir for <code>system_file()</code> or or a file
for <code>system_dir()</code>).
</p>


<h3>Note</h3>

<p>These function aggregate the features of several <span class="rlang"><b>R</b></span> functions in
package base: <code><a href="base.html#topic+system.file">system.file()</a></code>, <code><a href="base.html#topic+R.home">R.home()</a></code>, <code><a href="base.html#topic+tempdir">tempdir()</a></code>, <code><a href="base.html#topic+Sys.which">Sys.which()</a></code>, and
aims to provide a unified and convenient single interface to all of them. We
make sure also to check that returned components are respectively directories
and files for <code>system_dir()</code> and <code>system_file()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+file_edit">file_edit()</a></code>, <code><a href="base.html#topic+file.path">file.path()</a></code>, <code><a href="base.html#topic+file.exists">file.exists()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>system_file("INDEX", package = "base")
system_file("help", "AnIndex", package = "splines")
system_file(package = "base")  # This is a dir, not a file!
system_file("zip", exec = TRUE)
system_file("ftp", "ping", "zip", "nonexistingexe", exec = TRUE)
system_dir("temp")             # The R temporary directory
system_dir("sysTemp")          # The system temporary directory
system_dir("user")             # The user directory
system_dir("home", "bin", "doc", "etc", "share")  # Various R dirs
system_dir("zip", exec = TRUE) # Look for the dir of an executable
system_dir("ftp", "ping", "zip", "nonexistingexe", exec = TRUE)
system_dir(package = "base")   # The root of the 'base' package
system_dir(package = "stats")  # The root of package 'stats'
system_dir("INDEX", package = "stats") # This is a file, not a dir!
system_dir("help", package = "splines")
</code></pre>

<hr>
<h2 id='temp_env'>Get an environment dedicated to temporary variables (and create it if needed)</h2><span id='topic+temp_env'></span><span id='topic+add_items'></span><span id='topic+add_temp'></span><span id='topic+assign_temp'></span><span id='topic+change_temp'></span><span id='topic+exists_temp'></span><span id='topic+get_temp'></span><span id='topic+delete_temp'></span><span id='topic+rm_temp'></span><span id='topic+TempEnv'></span><span id='topic+addItems'></span><span id='topic+addTemp'></span><span id='topic+assignTemp'></span><span id='topic+changeTemp'></span><span id='topic+existsTemp'></span><span id='topic+getTemp'></span><span id='topic+rmTemp'></span>

<h3>Description</h3>

<p>Create and manage a temporary environment <code>SciViews:TempEnv</code>
low enough on the search path so that all loaded packages (except <strong>base</strong>)
could easily access objects there.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>temp_env()

add_items(x, y, use.names = TRUE, replace = TRUE)

add_temp(x, item, value, use.names = TRUE, replace = TRUE)

assign_temp(x, value, replace.existing = TRUE)

change_temp(x, item, value, replace.existing = TRUE)

exists_temp(x, mode = "any")

get_temp(x, default = NULL, mode = "any", item = NULL)

delete_temp(x)

rm_temp(x)

TempEnv()

addItems(x, y, use.names = TRUE, replace = TRUE)

addTemp(x, item, value, use.names = TRUE, replace = TRUE)

assignTemp(x, value, replace.existing = TRUE)

changeTemp(x, item, value, replace.existing = TRUE)

existsTemp(x, mode = "any")

getTemp(x, default = NULL, mode = "any", item = NULL)

rmTemp(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="temp_env_+3A_x">x</code></td>
<td>
<p>The vector to add items to for <code>add_items()</code> or any object. for
<code>delete_temp()</code>, it is the name of the variable (character string), or a
vector of characters with the name of all variables to remove from
<code>SciViews:TempEnv</code>.</p>
</td></tr>
<tr><td><code id="temp_env_+3A_y">y</code></td>
<td>
<p>The vector of which we want to inject missing items in 'x'.</p>
</td></tr>
<tr><td><code id="temp_env_+3A_use.names">use.names</code></td>
<td>
<p>Use names of items to determine which one is unique,
otherwise, the selection is done on the items themselves.</p>
</td></tr>
<tr><td><code id="temp_env_+3A_replace">replace</code></td>
<td>
<p>Do we replace existing items in 'x'?</p>
</td></tr>
<tr><td><code id="temp_env_+3A_item">item</code></td>
<td>
<p>The item to add data to in the list.</p>
</td></tr>
<tr><td><code id="temp_env_+3A_value">value</code></td>
<td>
<p>The value to add in the item, it must be a named vector and
element matching is done according to name of items.</p>
</td></tr>
<tr><td><code id="temp_env_+3A_replace.existing">replace.existing</code></td>
<td>
<p>Do we replace an existing variable?</p>
</td></tr>
<tr><td><code id="temp_env_+3A_mode">mode</code></td>
<td>
<p>The mode of the seek variable</p>
</td></tr>
<tr><td><code id="temp_env_+3A_default">default</code></td>
<td>
<p>The default value to return, in case the variable or the item
does not exist.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The temporary environment is attached to the search path for easier
access to its objects.
</p>


<h3>Value</h3>

<p>The temporary environment for <code>temp-env()</code>, the value assigned, added
or changed for <code>assign_temp()</code>, <code>add_temp()</code>, <code>change_temp()</code>, or
<code>get_temp()</code>. <code>TRUE</code> or <code>FALSE</code> for <code>exists_temp()</code>, <code>delete_temp()</code> or
<code>rm_temp()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+assign">assign()</a></code>, <code><a href="base.html#topic+search">search()</a></code>, <code><a href="#topic+temp_var">temp_var()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ls(temp_env())

# I have a vector v1 with this:
v1 &lt;- c(a = "some v1 text", b = "another v1 text")
# I want to add items whose name is missing in v1 from v2
v2 &lt;- c(a = "v2 text", c = "the missign item")
add_items(v1, v2, replace = FALSE)
# Not the same as
add_items(v1, v2, replace = TRUE)
# This yield different result (names not used and lost!)
add_items(v1, v2, use.names = FALSE)

add_temp("tst", "item1", c(a = 1, b = 2))
# Retrieve this variable
get_temp("tst")
# Add to item1 in this list without replacement
add_temp("tst", "item1", c(a = 45, c = 3), replace = FALSE)
get_temp("tst")
# Same but with replacement of existing items
add_temp("tst", "item1", c(a = 45, c = 3), replace = TRUE)
get_temp("tst")
# Delete the whole variable
delete_temp("tst")

assign_temp("test", 1:10)
# Retrieve this variable
get_temp("test")

change_temp("tst", "item1", 1:10)
# Retrieve this variable
get_temp("tst")
# Create another item in the list
change_temp("tst", "item2", TRUE)
get_temp("tst")
# Change it
change_temp("tst", "item2", FALSE)
get_temp("tst")
# Delete it (= assign NULL to the item)
change_temp("tst", "item2", NULL)
get_temp("tst")
# Delete the whole variable
delete_temp("tst")

assign_temp("test", 1:10)
# Check if this variable exists
exists_temp("test")
# Remove it
delete_temp("test")
# Does it still exists?
exists_temp("test")
</code></pre>

<hr>
<h2 id='temp_var'>Get an arbitrary name for a temporary variable</h2><span id='topic+temp_var'></span><span id='topic+tempvar'></span>

<h3>Description</h3>

<p>This function ensures that the variable name is cryptic enough
and is not already used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>temp_var(pattern = ".var")

tempvar(pattern = ".var")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="temp_var_+3A_pattern">pattern</code></td>
<td>
<p>The prefix for the variable (the rest is a random number).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string with the name of a variable.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+tempfile">tempfile()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>temp_var()
</code></pre>

<hr>
<h2 id='to_rjson'>Convert R object to and from RJSON specification</h2><span id='topic+to_rjson'></span><span id='topic+eval_rjson'></span><span id='topic+list_to_json'></span><span id='topic+toRjson'></span><span id='topic+evalRjson'></span><span id='topic+listToJson'></span>

<h3>Description</h3>

<p>RJSON is an object specification that is not unlike JSON, but
better adapted to represent <span class="rlang"><b>R</b></span> objects (i.e., richer than JSON). It is also
easier to parse and evaluate in both <span class="rlang"><b>R</b></span> and JavaScript to render the objects
in both languages. RJSON objects are used by SciViews to exchange data
between <span class="rlang"><b>R</b></span> and SciViews GUIs like Komodo/SciViews-K.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_rjson(x, attributes = FALSE)

eval_rjson(rjson)

list_to_json(x)

toRjson(x, attributes = FALSE)

evalRjson(rjson)

listToJson(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_rjson_+3A_x">x</code></td>
<td>
<p>Any <span class="rlang"><b>R</b></span> object to be converted into RJSON (do not work with objects
containing C pointers, environments, promises or expressions, but should
work with almost all other <span class="rlang"><b>R</b></span> objects).</p>
</td></tr>
<tr><td><code id="to_rjson_+3A_attributes">attributes</code></td>
<td>
<p>If <code>FALSE</code> (by default), a simple object is created by
ignoring all attributes. This is usually the suitable option to transfer data
to another language, like JavaScript that do not understand R attributes
anyway. With <code>attributes = TRUE</code>, the complete information about the object
is written, so that the object could be recreated (almost) identical when
evaluated in <span class="rlang"><b>R</b></span> (but prefer <code><a href="base.html#topic+save">save()</a></code> and <code><a href="base.html#topic+load">load()</a></code> to transfer objects between
<span class="rlang"><b>R</b></span> sessions!).</p>
</td></tr>
<tr><td><code id="to_rjson_+3A_rjson">rjson</code></td>
<td>
<p>A string containing an object specified in RJSON notation. The
specification is evaluated in <span class="rlang"><b>R</b></span>... and it can contain also R code. There is
no protection provided against execution of bad code. So, you must trust the
source!</p>
</td></tr>
</table>


<h3>Details</h3>

<p>JSON (JavaScript Object Notation) allows to specify fairly complex
objects that can be rather easily exchanged between languages. The notation
is also human-readable and not too difficult to edit manually (although not
advised, of course). However, JSON has too many limitations to represent <span class="rlang"><b>R</b></span>
objects (no <code>NA</code> versus <code>NaN</code>, no infinite numbers, no distinction between
lists and objects with attributes, or S4 objects, etc.). Moreover, JSON is
not very easy to interpret in <span class="rlang"><b>R</b></span> and the existing implementations can convert
only specified objects (simple objects, lists, data frames, ...).
</p>
<p>RJSON slightly modifies and enhances JSON to make it: (1) more complete to
represent almost any <span class="rlang"><b>R</b></span> object (except objects with pointers, environments,
..., of course), and (2) to make it very easy to parse and evaluate in both
<span class="rlang"><b>R</b></span> and JavaScript (and probably many other) languages.
</p>
<p>With <code>attributes = FALSE</code>, factors and Dates are converted to their usual
character representation before encoding the RJSON object. If
<code>attributes = TRUE</code>, they are left as numbers and their attributes (class,
-and levels for factor-) completely characterize them (i.e., using
<code>eval_rjson()</code> and such objects recreate factors or Dates, respectively).
However, they are probably less easy to handle in JavaScript of other
language where you import the RJSON representation.
</p>
<p>Note also that a series of objects are not yet handled correctly. These
include: complex numbers, the different date flavors other that Date,
functions, expressions, environments, pointers. Do not use such items in
objects that you want to convert to RJSON notation.
</p>
<p>A last restriction: you cannot have any special characters like linefeed,
tabulation, etc. in names. If you want to make your names most compatible
with JavaScript, note that the dot is not allowed in syntactically valid
names, but the dollar sign is allowed.
</p>


<h3>Value</h3>

<p>For <code>to_rjson()</code>, a character string vector with the RJSON
specification of the argument.
</p>
<p>For <code>eval_rjson()</code>, the corresponding <span class="rlang"><b>R</b></span> object in case of a pure RJSON
object specification, or the result of evaluating the code, if it contains <span class="rlang"><b>R</b></span>
commands (for instance, a RJSONp -RJSON with padding- item where a RJSON
object is an argument of an <span class="rlang"><b>R</b></span> function that is evaluated. In this case, the
result of the evaluation is returned).
</p>
<p>For <code>list_to_json()</code>, correct (standard) JSON code is generated if <code>x</code> is a
list of character strings, or lists.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_text">parse_text()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A complex R object
obj &lt;- structure(list(
  a = as.double(c(1:5, 6)),
  LETTERS,
  c = c(c1 = 4.5, c2 = 7.8, c3 = Inf, c4 = -Inf, NA, c6 = NaN),
  c(TRUE, FALSE, NA),
  e = factor(c("a", "b", "a")),
  f = 'this is a "string" with quote',
  g = matrix(rnorm(4), ncol = 2),
  `h&amp;$@` = data.frame(x = 1:3, y = rnorm(3),
    fact = factor(c("b", "a", "b"))),
  i = Sys.Date(),
  j = list(1:5, y = "another item")),
  comment = "My comment",
  anAttrib = 1:10,
  anotherAttrib = list(TRUE, y = 1:4))

# Convert to simplest RJSON, without attributes
rjson1 &lt;- to_rjson(obj)
rjson1
eval_rjson(rjson1)

# More complex RJSON, with attributes
rjson2 &lt;- to_rjson(obj, TRUE)
rjson2
obj2 &lt;- eval_rjson(rjson2)
obj2
# Numbers near equivalence comparison (note: identical(Robj, Robj2) is FALSE)
all.equal(obj, obj2)

rm(obj, obj2, rjson1, rjson2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

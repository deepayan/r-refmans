<!DOCTYPE html><html><head><title>Help for package qwraps2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {qwraps2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%s%'><p>Operators</p></a></li>
<li><a href='#backtick'><p>Backtick</p></a></li>
<li><a href='#check_comments'><p>Check Comments</p></a></li>
<li><a href='#confusion_matrix'><p>Confusion Matrices (Contingency Tables)</p></a></li>
<li><a href='#deprecated'><p>Deprecated Functions</p></a></li>
<li><a href='#extract_fstat'><p>Extract Summary stats from regression objects</p></a></li>
<li><a href='#file_check'><p>File and Working Directory Check</p></a></li>
<li><a href='#frmt'><p>Format Wrappers</p></a></li>
<li><a href='#ggplot2_extract_legend'><p>ggplot2 tools</p></a></li>
<li><a href='#gmean'><p>Geometric Mean, Variance, and Standard Deviation</p></a></li>
<li><a href='#gmean_sd'><p>Geometric Mean and Standard deviation</p></a></li>
<li><a href='#lazyload_cache_dir'><p>Lazyload Cache</p></a></li>
<li><a href='#ll'><p>List Object Aliases</p></a></li>
<li><a href='#logit'><p>logit and inverse logit functions</p></a></li>
<li><a href='#mean_ci'><p>Means and Confidence Intervals</p></a></li>
<li><a href='#mean_sd'><p>Mean and Standard deviation</p></a></li>
<li><a href='#mean_se'><p>Mean and Standard Error (of the mean)</p></a></li>
<li><a href='#median_iqr'><p>Median and Inner Quartile Range</p></a></li>
<li><a href='#mtcars2'><p>mtcars2</p></a></li>
<li><a href='#n_perc'><p>Count and Percentage</p></a></li>
<li><a href='#pefr'><p>pefr</p></a></li>
<li><a href='#pkg_check'><p>Package Checks</p></a></li>
<li><a href='#qable'><p>Qable: an extended version of knitr::kable</p></a></li>
<li><a href='#qacf'><p>Autocorrelation plot</p></a></li>
<li><a href='#qblandaltman'><p>Bland Altman Plots</p></a></li>
<li><a href='#qkmplot'><p>Kaplan-Meier Plot</p></a></li>
<li><a href='#qroc-qprc'><p>Receiver-Operator and Precision-Recall Curves</p></a></li>
<li><a href='#qwraps2-package'><p>A collection of wrapper functions aimed at for aiding the authoring of reproducible</p>
reports.</a></li>
<li><a href='#Rpkg'><p>Formatting Style on URLs for packages on CRAN, Github, and Gitlab.</p></a></li>
<li><a href='#set_diff'><p>Set Differences</p></a></li>
<li><a href='#spambase'><p>Spambase</p></a></li>
<li><a href='#spin_comments'><p>Spin Comment Check</p></a></li>
<li><a href='#stat_stepribbon'><p>Step ribbon statistic</p></a></li>
<li><a href='#StatStepribbon'><p>Stat Step Ribbon</p></a></li>
<li><a href='#summary_table'><p>Data Summary Tables</p></a></li>
<li><a href='#traprule'><p>Trapezoid Rule Numeric Integration</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Quick Wraps 2</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of (wrapper) functions the creator found useful
    for quickly placing data summaries and formatted regression results into
    '.Rnw' or '.Rmd' files. Functions for generating commonly used graphics,
    such as receiver operating curves or Bland-Altman plots, are also provided
    by 'qwraps2'.  'qwraps2' is a updated version of a package 'qwraps'. The
    original version 'qwraps' was never submitted to CRAN but can be found at
    <a href="https://github.com/dewittpe/qwraps/">https://github.com/dewittpe/qwraps/</a>. The implementation and limited scope
    of the functions within 'qwraps2' <a href="https://github.com/dewittpe/qwraps2/">https://github.com/dewittpe/qwraps2/</a> is
    fundamentally different from 'qwraps'.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dewittpe/qwraps2/">https://github.com/dewittpe/qwraps2/</a>,
<a href="http://www.peteredewitt.com/qwraps2/">http://www.peteredewitt.com/qwraps2/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dewittpe/qwraps2/issues">https://github.com/dewittpe/qwraps2/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-us</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, knitr, Rcpp (&ge; 0.12.11), utils, xfun</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr (&ge; 1.0.0), survival, covr, glmnet, rbenchmark,
rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp (&ge; 0.12.11), RcppArmadillo</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-09 22:04:54 UTC; peterdewitt</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter DeWitt <a href="https://orcid.org/0000-0002-6391-0795"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Tell Bennett <a href="https://orcid.org/0000-0003-1483-4236"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter DeWitt &lt;dewittpe@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-09 23:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25s+25'>Operators</h2><span id='topic++25s+25'></span>

<h3>Description</h3>

<p>A set of helpful operators to make writing and basic data analysis easier.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>e1 %s% e2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25s+2B25_+3A_e1">e1</code></td>
<td>
<p>a character string</p>
</td></tr>
<tr><td><code id="+2B25s+2B25_+3A_e2">e2</code></td>
<td>
<p>a character string</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# base R
paste0("A longer string ", "can be ", "built")

# with the %s% operator
"A longer string " %s% "can be " %s% "built"

</code></pre>

<hr>
<h2 id='backtick'>Backtick</h2><span id='topic+backtick'></span>

<h3>Description</h3>

<p>Encapsulate a string in backticks. Very helpful for in line code in
<code><a href="knitr.html#topic+spin">spin</a></code> scripts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>backtick(x, dequote = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="backtick_+3A_x">x</code></td>
<td>
<p>the thing to be deparsed and encapsulated in backticks</p>
</td></tr>
<tr><td><code id="backtick_+3A_dequote">dequote</code></td>
<td>
<p>remove the first and last double or signal quote form <code>x</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>backtick("a quoted string")
backtick(no-quote)
backtick(noquote)

</code></pre>

<hr>
<h2 id='check_comments'>Check Comments</h2><span id='topic+check_comments'></span>

<h3>Description</h3>

<p>A more robust check for open/close matching sets of comments in a spin file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_comments(c1, c2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_comments_+3A_c1">c1</code></td>
<td>
<p>index (line numbers) for the start delimiter of comments</p>
</td></tr>
<tr><td><code id="check_comments_+3A_c2">c2</code></td>
<td>
<p>index (line numbers) for the end delimiter of comments</p>
</td></tr>
</table>

<hr>
<h2 id='confusion_matrix'>Confusion Matrices (Contingency Tables)</h2><span id='topic+confusion_matrix'></span><span id='topic+confusion_matrix.default'></span><span id='topic+confusion_matrix.formula'></span><span id='topic+confusion_matrix.glm'></span><span id='topic+print.qwraps2_confusion_matrix'></span>

<h3>Description</h3>

<p>Construction of confusion matrices, accuracy, sensitivity,
specificity, confidence intervals (Wilson's method and (optional
bootstrapping)).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confusion_matrix(
  ...,
  thresholds = NULL,
  confint_method = "logit",
  alpha = getOption("qwraps2_alpha", 0.05)
)

## Default S3 method:
confusion_matrix(
  truth,
  predicted,
  ...,
  thresholds = NULL,
  confint_method = "logit",
  alpha = getOption("qwraps2_alpha", 0.05)
)

## S3 method for class 'formula'
confusion_matrix(
  formula,
  data = parent.frame(),
  ...,
  thresholds = NULL,
  confint_method = "logit",
  alpha = getOption("qwraps2_alpha", 0.05)
)

## S3 method for class 'glm'
confusion_matrix(
  x,
  ...,
  thresholds = NULL,
  confint_method = "logit",
  alpha = getOption("qwraps2_alpha", 0.05)
)

## S3 method for class 'qwraps2_confusion_matrix'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confusion_matrix_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_thresholds">thresholds</code></td>
<td>
<p>a numeric vector of thresholds to be used to define the
confusion matrix (one threshold) or matrices (two or more thresholds).  If
<code>NULL</code> the unique values of <code>predicted</code> will be used.</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_confint_method">confint_method</code></td>
<td>
<p>character string denoting if the logit (default),
binomial, or Wilson Score method for deriving confidence intervals</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_alpha">alpha</code></td>
<td>
<p>alpha level for 100 * (1 - alpha)% confidence intervals</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_truth">truth</code></td>
<td>
<p>a integer vector with the values <code>0</code> and <code>1</code>, or a logical vector.
A value of <code>0</code> or <code>FALSE</code> is an indication of condition negative;
<code>1</code> or <code>TRUE</code> is an indication of condition positive.</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_predicted">predicted</code></td>
<td>
<p>a numeric vector.  See Details.</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_formula">formula</code></td>
<td>
<p>column (known) ~ row (test) for building the confusion matrix</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_data">data</code></td>
<td>
<p>environment containing the variables listed in the formula</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_x">x</code></td>
<td>
<p>a <code>glm</code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The confusion matrix:
</p>

<table>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: center;">      </td><td style="text-align: center;"> True </td><td style="text-align: center;"> Condition </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: center;">      </td><td style="text-align: center;"> +    </td><td style="text-align: center;"> -         </td>
</tr>
<tr>
 <td style="text-align: left;">
Predicted Condition </td><td style="text-align: center;"> +    </td><td style="text-align: center;"> TP   </td><td style="text-align: center;"> FP        </td>
</tr>
<tr>
 <td style="text-align: left;">
Predicted Condition </td><td style="text-align: center;"> -    </td><td style="text-align: center;"> FN   </td><td style="text-align: center;"> TN        </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>where
</p>

<ul>
<li><p> FN: False Negative = truth = 1 &amp; prediction &lt; threshold,
</p>
</li>
<li><p> FP: False Positive = truth = 0 &amp; prediction &gt;= threshold,
</p>
</li>
<li><p> TN: True Negative  = truth = 0 &amp; prediction &lt; threshold, and
</p>
</li>
<li><p> TP: True Positive  = truth = 1 &amp; prediction &gt;= threshold.
</p>
</li></ul>

<p>The statistics returned in the <code>stats</code> element are:
</p>

<ul>
<li><p> accuracy    = (TP + TN) / (TP + TN + FP + FN)
</p>
</li>
<li><p> sensitivity, aka true positive rate = TP / (TP + FN)
</p>
</li>
<li><p> specificity, aka true negative rate = TN / (TN + FP)
</p>
</li>
<li><p> positive predictive value (PPV), aka precision = TP / (TP + FP)
</p>
</li>
<li><p> negative predictive value (NPV) = TN / (TN + FN)
</p>
</li>
<li><p> false negative rate (FNR) = 1 - Sensitivity
</p>
</li>
<li><p> false positive rate (FPR) = 1 - Specificity
</p>
</li>
<li><p> false discovery rate (FDR) = 1 - PPV
</p>
</li>
<li><p> false omission rate (FOR) = 1 - NPV
</p>
</li>
<li><p> F1 score
</p>
</li>
<li><p> Matthews Correlation Coefficient (MCC) =
((TP * TN) - (FP * FN)) / sqrt((TP + FP) (TP+FN) (TN+FP) (TN+FN))
</p>
</li></ul>

<p>Synonyms for the statistics:
</p>

<ul>
<li><p> Sensitivity: true positive rate (TPR), recall, hit rate
</p>
</li>
<li><p> Specificity: true negative rate (TNR), selectivity
</p>
</li>
<li><p> PPV: precision
</p>
</li>
<li><p> FNR: miss rate
</p>
</li></ul>

<p>Sensitivity and PPV could, in some cases, be indeterminate due to division by
zero.  To address this we will use the following rule based on the DICE group
<a href="https://github.com/dice-group/gerbil/wiki/Precision,-Recall-and-F1-measure">https://github.com/dice-group/gerbil/wiki/Precision,-Recall-and-F1-measure</a>:
If TP, FP, and FN are all 0, then PPV, sensitivity, and F1 will be defined to
be 1.  If TP are 0 and FP + FN &gt; 0, then PPV, sensitivity, and F1 are all
defined to be 0.
</p>


<h3>Value</h3>

<p><code>confusion_matrix</code> returns a data.frame with columns
</p>

<ul>
<li>
</li>
<li>
</li>
<li>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1: known truth and prediction status
df &lt;-
  data.frame(
      truth = c(1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0)
    , pred  = c(1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0)
  )

confusion_matrix(df$truth, df$pred, thresholds = 1)

# Example 2: Use with a logistic regression model
mod &lt;- glm(
  formula = spam ~ word_freq_our + word_freq_over + capital_run_length_total
, data = spambase
, family = binomial()
)

confusion_matrix(mod)
confusion_matrix(mod, thresholds = 0.5)

</code></pre>

<hr>
<h2 id='deprecated'>Deprecated Functions</h2><span id='topic+deprecated'></span><span id='topic+qroc_build_data_frame'></span><span id='topic+qroc_build_data_frame.default'></span><span id='topic+qroc_build_data_frame.glm'></span><span id='topic+qprc_build_data_frame'></span>

<h3>Description</h3>

<p>Archive of deprecated functions. Some of these might be removed from the
package in later releases.
</p>
<p>Deprecated methods for building the data sets needed for plotting roc and prc
plots.  use <code><a href="#topic+confusion_matrix">confusion_matrix</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qroc_build_data_frame(fit, truth = NULL, n_threshold = 200, ...)

## Default S3 method:
qroc_build_data_frame(fit, truth = NULL, n_threshold = 200, ...)

## S3 method for class 'glm'
qroc_build_data_frame(fit, truth = NULL, n_threshold = 200, ...)

qprc_build_data_frame(fit, n_threshold = 200, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deprecated_+3A_fit">fit</code></td>
<td>
<p>a <code>glm</code> fit with <code>family = binomial()</code>, or predicted
values</p>
</td></tr>
<tr><td><code id="deprecated_+3A_truth">truth</code></td>
<td>
<p>ignored if <code>fit</code> is a <code>glm</code> object.  A vector of
observations, 0/1 or FALSE/TRUE values, of equal length to <code>fit</code></p>
</td></tr>
<tr><td><code id="deprecated_+3A_n_threshold">n_threshold</code></td>
<td>
<p>number of thresholds to use to estimate auroc or auprc</p>
</td></tr>
<tr><td><code id="deprecated_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="stats.html#topic+predict">predict</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='extract_fstat'>Extract Summary stats from regression objects</h2><span id='topic+extract_fstat'></span><span id='topic+extract_fpvalue'></span><span id='topic+extract_fpvalue.lm'></span>

<h3>Description</h3>

<p>A collection of functions for extracting summary statistics and
reporting regression results from <code>lm</code>, <code>glm</code> and other regression
objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_fstat(x)

extract_fpvalue(x)

## S3 method for class 'lm'
extract_fpvalue(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_fstat_+3A_x">x</code></td>
<td>
<p>a <code>lm</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of the formatted numbers
</p>
<p>formatted p-value from the F-test
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">lm</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- lm(mpg ~ wt + hp + drat, data = mtcars)
summary(fit)
extract_fstat(fit)
extract_fpvalue(fit)

</code></pre>

<hr>
<h2 id='file_check'>File and Working Directory Check</h2><span id='topic+file_check'></span>

<h3>Description</h3>

<p>This check is three-fold: 1) verify the current working directory is as
expected, 2) verify the user can access the file, and 3) verify the file
contents are as expected (via md5sum).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_check(
  paths,
  md5sums = NULL,
  absolute_paths = c("warn", "stop", "silent"),
  stop = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_check_+3A_paths">paths</code></td>
<td>
<p>a character path to the target file</p>
</td></tr>
<tr><td><code id="file_check_+3A_md5sums">md5sums</code></td>
<td>
<p>a character string for the expected md5sum of the target file.
If <code>NULL</code> then only a <code>file.exists</code> check will be done.</p>
</td></tr>
<tr><td><code id="file_check_+3A_absolute_paths">absolute_paths</code></td>
<td>
<p>a character string to set the behavior of warning
(default), stopping, or silent if/when absolute file paths are used.</p>
</td></tr>
<tr><td><code id="file_check_+3A_stop">stop</code></td>
<td>
<p>if <code>TRUE</code> then an error is thrown if any of the checks fail,
else returns a logical. If <code>FALSE</code> (default) a logical is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The test for the file access is done to verify the file can be read by the
current user.
</p>
<p>The return of the function is <code>TRUE</code> if all the files in <code>paths</code>
are accessible, are case matched (optional), and all of requested md5sum
checks pass.  Windows and macOS are generally case-insensitive systems, but
many Linux systems are case-sensitive.  As such
<code><a href="base.html#topic+file.exists">file.exists</a></code> and <code><a href="base.html#topic+file.access">file.access</a></code> may
return different values depending the OS that is active.  <code>file_check</code>
looks for a case match as part of its checks to hopefully prevent issues
across operating systems.
</p>
<p>By default, if the return is <code>TRUE</code> then only <code>TRUE</code> will
be printed to the console.  If the return is <code>FALSE</code> then the
<code>attr(, "checks")</code> is printed by default as well.
</p>
<p>Good practice would be to use relative paths, a warning will be given if any
of the <code>paths</code> are determined to be absolute paths.  That said, there
are cases when an absolute path is needed, e.g., a common data file on a
server with multiple users accessing the file(s).  Set <code>absolute_paths =
c("silent")</code> to silence the warnings.
</p>


<h3>Value</h3>

<p>The function will return a single TRUE/FALSE value with attributes
<code>attr(, "checks")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create example files

relative_example_file1 &lt;-
  basename(
    tempfile(
      pattern = "QWRAPS2_EXAMPLE_1"
      , fileext = ".txt"
      , tmpdir = getwd()
    )
  )

relative_example_file2 &lt;-
  basename(
    tempfile(
      pattern = "QWRAPS2_EXAMPLE_2"
      , fileext = ".txt"
      , tmpdir = getwd()
    )
  )

absolute_example_file &lt;- tempfile()

cat("example file.", file = relative_example_file1)
cat("Another example file.", file = relative_example_file2)
cat("Another example file.", file = absolute_example_file)

# Check that you have access to the files in the working directory.
test1 &lt;- file_check(c(relative_example_file1, relative_example_file2))
test1

# By default, when the checks return TRUE the details of the checks are not
# printed.  You can view the details of the checks as follows:
attr(test1, "checks")

# access to absolute_example_file will generate a warning about
# absolute_paths by default
test2 &lt;- file_check(absolute_example_file)
test2 &lt;- file_check(absolute_example_file, absolute_paths = "silent")
test2

# Case Match
test_case_match &lt;-
  file_check(
    c(relative_example_file1, tolower(relative_example_file1))
  )
test_case_match

# If one or more files is not accessable then return is FALSE and the meta data
# is printed by default.
test_non_existent_file &lt;-
  file_check(
    c("UNLIKELYFILENAME", relative_example_file1, relative_example_file2)
  )
test_non_existent_file

# Or have an error thrown:
## Not run: 
file_check(
  c("UNLIKELYFILENAME", relative_example_file1, relative_example_file2)
, stop = TRUE
)

## End(Not run)

# Verify the md5sums as well as file access:
md5_check1 &lt;- file_check(relative_example_file1, "7a3409e17f9de067740e64448a86e708")
md5_check1

# If you only need to verify a subset of md5sums then use an NA in the md5sums
# argument:
md5_check2 &lt;-
  file_check(c(relative_example_file1, relative_example_file2),
             c("7a3409e17f9de067740e64448a86e708", NA))
md5_check2

# Verify all the md5sums
md5_check3 &lt;-
  file_check(c(relative_example_file1, relative_example_file2),
             c("7a3409e17f9de067740e64448a86e708", "798e52b92e0ae0e60f3f3db1273235d0"))
md5_check3

# clean up working directory
unlink(relative_example_file1)
unlink(relative_example_file2)
unlink(absolute_example_file)

</code></pre>

<hr>
<h2 id='frmt'>Format Wrappers</h2><span id='topic+frmt'></span><span id='topic+frmtp'></span><span id='topic+frmtci'></span>

<h3>Description</h3>

<p>Functions for formatting numeric values for consistent display
in reports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frmt(x, digits = getOption("qwraps2_frmt_digits", 2), append = NULL)

frmtp(
  x,
  style = getOption("qwraps2_journal", "default"),
  digits = getOption("qwraps2_frmtp_digits", 4),
  markup = getOption("qwraps2_markup", "latex"),
  case = getOption("qwraps2_frmtp_case", "upper"),
  leading0 = getOption("qwraps2_frmtp_leading0", TRUE)
)

frmtci(
  x,
  est = 1,
  lcl = 2,
  ucl = 3,
  format = "est (lcl, ucl)",
  show_level = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="frmt_+3A_x">x</code></td>
<td>
<p>a vector of numbers or a numeric matrix to format.</p>
</td></tr>
<tr><td><code id="frmt_+3A_digits">digits</code></td>
<td>
<p>number of digits, including trailing zeros, to the right of the
decimal point.  This option is ignored if <code>is.integer(x) == TRUE)</code>.</p>
</td></tr>
<tr><td><code id="frmt_+3A_append">append</code></td>
<td>
<p>a character string to append to the formatted number.  This is
particularly useful for percentages or adding punctuation to the end of the
formatted number.  This should be a vector of length 1, or equal to the
length of <code>x</code>.</p>
</td></tr>
<tr><td><code id="frmt_+3A_style">style</code></td>
<td>
<p>a character string indicating a specific journal requirements
for p-value formatting.</p>
</td></tr>
<tr><td><code id="frmt_+3A_markup">markup</code></td>
<td>
<p>a character string indicating if the output should be latex or
markup.</p>
</td></tr>
<tr><td><code id="frmt_+3A_case">case</code></td>
<td>
<p>a character string indicating if the output should be upper case
or lower case.</p>
</td></tr>
<tr><td><code id="frmt_+3A_leading0">leading0</code></td>
<td>
<p>boolean, whether or not the p-value should be reported as
0.0123 (TRUE, default), or .0123 (FALSE).</p>
</td></tr>
<tr><td><code id="frmt_+3A_est">est</code></td>
<td>
<p>the numeric index of the vector element or the matrix column
containing the point estimate.</p>
</td></tr>
<tr><td><code id="frmt_+3A_lcl">lcl</code></td>
<td>
<p>the numeric index of the vector element or the matrix column
containing the lower confidence limit.</p>
</td></tr>
<tr><td><code id="frmt_+3A_ucl">ucl</code></td>
<td>
<p>the numeric index of the vector element or the matrix column
containing the upper confidence limit.</p>
</td></tr>
<tr><td><code id="frmt_+3A_format">format</code></td>
<td>
<p>a string with &quot;est&quot; &quot;lcl&quot;, and &quot;ucl&quot; to denote the location of
the estimate, lower confidence limit, and upper confidence limit for the
formatted string.  Defaults to &quot;est (lcl, ucl)&quot;.</p>
</td></tr>
<tr><td><code id="frmt_+3A_show_level">show_level</code></td>
<td>
<p>defaults to FALSE.  If TRUE and <code>format</code> is the
default, then
&quot;100*(1-options()$qwraps2_alpha)
parenthesis and the lcl.  If set to a string, then the given string will be
placed between the left parenthesis and the lcl.  If the <code>format</code> is not
the default, then this argument is ignored.</p>
</td></tr>
<tr><td><code id="frmt_+3A_...">...</code></td>
<td>
<p>args passed to frmt</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'frmt' was originally really just a wrapper for the <code>formatC</code>.  It has
extended functionality now as I have found common uses cases.
</p>
<p>'frmtp' formats P-values per journal
requirements.  As I work on papers aimed at different journals, the
formatting functions will be extended to match.
</p>
<p>Default settings are controlled through the function arguments but should be
set via <code>options()</code>.
</p>
<p>Default settings report the P-value exactly if P &gt;
<code>getOptions("qwraps2_frmtp_digits", 4)</code> and reports
P &lt; <code>10^-(getOptions("qwraps2_frmtp_digits", 2))</code> otherwise.  By the
leading zero is controlled via
<code>getOptions("qwraps2_frmtp_leading0", TRUE)</code>
and a upper or lower case P is controlled by
<code>getOptions("qwraps2_frmtp_case", "upper")</code>.  These options are ignored
if <code>style != "default"</code>.
</p>
<p>Journals with predefined P-value formatting are noted in the
<span class="pkg"><a href="#topic+qwraps2">qwraps2</a></span> documentation.
</p>
<p>'frmtci' takes a <code>matrix</code>, or <code>data.frame</code>, with a point estimate
and the lcl and ucl and formats a string for reporting.  est (lcl, ucl) is
the default.  The confidence level can be added to the string, e.g., &quot;est
(95
format.
</p>
<p>'frmtcip' expects four values, est, lcl, ucl, and p-value.  The resulting
sting will be of the form &quot;est (lcl, ucl; p-value)&quot;.
</p>
<p>The 'Rpkg', 'CRANpkg', and 'Githubpkg' functions are used to help make
documenting packages stylistically consistent and with valid urls.  These
functions were inspired by similar ones found in the BioConductor BiocStyle
package.
</p>


<h3>Value</h3>

<p>a character vector of the formatted numbers
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+formatC">formatC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Formatting numbers
integers &lt;- c(1234L, 9861230L)
numbers  &lt;- c(1234,  9861230)
frmt(integers)  # no decimal point
frmt(numbers)   # decimal point and zeros to the right

numbers &lt;- c(0.1234, 0.1, 1234.4321, 0.365, 0.375)
frmt(numbers)

# reporting a percentage
frmt(17/19 * 100, digits = 2, append = "%")   # good for markdown
frmt(17/19 * 100, digits = 2, append = "\\%") # good for LaTeX

# append one character
frmt(c(1, 2, 3)/19 * 100, digits = 2, append = "%")

# append different characters
frmt(c(1, 2, 3)/19 * 100, digits = 2, append = c("%;", "%!", "%."))

### Formatting p-values
ps &lt;- c(0.2, 0.001, 0.00092, 0.047, 0.034781, 0.0000872, 0.787, 0.05, 0.043)
# LaTeX is the default markup language
cbind("raw"      = ps,
      "default"  = frmtp(ps),
      "3lower"   = frmtp(ps, digits = 3, case = "lower"),
      "PediDent" = frmtp(ps, style = "pediatric_dentistry"))

### Using markdown
cbind("raw"      = ps,
      "default"  = frmtp(ps, markup = "markdown"),
      "3lower"   = frmtp(ps, digits = 3, case = "lower", markup = "markdown"),
      "PediDent" = frmtp(ps, style = "pediatric_dentistry", markup = "markdown"))

# Formatting the point estimate and confidence interval
# for a set of three values
temp &lt;- c(a = 1.23, b = .32, CC = 1.78)
frmtci(temp)

# show level uses getOption("qwraps2_alpha", 0.05)
frmtci(temp, show_level = TRUE)

# note that the show_level will be ignored in the following
frmtci(temp, format = "est ***lcl, ucl***", show_level = TRUE)

# show_level as a character
frmtci(temp, show_level = "confidence between: ")

# For a matrix: the numbers in this example don't mean anything, but the
# formatting should.
temp2 &lt;- matrix(rnorm(12), nrow = 4,
                dimnames = list(c("A", "B", "C", "D"), c("EST", "LOW", "HIGH")))
temp2
frmtci(temp2)

# similar for a data.frame
df2 &lt;- as.data.frame(temp2)
frmtci(df2)

</code></pre>

<hr>
<h2 id='ggplot2_extract_legend'>ggplot2 tools</h2><span id='topic+ggplot2_extract_legend'></span>

<h3>Description</h3>

<p>A few handy tools for working with ggplot2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot2_extract_legend(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot2_extract_legend_+3A_x">x</code></td>
<td>
<p>a ggplot object</p>
</td></tr>
<tr><td><code id="ggplot2_extract_legend_+3A_...">...</code></td>
<td>
<p>not currently used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>ggplot2_extract_legend</code> function returns a list with the first
element being the legend and the second the original plot with the legend
omitted.
</p>


<h3>Value</h3>

<p>a list with each elements
</p>

<dl>
<dt>legend</dt><dd></dd>
<dt>plot</dt><dd><p>the x</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># a simple plot
my_plot &lt;-
  ggplot2::ggplot(mtcars) +
  ggplot2::aes(x = wt, y = mpg, color = wt, shape = factor(cyl)) +
  ggplot2::geom_point()

my_plot

# extract the legend.  the return object is a list with two elements, the first
# element is the legend, the second is the original plot sans legend.
temp &lt;- ggplot2_extract_legend(my_plot)

# view just the legend.  This can be done via a call to the object or using
# plot or print.
temp
plot(temp[[1]])

# the original plot without the legened
plot(temp[[2]])

</code></pre>

<hr>
<h2 id='gmean'>Geometric Mean, Variance, and Standard Deviation</h2><span id='topic+gmean'></span><span id='topic+gvar'></span><span id='topic+gsd'></span>

<h3>Description</h3>

<p>Return the geometric mean, variance, and standard deviation,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gmean(x, na_rm = FALSE)

gvar(x, na_rm = FALSE)

gsd(x, na_rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gmean_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="gmean_+3A_na_rm">na_rm</code></td>
<td>
<p>a logical value indicating whether <code>NA</code> values should be
stripped before the computation proceeds.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric value
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gmean_sd">gmean_sd</a></code> for easy formatting of the geometric mean and
standard deviation.  <code>vignette("summary-statistics", package =
"qwraps2")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gmean(mtcars$mpg)
identical(gmean(mtcars$mpg), exp(mean(log(mtcars$mpg))))

gvar(mtcars$mpg)
identical(gvar(mtcars$mpg),
          exp(var(log(mtcars$mpg)) * (nrow(mtcars) - 1) / nrow(mtcars)))

gsd(mtcars$mpg)
identical(gsd(mtcars$mpg),
          exp(sqrt( var(log(mtcars$mpg)) * (nrow(mtcars) - 1) / nrow(mtcars))))

#############################################################################
set.seed(42)
x &lt;- runif(14, min = 4, max = 70)

# geometric mean - four equivalent ways to get the same result
prod(x) ^ (1 / length(x))
exp(mean(log(x)))
1.2 ^ mean(log(x, base = 1.2))
gmean(x)

# geometric variance
gvar(x)

# geometric sd
exp(sd(log(x)))                                     ## This is wrong (incorrect sample size)
exp(sqrt((length(x) - 1) / length(x)) * sd(log(x))) ## Correct calculation
gsd(x)

# Missing data will result in and NA being returned
x[c(2, 4, 7)] &lt;- NA
gmean(x)
gmean(x, na_rm = TRUE)
gvar(x, na_rm = TRUE)
gsd(x, na_rm = TRUE)

</code></pre>

<hr>
<h2 id='gmean_sd'>Geometric Mean and Standard deviation</h2><span id='topic+gmean_sd'></span>

<h3>Description</h3>

<p>A function for calculating and formatting geometric means and
standard deviations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gmean_sd(
  x,
  digits = getOption("qwraps2_frmt_digits", 2),
  na_rm = FALSE,
  show_n = "ifNA",
  denote_sd = "pm",
  markup = getOption("qwraps2_markup", "latex"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gmean_sd_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="gmean_sd_+3A_digits">digits</code></td>
<td>
<p>digits to the right of the decimal point to return in the
percentage estimate.</p>
</td></tr>
<tr><td><code id="gmean_sd_+3A_na_rm">na_rm</code></td>
<td>
<p>if true, omit NA values</p>
</td></tr>
<tr><td><code id="gmean_sd_+3A_show_n">show_n</code></td>
<td>
<p>defaults to &ldquo;ifNA&rdquo;.  Other options are &ldquo;always&rdquo; or
&ldquo;never&rdquo;.</p>
</td></tr>
<tr><td><code id="gmean_sd_+3A_denote_sd">denote_sd</code></td>
<td>
<p>a character string set to either &quot;pm&quot; or &quot;paren&quot; for reporting 'mean
<code class="reqn">\pm</code> sd' or 'mean (sd)'</p>
</td></tr>
<tr><td><code id="gmean_sd_+3A_markup">markup</code></td>
<td>
<p>character string with value &ldquo;latex&rdquo; or &ldquo;markdown&rdquo;</p>
</td></tr>
<tr><td><code id="gmean_sd_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a numeric vector, <code>gmean_sd</code> will return a character string with
the geometric mean and standard deviation.  Formatting of the output will be
extended in future versions.
</p>


<h3>Value</h3>

<p>a character vector of the formatted values
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mean_sd">mean_sd</a></code>, <code><a href="#topic+gmean">gmean</a></code>, <code><a href="#topic+gsd">gsd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gmean_sd(mtcars$mpg, markup = "latex")
gmean_sd(mtcars$mpg, markup = "markdown")

</code></pre>

<hr>
<h2 id='lazyload_cache_dir'>Lazyload Cache</h2><span id='topic+lazyload_cache_dir'></span><span id='topic+lazyload_cache_labels'></span>

<h3>Description</h3>

<p>Lazyload Cached label(s) or a whole directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lazyload_cache_dir(
  path = "./cache",
  envir = parent.frame(),
  ask = FALSE,
  verbose = TRUE,
  ...
)

lazyload_cache_labels(
  labels,
  path = "./cache/",
  envir = parent.frame(),
  verbose = TRUE,
  filter,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lazyload_cache_dir_+3A_path">path</code></td>
<td>
<p>the path to the cache directory.</p>
</td></tr>
<tr><td><code id="lazyload_cache_dir_+3A_envir">envir</code></td>
<td>
<p>the environment to load the objects into</p>
</td></tr>
<tr><td><code id="lazyload_cache_dir_+3A_ask">ask</code></td>
<td>
<p>if TRUE ask the user to confirm loading each database found in
<code>path</code></p>
</td></tr>
<tr><td><code id="lazyload_cache_dir_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE display the chunk labels being loaded</p>
</td></tr>
<tr><td><code id="lazyload_cache_dir_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="base.html#topic+list.files">list.files</a></code>.</p>
</td></tr>
<tr><td><code id="lazyload_cache_dir_+3A_labels">labels</code></td>
<td>
<p>a character vector of the chunk labels to load.</p>
</td></tr>
<tr><td><code id="lazyload_cache_dir_+3A_filter">filter</code></td>
<td>
<p>an optional function passed to <code><a href="base.html#topic+lazyload">lazyLoad</a></code>.
when called on a character vector of object names returns a logical vector:
only objects for which this is true will be loaded.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions helpful for loading cached chunks into an interactive R
session.  Consider the following scenario: you use knitr and have cached
chunks for lazyloading.  You've created the document, close up your IDE and
move on to the next project.  Later, you revisit the initial project and need
to retrieve the objects created in the cached chunks.  One option is to
reevaluate all the code, but this could be time consuming.  The other option
is to use <code>lazyload_cache_labels</code> or <code>lazyload_cache_dir</code> to
quickly (lazy)load the chunks into an active R session.
</p>
<p>Use <code>lazyload_cache_dir</code> to load a whole directory of cached objects.
</p>
<p>Use <code>lazyload_cache_labels</code> to load and explicit set of cached chunks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># this example is based on \url{https://stackoverflow.com/a/41439691/1104685}

# create a temp directory for a and place a .Rmd file within
tmpdir &lt;- normalizePath(paste0(tempdir(), "/llcache_eg"), mustWork = FALSE)
tmprmd &lt;- tempfile(pattern = "report", tmpdir = tmpdir, fileext = "Rmd")
dir.create(tmpdir)
oldwd &lt;- getwd()
setwd(tmpdir)

# build and example .Rmd file
# note that the variable x is created in the first chunck and then over
# written in the second chunk
cat("---",
    "title: \"A Report\"",
    "output: html_document",
    "---",
    "",
    "```{r first-chunk, cache = TRUE}",
    "mpg_by_wt_hp &lt;- lm(mpg ~ wt + hp, data = mtcars)",
    "x_is_pi &lt;- pi",
    "x &lt;- pi",
    "```",
    "",
    "```{r second-chunk, cache = TRUE}",
    "mpg_by_wt_hp_am &lt;- lm(mpg ~ wt + hp + am, data = mtcars)",
    "x_is_e &lt;- exp(1)",
    "x &lt;- exp(1)",
    "```",
    sep = "\n",
    file = tmprmd)

# knit the file.  evaluate the chuncks in a new environment so we can compare
# the objects after loading the cache.
kenv &lt;- new.env()
knitr::knit(input = tmprmd, envir = kenv)

# The objects defined in the .Rmd file are now in kenv
ls(envir = kenv)

# view the cache
list.files(path = tmpdir, recursive = TRUE)

# create three more environment, and load only the first chunk into the
# first, and the second chunck into the second, and then load all of the
# cache into the third
env1 &lt;- new.env()
env2 &lt;- new.env()
env3 &lt;- new.env()

lazyload_cache_labels(labels = "first-chunk",
                      path = paste0(tmpdir, "/cache"),
                      envir = env1)

lazyload_cache_labels(labels = "second-chunk",
                      path = paste0(tmpdir, "/cache"),
                      envir = env2)

lazyload_cache_dir(path = paste0(tmpdir, "/cache"), envir = env3)

# Look at the conents of each of these environments
ls(envir = kenv)
ls(envir = env1)
ls(envir = env2)
ls(envir = env3)

# The regression models are only fitted once an should be the same in all the
# environments where they exist, as should the variables x_is_e and x_is_pi
all.equal(kenv$mpg_by_wt_hp, env1$mpg_by_wt_hp)
all.equal(env1$mpg_by_wt_hp, env3$mpg_by_wt_hp)

all.equal(kenv$mpg_by_wt_hp_am, env2$mpg_by_wt_hp_am)
all.equal(env2$mpg_by_wt_hp_am, env3$mpg_by_wt_hp_am)

# The value of x, however, should be different in the differnet
# environments.  For kenv, env2, and env3 the value should be exp(1) as that
# was the last assignment value.  In env1 the value should be pi as that is
# the only relevent assignment.

all.equal(kenv$x, exp(1))
all.equal(env1$x, pi)
all.equal(env2$x, exp(1))
all.equal(env3$x, exp(1))

# cleanup
setwd(oldwd)
unlink(tmpdir, recursive = TRUE)

</code></pre>

<hr>
<h2 id='ll'>List Object Aliases</h2><span id='topic+ll'></span>

<h3>Description</h3>

<p>Aliases for <code><a href="base.html#topic+ls">ls</a></code> providing additional details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ll(
  pos = 1,
  pattern,
  order_by = "size",
  decreasing = order_by %in% c("size", "rows", "columns")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ll_+3A_pos">pos</code></td>
<td>
<p>specifies the environment as a position in the search list</p>
</td></tr>
<tr><td><code id="ll_+3A_pattern">pattern</code></td>
<td>
<p>an optional regular expression.  Only names matching
<code>pattern</code> are returned.  <code><a href="utils.html#topic+glob2rx">glob2rx</a></code> can be used to
convert wildcard patterns to regular expressions.</p>
</td></tr>
<tr><td><code id="ll_+3A_order_by">order_by</code></td>
<td>
<p>a character, order the results by &ldquo;object&rdquo;,
&ldquo;size&rdquo; (default), &ldquo;class&rdquo;, &ldquo;rows&rdquo;, or &ldquo;columns&rdquo;.</p>
</td></tr>
<tr><td><code id="ll_+3A_decreasing">decreasing</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>, decreasing order? passed
to <code><a href="base.html#topic+order">order</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with columns
</p>

<ul>
<li><p> object: name of the object
</p>
</li>
<li><p> class: class, or mode if class is not present, of the object
</p>
</li>
<li><p> size: approximate size, in bytes, of the object in memory
</p>
</li>
<li><p> rows: number of rows for data.frames or matrices, or the number of
elements for a list like structure
</p>
</li>
<li><p> columns: number of columns for data.frames or matrices
</p>
</li></ul>



<h3>References</h3>

<p>The basis for this work came from a Stack Overflow posting:
<a href="https://stackoverflow.com/q/1358003/1104685">https://stackoverflow.com/q/1358003/1104685</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+ls">ls</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># View your current workspace
## Not run: 
ls()
ll()

## End(Not run)

# View another environment
e &lt;- new.env()
ll(e)

e$fit &lt;- lm(mpg ~ wt, mtcars)
e$fit2 &lt;- lm(mpg ~ wt + am + vs, data = mtcars)
e$x &lt;- rnorm(1e5)
e$y &lt;- runif(1e4)
e$z &lt;- with(e, x * y)
e$w &lt;- sum(e$z)

ls(e)
ll(e)

</code></pre>

<hr>
<h2 id='logit'>logit and inverse logit functions</h2><span id='topic+logit'></span><span id='topic+invlogit'></span>

<h3>Description</h3>

<p>transform <code>x</code> either via the logit, or inverse logit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logit(x)

invlogit(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logit_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The logit and inverse logit functions are part of R via the
logistic distribution functions in the stats package.
Quoting from the documentation for the logistic distribution
</p>
<p>&quot;<code>qlogis(p)</code> is the same as the <code>logit</code> function, <code>logit(p) =
log(p/1-p)</code>, and <code>plogis(x)</code> has consequently been called the 'inverse
logit'.&quot;
</p>
<p>See the examples for benchmarking these functions.  The <code>logit</code> and
<code>invlogit</code> functions are faster than the <code>qlogis</code> and <code>plogis</code>
functions.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+Logistic">qlogis</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(rbenchmark)

# compare logit to qlogis
p &lt;- runif(1e5)
identical(logit(p), qlogis(p))

## Not run: 
rbenchmark::benchmark(logit(p), qlogis(p))

## End(Not run)

# compare invlogit to plogis
x &lt;- runif(1e5, -1000, 1000)
identical(invlogit(x), plogis(x))

## Not run: 
rbenchmark::benchmark(invlogit(x), plogis(x))

## End(Not run)

</code></pre>

<hr>
<h2 id='mean_ci'>Means and Confidence Intervals</h2><span id='topic+mean_ci'></span><span id='topic+print.qwraps2_mean_ci'></span>

<h3>Description</h3>

<p>A function for calculating and formatting means and
confidence interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mean_ci(
  x,
  na_rm = FALSE,
  alpha = getOption("qwraps2_alpha", 0.05),
  qdist = stats::qnorm,
  qdist.args = list(),
  ...
)

## S3 method for class 'qwraps2_mean_ci'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mean_ci_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="mean_ci_+3A_na_rm">na_rm</code></td>
<td>
<p>if true, omit NA values</p>
</td></tr>
<tr><td><code id="mean_ci_+3A_alpha">alpha</code></td>
<td>
<p>defaults to <code>getOption('qwraps2_alpha', 0.05)</code>.  The
symmetric 100(1-alpha)% CI will be determined.</p>
</td></tr>
<tr><td><code id="mean_ci_+3A_qdist">qdist</code></td>
<td>
<p>defaults to <code>qnorm</code>.  use <code>qt</code> for a Student t
intervals.</p>
</td></tr>
<tr><td><code id="mean_ci_+3A_qdist.args">qdist.args</code></td>
<td>
<p>list of arguments passed to <code>qdist</code></p>
</td></tr>
<tr><td><code id="mean_ci_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>frmtci</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a numeric vector, <code>mean_ci</code> will return a vector with the mean,
LCL, and UCL.  Using <code>frmtci</code> will be helpful for reporting the results
in print.
</p>


<h3>Value</h3>

<p>a vector with the mean, lower confidence limit (LCL), and the upper
confidence limit (UCL).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+frmtci">frmtci</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using the standard normal for the CI
mean_ci(mtcars$mpg)

# print it nicely
qwraps2::frmtci(mean_ci(mtcars$mpg))
qwraps2::frmtci(mean_ci(mtcars$mpg), show_level = TRUE)
qwraps2::frmtci(mean_ci(mtcars$mpg, alpha = 0.01), show_level = TRUE)

# Compare to the ci that comes form t.test
t.test(mtcars$mpg)
t.test(mtcars$mpg)$conf.int
mean_ci(mtcars$mpg, qdist = stats::qt, qdist.args = list(df = 31))

</code></pre>

<hr>
<h2 id='mean_sd'>Mean and Standard deviation</h2><span id='topic+mean_sd'></span>

<h3>Description</h3>

<p>A function for calculating and formatting means and
standard deviations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mean_sd(
  x,
  digits = getOption("qwraps2_frmt_digits", 2),
  na_rm = FALSE,
  show_n = "ifNA",
  denote_sd = "pm",
  markup = getOption("qwraps2_markup", "latex"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mean_sd_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="mean_sd_+3A_digits">digits</code></td>
<td>
<p>digits to the right of the decimal point to return in the
percentage estimate.</p>
</td></tr>
<tr><td><code id="mean_sd_+3A_na_rm">na_rm</code></td>
<td>
<p>if true, omit NA values</p>
</td></tr>
<tr><td><code id="mean_sd_+3A_show_n">show_n</code></td>
<td>
<p>defaults to &quot;ifNA&quot;.  Other options are &quot;always&quot; or &quot;never&quot;.</p>
</td></tr>
<tr><td><code id="mean_sd_+3A_denote_sd">denote_sd</code></td>
<td>
<p>a character string set to either &quot;pm&quot; or &quot;paren&quot; for reporting 'mean
<code class="reqn">\pm</code> sd' or 'mean (sd)'</p>
</td></tr>
<tr><td><code id="mean_sd_+3A_markup">markup</code></td>
<td>
<p>character string with value &quot;latex&quot; or &quot;markdown&quot;</p>
</td></tr>
<tr><td><code id="mean_sd_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a numeric vector, <code>mean_sd</code> will return a character string with
the mean and standard deviation.  Formatting of the output will be extended in
future versions.
</p>


<h3>Value</h3>

<p>a character vector of the formatted values
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gmean_sd">gmean_sd</a></code>, <code><a href="#topic+n_perc">n_perc</a></code>,
<code><a href="#topic+median_iqr">median_iqr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(42)
x &lt;- rnorm(1000, 3, 4)
mean(x)
sd(x)
mean_sd(x)
mean_sd(x, show_n = "always")
mean_sd(x, show_n = "always", denote_sd = "paren")

x[187] &lt;- NA
mean_sd(x, na_rm = TRUE)

</code></pre>

<hr>
<h2 id='mean_se'>Mean and Standard Error (of the mean)</h2><span id='topic+mean_se'></span>

<h3>Description</h3>

<p>A function for calculating and formatting means and
standard deviations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mean_se(
  x,
  digits = getOption("qwraps2_frmt_digits", 2),
  na_rm = FALSE,
  show_n = "ifNA",
  denote_sd = "pm",
  markup = getOption("qwraps2_markup", "latex"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mean_se_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="mean_se_+3A_digits">digits</code></td>
<td>
<p>digits to the right of the decimal point to return in the
percentage estimate.</p>
</td></tr>
<tr><td><code id="mean_se_+3A_na_rm">na_rm</code></td>
<td>
<p>if true, omit NA values</p>
</td></tr>
<tr><td><code id="mean_se_+3A_show_n">show_n</code></td>
<td>
<p>defaults to &quot;ifNA&quot;.  Other options are &quot;always&quot; or &quot;never&quot;.</p>
</td></tr>
<tr><td><code id="mean_se_+3A_denote_sd">denote_sd</code></td>
<td>
<p>a character string set to either &quot;pm&quot; or &quot;paren&quot; for reporting 'mean
<code class="reqn">\pm</code> sd' or 'mean (sd)'</p>
</td></tr>
<tr><td><code id="mean_se_+3A_markup">markup</code></td>
<td>
<p>latex or markdown</p>
</td></tr>
<tr><td><code id="mean_se_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a numeric vector, <code>mean_se</code> will return a character string with
the mean and standard error of the mean.  Formatting of the output will be
extended in future versions.
</p>


<h3>Value</h3>

<p>a character vector of the formatted values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(42)
x &lt;- rnorm(1000, 3, 4)
mean(x)
sd(x) / sqrt(length(x)) # standard error
mean_se(x)
mean_se(x, show_n = "always")
mean_se(x, show_n = "always", denote_sd = "paren")

x[187] &lt;- NA
mean_se(x, na_rm = TRUE)

</code></pre>

<hr>
<h2 id='median_iqr'>Median and Inner Quartile Range</h2><span id='topic+median_iqr'></span>

<h3>Description</h3>

<p>A function for calculating and formatting the median and
inner quartile range of a data vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>median_iqr(
  x,
  digits = getOption("qwraps2_frmt_digits", 2),
  na_rm = FALSE,
  show_n = "ifNA",
  markup = getOption("qwraps2_markup", "latex"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="median_iqr_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="median_iqr_+3A_digits">digits</code></td>
<td>
<p>digits to the right of the decimal point to return.</p>
</td></tr>
<tr><td><code id="median_iqr_+3A_na_rm">na_rm</code></td>
<td>
<p>if true, omit NA values</p>
</td></tr>
<tr><td><code id="median_iqr_+3A_show_n">show_n</code></td>
<td>
<p>defaults to &quot;ifNA&quot;.  Other options are &quot;always&quot; or &quot;never&quot;.</p>
</td></tr>
<tr><td><code id="median_iqr_+3A_markup">markup</code></td>
<td>
<p>latex or markdown</p>
</td></tr>
<tr><td><code id="median_iqr_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a numeric vector, <code>median_iqr</code> will return a character string with
the median and IQR.  Formatting of the output will be extended in
future versions.
</p>


<h3>Value</h3>

<p>a character vector of the formatted values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(42)
x &lt;- rnorm(1000, 3, 4)
median(x)
quantile(x, probs = c(1, 3)/4)
median_iqr(x)
median_iqr(x, show_n = "always")

x[187] &lt;- NA
# median_iqr(x) ## Will error
median_iqr(x, na_rm = TRUE)

</code></pre>

<hr>
<h2 id='mtcars2'>mtcars2</h2><span id='topic+mtcars2'></span>

<h3>Description</h3>

<p>An extended version of <code><a href="datasets.html#topic+mtcars">mtcars</a></code> data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mtcars2
</code></pre>


<h3>Format</h3>

<p>a data.frame with 32 rows and 19 columns
</p>

<table>
<tr>
 <td style="text-align: right;">
[,  1] </td><td style="text-align: left;"> make          </td><td style="text-align: left;"> Manufacturer name                        </td><td style="text-align: left;"> parted out from <code>rownames(mtcars)</code> </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  2] </td><td style="text-align: left;"> model         </td><td style="text-align: left;">                                          </td><td style="text-align: left;"> parted out from <code>rownames(mtcars)</code> </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  3] </td><td style="text-align: left;"> mpg           </td><td style="text-align: left;"> miles per (US) gallon                    </td><td style="text-align: left;"> identical to mtcars$mpg </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  4] </td><td style="text-align: left;"> disp          </td><td style="text-align: left;"> Displacement (cu.in.)                    </td><td style="text-align: left;"> identical to mtcars$disp </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  5] </td><td style="text-align: left;"> hp            </td><td style="text-align: left;"> Gross horsepower                         </td><td style="text-align: left;"> identical to mtcars$hp </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  6] </td><td style="text-align: left;"> drat          </td><td style="text-align: left;"> Rear axle ratio                          </td><td style="text-align: left;"> identical to mtcars$drat </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  7] </td><td style="text-align: left;"> wt            </td><td style="text-align: left;"> weight (1000 lbs)                        </td><td style="text-align: left;"> identical to mtcars$wt </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  8] </td><td style="text-align: left;"> qsec          </td><td style="text-align: left;"> 1/4 mile time                            </td><td style="text-align: left;"> identical to mtcars$qsec </td>
</tr>
<tr>
 <td style="text-align: right;">
[,  9] </td><td style="text-align: left;"> cyl           </td><td style="text-align: left;"> number of cylinders                      </td><td style="text-align: left;"> identical to mtcars$cyl </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 10] </td><td style="text-align: left;"> cyl_character </td><td style="text-align: left;">                                          </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 11] </td><td style="text-align: left;"> cyl_factor    </td><td style="text-align: left;">                                          </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 12] </td><td style="text-align: left;"> vs            </td><td style="text-align: left;"> Engine (0 = V-shaped, 1 = straight)      </td><td style="text-align: left;"> identical to mtcars$vs </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 13] </td><td style="text-align: left;"> engine        </td><td style="text-align: left;">                                          </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 14] </td><td style="text-align: left;"> am            </td><td style="text-align: left;"> Transmission (0 = automatic, 1 = manual) </td><td style="text-align: left;"> identical to mtcars$am </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 15] </td><td style="text-align: left;"> transmission  </td><td style="text-align: left;">                                          </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 16] </td><td style="text-align: left;"> gear          </td><td style="text-align: left;"> Number of forward gears                  </td><td style="text-align: left;"> identical to mtcars$gear </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 17] </td><td style="text-align: left;"> gear_factor   </td><td style="text-align: left;">                                          </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 18] </td><td style="text-align: left;"> carb          </td><td style="text-align: left;"> Number of carburetors                    </td><td style="text-align: left;"> identical to mtcars$carb </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 19] </td><td style="text-align: left;"> test_date     </td><td style="text-align: left;"> fictitious testing date                  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code>vignette("qwraps2-data-sets", package = "qwraps2")</code> for
details on the construction of the data set.
</p>

<hr>
<h2 id='n_perc'>Count and Percentage</h2><span id='topic+n_perc'></span><span id='topic+perc_n'></span><span id='topic+n_perc0'></span>

<h3>Description</h3>

<p>A function for calculating and formatting counts and
percentages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_perc(
  x,
  digits = getOption("qwraps2_frmt_digits", 2),
  na_rm = FALSE,
  show_denom = "ifNA",
  show_symbol = TRUE,
  markup = getOption("qwraps2_markup", "latex"),
  ...
)

perc_n(
  x,
  digits = getOption("qwraps2_frmt_digits", 2),
  na_rm = FALSE,
  show_denom = "ifNA",
  show_symbol = FALSE,
  markup = getOption("qwraps2_markup", "latex"),
  ...
)

n_perc0(
  x,
  digits = 0,
  na_rm = FALSE,
  show_denom = "never",
  show_symbol = FALSE,
  markup = getOption("qwraps2_markup", "latex"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_perc_+3A_x">x</code></td>
<td>
<p>a 0:1 or boolean vector</p>
</td></tr>
<tr><td><code id="n_perc_+3A_digits">digits</code></td>
<td>
<p>digits to the right of the decimal point to return in the
percentage estimate.</p>
</td></tr>
<tr><td><code id="n_perc_+3A_na_rm">na_rm</code></td>
<td>
<p>if true, omit NA values</p>
</td></tr>
<tr><td><code id="n_perc_+3A_show_denom">show_denom</code></td>
<td>
<p>defaults to &quot;ifNA&quot;.  Other options are &quot;always&quot; or &quot;never&quot;.</p>
</td></tr>
<tr><td><code id="n_perc_+3A_show_symbol">show_symbol</code></td>
<td>
<p>if TRUE (default) the percent symbol is shown, else it is suppressed.</p>
</td></tr>
<tr><td><code id="n_perc_+3A_markup">markup</code></td>
<td>
<p>latex or markdown</p>
</td></tr>
<tr><td><code id="n_perc_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default behavior will return the count of successes and the percentage as &quot;N
(pp
can be controlled by setting <code>na.rm = TRUE</code>.  In this case, the number
of non-missing values will be reported by default.  Omission of the
non-missing values can be controlled by setting <code>show_denom = "never"</code>.
</p>
<p>The function n_perc0 uses a set of default arguments which may be
advantageous for use in building tables.
</p>


<h3>Value</h3>

<p>a character vector of the formatted values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
n_perc(c(0, 1,1, 1, 0, 0), show_denom = "always")
n_perc(c(0, 1,1, 1, 0, 0, NA), na_rm = TRUE)

n_perc(mtcars$cyl == 6)

set.seed(42)
x &lt;- rbinom(4269, 1, 0.314)
n_perc(x)
n_perc(x, show_denom = "always")
n_perc(x, show_symbol = FALSE)

# n_perc0 examples
n_perc0(c(0, 1,1, 1, 0, 0))
n_perc0(mtcars$cyl == 6)

</code></pre>

<hr>
<h2 id='pefr'>pefr</h2><span id='topic+pefr'></span>

<h3>Description</h3>

<p>Peak expiratory flow rate data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pefr
</code></pre>


<h3>Format</h3>

<p>a data frame with four columns
</p>

<table>
<tr>
 <td style="text-align: right;">
[, 1] </td><td style="text-align: left;"> subject     </td><td style="text-align: left;"> id number </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 2] </td><td style="text-align: left;"> measurement </td><td style="text-align: left;"> first or second </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 3] </td><td style="text-align: left;"> meter       </td><td style="text-align: left;"> &ldquo;Wright peak flow meter&rdquo; or &ldquo;Mini Write peak flow meter&rdquo; </td>
</tr>
<tr>
 <td style="text-align: right;">
[, 4] </td><td style="text-align: left;"> pefr        </td><td style="text-align: left;"> peak expiratory flow rate (liters / min) </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>



<h3>Details</h3>

<p>Peak expiratory flow rate (pefr) data is used for examples within the qwraps2
package.  The data has been transcribed from Bland (1986).
</p>
<p>&ldquo;The sample comprised colleagues and family of J.M.B. chosen to give a
wide range of PEFR but in no way representative of any defined population.
Two measurements were made with a Wright peak flow meter and two with a mini
Wright meter, in random order. All measurements were taken by J.M.B., using
the same two instruments. (These data were collected to demonstrate the
statistical method and provide no evidence on the comparability of these two
instruments.) We did not repeat suspect readings and took a single reading as
our measurement of PEFR. Only the first measurement by each method is used to
illustrate the comparison of methods, the second measurements being used in
the study of repeatability.&rdquo;
</p>


<h3>References</h3>

<p>Bland, J. Martin, and Douglas G Altman. &quot;Statistical methods for assessing
agreement between two methods of clinical measurement.&quot; The lancet 327, no. 8476
(1986): 307-310.
</p>


<h3>See Also</h3>

<p><code>vignette('qwraps2-data-sets', package = 'qwraps2')</code> for
details on the construction of the data set.
</p>

<hr>
<h2 id='pkg_check'>Package Checks</h2><span id='topic+pkg_check'></span>

<h3>Description</h3>

<p>Check if a package is available on the local machine and optionally verify a
version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_check(pkgs, versions, stop = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkg_check_+3A_pkgs">pkgs</code></td>
<td>
<p>a character vector of package names to check for</p>
</td></tr>
<tr><td><code id="pkg_check_+3A_versions">versions</code></td>
<td>
<p>an optional character vector, of the same length of
<code>pkgs</code> for the minimum version of the packages.</p>
</td></tr>
<tr><td><code id="pkg_check_+3A_stop">stop</code></td>
<td>
<p>if <code>TRUE</code> then an error is thrown if any of the checks fail.
If <code>FALSE</code> (default) a logical is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When writing a script that will be shared it is very likely that the multiple
authors/users will need to have a certain set of packages available to load.
The <code>pkg_check</code> function will verify that the packages are available to
load, this includes an optional version test, and attach the package to the
search list if requested.
</p>
<p>Testing for package versions will is done as <code>packageVersion(x) &gt;=
version</code>.  If you need a specific version of a package you should explicitly
use <code>packageVersion(x) == version</code> in your script.  In general,
<code>pkg_check</code> is a handy tool in interactive sessions.  For a package you
should have package version documentation in the DESCRIPTION file.
For a script a base R solution of
<code>stopifnot(packageVersion("pkg") &gt;= "x.y.z")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># verify that the packages qwraps2, and ggplot2 are available (this should be
# TRUE if you have qwraps2 installed since ggplot2 is imported by qwraps2)
pkg_check(c("qwraps2", "ggplot2"))

# show that the return is FALSE if a package is not available
pkg_check(c("qwraps2", "ggplot2", "NOT a PCKG"))

# verify the version for just ggplot2
pkg_check(c("qwraps2", "ggplot2"), c(NA, "2.2.0"))

# verify the version for qwraps2 (this is expected to fail as we are looking for
# version 42.3.14 which is far too advanced for the actual package development.
pkg_check(c("qwraps2", "ggplot2"), c("42.3.14", "2.2.0"))

## Not run: 
  # You can have the function throw an error is any of the checks fail
  pkg_check(c("qwraps2", "ggplot2"),
            c("42.3.14", "2.2.0"),
            stop = TRUE)

## End(Not run)

## Not run: 
  # If you have missing packages that can be installed from CRAN you may find
  # the following helpful.  If this code, with the needed edits, were placed at
  # the top of a script, then if a package is missing then the current version
  # from a target repository will be installed.  Use this set up with
  # discretion, others may not want the automatic install of packages.
  pkgs &lt;- pkg_check("&lt;packages to install&gt;")
  if (!pkgs) {
    install.packages(attr(pkgs, "checks")[!attr(pkgs, "checks")$available][["package"]])
  }

## End(Not run)


</code></pre>

<hr>
<h2 id='qable'>Qable: an extended version of knitr::kable</h2><span id='topic+qable'></span>

<h3>Description</h3>

<p>Create a simple table via <code><a href="knitr.html#topic+kable">kable</a></code> with row
groups and rownames similar to those of <code><a href="Hmisc.html#topic+latex">latex</a></code> from the
Hmisc package or <code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code> from the htmlTable
package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qable(
  x,
  rtitle = "",
  rgroup = numeric(0),
  rnames = rownames(x),
  cnames = colnames(x),
  markup = getOption("qwraps2_markup", "latex"),
  kable_args = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qable_+3A_x">x</code></td>
<td>
<p><code>matrix</code> or <code>data.frame</code> to be turned into a qable</p>
</td></tr>
<tr><td><code id="qable_+3A_rtitle">rtitle</code></td>
<td>
<p>a row grouping title. See Details.</p>
</td></tr>
<tr><td><code id="qable_+3A_rgroup">rgroup</code></td>
<td>
<p>a named numeric vector with the name of the row group and the
number of rows within the group.  <code>sum(rowgroup) == nrow(x)</code>.</p>
</td></tr>
<tr><td><code id="qable_+3A_rnames">rnames</code></td>
<td>
<p>a character vector of the row names</p>
</td></tr>
<tr><td><code id="qable_+3A_cnames">cnames</code></td>
<td>
<p>column names</p>
</td></tr>
<tr><td><code id="qable_+3A_markup">markup</code></td>
<td>
<p>the markup language to use expected to be either &quot;markdown&quot; or
&quot;latex&quot;</p>
</td></tr>
<tr><td><code id="qable_+3A_kable_args">kable_args</code></td>
<td>
<p>a list of named arguments to send to
<code><a href="knitr.html#topic+kable">kable</a></code>.  See Details.</p>
</td></tr>
<tr><td><code id="qable_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>rtitle</code> can be used to add a title to the column constructed by the
<code>rgroup</code> and <code>rnames</code>.  The basic layout of a table generated by
<code>qable</code> is:
</p>

<table>
<tr>
 <td style="text-align: left;">
 rtitle    </td><td style="text-align: center;"> cnames[1] </td><td style="text-align: center;"> cnames[2] </td>
</tr>
<tr>
 <td style="text-align: left;">
 rgroup[1] </td><td style="text-align: center;">           </td><td style="text-align: center;">           </td>
</tr>
<tr>
 <td style="text-align: left;">
 rnames[1] </td><td style="text-align: center;"> x[1, 1]   </td><td style="text-align: center;"> x[1, 2]   </td>
</tr>
<tr>
 <td style="text-align: left;">
 rnames[2] </td><td style="text-align: center;"> x[2, 1]   </td><td style="text-align: center;"> x[2, 2]   </td>
</tr>
<tr>
 <td style="text-align: left;">
 rnames[3] </td><td style="text-align: center;"> x[3, 1]   </td><td style="text-align: center;"> x[3, 2]   </td>
</tr>
<tr>
 <td style="text-align: left;">
 rgroup[2] </td><td style="text-align: center;">           </td><td style="text-align: center;">           </td>
</tr>
<tr>
 <td style="text-align: left;">
 rnames[4] </td><td style="text-align: center;"> x[4, 1]   </td><td style="text-align: center;"> x[4, 1]   </td>
</tr>
<tr>
 <td style="text-align: left;">
 rnames[5] </td><td style="text-align: center;"> x[5, 1]   </td><td style="text-align: center;"> x[5, 1]   </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Passing arguments to <code>link[knitr]{kable}</code> is done via the list
<code>kable_args</code>.  This is an improvement in 0.6.0 to address arguments with
different use between qable and kable but the same name, notably
<code>format</code>.  Within the print method for <code>qwraps2_qable</code> objects,
some default arguments for knitr::kable are created.
</p>
<p>Defaults if the named element of <code>kable_args</code> is missing:
<code>kable_args$format</code> will be &quot;latex&quot; if <code>markup = "latex"</code> and will
be <code>"pipe"</code> if <code>markup = "markdown"</code>.
</p>
<p><code>kable_args$escape = !(markup = "latex")</code>
</p>
<p><code>kable_args$row.names</code> defaults to <code>FALSE</code>
</p>
<p><code>kable_args$col.names</code> defaults to <code>colnames(x)</code>
</p>


<h3>Value</h3>

<p><code>qable</code> returns a <code>qwraps2_qable</code> object that is just a character matrix with
some additional attributes and the print method returns, invisibly, the
object passed to print.
</p>


<h3>See Also</h3>

<p><code><a href="knitr.html#topic+kable">kable</a></code>
</p>
<p><code><a href="#topic+summary_table">summary_table</a></code>, for an example of build a data summary table.
</p>
<p>For more detail on arguments you can pass via <code>kable_args</code> look at the
non-exported functions form the knitr package <code>knitr:::kable_latex</code>,
<code>knitr:::kable_markdown</code>, or others.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mtcars)
x &lt;- qable(mtcars)
x
qable(mtcars, markup = "markdown")

# by make
make &lt;- sub("^(\\w+)\\s?(.*)$", "\\1", rownames(mtcars))
make &lt;- c(table(make))

# A LaTeX table with a vertical bar between each column
qable(mtcars[sort(rownames(mtcars)), ], rgroup = make)

# A LaTeX table with no vertical bars between columns
qable(mtcars[sort(rownames(mtcars)), ], rgroup = make, kable_args = list(vline = ""))

# a markdown table
qable(mtcars[sort(rownames(mtcars)), ], rgroup = make, markup = "markdown")

# define your own column names
qable(mtcars[sort(rownames(mtcars)), ],
      rgroup = make,
      cnames = toupper(colnames(mtcars)),
      markup = "markdown")

# define your own column names and add a title
qable(mtcars[sort(rownames(mtcars)), ],
      rtitle = "Make &amp; Model",
      rgroup = make,
      cnames = toupper(colnames(mtcars)),
      markup = "markdown")

</code></pre>

<hr>
<h2 id='qacf'>Autocorrelation plot</h2><span id='topic+qacf'></span>

<h3>Description</h3>

<p>ggplot2 style autocorrelation plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qacf(
  x,
  conf_level = 1 - getOption("qwraps2_alpha", 0.05),
  show_sig = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qacf_+3A_x">x</code></td>
<td>
<p>object</p>
</td></tr>
<tr><td><code id="qacf_+3A_conf_level">conf_level</code></td>
<td>
<p>confidence level for determining &lsquo;significant&rsquo;
correlations</p>
</td></tr>
<tr><td><code id="qacf_+3A_show_sig">show_sig</code></td>
<td>
<p>logical, highlight significant correlations</p>
</td></tr>
<tr><td><code id="qacf_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="stats.html#topic+acf">acf</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>qacf calls <code><a href="stats.html#topic+acf">acf</a></code> to generate a data set which is
then plotted via ggplot2.
</p>
<p>More details and examples for graphics within qwraps2 are in the
vignette(&ldquo;qwraps2-graphics&rdquo;, package = &ldquo;qwraps2&rdquo;)
</p>


<h3>Value</h3>

<p>a ggplot.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+acf">acf</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a random data set
set.seed(42)
n &lt;- 250
x1 &lt;- x2 &lt;- x3 &lt;- x4 &lt;- vector('numeric', length = n)
x1[1] &lt;- runif(1)
x2[1] &lt;- runif(1)
x3[1] &lt;- runif(1)
x4[1] &lt;- runif(1)

# white noise
Z_1 &lt;- rnorm(n, 0, 1)
Z_2 &lt;- rnorm(n, 0, 2)
Z_3 &lt;- rnorm(n, 0, 5)

for(i in 2:n)
{
  x1[i] &lt;- x1[i-1] + Z_1[i] - Z_1[i-1] + x4[i-1] - x2[i-1]
  x2[i] &lt;- x2[i-1] - 2 * Z_2[i] + Z_2[i-1] - x4[i-1]
  x3[i] &lt;- x3[i-1] + x2[i-1] + 0.2 * Z_3[i] + Z_3[i-1]
  x4[i] &lt;- x4[i-1] + runif(1, 0.5, 1.5) * x4[i-1]
}
testdf &lt;- data.frame(x1, x2, x3, x4)

# qacf plot for one variable
qacf(testdf$x1)
qacf(testdf$x1, show_sig = TRUE)

# more than one variable
qacf(testdf)
qacf(testdf, show_sig = TRUE)

</code></pre>

<hr>
<h2 id='qblandaltman'>Bland Altman Plots</h2><span id='topic+qblandaltman'></span><span id='topic+qblandaltman_build_data_frame'></span>

<h3>Description</h3>

<p>Construct and plot a Bland Altman plot in ggplot2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qblandaltman(x, alpha = getOption("qwraps2_alpha", 0.05), generate_data = TRUE)

qblandaltman_build_data_frame(x, alpha = getOption("qwraps2_alpha", 0.05))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qblandaltman_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> with two columns, or an object that can be
coerced to a data frame.  If a <code>data.frame</code> with more than two columns
is used only the first two columns will be used.</p>
</td></tr>
<tr><td><code id="qblandaltman_+3A_alpha">alpha</code></td>
<td>
<p>(Defaults to 0.05) place (1 - alpha)*100
place on the plot.</p>
</td></tr>
<tr><td><code id="qblandaltman_+3A_generate_data">generate_data</code></td>
<td>
<p>logical, defaults to TRUE.  If TRUE, then the call to
<code>qblandaltman_build_data_frame</code> is done automatically for you.  If
FALSE, then you should explicitly call <code>qblandaltman_build_data_frame</code>
before calling <code>qblandaltman</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Providing a <code>data.frame</code> with two columns, the function returns a ggplot
version of a Bland Altman plot with the specified confidence intervals.
</p>
<p>Two ways to call the plotting function.  If you submit a <code>data.frame</code>
<code>qblandaltman</code> then the data needed to produce the Bland Altman plot is
automatically generated by a call to <code>qblandaltman_build_data_frame</code>.
Alternatively, you may call <code>qblandaltman_build_data_frame</code> directly and
then call <code>qblandaltman</code>.  This might be helpful if you are putting
multiple Bland Altman plots together into one ggplot object.  See Examples.
</p>
<p>More details and examples for graphics within qwraps2 are in the
vignette(&ldquo;qwraps2-graphics&rdquo;, package = &ldquo;qwraps2&rdquo;)
</p>


<h3>Value</h3>

<p>a ggplot.  Minimal aesthetics have been used so that the user may
modify the graphic as desired with ease.
</p>


<h3>References</h3>

<p>Altman, Douglas G., and J. Martin Bland. &quot;Measurement in medicine: the analysis
of method comparison studies.&quot; The statistician (1983): 307-317.
</p>
<p>Bland, J. Martin, and Douglas G Altman. &quot;Statistical methods for assessing
agreement between two methods of clinical measurement.&quot; The lancet 327, no. 8476
(1986): 307-310.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(pefr)
pefr_m1 &lt;-
  cbind("Large" = pefr[pefr$measurement == 1 &amp; pefr$meter == "Wright peak flow meter", "pefr"],
        "Mini"  = pefr[pefr$measurement == 1 &amp; pefr$meter == "Mini Wright peak flow meter", "pefr"])

# The Bland Altman plot plots the average value on the x-axis and the
# difference in the measurements on the y-axis:
qblandaltman(pefr_m1) +
  ggplot2::xlim(0, 800) +
  ggplot2::ylim(-100, 100) +
  ggplot2::xlab("Average of two meters") +
  ggplot2::ylab("Difference in the measurements")

</code></pre>

<hr>
<h2 id='qkmplot'>Kaplan-Meier Plot</h2><span id='topic+qkmplot'></span><span id='topic+qkmplot_bulid_data_frame'></span><span id='topic+qkmplot_bulid_data_frame.survfit'></span><span id='topic+qrmst'></span><span id='topic+qrmst.survfit'></span><span id='topic+qrmst.qkmplot_data'></span>

<h3>Description</h3>

<p>A ggplot2 version of a Kaplan-Meier Plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qkmplot(x, conf_int = FALSE, ...)

qkmplot_bulid_data_frame(x)

## S3 method for class 'survfit'
qkmplot_bulid_data_frame(x)

qrmst(x, tau = Inf)

## S3 method for class 'survfit'
qrmst(x, tau = Inf)

## S3 method for class 'qkmplot_data'
qrmst(x, tau = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qkmplot_+3A_x">x</code></td>
<td>
<p>object</p>
</td></tr>
<tr><td><code id="qkmplot_+3A_conf_int">conf_int</code></td>
<td>
<p>logical if TRUE show the CI</p>
</td></tr>
<tr><td><code id="qkmplot_+3A_...">...</code></td>
<td>
<p>Other arguments passed to survival::plot.survfit</p>
</td></tr>
<tr><td><code id="qkmplot_+3A_tau">tau</code></td>
<td>
<p>upper bound on time for restricted mean survival time estimate</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions to build, explicitly or implicitly, data.frames and then creating a
ggplot2 KM plot.
</p>
<p>More details and examples for graphics within qwraps2 are in the
vignette(&ldquo;qwraps2-graphics&rdquo;, package = &ldquo;qwraps2&rdquo;)
</p>


<h3>Value</h3>

<p>a ggplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(survival)

leukemia.surv &lt;- survival::survfit(survival::Surv(time, status) ~ x, data = survival::aml)

qkmplot(leukemia.surv, conf_int = TRUE)

qkmplot_bulid_data_frame(leukemia.surv)

qrmst(leukemia.surv) # NaN for rmst.se in Nonmaintained strata as last observation is an event
qrmst(leukemia.surv, 44)

# pbc examples
pbc_fit &lt;-
  survival::survfit(
      formula = survival::Surv(time, status &gt; 0) ~ trt
    , data = pbc
    , subset = !is.na(trt)
  )

qkmplot(pbc_fit)
qkmplot(pbc_fit, conf_int = TRUE)

qrmst(pbc_fit)
qrmst(pbc_fit)

</code></pre>

<hr>
<h2 id='qroc-qprc'>Receiver-Operator and Precision-Recall Curves</h2><span id='topic+qroc-qprc'></span><span id='topic+qroc'></span><span id='topic+qroc.default'></span><span id='topic+qroc.qwraps2_confusion_matrix'></span><span id='topic+qroc.glm'></span><span id='topic+qprc'></span><span id='topic+qprc.default'></span><span id='topic+qprc.qwraps2_confusion_matrix'></span><span id='topic+qprc.glm'></span>

<h3>Description</h3>

<p>Construction of ROC and PRC data and plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qroc(x, ...)

## Default S3 method:
qroc(x, ...)

## S3 method for class 'qwraps2_confusion_matrix'
qroc(x, ...)

## S3 method for class 'glm'
qroc(x, ...)

qprc(x, ...)

## Default S3 method:
qprc(x, ...)

## S3 method for class 'qwraps2_confusion_matrix'
qprc(x, ...)

## S3 method for class 'glm'
qprc(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qroc-qprc_+3A_x">x</code></td>
<td>
<p>an object</p>
</td></tr>
<tr><td><code id="qroc-qprc_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The area under the curve (AUC) is determined by a trapezoid approximation for
both the AUROC and AUPRC.
</p>
<p>More details and examples for graphics within qwraps2 are in the
vignette(&ldquo;qwraps2-graphics&rdquo;, package = &ldquo;qwraps2&rdquo;)
</p>


<h3>Value</h3>

<p>a ggplot.  Minimal aesthetics have been used so that the user may
modify the graphic as desired with ease.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#########################################################
# Example 1

df &lt;-
  data.frame(
      truth = c(1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0)
    , pred  = c(1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0)
  )

cm &lt;- confusion_matrix(df$truth, df$pred)
qroc(cm)
qprc(cm)

#########################################################
# Getting a ROC or PRC plot from a glm object:

mod &lt;- glm(
  formula = spam ~ word_freq_our + word_freq_over + capital_run_length_total
, data = spambase
, family = binomial()
)

qroc(mod)
qprc(mod)

#########################################################
# View the vignette for more examples
## Not run: 
vignette("qwraps2-graphics")

## End(Not run)

</code></pre>

<hr>
<h2 id='qwraps2-package'>A collection of wrapper functions aimed at for aiding the authoring of reproducible
reports.</h2><span id='topic+qwraps2'></span><span id='topic+qwraps2-package'></span>

<h3>Description</h3>

<p><span class="pkg">qwraps2</span> is a collection of helpful functions when
working on a varied collection of different analysis reports.  There are two
types of functions, helpful data summary functions, formatting results from
regression models, and <span class="pkg">ggplot2</span> wrappers.
</p>


<h3>Details</h3>

<p>Several wrappers for <span class="pkg">ggplot2</span> style graphics, such as ROC, AUC,
Bland-Altman, and KM
plots are provided.  Named as <code><a href="#topic+qroc">qroc</a></code>, <code><a href="#topic+qacf">qacf</a></code>,
<code><a href="#topic+qblandaltman">qblandaltman</a></code> and
<code><a href="#topic+qkmplot">qkmplot</a></code> to pay homage to <code>qplot</code> form <span class="pkg">ggplot2</span> and
the standard names for such plots.
</p>
<p>Other functions are used to quickly generate meaningful character strings for
outputting results in .Rnw, .Rmd, or other similar functions.
</p>


<h3>Options</h3>

<p>There are several options which can be set via <code>options</code> and will be
used via <code>getOption</code>.  The following lists, in alphabetical order the
different options which are available and what they control.
</p>

<ul>
<li> <p><code>getOptions("qwraps2_alpha", 0.05)</code> significance level, used for
generating <code>(1 - getOptions("qwraps2_alpha", 0.05)) * 100</code>% confidence
intervals, and determining significance for p-value &lt;
<code>getOptions("qwraps2_alpha", 0.05)</code>.
</p>
</li>
<li> <p><code>getOptions("qwraps2_frmt_digits", 2)</code>  Number of digits to the
right of the decimal point for any value other than p-values.
</p>
</li>
<li> <p><code>getOptions("qwraps2_frmtp_case", "upper")</code> set to either
'upper' or 'lower' for the case of the 'P' for reporting p-values.
</p>
</li>
<li> <p><code>getOptions("qwraps2_frmtp_digits", 4)</code>  Number of digits to the
right of the decimal point to report p-values too.  If
<code>log10(p-value) &lt; getOptions("qwraps2_frmtp_digits", 4)</code> then the
output will be &quot;P &lt; 0.01&quot;, to however many digits are correct.  Other
options control other parts of the output p-value format.
</p>
</li>
<li> <p><code>getOptions("qwraps2_frmtp_leading0", TRUE)</code> to display or not
to display the leading zero in p-values, i.e., if TRUE p-values are
reported as 0.02 versus when FALSE p-values are reported as .02.
</p>
</li>
<li> <p><code>getOptions("qwraps2_journal", "default")</code> if a journal has
specific formatting for p-values or other statistics, this option will
control the output.  Many other options are ignored if this is any other
than default.  Check the github wiki, or this file,  for current lists of
implemented journal style methods.
</p>
</li>
<li> <p><code>getOptions("qwraps2_markup", "latex")</code> value set to 'latex' or
to 'markdown'.  Output is formatted to meet requirements of either markup
language.
</p>
</li>
<li> <p><code>getOptions("qwraps2_style", "default")</code> By setting this option
to a specific journal, p-values and other output, will be formatted to
meet journal requirements.
</p>
</li></ul>



<h3>Journals with predefined formatting</h3>


<ul>
<li><p> Obstetrics &amp; Gynecology
</p>

<ul>
<li> <p><a href="https://www.editorialmanager.com/ong/default.aspx">https://www.editorialmanager.com/ong/default.aspx</a>
</p>
</li>
<li> <p><code>options(qwraps2_journal = "obstetrics_gynecology")</code>
</p>
</li>
<li><p> P-value formatting as of April 2015:
</p>
<p>Express P values to no more than three decimal places.
</p>
<p>Based on observations of published work, leading 0 will be omitted.
</p>
</li></ul>

</li>
<li><p> Pediatric Dentistry:
</p>

<ul>
<li> <p><a href="http://www.aapd.org/publications/">http://www.aapd.org/publications/</a>
</p>
</li>
<li> <p><code>options(qwraps2_journal = "pediatric_dentistry")</code>
</p>
</li>
<li><p> P-value formatting  as of March 2015.
</p>
<p>If P &gt; .01, the actual value for
P should be expressed to 2 digits.  Non-significant values should not be
expressed as &quot;NS&quot; whether or note P is significant, unless rounding a
significant P-value expressed to 3 digits would make it non significant
(i.e., P=.049, not P=.05).  If P&lt;.01, it should be express to 3 digits
(e.g., P=.003, not P&lt;.05).  Actual P-values should be expressed unless
P&lt;.001, in which case they should be so designated.
</p>
</li></ul>

</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Peter DeWitt <a href="mailto:dewittpe@gmail.com">dewittpe@gmail.com</a> (<a href="https://orcid.org/0000-0002-6391-0795">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Tell Bennett <a href="mailto:tell.bennett@cuanschutz.edu">tell.bennett@cuanschutz.edu</a> (<a href="https://orcid.org/0000-0003-1483-4236">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/dewittpe/qwraps2/">https://github.com/dewittpe/qwraps2/</a>
</p>
</li>
<li> <p><a href="http://www.peteredewitt.com/qwraps2/">http://www.peteredewitt.com/qwraps2/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/dewittpe/qwraps2/issues">https://github.com/dewittpe/qwraps2/issues</a>
</p>
</li></ul>


<hr>
<h2 id='Rpkg'>Formatting Style on URLs for packages on CRAN, Github, and Gitlab.</h2><span id='topic+Rpkg'></span><span id='topic+CRANpkg'></span><span id='topic+Githubpkg'></span><span id='topic+Gitlabpkg'></span>

<h3>Description</h3>

<p>Functions for controlling the look of package names in markdown created
vignettes and easy curating of URLs for the packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rpkg(pkg)

CRANpkg(pkg)

Githubpkg(pkg, username)

Gitlabpkg(pkg, username)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Rpkg_+3A_pkg">pkg</code></td>
<td>
<p>The name of the package, will work as a quoted or raw name.</p>
</td></tr>
<tr><td><code id="Rpkg_+3A_username">username</code></td>
<td>
<p>username for Github.com or Gitlab.com</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
Rpkg(qwraps2)
Rpkg("qwraps2")

CRANpkg(qwraps2)
CRANpkg("qwraps2")

Githubpkg(qwraps2, "dewittpe")
Githubpkg("qwraps2", dewittpe)

Gitlabpkg(qwraps2, "dewittpe")
Gitlabpkg("qwraps2", dewittpe)

</code></pre>

<hr>
<h2 id='set_diff'>Set Differences</h2><span id='topic+set_diff'></span>

<h3>Description</h3>

<p>Function for testing for unique values between two vectors, specifically,
which values are in vector1, and not in vector2, which values are not in
vector1 and in vector2, which values are in both vector1 and vector2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_diff(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_diff_+3A_x">x</code>, <code id="set_diff_+3A_y">y</code></td>
<td>
<p>vectors (of the same mode)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a qwraps2_set_diff object, a list of set comparisons
</p>

<ul>
<li> <p><code>all_values</code> = <code><a href="base.html#topic+union">union</a>(x, y)</code>
</p>
</li>
<li> <p><code>x_only</code>     = <code><a href="base.html#topic+setdiff">setdiff</a>(x, y)</code>
</p>
</li>
<li> <p><code>y_only</code>     = <code><a href="base.html#topic+setdiff">setdiff</a>(y, x)</code>
</p>
</li>
<li> <p><code>both</code>       = <code><a href="base.html#topic+intersect">intersect</a>(x, y)</code>
</p>
</li>
<li> <p><code>equal</code>      = <code><a href="base.html#topic+setequal">setequal</a>(x, y)</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# example with two sets which as a union are the upper and lower case vowels.
set_a &lt;- c("A", "a", "E",      "I", "i", "O", "o", "U", "u", "E", "I")
set_b &lt;- c("A", "a", "E", "e",      "i",      "o", "U", "u", "u", "a", "e")

set_diff(set_a, set_b)
str(set_diff(set_a, set_b))

set_diff(set_b, set_a)

# example
set_a &lt;- 1:90
set_b &lt;- set_a[-c(23, 48)]
set_diff(set_a, set_b)
set_diff(set_b, set_a)

# example
set_a &lt;- c("A", "A", "B")
set_b &lt;- c("B", "A")
set_diff(set_a, set_b)

</code></pre>

<hr>
<h2 id='spambase'>Spambase</h2><span id='topic+spambase'></span>

<h3>Description</h3>

<p>Classifying Email as Spam or Non-Spam
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spambase
</code></pre>


<h3>Format</h3>

<p>a data.frame with 4601 rows, 58 columns; 57 features and 0/1
indicator for spam
</p>
<p>Used under CC BY 4.0 license.
</p>


<h3>References</h3>

<p>Hopkins,Mark, Reeber,Erik, Forman,George, and Suermondt,Jaap. (1999). Spambase. UCI Machine Learning Repository. https://doi.org/10.24432/C53G6X.
</p>


<h3>See Also</h3>

<p><code>vignette("qwraps2-data-sets", package = "qwraps2")</code> for
details on the construction of the data set.
</p>

<hr>
<h2 id='spin_comments'>Spin Comment Check</h2><span id='topic+spin_comments'></span>

<h3>Description</h3>

<p>A tool to help identify the opening and closing of comments in a spin
document.  This function is designed to help the user resolve the error
&quot;comments must be put in pairs of start and end delimiters.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spin_comments(hair, comment = c("^[# ]*/[*]", "^.*[*]/ *$"), text = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spin_comments_+3A_hair">hair</code></td>
<td>
<p>Path to the R script. The script must be encoded in UTF-8 if it
contains multi-byte characters.</p>
</td></tr>
<tr><td><code id="spin_comments_+3A_comment">comment</code></td>
<td>
<p>A pair of regular expressions for the start and end delimiters
of comments; the lines between a start and an end delimiter will be
ignored. By default, the delimiters are <code style="white-space: pre;">&#8288;/*&#8288;</code> at the beginning of a
line, and <code style="white-space: pre;">&#8288;*/&#8288;</code> at the end, following the convention of C-style
comments.</p>
</td></tr>
<tr><td><code id="spin_comments_+3A_text">text</code></td>
<td>
<p>A character vector of code, as an alternative way to provide the
R source. If <code>text</code> is not <code>NULL</code>, <code>hair</code> will be ignored.</p>
</td></tr>
<tr><td><code id="spin_comments_+3A_...">...</code></td>
<td>
<p>additional arguments (not currently used.)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
spin_comments(hair = system.file("examples/spinner1.R", package = "qwraps2"))

</code></pre>

<hr>
<h2 id='stat_stepribbon'>Step ribbon statistic</h2><span id='topic+stat_stepribbon'></span>

<h3>Description</h3>

<p>Provides stair step values for ribbon plots (Copied this from the
https://github.com/hrbrmstr/ggalt version 0.6.0, which is not yet on CRAN.
Some minor modifications to the file have been made).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_stepribbon(
  mapping = NULL,
  data = NULL,
  geom = "ribbon",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  direction = "hv",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_stepribbon_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_geom">geom</code></td>
<td>
<p>which geom to use; defaults to <code>ribbon</code></p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_direction">direction</code></td>
<td>
<p><code>hv</code> for horizontal-vertical steps, <code>vh</code> for
vertical-horizontal steps</p>
</td></tr>
<tr><td><code id="stat_stepribbon_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/9cFWHaH1CPs">https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/9cFWHaH1CPs</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
df &lt;- data.frame(x=x, y=x+10, ymin=x+7, ymax=x+12)

# horizontal-vertical steps (default)
gg &lt;- ggplot2::ggplot(df, ggplot2::aes(x, y))
gg &lt;- gg + ggplot2::geom_ribbon(ggplot2::aes(ymin=ymin, ymax=ymax),
                                stat="stepribbon", fill="#b2b2b2",
                                direction="hv")
gg &lt;- gg + ggplot2::geom_step(color="#2b2b2b")
gg

# vertical-horizontal steps (default)
gg &lt;- ggplot2::ggplot(df, ggplot2::aes(x, y))
gg &lt;- gg + ggplot2::geom_ribbon(ggplot2::aes(ymin=ymin, ymax=ymax),
                                stat="stepribbon", fill="#b2b2b2",
                                direction="vh")
gg &lt;- gg + ggplot2::geom_step(color="#2b2b2b")
gg

# The same plot calling stat_stepribbon directly
gg &lt;- ggplot2::ggplot(df, ggplot2::aes(x, y))
gg &lt;- gg + stat_stepribbon(mapping = ggplot2::aes(ymin=ymin, ymax=ymax),
                           fill="#b2b2b2", direction="vh")
gg &lt;- gg + ggplot2::geom_step(color="#2b2b2b")
gg

</code></pre>

<hr>
<h2 id='StatStepribbon'>Stat Step Ribbon</h2><span id='topic+StatStepribbon'></span>

<h3>Description</h3>

<p>Provides stair step values for ribbon plots (Copied this from the
https://github.com/hrbrmstr/ggalt version 0.6.0, which is not yet on CRAN.
Some minor modifications to the file have been made).
</p>


<h3>References</h3>

<p><a href="https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/9cFWHaH1CPs">https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/9cFWHaH1CPs</a>
</p>

<hr>
<h2 id='summary_table'>Data Summary Tables</h2><span id='topic+summary_table'></span><span id='topic+qsummary'></span>

<h3>Description</h3>

<p>Tools useful for building data summary tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_table(x, summaries = qsummary(x), by = NULL, qable_args = list(), ...)

qsummary(x, numeric_summaries, n_perc_args, env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_table_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="summary_table_+3A_summaries">summaries</code></td>
<td>
<p>a list of lists of formulea for summarizing the data set.
See Details and examples.</p>
</td></tr>
<tr><td><code id="summary_table_+3A_by">by</code></td>
<td>
<p>a character vector of variable names to generate the summary by,
that is one column for each unique values of the variables specified.</p>
</td></tr>
<tr><td><code id="summary_table_+3A_qable_args">qable_args</code></td>
<td>
<p>additional values passed to <code><a href="#topic+qable">qable</a></code></p>
</td></tr>
<tr><td><code id="summary_table_+3A_...">...</code></td>
<td>
<p>pass through</p>
</td></tr>
<tr><td><code id="summary_table_+3A_numeric_summaries">numeric_summaries</code></td>
<td>
<p>a list of functions to use for summarizing numeric
variables.  The functions need to be provided as character strings with the
single argument defined by the <code>%s</code> symbol.</p>
</td></tr>
<tr><td><code id="summary_table_+3A_n_perc_args">n_perc_args</code></td>
<td>
<p>a list of arguments to pass to
<code><a href="#topic+n_perc">n_perc</a></code> to be used with <code>character</code> or
<code>factor</code> variables within <code>x</code>.</p>
</td></tr>
<tr><td><code id="summary_table_+3A_env">env</code></td>
<td>
<p>environment to assign to the resulting formulae</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>summary_table</code> can be used to generate good looking, simple tables in
LaTeX or markdown.  Functions like xtables::print.xtable and Hmisc::latex
provide many more tools for formatting tables.  The purpose of
<code>summary_table</code> is to generate good looking tables quickly within
workflow for summarizing a data set.
</p>
<p>Creating a list-of-lists of summary functions to apply to a data set will
allow the exploration of the whole data set and grouped data sets.  In the
example provided on this page we see a set of summary measures for the
<code><a href="datasets.html#topic+mtcars">mtcars</a></code> data set and the construction of a table for
the whole data set and for a grouped data set.
</p>
<p>The list-of-lists should be thought of as follows:  the outer list defines
row groups, the inner lists define the rows within each row group.
</p>
<p>More detailed use of these functions can be found the &quot;summary-statistics&quot;
vignette.
</p>
<p>The <code>print</code> method for the <code>qwraps2_summary_table</code> objects is just
a simple wrapper for <code><a href="#topic+qable">qable</a></code>.
</p>


<h3>Value</h3>

<p>a <code>qwraps2_summary_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qsummary">qsummary</a></code> for generating the summaries,
<code><a href="#topic+qable">qable</a></code> for marking up <code>qwraps2_data_summary</code> objects.
The <code>vignette("summary-statistics", package = "qwraps2")</code> for detailed
use of these functions and caveats.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A list-of-lists for the summaries arg.  This object is of the basic form:
#
# list("row group A" =
#      list("row 1A" = ~ &lt;summary function&gt;,
#           "row 2A" = ~ &lt;summary function&gt;),
#      "row group B" =
#      list("row 1B" = ~ &lt;summary function&gt;,
#           "row 2B" = ~ &lt;summary function&gt;,
#           "row 3B" = ~ &lt;summary function&gt;))

our_summaries &lt;-
  list("Miles Per Gallon" =
         list("min"  = ~ min(mpg),
              "mean" = ~ mean(mpg),
              "mean &amp;plusmn; sd" = ~ qwraps2::mean_sd(mpg),
              "max"  = ~ max(mpg)),
       "Weight" =
         list("median" = ~ median(wt)),
       "Cylinders" =
         list("4 cyl: n (%)" = ~ qwraps2::n_perc0(cyl == 4),
              "6 cyl: n (%)" = ~ qwraps2::n_perc0(cyl == 6),
              "8 cyl: n (%)" = ~ qwraps2::n_perc0(cyl == 8)))

# Going to use markdown for the markup language in this example,  the original
# option will be reset at the end of the example.
orig_opt &lt;- options()$qwraps2_markup
options(qwraps2_markup = "markdown")

# The summary table for the whole mtcars data set
whole_table &lt;- summary_table(mtcars, our_summaries)
whole_table

# The summary table for mtcars grouped by am (automatic or manual transmission)
# This will generate one column for each level of mtcars$am
grouped_by_table &lt;-
  summary_table(mtcars, our_summaries, by = "am")
grouped_by_table

# an equivalent call if you are using the tidyverse:
summary_table(dplyr::group_by(mtcars, am), our_summaries)

# To build a table with a column for the whole data set and each of the am
# levels
cbind(whole_table, grouped_by_table)

# Adding a caption for a LaTeX table
print(whole_table, caption = "Hello world", markup = "latex")

# A **warning** about grouped_df objects.
# If you use dplyr::group_by or
# dplyr::rowwise to manipulate a data set and fail to use dplyr::ungroup you
# might find a table that takes a long time to create and does not summarize the
# data as expected.  For example, let's build a data set with twenty subjects
# and injury severity scores for head and face injuries.  We'll clean the data
# by finding the max ISS score for each subject and then reporting summary
# statistics there of.
set.seed(42)
dat &lt;- data.frame(id = letters[1:20],
                  head_iss = sample(1:6, 20, replace = TRUE, prob = 10 * (6:1)),
                  face_iss = sample(1:6, 20, replace = TRUE, prob = 10 * (6:1)))
dat &lt;- dplyr::group_by(dat, id)
dat &lt;- dplyr::mutate(dat, iss = max(head_iss, face_iss))

iss_summary &lt;-
  list("Head ISS" =
       list("min"    = ~ min(head_iss),
            "median" = ~ median(head_iss),
            "max"    = ~ max(head_iss)),
       "Face ISS" =
       list("min"    = ~ min(face_iss),
            "median" = ~ median(face_iss),
            "max"    = ~ max(face_iss)),
       "Max ISS" =
       list("min"    = ~ min(iss),
            "median" = ~ median(iss),
            "max"    = ~ max(iss)))

# Want: a table with one column for all subjects with nine rows divided up into
# three row groups.  However, the following call will create a table with 20
# columns, one for each subject because dat is a grouped_df
summary_table(dat, iss_summary)

# Ungroup the data.frame to get the correct output
summary_table(dplyr::ungroup(dat), iss_summary)


################################################################################
# The Default call will work with non-syntactically valid names and will
# generate a table with statistics defined by the qsummary call.
summary_table(mtcars, by = "cyl")

# Another example from the diamonds data
data("diamonds", package = "ggplot2")
diamonds["The Price"] &lt;- diamonds$price
diamonds["A Logical"] &lt;- sample(c(TRUE, FALSE), size = nrow(diamonds), replace = TRUE)

# the next two lines are equivalent.
summary_table(diamonds)
summary_table(diamonds, qsummary(diamonds))

summary_table(diamonds, by = "cut")

summary_table(diamonds,
              summaries =
              list("My Summary of Price" =
                   list("min price" = ~ min(price),
                        "IQR"       = ~ stats::IQR(price))),
              by = "cut")

################################################################################
# Data sets with missing values
temp &lt;- mtcars
temp$cyl[5] &lt;- NA
temp$am[c(1, 5, 10)] &lt;- NA
temp$am &lt;- factor(temp$am, levels = 0:1, labels = c("Automatic", "Manual"))
temp$vs &lt;- as.logical(temp$vs)
temp$vs[c(2, 6)] &lt;- NA
qsummary(temp[, c("cyl", "am", "vs")])
summary_table(temp[, c("cyl", "am", "vs")])

################################################################################
# Group by Multiple Variables
temp &lt;- mtcars
temp$trans &lt;- factor(temp$am, 0:1, c("Manual", "Auto"))
temp$engine &lt;- factor(temp$vs, 0:1, c("V-Shaped", "Straight"))
summary_table(temp, our_summaries, by = c("trans", "engine"))

################################################################################
# binding tables together.  The original design and expected use of
# summary_table did not require a rbind, as all rows are defined in the
# summaries argument.  That said, here are examples of using cbind and rbind to
# build several different tables.
our_summary1 &lt;-
  list("Miles Per Gallon" =
       list("min" = ~ min(mpg),
            "max" = ~ max(mpg),
            "mean (sd)" = ~ qwraps2::mean_sd(mpg)),
       "Displacement" =
       list("min" = ~ min(disp),
            "max" = ~ max(disp),
            "mean (sd)" = ~ qwraps2::mean_sd(disp)))

our_summary2 &lt;-
  list(
       "Weight (1000 lbs)" =
       list("min" = ~ min(wt),
            "max" = ~ max(wt),
            "mean (sd)" = ~ qwraps2::mean_sd(wt)),
       "Forward Gears" =
       list("Three" = ~ qwraps2::n_perc0(gear == 3),
            "Four"  = ~ qwraps2::n_perc0(gear == 4),
            "Five"  = ~ qwraps2::n_perc0(gear == 5))
       )

tab1 &lt;- summary_table(mtcars, our_summary1)
tab2 &lt;- summary_table(dplyr::group_by(mtcars, am), our_summary1)
tab3 &lt;- summary_table(dplyr::group_by(mtcars, vs), our_summary1)

tab4 &lt;- summary_table(mtcars, our_summary2)
tab5 &lt;- summary_table(dplyr::group_by(mtcars, am), our_summary2)
tab6 &lt;- summary_table(dplyr::group_by(mtcars, vs), our_summary2)

cbind(tab1, tab2, tab3)
cbind(tab4, tab5, tab6)

# row bind is possible, but it is recommended to extend the summary instead.
rbind(tab1, tab4)
summary_table(mtcars, summaries = c(our_summary1, our_summary2))

## Not run: 
  cbind(tab1, tab4) # error because rows are not the same
  rbind(tab1, tab2) # error because columns are not the same

## End(Not run)

################################################################################
# reset the original markup option that was used before this example was
# evaluated.
options(qwraps2_markup = orig_opt)

# Detailed examples in the vignette
# vignette("summary-statistics", package = "qwraps2")


</code></pre>

<hr>
<h2 id='traprule'>Trapezoid Rule Numeric Integration</h2><span id='topic+traprule'></span>

<h3>Description</h3>

<p>Compute the integral of y with respect to x via trapezoid rule.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>traprule(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="traprule_+3A_x">x</code>, <code id="traprule_+3A_y">y</code></td>
<td>
<p>numeric vectors of equal length</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric value, the estimated integral
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xvec &lt;- seq(-2 * pi, 3 * pi, length = 560)
foo  &lt;- function(x) { sin(x) + x * cos(x) + 12 }
yvec &lt;- foo(xvec)
plot(xvec, yvec, type = "l")

integrate(f = foo, lower = -2 * pi, upper = 3 * pi)
traprule(xvec, yvec)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

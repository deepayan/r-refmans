<!DOCTYPE html><html><head><title>Help for package dataRetrieval</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dataRetrieval}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addWaterYear'><p>add a water year column</p></a></li>
<li><a href='#calcWaterYear'><p>Extract WY from a date</p></a></li>
<li><a href='#checkWQPdates'><p>Date Check for Water Quality Portal</p></a></li>
<li><a href='#constructNWISURL'><p>Construct NWIS url for data retrieval</p></a></li>
<li><a href='#constructUseURL'><p>Construct URL for NWIS water use data service</p></a></li>
<li><a href='#constructWQPURL'><p>Construct WQP url for data retrieval</p></a></li>
<li><a href='#convertLists'><p>convert variables in dots to usable format</p></a></li>
<li><a href='#countyCd'><p>US County Code Lookup Table</p></a></li>
<li><a href='#countyCdLookup'><p>County code look up</p></a></li>
<li><a href='#create_NWIS_bib'><p>Create NWIS data citation</p></a></li>
<li><a href='#create_WQP_bib'><p>Create WQP data citation</p></a></li>
<li><a href='#dataRetrieval'><p>Retrieval functions for USGS and EPA data</p></a></li>
<li><a href='#default_ua'><p>Create user agent</p></a></li>
<li><a href='#findNLDI'><p>R Client for the Network Linked Data Index</p></a></li>
<li><a href='#get_nldi_sources'><p>Get current NLDI offerings</p></a></li>
<li><a href='#getQuerySummary'><p>getting header information from a WQP query</p></a></li>
<li><a href='#getWebServiceData'><p>Function to return data from web services</p></a></li>
<li><a href='#has_internet_2'><p>has_internet_2</p></a></li>
<li><a href='#importNGWMN'><p>Function to return data from the National Ground Water Monitoring Network waterML2 format</p></a></li>
<li><a href='#importRDB1'><p>Function to return data from the NWIS RDB 1.0 format</p></a></li>
<li><a href='#importWaterML1'><p>Function to return data from the NWISWeb WaterML1.1 service</p></a></li>
<li><a href='#importWaterML2'><p>Parse the WaterML2 timeseries portion of a waterML2 file</p></a></li>
<li><a href='#importWQP'><p>Basic Water Quality Portal Data parser</p></a></li>
<li><a href='#is_dataRetrieval_user'><p>Is this a dataRetrieval user</p></a></li>
<li><a href='#parameterCdFile'><p>List of USGS parameter codes</p></a></li>
<li><a href='#pcode_to_name'><p>Parameter code to characteristic name</p></a></li>
<li><a href='#pCodeToName'><p>Data to convert USGS parameter code to characteristic names</p></a></li>
<li><a href='#readNGWMNdata'><p>Import data from the National Groundwater Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.</p></a></li>
<li><a href='#readNGWMNlevels'><p>Retrieve groundwater levels from the National Ground Water Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.</p></a></li>
<li><a href='#readNGWMNsites'><p>Retrieve site data from the National Ground Water Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.</p></a></li>
<li><a href='#readNWISdata'><p>General Data Import from NWIS</p></a></li>
<li><a href='#readNWISdots'><p>Format and organize NWIS arguments that are passed in as <code>...</code>.</p></a></li>
<li><a href='#readNWISdv'><p>Daily Value USGS NWIS Data Retrieval</p></a></li>
<li><a href='#readNWISgwl'><p>Groundwater level measurements retrieval from USGS (NWIS)</p></a></li>
<li><a href='#readNWISmeas'><p>Surface-water measurement data retrieval from USGS (NWIS)</p></a></li>
<li><a href='#readNWISpCode'><p>USGS Parameter Data Retrieval</p></a></li>
<li><a href='#readNWISpeak'><p>Peak flow data from USGS (NWIS)</p></a></li>
<li><a href='#readNWISqw'><p>Raw Data Import for USGS NWIS QW Data</p></a></li>
<li><a href='#readNWISrating'><p>Rating table for an active USGS streamgage retrieval</p></a></li>
<li><a href='#readNWISsite'><p>USGS Site File Data Retrieval</p></a></li>
<li><a href='#readNWISstat'><p>Site statistics retrieval from USGS (NWIS)</p></a></li>
<li><a href='#readNWISuse'><p>Water use data retrieval from USGS (NWIS)</p></a></li>
<li><a href='#readNWISuv'><p>Instantaneous value data retrieval from USGS (NWIS)</p></a></li>
<li><a href='#readWQPdata'><p>General Data Import from Water Quality Portal</p></a></li>
<li><a href='#readWQPdots'><p>Format and organize WQP arguments that are passed in as <code>...</code>.</p></a></li>
<li><a href='#readWQPqw'><p>Raw Data Import for Water Quality Portal</p></a></li>
<li><a href='#readWQPsummary'><p>Summary of Data Available from Water Quality Portal</p></a></li>
<li><a href='#renameNWISColumns'><p>renameColumns</p></a></li>
<li><a href='#setAccess'><p>Set data endpoint</p></a></li>
<li><a href='#stateCd'><p>US State Code Lookup Table</p></a></li>
<li><a href='#stateCdLookup'><p>State code look up</p></a></li>
<li><a href='#whatNWISdata'><p>USGS data availability</p></a></li>
<li><a href='#whatNWISsites'><p>Site Data Import from NWIS</p></a></li>
<li><a href='#whatWQPdata'><p>Data Available from Water Quality Portal</p></a></li>
<li><a href='#whatWQPsamples'><p>Site Data Import from Water Quality Portal</p></a></li>
<li><a href='#zeroPad'><p>Pad string with leading zeros</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Retrieval Functions for USGS and EPA Hydrology and Water Quality
Data</td>
</tr>
<tr>
<td>Version:</td>
<td>2.7.15</td>
</tr>
<tr>
<td>Description:</td>
<td>Collection of functions to help retrieve U.S. Geological Survey
    and U.S. Environmental Protection Agency water quality and
    hydrology data from web services. Data are discovered from 
    National Water Information System <a href="https://waterservices.usgs.gov/">https://waterservices.usgs.gov/</a> and <a href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>. 
    Water quality data are obtained from the Water Quality Portal <a href="https://www.waterqualitydata.us/">https://www.waterqualitydata.us/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Copyright:</td>
<td>This software is in the public domain because it contains
materials that originally came from the United States
Geological Survey, an agency of the United States Department of
Interior.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr (&ge; 1.0.0), curl, lubridate (&ge; 1.5.0), stats, utils,
xml2, readr (&ge; 1.4.0), jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, dplyr, ggplot2, tidyr, data.table, DT, gridExtra,
knitr, rmarkdown, sf, testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>BuildVignettes:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/DOI-USGS/dataRetrieval/issues">https://github.com/DOI-USGS/dataRetrieval/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://code.usgs.gov/water/dataRetrieval">https://code.usgs.gov/water/dataRetrieval</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-21 21:37:05 UTC; ldecicco</td>
</tr>
<tr>
<td>Author:</td>
<td>Laura DeCicco <a href="https://orcid.org/0000-0002-3915-9487"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Robert Hirsch <a href="https://orcid.org/0000-0002-4534-075X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  David Lorenz [aut],
  Jordan Read [ctb],
  Jordan Walker [ctb],
  Lindsay Carr [ctb],
  David Watkins <a href="https://orcid.org/0000-0002-7544-0700"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  David Blodgett <a href="https://orcid.org/0000-0001-9489-1710"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Mike Johnson <a href="https://orcid.org/0000-0002-5288-8350"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Aliesha Krall <a href="https://orcid.org/0000-0003-2521-5043"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Laura DeCicco &lt;ldecicco@usgs.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-21 23:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addWaterYear'>add a water year column</h2><span id='topic+addWaterYear'></span>

<h3>Description</h3>

<p>Add a column to the dataRetrieval data frame with the water year. WQP
queries will return a water year column for the start and end dates
of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addWaterYear(rawData)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addWaterYear_+3A_rawdata">rawData</code></td>
<td>
<p>the daily- or unit-values datset retrieved from NWISweb. Must
have at least one of the following columns to add the new water year columns:
'dateTime', 'Date', 'ActivityStartDate', or 'ActivityEndDate'. The date column(s)
can be character, POSIXct, Date. They cannot be numeric.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with an additional integer column with &quot;WY&quot; appended to the
date column name. For WQP, there will be 2 columns: 'ActivityStartDateWY' and
'ActivityEndDateWY'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nwisData &lt;- readNWISdv("04085427", "00060", "2012-01-01", "2012-06-30")
nwisData &lt;- addWaterYear(nwisData)

wqpData &lt;- readWQPqw("USGS-01594440", "01075", "", "")
wqpData &lt;- addWaterYear(wqpData)

</code></pre>

<hr>
<h2 id='calcWaterYear'>Extract WY from a date</h2><span id='topic+calcWaterYear'></span>

<h3>Description</h3>

<p>Determine the correct water year based on a calendar date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcWaterYear(dateVec)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcWaterYear_+3A_datevec">dateVec</code></td>
<td>
<p>vector of dates as character (&quot;YYYY-DD-MM&quot;),
Date, or POSIXct. Numeric does not work.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates a water year based on the USGS
definition that a water year starts on October 1 of the year before,
and ends on September 30. For example, water year 2015 started on
2014-10-01 and ended on 2015-09-30.
</p>


<h3>Value</h3>

<p>numeric vector indicating the water year
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(as.Date("2010-01-01"), as.Date("2010-12-31"), by = "month")
calcWaterYear(x)

y &lt;- c("2010-01-01", "1994-02", "1980", "2009-11-01", NA)
calcWaterYear(y)
</code></pre>

<hr>
<h2 id='checkWQPdates'>Date Check for Water Quality Portal</h2><span id='topic+checkWQPdates'></span>

<h3>Description</h3>

<p>Checks date format for inputs to the Water Quality Portal. Used in <code>readWQPqw</code>
and <code>readWQPdata</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkWQPdates(values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkWQPdates_+3A_values">values</code></td>
<td>
<p>named list with arguments to send to the Water Quality Portal</p>
</td></tr>
</table>


<h3>Value</h3>

<p>values named list with corrected arguments to send to the Water Quality Portal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>values &lt;- list(
  startDateLo = "01-01-2002",
  characteristicName = "Phosphorous",
  endDate = as.Date("2014-01-01")
)
values &lt;- checkWQPdates(values)
</code></pre>

<hr>
<h2 id='constructNWISURL'>Construct NWIS url for data retrieval</h2><span id='topic+constructNWISURL'></span>

<h3>Description</h3>

<p>Imports data from NWIS web service. This function gets the data from here:
<a href="https://nwis.waterdata.usgs.gov/nwis/qwdata">https://nwis.waterdata.usgs.gov/nwis/qwdata</a>
A list of parameter codes can be found here:
<a href="https://nwis.waterdata.usgs.gov/nwis/pmcodes/">https://nwis.waterdata.usgs.gov/nwis/pmcodes/</a>
A list of statistic codes can be found here:
<a href="https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table">https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constructNWISURL(
  siteNumbers,
  parameterCd = "00060",
  startDate = "",
  endDate = "",
  service,
  statCd = "00003",
  format = "xml",
  expanded = TRUE,
  ratingType = "base",
  statReportType = "daily",
  statType = "mean"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constructNWISURL_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>string or vector of strings USGS site number.  This is usually an 8 digit number</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_parametercd">parameterCd</code></td>
<td>
<p>string or vector of USGS parameter code.  This is usually an 5 digit number.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the earliest possible record.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the latest possible record.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_service">service</code></td>
<td>
<p>string USGS service to call. Possible values are &quot;dv&quot; (daily values),
&quot;uv&quot; (unit/instantaneous values),
&quot;qw&quot; (water quality data), &quot;gwlevels&quot; (groundwater),and &quot;rating&quot; (rating curve),
&quot;peak&quot;, &quot;meas&quot; (discrete streamflow measurements),
&quot;stat&quot; (statistics web service BETA).</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_statcd">statCd</code></td>
<td>
<p>string or vector USGS statistic code only used for daily value service.
This is usually 5 digits.  Daily mean (00003) is the default.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_format">format</code></td>
<td>
<p>string, can be &quot;tsv&quot; or &quot;xml&quot;, and is only applicable for daily
and unit value requests.  &quot;tsv&quot; returns results faster, but there is a possibility
that an incomplete file is returned without warning. XML is slower,
but will offer a warning if the file was incomplete (for example, if there was a
momentary problem with the internet connection). It is possible to safely use the &quot;tsv&quot; option,
but the user must carefully check the results to see if the data returns matches
what is expected. The default is therefore &quot;xml&quot;.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_expanded">expanded</code></td>
<td>
<p>logical defaults to <code>TRUE</code>. If <code>TRUE</code>, retrieves additional
information, only applicable for qw data.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_ratingtype">ratingType</code></td>
<td>
<p>can be &quot;base&quot;, &quot;corr&quot;, or &quot;exsa&quot;. Only applies to rating curve data.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_statreporttype">statReportType</code></td>
<td>
<p>character Only used for statistics service requests.  Time
division for statistics: daily, monthly, or annual.  Default is daily.
Note that daily provides statistics for each calendar day over the specified
range of water years, i.e. no more than 366 data points will be returned for
each site/parameter.  Use <code>readNWISdata</code> or <code>readNWISdv</code> for daily averages.
Also note that &quot;annual&quot; returns statistics for the calendar year.  Use
<code>readNWISdata</code> for water years. Monthly and yearly
provide statistics for each month and year within the range individually.</p>
</td></tr>
<tr><td><code id="constructNWISURL_+3A_stattype">statType</code></td>
<td>
<p>character Only used for statistics service requests. Type(s)
of statistics to output for daily values.  Default is mean, which is the only
option for monthly and yearly report types. See the statistics service documentation
at <a href="https://waterservices.usgs.gov/docs/statistics/">https://waterservices.usgs.gov/docs/statistics/</a> for a
full list of codes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>url string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>site_id &lt;- "01594440"
startDate &lt;- "1985-01-01"
endDate &lt;- ""
pCode &lt;- c("00060", "00010")
url_daily &lt;- constructNWISURL(site_id, pCode,
  startDate, endDate, "dv",
  statCd = c("00003", "00001")
)
url_unit &lt;- constructNWISURL(site_id, pCode, "2012-06-28", "2012-06-30", "iv")

url_qw_single &lt;- constructNWISURL(site_id, "01075", startDate, endDate, "qw")
url_qw &lt;- constructNWISURL(
  site_id, c("01075", "00029", "00453"),
  startDate, endDate, "qw"
)
url_daily_tsv &lt;- constructNWISURL(site_id, pCode, startDate, endDate, "dv",
  statCd = c("00003", "00001"), format = "tsv"
)
url_rating &lt;- constructNWISURL(site_id, service = "rating", ratingType = "base")
url_peak &lt;- constructNWISURL(site_id, service = "peak")
url_meas &lt;- constructNWISURL(site_id, service = "meas")
urlQW &lt;- constructNWISURL("450456092225801", "70300",
  startDate = "", endDate = "",
  "qw", expanded = TRUE
)
</code></pre>

<hr>
<h2 id='constructUseURL'>Construct URL for NWIS water use data service</h2><span id='topic+constructUseURL'></span>

<h3>Description</h3>

<p>Reconstructs URLs to retrieve data from here: <a href="https://waterdata.usgs.gov/nwis/wu">https://waterdata.usgs.gov/nwis/wu</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constructUseURL(years, stateCd, countyCd, categories)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constructUseURL_+3A_years">years</code></td>
<td>
<p>integer Years for data retrieval. Must be years ending in 0 or 5,
or &quot;ALL&quot;, which retrieves all available years.</p>
</td></tr>
<tr><td><code id="constructUseURL_+3A_statecd">stateCd</code></td>
<td>
<p>could be character (full name, abbreviation, id), or numeric (id)</p>
</td></tr>
<tr><td><code id="constructUseURL_+3A_countycd">countyCd</code></td>
<td>
<p>could be numeric (County IDs from countyCdLookup) or character (&quot;ALL&quot;)</p>
</td></tr>
<tr><td><code id="constructUseURL_+3A_categories">categories</code></td>
<td>
<p>character Two-letter cateogory abbreviation(s)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>url string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>url &lt;- constructUseURL(
  years = c(1990, 1995),
  stateCd = "Ohio",
  countyCd = c(1, 3),
  categories = "ALL"
)

</code></pre>

<hr>
<h2 id='constructWQPURL'>Construct WQP url for data retrieval</h2><span id='topic+constructWQPURL'></span>

<h3>Description</h3>

<p>Construct WQP url for data retrieval. This function gets the data from here: <a href="https://www.waterqualitydata.us">https://www.waterqualitydata.us</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constructWQPURL(siteNumbers, parameterCd, startDate, endDate, zip = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constructWQPURL_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>string or vector of strings USGS site number.  This is usually an 8 digit number</p>
</td></tr>
<tr><td><code id="constructWQPURL_+3A_parametercd">parameterCd</code></td>
<td>
<p>string or vector of USGS parameter code.  This is usually an 5 digit number.</p>
</td></tr>
<tr><td><code id="constructWQPURL_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the earliest possible record.</p>
</td></tr>
<tr><td><code id="constructWQPURL_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the latest possible record.</p>
</td></tr>
<tr><td><code id="constructWQPURL_+3A_zip">zip</code></td>
<td>
<p>logical to request data via downloading zip file. Default set to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>url string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>site_id &lt;- "01594440"
startDate &lt;- "1985-01-01"
endDate &lt;- ""
pCode &lt;- c("00060", "00010")
url_wqp &lt;- constructWQPURL(
  paste("USGS", site_id, sep = "-"),
  c("01075", "00029", "00453"),
  startDate, endDate
)
url_wqp
charNames &lt;- c(
  "Temperature",
  "Temperature, sample",
  "Temperature, water",
  "Temperature, water, deg F"
)
obs_url_orig &lt;- constructWQPURL(
  siteNumbers = c(
    "IIDFG-41WSSPAHS",
    "USGS-02352560"
  ),
  parameterCd = charNames,
  startDate, ""
)
obs_url_orig
</code></pre>

<hr>
<h2 id='convertLists'>convert variables in dots to usable format</h2><span id='topic+convertLists'></span>

<h3>Description</h3>

<p>convert variables in dots to usable format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertLists(...)
</code></pre>

<hr>
<h2 id='countyCd'>US County Code Lookup Table</h2><span id='topic+countyCd'></span>

<h3>Description</h3>

<p>Data originally pulled from <a href="https://www2.census.gov/geo/docs/reference/codes/files/national_county.txt">https://www2.census.gov/geo/docs/reference/codes/files/national_county.txt</a>
on April 1, 2015. On Feb. 11, 2022, the fields were updated with the
file found in inst/extdata, which is used internally with NWIS retrievals.
</p>


<h3>Value</h3>

<p>countyCd data frame.
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description</td>
</tr>
<tr>
 <td style="text-align: left;">
STUSAB </td><td style="text-align: left;"> character </td><td style="text-align: left;"> State abbreviation </td>
</tr>
<tr>
 <td style="text-align: left;">
STATE </td><td style="text-align: left;"> character </td><td style="text-align: left;"> two-digit ANSI code  </td>
</tr>
<tr>
 <td style="text-align: left;">
COUNTY </td><td style="text-align: left;"> character </td><td style="text-align: left;"> three-digit county code </td>
</tr>
<tr>
 <td style="text-align: left;">
COUNTY_NAME </td><td style="text-align: left;"> character </td><td style="text-align: left;"> County full name </td>
</tr>
<tr>
 <td style="text-align: left;">
COUNTY_ID </td><td style="text-align: left;"> character </td><td style="text-align: left;"> County id </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>head(countyCd)
</code></pre>

<hr>
<h2 id='countyCdLookup'>County code look up</h2><span id='topic+countyCdLookup'></span>

<h3>Description</h3>

<p>Function to simplify finding county and county code definitions. Used in <code>readNWISdata</code>
and <code>readNWISuse</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>countyCdLookup(state, county, outputType = "id")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="countyCdLookup_+3A_state">state</code></td>
<td>
<p>could be character (full name, abbreviation, id), or numeric (id)</p>
</td></tr>
<tr><td><code id="countyCdLookup_+3A_county">county</code></td>
<td>
<p>could be character (name, with or without &quot;County&quot;) or numeric (id)</p>
</td></tr>
<tr><td><code id="countyCdLookup_+3A_outputtype">outputType</code></td>
<td>
<p>character can be &quot;fullName&quot;, &quot;tableIndex&quot;, &quot;id&quot;, or &quot;fullEntry&quot;.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- countyCdLookup(state = "WI", county = "Dane")
name &lt;- countyCdLookup(state = "OH", county = 13, output = "fullName")
index &lt;- countyCdLookup(state = "Pennsylvania", county = "ALLEGHENY COUNTY", output = "tableIndex")
fromIDs &lt;- countyCdLookup(state = 13, county = 5, output = "fullName")
already_correct &lt;- countyCdLookup(county = "51001")
</code></pre>

<hr>
<h2 id='create_NWIS_bib'>Create NWIS data citation</h2><span id='topic+create_NWIS_bib'></span>

<h3>Description</h3>

<p>Uses attributes from the NWIS functions to create data citations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_NWIS_bib(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_NWIS_bib_+3A_x">x</code></td>
<td>
<p>Any data returned from an NWIS function, must
include &quot;queryTime&quot; and &quot;url&quot; attributes, which should
come with the data by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>?bibentry</code> for more information.
</p>


<h3>Value</h3>

<p>bibentry object to use for citing the data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nwisData &lt;- readNWISdv("04085427", "00060", "2012-01-01", "2012-06-30")
nwis_citation &lt;- create_NWIS_bib(nwisData)
nwis_citation

print(nwis_citation, style = "Bibtex")
print(nwis_citation, style = "citation")

</code></pre>

<hr>
<h2 id='create_WQP_bib'>Create WQP data citation</h2><span id='topic+create_WQP_bib'></span>

<h3>Description</h3>

<p>Uses attributes from the WQP functions to create data citations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_WQP_bib(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_WQP_bib_+3A_x">x</code></td>
<td>
<p>Any data returned from an NWIS function, must
include &quot;queryTime&quot; and &quot;url&quot; attributes, which should
come with the data by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>?bibentry</code> for more information.
</p>


<h3>Value</h3>

<p>bibentry object to use for citing the data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
WQPData &lt;- readWQPqw("USGS-05288705",
                     parameterCd = "00300")
wqp_citation &lt;- create_WQP_bib(WQPData)
wqp_citation

print(wqp_citation, style = "Bibtex")
print(wqp_citation, style = "citation")

</code></pre>

<hr>
<h2 id='dataRetrieval'>Retrieval functions for USGS and EPA data</h2><span id='topic+dataRetrieval'></span><span id='topic+dataRetrieval-package'></span>

<h3>Description</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> dataRetrieval</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> Unlimited for this package, dependencies have more restrictive licensing.</td>
</tr>
<tr>
 <td style="text-align: left;">
Copyright: </td><td style="text-align: left;"> This software is in the public domain because it contains materials
that originally came from the United States Geological Survey, an agency of
the United States Department of Interior. For more information, see the
official USGS copyright policy at
<a href="https://www.usgs.gov/information-policies-and-instructions/copyrights-and-credits">https://www.usgs.gov/information-policies-and-instructions/copyrights-and-credits</a></td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Details</h3>

<p>Retrieval functions for USGS and EPA hydrologic and water quality data.
</p>
<p>Please see <a href="https://doi-usgs.github.io/dataRetrieval/">https://doi-usgs.github.io/dataRetrieval/</a> for more information.
</p>


<h3>Author(s)</h3>

<p>Laura De Cicco <a href="mailto:ldecicco@usgs.gov">ldecicco@usgs.gov</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://code.usgs.gov/water/dataRetrieval">https://code.usgs.gov/water/dataRetrieval</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/DOI-USGS/dataRetrieval/issues">https://github.com/DOI-USGS/dataRetrieval/issues</a>
</p>
</li></ul>


<hr>
<h2 id='default_ua'>Create user agent</h2><span id='topic+default_ua'></span>

<h3>Description</h3>

<p>Create user agent
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_ua()
</code></pre>

<hr>
<h2 id='findNLDI'>R Client for the Network Linked Data Index</h2><span id='topic+findNLDI'></span>

<h3>Description</h3>

<p>Provides a formal client to the USGS
Network Linked Data Index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findNLDI(
  comid = NULL,
  nwis = NULL,
  wqp = NULL,
  huc12 = NULL,
  location = NULL,
  origin = NULL,
  nav = NULL,
  find = c("flowlines"),
  distance_km = 100,
  no_sf = FALSE,
  warn = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findNLDI_+3A_comid">comid</code></td>
<td>
<p>numeric or character. An NHDPlusV2 COMID</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_nwis">nwis</code></td>
<td>
<p>numeric or character. A USGS NWIS surface water siteID</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_wqp">wqp</code></td>
<td>
<p>numeric or character. A water quality point ID</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_huc12">huc12</code></td>
<td>
<p>numeric or character. A WBD HUC12 unit ID</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_location">location</code></td>
<td>
<p>numeric vector. Coordinate pair in WGS84
SRS ordered lng/lat (X,Y)</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_origin">origin</code></td>
<td>
<p>named list. Specifying a feature type and ID
(e.g. list(&quot;comid&quot; = 101))</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_nav">nav</code></td>
<td>
<p>character vector. where to navigate from the starting point.
Options include along the upper mainsteam (UM), upstream tributary (UT),
downstream mainstem (DM) and downstream divergences (DD). You may select
one or more of the abbreviations (&quot;UM&quot;, &quot;UT&quot;, DM&quot;, &quot;DD&quot;).</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_find">find</code></td>
<td>
<p>character vector. Define what resources to find along the
navigation path(s) (see get_nldi_sources()$source). Can also include 'basin'
or 'flowline', which will return the upstream basin of the starting feature
or flowlines along the navigation respectively. The default is &quot;flowlines&quot;.
If you provide any other resource, AND want flowlines, then flowlines must
be explicitly requested.</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_distance_km">distance_km</code></td>
<td>
<p>numeric. Define how far to look along the navigation path in
kilometers (default = 100)</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_no_sf">no_sf</code></td>
<td>
<p>if available, should 'sf' be used for parsing,
defaults to 'TRUE' if 'sf' is locally installed</p>
</td></tr>
<tr><td><code id="findNLDI_+3A_warn">warn</code></td>
<td>
<p>(default TRUE) should warnings be printed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is useful for topology and location based
feature discovery. A user must specify an origin feature, optional navigation
direction(s) along the network, as well as features to identify along the
navigated paths. Valid starting options can be given by one of the following
arguments: comid, nwis, huc12, wqp, location, and start.
</p>


<h3>Value</h3>

<p>a list of data.frames if sf is not installed, a list of sf objects if it is
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Find Features / Define origin features

## Find feature by COMID
findNLDI(comid = 101)

## Find feature by NWIS ID
findNLDI(nwis = "11120000")

## Find feature by WQP ID
findNLDI(wqp = "USGS-04024315")

## Find feature by LOCATION
findNLDI(location = c(-115, 40))

## GENERAL ORIGIN: COMID
findNLDI(origin = list("comid" = 101))

## GENERAL ORIGIN: WaDE
findNLDI(origin = list("wade" = "CA_45206"))

# Navigation (flowlines will be returned if find is unspecified)
# UPPER MAINSTEM of USGS-11120000
findNLDI(nwis = "11120000", nav = "UM")

# MULTI-REQUEST
# UPPER MAINSTEM and TRIBUTARY of USGS-11120000
findNLDI(nwis = "11120000", nav = c("UT", "UM"))

# Discover Features(flowlines will not be returned unless included in find)

## Find feature(s) on the upper tributary of USGS-11120000
findNLDI(nwis = "11120000", nav = "UT", find = c("nwis", "wqp"))

## Find upstream basin boundary and  of USGS-11120000
findNLDI(nwis = "11120000", find = "basin")

# Control Distance
## Limit search to 50 km
findNLDI(comid = 101, nav = "DM", find = c("nwis", "wqp", "flowlines"), distance_km = 50)


</code></pre>

<hr>
<h2 id='get_nldi_sources'>Get current NLDI offerings</h2><span id='topic+get_nldi_sources'></span>

<h3>Description</h3>

<p>Used to query the current resources available through the NLDI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_nldi_sources(url = pkg.env$nldi_base)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_nldi_sources_+3A_url">url</code></td>
<td>
<p>URL for NLDI sources. Default is supplied by package environment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

get_nldi_sources()


</code></pre>

<hr>
<h2 id='getQuerySummary'>getting header information from a WQP query</h2><span id='topic+getQuerySummary'></span>

<h3>Description</h3>

<p>getting header information from a WQP query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getQuerySummary(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getQuerySummary_+3A_url">url</code></td>
<td>
<p>the query url</p>
</td></tr>
</table>

<hr>
<h2 id='getWebServiceData'>Function to return data from web services</h2><span id='topic+getWebServiceData'></span>

<h3>Description</h3>

<p>This function accepts a url parameter, and returns the raw data. The function enhances
<code><a href="httr.html#topic+GET">GET</a></code> with more informative error messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWebServiceData(obs_url, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWebServiceData_+3A_obs_url">obs_url</code></td>
<td>
<p>character containing the url for the retrieval</p>
</td></tr>
<tr><td><code id="getWebServiceData_+3A_...">...</code></td>
<td>
<p>information to pass to header request</p>
</td></tr>
</table>


<h3>Value</h3>

<p>raw data from web services
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
siteNumber &lt;- "02177000"
startDate &lt;- "2012-09-01"
endDate &lt;- "2012-10-01"
offering &lt;- "00003"
property &lt;- "00060"
obs_url &lt;- constructNWISURL(siteNumber, property, startDate, endDate, "dv")

rawData &lt;- getWebServiceData(obs_url)


</code></pre>

<hr>
<h2 id='has_internet_2'>has_internet_2</h2><span id='topic+has_internet_2'></span>

<h3>Description</h3>

<p>Function to check for internet even if the user
is behind a proxy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_internet_2(obs_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_internet_2_+3A_obs_url">obs_url</code></td>
<td>
<p>character obs_url to check</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If this is giving you problems, override the false negative:
Sys.setenv(&quot;OVERRIDE_INTERNET_TEST&quot; = TRUE)
</p>

<hr>
<h2 id='importNGWMN'>Function to return data from the National Ground Water Monitoring Network waterML2 format</h2><span id='topic+importNGWMN'></span>

<h3>Description</h3>

<p>This function accepts a url parameter for a WaterML2 getObservation. This function is still under development,
but the general functionality is correct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>importNGWMN(input, asDateTime = FALSE, tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importNGWMN_+3A_input">input</code></td>
<td>
<p>character or raw, containing the url for the retrieval or a path to the data file, or raw XML.</p>
</td></tr>
<tr><td><code id="importNGWMN_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical, if <code>TRUE</code> returns date and time as POSIXct, if <code>FALSE</code>, character</p>
</td></tr>
<tr><td><code id="importNGWMN_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the data's provided time zone offset.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;. See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>mergedDF a data frame source, time, value, uom, uomTitle, comment, gmlID
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

obs_url &lt;- paste("https://cida.usgs.gov/ngwmn_cache/sos?request=GetObservation",
  "service=SOS", "version=2.0.0",
  "observedProperty=urn:ogc:def:property:OGC:GroundWaterLevel",
  "responseFormat=text/xml",
  "featureOfInterest=VW_GWDP_GEOSERVER.USGS.403836085374401",
  sep = "&amp;"
)

#data_returned &lt;- importNGWMN(obs_url)


</code></pre>

<hr>
<h2 id='importRDB1'>Function to return data from the NWIS RDB 1.0 format</h2><span id='topic+importRDB1'></span>

<h3>Description</h3>

<p>This function accepts a url parameter that already contains the desired
NWIS site, parameter code, statistic, startdate and enddate. It is not
recommended to use the RDB format for importing multi-site data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>importRDB1(obs_url, asDateTime = TRUE, convertType = TRUE, tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importRDB1_+3A_obs_url">obs_url</code></td>
<td>
<p>character containing the url for the retrieval or a file path to the data file.</p>
</td></tr>
<tr><td><code id="importRDB1_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical, if <code>TRUE</code> returns date and time as POSIXct, if <code>FALSE</code>, Date</p>
</td></tr>
<tr><td><code id="importRDB1_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the
function will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td></tr>
<tr><td><code id="importRDB1_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of datetime. Default converts the datetimes to UTC
(properly accounting for daylight savings times based on the data's provided tz_cd column).
Recommended US values include &quot;UTC&quot;, &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;,
&quot;America/Los_Angeles&quot;,  &quot;America/Anchorage&quot;, &quot;America/Honolulu&quot;, &quot;America/Jamaica&quot;, &quot;America/Managua&quot;,
&quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;.
For a complete list, see <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
datetime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The date and time of the value converted to
UTC (if asDateTime = <code>TRUE</code>), </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> character </td><td style="text-align: left;"> or raw character string (if asDateTime = FALSE) </td>
</tr>
<tr>
 <td style="text-align: left;">
tz_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The time zone code for datetime </td>
</tr>
<tr>
 <td style="text-align: left;">
code </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Any codes that qualify the corresponding value</td>
</tr>
<tr>
 <td style="text-align: left;">
value </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The numeric value for the parameter </td>
</tr>
<tr>
 <td style="text-align: left;">
tz_cd_reported </td><td style="text-align: left;"> The originally reported time zone </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note that code and value are repeated for the parameters requested. The names are of the form
XD_P_S, where X is literal,
D is an option description of the parameter,
P is the parameter code,
and S is the statistic code (if applicable).
If a date/time (dt) column contained incomplete date and times, a new column
of dates and time was inserted. This could happen
when older data was reported as dates, and newer data was reported as a date/time.
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
site_id &lt;- "02177000"
startDate &lt;- "2012-09-01"
endDate &lt;- "2012-10-01"
offering &lt;- "00003"
property &lt;- "00060"

obs_url &lt;- constructNWISURL(site_id, property,
  startDate, endDate, "dv",
  format = "tsv"
)

data &lt;- importRDB1(obs_url)


urlMultiPcodes &lt;- constructNWISURL("04085427", c("00060", "00010"),
  startDate, endDate, "dv",
  statCd = c("00003", "00001"), "tsv"
)

multiData &lt;- importRDB1(urlMultiPcodes)

unitDataURL &lt;- constructNWISURL(site_id, property,
  "2020-10-30", "2020-11-01", "uv",
  format = "tsv"
) # includes timezone switch

unitData &lt;- importRDB1(unitDataURL, asDateTime = TRUE)

qwURL &lt;- constructNWISURL(c("04024430", "04024000"),
  c("34247", "30234", "32104", "34220"),
  "2010-11-03", "", "qw",
  format = "rdb"
)

qwData &lt;- importRDB1(qwURL, asDateTime = TRUE, tz = "America/Chicago")

iceSite &lt;- "04024000"
start &lt;- "2015-11-09"
end &lt;- "2015-11-24"
urlIce &lt;- constructNWISURL(iceSite, "00060", start, end, "uv", format = "tsv")

ice &lt;- importRDB1(urlIce, asDateTime = TRUE)
iceNoConvert &lt;- importRDB1(urlIce, convertType = FALSE)

# User file:
filePath &lt;- system.file("extdata", package = "dataRetrieval")
fileName &lt;- "RDB1Example.txt"
fullPath &lt;- file.path(filePath, fileName)
importUserRDB &lt;- importRDB1(fullPath)

</code></pre>

<hr>
<h2 id='importWaterML1'>Function to return data from the NWISWeb WaterML1.1 service</h2><span id='topic+importWaterML1'></span>

<h3>Description</h3>

<p>This function accepts a url parameter that already contains the desired
NWIS site, parameter code, statistic, startdate and enddate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>importWaterML1(obs_url, asDateTime = FALSE, tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importWaterML1_+3A_obs_url">obs_url</code></td>
<td>
<p>character or raw, containing the url for the retrieval or a
file path to the data file, or raw XML.</p>
</td></tr>
<tr><td><code id="importWaterML1_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical, if <code>TRUE</code> returns date and time as POSIXct, if <code>FALSE</code>, Date</p>
</td></tr>
<tr><td><code id="importWaterML1_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of datetime. Default converts the datetimes to UTC
(properly accounting for daylight savings times based on the data's provided tz_cd column).
Recommended US values include &quot;UTC&quot;, &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;,
&quot;America/Los_Angeles&quot;, &quot;America/Anchorage&quot;, &quot;America/Honolulu&quot;, &quot;America/Jamaica&quot;, &quot;America/Managua&quot;,
&quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;.
For a complete list, see <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
 </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The date and time of the value converted to UTC (if asDateTime = TRUE), </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> character </td><td style="text-align: left;"> or raw character string (if asDateTime = FALSE) </td>
</tr>
<tr>
 <td style="text-align: left;">
tz_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The time zone code for  </td>
</tr>
<tr>
 <td style="text-align: left;">
code </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Any codes that qualify the corresponding value</td>
</tr>
<tr>
 <td style="text-align: left;">
value </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The numeric value for the parameter </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note that code and value are repeated for the parameters requested. The names are of the form
X_D_P_S, where X is literal,
D is an option description of the parameter,
P is the parameter code,
and S is the statistic code (if applicable).
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
variableInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested parameters </td>
</tr>
<tr>
 <td style="text-align: left;">
statisticInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested statistics on the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+renameNWISColumns">renameNWISColumns</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
site_id &lt;- "02177000"
startDate &lt;- "2012-09-01"
endDate &lt;- "2012-10-01"
offering &lt;- "00003"
property &lt;- "00060"
obs_url &lt;- constructNWISURL(site_id, property, startDate, endDate, "dv")

data &lt;- importWaterML1(obs_url, asDateTime = TRUE)

groundWaterSite &lt;- "431049071324301"
startGW &lt;- "2013-10-01"
endGW &lt;- "2014-06-30"
groundwaterExampleURL &lt;- constructNWISURL(groundWaterSite, NA,
  startGW, endGW,
  service = "gwlevels"
)
groundWater &lt;- importWaterML1(groundwaterExampleURL)
groundWater2 &lt;- importWaterML1(groundwaterExampleURL, asDateTime = TRUE)

unitDataURL &lt;- constructNWISURL(
  site_id, property,
  "2013-11-03", "2013-11-03", "uv"
)
unitData &lt;- importWaterML1(unitDataURL, TRUE)

# Two sites, two pcodes, one site has two data descriptors:
siteNumber &lt;- c("01480015", "04085427")
obs_url &lt;- constructNWISURL(
  siteNumber, c("00060", "00010"),
  startDate, endDate, "dv"
)
data &lt;- importWaterML1(obs_url)
data$dateTime &lt;- as.Date(data$dateTime)
data &lt;- renameNWISColumns(data)
names(attributes(data))
attr(data, "url")
attr(data, "disclaimer")

inactiveSite &lt;- "05212700"
inactiveSite &lt;- constructNWISURL(inactiveSite, "00060", 
                                 "2014-01-01", "2014-01-10", "dv")
inactiveSite &lt;- importWaterML1(inactiveSite)

inactiveAndAcitive &lt;- c("07334200", "05212700")
inactiveAndAcitive &lt;- constructNWISURL(inactiveAndAcitive, 
                         "00060", "2014-01-01", "2014-01-10", "dv")
inactiveAndAcitive &lt;- importWaterML1(inactiveAndAcitive)

# Timezone change with specified local timezone:
tzURL &lt;- constructNWISURL("04027000", c("00300", "63680"), 
                          "2011-11-05", "2011-11-07", "uv")
tzIssue &lt;- importWaterML1(tzURL,
  asDateTime = TRUE, tz = "America/Chicago"
)

# raw XML
url &lt;- constructNWISURL(
  service = "dv", siteNumber = "02319300", parameterCd = "00060",
  startDate = "2014-01-01", endDate = "2014-01-01"
)
raw &lt;- httr::content(httr::GET(url), as = "raw")
rawParsed &lt;- importWaterML1(raw)

filePath &lt;- system.file("extdata", package = "dataRetrieval")
fileName &lt;- "WaterML1Example.xml"
fullPath &lt;- file.path(filePath, fileName)
importFile &lt;- importWaterML1(fullPath, TRUE)

</code></pre>

<hr>
<h2 id='importWaterML2'>Parse the WaterML2 timeseries portion of a waterML2 file</h2><span id='topic+importWaterML2'></span>

<h3>Description</h3>

<p>Returns data frame columns of all information with each time series measurement;
Anything defined as a default, is returned as an attribute of that data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>importWaterML2(input, asDateTime = FALSE, tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importWaterML2_+3A_input">input</code></td>
<td>
<p>XML with only the wml2:MeasurementTimeseries node and children</p>
</td></tr>
<tr><td><code id="importWaterML2_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical, if <code>TRUE</code> returns date and time as POSIXct, if <code>FALSE</code>, character</p>
</td></tr>
<tr><td><code id="importWaterML2_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of datetime. Default is an empty quote, which converts the
datetimes to UTC (properly accounting for daylight savings times based on the data's provided time zone offset).
Possible values are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, &quot;America/Honolulu&quot;, &quot;America/Jamaica&quot;, &quot;America/Managua&quot;,
&quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

baseURL &lt;- "https://waterservices.usgs.gov/nwis/dv/?format=waterml,2.0"
URL &lt;- paste(baseURL, "sites=01646500",
  "startDT=2014-09-01",
  "endDT=2014-09-08",
  "statCd=00003",
  "parameterCd=00060",
  sep = "&amp;"
)

timesereies &lt;- importWaterML2(URL, asDateTime = TRUE, tz = "UTC")


</code></pre>

<hr>
<h2 id='importWQP'>Basic Water Quality Portal Data parser</h2><span id='topic+importWQP'></span>

<h3>Description</h3>

<p>Imports data from the Water Quality Portal based on a specified url.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>importWQP(obs_url, zip = TRUE, tz = "UTC", csv = FALSE, convertType = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importWQP_+3A_obs_url">obs_url</code></td>
<td>
<p>character URL to Water Quality Portal#' @keywords data import USGS web service</p>
</td></tr>
<tr><td><code id="importWQP_+3A_zip">zip</code></td>
<td>
<p>logical to request data via downloading zip file. Default set to TRUE.</p>
</td></tr>
<tr><td><code id="importWQP_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of datetime. Default is UTC
(properly accounting for daylight savings times based on the data's provided tz_cd column).
Possible values include &quot;America/New_York&quot;,&quot;America/Chicago&quot;, &quot;America/Denver&quot;,&quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;,&quot;America/Honolulu&quot;,&quot;America/Jamaica&quot;,&quot;America/Managua&quot;,
&quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;</p>
</td></tr>
<tr><td><code id="importWQP_+3A_csv">csv</code></td>
<td>
<p>logical. Is the data coming back with a csv or tsv format. Default is <code>FALSE</code>.
Currently, the summary service does not support tsv, for other services tsv is the safer choice.</p>
</td></tr>
<tr><td><code id="importWQP_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>retval dataframe raw data returned from the Water Quality Portal. Additionally,
a POSIXct dateTime column is supplied for
start and end times, and converted to UTC. See
<a href="https://www.waterqualitydata.us/portal_userguide/">https://www.waterqualitydata.us/portal_userguide/</a> for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readWQPdata">readWQPdata</a></code>, <code><a href="#topic+readWQPqw">readWQPqw</a></code>, <code><a href="#topic+whatWQPsites">whatWQPsites</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# These examples require an internet connection to run

## Examples take longer than 5 seconds:

rawSampleURL &lt;- constructWQPURL("USGS-01594440", "01075", "", "")

rawSample &lt;- importWQP(rawSampleURL)

rawSampleURL_NoZip &lt;- constructWQPURL("USGS-01594440", "01075", "", "", zip = FALSE)

rawSampleURL_NoZip_char &lt;- importWQP(rawSampleURL_NoZip, zip = FALSE, convertType = FALSE)

rawSample2 &lt;- importWQP(rawSampleURL_NoZip, zip = FALSE)

STORETex &lt;- constructWQPURL("WIDNR_WQX-10032762", "Specific conductance", "", "")

STORETdata &lt;- importWQP(STORETex)

STORETdata_char &lt;- importWQP(STORETex, convertType = FALSE)


</code></pre>

<hr>
<h2 id='is_dataRetrieval_user'>Is this a dataRetrieval user</h2><span id='topic+is_dataRetrieval_user'></span>

<h3>Description</h3>

<p>Reveals if this is a user or not
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dataRetrieval_user()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>is_dataRetrieval_user()
</code></pre>

<hr>
<h2 id='parameterCdFile'>List of USGS parameter codes</h2><span id='topic+parameterCdFile'></span>

<h3>Description</h3>

<p>Complete list of USGS parameter codes as of Dec. 20, 2021.
</p>


<h3>Value</h3>

<p>parameterData data frame with information about USGS parameters.
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description</td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> 5-digit USGS parameter code </td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_group_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> USGS parameter group name</td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> USGS parameter name</td>
</tr>
<tr>
 <td style="text-align: left;">
casrn </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Chemical Abstracts Service (CAS) Registry Number</td>
</tr>
<tr>
 <td style="text-align: left;">
srsname </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Substance Registry Services Name</td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_units </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter units</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>head(parameterCdFile[, 1:2])
</code></pre>

<hr>
<h2 id='pcode_to_name'>Parameter code to characteristic name</h2><span id='topic+pcode_to_name'></span>

<h3>Description</h3>

<p>This function is useful to fine what characteristic name, result sample
fraction, unit code, and other parameters are mapped with USGS parameter
codes. This information is useful for converting workflows from a more
traditional NWIS water quality retrieval to a Water Quality Portal retrieval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pcode_to_name(parameterCd = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pcode_to_name_+3A_parametercd">parameterCd</code></td>
<td>
<p>character that contains the code for a character vector 
of 5-digit parameter codes. Default is &quot;all&quot; which will return a complete
list of parameter codes that have been mapped to a characteristic name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with columns  &quot;parm_cd&quot;, &quot;description&quot;,            
&quot;characteristicname&quot;, &quot;measureunitcode&quot;, &quot;resultsamplefraction&quot;,
&quot;resulttemperaturebasis&quot;, &quot;resultstatisticalbasis&quot;,  &quot;resulttimebasis&quot;,
&quot;resultweightbasis&quot;, &quot;resultparticlesizebasis&quot;, &quot;last_rev_dt&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pcodes &lt;- c("00070", "00075", "00430", "52642")


all &lt;- pcode_to_name()
some &lt;- pcode_to_name(pcodes)


</code></pre>

<hr>
<h2 id='pCodeToName'>Data to convert USGS parameter code to characteristic names</h2><span id='topic+pCodeToName'></span>

<h3>Description</h3>

<p>Data pulled from Water Quality Portal on December 20, 2021. The data was pulled from
<a href="https://www.waterqualitydata.us/Codes/public_srsnames/?mimeType=csv">https://www.waterqualitydata.us/Codes/public_srsnames/?mimeType=csv</a>.
</p>


<h3>Value</h3>

<p>pCodeToName data frame with information about USGS parameters and how they
relate to characteristic names (useful for WQP requests).
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description</td>
</tr>
<tr>
 <td style="text-align: left;">
parm_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> 5-digit USGS parameter code </td>
</tr>
<tr>
 <td style="text-align: left;">
description </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter description</td>
</tr>
<tr>
 <td style="text-align: left;">
characteristicname </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Characteristic Name </td>
</tr>
<tr>
 <td style="text-align: left;">
measureunitcode </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter units</td>
</tr>
<tr>
 <td style="text-align: left;">
resultsamplefraction </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Result sample fraction text</td>
</tr>
<tr>
 <td style="text-align: left;">
resulttemperaturebasis </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Temperature basis information</td>
</tr>
<tr>
 <td style="text-align: left;">
resultstatisticalbasis </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Statistical basis</td>
</tr>
<tr>
 <td style="text-align: left;">
resulttimebasis </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Time basis</td>
</tr>
<tr>
 <td style="text-align: left;">
resultweightbasis </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Weight basis</td>
</tr>
<tr>
 <td style="text-align: left;">
resultparticlesizebasis </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Particle size basis</td>
</tr>
<tr>
 <td style="text-align: left;">
last_rev_dt </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Latest revision of information</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>head(pCodeToName[, 1:2])
</code></pre>

<hr>
<h2 id='readNGWMNdata'>Import data from the National Groundwater Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.</h2><span id='topic+readNGWMNdata'></span>

<h3>Description</h3>

<p>Only water level data and site locations and names are currently available through the web service.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNGWMNdata(service, ..., asDateTime = TRUE, tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNGWMNdata_+3A_service">service</code></td>
<td>
<p>char Service for the request - &quot;observation&quot; and &quot;featureOfInterest&quot; are implemented.</p>
</td></tr>
<tr><td><code id="readNGWMNdata_+3A_...">...</code></td>
<td>
<p>Other parameters to supply, namely <code>siteNumbers</code> or <code>bbox</code></p>
</td></tr>
<tr><td><code id="readNGWMNdata_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical if <code>TRUE</code>, will convert times to POSIXct format.  Currently defaults to
<code>FALSE</code> since time zone information is not included.</p>
</td></tr>
<tr><td><code id="readNGWMNdata_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the data's provided time zone offset.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;. See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

# one site
site &lt;- "USGS.430427089284901"
#oneSite &lt;- readNGWMNdata(siteNumbers = site, service = "observation")

# multiple sites
sites &lt;- c("USGS.272838082142201", "USGS.404159100494601", "USGS.401216080362703")
# Very slow:
# multiSiteData &lt;- readNGWMNdata(siteNumbers = sites, service = "observation")
# attributes(multiSiteData)

# non-USGS site
# accepts colon or period between agency and ID
site &lt;- "MBMG:702934"
# data &lt;- readNGWMNdata(siteNumbers = site, service = "featureOfInterest")

# bounding box
# bboxSites &lt;- readNGWMNdata(service = "featureOfInterest", bbox = c(30, -102, 31, 99))
# retrieve  sites.  Set asDateTime to false since one site has an invalid date
# Very slow:
# bboxData &lt;- readNGWMNdata(service = "observation", siteNumbers = bboxSites$site[1:3],
#                           asDateTime = FALSE)


</code></pre>

<hr>
<h2 id='readNGWMNlevels'>Retrieve groundwater levels from the National Ground Water Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.</h2><span id='topic+readNGWMNlevels'></span>

<h3>Description</h3>

<p>Retrieve groundwater levels from the National Ground Water Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNGWMNlevels(siteNumbers, asDateTime = TRUE, tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNGWMNlevels_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character Vector of feature IDs formatted with agency code and site number
separated by a period or semicolon, e.g. <code>USGS.404159100494601</code>.</p>
</td></tr>
<tr><td><code id="readNGWMNlevels_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical Should dates and times be converted to date/time objects,
or returned as character?  Defaults to <code>TRUE</code>.  Must be set to <code>FALSE</code> if a site
contains non-standard dates.</p>
</td></tr>
<tr><td><code id="readNGWMNlevels_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the data's provided time zone offset.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;. See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

# one site
site &lt;- "USGS.430427089284901"
# oneSite &lt;- readNGWMNlevels(siteNumbers = site)

# multiple sites
sites &lt;- c("USGS:272838082142201", "USGS:404159100494601", "USGS:401216080362703")
# multiSiteData &lt;- readNGWMNlevels(sites)

# non-USGS site
site &lt;- "MBMG.103306"
# data &lt;- readNGWMNlevels(siteNumbers = site, asDateTime = FALSE)

# site with no data returns empty data frame
noDataSite &lt;- "UTGS.401544112060301"
# noDataSite &lt;- readNGWMNlevels(siteNumbers = noDataSite)


</code></pre>

<hr>
<h2 id='readNGWMNsites'>Retrieve site data from the National Ground Water Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.</h2><span id='topic+readNGWMNsites'></span>

<h3>Description</h3>

<p>Retrieve site data from the National Ground Water Monitoring Network <a href="https://cida.usgs.gov/ngwmn/">https://cida.usgs.gov/ngwmn/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNGWMNsites(siteNumbers)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNGWMNsites_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character Vector of feature IDs formatted with agency code and site number
separated by a period or semicolon, e.g. <code>USGS.404159100494601</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame the following columns:
#' </p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
site </td><td style="text-align: left;"> char </td><td style="text-align: left;"> Site FID </td>
</tr>
<tr>
 <td style="text-align: left;">
description </td><td style="text-align: left;"> char </td><td style="text-align: left;"> Site description </td>
</tr>
<tr>
 <td style="text-align: left;">
dec_lat_va, dec_lon_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Site latitude and longitude </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>

# one site
site &lt;- "USGS.430427089284901"
#oneSite &lt;- readNGWMNsites(siteNumbers = site)

# non-USGS site
site &lt;- "MBMG.103306"
#siteInfo &lt;- readNGWMNsites(siteNumbers = site)


</code></pre>

<hr>
<h2 id='readNWISdata'>General Data Import from NWIS</h2><span id='topic+readNWISdata'></span>

<h3>Description</h3>

<p>Returns data from the NWIS web service.
Arguments to the function should be based on <a href="https://waterservices.usgs.gov">https://waterservices.usgs.gov</a> service calls.
See examples below for ideas of constructing queries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISdata(..., asDateTime = TRUE, convertType = TRUE, tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISdata_+3A_...">...</code></td>
<td>
<p>see <a href="https://waterservices.usgs.gov/docs/site-service/">https://waterservices.usgs.gov/docs/site-service/</a> for
a complete list of options.  A
list of arguments can also be supplied. One important argument to include is
&quot;service&quot;. Possible values are &quot;iv&quot;
(for instantaneous), 
&quot;dv&quot; (for daily values), &quot;gwlevels&quot; (for groundwater levels),
&quot;site&quot; (for site service), &quot;measurement&quot;, and &quot;stat&quot; (for
statistics service). Note: &quot;measurement&quot; calls go to:
<a href="https://nwis.waterdata.usgs.gov/usa/nwis">https://nwis.waterdata.usgs.gov/usa/nwis</a> for data requests, and use different call requests schemes.
The statistics service has a limited selection of arguments
(see <a href="https://waterservices.usgs.gov/docs/site-service/">https://waterservices.usgs.gov/docs/site-service/</a>).</p>
</td></tr>
<tr><td><code id="readNWISdata_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical, if <code>TRUE</code> returns date and time as POSIXct, if <code>FALSE</code>, Date</p>
</td></tr>
<tr><td><code id="readNWISdata_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the
function will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td></tr>
<tr><td><code id="readNWISdata_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the data's provided tz_cd column.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;. See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function requires users to create their own arguments
based on the NWIS web services. It is a more complicated function to use
compared to other NWIS functions such as <code><a href="#topic+readNWISdv">readNWISdv</a></code>, <code><a href="#topic+readNWISuv">readNWISuv</a></code>,
<code><a href="#topic+readNWISgwl">readNWISgwl</a></code>, etc. However, this function adds a lot of
flexibility to the possible queries. This function will also behave exactly 
as NWIS when it comes to date queries. NWIS by default will only return the latest
value for the daily and instantaneous services. So if you do not provide
a starting date, you will only get back the latest value. If you want
the full period of record, you can use &quot;startDate = '1900-01-01'&quot;. Other options
for dates are periods, such as &quot;period = 'P7D'&quot; which translates to a period
of 7 days. For period, use only a positive ISO-8601 duration format, which should
not be expressed in periods of less than a day, or in increments of months M or years Y. 
period returns data for a site generally from now to a time in the past. 
Note that when period is used all data up to the most recent value are returned.
</p>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
dateTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The date and time (if applicable) of the measurement,
          converted to UTC for unit value data. R only allows one time zone attribute per column. For unit data
          spanning a time zone change, converting the data to UTC solves this problem. For daily data,
          the time zone attribute is the time zone of the first returned measurement.
           </td>
</tr>
<tr>
 <td style="text-align: left;">
tz_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The time zone code for dateTime column</td>
</tr>
<tr>
 <td style="text-align: left;">
code </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Any codes that qualify the corresponding value</td>
</tr>
<tr>
 <td style="text-align: left;">
value </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The numeric value for the parameter </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note that code and value are repeated for the parameters requested. The names are of the form
X_D_P_S, where X is literal,
D is an option description of the parameter,
P is the parameter code,
and S is the statistic code (if applicable).
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
variableInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested parameters </td>
</tr>
<tr>
 <td style="text-align: left;">
statisticInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested statistics on the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+renameNWISColumns">renameNWISColumns</a></code>,  <code><a href="#topic+importWaterML1">importWaterML1</a></code>, <code><a href="#topic+importRDB1">importRDB1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Examples not run for time considerations

dataTemp &lt;- readNWISdata(stateCd = "OH", parameterCd = "00010", service = "dv")
instFlow &lt;- readNWISdata(
  sites = "05114000", service = "iv",
  parameterCd = "00060",
  startDate = "2014-05-01T00:00Z", endDate = "2014-05-01T12:00Z"
)

instFlowCDT &lt;- readNWISdata(
  sites = "05114000", service = "iv",
  parameterCd = "00060",
  startDate = "2014-05-01T00:00", endDate = "2014-05-01T12:00",
  tz = "America/Chicago"
)

# Empty:
multiSite &lt;- readNWISdata(
  sites = c("04025000", "04072150"), service = "iv",
  parameterCd = "00010"
)
# Not empty:
multiSite &lt;- readNWISdata(
  sites = c("04025500", "040263491"),
  service = "iv", parameterCd = "00060"
)
bBoxEx &lt;- readNWISdata(bBox = c(-83, 36.5, -81, 38.5), parameterCd = "00010")

startDate &lt;- as.Date("2013-10-01")
endDate &lt;- as.Date("2014-09-30")
waterYear &lt;- readNWISdata(
  bBox = c(-83, 36.5, -82.5, 36.75),
  parameterCd = "00010",
  service = "dv",
  startDate = startDate,
  endDate = endDate
)

siteInfo &lt;- readNWISdata(
  stateCd = "WI", parameterCd = "00010",
  hasDataTypeCd = "iv", service = "site"
)
temp &lt;- readNWISdata(
  bBox = c(-83, 36.5, -82.5, 36.75), parameterCd = "00010", service = "site",
  seriesCatalogOutput = TRUE
)
wiGWL &lt;- readNWISdata(stateCd = "WI", service = "gwlevels")
meas &lt;- readNWISdata(
  state_cd = "WI", service = "measurements",
  format = "rdb_expanded"
)

waterYearStat &lt;- readNWISdata(
  site = c("01646500"),
  service = "stat",
  statReportType = "annual",
  statYearType = "water",
  missingData = "on"
)
monthlyStat &lt;- readNWISdata(
  site = c("01646500"),
  service = "stat",
  statReportType = "monthly"
)

dailyStat &lt;- readNWISdata(
  site = c("01646500"),
  service = "stat",
  statReportType = "daily",
  statType = c("p25", "p50", "p75", "min", "max"),
  parameterCd = "00060"
)

arg.list &lt;- list(
  site = "03111548",
  statReportType = "daily",
  statType = c("p25", "p50", "p75", "min", "max"),
  parameterCd = "00060"
)
allDailyStats_2 &lt;- readNWISdata(arg.list, service = "stat")

# use county names to get data
dailyStaffordVA &lt;- readNWISdata(
  stateCd = "Virginia",
  countyCd = "Stafford",
  parameterCd = "00060",
  startDate = "2015-01-01",
  endDate = "2015-01-30"
)
va_counties &lt;- c("51001", "51003", "51005", "51007", "51009", "51011", "51013", "51015")
va_counties_data &lt;- readNWISdata(
  startDate = "2015-01-01", endDate = "2015-12-31",
  parameterCd = "00060", countycode = va_counties
)

site_id &lt;- "01594440"
rating_curve &lt;- readNWISdata(service = "rating", site_no = site_id, file_type = "base")
all_sites_base &lt;- readNWISdata(service = "rating", file_type = "base")
all_sites_core &lt;- readNWISdata(service = "rating", file_type = "corr")
all_sites_exsa &lt;- readNWISdata(service = "rating", file_type = "exsa")
all_sites_24hrs &lt;- readNWISdata(service = "rating", file_type = "exsa", period = 24)

peak_data &lt;- readNWISdata(
  service = "peak",
  site_no = c("01594440", "040851325"),
  range_selection = "data_range"
)

peak_data &lt;- readNWISdata(
  service = "peak",
  state_cd = "PA"
)

peak_data &lt;- readNWISdata(
  service = "peak",
  huc2_cd = "20"
)


</code></pre>

<hr>
<h2 id='readNWISdots'>Format and organize NWIS arguments that are passed in as <code>...</code>.</h2><span id='topic+readNWISdots'></span>

<h3>Description</h3>

<p>Format and organize NWIS arguments that are passed in as <code>...</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISdots(...)
</code></pre>

<hr>
<h2 id='readNWISdv'>Daily Value USGS NWIS Data Retrieval</h2><span id='topic+readNWISdv'></span>

<h3>Description</h3>

<p>Imports data from NWIS web service. This function gets the data from here: <a href="https://waterservices.usgs.gov/">https://waterservices.usgs.gov/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISdv(
  siteNumbers,
  parameterCd,
  startDate = "",
  endDate = "",
  statCd = "00003"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISdv_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character USGS site number.  This is usually an 8 digit number.
Multiple sites can be requested with a character vector.</p>
</td></tr>
<tr><td><code id="readNWISdv_+3A_parametercd">parameterCd</code></td>
<td>
<p>character of USGS parameter code(s).  This is usually an 5 digit number.</p>
</td></tr>
<tr><td><code id="readNWISdv_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD.
Default is &quot;&quot; which indicates
retrieval for the earliest possible record. Date arguments are always specified in local time.</p>
</td></tr>
<tr><td><code id="readNWISdv_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the latest possible record. Date arguments are always specified in local time.</p>
</td></tr>
<tr><td><code id="readNWISdv_+3A_statcd">statCd</code></td>
<td>
<p>character USGS statistic code. This is usually 5 digits.  Daily mean (00003) is the default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
Date </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> The date of the value </td>
</tr>
<tr>
 <td style="text-align: left;">
code </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Any codes that qualify the corresponding value</td>
</tr>
<tr>
 <td style="text-align: left;">
value </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The numeric value for the parameter </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note that code and value are repeated for the parameters requested. The names are of the form
X_D_P_S, where X is literal,
D is an option description of the parameter,
P is the parameter code,
and S is the statistic code (if applicable).
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
variableInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested parameters </td>
</tr>
<tr>
 <td style="text-align: left;">
statisticInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested statistics on the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+renameNWISColumns">renameNWISColumns</a></code>, <code><a href="#topic+importWaterML1">importWaterML1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
site_id &lt;- "04085427"
startDate &lt;- "2012-01-01"
endDate &lt;- "2012-06-30"
pCode &lt;- "00060"

rawDailyQ &lt;- readNWISdv(site_id, pCode, startDate, endDate)
rawDailyQAndTempMeanMax &lt;- readNWISdv(site_id, c("00010", "00060"),
  startDate, endDate,
  statCd = c("00001", "00003")
)
rawDailyQAndTempMeanMax &lt;- renameNWISColumns(rawDailyQAndTempMeanMax)
rawDailyMultiSites &lt;- readNWISdv(c("01491000", "01645000"), c("00010", "00060"),
  startDate, endDate,
  statCd = c("00001", "00003")
)
# Site with no data:
x &lt;- readNWISdv("10258500", "00060", "2014-09-08", "2014-09-14")
names(attributes(x))
attr(x, "siteInfo")
attr(x, "variableInfo")

site &lt;- "05212700"
notActive &lt;- readNWISdv(site, "00060", "2014-01-01", "2014-01-07")


</code></pre>

<hr>
<h2 id='readNWISgwl'>Groundwater level measurements retrieval from USGS (NWIS)</h2><span id='topic+readNWISgwl'></span>

<h3>Description</h3>

<p>Reads groundwater level measurements from NWISweb. Mixed date/times come back from the service
depending on the year that the data was collected. See <a href="https://waterdata.usgs.gov/usa/nwis/gw">https://waterdata.usgs.gov/usa/nwis/gw</a>
for details about groundwater. By default the returned dates are converted to date objects, unless convertType
is specified as FALSE. Sites with non-standard date formats (i.e. lacking a day) can be affected (see examples).
See <a href="https://waterservices.usgs.gov/docs/groundwater-levels/">https://waterservices.usgs.gov/docs/groundwater-levels/</a> for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISgwl(
  siteNumbers,
  startDate = "",
  endDate = "",
  parameterCd = NA,
  convertType = TRUE,
  tz = "UTC"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISgwl_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character USGS site number (or multiple sites).  This is usually an 8 digit number</p>
</td></tr>
<tr><td><code id="readNWISgwl_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the earliest possible record.</p>
</td></tr>
<tr><td><code id="readNWISgwl_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the latest possible record.</p>
</td></tr>
<tr><td><code id="readNWISgwl_+3A_parametercd">parameterCd</code></td>
<td>
<p>character USGS parameter code.  This is usually an 5 digit number. Default is &quot;&quot;.</p>
</td></tr>
<tr><td><code id="readNWISgwl_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the
function will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td></tr>
<tr><td><code id="readNWISgwl_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the data's provided tz_cd column.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;. See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
site_tp_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Site type code </td>
</tr>
<tr>
 <td style="text-align: left;">
lev_dt </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> Date level measured</td>
</tr>
<tr>
 <td style="text-align: left;">
lev_tm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Time level measured </td>
</tr>
<tr>
 <td style="text-align: left;">
lev_tz_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Time datum </td>
</tr>
<tr>
 <td style="text-align: left;">
lev_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Water level value in feet below land surface</td>
</tr>
<tr>
 <td style="text-align: left;">
sl_lev_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Water level value in feet above specific vertical datum </td>
</tr>
<tr>
 <td style="text-align: left;">
lev_status_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The status of the site at the time the water level was measured </td>
</tr>
<tr>
 <td style="text-align: left;">
lev_agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The agency code of the person measuring the water level </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+constructNWISURL">constructNWISURL</a></code>, <code><a href="#topic+importRDB1">importRDB1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
site_id &lt;- "434400121275801"

data &lt;- readNWISgwl(site_id)
sites &lt;- c("434400121275801", "375907091432201")
data2 &lt;- readNWISgwl(site_id, "", "")
data3 &lt;- readNWISgwl("420125073193001", "", "")
# handling of data where date has no day
data4 &lt;- readNWISgwl("425957088141001", startDate = "1980-01-01")

data5 &lt;- readNWISgwl("263819081585801", parameterCd = "72019")


</code></pre>

<hr>
<h2 id='readNWISmeas'>Surface-water measurement data retrieval from USGS (NWIS)</h2><span id='topic+readNWISmeas'></span>

<h3>Description</h3>

<p>Reads surface-water measurement data from NWISweb. Data is retrieved from <a href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>.
See <a href="https://waterdata.usgs.gov/usa/nwis/sw">https://waterdata.usgs.gov/usa/nwis/sw</a> for details about surface water.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISmeas(
  siteNumbers,
  startDate = "",
  endDate = "",
  tz = "UTC",
  expanded = FALSE,
  convertType = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISmeas_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character USGS site number (or multiple sites).  This is usually an 8 digit number</p>
</td></tr>
<tr><td><code id="readNWISmeas_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the earliest possible record.</p>
</td></tr>
<tr><td><code id="readNWISmeas_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the latest possible record.</p>
</td></tr>
<tr><td><code id="readNWISmeas_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the data's provided tz_cd column.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;. See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
<tr><td><code id="readNWISmeas_+3A_expanded">expanded</code></td>
<td>
<p>logical. Whether or not (TRUE or FALSE) to call the expanded data.</p>
</td></tr>
<tr><td><code id="readNWISmeas_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function will
convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with at least the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
measurement_dt </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The date and time (in POSIXct) of the measurement. Unless specified
with the tz parameter, this is converted to UTC. If the measurement_dt column is
an incomplete, a measurement_dt_date and
measurement_dt_time column are added to the returned data frame.   </td>
</tr>
<tr>
 <td style="text-align: left;">
tz_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The time zone code for the measurement_dt column </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>See <a href="https://waterdata.usgs.gov/usa/nwis/sw">https://waterdata.usgs.gov/usa/nwis/sw</a> for details about surface water, and
<a href="https://waterdata.usgs.gov/nwis/help?output_formats_help">https://waterdata.usgs.gov/nwis/help?output_formats_help</a>
for help on the columns and codes.
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
tz_cd_reported </td><td style="text-align: left;"> The originally reported time zone </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+constructNWISURL">constructNWISURL</a></code>, <code><a href="#topic+importRDB1">importRDB1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
site_ids &lt;- c("01594440", "040851325")

data &lt;- readNWISmeas(site_ids)
Meas05316840 &lt;- readNWISmeas("05316840")
Meas05316840.ex &lt;- readNWISmeas("05316840", expanded = TRUE)
Meas07227500.ex &lt;- readNWISmeas("07227500", expanded = TRUE)
Meas07227500.exRaw &lt;- readNWISmeas("07227500", expanded = TRUE, convertType = FALSE)


</code></pre>

<hr>
<h2 id='readNWISpCode'>USGS Parameter Data Retrieval</h2><span id='topic+readNWISpCode'></span>

<h3>Description</h3>

<p>Imports data from NWIS about meaured parameter based on user-supplied parameter code or codes.
This function gets the data from here: <a href="https://nwis.waterdata.usgs.gov/nwis/pmcodes">https://nwis.waterdata.usgs.gov/nwis/pmcodes</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISpCode(parameterCd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISpCode_+3A_parametercd">parameterCd</code></td>
<td>
<p>character of USGS parameter codes (or multiple parameter codes).  These are 5 digit number codes,
more information can be found here: <a href="https://help.waterdata.usgs.gov/">https://help.waterdata.usgs.gov/</a>. To get a
complete list of all current parameter codes in the USGS, use &quot;all&quot; as the input.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>parameterData data frame with the following information:
</p>

<table>
<tr>
 <td style="text-align: left;">
  Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description</td>
</tr>
<tr>
 <td style="text-align: left;">
  parameter_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> 5-digit USGS parameter code </td>
</tr>
<tr>
 <td style="text-align: left;">
  parameter_group_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> USGS parameter group name</td>
</tr>
<tr>
 <td style="text-align: left;">
  parameter_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> USGS parameter name</td>
</tr>
<tr>
 <td style="text-align: left;">
  casrn </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Chemical Abstracts Service (CAS) Registry Number</td>
</tr>
<tr>
 <td style="text-align: left;">
  srsname </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Substance Registry Services Name</td>
</tr>
<tr>
 <td style="text-align: left;">
  parameter_units </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter units</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+importRDB1">importRDB1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
paramINFO &lt;- readNWISpCode(c("01075", "00060", "00931"))
paramINFO &lt;- readNWISpCode(c("01075", "00060", "00931", NA))

all_codes &lt;- readNWISpCode("all")

one_extra &lt;- readNWISpCode(c("01075", "12345"))


</code></pre>

<hr>
<h2 id='readNWISpeak'>Peak flow data from USGS (NWIS)</h2><span id='topic+readNWISpeak'></span>

<h3>Description</h3>

<p>Reads peak flow from NWISweb. Data is retrieved from
<a href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>.
In some cases, the specific date of the peak data is not know. This function
will default to
converting complete dates to a &quot;Date&quot; object, and converting incomplete dates to
&quot;NA&quot;. If those incomplete dates are
needed, set the 'asDateTime' argument to FALSE. No dates will be converted to
R Date objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISpeak(
  siteNumbers,
  startDate = "",
  endDate = "",
  asDateTime = TRUE,
  convertType = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISpeak_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character USGS site number(or multiple sites).  This is usually
an 8 digit number.</p>
</td></tr>
<tr><td><code id="readNWISpeak_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD.
Default is &quot;&quot; which indicates
retrieval for the earliest possible record.</p>
</td></tr>
<tr><td><code id="readNWISpeak_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD.
Default is &quot;&quot; which indicates
retrieval for the latest possible record.</p>
</td></tr>
<tr><td><code id="readNWISpeak_+3A_asdatetime">asDateTime</code></td>
<td>
<p>logical default to <code>TRUE</code>. When <code>TRUE</code>, the peak_dt column is converted
to a Date object, and incomplete dates are removed. When <code>FALSE</code>, no
columns are removed, but no dates are converted.</p>
</td></tr>
<tr><td><code id="readNWISpeak_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
peak_dt </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> Date of peak streamflow </td>
</tr>
<tr>
 <td style="text-align: left;">
peak_tm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Time of peak streamflow as character </td>
</tr>
<tr>
 <td style="text-align: left;">
peak_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Annual peak streamflow value in cfs </td>
</tr>
<tr>
 <td style="text-align: left;">
peak_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Peak Discharge-Qualification codes (see <code>comment</code>
for more information) </td>
</tr>
<tr>
 <td style="text-align: left;">
gage_ht </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Gage height for the associated peak streamflow in feet </td>
</tr>
<tr>
 <td style="text-align: left;">
gage_ht_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Gage height qualification codes </td>
</tr>
<tr>
 <td style="text-align: left;">
year_last_pk </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Peak streamflow reported is the highest since this year </td>
</tr>
<tr>
 <td style="text-align: left;">
ag_dt </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> Date of maximum gage-height for water year
(if not concurrent with peak) </td>
</tr>
<tr>
 <td style="text-align: left;">
ag_tm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Time of maximum gage-height for water year
(if not concurrent with peak) </td>
</tr>
<tr>
 <td style="text-align: left;">
ag_gage_ht </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> maximum Gage height for water year in feet
(if not concurrent with peak) </td>
</tr>
<tr>
 <td style="text-align: left;">
ag_gage_ht_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> maximum Gage height code </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+constructNWISURL">constructNWISURL</a></code>, <code><a href="#topic+importRDB1">importRDB1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
site_ids &lt;- c("01594440", "040851325")

data &lt;- readNWISpeak(site_ids)
data2 &lt;- readNWISpeak(site_ids, asDateTime = FALSE)
stations &lt;- c("06011000")
peakdata &lt;- readNWISpeak(stations, convertType = FALSE)


</code></pre>

<hr>
<h2 id='readNWISqw'>Raw Data Import for USGS NWIS QW Data</h2><span id='topic+readNWISqw'></span>

<h3>Description</h3>

<p>Imports data from NWIS web service. This function gets the data from here:
<a href="https://nwis.waterdata.usgs.gov/nwis/qwdata">https://nwis.waterdata.usgs.gov/nwis/qwdata</a>
A list of parameter codes can be found here:
<a href="https://nwis.waterdata.usgs.gov/nwis/pmcodes/">https://nwis.waterdata.usgs.gov/nwis/pmcodes/</a>
A list of statistic codes can be found here:
<a href="https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table">https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISqw(
  siteNumbers,
  parameterCd,
  startDate = "",
  endDate = "",
  expanded = TRUE,
  reshape = FALSE,
  tz = "UTC"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISqw_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character of USGS site numbers.  This is usually an 8 digit number</p>
</td></tr>
<tr><td><code id="readNWISqw_+3A_parametercd">parameterCd</code></td>
<td>
<p>character that contains the code for a parameter
group, or a character vector of 5-digit parameter codes. See <b>Details</b>.</p>
</td></tr>
<tr><td><code id="readNWISqw_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD.
Default is &quot;&quot; which indicates
retrieval for the earliest possible record. Date arguments are always specified in local time.</p>
</td></tr>
<tr><td><code id="readNWISqw_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD.
Default is &quot;&quot; which indicates
retrieval for the latest possible record. Date arguments are always specified in local time.</p>
</td></tr>
<tr><td><code id="readNWISqw_+3A_expanded">expanded</code></td>
<td>
<p>logical defaults to <code>TRUE</code>. If <code>TRUE</code>, retrieves
additional information. Expanded data includes
remark_cd (remark code), result_va (result value), val_qual_tx
(result value qualifier code), meth_cd (method code),
dqi_cd (data-quality indicator code), rpt_lev_va (reporting level), and
rpt_lev_cd (reporting level type). If <code>FALSE</code>,
only returns remark_cd (remark code) and result_va (result value).
Expanded = <code>FALSE</code> will not give
sufficient information for unbiased statistical analysis.</p>
</td></tr>
<tr><td><code id="readNWISqw_+3A_reshape">reshape</code></td>
<td>
<p>logical, reshape the expanded data. If <code>TRUE</code>, then return
a wide data frame with all water-quality in a single row for each sample.
If <code>FALSE</code> (default), then return a long data frame with each water-quality result in a single row. This
argument is only applicable to expanded data. Data requested using <code>expanded=FALSE</code>
is always returned in the wide format.</p>
</td></tr>
<tr><td><code id="readNWISqw_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the
data's provided tz_cd column.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;,
&quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;, &quot;America/Anchorage&quot;, as well as the
following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;.
See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Valid parameter code groups are &quot;All&quot; or group codes:
</p>

<table>
<tr>
 <td style="text-align: left;">
Code </td><td style="text-align: left;"> Description</td>
</tr>
<tr>
 <td style="text-align: left;">
INF </td><td style="text-align: left;"> Information </td>
</tr>
<tr>
 <td style="text-align: left;">
PHY </td><td style="text-align: left;"> Physical </td>
</tr>
<tr>
 <td style="text-align: left;">
INM </td><td style="text-align: left;"> Inorganics, Major, Metals </td>
</tr>
<tr>
 <td style="text-align: left;">
INN </td><td style="text-align: left;"> Inorganics, Major, Non-metals </td>
</tr>
<tr>
 <td style="text-align: left;">
NUT </td><td style="text-align: left;"> Nutrient </td>
</tr>
<tr>
 <td style="text-align: left;">
MBI </td><td style="text-align: left;"> Microbiological </td>
</tr>
<tr>
 <td style="text-align: left;">
BIO </td><td style="text-align: left;"> Biological </td>
</tr>
<tr>
 <td style="text-align: left;">
IMN </td><td style="text-align: left;"> Inorganics, Minor, Non-metals </td>
</tr>
<tr>
 <td style="text-align: left;">
IMM </td><td style="text-align: left;"> Inorganics, Minor, Metals </td>
</tr>
<tr>
 <td style="text-align: left;">
TOX </td><td style="text-align: left;"> Toxicity </td>
</tr>
<tr>
 <td style="text-align: left;">
OPE </td><td style="text-align: left;"> Organics, pesticide </td>
</tr>
<tr>
 <td style="text-align: left;">
OPC </td><td style="text-align: left;"> Organics, PCBs </td>
</tr>
<tr>
 <td style="text-align: left;">
OOT </td><td style="text-align: left;"> Organics, other </td>
</tr>
<tr>
 <td style="text-align: left;">
RAD </td><td style="text-align: left;"> Radiochemistry </td>
</tr>
<tr>
 <td style="text-align: left;">
SED </td><td style="text-align: left;"> Sediment </td>
</tr>
<tr>
 <td style="text-align: left;">
POP </td><td style="text-align: left;"> Population/community </td>
</tr>
<tr>
 <td style="text-align: left;">
OTH </td><td style="text-align: left;">  Other </td>
</tr>
<tr>
 <td style="text-align: left;">
HAB </td><td style="text-align: left;">  Habitat </td>
</tr>
<tr>
 <td style="text-align: left;">
ISO </td><td style="text-align: left;">  Stable Isotopes </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>If more than one parameter group is requested, only sites that data for all requested groups are returned.
</p>


<h3>Value</h3>

<p>A data frame with at least the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
sample_dt </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> The date the sample was collected </td>
</tr>
<tr>
 <td style="text-align: left;">
sample_tm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The reported sample collection time </td>
</tr>
<tr>
 <td style="text-align: left;">
startDateTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> Combining sample_dt and sample_tm, a date/time
column is created, and converted into UTC
(unless the tz argument specifies a different time zone)</td>
</tr>
<tr>
 <td style="text-align: left;">
endDateTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> If any sample_end_dt and sample_end_dt exist,
this column is created similar to startDateTime</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Further columns will be included depending on the requested output format
(expanded = TRUE or FALSE).
Columns that end in &quot;_reported&quot; are the originally reported timezones,
but the &quot;tz_cd&quot; column defines the timezone of any POSIXct columns.
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
variableInfo </td><td style="text-align: left;"> data frame </td><td style="text-align: left;"> A data frame containing information on the
requested parameters </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+readWQPdata">readWQPdata</a></code>, <code><a href="#topic+whatWQPsites">whatWQPsites</a></code>,
<code><a href="#topic+readWQPqw">readWQPqw</a></code>, <code><a href="#topic+constructNWISURL">constructNWISURL</a></code>
</p>

<hr>
<h2 id='readNWISrating'>Rating table for an active USGS streamgage retrieval</h2><span id='topic+readNWISrating'></span>

<h3>Description</h3>

<p>Reads current rating table for an active USGS streamgage from NWISweb.
Data is retrieved from <a href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISrating(siteNumber, type = "base", convertType = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISrating_+3A_sitenumber">siteNumber</code></td>
<td>
<p>character USGS site number.  This is usually an 8 digit number</p>
</td></tr>
<tr><td><code id="readNWISrating_+3A_type">type</code></td>
<td>
<p>character can be &quot;base&quot;, &quot;corr&quot;, or &quot;exsa&quot;</p>
</td></tr>
<tr><td><code id="readNWISrating_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. If <code>type</code> is &quot;base, &quot; then the columns are
INDEP, typically the gage height, in feet; DEP, typically the streamflow,
in cubic feet per second; and STOR, where &quot;*&quot; indicates that the pair are
a fixed point of the rating curve. If <code>type</code> is &quot;exsa, &quot; then an
additional column, SHIFT, is included that indicates the current shift in
the rating for that value of INDEP. If <code>type</code> is &quot;corr, &quot; then the
columns are INDEP, typically the gage height, in feet; CORR, the correction
for that value; and CORRINDEP, the corrected value for CORR.<br />
If <code>type</code> is &quot;base, &quot; then the data frame has an attribute called &quot;RATING&quot;
that describes the rating curve is included.
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
RATING </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Rating information </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Note</h3>

<p>Not all active USGS streamgages have traditional rating curves that
relate flow to stage.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+constructNWISURL">constructNWISURL</a></code>, <code><a href="#topic+importRDB1">importRDB1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
site_id &lt;- "01594440"

data &lt;- readNWISrating(site_id, "base")
attr(data, "RATING")


</code></pre>

<hr>
<h2 id='readNWISsite'>USGS Site File Data Retrieval</h2><span id='topic+readNWISsite'></span>

<h3>Description</h3>

<p>Imports data from USGS site file site. This function gets data from here: <a href="https://waterservices.usgs.gov/">https://waterservices.usgs.gov/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISsite(siteNumbers)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISsite_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character USGS site number (or multiple sites).  This is usually an 8 digit number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with at least the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
 station_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Site name </td>
</tr>
<tr>
 <td style="text-align: left;">
 site_tp_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Site type </td>
</tr>
<tr>
 <td style="text-align: left;">
 lat_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> DMS latitude </td>
</tr>
<tr>
 <td style="text-align: left;">
 long_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> DMS longitude </td>
</tr>
<tr>
 <td style="text-align: left;">
 dec_lat_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Decimal latitude </td>
</tr>
<tr>
 <td style="text-align: left;">
 dec_long_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Decimal longitude </td>
</tr>
<tr>
 <td style="text-align: left;">
 coord_meth_cd  </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Latitude-longitude method </td>
</tr>
<tr>
 <td style="text-align: left;">
 coord_acy_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Latitude-longitude accuracy </td>
</tr>
<tr>
 <td style="text-align: left;">
 coord_datum_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Latitude-longitude datum </td>
</tr>
<tr>
 <td style="text-align: left;">
 dec_coord_datum_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Decimal Latitude-longitude datum </td>
</tr>
<tr>
 <td style="text-align: left;">
 district_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> District code </td>
</tr>
<tr>
 <td style="text-align: left;">
 state_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> State code </td>
</tr>
<tr>
 <td style="text-align: left;">
 county_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> County code </td>
</tr>
<tr>
 <td style="text-align: left;">
 country_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Country code </td>
</tr>
<tr>
 <td style="text-align: left;">
 land_net_ds </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Land net location description </td>
</tr>
<tr>
 <td style="text-align: left;">
 map_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Name of location map </td>
</tr>
<tr>
 <td style="text-align: left;">
 map_scale_fc </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Scale of location map </td>
</tr>
<tr>
 <td style="text-align: left;">
 alt_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Altitude of Gage/land surface </td>
</tr>
<tr>
 <td style="text-align: left;">
 alt_meth_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Method altitude determined </td>
</tr>
<tr>
 <td style="text-align: left;">
 alt_acy_va  </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Altitude accuracy </td>
</tr>
<tr>
 <td style="text-align: left;">
 alt_datum_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Altitude datum </td>
</tr>
<tr>
 <td style="text-align: left;">
 huc_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Hydrologic unit code </td>
</tr>
<tr>
 <td style="text-align: left;">
 basin_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Drainage basin code </td>
</tr>
<tr>
 <td style="text-align: left;">
 topo_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Topographic setting code </td>
</tr>
<tr>
 <td style="text-align: left;">
 instruments_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Flags for instruments at site </td>
</tr>
<tr>
 <td style="text-align: left;">
 construction_dt </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Date of first construction </td>
</tr>
<tr>
 <td style="text-align: left;">
 inventory_dt </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Date site established or inventoried </td>
</tr>
<tr>
 <td style="text-align: left;">
 drain_area_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Drainage area </td>
</tr>
<tr>
 <td style="text-align: left;">
 contrib_drain_area_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Contributing drainage area </td>
</tr>
<tr>
 <td style="text-align: left;">
 tz_cd  </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Time Zone abbreviation </td>
</tr>
<tr>
 <td style="text-align: left;">
 local_time_fg </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Site honors Daylight Savings Time </td>
</tr>
<tr>
 <td style="text-align: left;">
 reliability_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Data reliability code </td>
</tr>
<tr>
 <td style="text-align: left;">
 gw_file_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Data-other GW files </td>
</tr>
<tr>
 <td style="text-align: left;">
 nat_aqfr_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> National aquifer code </td>
</tr>
<tr>
 <td style="text-align: left;">
 aqfr_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Local aquifer code </td>
</tr>
<tr>
 <td style="text-align: left;">
 aqfr_type_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Local aquifer type code </td>
</tr>
<tr>
 <td style="text-align: left;">
 well_depth_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Well depth </td>
</tr>
<tr>
 <td style="text-align: left;">
 hole_depth_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Hole depth </td>
</tr>
<tr>
 <td style="text-align: left;">
 depth_src_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Source of depth data </td>
</tr>
<tr>
 <td style="text-align: left;">
 project_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Project number </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>


siteINFO &lt;- readNWISsite("05114000")
siteINFOMulti &lt;- readNWISsite(c("05114000", "09423350"))


</code></pre>

<hr>
<h2 id='readNWISstat'>Site statistics retrieval from USGS (NWIS)</h2><span id='topic+readNWISstat'></span>

<h3>Description</h3>

<p>Retrieves site statistics from the USGS Statistics Web Service beta.
See <a href="https://waterservices.usgs.gov/docs/statistics/">https://waterservices.usgs.gov/docs/statistics/</a> for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISstat(
  siteNumbers,
  parameterCd,
  startDate = "",
  endDate = "",
  convertType = TRUE,
  statReportType = "daily",
  statType = "mean"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISstat_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character USGS site number (or multiple sites).  This is usually an 8 digit number.</p>
</td></tr>
<tr><td><code id="readNWISstat_+3A_parametercd">parameterCd</code></td>
<td>
<p>character USGS parameter code.  This is usually a 5 digit number.</p>
</td></tr>
<tr><td><code id="readNWISstat_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY, YYYY-MM, or YYYY-MM-DD. Dates cannot
be more specific than the statReportType, i.e. startDate for monthly statReportTypes cannot include days, and annual
statReportTypes cannot include days or months.  Months and days are optional for the daily statReportType.
Default is &quot;&quot; which indicates retrieval for the earliest possible record.  For daily data, this indicates the
start of the period the statistics will be computed over.</p>
</td></tr>
<tr><td><code id="readNWISstat_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY, YYYY-MM, or YYYY-MM-DD. Default is &quot;&quot;
which indicates retrieval for the latest possible record.  For daily data, this
indicates the end of the period
the statistics will be computed over.  The same restrictions as startDate apply.</p>
</td></tr>
<tr><td><code id="readNWISstat_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function will convert the data to
numerics based on a standard algorithm. Years, months, and days (if appliccable) are also returned as numerics
in separate columns.  If convertType is false, everything is returned as a character.</p>
</td></tr>
<tr><td><code id="readNWISstat_+3A_statreporttype">statReportType</code></td>
<td>
<p>character time division for statistics: daily, monthly, or annual.  Default is daily.
Note that daily provides statistics for each calendar day over the specified range
of water years, i.e. no more than 366
data points will be returned for each site/parameter.  Use readNWISdata or readNWISdv for daily averages.
Also note that 'annual' returns statistics for the calendar year.  Use readNWISdata
for water years. Monthly and yearly
provide statistics for each month and year within the range indivually.</p>
</td></tr>
<tr><td><code id="readNWISstat_+3A_stattype">statType</code></td>
<td>
<p>character type(s) of statistics to output for daily values.
Default is mean, which is the only
option for monthly and yearly report types. See the statistics service documentation
at <a href="https://waterservices.usgs.gov/docs/statistics/">https://waterservices.usgs.gov/docs/statistics/</a> for a full list of codes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS parameter code </td>
</tr>
<tr>
 <td style="text-align: left;">

Other columns will be present depending on statReportType and statType
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+constructNWISURL">constructNWISURL</a></code>, <code><a href="#topic+importRDB1">importRDB1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

x1 &lt;- readNWISstat(
  siteNumbers = c("02319394"),
  parameterCd = c("00060"),
  statReportType = "annual"
)

# all the annual mean discharge data for two sites
x2 &lt;- readNWISstat(
  siteNumbers = c("02319394", "02171500"),
  parameterCd = c("00010", "00060"),
  statReportType = "annual"
)

# Request p25, p75, and mean values for temperature and discharge for the 2000s
# Note that p25 and p75 were not available for temperature, and return NAs
x &lt;- readNWISstat(
  siteNumbers = c("02171500"),
  parameterCd = c("00010", "00060"),
  statReportType = "daily",
  statType = c("mean", "median"),
  startDate = "2000", endDate = "2010"
)


</code></pre>

<hr>
<h2 id='readNWISuse'>Water use data retrieval from USGS (NWIS)</h2><span id='topic+readNWISuse'></span>

<h3>Description</h3>

<p>Retrieves water use data from USGS Water Use Data for the Nation.  See
<a href="https://waterdata.usgs.gov/nwis/wu">https://waterdata.usgs.gov/nwis/wu</a> for
more information.  All available use categories for the supplied arguments are retrieved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISuse(
  stateCd,
  countyCd,
  years = "ALL",
  categories = "ALL",
  convertType = TRUE,
  transform = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISuse_+3A_statecd">stateCd</code></td>
<td>
<p>could be character (full name, abbreviation, id), or numeric (id).
Only one is accepted per query.</p>
</td></tr>
<tr><td><code id="readNWISuse_+3A_countycd">countyCd</code></td>
<td>
<p>could be character (name, with or without &quot;County&quot;, or &quot;ALL&quot;),
numeric (id), or <code>NULL</code>, which will
return state or national data depending on the stateCd argument.  &quot;ALL&quot; may
also be supplied, which will return data
for every county in a state. Can be a vector of counties in the same state.</p>
</td></tr>
<tr><td><code id="readNWISuse_+3A_years">years</code></td>
<td>
<p>integer Years for data retrieval. Must be years ending in 0 or 5.
Default is all available years.</p>
</td></tr>
<tr><td><code id="readNWISuse_+3A_categories">categories</code></td>
<td>
<p>character categories of water use.  Defaults to &quot;ALL&quot;.
Specific categories must be supplied as two-
letter abbreviations as seen in the URL when using the NWIS water use web interface.  Note that
there are different codes for national and state level data.</p>
</td></tr>
<tr><td><code id="readNWISuse_+3A_converttype">convertType</code></td>
<td>
<p>logical defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to
numerics based on a standard algorithm. Years, months, and days (if appliccable) are
also returned as numerics
in separate columns.  If convertType is false, everything is returned as a character.</p>
</td></tr>
<tr><td><code id="readNWISuse_+3A_transform">transform</code></td>
<td>
<p>logical only intended for use with national data.  Defaults to
<code>FALSE</code>, with data being returned as
presented by the web service.  If <code>TRUE</code>, data will be transformed and
returned with column names, which will reformat
national data to be similar to state data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with at least the year of record, and all available
statistics for the given geographic parameters.
County and state fields will be included as appropriate.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# All data for a county
allegheny &lt;- readNWISuse(stateCd = "Pennsylvania", countyCd = "Allegheny")

# Data for an entire state for certain years
ohio &lt;- readNWISuse(years = c(2000, 2005, 2010), stateCd = "OH", countyCd = NULL)

# Data for an entire state, county by county
pr &lt;- readNWISuse(years = c(2000, 2005, 2010), stateCd = "PR", countyCd = "ALL")

# All national-scale data, transforming data frame to named columns from named rows
national &lt;- readNWISuse(stateCd = NULL, countyCd = NULL, transform = TRUE)

# Washington, DC data
dc &lt;- readNWISuse(stateCd = "DC", countyCd = NULL)

# data for multiple counties, with different input formatting
paData &lt;- readNWISuse(stateCd = "42", countyCd = c("Allegheny County", "BUTLER", 1, "031"))

# retrieving two specific categories for an entire state
ks &lt;- readNWISuse(stateCd = "KS", countyCd = NULL, categories = c("IT", "LI"))


</code></pre>

<hr>
<h2 id='readNWISuv'>Instantaneous value data retrieval from USGS (NWIS)</h2><span id='topic+readNWISuv'></span>

<h3>Description</h3>

<p>Imports data from NWIS web service. This function gets the data from here:
<a href="https://waterservices.usgs.gov/">https://waterservices.usgs.gov/</a>
A list of parameter codes can be found here:
<a href="https://nwis.waterdata.usgs.gov/nwis/pmcodes/">https://nwis.waterdata.usgs.gov/nwis/pmcodes/</a>
A list of statistic codes can be found here:
<a href="https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table">https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table</a>.
More information on the web service can be found here:
<a href="https://waterservices.usgs.gov/docs/instantaneous-values/">https://waterservices.usgs.gov/docs/instantaneous-values/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readNWISuv(siteNumbers, parameterCd, startDate = "", endDate = "", tz = "UTC")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readNWISuv_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character USGS site number (or multiple sites).  This is usually an 8 digit number</p>
</td></tr>
<tr><td><code id="readNWISuv_+3A_parametercd">parameterCd</code></td>
<td>
<p>character USGS parameter code.  This is usually an 5 digit number.</p>
</td></tr>
<tr><td><code id="readNWISuv_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the earliest possible record. Simple date arguments are specified in local time.
See more information here: <a href="https://waterservices.usgs.gov/docs/instantaneous-values/">https://waterservices.usgs.gov/docs/instantaneous-values/</a>.</p>
</td></tr>
<tr><td><code id="readNWISuv_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD. Default is &quot;&quot; which indicates
retrieval for the latest possible record. Simple date arguments are specified in local time.
See more information here: <a href="https://waterservices.usgs.gov/docs/instantaneous-values/">https://waterservices.usgs.gov/docs/instantaneous-values/</a>.</p>
</td></tr>
<tr><td><code id="readNWISuv_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the data's provided tz_cd column.
Possible values to provide are &quot;America/New_York&quot;, &quot;America/Chicago&quot;, &quot;America/Denver&quot;, &quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;, &quot;America/Managua&quot;, &quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;. See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
dateTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The date and time of the value converted to UTC </td>
</tr>
<tr>
 <td style="text-align: left;">
tz_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The time zone code for dateTime </td>
</tr>
<tr>
 <td style="text-align: left;">
code </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Any codes that qualify the corresponding value</td>
</tr>
<tr>
 <td style="text-align: left;">
value </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The numeric value for the parameter </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note that code and value are repeated for the parameters requested. The names are of the form:
X_D_P_S, where X is literal,
D is an option description of the parameter,
P is the parameter code,
and S is the statistic code (if applicable).
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
variableInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested parameters </td>
</tr>
<tr>
 <td style="text-align: left;">
statisticInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested statistics on the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+renameNWISColumns">renameNWISColumns</a></code>, <code><a href="#topic+importWaterML1">importWaterML1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
site_id &lt;- "05114000"
parameterCd &lt;- "00060"
startDate &lt;- "2014-10-10"
endDate &lt;- "2014-10-10"


rawData &lt;- readNWISuv(site_id, parameterCd, startDate, endDate)

rawData_today &lt;- readNWISuv(site_id, parameterCd, Sys.Date(), Sys.Date())

timeZoneChange &lt;- readNWISuv(
  c("04024430", "04024000"), parameterCd,
  "2013-11-03", "2013-11-03"
)

centralTime &lt;- readNWISuv(site_id, parameterCd,
  "2014-10-10T12:00", "2014-10-10T23:59",
  tz = "America/Chicago"
)

# Adding 'Z' to the time indicates to the web service to call the data with UTC time:
GMTdata &lt;- readNWISuv(
  site_id, parameterCd,
  "2014-10-10T00:00Z", "2014-10-10T23:59Z"
)


</code></pre>

<hr>
<h2 id='readWQPdata'>General Data Import from Water Quality Portal</h2><span id='topic+readWQPdata'></span>

<h3>Description</h3>

<p>Imports data from Water Quality Portal web service. This function gets the data from here:
<a href="https://www.waterqualitydata.us">https://www.waterqualitydata.us</a>.
because it allows for other agencies rather than the USGS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readWQPdata(
  ...,
  querySummary = FALSE,
  tz = "UTC",
  ignore_attributes = FALSE,
  convertType = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readWQPdata_+3A_...">...</code></td>
<td>
<p>see <a href="https://www.waterqualitydata.us/webservices_documentation">https://www.waterqualitydata.us/webservices_documentation</a> for a complete list of options.
A list of arguments can also be supplied. For more information see the above 
description for this help file. If no &quot;service&quot; argument is supplied, it
will default to &quot;Result&quot;. One way to figure out how to construct a WQP query is to go to the &quot;Advanced&quot; 
form in the Water Quality Portal:
<a href="https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET">https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET</a>
Use the form to discover what parameters are available. Once the query is 
set in the form, scroll down to the &quot;Query URL&quot;. You will see the parameters
after &quot;https://www.waterqualitydata.us/#&quot;. For example, if you chose &quot;Nutrient&quot;
in the Characteristic Group dropdown, you will see characteristicType=Nutrient
in the Query URL. The corresponding argument for dataRetrieval is
characteristicType = &quot;Nutrient&quot;. dataRetrieval users do not need to include
mimeType, zip, and providers is optional (these arguments are picked automatically).</p>
</td></tr>
<tr><td><code id="readWQPdata_+3A_querysummary">querySummary</code></td>
<td>
<p>logical to only return the number of records and unique sites that
will be returned from this query.</p>
</td></tr>
<tr><td><code id="readWQPdata_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the
data's provided tz_cd column.
Possible values to provide are &quot;America/New_York&quot;,&quot;America/Chicago&quot;,
&quot;America/Denver&quot;,&quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings
time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;,&quot;America/Managua&quot;,&quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;.
See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
<tr><td><code id="readWQPdata_+3A_ignore_attributes">ignore_attributes</code></td>
<td>
<p>logical to choose to ignore fetching site and parameter
attributes. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="readWQPdata_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses ... as a query input, which can be very flexible, but also 
has a steeper learning curve. For a quick overview, scroll down to the Examples
in this help file to see many query options. 
</p>
<p>There are currently 10 &quot;services&quot; provided by the Water Quality Portal:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Base URL </td>
</tr>
<tr>
 <td style="text-align: left;">
Result (default) </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/Result/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
Station </td><td style="text-align: left;">  "https://www.waterqualitydata.us/data/Station/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
Activity </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/Activity/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
ActivityMetric </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/ActivityMetric/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
SiteSummary </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/summary/monitoringLocation/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
Project </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/Project/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
ProjectMonitoringLocationWeighting </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/ProjectMonitoringLocationWeighting/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
ResultDetectionQuantitationLimit </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/ResultDetectionQuantitationLimit/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
BiologicalMetric </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/BiologicalMetric/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
Organization </td><td style="text-align: left;"> "https://www.waterqualitydata.us/data/Organization/search" </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>A data frame, the specific columns will depend on the &quot;service&quot; and/or &quot;dataProfile&quot;.
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
variableInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested parameters </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>

nameToUse &lt;- "pH"
pHData &lt;- readWQPdata(siteid = "USGS-04024315", characteristicName = nameToUse)
pHData_summary &lt;- readWQPdata(
  bBox = c(-90.10, 42.67, -88.64, 43.35),
  characteristicName = nameToUse, querySummary = TRUE
)
startDate &lt;- as.Date("2013-01-01")
secchi.names &lt;- c(
  "Depth, Secchi disk depth",
  "Depth, Secchi disk depth (choice list)",
  "Secchi Reading Condition (choice list)",
  "Water transparency, Secchi disc"
)
args &lt;- list(
  "startDateLo" = startDate,
  "startDateHi" = "2013-12-31",
  statecode = "WI",
  characteristicName = secchi.names
)

wqp.data &lt;- readWQPdata(args)

args_2 &lt;- list(
  "startDateLo" = startDate,
  "startDateHi" = "2013-12-31",
  statecode = "WI",
  characteristicName = secchi.names,
  querySummary = TRUE
)

wqp.summary &lt;- readWQPdata(args_2)

arg_3 &lt;- list(
  "startDateLo" = startDate,
  "startDateHi" = "2013-12-31"
)
arg_4 &lt;- list(
  statecode = "WI",
  characteristicName = secchi.names
)
wqp.summary &lt;- readWQPdata(arg_3, arg_4, querySummary = TRUE)
wqp.summary_WI &lt;- readWQPdata(arg_3,
  statecode = "WI",
  characteristicName = secchi.names,
  querySummary = TRUE
)

# querying by county
DeWitt &lt;- readWQPdata(
  statecode = "Illinois",
  countycode = "DeWitt",
  characteristicName = "Nitrogen"
)

# Data profiles: "Organization Data"
org_data &lt;- readWQPdata(
  statecode = "WI",
  countycode = "Dane",
  service = "Organization"
)

# Data profiles: "Site Data Only"
site_data &lt;- readWQPdata(
  statecode = "WI",
  countycode = "Dane",
  service = "Station"
)

# Data profiles: "Project Data"
project_data &lt;- readWQPdata(
  statecode = "WI",
  countycode = "Dane",
  service = "Project"
)

# Data profiles: "Project Monitoring Location Weighting Data"
proj_mlwd &lt;- readWQPdata(
  statecode = "WI",
  countycode = "Dane",
  service = "ProjectMonitoringLocationWeighting"
)

# Data profiles: "Sample Results (physical/chemical metadata)":
samp_data &lt;- readWQPdata(
  siteid = "USGS-04024315",
  dataProfile = "resultPhysChem"
)

# Data profiles: "Sample Results (biological metadata)"
samp_bio &lt;- readWQPdata(
  siteid = "USGS-04024315",
  dataProfile = "biological"
)

# Data profiles: "Sample Results (narrow)"
samp_narrow &lt;- readWQPdata(
  siteid = "USGS-04024315",
  dataProfile = "narrowResult"
)

# Data profiles: "Sampling Activity"
samp_activity &lt;- readWQPdata(
  siteid = "USGS-04024315",
  dataProfile = "activityAll"
)

# Data profile: "Sampling Activity Metrics"
act_metrics &lt;- readWQPdata(
  statecode = "WI",
  countycode = "Dane",
  service = "ActivityMetric"
)

# Data profile: "Result Detection Quantitation Limit Data"
dl_data &lt;- readWQPdata(
  siteid = "USGS-04024315",
  service = "ResultDetectionQuantitationLimit"
)

Phosphorus &lt;- readWQPdata(
  statecode = "WI", countycode = "Dane", 
  characteristicName = "Phosphorus",
  startDateLo = "2020-01-01",
  convertType = FALSE
)


</code></pre>

<hr>
<h2 id='readWQPdots'>Format and organize WQP arguments that are passed in as <code>...</code>.</h2><span id='topic+readWQPdots'></span>

<h3>Description</h3>

<p>Format and organize WQP arguments that are passed in as <code>...</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readWQPdots(...)
</code></pre>

<hr>
<h2 id='readWQPqw'>Raw Data Import for Water Quality Portal</h2><span id='topic+readWQPqw'></span>

<h3>Description</h3>

<p>Imports data from the Water Quality Portal.
This function gets the data from here: <a href="https://www.waterqualitydata.us">https://www.waterqualitydata.us</a>. There
are four required input arguments: siteNumbers, parameterCd, startDate, and endDate.
parameterCd can either be a USGS 5-digit code, or a characteristic name. The sites can be
either USGS, or other Water Quality Portal offered sites. It is required to use the 'full'
site name, such as 'USGS-01234567'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readWQPqw(
  siteNumbers,
  parameterCd,
  startDate = "",
  endDate = "",
  tz = "UTC",
  querySummary = FALSE,
  convertType = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readWQPqw_+3A_sitenumbers">siteNumbers</code></td>
<td>
<p>character site number. This needs to include the full agency code prefix.</p>
</td></tr>
<tr><td><code id="readWQPqw_+3A_parametercd">parameterCd</code></td>
<td>
<p>vector of USGS 5-digit parameter code or characteristicNames.
Leaving this blank will return all of the measured values during the specified time period.</p>
</td></tr>
<tr><td><code id="readWQPqw_+3A_startdate">startDate</code></td>
<td>
<p>character starting date for data retrieval in the form YYYY-MM-DD.
Default is &quot;&quot; which indicates
retrieval for the earliest possible record. Date arguments are always specified in local time.</p>
</td></tr>
<tr><td><code id="readWQPqw_+3A_enddate">endDate</code></td>
<td>
<p>character ending date for data retrieval in the form YYYY-MM-DD.
Default is &quot;&quot; which indicates
retrieval for the latest possible record. Date arguments are always specified in local time.</p>
</td></tr>
<tr><td><code id="readWQPqw_+3A_tz">tz</code></td>
<td>
<p>character to set timezone attribute of dateTime. Default is &quot;UTC&quot;, and converts the
date times to UTC, properly accounting for daylight savings times based on the
data provided tz_cd column.
Possible values to provide are &quot;America/New_York&quot;,&quot;America/Chicago&quot;,
&quot;America/Denver&quot;,&quot;America/Los_Angeles&quot;,
&quot;America/Anchorage&quot;, as well as the following which do not use daylight savings
time: &quot;America/Honolulu&quot;,
&quot;America/Jamaica&quot;,&quot;America/Managua&quot;,&quot;America/Phoenix&quot;, and &quot;America/Metlakatla&quot;.
See also  <code>OlsonNames()</code>
for more information on time zones.</p>
</td></tr>
<tr><td><code id="readWQPqw_+3A_querysummary">querySummary</code></td>
<td>
<p>logical to look at number of records and unique sites that
will be returned from this query.</p>
</td></tr>
<tr><td><code id="readWQPqw_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame derived from the default data profile.
</p>
<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
siteInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested sites </td>
</tr>
<tr>
 <td style="text-align: left;">
variableInfo </td><td style="text-align: left;"> data.frame </td><td style="text-align: left;"> A data frame containing information on the requested parameters </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+readWQPdata">readWQPdata</a></code>, <code><a href="#topic+whatWQPsites">whatWQPsites</a></code>,
<code><a href="#topic+readNWISqw">readNWISqw</a></code>, and <code><a href="#topic+importWQP">importWQP</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

rawPcode &lt;- readWQPqw("USGS-01594440", "01075", "", "")
rawCharacteristicName &lt;- readWQPqw("WIDNR_WQX-10032762", "Specific conductance", "", "")
rawPHsites &lt;- readWQPqw(c("USGS-05406450", "USGS-05427949", "WIDNR_WQX-133040"), "pH", "", "")
nwisEx &lt;- readWQPqw("USGS-04024000", c("34247", "30234", "32104", "34220"), "", "2012-12-20")
nwisEx.summary &lt;- readWQPqw("USGS-04024000", c("34247", "30234", "32104", "34220"),
  "", "2012-12-20",
  querySummary = TRUE
)

SC &lt;- readWQPqw(siteNumbers = "USGS-05288705", parameterCd = "00300", convertType = FALSE)


</code></pre>

<hr>
<h2 id='readWQPsummary'>Summary of Data Available from Water Quality Portal</h2><span id='topic+readWQPsummary'></span>

<h3>Description</h3>

<p>Returns a list of sites with year-by-year information on what data is available.
The function gets the data from: <a href="https://www.waterqualitydata.us">https://www.waterqualitydata.us</a>.
Arguments to the function should be based on
<a href="https://www.waterqualitydata.us/webservices_documentation">https://www.waterqualitydata.us/webservices_documentation</a>.
The information returned from this function describes the
available data at the WQP sites, and some metadata on the sites themselves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readWQPsummary(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readWQPsummary_+3A_...">...</code></td>
<td>
<p>see <a href="https://www.waterqualitydata.us/webservices_documentation">https://www.waterqualitydata.us/webservices_documentation</a>
for a complete list of options. A list of arguments can also be supplied.
One way to figure out how to construct a WQP query is to go to the &quot;Advanced&quot; 
form in the Water Quality Portal:
<a href="https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET">https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET</a>
Use the form to discover what parameters are available. Once the query is 
set in the form, scroll down to the &quot;Query URL&quot;. You will see the parameters
after &quot;https://www.waterqualitydata.us/#&quot;. For example, if you chose &quot;Nutrient&quot;
in the Characteristic Group dropdown, you will see characteristicType=Nutrient
in the Query URL. The corresponding argument for dataRetrieval is
characteristicType = &quot;Nutrient&quot;. dataRetrieval users do not need to include
mimeType, zip, and providers is optional (these arguments are picked automatically).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with at least the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
 "Provider" </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Providing database.  </td>
</tr>
<tr>
 <td style="text-align: left;">
 "MonitoringLocationIdentifier" </td><td style="text-align: left;"> character </td><td style="text-align: left;">	A designator used to
describe the unique name, number, or code assigned to identify
the monitoring location.</td>
</tr>
<tr>
 <td style="text-align: left;">
 "YearSummarized" </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The year of the summary </td>
</tr>
<tr>
 <td style="text-align: left;">
 "CharacteristicType" </td><td style="text-align: left;"> character </td><td style="text-align: left;"> CharacteristicType  </td>
</tr>
<tr>
 <td style="text-align: left;">
 "CharacteristicName" </td><td style="text-align: left;"> character </td><td style="text-align: left;">	The object, property, or substance
which is evaluated or enumerated by either a direct field measurement,
a direct field observation, or by laboratory analysis of material
collected in the field.</td>
</tr>
<tr>
 <td style="text-align: left;">
 "ActivityCount" </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The number of times the location was sampled </td>
</tr>
<tr>
 <td style="text-align: left;">
 "ResultCount" </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> The number of individual data results. </td>
</tr>
<tr>
 <td style="text-align: left;">
 "LastResultSubmittedDate" </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> Date when data was last submitted. </td>
</tr>
<tr>
 <td style="text-align: left;">
 "OrganizationIdentifier" </td><td style="text-align: left;"> character </td><td style="text-align: left;">  A designator used to uniquely
identify a unique business establishment within a context.</td>
</tr>
<tr>
 <td style="text-align: left;">
 "OrganizationFormalName" </td><td style="text-align: left;"> character </td><td style="text-align: left;">  The legal designator
(i.e. formal name) of an organization.</td>
</tr>
<tr>
 <td style="text-align: left;">
 "MonitoringLocationName </td><td style="text-align: left;"> character </td><td style="text-align: left;"> MonitoringLocationName </td>
</tr>
<tr>
 <td style="text-align: left;">
 "MonitoringLocationTypeName" </td><td style="text-align: left;"> character </td><td style="text-align: left;"> MonitoringLocationTypeName </td>
</tr>
<tr>
 <td style="text-align: left;">
 "ResolvedMonitoringLocationTypeName" </td><td style="text-align: left;"> character </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
 "HUCEightDigitCode" </td><td style="text-align: left;"> character </td><td style="text-align: left;"> 8-digit HUC id. </td>
</tr>
<tr>
 <td style="text-align: left;">
 "MonitoringLocationUrl" </td><td style="text-align: left;"> character </td><td style="text-align: left;"> URL to monitoring location. </td>
</tr>
<tr>
 <td style="text-align: left;">
 "CountyName" </td><td style="text-align: left;"> character </td><td style="text-align: left;"> County of sampling location. </td>
</tr>
<tr>
 <td style="text-align: left;">
 "StateName" </td><td style="text-align: left;"> character </td><td style="text-align: left;"> State of sampling location. </td>
</tr>
<tr>
 <td style="text-align: left;">
 "MonitoringLocationLatitude"  </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> latitude of sampling
 location. </td>
</tr>
<tr>
 <td style="text-align: left;">
 "MonitoringLocationLongitude" </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> longitude of sampling
 location. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p>whatWQPsites whatWQPdata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Summary of a single site for the last 5 years:
site_5 &lt;- readWQPsummary(
  siteid = "USGS-07144100",
  summaryYears = 5
)

# Summary of a single site for the full period of record:
site_all &lt;- readWQPsummary(
  siteid = "USGS-07144100",
  summaryYears = "all"
)

# Summary of the data available from streams in a single county:
dane_county_data &lt;- readWQPsummary(
  countycode = "US:55:025",
  summaryYears = 5,
  siteType = "Stream"
)

# Summary of the data all available from lakes in a single county:
lake_sites &lt;- readWQPsummary(
  siteType = "Lake, Reservoir, Impoundment",
  countycode = "US:55:025"
)

# Summary of the data available for the last 5 years in New Jersey:
state1 &lt;- readWQPsummary(
  statecode = "NJ",
  summaryYears = 5,
  siteType = "Stream"
)


</code></pre>

<hr>
<h2 id='renameNWISColumns'>renameColumns</h2><span id='topic+renameNWISColumns'></span>

<h3>Description</h3>

<p>Rename columns coming back from NWIS data retrievals.  Daily and unit value columns
have names derived from their data descriptor, parameter, and statistic codes. This
function reads information from the header and the arguments in the call to
to rename those columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renameNWISColumns(
  rawData,
  p00010 = "Wtemp",
  p00045 = "Precip",
  p00060 = "Flow",
  p00065 = "GH",
  p00095 = "SpecCond",
  p00300 = "DO",
  p00400 = "pH",
  p62611 = "GWL",
  p63680 = "Turb",
  p72019 = "WLBLS",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="renameNWISColumns_+3A_rawdata">rawData</code></td>
<td>
<p>the daily- or unit-values datset retrieved from NWISweb.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p00010">p00010</code></td>
<td>
<p>the base name for parameter code 00010.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p00045">p00045</code></td>
<td>
<p>the base name for parameter code 00045.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p00060">p00060</code></td>
<td>
<p>the base name for parameter code 00060.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p00065">p00065</code></td>
<td>
<p>the base name for parameter code 00065.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p00095">p00095</code></td>
<td>
<p>the base name for parameter code 00095.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p00300">p00300</code></td>
<td>
<p>the base name for parameter code 00300.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p00400">p00400</code></td>
<td>
<p>the base name for parameter code 00400.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p62611">p62611</code></td>
<td>
<p>the base name for parameter code 62611.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p63680">p63680</code></td>
<td>
<p>the base name for parameter code 63680.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_p72019">p72019</code></td>
<td>
<p>the base name for parameter code 72019.</p>
</td></tr>
<tr><td><code id="renameNWISColumns_+3A_...">...</code></td>
<td>
<p>named arguments for the base name for any other parameter code. The
form of the name must be like pXXXXX, where XXXXX is the parameter code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataset like <code>data</code> with selected columns renamed.
</p>


<h3>Note</h3>

<p>The following statistics codes are converted by <code>renameNWISColumns</code>.
</p>

<dl>
<dt>00000</dt><dd><p>Instantaneous Value, suffix: Inst</p>
</dd>
<dt>00001</dt><dd><p>Maximum value, suffix: Max</p>
</dd>
<dt>00002</dt><dd><p>Minimum value, suffix: Min</p>
</dd>
<dt>00003</dt><dd><p>Mean value, no suffix</p>
</dd>
<dt>00006</dt><dd><p>Sum of values, suffix: Sum</p>
</dd>
<dt>00007</dt><dd><p>Modal value, suffix: Mode</p>
</dd>
<dt>00008</dt><dd><p>Median value, suffix: Median</p>
</dd>
<dt>00012</dt><dd><p>Equivalent mean value, suffix: EqMean</p>
</dd>
<dt>00021</dt><dd><p>Tidal high-high value, suffix: HiHiTide</p>
</dd>
<dt>00022</dt><dd><p>Tidal low-high value, suffix: LoHiTide</p>
</dd>
<dt>00023</dt><dd><p>Tidal high-low value, suffix: HiLoTide</p>
</dd>
<dt>00024</dt><dd><p>Tidal low-low value, suffix: LoLoTide</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+readNWISdv">readNWISdv</a></code>, <code><a href="#topic+readNWISuv">readNWISuv</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>siteWithTwo &lt;- "01480015"
startDate &lt;- "2012-09-01"
endDate &lt;- "2012-10-01"

twoResults &lt;- readNWISdv(siteWithTwo, "00060", startDate, endDate)
names(twoResults)
renamedCols &lt;- renameNWISColumns(twoResults)
names(renamedCols)
# Custom names:
newNames &lt;- renameNWISColumns(twoResults, p00060 = "Discharge")
names(newNames)

</code></pre>

<hr>
<h2 id='setAccess'>Set data endpoint</h2><span id='topic+setAccess'></span>

<h3>Description</h3>

<p>access Indicate which dataRetrieval access code
you want to use options: <code>c('public','internal')</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setAccess(access = "public")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setAccess_+3A_access">access</code></td>
<td>
<p>code for data access. Options are: &quot;public&quot;,&quot;internal&quot;,&quot;cooperator&quot;, or &quot;USGS&quot;.
</p>

<ul>
<li><p>&quot;internal&quot; represents Access=3 ...for a single water science center
</p>
</li>
<li><p>&quot;USGS&quot; represents Access=2 ...for all water science centers
</p>
</li>
<li><p>&quot;cooperator&quot; represents Access=1
</p>
</li>
<li><p>&quot;public&quot; represents Access=0, public access
</p>
</li></ul>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Luke Winslow, Jordan S Read
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
setAccess("internal")

setAccess("public")


</code></pre>

<hr>
<h2 id='stateCd'>US State Code Lookup Table</h2><span id='topic+stateCd'></span>

<h3>Description</h3>

<p>Data originally pulled from <a href="https://www2.census.gov/geo/docs/reference/state.txt">https://www2.census.gov/geo/docs/reference/state.txt</a>
on April 1, 2015. On Feb. 11, 2022, the fields were updated with the
file found in inst/extdata, which is used internally with NWIS retrievals.
</p>


<h3>Value</h3>

<p>stateCd data frame.
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description</td>
</tr>
<tr>
 <td style="text-align: left;">
STATE </td><td style="text-align: left;"> character </td><td style="text-align: left;"> FIPS State Code  </td>
</tr>
<tr>
 <td style="text-align: left;">
STUSAB </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Official United States Postal Service (USPS) Code </td>
</tr>
<tr>
 <td style="text-align: left;">
STATE_NAME </td><td style="text-align: left;"> character </td><td style="text-align: left;"> State Name </td>
</tr>
<tr>
 <td style="text-align: left;">
STATENS </td><td style="text-align: left;"> character </td><td style="text-align: left;">  Geographic Names Information System Identifier (GNISID)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>head(stateCd)
</code></pre>

<hr>
<h2 id='stateCdLookup'>State code look up</h2><span id='topic+stateCdLookup'></span>

<h3>Description</h3>

<p>Function to simplify finding state and state code definitions. Used in <code>readNWISdata</code>
and <code>readWQPdata</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stateCdLookup(input, outputType = "postal")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stateCdLookup_+3A_input">input</code></td>
<td>
<p>could be character (full name, abbreviation, id), or numeric (id)</p>
</td></tr>
<tr><td><code id="stateCdLookup_+3A_outputtype">outputType</code></td>
<td>
<p>character can be &quot;postal&quot;, &quot;fullName&quot;, &quot;tableIndex&quot;, or &quot;id&quot;.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>fullName &lt;- stateCdLookup("wi", "fullName")
abbriev &lt;- stateCdLookup("Wisconsin", "postal")
id &lt;- stateCdLookup("WI", "id")
name &lt;- stateCdLookup(55, "fullName")
index &lt;- stateCdLookup("WI", "tableIndex")
stateCd[index, ]
stateCdLookup(c("West Virginia", "Wisconsin", 200, 55, "MN"))
</code></pre>

<hr>
<h2 id='whatNWISdata'>USGS data availability</h2><span id='topic+whatNWISdata'></span>

<h3>Description</h3>

<p>Imports a table of available parameters, period of record, and count. See
<a href="https://waterservices.usgs.gov/docs/site-service/">https://waterservices.usgs.gov/docs/site-service/</a>
for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>whatNWISdata(..., convertType = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="whatNWISdata_+3A_...">...</code></td>
<td>
<p>see <a href="https://waterservices.usgs.gov/docs/site-service/">https://waterservices.usgs.gov/docs/site-service/</a>
for a complete list of options.  A list of arguments can also be supplied.</p>
</td></tr>
<tr><td><code id="whatNWISdata_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function will
convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function requires users to create their own arguments
based on the NWIS web services. It is a more complicated function to use
compared to other NWIS functions such as <code><a href="#topic+readNWISdv">readNWISdv</a></code>, <code><a href="#topic+readNWISuv">readNWISuv</a></code>,
etc. However, this function adds a lot of
flexibility to the possible queries. If the &quot;service&quot; argument is included,
the results will be filtered to the proper data_type_cd. This is a great
function to use before a large data set, by filtering down the number
of sites that have useful data.
</p>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
station_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Site name </td>
</tr>
<tr>
 <td style="text-align: left;">
site_tp_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Site type </td>
</tr>
<tr>
 <td style="text-align: left;">
dec_lat_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Decimal latitude</td>
</tr>
<tr>
 <td style="text-align: left;">
dec_long_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Decimal longitude </td>
</tr>
<tr>
 <td style="text-align: left;">
coord_acy_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Latitude-longitude accuracy </td>
</tr>
<tr>
 <td style="text-align: left;">
dec_coord_datum_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Decimal Latitude-longitude datum </td>
</tr>
<tr>
 <td style="text-align: left;">
alt_va </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Altitude of Gage or land surface </td>
</tr>
<tr>
 <td style="text-align: left;">
alt_acy_va </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Altitude accuracy </td>
</tr>
<tr>
 <td style="text-align: left;">
alt_datum_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Altitude datum </td>
</tr>
<tr>
 <td style="text-align: left;">
huc_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Hydrologic unit code </td>
</tr>
<tr>
 <td style="text-align: left;">
data_type_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Data type </td>
</tr>
<tr>
 <td style="text-align: left;">
parm_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter code </td>
</tr>
<tr>
 <td style="text-align: left;">
stat_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Statistical code </td>
</tr>
<tr>
 <td style="text-align: left;">
dd_nu </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Internal database key </td>
</tr>
<tr>
 <td style="text-align: left;">
loc_web_ds </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Additional measurement description </td>
</tr>
<tr>
 <td style="text-align: left;">
medium_grp_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Medium group code </td>
</tr>
<tr>
 <td style="text-align: left;">
parm_grp_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter group code </td>
</tr>
<tr>
 <td style="text-align: left;">
srs_id </td><td style="text-align: left;"> character </td><td style="text-align: left;"> SRS ID </td>
</tr>
<tr>
 <td style="text-align: left;">
access_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Access code </td>
</tr>
<tr>
 <td style="text-align: left;">
begin_date </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> Begin date </td>
</tr>
<tr>
 <td style="text-align: left;">
end_date </td><td style="text-align: left;"> Date </td><td style="text-align: left;"> End date </td>
</tr>
<tr>
 <td style="text-align: left;">
count_nu </td><td style="text-align: left;"> integer </td><td style="text-align: left;"> Record count</td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_group_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter group name </td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter name </td>
</tr>
<tr>
 <td style="text-align: left;">
casrn </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Chemical Abstracts Service (CAS) Registry Number </td>
</tr>
<tr>
 <td style="text-align: left;">
srsname </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Substance Registry Services </td>
</tr>
<tr>
 <td style="text-align: left;">
parameter_units </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Parameter units </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
comment </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Header comments from the RDB file </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>


availableData &lt;- whatNWISdata(siteNumber = "05114000")

# To find just unit value ('instantaneous') data:
uvData &lt;- whatNWISdata(siteNumber = "05114000",
                       service = "uv")
uvDataMulti &lt;- whatNWISdata(siteNumber = c("05114000", "09423350"),
                            service = c("uv", "dv"))
flowAndTemp &lt;- whatNWISdata(
  stateCd = "WI", service = "uv",
  parameterCd = c("00060", "00010"),
  statCd = "00003"
)
sites &lt;- whatNWISdata(stateCd = "WI",
                      parameterCd = "00060",
                      siteType = "ST", 
                      service = "site")


</code></pre>

<hr>
<h2 id='whatNWISsites'>Site Data Import from NWIS</h2><span id='topic+whatNWISsites'></span>

<h3>Description</h3>

<p>Returns a list of sites from the NWIS web service. This function gets the data from:
<a href="https://waterservices.usgs.gov/docs/site-service/">https://waterservices.usgs.gov/docs/site-service/</a>.
Mapper format is used
</p>


<h3>Usage</h3>

<pre><code class='language-R'>whatNWISsites(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="whatNWISsites_+3A_...">...</code></td>
<td>
<p>see <a href="https://waterservices.usgs.gov/docs/site-service/">https://waterservices.usgs.gov/docs/site-service/</a>
for a complete list of options. A list (or lists) can also be supplied.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with at least the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
agency_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The NWIS code for the agency reporting the data</td>
</tr>
<tr>
 <td style="text-align: left;">
site_no </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The USGS site number </td>
</tr>
<tr>
 <td style="text-align: left;">
station_nm </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Station name </td>
</tr>
<tr>
 <td style="text-align: left;">
site_tp_cd </td><td style="text-align: left;"> character </td><td style="text-align: left;"> Site type code </td>
</tr>
<tr>
 <td style="text-align: left;">
dec_lat_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Decimal latitude </td>
</tr>
<tr>
 <td style="text-align: left;">
dec_long_va </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> Decimal longitude </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> Query time </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are also several useful attributes attached to the data frame:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
url </td><td style="text-align: left;"> character </td><td style="text-align: left;"> The url used to generate the data </td>
</tr>
<tr>
 <td style="text-align: left;">
queryTime </td><td style="text-align: left;"> POSIXct </td><td style="text-align: left;"> The time the data was returned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>

siteListPhos &lt;- whatNWISsites(stateCd = "OH", parameterCd = "00665")
oneSite &lt;- whatNWISsites(sites = "05114000")

</code></pre>

<hr>
<h2 id='whatWQPdata'>Data Available from Water Quality Portal</h2><span id='topic+whatWQPdata'></span>

<h3>Description</h3>

<p>Returns a list of sites from the Water Quality Portal web service. This function gets
the data from: <a href="https://www.waterqualitydata.us">https://www.waterqualitydata.us</a>.
Arguments to the function should be based on
<a href="https://www.waterqualitydata.us/webservices_documentation">https://www.waterqualitydata.us/webservices_documentation</a>.
The information returned from whatWQPdata describes the
available data at the WQP sites, and some metadata on the sites themselves.
For example, a row is returned for each individual site that fulfills this 
query. In that we can learn how many sampling activities and results 
are available for the query. It does not break those results down by any finer 
grain. For example, if you ask for &quot;Nutrients&quot; (characteristicGroup), you will
not learn what specific nutrients are available at that site. For that 
kind of data discovery see <code>readWQPsummary</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>whatWQPdata(..., saveFile = tempfile(), convertType = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="whatWQPdata_+3A_...">...</code></td>
<td>
<p>see <a href="https://www.waterqualitydata.us/webservices_documentation">https://www.waterqualitydata.us/webservices_documentation</a> for
a complete list of options. A list of arguments can also be supplied.
One way to figure out how to construct a WQP query is to go to the &quot;Advanced&quot; 
form in the Water Quality Portal:
<a href="https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET">https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET</a>
Use the form to discover what parameters are available. Once the query is 
set in the form, scroll down to the &quot;Query URL&quot;. You will see the parameters
after &quot;https://www.waterqualitydata.us/#&quot;. For example, if you chose &quot;Nutrient&quot;
in the Characteristic Group dropdown, you will see characteristicType=Nutrient
in the Query URL. The corresponding argument for dataRetrieval is
characteristicType = &quot;Nutrient&quot;. dataRetrieval users do not need to include
mimeType, zip, and providers is optional (these arguments are picked automatically).</p>
</td></tr>
<tr><td><code id="whatWQPdata_+3A_savefile">saveFile</code></td>
<td>
<p>path to save the incoming geojson output.</p>
</td></tr>
<tr><td><code id="whatWQPdata_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, the function
will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame based on the Water Quality Portal results.
</p>


<h3>See Also</h3>

<p>whatWQPsites readWQPsummary readWQPdata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

site1 &lt;- whatWQPdata(siteid = "USGS-01594440")

type &lt;- "Stream"
sites &lt;- whatWQPdata(countycode = "US:55:025", siteType = type)

lakeSites &lt;- whatWQPdata(siteType = "Lake, Reservoir, Impoundment",
                         countycode = "US:55:025")
lakeSites_chars &lt;- whatWQPdata(
  siteType = "Lake, Reservoir, Impoundment",
  countycode = "US:55:025", convertType = FALSE)


</code></pre>

<hr>
<h2 id='whatWQPsamples'>Site Data Import from Water Quality Portal</h2><span id='topic+whatWQPsamples'></span><span id='topic+whatWQPmetrics'></span><span id='topic+whatWQPsites'></span>

<h3>Description</h3>

<p>Returns a list of sites from the Water Quality Portal web service. This function
gets the data from: <a href="https://www.waterqualitydata.us">https://www.waterqualitydata.us</a>.
Arguments to the function should be based on
<a href="https://www.waterqualitydata.us/webservices_documentation">https://www.waterqualitydata.us/webservices_documentation</a>. The return from
this function returns the basic metadata on WQP sites. It is
generally faster than the <code><a href="#topic+whatWQPdata">whatWQPdata</a></code> function, but does
not return information on what data was collected at the site.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>whatWQPsamples(..., convertType = TRUE)

whatWQPmetrics(..., convertType = TRUE)

whatWQPsites(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="whatWQPsamples_+3A_...">...</code></td>
<td>
<p>see <a href="https://www.waterqualitydata.us/webservices_documentation">https://www.waterqualitydata.us/webservices_documentation</a>
for a complete list of options. A list of arguments can also be supplied.
One way to figure out how to construct a WQP query is to go to the &quot;Advanced&quot; 
form in the Water Quality Portal:
<a href="https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET">https://www.waterqualitydata.us/#mimeType=csv&amp;providers=NWIS&amp;providers=STORET</a>
Use the form to discover what parameters are available. Once the query is 
set in the form, scroll down to the &quot;Query URL&quot;. You will see the parameters
after &quot;https://www.waterqualitydata.us/#&quot;. For example, if you chose &quot;Nutrient&quot;
in the Characteristic Group dropdown, you will see characteristicType=Nutrient
in the Query URL. The corresponding argument for dataRetrieval is
characteristicType = &quot;Nutrient&quot;. dataRetrieval users do not need to include
mimeType, zip, and providers is optional (these arguments are picked automatically).</p>
</td></tr>
<tr><td><code id="whatWQPsamples_+3A_converttype">convertType</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>,
the function will convert the data to dates, datetimes,
numerics based on a standard algorithm. If false, everything is returned as a character.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>readWQPsummary</code> function has
</p>


<h3>Value</h3>

<p>data frame
</p>


<h3>See Also</h3>

<p>whatWQPdata readWQPsummary
</p>
<p>whatNWISdata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

site1 &lt;- whatWQPsamples(siteid = "USGS-01594440")

type &lt;- "Stream"

sites &lt;- whatWQPsamples(countycode = "US:55:025", siteType = type)

lakeSites_samples &lt;- whatWQPsamples(siteType = "Lake, Reservoir, Impoundment",
                                    countycode = "US:55:025")



type &lt;- "Stream"

sites &lt;- whatWQPmetrics(countycode = "US:55:025", siteType = type)
lakeSites_metrics &lt;- whatWQPmetrics(siteType = "Lake, Reservoir, Impoundment",
                                    countycode = "US:55:025")




site1 &lt;- whatWQPsites(siteid = "USGS-01594440")

type &lt;- "Stream"
sites &lt;- whatWQPsites(
  countycode = "US:55:025",
  characteristicName = "Phosphorus",
  siteType = type
)


</code></pre>

<hr>
<h2 id='zeroPad'>Pad string with leading zeros</h2><span id='topic+zeroPad'></span>

<h3>Description</h3>

<p>Function to pad a string with leading zeros. Useful for parameter codes and USGS site IDs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zeroPad(x, padTo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zeroPad_+3A_x">x</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code id="zeroPad_+3A_padto">padTo</code></td>
<td>
<p>number Final desired length of the character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x character returned with leading zeros
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pCode &lt;- "10"
correctPCode &lt;- zeroPad(pCode, 5)
pCodes &lt;- c("100", "1000", "0", "12345", "1565465465465465")
correctPCodes &lt;- zeroPad(pCodes, 5)
pCodeNA &lt;- c(1, 2, NA)
padPCodeNA &lt;- zeroPad(pCodeNA, 4)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

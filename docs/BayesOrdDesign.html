<!DOCTYPE html><html><head><title>Help for package BayesOrdDesign</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BayesOrdDesign}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Bayes_ord'><p>Bayesian ordinal regression analysis Estimate the correlation coefficients of treatment variable,</p>
with and without the proportional odds assumption</a></li>
<li><a href='#example.data'><p>Clinical ordinal endpoints and treatments assignment for 200 patient</p></a></li>
<li><a href='#get_oc_NPO'><p>Generate operating characteristics for Bayesian two-stage trial design</p>
of ordinal endpoints without proportional odds assumption</a></li>
<li><a href='#get_oc_PO'><p>Generate operating characteristics for Bayesian two-stage trial design</p>
of ordinal endpoints with proportional odds assumption</a></li>
<li><a href='#get_oc_Switch'><p>Generate operating characteristics for Bayesian two-stage trial design</p>
of ordinal endpoints without proportional odds assumption.</a></li>
<li><a href='#rjmcmc_func'><p>Perform reversible-jump MCMC post-process to select appropriate model between</p>
proportional odds (PO) model and non-proportional odds (NPO) model</a></li>
<li><a href='#ss_npo'><p>Determine the sample size for Bayesian two-stage trial design</p>
of ordinal endpoints without proportional odds assumption</a></li>
<li><a href='#ss_po'><p>Determine the sample size for Bayesian two-stage trial design</p>
of ordinal endpoints with proportional odds assumption</a></li>
<li><a href='#ss_switch'><p>Determine the sample size for Bayesian two-stage trial design for</p>
ordinal endpoints based on switch model</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Group Sequential Design for Ordinal Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chengxue Zhong &lt;czhong9106@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The proposed group-sequential trial design is based on Bayesian methods for ordinal endpoints, 
             including three methods, the proportional-odds-model (PO)-based, non-proportional-odds-model (NPO)-based, 
             and PO/NPO switch-model-based designs, which makes our proposed methods generic to be able to deal with 
             various scenarios.
             Richard J. Barker, William A. Link (2013) &lt;<a href="https://doi.org/10.1080%2F00031305.2013.791644">doi:10.1080/00031305.2013.791644</a>&gt;.
             Thomas A. Murray, Ying Yuan, Peter F. Thall, Joan H. Elizondo, Wayne L.Hofstetter (2018) &lt;<a href="https://doi.org/10.1111%2Fbiom.12842">doi:10.1111/biom.12842</a>&gt;.
             Chengxue Zhong, Haitao Pan, Hongyu Miao (2021) &lt;<a href="https://doi.org/10.48550/arXiv.2108.06568">doi:10.48550/arXiv.2108.06568</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>ordinal, schoolmath, coda, gsDesign, superdiag, ggplot2,
madness, rjmcmc, R2jags, rjags, methods,</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-12 00:46:55 UTC; alexz</td>
</tr>
<tr>
<td>Author:</td>
<td>Chengxue Zhong [aut, cre],
  Haitao Pan [aut],
  Hongyu Miao [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-14 09:20:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='Bayes_ord'>Bayesian ordinal regression analysis Estimate the correlation coefficients of treatment variable,
with and without the proportional odds assumption</h2><span id='topic+Bayes_ord'></span>

<h3>Description</h3>

<p>Bayesian ordinal regression based on cumulative likelihood function Estimate the correlation coefficients
of treatment variable, with or without the proportional odds assumption
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Bayes_ord(formula, data, structure, U)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Bayes_ord_+3A_formula">formula</code></td>
<td>
<p>a formula expression as for regression models, of the form response ~ predictors.
The response should be a factor (preferably an ordered factor), which will be interpreted as an
ordinal response with levels ordered as in the factor.</p>
</td></tr>
<tr><td><code id="Bayes_ord_+3A_data">data</code></td>
<td>
<p>a data frame in which to interpret the variables occurring in the formula.</p>
</td></tr>
<tr><td><code id="Bayes_ord_+3A_structure">structure</code></td>
<td>
<p>the data structure. i.e., structure = &quot;PO&quot; or structure = &quot;NPO&quot;.</p>
</td></tr>
<tr><td><code id="Bayes_ord_+3A_u">U</code></td>
<td>
<p>the desirability of each outcome level</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates the coefficients and threshold coefficients.
Specifically, the numerical utilities U reflect the desirability of each outcome
level. To do this, in our example, we first set U[1] = 100 and U[5] = 0, and then
asked physicians to specify numerical values for the intermediate levels, that
reflect their desirability relative to the best and worst levels.
</p>


<h3>Value</h3>

<p>Bayes_ord() returns the regression coefficients, including: (1) estimator coefficients
(2) thresholds coefficients
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Example One: PO data structure
fm1 = Bayes_ord(response~treatment, example.data, "PO")

### Example Two: NPO data structure
fm2 = Bayes_ord(response~treatment, example.data, "NPO", U = c(100,80,65,25,10,0))

</code></pre>

<hr>
<h2 id='example.data'>Clinical ordinal endpoints and treatments assignment for 200 patient</h2><span id='topic+example.data'></span>

<h3>Description</h3>

<p>A dataset containing the ordinal outcomes and corresponding groups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example.data
</code></pre>


<h3>Format</h3>

<p>A data frame with 200 rows and 2 variables:
</p>

<dl>
<dt>response</dt><dd><p>outcome</p>
</dd>
<dt>treatment</dt><dd><p>0 denotes control, 1 denotes treatment</p>
</dd>
</dl>
<p>...

</p>

<hr>
<h2 id='get_oc_NPO'>Generate operating characteristics for Bayesian two-stage trial design
of ordinal endpoints without proportional odds assumption</h2><span id='topic+get_oc_NPO'></span>

<h3>Description</h3>

<p>Obtain operating characteristics (OC) of the Bayesian two-stage trial
design with ordinal endpoints while the proportional odds assumption are
violated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_oc_NPO(alpha, pro_ctr, U, fixed_ss, ors, nmax, fixed_es, ntrial, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_oc_NPO_+3A_alpha">alpha</code></td>
<td>
<p>the desired type I error to be controlled</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_pro_ctr">pro_ctr</code></td>
<td>
<p>distribution of clinical categories for the
control group</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_u">U</code></td>
<td>
<p>the desirability of each outcome level</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_fixed_ss">fixed_ss</code></td>
<td>
<p>fixed sample size when simulates the OC for various effect
size</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_ors">ors</code></td>
<td>
<p>a user-defined matrix, each row denotes the various scenarios,
the number of columns depend on the number of outcome scales.</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_nmax">nmax</code></td>
<td>
<p>the maximum sample size when simulates the OC for different sample size, the increment is 50 and
the initial sample size is 50 for each arm each stage.</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_fixed_es">fixed_es</code></td>
<td>
<p>fixed effect size when simulate the OC for various sample
size</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_ntrial">ntrial</code></td>
<td>
<p>the number of simulated trials</p>
</td></tr>
<tr><td><code id="get_oc_NPO_+3A_method">method</code></td>
<td>
<p>whether the statistical test for interim/final analysis is Bayesian or
Frequentist. method = &quot;Frequentist&quot; for Frequentist approach; method = &quot;Bayesian&quot;
for Bayesian approach</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Grid search of sample size is used for guarantee a desirable type I error rate.
The upper limitation is 400, and lower limitation default is sample size 50
for the control and treatment groups at each stage. Default increment of the
sequence is 50.
</p>
<p>For the parameter estimation section, we have two options, and can be selected using
the method argument.Two following options are available: (i) method = &quot;Frequentist&quot;,
(ii) method = &quot;Bayesian&quot;. If method = &quot;Frequentist&quot;, parameters are estimated via package
ordinal, which is based on frequentist method, while method = &quot;Bayesian&quot;, parameters are
estimated through Bayesian model.
</p>
<p>Specifically, the numerical utilities U reflect the desirability of each outcome
level. To do this, in our example, we first set U[1] = 100 and U[5] = 0, and then
asked physicians to specify numerical values for the intermediate levels, that
reflect their desirability relative to the best and worst levels.
</p>
<p>Function provides two types of operating characteristics via simulation. If user
specifies the value of ors and fixed_ss, function will calculate the design's power
in terms of effect size. If user specifies the value of nmax and fixed_es, function
will calculate the design's power in terms of sample size, and nmax is the upper
limitation of sample size for the treatment and control groups at each stage, the lower
limitation is 50, the default increment of the sequence is 10.
</p>
<p>Please note, in our example, argument ntrial =  5 is for the time saving purpose.
</p>


<h3>Value</h3>

<p>get_oc_NPO() returns the operating characteristics of design as a
table, including (1) user-defined value, either sample size or effect size
(2) corresponding power (3) average sample size
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ors = matrix(c(1.5,1.5,1,1,1,1.5,1.5,1.1,1.1,1.1), nrow=2, ncol=5, byrow=TRUE)

get_oc_NPO(alpha = 0.05, pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
           U = c(100,80,65,25,10,0), fixed_ss = 200, ors, ntrial = 5,
           method = "Frequentist")

set.seed(123)
get_oc_NPO(alpha = 0.05, pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
           U = c(100,80,65,25,10,0), nmax = 100, fixed_es = c(1.5,1.3,1,1,1),
           ntrial = 5, method = "Frequentist")

</code></pre>

<hr>
<h2 id='get_oc_PO'>Generate operating characteristics for Bayesian two-stage trial design
of ordinal endpoints with proportional odds assumption</h2><span id='topic+get_oc_PO'></span>

<h3>Description</h3>

<p>Obtain operating characteristics (OC) of the Bayesian two-stage trial
design of ordinal endpoints with proportional odds assumption.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_oc_PO(alpha, pro_ctr, nmax, fixed_es, ormax, fixed_ss, ntrial, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_oc_PO_+3A_alpha">alpha</code></td>
<td>
<p>the desirable type I error rate to be controlled</p>
</td></tr>
<tr><td><code id="get_oc_PO_+3A_pro_ctr">pro_ctr</code></td>
<td>
<p>distribution of clinical categories for the
control group</p>
</td></tr>
<tr><td><code id="get_oc_PO_+3A_nmax">nmax</code></td>
<td>
<p>the maximum sample size for operating characteristics</p>
</td></tr>
<tr><td><code id="get_oc_PO_+3A_fixed_es">fixed_es</code></td>
<td>
<p>fixed effect size when simulate the OC for various sample
size</p>
</td></tr>
<tr><td><code id="get_oc_PO_+3A_ormax">ormax</code></td>
<td>
<p>the maximum effect size for OC</p>
</td></tr>
<tr><td><code id="get_oc_PO_+3A_fixed_ss">fixed_ss</code></td>
<td>
<p>fixed sample size when simulate the OC for various effect
size</p>
</td></tr>
<tr><td><code id="get_oc_PO_+3A_ntrial">ntrial</code></td>
<td>
<p>the number of simulated trials</p>
</td></tr>
<tr><td><code id="get_oc_PO_+3A_method">method</code></td>
<td>
<p>whether the statistical test for interim/final analysis is Bayesian or
Frequentist. method = &quot;Frequentist&quot; for Frequentist approach; method = &quot;Bayesian&quot;
for Bayesian approach</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Grid search of sample size is used for guarantee a desirable type I error rate.
The upper limitation is 200, and lower limitation default is sample size 50
for the control and treatment groups at each stage. Default increment of the
sequence is 10.
</p>
<p>For the parameter estimation section, we have two options, and can be selected using
the method argument.Two following options are available: (i) method = &quot;Frequentist&quot;,
(ii) method = &quot;Bayesian&quot;. If method = &quot;Frequentist&quot;, parameters are estimated via package
ordinal, which is based on frequentist method, while method = &quot;Bayesian&quot;, parameters are
estimated through Bayesian model.
</p>
<p>Two types of operating characteristics can be implemented through this function.
</p>
<p>Please note, in our example, argument ntrial = 5 is for the time saving purpose.
</p>


<h3>Value</h3>

<p>get_oc_PO() returns the operating characteristics of design as a
table, including: (1) user-defined value, either sample size or effect size
(2) corresponding power (3) average sample size
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
get_oc_PO(alpha = 0.05, pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
          ormax = 1.5, fixed_ss = 150,
          ntrial = 5, method = "Frequentist")


get_oc_PO(alpha = 0.05, pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
          nmax = 200, fixed_es = 1.5,
          ntrial = 5, method = "Frequentist")

</code></pre>

<hr>
<h2 id='get_oc_Switch'>Generate operating characteristics for Bayesian two-stage trial design
of ordinal endpoints without proportional odds assumption.</h2><span id='topic+get_oc_Switch'></span>

<h3>Description</h3>

<p>Obtain operating characteristics (OC) of the Bayesian two-stage trial
design with ordinal endpoints while the proportional odds assumption are
violated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_oc_Switch(
  alpha,
  pro_ctr,
  U,
  ors,
  n_range,
  fixed_es,
  n_po,
  n_npo,
  ntrial,
  method
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_oc_Switch_+3A_alpha">alpha</code></td>
<td>
<p>the desired type I error to be controlled.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_pro_ctr">pro_ctr</code></td>
<td>
<p>distribution of clinical categories for the
control group.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_u">U</code></td>
<td>
<p>the desirability of each outcome level.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_ors">ors</code></td>
<td>
<p>a user-defined matrix, each row denotes the various scenarios,
the number of columns depend on the number of outcome scales.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_n_range">n_range</code></td>
<td>
<p>the additional sample size for each arm each stage after n_po, n_npo.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_fixed_es">fixed_es</code></td>
<td>
<p>fixed effect size when simulate the OC for various sample
size.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_n_po">n_po</code></td>
<td>
<p>sample size for the treatment and control groups, at each stage
based on PO model.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_n_npo">n_npo</code></td>
<td>
<p>sample size for the treatment and control groups, at each stage
based on NPO model.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_ntrial">ntrial</code></td>
<td>
<p>the number of simulated trials.</p>
</td></tr>
<tr><td><code id="get_oc_Switch_+3A_method">method</code></td>
<td>
<p>whether the statistical test for interim/final analysis is Bayesian or
Frequentist. method = &quot;Frequentist&quot; for Frequentist approach; method = &quot;Bayesian&quot;
for Bayesian approach.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Grid search of sample size is used for guarantee a desirable type I error rate.
The upper limitation is 200, and lower limitation default is sample size 50
for the control and treatment groups at each stage. Default increment of the
sequence is 10.
</p>
<p>For the parameter estimation section, we have two options, and can be selected using
the method argument. Two following options are available: (i) method = &quot;Frequentist&quot;,
(ii) method = &quot;Bayesian&quot;. If method = &quot;Frequentist&quot;, parameters are estimated via package
ordinal, which is based on frequentist method, while method = &quot;Bayesian&quot;, parameters are
estimated through Bayesian model.
</p>
<p>Specifically, the numerical utilities U reflect the desirability of each outcome
level. To do this, in our example, we first set U[1] = 100 and U[5] = 0, and then
asked physicians to specify numerical values for the intermediate levels, that
reflect their desirability relative to the best and worst levels.
</p>
<p>Function provides two types of operating characteristics via simulation. If user
specifies the value of ors and fixed_ss, function will calculate the design's power
in terms of effect size. If user specifies the value of n_range and fixed_es, function
will calculate the design's power in terms of sample size, and n_range is the upper
limitation of sample size for the treatment and control groups at each stage, the lower
limitation is 50, the default increment of the sequence is 10.
</p>
<p>Arguments n_po and n_npo are the estimated sample size for the treatment and
control groups at each stage based on PO model and NPO model respectively. Users can
obtained them through function ss_po and ss_npo.
</p>


<h3>Value</h3>

<p>get_oc_NPO() returns the operating characteristics of design as a
table, including (1) user-defined value, either sample size or effect size
(2) corresponding power (3) average sample size
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


get_oc_Switch(alpha = 0.05, pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
             U = c(100,80,65,25,10,0), n_range = 10, fixed_es = c(1.5,1.5,1,1,1),
             n_po = 475,n_npo = 75, ntrial = 5, method = "Frequentist")


or2 = matrix(rep(seq(1,1.3, by=0.1), times=1, each=3),ncol = 3,byrow = TRUE)
or1 = matrix(rep(1.5, dim(or2)[1]*2), ncol = 2, byrow = TRUE)
ors = cbind(or1, or2)

get_oc_Switch(alpha = 0.05, pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
              U = c(100,80,65,25,10,0), ors, n_po = 475, n_npo = 75,
              ntrial = 5, method = "Frequentist")
              
</code></pre>

<hr>
<h2 id='rjmcmc_func'>Perform reversible-jump MCMC post-process to select appropriate model between
proportional odds (PO) model and non-proportional odds (NPO) model</h2><span id='topic+rjmcmc_func'></span>

<h3>Description</h3>

<p>Performs Bayesian multi-model inference, estimating posterior
model probabilities for 2 candidate models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rjmcmc_func(g1, ginv1, g2, ginv2, or_alt, sd, pro_ctr, n, U)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rjmcmc_func_+3A_g1">g1</code></td>
<td>
<p>specify the bi-jections from the universal parameter psi to PO model parameter set</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_ginv1">ginv1</code></td>
<td>
<p>specify the bi-jections from the PO model parameter set to psi. It is the inverse transformation of g1.</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_g2">g2</code></td>
<td>
<p>specify the bi-jections from the universal parameter psi to NPO model parameter set</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_ginv2">ginv2</code></td>
<td>
<p>specify the bi-jections from the NPO model parameter set to psi. It is the inverse transformation of g2.</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_or_alt">or_alt</code></td>
<td>
<p>effect size to be detected (under H_1)
in terms of odds ratio</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_sd">sd</code></td>
<td>
<p>the standard error</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_pro_ctr">pro_ctr</code></td>
<td>
<p>distribution of clinical categories for the
control group</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_n">n</code></td>
<td>
<p>sample size for each group and each interim look</p>
</td></tr>
<tr><td><code id="rjmcmc_func_+3A_u">U</code></td>
<td>
<p>the desirability of each outcome level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>rjmcmc_func() returns the selection probabilities for PO and NPO model
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

g1 = function(psi){
  w = sum(psi[6:10])/5
  theta = c(psi[1], psi[2], psi[3], psi[4], psi[5],
            w, w-psi[7], w-psi[8], w-psi[9], w-psi[10])
  return(theta)
}

ginv1 = function(theta){

  w = sum(theta[6:10])
  psi = c(theta[1], theta[2], theta[3], theta[4], theta[5],
          w, theta[6]-theta[7], theta[6]-theta[8],
          theta[6]-theta[9], theta[6]-theta[10])
  return(psi)
}


g2 = function(psi){
  theta = psi
  return(theta)
}
ginv2 = function(theta){
  psi = theta
  return(psi)
}

out = rjmcmc_func(g1, ginv1, g2, ginv2, or_alt = c(1.4,1.4,1.4,1.4,1.4), sd = 0.2,
                  pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
                  n = 100, U = c(100,80,65,25,10,0))
                  
</code></pre>

<hr>
<h2 id='ss_npo'>Determine the sample size for Bayesian two-stage trial design
of ordinal endpoints without proportional odds assumption</h2><span id='topic+ss_npo'></span>

<h3>Description</h3>

<p>Obtain estimated sample size based on user-specified type I
error, power and effect size defined by the odds ratio between
the treatment and control groups, without the proportional
odds (PO) assumption.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ss_npo(nmax, or_alt, pro_ctr, U, alpha, power, ntrial, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ss_npo_+3A_nmax">nmax</code></td>
<td>
<p>the maximum sample size for searching to get the desirable power</p>
</td></tr>
<tr><td><code id="ss_npo_+3A_or_alt">or_alt</code></td>
<td>
<p>effect size to be detected (under H_1) in
terms of odds ratio</p>
</td></tr>
<tr><td><code id="ss_npo_+3A_pro_ctr">pro_ctr</code></td>
<td>
<p>distribution of clinical categories for the
control group</p>
</td></tr>
<tr><td><code id="ss_npo_+3A_u">U</code></td>
<td>
<p>the desirability of each outcome level</p>
</td></tr>
<tr><td><code id="ss_npo_+3A_alpha">alpha</code></td>
<td>
<p>the desirable type I error rate to be controlled</p>
</td></tr>
<tr><td><code id="ss_npo_+3A_power">power</code></td>
<td>
<p>the desirable power to be achieved</p>
</td></tr>
<tr><td><code id="ss_npo_+3A_ntrial">ntrial</code></td>
<td>
<p>the number of simulated trials</p>
</td></tr>
<tr><td><code id="ss_npo_+3A_method">method</code></td>
<td>
<p>whether the statistical test for interim/final analysis is Bayesian or
Frequentist. method = &quot;Frequentist&quot; for Frequentist approach; method = &quot;Bayesian&quot;
for Bayesian approach</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Grid search of sample size is used for guarantee a desirable type I error rate.
The upper limitation is 200, and lower limitation default is sample size 50
for the control and treatment groups at each stage. Default increment of the
sequence is 50.
</p>
<p>For the parameter estimation section, we have two options, and can be selected using
the method argument.Two following options are available: (i) method = &quot;Frequentist&quot;,
(ii) method = &quot;Bayesian&quot;. If method = &quot;Frequentist&quot;, parameters are estimated via package
ordinal, which is based on frequentist method, while method = &quot;Bayesian&quot;, parameters are
estimated through Bayesian model.
</p>
<p>Specifically, the numerical utilities U reflect the desirability of each outcome
level. To do this, in our example, we first set U[1] = 100 and U[5] = 0, and then
asked physicians to specify numerical values for the intermediate levels, that
reflect their desirability relative to the best and worst levels.
</p>
<p>Please note, in our example, argument ntrial =  5 is for the time saving purpose.
</p>


<h3>Value</h3>

<p>ss_npo() returns recommended sample size for each
of two groups for the interim and final stages, by assuming 1:1
equal randomization for the two groups at each stage; and corresponding power.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)
ss_npo(nmax = 200, or_alt = c(1.6,1.5,1.5,1.4,1.4),
       pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13), U = c(100,80,65,25,10,0),
       alpha = 0.05, power = 0.8, ntrial = 5, method = "Frequentist")
</code></pre>

<hr>
<h2 id='ss_po'>Determine the sample size for Bayesian two-stage trial design
of ordinal endpoints with proportional odds assumption</h2><span id='topic+ss_po'></span>

<h3>Description</h3>

<p>Obtain estimated sample size based on user-specified type I
error, power and effect size defined by the odds ratio between
the treatment and control groups, under the proportional
odds (PO) assumption.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ss_po(or_alt, pro_ctr, alpha, power, nmax, ntrial, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ss_po_+3A_or_alt">or_alt</code></td>
<td>
<p>effect size to be detected (under H_1)
in terms of odds ratio</p>
</td></tr>
<tr><td><code id="ss_po_+3A_pro_ctr">pro_ctr</code></td>
<td>
<p>distribution of clinical categories for the
control group</p>
</td></tr>
<tr><td><code id="ss_po_+3A_alpha">alpha</code></td>
<td>
<p>the desirable type I error rate to be controlled</p>
</td></tr>
<tr><td><code id="ss_po_+3A_power">power</code></td>
<td>
<p>the desirable power to be achieved</p>
</td></tr>
<tr><td><code id="ss_po_+3A_nmax">nmax</code></td>
<td>
<p>the maximum sample size for searching to get the desirable power</p>
</td></tr>
<tr><td><code id="ss_po_+3A_ntrial">ntrial</code></td>
<td>
<p>the number of simulated trials</p>
</td></tr>
<tr><td><code id="ss_po_+3A_method">method</code></td>
<td>
<p>whether the statistical test for interim/final analysis is Bayesian or
Frequentist. method = &quot;Frequentist&quot; for Frequentist approach; method = &quot;Bayesian&quot;
for Bayesian approach</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Grid search of sample size is used for guarantee a desirable type I error rate.
The upper limitation is 200, and lower limitation default is sample size 50
for the control and treatment groups at each stage. Default increment of the
sequence is 50.
</p>
<p>For the parameter estimation section, we have two options, and can be selected using
the method argument.Two following options are available: (i) method = &quot;Frequentist&quot;,
(ii) method = &quot;Bayesian&quot;. If method = &quot;Frequentist&quot;, parameters are estimated via package
ordinal, which is based on frequentist method, while method = &quot;Bayesian&quot;, parameters are
estimated through Bayesian model.
</p>
<p>Please note, in our example, argument ntrial =  5 is for the time saving purpose.
</p>


<h3>Value</h3>

<p>ss_po() returns recommended sample size for each of
two groups for the interim and final stages, by assuming 1:1 equal
randomization for the two groups at each stage; and the corresponding power.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ss_po(or_alt = 1.5, pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13), alpha = 0.05,
      power = 0.8, nmax = 100, ntrial = 5, method ="Frequentist")

</code></pre>

<hr>
<h2 id='ss_switch'>Determine the sample size for Bayesian two-stage trial design for
ordinal endpoints based on switch model</h2><span id='topic+ss_switch'></span>

<h3>Description</h3>

<p>When there lacks of sufficient information to determine which of these two
models (PO or NPO) is more appropriate, PO/NPO switch model-based design is
utilized to obtain estimated sample size based on user specified type I
error, power and expected effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ss_switch(
  alpha,
  power,
  n_po,
  n_npo,
  or_alt,
  pro_ctr,
  U,
  ntrial,
  method,
  n_range
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ss_switch_+3A_alpha">alpha</code></td>
<td>
<p>the desirable type I error rate to be controlled</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_power">power</code></td>
<td>
<p>the desirable power to be achieved</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_n_po">n_po</code></td>
<td>
<p>sample size for the treatment and control groups, at each stage
based on PO model</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_n_npo">n_npo</code></td>
<td>
<p>sample size for the treatment and control groups, at each stage
based on NPO model</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_or_alt">or_alt</code></td>
<td>
<p>expected treatment efficacy effect size to be
detected (under H_1) in terms of odds ratio</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_pro_ctr">pro_ctr</code></td>
<td>
<p>distribution of clinical categories for the
control group</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_u">U</code></td>
<td>
<p>the desirability of each outcome level</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_ntrial">ntrial</code></td>
<td>
<p>the number of simulated trials</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_method">method</code></td>
<td>
<p>whether the statistical test for interim/final analysis is Bayesian or
Frequentist. method = &quot;Frequentist&quot; for Frequentist approach; method = &quot;Bayesian&quot;
for Bayesian approach</p>
</td></tr>
<tr><td><code id="ss_switch_+3A_n_range">n_range</code></td>
<td>
<p>the additional sample size for each arm each stage after n_po, n_npo.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Grid search of sample size is used for guarantee a desirable type I error rate.
The upper limitation is 200, and lower limitation default is sample size 50
for the control and treatment groups at each stage. Default increment of the
sequence is 10.
</p>
<p>For the parameter estimation section, we have two options, and can be selected using
the method argument.Two following options are available: (i) method = &quot;Frequentist&quot;,
(ii) method = &quot;Bayesian&quot;. If method = &quot;Frequentist&quot;, parameters are estimated via package
ordinal, which is based on frequentist method, while method = &quot;Bayesian&quot;, parameters are
estimated through Bayesian model.
</p>
<p>Specifically, the numerical utilities U reflect the desirability of each outcome
level. To do this, in our example, we first set U[1] = 100 and U[5] = 0, and then
asked physicians to specify numerical values for the intermediate levels, that
reflect their desirability relative to the best and worst levels.
</p>
<p>Arguments n_po and n_npo are the estimated sample size for the treatment and
control groups at each stage based on PO model and NPO model respectively. Users can
obtained them through function ss_po and ss_npo.
</p>


<h3>Value</h3>

<p>ss_switch() returns recommended sample size for each group at every
interim look, with assumption that the sample size in the control arm of the
study is same as in the treatment arm, and the sample size at each interim
look is same.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ss_switch(alpha = 0.05, power=0.8, n_po = 475, n_npo = 75, n_range = 10,
          or_alt = c(1.5,1.5,1.5,1.5,1.5), pro_ctr = c(0.58,0.05,0.17,0.03,0.04,0.13),
          U = c(100,80,65,25,10,0), ntrial = 5, method = "Frequentist")
         

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package CRTConjoint</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CRTConjoint}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CRT_carryovereffect'><p>Testing carryover effect in Conjoint Experiments</p></a></li>
<li><a href='#CRT_fatigueeffect'><p>Testing fatigue effect in Conjoint Experiments</p></a></li>
<li><a href='#CRT_profileordereffect'><p>Testing profile order effect in Conjoint Experiments</p></a></li>
<li><a href='#CRT_pval'><p>Testing whether factor X matters in Conjoint Experiments</p></a></li>
<li><a href='#CRTConjoint-package'><p>CRTConjoint: Conditional Randomization Testing (CRT) Approach for Conjoint Analysis</p></a></li>
<li><a href='#immigrationdata'><p>Immigration Choice Conjoint Experiment Data from Hainmueller et. al. (2014).</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Conditional Randomization Testing (CRT) Approach for Conjoint
Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dae Woong Ham &lt;daewoongham@g.harvard.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Computes p-value according to the CRT using the HierNet test statistic. For more details, see Ham, Imai, Janson (2022) "Using Machine Learning to Test Causal Hypotheses in Conjoint Analysis" &lt;<a href="https://arxiv.org/abs/2201.08343">arXiv:2201.08343</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, methods, doSNOW, foreach, Rcpp, snow</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/daewoongham97/CRTConjoint">https://github.com/daewoongham97/CRTConjoint</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/daewoongham97/CRTConjoint/issues">https://github.com/daewoongham97/CRTConjoint/issues</a></td>
</tr>
<tr>
<td>Copyright:</td>
<td>(c) 2022 Dae Woong Ham. Code in helper_hierNet.R, hierNet.c,
and hierNet_init.c are taken (with explicit permission) from
(c) 2020 Jacob Bien.</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-07 16:16:29 UTC; Ham</td>
</tr>
<tr>
<td>Author:</td>
<td>Dae Woong Ham [aut, cre],
  Kosuke Imai [aut],
  Lucas Janson [aut],
  Jacob Bien [ctb, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-06-09 08:00:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='CRT_carryovereffect'>Testing carryover effect in Conjoint Experiments</h2><span id='topic+CRT_carryovereffect'></span>

<h3>Description</h3>

<p>This function takes a conjoint dataset and returns the p-value when using the
CRT to test if the carryover effect holds using HierNet test statistic.
The function requires user to specify the outcome, all factors used in the
conjoint experiment, and the evaluation task number. By default, this function
assumes a uniform randomization of factor levels. The function assumes the
forced choice conjoint experiment and consequently assumes
the data to contain the left and right profile factors in separate column in
the dataset supplied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CRT_carryovereffect(
  formula,
  data,
  left,
  right,
  task,
  design = "Uniform",
  supplyown_resamples = NULL,
  profileorder_constraint = TRUE,
  non_factor = NULL,
  B = 200,
  parallel = TRUE,
  num_cores = 2,
  nfolds = 3,
  lambda = c(20, 30, 40),
  tol = 0.001,
  seed = sample(c(1:1000), size = 1),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CRT_carryovereffect_+3A_formula">formula</code></td>
<td>
<p>A formula object specifying the outcome variable on the left-hand
side and factors of (X,Z) and respondent characteristics (V) in the right hand side.
RHS variables should be separated by + signs and should only contain either
left or right for each (X,Z).
For example Y ~ Country_left + Education_left is sufficient as opposed to
Y ~ Country_left + Country_right + Education_left + Education_right</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_data">data</code></td>
<td>
<p>A dataframe containing outcome variable and all factors (X,Z,V)
(including both left and right profile factors). All (X,Z,V) listed in
the formula above are expected to be of class factor unless explicitly stated
in non_factor input.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_left">left</code></td>
<td>
<p>Vector of column names of data that corresponds to the left profile factors</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_right">right</code></td>
<td>
<p>Vector of column names of data that corresponds to the right profile factors.
NOTE: left and right are assumed to be the same length and the
order should correspond to the same variables. For example left =
c(&quot;Country_left&quot;, &quot;Education_left&quot;) and right = c(&quot;Country_right&quot;, &quot;Education_right&quot;)</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_task">task</code></td>
<td>
<p>A character string indicating column of data that contains the task evaluation.
IMPORTANT: The task variable is assumed to have no missing tasks, i.e.,
each respondent should have 1:J tasks. Please drop respondents with missing tasks.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_design">design</code></td>
<td>
<p>A character string of one of the following options: &quot;Uniform&quot; or &quot;Manual&quot;.
&quot;Uniform&quot; refers to a completely uniform design where all (X,Z) are sampled uniformly.
&quot;Manual&quot; refers to more complex conjoint designs, where the user will supply
their own resamples in supplyown_resamples input.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_supplyown_resamples">supplyown_resamples</code></td>
<td>
<p>List of length B that contains own resamples of X
when design=&quot;Manual&quot;. Each element of list should contain a dataframe
with the same number of rows of data and two columns for the left and right
profile values of X.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_profileorder_constraint">profileorder_constraint</code></td>
<td>
<p>Boolean indicating whether to enforce profile
order constraint (default = TRUE)</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_non_factor">non_factor</code></td>
<td>
<p>A vector of strings indicating columns of data that are not
factors. This should only be used for respondent characteristics (V) that are
not factors. For example non_factor = &quot;Respondent_Age&quot;.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_b">B</code></td>
<td>
<p>Numeric integer value indicating the number of resamples for the CRT
procedure. Default value is B=200.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_parallel">parallel</code></td>
<td>
<p>Boolean indicating whether parallel computing should be used.
Default value is TRUE.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_num_cores">num_cores</code></td>
<td>
<p>Numeric integer indicating number of cores to use when parallel=TRUE.
num_cores should not exceed the number of cores the user's machine can handle. Default is 2.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_nfolds">nfolds</code></td>
<td>
<p>Numeric integer indicating number of cross-validation folds. Default is 3.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_lambda">lambda</code></td>
<td>
<p>Numeric vector indicating lambda used for cross-validation for
HierNet fit. Default lambda=c(20,30,40).</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_tol">tol</code></td>
<td>
<p>Numeric value indicating acceptable tolerance for terminating optimization
fit for HierNet. Default is tol=1e-3. WARNING: Do not increase as it greatly increases
computation time.</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_seed">seed</code></td>
<td>
<p>Seed used for CRT procedure</p>
</td></tr>
<tr><td><code id="CRT_carryovereffect_+3A_verbose">verbose</code></td>
<td>
<p>Boolean indicating verbose output. Default verbose=TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing: </p>
<table>
<tr><td><code>p_val</code></td>
<td>
<p>A numeric value for the p-value testing
carryover effect.</p>
</td></tr>
<tr><td><code>obs_test_stat</code></td>
<td>
<p>A numeric value for the observed test statistic.</p>
</td></tr>
<tr><td><code>resampled_test_stat</code></td>
<td>
<p>Matrix containing all the B resampled test statistics</p>
</td></tr>
<tr><td><code>tol</code></td>
<td>
<p>Tolerance used for HierNet</p>
</td></tr>
<tr><td><code>lam</code></td>
<td>
<p>Best cross-validated lambda</p>
</td></tr>
<tr><td><code>hiernet_fit</code></td>
<td>
<p>An object of class hiernet that contains the hiernet fit for
the observed test statistic</p>
</td></tr>
<tr><td><code>seed</code></td>
<td>
<p>Seed used</p>
</td></tr>
<tr><td><code>elapsed_time</code></td>
<td>
<p>Elapsed time</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ham, D., Janson, L., and Imai, K. (2022)
Using Machine Learning to Test Causal Hypotheses in Conjoint Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Subset of Immigration Choice Conjoint Experiment Data from Hainmueller et. al. (2014).
data("immigrationdata")
form = formula("Y ~ FeatEd + FeatGender + FeatCountry + FeatReason + FeatJob +
FeatExp + FeatPlans + FeatTrips + FeatLang + ppage + ppeducat + ppethm + ppgender")
left = colnames(immigrationdata)[1:9]
right = colnames(immigrationdata)[10:18]
# Each respondent evaluated 5 tasks
J = 5
carryover_df = immigrationdata
carryover_df$task = rep(1:J, nrow(carryover_df)/J)
# Since immigration conjoint experiment had dependent randomization for several factors
# we supply our own resamples
resample_func_immigration = function(x, seed = sample(c(0, 1000), size = 1), left_idx, right_idx) {
 set.seed(seed)
 df = x[, c(left_idx, right_idx)]
 variable = colnames(x)[c(left_idx, right_idx)]
 len = length(variable)
 resampled = list()
 n = nrow(df)
 for (i in 1:len) {
   var = df[, variable[i]]
   lev = levels(var)
   resampled[[i]] = factor(sample(lev, size = n, replace = TRUE))
 }

 resampled_df = data.frame(resampled[[1]])
 for (i in 2:len) {
   resampled_df = cbind(resampled_df, resampled[[i]])
 }
 colnames(resampled_df) = colnames(df)

 #escape persecution was dependently randomized
 country_1 = resampled_df[, "FeatCountry"]
 country_2 = resampled_df[, "FeatCountry_2"]
 i_1 = which((country_1 == "Iraq" | country_1 == "Sudan" | country_1 == "Somalia"))
 i_2 = which((country_2 == "Iraq" | country_2 == "Sudan" | country_2 == "Somalia"))

 reason_1 = resampled_df[, "FeatReason"]
 reason_2 = resampled_df[, "FeatReason_2"]
 levs = levels(reason_1)
 r_levs = levs[c(2,3)]

 reason_1 = sample(r_levs, size = n, replace = TRUE)

 reason_1[i_1] = sample(levs, size = length(i_1), replace = TRUE)

 reason_2 = sample(r_levs, size = n, replace = TRUE)

 reason_2[i_2] = sample(levs, size = length(i_2), replace = TRUE)

 resampled_df[, "FeatReason"] = reason_1
 resampled_df[, "FeatReason_2"] = reason_2

 #profession high skill fix
 educ_1 = resampled_df[, "FeatEd"]
 educ_2 = resampled_df[, "FeatEd_2"]
 i_1 = which((educ_1 == "Equivalent to completing two years of college in the US" |
  educ_1 == "Equivalent to completing a college degree in the US" |
  educ_1 == "Equivalent to completing a graduate degree in the US"))
 i_2 = which((educ_2 == "Equivalent to completing two years of college in the US" |
 educ_2 == "Equivalent to completing a college degree in the US" |
 educ_2 == "Equivalent to completing a graduate degree in the US"))


 job_1 = resampled_df[, "FeatJob"]
 job_2 = resampled_df[, "FeatJob_2"]
 levs = levels(job_1)
 # take out computer programmer, doctor, financial analyst, and research scientist
 r_levs = levs[-c(2,4,5, 9)]

 job_1 = sample(r_levs, size = n, replace = TRUE)

 job_1[i_1] = sample(levs, size = length(i_1), replace = TRUE)

 job_2 = sample(r_levs, size = n, replace = TRUE)

 job_2[i_2] = sample(levs, size = length(i_2), replace = TRUE)

 resampled_df[, "FeatJob"] = job_1
 resampled_df[, "FeatJob_2"] = job_2

 resampled_df[colnames(resampled_df)] = lapply(resampled_df[colnames(resampled_df)], factor )

 return(resampled_df)
}


own_resamples = list()
B = 50
for (i in 1:B) {
 newdf = resample_func_immigration(carryover_df, left_idx = 1:9, right_idx = 10:18, seed = i)
 own_resamples[[i]] = newdf
}
carryover_test = CRT_carryovereffect(formula = form, data = carryover_df, left = left,
right = right, task = "task", supplyown_resamples = own_resamples, B = B)
carryover_test$p_val

</code></pre>

<hr>
<h2 id='CRT_fatigueeffect'>Testing fatigue effect in Conjoint Experiments</h2><span id='topic+CRT_fatigueeffect'></span>

<h3>Description</h3>

<p>This function takes a conjoint dataset and returns the p-value when using the
CRT to test if the fatigue effect holds using HierNet test statistic.
The function requires user to specify the outcome, all factors used in the
conjoint experiment, and both the evaluation task number and respondent index.
The function assumes the forced choice conjoint experiment and consequently
assumes the data to contain the left and right profile factors in separate
column in the dataset supplied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CRT_fatigueeffect(
  formula,
  data,
  left,
  right,
  task,
  respondent,
  profileorder_constraint = TRUE,
  non_factor = NULL,
  B = 200,
  parallel = TRUE,
  num_cores = 2,
  nfolds = 3,
  lambda = c(20, 30, 40),
  tol = 0.001,
  speedup = TRUE,
  seed = sample(c(1:1000), size = 1),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CRT_fatigueeffect_+3A_formula">formula</code></td>
<td>
<p>A formula object specifying the outcome variable on the left-hand
side and factors of (X,Z) and respondent characteristics (V) in the right hand side.
RHS variables should be separated by + signs and should only contain either
left or right for each (X,Z).
For example Y ~ Country_left + Education_left is sufficient as opposed to
Y ~ Country_left + Country_right + Education_left + Education_right</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_data">data</code></td>
<td>
<p>A dataframe containing outcome variable and all factors (X,Z,V)
(including both left and right profile factors). All (X,Z,V) listed in
the formula above are expected to be of class factor unless explicitly stated
in non_factor input.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_left">left</code></td>
<td>
<p>Vector of column names of data that corresponds to the left profile factors</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_right">right</code></td>
<td>
<p>Vector of column names of data that corresponds to the right profile factors.
NOTE: left and right are assumed to be the same length and the
order should correspond to the same variables. For example left =
c(&quot;Country_left&quot;, &quot;Education_left&quot;) and right = c(&quot;Country_right&quot;, &quot;Education_right&quot;)</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_task">task</code></td>
<td>
<p>A character string indicating column of data that contains the task
evaluation. IMPORTANT: The task variable is assumed to have no missing tasks, i.e.,
each respondent should have 1:J tasks. Please drop respondents with missing tasks.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_respondent">respondent</code></td>
<td>
<p>A character string indicating column of data that contains the
respondent index. The column should contain integers from 1:N indicating respondent index.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_profileorder_constraint">profileorder_constraint</code></td>
<td>
<p>Boolean indicating whether to enforce profile order
constraint (default = TRUE)</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_non_factor">non_factor</code></td>
<td>
<p>A vector of strings indicating columns of data that are not factors.
This should only be used for respondent characteristics (V) that are not factors.
For example non_factor = &quot;Respondent_Age&quot;.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_b">B</code></td>
<td>
<p>Numeric integer value indicating the number of resamples for the CRT procedure.
Default value is B=200.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_parallel">parallel</code></td>
<td>
<p>Boolean indicating whether parallel computing should be used.
Default value is TRUE.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_num_cores">num_cores</code></td>
<td>
<p>Numeric integer indicating number of cores to use when parallel=TRUE.
num_cores should not exceed the number of cores the user's machine can handle. Default is 2.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_nfolds">nfolds</code></td>
<td>
<p>Numeric integer indicating number of cross-validation folds. Default is 3.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_lambda">lambda</code></td>
<td>
<p>Numeric vector indicating lambda used for cross-validation for HierNet fit.
Default lambda=c(20,30,40).</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_tol">tol</code></td>
<td>
<p>Numeric value indicating acceptable tolerance for terminating optimization
fit for HierNet. Default is tol=1e-3. WARNING: Do not increase as it greatly increases
computation time.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_speedup">speedup</code></td>
<td>
<p>Boolean indicating whether to employ computational tricks to make
function run faster. It is always recommended to use default speedup=TRUE.</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_seed">seed</code></td>
<td>
<p>Seed used for CRT procedure</p>
</td></tr>
<tr><td><code id="CRT_fatigueeffect_+3A_verbose">verbose</code></td>
<td>
<p>Boolean indicating verbose output. Default verbose=TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing: </p>
<table>
<tr><td><code>p_val</code></td>
<td>
<p>A numeric value for the p-value testing
fatigue effect.</p>
</td></tr>
<tr><td><code>obs_test_stat</code></td>
<td>
<p>A numeric value for the observed test statistic.</p>
</td></tr>
<tr><td><code>resampled_test_stat</code></td>
<td>
<p>Matrix containing all the B resampled test statistics</p>
</td></tr>
<tr><td><code>tol</code></td>
<td>
<p>Tolerance used for HierNet</p>
</td></tr>
<tr><td><code>lam</code></td>
<td>
<p>Best cross-validated lambda</p>
</td></tr>
<tr><td><code>hiernet_fit</code></td>
<td>
<p>An object of class hiernet that contains the hiernet fit for
the observed test statistic</p>
</td></tr>
<tr><td><code>seed</code></td>
<td>
<p>Seed used</p>
</td></tr>
<tr><td><code>elapsed_time</code></td>
<td>
<p>Elapsed time</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ham, D., Janson, L., and Imai, K.
(2022) Using Machine Learning to Test Causal Hypotheses in Conjoint Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Subset of Immigration Choice Conjoint Experiment Data from Hainmueller et. al. (2014).
data("immigrationdata")
form = formula("Y ~ FeatEd + FeatGender + FeatCountry + FeatReason + FeatJob +
FeatExp + FeatPlans + FeatTrips + FeatLang + ppage + ppeducat + ppethm + ppgender")
left = colnames(immigrationdata)[1:9]
right = colnames(immigrationdata)[10:18]
# Each respondent evaluated 5 tasks
J = 5
fatigue_df = immigrationdata
fatigue_df$task = rep(1:J, nrow(fatigue_df)/J)
fatigue_df$respondent = rep(1:(nrow(fatigue_df)/J), each = J)

fatigue_test = CRT_fatigueeffect(formula = form, data = fatigue_df, left = left,
right = right, task = "task", respondent = "respondent", B = 50)
fatigue_test$p_val

</code></pre>

<hr>
<h2 id='CRT_profileordereffect'>Testing profile order effect in Conjoint Experiments</h2><span id='topic+CRT_profileordereffect'></span>

<h3>Description</h3>

<p>This function takes a conjoint dataset and returns the p-value when using the
CRT to test if the profile order effect holds using HierNet test statistic.
The function requires user to specify the outcome, all factors used in the
conjoint experiment, and any additional respondent characteristics.
The function assumes the forced choice conjoint experiment and consequently
assumes the data to contain the left and right profile factors in separate column
in the dataset supplied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CRT_profileordereffect(
  formula,
  data,
  left,
  right,
  non_factor = NULL,
  B = 200,
  parallel = TRUE,
  num_cores = 2,
  nfolds = 3,
  lambda = c(20, 30, 40),
  tol = 0.001,
  speedup = TRUE,
  seed = sample(c(1:1000), size = 1),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CRT_profileordereffect_+3A_formula">formula</code></td>
<td>
<p>A formula object specifying the outcome variable on the
left-hand side and factors of (X,Z) and respondent characteristics (V) in the
right hand side.
RHS variables should be separated by + signs and should only contain either
left or right for each (X,Z).
For example Y ~ Country_left + Education_left is sufficient as opposed to
Y ~ Country_left + Country_right + Education_left + Education_right</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_data">data</code></td>
<td>
<p>A dataframe containing outcome variable and all factors (X,Z,V)
(including both left and right profile factors). All (X,Z,V) listed in
the formula above are expected to be of class factor unless explicitly stated
in non_factor input.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_left">left</code></td>
<td>
<p>Vector of column names of data that corresponds to the left profile factors</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_right">right</code></td>
<td>
<p>Vector of column names of data that corresponds to the right profile factors.
NOTE: left and right are assumed to be the same length and the
order should correspond to the same variables. For example left =
c(&quot;Country_left&quot;, &quot;Education_left&quot;) and right = c(&quot;Country_right&quot;, &quot;Education_right&quot;)</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_non_factor">non_factor</code></td>
<td>
<p>A vector of strings indicating columns of data that are not factors.
This should only be used for respondent characteristics (V) that are not factors.
For example non_factor = &quot;Respondent_Age&quot;.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_b">B</code></td>
<td>
<p>Numeric integer value indicating the number of resamples for the CRT
procedure. Default value is B=200.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_parallel">parallel</code></td>
<td>
<p>Boolean indicating whether parallel computing should be used.
Default value is TRUE.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_num_cores">num_cores</code></td>
<td>
<p>Numeric integer indicating number of cores to use when parallel=TRUE.
num_cores should not exceed the number of cores the user's machine can handle. Default is 2.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_nfolds">nfolds</code></td>
<td>
<p>Numeric integer indicating number of cross-validation folds. Default is 3.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_lambda">lambda</code></td>
<td>
<p>Numeric vector indicating lambda used for cross-validation for HierNet fit.
Default lambda=c(20,30,40).</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_tol">tol</code></td>
<td>
<p>Numeric value indicating acceptable tolerance for terminating
optimization fit for HierNet. Default is tol=1e-3. WARNING: Do not increase
as it greatly increases computation time.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_speedup">speedup</code></td>
<td>
<p>Boolean indicating whether to employ computational tricks to
make function run faster. It is always recommended to use default speedup=TRUE.</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_seed">seed</code></td>
<td>
<p>Seed used for CRT procedure</p>
</td></tr>
<tr><td><code id="CRT_profileordereffect_+3A_verbose">verbose</code></td>
<td>
<p>Boolean indicating verbose output. Default verbose=TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing: </p>
<table>
<tr><td><code>p_val</code></td>
<td>
<p>A numeric value for the p-value testing
profile order effect.</p>
</td></tr>
<tr><td><code>obs_test_stat</code></td>
<td>
<p>A numeric value for the observed test statistic.</p>
</td></tr>
<tr><td><code>resampled_test_stat</code></td>
<td>
<p>Matrix containing all the B resampled test statistics</p>
</td></tr>
<tr><td><code>tol</code></td>
<td>
<p>Tolerance used for HierNet</p>
</td></tr>
<tr><td><code>lam</code></td>
<td>
<p>Best cross-validated lambda</p>
</td></tr>
<tr><td><code>hiernet_fit</code></td>
<td>
<p>An object of class hiernet that contains the hiernet fit
for the observed test statistic</p>
</td></tr>
<tr><td><code>seed</code></td>
<td>
<p>Seed used</p>
</td></tr>
<tr><td><code>elapsed_time</code></td>
<td>
<p>Elapsed time</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ham, D., Janson, L., and Imai, K. (2022)
Using Machine Learning to Test Causal Hypotheses in Conjoint Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Subset of Immigration Choice Conjoint Experiment Data from Hainmueller et. al. (2014).
data("immigrationdata")
form = formula("Y ~ FeatEd + FeatGender + FeatCountry + FeatReason + FeatJob +
FeatExp + FeatPlans + FeatTrips + FeatLang + ppage + ppeducat + ppethm + ppgender")
left = colnames(immigrationdata)[1:9]
right = colnames(immigrationdata)[10:18]

# Testing if profile order effect is present or not in immigration data

profileorder_test = CRT_profileordereffect(formula = form, data = immigrationdata,
 left = left, right = right, B = 50)
profileorder_test$p_val

</code></pre>

<hr>
<h2 id='CRT_pval'>Testing whether factor X matters in Conjoint Experiments</h2><span id='topic+CRT_pval'></span>

<h3>Description</h3>

<p>This function takes a conjoint dataset and returns the p-value when using the
CRT to test if Y is independent of X given Z using HierNet test statistic.
The function requires user to specify the outcome, all factors used in the
conjoint experiment, and any additional respondent characteristics. By default,
this function assumes a uniform randomization of factor levels. In addition,
the function assumes the forced choice conjoint experiment and consequently assumes
the data to contain the left and right profile factors in separate columns in the
supplied dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CRT_pval(
  formula,
  data,
  X,
  left,
  right,
  design = "Uniform",
  p = NULL,
  constraint_randomization = NULL,
  supplyown_resamples = NULL,
  profileorder_constraint = TRUE,
  in_levs = NULL,
  forced_var = NULL,
  non_factor = NULL,
  B = 200,
  parallel = TRUE,
  num_cores = 2,
  nfolds = 3,
  lambda = c(20, 30, 40),
  tol = 0.001,
  speedup = TRUE,
  seed = sample(c(1:1000), size = 1),
  analysis = 0,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CRT_pval_+3A_formula">formula</code></td>
<td>
<p>A formula object specifying the outcome variable on the left-hand side
and factors of (X,Z) and respondent characteristics (V) in the right hand side.
RHS variables should be separated by + signs and should only contain either left
or right for each (X,Z).
For example Y ~ Country_left + Education_left is sufficient as opposed to
Y ~ Country_left + Country_right + Education_left + Education_right</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_data">data</code></td>
<td>
<p>A dataframe containing outcome variable and all factors (X,Z,V)
(including both left and right profile factors). All (X,Z,V) listed in
the formula above are expected to be of class factor unless explicitly stated
in non_factor input.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_x">X</code></td>
<td>
<p>Character string specifying the variable of interest. This character
should match column name in data. For example &quot;Country_left&quot; is sufficient.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_left">left</code></td>
<td>
<p>Vector of column names of data that corresponds to the left profile factors</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_right">right</code></td>
<td>
<p>Vector of column names of data that corresponds to the right profile factors.
NOTE: left and right are assumed to be the same length and the
order should correspond to the same variables. For example left = c(&quot;Country_left&quot;,
&quot;Education_left&quot;) and right = c(&quot;Country_right&quot;, &quot;Education_right&quot;)</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_design">design</code></td>
<td>
<p>A character string of one of the following options: &quot;Uniform&quot;,
&quot;Constrained Uniform&quot;, &quot;Nonuniform&quot;, &quot;Manual&quot;. &quot;Uniform&quot; refers to a completely uniform
design where all (X,Z) are sampled uniformly. &quot;Nonuniform&quot; refers to a design where all
(X,Z) are sampled independently but the levels of X are not sampled uniformly.
If design=&quot;Nonuniform&quot;, then user should supply the non-uniform probability weights in p.
If in_levs is not NULL, then length of p should match in_levs. &quot;Constrained Uniform&quot;
refers to a dependent randomization design where some levels of X are only
possible based on certain levels of Z. If design=&quot;Constrained Uniform&quot;
user should supply constraint_randomization list indicating the dependencies.
See examples below.
&quot;Manual&quot; refers to more complex conjoint designs, where the user will supply
their own resamples in supplyown_resamples input. Default is design=&quot;Uniform&quot;</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_p">p</code></td>
<td>
<p>A vector of nonuniform probability weights used when design=&quot;Nonuniform&quot;.
Length of p should match number of levels of X or length of in_levs.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_constraint_randomization">constraint_randomization</code></td>
<td>
<p>List containing levels of X that can only be
sampled with certain values of Z (used when design=&quot;Constrained Uniform&quot;).
The first element of constraint_randomization should contain the levels of X
that can only be sampled with certain values of Z, which are included in the
second element of the list. See example below.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_supplyown_resamples">supplyown_resamples</code></td>
<td>
<p>List of length B that contains own resamples of X
when design=&quot;Manual&quot;. Each element of list should contain a dataframe
with the same number of rows of data and two columns for the left and right
profile values of X.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_profileorder_constraint">profileorder_constraint</code></td>
<td>
<p>Boolean indicating whether to enforce profile
order constraint (default = TRUE)</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_in_levs">in_levs</code></td>
<td>
<p>A vector of strings which indicates a subset of the levels of X to
test for. See example below.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_forced_var">forced_var</code></td>
<td>
<p>A character string indicating column name of Z or V that user
wishes to force an interaction with.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_non_factor">non_factor</code></td>
<td>
<p>A vector of strings indicating columns of data that are not
factors. This should only be used for respondent characteristics (V) that are
not factors. For example non_factor = &quot;Respondent_Age&quot;.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_b">B</code></td>
<td>
<p>Numeric integer value indicating the number of resamples for the CRT
procedure. Default value is B=200.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_parallel">parallel</code></td>
<td>
<p>Boolean indicating whether parallel computing should be used.
Default value is TRUE.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_num_cores">num_cores</code></td>
<td>
<p>Numeric integer indicating number of cores to use when parallel=TRUE.
num_cores should not exceed the number of cores the user's machine can handle. Default is 2.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_nfolds">nfolds</code></td>
<td>
<p>Numeric integer indicating number of cross-validation folds. Default is 3.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_lambda">lambda</code></td>
<td>
<p>Numeric vector indicating lambda used for cross-validation for
HierNet fit. Default lambda=c(20,30,40).</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_tol">tol</code></td>
<td>
<p>Numeric value indicating acceptable tolerance for terminating optimization
fit for HierNet. Default is tol=1e-3. WARNING: Do not increase as it greatly
increases computation time.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_speedup">speedup</code></td>
<td>
<p>Boolean indicating whether to employ computational tricks to
make function run faster. It is always recommended to use default speedup=TRUE.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_seed">seed</code></td>
<td>
<p>Seed used for CRT procedure</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_analysis">analysis</code></td>
<td>
<p>Numeric integer indicating whether to return the top x number
of strongest interactions that contributed to the the observed test statistic.
Default analysis = 0 to not return any top interactions. If analysis &gt; 0,
for example analysis = 2, then the top two strongest interactions contribution to
the test statistic along with which interaction is returned.
NOTE: this is purely for exploratory analysis.</p>
</td></tr>
<tr><td><code id="CRT_pval_+3A_verbose">verbose</code></td>
<td>
<p>Boolean indicating verbose output. Default verbose=TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing: </p>
<table>
<tr><td><code>p_val</code></td>
<td>
<p>A numeric value for the p-value testing
Y independent of X given Z.</p>
</td></tr>
<tr><td><code>obs_test_stat</code></td>
<td>
<p>A numeric value for the observed test statistic. If analysis
is &gt; 0, obs_test_stat will contain a list detailing the contribution of the main effects
interaction effects and the top interactions.</p>
</td></tr>
<tr><td><code>resampled_test_stat</code></td>
<td>
<p>Matrix containing all the B resampled test statistics</p>
</td></tr>
<tr><td><code>tol</code></td>
<td>
<p>Tolerance used for HierNet</p>
</td></tr>
<tr><td><code>lam</code></td>
<td>
<p>Best cross-validated lambda</p>
</td></tr>
<tr><td><code>hiernet_fit</code></td>
<td>
<p>An object of class hiernet that contains the hiernet fit for
the observed test statistic</p>
</td></tr>
<tr><td><code>seed</code></td>
<td>
<p>Seed used</p>
</td></tr>
<tr><td><code>elapsed_time</code></td>
<td>
<p>Elapsed time</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ham, D., Janson, L., and Imai, K. (2022)
Using Machine Learning to Test Causal Hypotheses in Conjoint Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Subset of Immigration Choice Conjoint Experiment Data from Hainmueller et. al. (2014).
data("immigrationdata")
form = formula("Y ~ FeatEd + FeatGender + FeatCountry + FeatReason + FeatJob +
FeatExp + FeatPlans + FeatTrips + FeatLang + ppage + ppeducat + ppethm + ppgender")
left = colnames(immigrationdata)[1:9]
right = colnames(immigrationdata)[10:18]


# Testing whether edcuation matters for immigration preferences
education_test = CRT_pval(formula = form, data = immigrationdata, X = "FeatEd",
 left = left, right = right, non_factor = "ppage", B = 100, analysis = 2)
education_test$p_val


# Testing whether job matters for immigration preferences
constraint_randomization = list() # (Job has dependent randomization scheme)
constraint_randomization[["FeatJob"]] = c("Financial analyst","Computer programmer",
"Research scientist","Doctor")
constraint_randomization[["FeatEd"]] = c("Equivalent to completing two years of
college in the US", "Equivalent to completing a graduate degree in the US",
 "Equivalent to completing a college degree in the US")

job_test = CRT_pval(formula = form, data = immigrationdata, X = "FeatJob",
left = left, right = right, design = "Constrained Uniform",
constraint_randomization = constraint_randomization, non_factor = "ppage", B = 100)
job_test$p_val



# Testing whether Mexican and European immigrants are treated indistinguishably
country_data = immigrationdata
country_data$FeatCountry = as.character(country_data$FeatCountry)
country_data$FeatCountry_2 = as.character(country_data$FeatCountry_2)
country_data$FeatCountry[country_data$FeatCountry %in% c("Germany", "France",
"Poland")] = "Europe"
country_data$FeatCountry_2[country_data$FeatCountry_2 %in% c("Germany", "France",
 "Poland")] = "Europe"
country_data$FeatCountry = factor(country_data$FeatCountry)
country_data$FeatCountry_2 = factor(country_data$FeatCountry_2)

mexico_Europe_test = CRT_pval(formula = form, data = country_data, X = "FeatCountry",
left = left, right = right, design = "Nonuniform",
in_levs = c("Mexico", "Europe"), p = c(0.25, 0.75), non_factor = "ppage", B = 100,
analysis = 2)


# example case with supplying own resamples
resample_Mexico_Europe = function(country_data) {
 resamples_1 = sample(c("Mexico", "Europe"), size = nrow(country_data),
 replace = TRUE, p = c(0.25, 0.75))
 resamples_2 = sample(c("Mexico", "Europe"), size = nrow(country_data),
 replace = TRUE, p = c(0.25, 0.75))
 resample_df = data.frame(resamples_1, resamples_2)
 return(resample_df)
}
own_resamples = list()
for (i in 1:100) {
   own_resamples[[i]] = resample_Mexico_Europe(country_data)
}
mexico_Europe_test = CRT_pval(formula = form, data = country_data, X = "FeatCountry",
left = left, right = right, design = "Manual",
in_levs = c("Mexico", "Europe"), supplyown_resamples = own_resamples,
non_factor = "ppage", B = 100, analysis = 2)

# example case with forcing with candidate gender

mexico_Europe_test_force = CRT_pval(formula = form, data = country_data,
X = "FeatCountry", left = left, right = right, design = "Nonuniform",
in_levs = c("Mexico", "Europe"), p = c(0.25, 0.75), forced_var = "FeatGender",
non_factor = "ppage", B = 100)

</code></pre>

<hr>
<h2 id='CRTConjoint-package'>CRTConjoint: Conditional Randomization Testing (CRT) Approach for Conjoint Analysis</h2><span id='topic+CRTConjoint'></span><span id='topic+CRTConjoint-package'></span>

<h3>Description</h3>

<p>Computes p-value according to the CRT using the HierNet test statistic. For more details, see Ham, Imai, Janson (2022) &quot;Using Machine Learning to Test Causal Hypotheses in Conjoint Analysis&quot; <a href="https://arxiv.org/abs/2201.08343">arXiv:2201.08343</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dae Woong Ham <a href="mailto:daewoongham@g.harvard.edu">daewoongham@g.harvard.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Kosuke Imai <a href="mailto:imai@harvard.edu">imai@harvard.edu</a>
</p>
</li>
<li><p> Lucas Janson <a href="mailto:ljanson@fas.harvard.edu">ljanson@fas.harvard.edu</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Jacob Bien <a href="mailto:jbien@usc.edu">jbien@usc.edu</a> [contributor, copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/daewoongham97/CRTConjoint">https://github.com/daewoongham97/CRTConjoint</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/daewoongham97/CRTConjoint/issues">https://github.com/daewoongham97/CRTConjoint/issues</a>
</p>
</li></ul>


<hr>
<h2 id='immigrationdata'>Immigration Choice Conjoint Experiment Data from Hainmueller et. al. (2014).</h2><span id='topic+immigrationdata'></span>

<h3>Description</h3>

<p>This dataset is a subset of the first 1000 rows chosen from the original immigration dataset.
Each row consists of a pair of immigrant candidates that were shown to respondents.
The respondent then chooses either the left or right profile (main binary response) from
the nine profile factors shown for each candidate. Respondent characteristics are also recorded.
For example, the first row shows that the left immigrant candidate was a Male from Iraq
who had a high school degree, etc. while the right immigrant candidate was a Female from France
with no formal education, etc. The respondent who evaluated this task was a 20 year old
college educated White Male, who voted for the left immigrant candidate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>immigrationdata
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 23 variables:
</p>

<dl>
<dt>FeatEd</dt><dd><p>Education of left candidate containing levels: &quot;College Degree&quot;, &quot;Graduate Degree&quot;, &quot;Eighth Grade&quot;, &quot;Fourth Grade&quot;, &quot;High School&quot;, &quot;Two Years of College&quot;, and &quot;No Education&quot;</p>
</dd>
<dt>FeatGender</dt><dd><p>Gender of left candidate containing levels: &quot;Female&quot; and &quot;Male&quot;</p>
</dd>
<dt>FeatCountry</dt><dd><p>Country of origin of left candidate containing levels: &quot;Poland&quot;, &quot;France&quot;, &quot;Iraq&quot;, &quot;Somalia&quot;, &quot;Sudan&quot;, &quot;China&quot;, &quot;Mexico&quot;, &quot;Germany&quot;, &quot;Philippines&quot;, and &quot;India&quot;</p>
</dd>
<dt>FeatReason</dt><dd><p>Reason for immigration of left candidate containing levels: &quot;Escape political/religious persecution&quot;, &quot;Reunite with family members&quot;, and &quot;Seek better job&quot;</p>
</dd>
<dt>FeatJob</dt><dd><p>Occupation of left candidate containing levels: &quot;Waiter&quot;, &quot;Child care provider&quot;, &quot;Teacher&quot;, &quot;Nurse&quot;, &quot;Construction worker&quot;, &quot;Janitor&quot;, &quot;Gardener&quot;, &quot;Financial analyst&quot;, &quot;Computer programmer&quot;, &quot;Research scientist&quot;, and &quot;Doctor&quot;</p>
</dd>
<dt>FeatExp</dt><dd><p>Job Experience of left candidate containing levels: &quot;More than five years&quot;, &quot;No job training&quot;, &quot;One-two years&quot;, and &quot;Three-five years&quot;</p>
</dd>
<dt>FeatPlans</dt><dd><p>Job Plans of left candidate containing levels: &quot;Does not contract with U.S. employer but have job interview&quot;, &quot;No Contract&quot;, &quot;No plans&quot;, and &quot;Will look for work after arriving&quot;</p>
</dd>
<dt>FeatTrips</dt><dd><p>Trips to U.S. of left candidate containing levels: &quot;Entered U.S. once without legal authorization&quot;, &quot;Entered U.S. once before on tourist visa&quot;, &quot;Multiple visits on tourist visa&quot;, &quot;Never visited&quot;, and &quot;Spent six months with family in U.S.&quot;</p>
</dd>
<dt>FeatLang</dt><dd><p>Language of left candidate containing levels: &quot;Used interpreter&quot;, &quot;Broken English&quot;, &quot;Unable to speak English&quot;, and &quot;Fluent English&quot;</p>
</dd>
<dt>FeatEd_2</dt><dd><p>Education of right candidate containing levels: &quot;College Degree&quot;, &quot;Graduate Degree&quot;, &quot;Eighth Grade&quot;, &quot;Fourth Grade&quot;, &quot;High School&quot;, &quot;Two Years of College&quot;, and &quot;No Education&quot;</p>
</dd>
<dt>FeatGender_2</dt><dd><p>Gender of right candidate containing levels: &quot;Female&quot; and &quot;Male&quot;</p>
</dd>
<dt>FeatCountry_2</dt><dd><p>Country of origin of right candidate containing levels: &quot;Poland&quot;, &quot;France&quot;, &quot;Iraq&quot;, &quot;Somalia&quot;, &quot;Sudan&quot;, &quot;China&quot;, &quot;Mexico&quot;, &quot;Germany&quot;, &quot;Philippines&quot;, and &quot;India&quot;</p>
</dd>
<dt>FeatReason_2</dt><dd><p>Reason for immigration of right candidate containing levels: &quot;Escape political/religious persecution&quot;, &quot;Reunite with family members&quot;, and &quot;Seek better job&quot;</p>
</dd>
<dt>FeatJob_2</dt><dd><p>Occupation of right candidate containing levels: &quot;Waiter&quot;, &quot;Child care provider&quot;, &quot;Teacher&quot;, &quot;Nurse&quot;, &quot;Construction worker&quot;, &quot;Janitor&quot;, &quot;Gardener&quot;, &quot;Financial analyst&quot;, &quot;Computer programmer&quot;, &quot;Research scientist&quot;, and &quot;Doctor&quot;</p>
</dd>
<dt>FeatExp_2</dt><dd><p>Job Experience of right candidate containing levels: &quot;More than five years&quot;, &quot;No job training&quot;, &quot;One-two years&quot;, and &quot;Three-five years&quot;</p>
</dd>
<dt>FeatPlans_2</dt><dd><p>Job Plans of right candidate containing levels: &quot;Does not contract with U.S. employer but have job interview&quot;, &quot;No Contract&quot;, &quot;No plans&quot;, and &quot;Will look for work after arriving&quot;</p>
</dd>
<dt>FeatTrips_2</dt><dd><p>Trips to U.S. of right candidate containing levels: &quot;Entered U.S. once without legal authorization&quot;, &quot;Entered U.S. once before on tourist visa&quot;, &quot;Multiple visits on tourist visa&quot;, &quot;Never visited&quot;, and &quot;Spent six months with family in U.S.&quot;</p>
</dd>
<dt>FeatLang_2</dt><dd><p>Language of right candidate containing levels: &quot;Used interpreter&quot;, &quot;Broken English&quot;, &quot;Unable to speak English&quot;, and &quot;Fluent English&quot;</p>
</dd>
<dt>ppage</dt><dd><p>Respondent age (numeric variable)</p>
</dd>
<dt>ppeducat</dt><dd><p>Respondent education containing levels</p>
</dd>
<dt>ppethm</dt><dd><p>Respondent ethnicity</p>
</dd>
<dt>ppgender</dt><dd><p>Respondent gender</p>
</dd>
<dt>Y</dt><dd><p>Binary response variable Y: 1 if left profile is selected and 0 otherwise</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

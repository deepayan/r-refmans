<!DOCTYPE html><html><head><title>Help for package nomisr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nomisr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#nomisr'><p>nomisr: Access Nomis UK Labour Market Data with R</p></a></li>
<li><a href='#nomis_api_key'><p>Nomis API Key</p></a></li>
<li><a href='#nomis_codelist'><p>Nomis codelists</p></a></li>
<li><a href='#nomis_content_type'><p>Nomis dataset content types</p></a></li>
<li><a href='#nomis_data_info'><p>Nomis data structures</p></a></li>
<li><a href='#nomis_get_data'><p>Retrieve Nomis datasets</p></a></li>
<li><a href='#nomis_get_metadata'><p>Nomis metadata concepts and types</p></a></li>
<li><a href='#nomis_overview'><p>Nomis dataset overview</p></a></li>
<li><a href='#nomis_search'><p>Search Nomis datasets</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access 'Nomis' UK Labour Market Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.7</td>
</tr>
<tr>
<td>Description:</td>
<td>Access UK official statistics from the 'Nomis' database. 
    'Nomis' includes data from the Census, the Labour Force Survey, DWP benefit 
    statistics and other economic and demographic data from the Office for 
    National Statistics, based around statistical geographies. See 
    <a href="https://www.nomisweb.co.uk/api/v01/help">https://www.nomisweb.co.uk/api/v01/help</a> for full API documentation.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ropensci/nomisr">https://github.com/ropensci/nomisr</a>,
<a href="https://docs.evanodell.com/nomisr">https://docs.evanodell.com/nomisr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/nomisr/issues">https://github.com/ropensci/nomisr/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite, tibble, dplyr, httr, utils, rsdmx, rlang, snakecase</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, purrr, tidyr, magrittr, ggplot2,
scales, readr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-11 15:14:49 UTC; evanodell</td>
</tr>
<tr>
<td>Author:</td>
<td>Evan Odell <a href="https://orcid.org/0000-0003-1845-808X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Paul Egeler [rev, ctb],
  Christophe Dervieux
    <a href="https://orcid.org/0000-0003-4474-2498"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [rev],
  Nina Robery [ctb] (Work and Health Indicators with nomisr vignette)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Evan Odell &lt;evanodell91@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-06-11 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='nomisr'>nomisr: Access Nomis UK Labour Market Data with R</h2><span id='topic+nomisr-package'></span>

<h3>Description</h3>

<p>Access UK official statistics from the Nomis database. Nomis
includes data from the Census, the Labour Force Survey, DWP benefit
statistics and other economic and demographic data from the Office for
National Statistics.
</p>


<h3>Details</h3>

<p>The package provides functions to find what data is available, metadata,
including the variables and query options for different datasets and
a function for downloading data.
</p>
<p>The full API documentation and optional registration for an API key is
available at <a href="https://www.nomisweb.co.uk/api/v01/help">https://www.nomisweb.co.uk/api/v01/help</a>.
</p>

<hr>
<h2 id='nomis_api_key'>Nomis API Key</h2><span id='topic+nomis_api_key'></span>

<h3>Description</h3>

<p>Assign or reassign API key for Nomis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_api_key(check_env = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_api_key_+3A_check_env">check_env</code></td>
<td>
<p>If TRUE, will check the environment variable
<code>NOMIS_API_KEY</code> first before asking for user input.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Nomis API has an optional key. Using the key means that 100,000
rows can be returned per call, which can speed up larger data requests and
reduce the chances of being rate limited or having requests timing out.
</p>
<p>By default, <code>nomisr</code> will look for the environment variable
<code>NOMIS_API_KEY</code> when the package is loaded. If found, the API key will
be stored in the session option <code>nomisr.API.key</code>. If you would like to
reload the API key or would like to manually enter one in, this function
may be used.
</p>
<p>You can sign up for an API key
<a href="https://www.nomisweb.co.uk/myaccount/userjoin.asp">here</a>.
</p>

<hr>
<h2 id='nomis_codelist'>Nomis codelists</h2><span id='topic+nomis_codelist'></span>

<h3>Description</h3>

<p>Nomis uses its own internal coding for query concepts. <code>nomis_codelist</code>
returns the codes for a given concept in a <code>tibble</code>, given a dataset
ID and a concept name.
Note that some codelists, particularly geography, can be very large.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_codelist(id, concept, search = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_codelist_+3A_id">id</code></td>
<td>
<p>A string with the ID of the particular dataset. Must be specified.</p>
</td></tr>
<tr><td><code id="nomis_codelist_+3A_concept">concept</code></td>
<td>
<p>A string with the variable concept to return options for. If
left empty, returns all the variables for the dataset specified by <code>id</code>.
Codes are not case sensitive and must be specified.</p>
</td></tr>
<tr><td><code id="nomis_codelist_+3A_search">search</code></td>
<td>
<p>Search for codes that contain a given string. The wildcard
character <code>*</code> can be added to the beginning and/or end of each
search string. Search strings are not case sensitive.
Defaults to <code>NULL</code>. Note that the search function is not very powerful
for some datasets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the codes used to query specific concepts.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nomis_data_info">nomis_data_info()</a></code>
</p>
<p><code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code>
</p>
<p><code><a href="#topic+nomis_overview">nomis_overview()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- nomis_codelist("NM_1_1", "item")


# Searching for codes ending with "london"
y &lt;- nomis_codelist("NM_1_1", "geography", search = "*london")


z &lt;- nomis_codelist("NM_161_1", "cause_of_death")


</code></pre>

<hr>
<h2 id='nomis_content_type'>Nomis dataset content types</h2><span id='topic+nomis_content_type'></span>

<h3>Description</h3>

<p>Nomis content type metadata is included in annotation tags, in the form of
<code style="white-space: pre;">&#8288;contenttype/&lt;contenttype&gt;&#8288;</code> in the <code>annotationtitle</code> column in
the <code>annotations.annotation</code> list-column returned from
<code><a href="#topic+nomis_data_info">nomis_data_info()</a></code>. For example, the content types returned from
dataset &quot;NM_1658_1&quot;, using <code>nomis_data_info("NM_1658_1")</code>, are
&quot;geoglevel&quot;, &quot;2001census&quot; and &quot;sources&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_content_type(content_type, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_content_type_+3A_content_type">content_type</code></td>
<td>
<p>A string with the content type to return metadata on.</p>
</td></tr>
<tr><td><code id="nomis_content_type_+3A_id">id</code></td>
<td>
<p>A string with an optional <code>content_type</code> id.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with metadata on a given content type.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nomis_search">nomis_search()</a></code>
</p>
<p><code><a href="#topic+nomis_data_info">nomis_data_info()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
a &lt;- nomis_content_type("sources")

tibble::glimpse(a)

b &lt;- nomis_content_type("sources", id = "census")

tibble::glimpse(b)


</code></pre>

<hr>
<h2 id='nomis_data_info'>Nomis data structures</h2><span id='topic+nomis_data_info'></span>

<h3>Description</h3>

<p>Retrieve metadata on the structure and available variables for all available
data sets or the information available in a specific dataset based on its ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_data_info(id, tidy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_data_info_+3A_id">id</code></td>
<td>
<p>Dataset ID. If empty, returns data on all available datasets.
If the ID of a dataset, returns metadata for that particular dataset.</p>
</td></tr>
<tr><td><code id="nomis_data_info_+3A_tidy">tidy</code></td>
<td>
<p>If <code>TRUE</code>, converts tibble names to snakecase.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with all available datasets and their metadata.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nomis_get_data">nomis_get_data()</a></code>
</p>
<p><code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code>
</p>
<p><code><a href="#topic+nomis_overview">nomis_overview()</a></code>
</p>
<p><code><a href="#topic+nomis_codelist">nomis_codelist()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Get info on all datasets
x &lt;- nomis_data_info()

tibble::glimpse(x)

# Get info on a particular dataset
y &lt;- nomis_data_info("NM_1658_1")

tibble::glimpse(y)


</code></pre>

<hr>
<h2 id='nomis_get_data'>Retrieve Nomis datasets</h2><span id='topic+nomis_get_data'></span>

<h3>Description</h3>

<p>To find the code options for a given dataset, use
<code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code> for specific codes, and
<code><a href="#topic+nomis_codelist">nomis_codelist()</a></code> for code values.
</p>
<p>This can be a slow process if querying significant amounts of
data. Guest users are limited to 25,000 rows per query, although
<code>nomisr</code> identifies queries that will return more than 25,000 rows,
sending individual queries and combining the results of those queries into
a single tibble. In interactive sessions, <code>nomisr</code> will warn you if
guest users are requesting more than 350,000 rows of data, and if
registered users are requesting more than 1,500,000 rows.
</p>
<p>Note the difference between the <code>time</code> and <code>date</code>
parameters. The <code>time</code> and <code>date</code> parameters should not be used at the same
time. If they are, the function will retrieve data based on the the
<code>date</code> parameter. If given more than one query, <code>time</code> will
return all data available between those queries, inclusively, while
<code>date</code> will only return data for the exact queries specified. So
<code>time = c("first", "latest")</code> will return all data, while
<code>date = c("first", "latest")</code> will return only the earliest and latest
data published.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_get_data(
  id,
  time = NULL,
  date = NULL,
  geography = NULL,
  sex = NULL,
  measures = NULL,
  additional_queries = NULL,
  exclude_missing = FALSE,
  select = NULL,
  tidy = FALSE,
  tidy_style = "snake_case",
  query_id = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_get_data_+3A_id">id</code></td>
<td>
<p>A string containing the ID of the dataset to retrieve,
in <code>"nm_***_*"</code> format. The <code>id</code> parameter is not case sensitive.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_time">time</code></td>
<td>
<p>Parameter for selecting dates and date ranges. Accepts either a
single date value, or two date values and returns all data between the two
date values, There are two styles of values that can be used to query time.
</p>
<p>The first is one or two of <code>"latest"</code> (returns the latest available
data), <code>"previous"</code> (the date prior to <code>"latest"</code>), <code>"prevyear"</code>
(the date one year prior to <code>"latest"</code>) or <code>"first"</code>
(the oldest available data for the dataset).
</p>
<p>The second style is to use or a specific date or multiple dates, in the
style of the time variable codelist, which can be found using the
<code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code> function.
</p>
<p>Values for the <code>time</code> and <code>date</code> parameters should not be used
at the same time. If they are, the function will retrieve data based
on the the <code>date</code> parameter.
</p>
<p>Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_date">date</code></td>
<td>
<p>Parameter for selecting specific dates. Accepts one or more date
values. If given multiple values, only data for the given dates will be
returned, but there is no limit to the number of data values. For example,
<code>date=c("latest, latestMINUS3, latestMINUS6")</code> will return the latest
data, data from three months prior to the latest data and six months prior
to the latest data. There are two styles of values that can be used to
query time.
</p>
<p>The first is one or more of <code>"latest"</code> (returns the latest available
data), <code>"previous"</code> (the date prior to <code>"latest"</code>),
<code>"prevyear"</code> (the date one year prior to <code>"latest"</code>) or
<code>"first"</code> (the oldest available data for the dataset).
</p>
<p>The second style is to use or a specific date or multiple dates, in the
style of the time variable codelist, which can be found using the
<code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code> function.
</p>
<p>Values for the <code>time</code> and <code>date</code> parameters should not be used at
the same time. If they are, the function will retrieve data based on the
the <code>date</code> parameter.
</p>
<p>Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_geography">geography</code></td>
<td>
<p>The code of the geographic area to return data for. If
<code>NULL</code>, returns data for all available geographic areas, subject to
other parameters. Defaults to <code>NULL</code>. In the rare instance that a
geographic variable does not exist, if not <code>NULL</code>, the function
will return an error.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_sex">sex</code></td>
<td>
<p>The code for sexes/genders to include in the dataset.
Accepts a string or number, or a vector of strings or numbers.
<code>nomisr</code> automatically voids any queries for sex if it is not an
available code in the requested dataset. Defaults to <code>NULL</code> and returns
all available sex/gender data.
</p>
<p>There are two different codings used for sex, depending on the dataset. For
datasets using <code>"SEX"</code>, <code>7</code> will return results for males and females, <code>6</code>
only females and <code>5</code> only males. Defaults to <code>NULL</code>, equivalent to
<code>c(5,6,7)</code> for datasets where sex is an option. For datasets using
<code>"C_SEX"</code>, <code>0</code> will return results for males and females, <code>1</code> only males
and <code>2</code> only females. Some datasets use <code>"GENDER"</code> with the same values
as <code>"SEX"</code>, which works with both <code style="white-space: pre;">&#8288;sex = &lt;code&gt;&#8288;</code> and <code style="white-space: pre;">&#8288;gender = &lt;code&gt;&#8288;</code>
as a dot parameter.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_measures">measures</code></td>
<td>
<p>The code for the statistical measure(s) to include in the
data. Accepts a single string or number, or a list of strings or numbers.
If <code>NULL</code>, returns data for all available statistical measures subject
to other parameters. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_additional_queries">additional_queries</code></td>
<td>
<p>Any other additional queries to pass to the API.
See <a href="https://www.nomisweb.co.uk/api/v01/help">https://www.nomisweb.co.uk/api/v01/help</a> for instructions on
query structure. Defaults to <code>NULL</code>. Deprecated in package versions greater
than 0.2.0 and will eventually be removed in a future version.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_exclude_missing">exclude_missing</code></td>
<td>
<p>If <code>TRUE</code>, excludes all missing values.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_select">select</code></td>
<td>
<p>A character vector of one or more variables to include in
the returned data, excluding all others. <code>select</code> is not case sensitive.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_tidy">tidy</code></td>
<td>
<p>Logical parameter. If <code>TRUE</code>, converts variable names to
<code>snake_case</code>, or another style as specified by the
<code>tidy_style</code> parameter. Defaults to <code>FALSE</code>. The default variable name style
from the API is SCREAMING_SNAKE_CASE.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_tidy_style">tidy_style</code></td>
<td>
<p>The style to convert variable names to, if
<code>tidy = TRUE</code>. Accepts one of <code>"snake_case"</code>, <code>"camelCase"</code>
and <code>"period.case"</code>, or any of the <code>case</code> options accepted by
<code><a href="snakecase.html#topic+to_any_case">snakecase::to_any_case()</a></code>. Defaults to <code>"snake_case"</code>.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_query_id">query_id</code></td>
<td>
<p>Results can be labelled as belonging to a certain query
made to the API. <code>query_id</code> accepts any value as a string, and will
be included in every row of the tibble returned by <code>nomis_get_data</code>
in a column labelled &quot;QUERY_ID&quot; in the default SCREAMING_SNAKE_CASE
used by the API. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_get_data_+3A_...">...</code></td>
<td>
<p>Use to pass any other parameters to the API. Useful for passing
concepts that are not available through the default parameters. Only accepts
concepts identified in <code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code> and concept values
identified in <code><a href="#topic+nomis_codelist">nomis_codelist()</a></code>. Parameters can be quoted or
unquoted. Each parameter should have a name and a value. For example,
<code>CAUSE_OF_DEATH = 10300</code> when querying dataset <code>"NM_161_1"</code>.
Parameters are not case sensitive. Note that R using partial matching for
function variables, and so passing a parameter with the same opening
characters as one of the above-named parameters can cause an error unless
the value of the named parameter is specified, including as <code>NULL</code>.
See example below:</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing the selected dataset. By default, all tibble
columns except for the <code>"OBS_VALUE"</code> column are parsed as characters.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nomis_data_info">nomis_data_info()</a></code>
</p>
<p><code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code>
</p>
<p><code><a href="#topic+nomis_codelist">nomis_codelist()</a></code>
</p>
<p><code><a href="#topic+nomis_overview">nomis_overview()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Return data on Jobseekers Allowance for each country in the UK
jobseekers_country &lt;- nomis_get_data(
  id = "NM_1_1", time = "latest",
  geography = "TYPE499",
  measures = c(20100, 20201), sex = 5
)

# Return data on Jobseekers Allowance for Wigan
jobseekers_wigan &lt;- nomis_get_data(
  id = "NM_1_1", time = "latest",
  geography = "1879048226",
  measures = c(20100, 20201), sex = "5"
)

# annual population survey - regional - employment by occupation
emp_by_occupation &lt;- nomis_get_data(
  id = "NM_168_1", time = "latest",
  geography = "2013265925", sex = "0",
  select = c(
    "geography_code",
    "C_OCCPUK11H_0_NAME", "obs_vAlUE"
  )
)

# Deaths in 2016 and 2015 by three specified causes,
# identified with nomis_get_metadata()
death &lt;- nomis_get_data("NM_161_1",
  date = c("2016", "2015"),
  geography = "TYPE480",
  cause_of_death = c(10300, 102088, 270)
)

# All causes of death in London in 2016
london_death &lt;- nomis_get_data("NM_161_1",
  date = c("2016"),
  geography = "2013265927", sex = 1, age = 0
)

## Not run: 
# Results in an error because `measure` is mistaken for `measures`
mort_data1 &lt;- nomis_get_data(
  id = "NM_161_1", date = "2016",
  geography = "TYPE464", sex = 0, cause_of_death = "10381",
  age = 0, measure = 6
)

# Does not error because `measures` is specified
mort_data2 &lt;- nomis_get_data(
  id = "NM_161_1", date = "2016",
  geography = "TYPE464", sex = 0, measures = NULL,
  cause_of_death = "10381", age = 0, measure = 6
)

## End(Not run)

</code></pre>

<hr>
<h2 id='nomis_get_metadata'>Nomis metadata concepts and types</h2><span id='topic+nomis_get_metadata'></span>

<h3>Description</h3>

<p>Retrieve all concept code options of all Nomis datasets,
concept code options for a given dataset, or the all the options for a given
concept variable from a particular dataset. Specifying <code>concept</code> will
return all the options for a given variable in a particular dataset.
</p>
<p>If looking for a more detailed overview of all available
metadata for a given dataset, see <code><a href="#topic+nomis_overview">nomis_overview()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_get_metadata(
  id,
  concept = NULL,
  type = NULL,
  search = NULL,
  additional_queries = NULL,
  ...,
  tidy = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_get_metadata_+3A_id">id</code></td>
<td>
<p>The ID of the particular dataset. Returns no data if not specified.</p>
</td></tr>
<tr><td><code id="nomis_get_metadata_+3A_concept">concept</code></td>
<td>
<p>A string with the variable concept to return options for. If
left empty, returns all the variables for the dataset specified by <code>id</code>.
Codes are not case sensitive. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_get_metadata_+3A_type">type</code></td>
<td>
<p>A string with options for a particular code value, to return
types of variables available for a given code. Defaults to <code>NULL</code>. If
<code>concept == NULL</code>, <code>type</code> will be ignored.</p>
</td></tr>
<tr><td><code id="nomis_get_metadata_+3A_search">search</code></td>
<td>
<p>A string or character vector of strings to search for in the
metadata. Defaults to <code>NULL</code>. As in <code><a href="#topic+nomis_search">nomis_search()</a></code>, the
wildcard character <code>*</code> can be added to the beginning and/or end of each
search string.</p>
</td></tr>
<tr><td><code id="nomis_get_metadata_+3A_additional_queries">additional_queries</code></td>
<td>
<p>Any other additional queries to pass to the API.
See <a href="https://www.nomisweb.co.uk/api/v01/help">https://www.nomisweb.co.uk/api/v01/help</a> for instructions on
query structure. Defaults to <code>NULL</code>. Deprecated in package
versions greater than 0.2.0 and will eventually be removed.</p>
</td></tr>
<tr><td><code id="nomis_get_metadata_+3A_...">...</code></td>
<td>
<p>Use to pass any other parameters to the API.</p>
</td></tr>
<tr><td><code id="nomis_get_metadata_+3A_tidy">tidy</code></td>
<td>
<p>If <code>TRUE</code>, converts tibble names to snakecase.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with metadata options for queries using <code><a href="#topic+nomis_get_data">nomis_get_data()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nomis_data_info">nomis_data_info()</a></code>
</p>
<p><code><a href="#topic+nomis_get_data">nomis_get_data()</a></code>
</p>
<p><code><a href="#topic+nomis_overview">nomis_overview()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
a &lt;- nomis_get_metadata("NM_1_1")

print(a)

b &lt;- nomis_get_metadata("NM_1_1", "geography")

tibble::glimpse(b)

# returns all types of geography
c &lt;- nomis_get_metadata("NM_1_1", "geography", "TYPE")

tibble::glimpse(c)

# returns geography types available within Wigan
d &lt;- nomis_get_metadata("NM_1_1", "geography", "1879048226")

tibble::glimpse(d)

e &lt;- nomis_get_metadata("NM_1_1", "item", geography = 1879048226, sex = 5)

print(e)

f &lt;- nomis_get_metadata("NM_1_1", "item", search = "*married*")

tibble::glimpse(f)


</code></pre>

<hr>
<h2 id='nomis_overview'>Nomis dataset overview</h2><span id='topic+nomis_overview'></span>

<h3>Description</h3>

<p>Returns an overview of available metadata for a given dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_overview(id, select = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_overview_+3A_id">id</code></td>
<td>
<p>The ID of the particular dataset. Returns no data if not specified.</p>
</td></tr>
<tr><td><code id="nomis_overview_+3A_select">select</code></td>
<td>
<p>A string or character vector of one or more overview parts to
select, excluding all others. <code>select</code> is not case sensitive. The
options for <code>select</code> are described below, and are taken from the
<a href="https://www.nomisweb.co.uk/api/v01/help">Nomis API help page</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with two columns, one a character vector with the name of
the metadata category, and the other a list column of values for each
category.
</p>


<h3>Overview part options</h3>


<dl>
<dt>DatasetInfo</dt><dd><p>General dataset information such as name, description,
sub-description, mnemonic, restricted access and status</p>
</dd>
<dt>Coverage</dt><dd><p>Shows the geographic coverage of the main geography
dimension in this dataset (e.g. United Kingdom, England and Wales etc.)</p>
</dd>
<dt>Keywords</dt><dd><p>The keywords allocated to the dataset</p>
</dd>
<dt>Units</dt><dd><p>The units of measure supported by the dataset</p>
</dd>
<dt>ContentTypes</dt><dd><p>The classifications allocated to this dataset</p>
</dd>
<dt>DateMetadata</dt><dd><p>Information about the first release, last update and
next update</p>
</dd>
<dt>Contact</dt><dd><p>Details for the point of contact for this dataset</p>
</dd>
<dt>Analyses</dt><dd><p>Show the available analysis breakdowns of this dataset</p>
</dd>
<dt>Dimensions</dt><dd><p>Individual dimension information (e.g. sex, geography,
date, etc.)</p>
</dd>
<dt>Dimension-concept</dt><dd><p>Allows a specific dimension to be selected (e.g.
dimension-geography would allow information about geography dimension). This
is not used if &quot;Dimensions&quot; is specified too.</p>
</dd>
<dt>Codes</dt><dd><p>Full list of selectable codes, excluding Geography, which as a
list of Types instead. (Requires &quot;Dimensions&quot; to be selected too)</p>
</dd>
<dt>Codes-concept</dt><dd><p>Full list of selectable codes for a specific dimension,
excluding Geography, which as a list of Types instead. This is not used if
&quot;Codes&quot; is specified too (Requires &quot;Dimensions&quot; or equivalent to be
selected too)</p>
</dd>
<dt>DimensionMetadata</dt><dd><p>Any available metadata attached at the dimensional
level (Requires &quot;Dimensions&quot; or equivalent to be selected too)</p>
</dd>
<dt>Make</dt><dd><p>Information about whether user defined codes can be created with
the MAKE parameter when querying data (Requires &quot;Dimensions&quot; or equivalent
to be selected too)</p>
</dd>
<dt>DatasetMetadata</dt><dd><p>Metadata attached at the dataset level</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+nomis_data_info">nomis_data_info()</a></code>
</p>
<p><code><a href="#topic+nomis_get_metadata">nomis_get_metadata()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(dplyr)

q &lt;- nomis_overview("NM_1650_1")

q %&gt;%
  tidyr::unnest(name) %&gt;%
  glimpse()

s &lt;- nomis_overview("NM_1650_1", select = c("Units", "Keywords"))

s %&gt;%
  tidyr::unnest(name) %&gt;%
  glimpse()


</code></pre>

<hr>
<h2 id='nomis_search'>Search Nomis datasets</h2><span id='topic+nomis_search'></span>

<h3>Description</h3>

<p>A function to search for datasets on given topics. In the case of multiple
search parameters, returns metadata on all datasets matching  one or more
of the parameters. The wildcard character <code>*</code> can be added to the
beginning and/or end of each search string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomis_search(
  name = NULL,
  description = NULL,
  keywords = NULL,
  content_type = NULL,
  units = NULL,
  tidy = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nomis_search_+3A_name">name</code></td>
<td>
<p>A string or character vector of strings to search for in
available dataset names. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_search_+3A_description">description</code></td>
<td>
<p>A string or character vector of strings to search for in
available dataset descriptions. Note that <code>description</code> looks for
complete matches, so wildcards should be used at the start and end of
each string. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_search_+3A_keywords">keywords</code></td>
<td>
<p>A string or character vector of strings to search for in
available dataset keywords. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_search_+3A_content_type">content_type</code></td>
<td>
<p>A string or character vector of strings to search for
in available dataset content types. <code>content_type</code> can include an
optional ID for that content type. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_search_+3A_units">units</code></td>
<td>
<p>A string or character vector of strings to search for in
available dataset units. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="nomis_search_+3A_tidy">tidy</code></td>
<td>
<p>If <code>TRUE</code>, converts tibble names to snakecase.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with details on all datasets matching the search query.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nomis_content_type">nomis_content_type()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- nomis_search(name = "*seekers*")

y &lt;- nomis_search(keywords = "Claimants")

# Return metadata of all datasets with content_type "sources".
a &lt;- nomis_search(content_type = "sources")


# Return metadata of all datasets with content_type "sources" and
# source ID "acses"
b &lt;- nomis_search(content_type = "sources-acses")


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

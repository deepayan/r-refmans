<!DOCTYPE html><html><head><title>Help for package R2SWF</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {R2SWF}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dev2swf'><p>Convert R graphics to SWF using different graphics devices</p></a></li>
<li><a href='#file2swf'><p>Convert image files to SWF</p></a></li>
<li><a href='#image2swf'><p>Convert bitmap images to SWF</p></a></li>
<li><a href='#svg2swf'><p>Convert a sequence of SVG files to SWF file</p></a></li>
<li><a href='#swf'><p>SWF graphics device</p></a></li>
<li><a href='#swf2html'><p>Embed the SWF file into an HTML page</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.9-9</td>
</tr>
<tr>
<td>Title:</td>
<td>Convert R Graphics to Flash Animations</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-02</td>
</tr>
<tr>
<td>Author:</td>
<td>Yixuan Qiu, Yihui Xie, Cameron Bracken and authors of included
    software. See file AUTHORS for details.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yixuan Qiu &lt;yixuan.qiu@cos.name&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>sysfonts, grDevices, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>XML, Cairo</td>
</tr>
<tr>
<td>Description:</td>
<td>Using the 'Ming' library
    <a href="https://github.com/libming/libming">https://github.com/libming/libming</a> to create Flash animations.
    Users can either use the 'SWF' device swf() to generate 'SWF' file
    directly through plotting functions like plot() and lines(),
    or convert images of other formats ('SVG', 'PNG', 'JPEG') into 'SWF'.</td>
</tr>
<tr>
<td>Copyright:</td>
<td>see file COPYRIGHTS</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>zlib, libpng, FreeType</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/yixuan/R2SWF">https://github.com/yixuan/R2SWF</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/yixuan/R2SWF/issues">https://github.com/yixuan/R2SWF/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-02 02:03:11 UTC; qyx</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-02 06:02:36 UTC</td>
</tr>
</table>
<hr>
<h2 id='dev2swf'>Convert R graphics to SWF using different graphics devices</h2><span id='topic+dev2swf'></span>

<h3>Description</h3>

<p>Given an R expression that can produce a sequence of images, this function
will record the images with the device provided (e.g.
<code><a href="grDevices.html#topic+png">png</a>()</code> or <code><a href="grDevices.html#topic+jpeg">jpeg</a>()</code>) and
convert them to a Flash file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dev2swf(
  expr,
  output = "movie.swf",
  bgColor = "white",
  interval = 1,
  dev = "png",
  file.ext = "png",
  img.name = "Rplot",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dev2swf_+3A_expr">expr</code></td>
<td>
<p>an expression to generate a sequence of images</p>
</td></tr>
<tr><td><code id="dev2swf_+3A_output">output</code></td>
<td>
<p>the name of the output swf file</p>
</td></tr>
<tr><td><code id="dev2swf_+3A_bgcolor">bgColor</code></td>
<td>
<p>background color of the output SWF file</p>
</td></tr>
<tr><td><code id="dev2swf_+3A_interval">interval</code></td>
<td>
<p>the time interval between animation frames</p>
</td></tr>
<tr><td><code id="dev2swf_+3A_dev">dev</code></td>
<td>
<p>the name of the graphics device to use (e.g. <code>'png'</code> or
<code>'jpeg'</code>)</p>
</td></tr>
<tr><td><code id="dev2swf_+3A_file.ext">file.ext</code></td>
<td>
<p>the file extension for the images</p>
</td></tr>
<tr><td><code id="dev2swf_+3A_img.name">img.name</code></td>
<td>
<p>the file name of the images without the extension</p>
</td></tr>
<tr><td><code id="dev2swf_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to the graphics device</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can also use devices which are not in the <span class="pkg">grDevices</span> package by
setting the <code>dev</code> argument to the name of the function that opens a
device, e.g. <code><a href="Cairo.html#topic+CairoPNG">CairoPNG</a>()</code> in the <span class="pkg">Cairo</span> package. Note
that the <code>file.ext</code> argument should be set accordingly.
</p>


<h3>Value</h3>

<p>The name of the generated swf file if succeeded.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>olddir = setwd(tempdir())
output1 = dev2swf({
  for(i in 1:10) plot(runif(20), ylim = c(0, 1))
}, dev='png', file.ext='png', output='movie-png.swf')
swf2html(output1)

if(capabilities("cairo")) {
    output2 = dev2swf({
        for(i in 1:10) plot(runif(20), ylim = c(0, 1))
    }, dev='svg', file.ext='svg', output='movie-svg.swf')
    swf2html(output2)
}

setwd(olddir)
</code></pre>

<hr>
<h2 id='file2swf'>Convert image files to SWF</h2><span id='topic+file2swf'></span>

<h3>Description</h3>

<p>This function converts a sequence of PNG/JPEG/SVG image files to SWF. Based
on the image format, it calls <code><a href="#topic+image2swf">image2swf</a></code> or
<code><a href="#topic+svg2swf">svg2swf</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file2swf(files, output, bgColor = "white", interval = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file2swf_+3A_files">files</code></td>
<td>
<p>a character vector of input filenames</p>
</td></tr>
<tr><td><code id="file2swf_+3A_output">output</code></td>
<td>
<p>the name of the output swf file</p>
</td></tr>
<tr><td><code id="file2swf_+3A_bgcolor">bgColor</code></td>
<td>
<p>background color of the output SWF file</p>
</td></tr>
<tr><td><code id="file2swf_+3A_interval">interval</code></td>
<td>
<p>the time interval between animation frames</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The name of the SWF file.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>

<hr>
<h2 id='image2swf'>Convert bitmap images to SWF</h2><span id='topic+image2swf'></span>

<h3>Description</h3>

<p>Given the file names of a sequence of images, this function can convert them
into a Flash file (.swf). Supported input formats are jpg/jpeg and png. The
two formats are allowed to appear in the same sequence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>image2swf(input, output = "movie.swf", bgColor = "white", interval = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="image2swf_+3A_input">input</code></td>
<td>
<p>the file names of the images to be converted</p>
</td></tr>
<tr><td><code id="image2swf_+3A_output">output</code></td>
<td>
<p>the name of the output SWF file</p>
</td></tr>
<tr><td><code id="image2swf_+3A_bgcolor">bgColor</code></td>
<td>
<p>background color of the output SWF file</p>
</td></tr>
<tr><td><code id="image2swf_+3A_interval">interval</code></td>
<td>
<p>the time interval (in seconds) between animation frames</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses the Ming library (<a href="https://github.com/libming/libming">https://github.com/libming/libming</a>) to
implement the conversion. If you want to create a Flash file consisting of
vector graphics, use <code><a href="#topic+svg2swf">svg2swf</a>()</code> instead.
</p>


<h3>Value</h3>

<p>The name of the generated swf file if successful.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me">https://statr.me</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(capabilities("png")) {
  olddir = setwd(tempdir())
  png("Rplot%03d.png")
  for(i in 1:9) plot(runif(20), ylim = c(0, 1))
  dev.off()
  output = image2swf(sprintf("Rplot%03d.png", 1:9))
  swf2html(output)
  setwd(olddir)
}

</code></pre>

<hr>
<h2 id='svg2swf'>Convert a sequence of SVG files to SWF file</h2><span id='topic+svg2swf'></span>

<h3>Description</h3>

<p>Given the file names of a sequence of SVG files, this function could
convert them into a Flash file (.swf).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>svg2swf(input, output = "movie.swf", bgColor = "white", interval = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="svg2swf_+3A_input">input</code></td>
<td>
<p>the file names of the SVG files to be converted</p>
</td></tr>
<tr><td><code id="svg2swf_+3A_output">output</code></td>
<td>
<p>the name of the output SWF file</p>
</td></tr>
<tr><td><code id="svg2swf_+3A_bgcolor">bgColor</code></td>
<td>
<p>background color of the output SWF file</p>
</td></tr>
<tr><td><code id="svg2swf_+3A_interval">interval</code></td>
<td>
<p>the time interval (in seconds) between animation frames</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses the XML package in R and a subset of librsvg
(<a href="https://wiki.gnome.org/action/show/Projects/LibRsvg">https://wiki.gnome.org/action/show/Projects/LibRsvg</a>)
to parse the SVG file, and
uses the Ming library (<a href="https://github.com/libming/libming">https://github.com/libming/libming</a>) to
implement the conversion. Currently this function supports SVG files
created by <code><a href="grDevices.html#topic+svg">svg</a>()</code> in the <span class="pkg">grDevices</span>
package, and <code><a href="Cairo.html#topic+CairoSVG">CairoSVG</a>()</code> in the
<span class="pkg">Cairo</span> package.
</p>


<h3>Value</h3>

<p>The name of the generated SWF file if successful.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me">https://statr.me</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if(capabilities("cairo")) {
  olddir = setwd(tempdir())
  svg("Rplot%03d.svg", onefile = FALSE)
  set.seed(123)
  x = rnorm(5)
  y = rnorm(5)
  for(i in 1:100) {
      plot(x &lt;- x + 0.1 * rnorm(5), y &lt;- y + 0.1 * rnorm(5),
           xlim = c(-3, 3), ylim = c(-3, 3), col = "steelblue",
           pch = 16, cex = 2, xlab = "x", ylab = "y")
  }
  dev.off()
  output = svg2swf(sprintf("Rplot%03d.svg", 1:100), interval = 0.1)
  swf2html(output)
  setwd(olddir)
}

## End(Not run)

</code></pre>

<hr>
<h2 id='swf'>SWF graphics device</h2><span id='topic+swf'></span>

<h3>Description</h3>

<p>This function opens a SWF device that produces Flash animation
in SWF format. Every time you call a high level plotting function
like <code><a href="graphics.html#topic+plot">plot</a>()</code>, the movie will create a new
frame and draw following shapes on it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swf(
  file = "Rplots.swf",
  width = 7,
  height = 7,
  bg = "white",
  fg = "black",
  frameRate = 12
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swf_+3A_file">file</code></td>
<td>
<p>a character string giving the output SWF file</p>
</td></tr>
<tr><td><code id="swf_+3A_width">width</code></td>
<td>
<p>the width of the device in inches</p>
</td></tr>
<tr><td><code id="swf_+3A_height">height</code></td>
<td>
<p>the height of the device in inches</p>
</td></tr>
<tr><td><code id="swf_+3A_bg">bg</code></td>
<td>
<p>the background color of the SWF file</p>
</td></tr>
<tr><td><code id="swf_+3A_fg">fg</code></td>
<td>
<p>initial foreground color</p>
</td></tr>
<tr><td><code id="swf_+3A_framerate">frameRate</code></td>
<td>
<p>how many frames to be played in 1 second</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## A demonstration of K-means clustering, using animation package
olddir = setwd(tempdir())
if(require(animation)) {
    swf("kmeans.swf", frameRate = 1)
    kmeans.ani()
    dev.off()
}

## Test built-in fonts in sysfonts package
swf("fonts.swf", 8, 8)
plot(1, type = "n")

par(family = "sans", cex = 2)
text(0.7, 1.3, "Sans-R", font = 1)
text(0.7, 1.1, "Sans-B", font = 2)
text(0.7, 0.9, "Sans-I", font = 3)
text(0.7, 0.7, "Sans-BI", font = 4)

par(family = "serif")
text(1.0, 1.3, "Serif-R", font = 1)
text(1.0, 1.1, "Serif-B", font = 2)
text(1.0, 0.9, "Serif-I", font = 3)
text(1.0, 0.7, "Serif-BI", font = 4)

par(family = "mono")
text(1.3, 1.3, "Mono-R", font = 1)
text(1.3, 1.1, "Mono-B", font = 2)
text(1.3, 0.9, "Mono-I", font = 3)
text(1.3, 0.7, "Mono-BI", font = 4)

dev.off()
setwd(olddir)

## End(Not run)
</code></pre>

<hr>
<h2 id='swf2html'>Embed the SWF file into an HTML page</h2><span id='topic+swf2html'></span>

<h3>Description</h3>

<p>This function will generate an HTML file to display the Flash animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swf2html(swf.file, output, width = 480, height = 480, fragment = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swf2html_+3A_swf.file">swf.file</code></td>
<td>
<p>the path of the SWF file</p>
</td></tr>
<tr><td><code id="swf2html_+3A_output">output</code></td>
<td>
<p>the output path of the HTML file; by default &lsquo;<span class="file">foo.swf</span>&rsquo;
produces <code>foo.html</code> if not specified (set <code>FALSE</code> so that no file
will be written)</p>
</td></tr>
<tr><td><code id="swf2html_+3A_width">width</code></td>
<td>
<p>width of the Flash</p>
</td></tr>
<tr><td><code id="swf2html_+3A_height">height</code></td>
<td>
<p>height of the Flash</p>
</td></tr>
<tr><td><code id="swf2html_+3A_fragment">fragment</code></td>
<td>
<p>whether to produce an HTML fragment only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The HTML code as a character string.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>olddir = setwd(tempdir())
output = dev2swf({
  for (i in 1:10) plot(runif(20), ylim = c(0, 1))
}, output = 'test.swf')
swf2html(output)
setwd(olddir)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

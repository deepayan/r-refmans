<!DOCTYPE html><html lang="en"><head><title>Help for package pacu</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pacu}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pa_2utm'><p>Reproject a sf object to UTM coordinates</p></a></li>
<li><a href='#pa_adjust_obs_effective_area'><p>Adjust the effective area of each observation</p>
based on vehicular polygon overlap</a></li>
<li><a href='#pa_apportion_mass'><p>Impose a regular grid over yield polygons</p></a></li>
<li><a href='#pa_browse_dataspace'><p>Browse satellite products from the Copernicus Data</p>
Space Ecosystem</a></li>
<li><a href='#pa_check_yield'><p>Check the yield data before processing with the</p>
pa_yield function</a></li>
<li><a href='#pa_compute_vi'><p>Compute vegetation indices from a zipped Sentinel</p>
2 file</a></li>
<li><a href='#pa_download_dataspace'><p>Download satellite products from the Copernicus</p>
Data Space Ecosystem</a></li>
<li><a href='#pa_get_rgb'><p>Retrieve an RGB image from a zipped Sentinel 2 file</p></a></li>
<li><a href='#pa_get_vi_stats'><p>Request  vegetation index statistics from the Data</p>
Space Statistics API</a></li>
<li><a href='#pa_get_weather_sf'><p>Downloads a met file using the apsimx package</p></a></li>
<li><a href='#pa_initialize_dataspace'><p>Register the Data Space credentials to the R</p>
environment</a></li>
<li><a href='#pa_initialize_oauth'><p>Register the Oauth2.0 credentials to the R environment</p></a></li>
<li><a href='#pa_make_vehicle_polygons'><p>Make vehicular polygons for yield monitor</p>
observations</a></li>
<li><a href='#pa_plot'><p>Create a plot from a pacu object</p></a></li>
<li><a href='#pa_yield'><p>Create an interpolated yield object from raw data</p></a></li>
<li><a href='#pacu_options'><p>Setting some options for the package</p></a></li>
<li><a href='#pacu.options'><p>Environment which stores PACU options</p></a></li>
<li><a href='#print'><p>Print a pacu object</p></a></li>
<li><a href='#summary'><p>Produce result summaries of the various pacu objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Precision Agriculture Computational Utilities</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.44</td>
</tr>
<tr>
<td>Description:</td>
<td>Support for a variety of commonly used precision agriculture operations. Includes functions to download and process raw satellite images from Sentinel-2 <a href="https://documentation.dataspace.copernicus.eu/APIs/OData.html">https://documentation.dataspace.copernicus.eu/APIs/OData.html</a>. Includes functions that download vegetation index statistics for a given period of time, without the need to download the raw images <a href="https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Statistical.html">https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Statistical.html</a>. There are also functions to download and visualize weather data in a historical context. Lastly, the package also contains functions to process yield monitor data. These functions can build polygons around recorded data points, evaluate the overlap between polygons, clean yield data, and smooth yield maps.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cldossantos/pacu/issues">https://github.com/cldossantos/pacu/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>apsimx, gstat, httr, jsonlite, sf, stars, units, XML,
concaveman, tmap</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, ggplot2, patchwork, mgcv, nasapower, spData, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-16 20:47:07 UTC; caio</td>
</tr>
<tr>
<td>Author:</td>
<td>dos Santos Caio [aut, cre],
  Miguez Fernando [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>dos Santos Caio &lt;clsantos@iastate.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-17 10:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pa_2utm'>Reproject a sf object to UTM coordinates</h2><span id='topic+pa_2utm'></span>

<h3>Description</h3>

<p>Reproject a sf object to UTM coordinates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_2utm(df, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_2utm_+3A_df">df</code></td>
<td>
<p>sf object to be reprojected to UTM coordinates</p>
</td></tr>
<tr><td><code id="pa_2utm_+3A_verbose">verbose</code></td>
<td>
<p>whether to print operation details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will attempt to automatically
determine the adequate UTM zone and reproject a sf
object,
</p>


<h3>Value</h3>

<p>a sf object
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## for examples, see vignette pacu


</code></pre>

<hr>
<h2 id='pa_adjust_obs_effective_area'>Adjust the effective area of each observation
based on vehicular polygon overlap</h2><span id='topic+pa_adjust_obs_effective_area'></span>

<h3>Description</h3>

<p>Adjust the effective area of each
observation based on vehicular polygon overlap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_adjust_obs_effective_area(
  polygons,
  obs.vector,
  var.label = "yield",
  overlap.threshold = 0,
  cores = 1L,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_adjust_obs_effective_area_+3A_polygons">polygons</code></td>
<td>
<p>sf object containing vehicular polygons</p>
</td></tr>
<tr><td><code id="pa_adjust_obs_effective_area_+3A_obs.vector">obs.vector</code></td>
<td>
<p>a vector containing the observations</p>
</td></tr>
<tr><td><code id="pa_adjust_obs_effective_area_+3A_var.label">var.label</code></td>
<td>
<p>a string used to label the columns
(e.g., yield)</p>
</td></tr>
<tr><td><code id="pa_adjust_obs_effective_area_+3A_overlap.threshold">overlap.threshold</code></td>
<td>
<p>a fraction threshold to remove
observations. A value of 0 does not remove any
observations. A value of 1 removes all observations
that overlap even minimally with neighboring
observations.</p>
</td></tr>
<tr><td><code id="pa_adjust_obs_effective_area_+3A_cores">cores</code></td>
<td>
<p>the number of cores used in the operation</p>
</td></tr>
<tr><td><code id="pa_adjust_obs_effective_area_+3A_verbose">verbose</code></td>
<td>
<p>whether to print operation details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will make use of the vehicular
polygons to evaluate the overlap between polygons and
adjust the variable in obs.vector to the effective area
in the polygon. This is primarely intended for yield.
</p>


<h3>Value</h3>

<p>an sf object
</p>

<hr>
<h2 id='pa_apportion_mass'>Impose a regular grid over yield polygons</h2><span id='topic+pa_apportion_mass'></span>

<h3>Description</h3>

<p>Impose a regular grid over yield polygons
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_apportion_mass(
  polygons,
  mass.vector,
  cell.size = NULL,
  sum = FALSE,
  remove.empty.cells = TRUE,
  cores = 1L,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_apportion_mass_+3A_polygons">polygons</code></td>
<td>
<p>sf object containing polygon geometries</p>
</td></tr>
<tr><td><code id="pa_apportion_mass_+3A_mass.vector">mass.vector</code></td>
<td>
<p>a vector of mass observations</p>
</td></tr>
<tr><td><code id="pa_apportion_mass_+3A_cell.size">cell.size</code></td>
<td>
<p>optional numerical value (length 1) to
be used as the width and height of the grid</p>
</td></tr>
<tr><td><code id="pa_apportion_mass_+3A_sum">sum</code></td>
<td>
<p>whether the apportioned values should be
added together. This is useful in the case of
overlaping polygons that have an additive effect. For
example, polygons representing seeding rates.</p>
</td></tr>
<tr><td><code id="pa_apportion_mass_+3A_remove.empty.cells">remove.empty.cells</code></td>
<td>
<p>logical. Whether to remove
empty cells, with NA values.</p>
</td></tr>
<tr><td><code id="pa_apportion_mass_+3A_cores">cores</code></td>
<td>
<p>the number of cores used in the operation</p>
</td></tr>
<tr><td><code id="pa_apportion_mass_+3A_verbose">verbose</code></td>
<td>
<p>whether to print operation details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will impose a regular grid over
the yield polygons and compute the weighted average of
the mass value represented by each polygon. The
averages are weighted according to the polygon area.
</p>


<h3>Value</h3>

<p>sf object
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## for examples, see vignette pacu


</code></pre>

<hr>
<h2 id='pa_browse_dataspace'>Browse satellite products from the Copernicus Data
Space Ecosystem</h2><span id='topic+pa_browse_dataspace'></span>

<h3>Description</h3>

<p>Browse satellite products from the
Copernicus Data Space Ecosystem
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_browse_dataspace(
  aoi,
  start.date,
  end.date,
  max.cloud.cover = 100,
  collection.name = c("SENTINEL-2"),
  product.name = c("MSIL2A"),
  max.results = 1000
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_browse_dataspace_+3A_aoi">aoi</code></td>
<td>
<p>sf object used to filter satellite products</p>
</td></tr>
<tr><td><code id="pa_browse_dataspace_+3A_start.date">start.date</code></td>
<td>
<p>beginning of the time window to filter
satellite products. The date format should be '%Y-%m-%d'.</p>
</td></tr>
<tr><td><code id="pa_browse_dataspace_+3A_end.date">end.date</code></td>
<td>
<p>end of the time window to filter
satellite products. The date format should be '%Y-%m-%d'.</p>
</td></tr>
<tr><td><code id="pa_browse_dataspace_+3A_max.cloud.cover">max.cloud.cover</code></td>
<td>
<p>maximum cloud cover. Values should
be between 0 and 100. Images with cloud cover
assessment greater than this parameter will be removed
from the list.</p>
</td></tr>
<tr><td><code id="pa_browse_dataspace_+3A_collection.name">collection.name</code></td>
<td>
<p>collection of products to filter.
Currently, only SENTINEL-2 is supported.</p>
</td></tr>
<tr><td><code id="pa_browse_dataspace_+3A_product.name">product.name</code></td>
<td>
<p>partial match of product name used to
filter products. Currently, only supports MSIL2A.
We plan to expand this in the future.</p>
</td></tr>
<tr><td><code id="pa_browse_dataspace_+3A_max.results">max.results</code></td>
<td>
<p>maximum number of results to return</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'pa_browse_dataspace()' will use HTTP requests to
communicate with the Data Space API and search for
available satellite products matching the filters
established by the function parameters.
</p>


<h3>Value</h3>

<p>a list of entries
available for download
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
extd.dir &lt;- system.file("extdata", package = "pacu")
area.of.interest &lt;- sf::st_read(file.path(extd.dir, 'cobs_a_aoi.shp'), quiet = TRUE)
available.images &lt;- pa_browse_dataspace(aoi = area.of.interest,
                                        max.cloud.cover = 10,
                                        start.date = '2023-01-01',
                                        end.date = '2023-12-31')

## End(Not run)

</code></pre>

<hr>
<h2 id='pa_check_yield'>Check the yield data before processing with the
pa_yield function</h2><span id='topic+pa_check_yield'></span>

<h3>Description</h3>

<p>This function will check for red flags so
the user can know of potential problems before using
the pa_yield functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_check_yield(input, algorithm = c("all", "simple", "ritas"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_check_yield_+3A_input">input</code></td>
<td>
<p>an sf object containing the input data from
a yield monitor</p>
</td></tr>
<tr><td><code id="pa_check_yield_+3A_algorithm">algorithm</code></td>
<td>
<p>for which algorithm should the function
check the data. Different algorithms require different
information to be present in the input data set.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will check the input yield data
for any potential problems before the user runs the
'pa_yield()' function. Ideally, this function warn the user
of potential problems.
</p>


<h3>Value</h3>

<p>object of class check.yield
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
extd.dir &lt;- system.file("extdata", package = "pacu")
raw.yield &lt;- sf::read_sf(file.path(extd.dir, '2012-basswood.shp'),
                         quiet = TRUE)
chk &lt;- pa_check_yield(raw.yield)
chk


</code></pre>

<hr>
<h2 id='pa_compute_vi'>Compute vegetation indices from a zipped Sentinel
2 file</h2><span id='topic+pa_compute_vi'></span>

<h3>Description</h3>

<p>Compute vegetation indices from a zipped
Sentinel 2 file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_compute_vi(
  satellite.images,
  vi = c("ndvi", "ndre", "gcvi", "reci", "evi", "bsi"),
  aoi = NULL,
  check.clouds = FALSE,
  buffer.clouds = 100,
  downscale.to = NULL,
  pixel.res = c("default", "10m", "20m", "60m"),
  img.formats = c("jp2", "tif"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_compute_vi_+3A_satellite.images">satellite.images</code></td>
<td>
<p>list of file paths to the
Sentinel 2 zip files</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_vi">vi</code></td>
<td>
<p>the vegetation index to be computed</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_aoi">aoi</code></td>
<td>
<p>NULL or an sf object used to crop the
vegetation index raster to an area of interest</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_check.clouds">check.clouds</code></td>
<td>
<p>whether to check for clouds over the
area of interest. If clouds are found, the function
will skip cloudy images.</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_buffer.clouds">buffer.clouds</code></td>
<td>
<p>distance in meters around the area
of interest within a cloud would be considered to
interfere with the index calculation. This is useful to
eliminate the effect of cloud shading from the
analysis.</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_downscale.to">downscale.to</code></td>
<td>
<p>the resolution in meters to downscale the 
resolution of the vegetation index raster layer</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_pixel.res">pixel.res</code></td>
<td>
<p>pixel resolution used to compute the
vegetation index. Can be one of 10m, 20m, 30m</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_img.formats">img.formats</code></td>
<td>
<p>image formats to search for in the
zipped file</p>
</td></tr>
<tr><td><code id="pa_compute_vi_+3A_verbose">verbose</code></td>
<td>
<p>whether to display information on the
progress of operations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is script that unzips the Sentinel 2 zipped
file into a temporary folder, searches for the
index-relevant bands, and then computes the index. If
no &lsquo;aoi&rsquo; is provided, the script will compute
the vegetation index for the area covered by the image.
The vegetation indices are computed as follows:
</p>
<p style="text-align: center;"><code class="reqn">BSI = \frac{(SWIR + RED) - (NIR + BLUE)}{(SWIR + RED) + (NIR + BLUE)}</code>
</p>

<p style="text-align: center;"><code class="reqn">EVI = \frac{2.5 \times (NIR - RED)}{(NIR + (6 \times RED) - (7.5 \times BLUE) - 1) }</code>
</p>

<p style="text-align: center;"><code class="reqn">GCVI = \frac{(NIR)}{(GREEN)} - 1</code>
</p>

<p style="text-align: center;"><code class="reqn">NDRE = \frac{(NIR - RED edge)}{(NIR + RED edge)}</code>
</p>
 
<p style="text-align: center;"><code class="reqn">NDVI = \frac{(NIR - RED)}{(NIR + RED)}</code>
</p>
 
<p style="text-align: center;"><code class="reqn">RECI = \frac{(NIR)}{(RED edge)} - 1</code>
</p>



<h3>Value</h3>

<p>an object of class veg.index and stars
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
extd.dir &lt;- system.file("extdata", package = "pacu")
## List of zipped Sentinel files in a directory
s2a.files &lt;- list.files(extd.dir, '\\.zip', full.names = TRUE)
area.of.interest &lt;- sf::st_read(file.path(extd.dir, 'cobs_a_aoi.shp'))
ndvi &lt;- pa_compute_vi(satellite.images = s2a.files,
                            vi = 'ndvi',
                            aoi = area.of.interest,
                            check.clouds = TRUE)

ndre &lt;- pa_compute_vi(satellite.images = s2a.files,
                            vi = 'ndre',
                            aoi = area.of.interest,
                            check.clouds = TRUE)




</code></pre>

<hr>
<h2 id='pa_download_dataspace'>Download satellite products from the Copernicus
Data Space Ecosystem</h2><span id='topic+pa_download_dataspace'></span>

<h3>Description</h3>

<p>Download satellite products from the
Copernicus Data Space Ecosystem to find satellite
products
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_download_dataspace(x, dir.path = NULL, aoi = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_download_dataspace_+3A_x">x</code></td>
<td>
<p>object of class &lsquo;dslist&rsquo;</p>
</td></tr>
<tr><td><code id="pa_download_dataspace_+3A_dir.path">dir.path</code></td>
<td>
<p>directory path to which the files will be
saved</p>
</td></tr>
<tr><td><code id="pa_download_dataspace_+3A_aoi">aoi</code></td>
<td>
<p>NULL or an sf object. If an area of interest
(aoi) is provided, the downloaded zip files will be
cropped to the aoi. This was designed to save storage
space</p>
</td></tr>
<tr><td><code id="pa_download_dataspace_+3A_verbose">verbose</code></td>
<td>
<p>whether to display information on the
progress of operations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'pa_download_dataspace()' uses the object from
'pa_browse_dataspace()' to download the data from
Copernicus Data Space. The aoi argument is optional but
was designed to save storage space.
</p>


<h3>Value</h3>

<p>a list of objects
that could not be downloaded
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
extd.dir &lt;- system.file("extdata", package = "pacu")
area.of.interest &lt;- sf::st_read(file.path(extd.dir, 'cobs_a_aoi.shp'), quiet = TRUE)
available.images &lt;- pa_browse_dataspace(aoi = area.of.interest,
                                        max.cloud.cover = 10,
                                        start.date = '2023-01-01',
                                        end.date = '2023-12-31')
dwonloaded.images &lt;- pa_download_dataspace(x = available.images)


## End(Not run)

</code></pre>

<hr>
<h2 id='pa_get_rgb'>Retrieve an RGB image from a zipped Sentinel 2 file</h2><span id='topic+pa_get_rgb'></span>

<h3>Description</h3>

<p>Retrieve an RGB image from a zipped Sentinel 2 file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_get_rgb(
  satellite.images,
  aoi = NULL,
  pixel.res = "10m",
  img.formats = c("jp2", "tif"),
  rgb.bands = c("B04", "B02", "B03"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_get_rgb_+3A_satellite.images">satellite.images</code></td>
<td>
<p>list of file paths to the Sentinel 2 zip files</p>
</td></tr>
<tr><td><code id="pa_get_rgb_+3A_aoi">aoi</code></td>
<td>
<p>NULL or an sf object used to crop the RGB raster to an area of interest</p>
</td></tr>
<tr><td><code id="pa_get_rgb_+3A_pixel.res">pixel.res</code></td>
<td>
<p>pixel resolution used to retrieve the RGB image. Can be one of 10m, 20m, 30m.</p>
</td></tr>
<tr><td><code id="pa_get_rgb_+3A_img.formats">img.formats</code></td>
<td>
<p>image formats to search for in the zipped file</p>
</td></tr>
<tr><td><code id="pa_get_rgb_+3A_rgb.bands">rgb.bands</code></td>
<td>
<p>a vector containing the order of the RGB bands</p>
</td></tr>
<tr><td><code id="pa_get_rgb_+3A_verbose">verbose</code></td>
<td>
<p>whether to display information on the
progress of operations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is script that unzips the Sentinel 2 zipped file into a temporary folder, searches for the RGB,
and constructs a multi-band raster containing the RGB bands.
If no &lsquo;aoi&rsquo; is provided, the script will construct the RGB image for the area covered by the image.
</p>


<h3>Value</h3>

<p>an object of class rgb and stars
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
extd.dir &lt;- system.file("extdata", package = "pacu")
## List of zipped Sentinel files in a directory
s2a.files &lt;- list.files(extd.dir, '\\.zip', full.names = TRUE)
area.of.interest &lt;- sf::st_read(file.path(extd.dir, 'cobs_a_aoi.shp'))
rgb.rast &lt;- pa_get_rgb(satellite.images = s2a.files,
                            aoi = area.of.interest)
pa_plot(rgb.rast)


</code></pre>

<hr>
<h2 id='pa_get_vi_stats'>Request  vegetation index statistics from the Data
Space Statistics API</h2><span id='topic+pa_get_vi_stats'></span>

<h3>Description</h3>

<p>Request  vegetation index statistics from
the Data Space Statistics API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_get_vi_stats(
  aoi,
  start.date,
  end.date,
  collection = c("sentinel-2-l2a"),
  vegetation.index = c("bsi", "evi", "gcvi", "ndre", "ndvi", "reci"),
  agg.time = c("P1D", "P5D", "P10D"),
  by.feature = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_get_vi_stats_+3A_aoi">aoi</code></td>
<td>
<p>sf object used to filter satellite products</p>
</td></tr>
<tr><td><code id="pa_get_vi_stats_+3A_start.date">start.date</code></td>
<td>
<p>beginning of the time window to filter
satellite products. Date format should be '%Y-%m-%d'.</p>
</td></tr>
<tr><td><code id="pa_get_vi_stats_+3A_end.date">end.date</code></td>
<td>
<p>end of the time window to filter
satellite products. Date format should be '%Y-%m-%d'.</p>
</td></tr>
<tr><td><code id="pa_get_vi_stats_+3A_collection">collection</code></td>
<td>
<p>for now, it only supports 'sentinel2'.</p>
</td></tr>
<tr><td><code id="pa_get_vi_stats_+3A_vegetation.index">vegetation.index</code></td>
<td>
<p>vegetation index to be requested
from the Data Space</p>
</td></tr>
<tr><td><code id="pa_get_vi_stats_+3A_agg.time">agg.time</code></td>
<td>
<p>aggregation time of the satellite
products</p>
</td></tr>
<tr><td><code id="pa_get_vi_stats_+3A_by.feature">by.feature</code></td>
<td>
<p>logical, indicating whether the
statistics should be retrieved by each polygon when
multiple polygons are supplied in &lsquo;aoi&rsquo;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'pa_get_vi_sentinel2()' will use HTTP requests to
communicate with the Data Space Statistics API and
request areal statistics for the specified vegetation
index
</p>


<h3>Value</h3>

<p>returns an object of class veg.index and stars
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
extd.dir &lt;- system.file("extdata", package = "pacu")
area.of.interest &lt;- sf::st_read(file.path(extd.dir, 'cobs_a_aoi.shp'), quiet = TRUE)
ndvi &lt;- pa_get_vi_stats(aoi = area.of.interest,
                        start.date = '2021-01-01',
                        end.date = '2021-12-31',
                        vegetation.index = 'ndvi')

## End(Not run)

</code></pre>

<hr>
<h2 id='pa_get_weather_sf'>Downloads a met file using the apsimx package</h2><span id='topic+pa_get_weather_sf'></span>

<h3>Description</h3>

<p>This function retrieves weather data from
NASA Power and the Iowa Environmental Mesonet using the
apsimx package/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_get_weather_sf(
  aoi,
  source = c("none", "iem", "power"),
  start.date = "1990-01-01",
  end.date = "2021-12-31"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_get_weather_sf_+3A_aoi">aoi</code></td>
<td>
<p>a sf object</p>
</td></tr>
<tr><td><code id="pa_get_weather_sf_+3A_source">source</code></td>
<td>
<p>the weather source from which the data
should be retrieved. &lsquo;iem&rsquo; = Iowa Environmental
Mesonet, &lsquo;power&rsquo; = NASA POWER. Defaults to
&lsquo;iem&rsquo;.</p>
</td></tr>
<tr><td><code id="pa_get_weather_sf_+3A_start.date">start.date</code></td>
<td>
<p>first day to retrieve the weather data.
Format should be %Y-%m-%d.</p>
</td></tr>
<tr><td><code id="pa_get_weather_sf_+3A_end.date">end.date</code></td>
<td>
<p>last day to retrieve the weather data.
Format should be %Y-%m-%d.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class met
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
extd.dir &lt;- system.file("extdata", package = "pacu")
area.of.interest &lt;- sf::st_read(file.path(extd.dir, 'cobs_a_aoi.shp'))
weather.met &lt;- pa_get_weather_sf(aoi = area.of.interest,
                               start.date = '1990-01-01',
                               end.date = '2020-12-31',
                               source = 'power')



</code></pre>

<hr>
<h2 id='pa_initialize_dataspace'>Register the Data Space credentials to the R
environment</h2><span id='topic+pa_initialize_dataspace'></span>

<h3>Description</h3>

<p>Register the Data Space credentials to the R
environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_initialize_dataspace(username, password, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_initialize_dataspace_+3A_username">username</code></td>
<td>
<p>username used to authenticate the HTTP
request</p>
</td></tr>
<tr><td><code id="pa_initialize_dataspace_+3A_password">password</code></td>
<td>
<p>password used to authenticate the HTTP
request</p>
</td></tr>
<tr><td><code id="pa_initialize_dataspace_+3A_verbose">verbose</code></td>
<td>
<p>whether to print information about this operation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'pa_initialize_dataspace()' registers the username
and password to the machine's R environment. All the
other functions that rely on authentication will search
for the username and password in the R environment. Do
not share your R environment with others, as they will
be able to read your username and password. You can
register at <a href="https://dataspace.copernicus.eu/">https://dataspace.copernicus.eu/</a>.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pa_initialize_dataspace('my-username', 'my-password')

## End(Not run)

</code></pre>

<hr>
<h2 id='pa_initialize_oauth'>Register the Oauth2.0 credentials to the R environment</h2><span id='topic+pa_initialize_oauth'></span>

<h3>Description</h3>

<p>Register the Oauth2.0 credentials to the R environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_initialize_oauth(client_id, client_secret)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_initialize_oauth_+3A_client_id">client_id</code></td>
<td>
<p>client id used to authenticate the HTTP request</p>
</td></tr>
<tr><td><code id="pa_initialize_oauth_+3A_client_secret">client_secret</code></td>
<td>
<p>client secret used to authenticate the HTTP request</p>
</td></tr>
</table>


<h3>Details</h3>

<p>initialize_oauth registers the client id and secret to the machine's R environment
All the other functions that rely on authentication will search for the clients id ans secret in
the R environment. Do not share your R environment with others, as they will be able to read your client id and secret.
You can register at <a href="https://dataspace.copernicus.eu/news">https://dataspace.copernicus.eu/news</a>. Please see this section for how to create your Oauth2.0 client:
<a href="https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Overview/Authentication.html">https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Overview/Authentication.html</a>.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pa_initialize_oauth('my-client-id', 'my-client-secret')

## End(Not run)

</code></pre>

<hr>
<h2 id='pa_make_vehicle_polygons'>Make vehicular polygons for yield monitor
observations</h2><span id='topic+pa_make_vehicle_polygons'></span>

<h3>Description</h3>

<p>Make vehicular polygons for yield monitor
observations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_make_vehicle_polygons(
  points,
  swath,
  distance,
  angle = NULL,
  cores = 1L,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_make_vehicle_polygons_+3A_points">points</code></td>
<td>
<p>a vector of points</p>
</td></tr>
<tr><td><code id="pa_make_vehicle_polygons_+3A_swath">swath</code></td>
<td>
<p>a vector containing the swath of the vehicle
in meters</p>
</td></tr>
<tr><td><code id="pa_make_vehicle_polygons_+3A_distance">distance</code></td>
<td>
<p>a vector containing the distance traveled
by the vehicle in meters</p>
</td></tr>
<tr><td><code id="pa_make_vehicle_polygons_+3A_angle">angle</code></td>
<td>
<p>a vector containing the angle of the
vehicle's trajectory. If not supplied, the function
will attempt to estimate the trajectory angle using the
geographical information contained in the georeferenced
points/</p>
</td></tr>
<tr><td><code id="pa_make_vehicle_polygons_+3A_cores">cores</code></td>
<td>
<p>the number of cores used in the operation</p>
</td></tr>
<tr><td><code id="pa_make_vehicle_polygons_+3A_verbose">verbose</code></td>
<td>
<p>whether to print operation details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will create vehicular polygons
based on the distance between points, angle of the
vehicle's trajectory, and swath.
</p>


<h3>Value</h3>

<p>an sf object
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## for examples, see vignette pacu


</code></pre>

<hr>
<h2 id='pa_plot'>Create a plot from a pacu object</h2><span id='topic+pa_plot'></span><span id='topic+pa_plot.yield'></span><span id='topic+pa_plot.veg.index'></span><span id='topic+pa_plot.rgb'></span><span id='topic+pa_plot.met'></span>

<h3>Description</h3>

<p>Create interactive or static plots such as yieldmaps, variograms,
and rgb images from pacu objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_plot(x, ...)

## S3 method for class 'yield'
pa_plot(
  x,
  ...,
  plot.type = c("yieldmap", "variogram"),
  palette = "Temps",
  main = "",
  plot.var = NULL,
  interactive = FALSE,
  border.col = "black",
  style = c("quantile", "pretty", "equal"),
  scale = 1,
  nbreaks = 5,
  breaks = NULL,
  frame = TRUE,
  legend.outside = FALSE
)

## S3 method for class 'veg.index'
pa_plot(
  x,
  ...,
  palette = ifelse(plot.type == "timeseries", "Dark 2", "Temps"),
  plot.type = c("spatial", "timeseries"),
  main = "",
  plot.var = NULL,
  by = "year",
  xlab = NULL,
  ylab = NULL,
  style = c("quantile", "pretty", "equal"),
  nbreaks = 5,
  border.col = "black",
  frame = TRUE,
  legend.outside = FALSE,
  legend.title = NULL,
  pch = 16
)

## S3 method for class 'rgb'
pa_plot(
  x,
  ...,
  interactive = FALSE,
  saturation = 1,
  alpha = 1,
  interpolate = FALSE
)

## S3 method for class 'met'
pa_plot(
  x,
  ...,
  plot.type = c("climate_normals", "monthly_distributions"),
  unit.system = c("international", "standard"),
  start = 1,
  end = 365,
  months = 1:12,
  vars = c("maxt", "mint", "crain", "cradn"),
  tgt.year = "last"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_plot_+3A_x">x</code></td>
<td>
<p>object to be plotted</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_...">...</code></td>
<td>
<p>additional arguments. None used currently.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_plot.type">plot.type</code></td>
<td>
<p>type of plot to be produced Defaults to
yieldmap.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_palette">palette</code></td>
<td>
<p>a string representing a color palette from
<a href="grDevices.html#topic+hcl.pals">hcl.pals</a>. Defaults to &lsquo;Temps&rsquo;.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_main">main</code></td>
<td>
<p>a main title for the plot</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_plot.var">plot.var</code></td>
<td>
<p>the name of the column to be plotted.
Defaults to &lsquo;yield&rsquo;</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_interactive">interactive</code></td>
<td>
<p>logical. Whether to produce
interactive plots.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_border.col">border.col</code></td>
<td>
<p>color of the border for the polygons
plotted in the yield map</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_style">style</code></td>
<td>
<p>style applied to the colors</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_scale">scale</code></td>
<td>
<p>a numerical value indicating the
magnification of the graph. A value of 1 produces a
plot using the default magnification. Greater values
will produce zoomed in plots.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_nbreaks">nbreaks</code></td>
<td>
<p>numerical value indicating the number of breaks for the color scale.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_breaks">breaks</code></td>
<td>
<p>a vector indicating numerical breaks for the color scale.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_frame">frame</code></td>
<td>
<p>logical. Whether to draw the frame around
the plotting area.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_legend.outside">legend.outside</code></td>
<td>
<p>logical. Whether to place the legend outside of the graph.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_by">by</code></td>
<td>
<p>a string or vector of strings used to group the data 
when plotting. Defaults to 'year'</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_xlab">xlab</code></td>
<td>
<p>a string used as label for x axis</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_ylab">ylab</code></td>
<td>
<p>a string used as label for y axis</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_legend.title">legend.title</code></td>
<td>
<p>a string used as title for the legend</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_pch">pch</code></td>
<td>
<p>an integer indicating which shape to use for points</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_saturation">saturation</code></td>
<td>
<p>numeric. Controls the image saturation. 0 maps to grayscale. 1 maps to the default value.  See <a href="tmap.html#topic+tm_rgb">tm_rgb</a> for details.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_alpha">alpha</code></td>
<td>
<p>numeric between 0 and 1. See <a href="tmap.html#topic+tm_rgb">tm_rgb</a> for details.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_interpolate">interpolate</code></td>
<td>
<p>logical. Whether the raster image should be interpolated. See <a href="tmap.html#topic+tm_rgb">tm_rgb</a> for details.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_unit.system">unit.system</code></td>
<td>
<p>unit system to be used: international
(metric) or stanrdard (imperial)</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_start">start</code></td>
<td>
<p>day of the year to start computing the
climate normals. Defaults to 1.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_end">end</code></td>
<td>
<p>day of the year to finish computing the
climate normals. Defaults to 365.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_months">months</code></td>
<td>
<p>a numerical vector indicating which months
to produce a plot for in the case of monthly
distribution plots. Defaults to 1:12.</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_vars">vars</code></td>
<td>
<p>which variables to include in the summary
plot</p>
</td></tr>
<tr><td><code id="pa_plot_+3A_tgt.year">tgt.year</code></td>
<td>
<p>which year to focus and compare to the
historical mean. Defaults to the last year in the data
set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## for examples, please see the pacu vignette

## End(Not run)

</code></pre>

<hr>
<h2 id='pa_yield'>Create an interpolated yield object from raw data</h2><span id='topic+pa_yield'></span>

<h3>Description</h3>

<p>Create an interpolated yield object from
raw data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pa_yield(
  input,
  data.columns = NULL,
  data.units = NULL,
  grid = NULL,
  algorithm = c("none", "simple", "ritas"),
  formula = NULL,
  overlap.threshold = 0.5,
  var.label = "yield",
  boundary = NULL,
  clean = FALSE,
  clean.sd = 3,
  clean.edge.distance = 0,
  smooth.method = c("none", "krige", "idw"),
  fun = c("none", "log"),
  lbs.per.bushel = NULL,
  moisture.adj = NULL,
  lag.adj = 0,
  unit.system = c("none", "metric", "standard"),
  remove.crossed.polygons = FALSE,
  cores = 1L,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pa_yield_+3A_input">input</code></td>
<td>
<p>an sf object containing the raw yield
monitor data</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_data.columns">data.columns</code></td>
<td>
<p>When algorithm is &lsquo;simple&rsquo;,
this argument should be a vector of length 2 or 3
(depends on whether the user wants to adjust for time
lag) indicating which column contains the yield data
, a column containing moisture
information, and a column indicating the time between
readings. When algorithm is &lsquo;ritas&rsquo;, an optional
named vector with the column names for the variables
&lsquo;mass, flow, moisture, interval, angle, swath,
distance&rsquo;. If a an unnamed vector is supplied, the
vector is assumed to be in this order. The default is
NULL, in which case the function attempts to guess the
columns by using a dictionary of possible guesses.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_data.units">data.units</code></td>
<td>
<p>When algorithm is &lsquo;simple&rsquo;,
should be a vector of length two, indicating the units
of the yield column and the moisture column. Common
values would be &lsquo;c('bu/ac', '%')&rsquo;. When
algorithm is &lsquo;ritas&rsquo;, an optional named vector
with strings representing units for the variables
&lsquo;mass, flow, moisture, interval, angle, swath,
distance&rsquo;. If a an unnamed vector is supplied, the
vector is assumed to be in this order. A typical value
for this argument would be &lsquo;c(flow = 'lb/s',
moisture = '%', interval = 's', angle = 'degreeN',
width = 'ft', distance = 'ft')&rsquo;. Please see
<a href="units.html#topic+valid_udunits">valid_udunits</a> for help with specifying
units. The default is NULL, in which case the function
attempts to guess the units according to the values of
the variable.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_grid">grid</code></td>
<td>
<p>an sf object containing the prediction grid.
If the user is processing yield data coming from a
research trial (i.e. follows a trial design), the user
can pass the sf object containing the trial design
information to this argument. If the argument
&lsquo;formula&rsquo; contains any predictions, the
predictor should be included in the sf object supplied
to this argument. polygons for which the predictions
generated</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_algorithm">algorithm</code></td>
<td>
<p>algorithm used to generate the yield
object.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_formula">formula</code></td>
<td>
<p>formula defining the relationship between
the dependent and independent variables. If the
dependent variable is a linear function of the
coordinates, the formula can be &lsquo;z ~ X + Y&rsquo;. If
the dependent variable is modeled only as a function of
the mean spatial process, the formula can be &lsquo;z
~ 1&rsquo;. If no formula is supplied, it defaults to
&lsquo;z ~ 1&rsquo;.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_overlap.threshold">overlap.threshold</code></td>
<td>
<p>a fraction threshold to remove
observations when there is overlap between the
vehicular polygons. A value of 0 does not remove any
observations. A value of 1 removes all observations
that overlap even minimally with neighboring
observations.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_var.label">var.label</code></td>
<td>
<p>optional string to name the final
product. Defaults to &lsquo;yield&rsquo;.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_boundary">boundary</code></td>
<td>
<p>optional sf object representing the
field's outer boundary. If it not supplied, the
function attempts to generate a boundary from the
observed points.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_clean">clean</code></td>
<td>
<p>whether to clean the raw data based on
distance from the field edge and global standard
deviation.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_clean.sd">clean.sd</code></td>
<td>
<p>standard deviation above which the
cleaning step will remove data. Defaults to 3.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_clean.edge.distance">clean.edge.distance</code></td>
<td>
<p>distance (m) from the field
edge above which the cleaning step will remove data.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_smooth.method">smooth.method</code></td>
<td>
<p>the smoothing method to be used. If
&lsquo;none&rsquo;, no smoothing will be conducted. If
&lsquo;idw&rsquo;, inverse distance weighted interpolation
will be conducted. If &lsquo;krige&rsquo;, kriging will be
conducted.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_fun">fun</code></td>
<td>
<p>a function used to transform the data.
Currently, the option are &lsquo;none&rsquo; and
&lsquo;log&rsquo;. If none, data operations are carried out
in the data scale. If log, the function will
use<a href="gstat.html#topic+krigeTg">krigeTg</a> to perform kriging in the log
scale. For now, only relevant when &lsquo;method&rsquo; is
krige. the log scale and back transform predictions to
the data scale. When TRUE, &lsquo;fomula&rsquo; should be
&lsquo;z ~ 1&rsquo;.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_lbs.per.bushel">lbs.per.bushel</code></td>
<td>
<p>a numeric value representing the
number of pounds in a bushel (e.g., 60 for soybean and
56 for corn). This argument can be ommitted when the
input and output units are in the metric system. It is
necessary otherwise.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_moisture.adj">moisture.adj</code></td>
<td>
<p>an optional numeric value to set the
moisture value to which the yield map predictions
should be adjusted (e.g., 15.5 for corn, and 13.0 for
soybean). If NULL, the function will adjust the
moisture to the average moisture of the field.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_lag.adj">lag.adj</code></td>
<td>
<p>an optional numeric value used to account
for the time lag between the crop being cut by the
combine and the time at which the combine records a
data point.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_unit.system">unit.system</code></td>
<td>
<p>a string representing the unit system
to be used in the function output. If
&lsquo;standard&rsquo;, the function output will be in
bushel/acre. Alternatively, if &lsquo;metric&rsquo;, outputs
will be in metric tonnes/hectare.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_remove.crossed.polygons">remove.crossed.polygons</code></td>
<td>
<p>logical, whether to remove
vehicle polygons that crossed different experimental
units of the grid. This is intented to prevent from
diluting the treatment effects. When this argument is
TRUE, the argument &lsquo;grid&rsquo; must be supplied.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_cores">cores</code></td>
<td>
<p>the number of cores used in the operation</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_verbose">verbose</code></td>
<td>
<p>whether to print function progress.
&lsquo;FALSE or 0&rsquo; will suppress details. &lsquo;TRUE
or 1&rsquo; will print a progress bar. &lsquo;&gt;1&rsquo; will print
step by step messages.</p>
</td></tr>
<tr><td><code id="pa_yield_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed
<a href="gstat.html#topic+krige">krige</a> and <a href="gstat.html#topic+idw">idw</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will follow the steps in the
selected algorithm to produce a yield map from the raw
data.
</p>


<h3>Value</h3>

<p>an object of class yield
</p>


<h3>Author(s)</h3>

<p>Caio dos Santos and Fernando Miguez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
extd.dir &lt;- system.file("extdata", package = "pacu")
raw.yield &lt;- sf::read_sf(file.path(extd.dir, '2012-basswood.shp'),
                         quiet = TRUE)
## the simple algorithm
pa_yield(input = raw.yield,
algorithm = 'simple',
unit.system = 'metric',
lbs.per.bushel = 56) ## 56 lb/bushel of maize

## the ritas algorithm
pa_yield(input = raw.yield,
algorithm = 'ritas',
unit.system = 'metric',
lbs.per.bushel = 56)

## End(Not run)

</code></pre>

<hr>
<h2 id='pacu_options'>Setting some options for the package</h2><span id='topic+pacu_options'></span>

<h3>Description</h3>

<p>Set settings regarding messages and default behaviors of the package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacu_options(suppress.warnings = FALSE, suppress.messages = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pacu_options_+3A_suppress.warnings">suppress.warnings</code></td>
<td>
<p>whether to suppress warning messages</p>
</td></tr>
<tr><td><code id="pacu_options_+3A_suppress.messages">suppress.messages</code></td>
<td>
<p>whether to suppress  messages</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Set pacu options
</p>


<h3>Value</h3>

<p>as a side effect it modifies the &lsquo;pacu.options&rsquo; environment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
names(pacu.options)
pacu_options(exe.path = "some-new-path-to-executable")
pacu.options$exe.path

## End(Not run)
</code></pre>

<hr>
<h2 id='pacu.options'>Environment which stores PACU options</h2><span id='topic+pacu.options'></span>

<h3>Description</h3>

<p>Environment which can store the path to the executable, warning settings and
where examples are located.
Creating an environment avoids the use of global variables or other similar practices
which would have possible undesirable consequences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacu.options
</code></pre>


<h3>Format</h3>

<p>An object of class <code>environment</code> of length 4.
</p>


<h3>Details</h3>

<p>Environment which stores PACU options
</p>


<h3>Value</h3>

<p>This is an environment, not a function, so nothing is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
names(pacu.options)
## to suppress messages
pacu_options(suppress.messages = TRUE)


</code></pre>

<hr>
<h2 id='print'>Print a pacu object</h2><span id='topic+print'></span><span id='topic+print.yield'></span><span id='topic+print.dslist'></span><span id='topic+print.check.yield'></span>

<h3>Description</h3>

<p>These functions print meaningful information from
pacu objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'yield'
print(x, ...)

## S3 method for class 'dslist'
print(x, ...)

## S3 method for class 'check.yield'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print_+3A_x">x</code></td>
<td>
<p>object to be printed</p>
</td></tr>
<tr><td><code id="print_+3A_...">...</code></td>
<td>
<p>additional arguments. None used currently.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='summary'>Produce result summaries of the various pacu objects</h2><span id='topic+summary'></span><span id='topic+summary.dslist'></span><span id='topic+summary.yield'></span><span id='topic+summary.veg.index'></span>

<h3>Description</h3>

<p>Produce summaries for the different pacu objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dslist'
summary(object, ...)

## S3 method for class 'yield'
summary(object, ..., by = NULL)

## S3 method for class 'veg.index'
summary(object, ..., by, fun)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary_+3A_object">object</code></td>
<td>
<p>object to be summarized</p>
</td></tr>
<tr><td><code id="summary_+3A_...">...</code></td>
<td>
<p>additional arguments. None used currently.</p>
</td></tr>
<tr><td><code id="summary_+3A_by">by</code></td>
<td>
<p>sf or stars object containing the geometries
within which the vegetation index values should be
summarized</p>
</td></tr>
<tr><td><code id="summary_+3A_fun">fun</code></td>
<td>
<p>a function to be applied when summarizing the
vegetation index data. For example, mean, median, max,
min.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>when object is of class dslist, no return value. Called for side effects.
</p>
<p>when object is of class yield, returns an object of class data.frame
</p>
<p>when object is of class veg.index, returns an object of class stars
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

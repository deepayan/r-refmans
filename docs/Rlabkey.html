<!DOCTYPE html><html><head><title>Help for package Rlabkey</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rlabkey}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Rlabkey-package'>
<p>Exchange data between LabKey Server and R</p></a></li>
<li><a href='#getFolderPath'><p>Returns the folder path associated with a session</p></a></li>
<li><a href='#getLookups'><p> Get related data fields that are available to include in a query on a given query object</p></a></li>
<li><a href='#getRows'><p> Retrieve data from LabKey Server</p></a></li>
<li><a href='#getSchema'><p> Returns an object representing a LabKey schema</p></a></li>
<li><a href='#getSession'><p>Creates and returns a LabKey Server session</p></a></li>
<li><a href='#labkey.acceptSelfSignedCerts'><p>Convenience method to configure Rlabkey connections to accept self-signed certificates</p></a></li>
<li><a href='#labkey.curlOptions'><p>Returns the current set of Curl options that are being used in the existing session</p></a></li>
<li><a href='#labkey.deleteRows'><p>Delete rows of data from a LabKey database</p></a></li>
<li><a href='#labkey.domain.create'><p>Create a new LabKey domain</p></a></li>
<li><a href='#labkey.domain.createAndLoad'><p>Create a new LabKey domain and load data</p></a></li>
<li><a href='#labkey.domain.createConditionalFormat'><p>Create a conditional format data frame</p></a></li>
<li><a href='#labkey.domain.createConditionalFormatQueryFilter'><p>Create a conditional format query filter</p></a></li>
<li><a href='#labkey.domain.createDesign'><p>Helper function to create a domain design data structure</p></a></li>
<li><a href='#labkey.domain.createIndices'><p>Helper function to create a domain design indices list</p></a></li>
<li><a href='#labkey.domain.drop'><p>Delete a LabKey domain</p></a></li>
<li><a href='#labkey.domain.FILTER_TYPES'><p>Provide comparator access</p></a></li>
<li><a href='#labkey.domain.get'><p>Returns the metadata for an existing LabKey domain</p></a></li>
<li><a href='#labkey.domain.inferFields'><p>Infer field metadata from a data frame</p></a></li>
<li><a href='#labkey.domain.save'><p>Updates an existing LabKey domain</p></a></li>
<li><a href='#labkey.executeSql'><p>Retrieve data from a LabKey Server using SQL commands</p></a></li>
<li><a href='#labkey.experiment.createData'><p>Create an experiment data object</p></a></li>
<li><a href='#labkey.experiment.createMaterial'><p>Create an experiment material object</p></a></li>
<li><a href='#labkey.experiment.createRun'><p>Create an experiment run object</p></a></li>
<li><a href='#labkey.experiment.SAMPLE_DERIVATION_PROTOCOL'><p>Constant for the Simple Derivation Protocol</p></a></li>
<li><a href='#labkey.experiment.saveBatch'><p>Saves a modified experiment batch</p></a></li>
<li><a href='#labkey.experiment.saveRuns'><p>Saves Runs.</p></a></li>
<li><a href='#labkey.getBaseUrl'><p>Get the default baseUrl parameter used for all http or https requests</p></a></li>
<li><a href='#labkey.getDefaultViewDetails'><p>Retrieve the fields of a LabKey query view</p></a></li>
<li><a href='#labkey.getFolders'><p>Retrieve a list of folders accessible to the current user</p></a></li>
<li><a href='#labkey.getLookupDetails'><p>Retrieve detailed information on a LabKey query</p></a></li>
<li><a href='#labkey.getModuleProperty'><p>Get effective module property value</p></a></li>
<li><a href='#labkey.getQueries'><p>Retrieve a list of available queries for a specified LabKey schema</p></a></li>
<li><a href='#labkey.getQueryDetails'><p>Retrieve detailed information on a LabKey query</p></a></li>
<li><a href='#labkey.getQueryViews'><p>Retrieve a list of available named views defined on a query in a schema</p></a></li>
<li><a href='#labkey.getRequestOptions'><p>Helper function to get the HTTP request options for a specific method type.</p></a></li>
<li><a href='#labkey.getSchemas'><p>Retrieve a list of available schemas from a labkey database</p></a></li>
<li><a href='#labkey.importRows'><p>Import rows of data into a LabKey Server</p></a></li>
<li><a href='#labkey.insertRows'><p>Insert new rows of data into a LabKey Server</p></a></li>
<li><a href='#labkey.makeRemotePath'><p>Build a file path to data on a remote machine</p></a></li>
<li><a href='#labkey.moveRows'><p>Move rows of data from a LabKey database</p></a></li>
<li><a href='#labkey.pipeline.getFileStatus'><p>Gets the protocol file status for a pipeline</p></a></li>
<li><a href='#labkey.pipeline.getPipelineContainer'><p>Gets the container in which the pipeline is defined</p></a></li>
<li><a href='#labkey.pipeline.getProtocols'><p>Gets the protocols that have been saved for a particular pipeline</p></a></li>
<li><a href='#labkey.pipeline.startAnalysis'><p>Start an analysis of a set of files using a pipeline</p></a></li>
<li><a href='#labkey.provenance.addRecordingStep'><p>Add a step to a provenance recording</p></a></li>
<li><a href='#labkey.provenance.createProvenanceParams'><p>Create provenance parameter object</p></a></li>
<li><a href='#labkey.provenance.startRecording'><p>Start a provenance recording</p></a></li>
<li><a href='#labkey.provenance.stopRecording'><p>Stop a provenance recording</p></a></li>
<li><a href='#labkey.query.import'><p>Bulk import an R data frame into a LabKey Server table using file import.</p></a></li>
<li><a href='#labkey.rstudio.initReport'><p>Initialize a RStudio session for LabKey R report source editing</p></a></li>
<li><a href='#labkey.rstudio.initRStudio'><p>Initialize a RStudio session for LabKey integration</p></a></li>
<li><a href='#labkey.rstudio.initSession'><p>Initialize a RStudio session for LabKey integration using a time one request id</p></a></li>
<li><a href='#labkey.rstudio.isInitialized'><p>Check valid rlabkey session</p></a></li>
<li><a href='#labkey.rstudio.saveReport'><p>Update RStudio report source back to LabKey</p></a></li>
<li><a href='#labkey.saveBatch'><p>Save an assay batch object to a labkey database</p></a></li>
<li><a href='#labkey.security.createContainer'><p>Creates a new container, which may be a project, folder, or workbook, on the server</p></a></li>
<li><a href='#labkey.security.deleteContainer'><p>Deletes an existing container, which may be a project, folder, or workbook</p></a></li>
<li><a href='#labkey.security.getContainers'><p>Returns information about the specified container</p></a></li>
<li><a href='#labkey.security.impersonateUser'><p>Start impersonating a user</p></a></li>
<li><a href='#labkey.security.moveContainer'><p>Moves an existing container, which may be a folder or workbook</p></a></li>
<li><a href='#labkey.security.renameContainer'><p>Rename an existing container at the given container path</p></a></li>
<li><a href='#labkey.security.stopImpersonating'><p>Stop impersonating a user</p></a></li>
<li><a href='#labkey.selectRows'><p>Retrieve data from a labkey database</p></a></li>
<li><a href='#labkey.setCurlOptions'><p>Modify the current set of Curl options that are being used in the existing session</p></a></li>
<li><a href='#labkey.setDebugMode'><p>Helper function to enable/disable debug mode.</p></a></li>
<li><a href='#labkey.setDefaults'><p>Set the default parameters used for all http or https requests</p></a></li>
<li><a href='#labkey.setModuleProperty'><p>Set module property value</p></a></li>
<li><a href='#labkey.setWafEncoding'><p>Helper function to enable/disable wafEncoding mode.</p></a></li>
<li><a href='#labkey.storage.create'><p>Create a new LabKey Freezer Manager storage item</p></a></li>
<li><a href='#labkey.storage.delete'><p>Delete a LabKey Freezer Manager storage item</p></a></li>
<li><a href='#labkey.storage.update'><p>Update a LabKey Freezer Manager storage item</p></a></li>
<li><a href='#labkey.transform.getRunPropertyValue'><p>Assay transform script helper function to get a run property value from a data.frame</p></a></li>
<li><a href='#labkey.transform.readRunPropertiesFile'><p>Assay transform script helper function to read a run properties file</p></a></li>
<li><a href='#labkey.truncateTable'><p>Delete all rows from a table</p></a></li>
<li><a href='#labkey.updateRows'><p>Update existing rows of data in a labkey database</p></a></li>
<li><a href='#labkey.webdav.delete'><p>Deletes the provided file/folder on a LabKey Server via WebDAV</p></a></li>
<li><a href='#labkey.webdav.downloadFolder'><p>Recursively download a folder via WebDAV</p></a></li>
<li><a href='#labkey.webdav.get'><p>Download a file via WebDAV</p></a></li>
<li><a href='#labkey.webdav.listDir'><p>List the contents of a LabKey Server folder via WebDAV</p></a></li>
<li><a href='#labkey.webdav.mkDir'><p>Create a folder via WebDAV</p></a></li>
<li><a href='#labkey.webdav.mkDirs'><p>Create a folder via WebDAV</p></a></li>
<li><a href='#labkey.webdav.pathExists'><p>Tests if a path exists on a LabKey Server via WebDAV</p></a></li>
<li><a href='#labkey.webdav.put'><p>Upload a file via WebDAV</p></a></li>
<li><a href='#labkey.whoAmI'><p>Call the whoami API</p></a></li>
<li><a href='#lsFolders'><p>List the available folder paths</p></a></li>
<li><a href='#lsProjects'><p>List the projects available at a given LabKey Server address</p></a></li>
<li><a href='#lsSchemas'><p>List the available schemas</p></a></li>
<li><a href='#makeFilter'><p>Builds filters to be used in labkey.selectRows and getRows</p></a></li>
<li><a href='#saveResults'><p> Returns an object representing a LabKey schema</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>3.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-04</td>
</tr>
<tr>
<td>Title:</td>
<td>Data Exchange Between R and 'LabKey' Server</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter Hussey </td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Cory Nathe &lt;cnathe@labkey.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The 'LabKey' client library for R makes it easy for R users to
    load live data from a 'LabKey' Server, <a href="https://www.labkey.com/">https://www.labkey.com/</a>,
    into the R environment for analysis, provided users have permissions
    to read the data. It also enables R users to insert, update, and
    delete records stored on a 'LabKey' Server, provided they have appropriate
    permissions to do so.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>Copyright:</td>
<td>Copyright (c) 2010-2018 LabKey Corporation</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>httr, jsonlite</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.11.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-05 14:53:16 UTC; teamcity-agent</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-05 19:33:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='Rlabkey-package'>
Exchange data between LabKey Server and R
</h2><span id='topic+Rlabkey-package'></span><span id='topic+Rlabkey'></span>

<h3>Description</h3>

<p>This package allows the transfer of data between a LabKey Server and an R session. Data can be retrieved from 
LabKey into a data frame in R by specifying the query schema information (<code>labkey.selectRows</code> and <code>getRows</code>) 
or by using sql commands (<code>labkey.executeSql</code>). From an R session, existing data can be updated
(<code>labkey.updateRows</code>), new data can be inserted (<code>labkey.insertRows</code> and <code>labkey.importRows</code>) or
data can be deleted from the LabKey database (<code>labkey.deleteRows</code>). Interactive R users can discover available data via
schema objects (<code>labkey.getSchema</code>).
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> Rlabkey</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 3.2.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2024-04-04</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> Apache License 2.0</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The user must have appropriate authorization on the LabKey Server in order to access or modify data using these functions.
All access to secure content on LabKey Server requires authentication via an api key (see <code>labkey.setDefaults</code> for
more details) or a properly configured netrc file that includes the user's login information.
</p>
<p>The netrc file is a standard mechanism for conveying configuration and autologin information to the File Transfer Protocol
client (ftp) and other programs such as CURL. On a Linux or Mac system this file should be named .netrc (dot netrc) and on
Windows it should be named _netrc (underscore netrc). The file should be located in the user's home directory and the
permissions on the file should be unreadable for everybody except the owner.
</p>
<p>To create the _netrc on a Windows machine, first create an environment variable called 'HOME' set to your home directory
(e.g., c:/Users/&lt;User-Name&gt; on recent versions of Windows) or any directory you want to use. In that directory, create a
text file named _netrc (note that it's underscore netrc, not dot netrc like it is on Linux/Mac).
</p>
<p>The following three lines must be included in the .netrc or _netrc file either separated by white space
(spaces, tabs, or newlines) or commas.
</p>
<p>machine &lt;remote-machine-name&gt;<br />
login &lt;user-email&gt;<br />
password &lt;user-password&gt;
</p>
<p>One example would be:<br />
machine localhost<br />
login peter@labkey.com<br />
password mypassword<br />
</p>
<p>Another example would be:<br />
machine atlas.scharp.org login vobencha@fhcrc.org password mypassword<br />
<br />
Multiple such blocks can exist in one file.
</p>


<h3>Author(s)</h3>

<p>Valerie Obenchain
</p>


<h3>References</h3>

<p>http://www.omegahat.net/RCurl/,<br />
https://www.labkey.org/home/project-begin.view</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>, <code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>, <code><a href="#topic+makeFilter">makeFilter</a></code>, 
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>, <code><a href="#topic+labkey.importRows">labkey.importRows</a></code>, <br />
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>, <code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>
<br />
</p>

<hr>
<h2 id='getFolderPath'>Returns the folder path associated with a session</h2><span id='topic+getFolderPath'></span>

<h3>Description</h3>

<p> Returns the current folder path for a LabKey session </p>


<h3>Usage</h3>

<pre><code class='language-R'>getFolderPath(session) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFolderPath_+3A_session">session</code></td>
<td>
<p>the session key returned from getSession</p>
</td></tr>
</table>


<h3>Details</h3>

<p>  Returns a string containing the current folder path for the passed in LabKey session
</p>


<h3>Value</h3>

<p> A character array containing the folder path, relative to the root. 
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>References</h3>

<p>https://www.labkey.org/Documentation/wiki-page.view?name=projects</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code>  <code><a href="#topic+lsFolders">lsFolders</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# library(Rlabkey)

lks&lt;- getSession("https://www.labkey.org", "/home")
getFolderPath(lks)  #returns "/home"


## End(Not run)
</code></pre>

<hr>
<h2 id='getLookups'> Get related data fields that are available to include in a query on a given query object</h2><span id='topic+getLookups'></span>

<h3>Description</h3>

<p> Retrieve a related query object referenced by a lookup column in the current query </p>


<h3>Usage</h3>

<pre><code class='language-R'>getLookups(session, lookupField) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getLookups_+3A_session">session</code></td>
<td>
<p>the session key returned from getSession</p>
</td></tr>
<tr><td><code id="getLookups_+3A_lookupfield">lookupField</code></td>
<td>
<p>an object representing a lookup field on LabKey Server, a named member of a query object. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>  Lookup fields in LabKey Server are the equivalent of declared foreign keys
</p>


<h3>Value</h3>

<p> A query object representing the related data set.  The fields of a lookup query object 
are usually added to the colSelect parameter in getRows, If a lookup query object is used as the query parameter in
getRows, the call will return all of the base query columns and all of the lookup query columns.
A lookup query object is very similar to base
query objects that are named elemenets of a schema object, A lookup query
object, however, does not have a parent schema object, it is only returned by getLookups.  Also, the field names in
a lookup query object are compound names relative to the base query object used in getLookups.
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>References</h3>

<p>https://www.labkey.org/Documentation/wiki-page.view?name=propertyFields</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code>, <code><a href="#topic+getRows">getRows</a></code> <code><a href="#topic+getSchema">getSchema</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

##  get fields from lookup tables and add to query
# library(Rlabkey)

s&lt;- getSession(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples")
 
scobj &lt;- getSchema(s, "lists")

# can add fields from related queries
lucols &lt;- getLookups(s, scobj$AllTypes$Category)

# keep going to other tables
lucols2 &lt;- getLookups(s, lucols[["Category/Group"]])

cols &lt;- c(names(scobj$AllTypes)[2:6], names(lucols)[2:4])

getRows(s, scobj$AllTypes, colSelect=paste(cols, sep=","))


## End(Not run)
</code></pre>

<hr>
<h2 id='getRows'> Retrieve data from LabKey Server</h2><span id='topic+getRows'></span>

<h3>Description</h3>

<p> Retrive rows from a LabKey Server given a session and query object </p>


<h3>Usage</h3>

<pre><code class='language-R'>getRows(session, query, maxRows=NULL, colNameOpt='fieldname', ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getRows_+3A_session">session</code></td>
<td>
<p>the session key returned from getSession</p>
</td></tr>
<tr><td><code id="getRows_+3A_query">query</code></td>
<td>
<p>an object representing a query on LabKey Server, a child object of the object returned by <code>getSchema()</code></p>
</td></tr>
<tr><td><code id="getRows_+3A_maxrows">maxRows</code></td>
<td>
<p>(optional) an integer specifying how many rows of data to return. If no value is specified, all rows are returned.</p>
</td></tr>
<tr><td><code id="getRows_+3A_colnameopt">colNameOpt</code></td>
<td>
<p>(optional) controls the name source for the columns of the output dataframe, with valid values of 'caption', 'fieldname', and 'rname'</p>
</td></tr>
<tr><td><code id="getRows_+3A_...">...</code></td>
<td>
<p>Any of the remaining options to <code>link{labkey.selectRows}</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>  This function works as a shortcut wrapper to <code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>.  All of the arguments are the same as documented in
labkey.selectRows. 
</p>
<p>See <code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code> for a discussion of the valid options and defaults for <code>colNameOpt</code>.  Note in particular 
that with getRows the default is 'fieldname' instead of 'caption'.  
</p>


<h3>Value</h3>

<p> A data frame containing the query results corresponding to the default view of the specified query.
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code>, <code><a href="#topic+getSchema">getSchema</a></code>, <code><a href="#topic+getLookups">getLookups</a></code>, <code><a href="#topic+saveResults">saveResults</a></code>
<code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## simple example of getting data using schema objects
# library(Rlabkey)

s&lt;-getSession(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples")
s  # shows schemas

scobj &lt;- getSchema(s, "lists")
scobj   # shows available queries

scobj$AllTypes  ## this is the query object

getRows(s, scobj$AllTypes)
	

## End(Not run)
</code></pre>

<hr>
<h2 id='getSchema'> Returns an object representing a LabKey schema </h2><span id='topic+getSchema'></span>

<h3>Description</h3>

<p> Creates and returns an object representing a LabKey schema, containing child objects representing LabKey queries</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSchema(session, schemaIndex) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSchema_+3A_session">session</code></td>
<td>
<p>the session key returned from getSession</p>
</td></tr>
<tr><td><code id="getSchema_+3A_schemaindex">schemaIndex</code></td>
<td>
<p>the name of the schema that contains the table on which you want to base a query, or the number of that schema as displayed by print(session)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates and returns an object representing a LabKey schema, containing child objects representing LabKey queries.  This compound object is created
by calling <code>labkey.getQueries</code> on the requested schema and <code>labkey.getQueryDetails</code> on each returned query.  The information returned in the
schema objects is essentially the same as the schema and query objects shown in the Schema Browser on LabKey Server.
</p>


<h3>Value</h3>

<p>an object representing the schema.  The named elements of a schema are the queries within that schema.  
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>References</h3>

<p>https://www.labkey.org/Documentation/wiki-page.view?name=querySchemaBrowser</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## the basics of using session, schema, and query objects
# library(Rlabkey)

s&lt;- getSession(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples")

sch&lt;- getSchema(s, "lists")

# can walk down the populataed schema tree from schema node or query node
sch$AllTypes$Category
sch$AllTypes$Category$caption
sch$AllTypes$Category$type

# can add fields from related queries
lucols &lt;- getLookups(s, sch$AllTypes$Category)

cols &lt;- c(names(sch$AllTypes[2:6]), names(lucols)[2:4])

getRows(s, sch$AllTypes, colSelect=cols)


## End(Not run)
</code></pre>

<hr>
<h2 id='getSession'>Creates and returns a LabKey Server session</h2><span id='topic+getSession'></span>

<h3>Description</h3>

<p>The session object holds server address and folder context for a user working with LabKey Server.  The session-based model 
supports more efficient interactive use of LabKey Server from R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSession(baseUrl, folderPath="/home",
    curlOptions=NULL, lkOptions=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSession_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the address of the LabKey Server, including the context root</p>
</td></tr>
<tr><td><code id="getSession_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the hierarchy of folders to the current folder (container) for the operation, starting with the project folder </p>
</td></tr>
<tr><td><code id="getSession_+3A_curloptions">curlOptions</code></td>
<td>
<p>(optional) a list of curlOptions to be set on connections to the LabKey Server, see details</p>
</td></tr>
<tr><td><code id="getSession_+3A_lkoptions">lkOptions</code></td>
<td>
<p>(optional) a list of settings for default behavior on naming of objects, see details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a session key that is passed to all the other session-based functions.  Associated with the key are a baseUrl and a folderPath which
determine the security context.  
</p>
<p><code>curlOptions</code>
</p>
<p>The curlOptions parameter gives a mechanism to pass control options down to the RCurl library used by Rlabkey.  
This can be very useful for debugging problems or setting proxy server properties.  See example for debugging.
</p>
<p><code>lkOptions</code>  
</p>
<p>The lkOptions parameter gives a mechanism to change default behavior in the objects returned by Rlabkey.  
Currently the only available options are <code>colNameOpt</code>, which affects the names of columns in the data frames returned
by getRows(), and <code>maxRows</code>, which sets a default value for this parameter when calling getRows() 
</p>


<h3>Value</h3>

<p>getSession returns a session object that represents a specific user within a specific project folder within the LabKey Server identified by the baseUrl.  
The combination of user, server and project/folder determines the security context of the client program.
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>See Also</h3>

<p><code><a href="#topic+getRows">getRows</a></code>, <code><a href="#topic+getSchema">getSchema</a></code>, <code><a href="#topic+getLookups">getLookups</a></code> <code><a href="#topic+saveResults">saveResults</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# library(Rlabkey)

s &lt;- getSession("https://www.labkey.org", "/home")
s   #shows schemas

## using the curlOptions for generating debug tracesof network traffic
d&lt;- debugGatherer()
copt &lt;- curlOptions(debugfunction=d$update, verbose=TRUE,
    cookiefile='/cooks.txt')
sdbg&lt;- getSession(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", curlOptions=copt)
getRows(sdbg, scobj$AllTypes)
strwrap(d$value(), 100)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.acceptSelfSignedCerts'>Convenience method to configure Rlabkey connections to accept self-signed certificates</h2><span id='topic+labkey.acceptSelfSignedCerts'></span>

<h3>Description</h3>

<p>Rlabkey uses the package RCurl to connect to the LabKey Server. This is equivalent to
executing the function:  labkey.setCurlOptions(ssl_verifyhost=0, ssl_verifypeer=FALSE)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.acceptSelfSignedCerts()
</code></pre>

<hr>
<h2 id='labkey.curlOptions'>Returns the current set of Curl options that are being used in the existing session</h2><span id='topic+labkey.curlOptions'></span>

<h3>Description</h3>

<p>Rlabkey uses the package RCurl to connect to the LabKey Server.</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.curlOptions()
</code></pre>

<hr>
<h2 id='labkey.deleteRows'>Delete rows of data from a LabKey database</h2><span id='topic+labkey.deleteRows'></span>

<h3>Description</h3>

<p>Specify rows of data to be deleted from the LabKey Server
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.deleteRows(baseUrl, folderPath,
    schemaName, queryName, toDelete,
    provenanceParams=NULL, options=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.deleteRows_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for LabKey server</p>
</td></tr>
<tr><td><code id="labkey.deleteRows_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code></p>
</td></tr>
<tr><td><code id="labkey.deleteRows_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the  <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.deleteRows_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the  <code>queryName</code></p>
</td></tr>
<tr><td><code id="labkey.deleteRows_+3A_todelete">toDelete</code></td>
<td>
<p>a data frame containing a single column of data containing the data identifiers of the rows to be deleted</p>
</td></tr> 
<tr><td><code id="labkey.deleteRows_+3A_provenanceparams">provenanceParams</code></td>
<td>
<p>the provenance parameter object which contains the options to include as part of a provenance recording.
This is a premium feature and requires the Provenance LabKey module to function correctly, if it is not present this parameter will be ignored.
</p>
</td></tr>
<tr><td><code id="labkey.deleteRows_+3A_options">options</code></td>
<td>
<p>(optional) a list containing options specific to the insert action of the query</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A single row or multiple rows of data can be deleted.  For the <code>toDelete</code> data frame, version 0.0.5 or later accepts either a single column 
of data containing the data identifiers  (e.g., key or lsid) or the entire row of data to be deleted.
The names of the data in the data frame must be the column names from the LabKey Server.
The data frame must be created with the <code>stringsAsFactors</code> set to FALSE.
</p>
<p>NOTE: Each variable in a dataset has both a column label and a column name. The column label is visible at the top
of each column on the web page and is longer and more descriptive. The column name is shorter and is 
used &ldquo;behind the scenes&rdquo; for database manipulation. It is the column name that must be used in
the Rlabkey functions when a column name is expected. To identify a particular column name in a dataset on
a web site, use the &ldquo;export to R script&rdquo; option available as a drop down option under the &ldquo;views&rdquo; 
tab for each dataset.
</p>
<p>The list of valid options for each query will vary, but some common examples include:
</p>

<ul>
<li> <p><code>auditBehavior (string)</code> : Can be used to override the audit behavior for the table the query is acting on.
The set of types include: NONE, SUMMARY, and DETAILED.
</p>
</li>
<li> <p><code>auditUserComment (string)</code> : Can be used to provide a comment from the user that will be attached to
certain detailed audit log records.
</p>
</li></ul>



<h3>Value</h3>

<p>A list is returned with named categories of <b>command</b>, <b>rowsAffected</b>, <b>rows</b>, <b>queryName</b>, <b>containerPath</b> and <b>schemaName</b>.
The <b>schemaName</b>, <b>queryName</b> and <b>containerPath</b> properties contain the same schema, query 
and folder path used in the request.  The
<b>rowsAffected</b> property indicates the number of rows affected by the API action. This will typically be the same
number as passed in the request. The <b>rows</b> property contains a list of rows corresponding to the rows
deleted.
</p>


<h3>Author(s)</h3>

<p>Valerie Obenchain</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>, <code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>, <code><a href="#topic+makeFilter">makeFilter</a></code>, 
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>, <code><a href="#topic+labkey.importRows">labkey.importRows</a></code>, <br />
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>, <code><a href="#topic+labkey.moveRows">labkey.moveRows</a></code>, <br />
<code><a href="#topic+labkey.provenance.createProvenanceParams">labkey.provenance.createProvenanceParams</a></code>,
<code><a href="#topic+labkey.provenance.startRecording">labkey.provenance.startRecording</a></code>,
<code><a href="#topic+labkey.provenance.addRecordingStep">labkey.provenance.addRecordingStep</a></code>,
<code><a href="#topic+labkey.provenance.stopRecording">labkey.provenance.stopRecording</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Insert, update and delete
## Note that users must have the necessary permissions in the LabKey Server
## to be able to modify data through the use of these functions
# library(Rlabkey)

newrow &lt;- data.frame(
	DisplayFld="Inserted from R"
	, TextFld="how its done"
	, IntFld= 98 
	, DoubleFld = 12.345
	, DateTimeFld = "03/01/2010"
	, BooleanFld= FALSE
	, LongTextFld = "Four score and seven years ago"
#	, AttachmentFld = NA    #attachment fields not supported 
	, RequiredText = "Veni, vidi, vici"
	, RequiredInt = 0
	, Category = "LOOKUP2"
	, stringsAsFactors=FALSE)

insertedRow &lt;- labkey.insertRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists",
    queryName="AllTypes", toInsert=newrow)
newRowId &lt;- insertedRow$rows[[1]]$RowId

selectedRow&lt;-labkey.selectRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colFilter=makeFilter(c("RowId", "EQUALS", newRowId)))
selectedRow

updaterow=data.frame(
	RowId=newRowId
	, DisplayFld="Updated from R"
	, TextFld="how to update"
	, IntFld= 777 
	, stringsAsFactors=FALSE)

updatedRow &lt;- labkey.updateRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists",
    queryName="AllTypes", toUpdate=updaterow)
selectedRow&lt;-labkey.selectRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colFilter=makeFilter(c("RowId", "EQUALS", newRowId)))
selectedRow

deleterow &lt;- data.frame(RowId=newRowId, stringsAsFactors=FALSE)
result &lt;- labkey.deleteRows(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists",
    queryName="AllTypes",  toDelete=deleterow)
result


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.create'>Create a new LabKey domain</h2><span id='topic+labkey.domain.create'></span>

<h3>Description</h3>

<p>Create a domain of the type specified by the domainKind and the domainDesign. A LabKey domain represents a table in a specific schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.create(baseUrl=NULL, folderPath,
    domainKind=NULL, domainDesign=NULL, options=NULL,
    module=NULL, domainGroup=NULL, domainTemplate=NULL,
    createDomain=TRUE, importData=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.create_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_domainkind">domainKind</code></td>
<td>
<p>(optional) a string specifying the type of domain to create </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_domaindesign">domainDesign</code></td>
<td>
<p>(optional) a list containing the domain design to create </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_options">options</code></td>
<td>
<p>(optional) a list containing options specific to the domain kind </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_module">module</code></td>
<td>
<p>(optional) the name of the module that contains the domain template group </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_domaingroup">domainGroup</code></td>
<td>
<p>(optional) the name of a domain template group </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_domaintemplate">domainTemplate</code></td>
<td>
<p>(optional) the name of a domain template within the domain group </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_createdomain">createDomain</code></td>
<td>
<p>(optional) when using a domain template, create the domain. Defaults to TRUE </p>
</td></tr>
<tr><td><code id="labkey.domain.create_+3A_importdata">importData</code></td>
<td>
<p>(optional) when using a domain template, import initial data asociated in the template. Defaults to TRUE </p>
</td></tr>
</table>


<h3>Details</h3>

<p>When creating a domain using a domainKind parameter, the domainDesign parameter will be required. If a domain template is being
used, then module, domainGroup, and domainTemplate are required.
</p>
<p>Will create a domain of the specified domain type, valid types are
</p>

<ul>
<li><p> &quot;IntList&quot;: A list with an integer key field 
</p>
</li>
<li><p> &quot;VarList&quot;: A list with a string key field 
</p>
</li>
<li><p> &quot;StudyDatasetVisit&quot;: A dataset in a visit based study 
</p>
</li>
<li><p> &quot;StudyDatasetDate&quot;: A dataset in a date based study 
</p>
</li>
<li><p> &quot;IssueDefinition&quot;: An issue list domain 
</p>
</li>
<li><p> &quot;SampleSet&quot;: Sample set 
</p>
</li>
<li><p> &quot;DataClass&quot;: Data class 
</p>
</li></ul>

<p>The domain design parameter describes the set of fields in the domain, see <code>labkey.domain.createDesign</code> for the helper
function that can be used to construct this data structure. The options parameter should contain a list of attributes that are specific
to the domain kind specified. The list of valid options for each domain kind are:
</p>

<ul>
<li><p> IntList and VarList 
</p>

<ul>
<li> <p><code>keyName (required)</code> : The name of the field in the domain design which identifies the key field
</p>
</li></ul>

</li>
<li><p> StudyDatasetVisit and StudyDatasetDate 
</p>

<ul>
<li> <p><code>datasetId</code> : Specifies a dataset ID to use, the default is to auto generate an ID
</p>
</li>
<li> <p><code>categoryId</code> : Specifies an existing category ID
</p>
</li>
<li> <p><code>categoryName</code> : Specifies an existing category name
</p>
</li>
<li> <p><code>demographics</code> : (TRUE | FALSE) Determines whether the dataset is created as demographic
</p>
</li>
<li> <p><code>keyPropertyName</code> : The name of an additional key field to be used in conjunction with participantId and (visitId or date) to create unique records
</p>
</li>
<li> <p><code>useTimeKeyField</code> : (TRUE | FALSE) Specifies to use the time portion of the date field as an additional key 
</p>
</li>
<li> <p><code>isManagedField</code> : (TRUE | FALSE) Specifies whether the field from keyPropertyName should be managed by LabKey. 
</p>
</li></ul>

</li>
<li><p> IssueDefinition 
</p>

<ul>
<li> <p><code>providerName</code> : The type of issue list to create (IssueDefinition (default) or AssayRequestDefinition)
</p>
</li>
<li> <p><code>singularNoun</code> : The singular name to use for items in the issue definition (defaults to issue)
</p>
</li>
<li> <p><code>pluralNoun</code> : The plural name (defaults to issues)
</p>
</li></ul>

</li>
<li><p> SampleSet 
</p>

<ul>
<li> <p><code>idCols</code> : The columns to use when constructing the concatenated unique ID. Can be up to 3 numeric IDs which represent the zero-based position of the fields in the domain.
</p>
</li>
<li> <p><code>parentCol</code> : The column to represent the parent identifier in the sample set. This is a numeric value representing the zero-based position of the field in the domain.
</p>
</li>
<li> <p><code>nameExpression</code> : The name expression to use for creating unique IDs
</p>
</li></ul>

</li>
<li><p> DataClass 
</p>

<ul>
<li> <p><code>sampleSet</code> : The ID of the sample set if this data class is associated with a sample set.
</p>
</li>
<li> <p><code>nameExpression</code> : The name expression to use for creating unique IDs
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>A list containing elements describing the newly created domain.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.createIndices">labkey.domain.createIndices</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormat">labkey.domain.createConditionalFormat</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormatQueryFilter">labkey.domain.createConditionalFormatQueryFilter</a></code>,
<code><a href="#topic+labkey.domain.FILTER_TYPES">labkey.domain.FILTER_TYPES</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## create a data frame and infer it's fields, then create a domain design from it
library(Rlabkey)

df &lt;- data.frame(ptid=c(1:3), age = c(10,20,30), sex = c("f", "m", "f"))
fields &lt;- labkey.domain.inferFields(baseUrl="http://labkey/", folderPath="home", df=df)
dd &lt;- labkey.domain.createDesign(name="test list", fields=fields)

## create a new list with an integer key field
labkey.domain.create(baseUrl="http://labkey/", folderPath="home",
    domainKind="IntList", domainDesign=dd, options=list(keyName = "ptid"))

## create a domain using a domain template
labkey.domain.create(baseUrl="http://labkey/", folderPath="home",
    domainTemplate="Priority", module="simpletest", domainGroup="todolist")

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.createAndLoad'>Create a new LabKey domain and load data</h2><span id='topic+labkey.domain.createAndLoad'></span>

<h3>Description</h3>

<p>Create a domain of the type specified by the domainKind. A LabKey domain represents a table in a specific schema. Once the domain is created
the data from the data frame will be imported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.createAndLoad(baseUrl=NULL, folderPath,
    name, description="", df, domainKind, options=NULL, schemaName=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.createAndLoad_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.domain.createAndLoad_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.domain.createAndLoad_+3A_name">name</code></td>
<td>
<p>a string specifying the name of the domain to create </p>
</td></tr>
<tr><td><code id="labkey.domain.createAndLoad_+3A_description">description</code></td>
<td>
<p>(optional) a string specifying the domain description </p>
</td></tr>
<tr><td><code id="labkey.domain.createAndLoad_+3A_df">df</code></td>
<td>
<p>a data frame specifying fields to infer. The data frame must have column names as well as row data to infer the type of the field from.</p>
</td></tr>
<tr><td><code id="labkey.domain.createAndLoad_+3A_domainkind">domainKind</code></td>
<td>
<p>a string specifying the type of domain to create </p>
</td></tr>
<tr><td><code id="labkey.domain.createAndLoad_+3A_options">options</code></td>
<td>
<p>(optional) a list containing options specific to the domain kind </p>
</td></tr>
<tr><td><code id="labkey.domain.createAndLoad_+3A_schemaname">schemaName</code></td>
<td>
<p>(optional) a string specifying the schema name to import the data into </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Will create a domain of the specified domain type, valid types are
</p>

<ul>
<li><p> &quot;IntList&quot;: A list with an integer key field 
</p>
</li>
<li><p> &quot;VarList&quot;: A list with a string key field 
</p>
</li>
<li><p> &quot;StudyDatasetVisit&quot;: A dataset in a visit based study 
</p>
</li>
<li><p> &quot;StudyDatasetDate&quot;: A dataset in a date based study 
</p>
</li>
<li><p> &quot;IssueDefinition&quot;: An issue list domain 
</p>
</li>
<li><p> &quot;SampleSet&quot;: Sample set 
</p>
</li>
<li><p> &quot;DataClass&quot;: Data class 
</p>
</li></ul>

<p>The options parameter should contain a list of attributes that are specific
to the domain kind specified. The list of valid options for each domain kind are:
</p>

<ul>
<li><p> IntList and VarList 
</p>

<ul>
<li> <p><code>keyName (required)</code> : The name of the field in the domain design which identifies the key field
</p>
</li></ul>

</li>
<li><p> StudyDatasetVisit and StudyDatasetDate 
</p>

<ul>
<li> <p><code>datasetId</code> : Specifies a dataset ID to use, the default is to auto generate an ID
</p>
</li>
<li> <p><code>categoryId</code> : Specifies an existing category ID
</p>
</li>
<li> <p><code>categoryName</code> : Specifies an existing category name
</p>
</li>
<li> <p><code>demographics</code> : (TRUE | FALSE) Determines whether the dataset is created as demographic
</p>
</li>
<li> <p><code>keyPropertyName</code> : The name of an additional key field to be used in conjunction with participantId and (visitId or date) to create unique records
</p>
</li>
<li> <p><code>useTimeKeyField</code> : (TRUE | FALSE) Specifies to use the time portion of the date field as an additional key 
</p>
</li></ul>

</li>
<li><p> IssueDefinition 
</p>

<ul>
<li> <p><code>providerName</code> : The type of issue list to create (IssueDefinition (default) or AssayRequestDefinition)
</p>
</li>
<li> <p><code>singularNoun</code> : The singular name to use for items in the issue definition (defaults to issue)
</p>
</li>
<li> <p><code>pluralNoun</code> : The plural name (defaults to issues)
</p>
</li></ul>

</li>
<li><p> SampleSet 
</p>

<ul>
<li> <p><code>idCols</code> : The columns to use when constructing the concatenated unique ID. Can be up to 3 numeric IDs which represent the zero-based position of the fields in the domain.
</p>
</li>
<li> <p><code>parentCol</code> : The column to represent the parent identifier in the sample set. This is a numeric value representing the zero-based position of the field in the domain.
</p>
</li>
<li> <p><code>nameExpression</code> : The name expression to use for creating unique IDs
</p>
</li></ul>

</li>
<li><p> DataClass 
</p>

<ul>
<li> <p><code>sampleSet</code> : The ID of the sample set if this data class is associated with a sample set.
</p>
</li>
<li> <p><code>nameExpression</code> : The name expression to use for creating unique IDs
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>A list containing the newly uploaded data frame rows.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.createIndices">labkey.domain.createIndices</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

## Prepare a data.frame
participants = c("0001","0001","0002","0002","0007","0008")
Visit = c("V1", "V2", "V2", "V1", "V2", "V1")
IntValue = c(256:261)
dataset = data.frame("ParticipantID" = participants, Visit,
    "IntegerValue" = IntValue, check.names = FALSE)

## Create the dataset and import
labkey.domain.createAndLoad(baseUrl="http://labkey", folderPath="home",
    name="demo dataset", df=dataset, domainKind="StudyDatasetVisit")

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.createConditionalFormat'>Create a conditional format data frame</h2><span id='topic+labkey.domain.createConditionalFormat'></span>

<h3>Description</h3>

<p>Create a conditional format data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.createConditionalFormat(queryFilter, bold=FALSE, italic=FALSE,
    strikeThrough=FALSE, textColor="", backgroundColor="")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.createConditionalFormat_+3A_queryfilter">queryFilter</code></td>
<td>
<p>a string specifying what logical filter should be applied</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormat_+3A_bold">bold</code></td>
<td>
<p>a boolean for if the text display should be formatted in bold</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormat_+3A_italic">italic</code></td>
<td>
<p>a boolean for if the text display should be formatted in italic</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormat_+3A_strikethrough">strikeThrough</code></td>
<td>
<p>a boolean for if the text display should be formatted with a strikethrough</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormat_+3A_textcolor">textColor</code></td>
<td>
<p>a string specifying the hex code of the text color for display</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormat_+3A_backgroundcolor">backgroundColor</code></td>
<td>
<p>a string specifying the hex code of the text background color for display</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used to construct a conditional format data frame intended for use within a domain design's
conditionalFormats component while creating or updating a domain. The queryFilter parameter can be used in conjunction
with <code>labkey.domain.createConditionalFormatQueryFilter</code> for convenient construction of a query filter string. Multiple conditional
formats can be applied to one field, where each format specified constitutes a new row of the field's conditionalFormats
data frame.
If text formatting options are not specified, the default is to display the value as black text on a white background.
</p>


<h3>Value</h3>

<p>The data frame containing values describing a conditional format.
</p>


<h3>Author(s)</h3>

<p>Rosaline Pyktel</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormatQueryFilter">labkey.domain.createConditionalFormatQueryFilter</a></code>,
<code><a href="#topic+labkey.domain.FILTER_TYPES">labkey.domain.FILTER_TYPES</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

domain &lt;- labkey.domain.get(baseUrl="http://labkey/", folderPath="home",
    schemaName="lists", queryName="test list")

## update the third field to use two conditional formats
qf &lt;- labkey.domain.FILTER_TYPES
cf1 = labkey.domain.createConditionalFormat(labkey.domain.createConditionalFormatQueryFilter(qf$GT,
      100), bold=TRUE, text_color="D33115", background_color="333333")
cf2 = labkey.domain.createConditionalFormat(labkey.domain.createConditionalFormatQueryFilter(
      qf$LESS_THAN, 400), italic=TRUE, text_color="68BC00")
domain$fields$conditionalFormats[[3]] = rbind(cf1,cf2)

labkey.domain.save(baseUrl="http://labkey/", folderPath="home",
    schemaName="lists", queryName="test list", domainDesign=domain)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.createConditionalFormatQueryFilter'>Create a conditional format query filter</h2><span id='topic+labkey.domain.createConditionalFormatQueryFilter'></span>

<h3>Description</h3>

<p>Create a conditional format query filter string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.createConditionalFormatQueryFilter(filterType, value,
    additionalFilter=NULL, additionalValue=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.createConditionalFormatQueryFilter_+3A_filtertype">filterType</code></td>
<td>
<p>a string specifying a permitted relational operator</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormatQueryFilter_+3A_value">value</code></td>
<td>
<p>a string specifying a comparand</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormatQueryFilter_+3A_additionalfilter">additionalFilter</code></td>
<td>
<p>a string specifying a second relational operator</p>
</td></tr>
<tr><td><code id="labkey.domain.createConditionalFormatQueryFilter_+3A_additionalvalue">additionalValue</code></td>
<td>
<p>a string specifying a second comparand</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used to as a convenience wrapper to construct a query filter string for conditional formats.
Two relational expressions may be formed, one with the first two parameters (for instance, parameter values '50' and 'eq' for value and filter
respectively would create a condition of 'equals 50') and the second with the remaining two optional parameters. If both
conditions are created, they are conjunct with a logical AND, and a value would have to pass both conditions to clear
the filter.
This function can be used in conjunction with <code>labkey.domain.FILTER_TYPES</code> for easy access to the set of
permitted relational operators.
</p>


<h3>Value</h3>

<p>The string specifying a query filter in LabKey filter URL format.
</p>


<h3>Author(s)</h3>

<p>Rosaline Pyktel</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormat">labkey.domain.createConditionalFormat</a></code>,
<code><a href="#topic+labkey.domain.FILTER_TYPES">labkey.domain.FILTER_TYPES</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

qf &lt;- labkey.domain.FILTER_TYPES

# Filters for values equal to 750
qf1 &lt;- labkey.domain.createConditionalFormatQueryFilter(qf$EQUAL, 750)
# Filters for values greater than 500, but less than 1000
qf2 &lt;- labkey.domain.createConditionalFormatQueryFilter(qf$GREATER_THAN, 500, qf$LESS_THAN, 1000)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.createDesign'>Helper function to create a domain design data structure</h2><span id='topic+labkey.domain.createDesign'></span>

<h3>Description</h3>

<p>Create a domain design data structure which can then be used by <code>labkey.domain.create</code> or <code>labkey.domain.save</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.createDesign(name, description = NULL, fields, indices = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.createDesign_+3A_name">name</code></td>
<td>
<p>a string specifying the name of the domain</p>
</td></tr>
<tr><td><code id="labkey.domain.createDesign_+3A_description">description</code></td>
<td>
<p>(optional) a string specifying domain description </p>
</td></tr>
<tr><td><code id="labkey.domain.createDesign_+3A_fields">fields</code></td>
<td>
<p>a list containing the fields of the domain design, this should be in the same format as returned by <code>labkey.inferFields</code>.</p>
</td></tr>
<tr><td><code id="labkey.domain.createDesign_+3A_indices">indices</code></td>
<td>
<p>(optional) a list of indices definitions to be used for this domain design on creation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a function which can be used to create a domain design data structure. Domain designs are used both when creating a new domain or updating an existing domain.
</p>


<h3>Value</h3>

<p>A list containing elements describing the domain design. Any of the APIs which take a domain design parameter can accept this data structure.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.createIndices">labkey.domain.createIndices</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormat">labkey.domain.createConditionalFormat</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormatQueryFilter">labkey.domain.createConditionalFormatQueryFilter</a></code>,
<code><a href="#topic+labkey.domain.FILTER_TYPES">labkey.domain.FILTER_TYPES</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## create a data frame and infer it's fields, then create a domain design from it
library(Rlabkey)

df &lt;- data.frame(ptid=c(1:3), age = c(10,20,30), sex = c("f", "m", "f"))
fields &lt;- labkey.domain.inferFields(baseUrl="http://labkey/", folderPath="home", df=df)
indices = labkey.domain.createIndices(list("ptid", "age"), TRUE)
indices = labkey.domain.createIndices(list("age"), FALSE, indices)
dd &lt;- labkey.domain.createDesign(name="test list", fields=fields, indices=indices)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.createIndices'>Helper function to create a domain design indices list</h2><span id='topic+labkey.domain.createIndices'></span>

<h3>Description</h3>

<p>Create a list of indices definitions which can then be used by <code>labkey.domain.createDesign</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.createIndices(colNames, asUnique, existingIndices = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.createIndices_+3A_colnames">colNames</code></td>
<td>
<p>a list of string column names for the index</p>
</td></tr>
<tr><td><code id="labkey.domain.createIndices_+3A_asunique">asUnique</code></td>
<td>
<p>a logical TRUE or FALSE value for if a UNIQUE index should be used</p>
</td></tr>
<tr><td><code id="labkey.domain.createIndices_+3A_existingindices">existingIndices</code></td>
<td>
<p>a list of previously created indices definitions to append to</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This helper function can be used to construct the list of indices definitions for a domain design structure.
Each call to this function takes in the column names from the domain to use in the index and a parameter
indicating if this should be a UNIQUE index. A third parameter can be used to build up more then one indices
definitions.
</p>


<h3>Value</h3>

<p>The data frame containing the list of indices definitions, concatenated with the existingIndices object if provided.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## create a list of indices definitions to use for a domain design
library(Rlabkey)

indices = labkey.domain.createIndices(list("intKey", "customInt"), TRUE)
indices = labkey.domain.createIndices(list("customInt"), FALSE, indices)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.drop'>Delete a LabKey domain</h2><span id='topic+labkey.domain.drop'></span>

<h3>Description</h3>

<p>Delete an existing domain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.drop(baseUrl=NULL, folderPath, schemaName, queryName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.drop_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.domain.drop_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.domain.drop_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the name of the schema of the domain </p>
</td></tr>
<tr><td><code id="labkey.domain.drop_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the query name </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will delete an existing domain along with any data that may have been uploaded to it.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.createIndices">labkey.domain.createIndices</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## delete an existing domain
library(Rlabkey)

labkey.domain.drop(baseUrl="http://labkey/", folderPath="home",
    schemaName="lists", queryName="test list")

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.FILTER_TYPES'>Provide comparator access</h2><span id='topic+labkey.domain.FILTER_TYPES'></span>

<h3>Description</h3>

<p>A list specifying permitted validator comparators.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.FILTER_TYPES
</code></pre>


<h3>Details</h3>

<p>This constant contains a list specifying the set of permitted validator operators, using names to map
conventional terms to the expressions used by LabKey filter URL formats. The values are intended to be used in
conjunction with conditional formats or property validators.
</p>


<h3>Value</h3>

<p>A named list of strings.
</p>


<h3>Author(s)</h3>

<p>Rosaline Pyktel</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormat">labkey.domain.createConditionalFormat</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormatQueryFilter">labkey.domain.createConditionalFormatQueryFilter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(Rlabkey)

qf &lt;- labkey.domain.FILTER_TYPES

# Example of available comparators
comparator1 &lt;- qf$EQUAL
comparator2 &lt;- qf$GREATER_THAN
comparator3 &lt;- qf$DATE_LESS_THAN_OR_EQUAL
comparator4 &lt;- qf$STARTS_WITH
comparator5 &lt;- qf$CONTAINS_ONE_OF


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.get'>Returns the metadata for an existing LabKey domain</h2><span id='topic+labkey.domain.get'></span>

<h3>Description</h3>

<p>Get the data structure for a domain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.get(baseUrl=NULL, folderPath, schemaName, queryName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.get_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.domain.get_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.domain.get_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the name of the schema of the domain </p>
</td></tr>
<tr><td><code id="labkey.domain.get_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the query name </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the domain design of an existing domain. The returned domain design can be used for reporting purposes or it can
be modified and used to create a new domain or update the domain source.
</p>


<h3>Value</h3>

<p>A list containing elements describing the domain. The structure is the same as a domain design created by <code>labkey.createDomainDesign</code>
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.createIndices">labkey.domain.createIndices</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## retrieve an existing domain
library(Rlabkey)

labkey.domain.get(baseUrl="http://labkey/", folderPath="home",
    schemaName="lists", queryName="test list")

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.inferFields'>Infer field metadata from a data frame</h2><span id='topic+labkey.domain.inferFields'></span>

<h3>Description</h3>

<p>Generate field information from the specified data frame. The resulting list can be used to create or edit a domain using the labkey.domain.create or labkey.domain.save APIs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.inferFields(baseUrl = NULL, folderPath, df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.inferFields_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.domain.inferFields_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.domain.inferFields_+3A_df">df</code></td>
<td>
<p>a data frame specifying fields to infer. The data frame must have column names as well as row data to infer the type of the field from.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Field information can be generated from a data frame by introspecting the data associated with it along with other properties about that column. The data frame
is posted to the server endpoint where the data is analyzed and returned as a list of fields each with it's associated list of properties and values. This list
can be edited and/or used to create a domain on the server.
</p>


<h3>Value</h3>

<p>The inferred metadata will be returned as a list with an element called : &quot;fields&quot; which contains the list of fields inferred from the data frame.
Each field will contain the list of attributes and values for that field definition.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.createIndices">labkey.domain.createIndices</a></code>,
<code><a href="#topic+labkey.domain.save">labkey.domain.save</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## create a data frame and infer it's fields
library(Rlabkey)

df &lt;- data.frame(ptid=c(1:3), age = c(10,20,30), sex = c("f", "m", "f"))
fields &lt;- labkey.domain.inferFields(baseUrl="http://labkey/", folderPath="home", df=df)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.domain.save'>Updates an existing LabKey domain</h2><span id='topic+labkey.domain.save'></span>

<h3>Description</h3>

<p>Modify an existing domain with the specified domain design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.domain.save(baseUrl=NULL, folderPath, schemaName, queryName, domainDesign)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.domain.save_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.domain.save_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.domain.save_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the name of the schema of the domain </p>
</td></tr>
<tr><td><code id="labkey.domain.save_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the query name </p>
</td></tr>
<tr><td><code id="labkey.domain.save_+3A_domaindesign">domainDesign</code></td>
<td>
<p>a list data structure with the domain design to update to </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing elements describing the domain after the update. The structure is the same as a domain design created by <code>labkey.createDomainDesign</code>
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.domain.get">labkey.domain.get</a></code>,
<code><a href="#topic+labkey.domain.inferFields">labkey.domain.inferFields</a></code>,
<code><a href="#topic+labkey.domain.createDesign">labkey.domain.createDesign</a></code>,
<code><a href="#topic+labkey.domain.createIndices">labkey.domain.createIndices</a></code>,
<code><a href="#topic+labkey.domain.create">labkey.domain.create</a></code>,
<code><a href="#topic+labkey.domain.drop">labkey.domain.drop</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormat">labkey.domain.createConditionalFormat</a></code>,
<code><a href="#topic+labkey.domain.createConditionalFormatQueryFilter">labkey.domain.createConditionalFormatQueryFilter</a></code>,
<code><a href="#topic+labkey.domain.FILTER_TYPES">labkey.domain.FILTER_TYPES</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)
## change the type of one of the columns
domain &lt;- labkey.domain.get(baseUrl="http://labkey/", folderPath="home",
    schemaName="lists", queryName="test list")

domain$fields[3,]$rangeURI = "xsd:string"
domain$fields[3,]$name = "changed to string"

labkey.domain.save(baseUrl="http://labkey/", folderPath="home",
    schemaName="lists", queryName="test list", domainDesign=domain)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.executeSql'>Retrieve data from a LabKey Server using SQL commands</h2><span id='topic+labkey.executeSql'></span>

<h3>Description</h3>

<p>Use Sql commands to specify data to be imported into R. Prior to import, data can
be manipulated through standard SQL commands supported in LabKey SQL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.executeSql(baseUrl, folderPath, schemaName, sql,
    maxRows = NULL, rowOffset = NULL, colSort=NULL,
    showHidden = FALSE, colNameOpt='caption',
    containerFilter=NULL, parameters=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.executeSql_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the  <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_sql">sql</code></td>
<td>
<p>a string containing the <code>sql</code> commands to be executed</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_maxrows">maxRows</code></td>
<td>
<p>(optional) an integer specifying the maximum number of rows to return. If no value is specified, all rows are returned.</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_rowoffset">rowOffset</code></td>
<td>
<p>(optional) an integer specifying which row of data should be the first row in the retrieval.
If no value is specified, rows will begin at the start of the result set.</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_colsort">colSort</code></td>
<td>
<p>(optional) a string including the name of the column to sort preceeded by a &ldquo;+&rdquo; or
&ldquo;-&rdquo; to indicate sort direction</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_showhidden">showHidden</code></td>
<td>
<p>(optional) a logical value indicating whether or not to return data columns that would
normally be hidden from user view. Defaults to FALSE if no value provided.</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_colnameopt">colNameOpt</code></td>
<td>
<p>(optional) controls the name source for the columns of the output dataframe, with valid values of 'caption', 'fieldname', and 'rname'
See labkey.selectRows for more details.</p>
</td></tr>
<tr><td><code id="labkey.executeSql_+3A_containerfilter">containerFilter</code></td>
<td>
<p>(optional) Specifies the containers to include in the scope of selectRows request. A value of NULL is equivalent to &quot;Current&quot;.   Valid values are
</p>

<ul>
<li><p> &quot;Current&quot;: Include the current folder only
</p>
</li>
<li><p> &quot;CurrentAndSubfolders&quot;: Include the current folder and all subfolders 
</p>
</li>
<li><p> &quot;CurrentPlusProject&quot;: Include the current folder and the project that contains it 
</p>
</li>
<li><p> &quot;CurrentAndParents&quot;: Include the current folder and its parent folders 
</p>
</li>
<li><p> &quot;CurrentPlusProjectAndShared&quot;: Include the current folder plus its project plus any shared folders 
</p>
</li>
<li><p> &quot;AllFolders&quot;: Include all folders for which the user has read permission 
</p>
</li></ul>

</td></tr>
<tr><td><code id="labkey.executeSql_+3A_parameters">parameters</code></td>
<td>
<p>(optional) List of name/value pairs for the parameters if the SQL references underlying queries that are parameterized. For example, parameters=c(&quot;X=1&quot;, &quot;Y=2&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A full dataset or any portion of a dataset can be imported into an R
data frame using the <code>labkey.executeSql</code>
function. Function arguments are components of the url that identify the location of the
data and the SQL actions that should be taken on the data prior to import.
</p>
<p>See <code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code> for a discussion of the valid options and defaults for <code>colNameOpt</code>.
</p>


<h3>Value</h3>

<p>The requested data are returned in a data frame with stringsAsFactors set to FALSE.  Column names are set as determined by the colNameOpt parameter.
</p>


<h3>Author(s)</h3>

<p>Valerie Obenchain</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>, <code><a href="#topic+makeFilter">makeFilter</a></code>, <code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>, 
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>, <code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>, <br />
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>, <code><a href="#topic+getRows">getRows</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Example of an expicit join and use of group by and aggregates
# library(Rlabkey)

sql&lt;- "SELECT AllTypesCategories.Category AS Category, 
    SUM(AllTypes.IntFld) AS SumOfIntFld,
    AVG(AllTypes.DoubleFld) AS AvgOfDoubleFld
    FROM AllTypes LEFT JOIN AllTypesCategories
    ON (AllTypes.Category = AllTypesCategories.TextKey)
    WHERE AllTypes.Category IS NOT NULL
    GROUP BY AllTypesCategories.Category"

sqlResults &lt;- labkey.executeSql(
    baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples",
    schemaName="lists",
    sql = sql)

sqlResults


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.experiment.createData'>Create an experiment data object</h2><span id='topic+labkey.experiment.createData'></span>

<h3>Description</h3>

<p>Create an experiment data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.experiment.createData(config,
    dataClassId = NULL, dataClassName = NULL, dataFileUrl = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.experiment.createData_+3A_config">config</code></td>
<td>
<p>a list of base experiment object properties</p>
</td></tr>
<tr><td><code id="labkey.experiment.createData_+3A_dataclassid">dataClassId</code></td>
<td>
<p>(optional) a integer specifying the data class row ID </p>
</td></tr>
<tr><td><code id="labkey.experiment.createData_+3A_dataclassname">dataClassName</code></td>
<td>
<p>(optional) a string specifying the name of the data class</p>
</td></tr>
<tr><td><code id="labkey.experiment.createData_+3A_datafileurl">dataFileUrl</code></td>
<td>
<p>(optional) a string specifying the local file url of the uploaded file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create an experiment data object which can be used as either input or output datas for an experiment run.
</p>


<h3>Value</h3>

<p>Returns the object representation of the experiment data object.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.experiment.saveBatch">labkey.experiment.saveBatch</a></code>,
<code><a href="#topic+labkey.experiment.createMaterial">labkey.experiment.createMaterial</a></code>,
<code><a href="#topic+labkey.experiment.createRun">labkey.experiment.createRun</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

## create a non-assay backed run with data classes as data inputs and outputs

d1 &lt;- labkey.experiment.createData(
        list(name = "dc-01"), dataClassId = 400)
d2 &lt;- labkey.experiment.createData(
        list(name = "dc-02"), dataClassId = 402)
run &lt;- labkey.experiment.createRun(
        list(name="new run"), dataInputs = d1, dataOutputs = d2)
labkey.experiment.saveBatch(baseUrl="http://labkey/", folderPath="home",
        protocolName=labkey.experiment.SAMPLE_DERIVATION_PROTOCOL, runList=run)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.experiment.createMaterial'>Create an experiment material object</h2><span id='topic+labkey.experiment.createMaterial'></span>

<h3>Description</h3>

<p>Create an experiment material object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.experiment.createMaterial(config, sampleSetId = NULL, sampleSetName = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.experiment.createMaterial_+3A_config">config</code></td>
<td>
<p>a list of base experiment object properties</p>
</td></tr>
<tr><td><code id="labkey.experiment.createMaterial_+3A_samplesetid">sampleSetId</code></td>
<td>
<p>(optional) a integer specifying the sample set row ID </p>
</td></tr>
<tr><td><code id="labkey.experiment.createMaterial_+3A_samplesetname">sampleSetName</code></td>
<td>
<p>(optional) a string specifying the name of the sample set</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create an experiment material object which can be used as either input or output materials for an experiment run.
</p>


<h3>Value</h3>

<p>Returns the object representation of the experiment material object.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.experiment.saveBatch">labkey.experiment.saveBatch</a></code>,
<code><a href="#topic+labkey.experiment.createData">labkey.experiment.createData</a></code>,
<code><a href="#topic+labkey.experiment.createRun">labkey.experiment.createRun</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

## create a non-assay backed run with samples as material inputs and outputs

m1 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.626"), sampleSetName = "Study Specimens")
m2 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.625"), sampleSetName = "Study Specimens")
run &lt;- labkey.experiment.createRun(
        list(name="new run"), materialInputs = m1, materialOutputs = m2)
labkey.experiment.saveBatch(baseUrl="http://labkey/", folderPath="home",
        protocolName=labkey.experiment.SAMPLE_DERIVATION_PROTOCOL, runList=run)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.experiment.createRun'>Create an experiment run object</h2><span id='topic+labkey.experiment.createRun'></span>

<h3>Description</h3>

<p>Create an experiment run object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.experiment.createRun(config,
    dataInputs = NULL, dataOutputs = NULL, dataRows = NULL,
    materialInputs = NULL, materialOutputs = NULL, plateMetadata = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.experiment.createRun_+3A_config">config</code></td>
<td>
<p>a list of base experiment object properties</p>
</td></tr>
<tr><td><code id="labkey.experiment.createRun_+3A_datainputs">dataInputs</code></td>
<td>
<p>(optional) a list of experiment data objects to be used as data inputs to the run</p>
</td></tr>
<tr><td><code id="labkey.experiment.createRun_+3A_dataoutputs">dataOutputs</code></td>
<td>
<p>(optional) a list of experiment data objects to be used as data outputs to the run</p>
</td></tr>
<tr><td><code id="labkey.experiment.createRun_+3A_datarows">dataRows</code></td>
<td>
<p>(optional) a data frame containing data rows to be uploaded to the assay backed run</p>
</td></tr>
<tr><td><code id="labkey.experiment.createRun_+3A_materialinputs">materialInputs</code></td>
<td>
<p>(optional) a list of experiment material objects to be used as material inputs to the run</p>
</td></tr>
<tr><td><code id="labkey.experiment.createRun_+3A_materialoutputs">materialOutputs</code></td>
<td>
<p>(optional) a list of experiment material objects to be used as material outputs to the run</p>
</td></tr>
<tr><td><code id="labkey.experiment.createRun_+3A_platemetadata">plateMetadata</code></td>
<td>
<p>(optional) if the assay supports plate templates, the plate metadata object to upload</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create an experiment run object which can be used in the saveBatch function.
</p>


<h3>Value</h3>

<p>Returns the object representation of the experiment run object.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.experiment.saveBatch">labkey.experiment.saveBatch</a></code>,
<code><a href="#topic+labkey.experiment.createData">labkey.experiment.createData</a></code>,
<code><a href="#topic+labkey.experiment.createMaterial">labkey.experiment.createMaterial</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

## create a non-assay backed run with samples as material inputs and outputs

m1 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.626"), sampleSetName = "Study Specimens")
m2 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.625"), sampleSetName = "Study Specimens")
run &lt;- labkey.experiment.createRun(
        list(name="new run"), materialInputs = m1, materialOutputs = m2)
labkey.experiment.saveBatch(baseUrl="http://labkey/", folderPath="home",
        protocolName=labkey.experiment.SAMPLE_DERIVATION_PROTOCOL, runList=run)

## import an assay run which includes plate metadata

df &lt;- data.frame(participantId=c(1:3), visitId = c(10,20,30), welllocation = c("A1", "D11", "F12"))

runConfig &lt;- fromJSON(txt='{"assayId": 310,
    "name" : "api imported run with plate metadata",
    "properties" : {
        "PlateTemplate" : "urn:lsid:labkey.com:PlateTemplate.Folder-6:d8bbec7d-34cd-1038-bd67-b3bd"
    }
}')

plateMetadata &lt;- fromJSON(txt='{
      "control" : {
        "positive" : {"dilution":  0.005},
        "negative" : {"dilution":  1.0}
      },
      "sample" : {
        "SA01" : {"dilution": 1.0, "ID" : 111, "Barcode" : "BC_111", "Concentration" : 0.0125},
        "SA02" : {"dilution": 2.0, "ID" : 222, "Barcode" : "BC_222"},
        "SA03" : {"dilution": 3.0, "ID" : 333, "Barcode" : "BC_333"},
        "SA04" : {"dilution": 4.0, "ID" : 444, "Barcode" : "BC_444"}
      }
    }')

run &lt;- labkey.experiment.createRun(runConfig, dataRows = df, plateMetadata = plateMetadata)
labkey.experiment.saveBatch(
    baseUrl="http://labkey/", folderPath="home",
    assayConfig=list(assayId = 310), runList=run
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.experiment.SAMPLE_DERIVATION_PROTOCOL'>Constant for the Simple Derivation Protocol</h2><span id='topic+labkey.experiment.SAMPLE_DERIVATION_PROTOCOL'></span>

<h3>Description</h3>

<p>Simple Derivation Protocol constant.
</p>


<h3>Details</h3>

<p>This value can be used in the labkey.experiment.saveBatch function when creating runs that aren't backed by an assay protocol.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.experiment.saveBatch">labkey.experiment.saveBatch</a></code>
</p>

<hr>
<h2 id='labkey.experiment.saveBatch'>Saves a modified experiment batch</h2><span id='topic+labkey.experiment.saveBatch'></span>

<h3>Description</h3>

<p>Saves a modified experiment batch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.experiment.saveBatch(baseUrl=NULL, folderPath,
    assayConfig = NULL, protocolName = NULL,
    batchPropertyList = NULL, runList)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.experiment.saveBatch_+3A_baseurl">baseUrl</code></td>
<td>
<p>(optional) a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.experiment.saveBatch_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.experiment.saveBatch_+3A_assayconfig">assayConfig</code></td>
<td>
<p>(optional) a list specifying assay configuration information</p>
</td></tr>
<tr><td><code id="labkey.experiment.saveBatch_+3A_protocolname">protocolName</code></td>
<td>
<p>(optional) a string specifying the protocol name of the protocol to use</p>
</td></tr>
<tr><td><code id="labkey.experiment.saveBatch_+3A_batchpropertylist">batchPropertyList</code></td>
<td>
<p>(optional) a list of batch properties </p>
</td></tr>
<tr><td><code id="labkey.experiment.saveBatch_+3A_runlist">runList</code></td>
<td>
<p>a list of experiment run objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Saves a modified batch. Runs within the batch may refer to existing data and material objects, either inputs or outputs,
by ID or LSID. Runs may also define new data and materials objects by not specifying an ID or LSID in their properties.
</p>
<p>Runs can be created for either assay or non-assay backed protocols. For an assay backed protocol, either the assayId or
the assayName and providerName name must be specified in the assayConfig parameter. If a non-assay backed protocol is to be used,
specify the protocolName string value, note that currently only the simple : labkey.experiment.SAMPLE_DERIVATION_PROTOCOL is supported.
</p>
<p>Refer to the labkey.experiment.createData, labkey.experiment.createMaterial, and labkey.experiment.createRun helper functions
to assemble the data structure that saveBatch expects.
</p>


<h3>Value</h3>

<p>Returns the object representation of the experiment batch.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.experiment.createData">labkey.experiment.createData</a></code>,
<code><a href="#topic+labkey.experiment.createMaterial">labkey.experiment.createMaterial</a></code>,
<code><a href="#topic+labkey.experiment.createRun">labkey.experiment.createRun</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

## uploads data to an existing assay

df &lt;- data.frame(participantId=c(1:3), visitId = c(10,20,30), sex = c("f", "m", "f"))
bprops &lt;- list(LabNotes="this is a simple demo")
bpl &lt;- list(name=paste("Batch ", as.character(date())),properties=bprops)
run &lt;- labkey.experiment.createRun(list(name="new assay run"), dataRows = df)
labkey.experiment.saveBatch(baseUrl="http://labkey/", folderPath="home",
    assayConfig=list(assayName="GPAT", providerName="General"),
    batchPropertyList=bpl, runList=run)

## create a non-assay backed run with samples as material inputs and outputs

m1 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.626"), sampleSetName = "Study Specimens")
m2 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.625"), sampleSetName = "Study Specimens")
run &lt;- labkey.experiment.createRun(
        list(name="new run"), materialInputs = m1, materialOutputs = m2)
labkey.experiment.saveBatch(baseUrl="http://labkey/", folderPath="home",
        protocolName=labkey.experiment.SAMPLE_DERIVATION_PROTOCOL, runList=run)

## import an assay run which includes plate metadata

df &lt;- data.frame(participantId=c(1:3), visitId = c(10,20,30), welllocation = c("A1", "D11", "F12"))

runConfig &lt;- fromJSON(txt='{"assayId": 310,
    "name" : "api imported run with plate metadata",
    "properties" : {
        "PlateTemplate" : "urn:lsid:labkey.com:PlateTemplate.Folder-6:d8bbec7d-34cd-1038-bd67-b3bd"
    }
}')

plateMetadata &lt;- fromJSON(txt='{
      "control" : {
        "positive" : {"dilution":  0.005},
        "negative" : {"dilution":  1.0}
      },
      "sample" : {
        "SA01" : {"dilution": 1.0, "ID" : 111, "Barcode" : "BC_111", "Concentration" : 0.0125},
        "SA02" : {"dilution": 2.0, "ID" : 222, "Barcode" : "BC_222"},
        "SA03" : {"dilution": 3.0, "ID" : 333, "Barcode" : "BC_333"},
        "SA04" : {"dilution": 4.0, "ID" : 444, "Barcode" : "BC_444"}
      }
    }')

run &lt;- labkey.experiment.createRun(runConfig, dataRows = df, plateMetadata = plateMetadata)
labkey.experiment.saveBatch(
    baseUrl="http://labkey/", folderPath="home",
    assayConfig=list(assayId = 310), runList=run
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.experiment.saveRuns'>Saves Runs.</h2><span id='topic+labkey.experiment.saveRuns'></span>

<h3>Description</h3>

<p>Saves experiment runs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.experiment.saveRuns(baseUrl=NULL, folderPath,
    protocolName, runList)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.experiment.saveRuns_+3A_baseurl">baseUrl</code></td>
<td>
<p>(optional) a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.experiment.saveRuns_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.experiment.saveRuns_+3A_protocolname">protocolName</code></td>
<td>
<p> a string specifying the protocol name of the protocol to use</p>
</td></tr>
<tr><td><code id="labkey.experiment.saveRuns_+3A_runlist">runList</code></td>
<td>
<p>a list of experiment run objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Saves experiment runs. Runs may refer to existing data and material objects, either inputs or outputs,
by ID or LSID. Runs may also define new data and materials objects by not specifying an ID or LSID in their properties.
</p>
<p>Refer to the labkey.experiment.createData, labkey.experiment.createMaterial, and labkey.experiment.createRun helper functions
to assemble the data structure that saveRuns expects.
</p>


<h3>Value</h3>

<p>Returns the object representation of the experiment run.
</p>


<h3>Author(s)</h3>

<p>Ankur Juneja</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.experiment.createData">labkey.experiment.createData</a></code>,
<code><a href="#topic+labkey.experiment.createMaterial">labkey.experiment.createMaterial</a></code>,
<code><a href="#topic+labkey.experiment.createRun">labkey.experiment.createRun</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

## example with materialInputs and materialOutputs

m1 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.626"), sampleSetName = "Study Specimens")
m2 &lt;- labkey.experiment.createMaterial(
        list(name = "87444063.2604.625"), sampleSetName = "Study Specimens")
run &lt;- labkey.experiment.createRun(
        list(name="new run"), materialInputs = m1, materialOutputs = m2)
labkey.experiment.saveRuns(baseUrl="http://labkey/", folderPath="home",
        protocolName=labkey.experiment.SAMPLE_DERIVATION_PROTOCOL, runList=run)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getBaseUrl'>Get the default baseUrl parameter used for all http or https requests</h2><span id='topic+labkey.getBaseUrl'></span>

<h3>Description</h3>

<p>Use this function to get &quot;baseUrl&quot; package environment variables to be used for all http or https requests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getBaseUrl(baseUrl=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getBaseUrl_+3A_baseurl">baseUrl</code></td>
<td>
<p>server location including context path, if any. e.g. https://www.labkey.org/</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes an optional baseUrl parameter. When non empty parameter is passed in and if baseUrl
has not been previously set, the function will remember the baseUrl value in package environment variables and
return the formatted baseUrl. Skip baseUrl parameter to get previously set baseUrl.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Example of getting previously set baseUrl
library(Rlabkey)
labkey.setDefaults(apiKey="abcdef0123456789abcdef0123456789",
    baseUrl="http://labkey/")
labkey.getBaseUrl()


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getDefaultViewDetails'>Retrieve the fields of a LabKey query view</h2><span id='topic+labkey.getDefaultViewDetails'></span>

<h3>Description</h3>

<p>Fetch a list of output fields and their attributes that are avaialble from the default view of a given query</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getDefaultViewDetails(baseUrl, folderPath,
    schemaName, queryName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getDefaultViewDetails_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.getDefaultViewDetails_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.getDefaultViewDetails_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the  <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.getDefaultViewDetails_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the <code>queryName</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Queries have a default &ldquo;views&rdquo; associeated with them.  A query view can describe a subset or superset of the fields defined by the query.  
A query view is defined by using the &ldquo;Customize View&rdquo; button option on a LabKey data grid page.  <code>getDefaultViewDetails</code> has the same arguments 
and returns the same shape of result data frame as <code>getQueryDetails</code>.The default view is the what you will get back on calling 
<code>labkey.selectRows</code> or <code>getRows</code>.
</p>


<h3>Value</h3>

<p>The output field attributes of the default view are returned as a data frame.  See <code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code> for a description.
</p>


<h3>Author(s)</h3>

<p>Peter Hussey, peter@labkey.com</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>,
<code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>,
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>,
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>,
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.getSchemas">labkey.getSchemas</a></code>,
<code><a href="#topic+labkey.getQueries">labkey.getQueries</a></code>,
<code><a href="#topic+labkey.getQueryViews">labkey.getQueryViews</a></code>,
<code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>,
<code><a href="#topic+labkey.getLookupDetails">labkey.getLookupDetails</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Details  of fields of a default query view
# library(Rlabkey)

queryDF &lt;- labkey.getDefaultViewDetails(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists",
	queryName="AllTypes")
	
queryDF


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getFolders'>Retrieve a list of folders accessible to the current user</h2><span id='topic+labkey.getFolders'></span>

<h3>Description</h3>

<p>Fetch a list of all folders accessible to the current user, starting from a given folder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getFolders(baseUrl, folderPath,
        includeEffectivePermissions=TRUE,
        includeSubfolders=FALSE, depth=50,
        includeChildWorkbooks=TRUE,
        includeStandardProperties=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getFolders_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the address of the LabKey Server, including the context root</p>
</td></tr>
<tr><td><code id="labkey.getFolders_+3A_folderpath">folderPath</code></td>
<td>
<p>the starting point for the search.  </p>
</td></tr>
<tr><td><code id="labkey.getFolders_+3A_includeeffectivepermissions">includeEffectivePermissions</code></td>
<td>
<p>If set to false, the effective permissions for this container resource will not be included. (defaults to TRUE).</p>
</td></tr>
<tr><td><code id="labkey.getFolders_+3A_includesubfolders">includeSubfolders</code></td>
<td>
<p>whether the search for subfolders should recurse down the folder hierarchy</p>
</td></tr>
<tr><td><code id="labkey.getFolders_+3A_depth">depth</code></td>
<td>
<p>maximum number of subfolder levels to show if includeSubfolders=TRUE</p>
</td></tr>
<tr><td><code id="labkey.getFolders_+3A_includechildworkbooks">includeChildWorkbooks</code></td>
<td>
<p>If true, include child containers of type workbook in the response (defaults to TRUE).</p>
</td></tr>
<tr><td><code id="labkey.getFolders_+3A_includestandardproperties">includeStandardProperties</code></td>
<td>
<p>If true, include the standard container properties like title, formats, etc. in the response (defaults to TRUE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Folders are a hierarchy of containers for data and files.   The are the place where permissions are set 
in LabKey Server.  The top level in a folder hierarchy is the project.  Below the project is an arbitrary 
hierarchy of folders that can be used to partition data for reasons of security, visibility, and organization.
</p>
<p>Folders cut across schemas.  Some schemas, like the lists schema are not visible in a folder that has no list objects 
defined in it. Other schemas are visible in all folders.
</p>


<h3>Value</h3>

<p>The available folders are returned as a three-column data frame containing
</p>
<table>
<tr><td><code>name</code></td>
<td>
<p>the name of the folder</p>
</td></tr>
<tr><td><code>folderPath</code></td>
<td>
<p>the full path of the folder from the project root</p>
</td></tr>
<tr><td><code>effectivePermissions</code></td>
<td>
<p>the current user's effective permissions for the given folder</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Peter Hussey, peter@labkey.com</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.getQueries">labkey.getQueries</a></code>,
<code><a href="#topic+labkey.getQueryViews">labkey.getQueryViews</a></code>,
<code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>,
<code><a href="#topic+labkey.getDefaultViewDetails">labkey.getDefaultViewDetails</a></code>,
<code><a href="#topic+labkey.getLookupDetails">labkey.getLookupDetails</a></code>,
<code><a href="#topic+labkey.security.getContainers">labkey.security.getContainers</a></code>,
<code><a href="#topic+labkey.security.createContainer">labkey.security.createContainer</a></code>,
<code><a href="#topic+labkey.security.deleteContainer">labkey.security.deleteContainer</a></code>,
<code><a href="#topic+labkey.security.moveContainer">labkey.security.moveContainer</a></code>
<code><a href="#topic+labkey.security.renameContainer">labkey.security.renameContainer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## List of folders 
# library(Rlabkey)

folders &lt;- labkey.getFolders("https://www.labkey.org", "/home")
folders


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getLookupDetails'>Retrieve detailed information on a LabKey query</h2><span id='topic+labkey.getLookupDetails'></span>

<h3>Description</h3>

<p>Fetch a list of output columns and their attributes from the query referenced by a lookup field</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getLookupDetails(baseUrl, folderPath,
    schemaName, queryName, lookupKey)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getLookupDetails_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the address of the LabKey Server, including the context root</p>
</td></tr>
<tr><td><code id="labkey.getLookupDetails_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the hierarchy of folders to the current folder (container) for the operation, starting with the project folder </p>
</td></tr>
<tr><td><code id="labkey.getLookupDetails_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the schema name in which the query object is defined</p>
</td></tr>
<tr><td><code id="labkey.getLookupDetails_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the name the query</p>
</td></tr>
<tr><td><code id="labkey.getLookupDetails_+3A_lookupkey">lookupKey</code></td>
<td>
<p>a string specifying the qualified name of a lookup field (foreign key) relative to the query specified by queryName </p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>getQueryDetails</code> returns non-NA values for the lookupQueryName, the <code>getLookupDetails</code> function can be called
to enumerate the fields from the query referenced by the lookup.  These lookup fields can be added to the <code>colSelect</code> list of <code>selectRows</code>.
</p>


<h3>Value</h3>

<p>The available schemas are returned as a data frame, with the same columns
as detailed in <code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>
</p>


<h3>Author(s)</h3>

<p>Peter Hussey, peter@labkey.com</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>,
<code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>,
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>,
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>,
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.getSchemas">labkey.getSchemas</a></code>,
<code><a href="#topic+labkey.getQueries">labkey.getQueries</a></code>,
<code><a href="#topic+labkey.getQueryViews">labkey.getQueryViews</a></code>,
<code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>,
<code><a href="#topic+labkey.getDefaultViewDetails">labkey.getDefaultViewDetails</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Details  of fields of a query referenced by a lookup field
# library(Rlabkey)

lu1  &lt;- labkey.getLookupDetails(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists",
	queryName="AllTypes",
	lookupKey="Category"
)
lu1

## When a lookup field points to a query object that itself has a lookup
## field, use a compound fieldkey consisting of the lookup fields from
## the base query object to the target lookupDetails, separated by
## forward slashes
lu2&lt;- labkey.getLookupDetails(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists",
	queryName="AllTypes",
	lookupKey="Category/Group"
)
lu2

## Now select a result set containing a field from the base query, a
## field from the 1st level of lookup, and one from the 2nd
rows&lt;- labkey.selectRows(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists",
	queryName="AllTypes",
	colSelect=c("DisplayFld","Category/Category","Category/Group/GroupName"), 
	colFilter = makeFilter(c("Category/Group/GroupName",
	   "NOT_EQUALS","TypeRange")), maxRows=20
 )
 rows


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getModuleProperty'>Get effective module property value</h2><span id='topic+labkey.getModuleProperty'></span>

<h3>Description</h3>

<p>Get a specific effective module property value for folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getModuleProperty(baseUrl=NULL, folderPath, moduleName, propName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getModuleProperty_+3A_baseurl">baseUrl</code></td>
<td>
<p>server location including context path, if any. e.g. https://www.labkey.org/</p>
</td></tr>
<tr><td><code id="labkey.getModuleProperty_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code></p>
</td></tr>
<tr><td><code id="labkey.getModuleProperty_+3A_modulename">moduleName</code></td>
<td>
<p>name of the module</p>
</td></tr>
<tr><td><code id="labkey.getModuleProperty_+3A_propname">propName</code></td>
<td>
<p>The module property name</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(Rlabkey)
labkey.getModuleProperty(baseUrl="http://labkey/", folderPath="flowProject",
    moduleName="flow", propName="ExportToScriptFormat")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getQueries'>Retrieve a list of available queries for a specified LabKey schema</h2><span id='topic+labkey.getQueries'></span>

<h3>Description</h3>

<p>Fetch a list of queries available to the current user within in a specified folder context and specified schema
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getQueries(baseUrl, folderPath, schemaName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getQueries_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the address of the LabKey Server, including the context root</p>
</td></tr>
<tr><td><code id="labkey.getQueries_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the hierarchy of folders to the current folder (container) for the operation, starting with the project folder </p>
</td></tr>
<tr><td><code id="labkey.getQueries_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the schema name in which the query object is defined</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&ldquo;Query&rdquo; is the LabKey term for a data container that acts like a relational table within LabKey Server. Queries 
include lists, assay data results, user-defined queries, built-in SQL tables in individual modules, and 
tables or table-like objects in external schemas,  For a specific queriable object,
the data that is visible depends on the current user's permissions in a given folder.
Function arguments identify the location of the server and the folder path.
</p>


<h3>Value</h3>

<p>The available queries are returned as a three-column data frame containing one row for each field for each query
in the specified schema.  The three columns are <br />
</p>
<table>
<tr><td><code>queryName</code></td>
<td>
<p>the name of the query object, repeated once for every field defined as output of the query.</p>
</td></tr>  </table>
<p><br />
</p>
<table>
<tr><td><code>fieldName</code></td>
<td>
<p>the name of a query output field</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>caption</code></td>
<td>
<p>the caption of the named field as shown in the column header of a data grid, also known as a label</p>
</td></tr> </table>
<p><br />
</p>


<h3>Author(s)</h3>

<p>Peter Hussey, peter@labkey.com</p>


<h3>References</h3>

<p>http://www.omegahat.net/RCurl/,<br />
https://www.labkey.org/home/project-begin.view</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>,
<code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>,
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>,
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>,
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.getSchemas">labkey.getSchemas</a></code>,
<code><a href="#topic+labkey.getQueryViews">labkey.getQueryViews</a></code>,
<code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>,
<code><a href="#topic+labkey.getDefaultViewDetails">labkey.getDefaultViewDetails</a></code>,
<code><a href="#topic+labkey.getLookupDetails">labkey.getLookupDetails</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## List of queries in a schema
# library(Rlabkey)

queriesDF &lt;- labkey.getQueries(
	baseUrl="https://www.labkey.org",
	folderPath="/home",
	schemaName="lists"
)
queriesDF


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getQueryDetails'>Retrieve detailed information on a LabKey query</h2><span id='topic+labkey.getQueryDetails'></span>

<h3>Description</h3>

<p>Fetch a list of output columns and their attributes that are avaialble from a given query</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getQueryDetails(baseUrl, folderPath, schemaName, queryName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getQueryDetails_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the address of the LabKey Server, including the context root</p>
</td></tr>
<tr><td><code id="labkey.getQueryDetails_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the hierarchy of folders to the current folder (container) for the operation, starting with the project folder </p>
</td></tr>
<tr><td><code id="labkey.getQueryDetails_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the schema name in which the query object is defined</p>
</td></tr>
<tr><td><code id="labkey.getQueryDetails_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the name of the query</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Queries have a default output list of fields defined by the &quot;default view&quot; of the query.  
To retrieve that set of fields with their detailed properties such as type and nullability, use
<code>labkey.getQueryDetails</code> function. Function arguments are the components of the url that identify
the location of the server, the folder path, the schema, and the name of the query.
<br /> <br />
The results from getQueryDetails describe the &ldquo;field names&rdquo; that are used to build the colSelect, 
colFilter and colSort parameters to selectRows. Each column in the data frame returned from selectRows
corresponds to a field in the colSelect list.
<br />
There are two types of fieldNames that will be reported by the server in the output of this function. For fields that are
directly defined in the query corresponding the queryName parameter for this function, the fieldName 
is simply the name assigned by the query. Because selectRows returns the results specified by the default view, however,
there may be cases where this default view incorporates data from other queries that have a defined 1-M relationship
with the table designated by the queryName. Such fields in related tables are referred to as &ldquo;lookup&rdquo; fields.
Lookup fields have multi-part names using a forward slash as the delimiter. For example, in a samples data set, if the ParticipantId
identifies the source of the sample, <code>ParticipantId/CohortId/CohortName</code> could be a reference to a <code>CohortName</code> field 
in a <code>Cohorts</code> data set.
</p>
<p>These lookup fieldNames can appear in the default view and show up in the selectRows result. If a field from a lookup table
is not in the default view, it can still be added to the output column list of <code>labkey.selectRows</code>. Use the
labkey.getLookups to discover what additional fields are available via lookups, and then put their multipart fieldName values
into the colSelect list. Lookup fields have the semantics of a LEFT JOIN in SQL, such that
every record from the target queryName appears in the output whether or not there is a matching lookup field value.
</p>


<h3>Value</h3>

<p>The available schemas are returned as a data frame:
</p>
<table>
<tr><td><code>queryName</code></td>
<td>
<p>the name of the query, repeated n times, where n is the number of output fields from the query</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>fieldName</code></td>
<td>
<p>the fully qualified name of the field, relative to the specified queryName.</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>caption</code></td>
<td>
<p>a more readable label for the data field, appears as a column header in grids</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>fieldKey</code></td>
<td>
<p>the name part that identifies this field within its containing table, independent of its use as a lookup target.</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>a string specifying the field type, e.g. Text, Number, Date, Integer</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isNullable</code></td>
<td>
<p>TRUE if the field can be left empty (null)</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isKeyField</code></td>
<td>
<p>TRUE if the field is part of the primary key</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isAutoIncrement</code></td>
<td>
<p>TRUE if the system will automatically assign a sequential integer in this on inserting a record</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isVersionField</code></td>
<td>
<p>TRUE if the field issued to detect changes since last read</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isHidden</code></td>
<td>
<p>TRUE if the field is not displayed by default</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isSelectable</code></td>
<td>
<p>reserved for future use.</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isUserEditable</code></td>
<td>
<p>reserved for future use.</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isReadOnly</code></td>
<td>
<p>reserved for future use</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>isMvEnabled</code></td>
<td>
<p>reserved for future use</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>lookupKeyField</code></td>
<td>
<p>for a field defined as a lookup the primary key column of the query referenced by the lookup field;  NA for non-lookup fields</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>lookupSchemaName</code></td>
<td>
<p>the schema of the query referenced by the lookup field;  NA for non-lookup fields</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>lookupDisplayField</code></td>
<td>
<p>the field from the query referenced by the lookup field that is shown by default in place of the lookup field;  NA for non-lookup fields</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>lookupQueryName</code></td>
<td>
<p>the query referenced by the lookup field;  NA for non-lookup fields.  A non-NA value indicates that you can use this field in a call to getLookups</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>lookupIsPublic</code></td>
<td>
<p>reserved for future use</p>
</td></tr> </table>
<p><br />
</p>


<h3>Author(s)</h3>

<p>Peter Hussey, peter@labkey.com</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>,
<code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>,
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>,
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>,
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.getSchemas">labkey.getSchemas</a></code>,
<code><a href="#topic+labkey.getQueries">labkey.getQueries</a></code>,
<code><a href="#topic+labkey.getQueryViews">labkey.getQueryViews</a></code>,
<code><a href="#topic+labkey.getDefaultViewDetails">labkey.getDefaultViewDetails</a></code>,
<code><a href="#topic+labkey.getLookupDetails">labkey.getLookupDetails</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Details  of fields of a query
# library(Rlabkey)

queryDF&lt;-labkey.getQueryDetails(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists",
	queryName="AllTypes")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getQueryViews'>Retrieve a list of available named views defined on a query in a schema</h2><span id='topic+labkey.getQueryViews'></span>

<h3>Description</h3>

<p>Fetch a list of named query views available to the current user in a specified folder context, schema and query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getQueryViews(baseUrl, folderPath, schemaName, queryName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getQueryViews_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the address of the LabKey Server, including the context root</p>
</td></tr>
<tr><td><code id="labkey.getQueryViews_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the hierarchy of folders to the current folder (container) for the operation, starting with the project folder </p>
</td></tr>
<tr><td><code id="labkey.getQueryViews_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the schema name in which the query object is defined</p>
</td></tr>
<tr><td><code id="labkey.getQueryViews_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the name the query</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Queries have a default &ldquo;view&rdquo; associeated with them, and can also have any number of named views.
A named query view is created by using the &ldquo;Customize View&rdquo; button option on a LabKey data grid page.  
Use <code>getDefaultViewDetails</code> to get inforation about the default (unnamed) view.
</p>


<h3>Value</h3>

<p>The available views for a query are returned as a three-column data frame, with one row per view output field. <br />
</p>
<table>
<tr><td><code>viewName</code></td>
<td>
<p>The name of the view, or NA for the default view.</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>fieldName</code></td>
<td>
<p>The name of a field within the view, as defined in the query object to which the field belongs</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code>key</code></td>
<td>
<p>The name of the field relative to the base query,  Use this value in the colSelect parameter of <code>labkey.selectRows()</code>.</p>
</td></tr> </table>
<p><br />
</p>


<h3>Author(s)</h3>

<p>Peter Hussey, peter@labkey.com</p>


<h3>References</h3>

<p>https://www.labkey.org/Documentation/wiki-page.view?name=savingViews</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>,
<code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>,
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>,
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>,
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.getSchemas">labkey.getSchemas</a></code>,
<code><a href="#topic+labkey.getQueries">labkey.getQueries</a></code>,
<code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>,
<code><a href="#topic+labkey.getDefaultViewDetails">labkey.getDefaultViewDetails</a></code>,
<code><a href="#topic+labkey.getLookupDetails">labkey.getLookupDetails</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## List of views defined for a query in a schema
# library(Rlabkey)

viewsDF &lt;- labkey.getQueryViews(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists",
	queryName="AllTypes"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getRequestOptions'>Helper function to get the HTTP request options for a specific method type.</h2><span id='topic+labkey.getRequestOptions'></span>

<h3>Description</h3>

<p>The internal functions for labkey.get() and labkey.post() use this labkey.getRequestOptions()
helper to build up the HTTP request options for things like CSRF, CURL options, and authentication
properties. This function is also exposed for general use if you would like to make your own
HTTP request but need to use those request options as set in your session context.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getRequestOptions(method = 'GET', encoding = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getRequestOptions_+3A_method">method</code></td>
<td>
<p>a string specifying the HTTP method for the request options you want to get</p>
</td></tr>
<tr><td><code id="labkey.getRequestOptions_+3A_encoding">encoding</code></td>
<td>
<p>a string specifying the type of encoding to add to the header properties, defaults to UTF-8 when NULL</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)
labkey.getRequestOptions()


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.getSchemas'>Retrieve a list of available schemas from a labkey database</h2><span id='topic+labkey.getSchemas'></span>

<h3>Description</h3>

<p>Fetch a list of schemas available to the current user in a specified folder context
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.getSchemas(baseUrl, folderPath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.getSchemas_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the address of the LabKey Server, including the context root</p>
</td></tr>
<tr><td><code id="labkey.getSchemas_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the hierarchy of folders to the current folder (container) for the operation, starting with the project folder </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Schemas act as the name space for query objects in LabKey Server. Schemas are generatlly
associated with a LabKey Server &quot;module&quot; that provides some specific functionality. Within a queriable object,
the specific data that is visible depends on the current user's permissions in a given folder.
Function arguments are the components of the url that identify the location of the server and the folder path.
</p>


<h3>Value</h3>

<p>The available schemas are returned as a single-column data frame.
</p>


<h3>Author(s)</h3>

<p>Peter Hussey, peter@labkey.com</p>


<h3>References</h3>

<p>http://www.omegahat.net/RCurl/,<br />
https://www.labkey.org/home/project-begin.view</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>,
<code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>,
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>,
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>,
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.getQueries">labkey.getQueries</a></code>,
<code><a href="#topic+labkey.getQueryViews">labkey.getQueryViews</a></code>,
<code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>,
<code><a href="#topic+labkey.getDefaultViewDetails">labkey.getDefaultViewDetails</a></code>,
<code><a href="#topic+labkey.getLookupDetails">labkey.getLookupDetails</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## List of schemas
# library(Rlabkey)

schemasDF &lt;- labkey.getSchemas(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.importRows'>Import rows of data into a LabKey Server</h2><span id='topic+labkey.importRows'></span>

<h3>Description</h3>

<p>Bulk import rows of data into the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.importRows(baseUrl, folderPath,
    schemaName, queryName, toImport, na)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.importRows_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.importRows_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.importRows_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.importRows_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the <code>queryName</code> </p>
</td></tr>
<tr><td><code id="labkey.importRows_+3A_toimport">toImport</code></td>
<td>
<p>a data frame containing rows of data to be imported</p>
</td></tr>
<tr><td><code id="labkey.importRows_+3A_na">na</code></td>
<td>
<p>(optional) the value to convert NA's to, defaults to NULL</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Multiple rows of data can be imported in bulk.  The <code>toImport</code> data frame must contain
values for each column in the dataset and must be created with the <code>stringsAsFactors</code> option
set to FALSE. The names of the data in the data frame must be the column names from the
LabKey Server. To import a value of NULL, use an empty string (&quot;&quot;) in the data frame
(regardless of the database column type). Also, when importing data into a study dataset, the
sequence number must be specified.
</p>


<h3>Value</h3>

<p>A list is returned with named categories of <b>command</b>, <b>rowsAffected</b>, <b>queryName</b>, <b>containerPath</b> and <b>schemaName</b>.
The <b>schemaName</b>, <b>queryName</b> and <b>containerPath</b> properties contain the same schema, query
and folder path used in the request.  The
<b>rowsAffected</b> property indicates the number of rows affected by the API action. This will typically be the same
number as passed in the request.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>, <code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>, <code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>, <code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>, <code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.query.import">labkey.query.import</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Note that users must have the necessary permissions in the database
## to be able to modify data through the use of these functions
# library(Rlabkey)

newrows &lt;- data.frame(
	DisplayFld="Imported from R"
	, RequiredText="abc"
	, RequiredInt=1
	, stringsAsFactors=FALSE)
newrows = newrows[rep(1:nrow(newrows),each=5),]

importedInfo &lt;- labkey.importRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    toImport=newrows)

importedInfo$rowsAffected


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.insertRows'>Insert new rows of data into a LabKey Server</h2><span id='topic+labkey.insertRows'></span>

<h3>Description</h3>

<p>Insert new rows of data into the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.insertRows(baseUrl, folderPath,
    schemaName, queryName, toInsert, na,
    provenanceParams=NULL, options=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.insertRows_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.insertRows_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.insertRows_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the  <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.insertRows_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the  <code>queryName</code> </p>
</td></tr>
<tr><td><code id="labkey.insertRows_+3A_toinsert">toInsert</code></td>
<td>
<p>a data frame containing rows of data to be inserted</p>
</td></tr>
<tr><td><code id="labkey.insertRows_+3A_na">na</code></td>
<td>
<p>(optional) the value to convert NA's to, defaults to NULL</p>
</td></tr>
<tr><td><code id="labkey.insertRows_+3A_provenanceparams">provenanceParams</code></td>
<td>
<p>the provenance parameter object which contains the options to include as part of a provenance recording.
This is a premium feature and requires the Provenance LabKey module to function correctly, if it is not present this parameter will be ignored.
</p>
</td></tr>
<tr><td><code id="labkey.insertRows_+3A_options">options</code></td>
<td>
<p>(optional) a list containing options specific to the insert action of the query</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A single row or multiple rows of data can be inserted.  The <code>toInsert</code> data frame must contain
values for each column in the dataset and must be created with the <code>stringsAsFactors</code> option
set to FALSE. The names of the data in the data frame must be the column names from the
LabKey Server.To insert a value of NULL, use an empty string (&quot;&quot;) in the data frame (regardless of the database column type). 
Also, when inserting data into a study dataset, the sequence number must be specified.
<br /> <br />
The list of valid options for each query will vary, but some common examples include:
</p>

<ul>
<li> <p><code>auditBehavior (string)</code> : Can be used to override the audit behavior for the table the query is acting on.
The set of types include: NONE, SUMMARY, and DETAILED.
</p>
</li>
<li> <p><code>auditUserComment (string)</code> : Can be used to provide a comment from the user that will be attached to
certain detailed audit log records.
</p>
</li></ul>



<h3>Value</h3>

<p>A list is returned with named categories of <b>command</b>, <b>rowsAffected</b>, <b>rows</b>, <b>queryName</b>, <b>containerPath</b> and <b>schemaName</b>.
The <b>schemaName</b>, <b>queryName</b> and <b>containerPath</b> properties contain the same schema, query 
and folder path used in the request.  The
<b>rowsAffected</b> property indicates the number of rows affected by the API action. This will typically be the same
number as passed in the request. The <b>rows</b> property contains a list of row objects corresponding to the rows 
inserted.
</p>


<h3>Author(s)</h3>

<p>Valerie Obenchain</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>, <code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>, <code><a href="#topic+makeFilter">makeFilter</a></code>, 
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>, <code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>, <br />
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>, <code><a href="#topic+labkey.moveRows">labkey.moveRows</a></code>, <br />
<code><a href="#topic+labkey.query.import">labkey.query.import</a></code>,
<code><a href="#topic+labkey.provenance.createProvenanceParams">labkey.provenance.createProvenanceParams</a></code>,
<code><a href="#topic+labkey.provenance.startRecording">labkey.provenance.startRecording</a></code>,
<code><a href="#topic+labkey.provenance.addRecordingStep">labkey.provenance.addRecordingStep</a></code>,
<code><a href="#topic+labkey.provenance.stopRecording">labkey.provenance.stopRecording</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Insert, update and delete
## Note that users must have the necessary permissions in the database
## to be able to modify data through the use of these functions
# library(Rlabkey)

newrow &lt;- data.frame(
	DisplayFld="Inserted from R"
	, TextFld="how its done"
	, IntFld= 98 
	, DoubleFld = 12.345
	, DateTimeFld = "03/01/2010"
	, BooleanFld= FALSE
	, LongTextFld = "Four score and seven years ago"
#	, AttachmentFld = NA    #attachment fields not supported 
	, RequiredText = "Veni, vidi, vici"
	, RequiredInt = 0
	, Category = "LOOKUP2"
	, stringsAsFactors=FALSE)

insertedRow &lt;- labkey.insertRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    toInsert=newrow, options=list(auditBehavior="DETAILED",
    auditUserComment="testing audit comment for insert"))
newRowId &lt;- insertedRow$rows[[1]]$RowId

selectedRow&lt;-labkey.selectRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colFilter=makeFilter(c("RowId", "EQUALS", newRowId)))
updaterow=data.frame(
	RowId=newRowId
	, DisplayFld="Updated from R"
	, TextFld="how to update"
	, IntFld= 777 
	, stringsAsFactors=FALSE)

updatedRow &lt;- labkey.updateRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    toUpdate=updaterow, options=list(auditBehavior="DETAILED",
    auditUserComment="testing audit comment for update"))
selectedRow&lt;-labkey.selectRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colFilter=makeFilter(c("RowId", "EQUALS", newRowId)))

deleterow &lt;- data.frame(RowId=newRowId, stringsAsFactors=FALSE)
result &lt;- labkey.deleteRows(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    toDelete=deleterow)

## Example of creating a provenance run with an initial step with material inputs, a second step
## with provenance mapping to link existing samples with newly inserted samples, and a final step
## with a data output
##
mi &lt;- data.frame(lsid=c("urn:lsid:labkey.com:Sample.251.MySamples:sample1",
        "urn:lsid:labkey.com:Sample.251.MySamples:sample2"))
p &lt;- labkey.provenance.createProvenanceParams(name="step1", description="initial step",
        materialInputs=mi)
ra &lt;- labkey.provenance.startRecording(baseUrl="https://labkey.org/labkey/",
        folderPath = "Provenance", provenanceParams=p)

rows &lt;- fromJSON(txt='[{
        "name" : "sample3",
        "protein" : "p3",
        "prov:objectInputs" : [
            "urn:lsid:labkey.com:Sample.251.MySamples:sample21",
            "urn:lsid:labkey.com:Sample.251.MySamples:sample22"
        ]
    },{
        "name" : "sample4",
        "protein" : "p4",
        "prov:objectInputs" : [
            "urn:lsid:labkey.com:Sample.251.MySamples:sample21",
            "urn:lsid:labkey.com:Sample.251.MySamples:sample22"
        ]
    }
]')

labkey.insertRows(baseUrl="https://labkey.org/labkey/", folderPath = "Provenance",
    schemaName="samples", queryName="MySamples", toInsert=rows,
    provenanceParams=labkey.provenance.createProvenanceParams(name="query step",
        recordingId=ra$recordingId))
labkey.provenance.stopRecording(baseUrl="https://labkey.org/labkey/", folderPath = "Provenance",
    provenanceParams=labkey.provenance.createProvenanceParams(name="final step",
    recordingId=ra$recordingId, dataOutputs=do))

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.makeRemotePath'>Build a file path to data on a remote machine</h2><span id='topic+labkey.makeRemotePath'></span>

<h3>Description</h3>

<p> Replaces a local root with a remote root given a full path </p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.makeRemotePath(localRoot, remoteRoot, fullPath) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.makeRemotePath_+3A_localroot">localRoot</code></td>
<td>
<p>local root part of the fullPath</p>
</td></tr>
<tr><td><code id="labkey.makeRemotePath_+3A_remoteroot">remoteRoot</code></td>
<td>
<p>remote root that will replace the local root of the fullPath</p>
</td></tr>
<tr><td><code id="labkey.makeRemotePath_+3A_fullpath">fullPath</code></td>
<td>
<p>the full path to make remote</p>
</td></tr>
</table>


<h3>Details</h3>

  
<p>A helper function to translate a file path on a LabKey web server to a path accessible 
by a remote machine.  For example, if an R script is run on an R server that is a different 
machine than the LabKey server and that script references data files on the LabKey server, 
a remote path needs to be created to correctly reference these files.  The local and 
remote roots of the data pipeline are included by LabKey in the prolog of an R View report 
script.  Note that the data pipeline root references are only included if an administrator 
has enabled the Rserve Reports experimental feature on the LabKey server.  If the 
remoteRoot is empty or the fullPath does not contain the localRoot then the fullPath is 
returned without its root being changed.
</p>


<h3>Value</h3>

<p> A character array containing the full path. 
</p>


<h3>Author(s)</h3>

<p>Dax Hawkins</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# library(Rlabkey)

labkey.pipeline.root &lt;- "c:/data/fcs"
labkey.remote.pipeline.root &lt;- "/volumes/fcs"
fcsFile &lt;- "c:/data/fcs/runA/aaa.fcs"

# returns "/volumes/fcs/runA/aaa.fcs
labkey.makeRemotePath(
	localRoot=labkey.pipeline.root,
	remoteRoot=labkey.remote.pipeline.root,
	fullPath=fcsFile);

</code></pre>

<hr>
<h2 id='labkey.moveRows'>Move rows of data from a LabKey database</h2><span id='topic+labkey.moveRows'></span>

<h3>Description</h3>

<p>Specify rows of data to be moved from the LabKey Server
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.moveRows(baseUrl, folderPath, targetFolderPath,
    schemaName, queryName, toMove, options=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.moveRows_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for LabKey server</p>
</td></tr>
<tr><td><code id="labkey.moveRows_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> for the source container of the rows</p>
</td></tr>
<tr><td><code id="labkey.moveRows_+3A_targetfolderpath">targetFolderPath</code></td>
<td>
<p>a string specifying the <code>targetFolderPath</code> where the rows should be moved</p>
</td></tr>
<tr><td><code id="labkey.moveRows_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.moveRows_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the <code>queryName</code></p>
</td></tr>
<tr><td><code id="labkey.moveRows_+3A_tomove">toMove</code></td>
<td>
<p>a data frame containing a single column of data containing the data identifiers of the rows to be moved</p>
</td></tr>
<tr><td><code id="labkey.moveRows_+3A_options">options</code></td>
<td>
<p>(optional) a list containing options specific to the move action of the query</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Move a set of rows from the source container to a target container for a table. Note that this is not implemented for
all tables.
</p>
<p>The list of valid options for each query will vary, but some common examples include:
</p>

<ul>
<li> <p><code>auditBehavior (string)</code> : Can be used to override the audit behavior for the table the query is acting on.
The set of types include: NONE, SUMMARY, and DETAILED.
</p>
</li>
<li> <p><code>auditUserComment (string)</code> : Can be used to provide a comment from the user that will be attached to
certain detailed audit log records.
</p>
</li></ul>



<h3>Value</h3>

<p>A list is returned with named categories of <b>command</b>, <b>rowsAffected</b>, <b>schemaName</b>, <b>queryName</b>,
<b>containerPath</b> and <b>updateCounts</b>.
The <b>containerPath</b> will be the target container path where the rows were moved.
The <b>rowsAffected</b> property indicates the number of rows affected by the API action. This will typically be the same
number as passed in the request.
The <b>updateCounts</b> property is a list of the number of items moved for various related items.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>, <br />
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>, <br />
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>, <br />
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Note that users must have the necessary permissions in the LabKey Server
## to be able to modify data through the use of these functions
# library(Rlabkey)

newrow &lt;- data.frame(
	DisplayFld="Inserted from R"
	, IntFld= 98
	, DateTimeFld = "03/01/2010"
	, stringsAsFactors=FALSE)

insertedRow &lt;- labkey.insertRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="samples",
    queryName="Blood", toInsert=newrow)
newRowId &lt;- insertedRow$rows[[1]]$RowId

result &lt;- labkey.moveRows(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", folderPath="/apisamples/subA", schemaName="samples",
    queryName="Blood",  toMove=data.frame(RowId=c(newRowId)),
    options = list(auditUserComment="testing comment from API call", auditBehavior="DETAILED"))
result


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.pipeline.getFileStatus'>Gets the protocol file status for a pipeline</h2><span id='topic+labkey.pipeline.getFileStatus'></span>

<h3>Description</h3>

<p>Gets the status of analysis using a particular protocol for a particular pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.pipeline.getFileStatus(baseUrl=NULL, folderPath,
        taskId, protocolName, path, files)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.pipeline.getFileStatus_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the LabKey server</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getFileStatus_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.pipeline.getFileStatus_+3A_taskid">taskId</code></td>
<td>
<p>a string identifier for the pipeline</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getFileStatus_+3A_protocolname">protocolName</code></td>
<td>
<p>a string name of the analysis protocol</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getFileStatus_+3A_path">path</code></td>
<td>
<p>a string for the relative path from the folder's pipeline root</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getFileStatus_+3A_files">files</code></td>
<td>
<p>a list of names of the files within the subdirectory described
by the path property</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The response will contain a list of file status objects, i.e. files, each of which
will have the following properties:
</p>

<ul>
<li><p> &quot;name&quot;: name of the file 
</p>
</li>
<li><p> &quot;status&quot;: status of the file 
</p>
</li></ul>

<p>The response will also include the name of the action that would be performed on
the files if the user initiated processing, i.e. submitType.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.pipeline.getPipelineContainer">labkey.pipeline.getPipelineContainer</a></code>,
<code><a href="#topic+labkey.pipeline.getProtocols">labkey.pipeline.getProtocols</a></code>,
<code><a href="#topic+labkey.pipeline.startAnalysis">labkey.pipeline.startAnalysis</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

labkey.pipeline.getFileStatus(
    baseUrl="http://labkey/",
    folderPath="home",
    taskId = "pipelinetest:pipeline:r-copy",
    path = "r-copy",
    protocolName = "Test protocol name",
    files = list("sample.txt", "result.txt")
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.pipeline.getPipelineContainer'>Gets the container in which the pipeline is defined</h2><span id='topic+labkey.pipeline.getPipelineContainer'></span>

<h3>Description</h3>

<p>Gets the container in which the pipeline for this container is defined. This may be the
container in which the request was made, or a parent container if the pipeline was defined
there.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.pipeline.getPipelineContainer(baseUrl=NULL, folderPath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.pipeline.getPipelineContainer_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the LabKey server</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getPipelineContainer_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
</table>


<h3>Value</h3>

<p>The response will contain the following:
</p>

<ul>
<li><p> &quot;containerPath&quot;: The container path in which the pipeline is defined.
If no pipeline has been defined in this container hierarchy,
then the value of this property will be null.

</p>
</li>
<li><p> &quot;webDavURL&quot;: The WebDavURL for the pipeline root. 
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.pipeline.getProtocols">labkey.pipeline.getProtocols</a></code>,
<code><a href="#topic+labkey.pipeline.getFileStatus">labkey.pipeline.getFileStatus</a></code>,
<code><a href="#topic+labkey.pipeline.startAnalysis">labkey.pipeline.startAnalysis</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

labkey.pipeline.getPipelineContainer(
    baseUrl="http://labkey/",
    folderPath="home"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.pipeline.getProtocols'>Gets the protocols that have been saved for a particular pipeline</h2><span id='topic+labkey.pipeline.getProtocols'></span>

<h3>Description</h3>

<p>Gets the protocols that have been saved for a particular pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.pipeline.getProtocols(baseUrl=NULL, folderPath,
        taskId, path, includeWorkbooks = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.pipeline.getProtocols_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the LabKey server</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getProtocols_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.pipeline.getProtocols_+3A_taskid">taskId</code></td>
<td>
<p>a string identifier for the pipeline</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getProtocols_+3A_path">path</code></td>
<td>
<p>a string for the relative path from the folder's pipeline root</p>
</td></tr>
<tr><td><code id="labkey.pipeline.getProtocols_+3A_includeworkbooks">includeWorkbooks</code></td>
<td>
<p>(optional) If true, protocols from workbooks under
the selected container will also be included. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The response will contain a list of protocol objects, each of which will have the
following properties:
</p>

<ul>
<li><p> &quot;name&quot;: Name of the saved protocol. 
</p>
</li>
<li><p> &quot;description&quot;: Description of the saved protocol, if provided. 
</p>
</li>
<li><p> &quot;xmlParameters&quot;: Bioml representation of the parameters defined by this protocol. 
</p>
</li>
<li><p> &quot;jsonParameters&quot;: A list representation of the parameters defined by this protocol. 
</p>
</li>
<li><p> &quot;containerPath&quot;: The container path where this protocol was saved. 
</p>
</li></ul>

<p>The response will also include a defaultProtocolName property representing which of the protocol
names is the default.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.pipeline.getPipelineContainer">labkey.pipeline.getPipelineContainer</a></code>,
<code><a href="#topic+labkey.pipeline.getFileStatus">labkey.pipeline.getFileStatus</a></code>,
<code><a href="#topic+labkey.pipeline.startAnalysis">labkey.pipeline.startAnalysis</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

labkey.pipeline.getProtocols(
    baseUrl="http://labkey/",
    folderPath="home",
    taskId = "pipelinetest:pipeline:r-copy",
    path = "r-copy",
    includeWorkbooks = FALSE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.pipeline.startAnalysis'>Start an analysis of a set of files using a pipeline</h2><span id='topic+labkey.pipeline.startAnalysis'></span>

<h3>Description</h3>

<p>Starts analysis of a set of files using a particular
protocol definition with a particular pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.pipeline.startAnalysis(baseUrl=NULL, folderPath,
    taskId, protocolName, path, files, fileIds = list(),
    pipelineDescription = NULL, protocolDescription = NULL,
    jsonParameters = NULL, xmlParameters = NULL,
    allowNonExistentFiles = FALSE, saveProtocol = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the LabKey server</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_taskid">taskId</code></td>
<td>
<p>a string identifier for the pipeline</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_protocolname">protocolName</code></td>
<td>
<p>a string name of the analysis protocol</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_path">path</code></td>
<td>
<p>a string for the relative path from the folder's pipeline root</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_files">files</code></td>
<td>
<p>a list of names of the files within the subdirectory described
by the path property</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_fileids">fileIds</code></td>
<td>
<p>(optional) list of data IDs of files to be used as inputs for this pipeline.
These correspond to the rowIds from the table ext.data. They do not need to be
located within the file path provided. The user does need read access to the
container associated with each file.</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_pipelinedescription">pipelineDescription</code></td>
<td>
<p>(optional) a string description displayed in the pipeline</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_protocoldescription">protocolDescription</code></td>
<td>
<p>(optional) a string description of the analysis protocol</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_jsonparameters">jsonParameters</code></td>
<td>
<p>(optional) a list of key / value pairs, or a JSON string representation,
for the protocol description. Not allowed if a protocol with the same name has
already been saved. If no protocol with the same name exists, either this property
or xmlParameters must be specified.</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_xmlparameters">xmlParameters</code></td>
<td>
<p>(optional) a string XML representation of the protocol description. Not
allowed if a protocol with the same name has already been saved. If no protocol
with the same name exists, either this property or jsonParameters must be specified.</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_allownonexistentfiles">allowNonExistentFiles</code></td>
<td>
<p>(optional) a boolean indicating if the pipeline should
allow non existent files. Defaults to false.</p>
</td></tr>
<tr><td><code id="labkey.pipeline.startAnalysis_+3A_saveprotocol">saveProtocol</code></td>
<td>
<p>(optional) a boolean indicating if no protocol with this name
already exists, whether or not to save this protocol definition for future use.
Defaults to true.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>On success, the response will contain the jobGUID string value for the newly created pipeline job.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.pipeline.getPipelineContainer">labkey.pipeline.getPipelineContainer</a></code>,
<code><a href="#topic+labkey.pipeline.getProtocols">labkey.pipeline.getProtocols</a></code>,
<code><a href="#topic+labkey.pipeline.getFileStatus">labkey.pipeline.getFileStatus</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

labkey.pipeline.startAnalysis(
    baseUrl="http://labkey/",
    folderPath="home",
    taskId = "pipelinetest:pipeline:r-copy",
    protocolName = "Test protocol name",
    path="r-copy",
    files = list("sample.txt", "result.txt"),
    protocolDescription = "Test protocol description",
    pipelineDescription = "test pipeline description",
    jsonParameters = list(assay = "Test assay name", comment = "Test assay comment"),
    saveProtocol = TRUE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.provenance.addRecordingStep'>Add a step to a provenance recording</h2><span id='topic+labkey.provenance.addRecordingStep'></span>

<h3>Description</h3>

<p>Function to add a step to a previously created provenance recording session.
Note: this function is in beta and not yet final, changes should be expected so exercise caution when using it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.provenance.addRecordingStep(baseUrl=NULL, folderPath, provenanceParams = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.provenance.addRecordingStep_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.provenance.addRecordingStep_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.provenance.addRecordingStep_+3A_provenanceparams">provenanceParams</code></td>
<td>
<p>the provenance parameter object which contains the options to include in this recording step</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to add a step to a previously created provenance recording. The recording ID that was obtained from
a previous startRecording function call must be passed into the provenanceParams config.
This is a premium feature and requires the Provenance LabKey module to function correctly.
</p>


<h3>Value</h3>

<p>The generated recording ID which can be used in subsequent steps (or queries that support provenance).
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.provenance.createProvenanceParams">labkey.provenance.createProvenanceParams</a></code>,
<code><a href="#topic+labkey.provenance.startRecording">labkey.provenance.startRecording</a></code>,
<code><a href="#topic+labkey.provenance.stopRecording">labkey.provenance.stopRecording</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## start a provenance recording and add a recording step
library(Rlabkey)

mi &lt;- data.frame(lsid=c("urn:lsid:labkey.com:Sample.251.MySamples:sample1",
        "urn:lsid:labkey.com:Sample.251.MySamples:sample2"))

p &lt;- labkey.provenance.createProvenanceParams(name="step1", description="initial step",
        materialInputs=mi)
r &lt;- labkey.provenance.startRecording(baseUrl="https://labkey.org/labkey/",
        folderPath = "Provenance", provenanceParams=p)
do &lt;- data.frame(
        lsid="urn:lsid:labkey.com:AssayRunTSVData.Folder-251:12c70994-7ce5-1038-82f0-9c1487dbd334")

labkey.provenance.addRecordingStep(baseUrl="https://labkey.org/labkey/", folderPath = "Provenance",
    provenanceParams=labkey.provenance.createProvenanceParams(name="additional step",
        recordingId=r$recordingId, dataOutputs=do))

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.provenance.createProvenanceParams'>Create provenance parameter object</h2><span id='topic+labkey.provenance.createProvenanceParams'></span>

<h3>Description</h3>

<p>Helper function to create the data structure that can be used in provenance related APIs.
Note: this function is in beta and not yet final, changes should be expected so exercise caution when using it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.provenance.createProvenanceParams(recordingId=NULL, name=NULL, description=NULL,
        runName=NULL, materialInputs=NULL, materialOutputs=NULL, dataInputs=NULL,
        dataOutputs=NULL, inputObjectUriProperty=NULL, outputObjectUriProperty=NULL,
        objectInputs=NULL, objectOutputs=NULL, provenanceMap=NULL,
        params=NULL, properties=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_recordingid">recordingId</code></td>
<td>
<p>(optional) the recording ID to associate with other steps using the same ID</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_name">name</code></td>
<td>
<p>(optional) the name of this provenance step</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_description">description</code></td>
<td>
<p>(optional) the description of this provenance step</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_runname">runName</code></td>
<td>
<p>(optional) the name of the provenance run, if none specified a default run name will be created</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_materialinputs">materialInputs</code></td>
<td>
<p>(optional) the list of materials (samples) to be used as the provenance run input. The data structure should be a dataframe with the column name describing the data type (lsid, id)</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_materialoutputs">materialOutputs</code></td>
<td>
<p>(optional) the list of materials (samples) to be used as the provenance run output. The data structure should be a dataframe with the column name describing the data type (lsid, id)</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_datainputs">dataInputs</code></td>
<td>
<p>(optional) the list of data inputs to be used for the run provenance map</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_dataoutputs">dataOutputs</code></td>
<td>
<p>(optional) the list of data outputs to be used for the run provenance map</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_inputobjecturiproperty">inputObjectUriProperty</code></td>
<td>
<p>(optional) for incoming data rows, the column name to interpret as the input to the provenance map. Defaults to : 'prov:objectInputs'</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_outputobjecturiproperty">outputObjectUriProperty</code></td>
<td>
<p>(optional) for provenance mapping, the column name to interpret as the output to the provenance map. Defaults to : 'lsid'</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_objectinputs">objectInputs</code></td>
<td>
<p>(optional) the list of object inputs to be used for the run provenance map</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_objectoutputs">objectOutputs</code></td>
<td>
<p>(optional) the list of object outputs to be used for the run provenance map</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_provenancemap">provenanceMap</code></td>
<td>
<p>(optional) the provenance map to be used directly for the run step. The data structure should be a dataframe with the column names of 'from' and 'to' to indicate which sides of the mapping the identifiers refer to</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_params">params</code></td>
<td>
<p>(optional) the list of initial run step parameters. Parameters supported in the parameter list such as name, description, runName, can be specified in this data structure as well as other run step parameters not available in the parameter list</p>
</td></tr>
<tr><td><code id="labkey.provenance.createProvenanceParams_+3A_properties">properties</code></td>
<td>
<p>(optional) custom property values to associate with the run step. The data structure should be a dataframe with the property URIs as column names and the column value to associate with the property. The Vocabulary domain and fields must have been created prior to using</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used to generate a provenance parameter object which can then be used as an argument
in the other provenance related functions to assemble provenance runs.
This is a premium feature and requires the Provenance LabKey module to function correctly.
</p>


<h3>Value</h3>

<p>A list containing elements describing the passed in provenance parameters.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.provenance.startRecording">labkey.provenance.startRecording</a></code>,
<code><a href="#topic+labkey.provenance.addRecordingStep">labkey.provenance.addRecordingStep</a></code>,
<code><a href="#topic+labkey.provenance.stopRecording">labkey.provenance.stopRecording</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## create provenance params with material inputs and data outputs
library(Rlabkey)

mi &lt;- data.frame(lsid=c("urn:lsid:labkey.com:Sample.251.MySamples:sample1",
        "urn:lsid:labkey.com:Sample.251.MySamples:sample2"))
do &lt;- data.frame(
        lsid="urn:lsid:labkey.com:AssayRunTSVData.Folder-251:12c70994-7ce5-1038-82f0-9c1487dbd334")

p &lt;- labkey.provenance.createProvenanceParams(name="step1", description="initial step",
        materialInputs=mi, dataOutputs=do)

## create provenance params with object inputs (from an assay run)
oi &lt;- labkey.selectRows(baseUrl="https://labkey.org/labkey/", folderPath = "Provenance",
        schemaName="assay.General.titer",
        queryName="Data",
        colSelect= c("LSID"),
        colFilter=makeFilter(c("Run/RowId","EQUAL","253")))
mi &lt;- data.frame(lsid=c("urn:lsid:labkey.com:Sample.251.MySamples:sample1",
        "urn:lsid:labkey.com:Sample.251.MySamples:sample2"))

p &lt;- labkey.provenance.createProvenanceParams(name="step1", description="initial step",
        objectInputs=oi[["LSID"]], materialInputs=mi)

## add run step properties and custom properties to the provenance params
props &lt;- data.frame(
    "urn:lsid:labkey.com:Vocabulary.Folder-996:ProvenanceDomain#version"=c(22.3),
    "urn:lsid:labkey.com:Vocabulary.Folder-996:ProvenanceDomain#instrumentName"=c("NAb reader"),
    check.names=FALSE)
params &lt;- list()
params$comments &lt;- "adding additional step properties"
params$activityDate &lt;- "2022-3-21"
params$startTime &lt;- "2022-3-21 12:35:00"
params$endTime &lt;- "2022-3-22 02:15:30"
params$recordCount &lt;- 2
p &lt;- labkey.provenance.createProvenanceParams(recordingId=ra$recordingId, name="step2",
    properties=props, params=params)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.provenance.startRecording'>Start a provenance recording</h2><span id='topic+labkey.provenance.startRecording'></span>

<h3>Description</h3>

<p>Function to start a provenance recording session, if successful a provenance recording ID is returned which
can be used to add additional steps to the provenance run.
Note: this function is in beta and not yet final, changes should be expected so exercise caution when using it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.provenance.startRecording(baseUrl=NULL, folderPath, provenanceParams = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.provenance.startRecording_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.provenance.startRecording_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.provenance.startRecording_+3A_provenanceparams">provenanceParams</code></td>
<td>
<p>the provenance parameter object which contains the options to include in this recording step</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to start a provenance recording. A provenance recording can contain an arbitrary number of steps to create a
provenance run, but stopRecording must be called to finish the recording and create the run. If successful
this will return a recording ID which is needed for subsequent steps.
This is a premium feature and requires the Provenance LabKey module to function correctly.
</p>


<h3>Value</h3>

<p>The generated recording ID which can be used in subsequent steps (or queries that support provenance).
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.provenance.createProvenanceParams">labkey.provenance.createProvenanceParams</a></code>,
<code><a href="#topic+labkey.provenance.addRecordingStep">labkey.provenance.addRecordingStep</a></code>,
<code><a href="#topic+labkey.provenance.stopRecording">labkey.provenance.stopRecording</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## create provenance params with material inputs and data outputs and start a recording
library(Rlabkey)

mi &lt;- data.frame(lsid=c("urn:lsid:labkey.com:Sample.251.MySamples:sample1",
        "urn:lsid:labkey.com:Sample.251.MySamples:sample2"))
do &lt;- data.frame(
        lsid="urn:lsid:labkey.com:AssayRunTSVData.Folder-251:12c70994-7ce5-1038-82f0-9c1487dbd334")

p &lt;- labkey.provenance.createProvenanceParams(name="step1", description="initial step",
        materialInputs=mi, dataOutputs=do)
labkey.provenance.startRecording(baseUrl="https://labkey.org/labkey/",
        folderPath = "Provenance", provenanceParams=p)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.provenance.stopRecording'>Stop a provenance recording</h2><span id='topic+labkey.provenance.stopRecording'></span>

<h3>Description</h3>

<p>Function to end a provenance recording and create and save the provenance run on the server.
Note: this function is in beta and not yet final, changes should be expected so exercise caution when using it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.provenance.stopRecording(baseUrl=NULL, folderPath, provenanceParams = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.provenance.stopRecording_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.provenance.stopRecording_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.provenance.stopRecording_+3A_provenanceparams">provenanceParams</code></td>
<td>
<p>the provenance parameter object which contains the options to include in this recording step, including the recording ID</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to stop the provenance recording associated with the recording ID, this will create a provenance run
using all the steps (with inputs and outputs) associated with the recording ID. The recording ID that was obtained from
a previous startRecording function call must be passed into the provenanceParams config.
This is a premium feature and requires the Provenance LabKey module to function correctly.
</p>


<h3>Value</h3>

<p>The serialized provenance run that was created.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.provenance.createProvenanceParams">labkey.provenance.createProvenanceParams</a></code>,
<code><a href="#topic+labkey.provenance.startRecording">labkey.provenance.startRecording</a></code>,
<code><a href="#topic+labkey.provenance.addRecordingStep">labkey.provenance.addRecordingStep</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

## object inputs (from an assay run) and material inputs
##
oi &lt;- labkey.selectRows(baseUrl="https://labkey.org/labkey/", folderPath = "Provenance",
        schemaName="assay.General.titer",
        queryName="Data",
        colSelect= c("LSID"),
        colFilter=makeFilter(c("Run/RowId","EQUAL","253")))
mi &lt;- data.frame(lsid=c("urn:lsid:labkey.com:Sample.251.MySamples:sample1",
        "urn:lsid:labkey.com:Sample.251.MySamples:sample2"))

p &lt;- labkey.provenance.createProvenanceParams(name="step1", description="initial step",
        objectInputs=oi[["LSID"]], materialInputs=mi)
r &lt;- labkey.provenance.startRecording(baseUrl="https://labkey.org/labkey/",
        folderPath = "Provenance", provenanceParams=p)
run &lt;- labkey.provenance.stopRecording(baseUrl="https://labkey.org/labkey/",
        folderPath = "Provenance",
        provenanceParams=labkey.provenance.createProvenanceParams(name="final step",
            recordingId=r$recordingId))

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.query.import'>Bulk import an R data frame into a LabKey Server table using file import.</h2><span id='topic+labkey.query.import'></span>

<h3>Description</h3>

<p>Bulk import an R data frame into a LabKey Server table using file import.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.query.import(baseUrl, folderPath,
    schemaName, queryName, toImport, options = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.query.import_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.query.import_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.query.import_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.query.import_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the <code>queryName</code></p>
</td></tr>
<tr><td><code id="labkey.query.import_+3A_toimport">toImport</code></td>
<td>
<p>a data frame containing rows of data to be imported</p>
</td></tr>
<tr><td><code id="labkey.query.import_+3A_options">options</code></td>
<td>
<p>(optional) a list containing options specific to the import
action of the query</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This command mimics the &quot;Import bulk data&quot; option that you see in the LabKey server UI
for a table/query. It takes the passed in <code>toImport</code> data frame and writes it to a
temp file to be posted to the import action for the given LabKey query. It is very similar
to the <code>labkey.importRows</code> command but will be much more performant.
<br /> <br />
Multiple rows of data can be imported in bulk using the <code>toImport</code> data frame.
The names of the data in the data frame must be the column names from the
LabKey Server.
<br /> <br />
LabKey data types support different import options. The list of valid options for each
query will vary, but some common examples include:
</p>

<ul>
<li> <p><code>insertOption (string)</code> : Whether the import action should be done as an insert, creating new
rows for each provided row of the data frame, or a merge. When merging during import, any data you provide
for the rows representing records that already exist will replace the previous values.
Note that when updating an existing record, you only need to provide the columns you wish to update,
existing data for other columns will be left as is. Available options are &quot;INSERT&quot; and &quot;MERGE&quot;.
Defaults to &quot;INSERT&quot;.
</p>
</li>
<li> <p><code>auditBehavior (string)</code> : Set the level of auditing details for this import action.
Available options are &quot;SUMMARY&quot; and &quot;DETAILED&quot;. SUMMARY - Audit log reflects that a change was made,
but does not mention the nature of the change. DETAILED - Provides full details on what change was made,
including values before and after the change. Defaults to the setting as specified by the LabKey query.
</p>
</li>
<li> <p><code>importLookupByAlternateKey (boolean)</code> : Allows lookup target rows to be resolved by values
rather than the target's primary key. This option will only be available for lookups that are
configured with unique column information. Defaults to FALSE.
</p>
</li></ul>



<h3>Value</h3>

<p>A list is returned with the row count for the number of affected rows. If options are provided,
additional details may be included in the response object related to those options.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>, <code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>, <code><a href="#topic+labkey.importRows">labkey.importRows</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Note that users must have the necessary permissions in the database
## to be able to modify data through the use of these functions
# library(Rlabkey)

df &lt;- data.frame(
    name=c("test1","test2","test3"),
    customInt=c(1:3),
    customString=c("aaa", "bbb", "ccc")
)

importedInfo &lt;- labkey.query.import(
    "http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="samples", queryName="SampleType1",
    toImport=df, options=list(insertOption = "MERGE", auditBehavior = "DETAILED")
)

importedInfo$rowCount


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.rstudio.initReport'>Initialize a RStudio session for LabKey R report source editing</h2><span id='topic+labkey.rstudio.initReport'></span>

<h3>Description</h3>

<p>LabKey-RStudio integration helper. Not intended for use outside RStudio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.rstudio.initReport(apiKey = "", baseUrl = "", folderPath,
  reportEntityId, skipViewer = FALSE, skipEdit = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.rstudio.initReport_+3A_apikey">apiKey</code></td>
<td>
<p>session key from your server</p>
</td></tr>
<tr><td><code id="labkey.rstudio.initReport_+3A_baseurl">baseUrl</code></td>
<td>
<p>server location including context path, if any. e.g. https://www.labkey.org/</p>
</td></tr>
<tr><td><code id="labkey.rstudio.initReport_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code></p>
</td></tr>
<tr><td><code id="labkey.rstudio.initReport_+3A_reportentityid">reportEntityId</code></td>
<td>
<p>LabKey report's entityId</p>
</td></tr>
<tr><td><code id="labkey.rstudio.initReport_+3A_skipviewer">skipViewer</code></td>
<td>
<p>(TRUE | FALSE) TRUE to skip setting up LabKey schema viewer in RStudio</p>
</td></tr>
<tr><td><code id="labkey.rstudio.initReport_+3A_skipedit">skipEdit</code></td>
<td>
<p>(TRUE | FALSE) TRUE to open file in editor</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## RStudio console only
library(Rlabkey)
labkey.rstudio.initReport(apiKey="abcdef0123456789abcdef0123456789",
    baseUrl="http://labkey/", folderPath="home",
    reportEntityId="0123456a-789b-1000-abcd-01234567abcde")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.rstudio.initRStudio'>Initialize a RStudio session for LabKey integration</h2><span id='topic+labkey.rstudio.initRStudio'></span>

<h3>Description</h3>

<p>LabKey-RStudio integration helper. Not intended for use outside RStudio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.rstudio.initRStudio(apiKey = "", baseUrl = "", folderPath, skipViewer = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.rstudio.initRStudio_+3A_apikey">apiKey</code></td>
<td>
<p>session key from your server</p>
</td></tr>
<tr><td><code id="labkey.rstudio.initRStudio_+3A_baseurl">baseUrl</code></td>
<td>
<p>server location including context path, if any. e.g. https://www.labkey.org/</p>
</td></tr>
<tr><td><code id="labkey.rstudio.initRStudio_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code></p>
</td></tr>
<tr><td><code id="labkey.rstudio.initRStudio_+3A_skipviewer">skipViewer</code></td>
<td>
<p>(TRUE | FALSE) TRUE to skip setting up LabKey schema viewer in RStudio</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## RStudio console only
library(Rlabkey)
labkey.rstudio.initRStudio(apiKey="abcdef0123456789abcdef0123456789",
    baseUrl="http://labkey/", folderPath="home")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.rstudio.initSession'>Initialize a RStudio session for LabKey integration using a time one request id</h2><span id='topic+labkey.rstudio.initSession'></span>

<h3>Description</h3>

<p>LabKey-RStudio integration helper. Not intended for use outside RStudio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.rstudio.initSession(requestId, baseUrl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.rstudio.initSession_+3A_requestid">requestId</code></td>
<td>
<p>A one time request id generated by LabKey server for initializing RStudio</p>
</td></tr>
<tr><td><code id="labkey.rstudio.initSession_+3A_baseurl">baseUrl</code></td>
<td>
<p>server location including context path, if any. e.g. https://www.labkey.org/</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## RStudio console only
library(Rlabkey)
labkey.rstudio.initSession(requestId="a60228c8-9448-1036-a7c5-ab541dc15ee9",
    baseUrl="http://labkey/")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.rstudio.isInitialized'>Check valid rlabkey session</h2><span id='topic+labkey.rstudio.isInitialized'></span>

<h3>Description</h3>

<p>LabKey-RStudio integration helper. Not intended for use outside RStudio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.rstudio.isInitialized()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## RStudio console only
library(Rlabkey)
labkey.rstudio.isInitialized()


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.rstudio.saveReport'>Update RStudio report source back to LabKey</h2><span id='topic+labkey.rstudio.saveReport'></span>

<h3>Description</h3>

<p>LabKey-RStudio integration helper. Not intended for use outside RStudio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.rstudio.saveReport(folderPath, reportEntityId, reportFilename,
  useWarning = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.rstudio.saveReport_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code></p>
</td></tr>
<tr><td><code id="labkey.rstudio.saveReport_+3A_reportentityid">reportEntityId</code></td>
<td>
<p>LabKey report's entityId</p>
</td></tr>
<tr><td><code id="labkey.rstudio.saveReport_+3A_reportfilename">reportFilename</code></td>
<td>
<p>The filename to save</p>
</td></tr>
<tr><td><code id="labkey.rstudio.saveReport_+3A_usewarning">useWarning</code></td>
<td>
<p>(TRUE | FALSE) TRUE to prompt user choices to save</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## RStudio console only
library(Rlabkey)
labkey.rstudio.saveReport(folderPath="home",
    reportEntityId="0123456a-789b-1000-abcd-01234567abcde",
    reportFilename="knitrReport.Rhtml", useWarning=TRUE)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.saveBatch'>Save an assay batch object to a labkey database</h2><span id='topic+labkey.saveBatch'></span>

<h3>Description</h3>

<p>Save an assay batch object to a labkey database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.saveBatch(baseUrl, folderPath, assayName, resultDataFrame,
    batchPropertyList=NULL, runPropertyList=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.saveBatch_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.saveBatch_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.saveBatch_+3A_assayname">assayName</code></td>
<td>
<p>a string specifying the  name of the assay instance</p>
</td></tr>
<tr><td><code id="labkey.saveBatch_+3A_resultdataframe">resultDataFrame</code></td>
<td>
<p>a data frame containing rows of data to be inserted</p>
</td></tr>
<tr><td><code id="labkey.saveBatch_+3A_batchpropertylist">batchPropertyList</code></td>
<td>
<p>a list of batch Properties </p>
</td></tr>
<tr><td><code id="labkey.saveBatch_+3A_runpropertylist">runPropertyList</code></td>
<td>
<p>a list of run Properties </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function has been deprecated and will be removed in a future release, please use labkey.experiment.saveBatch instead as
it supports the newer options for saving batch objects.
</p>
<p>To save an R data.frame an assay results sets, you must create a named assay using the &quot;General&quot; assay provider.
Note that saveBatch currently supports only a single run with one result set per batch.
</p>


<h3>Value</h3>

<p>Returns the object representation of the Assay batch.
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>References</h3>

<p>https://www.labkey.org/Documentation/wiki-page.view?name=createDatasetViaAssay</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>, <code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>, <code><a href="#topic+makeFilter">makeFilter</a></code>, 
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>, <br />
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.experiment.saveBatch">labkey.experiment.saveBatch</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Very simple example of an analysis flow:  query some data, calculate
## some stats, then save the calculations as an assay result set in
## LabKey Server
##  Note this example expects to find an assay named "SimpleMeans" in
##  the apisamples project
# library(Rlabkey)

simpledf &lt;- labkey.selectRows(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists", 
	queryName="AllTypes")

## some dummy calculations to produce and example analysis result
testtable &lt;- simpledf[,3:4]
colnames(testtable) &lt;- c("IntFld", "DoubleFld")
row &lt;- c(list("Measure"="colMeans"), colMeans(testtable, na.rm=TRUE))
results &lt;- data.frame(row, row.names=NULL, stringsAsFactors=FALSE)
row &lt;- c(list("Measure"="colSums"), colSums(testtable, na.rm=TRUE))
results &lt;- rbind(results, as.vector(row))

bprops &lt;- list(LabNotes="this is a simple demo")
bpl &lt;- list(name=paste("Batch ", as.character(date())),properties=bprops) 
rpl &lt;- list(name=paste("Assay Run ", as.character(date())))

assayInfo&lt;- labkey.saveBatch(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	"SimpleMeans", 
	results, 
	batchPropertyList=bpl,
	runPropertyList=rpl
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.security.createContainer'>Creates a new container, which may be a project, folder, or workbook, on the server</h2><span id='topic+labkey.security.createContainer'></span>

<h3>Description</h3>

<p>Create a new container, which may be a project, folder, or workbook, on the LabKey server with parameters to control
the containers name, title, description, and folder type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.security.createContainer(baseUrl=NULL, parentPath, name = NULL, title = NULL,
    description = NULL, folderType = NULL, isWorkbook = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.security.createContainer_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the labkey server.</p>
</td></tr>
<tr><td><code id="labkey.security.createContainer_+3A_parentpath">parentPath</code></td>
<td>
<p>A string specifying the <code>parentPath</code> for the new container.</p>
</td></tr>
<tr><td><code id="labkey.security.createContainer_+3A_name">name</code></td>
<td>
<p>The name of the container, required for projects or folders.</p>
</td></tr>
<tr><td><code id="labkey.security.createContainer_+3A_title">title</code></td>
<td>
<p>The title of the container, used primarily for workbooks.</p>
</td></tr>
<tr><td><code id="labkey.security.createContainer_+3A_description">description</code></td>
<td>
<p>The description of the container, used primarily for workbooks.</p>
</td></tr>
<tr><td><code id="labkey.security.createContainer_+3A_foldertype">folderType</code></td>
<td>
<p>The name of the folder type to be applied (ex. Study or Collaboration).</p>
</td></tr>
<tr><td><code id="labkey.security.createContainer_+3A_isworkbook">isWorkbook</code></td>
<td>
<p>Whether this a workbook should be created. Defaults to false.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows for users with proper permissions to create a new container, which may be a project, folder, or
workbook, on the LabKey server with parameters to control the containers name, title, description, and folder type.
If the container already exists or the user does not have permissions, an error message will be returned.
</p>


<h3>Value</h3>

<p>Returns information about the newly created container.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.getFolders">labkey.getFolders</a></code>,
<code><a href="#topic+labkey.security.getContainers">labkey.security.getContainers</a></code>,
<code><a href="#topic+labkey.security.deleteContainer">labkey.security.deleteContainer</a></code>,
<code><a href="#topic+labkey.security.moveContainer">labkey.security.moveContainer</a></code>
<code><a href="#topic+labkey.security.renameContainer">labkey.security.renameContainer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.security.createContainer(baseUrl="http://labkey/", parentPath = "/home",
    name = "NewFolder", description = "My new folder has this description",
    folderType = "Collaboration"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.security.deleteContainer'>Deletes an existing container, which may be a project, folder, or workbook</h2><span id='topic+labkey.security.deleteContainer'></span>

<h3>Description</h3>

<p>Deletes an existing container, which may be a project, folder, or workbook, and all of its children from the Labeky server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.security.deleteContainer(baseUrl=NULL, folderPath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.security.deleteContainer_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the labkey server.</p>
</td></tr>
<tr><td><code id="labkey.security.deleteContainer_+3A_folderpath">folderPath</code></td>
<td>
<p>A string specifying the <code>folderPath</code> to be deleted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows for users with proper permissions to delete an existing container, which may be a project, folder,
or workbook, from the LabKey server. This will also remove all subfolders of the container being deleted.
If the container does not exist or the user does not have permissions, an error message will be returned.
</p>


<h3>Value</h3>

<p>Returns a success message for the container deletion action.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.getFolders">labkey.getFolders</a></code>,
<code><a href="#topic+labkey.security.getContainers">labkey.security.getContainers</a></code>,
<code><a href="#topic+labkey.security.createContainer">labkey.security.createContainer</a></code>,
<code><a href="#topic+labkey.security.moveContainer">labkey.security.moveContainer</a></code>
<code><a href="#topic+labkey.security.renameContainer">labkey.security.renameContainer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.security.deleteContainer(baseUrl="http://labkey/", folderPath = "/home/FolderToDelete")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.security.getContainers'>Returns information about the specified container</h2><span id='topic+labkey.security.getContainers'></span>

<h3>Description</h3>

<p>Returns information about the specified container, including the user's current permissions within that container.
If the includeSubfolders config option is set to true, it will also return information about all descendants
the user is allowed to see.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.security.getContainers(baseUrl=NULL, folderPath,
    includeEffectivePermissions=TRUE, includeSubfolders=FALSE, depth=50,
    includeChildWorkbooks=TRUE, includeStandardProperties = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.security.getContainers_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the labkey server.</p>
</td></tr>
<tr><td><code id="labkey.security.getContainers_+3A_folderpath">folderPath</code></td>
<td>
<p>A string specifying the <code>folderPath</code>.</p>
</td></tr>
<tr><td><code id="labkey.security.getContainers_+3A_includeeffectivepermissions">includeEffectivePermissions</code></td>
<td>
<p>If set to false, the effective permissions for this container resource will not be included (defaults to true).</p>
</td></tr>
<tr><td><code id="labkey.security.getContainers_+3A_includesubfolders">includeSubfolders</code></td>
<td>
<p>If set to true, the entire branch of containers will be returned. If false, only the immediate children of the starting container will be returned (defaults to false).</p>
</td></tr>
<tr><td><code id="labkey.security.getContainers_+3A_depth">depth</code></td>
<td>
<p>May be used to control the depth of recursion if includeSubfolders is set to true.</p>
</td></tr>
<tr><td><code id="labkey.security.getContainers_+3A_includechildworkbooks">includeChildWorkbooks</code></td>
<td>
<p>If true, include child containers of type workbook in the response (defaults to TRUE).</p>
</td></tr>
<tr><td><code id="labkey.security.getContainers_+3A_includestandardproperties">includeStandardProperties</code></td>
<td>
<p>If true, include the standard container properties like title, formats, etc. in the response (defaults to TRUE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns information about the specified container, including the user's current permissions within that container.
If the includeSubfolders config option is set to true, it will also return information about all descendants
the user is allowed to see. The depth of the results for the included subfolders can be controlled with the depth parameter.
</p>


<h3>Value</h3>

<p>The data frame containing the container properties for the current folder and subfolders, including name, title, id,
path, type, folderType, and effectivePermissions.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.getFolders">labkey.getFolders</a></code>,
<code><a href="#topic+labkey.security.createContainer">labkey.security.createContainer</a></code>,
<code><a href="#topic+labkey.security.deleteContainer">labkey.security.deleteContainer</a></code>,
<code><a href="#topic+labkey.security.moveContainer">labkey.security.moveContainer</a></code>
<code><a href="#topic+labkey.security.renameContainer">labkey.security.renameContainer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.security.getContainers(
    baseUrl="http://labkey/", folderPath = "home",
    includeEffectivePermissions = FALSE, includeSubfolders = TRUE, depth = 2,
    includeChildWorkbooks = FALSE, includeStandardProperties = FALSE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.security.impersonateUser'>Start impersonating a user</h2><span id='topic+labkey.security.impersonateUser'></span>

<h3>Description</h3>

<p>For site-admins or project-admins only, start impersonating a user based on the
userId or email address.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.security.impersonateUser(baseUrl=NULL, folderPath,
    userId=NULL, email=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.security.impersonateUser_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the LabKey server.</p>
</td></tr>
<tr><td><code id="labkey.security.impersonateUser_+3A_folderpath">folderPath</code></td>
<td>
<p>A string specifying the <code>folderPath</code> in which to impersonate the user.</p>
</td></tr>
<tr><td><code id="labkey.security.impersonateUser_+3A_userid">userId</code></td>
<td>
<p>The id of the user to be impersonated. Either this or email is required.</p>
</td></tr>
<tr><td><code id="labkey.security.impersonateUser_+3A_email">email</code></td>
<td>
<p>The email of the user to be impersonated. Either this or userID is required.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Admins may impersonate other users to perform actions on their behalf.
Site admins may impersonate any user in any project. Project admins must
execute this command in a project in which they have admin permission
and may impersonate only users that have access to the project.
</p>
<p>To finish an impersonation session use
<code><a href="#topic+labkey.security.stopImpersonating">labkey.security.stopImpersonating</a></code>.
</p>


<h3>Value</h3>

<p>Returns a success message based on a call to <code><a href="#topic+labkey.whoAmI">labkey.whoAmI</a></code>.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.whoAmI">labkey.whoAmI</a></code>,
<code><a href="#topic+labkey.security.stopImpersonating">labkey.security.stopImpersonating</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.security.impersonateUser(baseUrl="http://labkey/", folderPath = "/home",
    email = "reader@localhost.test"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.security.moveContainer'>Moves an existing container, which may be a folder or workbook</h2><span id='topic+labkey.security.moveContainer'></span>

<h3>Description</h3>

<p>Moves an existing container, which may be a folder or workbook, to be the subfolder of another folder and/or project
on the LabKey server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.security.moveContainer(baseUrl=NULL, folderPath,
    destinationParent, addAlias = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.security.moveContainer_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the labkey server.</p>
</td></tr>
<tr><td><code id="labkey.security.moveContainer_+3A_folderpath">folderPath</code></td>
<td>
<p>A string specifying the <code>folderPath</code> to be moved. Additionally, the container entity id is also valid.</p>
</td></tr>
<tr><td><code id="labkey.security.moveContainer_+3A_destinationparent">destinationParent</code></td>
<td>
<p>The container path of destination parent. Additionally, the destination parent entity id is also valid.</p>
</td></tr>
<tr><td><code id="labkey.security.moveContainer_+3A_addalias">addAlias</code></td>
<td>
<p>Add alias of current container path to container that is being moved (defaults to true).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function moves an existing container, which may be a folder or workbook, to be the subfolder of another
folder and/or project on the LabKey server. Projects and the root container can not be moved.
If the target or destination container does not exist or the user does not have permissions, an error message will
be returned.
</p>


<h3>Value</h3>

<p>Returns a success message for the container move action with the new path.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.getFolders">labkey.getFolders</a></code>,
<code><a href="#topic+labkey.security.getContainers">labkey.security.getContainers</a></code>,
<code><a href="#topic+labkey.security.createContainer">labkey.security.createContainer</a></code>,
<code><a href="#topic+labkey.security.deleteContainer">labkey.security.deleteContainer</a></code>
<code><a href="#topic+labkey.security.renameContainer">labkey.security.renameContainer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.security.moveContainer(baseUrl="http://labkey/", folderPath = "/home/FolderToMove",
    destinationParent = "/OtherProject", addAlias = TRUE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.security.renameContainer'>Rename an existing container at the given container path</h2><span id='topic+labkey.security.renameContainer'></span>

<h3>Description</h3>

<p>Renames an existing container at the given container path.
This action allows for updating the container name, title, or both.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.security.renameContainer(baseUrl=NULL, folderPath,
    name=NULL, title=NULL, addAlias=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.security.renameContainer_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the labkey server.</p>
</td></tr>
<tr><td><code id="labkey.security.renameContainer_+3A_folderpath">folderPath</code></td>
<td>
<p>A string specifying the <code>folderPath</code> to be renamed. Additionally, the container entity id is also valid.</p>
</td></tr>
<tr><td><code id="labkey.security.renameContainer_+3A_name">name</code></td>
<td>
<p>The new container name. If not specified, the container name will not be changed.</p>
</td></tr>
<tr><td><code id="labkey.security.renameContainer_+3A_title">title</code></td>
<td>
<p>The new container title. If not specified, the container name will be used.</p>
</td></tr>
<tr><td><code id="labkey.security.renameContainer_+3A_addalias">addAlias</code></td>
<td>
<p>Add alias of current container path for the current container name (defaults to true).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function renames an existing container at the given container path on the LabKey server.
A new container name and/or title must be specified. If a new name is provided but not a title, the name will also
be set as the container title.
</p>


<h3>Value</h3>

<p>Returns a success message for the container rename action.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.getFolders">labkey.getFolders</a></code>,
<code><a href="#topic+labkey.security.getContainers">labkey.security.getContainers</a></code>,
<code><a href="#topic+labkey.security.createContainer">labkey.security.createContainer</a></code>,
<code><a href="#topic+labkey.security.deleteContainer">labkey.security.deleteContainer</a></code>
<code><a href="#topic+labkey.security.moveContainer">labkey.security.moveContainer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.security.renameContainer(baseUrl="http://labkey/", folderPath = "/home/OriginalFolder",
    name = "NewFolderName", title = "New Folder Title", addAlias = TRUE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.security.stopImpersonating'>Stop impersonating a user</h2><span id='topic+labkey.security.stopImpersonating'></span>

<h3>Description</h3>

<p>Stop impersonating a user while keeping the original user logged in.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.security.stopImpersonating(baseUrl=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.security.stopImpersonating_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the LabKey server.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you are currently impersonating a user in this session, you can use this
function to stop the impersonation and return back to the original user logged in.
</p>
<p>To start an impersonation session use
<code><a href="#topic+labkey.security.impersonateUser">labkey.security.impersonateUser</a></code>.
</p>


<h3>Value</h3>

<p>Returns a success message based on a call to <code><a href="#topic+labkey.whoAmI">labkey.whoAmI</a></code>.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.whoAmI">labkey.whoAmI</a></code>,
<code><a href="#topic+labkey.security.impersonateUser">labkey.security.impersonateUser</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.security.stopImpersonating(baseUrl="http://labkey/")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.selectRows'>Retrieve data from a labkey database</h2><span id='topic+labkey.selectRows'></span>

<h3>Description</h3>

<p>Import full datasets or selected rows into R. The data can be sorted and filtered prior to import.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.selectRows(baseUrl = NULL, folderPath, schemaName, queryName,
    viewName = NULL, colSelect = NULL, maxRows = NULL,
    rowOffset = NULL, colSort = NULL, colFilter = NULL,
    showHidden = FALSE, colNameOpt="caption",
    containerFilter = NULL, parameters = NULL,
    includeDisplayValues = FALSE, method = "POST")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.selectRows_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the  <code>schemaName</code> for the query</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the <code>queryName</code></p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_viewname">viewName</code></td>
<td>
<p>(optional) a string specifying the <code>viewName</code> associated with the query. If not specified, the default view determines the rowset returned.  </p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_colselect">colSelect</code></td>
<td>
<p>(optional) a vector of strings specifying which columns of a dataset or view to import.
</p>

<ul>
<li><p> The wildcard character (&quot;*&quot;) may also be used here to get all columns including those not in the default view. 
</p>
</li>
<li><p> If you include a column that is a lookup (foreign key) the value of the primary key for that target will be returned. 
</p>
</li>
<li><p> Use a backslash character (&quot;/&quot;) to include non-primary key columns from a lookup target (foreign key), e.g &quot;LookupColumnName/targetColumn&quot;. 
</p>
</li>
<li><p> When using a string to specify the colSelect set, the column names must be separated by a comma and not include spaces between the names. 
</p>
</li></ul>

</td></tr>
<tr><td><code id="labkey.selectRows_+3A_maxrows">maxRows</code></td>
<td>
<p>(optional) an integer specifying how many rows of data to return. If no value is specified, all rows are returned.</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_rowoffset">rowOffset</code></td>
<td>
<p>(optional) an integer specifying which row of data should be the first row in the retrieval. If no
value is specified, the retrieval starts with the first row.</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_colsort">colSort</code></td>
<td>
<p>(optional) a string including the name of the column to sort preceded by a &ldquo;+&rdquo; or
&ldquo;-&rdquo; to indicate sort direction</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_colfilter">colFilter</code></td>
<td>
<p>(optional) a vector or array object created by the <code>makeFilter</code> function which contains the
column name, operator and value of the filter(s) to be applied to the retrieved data.</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_showhidden">showHidden</code></td>
<td>
<p>(optional) a logical value indicating whether or not to return data columns that would normally be hidden from user view. Defaults to FALSE if no value provided.</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_colnameopt">colNameOpt</code></td>
<td>
<p>(optional) controls the name source for the columns of the output dataframe, with valid values of 'caption', 'fieldname', and 'rname'</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_containerfilter">containerFilter</code></td>
<td>
<p>(optional) Specifies the containers to include in the scope of selectRows request. A value of NULL is equivalent to &quot;Current&quot;.   Valid values are 
</p>

<ul>
<li><p> &quot;Current&quot;: Include the current folder only
</p>
</li>
<li><p> &quot;CurrentAndSubfolders&quot;: Include the current folder and all subfolders 
</p>
</li>
<li><p> &quot;CurrentPlusProject&quot;: Include the current folder and the project that contains it 
</p>
</li>
<li><p> &quot;CurrentAndParents&quot;: Include the current folder and its parent folders 
</p>
</li>
<li><p> &quot;CurrentPlusProjectAndShared&quot;: Include the current folder plus its project plus any shared folders 
</p>
</li>
<li><p> &quot;AllFolders&quot;: Include all folders for which the user has read permission 
</p>
</li></ul>

</td></tr>
<tr><td><code id="labkey.selectRows_+3A_parameters">parameters</code></td>
<td>
<p>(optional) List of name/value pairs for the parameters if the SQL references underlying queries that are parameterized. For example, parameters=c(&quot;X=1&quot;, &quot;Y=2&quot;).</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_includedisplayvalues">includeDisplayValues</code></td>
<td>
<p>(optional) a logical value indicating if display values should be included in the response object for lookup fields.</p>
</td></tr>
<tr><td><code id="labkey.selectRows_+3A_method">method</code></td>
<td>
<p>(optional) HTTP method to use for the request, defaults to POST.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A full dataset or any portion of a dataset can be downloaded into an R data frame using the
<code>labkey.selectRows</code> function. Function arguments are the components of the url that identify
the location of the data and what actions should be taken on the data prior to import
(ie, sorting, selecting particular columns or maximum number of rows, etc.).
</p>
<p>Stored queries in LabKey Server have an associated default view and may have one or more named views.  Views determine the column set of
the return data frame.  View columns can be a subset or superset of the columns of the underlying query (a subset if columns from the
query are left out of the view, and a superset if lookup columns in the underlying query are used to include columns from related queries).
Views can also include filter and sort properties that will make their result set different from the underlying query.
If no view is specified, the columns and rows returned are determined by the default view, which may not be the same as the 
result rows of the underlying query.  Please see the topic on Saving Views in the LabKey online documentation.
</p>
<p>In the returned data frame, there are three different ways to have the columns named:  
<code>colNameOpt='caption'</code> uses the caption value, and is the default option for backward compatibility.  
It may be the best option for displaying to another user, but may make scripting more difficult.
<code>colNameOpt='fieldname'</code> uses the field name value, so that the data frame colnames are the same names
that are used as arguments to labkey function calls.  It is the default for the new <code><a href="#topic+getRows">getRows</a></code> session-based
function.
<code>colNameOpt='rname'</code> transforms the field name value into valid R names by substituting an underscore for both
spaces and forward slash (/) characters and lower casing the entire name.  This option is the way a data frame is passed to a
script running in a LabKey server in the R View feature of the data grid.  If you are writing scripts for running in an
R view on the server, or if you prefer to work with legal r names in the returned grid, this option may be useful.
</p>
<p>For backward compatibility, column names returned by <code>labkey.executeSql</code> and <code>labkey.selectRows</code> 
are field captions by default.  The <code>getRows</code> function has the same
colNameOpt parameter but defaults to field names instead of captions.
</p>


<h3>Value</h3>

<p>The requested data are returned in a data frame with stringsAsFactors set to FALSE.  Column names are set as determined by the colNameOpt parameter.
</p>


<h3>Author(s)</h3>

<p>Valerie Obenchain</p>


<h3>References</h3>

<p>https://www.labkey.org/Documentation/wiki-page.view?name=savingViews</p>


<h3>See Also</h3>

<p><code><a href="#topic+makeFilter">makeFilter</a></code>,
<code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>,
<code><a href="#topic+labkey.updateRows">labkey.updateRows</a></code>,
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>,
<code><a href="#topic+labkey.importRows">labkey.importRows</a></code>,
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>,
<code><a href="#topic+labkey.getSchemas">labkey.getSchemas</a></code>,
<code><a href="#topic+labkey.getQueries">labkey.getQueries</a></code>,
<code><a href="#topic+labkey.getQueryViews">labkey.getQueryViews</a></code>,
<code><a href="#topic+labkey.getQueryDetails">labkey.getQueryDetails</a></code>,
<code><a href="#topic+labkey.getDefaultViewDetails">labkey.getDefaultViewDetails</a></code>,
<code><a href="#topic+labkey.getLookupDetails">labkey.getLookupDetails</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## select from a list named AllTypes
# library(Rlabkey)

rows &lt;- labkey.selectRows(
	baseUrl="http://localhost:8080/labkey",
	folderPath="/apisamples",
	schemaName="lists", 
	queryName="AllTypes")
	
## select from a view on that list
viewrows &lt;- labkey.selectRows(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="Lists", queryName="AllTypes",
    viewName="rowbyrow")

## select a subset of columns
colSelect=c("TextFld", "IntFld")
subsetcols &lt;- labkey.selectRows(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colSelect=colSelect)

## including columns from a lookup (foreign key) field
lookupcols &lt;- labkey.selectRows(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colSelect="TextFld,IntFld,IntFld/LookupValue")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.setCurlOptions'>Modify the current set of Curl options that are being used in the existing session</h2><span id='topic+labkey.setCurlOptions'></span>

<h3>Description</h3>

<p>Rlabkey uses the package httr to connect to the LabKey Server.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.setCurlOptions_+3A_options-args">options args</code></td>
<td>
<p>a variable list of arguments to set the RCurl options</p>
</td></tr>
<tr><td><code id="labkey.setCurlOptions_+3A_ssl_verifyhost">ssl_verifyhost</code></td>
<td>
<p>check the existence of a common name and also verify that it matches the hostname provided</p>
</td></tr>
<tr><td><code id="labkey.setCurlOptions_+3A_ssl_verifypeer">ssl_verifypeer</code></td>
<td>
<p>specifies whether curl will verify the peer's certificate</p>
</td></tr>
<tr><td><code id="labkey.setCurlOptions_+3A_followlocation">followlocation</code></td>
<td>
<p>specify is curl should follow any location header that is sent in the HTTP request</p>
</td></tr>
<tr><td><code id="labkey.setCurlOptions_+3A_sslversion">sslversion</code></td>
<td>
<p>the SSL version to use</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This topic explains how to configure Rlabkey to work with a LabKey Server running SSL.<br />
</p>
<p>Rlabkey uses the package httr to connect to the LabKey Server. On Windows, the httr package is not configured for SSL
by default. In order to connect to a HTTPS enabled LabKey Server, you will need to perform the following steps:<br />
</p>
<p>1. Create or download a &quot;ca-bundle&quot; file.<br />
</p>
<p>We recommend using ca-bundle file that is published by Mozilla. See http://curl.haxx.se/docs/caextract.html. You have two options:<br />
</p>
<p>Download the ca-bundle.crt file from the link named &quot;HTTPS from github:&quot; on http://curl.haxx.se/docs/caextract.html<br />
Create your own ca-bundle.crt file using the instructions provided on http://curl.haxx.se/docs/caextract.html<br />
</p>
<p>2. Copy the ca-bundle.crt file to a location on your hard-drive.<br />
If you will be the only person using the Rlabkey package on your computer, we recommend that you<br />
</p>
<p>create a directory named 'labkey' in your home directory<br />
copy the ca-bundle.crt into the 'labkey' directory<br />
</p>
<p>If you are installing this file on a server where multiple users will use may use the Rlabkey package, we recommend that you
create a directory named 'c:labkey'<br />
</p>
<p>copy the ca-bundle.crt into the 'c:labkey' directory<br />
</p>
<p>3. Create a new Environment variable named 'RLABKEY_CAINFO_FILE'<br />
</p>
<p>On Windows 7, Windows Server 2008 and earlier<br />
</p>
<p>Select Computer from the Start menu.<br />
Choose System Properties from the context menu.<br />
Click Advanced system settings &gt; Advanced tab.<br />
Click on Environment Variables.<br />
Under System Variables click on the new button.<br />
For Variable Name: enter RLABKEY_CAINFO_FILE<br />
For Variable Value: enter the path of the ca-bundle.crt you created above.<br />
Hit the Ok buttons to close all the windows.<br />
On Windows 8, Windows 2012 and above<br />
Drag the Mouse pointer to the Right bottom corner of the screen.<br />
Click on the Search icon and type: Control Panel.<br />
Click on -&gt; Control Panel -&gt; System and Security.<br />
Click on System -&gt; Advanced system settings &gt; Advanced tab.<br />
In the System Properties Window, click on Environment Variables.<br />
Under System Variables click on the new button.<br />
For Variable Name: enter RLABKEY_CAINFO_FILE<br />
For Variable Value: enter the path of the ca-bundle.crt you created above.<br />
Hit the Ok buttons to close all the windows.<br />
Now you can start R and begin working.<br />
</p>
<p>This command can also be used to provide an alternate location / path to your
<code>.netrc</code> file. Example:<br />
<code>labkey.setCurlOptions(NETRC_FILE = '/path/to/alternate/_netrc')</code>
</p>

<hr>
<h2 id='labkey.setDebugMode'>Helper function to enable/disable debug mode.</h2><span id='topic+labkey.setDebugMode'></span>

<h3>Description</h3>

<p>When debug mode is enabled, the GET/POST calls with output information about the request being made
and will output a raw string version of the response object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.setDebugMode(debug = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.setDebugMode_+3A_debug">debug</code></td>
<td>
<p>a boolean specifying if debug mode is enabled or disabled</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)
labkey.setDebugMode(TRUE)
labkey.executeSql(
    baseUrl="http://localhost:8080/labkey",
    folderPath="/home",
    schemaName="core",
    sql = "select * from containers")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.setDefaults'>Set the default parameters used for all http or https requests</h2><span id='topic+labkey.setDefaults'></span>

<h3>Description</h3>

<p>Use this function to set the default baseUrl and authentication parameters as package environment variables to be used
for all http or https requests. You can also use labkey.setDefaults() without any parameters to reset/clear
these settings.</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.setDefaults(apiKey="", baseUrl="", email="", password="")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.setDefaults_+3A_apikey">apiKey</code></td>
<td>
<p>api or session key from your server</p>
</td></tr>
<tr><td><code id="labkey.setDefaults_+3A_baseurl">baseUrl</code></td>
<td>
<p>server location including context path, if any. e.g. https://www.labkey.org/</p>
</td></tr>
<tr><td><code id="labkey.setDefaults_+3A_email">email</code></td>
<td>
<p>user email address</p>
</td></tr>
<tr><td><code id="labkey.setDefaults_+3A_password">password</code></td>
<td>
<p>user password</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An API key can be used to authorize Rlabkey functions that access secure content on LabKey Server. Using an API key
avoids copying and storing credentials on the client machine. An API key can be revoked and set to expire. It also
acts as a credential for those who sign in using a single sign-on authentication mechanism such as CAS or SAML.<br />
</p>
<p>A site administrator must first enable the use of API keys on that LabKey Server. Once enabled, any logged in user can
generate an API key by clicking their display name (upper right) and selecting &quot;External Tool Access&quot;. The API Key page
creates and displays keys that can be copied and pasted into a labkey.setDefaults() statement to give an Rlabkey
session the permissions of the corresponding user.<br />
</p>
<p>If an API key is not provided, you can also use this function for basic authentication via email and password. Note
that both email and password must be set via a labkey.setDefaults() call. If an API key is also set, that will be given
preference and the email/password will not be used for authentication.<br />
</p>
<p>On servers that enable them, a session key can be used in place of an API key. A session key ties all Rlabkey access
to a user's current browser session, which means the code runs in the same context as the browser (e.g. same user,
same authorizations, same declared terms of use and PHI level, same impersonation state, etc.). Session keys can be
useful in certain compliance scenarios.<br />
</p>
<p>Once valid credentials are provided to labkey.setDefaults(), subsequent labkey.get or labkey.post API calls will
authenticate using those credentials.<br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Example of setting and clearing email/password, API key, and Session key
# library(Rlabkey)

labkey.setDefaults(email="testing@localhost.test", password="password")

## Functions invoked at this point respect the role assignments and
## other authorizations of the specified user

## A user can create an API key via the LabKey UI and set it as follows:

labkey.setDefaults(apiKey="abcdef0123456789abcdef0123456789")

## Functions invoked at this point respect the role assignments and
## other authorizations of the user who created the API key

## A user can create a session key via the LabKey UI and set it as follows:

labkey.setDefaults(apiKey="0123456789abcdef0123456789abcdef")

## Functions invoked at this point share authorization
## and session information with the user's browser session

labkey.setDefaults() # called without any parameters will reset/clear the environment variables

</code></pre>

<hr>
<h2 id='labkey.setModuleProperty'>Set module property value</h2><span id='topic+labkey.setModuleProperty'></span>

<h3>Description</h3>

<p>Set module property value for a specific folder or as site wide (with folderPath '/')
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.setModuleProperty(baseUrl=NULL, folderPath, moduleName, propName, propValue)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.setModuleProperty_+3A_baseurl">baseUrl</code></td>
<td>
<p>server location including context path, if any. e.g. https://www.labkey.org/</p>
</td></tr>
<tr><td><code id="labkey.setModuleProperty_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code></p>
</td></tr>
<tr><td><code id="labkey.setModuleProperty_+3A_modulename">moduleName</code></td>
<td>
<p>name of the module</p>
</td></tr>
<tr><td><code id="labkey.setModuleProperty_+3A_propname">propName</code></td>
<td>
<p>The module property name</p>
</td></tr>
<tr><td><code id="labkey.setModuleProperty_+3A_propvalue">propValue</code></td>
<td>
<p>The module property value to save</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(Rlabkey)
labkey.setModuleProperty(baseUrl="http://labkey/", folderPath="flowProject",
    moduleName="flow", propName="ExportToScriptFormat", propValue="zip")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.setWafEncoding'>Helper function to enable/disable wafEncoding mode.</h2><span id='topic+labkey.setWafEncoding'></span>

<h3>Description</h3>

<p>By default, this command encodes the SQL parameter to allow it to pass through web application
firewalls. This is compatible with LabKey Server v23.9.0 and above. If targeting an earlier
server, pass FALSE to this method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.setWafEncoding(wafEncode = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.setWafEncoding_+3A_wafencode">wafEncode</code></td>
<td>
<p>a boolean specifying if wafEncode mode is enabled or disabled</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)
labkey.setWafEncoding(FALSE)
labkey.executeSql(
    baseUrl="http://localhost:8080/labkey",
    folderPath="/home",
    schemaName="core",
    sql = "select * from containers")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.storage.create'>Create a new LabKey Freezer Manager storage item</h2><span id='topic+labkey.storage.create'></span>

<h3>Description</h3>

<p>Create a new LabKey Freezer Manager storage item that can be used in the creation of a storage hierarchy.
Storage items can be of the following types: Physical Location, Freezer, Primary Storage, Shelf, Rack, Canister,
Storage Unit Type, or Terminal Storage Location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.storage.create(baseUrl=NULL, folderPath, type, props)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.storage.create_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the LabKey server</p>
</td></tr>
<tr><td><code id="labkey.storage.create_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.storage.create_+3A_type">type</code></td>
<td>
<p>a string specifying the type of storage item to create </p>
</td></tr>
<tr><td><code id="labkey.storage.create_+3A_props">props</code></td>
<td>
<p>a list properties for the storage item (i.e. name, description, etc.) </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a data element with the property values for the newly created storage item.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.storage.update">labkey.storage.update</a></code>,
<code><a href="#topic+labkey.storage.delete">labkey.storage.delete</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)
## create a storage Freezer with a Shelf and 2 Plates on that Shelf

freezer &lt;- labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Freezer",
    props=list(name="Test Freezer", description="My example storage freezer")
)

shelf = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Shelf",
    props=list(name="Test Shelf", locationId=freezer$data$rowId )
)

plateType = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Storage Unit Type",
    props=list(name="Test 8X12 Well Plate", unitType="Plate", rows=8, cols=12 )
)

plate1 = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Terminal Storage Location",
    props=list(name="Plate #1", typeId=plateType$data$rowId, locationId=shelf$data$rowId )
)

plate2 = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Terminal Storage Location",
    props=list(name="Plate #2", typeId=plateType$data$rowId, locationId=shelf$data$rowId )
)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.storage.delete'>Delete a LabKey Freezer Manager storage item</h2><span id='topic+labkey.storage.delete'></span>

<h3>Description</h3>

<p>Delete an existing LabKey Freezer Manager storage item. Note that deletion of freezers, primary storage, or locations
within the storage hierarchy will cascade the delete down the hierarchy to remove child locations and terminal storage
locations. Samples in the deleted storage location(s) will not be deleted but will be removed from storage.
Storage items can be of the following types: Physical Location, Freezer, Primary Storage, Shelf, Rack, Canister,
Storage Unit Type, or Terminal Storage Location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.storage.delete(baseUrl=NULL, folderPath, type, rowId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.storage.delete_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the LabKey server</p>
</td></tr>
<tr><td><code id="labkey.storage.delete_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.storage.delete_+3A_type">type</code></td>
<td>
<p>a string specifying the type of storage item to delete </p>
</td></tr>
<tr><td><code id="labkey.storage.delete_+3A_rowid">rowId</code></td>
<td>
<p>the primary key of the storage item to delete </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a data element with the property values for the deleted storage item.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.storage.create">labkey.storage.create</a></code>,
<code><a href="#topic+labkey.storage.update">labkey.storage.update</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)
## delete a freezer and its child locations and terminal storage locations

freezer &lt;- labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Freezer",
    props=list(name="Test Freezer", description="My example storage freezer")
)

shelf = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Shelf",
    props=list(name="Test Shelf", locationId=freezer$data$rowId )
)

plateType = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Storage Unit Type",
    props=list(name="Test 8X12 Well Plate", unitType="Plate", rows=8, cols=12 )
)

plate1 = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Terminal Storage Location",
    props=list(name="Plate #1", typeId=plateType$data$rowId, locationId=shelf$data$rowId )
)

plate2 = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Terminal Storage Location",
    props=list(name="Plate #2", typeId=plateType$data$rowId, locationId=shelf$data$rowId )
)

# NOTE: this will delete freezer, shelf, plate1 and plate2 but it will not delete
#       the plateType as that is not a part of the freezer hierarchy
freezer &lt;- labkey.storage.delete(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Freezer",
    rowId=freezer$data$rowId
)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.storage.update'>Update a LabKey Freezer Manager storage item</h2><span id='topic+labkey.storage.update'></span>

<h3>Description</h3>

<p>Update an existing LabKey Freezer Manager storage item to change its properties or location within the storage hierarchy.
Storage items can be of the following types: Physical Location, Freezer, Primary Storage, Shelf, Rack, Canister,
Storage Unit Type, or Terminal Storage Location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.storage.update(baseUrl=NULL, folderPath, type, props)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.storage.update_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the LabKey server</p>
</td></tr>
<tr><td><code id="labkey.storage.update_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.storage.update_+3A_type">type</code></td>
<td>
<p>a string specifying the type of storage item to update </p>
</td></tr>
<tr><td><code id="labkey.storage.update_+3A_props">props</code></td>
<td>
<p>a list properties for the storage item (i.e. name, description, etc.), must include the RowId primary key </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a data element with the property values for the updated storage item.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.storage.create">labkey.storage.create</a></code>,
<code><a href="#topic+labkey.storage.delete">labkey.storage.delete</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)
## create a storage unit type and then update it to change some properties

plateType = labkey.storage.create(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Storage Unit Type",
    props=list(name="Test 8X12 Well Plate", unitType="Plate", rows=8, cols=12 )
)

plateType = labkey.storage.update(
    baseUrl="http://labkey/",
    folderPath="home",
    type="Storage Unit Type",
    props=list(rowId=plateType$data$rowId, positionFormat="NumAlpha", positionOrder="ColumnRow" )
)

## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.transform.getRunPropertyValue'>Assay transform script helper function to get a run property value from a data.frame</h2><span id='topic+labkey.transform.getRunPropertyValue'></span>

<h3>Description</h3>

<p>A function that takes in data.frame of the run properties info for a given assay transform script execution and
returns the value for a given property name.</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.transform.getRunPropertyValue(runProps, propName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.transform.getRunPropertyValue_+3A_runprops">runProps</code></td>
<td>
<p>the data.frame of the run property key/value pairs</p>
</td></tr>
<tr><td><code id="labkey.transform.getRunPropertyValue_+3A_propname">propName</code></td>
<td>
<p>the name of the property to get the value of within the runProps data.frame</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This helper function will most likely be used within an assay transform script after the
labkey.transform.readRunPropertiesFile function has been called to load the full set of run properties.<br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# library(Rlabkey)

run.props = labkey.transform.readRunPropertiesFile("${runInfo}");
run.data.file = labkey.transform.getRunPropertyValue(run.props, "runDataFile");


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.transform.readRunPropertiesFile'>Assay transform script helper function to read a run properties file</h2><span id='topic+labkey.transform.readRunPropertiesFile'></span>

<h3>Description</h3>

<p>A function that takes in the full path to the LabKey generated run properties file and returns a data.frame of
the key value pairs for the lines within that file. This helper function would be used as part of an assay transform
script written in R and associated with an assay design.</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.transform.readRunPropertiesFile(runInfoPath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.transform.readRunPropertiesFile_+3A_runinfopath">runInfoPath</code></td>
<td>
<p>the full file system path to the generated run properties file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The most common scenario is that the assay transform script will get the run properties file path added
into the running script as a replacement variable.<br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# library(Rlabkey)

labkey.transform.readRunPropertiesFile("${runInfo}")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.truncateTable'>Delete all rows from a table</h2><span id='topic+labkey.truncateTable'></span>

<h3>Description</h3>

<p>Delete all rows from the specified table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.truncateTable(baseUrl = NULL, folderPath, schemaName, queryName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.truncateTable_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.truncateTable_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.truncateTable_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the name of the schema of the domain </p>
</td></tr>
<tr><td><code id="labkey.truncateTable_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the query name </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Deletes all rows in the table in a single transaction and will also log a single audit event for the action. Not all tables support truncation, if
a particular table doesn't support the action, an error will be returned. The current list of tables supporting truncation include : lists, datasets,
issues, sample sets, data classes.
</p>


<h3>Value</h3>

<p>Returns the count of the number of rows deleted.
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## create a data frame and infer it's fields
library(Rlabkey)

labkey.truncateTable(baseUrl="http://labkey/", folderPath="home",
    schemaName="lists", queryName="people")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.updateRows'>Update existing rows of data in a labkey database</h2><span id='topic+labkey.updateRows'></span>

<h3>Description</h3>

<p>Send data from an R session to update existing rows of data in the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.updateRows(baseUrl, folderPath,
    schemaName, queryName, toUpdate,
    provenanceParams=NULL, options=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.updateRows_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.updateRows_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.updateRows_+3A_schemaname">schemaName</code></td>
<td>
<p>a string specifying the  <code>schemaName</code>for the query</p>
</td></tr>
<tr><td><code id="labkey.updateRows_+3A_queryname">queryName</code></td>
<td>
<p>a string specifying the  <code>queryName</code></p>
</td></tr> 
<tr><td><code id="labkey.updateRows_+3A_toupdate">toUpdate</code></td>
<td>
<p>a data frame containing the row(s) of data to be updated</p>
</td></tr>
<tr><td><code id="labkey.updateRows_+3A_provenanceparams">provenanceParams</code></td>
<td>
<p>the provenance parameter object which contains the options to include as part of a provenance recording.
This is a premium feature and requires the Provenance LabKey module to function correctly, if it is not present this parameter will be ignored.
</p>
</td></tr>
<tr><td><code id="labkey.updateRows_+3A_options">options</code></td>
<td>
<p>(optional) a list containing options specific to the insert action of the query</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A single row or multiple rows of data can be updated.  The <code>toUpdate</code> data frame should contain 
the rows of data to be updated and must be created with the <code>stringsAsFactors</code> option
set to FALSE. The names of the data in the data frame must be the column names from the
labkey database.   To update a row/column to a value of NULL, use an empty string (&quot;&quot;) in the data frame (regardless of the database column type).
<br /> <br />
The list of valid options for each query will vary, but some common examples include:
</p>

<ul>
<li> <p><code>auditBehavior (string)</code> : Can be used to override the audit behavior for the table the query is acting on.
The set of types include: NONE, SUMMARY, and DETAILED.
</p>
</li>
<li> <p><code>auditUserComment (string)</code> : Can be used to provide a comment from the user that will be attached to
certain detailed audit log records.
</p>
</li></ul>



<h3>Value</h3>

<p>A list is returned with named categories of <b>command</b>, <b>rowsAffected</b>, <b>rows</b>, <b>queryName</b>, <b>containerPath</b> and <b>schemaName</b>.
The <b>schemaName</b>, <b>queryName</b> and <b>containerPath</b> properties contain the same schema, query 
and folder path used in the request.  The
<b>rowsAffected</b> property indicates the number of rows affected by the API action. This will typically be the same
number as passed in the request. The <b>rows</b> property contains a list of row objects corresponding to the rows
updated.
</p>


<h3>Author(s)</h3>

<p>Valerie Obenchain</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code>, <code><a href="#topic+labkey.executeSql">labkey.executeSql</a></code>, <code><a href="#topic+makeFilter">makeFilter</a></code>, 
<code><a href="#topic+labkey.insertRows">labkey.insertRows</a></code>, <code><a href="#topic+labkey.importRows">labkey.importRows</a></code>, <br />
<code><a href="#topic+labkey.deleteRows">labkey.deleteRows</a></code>, <code><a href="#topic+labkey.moveRows">labkey.moveRows</a></code>, <br />
<code><a href="#topic+labkey.query.import">labkey.query.import</a></code>,
<code><a href="#topic+labkey.provenance.createProvenanceParams">labkey.provenance.createProvenanceParams</a></code>,
<code><a href="#topic+labkey.provenance.startRecording">labkey.provenance.startRecording</a></code>,
<code><a href="#topic+labkey.provenance.addRecordingStep">labkey.provenance.addRecordingStep</a></code>,
<code><a href="#topic+labkey.provenance.stopRecording">labkey.provenance.stopRecording</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Insert, update and delete
## Note that users must have the necessary permissions in the database
## to be able to modify data through the use of these functions
# library(Rlabkey)

newrow &lt;- data.frame(
	DisplayFld="Inserted from R"
	, TextFld="how its done"
	, IntFld= 98 
	, DoubleFld = 12.345
	, DateTimeFld = "03/01/2010"
	, BooleanFld= FALSE
	, LongTextFld = "Four score and seven years ago"
#	, AttachmentFld = NA    		#attachment fields not supported 
	, RequiredText = "Veni, vidi, vici"
	, RequiredInt = 0
	, Category = "LOOKUP2"
	, stringsAsFactors=FALSE)

insertedRow &lt;- labkey.insertRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    toInsert=newrow, options=list(auditBehavior="DETAILED",
    auditUserComment="testing audit comment for insert"))
newRowId &lt;- insertedRow$rows[[1]]$RowId

selectedRow&lt;-labkey.selectRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colFilter=makeFilter(c("RowId", "EQUALS", newRowId)))
selectedRow

updaterow=data.frame(
	RowId=newRowId
	, DisplayFld="Updated from R"
	, TextFld="how to update"
	, IntFld= 777 
	, stringsAsFactors=FALSE)

updatedRow &lt;- labkey.updateRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    toUpdate=updaterow, options=list(auditBehavior="DETAILED",
    auditUserComment="testing audit comment for update"))
selectedRow&lt;-labkey.selectRows("http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    colFilter=makeFilter(c("RowId", "EQUALS", newRowId)))
selectedRow

deleterow &lt;- data.frame(RowId=newRowId, stringsAsFactors=FALSE)
result &lt;- labkey.deleteRows(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples", schemaName="lists", queryName="AllTypes",
    toDelete=deleterow)
str(result)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.delete'>Deletes the provided file/folder on a LabKey Server via WebDAV</h2><span id='topic+labkey.webdav.delete'></span>

<h3>Description</h3>

<p>This will delete the supplied file or folder under the specified LabKey Server project using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.delete(
    baseUrl=NULL,
    folderPath,
    remoteFilePath,
    fileSet='@files'
    )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.delete_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.delete_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.delete_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>the path to delete, relative to the LabKey folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.delete_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument). In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This will delete the supplied file or folder under the specified LabKey Server project using WebDAV. Note: if a folder is provided, it will delete that folder and contents.
</p>


<h3>Value</h3>

<p>TRUE if the folder was deleted successfully
</p>


<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.get">labkey.webdav.get</a></code>,
<code><a href="#topic+labkey.webdav.put">labkey.webdav.put</a></code>,
<code><a href="#topic+labkey.webdav.mkDir">labkey.webdav.mkDir</a></code>,
<code><a href="#topic+labkey.webdav.mkDirs">labkey.webdav.mkDirs</a></code>,
<code><a href="#topic+labkey.webdav.listDir">labkey.webdav.listDir</a></code>,
<code><a href="#topic+labkey.webdav.pathExists">labkey.webdav.pathExists</a></code>,
<code><a href="#topic+labkey.webdav.downloadFolder">labkey.webdav.downloadFolder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

#delete an entire directory and contents
labkey.webdav.delete(baseUrl="http://labkey/", folderPath="home", remoteFilePath="folder1")

#delete single file
labkey.webdav.delete(baseUrl="http://labkey/", folderPath="home", remoteFilePath="folder/file.txt")


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.downloadFolder'>Recursively download a folder via WebDAV</h2><span id='topic+labkey.webdav.downloadFolder'></span>

<h3>Description</h3>

<p>This will recursively download a folder from a LabKey Server using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.downloadFolder(
    localBaseDir,
    baseUrl=NULL, 
    folderPath,
    remoteFilePath,
    overwriteFiles=TRUE,
    mergeFolders=TRUE,
    fileSet='@files'
    )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.downloadFolder_+3A_localbasedir">localBaseDir</code></td>
<td>
<p>the local filepath where this directory will be saved. a subfolder with the remote directory name will be created.  </p>
</td></tr>
<tr><td><code id="labkey.webdav.downloadFolder_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.downloadFolder_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.downloadFolder_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>the path of this folder on the remote server, relative to the folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.downloadFolder_+3A_overwritefiles">overwriteFiles</code></td>
<td>
<p>(optional) if true, any pre-existing file at this location will be overwritten.  Defaults to TRUE </p>
</td></tr>
<tr><td><code id="labkey.webdav.downloadFolder_+3A_mergefolders">mergeFolders</code></td>
<td>
<p>(optional) if false, any pre-existing local folders in the target location will be deleted if there is an incoming folder of the same name. If true, these existing folders will be left alone, and remote files downloaded into them.  Existing file conflicts will be handled based on the overwriteFiles parameter.  Defaults to TRUE </p>
</td></tr>
<tr><td><code id="labkey.webdav.downloadFolder_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument).  In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This will recursively download a folder from a LabKey Server using WebDAV.  This is essentially a wrapper that recursively calls
labkey.webdav.get to download all files in the remote folder.
</p>


<h3>Value</h3>

<p>TRUE or FALSE, depending on if this folder was successfully downloaded
</p>


<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.get">labkey.webdav.get</a></code>,
<code><a href="#topic+labkey.webdav.put">labkey.webdav.put</a></code>,
<code><a href="#topic+labkey.webdav.mkDir">labkey.webdav.mkDir</a></code>,
<code><a href="#topic+labkey.webdav.mkDirs">labkey.webdav.mkDirs</a></code>,
<code><a href="#topic+labkey.webdav.pathExists">labkey.webdav.pathExists</a></code>,
<code><a href="#topic+labkey.webdav.listDir">labkey.webdav.listDir</a></code>,
<code><a href="#topic+labkey.webdav.delete">labkey.webdav.delete</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## download folder from a LabKey Server
library(Rlabkey)

labkey.webdav.downloadFolder(baseUrl="http://labkey/",
    folderPath="home",
    remoteFilePath="folder1",
    localBaseDir="destFolder",
    overwrite=TRUE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.get'>Download a file via WebDAV</h2><span id='topic+labkey.webdav.get'></span>

<h3>Description</h3>

<p>This will download a file from a LabKey Server using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.get(
    baseUrl=NULL,
    folderPath,
    remoteFilePath,
    localFilePath,
    overwrite=TRUE,
    fileSet='@files'
    )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.get_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.get_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.get_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>the path of this file on the remote server, relative to the folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.get_+3A_localfilepath">localFilePath</code></td>
<td>
<p>the local filepath where this file will be saved </p>
</td></tr>
<tr><td><code id="labkey.webdav.get_+3A_overwrite">overwrite</code></td>
<td>
<p>(optional) if true, any pre-existing file at this location will be overwritten.  Defaults to TRUE </p>
</td></tr>
<tr><td><code id="labkey.webdav.get_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument). In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Download a single file from a LabKey Server to the local machine using WebDAV.
</p>


<h3>Value</h3>

<p>TRUE or FALSE, depending on if this file was downloaded and exists locally.  Will return FALSE if the already file exists and overwrite=F.
</p>


<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.put">labkey.webdav.put</a></code>,
<code><a href="#topic+labkey.webdav.mkDir">labkey.webdav.mkDir</a></code>,
<code><a href="#topic+labkey.webdav.mkDirs">labkey.webdav.mkDirs</a></code>,
<code><a href="#topic+labkey.webdav.pathExists">labkey.webdav.pathExists</a></code>,
<code><a href="#topic+labkey.webdav.listDir">labkey.webdav.listDir</a></code>,
<code><a href="#topic+labkey.webdav.delete">labkey.webdav.delete</a></code>,
<code><a href="#topic+labkey.webdav.downloadFolder">labkey.webdav.downloadFolder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## download a single file from a LabKey Server
library(Rlabkey)

labkey.webdav.get(
    baseUrl="http://labkey/",
    folderPath="home",
    remoteFilePath="folder/myFile.txt",
    localFilePath="myDownloadedFile.txt",
    overwrite=TRUE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.listDir'>List the contents of a LabKey Server folder via WebDAV</h2><span id='topic+labkey.webdav.listDir'></span>

<h3>Description</h3>

<p>This will list the contents of a LabKey Server folder using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.listDir(
    baseUrl=NULL,
    folderPath,
    remoteFilePath,
    fileSet='@files',
    haltOnError=TRUE
    )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.listDir_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.listDir_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.listDir_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>path of the folder on the remote server, relative to the folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.listDir_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument). In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
<tr><td><code id="labkey.webdav.listDir_+3A_haltonerror">haltOnError</code></td>
<td>
<p>(optional) Specifies whether this request should fail if the requested path does not exist.  Defaults to TRUE </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Lists the contents of a folder on a LabKey Server using WebDAV.
</p>


<h3>Value</h3>

<p>A list with each item under this folder.  Each item (file or directory) is a list with the following attributes:
</p>

<ul>
<li><p> &quot;files&quot;: A list of the files, where each has the following attributes: 
</p>

<ul>
<li><p> &quot;id&quot;: The relative path to this item, not encoded 
</p>
</li>
<li><p> &quot;href&quot;: The relative URL to this item, HTML encoded 
</p>
</li>
<li><p> &quot;text&quot;: A dataset in a date based study 
</p>
</li>
<li><p> &quot;creationdate&quot;: The date this item was created 
</p>
</li>
<li><p> &quot;createdby&quot;: The user that created this file 
</p>
</li>
<li><p> &quot;lastmodified&quot;: The last modification time 
</p>
</li>
<li><p> &quot;contentlength&quot;: The content length 
</p>
</li>
<li><p> &quot;size&quot;: The file size 
</p>
</li>
<li><p> &quot;isdirectory&quot;: TRUE or FALSE, depending on whether this item is a directory 
</p>
</li></ul>

</li>
<li><p> &quot;fileCount&quot;: If this item is a directory, this property will be present, listing the the total files in this location 
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.get">labkey.webdav.get</a></code>,
<code><a href="#topic+labkey.webdav.put">labkey.webdav.put</a></code>,
<code><a href="#topic+labkey.webdav.mkDir">labkey.webdav.mkDir</a></code>,
<code><a href="#topic+labkey.webdav.mkDirs">labkey.webdav.mkDirs</a></code>,
<code><a href="#topic+labkey.webdav.pathExists">labkey.webdav.pathExists</a></code>,
<code><a href="#topic+labkey.webdav.delete">labkey.webdav.delete</a></code>,
<code><a href="#topic+labkey.webdav.downloadFolder">labkey.webdav.downloadFolder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

json &lt;- labkey.webdav.listDir(
            baseUrl="http://labkey/",
            folderPath="home",
            remoteFilePath="myFolder"
        )


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.mkDir'>Create a folder via WebDAV</h2><span id='topic+labkey.webdav.mkDir'></span>

<h3>Description</h3>

<p>This will create a folder under the specified LabKey Server project using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.mkDir(
    baseUrl=NULL,
    folderPath,
    remoteFilePath,
    fileSet='@files'
    )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.mkDir_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.mkDir_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.mkDir_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>the folder path to create, relative to the LabKey folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.mkDir_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument). In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a folder on a LabKey Server using WebDAV. If the parent directory does not exist, this will fail (similar to mkdir on linux)
</p>


<h3>Value</h3>

<p>TRUE if the folder was created successfully
</p>


<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.get">labkey.webdav.get</a></code>,
<code><a href="#topic+labkey.webdav.put">labkey.webdav.put</a></code>,
<code><a href="#topic+labkey.webdav.mkDirs">labkey.webdav.mkDirs</a></code>,
<code><a href="#topic+labkey.webdav.pathExists">labkey.webdav.pathExists</a></code>,
<code><a href="#topic+labkey.webdav.listDir">labkey.webdav.listDir</a></code>,
<code><a href="#topic+labkey.webdav.delete">labkey.webdav.delete</a></code>,
<code><a href="#topic+labkey.webdav.downloadFolder">labkey.webdav.downloadFolder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.webdav.mkDir(
    baseUrl="http://labkey/",
    folderPath="home",
    remoteFilePath="toCreate"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.mkDirs'>Create a folder via WebDAV</h2><span id='topic+labkey.webdav.mkDirs'></span>

<h3>Description</h3>

<p>This will create folder(s) under the specified LabKey Server project using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.mkDirs(
    baseUrl=NULL,
    folderPath,
    remoteFilePath,
    fileSet='@files'
    )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.mkDirs_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.mkDirs_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.mkDirs_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>the folder path to create, relative to the LabKey folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.mkDirs_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument). In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a folder on a LabKey Server using WebDAV. If the parent directory or directories no not exist, these will also be created (similar to mkdir -p on linux)
</p>


<h3>Value</h3>

<p>TRUE if the folder was created successfully
</p>


<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.get">labkey.webdav.get</a></code>,
<code><a href="#topic+labkey.webdav.put">labkey.webdav.put</a></code>,
<code><a href="#topic+labkey.webdav.mkDir">labkey.webdav.mkDir</a></code>,
<code><a href="#topic+labkey.webdav.pathExists">labkey.webdav.pathExists</a></code>,
<code><a href="#topic+labkey.webdav.listDir">labkey.webdav.listDir</a></code>,
<code><a href="#topic+labkey.webdav.delete">labkey.webdav.delete</a></code>,
<code><a href="#topic+labkey.webdav.downloadFolder">labkey.webdav.downloadFolder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.webdav.mkDirs(
    baseUrl="http://labkey/",
    folderPath="home",
    remoteFilePath="folder1/folder2/toCreate"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.pathExists'>Tests if a path exists on a LabKey Server via WebDAV</h2><span id='topic+labkey.webdav.pathExists'></span>

<h3>Description</h3>

<p>This will test if the supplied file/folder exists folder under the specified LabKey Server project using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.pathExists(
    baseUrl=NULL,
    folderPath,
    remoteFilePath,
    fileSet='@files'
    )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.pathExists_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.pathExists_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.pathExists_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>the path to test, relative to the LabKey folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.pathExists_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument). In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This will test if the supplied file/folder exists folder under the specified LabKey Server project using WebDAV.
</p>


<h3>Value</h3>

<p>TRUE if the folder was created successfully
</p>


<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.get">labkey.webdav.get</a></code>,
<code><a href="#topic+labkey.webdav.put">labkey.webdav.put</a></code>,
<code><a href="#topic+labkey.webdav.mkDir">labkey.webdav.mkDir</a></code>,
<code><a href="#topic+labkey.webdav.mkDirs">labkey.webdav.mkDirs</a></code>,
<code><a href="#topic+labkey.webdav.listDir">labkey.webdav.listDir</a></code>,
<code><a href="#topic+labkey.webdav.delete">labkey.webdav.delete</a></code>,
<code><a href="#topic+labkey.webdav.downloadFolder">labkey.webdav.downloadFolder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

# Test folder
labkey.webdav.pathExists(
    baseUrl="http://labkey/",
    folderPath="home",
    remoteFilePath="pathToTest"
)

# Test file
labkey.webdav.pathExists(
    baseUrl="http://labkey/",
    folderPath="home",
    remoteFilePath="folder/fileToTest.txt"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.webdav.put'>Upload a file via WebDAV</h2><span id='topic+labkey.webdav.put'></span>

<h3>Description</h3>

<p>This will upload a file to a LabKey Server using WebDAV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.webdav.put(
    localFile,
    baseUrl=NULL,
    folderPath,
    remoteFilePath,
    fileSet='@files',
    description=NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.webdav.put_+3A_localfile">localFile</code></td>
<td>
<p>the local filepath to upload </p>
</td></tr>
<tr><td><code id="labkey.webdav.put_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td></tr>
<tr><td><code id="labkey.webdav.put_+3A_folderpath">folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td></tr>
<tr><td><code id="labkey.webdav.put_+3A_remotefilepath">remoteFilePath</code></td>
<td>
<p>the destination path of this file on the remote server, relative to the folder root. </p>
</td></tr>
<tr><td><code id="labkey.webdav.put_+3A_fileset">fileSet</code></td>
<td>
<p>(optional) the name of file server fileSet, which is typically &quot;@files&quot; (the default value for this argument). In some cases this might be &quot;@pipeline&quot; or &quot;@fileset&quot;. </p>
</td></tr>
<tr><td><code id="labkey.webdav.put_+3A_description">description</code></td>
<td>
<p>(optional) the description to attach to this file on the remote server. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Upload a single file from the local machine to a LabKey Server using WebDAV.
</p>


<h3>Value</h3>

<p>TRUE if the file was uploaded successfully
</p>


<h3>Author(s)</h3>

<p>Ben Bimber, Ph.D.</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.webdav.get">labkey.webdav.get</a></code>,
<code><a href="#topic+labkey.webdav.mkDir">labkey.webdav.mkDir</a></code>,
<code><a href="#topic+labkey.webdav.mkDirs">labkey.webdav.mkDirs</a></code>,
<code><a href="#topic+labkey.webdav.pathExists">labkey.webdav.pathExists</a></code>,
<code><a href="#topic+labkey.webdav.listDir">labkey.webdav.listDir</a></code>,
<code><a href="#topic+labkey.webdav.delete">labkey.webdav.delete</a></code>,
<code><a href="#topic+labkey.webdav.downloadFolder">labkey.webdav.downloadFolder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## upload a single file to a LabKey Server
library(Rlabkey)

labkey.webdav.put(
    localFile="myFileToUpload.txt",
    baseUrl="http://labkey/",
    folderPath="home",
    remoteFilePath="myFileToUpload.txt"
)


## End(Not run)
</code></pre>

<hr>
<h2 id='labkey.whoAmI'>Call the whoami API</h2><span id='topic+labkey.whoAmI'></span>

<h3>Description</h3>

<p>Call the whoami API to get information about the current LabKey user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labkey.whoAmI(baseUrl=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labkey.whoAmI_+3A_baseurl">baseUrl</code></td>
<td>
<p>A string specifying the <code>baseUrl</code> for the LabKey server.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns information about the logged in user including: displayName, id, email,
and whether or not the user is impersonated.
</p>


<h3>Author(s)</h3>

<p>Cory Nathe</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.security.impersonateUser">labkey.security.impersonateUser</a></code>,
<code><a href="#topic+labkey.security.stopImpersonating">labkey.security.stopImpersonating</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(Rlabkey)

labkey.whoAmI(baseUrl="http://labkey/")


## End(Not run)
</code></pre>

<hr>
<h2 id='lsFolders'>List the available folder paths </h2><span id='topic+lsFolders'></span>

<h3>Description</h3>

<p> Lists the available folder paths relative to the current folder path for a LabKey session </p>


<h3>Usage</h3>

<pre><code class='language-R'>lsFolders(session) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lsFolders_+3A_session">session</code></td>
<td>
<p>the session key returned from getSession</p>
</td></tr>
</table>


<h3>Details</h3>

<p>  Lists the available folder paths relative to the current folder path for a LabKey session
</p>


<h3>Value</h3>

<p> A character array containing the available folder paths, relative to the project root. These values can be set on a session using curFolder&lt;-
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>References</h3>

<p>https://www.labkey.org/Documentation/wiki-page.view?name=projects</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code>, <code><a href="#topic+lsProjects">lsProjects</a></code>, <code><a href="#topic+lsSchemas">lsSchemas</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

##get a list if projects and folders
# library(Rlabkey)

lks&lt;- getSession("https://www.labkey.org", "/home")

#returns values "/home" , "/home/_menus" , ...
lsFolders(lks)


## End(Not run)
</code></pre>

<hr>
<h2 id='lsProjects'>List the projects available at a given LabKey Server address </h2><span id='topic+lsProjects'></span>

<h3>Description</h3>

<p> Lists the projects available. Takes a string URL instead of a session, as it is intended for use before creating a session.</p>


<h3>Usage</h3>

<pre><code class='language-R'>lsProjects(baseUrl) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lsProjects_+3A_baseurl">baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code>for the LabKey Server, of the form http://&lt;server dns name&gt;/&lt;contextroot&gt; </p>
</td></tr>
</table>


<h3>Details</h3>

<p>  List the projects available at a given LabKey Server address.
</p>


<h3>Value</h3>

<p> A character array containing the available projects, relative to the root. These values can be set on a session using curFolder&lt;-
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>References</h3>

<p>https://www.labkey.org/home/project-begin.view</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code>, <code><a href="#topic+lsFolders">lsFolders</a></code>, <code><a href="#topic+lsSchemas">lsSchemas</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## get list of projects on server, connect a session in one project,
## then list the folders in that project
# library(Rlabkey)

lsProjects("https://www.labkey.org")

lkorg &lt;- getSession("https://www.labkey.org", "/home")
lsFolders(lkorg)

lkorg &lt;- getSession("https://www.labkey.org", "/home/Study/ListDemo")
lsSchemas(lkorg)


## End(Not run)
</code></pre>

<hr>
<h2 id='lsSchemas'>List the available schemas </h2><span id='topic+lsSchemas'></span>

<h3>Description</h3>

<p> Lists the available schemas given the current folder path for a LabKey session </p>


<h3>Usage</h3>

<pre><code class='language-R'>lsSchemas(session) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lsSchemas_+3A_session">session</code></td>
<td>
<p>the session key returned from getSession</p>
</td></tr>
</table>


<h3>Details</h3>

<p> Lists the available schemas given the current folder path for a LabKey session
</p>


<h3>Value</h3>

<p> A character array containing the available schema names
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code>,
<code><a href="#topic+lsFolders">lsFolders</a></code>,
<code><a href="#topic+lsProjects">lsProjects</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

##  get a list of schemas available in the current session context
# library(Rlabkey)

lks&lt;- getSession(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples")

#returns several schema names, e.g. "lists", "core", "MS1", etc.
lsSchemas(lks)


## End(Not run)
</code></pre>

<hr>
<h2 id='makeFilter'>Builds filters to be used in labkey.selectRows and getRows</h2><span id='topic+makeFilter'></span>

<h3>Description</h3>

<p>This function takes inputs of column name, filter value and filter operator and 
returns an array of filters to be used in <code>labkey.selectRows</code> and <code>getRows</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeFilter(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeFilter_+3A_...">...</code></td>
<td>
<p>Arguments in c(&quot;colname&quot;,&quot;operator&quot;,&quot;value&quot;) form, used to create a filter.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These filters are applied to the data prior to import into R. The user can specify as many 
filters as desired. The format for specifying a filter is a vector of characters including
the column name, operator and value.
</p>

<dl>
<dt>colname</dt><dd><p>a string specifying the name of the column to be filtered</p>
</dd> 
<dt>operator</dt><dd><p>a string specifying what operator should be used in the filter (see options below)</p>
</dd>
<dt>value</dt><dd><p>an integer or string specifying the value the columns should be filtered on</p>
</dd>
</dl>

<p>Operator values:<br />
EQUAL<br />
DATE_EQUAL<br />
NOT_EQUAL<br />
DATE_NOT_EQUAL<br />
NOT_EQUAL_OR_MISSING<br />
GREATER_THAN<br />
DATE_GREATER_THAN<br />
LESS_THAN<br />
DATE_LESS_THAN<br />
GREATER_THAN_OR_EQUAL<br />
DATE_GREATER_THAN_OR_EQUAL<br />
LESS_THAN_OR_EQUAL<br />
DATE_LESS_THAN_OR_EQUAL<br />
STARTS_WITH<br />
DOES_NOT_START_WITH<br />
CONTAINS<br />
DOES_NOT_CONTAIN<br />
CONTAINS_ONE_OF<br />
CONTAINS_NONE_OF<br />
IN<br />
NOT_IN<br />
BETWEEN<br />
NOT_BETWEEN<br />
MEMBER_OF<br />
MISSING<br />
NOT_MISSING<br />
MV_INDICATOR<br />
NO_MV_INDICATOR<br />
Q<br />
ONTOLOGY_IN_SUBTREE<br />
ONTOLOGY_NOT_IN_SUBTREE<br />
EXP_CHILD_OF<br />
EXP_PARENT_OF<br />
EXP_LINEAGE_OF<br />
</p>
<p>When using the MISSING, NOT_MISSING, MV_INDICATOR, or NO_MV_INDICATOR operators, an empty string should be supplied as the value.
See example below.
</p>


<h3>Value</h3>

<p>The function returns either a single string or an array of strings to be use in the
<code>colFilter</code> argument of the <code>labkey.selectRows</code> function.
</p>


<h3>Author(s)</h3>

<p>Valerie Obenchain</p>


<h3>References</h3>

<p>http://www.omegahat.net/RCurl/, <br />
https://www.labkey.org/home/project-begin.view</p>


<h3>See Also</h3>

<p><code><a href="#topic+labkey.selectRows">labkey.selectRows</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>
# library(Rlabkey)

## Two filters, ANDed together
makeFilter(c("TextFld","CONTAINS","h"),
    c("BooleanFld","EQUAL","TRUE"))

## Using "in" operator:
makeFilter(c("RowId","IN","2;3;6"))

## Using "missing" operator:
makeFilter(c("IntFld","MISSING",""))

</code></pre>

<hr>
<h2 id='saveResults'> Returns an object representing a LabKey schema </h2><span id='topic+saveResults'></span>

<h3>Description</h3>

<p>A wrapper function to labkey.saveBatch which uses a session object and provides defaults for the Batch/Run names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saveResults(session, assayName, resultDataFrame, 
  batchPropertyList= list(name=paste("Batch ", as.character(date()))),
  runPropertyList= list(name=paste("Assay Run ", as.character(date()))))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saveResults_+3A_session">session</code></td>
<td>
<p>the session key returned from getSession</p>
</td></tr>
<tr><td><code id="saveResults_+3A_assayname">assayName</code></td>
<td>
<p>a string specifying the  name of the assay instance</p>
</td></tr>
<tr><td><code id="saveResults_+3A_resultdataframe">resultDataFrame</code></td>
<td>
<p>a data frame containing rows of data to be inserted</p>
</td></tr>
<tr><td><code id="saveResults_+3A_batchpropertylist">batchPropertyList</code></td>
<td>
<p>a list of batch Properties </p>
</td></tr>
<tr><td><code id="saveResults_+3A_runpropertylist">runPropertyList</code></td>
<td>
<p>a list of run Properties </p>
</td></tr>
</table>


<h3>Details</h3>

<p>  saveResults is a wrapper function to labkey.saveBatch with two changes: First, it uses a session object in place
of the separate baseUrl and folderPath arguments. Second, it provides defaults for generating Batch and Run names based on a current
timestamp.
</p>
<p>To see the save result on LabKey server, click on the &quot;SimpleMeans&quot; assay in the Assay List web part.
</p>


<h3>Value</h3>

<p>an object representing the assay.
</p>


<h3>Author(s)</h3>

<p>Peter Hussey</p>


<h3>References</h3>

<p>https://www.labkey.org/home/project-begin.view</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSession">getSession</a></code>, <code><a href="#topic+getSchema">getSchema</a></code>, <code><a href="#topic+getLookups">getLookups</a></code>, <code><a href="#topic+getRows">getRows</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Very simple example of an analysis flow:  query some data,
## calculate some stats, then save the calculations as an assay
## result set in LabKey Server
# library(Rlabkey)

s&lt;- getSession(baseUrl="http://localhost:8080/labkey",
    folderPath="/apisamples")
scobj &lt;- getSchema(s, "lists")
simpledf &lt;- getRows(s, scobj$AllTypes)

## some dummy calculations to produce and example analysis result
testtable &lt;- simpledf[,3:4]
colnames(testtable) &lt;- c("IntFld", "DoubleFld")
row &lt;- c(list("Measure"="colMeans"), colMeans(testtable, na.rm=TRUE))
results &lt;- data.frame(row, row.names=NULL, stringsAsFactors=FALSE)
row &lt;- c(list("Measure"="colSums"), colSums(testtable, na.rm=TRUE))
results &lt;- rbind(results, as.vector(row))

bprops &lt;- list(LabNotes="this is a simple demo")
bpl&lt;- list(name=paste("Batch ", as.character(date())),properties=bprops) 
rpl&lt;- list(name=paste("Assay Run ", as.character(date())))

assayInfo&lt;- saveResults(s, "SimpleMeans", results,
    batchPropertyList=bpl, runPropertyList=rpl)


## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package gapminder</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gapminder}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#country_codes'><p>Country codes</p></a></li>
<li><a href='#country_colors'><p>Gapminder color schemes.</p></a></li>
<li><a href='#gapminder'><p>Gapminder data</p></a></li>
<li><a href='#gapminder_unfiltered'><p>Gapminder data, unfiltered.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Data from Gapminder</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An excerpt of the data available at Gapminder.org. For each
    of 142 countries, the package provides values for life expectancy, GDP
    per capita, and population, every five years, from 1952 to 2007.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jennybc/gapminder">https://github.com/jennybc/gapminder</a>,
<a href="https://www.gapminder.org/data/">https://www.gapminder.org/data/</a>,
<a href="https://doi.org/10.5281/zenodo.594018">https://doi.org/10.5281/zenodo.594018</a>,
<a href="https://jennybc.github.io/gapminder/">https://jennybc.github.io/gapminder/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jennybc/gapminder/issues">https://github.com/jennybc/gapminder/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, ggplot2, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-09 18:35:33 UTC; jenny</td>
</tr>
<tr>
<td>Author:</td>
<td>Jennifer Bryan <a href="https://orcid.org/0000-0002-6983-2759"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jennifer Bryan &lt;jenny@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-10 09:50:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='country_codes'>Country codes</h2><span id='topic+country_codes'></span>

<h3>Description</h3>

<p>Country codes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>country_codes
</code></pre>


<h3>Format</h3>

<p>Data frame of Gapminder country names and ISO 3166-1 country codes:
</p>

<dl>
<dt>country</dt><dd><p>Country name.</p>
</dd>
<dt>iso_alpha</dt><dd><p>The 3-letter <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3">ISO 3166-1 alpha-3</a> code.</p>
</dd>
<dt>iso_num</dt><dd><p>The 3-digit <a href="https://en.wikipedia.org/wiki/ISO_3166-1_numeric">ISO 3166-1 numeric-3</a> code.</p>
</dd>
</dl>

<p>Also includes the countries covered by the supplemental data frame
<code><a href="#topic+gapminder_unfiltered">gapminder_unfiltered</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("dplyr")) {
  gapminder %&gt;%
    filter(year == 2007, country %in% c("Kenya", "Peru", "Syria")) %&gt;%
    select(country, continent) %&gt;%
    left_join(country_codes)
}
</code></pre>

<hr>
<h2 id='country_colors'>Gapminder color schemes.</h2><span id='topic+country_colors'></span><span id='topic+continent_colors'></span>

<h3>Description</h3>

<p>Color schemes for the countries and continents in the Gapminder data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>country_colors
</code></pre>


<h3>Format</h3>

<p>Named character vectors giving country and continent colors:
</p>

<dl>
<dt>country_colors</dt><dd><p>colors for the 142 countries</p>
</dd>
<dt>continent_colors</dt><dd><p>colors for the 5 continents</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+gapminder">gapminder</a></code> for a description of the dataset
</p>


<h3>Examples</h3>

<pre><code class='language-R'># ggplot2 examples are below these base graphics examples!

# using country_colors with base graphics

# for convenience, integrate the country colors into the data.frame
gap_with_colors &lt;-
  data.frame(gapminder,
    cc = I(country_colors[match(
      gapminder$country,
      names(country_colors)
    )])
  )

# bubble plot, focus just on Africa and Europe in 2007
keepers &lt;- with(
  gap_with_colors,
  continent %in% c("Africa", "Europe") &amp; year == 2007
)
plot(lifeExp ~ gdpPercap, gap_with_colors,
  subset = keepers, log = "x", pch = 21,
  cex = sqrt(gap_with_colors$pop[keepers] / pi) / 1500,
  bg = gap_with_colors$cc[keepers]
)

if (require(ggplot2)) {
  # with ggplot2, just provide country_colors to scale_color_manual():
  # ... + scale_color_manual(values = country_colors) + ...

  # simple line plot for 5 countries
  h_countries &lt;- c("Egypt", "Haiti", "Romania", "Thailand", "Venezuela")
  h_dat &lt;- droplevels(subset(gapminder, country %in% h_countries))
  h_dat$country &lt;- with(h_dat, reorder(country, lifeExp, max))
  ggplot(h_dat, aes(x = year, y = lifeExp)) +
    geom_line(aes(color = country)) +
    scale_colour_manual(values = country_colors) +
    guides(color = guide_legend(reverse = TRUE))

  # spaghetti plot for lots of countries
  ggplot(
    subset(gapminder, continent != "Oceania"),
    aes(x = year, y = lifeExp, group = country, color = country)
  ) +
    geom_line(lwd = 1, show_guide = FALSE) +
    facet_wrap(~continent) +
    scale_color_manual(values = country_colors) +
    theme_bw() +
    theme(strip.text = element_text(size = rel(1.1)))

  # bubble plot for lots of countries
  gap_bit &lt;- subset(gapminder, year == 2007 &amp; continent != "Oceania")
  gap_bit &lt;- gap_bit[with(gap_bit, order(continent, -1 * pop)), ]
  ggplot(gap_bit, aes(x = gdpPercap, y = lifeExp, size = pop)) +
    scale_x_log10(limits = c(150, 115000)) +
    ylim(c(16, 96)) +
    geom_point(pch = 21, color = "grey20", show_guide = FALSE) +
    scale_size_area(max_size = 40) +
    facet_wrap(~continent) +
    coord_fixed(ratio = 1 / 43) +
    aes(fill = country) +
    scale_fill_manual(values = country_colors) +
    theme_bw() +
    theme(strip.text = element_text(size = rel(1.1)))
}

</code></pre>

<hr>
<h2 id='gapminder'>Gapminder data</h2><span id='topic+gapminder'></span>

<h3>Description</h3>

<p>Excerpt of the Gapminder data on life expectancy, GDP per capita, and
population by country.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gapminder
</code></pre>


<h3>Format</h3>

<p>The main data frame <code>gapminder</code> has 1704 rows and 6 variables:
</p>

<dl>
<dt>country</dt><dd><p>factor with 142 levels</p>
</dd>
<dt>continent</dt><dd><p>factor with 5 levels</p>
</dd>
<dt>year</dt><dd><p>ranges from 1952 to 2007 in increments of 5 years</p>
</dd>
<dt>lifeExp</dt><dd><p>life expectancy at birth, in years</p>
</dd>
<dt>pop</dt><dd><p>population</p>
</dd>
<dt>gdpPercap</dt><dd><p>GDP per capita (US$, inflation-adjusted)</p>
</dd>
</dl>

<p>The supplemental data frame <code><a href="#topic+gapminder_unfiltered">gapminder_unfiltered</a></code> was not
filtered on <code>year</code> or for complete data and has 3313 rows.
</p>


<h3>Source</h3>

<p><a href="https://www.gapminder.org/data/">https://www.gapminder.org/data/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+country_colors">country_colors</a></code> for a nice color scheme for the countries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str(gapminder)
head(gapminder)
summary(gapminder)
table(gapminder$continent)
aggregate(lifeExp ~ continent, gapminder, median)
plot(lifeExp ~ year, gapminder, subset = country == "Cambodia", type = "b")
plot(lifeExp ~ gdpPercap, gapminder, subset = year == 2007, log = "x")

if (require("dplyr")) {
  gapminder %&gt;%
    filter(year == 2007) %&gt;%
    group_by(continent) %&gt;%
    summarise(lifeExp = median(lifeExp))

  # how many unique countries does the data contain, by continent?
  gapminder %&gt;%
    group_by(continent) %&gt;%
    summarize(n_obs = n(), n_countries = n_distinct(country))

  # by continent, which country experienced the sharpest 5-year drop in
  # life expectancy and what was the drop?
  gapminder %&gt;%
    group_by(continent, country) %&gt;%
    select(country, year, continent, lifeExp) %&gt;%
    mutate(le_delta = lifeExp - lag(lifeExp)) %&gt;%
    summarize(worst_le_delta = min(le_delta, na.rm = TRUE)) %&gt;%
    filter(min_rank(worst_le_delta) &lt; 2) %&gt;%
    arrange(worst_le_delta)
}

</code></pre>

<hr>
<h2 id='gapminder_unfiltered'>Gapminder data, unfiltered.</h2><span id='topic+gapminder_unfiltered'></span>

<h3>Description</h3>

<p>The supplemental data frame <code>gapminder_unfiltered</code> was not filtered on
<code>year</code> or for complete data and has 3313 rows. Everything else is as
documented in <code><a href="#topic+gapminder">gapminder</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gapminder_unfiltered
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 3313 rows and 6 columns.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

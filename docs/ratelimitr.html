<!DOCTYPE html><html><head><title>Help for package ratelimitr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ratelimitr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_function'><p>Access the original function from a rate limited function</p></a></li>
<li><a href='#get_precision'><p>Access the rate limit precision</p></a></li>
<li><a href='#get_rates'><p>Access the rate limit(s) of a rate limited function</p></a></li>
<li><a href='#limit_rate'><p>Limit the rate at which a function will execute</p></a></li>
<li><a href='#rate'><p>Create a new rate</p></a></li>
<li><a href='#reset'><p>Re-create a rate-limited function</p></a></li>
<li><a href='#UPDATE_RATE'><p>Update the rate limit of an existing rate limited function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Rate Limiting for R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Tarak Shah</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tarak Shah &lt;tarak.shah@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows to limit the rate at which one or more functions can be called.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, microbenchmark, knitr, rmarkdown, covr</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/tarakc02/ratelimitr">https://github.com/tarakc02/ratelimitr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tarakc02/ratelimitr/issues">https://github.com/tarakc02/ratelimitr/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-10-07 19:41:59 UTC; tarak</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-10-07 21:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_function'>Access the original function from a rate limited function</h2><span id='topic+get_function'></span>

<h3>Description</h3>

<p>Access the original function from a rate limited function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_function(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_function_+3A_f">f</code></td>
<td>
<p>A rate limited function or group of functions</p>
</td></tr>
</table>

<hr>
<h2 id='get_precision'>Access the rate limit precision</h2><span id='topic+get_precision'></span>

<h3>Description</h3>

<p>Access the rate limit precision
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_precision(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_precision_+3A_f">f</code></td>
<td>
<p>A rate limited function or group of functions</p>
</td></tr>
</table>

<hr>
<h2 id='get_rates'>Access the rate limit(s) of a rate limited function</h2><span id='topic+get_rates'></span>

<h3>Description</h3>

<p>Access the rate limit(s) of a rate limited function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rates(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_rates_+3A_f">f</code></td>
<td>
<p>A rate limited function or group of functions</p>
</td></tr>
</table>

<hr>
<h2 id='limit_rate'>Limit the rate at which a function will execute</h2><span id='topic+limit_rate'></span><span id='topic+limit_rate.list'></span><span id='topic+limit_rate.function_list'></span><span id='topic+limit_rate.function'></span>

<h3>Description</h3>

<p>Limit the rate at which a function will execute
</p>


<h3>Usage</h3>

<pre><code class='language-R'>limit_rate(f, ..., precision = 60)

## S3 method for class 'list'
limit_rate(f, ..., precision = 60)

## S3 method for class 'function_list'
limit_rate(f, ..., precision = 60)

## S3 method for class 'function'
limit_rate(f, ..., precision = 60)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="limit_rate_+3A_f">f</code></td>
<td>
<p>A single function to be rate-limited, or a named list of functions</p>
</td></tr>
<tr><td><code id="limit_rate_+3A_...">...</code></td>
<td>
<p>One or more rates, created using <code><a href="#topic+rate">rate</a></code></p>
</td></tr>
<tr><td><code id="limit_rate_+3A_precision">precision</code></td>
<td>
<p>The precision with which time intervals can be measured, in hertz</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>f</code> is a single function, then a new function with the same
signature and (eventual) behavior as the original function, but rate limited.
If <code>f</code> is a named list of functions, then a new list of functions with the
same names and signatures, but collectively bound by a shared rate limit.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rate">rate</a></code>, <code><a href="#topic+UPDATE_RATE">UPDATE_RATE</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## limiting a single function
f &lt;- limit_rate(Sys.time, rate(n = 5, period = .1))
res &lt;- replicate(10, f())
## show the elapsed time between each function call:
round(res[-1] - head(res, -1), 3)

## for multiple functions, make sure the list is named:
f &lt;- function() 1
g &lt;- function() 2
limited &lt;- limit_rate(list(f = f, g = g), rate(n = 1, period = .1))
system.time({limited$f(); limited$g()})

</code></pre>

<hr>
<h2 id='rate'>Create a new rate</h2><span id='topic+rate'></span>

<h3>Description</h3>

<p>Create a new rate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rate(n, period)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rate_+3A_n">n</code></td>
<td>
<p>Number of allowed events within a period</p>
</td></tr>
<tr><td><code id="rate_+3A_period">period</code></td>
<td>
<p>Length (in seconds) of measurement period</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+limit_rate">limit_rate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## a function
f &lt;- function() NULL

## limit f to 10 calls per second
limited_f &lt;- limit_rate(f, rate(n = 10, period = 1))

</code></pre>

<hr>
<h2 id='reset'>Re-create a rate-limited function</h2><span id='topic+reset'></span>

<h3>Description</h3>

<p>This function does not modify the original rate-limited function, instead
it returns a new function with the same rate limits (but no memory of prior
function calls).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reset(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reset_+3A_f">f</code></td>
<td>
<p>A rate-limited function or group of functions</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- function() NULL
f_lim &lt;- limit_rate(f, rate(n = 1, period = .1))
f_lim() ## the next call to f_lim will trigger the rate limit

f_lim2 &lt;- reset(f_lim) ## but f_lim2 has a fresh start

## f_lim2 behaves as though no calls have been made
system.time(f_lim2())

## while f_lim is still constrained
system.time(f_lim())

</code></pre>

<hr>
<h2 id='UPDATE_RATE'>Update the rate limit of an existing rate limited function</h2><span id='topic+UPDATE_RATE'></span>

<h3>Description</h3>

<p><code>UPDATE_RATE</code> modifies an existing rate-limited function in place,
changing the rate limits without otherwise altering the function's behavior.
When a rate limited function has its rate limits updated, the previous rate
limits and any calls that would have counted against those rate limits are
immediately forgotten, and only the new rate limits are obeyed going forward.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>UPDATE_RATE(lf, ..., precision = 60)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="UPDATE_RATE_+3A_lf">lf</code></td>
<td>
<p>A rate-limited function or group of functions</p>
</td></tr>
<tr><td><code id="UPDATE_RATE_+3A_...">...</code></td>
<td>
<p>One or more rates, created using <code><a href="#topic+rate">rate</a></code></p>
</td></tr>
<tr><td><code id="UPDATE_RATE_+3A_precision">precision</code></td>
<td>
<p>The precision with which time intervals can be measured, in hertz</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- function() NULL
f_lim &lt;- limit_rate(f, rate(n = 1, period = .1))

# update the rate limits to 2 calls per .1 second
UPDATE_RATE(f_lim, rate(n = 2, period = .1))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

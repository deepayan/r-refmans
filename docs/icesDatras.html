<!DOCTYPE html><html><head><title>Help for package icesDatras</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {icesDatras}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#checkSurveyOK'><p>Check that a survey name is in the database</p></a></li>
<li><a href='#checkSurveyYearOK'><p>Check that a survey and year combination is in the database</p></a></li>
<li><a href='#checkSurveyYearQuarterOK'><p>Check that a survey, year and quarter combination is in the database</p></a></li>
<li><a href='#getCAdata'><p>Get Age-Based Data</p></a></li>
<li><a href='#getCatchWgt'><p>Get Catch Weights</p></a></li>
<li><a href='#getCPUEAge'><p>Get CPUE per Age per Haul per Hour for a given Survey, year and Quarter</p></a></li>
<li><a href='#getCPUELength'><p>Get CPUE per Length per Haul per Hour for a given Survey, year and Quarter</p></a></li>
<li><a href='#getDATRAS'><p>Get Any DATRAS Data</p></a></li>
<li><a href='#getDatrasDataOverview'><p>Summarize Data Availability</p></a></li>
<li><a href='#getFlexFile'><p>Get Flex File</p></a></li>
<li><a href='#getHHdata'><p>Get Haul Data</p></a></li>
<li><a href='#getHLdata'><p>Get Length-Based Data</p></a></li>
<li><a href='#getIndices'><p>Get Survey Indices</p></a></li>
<li><a href='#getLTassessment'><p>Get Litter assessment output</p></a></li>
<li><a href='#getSurveyList'><p>Get a List of All Surveys</p></a></li>
<li><a href='#getSurveyYearList'><p>Get a List of Survey Years</p></a></li>
<li><a href='#getSurveyYearQuarterList'><p>Get a List of Quarters</p></a></li>
<li><a href='#icesDatras-package'><p>DATRAS Trawl Survey Database Web Services</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.4.1</td>
</tr>
<tr>
<td>Title:</td>
<td>DATRAS Trawl Survey Database Web Services</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>icesVocab</td>
</tr>
<tr>
<td>Description:</td>
<td>R interface to access the web services of the ICES (International
             Council for the Exploration of the Sea) DATRAS trawl survey
             database <a href="https://datras.ices.dk/WebServices/Webservices.aspx">https://datras.ices.dk/WebServices/Webservices.aspx</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://datras.ices.dk/WebServices/Webservices.aspx">https://datras.ices.dk/WebServices/Webservices.aspx</a>,
<a href="https://github.com/ices-tools-prod/icesDatras">https://github.com/ices-tools-prod/icesDatras</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ices-tools-prod/icesDatras/issues">https://github.com/ices-tools-prod/icesDatras/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-08 09:23:53 UTC; colin</td>
</tr>
<tr>
<td>Author:</td>
<td>Colin Millar [aut, cre],
  Cecilia Kvaavik [aut],
  Adriana Villamor [aut],
  Scott Large [aut],
  Arni Magnusson [aut],
  Vaishav Soni [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Colin Millar &lt;colin.millar@ices.dk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-08 09:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='checkSurveyOK'>Check that a survey name is in the database</h2><span id='topic+checkSurveyOK'></span>

<h3>Description</h3>

<p>Checks a survey name against a list of all survey names in the DATRAS database.
If the name is not matched it puts up a message showing the available survey names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkSurveyOK(survey)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkSurveyOK_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+checkSurveyYearOK">checkSurveyYearOK</a></code> and <code><a href="#topic+getSurveyYearQuarterList">getSurveyYearQuarterList</a></code>
also perform checks against the DATRAS database.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
checkSurveyOK(survey = "ROCKALL")
checkSurveyOK(survey = "NOTALL")

## End(Not run)
</code></pre>

<hr>
<h2 id='checkSurveyYearOK'>Check that a survey and year combination is in the database</h2><span id='topic+checkSurveyYearOK'></span>

<h3>Description</h3>

<p>Checks a year and/or survey name against a list of all survey year combinations in the DATRAS database.
If the combination is not matched it puts up a message showing the available options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkSurveyYearOK(survey, year, checksurvey = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkSurveyYearOK_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="checkSurveyYearOK_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="checkSurveyYearOK_+3A_checksurvey">checksurvey</code></td>
<td>
<p>logical, should the survey name also be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+checkSurveyOK">checkSurveyOK</a></code> and <code><a href="#topic+checkSurveyYearQuarterOK">checkSurveyYearQuarterOK</a></code>
also perform checks against the DATRAS database.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
checkSurveyYearOK(survey = "ROCKALL", 2015)
checkSurveyYearOK(survey = "ROCKALL", 2000)
checkSurveyYearOK(survey = "NOTALL", 2000)

## End(Not run)
</code></pre>

<hr>
<h2 id='checkSurveyYearQuarterOK'>Check that a survey, year and quarter combination is in the database</h2><span id='topic+checkSurveyYearQuarterOK'></span>

<h3>Description</h3>

<p>Checks a quarter and/or year and/or survey name against a list of all survey year quarter
combinations in the DATRAS database.
If the combination is not matched it puts up a message showing the available options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkSurveyYearQuarterOK(
  survey,
  year,
  quarter,
  checksurvey = TRUE,
  checkyear = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkSurveyYearQuarterOK_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="checkSurveyYearQuarterOK_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="checkSurveyYearQuarterOK_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of the year the survey took place, i.e. 1, 2, 3 or 4.</p>
</td></tr>
<tr><td><code id="checkSurveyYearQuarterOK_+3A_checksurvey">checksurvey</code></td>
<td>
<p>logical, should the survey name also be checked.</p>
</td></tr>
<tr><td><code id="checkSurveyYearQuarterOK_+3A_checkyear">checkyear</code></td>
<td>
<p>logical, should the year also be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+checkSurveyOK">checkSurveyOK</a></code> and <code><a href="#topic+checkSurveyYearOK">checkSurveyYearOK</a></code>
also perform checks against the DATRAS database.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
checkSurveyYearQuarterOK(survey = "ROCKALL", 2015, 3)
checkSurveyYearQuarterOK(survey = "ROCKALL", 2015, 1)
checkSurveyYearQuarterOK(survey = "ROCKALL", 2000, 1)
checkSurveyYearQuarterOK(survey = "NOTALL", 2000, 1)

# be careful of unexpected results with checksurvey and checkyear!
checkSurveyYearQuarterOK(survey = "NOTALL", 2000, 1, checksurvey=FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='getCAdata'>Get Age-Based Data</h2><span id='topic+getCAdata'></span>

<h3>Description</h3>

<p>Get age-based data such as sex, maturity, and age counts per length of sampled species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCAdata(survey, year, quarter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCAdata_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getCAdata_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getCAdata_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of the year the survey took place, i.e. 1, 2, 3 or 4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Colin Millar.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDATRAS">getDATRAS</a></code> supports querying many years and quarters in one function call.
</p>
<p><code><a href="#topic+getHHdata">getHHdata</a></code> and <code><a href="#topic+getHLdata">getHLdata</a></code> get haul data and
length-based data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cadata &lt;- getCAdata(survey = "ROCKALL", year = 2002, quarter = 3)
str(cadata)

## End(Not run)
</code></pre>

<hr>
<h2 id='getCatchWgt'>Get Catch Weights</h2><span id='topic+getCatchWgt'></span>

<h3>Description</h3>

<p>Calculate the total reported catch weight by species and haul.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCatchWgt(survey, years, quarters, aphia)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCatchWgt_+3A_survey">survey</code></td>
<td>
<p>the survey acronym e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getCatchWgt_+3A_years">years</code></td>
<td>
<p>a vector of years of the survey, e.g. c(2010, 2012) or 2005:2010.</p>
</td></tr>
<tr><td><code id="getCatchWgt_+3A_quarters">quarters</code></td>
<td>
<p>a vector of quarters of the year the survey took place, e.g. c(1, 4) or 1:4.</p>
</td></tr>
<tr><td><code id="getCatchWgt_+3A_aphia">aphia</code></td>
<td>
<p>a vector of Aphia species codes defined in the WoRMS database, e.g. c(126436, 1264374).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Note</h3>

<p>The <span class="pkg">icesVocab</span> package provides <code>findAphia</code>, a function to look up Aphia species codes.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSurveyYearList">getSurveyYearList</a></code>, <code><a href="#topic+getSurveyYearQuarterList">getSurveyYearQuarterList</a></code>, and
<code><a href="#topic+getDatrasDataOverview">getDatrasDataOverview</a></code> also list available data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getCatchWgt(survey = "ROCKALL", years = 2002, quarters = 3, aphia = 126437)

# look up specific species
aphia &lt;- icesVocab::findAphia(c("cod", "haddock"))
cwt &lt;- getCatchWgt(survey = "ROCKALL", years = 2002, quarters = 3, aphia = aphia)

## End(Not run)
</code></pre>

<hr>
<h2 id='getCPUEAge'>Get CPUE per Age per Haul per Hour for a given Survey, year and Quarter</h2><span id='topic+getCPUEAge'></span>

<h3>Description</h3>

<p>Get CPUE per Age per Haul per Hour for a given Survey, year and Quarter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCPUEAge(survey, year, quarter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCPUEAge_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getCPUEAge_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getCPUEAge_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of interest, e.g. 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Adriana Villamor.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getHHdata">getHHdata</a></code> and <code><a href="#topic+getCAdata">getCAdata</a></code> get haul data and
age-based data., and
<code><a href="#topic+getIndices">getIndices</a></code>, and
<code><a href="#topic+getCPUELength">getCPUELength</a></code>.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getCPUEperAge(survey = "NS-IBTS", year = 2018, quarter = 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='getCPUELength'>Get CPUE per Length per Haul per Hour for a given Survey, year and Quarter</h2><span id='topic+getCPUELength'></span>

<h3>Description</h3>

<p>Get CPUE per Length per Haul per Hour for a given Survey, year and Quarter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCPUELength(survey, year, quarter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCPUELength_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getCPUELength_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getCPUELength_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of interest, e.g. 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Adriana Villamor.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getHHdata">getHHdata</a></code> and <code><a href="#topic+getCAdata">getCAdata</a></code> get haul data and
age-based data., and
<code><a href="#topic+getIndices">getIndices</a></code>, and
<code><a href="#topic+getCPUEAge">getCPUEAge</a></code>.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getCPUELength(survey = "NS-IBTS", year = 2018, quarter = 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='getDATRAS'>Get Any DATRAS Data</h2><span id='topic+getDATRAS'></span>

<h3>Description</h3>

<p>This function combines the functionality of getHHdata, getHLdata, and getCAdata.
It supports querying many years and quarters in one function call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDATRAS(record = "HH", survey, years, quarters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDATRAS_+3A_record">record</code></td>
<td>
<p>the data type required: &quot;HH&quot; haul data, &quot;HL&quot; length-based data, &quot;CA&quot; age-based data.</p>
</td></tr>
<tr><td><code id="getDATRAS_+3A_survey">survey</code></td>
<td>
<p>the survey acronym e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getDATRAS_+3A_years">years</code></td>
<td>
<p>a vector of years of the survey, e.g. c(2010, 2012) or 2005:2010.</p>
</td></tr>
<tr><td><code id="getDATRAS_+3A_quarters">quarters</code></td>
<td>
<p>a vector of quarters of the year the survey took place, i.e. c(1, 4) or 1:4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Scott Large and Colin Millar.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getHHdata">getHHdata</a></code>, <code><a href="#topic+getHLdata">getHLdata</a></code>, and <code><a href="#topic+getCAdata">getCAdata</a></code>
get haul data, length-based data, and age-based data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hhdata &lt;- getDATRAS(record = "HH", survey = "ROCKALL", years = 2002, quarters = 3)
hldata &lt;- getDATRAS(record = "HL", survey = "ROCKALL", years = 2002, quarters = 3)
cadata &lt;- getDATRAS(record = "CA", survey = "ROCKALL", years = 2002, quarters = 3)

## End(Not run)
</code></pre>

<hr>
<h2 id='getDatrasDataOverview'>Summarize Data Availability</h2><span id='topic+getDatrasDataOverview'></span>

<h3>Description</h3>

<p>Evaluate a presence-absence table for each survey with '1' where there is data and '0' (printed as '.') otherwise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDatrasDataOverview(surveys = NULL, long = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDatrasDataOverview_+3A_surveys">surveys</code></td>
<td>
<p>a vector of survey names, or <code>NULL</code> to process all surveys.</p>
</td></tr>
<tr><td><code id="getDatrasDataOverview_+3A_long">long</code></td>
<td>
<p>whether tables should have year as row names (default) or column names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tables.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSurveyList">getSurveyList</a></code>, <code><a href="#topic+getSurveyYearList">getSurveyYearList</a></code>, and
<code><a href="#topic+getSurveyYearQuarterList">getSurveyYearQuarterList</a></code> also list available data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getDatrasDataOverview(surveys = "ROCKALL", long = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='getFlexFile'>Get Flex File</h2><span id='topic+getFlexFile'></span>

<h3>Description</h3>

<p>Get all information in HH plus estimates of Door Spread, Wing Spread and
Swept Area per square km. Only available for NS-IBTS survey.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFlexFile(survey, year, quarter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFlexFile_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getFlexFile_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getFlexFile_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of the year the survey took place, i.e. 1, 2, 3 or 4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Adriana Villamor.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDATRAS">getDATRAS</a></code> supports querying many years and quarters in one function call.
</p>
<p><code><a href="#topic+getHHdata">getHHdata</a></code> get haul data
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
flex &lt;- getFlexFile(survey = "NS-IBTS", year = 2020, quarter = 1)
str(flex)

# error checking examples:
flex &lt;- getFlexFile(survey = "NS_IBTS", year = 2016, quarter = 1)
flex &lt;- getFlexFile(survey = "NS-IBTS", year = 2030, quarter = 1)
flex &lt;- getFlexFile(survey = "NS-IBTS", year = 2016, quarter = 6)

## End(Not run)
</code></pre>

<hr>
<h2 id='getHHdata'>Get Haul Data</h2><span id='topic+getHHdata'></span>

<h3>Description</h3>

<p>Get haul data such as position, depth, sampling method, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getHHdata(survey, year, quarter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getHHdata_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getHHdata_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getHHdata_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of the year the survey took place, i.e. 1, 2, 3 or 4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Colin Millar.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDATRAS">getDATRAS</a></code> supports querying many years and quarters in one function call.
</p>
<p><code><a href="#topic+getHLdata">getHLdata</a></code> and <code><a href="#topic+getCAdata">getCAdata</a></code> get length-based data and
age-based data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hhdata &lt;- getHHdata(survey = "ROCKALL", year = 2002, quarter = 3)
str(hhdata)

# error checking examples:
hhdata &lt;- getHHdata(survey = "NS_IBTS", year = 2016, quarter = 1)
hhdata &lt;- getHHdata(survey = "NS-IBTS", year = 2030, quarter = 1)
hhdata &lt;- getHHdata(survey = "NS-IBTS", year = 2016, quarter = 6)

## End(Not run)
</code></pre>

<hr>
<h2 id='getHLdata'>Get Length-Based Data</h2><span id='topic+getHLdata'></span>

<h3>Description</h3>

<p>Get length-based information such as measured length, individual counts,
and sub-factors of sampled species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getHLdata(survey, year, quarter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getHLdata_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getHLdata_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getHLdata_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of the year the survey took place, i.e. 1, 2, 3 or 4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDATRAS">getDATRAS</a></code> supports querying many years and quarters in one function call.
</p>
<p><code><a href="#topic+getHHdata">getHHdata</a></code> and <code><a href="#topic+getCAdata">getCAdata</a></code> get haul data and
age-based data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hldata &lt;- getHLdata(survey = "ROCKALL", year = 2002, quarter = 3)
str(hldata)

## End(Not run)
</code></pre>

<hr>
<h2 id='getIndices'>Get Survey Indices</h2><span id='topic+getIndices'></span>

<h3>Description</h3>

<p>Get age based indices of abundance by species, survey and year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getIndices(survey, year, quarter, species)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getIndices_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getIndices_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getIndices_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of the year the survey took place, i.e. 1, 2, 3 or 4.</p>
</td></tr>
<tr><td><code id="getIndices_+3A_species">species</code></td>
<td>
<p>the aphia species code for the species of interest.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Note</h3>

<p>The <span class="pkg">icesAdvice</span> package provides <code>findAphia</code>, a function to look up Aphia species codes.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDATRAS">getDATRAS</a></code> supports querying many years and quarters in one function call.
</p>
<p><code><a href="#topic+getHHdata">getHHdata</a></code> and <code><a href="#topic+getCAdata">getCAdata</a></code> get haul data and
age-based data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
haddock_aphia &lt;- icesVocab::findAphia("haddock")
index &lt;- getIndices(survey = "NS-IBTS", year = 2002, quarter = 3, species = haddock_aphia)
str(index)

## End(Not run)
</code></pre>

<hr>
<h2 id='getLTassessment'>Get Litter assessment output</h2><span id='topic+getLTassessment'></span>

<h3>Description</h3>

<p>Get Litter assessment output by survey, year and quarter. The raw data are also
included in this file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLTassessment(survey, year, quarter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getLTassessment_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getLTassessment_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
<tr><td><code id="getLTassessment_+3A_quarter">quarter</code></td>
<td>
<p>the quarter of the year the survey took place, i.e. 1, 2, 3 or 4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Note</h3>

<p>The <span class="pkg">icesAdvice</span> package provides <code>findAphia</code>, a function to look up Aphia species codes.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDATRAS">getDATRAS</a></code> supports querying many years and quarters in one function call.
</p>
<p><code><a href="#topic+getHHdata">getHHdata</a></code> and <code><a href="#topic+getCAdata">getCAdata</a></code> get haul data and
age-based data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
index &lt;- getLTassessment(survey = "NS-IBTS", year = 2002, quarter = 3)
str(index)

## End(Not run)
</code></pre>

<hr>
<h2 id='getSurveyList'>Get a List of All Surveys</h2><span id='topic+getSurveyList'></span>

<h3>Description</h3>

<p>Get a list of all survey acronyms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSurveyList()
</code></pre>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Author(s)</h3>

<p>Colin Millar.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSurveyYearList">getSurveyYearList</a></code>, <code><a href="#topic+getSurveyYearQuarterList">getSurveyYearQuarterList</a></code>, and
<code><a href="#topic+getDatrasDataOverview">getDatrasDataOverview</a></code> also list available data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSurveyList()

## End(Not run)
</code></pre>

<hr>
<h2 id='getSurveyYearList'>Get a List of Survey Years</h2><span id='topic+getSurveyYearList'></span>

<h3>Description</h3>

<p>Get a list of all data years for a given survey.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSurveyYearList(survey)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSurveyYearList_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector.
</p>


<h3>Author(s)</h3>

<p>Colin Millar.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSurveyList">getSurveyList</a></code>, <code><a href="#topic+getSurveyYearQuarterList">getSurveyYearQuarterList</a></code>, and
<code><a href="#topic+getDatrasDataOverview">getDatrasDataOverview</a></code> also list available data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSurveyYearList(survey = "ROCKALL")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSurveyYearQuarterList'>Get a List of Quarters</h2><span id='topic+getSurveyYearQuarterList'></span>

<h3>Description</h3>

<p>Get a list of quarters available for a given survey and year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSurveyYearQuarterList(survey, year)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSurveyYearQuarterList_+3A_survey">survey</code></td>
<td>
<p>the survey acronym, e.g. NS-IBTS.</p>
</td></tr>
<tr><td><code id="getSurveyYearQuarterList_+3A_year">year</code></td>
<td>
<p>the year of the survey, e.g. 2010.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector.
</p>


<h3>Author(s)</h3>

<p>Colin Millar.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSurveyYearList">getSurveyYearList</a></code>, <code><a href="#topic+getSurveyYearQuarterList">getSurveyYearQuarterList</a></code>, and
<code><a href="#topic+getDatrasDataOverview">getDatrasDataOverview</a></code> also list available data.
</p>
<p><code><a href="#topic+icesDatras-package">icesDatras-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSurveyYearQuarterList(survey = "ROCKALL", year = 2002)

## End(Not run)
</code></pre>

<hr>
<h2 id='icesDatras-package'>DATRAS Trawl Survey Database Web Services</h2><span id='topic+icesDatras-package'></span><span id='topic+icesDatras'></span>

<h3>Description</h3>

<p>R interface to access the web services of the ICES DATRAS trawl survey
database.
</p>


<h3>Details</h3>

<p><em>Exchange data:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getHHdata">getHHdata</a></code> </td><td style="text-align: left;"> haul data</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getHLdata">getHLdata</a></code> </td><td style="text-align: left;"> length-based data</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getCAdata">getCAdata</a></code> </td><td style="text-align: left;"> age-based data</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getDATRAS">getDATRAS</a></code> </td><td style="text-align: left;"> exchange data
</td>
</tr>

</table>

<p><em>Catch weights:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getCatchWgt">getCatchWgt</a></code> </td><td style="text-align: left;"> catch weights
</td>
</tr>

</table>

<p><em>Survey indices:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getIndices">getIndices</a></code> </td><td style="text-align: left;"> survey indices
</td>
</tr>

</table>

<p><em>Overview of available data:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getSurveyList">getSurveyList</a></code>            </td><td style="text-align: left;"> surveys</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getSurveyYearList">getSurveyYearList</a></code>        </td><td style="text-align: left;"> years</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getSurveyYearQuarterList">getSurveyYearQuarterList</a></code> </td><td style="text-align: left;"> quarters</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+getDatrasDataOverview">getDatrasDataOverview</a></code>    </td><td style="text-align: left;"> surveys, years, and quarters
</td>
</tr>

</table>

<p><em>Basic queries (thin web service wrappers):</em><br />
<code>getCAdata</code>,
<code>getHHdata</code>,
<code>getHLdata</code>,
<code>getIndices</code>,
<code>getSurveyList</code>,
<code>getSurveyYearList</code>,
<code>getSurveyYearQuarterList</code>
</p>
<p><em>Derived queries (combining web services with R computations):</em><br />
<code>getCatchWgt</code>,
<code>getDatrasDataOverview</code>,
<code>getDATRAS</code>
</p>


<h3>Author(s)</h3>

<p>Colin Millar, Scott Large, and Arni Magnusson.
</p>


<h3>References</h3>

<p>ICES DATRAS database: <a href="http://datras.ices.dk">http://datras.ices.dk</a>.
</p>
<p>ICES DATRAS web services:
<a href="https://datras.ices.dk/WebServices/Webservices.aspx">https://datras.ices.dk/WebServices/Webservices.aspx</a>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

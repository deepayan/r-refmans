<!DOCTYPE html><html><head><title>Help for package JFE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {JFE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ActivePremium'><p>Active Premium or Active Return</p></a></li>
<li><a href='#AdjustedSharpeRatio'><p>Adjusted Sharpe ratio of the return distribution</p></a></li>
<li><a href='#AppraisalRatio'><p>Appraisal ratio of the return distribution</p></a></li>
<li><a href='#BernardoLedoitRatio'><p>Bernardo and Ledoit ratio of the return distribution</p></a></li>
<li><a href='#BurkeRatio'><p>Burke ratio of the return distribution</p></a></li>
<li><a href='#CalmarRatio'><p>calculate a Calmar or Sterling reward/risk ratio</p>
</p>
<p>Calmar and Sterling Ratios are yet another method of creating a</p>
risk-adjusted measure for ranking investments similar to the
<code>SharpeRatio</code>.</a></li>
<li><a href='#CAPM.jensenAlpha'><p>Jensen's alpha of the return distribution</p></a></li>
<li><a href='#data-sets'><p>Data Sets</p></a></li>
<li><a href='#DownsideDeviation'><p>downside risk (deviation, variance) of the return distribution</p></a></li>
<li><a href='#DRatio'><p>d ratio of the return distribution</p></a></li>
<li><a href='#DrawdownPeak'><p>Drawdawn peak of the return distribution</p></a></li>
<li><a href='#durbinH'><p>calculate Sortino Ratio of performance over downside risk</p></a></li>
<li><a href='#getBIS'><p>Download time series data from Bank of International Settlement</p></a></li>
<li><a href='#getFed'><p>Download financial and economic time series data from the Fed</p></a></li>
<li><a href='#getFrench.Factors'><p>Download seven asset pricing factors data from the data library of Dr. French</p></a></li>
<li><a href='#getFrench.Portfolios'><p>Download 24 asset pricing factors data from the data library of Dr. French</p></a></li>
<li><a href='#InformationRatio'><p>InformationRatio = ActivePremium/TrackingError</p></a></li>
<li><a href='#KellyRatio'><p>calculate Kelly criterion ratio (leverage or bet size) for a strategy</p></a></li>
<li><a href='#M2Sortino'><p>M squared for Sortino of the return distribution</p></a></li>
<li><a href='#MartinRatio'><p>Martin ratio of the return distribution</p></a></li>
<li><a href='#maxDrawdown'><p>caclulate the maximum drawdown from peak equity</p></a></li>
<li><a href='#MeanAbsoluteDeviation'><p>Mean absolute deviation of the return distribution</p></a></li>
<li><a href='#OmegaSharpeRatio'><p>Omega-Sharpe ratio of the return distribution</p></a></li>
<li><a href='#PainIndex'><p>Pain index of the return distribution</p></a></li>
<li><a href='#PainRatio'><p>Pain ratio of the return distribution</p></a></li>
<li><a href='#ProspectRatio'><p>Prospect ratio of the return distribution</p></a></li>
<li><a href='#Return.annualized'><p>calculate an annualized return for comparing instruments with different</p>
length history</a></li>
<li><a href='#SharpeRatio'><p>calculate a traditional or modified Sharpe Ratio of Return over StdDev or</p>
VaR or ES</a></li>
<li><a href='#SharpeRatio.annualized'><p>calculate annualized Sharpe Ratio</p></a></li>
<li><a href='#SkewnessKurtosisRatio'><p>Skewness-Kurtosis ratio of the return distribution</p></a></li>
<li><a href='#SortinoRatio'><p>calculate Sortino Ratio of performance over downside risk</p></a></li>
<li><a href='#table.AnnualizedReturns'><p>Annualized Returns Summary: Statistics and Stylized Facts</p></a></li>
<li><a href='#TrackingError'><p>Calculate Tracking Error of returns against a benchmark</p></a></li>
<li><a href='#TreynorRatio'><p>calculate Treynor Ratio or modified Treynor Ratio of excess return over CAPM beta</p></a></li>
<li><a href='#UlcerIndex'><p>calculate the Ulcer Index</p></a></li>
<li><a href='#VolatilitySkewness'><p>Volatility and variability of the return distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tools for Analyzing Time Series Data of Just Finance and
Econometrics</td>
</tr>
<tr>
<td>Version:</td>
<td>2.5.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-11</td>
</tr>
<tr>
<td>Author:</td>
<td>Ho Tsung-wu</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Offers procedures to support financial-economic time series modelling and enhanced procedures for computing the investment performance indices of Bacon (2004) &lt;<a href="https://doi.org/10.1002%2F9781119206309">doi:10.1002/9781119206309</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), xts</td>
</tr>
<tr>
<td>Suggests:</td>
<td>car, dynlm, openxlsx, timeDate, timeSeries, zoo</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-11 08:41:10 UTC; badal</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-11 08:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ActivePremium'>Active Premium or Active Return</h2><span id='topic+ActivePremium'></span>

<h3>Description</h3>

<p>The return on an investment's annualized return minus the benchmark's
annualized return.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ActivePremium(Ra, Rb, scale = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ActivePremium_+3A_ra">Ra</code></td>
<td>
<p>return vector of the portfolio</p>
</td></tr>
<tr><td><code id="ActivePremium_+3A_rb">Rb</code></td>
<td>
<p>return vector of the benchmark asset</p>
</td></tr>
<tr><td><code id="ActivePremium_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year
(daily scale = 252, monthly scale = 12, quarterly scale = 4)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Active Premium = Investment's annualized return - Benchmark's annualized
return.
With a view to speeding computation. I re-write the code of some ratios of the package PerformanceAnalytics,  and use the same name for comparing the performance enhancing. Interested readers may compare speed improvement with the use of system.time().
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Sharpe, W.F. The Sharpe Ratio,<em>Journal of Portfolio Management</em>, Fall 1994, 49-58.<br />
See aslo package <code>PerformanceAnalytics</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Return.annualized">Return.annualized</a></code>, <br />
<code><a href="#topic+InformationRatio">InformationRatio</a></code>, <br />
<code><a href="#topic+TrackingError">TrackingError</a></code>, <br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	assetReturns=assetReturns["2015::2018"] #short sample for fast example
#	Ra=assetReturns[, -29]
#	Rb=assetReturns[,29] #DJI
#  ActivePremium(Ra, Rb)

</code></pre>

<hr>
<h2 id='AdjustedSharpeRatio'>Adjusted Sharpe ratio of the return distribution</h2><span id='topic+AdjustedSharpeRatio'></span>

<h3>Description</h3>

<p>Adjusted Sharpe ratio was introduced by Pezier and White (2006) to adjusts
for skewness and kurtosis by incorporating a penalty factor for negative skewness
and excess kurtosis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AdjustedSharpeRatio(R, Rf = 0, FUN = "StdDev")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AdjustedSharpeRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="AdjustedSharpeRatio_+3A_rf">Rf</code></td>
<td>
<p>the risk free rate</p>
</td></tr>
<tr><td><code id="AdjustedSharpeRatio_+3A_fun">FUN</code></td>
<td>
<p>one of &quot;StdDev&quot; or &quot;VaR&quot; or &quot;ES&quot; to use as the denominator for unadjusted Sharpe ratio, default=&quot;StdDev&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">Adjusted Sharpe Ratio = SR * [1 + (\frac{S}{6}) * SR - (\frac{K - 3}{24}) * SR^2]</code>
</p>

<p>where <code class="reqn">SR</code> is the sharpe ratio with data annualized, <code class="reqn">S</code> is the skewness and <code class="reqn">K</code> is the kurtosis
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.99.<br />
</p>
<p>Pezier, Jaques and White, Anthony. 2006. The Relative Merits of Investable
Hedge Fund Indices and of Funds of Hedge Funds in Optimal Passive Portfolios.
Check <a href="https://econpapers.repec.org/paper/rdgicmadp/icma-dp2006-10.htm">https://econpapers.repec.org/paper/rdgicmadp/icma-dp2006-10.htm</a> <br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    data(assetReturns)

AdjustedSharpeRatio(assetReturns)

</code></pre>

<hr>
<h2 id='AppraisalRatio'>Appraisal ratio of the return distribution</h2><span id='topic+AppraisalRatio'></span>

<h3>Description</h3>

<p>Appraisal ratio is the Jensen's alpha adjusted for specific risk. The numerator
is divided by specific risk instead of total risk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AppraisalRatio(Ra, Rb, Rf = 0, method = c("appraisal", "modified",
  "alternative"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AppraisalRatio_+3A_ra">Ra</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="AppraisalRatio_+3A_rb">Rb</code></td>
<td>
<p>return vector of the benchmark asset</p>
</td></tr>
<tr><td><code id="AppraisalRatio_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
<tr><td><code id="AppraisalRatio_+3A_method">method</code></td>
<td>
<p>is one of &quot;appraisal&quot; to calculate appraisal ratio, &quot;modified&quot; to
calculate modified Jensen's alpha or &quot;alternative&quot; to calculate alternative
Jensen's alpha.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Modified Jensen's alpha is Jensen's alpha divided by beta.
</p>
<p>Alternative Jensen's alpha is Jensen's alpha divided by systematic risk.
</p>
<p style="text-align: center;"><code class="reqn">Appraisal ratio = \frac{\alpha}{\sigma_{\epsilon}}</code>
</p>

<p style="text-align: center;"><code class="reqn">Modified Jensen's alpha = \frac{\alpha}{\beta}</code>
</p>

<p style="text-align: center;"><code class="reqn">Alternative Jensen's alpha = \frac{\alpha}{\sigma_S}</code>
</p>

<p>where <code class="reqn">alpha</code> is the Jensen's alpha, <code class="reqn">\sigma_{epsilon}</code> is the specific risk,
<code class="reqn">\sigma_S</code> is the systematic risk.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.77.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
    data(assetReturns)
	Ra=assetReturns[, -29]
	Rb=assetReturns[,29] #DJI
AppraisalRatio(Ra, Rb, method="appraisal")

</code></pre>

<hr>
<h2 id='BernardoLedoitRatio'>Bernardo and Ledoit ratio of the return distribution</h2><span id='topic+BernardoLedoitRatio'></span>

<h3>Description</h3>

<p>To calculate Bernardo and Ledoit ratio we take the sum of the subset of
returns that are above 0 and we divide it by the opposite of the sum of
the subset of returns that are below 0
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BernardoLedoitRatio(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BernardoLedoitRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">BernardoLedoitRatio(R) = \frac{\frac{1}{n}\sum^{n}_{t=1}{max(R_{t},0)}}{\frac{1}{n}\sum^{n}_{t=1}{max(-R_{t},0)}}</code>
</p>

<p>where <code class="reqn">n</code> is the number of observations of the entire series
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.95.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    data(assetReturns)
BernardoLedoitRatio(R=assetReturns)



</code></pre>

<hr>
<h2 id='BurkeRatio'>Burke ratio of the return distribution</h2><span id='topic+BurkeRatio'></span>

<h3>Description</h3>

<p>To calculate Burke ratio we take the difference between the portfolio
return and the risk free rate and we divide it by the square root of the
sum of the square of the drawdowns. To calculate the modified Burke ratio
we just multiply the Burke ratio by the square root of the number of datas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BurkeRatio(R, Rf = 0, modified = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BurkeRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="BurkeRatio_+3A_rf">Rf</code></td>
<td>
<p>the risk free rate</p>
</td></tr>
<tr><td><code id="BurkeRatio_+3A_modified">modified</code></td>
<td>
<p>a boolean to decide which ratio to calculate between Burke ratio and modified Burke ratio.</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">Burke Ratio = \frac{r_P - r_F}{\sqrt{\sum^{d}_{t=1}{D_t}^2}}</code>
</p>

<p style="text-align: center;"><code class="reqn">Modified Burke Ratio = \frac{r_P - r_F}{\sqrt{\sum^{d}_{t=1}\frac{{D_t}^2}{n}}}</code>
</p>

<p>where <code class="reqn">n</code> is the number of observations of the entire series, <code class="reqn">d</code> is number of drawdowns, <code class="reqn">r_P</code> is the portfolio return, <code class="reqn">r_F</code> is the risk free rate and <code class="reqn">D_t</code> the <code class="reqn">t^{th}</code> drawdown.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.90-91.<br />
See aslo package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	assetReturns=assetReturns["2011::2018"] #short sample for fast example
  BurkeRatio(assetReturns,Rf=0)

</code></pre>

<hr>
<h2 id='CalmarRatio'>calculate a Calmar or Sterling reward/risk ratio
Calmar and Sterling Ratios are yet another method of creating a
risk-adjusted measure for ranking investments similar to the
<code><a href="#topic+SharpeRatio">SharpeRatio</a></code>.</h2><span id='topic+CalmarRatio'></span><span id='topic+SterlingRatio'></span>

<h3>Description</h3>

<p>Both the Calmar and the Sterling ratio are the ratio of annualized return
over the absolute value of the maximum drawdown of an investment. The
Sterling ratio adds an excess risk measure to the maximum drawdown,
traditionally and defaulting to 10%.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CalmarRatio(R, scale = NA)

SterlingRatio(R, scale = NA, excess = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CalmarRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="CalmarRatio_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year (daily scale = 252, monthly scale =
12, quarterly scale = 4)</p>
</td></tr>
<tr><td><code id="CalmarRatio_+3A_excess">excess</code></td>
<td>
<p>for Sterling Ratio, excess amount to add to the max drawdown,
traditionally and default .1 (10%)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is also traditional to use a three year return series for these
calculations, although the functions included here make no effort to
determine the length of your series.  If you want to use a subset of your
series, you'll need to truncate or subset the input data to the desired
length.
</p>
<p>Many other measures have been proposed to do similar reward to risk ranking.
It is the opinion of this author that newer measures such as Sortino's
<code><a href="#topic+SharpeRatio">SharpeRatio</a></code> are both &ldquo;better&rdquo; measures, and
should be preferred to the Calmar or Sterling Ratio.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Bacon, Carl. <em>Practical Portfolio Performance Measurement
and Attribution</em>. Wiley. 2004.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Return.annualized">Return.annualized</a></code>, <br />
<code><a href="#topic+maxDrawdown">maxDrawdown</a></code>, <br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]

#    SterlingRatio(R)

</code></pre>

<hr>
<h2 id='CAPM.jensenAlpha'>Jensen's alpha of the return distribution</h2><span id='topic+CAPM.jensenAlpha'></span>

<h3>Description</h3>

<p>The Jensen's alpha is the intercept of the regression equation in the Capital
Asset Pricing Model and is in effect the exess return adjusted for systematic risk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CAPM.jensenAlpha(Ra, Rb, Rf = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CAPM.jensenAlpha_+3A_ra">Ra</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="CAPM.jensenAlpha_+3A_rb">Rb</code></td>
<td>
<p>return vector of the benchmark asset</p>
</td></tr>
<tr><td><code id="CAPM.jensenAlpha_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">\alpha = r_p - r_f - \beta_p * (b - r_f)</code>
</p>

<p>where <code class="reqn">r_f</code> is the risk free rate, <code class="reqn">\beta_r</code> is the regression beta,
<code class="reqn">r_p</code> is the portfolio return and b is the benchmark return
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.72<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	assetReturns=assetReturns["2011::2018"] #short sample for fast example
	Ra=assetReturns[, -29]
	Rb=assetReturns[,29] #DJI

CAPM.jensenAlpha(Ra, Rb)

</code></pre>

<hr>
<h2 id='data-sets'>Data Sets</h2><span id='topic+dataSets'></span><span id='topic+assetReturns'></span><span id='topic+macrodata'></span>

<h3>Description</h3>

<p>assetReturns contains DJ component stocks returns data. macrodata contains US unemployment(unrate) and year-to-year changes in three regional business cycle indices (OECD, NAFTA, and G7).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(assetReturns)
data(macrodata)
</code></pre>


<h3>Value</h3>

<p>assetReturns is a time series object of package <code>xts</code>.
macrodata is macroeconomic time series data.
</p>

<hr>
<h2 id='DownsideDeviation'>downside risk (deviation, variance) of the return distribution</h2><span id='topic+DownsideDeviation'></span>

<h3>Description</h3>

<p>Downside deviation, semideviation, and semivariance are measures of downside
risk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DownsideDeviation(R, MAR = 0, method = c("full", "subset"),potential = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DownsideDeviation_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="DownsideDeviation_+3A_mar">MAR</code></td>
<td>
<p>Minimum Acceptable Return, in the same periodicity as your
returns</p>
</td></tr>
<tr><td><code id="DownsideDeviation_+3A_method">method</code></td>
<td>
<p>one of &quot;full&quot; or &quot;subset&quot;, indicating whether to use the
length of the full series or the length of the subset of the series below
the MAR as the denominator, defaults to &quot;full&quot;</p>
</td></tr>
<tr><td><code id="DownsideDeviation_+3A_potential">potential</code></td>
<td>
<p>if TRUE, calculate downside potential instead, default
FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Downside deviation, similar to semi deviation, eliminates positive returns
when calculating risk.  Instead of using the mean return or zero, it uses
the Minimum Acceptable Return as proposed by Sharpe (which may be the mean
historical return or zero). It measures the variability of underperformance
below a minimum targer rate. The downside variance is the square of the downside
potential.
</p>
<p>To calculate it, we take the subset of returns that are less than the target
(or Minimum Acceptable Returns (MAR)) returns and take the differences of
those to the target.  We sum the squares and divide by the total number of
returns to get a below-target semi-variance.
</p>
<p style="text-align: center;"><code class="reqn">DownsideDeviation(R , MAR) = \delta_{MAR} = \sqrt{\sum^{n}_{t=1}\frac{min[(R_{t} - MAR), 0]^2}{n}}</code>
</p>

<p style="text-align: center;"><code class="reqn"> DownsideVariance(R, MAR) = \sum^{n}_{t=1}\frac{min[(R_{t} - MAR), 0]^2}{n}</code>
</p>

<p style="text-align: center;"><code class="reqn">DownsidePotential(R, MAR) = \sum^{n}_{t=1}\frac{min[(R_{t} - MAR), 0]} {n}</code>
</p>

<p>where <code class="reqn">n</code> is either the number of observations of the entire series or
the number of observations in the subset of the series falling below the
MAR.
</p>
<p>SemiDeviation or SemiVariance is a popular alternative downside risk measure
that may be used in place of standard deviation or variance. SemiDeviation
and SemiVariance are implemented as a wrapper of DownsideDeviation with
MAR=mean(R).
</p>
<p>In many functions like Markowitz optimization, semideviation may be
substituted directly, and the covariance matrix may be constructed from
semideviation or the vector of returns below the mean rather than from
variance or the full vector of returns.
</p>
<p>In semideviation, by convention, the value of <code class="reqn">n</code> is set to the full
number of observations. In semivariance the the value of <code class="reqn">n</code> is set to
the subset of returns below the mean.  It should be noted that while this is
the correct mathematical definition of semivariance, this result doesn't
make any sense if you are also going to be using the time series of returns
below the mean or below a MAR to construct a semi-covariance matrix for
portfolio optimization.
</p>
<p>Sortino recommends calculating downside deviation utilizing a continuous
fitted distribution rather than the discrete distribution of observations.
This would have significant utility, especially in cases of a small number
of observations. He recommends using a lognormal distribution, or a fitted
distribution based on a relevant style index, to construct the returns below
the MAR to increase the confidence in the final result.  Hopefully, in the
future, we'll add a fitted option to this function, and would be happy to
accept a contribution of this nature.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Sortino, F. and Price, L. Performance Measurement in a Downside
Risk Framework. <em>Journal of Investing</em>. Fall 1994, 59-65. <br />
Carl Bacon, <em>Practical portfolio performance measurement and attribution</em>,
second edition 2008
</p>
<p>Plantinga, A., van der Meer, R. and Sortino, F. The Impact of Downside Risk
on Risk-Adjusted Performance of Mutual Funds in the Euronext Markets. July
19, 2001. Available at SSRN:<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=277352">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=277352</a> <br />
see especially end note 10 <a href="https://en.wikipedia.org/wiki/Semivariance">https://en.wikipedia.org/wiki/Semivariance</a>. <br />
</p>
<p>See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	assetReturns=assetReturns["2011::2018"] #short sample for fast example
	R=assetReturns[, -29]
  DownsideDeviation(R, MAR = 0)



</code></pre>

<hr>
<h2 id='DRatio'>d ratio of the return distribution</h2><span id='topic+DRatio'></span>

<h3>Description</h3>

<p>The d ratio is similar to the Bernado Ledoit ratio but inverted and
taking into account the frequency of positive and negative returns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DRatio(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It has values between zero and infinity. It can be used to rank the
performance of portfolios. The lower the d ratio the better the
performance, a value of zero indicating there are no returns less than
zero and a value of infinity indicating there are no returns greater than zero.
</p>
<p style="text-align: center;"><code class="reqn">DRatio(R) = \frac{n_{d}*\sum^{n}_{t=1}{max(-R_{t},0)}}{n_{u}*\sum^{n}_{t=1}
{max(R_{t},0)}}</code>
</p>

<p>where <code class="reqn">n</code> is the number of observations of the entire series,
<code class="reqn">n_{d}</code> is the number of observations less than zero,
<code class="reqn">n_{u}</code> is the number of observations greater than zero
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.95<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	R=assetReturns[, -29]

  DRatio(R)



</code></pre>

<hr>
<h2 id='DrawdownPeak'>Drawdawn peak of the return distribution</h2><span id='topic+DrawdownPeak'></span>

<h3>Description</h3>

<p>Drawdawn peak is for each return its drawdown since the previous peak
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DrawdownPeak(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DrawdownPeak_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	R=assetReturns[, -29]
# Not run
# DrawdownPeak(R)


</code></pre>

<hr>
<h2 id='durbinH'>calculate Sortino Ratio of performance over downside risk</h2><span id='topic+durbinH'></span>

<h3>Description</h3>

<p>durbinH test the serial correlation of a dynamic regression, namely, a time
series regression with AR(1) terms. It modifies Durbin-Watson statictic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>durbinH(model,Ly.label="ar1")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="durbinH_+3A_model">model</code></td>
<td>
<p>Estimation result object by, for example, dynlm or arima</p>
</td></tr>
<tr><td><code id="durbinH_+3A_ly.label">Ly.label</code></td>
<td>
<p>Label of AR(1) dependent variable</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(macrodata)
  y=ts(macrodata[,"OECD"],start=c(1961,1),freq=12) #OECD business cycle index

 out1=dynlm::dynlm(y~L(y,1)+season(y)+trend(y))
 durbinH(out1,Ly.label="L(y, 1)")

</code></pre>

<hr>
<h2 id='getBIS'>Download time series data from Bank of International Settlement</h2><span id='topic+getBIS'></span>

<h3>Description</h3>

<p>It downloads effective exchange rates from Bank of International Settlement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBIS(sheet="Real", type="broad")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getBIS_+3A_sheet">sheet</code></td>
<td>

<p>The name of spreedsheet of effective exchange rates (EER)of BIS, it has two options: &quot;Real&quot; and &quot;Nominal&quot;, the default is &quot;Real&quot; for REER.
</p>
</td></tr>
<tr><td><code id="getBIS_+3A_type">type</code></td>
<td>
<p>The type of EER, it has two types: &quot;broad&quot; and &quot;narrow&quot;. The default is &quot;broad&quot;.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function connects with &lt;&quot;https://www.bis.org/statistics/eer/&quot;&gt; and downloads the specified data. The rownames of downloaded data embeds the timestamp already, which can be directly transformed into time series via, as.timeSeries.
</p>


<h3>Value</h3>

<table>
<tr><td><code>data</code></td>
<td>
<p>The data object.</p>
</td></tr>
<tr><td><code>country.info</code></td>
<td>
<p>The country information with abbreviated symbol.</p>
</td></tr>
<tr><td><code>data.info</code></td>
<td>
<p>The information about effective exchange rates.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#To save time, the example below is commented.
#output=getBIS(sheet=c("Nominal","Real")[1], type=c("broad","narrow")[1])
#output$data
#output$data.info
#output$country.info

</code></pre>

<hr>
<h2 id='getFed'>Download financial and economic time series data from the Fed</h2><span id='topic+getFed'></span>

<h3>Description</h3>

<p>It downloads financial and economic time series data from the Fed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFed(var.name="UNRATE", from="1900-01-01",end=Sys.Date(), do.plot=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFed_+3A_var.name">var.name</code></td>
<td>

<p>The name of variable as used by &lt;&quot;https://fred.stlouisfed.org&quot;&gt;. For example, &quot;UNRATE&quot; denotes unemployment rate, &quot;CPIAUCSL&quot; is monthly consumer price index, &quot;GDP&quot; is Gross domestic product, and &quot;ICSA&quot; is the initial claim seasonally adjusted. User please check with the web for symbol.
</p>
</td></tr>
<tr><td><code id="getFed_+3A_from">from</code></td>
<td>
<p>The starting date, the default is 1900-01-01 to ensure the very beginning.
</p>
</td></tr>
<tr><td><code id="getFed_+3A_end">end</code></td>
<td>
<p>The ending date of data retrieved, the default is Sys.Date().</p>
</td></tr>
<tr><td><code id="getFed_+3A_do.plot">do.plot</code></td>
<td>
<p>Whether to plot the retrieved data, the default is TRUE. Please set this value to be FALSE to avoid too many plotting, if you want to loop more downloads. It applies functionseriesPlot() from package fBasics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function connects with &lt;&quot;https://fred.stlouisfed.org&quot;&gt; and downloads the specified market data. The rownames of downloaded data is embedded by the timestamp already.
</p>


<h3>Value</h3>

<table>
<tr><td><code>data</code></td>
<td>
<p>The data retrieved.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#To save time, the example below is commented.
#getFed(var.name="UNRATE")$data

</code></pre>

<hr>
<h2 id='getFrench.Factors'>Download seven asset pricing factors data from the data library of Dr. French</h2><span id='topic+getFrench.Factors'></span>

<h3>Description</h3>

<p>It downloads seven factors data used for asset pricing analysis from the data library of Dr. Kenneth R. French at Dartmouth College.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>#To save time, the example below is commented.
#getFrench.Factors(filename="F-F_Research_Data_5_Factors_2x3")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFrench.Factors_+3A_filename">filename</code></td>
<td>

<p>The name of data file as listed in &lt;&quot;http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html&quot;&gt;, which is an important database for asset pricing literature, this function supports seven factor files: <br />
&quot;F-F_Research_Data_Factors&quot;,# Fama/French 3 Factors  <br />
&quot;F-F_Research_Data_5_Factors_2x3&quot;,# Fama/French 5 Factors <br />
&quot;F-F_Momentum_Factor&quot;, # Fama/French Momentum Factors <br />
&quot;F-F_Momentum_Factor_daily&quot;, # Fama/French Momentum Factors(daily) <br />
&quot;F-F_Research_Data_Factors_weekly&quot;,# Fama/French 3 Factors(weekly) <br />
&quot;F-F_Research_Data_Factors_daily&quot;, # Fama/French 3 Factors(daily) <br />
&quot;F-F_Research_Data_5_Factors_2x3_daily&quot; # Fama/French 5 Factors (daily)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function connects with &lt;&quot;http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html&quot;&gt; and downloads the specified factors data. Sometimes, the datafile contains multiple data tables, hence the code returns a list.
</p>


<h3>Value</h3>

<table>
<tr><td><code>ff.factor</code></td>
<td>
<p>The data retrieved and arranged.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
getFrench.Factors(filename="F-F_Research_Data_Factors")


</code></pre>

<hr>
<h2 id='getFrench.Portfolios'>Download 24 asset pricing factors data from the data library of Dr. French</h2><span id='topic+getFrench.Portfolios'></span>

<h3>Description</h3>

<p>It downloads 24 factors data used for asset pricing analysis from the data library of Dr. Kenneth R. French at Dartmouth College.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFrench.Portfolios(filename="Portfolios_Formed_on_ME")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFrench.Portfolios_+3A_filename">filename</code></td>
<td>

<p>The name of portfolio data file as listed in (http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html), the default is &quot;Portfolios_Formed_on_ME&quot;. So far, this function supports retrieving 24 portfolio data files: <br />
&quot;Portfolios_Formed_on_ME&quot;,#Portfolios Formed on Size<br />
&quot;Portfolios_Formed_on_BE-ME&quot;,#On Book-to-Market<br />
&quot;Portfolios_Formed_on_OP&quot;, #On Operating Profitability<br />
&quot;Portfolios_Formed_on_INV&quot;,#On Investment<br />
&quot;6_Portfolios_2x3&quot;,        #6 Ports on Size and Book-to-Market<br />
&quot;25_Portfolios_5x5&quot;,       #25 Ports on Size and Book-to-Market<br />
&quot;100_Portfolios_10x10&quot;,    #100 Ports on Size and Book-to-Market<br />
&quot;6_Portfolios_ME_INV_2x3&quot;, #6 Ports on Size and Investment<br />
&quot;25_Portfolios_ME_INV_5x5&quot;,#25 Ports on Size and Investment<br />
&quot;100_Portfolios_ME_INV_10x10&quot;,#100 Ports on Size and Investment<br />
&quot;25_Portfolios_BEME_OP_5x5&quot;,#25 Ports on Book-to-Market and Operating Profitability<br />
&quot;25_Portfolios_BEME_INV_5x5&quot;,#25 Ports on Book-to-Market and Investment<br />
&quot;25_Portfolios_OP_INV_5x5&quot;,#25 Ports on Operating Profitability and Investment<br />
&quot;32_Portfolios_ME_BEME_OP_2x4x4&quot;,#32 Ports on Size,Book-to-Market and Operating Profitability<br />
&quot;32_Portfolios_ME_BEME_INV_2x4x4&quot;,#32 Ports on Size,Book-to-Market and Investment<br />
&quot;32_Portfolios_ME_OP_INV_2x4x4&quot;,#32 Ports on Size,Operating Profitability and Investment<br />
&quot;5_Industry_Portfolios&quot;, # Industry Portfolios by c(5,10,12,17,30,38,48,49)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function connects with &lt;&quot;http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html&quot;&gt; and downloads the specified portfolio data constructed by factors. Currently, we support on retriving and arranging 24 portfolio datasets. Sometimes, the datafile contains multiple data tables, hence the code returns a list. Since the csv spreedsheet on the web is not structured data table, it does not only contain irregular headings, but also 7, or more, data tablesr; and the trivial portfolio data tables labelled by &quot;Portfolio Formed by ...&quot; are omitted. Check the &quot;table.names&quot; of output object.
</p>


<h3>Value</h3>

<table>
<tr><td><code>data</code></td>
<td>
<p>The data retrieved and arranged.</p>
</td></tr>
<tr><td><code>table.names</code></td>
<td>
<p>The names of data table.</p>
</td></tr>
<tr><td><code>file.name</code></td>
<td>
<p>The file name of portfolio data.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#To save time, the example below is commented.
#output=getFrench.Portfolios(filename="5_Industry_Portfolios")
#output$file.name
#dim(output$data[[1]])
#output$data
#output$table.names

</code></pre>

<hr>
<h2 id='InformationRatio'>InformationRatio = ActivePremium/TrackingError</h2><span id='topic+InformationRatio'></span>

<h3>Description</h3>

<p>The Active Premium divided by the Tracking Error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>InformationRatio(Ra, Rb, scale = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="InformationRatio_+3A_ra">Ra</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="InformationRatio_+3A_rb">Rb</code></td>
<td>
<p>return vector of the benchmark asset</p>
</td></tr>
<tr><td><code id="InformationRatio_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year (daily scale = 252, monthly scale =
12, quarterly scale = 4)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>InformationRatio = ActivePremium/TrackingError
</p>
<p>This relates the degree to which an investment has beaten the benchmark to
the consistency with which the investment has beaten the benchmark.
</p>


<h3>Note</h3>

<p>William Sharpe now recommends <code>InformationRatio</code> preferentially
to the original <code><a href="#topic+SharpeRatio">SharpeRatio</a></code>.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Sharpe, W.F. The Sharpe Ratio,<em>Journal of Portfolio
Management</em>,Fall 1994, 49-58.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+TrackingError">TrackingError</a></code> <br /> <code><a href="#topic+ActivePremium">ActivePremium</a></code> <br />
<code><a href="#topic+SharpeRatio">SharpeRatio</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	Ra=assetReturns[, -29]
	Rb=assetReturns[,29] #DJI

  InformationRatio(Ra, Rb)

</code></pre>

<hr>
<h2 id='KellyRatio'>calculate Kelly criterion ratio (leverage or bet size) for a strategy</h2><span id='topic+KellyRatio'></span>

<h3>Description</h3>

<p>Kelly criterion ratio (leverage or bet size) for a strategy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>KellyRatio(R, Rf = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="KellyRatio_+3A_r">R</code></td>
<td>
<p>a vector of returns to perform a mean over</p>
</td></tr>
<tr><td><code id="KellyRatio_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Kelly Criterion was identified by Bell Labs scientist John Kelly, and
applied to blackjack and stock strategy sizing by Ed Thorpe.
</p>
<p>The Kelly ratio can be simply stated as: &ldquo;bet size is the ratio of
edge over odds.&rdquo; Mathematically, you are maximizing log-utility.  As such,
the Kelly criterion is equal to the expected excess return of the strategy
divided by the expected variance of the excess return, or
</p>
<p style="text-align: center;"><code class="reqn">leverage=\frac{(\overline{R}_{s}-R_{f})}{StdDev(R)^{2}}</code>
</p>

<p>As a performance metric, the Kelly Ratio is calculated retrospectively on a
particular investment as a measure of the edge that investment has over the
risk free rate.  It may be use as a stack ranking method to compare
investments in a manner similar to the various ratios related to the Sharpe
ratio.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Thorp, Edward O. (1997; revised 1998). The Kelly Criterion in
Blackjack, Sports Betting, and the Stock Market. <br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]

  KellyRatio(R, Rf=0)

</code></pre>

<hr>
<h2 id='M2Sortino'>M squared for Sortino of the return distribution</h2><span id='topic+M2Sortino'></span>

<h3>Description</h3>

<p>M squared for Sortino is a M^2 calculated for Downside risk instead of Total Risk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>M2Sortino(Ra, Rb, MAR = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="M2Sortino_+3A_ra">Ra</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset return</p>
</td></tr>
<tr><td><code id="M2Sortino_+3A_rb">Rb</code></td>
<td>
<p>return vector of the benchmark asset</p>
</td></tr>
<tr><td><code id="M2Sortino_+3A_mar">MAR</code></td>
<td>
<p>the minimum acceptable return</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">M^2_S = r_P + Sortino ratio * (\sigma_{DM} - \sigma_D)</code>
</p>

<p>where <code class="reqn">M^2_S</code> is MSquared for Sortino, <code class="reqn">r_P</code> is the annualised portfolio return,
<code class="reqn">\sigma_{DM}</code> is the benchmark annualised downside risk and <code class="reqn">D</code> is the portfolio
annualised downside risk
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.102-103<br />
See aslo package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	Ra=assetReturns[, -29]
	Rb=assetReturns[,29] #DJI

M2Sortino(Ra, Rb, MAR=0)

</code></pre>

<hr>
<h2 id='MartinRatio'>Martin ratio of the return distribution</h2><span id='topic+MartinRatio'></span>

<h3>Description</h3>

<p>To calculate Martin ratio we divide the difference of the portfolio return
and the risk free rate by the Ulcer index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MartinRatio(R, Rf = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MartinRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="MartinRatio_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">Martin ratio = \frac{r_P - r_F}{\sqrt{\sum^{n}_{i=1} \frac{{D'_i}^2}{n}}}</code>
</p>

<p>where <code class="reqn">r_P</code> is the annualized portfolio return, <code class="reqn">r_F</code> is the risk free
rate, <code class="reqn">n</code> is the number of observations of the entire series, <code class="reqn">D'_i</code> is
the drawdown since previous peak in period i
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.91<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	R=assetReturns[, -29]

# Not run
# MartinRatio(R)

</code></pre>

<hr>
<h2 id='maxDrawdown'>caclulate the maximum drawdown from peak equity</h2><span id='topic+maxDrawdown'></span>

<h3>Description</h3>

<p>To find the maximum drawdown in a return series, we need to first calculate
the cumulative returns and the maximum cumulative return to that point.  Any
time the cumulative returns dips below the maximum cumulative returns, it's
a drawdown.  Drawdowns are measured as a percentage of that maximum
cumulative return, in effect, measured from peak equity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxDrawdown(R, geometric = TRUE, invert = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="maxDrawdown_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="maxDrawdown_+3A_geometric">geometric</code></td>
<td>
<p>utilize geometric chaining (TRUE) or simple/arithmetic chaining (FALSE) to aggregate returns,
default TRUE</p>
</td></tr>
<tr><td><code id="maxDrawdown_+3A_invert">invert</code></td>
<td>
<p>TRUE/FALSE whether to invert the drawdown measure.  see
Details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The option to <code>invert</code> the measure should appease both academics and
practitioners. The default option <code>invert=TRUE</code> will provide the
drawdown as a positive number.  This should be useful for optimization
(which usually seeks to minimize a value), and for tables (where having
negative signs in front of every number may be considered clutter).
Practitioners will argue that drawdowns denote losses, and should be
internally consistent with the quantile (a negative number), for which
<code>invert=FALSE</code> will provide the value they expect.  Individually,
different preferences may apply for clarity and compactness.  As such, we
provide the option, but make no value judgment on which approach is
preferable.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Bacon, C. <em>Practical Portfolio Performance Measurement and
Attribution</em>. Wiley. 2004. p. 88 <br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]

  maxDrawdown(R)

</code></pre>

<hr>
<h2 id='MeanAbsoluteDeviation'>Mean absolute deviation of the return distribution</h2><span id='topic+MeanAbsoluteDeviation'></span>

<h3>Description</h3>

<p>To calculate Mean absolute deviation we take the sum of the absolute value of the difference between the returns and the mean of the returns and we divide it by the number of returns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MeanAbsoluteDeviation(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MeanAbsoluteDeviation_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">MeanAbsoluteDeviation = \frac{\sum^{n}_{i=1}\mid r_i - \overline{r}\mid}{n}</code>
</p>

<p>where <code class="reqn">n</code> is the number of observations of the entire series, <code class="reqn">r_i</code> is the
return in month i and <code class="reqn">\overline{r}</code> is the mean return
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.62.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	assetReturns=assetReturns["2011::2018"] #short sample for fast example
	R=assetReturns[, -29]

MeanAbsoluteDeviation(R)

</code></pre>

<hr>
<h2 id='OmegaSharpeRatio'>Omega-Sharpe ratio of the return distribution</h2><span id='topic+OmegaSharpeRatio'></span>

<h3>Description</h3>

<p>The Omega-Sharpe ratio is a conversion of the omega ratio to a ranking statistic
in familiar form to the Sharpe ratio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OmegaSharpeRatio(R, MAR = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OmegaSharpeRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="OmegaSharpeRatio_+3A_mar">MAR</code></td>
<td>
<p>Minimum Acceptable Return, in the same periodicity as your
returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To calculate the Omega-Sharpe ration we subtract the target (or Minimum
Acceptable Returns (MAR)) return from the portfolio return and we divide
it by the opposite of the Downside Deviation.
</p>
<p style="text-align: center;"><code class="reqn">OmegaSharpeRatio(R,MAR) = \frac{r_p - r_t}{\sum^n_{t=1}\frac{max(r_t - r_i, 0)}{n}}</code>
</p>

<p>where <code class="reqn">n</code> is the number of observations of the entire series
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008, p.95<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]
  OmegaSharpeRatio(R)

</code></pre>

<hr>
<h2 id='PainIndex'>Pain index of the return distribution</h2><span id='topic+PainIndex'></span>

<h3>Description</h3>

<p>The pain index is the mean value of the drawdowns over the entire
analysis period. The measure is similar to the Ulcer index except that
the drawdowns are not squared.  Also, it's different than the average
drawdown, in that the numerator is the total number of observations
rather than the number of drawdowns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PainIndex(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PainIndex_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Visually, the pain index is the area of the region that is enclosed by
the horizontal line at zero percent and the drawdown line in the
Drawdown chart.
</p>
<p style="text-align: center;"><code class="reqn">Pain index = \sum^{n}_{i=1} \frac{\mid D'_i \mid}{n}</code>
</p>

<p>where <code class="reqn">n</code> is the number of observations of the entire series, <code class="reqn">D'_i</code> is
the drawdown since previous peak in period i
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.89, Becker, Thomas (2006) Zephyr Associates<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	R=assetReturns[, -29]
# Not run
# PainIndex(R)

</code></pre>

<hr>
<h2 id='PainRatio'>Pain ratio of the return distribution</h2><span id='topic+PainRatio'></span>

<h3>Description</h3>

<p>To calculate Pain ratio we divide the difference of the portfolio return
and the risk free rate by the Pain index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PainRatio(R, Rf = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PainRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="PainRatio_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">Pain ratio = \frac{r_P - r_F}{\sum^{n}_{i=1} \frac{\mid D'_i \mid}{n}}</code>
</p>

<p>where <code class="reqn">r_P</code> is the annualized portfolio return, <code class="reqn">r_F</code> is the risk free
rate, <code class="reqn">n</code> is the number of observations of the entire series, <code class="reqn">D'_i</code> is
the drawdown since previous peak in period i
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.91<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	assetReturns=assetReturns["2011::2018"] #short sample for fast example
	R=assetReturns[, -29]
  PainRatio(R)

</code></pre>

<hr>
<h2 id='ProspectRatio'>Prospect ratio of the return distribution</h2><span id='topic+ProspectRatio'></span>

<h3>Description</h3>

<p>Prospect ratio is a ratio used to penalise loss since most people feel loss
greater than gain
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ProspectRatio(R, MAR)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ProspectRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="ProspectRatio_+3A_mar">MAR</code></td>
<td>
<p>the minimum acceptable return</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">ProspectRatio(R) = \frac{\frac{1}{n}*\sum^{n}_{i=1}(Max(r_i,0)+2.25*Min(r_i,0) - MAR)}{\sigma_D}</code>
</p>

<p>where <code class="reqn">n</code> is the number of observations of the entire series, MAR is the minimum acceptable return and <code class="reqn">\sigma_D</code> is the downside risk
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.100<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	R=assetReturns[, -29]

  ProspectRatio(R, MAR=0)

</code></pre>

<hr>
<h2 id='Return.annualized'>calculate an annualized return for comparing instruments with different
length history</h2><span id='topic+Return.annualized'></span>

<h3>Description</h3>

<p>An average annualized return is convenient for comparing returns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Return.annualized(R, scale = NA, geometric = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Return.annualized_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="Return.annualized_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year (daily scale = 252, monthly scale =
12, quarterly scale = 4)</p>
</td></tr>
<tr><td><code id="Return.annualized_+3A_geometric">geometric</code></td>
<td>
<p>utilize geometric chaining (TRUE) or simple/arithmetic chaining (FALSE) to aggregate returns, default TRUE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Annualized returns are useful for comparing two assets.  To do so, you must
scale your observations to an annual scale by raising the compound return to
the number of periods in a year, and taking the root to the number of total
observations:
</p>
<p style="text-align: center;"><code class="reqn">prod(1+R_{a})^{\frac{scale}{n}}-1=\sqrt[n]{prod(1+R_{a})^{scale}}-1</code>
</p>

<p>where scale is the number of periods in a year, and n is the total number of
periods for which you have observations.
</p>
<p>For simple returns (geometric=FALSE), the formula is:
</p>
<p style="text-align: center;"><code class="reqn">\overline{R_{a}} \cdot scale</code>
</p>



<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Bacon, Carl. <em>Practical Portfolio Performance Measurement
and Attribution</em>. Wiley. 2004. p. 6<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]

  Return.annualized(R)

</code></pre>

<hr>
<h2 id='SharpeRatio'>calculate a traditional or modified Sharpe Ratio of Return over StdDev or
VaR or ES</h2><span id='topic+SharpeRatio'></span>

<h3>Description</h3>

<p>The Sharpe ratio is simply the return per unit of risk (represented by
variability).  In the classic case, the unit of risk is the standard
deviation of the returns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SharpeRatio(R, Rf = 0, alpha = 0.05, FUN="StdDev",annualize=FALSE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SharpeRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="SharpeRatio_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
<tr><td><code id="SharpeRatio_+3A_alpha">alpha</code></td>
<td>
<p>Tail probability for VaR or ES, default alpha=.05</p>
</td></tr>
<tr><td><code id="SharpeRatio_+3A_fun">FUN</code></td>
<td>
<p>one of &quot;StdDev&quot; or &quot;VaR&quot; or &quot;ES&quot; to use as the denominator</p>
</td></tr>
<tr><td><code id="SharpeRatio_+3A_annualize">annualize</code></td>
<td>
<p>if TRUE, annualize the measure, default FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">\frac{\overline{(R_{a}-R_{f})}}{\sqrt{\sigma_{(R_{a}-R_{f})}}}</code>
</p>

<p>William Sharpe now recommends <code><a href="#topic+InformationRatio">InformationRatio</a></code> preferentially
to the original Sharpe Ratio.
</p>
<p>The higher the Sharpe ratio, the better the combined performance of &quot;risk&quot;
and return.
</p>
<p>As noted, the traditional Sharpe Ratio is a risk-adjusted measure of return
that uses standard deviation to represent risk.
</p>
<p>A number of papers now recommend using a &quot;modified Sharpe&quot; ratio using a
Modified Cornish-Fisher VaR or CVaR/Expected Shortfall as the measure of
Risk.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Sharpe, W.F. The Sharpe Ratio,<em>Journal of Portfolio
Management</em>,Fall 1994, 49-58.<br />
</p>
<p>Laurent Favre and Jose-Antonio Galeano. Mean-Modified Value-at-Risk
Optimization with Hedge Funds. Journal of Alternative Investment, Fall 2002,
v 5.<br />
See also package PerformanceAnalytics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SharpeRatio.annualized">SharpeRatio.annualized</a></code> <br />
<code><a href="#topic+InformationRatio">InformationRatio</a></code> <br /> <code><a href="#topic+TrackingError">TrackingError</a></code> <br />
<code><a href="#topic+ActivePremium">ActivePremium</a></code> <br /> <code><a href="#topic+SortinoRatio">SortinoRatio</a></code> <br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]

SharpeRatio(R)

</code></pre>

<hr>
<h2 id='SharpeRatio.annualized'>calculate annualized Sharpe Ratio</h2><span id='topic+SharpeRatio.annualized'></span>

<h3>Description</h3>

<p>The Sharpe Ratio is a risk-adjusted measure of return that uses standard
deviation to represent risk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SharpeRatio.annualized(R, Rf = 0, alpha=0.05,scale = NA, geometric = TRUE, FUN = "StdDev")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SharpeRatio.annualized_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="SharpeRatio.annualized_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
<tr><td><code id="SharpeRatio.annualized_+3A_alpha">alpha</code></td>
<td>
<p>Tail probability for VaR or ES, default alpha=.05</p>
</td></tr>
<tr><td><code id="SharpeRatio.annualized_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year (daily scale = 252, monthly scale =
12, quarterly scale = 4)</p>
</td></tr>
<tr><td><code id="SharpeRatio.annualized_+3A_geometric">geometric</code></td>
<td>
<p>utilize geometric chaining (TRUE) or simple/arithmetic chaining (FALSE) to aggregate returns,default TRUE</p>
</td></tr>
<tr><td><code id="SharpeRatio.annualized_+3A_fun">FUN</code></td>
<td>
<p>one of &quot;StdDev&quot; or &quot;VaR&quot; or &quot;ES&quot; to use as the denominator, default=&quot;StdDev&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Sharpe ratio is simply the return per unit of risk (represented by
variance).  The higher the Sharpe ratio, the better the combined performance
of &quot;risk&quot; and return.
</p>
<p>This function annualizes the number based on the scale parameter.
</p>
<p style="text-align: center;"><code class="reqn">\frac{\sqrt[n]{prod(1+R_{a})^{scale}}-1}{\sqrt{scale}\cdot\sqrt{\sigma}}</code>
</p>

<p>Using an annualized Sharpe Ratio is useful for comparison of multiple return
streams.  The annualized Sharpe ratio is computed by dividing the annualized
mean monthly excess return by the annualized monthly standard deviation of
excess return.
</p>
<p>William Sharpe now recommends Information Ratio preferentially to the
original Sharpe Ratio.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Sharpe, W.F. The Sharpe Ratio,<em>Journal of Portfolio
Management</em>,Fall 1994, 49-58.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SharpeRatio">SharpeRatio</a></code> <br /> <code><a href="#topic+InformationRatio">InformationRatio</a></code> <br />
<code><a href="#topic+TrackingError">TrackingError</a></code> <br /> <code><a href="#topic+ActivePremium">ActivePremium</a></code> <br />
<code><a href="#topic+SortinoRatio">SortinoRatio</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]
  SharpeRatio.annualized(R)

</code></pre>

<hr>
<h2 id='SkewnessKurtosisRatio'>Skewness-Kurtosis ratio of the return distribution</h2><span id='topic+SkewnessKurtosisRatio'></span>

<h3>Description</h3>

<p>Skewness-Kurtosis ratio is the division of Skewness by Kurtosis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SkewnessKurtosisRatio(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SkewnessKurtosisRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is used in conjunction with the Sharpe ratio to rank portfolios.
The higher the rate the better.
</p>
<p style="text-align: center;"><code class="reqn"> SkewnessKurtosisRatio(R , MAR) = \frac{S}{K}</code>
</p>

<p>where <code class="reqn">S</code> is the skewness and <code class="reqn">K</code> is the Kurtosis
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.100<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]
  SkewnessKurtosisRatio(R)

</code></pre>

<hr>
<h2 id='SortinoRatio'>calculate Sortino Ratio of performance over downside risk</h2><span id='topic+SortinoRatio'></span>

<h3>Description</h3>

<p>Sortino proposed an improvement on the Sharpe Ratio to better account for
skill and excess performance by using only downside semivariance as the
measure of risk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SortinoRatio(R, MAR = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SortinoRatio_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="SortinoRatio_+3A_mar">MAR</code></td>
<td>
<p>Minimum Acceptable Return, in the same periodicity as your
returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sortino contends that risk should be measured in terms of not meeting the
investment goal.  This gives rise to the notion of &ldquo;Minimum
Acceptable Return&rdquo; or MAR.  All of Sortino's proposed measures include the
MAR, and are more sensitive to downside or extreme risks than measures that
use volatility(standard deviation of returns) as the measure of risk.
</p>
<p>Choosing the MAR carefully is very important, especially when comparing
disparate investment choices.  If the MAR is too low, it will not adequately
capture the risks that concern the investor, and if the MAR is too high, it
will unfavorably portray what may otherwise be a sound investment.  When
comparing multiple investments, some papers recommend using the risk free
rate as the MAR.  Practitioners may wish to choose one MAR for consistency,
several standardized MAR values for reporting a range of scenarios, or a MAR
customized to the objective of the investor.
</p>
<p style="text-align: center;"><code class="reqn"> SortinoRatio=\frac{(\overline{R_{a} - MAR})}{\delta_{MAR}} </code>
</p>
<p> where
<code class="reqn">\delta_{MAR}</code> is the <code><a href="#topic+DownsideDeviation">DownsideDeviation</a></code>.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Sortino, F. and Price, L. Performance Measurement in a Downside
Risk Framework. <em>Journal of Investing</em>. Fall 1994, 59-65.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SharpeRatio">SharpeRatio</a></code> <br /> <code><a href="#topic+DownsideDeviation">DownsideDeviation</a></code> <br />
<code><a href="#topic+InformationRatio">InformationRatio</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]

  SortinoRatio(R)

</code></pre>

<hr>
<h2 id='table.AnnualizedReturns'>Annualized Returns Summary: Statistics and Stylized Facts</h2><span id='topic+table.AnnualizedReturns'></span>

<h3>Description</h3>

<p>Table of Annualized Return, Annualized Std Dev, and Annualized Sharpe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table.AnnualizedReturns(R, scale = NA, Rf = 0, geometric = TRUE,
  digits = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="table.AnnualizedReturns_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="table.AnnualizedReturns_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year (daily scale = 252, monthly scale =
12, quarterly scale = 4)</p>
</td></tr>
<tr><td><code id="table.AnnualizedReturns_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
<tr><td><code id="table.AnnualizedReturns_+3A_geometric">geometric</code></td>
<td>
<p>utilize geometric chaining (TRUE) or simple/arithmetic chaining (FALSE) to aggregate returns,
default TRUE</p>
</td></tr>
<tr><td><code id="table.AnnualizedReturns_+3A_digits">digits</code></td>
<td>
<p>number of digits to round results to</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Return.annualized">Return.annualized</a></code> <br />
<code><a href="#topic+SharpeRatio.annualized">SharpeRatio.annualized</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	Ra=assetReturns[, -29]
  table.AnnualizedReturns(R=Ra)

</code></pre>

<hr>
<h2 id='TrackingError'>Calculate Tracking Error of returns against a benchmark</h2><span id='topic+TrackingError'></span>

<h3>Description</h3>

<p>A measure of the unexplained portion of performance relative to a benchmark.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TrackingError(Ra, Rb, scale = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TrackingError_+3A_ra">Ra</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="TrackingError_+3A_rb">Rb</code></td>
<td>
<p>return vector of the benchmark asset</p>
</td></tr>
<tr><td><code id="TrackingError_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year (daily scale = 252, monthly scale =
12, quarterly scale = 4)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Tracking error is calculated by taking the square root of the average of the
squared deviations between the investment's returns and the benchmark's
returns, then multiplying the result by the square root of the scale of the
returns.
</p>
<p style="text-align: center;"><code class="reqn"> TrackingError =
\sqrt{\sum\frac{(R_{a}-R_{b})^{2}}{len(R_{a})\sqrt{scale}}} </code>
</p>



<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Sharpe, W.F. The Sharpe Ratio,<em>Journal of Portfolio
Management</em>,Fall 1994, 49-58.<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+InformationRatio">InformationRatio</a></code> <code><a href="#topic+TrackingError">TrackingError</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(assetReturns)
	assetReturns=assetReturns["2011::2018"] #short sample for fast example
	Ra=assetReturns[, -29]
	Rb=assetReturns[,29] #DJI

  TrackingError(Ra, Rb)

</code></pre>

<hr>
<h2 id='TreynorRatio'>calculate Treynor Ratio or modified Treynor Ratio of excess return over CAPM beta</h2><span id='topic+TreynorRatio'></span>

<h3>Description</h3>

<p>The Treynor ratio is similar to the Sharpe Ratio, except it uses beta as the
volatility measure (to divide the investment's excess return over the beta).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TreynorRatio(Ra, Rb, Rf = 0, scale = NA, modified = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TreynorRatio_+3A_ra">Ra</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="TreynorRatio_+3A_rb">Rb</code></td>
<td>
<p>return vector of the benchmark asset</p>
</td></tr>
<tr><td><code id="TreynorRatio_+3A_rf">Rf</code></td>
<td>
<p>risk free rate, in same period as your returns</p>
</td></tr>
<tr><td><code id="TreynorRatio_+3A_scale">scale</code></td>
<td>
<p>number of periods in a year (daily scale = 252, monthly scale =
12, quarterly scale = 4)</p>
</td></tr>
<tr><td><code id="TreynorRatio_+3A_modified">modified</code></td>
<td>
<p>a boolean to decide whether to return the Treynor ratio or
Modified Treynor ratio</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To calculate modified Treynor ratio, we divide the numerator by the systematic risk
instead of the beta.
</p>
<p>Equation:
</p>
<p style="text-align: center;"><code class="reqn">TreynorRatio = \frac{\overline{(R_{a}-R_{f})}}{\beta_{a,b}}</code>
</p>

<p style="text-align: center;"><code class="reqn">ModifiedTreynorRatio = \frac{r_p - r_f}{\sigma_s}</code>
</p>



<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/Treynor_ratio">https://en.wikipedia.org/wiki/Treynor_ratio</a>,
Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.77<br />
See also package <code>PerformanceAnalytics</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SharpeRatio">SharpeRatio</a></code> <code><a href="#topic+SortinoRatio">SortinoRatio</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	assetReturns=assetReturns["2011::2018"] #short sample for fast example
	Ra=assetReturns[, -29]
	Rb=assetReturns[,29] #DJI

  TreynorRatio(Ra, Rb)

</code></pre>

<hr>
<h2 id='UlcerIndex'>calculate the Ulcer Index</h2><span id='topic+UlcerIndex'></span>

<h3>Description</h3>

<p>Developed by Peter G. Martin in 1987 (Martin and McCann, 1987) and named
for the worry caused to the portfolio manager or investor.  This is
similar to drawdown deviation except that the impact of the duration of
drawdowns is incorporated by selecting the negative return for each
period below the previous peak or high water mark.  The impact of long,
deep drawdowns will have significant impact because the underperformance
since the last peak is squared.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>UlcerIndex(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="UlcerIndex_+3A_r">R</code></td>
<td>
<p>a vector, matrix, data frame, timeSeries or zoo object of asset
returns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>UI = sqrt(sum[i=1,2,...,n](D'_i^2/n)) where
D'_i = drawdown since previous peak in period i
</p>
<p>DETAILS:
This approach is sensitive to the frequency of the time periods involved
and penalizes managers that take time to recover to previous highs.
</p>
<p>REFERENCES:
Martin, P. and McCann, B. (1989) The investor's Guide to Fidelity Funds:
Winning Strategies for Mutual Fund Investors.  John Wiley &amp; Sons, Inc.
</p>
<p>See also package <code>PerformanceAnalytics</code>.
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]
  maxDrawdown(R)

</code></pre>

<hr>
<h2 id='VolatilitySkewness'>Volatility and variability of the return distribution</h2><span id='topic+VolatilitySkewness'></span>

<h3>Description</h3>

<p>Volatility skewness is a similar measure to omega but using the second
partial moment. It's the ratio of the upside variance compared to the
downside variance. Variability skewness is the ratio of the upside risk
compared to the downside risk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VolatilitySkewness(R, MAR = 0, stat = c("volatility", "variability"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VolatilitySkewness_+3A_r">R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td></tr>
<tr><td><code id="VolatilitySkewness_+3A_mar">MAR</code></td>
<td>
<p>Minimum Acceptable Return, in the same periodicity as your
returns</p>
</td></tr>
<tr><td><code id="VolatilitySkewness_+3A_stat">stat</code></td>
<td>
<p>one of &quot;volatility&quot;, &quot;variability&quot; indicating whether
to return the volatility skewness or the variability skweness</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn"> VolatilitySkewness(R , MAR) = \frac{\sigma_U^2}{\sigma_D^2}</code>
</p>

<p style="text-align: center;"><code class="reqn"> VariabilitySkewness(R , MAR) = \frac{\sigma_U}{\sigma_D}</code>
</p>

<p>where <code class="reqn">\sigma_U</code> is the Upside risk and <code class="reqn">\sigma_D</code> is the Downside Risk
</p>


<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>References</h3>

<p>Carl Bacon, <em>Practical portfolio performance measurement
and attribution</em>, second edition 2008 p.97-98.<br />
See also package PerformanceAnalytics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(assetReturns)
	R=assetReturns[, -29]
  VolatilitySkewness(R, MAR=0, stat="volatility")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

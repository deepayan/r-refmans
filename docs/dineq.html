<!DOCTYPE html><html><head><title>Help for package dineq</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dineq}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dineq_change_rb'><p>Decomposition of the change in inequality</p></a></li>
<li><a href='#dineq_rb'><p>Regression-based decomposition of inequality</p></a></li>
<li><a href='#gini_decomp'><p>Decomposition of the Gini coefficient</p></a></li>
<li><a href='#gini.wtd'><p>Gini coefficient</p></a></li>
<li><a href='#mex_inc_2008'><p>Mexican income data 2008</p></a></li>
<li><a href='#mex_inc_2016'><p>Mexican income data 2016</p></a></li>
<li><a href='#mld_change'><p>Decomposition of the change of the mean log deviation</p></a></li>
<li><a href='#mld_decomp'><p>Decomposition of the mean log deviation</p></a></li>
<li><a href='#mld.wtd'><p>Mean log deviation</p></a></li>
<li><a href='#ntiles.wtd'><p>Weighted tiles</p></a></li>
<li><a href='#polar.wtd'><p>Polarization index</p></a></li>
<li><a href='#rif'><p>Recentered influence function (RIF)</p></a></li>
<li><a href='#rifr'><p>Recentered influence function regression (RIF Regression)</p></a></li>
<li><a href='#rifrSE'><p>Inference of recentered influence function regression (RIF regression)</p></a></li>
<li><a href='#theil.wtd'><p>Theil index</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Decomposition of (Income) Inequality</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-06-19</td>
</tr>
<tr>
<td>Author:</td>
<td>René Schulenberg </td>
</tr>
<tr>
<td>Maintainer:</td>
<td>René Schulenberg &lt;reneschulenberg@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Decomposition of (income) inequality by population sub groups. 
    For a decomposition on a single variable the mean log deviation can be used
      (see Mookherjee Shorrocks (1982) &lt;<a href="https://doi.org/10.2307%2F2232673">doi:10.2307/2232673</a>&gt;).
    For a decomposition on multiple variables a regression based technique can be 
      used (see Fields (2003) &lt;<a href="https://doi.org/10.1016%2Fs0147-9121%2803%2922001-x">doi:10.1016/s0147-9121(03)22001-x</a>&gt;).
    Recentered influence function regression for marginal effects of the (income 
      or wealth) distribution  (see Firpo et al. (2009) &lt;<a href="https://doi.org/10.3982%2FECTA6822">doi:10.3982/ECTA6822</a>&gt;).
    Some extensions to inequality functions to handle weights and/or missings.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot (&ge; 1.3-20), Hmisc (&ge; 4.0-3)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-06-24 20:27:26 UTC; Tall</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-06-27 15:30:30 UTC</td>
</tr>
</table>
<hr>
<h2 id='dineq_change_rb'>Decomposition of the change in inequality</h2><span id='topic+dineq_change_rb'></span>

<h3>Description</h3>

<p>Decomposition of the change in (income) inequality into multiple characteristics,
divided by a price and a quantity effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dineq_change_rb(formula1, weights1 = NULL, data1, formula2, weights2 = NULL,
  data2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dineq_change_rb_+3A_formula1">formula1</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class)
for the first year/dataset: a symbolic description of the model to be fitted in the ordinary
least squares regression.</p>
</td></tr>
<tr><td><code id="dineq_change_rb_+3A_weights1">weights1</code></td>
<td>
<p>an optional vector of weights to be used in the fitting process. Should be
NULL or a numeric vector. Should be inside selected data frame in the function and between
quotation marks.</p>
</td></tr>
<tr><td><code id="dineq_change_rb_+3A_data1">data1</code></td>
<td>
<p>a data frame containing the variables for the first year/dataset in the model.</p>
</td></tr>
<tr><td><code id="dineq_change_rb_+3A_formula2">formula2</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class)
for the first year/dataset: a symbolic description of the model to be fitted in the ordinary
least squares regression.</p>
</td></tr>
<tr><td><code id="dineq_change_rb_+3A_weights2">weights2</code></td>
<td>
<p>an optional vector of weights to be used in the fitting process. Should be
NULL or a numeric vector. Should be inside selected data frame in the function and between
quotation marks.</p>
</td></tr>
<tr><td><code id="dineq_change_rb_+3A_data2">data2</code></td>
<td>
<p>a data frame containing the variables for the first year/dataset in the model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses a multivariate regression-based decomposition method. Multiple
characteristics can be added to the function in order to calculate the contribution of each
individual variable (including the residual) to the change of the inequality. For instance
socio-economic,  demographic and geographic characteristics (such as age, household composition,
gender, region, education) of the household or the individual can be added.
</p>
<p>The change decomposition is divided into a price and a quantity effect for each characteristic.
The quantity effect is caused by changes in the relative size of subgroups (for instance: a higher
percentage of elderly households). The price effect is caused by a change in the influence of the
characteristic on the dependent variable (for instance a higher income for the elderly
households).
</p>
<p>It uses a logarithmic transformation of the values of the dependent variable. Therefore it
cannot handle negative or zero values. Those are excluded from the computation in this function.
</p>
<p>The decomposition can only be used on the variance of log income.
</p>
<p>The main difference with the decomposition of the change of the mean log deviation is that
multiple characteristics can be analyzed at the same time. While the decomposition function
only analyze one characteristic at the same time.
</p>
<p>The function uses two datasets for both years to compare. Pay attention that characteristics
should be the same (although can be named differently) and in the same order in the formula.
</p>


<h3>Value</h3>

<p>a list with the results of the decomposition and the parts used for the
decomposition, containing the following components:
</p>
<table>
<tr><td><code>attention</code></td>
<td>
<p>optional note on the difference in the input.</p>
</td></tr>
<tr><td><code>variance_logincome</code></td>
<td>
<p>the values of the variance of log income of both years/datasets and
difference between both.</p>
</td></tr>
<tr><td><code>decomposition_inequality</code></td>
<td>
<p>the (relative) decomposition of the inequality of both
years/datasets into the different variables. See function 'rb_decomp'.</p>
</td></tr>
<tr><td><code>decomposition_change_absolute</code></td>
<td>
<p>decomposition of the change in the variance
of log income into the different variables and residual split into price and quantity
effects. Adds up to the absolute change in variance of log income.</p>
</td></tr>
<tr><td><code>decomposition_change_relative</code></td>
<td>
<p>decomposition of the change in the variance of log
income into the different variables and residual split into price and quantity effects.
Adds up to 100 percent.</p>
</td></tr>
<tr><td><code>notes</code></td>
<td>
<p>number of zero or negative observations in both data sets/years. The function
uses a logarithmic transformation of x as input for the regression. Therefore these
observations are deleted from the analysis</p>
</td></tr>
</table>


<h3>References</h3>

<p>Yun, M.-S. (2006) Earnings Inequality in USA, 1969–99: Comparing Inequality Using Earnings
Equations, <em>Review of Income and Wealth</em>, 52 (1): p. 127–144.
</p>
<p>Fields, G. (2003) Accounting for income inequality and its change: a new method, with
application to the distribution of earnings in the United States, <em>Research in Labor
Economics</em>, 22, p. 1–38.
</p>
<p>Brewer M., and L. Wren-Lewis (2016) Accounting for Changes in Income Inequality:
Decomposition Analyses for the UK, 1978–2008. <em>Oxford Bulletin of economics and
statistics</em>, 78 (3), p. 289-322,
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dineq_rb">dineq_rb</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Decomposition of the change in income inequality into 4 variables using the Mexican Income
#data set
data(mex_inc_2008)
inequality_change &lt;- dineq_change_rb(formula1=income~hh_structure+education+domicile_size+age_cat,
weights1="factor",data1=mex_inc_2008, formula2=income~hh_structure+education+
domicile_size+age_cat, weights2="factor",data2=mex_inc_2016)

#selection of output: change in variance of log income decomposed in variables split into price
#and quantity effect and residual.
inequality_change["decomposition_change_absolute"]

#selection of output: relatieve change in variance of log income decomposed in variables split
#into price and quantity effect and residual. Because of negative change in variance of log
#income, the negative contributuon of education (quantity) becomes a positive number.
inequality_change["decomposition_change_relative"]

</code></pre>

<hr>
<h2 id='dineq_rb'>Regression-based decomposition of inequality</h2><span id='topic+dineq_rb'></span>

<h3>Description</h3>

<p>Decomposition of (income) inequality into multiple characteristics. A
regression-based decomposition method is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dineq_rb(formula, weights = NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dineq_rb_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class):
a symbolic description of the model to be fitted in the ordinary least squares regression.</p>
</td></tr>
<tr><td><code id="dineq_rb_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights to be used in the fitting process. Should be
NULL or a numeric vector. Should be inside selected data frame in the function and between
quotation marks.</p>
</td></tr>
<tr><td><code id="dineq_rb_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables in the model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses a multivariate regression-based decomposition method. Multiple
variables can be added to the function in order to calculate the contribution of each
individual variable (including the residual) to the inequality. For instance socio-economic,
demographic and geographic characteristics (such as age, household composition, gender, region,
education) of the household or the individual can be added.
</p>
<p>This decomposition can be used on a broad range of inequality measure, like Gini, Theil,
mean log deviation, Atkinson index and variance of log income.
</p>
<p>It uses a logarithmic transformation of the values of the dependent variable. Therefore it
cannot handle negative or zero values. Those are excluded from the computation in this function.
</p>
<p>The main difference with the decomposition of the mean log deviation or Gini coefficient is that
multiple characteristics can be analyzed at the same time. While the other decomposition functions
only analyze one characteristic at the same time.
</p>


<h3>Value</h3>

<p>a list with the results of the decomposition, containing the following components:
</p>
<table>
<tr><td><code>inequality_measures</code></td>
<td>
<p>the values of 4 inequality measures: gini, mean log deviation,
theil and variance of log income</p>
</td></tr>
<tr><td><code>decomposition_inequality</code></td>
<td>
<p>the (relative) decomposition of the inequality into the
different variables</p>
</td></tr>
<tr><td><code>regression_results</code></td>
<td>
<p>results of the ols regression which is used to make the
decomposition of inequality</p>
</td></tr>
<tr><td><code>note</code></td>
<td>
<p>number of zero or negative observations. The function uses a logarithmic
transformation of x as input for the regression. Therefore these observations are deleted
from the analysis</p>
</td></tr>
</table>


<h3>References</h3>

<p>Fields, G. S. (2003). ‘Accounting for income inequality and its change:
a new method, with application to the distribution of earnings in the United States’,
<em>Research in Labor Economics</em>, 22, p. 1–38.
</p>
<p>Brewer M., and L. Wren-Lewis (2016) Accounting for Changes in Income Inequality:
Decomposition Analyses for the UK, 1978–2008. <em>Oxford Bulletin of economics and
statistics</em>, 78 (3), p. 289-322,
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dineq_change_rb">dineq_change_rb</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Decomposition of the income inequality into 4 variables using Mexican Income data set:
data(mex_inc_2008)
inequality_decomp &lt;- dineq_rb(income~hh_structure+education+domicile_size+age_cat,
weights="factor", data=mex_inc_2008)

#selection of the output: decomposition of the inequality into the contribution of the
#different variables and residual (adds up to 100 percent)
inequality_decomp["decomposition_inequality"]

</code></pre>

<hr>
<h2 id='gini_decomp'>Decomposition of the Gini coefficient</h2><span id='topic+gini_decomp'></span>

<h3>Description</h3>

<p>Decomposes the Gini coefficient into population subgroups. Distinction is made
by between and within group inequality and an overlap (interaction) term.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gini_decomp(x, z, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gini_decomp_+3A_x">x</code></td>
<td>
<p>a numeric vector containing at least non-negative elements.</p>
</td></tr>
<tr><td><code id="gini_decomp_+3A_z">z</code></td>
<td>
<p>a factor containing the population sub groups.</p>
</td></tr>
<tr><td><code id="gini_decomp_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of
the decomposition. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The decomposition of the Gini coefficient by between and within group
inequality. In most cases there is an overlap of the distribution of both groups. Consequence
is that between and within group inequality doesn't add up to the total Gini coefficient. In
those cases there is an overlap term. Also referred to as interaction effect.
</p>
<p>Within group inequality is calculated by using the Gini coefficient for each sub group. Between
group inequality by using the gini coefficient of the average of both sub groups.
</p>


<h3>Value</h3>

<p>a list with the results of the decomposition and the parts used for the
decomposition, containing the following components:
</p>
<table>
<tr><td><code>gini_decomp</code></td>
<td>
<p>a list containing the decomposition: gini_total (value of the gini
coefficient of x), gini_within (value of within-group inequality), gini_between (value
of between-group inequality) and gini_overlap (value of overlap in inequality)</p>
</td></tr>
<tr><td><code>gini_group</code></td>
<td>
<p>a list containing gini_group (the gini coefficients of the different
subgroups) and gini_group_contribution(the contribution of the subgroups to the total
within-group inequality: adds up to gini_within)</p>
</td></tr>
<tr><td><code>gini_decomp</code></td>
<td>
<p>a list containing the means of x: mean_total (value of the mean of x of
all subgroups combined) and mean_group (value of the mean of x of the individual subgroups)
inequality) and gini_between (value of between-group inequality)</p>
</td></tr>
<tr><td><code>share_groups</code></td>
<td>
<p>the distribution of the subgroups z </p>
</td></tr>
<tr><td><code>share_income_groups</code></td>
<td>
<p>the distribution of vector x by subgroups z </p>
</td></tr>
<tr><td><code>number_cases</code></td>
<td>
<p>a list containing the number of cases in total, by subgroup (weighted
and unweighted): n_unweighted (total number of unweighted x), n_weighted (total number of
weighted x), n_group_unweighted (number of unweighted x by subgroup z), n_group_unweighted
(number of weighted x by subgroup z)</p>
</td></tr>
</table>


<h3>References</h3>

<p>Mookherjee, D. and A. Shorrocks (1982) A decomposition analysis of the trend in UK income
inequality, <em>Economic Journal</em>, 92 (368), p. 886-902.
</p>
<p>Cowell F. (2000) Measurement of Inequality. In Atkinson A. and Bourguignon F. (eds.) <em>
Handbook of Income Distribution</em>. Amsterdam: Elsevier, p. 87-166.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mld_decomp">mld_decomp</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Decomposition of the gini coefficient by level of education using Mexican Income data set
data(mex_inc_2008)
education_decomp &lt;- gini_decomp(x=mex_inc_2008$income,z=mex_inc_2008$education,
weights=mex_inc_2008$factor)

#complete output
education_decomp

#Selected output: decomposition into between- and within-group inequality and overlap (interaction)
education_decomp["gini_decomp"]

</code></pre>

<hr>
<h2 id='gini.wtd'>Gini coefficient</h2><span id='topic+gini.wtd'></span>

<h3>Description</h3>

<p>Returns the (optional weighted) Gini coefficient for a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gini.wtd(x, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gini.wtd_+3A_x">x</code></td>
<td>
<p>a numeric vector containing at least non-negative elements.</p>
</td></tr>
<tr><td><code id="gini.wtd_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the Gini
coefficient. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Gini coefficient is a measure of inequality among values of a distribution. The most
used single measure for income inequality. The coefficient can theoretically range between 0 and
1, with 1 being the highest possible inequality (for instance: 1 person in a society has all
income; the others none). But coefficients that are negative or greater than 1 are also possible
because of negative values in the distribution. Compared to other measures of inequality,
the Gini coefficient is especially sensitive for changes in the middle of the distribution.
</p>
<p>Extension of the gini function in reldist package in order to handle missings.
</p>


<h3>Value</h3>

<p>The value of the Gini coefficient.
</p>


<h3>Source</h3>

<p>Handcock, M. (2016), Relative Distribution Methods. Version 1.6-6. Project home page
at http://www.stat.ucla.edu/~handcock/RelDist.
</p>


<h3>References</h3>

<p>Haughton, J. and S. Khandker. (2009) <em>Handbook on poverty and inequality</em>,
Washington, DC: World Bank.
</p>
<p>Cowell F. (2000) Measurement of Inequality. In Atkinson A. and Bourguignon F. (eds.) <em>
Handbook of Income Distribution</em>. Amsterdam: Elsevier, p. 87-166.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#calculate Gini coefficient using Mexican Income data set
data(mex_inc_2008)

#unweighted Gini coefficient:
gini.wtd(mex_inc_2008$income)

#weighted Gini coefficient:
gini.wtd(x=mex_inc_2008$income, weights=mex_inc_2008$factor)

</code></pre>

<hr>
<h2 id='mex_inc_2008'>Mexican income data 2008</h2><span id='topic+mex_inc_2008'></span>

<h3>Description</h3>

<p>Selection of Mexican income (survey) data and household characteristic for 2008.
Extracted from ENIGH (Household Income and Expenditure Survey).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(mex_inc_2008)
</code></pre>


<h3>Format</h3>

<p>A data frame containing 5000 observations and 8 variables (a selection from the original).
</p>

<dl>
<dt>hh_number</dt><dd><p>Household ID.</p>
</dd>
<dt>factor</dt><dd><p>Population inflating weights.</p>
</dd>
<dt>income</dt><dd><p>Household income.</p>
</dd>
<dt>hh_structure</dt><dd><p>Household structure, factor with levels unipersonal, nuclear,
ampliado, compuesto and coresidente.</p>
</dd>
<dt>education</dt><dd><p>Highest achieved education of the head of the household, factor with levels
Sin instruccion, Preescolar, Primaria incompleta, Primaria completa, Secundaria incompleta,
Secundaria completa, Preparatoria incompleta, Preparatoria completa, Profesional incompleta,
Profesional completa, Posgrado.</p>
</dd>
<dt>domicile_size</dt><dd><p>Population of domicile, factor with levels &lt;2500, 2500-15000,
15000-100000, &gt;100000.</p>
</dd>
<dt>age</dt><dd><p>age (integer) of the head of the household.</p>
</dd>
<dt>age_cat</dt><dd><p>age (categorical) of the head of the household , factor with levels &lt;25,
25-34, 35-44, 45-54, 55-64, 65-74, &gt;=75.</p>
</dd>
</dl>


<h3>Details</h3>

<p>This data set is a selecion of the original dataset of the National Institute of
Statistics and Geography in Mexico (INEGI). The original contains 29468 observations and
129 variables with information on the income and household characteristics in Mexico. This
selection is only meant to be used as a calculation example for the functions in this
package. Results will not represent the correct information on the Mexican situation.
</p>


<h3>Source</h3>

<p><a href="http://en.www.inegi.org.mx/proyectos/enchogares/regulares/enigh/nc/2008/default.html">http://en.www.inegi.org.mx/proyectos/enchogares/regulares/enigh/nc/2008/default.html</a>,
the whole data set can be obtained here.
</p>


<h3>References</h3>

<p>INEGI (2009), <em>ENIGH 2008 Nueva construcción. Ingresos y gastos de los hogares</em>,
Aguascalientes: INEGI.
</p>

<hr>
<h2 id='mex_inc_2016'>Mexican income data 2016</h2><span id='topic+mex_inc_2016'></span>

<h3>Description</h3>

<p>Selection of Mexican income (survey) data and household characteristic for 2016.
Extracted from ENIGH (Household Income and Expenditure Survey).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(mex_inc_2016)
</code></pre>


<h3>Format</h3>

<p>A data frame containing 5000 observations and 8 variables (a selection from the original).
</p>

<dl>
<dt>hh_number</dt><dd><p>Household ID.</p>
</dd>
<dt>factor</dt><dd><p>Population inflating weights.</p>
</dd>
<dt>income</dt><dd><p>Household income.</p>
</dd>
<dt>hh_structure</dt><dd><p>Household structure, factor with levels unipersonal, nuclear,
ampliado, compuesto and coresidente.</p>
</dd>
<dt>education</dt><dd><p>Highest achieved education of the head of the household, factor with levels
Sin instruccion, Preescolar, Primaria incompleta, Primaria completa, Secundaria incompleta,
Secundaria completa, Preparatoria incompleta, Preparatoria completa, Profesional incompleta,
Profesional completa, Posgrado.</p>
</dd>
<dt>domicile_size</dt><dd><p>Population of domicile, factor with levels &lt;2500, 2500-15000,
15000-100000, &gt;100000.</p>
</dd>
<dt>age</dt><dd><p>age (integer) of the head of the household.</p>
</dd>
<dt>age_cat</dt><dd><p>age (categorical) of the head of the household , factor with levels &lt;25,
25-34, 35-44, 45-54, 55-64, 65-74, &gt;=75.</p>
</dd>
</dl>


<h3>Details</h3>

<p>This data set is a selecion of the original dataset of the National Institute of
Statistics and Geography in Mexico (INEGI). The original contains 70311 observations and
127 variables with information on the income and household characteristics in Mexico. This
selection is only meant to be used as a calculation example for the functions in this
package. Results will not represent the correct information on the Mexican situation.
</p>


<h3>Source</h3>

<p><a href="http://en.www.inegi.org.mx/proyectos/enchogares/regulares/enigh/nc/2016/default.html">http://en.www.inegi.org.mx/proyectos/enchogares/regulares/enigh/nc/2016/default.html</a>,
the whole data set can be obtained here.
</p>


<h3>References</h3>

<p>INEGI (2017), <em>Encuesta Nacional de Ingresos y Gastos de los Hogares 2016.
ENIGH. Nueva serie. Temas, categorías y variables</em>, Aguascalientes: INEGI.
</p>

<hr>
<h2 id='mld_change'>Decomposition of the change of the mean log deviation</h2><span id='topic+mld_change'></span>

<h3>Description</h3>

<p>Decomposes the change of the mean log deviation between two years/data sets
into population subgroups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mld_change(x1, z1, weights1 = NULL, x2, z2, weights2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mld_change_+3A_x1">x1</code></td>
<td>
<p>a numeric vector for the first year/dataset containing at least non-negative elements.</p>
</td></tr>
<tr><td><code id="mld_change_+3A_z1">z1</code></td>
<td>
<p>a factor for the first year/dataset containing the population subgroups.</p>
</td></tr>
<tr><td><code id="mld_change_+3A_weights1">weights1</code></td>
<td>
<p>an optional vector of weights of x for the first year/dataset
to be used in the computation of the decomposition. Should be NULL or a numeric vector.</p>
</td></tr>
<tr><td><code id="mld_change_+3A_x2">x2</code></td>
<td>
<p>a numeric vector for the second year/dataset containing at least non-negative elements.</p>
</td></tr>
<tr><td><code id="mld_change_+3A_z2">z2</code></td>
<td>
<p>a factor for the second year/dataset containing the population subgroups.</p>
</td></tr>
<tr><td><code id="mld_change_+3A_weights2">weights2</code></td>
<td>
<p>an optional vector of weights of x for the second year/dataset
to be used in the computation of the decomposition. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The change of the mean log deviation can be decomposed into three components: inequality
changes between and within groups and changes in the relative sizes of the groups. The change
of between group inequality is measures by a change in the relative income of the subgroups.
The change of within group inequality by adding up all changes in mean log deviation within the
subgroups. And the contribution of changes in relative population size effects the change
on both the within and between group components. For the relative contributions those two are
added together.
</p>
<p>This method is introduced by Mookherjee and Shorrocks. It is an accurate approximation of
the exact decomposition.
It uses a logarithmic transformation of the values of the distribution. Therefore it
cannot handle negative or zero values. Those are excluded from the computation in this function.
</p>


<h3>Value</h3>

<p>a list with the results of the decomposition and the parts used for the
decomposition, containing the following components:
</p>
<table>
<tr><td><code>mld_data1</code></td>
<td>
<p>the value of the mean log deviation index of x for the first year/dataset,
and the decomposition into within-group and between-group inequality</p>
</td></tr>
<tr><td><code>mld_data2</code></td>
<td>
<p>the value of the mean log deviation index of x for the second year/dataset,
and the decomposition into within-group and between-group inequality</p>
</td></tr>
<tr><td><code>mld_difference</code></td>
<td>
<p>the difference between the mean log deviation and the decomposition
between the second and first year/dataset</p>
</td></tr>
<tr><td><code>absolute_contributions_difference</code></td>
<td>
<p>decomposition of the absolute change in inequality
into: within group changes, group size changes (split into the effect of within and between
group components) and between group changes.</p>
</td></tr>
<tr><td><code>relative_contributions_difference</code></td>
<td>
<p>decomposition of the change in inequality into
relatieve contributions of: within group changes, group size changes and between group changes.
Adds up to 100 percent (or -100 percent for negative change)</p>
</td></tr>
<tr><td><code>note</code></td>
<td>
<p>number of zero or negative observations in both datasets. The mean log deviation
uses a logarithmic transformation of x. Therefore these observations are deleted from the
analysis</p>
</td></tr>
</table>


<h3>References</h3>

<p>Mookherjee, D. and A. Shorrocks (1982) A decomposition analysis of the trend in UK income
inequality, <em>Economic Journal</em>, 92 (368), p. 886-902.
</p>
<p>Brewer M., and L. Wren-Lewis (2016) Accounting for Changes in Income Inequality:
Decomposition Analyses for the UK, 1978–2008. <em>Oxford Bulletin of economics and
statistics</em>, 78 (3), p. 289-322,
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mld_decomp">mld_decomp</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Decomposition of the change in mean log deviation by level of eduction using
#Mexican Income data set
data(mex_inc_2008)

change_education &lt;- mld_change(x1=mex_inc_2008$income, z1=mex_inc_2008$education,
weights1=mex_inc_2008$factor, x2=mex_inc_2016$income, z2=mex_inc_2016$education,
weights2=mex_inc_2016$factor)

#selection of the output: decomposition of the change into within- and between-group
#contribution and change in de size of groups (adds up to 100 percent)
change_education["relative_contributions_difference"]

</code></pre>

<hr>
<h2 id='mld_decomp'>Decomposition of the mean log deviation</h2><span id='topic+mld_decomp'></span>

<h3>Description</h3>

<p>Decomposes the mean log deviation into non overlapping population subgroups.
Distinction is made by between and within group inequality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mld_decomp(x, z, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mld_decomp_+3A_x">x</code></td>
<td>
<p>a numeric vector containing at least non-negative elements.</p>
</td></tr>
<tr><td><code id="mld_decomp_+3A_z">z</code></td>
<td>
<p>a factor containing the population subgroups.</p>
</td></tr>
<tr><td><code id="mld_decomp_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of
the decomposition. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The decomposition of the mean log deviation by between and within group
inequality. Within group inequality is calculated by using the mean log deviation for each sub
group. Between group inequality by the mean log deviation of the average of both sub groups.
</p>
<p>It uses a logarithmic transformation of the values of the distribution. Therefore it
cannot handle negative or zero values. Those are excluded from the computation in this function.
</p>
<p>Based on calcGEI function in IC2 package. Handles missings.
</p>


<h3>Value</h3>

<p>a list with the results of the decomposition and the parts used for the
decomposition, containing the following components:
</p>
<table>
<tr><td><code>mld_decomp</code></td>
<td>
<p>a list containing the decomposition: mld_total (value of the mean log
deviation index of x) mld_within (value of within-group inequality) and mld_between (value
of between-group inequality)</p>
</td></tr>
<tr><td><code>mld_group</code></td>
<td>
<p>a list containing mld_group (the mean log deviations of the different
subgroups) and mld_group_contribution(the contribution of the subgroups to the total
within-group inequality: adds up to mld_within)</p>
</td></tr>
<tr><td><code>mld_decomp</code></td>
<td>
<p>a list containing the means of x: mean_total (value of the mean of x of
all subgroups combined) and mean_group (value of the mean of x of the individual subgroups)
inequality) and mld_between (value of between-group inequality)</p>
</td></tr>
<tr><td><code>share_groups</code></td>
<td>
<p>the distribution of the subgroups z </p>
</td></tr>
<tr><td><code>share_income_groups</code></td>
<td>
<p>the distribution of vector x by subgroups z </p>
</td></tr>
<tr><td><code>number_cases</code></td>
<td>
<p>a list containing the number of cases in total, by subgroup (weighted
and unweighted): n_unweighted (total number of unweighted x), n_weighted (total number of
weighted x), n_group_unweighted (number of unweighted x by subgroup z), n_group_unweighted
(number of weighted x by subgroup z)</p>
</td></tr>
<tr><td><code>note</code></td>
<td>
<p>number of zero or negative observations. The mean log deviation uses a logarithmic
transformation of x. Therefore these observations are deleted from the analysis</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Plat, D. (2012). IC2: Inequality and Concentration Indices and Curves. R package
version 1.0-1. https://CRAN.R-project.org/package=IC2
</p>


<h3>References</h3>

<p>Mookherjee, D. and A. Shorrocks (1982) A decomposition analysis of the trend in UK income
inequality, <em>Economic Journal</em>, 92 (368), p. 886-902.
</p>
<p>Brewer M., and L. Wren-Lewis (2016) Accounting for Changes in Income Inequality:
Decomposition Analyses for the UK, 1978–2008. <em>Oxford Bulletin of economics and
statistics</em>, 78 (3), p. 289-322,
</p>
<p>Haughton, J. and S. Khandker. (2009) <em>Handbook on poverty and inequality</em>,
Washington, DC: World Bank.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mld_change">mld_change</a></code>
<code><a href="#topic+gini_decomp">gini_decomp</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Decomposition of mean log deviation by level of education using Mexican Income data set
data(mex_inc_2008)
education_decomp &lt;- mld_decomp(x=mex_inc_2008$income,z=mex_inc_2008$education,
weights=mex_inc_2008$factor)

#complete output
education_decomp

#Selected output: decomposition into between- and within-group inequality
education_decomp["mld_decomp"]

</code></pre>

<hr>
<h2 id='mld.wtd'>Mean log deviation</h2><span id='topic+mld.wtd'></span>

<h3>Description</h3>

<p>Returns the (optional weighted) mean log deviation for a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mld.wtd(x, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mld.wtd_+3A_x">x</code></td>
<td>
<p>a numeric vector containing at least non-negative elements.</p>
</td></tr>
<tr><td><code id="mld.wtd_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the mean log
deviation. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The mean log deviation is a measure of inequality among values of a distribution. It is
a member of the Generalized Entropy Measures. Also referred to as GE(0). A value of zero is the
lowest possible inequality. The measure does not have an upper bound for the highest inequality.
It uses a logarithmic transformation of the values of the distribution. Therefore it
cannot handle negative or zero values. Those are excluded from the computation in this function.
The mean log deviation is more sensitive for changes in the lower tail of the distribution.
</p>
<p>Extension of the calcGEI function in IC2 package in order to handle missings.
</p>


<h3>Value</h3>

<p>the value of the mean log deviation index.
</p>


<h3>Source</h3>

<p>Plat, D. (2012). IC2: Inequality and Concentration Indices and Curves. R package
version 1.0-1. https://CRAN.R-project.org/package=IC2
</p>


<h3>References</h3>

<p>Haughton, J. and S. Khandker. (2009) <em>Handbook on poverty and inequality</em>,
Washington, DC: World Bank.
</p>
<p>Cowell F. (2000) Measurement of Inequality. In Atkinson A. and Bourguignon F. (eds.) <em>
Handbook of Income Distribution</em>. Amsterdam: Elsevier, p. 87-166.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#calculate mean log deviation using Mexican Income data set
data(mex_inc_2008)

#unweighted mean log deviation:
mld.wtd(mex_inc_2008$income)

#weighted mean log deviation:
mld.wtd(x=mex_inc_2008$income, weights=mex_inc_2008$factor)

</code></pre>

<hr>
<h2 id='ntiles.wtd'>Weighted tiles</h2><span id='topic+ntiles.wtd'></span>

<h3>Description</h3>

<p>Breaks input vector into n groups. Returns the (optional weighted) tile of an
individual observation in vector x.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ntiles.wtd(x, n, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ntiles.wtd_+3A_x">x</code></td>
<td>
<p>a numeric vector for which the quantiles are computed. Missing values are left
as missing.</p>
</td></tr>
<tr><td><code id="ntiles.wtd_+3A_n">n</code></td>
<td>
<p>the number of desired sub groups to break vector x into.</p>
</td></tr>
<tr><td><code id="ntiles.wtd_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the
tiles. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Breaks vector x into n sub groups. The main difference with other tile functions (for
instance ntile from dplyr) is that those functions break up vector x in exact equal size
sub groups. Observations with the same value can end up in different tiles. In this function,
observations with the same value always end up in the same tile, therefore sub groups may have
different sizes. Especially when the weights argument is used. For a weighted tile function
with the same group size, see for instance weighted_ntile from the grattan package.
</p>
<p>When using a short-length vector (compared to the number of tiles) or with high variance weights,
output may be different than anticipated.
</p>


<h3>Value</h3>

<p>A vector of integers corresponding to the quantiles of vector x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Break up the income variable in the Mexican Income data set into 10 groups (tiles)
data(mex_inc_2008)

#unweighted tiles:
q &lt;- ntiles.wtd(x=mex_inc_2008$income, n=10)

#weighted tiles:
qw &lt;- ntiles.wtd(x=mex_inc_2008$income, n=10, weights=mex_inc_2008$factor)

</code></pre>

<hr>
<h2 id='polar.wtd'>Polarization index</h2><span id='topic+polar.wtd'></span>

<h3>Description</h3>

<p>Returns the (possibly weighted) polarization index for a vector. The Wolfson
index of bipolarization is used.
</p>
<p>A bipolarized (income) distribution has fewer observations in the middle and more in lower
and/or higher part of the distribution. The regular measures of inequality (like the gini
coefficient) does not give information about the polarization of the distribution. This
Polarization index computes the level of bipolarization of the distribution. The concept is
closely related to the Lorenz curve and therefore the scalar measure is also related to the
Gini coefficient. A lower number means a lower level of polarization.
</p>
<p>Extension of the polar.aff function in affluence-index package. Option of weighting the index
is included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>polar.wtd(x, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="polar.wtd_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="polar.wtd_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the
Polarization index. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of the Wolfson polarization index.
</p>


<h3>Source</h3>

<p>Wolny-Dominiak, A. and A. Saczewska-Piotrowska (2017). affluenceIndex: Affluence Indices.
R package version 1.0. https://CRAN.R-project.org/package=affluenceIndex
</p>


<h3>References</h3>

<p>Wolfson M. (1994) When inequalities diverge, <em>The American Economic Review</em>, 84, p. 353-358.
</p>
<p>Schmidt, A. (2002) Statistical Measurement of Income Polarization. A Cross-National, <em>Berlin 10th
International conference on panel data.</em>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#calculate Polarization Index using Mexican Income data set
data(mex_inc_2008)

#unweighted Polarization Index:
polar.wtd(mex_inc_2008$income)

#weighted Polarization Index:
polar.wtd(x=mex_inc_2008$income, weights=mex_inc_2008$factor)

</code></pre>

<hr>
<h2 id='rif'>Recentered influence function (RIF)</h2><span id='topic+rif'></span>

<h3>Description</h3>

<p>Returns the (optional weighted) recentered influence function of a distributional
statistic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rif(x, weights = NULL, method = "quantile", quantile = 0.5,
  kernel = "gaussian")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rif_+3A_x">x</code></td>
<td>
<p>a numeric vector for which the recentered influence function is computed.</p>
</td></tr>
<tr><td><code id="rif_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the
recentered influence function. Should be NULL or a numeric vector.</p>
</td></tr>
<tr><td><code id="rif_+3A_method">method</code></td>
<td>
<p>the distribution statistic for which the recentered influence function is
estimated. Options are &quot;quantile&quot;, &quot;gini&quot; and &quot;variance&quot;. Default is &quot;quantile&quot;.</p>
</td></tr>
<tr><td><code id="rif_+3A_quantile">quantile</code></td>
<td>
<p>quantile to be used when method &quot;quantile&quot; is selected. Must be a numeric
between 0 and 1. Default is 0.5 (median). Only a single quantile can be selected.</p>
</td></tr>
<tr><td><code id="rif_+3A_kernel">kernel</code></td>
<td>
<p>a character giving the smoothing kernel to be used in method &quot;quantile&quot;. Options
are &quot;gaussian&quot;, &quot;rectangular&quot;, &quot;triangular&quot;, &quot;epanechnikov&quot;, &quot;biweight&quot;, &quot;cosine&quot;
or &quot;optcosine&quot;. Default is &quot;gaussian&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The RIF can be used as input for a RIF regression approach. RIF regressions are mostly
used to estimate the marginal effect of covariates on distributional statistics of income or
wealth.
</p>
<p>The RIF is calculated by adding the distributional statistic (quantile, gini or variance) to
the influence function. RIF is a numeric vector where each element corresponds to a particular
individual’s influence on the distributional statistic.
</p>


<h3>Value</h3>

<p>A numeric vector of the recentered influence function of the selected distributional
statistic.
</p>


<h3>References</h3>

<p>Firpo, S., N. Fortin and T. Lemieux (2009) Unconditional quantile regressions. <em>Econometrica</em>,
77(3), p. 953-973.
</p>
<p>Heckley G, U.-G. Gerdtham U-G and G. Kjellsson (2016) A general method for decomposing the
causes of socioeconomic inequality in health. <em>Journal of Health Economics</em>,48, p. 89–106.
</p>
<p>Pereira, J. and A. Galego (2016) The drivers of wage inequality across Europe, a recentered
influence function regression approach, <em>10th Annual Meeting of the Portuguese Economic
Journal</em>, University of Evora.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rifr">rifr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mex_inc_2008)

#Recentered influence funtion of 20th quantile
rif_q20 &lt;- rif(x=mex_inc_2008$income, weights=mex_inc_2008$factor, method="quantile",
quantile=0.2)

#Recentered influence funtion of the gini coefficient
rif_gini &lt;- rif(x=mex_inc_2008$income, weights=mex_inc_2008$factor, method="gini")

</code></pre>

<hr>
<h2 id='rifr'>Recentered influence function regression (RIF Regression)</h2><span id='topic+rifr'></span>

<h3>Description</h3>

<p>Recentered influence function regression of a distributional statistic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rifr(formula, data, weights = NULL, method = "quantile", quantile = 0.5,
  kernel = "gaussian")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rifr_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class):
a symbolic description of the model to be fitted in the RIF regression.</p>
</td></tr>
<tr><td><code id="rifr_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables and weights of the model.</p>
</td></tr>
<tr><td><code id="rifr_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the
recentered influence function. Should be NULL or a numeric vector. Should be inside selected
data frame in the function and between quotation marks.</p>
</td></tr>
<tr><td><code id="rifr_+3A_method">method</code></td>
<td>
<p>the distribution statistic for which the recentered influence function is
estimated. Options are &quot;quantile&quot;, &quot;gini&quot; and &quot;variance&quot;. Default is &quot;quantile&quot;.</p>
</td></tr>
<tr><td><code id="rifr_+3A_quantile">quantile</code></td>
<td>
<p>quantile to be used when method &quot;quantile&quot; is selected. Must be a numeric between
0 and 1. Default is 0.5 (median). Multiple quantiles can be used.</p>
</td></tr>
<tr><td><code id="rifr_+3A_kernel">kernel</code></td>
<td>
<p>a character giving the smoothing kernel to be used in method &quot;quantile&quot;. Options
are &quot;gaussian&quot;, &quot;rectangular&quot;, &quot;triangular&quot;, &quot;epanechnikov&quot;, &quot;biweight&quot;, &quot;cosine&quot;
or &quot;optcosine&quot;. Default is &quot;gaussian&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>RIF Regressions can be used to estimate the marginal effects of covariates on
distributional statistics (such as quantiles, gini and variance). It is based on the recentered
influence function of a statistic. The transformed RIF is used as the dependent variable in an
ordinary least squares regression. RIF regressions are mostly used to estimate the marginal
effect of covariates on distributional statistics of income or wealth.
</p>


<h3>Value</h3>

<p>A list containing the results of the RIF regression.
</p>
<table>
<tr><td><code>coefficients</code></td>
<td>
<p>the coefficient estimates.</p>
</td></tr>
<tr><td><code>SE</code></td>
<td>
<p>the coefficient standard error.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p>the coefficient t-value.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>the coefficient p-value.</p>
</td></tr>
<tr><td><code>adjusted_r2</code></td>
<td>
<p>the adjusted r-squares.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Firpo, S., N. Fortin and T. Lemieux (2009) Unconditional quantile regressions. <em>Econometrica</em>,
77(3), p. 953-973.
</p>
<p>Heckley G, U.-G. Gerdtham U-G and G. Kjellsson (2016) A general method for decomposing the
causes of socioeconomic inequality in health. <em>Journal of Health Economics</em>,48, p. 89–106.
</p>
<p>Pereira, J. and A. Galego (2016) The drivers of wage inequality across Europe, a recentered
influence function regression approach, <em>10th Annual Meeting of the Portuguese Economic
Journal</em>, University of Evora.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rif">rif</a></code>
<code><a href="#topic+rifrSE">rifrSE</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mex_inc_2008)

#Recentered influence funtion of each decile
rifr_q &lt;- rifr(income~hh_structure+education, data=mex_inc_2008, weights="factor",
method="quantile", quantile=seq(0.1,0.9,0.1), kernel="gaussian")

#Recentered influence funtion of the gini coefficient
rifr_gini &lt;- rifr(income~hh_structure+education, data=mex_inc_2008, weights="factor",
method="gini")


</code></pre>

<hr>
<h2 id='rifrSE'>Inference of recentered influence function regression (RIF regression)</h2><span id='topic+rifrSE'></span>

<h3>Description</h3>

<p>Inference of a RIF Regression using a bootstrap method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rifrSE(formula, data, weights = NULL, method = "quantile", quantile = 0.5,
  kernel = "gaussian", Nboot = 100, confidence = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rifrSE_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class):
a symbolic description of the model to be fitted in the RIF regression.</p>
</td></tr>
<tr><td><code id="rifrSE_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables and weights of the model.</p>
</td></tr>
<tr><td><code id="rifrSE_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the
recentered influence function. Should be NULL or a numeric vector. Should be inside selected
data frame in the function and between quotation marks.</p>
</td></tr>
<tr><td><code id="rifrSE_+3A_method">method</code></td>
<td>
<p>the distribution statistic for which the recentered influence function is
estimated. Options are &quot;quantile&quot;, &quot;gini&quot; and &quot;variance&quot;. Default is &quot;quantile&quot;.</p>
</td></tr>
<tr><td><code id="rifrSE_+3A_quantile">quantile</code></td>
<td>
<p>quantile to be used when method &quot;quantile&quot; is selected. Must be a numeric between
0 and 1. Default is 0.5 (median). Only a single quantile can be used.</p>
</td></tr>
<tr><td><code id="rifrSE_+3A_kernel">kernel</code></td>
<td>
<p>a character giving the smoothing kernel to be used in method &quot;quantile&quot;. Options
are &quot;gaussian&quot;, &quot;rectangular&quot;, &quot;triangular&quot;, &quot;epanechnikov&quot;, &quot;biweight&quot;, &quot;cosine&quot;
or &quot;optcosine&quot;. Default is &quot;gaussian&quot;.</p>
</td></tr>
<tr><td><code id="rifrSE_+3A_nboot">Nboot</code></td>
<td>
<p>the number of bootstrap replicates. Default is 100.</p>
</td></tr>
<tr><td><code id="rifrSE_+3A_confidence">confidence</code></td>
<td>
<p>significance level for estimation of the confidence interval of the
fitted model. Default is 0.95.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>RIF Regressions can be used to estimate the marginal effects of covariates on
distributional statistics (such as quantiles, gini and variance). It is based on the recentered
influence function of a statistic. The transformed RIF is used as the dependent variable in an
ordinary least squares regression. RIF regressions are mostly used to estimate the marginal
effect of covariates on distributional statistics of income or wealth.
</p>
<p>The standard errors, confidence intervals and Z- and P-values are calculated by using a
standard bootstrap method (from boot package).
</p>


<h3>Value</h3>

<p>A data frame containing the results of the RIF regression.
</p>
<table>
<tr><td><code>Coef</code></td>
<td>
<p>estimated coefficients of the original (non bootstrapped) RIF regression</p>
</td></tr>
<tr><td><code>lower</code></td>
<td>
<p>lower bound of confidence interval of estimated coefficient</p>
</td></tr>
<tr><td><code>upper</code></td>
<td>
<p>upper bound of confidence interval of estimated coefficient</p>
</td></tr>
<tr><td><code>SE</code></td>
<td>
<p>standard error</p>
</td></tr>
<tr><td><code>Z Value</code></td>
<td>
<p>Z value</p>
</td></tr>
<tr><td><code>P Value</code></td>
<td>
<p>P value</p>
</td></tr>
<tr><td><code>Signif</code></td>
<td>
<p>Significance codes of P: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</p>
</td></tr>
</table>


<h3>References</h3>

<p>Firpo, S., N. Fortin and T. Lemieux (2009) Unconditional quantile regressions. <em>Econometrica</em>,
77(3), p. 953-973.
</p>
<p>Heckley G, U.-G. Gerdtham U-G and G. Kjellsson (2016) A general method for decomposing the
causes of socioeconomic inequality in health. <em>Journal of Health Economics</em>,48, p. 89–106.
</p>
<p>Pereira, J. and A. Galego (2016) The drivers of wage inequality across Europe, a recentered
influence function regression approach, <em>10th Annual Meeting of the Portuguese Economic
Journal</em>, University of Evora.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rif">rif</a></code>
<code><a href="#topic+rifr">rifr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mex_inc_2008)

#Recentered influence funtion of 20th quantile
rifr_q &lt;- rifrSE(income~hh_structure+education, data=mex_inc_2008, weights="factor",
method="quantile", quantile=0.2, kernel="gaussian", Nboot=100, confidence=0.95)

#Recentered influence funtion of the gini coefficient
rifr_gini &lt;- rifrSE(income~hh_structure+education, data=mex_inc_2008, weights="factor",
method="gini", Nboot=100, confidence=0.95)


</code></pre>

<hr>
<h2 id='theil.wtd'>Theil index</h2><span id='topic+theil.wtd'></span>

<h3>Description</h3>

<p>Returns the (optional weighted) Theil index for a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theil.wtd(x, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theil.wtd_+3A_x">x</code></td>
<td>
<p>a numeric vector containing at least non-negative elements.</p>
</td></tr>
<tr><td><code id="theil.wtd_+3A_weights">weights</code></td>
<td>
<p>an optional vector of weights of x to be used in the computation of the Theil
index. Should be NULL or a numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Theil index is a measure of inequality among values of a distribution. It is a
member of the Generalized Entropy Measures. Also referred to as GE(1). The index can have a value between 0 and ln N
(the logarithm of the number of values), with 0 being the lowest possible inequality. It uses
a logarithmic transformation of the values of the distribution. Therefore it cannot
handle negative or zero values. Those are excluded from the computation in this function. The
Theil Index is more sensitive for changes in the upper tail of the distribution.
</p>
<p>Extension of the calcGEI function in IC2 package in order to handle missings.
</p>


<h3>Value</h3>

<p>The value of the Theil index.
</p>


<h3>Source</h3>

<p>Plat, D. (2012). IC2: Inequality and Concentration Indices and Curves. R package
version 1.0-1. https://CRAN.R-project.org/package=IC2
</p>


<h3>References</h3>

<p>Haughton, J. and S. Khandker. (2009) <em>Handbook on poverty and inequality</em>,
Washington, DC: World Bank.
</p>
<p>Cowell F. (2000) Measurement of Inequality. In Atkinson A. and Bourguignon F. (eds.) <em>
Handbook of Income Distribution</em>. Amsterdam: Elsevier, p. 87-166.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#calculate Theil Index using Mexican Income data set
data(mex_inc_2008)

#unweighted Theil Index:
theil.wtd(mex_inc_2008$income)

#weighted Theil Index:
theil.wtd(x=mex_inc_2008$income, weights=mex_inc_2008$factor)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

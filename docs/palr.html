<!DOCTYPE html><html lang="en"><head><title>Help for package palr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {palr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bathy_deep_pal'><p>Bathymetry</p></a></li>
<li><a href='#chl_pal'><p>Ocean colour colours for chlorophyll-a.</p></a></li>
<li><a href='#col2hex'><p>Colour to hex conversion.</p></a></li>
<li><a href='#d_pal'><p>Colours for data values</p></a></li>
<li><a href='#ice_pal'><p>Sea ice colours</p></a></li>
<li><a href='#image_pal'><p>Map data values to colours</p></a></li>
<li><a href='#mk_timePal'><p>Time-indexed colour.</p></a></li>
<li><a href='#oisst'><p>Sea surface temperature (SST).</p></a></li>
<li><a href='#palr'><p>palr</p></a></li>
<li><a href='#sst_pal'><p>SST colours</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Colour Palettes for Data</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Colour palettes for data, based on some well known public data
    sets. Includes helper functions to map absolute values to known palettes, and 
    capture the work of image colour mapping as raster data sets. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, raster, testthat, covr, stars, viridis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/AustralianAntarcticDivision/palr">https://github.com/AustralianAntarcticDivision/palr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/AustralianAntarcticDivision/palr/issues">https://github.com/AustralianAntarcticDivision/palr/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-06 02:33:47 UTC; mdsumner</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael D. Sumner [aut, cre],
  Abigael Proctor [ctb] (Named the package),
  Tomas Remenyi [ctb] (Provided colours for element_pal),
  R Core Team and contributors worldwide [ctb] (source code of
    image.default)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael D. Sumner &lt;mdsumner@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-06 05:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bathy_deep_pal'>Bathymetry</h2><span id='topic+bathy_deep_pal'></span><span id='topic+bathyDeepPal'></span>

<h3>Description</h3>

<p>Deep bathymetry colours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bathy_deep_pal(x, palette = FALSE, alpha = 1, ...)

bathyDeepPal(x, palette = FALSE, alpha = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bathy_deep_pal_+3A_x">x</code></td>
<td>
<p>a vector of data values or a single num (n)</p>
</td></tr>
<tr><td><code id="bathy_deep_pal_+3A_palette">palette</code></td>
<td>
<p>logical, if <code>TRUE</code> return a list with matching colours and values</p>
</td></tr>
<tr><td><code id="bathy_deep_pal_+3A_alpha">alpha</code></td>
<td>
<p>value in 0,1 to specify opacity</p>
</td></tr>
<tr><td><code id="bathy_deep_pal_+3A_...">...</code></td>
<td>
<p>currently ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Colour ramp suitable for deep waters (-5500) to sea level.
The palette functions operate in 3 modes:
1) n colours - Pal(6) - returns 6 colours from the palette
2) data      - Pal(c(10, 50, 100)) - return colours for 3 ice concentrations
3) palette   - Pal(palette = TRUE) - return the full palette and breaks
Derived from maps created in Matlab by Emmanuel Laurenceau.
</p>


<h3>Value</h3>

<p>colours, palette, or function, see Details
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(1:15, pch = 19, cex = 4, col  = bathy_deep_pal(15))
</code></pre>

<hr>
<h2 id='chl_pal'>Ocean colour colours for chlorophyll-a.</h2><span id='topic+chl_pal'></span><span id='topic+chlPal'></span>

<h3>Description</h3>

<p>Ocean colour palette for chlorophyll-a.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chl_pal(x, palette = FALSE, alpha = 1)

chlPal(x, palette = FALSE, alpha = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chl_pal_+3A_x">x</code></td>
<td>
<p>a vector of data values or a single number</p>
</td></tr>
<tr><td><code id="chl_pal_+3A_palette">palette</code></td>
<td>
<p>logical, if <code>TRUE</code> return a list with matching colours and values</p>
</td></tr>
<tr><td><code id="chl_pal_+3A_alpha">alpha</code></td>
<td>
<p>value in 0,1 to specify opacity</p>
</td></tr>
<tr><td><code id="chl_pal_+3A_...">...</code></td>
<td>
<p>currently unused</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Flexible control of the chlorophyll-a palette. If <code>x</code> is a
single number, the function returns that many colours evenly
spaced from the palette. If <code>x</code> is a vector of multiple
values the palette is queried for colours matching those values,
and these are returned. If <code>x</code> is missing and <code>palette</code>
is <code>FALSE</code> then a function is returned that will generate n
evenly spaced colours from the palette, as per
<code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette</a></code>.
</p>


<h3>Value</h3>

<p>colours, palette, or function, see Details
</p>


<h3>References</h3>

<p>Derived from a file once found at 'http://oceancolor.gsfc.nasa.gov/DOCS/palette_chl_etc.txt'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
chl &lt;- raadtools::readchla(xylim = c(100, 110, -50, -40))
## just get a small number of evenly space colours
plot(chl, col = chl_pal(10))
## store the full palette and work with values and colours
pal &lt;- chl_pal()
## the standard full palette
plot(chl, breaks = pal$breaks, col = pal$cols)
## a custom set of values with matching colours
plot(chl, col = chl_pal(pal$breaks[seq(1, length(pal$breaks), length = 10)]))
## any number of colours stored as a function
myfun &lt;- chl_pal()
plot(chl, col = myfun(18))
## just n colours
plot(chl, col = chl_pal(18))

## End(Not run)
</code></pre>

<hr>
<h2 id='col2hex'>Colour to hex conversion.</h2><span id='topic+col2hex'></span>

<h3>Description</h3>

<p>Create colours from colour names in one easy step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col2hex(x, alpha = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="col2hex_+3A_x">x</code></td>
<td>
<p>vector of colour names or hex strings</p>
</td></tr>
<tr><td><code id="col2hex_+3A_alpha">alpha</code></td>
<td>
<p>optional transparency value in [0,1], can be per colour in <code>x</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character string of hex colours
</p>


<h3>Examples</h3>

<pre><code class='language-R'>col2hex(c("aliceblue", "firebrick"), alpha = c(1, .5))
col2hex(c("#FFFFFF", "#123456FF"), alpha = 0.1)
</code></pre>

<hr>
<h2 id='d_pal'>Colours for data values</h2><span id='topic+d_pal'></span><span id='topic+data_pal'></span>

<h3>Description</h3>

<p>Scales input data to the palette, so that colour is mapped linearly to the range of values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_pal(x, pal = hcl.colors(84))

data_pal(x, pal = hcl.colors(84))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="d_pal_+3A_x">x</code></td>
<td>
<p>data vector, maybe be numeric or character</p>
</td></tr>
<tr><td><code id="d_pal_+3A_pal">pal</code></td>
<td>
<p>palette, may be colours or a function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default palette 'pal' is the 'viridis' colours of [grDevices::hcl.colors()], and may be literal colour values
or a function.
</p>
<p>[data_pal()] is an alias of [d_pal()].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(1:100, col = d_pal(1:100))
plot(1:100, col = d_pal(1:100, chl_pal))

</code></pre>

<hr>
<h2 id='ice_pal'>Sea ice colours</h2><span id='topic+ice_pal'></span><span id='topic+icePal'></span>

<h3>Description</h3>

<p>Colours for sea ice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ice_pal(x, palette = FALSE, alpha = 1, ..., amsre = FALSE)

icePal(x, palette = FALSE, alpha = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ice_pal_+3A_x">x</code></td>
<td>
<p>a vector of data values or a single num (n)</p>
</td></tr>
<tr><td><code id="ice_pal_+3A_palette">palette</code></td>
<td>
<p>logical, if <code>TRUE</code> return a list with matching colours and values</p>
</td></tr>
<tr><td><code id="ice_pal_+3A_alpha">alpha</code></td>
<td>
<p>value in 0,1 to specify opacity</p>
</td></tr>
<tr><td><code id="ice_pal_+3A_...">...</code></td>
<td>
<p>currently ignored</p>
</td></tr>
<tr><td><code id="ice_pal_+3A_amsre">amsre</code></td>
<td>
<p>use old AMSRE colours ('FALSE' by default)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The palette functions operate in 3 modes:
1) n colours - Pal(6) - returns 6 colours from the palette
2) data      - Pal(c(10, 50, 100)) - return colours for 3 ice concentrations
3) palette   - Pal(palette = TRUE) - return the full palette and breaks
</p>


<h3>Value</h3>

<p>colours, palette, or function, see Details
</p>


<h3>References</h3>

<p>amsre colours derived from <a href="http://www.iup.uni-bremen.de/seaice/amsr/">http://www.iup.uni-bremen.de/seaice/amsr/</a>.,
nsidc colours extracted in data-raw/.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(raster)
r &lt;- raster(system.file("extdata", "nt_20140320_f17_v01_s.bin", package = "graticule") )
icp &lt;- ice_pal(palette = TRUE)
## The AMSR colours
plot(r, col = icp$col, zlim = range(icp$breaks),
main = sprintf("NSIDC ice \\% %s", format(getZ(r))))

## End(Not run)
</code></pre>

<hr>
<h2 id='image_pal'>Map data values to colours</h2><span id='topic+image_pal'></span><span id='topic+image_raster'></span><span id='topic+image_stars'></span>

<h3>Description</h3>

<p>If no 'col' is provided, the default image palette is used. The density
can be controlled with 'n' and the mapping  with the optional
'breaks'. If 'breaks' is included as well as 'n', 'n' is ignored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>image_pal(x, col, ..., breaks = NULL, n = NULL, zlim = NULL)

image_raster(x, col, ..., breaks = NULL, n = NULL, zlim = NULL)

image_stars(x, col, ..., breaks = NULL, n = NULL, zlim = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="image_pal_+3A_x">x</code></td>
<td>
<p>numeric values, raster object (single layer only) or stars object (single variable, 2D array only)</p>
</td></tr>
<tr><td><code id="image_pal_+3A_col">col</code></td>
<td>
<p>function to generate colours, or a vector of hex colours</p>
</td></tr>
<tr><td><code id="image_pal_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="image_pal_+3A_breaks">breaks</code></td>
<td>
<p>optionally used to specify colour mapping</p>
</td></tr>
<tr><td><code id="image_pal_+3A_n">n</code></td>
<td>
<p>optionally used to specify density of colours from 'col' (ignored if 'breaks' is set)</p>
</td></tr>
<tr><td><code id="image_pal_+3A_zlim">zlim</code></td>
<td>
<p>numeric range to clamp values to an absolute scale (ignored if 'breaks' is set)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function 'image_pal()' only returns hex character string colours. The function
'image_raster()' will map a raster of numeric values to an RGB 3-layer (channel) raster brick, and
'image_stars()' similarly for a 3-dimensional stars object.
</p>
<p>Please note that the expansion to 3-channels is a fairly wasteful thing to do, the overall data is expanded
from a single layer to three but this faciliates a specific task of creating
textures for 3D mapping, and this is the only way to do it currently. It's also useful in
other situations, for controlling exactly the kind of plots we can achieve and for exporting
to image formats such as 'GeoTIFF' or 'PNG'.
</p>


<h3>Value</h3>

<p>for 'image_pal()' a vector of hex colours, for 'image_raster' and 'image_stars' a raster or
stars object with 3 channel RGB (range 0,255)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vals &lt;- sort(rnorm(100))
cols &lt;- image_pal(vals, zlim = c(-2.4, .5))
plot(vals, col = cols); abline(h = .5)
points(vals, pch  = ".") ## zlim excluded some of the range
</code></pre>

<hr>
<h2 id='mk_timePal'>Time-indexed colour.</h2><span id='topic+mk_timePal'></span>

<h3>Description</h3>

<p>Create a time-indexed colour map, useful for maintaining an absolute scale across time series as a function of date-time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mk_timePal(x, col)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mk_timePal_+3A_x">x</code></td>
<td>
<p>date-times</p>
</td></tr>
<tr><td><code id="mk_timePal_+3A_col">col</code></td>
<td>
<p>colours, can be a function or an actual set of colours</p>
</td></tr>
</table>


<h3>Value</h3>

<p>function of date-time
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dts &lt;- seq(as.Date("1749-01-01"), by = "1 month", length.out = length(sunspots))
d &lt;- data.frame(date = dts, sunspots = as.vector(t(sunspots)))
tpal &lt;- mk_timePal(d$date, col = sst_pal(50))
par(mfrow  = c(2, 1))
plot(sunspots ~ date, col = tpal(date), data = d)
## colours maintained by absolute date
plot(sunspots ~ date, col = tpal(date), data = d[1500:1800, ], cex = 2)
## we can now insert new points and maintain this colour ramp
d2 &lt;- data.frame(date = seq(min(d$date), max(d$date), by = "5 days"))
d2$sunspots &lt;- approxfun(d$date, d$sunspots)(d2$date)
points(sunspots ~ date, col = tpal(date), data = d2, pch = 19, cex = 0.5)
</code></pre>

<hr>
<h2 id='oisst'>Sea surface temperature (SST).</h2><span id='topic+oisst'></span>

<h3>Description</h3>

<p>SST example raster data set, at 0.25 degree resolution for global coverage
in &quot;longitude180/latitude&quot;.
</p>


<h3>Details</h3>

<p>Created using script in data-raw/ using 'raadtools' package.
</p>


<h3>References</h3>

<p>Reynolds, et al.(2007) Daily High-resolution Blended Analyses. Available from
'NOAA' search for 'OISST'.
</p>
<p>Climatology is based on 1971-2000 OI.v2 SST, Satellite data: Navy  NOAA19
METOP AVHRR, Ice data: #' NCEP ice Source: NOAA/National Climatic Data Center.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dim(oisst)
class(oisst)
image(oisst, useRaster = TRUE)
</code></pre>

<hr>
<h2 id='palr'>palr</h2><span id='topic+palr'></span>

<h3>Description</h3>

<p>palr: colours for data
</p>

<hr>
<h2 id='sst_pal'>SST colours</h2><span id='topic+sst_pal'></span><span id='topic+sstPal'></span>

<h3>Description</h3>

<p>SST colours
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sst_pal(x, palette = FALSE, alpha = 1, ...)

sstPal(x, palette = FALSE, alpha = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sst_pal_+3A_x">x</code></td>
<td>
<p>a vector of data values or a single number</p>
</td></tr>
<tr><td><code id="sst_pal_+3A_palette">palette</code></td>
<td>
<p>logical, if <code>TRUE</code> return a list with matching colours and values</p>
</td></tr>
<tr><td><code id="sst_pal_+3A_alpha">alpha</code></td>
<td>
<p>value in 0,1 to specify opacity</p>
</td></tr>
<tr><td><code id="sst_pal_+3A_...">...</code></td>
<td>
<p>currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>colours, palette, or function, see Details
</p>


<h3>References</h3>

<p>Derived from a file once found at 'http://oceancolor.gsfc.nasa.gov/DOCS/palette_sst.txt'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(oisst)
sstcols &lt;- sst_pal(palette = TRUE)
image(oisst, col = sstcols$col, zlim = range(sstcols$breaks))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

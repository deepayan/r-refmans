<!DOCTYPE html><html><head><title>Help for package SECFISH</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SECFISH}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Capacity'><p>Capacity</p></a></li>
<li><a href='#Cons_check'>
<p>Validation of the disaggregation applied on variable costs</p></a></li>
<li><a href='#Constrained_regression'>
<p>Function to carry out a constrained regression for a specific fleet segment</p></a></li>
<li><a href='#COSTS'><p>COSTS</p></a></li>
<li><a href='#Costs_FS'><p>Costs_FS</p></a></li>
<li><a href='#Costs_MET'><p>Costs_MET</p></a></li>
<li><a href='#Costs_or'><p>Costs_or</p></a></li>
<li><a href='#Costs_vess'><p>Costs_vess</p></a></li>
<li><a href='#Detect_outliers'>
<p>Detecting outliers influencing the fitting of a GLM</p></a></li>
<li><a href='#Disaggr'>
<p>Disaggregation of the variable costs</p></a></li>
<li><a href='#EA'>
<p>Exploratory Analysis on variable costs of individual vessel data</p></a></li>
<li><a href='#Eff'><p>Eff</p></a></li>
<li><a href='#Effort'><p>Effort</p></a></li>
<li><a href='#GLM'>
<p>Generalized Linear Modelling on variable costs of individual vessel data</p></a></li>
<li><a href='#key_table_or'><p>key_table_or</p></a></li>
<li><a href='#Landings'><p>Landings</p></a></li>
<li><a href='#Operation'><p>Operation</p></a></li>
<li><a href='#OperID'><p>OperID</p></a></li>
<li><a href='#Trip'><p>Trip</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Disaggregate Variable Costs</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.7</td>
</tr>
<tr>
<td>Author:</td>
<td>Isabella Bitetto (COISPA), Loretta Malvarosa (NISEA), Maria Teresa Spedicato (COISPA), Ralf Doering (THUENEN), Joerg Berkenhagen (THUENEN)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Isabella Bitetto &lt;bitetto@coispa.it&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>These functions were developed within SECFISH project (Strengthening regional cooperation in the area of fisheries  data collection-Socio-economic data collection for fisheries, aquaculture and the processing industry at EU level). They are aimed at identifying  correlations between costs and transversal variables by metier using individual vessel data and for disaggregating variable costs from  fleet segment to metier  level.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, Hmisc, optimization</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-08-29 12:46:42 UTC; Bitetto Isabella</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-08-29 15:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Capacity'>Capacity</h2><span id='topic+Capacity'></span>

<h3>Description</h3>

<p>individual vessel data. Information about vessel characteristics (e.g. KW, GT, LoA)</p>

<hr>
<h2 id='Cons_check'>
Validation of the disaggregation applied on variable costs
</h2><span id='topic+Cons_check'></span>

<h3>Description</h3>

<p>Function to validate the results obtained using the Disaggr function. The original costs by fleet segment are compared with the sum of the dsaggregated costs by metier within the same fleet segment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cons_check(Costs_FS,Costs_MET,path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Cons_check_+3A_costs_fs">Costs_FS</code></td>
<td>

<p>Data frame containing the variable costs time series by fleet segment.
</p>
</td></tr> <tr><td><code id="Cons_check_+3A_costs_met">Costs_MET</code></td>
<td>

<p>Data frame containing the variable costs time series by metier within the same fleet segment.
</p>
</td></tr><tr><td><code id="Cons_check_+3A_path">path</code></td>
<td>

<p>Path where the results have to be saved.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Costs_FS</code></td>
<td>

<p>See example typing Co_FS in the R console.
</p>
</td></tr> <tr><td><code>Costs_MET</code></td>
<td>

<p>See example typing Co_MET in the R console.
</p>
</td></tr><tr><td><code>path</code></td>
<td>

<p>Default path=tempdir()
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Isabella Bitetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Cons_check(Costs_FS,Costs_MET,path=tempdir())
</code></pre>

<hr>
<h2 id='Constrained_regression'>
Function to carry out a constrained regression for a specific fleet segment
</h2><span id='topic+Constrained_regression'></span>

<h3>Description</h3>

<p>Function to carry out a constrained regression for a specific fleet segment and a specific type of costs, after setting the metier used by the fleet segment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Constrained_regression(COSTS, Fleet_segment, metier,type,path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Constrained_regression_+3A_costs">COSTS</code></td>
<td>

<p>Data frame built applying EA function on individual vessel data and automatically saved as COSTS.csv in the working directory.
</p>
</td></tr> <tr><td><code id="Constrained_regression_+3A_fleet_segment">Fleet_segment</code></td>
<td>

<p>Fleet segment to be investigated.
</p>
</td></tr><tr><td><code id="Constrained_regression_+3A_metier">metier</code></td>
<td>

<p>Vector of the metier usedd by the specified fleet segment.
</p>
</td></tr><tr><td><code id="Constrained_regression_+3A_type">type</code></td>
<td>

<p>Type of variable costs on which carry out the constrained regression.
</p>
</td></tr>
<tr><td><code id="Constrained_regression_+3A_path">path</code></td>
<td>

<p>Path where the results have to be saved.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>COSTS</code></td>
<td>

<p>data.frame: see format in the package (type CO in the console).
</p>
</td></tr> <tr><td><code>Fleet_segment</code></td>
<td>

<p>String defining the fleet segment as reported in the COSTS data frame.
</p>
</td></tr><tr><td><code>metier</code></td>
<td>

<p>String defining the metier as reported in the COSTS data frame.
</p>
</td></tr><tr><td><code>type</code></td>
<td>

<p>String defining the type of variable costs as reported in the COSTS data frame.
</p>
</td></tr><tr><td><code>path</code></td>
<td>

<p>Default path=tempdir()
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Isabella Bitetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(optimization)
path=tempdir()
Constrained_regression(COSTS, "DTS_VL1218", c("OTB_DES_&gt;=40_0_0",
"OTB_MDD_&gt;=40_0_0"),"fuelcost",path)
</code></pre>

<hr>
<h2 id='COSTS'>COSTS</h2><span id='topic+COSTS'></span>

<h3>Description</h3>

<p>Data frame built applying EA function on individual vessel data and automatically saved as COSTS.csv in the working directory</p>

<hr>
<h2 id='Costs_FS'>Costs_FS</h2><span id='topic+Costs_FS'></span>

<h3>Description</h3>

<p>Data frame of variable costs time series by fleet segment </p>

<hr>
<h2 id='Costs_MET'>Costs_MET</h2><span id='topic+Costs_MET'></span>

<h3>Description</h3>

<p>Data frame of variable costs time series by fleet segment disaggregated by metier</p>

<hr>
<h2 id='Costs_or'>Costs_or</h2><span id='topic+Costs_or'></span>

<h3>Description</h3>

<p>Data frame of variable costs time series by fleet segment</p>

<hr>
<h2 id='Costs_vess'>Costs_vess</h2><span id='topic+Costs_vess'></span>

<h3>Description</h3>

<p>individual vessel data on fuel costs, fuel consumption, maintenance costs and other variable costs</p>

<hr>
<h2 id='Detect_outliers'>
Detecting outliers influencing the fitting of a GLM
</h2><span id='topic+Detect_outliers'></span>

<h3>Description</h3>

<p>Function to interactively detect outliers on the fGLM fitting of a specific fleet segment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Detect_outliers(COSTS,Fleet_segment,formula)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Detect_outliers_+3A_costs">COSTS</code></td>
<td>

<p>Data frame built applying EA function on individual vessel data and automatically saved as COSTS.csv in the working directory.
</p>
</td></tr> <tr><td><code id="Detect_outliers_+3A_fleet_segment">Fleet_segment</code></td>
<td>

<p>Fleet segment to be investigated.
</p>
</td></tr>
<tr><td><code id="Detect_outliers_+3A_formula">formula</code></td>
<td>

<p>GLM formula for which the outlier is detected.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>COSTS</code></td>
<td>

<p>See format in the package (type CO in the console).
</p>
</td></tr> <tr><td><code>Fleet_segment</code></td>
<td>

<p>A string defining the fleet segment.This string should be the same reported in the COSTS data frame.
</p>
</td></tr>
<tr><td><code>formula</code></td>
<td>

<p>Example:
fuelcost~factor(Met_LOA)+Effort+0
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Isabella Bitetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Detect_outliers(COSTS,"DTS_VL1218",fuelcost~factor(Met_LOA)+Effort+0)
</code></pre>

<hr>
<h2 id='Disaggr'>
Disaggregation of the variable costs
</h2><span id='topic+Disaggr'></span>

<h3>Description</h3>

<p>Function to disaggregate time series of variable costs by from the fleetsegment to the metier level, using the official time series of the costs and the official time series of transversal variables, combined with the  results obtained from GLM function applied on individual vessel data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Disaggr(Costs_or,key_table_or,Eff,path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Disaggr_+3A_costs_or">Costs_or</code></td>
<td>

<p>Data frame containing the variable costs time series by fleet segment.
</p>
</td></tr> <tr><td><code id="Disaggr_+3A_key_table_or">key_table_or</code></td>
<td>

<p>Data frame containing the coefficients of the best fitting GLM, describing the relationship between variable costs structure and transversal variables by metier.
</p>
</td></tr> <tr><td><code id="Disaggr_+3A_eff">Eff</code></td>
<td>

<p>Data frame containing the transversal variables (effort and revenues) by metier.
</p>
</td></tr><tr><td><code id="Disaggr_+3A_path">path</code></td>
<td>

<p>Path where the results have to be saved.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Costs_or</code></td>
<td>

<p>See example typing Co_or in the R console.
</p>
</td></tr> <tr><td><code>key_table_or</code></td>
<td>

<p>See example typing key_tab_or in the R console.
Details related to each column:
Type of cost: Allowed values: fuel_costs, other_costs, labour_costs, maintenance_costs.
Option: 1 additive model, 2 multiplicative model, 3 metier not significant.
To fill in the fields  Explanatory_variable and Coefficient, the output produced by the GLM.r script has to be considered for that fleet segment for the disaggregation.
</p>
</td></tr> <tr><td><code>Eff</code></td>
<td>

<p>See example typing Eff_ in the R console.
</p>
</td></tr><tr><td><code>path</code></td>
<td>

<p>Default path=tempdir()
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Isabella Bitetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Disaggr(Costs_or,key_table_or,Eff,path=tempdir())
</code></pre>

<hr>
<h2 id='EA'>
Exploratory Analysis on variable costs of individual vessel data
</h2><span id='topic+EA'></span>

<h3>Description</h3>

<p>Function to carry out an exploratory analysis on the individual vessel data to derive the correlations between variable costs and transversal variables.
</p>
<p>The user has to define the percentage of fishing activity (in hours) to associate a prevalent metier to each vessel (namely by setting the “thr” value) and the minimum number of observations to be required for each metier, within a fleet segment, for carrying out the simple linear correlations analysis.
For the metier for which less than “n_obs” observations are available, the simple linear regression is not fitted and the results are not produced.
</p>
<p>Moreover, the user can decide to estimate the relationships with 2 options for the activity (Effort):
Option 1: hours at sea;
Option 2: Days_at_sea x KW.
The days at sea are estimated as the sum of the fishing hours divided by 24.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
EA(Effort,Landings,Trip,OperID,Operations,Costs_vess, Capacity,thr,n_obs,Eff_option,path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EA_+3A_effort">Effort</code></td>
<td>

<p>association trip-total hours at sea
</p>
</td></tr> <tr><td><code id="EA_+3A_landings">Landings</code></td>
<td>

<p>association trip-landing and related revenue
</p>
</td></tr> <tr><td><code id="EA_+3A_trip">Trip</code></td>
<td>

<p>association trip-vessel
</p>
</td></tr> <tr><td><code id="EA_+3A_operid">OperID</code></td>
<td>

<p>association operation-trip
</p>
</td></tr><tr><td><code id="EA_+3A_operations">Operations</code></td>
<td>

<p>association fishing operation-number of fishing hours-metier
</p>
</td></tr><tr><td><code id="EA_+3A_costs_vess">Costs_vess</code></td>
<td>

<p>data on fuel costs, fuel consumption, maintenance costs and other variable costs
</p>
</td></tr><tr><td><code id="EA_+3A_capacity">Capacity</code></td>
<td>

<p>information vessel characteristics (KW, GT, LoA, etc…)
</p>
</td></tr> <tr><td><code id="EA_+3A_thr">thr</code></td>
<td>

<p>percentage to fishing activity (hours) associated to the prevalent metier. If 50 is set, only the vessels with a percentage of fishing hours in a specific metier greater or equal to 50 will be retained (this metier will be defined as prevalent metier).
</p>
</td></tr> <tr><td><code id="EA_+3A_n_obs">n_obs</code></td>
<td>

<p>minimum number of observations for each metier used by the fleet segment for carrying out the simple linear correlations.
</p>
</td></tr> <tr><td><code id="EA_+3A_eff_option">Eff_option</code></td>
<td>

<p>1: Hours at sea
2: Days at sea X KW
</p>
</td></tr><tr><td><code id="EA_+3A_path">path</code></td>
<td>

<p>Path where the results have to be saved.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Effort</code></td>
<td>

<p>data.frame: see format in the package (type Eff in the console).
</p>
</td></tr> <tr><td><code>Landings</code></td>
<td>

<p>data.frame: see format in the package (type Land in the console)
</p>
</td></tr> <tr><td><code>Trip</code></td>
<td>

<p>data.frame: see format in  the package (type Tr in the console)
</p>
</td></tr> <tr><td><code>OperID</code></td>
<td>

<p>data.frame: see format in  the package (type OpID in the console)
</p>
</td></tr><tr><td><code>Operations</code></td>
<td>

<p>data.frame: see format in  the package (type Oper in the console)
</p>
</td></tr><tr><td><code>Costs_vess</code></td>
<td>

<p>data.frame: see format in  the package (type Cos in the console)
</p>
</td></tr><tr><td><code>Capacity</code></td>
<td>

<p>data.frame: see format in the package (type Cap in the console)
</p>
</td></tr> <tr><td><code>thr</code></td>
<td>

<p>a value (even decimal) from 1 to 100 representing a percentage for the definition of the prevalent metier for each vessel.
</p>
</td></tr> <tr><td><code>n_obs</code></td>
<td>

<p>number of minimum observations to obtain reliable correlations. A number from 2 to the maximum number of observations by metier in the dataset.
</p>
</td></tr> <tr><td><code>Eff_option</code></td>
<td>

<p>1 or 2.
</p>
</td></tr><tr><td><code>path</code></td>
<td>

<p>Default path=tempdir()
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Isabella Bitetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
EA(Effort,Landings,Trip,OperID,Operation,Costs_vess, Capacity,30,30,1,path=tempdir())

</code></pre>

<hr>
<h2 id='Eff'>Eff</h2><span id='topic+Eff'></span>

<h3>Description</h3>

<p>Data frame containing the transversal variables (effort and revenues) by metier</p>

<hr>
<h2 id='Effort'>Effort</h2><span id='topic+Effort'></span>

<h3>Description</h3>

<p>individual vessel data: association trip-total hours at sea</p>

<hr>
<h2 id='GLM'>
Generalized Linear Modelling on variable costs of individual vessel data
</h2><span id='topic+GLM'></span>

<h3>Description</h3>

<p>Function to explore GLMs on the individual vessel data to test the significance of metier and transversal variables on the variable costs structure.
</p>
<p>The function should be run on COSTS.csv file produced by EA function run previously on individual vessel data. This file should be correctly stored in the working directory.
Only the fleet segments with a minimum number of observations are considered. This value can be set by the user as input in the GLM function, defining thr_obs value.
It is also possible to define the most significant metier to be used in the GLM through the percentage of cumulative estimated on the number of vessels observed by metier. A buffer of 5 percent on the cumulative percentage is applied by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GLM(COSTS,thr_obs,thr_cum,FORMULA_LAB1,FORMULA_LAB2,path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GLM_+3A_costs">COSTS</code></td>
<td>

<p>Data frame built applying EA function on individual vessel data and automatically saved as COSTS.csv in the working directory.
</p>
</td></tr> <tr><td><code id="GLM_+3A_thr_obs">thr_obs</code></td>
<td>

<p>threshold to be used for carry out the modelling to a fleet segment.
</p>
</td></tr> <tr><td><code id="GLM_+3A_thr_cum">thr_cum</code></td>
<td>

<p>threshold to be used for selecting the metier to be used in the modelling according to a cumulative metier-number of vessels observed.
</p>
</td></tr> <tr><td><code id="GLM_+3A_formula_lab1">FORMULA_LAB1</code></td>
<td>

<p>Option for labour costs modelling (additive model).
</p>
</td></tr><tr><td><code id="GLM_+3A_formula_lab2">FORMULA_LAB2</code></td>
<td>

<p>Option for labour costs modelling (multiplicative model).
</p>
</td></tr><tr><td><code id="GLM_+3A_path">path</code></td>
<td>

<p>Path where the results have to be saved.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>COSTS</code></td>
<td>

<p>data.frame: see format in the package (type CO in the console).
</p>
</td></tr> <tr><td><code>thr_obs</code></td>
<td>

<p>minimum number of observations needed to run fit the GLM; e.g. 30 means that only the fleet segments with at least 30 vessels observed will be modelled.
</p>
</td></tr> <tr><td><code>thr_cum</code></td>
<td>

<p>a decimal number representing a proportion for the selection of the more significant metier: 0.8 means that only the metier representing the 80 percent of the vessels observed in the fleet segment will be considered, to avoid spurious relathionships.
</p>
</td></tr> <tr><td><code>FORMULA_LAB1</code></td>
<td>

<p>Options:
crewcost~factor(Met_LOA)+Rev_minus_Tot_var_costs+0
crewcost~factor(Met_LOA)+Sum_revenue+0
crewcost~factor(Met_LOA)+Effort+0
crewcost~factor(Met_LOA)+Rev_minus_fuel+0
</p>
</td></tr><tr><td><code>FORMULA_LAB2</code></td>
<td>

<p>Options:
crewcost~factor(Met_LOA)*Rev_minus_Tot_var_costs+0
crewcost~factor(Met_LOA)*Sum_revenue+0
crewcost~factor(Met_LOA)*Effort+0
crewcost~factor(Met_LOA)*Rev_minus_fuel+0
</p>
</td></tr><tr><td><code>path</code></td>
<td>

<p>Default path=tempdir()
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Isabella Bitetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formula1=crewcost~factor(Met_LOA)+Rev_minus_Tot_var_costs+0
formula2=crewcost~factor(Met_LOA)*Rev_minus_Tot_var_costs+0
GLM(COSTS,30,0.95,formula1,formula2,path=tempdir())
</code></pre>

<hr>
<h2 id='key_table_or'>key_table_or</h2><span id='topic+key_table_or'></span>

<h3>Description</h3>

<p>Data frame containing the coefficients of the best fitting GLM, describing the relationship between variable costs structure and transversal variables by metier.
</p>

<hr>
<h2 id='Landings'>Landings</h2><span id='topic+Landings'></span>

<h3>Description</h3>

<p>individual vessel data: association trip-landing and related revenue</p>

<hr>
<h2 id='Operation'>Operation</h2><span id='topic+Operation'></span>

<h3>Description</h3>

<p>association fishing operation-number of fishing hours-metier</p>

<hr>
<h2 id='OperID'>OperID</h2><span id='topic+OperID'></span>

<h3>Description</h3>

<p>individual vessel data: association operation-trip</p>

<hr>
<h2 id='Trip'>Trip</h2><span id='topic+Trip'></span>

<h3>Description</h3>

<p>association trip-vessel
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package fastGLCM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fastGLCM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#compute_elapsed_time'><p>elapsed time in hours &amp; minutes &amp; seconds</p></a></li>
<li><a href='#fastglcm'><p>GLCM feature texture extraction</p></a></li>
<li><a href='#fastGLCM_Rcpp'><p>GLCM feature texture extraction</p></a></li>
<li><a href='#inner_elapsed_time'><p>inner function of 'compute_elapsed_time'</p></a></li>
<li><a href='#plot_multi_images'><p>Plot multiple images</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'GLCM' Texture Features</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-09-25</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lampros Mouselimis &lt;mouselimislampros@gmail.com&gt;</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mlampros/fastGLCM/issues">https://github.com/mlampros/fastGLCM/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mlampros/fastGLCM">https://github.com/mlampros/fastGLCM</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Two 'Gray Level Co-occurrence Matrix' ('GLCM') implementations are included: The first is a fast 'GLCM' feature texture computation based on 'Python' 'Numpy' arrays ('Github' Repository, <a href="https://github.com/tzm030329/GLCM">https://github.com/tzm030329/GLCM</a>). The second is a fast 'GLCM' 'RcppArmadillo' implementation which is parallelized (using 'OpenMP') with the option to return all 'GLCM' features at once. For more information, see "Artifact-Free Thin Cloud Removal Using Gans" by Toizumi Takahiro, Zini Simone, Sagi Kazutoshi, Kaneko Eiji, Tsukada Masato, Schettini Raimondo (2019), IEEE International Conference on Image Processing (ICIP), pp. 3596-3600, &lt;<a href="https://doi.org/10.1109%2FICIP.2019.8803652">doi:10.1109/ICIP.2019.8803652</a>&gt;.</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>apt-get-pip: apt-get install -y python3-pip (deb),
python3-pip: python3 -m pip install -U pip (deb), numpy: pip3
install -U numpy (deb), cv2: pip3 install -U opencv-python
(deb), matplotlib: pip3 install -U matplotlib (deb), skimage:
pip3 install -U scikit-image (deb), libarmadillo: apt-get
install -y libarmadillo-dev (deb), libblas: apt-get install -y
libblas-dev (deb), liblapack: apt-get install -y liblapack-dev
(deb), libarpack++2: apt-get install -y libarpack++2-dev (deb),
gfortran: apt-get install -y gfortran (deb)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Copyright:</td>
<td>inst/COPYRIGHTS</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.2.3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.8.3), R6, rlang, OpenImageR, utils</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo, OpenImageR</td>
</tr>
<tr>
<td>Suggests:</td>
<td>reticulate, covr, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-25 17:30:02 UTC; lampros</td>
</tr>
<tr>
<td>Author:</td>
<td>Lampros Mouselimis
    <a href="https://orcid.org/0000-0002-8024-1546"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Takahiro Toizumi [cph] (Author of the fastGLCM Python code)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-25 17:50:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='compute_elapsed_time'>elapsed time in hours &amp; minutes &amp; seconds</h2><span id='topic+compute_elapsed_time'></span>

<h3>Description</h3>

<p>elapsed time in hours &amp; minutes &amp; seconds
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_elapsed_time(time_start)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_elapsed_time_+3A_time_start">time_start</code></td>
<td>
<p>a numeric value specifying the start time</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It does not return a value but only prints the time in form of a character string in the R session
</p>

<hr>
<h2 id='fastglcm'>GLCM feature texture extraction</h2><span id='topic+fastglcm'></span>

<h3>Description</h3>

<p>GLCM feature texture extraction
</p>
<p>GLCM feature texture extraction
</p>


<h3>Usage</h3>

<pre><code class='language-R'># init &lt;- fastglcm$new()
</code></pre>


<h3>Methods</h3>


<dl>
<dt><code>fastglcm$new()</code></dt><dd></dd>
<dt><code>--------------</code></dt><dd></dd>
<dt><code>GLCM_compute()</code></dt><dd></dd>
<dt><code>--------------</code></dt><dd></dd>
</dl>



<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-fastglcm-new"><code>fastglcm$new()</code></a>
</p>
</li>
<li> <p><a href="#method-fastglcm-GLCM_compute"><code>fastglcm$GLCM_compute()</code></a>
</p>
</li>
<li> <p><a href="#method-fastglcm-clone"><code>fastglcm$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-fastglcm-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialization method for the 'fastglcm' R6 class
</p>


<h5>Usage</h5>

<div class="r"><pre>fastglcm$new()</pre></div>


<hr>
<a id="method-fastglcm-GLCM_compute"></a>



<h4>Method <code>GLCM_compute()</code></h4>

<p>The GLCM computation method to receive the results
</p>


<h5>Usage</h5>

<div class="r"><pre>fastglcm$GLCM_compute(
  img,
  method,
  vmin = 0,
  vmax = 255,
  levels = 8,
  ks = 5,
  distance = 1,
  angle = 0,
  verbose = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>img</code></dt><dd><p>a numeric matrix</p>
</dd>
<dt><code>method</code></dt><dd><p>a character string specifying the method. Can be one of 'mean', 'std', 'contrast', 'dissimilarity', 'homogeneity', 'ASM_Energy', 'max' or 'entropy'</p>
</dd>
<dt><code>vmin</code></dt><dd><p>a numeric value specifying the minimum value of the input image ( <em>img</em> )</p>
</dd>
<dt><code>vmax</code></dt><dd><p>a numeric value specifying the maximum value of the input image ( <em>img</em> )</p>
</dd>
<dt><code>levels</code></dt><dd><p>an integer specifying the window size. This parameter will create a mask of size <em>levels x levels</em> internally</p>
</dd>
<dt><code>ks</code></dt><dd><p>an integer specifying the kernel size. A kernel of 1's will be created and the <em>cv2.filter2D</em> filter will be utilized for the convolution</p>
</dd>
<dt><code>distance</code></dt><dd><p>a numeric value specifying the pixel pair distance offsets (a 'pixel' value such as 1.0, 2.0 etc.)</p>
</dd>
<dt><code>angle</code></dt><dd><p>a numeric value specifying the pixel pair angles (a 'degree' value such as 0.0, 30.0, 45.0, 90.0 etc.)</p>
</dd>
<dt><code>verbose</code></dt><dd><p>a boolean. If TRUE then information will be printed out in the console</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>a list object if the method is set to 'ASM_Energy' otherwise a numeric matrix
</p>


<hr>
<a id="method-fastglcm-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>fastglcm$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p>https://github.com/tzm030329/GLCM
https://github.com/1044197988/Python-Image-feature-extraction
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

require(fastGLCM)
require(OpenImageR)

file_im = system.file('images', 'Sugar_Cane_Bolivia_PlanetNICFI.png', package = 'fastGLCM')
im = readImage(file_im)

#...................................
# convert to gray and make sure that
# pixel values are between 0 and 255
#...................................

im = rgb_2gray(im)
im = im * 255

MIN = min(as.vector(im))
MAX = max(as.vector(im))

#...............
# methods to use
#...............

methods_py = c('mean',
               'std',
               'contrast',
               'dissimilarity',
               'homogeneity',
               'ASM_Energy',
               'max',
               'entropy')

init = fastglcm$new()

lst_glcm_py = list()

for (item_m in methods_py) {

  cat(paste0('Method: ', item_m), '\n')

  res_item = init$GLCM_compute(img = im,
                               method = item_m,
                               vmin = as.integer(MIN),
                               vmax = as.integer(MAX),
                               levels = as.integer(8),
                               ks = as.integer(5),
                               distance = 1.0,
                               angle = 0.0)

  lst_glcm_py[[item_m]] = res_item
}

#..............................
# Create two different sublists
# for 'ASM' and 'Energy'
#..............................

lst_glcm_py = append(lst_glcm_py, list(lst_glcm_py[['ASM_Energy']][[1]]), after = 5)
names(lst_glcm_py)[6] = 'ASM'

lst_glcm_py = append(lst_glcm_py, list(lst_glcm_py[['ASM_Energy']][[2]]), after = 6)
names(lst_glcm_py)[7] = 'energy'

lst_glcm_py[['ASM_Energy']] = NULL

str(lst_glcm_py)

#.........................
# multi-plot of the output
#.........................

plot_multi_images(list_images = lst_glcm_py,
                  par_ROWS = 2,
                  par_COLS = 5,
                  titles = names(lst_glcm_py))

## End(Not run)
</code></pre>

<hr>
<h2 id='fastGLCM_Rcpp'>GLCM feature texture extraction</h2><span id='topic+fastGLCM_Rcpp'></span>

<h3>Description</h3>

<p>GLCM feature texture extraction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fastGLCM_Rcpp(
  data,
  methods,
  levels = 8,
  kernel_size = 5,
  distance = 1,
  angle = 0,
  dir_save = NULL,
  threads = 1,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fastGLCM_Rcpp_+3A_data">data</code></td>
<td>
<p>a numeric matrix</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_methods">methods</code></td>
<td>
<p>a vector of character strings. One or all of the following: 'mean', 'std', 'contrast', 'dissimilarity', 'homogeneity', 'ASM', 'energy', 'max', 'entropy'</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_levels">levels</code></td>
<td>
<p>an integer specifying the window size. This parameter will create a mask of size <em>levels x levels</em> internally</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_kernel_size">kernel_size</code></td>
<td>
<p>an integer specifying the kernel size. A kernel of 1's will be created and the <em>cv2.filter2D</em> filter will be utilized for the convolution</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_distance">distance</code></td>
<td>
<p>a numeric value specifying the pixel pair distance offsets (a 'pixel' value such as 1.0, 2.0 etc.)</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_angle">angle</code></td>
<td>
<p>a numeric value specifying the pixel pair angles (a 'degree' value such as 0.0, 30.0, 45.0, 90.0 etc.)</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_dir_save">dir_save</code></td>
<td>
<p>either NULL or a character string specifying a valid path to a directory where the output GLCM matrices (for the specified 'methods') will be saved. By setting this parameter to a valid directory the memory usage will be decreased.</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_threads">threads</code></td>
<td>
<p>an integer value specifying the number of cores to run in parallel</p>
</td></tr>
<tr><td><code id="fastGLCM_Rcpp_+3A_verbose">verbose</code></td>
<td>
<p>a boolean. If TRUE then information will be printed out in the console</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>The following are two factors which (highly probable) will increase memory usage during computations:</strong>
</p>

<ul>
<li> <p><strong>1st.</strong> the image size (the user might have to resize the image first)
</p>
</li>
<li> <p><strong>2nd.</strong> the 'levels' parameter. The bigger this parameter the more matrices will be initialized and more memory will be used. For instance if the 'levels' parameter equals
to 8 then 8 * 8 = 64 matrices of equal size to the input image will be initialized. That means if the image has dimensions (2745 x 2745) and the image-object size is approx. 60 MB then
by initializing 64 matrices the memory will increase to 3.86 GB.
</p>
</li></ul>

<p><strong>This function is an Rcpp implementation</strong> of the python fastGLCM module. When using each function separately by utilizing all threads it's slightly faster compared to the python
vectorized functions, however it's a lot faster when computing all features at once.
</p>
<p>The <strong>dir_save</strong> parameter allows the user to save the GLCM's as .csv files to a directory. That way the output GLCM's matrices won't be returned in the R session (reduced memory usage). However, by
saving the GLCM's to .csv files the computation time increases.
</p>


<h3>Value</h3>

<p>a list consisting of one or more GLCM features
</p>


<h3>References</h3>

<p>https://github.com/tzm030329/GLCM
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
require(fastGLCM)
require(OpenImageR)
require(utils)

temp_dir = tempdir(check = FALSE)
# temp_dir

zip_file = system.file('images', 'JAXA_Joso-City2_PAN.tif.zip', package = "fastGLCM")
utils::unzip(zip_file, exdir = temp_dir)
path_extracted = file.path(temp_dir, 'JAXA_Joso-City2_PAN.tif')

im = readImage(path = path_extracted)
dim(im)

#...............................................
# resize the image and adjust pixel values range
#...............................................

im = resizeImage(im, 500, 500, 'nearest')
im = OpenImageR::norm_matrix_range(im, 0, 255)

#---------------------------------
# computation of all GLCM features
#---------------------------------

methods = c('mean',
            'std',
            'contrast',
            'dissimilarity',
            'homogeneity',
            'ASM',
            'energy',
            'max',
            'entropy')

res_glcm = fastGLCM_Rcpp(data = im,
                         methods = methods,
                         levels = 8,
                         kernel_size = 5,
                         distance = 1.0,
                         angle = 0.0,
                         threads = 1)
# str(res_glcm)

# plot_multi_images(list_images = res_glcm,
#                   par_ROWS = 2,
#                   par_COLS = 5,
#                   titles = methods)

if (file.exists(path_extracted)) file.remove(path_extracted)
</code></pre>

<hr>
<h2 id='inner_elapsed_time'>inner function of 'compute_elapsed_time'</h2><span id='topic+inner_elapsed_time'></span>

<h3>Description</h3>

<p>inner function of 'compute_elapsed_time'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inner_elapsed_time(secs, estimated = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inner_elapsed_time_+3A_secs">secs</code></td>
<td>
<p>a numeric value specifying the seconds</p>
</td></tr>
<tr><td><code id="inner_elapsed_time_+3A_estimated">estimated</code></td>
<td>
<p>a boolean. If TRUE then the output label becomes the 'Estimated time'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character string showing the estimated or elapsed time
</p>

<hr>
<h2 id='plot_multi_images'>Plot multiple images</h2><span id='topic+plot_multi_images'></span>

<h3>Description</h3>

<p>Plot multiple images
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_multi_images(list_images, par_ROWS, par_COLS, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_multi_images_+3A_list_images">list_images</code></td>
<td>
<p>a list of images that should be visualized</p>
</td></tr>
<tr><td><code id="plot_multi_images_+3A_par_rows">par_ROWS</code></td>
<td>
<p>an integer specifying the number of rows of the ouput plot-grid</p>
</td></tr>
<tr><td><code id="plot_multi_images_+3A_par_cols">par_COLS</code></td>
<td>
<p>an integer specifying the number of columns of the output plot-grid</p>
</td></tr>
<tr><td><code id="plot_multi_images_+3A_...">...</code></td>
<td>
<p>further arguments for the 'plot_multi_images' method of the 'GaborFeatureExtract' R6 class ('OpenImageR' package)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the usage of the 'plot_multi_images()' function see the example section of the 'fastGLCM_Rcpp()' function and 'fastglcm()' R6 class
</p>


<h3>Value</h3>

<p>it doesn't return an R object but it displays a list of input images
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package CompMix</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CompMix}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Comp.Mix'><p>A comprehensive toolkit for environmental mixtures analysis</p></a></li>
<li><a href='#lmi_simul_dat'><p>Simulate data from linear model with interactions</p></a></li>
<li><a href='#simul_x_block'><p>Simulate covariate matrix with block structure</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Comprehensive Toolkit for Environmental Mixtures Analysis
('CompMix')</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Quantitative characterization of the health impacts associated with exposure to chemical mixtures has received considerable attention in current environmental and epidemiological studies. 'CompMix' package allows practitioners to estimate the health impacts from exposure to chemical mixtures data through various statistical approaches, including Lasso, Elastic net, Bayeisan kernel machine regression (BKMR), hierNet, Quantile g-computation, Weighted quantile sum (WQS) and Random forest. Hao W, Cathey A, Aung M, Boss J, Meeker J, Mukherjee B. (2024) "Statistical methods for chemical mixtures: a practitioners guide". &lt;<a href="https://doi.org/10.1101%2F2024.03.03.24303677">doi:10.1101/2024.03.03.24303677</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, mvtnorm, gglasso, higlasso, hierNet, glmnet,
SuperLearner, bkmr, qgcomp, gWQS, pROC, randomForest, devtools</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-21 03:18:28 UTC; weiha</td>
</tr>
<tr>
<td>Author:</td>
<td>Wei Hao [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Wei Hao &lt;weihao@umich.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-22 12:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Comp.Mix'>A comprehensive toolkit for environmental mixtures analysis</h2><span id='topic+Comp.Mix'></span>

<h3>Description</h3>

<p>A comprehensive toolkit for environmental mixtures analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Comp.Mix(
  y,
  x,
  z = NULL,
  y.type,
  test.pct = 0.5,
  var.select = NULL,
  interaction = NULL,
  interaction.exp.cov = NULL,
  covariates.forcein = NULL,
  bkmr.pip = 0.5,
  bkmr.iter = 500,
  formula = NULL,
  expnms = NULL,
  seed = 1234,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Comp.Mix_+3A_y">y</code></td>
<td>
<p>A vector of either continuous or binary values to indicate the health outcome</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_x">x</code></td>
<td>
<p>A matrix of numeric values to indicate the chemical mixtures</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_z">z</code></td>
<td>
<p>A matrix of numeric values to indicate the covariates</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_y.type">y.type</code></td>
<td>
<p>A character value of either &quot;continuous&quot; or &quot;binary&quot;</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_test.pct">test.pct</code></td>
<td>
<p>A numeric scalar between 0 and 1 to indicate the proportion allocated as test samples</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_var.select">var.select</code></td>
<td>
<p>A logical value to indicate whether to perform variable selection</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_interaction">interaction</code></td>
<td>
<p>A logical value (TRUE/FALSE) to indicate whether to include
pairwise interaction terms between all the chemical mixtures x</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_interaction.exp.cov">interaction.exp.cov</code></td>
<td>
<p>A logical value (TRUE/FALSE) to indicate whether to include
pairwise interaction terms between all the chemical mixtures x and covariates z. If interaction.exp.cov=TRUE,
interaction=TURE or interaction=FALSE will be ignored</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_covariates.forcein">covariates.forcein</code></td>
<td>
<p>A logical value (TRUE/FALSE) to indicate whether to force in any covariates</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_bkmr.pip">bkmr.pip</code></td>
<td>
<p>A numeric scalar between 0 and 1 to indicate the cutoff for the
posterior inclusion probability in BKMR</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_bkmr.iter">bkmr.iter</code></td>
<td>
<p>A positive integer to indicate the number of MCMC iterations for bkmr</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_formula">formula</code></td>
<td>
<p>the formula for qgcomp and wqs</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_expnms">expnms</code></td>
<td>
<p>a vector of characters for names of exposure variables</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_seed">seed</code></td>
<td>
<p>an integer value for seed</p>
</td></tr>
<tr><td><code id="Comp.Mix_+3A_verbose">verbose</code></td>
<td>
<p>a logical value to show information</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object which may contain up to 8 cases
</p>

<dl>
<dt>Case 1</dt><dd><p>variable selection on main effects for exposures and confounders</p>
</dd>
</dl>

<p>Each case may contain some of the following elements
</p>

<dl>
<dt>betaest</dt><dd><p>a numeric vector of coeffcients for the exposures</p>
</dd>
<dt>z_betaest</dt><dd><p>a numeric vector of coeffcients for the covariates</p>
</dd>
<dt>sse</dt><dd><p>A positive scalar to indicate sum of squares error</p>
</dd>
<dt>corr</dt><dd><p>A numeric scalar between -1 and 1 to indicate correlation coefficient</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Wei Hao &lt;weihao@umich.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- lmi_simul_dat(n=1000,p=20,q=5,
block_idx=c(1,1,2,2,3,1,1,1,1,1,2,2,2,2,3,3,3,3,3,3),
within_rho=0.6,btw_rho=0.1,R2=0.2,
effect_size=1,effect_size_i=1,
cancel_effect = FALSE)
#Example 1: The users would like to perform variable selections
#on main effects of exposures and covariates, and outcome, exposures and
#covariates are entered. For any individual interactions that the users would
#like to include in the models, they can add those into the covariate z.
res_ex1 &lt;- Comp.Mix(y.type="continuous",y=dat$y, x=dat$x, z=dat$z, test.pct=0.5,
var.select = TRUE, interaction = FALSE, interaction.exp.cov = FALSE,
covariates.forcein = FALSE,
bkmr.pip=0.5, seed=2023)

</code></pre>

<hr>
<h2 id='lmi_simul_dat'>Simulate data from linear model with interactions</h2><span id='topic+lmi_simul_dat'></span>

<h3>Description</h3>

<p>Simulate data from linear model with interactions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lmi_simul_dat(
  n,
  p,
  q,
  block_idx = c(1, 1, 2, 2, 3, 1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3),
  sigma2_x = 1,
  within_rho = 0.6,
  btw_rho = 0.2,
  R2 = 0.8,
  effect_size = 1,
  effect_size_i = 1,
  cancel_effect = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lmi_simul_dat_+3A_n">n</code></td>
<td>
<p>a positive integer to indicate sample size</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_p">p</code></td>
<td>
<p>a positive integer to specify the number of exposures</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_q">q</code></td>
<td>
<p>a positive integer to specify the number of non-zero effects</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_block_idx">block_idx</code></td>
<td>
<p>a vector of positive integers to indicate the block IDs.
The length of the vector is p.</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_sigma2_x">sigma2_x</code></td>
<td>
<p>a positive numeric scalar for variance of the covariates</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_within_rho">within_rho</code></td>
<td>
<p>a numeric scalar between 0 and 1 for the within block correlation</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_btw_rho">btw_rho</code></td>
<td>
<p>a numeric scalar between 0 and 1 for the between block correlation</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_r2">R2</code></td>
<td>
<p>a numeric scalar for R-squared</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_effect_size">effect_size</code></td>
<td>
<p>a numeric scalar for effect size for main effect</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_effect_size_i">effect_size_i</code></td>
<td>
<p>a numeric scalar for effect size for interaction effect</p>
</td></tr>
<tr><td><code id="lmi_simul_dat_+3A_cancel_effect">cancel_effect</code></td>
<td>
<p>a logic value to indicate whether there is effect cancelation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list object of the following
</p>

<dl>
<dt>x</dt><dd><p>covariate matrix of dimension n by p</p>
</dd>
<dt>n</dt><dd><p>sample size</p>
</dd>
<dt>p</dt><dd><p>number of covariates</p>
</dd>
<dt>sigma2_x</dt><dd><p>variance</p>
</dd>
<dt>within_rho</dt><dd><p>within block correlation</p>
</dd>
<dt>btw_rho</dt><dd><p>between block correaltion</p>
</dd>
<dt>block_idx</dt><dd><p>block indices</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Wei Hao &lt;weihao@umich.edu&gt;
</p>

<hr>
<h2 id='simul_x_block'>Simulate covariate matrix with block structure</h2><span id='topic+simul_x_block'></span>

<h3>Description</h3>

<p>Simulate covariate matrix with block structure
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simul_x_block(n, p, block_idx, sigma2_x = 1, within_rho = 0.6, btw_rho = 0.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simul_x_block_+3A_n">n</code></td>
<td>
<p>a positive integer to indicate sample size</p>
</td></tr>
<tr><td><code id="simul_x_block_+3A_p">p</code></td>
<td>
<p>a positive integer to specify the number of covariates</p>
</td></tr>
<tr><td><code id="simul_x_block_+3A_block_idx">block_idx</code></td>
<td>
<p>a vector of positive integers to indicate the block IDs.
The length of the vector is p.</p>
</td></tr>
<tr><td><code id="simul_x_block_+3A_sigma2_x">sigma2_x</code></td>
<td>
<p>a positive numeric scalar for variance of the covariates</p>
</td></tr>
<tr><td><code id="simul_x_block_+3A_within_rho">within_rho</code></td>
<td>
<p>a numeric scalar between 0 and 1 for the within block correlation</p>
</td></tr>
<tr><td><code id="simul_x_block_+3A_btw_rho">btw_rho</code></td>
<td>
<p>a numeric scalar between 0 and 1 for the between block correlation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list object of the following
</p>

<dl>
<dt>x</dt><dd><p>covariate matrix of dimension n by p</p>
</dd>
<dt>n</dt><dd><p>sample size</p>
</dd>
<dt>p</dt><dd><p>number of covariates</p>
</dd>
<dt>sigma2_x</dt><dd><p>variance</p>
</dd>
<dt>within_rho</dt><dd><p>within block correlation</p>
</dd>
<dt>btw_rho</dt><dd><p>between block correaltion</p>
</dd>
<dt>block_idx</dt><dd><p>block indices</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Wei Hao &lt;weihao@umich.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- simul_x_block(n = 1000, p = 10, block_idx = rep(1:4,length=10))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

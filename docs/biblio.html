<!DOCTYPE html><html><head><title>Help for package biblio</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {biblio}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#comp_df-class'><p>Compared libraries</p></a></li>
<li><a href='#compare_df'><p>Compare data frames and libraries</p></a></li>
<li><a href='#detect_keys'><p>Detect bibtexkeys used in an r-markdown document</p></a></li>
<li><a href='#insert_rows'><p>Insert new rows in a data frame</p></a></li>
<li><a href='#lib_df-class'><p>Electronic library</p></a></li>
<li><a href='#print'><p>Print content of lib_df objects</p></a></li>
<li><a href='#read_bib'><p>Read BibTeX Databases</p></a></li>
<li><a href='#reflist'><p>Write a Reference List in rmarkdown</p></a></li>
<li><a href='#ris2df'><p>Import a RIS file to a data frame</p></a></li>
<li><a href='#synopsis'><p>References by Lueber and Pliscoff (2018)</p></a></li>
<li><a href='#update_data'><p>Update data frames</p></a></li>
<li><a href='#write_bib'><p>Write BibTeX Files</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.0.8</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Title:</td>
<td>Interacting with BibTeX Databases</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, stringr, tools, yamlme</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, devtools, rmarkdown, testthat</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc (&gt;= 1.14) - http://pandoc.org</td>
</tr>
<tr>
<td>Description:</td>
<td>Reading and writing BibTeX files using data frames in R sessions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://kamapu.github.io/biblio/">https://kamapu.github.io/biblio/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kamapu/biblio/issues">https://github.com/kamapu/biblio/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-11 15:07:00 UTC; miguel</td>
</tr>
<tr>
<td>Author:</td>
<td>Miguel Alvarez <a href="https://orcid.org/0000-0003-1500-1834"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Miguel Alvarez &lt;kamapu78@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-11 16:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='comp_df-class'>Compared libraries</h2><span id='topic+comp_df-class'></span>

<h3>Description</h3>

<p>An S3 class for compared data frames. A list containing added, deleted
entries on the regarding a key column and cells that are modified.
</p>

<hr>
<h2 id='compare_df'>Compare data frames and libraries</h2><span id='topic+compare_df'></span><span id='topic+compare_df+2Cdata.frame+2Cdata.frame+2Ccharacter-method'></span><span id='topic+compare_df+2Clib_df+2Clib_df+2Cmissing-method'></span>

<h3>Description</h3>

<p>Report on differences between two versions of the same data frame or
electronic library.
When used for data frames, you need to indicate the variable containing IDs
for each entry, while applied to <a href="#topic+lib_df-class">lib_df</a> objects, the variable
'bibtexkey' will be considered as ID per default.
</p>
<p>The output printed in the console will advice about added and deleted entries
in 'y' as well as any change in the entries common to both versions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_df(x, y, key, ...)

## S4 method for signature 'data.frame,data.frame,character'
compare_df(x, y, key, ...)

## S4 method for signature 'lib_df,lib_df,missing'
compare_df(x, y, key, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_df_+3A_x">x</code></td>
<td>
<p>The (old) reference data frame.</p>
</td></tr>
<tr><td><code id="compare_df_+3A_y">y</code></td>
<td>
<p>The updated (new) data frame.</p>
</td></tr>
<tr><td><code id="compare_df_+3A_key">key</code></td>
<td>
<p>A character value with the name of the variable used as primary
key in the tables.</p>
</td></tr>
<tr><td><code id="compare_df_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A S3 object of class <a href="#topic+comp_df-class">comp_df</a>, which can be printed in the console by
<code><a href="#topic+print">print()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+update">update()</a></code>, <a href="#topic+lib_df-class">lib_df</a>, <a href="#topic+comp_df-class">comp_df</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Partially matching libraries
Refs1 &lt;- synopsis[1:10, ]
Refs2 &lt;- synopsis[6:15, ]

# some modification in second library
Refs2[3, "title"] &lt;- "New Title"

# compare libraries
compare_df(Refs1, Refs2)
</code></pre>

<hr>
<h2 id='detect_keys'>Detect bibtexkeys used in an r-markdown document</h2><span id='topic+detect_keys'></span><span id='topic+detect_keys.character'></span><span id='topic+detect_keys+2Ccharacter-method'></span><span id='topic+detect_keys.rmd_doc'></span><span id='topic+detect_keys+2Crmd_doc-method'></span>

<h3>Description</h3>

<p>This function screens a character vector (usually an imported r-markdown
document) for the use of citations by bibtexkeys (<code style="white-space: pre;">&#8288;@bibtexkey&#8288;</code>), retrieving
the detected key with its occurrence in the vector, assuming each element as
a line of the original document.
</p>
<p>This function is based on <code>bbt_detect_citations()</code> from the package
<a href="https://github.com/paleolimbot/rbbt">rbbt</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detect_keys(x, ...)

## S3 method for class 'character'
detect_keys(x, ...)

## S3 method for class 'rmd_doc'
detect_keys(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detect_keys_+3A_x">x</code></td>
<td>
<p>A character vector, a file imported by <code><a href="base.html#topic+readLines">readLines()</a></code> or an object
imported by <code><a href="yamlme.html#topic+read_rmd">read_rmd()</a></code>. If the character vector is the name of a Rmd
file, <code><a href="base.html#topic+readLines">readLines()</a></code> will be internally called to read it.</p>
</td></tr>
<tr><td><code id="detect_keys_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods. In character-method they
are passed to <code><a href="base.html#topic+readLines">readLines()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with two columns, <code>bibtexkey</code> for the found keys and <code>line</code>
with the line number of the occurrence of the key in the document.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Read installed r-markdown document
my_document &lt;- readLines(file.path(path.package("biblio"), "document.Rmd"))

## Screen for citations
cited_refs &lt;- detect_keys(my_document)
cited_refs
</code></pre>

<hr>
<h2 id='insert_rows'>Insert new rows in a data frame</h2><span id='topic+insert_rows'></span>

<h3>Description</h3>

<p>Insert new rows in a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>insert_rows(x, y)
</code></pre>

<hr>
<h2 id='lib_df-class'>Electronic library</h2><span id='topic+lib_df-class'></span>

<h3>Description</h3>

<p>An S3 class for library entries. This class inherits properties from data
frames.
</p>

<hr>
<h2 id='print'>Print content of lib_df objects</h2><span id='topic+print'></span><span id='topic+print.lib_df'></span><span id='topic+print+2Clib_df-method'></span><span id='topic+print.comp_df'></span><span id='topic+print+2Ccomp_df-method'></span>

<h3>Description</h3>

<p>A method for a brief overview on the content of a <a href="#topic+lib_df-class">lib_df</a> or a
<a href="#topic+comp_df-class">comp_df</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lib_df'
print(x, ...)

## S3 method for class 'comp_df'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_+3A_x">x</code></td>
<td>
<p>An object of class 'lib_df'.</p>
</td></tr>
<tr><td><code id="print_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible object, printed in the console.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(synopsis)
</code></pre>

<hr>
<h2 id='read_bib'>Read BibTeX Databases</h2><span id='topic+read_bib'></span>

<h3>Description</h3>

<p>Reading BibTeX databases and importing into R as a data frame. All the fields
will be inserted as character values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_bib(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_bib_+3A_x">x</code></td>
<td>
<p>Path to BibTeX file.</p>
</td></tr>
<tr><td><code id="read_bib_+3A_...">...</code></td>
<td>
<p>Further arguments passed to <code><a href="base.html#topic+readLines">readLines()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <a href="#topic+lib_df-class">lib_df</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Refs &lt;- read_bib(x = file.path(
  path.package("biblio"),
  "LuebertPliscoff.bib"
))
Refs
</code></pre>

<hr>
<h2 id='reflist'>Write a Reference List in rmarkdown</h2><span id='topic+reflist'></span><span id='topic+reflist.character'></span><span id='topic+reflist+2Ccharacter-method'></span><span id='topic+reflist.lib_df'></span><span id='topic+reflist+2Clib_df-method'></span>

<h3>Description</h3>

<p>A fast way to produce a reference list in an r-markdown document from a
<code>lib_df</code> object.
</p>
<p>This function may or may not produce intermediate files (bib and Rmd) and the
result can be assigned to an object for further edition
(see <code><a href="yamlme.html#topic+update">yamlme::update()</a></code>).
</p>
<p>A html file will be written by <code><a href="yamlme.html#topic+write_rmd">write_rmd()</a></code> and <code><a href="yamlme.html#topic+render_rmd">render_rmd()</a></code> in the
working directory and displayed by <code><a href="utils.html#topic+browseURL">browseURL()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reflist(x, ...)

## S3 method for class 'character'
reflist(
  x,
  output_file,
  delete_source = TRUE,
  title = "Automatic Reference List",
  output = "html_document",
  nocite = "'@*'",
  urlcolor = "blue",
  encoding = "UTF-8",
  ...
)

## S3 method for class 'lib_df'
reflist(x, filename, delete_source = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reflist_+3A_x">x</code></td>
<td>
<p>A <code>lib_df</code> object to produce the reference list. In the character
method, a character value indicating the path of a bibtex file
(passed to <code><a href="#topic+read_bib">read_bib()</a></code>).</p>
</td></tr>
<tr><td><code id="reflist_+3A_...">...</code></td>
<td>
<p>Further arguments passed to the yaml header in the intermediate
Rmarkdown document.</p>
</td></tr>
<tr><td><code id="reflist_+3A_output_file">output_file</code></td>
<td>
<p>A character value with the name for the written Rmarkdown
file.</p>
</td></tr>
<tr><td><code id="reflist_+3A_delete_source">delete_source</code></td>
<td>
<p>A logical value indicating whether written bib file should
be deleted after rendering html or not.</p>
</td></tr>
<tr><td><code id="reflist_+3A_title">title</code>, <code id="reflist_+3A_output">output</code>, <code id="reflist_+3A_nocite">nocite</code>, <code id="reflist_+3A_urlcolor">urlcolor</code></td>
<td>
<p>Arguments used for the yaml-header in
r-markdown and passed to <code><a href="yamlme.html#topic+write_rmd">write_rmd()</a></code>. They can be cancelled using the
value NULL (not recommended for nocite).</p>
</td></tr>
<tr><td><code id="reflist_+3A_encoding">encoding</code></td>
<td>
<p>A character value indicating the encoding string. It is
passed to <code><a href="#topic+write_bib">write_bib()</a></code>.</p>
</td></tr>
<tr><td><code id="reflist_+3A_filename">filename</code></td>
<td>
<p>A character value with the name for the written Rmd file,
without file extension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible object of class <code>rmd_doc</code>. A Rmd file will be written by
<code><a href="yamlme.html#topic+write_rmd">write_rmd()</a></code> as well.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
reflist(synopsis)

## End(Not run)

</code></pre>

<hr>
<h2 id='ris2df'>Import a RIS file to a data frame</h2><span id='topic+ris2df'></span>

<h3>Description</h3>

<p>Since this package is focussing on reference lists in BibTeX, a translation
routine needs to be developed. For keeping it simple, the read function will
be kept as internal function producing a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ris2df(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ris2df_+3A_x">x</code></td>
<td>
<p>A character value indicating the path to the RIS file.</p>
</td></tr>
<tr><td><code id="ris2df_+3A_...">...</code></td>
<td>
<p>Further arguments (not yet in use).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> object.
</p>

<hr>
<h2 id='synopsis'>References by Lueber and Pliscoff (2018)</h2><span id='topic+synopsis'></span>

<h3>Description</h3>

<p>Example of an object formatted as <a href="#topic+lib_df-class">lib_df</a>. This library is published
with the references of the book
<b>Bioclimatic and vegetational synopsis of Chile</b> by
<a href="https://www.uchile.cl/publicaciones/141285/sinopsis-bioclimatica-y-vegetacional-de-chile">Luebert and Pliscoff (2017)</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>synopsis
</code></pre>


<h3>Format</h3>

<p>An object of class <code>lib_df</code> (inherits from <code>data.frame</code>) with 1701 rows and 23 columns.
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.5281/zenodo.60800">doi:10.5281/zenodo.60800</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(synopsis)

## Import from installed bibtex file
synopsis &lt;- read_bib(x = file.path(
  path.package("biblio"),
  "LuebertPliscoff.bib"
))

</code></pre>

<hr>
<h2 id='update_data'>Update data frames</h2><span id='topic+update_data'></span><span id='topic+update_data+2Cdata.frame+2Cdata.frame+2Ccharacter-method'></span><span id='topic+update_data+2Clib_df+2Clib_df+2Cmissing-method'></span><span id='topic+update_data+2Clib_df+2Clib_df+2Ccharacter-method'></span><span id='topic+update_data+3C-'></span><span id='topic+update_data+3C-+2Cdata.frame+2Ccharacter+2Cdata.frame-method'></span><span id='topic+update_data+3C-+2Clib_df+2Cmissing+2Clib_df-method'></span>

<h3>Description</h3>

<p>This function compares two versions of the same data frame and detect changes
as additions, deleted entries or updates (modified entries).
</p>
<p>A method to compare <a href="#topic+lib_df-class">lib_df</a> objects is also provided as well as a
replace method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_data(object, revision, key, ...)

## S4 method for signature 'data.frame,data.frame,character'
update_data(
  object,
  revision,
  key,
  add = FALSE,
  delete = FALSE,
  update = FALSE,
  ...
)

## S4 method for signature 'lib_df,lib_df,missing'
update_data(object, revision, key, ...)

update_data(object, key, ...) &lt;- value

## S4 replacement method for signature 'data.frame,character,data.frame'
update_data(object, key, ...) &lt;- value

## S4 replacement method for signature 'lib_df,missing,lib_df'
update_data(object, key, ...) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_data_+3A_object">object</code></td>
<td>
<p>A data frame or a <a href="#topic+lib_df-class">lib_df</a> object representing the
original version.</p>
</td></tr>
<tr><td><code id="update_data_+3A_revision">revision</code></td>
<td>
<p>The updated version of 'object' to be compared.</p>
</td></tr>
<tr><td><code id="update_data_+3A_key">key</code></td>
<td>
<p>A character value indicating the column used as identifier. This
variable have to be in both versions otherwise this function will
retrieve an error.</p>
</td></tr>
<tr><td><code id="update_data_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="update_data_+3A_delete">delete</code>, <code id="update_data_+3A_add">add</code>, <code id="update_data_+3A_update">update</code></td>
<td>
<p>Logical value indicating whether the action
should be carried out. If all are <code>'FALSE'</code>, this function will just
report differences as done by <a href="#topic+compare_df">compare_df</a>.</p>
</td></tr>
<tr><td><code id="update_data_+3A_value">value</code></td>
<td>
<p>The updated version of 'object' in the replace methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either an invisible output with a print in the console or an updated object
of class <a href="#topic+lib_df-class">lib_df</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Adding an ID to data set iris
iris2 &lt;- iris
iris2$id &lt;- 1:nrow(iris2)

# rows to add using mean values per species
iris_mod &lt;- aggregate(cbind(
  Sepal.Length, Sepal.Width, Petal.Length,
  Petal.Width
) ~ Species, data = iris2, FUN = mean)
iris_mod$id &lt;- (1:nrow(iris_mod)) + nrow(iris2)
iris_mod &lt;- do.call(rbind, list(iris2, iris_mod[, colnames(iris2)]))

# delete some entries
iris_mod &lt;- iris_mod[-c(15, 75, 105, 145), ]

# modify entries
iris_mod$Petal.Length[c(20, 30)] &lt;- 0
iris_mod$Petal.Width[c(20, 50)] &lt;- 0

# just a comparison
update_data(iris2, iris_mod, key = "id")

# do update
iris2 &lt;- update_data(iris2, iris_mod,
  key = "id", delete = TRUE, add = TRUE,
  update = TRUE
)
</code></pre>

<hr>
<h2 id='write_bib'>Write BibTeX Files</h2><span id='topic+write_bib'></span><span id='topic+write_bib.lib_df'></span>

<h3>Description</h3>

<p>BibTeX databases can be created from data frames, interacting with Postgres
databases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_bib(x, ...)

## S3 method for class 'lib_df'
write_bib(x, filename, encoding = "UTF-8", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_bib_+3A_x">x</code></td>
<td>
<p>A data frame with bibliographic entries.</p>
</td></tr>
<tr><td><code id="write_bib_+3A_...">...</code></td>
<td>
<p>Further arguments passed to <code><a href="base.html#topic+file">file()</a></code>.</p>
</td></tr>
<tr><td><code id="write_bib_+3A_filename">filename</code></td>
<td>
<p>A character value with the path and the name of the file to
be written.</p>
</td></tr>
<tr><td><code id="write_bib_+3A_encoding">encoding</code></td>
<td>
<p>Character value with the encoding (passed to <code><a href="base.html#topic+file">file()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A bibtex file.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-US"><head><title>Help for package anomo</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {anomo}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#mcci'><p>Compute Monte Carlo Confidence Intervals</p></a></li>
<li><a href='#od.eq.2group'><p>Optimal sample allocation calculation for equivalence test of two-group</p>
means</a></li>
<li><a href='#power.eq.2group'><p>Statistical Power Analysis for Equivalence Tests of Two-Group Means</p></a></li>
<li><a href='#re'><p>Relative efficiency (RE) calculation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analysis of Moderation, Statistical Power, and Optimal Design
for Studies Detecting Difference and Equivalence</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-2-22</td>
</tr>
<tr>
<td>Description:</td>
<td>Analysis of moderation (ANOMO) method conceptualizes
    the difference and equivalence tests as a moderation problem to 
    test the difference and equivalence of 
    two means (or two effects in two studies).</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0), graphics (&ge; 4.0.0), base(&ge; 4.0.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr, markdown, odr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>rmarkdown, knitr, markdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-23 01:22:16 UTC; zucha</td>
</tr>
<tr>
<td>Author:</td>
<td>Zuchao Shen <a href="https://orcid.org/0000-0003-3483-0451"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zuchao Shen &lt;zuchao.shen@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-23 23:30:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='mcci'>Compute Monte Carlo Confidence Intervals</h2><span id='topic+mcci'></span>

<h3>Description</h3>

<p>Compute Monte Carlo confidence intervals (MCCIs) for the
difference and equivalence tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcci(
  d1 = NULL,
  se1 = NULL,
  d2 = NULL,
  se2 = NULL,
  n.mcci = 10000,
  sig.level = 0.05,
  two.tailed = TRUE,
  eq.bd = NULL,
  xlim = NULL,
  xlab = NULL,
  ylab = NULL,
  dashed.lines = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mcci_+3A_d1">d1</code></td>
<td>
<p>The estimated mean(s) (effect(s)) for group 1 (study 1).
If more than one effect is specified, it assumes that the effects are
components of a mediation effect.</p>
</td></tr>
<tr><td><code id="mcci_+3A_se1">se1</code></td>
<td>
<p>The estimated standard error for d1.
If more than one standard error is specified, it assumes that they are
estimated components of a mediation effect.</p>
</td></tr>
<tr><td><code id="mcci_+3A_d2">d2</code></td>
<td>
<p>The estimated mean(s) (effect(s)) for group 2 (study 2).
If more than one effect is specified, it assumes that the effects are
components of a mediation effect.</p>
</td></tr>
<tr><td><code id="mcci_+3A_se2">se2</code></td>
<td>
<p>The estimated standard error for d2.
If more than one standard error is specified, it assumes that they are
estimated components of a mediation effect.</p>
</td></tr>
<tr><td><code id="mcci_+3A_n.mcci">n.mcci</code></td>
<td>
<p>The number of draws for the MCCI method. Default is 10,000.</p>
</td></tr>
<tr><td><code id="mcci_+3A_sig.level">sig.level</code></td>
<td>
<p>The significance level. Default is .05.</p>
</td></tr>
<tr><td><code id="mcci_+3A_two.tailed">two.tailed</code></td>
<td>
<p>Logical of two tailed test for difference test. Default is TRUE.</p>
</td></tr>
<tr><td><code id="mcci_+3A_eq.bd">eq.bd</code></td>
<td>
<p>The limit of the equivalence bounds for an equivalence test.
Default is the MCCI for the equivalence test.
It can be specified in the arguments as eq.bd = a positive number or
eq.bd = c(lower bound #, upper bound #).</p>
</td></tr>
<tr><td><code id="mcci_+3A_xlim">xlim</code></td>
<td>
<p>The limits set for the x-axis in the plot.
Default is the MCCI for the difference test. It can be
specified in the arguments as xlim = c(lower #, higher #).</p>
</td></tr>
<tr><td><code id="mcci_+3A_xlab">xlab</code></td>
<td>
<p>The label for the x-axis in the plot.
Default is &quot;Differences in Effects&quot;.</p>
</td></tr>
<tr><td><code id="mcci_+3A_ylab">ylab</code></td>
<td>
<p>The label for the y-axis in the plot.
Default is NULL.</p>
</td></tr>
<tr><td><code id="mcci_+3A_dashed.lines">dashed.lines</code></td>
<td>
<p>Logical of whether dashed lines of equivalence
bounds and zero should be added in the plot. Default is TRUE.</p>
</td></tr>
<tr><td><code id="mcci_+3A_verbose">verbose</code></td>
<td>
<p>Logical; print the process if TRUE,
otherwise not; default value is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The results of moderation analysis and equivalence tests
using the MCCI method. It will also provide a plot for
the MCCIs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   library(anomo)
   # compute MCCI from two studies
    myci &lt;- mcci(d1 = .1, se1 = .1, d2 = .2, se2 = .1)
   # compute MCCI from one study
   myci &lt;- mcci(d1 = .1, se1 = .1)

# See the package vignettes for more examples, including the MCCI for the
# test of significance and equivalence for mediation effects in two studies.

</code></pre>

<hr>
<h2 id='od.eq.2group'>Optimal sample allocation calculation for equivalence test of two-group
means</h2><span id='topic+od.eq.2group'></span>

<h3>Description</h3>

<p>The optimal design of single-level experiments detecting
equivalence of two-group means is to choose the optimal sample
allocation that minimizes the variance of a treatment effect under
a fixed budget,  which is approximately the optimal
sample allocation that maximizes statistical power under a fixed budget.
The optimal design parameter is
the proportion of individuals to be assigned to treatment (<code>p</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>od.eq.2group(
  p = NULL,
  r12 = NULL,
  c1 = NULL,
  c1t = NULL,
  m = NULL,
  plots = TRUE,
  plim = NULL,
  varlim = NULL,
  plab = NULL,
  varlab = NULL,
  vartitle = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="od.eq.2group_+3A_p">p</code></td>
<td>
<p>The proportion of individuals to be assigned to treatment.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_r12">r12</code></td>
<td>
<p>The proportion of outcome variance explained by covariates.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_c1">c1</code></td>
<td>
<p>The cost of sampling one unit in the control condition.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_c1t">c1t</code></td>
<td>
<p>The cost of sampling one unit in the treated condition.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_m">m</code></td>
<td>
<p>Total budget, default value is the total costs of sampling 600
individuals across treatment conditions.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_plots">plots</code></td>
<td>
<p>Logical, provide variance plots if TRUE, otherwise
not; default value is TRUE.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_plim">plim</code></td>
<td>
<p>The plot range for p, default value is c(0, 1).</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_varlim">varlim</code></td>
<td>
<p>The plot range for variance, default value is c(0, 0.05).</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_plab">plab</code></td>
<td>
<p>The plot label for <code>p</code>,
default value is &quot;Proportion of Units in Treatment: p&quot;.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_varlab">varlab</code></td>
<td>
<p>The plot label for variance,
default value is &quot;Variance&quot;.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_vartitle">vartitle</code></td>
<td>
<p>The title of variance plot, default value is NULL.</p>
</td></tr>
<tr><td><code id="od.eq.2group_+3A_verbose">verbose</code></td>
<td>
<p>Logical; print the value of <code>p</code> if TRUE,
otherwise not; default value is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unconstrained or constrained optimal sample allocation (<code>p</code>).
The function also returns function name, design type,
and parameters used in the calculation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Unconstrained optimal design #---------
  myod &lt;- od.eq.2group(r12 = 0.5, c1 = 1, c1t = 50)
  myod$out # output

</code></pre>

<hr>
<h2 id='power.eq.2group'>Statistical Power Analysis for Equivalence Tests of Two-Group Means</h2><span id='topic+power.eq.2group'></span>

<h3>Description</h3>

<p>Statistical power analysis for equivalence test of
two-group means.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>power.eq.2group(
  cost.model = FALSE,
  expr = NULL,
  constraint = NULL,
  d = NULL,
  eq.dis = NULL,
  m = NULL,
  c1 = NULL,
  c1t = NULL,
  n = NULL,
  p = NULL,
  q = 1,
  sig.level = 0.05,
  r12 = NULL,
  power = NULL,
  powerlim = NULL,
  nlim = NULL,
  mlim = NULL,
  eq.dislim = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="power.eq.2group_+3A_cost.model">cost.model</code></td>
<td>
<p>Logical; power analyses accommodating costs and budget
(e.g., required budget for desired power, power, minimum detectable
eq.dis under a fixed budget)
if TRUE. Otherwise, conventional power analysis is performed
(e.g., required sample size, power, or minimum detectable
eq.dis calculation);
default value is FALSE, and it will be changed to TRUE if
expr is not NULL.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_expr">expr</code></td>
<td>
<p>Returned object from function
<code><a href="#topic+od.eq.2group">od.eq.2group</a></code>; default value is NULL;
if <code>expr</code> is specified, parameter values of <code>r12</code>,
<code>c1</code>, <code>c1t</code>, and <code>p</code>
used or solved in function <code><a href="#topic+od.eq.2group">od.eq.2group</a></code> will
be passed to the current function;
only the value of <code>p</code> that specified or solved in
function <code><a href="#topic+od.eq.2group">od.eq.2group</a></code> can be overwritten
if <code>constraint</code> is specified.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_constraint">constraint</code></td>
<td>
<p>Specify the constrained value of
<code>p</code> in list format to overwrite that
from <code>expr</code>; default value is NULL.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_d">d</code></td>
<td>
<p>The estimated difference in two-group means.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_eq.dis">eq.dis</code></td>
<td>
<p>A positive number to specify the distance from equivalence
bounds to <code>d</code>. The equivalence bounds are
c(-abs(d)-eq.dis, abs(d)+eq.dis).</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_m">m</code></td>
<td>
<p>Total budget.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_c1">c1</code></td>
<td>
<p>The cost of sampling one unit in the control condition.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_c1t">c1t</code></td>
<td>
<p>The cost of sampling one unit in the treated condition.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_n">n</code></td>
<td>
<p>The total sample size across groups.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_p">p</code></td>
<td>
<p>The proportion of individuals in the intervention group or group 1.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_q">q</code></td>
<td>
<p>The number of predictors in the combined linear regression model.
Default is 1.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_sig.level">sig.level</code></td>
<td>
<p>The significance level. Default is .05.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_r12">r12</code></td>
<td>
<p>The proportion of variance explained by covariates if any.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_power">power</code></td>
<td>
<p>Statistical power.</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_powerlim">powerlim</code></td>
<td>
<p>The range for solving the root of power (power) numerically,
default value is c(1e-10, 1 - 1e-10).</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_nlim">nlim</code></td>
<td>
<p>The range for searching the root of sample size (n) numerically,
default value is c(4, 10e10).</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_mlim">mlim</code></td>
<td>
<p>The range for searching the root of budget (<code>m</code>) numerically,
default value is the costs sampling <code>nlim</code>
units across treatment conditions or
c(4 * ncost, 10e10 * ncost) with ncost = ((1 - p) * c1 + p * c1t).</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_eq.dislim">eq.dislim</code></td>
<td>
<p>The range for solving the root of equivalence difference
with the effect size (d) numerically, default value is c(0, 10).</p>
</td></tr>
<tr><td><code id="power.eq.2group_+3A_verbose">verbose</code></td>
<td>
<p>Logical; print the process if TRUE,
otherwise not; default value is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Required budget (and/or required sample size), statistical power, or
minimum detectable eq.dis
depending on the specification of parameters.
The function also returns the function name, design type,
and parameters used in the calculation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   library(anomo)
# 1. Conventional Power Analyses from Difference Perspectives
# Calculate the required sample size to achieve certain level of power
mysample &lt;- power.eq.2group(d = .1, eq.dis = 0.1,  p =.5,
                            r12 = .5, q = 1, power = .8)
mysample$out

# Calculate power provided by a sample size allocation
mypower &lt;- power.eq.2group(d = 1, eq.dis = .1, n = 1238, p =.5,
                           r12 = .5, q = 1)
mypower$out

# Calculate the minimum detectable distance a given sample size allocation
# can achieve
myeq.dis &lt;- power.eq.2group(d = .1, n = 1238, p =.5,
                           r12 = .5, q = 1, power = .8)
myeq.dis$out

# 2. Power Analyses Using Optimal Sample Allocation
myod &lt;- od.eq.2group(r12 = 0.5, c1 = 1, c1t = 10)
budget &lt;- power.eq.2group(expr = myod, d = .1, eq.dis = 0.1,
                          q = 1, power = .8)
budget.balanced &lt;- power.eq.2group(expr = myod, d = .1, eq.dis = 0.1,
                                   q = 1, power = .8,
                                   constraint = list(p = .50))
(budget.balanced$out$m-budget$out$m)/budget$out$m *100
# 27% more budget required from the balanced design with p = 0.50.

</code></pre>

<hr>
<h2 id='re'>Relative efficiency (RE) calculation</h2><span id='topic+re'></span>

<h3>Description</h3>

<p>Calculate the relative efficiency (RE) between two designs using
the re function from the R package odr.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>re(od, subod, rounded = TRUE, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="re_+3A_od">od</code></td>
<td>
<p>Returned object of first design (e.g., unconstrained optimal design)
from function <code><a href="#topic+od.eq.2group">od.eq.2group</a></code>.</p>
</td></tr>
<tr><td><code id="re_+3A_subod">subod</code></td>
<td>
<p>Returned object of second design (e.g., constrained optimal design)
from function <code><a href="#topic+od.eq.2group">od.eq.2group</a></code>.</p>
</td></tr>
<tr><td><code id="re_+3A_rounded">rounded</code></td>
<td>
<p>Logical; round the values of <code>p</code>
to two decimal places if TRUE.
No rounding if FALSE; default is TRUE.</p>
</td></tr>
<tr><td><code id="re_+3A_verbose">verbose</code></td>
<td>
<p>Logical; print the value of relative efficiency if TRUE,
otherwise not; default is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Relative efficiency value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Unconstrained optimal design #----------
  myod1 &lt;- od.eq.2group(r12 = 0.5, c1 = 1, c1t = 20)
# Constrained optimal design with p = .50
  myod2 &lt;- od.eq.2group(r12 = 0.5, c1 = 1, c1t = 20, p = .50)
# Relative efficiency (RE)
  myre &lt;- re(od = myod1, subod= myod2)
  myre$re # RE = 0.71

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

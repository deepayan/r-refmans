<!DOCTYPE html><html><head><title>Help for package manydata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {manydata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#call_packages'><p>Call, download, and update many packages</p></a></li>
<li><a href='#call_releases'><p>Call releases historical milestones/releases</p></a></li>
<li><a href='#call_sources'><p>Call sources for datacubes and datasets in 'many' packages</p></a></li>
<li><a href='#call_treaties'><p>Call treaties from 'many' datasets</p></a></li>
<li><a href='#coalesce_rows'><p>Get first non-missing</p></a></li>
<li><a href='#compare_categories'><p>Compare categories in 'many' datacubes</p></a></li>
<li><a href='#compare_dimensions'><p>Compare dimensions for 'many' data</p></a></li>
<li><a href='#compare_missing'><p>Compare missing observations for 'many' data</p></a></li>
<li><a href='#compare_overlap'><p>Compare the overlap between datasets in 'many' datacubes</p></a></li>
<li><a href='#compare_ranges'><p>Compare ranges of variables in 'many' data</p></a></li>
<li><a href='#consolidate'><p>Consolidate datacube into a single dataset</p></a></li>
<li><a href='#defunct'><p>Functions that have been renamed, superseded, or are no longer working</p></a></li>
<li><a href='#emperors'><p>Emperors datacube documentation</p></a></li>
<li><a href='#favour'><p>Favour datasets in a datacube</p></a></li>
<li><a href='#recollect'><p>Pastes unique string vectors</p></a></li>
<li><a href='#reexports'><p>Selects a single dataset from a datacube</p></a></li>
<li><a href='#repaint'><p>Fills missing data by lookup</p></a></li>
<li><a href='#reunite'><p>Pastes unique string vectors</p></a></li>
<li><a href='#transmutate'><p>Drop only columns used in formula</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>A Portal for Global Governance Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-02-22</td>
</tr>
<tr>
<td>Description:</td>
<td>This is the core package for the many packages universe.
    It includes functions to help researchers work with and contribute to 
    event datasets on global governance.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/globalgov/manydata">https://github.com/globalgov/manydata</a>, <a href="https://manydata.ch/">https://manydata.ch/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/globalgov/manydata/issues">https://github.com/globalgov/manydata/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, messydates, purrr, stringr, usethis, jsonlite, remotes,
httr, ggplot2 (&ge; 3.4.0), tidyr, plyr, zoo, cli</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, readr, knitr, rmarkdown, ggVennDiagram, manynet,
rlang</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-22 13:20:08 UTC; henriquesposito</td>
</tr>
<tr>
<td>Author:</td>
<td>James Hollway <a href="https://orcid.org/0000-0002-8361-9647"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut, ctb] (IHEID),
  Henrique Sposito <a href="https://orcid.org/0000-0003-3420-6085"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb] (IHEID),
  Bernhard Bieri <a href="https://orcid.org/0000-0001-5943-9059"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb] (IHEID),
  Esther Peev <a href="https://orcid.org/0000-0002-9678-2777"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]
    (IHEID),
  Jael Tan <a href="https://orcid.org/0000-0002-6234-9764"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]
    (IHEID)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James Hollway &lt;james.hollway@graduateinstitute.ch&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-22 13:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='call_packages'>Call, download, and update many packages</h2><span id='topic+call_packages'></span>

<h3>Description</h3>

<p>Call, download, and update many packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_packages(package, develop = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="call_packages_+3A_package">package</code></td>
<td>
<p>A character vector of package name.
For multiple packages,
please declare package names as a vector (e.g. c(&quot;package1&quot;, &quot;package2&quot;)).</p>
</td></tr>
<tr><td><code id="call_packages_+3A_develop">develop</code></td>
<td>
<p>Would you like to download the develop
version of the package?
FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>call_packages()</code> finds and download other packages
that belong to the many universe of packages.
It allows users to rapidly access the names and other
descriptive information of these packages.
If users intend to download and install a package listed,
they can type the package name within the function.
</p>


<h3>Value</h3>

<p><code>call_packages()</code> returns a tibble with the 'many packages'
currently available.
If one or more package names are provided,
these will be installed from Github.
</p>


<h3>See Also</h3>

<p>Other call_: 
<code><a href="#topic+call_releases">call_releases</a>()</code>,
<code><a href="#topic+call_sources">call_sources</a>()</code>,
<code><a href="#topic+call_treaties">call_treaties</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#call_packages()
#call_packages("manyenviron")

</code></pre>

<hr>
<h2 id='call_releases'>Call releases historical milestones/releases</h2><span id='topic+call_releases'></span>

<h3>Description</h3>

<p>The function will take a data frame that details this information,
or more usefully, a Github repository listing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_releases(repo, begin = NULL, end = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="call_releases_+3A_repo">repo</code></td>
<td>
<p>the github repository to track, e.g. &quot;globalgov/manydata&quot;</p>
</td></tr>
<tr><td><code id="call_releases_+3A_begin">begin</code></td>
<td>
<p>When to begin tracking repository milestones.
By default NULL, two months before the first release.</p>
</td></tr>
<tr><td><code id="call_releases_+3A_end">end</code></td>
<td>
<p>When to end tracking repository milestones.
By default NULL, two months after the latest release.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function creates a project timeline graphic using ggplot2
with historical milestones and milestone statuses gathered from a
specified GitHub repository.
</p>


<h3>Value</h3>

<p>A ggplot graph object
</p>


<h3>Source</h3>

<p>https://benalexkeen.com/creating-a-timeline-graphic-using-r-and-ggplot2/
</p>


<h3>See Also</h3>

<p>Other call_: 
<code><a href="#topic+call_packages">call_packages</a>()</code>,
<code><a href="#topic+call_sources">call_sources</a>()</code>,
<code><a href="#topic+call_treaties">call_treaties</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#call_releases("globalgov/manydata")
#call_releases("manypkgs")

</code></pre>

<hr>
<h2 id='call_sources'>Call sources for datacubes and datasets in 'many' packages</h2><span id='topic+call_sources'></span>

<h3>Description</h3>

<p>Call sources for datacubes and datasets in 'many' packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_sources(
  package,
  datacube,
  dataset = NULL,
  open_script = FALSE,
  open_codebook = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="call_sources_+3A_package">package</code></td>
<td>
<p>A character vector of package name.
For multiple packages,
please declare package names as a vector (e.g. c(&quot;package1&quot;, &quot;package2&quot;)).</p>
</td></tr>
<tr><td><code id="call_sources_+3A_datacube">datacube</code></td>
<td>
<p>A datacube from one of the many packages.</p>
</td></tr>
<tr><td><code id="call_sources_+3A_dataset">dataset</code></td>
<td>
<p>A dataset in a datacube from one of the many packages.
NULL by default.
That is, all datasets in the datacube are used.
For multiple datasets, please declare datasets as a vector
(e.g. c(&quot;dataset1&quot;, &quot;dataset2&quot;)).</p>
</td></tr>
<tr><td><code id="call_sources_+3A_open_script">open_script</code></td>
<td>
<p>Would you like to open the preparation script
for the dataset?
By default false.</p>
</td></tr>
<tr><td><code id="call_sources_+3A_open_codebook">open_codebook</code></td>
<td>
<p>Would you like to open the codebook for the dataset?
By default false.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>call_sources()</code> displays sources of the datacubes and datasets
in 'many' packages.
Please declare package, datacube, and dataset
</p>


<h3>Value</h3>

<p><code>call_sources</code> returns a tibble with information on the dataset,
their sources, URL, and mapping to facilitate understanding
variable name changes from original data.
</p>


<h3>See Also</h3>

<p>Other call_: 
<code><a href="#topic+call_packages">call_packages</a>()</code>,
<code><a href="#topic+call_releases">call_releases</a>()</code>,
<code><a href="#topic+call_treaties">call_treaties</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
call_sources("manydata", "emperors")

</code></pre>

<hr>
<h2 id='call_treaties'>Call treaties from 'many' datasets</h2><span id='topic+call_treaties'></span>

<h3>Description</h3>

<p>Call treaties from 'many' datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_treaties(
  dataset,
  treaty_type = NULL,
  variable = NULL,
  actor = NULL,
  key = "manyID"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="call_treaties_+3A_dataset">dataset</code></td>
<td>
<p>A dataset in a datacube from one of the many packages.
NULL by default.
That is, all datasets in the datacube are used.
For multiple datasets, please declare datasets as a vector
(e.g. c(&quot;dataset1&quot;, &quot;dataset2&quot;)).</p>
</td></tr>
<tr><td><code id="call_treaties_+3A_treaty_type">treaty_type</code></td>
<td>
<p>The type of treaties to be returned.
NULL, by default.
Other options are &quot;bilateral&quot; or &quot;multilateral&quot;.</p>
</td></tr>
<tr><td><code id="call_treaties_+3A_variable">variable</code></td>
<td>
<p>Would you like to get one, or more, specific variables
present in one or more datasets in the 'many' datacube?
NULL by default.
For multiple variables, please declare variable names as a vector.</p>
</td></tr>
<tr><td><code id="call_treaties_+3A_actor">actor</code></td>
<td>
<p>An actor variable in dataset.
NULL by default.
If declared, a tibble of the treaties and their member actors is returned.</p>
</td></tr>
<tr><td><code id="call_treaties_+3A_key">key</code></td>
<td>
<p>A variable key to join datasets.
'manyID' by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Certain datasets, or consolidated datacubes, in 'many' packages
contains information on treaties which can be retrieved
with <code>call_treaties()</code>.
</p>


<h3>Value</h3>

<p><code>call_treaties()</code> returns a tibble with a list of the agreements.
</p>


<h3>See Also</h3>

<p>Other call_: 
<code><a href="#topic+call_packages">call_packages</a>()</code>,
<code><a href="#topic+call_releases">call_releases</a>()</code>,
<code><a href="#topic+call_sources">call_sources</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
membs &lt;- dplyr::tibble(manyID = c("ROU-RUS[RFP]_1901A",
"ROU-RUS[RFP]_1901A", "GD16FI_1901A"),
stateID = c("ROU", "RUS", "DNK"),
Title = c("Convention Between Roumania And Russia Concerning Fishing
In The Danube And The Pruth",
"Convention Between Roumania And Russia Concerning Fishing
In The Danube And The Pruth",
"Convention Between The Governments Of Denmark And
The United Kingdom Of Great Britain
And Northern Ireland For Regulating The Fisheries
Of Their Respective Subjects Outside
Territorial Waters In The Ocean Surrounding The Faroe Islands"),
Begin = c("1901-02-22", "1901-02-22", "1901-06-24"))
call_treaties(membs)
call_treaties(membs, treaty_type = "bilateral",
variable = c("Title", "Begin"))
call_treaties(membs, variable = c("Title", "Begin"), actor = "stateID")

</code></pre>

<hr>
<h2 id='coalesce_rows'>Get first non-missing</h2><span id='topic+coalesce_rows'></span>

<h3>Description</h3>

<p>For use with dplyr::summarise, for example
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coalesce_rows(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coalesce_rows_+3A_x">x</code></td>
<td>
<p>A vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function operates similarly to coalesce for columns,
that is picking the first non-missing observation,
but on observations rather than variables.
</p>


<h3>Value</h3>

<p>A single value
</p>


<h3>Source</h3>

<p>https://stackoverflow.com/questions/40515180/dplyr-how-to-find-the-first-non-missing-string-by-groups
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dplyr::reframe(emperors$wikipedia, coalesce_rows(emperors$wikipedia))
coalesce_rows(emperors$wikipedia$Begin)

</code></pre>

<hr>
<h2 id='compare_categories'>Compare categories in 'many' datacubes</h2><span id='topic+compare_categories'></span>

<h3>Description</h3>

<p>Compare categories in 'many' datacubes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_categories(
  datacube,
  dataset = "all",
  key = "manyID",
  variable = "all",
  category = "all"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_categories_+3A_datacube">datacube</code></td>
<td>
<p>A datacube from one of the many packages.</p>
</td></tr>
<tr><td><code id="compare_categories_+3A_dataset">dataset</code></td>
<td>
<p>A dataset in a datacube from one of the many packages.
By default &quot;all&quot;.
That is, all datasets in the datacube are used.
To select two or more datasets, please declare them as a vector.</p>
</td></tr>
<tr><td><code id="compare_categories_+3A_key">key</code></td>
<td>
<p>A variable key to join datasets.
'manyID' by default.</p>
</td></tr>
<tr><td><code id="compare_categories_+3A_variable">variable</code></td>
<td>
<p>Would you like to focus on one, or more, specific variables
present in one or more datasets in the 'many' datacube?
By default &quot;all&quot;.
For multiple variables, please declare variable names as a vector.</p>
</td></tr>
<tr><td><code id="compare_categories_+3A_category">category</code></td>
<td>
<p>Would you like to focus on one specific code category?
By default &quot;all&quot; are returned.
Other options include &quot;confirmed&quot;, &quot;unique&quot;, &quot;missing&quot;, &quot;conflict&quot;,
or &quot;majority&quot;.
For multiple variables, please declare categories as a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Confirmed values are the same in all datasets in datacube.
Unique values appear once in datasets in datacube.
Missing values are missing in all datasets in datacube.
Conflict values are different in the same number of datasets in datacube.
Majority values have the same value in multiple, but not all,
datasets in datacube.
</p>


<h3>See Also</h3>

<p>Other compare_: 
<code><a href="#topic+compare_dimensions">compare_dimensions</a>()</code>,
<code><a href="#topic+compare_missing">compare_missing</a>()</code>,
<code><a href="#topic+compare_overlap">compare_overlap</a>()</code>,
<code><a href="#topic+compare_ranges">compare_ranges</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
compare_categories(emperors, key = "ID")
compare_categories(datacube = emperors, dataset = c("wikipedia", "UNRV"),
key = "ID", variable = c("Beg", "End"), category = c("conflict", "unique"))
plot(compare_categories(emperors, key = "ID"))
plot(compare_categories(datacube = emperors, dataset = c("wikipedia", "UNRV"),
key = "ID", variable = c("Beg", "End"), category = c("conflict", "unique")))

</code></pre>

<hr>
<h2 id='compare_dimensions'>Compare dimensions for 'many' data</h2><span id='topic+compare_dimensions'></span>

<h3>Description</h3>

<p>Compare dimensions for 'many' data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_dimensions(datacube, dataset = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_dimensions_+3A_datacube">datacube</code></td>
<td>
<p>A datacube from one of the many packages.</p>
</td></tr>
<tr><td><code id="compare_dimensions_+3A_dataset">dataset</code></td>
<td>
<p>A dataset in a datacube from one of the many packages.
By default, &quot;all&quot;.
That is, all datasets in the datacube are used.
To select two or more datasets, please declare them as a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>compare_dimensions()</code> compares the number of observations,
variables, the earliest date, and the latest date in all observations
for datasets in a 'many' datacube.
</p>


<h3>Value</h3>

<p><code>compare_dimensions()</code> returns a tibble with information about each dataset
including the number of observations, the number of variables,
the earliest date, and the latest date in all observations.
</p>


<h3>See Also</h3>

<p>Other compare_: 
<code><a href="#topic+compare_categories">compare_categories</a>()</code>,
<code><a href="#topic+compare_missing">compare_missing</a>()</code>,
<code><a href="#topic+compare_overlap">compare_overlap</a>()</code>,
<code><a href="#topic+compare_ranges">compare_ranges</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
compare_dimensions(emperors)

</code></pre>

<hr>
<h2 id='compare_missing'>Compare missing observations for 'many' data</h2><span id='topic+compare_missing'></span>

<h3>Description</h3>

<p>Compare missing observations for 'many' data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_missing(datacube, dataset = "all", variable = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_missing_+3A_datacube">datacube</code></td>
<td>
<p>A datacube from one of the many packages.</p>
</td></tr>
<tr><td><code id="compare_missing_+3A_dataset">dataset</code></td>
<td>
<p>A dataset in a datacube from one of the many packages.
NULL by default.
That is, all datasets in the datacube are used.
To select two or more datasets, please declare them as a vector.</p>
</td></tr>
<tr><td><code id="compare_missing_+3A_variable">variable</code></td>
<td>
<p>Would you like to focus on one, or more, specific variables
present in one or more datasets in the 'many' datacube?
By default &quot;all&quot;.
For multiple variables, please declare variable names as a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>compare_missing()</code> compares the missing observations for variables
in each dataset in a 'many' datacube.
</p>


<h3>Value</h3>

<p><code>compare_missing()</code> returns a tibble with information about each dataset
including the number of observations, the number of variables,
the earliest date, and the latest date in all observations.
</p>


<h3>See Also</h3>

<p>Other compare_: 
<code><a href="#topic+compare_categories">compare_categories</a>()</code>,
<code><a href="#topic+compare_dimensions">compare_dimensions</a>()</code>,
<code><a href="#topic+compare_overlap">compare_overlap</a>()</code>,
<code><a href="#topic+compare_ranges">compare_ranges</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
compare_missing(emperors)
plot(compare_missing(emperors))

</code></pre>

<hr>
<h2 id='compare_overlap'>Compare the overlap between datasets in 'many' datacubes</h2><span id='topic+compare_overlap'></span>

<h3>Description</h3>

<p>Compare the overlap between datasets in 'many' datacubes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_overlap(datacube, dataset = "all", key = "manyID")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_overlap_+3A_datacube">datacube</code></td>
<td>
<p>A datacube from one of the many packages.</p>
</td></tr>
<tr><td><code id="compare_overlap_+3A_dataset">dataset</code></td>
<td>
<p>A dataset in a datacube from one of the many packages.
By default &quot;all&quot;.
That is, all datasets in the datacube are used.
To select two or more datasets, please declare them as a vector.</p>
</td></tr>
<tr><td><code id="compare_overlap_+3A_key">key</code></td>
<td>
<p>A variable key to join datasets.
'manyID' by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>compare_overlap()</code> compares the overlap between &quot;key&quot; observations
in each dataset in a 'many' datacube.
</p>


<h3>Value</h3>

<p><code>compare_overlap()</code> returns a tibble with information about each dataset
and the number of overlapping observations.
</p>


<h3>See Also</h3>

<p>Other compare_: 
<code><a href="#topic+compare_categories">compare_categories</a>()</code>,
<code><a href="#topic+compare_dimensions">compare_dimensions</a>()</code>,
<code><a href="#topic+compare_missing">compare_missing</a>()</code>,
<code><a href="#topic+compare_ranges">compare_ranges</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
compare_overlap(emperors, key = "ID")
plot(compare_overlap(emperors, key = "ID"))

</code></pre>

<hr>
<h2 id='compare_ranges'>Compare ranges of variables in 'many' data</h2><span id='topic+compare_ranges'></span>

<h3>Description</h3>

<p>Compare ranges of variables in 'many' data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_ranges(datacube, dataset = "all", variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_ranges_+3A_datacube">datacube</code></td>
<td>
<p>A datacube from one of the many packages.</p>
</td></tr>
<tr><td><code id="compare_ranges_+3A_dataset">dataset</code></td>
<td>
<p>A dataset in a datacube from one of the many packages.
By default, &quot;all&quot;.
That is, all datasets in the datacube are used.
To select two or more datasets, please declare them as a vector.</p>
</td></tr>
<tr><td><code id="compare_ranges_+3A_variable">variable</code></td>
<td>
<p>Please declare a variable present in one or more
datasets in the 'many' datacube.
For multiple variables, please declare variable names as a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>compare_ranges()</code> compares the number of observations, variables,
the earliest and latest date in each dataset in a 'many' datacube.
</p>


<h3>Value</h3>

<p><code>compare_ranges()</code> returns a tibble with information about the minimal,
maximal, average, and median values for selected variables in datacubes.
</p>


<h3>See Also</h3>

<p>Other compare_: 
<code><a href="#topic+compare_categories">compare_categories</a>()</code>,
<code><a href="#topic+compare_dimensions">compare_dimensions</a>()</code>,
<code><a href="#topic+compare_missing">compare_missing</a>()</code>,
<code><a href="#topic+compare_overlap">compare_overlap</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
compare_ranges(emperors, variable = c("Begin", "End"))

</code></pre>

<hr>
<h2 id='consolidate'>Consolidate datacube into a single dataset</h2><span id='topic+consolidate'></span>

<h3>Description</h3>

<p>This function consolidates a set of datasets in a 'many* package' datacube
into a single dataset with some combination of the rows, columns,
and observations of the datasets in the datacube.
The function includes separate arguments for the rows and columns,
as well as for how to resolve conflicts for observations across datasets.
This provides users with considerable flexibility in how they combine data.
For example, users may wish to stick to units that appear in
every dataset but include variables coded in any dataset,
or units that appear in any dataset
but only those variables that appear in every dataset.
Even then there may be conflicts, as the actual unit-variable
observations may differ from dataset to dataset.
We offer a number of resolve methods that enable
users to choose how conflicts between observations are resolved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>consolidate(
  datacube,
  rows = "any",
  cols = "any",
  resolve = "coalesce",
  key = "manyID"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="consolidate_+3A_datacube">datacube</code></td>
<td>
<p>A datacube from one of the many packages</p>
</td></tr>
<tr><td><code id="consolidate_+3A_rows">rows</code></td>
<td>
<p>Which rows or units to retain.
By default &quot;any&quot; (or all) units are retained,
but another option is &quot;every&quot;,
which retains only those units that appear in all parent datasets.</p>
</td></tr>
<tr><td><code id="consolidate_+3A_cols">cols</code></td>
<td>
<p>Which columns or variables to retain.
By default &quot;any&quot; (or all) variables are retained,
but another option is &quot;every&quot;,
which retains only those variables that appear
in all parent datasets.</p>
</td></tr>
<tr><td><code id="consolidate_+3A_resolve">resolve</code></td>
<td>
<p>How should conflicts between observations be resolved?
By default &quot;coalesce&quot;,
but other options include: &quot;min&quot;, &quot;max&quot;, &quot;mean&quot;, &quot;median&quot;, and &quot;random&quot;.
&quot;coalesce&quot; takes the first non-NA value.
&quot;max&quot; takes the largest value.
&quot;min&quot; takes the smallest value.
&quot;mean&quot; takes the average value.
&quot;median&quot; takes the median value.
&quot;random&quot; takes a random value.
For different variables to be resolved differently,
you can specify the variables' names alongside
how each is to be resolved in a list
(e.g. <code>resolve = c(var1 = "min", var2 = "max")</code>).
In this case, only the variables named will be resolved and returned.</p>
</td></tr>
<tr><td><code id="consolidate_+3A_key">key</code></td>
<td>
<p>An ID column to collapse by.
By default &quot;manyID&quot;.
Users can also specify multiple key variables in a list.
For multiple key variables, the key variables must be present in
all the datasets in the datacube (e.g. <code>key = c("key1", "key2")</code>).
For equivalent key columns with different names across datasets,
matching is possible if keys are declared (e.g. <code>key = c("key1" = "key2")</code>).
Missing observations in the key variable are removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Text variables are dropped for more efficient consolidation.
</p>


<h3>Value</h3>

<p>A single tibble/data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
consolidate(datacube = emperors, key = "ID")
consolidate(datacube = favour(emperors, "UNRV"), rows = "every",
cols = "every", resolve = "coalesce", key = "ID")
consolidate(datacube = emperors, rows = "any", cols = "every",
resolve = "min", key = "ID")
consolidate(datacube = emperors, rows = "every", cols = "any",
resolve = "max", key = "ID")
consolidate(datacube = emperors, rows = "every", cols = "every",
resolve = "median", key = "ID")
consolidate(datacube = emperors, rows = "every", cols = "every",
resolve = "mean", key = "ID")
consolidate(datacube = emperors, rows = "every", cols = "every",
resolve = "random", key = "ID")
consolidate(datacube = emperors, rows = "every", cols = "every",
resolve = c(Begin = "min", End = "max"), key = "ID")
consolidate(datacube = emperors, rows = "any", cols = "any",
resolve = c(Death = "max", Cause = "coalesce"),
key = c("ID", "Begin"))

</code></pre>

<hr>
<h2 id='defunct'>Functions that have been renamed, superseded, or are no longer working</h2><span id='topic+defunct'></span><span id='topic+coalesce_compatible'></span><span id='topic+network_map'></span><span id='topic+db_plot'></span><span id='topic+db_comp'></span><span id='topic+retrieve_bilaterals'></span><span id='topic+retrieve_multilaterals'></span><span id='topic+retrieve_links'></span><span id='topic+retrieve_membership_list'></span><span id='topic+data_source'></span><span id='topic+get_packages'></span><span id='topic+open_codebook'></span><span id='topic+data_contrast'></span><span id='topic+data_evolution'></span><span id='topic+plot_releases'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
Generally these functions have been superseded or renamed.
Upon using them, a message is provided directing the user to the new function.
However, at this stage of package development,
we generally clear older defunct functions at each minor release,
and so you are strongly encouraged to use the new functions/names/syntax
wherever possible and update your scripts accordingly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coalesce_compatible(.data)

network_map(.data)

db_plot(.data)

db_comp(.data)

retrieve_bilaterals(.data)

retrieve_multilaterals(.data)

retrieve_links(.data)

retrieve_membership_list(.data)

data_source(.data)

get_packages(.data)

open_codebook(.data)

data_contrast(.data)

data_evolution(.data)

plot_releases(.data)
</code></pre>


<h3>Functions</h3>


<ul>
<li> <p><code>coalesce_compatible()</code>: Deprecated on 2022-10-18.
</p>
</li>
<li> <p><code>network_map()</code>: Removed on 2023-06-15.
</p>
</li>
<li> <p><code>db_plot()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>db_comp()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>retrieve_bilaterals()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>retrieve_multilaterals()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>retrieve_links()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>retrieve_membership_list()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>data_source()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>get_packages()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>open_codebook()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>data_contrast()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>data_evolution()</code>: Removed on 2023-06-19.
</p>
</li>
<li> <p><code>plot_releases()</code>: Renamed on 2023-07-03.
</p>
</li></ul>

<hr>
<h2 id='emperors'>Emperors datacube documentation</h2><span id='topic+emperors'></span>

<h3>Description</h3>

<p>Emperors datacube documentation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>emperors
</code></pre>


<h3>Format</h3>

<p>The emperors datacube is a list that contains the
following 3 datasets: wikipedia, UNRV, britannica.
For more information and references to each of the datasets used,
please use the <code>data_source()</code> and <code>data_contrast()</code>.
functions.
</p>

<dl>
<dt>wikipedia: </dt><dd><p>A dataset with 68 observations and the
following 15 variables:
ID, Begin, End, FullName, Birth, Death,
CityBirth, ProvinceBirth, Rise, Cause,
Killer, Dynasty, Era, Notes, Verif.</p>
</dd>
<dt>UNRV: </dt><dd><p>A dataset with 99 observations and the
following 7 variables: ID, Begin, End,
Birth, Death, FullName, Dynasty.</p>
</dd>
<dt>britannica: </dt><dd><p>A dataset with 87 observations and the
following 3 variables: ID, Begin, End.</p>
</dd>
</dl>



<h3>Details</h3>

<div class="sourceCode"><pre>#&gt; $wikipedia
#&gt; ----------------------------------------------------------------------------
#&gt; |  Column Name  |  Data Type  |  Observations  |  Missing  |  Missing (%)  |
#&gt; ----------------------------------------------------------------------------
#&gt; |      ID       |  character  |              68|     0     |       0       |
#&gt; |     Begin     |    mdate    |              68|     0     |       0       |
#&gt; |      End      |    mdate    |              68|     0     |       0       |
#&gt; |   FullName    |  character  |              68|     0     |       0       |
#&gt; |     Birth     |  character  |              68|     5     |     7.35      |
#&gt; |     Death     |  character  |              68|     0     |       0       |
#&gt; |   CityBirth   |  character  |              68|    17     |      25       |
#&gt; | ProvinceBirth |  character  |              68|     0     |       0       |
#&gt; |     Rise      |  character  |              68|     0     |       0       |
#&gt; |     Cause     |  character  |              68|     0     |       0       |
#&gt; |    Killer     |  character  |              68|     0     |       0       |
#&gt; |    Dynasty    |  character  |              68|     0     |       0       |
#&gt; |      Era      |  character  |              68|     0     |       0       |
#&gt; |     Notes     |  character  |              68|    22     |     32.35     |
#&gt; |     Verif     |  character  |              68|    57     |     83.82     |
#&gt; ----------------------------------------------------------------------------
#&gt; 
#&gt; 
#&gt; $UNRV
#&gt; ----------------------------------------------------------------------------
#&gt; |  Column Name  |  Data Type  |  Observations  |  Missing  |  Missing (%)  |
#&gt; ----------------------------------------------------------------------------
#&gt; |      ID       |  character  |              99|     0     |       0       |
#&gt; |     Begin     |    mdate    |              99|     0     |       0       |
#&gt; |      End      |    mdate    |              99|     0     |       0       |
#&gt; |     Birth     |  character  |              99|     0     |       0       |
#&gt; |     Death     |  character  |              99|     0     |       0       |
#&gt; |   FullName    |  character  |              99|     5     |     5.05      |
#&gt; |    Dynasty    |  character  |              99|    37     |     37.37     |
#&gt; ----------------------------------------------------------------------------
#&gt; 
#&gt; 
#&gt; $britannica
#&gt; ----------------------------------------------------------------------------
#&gt; |  Column Name  |  Data Type  |  Observations  |  Missing  |  Missing (%)  |
#&gt; ----------------------------------------------------------------------------
#&gt; |      ID       |  character  |              87|     0     |       0       |
#&gt; |     Begin     |    mdate    |              87|     0     |       0       |
#&gt; |      End      |    mdate    |              87|     0     |       0       |
#&gt; ----------------------------------------------------------------------------
</pre></div>


<h3>URL</h3>


<ul>
<li><p> wikipedia: <a href="https://en.wikipedia.org/wiki/List_of_Roman_emperors">https://en.wikipedia.org/wiki/List_of_Roman_emperors</a>
</p>
</li>
<li><p> UNRV: <a href="https://www.unrv.com/government/emperor.php">https://www.unrv.com/government/emperor.php</a>
</p>
</li>
<li><p> britannica: <a href="https://www.britannica.com/topic/list-of-Roman-emperors-2043294">https://www.britannica.com/topic/list-of-Roman-emperors-2043294</a>
</p>
</li></ul>



<h3>Mapping</h3>


<ul>
<li><p> wikipedia:
Variable Mapping
</p>
</li></ul>

<table>
<tr>
 <td style="text-align: center;">
   <em>from</em> </td><td style="text-align: center;"> <em>to</em> </td>
</tr>
<tr>
 <td style="text-align: center;">
   name </td><td style="text-align: center;"> ID </td>
</tr>
<tr>
 <td style="text-align: center;">
   reign.start </td><td style="text-align: center;"> Begin </td>
</tr>
<tr>
 <td style="text-align: center;">
   reign.end </td><td style="text-align: center;"> End </td>
</tr>
<tr>
 <td style="text-align: center;">
   name.full </td><td style="text-align: center;"> FullName </td>
</tr>
<tr>
 <td style="text-align: center;">
   birth </td><td style="text-align: center;"> Birth </td>
</tr>
<tr>
 <td style="text-align: center;">
   death </td><td style="text-align: center;"> Death </td>
</tr>
<tr>
 <td style="text-align: center;">
   birth.cty </td><td style="text-align: center;"> CityBirth </td>
</tr>
<tr>
 <td style="text-align: center;">
   birth.prv </td><td style="text-align: center;"> ProvinceBirth </td>
</tr>
<tr>
 <td style="text-align: center;">
   rise </td><td style="text-align: center;"> Rise </td>
</tr>
<tr>
 <td style="text-align: center;">
   cause </td><td style="text-align: center;"> Cause </td>
</tr>
<tr>
 <td style="text-align: center;">
   killer </td><td style="text-align: center;"> Killer </td>
</tr>
<tr>
 <td style="text-align: center;">
   dynasty </td><td style="text-align: center;"> Dynasty </td>
</tr>
<tr>
 <td style="text-align: center;">
   era </td><td style="text-align: center;"> Era </td>
</tr>
<tr>
 <td style="text-align: center;">
   notes </td><td style="text-align: center;"> Notes </td>
</tr>
<tr>
 <td style="text-align: center;">
   verif.who </td><td style="text-align: center;"> Verif </td>
</tr>
<tr>
 <td style="text-align: center;">
</td>
</tr>

</table>


<ul>
<li><p> UNRV:
Variable Mapping
</p>
</li></ul>

<table>
<tr>
 <td style="text-align: center;">
   <em>from</em> </td><td style="text-align: center;"> <em>to</em> </td>
</tr>
<tr>
 <td style="text-align: center;">
   'Common Name' </td><td style="text-align: center;"> ID </td>
</tr>
<tr>
 <td style="text-align: center;">
   Beg </td><td style="text-align: center;"> Begin </td>
</tr>
<tr>
 <td style="text-align: center;">
   'Full Name/Imperial Name' </td><td style="text-align: center;"> FullName </td>
</tr>
<tr>
 <td style="text-align: center;">
   'Dynasty/Class/Notes' </td><td style="text-align: center;"> Dynasty </td>
</tr>
<tr>
 <td style="text-align: center;">
</td>
</tr>

</table>


<ul>
<li><p> britannica:
Variable Mapping
</p>
</li></ul>

<table>
<tr>
 <td style="text-align: center;">
   <em>from</em> </td><td style="text-align: center;"> <em>to</em> </td>
</tr>
<tr>
 <td style="text-align: center;">
   Name </td><td style="text-align: center;"> ID </td>
</tr>
<tr>
 <td style="text-align: center;">
   reign_start </td><td style="text-align: center;"> Begin </td>
</tr>
<tr>
 <td style="text-align: center;">
   reign_end </td><td style="text-align: center;"> End </td>
</tr>
<tr>
 <td style="text-align: center;">
</td>
</tr>

</table>



<h3>Source</h3>


<ul>
<li><p> wikipedia:
Wikipedia, List_of_Roman_emperors,
<a href="https://en.wikipedia.org/wiki/List_of_Roman_emperors">https://en.wikipedia.org/wiki/List_of_Roman_emperors</a>,
Accessed on 2021-07-22
</p>
</li>
<li><p> UNRV:
UNRV, Roman Emperor list,
<a href="https://www.unrv.com/government/emperor.php">https://www.unrv.com/government/emperor.php</a>,
Accessed on 2021-07-22
</p>
</li>
<li><p> britannica:
Britannica, List of Roman emperors,
<a href="https://www.britannica.com/topic/list-of-Roman-emperors-2043294">https://www.britannica.com/topic/list-of-Roman-emperors-2043294</a>,
Accessed on 2021-07-22
</p>
</li></ul>


<hr>
<h2 id='favour'>Favour datasets in a datacube</h2><span id='topic+favour'></span><span id='topic+favor'></span>

<h3>Description</h3>

<p>Favour datasets in a datacube
</p>


<h3>Usage</h3>

<pre><code class='language-R'>favour(datacube, dataset)

favor(datacube, dataset)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="favour_+3A_datacube">datacube</code></td>
<td>
<p>A many datacube</p>
</td></tr>
<tr><td><code id="favour_+3A_dataset">dataset</code></td>
<td>
<p>The name of one, or more, datasets within the datacube
to be favoured over others.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The dataset declared becomes the reference for
the first non NA value.
If more than one dataset is declared,
please list datasets in increasing order of importance
(.i.e. last dataset should be favoured over previous).
</p>


<h3>Value</h3>

<p>The datacube with datasets re-ordered accordingly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
favour(emperors, "UNRV")
favour(emperors, c("wikipedia", "UNRV", "britannica"))

</code></pre>

<hr>
<h2 id='recollect'>Pastes unique string vectors</h2><span id='topic+recollect'></span>

<h3>Description</h3>

<p>For use with dplyr::summarise, for example
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recollect(x, collapse = "_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recollect_+3A_x">x</code></td>
<td>
<p>A vector</p>
</td></tr>
<tr><td><code id="recollect_+3A_collapse">collapse</code></td>
<td>
<p>String indicating how elements separated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function operates similarly to reunite,
but instead of operating on columns/observations,
it pastes together unique rows/observations.
</p>


<h3>Value</h3>

<p>A single value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data &lt;- data.frame(ID = c(1,2,3,3,2,1))
data1 &lt;- data.frame(ID = c(1,2,3,3,2,1), One = c(1,NA,3,NA,2,NA))
recollect(data$ID)
recollect(data1$One)

</code></pre>

<hr>
<h2 id='reexports'>Selects a single dataset from a datacube</h2><span id='topic+reexports'></span><span id='topic+pluck'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>purrr</dt><dd><p><code><a href="purrr.html#topic+pluck">pluck</a></code></p>
</dd>
</dl>


<h3>Details</h3>

<p>This function is reexported from the purrr package.
It allows users to select a single dataset from one
of the datacubes available across the 'many* packages'.
</p>


<h3>Value</h3>

<p>The selected dataset
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pluck(emperors, "UNRV")

</code></pre>

<hr>
<h2 id='repaint'>Fills missing data by lookup</h2><span id='topic+repaint'></span>

<h3>Description</h3>

<p>Fills missing data where known by other observations with the same id/index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>repaint(df, id, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="repaint_+3A_df">df</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="repaint_+3A_id">id</code></td>
<td>
<p>a string identifying a column in the dataframe for indexing</p>
</td></tr>
<tr><td><code id="repaint_+3A_var">var</code></td>
<td>
<p>a string identifying a column or columns in the dataframe
to be filled</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data &lt;- data.frame(ID = c(1,2,3,3,2,1),
                    One = c(1,NA,3,NA,2,NA),
                    Two = c(NA,"B",NA,"C",NA,"A"))
repaint(data, "ID", c("One","Two"))

</code></pre>

<hr>
<h2 id='reunite'>Pastes unique string vectors</h2><span id='topic+reunite'></span>

<h3>Description</h3>

<p>A vectorised function for use with dplyr's mutate, etc
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reunite(..., sep = "_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reunite_+3A_...">...</code></td>
<td>
<p>Variables to pass to the function,
currently only two at a time</p>
</td></tr>
<tr><td><code id="reunite_+3A_sep">sep</code></td>
<td>
<p>Separator when vectors reunited, by default &quot;_&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single vector with unique non-missing information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data &lt;- data.frame(fir=c(NA, "two", "three", NA),
                   sec=c("one", NA, "three", NA), stringsAsFactors = FALSE)
transmutate(data, single = reunite(fir, sec))

</code></pre>

<hr>
<h2 id='transmutate'>Drop only columns used in formula</h2><span id='topic+transmutate'></span>

<h3>Description</h3>

<p>A function between dplyr's transmute and mutate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transmutate(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transmutate_+3A_.data">.data</code></td>
<td>
<p>Data frame to pass to the function</p>
</td></tr>
<tr><td><code id="transmutate_+3A_...">...</code></td>
<td>
<p>Variables to pass to the function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with mutated variables
and none of the variables used in the mutations,
but, unlike <code>dplyr::transmute()</code>, all other unnamed variables.
</p>


<h3>Source</h3>

<p>https://stackoverflow.com/questions/51428156/dplyr-mutate-transmute-drop-only-the-columns-used-in-the-formula
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pluck(emperors, "wikipedia")
transmutate(emperors$wikipedia, Beginning = Begin)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

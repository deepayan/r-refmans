<!DOCTYPE html><html><head><title>Help for package debkeepr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {debkeepr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#debkeepr-package'><p>debkeepr: Analysis of Non-Decimal Currencies and Double-Entry Bookkeeping</p></a></li>
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#%&lt;-%'><p>Unpacking assignment</p></a></li>
<li><a href='#arithmetic'><p>Arithmetic operations for debkeepr</p></a></li>
<li><a href='#cast-decimal'><p>Cast to <code>deb_decimal</code></p></a></li>
<li><a href='#cast-lsd'><p>Cast to <code>deb_lsd</code></p></a></li>
<li><a href='#cast-tetra'><p>Cast to <code>deb_tetra</code></p></a></li>
<li><a href='#comparison'><p>Equality and comparison</p></a></li>
<li><a href='#convert-bases'><p>Convert bases of <code>deb_lsd</code>, <code>deb_tetra</code>, and <code>deb_decimal</code> vectors</p></a></li>
<li><a href='#dafforne_accounts'><p>Accounts from the practice journal and ledger of Richard Dafforne</p></a></li>
<li><a href='#dafforne_transactions'><p>Transactions from the practice journal and ledger of Richard Dafforne</p></a></li>
<li><a href='#deb_convert_unit'><p>Convert the unit of <code>deb_decimal</code> vectors</p></a></li>
<li><a href='#deb_decimal'><p>A decimalized class for tripartite and tetrapartite values</p></a></li>
<li><a href='#deb_is_decimal'><p>Test if an object is of class <code>deb_decimal</code></p></a></li>
<li><a href='#deb_is_lsd'><p>Test if an object is of class <code>deb_lsd</code></p></a></li>
<li><a href='#deb_is_tetra'><p>Test if an object is of class <code>deb_tetra</code></p></a></li>
<li><a href='#deb_lsd'><p>A class for pounds, shillings and pence values</p></a></li>
<li><a href='#deb_tetra'><p>A class for tetrapartite values</p></a></li>
<li><a href='#list-lsd'><p>Cast <code>deb_lsd</code> or <code>deb_tetra</code> to a list of values</p></a></li>
<li><a href='#lsd-column'><p>Helpers to create and separate a <code>deb_lsd</code> column in a data frame</p></a></li>
<li><a href='#mathematics'><p>Math group with <code>deb_lsd</code> and <code>deb_tetra</code> vectors</p></a></li>
<li><a href='#methods'><p>Methods</p></a></li>
<li><a href='#normalization'><p>Normalize tripartite and tetrapartite values</p></a></li>
<li><a href='#tetra-column'><p>Helpers to create and separate a <code>deb_tetra</code> column in a data frame</p></a></li>
<li><a href='#text'><p>Format <code>deb_lsd</code>, <code>deb_decimal</code>, and <code>deb_tetra</code> vectors as text</p></a></li>
<li><a href='#tidyeval'><p>Tidy eval helpers</p></a></li>
<li><a href='#transactions'><p>Analysis of double-entry bookkeeping</p></a></li>
<li><a href='#vec_math.deb_lsd'><p>Error message for unimplemented mathematics functions</p></a></li>
<li><a href='#vec_math.deb_tetra'><p>Error message for unimplemented mathematics functions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analysis of Non-Decimal Currencies and Double-Entry Bookkeeping</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Analysis of historical non-decimal currencies and value
    systems that use tripartite or tetrapartite systems such as pounds,
    shillings, and pence. It introduces new vector classes to represent
    non-decimal currencies, making them compatible with numeric classes,
    and provides functions to work with these classes in data frames in
    the context of double-entry bookkeeping.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jessesadler/debkeepr">https://github.com/jessesadler/debkeepr</a>,
<a href="https://jessesadler.github.io/debkeepr/">https://jessesadler.github.io/debkeepr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jessesadler/debkeepr/issues">https://github.com/jessesadler/debkeepr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.4.0), dplyr (&ge; 1.0.0), magrittr, methods, rlang (&ge;
1.1.0), tibble (&ge; 3.0.0), vctrs (&ge; 0.5.2), zeallot</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, ggraph, igraph, knitr, rmarkdown, roxygen2,
scales (&ge; 1.1.0), testthat (&ge; 3.1.3)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-21 21:54:06 UTC; jessesadler</td>
</tr>
<tr>
<td>Author:</td>
<td>Jesse Sadler <a href="https://orcid.org/0000-0001-6081-9681"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jesse Sadler &lt;jrsadler@icloud.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-22 09:00:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='debkeepr-package'>debkeepr: Analysis of Non-Decimal Currencies and Double-Entry Bookkeeping</h2><span id='topic+debkeepr'></span><span id='topic+debkeepr-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Analysis of historical non-decimal currencies and value systems that use tripartite or tetrapartite systems such as pounds, shillings, and pence. It introduces new vector classes to represent non-decimal currencies, making them compatible with numeric classes, and provides functions to work with these classes in data frames in the context of double-entry bookkeeping.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jesse Sadler <a href="mailto:jrsadler@icloud.com">jrsadler@icloud.com</a> (<a href="https://orcid.org/0000-0001-6081-9681">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/jessesadler/debkeepr">https://github.com/jessesadler/debkeepr</a>
</p>
</li>
<li> <p><a href="https://jessesadler.github.io/debkeepr/">https://jessesadler.github.io/debkeepr/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/jessesadler/debkeepr/issues">https://github.com/jessesadler/debkeepr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='+25+26lt+3B-+25'>Unpacking assignment</h2><span id='topic++25+3C-+25'></span>

<h3>Description</h3>

<p>See <code><a href="zeallot.html#topic++25+3C-+25">%&lt;-%</a></code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %&lt;-% value
</code></pre>


<h3>Value</h3>

<p>Invisibly returns <code>value</code>.
</p>

<hr>
<h2 id='arithmetic'>Arithmetic operations for debkeepr</h2><span id='topic+arithmetic'></span><span id='topic+vec_arith.deb_lsd'></span><span id='topic+vec_arith.deb_lsd.default'></span><span id='topic+vec_arith.deb_lsd.deb_lsd'></span><span id='topic+vec_arith.deb_lsd.numeric'></span><span id='topic+vec_arith.numeric.deb_lsd'></span><span id='topic+vec_arith.deb_lsd.MISSING'></span><span id='topic+vec_arith.deb_decimal'></span><span id='topic+vec_arith.deb_decimal.default'></span><span id='topic+vec_arith.deb_decimal.deb_decimal'></span><span id='topic+vec_arith.deb_decimal.numeric'></span><span id='topic+vec_arith.numeric.deb_decimal'></span><span id='topic+vec_arith.deb_decimal.MISSING'></span><span id='topic+vec_arith.deb_tetra'></span><span id='topic+vec_arith.deb_tetra.default'></span><span id='topic+vec_arith.deb_tetra.deb_tetra'></span><span id='topic+vec_arith.deb_tetra.numeric'></span><span id='topic+vec_arith.numeric.deb_tetra'></span><span id='topic+vec_arith.deb_tetra.MISSING'></span><span id='topic+vec_arith.deb_lsd.deb_decimal'></span><span id='topic+vec_arith.deb_decimal.deb_lsd'></span><span id='topic+vec_arith.deb_lsd.deb_tetra'></span><span id='topic+vec_arith.deb_tetra.deb_lsd'></span><span id='topic+vec_arith.deb_tetra.deb_decimal'></span><span id='topic+vec_arith.deb_decimal.deb_tetra'></span>

<h3>Description</h3>

<p>Arithmetic operations for debkeepr
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'deb_lsd'
vec_arith(op, x, y, ...)

## Default S3 method:
vec_arith.deb_lsd(op, x, y, ...)

## S3 method for class 'deb_lsd'
vec_arith.deb_lsd(op, x, y, ...)

## S3 method for class 'numeric'
vec_arith.deb_lsd(op, x, y, ...)

## S3 method for class 'deb_lsd'
vec_arith.numeric(op, x, y, ...)

## S3 method for class 'MISSING'
vec_arith.deb_lsd(op, x, y, ...)

## S3 method for class 'deb_decimal'
vec_arith(op, x, y, ...)

## Default S3 method:
vec_arith.deb_decimal(op, x, y, ...)

## S3 method for class 'deb_decimal'
vec_arith.deb_decimal(op, x, y, ...)

## S3 method for class 'numeric'
vec_arith.deb_decimal(op, x, y, ...)

## S3 method for class 'deb_decimal'
vec_arith.numeric(op, x, y, ...)

## S3 method for class 'MISSING'
vec_arith.deb_decimal(op, x, y, ...)

## S3 method for class 'deb_tetra'
vec_arith(op, x, y, ...)

## Default S3 method:
vec_arith.deb_tetra(op, x, y, ...)

## S3 method for class 'deb_tetra'
vec_arith.deb_tetra(op, x, y, ...)

## S3 method for class 'numeric'
vec_arith.deb_tetra(op, x, y, ...)

## S3 method for class 'deb_tetra'
vec_arith.numeric(op, x, y, ...)

## S3 method for class 'MISSING'
vec_arith.deb_tetra(op, x, y, ...)

## S3 method for class 'deb_decimal'
vec_arith.deb_lsd(op, x, y, ...)

## S3 method for class 'deb_lsd'
vec_arith.deb_decimal(op, x, y, ...)

## S3 method for class 'deb_tetra'
vec_arith.deb_lsd(op, x, y, ...)

## S3 method for class 'deb_lsd'
vec_arith.deb_tetra(op, x, y, ...)

## S3 method for class 'deb_decimal'
vec_arith.deb_tetra(op, x, y, ...)

## S3 method for class 'deb_tetra'
vec_arith.deb_decimal(op, x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arithmetic_+3A_op">op</code></td>
<td>
<p>Arithmetic operation.</p>
</td></tr>
<tr><td><code id="arithmetic_+3A_x">x</code>, <code id="arithmetic_+3A_y">y</code></td>
<td>
<p>Vectors.</p>
</td></tr>
<tr><td><code id="arithmetic_+3A_...">...</code></td>
<td>
<p>For future expansion</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>deb_lsd</code>, <code>deb_tetra</code>, <code>deb_decimal</code> or <code>numeric</code> vector
depending on the inputs and arithmetic operator.
</p>

<hr>
<h2 id='cast-decimal'>Cast to <code>deb_decimal</code></h2><span id='topic+cast-decimal'></span><span id='topic+deb_as_decimal'></span><span id='topic+deb_as_decimal.default'></span><span id='topic+deb_as_decimal.deb_decimal'></span><span id='topic+deb_as_decimal.deb_lsd'></span><span id='topic+deb_as_decimal.deb_tetra'></span><span id='topic+deb_as_decimal.numeric'></span><span id='topic+deb_as_decimal.logical'></span><span id='topic+deb_as_decimal.list'></span>

<h3>Description</h3>

<p>Cast <code>x</code> to a <code>deb_decimal</code> vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_as_decimal(x, ...)

## Default S3 method:
deb_as_decimal(x, ...)

## S3 method for class 'deb_decimal'
deb_as_decimal(x, ...)

## S3 method for class 'deb_lsd'
deb_as_decimal(x, unit = c("l", "s", "d"), ...)

## S3 method for class 'deb_tetra'
deb_as_decimal(x, unit = c("l", "s", "d", "f"), ...)

## S3 method for class 'numeric'
deb_as_decimal(x, unit = c("l", "s", "d", "f"), bases = c(20, 12), ...)

## S3 method for class 'logical'
deb_as_decimal(x, unit = c("l", "s", "d", "f"), bases = c(20, 12), ...)

## S3 method for class 'list'
deb_as_decimal(x, unit = c("l", "s", "d", "f"), bases = c(20, 12), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cast-decimal_+3A_x">x</code></td>
<td>
<p>An object to coerce to <code>deb_decimal</code>.</p>
</td></tr>
<tr><td><code id="cast-decimal_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
<tr><td><code id="cast-decimal_+3A_unit">unit</code></td>
<td>
<p>A character vector of length one indicating the unit for the
decimalized values, either <code>"l"</code> (libra, the default), <code>"s"</code> (solidus),
or <code>"d"</code> (denarius).</p>
</td></tr>
<tr><td><code id="cast-decimal_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 2 used to specify the bases for the
solidus or s and denarius or d units. Default is <code>c(20, 12)</code>, which
conforms to the most widely used system of 1 pound = 20 shillings and
1 shilling = 12 pence.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Like <code><a href="#topic+deb_as_lsd">deb_as_lsd()</a></code>, <code>deb_as_decimal()</code> provides a method to
cast a list of numeric vectors of length 3 to <code>deb_decimal</code>. This may be
helpful because the data is input by the value instead of by the unit.
</p>


<h3>Value</h3>

<p>A <code>deb_decimal</code> vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deb_as_lsd">deb_as_lsd()</a></code> and <code><a href="#topic+deb_as_tetra">deb_as_tetra()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Cast a deb_lsd vector to deb_decimal
x &lt;- deb_lsd(l = c(5, 3, 7),
             s = c(16, 5, 6),
             d = c(6, 0, 8))
deb_as_decimal(x)

# Bases are automatically applied when
# casting from deb_lsd to deb_decimal
x2 &lt;- deb_lsd(l = c(5, 3, 7),
              s = c(16, 5, 6),
              d = c(6, 0, 8),
              bases = c(60, 16))
deb_as_decimal(x2)

# Cast a deb_tetra vector to deb_decimal
# Bases are automatically applied, creating
# a deb_decimal vector with three bases units.
y &lt;- deb_tetra(l = c(5, 13, 7),
               s = c(12, 8, 16),
               d = c(3, 11, 0),
               f = c(1, 3, 2))
deb_as_decimal(y)

# Cast a numeric vector to deb_decimal
z &lt;- c(5.825, 3.25, 22/3)
deb_as_decimal(z)

# Use the unit and bases arguments to specify
# the unit and apply non-default bases
deb_as_decimal(z, unit = "s", bases = c(60, 16))

# Casting a list to deb_decimal provides an
# alternative to get lsd values to deb_decimal.
lsd_list &lt;- list(c(5, 12, 3),
                 c(13, 8, 11),
                 c(7, 16, 0))
deb_as_decimal(lsd_list)

</code></pre>

<hr>
<h2 id='cast-lsd'>Cast to <code>deb_lsd</code></h2><span id='topic+cast-lsd'></span><span id='topic+deb_as_lsd'></span><span id='topic+deb_as_lsd.default'></span><span id='topic+deb_as_lsd.deb_lsd'></span><span id='topic+deb_as_lsd.deb_decimal'></span><span id='topic+deb_as_lsd.deb_tetra'></span><span id='topic+deb_as_lsd.numeric'></span><span id='topic+deb_as_lsd.logical'></span><span id='topic+deb_as_lsd.list'></span>

<h3>Description</h3>

<p>Cast <code>x</code> to a <code>deb_lsd</code> vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_as_lsd(x, ...)

## Default S3 method:
deb_as_lsd(x, ...)

## S3 method for class 'deb_lsd'
deb_as_lsd(x, ...)

## S3 method for class 'deb_decimal'
deb_as_lsd(x, ...)

## S3 method for class 'deb_tetra'
deb_as_lsd(x, ...)

## S3 method for class 'numeric'
deb_as_lsd(x, bases = c(20, 12), ...)

## S3 method for class 'logical'
deb_as_lsd(x, bases = c(20, 12), ...)

## S3 method for class 'list'
deb_as_lsd(x, bases = c(20, 12), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cast-lsd_+3A_x">x</code></td>
<td>
<p>An object to coerce to <code>deb_lsd</code>.</p>
</td></tr>
<tr><td><code id="cast-lsd_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
<tr><td><code id="cast-lsd_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 2 used to specify the bases for the
solidus or s and denarius or d units. Default is <code>c(20, 12)</code>, which
conforms to the most widely used system of 1 pound = 20 shillings and
1 shilling = 12 pence.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Casting a list of numeric vectors of length 3 to <code>deb_lsd</code>
provides an alternate way to create a <code>deb_lsd</code> vector than <code><a href="#topic+deb_lsd">deb_lsd()</a></code>.
This method may be helpful because the data is input by the value instead
of by the unit.
</p>


<h3>Value</h3>

<p>A <code>deb_lsd</code> vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deb_as_decimal">deb_as_decimal()</a></code> and <code><a href="#topic+deb_as_tetra">deb_as_tetra()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Cast a deb_decimal vector to deb_lsd
x &lt;- c(5.825, 3.25, 22/3)
d1 &lt;- deb_decimal(x)
deb_as_lsd(d1)

# Bases are automatically applied when
# casting from deb_decimal to deb_lsd
d2 &lt;- deb_decimal(x, bases = c(60, 16))
deb_as_lsd(d2)

# Cast a deb_tetra vector to deb_lsd
# This removes the 'f' or farthings unit.
y &lt;- deb_tetra(l = c(5, 13, 7),
               s = c(12, 8, 16),
               d = c(3, 11, 0),
               f = c(1, 3, 2))
deb_as_lsd(y)

# Cast a numeric vector to deb_lsd
deb_as_lsd(x)

# Use the bases argument to apply non-default bases
deb_as_lsd(x, bases = c(60, 16))

# Casting a list to deb_lsd provides an alternate to deb_lsd()
# This can be helpful for legibility. Compare:

deb_as_lsd(
  list(c(5, 12, 3),
       c(13, 8, 11),
       c(7, 16, 0))
  )

deb_lsd(l = c(5, 13, 7),
        s = c(12, 8, 16),
        d = c(3, 11, 0))

</code></pre>

<hr>
<h2 id='cast-tetra'>Cast to <code>deb_tetra</code></h2><span id='topic+cast-tetra'></span><span id='topic+deb_as_tetra'></span><span id='topic+deb_as_tetra.default'></span><span id='topic+deb_as_tetra.deb_tetra'></span><span id='topic+deb_as_tetra.deb_lsd'></span><span id='topic+deb_as_tetra.deb_decimal'></span><span id='topic+deb_as_tetra.numeric'></span><span id='topic+deb_as_tetra.logical'></span><span id='topic+deb_as_tetra.list'></span>

<h3>Description</h3>

<p>Cast <code>x</code> to a <code>deb_tetra</code> vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_as_tetra(x, ...)

## Default S3 method:
deb_as_tetra(x, ...)

## S3 method for class 'deb_tetra'
deb_as_tetra(x, ...)

## S3 method for class 'deb_lsd'
deb_as_tetra(x, f, ...)

## S3 method for class 'deb_decimal'
deb_as_tetra(x, f, ...)

## S3 method for class 'numeric'
deb_as_tetra(x, bases = c(20, 12, 4), ...)

## S3 method for class 'logical'
deb_as_tetra(x, bases = c(20, 12, 4), ...)

## S3 method for class 'list'
deb_as_tetra(x, bases = c(20, 12, 4), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cast-tetra_+3A_x">x</code></td>
<td>
<p>An object to coerce to <code>deb_tetra</code>.</p>
</td></tr>
<tr><td><code id="cast-tetra_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
<tr><td><code id="cast-tetra_+3A_f">f</code></td>
<td>
<p>Integer of length 1 to represent the base of the farthing unit.
Must be provided to cast from deb_lsd or deb_decimal vectors with
tripartite bases to deb_tetra.</p>
</td></tr>
<tr><td><code id="cast-tetra_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 3 used to specify the bases for the
solidus or s, denarius or d, and farthing or f units. Default is
<code>c(20, 12, 4)</code>, which conforms to the English system of 1 pound =
20 shillings, 1 shilling = 12 pence, and 1 pence = 4 farthing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Casting a list of numeric vectors of length 4 to <code>deb_tetra</code>
provides an alternate way to create a <code>deb_tetra</code> vector than
<code><a href="#topic+deb_tetra">deb_tetra()</a></code>. This method may be helpful because the data is input
by the value instead of by the unit.
</p>


<h3>Value</h3>

<p>A <code>deb_tetra</code> vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deb_as_lsd">deb_as_lsd()</a></code> and <code><a href="#topic+deb_as_decimal">deb_as_decimal()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To cast from deb_lsd to deb_tetra an "f" unit must be supplied

# Compare
lsd1 &lt;- deb_lsd(8, 12, 4)
lsd2 &lt;- deb_lsd(8, 12, 4, bases = c(60, 16))

deb_as_tetra(lsd1, f = 4)
deb_as_tetra(lsd2, f = 8)

# Cast a deb_decimal vector with four units to deb_tetra.
# Bases are automatically applied when casting from
# tetrapartite deb_decimal to deb_tetra.
x &lt;- c(5.11875, 3.76875, 25/3)
d1 &lt;- deb_decimal(x, bases = c(20, 12, 4))
deb_as_tetra(d1)

# Use "f" argument to cast from tripartite deb_decimal
# to deb_tetra
d2 &lt;- deb_decimal(x)
deb_as_tetra(d2, f = 4)

# Cast a numeric vector to deb_tetra
deb_as_tetra(x)

# Use the bases argument to apply non-default bases
deb_as_tetra(x, bases = c(60, 16, 8))

# Casting a list to deb_tetra provides an alternate
# to deb_tetra(). This can be helpful for legibility.
# Compare:

deb_as_tetra(
  list(c(5, 12, 3, 2),
       c(13, 8, 11, 1),
       c(7, 16, 0, 3))
  )

deb_tetra(l = c(5, 13, 7),
          s = c(12, 8, 16),
          d = c(3, 11, 0),
          f = c(2, 1, 3))

</code></pre>

<hr>
<h2 id='comparison'>Equality and comparison</h2><span id='topic+comparison'></span><span id='topic+vec_proxy_equal.deb_lsd'></span><span id='topic+vec_proxy_compare.deb_lsd'></span><span id='topic+vec_proxy_equal.deb_tetra'></span><span id='topic+vec_proxy_compare.deb_tetra'></span>

<h3>Description</h3>

<p>Equality and comparison
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'deb_lsd'
vec_proxy_equal(x, ...)

## S3 method for class 'deb_lsd'
vec_proxy_compare(x, ...)

## S3 method for class 'deb_tetra'
vec_proxy_equal(x, ...)

## S3 method for class 'deb_tetra'
vec_proxy_compare(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="comparison_+3A_x">x</code></td>
<td>
<p>A deb_lsd vector.</p>
</td></tr>
<tr><td><code id="comparison_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame or numeric vector to be used for comparison.
</p>

<hr>
<h2 id='convert-bases'>Convert bases of <code>deb_lsd</code>, <code>deb_tetra</code>, and <code>deb_decimal</code> vectors</h2><span id='topic+convert-bases'></span><span id='topic+deb_convert_bases'></span><span id='topic+deb_convert_bases.default'></span><span id='topic+deb_convert_bases.deb_lsd'></span><span id='topic+deb_convert_bases.deb_decimal'></span><span id='topic+deb_convert_bases.deb_tetra'></span>

<h3>Description</h3>

<p>Convert bases of <code>deb_lsd</code>, <code>deb_tetra</code>, and <code>deb_decimal</code> vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_convert_bases(x, to)

## Default S3 method:
deb_convert_bases(x, to)

## S3 method for class 'deb_lsd'
deb_convert_bases(x, to)

## S3 method for class 'deb_decimal'
deb_convert_bases(x, to)

## S3 method for class 'deb_tetra'
deb_convert_bases(x, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert-bases_+3A_x">x</code></td>
<td>
<p>A vector of class <code>deb_lsd</code>, <code>deb_tetra</code>, or <code>deb_decimal</code>.</p>
</td></tr>
<tr><td><code id="convert-bases_+3A_to">to</code></td>
<td>
<p>Numeric vector of length 2 or 3, representing the bases for the
solidus, denarius, and optionally farthing units to be converted to.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>deb_convert_bases()</code> is the only way to change the bases of the solidus,
denarius, and farthing units associated with vectors of class <code>deb_lsd</code>,
<code>deb_tetra</code>, and <code>deb_decimal</code>. It also provides a means to convert
between tripartite and tetrapartite bases with <code>deb_decimal</code> vectors.
</p>
<p>If <code>x</code> is a <code>deb_decimal</code> vector with tetrapartite bases and unit <code>"f"</code>
and <code>to</code> is a numeric vector of length 2, the unit will be converted
to <code>"d"</code>.
</p>


<h3>Value</h3>

<p>A vector of the same class as <code>x</code> with converted <code>bases</code> attribute.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lsd &lt;- deb_lsd(5, 3, 8)
dec &lt;- deb_decimal(8.825)
dec_tetra &lt;- deb_decimal(1.840625, bases = c(20, 12, 4))
tetra &lt;- deb_tetra(1, 16, 9, 3)

deb_convert_bases(lsd, to = c(60, 16))
deb_convert_bases(dec, to = c(60, 16))
deb_convert_bases(dec_tetra, c(60, 16, 8))
deb_convert_bases(tetra, to = c(60, 16, 8))

# Convert between tripartite and tetrapartite bases
deb_convert_bases(dec, to = c(60, 16, 8))
deb_convert_bases(dec_tetra, to = c(20, 12))

</code></pre>

<hr>
<h2 id='dafforne_accounts'>Accounts from the practice journal and ledger of Richard Dafforne</h2><span id='topic+dafforne_accounts'></span>

<h3>Description</h3>

<p>A data set of the accounts from the first practice journal and ledger in
Richard Dafforne's accounting manual from 1660 called <em>The Merchant's</em>
<em>Mirrour</em>. By 1660 <em>The Merchant's Mirrour</em> was in its third edition, and
its contents had been printed in the well-known merchant manual of Gerard
Malynes, <em>Consuetudo Vel Lex Mercatoira</em> since the 1636 edition, making it
one of the most popular bookkeeping manuals in 17th-century England. The
data set is meant to be used in conjunction with <code>dafforne_transactions</code>.
It contains information on the accounts found in the practice journal and
ledger that Dafforne used to teach double-entry bookkeeping practices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dafforne_accounts
</code></pre>


<h3>Format</h3>

<p>A data frame with 46 rows and 5 variables.
</p>


<h3>Details</h3>

<p>The data set does not include the Balance account that Dafforne uses to
close the books. The transactions from this account can be recreated using
the lsd account functions in <code>debkeepr</code>.
</p>


<h3>Variables</h3>


<ul>
<li> <p><code>id</code>: Numeric id for each account. The ids correspond to the ids in the
<code>credit</code> and <code>debit</code> variables in <code>dafforne_transactions</code>.
</p>
</li>
<li> <p><code>account</code>: Name of the account.
</p>
</li>
<li> <p><code>ledger</code>: Page on which the account appears in the ledger.
</p>
</li>
<li> <p><code>investor</code>: The investor or the person's whose capital is involved in
the account. Accounts that only deal with the bookkeeper's capital are
listed as &quot;ego&quot;.
</p>
</li>
<li> <p><code>description</code>: Short description of each account.
</p>
</li></ul>



<h3>Source</h3>

<p>Richard Dafforne, <em>The Merchant's Mirrour, Or Directions for the</em>
<em>Perfect Ordering and Keeping of His Accounts</em>, Third Edition, (London,
1660)
</p>

<hr>
<h2 id='dafforne_transactions'>Transactions from the practice journal and ledger of Richard Dafforne</h2><span id='topic+dafforne_transactions'></span>

<h3>Description</h3>

<p>A data set of the transactions from the first practice journal and ledger in
Richard Dafforne's accounting manual from 1660 called <em>The Merchant's</em>
<em>Mirrour</em>. By 1660 <em>The Merchant's Mirrour</em> was in its third edition, and
its contents had been printed in the well-known merchant manual of Gerard
Malynes, <em>Consuetudo Vel Lex Mercatoira</em> since the 1636 edition, making it
one of the most popular bookkeeping manuals in 17th-century England. The
data set is meant to be used in conjunction with <code>dafforne_accounts</code>. It
contains the transactions in the practice journal and ledger that Dafforne
used to teach double-entry bookkeeping practices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dafforne_transactions
</code></pre>


<h3>Format</h3>

<p>A data frame with 177 rows and 8 variables.
</p>


<h3>Details</h3>

<p>The data set does not include the last 16 transactions recorded in the
journal, which deal with the balancing of the book. These transactions can
be recreated using the lsd account functions in <code>debkeepr</code>.
</p>


<h3>Variables</h3>


<ul>
<li> <p><code>id</code>: Numeric id for each transaction.
</p>
</li>
<li> <p><code>credit</code>: Account id for the credit account in the transactions. The
accounts that discharges the transactional value or from which the
value derives. The account ids correspond to the <code>id</code> variable in
<code>dafforne_accounts</code>.
</p>
</li>
<li> <p><code>debit</code>: Account id for the debit account in the transactions. The
accounts that receive the transactional value. The account ids
correspond to the <code>id</code> variable in <code>dafforne_accounts</code>.
</p>
</li>
<li> <p><code>date</code>: Date on which the transaction was entered into the journal. Date
conforms to the Anglican calendar that used the old Julian calendar with
the new year on 25 March. Encoded as a date vector.
</p>
</li>
<li> <p><code>lsd</code>: Column of class <code>deb_lsd</code> with pounds, shillings, and pence
values. Bases for shillings and pence are 20 and 12 respectively.
</p>
</li>
<li> <p><code>journal</code>: Page on which the transaction is recorded in the journal.
</p>
</li>
<li> <p><code>ledger</code>: The pages on which the transaction is recorded in the ledger.
The number before the slash is the page on which the debit is recorded.
The number after the slash is the page on which the credit is recorded.
</p>
</li>
<li> <p><code>description</code>: Description of the transaction as recorded in the
journal.
</p>
</li></ul>



<h3>Source</h3>

<p>Richard Dafforne, <em>The Merchant's Mirrour, Or Directions for the</em>
<em>Perfect Ordering and Keeping of His Accounts</em>, Third Edition, (London,
1660)
</p>

<hr>
<h2 id='deb_convert_unit'>Convert the unit of <code>deb_decimal</code> vectors</h2><span id='topic+deb_convert_unit'></span>

<h3>Description</h3>

<p>Convert the <code>unit</code> attribute of <code>deb_decimal</code> vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_convert_unit(x, to = c("l", "s", "d", "f"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deb_convert_unit_+3A_x">x</code></td>
<td>
<p>A vector of class <code>deb_decimal</code>.</p>
</td></tr>
<tr><td><code id="deb_convert_unit_+3A_to">to</code></td>
<td>
<p>A character vector of length one indicating the unit to be
converted to. Choice of <code>"l"</code> (libra, the default), <code>"s"</code> (solidus),
<code>"d"</code> (denarius), or <code>"f"</code> (farthing).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>deb_convert_unit()</code> converts the <code>unit</code> of a <code>deb_decimal</code> vector to
either <code>"l"</code>, <code>"s"</code>, <code>"d"</code>, or optionally <code>"f"</code> if the vector has
tetrapartite bases. This changes the representation of the vector,
but the value remains equivalent.
</p>


<h3>Value</h3>

<p>A <code>deb_decimal</code> vector with a converted <code>unit</code> attribute.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- deb_decimal(c(8.825, 15.125, 3.65))
y &lt;- deb_decimal(c(56.45, 106.525, 200.4), unit = "s")
z &lt;- deb_decimal(c(8472, 14520,  3504),
                 unit = "f",
                 bases = c(20, 12, 4))

deb_convert_unit(x, to = "s")
deb_convert_unit(x, to = "d")
deb_convert_unit(y, to = "l")
deb_convert_unit(y, to = "d")
deb_convert_unit(z, to = "l")
deb_convert_unit(z, to = "s")
</code></pre>

<hr>
<h2 id='deb_decimal'>A decimalized class for tripartite and tetrapartite values</h2><span id='topic+deb_decimal'></span>

<h3>Description</h3>

<p>Create a vector of class <code>deb_decimal</code> to integrate non-decimal currencies
and other measurements that use tripartite or tetrapartite units into
standardized forms of analysis provided by R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_decimal(x = double(), unit = c("l", "s", "d", "f"), bases = c(20, 12))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deb_decimal_+3A_x">x</code></td>
<td>
<p>A numeric vector representing the decimalized values of either
tripartite or tetrapartite values.</p>
</td></tr>
<tr><td><code id="deb_decimal_+3A_unit">unit</code></td>
<td>
<p>A character vector of length one indicating the unit for the
decimalized values, either <code>"l"</code> (<em>libra</em>, the default), <code>"s"</code>
(<em>solidus</em>), <code>"d"</code> (<em>denarius</em>), or <code>"f"</code> (farthing). <code>"f"</code> is only
valid if the <code>bases</code> argument is a numeric vector of length 3 (a
tetrapartite value).</p>
</td></tr>
<tr><td><code id="deb_decimal_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 2 or 3 used to specify the bases for
the solidus or s, denarius or d, and optionally the farthing or f units.
Default is <code>c(20, 12)</code>, which conforms to the most widely used tripartite
system of 1 pound = 20 shillings and 1 shilling = 12 pence.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>deb_decimal</code> class and the <code>debkeepr</code> package use the nomenclature of
<a href="https://en.wikipedia.org/wiki/%C2%A3sd">l, s, and d</a> to represent the tripartite
system of pounds, shillings, and pence units. The abbreviations derive from
the Latin terms <a href="https://en.wikipedia.org/wiki/French_livre"><em>libra</em></a>,
<a href="https://en.wikipedia.org/wiki/Solidus_(coin)"><em>solidus</em></a>, and
<a href="https://en.wikipedia.org/wiki/Denarius"><em>denarius</em></a>. In the 8th century a
<em>solidus</em> came to represent 12 <em>denarii</em> coins, and, for a time at least,
240 <em>denarii</em> were made from one <em>libra</em> or pound of silver. The custom of
counting coins in dozens (<em>solidi</em>) and scores of dozens (<em>librae</em>) spread
throughout the Carolingian Empire and became ingrained in much of Europe.
However, a variety of accounting systems arose at different times that used
<a href="https://en.wikipedia.org/wiki/Non-decimal_currency">other bases</a> for the
<em>solidus</em> and <em>denarius</em> units and even additional units. The <code>deb_decimal</code>
class decimalizes either tripartite or tetrapartite values. The <code>bases</code>
attribute makes it possible to specify the bases for the <em>solidus</em>,
<em>denarius</em>, and optionally farthing units. The <code>unit</code> attribute identifies
the decimalized unit: either <em>libra</em>, <em>solidus</em>, <em>denarius</em>, or farthing.
</p>
<p><code>deb_decimal</code> vectors can either be tripartite, like <code>deb_lsd</code>, or
tetrapartite, like <code>deb_tetra</code>. These two kinds of <code>deb_decimal</code> vectors
are distinguished by the length of <code>bases</code> attribute (2 for tripartite and
3 for tetrapartite) and the addition of the farthing unit for tetrapartite.
If the <em>solidus</em> and <em>denarius</em> bases are equal, tripartite and tetrapartite
<code>deb_decimal</code> vectors can be combined. The result is a <code>deb_decimal</code> vector
with tripartite bases.
</p>


<h3>Value</h3>

<p>Returns a vector of class <code>deb_decimal</code>.
</p>


<h3>See Also</h3>

<p>The <code>deb_decimal</code> class works in concert with the <code>deb_lsd</code> and <code>deb_tetra</code>
classes. These classes maintain the tripartite (<code>deb_lsd</code>) and tetrapartite
(<code>deb_tetra</code>) unit structure of non-decimal currencies and values.
See <code><a href="#topic+deb_lsd">deb_lsd()</a></code> and <code><a href="#topic+deb_tetra">deb_tetra()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# deb_decimal with tripartite units
deb_decimal(c(5.25, 3.825, 8.5))

# Set the unit of the deb_decimal vector
deb_decimal(c(105, 76.5, 170), unit = "s")
deb_decimal(c(1260, 918, 240), unit = "d")

# Set the bases of the deb_decimal vector
deb_decimal(c(5.25, 3.825, 8.5), bases = c(60, 16))

# Create a prototype or vector of length 0
deb_decimal()

# To create a tetrapartite value, provide numeric vector
# of length 3 to bases argument
deb_decimal(c(5.11875, 3.234375, 8.2875),
            bases = c(20, 12, 4))
deb_decimal(c(4914, 3105, 7956),
            unit = "f",
            bases = c(20, 12, 4))
</code></pre>

<hr>
<h2 id='deb_is_decimal'>Test if an object is of class <code>deb_decimal</code></h2><span id='topic+deb_is_decimal'></span>

<h3>Description</h3>

<p>Test if an object is of class <code>deb_decimal</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_is_decimal(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deb_is_decimal_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if object is of class <code>deb_decimal</code> and <code>FALSE</code> if it is not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- deb_decimal(c(5.25, 3.825, 8.5))
y &lt;- c(5.25, 3.825, 8.5)

deb_is_decimal(x)
deb_is_decimal(y)
</code></pre>

<hr>
<h2 id='deb_is_lsd'>Test if an object is of class <code>deb_lsd</code></h2><span id='topic+deb_is_lsd'></span>

<h3>Description</h3>

<p>Test if an object is of class <code>deb_lsd</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_is_lsd(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deb_is_lsd_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if object is of class <code>deb_lsd</code> and <code>FALSE</code> if it is not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- deb_lsd(5, 3, 8)
y &lt;- c(5, 3, 8)

deb_is_lsd(x)
deb_is_lsd(y)
</code></pre>

<hr>
<h2 id='deb_is_tetra'>Test if an object is of class <code>deb_tetra</code></h2><span id='topic+deb_is_tetra'></span>

<h3>Description</h3>

<p>Test if an object is of class <code>deb_tetra</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_is_tetra(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deb_is_tetra_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if object is of class <code>deb_tetra</code> and <code>FALSE</code> if it is not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- deb_tetra(5, 3, 8, 2)
y &lt;- c(5, 3, 8, 2)

deb_is_tetra(x)
deb_is_tetra(y)
</code></pre>

<hr>
<h2 id='deb_lsd'>A class for pounds, shillings and pence values</h2><span id='topic+deb_lsd'></span>

<h3>Description</h3>

<p>Create a vector of class <code>deb_lsd</code> to integrate non-decimal currencies
into standardized forms of analysis provided by R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_lsd(l = double(), s = double(), d = double(), bases = c(20, 12))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deb_lsd_+3A_l">l</code></td>
<td>
<p>Numeric vector representing the pounds unit.</p>
</td></tr>
<tr><td><code id="deb_lsd_+3A_s">s</code></td>
<td>
<p>Numeric vector representing the shillings unit.</p>
</td></tr>
<tr><td><code id="deb_lsd_+3A_d">d</code></td>
<td>
<p>Numeric vector representing the pence unit.</p>
</td></tr>
<tr><td><code id="deb_lsd_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 2 used to specify the bases for the
solidus or s and denarius or d units. Default is <code>c(20, 12)</code>, which
conforms to the most widely used system of 1 pound = 20 shillings and
1 shilling = 12 pence.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>deb_decimal</code> class and the <code>debkeepr</code> package use the nomenclature of
<a href="https://en.wikipedia.org/wiki/%C2%A3sd">l, s, and d</a> to represent the tripartite
system of pounds, shillings, and pence units. The abbreviations derive from
the Latin terms <a href="https://en.wikipedia.org/wiki/French_livre"><em>libra</em></a>,
<a href="https://en.wikipedia.org/wiki/Solidus_(coin)"><em>solidus</em></a>, and
<a href="https://en.wikipedia.org/wiki/Denarius"><em>denarius</em></a>. In the 8th century a
<em>solidus</em> came to represent 12 <em>denarii</em> coins, and, for a time at least,
240 <em>denarii</em> were made from one <em>libra</em> or pound of silver. The custom of
counting coins in dozens (<em>solidi</em>) and scores of dozens (<em>librae</em>) spread
throughout the Carolingian Empire and became ingrained in much of Europe.
However, a variety of accounting systems arose at different times that used
<a href="https://en.wikipedia.org/wiki/Non-decimal_currency">other bases</a> for the
<em>solidus</em> and <em>denarius</em> units. The <code>bases</code> attribute of <code>deb_decimal</code>
vectors makes it possible to specify alternative bases for the <em>solidus</em> and
<em>denarius</em> units.
</p>
<p>The length of <code>l</code>, <code>s</code>, and <code>d</code> must either be all equal, or a vector of
length 1 can be recycled to the length of the other argument(s). See
the <a href="https://vctrs.r-lib.org/articles/type-size.html">vctrs package</a>
for further details on recycling vectors. In addition, <code>l</code>, <code>s</code>, and <code>d</code>
must either all have no values, resulting in a vector of length 0, or all
possess numeric vectors.
</p>


<h3>Value</h3>

<p>Returns a vector of class <code>deb_lsd</code>.
</p>


<h3>See Also</h3>

<p>The <code>deb_lsd</code> class works in concert with the <code>deb_decimal</code> class, which
represents non-decimal currencies as decimalized values. See
<code><a href="#topic+deb_decimal">deb_decimal()</a></code>. To represent values with tetrapartite units see
<code><a href="#topic+deb_tetra">deb_tetra()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
deb_lsd(5, 3, 8)
deb_lsd(l = c(10, 8, 5),
        s = c(6, 13, 8),
        d = c(8, 4, 10))

# Recycle length 1 vector
deb_lsd(l = c(10, 8, 5),
        s = c(6, 13, 8),
        d = 0)

# Set the bases of the deb_lsd vector
deb_lsd(5, 3, 8, bases = c(60, 16))
deb_lsd(l = c(10, 28, 5),
        s = c(6, 33, 13),
        d = c(8, 42, 10),
        bases = c(60, 16))

# Create a prototype or vector of length 0
deb_lsd()
</code></pre>

<hr>
<h2 id='deb_tetra'>A class for tetrapartite values</h2><span id='topic+deb_tetra'></span>

<h3>Description</h3>

<p>Create a vector of class <code>deb_tetra</code> to integrate values with four units
into standardized forms of analysis provided by R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_tetra(
  l = double(),
  s = double(),
  d = double(),
  f = double(),
  bases = c(20, 12, 4)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deb_tetra_+3A_l">l</code></td>
<td>
<p>Numeric vector representing the pounds unit.</p>
</td></tr>
<tr><td><code id="deb_tetra_+3A_s">s</code></td>
<td>
<p>Numeric vector representing the shillings unit.</p>
</td></tr>
<tr><td><code id="deb_tetra_+3A_d">d</code></td>
<td>
<p>Numeric vector representing the pence unit.</p>
</td></tr>
<tr><td><code id="deb_tetra_+3A_f">f</code></td>
<td>
<p>Numeric vector representing the farthing or fourth unit.</p>
</td></tr>
<tr><td><code id="deb_tetra_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 3 used to specify the bases for the
solidus or s, denarius or d, and farthing or f units. Default is
<code>c(20, 12, 4)</code>, which conforms to the English system of 1 pound =
20 shillings, 1 shilling = 12 pence, and 1 pence = 4 farthing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>deb_tetra</code> class extends the concept of the <code>deb_lsd</code> class to
incorporate currencies and other types of values that consist of four units.
A variety of currencies and measurements of weights expanded beyond the
conventional tripartite system of pounds, shillings, and pence to include a
fourth unit. <code>deb_tetra</code> adds a fourth unit, named <code>f</code> for farthing, to the
<a href="https://en.wikipedia.org/wiki/%C2%A3sd">l, s, and d units</a> used by <code>deb_lsd</code>.
The <code>bases</code> attribute of <code>deb_tetra</code> vectors makes it possible to specify
alternative bases for the <em>solidus</em>, <em>denarius</em>, and farthing units.
</p>
<p>The length of <code>l</code>, <code>s</code>, <code>d</code>, and <code>f</code> must either be all equal, or a vector of
length 1 can be recycled to the length of the other argument(s). See
the <a href="https://vctrs.r-lib.org/articles/type-size.html">vctrs package</a>
for further details on recycling vectors. In addition, <code>l</code>, <code>s</code>, <code>d</code>, and <code>f</code>
must either all have no values, resulting in a vector of length 0, or all
possess numeric vectors.
</p>


<h3>Value</h3>

<p>Returns a vector of class <code>deb_tetra</code>.
</p>


<h3>See Also</h3>

<p>The <code>deb_tetra</code> class works in concert with the <code>deb_decimal</code> class,
which can represent tetrapartite values as decimalized values. See
<code><a href="#topic+deb_decimal">deb_decimal()</a></code>. To represent values with tripartite units see
<code><a href="#topic+deb_lsd">deb_lsd()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
deb_tetra(5, 3, 8, 2)
deb_tetra(l = c(10, 8, 5),
          s = c(6, 13, 8),
          d = c(8, 4, 10),
          f = c(2, 3, 1))

# Recycle length 1 vector
deb_tetra(l = c(10, 8, 5),
          s = c(6, 13, 8),
          d = c(8, 4, 10),
          f = 2)

# Set the bases of the deb_tetra vector
deb_tetra(5, 3, 8, 2, bases = c(60, 16, 8))
deb_tetra(l = c(10, 28, 5),
          s = c(6, 33, 13),
          d = c(8, 12, 10),
          f = c(5, 3, 6),
          bases = c(60, 16, 8))

# Create a prototype or vector of length 0
deb_tetra()
</code></pre>

<hr>
<h2 id='list-lsd'>Cast <code>deb_lsd</code> or <code>deb_tetra</code> to a list of values</h2><span id='topic+list-lsd'></span><span id='topic+deb_as_list'></span><span id='topic+deb_as_list.default'></span><span id='topic+deb_as_list.deb_lsd'></span><span id='topic+deb_as_list.deb_tetra'></span>

<h3>Description</h3>

<p>Cast a <code>deb_lsd</code> or <code>deb_tetra</code> vector to a list of numeric vectors either
three or four values per list item corresponding to lsd or tetra values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_as_list(x, ...)

## Default S3 method:
deb_as_list(x, ...)

## S3 method for class 'deb_lsd'
deb_as_list(x, ...)

## S3 method for class 'deb_tetra'
deb_as_list(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list-lsd_+3A_x">x</code></td>
<td>
<p>A <code>deb_lsd</code> or <code>deb_tetra</code> vector to cast to a list of values.</p>
</td></tr>
<tr><td><code id="list-lsd_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>deb_as_list()</code> turns a <code>deb_lsd</code> or <code>deb_tetra</code> vector into a list of
numeric vectors of length 3 or 4. It is the inverse of <code>deb_as_lsd()</code> and
<code>deb_as_tetra()</code>. Compare to <code>as.list()</code>, which creates a list of <code>deb_lsd</code>
or <code>deb_tetra</code> vectors or <code>unclass()</code>, which creates a list of length 3 or
4 with numeric vectors corresponding to the units.
</p>


<h3>Value</h3>

<p>A list of numeric vectors of length 3 or 4, corresponding to lsd
or tetra values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deb_as_lsd">deb_as_lsd()</a></code> and <code><a href="#topic+deb_as_tetra">deb_as_tetra()</a></code> for the inverse of
<code>deb_as_list()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# deb_lsd vector
x &lt;- deb_lsd(l = 0:3, s = 4:7, d = 8:11)

deb_as_list(x)

# deb_tetra vector

y &lt;- deb_tetra(l = 0:3, s = 4:7, d = 8:11, f = 1:4)

deb_as_list(y)

# This is the inverse of `deb_as_lsd()` of a list of lsd values
z &lt;- deb_as_list(x)

identical(x, deb_as_lsd(z))

</code></pre>

<hr>
<h2 id='lsd-column'>Helpers to create and separate a <code>deb_lsd</code> column in a data frame</h2><span id='topic+lsd-column'></span><span id='topic+deb_gather_lsd'></span><span id='topic+deb_spread_lsd'></span>

<h3>Description</h3>


<ul>
<li> <p><code>deb_gather_lsd()</code> creates a <code>deb_lsd</code> column from separate variables
representing pounds, shillings, and pence values.
</p>
</li>
<li> <p><code>deb_spread_lsd()</code> creates separate variables for pounds, shillings,
and pence from a <code>deb_lsd</code> column.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>deb_gather_lsd(
  df,
  l = l,
  s = s,
  d = d,
  bases = c(20, 12),
  lsd_col = lsd,
  replace = FALSE
)

deb_spread_lsd(df, lsd = lsd, l_col = l, s_col = s, d_col = d, replace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lsd-column_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_l">l</code></td>
<td>
<p>Pounds column: Unquoted name of a numeric variable corresponding
to the pounds or libra unit. Default is <code>l</code>.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_s">s</code></td>
<td>
<p>Shillings column: Unquoted name of a numeric variable
corresponding to the shillings or solidus unit. Default is <code>s</code>.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_d">d</code></td>
<td>
<p>Pence column: Unquoted name of a numeric variable corresponding to
the pence or denarius unit. Default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 2 used to specify the bases for the
solidus or s and denarius or d units. Default is <code>c(20, 12)</code>, which
conforms to the most widely used system of 1 pound = 20 shillings and
1 shilling = 12 pence.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_lsd_col">lsd_col</code></td>
<td>
<p>Unquoted name of the <code>deb_lsd</code> column created by the
function. Default is <code>lsd</code>.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_replace">replace</code></td>
<td>
<p>Logical (default <code>FALSE</code>). When <code>TRUE</code>, the newly created
column(s) will replace the one(s) used to create it/them.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_lsd">lsd</code></td>
<td>
<p><code>deb_lsd</code> column: Unquoted name of a <code>deb_lsd</code> column.
Default is <code>lsd</code>.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_l_col">l_col</code></td>
<td>
<p>Unquoted name for the pounds column created by the function.
Default is <code>l</code>.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_s_col">s_col</code></td>
<td>
<p>Unquoted name for the shillings column created by the function.
Default is <code>s</code>.</p>
</td></tr>
<tr><td><code id="lsd-column_+3A_d_col">d_col</code></td>
<td>
<p>Unquoted name for the pence column created by the function.
Default is <code>d</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When transcribing historical accounting data by hand, entering the pounds,
shillings, and pence values (lsd) into separate columns is probably the
easiest and least error prone method. The <code>deb_gather_()</code> and
<code>deb_spread_()</code> set of functions provide helpers to go back and forth
between this mode of data entry and the use of <code>deb_lsd</code> and <code>deb_tetra</code>
vectors within data frames in R. <code>deb_gather_lsd()</code> creates a <code>deb_lsd</code>
column from <code>l</code>, <code>s</code>, and <code>d</code> columns representing the three units of
this type of value. <code>deb_spread_lsd()</code> does the opposite. It takes a
<code>deb_lsd</code> column and spreads it into three separate pounds, shillings,
and pence columns.
</p>
<p>Values for column names (<code>lsd_col</code>, <code>l_col</code>, <code>s_col</code>, and <code>d_col</code>) must
be valid column names. They can be quoted or unquoted, but they cannot be
vectors or bare numbers. This follows the rules of <code><a href="dplyr.html#topic+rename">dplyr::rename()</a></code>.
</p>


<h3>Value</h3>

<p>A data frame with a new <code>deb_lsd</code> column for <code>deb_gather_lsd()</code>
or new pounds, shillings, and pence columns for <code>deb_spread_lsd()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deb_gather_tetra">deb_gather_tetra()</a></code> and <code><a href="#topic+deb_spread_tetra">deb_spread_tetra()</a></code> provide the
same functionality for the less common tetrapartite values of pounds,
shillings, pence, and farthings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
libra &lt;- c(3, 5, 6, 2)
solidus &lt;- c(10, 18, 11, 16)
denarius &lt;- c(9, 11, 10, 5)

# data frame with separate l, s, and d variables and default names
x &lt;- data.frame(accounts = c(1, 2, 3, 4),
                l = libra,
                s = solidus,
                d = denarius)

# data frame with deb_lsd variable and default names
y &lt;- data.frame(accounts = c(1, 2, 3, 4),
                lsd = deb_lsd(l = libra,
                              s = solidus,
                              d = denarius))

# Gather l, s, and d variables into deb_lsd column
deb_gather_lsd(x, l = l, s = s, d = d)

# Spread deb_lsd column into separate l, s, and d columns
deb_spread_lsd(y, lsd = lsd)

# Replace original columns with replace = TRUE
deb_gather_lsd(x, replace = TRUE)
deb_spread_lsd(y, replace = TRUE)

# Choose non-default column names
deb_gather_lsd(x, lsd_col = data, replace = TRUE)
deb_spread_lsd(y,
               l_col = libra,
               s_col = solidus,
               d_col = denarius,
               replace = TRUE)

# The two functions are opposites
z &lt;- x %&gt;%
  deb_gather_lsd(replace = TRUE) %&gt;%
  deb_spread_lsd(replace = TRUE)
all.equal(x, z)

</code></pre>

<hr>
<h2 id='mathematics'>Math group with <code>deb_lsd</code> and <code>deb_tetra</code> vectors</h2><span id='topic+mathematics'></span>

<h3>Description</h3>

<p>Math and Summary group of functions with <code>deb_lsd</code> and <code>deb_tetra</code> vectors.
Implemented functions:
</p>

<ul>
<li> <p><a href="base.html#topic+Summary">Summary</a> group: <code>sum()</code>, <code>any()</code>, and <code>all()</code>.
</p>
</li>
<li> <p><a href="base.html#topic+Math">Math</a> group: <code>abs()</code>, <code>round()</code>, <code>signif()</code>, <code>ceiling()</code>,
<code>floor()</code>, <code>trunc()</code>, <code>cummax()</code>, <code>cummin()</code>, and <code>cumsum()</code>.
</p>
</li>
<li><p> Additional generics: <code>mean()</code>, <code>is.nan()</code>, <code>is.finite()</code>, and
<code>is.infinite()</code>.
</p>
</li></ul>

<p>All other functions from the groups not currently implemented,
including <code>median()</code>, <code>quantile()</code>, and <code>summary()</code>.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="mathematics_+3A_x">x</code></td>
<td>
<p>An vector of class <code>deb_lsd</code> or <code>deb_tetra</code>.</p>
</td></tr>
<tr><td><code id="mathematics_+3A_...">...</code></td>
<td>
<p><code>deb_lsd</code> or <code>deb_tetra</code> vectors in <code>sum()</code> and arguments
passed on to further methods in <code>mean()</code>.</p>
</td></tr>
<tr><td><code id="mathematics_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. Should missing values (including 'NaN&ldquo;) be removed?</p>
</td></tr>
<tr><td><code id="mathematics_+3A_digits">digits</code></td>
<td>
<p>Integer. Indicating the number of decimal places
(<code>round()</code>) or significant digits (<code>signif()</code>) to be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sum()</code> and <code>cumsum()</code> return a normalized <code>deb_lsd</code> or <code>deb_tetra</code> values.
</p>
<p>Round family of functions only affect the denarius (<code>d</code>) unit of a
<code>deb_lsd</code> value and the farthing (<code>f</code>) unit of <code>deb_tetra</code> value.
All values are normalized.
</p>
<p>If you need a wider implementation of Math and Summary group functions,
use a <code>deb_decimal</code> vector. However, <code>median()</code>, <code>quantile()</code>, and
<code>summary()</code> are also not currently implemented for <code>deb_decimal</code> vectors.
To use these functions cast <code>deb_lsd</code>, <code>deb_tetra</code>, and <code>deb_decimal</code>
vectors to numeric.
</p>


<h3>Value</h3>

<p>A <code>deb_lsd</code> or <code>deb_tetra</code> vector with normalized values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- deb_lsd(l = c(5, 8, 12),
             s = c(16, 6, 13),
             d = c(6, 11, 0))
y &lt;- deb_tetra(l = c(5, 8, 12),
               s = c(16, 6, 13),
               d = c(6, 11, 0),
               f = c(3, 2, 3))

# All values are normalized with sum and cumsum
sum(x)
sum(y)
cumsum(x)
cumsum(y)
mean(x)
mean(y)

# Round family on deb_lsd affects the denarius unit
x2 &lt;- deb_lsd(5, 12, 5.8365)
y2 &lt;- deb_tetra(5, 12, 8, 4.125)
round(x2)
round(y2)
round(x2, digits = 2)
signif(x2, digits = 2)
ceiling(x2)
ceiling(y2)
floor(x2)
floor(y2)
trunc(x2)
trunc(y2)

# The returned values are normalized whether
# they are positive or negative
x3 &lt;- deb_lsd(9, 19, 11.825)
x4 &lt;- deb_lsd(-9, -19, -11.825)
round(x3)
round(x3, digits = 1)

ceiling(x3)
floor(x4)

trunc(x3)
trunc(x4)

</code></pre>

<hr>
<h2 id='methods'>Methods</h2><span id='topic+methods'></span>

<h3>Description</h3>

<p>Methods
</p>

<hr>
<h2 id='normalization'>Normalize tripartite and tetrapartite values</h2><span id='topic+normalization'></span><span id='topic+deb_normalize'></span><span id='topic+deb_normalize.default'></span><span id='topic+deb_normalize.deb_lsd'></span><span id='topic+deb_normalize.numeric'></span><span id='topic+deb_normalize.deb_tetra'></span>

<h3>Description</h3>

<p>Normalize tripartite and tetrapartite values values to given bases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_normalize(x, ...)

## Default S3 method:
deb_normalize(x, ...)

## S3 method for class 'deb_lsd'
deb_normalize(x, ...)

## S3 method for class 'numeric'
deb_normalize(x, bases = c(20, 12), ...)

## S3 method for class 'deb_tetra'
deb_normalize(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normalization_+3A_x">x</code></td>
<td>
<p>Either an vector of class <code>deb_lsd</code>, <code>deb_tetra</code>, or a numeric
vector of length 3 or 4 representing the values to be normalized.</p>
</td></tr>
<tr><td><code id="normalization_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
<tr><td><code id="normalization_+3A_bases">bases</code></td>
<td>
<p>Used only if <code>x</code> is a numeric vector. A Numeric vector of
length 2 or 3 used to specify the bases for the solidus or s, denarius or
d, and optionally the farthing or f units. Default is <code>c(20, 12)</code>, which
conforms to the most widely used system of 1 pound = 20 shillings and 1
shilling = 12 pence.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of class <code>deb_lsd</code> with normalized solidus and
denarius units or a vector of class <code>deb_tetra</code> with normalized solidus,
denarius, and farthing units.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Normalize a deb_lsd vector
x &lt;- deb_lsd(12, 93, 78)
x_alt &lt;- deb_lsd(12, 93, 78, bases = c(60, 16))
deb_normalize(x)
deb_normalize(x_alt)

# Normalize a deb_tetra vector
t &lt;- deb_tetra(12, 83, 78, 42)
t_alt &lt;- deb_tetra(12, 83, 78, 42, bases = c(60, 16, 8))
deb_normalize(t)
deb_normalize(t_alt)

# Normalize a numeric vector of length 3
deb_normalize(c(12, 93, 78))
deb_normalize(c(12, 93, 78), bases = c(60, 16))

# Normalize a numeric vector of length 4
# Must provide bases of length 3
deb_normalize(c(12, 93, 78, 42), bases = c(20, 12, 4))
deb_normalize(c(12, 93, 78, 42), bases = c(60, 16, 8))

</code></pre>

<hr>
<h2 id='tetra-column'>Helpers to create and separate a <code>deb_tetra</code> column in a data frame</h2><span id='topic+tetra-column'></span><span id='topic+deb_gather_tetra'></span><span id='topic+deb_spread_tetra'></span>

<h3>Description</h3>


<ul>
<li> <p><code>deb_gather_tetra()</code> creates a <code>deb_tetra</code> column from separate
variables representing pounds, shillings, pence, and farthing values.
</p>
</li>
<li> <p><code>deb_spread_tetra()</code> creates separate variables for pounds, shillings,
pence, and farthings from a <code>deb_tetra</code> column.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>deb_gather_tetra(
  df,
  l = l,
  s = s,
  d = d,
  f = f,
  bases = c(20, 12, 4),
  tetra_col = tetra,
  replace = FALSE
)

deb_spread_tetra(
  df,
  tetra = tetra,
  l_col = l,
  s_col = s,
  d_col = d,
  f_col = f,
  replace = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tetra-column_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_l">l</code></td>
<td>
<p>Pounds column: Unquoted name of a numeric variable corresponding
to the pounds or libra unit. Default is <code>l</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_s">s</code></td>
<td>
<p>Shillings column: Unquoted name of numeric variable corresponding
to the shillings or solidus unit. Default is <code>s</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_d">d</code></td>
<td>
<p>Pence column: Unquoted name of numeric variable corresponding to
the pence or denarius unit. Default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_f">f</code></td>
<td>
<p>Farthing column: Unquoted name of numeric variable corresponding
to the farthing or f unit. Default is <code>f</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_bases">bases</code></td>
<td>
<p>Numeric vector of length 3 used to specify the bases for the
solidus or s, denarius or d, and farthing or f units. Default is
<code>c(20, 12, 4)</code>, which conforms to the English system of 1 pound =
20 shillings, 1 shilling = 12 pence, and 1 pence = 4 farthing.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_tetra_col">tetra_col</code></td>
<td>
<p>Unquoted name of the <code>deb_tetra</code> column created by the
function. Default is <code>tetra</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_replace">replace</code></td>
<td>
<p>Logical (default <code>FALSE</code>). When <code>TRUE</code>, the newly created
column(s) will replace the one(s) used to create it/them.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_tetra">tetra</code></td>
<td>
<p><code>deb_tetra</code> column: Unquoted name of a <code>deb_tetra</code> column.
Default is <code>tetra</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_l_col">l_col</code></td>
<td>
<p>An unquoted name for the pounds column created by the
function. Default is <code>l</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_s_col">s_col</code></td>
<td>
<p>An unquoted name for the shillings column created by the
function. Default is <code>s</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_d_col">d_col</code></td>
<td>
<p>An unquoted name for the pence column created by the
function. Default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="tetra-column_+3A_f_col">f_col</code></td>
<td>
<p>An unquoted name for the farthings column created by the
function. Default is <code>f</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When transcribing historical accounting data by hand, entering the pounds,
shillings, pence, and optionally farthing values (lsd(f)) into separate
columns is probably the easiest and least error prone method. The
<code>deb_gather_()</code> and <code>deb_spread_()</code> set of functions provide helpers to
go back and forth between this mode of data entry and the use of <code>deb_lsd</code>
and <code>deb_tetra</code> vectors within data frames in R. <code>deb_gather_tetra()</code>
creates a <code>deb_tetra</code> column from four separate columns representing the
four units in this type of value. <code>deb_spread_tetra()</code> does the opposite.
It takes a <code>deb_tetra</code> column and spreads it into four separate columns
representing the four units.
</p>
<p>Values for column names (<code>tetra_col</code>, <code>l_col</code>, <code>s_col</code>, <code>d_col</code>, and
<code>f_col</code>) must be valid column names. They can be quoted or unquoted, but
they cannot be vectors or bare numbers. This follows the rules of
<code><a href="dplyr.html#topic+rename">dplyr::rename()</a></code>.
</p>


<h3>Value</h3>

<p>A data frame with a new <code>deb_tetra</code> column for <code>deb_gather_tetra()</code>
or new pounds, shillings, pence, and farthing columns for
<code>deb_spread_tetra()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deb_gather_lsd">deb_gather_lsd()</a></code> and <code><a href="#topic+deb_spread_lsd">deb_spread_lsd()</a></code> provide the same
functionality for the more common tripartite values of pounds, shillings,
and pence.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
libra &lt;- c(3, 5, 6, 2)
solidus &lt;- c(10, 18, 11, 16)
denarius &lt;- c(9, 11, 10, 5)
farthing &lt;- c(2, 3, 1, 0)

# data frame with separate l, s, and d variables and default names
x &lt;- data.frame(accounts = c(1, 2, 3, 4),
                l = libra,
                s = solidus,
                d = denarius,
                f = farthing)

# data frame with deb_tetra variable and default names
y &lt;- data.frame(accounts = c(1, 2, 3, 4),
                tetra = deb_tetra(l = libra,
                                  s = solidus,
                                  d = denarius,
                                  f = farthing))

# Gather l, s, d, and f variables into a deb_tetra column
deb_gather_tetra(x, l = l, s = s, d = d, f = f)

# Spread deb_tetra column into separate l, s, d, and f columns
deb_spread_tetra(y, tetra = tetra)

# Replace original columns with replace = TRUE
deb_gather_tetra(x, replace = TRUE)
deb_spread_tetra(y, replace = TRUE)

# Choose non-default column names
deb_gather_tetra(x, tetra_col = data, replace = TRUE)
deb_spread_tetra(y,
                 l_col = libra,
                 s_col = solidus,
                 d_col = denarius,
                 f_col = farthing,
                 replace = TRUE)

# The two functions are opposites
z &lt;- x %&gt;%
  deb_gather_tetra(replace = TRUE) %&gt;%
  deb_spread_tetra(replace = TRUE)
all.equal(x, z)

</code></pre>

<hr>
<h2 id='text'>Format <code>deb_lsd</code>, <code>deb_decimal</code>, and <code>deb_tetra</code> vectors as text</h2><span id='topic+text'></span><span id='topic+deb_text'></span><span id='topic+deb_text.default'></span><span id='topic+deb_text.deb_lsd'></span><span id='topic+deb_text.deb_decimal'></span><span id='topic+deb_text.deb_tetra'></span>

<h3>Description</h3>

<p>Flexible way to format <code>deb_lsd</code>, <code>deb_decimal</code>, and <code>deb_tetra</code> vectors
for use as labels or text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deb_text(x, ...)

## Default S3 method:
deb_text(x, ...)

## S3 method for class 'deb_lsd'
deb_text(
  x,
  digits = 0,
  currency = "",
  l.mark = "",
  s.mark = "s.",
  d.mark = "d.",
  sep = " ",
  big.mark = ",",
  decimal.mark = ".",
  suffix = "",
  ...
)

## S3 method for class 'deb_decimal'
deb_text(
  x,
  digits = 0,
  currency = "",
  big.mark = ",",
  decimal.mark = ".",
  suffix = "",
  ...
)

## S3 method for class 'deb_tetra'
deb_text(
  x,
  digits = 0,
  currency = "",
  l.mark = "",
  s.mark = "s.",
  d.mark = "d.",
  f.mark = "f.",
  sep = " ",
  big.mark = ",",
  decimal.mark = ".",
  suffix = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text_+3A_x">x</code></td>
<td>
<p>A vector of class <code>deb_lsd</code>, <code>deb_decimal</code>, or <code>deb_tetra</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
<tr><td><code id="text_+3A_digits">digits</code></td>
<td>
<p>Desired number of digits after the decimal mark to which to
round the numeric values. Default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_currency">currency</code></td>
<td>
<p>Character used for the currency mark. Default is pound sign.</p>
</td></tr>
<tr><td><code id="text_+3A_l.mark">l.mark</code></td>
<td>
<p>Character used following the pounds (l) unit.
Default is <code>""</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_s.mark">s.mark</code></td>
<td>
<p>Character used following the shillings (s) unit.
Default is <code>"s."</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_d.mark">d.mark</code></td>
<td>
<p>Character used following the pence (d) unit.
Default is <code>"d."</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_sep">sep</code></td>
<td>
<p>Character to separate pounds, shillings, pence, and optionally
farthing units. Default is <code>" "</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_big.mark">big.mark</code></td>
<td>
<p>Character used to mark intervals to the left of the decimal
mark. Default is <code>","</code> with default <code>big.interval</code> of <code>3</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_decimal.mark">decimal.mark</code></td>
<td>
<p>Character used for decimal mark. Default is <code>"."</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_suffix">suffix</code></td>
<td>
<p>Character placed after the values. Default is <code>""</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_f.mark">f.mark</code></td>
<td>
<p>Character used following the farthing (f) unit with
tetrapartite values. Default is <code>"f."</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>deb_text</code> is similar to <code>as.character()</code> in that both return a character
vector of the values of <code>deb_lsd</code>, <code>deb_decimal</code>, and <code>deb_tetra</code> vectors.
However, <code>as.character()</code> uses the normal printing method for these vectors.
<code>deb_text()</code> provides a convenient way to nicely format <code>deb_lsd</code>,
<code>deb_decimal</code>, and <code>deb_tetra</code> vectors for use as text or labels with
options for customization.
</p>
<p><code>deb_text()</code> uses <code>formatC()</code> to format the numeric values of <code>x</code>. Numbers
are printed in non-scientific format and trailing zeros are dropped.
</p>
<p>All character vector arguments should be length 1.
</p>


<h3>Value</h3>

<p>A Character vector of formatted values.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+formatC">formatC()</a></code> for further options passed to <code>...</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lsd &lt;- deb_lsd(l = c(10000, 0, -10000),
               s = c(8, 0, -8),
               d = c(5.8252, 0, -5.8252))
dec &lt;- deb_decimal(c(10000.8252, 0, -10000.8252))
tetra &lt;- deb_tetra(l = c(10000, 0, -10000),
                   s = c(8, 0, -8),
                   d = c(5, 0, -5),
                   f = c(2.8252, 0, -2.8252))

deb_text(lsd)
deb_text(dec)
deb_text(tetra)

# Compact format for deb_lsd with suffix to distinguish currency
deb_text(lsd, s.mark = "", d.mark = "",
         sep = ".", suffix = " Flemish")

# Control the number of digits
deb_text(lsd, digits = 3)
deb_text(dec, digits = 3)
deb_text(tetra, digits = 3)

# Change big mark and decimal mark
deb_text(lsd, digits = 4, big.mark = ".", decimal.mark = ",")
deb_text(dec, digits = 4, big.mark = ".", decimal.mark = ",")
deb_text(tetra, digits = 4, big.mark = ".", decimal.mark = ",")

</code></pre>

<hr>
<h2 id='tidyeval'>Tidy eval helpers</h2><span id='topic+tidyeval'></span>

<h3>Description</h3>

<p>Tidy eval helpers
</p>

<hr>
<h2 id='transactions'>Analysis of double-entry bookkeeping</h2><span id='topic+transactions'></span><span id='topic+deb_account'></span><span id='topic+deb_account_summary'></span><span id='topic+deb_credit'></span><span id='topic+deb_debit'></span><span id='topic+deb_current'></span><span id='topic+deb_open'></span><span id='topic+deb_balance'></span>

<h3>Description</h3>

<p>Family of seven related functions to analyze transactions data frames
that have credit, debit, and tetrapartite (lsd) or tetrapartite (lsdf)
columns, mimicking an account book.
</p>

<ul>
<li> <p><code>deb_account()</code> credit, debit, and current value of a single account.
</p>
</li>
<li> <p><code>deb_account_summary()</code> credit, debit, and current value of all accounts.
</p>
</li>
<li> <p><code>deb_credit()</code> total credit of each account.
</p>
</li>
<li> <p><code>deb_debit()</code> total debit of each account.
</p>
</li>
<li> <p><code>deb_current()</code> current value of each account (credit - debit).
</p>
</li>
<li> <p><code>deb_open()</code> current value of each account that has a positive or
negative value.
</p>
</li>
<li> <p><code>deb_balance()</code> positive and negative value remaining in a transactions
data frame.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>deb_account(
  df,
  account_id,
  credit = credit,
  debit = debit,
  lsd = lsd,
  na.rm = FALSE
)

deb_account_summary(
  df,
  credit = credit,
  debit = debit,
  lsd = lsd,
  na.rm = FALSE
)

deb_credit(df, credit = credit, debit = debit, lsd = lsd, na.rm = FALSE)

deb_debit(df, credit = credit, debit = debit, lsd = lsd, na.rm = FALSE)

deb_current(df, credit = credit, debit = debit, lsd = lsd, na.rm = FALSE)

deb_open(df, credit = credit, debit = debit, lsd = lsd, na.rm = FALSE)

deb_balance(df, credit = credit, debit = debit, lsd = lsd, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transactions_+3A_df">df</code></td>
<td>
<p>A data frame or tibble with at least credit, debit, and lsd
columns.</p>
</td></tr>
<tr><td><code id="transactions_+3A_account_id">account_id</code></td>
<td>
<p>The id of the account to be used to calculate the
credit, debit, and current values.</p>
</td></tr>
<tr><td><code id="transactions_+3A_credit">credit</code></td>
<td>
<p>Credit column: Unquoted name of the credit column,
representing the accounts that discharge the transactional values or
from which the values derive. Default is <code>credit</code>.</p>
</td></tr>
<tr><td><code id="transactions_+3A_debit">debit</code></td>
<td>
<p>Debit column: Unquoted name of the debit column,
representing the accounts that receive the transactional values.
Default is <code>debit</code>.</p>
</td></tr>
<tr><td><code id="transactions_+3A_lsd">lsd</code></td>
<td>
<p>Value column: Unquoted name of a column of class <code>deb_lsd</code>,
<code>deb_decimal</code>, or <code>deb_tetra</code>. Default is <code>lsd</code>.</p>
</td></tr>
<tr><td><code id="transactions_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. Should missing values (including <code>NaN</code>) be removed?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Transaction functions return a data frame or tibble with columns for the
accounts in <code>df</code> and credit, debit, and/or current values in the same type
and <code>bases</code> as <code>lsd</code>:
</p>

<ul>
<li> <p><code>deb_account()</code>: a data frame with three rows showing the credit, debit,
and current value of the given account.
</p>
</li>
<li> <p><code>deb_account_summary()</code> a data frame with one row for each account in
<code>df</code> and credit, debit, and current value columns.
</p>
</li>
<li> <p><code>deb_credit()</code>: a data frame with one row for each account with the total
credit of the accounts.
</p>
</li>
<li> <p><code>deb_debit()</code>: a data frame with one row for each account with the total
debit of the accounts.
</p>
</li>
<li> <p><code>deb_current()</code>: a data frame with one row for each account with the
current value of the accounts.
</p>
</li>
<li> <p><code>deb_open()</code>: a data frame with one row for each account whose current
value is not <code>0</code>. If all accounts are equal to zero, a data frame with
zero rows will be returned.
</p>
</li>
<li> <p><code>deb_balance()</code>: a data frame with two rows showing the credit and debit
remaining in <code>df</code>.
</p>
</li></ul>



<h3>Transactions data frames:</h3>

<p>Transactions data frames have the structure of an account book. They
should have a similar arrangement to <code>dafforne_transactions</code>. Each row is
a transaction in the book. <code>credit</code> and <code>debit</code> columns contain the
account ids associated with discharging account (credit) and the receiving
account (debit). The <code>lsd</code> column represents the tripartite or
tetrapartite value of each transaction. Like <code>dafforne_transactions</code>,
transactions data frames can have additional columns with attributes for
each transaction such as id or date among others.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Examples use dafforne_transactions data,
# which have default column names.
# See dafforne_accounts for account names.

# Credit, debit, and current value of cash account
deb_account(dafforne_transactions, account_id = 1,
            credit = credit, debit = debit,
            lsd = lsd)

# Credit, debit, and current value of profit and loss account
deb_account(dafforne_transactions, account_id = 23)

# Summary of all accounts in Dafforne's ledger
deb_account_summary(dafforne_transactions)

# Credit of accounts in Dafforne's ledger
deb_credit(dafforne_transactions)

# Debit of accounts in Dafforne's ledger
deb_debit(dafforne_transactions)

# Current value of accounts in Dafforne's ledger
current &lt;- deb_current(dafforne_transactions)
current

# Current value of open account in Dafforne's ledger
open &lt;- deb_open(dafforne_transactions)
open

# Compare the amount of rows in returned values of
# deb_current() vs deb_open()
nrow(current)
nrow(open)

# Credit and debit remaining on Dafforne's ledger
deb_balance(dafforne_transactions)

</code></pre>

<hr>
<h2 id='vec_math.deb_lsd'>Error message for unimplemented mathematics functions</h2><span id='topic+vec_math.deb_lsd'></span>

<h3>Description</h3>

<p>Error message for unimplemented mathematics functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'deb_lsd'
vec_math(.fn, .x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_math.deb_lsd_+3A_.fn">.fn</code></td>
<td>
<p>A mathematical function from the base package.</p>
</td></tr>
<tr><td><code id="vec_math.deb_lsd_+3A_.x">.x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="vec_math.deb_lsd_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>.fn</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>deb_lsd</code> vector.
</p>

<hr>
<h2 id='vec_math.deb_tetra'>Error message for unimplemented mathematics functions</h2><span id='topic+vec_math.deb_tetra'></span>

<h3>Description</h3>

<p>Error message for unimplemented mathematics functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'deb_tetra'
vec_math(.fn, .x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_math.deb_tetra_+3A_.fn">.fn</code></td>
<td>
<p>A mathematical function from the base package.</p>
</td></tr>
<tr><td><code id="vec_math.deb_tetra_+3A_.x">.x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="vec_math.deb_tetra_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>.fn</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>deb_tetra</code> vector.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

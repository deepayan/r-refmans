<!DOCTYPE html><html><head><title>Help for package CohortExplorer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CohortExplorer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CohortExplorer-package'><p>CohortExplorer: Explorer of Profiles of Patients in a Cohort</p></a></li>
<li><a href='#createCohortExplorerApp'><p>Create Cohort explorer shiny app with person level data</p></a></li>
<li><a href='#exportCohortExplorerAppFiles'><p>Copy shiny app files</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Explorer of Profiles of Patients in a Cohort</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-22</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gowtham Rao &lt;rao@ohdsi.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>This software tool is designed to extract data from a randomized subset of individuals 
    within a cohort and make it available for exploration in a shiny application environment. It 
    retrieves date-stamped, event-level records from one or more data sources that represent patient 
    data in the Observational Medical Outcomes Partnership (OMOP) data model format. This tool 
    features a user-friendly interface that enables users to efficiently explore the extracted 
    profiles, thereby facilitating applications, such as reviewing structured profiles.</td>
</tr>
<tr>
<td>Depends:</td>
<td>DatabaseConnector (&ge; 5.0.0), R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, dplyr, lifecycle, ParallelLogger, rlang, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, testthat, knitr, withr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/LICENSE-1.1">Apache License version 1.1</a> | <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License version 2.0</a> [expanded from: Apache License]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ohdsi.github.io/CohortExplorer/">https://ohdsi.github.io/CohortExplorer/</a>,
<a href="https://github.com/OHDSI/CohortExplorer">https://github.com/OHDSI/CohortExplorer</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/OHDSI/CohortExplorer/issues">https://github.com/OHDSI/CohortExplorer/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-23 13:46:38 UTC; admin_grao9</td>
</tr>
<tr>
<td>Author:</td>
<td>Gowtham Rao [aut, cre],
  Observational Health Data Science and Informatics [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-23 15:50:24 UTC</td>
</tr>
</table>
<hr>
<h2 id='CohortExplorer-package'>CohortExplorer: Explorer of Profiles of Patients in a Cohort</h2><span id='topic+CohortExplorer'></span><span id='topic+CohortExplorer-package'></span>

<h3>Description</h3>

<p>This software tool is designed to extract data from a randomized subset of individuals within a cohort and make it available for exploration in a shiny application environment. It retrieves date-stamped, event-level records from one or more data sources that represent patient data in the Observational Medical Outcomes Partnership (OMOP) data model format. This tool features a user-friendly interface that enables users to efficiently explore the extracted profiles, thereby facilitating applications, such as reviewing structured profiles.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gowtham Rao <a href="mailto:rao@ohdsi.org">rao@ohdsi.org</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Observational Health Data Science and Informatics [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ohdsi.github.io/CohortExplorer/">https://ohdsi.github.io/CohortExplorer/</a>
</p>
</li>
<li> <p><a href="https://github.com/OHDSI/CohortExplorer">https://github.com/OHDSI/CohortExplorer</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/OHDSI/CohortExplorer/issues">https://github.com/OHDSI/CohortExplorer/issues</a>
</p>
</li></ul>


<hr>
<h2 id='createCohortExplorerApp'>Create Cohort explorer shiny app with person level data</h2><span id='topic+createCohortExplorerApp'></span>

<h3>Description</h3>

<p>Export person level data from OMOP CDM tables for eligible persons in the cohort. Creates a folder with files
that are part of the Cohort Explorer 'shiny' app. This app may then be run to review person level profiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createCohortExplorerApp(
  connectionDetails = NULL,
  connection = NULL,
  cohortDatabaseSchema = NULL,
  cdmDatabaseSchema,
  vocabularyDatabaseSchema = cdmDatabaseSchema,
  tempEmulationSchema = getOption("sqlRenderTempEmulationSchema"),
  cohortTable = "cohort",
  cohortDefinitionId,
  cohortName = NULL,
  doNotExportCohortData = FALSE,
  sampleSize = 25,
  personIds = NULL,
  featureCohortDatabaseSchema = NULL,
  featureCohortTable = NULL,
  featureCohortDefinitionSet = NULL,
  exportFolder,
  databaseId,
  shiftDates = FALSE,
  assignNewId = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createCohortExplorerApp_+3A_connectiondetails">connectionDetails</code></td>
<td>
<p>An object of type <code>connectionDetails</code> as created using the
<code><a href="DatabaseConnector.html#topic+createConnectionDetails">createConnectionDetails</a></code> function in the
DatabaseConnector package. Can be left NULL if <code>connection</code> is
provided.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_connection">connection</code></td>
<td>
<p>An object of type <code>connection</code> as created using the
<code><a href="DatabaseConnector.html#topic+connect">connect</a></code> function in the
DatabaseConnector package. Can be left NULL if <code>connectionDetails</code>
is provided, in which case a new connection will be opened at the start
of the function, and closed when the function finishes.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_cohortdatabaseschema">cohortDatabaseSchema</code></td>
<td>
<p>Schema name where your cohort tables reside. Note that for SQL Server,
this should include both the database and schema name, for example
'scratch.dbo'.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_cdmdatabaseschema">cdmDatabaseSchema</code></td>
<td>
<p>Schema name where your OMOP CDM tables with person level data reside.
Note that for SQL Server, this should include both the database and schema name, for example
'scratch.dbo'.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_vocabularydatabaseschema">vocabularyDatabaseSchema</code></td>
<td>
<p>Schema name where your OMOP vocabulary tables reside. It maybe the cdmDatabaseSchema.
Note that for SQL Server, this should include both the database and schema name, for example
'scratch.dbo'.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_tempemulationschema">tempEmulationSchema</code></td>
<td>
<p>Some database platforms like Oracle and Impala do not truly support
temp tables. To emulate temp tables, provide a schema with write
privileges where temp tables can be created.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_cohorttable">cohortTable</code></td>
<td>
<p>The name of the cohort table.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_cohortdefinitionid">cohortDefinitionId</code></td>
<td>
<p>The cohort id to extract records.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_cohortname">cohortName</code></td>
<td>
<p>(optional) Cohort Name</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_donotexportcohortdata">doNotExportCohortData</code></td>
<td>
<p>(Optional) Do you want to not export cohort data? If set to true, parameters
cohortDefinitionId, cohort, cohortDatabaseSchema, cohortName will be ignored.
The persons entire observation period would be considered the cohort. Cohort
Name will be 'Observation Period', cohort id will be set to 0.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_samplesize">sampleSize</code></td>
<td>
<p>(Optional, default = 20) The number of persons to randomly sample.
Ignored, if personId is given.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_personids">personIds</code></td>
<td>
<p>(Optional) An array of personId's to look for in Cohort table and CDM.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_featurecohortdatabaseschema">featureCohortDatabaseSchema</code></td>
<td>
<p>The CohortDatabaseSchema where the feature cohort table exits.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_featurecohorttable">featureCohortTable</code></td>
<td>
<p>The Cohort table where feature cohorts are instantiated.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_featurecohortdefinitionset">featureCohortDefinitionSet</code></td>
<td>
<p>The CohortDefinitionSet object corresponding to the cohorts to
be used as features.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_exportfolder">exportFolder</code></td>
<td>
<p>The folder where the output will be exported to. If this folder does
not exist it will be created.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_databaseid">databaseId</code></td>
<td>
<p>A short string for identifying the database (e.g. 'Synpuf'). This will
be displayed in 'shiny' app to toggle between databases. Should not have
space or underscore (_).</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_shiftdates">shiftDates</code></td>
<td>
<p>(Default = FALSE) Do you want to shift dates? This will help further
de-identify data. The shift is the process of re calibrating dates such
that all persons mi (observation_period_start_date) is 2000-01-01.</p>
</td></tr>
<tr><td><code id="createCohortExplorerApp_+3A_assignnewid">assignNewId</code></td>
<td>
<p>(Default = FALSE) Do you want to assign a newId for persons. This will
replace the personId in the source with a randomly assigned newId.</p>
</td></tr>
</table>


<h3>Value</h3>

<div class="sourceCode"><pre>                      Returns invisibly the full path of the export folder where the
                               files were created. In this path are the files that are part of the 'shiny'
                               app.
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
connectionDetails &lt;- createConnectionDetails(
  dbms = "postgresql",
  server = "ohdsi.com",
  port = 5432,
  user = "me",
  password = "secure"
)

createCohortExplorerApp(
  connectionDetails = connectionDetails,
  cohortDefinitionId = 1234
)

## End(Not run)

</code></pre>

<hr>
<h2 id='exportCohortExplorerAppFiles'>Copy shiny app files</h2><span id='topic+exportCohortExplorerAppFiles'></span>

<h3>Description</h3>

<p>Copy shiny app files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exportCohortExplorerAppFiles(exportFolder)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exportCohortExplorerAppFiles_+3A_exportfolder">exportFolder</code></td>
<td>
<p>The folder where the output will be exported to. If this folder
does not exist it will be created.</p>
</td></tr>
</table>


<h3>Value</h3>

<div class="sourceCode"><pre>                      Nothing is returned to the environment. The function creates the
                               required files for the shiny application in the export folder.
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
exportCohortExplorerAppFiles(
  exportFolder = "output"
)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package BatchExperiments</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BatchExperiments}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addAlgorithm'><p>Add an algorithm to registry.</p></a></li>
<li><a href='#addExperiments'><p>Add experiemts to the registry.</p></a></li>
<li><a href='#addProblem'><p>Add a problem to registry.</p></a></li>
<li><a href='#BatchExperiments'><p>The BatchExperiments package</p></a></li>
<li><a href='#ExperimentJob'><p>ExperimentJob</p></a></li>
<li><a href='#findExperiments'><p>Find ids of experiments that match a query.</p></a></li>
<li><a href='#generateProblemInstance'><p>Generate dynamic part of problem.</p></a></li>
<li><a href='#getAlgorithm'><p>Get algorithm from registry by id.</p></a></li>
<li><a href='#getAlgorithmIds'><p>Get ids of algorithms in registry.</p></a></li>
<li><a href='#getExperimentParts'><p>Get all parts required to run a single job.</p></a></li>
<li><a href='#getIndex'><p>Group experiments.</p></a></li>
<li><a href='#getJobs.ExperimentRegistry'><p>Get jobs (here: experiments) from registry by id.</p></a></li>
<li><a href='#getProblem'><p>Get problem from registry by id.</p></a></li>
<li><a href='#getProblemIds'><p>Get ids of problems in registry.</p></a></li>
<li><a href='#getResultVars'><p>Get variable groups of reduced results.</p></a></li>
<li><a href='#makeDesign'><p>Create parameter designs for problems and algorithms.</p></a></li>
<li><a href='#makeExperimentRegistry'><p>Construct a registry object for experiments.</p></a></li>
<li><a href='#reduceResultsExperiments'><p>Reduce results into a data.frame with all relevant information.</p></a></li>
<li><a href='#reduceResultsExperimentsParallel'><p>Reduce very many results in parallel.</p></a></li>
<li><a href='#removeAlgorithm'><p>Remove algorithm from registry.</p></a></li>
<li><a href='#removeExperiments'><p>Remove jobs from registry.</p></a></li>
<li><a href='#removeProblem'><p>Remove problem from registry.</p></a></li>
<li><a href='#summarizeExperiments'><p>Summarize selected experiments.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Statistical Experiments on Batch Computing Clusters</td>
</tr>
<tr>
<td>Description:</td>
<td>Extends the BatchJobs package to run statistical experiments on
    batch computing clusters. For further details see the project web page.</td>
</tr>
<tr>
<td>Author:</td>
<td>Bernd Bischl &lt;bernd_bischl@gmx.net&gt;,
    Michel Lang &lt;michellang@gmail.com&gt;,
    Olaf Mersmann &lt;olafm@p-value.net&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michel Lang &lt;michellang@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/tudo-r/BatchExperiments">https://github.com/tudo-r/BatchExperiments</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tudo-r/BatchExperiments/issues">https://github.com/tudo-r/BatchExperiments/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), BatchJobs (&ge; 1.7)</td>
</tr>
<tr>
<td>Imports:</td>
<td>backports, utils, stats, checkmate (&ge; 1.8.5), BBmisc (&ge;
1.11), DBI, RSQLite (&ge; 2.0), data.table (&ge; 1.9.6)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>plyr, randomForest, rpart, testthat</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.3</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-21 10:39:59 UTC; michel</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-21 11:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addAlgorithm'>Add an algorithm to registry.</h2><span id='topic+addAlgorithm'></span><span id='topic+Algorithm'></span>

<h3>Description</h3>

<p>Add an algorithm to registry and stores it on disk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addAlgorithm(reg, id, fun, overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addAlgorithm_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="addAlgorithm_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Name of algorithm.</p>
</td></tr>
<tr><td><code id="addAlgorithm_+3A_fun">fun</code></td>
<td>
<p>[<code>function(job, static, dynamic, ...)</code>]<br />
Function which applies the algorithm to a problem instance.
Takes a <code><a href="BatchJobs.html#topic+Job">Job</a></code> object, the <code>static</code> problem part and the evaluated <code>dynamic</code>
problem part as arguments.
You may omit any of <code>job</code>, <code>static</code> or <code>dynamic</code>.
In this case, the respective arguments will not get passed to <code>fun</code>.
Further parameters from <a href="#topic+Design">Design</a> are passed to ... argument.
If you are using multiple result files this function must return a named list.
</p>
<p>To retrieve job informations from the <code>job</code> object
see the documentation on <a href="#topic+ExperimentJob">ExperimentJob</a>.</p>
</td></tr>
<tr><td><code id="addAlgorithm_+3A_overwrite">overwrite</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Overwrite the algorithm file if it already exists?
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>character(1)</code>]. Invisibly returns the id.
</p>


<h3>See Also</h3>

<p>Other add: 
<code><a href="#topic+addExperiments">addExperiments</a>()</code>,
<code><a href="#topic+addProblem">addProblem</a>()</code>
</p>

<hr>
<h2 id='addExperiments'>Add experiemts to the registry.</h2><span id='topic+addExperiments'></span><span id='topic+Experiment'></span>

<h3>Description</h3>

<p>Add experiments for running algorithms on problems
to the registry, so they can be executed later.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addExperiments(
  reg,
  prob.designs,
  algo.designs,
  repls = 1L,
  skip.defined = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addExperiments_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="addExperiments_+3A_prob.designs">prob.designs</code></td>
<td>
<p>[<code>character</code> | <code><a href="#topic+Design">Design</a></code> | list of <code><a href="#topic+Design">Design</a></code>]<br />
Either problem ids, a single problem design or a list of problem designs,
the latter two created by <code><a href="#topic+makeDesign">makeDesign</a></code>.
If missing, all problems are selected (without associating a design),
and this is the default.</p>
</td></tr>
<tr><td><code id="addExperiments_+3A_algo.designs">algo.designs</code></td>
<td>
<p>[<code>character</code> | <code><a href="#topic+Design">Design</a></code> | list of <code><a href="#topic+Design">Design</a></code>]<br />
Either algorithm ids, a single algorithm design or a list of algorithm designs,
the latter two created by <code><a href="#topic+makeDesign">makeDesign</a></code>.
If missing, all algorithms are selected (without associating a design),
and this is the default.</p>
</td></tr>
<tr><td><code id="addExperiments_+3A_repls">repls</code></td>
<td>
<p>[<code>integer(1)</code>]<br />
Number of replications.<br />
Default is 1.</p>
</td></tr>
<tr><td><code id="addExperiments_+3A_skip.defined">skip.defined</code></td>
<td>
<p>[<code>logical</code>]<br />
If set to <code>TRUE</code>, already defined experiments get skipped. Otherwise an error is thrown.<br />
Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns vector of ids of added experiments.
</p>


<h3>See Also</h3>

<p>Other add: 
<code><a href="#topic+addAlgorithm">addAlgorithm</a>()</code>,
<code><a href="#topic+addProblem">addProblem</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### EXAMPLE 1 ###
reg = makeExperimentRegistry(id = "example1", file.dir = tempfile())

# Define a problem:
# Subsampling from the iris dataset.
data(iris)
subsample = function(static, ratio) {
  n = nrow(static)
  train = sample(n, floor(n * ratio))
  test = setdiff(seq(n), train)
  list(test = test, train = train)
}
addProblem(reg, id = "iris", static = iris,
           dynamic = subsample, seed = 123)

# Define algorithm "tree":
# Decision tree on the iris dataset, modeling Species.
tree.wrapper = function(static, dynamic, ...) {
  library(rpart)
  mod = rpart(Species ~ ., data = static[dynamic$train, ], ...)
  pred = predict(mod, newdata = static[dynamic$test, ], type = "class")
  table(static$Species[dynamic$test], pred)
}
addAlgorithm(reg, id = "tree", fun = tree.wrapper)

# Define algorithm "forest":
# Random forest on the iris dataset, modeling Species.
forest.wrapper = function(static, dynamic, ...) {
  library(randomForest)
  mod = randomForest(Species ~ ., data = static, subset = dynamic$train, ...)
  pred = predict(mod, newdata = static[dynamic$test, ])
  table(static$Species[dynamic$test], pred)
}
addAlgorithm(reg, id = "forest", fun = forest.wrapper)

# Define problem parameters:
pars = list(ratio = c(0.67, 0.9))
iris.design = makeDesign("iris", exhaustive = pars)

# Define decision tree parameters:
pars = list(minsplit = c(10, 20), cp = c(0.01, 0.1))
tree.design = makeDesign("tree", exhaustive = pars)

# Define random forest parameters:
pars = list(ntree = c(100, 500))
forest.design = makeDesign("forest", exhaustive = pars)

# Add experiments to the registry:
# Use  previously defined experimental designs.
addExperiments(reg, prob.designs = iris.design,
               algo.designs = list(tree.design, forest.design),
               repls = 2) # usually you would set repls to 100 or more.

# Optional: Short summary over problems and algorithms.
summarizeExperiments(reg)

# Optional: Test one decision tree job and one expensive (ntree = 1000)
# random forest job. Use findExperiments to get the right job ids.
do.tests = FALSE
if (do.tests) {
  id1 = findExperiments(reg, algo.pattern = "tree")[1]
  id2 = findExperiments(reg, algo.pattern = "forest",
                         algo.pars = (ntree == 1000))[1]
  testJob(reg, id1)
  testJob(reg, id2)
}

# Submit the jobs to the batch system
submitJobs(reg)

# Calculate the misclassification rate for all (already done) jobs.
reduce = function(job, res) {
  n = sum(res)
  list(mcr = (n-sum(diag(res)))/n)
}
res = reduceResultsExperiments(reg, fun = reduce)
print(res)

# Aggregate results using 'ddply' from package 'plyr':
# Calculate the mean over all replications of identical experiments
# (same problem, same algorithm and same parameters)
library(plyr)
vars = setdiff(names(res), c("repl", "mcr"))
aggr = ddply(res, vars, summarise, mean.mcr = mean(mcr))
print(aggr)

## Not run: 
### EXAMPLE 2 ###
# define two simple test functions
testfun1 = function(x) sum(x^2)
testfun2 = function(x) -exp(-sum(abs(x)))

# Define ExperimentRegistry:
reg = makeExperimentRegistry("example02", seed = 123, file.dir = tempfile())

# Add the testfunctions to the registry:
addProblem(reg, "testfun1", static = testfun1)
addProblem(reg, "testfun2", static = testfun2)

# Use SimulatedAnnealing on the test functions:
addAlgorithm(reg, "sann", fun = function(static, dynamic) {
  upp = rep(10, 2)
  low = -upp
  start = sample(c(-10, 10), 2)
  res = optim(start, fn = static, lower = low, upper = upp, method = "SANN")
  res = res[c("par", "value", "counts", "convergence")]
  res$start = start
  return(res)
})

# add experiments and submit
addExperiments(reg, repls = 10)
submitJobs(reg)

# Gather informations from the experiments, in this case function value
# and whether the algorithm convergenced:
reduceResultsExperiments(reg, fun = function(job, res) res[c("value", "convergence")])

## End(Not run)
</code></pre>

<hr>
<h2 id='addProblem'>Add a problem to registry.</h2><span id='topic+addProblem'></span><span id='topic+Problem'></span>

<h3>Description</h3>

<p>Add a algorithm to problem and stores it on disk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addProblem(
  reg,
  id,
  static = NULL,
  dynamic = NULL,
  seed = NULL,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addProblem_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
</p>
<p>Registry.</p>
</td></tr>
<tr><td><code id="addProblem_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Name of problem.</p>
</td></tr>
<tr><td><code id="addProblem_+3A_static">static</code></td>
<td>
<p>[any]<br />
Static part of problem that never changes and is not dependent on parameters.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="addProblem_+3A_dynamic">dynamic</code></td>
<td>
<p>[<code>function(job, static, ...)</code>]<br />
R generator function that creates dynamic / stochastic part of problem instance, which might be dependent on parameters.
First parameter <code>job</code> is a <code><a href="BatchJobs.html#topic+Job">Job</a></code> object, second is static problem part <code>static</code>.
Further parameters from design are passed to ... argument on instance creation time.
The arguments <code>job</code> and <code>static</code> may be omitted.
To retrieve job informations from the <code>job</code> object
see the documentation on <a href="#topic+ExperimentJob">ExperimentJob</a>.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="addProblem_+3A_seed">seed</code></td>
<td>
<p>[<code>integer(1)</code>]<br />
Start seed for this problem. This allows the &ldquo;synchronization&rdquo; of a stochastic
problem across algorithms, so that different algorithms are evaluated on the same stochastic instance.
The seeding mechanism works as follows, if a problem seed is defined:
(1) Before the dynamic part of a problem is instantiated,
the seed of the problem + replication - 1 is set, so for the first
replication the exact problem seed is used. (2) The stochastic part of the problem is
instantiated (3) From now on the usual experiment seed of the registry is used,
see <code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>.
If <code>seed</code> is set to <code>NULL</code> this extra problem seeding is switched off, meaning
different algorithms see different stochastic versions of the same problem.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="addProblem_+3A_overwrite">overwrite</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Overwrite the problem file if it already exists?
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>character(1)</code>]. Invisibly returns the id.
</p>


<h3>See Also</h3>

<p>Other add: 
<code><a href="#topic+addAlgorithm">addAlgorithm</a>()</code>,
<code><a href="#topic+addExperiments">addExperiments</a>()</code>
</p>

<hr>
<h2 id='BatchExperiments'>The BatchExperiments package</h2><span id='topic+BatchExperiments'></span>

<h3>Description</h3>

<p>Extends the BatchJobs package to run statistical experiments on
batch computing clusters.
</p>


<h3>Additional information</h3>


<dl>
<dt>Homepage:</dt><dd><p><a href="https://github.com/tudo-r/BatchExperiments">https://github.com/tudo-r/BatchExperiments</a></p>
</dd>
<dt>Wiki:</dt><dd><p><a href="https://github.com/tudo-r/BatchExperiments/wiki">https://github.com/tudo-r/BatchExperiments/wiki</a></p>
</dd>
</dl>


<hr>
<h2 id='ExperimentJob'>ExperimentJob</h2><span id='topic+ExperimentJob'></span>

<h3>Description</h3>

<p>You can access job properties using the <code>job</code> object which is optionally passed
to dynamic problem functions and algorithms. The object is a named list with the following
elements:
</p>

<dl>
<dt><code>id</code> [<code>integer(1)</code>]:</dt><dd><p>Job ID.</p>
</dd>
<dt><code>prob.id</code> [<code>character(1)</code>]:</dt><dd><p>Problem ID.</p>
</dd>
<dt><code>prob.pars</code> [<code>list</code>]:</dt><dd><p>Problem parameters as named list.</p>
</dd>
<dt><code>algo.id</code> [<code>character(1)</code>]:</dt><dd><p>algo.id</p>
</dd></dl>
<p>Algorithm ID.
</p>
<dl>
<dt><code>algo.pars</code> [<code>list</code>]:</dt><dd><p>Algorithm parameters as named list.</p>
</dd>
<dt><code>repl</code> [<code>integer(1)</code>]:</dt><dd><p>Replication number of this experiment.</p>
</dd>
<dt><code>seed</code> [<code>integer(1)</code>]:</dt><dd><p>Seed set right before algorithm execution.</p>
</dd>
<dt><code>prob.seed</code> [<code>integer(1)</code>]:</dt><dd><p>Seed set right before generation of problem instance.</p>
</dd>
</dl>


<hr>
<h2 id='findExperiments'>Find ids of experiments that match a query.</h2><span id='topic+findExperiments'></span>

<h3>Description</h3>

<p>Find job ids by querying problem/algorithm ids, problem/algorithm parameters or
replication number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findExperiments(
  reg,
  ids,
  prob.pattern,
  prob.pars,
  algo.pattern,
  algo.pars,
  repls,
  match.substring = TRUE,
  regexp = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findExperiments_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_ids">ids</code></td>
<td>
<p>[<code>integer</code>]<br />
Ids of selected experiments to restrict to.
Default is all experiments.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_prob.pattern">prob.pattern</code></td>
<td>
<p>[<code>character(1)</code>]<br />
If not missing, all problem ids that match this string are selected.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_prob.pars">prob.pars</code></td>
<td>
<p>[R expression]<br />
If not missing, all problems whose parameters match
the given expression are selected.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_algo.pattern">algo.pattern</code></td>
<td>
<p>[<code>character(1)</code>]<br />
If not missing, all algorithm ids that match this string are selected.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_algo.pars">algo.pars</code></td>
<td>
<p>[R expression]<br />
If not missing, all algorithms whose parameters match
the given expression are selected.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_repls">repls</code></td>
<td>
<p>[<code>integer</code>]<br />
If not missing, restrict to jobs with given replication numbers.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_match.substring">match.substring</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Is a match in <code>prob.pattern</code> and <code>algo.pattern</code> if the id contains
the pattern as substring or must the id exactly match?
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="findExperiments_+3A_regexp">regexp</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Are <code>prob.pattern</code> and <code>algo.pattern</code> regular expressions?
Note that this is significantly slower than substring matching.
If set to <code>TRUE</code> the argument <code>match.substring</code> has no effect.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>integer</code>]. Ids for experiments which match the query.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>reg = makeExperimentRegistry(id = "example1", file.dir = tempfile())
p1 = addProblem(reg, "one", 1)
p2 = addProblem(reg, "two", 2)
a = addAlgorithm(reg, "A", fun = function(static, n) static + n)
addExperiments(reg, algo.design = makeDesign(a, exhaustive = list(n = 1:4)))
findExperiments(reg, prob.pattern = "one")
findExperiments(reg, prob.pattern = "o")
findExperiments(reg, algo.pars = (n &gt; 2))
</code></pre>

<hr>
<h2 id='generateProblemInstance'>Generate dynamic part of problem.</h2><span id='topic+generateProblemInstance'></span><span id='topic+Instance'></span>

<h3>Description</h3>

<p>Calls the dynamic problem function on the static problem part and
thereby creates the problem instance.
The seeding mechanism is identical to execution on the slave.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateProblemInstance(reg, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateProblemInstance_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="generateProblemInstance_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Id of job.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dynamic part of problem.
</p>

<hr>
<h2 id='getAlgorithm'>Get algorithm from registry by id.</h2><span id='topic+getAlgorithm'></span>

<h3>Description</h3>

<p>The requested object is loaded from disk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAlgorithm(reg, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAlgorithm_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="getAlgorithm_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Id of algorithm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code><a href="#topic+Algorithm">Algorithm</a></code>].
</p>


<h3>See Also</h3>

<p>Other get: 
<code><a href="#topic+getAlgorithmIds">getAlgorithmIds</a>()</code>,
<code><a href="#topic+getExperimentParts">getExperimentParts</a>()</code>,
<code><a href="#topic+getJobs.ExperimentRegistry">getJobs.ExperimentRegistry</a>()</code>,
<code><a href="#topic+getProblemIds">getProblemIds</a>()</code>,
<code><a href="#topic+getProblem">getProblem</a>()</code>
</p>

<hr>
<h2 id='getAlgorithmIds'>Get ids of algorithms in registry.</h2><span id='topic+getAlgorithmIds'></span>

<h3>Description</h3>

<p>Get algorithm ids for jobs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAlgorithmIds(reg, ids)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAlgorithmIds_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="getAlgorithmIds_+3A_ids">ids</code></td>
<td>
<p>[codeinteger]<br />
Job ids to restrict returned algorithm ids to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>character</code>].
</p>


<h3>See Also</h3>

<p>Other get: 
<code><a href="#topic+getAlgorithm">getAlgorithm</a>()</code>,
<code><a href="#topic+getExperimentParts">getExperimentParts</a>()</code>,
<code><a href="#topic+getJobs.ExperimentRegistry">getJobs.ExperimentRegistry</a>()</code>,
<code><a href="#topic+getProblemIds">getProblemIds</a>()</code>,
<code><a href="#topic+getProblem">getProblem</a>()</code>
</p>

<hr>
<h2 id='getExperimentParts'>Get all parts required to run a single job.</h2><span id='topic+getExperimentParts'></span>

<h3>Description</h3>

<p>Get all parts which define an <code><a href="#topic+Experiment">Experiment</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExperimentParts(reg, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getExperimentParts_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="getExperimentParts_+3A_id">id</code></td>
<td>
<p>[<code>integer(1)</code>]<br />
Id of a job.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[named list]. Returns the Job, <a href="#topic+Problem">Problem</a>, <a href="#topic+Instance">Instance</a> and <a href="#topic+Algorithm">Algorithm</a>.
</p>


<h3>See Also</h3>

<p>Other get: 
<code><a href="#topic+getAlgorithmIds">getAlgorithmIds</a>()</code>,
<code><a href="#topic+getAlgorithm">getAlgorithm</a>()</code>,
<code><a href="#topic+getJobs.ExperimentRegistry">getJobs.ExperimentRegistry</a>()</code>,
<code><a href="#topic+getProblemIds">getProblemIds</a>()</code>,
<code><a href="#topic+getProblem">getProblem</a>()</code>
</p>

<hr>
<h2 id='getIndex'>Group experiments.</h2><span id='topic+getIndex'></span>

<h3>Description</h3>

<p>Creates a list of <code><a href="base.html#topic+factor">factor</a></code> to use in functions like <code><a href="base.html#topic+tapply">tapply</a></code>, <code><a href="base.html#topic+by">by</a></code>
or <code><a href="stats.html#topic+aggregate">aggregate</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getIndex(
  reg,
  ids,
  by.prob = FALSE,
  by.algo = FALSE,
  by.repl = FALSE,
  by.prob.pars,
  by.algo.pars,
  enclos = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getIndex_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="getIndex_+3A_ids">ids</code></td>
<td>
<p>[<code>integer</code>]<br />
If not missing, restict grouping to this subset of experiment ids.</p>
</td></tr>
<tr><td><code id="getIndex_+3A_by.prob">by.prob</code></td>
<td>
<p>[<code>logical</code>]<br />
Group experiments by problem. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="getIndex_+3A_by.algo">by.algo</code></td>
<td>
<p>[<code>logical</code>]<br />
Group experiments by algorithm. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="getIndex_+3A_by.repl">by.repl</code></td>
<td>
<p>[<code>logical</code>]<br />
Group experiments by replication. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="getIndex_+3A_by.prob.pars">by.prob.pars</code></td>
<td>
<p>[R expression]<br />
If not missing, group experiments by this R expression.
The expression is evaluated in the environment of problem parameters and
converted to a factor using <code>as.factor</code>.</p>
</td></tr>
<tr><td><code id="getIndex_+3A_by.algo.pars">by.algo.pars</code></td>
<td>
<p>[R expression]<br />
If not missing, group experiments by this R expression.
The expression is evaluated in the environment of algorithm parameters and
converted to a factor using <code><a href="base.html#topic+as.factor">as.factor</a></code>.</p>
</td></tr>
<tr><td><code id="getIndex_+3A_enclos">enclos</code></td>
<td>
<p>[<code>environment</code>]<br />
Enclosing frame for evaluation of parameters used by <code>by.prob.pars</code> and
<code>by.algo.pars</code>, see <code><a href="base.html#topic+eval">eval</a></code>. Defaults to the parent
frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>list</code>]. List of factors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a registry and add problems and algorithms
reg = makeExperimentRegistry("getIndex", file.dir = tempfile(""))
addProblem(reg, "prob", static = 1)
addAlgorithm(reg, "f0", function(static, dynamic) static)
addAlgorithm(reg, "f1", function(static, dynamic, i, k) static * i^k)
ad = list(makeDesign("f0"), makeDesign("f1", exhaustive = list(i = 1:5, k = 1:3)))
addExperiments(reg, algo.designs = ad)
submitJobs(reg)

# get grouped job ids
ids = getJobIds(reg)
by(ids, getIndex(reg, by.prob = TRUE, by.algo = TRUE), identity)
ids = findExperiments(reg, algo.pattern = "f1")
by(ids, getIndex(reg, ids, by.algo.pars = (k == 1)), identity)

# groupwise reduction
ids = findExperiments(reg, algo.pattern = "f1")
showStatus(reg, ids)
f = function(aggr, job, res) aggr + res
by(ids, getIndex(reg, ids, by.algo.pars = k), reduceResults, reg = reg, fun = f)
by(ids, getIndex(reg, ids, by.algo.pars = i), reduceResults, reg = reg, fun = f)
</code></pre>

<hr>
<h2 id='getJobs.ExperimentRegistry'>Get jobs (here: experiments) from registry by id.</h2><span id='topic+getJobs.ExperimentRegistry'></span>

<h3>Description</h3>

<p>Constructs an <code><a href="#topic+Experiment">Experiment</a></code> for each job id provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ExperimentRegistry'
getJobs(reg, ids, check.ids = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getJobs.ExperimentRegistry_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="getJobs.ExperimentRegistry_+3A_ids">ids</code></td>
<td>
<p>[<code>integer</code>]<br />
Ids of job.
Default is all jobs.</p>
</td></tr>
<tr><td><code id="getJobs.ExperimentRegistry_+3A_check.ids">check.ids</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Check the job ids?
Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[list of <code>Experiment</code>].
</p>


<h3>See Also</h3>

<p>Other get: 
<code><a href="#topic+getAlgorithmIds">getAlgorithmIds</a>()</code>,
<code><a href="#topic+getAlgorithm">getAlgorithm</a>()</code>,
<code><a href="#topic+getExperimentParts">getExperimentParts</a>()</code>,
<code><a href="#topic+getProblemIds">getProblemIds</a>()</code>,
<code><a href="#topic+getProblem">getProblem</a>()</code>
</p>

<hr>
<h2 id='getProblem'>Get problem from registry by id.</h2><span id='topic+getProblem'></span>

<h3>Description</h3>

<p>The requested object is loaded from disk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getProblem(reg, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getProblem_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="getProblem_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Id of problem.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code><a href="#topic+Problem">Problem</a></code>].
</p>


<h3>See Also</h3>

<p>Other get: 
<code><a href="#topic+getAlgorithmIds">getAlgorithmIds</a>()</code>,
<code><a href="#topic+getAlgorithm">getAlgorithm</a>()</code>,
<code><a href="#topic+getExperimentParts">getExperimentParts</a>()</code>,
<code><a href="#topic+getJobs.ExperimentRegistry">getJobs.ExperimentRegistry</a>()</code>,
<code><a href="#topic+getProblemIds">getProblemIds</a>()</code>
</p>

<hr>
<h2 id='getProblemIds'>Get ids of problems in registry.</h2><span id='topic+getProblemIds'></span>

<h3>Description</h3>

<p>Get problem ids for jobs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getProblemIds(reg, ids)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getProblemIds_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="getProblemIds_+3A_ids">ids</code></td>
<td>
<p>[codeinteger]<br />
Job ids to restrict returned problem ids to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>character</code>].
</p>


<h3>See Also</h3>

<p>Other get: 
<code><a href="#topic+getAlgorithmIds">getAlgorithmIds</a>()</code>,
<code><a href="#topic+getAlgorithm">getAlgorithm</a>()</code>,
<code><a href="#topic+getExperimentParts">getExperimentParts</a>()</code>,
<code><a href="#topic+getJobs.ExperimentRegistry">getJobs.ExperimentRegistry</a>()</code>,
<code><a href="#topic+getProblem">getProblem</a>()</code>
</p>

<hr>
<h2 id='getResultVars'>Get variable groups of reduced results.</h2><span id='topic+getResultVars'></span>

<h3>Description</h3>

<p>Useful helper for e.g. package plyr and such.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getResultVars(data, type = "group")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getResultVars_+3A_data">data</code></td>
<td>
<p>[<code><a href="#topic+ReducedResultsExperiments">ReducedResultsExperiments</a></code>]<br />
Result data.frame from <code><a href="#topic+reduceResultsExperiments">reduceResultsExperiments</a></code>.</p>
</td></tr>
<tr><td><code id="getResultVars_+3A_type">type</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Can be &ldquo;prob&rdquo; (prob + pars), &ldquo;prob.pars&rdquo; (only problem pars),
&ldquo;algo&rdquo; (algo + pars), &ldquo;algo.pars&rdquo; (only algo pars),
&ldquo;group&rdquo; (prob + problem pars + algo + algo pars), &ldquo;result&rdquo; (result column names).
Default is &ldquo;group&rdquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>character</code>]. Names of of columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>reg = makeExperimentRegistry("BatchExample", seed = 123, file.dir = tempfile())
addProblem(reg, "p1", static = 1)
addProblem(reg, "p2", static = 2)
addAlgorithm(reg, id = "a1",
  fun = function(static, dynamic, alpha) c(y = static*alpha))
addAlgorithm(reg, id = "a2",
  fun = function(static, dynamic, alpha, beta) c(y = static*alpha+beta))
ad1 = makeDesign("a1", exhaustive = list(alpha = 1:2))
ad2 = makeDesign("a2", exhaustive = list(alpha = 1:2, beta = 5:6))
addExperiments(reg, algo.designs = list(ad1, ad2), repls = 2)
submitJobs(reg)
data = reduceResultsExperiments(reg)
library(plyr)
ddply(data, getResultVars(data, "group"), summarise, mean_y = mean(y))
</code></pre>

<hr>
<h2 id='makeDesign'>Create parameter designs for problems and algorithms.</h2><span id='topic+makeDesign'></span><span id='topic+Design'></span>

<h3>Description</h3>

<p>Create a parameter design for either a problem or an algorithm that you
can use in <code><a href="#topic+addExperiments">addExperiments</a></code>.
All parameters in <code>design</code> and <code>exhaustive</code> be &ldquo;primitive&rdquo;
in the sense that either <code>is.atomic</code> is <code>TRUE</code> or <code>is.factor</code> is <code>TRUE</code>.
</p>
<p>Be aware of R's default behaviour of converting strings into factors if you use the <code>design</code>
parameter. See option <code>stringsAsFactors</code> in <code><a href="base.html#topic+data.frame">data.frame</a></code> to turn this off.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeDesign(id, design = data.frame(), exhaustive = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeDesign_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
</p>
<p>Id of algorithm or problem.</p>
</td></tr>
<tr><td><code id="makeDesign_+3A_design">design</code></td>
<td>
<p>[<code>data.frame</code>]<br />
The design. Must have named columns corresponding to parameters.
Default is an empty <code>data.frame()</code>.</p>
</td></tr>
<tr><td><code id="makeDesign_+3A_exhaustive">exhaustive</code></td>
<td>
<p>[<code>list</code>]<br />
Named list of parameters settings which should be exhaustively tried.
Names must correspond to parameters.
Default is empty list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code><a href="#topic+Design">Design</a></code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# simple design for algorithm "a1" with no parameters:
design = makeDesign("a1")

# design for problem "p1" using predefined parameter combinations
design = makeDesign("p1", design = data.frame(alpha = 0:1, beta = c(0.1, 0.2)))

# creating a list of designs for several algorithms at once, all using the same
# exhaustive grid of parameters
designs = lapply(c("a1", "a2", "a3"), makeDesign,
                  exhaustive = list(alpha = 0:1, gamma = 1:10/10))

## End(Not run)
</code></pre>

<hr>
<h2 id='makeExperimentRegistry'>Construct a registry object for experiments.</h2><span id='topic+makeExperimentRegistry'></span><span id='topic+ExperimentRegistry'></span>

<h3>Description</h3>

<p>Note that if you don't want links in your paths (<code>file.dir</code>, <code>work.dir</code>) to get resolved and have
complete control over the way the path is used internally, pass an absolute path which begins with &ldquo;/&rdquo;.
</p>
<p>Every object is a list that contains the passed arguments of the constructor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeExperimentRegistry(
  id = "BatchExperimentRegistry",
  file.dir,
  sharding = TRUE,
  work.dir,
  multiple.result.files = FALSE,
  seed,
  packages = character(0L),
  src.dirs = character(0L),
  src.files = character(0L),
  skip = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeExperimentRegistry_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Name of registry. Displayed e.g. in mails or in cluster queue.
Default is &ldquo;BatchExperimentRegistry&rdquo;.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_file.dir">file.dir</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Path where files regarding the registry / jobs should be saved.
Default is dQuote&lt;name of registry&gt;_files in current working directory.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_sharding">sharding</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Enable sharding to distribute result files into different subdirectories?
Important if you have many experiments.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_work.dir">work.dir</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Working directory for R process when experiment is executed.
Default is the current working directory when registry is created.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_multiple.result.files">multiple.result.files</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Should a result file be generated for every list element of the
returned list of the algorithm function?
Note that your algorithm functions in <code><a href="#topic+addAlgorithm">addAlgorithm</a></code> must
return named lists if this is set to <code>TRUE</code>.
The result file will be named &ldquo;&lt;id&gt;-result-&lt;element name&gt;.RData&rdquo;
instead of &ldquo;&lt;id&gt;-result.RData&rdquo;.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_seed">seed</code></td>
<td>
<p>[<code>integer(1)</code>]<br />
Start seed for experiments. The first experiment in the registry will use this
seed, for the subsequent ones the seed is incremented by 1.
Default is a random number from 1 to <code>.Machine$integer.max/2</code>.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_packages">packages</code></td>
<td>
<p>[<code>character</code>]<br />
Packages that will always be loaded on each node.
Default is <code>character(0)</code>.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_src.dirs">src.dirs</code></td>
<td>
<p>[<code>character</code>]<br />
Directories relative to your <code>work.dir</code> containing R scripts
to be sourced on registry load (both on slave and master).
Files not matching the pattern &ldquo;\.[Rr]$&rdquo; are ignored.
Useful if you have many helper functions that are needed during the execution of your jobs.
These files should only contain function definitions and no executable code.
Default is <code>character(0)</code>.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_src.files">src.files</code></td>
<td>
<p>[<code>character</code>]<br />
R scripts files relative to your <code>work.dir</code>
to be sourced on registry load (both on slave and master).
Useful if you have many helper functions that are needed during the execution of your jobs.
These files should only contain function definitions and no executable code.
Default is <code>character(0)</code>.</p>
</td></tr>
<tr><td><code id="makeExperimentRegistry_+3A_skip">skip</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Skip creation of a new registry if a registry is found in <code>file.dir</code>.
Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]
</p>

<hr>
<h2 id='reduceResultsExperiments'>Reduce results into a data.frame with all relevant information.</h2><span id='topic+reduceResultsExperiments'></span><span id='topic+ReducedResultsExperiments'></span>

<h3>Description</h3>

<p>Generates a <code>data.frame</code> with one row per job id. The columns are: ids of problem and algorithm
(named &ldquo;prob&rdquo; and &ldquo;algo&rdquo;), one column per parameter of problem or algorithm (named by the parameter name),
the replication number (named &ldquo;repl&rdquo;) and all columns defined in the function to collect the values.
Note that you cannot rely on the order of the columns.
If a parameter does not have a setting for a certain job / experiment it is set to <code>NA</code>.
Have a look at <code><a href="#topic+getResultVars">getResultVars</a></code> if you want to use something like <code><a href="plyr.html#topic+ddply">ddply</a></code> on the
results.
</p>
<p>The rows are ordered as <code>ids</code> and named with <code>ids</code>, so one can easily index them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reduceResultsExperiments(
  reg,
  ids,
  part = NA_character_,
  fun,
  ...,
  strings.as.factors = FALSE,
  block.size,
  impute.val,
  apply.on.missing = FALSE,
  progressbar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reduceResultsExperiments_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_ids">ids</code></td>
<td>
<p>[<code>integer</code>]<br />
Ids of selected experiments.
Default is all jobs for which results are available.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_part">part</code></td>
<td>
<p>[<code>character</code>]
Only useful for multiple result files, then defines which result file part(s) should be loaded.
<code>NA</code> means all parts are loaded, which is the default.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_fun">fun</code></td>
<td>
<p>[<code>function(job, res, ...)</code>]<br />
Function to collect values from <code>job</code> and result <code>res</code> object, the latter from stored result file.
Must return a named object which can be coerced to a <code>data.frame</code> (e.g. a <code>list</code>).
Default is a function that simply returns <code>res</code> which may or may not work, depending on the type
of <code>res</code>. We recommend to always return a named list.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_...">...</code></td>
<td>
<p>[any]<br />
Additional arguments to <code>fun</code>.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_strings.as.factors">strings.as.factors</code></td>
<td>
<p>[<code>logical(1)</code>]
Should all character columns in result be converted to factors?
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_block.size">block.size</code></td>
<td>
<p>[<code>integer(1)</code>]
Results will be fetched in blocks of this size.
Default is max(100, 5 percent of ids).</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_impute.val">impute.val</code></td>
<td>
<p>[<code>named list</code>]<br />
If not missing, the value of <code>impute.val</code> is used as a replacement for the
return value of function <code>fun</code> on missing results. An empty list is allowed.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_apply.on.missing">apply.on.missing</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Apply the function on jobs with missing results? The argument &ldquo;res&rdquo; will be <code>NULL</code>
and must be handled in the function.
This argument has no effect if <code>impute.val</code> is set.
Default ist <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="reduceResultsExperiments_+3A_progressbar">progressbar</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Set to <code>FALSE</code> to disable the progress bar.
To disable all progress bars, see <code><a href="BBmisc.html#topic+makeProgressBar">makeProgressBar</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>data.frame</code>]. Aggregated results, containing problem and algorithm paramaters and collected values.
</p>

<hr>
<h2 id='reduceResultsExperimentsParallel'>Reduce very many results in parallel.</h2><span id='topic+reduceResultsExperimentsParallel'></span>

<h3>Description</h3>

<p>Basically the same as <code><a href="#topic+reduceResultsExperiments">reduceResultsExperiments</a></code> but creates a few (hopefully short) jobs
to reduce the results in parallel. The function internally calls <code>batchMapQuick</code>,
does &ldquo;busy-waiting&rdquo; till
all jobs are done and cleans all temporary files up.
</p>
<p>The rows are ordered as <code>ids</code> and named with <code>ids</code>, so one can easily index them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reduceResultsExperimentsParallel(
  reg,
  ids,
  part = NA_character_,
  fun,
  ...,
  timeout = 604800L,
  njobs = 20L,
  strings.as.factors = FALSE,
  impute.val,
  apply.on.missing = FALSE,
  progressbar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_ids">ids</code></td>
<td>
<p>[<code>integer</code>]<br />
Ids of selected experiments.
Default is all jobs for which results are available.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_part">part</code></td>
<td>
<p>[<code>character</code>]
Only useful for multiple result files, then defines which result file part(s) should be loaded.
<code>NA</code> means all parts are loaded, which is the default.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_fun">fun</code></td>
<td>
<p>[<code>function(job, res, ...)</code>]<br />
Function to collect values from <code>job</code> and result <code>res</code> object, the latter from stored result file.
Must return a named object which can be coerced to a <code>data.frame</code> (e.g. a <code>list</code>).
Default is a function that simply returns <code>res</code> which may or may not work, depending on the type
of <code>res</code>. We recommend to always return a named list.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_...">...</code></td>
<td>
<p>[any]<br />
Additional arguments to <code>fun</code>.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_timeout">timeout</code></td>
<td>
<p>[<code>integer(1)</code>]
Seconds to wait for completion. Passed to <code><a href="BatchJobs.html#topic+waitForJobs">waitForJobs</a></code>.
Default is 648400 (one week).</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_njobs">njobs</code></td>
<td>
<p>[<code>integer(1)</code>]
Number of parallel jobs to create.
Default is 20.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_strings.as.factors">strings.as.factors</code></td>
<td>
<p>[<code>logical(1)</code>]
Should all character columns in result be converted to factors?
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_impute.val">impute.val</code></td>
<td>
<p>[<code>named list</code>]<br />
If not missing, the value of <code>impute.val</code> is used as a replacement for the
return value of function <code>fun</code> on missing results. An empty list is allowed.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_apply.on.missing">apply.on.missing</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Apply the function on jobs with missing results? The argument &ldquo;res&rdquo; will be <code>NULL</code>
and must be handled in the function.
This argument has no effect if <code>impute.val</code> is set.
Default ist <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="reduceResultsExperimentsParallel_+3A_progressbar">progressbar</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Set to <code>FALSE</code> to disable the progress bar.
To disable all progress bars, see <code><a href="BBmisc.html#topic+makeProgressBar">makeProgressBar</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>data.frame</code>]. Aggregated results, containing problem and algorithm paramaters and collected values.
</p>

<hr>
<h2 id='removeAlgorithm'>Remove algorithm from registry.</h2><span id='topic+removeAlgorithm'></span>

<h3>Description</h3>

<p>THIS DELETES ALL FILES REGARDING THIS ALGORITHM, INCLUDING ALL JOBS AND RESULTS!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeAlgorithm(reg, id, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeAlgorithm_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="removeAlgorithm_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Id of algorithm.</p>
</td></tr>
<tr><td><code id="removeAlgorithm_+3A_force">force</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Also remove jobs which seem to be still running.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing.
</p>


<h3>See Also</h3>

<p>Other remove: 
<code><a href="#topic+removeExperiments">removeExperiments</a>()</code>,
<code><a href="#topic+removeProblem">removeProblem</a>()</code>
</p>

<hr>
<h2 id='removeExperiments'>Remove jobs from registry.</h2><span id='topic+removeExperiments'></span>

<h3>Description</h3>

<p>THIS DELETES ALL FILES REGARDING THE JOBS, INCLUDING RESULTS!
If you really know what you are doing, you may set <code>force</code>
to <code>TRUE</code> to omit sanity checks on running jobs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeExperiments(reg, ids, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeExperiments_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="removeExperiments_+3A_ids">ids</code></td>
<td>
<p>[<code>integer</code>]<br />
Ids of jobs you want to remove.
Default is none.</p>
</td></tr>
<tr><td><code id="removeExperiments_+3A_force">force</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Also remove jobs which seem to be still running.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of type <code>integer</code> of removed job ids.
</p>


<h3>See Also</h3>

<p>Other remove: 
<code><a href="#topic+removeAlgorithm">removeAlgorithm</a>()</code>,
<code><a href="#topic+removeProblem">removeProblem</a>()</code>
</p>

<hr>
<h2 id='removeProblem'>Remove problem from registry.</h2><span id='topic+removeProblem'></span>

<h3>Description</h3>

<p>THIS DELETES ALL FILES REGARDING THIS PROBLEM, INCLUDING ALL JOBS AND RESULTS!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeProblem(reg, id, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeProblem_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="removeProblem_+3A_id">id</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Id of problem.</p>
</td></tr>
<tr><td><code id="removeProblem_+3A_force">force</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
Also remove jobs which seem to be still running.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing.
</p>


<h3>See Also</h3>

<p>Other remove: 
<code><a href="#topic+removeAlgorithm">removeAlgorithm</a>()</code>,
<code><a href="#topic+removeExperiments">removeExperiments</a>()</code>
</p>

<hr>
<h2 id='summarizeExperiments'>Summarize selected experiments.</h2><span id='topic+summarizeExperiments'></span>

<h3>Description</h3>

<p>A data.frame is returned that contains summary information
about the selected experiments. The data.frame is constructed
by building the columns &ldquo;prob, &lt;prob.pars&gt;, algo, &lt;algo.pars&gt;, repl&rdquo;.
Now only the columns in <code>show</code> will be selected, how many of such experiments
exist will be counted in a new column &ldquo;.count&rdquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarizeExperiments(reg, ids, show = c("prob", "algo"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarizeExperiments_+3A_reg">reg</code></td>
<td>
<p>[<code><a href="#topic+ExperimentRegistry">ExperimentRegistry</a></code>]<br />
Registry.</p>
</td></tr>
<tr><td><code id="summarizeExperiments_+3A_ids">ids</code></td>
<td>
<p>[<code>integer</code>]<br />
Selected experiments.
Default is all experiments.</p>
</td></tr>
<tr><td><code id="summarizeExperiments_+3A_show">show</code></td>
<td>
<p>[<code>character</code>]<br />
Should detailed information for each single experiment be printed?
Default is <code>c("prob", "algo")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code>data.frame</code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>reg = makeExperimentRegistry("summarizeExperiments", seed = 123, file.dir = tempfile())
p1 = addProblem(reg, "p1", static = 1)
a1 = addAlgorithm(reg, id = "a1", fun = function(static, dynamic, alpha, beta) 1)
a2 = addAlgorithm(reg, id = "a2", fun = function(static, dynamic, alpha, gamma) 2)
ad1 = makeDesign(a1, exhaustive = list(alpha = 1:2, beta = 1:2))
ad2 = makeDesign(a2, exhaustive = list(alpha = 1:2, gamma = 7:8))
addExperiments(reg, algo.designs = list(ad1, ad2), repls = 2)
print(summarizeExperiments(reg))
print(summarizeExperiments(reg, show = c("prob", "algo", "alpha", "gamma")))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

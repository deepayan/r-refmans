<!DOCTYPE html><html><head><title>Help for package plac</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {plac}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#plac-package'><p>A Package for Computating the Pairwise Likelihood Augmented Cox Estimator for Left-Truncated Data.</p></a></li>
<li><a href='#cum.haz'><p>Calulate the Values of the cumulative Hazard at Fixed Times</p></a></li>
<li><a href='#PLAC'><p>Calculate the PLAC estimator when a time-dependent indicator presents</p></a></li>
<li><a href='#PLAC_TD'><p>C++ Function for Solving the PLAC Estimator.</p>
(with time-dependent convariates independent of A^*)</a></li>
<li><a href='#PLAC_TDR'><p>C++ Function for Solving the PLAC Estimator.</p>
(with time-dependent convariates depending on A^*)</a></li>
<li><a href='#PLAC_TI'><p>C++ Function for Solving the PLAC Estimator.</p>
(with time-invariant convariates only)</a></li>
<li><a href='#plr'><p>Perform the paired log-rank test.</p></a></li>
<li><a href='#PwInd'><p>Generate truncation-pair indicators</p></a></li>
<li><a href='#SgInd'><p>Generate risk-set indicators</p></a></li>
<li><a href='#sim.ltrc'><p>Generate left-truncated (and right-cencored) data from the Cox model.</p></a></li>
<li><a href='#TvInd'><p>Generate time-depependent covariate indicators</p></a></li>
<li><a href='#TvInd2'><p>Generate time-depependent covariate indicators</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Pairwise Likelihood Augmented Cox Estimator for Left-Truncated
Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>A semi-parametric estimation method for the Cox model
    with left-truncated data using augmented information
    from the marginal of truncation times.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0), survival (&ge; 2.38-3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.1),</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/942kid/plac">https://github.com/942kid/plac</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/942kid/plac/issues">https://github.com/942kid/plac/issues</a></td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppEigen</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-02 03:47:49 UTC; uuoofan</td>
</tr>
<tr>
<td>Author:</td>
<td>Fan Wu [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Fan Wu &lt;fannwu@umich.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-02 04:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='plac-package'>A Package for Computating the Pairwise Likelihood Augmented Cox Estimator for Left-Truncated Data.</h2><span id='topic+plac-package'></span>

<h3>Description</h3>

<p>This package provides both lower-level <code>C++</code> functions (<code>PLAC_TI()</code>, <code>PLAC_TV()</code> and <code>PLAC_TvR()</code>) and an R wrapper function <code>PLAC()</code> to calculate the pairwise likelihood augmented Cox estimator for left-truncated survival data as proposed by Wu et al. (2018).
</p>


<h3>Wrapper Function <code>PLAC()</code></h3>

<p>This <code>R</code> wrapper function calls different <code>C++</code> function depending on the covariate types <code>data</code> has.
</p>


<h3>C++ Functions</h3>

<p>The three <code>C++</code> functions <code>PLAC_TI()</code>, <code>PLAC_TV()</code> and <code>PLAC_TvR()</code> provide a direct interface to the algorithm in case that users need to supply more flexible time-dependent coavriates other than indicator functions.
</p>


<h3>References</h3>

<p>Wu, F., Kim, S., Qin, J., Saran, R., &amp; Li, Y. (2018). A pairwise likelihood augmented Cox estimator for left‐truncated data. Biometrics, 74(1), 100-108.
</p>

<hr>
<h2 id='cum.haz'>Calulate the Values of the cumulative Hazard at Fixed Times</h2><span id='topic+cum.haz'></span>

<h3>Description</h3>

<p>Calulate the Values of the cumulative Hazard at Fixed Times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cum.haz(est, t.eval = c(0.25, 0.75))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cum.haz_+3A_est">est</code></td>
<td>
<p>an object of the class <code>plac.fit</code>.</p>
</td></tr>
<tr><td><code id="cum.haz_+3A_t.eval">t.eval</code></td>
<td>
<p>time points at which the Lambda(t) is evaluated (for both conditional apporach and the PLAC estimator).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing the estiamtes and SEs of Lambda(t) for both conditional apporach and the PLAC estimator.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat1 = sim.ltrc(n = 50)$dat
est = PLAC(ltrc.formula = Surv(As, Ys, Ds) ~ Z1 + Z2,
     ltrc.data = dat1, td.type = "none")
H = cum.haz(est, t.eval = seq(0.1, 0.9, 0.1))
H$L
H$se.L
</code></pre>

<hr>
<h2 id='PLAC'>Calculate the PLAC estimator when a time-dependent indicator presents</h2><span id='topic+PLAC'></span>

<h3>Description</h3>

<p>Both a conditional approach Cox model and a pairwise likelihood augmented
estimator are fitted and the corresponding results are returned in a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PLAC(
  ltrc.formula,
  ltrc.data,
  id.var = "ID",
  td.type = "none",
  td.var = NULL,
  t.jump = NULL,
  init.val = NULL,
  max.iter = 100,
  print.result = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PLAC_+3A_ltrc.formula">ltrc.formula</code></td>
<td>
<p>a formula of of the form <code>Surv(A, Y, D) ~ Z</code>, where
<code>Z</code> only include the time-invariate covariates.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_ltrc.data">ltrc.data</code></td>
<td>
<p>a data.frame of the LTRC dataset including the responses,
time-invariate covariates and the jump times for the time-depnencent
covariate.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_id.var">id.var</code></td>
<td>
<p>the name of the subject id in <code>data</code>.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_td.type">td.type</code></td>
<td>
<p>the type of the time-dependent covariate. Either one of
<code>c("none", "independent", "post-trunc", "pre-post-trunc")</code>. See
Details.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_td.var">td.var</code></td>
<td>
<p>the name of the time-dependent covariate in the output.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_t.jump">t.jump</code></td>
<td>
<p>the name of the jump time variable in <code>data</code>.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_init.val">init.val</code></td>
<td>
<p>a list of the initial values of the coefficients and the
baseline hazard function for the PLAC estimator.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_max.iter">max.iter</code></td>
<td>
<p>the maximal number of iteration for the PLAC estimator</p>
</td></tr>
<tr><td><code id="PLAC_+3A_print.result">print.result</code></td>
<td>
<p>logical, if a brief summary of the regression coefficient
estiamtes should be printed out.</p>
</td></tr>
<tr><td><code id="PLAC_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ltrc.formula</code> should have the same form as used in
<code>coxph()</code>; e.g., <code>Surv(A, Y, D) ~ Z1 + Z2</code>. where <code>(A, Y,
  D)</code> are the truncation time, the survival time  and the status indicator
(<code>(tstart, tstop, event)</code> as in <code><a href="survival.html#topic+coxph">coxph</a></code>).
<code>td.type</code> is used to determine which <code>C++</code> function will be
invoked: either <code>PLAC_TI</code> (if <code>td.type = "none"</code>), <code>PLAC_TD</code>
(if <code>td.type = "independent"</code>) or <code>PLAC_TDR</code>) (if <code>td.type
  %in% c("post-trunc", "pre-post-trunc")</code>). For <code>td.type =
  "post-trunc"</code>, the pre-truncation values for the time-dependent covariate
will be set to be zero for all subjects.
</p>


<h3>Value</h3>

<p>a list of model fitting results for both conditional approach and the
PLAC estimators.
</p>

<dl>
<dt><code>Event.Time</code></dt><dd><p>Ordered distinct observed event times</p>
</dd>
<dt><code>b</code></dt><dd><p>Regression coefficients estiamtes</p>
</dd>
<dt><code>se.b</code></dt><dd><p>Model-based SEs of the regression coefficients
estiamtes</p>
</dd>
<dt><code>H0</code></dt><dd><p>Estimated cumulative baseline hazard function</p>
</dd>
<dt><code>se.H0</code></dt><dd><p>Model-based SEs of the estimated cumulative baseline
hazard function</p>
</dd>
<dt><code>sandwich</code></dt><dd><p>The sandwich estimator for (beta,
lambda)</p>
</dd>
<dt><code>k</code></dt><dd><p>The number of iteration for used for the PLAC
estimator</p>
</dd>
<dt><code>summ</code></dt><dd><p>A brief summary of the covariates effects</p>
</dd>
</dl>



<h3>References</h3>

<p>Wu, F., Kim, S., Qin, J., Saran, R., &amp; Li, Y. (2018). A pairwise likelihood augmented Cox estimator for left‐truncated data. Biometrics, 74(1), 100-108.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># When only time-invariant covariates are involved
dat1 = sim.ltrc(n = 40)$dat
PLAC(ltrc.formula = Surv(As, Ys, Ds) ~ Z1 + Z2,
     ltrc.data = dat1, td.type = "none")
# When there is a time-dependent covariate that is independent of the truncation time
dat2 = sim.ltrc(n = 40, time.dep = TRUE,
               distr.A = "binomial", p.A = 0.8, Cmax = 5)$dat
PLAC(ltrc.formula = Surv(As, Ys, Ds) ~ Z,
     ltrc.data = dat2, td.type = "independent",
     td.var = "Zv", t.jump = "zeta")
# When there is a time-dependent covariate that depends on the truncation time
dat3 = sim.ltrc(n = 40, time.dep = TRUE, Zv.depA = TRUE, Cmax = 5)$dat
PLAC(ltrc.formula = Surv(As, Ys, Ds) ~ Z,
     ltrc.data = dat3, td.type = "post-trunc",
     td.var = "Zv", t.jump = "zeta")

</code></pre>

<hr>
<h2 id='PLAC_TD'>C++ Function for Solving the PLAC Estimator.
(with time-dependent convariates independent of A^*)</h2><span id='topic+PLAC_TD'></span>

<h3>Description</h3>

<p>C++ Function for Solving the PLAC Estimator.
(with time-dependent convariates independent of A^*)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PLAC_TD(Z, ZFV_, X, W, Ind1, Ind2, Dn, b, h, K = 100L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PLAC_TD_+3A_z">Z</code></td>
<td>
<p>matrix for all the covariates history.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_zfv_">ZFV_</code></td>
<td>
<p>matrix for all covariates at the each individual's
observed survival time.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_x">X</code></td>
<td>
<p>the response matrix (As, Xs, Ds).</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_w">W</code></td>
<td>
<p>the ordered observed event times.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_ind1">Ind1</code></td>
<td>
<p>risk-set indicators.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_ind2">Ind2</code></td>
<td>
<p>truncation pair indicators.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_dn">Dn</code></td>
<td>
<p>number of ties at each observed event time.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_b">b</code></td>
<td>
<p>initial values of the regression coefficients.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_h">h</code></td>
<td>
<p>initial values of the baseline hazard function.</p>
</td></tr>
<tr><td><code id="PLAC_TD_+3A_k">K</code></td>
<td>
<p>maximal iteration number, the default is <code>K = 100</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of model fitting results for both conditional approach and
the PLAC estimator.
</p>

<hr>
<h2 id='PLAC_TDR'>C++ Function for Solving the PLAC Estimator.
(with time-dependent convariates depending on A^*)</h2><span id='topic+PLAC_TDR'></span>

<h3>Description</h3>

<p>C++ Function for Solving the PLAC Estimator.
(with time-dependent convariates depending on A^*)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PLAC_TDR(ZF, ZFV_, Z, X, W, Ind1, Ind2, Dn, b, h, K = 100L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PLAC_TDR_+3A_zf">ZF</code></td>
<td>
<p>matrix for all the time-invariant covariates.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_zfv_">ZFV_</code></td>
<td>
<p>matrix for all covariates at the each individual's
observed survival time.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_z">Z</code></td>
<td>
<p>matrix for all the covariates history.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_x">X</code></td>
<td>
<p>the response matrix (As, Xs, Ds).</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_w">W</code></td>
<td>
<p>the ordered observed event times.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_ind1">Ind1</code></td>
<td>
<p>risk-set indicators.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_ind2">Ind2</code></td>
<td>
<p>truncation pair indicators.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_dn">Dn</code></td>
<td>
<p>number of ties at each observed event time.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_b">b</code></td>
<td>
<p>initial values of the regression coefficients.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_h">h</code></td>
<td>
<p>initial values of the baseline hazard function.</p>
</td></tr>
<tr><td><code id="PLAC_TDR_+3A_k">K</code></td>
<td>
<p>maximal iteration number, the default is <code>K = 100</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of model fitting results for both conditional approach and
the PLAC estimator.
</p>

<hr>
<h2 id='PLAC_TI'>C++ Function for Solving the PLAC Estimator.
(with time-invariant convariates only)</h2><span id='topic+PLAC_TI'></span>

<h3>Description</h3>

<p>C++ Function for Solving the PLAC Estimator.
(with time-invariant convariates only)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PLAC_TI(Z, X, W, Ind1, Ind2, Dn, b, h, K = 100L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PLAC_TI_+3A_z">Z</code></td>
<td>
<p>matrix for all the covariates history.</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_x">X</code></td>
<td>
<p>the response matrix (As, Xs, Ds).</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_w">W</code></td>
<td>
<p>the ordered observed event times.</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_ind1">Ind1</code></td>
<td>
<p>risk-set indicators.</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_ind2">Ind2</code></td>
<td>
<p>truncation pair indicators.</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_dn">Dn</code></td>
<td>
<p>number of ties at each observed event time.</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_b">b</code></td>
<td>
<p>initial values of the regression coefficients.</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_h">h</code></td>
<td>
<p>initial values of the baseline hazard function.</p>
</td></tr>
<tr><td><code id="PLAC_TI_+3A_k">K</code></td>
<td>
<p>maximal iteration number, the default is <code>K = 100</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of model fitting results for both conditional approach and
the PLAC estimator.
</p>

<hr>
<h2 id='plr'>Perform the paired log-rank test.</h2><span id='topic+plr'></span>

<h3>Description</h3>

<p>Perform the paired log-rank test on the truncation times and the residual survival times to check the stationarity assumption (uniform truncation assumption) of the left-truncated right-censored data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plr(dat, A.name = "As", Y.name = "Ys", D.name = "Ds")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plr_+3A_dat">dat</code></td>
<td>
<p>a data.frame of left-truncated right-censored data.</p>
</td></tr>
<tr><td><code id="plr_+3A_a.name">A.name</code></td>
<td>
<p>the name of the truncation time variable in <code>dat</code>.</p>
</td></tr>
<tr><td><code id="plr_+3A_y.name">Y.name</code></td>
<td>
<p>the name of the survival time variable in <code>dat</code>.</p>
</td></tr>
<tr><td><code id="plr_+3A_d.name">D.name</code></td>
<td>
<p>the name of the event indicator in <code>dat</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing the test statistic and the p-value of the paired log-rant test.
</p>


<h3>References</h3>

<p>Jung, S.H. (1999). Rank tests for matched survival data. <em>Lifetime Data Analysis, 5(1):67-79</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat = sim.ltrc(n = 50, distr.A = "weibull")$dat
plr(dat)
</code></pre>

<hr>
<h2 id='PwInd'>Generate truncation-pair indicators</h2><span id='topic+PwInd'></span>

<h3>Description</h3>

<p>Generate truncation-pair indicators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PwInd(X, W)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PwInd_+3A_x">X</code></td>
<td>
<p>the response matrix (As, Xs, Ds).</p>
</td></tr>
<tr><td><code id="PwInd_+3A_w">W</code></td>
<td>
<p>the ordered observed event times.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the truncation-pair indicators of the form I(w_k &lt;= A_i)
</p>

<ul>
<li><p> I(w_k &lt;= XA_j).
</p>
</li></ul>


<hr>
<h2 id='SgInd'>Generate risk-set indicators</h2><span id='topic+SgInd'></span>

<h3>Description</h3>

<p>Generate risk-set indicators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SgInd(X, W)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SgInd_+3A_x">X</code></td>
<td>
<p>the response matrix (As, Xs, Ds).</p>
</td></tr>
<tr><td><code id="SgInd_+3A_w">W</code></td>
<td>
<p>the ordered observed event times.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>risk-set indicators Y_i(w_k) of the form I(A_i &lt;= w_k &lt;= X_i).
</p>

<hr>
<h2 id='sim.ltrc'>Generate left-truncated (and right-cencored) data from the Cox model.</h2><span id='topic+sim.ltrc'></span>

<h3>Description</h3>

<p>Various baseline survival functions and truncation distribution are
available. Censoring rate can be designated through tuning the parameter
<code>Cmax</code>; <code>Cmas = Inf</code> means no censoring.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim.ltrc(
  n = 200,
  b = c(1, 1),
  Z.type = c("C", "B"),
  time.dep = FALSE,
  Zv.depA = FALSE,
  A.depZ = FALSE,
  distr.T = "weibull",
  shape.T = 2,
  scale.T = 1,
  meanlog.T = 0,
  sdlog.T = 1,
  distr.A = "weibull",
  shape.A = 1,
  scale.A = 5,
  p.A = 0.3,
  b.A = c(0, 0),
  Cmax = Inf,
  fix.seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim.ltrc_+3A_n">n</code></td>
<td>
<p>the sample size.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_b">b</code></td>
<td>
<p>a numeric vector for true regression coefficients.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_z.type">Z.type</code></td>
<td>
<p>a vector indicating the type of the time-invariant covariates;
<code>"C"</code> = uniform[-1, 1], <code>"B"</code> = binary(0.5).</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_time.dep">time.dep</code></td>
<td>
<p>logical, whether there is the time-dependent covariate (only
one indicator function Zv = I(t &gt;= zeta) is supported); the default is
FALSE.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_zv.depa">Zv.depA</code></td>
<td>
<p>logical, whether the time-dependent covariate <code>Zv</code>
depends on A^* (the only form supported is Zv = I(t &gt;= zeta + A^*)); the
default is FALSE.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_a.depz">A.depZ</code></td>
<td>
<p>logical, whether the truncation times depends on the
covariate Z.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_distr.t">distr.T</code></td>
<td>
<p>the baseline survival time (T*) distribution (&quot;exp&quot; or
&quot;weibull&quot;).</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_shape.t">shape.T</code></td>
<td>
<p>the shape parameter for the Weibull distribution of T*.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_scale.t">scale.T</code></td>
<td>
<p>the scale parameter for the Weibull distributiof of T*.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_meanlog.t">meanlog.T</code></td>
<td>
<p>the mean for the log-normal distribution of T*.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_sdlog.t">sdlog.T</code></td>
<td>
<p>the sd for the log-normal distribution of T*.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_distr.a">distr.A</code></td>
<td>
<p>the baseline truncation time (A*) distribution: either of
<code>"weibull"</code> (the default), <code>"unif"</code> (Length-Biased Sampling),
<code>"binomial"</code> or <code>"dunif"</code>). Note: If distribution name other than
these are provided, <code>"unif"</code> will be used.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_shape.a">shape.A</code></td>
<td>
<p>the shape parameter for the Weibull distribution of A*.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_scale.a">scale.A</code></td>
<td>
<p>the scale parameter for the Weibull distribution of A*.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_p.a">p.A</code></td>
<td>
<p>the success probability for the binomial distribution of A*.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_b.a">b.A</code></td>
<td>
<p>the vector of coefficients for the model of A on the covariates.</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_cmax">Cmax</code></td>
<td>
<p>the upper bound of the uniform distribution of the censoring time
(C).</p>
</td></tr>
<tr><td><code id="sim.ltrc_+3A_fix.seed">fix.seed</code></td>
<td>
<p>an optional random seed for simulation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with a data.frame containing the biased sample of
survival times (<code>Ys</code>) and truncation times (<code>As</code>),
the event indicator (<code>Ds</code>) and the covariates (<code>Zs</code>);
a vector of certain quantiles of Ys (<code>taus</code>);
the censoring proportion (<code>PC</code>) and the truncation proportion
(<code>PT</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># With time-invariant covariates only
sim1 = sim.ltrc(n = 40)
head(sim1$dat)
# With one time-dependent covariate
sim2 = sim.ltrc(n = 40, time.dep = TRUE,
         distr.A = "binomial", p.A = 0.8, Cmax = 5)
head(sim2$dat)
# With one time-dependent covariate with dependence on the truncation time
sim3 = sim.ltrc(n = 40, time.dep = TRUE, Zv.depA = TRUE, Cmax = 5)
head(sim3$dat)
</code></pre>

<hr>
<h2 id='TvInd'>Generate time-depependent covariate indicators</h2><span id='topic+TvInd'></span>

<h3>Description</h3>

<p>Generate time-depependent covariate indicators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TvInd(zeta, W)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TvInd_+3A_zeta">zeta</code></td>
<td>
<p>the change point (jump time) of Z_v(t).</p>
</td></tr>
<tr><td><code id="TvInd_+3A_w">W</code></td>
<td>
<p>the ordered observed event times.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the time-depependent covariate of the form Z_v(t) = I(w_k &gt; zeta).
</p>

<hr>
<h2 id='TvInd2'>Generate time-depependent covariate indicators</h2><span id='topic+TvInd2'></span>

<h3>Description</h3>

<p>Generate time-depependent covariate indicators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TvInd2(eta, zeta, W)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TvInd2_+3A_eta">eta</code></td>
<td>
<p>a random variable of the Z_v(t) value before the change point.</p>
</td></tr>
<tr><td><code id="TvInd2_+3A_zeta">zeta</code></td>
<td>
<p>the change point (jump time).</p>
</td></tr>
<tr><td><code id="TvInd2_+3A_w">W</code></td>
<td>
<p>the ordered observed event times.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the time-depependent covariate indicators of the form Z_v(t) =
eta * I(w_k &lt;= zeta).
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

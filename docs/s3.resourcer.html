<!DOCTYPE html><html lang="en"><head><title>Help for package s3.resourcer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {s3.resourcer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#S3FileResourceGetter'><p>AWS S3 file resource getter</p></a></li>
<li><a href='#S3SparkResourceConnector'><p>Apache Spark DBI resource connector for S3</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>S3 Resource Resolver</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A S3 resource is provided by Amazon Web Services S3 or a S3-compatible object store (such as Minio). 
    The resource can be a tidy file to be downloaded from the object store, or a data lake (such as Delta Lake) 
    Parquet file to be read by Apache Spark.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a> | <a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a> [expanded from: LGPL (&ge; 2.1)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R6, httr, resourcer (&ge; 1.2), aws.s3, sparklyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/obiba/s3.resourcer/issues">https://github.com/obiba/s3.resourcer/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-18 17:59:22 UTC; yannick</td>
</tr>
<tr>
<td>Author:</td>
<td>Yannick Marcon <a href="https://orcid.org/0000-0003-0138-2023"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  OBiBa group [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yannick Marcon &lt;yannick.marcon@obiba.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-18 18:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='S3FileResourceGetter'>AWS S3 file resource getter</h2><span id='topic+S3FileResourceGetter'></span>

<h3>Description</h3>

<p>AWS S3 file resource getter
</p>
<p>AWS S3 file resource getter
</p>


<h3>Format</h3>

<p>A R6 object of class S3FileResourceGetter
</p>


<h3>Details</h3>

<p>Access a file that is in the Amazon Web Services S3 file store or in a HTTP S3 compatible file store such as Minio. 
For AWS S3 the host name is the bucket name. For Minio, the url will include http or https base protocol. 
Credentials may apply.
</p>


<h3>Super class</h3>

<p><code><a href="resourcer.html#topic+FileResourceGetter">resourcer::FileResourceGetter</a></code> -&gt; <code>S3FileResourceGetter</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-S3FileResourceGetter-new"><code>S3FileResourceGetter$new()</code></a>
</p>
</li>
<li> <p><a href="#method-S3FileResourceGetter-isFor"><code>S3FileResourceGetter$isFor()</code></a>
</p>
</li>
<li> <p><a href="#method-S3FileResourceGetter-downloadFile"><code>S3FileResourceGetter$downloadFile()</code></a>
</p>
</li>
<li> <p><a href="#method-S3FileResourceGetter-clone"><code>S3FileResourceGetter$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="resourcer" data-topic="FileResourceGetter" data-id="extractFileName"><a href='../../resourcer/html/FileResourceGetter.html#method-FileResourceGetter-extractFileName'><code>resourcer::FileResourceGetter$extractFileName()</code></a></span></li>
<li><span class="pkg-link" data-pkg="resourcer" data-topic="FileResourceGetter" data-id="makeDownloadDir"><a href='../../resourcer/html/FileResourceGetter.html#method-FileResourceGetter-makeDownloadDir'><code>resourcer::FileResourceGetter$makeDownloadDir()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-S3FileResourceGetter-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates a new S3FileResourceGetter instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3FileResourceGetter$new()</pre></div>



<h5>Returns</h5>

<p>A S3FileResourceGetter object.
</p>


<hr>
<a id="method-S3FileResourceGetter-isFor"></a>



<h4>Method <code>isFor()</code></h4>

<p>Check that the provided resource has a URL that locates a file accessible through &quot;s3&quot; protocol or 
&quot;s3+http&quot; or &quot;s3+https&quot; protocol (i.e. using Minio implementation of the AWS S3 file store API over HTTP).
</p>


<h5>Usage</h5>

<div class="r"><pre>S3FileResourceGetter$isFor(resource)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>resource</code></dt><dd><p>The resource object to validate.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A logical.
</p>


<hr>
<a id="method-S3FileResourceGetter-downloadFile"></a>



<h4>Method <code>downloadFile()</code></h4>

<p>Download the file from the remote address in a temporary location. Applies authentication if credentials are provided in the resource.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3FileResourceGetter$downloadFile(resource, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>resource</code></dt><dd><p>A valid resource object.</p>
</dd>
<dt><code>...</code></dt><dd><p>Unused additional parameters.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The &quot;resource.file&quot; object.
</p>


<hr>
<a id="method-S3FileResourceGetter-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3FileResourceGetter$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='S3SparkResourceConnector'>Apache Spark DBI resource connector for S3</h2><span id='topic+S3SparkResourceConnector'></span>

<h3>Description</h3>

<p>Apache Spark DBI resource connector for S3
</p>
<p>Apache Spark DBI resource connector for S3
</p>


<h3>Format</h3>

<p>A R6 object of class SparkResourceConnector
</p>


<h3>Details</h3>

<p>Makes a Apache Spark connection object, that is also a DBI connection object, from a S3 resource description.
</p>


<h3>Super classes</h3>

<p><code><a href="resourcer.html#topic+DBIResourceConnector">resourcer::DBIResourceConnector</a></code> -&gt; <code><a href="resourcer.html#topic+SparkResourceConnector">resourcer::SparkResourceConnector</a></code> -&gt; <code>S3SparkResourceConnector</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-S3SparkResourceConnector-new"><code>S3SparkResourceConnector$new()</code></a>
</p>
</li>
<li> <p><a href="#method-S3SparkResourceConnector-isFor"><code>S3SparkResourceConnector$isFor()</code></a>
</p>
</li>
<li> <p><a href="#method-S3SparkResourceConnector-createDBIConnection"><code>S3SparkResourceConnector$createDBIConnection()</code></a>
</p>
</li>
<li> <p><a href="#method-S3SparkResourceConnector-getTableName"><code>S3SparkResourceConnector$getTableName()</code></a>
</p>
</li>
<li> <p><a href="#method-S3SparkResourceConnector-readDBTable"><code>S3SparkResourceConnector$readDBTable()</code></a>
</p>
</li>
<li> <p><a href="#method-S3SparkResourceConnector-readDBTibble"><code>S3SparkResourceConnector$readDBTibble()</code></a>
</p>
</li>
<li> <p><a href="#method-S3SparkResourceConnector-closeDBIConnection"><code>S3SparkResourceConnector$closeDBIConnection()</code></a>
</p>
</li>
<li> <p><a href="#method-S3SparkResourceConnector-clone"><code>S3SparkResourceConnector$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-S3SparkResourceConnector-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a SparkResourceConnector instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$new()</pre></div>



<h5>Returns</h5>

<p>A SparkResourceConnector object.
</p>


<hr>
<a id="method-S3SparkResourceConnector-isFor"></a>



<h4>Method <code>isFor()</code></h4>

<p>Check if the provided resource applies to a Apache Spark server.
The resource URL scheme must be one of &quot;s3+spark&quot;, &quot;s3+spark+http&quot; or &quot;s3+spark+https&quot;.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$isFor(resource)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>resource</code></dt><dd><p>The resource object to validate.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A logical.
</p>


<hr>
<a id="method-S3SparkResourceConnector-createDBIConnection"></a>



<h4>Method <code>createDBIConnection()</code></h4>

<p>Creates a DBI connection object from a Apache Spark resource.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$createDBIConnection(resource)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>resource</code></dt><dd><p>A valid resource object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A DBI connection object.
</p>


<hr>
<a id="method-S3SparkResourceConnector-getTableName"></a>



<h4>Method <code>getTableName()</code></h4>

<p>Get the SQL table name from the resource URL.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$getTableName(resource)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>resource</code></dt><dd><p>A valid resource object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The SQL table name.
</p>


<hr>
<a id="method-S3SparkResourceConnector-readDBTable"></a>



<h4>Method <code>readDBTable()</code></h4>

<p>Read a table as a vanilla tibble using DBI connection object.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$readDBTable(conn, resource)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conn</code></dt><dd><p>A DBI connection object.</p>
</dd>
<dt><code>resource</code></dt><dd><p>A valid resource object.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-S3SparkResourceConnector-readDBTibble"></a>



<h4>Method <code>readDBTibble()</code></h4>

<p>Read a table as a SQL tibble using DBI connection object.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$readDBTibble(conn, resource)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conn</code></dt><dd><p>A DBI connection object.</p>
</dd>
<dt><code>resource</code></dt><dd><p>A valid resource object.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-S3SparkResourceConnector-closeDBIConnection"></a>



<h4>Method <code>closeDBIConnection()</code></h4>

<p>Close the DBI connection to Apache Spark.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$closeDBIConnection(conn)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conn</code></dt><dd><p>A DBI connection object.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-S3SparkResourceConnector-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>S3SparkResourceConnector$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

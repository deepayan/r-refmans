<!DOCTYPE html><html><head><title>Help for package LikertMakeR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {LikertMakeR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alpha'><p>Calculate Cronbach's Alpha from a correlation matrix or dataframe</p></a></li>
<li><a href='#eigenvalues'><p>calculate eigenvalues of a correlation matrix with optional scree plot</p></a></li>
<li><a href='#lcor'><p>Rearrange columns in a data-frame to fit a predefined correlation matrix</p></a></li>
<li><a href='#lexact'><p>Deprecated. Use lfast() instead</p></a></li>
<li><a href='#lfast'><p>Rating scale data (e.g. Likert scale) from a Scaled Beta Distribution</p></a></li>
<li><a href='#makeCorrAlpha'><p>Construct a random correlation matrix of given dimensions from predefined Cronbach's Alpha</p></a></li>
<li><a href='#makeItems'><p>Generate synthetic rating-scale data with predefined</p>
first and second moments and a predefined correlation matrix</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Synthesise and Correlate Rating-Scale Data</td>
</tr>
<tr>
<td>Description:</td>
<td>Synthesise rating-scale data with predefined 
  first &amp; second moments (mean &amp; standard deviation) and, optionally, 
  correlate multiple vectors with predefined correlation matrix. 
  Also generate synthetic rating-scale data with predefined Cronbach's Alpha.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/WinzarH/LikertMakeR">https://github.com/WinzarH/LikertMakeR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/WinzarH/LikertMakeR/issues">https://github.com/WinzarH/LikertMakeR/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-02 11:06:02 UTC; winza</td>
</tr>
<tr>
<td>Author:</td>
<td>Hume Winzar <a href="https://orcid.org/0000-0001-7475-2641"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre,
    aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hume Winzar &lt;winzar@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-02 22:12:42 UTC</td>
</tr>
</table>
<hr>
<h2 id='alpha'>Calculate Cronbach's Alpha from a correlation matrix or dataframe</h2><span id='topic+alpha'></span>

<h3>Description</h3>

<p><code>alpha()</code> calculate Cronbach's Alpha from a given
correlation matrix or a given dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alpha(cormatrix = NULL, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alpha_+3A_cormatrix">cormatrix</code></td>
<td>
<p>(real) a square symmetrical matrix with values
ranging from -1 to +1 and '1' in the diagonal</p>
</td></tr>
<tr><td><code id="alpha_+3A_data">data</code></td>
<td>
<p>(real) a dataframe or matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Sample data frame
df &lt;- data.frame(
V1  =  c(4, 2, 4, 3, 2, 2, 2, 1),
V2  =  c(4, 1, 3, 4, 4, 3, 2, 3),
V3  =  c(4, 1, 3, 5, 4, 1, 4, 2),
V4  =  c(4, 3, 4, 5, 3, 3, 3, 3)
)

## example correlation matrix
corMat &lt;- matrix(
  c(
    1.00, 0.35, 0.45, 0.70,
    0.35, 1.00, 0.60, 0.55,
    0.45, 0.60, 1.00, 0.65,
    0.70, 0.55, 0.65, 1.00
  ),
  nrow = 4, ncol = 4
)

## apply function examples

alpha(cormatrix = corMat)

alpha(, df)

alpha(corMat, df)

</code></pre>

<hr>
<h2 id='eigenvalues'>calculate eigenvalues of a correlation matrix with optional scree plot</h2><span id='topic+eigenvalues'></span>

<h3>Description</h3>

<p><code>eigenvalues()</code> calculate eigenvalues of a correlation
matrix and optionally produces a scree plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eigenvalues(cormatrix, scree = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eigenvalues_+3A_cormatrix">cormatrix</code></td>
<td>
<p>(real, matrix) a correlation matrix</p>
</td></tr>
<tr><td><code id="eigenvalues_+3A_scree">scree</code></td>
<td>
<p>(logical) default = <code>FALSE</code>. If <code>TRUE</code> (or <code>1</code>), then
<code>eigenvalues()</code> produces a scree plot to illustrate the eigenvalues</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of eigenvalues
</p>
<p>report on positive-definite status of cormatrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## define parameters

correlationMatrix &lt;- matrix(
  c(
    1.00, 0.25, 0.35, 0.40,
    0.25, 1.00, 0.70, 0.75,
    0.35, 0.70, 1.00, 0.80,
    0.40, 0.75, 0.80, 1.00
  ),
  nrow = 4, ncol = 4
)

## apply function

evals &lt;- eigenvalues(cormatrix = correlationMatrix)
evals &lt;- eigenvalues(correlationMatrix, 1)

</code></pre>

<hr>
<h2 id='lcor'>Rearrange columns in a data-frame to fit a predefined correlation matrix</h2><span id='topic+lcor'></span>

<h3>Description</h3>

<p><code>lcor_C()</code> rearranges values in each column of a
data-frame so that columns are correlated to match a predefined
correlation matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lcor(data, target)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lcor_+3A_data">data</code></td>
<td>
<p>data-frame that is to be rearranged</p>
</td></tr>
<tr><td><code id="lcor_+3A_target">target</code></td>
<td>
<p>target correlation matrix - should be a symmetric
(square) k*k matrix</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Values in a column do not change, so univariate
statistics remain the same.
</p>


<h3>Value</h3>

<p>Returns a data-frame whose column-wise correlations
approximate a user-specified correlation matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- 32
lowerbound &lt;- 1
upperbound &lt;- 5
items &lt;- 5
mydat3 &lt;- data.frame(
  x1 = lfast(n, 2.5, 0.75, lowerbound, upperbound, items),
  x2 = lfast(n, 3.0, 1.50, lowerbound, upperbound, items),
  x3 = lfast(n, 3.5, 1.00, lowerbound, upperbound, items)
)
cor(mydat3) |&gt; round(3)
tgt3 &lt;- matrix(
  c(
    1.00, 0.50, 0.75,
    0.50, 1.00, 0.25,
    0.75, 0.25, 1.00
    ),
  nrow = 3, ncol = 3
)
new3 &lt;- lcor(mydat3, tgt3)
cor(new3) |&gt; round(3)

</code></pre>

<hr>
<h2 id='lexact'>Deprecated. Use lfast() instead</h2><span id='topic+lexact'></span>

<h3>Description</h3>

<p><code>lexact</code> is DEPRECATED. Replaced by <code>lfast</code>.
Previously, <code>lexact</code> used a Differential Evolution (DE) algorithm to
find an optimum solution for finding desired mean and standard deviation,
but we found that the updated<code>lfast</code> function is much faster and just
as accurate. Also the package is much less bulky.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexact(n, mean, sd, lowerbound, upperbound, items = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lexact_+3A_n">n</code></td>
<td>
<p>(positive, int) number of observations to generate</p>
</td></tr>
<tr><td><code id="lexact_+3A_mean">mean</code></td>
<td>
<p>(real) target mean</p>
</td></tr>
<tr><td><code id="lexact_+3A_sd">sd</code></td>
<td>
<p>(real) target standard deviation</p>
</td></tr>
<tr><td><code id="lexact_+3A_lowerbound">lowerbound</code></td>
<td>
<p>(positive, int) lower bound (e.g. '1' for a 1-5 rating scale)</p>
</td></tr>
<tr><td><code id="lexact_+3A_upperbound">upperbound</code></td>
<td>
<p>(positive, int) upper bound (e.g. '5' for a 1-5 rating scale)</p>
</td></tr>
<tr><td><code id="lexact_+3A_items">items</code></td>
<td>
<p>(positive, int) number of items in the rating scale. Default = 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of simulated data approximating user-specified conditions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- lexact(
  n = 256,
  mean = 4.0,
  sd = 1.0,
  lowerbound = 1,
  upperbound = 7,
  items = 6
)

x &lt;- lexact(256, 2, 1.8, 0, 10)

</code></pre>

<hr>
<h2 id='lfast'>Rating scale data (e.g. Likert scale) from a Scaled Beta Distribution</h2><span id='topic+lfast'></span>

<h3>Description</h3>

<p><code>lfast()</code> generates random discrete values from a
(scaled Beta distribution) so the data replicate a rating scale -
for example,a 1-5 scale made from 5 items (questions) or 0-10
likelihood-of-purchase scale.
<code>lfast()</code> takes repeated samples selecting a vector that best
fits the desired moments, while <code>lfast()</code> takes just one sample.
<code>lfast()</code> is slightly slower than <code>lfast()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lfast(n, mean, sd, lowerbound, upperbound, items = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lfast_+3A_n">n</code></td>
<td>
<p>(positive, int) number of observations to generate</p>
</td></tr>
<tr><td><code id="lfast_+3A_mean">mean</code></td>
<td>
<p>(real) target mean</p>
</td></tr>
<tr><td><code id="lfast_+3A_sd">sd</code></td>
<td>
<p>(real) target standard deviation</p>
</td></tr>
<tr><td><code id="lfast_+3A_lowerbound">lowerbound</code></td>
<td>
<p>(positive, int) lower bound (e.g. '1' for a 1-5 rating scale)</p>
</td></tr>
<tr><td><code id="lfast_+3A_upperbound">upperbound</code></td>
<td>
<p>(positive, int) upper bound (e.g. '5' for a 1-5 rating scale)</p>
</td></tr>
<tr><td><code id="lfast_+3A_items">items</code></td>
<td>
<p>(positive, int) number of items in the rating scale. Default = 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of simulated data approximating user-specified conditions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- lfast(
  n = 256,
  mean = 4.0,
  sd = 1.0,
  lowerbound = 1,
  upperbound = 7,
  items = 6
)

x &lt;- lfast(256, 2, 1.8, 0, 10)

</code></pre>

<hr>
<h2 id='makeCorrAlpha'>Construct a random correlation matrix of given dimensions from predefined Cronbach's Alpha</h2><span id='topic+makeCorrAlpha'></span>

<h3>Description</h3>

<p><code>makeCorrAlpha()</code> generates a random correlation
matrix of given dimensions and predefined Cronbach's Alpha
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeCorrAlpha(items, alpha, variance = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeCorrAlpha_+3A_items">items</code></td>
<td>
<p>(positive, int) number of rows &amp; columns to generate</p>
</td></tr>
<tr><td><code id="makeCorrAlpha_+3A_alpha">alpha</code></td>
<td>
<p>(real) target Cronbach's Alpha
(usually positive, must be between -1 and +1)</p>
</td></tr>
<tr><td><code id="makeCorrAlpha_+3A_variance">variance</code></td>
<td>
<p>(positive, real) Default = 0.5.
User-provided standard deviation of values sampled from a
normally-distributed log transformation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a correlation matrix
</p>


<h3>Note</h3>

<p>Random values generated by <code>makeCorrAlpha()</code> are highly volatile.
<code>makeCorrAlpha()</code> may not generate a feasible (positive-definite)
correlation matrix, especially when
</p>

<ul>
<li><p> variance is high relative to
</p>

<ul>
<li><p> desired Alpha, and
</p>
</li>
<li><p> desired correlation dimensions
</p>
</li></ul>

</li></ul>

<p><code>makeCorrAlpha()</code> will inform the user if the resulting correlation
matrix is positive definite, or not.
</p>
<p>If the returned correlation matrix is not positive-definite,
a feasible solution may still be possible. The user is encouraged to
try again, possibly several times, to find one.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
items &lt;- 4
alpha &lt;- 0.85
variance &lt;- 0.5

set.seed(42)
cor_matrix &lt;- makeCorrAlpha(items, alpha, variance)

print(cor_matrix)
alpha(cor_matrix)
eigenvalues(cor_matrix,1)

cor_matrix2 &lt;- makeCorrAlpha(items = 6, alpha = 0.95)

print(cor_matrix2)
alpha(cor_matrix2)
eigenvalues(cor_matrix2,1)


</code></pre>

<hr>
<h2 id='makeItems'>Generate synthetic rating-scale data with predefined
first and second moments and a predefined correlation matrix</h2><span id='topic+makeItems'></span>

<h3>Description</h3>

<p><code>makeItems()</code> generates a dataframe of random discrete
values from a (scaled Beta distribution) so the data replicate a rating
scale, and are correlated close to a predefined correlation matrix.
<code>makeItems()</code> is wrapper function for:
</p>

<ul>
<li> <p><code>lfast()</code>, which takes repeated samples selecting a vector that
best fits the desired moments, and
</p>
</li>
<li> <p><code>lcor()</code>, which rearranges values in each column of the dataframe
so they closely match the desired correlation matrix.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>makeItems(n, means, sds, lowerbound, upperbound, cormatrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeItems_+3A_n">n</code></td>
<td>
<p>(positive, int) number of observations to generate</p>
</td></tr>
<tr><td><code id="makeItems_+3A_means">means</code></td>
<td>
<p>(real) target means: a vector of length k
of mean values for each scale item</p>
</td></tr>
<tr><td><code id="makeItems_+3A_sds">sds</code></td>
<td>
<p>(positive, real) target standard deviations: a vector of length k
of standard deviation values for each scale item</p>
</td></tr>
<tr><td><code id="makeItems_+3A_lowerbound">lowerbound</code></td>
<td>
<p>(positive, int) a vector of length k
(same as rows &amp; columns of correlation matrix) of values for lower bound
of each scale item (e.g. '1' for a 1-5 rating scale)</p>
</td></tr>
<tr><td><code id="makeItems_+3A_upperbound">upperbound</code></td>
<td>
<p>(positive, int) a vector of length k
(same as rows &amp; columns of correlation matrix) of values for upper bound
of each scale item (e.g. '5' for a 1-5 rating scale)</p>
</td></tr>
<tr><td><code id="makeItems_+3A_cormatrix">cormatrix</code></td>
<td>
<p>(real, matrix) the target correlation matrix:
a square symmetric matrix of values renging between -1 and +1,
and '1' in the diagonal.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe of rating-scale values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## define parameters

n &lt;- 16

lowerbound &lt;- rep(1, 4)

upperbound &lt;- rep(5, 4)

corMat &lt;- matrix(
  c(
    1.00, 0.25, 0.35, 0.40,
    0.25, 1.00, 0.70, 0.75,
    0.35, 0.70, 1.00, 0.80,
    0.40, 0.75, 0.80, 1.00
  ),
  nrow = 4, ncol = 4
)

dfMeans &lt;- c(2.5, 3.0, 3.0, 3.5)

dfSds &lt;- c(1.0, 1.0, 1.5, 0.75)

## apply function

df &lt;- makeItems(n = n, means = dfMeans, sds = dfSds,
lowerbound = lowerbound, upperbound = upperbound, cormatrix = corMat)

## test function

print(df)

apply(df, 2, mean) |&gt; round(3)

apply(df, 2, sd) |&gt; round(3)

cor(df) |&gt; round(3)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

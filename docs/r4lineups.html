<!DOCTYPE html><html><head><title>Help for package r4lineups</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {r4lineups}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#allfoil_cihigh'><p>Confidence Intervals for Proportion</p></a></li>
<li><a href='#allfoilbias'><p>Bias for each lineup member</p></a></li>
<li><a href='#allprop'><p>Lineup proportion for all lineup members</p></a></li>
<li><a href='#chi_diag'><p>Chi-squared estimate of homogeneity of diagnosticity ratio</p></a></li>
<li><a href='#compare_eff_sizes.boot'><p>Comparing Effective Size: Base function for bootstrapping</p></a></li>
<li><a href='#d_bar'><p>Mean diagnosticity ratio for k lineup pairs</p></a></li>
<li><a href='#d_weights'><p>Diagnosticity ratio weights</p></a></li>
<li><a href='#datacheck1'><p>Helper function</p></a></li>
<li><a href='#datacheck2'><p>Helper function</p></a></li>
<li><a href='#datacheck3'><p>Helper function</p></a></li>
<li><a href='#diag_param'><p>Parameters for diagnosticity ratio</p></a></li>
<li><a href='#diag_ratio_T'><p>Diagnosticty Ratio (Tredoux, 1998)</p></a></li>
<li><a href='#diag_ratio_W'><p>Diagnosticity Ratio (Wells &amp; Lindsay, 1980; Wells &amp; Turtle, 1986)</p></a></li>
<li><a href='#eff_size_per_foils'><p>Effective Size per Foils</p></a></li>
<li><a href='#effsize_compare'><p>Master Function: Comparing Effective Size</p></a></li>
<li><a href='#esize_m'><p>Effective Size</p></a></li>
<li><a href='#esize_m_boot'><p>Bootstrapped Effective Size</p></a></li>
<li><a href='#esize_T'><p>Effective Size (Tredoux, 1998)</p></a></li>
<li><a href='#esize_T_boot'><p>Bootstrapped Effective Size (Tredoux, 1998)</p></a></li>
<li><a href='#esize_T_ci_n'><p>Effective Size with Confidence Intervals from Normal Theory (Tredoux, 1998)</p></a></li>
<li><a href='#face_sim'><p>Compute similarity of faces in a lineup; experimental function</p></a></li>
<li><a href='#func_size'><p>Functional Size</p></a></li>
<li><a href='#func_size_report'><p>Functional Size with Bootstrapped Confidence Intervals</p></a></li>
<li><a href='#func_size.boot'><p>Bootstrapped Functional Size</p></a></li>
<li><a href='#gen_boot_propci'><p>Percentile of Bootstrapped Lineup Proportion</p></a></li>
<li><a href='#gen_boot_propmean_se'><p>Descriptive statistics for bootstrapped lineup proportion</p></a></li>
<li><a href='#gen_boot_samples'><p>Bootstrap resampling</p></a></li>
<li><a href='#gen_boot_samples_list'><p>Bootstrapped resampling</p></a></li>
<li><a href='#gen_esize_m'><p>Effective Size (across a dataframe)</p></a></li>
<li><a href='#gen_esize_m_ci'><p>Bootstrapped Confidence Intervals for Effective Size</p></a></li>
<li><a href='#gen_lineup_prop'><p>Lineup proportion over dataframe</p></a></li>
<li><a href='#gen_linevec'><p>Lineup vector</p></a></li>
<li><a href='#homog_diag'><p>Master function: Homogeneity of diagnosticity ratio</p></a></li>
<li><a href='#homog_diag_boot'><p>Homogeneity of diagnosticity ratio with bootstrapped CIs</p></a></li>
<li><a href='#i_esize_T'><p>I Component of Effective Size(Tredoux, 1998)</p></a></li>
<li><a href='#line73'><p>line73</p></a></li>
<li><a href='#lineup_boot_allprop'><p>Confidence intervals for lineup proportion</p></a></li>
<li><a href='#lineup_prop_boot'><p>Bootstrapped lineup proportion</p></a></li>
<li><a href='#lineup_prop_tab'><p>Lineup proportion</p></a></li>
<li><a href='#lineup_prop_vec'><p>Lineup proportion</p></a></li>
<li><a href='#ln_diag_ratio'><p>Ln of Diagnosticity Ratio</p></a></li>
<li><a href='#make_roc'><p>Compute and plot ROC curve for lineup accuracy ~ confidence</p></a></li>
<li><a href='#make_rocdata'><p>Helper functions: Compute and plot ROC curve for lineup accuracy ~ confidence</p></a></li>
<li><a href='#makevec_prop'><p>Helper functions</p></a></li>
<li><a href='#mickwick'><p>Confidence &amp; Accuracy data (Mickes &amp; Wixted)</p></a></li>
<li><a href='#mockdata'><p>mockdata</p></a></li>
<li><a href='#nortje2012'><p>nortje2012</p></a></li>
<li><a href='#rep_index'><p>Rep index</p></a></li>
<li><a href='#rot_vector'><p>Rotate vector</p></a></li>
<li><a href='#show_lineup'><p>Helper function</p></a></li>
<li><a href='#var_diag_ratio'><p>Variance of diagnosticity ratio (Tredoux)</p></a></li>
<li><a href='#var_lnd'><p>Variance of ln of diagnosticity ratio</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Statistical Inference on Lineup Fairness</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Colin Tredoux &lt;colin.tredoux@uct.ac.za&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Since the early 1970s eyewitness testimony researchers have recognised the 
    importance of estimating properties such as lineup bias (is the lineup biased against 
    the suspect, leading to a rate of choosing higher than one would expect by chance?), 
    and lineup size (how many reasonable choices are in fact available to the witness? 
    A lineup is supposed to consist of a suspect and a number of additional members, 
    or foils, whom a poor-quality witness might mistake for the perpetrator). Lineup 
    measures are descriptive, in the first instance, but since the earliest articles in 
    the literature researchers have recognised the importance of reasoning inferentially 
    about them. This package contains functions to compute various properties of 
    laboratory or police lineups, and is intended for use by researchers in forensic 
    psychology and/or eyewitness testimony research. Among others, the r4lineups package 
    includes functions for calculating lineup proportion, functional size, various 
    estimates of effective size, diagnosticity ratio, homogeneity of the diagnosticity 
    ratio, ROC curves for confidence x accuracy data and the degree of similarity of 
    faces in a lineup. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, dplyr, ggplot2, ggrepel, here, magick, magrittr, pROC,
psych, purrr, stats, utils</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1.9000</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, pander</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-07-12 07:42:53 UTC; Tamsyn Naylor</td>
</tr>
<tr>
<td>Author:</td>
<td>Colin Tredoux [aut, cre],
  Tamsyn Naylor [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-07-18 13:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='allfoil_cihigh'>Confidence Intervals for Proportion</h2><span id='topic+allfoil_cihigh'></span>

<h3>Description</h3>

<p>Function to compute ci high for each foil in a lineup
</p>


<h3>Usage</h3>

<pre><code class='language-R'>allfoil_cihigh(linetabprops, sumlineup)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="allfoil_cihigh_+3A_linetabprops">linetabprops</code></td>
<td>
<p>A dataframe of bootstrapped lineup proportions</p>
</td></tr>
<tr><td><code id="allfoil_cihigh_+3A_sumlineup">sumlineup</code></td>
<td>
<p>Number of members in a lineup</p>
</td></tr>
</table>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>

<hr>
<h2 id='allfoilbias'>Bias for each lineup member</h2><span id='topic+allfoilbias'></span>

<h3>Description</h3>

<p>Function to compute bias for each lineup member (assuming foil is suspect,
from Malpass, 1981)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>allfoilbias(lineup_table, target_pos, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="allfoilbias_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
<tr><td><code id="allfoilbias_+3A_target_pos">target_pos</code></td>
<td>
<p>A scalar, representing target position in lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="allfoilbias_+3A_k">k</code></td>
<td>
<p>Nominal size (i.e., total number of members in lineup). Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lineup_vec &lt;- round(runif(100, 1, 6))
lineup_table &lt;- table(lineup_vec)
x &lt;- allfoilbias(lineup_table, 5, 6)

</code></pre>

<hr>
<h2 id='allprop'>Lineup proportion for all lineup members</h2><span id='topic+allprop'></span>

<h3>Description</h3>

<p>Computes lineup proportion for each member in a lineup
</p>


<h3>Usage</h3>

<pre><code class='language-R'>allprop(lineup_vec, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="allprop_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="allprop_+3A_k">k</code></td>
<td>
<p>Number of members in lineup. Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector containing lineup proportion for each lineup member
</p>


<h3>References</h3>

<p>Wells, G. L., Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
assessing the fairness of a lineup. <em>Law and Human Behavior, 3</em>(4),
285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))

#Call:
x &lt;- allprop(lineup_vec, k = 6)
</code></pre>

<hr>
<h2 id='chi_diag'>Chi-squared estimate of homogeneity of diagnosticity ratio</h2><span id='topic+chi_diag'></span>

<h3>Description</h3>

<p>Function for getting chi-squared value for homogeneity of diagnosticity ratios
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chi_diag(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chi_diag_+3A_df">df</code></td>
<td>
<p>A dataframe containing: ln(d), variance of ln(d), d weights</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> To compute linedf, use the diag_param helper function.
</p>
</li>
<li><p> To compute df, apply ln_diag_ratio, var_lnd &amp; d_weights functions
to linedf, then bind results into one dataframe (see <strong>Examples</strong>)
</p>
</li>
<li><p> The order in which the estimates are bound together (i.e., their position
in the dataframe) is important, and should always be as follows:
row 1: <em>var</em>, row 2: <em>lnd</em>, row 3: <em>wi</em>.
</p>
</li></ul>



<h3>Value</h3>

<p>Chi squared estimate of homogeneity of diagnosticity ratios for k independent lineups
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L., Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)


#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

#Pos list
lineup1_pos &lt;- c(1, 2, 3, 4, 5, 6)
lineup2_pos &lt;- c(1, 2, 3, 4, 5)
lineup3_pos &lt;- c(1, 2, 3, 4)
pos_list &lt;- list(lineup1_pos, lineup2_pos, lineup3_pos)
rm(lineup1_pos, lineup2_pos, lineup3_pos)

#Nominal size:
k &lt;- c(6, 5, 4)

#Use diag param helper function to get data (n11, n21, n12, n22):
linedf &lt;- diag_param(lineup_pres_list, lineup_abs_list, pos_list, k)

#Get ln(d), variance of ln(d) &amp; d weights:
ratio &lt;- ln_diag_ratio(linedf)
var &lt;- var_lnd(linedf)
wi &lt;- d_weights(linedf)

#Bind estimates into one df of 3 rows &amp; x observations
#(see Details above)
df &lt;- t(cbind(ratio, var, wi))

#Call:
chi_diag(df)

</code></pre>

<hr>
<h2 id='compare_eff_sizes.boot'>Comparing Effective Size: Base function for bootstrapping</h2><span id='topic+compare_eff_sizes.boot'></span>

<h3>Description</h3>

<p>A base function for bootstrapping a dataframe of choices for 2 independent lineups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_eff_sizes.boot(linedf, d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_eff_sizes.boot_+3A_linedf">linedf</code></td>
<td>
<p>A dataframe of lineup data. Must consist of 2 columns, each
containing data for 2 independent lineups</p>
</td></tr>
<tr><td><code id="compare_eff_sizes.boot_+3A_d">d</code></td>
<td>
<p>Indices for bootstrap sample. Argument used by boot function to
select samples for bootstrapping</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The approach here is to compute the effective size of each lineup
separately, and to take the difference between them. This is then
bootstrapped, and if the bootstrap does not contain 0, we
conclude the effective size estimates are different at p = alpha
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>

<hr>
<h2 id='d_bar'>Mean diagnosticity ratio for k lineup pairs</h2><span id='topic+d_bar'></span>

<h3>Description</h3>

<p>Function for computing pooled estimator from a set of k diagnosticity ratios
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_bar(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d_bar_+3A_df">df</code></td>
<td>
<p>A dataframe containing rows: ln(d), variance of ln(d), d weights</p>
</td></tr>
</table>


<h3>Details</h3>

<p>. The order in which the estimates are bound together (i.e., their position
in the dataframe) is important, and should always be as follows:
</p>

<ul>
<li><p> row 1: var
</p>
</li>
<li><p> row 2: lnd
</p>
</li>
<li><p> row 3: wi</p>
</li></ul>



<h3>Value</h3>

<p>Mean diagnosticity ratio for k independent lineups
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)


#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

#Pos list
lineup1_pos &lt;- c(1, 2, 3, 4, 5, 6)
lineup2_pos &lt;- c(1, 2, 3, 4, 5)
lineup3_pos &lt;- c(1, 2, 3, 4)
pos_list &lt;- list(lineup1_pos, lineup2_pos, lineup3_pos)
rm(lineup1_pos, lineup2_pos, lineup3_pos)

#Nominal size:
k &lt;- c(6, 5, 4)

#Use diag param helper function to get data (n11, n21, n12, n22):
linedf &lt;- diag_param(lineup_pres_list, lineup_abs_list, pos_list, k)

#Compute ln(d):
ratio &lt;- ln_diag_ratio(linedf)

#Compute variance of ln(d):
var &lt;- var_lnd(linedf)

#Compute weights for pooled estimator:
wi &lt;- d_weights(linedf)

#Bind ln(d), variance of ln(d) and weights into one df (of 3 rows &amp; x observations)
#(see Details above):
df &lt;- t(cbind(ratio, var, wi))

#Call:
d_bar(df)
</code></pre>

<hr>
<h2 id='d_weights'>Diagnosticity ratio weights</h2><span id='topic+d_weights'></span>

<h3>Description</h3>

<p>Function to compute weights of each diagnosticity ratio  for k lineup pairs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_weights(linedf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d_weights_+3A_linedf">linedf</code></td>
<td>
<p>A dataframe of parameters for computing diagnosticity ratio</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In order to obtain a pooled estimate of a set of diagnosticity ratios,
we use a weight for each ratio that is equal to the inverse of its
variance.
</p>
<p><strong>To get linedf, use the diag_param helper function</strong>
</p>
<p><em>diag_param</em> returns a dataframe containing the following:
</p>

<ul>
<li> <p><em>n11</em>: Number of mock witnesses who identified the suspect in the target
present condition
</p>
</li>
<li> <p><em>n21</em>: Number of mock witnesses who did not identify the suspect in the
target present condition
</p>
</li>
<li> <p><em>n12</em>: Number of mock witnesses who identified the suspect in the target
absent condition
</p>
</li>
<li> <p><em>n13</em>: Number of mock witnesses who did not identify the suspect in the
target absent condition
</p>
</li></ul>



<h3>Value</h3>

<p>A dataframe with one column containing weights for each pair of
lineups for which diagnosticity ratio is being calculated.
</p>


<h3>References</h3>

<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup
fairness. <em>Law and Human Behavior, 22</em>(2), 217-237.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)


#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

#Pos list
lineup1_pos &lt;- c(1, 2, 3, 4, 5, 6)
lineup2_pos &lt;- c(1, 2, 3, 4, 5)
lineup3_pos &lt;- c(1, 2, 3, 4)
pos_list &lt;- list(lineup1_pos, lineup2_pos, lineup3_pos)
rm(lineup1_pos, lineup2_pos, lineup3_pos)

#Nominal size:
k &lt;- c(6, 5, 4)

#Use diag param helper function to get data (n11, n21, n12, n22):
linedf &lt;- diag_param(lineup_pres_list, lineup_abs_list, pos_list, k)

#Call:
wi &lt;- d_weights(linedf)

</code></pre>

<hr>
<h2 id='datacheck1'>Helper function</h2><span id='topic+datacheck1'></span>

<h3>Description</h3>

<p>Checks that number of lineup choices contained in a vector is accurate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datacheck1(lineup_vec, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datacheck1_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="datacheck1_+3A_k">k</code></td>
<td>
<p>Number of members in lineup</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function ensures that a non-selected lineup member is not accidentally
omitted from the dataframe due to lack of selection by all mock witnesses.
It functions as a check that the total number of lineup members is accurate.
</p>

<hr>
<h2 id='datacheck2'>Helper function</h2><span id='topic+datacheck2'></span>

<h3>Description</h3>

<p>Checks that number of lineup choices contained in a vector is accurate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datacheck2(lineup_pres, lineup_abs, k1, k2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datacheck2_+3A_lineup_pres">lineup_pres</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was present</p>
</td></tr>
<tr><td><code id="datacheck2_+3A_lineup_abs">lineup_abs</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was absent</p>
</td></tr>
<tr><td><code id="datacheck2_+3A_k1">k1</code></td>
<td>
<p>Number of targets in TP lineup</p>
</td></tr>
<tr><td><code id="datacheck2_+3A_k2">k2</code></td>
<td>
<p>Number of targets in TA lineup</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function ensures that a non-selected lineup member is not accidentally
omitted from the dataframe due to lack of selection by all mock witnesses.
It functions as a check that the total number of lineup members is accurate
</p>

<hr>
<h2 id='datacheck3'>Helper function</h2><span id='topic+datacheck3'></span>

<h3>Description</h3>

<p>Checks that number of lineup choices contained in a data table is accurate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datacheck3(lineup_table, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datacheck3_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
<tr><td><code id="datacheck3_+3A_k">k</code></td>
<td>
<p>Nominal size (i.e., total number of members in lineup)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function ensures that a non-selected lineup member is not accidentally
omitted from the data due to lack of selection by all mock witnesses.
It functions as a check that the total number of lineup members is accurate.
</p>

<hr>
<h2 id='diag_param'>Parameters for diagnosticity ratio</h2><span id='topic+diag_param'></span>

<h3>Description</h3>

<p>This function calculates the parameters needed to calculate the diagnosticity
ratio for several lineup pairs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag_param(lineup_pres_list, lineup_abs_list, pos_list, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag_param_+3A_lineup_pres_list">lineup_pres_list</code></td>
<td>
<p>A list containing k vectors of lineup choices for k lineups, in which the
target was present</p>
</td></tr>
<tr><td><code id="diag_param_+3A_lineup_abs_list">lineup_abs_list</code></td>
<td>
<p>A list containing k vectors of lineup choices for k lineups, in which the
target was absent</p>
</td></tr>
<tr><td><code id="diag_param_+3A_pos_list">pos_list</code></td>
<td>
<p>A list containing k numeric vectors indexing lineup member positions
for each lineup pair</p>
</td></tr>
<tr><td><code id="diag_param_+3A_k">k</code></td>
<td>
<p>A vector indexing number of members in each lineup pair. Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Lineup pairs consist of one lineup in which the target was present (TP)
and one lineup in which the target was absent (TA).
</p>
</li>
<li><p> Each lineup pair must occupy corresponding positions in the TA and TP lists.
</p>
<p>Example:
</p>
<p>For a lineup pair A that consists of (1)TP lineup and (2)TA lineup:
A(1) is the first vector in the TP list
A(2) is the first vector in the TP list
</p>
</li>
<li><p> The order in which nominal size for each lineup pair is listed must
also correspond with the positions of each respective lineup in the
lineup lists (i.e., if lineup 1 has k = 6, then the first element of
vector 'k' = 6)
</p>
</li>
<li><p> Data must be in a list format. This allows the function to compare
lineups in which the number of choices and number of lineup members differs.
</p>
</li>
<li><p> The following warning will appear if vectors comprising lineup lists are of
different lengths: <em>longer object length is not a multiple of
shorter object length</em>. <strong>This does not affect the accuracy of
the function and can be ignored.</strong></p>
</li></ul>



<h3>Value</h3>

<p>Returns a dataframe containing:
</p>

<ul>
<li> <p><em>n11</em>: Number of mock witnesses who identified the suspect in the target
present condition
</p>
</li>
<li> <p><em>n21</em>: Number of mock witnesses who did not identify the suspect in the
target present condition
</p>
</li>
<li> <p><em>n12</em>: Number of mock witnesses who identified the suspect in the target
absent condition
</p>
</li>
<li> <p><em>n13</em>: Number of mock witnesses who did not identify the suspect in the
target absent condition
</p>
</li></ul>



<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)


#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

#Pos list
lineup1_pos &lt;- c(1, 2, 3, 4, 5, 6)
lineup2_pos &lt;- c(1, 2, 3, 4, 5)
lineup3_pos &lt;- c(1, 2, 3, 4)
pos_list &lt;- list(lineup1_pos, lineup2_pos, lineup3_pos)
rm(lineup1_pos, lineup2_pos, lineup3_pos)

#Nominal size:
k &lt;- c(6, 5, 4)

#Call:
linedf &lt;- diag_param(lineup_pres_list, lineup_abs_list, pos_list, k)
</code></pre>

<hr>
<h2 id='diag_ratio_T'>Diagnosticty Ratio (Tredoux, 1998)</h2><span id='topic+diag_ratio_T'></span>

<h3>Description</h3>

<p>Computes Wells's adjusted diagnosticity ratio for one lineup pair (see: Tredoux, 1998)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag_ratio_T(lineup_pres, lineup_abs, pos_pres, pos_abs, k1, k2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag_ratio_T_+3A_lineup_pres">lineup_pres</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was present</p>
</td></tr>
<tr><td><code id="diag_ratio_T_+3A_lineup_abs">lineup_abs</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was absent</p>
</td></tr>
<tr><td><code id="diag_ratio_T_+3A_pos_pres">pos_pres</code></td>
<td>
<p>A scalar, representing target position in TP lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="diag_ratio_T_+3A_pos_abs">pos_abs</code></td>
<td>
<p>A scalar, representing target position in TA lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="diag_ratio_T_+3A_k1">k1</code></td>
<td>
<p>Number of targets in TP lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="diag_ratio_T_+3A_k2">k2</code></td>
<td>
<p>Number of targets in TA lineup. Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_pres &lt;- round(runif(100, 1, 6))
lineup_abs &lt;- round(runif(70, 1, 5))
pos_pres &lt;- 3
pos_abs &lt;- 5

#Call:
diag_ratio_T(lineup_pres, lineup_abs, pos_pres, pos_abs, 6, 5)
diag_ratio_T(lineup_pres, lineup_abs, 3, 5, 6, 5)

</code></pre>

<hr>
<h2 id='diag_ratio_W'>Diagnosticity Ratio (Wells &amp; Lindsay, 1980; Wells &amp; Turtle, 1986)</h2><span id='topic+diag_ratio_W'></span>

<h3>Description</h3>

<p>Computes Wells' diagnosticity ratio for one lineup pair
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag_ratio_W(lineup_pres, lineup_abs, pos_pres, pos_abs, k1, k2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag_ratio_W_+3A_lineup_pres">lineup_pres</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was present</p>
</td></tr>
<tr><td><code id="diag_ratio_W_+3A_lineup_abs">lineup_abs</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was absent</p>
</td></tr>
<tr><td><code id="diag_ratio_W_+3A_pos_pres">pos_pres</code></td>
<td>
<p>A scalar, representing target position in TP lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="diag_ratio_W_+3A_pos_abs">pos_abs</code></td>
<td>
<p>A scalar, representing target position in TA lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="diag_ratio_W_+3A_k1">k1</code></td>
<td>
<p>Number of targets in TP lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="diag_ratio_W_+3A_k2">k2</code></td>
<td>
<p>Number of targets in TA lineup. Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Wells, G. L., &amp; Lindsay, R. C. L. (1980).On estimating the diagnosticity
of eyewitness nonidentifications.<em>Psychological Bulletin, 88</em>, 776-784.
</p>
<p>Wells, G. L., &amp; Turtle, J. W. (1986). Eyewitness identification:
The importance of lineup models. <em>Psychological Bulletin, 99</em>, 320-329.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_pres &lt;- round(runif(100, 1, 6))
lineup_abs &lt;- round(runif(70, 1, 5))
pos_pres &lt;- 3
pos_abs &lt;- 5

#Call:
diag_ratio_W(lineup_pres, lineup_abs, pos_pres, pos_abs, 6, 5)
diag_ratio_W(lineup_pres, lineup_abs, 3, 5, 6, 5)
</code></pre>

<hr>
<h2 id='eff_size_per_foils'>Effective Size per Foils</h2><span id='topic+eff_size_per_foils'></span>

<h3>Description</h3>

<p>Function for computing effective size (Malpass, 1981) counting foils who fall
within the CI for chance guessing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eff_size_per_foils(lineup_vec, target_pos, k, conf = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eff_size_per_foils_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="eff_size_per_foils_+3A_target_pos">target_pos</code></td>
<td>
<p>A numeric vector indexing all lineup members</p>
</td></tr>
<tr><td><code id="eff_size_per_foils_+3A_k">k</code></td>
<td>
<p>Number of members in lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="eff_size_per_foils_+3A_conf">conf</code></td>
<td>
<p>Desired level of alpha. Defaults to 0.95. May be specified by user (scalar).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Malpass, R S. (1981). Effective size and defendant bias in eyewitness
identification lineups. <em>Law and Human Behavior, 5</em>, 299-309.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup
fairness. <em>Law and Human Behavior, 22</em>(2), 217-237.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
target_pos &lt;- c(1, 2, 3, 4, 5, 6)

#Call:
eff_size_per_foils(lineup_vec, target_pos, 6)
eff_size_per_foils(lineup_vec, target_pos, conf = 0.95, 6)
</code></pre>

<hr>
<h2 id='effsize_compare'>Master Function: Comparing Effective Size</h2><span id='topic+effsize_compare'></span>

<h3>Description</h3>

<p>Function for comparing effective size of two independent lineups (Tredoux, 1998)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effsize_compare(linedf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effsize_compare_+3A_linedf">linedf</code></td>
<td>
<p>A dataframe of lineup data. Contains 2 columns, each of which
hold data for 2 independent lineups</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a master function, calling other functions
it needs, and reporting results in some detail
</p>


<h3>Value</h3>

<p>Effective size, significance level, and confidence intervals (95
normal theory, percentile &amp; bias-corrected)
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>See Also</h3>

<p><code><a href="boot.html#topic+boot">boot</a></code>: https://cran.r-project.org/web/packages/boot/boot.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:

lineup_vec1 &lt;- round(runif(100, 1, 6))
lineup_vec2 &lt;- round(runif(100, 1, 6))
linedf &lt;- as.data.frame(cbind(lineup_vec1, lineup_vec2))

#Call:
x &lt;- effsize_compare(linedf)

</code></pre>

<hr>
<h2 id='esize_m'>Effective Size</h2><span id='topic+esize_m'></span>

<h3>Description</h3>

<p>Function for computing Effective Size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esize_m(lineup_table, k, both = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="esize_m_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
<tr><td><code id="esize_m_+3A_k">k</code></td>
<td>
<p>Number of members in lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="esize_m_+3A_both">both</code></td>
<td>
<p>Defaults to FALSE. Returns Tredoux's adjusted effective size estimate.
</p>
<p>If TRUE, provides both Malpass's (1981) and Makpass's adjusted (see: Tredoux, 1998)
calculations of effective size.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reduces the size of a lineup from a (corrected) nominal starting
value by the degree to which members are, in sum, chosen below
the level of chance expectation.
</p>


<h3>Value</h3>

<p>Malpass's original &amp; adjusted estimates of effective size
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))

#Call:
esize_m(lineup_vec, 6, both = TRUE)
esize_m(lineup_vec, 6)

</code></pre>

<hr>
<h2 id='esize_m_boot'>Bootstrapped Effective Size</h2><span id='topic+esize_m_boot'></span>

<h3>Description</h3>

<p>Base function for computing bootstrapped effective size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esize_m_boot(lineup_vec, d, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="esize_m_boot_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A vector of lineup choices</p>
</td></tr>
<tr><td><code id="esize_m_boot_+3A_d">d</code></td>
<td>
<p>Indices for bootstrap resampling</p>
</td></tr>
<tr><td><code id="esize_m_boot_+3A_k">k</code></td>
<td>
<p>A vector indexing number of members in each lineup pair. Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to call when bootstrap resampling using boot function (in package 'boot')
</p>


<h3>Value</h3>

<p>If printarg=FALSE, provides only Malpass's priginal calculation of effective size
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>See Also</h3>

<p><code><a href="boot.html#topic+boot">boot</a></code>: https://cran.r-project.org/web/packages/boot/boot.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))

#Get boot object:
bootobject &lt;- boot::boot(lineup_vec, esize_m_boot, k = 6, R=1000)
bootobject

#To get confidence intervals:
cis &lt;- boot::boot.ci(bootobject, conf = 0.95, type = "all")

</code></pre>

<hr>
<h2 id='esize_T'>Effective Size (Tredoux, 1998)</h2><span id='topic+esize_T'></span>

<h3>Description</h3>

<p>Function for generating Effective Size (Tredoux, 1998)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esize_T(lineup_table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="esize_T_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reduces the size of a lineup from a (corrected) nominal starting
value by the degree to which members are, in sum, chosen below
the level of chance expectation.
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in eyewitness
identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007).
Lineup construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read, &amp; M. P. Toglia (Eds.), Handbook of Eyewitness Psychology, Vol. 2: Memory for people (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup
fairness. <em>Law and Human Behavior, 22(2)</em>, 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures
of lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L., Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior, 3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
lineup_table &lt;- table(lineup_vec)

#Call:
e &lt;- esize_T(lineup_table)

</code></pre>

<hr>
<h2 id='esize_T_boot'>Bootstrapped Effective Size (Tredoux, 1998)</h2><span id='topic+esize_T_boot'></span>

<h3>Description</h3>

<p>Base function for generating boostrapped Effective Size (Tredoux, 1998)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esize_T_boot(lineup_table, d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="esize_T_boot_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
<tr><td><code id="esize_T_boot_+3A_d">d</code></td>
<td>
<p>Indices for bootstrap resampling</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reduces the size of a lineup from a (corrected) nominal starting
value by the degree to which members are, in sum, chosen below
the level of chance expectation.
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Malpass, R. S. (1981). Effective size and defendant bias in eyewitness
identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007).
Lineup construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read, &amp; M. P. Toglia (Eds.), Handbook of Eyewitness Psychology, Vol. 2: Memory for people (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup
fairness. <em>Law and Human Behavior, 22(2)</em>, 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures
of lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L., Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior, 3</em>(4), 285-293.
</p>


<h3>See Also</h3>

<p><code><a href="boot.html#topic+boot">boot</a></code>: https://cran.r-project.org/web/packages/boot/boot.pdf
</p>

<hr>
<h2 id='esize_T_ci_n'>Effective Size with Confidence Intervals from Normal Theory (Tredoux, 1998)</h2><span id='topic+esize_T_ci_n'></span>

<h3>Description</h3>

<p>Function for generating Effective Size (Tredoux, 1998) with CIs from normal theory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esize_T_ci_n(lineup_table, alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="esize_T_ci_n_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
<tr><td><code id="esize_T_ci_n_+3A_alpha">alpha</code></td>
<td>
<p>Alpha level to be declared by user (scalar)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reduces the size of a lineup from a (corrected) nominal starting
value by the degree to which members are, in sum, chosen below
the level of chance expectation
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
lineup_table &lt;- table(lineup_vec)

#Call:
e_ci &lt;- esize_T_ci_n(lineup_table, .95)

</code></pre>

<hr>
<h2 id='face_sim'>Compute similarity of faces in a lineup; experimental function</h2><span id='topic+face_sim'></span>

<h3>Description</h3>

<p>Function to compute the degree to which each face in a set of faces
loads onto a common factor computed from the faces.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>face_sim()
</code></pre>


<h3>Details</h3>


<ul>
<li><p> The faces need to be standardized for inter-pupil distance, and for
pupil location prior to running the function
</p>
</li>
<li><p> The user will be asked to choose a set of faces through a dialog
box. These should be jpeg files.
</p>
</li>
<li><p> There is no argument to the function; it gets what it needs from the
dialog box.  The function prints the lineup array to the viewer
pane in R, and reports the loading of each face on the first common
factor in a factor analysis (using fa in package psych)
</p>
</li></ul>



<h3>References</h3>

<p>Tredoux, C. (2002). A direct measure of facial similarity
and its relation to human similarity perceptions.
<em>Journal of Experimental Psychology: Applied, 8</em>(3), 180-193.
doi:10.1037/1076-898x.8.3.180
</p>

<hr>
<h2 id='func_size'>Functional Size</h2><span id='topic+func_size'></span>

<h3>Description</h3>

<p>This function computes functional size (N/D), where N = number of
mock witnesses, &amp; D = number of mock witnesses choosing the target
</p>


<h3>Usage</h3>

<pre><code class='language-R'>func_size(lineup_vec, target_pos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="func_size_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="func_size_+3A_target_pos">target_pos</code></td>
<td>
<p>A scalar, representing target position in lineup. Must be declared by user</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An estimation of the number of plausible lineup members in a given lineup.
</p>


<h3>Value</h3>

<p>Functional size of lineup
</p>


<h3>References</h3>

<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
target_pos &lt;- 3

#Call:
x &lt;- func_size(lineup_vec, target_pos)
x &lt;- func_size(lineup_vec, 3)

</code></pre>

<hr>
<h2 id='func_size_report'>Functional Size with Bootstrapped Confidence Intervals</h2><span id='topic+func_size_report'></span>

<h3>Description</h3>

<p>This function is a master function, calling other functions it needs,
and reporting results in some detail
</p>


<h3>Usage</h3>

<pre><code class='language-R'>func_size_report(lineup_vec, target_pos, k, R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="func_size_report_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="func_size_report_+3A_target_pos">target_pos</code></td>
<td>
<p>A scalar, representing target position in lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="func_size_report_+3A_k">k</code></td>
<td>
<p>Number of members in lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="func_size_report_+3A_r">R</code></td>
<td>
<p>Number of bootstrap samples. Defaults to 1000</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function depends on functions from package 'boot'
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>See Also</h3>

<p><code><a href="boot.html#topic+boot">boot</a></code>: https://cran.r-project.org/web/packages/boot/boot.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
target_pos &lt;- 3

#Call:
x &lt;- func_size_report(lineup_vec, target_pos, 6)
x &lt;- func_size_report(lineup_vec, 3, 6)

</code></pre>

<hr>
<h2 id='func_size.boot'>Bootstrapped Functional Size</h2><span id='topic+func_size.boot'></span>

<h3>Description</h3>

<p>This function is a base function for the bootstrapping that ensues
to compute bootstrapped confidence intervals for the estimate of functional size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>func_size.boot(lineup_vec, d = d, target_pos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="func_size.boot_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="func_size.boot_+3A_d">d</code></td>
<td>
<p>Indices for bootstrap resampling</p>
</td></tr>
<tr><td><code id="func_size.boot_+3A_target_pos">target_pos</code></td>
<td>
<p>A scalar, representing position of target in lineup. Must be declared by user</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function is called bootstrap resampling using boot function (in package 'boot')
This function is never called by the user - it is called in the functional
size master function
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>See Also</h3>

<p><code><a href="boot.html#topic+boot">boot</a></code>: https://cran.r-project.org/web/packages/boot/boot.pdf
</p>

<hr>
<h2 id='gen_boot_propci'>Percentile of Bootstrapped Lineup Proportion</h2><span id='topic+gen_boot_propci'></span>

<h3>Description</h3>

<p>Function for computing arbitrary percentile of bootstrapped lineup proportion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_boot_propci(lineuprops, perc = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_boot_propci_+3A_lineuprops">lineuprops</code></td>
<td>
<p>A vector of bootstrapped lineup proportions</p>
</td></tr>
<tr><td><code id="gen_boot_propci_+3A_perc">perc</code></td>
<td>
<p>Percentile to be computed. Must be declared by user (scalar)
</p>
<p>Defaults to .05</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Can be used to calculate confidence intervals at desired level of alpha
</p>


<h3>Value</h3>

<p>Arbitrary percentile of bootstrapped lineup proportion
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
target_pos &lt;- 3
k &lt;- 6

#Bootstrap data:
lineup_boot_df &lt;- gen_boot_samples(lineup_vec, 1000)

#Compute proportion for bootstrap samples:
lineuprops &lt;- gen_lineup_prop(lineup_boot_df, target_pos, 6)

#Get boot CIs:
prop_bootci_lower &lt;- gen_boot_propci(lineuprops, perc = .025)
prop_bootci_upper &lt;- gen_boot_propci(lineuprops, perc = .975)

</code></pre>

<hr>
<h2 id='gen_boot_propmean_se'>Descriptive statistics for bootstrapped lineup proportion</h2><span id='topic+gen_boot_propmean_se'></span>

<h3>Description</h3>

<p>Function for computing mean. med and se of boot proportion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_boot_propmean_se(lineuprops)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_boot_propmean_se_+3A_lineuprops">lineuprops</code></td>
<td>
<p>A dataframe of bootstrapped lineup proportions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Mean, median, standard deviation, standard error &amp; 95 CIs of
lineup proportion across a bootstrapped dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
target_pos &lt;- 3

#Bootstrap data:
lineup_boot_df &lt;- gen_boot_samples(lineup_vec, 1000)

#Compute proportion for bootstrap samples:
lineuprops &lt;- gen_lineup_prop(lineup_boot_df, target_pos = 3, k = 6)

#Call:
gen_boot_propmean_se(lineuprops)

#OR:

lineuprops &lt;- boot::boot(lineup_vec, lineup_prop_boot, target_pos = 3, R = 1000)
gen_boot_propmean_se(lineuprops$t)
</code></pre>

<hr>
<h2 id='gen_boot_samples'>Bootstrap resampling</h2><span id='topic+gen_boot_samples'></span>

<h3>Description</h3>

<p>Function for generating bootstrapped samples from 1 vector of lineup data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_boot_samples(lineup_vec, bootno)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_boot_samples_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vectors of lineup choices</p>
</td></tr>
<tr><td><code id="gen_boot_samples_+3A_bootno">bootno</code></td>
<td>
<p>Number of bootstrap samples</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of bootstrapped lineup data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100,1,6))
bootno &lt;- 1000

#Call:
bootdf &lt;- gen_boot_samples(lineup_vec, bootno)

</code></pre>

<hr>
<h2 id='gen_boot_samples_list'>Bootstrapped resampling</h2><span id='topic+gen_boot_samples_list'></span>

<h3>Description</h3>

<p>Function for generating bootstrapped samples for of k vectors of lineup choices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_boot_samples_list(lineup_list, bootno)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_boot_samples_list_+3A_lineup_list">lineup_list</code></td>
<td>
<p>A list containing k vectors of lineup choices for k lineups,
in which the target was either absent or present</p>
</td></tr>
<tr><td><code id="gen_boot_samples_list_+3A_bootno">bootno</code></td>
<td>
<p>Number of bootstrap samples</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of bootstrapped lineup data
Length of list = no. of boostrap sample draws
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
linelist &lt;- list(A, B, C)
rm(A, B, C)

bootno &lt;- 1000

#Call:
bootdata &lt;- gen_boot_samples_list(linelist, bootno)

</code></pre>

<hr>
<h2 id='gen_esize_m'>Effective Size (across a dataframe)</h2><span id='topic+gen_esize_m'></span>

<h3>Description</h3>

<p>Function for computing Effective Size (Tredoux, 1998) on
lineups contained as columns in a df, usually from a bootstrapped sample
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_esize_m(lineup_boot_df, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_esize_m_+3A_lineup_boot_df">lineup_boot_df</code></td>
<td>
<p>A dataframe containing bootstrapped samples of lineup data</p>
</td></tr>
<tr><td><code id="gen_esize_m_+3A_k">k</code></td>
<td>
<p>Number of members in lineup. Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function computes effective size for k lineups simultaneously.
</p>


<h3>Value</h3>

<p>A vector of effective size calculations for each lineup in bootstrapped df
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100,1,6))
bootdf &lt;- gen_boot_samples(lineup_vec, 1000)

#Call:
esize_vec &lt;- gen_esize_m(bootdf, 6)

</code></pre>

<hr>
<h2 id='gen_esize_m_ci'>Bootstrapped Confidence Intervals for Effective Size</h2><span id='topic+gen_esize_m_ci'></span>

<h3>Description</h3>

<p>Function for computing Effective Size (Malpass, 1981, as adjusted by Tredoux, 1998)
with CIs from bootstrap df of lineups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_esize_m_ci(lineupsizes, perc = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_esize_m_ci_+3A_lineupsizes">lineupsizes</code></td>
<td>
<p>A vector of bootstrapped effective sizes</p>
</td></tr>
<tr><td><code id="gen_esize_m_ci_+3A_perc">perc</code></td>
<td>
<p>Defaults to .05. Can be specified by user, according to desired
level of alpha (scalar)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Confidence intervals for effective size
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
k &lt;- 6

#Use gen_boot_samples to get bootstrapped data:
bootdata &lt;- gen_boot_samples(lineup_vec, 1000)

#Compute effective size over df of bootstrapped data:
lineupsizes &lt;- gen_esize_m(bootdata, 6)

#Call:
gen_esize_m_ci(lineupsizes)
gen_esize_m_ci(lineupsizes, perc = .025)
gen_esize_m_ci(lineupsizes, perc = .975)

</code></pre>

<hr>
<h2 id='gen_lineup_prop'>Lineup proportion over dataframe</h2><span id='topic+gen_lineup_prop'></span>

<h3>Description</h3>

<p>Function for computing lineup proportion over a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_lineup_prop(lineup_boot_df, target_pos, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_lineup_prop_+3A_lineup_boot_df">lineup_boot_df</code></td>
<td>
<p>Dataframe of lineup choices (usually a bootstrapped set)</p>
</td></tr>
<tr><td><code id="gen_lineup_prop_+3A_target_pos">target_pos</code></td>
<td>
<p>A scalar, representing target position in lineup. Must be declared by user.</p>
</td></tr>
<tr><td><code id="gen_lineup_prop_+3A_k">k</code></td>
<td>
<p>A vector indexing number of members in each lineup pair (nominal size). Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of bootstrapped proportions, indicating the frequency with which
a target was identified in a lineup
Length of vector = number of bootstrap sample draws
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data
lineup_vec &lt;- round(runif(100, 1, 6))
target_pos &lt;- 3

#Get bootstrapped data:
lineup_boot_df &lt;- gen_boot_samples(lineup_vec, 1000)

#Call:
lineuprops &lt;- gen_lineup_prop(lineup_boot_df, 3, 6)

</code></pre>

<hr>
<h2 id='gen_linevec'>Lineup vector</h2><span id='topic+gen_linevec'></span>

<h3>Description</h3>

<p>A function that takes a table of lineup choices and generates a vector of raw
lineup data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_linevec(lineup_table, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_linevec_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
<tr><td><code id="gen_linevec_+3A_k">k</code></td>
<td>
<p>Nominal size (i.e.,total number of lineup members).
Must be declared by user</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of lineup choices
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
lineup_table &lt;- table(lineup_vec)

#Call:
lineup_vec &lt;- gen_linevec(lineup_table, 3)
</code></pre>

<hr>
<h2 id='homog_diag'>Master function: Homogeneity of diagnosticity ratio</h2><span id='topic+homog_diag'></span>

<h3>Description</h3>

<p>This function provides assesses the homogeneity of the diagnosticity ratio of
k lineup pairs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>homog_diag(lineup_pres_list, lineup_abs_list, pos_list, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="homog_diag_+3A_lineup_pres_list">lineup_pres_list</code></td>
<td>
<p>A list containing k vectors of lineup choices for k lineups, in which the
target was present</p>
</td></tr>
<tr><td><code id="homog_diag_+3A_lineup_abs_list">lineup_abs_list</code></td>
<td>
<p>A list containing k vectors of lineup choices for k lineups, in which the
target was absent</p>
</td></tr>
<tr><td><code id="homog_diag_+3A_pos_list">pos_list</code></td>
<td>
<p>A numeric vector indexing lineup member positions for the target
present &amp; absent conditions.</p>
</td></tr>
<tr><td><code id="homog_diag_+3A_k">k</code></td>
<td>
<p>A vector indexing number of members in each lineup pair (nominal size). Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Master function for assessing homogeneity of diagnosticity ratio for
k independent lineups.
</p>


<h3>Value</h3>

<p>Computes diagnosticity ratio with chi-squared estimate and significance
level for k lineup pairs
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)

#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

#Pos list
lineup1_pos &lt;- c(1, 2, 3, 4, 5, 6)
lineup2_pos &lt;- c(1, 2, 3, 4, 5)
lineup3_pos &lt;- c(1, 2, 3, 4)
pos_list &lt;- list(lineup1_pos, lineup2_pos, lineup3_pos)
rm(lineup1_pos, lineup2_pos, lineup3_pos)

#Nominal size:
k &lt;- c(6, 5, 4)

#Call:
homog_diag(lineup_pres_list, lineup_abs_list, pos_list, k)

</code></pre>

<hr>
<h2 id='homog_diag_boot'>Homogeneity of diagnosticity ratio with bootstrapped CIs</h2><span id='topic+homog_diag_boot'></span>

<h3>Description</h3>

<p>Function for computing bootstrapped estimates of homogeneity of diagnosticity ratio
</p>


<h3>Usage</h3>

<pre><code class='language-R'>homog_diag_boot(lineup_pres_list, lineup_abs_list, k, R = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="homog_diag_boot_+3A_lineup_pres_list">lineup_pres_list</code></td>
<td>
<p>A list containing k vectors of lineup choices for k lineups, in which the
target was present</p>
</td></tr>
<tr><td><code id="homog_diag_boot_+3A_lineup_abs_list">lineup_abs_list</code></td>
<td>
<p>A list containing k vectors of lineup choices for k lineups, in which the
target was absent</p>
</td></tr>
<tr><td><code id="homog_diag_boot_+3A_k">k</code></td>
<td>
<p>Number of members in lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="homog_diag_boot_+3A_r">R</code></td>
<td>
<p>Number of bootstrap replications. Defaults to R = 100.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Computes bootstrapped diagnosticity ratio with chi-squared estimate,
significance level and confidence intervals for k lineup pairs
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)

#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

</code></pre>

<hr>
<h2 id='i_esize_T'>I Component of Effective Size(Tredoux, 1998)</h2><span id='topic+i_esize_T'></span>

<h3>Description</h3>

<p>Function for generating I component of effective size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>i_esize_T(lineup_table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="i_esize_T_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
</table>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))
lineup_table &lt;- table(lineup_vec)

#Call:
i &lt;- i_esize_T(lineup_table)

</code></pre>

<hr>
<h2 id='line73'>line73</h2><span id='topic+line73'></span>

<h3>Description</h3>

<p>A dataframe of lineup choices for 1 trial; real data from a Doob &amp; Kirshenbaum (1973) article.
This article was the first to discuss lineup size
1 column x 42 observations
</p>
<p>42 mock witnesses
Nominal size is 6
Target position is 4
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(line73)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 42 rows and 1 columns.</p>


<h3>References</h3>

<p>Doob, A. N., &amp; Kirshenbaum, H. M. (1973). Bias in police lineups-Partial remembering.
<em>Journal of Police Science and Administration, 1</em>, 287-293.
</p>

<hr>
<h2 id='lineup_boot_allprop'>Confidence intervals for lineup proportion</h2><span id='topic+lineup_boot_allprop'></span>

<h3>Description</h3>

<p>Computes bootstrapped confidence intervals for lineup proportion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lineup_boot_allprop(lineup_vec, k, conf = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lineup_boot_allprop_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="lineup_boot_allprop_+3A_k">k</code></td>
<td>
<p>Number of targets in lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="lineup_boot_allprop_+3A_conf">conf</code></td>
<td>
<p>Desired level of alpha. Defaults to 0.95. May be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function that computes bootstrapped lineup proportion using 1000 bootstrap draws
Calls 'boot function in 'boot' package
</p>


<h3>Value</h3>

<p>Returns a vector of bias corrected confidence intervals for
lineup proportion for each member in a lineup
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Wells, G. L., Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
assessing the fairness of a lineup. <em>Law and Human Behavior, 3</em>(4),
285-293.
</p>


<h3>See Also</h3>

<p><code><a href="boot.html#topic+boot">boot</a></code>: https://cran.r-project.org/web/packages/boot/boot.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))

#Call:
lineuprops_ci &lt;- lineup_boot_allprop(lineup_vec, k= 6)
lineuprops_ci &lt;- lineup_boot_allprop(lineup_vec, k= 6, conf = 0.975)

</code></pre>

<hr>
<h2 id='lineup_prop_boot'>Bootstrapped lineup proportion</h2><span id='topic+lineup_prop_boot'></span>

<h3>Description</h3>

<p>Base function for computing bootstrapped lineup proportion for a lineup member
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lineup_prop_boot(lineup_vec, d, target_pos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lineup_prop_boot_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="lineup_prop_boot_+3A_d">d</code></td>
<td>
<p>Indices for bootstrap sample. Argument used by boot function to
select samples for bootstrapping</p>
</td></tr>
<tr><td><code id="lineup_prop_boot_+3A_target_pos">target_pos</code></td>
<td>
<p>A scalar, representing target position in lineup. Must be declared by user</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to call when bootstrap resampling using boot function
</p>


<h3>References</h3>

<p>Davison,  A.C. &amp; Hinkley,  D.V. (1997). <em>Bootstrap methods and their
application</em>. Cambridge University Press.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>See Also</h3>

<p><code><a href="boot.html#topic+boot">boot</a></code>: https://cran.r-project.org/web/packages/boot/boot.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lineup_vec &lt;- round(runif(100, 1, 6))

bootobject &lt;- boot::boot(lineup_vec, lineup_prop_boot, target_pos = 3, R = 1000)
cis &lt;- boot::boot.ci(bootobject, conf = 0.95, type = "all")

</code></pre>

<hr>
<h2 id='lineup_prop_tab'>Lineup proportion</h2><span id='topic+lineup_prop_tab'></span>

<h3>Description</h3>

<p>Computes the proportion of mock witnesses identifying a particular lineup member
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lineup_prop_tab(lineup_table, target_pos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lineup_prop_tab_+3A_lineup_table">lineup_table</code></td>
<td>
<p>A table of lineup choices</p>
</td></tr>
<tr><td><code id="lineup_prop_tab_+3A_target_pos">target_pos</code></td>
<td>
<p>A scalar, representing target position in lineup. Must be declared by user</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a proportion indicating the frequency with which a lineup
member was selected
</p>


<h3>References</h3>

<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1))
lineup_table &lt;- table(lineup_vec)

#Call:
lineup_prop_tab(lineup_table, 3)
lineup_prop_tab(table(lineup_vec), 2)

</code></pre>

<hr>
<h2 id='lineup_prop_vec'>Lineup proportion</h2><span id='topic+lineup_prop_vec'></span>

<h3>Description</h3>

<p>Computes the proportion of mock witnesses identifying a particular lineup member
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lineup_prop_vec(lineup_vec, target_pos, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lineup_prop_vec_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A numeric vector of lineup choices</p>
</td></tr>
<tr><td><code id="lineup_prop_vec_+3A_target_pos">target_pos</code></td>
<td>
<p>Suspect/lineup member position. Must be declared by user (scalar).</p>
</td></tr>
<tr><td><code id="lineup_prop_vec_+3A_k">k</code></td>
<td>
<p>Nominal size (i.e., total number of members in lineup). Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a proportion indicating the frequency with which a target was
identified in a lineup
</p>


<h3>References</h3>

<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_vec &lt;- round(runif(100, 1, 6))

#Call:
lineup_prop_vec(lineup_vec, 3, 6)

</code></pre>

<hr>
<h2 id='ln_diag_ratio'>Ln of Diagnosticity Ratio</h2><span id='topic+ln_diag_ratio'></span>

<h3>Description</h3>

<p>Computes ln of diagnosticity ratio: ln(d)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ln_diag_ratio(linedf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ln_diag_ratio_+3A_linedf">linedf</code></td>
<td>
<p>A dataframe of parameters for computing diagnosticity ratio</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>To get linedf, use the diag_param helper function</strong>
</p>
<p><em>diag_param</em> returns a dataframe containing the following:
</p>

<ul>
<li> <p><em>n11</em>: Number of mock witnesses who identified the suspect in the target
present condition
</p>
</li>
<li> <p><em>n21</em>: Number of mock witnesses who did not identify the suspect in the
target present condition
</p>
</li>
<li> <p><em>n12</em>: Number of mock witnesses who identified the suspect in the target
absent condition
</p>
</li>
<li> <p><em>n13</em>: Number of mock witnesses who did not identify the suspect in the
target absent condition
</p>
</li></ul>



<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology, 13</em>, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)


#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

#Pos list
lineup1_pos &lt;- c(1, 2, 3, 4, 5, 6)
lineup2_pos &lt;- c(1, 2, 3, 4, 5)
lineup3_pos &lt;- c(1, 2, 3, 4)
pos_list &lt;- list(lineup1_pos, lineup2_pos, lineup3_pos)
rm(lineup1_pos, lineup2_pos, lineup3_pos)

#Nominal size:
k &lt;- c(6, 5, 4)

#Use diag param helper function to get data (n11, n21, n12, n22):
linedf &lt;- diag_param(lineup_pres_list, lineup_abs_list, pos_list, k)

#Call:
lnd &lt;- ln_diag_ratio(linedf)

</code></pre>

<hr>
<h2 id='make_roc'>Compute and plot ROC curve for lineup accuracy ~ confidence</h2><span id='topic+make_roc'></span>

<h3>Description</h3>

<p>Function to compute and plot an ROC curve for data from an eyewitness
experiment, where accuracy is recorded for target present and target
absent lineups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_roc(df_confacc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_roc_+3A_df_confacc">df_confacc</code></td>
<td>
<p>A dataframe with two columns, named confidence and accuracy (where accuracy = binary accuracy)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The approach is outlined in several papers by Mickes, Wixted, Gronlund,
Clark, and others (see <strong>References</strong>)
</p>
<p>This function is a user level function.  It chains the two roc functions
together. The user must pass a dataframe, with one column indicating
confidence, and another accuracy, and these must be named as such.
</p>
<p>The approach is outlined in several papers by Mickes, Wixted, Gronlund,
Clark, and others (see references)
</p>


<h3>Value</h3>

<p>An ROC object of package pROC
</p>


<h3>References</h3>

<p>Gronlund, S. D., Wixted, J. T., &amp; Mickes, L. (2014). Evaluating
eyewitness identification procedures using receiver operating characteristic
analysis. <em>Current Directions in Psychological Science, 23</em>(1), 3-10.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
data(mickwick)

#Call:
make_roc(mickwick)



</code></pre>

<hr>
<h2 id='make_rocdata'>Helper functions: Compute and plot ROC curve for lineup accuracy ~ confidence</h2><span id='topic+make_rocdata'></span>

<h3>Description</h3>

<p>Function to compute and plot an ROC curve for data from an eyewitness
experiment, where accuracy is recorded for target present and target
absent lineups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_rocdata(df_confacc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_rocdata_+3A_df_confacc">df_confacc</code></td>
<td>
<p>A df with two columns, confidence and accuracy,
where accuracy = binary accuracy.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An ROC object of package pROC
</p>

<hr>
<h2 id='makevec_prop'>Helper functions</h2><span id='topic+makevec_prop'></span>

<h3>Description</h3>

<p>Several helper functions that compute bootcis from proportions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makevec_prop(prop, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makevec_prop_+3A_prop">prop</code></td>
<td>
<p>A dataframe of bootstrapped proportions</p>
</td></tr>
<tr><td><code id="makevec_prop_+3A_n">n</code></td>
<td>
<p>Number of lineup members</p>
</td></tr>
</table>

<hr>
<h2 id='mickwick'>Confidence &amp; Accuracy data (Mickes &amp; Wixted)</h2><span id='topic+mickwick'></span>

<h3>Description</h3>

<p>Data capturing confidence and accuracy for a lineup trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(mickwick)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 100 rows and 2 columns.</p>


<h3>Details</h3>

<p>mickwick
</p>

<hr>
<h2 id='mockdata'>mockdata</h2><span id='topic+mockdata'></span>

<h3>Description</h3>

<p>A dataframe containing real lineup data.
</p>
<p>3 columns x 94 observations.
</p>
<p>The first column simply provides the participant number, whilst
the second and third contain data for each participant's choice (i.e., the position of the
lineup member that they identified) and a confidence score for each choice.
</p>
<p>In the field of eyewitness testimony, it is common for participants to rate how confident
they are that they have accurately identified the perpetrator.
Here, confidence is recorded as a percentage.
</p>
<p>This lineup has the following parameters:
</p>

<ul>
<li><p> 94 mock witness choices
</p>
</li>
<li><p> Target position is 7
</p>
</li>
<li><p> Nominal size is 9
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data(mockdata)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 94 rows and 3 columns.</p>

<hr>
<h2 id='nortje2012'>nortje2012</h2><span id='topic+nortje2012'></span>

<h3>Description</h3>

<p>A data file containing lineup data for 3 independent lineups.
133 rows x 3 columns. Each lineup trial consisted of 133 mock witnesses
&amp; 8 lineup members.
</p>

<ul>
<li><p>: Target position for lineup 1 is 3
</p>
</li>
<li><p>: Target position for lineup 2 is 6
</p>
</li>
<li><p>: Target position for lineup 3 is 2
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data(nortje2012)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 133 rows and 3 columns.</p>

<hr>
<h2 id='rep_index'>Rep index</h2><span id='topic+rep_index'></span>

<h3>Description</h3>

<p>Helper function that repeats a number k times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rep_index(index, num)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rep_index_+3A_index">index</code></td>
<td>
<p>Number to be repeated</p>
</td></tr>
<tr><td><code id="rep_index_+3A_num">num</code></td>
<td>
<p>Number of times to repeat index</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Can be used to create vectors of lineup data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rep_index(1, 10)
</code></pre>

<hr>
<h2 id='rot_vector'>Rotate vector</h2><span id='topic+rot_vector'></span>

<h3>Description</h3>

<p>Helper function to rotate vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rot_vector(lineup_vec)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rot_vector_+3A_lineup_vec">lineup_vec</code></td>
<td>
<p>A vector of lineup data</p>
</td></tr>
</table>

<hr>
<h2 id='show_lineup'>Helper function</h2><span id='topic+show_lineup'></span>

<h3>Description</h3>

<p>Helper function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_lineup(file_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_lineup_+3A_file_list">file_list</code></td>
<td>
<p>A selection of image files (raw data)</p>
</td></tr>
</table>

<hr>
<h2 id='var_diag_ratio'>Variance of diagnosticity ratio (Tredoux)</h2><span id='topic+var_diag_ratio'></span>

<h3>Description</h3>

<p>Computes the variance of the diagnosticity ratio for a lineup pair
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_diag_ratio(lineup_pres, lineup_abs, pos_pres, pos_abs, k1, k2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_diag_ratio_+3A_lineup_pres">lineup_pres</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was present</p>
</td></tr>
<tr><td><code id="var_diag_ratio_+3A_lineup_abs">lineup_abs</code></td>
<td>
<p>A numeric vector of lineup choices for a lineup in which
the target was absent</p>
</td></tr>
<tr><td><code id="var_diag_ratio_+3A_pos_pres">pos_pres</code></td>
<td>
<p>A scalar, representing target position in TP lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="var_diag_ratio_+3A_pos_abs">pos_abs</code></td>
<td>
<p>A scalar, representing target position in TA lineup. Must be declared by user</p>
</td></tr>
<tr><td><code id="var_diag_ratio_+3A_k1">k1</code></td>
<td>
<p>Number of targets in TP lineup. Must be specified by user (scalar).</p>
</td></tr>
<tr><td><code id="var_diag_ratio_+3A_k2">k2</code></td>
<td>
<p>Number of targets in TA lineup. Must be specified by user (scalar).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data:
lineup_pres &lt;- round(runif(100, 1, 6))
lineup_abs &lt;- round(runif(100, 1, 6))
pos_pres &lt;- 3
pos_abs &lt;- 4

#Call:
var_d &lt;- var_diag_ratio(lineup_pres, lineup_abs, pos_pres, pos_abs, 6, 6)
var_d &lt;- var_diag_ratio(lineup_pres, lineup_abs, 3, 4, 6, 6)

</code></pre>

<hr>
<h2 id='var_lnd'>Variance of ln of diagnosticity ratio</h2><span id='topic+var_lnd'></span>

<h3>Description</h3>

<p>Function to compute variance of ln(d) for k lineup pairs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_lnd(linedf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_lnd_+3A_linedf">linedf</code></td>
<td>
<p>A dataframe of parameters for computing diagnosticity ratio</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>To get linedf, use the diag_param helper function</strong>
</p>
<p><em>diag_param</em> returns a dataframe containing the following:
</p>

<ul>
<li> <p><em>n11</em>: Number of mock witnesses who identified the suspect in the target
present condition
</p>
</li>
<li> <p><em>n21</em>: Number of mock witnesses who did not identify the suspect in the
target present condition
</p>
</li>
<li> <p><em>n12</em>: Number of mock witnesses who identified the suspect in the target
absent condition
</p>
</li>
<li> <p><em>n13</em>: Number of mock witnesses who did not identify the suspect in the
target absent condition
</p>
</li></ul>



<h3>Value</h3>

<p>A dataframe containing ln of the variance of the diagnosticity ratio for
each lineup.
</p>


<h3>References</h3>

<p>Malpass, R. S. (1981). Effective size and defendant bias in
eyewitness identification lineups. <em>Law and Human Behavior, 5</em>(4), 299-309.
</p>
<p>Malpass, R. S., Tredoux, C., &amp; McQuiston-Surrett, D. (2007). Lineup
construction and lineup fairness. In R. Lindsay, D. F. Ross, J. D. Read,
&amp; M. P. Toglia (Eds.), <em>Handbook of Eyewitness Psychology, Vol. 2: Memory for
people</em> (pp. 155-178). Mahwah, NJ: Lawrence Erlbaum Associates.
</p>
<p>Tredoux, C. G. (1998). Statistical inference on measures of lineup fairness.
<em>Law and Human Behavior, 22</em>(2), 217-237.
</p>
<p>Tredoux, C. (1999). Statistical considerations when determining measures of
lineup size and lineup bias. <em>Applied Cognitive Psychology</em>, 13, S9-S26.
</p>
<p>Wells, G. L.,Leippe, M. R., &amp; Ostrom, T. M. (1979). Guidelines for
empirically assessing the fairness of a lineup. <em>Law and Human Behavior,
3</em>(4), 285-293.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Target present data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_pres_list &lt;- list(A, B, C)
rm(A, B, C)


#Target absent data:
A &lt;-  round(runif(100,1,6))
B &lt;-  round(runif(70,1,5))
C &lt;-  round(runif(20,1,4))
lineup_abs_list &lt;- list(A, B, C)
rm(A, B, C)

#Pos list
lineup1_pos &lt;- c(1, 2, 3, 4, 5, 6)
lineup2_pos &lt;- c(1, 2, 3, 4, 5)
lineup3_pos &lt;- c(1, 2, 3, 4)
pos_list &lt;- list(lineup1_pos, lineup2_pos, lineup3_pos)
rm(lineup1_pos, lineup2_pos, lineup3_pos)

#Nominal size:
k &lt;- c(6, 5, 4)

#Use diag param helper function to get data (n11, n21, n12, n22):
linedf &lt;- diag_param(lineup_pres_list, lineup_abs_list, pos_list, k)
#Call:
var &lt;- var_lnd(linedf)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

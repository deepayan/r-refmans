<!DOCTYPE html><html lang="en"><head><title>Help for package steppedwedge</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {steppedwedge}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#steppedwedge-package'><p>steppedwedge: Analyze Data from Stepped Wedge Cluster Randomized Trials</p></a></li>
<li><a href='#analyze'><p>Analyze a stepped wedge dataset</p></a></li>
<li><a href='#load_data'><p>Load and format data object</p></a></li>
<li><a href='#plot_design'><p>Plot stepped wedge design</p></a></li>
<li><a href='#print.sw_analysis'><p>Summarize a list returned by steppedwedge::analysis()</p></a></li>
<li><a href='#sw_data_example'><p>Example stepped wedge data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analyze Data from Stepped Wedge Cluster Randomized Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provide various functions and tools to help fit models for
    estimating treatment effects in stepped wedge cluster randomized trials.
    Implements methods described in Kenny, Voldal, Xia, and Heagerty (2022) 
    "Analysis of stepped wedge cluster randomized trials in the presence of a 
    time-varying treatment effect", &lt;<a href="https://doi.org/10.1002%2Fsim.9511">doi:10.1002/sim.9511</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.10), stats (&ge; 4.0.0), forcats (&ge; 1.0.0),
stringr (&ge; 1.5.1), magrittr (&ge; 2.0.3), methods (&ge; 3.6.2),
ggplot2 (&ge; 3.5.1), lme4 (&ge; 1.1.35.5), geepack (&ge; 1.3.12),
performance (&ge; 0.12.4)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://avi-kenny.github.io/steppedwedge/">https://avi-kenny.github.io/steppedwedge/</a>,
<a href="https://github.com/Avi-Kenny/steppedwedge">https://github.com/Avi-Kenny/steppedwedge</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Avi-Kenny/steppedwedge/issues">https://github.com/Avi-Kenny/steppedwedge/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-20 16:29:34 UTC; dea30</td>
</tr>
<tr>
<td>Author:</td>
<td>Avi Kenny [aut, cre, cph],
  David Arthur [aut],
  Yongdong Ouyang [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Avi Kenny &lt;avi.kenny@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-21 11:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='steppedwedge-package'>steppedwedge: Analyze Data from Stepped Wedge Cluster Randomized Trials</h2><span id='topic+steppedwedge'></span><span id='topic+steppedwedge-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provide various functions and tools to help fit models for estimating treatment effects in stepped wedge cluster randomized trials. Implements methods described in Kenny, Voldal, Xia, and Heagerty (2022) &quot;Analysis of stepped wedge cluster randomized trials in the presence of a time-varying treatment effect&quot;, <a href="https://doi.org/10.1002/sim.9511">doi:10.1002/sim.9511</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Avi Kenny <a href="mailto:avi.kenny@gmail.com">avi.kenny@gmail.com</a> [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> David Arthur <a href="mailto:david.arthur291@duke.edu">david.arthur291@duke.edu</a>
</p>
</li>
<li><p> Yongdong Ouyang <a href="mailto:yongdong.ouyang@sickkids.ca">yongdong.ouyang@sickkids.ca</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://avi-kenny.github.io/steppedwedge/">https://avi-kenny.github.io/steppedwedge/</a>
</p>
</li>
<li> <p><a href="https://github.com/Avi-Kenny/steppedwedge">https://github.com/Avi-Kenny/steppedwedge</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Avi-Kenny/steppedwedge/issues">https://github.com/Avi-Kenny/steppedwedge/issues</a>
</p>
</li></ul>


<hr>
<h2 id='analyze'>Analyze a stepped wedge dataset</h2><span id='topic+analyze'></span>

<h3>Description</h3>

<p>Analyze a stepped wedge dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze(
  dat,
  method = "mixed",
  estimand_type = "TATE",
  estimand_time = c(1, attr(dat, "n_seq")),
  exp_time = "IT",
  cal_time = "categorical",
  family = stats::gaussian,
  re = c("clust", "time"),
  corstr = "exchangeable",
  offset = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="analyze_+3A_dat">dat</code></td>
<td>
<p>A dataframe containing the stepped wedge trial data.</p>
</td></tr>
<tr><td><code id="analyze_+3A_method">method</code></td>
<td>
<p>A character string; either &quot;mixed&quot;, for a mixed-effects model,
or &quot;GEE&quot;, for generalized estimating equations.</p>
</td></tr>
<tr><td><code id="analyze_+3A_estimand_type">estimand_type</code></td>
<td>
<p>One of c(&quot;TATE&quot;, &quot;PTE&quot;); &quot;TATE&quot; represents the
time-averaged treatment effect and &quot;PTE&quot; represents the point treatment
effect.</p>
</td></tr>
<tr><td><code id="analyze_+3A_estimand_time">estimand_time</code></td>
<td>
<p>An integer vector of length 1 or 2. When
estimand_type=&quot;TATE&quot;, 'estimand_time' must be a numeric vector of length
2, representing the start and end times of the exposure time period to
average over. When estimand_type=&quot;PTE&quot;, 'estimand_time' must be a numeric
vector of length 1, representing the time period of interest. See
examples.</p>
</td></tr>
<tr><td><code id="analyze_+3A_exp_time">exp_time</code></td>
<td>
<p>One of c(&quot;IT&quot;, &quot;ETI&quot;, &quot;NCS&quot;, &quot;TEH&quot;); model for exposure time.
&quot;IT&quot; encodes an immediate treatment model with a single treatment effect
parameter. &quot;ETI&quot; is an exposure time indicator model, including one
indicator variable for each exposure time point. &quot;NCS&quot; uses a natural
cubic spline model for the exposure time trend. &quot;TEH&quot; includes a random
slope term in the model, allowing the treatment effect to vary by
timepoint.</p>
</td></tr>
<tr><td><code id="analyze_+3A_cal_time">cal_time</code></td>
<td>
<p>One of c(&quot;categorical&quot;, &quot;NCS&quot;, &quot;linear&quot;, &quot;none&quot;); model for
calendar time. &quot;categorical&quot; uses indicator variables for discrete time
points, as in the Hussey and Hughes model. &quot;NCS&quot; uses a natural cubic
spline, useful for datasets with continuous time. &quot;linear&quot; uses a single
slope parameter. &quot;none&quot; assumes that there is no underlying calendar time
trend.</p>
</td></tr>
<tr><td><code id="analyze_+3A_family">family</code></td>
<td>
<p>A family object; see documentation for 'glm'.</p>
</td></tr>
<tr><td><code id="analyze_+3A_re">re</code></td>
<td>
<p>A character vector of random effects to include; only relevant if
method=&quot;mixed&quot; is used. Possible random effects include &quot;clust&quot; (random
intercept for cluster), &quot;time&quot; (random intercept for cluster-time
interaction), &quot;ind&quot; (random intercept for individuals; appropriate when a
cohort design is used), &quot;tx&quot; (random treatment effect)</p>
</td></tr>
<tr><td><code id="analyze_+3A_corstr">corstr</code></td>
<td>
<p>One of c(&quot;independence&quot;, &quot;exchangeable&quot;, &quot;ar1&quot;); only relevant
if method=&quot;GEE&quot; is used. Defines the GEE working correlation structure;
see the documentation for 'geepack::geeglm'.</p>
</td></tr>
<tr><td><code id="analyze_+3A_offset">offset</code></td>
<td>
<p>A linear predictor offset term; see docs for 'lme4::lmer'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the model object, model type as a string, estimand type
as a string, numeric treatment effect estimate, numeric treatment effect standard error, and
treatment effect 95
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
test_data &lt;- load_data(time ="period", cluster_id = "cluster", individual_id = NULL,
treatment = "trt", outcome = "outcome_cont", data = sw_data_example)

# Analysis example 1: TATE estimand for exposure times 1 through 4
results_tate &lt;- analyze(dat = test_data, method = "mixed", estimand_type = "TATE",
estimand_time = c(1, 4), exp_time = "ETI")

results_tate

# Analysis example 2: PTE estimand for exposure time 3
results_pte &lt;- analyze(dat = test_data, method = "mixed", estimand_type = "PTE",
estimand_time = 3, exp_time = "ETI")

results_pte

</code></pre>

<hr>
<h2 id='load_data'>Load and format data object</h2><span id='topic+load_data'></span>

<h3>Description</h3>

<p>Load and format data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_data(
  time,
  cluster_id,
  individual_id = NULL,
  treatment,
  outcome,
  time_type = "discrete",
  data
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_data_+3A_time">time</code></td>
<td>
<p>A character string; the name of the numeric variable representing
time. Time can be either discrete or continuous.</p>
</td></tr>
<tr><td><code id="load_data_+3A_cluster_id">cluster_id</code></td>
<td>
<p>A character string; the name of the numeric variable
identifying the cluster.</p>
</td></tr>
<tr><td><code id="load_data_+3A_individual_id">individual_id</code></td>
<td>
<p>A character string (optional); the name of the numeric
variable identifying the individual.</p>
</td></tr>
<tr><td><code id="load_data_+3A_treatment">treatment</code></td>
<td>
<p>A character string; the name of the binary variable
indicating treatment. Values must be either integers (0/1) or Boolean
(T/F).</p>
</td></tr>
<tr><td><code id="load_data_+3A_outcome">outcome</code></td>
<td>
<p>Either a character string or a vector of two character strings;
for a numeric or binary outcome, the single character string indicates
the name of the numeric or binary outcome variable; for binomial outcome
data, the vector of two character strings indicates the &quot;# of successes&quot;
variable and the &quot;# of trials&quot; variable, respectively. Values in the
outcome variable(s) must be either numeric or Boolean (T/F).</p>
</td></tr>
<tr><td><code id="load_data_+3A_time_type">time_type</code></td>
<td>
<p>One of c(&quot;discrete&quot;, &quot;continuous&quot;); whether the model treats
time as discrete or continuous.</p>
</td></tr>
<tr><td><code id="load_data_+3A_data">data</code></td>
<td>
<p>A dataframe containing the stepped wedge trial data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>sw_data</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>example_data &lt;- load_data(time ="period", cluster_id = "cluster", individual_id = NULL,
treatment = "trt", outcome = "outcome_cont", data = sw_data_example)
base::summary(example_data)


</code></pre>

<hr>
<h2 id='plot_design'>Plot stepped wedge design</h2><span id='topic+plot_design'></span>

<h3>Description</h3>

<p>Plot stepped wedge design
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_design(dat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_design_+3A_dat">dat</code></td>
<td>
<p>A dataframe containing the stepped wedge trial data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with a plot of the stepped wedge design.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
example_data &lt;- load_data(time ="period", cluster_id = "cluster", individual_id = NULL,
treatment = "trt", outcome = "outcome_cont", data = sw_data_example)
# Plot design
plot_design(example_data)
</code></pre>

<hr>
<h2 id='print.sw_analysis'>Summarize a list returned by steppedwedge::analysis()</h2><span id='topic+print.sw_analysis'></span>

<h3>Description</h3>

<p>Summarize a list returned by steppedwedge::analysis()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sw_analysis'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.sw_analysis_+3A_x">x</code></td>
<td>
<p>A list returned by steppedwedge::analysis()</p>
</td></tr>
<tr><td><code id="print.sw_analysis_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary of the analysis object, including an estimate and 95
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
test_data &lt;- load_data(time ="period", cluster_id = "cluster", individual_id = NULL,
treatment = "trt", outcome = "outcome_bin", data = sw_data_example)

# Analysis example: TATE estimand for exposure times 1 through 4
results_tate &lt;- analyze(dat = test_data, method = "mixed", estimand_type = "TATE",
estimand_time = c(1, 4), exp_time = "ETI", family = poisson)

results_tate
</code></pre>

<hr>
<h2 id='sw_data_example'>Example stepped wedge data</h2><span id='topic+sw_data_example'></span>

<h3>Description</h3>

<p>Data generated for the purpose of demonstrating the steppedwedge package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sw_data_example
</code></pre>


<h3>Format</h3>

<p>## 'sw_data_example'
A data frame with 2,063 rows and 6 columns:
</p>

<dl>
<dt>cluster</dt><dd><p>Cluster id</p>
</dd>
<dt>period</dt><dd><p>Time period</p>
</dd>
<dt>trt</dt><dd><p>Treatment indicator</p>
</dd>
<dt>outcome_bin</dt><dd><p>Binary outcome</p>
</dd>
<dt>outcome_cont</dt><dd><p>Continuous outcome</p>
</dd>
</dl>
<p>...

</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

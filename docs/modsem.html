<!DOCTYPE html><html><head><title>Help for package modsem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {modsem}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#modsem'><p>Interaction between latent variables</p></a></li>
<li><a href='#modsemify'><p>Generate parameter table for lavaan syntax</p></a></li>
<li><a href='#multiplyIndicatorsCpp'><p>Multiply indicators</p></a></li>
<li><a href='#oneInt'><p>oneInt</p></a></li>
<li><a href='#summary.ModSEM'><p>summary.ModSEM</p></a></li>
<li><a href='#TPB'><p>TPB</p></a></li>
<li><a href='#tracePath'><p>Estimate formulas for (co-)variance paths using Wright's path tracing rules</p></a></li>
<li><a href='#tripleInt'><p>tripleInt</p></a></li>
<li><a href='#twoInt'><p>twoInt</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Latent Interaction (and Moderation) Analysis in Structural
Equation Models (SEM)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kjell Solem Slupphaug &lt;slupphaugkjell@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Estimation of interaction (i.e., moderation) effects between latent variables
    in structural equation models (SEM). 
    The supported methods are:
      The constrained approach (Algina &amp; Moulder, 2001).
      The unconstrained approach (Marsh et al., 2004).
      The residual centering approach (Little et al., 2006).
      The double centering approach (Lin et al., 2010).
      The latent moderated structural equations (LMS) approach (Klein &amp; Moosbrugger, 2000).
      The quasi-maximum likelihood (QML) approach (Klein &amp; Muthén, 2007)
    The constrained- unconstrained, residual- and double centering- approaches
    are estimated via 'lavaan' (Rosseel, 2012), whilst the LMS- and QML- approaches
    are estimated via 'nlsem' (Umbach et al., 2017). Alternatively model can be
    estimated via 'Mplus' (Muthén &amp; Muthén, 1998-2017).
    References:
    Algina, J., &amp; Moulder, B. C. (2001). 
      &lt;<a href="https://doi.org/10.1207%2FS15328007SEM0801_3">doi:10.1207/S15328007SEM0801_3</a>&gt;.
      "A note on estimating the Jöreskog-Yang model for latent variable interaction using 'LISREL' 8.3."
    Klein, A., &amp; Moosbrugger, H. (2000). 
      &lt;<a href="https://doi.org/10.1007%2FBF02296338">doi:10.1007/BF02296338</a>&gt;.
      "Maximum likelihood estimation of latent interaction effects with the LMS method."
    Klein, A. G., &amp; Muthén, B. O. (2007). 
      &lt;<a href="https://doi.org/10.1080%2F00273170701710205">doi:10.1080/00273170701710205</a>&gt;.
      "Quasi-maximum likelihood estimation of structural equation models with multiple interaction and quadratic effects."
    Lin, G. C., Wen, Z., Marsh, H. W., &amp; Lin, H. S. (2010). 
      &lt;<a href="https://doi.org/10.1080%2F10705511.2010.488999">doi:10.1080/10705511.2010.488999</a>&gt;.
      "Structural equation models of latent interactions: Clarification of orthogonalizing and double-mean-centering strategies."
    Little, T. D., Bovaird, J. A., &amp; Widaman, K. F. (2006). 
      &lt;<a href="https://doi.org/10.1207%2Fs15328007sem1304_1">doi:10.1207/s15328007sem1304_1</a>&gt;.
      "On the merits of orthogonalizing powered and product terms: Implications for modeling interactions among latent variables."
    Marsh, H. W., Wen, Z., &amp; Hau, K. T. (2004). 
      &lt;<a href="https://doi.org/10.1037%2F1082-989X.9.3.275">doi:10.1037/1082-989X.9.3.275</a>&gt;.
      "Structural equation models of latent interactions: evaluation of alternative estimation strategies and indicator construction."
    Muthén, L.K. and Muthén, B.O. (1998-2017).  
      "'Mplus' User’s Guide.  Eighth Edition."
      <a href="https://www.statmodel.com/">https://www.statmodel.com/</a>.
    Umbach N, Naumann K, Brandt H, Kelava A (2017). 
      "Fitting Nonlinear Structural Equation Models in R with Package 'nlsem'."
      &lt;<a href="https://doi.org/10.18637%2Fjss.v077.i07">doi:10.18637/jss.v077.i07</a>&gt;.
    Rosseel Y (2012). 
      &lt;<a href="https://doi.org/10.18637%2Fjss.v048.i02">doi:10.18637/jss.v048.i02</a>&gt;.
      "'lavaan': An R Package for Structural Equation Modeling." </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, purrr, stringr, lavaan, rlang, MplusAutomation, nlsem,
R6, dplyr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.50)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Kss2k/modsem">https://github.com/Kss2k/modsem</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-22 16:18:52 UTC; kjell</td>
</tr>
<tr>
<td>Author:</td>
<td>Kjell Solem Slupphaug
    <a href="https://orcid.org/0009-0005-8324-2834"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-23 11:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='modsem'>Interaction between latent variables</h2><span id='topic+modsem'></span>

<h3>Description</h3>

<p>modsem is a function for estimating structural equation models with latent product indicators.
It is essentially a facny wrapper for lavaan::sem() (and nlsem::nlsem()) which generates the 
necessary syntax, and variables for the estimation of models with latent product indicators.
</p>
<p>The most important function is modsem()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modsem(
  modelSyntax = NULL,
  data = NULL,
  method = "dblcent",
  match = FALSE,
  standardizeData = FALSE,
  centerData = FALSE,
  firstLoadingFixed = TRUE,
  centerBefore = NULL,
  centerAfter = NULL,
  residualsProds = NULL,
  residualCovSyntax = NULL,
  constrainedProdMean = NULL,
  constrainedLoadings = NULL,
  constrainedVar = NULL,
  constrainedResCovMethod = NULL,
  qml = FALSE,
  auto.scale = "none",
  auto.center = "none",
  estimator = "ML",
  removeFromParTable = NULL,
  addToParTable = NULL,
  macros = NULL,
  run = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modsem_+3A_modelsyntax">modelSyntax</code></td>
<td>
<p>lavaan syntax</p>
</td></tr>
<tr><td><code id="modsem_+3A_data">data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="modsem_+3A_method">method</code></td>
<td>
<p>method to use:
&quot;rca&quot; = residual centering approach (passed to lavaan),
&quot;uca&quot; = unconstrained approach (passed to lavaan),
&quot;dblcent&quot; = double centering approach (passed to lavaan),
&quot;pind&quot; = prod ind approach, with no constraints or centering (passed to lavaan),
&quot;lms&quot; = laten model structural equations (passed to nlsem),
&quot;custom&quot; = use parameters specified in the function call (passed to lavaan)</p>
</td></tr>
<tr><td><code id="modsem_+3A_match">match</code></td>
<td>
<p>should the product indicators be created by using the match-strategy</p>
</td></tr>
<tr><td><code id="modsem_+3A_standardizedata">standardizeData</code></td>
<td>
<p>should data be scaled before fitting model</p>
</td></tr>
<tr><td><code id="modsem_+3A_centerdata">centerData</code></td>
<td>
<p>should data be centered before fitting model</p>
</td></tr>
<tr><td><code id="modsem_+3A_firstloadingfixed">firstLoadingFixed</code></td>
<td>
<p>Sould the first factorloading in the latent prod be fixed to one?</p>
</td></tr>
<tr><td><code id="modsem_+3A_centerbefore">centerBefore</code></td>
<td>
<p>should inds in prods be centered before computing prods (overwritten by method, if method != NULL)</p>
</td></tr>
<tr><td><code id="modsem_+3A_centerafter">centerAfter</code></td>
<td>
<p>should ind prods be centered after they have been computed?</p>
</td></tr>
<tr><td><code id="modsem_+3A_residualsprods">residualsProds</code></td>
<td>
<p>should ind prods be centered using residuals (overwritten by method, if method != NULL)</p>
</td></tr>
<tr><td><code id="modsem_+3A_residualcovsyntax">residualCovSyntax</code></td>
<td>
<p>should syntax for residual covariances be produced (overwritten by method, if method != NULL)</p>
</td></tr>
<tr><td><code id="modsem_+3A_constrainedprodmean">constrainedProdMean</code></td>
<td>
<p>should syntax prod mean be produced (overwritten by method, if method != NULL)</p>
</td></tr>
<tr><td><code id="modsem_+3A_constrainedloadings">constrainedLoadings</code></td>
<td>
<p>should syntax for constrained loadings be produced (overwritten by method, if method != NULL)</p>
</td></tr>
<tr><td><code id="modsem_+3A_constrainedvar">constrainedVar</code></td>
<td>
<p>should syntax for constrained variances be produced (overwritten by method, if method != NULL)</p>
</td></tr>
<tr><td><code id="modsem_+3A_constrainedrescovmethod">constrainedResCovMethod</code></td>
<td>
<p>method for constraining residual covariances</p>
</td></tr>
<tr><td><code id="modsem_+3A_qml">qml</code></td>
<td>
<p>should QML be used in LMS (via nlsem)</p>
</td></tr>
<tr><td><code id="modsem_+3A_auto.scale">auto.scale</code></td>
<td>
<p>methods which should be scaled automatically (usually not useful)</p>
</td></tr>
<tr><td><code id="modsem_+3A_auto.center">auto.center</code></td>
<td>
<p>methods which should be centered automatically (usually not useful)</p>
</td></tr>
<tr><td><code id="modsem_+3A_estimator">estimator</code></td>
<td>
<p>estimator to use in lavaan</p>
</td></tr>
<tr><td><code id="modsem_+3A_removefrompartable">removeFromParTable</code></td>
<td>
<p>rows to remove from partable before sending to lavaan (for advanced users)</p>
</td></tr>
<tr><td><code id="modsem_+3A_addtopartable">addToParTable</code></td>
<td>
<p>rows to add to partable before sending to lavaan (for advanced users)</p>
</td></tr>
<tr><td><code id="modsem_+3A_macros">macros</code></td>
<td>
<p>macros to replace in the syntax before sending to lavaan</p>
</td></tr>
<tr><td><code id="modsem_+3A_run">run</code></td>
<td>
<p>should the model be estimated</p>
</td></tr>
<tr><td><code id="modsem_+3A_...">...</code></td>
<td>
<p>arguments passed to other functions, e.g,. lavaan</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ModSEM object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(modsem)
m1 &lt;- '
  # Outer Model
  X =~ x1 + x2 +x3
  Y =~ y1 + y2 + y3
  Z =~ z1 + z2 + z3

  # Inner model
  Y ~ X + Z + X:Z
'
est1 &lt;- modsem(m1, oneInt)
summary(est1)
</code></pre>

<hr>
<h2 id='modsemify'>Generate parameter table for lavaan syntax</h2><span id='topic+modsemify'></span>

<h3>Description</h3>

<p>Generate parameter table for lavaan syntax
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modsemify(syntax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modsemify_+3A_syntax">syntax</code></td>
<td>
<p>model syntax</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with columns lhs, op, rhs, mod
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(modsem)
m1 &lt;- '
  # Outer Model
  X =~ x1 + x2 +x3
  Y =~ y1 + y2 + y3
  Z =~ z1 + z2 + z3

  # Inner model
  Y ~ X + Z + X:Z
'
modsemify(m1)
</code></pre>

<hr>
<h2 id='multiplyIndicatorsCpp'>Multiply indicators</h2><span id='topic+multiplyIndicatorsCpp'></span>

<h3>Description</h3>

<p>Multiply indicators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiplyIndicatorsCpp(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiplyIndicatorsCpp_+3A_df">df</code></td>
<td>
<p>A data DataFrame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A NumericVector
</p>

<hr>
<h2 id='oneInt'>oneInt</h2><span id='topic+oneInt'></span>

<h3>Description</h3>

<p>A simulated dataset with one interaction effect
</p>

<hr>
<h2 id='summary.ModSEM'>summary.ModSEM</h2><span id='topic+summary.ModSEM'></span>

<h3>Description</h3>

<p>summary.ModSEM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ModSEM'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ModSEM_+3A_object">object</code></td>
<td>
<p>modsem object to summarized</p>
</td></tr>
<tr><td><code id="summary.ModSEM_+3A_...">...</code></td>
<td>
<p>arguments passed to lavaan::summary(), and nlsem::summary()</p>
</td></tr>
</table>

<hr>
<h2 id='TPB'>TPB</h2><span id='topic+TPB'></span>

<h3>Description</h3>

<p>A simulated dataset based on the Theory of Planned Behaviora
</p>

<hr>
<h2 id='tracePath'>Estimate formulas for (co-)variance paths using Wright's path tracing rules</h2><span id='topic+tracePath'></span>

<h3>Description</h3>

<p>This function estimates the path from x to y using the path tracing rules, 
note that it only works with structural parameters, so &quot;=~&quot; are ignored. If you
you want to use the measurement model, it should work if you replace it &quot;=~&quot; with
&quot;~&quot; in the mod column of pt.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tracePath(pt, x, y, parenthesis = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tracePath_+3A_pt">pt</code></td>
<td>
<p>A data frame with columns lhs, op, rhs, and mod, from modsemify(syntax)</p>
</td></tr>
<tr><td><code id="tracePath_+3A_x">x</code></td>
<td>
<p>source variable</p>
</td></tr>
<tr><td><code id="tracePath_+3A_y">y</code></td>
<td>
<p>destination variable</p>
</td></tr>
<tr><td><code id="tracePath_+3A_parenthesis">parenthesis</code></td>
<td>
<p>if TRUE, the output will be enclosed in parenthesis</p>
</td></tr>
<tr><td><code id="tracePath_+3A_...">...</code></td>
<td>
<p>additional arguments passed to tracePath</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string with the estimated path (simplified if possible)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(modsem)
m1 &lt;- '
  # Outer Model
  X =~ x1 + x2 +x3
  Y =~ y1 + y2 + y3
  Z =~ z1 + z2 + z3

  # Inner model
  Y ~ X + Z + X:Z
'
pt &lt;- modsemify(m1)
tracePath(pt, "Y", "Y") # variance of Y
</code></pre>

<hr>
<h2 id='tripleInt'>tripleInt</h2><span id='topic+tripleInt'></span>

<h3>Description</h3>

<p>A simulated dataset with three interaction effects
</p>

<hr>
<h2 id='twoInt'>twoInt</h2><span id='topic+twoInt'></span>

<h3>Description</h3>

<p>A simulated dataset with two interaction effects
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package SMITIDvisu</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SMITIDvisu}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#SMITIDvisu-package'><p>Visualize Data for Host and Viral Population from SMITIDstruct using HTMLwidgets</p></a></li>
<li><a href='#createRainbowColors'><p>createRainbowColors</p>
Create a list of colors for each value v</a></li>
<li><a href='#demo.SMITIDvisu.run'><p>demo.SMITIDvisu.run</p></a></li>
<li><a href='#df2geojson'><p>df2geojson</p></a></li>
<li><a href='#hostline'>
<p>A host infomation over time</p></a></li>
<li><a href='#maptt'><p>maptt</p></a></li>
<li><a href='#mapttProxy'><p>mapttProxy</p></a></li>
<li><a href='#mapttSelectHost'><p>mapttSelectHost</p></a></li>
<li><a href='#mstCompute'><p>compute the minimum spanning tree</p></a></li>
<li><a href='#mstVariant'><p>mstVariant</p></a></li>
<li><a href='#mstVariantProxy'><p>mstVariantProxy</p></a></li>
<li><a href='#SMITIDvisu-shiny'><p>Shiny bindings for visualisation widgets</p></a></li>
<li><a href='#st'>
<p>A SMITIDstruct package variable.</p></a></li>
<li><a href='#st.dist113_2'>
<p>Distance matrix of observed variants sequences of a host 113 at time 2 from simulation.</p></a></li>
<li><a href='#st.dist113_all'>
<p>Distance matrix of observed variants sequences of a host 113 at time 2, 3 and 4 from simulation.</p></a></li>
<li><a href='#st.listTimeProp113'>
<p>List of variants ID with subvector for time and value.</p></a></li>
<li><a href='#st.prop113_2'>
<p>Variants proportions and count for host 113 at time 2 from simulation.</p></a></li>
<li><a href='#st.prop113_all'>
<p>Variants proportions and count for an host 113 at time 2, 3 and 4 from simulation.</p></a></li>
<li><a href='#timeLine'><p>timeLine</p></a></li>
<li><a href='#timeLineProxy'><p>timeLineProxy</p>
get an instance of a timeline</a></li>
<li><a href='#transmissionTree'><p>transmissionTree</p></a></li>
<li><a href='#transmissionTreeProxy'><p>transmissionTreeProxy</p></a></li>
<li><a href='#tt.edges'>
<p>Pathogen link over the time</p></a></li>
<li><a href='#tt.events'>
<p>Data.frame of hosts events information by time.</p>
Fake data.</a></li>
<li><a href='#tt.nodes'>
<p>Host list with there status over the time.</p></a></li>
<li><a href='#updatemstVariant'><p>updatemstVariant</p></a></li>
<li><a href='#updateTimeLine'><p>updateTimeLine</p></a></li>
<li><a href='#updateTransmissionTree'><p>updateTransmissionTree</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Visualize Data for Host and Viral Population from 'SMITIDstruct'
using 'HTMLwidgets'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.9</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jean-Francois Rey &lt;jean-francois.rey@inrae.fr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Visualisation tools for 'SMITIDstruct' package.
  Allow to visualize host timeline, transmission tree, index diversities
  and variant graph using 'HTMLwidgets'. It mainly using 'D3JS' javascript framework.</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-02-08</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), utils</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++11</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a> | file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://informatique-mia.inrae.fr/biosp/anr-smitid-project/">https://informatique-mia.inrae.fr/biosp/anr-smitid-project/</a>,
<a href="https://gitlab.paca.inrae.fr/SMITID/visu/">https://gitlab.paca.inrae.fr/SMITID/visu/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.11.0), htmlwidgets (&ge; 0.3.2), yaml (&ge; 2.1.16),
jsonlite (&ge; 1.5.0), magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>SMITIDstruct, knitr, shiny, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-08 08:26:14 UTC; jfrey</td>
</tr>
<tr>
<td>Author:</td>
<td>Jean-Francois Rey [aut, cre],
  Julien Boge [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-08 08:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='SMITIDvisu-package'>Visualize Data for Host and Viral Population from SMITIDstruct using HTMLwidgets</h2><span id='topic+SMITIDvisu-package'></span><span id='topic+SMITIDvisu'></span>

<h3>Description</h3>

<p>Visualisation tools for SMITIDstruct package.
Allow to visualize host timeline, transmission tree, index diversities and variant graph using HTMLwidgets.
It mainly using D3JS, noUiSlider and FileSaver javascript libraries.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
         Package: </td><td style="text-align: left;"> SMITIDvisu</td>
</tr>
<tr>
 <td style="text-align: left;">
         Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
         Version: </td><td style="text-align: left;"> 0.0.9</td>
</tr>
<tr>
 <td style="text-align: left;">
         Date: </td><td style="text-align: left;"> 2021-02-08</td>
</tr>
<tr>
 <td style="text-align: left;">
         License: </td><td style="text-align: left;"> GPL (&gt;=3)</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Jean-Francois Rey <a href="mailto:jean-francois.rey@inrae.fr">jean-francois.rey@inrae.fr</a>
</p>
<p>Julien Boge <a href="mailto:julien.boge.u@gmail.com">julien.boge.u@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 library(SMITIDvisu)
 demo.SMITIDvisu.run()

## End(Not run)
</code></pre>

<hr>
<h2 id='createRainbowColors'>createRainbowColors
Create a list of colors for each value v</h2><span id='topic+createRainbowColors'></span>

<h3>Description</h3>

<p>createRainbowColors
Create a list of colors for each value v
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createRainbowColors(v)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createRainbowColors_+3A_v">v</code></td>
<td>
<p>a vector of characters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of value=color
</p>

<hr>
<h2 id='demo.SMITIDvisu.run'>demo.SMITIDvisu.run</h2><span id='topic+demo.SMITIDvisu.run'></span>

<h3>Description</h3>

<p>run a demo to visualize data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>demo.SMITIDvisu.run()
</code></pre>

<hr>
<h2 id='df2geojson'>df2geojson</h2><span id='topic+df2geojson'></span>

<h3>Description</h3>

<p>Transform a data frame into a string formatted in GeoJSON
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df2geojson(df, multipleValuesByTime = c())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="df2geojson_+3A_df">df</code></td>
<td>
<p>Data frame to convert in GeoJSON.
It must contain at least columns 'id', 'time', 'X' and 'Y'.
Additionnal columns will be added as features' properties.</p>
</td></tr>
<tr><td><code id="df2geojson_+3A_multiplevaluesbytime">multipleValuesByTime</code></td>
<td>
<p>Vector of strings indicating the df columns names which can contain several values by time.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a geojson string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(SMITIDvisu)
data(transmissiontree)
geojson &lt;- df2geojson(tt.events, multipleValuesByTime = c('infectedby', 'probabilities'))
</code></pre>

<hr>
<h2 id='hostline'>
A host infomation over time
</h2><span id='topic+hostline'></span>

<h3>Description</h3>

<p>kind of host time line
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("hostline")</code></pre>


<h3>Format</h3>

<p>A data frame with 8 observations on the following 5 variables.
</p>

<dl>
<dt><code>level</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>label</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>ID</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>timestart</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>timeend</code></dt><dd><p>a character vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(hostline)
print(hostline)
</code></pre>

<hr>
<h2 id='maptt'>maptt</h2><span id='topic+maptt'></span>

<h3>Description</h3>

<p>Display a Transmission Tree over a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maptt(
  data,
  multipleValuesByTime = c(),
  circleRadius = 6,
  defaultNodeColor = "steelblue",
  nodeColorByState = list(),
  moveEdgeColor = "steelblue",
  color1 = "green",
  color2 = "red",
  nbColors = 10,
  minWeight = 0,
  maxWeight = 1,
  weight1 = 0,
  weight2 = 1,
  autoFocus = TRUE,
  keepOldFeatures = TRUE,
  optionsControl = TRUE,
  gradientControl = TRUE,
  legend = TRUE,
  width = NULL,
  height = NULL,
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maptt_+3A_data">data</code></td>
<td>
<p>Either a data frame that will be converted to a GeoJSON
collection, or a string describing a valid GeoJSON collection.
The data frame must contain at least columns 'id', 'time', 'X' and 'Y'.
It can contain columns 'infectedby', 'probabilities'.
Additionnal columns will be added as properties, but will do nothing
in this implementation of maptt.
See the 'df2geojson' function for more informations.</p>
</td></tr>
<tr><td><code id="maptt_+3A_multiplevaluesbytime">multipleValuesByTime</code></td>
<td>
<p>Vector of strings indicating the df columns names which can contain several values by time. Typically, you would use &lsquo;c(&rsquo;infectedby','probabilities')' if you have these values.</p>
</td></tr>
<tr><td><code id="maptt_+3A_circleradius">circleRadius</code></td>
<td>
<p>Numeric value specifying the radius of the nodes in pixels.</p>
</td></tr>
<tr><td><code id="maptt_+3A_defaultnodecolor">defaultNodeColor</code></td>
<td>
<p>String indicating the default color of nodes, if their status doesn't match whith any color. Colors can be specified in hex.</p>
</td></tr>
<tr><td><code id="maptt_+3A_nodecolorbystate">nodeColorByState</code></td>
<td>
<p>List of strings, indicating the color scheme for each node state.</p>
</td></tr>
<tr><td><code id="maptt_+3A_moveedgecolor">moveEdgeColor</code></td>
<td>
<p>String indicating the color of the edges representing the move of a node.</p>
</td></tr>
<tr><td><code id="maptt_+3A_color1">color1</code></td>
<td>
<p>String indicating the color corresponding to the minWeight value.</p>
</td></tr>
<tr><td><code id="maptt_+3A_color2">color2</code></td>
<td>
<p>String indicating the color corresponding to the maxWeight value.</p>
</td></tr>
<tr><td><code id="maptt_+3A_nbcolors">nbColors</code></td>
<td>
<p>Number of colors for the color scheme using a gradient between color1 and color2. These colors will be used to represent the infection edges according to the infection probability. If no probability is used, the edge will use color2. Three intervals are created :
color1 will be used for the probabilities between minWeight and weight1.
Colors between color1 and color2 will be used for probabilities between weight1 and weight2.
color2 will be used for probabilities between weight2 and maxWeight.
This setting can be modified directly on the map if 'gradientControl' is activated.</p>
</td></tr>
<tr><td><code id="maptt_+3A_minweight">minWeight</code></td>
<td>
<p>Minimal weight.</p>
</td></tr>
<tr><td><code id="maptt_+3A_maxweight">maxWeight</code></td>
<td>
<p>Maximal weight.</p>
</td></tr>
<tr><td><code id="maptt_+3A_weight1">weight1</code></td>
<td>
<p>Lowest weight for the color scheme. This setting can be modified directly on the map if 'gradientControl' is activated.</p>
</td></tr>
<tr><td><code id="maptt_+3A_weight2">weight2</code></td>
<td>
<p>Greatest weight for the color scheme. This setting can be modified directly on the map if 'gradientControl' is activated.</p>
</td></tr>
<tr><td><code id="maptt_+3A_autofocus">autoFocus</code></td>
<td>
<p>Boolean indicating if the map should focus at the displayed features at each time. This setting can be toggled directly on the map if 'optionsControl' is activated.</p>
</td></tr>
<tr><td><code id="maptt_+3A_keepoldfeatures">keepOldFeatures</code></td>
<td>
<p>Boolean indicating if old features should be displayed or not. Features are considered &quot;old&quot; if their last 'time' is prior to the current time displayed. This setting can be toggled directly on the map if 'optionsControl' is activated.</p>
</td></tr>
<tr><td><code id="maptt_+3A_optionscontrol">optionsControl</code></td>
<td>
<p>Boolean indicating if the options control should be displayed or not</p>
</td></tr>
<tr><td><code id="maptt_+3A_gradientcontrol">gradientControl</code></td>
<td>
<p>Boolean indicating if the gradient control should be displayed or not</p>
</td></tr>
<tr><td><code id="maptt_+3A_legend">legend</code></td>
<td>
<p>Boolean indicating if the legend should be displayed or not</p>
</td></tr>
<tr><td><code id="maptt_+3A_width">width</code></td>
<td>
<p>Numeric width for the area in pixels.</p>
</td></tr>
<tr><td><code id="maptt_+3A_height">height</code></td>
<td>
<p>Numeric hieght for the area in pixels.</p>
</td></tr>
<tr><td><code id="maptt_+3A_elementid">elementId</code></td>
<td>
<p>The element ID where the map is displayed</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(SMITIDvisu)
data(transmissiontree)

maptt(tt.events, multipleValuesByTime = c('infectedby', 'probabilities'))

# In this example:
# - values lower than 20 will be yellow ;
# - values between 20 and 25 will use colors between yellow and red ;
# - values greater than 25 will be red.
maptt(tt.events,
 multipleValuesByTime = c('infectedby', 'probabilities'),
 color1 = 'yellow',
 color2 = 'red',
 nbColors = 10,
 minWeight = 0,
 maxWeight = 30,
 weight1 = 20,
 weight2 = 25
)

</code></pre>

<hr>
<h2 id='mapttProxy'>mapttProxy</h2><span id='topic+mapttProxy'></span>

<h3>Description</h3>

<p>get mapttProxy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapttProxy(mapttId, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mapttProxy_+3A_mapttid">mapttId</code></td>
<td>
<p>widget instance identifier</p>
</td></tr>
<tr><td><code id="mapttProxy_+3A_session">session</code></td>
<td>
<p>shiny session</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(SMITIDvisu)
## server.R
mapttProxy &lt;- mapttProxyProxy("mapttOutput")

## End(Not run)

</code></pre>

<hr>
<h2 id='mapttSelectHost'>mapttSelectHost</h2><span id='topic+mapttSelectHost'></span>

<h3>Description</h3>

<p>select a host on a MapTT instance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapttSelectHost(mapttProxy, hostId)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mapttSelectHost_+3A_mapttproxy">mapttProxy</code></td>
<td>
<p>mapttProxy instance</p>
</td></tr>
<tr><td><code id="mapttSelectHost_+3A_hostid">hostId</code></td>
<td>
<p>the id of the host to select</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+maptt">maptt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(SMITIDvisu)
data(transmissiontree)
## server.R
mapttProxy("mapttOutput") %&gt;% mapttSelectHost()

## End(Not run)
</code></pre>

<hr>
<h2 id='mstCompute'>compute the minimum spanning tree</h2><span id='topic+mstCompute'></span>

<h3>Description</h3>

<p>compute the minimum spanning tree of a matrix representing edges between nodes (of a graph)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mstCompute(mat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mstCompute_+3A_mat">mat</code></td>
<td>
<p>weighted matrix representing nodes connection (edges weight)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with 1 if nodes are linked, 0 otherwise.
</p>

<hr>
<h2 id='mstVariant'>mstVariant</h2><span id='topic+mstVariant'></span>

<h3>Description</h3>

<p>Draw Variants genotypes distances as a graph using Minimum Spanning Tree algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mstVariant(
  mat,
  prop,
  node.prop = NULL,
  width = NULL,
  height = NULL,
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mstVariant_+3A_mat">mat</code></td>
<td>
<p>a distance matrix between sequence of variants (interger distance no floating values)</p>
</td></tr>
<tr><td><code id="mstVariant_+3A_prop">prop</code></td>
<td>
<p>a data.frame for variants sequences proportions and count (see details)</p>
</td></tr>
<tr><td><code id="mstVariant_+3A_node.prop">node.prop</code></td>
<td>
<p>list of variants with proportions and time (default NULL)</p>
</td></tr>
<tr><td><code id="mstVariant_+3A_width">width</code></td>
<td>
<p>numeric width for the area in pixels.</p>
</td></tr>
<tr><td><code id="mstVariant_+3A_height">height</code></td>
<td>
<p>numeric hieght for the area in pixels.</p>
</td></tr>
<tr><td><code id="mstVariant_+3A_elementid">elementId</code></td>
<td>
<p>the element ID where is draw</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>mat</strong> is a simple distance matrix with interger values, row and lines contain a unique identifier of each variant sequences.
<strong>prop</strong> is a data.frame where each row is a variant sequence, it have to contain in columns factor &quot;ID&quot;, &quot;proportion&quot; and &quot;count&quot;.
&quot;ID&quot; is a unique identifier matching matrix value identifier, &quot;proportion&quot; is the proportions of the variant sequence
and &quot;count&quot; the number of variant sequence in a varions set.
<strong>node.prop</strong> is a list with name that matching <strong>mat</strong> identifier and <strong>prop</strong> &quot;ID&quot;. Each list element contains a subvector time (Julian or timestamp) and value (proportions).
That allow to draw variants proportions over time.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(SMITIDvisu)
data(st)
mstV &lt;- mstVariant(st.dist113_all,st.prop113_all, st.listTimeProp113)
## Not run:  
## export as standalone html file
htmlwidgets::saveWidget(mstV, "mstVariant.html")
browseURL("mstVariant.html")

## End(Not run)

</code></pre>

<hr>
<h2 id='mstVariantProxy'>mstVariantProxy</h2><span id='topic+mstVariantProxy'></span>

<h3>Description</h3>

<p>get mstVariantProxy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mstVariantProxy(mstVid, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mstVariantProxy_+3A_mstvid">mstVid</code></td>
<td>
<p>widget instance identifier</p>
</td></tr>
<tr><td><code id="mstVariantProxy_+3A_session">session</code></td>
<td>
<p>shiny session</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(SMITIDvisu)
## server.R
mstVariantProxy &lt;- mstVaraintProxy("mstvariantoutput")

## End(Not run)

</code></pre>

<hr>
<h2 id='SMITIDvisu-shiny'>Shiny bindings for visualisation widgets</h2><span id='topic+SMITIDvisu-shiny'></span><span id='topic+mapttOutput'></span><span id='topic+renderMaptt'></span><span id='topic+mstVariantOutput'></span><span id='topic+rendermstVariant'></span><span id='topic+timeLineOutput'></span><span id='topic+renderTimeLine'></span><span id='topic+transmissionTreeOutput'></span><span id='topic+renderTransmissionTree'></span>

<h3>Description</h3>

<p>Output and render functions for using visualisation widgets within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapttOutput(outputId, width = "100%", height = "400px")

renderMaptt(expr, env = parent.frame(), quoted = FALSE)

mstVariantOutput(outputId, width = "100%", height = "600px")

rendermstVariant(expr, env = parent.frame(), quoted = FALSE)

timeLineOutput(outputId, width = "100%", height = "400px")

renderTimeLine(expr, env = parent.frame(), quoted = FALSE)

transmissionTreeOutput(outputId, width = "100%", height = "500px")

renderTransmissionTree(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SMITIDvisu-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="SMITIDvisu-shiny_+3A_width">width</code>, <code id="SMITIDvisu-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>"100%"</code>,
<code>"400px"</code>, <code>"auto"</code>) or a number, which will be coerced to a
string and have <code>"px"</code> appended.</p>
</td></tr>
<tr><td><code id="SMITIDvisu-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a networkD3 graph</p>
</td></tr>
<tr><td><code id="SMITIDvisu-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="SMITIDvisu-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='st'>
A SMITIDstruct package variable.
</h2><span id='topic+st'></span>

<h3>Description</h3>

<p>A SMITIDstruct package variable from simul-chain as a list.
The list is a set of HostSet, ViralPopset and an index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("st")</code></pre>


<h3>Format</h3>

<p>The format is:
List of 3
$ :List of 21
..
..- attr(*, &quot;class&quot;)= chr &quot;HostSet&quot;
$ :List of 20
..
..- attr(*, &quot;class&quot;)= chr &quot;ViralPopSet&quot;
$ :'data.frame':	79 obs. of  3 variables:
..$ TIME     : chr [1:79] &quot;0&quot; &quot;0&quot; &quot;1.26&quot; &quot;1.35&quot; ...
..$ ID_HOST  : chr [1:79] &quot;1&quot; &quot;2&quot; &quot;2&quot; &quot;2&quot; ...
..$ EVENTCODE: chr [1:79] &quot;000011&quot; &quot;000110&quot; &quot;001000&quot; &quot;001000&quot; ...
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(st)
## maybe str(st) ; plot(st) ...
</code></pre>

<hr>
<h2 id='st.dist113_2'>
Distance matrix of observed variants sequences of a host 113 at time 2 from simulation.
</h2><span id='topic+st.dist113_2'></span>

<h3>Description</h3>

<p>Levenshtein Distance matrix with rows and cols label as sequences ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("st")</code></pre>


<h3>Format</h3>

<p>The format is:
num [1:23, 1:23] 0 1 1 1 2 1 1 1 1 2 ...
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(st)
</code></pre>

<hr>
<h2 id='st.dist113_all'>
Distance matrix of observed variants sequences of a host 113 at time 2, 3 and 4 from simulation.
</h2><span id='topic+st.dist113_all'></span>

<h3>Description</h3>

<p>Levenshtein Distance matrix with rows and cols label as sequences ID.
Unique sequence variants observed on host 113 at time 2, 3 and 4 from a simulation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("st")</code></pre>


<h3>Format</h3>

<p>The format is:
num [1:51, 1:51] 0 1 1 1 1 1 3 1 1 1 ...
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(st)
</code></pre>

<hr>
<h2 id='st.listTimeProp113'>
List of variants ID with subvector for time and value.
</h2><span id='topic+st.listTimeProp113'></span>

<h3>Description</h3>

<p>A list indexed by variants sequences ID. Each element contain a time and value vector for time of observation and proportions observed at this time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("st")</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>data(st)
</code></pre>

<hr>
<h2 id='st.prop113_2'>
Variants proportions and count for host 113 at time 2 from simulation.
</h2><span id='topic+st.prop113_2'></span>

<h3>Description</h3>

<p>A data.frame with label &quot;ID&quot;, &quot;proportion&quot; and &quot;count&quot; for an host 113 at time 2 from simulation.
Each row is a sequence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("st")</code></pre>


<h3>Format</h3>

<p>A data frame with 23 observations on the following 3 variables.
</p>

<dl>
<dt><code>ID</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>proportion</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>count</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(st)
</code></pre>

<hr>
<h2 id='st.prop113_all'>
Variants proportions and count for an host 113 at time 2, 3 and 4 from simulation.
</h2><span id='topic+st.prop113_all'></span>

<h3>Description</h3>

<p>A data.frame with label &quot;ID&quot;, &quot;proportion&quot; and &quot;count&quot; for an host 113 at time 2, 3 and 4 from simulation.
Each row is a sequence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("st")</code></pre>


<h3>Format</h3>

<p>A data frame with 51 observations on the following 3 variables.
</p>

<dl>
<dt><code>ID</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>proportion</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>count</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(st)
</code></pre>

<hr>
<h2 id='timeLine'>timeLine</h2><span id='topic+timeLine'></span>

<h3>Description</h3>

<p>Draw a host time line.
Time use timestamp or Date in ISO format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timeLine(
  data,
  title,
  color = NULL,
  width = NULL,
  height = NULL,
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="timeLine_+3A_data">data</code></td>
<td>
<p>a data.frame that reprensent hosts status in time with ID, status and time in columns</p>
</td></tr>
<tr><td><code id="timeLine_+3A_title">title</code></td>
<td>
<p>a tttle as character</p>
</td></tr>
<tr><td><code id="timeLine_+3A_color">color</code></td>
<td>
<p>list of color for timeline elements</p>
</td></tr>
<tr><td><code id="timeLine_+3A_width">width</code></td>
<td>
<p>numeric width for the area in pixels.</p>
</td></tr>
<tr><td><code id="timeLine_+3A_height">height</code></td>
<td>
<p>numeric hieght for the area in pixels.</p>
</td></tr>
<tr><td><code id="timeLine_+3A_elementid">elementId</code></td>
<td>
<p>the element ID where is draw</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(SMITIDvisu)
data(hostline)
tl &lt;- timeLine(hostline,
               title="Example host 113",
               color=list("infected"="red","offspring"="green",
                             "alive"="blue","inf"="orange",
                             "dead"="black","Obs"="purple"))
## Not run: 
## export as standalone html file
htmlwidgets::saveWidget(tl, "timeline.html")
browseURL("timeline.html")

## End(Not run)

</code></pre>

<hr>
<h2 id='timeLineProxy'>timeLineProxy
get an instance of a timeline</h2><span id='topic+timeLineProxy'></span>

<h3>Description</h3>

<p>timeLineProxy
get an instance of a timeline
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timeLineProxy(tlid, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="timeLineProxy_+3A_tlid">tlid</code></td>
<td>
<p>a timeline instance id</p>
</td></tr>
<tr><td><code id="timeLineProxy_+3A_session">session</code></td>
<td>
<p>shiny session</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class timeline_proxy
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## server.R
## output server variable
output$timeline &lt;- renderTimeLine({
         timeLine(data.frame(), "")
       })
## ui.R
timeLineOutput("timeline")
## server.R
tlproxy &lt;- timeLineProxy("timeline")

## End(Not run)
</code></pre>

<hr>
<h2 id='transmissionTree'>transmissionTree</h2><span id='topic+transmissionTree'></span>

<h3>Description</h3>

<p>Draw a transmission tree over the time.
Time use timestamp or Date in ISO format (&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transmissionTree(
  nodes,
  edges,
  nodes.color = NULL,
  width = NULL,
  height = NULL,
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transmissionTree_+3A_nodes">nodes</code></td>
<td>
<p>a data.frame that reprensent hosts status in time with ID, status and time in columns</p>
</td></tr>
<tr><td><code id="transmissionTree_+3A_edges">edges</code></td>
<td>
<p>a data.frame that reprensent tramsmission link between hosts (pathogens) with ID, source, target and time in columns</p>
</td></tr>
<tr><td><code id="transmissionTree_+3A_nodes.color">nodes.color</code></td>
<td>
<p>a list of color for nodes status &quot;status&quot;=&quot;color&quot;</p>
</td></tr>
<tr><td><code id="transmissionTree_+3A_width">width</code></td>
<td>
<p>numeric width for the area in pixels.</p>
</td></tr>
<tr><td><code id="transmissionTree_+3A_height">height</code></td>
<td>
<p>numeric hieght for the area in pixels.</p>
</td></tr>
<tr><td><code id="transmissionTree_+3A_elementid">elementId</code></td>
<td>
<p>the element ID where is draw</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(SMITIDvisu)
data(transmissiontree)
tt &lt;- transmissionTree(tt.nodes,tt.edges, nodes.color = list("default"="black","Inf"="red"))
## Not run: 
## export as standalone html file
htmlwidgets::saveWidget(tt, "transTree.html")
browseURL("transTree.html")

## End(Not run)

</code></pre>

<hr>
<h2 id='transmissionTreeProxy'>transmissionTreeProxy</h2><span id='topic+transmissionTreeProxy'></span>

<h3>Description</h3>

<p>get transmissionTreeProxy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transmissionTreeProxy(ttid, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transmissionTreeProxy_+3A_ttid">ttid</code></td>
<td>
<p>widget instance identifier</p>
</td></tr>
<tr><td><code id="transmissionTreeProxy_+3A_session">session</code></td>
<td>
<p>shiny session</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(SMITIDvisu)
## server.R
transmissionTreeProxy &lt;- transmissionTreeProxyProxy("transmissionTreeoutput")

## End(Not run)

</code></pre>

<hr>
<h2 id='tt.edges'>
Pathogen link over the time
</h2><span id='topic+tt.edges'></span>

<h3>Description</h3>

<p>A data.frame of all transmission links between hosts (pathogens).
Five columns ID, source, target, time and weight.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("transmissiontree")</code></pre>


<h3>Format</h3>

<p>A data frame with 13 observations on the following 5 variables.
</p>

<dl>
<dt><code>ID</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>source</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>target</code></dt><dd><p>a factor with levels <code>113</code> <code>104</code> <code>116</code> <code>115</code> <code>111</code> <code>109</code> <code>105</code> <code>108</code> <code>106</code> <code>112</code></p>
</dd>
<dt><code>time</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>weight</code></dt><dd><p>a character vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(transmissiontree)
print(tt.edges)
</code></pre>

<hr>
<h2 id='tt.events'>
Data.frame of hosts events information by time.
Fake data.
</h2><span id='topic+tt.events'></span>

<h3>Description</h3>

<p>Fake simulated data of hosts events over the time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("transmissiontree")</code></pre>


<h3>Format</h3>

<p>A data frame with 63 observations on the following 7 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>time</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>status</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>infectedby</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>probabilities</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>X</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>Y</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(transmissiontree)
print(tt.events)
</code></pre>

<hr>
<h2 id='tt.nodes'>
Host list with there status over the time.
</h2><span id='topic+tt.nodes'></span>

<h3>Description</h3>

<p>a data.frame of all the hosts identify by there ID.
Three colums is use ID, status and time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("transmissiontree")
</code></pre>


<h3>Format</h3>

<p>A data frame with 47 observations on the following 3 variables.
</p>

<dl>
<dt><code>ID</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>status</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>time</code></dt><dd><p>a character vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(transmissiontree)
print(tt.nodes)
</code></pre>

<hr>
<h2 id='updatemstVariant'>updatemstVariant</h2><span id='topic+updatemstVariant'></span>

<h3>Description</h3>

<p>update (redraw) an instance on mstVariant
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updatemstVariant(mstVProxy, mat, prop, propTime = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updatemstVariant_+3A_mstvproxy">mstVProxy</code></td>
<td>
<p>mstVaraintProxy instance</p>
</td></tr>
<tr><td><code id="updatemstVariant_+3A_mat">mat</code></td>
<td>
<p>distance matrix</p>
</td></tr>
<tr><td><code id="updatemstVariant_+3A_prop">prop</code></td>
<td>
<p>proportions data.frame</p>
</td></tr>
<tr><td><code id="updatemstVariant_+3A_proptime">propTime</code></td>
<td>
<p>list of each variant by time and proportions</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+mstVariant">mstVariant</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(SMITIDvisu)
data(mstVariant)
## server.R
mstVaraintProxy("mstvariantoutput") %&gt;% updatemstVariant(st.dist,st.prop)

## End(Not run)
</code></pre>

<hr>
<h2 id='updateTimeLine'>updateTimeLine</h2><span id='topic+updateTimeLine'></span>

<h3>Description</h3>

<p>updateTimeLine
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateTimeLine(tlProxy, data, title)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateTimeLine_+3A_tlproxy">tlProxy</code></td>
<td>
<p>a timeline proxy instance</p>
</td></tr>
<tr><td><code id="updateTimeLine_+3A_data">data</code></td>
<td>
<p>new data</p>
</td></tr>
<tr><td><code id="updateTimeLine_+3A_title">title</code></td>
<td>
<p>new title</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+timeLine">timeLine</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## server.R
## output server variable
output$timeline &lt;- renderTimeLine({
         timeLine(data.frame(), "")
       })
## ui.R
timeLineOutput("timeline")
## server.R
timeLineProxy("timeline") %&gt;% updateTimeLine(newtimeline, "newId")

## End(Not run)
</code></pre>

<hr>
<h2 id='updateTransmissionTree'>updateTransmissionTree</h2><span id='topic+updateTransmissionTree'></span>

<h3>Description</h3>

<p>update (redraw) an instance of a transmissionTree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateTransmissionTree(TTProxy, nodes, edges, options = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateTransmissionTree_+3A_ttproxy">TTProxy</code></td>
<td>
<p>transmissionTreeProxy instance</p>
</td></tr>
<tr><td><code id="updateTransmissionTree_+3A_nodes">nodes</code></td>
<td>
<p>a data.frame that represent hosts status in time with ID, status and time in columns</p>
</td></tr>
<tr><td><code id="updateTransmissionTree_+3A_edges">edges</code></td>
<td>
<p>a data.frame that represent tramsmission link between hosts (pathogens) with ID, source, weight, target and time in columns</p>
</td></tr>
<tr><td><code id="updateTransmissionTree_+3A_options">options</code></td>
<td>
<p>transmissionTree new options</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+transmissionTree">transmissionTree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(SMITIDvisu)
data(transmissionTree)
## server.R
transmissionTreeProxy("transmissionTreeoutput") %&gt;% updatetransmissionTree(tt.nodes,tt.edges)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

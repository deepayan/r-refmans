<!DOCTYPE html><html><head><title>Help for package zdeskR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {zdeskR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#from_8601'><p>Clean Date Time Inputs and Convert to UTC</p></a></li>
<li><a href='#get_all_ticket_metrics'><p>Get Metrics on All Zendesk Tickets</p></a></li>
<li><a href='#get_custom_fields'><p>Returns the system and all the custom fields defined by</p>
your organization's zendesk administrator</a></li>
<li><a href='#get_tickets'><p>Get Zendesk Tickets</p></a></li>
<li><a href='#get_tickets_comments'><p>Get tickets comments/replies</p></a></li>
<li><a href='#get_users'><p>Returns All Available Zendesk Users.</p></a></li>
<li><a href='#to_unixtime'><p>Convert a Date or Datetime Object to Unix Datetime</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Connect to Your 'Zendesk' Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitates making a connection to the 
  'Zendesk' API and executing various queries. You can use it to
  get ticket, ticket metrics, and user data. The 'Zendesk' documentation is 
  available at &lt;https://developer.zendesk.com/rest_api
  /docs/support/introduction&gt;. This package is not supported by 
  'Zendesk' (owner of the software).</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/chrisumphlett/zdeskR">https://github.com/chrisumphlett/zdeskR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/chrisumphlett/zdeskR/issues">https://github.com/chrisumphlett/zdeskR/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), magrittr (&ge; 1.5), jsonlite (&ge; 1.6.1),
purrr (&ge; 0.3.3), httr (&ge; 1.4.1), tidyr (&ge; 1.0.0), plyr (&ge;
1.8.6), tidyselect (&ge; 1.2.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-25 14:14:04 UTC; c.umphlett</td>
</tr>
<tr>
<td>Author:</td>
<td>Chris Umphlett [aut, cre],
  Avinash Panigrahi [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chris Umphlett &lt;christopher.umphlett@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-25 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='from_8601'>Clean Date Time Inputs and Convert to UTC</h2><span id='topic+from_8601'></span>

<h3>Description</h3>

<p>This function is called from the to_unixtime() function.
It takes a data-time object as a parameter and returns
a cleaner string by stripping out unnecessary objects
from the timestamp.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>from_8601(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="from_8601_+3A_x">x</code></td>
<td>
<p>Start time value provided by user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A datetime vector with the user's start time
converted to UTC time zone.
</p>

<hr>
<h2 id='get_all_ticket_metrics'>Get Metrics on All Zendesk Tickets</h2><span id='topic+get_all_ticket_metrics'></span>

<h3>Description</h3>

<p>This function takes your Email Id, authentication token,
and sub-domain and parses all the tickets and its corresponding
metrics in a list. Since each iteration only returns 100
tickets at a time you must run the loop until the
&quot;has_more&quot; parameter is equal to FALSE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_all_ticket_metrics(email_id, token, subdomain)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_all_ticket_metrics_+3A_email_id">email_id</code></td>
<td>
<p>Zendesk Email Id (username).</p>
</td></tr>
<tr><td><code id="get_all_ticket_metrics_+3A_token">token</code></td>
<td>
<p>Zendesk API token.</p>
</td></tr>
<tr><td><code id="get_all_ticket_metrics_+3A_subdomain">subdomain</code></td>
<td>
<p>Your organization's Zendesk sub-domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Its not a good practice to write down these authentication
parameters in your code. There are various methods and
packages available that are more secure; this package
doesn't require you to use any one in particular.
</p>


<h3>Value</h3>

<p>Data Frame with metrics for all tickets
</p>


<h3>References</h3>

<p><a href="https://developer.zendesk.com/rest_api/docs/support/ticket_metrics">https://developer.zendesk.com/rest_api/docs/support/ticket_metrics</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ticket_metrics &lt;- get_all_ticket_metrics(email_id, token, subdomain)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_custom_fields'>Returns the system and all the custom fields defined by
your organization's zendesk administrator</h2><span id='topic+get_custom_fields'></span>

<h3>Description</h3>

<p>It takes your Email Id, authentication token,
sub-domain  as parameters and gets the system and all
the custom fields available for a zendesk ticket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_custom_fields(email_id, token, subdomain)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_custom_fields_+3A_email_id">email_id</code></td>
<td>
<p>Zendesk Email Id (username).</p>
</td></tr>
<tr><td><code id="get_custom_fields_+3A_token">token</code></td>
<td>
<p>Zendesk API token.</p>
</td></tr>
<tr><td><code id="get_custom_fields_+3A_subdomain">subdomain</code></td>
<td>
<p>Your organization's Zendesk sub-domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It's not a good practice to write down these authentication
parameters in your code. There are various methods and
packages available that are more secure; this package
doesn't require you to use any one in particular.
</p>


<h3>Value</h3>

<p>A data frame containing all ticket fields
</p>


<h3>References</h3>

<p><a href="https://developer.zendesk.com/rest_api/docs/support/ticket_fields">https://developer.zendesk.com/rest_api/docs/support/ticket_fields</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fields &lt;- get_custom_fields(email_id, token, subdomain)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_tickets'>Get Zendesk Tickets</h2><span id='topic+get_tickets'></span>

<h3>Description</h3>

<p>This function takes your Email Id, authentication token,
sub-domain and start time as parameters and gets all the
tickets which have been updated on or after the start
time parameter. By default each page returns 1000 unique
tickets and an &quot;after_cursor&quot; value which stores a
pointer to the next page. After getting the first page
it uses the pointer to fetch the subsequent pages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_tickets(email_id, token, subdomain, start_time, remove_cols = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_tickets_+3A_email_id">email_id</code></td>
<td>
<p>Zendesk Email Id (username).</p>
</td></tr>
<tr><td><code id="get_tickets_+3A_token">token</code></td>
<td>
<p>Zendesk API token.</p>
</td></tr>
<tr><td><code id="get_tickets_+3A_subdomain">subdomain</code></td>
<td>
<p>Your organization's Zendesk sub-domain.</p>
</td></tr>
<tr><td><code id="get_tickets_+3A_start_time">start_time</code></td>
<td>
<p>String with a date or datetime to get all
tickets modified after that date.</p>
</td></tr>
<tr><td><code id="get_tickets_+3A_remove_cols">remove_cols</code></td>
<td>
<p>Vector of column names to remove from the results.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The start time parameter should be in 'UTC' format as
Zendesk uses the 'UTC' time zone when retrieving tickets
after the start time. For example, the US Eastern Time Zone
is currently four hours being UTC. If one wanted to get tickets
starting on August 1 at 12 am, you would need to enter
&quot;2020-08-01 04:00:00&quot;. The user must do proper adjustment
to accommodate the time zone difference, if desired. A
date can be provided, it will retrieve results as of 12 am
in the UTC time zone.
</p>
<p>Start and end times can be entered with or without the time
component. End time cannot be in the future, but should work
for values up to one minute prior to the current time.
</p>
<p>It's not a good practice to write down these authentication
parameters in your code. There are various methods and
packages available that are more secure; this package
doesn't require you to use any one in particular.
</p>
<p>The remove_cols parameter allows the removal of custom fields causing errors.
Errors occurred when a field was sometimes blank and assigned a logical type
and then appended to non-blank, non-logical inside of purrr::map_dfr.
See issue #1 on GH.
</p>


<h3>Value</h3>

<p>a Data Frame containing all tickets after the
start time.
</p>


<h3>References</h3>

<p><a href="https://developer.zendesk.com/rest_api/docs/support/incremental_export#start_time">https://developer.zendesk.com/rest_api/docs/support/incremental_export#start_time</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
all_tickets &lt;- get_tickets(email_id, token, subdomain,
  start_time = "2021-01-31 00:00:00", end_time = "2021-01-31 23:59:59"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_tickets_comments'>Get tickets comments/replies</h2><span id='topic+get_tickets_comments'></span>

<h3>Description</h3>

<p>This function takes your email ID, authentication token, sub-domain,
and specific ticket ID to fetch all comments/replies to this wanted ticket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_tickets_comments(
  email_id,
  token,
  subdomain,
  ticket_id,
  add_cols = NULL,
  metadata = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_tickets_comments_+3A_email_id">email_id</code></td>
<td>
<p>Zendesk Email ID (username).</p>
</td></tr>
<tr><td><code id="get_tickets_comments_+3A_token">token</code></td>
<td>
<p>Zendesk API token.</p>
</td></tr>
<tr><td><code id="get_tickets_comments_+3A_subdomain">subdomain</code></td>
<td>
<p>Your organization's Zendesk sub-domain.</p>
</td></tr>
<tr><td><code id="get_tickets_comments_+3A_ticket_id">ticket_id</code></td>
<td>
<p>The ticket ID number. A numeric value.</p>
</td></tr>
<tr><td><code id="get_tickets_comments_+3A_add_cols">add_cols</code></td>
<td>
<p>Vector of column names to select in addition to the default.</p>
</td></tr>
<tr><td><code id="get_tickets_comments_+3A_metadata">metadata</code></td>
<td>
<p>Logical value (TRUE or FALSE). If TRUE, metadata columns will
be included. This is set to FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default only these columns are returned: &quot;id&quot;, &quot;type&quot;, &quot;author_id&quot;,
&quot;body&quot;, &quot;created_at&quot;, &quot;have_attachments&quot;. You can add other variables using
the 'add_cols' parameter. The variables that can be inserted are described in
the Zendesk API documentation: https://developer.zendesk.com/api-reference/
ticketing/tickets/ticket_comments/.
</p>
<p>The meaning of the default columns included are described in the previous
link, except &quot;have-attachments&quot; which is a boolean field that will be &quot;Yes&quot;
if the comment has an attachment or &quot;No&quot; if it does not. The attachment
itself cannot be returned.
</p>
<p>If you request the 'metadata' sensitive data (location, lat, long,
IP address, etc.) will be included. This data should be handled with care and
only stored and used per your organization's policies and applicable
privacy regulations.
</p>


<h3>Value</h3>

<p>a Data Frame containing all comments/replies for a single ticket.
</p>


<h3>References</h3>

<p><a href="https://developer.zendesk.com/api-reference/ticketing/tickets/ticket_comments/">https://developer.zendesk.com/api-reference/ticketing/tickets/ticket_comments/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Extracting comments with default columns and without sensitive data
comments_ticket_id &lt;- get_tickets_comments(email_id, token, subdomain,
ticket_id, add_cols = NULL, metadata = FALSE)

## Extracting comments with additional columns and sensitive data
comments_ticket_id &lt;- get_tickets_comments(email_id, token, subdomain,
ticket_id, add_cols = c("html_body", "attachments"), metadata = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_users'>Returns All Available Zendesk Users.</h2><span id='topic+get_users'></span>

<h3>Description</h3>

<p>It takes your Email Id, authentication token,
sub-domain and parse all the users in a list.
It iterates through all the pages returning only 100 users per
page until the &quot;next_page&quot; parameter becomes null indicating
there are no more pages to fetch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_users(email_id, token, subdomain, start_time, user_role = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_users_+3A_email_id">email_id</code></td>
<td>
<p>Zendesk Email Id (username).</p>
</td></tr>
<tr><td><code id="get_users_+3A_token">token</code></td>
<td>
<p>Zendesk API token.</p>
</td></tr>
<tr><td><code id="get_users_+3A_subdomain">subdomain</code></td>
<td>
<p>Your organization's Zendesk sub-domain.</p>
</td></tr>
<tr><td><code id="get_users_+3A_start_time">start_time</code></td>
<td>
<p>String with a date or datetime to get all
tickets modified after that date.</p>
</td></tr>
<tr><td><code id="get_users_+3A_user_role">user_role</code></td>
<td>
<p>User role, one of &quot;all&quot;, &quot;end-user&quot;, &quot;agent&quot;, or &quot;admin&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It's not a good practice to write down these authentication
parameters in your code. There are various methods and
packages available that are more secure; this package
doesn't require you to use any one in particular.
</p>
<p>The start_page parameter is useful if you have many users. Each
page contains 100 users. Zendesk does not have an incremental
method for pulling users by date but after you retrieve all of
your users once, you can then increment your start page to
something that will limit the number of users you are
re-pulling each time.
</p>
<p>If you are pulling partial lists of users be aware that you
will not get updates on older users. You will only get recently
created users, not modified/deleted users and their modified
data nor updated last login dates.
</p>


<h3>Value</h3>

<p>Data Frame with user details
</p>


<h3>References</h3>

<p><a href="https://developer.zendesk.com/rest_api/docs/support/users">https://developer.zendesk.com/rest_api/docs/support/users</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
users &lt;- get_users(email_id, token, subdomain)

## End(Not run)
</code></pre>

<hr>
<h2 id='to_unixtime'>Convert a Date or Datetime Object to Unix Datetime</h2><span id='topic+to_unixtime'></span>

<h3>Description</h3>

<p>This is a general purpose helper function for this
package useful in converting a time stamp to unix time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_unixtime(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_unixtime_+3A_x">x</code></td>
<td>
<p>Date or datetime string or object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is inspired/borrowed from a github page
by Neal Richardson who did a similar work to convert the
general date time format to unix time.
</p>
<p>The unix time stamp is a way to track time as a running
total of seconds. This count starts at the Unix Epoch on
January 1st, 1970 at UTC. Therefore, the unix time stamp
is merely the number of seconds between a particular date
and the Unix Epoch.
</p>


<h3>Value</h3>

<p>Integer vector with unix time stamp.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

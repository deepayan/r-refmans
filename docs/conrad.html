<!DOCTYPE html><html lang="en"><head><title>Help for package conrad</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {conrad}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#ms_choose_voice'><p>Provide default voice when not provided</p></a></li>
<li><a href='#ms_create_ssml'><p>Create Speech Synthesis Markup Language (SSML)</p></a></li>
<li><a href='#ms_fetch_key'><p>Find API Key for Microsoft Cognitive Services Text To Speech (TTS)</p></a></li>
<li><a href='#ms_get_token'><p>Get Microsoft Text To Speech (TTS) or Cognitive Services Token from API Key</p></a></li>
<li><a href='#ms_list_voice'><p>Get List of Voices for Specified Region</p></a></li>
<li><a href='#ms_region'><p>Check if provided region is supported by Speech service</p></a></li>
<li><a href='#ms_synthesize'><p>Convert Text to Speech</p></a></li>
<li><a href='#ms_use_voice'><p>Retrieve Gender, Full Voice Name, and Language associated with provided Voice</p></a></li>
<li><a href='#play_audio'><p>Play audio in a browser</p></a></li>
<li><a href='#region'><p>Speech Service supported Region Identifier</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Client for the Microsoft's 'Cognitive Services Text to Speech
REST' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Convert text into synthesized speech and get a list of supported voices for a region. 
    Microsoft's 'Cognitive Services Text to Speech REST' API <a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/rest-text-to-speech?tabs=streaming">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/rest-text-to-speech?tabs=streaming</a>  
    supports neural text to speech voices, which support specific languages and dialects that are identified by locale. </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/fhdsl/conrad">https://github.com/fhdsl/conrad</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/fhdsl/conrad/issues">https://github.com/fhdsl/conrad/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr2, jsonlite, magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-19 08:41:54 UTC; hornik</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-19 09:00:56 UTC</td>
</tr>
<tr>
<td>Author:</td>
<td>Howard Baek <a href="https://orcid.org/0009-0000-8942-1618"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  John Muschelli [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Howard Baek &lt;howardbaek.fh@gmail.com&gt;</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='ms_choose_voice'>Provide default voice when not provided</h2><span id='topic+ms_choose_voice'></span>

<h3>Description</h3>

<p>If 'voice' argument is not supplied to <code>ms_synthesize()</code>, obtain full list of voices for
a specified region and by default, use the first voice in that list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_choose_voice(
  api_key = NULL,
  gender = c("Female", "Male"),
  language = "en-US",
  region = "westus"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_choose_voice_+3A_api_key">api_key</code></td>
<td>
<p>Microsoft Azure Cognitive Services API key</p>
</td></tr>
<tr><td><code id="ms_choose_voice_+3A_gender">gender</code></td>
<td>
<p>Sex of speaker</p>
</td></tr>
<tr><td><code id="ms_choose_voice_+3A_language">language</code></td>
<td>
<p>Language to be spoken</p>
</td></tr>
<tr><td><code id="ms_choose_voice_+3A_region">region</code></td>
<td>
<p>Subscription region for API key. For more info, see
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of gender, language, and full voice name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Default voice whose gender is Female, language is English, and region is 'westus'
ms_choose_voice(gender = "Female", language = "en-US", region = "westus")

## End(Not run)
</code></pre>

<hr>
<h2 id='ms_create_ssml'>Create Speech Synthesis Markup Language (SSML)</h2><span id='topic+ms_create_ssml'></span>

<h3>Description</h3>

<p>Create Speech Synthesis Markup Language (SSML)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_create_ssml(
  script,
  voice = NULL,
  gender = c("Female", "Male"),
  language = "en-US",
  escape = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_create_ssml_+3A_script">script</code></td>
<td>
<p>A character vector of lines to be spoken</p>
</td></tr>
<tr><td><code id="ms_create_ssml_+3A_voice">voice</code></td>
<td>
<p>Full voice name,</p>
</td></tr>
<tr><td><code id="ms_create_ssml_+3A_gender">gender</code></td>
<td>
<p>Sex of the Speaker</p>
</td></tr>
<tr><td><code id="ms_create_ssml_+3A_language">language</code></td>
<td>
<p>Language to be spoken</p>
</td></tr>
<tr><td><code id="ms_create_ssml_+3A_escape">escape</code></td>
<td>
<p>Should non-standard characters be substituted?  Should not
be used if <code>script</code> has SSML tags</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string of the text and SSML markup
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ms_create_ssml("hey I really like things &amp; dogs", escape = TRUE)
ms_create_ssml("hey I really like things")
ms_create_ssml('hey I &lt;emphasis level="strong"&gt;really like&lt;/emphasis&gt; things')
ms_create_ssml('hey I &lt;emphasis level="strong"&gt;really like&lt;/emphasis&gt; things',
escape = TRUE)

</code></pre>

<hr>
<h2 id='ms_fetch_key'>Find API Key for Microsoft Cognitive Services Text To Speech (TTS)</h2><span id='topic+ms_fetch_key'></span><span id='topic+ms_exist_key'></span><span id='topic+ms_set_key'></span><span id='topic+ms_valid_key'></span>

<h3>Description</h3>

<p>Determines if <code>option(ms_tts_key)</code> is set or key is stored in an
environment variable (MS_TTS_API_KEY, MS_TTS_API_KEY1, MS_TTS_API_KEY2). If
not found, stops and returns an error. If found, returns the value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_fetch_key(api_key = NULL, error = TRUE)

ms_exist_key(api_key = NULL)

ms_set_key(api_key)

ms_valid_key(api_key = NULL, region = "westus")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_fetch_key_+3A_api_key">api_key</code></td>
<td>
<p>Microsoft Cognitive Services API key</p>
</td></tr>
<tr><td><code id="ms_fetch_key_+3A_error">error</code></td>
<td>
<p>Should the function error if <code>api_key = NULL</code>?</p>
</td></tr>
<tr><td><code id="ms_fetch_key_+3A_region">region</code></td>
<td>
<p>Subscription region for API key. For more info, see
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>API key
</p>
<p>Logical vector, indicating whether user has API key.
</p>
<p>Logical vector, indicating whether API key is valid.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>ms_exist_key()</code>: Does user have API key?
</p>
</li>
<li> <p><code>ms_set_key()</code>: Set API Key as a global option
</p>
</li>
<li> <p><code>ms_valid_key()</code>: Check whether API key is valid
</p>
</li></ul>


<h3>Note</h3>

<p>You can either set the API key using <code>option(ms_tts_key)</code> or have
it accessible by <code>api_key = Sys.getenv('MS_TTS_API_KEY")}, or
\code{api_key = Sys.getenv('MS_TTS_API_KEY1")}, or \code{api_key =
  Sys.getenv('MS_TTS_API_KEY2")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
res = ms_fetch_key(api_key = NULL, error = FALSE)


# Don't provide api key but fetch it programmatically
ms_exist_key(api_key = NULL)

# Provide api key XXX
ms_exist_key(api_key = "XXX")


# Set api key XXX
ms_set_key(api_key = "XXX")


# Check whether API key is valid in westus
ms_valid_key(region = "westus")

</code></pre>

<hr>
<h2 id='ms_get_token'>Get Microsoft Text To Speech (TTS) or Cognitive Services Token from API Key</h2><span id='topic+ms_get_token'></span><span id='topic+ms_token_expired'></span>

<h3>Description</h3>

<p>Get Microsoft Text To Speech (TTS) or Cognitive Services Token from API Key
</p>
<p>Check if token has expired
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_get_token(api_key = NULL, region = "westus")

ms_token_expired(token = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_get_token_+3A_api_key">api_key</code></td>
<td>
<p>Microsoft Azure Cognitive Services API key</p>
</td></tr>
<tr><td><code id="ms_get_token_+3A_region">region</code></td>
<td>
<p>Subscription region for API key. For more info, see
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions</a></p>
</td></tr>
<tr><td><code id="ms_get_token_+3A_token">token</code></td>
<td>
<p>An authentication of class <code>token</code>,
likely from <code><a href="#topic+ms_get_token">ms_get_token</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the request and token
</p>
<p>Logical vector, indicating whether token has expired
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get token where region is westus
token = ms_get_token(region = "westus")


# Check if token XXX has expired
ms_token_expired(token = "XXX")

</code></pre>

<hr>
<h2 id='ms_list_voice'>Get List of Voices for Specified Region</h2><span id='topic+ms_list_voice'></span>

<h3>Description</h3>

<p>Obtains a full list of voices for a specific region.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_list_voice(api_key = NULL, region = "westus")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_list_voice_+3A_api_key">api_key</code></td>
<td>
<p>Microsoft Azure Cognitive Services API key</p>
</td></tr>
<tr><td><code id="ms_list_voice_+3A_region">region</code></td>
<td>
<p>Subscription region for API key. For more info, see
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more info, see <a href="https://learn.microsoft.com/en-us/azure/cognitive-services/Speech-Service/rest-text-to-speech?tabs=streaming#get-a-list-of-voices">Get a list of voices</a>
from the Microsoft documentation.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> of the names and their long names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# List voices for westus
ms_list_voice(region = "westus")

# List voices for eastus
ms_list_voice(region = "eastus")

</code></pre>

<hr>
<h2 id='ms_region'>Check if provided region is supported by Speech service</h2><span id='topic+ms_region'></span>

<h3>Description</h3>

<p>If region is supported, this function returns the region. If not supported, throws a warning message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_region(region = conrad::region)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_region_+3A_region">region</code></td>
<td>
<p>Subscription region for API key. For more info, see
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of region
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Check if westus is supported
ms_region(region = "westus")
# Check if eastus is supported
ms_region(region = "eastus")

</code></pre>

<hr>
<h2 id='ms_synthesize'>Convert Text to Speech</h2><span id='topic+ms_synthesize'></span>

<h3>Description</h3>

<p>Convert text to speech by using Speech Synthesis Markup Language (SSML)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_synthesize(
  script,
  region = "westus",
  api_key = NULL,
  token = NULL,
  gender = c("Female", "Male"),
  language = "en-US",
  voice = NULL,
  escape = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_synthesize_+3A_script">script</code></td>
<td>
<p>A character vector of text to be converted to speech</p>
</td></tr>
<tr><td><code id="ms_synthesize_+3A_region">region</code></td>
<td>
<p>Subscription region for API key. For more info, see
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions</a></p>
</td></tr>
<tr><td><code id="ms_synthesize_+3A_api_key">api_key</code></td>
<td>
<p>Microsoft Azure Cognitive Services API key</p>
</td></tr>
<tr><td><code id="ms_synthesize_+3A_token">token</code></td>
<td>
<p>An authentication token</p>
</td></tr>
<tr><td><code id="ms_synthesize_+3A_gender">gender</code></td>
<td>
<p>Sex of the speaker</p>
</td></tr>
<tr><td><code id="ms_synthesize_+3A_language">language</code></td>
<td>
<p>Language to be spoken</p>
</td></tr>
<tr><td><code id="ms_synthesize_+3A_voice">voice</code></td>
<td>
<p>Full voice name</p>
</td></tr>
<tr><td><code id="ms_synthesize_+3A_escape">escape</code></td>
<td>
<p>Should non-standard characters be substituted?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more info, see Section <a href="https://learn.microsoft.com/en-us/azure/cognitive-services/Speech-Service/rest-text-to-speech?tabs=streaming#convert-text-to-speech">Convert text to speech</a>
of the Microsoft documentation.
</p>


<h3>Value</h3>

<p>An HTTP response in hexadecimal representation of binary data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Convert text to speech
res &lt;- ms_synthesize(script = "Hello world, this is a talking computer testing test",
                     region = "westus",
                     gender = "Female")
# Returns hexadecimal representation of binary data

# Create temporary file to store audio output
output_path &lt;- tempfile(fileext = ".wav")
# Write binary data to output path
writeBin(res, con = output_path)
# Play audio in browser
# play_audio(audio = output_path)

# Delete temporary file
file.remove(output_path)

</code></pre>

<hr>
<h2 id='ms_use_voice'>Retrieve Gender, Full Voice Name, and Language associated with provided Voice</h2><span id='topic+ms_use_voice'></span>

<h3>Description</h3>

<p>Verify whether given voice is compatible with specific region. If it is, provide
the gender, full voice name, and language associated with given voice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_use_voice(voice, api_key = NULL, region = "westus")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_use_voice_+3A_voice">voice</code></td>
<td>
<p>Full voice name (&quot;Microsoft Server Speech Text to Speech Voice (XX, YY)&quot;)</p>
</td></tr>
<tr><td><code id="ms_use_voice_+3A_api_key">api_key</code></td>
<td>
<p>Microsoft Azure Cognitive Services API key</p>
</td></tr>
<tr><td><code id="ms_use_voice_+3A_region">region</code></td>
<td>
<p>Subscription region for API key. For more info, see
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of gender, language, and full voice name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Retrieve gender, full name, and language
ms_use_voice(voice = "Microsoft Server Speech Text to Speech Voice (en-US, JacobNeural)",
              region = "westus")

## End(Not run)
</code></pre>

<hr>
<h2 id='play_audio'>Play audio in a browser</h2><span id='topic+play_audio'></span>

<h3>Description</h3>

<p>This uses HTML5 audio tags to play audio in your browser. Borrowed from
<code>googleLanguageR::gl_talk_player()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>play_audio(audio = "output.wav", html = "player.html")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="play_audio_+3A_audio">audio</code></td>
<td>
<p>The file location of the audio file.  Must be supported by HTML5</p>
</td></tr>
<tr><td><code id="play_audio_+3A_html">html</code></td>
<td>
<p>The html file location that will be created host the audio</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more info, see this <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio">Mozilla documentation</a>
detailing the <code style="white-space: pre;">&#8288;&lt;audio&gt;&#8288;</code> HTML element.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Opens a browser with embedded audio
play_audio(audio = "output.wav")

## End(Not run)
</code></pre>

<hr>
<h2 id='region'>Speech Service supported Region Identifier</h2><span id='topic+region'></span>

<h3>Description</h3>

<p>This character vector contains region identifiers that support text to speech.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>region
</code></pre>


<h3>Format</h3>



<h4><code>region</code></h4>

<p>A character vector
</p>



<h3>Source</h3>

<p><a href="https://learn.microsoft.com/en-us/azure/cognitive-services/Speech-Service/regions">https://learn.microsoft.com/en-us/azure/cognitive-services/Speech-Service/regions</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package MSG</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MSG}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#MSG-package'><p>Modern Statistical Graphics</p></a></li>
<li><a href='#andrews_curve'><p>Draw Andrew's Curve</p></a></li>
<li><a href='#assists'><p>Assists between players in CLE and LAL</p></a></li>
<li><a href='#BinormCircle'><p>Random numbers containing a &ldquo;circle&rdquo;</p></a></li>
<li><a href='#canabalt'><p>The scores of the game Canabalt from Twitter</p></a></li>
<li><a href='#char_gen'><p>Generate a matrix of similar characters</p></a></li>
<li><a href='#ChinaLifeEdu'><p>Life Expectancy and the Number of People with Higher Education in China</p>
(2005)</a></li>
<li><a href='#cut_plot'><p>Cut the points in a scatter plot into groups according to x-axis</p></a></li>
<li><a href='#Export.USCN'><p>Export of US and China from 1999 to 2004 in US dollars</p></a></li>
<li><a href='#gov.cn.pct'><p>Percentage data in some government websites</p></a></li>
<li><a href='#heart_curve'><p>Draw a heart curve</p></a></li>
<li><a href='#msg'><p>Plot a graph with a pre-installed R script</p></a></li>
<li><a href='#murcia'><p>Composition of Soil from Murcia Province, Spain</p></a></li>
<li><a href='#music'><p>Attributes of some music clips</p></a></li>
<li><a href='#PlantCounts'><p>Number of plants corresponding to altitude</p></a></li>
<li><a href='#quake6'><p>Earth quakes from 1973 to 2010</p></a></li>
<li><a href='#t.diff'><p>The differences of P-values in t test assuming equal or unequal variances</p></a></li>
<li><a href='#tukeyCount'><p>Results of a Simulation to Tukey's Fast Test</p></a></li>
<li><a href='#tvearn'><p>Top TV earners</p></a></li>
<li><a href='#vec2col'><p>Generate colors from a vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Data and Functions for the Book Modern Statistical Graphics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8</td>
</tr>
<tr>
<td>Description:</td>
<td>A companion to the Chinese book &ldquo;Modern Statistical Graphics&rdquo;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>RColorBrewer (&ge; 1.1.2)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>animation (&ge; 2.6), igraph (&ge; 1.2.4.1), KernSmooth (&ge;
2.23.15), maps (&ge; 3.3.0), mvtnorm (&ge; 1.0.11), rgl (&ge;
0.100.30), RgoogleMaps (&ge; 1.4.4), plotrix (&ge; 3.7.6), ggplot2
(&ge; 3.2.1), grid (&ge; 3.6.0), sna (&ge; 2.4)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/yihui/MSG">https://github.com/yihui/MSG</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/yihui/MSG/issues">https://github.com/yihui/MSG/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-21 19:38:02 UTC; yihui</td>
</tr>
<tr>
<td>Author:</td>
<td>Yihui Xie <a href="https://orcid.org/0000-0003-0645-5666"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Peng Zhao [aut],
  Lijia Yu [ctb],
  Xiangyun Huang [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yihui Xie &lt;xie@yihui.name&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-21 19:50:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='MSG-package'>Modern Statistical Graphics</h2><span id='topic+MSG-package'></span><span id='topic+MSG'></span>

<h3>Description</h3>

<p>Datasets and functions for the Chinese book &ldquo;Modern Statistical Graphics&rdquo;.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>

<hr>
<h2 id='andrews_curve'>Draw Andrew's Curve</h2><span id='topic+andrews_curve'></span>

<h3>Description</h3>

<p>This function evaluates the transformation of the original data matrix for
<code>t</code> from <code>-pi</code> to <code>pi</code>, and uses <code>matplot</code> to draw the
curves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>andrews_curve(
  x,
  n = 101,
  type = "l",
  lty = 1,
  lwd = 1,
  pch = NA,
  xlab = "t",
  ylab = "f(t)",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="andrews_curve_+3A_x">x</code></td>
<td>
<p>a data frame or matrix</p>
</td></tr>
<tr><td><code id="andrews_curve_+3A_n">n</code></td>
<td>
<p>number of x-axis values at which f(t) is evaluated</p>
</td></tr>
<tr><td><code id="andrews_curve_+3A_type">type</code>, <code id="andrews_curve_+3A_lty">lty</code>, <code id="andrews_curve_+3A_lwd">lwd</code>, <code id="andrews_curve_+3A_pch">pch</code>, <code id="andrews_curve_+3A_xlab">xlab</code>, <code id="andrews_curve_+3A_ylab">ylab</code>, <code id="andrews_curve_+3A_...">...</code></td>
<td>
<p>passed to
<code><a href="graphics.html#topic+matplot">matplot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix of coefficients for each observation at different t values
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/Andrews_plot">https://en.wikipedia.org/wiki/Andrews_plot</a>
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+matplot">matplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>andrews_curve(iris[, -5], col = as.integer(iris[, 5]))
</code></pre>

<hr>
<h2 id='assists'>Assists between players in CLE and LAL</h2><span id='topic+assists'></span>

<h3>Description</h3>

<p>The players in the rows assisted the ones in the columns.
</p>


<h3>References</h3>

<p><a href="http://www.basketballgeek.com/data/">http://www.basketballgeek.com/data/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(assists)

if (require("sna")) {
    set.seed(2011)
    gplot(assists, displaylabels = TRUE, label.cex = 0.7)
}
</code></pre>

<hr>
<h2 id='BinormCircle'>Random numbers containing a &ldquo;circle&rdquo;</h2><span id='topic+BinormCircle'></span>

<h3>Description</h3>

<p>The data was generated from two independent random varialbes (standard Normal
distribution) and further points on a circle were added to the data. The
order of the data was randomized.
</p>


<h3>Format</h3>

<p>A data frame with 20000 observations on the following 2 variables.
</p>
 <dl>
<dt>V1</dt><dd><p>the first random variable with the x-axis coordinate
of the circle</p>
</dd> <dt>V2</dt><dd><p>the second random variable with the y-axis
coordinate of the circle</p>
</dd> </dl>



<h3>Details</h3>

<p>See the example section for the code to generate the data.
</p>


<h3>Source</h3>

<p><a href="https://yihui.org/en/2008/09/to-see-a-circle-in-a-pile-of-sand/">https://yihui.org/en/2008/09/to-see-a-circle-in-a-pile-of-sand/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(BinormCircle)

## original plot: cannot see anything
plot(BinormCircle)

## transparent colors (alpha = 0.1)
plot(BinormCircle, col = rgb(0, 0, 0, 0.1))

## set axes lmits
plot(BinormCircle, xlim = c(-1, 1), ylim = c(-1, 1))

## small symbols
plot(BinormCircle, pch = ".")

## subset
plot(BinormCircle[sample(nrow(BinormCircle), 1000), ])

## 2D density estimation
library(KernSmooth)
fit = bkde2D(as.matrix(BinormCircle), dpik(as.matrix(BinormCircle)))
# perspective plot by persp()
persp(fit$x1, fit$x2, fit$fhat)

if (interactive() &amp;&amp; require("rgl")) {
    # perspective plot by OpenGL
    rgl.surface(fit$x1, fit$x2, fit$fhat)
    # animation
    M = par3d("userMatrix")
    play3d(par3dinterp(userMatrix = list(M, rotate3d(M, pi/2, 1, 0, 0), rotate3d(M,
        pi/2, 0, 1, 0), rotate3d(M, pi, 0, 0, 1))), duration = 20)
}

## data generation
x1 = rnorm(10000)
y1 = rnorm(10000)
x2 = rep(0.5 * cos(seq(0, 2 * pi, length = 500)), 20)
y2 = rep(0.5 * sin(seq(0, 2 * pi, length = 500)), 20)
x = cbind(c(x1, x2), c(y1, y2))
BinormCircle = as.data.frame(round(x[sample(20000), ], 3))
</code></pre>

<hr>
<h2 id='canabalt'>The scores of the game Canabalt from Twitter</h2><span id='topic+canabalt'></span>

<h3>Description</h3>

<p>The scores of the game Canabalt from Twitter
</p>


<h3>References</h3>

<p>&lsquo;<span class="samp">&#8288;http://www.neilkodner.com/2011/02/visualizations-of-canabalt-scores-scraped-from-twitter/&#8288;</span>&rsquo;
(the URL is not longer accessible)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
data(canabalt)
print(qplot(device, score, data = canabalt))
print(qplot(reorder(death, score, median), score, data = canabalt, geom = "boxplot") +
    coord_flip())
</code></pre>

<hr>
<h2 id='char_gen'>Generate a matrix of similar characters</h2><span id='topic+char_gen'></span>

<h3>Description</h3>

<p>This function prints a matrix of characters which are very similar to each
other.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>char_gen(x = c("V", "W"), n = 300, nrow = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="char_gen_+3A_x">x</code></td>
<td>
<p>a character vector of length 2 (usually two similar characters)</p>
</td></tr>
<tr><td><code id="char_gen_+3A_n">n</code></td>
<td>
<p>the total number of characters in the matrix</p>
</td></tr>
<tr><td><code id="char_gen_+3A_nrow">nrow</code></td>
<td>
<p>the number of rows</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character matrix on the screen
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>char_gen()

char_gen(c("O", "Q"))
</code></pre>

<hr>
<h2 id='ChinaLifeEdu'>Life Expectancy and the Number of People with Higher Education in China
(2005)</h2><span id='topic+ChinaLifeEdu'></span>

<h3>Description</h3>

<p>This data contains the life expectancy and number of people with higher
education in the 31 provinces and districts in China (2005).
</p>


<h3>Format</h3>

<p>A data frame with 31 observations on the following 2 variables.
</p>
 <dl>
<dt>Life.Expectancy</dt><dd><p>Life expectancy</p>
</dd>
<dt>High.Edu.NO</dt><dd><p>Number of people with higher education</p>
</dd> </dl>



<h3>Source</h3>

<p>China Statistical Yearbook 2005. National Bureau of Statistics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ChinaLifeEdu)
x = ChinaLifeEdu
plot(x, type = "n", xlim = range(x[, 1]), ylim = range(x[, 2]))
u = par("usr")
rect(u[1], u[3], u[2], u[4], col = "antiquewhite", border = "red")
library(KernSmooth)
est = bkde2D(x, apply(x, 2, dpik))
contour(est$x1, est$x2, est$fhat, nlevels = 15, col = "darkgreen", add = TRUE,
    vfont = c("sans serif", "plain"))
</code></pre>

<hr>
<h2 id='cut_plot'>Cut the points in a scatter plot into groups according to x-axis</h2><span id='topic+cut_plot'></span>

<h3>Description</h3>

<p>This function can categorize the variable on the x-axis into groups and plot
the mean values of y. The purpose is to show the arbitrariness of the
discretization of data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cut_plot(x, y, breaks, ..., pch.cut = 20)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cut_plot_+3A_x">x</code></td>
<td>
<p>the x variable</p>
</td></tr>
<tr><td><code id="cut_plot_+3A_y">y</code></td>
<td>
<p>the y variable</p>
</td></tr>
<tr><td><code id="cut_plot_+3A_breaks">breaks</code></td>
<td>
<p>the breaks to cut the x variable</p>
</td></tr>
<tr><td><code id="cut_plot_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to
<code><a href="graphics.html#topic+plot.default">plot.default</a></code></p>
</td></tr>
<tr><td><code id="cut_plot_+3A_pch.cut">pch.cut</code></td>
<td>
<p>the point symbol to denote the mean values of y</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100)
y = rnorm(100)
cut_plot(x, y, seq(min(x), max(x), length = 5))
</code></pre>

<hr>
<h2 id='Export.USCN'>Export of US and China from 1999 to 2004 in US dollars</h2><span id='topic+Export.USCN'></span>

<h3>Description</h3>

<p>Export of US and China from 1999 to 2004 in US dollars
</p>


<h3>Format</h3>

<p>A data frame with 13 observations on the following 3 variables.
</p>
 <dl>
<dt>Export</dt><dd><p>amount of export</p>
</dd> <dt>Year</dt><dd><p>year from 1999 to
2004</p>
</dd> <dt>Country</dt><dd><p>country: US or China</p>
</dd> </dl>



<h3>Source</h3>

<p><a href="https://www.wto.org/english/res_e/statis_e/statis_e.htm">https://www.wto.org/english/res_e/statis_e/statis_e.htm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Export.USCN)
par(mar = c(4, 4.5, 1, 4.5))
plot(1:13, Export.USCN$Export, xlab = "Year / Country", ylab = "US Dollars ($10^16)",
    axes = FALSE, type = "h", lwd = 10, col = c(rep(2, 6), NA, rep(4, 6)), lend = 1,
    panel.first = grid())
xlabel = paste(Export.USCN$Year, "\n", Export.USCN$Country)
xlabel[7] = ""
xlabel
abline(v = 7, lty = 2)
axis(1, at = 1:13, labels = xlabel, tick = FALSE, cex.axis = 0.75)
axis(2)
(ylabel = pretty(Export.USCN$Export * 8.27))
axis(4, at = ylabel/8.27, labels = ylabel)
mtext("Chinese RMB", side = 4, line = 2)
box()
</code></pre>

<hr>
<h2 id='gov.cn.pct'>Percentage data in some government websites</h2><span id='topic+gov.cn.pct'></span>

<h3>Description</h3>

<p>This data was collected from Google by searching for percentages in some
goverment websites.
</p>


<h3>Format</h3>

<p>A data frame with 10000 observations on the following 4 variables.
</p>
 <dl>
<dt>percentage</dt><dd><p>a numeric vector: the percentages</p>
</dd>
<dt>count</dt><dd><p>a numeric vector: the number of webpages corresponding to a
certain percentage</p>
</dd> <dt>round0</dt><dd><p>a logical vector: rounded to integers?</p>
</dd>
<dt>round1</dt><dd><p>a logical vector: rounded to the 1st decimal place?</p>
</dd> </dl>



<h3>Details</h3>

<p>We can specify the domain when searching in Google. For this data, we used
&lsquo;<span class="samp">&#8288;site:gov.cn&#8288;</span>&rsquo;, e.g. to search for &lsquo;<span class="samp">&#8288;87.53% site:gov.cn&#8288;</span>&rsquo;.
</p>


<h3>Source</h3>

<p>Google (date: 2009/12/17)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gov.cn.pct)
pct.lowess = function(cond) {
    with(gov.cn.pct, {
        plot(count ~ percentage, pch = ifelse(cond, 4, 20), col = rgb(0:1,
            0, 0, c(0.04, 0.5))[cond + 1], log = "y")
        lines(lowess(gov.cn.pct[cond, 1:2], f = 1/3), col = 2, lwd = 2)
        lines(lowess(gov.cn.pct[!cond, 1:2], f = 1/3), col = 1, lwd = 2)
    })
}
par(mar = c(3.5, 3.5, 1, 0.2), mfrow = c(2, 2))
with(gov.cn.pct, {
    plot(percentage, count, type = "l", panel.first = grid())
    plot(percentage, count, type = "l", xlim = c(10, 11), panel.first = grid())
    pct.lowess(round0)
    pct.lowess(round1)
})
if (interactive()) {
    devAskNewPage(ask = TRUE)

    with(gov.cn.pct, {
        plot(count ~ percentage, type = "l")
        grid()

        devAskNewPage(ask = FALSE)

        for (i in 0:99) {
            plot(count ~ percentage, type = "l", xlim = i + c(0, 1),
                panel.first = grid())
        }

        devAskNewPage(ask = TRUE)

        plot(count ~ percentage, pch = 20, col = rgb(0:1, 0, 0, c(0.07,
            1))[round0 + 1], log = "y")
        lines(lowess(gov.cn.pct[round0, 1:2], f = 1/3), col = "red",
            lwd = 2)
        lines(lowess(gov.cn.pct[!round0, 1:2], f = 1/3), col = "black",
            lwd = 2)

        plot(count ~ percentage, pch = 20, col = rgb(0:1, 0, 0, c(0.07,
            1))[round1 + 1], log = "y")
        lines(lowess(gov.cn.pct[round1, 1:2], f = 1/3), col = "red",
            lwd = 2)
        lines(lowess(gov.cn.pct[!round1, 1:2], f = 1/3), col = "black",
            lwd = 2)
    })
}
</code></pre>

<hr>
<h2 id='heart_curve'>Draw a heart curve</h2><span id='topic+heart_curve'></span>

<h3>Description</h3>

<p>Calculate the coordinates of a heart shape and draw it with a polygon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heart_curve(n = 101, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="heart_curve_+3A_n">n</code></td>
<td>
<p>the number of points to use when calculating the coordinates of the
heart shape</p>
</td></tr>
<tr><td><code id="heart_curve_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to <code><a href="graphics.html#topic+polygon">polygon</a></code>,
e.g. the color of the polygon (usually red)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>heart_curve()
heart_curve(col = "red")
heart_curve(col = "pink", border = "red")
</code></pre>

<hr>
<h2 id='msg'>Plot a graph with a pre-installed R script</h2><span id='topic+msg'></span>

<h3>Description</h3>

<p>Plot a graph with a pre-installed R script
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msg(fig = "3.6", show_code = TRUE, print_plot = TRUE, filter = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="msg_+3A_fig">fig</code></td>
<td>
<p>Character. The figure number or the R script name, which is given in the book.</p>
</td></tr>
<tr><td><code id="msg_+3A_show_code">show_code</code></td>
<td>
<p>Logical. TRUE means the codes are shown in the console.</p>
</td></tr>
<tr><td><code id="msg_+3A_print_plot">print_plot</code></td>
<td>
<p>Logical. TRUE means the graph is printed.</p>
</td></tr>
<tr><td><code id="msg_+3A_filter">filter</code></td>
<td>
<p>Integer. The line numbers indicating which lines in the code are displayed (when positive) or hidden (when negative).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A graph and the source code
</p>


<h3>Examples</h3>

<pre><code class='language-R'># msg('3.6') msg('ChinaPop')
</code></pre>

<hr>
<h2 id='murcia'>Composition of Soil from Murcia Province, Spain</h2><span id='topic+murcia'></span>

<h3>Description</h3>

<p>The proportions of sand, silt and clay in soil samples are given for 8
contiguous sites. The sites extended over the crest and flank of a low rise
in a valley underlain by marl near Albudeite in the province of Murcia,
Spain. The sites were small areas of ground surface of uniform shape
internally and delimited by relative discontinuities externally. Soil samples
were obtained for each site at 11 random points within a 10m by 10m area
centred on the mid-point of the site. All samples were taken from the same
depth. The data give the sand, silt and clay content of each sample,
expressed as a percentage of the total sand, silt and clay content.
</p>


<h3>References</h3>

<p><a href="http://www.statsci.org/data/general/murcia.html">http://www.statsci.org/data/general/murcia.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(murcia)
boxplot(sand ~ site, data = murcia)
</code></pre>

<hr>
<h2 id='music'>Attributes of some music clips</h2><span id='topic+music'></span>

<h3>Description</h3>

<p>Attributes of some music clips
</p>


<h3>References</h3>

<p>Cook D, Swayne DF (2007). Interactive and Dynamic Graphics for
Data Analysis With R and GGobi. Springer. ISBN 978-0-387-71761-6.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(music)
</code></pre>

<hr>
<h2 id='PlantCounts'>Number of plants corresponding to altitude</h2><span id='topic+PlantCounts'></span>

<h3>Description</h3>

<p>For each altitude, the number of plants is recorded.
</p>


<h3>Format</h3>

<p>A data frame with 600 observations on the following 2 variables.
</p>
 <dl>
<dt>altitude</dt><dd><p>altitude of the area</p>
</dd> <dt>counts</dt><dd><p>number of
plants</p>
</dd> </dl>



<h3>Source</h3>

<p><a href="https://cosx.org/2008/11/lowess-to-explore-bivariate-correlation-by-yihui">https://cosx.org/2008/11/lowess-to-explore-bivariate-correlation-by-yihui</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## different span for LOWESS
data(PlantCounts)
par(las = 1, mar = c(4, 4, 0.1, 0.1), mgp = c(2.2, 0.9, 0))
with(PlantCounts, {
    plot(altitude, counts, pch = 20, col = rgb(0, 0, 0, 0.5), panel.first = grid())
    for (i in seq(0.01, 1, length = 70)) {
        lines(lowess(altitude, counts, f = i), col = rgb(0, i, 0), lwd = 1.5)
    }
})
</code></pre>

<hr>
<h2 id='quake6'>Earth quakes from 1973 to 2010</h2><span id='topic+quake6'></span>

<h3>Description</h3>

<p>The time, location and magnitude of all the earth quakes with magnitude being
greater than 6 since 1973.
</p>


<h3>References</h3>

<p><a href="https://d.cosx.org/d/101510">https://d.cosx.org/d/101510</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(quake6)
library(ggplot2)
qplot(year, month, data = quake6) + stat_sum(aes(size = ..n..)) + scale_size(range = c(1,
    10))
</code></pre>

<hr>
<h2 id='t.diff'>The differences of P-values in t test assuming equal or unequal variances</h2><span id='topic+t.diff'></span>

<h3>Description</h3>

<p>Given that the variances of two groups are unequal, we compute the difference
of P-values assuming equal or unequal variances respectively by simulation.
</p>


<h3>Format</h3>

<p>A data frame with 1000 rows and 99 columns.
</p>


<h3>Details</h3>

<p>See the Examples section for the generation of this data.
</p>


<h3>Source</h3>

<p>By simulation.
</p>


<h3>References</h3>

<p>Welch B (1947). &ldquo;The generalization of Student's problem when
several different population variances are involved.&rdquo; Biometrika, 34(1/2),
28&ndash;35.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(t.diff)
boxplot(t.diff, axes = FALSE, xlab = expression(n[1]))
axis(1)
axis(2)
box()

## reproducing the data
if (interactive()) {
    set.seed(123)
    t.diff = NULL
    for (n1 in 2:100) {
        t.diff = rbind(t.diff, replicate(1000, {
            x1 = rnorm(n1, mean = 0, sd = runif(1, 0.5, 1))
            x2 = rnorm(30, mean = 1, sd = runif(1, 2, 5))
            t.test(x1, x2, var.equal = TRUE)$p.value - t.test(x1, x2,
                var.equal = FALSE)$p.value
        }))
    }
    t.diff = as.data.frame(t(t.diff))
    colnames(t.diff) = 2:100
}
</code></pre>

<hr>
<h2 id='tukeyCount'>Results of a Simulation to Tukey's Fast Test</h2><span id='topic+tukeyCount'></span>

<h3>Description</h3>

<p>For the test of means of two samples, we calculated the P-values and recorded
the counts of Tukey's rule of thumb.
</p>


<h3>Format</h3>

<p>A data frame with 10000 observations on the following 3 variables.
</p>
 <dl>
<dt>pvalue.t</dt><dd><p>P-values of t test</p>
</dd> <dt>pvalue.w</dt><dd><p>P-values of
Wilcoxon test</p>
</dd> <dt>count</dt><dd><p>Tukey's counts</p>
</dd> </dl>



<h3>Details</h3>

<p>See the reference for details.
</p>


<h3>Source</h3>

<p>Simulation; see the Examples section below.
</p>


<h3>References</h3>

<p>D. Daryl Basler and Robert B. Smawley. Tukey's Compact versus
Classic Tests. <em>The Journal of Experimental Education</em>, Vol. 36, No.
3 (Spring, 1968), pp. 86-88
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(tukeyCount)

## does Tukey's rule of thumb agree with t test and Wilcoxon test?
with(tukeyCount, {
    ucount = unique(count)
    stripchart(pvalue.t ~ count, method = "jitter", jitter = 0.2, pch = 19,
        cex = 0.7, vertical = TRUE, at = ucount - 0.2, col = rgb(1, 0, 0, 0.2),
        xlim = c(min(count) - 1, max(count) + 1), xaxt = "n", xlab = "Tukey Count",
        ylab = "P-values")
    stripchart(pvalue.w ~ count, method = "jitter", jitter = 0.2, pch = 21,
        cex = 0.7, vertical = TRUE, at = ucount + 0.2, add = TRUE, col = rgb(0,
            0, 1, 0.2), xaxt = "n")
    axis(1, unique(count))
    lines(sort(ucount), tapply(pvalue.t, count, median), type = "o", pch = 19,
        cex = 1.3, col = "red")
    lines(sort(ucount), tapply(pvalue.w, count, median), type = "o", pch = 21,
        cex = 1.3, col = "blue", lty = 2)
    legend("topright", c("t test", "Wilcoxon test"), col = c("red", "blue"),
        pch = c(19, 21), lty = 1:2, bty = "n", cex = 0.8)
})

if (interactive()) {

    ## this is how the data was generated
    set.seed(402)
    n = 30
    tukeyCount = data.frame(t(replicate(10000, {
        x1 = rweibull(n, runif(1, 0.5, 4))
        x2 = rweibull(n, runif(1, 1, 5))
        c(t.test(x1, x2)$p.value, wilcox.test(x1, x2)$p.value, with(rle(rep(0:1,
            each = n)[order(c(x1, x2))]), ifelse(head(values, 1) == tail(values,
            1), 0, sum(lengths[c(1, length(lengths))]))))
    })))
    colnames(tukeyCount) = c("pvalue.t", "pvalue.w", "count")

}
</code></pre>

<hr>
<h2 id='tvearn'>Top TV earners</h2><span id='topic+tvearn'></span>

<h3>Description</h3>

<p>The pay per episode for actors as well as other information.
</p>


<h3>References</h3>

<p><a href="https://flowingdata.com/2011/02/15/visualize-this-tvs-top-earners/">https://flowingdata.com/2011/02/15/visualize-this-tvs-top-earners/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(tvearn)
plot(pay ~ rating, data = tvearn)
library(ggplot2)
qplot(pay, data = tvearn, geom = "histogram", facets = gender ~ ., binwidth = 20000)
qplot(rating, pay, data = tvearn, geom = c("jitter", "smooth"), color = type)
</code></pre>

<hr>
<h2 id='vec2col'>Generate colors from a vector</h2><span id='topic+vec2col'></span><span id='topic+vec2col.default'></span><span id='topic+vec2col.factor'></span>

<h3>Description</h3>

<p>This functions generates a color vector from an input vector, which can be of
the class numeric or factor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec2col(vec, n, name)

## Default S3 method:
vec2col(vec, n, name)

## S3 method for class 'factor'
vec2col(vec, n, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec2col_+3A_vec">vec</code></td>
<td>
<p>the numeric or factor vector</p>
</td></tr>
<tr><td><code id="vec2col_+3A_n">n</code></td>
<td>
<p>the number of colors to be generated from the palette</p>
</td></tr>
<tr><td><code id="vec2col_+3A_name">name</code></td>
<td>
<p>the name of the palette</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of colors corresponding to the input vector
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## convert factor to colors
with(iris, plot(Petal.Length, Petal.Width, col = vec2col(Species), pch = 19))

# another palette
with(iris, plot(Petal.Length, Petal.Width, col = vec2col(Species, name = "Dark2"),
    pch = 19))

## turn numeric values to colors
with(iris, plot(Petal.Length, Petal.Width, col = vec2col(Petal.Width), pch = 19))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

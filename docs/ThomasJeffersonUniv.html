<!DOCTYPE html><html lang="en-US"><head><title>Help for package ThomasJeffersonUniv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ThomasJeffersonUniv}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ThomasJeffersonUniv-package'><p>Handy Tools for TJU/TJUH Employees</p></a></li>
<li><a href='#addProbs'><p>Conditional and/or Marginal Probabilities</p></a></li>
<li><a href='#allDates'><p>All Dates in a Time Interval</p></a></li>
<li><a href='#anniversary'><p>Number of Anniversaries Between Two Dates</p></a></li>
<li><a href='#asDifftime'><p>Create Time Differences, Extended</p></a></li>
<li><a href='#bibentry2rmd'><p>R Markdown Format of citation and/or bibentry</p></a></li>
<li><a href='#checkCount'><p>Positive Counts in a logical vector</p></a></li>
<li><a href='#checkDuplicated'><p>Inspect Duplicated Records in a data.frame</p></a></li>
<li><a href='#date_difftime_'><p>Concatenate a Date and a difftime Object</p></a></li>
<li><a href='#date_time_'><p>Concatenate Date and Time</p></a></li>
<li><a href='#format_named'><p>format_named</p></a></li>
<li><a href='#hexavigesimalExcel'><p>Hexavigesimal (Base 26L) and Excel Columns</p></a></li>
<li><a href='#matchDF'><p>Match Rows of One data.frame to Another</p></a></li>
<li><a href='#mergeDF'><p>An Alternative Merge Operation</p></a></li>
<li><a href='#phone10'><p>10-digit US phone number</p></a></li>
<li><a href='#rbinds'><p>Row-Bind a list of data.frame</p></a></li>
<li><a href='#sample.by.int'><p>Indices of Stratified Sampling</p></a></li>
<li><a href='#sign2'><p>Sign of Difference of Two Objects</p></a></li>
<li><a href='#sourcePath'><p>Source All R Files under a Directory</p></a></li>
<li><a href='#splitDF'><p>Split data.frame by Row</p></a></li>
<li><a href='#style_basename'><p>Highlight Style for File Base Name</p></a></li>
<li><a href='#style_interaction'><p>Highlight Style for (interaction of) factors</p></a></li>
<li><a href='#style_samplesize'><p>Highlight Style for Sample Size</p></a></li>
<li><a href='#subset_'><p>Inspect a Subset of data.frame</p></a></li>
<li><a href='#Surv_3Date'><p>Create Surv Object using Three Dates</p></a></li>
<li><a href='#timeUnits'><p>Additional Time Units <code>'months'</code> and <code>'years'</code></p></a></li>
<li><a href='#TJU_Cayuse'><p>Award &amp; Effort from Cayuse</p></a></li>
<li><a href='#TJU_Fiscal_Year'><p>TJU Fiscal Year</p></a></li>
<li><a href='#TJU_SchoolTerm'><p>TJU School Term</p></a></li>
<li><a href='#TJU_Workday'><p>Thomas Jefferson University Workdays</p></a></li>
<li><a href='#trimws_'><p>Remove Leading/Trailing and Duplicated (Symbols that Look Like) White Spaces</p></a></li>
<li><a href='#units_difftime+26lt+3B-'><p>Set units of difftime Objects</p></a></li>
<li><a href='#zip5'><p>5-digit US Zip Code</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Handy Tools for TJU/TJUH Employees</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-07-01</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for admin needs of employees of
      Thomas Jefferson University and Thomas Jefferson
      University Hospital, Philadelphia, PA.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>lubridate, stringi, stringdist, survival, timeDate, utils,
writexl, zoo</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.4.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-01 17:06:25 UTC; tingtingzhan</td>
</tr>
<tr>
<td>Author:</td>
<td>Tingting Zhan <a href="https://orcid.org/0000-0001-9971-4844"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tingting Zhan &lt;tingtingzhan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-01 17:50:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='ThomasJeffersonUniv-package'>Handy Tools for TJU/TJUH Employees</h2><span id='topic+ThomasJeffersonUniv'></span><span id='topic+ThomasJeffersonUniv-package'></span>

<h3>Description</h3>

<p>Functions for admin needs of employees of Thomas Jefferson University
and Thomas Jefferson University Hospital, Philadelphia, PA.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Tingting Zhan <a href="mailto:tingtingzhan@gmail.com">tingtingzhan@gmail.com</a> (<a href="https://orcid.org/0000-0001-9971-4844">ORCID</a>) [copyright holder]
</p>

<hr>
<h2 id='addProbs'>Conditional and/or Marginal Probabilities</h2><span id='topic+addProbs'></span>

<h3>Description</h3>

<p>Add conditional and/or marginal probabilities to a two-way contingency table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addProbs(A, margin = seq_len(nd), fmt = "%d (%.1f%%)")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addProbs_+3A_a">A</code></td>
<td>
<p><a href="base.html#topic+matrix">matrix</a> of <a href="base.html#topic+typeof">typeof</a> <a href="base.html#topic+integer">integer</a>,
two-dimensional contingency table.  See <a href="stats.html#topic+addmargins">addmargins</a></p>
</td></tr>
<tr><td><code id="addProbs_+3A_margin">margin</code></td>
<td>
<p><a href="base.html#topic+integer">integer</a> scalar or <a href="base.html#topic+vector">vector</a>, see <a href="stats.html#topic+addmargins">addmargins</a></p>
</td></tr>
<tr><td><code id="addProbs_+3A_fmt">fmt</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar,
C-style string format with a <code style="white-space: pre;">&#8288;%d&#8288;</code> and an <code style="white-space: pre;">&#8288;%f%%&#8288;</code> for the counts and proportions (order enforced).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+addProbs">addProbs</a> provides the joint, marginal (using <code>margin = 1:2</code>)
and conditional (using <code>margin = 1L</code> or <code>margin = 2L</code>)
probabilities of a two-dimensional contingency table.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+addProbs">addProbs</a> returns an <code>'addProbs'</code> object, which inherits from <a href="base.html#topic+table">table</a> and <a href="base.html#topic+noquote">noquote</a>.
</p>


<h3>Note</h3>

<p><a href="base.html#topic+margin.table">margin.table</a>
(which is to be renamed as <a href="base.html#topic+marginSums">marginSums</a>)
is much slower than <a href="base.html#topic+colSums">colSums</a>.
</p>
<p>The use of argument <code>margin</code> is
the same as <a href="stats.html#topic+addmargins">addmargins</a>,
and different from <a href="base.html#topic+proportions">proportions</a>!
</p>


<h3>See Also</h3>

<p><a href="base.html#topic+rowSums">rowSums</a> <a href="base.html#topic+colSums">colSums</a> <a href="base.html#topic+proportions">proportions</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>addProbs(table(warpbreaks$tension))

storage.mode(VADeaths) = 'integer'
addProbs(VADeaths)
addProbs(VADeaths, margin = 1L)
rowSums(proportions(VADeaths, margin = 1L))
addmargins(VADeaths, margin = 1L)

</code></pre>

<hr>
<h2 id='allDates'>All <a href="base.html#topic+Date">Date</a>s in a Time Interval</h2><span id='topic+allDates'></span><span id='topic+allDates.integer'></span><span id='topic+allDates.character'></span><span id='topic+allDates.yearmon'></span><span id='topic+allDates.yearqtr'></span>

<h3>Description</h3>

<p>Find all <a href="base.html#topic+Date">Date</a>s in a time interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>allDates(x)

## S3 method for class 'integer'
allDates(x)

## S3 method for class 'character'
allDates(x)

## S3 method for class 'yearmon'
allDates(x)

## S3 method for class 'yearqtr'
allDates(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="allDates_+3A_x">x</code></td>
<td>
<p>R objects, such as
</p>

<dl>
<dt><a href="base.html#topic+integer">integer</a></dt><dd>
<p>year, e.g., <code>x = 2020L</code> returns all <a href="base.html#topic+Date">Date</a>s from 2020-01-01 to 2020-12-31</p>
</dd>
<dt><a href="zoo.html#topic+yearmon">yearmon</a></dt><dd>
<p>year-month object from package <a href="https://CRAN.R-project.org/package=zoo"><span class="pkg">zoo</span></a></p>
</dd>
<dt><a href="zoo.html#topic+yearqtr">yearqtr</a></dt><dd>
<p>year-quarter object from package <a href="https://CRAN.R-project.org/package=zoo"><span class="pkg">zoo</span></a></p>
</dd>
<dt><a href="base.html#topic+character">character</a></dt><dd>
<p>convertible to <a href="zoo.html#topic+yearmon">yearmon</a> or <a href="zoo.html#topic+yearqtr">yearqtr</a> object</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+allDates">allDates</a> returns all <a href="base.html#topic+Date">Date</a>s in a given time interval.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+allDates">allDates</a> returns a <a href="base.html#topic+Date">Date</a> <a href="base.html#topic+vector">vector</a>.
</p>

<hr>
<h2 id='anniversary'>Number of Anniversaries Between Two <a href="base.html#topic+Date">Date</a>s</h2><span id='topic+anniversary'></span>

<h3>Description</h3>

<p>Number of anniversaries between two dates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>anniversary(to, from)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="anniversary_+3A_to">to</code></td>
<td>
<p>an R object convertible to <a href="base.html#topic+POSIXlt">POSIXlt</a>,
end date/time</p>
</td></tr>
<tr><td><code id="anniversary_+3A_from">from</code></td>
<td>
<p>an R object convertible to <a href="base.html#topic+POSIXlt">POSIXlt</a>,
start date/time</p>
</td></tr>
</table>


<h3>Details</h3>


<ol>
<li> <p>Year difference between <code>from</code> and <code>to</code> dates are calculated
</p>
</li>
<li> <p>In either situation below, subtract one (1) year from the year difference obtained in Step 1.
</p>

<ul>
<li> <p>Month of <code>from</code> is later than month of <code>to</code>;
</p>
</li>
<li> <p>Months of <code>from</code> and <code>to</code> are the same, but day of <code>from</code> is later than day of <code>to</code>.
</p>
</li></ul>

<p>In either of such situations, the anniversary of the current year has not been reached.

</p>
</li>
<li> <p>If any element from Step 2 is negative, <a href="base.html#topic+stop">stop</a>.
</p>
</li></ol>



<h3>Value</h3>

<p>Function <a href="#topic+anniversary">anniversary</a> returns an <a href="base.html#topic+integer">integer</a> scalar or <a href="base.html#topic+vector">vector</a>.
</p>

<hr>
<h2 id='asDifftime'>Create Time Differences, Extended</h2><span id='topic+asDifftime'></span>

<h3>Description</h3>

<p>To create <a href="base.html#topic+difftime">difftime</a> object
with additional time units <code>'months'</code> and <code>'years'</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asDifftime(
  tim,
  units = names(timeUnits()),
  negative_do = stop(sQuote(deparse1(substitute(tim))), " has negative value!"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="asDifftime_+3A_tim">tim</code></td>
<td>
<p><a href="base.html#topic+numeric">numeric</a> or <a href="base.html#topic+difftime">difftime</a> object,
similar usage as in function <a href="base.html#topic+as.difftime">as.difftime</a></p>
</td></tr>
<tr><td><code id="asDifftime_+3A_units">units</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar,
similar usage as in function <a href="base.html#topic+as.difftime">as.difftime</a>,
but with additional options <code>'months'</code> and <code>'years'</code></p>
</td></tr>
<tr><td><code id="asDifftime_+3A_negative_do">negative_do</code></td>
<td>
<p>exception handling
if input <code>tim</code> has negative element(s).
Default is to <a href="base.html#topic+stop">stop</a></p>
</td></tr>
<tr><td><code id="asDifftime_+3A_...">...</code></td>
<td>
<p>additional parameters, currently not in use</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+asDifftime">asDifftime</a> improves function <a href="base.html#topic+as.difftime">as.difftime</a> in terms that
</p>

<ul>
<li> <p>If input <code>tim</code> is a <a href="base.html#topic+difftime">difftime</a> object,
function <a href="#topic+units_difftime+3C-">units_difftime&lt;-</a> is called and the unit of <code>tim</code> is updated.
In function <a href="base.html#topic+as.difftime">as.difftime</a>, <code>tim</code> is returned directly, i.e., parameter <code>units</code> is ignored
</p>
</li>
<li> <p>Time units <code>'months'</code> and <code>'years'</code> are supported,
in addition to <code>'secs'</code>, <code>'mins'</code>, <code>'hours'</code>, <code>'days'</code>, <code>'weeks'</code> supported in function <a href="base.html#topic+as.difftime">as.difftime</a>.
Moreover, partial matching (via function <a href="base.html#topic+match.arg">match.arg</a>) is allowed,
while function <a href="base.html#topic+as.difftime">as.difftime</a> requires exact matching.
</p>
</li>
<li> <p>End user may choose to <a href="base.html#topic+stop">stop</a> if <code>tim</code> has negative values.
Function <a href="base.html#topic+as.difftime">as.difftime</a> does not check for negative <code>tim</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>Function <a href="#topic+asDifftime">asDifftime</a> returns a <a href="base.html#topic+difftime">difftime</a> object.
</p>


<h3>Note</h3>

<p>Potential name clash with function <a href="units.html#topic+as_difftime">as_difftime</a>
</p>

<hr>
<h2 id='bibentry2rmd'>R Markdown Format of <a href="utils.html#topic+citation">citation</a> and/or <a href="utils.html#topic+bibentry">bibentry</a></h2><span id='topic+bibentry2rmd'></span>

<h3>Description</h3>

<p>R markdown format of a <a href="utils.html#topic+citation">citation</a> and/or <a href="utils.html#topic+bibentry">bibentry</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bibentry2rmd(x = "R")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bibentry2rmd_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar,
<code>'R'</code> (default) or name of an R package</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+bibentry2rmd">bibentry2rmd</a> beautifies the output from
function <code>utils:::format.bibentry</code> (with option <code>style = 'text'</code>)
in the following ways.
</p>

<ul>
<li><p>Line break <code>'\n'</code> is replaced by a white space;
</p>
</li>
<li><p>Fancy quotes <code class="reqn">``</code>, <code class="reqn">''</code>, <code class="reqn">`</code> and <code class="reqn">'</code> are removed;
</p>
</li>
<li><p>doi entries are shown as URLs with labels (in R markdown grammar).
</p>
</li></ul>



<h3>Value</h3>

<p>Function <a href="#topic+bibentry2rmd">bibentry2rmd</a> returns a <a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bibentry2rmd('survival')
if (FALSE) { # disabled for ?devtools::check
ap = rownames(installed.packages())
lapply(ap, FUN = bibentry2rmd)
}
</code></pre>

<hr>
<h2 id='checkCount'>Positive Counts in a <a href="base.html#topic+logical">logical</a> vector</h2><span id='topic+checkCount'></span>

<h3>Description</h3>

<p>Number and percentage of positive counts in a <a href="base.html#topic+logical">logical</a> <a href="base.html#topic+vector">vector</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkCount(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkCount_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+logical">logical</a> <a href="base.html#topic+vector">vector</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+checkCount">checkCount</a> returns a <a href="base.html#topic+character">character</a> scalar.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>checkCount(as.logical(infert$case))
</code></pre>

<hr>
<h2 id='checkDuplicated'>Inspect Duplicated Records in a <a href="base.html#topic+data.frame">data.frame</a></h2><span id='topic+checkDuplicated'></span>

<h3>Description</h3>

<p>To inspect duplicated records in a <a href="base.html#topic+data.frame">data.frame</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkDuplicated(
  data,
  f,
  dontshow = character(length = 0L),
  file = tempfile(pattern = "checkDuplicated_", fileext = ".xlsx"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkDuplicated_+3A_data">data</code></td>
<td>
<p><a href="base.html#topic+data.frame">data.frame</a></p>
</td></tr>
<tr><td><code id="checkDuplicated_+3A_f">f</code></td>
<td>
<p><a href="stats.html#topic+formula">formula</a>,
criteria of duplication, e.g.,
use <code>~ mrn</code> to identify duplicated <code>mrn</code>, or
use <code>~ mrn + visitdt</code> to identify duplicated <code>mrn:visitdt</code></p>
</td></tr>
<tr><td><code id="checkDuplicated_+3A_dontshow">dontshow</code></td>
<td>
<p>(optional) <a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a>,
variable names to be omitted in output diagnosis <code>file</code></p>
</td></tr>
<tr><td><code id="checkDuplicated_+3A_file">file</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar,
path of diagnosis file,
print out of substantial duplicates</p>
</td></tr>
<tr><td><code id="checkDuplicated_+3A_...">...</code></td>
<td>
<p>additional parameters, currently not in use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+checkDuplicated">checkDuplicated</a> returns a <a href="base.html#topic+data.frame">data.frame</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(d1 = data.frame(A = c(1, 1), B = c(NA_character_, 'text')))


(d2 = data.frame(A = c(1, 2), B = c(NA_character_, 'text')))

</code></pre>

<hr>
<h2 id='date_difftime_'>Concatenate a <a href="base.html#topic+Date">Date</a> and a <a href="base.html#topic+difftime">difftime</a> Object</h2><span id='topic+date_difftime_'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>date_difftime_(date_, difftime_, tz = "UTC", tol = sqrt(.Machine$double.eps))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="date_difftime__+3A_date_">date_</code></td>
<td>
<p>an R object containing <a href="base.html#topic+Date">Date</a> information</p>
</td></tr>
<tr><td><code id="date_difftime__+3A_difftime_">difftime_</code></td>
<td>
<p>a <a href="base.html#topic+difftime">difftime</a> object</p>
</td></tr>
<tr><td><code id="date_difftime__+3A_tz">tz</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar, time zone,
see <a href="base.html#topic+as.POSIXlt.Date">as.POSIXlt.Date</a> and <a href="base.html#topic+ISOdatetime">ISOdatetime</a></p>
</td></tr>
<tr><td><code id="date_difftime__+3A_tol">tol</code></td>
<td>
<p><a href="base.html#topic+numeric">numeric</a> scalar, tolerance in finding second.
Default <code>sqrt(.Machine$double.eps)</code> as in <a href="base.html#topic+all.equal.numeric">all.equal.numeric</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+date_difftime_">date_difftime_</a> returns a <a href="base.html#topic+POSIXct">POSIXct</a> object.
</p>


<h3>Note</h3>

<p>For now, I do not know how to force function <code>readxl::read_excel</code> to read a column
as <a href="base.html#topic+POSIXt">POSIXt</a>.
By default, such column will be read as <a href="base.html#topic+difftime">difftime</a>.
</p>
<p>See <code>lubridate:::date.default</code> for the handling of year and month!
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x = as.Date(c('2022-09-10', '2023-01-01', NA, '2022-12-31')))
y = as.difftime(c(47580.3, NA, 48060, 30660), units = 'secs')
units(y) = 'hours'
y
date_difftime_(x, y)
</code></pre>

<hr>
<h2 id='date_time_'>Concatenate Date and Time</h2><span id='topic+date_time_'></span>

<h3>Description</h3>

<p>Concatenate date and time information from two objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>date_time_(date_, time_)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="date_time__+3A_date_">date_</code></td>
<td>
<p>an R object containing <a href="base.html#topic+Date">Date</a> information</p>
</td></tr>
<tr><td><code id="date_time__+3A_time_">time_</code></td>
<td>
<p>an R object containing time (<a href="base.html#topic+POSIXt">POSIXt</a>) information</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+date_time_">date_time_</a> is useful as clinicians may put date and time in different columns.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+date_time_">date_time_</a> returns a <a href="base.html#topic+POSIXct">POSIXct</a> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(today = Sys.Date())
(y = ISOdatetime(year = c(1899, 2010), month = c(12, 3), day = c(31, 22), 
  hour = c(15, 3), min = 2, sec = 1, tz = 'UTC'))
date_time_(today, y)
</code></pre>

<hr>
<h2 id='format_named'>format_named</h2><span id='topic+format_named'></span>

<h3>Description</h3>

<p>format_named
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_named(x, sep = ": ", colored = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_named_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>,
or a <a href="base.html#topic+list">list</a> of <a href="base.html#topic+character">character</a> object.
Input <code>x</code> must be named</p>
</td></tr>
<tr><td><code id="format_named_+3A_sep">sep</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar, see <a href="base.html#topic+paste">paste</a></p>
</td></tr>
<tr><td><code id="format_named_+3A_colored">colored</code></td>
<td>
<p><a href="base.html#topic+logical">logical</a> scalar, whether use two different color
to separate each element, default <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+format_named">format_named</a> returns a <a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1 = c(a = 'a1', bc = '2\n3')
cat(format_named(x1), sep = '\n')
noout = lapply(format_named(x1), FUN = message)

x2 = list(a = '1\n2', b = character(), cd = '3\n4', efg = '5\n6\n7')
noout = lapply(format_named(x2, colored = FALSE), FUN = message)

x3 = c(a = '1\n2')
noout = lapply(format_named(x3), FUN = message)

</code></pre>

<hr>
<h2 id='hexavigesimalExcel'>Hexavigesimal (Base 26L) and Excel Columns</h2><span id='topic+hexavigesimalExcel'></span><span id='topic+Excel2int'></span><span id='topic+Excel2C'></span>

<h3>Description</h3>

<p>Convert between decimal, hexavigesimal in C-style, and hexavigesimal in Excel-style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Excel2int(x)

Excel2C(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hexavigesimalExcel_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a>,
which consists of (except missingness)
only letters <code>A</code> to <code>Z</code> and <code>a</code> to <code>z</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert between decimal, hexavigesimal in C-style, and hexavigesimal in Excel-style.
</p>

<table>
<tr>
 <td style="text-align: left;">
Decimal </td><td style="text-align: right;"> 0 </td><td style="text-align: right;"> 1 </td><td style="text-align: right;"> 25 </td><td style="text-align: right;"> 26 </td><td style="text-align: right;"> 27 </td><td style="text-align: right;"> 51 </td><td style="text-align: right;"> 52 </td><td style="text-align: right;"> 676 </td><td style="text-align: right;"> 702 </td><td style="text-align: right;"> 703 </td>
</tr>
<tr>
 <td style="text-align: left;">
Hexavigesimal; C </td><td style="text-align: right;"> <code>0</code> </td><td style="text-align: right;"> <code>1</code> </td><td style="text-align: right;"> <code>P</code> </td><td style="text-align: right;"> <code>10</code> </td><td style="text-align: right;"> <code>11</code> </td><td style="text-align: right;"> <code style="white-space: pre;">&#8288;1P&#8288;</code> </td><td style="text-align: right;"> <code>20</code> </td><td style="text-align: right;"> <code>100</code> </td><td style="text-align: right;"> <code>110</code> </td><td style="text-align: right;"> <code>111</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
Hexavigesimal; Excel </td><td style="text-align: right;"> <code>0</code> </td><td style="text-align: right;"> <code>A</code> </td><td style="text-align: right;"> <code>Y</code> </td><td style="text-align: right;"> <code>Z</code> </td><td style="text-align: right;"> <code>AA</code> </td><td style="text-align: right;"> <code>AY</code> </td><td style="text-align: right;"> <code>AZ</code> </td><td style="text-align: right;"> <code>YZ</code> </td><td style="text-align: right;"> <code>ZZ</code> </td><td style="text-align: right;"> <code>AAA</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Function <a href="#topic+Excel2C">Excel2C</a> converts
from hexavigesimal in Excel-style
to hexavigesimal in C-style.
</p>
<p>Function <a href="#topic+Excel2int">Excel2int</a> converts
from hexavigesimal in Excel-style
to decimal, using function <a href="#topic+Excel2C">Excel2C</a> and <a href="base.html#topic+strtoi">strtoi</a>.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+Excel2int">Excel2int</a> returns an
<a href="base.html#topic+integer">integer</a> <a href="base.html#topic+vector">vector</a>.
</p>
<p>Function <a href="#topic+Excel2C">Excel2C</a> returns a
<a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>.
</p>


<h3>References</h3>

<p><a href="http://mathworld.wolfram.com/Hexavigesimal.html">http://mathworld.wolfram.com/Hexavigesimal.html</a>
</p>


<h3>See Also</h3>

<p><a href="base.html#topic+as.hexmode">as.hexmode</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>int1 = c(NA_integer_, 1L, 25L, 26L, 27L, 51L, 52L, 676L, 702L, 703L)
Excel1 = c(NA_character_, 'A', 'Y', 'Z', 'AA', 'AY', 'AZ', 'YZ', 'ZZ', 'AAA')
C1 = c(NA_character_, '1', 'P', '10', '11', '1P', '20', '100', '110', '111')
stopifnot(identical(int1, Excel2int(Excel1)), identical(int1, strtoi(C1, base = 26L)))

int2 = c(NA_integer_, 1L, 4L, 19L, 37L, 104L, 678L)
Excel2 = c(NA_character_, 'a', 'D', 's', 'aK', 'cZ', 'Zb')
stopifnot(identical(int2, Excel2int(Excel2)))
Excel2C(Excel2)

head(swiss[Excel2int('A')])
</code></pre>

<hr>
<h2 id='matchDF'>Match Rows of One <a href="base.html#topic+data.frame">data.frame</a> to Another</h2><span id='topic+matchDF'></span>

<h3>Description</h3>

<p>To <a href="base.html#topic+match">match</a> the rows of one <a href="base.html#topic+data.frame">data.frame</a>
to the rows of another <a href="base.html#topic+data.frame">data.frame</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchDF(
  x,
  table = unique.data.frame(x),
  by = names(x),
  by.x = character(),
  by.table = character(),
  view.table = character(),
  trace = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="matchDF_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+data.frame">data.frame</a>, the rows of which to be matched.</p>
</td></tr>
<tr><td><code id="matchDF_+3A_table">table</code></td>
<td>
<p><a href="base.html#topic+data.frame">data.frame</a>, the rows of which to be matched <em>against</em>.</p>
</td></tr>
<tr><td><code id="matchDF_+3A_by">by</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a></p>
</td></tr>
<tr><td><code id="matchDF_+3A_by.x">by.x</code>, <code id="matchDF_+3A_by.table">by.table</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a></p>
</td></tr>
<tr><td><code id="matchDF_+3A_view.table">view.table</code></td>
<td>
<p>(optional) <a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a>,
variable names of <code>table</code> to be printed in fuzzy suggestion (if applicable)</p>
</td></tr>
<tr><td><code id="matchDF_+3A_trace">trace</code></td>
<td>
<p><a href="base.html#topic+logical">logical</a> scalar, to provide detailed diagnosis information, default <code>FALSE</code></p>
</td></tr>
<tr><td><code id="matchDF_+3A_...">...</code></td>
<td>
<p>additional parameters, currently not in use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+matchDF">matchDF</a> returns a <a href="base.html#topic+integer">integer</a> <a href="base.html#topic+vector">vector</a>
</p>


<h3>Note</h3>

<p>Unfortunately, R does not provide case-insensitive <a href="base.html#topic+match">match</a>.
Only case-insensitive <a href="base.html#topic+grep">grep</a> methods are available.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>DF = swiss[sample(nrow(swiss), size = 55, replace = TRUE), ]
matchDF(DF)
</code></pre>

<hr>
<h2 id='mergeDF'>An Alternative Merge Operation</h2><span id='topic+mergeDF'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeDF(
  x,
  table,
  by = character(),
  by.x = character(),
  by.table = character(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergeDF_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+data.frame">data.frame</a>, on which new columns will be added.
All rows of <code>x</code> will be retained in the returned object, <em>in their original order</em>.</p>
</td></tr>
<tr><td><code id="mergeDF_+3A_table">table</code></td>
<td>
<p><a href="base.html#topic+data.frame">data.frame</a>, columns of which will be added to <code>x</code>.
Not all rows of <code>table</code> will be included in the returned object</p>
</td></tr>
<tr><td><code id="mergeDF_+3A_by">by</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a></p>
</td></tr>
<tr><td><code id="mergeDF_+3A_by.x">by.x</code>, <code id="mergeDF_+3A_by.table">by.table</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a></p>
</td></tr>
<tr><td><code id="mergeDF_+3A_...">...</code></td>
<td>
<p>additional parameters of <a href="#topic+matchDF">matchDF</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+mergeDF">mergeDF</a> returns a <a href="base.html#topic+data.frame">data.frame</a>.
</p>


<h3>Note</h3>

<p>We avoid <a href="base.html#topic+merge.data.frame">merge.data.frame</a> as much as possible,
because it's slow and
even <code>sort = FALSE</code> may not completely retain the original order of input <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># examples inspired by ?merge.data.frame 

(authors = data.frame(
 surname = c('Tukey', 'Venables', 'Tierney', 'Ripley', 'McNeil'),
 nationality = c('US', 'Australia', 'US', 'UK', 'Australia'),
 deceased = c('yes', rep('no', 4))))
(books = data.frame(
 name = c('Tukey', 'Venables', 'Tierney', 'Ripley', 
  'Ripley', 'McNeil', 'R Core', 'Diggle'),
 title = c(
  'Exploratory Data Analysis',
  'Modern Applied Statistics',
  'LISP-STAT', 'Spatial Statistics', 'Stochastic Simulation',
  'Interactive Data Analysis', 'An Introduction to R',
  'Analysis of Longitudinal Data'),
 other.author = c(
  NA, 'Ripley', NA, NA, NA, NA, 'Venables &amp; Smith',
  'Heagerty &amp; Liang &amp; Scott Zeger')))

(m = mergeDF(books, authors, by.x = 'name', by.table = 'surname'))
attr(m, 'nomatch')

</code></pre>

<hr>
<h2 id='phone10'>10-digit US phone number</h2><span id='topic+phone10'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phone10(x, sep = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="phone10_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a></p>
</td></tr>
<tr><td><code id="phone10_+3A_sep">sep</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+phone10">phone10</a> converts all US and Canada (+1) phone numbers to 10-digit.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+phone10">phone10</a> returns a <a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a> of <a href="base.html#topic+nchar">nchar</a>-10.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = c(
 '+1(800)275-2273', # Apple
 '1-888-280-4331', # Amazon
 '000-000-0000'
)
phone10(x)
phone10(x, sep = '-')

</code></pre>

<hr>
<h2 id='rbinds'>Row-Bind a <a href="base.html#topic+list">list</a> of <a href="base.html#topic+data.frame">data.frame</a></h2><span id='topic+rbinds'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbinds(x, make.row.names = FALSE, ..., .id = "idx")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rbinds_+3A_x">x</code></td>
<td>
<p>a <a href="base.html#topic+list">list</a> of named <a href="base.html#topic+data.frame">data.frame</a></p>
</td></tr>
<tr><td><code id="rbinds_+3A_make.row.names">make.row.names</code>, <code id="rbinds_+3A_...">...</code></td>
<td>
<p>additional parameters of <a href="base.html#topic+rbind.data.frame">rbind.data.frame</a></p>
</td></tr>
<tr><td><code id="rbinds_+3A_.id">.id</code></td>
<td>
<p><a href="base.html#topic+character">character</a> value to specify the name of ID column,
nomenclature follows <a href="data.table.html#topic+rbindlist">rbindlist</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Yet to look into <code>ggplot2:::rbind_dfs</code> closely.
</p>
<p>Mine is slightly slower than the fastest alternatives, but I have more checks which are useful.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+rbinds">rbinds</a> returns a <a href="base.html#topic+data.frame">data.frame</a>.
</p>


<h3>References</h3>

<p><a href="https://stackoverflow.com/questions/2851327/combine-a-list-of-data-frames-into-one-data-frame">https://stackoverflow.com/questions/2851327/combine-a-list-of-data-frames-into-one-data-frame</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = list(A = swiss[1:3, 1:2], B = swiss[5:9, 1:2]) # list of 'data.frame'
rbinds(x)
rbinds(x, make.row.names = TRUE)

</code></pre>

<hr>
<h2 id='sample.by.int'>Indices of Stratified Sampling</h2><span id='topic+sample.by.int'></span>

<h3>Description</h3>

<p>Indices of Stratified Sampling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample.by.int(f, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sample.by.int_+3A_f">f</code></td>
<td>
<p><a href="base.html#topic+factor">factor</a></p>
</td></tr>
<tr><td><code id="sample.by.int_+3A_...">...</code></td>
<td>
<p>potential parameters of <a href="base.html#topic+sample.int">sample.int</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>End user should use <a href="base.html#topic+interaction">interaction</a> to combine multiple <a href="base.html#topic+factor">factor</a>s.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+sample.by.int">sample.by.int</a> returns an <a href="base.html#topic+integer">integer</a> <a href="base.html#topic+vector">vector</a>.
</p>


<h3>See Also</h3>

<p><code>dplyr::slice_sample</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id1 = sample.by.int(state.region, size = 2L)
state.region[id1]

id2 = sample.by.int(f = with(npk, interaction(N, P)), size = 2L)
npk[id2, c('N', 'P')] # each combination selected 2x

</code></pre>

<hr>
<h2 id='sign2'>Sign of Difference of Two Objects</h2><span id='topic+sign2'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sign2(
  e1,
  e2,
  name1 = substitute(e1),
  name2 = substitute(e2),
  na.detail = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sign2_+3A_e1">e1</code>, <code id="sign2_+3A_e2">e2</code></td>
<td>
<p>two R objects, must be both
<a href="base.html#topic+numeric">numeric</a> <a href="base.html#topic+vector">vector</a>s,
or <a href="base.html#topic+ordered">ordered</a> <a href="base.html#topic+factor">factor</a>s with the same <a href="base.html#topic+levels">levels</a></p>
</td></tr>
<tr><td><code id="sign2_+3A_name1">name1</code>, <code id="sign2_+3A_name2">name2</code></td>
<td>
<p>two <a href="base.html#topic+language">language</a> objects, or <a href="base.html#topic+character">character</a> scalars</p>
</td></tr>
<tr><td><code id="sign2_+3A_na.detail">na.detail</code></td>
<td>
<p><a href="base.html#topic+logical">logical</a> scalar,
whether to provide the missingness details of <code>e1</code> and <code>e2</code>.
Default <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sign2_+3A_...">...</code></td>
<td>
<p>additional parameters, currently not in use</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+sign2">sign2</a> extends <a href="base.html#topic+sign">sign</a> in the following ways
</p>

<ul>
<li> <p>two <a href="base.html#topic+ordered">ordered</a> <a href="base.html#topic+factor">factor</a>s can be compared;
</p>
</li>
<li> <p>(detailed) information on missingness are provided.
</p>
</li></ul>



<h3>Value</h3>

<p>Function <a href="#topic+sign2">sign2</a> returns <a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a> when <code>na.detail = TRUE</code>, or
<a href="base.html#topic+ordered">ordered</a> <a href="base.html#topic+factor">factor</a> when <code>na.detail = FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lv = letters[c(1,3,2)]
x0 = letters[1:3]
x = ordered(sample(x0, size = 100, replace = TRUE), levels = lv)
y = ordered(sample(x0, size = 50, replace = TRUE), levels = lv)
x &lt; y # base R ok
pmax(x, y) # base R okay
pmin(x, y) # base R okay
x[c(1,3)] = NA
y[c(3,5)] = NA
table(sign(unclass(y) - unclass(x)))
table(sign2(x, y))
table(sign2(x, y, na.detail = FALSE), useNA = 'always')

</code></pre>

<hr>
<h2 id='sourcePath'>Source All R Files under a Directory</h2><span id='topic+sourcePath'></span>

<h3>Description</h3>

<p><a href="base.html#topic+source">source</a> all <code style="white-space: pre;">&#8288;*.R&#8288;</code> and <code style="white-space: pre;">&#8288;*.r&#8288;</code> files under a directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sourcePath(path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sourcePath_+3A_path">path</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar, parent directory of <code>.R</code> files</p>
</td></tr>
<tr><td><code id="sourcePath_+3A_...">...</code></td>
<td>
<p>additional parameters of <a href="base.html#topic+source">source</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+sourcePath">sourcePath</a> does not have a returned value
</p>

<hr>
<h2 id='splitDF'>Split <a href="base.html#topic+data.frame">data.frame</a> by Row</h2><span id='topic+splitDF'></span>

<h3>Description</h3>

<p><a href="base.html#topic+split.data.frame">split.data.frame</a> into individual rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitDF(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="splitDF_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+data.frame">data.frame</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+splitDF">splitDF</a> returns a <a href="base.html#topic+list">list</a> of <a href="base.html#topic+nrow">nrow</a>-1 <a href="base.html#topic+data.frame">data.frame</a>s.
</p>


<h3>Note</h3>

<p>We use <a href="base.html#topic+split.data.frame">split.data.frame</a> with argument <code>f</code> being <code>attr(x, which = 'row.names', exact = TRUE)</code> instead of
<code>seq_len(.row_names_info(x, type = 2L))</code>,
not only because the former is faster, but also <a href="base.html#topic+.rowNamesDF+3C-">.rowNamesDF&lt;-</a> enforces
that <a href="base.html#topic+row.names.data.frame">row.names.data.frame</a> must be unique.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>splitDF(head(mtcars)) # data.frame with rownames
splitDF(head(warpbreaks)) # data.frame without rownames
splitDF(data.frame()) # exception
</code></pre>

<hr>
<h2 id='style_basename'>Highlight Style for File Base Name</h2><span id='topic+style_basename'></span>

<h3>Description</h3>

<p>Highlight Style for File Base Name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style_basename(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="style_basename_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+style_basename">style_basename</a> returns a <a href="base.html#topic+character">character</a> scalar.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(style_basename('./a/b.R'))
message(style_basename('./a/b.R'))

</code></pre>

<hr>
<h2 id='style_interaction'>Highlight Style for (<a href="base.html#topic+interaction">interaction</a> of) <a href="base.html#topic+factor">factor</a>s</h2><span id='topic+style_interaction'></span>

<h3>Description</h3>

<p>Highlight Style for (<a href="base.html#topic+interaction">interaction</a> of) <a href="base.html#topic+factor">factor</a>s
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style_interaction(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="style_interaction_+3A_x">x</code></td>
<td>
<p><a href="stats.html#topic+formula">formula</a> or <a href="base.html#topic+character">character</a> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+style_interaction">style_interaction</a> returns a <a href="base.html#topic+character">character</a> scalar.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(style_interaction(letters[1:3]))
message(style_interaction(letters[1:3]))
cat(style_interaction(~ mrn + dob))

</code></pre>

<hr>
<h2 id='style_samplesize'>Highlight Style for Sample Size</h2><span id='topic+style_samplesize'></span>

<h3>Description</h3>

<p>Highlight Style for Sample Size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style_samplesize(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="style_samplesize_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+integer">integer</a> scalar</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+style_samplesize">style_samplesize</a> returns a <a href="base.html#topic+character">character</a> scalar.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(style_samplesize(30L))
message(style_samplesize(30L))

</code></pre>

<hr>
<h2 id='subset_'>Inspect a Subset of <a href="base.html#topic+data.frame">data.frame</a></h2><span id='topic+subset_'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subset_(x, subset, select, select_pattern, avoid, avoid_pattern)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subset__+3A_x">x</code></td>
<td>
<p>a <a href="base.html#topic+data.frame">data.frame</a></p>
</td></tr>
<tr><td><code id="subset__+3A_subset">subset</code></td>
<td>
<p><a href="base.html#topic+logical">logical</a> <a href="base.html#topic+expression">expression</a>,
see function <a href="base.html#topic+subset.data.frame">subset.data.frame</a></p>
</td></tr>
<tr><td><code id="subset__+3A_select">select</code></td>
<td>
<p><a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>,
columns to be selected,
see function <a href="base.html#topic+subset.data.frame">subset.data.frame</a></p>
</td></tr>
<tr><td><code id="subset__+3A_select_pattern">select_pattern</code></td>
<td>
<p>regular expression <a href="base.html#topic+regex">regex</a>
for multiple columns to be selected</p>
</td></tr>
<tr><td><code id="subset__+3A_avoid">avoid</code></td>
<td>
<p><a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>,
columns to be avoided</p>
</td></tr>
<tr><td><code id="subset__+3A_avoid_pattern">avoid_pattern</code></td>
<td>
<p>regular expression <a href="base.html#topic+regex">regex</a>,
for multiple columns to be avoided</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+subset_">subset_</a> is different from
<a href="base.html#topic+subset.data.frame">subset.data.frame</a>, such that
</p>

<ul>
<li> <p>if both <code>select</code> and <code>select_pattern</code> are missing, only variables mentioned in <code>subset</code> are selected;
</p>
</li>
<li> <p>be able to select all variables, except those in <code>avoid</code> and <code>avoid_pattern</code>;
</p>
</li>
<li> <p>always returns <a href="base.html#topic+data.frame">data.frame</a>, i.e., forces <code>drop = FALSE</code>
</p>
</li></ul>



<h3>Value</h3>

<p>Function <a href="#topic+subset_">subset_</a> returns a <a href="base.html#topic+data.frame">data.frame</a>, with additional <a href="base.html#topic+attributes">attributes</a>
</p>

<dl>
<dt><code>attr(,'vline')</code></dt><dd><p><a href="base.html#topic+integer">integer</a> scalar,
position of a vertical line (see <code>?flextable::vline</code>)</p>
</dd>
<dt><code style="white-space: pre;">&#8288;attr(,'jhighlight)'&#8288;</code></dt><dd><p><a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>,
names of columns to be <code>flextable::highlight</code>ed.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>subset_(trees, Girth &gt; 9 &amp; Height &lt; 70)
subset_(swiss, Fertility &gt; 80, avoid = 'Catholic')
subset_(warpbreaks, wool == 'K')

</code></pre>

<hr>
<h2 id='Surv_3Date'>Create <a href="survival.html#topic+Surv">Surv</a> Object using Three <a href="base.html#topic+Date">Date</a>s</h2><span id='topic+Surv_3Date'></span>

<h3>Description</h3>

<p>Create right-censored <a href="survival.html#topic+Surv">Surv</a> object using start, stop and censoring dates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Surv_3Date(start, stop, censor, units = "years", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Surv_3Date_+3A_start">start</code>, <code id="Surv_3Date_+3A_stop">stop</code>, <code id="Surv_3Date_+3A_censor">censor</code></td>
<td>
<p><a href="base.html#topic+Date">Date</a>, <a href="base.html#topic+POSIXlt">POSIXlt</a> or <a href="base.html#topic+POSIXct">POSIXct</a> object</p>
</td></tr>
<tr><td><code id="Surv_3Date_+3A_units">units</code></td>
<td>
<p>(optional) <a href="base.html#topic+character">character</a> scalar, time units</p>
</td></tr>
<tr><td><code id="Surv_3Date_+3A_...">...</code></td>
<td>
<p>potential parameters, currently not in use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+Surv_3Date">Surv_3Date</a> returns a <a href="survival.html#topic+Surv">Surv</a> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
d1 = within(survival::udca, expr = {
  edp_yr = Surv_3Date(entry.dt, death.dt, last.dt, units = 'years')
  edp_mon = Surv_3Date(entry.dt, death.dt, last.dt, units = 'months') 
})
head(d1)

noout = within(survival::udca, expr = {
  edp_bug = Surv_3Date(entry.dt, death.dt, as.Date('1991-01-01'), units = 'months') 
})
subset(survival::udca, subset = entry.dt &gt; as.Date('1991-01-01')) # check error as suggested

</code></pre>

<hr>
<h2 id='timeUnits'>Additional Time Units <code>'months'</code> and <code>'years'</code></h2><span id='topic+timeUnits'></span>

<h3>Description</h3>

<p>To support additional time units <code>'months'</code> and <code>'years'</code> for <a href="base.html#topic+difftime">difftime</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timeUnits()
</code></pre>


<h3>Details</h3>

<p>Every 4 years has <code style="white-space: pre;">&#8288;1461(=365*4+1)&#8288;</code> days, or <code style="white-space: pre;">&#8288;48(=4*12)&#8288;</code> months.
Therefore, every month has <code style="white-space: pre;">&#8288;30.44(=1461/48)&#8288;</code> days, or <code style="white-space: pre;">&#8288;4.35(=1461/48/7)&#8288;</code> weeks.
</p>
<p>Every year has 12 months.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+timeUnits">timeUnits</a> returns a named constant <a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>.
</p>


<h3>Note</h3>

<p>Function <a href="base.html#topic+units+3C-.difftime">units&lt;-.difftime</a>
only supports
<code>'secs'</code>, <code>'mins'</code>, <code>'hours'</code>, <code>'days'</code>, <code>'weeks'</code>.
</p>

<hr>
<h2 id='TJU_Cayuse'>Award &amp; Effort from Cayuse</h2><span id='topic+TJU_Cayuse'></span><span id='topic+aggregateAwards'></span><span id='topic+viewProposal'></span><span id='topic+viewAward'></span><span id='topic+award2LaTeX'></span>

<h3>Description</h3>

<p>Print out grant and effort from Cayuse.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregateAwards(path = "~/Downloads", fiscal.year = year(Sys.Date()))

viewProposal(path = "~/Downloads", fiscal.year = year(Sys.Date()))

viewAward(path = "~/Downloads")

award2LaTeX(path = "~/Downloads")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="TJU_Cayuse_+3A_path">path</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar, directory of downloaded award <code>.csv</code> file.
Default is the download directory <code>'~/Downloads'</code></p>
</td></tr>
<tr><td><code id="TJU_Cayuse_+3A_fiscal.year">fiscal.year</code></td>
<td>
<p><a href="base.html#topic+integer">integer</a> scalar</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p>go to <code style="white-space: pre;">&#8288;https://jefferson.cayuse424.com/sp/index.cfm&#8288;</code>
</p>
</li>
<li> <p>My Proposals -&gt; Submitted Proposals.
Lower-right corner of screen, 'Export to CSV'.
Downloaded file has name pattern <code>'^proposals_.*\\.csv'</code>
</p>
</li>
<li> <p>My Awards -&gt; Awards (<em>not</em> 'Active Projects').
Lower-right corner of screen, 'View All', then 'Export to CSV'.
Downloaded file has name pattern <code>'^Awards_.*\\.csv'</code>
</p>
</li>
<li> <p>My Awards -&gt; Awards.  Click into each project, under 'People' tab to find my
'Sponsored Effort'
</p>
</li></ul>

<p>Function <a href="#topic+aggregateAwards">aggregateAwards</a> aggregates grant over different period
(e.g. from Axx-xx-001, Axx-xx-002, Axx-xx-003 to Axx-xx).
Then we need to manually added in our 'Sponsored Effort' in the returned <code>.csv</code> file.
</p>


<h3>Value</h3>

<p>..
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
aggregateAwards()
viewAward()
viewProposal()
award2LaTeX()
}

</code></pre>

<hr>
<h2 id='TJU_Fiscal_Year'>TJU Fiscal Year</h2><span id='topic+TJU_Fiscal_Year'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TJU_Fiscal_Year(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="TJU_Fiscal_Year_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+integer">integer</a> scalar</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <a href="#topic+TJU_Fiscal_Year">TJU_Fiscal_Year</a> returns a length-two <a href="base.html#topic+Date">Date</a> <a href="base.html#topic+vector">vector</a>,
indicating the start (July 1 of the previous calendar year) and end date (June 30) of a fiscal year.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>TJU_Fiscal_Year(2022L)

</code></pre>

<hr>
<h2 id='TJU_SchoolTerm'>TJU School Term</h2><span id='topic+TJU_SchoolTerm'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TJU_SchoolTerm(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="TJU_SchoolTerm_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+Date">Date</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="#topic+TJU_SchoolTerm">TJU_SchoolTerm</a> returns a <a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>TJU_SchoolTerm(as.Date(c('2021-03-14', '2022-01-01', '2022-05-01')))

</code></pre>

<hr>
<h2 id='TJU_Workday'>Thomas Jefferson University Workdays</h2><span id='topic+TJU_Workday'></span>

<h3>Description</h3>

<p>To summarize the number of workdays, weekends, holidays and vacations in a given time-span
(e.g., a month or a quarter of a year).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TJU_Workday(x, vacations)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="TJU_Workday_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a> (e.g.,
<code>'2021-01'</code> for January 2021,
<code>'2021 Q1'</code> for 2021 Q1 (January to March)), or
<a href="base.html#topic+integer">integer</a> scalar or <a href="base.html#topic+vector">vector</a> (e.g., <code>2021L</code> for year 2021);
The time-span to be summarized.
Objects of classes <a href="zoo.html#topic+yearqtr">yearqtr</a> and <a href="zoo.html#topic+yearmon">yearmon</a> are also accepted.</p>
</td></tr>
<tr><td><code id="TJU_Workday_+3A_vacations">vacations</code></td>
<td>
<p><a href="base.html#topic+Date">Date</a> <a href="base.html#topic+vector">vector</a>, vacation days</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+TJU_Workday">TJU_Workday</a> summarizes the workdays, weekends,
Jefferson paid holidays
(New Years Day, Martin Luther King, Jr. Day, Memorial Day, Fourth of July, Labor Day, Thanksgiving and Christmas)
and your vacation (e.g., sick, personal, etc.) days (if any),
in a given time-span.
</p>
<p>Per Jefferson policy (source needed),
if a holiday is on Saturday, then the preceding Friday is considered to be a weekend day.
If a holiday is on Sunday, then the following Monday is considered to be a weekend day.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+TJU_Workday">TJU_Workday</a> returns a <a href="base.html#topic+factor">factor</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>table(TJU_Workday(c('2021-01', '2021-02')))

tryCatch(TJU_Workday(c('2019-10', '2019-12')), error = identity)
table(c(TJU_Workday('2019-10'), TJU_Workday('2019-12'))) # work-around

table(TJU_Workday('2022-12'))

table(TJU_Workday('2022 Q1', vacations = seq.Date(
 from = as.Date('2022-03-14'), to = as.Date('2022-03-18'), by = 1)))
 
table(TJU_Workday('2022 Q2', vacations = as.Date(c(
 '2022-05-22', '2022-05-30', '2022-06-01', '2022-07-04'))))
 
table(TJU_Workday(2021L))

</code></pre>

<hr>
<h2 id='trimws_'>Remove Leading/Trailing and Duplicated (Symbols that Look Like) White Spaces</h2><span id='topic+trimws_'></span>

<h3>Description</h3>

<p>To remove leading/trailing and duplicated (symbols that look like) white spaces.
</p>
<p>More aggressive than function <a href="base.html#topic+trimws">trimws</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trimws_(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trimws__+3A_x">x</code></td>
<td>
<p>an object with <a href="base.html#topic+typeof">typeof</a> being <a href="base.html#topic+character">character</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+trimws_">trimws_</a> is more aggressive than <a href="base.html#topic+trimws">trimws</a>, that it removes
</p>

<ul>
<li> <p>duplicated white spaces
</p>
</li>
<li> <p>symbols that look like white space, such as <code style="white-space: pre;">&#8288;\u00a0&#8288;</code> (no-break space)
</p>
</li></ul>



<h3>Value</h3>

<p>Function <a href="#topic+trimws_">trimws_</a> returns an object of <a href="base.html#topic+typeof">typeof</a> <a href="base.html#topic+character">character</a>.
</p>


<h3>Note</h3>

<p><a href="base.html#topic+gsub">gsub</a> keeps <a href="base.html#topic+attributes">attributes</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x = c(A = ' a  b  ', b = 'a .  s', ' a  ,  b ; ', '\u00a0  ab '))
base::trimws(x)
# raster::trim(x) # do not want to 'Suggests'
trimws_(x)

(xm = matrix(x, nrow = 2L))
trimws_(xm)

#library(microbenchmark)
#microbenchmark(trimws(x), trimws_(x))

</code></pre>

<hr>
<h2 id='units_difftime+26lt+3B-'>Set <a href="base.html#topic+units">units</a> of <a href="base.html#topic+difftime">difftime</a> Objects</h2><span id='topic+units_difftime+3C-'></span>

<h3>Description</h3>

<p>Set <a href="base.html#topic+units">units</a> of <a href="base.html#topic+difftime">difftime</a> objects,
with additional support of <code>'months'</code> and <code>'years'</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>units_difftime(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="units_difftime+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+difftime">difftime</a> object</p>
</td></tr>
<tr><td><code id="units_difftime+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar, choice of unit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+units_difftime+3C-">units_difftime&lt;-</a> supports <code>'months'</code> and <code>'years'</code>
in addition to <code>'secs'</code>, <code>'mins'</code>, <code>'hours'</code>, <code>'days'</code>, <code>'weeks'</code>
supported in function <a href="base.html#topic+units+3C-.difftime">units&lt;-.difftime</a>.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+units_difftime+3C-">units_difftime&lt;-</a> returns a <a href="base.html#topic+difftime">difftime</a> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x = Sys.Date() - as.Date('2021-01-01'))
tryCatch(units(x) &lt;- 'months', error = identity)
units_difftime(x) &lt;- 'months'; x
units_difftime(x) &lt;- 'years'; x

</code></pre>

<hr>
<h2 id='zip5'>5-digit US Zip Code</h2><span id='topic+zip5'></span>

<h3>Description</h3>

<p>..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zip5(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zip5_+3A_x">x</code></td>
<td>
<p><a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <a href="#topic+zip5">zip5</a> converts all US zip codes to 5-digit.
</p>


<h3>Value</h3>

<p>Function <a href="#topic+zip5">zip5</a> returns a <a href="base.html#topic+character">character</a> <a href="base.html#topic+vector">vector</a> of <a href="base.html#topic+nchar">nchar</a>-5.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>zip5(c('14901', '41452-1423'))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package tidygeocoder</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidygeocoder}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tidygeocoder-package'><p>The tidygeocoder package makes getting data from geocoder services easy.</p></a></li>
<li><a href='#api_info_reference'><p>Geocoding service links and information</p></a></li>
<li><a href='#api_key_reference'><p>API key environmental variables</p></a></li>
<li><a href='#api_parameter_reference'><p>Geocoding service API parameter reference</p></a></li>
<li><a href='#batch_limit_reference'><p>Geocoding batch size limits</p></a></li>
<li><a href='#extract_results'><p>Extract forward geocoding results</p></a></li>
<li><a href='#extract_reverse_results'><p>Extract reverse geocoding results</p></a></li>
<li><a href='#geo'><p>Geocode addresses</p></a></li>
<li><a href='#geo_census'><p>Convenience functions for calling <code>geo()</code></p></a></li>
<li><a href='#geo_combine'><p>Combine multiple geocoding queries</p></a></li>
<li><a href='#geocode'><p>Geocode addresses in a dataframe</p></a></li>
<li><a href='#geocode_combine'><p>Combine multiple geocoding queries</p></a></li>
<li><a href='#get_api_query'><p>Construct a geocoder API query</p></a></li>
<li><a href='#louisville'><p>Louisville, Kentucky street addresses</p></a></li>
<li><a href='#min_time_reference'><p>Minimum time required per query</p></a></li>
<li><a href='#query_api'><p>Execute a geocoder API query</p></a></li>
<li><a href='#reverse_geo'><p>Reverse geocode coordinates</p></a></li>
<li><a href='#reverse_geocode'><p>Reverse geocode coordinates in a dataframe</p></a></li>
<li><a href='#sample_addresses'><p>Sample addresses for testing</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Geocoding Made Easy</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Description:</td>
<td>An intuitive interface for getting data from geocoding services. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://jessecambon.github.io/tidygeocoder/">https://jessecambon.github.io/tidygeocoder/</a>,
<a href="https://github.com/jessecambon/tidygeocoder">https://github.com/jessecambon/tidygeocoder</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jessecambon/tidygeocoder/issues">https://github.com/jessecambon/tidygeocoder/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>tibble, dplyr, httr, jsonlite, lifecycle, progress</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, ggplot2, ggrepel, maps, testthat (&ge; 3.0.2)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-02 18:45:19 UTC; cambonator</td>
</tr>
<tr>
<td>Author:</td>
<td>Jesse Cambon <a href="https://orcid.org/0000-0001-6854-1514"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Diego Hernangómez <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Christopher Belanger
    <a href="https://orcid.org/0000-0003-2070-5721"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Daniel Possenriede
    <a href="https://orcid.org/0000-0002-6738-9845"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jesse Cambon &lt;jesse.cambon@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-02 22:20:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='tidygeocoder-package'>The tidygeocoder package makes getting data from geocoder services easy.</h2><span id='topic+tidygeocoder'></span><span id='topic+tidygeocoder-package'></span>

<h3>Description</h3>

<p>The <a href="#topic+geocode">geocode</a> and <a href="#topic+geo">geo</a> functions are for forward geocoding while
the <a href="#topic+reverse_geocode">reverse_geocode</a> and <a href="#topic+reverse_geo">reverse_geo</a> functions are for reverse geocoding.
Refer to the documentation on the <code>method</code> argument in the <a href="#topic+geo">geo</a> and <a href="#topic+reverse_geo">reverse_geo</a> functions
for more details on the available geocoding services. Also see <code>vignette("tidygeocoder")</code>
for example usage.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jesse Cambon <a href="mailto:jesse.cambon@gmail.com">jesse.cambon@gmail.com</a> (<a href="https://orcid.org/0000-0001-6854-1514">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Diego Hernangómez <a href="mailto:diego.hernangomezherrero@gmail.com">diego.hernangomezherrero@gmail.com</a> (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>)
</p>
</li>
<li><p> Christopher Belanger <a href="mailto:christopher.a.belanger@gmail.com">christopher.a.belanger@gmail.com</a> (<a href="https://orcid.org/0000-0003-2070-5721">ORCID</a>)
</p>
</li>
<li><p> Daniel Possenriede <a href="mailto:possenriede+r@gmail.com">possenriede+r@gmail.com</a> (<a href="https://orcid.org/0000-0002-6738-9845">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://jessecambon.github.io/tidygeocoder/">https://jessecambon.github.io/tidygeocoder/</a>
</p>
</li>
<li> <p><a href="https://github.com/jessecambon/tidygeocoder">https://github.com/jessecambon/tidygeocoder</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/jessecambon/tidygeocoder/issues">https://github.com/jessecambon/tidygeocoder/issues</a>
</p>
</li></ul>


<hr>
<h2 id='api_info_reference'>Geocoding service links and information</h2><span id='topic+api_info_reference'></span>

<h3>Description</h3>

<p>This dataset is used for generating package documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>api_info_reference
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe
</p>

<dl>
<dt>method</dt><dd><p>Geocoding service name</p>
</dd>
<dt>method_display_name</dt><dd><p>Geocoding service display name</p>
</dd>
<dt>site_url</dt><dd><p>Link to the main site of the geocoding service</p>
</dd>
<dt>api_documentation_url</dt><dd><p>Link to API documentation</p>
</dd>
<dt>api_usage_policy_url</dt><dd><p>Link to the usage policy</p>
</dd>
</dl>


<hr>
<h2 id='api_key_reference'>API key environmental variables</h2><span id='topic+api_key_reference'></span>

<h3>Description</h3>

<p>API keys are obtained from environmental variables.
The <a href="#topic+geo">geo</a> and <a href="#topic+reverse_geo">reverse_geo</a> functions use this dataset
to know which environmental variable to use for
each geocoding service.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>api_key_reference
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe
</p>

<dl>
<dt>method</dt><dd><p>Geocoding service name</p>
</dd>
<dt>env_var</dt><dd><p>Environmental variable name</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="#topic+geo">geo</a> <a href="#topic+reverse_geo">reverse_geo</a>
</p>

<hr>
<h2 id='api_parameter_reference'>Geocoding service API parameter reference</h2><span id='topic+api_parameter_reference'></span>

<h3>Description</h3>

<p>This dataset contains the mapping that allows this package to use a
universal syntax to specify parameters for different geocoding services.
Note that latitude and longitude input parameters for reverse geocoding
are not in this dataset and are instead handled directly by the <a href="#topic+reverse_geo">reverse_geo</a> function.
</p>
<p>The <code>generic_name</code> column is a universal parameter name that is shared between services.
The <code>api_name</code> column is the parameter name for the given geocoding service specified by the
<code>method</code> column. When <code>generic_name</code> is missing
this means the parameter is specific to that geocoding service.
</p>
<p>While the &quot;census&quot; and &quot;google&quot; services do not have a <code>limit</code>
argument in their APIs, tidygeocoder provides a passthrough so you can still
use the <code>limit</code> argument in <a href="#topic+geo">geo</a> and <a href="#topic+reverse_geo">reverse_geo</a> to limit the
number of results per input.
</p>
<p>Note that some geocoding services only use the <code>limit</code> argument for forward geocoding.
Refer to API documentation of each service for more information.
</p>
<p>Reference the documentation for <a href="#topic+geo">geo</a> and <a href="#topic+reverse_geo">reverse_geo</a> for more information.
Also reference <code>vignette("tidygeocoder")</code> for more details on constructing API queries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>api_parameter_reference
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe
</p>

<dl>
<dt>method</dt><dd><p>Geocoding service name</p>
</dd>
<dt>generic_name</dt><dd><p>Universal parameter name</p>
</dd>
<dt>api_name</dt><dd><p>Name of the parameter for the specified geocoding service</p>
</dd>
<dt>default_value</dt><dd><p>Default value of the parameter</p>
</dd>
<dt>required</dt><dd><p>Is the parameter required by the specified geocoding service?</p>
</dd>
</dl>



<h3>Details</h3>

<p>The API documentation for each service is linked to below:
</p>

<ul>
<li> <p><a href="https://nominatim.org/release-docs/develop/api/Search/">Nominatim</a>
</p>
</li>
<li> <p><a href="https://www.census.gov/programs-surveys/geography/technical-documentation/complete-technical-documentation/census-geocoder.html">US Census</a>
</p>
</li>
<li> <p><a href="https://developers.arcgis.com/rest/geocode/api-reference/overview-world-geocoding-service.htm">ArcGIS</a>
</p>
</li>
<li> <p><a href="https://www.geocod.io/docs/">Geocodio</a>
</p>
</li>
<li> <p><a href="https://locationiq.com/docs">Location IQ</a>
</p>
</li>
<li> <p><a href="https://developers.google.com/maps/documentation/geocoding/overview">Google</a>
</p>
</li>
<li> <p><a href="https://opencagedata.com/api">OpenCage</a>
</p>
</li>
<li> <p><a href="https://docs.mapbox.com/api/search/geocoding/">Mapbox</a>
</p>
</li>
<li> <p><a href="https://developer.here.com/documentation/geocoding-search-api/dev_guide/index.html">HERE</a>
</p>
</li>
<li> <p><a href="https://developer.tomtom.com/search-api/search-api-documentation-geocoding/geocode">TomTom</a>
</p>
</li>
<li> <p><a href="https://developer.mapquest.com/documentation/geocoding-api/">MapQuest</a>
</p>
</li>
<li> <p><a href="https://docs.microsoft.com/en-us/bingmaps/rest-services/locations/">Bing</a>
</p>
</li>
<li> <p><a href="https://apidocs.geoapify.com/docs/geocoding/api/">Geoapify</a>
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+geo">geo</a> <a href="#topic+reverse_geo">reverse_geo</a> <a href="#topic+get_api_query">get_api_query</a> <a href="#topic+query_api">query_api</a> <a href="#topic+min_time_reference">min_time_reference</a> <a href="#topic+batch_limit_reference">batch_limit_reference</a>
</p>

<hr>
<h2 id='batch_limit_reference'>Geocoding batch size limits</h2><span id='topic+batch_limit_reference'></span>

<h3>Description</h3>

<p>The <a href="#topic+geo">geo</a> and <a href="#topic+reverse_geo">reverse_geo</a> functions use this dataset to set the
maximum batch query size for each service.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>batch_limit_reference
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe
</p>

<dl>
<dt>method</dt><dd><p>Geocoding service name</p>
</dd>
<dt>batch_limit</dt><dd><p>The maximum number of addresses or coordinates allowed per batch</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="#topic+geo">geo</a> <a href="#topic+reverse_geo">reverse_geo</a>
</p>

<hr>
<h2 id='extract_results'>Extract forward geocoding results</h2><span id='topic+extract_results'></span>

<h3>Description</h3>

<p>Parses the output of the <a href="#topic+query_api">query_api</a> function for single
address geocoding (ie. not batch geocoding).
Latitude and longitude are extracted into the first two columns
of the returned dataframe.  Refer to  <a href="#topic+query_api">query_api</a> for example
usage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_results(
  method,
  response,
  full_results = TRUE,
  flatten = TRUE,
  limit = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_results_+3A_method">method</code></td>
<td>
<p>method name</p>
</td></tr>
<tr><td><code id="extract_results_+3A_response">response</code></td>
<td>
<p>content from the geocoding service (returned by the <a href="#topic+query_api">query_api</a> function)</p>
</td></tr>
<tr><td><code id="extract_results_+3A_full_results">full_results</code></td>
<td>
<p>if TRUE then the full results (not just latitude and longitude)
will be returned.</p>
</td></tr>
<tr><td><code id="extract_results_+3A_flatten">flatten</code></td>
<td>
<p>if TRUE then flatten any nested dataframe content</p>
</td></tr>
<tr><td><code id="extract_results_+3A_limit">limit</code></td>
<td>
<p>only used for &quot;census&quot; and &quot;google&quot; methods. Limits number of results per address.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>geocoding results in tibble format
</p>


<h3>See Also</h3>

<p><a href="#topic+get_api_query">get_api_query</a> <a href="#topic+query_api">query_api</a> <a href="#topic+geo">geo</a>
</p>

<hr>
<h2 id='extract_reverse_results'>Extract reverse geocoding results</h2><span id='topic+extract_reverse_results'></span>

<h3>Description</h3>

<p>Parses the output of the <a href="#topic+query_api">query_api</a> function for reverse geoocoding.
The address is extracted into the first column
of the returned dataframe. This function is not used for batch
geocoded results. Refer to <a href="#topic+query_api">query_api</a> for example
usage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_reverse_results(
  method,
  response,
  full_results = TRUE,
  flatten = TRUE,
  limit = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_reverse_results_+3A_method">method</code></td>
<td>
<p>method name</p>
</td></tr>
<tr><td><code id="extract_reverse_results_+3A_response">response</code></td>
<td>
<p>content from the geocoding service (returned by the <a href="#topic+query_api">query_api</a> function)</p>
</td></tr>
<tr><td><code id="extract_reverse_results_+3A_full_results">full_results</code></td>
<td>
<p>if TRUE then the full results (not just an address column)
will be returned.</p>
</td></tr>
<tr><td><code id="extract_reverse_results_+3A_flatten">flatten</code></td>
<td>
<p>if TRUE then flatten any nested dataframe content</p>
</td></tr>
<tr><td><code id="extract_reverse_results_+3A_limit">limit</code></td>
<td>
<p>only used for the &quot;google&quot;
method(s). Limits number of results per coordinate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>geocoding results in tibble format
</p>


<h3>See Also</h3>

<p><a href="#topic+get_api_query">get_api_query</a> <a href="#topic+query_api">query_api</a> <a href="#topic+reverse_geo">reverse_geo</a>
</p>

<hr>
<h2 id='geo'>Geocode addresses</h2><span id='topic+geo'></span>

<h3>Description</h3>

<p>Geocodes addresses given as character values. The <a href="#topic+geocode">geocode</a>
function utilizes this function on addresses contained in dataframes.
See example usage in <code>vignette("tidygeocoder")</code>.
</p>
<p>Note that not all geocoding services support certain address component
parameters. For example, the Census geocoder only covers the United States
and does not have a &quot;country&quot; parameter.
</p>
<p>Refer to <a href="#topic+api_parameter_reference">api_parameter_reference</a>,
<a href="#topic+min_time_reference">min_time_reference</a>, and <a href="#topic+batch_limit_reference">batch_limit_reference</a> for more details on
geocoding service parameters and usage.
</p>
<p>This function uses the <a href="#topic+get_api_query">get_api_query</a>, <a href="#topic+query_api">query_api</a>, and
<a href="#topic+extract_results">extract_results</a> functions to create, execute, and parse geocoder
API queries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo(
  address = NULL,
  street = NULL,
  city = NULL,
  county = NULL,
  state = NULL,
  postalcode = NULL,
  country = NULL,
  method = "osm",
  cascade_order = c("census", "osm"),
  lat = "lat",
  long = "long",
  limit = 1,
  full_results = FALSE,
  mode = "",
  unique_only = FALSE,
  return_addresses = TRUE,
  min_time = NULL,
  progress_bar = show_progress_bar(),
  quiet = getOption("tidygeocoder.quiet", FALSE),
  api_url = NULL,
  timeout = 20,
  flatten = TRUE,
  batch_limit = NULL,
  batch_limit_error = TRUE,
  verbose = getOption("tidygeocoder.verbose", FALSE),
  no_query = FALSE,
  custom_query = list(),
  api_options = list(),
  return_type = "locations",
  iq_region = "us",
  geocodio_v = 1.6,
  param_error = TRUE,
  mapbox_permanent = FALSE,
  here_request_id = NULL,
  mapquest_open = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_+3A_address">address</code></td>
<td>
<p>single line address (ie. '1600 Pennsylvania Ave NW, Washington, DC').
Do not combine with the address component arguments below
(<code>street</code>, <code>city</code>, <code>county</code>, <code>state</code>, <code>postalcode</code>, <code>country</code>).</p>
</td></tr>
<tr><td><code id="geo_+3A_street">street</code></td>
<td>
<p>street address (ie. '1600 Pennsylvania Ave NW')</p>
</td></tr>
<tr><td><code id="geo_+3A_city">city</code></td>
<td>
<p>city (ie. 'Tokyo')</p>
</td></tr>
<tr><td><code id="geo_+3A_county">county</code></td>
<td>
<p>county (ie. 'Jefferson')</p>
</td></tr>
<tr><td><code id="geo_+3A_state">state</code></td>
<td>
<p>state (ie. 'Kentucky')</p>
</td></tr>
<tr><td><code id="geo_+3A_postalcode">postalcode</code></td>
<td>
<p>postalcode (ie. zip code if in the United States)</p>
</td></tr>
<tr><td><code id="geo_+3A_country">country</code></td>
<td>
<p>country (ie. 'Japan')</p>
</td></tr>
<tr><td><code id="geo_+3A_method">method</code></td>
<td>
<p>the geocoding service to be used. API keys are loaded from environmental variables. Run <code>usethis::edit_r_environ()</code> to open your .Renviron file and add an API key as an environmental variable. For example, add the line <code>GEOCODIO_API_KEY="YourAPIKeyHere"</code>.
</p>

<ul>
<li> <p><code>"osm"</code>: <a href="https://nominatim.org">Nominatim</a>.
</p>
</li>
<li> <p><code>"census"</code>: <a href="https://geocoding.geo.census.gov/">US Census</a>. Geographic coverage is limited to the United States.  Batch geocoding is supported.
</p>
</li>
<li> <p><code>"arcgis"</code>: <a href="https://developers.arcgis.com/rest/geocode/api-reference/overview-world-geocoding-service.htm">ArcGIS</a>.
</p>
</li>
<li> <p><code>"geocodio"</code>: <a href="https://www.geocod.io/">Geocodio</a>. Geographic coverage is limited to the United States and Canada. An API key must be stored in the environmental variable &quot;GEOCODIO_API_KEY&quot;. Batch geocoding is supported.
</p>
</li>
<li> <p><code>"iq"</code>: <a href="https://locationiq.com/">Location IQ</a>.  An API key must be stored in the environmental variable &quot;LOCATIONIQ_API_KEY&quot;.
</p>
</li>
<li> <p><code>"google"</code>: <a href="https://developers.google.com/maps/documentation/geocoding/overview">Google</a>.  An API key must be stored in the environmental variable &quot;GOOGLEGEOCODE_API_KEY&quot;.
</p>
</li>
<li> <p><code>"opencage"</code>: <a href="https://opencagedata.com">OpenCage</a>.  An API key must be stored in the environmental variable &quot;OPENCAGE_KEY&quot;.
</p>
</li>
<li> <p><code>"mapbox"</code>: <a href="https://docs.mapbox.com/api/search/">Mapbox</a>.  An API key must be stored in the environmental variable &quot;MAPBOX_API_KEY&quot;.
</p>
</li>
<li> <p><code>"here"</code>: <a href="https://developer.here.com/products/geocoding-and-search">HERE</a>.  An API key must be stored in the environmental variable &quot;HERE_API_KEY&quot;. Batch geocoding is supported, but must be explicitly called with <code>mode = "batch"</code>.
</p>
</li>
<li> <p><code>"tomtom"</code>: <a href="https://developer.tomtom.com/search-api/search-api-documentation/geocoding">TomTom</a>.  An API key must be stored in the environmental variable &quot;TOMTOM_API_KEY&quot;. Batch geocoding is supported.
</p>
</li>
<li> <p><code>"mapquest"</code>: <a href="https://developer.mapquest.com/documentation/geocoding-api/">MapQuest</a>.  An API key must be stored in the environmental variable &quot;MAPQUEST_API_KEY&quot;. Batch geocoding is supported.
</p>
</li>
<li> <p><code>"bing"</code>: <a href="https://docs.microsoft.com/en-us/bingmaps/rest-services/locations/">Bing</a>.  An API key must be stored in the environmental variable &quot;BINGMAPS_API_KEY&quot;. Batch geocoding is supported, but must be explicitly called with <code>mode = "batch"</code>.
</p>
</li>
<li> <p><code>"geoapify"</code>: <a href="https://www.geoapify.com/geocoding-api">Geoapify</a>.  An API key must be stored in the environmental variable &quot;GEOAPIFY_KEY&quot;.
</p>
</li>
<li> <p><code>"cascade"</code> <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use <a href="#topic+geocode_combine">geocode_combine</a> or <a href="#topic+geo_combine">geo_combine</a> instead.
The &quot;cascade&quot; method first uses one geocoding service and then uses
a second geocoding service if the first service didn't return results.
The services and order is specified by the cascade_order argument.
Note that this is not compatible with <code>full_results = TRUE</code> as geocoding
services have different columns that they return.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geo_+3A_cascade_order">cascade_order</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> a vector with two character values for the
method argument in the order in which the geocoding services will be attempted for <code>method = "cascade"</code>
(ie. <code>c("census", "geocodio")</code>)</p>
</td></tr>
<tr><td><code id="geo_+3A_lat">lat</code></td>
<td>
<p>latitude column name. Can be quoted or unquoted (ie. <code>lat</code> or <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_+3A_long">long</code></td>
<td>
<p>longitude column name. Can be quoted or unquoted (ie. <code>long</code> or '&quot;long&quot;&ldquo;).</p>
</td></tr>
<tr><td><code id="geo_+3A_limit">limit</code></td>
<td>
<p>maximum number of results to return per input address. For many geocoding services
the maximum value of the limit parameter is 100. Pass <code>limit = NULL</code> to use
the default <code>limit</code> value of the selected geocoding service.
For batch geocoding, limit must be set to 1 (default) if <code>return_addresses = TRUE</code>.
Refer to <a href="#topic+api_parameter_reference">api_parameter_reference</a> for more details.</p>
</td></tr>
<tr><td><code id="geo_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the geocoding service if TRUE.
If FALSE (default) then only latitude and longitude columns are returned from the geocoding service.</p>
</td></tr>
<tr><td><code id="geo_+3A_mode">mode</code></td>
<td>
<p>set to 'batch' to force batch geocoding or 'single' to force single address
geocoding (one address per query). If not specified then batch geocoding will
be used if available (given method selected) when multiple addresses are
provided; otherwise single address geocoding will be used. For the &quot;here&quot; and &quot;bing&quot; methods the
batch mode should be explicitly specified with <code>mode = 'batch'</code>.</p>
</td></tr>
<tr><td><code id="geo_+3A_unique_only">unique_only</code></td>
<td>
<p>only return results for unique inputs if TRUE</p>
</td></tr>
<tr><td><code id="geo_+3A_return_addresses">return_addresses</code></td>
<td>
<p>return input addresses with results if TRUE. Note that
most services return the input addresses with <code>full_results = TRUE</code> and setting
return_addresses to FALSE does not prevent this.</p>
</td></tr>
<tr><td><code id="geo_+3A_min_time">min_time</code></td>
<td>
<p>minimum amount of time for a query to take (in seconds). If NULL
then min_time will be set to the default value specified in <a href="#topic+min_time_reference">min_time_reference</a>.</p>
</td></tr>
<tr><td><code id="geo_+3A_progress_bar">progress_bar</code></td>
<td>
<p>if TRUE then a progress bar will be displayed
for single input geocoding (1 input per query). By default the progress bar
will not be shown for code executed when knitting R Markdown files or code within
an RStudio notebook chunk. Can be set permanently with <code>options(tidygeocoder.progress_bar = FALSE)</code>.</p>
</td></tr>
<tr><td><code id="geo_+3A_quiet">quiet</code></td>
<td>
<p>if TRUE then console messages that are displayed by default
regarding queries will be suppressed. FALSE is default.
Can be set permanently with <code>options(tidygeocoder.quiet = TRUE)</code>.</p>
</td></tr>
<tr><td><code id="geo_+3A_api_url">api_url</code></td>
<td>
<p>custom API URL. If specified, the default API URL will be overridden.
This parameter can be used to specify a local Nominatim server, for instance.</p>
</td></tr>
<tr><td><code id="geo_+3A_timeout">timeout</code></td>
<td>
<p>query timeout (in minutes)</p>
</td></tr>
<tr><td><code id="geo_+3A_flatten">flatten</code></td>
<td>
<p>if TRUE (default) then any nested dataframes in results are flattened if possible.
Note that in some cases results are flattened regardless such as for Geocodio batch geocoding.</p>
</td></tr>
<tr><td><code id="geo_+3A_batch_limit">batch_limit</code></td>
<td>
<p>limit to the number of addresses in a batch geocoding query.
Defaults to the value in <a href="#topic+batch_limit_reference">batch_limit_reference</a> if not specified.</p>
</td></tr>
<tr><td><code id="geo_+3A_batch_limit_error">batch_limit_error</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> if TRUE then an error is thrown if the number of addresses exceeds the batch limit.
(if executing a batch query). This is reverted to FALSE when using the cascade method.</p>
</td></tr>
<tr><td><code id="geo_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE then detailed logs are output to the console. FALSE is default. Can be set
permanently with <code>options(tidygeocoder.verbose = TRUE)</code></p>
</td></tr>
<tr><td><code id="geo_+3A_no_query">no_query</code></td>
<td>
<p>if TRUE then no queries are sent to the geocoding service and verbose is set to TRUE.
Used for testing.</p>
</td></tr>
<tr><td><code id="geo_+3A_custom_query">custom_query</code></td>
<td>
<p>API-specific parameters to be used, passed as a named list
(ex. <code>list(extratags = 1)</code>.</p>
</td></tr>
<tr><td><code id="geo_+3A_api_options">api_options</code></td>
<td>
<p>a named list of parameters specific to individual services.
(ex. <code>list(geocodio_v = 1.6, geocodio_hipaa = TRUE)</code>). Each parameter begins
with the name of the <code>method</code> (service) it applies to. The possible parameters
are shown below with their default values.
</p>

<ul>
<li> <p><code>census_return_type</code> (default: <code>"locations"</code>): set to <code>"geographies"</code> to return
additional geography columns. Make sure to use <code>full_results = TRUE</code> if using
the &quot;geographies&quot; setting.
</p>
</li>
<li> <p><code>iq_region</code> (default: <code>"us"</code>): set to &quot;eu&quot; to use the European Union API endpoint
</p>
</li>
<li> <p><code>geocodio_v</code> (default: <code>1.6</code>): the version number of the Geocodio API to be used
</p>
</li>
<li> <p><code>geocodio_hipaa</code> (default: <code>FALSE</code>): set to <code>TRUE</code> to use the HIPAA compliant
Geocodio API endpoint
</p>
</li>
<li> <p><code>mapbox_permanent</code> (default: <code>FALSE</code>): set to <code>TRUE</code> to use the <code>mapbox.places-permanent</code>
endpoint. Note that this option should be used only if you have applied for a permanent
account. Unsuccessful requests made by an account that does not have access to the
endpoint may be billable.
</p>
</li>
<li> <p><code>mapbox_open</code> (default: <code>FALSE</code>): set to <code>TRUE</code> to use the Open Geocoding endpoint which
relies solely on OpenStreetMap data
</p>
</li>
<li> <p><code>here_request_id</code> (default: <code>NULL</code>): this parameter would return a previous HERE batch job,
identified by its RequestID. The RequestID of a batch job is displayed
when <code>verbose</code> is TRUE. Note that this option would ignore the
current <code>address</code> parameter on the request, so the <code>return_addresses</code> or <code>return_coords</code>
parameters need to be FALSE.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geo_+3A_return_type">return_type</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="geo_+3A_iq_region">iq_region</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="geo_+3A_geocodio_v">geocodio_v</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="geo_+3A_param_error">param_error</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> if TRUE then an error will be thrown if any address
parameters are used that are invalid for the selected service (<code>method</code>).
If <code>method = "cascade"</code> then no errors will be thrown.</p>
</td></tr>
<tr><td><code id="geo_+3A_mapbox_permanent">mapbox_permanent</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="geo_+3A_here_request_id">here_request_id</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="geo_+3A_mapquest_open">mapquest_open</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble (dataframe)
</p>


<h3>See Also</h3>

<p><a href="#topic+geocode">geocode</a> <a href="#topic+api_parameter_reference">api_parameter_reference</a> <a href="#topic+min_time_reference">min_time_reference</a> <a href="#topic+batch_limit_reference">batch_limit_reference</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
options(tidygeocoder.progress_bar = FALSE)

geo(street = "600 Peachtree Street NE", city = "Atlanta",
 state = "Georgia", method = "census")

geo(address = c("Tokyo, Japan", "Lima, Peru", "Nairobi, Kenya"),
 method = 'osm')
 
geo("100 Main St New York, NY",  full_results = TRUE,
 method = "census", api_options = list(census_return_type = 'geographies'))

geo(county = 'Jefferson', state = "Kentucky", country = "US",
     method = 'osm')

</code></pre>

<hr>
<h2 id='geo_census'>Convenience functions for calling <code>geo()</code></h2><span id='topic+geo_census'></span><span id='topic+geo_osm'></span><span id='topic+geo_geocodio'></span><span id='topic+geo_iq'></span><span id='topic+geo_google'></span><span id='topic+geo_opencage'></span><span id='topic+geo_mapbox'></span><span id='topic+geo_here'></span><span id='topic+geo_tomtom'></span><span id='topic+geo_mapquest'></span><span id='topic+geo_bing'></span><span id='topic+geo_arcgis'></span><span id='topic+geo_cascade'></span>

<h3>Description</h3>

<p>The <code>method</code> for <code>geo()</code> is specified in the function name.
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Use the <a href="#topic+geo">geo</a> function directly instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_census(...)

geo_osm(...)

geo_geocodio(...)

geo_iq(...)

geo_google(...)

geo_opencage(...)

geo_mapbox(...)

geo_here(...)

geo_tomtom(...)

geo_mapquest(...)

geo_bing(...)

geo_arcgis(...)

geo_cascade(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_census_+3A_...">...</code></td>
<td>
<p>arguments to be passed to the <code>geo</code> function</p>
</td></tr>
</table>

<hr>
<h2 id='geo_combine'>Combine multiple geocoding queries</h2><span id='topic+geo_combine'></span>

<h3>Description</h3>

<p>Passes address inputs in character vector form to the
<a href="#topic+geocode_combine">geocode_combine</a> function for geocoding.
</p>
<p>Note that address inputs must be specified for queries either with the <code>queries</code> parameter (for each query)
or the <code>global_params</code> parameter (for all queries). For example <code>global_params = list(address = 'address')</code>
passes addresses provided in the <code>address</code> parameter to all queries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_combine(
  queries,
  global_params = list(),
  address = NULL,
  street = NULL,
  city = NULL,
  county = NULL,
  state = NULL,
  postalcode = NULL,
  country = NULL,
  lat = lat,
  long = long,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_combine_+3A_queries">queries</code></td>
<td>
<p>a list of queries, each provided as a list of parameters. The queries are
executed by the <a href="#topic+geocode">geocode</a> function in the order provided.
(ex. <code>list(list(method = 'osm'), list(method = 'census'), ...)</code>)</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_global_params">global_params</code></td>
<td>
<p>a list of parameters to be used for all queries
(ex. <code>list(address = 'address', full_results = TRUE)</code>)</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_address">address</code></td>
<td>
<p>single line address (ie. '1600 Pennsylvania Ave NW, Washington, DC').
Do not combine with the address component arguments below
(<code>street</code>, <code>city</code>, <code>county</code>, <code>state</code>, <code>postalcode</code>, <code>country</code>).</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_street">street</code></td>
<td>
<p>street address (ie. '1600 Pennsylvania Ave NW')</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_city">city</code></td>
<td>
<p>city (ie. 'Tokyo')</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_county">county</code></td>
<td>
<p>county (ie. 'Jefferson')</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_state">state</code></td>
<td>
<p>state (ie. 'Kentucky')</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_postalcode">postalcode</code></td>
<td>
<p>postalcode (ie. zip code if in the United States)</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_country">country</code></td>
<td>
<p>country (ie. 'Japan')</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_lat">lat</code></td>
<td>
<p>latitude column name. Can be quoted or unquoted (ie. <code>lat</code> or <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_long">long</code></td>
<td>
<p>longitude column name. Can be quoted or unquoted (ie. <code>long</code> or '&quot;long&quot;&ldquo;).</p>
</td></tr>
<tr><td><code id="geo_combine_+3A_...">...</code></td>
<td>
<p>arguments passed to the <a href="#topic+geocode_combine">geocode_combine</a> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble (dataframe)
</p>


<h3>See Also</h3>

<p><a href="#topic+geocode_combine">geocode_combine</a> <a href="#topic+geo">geo</a> <a href="#topic+geocode">geocode</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

options(tidygeocoder.progress_bar = FALSE)
example_addresses &lt;- c("100 Main St New York, NY", "Paris", "Not a Real Address")

geo_combine(
    queries = list(
        list(method = 'census'),
        list(method = 'osm')
    ),
    address = example_addresses,
    global_params = list(address = 'address')
  )
  
geo_combine(
  queries = list(
      list(method = 'arcgis'), 
      list(method = 'census', mode = 'single'),
      list(method = 'census', mode = 'batch')
  ),
  global_params = list(address = 'address'),
  address = example_addresses,
  cascade = FALSE,
  return_list = TRUE
)

geo_combine(
   queries = list(
      list(method = 'arcgis', address = 'city'),
      list(method = 'osm', city = 'city', country = 'country')
   ),
   city = c('Tokyo', 'New York'),
   country = c('Japan', 'United States'),
   cascade = FALSE
)

</code></pre>

<hr>
<h2 id='geocode'>Geocode addresses in a dataframe</h2><span id='topic+geocode'></span>

<h3>Description</h3>

<p>Takes a dataframe containing addresses as an input and returns
the results from a specified geocoding service in a dataframe format using the
<a href="#topic+geo">geo</a> function. See example usage in <code>vignette("tidygeocoder")</code>.
</p>
<p>This function passes all additional parameters (<code>...</code>) to the
<a href="#topic+geo">geo</a> function, so you can refer to its documentation for more details
on possible arguments.
</p>
<p>Note that the arguments used for specifying address columns (<code>address</code>,
<code>street</code>, <code>city</code>, <code>county</code>, <code>state</code>, <code>postalcode</code>, and <code>country</code>) accept either
quoted or unquoted column names (ie. <code>"address_col"</code> and <code>address_col</code> are
both acceptable).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geocode(
  .tbl,
  address = NULL,
  street = NULL,
  city = NULL,
  county = NULL,
  state = NULL,
  postalcode = NULL,
  country = NULL,
  lat = "lat",
  long = "long",
  return_input = TRUE,
  limit = 1,
  return_addresses = NULL,
  unique_only = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geocode_+3A_.tbl">.tbl</code></td>
<td>
<p>dataframe containing addresses</p>
</td></tr>
<tr><td><code id="geocode_+3A_address">address</code></td>
<td>
<p>single line street address column name. Do not combine with
address component arguments (<code>street</code>, <code>city</code>, <code>county</code>, <code>state</code>, <code>postalcode</code>, <code>country</code>)</p>
</td></tr>
<tr><td><code id="geocode_+3A_street">street</code></td>
<td>
<p>street address column name</p>
</td></tr>
<tr><td><code id="geocode_+3A_city">city</code></td>
<td>
<p>city column name</p>
</td></tr>
<tr><td><code id="geocode_+3A_county">county</code></td>
<td>
<p>county column name</p>
</td></tr>
<tr><td><code id="geocode_+3A_state">state</code></td>
<td>
<p>state column name</p>
</td></tr>
<tr><td><code id="geocode_+3A_postalcode">postalcode</code></td>
<td>
<p>postalcode column name (zip code if in the United States)</p>
</td></tr>
<tr><td><code id="geocode_+3A_country">country</code></td>
<td>
<p>country column name</p>
</td></tr>
<tr><td><code id="geocode_+3A_lat">lat</code></td>
<td>
<p>latitude column name. Can be quoted or unquoted (ie. lat or 'lat').</p>
</td></tr>
<tr><td><code id="geocode_+3A_long">long</code></td>
<td>
<p>longitude column name. Can be quoted or unquoted (ie. long or 'long').</p>
</td></tr>
<tr><td><code id="geocode_+3A_return_input">return_input</code></td>
<td>
<p>if TRUE then the input dataset will be combined with the geocoder query results
and returned. If FALSE only the geocoder results will be returned.</p>
</td></tr>
<tr><td><code id="geocode_+3A_limit">limit</code></td>
<td>
<p>maximum number of results to return per input address. For many geocoding services
the maximum value of the limit parameter is 100. Pass <code>limit = NULL</code> to use
the default <code>limit</code> value of the selected geocoding service.
For batch geocoding, limit must be set to 1 (default) if <code>return_addresses = TRUE</code>.
To use <code>limit &gt; 1</code> or <code>limit = NULL</code> set return_input to FALSE.
Refer to <a href="#topic+api_parameter_reference">api_parameter_reference</a> for more details.</p>
</td></tr>
<tr><td><code id="geocode_+3A_return_addresses">return_addresses</code></td>
<td>
<p>if TRUE return input addresses. Defaults to TRUE if <code>return_input</code> is FALSE
and FALSE if <code>return_input</code> is TRUE. This argument is passed to the <code>geo()</code> function.</p>
</td></tr>
<tr><td><code id="geocode_+3A_unique_only">unique_only</code></td>
<td>
<p>if TRUE then only unique results will be returned and
return_input will be set to FALSE.</p>
</td></tr>
<tr><td><code id="geocode_+3A_...">...</code></td>
<td>
<p>arguments passed to the <a href="#topic+geo">geo</a> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble (dataframe)
</p>


<h3>See Also</h3>

<p><a href="#topic+geo">geo</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(dplyr, warn.conflicts = FALSE)
sample_addresses %&gt;% slice(1:2) %&gt;%
 geocode(addr, method = 'arcgis')

louisville %&gt;% head(2) %&gt;%
 geocode(street = street, city = city, state = state,
  postalcode = zip, method = 'census', full_results = TRUE)

sample_addresses %&gt;% slice(8:9) %&gt;%
 geocode(addr, method = 'osm', limit = 2,
  return_input = FALSE, full_results = TRUE)

sample_addresses %&gt;% slice(4:5) %&gt;%
 geocode(addr, method = 'arcgis',
  lat = latitude, long = longitude,
  full_results = TRUE)

</code></pre>

<hr>
<h2 id='geocode_combine'>Combine multiple geocoding queries</h2><span id='topic+geocode_combine'></span>

<h3>Description</h3>

<p>Executes multiple geocoding queries on a dataframe input and combines
the results. To use a character vector input instead, see the <a href="#topic+geo_combine">geo_combine</a> function.
Queries are executed by the <a href="#topic+geocode">geocode</a> function. See example usage
in <code>vignette("tidygeocoder")</code>.
</p>
<p>Query results are by default labelled to show which query produced each result. Labels are either
placed in a <code>query</code> column (if <code>return_list = FALSE</code>) or used as the names of the returned list
(if <code>return_list = TRUE</code>). By default the <code>method</code> parameter value of each query is used as a query label.
If the same <code>method</code> is used in multiple queries then a number is added according
to the order of the queries (ie. <code>osm1</code>, <code>osm2</code>, ...). To provide your own custom query labels
use the <code>query_names</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geocode_combine(
  .tbl,
  queries,
  global_params = list(),
  return_list = FALSE,
  cascade = TRUE,
  query_names = NULL,
  lat = "lat",
  long = "long"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geocode_combine_+3A_.tbl">.tbl</code></td>
<td>
<p>dataframe containing addresses</p>
</td></tr>
<tr><td><code id="geocode_combine_+3A_queries">queries</code></td>
<td>
<p>a list of queries, each provided as a list of parameters. The queries are
executed by the <a href="#topic+geocode">geocode</a> function in the order provided.
(ex. <code>list(list(method = 'osm'), list(method = 'census'), ...)</code>)</p>
</td></tr>
<tr><td><code id="geocode_combine_+3A_global_params">global_params</code></td>
<td>
<p>a list of parameters to be used for all queries
(ex. <code>list(address = 'address', full_results = TRUE)</code>)</p>
</td></tr>
<tr><td><code id="geocode_combine_+3A_return_list">return_list</code></td>
<td>
<p>if TRUE then results from each service will be returned as separate
dataframes. If FALSE (default) then all results will be combined into a single dataframe.</p>
</td></tr>
<tr><td><code id="geocode_combine_+3A_cascade">cascade</code></td>
<td>
<p>if TRUE (default) then only addresses that are not found by a geocoding
service will be attempted by subsequent queries. If FALSE then all queries will
attempt to geocode all addresses.</p>
</td></tr>
<tr><td><code id="geocode_combine_+3A_query_names">query_names</code></td>
<td>
<p>optional vector with one label for each query provided
(ex. <code>c('geocodio batch', 'geocodio single')</code>).</p>
</td></tr>
<tr><td><code id="geocode_combine_+3A_lat">lat</code></td>
<td>
<p>latitude column name. Can be quoted or unquoted (ie. lat or 'lat').</p>
</td></tr>
<tr><td><code id="geocode_combine_+3A_long">long</code></td>
<td>
<p>longitude column name. Can be quoted or unquoted (ie. long or 'long').</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble (dataframe)
</p>


<h3>See Also</h3>

<p><a href="#topic+geo_combine">geo_combine</a> <a href="#topic+geo">geo</a> <a href="#topic+geocode">geocode</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(dplyr, warn.conflicts = FALSE)

sample_addresses %&gt;%
  geocode_combine(
    queries = list(list(method = 'census'), list(method = 'osm')),
    global_params = list(address = 'addr'), cascade = TRUE)

more_addresses &lt;- tibble::tribble(
     ~street_address, ~city, ~state,        ~zip_cd,
     "624 W DAVIS ST #1D",   "BURLINGTON", "NC", 27215,
     "201 E CENTER ST #268", "MEBANE",     "NC", 27302,
     "100 Wall Street",      "New York",   "NY", 10005,
     "Bucharest",            NA,           NA,   NA
     )
 
 more_addresses %&gt;%        
   geocode_combine( 
     queries = list(
         list(method = 'census', mode = 'batch'),
         list(method = 'census', mode = 'single'),
         list(method = 'osm')
      ),
     global_params = list(street = 'street_address', 
       city = 'city', state = 'state', postalcode = 'zip_cd'),
     query_names = c('census batch', 'census single', 'osm')
   )
   
 more_addresses %&gt;%
   geocode_combine( 
     queries = list(
         list(method = 'census', mode = 'batch', street = 'street_address', 
       city = 'city', state = 'state', postalcode = 'zip_cd'),
         list(method = 'arcgis', address = 'street_address')
      ),
     cascade = FALSE,
     return_list = TRUE
   )

</code></pre>

<hr>
<h2 id='get_api_query'>Construct a geocoder API query</h2><span id='topic+get_api_query'></span>

<h3>Description</h3>

<p>The geocoder API query is created using universal &quot;generic&quot; parameters
and optional api-specific &quot;custom&quot; parameters. Generic parameters
are converted into api parameters using the  <a href="#topic+api_parameter_reference">api_parameter_reference</a>
dataset.
</p>
<p>The <a href="#topic+query_api">query_api</a> function executes the queries created
by this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_api_query(method, generic_parameters = list(), custom_parameters = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_api_query_+3A_method">method</code></td>
<td>
<p>method name (ie. 'census')</p>
</td></tr>
<tr><td><code id="get_api_query_+3A_generic_parameters">generic_parameters</code></td>
<td>
<p>universal 'generic' parameters</p>
</td></tr>
<tr><td><code id="get_api_query_+3A_custom_parameters">custom_parameters</code></td>
<td>
<p>custom api-specific parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API parameters as a named list
</p>


<h3>See Also</h3>

<p><a href="#topic+query_api">query_api</a> <a href="#topic+api_parameter_reference">api_parameter_reference</a> <a href="#topic+geo">geo</a> <a href="#topic+reverse_geo">reverse_geo</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_api_query("osm", list(address = 'Hanoi, Vietnam'))

get_api_query("census", list(street = '11 Wall St', city = "NY", state = 'NY'),
  list(benchmark = "Public_AR_Census2010"))

</code></pre>

<hr>
<h2 id='louisville'>Louisville, Kentucky street addresses</h2><span id='topic+louisville'></span>

<h3>Description</h3>

<p>Louisville, Kentucky street addresses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>louisville
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe with component street addresses
</p>

<dl>
<dt>street</dt><dd><p>Description of the address</p>
</dd>
<dt>city</dt><dd><p>Single line address</p>
</dd>
<dt>state</dt><dd><p>state</p>
</dd>
<dt>zip</dt><dd><p>zip code</p>
</dd>
</dl>



<h3>Source</h3>

<p>Downloaded from <a href="https://results.openaddresses.io/sources/us/ky/jefferson">OpenAddresses.io</a>
on June 1st 2020
</p>

<hr>
<h2 id='min_time_reference'>Minimum time required per query</h2><span id='topic+min_time_reference'></span>

<h3>Description</h3>

<p>The <a href="#topic+geo">geo</a> and <a href="#topic+reverse_geo">reverse_geo</a> functions use this dataset
to set the maximum query rate for each geocoding service.
This rate is based on the usage restriction policies for
each geocoding service.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>min_time_reference
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe
</p>

<dl>
<dt>method</dt><dd><p>Geocoding service name</p>
</dd>
<dt>min_time</dt><dd><p>The minimum number of seconds required per query to comply with usage restrictions</p>
</dd>
<dt>description</dt><dd><p>A description of the usage rate restriction</p>
</dd>
</dl>



<h3>Details</h3>

<p>Links to the usage policies of each geocoding service are below:
</p>

<ul>
<li> <p><a href="https://operations.osmfoundation.org/policies/nominatim/">Nominatim</a>
</p>
</li>
<li> <p><a href="https://www.census.gov/programs-surveys/geography/technical-documentation/complete-technical-documentation/census-geocoder.html">US Census</a>
</p>
</li>
<li> <p><a href="https://developers.arcgis.com/rest/geocode/api-reference/geocoding-free-vs-paid.htm">ArcGIS</a>
</p>
</li>
<li> <p><a href="https://www.geocod.io/pricing/">Geocodio</a>
</p>
</li>
<li> <p><a href="https://locationiq.com/pricing">Location IQ</a>
</p>
</li>
<li> <p><a href="https://developers.google.com/maps/documentation/geocoding/usage-and-billing">Google</a>
</p>
</li>
<li> <p><a href="https://opencagedata.com/pricing">OpenCage</a>
</p>
</li>
<li> <p><a href="https://www.mapbox.com/pricing/">Mapbox</a>
</p>
</li>
<li> <p><a href="https://developer.here.com/pricing">HERE</a>
</p>
</li>
<li> <p><a href="https://developer.tomtom.com/store/maps-api">TomTom</a>
</p>
</li>
<li> <p><a href="https://developer.mapquest.com/plans">MapQuest</a>
</p>
</li>
<li> <p><a href="https://docs.microsoft.com/en-us/bingmaps/spatial-data-services/geocode-and-data-source-limits">Bing</a>
</p>
</li>
<li> <p><a href="https://www.geoapify.com/term-and-conditions">Geoapify</a>
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+geo">geo</a> <a href="#topic+reverse_geo">reverse_geo</a>
</p>

<hr>
<h2 id='query_api'>Execute a geocoder API query</h2><span id='topic+query_api'></span>

<h3>Description</h3>

<p>The <a href="#topic+get_api_query">get_api_query</a> function can create queries for this
function to execute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_api(
  api_url,
  query_parameters,
  mode = "single",
  batch_file = NULL,
  input_list = NULL,
  content_encoding = "UTF-8",
  timeout = 20,
  method = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_api_+3A_api_url">api_url</code></td>
<td>
<p>Base URL of the API. query parameters are appended to this</p>
</td></tr>
<tr><td><code id="query_api_+3A_query_parameters">query_parameters</code></td>
<td>
<p>api query parameters in the form of a named list</p>
</td></tr>
<tr><td><code id="query_api_+3A_mode">mode</code></td>
<td>
<p>determines the type of query to execute</p>
<pre>- "single": geocode a single input (all methods)
- "list": batch geocode a list of inputs (ex. geocodio)
- "file": batch geocode a file of inputs (ex. census)
</pre></td></tr>
<tr><td><code id="query_api_+3A_batch_file">batch_file</code></td>
<td>
<p>a csv file of input data to upload (for <code>mode = 'file'</code>)</p>
</td></tr>
<tr><td><code id="query_api_+3A_input_list">input_list</code></td>
<td>
<p>a list of input data (for <code>mode = 'list'</code>)</p>
</td></tr>
<tr><td><code id="query_api_+3A_content_encoding">content_encoding</code></td>
<td>
<p>Encoding to be used for parsing content</p>
</td></tr>
<tr><td><code id="query_api_+3A_timeout">timeout</code></td>
<td>
<p>timeout in minutes</p>
</td></tr>
<tr><td><code id="query_api_+3A_method">method</code></td>
<td>
<p>if 'mapquest' or 'arcgis' then the query status code is changed appropriately</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named list containing the response content (<code>content</code>) and the HTTP request status (<code>status</code>)
</p>


<h3>See Also</h3>

<p><a href="#topic+get_api_query">get_api_query</a> <a href="#topic+extract_results">extract_results</a> <a href="#topic+extract_reverse_results">extract_reverse_results</a> <a href="#topic+geo">geo</a> <a href="#topic+reverse_geo">reverse_geo</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
raw1 &lt;- query_api("http://nominatim.openstreetmap.org/search", 
   get_api_query("osm", list(address = 'Hanoi, Vietnam')))
   
raw1$status
   
extract_results('osm', jsonlite::fromJSON(raw1$content))

raw2 &lt;- query_api("http://nominatim.openstreetmap.org/reverse", 
   get_api_query("osm", custom_parameters = list(lat = 38.895865, lon = -77.0307713)))
   
extract_reverse_results('osm', jsonlite::fromJSON(raw2$content))


</code></pre>

<hr>
<h2 id='reverse_geo'>Reverse geocode coordinates</h2><span id='topic+reverse_geo'></span>

<h3>Description</h3>

<p>Reverse geocodes geographic coordinates (latitude and longitude) given as numeric values.
Latitude and longitude inputs are limited to possible values. Latitudes must be between -90 and 90 and
longitudes must be between -180 and 180. Invalid values will not be sent to the geocoding service.
The <a href="#topic+reverse_geocode">reverse_geocode</a> function utilizes this function on coordinates contained in dataframes.
See example usage in <code>vignette("tidygeocoder")</code>.
</p>
<p>Refer to <a href="#topic+api_parameter_reference">api_parameter_reference</a>,
<a href="#topic+min_time_reference">min_time_reference</a>, and <a href="#topic+batch_limit_reference">batch_limit_reference</a> for more details on
geocoding service parameters and usage.
</p>
<p>This function uses the <a href="#topic+get_api_query">get_api_query</a>, <a href="#topic+query_api">query_api</a>, and
<a href="#topic+extract_reverse_results">extract_reverse_results</a> functions to create, execute, and parse geocoder
API queries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_geo(
  lat,
  long,
  method = "osm",
  address = "address",
  limit = 1,
  full_results = FALSE,
  mode = "",
  unique_only = FALSE,
  return_coords = TRUE,
  min_time = NULL,
  progress_bar = show_progress_bar(),
  quiet = getOption("tidygeocoder.quiet", FALSE),
  api_url = NULL,
  timeout = 20,
  flatten = TRUE,
  batch_limit = NULL,
  verbose = getOption("tidygeocoder.verbose", FALSE),
  no_query = FALSE,
  custom_query = list(),
  api_options = list(),
  iq_region = "us",
  geocodio_v = 1.6,
  mapbox_permanent = FALSE,
  here_request_id = NULL,
  mapquest_open = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_geo_+3A_lat">lat</code></td>
<td>
<p>latitude values (input data)</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_long">long</code></td>
<td>
<p>longitude values (input data)</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_method">method</code></td>
<td>
<p>the geocoding service to be used. API keys are loaded from environmental variables. Run <code>usethis::edit_r_environ()</code> to open your .Renviron file and add an API key as an environmental variable. For example, add the line <code>GEOCODIO_API_KEY="YourAPIKeyHere"</code>.
</p>

<ul>
<li> <p><code>"osm"</code>: <a href="https://nominatim.org">Nominatim</a>.
</p>
</li>
<li> <p><code>"arcgis"</code>: <a href="https://developers.arcgis.com/rest/geocode/api-reference/overview-world-geocoding-service.htm">ArcGIS</a>.
</p>
</li>
<li> <p><code>"geocodio"</code>: <a href="https://www.geocod.io/">Geocodio</a>. Geographic coverage is limited to the United States and Canada. An API key must be stored in the environmental variable &quot;GEOCODIO_API_KEY&quot;. Batch geocoding is supported.
</p>
</li>
<li> <p><code>"iq"</code>: <a href="https://locationiq.com/">Location IQ</a>.  An API key must be stored in the environmental variable &quot;LOCATIONIQ_API_KEY&quot;.
</p>
</li>
<li> <p><code>"google"</code>: <a href="https://developers.google.com/maps/documentation/geocoding/overview">Google</a>.  An API key must be stored in the environmental variable &quot;GOOGLEGEOCODE_API_KEY&quot;.
</p>
</li>
<li> <p><code>"opencage"</code>: <a href="https://opencagedata.com">OpenCage</a>.  An API key must be stored in the environmental variable &quot;OPENCAGE_KEY&quot;.
</p>
</li>
<li> <p><code>"mapbox"</code>: <a href="https://docs.mapbox.com/api/search/">Mapbox</a>.  An API key must be stored in the environmental variable &quot;MAPBOX_API_KEY&quot;.
</p>
</li>
<li> <p><code>"here"</code>: <a href="https://developer.here.com/products/geocoding-and-search">HERE</a>.  An API key must be stored in the environmental variable &quot;HERE_API_KEY&quot;. Batch geocoding is supported, but must be explicitly called with <code>mode = "batch"</code>.
</p>
</li>
<li> <p><code>"tomtom"</code>: <a href="https://developer.tomtom.com/search-api/search-api-documentation/geocoding">TomTom</a>.  An API key must be stored in the environmental variable &quot;TOMTOM_API_KEY&quot;. Batch geocoding is supported.
</p>
</li>
<li> <p><code>"mapquest"</code>: <a href="https://developer.mapquest.com/documentation/geocoding-api/">MapQuest</a>.  An API key must be stored in the environmental variable &quot;MAPQUEST_API_KEY&quot;. Batch geocoding is supported.
</p>
</li>
<li> <p><code>"bing"</code>: <a href="https://docs.microsoft.com/en-us/bingmaps/rest-services/locations/">Bing</a>.  An API key must be stored in the environmental variable &quot;BINGMAPS_API_KEY&quot;. Batch geocoding is supported, but must be explicitly called with <code>mode = "batch"</code>.
</p>
</li>
<li> <p><code>"geoapify"</code>: <a href="https://www.geoapify.com/geocoding-api">Geoapify</a>.  An API key must be stored in the environmental variable &quot;GEOAPIFY_KEY&quot;.
</p>
</li></ul>
</td></tr>
<tr><td><code id="reverse_geo_+3A_address">address</code></td>
<td>
<p>name of the address column (in the output data)</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_limit">limit</code></td>
<td>
<p>maximum number of results to return per input coordinate. For many geocoding services
the maximum value of the limit parameter is 100. Pass <code>limit = NULL</code> to use
the default <code>limit</code> value of the selected geocoding service.
For batch geocoding, limit must be set to 1 (default) if <code>return_coords = TRUE</code>.
Refer to <a href="#topic+api_parameter_reference">api_parameter_reference</a> for more details.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the geocoding service if TRUE.
If FALSE (default) then only a single address column is returned from the geocoding service.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_mode">mode</code></td>
<td>
<p>set to 'batch' to force batch geocoding or 'single' to force single coordinate
geocoding (one coordinate per query). If not specified then batch geocoding will
be used if available (given method selected) when multiple coordinates are
provided; otherwise single address geocoding will be used. For the &quot;here&quot; and &quot;bing&quot; methods the
batch mode should be explicitly specified with <code>mode = 'batch'</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_unique_only">unique_only</code></td>
<td>
<p>only return results for unique inputs if TRUE</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_return_coords">return_coords</code></td>
<td>
<p>return input coordinates with results if TRUE. Note that
most services return the input coordinates with <code>full_results = TRUE</code> and setting
<code>return_coords</code> to FALSE does not prevent this.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_min_time">min_time</code></td>
<td>
<p>minimum amount of time for a query to take (in seconds). If NULL
then min_time will be set to the default value specified in <a href="#topic+min_time_reference">min_time_reference</a>.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_progress_bar">progress_bar</code></td>
<td>
<p>if TRUE then a progress bar will be displayed
for single input geocoding (1 input per query). By default the progress bar
will not be shown for code executed when knitting R Markdown files or code within
an RStudio notebook chunk. Can be set permanently with <code>options(tidygeocoder.progress_bar = FALSE)</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_quiet">quiet</code></td>
<td>
<p>if TRUE then console messages that are displayed by default
regarding queries will be suppressed. FALSE is default.
Can be set permanently with <code>options(tidygeocoder.quiet = TRUE)</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_api_url">api_url</code></td>
<td>
<p>custom API URL. If specified, the default API URL will be overridden.
This parameter can be used to specify a local Nominatim server, for instance.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_timeout">timeout</code></td>
<td>
<p>query timeout (in minutes)</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_flatten">flatten</code></td>
<td>
<p>if TRUE (default) then any nested dataframes in results are flattened if possible.
Note that in some cases results are flattened regardless such as for Geocodio batch geocoding.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_batch_limit">batch_limit</code></td>
<td>
<p>limit to the number of coordinates in a batch geocoding query.
Defaults to the value in <a href="#topic+batch_limit_reference">batch_limit_reference</a> if not specified.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE then detailed logs are output to the console. FALSE is default. Can be set
permanently with <code>options(tidygeocoder.verbose = TRUE)</code></p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_no_query">no_query</code></td>
<td>
<p>if TRUE then no queries are sent to the geocoding service and verbose is set to TRUE.
Used for testing.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_custom_query">custom_query</code></td>
<td>
<p>API-specific parameters to be used, passed as a named list
(ex. <code>list(extratags = 1)</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_api_options">api_options</code></td>
<td>
<p>a named list of parameters specific to individual services.
(ex. <code>list(geocodio_v = 1.6, geocodio_hipaa = TRUE)</code>). Each parameter begins
with the name of the <code>method</code> (service) it applies to. The possible parameters
are shown below with their default values.
</p>

<ul>
<li> <p><code>census_return_type</code> (default: <code>"locations"</code>): set to <code>"geographies"</code> to return
additional geography columns. Make sure to use <code>full_results = TRUE</code> if using
the &quot;geographies&quot; setting.
</p>
</li>
<li> <p><code>iq_region</code> (default: <code>"us"</code>): set to &quot;eu&quot; to use the European Union API endpoint
</p>
</li>
<li> <p><code>geocodio_v</code> (default: <code>1.6</code>): the version number of the Geocodio API to be used
</p>
</li>
<li> <p><code>geocodio_hipaa</code> (default: <code>FALSE</code>): set to <code>TRUE</code> to use the HIPAA compliant
Geocodio API endpoint
</p>
</li>
<li> <p><code>mapbox_permanent</code> (default: <code>FALSE</code>): set to <code>TRUE</code> to use the <code>mapbox.places-permanent</code>
endpoint. Note that this option should be used only if you have applied for a permanent
account. Unsuccessful requests made by an account that does not have access to the
endpoint may be billable.
</p>
</li>
<li> <p><code>mapbox_open</code> (default: <code>FALSE</code>): set to <code>TRUE</code> to use the Open Geocoding endpoint which
relies solely on OpenStreetMap data
</p>
</li>
<li> <p><code>here_request_id</code> (default: <code>NULL</code>): this parameter would return a previous HERE batch job,
identified by its RequestID. The RequestID of a batch job is displayed
when <code>verbose</code> is TRUE. Note that this option would ignore the
current <code>address</code> parameter on the request, so the <code>return_addresses</code> or <code>return_coords</code>
parameters need to be FALSE.
</p>
</li></ul>
</td></tr>
<tr><td><code id="reverse_geo_+3A_iq_region">iq_region</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_geocodio_v">geocodio_v</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_mapbox_permanent">mapbox_permanent</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_here_request_id">here_request_id</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
<tr><td><code id="reverse_geo_+3A_mapquest_open">mapquest_open</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> use the <code>api_options</code> parameter instead</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble (dataframe)
</p>


<h3>See Also</h3>

<p><a href="#topic+reverse_geocode">reverse_geocode</a> <a href="#topic+api_parameter_reference">api_parameter_reference</a> <a href="#topic+min_time_reference">min_time_reference</a> <a href="#topic+batch_limit_reference">batch_limit_reference</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
options(tidygeocoder.progress_bar = FALSE)

 reverse_geo(lat = 38.895865, long = -77.0307713, method = 'osm')
 
 reverse_geo(
   lat = c(38.895865, 43.6534817, 300), 
   long = c(-77.0307713, -79.3839347, 600),
   method = 'osm', full_results = TRUE
 )
 

</code></pre>

<hr>
<h2 id='reverse_geocode'>Reverse geocode coordinates in a dataframe</h2><span id='topic+reverse_geocode'></span>

<h3>Description</h3>

<p>Takes a dataframe containing coordinates (latitude and longitude) and returns
the reverse geocoding query results from a specified service by using the
<a href="#topic+reverse_geo">reverse_geo</a> function. See example usage in <code>vignette("tidygeocoder")</code>.
</p>
<p>This function passes all additional parameters (<code>...</code>) to the
<a href="#topic+reverse_geo">reverse_geo</a> function, so you can refer to its documentation for more details
on possible arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_geocode(
  .tbl,
  lat,
  long,
  address = "address",
  return_input = TRUE,
  limit = 1,
  return_coords = NULL,
  unique_only = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_geocode_+3A_.tbl">.tbl</code></td>
<td>
<p>dataframe containing coordinates</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_lat">lat</code></td>
<td>
<p>latitude column name (input data). Can be quoted or unquoted (ie. lat or 'lat').</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_long">long</code></td>
<td>
<p>longitude column name (input data). Can be quoted or unquoted (ie. long or 'long').</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_address">address</code></td>
<td>
<p>address column name (output data). Can be quoted or unquoted (ie. addr or 'addr').</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_return_input">return_input</code></td>
<td>
<p>if TRUE then the input dataset will be combined with the geocoder query results
and returned. If FALSE only the geocoder results will be returned.</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_limit">limit</code></td>
<td>
<p>maximum number of results to return per input coordinate. For many geocoding services
the maximum value of the limit parameter is 100. Pass <code>limit = NULL</code> to use
the default <code>limit</code> value of the selected geocoding service.
For batch geocoding, limit must be set to 1 (default) if <code>return_coords = TRUE</code>.
To use <code>limit &gt; 1</code> or <code>limit = NULL</code> set return_input to FALSE.
Refer to <a href="#topic+api_parameter_reference">api_parameter_reference</a> for more details.</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_return_coords">return_coords</code></td>
<td>
<p>if TRUE return input coordinates. Defaults to TRUE if <code>return_input</code> is
FALSE and FALSE if <code>return_input</code> is TRUE. This argument is passed to the <code>reverse_geo()</code> function.</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_unique_only">unique_only</code></td>
<td>
<p>if TRUE then only unique results will be returned and
return_input will be set to FALSE.</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_...">...</code></td>
<td>
<p>arguments passed to the <a href="#topic+reverse_geo">reverse_geo</a> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble (dataframe)
</p>


<h3>See Also</h3>

<p><a href="#topic+reverse_geo">reverse_geo</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(tibble)
library(dplyr, warn.conflicts = FALSE)

tibble(
    latitude = c(38.895865, 43.6534817),
    longitude = c(-77.0307713,-79.3839347)
  ) %&gt;%
  reverse_geocode(
    lat = latitude,
    long = longitude,
    method = 'osm',
    full_results = TRUE
  )

louisville %&gt;% head(3) %&gt;% 
  reverse_geocode(lat = latitude, long = longitude, 
  method = 'arcgis')

louisville %&gt;% head(2) %&gt;% 
  reverse_geocode(lat = latitude, long = longitude,  
  method = 'osm',
  limit = 2, return_input = FALSE)


</code></pre>

<hr>
<h2 id='sample_addresses'>Sample addresses for testing</h2><span id='topic+sample_addresses'></span>

<h3>Description</h3>

<p>Sample addresses for testing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_addresses
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe with single line addresses
</p>

<dl>
<dt>name</dt><dd><p>Description of the address</p>
</dd>
<dt>addr</dt><dd><p>Single line address</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

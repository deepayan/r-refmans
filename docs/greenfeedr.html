<!DOCTYPE html><html lang="en"><head><title>Help for package greenfeedr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {greenfeedr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#compare_gfdata'><p>Compare Preliminary and Finalized 'GreenFeed' Data</p></a></li>
<li><a href='#convert_unit'><p>Convert 'GreenFeed' Unit Number</p></a></li>
<li><a href='#ensure_date_format'><p>Check date format and transform in a usable one</p></a></li>
<li><a href='#eval_gfparam'><p>Evaluate all combination of parameters</p></a></li>
<li><a href='#filter_within_range'><p>Detect outliers in data using mean and standard deviation</p></a></li>
<li><a href='#get_gfdata'><p>Download Preliminary and Raw 'GreenFeed' Data via 'API'</p></a></li>
<li><a href='#has_credentials'><p>Check for 'API' Credentials</p></a></li>
<li><a href='#pellin'><p>Process 'GreenFeed' Pellet Intakes</p></a></li>
<li><a href='#process_gfdata'><p>Process Preliminary and Finalized 'GreenFeed' Data</p></a></li>
<li><a href='#process_rfid_data'><p>Process RFID Data</p></a></li>
<li><a href='#report_gfdata'><p>Download and Report 'GreenFeed' Data</p></a></li>
<li><a href='#viseat'><p>Process 'GreenFeed' Visits</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Process and Report 'GreenFeed' Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Guillermo Martinez-Boggio &lt;guillermo.martinezboggio@wisc.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools for downloading, processing, and reporting daily and finalized 'GreenFeed' data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, httr, lubridate, purrr, readr, readxl,
rmarkdown, stats, stringr, tidyr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/GMBog/greenfeedr/issues">https://github.com/GMBog/greenfeedr/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/GMBog/greenfeedr">https://github.com/GMBog/greenfeedr</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-15 22:11:38 UTC; GuillermoMartinez</td>
</tr>
<tr>
<td>Author:</td>
<td>Guillermo Martinez-Boggio
    <a href="https://orcid.org/0000-0003-3597-9426"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre, aut,
    cph],
  Meredith Harrison [ctb],
  Patrick Lutz [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-15 22:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='compare_gfdata'>Compare Preliminary and Finalized 'GreenFeed' Data</h2><span id='topic+compare_gfdata'></span>

<h3>Description</h3>

<p>Compare preliminary and finalized 'GreenFeed' data.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compare_gfdata_+3A_prelimrep">prelimrep</code></td>
<td>
<p>a data frame with preliminary 'GreenFeed' data</p>
</td></tr>
<tr><td><code id="compare_gfdata_+3A_finalrep">finalrep</code></td>
<td>
<p>a data frame with finalized 'GreenFeed' data</p>
</td></tr>
<tr><td><code id="compare_gfdata_+3A_start_date">start_date</code></td>
<td>
<p>a character string representing the start date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="compare_gfdata_+3A_end_date">end_date</code></td>
<td>
<p>a character string representing the end date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame including records removed from preliminary and final reports
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Datasets with preliminary and finalized GreenFeed data
prelimrep &lt;- system.file("extdata", "StudyName_GFdata.csv", package = "greenfeedr")
finalrep &lt;- system.file("extdata", "StudyName_FinalReport.xlsx", package = "greenfeedr")

data &lt;- compare_gfdata(
  prelimrep,
  finalrep,
  start_date = "2024-05-13",
  end_date = "2024-05-20"
)

</code></pre>

<hr>
<h2 id='convert_unit'>Convert 'GreenFeed' Unit Number</h2><span id='topic+convert_unit'></span>

<h3>Description</h3>

<p>Processes the parameter unit to format it correctly as a comma-separated string,
regardless of whether it is provided as a numeric, character, or list/vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_unit(unit, t)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_unit_+3A_unit">unit</code></td>
<td>
<p>Number of the 'GreenFeed' unit(s). Can be a numeric, character, list, or vector.</p>
</td></tr>
<tr><td><code id="convert_unit_+3A_t">t</code></td>
<td>
<p>Type of function (opts: 1 and 2).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string of the unit(s) in the correct comma-separated format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1: Providing unit as a character vector
unit &lt;- c("592", "593")
convert_unit(unit, 1)

# Example 2: Providing unit as a single numeric
unit &lt;- 592
convert_unit(unit, 1)

# Example 3: Providing unit as a comma-separated character string
unit &lt;- "592, 593"
convert_unit(unit, 1)

# Example 4: Providing unit as a list
unit &lt;- list(592, 593)
convert_unit(unit, 1)

</code></pre>

<hr>
<h2 id='ensure_date_format'>Check date format and transform in a usable one</h2><span id='topic+ensure_date_format'></span>

<h3>Description</h3>

<p>Check date format. If the format is wrong ('NA') an error message is printed,
else it will formatted the date in the correct way (YYYY-MM-DD)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ensure_date_format(date_input)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ensure_date_format_+3A_date_input">date_input</code></td>
<td>
<p>Date included as input</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string representing the date in 'YYYY-MM-DD' format
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example of correct date formats
ensure_date_format("2024-08-30") # "2024-08-30"
ensure_date_format("30/08/2024") # "2024-08-30"

# Example of incorrect date formats
tryCatch(
  {
    ensure_date_format("Aug-30")
  },
  error = function(e) {
    message(e$message)
  }
)

</code></pre>

<hr>
<h2 id='eval_gfparam'>Evaluate all combination of parameters</h2><span id='topic+eval_gfparam'></span>

<h3>Description</h3>

<p>Evaluate parameters that best fit your 'GreenFeed' data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_gfparam(data, start_date, end_date, cutoff)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eval_gfparam_+3A_data">data</code></td>
<td>
<p>a data frame with preliminary or finalized 'GreenFeed' data</p>
</td></tr>
<tr><td><code id="eval_gfparam_+3A_start_date">start_date</code></td>
<td>
<p>a character string representing the start date of the study (format: &quot;dd/mm/yyyy&quot;)</p>
</td></tr>
<tr><td><code id="eval_gfparam_+3A_end_date">end_date</code></td>
<td>
<p>a character string representing the end date of the study (format: &quot;dd/mm/yyyy&quot;)</p>
</td></tr>
<tr><td><code id="eval_gfparam_+3A_cutoff">cutoff</code></td>
<td>
<p>an integer specifying the range for identifying outliers (default: 3 SD)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the mean, SD, and CV for gas production using all possible combination of parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>file &lt;- readr::read_csv(system.file("extdata", "StudyName_GFdata.csv", package = "greenfeedr"))
eval &lt;- eval_gfparam(data = file,
                     start_date = "2024-05-13",
                     end_date = "2024-05-20"
                    )

</code></pre>

<hr>
<h2 id='filter_within_range'>Detect outliers in data using mean and standard deviation</h2><span id='topic+filter_within_range'></span>

<h3>Description</h3>

<p>Detect outliers using the mean and standard deviation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_within_range(v, cutoff)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_within_range_+3A_v">v</code></td>
<td>
<p>A vector with data</p>
</td></tr>
<tr><td><code id="filter_within_range_+3A_cutoff">cutoff</code></td>
<td>
<p>A threshold or cutoff value that defines the range (e.g., 3)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector of the same length as 'v', where each element is 'TRUE' if the corresponding value in 'v' falls within the specified range, and 'FALSE' otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Sample data
data &lt;- c(10, 12, 14, 15, 20, 25, 30, 100)

# Detect values within 3 standard deviations from the mean
filter_within_range(data, cutoff = 3)

# Result:
# [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
# Explanation: All values fall within 2.5 standard deviations from the mean.

# Detect values within 1 standard deviation from the mean
filter_within_range(data, cutoff = 1)

# Result:
# [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE FALSE
# Explanation: All values except 100 fall within 1 standard deviation from the mean.

</code></pre>

<hr>
<h2 id='get_gfdata'>Download Preliminary and Raw 'GreenFeed' Data via 'API'</h2><span id='topic+get_gfdata'></span>

<h3>Description</h3>

<p>Downloads preliminary and raw 'GreenFeed' data from the 'C-Lock Inc.' server via an 'API'.
Retrieves data based on specified parameters (login, date range, and units), and
provides a CSV file with the 'GreenFeed' preliminary data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_gfdata(
  user,
  pass,
  d = "visits",
  exp = NA,
  unit,
  start_date,
  end_date = Sys.Date(),
  save_dir = tempdir()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_gfdata_+3A_user">user</code></td>
<td>
<p>a character string representing the user name to logging into 'GreenFeed' system</p>
</td></tr>
<tr><td><code id="get_gfdata_+3A_pass">pass</code></td>
<td>
<p>a character string representing password to logging into 'GreenFeed' system</p>
</td></tr>
<tr><td><code id="get_gfdata_+3A_d">d</code></td>
<td>
<p>a character string representing data type to download (opts: &quot;visits&quot;, &quot;feed&quot;, &quot;rfid&quot;, &quot;cmds&quot;)</p>
</td></tr>
<tr><td><code id="get_gfdata_+3A_exp">exp</code></td>
<td>
<p>a character string representing study name or other study identifier. It is used as file name to save the data</p>
</td></tr>
<tr><td><code id="get_gfdata_+3A_unit">unit</code></td>
<td>
<p>numeric or character vector, or a list representing one or more 'GreenFeed' unit numbers</p>
</td></tr>
<tr><td><code id="get_gfdata_+3A_start_date">start_date</code></td>
<td>
<p>a character string representing the start date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="get_gfdata_+3A_end_date">end_date</code></td>
<td>
<p>a character string representing the end date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="get_gfdata_+3A_save_dir">save_dir</code></td>
<td>
<p>a character string representing the directory to save the output file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A CSV file with the specified data (visits or raw) saved in the provided directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Please replace "your_username" and "your_password" with your actual 'GreenFeed' credentials.
# By default, the function downloads the preliminary 'GreenFeed' data,
# if raw data is needed use options: "feed", "rfid", or "cmds"

get_gfdata(
  user = "your_username",
  pass = "your_password",
  d = "visits",
  exp = "StudyName",
  unit = c(304, 305),
  start_date = "2024-01-01",
  end_date = Sys.Date(),
  save_dir = tempdir()
)

</code></pre>

<hr>
<h2 id='has_credentials'>Check for 'API' Credentials</h2><span id='topic+has_credentials'></span>

<h3>Description</h3>

<p>Check if necessary 'API' credentials are available in the environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_credentials()
</code></pre>


<h3>Value</h3>

<p>A logical value: 'TRUE' if both 'API_USER' and 'API_PASS' environment variables are set (i.e., not 'NA'); 'FALSE' otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1: When environment variables are set
Sys.setenv(API_USER = "my_username", API_PASS = "my_password")
has_credentials()
# Expected output: TRUE

# Example 2: When one or both environment variables are not set
Sys.unsetenv("API_USER")
Sys.unsetenv("API_PASS")
has_credentials()
# Expected output: FALSE

# Clean up by removing environment variables
Sys.unsetenv("API_USER")
Sys.unsetenv("API_PASS")

</code></pre>

<hr>
<h2 id='pellin'>Process 'GreenFeed' Pellet Intakes</h2><span id='topic+pellin'></span>

<h3>Description</h3>

<p>Processes 'feedtimes' file from 'GreenFeed' system.
Food drops are used to calculate pellet intakes per animal.
Aggregates data to provide insights into the feeding behavior
and pellet consumption of the animals during a study.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pellin_+3A_user">user</code></td>
<td>
<p>a character string representing the user name to logging into 'GreenFeed' system</p>
</td></tr>
<tr><td><code id="pellin_+3A_pass">pass</code></td>
<td>
<p>a character string representing password to logging into 'GreenFeed' system</p>
</td></tr>
<tr><td><code id="pellin_+3A_unit">unit</code></td>
<td>
<p>numeric or character vector or list representing one or more 'GreenFeed' unit numbers. The order should match with &quot;feedtimes&quot; files</p>
</td></tr>
<tr><td><code id="pellin_+3A_gcup">gcup</code></td>
<td>
<p>a numeric value representing the grams of pellets per cup.</p>
</td></tr>
<tr><td><code id="pellin_+3A_start_date">start_date</code></td>
<td>
<p>a character string representing the start date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="pellin_+3A_end_date">end_date</code></td>
<td>
<p>a character string representing the end date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="pellin_+3A_save_dir">save_dir</code></td>
<td>
<p>a character string representing the directory to save the output file</p>
</td></tr>
<tr><td><code id="pellin_+3A_rfid_file">rfid_file</code></td>
<td>
<p>a character string representing the file with individual IDs. The order should be Visual ID (col1) and RFID (col2)</p>
</td></tr>
<tr><td><code id="pellin_+3A_file_path">file_path</code></td>
<td>
<p>a character string or list representing files(s) with &quot;feedtimes&quot; from 'C-Lock Inc.'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An Excel file with pellet intakes for all animals and days within the specified period is saved to save_dir.
The file is named &quot;Pellet_Intakes_YYYY-MM-DD_YYYY-MM-DD.csv&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># You should provide the 'feedtimes' file provided by C-Lock.
# it could be a list of files if you have data from multiple units to combine
path &lt;- system.file("extdata", "feedtimes.csv", package = "greenfeedr")

# You must include the grams of pellets per cup based on the result obtained from the 10-drops test

# If the user include an rfid file, the structure should be in col1 AnimalName or Visual ID, and
# col2 the RFID or TAG_ID. The file could be save in different formats (.xlsx, .csv, or .txt).
RFIDs &lt;- system.file("extdata", "RFID_file.csv", package = "greenfeedr")

pellin(
  unit = 1,
  gcup = 34,
  start_date = "2024-05-13",
  end_date = "2024-05-25",
  save_dir = tempdir(),
  rfid_file = RFIDs,
  file_path = path
)

</code></pre>

<hr>
<h2 id='process_gfdata'>Process Preliminary and Finalized 'GreenFeed' Data</h2><span id='topic+process_gfdata'></span>

<h3>Description</h3>

<p>Processes and calculates daily and weekly averages of 'GreenFeed' data.
Handles data filtering, aggregation, and summarization to facilitate further analysis.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="process_gfdata_+3A_data">data</code></td>
<td>
<p>a data frame with preliminary or finalized 'GreenFeed' data</p>
</td></tr>
<tr><td><code id="process_gfdata_+3A_start_date">start_date</code></td>
<td>
<p>a character string representing the start date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="process_gfdata_+3A_end_date">end_date</code></td>
<td>
<p>a character string representing the end date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="process_gfdata_+3A_param1">param1</code></td>
<td>
<p>an integer representing the number of records per day to be consider for analysis</p>
</td></tr>
<tr><td><code id="process_gfdata_+3A_param2">param2</code></td>
<td>
<p>an integer representing the number of days with records per week to be consider for analysis</p>
</td></tr>
<tr><td><code id="process_gfdata_+3A_min_time">min_time</code></td>
<td>
<p>an integer representing the minimum number of minutes for a records to be consider for analysis (default: 2 minutes)</p>
</td></tr>
<tr><td><code id="process_gfdata_+3A_cutoff">cutoff</code></td>
<td>
<p>an integer specifying the range for identifying outliers (default: 3 SD)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of three data frames:
</p>
<table role = "presentation">
<tr><td><code>filtered_data</code></td>
<td>
<p>data frame with filtered 'GreenFeed' data</p>
</td></tr>
<tr><td><code>daily_data</code></td>
<td>
<p>data frame with daily processed 'GreenFeed' data</p>
</td></tr>
<tr><td><code>weekly_data</code></td>
<td>
<p>data frame with weekly processed 'GreenFeed' data</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>file &lt;- system.file("extdata", "StudyName_GFdata.csv", package = "greenfeedr")
datafile &lt;- readr::read_csv(file)

gf_data &lt;- process_gfdata(
  data = datafile,
  start_date = "2024-05-13",
  end_date = "2024-05-25",
  param1 = 2,
  param2 = 3,
  min_time = 2
)
head(gf_data)

</code></pre>

<hr>
<h2 id='process_rfid_data'>Process RFID Data</h2><span id='topic+process_rfid_data'></span>

<h3>Description</h3>

<p>Processes RFID data from animals in the study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_rfid_data(rfid_file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="process_rfid_data_+3A_rfid_file">rfid_file</code></td>
<td>
<p>Path or data frame containing RFID data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with standardized column names ('FarmName' and 'RFID'). If the input is invalid or if no valid data is provided, the function returns 'NULL'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example with a data frame
df &lt;- data.frame(
  V1 = c("Farm1", "Farm2", "Farm3"),
  V2 = c("12345", "67890", "54321")
)
processed_df &lt;- process_rfid_data(df)
message(processed_df)

# Example with invalid input
invalid_data &lt;- process_rfid_data(NULL)
# Expected output: message "RFID is NA. It is recommended to include it." and NULL
message(invalid_data)

# Example with unsupported file format
# Assuming 'rfid_data.docx' is an unsupported file format
invalid_file &lt;- process_rfid_data("path/to/rfid_data.docx")
# Expected output: error message "Unsupported file format."
message(invalid_file)

</code></pre>

<hr>
<h2 id='report_gfdata'>Download and Report 'GreenFeed' Data</h2><span id='topic+report_gfdata'></span>

<h3>Description</h3>

<p>Generates a PDF report of preliminary and finalized 'GreenFeed' data.
The report includes: number of animals using 'GreenFeed' and plots with distribution of records and gas production.
If the preliminary option is used, the data is retrieved from the 'C-Lock Inc.' server through an 'API',
otherwise the data processed by 'C-Lock Inc.' must be provided to generate the report.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="report_gfdata_+3A_input_type">input_type</code></td>
<td>
<p>a character string representing type of data (options: &quot;prelim&quot; or &quot;daily, and &quot;final&quot;)</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_exp">exp</code></td>
<td>
<p>a character string representing study name or other study identifier. It is used as file name to save the data</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_unit">unit</code></td>
<td>
<p>numeric or character vector, or a list representing one or more 'GreenFeed' unit numbers</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_start_date">start_date</code></td>
<td>
<p>a character string representing the start date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_end_date">end_date</code></td>
<td>
<p>a character string representing the end date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_save_dir">save_dir</code></td>
<td>
<p>a character string representing the directory to save the output file</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_plot_opt">plot_opt</code></td>
<td>
<p>a character string representing the gas(es) to plot (options: &quot;All&quot;, &quot;CH4&quot;, &quot;CO2&quot;, &quot;O2&quot;, &quot;H2&quot;)</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_rfid_file">rfid_file</code></td>
<td>
<p>a character string representing the file with individual IDs. The order should be Visual ID (col1) and RFID (col2)</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_user">user</code></td>
<td>
<p>a character string representing the user name to logging into 'GreenFeed' system. If input_type is &quot;final&quot;, this parameter is ignored</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_pass">pass</code></td>
<td>
<p>a character string representing password to logging into 'GreenFeed' system. If input_type is &quot;final&quot;, this parameter is ignored</p>
</td></tr>
<tr><td><code id="report_gfdata_+3A_file_path">file_path</code></td>
<td>
<p>A list of file paths containing the final report(s) from the 'GreenFeed' system. If input_type is &quot;prelim&quot;, this parameter is ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A CSV file with preliminary 'GreenFeed' data and a PDF report with a description of the preliminary or finalized data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Please replace "your_username" and "your_password" with your actual 'GreenFeed' credentials.
# The data range must be fewer than 180 days
# Example without rfid_file (by default NA)

report_gfdata(
  user = "your_username",
  pass = "your_password",
  input_type = "prelim",
  exp = "StudyName",
  unit = 1,
  start_date = "2023-01-01",
  end_date = Sys.Date(),
  save_dir = tempdir(),
  plot_opt = "All"
)

</code></pre>

<hr>
<h2 id='viseat'>Process 'GreenFeed' Visits</h2><span id='topic+viseat'></span>

<h3>Description</h3>

<p>Processes 'GreenFeed' visits and food drops for a requested period.
Generates a list of animals not visiting the 'GreenFeed' to manage them,
and a description of animals visiting the 'GreenFeed'.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="viseat_+3A_user">user</code></td>
<td>
<p>a character string representing the user name to logging into 'GreenFeed' system</p>
</td></tr>
<tr><td><code id="viseat_+3A_pass">pass</code></td>
<td>
<p>a character string representing password to logging into 'GreenFeed' system</p>
</td></tr>
<tr><td><code id="viseat_+3A_unit">unit</code></td>
<td>
<p>numeric or character vector or list representing one or more GreenFeed unit numbers.</p>
</td></tr>
<tr><td><code id="viseat_+3A_start_date">start_date</code></td>
<td>
<p>a character string representing the start date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="viseat_+3A_end_date">end_date</code></td>
<td>
<p>a character string representing the end date of the study (format: &quot;dmy&quot;)</p>
</td></tr>
<tr><td><code id="viseat_+3A_rfid_file">rfid_file</code></td>
<td>
<p>a character string representing the file with individual RFIDs. The order should be Visual ID (col1) and RFID (col2)</p>
</td></tr>
<tr><td><code id="viseat_+3A_file_path">file_path</code></td>
<td>
<p>a character string or list representing files(s) with feedtimes from 'C-Lock Inc.'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of two data frames:
</p>
<table role = "presentation">
<tr><td><code>visits_per_unit</code></td>
<td>
<p>Data frame with daily processed 'GreenFeed' data, including columns for VisualID, Date, Time, number of drops, and visits.</p>
</td></tr>
<tr><td><code>visits_per_animal</code></td>
<td>
<p>Data frame with weekly processed 'GreenFeed' data, including columns for VisualID, total drops, total visits, mean drops, and mean visits.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># You should provide the feedtimes files.
# it could be a list of files if you have data from multiple units to combine
path &lt;- system.file("extdata", "feedtimes.csv", package = "greenfeedr")

# If the user include an rfid file, the structure should be in col1 AnimalName or VisualID, and
# col2 the RFID or TAG_ID. The file could be save in different formats (.xlsx, .csv, or .txt).
RFIDs &lt;- system.file("extdata", "RFID_file.csv", package = "greenfeedr")

data &lt;- viseat(
  file_path = path,
  unit = 1,
  start_date = "2024-05-13",
  end_date = "2024-05-25",
  rfid_file = RFIDs
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

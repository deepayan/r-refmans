<!DOCTYPE html><html lang="en-US"><head><title>Help for package rJavaEnv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rJavaEnv}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rJavaEnv-package'><p>rJavaEnv: 'Java' Environments for R Projects</p></a></li>
<li><a href='#global_quiet_param'><p>Global Quiet Parameter</p></a></li>
<li><a href='#java_check_version_cmd'><p>Check installed Java version using terminal commands</p></a></li>
<li><a href='#java_check_version_rjava'><p>Check Java Version with a Specified JAVA_HOME Using a Separate R Session</p></a></li>
<li><a href='#java_check_version_system'><p>Check and print Java path and version using system commands</p></a></li>
<li><a href='#java_clear'><p>Manage Java installations and distributions caches</p></a></li>
<li><a href='#java_clear_distrib_cache'><p>Clear the Java distributions cache folder</p></a></li>
<li><a href='#java_clear_in_project'><p>Clear the Java versions symlinked in the current project</p></a></li>
<li><a href='#java_clear_installed_cache'><p>Clear the Java installations cache folder</p></a></li>
<li><a href='#java_download'><p>Download a Java distribution</p></a></li>
<li><a href='#java_env_set'><p>Set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables to a given path</p></a></li>
<li><a href='#java_env_set_rprofile'><p>Update the .Rprofile file in the project directory</p></a></li>
<li><a href='#java_env_set_session'><p>Set the JAVA_HOME and PATH environment variables for the current session</p></a></li>
<li><a href='#java_env_unset'><p>Unset the JAVA_HOME and PATH environment variables in the project .Rprofile</p></a></li>
<li><a href='#java_install'><p>Install Java from a distribution file</p></a></li>
<li><a href='#java_list'><p>List the contents of the Java versions installed or cached</p></a></li>
<li><a href='#java_list_distrib_cache'><p>List the contents of the Java distributions cache folder</p></a></li>
<li><a href='#java_list_in_project'><p>List the Java versions symlinked in the current project</p></a></li>
<li><a href='#java_list_installed_cache'><p>List the contents of the Java installations cache folder</p></a></li>
<li><a href='#java_quick_install'><p>Download and install and set Java in current working/project directory</p></a></li>
<li><a href='#java_unpack'><p>Unpack a Java distribution file into cache directory</p></a></li>
<li><a href='#java_urls_load'><p>Load Java URLs from JSON file</p></a></li>
<li><a href='#java_version_check_rscript'><p>Check Java version using rJava</p></a></li>
<li><a href='#platform_detect'><p>Detect platform and architecture</p></a></li>
<li><a href='#rje_consent'><p>Obtain User Consent for rJavaEnv</p></a></li>
<li><a href='#rje_consent_check'><p>Verify User Consent for rJavaEnv</p></a></li>
<li><a href='#rje_envvar_exists'><p>Helper for clean env var check</p></a></li>
<li><a href='#urls_test_all'><p>Test all Java URLs</p></a></li>
<li><a href='#use_java'><p>Install specified Java version and set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables in current R session</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>'Java' Environments for R Projects</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Quickly install 'Java Development Kit (JDK)' without
    administrative privileges and set environment variables in current R
    session or project to solve common issues with 'Java' environment
    management in 'R'. Recommended to users of 'Java'/'rJava'-dependent
    'R' packages such as 'r5r', 'opentripplanner', 'xlsx', 'openNLP',
    'rWeka', 'RJDBC', 'tabulapdf', and many more. 'rJavaEnv' prevents
    common problems like 'Java' not found, 'Java' version conflicts,
    missing 'Java' installations, and the inability to install 'Java' due
    to lack of administrative privileges.  'rJavaEnv' automates the
    download, installation, and setup of the 'Java' on a per-project basis
    by setting the relevant 'JAVA_HOME' in the current 'R' session or the
    current working directory (via '.Rprofile', with the user's consent).
    Similar to what 'renv' does for 'R' packages, 'rJavaEnv' allows
    different 'Java' versions to be used across different projects, but
    can also be configured to allow multiple versions within the same
    project (e.g.  with the help of 'targets' package). Note: there are a
    few extra steps for 'Linux' users, who don't have any 'Java'
    previously installed in their system, and who prefer package
    installation from source, rather then installing binaries from 'Posit
    Package Manager'. See documentation for details.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/e-kotov/rJavaEnv">https://github.com/e-kotov/rJavaEnv</a>,
<a href="https://www.ekotov.pro/rJavaEnv/">https://www.ekotov.pro/rJavaEnv/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/e-kotov/rJavaEnv/issues">https://github.com/e-kotov/rJavaEnv/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, cli, curl, jsonlite, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>quarto, rJava, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>quarto</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-13 19:17:45 UTC; ek</td>
</tr>
<tr>
<td>Author:</td>
<td>Egor Kotov <a href="https://orcid.org/0000-0001-6690-5345"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Mauricio Vargas <a href="https://orcid.org/0000-0003-1017-7574"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Hadley Wickham [ctb] (use_java feature suggestion and PR review)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Egor Kotov &lt;kotov.egor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-13 19:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rJavaEnv-package'>rJavaEnv: 'Java' Environments for R Projects</h2><span id='topic+rJavaEnv'></span><span id='topic+rJavaEnv-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Quickly install 'Java Development Kit (JDK)' without administrative privileges and set environment variables in current R session or project to solve common issues with 'Java' environment management in 'R'. Recommended to users of 'Java'/'rJava'-dependent 'R' packages such as 'r5r', 'opentripplanner', 'xlsx', 'openNLP', 'rWeka', 'RJDBC', 'tabulapdf', and many more. 'rJavaEnv' prevents common problems like 'Java' not found, 'Java' version conflicts, missing 'Java' installations, and the inability to install 'Java' due to lack of administrative privileges. 'rJavaEnv' automates the download, installation, and setup of the 'Java' on a per-project basis by setting the relevant 'JAVA_HOME' in the current 'R' session or the current working directory (via '.Rprofile', with the user's consent). Similar to what 'renv' does for 'R' packages, 'rJavaEnv' allows different 'Java' versions to be used across different projects, but can also be configured to allow multiple versions within the same project (e.g. with the help of 'targets' package). Note: there are a few extra steps for 'Linux' users, who don't have any 'Java' previously installed in their system, and who prefer package installation from source, rather then installing binaries from 'Posit Package Manager'. See documentation for details.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Egor Kotov <a href="mailto:kotov.egor@gmail.com">kotov.egor@gmail.com</a> (<a href="https://orcid.org/0000-0001-6690-5345">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Mauricio Vargas <a href="mailto:mavargas11@uc.cl">mavargas11@uc.cl</a> (<a href="https://orcid.org/0000-0003-1017-7574">ORCID</a>) [contributor]
</p>
</li>
<li><p> Hadley Wickham <a href="mailto:hadley@posit.co">hadley@posit.co</a> (use_java feature suggestion and PR review) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/e-kotov/rJavaEnv">https://github.com/e-kotov/rJavaEnv</a>
</p>
</li>
<li> <p><a href="https://www.ekotov.pro/rJavaEnv/">https://www.ekotov.pro/rJavaEnv/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/e-kotov/rJavaEnv/issues">https://github.com/e-kotov/rJavaEnv/issues</a>
</p>
</li></ul>


<hr>
<h2 id='global_quiet_param'>Global Quiet Parameter</h2><span id='topic+global_quiet_param'></span>

<h3>Description</h3>

<p>Documentation for the <code>quiet</code> parameter, used globally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>global_quiet_param(quiet)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="global_quiet_param_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='java_check_version_cmd'>Check installed Java version using terminal commands</h2><span id='topic+java_check_version_cmd'></span>

<h3>Description</h3>

<p>Check installed Java version using terminal commands
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_check_version_cmd(java_home = NULL, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_check_version_cmd_+3A_java_home">java_home</code></td>
<td>
<p>Path to Java home directory. If NULL, the function uses the JAVA_HOME environment variable.</p>
</td></tr>
<tr><td><code id="java_check_version_cmd_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector of length 1 containing the major Java version.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>java_check_version_cmd()

</code></pre>

<hr>
<h2 id='java_check_version_rjava'>Check Java Version with a Specified JAVA_HOME Using a Separate R Session</h2><span id='topic+java_check_version_rjava'></span>

<h3>Description</h3>

<p>This function sets the JAVA_HOME environment variable, initializes the JVM using rJava, and prints the Java version that would be used if the user sets the given JAVA_HOME in the current R session. This check is performed in a separate R session to avoid having to reload the current R session. The reason for this is that once Java is initialized in an R session, it cannot be uninitialized unless the current R session is restarted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_check_version_rjava(java_home = NULL, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_check_version_rjava_+3A_java_home">java_home</code></td>
<td>
<p>Path to Java home directory. If NULL, the function uses the JAVA_HOME environment variable.</p>
</td></tr>
<tr><td><code id="java_check_version_rjava_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector of length 1 containing the major Java version.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
java_check_version_rjava()

## End(Not run)

</code></pre>

<hr>
<h2 id='java_check_version_system'>Check and print Java path and version using system commands</h2><span id='topic+java_check_version_system'></span>

<h3>Description</h3>

<p>This function checks the Java executable path and retrieves the Java version,
then prints these details to the console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_check_version_system(quiet)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_check_version_system_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector of length 1 containing the major Java version.
</p>

<hr>
<h2 id='java_clear'>Manage Java installations and distributions caches</h2><span id='topic+java_clear'></span>

<h3>Description</h3>

<p>Wrapper function to clear the Java symlinked in the current project, installed, or distributions caches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_clear(
  type = c("project", "installed", "distrib"),
  target_dir = NULL,
  check = TRUE,
  delete_all = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_clear_+3A_type">type</code></td>
<td>
<p>What to clear: &quot;project&quot; - remove symlinks to install cache in the current project, &quot;installed&quot; - remove installed Java versions, &quot;distrib&quot; - remove downloaded Java distributions.</p>
</td></tr>
<tr><td><code id="java_clear_+3A_target_dir">target_dir</code></td>
<td>
<p>The directory to clear. Defaults to current working directory for &quot;project&quot; and user-specific data directory for &quot;installed&quot; and &quot;distrib&quot;. Not recommended to change.</p>
</td></tr>
<tr><td><code id="java_clear_+3A_check">check</code></td>
<td>
<p>Whether to list the contents of the cache directory before clearing it. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="java_clear_+3A_delete_all">delete_all</code></td>
<td>
<p>Whether to delete all items without prompting. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message indicating whether the cache was cleared or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
java_clear("project", target_dir = tempdir())
java_clear("installed", target_dir = tempdir())
java_clear("distrib", target_dir = tempdir())

## End(Not run)

</code></pre>

<hr>
<h2 id='java_clear_distrib_cache'>Clear the Java distributions cache folder</h2><span id='topic+java_clear_distrib_cache'></span>

<h3>Description</h3>

<p>Clear the Java distributions cache folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_clear_distrib_cache(
  cache_path = getOption("rJavaEnv.cache_path"),
  check = TRUE,
  delete_all = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_clear_distrib_cache_+3A_cache_path">cache_path</code></td>
<td>
<p>The cache directory to clear. Defaults to the user-specific data directory.</p>
</td></tr>
<tr><td><code id="java_clear_distrib_cache_+3A_check">check</code></td>
<td>
<p>Whether to list the contents of the cache directory before clearing it. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="java_clear_distrib_cache_+3A_delete_all">delete_all</code></td>
<td>
<p>Whether to delete all items without prompting. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message indicating whether the cache was cleared or not.
</p>

<hr>
<h2 id='java_clear_in_project'>Clear the Java versions symlinked in the current project</h2><span id='topic+java_clear_in_project'></span>

<h3>Description</h3>

<p>Clear the Java versions symlinked in the current project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_clear_in_project(project_path = NULL, check = TRUE, delete_all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_clear_in_project_+3A_project_path">project_path</code></td>
<td>
<p>The project directory to clear. Defaults to the current working directory.</p>
</td></tr>
<tr><td><code id="java_clear_in_project_+3A_check">check</code></td>
<td>
<p>Whether to list the symlinked Java versions before clearing them. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="java_clear_in_project_+3A_delete_all">delete_all</code></td>
<td>
<p>Whether to delete all symlinks without prompting. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message indicating whether the symlinks were cleared or not.
</p>

<hr>
<h2 id='java_clear_installed_cache'>Clear the Java installations cache folder</h2><span id='topic+java_clear_installed_cache'></span>

<h3>Description</h3>

<p>Clear the Java installations cache folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_clear_installed_cache(
  check = TRUE,
  delete_all = FALSE,
  cache_path = getOption("rJavaEnv.cache_path")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_clear_installed_cache_+3A_check">check</code></td>
<td>
<p>Whether to list the contents of the cache directory before clearing it. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="java_clear_installed_cache_+3A_delete_all">delete_all</code></td>
<td>
<p>Whether to delete all installations without prompting. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="java_clear_installed_cache_+3A_cache_path">cache_path</code></td>
<td>
<p>The cache directory to clear. Defaults to the user-specific data directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message indicating whether the cache was cleared or not.
</p>

<hr>
<h2 id='java_download'>Download a Java distribution</h2><span id='topic+java_download'></span>

<h3>Description</h3>

<p>Download a Java distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_download(
  version = 21,
  distribution = "Corretto",
  cache_path = getOption("rJavaEnv.cache_path"),
  platform = platform_detect()$os,
  arch = platform_detect()$arch,
  quiet = FALSE,
  temp_dir = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_download_+3A_version">version</code></td>
<td>
<p><code>Integer</code> or <code>character</code> vector of length 1 for major version of Java to download or install. If not specified, defaults to the latest LTS version. Can be &quot;8&quot;, &quot;11&quot;, &quot;17&quot;, &quot;21&quot;, &quot;22&quot;, or 8, 11, 17, 21, or 22.</p>
</td></tr>
<tr><td><code id="java_download_+3A_distribution">distribution</code></td>
<td>
<p>The Java distribution to download. If not specified, defaults to &quot;Amazon Corretto&quot;. Currently only <a href="https://aws.amazon.com/corretto/">&quot;Amazon Corretto&quot;</a> is supported.</p>
</td></tr>
<tr><td><code id="java_download_+3A_cache_path">cache_path</code></td>
<td>
<p>The destination directory to download the Java distribution to. Defaults to a user-specific data directory.</p>
</td></tr>
<tr><td><code id="java_download_+3A_platform">platform</code></td>
<td>
<p>The platform for which to download the Java distribution. Defaults to the current platform.</p>
</td></tr>
<tr><td><code id="java_download_+3A_arch">arch</code></td>
<td>
<p>The architecture for which to download the Java distribution. Defaults to the current architecture.</p>
</td></tr>
<tr><td><code id="java_download_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="java_download_+3A_temp_dir">temp_dir</code></td>
<td>
<p>A logical. Whether the file should be saved in a temporary directory. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path to the downloaded Java distribution file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# download distribution of Java version 17
java_download(version = "17", temp_dir = TRUE)

# download default Java distribution (version 21)
java_download(temp_dir = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='java_env_set'>Set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables to a given path</h2><span id='topic+java_env_set'></span>

<h3>Description</h3>

<p>Set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables to a given path
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_env_set(
  where = c("session", "both", "project"),
  java_home,
  project_path = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_env_set_+3A_where">where</code></td>
<td>
<p>Where to set the <code>JAVA_HOME</code>: &quot;session&quot;, &quot;project&quot;, or &quot;both&quot;. Defaults to &quot;session&quot; and only updates the paths in the current R session. When &quot;both&quot; or &quot;project&quot; is selected, the function updates the .Rprofile file in the project directory to set the JAVA_HOME and PATH environment variables at the start of the R session.</p>
</td></tr>
<tr><td><code id="java_env_set_+3A_java_home">java_home</code></td>
<td>
<p>The path to the desired <code>JAVA_HOME</code>.</p>
</td></tr>
<tr><td><code id="java_env_set_+3A_project_path">project_path</code></td>
<td>
<p>A <code>character</code> vector of length 1 containing the project directory where Java should be installed. If not specified or <code>NULL</code>, defaults to the current working directory.</p>
</td></tr>
<tr><td><code id="java_env_set_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. Sets the JAVA_HOME and PATH environment variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# download, install Java 17
java_17_distrib &lt;- java_download(version = "17", temp_dir = TRUE)
java_home &lt;- java_install(
  java_distrib_path = java_17_distrib,
  project_path = tempdir(),
  autoset_java_env = FALSE
)

# now manually set the JAVA_HOME and PATH environment variables in current session
java_env_set(
  where = "session",
  java_home = java_home
)

# or set JAVA_HOME and PATH in the spefific projects' .Rprofile
java_env_set(
  where = "session",
  java_home = java_home,
  project_path = tempdir()
)


## End(Not run)
</code></pre>

<hr>
<h2 id='java_env_set_rprofile'>Update the .Rprofile file in the project directory</h2><span id='topic+java_env_set_rprofile'></span>

<h3>Description</h3>

<p>Update the .Rprofile file in the project directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_env_set_rprofile(java_home, project_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_env_set_rprofile_+3A_java_home">java_home</code></td>
<td>
<p>The path to the desired JAVA_HOME.</p>
</td></tr>
<tr><td><code id="java_env_set_rprofile_+3A_project_path">project_path</code></td>
<td>
<p>A <code>character</code> vector of length 1 containing the project directory where Java should be installed. If not specified or <code>NULL</code>, defaults to the current working directory.</p>
</td></tr>
</table>

<hr>
<h2 id='java_env_set_session'>Set the JAVA_HOME and PATH environment variables for the current session</h2><span id='topic+java_env_set_session'></span>

<h3>Description</h3>

<p>Set the JAVA_HOME and PATH environment variables for the current session
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_env_set_session(java_home)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_env_set_session_+3A_java_home">java_home</code></td>
<td>
<p>The path to the desired JAVA_HOME.</p>
</td></tr>
</table>

<hr>
<h2 id='java_env_unset'>Unset the JAVA_HOME and PATH environment variables in the project .Rprofile</h2><span id='topic+java_env_unset'></span>

<h3>Description</h3>

<p>Unset the JAVA_HOME and PATH environment variables in the project .Rprofile
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_env_unset(project_path = NULL, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_env_unset_+3A_project_path">project_path</code></td>
<td>
<p>A <code>character</code> vector of length 1 containing the project directory where Java should be installed. If not specified or <code>NULL</code>, defaults to the current working directory.</p>
</td></tr>
<tr><td><code id="java_env_unset_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. Removes the JAVA_HOME and PATH environment variables settings from the project .Rprofile.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# clear the JAVA_HOME and PATH environment variables in the specified project .Rprofile
java_env_unset(project_path = tempdir())

## End(Not run)
</code></pre>

<hr>
<h2 id='java_install'>Install Java from a distribution file</h2><span id='topic+java_install'></span>

<h3>Description</h3>

<p>Unpack Java distribution file into cache directory and link the installation into a project directory, optionally setting the <code>JAVA_HOME</code> and <code>PATH</code> environment variables to the Java version that was just installed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_install(
  java_distrib_path,
  project_path = NULL,
  autoset_java_env = TRUE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_install_+3A_java_distrib_path">java_distrib_path</code></td>
<td>
<p>A <code>character</code> vector of length 1 containing the path to the Java distribution file.</p>
</td></tr>
<tr><td><code id="java_install_+3A_project_path">project_path</code></td>
<td>
<p>A <code>character</code> vector of length 1 containing the project directory where Java should be installed. If not specified or <code>NULL</code>, defaults to the current working directory.</p>
</td></tr>
<tr><td><code id="java_install_+3A_autoset_java_env">autoset_java_env</code></td>
<td>
<p>A <code>logical</code> indicating whether to set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables to the installed Java directory. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="java_install_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path to the installed Java directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# set cache dir to temporary directory
options(rJavaEnv.cache_path = tempdir())
# download, install and autoset environmnet variables for Java 17
java_17_distrib &lt;- java_download(version = "17")
java_install(java_distrib_path = java_17_distrib, project_path = tempdir())

## End(Not run)
</code></pre>

<hr>
<h2 id='java_list'>List the contents of the Java versions installed or cached</h2><span id='topic+java_list'></span>

<h3>Description</h3>

<p>This function lists one of the following:
</p>

<ul>
<li> <p><code>project</code> - list the contents of the Java symlinked/copied in the current project or directory specified by <code>target_dir</code>
</p>
</li>
<li> <p><code>distrib</code> - list the contents of the downloaded Java distributions cache in default location or specified by <code>target_dir</code>
</p>
</li>
<li> <p><code>installed</code> - list the contents of the Java installations cache (unpacked distributions) in default location or specified by <code>target_dir</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>java_list(
  type = c("project", "installed", "distrib"),
  output = c("data.frame", "vector"),
  quiet = TRUE,
  target_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_list_+3A_type">type</code></td>
<td>
<p>The type of cache to list: &quot;distrib&quot;, &quot;installed&quot;, or &quot;project&quot;. Defaults to &quot;project&quot;.</p>
</td></tr>
<tr><td><code id="java_list_+3A_output">output</code></td>
<td>
<p>The format of the output: <code style="white-space: pre;">&#8288;data.frame`` or &#8288;</code>vector&ldquo;. Defaults to <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="java_list_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="java_list_+3A_target_dir">target_dir</code></td>
<td>
<p>The cache directory to list. Defaults to the user-specific data directory for &quot;distrib&quot; and &quot;installed&quot;, and the current working directory for &quot;project&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dataframe</code> or <code>character</code> <code>vector</code> with the contents of the specified cache or project directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
java_list("project")
java_list("installed")
java_list("distrib")

## End(Not run)

</code></pre>

<hr>
<h2 id='java_list_distrib_cache'>List the contents of the Java distributions cache folder</h2><span id='topic+java_list_distrib_cache'></span>

<h3>Description</h3>

<p>List the contents of the Java distributions cache folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_list_distrib_cache(
  cache_path = getOption("rJavaEnv.cache_path"),
  output = c("data.frame", "vector"),
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_list_distrib_cache_+3A_cache_path">cache_path</code></td>
<td>
<p>The destination directory to download the Java distribution to. Defaults to a user-specific data directory.</p>
</td></tr>
<tr><td><code id="java_list_distrib_cache_+3A_output">output</code></td>
<td>
<p>The format of the output: &quot;data.frame&quot; or &quot;vector&quot;. Defaults to &quot;data.frame&quot;.</p>
</td></tr>
<tr><td><code id="java_list_distrib_cache_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the contents of the cache directory.
</p>

<hr>
<h2 id='java_list_in_project'>List the Java versions symlinked in the current project</h2><span id='topic+java_list_in_project'></span>

<h3>Description</h3>

<p>List the Java versions symlinked in the current project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_list_in_project(
  project_path = NULL,
  output = c("data.frame", "vector"),
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_list_in_project_+3A_project_path">project_path</code></td>
<td>
<p>The project directory to list. Defaults to the current working directory.</p>
</td></tr>
<tr><td><code id="java_list_in_project_+3A_output">output</code></td>
<td>
<p>The format of the output: &quot;data.frame&quot; or &quot;vector&quot;. Defaults to &quot;data.frame&quot;.</p>
</td></tr>
<tr><td><code id="java_list_in_project_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame or character vector with the symlinked Java versions in the project directory.
</p>

<hr>
<h2 id='java_list_installed_cache'>List the contents of the Java installations cache folder</h2><span id='topic+java_list_installed_cache'></span>

<h3>Description</h3>

<p>List the contents of the Java installations cache folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_list_installed_cache(
  output = c("data.frame", "vector"),
  quiet = TRUE,
  cache_path = getOption("rJavaEnv.cache_path")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_list_installed_cache_+3A_output">output</code></td>
<td>
<p>The format of the output: &quot;data.frame&quot; or &quot;vector&quot;. Defaults to &quot;data.frame&quot;.</p>
</td></tr>
<tr><td><code id="java_list_installed_cache_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="java_list_installed_cache_+3A_cache_path">cache_path</code></td>
<td>
<p>The cache directory to list. Defaults to the user-specific data directory. Not recommended to change.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame or character vector with the contents of the cache directory.
</p>

<hr>
<h2 id='java_quick_install'>Download and install and set Java in current working/project directory</h2><span id='topic+java_quick_install'></span>

<h3>Description</h3>

<p>Download and install and set Java in current working/project directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_quick_install(
  version = 21,
  distribution = "Corretto",
  project_path = NULL,
  platform = platform_detect()$os,
  arch = platform_detect()$arch,
  quiet = FALSE,
  temp_dir = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_quick_install_+3A_version">version</code></td>
<td>
<p><code>Integer</code> or <code>character</code> vector of length 1 for major version of Java to download or install. If not specified, defaults to the latest LTS version. Can be &quot;8&quot;, &quot;11&quot;, &quot;17&quot;, &quot;21&quot;, &quot;22&quot;, or 8, 11, 17, 21, or 22.</p>
</td></tr>
<tr><td><code id="java_quick_install_+3A_distribution">distribution</code></td>
<td>
<p>The Java distribution to download. If not specified, defaults to &quot;Amazon Corretto&quot;. Currently only <a href="https://aws.amazon.com/corretto/">&quot;Amazon Corretto&quot;</a> is supported.</p>
</td></tr>
<tr><td><code id="java_quick_install_+3A_project_path">project_path</code></td>
<td>
<p>A <code>character</code> vector of length 1 containing the project directory where Java should be installed. If not specified or <code>NULL</code>, defaults to the current working directory.</p>
</td></tr>
<tr><td><code id="java_quick_install_+3A_platform">platform</code></td>
<td>
<p>The platform for which to download the Java distribution. Defaults to the current platform.</p>
</td></tr>
<tr><td><code id="java_quick_install_+3A_arch">arch</code></td>
<td>
<p>The architecture for which to download the Java distribution. Defaults to the current architecture.</p>
</td></tr>
<tr><td><code id="java_quick_install_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="java_quick_install_+3A_temp_dir">temp_dir</code></td>
<td>
<p>A logical. Whether the file should be saved in a temporary directory. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Message indicating that Java was installed and set in the current working/project directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# quick download, unpack, install and set in current working directory default Java version (21)
java_quick_install(17, temp_dir = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='java_unpack'>Unpack a Java distribution file into cache directory</h2><span id='topic+java_unpack'></span>

<h3>Description</h3>

<p>Unpack the Java distribution file into cache directory and return the path to the unpacked Java directory with Java binaries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_unpack(java_distrib_path, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_unpack_+3A_java_distrib_path">java_distrib_path</code></td>
<td>
<p>A <code>character</code> vector of length 1 containing the path to the Java distribution file.</p>
</td></tr>
<tr><td><code id="java_unpack_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector containing of length 1 containing the path to the unpacked Java directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# set cache dir to temporary directory
options(rJavaEnv.cache_path = tempdir())

# download Java 17 distrib and unpack it into cache dir
java_17_distrib &lt;- java_download(version = "17")
java_home &lt;- java_unpack(java_distrib_path = java_17_distrib)

# set the JAVA_HOME environment variable in the current session
# to the cache dir without touching any files in the current project directory
java_env_set(where = "session", java_home = java_home)

## End(Not run)

</code></pre>

<hr>
<h2 id='java_urls_load'>Load Java URLs from JSON file</h2><span id='topic+java_urls_load'></span>

<h3>Description</h3>

<p>Load Java URLs from JSON file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_urls_load()
</code></pre>


<h3>Value</h3>

<p>A list with the Java URLs structured as in the JSON file by distribution, platform, and architecture.
</p>

<hr>
<h2 id='java_version_check_rscript'>Check Java version using rJava</h2><span id='topic+java_version_check_rscript'></span>

<h3>Description</h3>

<p>Check Java version using rJava
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_version_check_rscript(java_home)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="java_version_check_rscript_+3A_java_home">java_home</code></td>
<td>
</td></tr>
</table>


<h3>Value</h3>

<p>A message with the Java version or an error message.
</p>

<hr>
<h2 id='platform_detect'>Detect platform and architecture</h2><span id='topic+platform_detect'></span>

<h3>Description</h3>

<p>Detect platform and architecture
</p>


<h3>Usage</h3>

<pre><code class='language-R'>platform_detect(quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="platform_detect_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of length 2 with the detected platform and architecture.
</p>

<hr>
<h2 id='rje_consent'>Obtain User Consent for rJavaEnv</h2><span id='topic+rje_consent'></span>

<h3>Description</h3>

<p>Get user consent for rJavaEnv to write and update files on the file system.
rJavaEnv needs permission to manage files in your project and cache directories
to function correctly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rje_consent(provided = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rje_consent_+3A_provided">provided</code></td>
<td>
<p>Logical indicating if consent is already provided.
To provide consent in non-interactive <span class="rlang"><b>R</b></span> sessions
use <code>rJavaEnv::rje_consent(provided = TRUE)</code>. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In line with <a href="https://cran.r-project.org/web/packages/policies.html">CRAN policies</a>, explicit user consent is required before making these changes.
Please call <code>rJavaEnv::consent()</code> to provide consent.
</p>
<p>Alternatively, you can set the following <span class="rlang"><b>R</b></span> option
(especially useful for non-interactive R sessions):
</p>
<div class="sourceCode"><pre>options(rJavaEnv.consent = TRUE)
</pre></div>
<p>The function is based on the code of the <code>renv</code> package.
Copyright 2023 Posit Software, PBC
License: https://github.com/rstudio/renv/blob/main/LICENSE
</p>


<h3>Value</h3>

<p><code>TRUE</code> if consent is given, otherwise an error is raised.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# to provide consent and prevent other functions from interrupting to get the consent
rje_consent(provided = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='rje_consent_check'>Verify User Consent for rJavaEnv</h2><span id='topic+rje_consent_check'></span>

<h3>Description</h3>

<p>Ensure that the user has granted permission for rJavaEnv to manage files on their file system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rje_consent_check()
</code></pre>


<h3>Details</h3>

<p>The function is based on the code of the <code>renv</code> package.
Copyright 2023 Posit Software, PBC
License: https://github.com/rstudio/renv/blob/main/LICENSE
</p>


<h3>Value</h3>

<p><code>TRUE</code> if consent is verified, otherwise an error is raised.
</p>

<hr>
<h2 id='rje_envvar_exists'>Helper for clean env var check</h2><span id='topic+rje_envvar_exists'></span>

<h3>Description</h3>

<p>#' The function is based on the code of the <code>renv</code> package.
Copyright 2023 Posit Software, PBC
License: https://github.com/rstudio/renv/blob/main/LICENSE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rje_envvar_exists(key)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rje_envvar_exists_+3A_key">key</code></td>
<td>
<p>The environment variable key to check.</p>
</td></tr>
</table>

<hr>
<h2 id='urls_test_all'>Test all Java URLs</h2><span id='topic+urls_test_all'></span>

<h3>Description</h3>

<p>Test all Java URLs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>urls_test_all()
</code></pre>


<h3>Value</h3>

<p>A list with the results of testing all Java URLs.
</p>

<hr>
<h2 id='use_java'>Install specified Java version and set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables in current R session</h2><span id='topic+use_java'></span>

<h3>Description</h3>

<p>Using specified Java version, set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables in the current R session. If Java distribtuion has not been downloaded yet, download it. If it was not installed into cache directory yet, install it there and then set the environment variables. This is intended as a quick and easy way to use different Java versions in R scripts that are in the same project, but require different Java versions. For example, one could use this in scripts that are called by <code>targets</code> package or <code>callr</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_java(
  version = NULL,
  distribution = "Corretto",
  cache_path = getOption("rJavaEnv.cache_path"),
  platform = platform_detect()$os,
  arch = platform_detect()$arch,
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="use_java_+3A_version">version</code></td>
<td>
<p><code>Integer</code> or <code>character</code> vector of length 1 for major version of Java to download or install. If not specified, defaults to the latest LTS version. Can be &quot;8&quot;, &quot;11&quot;, &quot;17&quot;, &quot;21&quot;, &quot;22&quot;, or 8, 11, 17, 21, or 22.</p>
</td></tr>
<tr><td><code id="use_java_+3A_distribution">distribution</code></td>
<td>
<p>The Java distribution to download. If not specified, defaults to &quot;Amazon Corretto&quot;. Currently only <a href="https://aws.amazon.com/corretto/">&quot;Amazon Corretto&quot;</a> is supported.</p>
</td></tr>
<tr><td><code id="use_java_+3A_cache_path">cache_path</code></td>
<td>
<p>The destination directory to download the Java distribution to. Defaults to a user-specific data directory.</p>
</td></tr>
<tr><td><code id="use_java_+3A_platform">platform</code></td>
<td>
<p>The platform for which to download the Java distribution. Defaults to the current platform.</p>
</td></tr>
<tr><td><code id="use_java_+3A_arch">arch</code></td>
<td>
<p>The architecture for which to download the Java distribution. Defaults to the current architecture.</p>
</td></tr>
<tr><td><code id="use_java_+3A_quiet">quiet</code></td>
<td>
<p>A <code>logical</code> value indicating whether to suppress messages. Can be <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>. Prints the message that Java was set in the current R session if <code>quiet</code> is set to <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# set cache directory for Java to be in temporary directory
options(rJavaEnv.cache_path = tempdir())

# install and set Java 8 in current R session
use_java(8)
# check Java version
"8" == java_check_version_cmd(quiet = TRUE)
"8" == java_check_version_rjava(quiet = TRUE)

# install and set Java 17 in current R session
use_java(17)
# check Java version
"17" == java_check_version_cmd(quiet = TRUE)
"17" == java_check_version_rjava(quiet = TRUE)


## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

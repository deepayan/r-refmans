<!DOCTYPE html><html><head><title>Help for package africamonitor</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {africamonitor}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.AMID'><p>Global Identifier Macros</p></a></li>
<li><a href='#africamonitor-package'><p>Africa Macroeconomic Monitor Database API</p></a></li>
<li><a href='#am_as_date'><p>Coerce Vectors to Dates</p></a></li>
<li><a href='#am_countries'><p>Dataset of Countries in the Database</p></a></li>
<li><a href='#am_data'><p>Retrieve Data from the Database</p></a></li>
<li><a href='#am_entities'><p>Dataset of African Economic and Regional Entities</p></a></li>
<li><a href='#am_expand_date'><p>Generate Temporal Identifiers from a Date Column</p></a></li>
<li><a href='#am_pivot_longer'><p>Reshape Column-Based Data to Long Format</p></a></li>
<li><a href='#am_pivot_wider'><p>Reshape Long API Data to Column-Based Format</p></a></li>
<li><a href='#am_series'><p>Retrieve Series Table</p></a></li>
<li><a href='#am_sources'><p>Retrieve Data Sources Table</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Africa Macroeconomic Monitor Database API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.4</td>
</tr>
<tr>
<td>Description:</td>
<td>An R API providing access to a relational database with macroeconomic data for Africa. 
             The database contains &gt;700 macroeconomic time series from mostly international sources, 
             grouped into 50 macroeconomic and development-related topics. Series are carefully selected
             on the basis of data coverage for Africa, frequency, and relevance to the macro-development context. 
             The project is part of the 'Kiel Institute Africa Initiative' 
             <a href="https://www.ifw-kiel.de/institute/initiatives/kiel-institute-africa-initiative/">https://www.ifw-kiel.de/institute/initiatives/kiel-institute-africa-initiative/</a>, 
             which, amongst other things, aims to develop a parsimonious database with highly relevant indicators 
             to monitor macroeconomic developments in Africa, accessible through a fast API and a web-based platform
             at <a href="https://africamonitor.ifw-kiel.de/">https://africamonitor.ifw-kiel.de/</a>. 
             The database is maintained at the Kiel Institute for the World Economy <a href="https://www.ifw-kiel.de/">https://www.ifw-kiel.de/</a>. </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://africamonitor.ifw-kiel.de/">https://africamonitor.ifw-kiel.de/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kielinstitute/africamonitor/issues">https://github.com/kielinstitute/africamonitor/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>DBI, RMySQL, data.table, collapse (&ge; 2.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-25 12:35:26 UTC; sebastiankrantz</td>
</tr>
<tr>
<td>Author:</td>
<td>Sebastian Krantz [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sebastian Krantz &lt;sebastian.krantz@graduateinstitute.ch&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-25 12:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.AMID'>Global Identifier Macros</h2><span id='topic+.AMID'></span><span id='topic+.AMT'></span>

<h3>Description</h3>

<p>The macro <code>.AMID</code> contains the string <code>c("ISO3", "Series")</code> denoting
the names of ID variables that identify the cross-sectional dimension in the database.
</p>
<p>The macro <code>.AMT</code> contains the string
<code>c("Date", "Year", "Quarter", "FY", "QFY", "Month", "Day")</code> denoting temporal identifiers generated by <code><a href="#topic+am_expand_date">am_expand_date</a></code>.
The &quot;Date&quot; variable is sufficient to uniquely identify a point in time in the database.
</p>
<p>Each value in the database is uniquely identified by ISO3, Series and Date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.AMID
.AMT
</code></pre>


<h3>See Also</h3>

<p><code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>.AMID
.AMT


</code></pre>

<hr>
<h2 id='africamonitor-package'>Africa Macroeconomic Monitor Database API</h2><span id='topic+africamonitor-package'></span><span id='topic+africamonitor'></span>

<h3>Description</h3>

<p>An R API providing access to a relational database with macroeconomic data for Africa. The
database is maintained at the Kiel Institute for the World Economy.
</p>


<h3>Functions</h3>

<p>Functions and data providing information about the available data
</p>
<p><code><a href="#topic+am_sources">am_sources()</a></code><br />
<code><a href="#topic+am_series">am_series()</a></code><br />
<code><a href="#topic+am_countries">am_countries</a></code><br />
<code><a href="#topic+am_countries_wld">am_countries_wld</a></code><br />
<code><a href="#topic+am_entities">am_entities</a></code>
</p>
<p>Function to retrieve the data from the database
</p>
<p><code><a href="#topic+am_data">am_data()</a></code>
</p>
<p>Functions to reshape data and add temporal identifiers
</p>
<p><code><a href="#topic+am_pivot_wider">am_pivot_wider()</a></code><br />
<code><a href="#topic+am_pivot_longer">am_pivot_longer()</a></code><br />
<code><a href="#topic+am_expand_date">am_expand_date()</a></code>
</p>




<p>Helper functions to convert inputs to R dates
</p>
<p><code><a href="#topic+am_as_date">am_as_date()</a></code><br />

</p>
<p>Global Macros with core ID variables in the database
</p>
<p><code><a href="#topic+.AMID">.AMID</a></code><br />
<code><a href="#topic+.AMT">.AMT</a></code>
</p>

<hr>
<h2 id='am_as_date'>Coerce Vectors to Dates</h2><span id='topic+am_as_date'></span>

<h3>Description</h3>

<p>This function coerces date strings i.e. <code>"YYYY-MM-DD"</code> or <code>"YYYY-MM"</code>, years e.g. <code>2015</code> (numeric or character),
year-quarters e.g. <code>"2015Q1"</code> or <code>"2015-Q1"</code>, year-months e.g. <code>"2015M01"</code> or <code>"2015-M01"</code>, fiscal years e.g. <code>"1997/98"</code> or numeric values representing dates (e.g. previously imported Excel date) to a regular R date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_as_date(x, end = FALSE, origin = "1899-12-30")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="am_as_date_+3A_x">x</code></td>
<td>
<p>a character date string <code>"YYYY-MM-DD"</code> or <code>"YYYY-MM"</code>, year-quarter <code>"YYYYQN"</code> or <code>"YYYY-QN"</code>, year-month <code>"YYYYMNN"</code> or <code>"YYYY-MNN"</code>, fiscal year <code>"YYYY/YY"</code> or calendar year <code>YYYY</code> (numeric or character), or a numeric value corresponding to a date that can be passed to <code><a href="base.html#topic+as.Date.numeric">as.Date.numeric</a></code>.</p>
</td></tr>
<tr><td><code id="am_as_date_+3A_end">end</code></td>
<td>
<p>logical. <code>TRUE</code> replaces missing time information with a period end-date which is the last day of the period. <code>FALSE</code> replaces missing month and day information with <code>"-01"</code>,
so the year date is the 1st of January, the fiscal year date the 1st of July, and for months / quarters the 1st day of the month / quarter.</p>
</td></tr>
<tr><td><code id="am_as_date_+3A_origin">origin</code></td>
<td>
<p>a date or date-string that can be used as reference for converting numeric values to dates. The default corresponds to dates generated in Excel for Windows. See <code><a href="base.html#topic+as.Date.numeric">as.Date.numeric</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+Date">Date</a></code> vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_expand_date">am_expand_date</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>am_as_date("2011-05")
am_as_date(2011)
am_as_date("2011/12")
am_as_date("2011/12", end = TRUE)
am_as_date("2011Q1")
am_as_date("2011Q1", end = TRUE)

</code></pre>

<hr>
<h2 id='am_countries'>Dataset of Countries in the Database</h2><span id='topic+am_countries'></span><span id='topic+am_countries_wld'></span>

<h3>Description</h3>

<p><code>am_countries</code> is a data.frame containing standardized codes of 55 African countries
(including Western Sahara) according to various classifications
and regional aggregations. <code>am_countries_wld</code> provides the same information for 195
countries, which includes the 193 UN Member States, Western Sahara and Taiwan. The API
generally provides data for all 195 countries, but by default only requests data for Africa.
Note that the API (<code><a href="#topic+am_data">am_data</a></code>) only supports &quot;ISO3&quot; character codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_countries

am_countries_wld
</code></pre>


<h3>Format</h3>

<p>A data frame with 55 (wld = 195) rows and 9 variables (sorted by Country):
</p>

<dl>
<dt>Country</dt><dd><p>Short Country Name</p>
</dd>
<dt>Country_ISO</dt><dd><p>ISO Standardized Country Name</p>
</dd>
<dt>ISO2</dt><dd><p>ISO 2-Character Country Code</p>
</dd>
<dt>ISO3</dt><dd><p>ISO 3-Character Country Code</p>
</dd>
<dt>ISO3N</dt><dd><p>ISO Numeric Country Code</p>
</dd>
<dt>IMF</dt><dd><p>IMF Numeric Country Code</p>
</dd>
<dt>Region</dt><dd><p>2-Region Classification (UN except for Sudan)</p>
</dd>
<dt>Region_Detailed</dt><dd><p>5-Region Classification (Former World Bank)</p>
</dd>
<dt>Currency</dt><dd><p>Main Official Currency</p>
</dd>
</dl>

<p>An object of class <code>data.table</code> (inherits from <code>data.frame</code>) with 195 rows and 9 columns.
</p>


<h3>Source</h3>

<p><a href="https://CRAN.R-project.org/package=countrycode">countrycode</a> R package (with some modification of regional aggregates).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_entities">am_entities</a></code>, <code><a href="#topic+am_sources">am_sources</a></code>, <code><a href="#topic+am_series">am_series</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(am_countries)
</code></pre>

<hr>
<h2 id='am_data'>Retrieve Data from the Database</h2><span id='topic+am_data'></span>

<h3>Description</h3>

<p>This is the main function of the package to retrieve data from the database. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_data(
  ctry = africamonitor::am_countries$ISO3,
  series = NULL,
  from = NULL,
  to = NULL,
  labels = TRUE,
  wide = TRUE,
  expand.date = FALSE,
  drop.1iso3c = TRUE,
  ordered = TRUE,
  return.query = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="am_data_+3A_ctry">ctry</code></td>
<td>
<p>character. (Optional) the ISO3 code of countries (see <code><a href="#topic+am_countries">am_countries</a></code>). Default is to load data for all African countries. Putting <code>NULL</code> gets data for all countries (codes available in <code><a href="#topic+am_countries_wld">am_countries_wld</a></code>).</p>
</td></tr>
<tr><td><code id="am_data_+3A_series">series</code></td>
<td>
<p>character. (Optional) codes of series matching the 'Series' column of the series table (retrieved using <code><a href="#topic+am_series">am_series()</a></code>).</p>
</td></tr>
<tr><td><code id="am_data_+3A_from">from</code></td>
<td>
<p>set the start time of the data retrieved by either supplying a start date, a date-string of the form <code>"YYYY-MM-DD"</code> or <code>"YYYY-MM"</code>,
year-quarters of the form <code>"YYYYQN"</code> or <code>"YYYY-QN"</code>, a numeric year <code>YYYY</code> (numeric or character), or a fiscal year of the form <code>"YYYY/YY"</code>. These expressions are converted to a regular date by <code><a href="#topic+am_as_date">am_as_date</a></code>.</p>
</td></tr>
<tr><td><code id="am_data_+3A_to">to</code></td>
<td>
<p>same as <code>from</code>: to set the time period until which data is retrieved. For expressions that are not full &quot;YYYY-MM-DD&quot; dates, the last day of the period is chosen.</p>
</td></tr>
<tr><td><code id="am_data_+3A_labels">labels</code></td>
<td>
<p>logical. <code>TRUE</code> will also return labels (series descriptions) along with the series codes.</p>
</td></tr>
<tr><td><code id="am_data_+3A_wide">wide</code></td>
<td>
<p>logical. <code>TRUE</code> calls <code><a href="#topic+am_pivot_wider">am_pivot_wider</a></code> on the result. <code>FALSE</code> returns the data in a long format without missing values (suitable for <code>ggplot2</code>).</p>
</td></tr>
<tr><td><code id="am_data_+3A_expand.date">expand.date</code></td>
<td>
<p>logical. <code>TRUE</code> will call <code><a href="#topic+am_expand_date">am_expand_date</a></code> on the result.</p>
</td></tr>
<tr><td><code id="am_data_+3A_drop.1iso3c">drop.1iso3c</code></td>
<td>
<p>logical. If only one country is selected through <code>ctry</code>, <code>TRUE</code> will drop the 'ISO3' column in the output.</p>
</td></tr>
<tr><td><code id="am_data_+3A_ordered">ordered</code></td>
<td>
<p>logical. <code>TRUE</code> orders the result by 'Date' and, if <code>labels = TRUE</code>, by series, maintaining a fixed column-order of series.
<code>FALSE</code> returns the result in a random order, to the benefit of faster query execution.</p>
</td></tr>
<tr><td><code id="am_data_+3A_return.query">return.query</code></td>
<td>
<p>logical. <code>TRUE</code> will not query the database but instead return the constructed SQL query as a character string (for debugging purposes).</p>
</td></tr>
<tr><td><code id="am_data_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="#topic+am_pivot_wider">am_pivot_wider</a></code> (if <code>wide = TRUE</code>) or <code><a href="#topic+am_expand_date">am_expand_date</a></code> (if <code>expand.date = TRUE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>labels = FALSE</code>, the series table is not joined to the data table, and <code>ordered = TRUE</code> will order series retrieved in alphabetic order.
If <code>labels = TRUE</code> data is ordered by series and date, preserving the order of columns in the dataset. If multiple countries are received they are ordered alphabetically according to the 'ISO3' column.
</p>
<p>Series at different frequencies can be queried, but, if <code>wide = TRUE</code>, this will result in missing values for all but the first observations per period in the lower frequency series.
</p>


<h3>Value</h3>

<p>A <code><a href="data.table.html#topic+data.table">data.table</a></code> with the result of the query.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_pivot_wider">am_pivot_wider</a></code>, <code><a href="#topic+am_expand_date">am_expand_date</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Return all indicators for Kenya from 2000
am_data("KEN", from = 2000)

# Return all indicators for Kenya from 2000 in long format
am_data("KEN", from = 2000, wide = FALSE)

# Return with date expanded
am_data("KEN", from = 2000, expand.date = TRUE)

# Same thing in multiple steps (with additional customization options):
am_data("KEN", from = 2000, wide = FALSE) |&gt; am_pivot_wider() |&gt; am_expand_date()

# Getting only GDP growth
am_data("KEN", "NGDP_RPCH", from = 2000)

# Getting GDP growth for all countries
am_data(series = "NGDP_RPCH", from = 2000)

# Reshaping to wider format
am_data(series = "NGDP_RPCH", from = 2000) |&gt;
  am_pivot_wider(id_cols = "Date",
                 names_from = "ISO3",
                 values_from = "NGDP_RPCH")

# Getting growth and inflation for the EAC countries (all available years)
am_data(ctry = c("UGA", "KEN", "TZA", "RWA", "BDI", "SSD"),
        series = c("NGDP_RPCH", "PCPIPCH"))


</code></pre>

<hr>
<h2 id='am_entities'>Dataset of African Economic and Regional Entities</h2><span id='topic+am_entities'></span>

<h3>Description</h3>

<p>A dataset mapping African countries to various economic and regional entities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_entities
</code></pre>


<h3>Format</h3>

<p>A data frame with 54 rows (one for each country, excluding Western Sahara) and 27 variables, of which 6 are country identifiers and the remaining 21
are logical variables indicating country membership to various economic and regional entities.
</p>


<h3>Source</h3>

<p>Own compilation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_countries">am_countries</a></code>, <code><a href="#topic+am_sources">am_sources</a></code>, <code><a href="#topic+am_series">am_series</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(am_entities)
</code></pre>

<hr>
<h2 id='am_expand_date'>Generate Temporal Identifiers from a Date Column</h2><span id='topic+am_expand_date'></span>

<h3>Description</h3>

<p>This function expands a date column and generates additional temporal identifiers from it (such as the year, month, quarter, fiscal year etc.).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_expand_date(
  x,
  gen = c("Year", "Quarter", "Month"),
  origin = "1899-12-30",
  keep.date = TRUE,
  remove.missing.date = TRUE,
  sort = TRUE,
  as.factor = TRUE,
  name = "Date",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="am_expand_date_+3A_x">x</code></td>
<td>
<p>either a vector of class 'Date', or coercible to date using <code><a href="base.html#topic+as.Date">as.Date</a></code>, or a data frame / list containing with a date-column called <code>name</code>.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_gen">gen</code></td>
<td>
<p>character. A vector of identifiers to generate from <code>x</code>. The possible identifiers are found in <code><a href="#topic+.AMT">.AMT</a></code>.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_origin">origin</code></td>
<td>
<p>character / Date. Passed to <code><a href="base.html#topic+as.Date">as.Date</a></code>: for converting numeric <code>x</code> to date.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_keep.date">keep.date</code></td>
<td>
<p>logical. <code>TRUE</code> will keep the date variable in the resulting dataset, <code>FALSE</code> will remove the date variable in favor of the generated identifiers.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_remove.missing.date">remove.missing.date</code></td>
<td>
<p>logical. <code>TRUE</code> will remove missing values in <code>x</code>. If <code>x</code> is a dataset, rows missing the date variable will be removed.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_sort">sort</code></td>
<td>
<p>logical. <code>TRUE</code> will sort the data by the date column.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_as.factor">as.factor</code></td>
<td>
<p><code>TRUE</code> will generate quarters, fiscal years and months ('Quarter', 'FY', 'QFY', 'Month') as factor variables. It is also possible to use <code>as.factor = "ordered"</code> to generate ordered factors.
<code>FALSE</code> will generate fiscal years as character and quarters and months as integer variables.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_name">name</code></td>
<td>
<p>character. The name of the date variable to expand.</p>
</td></tr>
<tr><td><code id="am_expand_date_+3A_...">...</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="data.table.html#topic+data.table">data.table</a></code> containing the computed identifiers as columns. See Examples.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_as_date">am_as_date</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First a basic example
x &lt;- seq.Date(as.Date("1999-01-01"), as.Date("2000-01-01"), by = "month")
am_expand_date(x)
am_expand_date(x, gen = .AMT[-1L], keep.date = FALSE)

# Now using the API
am_expand_date(am_data("KEN"))

# Same thing
am_data("KEN", expand.date = TRUE)


</code></pre>

<hr>
<h2 id='am_pivot_longer'>Reshape Column-Based Data to Long Format</h2><span id='topic+am_pivot_longer'></span>

<h3>Description</h3>

<p>This function automatically reshapes wide (column-based) data into a long format akin to the format of the raw data coming from the database (<code><a href="#topic+am_data">am_data(..., wide = FALSE)</a></code>).
It can also be used as a general purpose reshaping command - with an additional capability to handle variable labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_pivot_longer(
  data,
  id_cols = intersect(c("ISO3", .AMT), names(data)),
  to_value = setdiff(names(data), id_cols),
  variable_name = "Series",
  value_name = "Value",
  label_name = "Label",
  na.rm = TRUE,
  variable.factor = TRUE,
  label.factor = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="am_pivot_longer_+3A_data">data</code></td>
<td>
<p>a wide format data frame where all series have their own column.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_id_cols">id_cols</code></td>
<td>
<p>character. Temporal identifiers of the data. By default all variables in <code><a href="#topic+.AMT">.AMT</a></code> and &quot;ISO3&quot; are selected.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_to_value">to_value</code></td>
<td>
<p>character. The names of all series to be stacked into the long format data frame.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_variable_name">variable_name</code></td>
<td>
<p>character. The name of the variable to store the names of the series.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_value_name">value_name</code></td>
<td>
<p>character. The name of the variable to store the data values.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_label_name">label_name</code></td>
<td>
<p>character. The name of the variable to store the series labels.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_na.rm">na.rm</code></td>
<td>
<p>logical. <code>TRUE</code> will remove all missing values from the long data frame.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_variable.factor">variable.factor</code>, <code id="am_pivot_longer_+3A_label.factor">label.factor</code></td>
<td>
<p>logical. <code>TRUE</code> will code the &quot;Series&quot; and &quot;Label&quot; columns as factors, which is more memory efficient.</p>
</td></tr>
<tr><td><code id="am_pivot_longer_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="data.table.html#topic+melt">melt</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="data.table.html#topic+data.table">data.table</a></code> with the reshaped data.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_pivot_wider">am_pivot_wider</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Return all indicators for Kenya and Nigeria from the year 2000 onwards
data &lt;- am_data(c("KEN", "NGA"), from = 2000)
am_pivot_longer(data)

</code></pre>

<hr>
<h2 id='am_pivot_wider'>Reshape Long API Data to Column-Based Format</h2><span id='topic+am_pivot_wider'></span>

<h3>Description</h3>

<p>This function automatically reshapes long (stacked) raw data from the API (<code><a href="#topic+am_data">am_data(..., wide = FALSE)</a></code>) to a wide format where each variable has its own column.
It can also be used as a general purpose reshaping command - with an additional capability to handle variable labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_pivot_wider(
  data,
  id_cols = intersect(c("ISO3", .AMT), names(data)),
  names_from = "Series",
  values_from = "Value",
  labels_from = if (any(names(data) == "Label")) "Label" else NULL,
  expand.date = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="am_pivot_wider_+3A_data">data</code></td>
<td>
<p>raw data from the API: A long format data frame where all values are stacked in a value column.</p>
</td></tr>
<tr><td><code id="am_pivot_wider_+3A_id_cols">id_cols</code></td>
<td>
<p>character. Temporal identifiers of the data. By default all variables in <code><a href="#topic+.AMT">.AMT</a></code> and &quot;ISO3&quot; are selected.</p>
</td></tr>
<tr><td><code id="am_pivot_wider_+3A_names_from">names_from</code></td>
<td>
<p>character. The column containing the series codes. These will become the names of the new columns in the wider data format.</p>
</td></tr>
<tr><td><code id="am_pivot_wider_+3A_values_from">values_from</code></td>
<td>
<p>character. The column containing the data values.</p>
</td></tr>
<tr><td><code id="am_pivot_wider_+3A_labels_from">labels_from</code></td>
<td>
<p>character. The column containing the labels describing the series.</p>
</td></tr>
<tr><td><code id="am_pivot_wider_+3A_expand.date">expand.date</code></td>
<td>
<p>logical. <code>TRUE</code> will call <code><a href="#topic+am_expand_date">am_expand_date</a></code> on the data after reshaping.</p>
</td></tr>
<tr><td><code id="am_pivot_wider_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="collapse.html#topic+pivot">pivot</a></code> or <code><a href="#topic+am_expand_date">am_expand_date</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="data.table.html#topic+data.table">data.table</a></code> with the reshaped data.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_pivot_longer">am_pivot_longer</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Return all indicators for Kenya and Nigeria from the year 2000 onwards
am_pivot_wider(am_data(c("KEN", "NGA"), from = 2000, wide = FALSE))

</code></pre>

<hr>
<h2 id='am_series'>Retrieve Series Table</h2><span id='topic+am_series'></span>

<h3>Description</h3>

<p>This function pulls information about the data series available in the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_series(
  dsid = NULL,
  source.info = TRUE,
  ordered = TRUE,
  return.query = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="am_series_+3A_dsid">dsid</code></td>
<td>
<p>character. (Optional) id's of datasources matching the 'DSID' column of the data sources table (retrieved using <code><a href="#topic+am_sources">am_sources()</a></code>) for which series information is to be returned.</p>
</td></tr>
<tr><td><code id="am_series_+3A_source.info">source.info</code></td>
<td>
<p>logical. <code>TRUE</code> returns additional information from the data sources table (the source, the frequency of the data and when it was last updated).</p>
</td></tr>
<tr><td><code id="am_series_+3A_ordered">ordered</code></td>
<td>
<p>logical. <code>TRUE</code> returns the series in a fixed order, while <code>FALSE</code> returns the result in a random order, to the benefit of faster query execution.</p>
</td></tr>
<tr><td><code id="am_series_+3A_return.query">return.query</code></td>
<td>
<p>logical. <code>TRUE</code> will not query the database but instead return the constructed SQL query as a character string (for debugging purposes).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The series table gives information about all of the time series in the database. Each series is given a unique code, and
has a label describing the series. Further information recorded are the minimum and maximum time coverage, and (optionally) a separate series source and url.
The default <code>source.info = TRUE</code> adds the source, the frequency of the data (homogeneous within source), and the date when the source was last updated.
</p>


<h3>Value</h3>

<p>A <code><a href="data.table.html#topic+data.table">data.table</a></code> with information about the available series in the database.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_countries">am_countries</a></code>, <code><a href="#topic+am_sources">am_sources</a></code>, <code><a href="#topic+am_data">am_data</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# By default returns all series with additional information
am_series()

# Raw series table
am_series(source.info = FALSE)

# Only series in the WEO
am_series("IMF_WEO")

</code></pre>

<hr>
<h2 id='am_sources'>Retrieve Data Sources Table</h2><span id='topic+am_sources'></span>

<h3>Description</h3>

<p>This function retrieves a table with information about the sources of data in the database, and when data from different sources was updated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>am_sources(ordered = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="am_sources_+3A_ordered">ordered</code></td>
<td>
<p>logical. <code>TRUE</code> orders the result in the order data was entered into the database, while <code>FALSE</code> returns the result in a random order, to the benefit of faster query execution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data source table gives information about the various sources / providers of data in this database, including the source website, frequency and time coverage of data, a description of the source, when data from the source was updated and the way data is accessed from the source.
</p>


<h3>Value</h3>

<p>A <code><a href="data.table.html#topic+data.table">data.table</a></code> with information about the sources of data in the database.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+am_countries">am_countries</a></code>, <code><a href="#topic+am_series">am_series</a></code>, <code><a href="#topic+africamonitor">africamonitor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
am_sources()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

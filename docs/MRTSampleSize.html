<!DOCTYPE html><html lang="en"><head><title>Help for package MRTSampleSize</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MRTSampleSize}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calculatePower'><p>Calculate power for micro-randomized trials</p></a></li>
<li><a href='#calculateSampleSize'><p>Calculate sample size for micro-randomized trials</p></a></li>
<li><a href='#plotExpectAvail'><p>plot the graph for the expected availability</p></a></li>
<li><a href='#plotProximalEffect'><p>plot the graph for the proximal treatment effect</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A Sample Size Calculator for Micro-Randomized Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15.0)</td>
</tr>
<tr>
<td>Copyright:</td>
<td>The Pennsylvania State University (07.25.2020 - 09.01.2020),
Harvard University (09.01.2020 - present)</td>
</tr>
<tr>
<td>Description:</td>
<td>Provide a sample size calculator for micro-randomized trials (MRTs) based on methodology developed in Sample Size Calculations for Micro-randomized Trials in mHealth by Liao et al. (2016) &lt;<a href="https://doi.org/10.1002%2Fsim.6847">doi:10.1002/sim.6847</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peng Liao &lt;pengliao@umich.edu&gt;</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-09-12 20:26:42 UTC; Peng</td>
</tr>
<tr>
<td>Author:</td>
<td>Peng Liao [aut, cre],
  Liying Huang [aut],
  Nicholas J. Seewald [aut],
  Ji Sun [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-09-13 13:00:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='calculatePower'>Calculate power for micro-randomized trials</h2><span id='topic+calculatePower'></span>

<h3>Description</h3>

<p>This function calculates power for micro-randomized trials (MRTs)
based on methodology developed in Sample Size Calculations for Micro-randomized Trials in
mHealth by Liao et al. (2016) &lt;DOI:10.1002/sim.6847&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculatePower(
  days,
  occ_per_day,
  prob,
  beta_shape,
  beta_mean,
  beta_initial,
  beta_quadratic_max,
  tau_shape,
  tau_mean,
  tau_initial,
  tau_quadratic_max,
  dimB,
  sample_size,
  sigLev
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculatePower_+3A_days">days</code></td>
<td>
<p>The duration of the study.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_occ_per_day">occ_per_day</code></td>
<td>
<p>The number of decision time points per day.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_prob">prob</code></td>
<td>
<p>The randomization probability, i.e. the probability of assigning the treatment at a decision time
point. This can be constant, or time-varying probabilities can be specified by a vector
specifying randomization probabilities for each day or decision time.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_beta_shape">beta_shape</code></td>
<td>
<p>The trend for the proximal treatment effect, choices are constant, linear or quadratic.
Note:
</p>

<ol>
<li><p>Constant The proximal treatment effect stays constant over the study.
</p>
</li>
<li><p>Linear The linearly increasing form of a proximal treatment effect might be
used if participants will get more enthusiastically engage in the apps and thus
the proximal effect will increase as the study goes. The linearly decreasing form
of a proximal treatment effect might be used if participants are likely to disengage
the activity suggestionss and thus the proximal effect will decrease as the study goes.
</p>
</li>
<li><p>Quadratic  The quadratic form of a proximal treatment effect might be used if
you expect that initially participants will enthusiastically engage in the apps and
thus the proximal effect will get higher. Then, as the study goes on, some participants
are likely to disengage or begin to ignore the activity suggestions and hence a downward
trend.
</p>
</li></ol>
</td></tr>
<tr><td><code id="calculatePower_+3A_beta_mean">beta_mean</code></td>
<td>
<p>The average of proximal treatment effect.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_beta_initial">beta_initial</code></td>
<td>
<p>The initial value of proximal treatment effect when beta_shape is linear or quadratic.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_beta_quadratic_max">beta_quadratic_max</code></td>
<td>
<p>The day of maximal proximal treatment effect when beta_shape is quadratic.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_tau_shape">tau_shape</code></td>
<td>
<p>The pattern for expected availability; choices can be constant, linear or quadratic.
Note:
</p>

<ol>
<li><p>Constant The expected availability stays constant over the study.
</p>
</li>
<li><p>Linear A linearly increasing pattern of expected availability might be used if
participants will find the intervention useful and thus more likely to turn the
intervention on. A linearly decreasing pattern of expected availability might be used
if participants learn more about the intervetion and get bored through the course of
the study and thus getting less likely to turn on the invervention.
</p>
</li>
<li><p>Quadratic A quadratic pattern of availability. Here the changing point of
availability refers to day of either maximal of minimal availability, depending on the
input values of initial and average availability.
</p>
</li></ol>
</td></tr>
<tr><td><code id="calculatePower_+3A_tau_mean">tau_mean</code></td>
<td>
<p>The average of expected availability.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_tau_initial">tau_initial</code></td>
<td>
<p>The initial Value of expected availability when tau_shape is linear or quadratic.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_tau_quadratic_max">tau_quadratic_max</code></td>
<td>
<p>The changing point of availability when tau_shape is quadratic.</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_dimb">dimB</code></td>
<td>
<p>The number of parameters used in the main/average effect of proximal outcome</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_sample_size">sample_size</code></td>
<td>
<p>The number of participants</p>
</td></tr>
<tr><td><code id="calculatePower_+3A_siglev">sigLev</code></td>
<td>
<p>The significance level or type I error rate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The achieved power given the input sample size
</p>


<h3>References</h3>

<p>Seewald, N.J.; Sun, J.; Liao, P. &quot;MRT-SS Calculator: An R Shiny Application for Sample Size
Calculation in Micro-Randomized Trials&quot;. arXiv:1609.00695
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    calculatePower(days=42,
                   occ_per_day=5,
                   prob=0.4,
                   beta_shape="quadratic",
                   beta_mean=0.1,
                   beta_initial=0,
                   beta_quadratic_max=28,
                   tau_shape="quadratic",
                   tau_mean=0.5,
                   tau_initial=0.7,
                   tau_quadratic_max=42,
                   dimB=3,
                   sample_size=40,
                   sigLev=0.05)

    prob1 &lt;- c(replicate(35,0.7),replicate(35,0.6),replicate(35,0.5),replicate(35,0.4))
    calculatePower(days=28,
                   occ_per_day=5,
                   prob=prob1,
                   beta_shape="quadratic",
                   beta_mean=0.1,
                   beta_initial=0,
                   beta_quadratic_max=28,
                   tau_shape="quadratic",
                   tau_mean=0.5,
                   tau_initial=0.7,
                   tau_quadratic_max=42,
                   dimB=3,
                   sample_size=40,
                   sigLev=0.05)#'

</code></pre>

<hr>
<h2 id='calculateSampleSize'>Calculate sample size for micro-randomized trials</h2><span id='topic+calculateSampleSize'></span>

<h3>Description</h3>

<p>This function calculates the sample size for micro-randomized trials (MRTs)
based on methodology developed in Sample Size Calculations for Micro-randomized Trials in
mHealth by Liao et al. (2016) &lt;DOI:10.1002/sim.6847&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateSampleSize(
  days,
  occ_per_day,
  prob,
  beta_shape,
  beta_mean,
  beta_initial,
  beta_quadratic_max,
  tau_shape,
  tau_mean,
  tau_initial,
  tau_quadratic_max,
  dimB,
  power,
  sigLev
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculateSampleSize_+3A_days">days</code></td>
<td>
<p>The duration of the study.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_occ_per_day">occ_per_day</code></td>
<td>
<p>The number of decision time points per day.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_prob">prob</code></td>
<td>
<p>The randomization probability, i.e. the probability of assigning the treatment at a decision time
point. This can be constant, or time-varying probabilities can be specified by by a vector
specifying randomization probabilities for each day or decision time.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_beta_shape">beta_shape</code></td>
<td>
<p>The trend for the proximal treatment effect; choices are constant, linear or quadratic.
Note:
</p>

<ol>
<li><p>Constant The proximal treatment effect stays constant over the study.
</p>
</li>
<li><p>Linear The linearly increasing form of a proximal treatment effect might be
used if participants will get more enthusiastically engage in the apps and thus
the proximal effect will increase as the study goes. The linearly decreasing form
of a proximal treatment effect might be used if participants are likely to disengage
the activity suggestionss and thus the proximal effect will decrease as the study goes.
</p>
</li>
<li><p>Quadratic  The quadratic form of a proximal treatment effect might be used if
you expect that initially participants will enthusiastically engage in the apps and
thus the proximal effect will get higher. Then, as the study goes on, some participants
are likely to disengage or begin to ignore the activity suggestions and hence a downward
trend.
</p>
</li></ol>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_beta_mean">beta_mean</code></td>
<td>
<p>The average of proximal treatment effect.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_beta_initial">beta_initial</code></td>
<td>
<p>The initial value of proximal treatment effect when beta_shape is linear or quadratic.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_beta_quadratic_max">beta_quadratic_max</code></td>
<td>
<p>Day of maximal proximal treatment effect when beta_shape is quadratic.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_tau_shape">tau_shape</code></td>
<td>
<p>The pattern for expected availability; choices are constant, linear or quadratic.
Note:
</p>

<ol>
<li><p>Constant The expected availability stays constant over the study.
</p>
</li>
<li><p>Linear A linearly increasing pattern of expected availability might be used if
participants will find the intervention useful and thus more likely to turn the
intervention on. A linearly decreasing pattern of expected availability might be used
if participants learn more about the intervetion and get bored through the course of
the study and thus getting less likely to turn on the invervention.
</p>
</li>
<li><p>Quadratic A quadratic pattern of availability. Here the changing point of
availability refers to day of either maximal of minimal availability, depending on the
input values of initial and average availability.
</p>
</li></ol>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_tau_mean">tau_mean</code></td>
<td>
<p>The average of expected availability.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_tau_initial">tau_initial</code></td>
<td>
<p>The initial Value of expected availability when tau_shape is linear or quadratic.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_tau_quadratic_max">tau_quadratic_max</code></td>
<td>
<p>The changing point of availability when tau_shape is quadratic.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_dimb">dimB</code></td>
<td>
<p>The number of parameters used in the main/average effect of proximal outcome.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_power">power</code></td>
<td>
<p>The desired power to achieve.</p>
</td></tr>
<tr><td><code id="calculateSampleSize_+3A_siglev">sigLev</code></td>
<td>
<p>The significance level or type I error rate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The minimal sample size to achieve the desired power.
</p>


<h3>References</h3>

<p>Seewald, N.J.; Sun, J.; Liao, P. &quot;MRT-SS Calculator: An R Shiny Application for Sample Size
Calculation in Micro-Randomized Trials&quot;. arXiv:1609.00695
</p>


<h3>Examples</h3>

<pre><code class='language-R'>calculateSampleSize(days=42,
                    occ_per_day=5,
                    prob=0.4,
                    beta_shape="quadratic",
                    beta_mean=0.1,
                    beta_initial=0,
                    beta_quadratic_max=28,
                    tau_shape="quadratic",
                    tau_mean=0.5,
                    tau_initial=0.7,
                    tau_quadratic_max=42,
                    dimB=3,
                    power=0.8,
                    sigLev=0.05)

prob1 &lt;- c(replicate(35,0.7),replicate(35,0.6),replicate(35,0.5),replicate(35,0.4))
calculateSampleSize(days=28,
                    occ_per_day=5,
                    prob=prob1,
                    beta_shape="quadratic",
                    beta_mean=0.1,
                    beta_initial=0,
                    beta_quadratic_max=28,
                    tau_shape="quadratic",
                    tau_mean=0.5,
                    tau_initial=0.7,
                    tau_quadratic_max=42,
                    dimB=3,
                    power=0.8,
                    sigLev=0.05)
</code></pre>

<hr>
<h2 id='plotExpectAvail'>plot the graph for the expected availability</h2><span id='topic+plotExpectAvail'></span>

<h3>Description</h3>

<p>plot of the graphs for the expected availability, i.e., the expected
probability that a participant is available to receive treatment at a decision time.
when the pattern for the expected availability is constant, linear or quadractic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotExpectAvail(
  days,
  occ_per_day,
  tau_shape,
  tau_mean,
  tau_initial,
  tau_quadratic_max
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotExpectAvail_+3A_days">days</code></td>
<td>
<p>Duration of the study.</p>
</td></tr>
<tr><td><code id="plotExpectAvail_+3A_occ_per_day">occ_per_day</code></td>
<td>
<p>Number of decision time points per day.</p>
</td></tr>
<tr><td><code id="plotExpectAvail_+3A_tau_shape">tau_shape</code></td>
<td>
<p>The pattern for expected availability, choices are constant, linear or quadratic.
Note:
</p>

<ol>
<li><p>Constant The expected availability stays constant over the study.
</p>
</li>
<li><p>Linear A linearly increasing pattern of expected availability might be used if
participants will find the intervention useful and thus more likely to turn the
intervention on. A linearly decreasing pattern of expected availability might be used
if participants learn more about the intervetion and get bored through the course of
the study and thus getting less likely to turn on the invervention.
</p>
</li>
<li><p>Quadratic A quadratic pattern of availability. Here the changing point of
availability refers to day of either maximal of minimal availability, depending on the
input values of initial and average availability.
</p>
</li></ol>
</td></tr>
<tr><td><code id="plotExpectAvail_+3A_tau_mean">tau_mean</code></td>
<td>
<p>Average of expected availability.</p>
</td></tr>
<tr><td><code id="plotExpectAvail_+3A_tau_initial">tau_initial</code></td>
<td>
<p>Initial Value of expected availability when tau_shape is linear or quadratic.</p>
</td></tr>
<tr><td><code id="plotExpectAvail_+3A_tau_quadratic_max">tau_quadratic_max</code></td>
<td>
<p>Changing point of availability when tau_shape is quadratic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A graph for expected availability.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   plotExpectAvail(days=42,
                   occ_per_day=5,
                   tau_shape="quadratic",
                   tau_mean=0.5,
                   tau_initial=0.7,
                   tau_quadratic_max=42)


</code></pre>

<hr>
<h2 id='plotProximalEffect'>plot the graph for the proximal treatment effect</h2><span id='topic+plotProximalEffect'></span>

<h3>Description</h3>

<p>plot of the graphs for the proximal treatment effect when the trend for
the proximal treatment effect is constant, linear or quadractic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotProximalEffect(
  days,
  occ_per_day,
  beta_shape,
  beta_mean,
  beta_initial,
  beta_quadratic_max
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotProximalEffect_+3A_days">days</code></td>
<td>
<p>Duration of the study.</p>
</td></tr>
<tr><td><code id="plotProximalEffect_+3A_occ_per_day">occ_per_day</code></td>
<td>
<p>Number of decision time points per day.</p>
</td></tr>
<tr><td><code id="plotProximalEffect_+3A_beta_shape">beta_shape</code></td>
<td>
<p>The trend for the proximal treatment effect, choices are constant, linear or quadratic.
Note:
</p>

<ol>
<li><p>Constant The proximal treatment effect stays constant over the study.
</p>
</li>
<li><p>Linear The linearly increasing form of a proximal treatment effect might be
used if participants will get more enthusiastically engage in the apps and thus
the proximal effect will increase as the study goes. The linearly decreasing form
of a proximal treatment effect might be used if participants are likely to disengage
the activity suggestionss and thus the proximal effect will decrease as the study goes.
</p>
</li>
<li><p>Quadratic  The quadratic form of a proximal treatment effect might be used if
you expect that initially participants will enthusiastically engage in the apps and
thus the proximal effect will get higher. Then, as the study goes on, some participants
are likely to disengage or begin to ignore the activity suggestions and hence a downward
trend.
</p>
</li></ol>
</td></tr>
<tr><td><code id="plotProximalEffect_+3A_beta_mean">beta_mean</code></td>
<td>
<p>Average of proximal treatment effect.</p>
</td></tr>
<tr><td><code id="plotProximalEffect_+3A_beta_initial">beta_initial</code></td>
<td>
<p>Initial value of proximal treatment effect when beta_shape is linear or quadratic.</p>
</td></tr>
<tr><td><code id="plotProximalEffect_+3A_beta_quadratic_max">beta_quadratic_max</code></td>
<td>
<p>Day of maximal proximal treatment effect when beta_shape is quadratic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A graph for the proximal treatment effect.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotProximalEffect(days=42,
                   occ_per_day=5,
                   beta_shape="quadratic",
                   beta_mean=0.1,
                   beta_initial=0,
                   beta_quadratic_max=28)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package processpredictR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {processpredictR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#confusion_matrix'><p>Confusion matrix for predictions</p></a></li>
<li><a href='#create_model'><p>Define transformer model</p></a></li>
<li><a href='#create_vocabulary'><p>Create a vocabulary</p></a></li>
<li><a href='#get_vocabulary'><p>Utils</p></a></li>
<li><a href='#max_case_length'><p>Calculate the maximum length of a case / number of activities in the longest trace in an event log</p></a></li>
<li><a href='#num_outputs'><p>Calculate number of outputs (target variables)</p></a></li>
<li><a href='#plot.ppred_predictions'><p>Plot Methods</p></a></li>
<li><a href='#ppred_examples_df'><p>ppred_examples_df object</p></a></li>
<li><a href='#ppred_model'><p>ppred_model object</p></a></li>
<li><a href='#ppred_predictions'><p>ppred_predictions object</p></a></li>
<li><a href='#prepare_examples'><p>Convert a dataset of type <code>log</code> into a preprocessed format.</p></a></li>
<li><a href='#print.ppred_model'><p>Print methods</p></a></li>
<li><a href='#processpredictR'><p>processpredictR</p></a></li>
<li><a href='#reexports'><p>Default compile function for ProcessTransformer model</p></a></li>
<li><a href='#split_train_test'><p>Splits the preprocessed <code>data.frame</code>.</p></a></li>
<li><a href='#stack_layers'><p>Stacks a keras layer on top of existing model</p></a></li>
<li><a href='#tokenize'><p>Tokenize features and target of a processed dataset of class <code>ppred_examples_df</code></p></a></li>
<li><a href='#vocab_size'><p>Calculate the vocabulary size, i.e. the sum of number of activities, outcome labels and padding keys</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Process Prediction</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-12-23</td>
</tr>
<tr>
<td>Description:</td>
<td>Means to predict process flow, such as process outcome, next activity, next time, remaining time, and remaining trace. Off-the-shelf predictive models based on the concept of Transformers are provided, as well as multiple ways to customize the models. This package is partly based on work described in Zaharah A. Bukhsh, Aaqib Saeed, &amp; Remco M. Dijkman. (2021). "ProcessTransformer: Predictive Business Process Monitoring with Transformer Network" &lt;<a href="https://arxiv.org/abs/2104.00721">arXiv:2104.00721</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>bupaR, edeaR, dplyr, forcats, magrittr, reticulate, tidyr,
tidyselect, purrr, stringr, keras, tensorflow, rlang,
data.table, mltools, ggplot2, cli, glue, plotly, progress</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, lubridate, eventdataR</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-15 22:02:43 UTC; lucp8407</td>
</tr>
<tr>
<td>Author:</td>
<td>Ivan Esin [aut],
  Gert Janssenswillen [cre],
  Hasselt University [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gert Janssenswillen &lt;gert.janssenswillen@uhasselt.be&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-17 17:10:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='confusion_matrix'>Confusion matrix for predictions</h2><span id='topic+confusion_matrix'></span>

<h3>Description</h3>

<p>Confusion matrix for predictions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confusion_matrix(predictions, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confusion_matrix_+3A_predictions">predictions</code></td>
<td>
<p><code><a href="#topic+ppred_predictions">ppred_predictions</a></code>: A <code><a href="base.html#topic+data.frame">data.frame</a></code> with predicted values returned by <code>predict.ppred_model()</code>.</p>
</td></tr>
<tr><td><code id="confusion_matrix_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+table">table</a></code> object that can be used for plotting a confusion matrix using <code>plot()</code>.
</p>

<hr>
<h2 id='create_model'>Define transformer model</h2><span id='topic+create_model'></span>

<h3>Description</h3>

<p>Defines the model using the keras functional API.
The following 4 process monitoring tasks are defined:
</p>

<ul>
<li><p> outcome
</p>
</li>
<li><p> next_activity
</p>
</li>
<li><p> next_time
</p>
</li>
<li><p> remaining_time
</p>
</li>
<li><p> remaining_trace
</p>
</li>
<li><p> remaining_trace_s2s
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>create_model(
  x_train,
  custom = FALSE,
  num_heads = 4,
  output_dim_emb = 36,
  dim_ff = 64,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_model_+3A_x_train">x_train</code></td>
<td>
<p><code><a href="base.html#topic+data.frame">data.frame</a></code>: A processed <code><a href="base.html#topic+data.frame">data.frame</a></code> from <code><a href="#topic+prepare_examples">prepare_examples()</a></code>.</p>
</td></tr>
<tr><td><code id="create_model_+3A_custom">custom</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> (default <code><a href="base.html#topic+FALSE">FALSE</a></code>): If <code><a href="base.html#topic+TRUE">TRUE</a></code>, returns a custom model.</p>
</td></tr>
<tr><td><code id="create_model_+3A_num_heads">num_heads</code></td>
<td>
<p>A number of attention heads of the <code><a href="keras.html#topic+layer_embedding">keras::layer_embedding()</a></code>.</p>
</td></tr>
<tr><td><code id="create_model_+3A_output_dim_emb">output_dim_emb</code></td>
<td>
<p>Dimension of the dense embedding of the <code><a href="keras.html#topic+layer_embedding">keras::layer_embedding()</a></code>.</p>
</td></tr>
<tr><td><code id="create_model_+3A_dim_ff">dim_ff</code></td>
<td>
<p>Dimensionality of the output space of the feedforward network part of the model (<code>units</code> argument of the <code><a href="keras.html#topic+layer_dense">keras::layer_dense()</a></code>).</p>
</td></tr>
<tr><td><code id="create_model_+3A_...">...</code></td>
<td>
<p>you can pass additional arguments to <code>keras::keras_model()</code> (ex.: <code>name</code> argument).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+ppred_model">ppred_model</a></code> and <code><a href="base.html#topic+list">list</a></code> containing a Transformer model (returned by <code>keras::keras_model()</code>) and some additional useful metrics.
</p>

<hr>
<h2 id='create_vocabulary'>Create a vocabulary</h2><span id='topic+create_vocabulary'></span>

<h3>Description</h3>

<p>Creates a vocabulary of activities and outcome labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_vocabulary(processed_df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_vocabulary_+3A_processed_df">processed_df</code></td>
<td>
<p>A preprocessed object of type <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> returned by <code>prepare_examples()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+list">list</a></code> consisting of:
</p>

<ul>
<li> <p><code>"keys_x"</code>: <code><a href="base.html#topic+list">list</a></code> of activity labels
</p>
</li>
<li> <p><code>"keys_y"</code>: <code><a href="base.html#topic+list">list</a></code> of outcome labels (none for tasks <code>"next_time"</code> and <code>"remaining_time"</code>)
</p>
</li></ul>


<hr>
<h2 id='get_vocabulary'>Utils</h2><span id='topic+get_vocabulary'></span>

<h3>Description</h3>

<p>Utils
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_vocabulary(examples)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_vocabulary_+3A_examples">examples</code></td>
<td>
<p>a preprocessed dataset returned by prepare_examples_dt().</p>
</td></tr>
</table>

<hr>
<h2 id='max_case_length'>Calculate the maximum length of a case / number of activities in the longest trace in an event log</h2><span id='topic+max_case_length'></span>

<h3>Description</h3>

<p>Calculate the maximum length of a case / number of activities in the longest trace in an event log
</p>


<h3>Usage</h3>

<pre><code class='language-R'>max_case_length(processed_df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="max_case_length_+3A_processed_df">processed_df</code></td>
<td>
<p>A processed dataset of class <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> returned by <code>prepare_examples()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>integer</code> number of the maximum case length (longest trace) in an event log.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(processpredictR)
library(eventdataR)

df &lt;- prepare_examples(patients)
max_case_length(df)

</code></pre>

<hr>
<h2 id='num_outputs'>Calculate number of outputs (target variables)</h2><span id='topic+num_outputs'></span>

<h3>Description</h3>

<p>Calculate number of outputs (target variables)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_outputs(processed_df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="num_outputs_+3A_processed_df">processed_df</code></td>
<td>
<p>A processed dataset of class <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an <code>integer</code> number of outputs for supplying as an argument to a Transformer model, i.e. number of unique labels for a specific process monitoring task.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(processpredictR)
library(eventdataR)
df &lt;- prepare_examples(patients)
num_outputs(df)

</code></pre>

<hr>
<h2 id='plot.ppred_predictions'>Plot Methods</h2><span id='topic+plot.ppred_predictions'></span>

<h3>Description</h3>

<p>Visualize metric
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ppred_predictions'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.ppred_predictions_+3A_x">x</code></td>
<td>
<p>Data to plot. An object of type <code><a href="#topic+ppred_predictions">ppred_predictions</a></code>.</p>
</td></tr>
<tr><td><code id="plot.ppred_predictions_+3A_...">...</code></td>
<td>
<p>Additional variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object, which can be customized further, if deemed necessary.
</p>

<hr>
<h2 id='ppred_examples_df'>ppred_examples_df object</h2><span id='topic+ppred_examples_df'></span>

<h3>Description</h3>

<p>object of type <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> is a transformed event log returned by <code>prepare_examples_dt()</code>.
</p>

<hr>
<h2 id='ppred_model'>ppred_model object</h2><span id='topic+ppred_model'></span>

<h3>Description</h3>

<p>object of type <code><a href="#topic+ppred_model">ppred_model</a></code> is a list returned by processpredictR::create_model() containing a custom keras functional (transformer) model and some other useful metrics of an event log.
</p>

<hr>
<h2 id='ppred_predictions'>ppred_predictions object</h2><span id='topic+ppred_predictions'></span>

<h3>Description</h3>

<p>object of type <code><a href="#topic+ppred_predictions">ppred_predictions</a></code> is a data.frame with predicted values returned by predict.ppred_model().
</p>

<hr>
<h2 id='prepare_examples'>Convert a dataset of type <code><a href="base.html#topic+log">log</a></code> into a preprocessed format.</h2><span id='topic+prepare_examples'></span>

<h3>Description</h3>

<p>an event log is converted into a tibble where each row contains a cumulative sequence of activities per case.
This sequence will eventually be feeded to the Transformer model's token embedding layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_examples(
  log,
  task = c("outcome", "next_activity", "next_time", "remaining_time", "remaining_trace",
    "remaining_trace_s2s"),
  features = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_examples_+3A_log">log</code></td>
<td>
<p><code><a href="base.html#topic+log">log</a></code>: Object of class <code><a href="base.html#topic+log">log</a></code> or derivatives (<code><a href="bupaR.html#topic+grouped_log">grouped_log</a></code>, <code><a href="bupaR.html#topic+eventlog">eventlog</a></code>,
<code><a href="bupaR.html#topic+activitylog">activitylog</a></code>, etc.).</p>
</td></tr>
<tr><td><code id="prepare_examples_+3A_task">task</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code>: a process monitoring task for which to prepare an event log.</p>
</td></tr>
<tr><td><code id="prepare_examples_+3A_features">features</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> (default <code><a href="base.html#topic+NULL">NULL</a></code>): additional features. Appends attributes (if present) numeric_features and/or categorical_features to a preprocessed event log.</p>
</td></tr>
<tr><td><code id="prepare_examples_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a preprocessed dataset of class <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(processpredictR)
library(eventdataR)

prepare_examples(patients, "next_activity")


</code></pre>

<hr>
<h2 id='print.ppred_model'>Print methods</h2><span id='topic+print.ppred_model'></span>

<h3>Description</h3>

<p>Print methods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ppred_model'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ppred_model_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+ppred_model">ppred_model</a></code>: An object of class <code>ppred_model</code>.</p>
</td></tr>
<tr><td><code id="print.ppred_model_+3A_...">...</code></td>
<td>
<p>Additional Arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prints a Transformer model from a list returned by <code>create_model()</code>.
</p>

<hr>
<h2 id='processpredictR'>processpredictR</h2><span id='topic+processpredictR'></span><span id='topic+processpredictR-package'></span>

<h3>Description</h3>

<p>Means to predict process flow, such as process outcome, next activity, next time, remaining time, and remaining trace. Off-the-shelf predictive models based on the concept of Transformers are provided, as well as multiple ways to customize the models. This package is partly based on work described in Zaharah A. Bukhsh, Aaqib Saeed, &amp; Remco M. Dijkman. (2021). &quot;ProcessTransformer: Predictive Business Process Monitoring with Transformer Network&quot; <a href="https://arxiv.org/abs/2104.00721">arXiv:2104.00721</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gert Janssenswillen <a href="mailto:gert.janssenswillen@uhasselt.be">gert.janssenswillen@uhasselt.be</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Ivan Esin <a href="mailto:ivan.esin@student.uhasselt">ivan.esin@student.uhasselt</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Hasselt University [copyright holder]
</p>
</li></ul>


<hr>
<h2 id='reexports'>Default compile function for ProcessTransformer model</h2><span id='topic+reexports'></span><span id='topic+compile'></span><span id='topic+evaluate'></span><span id='topic+fit'></span><span id='topic+predict'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>keras</dt><dd><p><code><a href="keras.html#topic+reexports">compile</a></code>, <code><a href="keras.html#topic+reexports">evaluate</a></code>, <code><a href="keras.html#topic+reexports">fit</a></code></p>
</dd>
<dt>stats</dt><dd><p><code><a href="stats.html#topic+predict">predict</a></code></p>
</dd>
</dl>


<h3>Arguments</h3>

<table>
<tr><td><code id="reexports_+3A_optimizer">optimizer</code></td>
<td>
<p>Default optimizer for ppred_model</p>
</td></tr>
<tr><td><code id="reexports_+3A_loss">loss</code></td>
<td>
<p>Default loss for ppred_model</p>
</td></tr>
<tr><td><code id="reexports_+3A_metrics">metrics</code></td>
<td>
<p>Default metrics for ppred_model</p>
</td></tr>
<tr><td><code id="reexports_+3A_train_data">train_data</code></td>
<td>
<p>A training dataset</p>
</td></tr>
<tr><td><code id="reexports_+3A_batch_size">batch_size</code></td>
<td>
<p>A batch size</p>
</td></tr>
<tr><td><code id="reexports_+3A_num_epochs">num_epochs</code></td>
<td>
<p>A number of epochs</p>
</td></tr>
<tr><td><code id="reexports_+3A_verbose">verbose</code></td>
<td>
<p>A verbose</p>
</td></tr>
<tr><td><code id="reexports_+3A_callbacks">callbacks</code></td>
<td>
<p><code><a href="base.html#topic+list">list</a></code>: A list of callbacks. <code>keras</code> default is <code>NULL</code>, but can be adjusted (ex. keras::callback_csv_logger(filename = paste(&quot;log_&quot;, object$task)), #or NULL
keras::callback_tensorboard())</p>
</td></tr>
<tr><td><code id="reexports_+3A_shuffle">shuffle</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> (default <code><a href="base.html#topic+TRUE">TRUE</a></code>): If <code><a href="base.html#topic+TRUE">TRUE</a></code> shuffles the data</p>
</td></tr>
<tr><td><code id="reexports_+3A_validation_split">validation_split</code></td>
<td>
<p>A ratio to split on</p>
</td></tr>
<tr><td><code id="reexports_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+ppred_model">ppred_model</a></code> (default <code><a href="base.html#topic+NULL">NULL</a></code>): ProcessTransformer model of class <code><a href="#topic+ppred_model">ppred_model</a></code>.</p>
</td></tr>
<tr><td><code id="reexports_+3A_test_data">test_data</code></td>
<td>
<p><code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> (default <code><a href="base.html#topic+NULL">NULL</a></code>): preprocessed test data.</p>
</td></tr>
<tr><td><code id="reexports_+3A_append">append</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> (default <code><a href="base.html#topic+FALSE">FALSE</a></code>): if <code><a href="base.html#topic+TRUE">TRUE</a></code>, returns a passed <code><a href="base.html#topic+data.frame">data.frame</a></code> with predicted values.</p>
</td></tr>
<tr><td><code id="reexports_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>See <code><a href="keras.html#topic+reexports">keras::fit()</a></code> for documentation of parameters
</p>

<hr>
<h2 id='split_train_test'>Splits the preprocessed <code><a href="base.html#topic+data.frame">data.frame</a></code>.</h2><span id='topic+split_train_test'></span>

<h3>Description</h3>

<p>Returns train- and test dataframes as a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_train_test(processed_df, split = 0.7)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="split_train_test_+3A_processed_df">processed_df</code></td>
<td>
<p>A preprocessed object of type <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> returned by <code>prepare_examples()</code>.</p>
</td></tr>
<tr><td><code id="split_train_test_+3A_split">split</code></td>
<td>
<p><code><a href="base.html#topic+numeric">numeric</a></code> (default 0.7): A train-test split ratio.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+list">list</a></code> containing the train- and the test set objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(processpredictR)
library(eventdataR)

df &lt;- prepare_examples(patients, "next_activity")
split_train_test(df, split = 0.8)

</code></pre>

<hr>
<h2 id='stack_layers'>Stacks a keras layer on top of existing model</h2><span id='topic+stack_layers'></span>

<h3>Description</h3>

<p>User friendly interface to add a keras layer on top of existing model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stack_layers(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stack_layers_+3A_object">object</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> containing a model returned by <code>create_model()</code>.</p>
</td></tr>
<tr><td><code id="stack_layers_+3A_...">...</code></td>
<td>
<p>functions for adding layers by using functional keras API. For example, <code>keras::layer_dense(units=32, activation="relu")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+list">list</a></code> containing an adapted Transformer model.
</p>

<hr>
<h2 id='tokenize'>Tokenize features and target of a processed dataset of class <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code></h2><span id='topic+tokenize'></span>

<h3>Description</h3>

<p>Tokenize features and target of a processed <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> object to fit the Transformer model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tokenize(processed_df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tokenize_+3A_processed_df">processed_df</code></td>
<td>
<p>A preprocessed object of type <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> returned by <code>prepare_examples()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+list">list</a></code> of (sequence) tokens and additional <code>numeric</code> or <code>categorical</code> features.
</p>

<hr>
<h2 id='vocab_size'>Calculate the vocabulary size, i.e. the sum of number of activities, outcome labels and padding keys</h2><span id='topic+vocab_size'></span>

<h3>Description</h3>

<p>Calculate the vocabulary size, i.e. the sum of number of activities, outcome labels and padding keys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vocab_size(processed_df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vocab_size_+3A_processed_df">processed_df</code></td>
<td>
<p>A processed dataset of class <code><a href="#topic+ppred_examples_df">ppred_examples_df</a></code> from <code>prepare_examples()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an <code>integer</code> number of vocabulary size to define the Transformer model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(processpredictR)
library(eventdataR)
df &lt;- prepare_examples(patients)
vocab_size(df)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

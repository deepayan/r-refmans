<!DOCTYPE html><html lang="en"><head><title>Help for package Certara.DarwinReporter</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Certara.DarwinReporter}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#darwin_data'><p>Initialize darwin data structure.</p></a></li>
<li><a href='#darwinReportUI'><p>Generate and Report Model Diagnostics from NLME or NONMEM runs</p></a></li>
<li><a href='#fitness_penalties_vs_iteration'><p>Plot minimum fitness by iteration with penalty composition.</p></a></li>
<li><a href='#fitness_vs_iteration'><p>Plot best fitness by iteration.</p></a></li>
<li><a href='#get_eps_shk'><p>Get eps shrinkage values <code>xpose_data</code> object</p></a></li>
<li><a href='#get_eta_shk'><p>Get eta shrinkage values from <code>xpose_data</code> object</p></a></li>
<li><a href='#import_key_models'><p>Imports files from key model output folders</p></a></li>
<li><a href='#summarise_fitness_by_iteration'><p>Summarise fitness by iteration</p></a></li>
<li><a href='#summarise_fitness_penalties_by_iteration'><p>Summarize minimum fitness and penalty values by iteration</p></a></li>
<li><a href='#summarise_overall_by_key_models'><p>Summarise overall table by key models</p></a></li>
<li><a href='#theme_certara'><p>A ggplot2 theme for Certara.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Data Visualization Utilities for 'pyDarwin' Machine Learning
Pharmacometric Model Development</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Utilize the 'shiny' interface for visualizing results from a 'pyDarwin' (<a href="https://certara.github.io/pyDarwin/">https://certara.github.io/pyDarwin/</a>)
    machine learning pharmacometric model search. It generates Goodness-of-Fit plots and summary tables for selected models,
    allowing users to customize diagnostic outputs within the interface. The underlying R code for generating plots and
    tables can be extracted for use outside the interactive session. Model diagnostics can also be incorporated into an
    R Markdown document and rendered in various output formats.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://certara.github.io/R-DarwinReporter/">https://certara.github.io/R-DarwinReporter/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, data.table, readr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>DT, colourpicker, shinyAce, shinymeta, utils, ggplot2, xpose,
Certara.Xpose.NLME, dplyr, jsonlite, tidyr, flextable,
shinyjqui, grDevices, plotly, scales, shiny (&ge; 1.7.0),
shinyjs, shinyWidgets, bslib (&ge; 0.7.0), shinyTree (&ge; 0.3.1),
sortable</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-06 16:41:17 UTC; jcraig</td>
</tr>
<tr>
<td>Author:</td>
<td>James Craig [aut, cre],
  Michael Tomashevskiy [aut],
  Mike Talley [aut],
  Certara USA, Inc [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James Craig &lt;james.craig@certara.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-07 16:40:13 UTC</td>
</tr>
</table>
<hr>
<h2 id='darwin_data'>Initialize darwin data structure.</h2><span id='topic+darwin_data'></span>

<h3>Description</h3>

<p>Initialize darwin data structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>darwin_data(
  project_dir,
  working_dir = NULL,
  output_dir = NULL,
  key_models_dir = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="darwin_data_+3A_project_dir">project_dir</code></td>
<td>
<p>Directory containing input files for pyDarwin (e.g., options.json).</p>
</td></tr>
<tr><td><code id="darwin_data_+3A_working_dir">working_dir</code></td>
<td>
<p>Directory containing misc results folders generated from a pyDarwin search.
This is the default location of the key_models, output, and temp folders.</p>
</td></tr>
<tr><td><code id="darwin_data_+3A_output_dir">output_dir</code></td>
<td>
<p>Directory containing output files such as &quot;results.csv&quot; and final control files.
Default location is inside <code>working_dir/output</code>.</p>
</td></tr>
<tr><td><code id="darwin_data_+3A_key_models_dir">key_models_dir</code></td>
<td>
<p>Directory of the key_models folder. Default location is inside <code>working_dir/key_models</code>.
Note, key models are not imported if argument is <code>NULL</code>, explicitly specify <code>key_models_dir</code> to import files for <code><a href="#topic+darwinReportUI">darwinReportUI</a></code>.</p>
</td></tr>
<tr><td><code id="darwin_data_+3A_...">...</code></td>
<td>
<p>Additional args.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>working_dir</code> and <code>output_dir</code> are sub directories of <code>project_dir</code>, these arguments can be ignored.
The <code>key_models_dir</code> is not required to initialize the <code>darwin_data</code> object. If specified, however, key models data will
be imported which may take time given the number of key models and size of output tables. See <code><a href="#topic+import_key_models">import_key_models</a></code>.
</p>


<h3>Value</h3>

<p>Object of class <code>darwin_data</code>.
</p>

<hr>
<h2 id='darwinReportUI'>Generate and Report Model Diagnostics from NLME or NONMEM runs</h2><span id='topic+darwinReportUI'></span>

<h3>Description</h3>

<p>Shiny application to generate, customize, and report diagnostic plots and tables from NLME or
NONMEM output files. Create an Rmarkdown file of tagged model diagnostics and render into
submission ready report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>darwinReportUI(darwin_data, tagged = NULL, settings = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="darwinReportUI_+3A_darwin_data">darwin_data</code></td>
<td>
<p>Object of class <code>darwin_data</code>. Note, key_models xpose_data must be available.</p>
</td></tr>
<tr><td><code id="darwinReportUI_+3A_tagged">tagged</code></td>
<td>
<p>List of tagged objects returned from previous <code>tagged &lt;- darwinReportUI()</code> session.</p>
</td></tr>
<tr><td><code id="darwinReportUI_+3A_settings">settings</code></td>
<td>
<p>List of settings (e.g., settings.Rds) returned from previous Shiny session.</p>
</td></tr>
<tr><td><code id="darwinReportUI_+3A_...">...</code></td>
<td>
<p>Additional arguments for Pirana integration.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>interactive()</code>, returns a list of tagged diagnostics from the Shiny application, otherwise returns <code>TRUE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
ddb &lt;- darwin_data("./darwin_search_09") |&gt;
   import_key_models("./darwin_search_09/key_models")

darwinReportUI(ddb)
}

</code></pre>

<hr>
<h2 id='fitness_penalties_vs_iteration'>Plot minimum fitness by iteration with penalty composition.</h2><span id='topic+fitness_penalties_vs_iteration'></span>

<h3>Description</h3>

<p>Plot minimum fitness by iteration with penalty composition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitness_penalties_vs_iteration(
  darwin_data,
  group_penalties = TRUE,
  scale_ofv = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitness_penalties_vs_iteration_+3A_darwin_data">darwin_data</code></td>
<td>
<p>Object of class <code>darwin_data</code>.</p>
</td></tr>
<tr><td><code id="fitness_penalties_vs_iteration_+3A_group_penalties">group_penalties</code></td>
<td>
<p>Logical; defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="fitness_penalties_vs_iteration_+3A_scale_ofv">scale_ofv</code></td>
<td>
<p>Set to <code>TRUE</code> to rescale OFV axis limit. Used to better observe penalty effects.</p>
</td></tr>
<tr><td><code id="fitness_penalties_vs_iteration_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>ggplot</code>.
</p>

<hr>
<h2 id='fitness_vs_iteration'>Plot best fitness by iteration.</h2><span id='topic+fitness_vs_iteration'></span>

<h3>Description</h3>

<p>Plot best fitness by iteration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitness_vs_iteration(darwin_data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitness_vs_iteration_+3A_darwin_data">darwin_data</code></td>
<td>
<p>Object of class <code>darwin_data</code>.</p>
</td></tr>
<tr><td><code id="fitness_vs_iteration_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>ggplot</code>.
</p>

<hr>
<h2 id='get_eps_shk'>Get eps shrinkage values <code>xpose_data</code> object</h2><span id='topic+get_eps_shk'></span>

<h3>Description</h3>

<p>This function returns eps shrinkage values from <code>xpose_data</code> object as a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_eps_shk(xpdb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_eps_shk_+3A_xpdb">xpdb</code></td>
<td>
<p>Object of class <code>xpose_data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <code>data.frame</code>.
</p>

<hr>
<h2 id='get_eta_shk'>Get eta shrinkage values from <code>xpose_data</code> object</h2><span id='topic+get_eta_shk'></span>

<h3>Description</h3>

<p>This function returns eta shrinkage values from <code>xpose_data</code> object as a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_eta_shk(xpdb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_eta_shk_+3A_xpdb">xpdb</code></td>
<td>
<p>Object of class <code>xpose_data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <code>data.frame</code>.
</p>

<hr>
<h2 id='import_key_models'>Imports files from key model output folders</h2><span id='topic+import_key_models'></span>

<h3>Description</h3>

<p>Use to create xpose data object from files in NLME or NONMEM key model output folders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_key_models(darwin_data, dir, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="import_key_models_+3A_darwin_data">darwin_data</code></td>
<td>
<p>Object of class <code>darwin_data</code>.</p>
</td></tr>
<tr><td><code id="import_key_models_+3A_dir">dir</code></td>
<td>
<p>File path to key models directory.</p>
</td></tr>
<tr><td><code id="import_key_models_+3A_...">...</code></td>
<td>
<p>Additional args.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>darwin_data</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
ddb &lt;- darwin_data(project_dir = "./darwin_search_09") |&gt;
   import_key_models(dir = "./darwin_search_09/key_models")
}

</code></pre>

<hr>
<h2 id='summarise_fitness_by_iteration'>Summarise fitness by iteration</h2><span id='topic+summarise_fitness_by_iteration'></span>

<h3>Description</h3>

<p>Summarise minimum, cumulative minimum, and mean fitness values by pyDarwin search iteration/generation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_fitness_by_iteration(darwin_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summarise_fitness_by_iteration_+3A_darwin_data">darwin_data</code></td>
<td>
<p>Object of class <code>darwin_data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> with columns <code>iteration</code>,
<code>min_fitness</code>, <code>mean_fitness</code>, and <code>min_cum_fitness</code>
</p>

<hr>
<h2 id='summarise_fitness_penalties_by_iteration'>Summarize minimum fitness and penalty values by iteration</h2><span id='topic+summarise_fitness_penalties_by_iteration'></span>

<h3>Description</h3>

<p>Summarise minimum fitness, ofv, and penalty values used in calculation of overall fitness values by pyDarwin search iteration/generation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_fitness_penalties_by_iteration(darwin_data, group_penalties = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summarise_fitness_penalties_by_iteration_+3A_darwin_data">darwin_data</code></td>
<td>
<p>Object of class <code>darwin_data</code>.</p>
</td></tr>
<tr><td><code id="summarise_fitness_penalties_by_iteration_+3A_group_penalties">group_penalties</code></td>
<td>
<p>Logical. Set to <code>TRUE</code> to group penalties.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> of columns <code>"iteration", "fitness", "ofv"</code> and corresponding penalty columns.
</p>

<hr>
<h2 id='summarise_overall_by_key_models'>Summarise overall table by key models</h2><span id='topic+summarise_overall_by_key_models'></span>

<h3>Description</h3>

<p>Generate a summary <code>data.frame</code> by key models, which includes columns
such as condition number, number of parameters, -2LL, AIC, BIC, fitness, and
penalty values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_overall_by_key_models(darwin_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summarise_overall_by_key_models_+3A_darwin_data">darwin_data</code></td>
<td>
<p>Object of class <code>darwin_data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code>
</p>

<hr>
<h2 id='theme_certara'>A ggplot2 theme for Certara.</h2><span id='topic+theme_certara'></span>

<h3>Description</h3>

<p>A ggplot2 theme for Certara.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_certara(
  base_size = 11,
  base_family = "",
  base_line_size = base_size/22,
  base_rect_size = base_size/22,
  grid = c("none", "horizontal", "both"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_certara_+3A_base_size">base_size</code></td>
<td>
<p>base font size, given in pts.</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_base_family">base_family</code></td>
<td>
<p>base font family</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_base_line_size">base_line_size</code></td>
<td>
<p>base size for line elements</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_base_rect_size">base_rect_size</code></td>
<td>
<p>base size for rect elements</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_grid">grid</code></td>
<td>
<p>Which grid lines should appear? Horizontal only, both horizontal and vertical, or none (default).
<code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a>()</code>.</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_...">...</code></td>
<td>
<p>Additional args</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are 3 variants of the theme: no grid
<code>theme_certara()</code>, full grid <code>theme_certara(grid = "both")</code>, and
horizontal grid lines only <code>theme_certara(grid = "horizontal")</code>.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="ggplot2.html#topic+theme">theme</a>()</code>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

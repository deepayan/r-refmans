<!DOCTYPE html><html><head><title>Help for package sprtt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sprtt}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sprtt-package'><p>sprtt: Sequential Probability Ratio Tests Toolbox</p></a></li>
<li><a href='#[,seq_anova_arguments-method'><p>Method to retrieve the contents of a slot of an object of the</p>
seq_anova_arguments class.</a></li>
<li><a href='#[,seq_anova_results-method'><p>Method to retrieve the contents of a slot of an object of the</p>
<code>seq_anova_results</code> class.</a></li>
<li><a href='#[,seq_ttest_arguments-method'><p>Method to retrieve the contents of a slot of an object of the</p>
seq_ttest_arguments class.</a></li>
<li><a href='#[,seq_ttest_results-method'><p>Method to retrieve the contents of a slot of an object of the</p>
<code>seq_ttest_results</code> class.</a></li>
<li><a href='#df_cancer'><p>Test data to run the examples</p></a></li>
<li><a href='#df_income'><p>Test data to run the examples</p></a></li>
<li><a href='#df_stress'><p>Test data to run the examples</p></a></li>
<li><a href='#draw_sample_mixture'><p>Draw Samples from a Gaussian Mixture Distribution</p></a></li>
<li><a href='#draw_sample_normal'><p>Draw Samples from a Normal Distribution</p></a></li>
<li><a href='#plot_anova'><p>Plot Sequential ANOVA Results</p></a></li>
<li><a href='#seq_anova'><p>Sequential Analysis of Variance</p></a></li>
<li><a href='#seq_anova_results-class'><p>An S4 class to represent the results of a sequential anova.</p></a></li>
<li><a href='#seq_ttest'><p>Sequential Probability Ratio Test using t-statistic</p></a></li>
<li><a href='#seq_ttest_results-class'><p>An S4 class to represent the results of a sequential t-test.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sequential Probability Ratio Tests Toolbox</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Meike Steinhilber &lt;Meike.Steinhilber@aol.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>It is a toolbox for Sequential Probability Ratio Tests (SPRT),  Wald (1945) &lt;<a href="https://doi.org/10.2134%2Fagronj1947.00021962003900070011x">doi:10.2134/agronj1947.00021962003900070011x</a>&gt;.
    SPRTs are applied to the data during the sampling process, ideally after each observation.
    At any stage, the test will return a decision to either continue sampling or terminate and accept one of the specified hypotheses.
    The seq_ttest() function performs one-sample, two-sample, and paired t-tests for testing one- and two-sided hypotheses (Schnuerch &amp; Erdfelder (2019) &lt;<a href="https://doi.org/10.1037%2Fmet0000234">doi:10.1037/met0000234</a>&gt;).
    The seq_anova() function allows to perform a sequential one-way fixed effects ANOVA (Steinhilber et al. (2023) &lt;<a href="https://doi.org/10.31234%2Fosf.io%2Fm64ne">doi:10.31234/osf.io/m64ne</a>&gt;).
    Learn more about the package by using vignettes "browseVignettes(package = "sprtt")" or go to the website <a href="https://meikesteinhilber.github.io/sprtt/">https://meikesteinhilber.github.io/sprtt/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://meikesteinhilber.github.io/sprtt/">https://meikesteinhilber.github.io/sprtt/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/MeikeSteinhilber/sprtt/issues">https://github.com/MeikeSteinhilber/sprtt/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, stats, dplyr, MBESS, purrr, glue, ggplot2, lifecycle</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), testthis, effsize,
effectsize, vdiffr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-06 12:58:04 UTC; Admin</td>
</tr>
<tr>
<td>Author:</td>
<td>Meike Steinhilber <a href="https://orcid.org/0000-0002-7144-2100"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Martin Schnuerch <a href="https://orcid.org/0000-0001-6531-2265"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, ths],
  Anna-Lena Schubert
    <a href="https://orcid.org/0000-0001-7248-0662"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, ths]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-06 13:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sprtt-package'>sprtt: Sequential Probability Ratio Tests Toolbox</h2><span id='topic+sprtt'></span><span id='topic+sprtt-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>It is a toolbox for Sequential Probability Ratio Tests (SPRT), Wald (1945) <a href="https://doi.org/10.2134/agronj1947.00021962003900070011x">doi:10.2134/agronj1947.00021962003900070011x</a>. SPRTs are applied to the data during the sampling process, ideally after each observation. At any stage, the test will return a decision to either continue sampling or terminate and accept one of the specified hypotheses. The seq_ttest() function performs one-sample, two-sample, and paired t-tests for testing one- and two-sided hypotheses (Schnuerch &amp; Erdfelder (2019) <a href="https://doi.org/10.1037/met0000234">doi:10.1037/met0000234</a>). The seq_anova() function allows to perform a sequential one-way fixed effects ANOVA (Steinhilber et al. (2023) <a href="https://doi.org/10.31234/osf.io/m64ne">doi:10.31234/osf.io/m64ne</a>). Learn more about the package by using vignettes &quot;browseVignettes(package = &quot;sprtt&quot;)&quot; or go to the website <a href="https://meikesteinhilber.github.io/sprtt/">https://meikesteinhilber.github.io/sprtt/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Meike Steinhilber <a href="mailto:Meike.Steinhilber@aol.com">Meike.Steinhilber@aol.com</a> (<a href="https://orcid.org/0000-0002-7144-2100">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Martin Schnuerch (<a href="https://orcid.org/0000-0001-6531-2265">ORCID</a>) [thesis advisor]
</p>
</li>
<li><p> Anna-Lena Schubert (<a href="https://orcid.org/0000-0001-7248-0662">ORCID</a>) [thesis advisor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://meikesteinhilber.github.io/sprtt/">https://meikesteinhilber.github.io/sprtt/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/MeikeSteinhilber/sprtt/issues">https://github.com/MeikeSteinhilber/sprtt/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+5B+2Cseq_anova_arguments-method'>Method to retrieve the contents of a slot of an object of the
seq_anova_arguments class.</h2><span id='topic++5B+2Cseq_anova_arguments-method'></span>

<h3>Description</h3>

<p>This method is only used internally to process
the input arguments of the <code><a href="#topic+seq_anova">seq_anova</a></code> function. As a normal user,
you can ignore this specific documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'seq_anova_arguments'
x[i, j, drop]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B+2B2Cseq_anova_arguments-method_+3A_x">x</code></td>
<td>
<p>the seq_anova_arguments object.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_arguments-method_+3A_i">i</code></td>
<td>
<p>indices indicating elements to extract.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_arguments-method_+3A_j">j</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_arguments-method_+3A_drop">drop</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_arguments-method_+3A_seq_anova_arguments">seq_anova_arguments</code></td>
<td>
<p>the corresponding class to this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the contents of the specified slot. For more information,
see the documentation for the seq_anova_arguments class.
</p>

<hr>
<h2 id='+5B+2Cseq_anova_results-method'>Method to retrieve the contents of a slot of an object of the
<code><a href="#topic+seq_anova_results-class">seq_anova_results</a></code> class.</h2><span id='topic++5B+2Cseq_anova_results-method'></span>

<h3>Description</h3>

<p>Method to retrieve the contents of a slot of an object of the
<code><a href="#topic+seq_anova_results-class">seq_anova_results</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'seq_anova_results'
x[i, j, drop]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B+2B2Cseq_anova_results-method_+3A_x">x</code></td>
<td>
<p>the seq_ttest_results object.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_results-method_+3A_i">i</code></td>
<td>
<p>indices indicating elements to extract.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_results-method_+3A_j">j</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_results-method_+3A_drop">drop</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_anova_results-method_+3A_seq_anova_results">seq_anova_results</code></td>
<td>
<p>the corresponding class to this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the contents of the specified slot. For more information,
see the documentation for the <code><a href="#topic+seq_anova_results-class">seq_anova_results</a></code> class.
</p>

<hr>
<h2 id='+5B+2Cseq_ttest_arguments-method'>Method to retrieve the contents of a slot of an object of the
seq_ttest_arguments class.</h2><span id='topic++5B+2Cseq_ttest_arguments-method'></span>

<h3>Description</h3>

<p>This method is only used internally to process
the input arguments of the <code><a href="#topic+seq_ttest">seq_ttest</a></code> function. As a normal user,
you can ignore this specific documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'seq_ttest_arguments'
x[i, j, drop]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B+2B2Cseq_ttest_arguments-method_+3A_x">x</code></td>
<td>
<p>the seq_ttest_arguments object.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_arguments-method_+3A_i">i</code></td>
<td>
<p>indices indicating elements to extract.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_arguments-method_+3A_j">j</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_arguments-method_+3A_drop">drop</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_arguments-method_+3A_seq_ttest_arguments">seq_ttest_arguments</code></td>
<td>
<p>the corresponding class to this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the contents of the specified slot of an
seq_ttest_arguments object. For more information, see the arguments of the
<code><a href="#topic+seq_ttest">seq_ttest</a></code> function.
</p>

<hr>
<h2 id='+5B+2Cseq_ttest_results-method'>Method to retrieve the contents of a slot of an object of the
<code><a href="#topic+seq_ttest_results-class">seq_ttest_results</a></code> class.</h2><span id='topic++5B+2Cseq_ttest_results-method'></span>

<h3>Description</h3>

<p>Method to retrieve the contents of a slot of an object of the
<code><a href="#topic+seq_ttest_results-class">seq_ttest_results</a></code> class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'seq_ttest_results'
x[i, j, drop]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B+2B2Cseq_ttest_results-method_+3A_x">x</code></td>
<td>
<p>the seq_ttest_results object.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_results-method_+3A_i">i</code></td>
<td>
<p>indices indicating elements to extract.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_results-method_+3A_j">j</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_results-method_+3A_drop">drop</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cseq_ttest_results-method_+3A_seq_ttest_results">seq_ttest_results</code></td>
<td>
<p>the corresponding class to this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the contents of the specified slot. For more information,
see the documentation for the <code><a href="#topic+seq_ttest_results-class">seq_ttest_results</a></code> class.
</p>

<hr>
<h2 id='df_cancer'>Test data to run the examples</h2><span id='topic+df_cancer'></span>

<h3>Description</h3>

<p>A dataset that includes 120 individuals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_cancer
</code></pre>


<h3>Format</h3>

<p>A data frame with 2 variables:
</p>

<dl>
<dt>treatment_group</dt><dd> </dd>
<dt>control_group</dt><dd> </dd>
</dl>


<hr>
<h2 id='df_income'>Test data to run the examples</h2><span id='topic+df_income'></span>

<h3>Description</h3>

<p>A dataset that includes 120 individuals with sex gender and monthly income.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_income
</code></pre>


<h3>Format</h3>

<p>A data frame with 2 variables:
</p>

<dl>
<dt>monthly_income</dt><dd> </dd>
<dt>sex</dt><dd> </dd>
</dl>


<hr>
<h2 id='df_stress'>Test data to run the examples</h2><span id='topic+df_stress'></span>

<h3>Description</h3>

<p>A dataset that includes 120 individuals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_stress
</code></pre>


<h3>Format</h3>

<p>A data frame with 2 variables:
</p>

<dl>
<dt>baseline_stress</dt><dd> </dd>
<dt>one_year_stress</dt><dd> </dd>
</dl>


<hr>
<h2 id='draw_sample_mixture'>Draw Samples from a Gaussian Mixture Distribution</h2><span id='topic+draw_sample_mixture'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Draws exemplary samples with a certain effect size for the sequential one-oway ANOVA or the sequential t-test, see Steinhilber et al. (2023) <a href="doi:10.31234/osf.io/m64ne">doi:10.31234/osf.io/m64ne</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_sample_mixture(k_groups, f, max_n, counter_n = 100, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_sample_mixture_+3A_k_groups">k_groups</code></td>
<td>
<p>number of groups (levels of factor_A)</p>
</td></tr>
<tr><td><code id="draw_sample_mixture_+3A_f">f</code></td>
<td>
<p>Cohen's f. The simulated effect size.</p>
</td></tr>
<tr><td><code id="draw_sample_mixture_+3A_max_n">max_n</code></td>
<td>
<p>sample size for the groups (total sample size = max_n*k_groups)</p>
</td></tr>
<tr><td><code id="draw_sample_mixture_+3A_counter_n">counter_n</code></td>
<td>
<p>number of times the function tries to find a possible parameter combination for the distribution. Default value is set to 100.</p>
</td></tr>
<tr><td><code id="draw_sample_mixture_+3A_verbose">verbose</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE.</code> Print out more information about the internal process of sampling the parameters
(the internal counter that was reached, some additional hints and the drawn parameters for the Gaussian Mixture distributions.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a data.frame with the columns y (observations) and x (factor_A).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(333)

data &lt;- sprtt::draw_sample_mixture(
  k_groups = 2,
  f = 0.40,
  max_n = 2
)
data

data &lt;- sprtt::draw_sample_mixture(
  k_groups = 4,
  f = 1.2, # very large effect size
  max_n = 4,
  counter_n = 1000, # increase of counter is necessary
  verbose = TRUE # prints more information to the console
)
data
</code></pre>

<hr>
<h2 id='draw_sample_normal'>Draw Samples from a Normal Distribution</h2><span id='topic+draw_sample_normal'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Draws exemplary samples with a certain effect size for the sequential one-oway ANOVA or the sequential t-test, see Steinhilber et al. (2023) <a href="doi:10.31234/osf.io/m64ne">doi:10.31234/osf.io/m64ne</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_sample_normal(k_groups, f, max_n, sd = NULL, sample_ratio = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_sample_normal_+3A_k_groups">k_groups</code></td>
<td>
<p>number of groups (levels of factor_A)</p>
</td></tr>
<tr><td><code id="draw_sample_normal_+3A_f">f</code></td>
<td>
<p>Cohen's f. The simulated effect size.</p>
</td></tr>
<tr><td><code id="draw_sample_normal_+3A_max_n">max_n</code></td>
<td>
<p>sample size for the groups (total sample size = max_n*k_groups)</p>
</td></tr>
<tr><td><code id="draw_sample_normal_+3A_sd">sd</code></td>
<td>
<p>vector of standard deviations of the groups. Default value is 1 for each group.</p>
</td></tr>
<tr><td><code id="draw_sample_normal_+3A_sample_ratio">sample_ratio</code></td>
<td>
<p>vector of sample ratios between th groups. Default value is 1 for each group.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a data.frame with the columns y (observations) and x (factor_A).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(333)

data &lt;- sprtt::draw_sample_normal(
  k_groups = 2,
  f = 0.20,
  max_n = 2
)
data

data &lt;- sprtt::draw_sample_normal(
  k_groups = 4,
  f = 0,
  max_n = 2,
  sd = c(1, 2, 1, 8)
)
data

data &lt;- sprtt::draw_sample_normal(
  k_groups = 3,
  f = 0.40,
  max_n = 2,
  sd = c(1, 0.8, 1),
  sample_ratio = c(1, 2, 3)
)
data
</code></pre>

<hr>
<h2 id='plot_anova'>Plot Sequential ANOVA Results</h2><span id='topic+plot_anova'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Creates plots for the results of the seq_anova() function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_anova(
  anova_results,
  labels = TRUE,
  position_labels_x = 0.15,
  position_labels_y = 0.075,
  position_lr_x = 0.05,
  font_size = 25,
  line_size = 1.5,
  highlight_color = "#CD2626"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_anova_+3A_anova_results">anova_results</code></td>
<td>
<p>result object of the seq_anova() function (argument must be of class <code>seq_anova_results</code>).</p>
</td></tr>
<tr><td><code id="plot_anova_+3A_labels">labels</code></td>
<td>
<p>show labels in the plot.</p>
</td></tr>
<tr><td><code id="plot_anova_+3A_position_labels_x">position_labels_x</code></td>
<td>
<p>position of the boundary labels on the x-axis.</p>
</td></tr>
<tr><td><code id="plot_anova_+3A_position_labels_y">position_labels_y</code></td>
<td>
<p>position of the boundary labels on the y-axis.</p>
</td></tr>
<tr><td><code id="plot_anova_+3A_position_lr_x">position_lr_x</code></td>
<td>
<p>scales the position of the LR label on the x-axis.</p>
</td></tr>
<tr><td><code id="plot_anova_+3A_font_size">font_size</code></td>
<td>
<p>font size of the plot.</p>
</td></tr>
<tr><td><code id="plot_anova_+3A_line_size">line_size</code></td>
<td>
<p>line size of the plot.</p>
</td></tr>
<tr><td><code id="plot_anova_+3A_highlight_color">highlight_color</code></td>
<td>
<p>highlighting color, default is &quot;#CD2626&quot; (red).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simulate data for the example ------------------------------------------------
set.seed(333)
data &lt;- sprtt::draw_sample_normal(3, f = 0.25, max_n = 30)

# calculate the SPRT -----------------------------------------------------------
anova_results &lt;- sprtt::seq_anova(y~x, f = 0.25, data = data, plot = TRUE)

# plot the results -------------------------------------------------------------
sprtt::plot_anova(anova_results)

sprtt::plot_anova(anova_results,
                 labels = TRUE,
                 position_labels_x = 0.5,
                 position_labels_y = 0.1,
                 position_lr_x = -0.5,
                 font_size = 25,
                 line_size = 2,
                 highlight_color = "green"
                 )

sprtt::plot_anova(anova_results,
                 labels = FALSE
                 )
</code></pre>

<hr>
<h2 id='seq_anova'>Sequential Analysis of Variance</h2><span id='topic+seq_anova'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Performs a sequential one-way fixed effects ANOVA, see Steinhilber et al. (2023) <a href="doi:10.31234/osf.io/m64ne">doi:10.31234/osf.io/m64ne</a>
for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seq_anova(
  formula,
  f,
  alpha = 0.05,
  power = 0.95,
  data,
  verbose = TRUE,
  plot = FALSE,
  seq_steps = "single"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seq_anova_+3A_formula">formula</code></td>
<td>
<p>A formula specifying the model.</p>
</td></tr>
<tr><td><code id="seq_anova_+3A_f">f</code></td>
<td>
<p>Cohen's f (expected minimal effect size or effect size of interest).</p>
</td></tr>
<tr><td><code id="seq_anova_+3A_alpha">alpha</code></td>
<td>
<p>the type I error. A number between 0 and 1.</p>
</td></tr>
<tr><td><code id="seq_anova_+3A_power">power</code></td>
<td>
<p>1 - beta (beta is the type II error probability). A number
between 0 and 1.</p>
</td></tr>
<tr><td><code id="seq_anova_+3A_data">data</code></td>
<td>
<p>A data frame in which the variables specified in the formula will be found.</p>
</td></tr>
<tr><td><code id="seq_anova_+3A_verbose">verbose</code></td>
<td>
<p>a logical value whether you want a verbose output or not.</p>
</td></tr>
<tr><td><code id="seq_anova_+3A_plot">plot</code></td>
<td>
<p>calculates the ANOVA sequentially on the data and saves the results in the slot called plot.
This calculation is necessary for the plot_anova() function.</p>
</td></tr>
<tr><td><code id="seq_anova_+3A_seq_steps">seq_steps</code></td>
<td>
<p>Defines the sequential steps for the sequential calculation if <code>plot = TRUE</code>.
Argument takes either a vector of numbers or the argument <code>single</code> or <code>balanced</code>.
A vector of numbers specifies the sample sizes at which the anova is calculated.
<code>single</code> specifies that after each single point the test statistic is calculated (step size = 1).
Attention: the calculation starts at the number of groups times two.
If the data do not fit to this, you have to specify the sequential steps yourself in this argument.
<code>balanced</code> specifies that the step size is equal to the number of groups.
Attention: the calculation starts at the number of groups times two.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the S4 class <code><a href="#topic+seq_anova_results-class">seq_anova_results</a></code>. Click on the
class link to see the full description of the slots.
To get access to the object use the
<code>@</code>-operator or <code style="white-space: pre;">&#8288;[]&#8288;</code>-brackets instead of <code>$</code>.
See the examples below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simulate data ----------------------------------------------------------------
set.seed(333)
data &lt;- sprtt::draw_sample_normal(k_groups = 3,
                    f = 0.25,
                    sd = c(1, 1, 1),
                    max_n = 50)


# calculate sequential ANOVA ---------------------------------------------------
results &lt;- sprtt::seq_anova(y ~ x, f = 0.25, data = data)
# test decision
results@decision
# test results
results

# calculate sequential ANOVA ---------------------------------------------------
results &lt;- sprtt::seq_anova(y ~ x,
                            f = 0.25,
                            data = data,
                            alpha = 0.01,
                            power = .80,
                            verbose = TRUE)
results

# calculate sequential ANOVA ---------------------------------------------------
results &lt;- sprtt::seq_anova(y ~ x,
                            f = 0.15,
                            data = data,
                            alpha = 0.05,
                            power = .80,
                            verbose = FALSE)
results
</code></pre>

<hr>
<h2 id='seq_anova_results-class'>An S4 class to represent the results of a sequential anova.</h2><span id='topic+seq_anova_results-class'></span>

<h3>Description</h3>

<p>An S4 class to represent the results of a sequential anova.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="seq_anova_results-class_+3A_plot">plot</code></td>
<td>
<p>list with all arguments for the plot_anova() function</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>likelihood_ratio_log</code></dt><dd><p>the logarithmic test statistic.</p>
</dd>
<dt><code>decision</code></dt><dd><p>the test decision: &quot;accept H1&quot;, &quot;accept H0&quot;,
or &quot;continue sampling&quot;.</p>
</dd>
<dt><code>A_boundary_log</code></dt><dd><p>the lower logarithmic boundary of the test.</p>
</dd>
<dt><code>B_boundary_log</code></dt><dd><p>the upper logarithmic boundary of the test.</p>
</dd>
<dt><code>f</code></dt><dd><p>a number indicating the specified effect size (Cohen's f).</p>
</dd>
<dt><code>effect_sizes</code></dt><dd><p>a list with effect sizes (Cohen's f, eta squared, ...).</p>
</dd>
<dt><code>alpha</code></dt><dd><p>the type I error. A number between 0 and 1.</p>
</dd>
<dt><code>power</code></dt><dd><p>1 - beta (beta is the type II error probability). A number
between 0 and 1.</p>
</dd>
<dt><code>likelihood_ratio</code></dt><dd><p>the likelihood ratio of the test without logarithm.</p>
</dd>
<dt><code>likelihood_1</code></dt><dd><p>the likelihood of the alternative Hypothesis (H1).</p>
</dd>
<dt><code>likelihood_0</code></dt><dd><p>the likelihood of the null Hypothesis (H0).</p>
</dd>
<dt><code>likelihood_1_log</code></dt><dd><p>the logarithmic likelihood of the alternative
Hypothesis (H1).</p>
</dd>
<dt><code>likelihood_0_log</code></dt><dd><p>the logarithmic likelihood of the null
Hypothesis (H0).</p>
</dd>
<dt><code>non_centrality_parameter</code></dt><dd><p>parameter to calculate the likelihoods</p>
</dd>
<dt><code>F_value</code></dt><dd><p>the F-value of the F-statistic.</p>
</dd>
<dt><code>df_1</code></dt><dd><p>degrees of freedom.</p>
</dd>
<dt><code>df_2</code></dt><dd><p>degrees of freedom.</p>
</dd>
<dt><code>ss_effect</code></dt><dd><p>ss_effect.</p>
</dd>
<dt><code>ss_residual</code></dt><dd><p>ss_residual.</p>
</dd>
<dt><code>ss_total</code></dt><dd><p>ss_total.</p>
</dd>
<dt><code>total_sample_size</code></dt><dd><p>total sample size.</p>
</dd>
<dt><code>data_name</code></dt><dd><p>a character string giving the name(s) of the data.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>a logical value whether you want a verbose output or not.</p>
</dd>
</dl>

<hr>
<h2 id='seq_ttest'>Sequential Probability Ratio Test using t-statistic</h2><span id='topic+seq_ttest'></span>

<h3>Description</h3>

<p>Performs one and two sample sequential t-tests on vectors of
data. For more information on the sequential t-test, see Schnuerch &amp; Erdfelder (2019) <a href="doi:10.1037/met0000234">doi:10.1037/met0000234</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seq_ttest(
  x,
  y = NULL,
  data = NULL,
  mu = 0,
  d,
  alpha = 0.05,
  power = 0.95,
  alternative = "two.sided",
  paired = FALSE,
  na.rm = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seq_ttest_+3A_x">x</code></td>
<td>
<p>Works with two classes: <code>numeric</code> and <code>formula</code>. Therefore you can
write <code>"x"</code> or <code>"x~y"</code>.
</p>

<ul>
<li> <p><code>"numeric input"</code>: a (non-empty) numeric vector of data values.
</p>
</li>
<li> <p><code>"formula input"</code>: a formula of the form lhs ~ rhs where lhs is a numeric
variable giving the data values and rhs either 1 for a one-sample test or a
factor with two levels giving the corresponding groups.
</p>
</li></ul>
</td></tr>
<tr><td><code id="seq_ttest_+3A_y">y</code></td>
<td>
<p>an optional (non-empty) numeric vector of data values.</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>, which you can use only in combination
with a <code>"formula input"</code> in argument <code>x</code>.</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_mu">mu</code></td>
<td>
<p>a number indicating the true value of the mean (or difference in
means if you are performing a two sample test).</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_d">d</code></td>
<td>
<p>a number indicating the specified effect size (Cohen's d)</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_alpha">alpha</code></td>
<td>
<p>the type I error. A number between 0 and 1.</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_power">power</code></td>
<td>
<p>1 - beta (beta is the type II error probability). A number
between 0 and 1.</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_alternative">alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis,
must be one of <code>two.sided</code> (default), <code>greater</code> or <code>less</code>.
You can specify just the initial letter.</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_paired">paired</code></td>
<td>
<p>a logical indicating whether you want a paired t-test.</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical value indicating whether <code>NA</code> values should be
stripped before the computation proceeds.</p>
</td></tr>
<tr><td><code id="seq_ttest_+3A_verbose">verbose</code></td>
<td>
<p>a logical value whether you want a verbose output or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the S4 class <code><a href="#topic+seq_ttest_results-class">seq_ttest_results</a></code>. Click on the
class link to see the full description of the slots.
To get access to the object use the
<code>@</code>-operator or <code style="white-space: pre;">&#8288;[]&#8288;</code>-brackets instead of <code>$</code>.
See the examples below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># set seed --------------------------------------------------------------------
set.seed(333)

# load library ----------------------------------------------------------------
library(sprtt)

# one sample: numeric input ---------------------------------------------------
treatment_group &lt;- rnorm(20, mean = 0, sd = 1)
results &lt;- seq_ttest(treatment_group, mu = 1, d = 0.8)

# get access to the slots -----------------------------------------------------
# @ Operator
results@likelihood_ratio

# [] Operator
results["likelihood_ratio"]

# two sample: numeric input----------------------------------------------------
treatment_group &lt;- stats::rnorm(20, mean = 0, sd = 1)
control_group &lt;- stats::rnorm(20, mean = 1, sd = 1)
seq_ttest(treatment_group, control_group, d = 0.8)

# two sample: formula input ---------------------------------------------------
stress_level &lt;- stats::rnorm(20, mean = 0, sd = 1)
sex &lt;- as.factor(c(rep(1, 10), rep(2, 10)))
seq_ttest(stress_level ~ sex, d = 0.8)

# NA in the data --------------------------------------------------------------
stress_level &lt;- c(NA, stats::rnorm(20, mean = 0, sd = 2), NA)
sex &lt;- as.factor(c(rep(1, 11), rep(2, 11)))
seq_ttest(stress_level ~ sex, d = 0.8, na.rm = TRUE)

# work with dataset (data are in the package included) ------------------------
seq_ttest(monthly_income ~ sex, data = df_income, d = 0.8)
</code></pre>

<hr>
<h2 id='seq_ttest_results-class'>An S4 class to represent the results of a sequential t-test.</h2><span id='topic+seq_ttest_results-class'></span>

<h3>Description</h3>

<p>An S4 class to represent the results of a sequential t-test.
</p>


<h3>Slots</h3>


<dl>
<dt><code>likelihood_ratio_log</code></dt><dd><p>the logarithmic test statistic.</p>
</dd>
<dt><code>decision</code></dt><dd><p>the test decision: &quot;accept H1&quot;, &quot;accept H0&quot;,
or &quot;continue sampling&quot;.</p>
</dd>
<dt><code>A_boundary_log</code></dt><dd><p>the lower logarithmic boundary of the test.</p>
</dd>
<dt><code>B_boundary_log</code></dt><dd><p>the upper logarithmic boundary of the test.</p>
</dd>
<dt><code>d</code></dt><dd><p>a number indicating the specified effect size (Cohen's d).</p>
</dd>
<dt><code>mu</code></dt><dd><p>a number indicating the true value of the mean
(or difference in means if you are performing a two sample test).</p>
</dd>
<dt><code>alpha</code></dt><dd><p>the type I error. A number between 0 and 1.</p>
</dd>
<dt><code>power</code></dt><dd><p>1 - beta (beta is the type II error probability). A number
between 0 and 1.</p>
</dd>
<dt><code>likelihood_ratio</code></dt><dd><p>the likelihood ratio of the test without logarithm.</p>
</dd>
<dt><code>likelihood_1</code></dt><dd><p>the likelihood of the alternative Hypothesis (H1).</p>
</dd>
<dt><code>likelihood_0</code></dt><dd><p>the likelihood of the null Hypothesis (H0).</p>
</dd>
<dt><code>likelihood_1_log</code></dt><dd><p>the logarithmic likelihood of the alternative
Hypothesis (H1).</p>
</dd>
<dt><code>likelihood_0_log</code></dt><dd><p>the logarithmic likelihood of the null
Hypothesis (H0).</p>
</dd>
<dt><code>non_centrality_parameter</code></dt><dd><p>parameter to calculate the likelihoods</p>
</dd>
<dt><code>t_value</code></dt><dd><p>the t-value of the t-statistic.</p>
</dd>
<dt><code>p_value</code></dt><dd><p>the p-value of the t-test.</p>
</dd>
<dt><code>df</code></dt><dd><p>degrees of freedom.</p>
</dd>
<dt><code>mean_estimate</code></dt><dd><p>the estimated mean or difference in means depending on
whether it was a one-sample test or a two-sample test.</p>
</dd>
<dt><code>alternative</code></dt><dd><p>a character string specifying the alternative hypothesis:
&quot;two.sided&quot; (default), &quot;greater&quot; or &quot;less&quot;.</p>
</dd>
<dt><code>one_sample</code></dt><dd><p>&quot;true&quot; if it is a one-sample test, &quot;false&quot; if it is a
two-sample test.</p>
</dd>
<dt><code>ttest_method</code></dt><dd><p>a character string indicating what type of t-test was
performed.</p>
</dd>
<dt><code>data_name</code></dt><dd><p>a character string giving the name(s) of the data.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>a logical value whether you want a verbose output or not.</p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

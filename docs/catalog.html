<!DOCTYPE html><html><head><title>Help for package catalog</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {catalog}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cache_table'><p>Cache And Uncache Tables</p></a></li>
<li><a href='#create_table'><p>Create A Table</p></a></li>
<li><a href='#current_database'><p>Get The Current Database</p></a></li>
<li><a href='#database_exists'><p>Check If A Database Exists</p></a></li>
<li><a href='#drop_global_temp_view'><p>Temporary View</p></a></li>
<li><a href='#function_exists'><p>Check If A Function Exists</p></a></li>
<li><a href='#get_function'><p>Get A Function</p></a></li>
<li><a href='#get_table'><p>Get A Table</p></a></li>
<li><a href='#list_columns'><p>List Columns</p></a></li>
<li><a href='#list_databases'><p>List Databases</p></a></li>
<li><a href='#list_functions'><p>List Functions</p></a></li>
<li><a href='#list_tables'><p>List Tables In A Spark Connection</p></a></li>
<li><a href='#refresh'><p>Refreshing Data</p></a></li>
<li><a href='#set_current_database'><p>Set The Current Database</p></a></li>
<li><a href='#table_exists'><p>Check If A Table Exists</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access the 'Spark Catalog' API via 'sparklyr'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nathan Eastwood &lt;nathan.eastwood@icloud.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Gain access to the 'Spark Catalog' API making use of the 'sparklyr' API. 'Catalog' <a href="https://spark.apache.org/docs/2.4.3/api/java/org/apache/spark/sql/catalog/Catalog.html">https://spark.apache.org/docs/2.4.3/api/java/org/apache/spark/sql/catalog/Catalog.html</a> is the interface for managing a metastore (aka metadata catalog) of relational entities (e.g. database(s), tables, functions, table columns and temporary views).</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://nathaneastwood.github.io/catalog/">https://nathaneastwood.github.io/catalog/</a>,
<a href="https://github.com/nathaneastwood/catalog">https://github.com/nathaneastwood/catalog</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nathaneastwood/catalog/issues">https://github.com/nathaneastwood/catalog/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, sparklyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>DBI, knitr, rmarkdown, roxygen2, tinytest</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-22 20:56:08 UTC; nathan</td>
</tr>
<tr>
<td>Author:</td>
<td>Nathan Eastwood [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-22 21:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cache_table'>Cache And Uncache Tables</h2><span id='topic+cache_table'></span><span id='topic+clear_cache'></span><span id='topic+is_cached'></span><span id='topic+uncache_table'></span>

<h3>Description</h3>

<p>Spark SQL can cache tables using an in-memory columnar format by calling
<code>cache_table()</code>. Spark SQL will scan only required columns and will
automatically tune compression to minimize memory usage and GC pressure.
You can call <code>uncache_table()</code> to remove the table from memory. Similarly you
can call <code>clear_cache()</code> to remove all cached tables from the in-memory
cache. Finally, use <code>is_cached()</code> to test whether or not a table is cached.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_table(sc, table)

clear_cache(sc)

is_cached(sc, table)

uncache_table(sc, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cache_table_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="cache_table_+3A_table">table</code></td>
<td>
<p><code>character(1)</code>. The name of the table.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>cache_table()</code>: If successful, <code>TRUE</code>, otherwise <code>FALSE</code>.
</p>
</li></ul>


<ul>
<li> <p><code>clear_cache()</code>: <code>NULL</code>, invisibly.
</p>
</li></ul>


<ul>
<li> <p><code>is_cached()</code>: A <code>logical(1)</code> vector indicating <code>TRUE</code> if the table is
cached and <code>FALSE</code> otherwise.
</p>
</li></ul>


<ul>
<li> <p><code>uncache_table()</code>: <code>NULL</code>, invisibly.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+create_table">create_table()</a></code>, <code><a href="#topic+get_table">get_table()</a></code>, <code><a href="#topic+list_tables">list_tables()</a></code>, <code><a href="#topic+refresh_table">refresh_table()</a></code>,
<code><a href="#topic+table_exists">table_exists()</a></code>, <code><a href="#topic+uncache_table">uncache_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
mtcars_spark &lt;- sparklyr::copy_to(dest = sc, df = mtcars)

# By default the table is not cached
is_cached(sc = sc, table = "mtcars")

# We can manually cache the table
cache_table(sc = sc, table = "mtcars")
# And now the table is cached
is_cached(sc = sc, table = "mtcars")

# We can uncache the table
uncache_table(sc = sc, table = "mtcars")
is_cached(sc = sc, table = "mtcars")

## End(Not run)

</code></pre>

<hr>
<h2 id='create_table'>Create A Table</h2><span id='topic+create_table'></span>

<h3>Description</h3>

<p>Creates a table, in the hive warehouse, from the given path and returns the
corresponding <code>DataFrame</code>. The table will contain the contents of the file
that is in the <code>path</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_table(sc, table, path, source, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_table_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="create_table_+3A_table">table</code></td>
<td>
<p><code>character(1)</code>. The name of the table to create.</p>
</td></tr>
<tr><td><code id="create_table_+3A_path">path</code></td>
<td>
<p><code>character(1)</code>. The path to use to create the table.</p>
</td></tr>
<tr><td><code id="create_table_+3A_source">source</code></td>
<td>
<p><code>character(1)</code>. The data source to use to create the table such
as <code>"parquet"</code>, <code>"csv"</code>, etc.</p>
</td></tr>
<tr><td><code id="create_table_+3A_...">...</code></td>
<td>
<p>Additional options to be passed to the <code>createTable</code> method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default data source type is parquet.
This can be changed using <code>source</code> or setting the configuration option
<code>spark.sql.sources.default</code> when creating the spark session using or after
you have created the session using
</p>
<div class="sourceCode r"><pre>config &lt;- sparklyr::spark_config()
config[["spark.sql.sources.default"]] &lt;- "csv"
</pre></div>


<h3>Value</h3>

<p>A <code>tbl_spark</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cache_table">cache_table()</a></code>, <code><a href="#topic+get_table">get_table()</a></code>, <code><a href="#topic+list_tables">list_tables()</a></code>, <code><a href="#topic+refresh_table">refresh_table()</a></code>,
<code><a href="#topic+table_exists">table_exists()</a></code>, <code><a href="#topic+uncache_table">uncache_table()</a></code>
</p>

<hr>
<h2 id='current_database'>Get The Current Database</h2><span id='topic+current_database'></span>

<h3>Description</h3>

<p>Returns the current database in this session. By default your session will be
connected to the &quot;default&quot; database (named &quot;default&quot;) and to change database
you can use <code><a href="#topic+set_current_database">set_current_database()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>current_database(sc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="current_database_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character(1)</code>, the current database name.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_current_database">set_current_database()</a></code>, <code><a href="#topic+database_exists">database_exists()</a></code>, <code><a href="#topic+list_databases">list_databases()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
current_database(sc = sc)

## End(Not run)

</code></pre>

<hr>
<h2 id='database_exists'>Check If A Database Exists</h2><span id='topic+database_exists'></span>

<h3>Description</h3>

<p>Check if the database with the specified name exists. This will check the
list of hive databases in the current session to see if the database exists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>database_exists(sc, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="database_exists_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="database_exists_+3A_name">name</code></td>
<td>
<p><code>character(1)</code>. The name of the database to set the current
database to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>logical(1)</code> vector indicating <code>TRUE</code> if the database exists and <code>FALSE</code>
otherwise.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+current_database">current_database()</a></code>, <code><a href="#topic+set_current_database">set_current_database()</a></code>, <code><a href="#topic+list_databases">list_databases()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
database_exists(sc = sc, name = "default")
database_exists(sc = sc, name = "fake_database")

## End(Not run)

</code></pre>

<hr>
<h2 id='drop_global_temp_view'>Temporary View</h2><span id='topic+drop_global_temp_view'></span><span id='topic+drop_temp_view'></span>

<h3>Description</h3>


<ul>
<li> <p><code>drop_global_temp_view()</code>: Drops the global temporary view with the given
view name in the catalog.
</p>
</li>
<li> <p><code>drop_temp_view()</code>: Drops the local temporary view with the given view name
in the catalog. Local temporary view is session-scoped. Its lifetime is the
lifetime of the session that created it, i.e. it will be automatically
dropped when the session terminates. It's not tied to any databases.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>drop_global_temp_view(sc, view)

drop_temp_view(sc, view)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_global_temp_view_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="drop_global_temp_view_+3A_view">view</code></td>
<td>
<p><code>character(1)</code>. The name of the temporary view to be dropped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>logical(1)</code> vector indicating whether the temporary view was dropped
(<code>TRUE</code>) or not (<code>FALSE</code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+list_tables">list_tables()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
mtcars_spark &lt;- sparklyr::copy_to(dest = sc, df = mtcars)

# We can check which temporary tables are in scope
list_tables(sc = sc)

# And then drop those we wish to drop
drop_temp_view(sc = sc, view = "mtcars")

## End(Not run)

</code></pre>

<hr>
<h2 id='function_exists'>Check If A Function Exists</h2><span id='topic+function_exists'></span>

<h3>Description</h3>

<p>Check if the function with the specified name exists in the specified
database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>function_exists(sc, fn, database = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="function_exists_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="function_exists_+3A_fn">fn</code></td>
<td>
<p><code>character(1)</code>. The name of the function.</p>
</td></tr>
<tr><td><code id="function_exists_+3A_database">database</code></td>
<td>
<p><code>character(1)</code>. The name of the database for which the
functions should be listed (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>function_exists()</code> includes in-built functions such as <code>abs</code>. To see if a
built-in function exists you must use the unqualified name. If you create a
function you can use the qualified name. If you want to check if a built-in
function exists specify the <code>database</code> as <code>NULL</code>.
</p>


<h3>Value</h3>

<p>A <code>logical(1)</code> vector indicating <code>TRUE</code> if the function exists within the
specified database and <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
function_exists(sc = sc, fn = "abs")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_function'>Get A Function</h2><span id='topic+get_function'></span>

<h3>Description</h3>

<p>Get the function with the specified name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_function(sc, fn, database = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_function_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="get_function_+3A_fn">fn</code></td>
<td>
<p><code>character(1)</code>. The name of the function.</p>
</td></tr>
<tr><td><code id="get_function_+3A_database">database</code></td>
<td>
<p><code>character(1)</code>. The name of the database for which the
functions should be listed (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you are trying to get an in-built function then use the unqualified name
and pass <code>NULL</code> as the <code>database</code> name.
</p>


<h3>Value</h3>

<p>A <code>spark_jobj</code> which includes the class name, database, description, whether
it is temporary and the name of the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+function_exists">function_exists()</a></code>, <code><a href="#topic+list_functions">list_functions()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
get_function(sc = sc, fn = "Not")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_table'>Get A Table</h2><span id='topic+get_table'></span>

<h3>Description</h3>

<p>Get the table or view with the specified name in the specified database. You
can use this to find the table's description, database, type and whether it
is a temporary table or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table(sc, table, database = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="get_table_+3A_table">table</code></td>
<td>
<p><code>character(1)</code>. The name of the table.</p>
</td></tr>
<tr><td><code id="get_table_+3A_database">database</code></td>
<td>
<p><code>character(1)</code>. The name of the database for which the
functions should be listed (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>spark_jobj</code> and <code>shell_jobj</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cache_table">cache_table()</a></code>, <code><a href="#topic+create_table">create_table()</a></code>, <code><a href="#topic+list_tables">list_tables()</a></code>, <code><a href="#topic+refresh_table">refresh_table()</a></code>,
<code><a href="#topic+table_exists">table_exists()</a></code>, <code><a href="#topic+uncache_table">uncache_table()</a></code>
</p>

<hr>
<h2 id='list_columns'>List Columns</h2><span id='topic+list_columns'></span>

<h3>Description</h3>

<p>Returns a list of columns for the given table/view in the specified database.
The result includes the name, description, dataType, whether it is nullable
or if it is partitioned and if it is broken in buckets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_columns(sc, table, database = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_columns_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="list_columns_+3A_table">table</code></td>
<td>
<p><code>character(1)</code>. The name of the table.</p>
</td></tr>
<tr><td><code id="list_columns_+3A_database">database</code></td>
<td>
<p><code>character(1)</code>. The name of the database for which the
functions should be listed (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> with 6 columns:
</p>

<ul>
<li> <p><code>name</code> - The name of the column.
</p>
</li>
<li> <p><code>description</code> - Description of the column.
</p>
</li>
<li> <p><code>dataType</code> - The column data type.
</p>
</li>
<li> <p><code>nullable</code> - Whether the column is nullable or not.
</p>
</li>
<li> <p><code>isPartition</code> - Whether the column is partitioned or not.
</p>
</li>
<li> <p><code>isBucket</code> - Whether the column is broken in buckets.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
mtcars_spark &lt;- sparklyr::copy_to(dest = sc, df = mtcars)
list_columns(sc = sc, table = "mtcars")

## End(Not run)

</code></pre>

<hr>
<h2 id='list_databases'>List Databases</h2><span id='topic+list_databases'></span>

<h3>Description</h3>

<p>Returns a list of databases available across all sessions. The result
contains the name, description and locationUri of each database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_databases(sc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_databases_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing 3 columns:
</p>

<ul>
<li> <p><code>name</code> - The name of the database.
</p>
</li>
<li> <p><code>description</code> - Description of the database.
</p>
</li>
<li> <p><code>locationUri</code> - Path (in the form of a uri) to data files.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+current_database">current_database()</a></code>, <code><a href="#topic+database_exists">database_exists()</a></code>, <code><a href="#topic+set_current_database">set_current_database()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
list_databases(sc = sc)

## End(Not run)

</code></pre>

<hr>
<h2 id='list_functions'>List Functions</h2><span id='topic+list_functions'></span>

<h3>Description</h3>

<p>Returns a list of functions registered in the specified database. This
includes all temporary functions. The result contains the class name,
database, description, whether it is temporary and the name of each function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_functions(sc, database = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_functions_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="list_functions_+3A_database">database</code></td>
<td>
<p><code>character(1)</code>. The name of the database for which the
functions should be listed (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing 5 columns:
</p>

<ul>
<li> <p><code>name</code> - Name of the function.
</p>
</li>
<li> <p><code>database</code> - Name of the database the function belongs to.
</p>
</li>
<li> <p><code>description</code> - Description of the function.
</p>
</li>
<li> <p><code>className</code> - The fully qualified class name of the function.
</p>
</li>
<li> <p><code>isTemporary</code> - Whether the function is temporary or not.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+function_exists">function_exists()</a></code>, <code><a href="#topic+get_function">get_function()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
list_functions(sc = sc)
list_functions(sc = sc, database = "default")

## End(Not run)

</code></pre>

<hr>
<h2 id='list_tables'>List Tables In A Spark Connection</h2><span id='topic+list_tables'></span>

<h3>Description</h3>

<p>Returns a list of tables/views in the current database. The result includes
the name, database, description, table type and whether the table is
temporary or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_tables(sc, database = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_tables_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="list_tables_+3A_database">database</code></td>
<td>
<p><code>character(1)</code>. The name of the database for which the
functions should be listed (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing 5 columns:
</p>

<ul>
<li> <p><code>name</code> - The name of the table.
</p>
</li>
<li> <p><code>database</code> - Name of the database the table belongs to.
</p>
</li>
<li> <p><code>description</code> - Description of the table.
</p>
</li>
<li> <p><code>tableType</code> - The type of table (e.g. view/table)
</p>
</li>
<li> <p><code>isTemporary</code> - Whether the table is temporary or not.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+cache_table">cache_table()</a></code>, <code><a href="#topic+create_table">create_table()</a></code>, <code><a href="#topic+get_table">get_table()</a></code>, <code><a href="#topic+refresh_table">refresh_table()</a></code>,
<code><a href="#topic+table_exists">table_exists()</a></code>, <code><a href="#topic+uncache_table">uncache_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
mtcars_spakr &lt;- sparklyr::copy_to(dest = sc, df = mtcars)
list_tables(sc = sc)

## End(Not run)

</code></pre>

<hr>
<h2 id='refresh'>Refreshing Data</h2><span id='topic+refresh'></span><span id='topic+recover_partitions'></span><span id='topic+refresh_by_path'></span><span id='topic+refresh_table'></span>

<h3>Description</h3>


<ul>
<li> <p><code>recover_partitions()</code>: Recovers all the partitions in the directory of a
table and update the catalog. This only works for partitioned tables and not
un-partitioned tables or views.
</p>
</li>
<li> <p><code>refresh_by_path()</code>: Invalidates and refreshes all the cached data (and the
associated metadata) for any Dataset that contains the given data source
path. Path matching is by prefix, i.e. &quot;/&quot; would invalidate everything that
is cached.
</p>
</li>
<li> <p><code>refresh_table()</code>: Invalidates and refreshes all the cached data and
metadata of the given table. For performance reasons, Spark SQL or the
external data source library it uses might cache certain metadata about a
table, such as the location of blocks. When those change outside of Spark
SQL, users should call this function to invalidate the cache. If this table
is cached as an <code>InMemoryRelation</code>, drop the original cached version and make
the new version cached lazily.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>recover_partitions(sc, table)

refresh_by_path(sc, path)

refresh_table(sc, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refresh_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="refresh_+3A_table">table</code></td>
<td>
<p><code>character(1)</code>. The name of the table.</p>
</td></tr>
<tr><td><code id="refresh_+3A_path">path</code></td>
<td>
<p><code>character(1)</code>. The path to refresh.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>, invisibly. These functions are mostly called for their side effects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cache_table">cache_table()</a></code>, <code><a href="#topic+create_table">create_table()</a></code>, <code><a href="#topic+get_table">get_table()</a></code>, <code><a href="#topic+list_tables">list_tables()</a></code>,
<code><a href="#topic+table_exists">table_exists()</a></code>, <code><a href="#topic+uncache_table">uncache_table()</a></code>
</p>

<hr>
<h2 id='set_current_database'>Set The Current Database</h2><span id='topic+set_current_database'></span>

<h3>Description</h3>

<p>Sets the current default database in this session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_current_database(sc, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_current_database_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="set_current_database_+3A_name">name</code></td>
<td>
<p><code>character(1)</code>. The name of the database to set the current
database to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If successful, <code>TRUE</code>, otherwise errors.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+current_database">current_database()</a></code>, <code><a href="#topic+database_exists">database_exists()</a></code>, <code><a href="#topic+list_databases">list_databases()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
set_current_database(sc = sc, name = "new_db")

## End(Not run)

</code></pre>

<hr>
<h2 id='table_exists'>Check If A Table Exists</h2><span id='topic+table_exists'></span>

<h3>Description</h3>

<p>Check if the table or view with the specified name exists in the specified
database. This can either be a temporary view or a table/view.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_exists(sc, table, database = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="table_exists_+3A_sc">sc</code></td>
<td>
<p>A <code>spark_connection</code>.</p>
</td></tr>
<tr><td><code id="table_exists_+3A_table">table</code></td>
<td>
<p><code>character(1)</code>. The name of the table.</p>
</td></tr>
<tr><td><code id="table_exists_+3A_database">database</code></td>
<td>
<p><code>character(1)</code>. The name of the database for which the
functions should be listed (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>database</code> is <code>NULL</code>, <code>table_exists</code> refers to a table in the current
database (see <code><a href="#topic+current_database">current_database()</a></code>).
</p>


<h3>Value</h3>

<p>A <code>logical(1)</code> vector indicating <code>TRUE</code> if the table exists within the
specified database and <code>FALSE</code> otherwise.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cache_table">cache_table()</a></code>, <code><a href="#topic+create_table">create_table()</a></code>, <code><a href="#topic+get_table">get_table()</a></code>, <code><a href="#topic+list_tables">list_tables()</a></code>,
<code><a href="#topic+refresh_table">refresh_table()</a></code>, <code><a href="#topic+uncache_table">uncache_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc &lt;- sparklyr::spark_connect(master = "local")
mtcars_spark &lt;- sparklyr::copy_to(dest = sc, df = mtcars)
table_exists(sc = sc, table = "mtcars")

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

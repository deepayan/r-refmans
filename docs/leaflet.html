<!DOCTYPE html><html><head><title>Help for package leaflet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {leaflet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aaa-test-viztest'><p>Visual Testing scripts for vistest</p></a></li>
<li><a href='#addAwesomeMarkers'><p>Add Awesome Markers</p></a></li>
<li><a href='#addControl'><p>Graphics elements and layers</p></a></li>
<li><a href='#addGraticule'><p>Add a Graticule on the map</p>
see <a href="https://github.com/turban/Leaflet.Graticule">https://github.com/turban/Leaflet.Graticule</a></a></li>
<li><a href='#addLayersControl'><p>Add UI controls to switch layers on and off</p></a></li>
<li><a href='#addLegend'><p>Add a color legend to a map</p></a></li>
<li><a href='#addMapPane'><p>Add additional panes to leaflet map to control layer order</p></a></li>
<li><a href='#addMeasure'><p>Add a measure control to the map.</p></a></li>
<li><a href='#addMiniMap'><p>Add a minimap to the Map</p>
<a href="https://github.com/Norkart/Leaflet-MiniMap">https://github.com/Norkart/Leaflet-MiniMap</a></a></li>
<li><a href='#addProviderTiles'><p>Add a tile layer from a known map provider</p></a></li>
<li><a href='#addRasterImage'><p>Add a raster image as a layer</p></a></li>
<li><a href='#addRasterLegend'><p>Add a color legend for a SpatRaster to a map</p></a></li>
<li><a href='#addScaleBar'><p>Add or remove a scale bar</p></a></li>
<li><a href='#addSimpleGraticule'><p>Add a simple Graticule on the map</p>
see <a href="https://github.com/ablakey/Leaflet.SimpleGraticule">https://github.com/ablakey/Leaflet.SimpleGraticule</a></a></li>
<li><a href='#addTerminator'><p>Add a daylight layer on top of the map</p></a></li>
<li><a href='#atlStorms2005'><p>Atlantic Ocean storms 2005</p></a></li>
<li><a href='#awesomeIconList'><p>Make awesome-icon set</p></a></li>
<li><a href='#awesomeIcons'><p>Create a list of awesome icon data see</p>
<a href="https://github.com/lennardv2/Leaflet.awesome-markers">https://github.com/lennardv2/Leaflet.awesome-markers</a></a></li>
<li><a href='#breweries91'><p>Selected breweries in Franconia</p></a></li>
<li><a href='#colorNumeric'><p>Color mapping</p></a></li>
<li><a href='#createLeafletMap'><p>Legacy functions</p></a></li>
<li><a href='#derivePoints'><p>Given a data object and lng/lat arguments (which may be NULL [meaning infer</p>
from data], formula [which should be evaluated with respect to the data], or
vector data [which should be used as-is]) return a lng/lat data frame.</a></li>
<li><a href='#derivePolygons'><p>Given a data object and lng/lat arguments (which may be NULL [meaning infer</p>
from data], formula [which should be evaluated with respect to the data], or
vector data [which should be used as-is]) return a spatial object</a></li>
<li><a href='#dispatch'><p>Extension points for plugins</p></a></li>
<li><a href='#easyButtonState'><p>Create an easyButton statestate</p></a></li>
<li><a href='#evalFormula'><p>Evaluate list members that are formulae, using the map data as the environment</p>
(if provided, otherwise the formula environment)</a></li>
<li><a href='#expandLimits'><p>Notifies the map of new latitude/longitude of items of interest on the map</p></a></li>
<li><a href='#expandLimitsBbox'><p>Same as expandLimits, but takes a polygon (that presumably has a bbox attr)</p>
rather than lat/lng.</a></li>
<li><a href='#filterNULL'><p>remove NULL elements from a list</p></a></li>
<li><a href='#gadmCHE'><p>Administrative borders of Switzerland (level 1)</p></a></li>
<li><a href='#getMapData'><p>returns the map's data</p></a></li>
<li><a href='#groupOptions'><p>Set options on layer groups</p></a></li>
<li><a href='#iconList'><p>Make icon set</p></a></li>
<li><a href='#icons'><p>Create a list of icon data</p></a></li>
<li><a href='#leaflet'><p>Create a Leaflet map widget</p></a></li>
<li><a href='#leaflet-imports'><p>Objects imported from other packages</p></a></li>
<li><a href='#leaflet-package'><p>leaflet: Create Interactive Web Maps with the JavaScript 'Leaflet' Library</p></a></li>
<li><a href='#leafletDependencies'><p>Various leaflet dependency functions for use in downstream packages</p></a></li>
<li><a href='#leafletOutput'><p>Wrapper functions for using <span class="pkg">leaflet</span> in <span class="pkg">shiny</span></p></a></li>
<li><a href='#leafletProxy'><p>Send commands to a Leaflet instance in a Shiny app</p></a></li>
<li><a href='#leafletSizingPolicy'><p>Leaflet sizing policy</p></a></li>
<li><a href='#makeAwesomeIcon'><p>Make Awesome Icon</p></a></li>
<li><a href='#makeIcon'><p>Define icon sets</p></a></li>
<li><a href='#mapOptions'><p>Set options on a leaflet map object</p></a></li>
<li><a href='#previewColors'><p>Color previewing utility</p></a></li>
<li><a href='#providers'><p>Providers</p></a></li>
<li><a href='#removeControl'><p>Remove elements from a map</p></a></li>
<li><a href='#safeLabel'><p>Sanitize textual labels</p></a></li>
<li><a href='#setView'><p>Methods to manipulate the map widget</p></a></li>
<li><a href='#showGroup'><p>Show or hide layer groups</p></a></li>
<li><a href='#tileOptions'><p>Extra options for map elements and layers</p></a></li>
<li><a href='#validateCoords'><p>Utility function to check if a coordinates is valid</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create Interactive Web Maps with the JavaScript 'Leaflet'
Library</td>
</tr>
<tr>
<td>Version:</td>
<td>2.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Create and customize interactive maps using the 'Leaflet'
    JavaScript library and the 'htmlwidgets' package. These maps can be
    used directly from the R console, from 'RStudio', in Shiny
    applications and R Markdown documents.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rstudio.github.io/leaflet/">https://rstudio.github.io/leaflet/</a>,
<a href="https://github.com/rstudio/leaflet">https://github.com/rstudio/leaflet</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/leaflet/issues">https://github.com/rstudio/leaflet/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>crosstalk, htmltools, htmlwidgets (&ge; 1.5.4), jquerylib,
leaflet.providers (&ge; 2.0.0), magrittr, methods, png, raster
(&ge; 3.6.3), RColorBrewer, scales (&ge; 1.0.0), sp, stats,
viridisLite, xfun</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, maps, purrr, R6, RJSONIO, rmarkdown, s2, sf (&ge;
0.9-6), shiny, terra, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>dplyr, geojsonio, ncdf4, tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-25 22:40:52 UTC; cpsievert</td>
</tr>
<tr>
<td>Author:</td>
<td>Joe Cheng [aut, cre],
  Barret Schloerke <a href="https://orcid.org/0000-0001-9986-114X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Bhaskar Karambelkar [aut],
  Yihui Xie [aut],
  Hadley Wickham [ctb],
  Kenton Russell [ctb],
  Kent Johnson [ctb],
  Vladimir Agafonkin [ctb, cph] (Leaflet library),
  CloudMade [cph] (Leaflet library),
  Leaflet contributors [ctb] (Leaflet library),
  Brandon Copeland [ctb, cph] (leaflet-measure plugin),
  Joerg Dietrich [ctb, cph] (Leaflet.Terminator plugin),
  Benjamin Becquet [ctb, cph] (Leaflet.MagnifyingGlass plugin),
  Norkart AS [ctb, cph] (Leaflet.MiniMap plugin),
  L. Voogdt [ctb, cph] (Leaflet.awesome-markers plugin),
  Daniel Montague [ctb, cph] (Leaflet.EasyButton plugin),
  Kartena AB [ctb, cph] (Proj4Leaflet plugin),
  Robert Kajic [ctb, cph] (leaflet-locationfilter plugin),
  Mapbox [ctb, cph] (leaflet-omnivore plugin),
  Michael Bostock [ctb, cph] (topojson),
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joe Cheng &lt;joe@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-26 19:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='aaa-test-viztest'>Visual Testing scripts for vistest</h2><span id='topic+aaa-test-viztest'></span>

<h3>Description</h3>

<p>Visual testing examples to be used by the vistest package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>





### Start addGeoJSON properties - https://github.com/rstudio/leaflet/pull/625
polygon = list(
  type = "Polygon",
  coordinates = list(
    list(
      c(8.330469, 48.261570),
      c(8.339052, 48.261570),
      c(8.339052, 48.258227),
      c(8.330469, 48.258227),
      c(8.330469, 48.261570)
    )
  )
)

# should produce an orange-ish rectangle around `Ramsel`
leaflet() %&gt;%
  addTiles() %&gt;%
  addGeoJSON(polygon, color="#F00") %&gt;%
  setView(lng = 8.330469, lat = 48.26157, zoom = 15)
### End PR #625


 # end donttest
</code></pre>

<hr>
<h2 id='addAwesomeMarkers'>Add Awesome Markers</h2><span id='topic+addAwesomeMarkers'></span>

<h3>Description</h3>

<p>Add Awesome Markers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addAwesomeMarkers(
  map,
  lng = NULL,
  lat = NULL,
  layerId = NULL,
  group = NULL,
  icon = NULL,
  popup = NULL,
  popupOptions = NULL,
  label = NULL,
  labelOptions = NULL,
  options = markerOptions(),
  clusterOptions = NULL,
  clusterId = NULL,
  data = getMapData(map)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addAwesomeMarkers_+3A_map">map</code></td>
<td>
<p>the map to add awesome Markers to.</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_lng">lng</code></td>
<td>
<p>a numeric vector of longitudes, or a one-sided formula of the form
<code>~x</code> where <code>x</code> is a variable in <code>data</code>; by default (if not
explicitly provided), it will be automatically inferred from <code>data</code> by
looking for a column named <code>lng</code>, <code>long</code>, or <code>longitude</code>
(case-insensitively)</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_lat">lat</code></td>
<td>
<p>a vector of latitudes or a formula (similar to the <code>lng</code>
argument; the names <code>lat</code> and <code>latitude</code> are used when guessing
the latitude column from <code>data</code>)</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_layerid">layerId</code></td>
<td>
<p>the layer id</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_group">group</code></td>
<td>
<p>the name of the group the newly created layers should belong to
(for <code><a href="#topic+clearGroup">clearGroup</a></code> and <code><a href="#topic+addLayersControl">addLayersControl</a></code> purposes).
Human-friendly group names are permitted&ndash;they need not be short,
identifier-style names. Any number of layers and even different types of
layers (e.g. markers and polygons) can share the same group name.</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_icon">icon</code></td>
<td>
<p>the icon(s) for markers;</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_popup">popup</code></td>
<td>
<p>a character vector of the HTML content for the popups (you are
recommended to escape the text using <code><a href="htmltools.html#topic+htmlEscape">htmlEscape</a>()</code>
for security reasons)</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_popupoptions">popupOptions</code></td>
<td>
<p>A Vector of <code><a href="#topic+popupOptions">popupOptions</a></code> to provide popups</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_label">label</code></td>
<td>
<p>a character vector of the HTML content for the labels</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_labeloptions">labelOptions</code></td>
<td>
<p>A Vector of <code><a href="#topic+labelOptions">labelOptions</a></code> to provide label
options for each label. Default <code>NULL</code></p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_options">options</code></td>
<td>
<p>a list of extra options for tile layers, popups, paths
(circles, rectangles, polygons, ...), or other map elements</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_clusteroptions">clusterOptions</code></td>
<td>
<p>if not <code>NULL</code>, markers will be clustered using
<a href="https://github.com/Leaflet/Leaflet.markercluster">Leaflet.markercluster</a>;
you can use <code><a href="#topic+markerClusterOptions">markerClusterOptions</a>()</code> to specify marker cluster
options</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_clusterid">clusterId</code></td>
<td>
<p>the id for the marker cluster layer</p>
</td></tr>
<tr><td><code id="addAwesomeMarkers_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden</p>
</td></tr>
</table>

<hr>
<h2 id='addControl'>Graphics elements and layers</h2><span id='topic+addControl'></span><span id='topic+addTiles'></span><span id='topic+addWMSTiles'></span><span id='topic+addPopups'></span><span id='topic+addMarkers'></span><span id='topic+addLabelOnlyMarkers'></span><span id='topic+addCircleMarkers'></span><span id='topic+highlightOptions'></span><span id='topic+addCircles'></span><span id='topic+addPolylines'></span><span id='topic+addRectangles'></span><span id='topic+addPolygons'></span><span id='topic+addGeoJSON'></span><span id='topic+addTopoJSON'></span>

<h3>Description</h3>

<p>Add graphics elements and layers to the map widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addControl(
  map,
  html,
  position = c("topleft", "topright", "bottomleft", "bottomright"),
  layerId = NULL,
  className = "info legend",
  data = getMapData(map)
)

addTiles(
  map,
  urlTemplate = "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
  attribution = NULL,
  layerId = NULL,
  group = NULL,
  options = tileOptions(),
  data = getMapData(map)
)

addWMSTiles(
  map,
  baseUrl,
  layerId = NULL,
  group = NULL,
  options = WMSTileOptions(),
  attribution = NULL,
  layers = "",
  data = getMapData(map)
)

addPopups(
  map,
  lng = NULL,
  lat = NULL,
  popup,
  layerId = NULL,
  group = NULL,
  options = popupOptions(),
  data = getMapData(map)
)

addMarkers(
  map,
  lng = NULL,
  lat = NULL,
  layerId = NULL,
  group = NULL,
  icon = NULL,
  popup = NULL,
  popupOptions = NULL,
  label = NULL,
  labelOptions = NULL,
  options = markerOptions(),
  clusterOptions = NULL,
  clusterId = NULL,
  data = getMapData(map)
)

addLabelOnlyMarkers(
  map,
  lng = NULL,
  lat = NULL,
  layerId = NULL,
  group = NULL,
  icon = NULL,
  label = NULL,
  labelOptions = NULL,
  options = markerOptions(),
  clusterOptions = NULL,
  clusterId = NULL,
  data = getMapData(map)
)

addCircleMarkers(
  map,
  lng = NULL,
  lat = NULL,
  radius = 10,
  layerId = NULL,
  group = NULL,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = TRUE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  popup = NULL,
  popupOptions = NULL,
  label = NULL,
  labelOptions = NULL,
  options = pathOptions(),
  clusterOptions = NULL,
  clusterId = NULL,
  data = getMapData(map)
)

highlightOptions(
  stroke = NULL,
  color = NULL,
  weight = NULL,
  opacity = NULL,
  fill = NULL,
  fillColor = NULL,
  fillOpacity = NULL,
  dashArray = NULL,
  bringToFront = NULL,
  sendToBack = NULL
)

addCircles(
  map,
  lng = NULL,
  lat = NULL,
  radius = 10,
  layerId = NULL,
  group = NULL,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = TRUE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  popup = NULL,
  popupOptions = NULL,
  label = NULL,
  labelOptions = NULL,
  options = pathOptions(),
  highlightOptions = NULL,
  data = getMapData(map)
)

addPolylines(
  map,
  lng = NULL,
  lat = NULL,
  layerId = NULL,
  group = NULL,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = FALSE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  smoothFactor = 1,
  noClip = FALSE,
  popup = NULL,
  popupOptions = NULL,
  label = NULL,
  labelOptions = NULL,
  options = pathOptions(),
  highlightOptions = NULL,
  data = getMapData(map)
)

addRectangles(
  map,
  lng1,
  lat1,
  lng2,
  lat2,
  layerId = NULL,
  group = NULL,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = TRUE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  smoothFactor = 1,
  noClip = FALSE,
  popup = NULL,
  popupOptions = NULL,
  label = NULL,
  labelOptions = NULL,
  options = pathOptions(),
  highlightOptions = NULL,
  data = getMapData(map)
)

addPolygons(
  map,
  lng = NULL,
  lat = NULL,
  layerId = NULL,
  group = NULL,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = TRUE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  smoothFactor = 1,
  noClip = FALSE,
  popup = NULL,
  popupOptions = NULL,
  label = NULL,
  labelOptions = NULL,
  options = pathOptions(),
  highlightOptions = NULL,
  data = getMapData(map)
)

addGeoJSON(
  map,
  geojson,
  layerId = NULL,
  group = NULL,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = TRUE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  smoothFactor = 1,
  noClip = FALSE,
  options = pathOptions(),
  data = getMapData(map)
)

addTopoJSON(
  map,
  topojson,
  layerId = NULL,
  group = NULL,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = TRUE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  smoothFactor = 1,
  noClip = FALSE,
  options = pathOptions()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addControl_+3A_map">map</code></td>
<td>
<p>a map widget object created from <code><a href="#topic+leaflet">leaflet</a>()</code></p>
</td></tr>
<tr><td><code id="addControl_+3A_html">html</code></td>
<td>
<p>the content of the control. May be provided as string or as HTML
generated with Shiny/htmltools tags</p>
</td></tr>
<tr><td><code id="addControl_+3A_position">position</code></td>
<td>
<p>position of control: &quot;topleft&quot;, &quot;topright&quot;, &quot;bottomleft&quot;, or
&quot;bottomright&quot;</p>
</td></tr>
<tr><td><code id="addControl_+3A_layerid">layerId</code></td>
<td>
<p>the layer id</p>
</td></tr>
<tr><td><code id="addControl_+3A_classname">className</code></td>
<td>
<p>extra CSS classes to append to the control, space separated</p>
</td></tr>
<tr><td><code id="addControl_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden</p>
</td></tr>
<tr><td><code id="addControl_+3A_urltemplate">urlTemplate</code></td>
<td>
<p>a character string as the URL template</p>
</td></tr>
<tr><td><code id="addControl_+3A_attribution">attribution</code></td>
<td>
<p>the attribution text of the tile layer (HTML)</p>
</td></tr>
<tr><td><code id="addControl_+3A_group">group</code></td>
<td>
<p>the name of the group the newly created layers should belong to
(for <code><a href="#topic+clearGroup">clearGroup</a></code> and <code><a href="#topic+addLayersControl">addLayersControl</a></code> purposes).
Human-friendly group names are permitted&ndash;they need not be short,
identifier-style names. Any number of layers and even different types of
layers (e.g. markers and polygons) can share the same group name.</p>
</td></tr>
<tr><td><code id="addControl_+3A_options">options</code></td>
<td>
<p>a list of extra options for tile layers, popups, paths
(circles, rectangles, polygons, ...), or other map elements</p>
</td></tr>
<tr><td><code id="addControl_+3A_baseurl">baseUrl</code></td>
<td>
<p>a base URL of the WMS service</p>
</td></tr>
<tr><td><code id="addControl_+3A_layers">layers</code></td>
<td>
<p>comma-separated list of WMS layers to show</p>
</td></tr>
<tr><td><code id="addControl_+3A_lng">lng</code></td>
<td>
<p>a numeric vector of longitudes, or a one-sided formula of the form
<code>~x</code> where <code>x</code> is a variable in <code>data</code>; by default (if not
explicitly provided), it will be automatically inferred from <code>data</code> by
looking for a column named <code>lng</code>, <code>long</code>, or <code>longitude</code>
(case-insensitively)</p>
</td></tr>
<tr><td><code id="addControl_+3A_lat">lat</code></td>
<td>
<p>a vector of latitudes or a formula (similar to the <code>lng</code>
argument; the names <code>lat</code> and <code>latitude</code> are used when guessing
the latitude column from <code>data</code>)</p>
</td></tr>
<tr><td><code id="addControl_+3A_popup">popup</code></td>
<td>
<p>a character vector of the HTML content for the popups (you are
recommended to escape the text using <code><a href="htmltools.html#topic+htmlEscape">htmlEscape</a>()</code>
for security reasons)</p>
</td></tr>
<tr><td><code id="addControl_+3A_icon">icon</code></td>
<td>
<p>the icon(s) for markers; an icon is represented by an R list of
the form <code>list(iconUrl = "?", iconSize = c(x, y))</code>, and you can use
<code><a href="#topic+icons">icons</a>()</code> to create multiple icons; note when you use an R list
that contains images as local files, these local image files will be base64
encoded into the HTML page so the icon images will still be available even
when you publish the map elsewhere</p>
</td></tr>
<tr><td><code id="addControl_+3A_popupoptions">popupOptions</code></td>
<td>
<p>A Vector of <code><a href="#topic+popupOptions">popupOptions</a></code> to provide popups</p>
</td></tr>
<tr><td><code id="addControl_+3A_label">label</code></td>
<td>
<p>a character vector of the HTML content for the labels</p>
</td></tr>
<tr><td><code id="addControl_+3A_labeloptions">labelOptions</code></td>
<td>
<p>A Vector of <code><a href="#topic+labelOptions">labelOptions</a></code> to provide label
options for each label. Default <code>NULL</code></p>
</td></tr>
<tr><td><code id="addControl_+3A_clusteroptions">clusterOptions</code></td>
<td>
<p>if not <code>NULL</code>, markers will be clustered using
<a href="https://github.com/Leaflet/Leaflet.markercluster">Leaflet.markercluster</a>;
you can use <code><a href="#topic+markerClusterOptions">markerClusterOptions</a>()</code> to specify marker cluster
options</p>
</td></tr>
<tr><td><code id="addControl_+3A_clusterid">clusterId</code></td>
<td>
<p>the id for the marker cluster layer</p>
</td></tr>
<tr><td><code id="addControl_+3A_radius">radius</code></td>
<td>
<p>a numeric vector of radii for the circles; it can also be a
one-sided formula, in which case the radius values are derived from the
<code>data</code> (units in meters for circles, and pixels for circle markers)</p>
</td></tr>
<tr><td><code id="addControl_+3A_stroke">stroke</code></td>
<td>
<p>whether to draw stroke along the path (e.g. the borders of
polygons or circles)</p>
</td></tr>
<tr><td><code id="addControl_+3A_color">color</code></td>
<td>
<p>stroke color</p>
</td></tr>
<tr><td><code id="addControl_+3A_weight">weight</code></td>
<td>
<p>stroke width in pixels</p>
</td></tr>
<tr><td><code id="addControl_+3A_opacity">opacity</code></td>
<td>
<p>stroke opacity (or layer opacity for tile layers)</p>
</td></tr>
<tr><td><code id="addControl_+3A_fill">fill</code></td>
<td>
<p>whether to fill the path with color (e.g. filling on polygons or
circles)</p>
</td></tr>
<tr><td><code id="addControl_+3A_fillcolor">fillColor</code></td>
<td>
<p>fill color</p>
</td></tr>
<tr><td><code id="addControl_+3A_fillopacity">fillOpacity</code></td>
<td>
<p>fill opacity</p>
</td></tr>
<tr><td><code id="addControl_+3A_dasharray">dashArray</code></td>
<td>
<p>a string that defines the stroke
<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray">dash
pattern</a></p>
</td></tr>
<tr><td><code id="addControl_+3A_bringtofront">bringToFront</code></td>
<td>
<p>Whether the shape should be brought to front on hover.</p>
</td></tr>
<tr><td><code id="addControl_+3A_sendtoback">sendToBack</code></td>
<td>
<p>whether the shape should be sent to back on mouse out.</p>
</td></tr>
<tr><td><code id="addControl_+3A_highlightoptions">highlightOptions</code></td>
<td>
<p>Options for highlighting the shape on mouse over.</p>
</td></tr>
<tr><td><code id="addControl_+3A_smoothfactor">smoothFactor</code></td>
<td>
<p>how much to simplify the polyline on each zoom level
(more means better performance and less accurate representation)</p>
</td></tr>
<tr><td><code id="addControl_+3A_noclip">noClip</code></td>
<td>
<p>whether to disable polyline clipping</p>
</td></tr>
<tr><td><code id="addControl_+3A_lng1">lng1</code>, <code id="addControl_+3A_lat1">lat1</code>, <code id="addControl_+3A_lng2">lng2</code>, <code id="addControl_+3A_lat2">lat2</code></td>
<td>
<p>latitudes and longitudes of the south-west and
north-east corners of rectangles</p>
</td></tr>
<tr><td><code id="addControl_+3A_geojson">geojson</code></td>
<td>
<p>a GeoJSON list, or character vector of length 1</p>
</td></tr>
<tr><td><code id="addControl_+3A_topojson">topojson</code></td>
<td>
<p>a TopoJSON list, or character vector of length 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new <code>map</code> object
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>addControl()</code>: Add arbitrary HTML controls to the map
</p>
</li>
<li> <p><code>addTiles()</code>: Add a tile layer to the map
</p>
</li>
<li> <p><code>addWMSTiles()</code>: Add a WMS tile layer to the map
</p>
</li>
<li> <p><code>addPopups()</code>: Add popups to the map
</p>
</li>
<li> <p><code>addMarkers()</code>: Add markers to the map
</p>
</li>
<li> <p><code>addLabelOnlyMarkers()</code>: Add Label only markers to the map
</p>
</li>
<li> <p><code>addCircleMarkers()</code>: Add circle markers to the map
</p>
</li>
<li> <p><code>highlightOptions()</code>: Options to highlight a shape on hover
</p>
</li>
<li> <p><code>addCircles()</code>: Add circles to the map
</p>
</li>
<li> <p><code>addPolylines()</code>: Add polylines to the map
</p>
</li>
<li> <p><code>addRectangles()</code>: Add rectangles to the map
</p>
</li>
<li> <p><code>addPolygons()</code>: Add polygons to the map
</p>
</li>
<li> <p><code>addGeoJSON()</code>: Add GeoJSON layers to the map
</p>
</li>
<li> <p><code>addTopoJSON()</code>: Add TopoJSON layers to the map
</p>
</li></ul>


<h3>References</h3>

<p>The Leaflet API documentation:
<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tileOptions">tileOptions</a></code>, <code><a href="#topic+WMSTileOptions">WMSTileOptions</a></code>,
<code><a href="#topic+popupOptions">popupOptions</a></code>, <code><a href="#topic+markerOptions">markerOptions</a></code>,
<code><a href="#topic+pathOptions">pathOptions</a></code>
</p>

<hr>
<h2 id='addGraticule'>Add a Graticule on the map
see <a href="https://github.com/turban/Leaflet.Graticule">https://github.com/turban/Leaflet.Graticule</a></h2><span id='topic+addGraticule'></span>

<h3>Description</h3>

<p>Add a Graticule on the map
see <a href="https://github.com/turban/Leaflet.Graticule">https://github.com/turban/Leaflet.Graticule</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addGraticule(
  map,
  interval = 20,
  sphere = FALSE,
  style = list(color = "#333", weight = 1),
  layerId = NULL,
  group = NULL,
  options = pathOptions(pointerEvents = "none", clickable = FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addGraticule_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="addGraticule_+3A_interval">interval</code></td>
<td>
<p>The spacing in map units between horizontal and vertical lines.</p>
</td></tr>
<tr><td><code id="addGraticule_+3A_sphere">sphere</code></td>
<td>
<p>boolean. Default FALSE</p>
</td></tr>
<tr><td><code id="addGraticule_+3A_style">style</code></td>
<td>
<p>path options for the generated lines. See <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#path-option">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#path-option</a></p>
</td></tr>
<tr><td><code id="addGraticule_+3A_layerid">layerId</code></td>
<td>
<p>the layer id</p>
</td></tr>
<tr><td><code id="addGraticule_+3A_group">group</code></td>
<td>
<p>the name of the group this layer belongs to.</p>
</td></tr>
<tr><td><code id="addGraticule_+3A_options">options</code></td>
<td>
<p>the path options for the graticule layer</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>leaf &lt;- leaflet() %&gt;%
  addTiles() %&gt;%
  addGraticule()
leaf

</code></pre>

<hr>
<h2 id='addLayersControl'>Add UI controls to switch layers on and off</h2><span id='topic+addLayersControl'></span><span id='topic+layersControlOptions'></span><span id='topic+removeLayersControl'></span>

<h3>Description</h3>

<p>Uses Leaflet's built-in
<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#control-layers">layers control</a>
feature to allow users to choose one of several base layers, and to choose
any number of overlay layers to view.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLayersControl(
  map,
  baseGroups = character(0),
  overlayGroups = character(0),
  position = c("topright", "bottomright", "bottomleft", "topleft"),
  options = layersControlOptions(),
  data = getMapData(map)
)

layersControlOptions(collapsed = TRUE, autoZIndex = TRUE, ...)

removeLayersControl(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addLayersControl_+3A_map">map</code></td>
<td>
<p>the map to add the layers control to</p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_basegroups">baseGroups</code></td>
<td>
<p>character vector where each element is the name of a group.
The user will be able to choose one base group (only) at a time. This is
most commonly used for mostly-opaque tile layers.</p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_overlaygroups">overlayGroups</code></td>
<td>
<p>character vector where each element is the name of a
group. The user can turn each overlay group on or off independently.</p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_position">position</code></td>
<td>
<p>position of control: &quot;topleft&quot;, &quot;topright&quot;, &quot;bottomleft&quot;, or
&quot;bottomright&quot;</p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_options">options</code></td>
<td>
<p>a list of additional options, intended to be provided by
a call to <code>layersControlOptions</code></p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden</p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_collapsed">collapsed</code></td>
<td>
<p>if <code>TRUE</code> (the default), the layers control will be
rendered as an icon that expands when hovered over. Set to <code>FALSE</code>
to have the layers control always appear in its expanded state.</p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_autozindex">autoZIndex</code></td>
<td>
<p>if <code>TRUE</code>, the control will automatically maintain
the z-order of its various groups as overlays are switched on and off.</p>
</td></tr>
<tr><td><code id="addLayersControl_+3A_...">...</code></td>
<td>
<p>other options for <code>layersControlOptions()</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
leaflet() %&gt;%
  addTiles(group = "OpenStreetMap") %&gt;%
  addProviderTiles("Stamen.Toner", group = "Toner by Stamen") %&gt;%
  addMarkers(runif(20, -75, -74), runif(20, 41, 42), group = "Markers") %&gt;%
  addLayersControl(
    baseGroups = c("OpenStreetMap", "Toner by Stamen"),
    overlayGroups = c("Markers")
  )


</code></pre>

<hr>
<h2 id='addLegend'>Add a color legend to a map</h2><span id='topic+addLegend'></span><span id='topic+labelFormat'></span>

<h3>Description</h3>

<p>When a color palette function is used in a map (e.g.
<code><a href="#topic+colorNumeric">colorNumeric</a></code>), a color legend can be automatically derived from
the palette function. You can also manually specify the colors and labels for
the legend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLegend(
  map,
  position = c("topright", "bottomright", "bottomleft", "topleft"),
  pal,
  values,
  na.label = "NA",
  bins = 7,
  colors,
  opacity = 0.5,
  labels = NULL,
  labFormat = labelFormat(),
  title = NULL,
  className = "info legend",
  layerId = NULL,
  group = NULL,
  data = getMapData(map)
)

labelFormat(
  prefix = "",
  suffix = "",
  between = " &amp;ndash; ",
  digits = 3,
  big.mark = ",",
  transform = identity
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addLegend_+3A_map">map</code></td>
<td>
<p>a map widget object created from <code><a href="#topic+leaflet">leaflet</a>()</code></p>
</td></tr>
<tr><td><code id="addLegend_+3A_position">position</code></td>
<td>
<p>the position of the legend</p>
</td></tr>
<tr><td><code id="addLegend_+3A_pal">pal</code></td>
<td>
<p>the color palette function, generated from
<code><a href="#topic+colorNumeric">colorNumeric</a>()</code>, <code>colorBin()</code>, <code>colorQuantile()</code>, or
<code>colorFactor()</code></p>
</td></tr>
<tr><td><code id="addLegend_+3A_values">values</code></td>
<td>
<p>the values used to generate colors from the palette function</p>
</td></tr>
<tr><td><code id="addLegend_+3A_na.label">na.label</code></td>
<td>
<p>the legend label for <code>NA</code>s in <code>values</code></p>
</td></tr>
<tr><td><code id="addLegend_+3A_bins">bins</code></td>
<td>
<p>an approximate number of tick-marks on the color gradient for the
<code>colorNumeric</code> palette if it is of length one; you can also provide a
numeric vector as the pre-defined breaks (equally spaced)</p>
</td></tr>
<tr><td><code id="addLegend_+3A_colors">colors</code></td>
<td>
<p>a vector of (HTML) colors to be used in the legend if
<code>pal</code> is not provided</p>
</td></tr>
<tr><td><code id="addLegend_+3A_opacity">opacity</code></td>
<td>
<p>the opacity of colors</p>
</td></tr>
<tr><td><code id="addLegend_+3A_labels">labels</code></td>
<td>
<p>a vector of text labels in the legend corresponding to
<code>colors</code></p>
</td></tr>
<tr><td><code id="addLegend_+3A_labformat">labFormat</code></td>
<td>
<p>a function to format the labels derived from <code>pal</code> and
<code>values</code> (see Details below to know what <code>labelFormat()</code> returns
by default; you can either use the helper function <code>labelFormat()</code>, or
write your own function)</p>
</td></tr>
<tr><td><code id="addLegend_+3A_title">title</code></td>
<td>
<p>the legend title</p>
</td></tr>
<tr><td><code id="addLegend_+3A_classname">className</code></td>
<td>
<p>extra CSS classes to append to the control, space separated</p>
</td></tr>
<tr><td><code id="addLegend_+3A_layerid">layerId</code></td>
<td>
<p>the ID of the legend; subsequent calls to <code>addLegend</code>
or <code>addControl</code> with the same <code>layerId</code> will replace this
legend. The ID can also be used with <code>removeControl</code>.</p>
</td></tr>
<tr><td><code id="addLegend_+3A_group">group</code></td>
<td>
<p><code>group</code> name of a leaflet layer group.
Supplying this value will tie the legend to the leaflet layer group
with this name and will auto add/remove the legend as the
group is added/removed, for example via layerControl.
You will need to set the <code>group</code> when you add a layer
(e.g. <code><a href="#topic+addPolygons">addPolygons</a></code>) and supply the same name here.</p>
</td></tr>
<tr><td><code id="addLegend_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden</p>
</td></tr>
<tr><td><code id="addLegend_+3A_prefix">prefix</code></td>
<td>
<p>a prefix of legend labels</p>
</td></tr>
<tr><td><code id="addLegend_+3A_suffix">suffix</code></td>
<td>
<p>a suffix of legend labels</p>
</td></tr>
<tr><td><code id="addLegend_+3A_between">between</code></td>
<td>
<p>a separator between <code>x[i]</code> and <code>x[i + 1]</code> in legend
labels (by default, it is a dash)</p>
</td></tr>
<tr><td><code id="addLegend_+3A_digits">digits</code></td>
<td>
<p>the number of digits of numeric values in labels</p>
</td></tr>
<tr><td><code id="addLegend_+3A_big.mark">big.mark</code></td>
<td>
<p>the thousand separator</p>
</td></tr>
<tr><td><code id="addLegend_+3A_transform">transform</code></td>
<td>
<p>a function to transform the label value</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>labFormat</code> argument is a function that takes the argument
<code>type = c("numeric", "bin", "quantile", "factor")</code>, plus, arguments for
different types of color palettes. For the <code>colorNumeric()</code> palette,
<code>labFormat</code> takes a single argument, which is the breaks of the numeric
vector, and returns a character vector of the same length. For
<code>colorBin()</code>, <code>labFormat</code> also takes a vector of breaks of length
<code>n</code> but should return a character vector of length <code>n - 1</code>, with
the <code>i</code>-th element representing the interval <code>c(x[i], x[i + 1])</code>.
For <code>colorQuantile</code>, <code>labFormat</code> takes two arguments, the quantiles
and the associated probabilities (each of length <code>n</code>), and should return
a character vector of length <code>n - 1</code> (similar to the <code>colorBin()</code>
palette). For <code>colorFactor()</code>, <code>labFormat</code> takes one argument, the
unique values of the factor, and should return a character vector of the same
length.
</p>
<p>By default, <code>labFormat</code> is basically <code>format(scientific = FALSE,
big.mark = ",")</code> for the numeric palette, <code>as.character()</code> for the
factor palette, and a function to return labels of the form &lsquo;<span class="samp">&#8288;x[i] - x[i
+ 1]&#8288;</span>&rsquo; for bin and quantile palettes (in the case of quantile palettes,
<code>x</code> is the probabilities instead of the values of breaks).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># !formatR
library(leaflet)
# a manual legend
leaflet() %&gt;% addTiles() %&gt;% addLegend(
  position = "bottomright",
  colors = rgb(t(col2rgb(palette())) / 255),
  labels = palette(), opacity = 1,
  title = "An Obvious Legend"
)



# an automatic legend derived from the color palette
df &lt;- local({
  n &lt;- 300; x &lt;- rnorm(n); y &lt;- rnorm(n)
  z &lt;- sqrt(x ^ 2 + y ^ 2); z[sample(n, 10)] &lt;- NA
  data.frame(x, y, z)
})
pal &lt;- colorNumeric("OrRd", df$z)
leaflet(df) %&gt;%
  addTiles() %&gt;%
  addCircleMarkers(~x, ~y, color = ~pal(z), group = "circles") %&gt;%
  addLegend(pal = pal, values = ~z, group = "circles", position = "bottomleft") %&gt;%
  addLayersControl(overlayGroups = c("circles"))

# format legend labels
df &lt;- data.frame(x = rnorm(100), y = rexp(100, 2), z = runif(100))
pal &lt;- colorBin("PuOr", df$z, bins = c(0, .1, .4, .9, 1))
leaflet(df) %&gt;%
  addTiles() %&gt;%
  addCircleMarkers(~x, ~y, color = ~pal(z), group = "circles") %&gt;%
  addLegend(pal = pal, values = ~z, group = "circles", position = "bottomleft") %&gt;%
  addLayersControl(overlayGroups = c("circles"))

leaflet(df) %&gt;%
  addTiles() %&gt;%
  addCircleMarkers(~x, ~y, color = ~pal(z), group = "circles") %&gt;%
  addLegend(pal = pal, values = ~z, labFormat = labelFormat(
    prefix = "(", suffix = ")%", between = ", ",
    transform = function(x) 100 * x
  ),  group = "circles", position = "bottomleft" ) %&gt;%
  addLayersControl(overlayGroups = c("circles"))

</code></pre>

<hr>
<h2 id='addMapPane'>Add additional panes to leaflet map to control layer order</h2><span id='topic+addMapPane'></span>

<h3>Description</h3>

<p>map panes can be created by supplying a name and a zIndex to control layer
ordering. We recommend a <code>zIndex</code> value between 400 (the default
overlay pane) and 500 (the default shadow pane). You can then use this pane
to render overlays (points, lines, polygons) by setting the <code>pane</code>
argument in <code>leafletOptions</code>. This will give you control
over the order of the layers, e.g. points always on top of polygons.
If two layers are provided to the same pane, overlay will be determined by
order of adding. See examples below.
See <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#map-pane">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#map-pane</a> for details.
</p>
<p>If the error &quot;Cannot read property 'appendChild' of undefined&quot; occurs, make
sure the pane being used for used for display has already been added to the map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addMapPane(map, name, zIndex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addMapPane_+3A_map">map</code></td>
<td>
<p>A <code>leaflet</code> or <code>mapview</code> object.</p>
</td></tr>
<tr><td><code id="addMapPane_+3A_name">name</code></td>
<td>
<p>The name of the new pane (refer to this in <code>leafletOptions</code>.</p>
</td></tr>
<tr><td><code id="addMapPane_+3A_zindex">zIndex</code></td>
<td>
<p>The zIndex of the pane. Panes with higher index are rendered
above panes with lower indices.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>rand_lng &lt;- function(n = 10) rnorm(n, -93.65, .01)
rand_lat &lt;- function(n = 10) rnorm(n, 42.0285, .01)

random_data &lt;- data.frame(
  lng = rand_lng(50),
  lat = rand_lat(50),
  radius = runif(50, 50, 150),
  circleId = paste0("circle #", 1:50),
  lineId = paste0("circle #", 1:50)
)

# display circles (zIndex: 420) above the lines (zIndex: 410), even when added first
leaflet() %&gt;%
  addTiles() %&gt;%
  # move the center to Snedecor Hall
  setView(-93.65, 42.0285, zoom = 14) %&gt;%
  addMapPane("ames_lines", zIndex = 410) %&gt;% # shown below ames_circles
  addMapPane("ames_circles", zIndex = 420) %&gt;% # shown above ames_lines
  # points above polygons
  addCircles(
    data = random_data, ~lng, ~lat, radius = ~radius, popup = ~circleId,
    options = pathOptions(pane = "ames_circles")
  ) %&gt;%
  # lines in 'ames_lines' pane
  addPolylines(
    data = random_data, ~lng, ~lat, color = "#F00", weight = 20,
    options = pathOptions(pane = "ames_lines")
  )


# same example but circles (zIndex: 420) are below the lines (zIndex: 430)
leaflet() %&gt;%
  addTiles() %&gt;%
  # move the center to Snedecor Hall
  setView(-93.65, 42.0285, zoom = 14) %&gt;%
  addMapPane("ames_lines", zIndex = 430) %&gt;% # shown below ames_circles
  addMapPane("ames_circles", zIndex = 420) %&gt;% # shown above ames_lines
  # points above polygons
  addCircles(
    data = random_data, ~lng, ~lat, radius = ~radius, popup = ~circleId,
    options = pathOptions(pane = "ames_circles")
  ) %&gt;%
  # lines in 'ames_lines' pane
  addPolylines(
    data = random_data, ~lng, ~lat, color = "#F00", weight = 20,
    options = pathOptions(pane = "ames_lines")
  )

</code></pre>

<hr>
<h2 id='addMeasure'>Add a measure control to the map.</h2><span id='topic+addMeasure'></span>

<h3>Description</h3>

<p>Add a measure control to the map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addMeasure(
  map,
  position = "topright",
  primaryLengthUnit = "feet",
  secondaryLengthUnit = NULL,
  primaryAreaUnit = "acres",
  secondaryAreaUnit = NULL,
  activeColor = "#ABE67E",
  completedColor = "#C8F2BE",
  popupOptions = list(className = "leaflet-measure-resultpopup", autoPanPadding = c(10,
    10)),
  captureZIndex = 10000,
  localization = "en",
  decPoint = ".",
  thousandsSep = ","
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addMeasure_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_position">position</code></td>
<td>
<p>standard <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#control-positions">Leaflet control position options</a>.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_primarylengthunit">primaryLengthUnit</code>, <code id="addMeasure_+3A_secondarylengthunit">secondaryLengthUnit</code></td>
<td>
<p>units used to display length
results. secondaryLengthUnit is optional.
Valid values are <code>"feet"</code>, <code>"meters"</code>, <code>"miles"</code>, and <code>"kilometers"</code>.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_primaryareaunit">primaryAreaUnit</code>, <code id="addMeasure_+3A_secondaryareaunit">secondaryAreaUnit</code></td>
<td>
<p>units used to display area results.
secondaryAreaUnit is optional.  Valid values are
<code>"acres"</code>, <code>"hectares"</code>, <code>"sqmeters"</code>, and <code>"sqmiles"</code>.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_activecolor">activeColor</code></td>
<td>
<p>base color to use for map features rendered while
actively performing a measurement.
Value should be a color represented as a hexadecimal string.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_completedcolor">completedColor</code></td>
<td>
<p>base color to use for features generated
from a completed measurement.
Value should be a color represented as a hexadecimal string.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_popupoptions">popupOptions</code></td>
<td>
<p><code>list</code> of options applied to the popup
of the resulting measure feature.
Properties may be any <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#popup-option">standard Leaflet popup options</a>.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_capturezindex">captureZIndex</code></td>
<td>
<p>Z-index of the marker used to capture measure clicks.
Set this value higher than the z-index of all other map layers to
disable click events on other layers while a measurement is active.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_localization">localization</code></td>
<td>
<p>Locale to translate displayed text.
Available locales include en (default), cn, de, es, fr, it, nl, pt,
pt_BR, pt_PT, ru, and tr</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_decpoint">decPoint</code></td>
<td>
<p>Decimal point used when displaying measurements.
If not specified, values are defined by the localization.</p>
</td></tr>
<tr><td><code id="addMeasure_+3A_thousandssep">thousandsSep</code></td>
<td>
<p>Thousands separator used when displaying measurements.
If not specified, values are defined by the localization.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>modified map
</p>


<h3>Examples</h3>

<pre><code class='language-R'>leaf &lt;- leaflet() %&gt;%
  addTiles() %&gt;%
  # central park
  fitBounds( -73.9, 40.75, -73.95, 40.8 ) %&gt;%
  addMeasure()

leaf

# customizing
leaf %&gt;% addMeasure(
  position = "bottomleft",
  primaryLengthUnit = "meters",
  primaryAreaUnit = "sqmeters",
  activeColor = "#3D535D",
  completedColor = "#7D4479",
  localization = "de"
)

</code></pre>

<hr>
<h2 id='addMiniMap'>Add a minimap to the Map
<a href="https://github.com/Norkart/Leaflet-MiniMap">https://github.com/Norkart/Leaflet-MiniMap</a></h2><span id='topic+addMiniMap'></span>

<h3>Description</h3>

<p>Add a minimap to the Map
<a href="https://github.com/Norkart/Leaflet-MiniMap">https://github.com/Norkart/Leaflet-MiniMap</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addMiniMap(
  map,
  position = "bottomright",
  width = 150,
  height = 150,
  collapsedWidth = 19,
  collapsedHeight = 19,
  zoomLevelOffset = -5,
  zoomLevelFixed = FALSE,
  centerFixed = FALSE,
  zoomAnimation = FALSE,
  toggleDisplay = FALSE,
  autoToggleDisplay = FALSE,
  minimized = FALSE,
  aimingRectOptions = list(color = "#ff7800", weight = 1, clickable = FALSE),
  shadowRectOptions = list(color = "#000000", weight = 1, clickable = FALSE, opacity = 0,
    fillOpacity = 0),
  strings = list(hideText = "Hide MiniMap", showText = "Show MiniMap"),
  tiles = NULL,
  mapOptions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addMiniMap_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_position">position</code></td>
<td>
<p>The standard Leaflet.Control position parameter,
used like all the other controls.
Defaults to &quot;bottomright&quot;.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_width">width</code></td>
<td>
<p>The width of the minimap in pixels. Defaults to 150.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_height">height</code></td>
<td>
<p>The height of the minimap in pixels. Defaults to 150.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_collapsedwidth">collapsedWidth</code></td>
<td>
<p>The width of the toggle marker and the minimap
when collapsed, in pixels. Defaults to 19.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_collapsedheight">collapsedHeight</code></td>
<td>
<p>The height of the toggle marker and the minimap
when collapsed, in pixels. Defaults to 19.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_zoomleveloffset">zoomLevelOffset</code></td>
<td>
<p>The offset applied to the zoom in the minimap compared
to the zoom of the main map. Can be positive or negative, defaults to -5.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_zoomlevelfixed">zoomLevelFixed</code></td>
<td>
<p>Overrides the offset to apply a fixed zoom level to
the minimap regardless of the main map zoom.
Set it to any valid zoom level, if unset zoomLevelOffset is used instead.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_centerfixed">centerFixed</code></td>
<td>
<p>Applies a fixed position to the minimap regardless of
the main map's view / position. Prevents panning the minimap, but does
allow zooming (both in the minimap and the main map).
If the minimap is zoomed, it will always zoom around the centerFixed point.
You can pass in a LatLng-equivalent object. Defaults to false.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_zoomanimation">zoomAnimation</code></td>
<td>
<p>Sets whether the minimap should have an animated zoom.
(Will cause it to lag a bit after the movement of the main map.)
Defaults to false.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_toggledisplay">toggleDisplay</code></td>
<td>
<p>Sets whether the minimap should have a button to minimise it.
Defaults to false.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_autotoggledisplay">autoToggleDisplay</code></td>
<td>
<p>Sets whether the minimap should hide automatically,
if the parent map bounds does not fit within the minimap bounds.
Especially useful when 'zoomLevelFixed' is set.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_minimized">minimized</code></td>
<td>
<p>Sets whether the minimap should start in a minimized position.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_aimingrectoptions">aimingRectOptions</code></td>
<td>
<p>Sets the style of the aiming rectangle by passing in
a Path.Options (<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#path-options">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#path-options</a>) object.
(Clickable will always be overridden and set to false.)</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_shadowrectoptions">shadowRectOptions</code></td>
<td>
<p>Sets the style of the aiming shadow rectangle by passing in
a Path.Options (<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#path-option">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#path-option</a>) object.
(Clickable will always be overridden and set to false.)</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_strings">strings</code></td>
<td>
<p>Overrides the default strings allowing for translation.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_tiles">tiles</code></td>
<td>
<p>URL for tiles or one of the pre-defined providers.</p>
</td></tr>
<tr><td><code id="addMiniMap_+3A_mapoptions">mapOptions</code></td>
<td>
<p>Sets Leaflet options for the MiniMap map.
It does not override the MiniMap default map options but extends them.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+providers">providers</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>leaf &lt;- leaflet() %&gt;%
  addTiles() %&gt;%
  addMiniMap()
leaf

</code></pre>

<hr>
<h2 id='addProviderTiles'>Add a tile layer from a known map provider</h2><span id='topic+addProviderTiles'></span><span id='topic+providerTileOptions'></span>

<h3>Description</h3>

<p>Add a tile layer from a known map provider
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addProviderTiles(
  map,
  provider,
  layerId = NULL,
  group = NULL,
  options = providerTileOptions()
)

providerTileOptions(
  errorTileUrl = "",
  noWrap = FALSE,
  opacity = NULL,
  zIndex = NULL,
  updateWhenIdle = NULL,
  detectRetina = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addProviderTiles_+3A_map">map</code></td>
<td>
<p>the map to add the tile layer to</p>
</td></tr>
<tr><td><code id="addProviderTiles_+3A_provider">provider</code></td>
<td>
<p>the name of the provider (see
<a href="https://leaflet-extras.github.io/leaflet-providers/preview/">https://leaflet-extras.github.io/leaflet-providers/preview/</a> and
<a href="https://github.com/leaflet-extras/leaflet-providers">https://github.com/leaflet-extras/leaflet-providers</a>)</p>
</td></tr>
<tr><td><code id="addProviderTiles_+3A_layerid">layerId</code></td>
<td>
<p>the layer id to assign</p>
</td></tr>
<tr><td><code id="addProviderTiles_+3A_group">group</code></td>
<td>
<p>the name of the group the newly created layers should belong to
(for <code><a href="#topic+clearGroup">clearGroup</a></code> and <code><a href="#topic+addLayersControl">addLayersControl</a></code> purposes).
Human-friendly group names are permitted&ndash;they need not be short,
identifier-style names.</p>
</td></tr>
<tr><td><code id="addProviderTiles_+3A_options">options</code></td>
<td>
<p>tile options</p>
</td></tr>
<tr><td><code id="addProviderTiles_+3A_errortileurl">errorTileUrl</code>, <code id="addProviderTiles_+3A_nowrap">noWrap</code>, <code id="addProviderTiles_+3A_opacity">opacity</code>, <code id="addProviderTiles_+3A_zindex">zIndex</code>, <code id="addProviderTiles_+3A_updatewhenidle">updateWhenIdle</code>, <code id="addProviderTiles_+3A_detectretina">detectRetina</code></td>
<td>
<p>the tile layer options; see
<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tilelayer">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tilelayer</a></p>
</td></tr>
<tr><td><code id="addProviderTiles_+3A_...">...</code></td>
<td>
<p>named parameters to add to the options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>modified map object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>leaflet() %&gt;%
  addProviderTiles("Stamen.Watercolor") %&gt;%
  addProviderTiles("Stamen.TonerHybrid")

</code></pre>

<hr>
<h2 id='addRasterImage'>Add a raster image as a layer</h2><span id='topic+addRasterImage'></span><span id='topic+projectRasterForLeaflet'></span>

<h3>Description</h3>

<p>Create an image overlay from a <code>RasterLayer</code> or a <code>SpatRaster</code>
object. <em>This is only suitable for small to medium sized rasters</em>,
as the entire image will be embedded into the HTML page (or passed over
the websocket in a Shiny context).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addRasterImage(
  map,
  x,
  colors = if (is.factor(x)[1]) "Set1" else "Spectral",
  opacity = 1,
  attribution = NULL,
  layerId = NULL,
  group = NULL,
  project = TRUE,
  method = c("auto", "bilinear", "ngb"),
  maxBytes = 4 * 1024 * 1024,
  options = gridOptions(),
  data = getMapData(map)
)

projectRasterForLeaflet(x, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addRasterImage_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_x">x</code></td>
<td>
<p>a <code><a href="terra.html#topic+SpatRaster">SpatRaster</a></code> or a <code>RasterLayer</code> object&ndash;see <code><a href="raster.html#topic+raster">raster</a></code></p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_colors">colors</code></td>
<td>
<p>the color palette (see <code><a href="#topic+colorNumeric">colorNumeric</a></code>) or function
to use to color the raster values (hint: if providing a function, set
<code>na.color</code> to <code>"#00000000"</code> to make <code>NA</code> areas transparent).
The palette is ignored if <code>x</code> is a SpatRaster with a color table or if
it has RGB channels.</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_opacity">opacity</code></td>
<td>
<p>the base opacity of the raster, expressed from 0 to 1</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_attribution">attribution</code></td>
<td>
<p>the HTML string to show as the attribution for this layer</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_layerid">layerId</code></td>
<td>
<p>the layer id</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_group">group</code></td>
<td>
<p>the name of the group this raster image should belong to (see
the same parameter under <code><a href="#topic+addTiles">addTiles</a></code>)</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_project">project</code></td>
<td>
<p>if <code>TRUE</code>, automatically project <code>x</code> to the map
projection expected by Leaflet (<code>EPSG:3857</code>); if <code>FALSE</code>, it's
the caller's responsibility to ensure that <code>x</code> is already projected,
and that <code>extent(x)</code> is expressed in WGS84 latitude/longitude
coordinates</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_method">method</code></td>
<td>
<p>the method used for computing values of the new, projected raster image.
<code>"bilinear"</code> (the default) is appropriate for continuous data,
<code>"ngb"</code> - nearest neighbor - is appropriate for categorical data.
Ignored if <code>project = FALSE</code>. See <code><a href="raster.html#topic+projectRaster">projectRaster</a></code> for details.</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_maxbytes">maxBytes</code></td>
<td>
<p>the maximum number of bytes to allow for the projected image
(before base64 encoding); defaults to 4MB.</p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_options">options</code></td>
<td>
<p>a list of additional options, intended to be provided by
a call to <code><a href="#topic+gridOptions">gridOptions</a></code></p>
</td></tr>
<tr><td><code id="addRasterImage_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>maxBytes</code> parameter serves to prevent you from accidentally
embedding an excessively large amount of data into your htmlwidget. This
value is compared to the size of the final compressed image (after the raster
has been projected, colored, and PNG encoded, but before base64 encoding is
applied). Set <code>maxBytes</code> to <code>Inf</code> to disable this check, but be
aware that very large rasters may not only make your map a large download but
also may cause the browser to become slow or unresponsive.
</p>
<p>To reduce the size of a SpatRaster, you can use <code><a href="terra.html#topic+spatSample">spatSample</a></code>
as in <code>x = spatSample(x, 100000, method="regular", as.raster=TRUE)</code>. With
a <code>RasterLayer</code> you can use <code><a href="raster.html#topic+sampleRegular">sampleRegular</a></code> as in
<code>sampleRegular(x, 100000, asRaster=TRUE)</code>.
</p>
<p>By default, the <code>addRasterImage</code> function will project the raster data
<code>x</code> to the Pseudo-Mercator projection (EPSG:3857). This can be a
time-consuming operation for even moderately sized rasters; although it is much
faster for SpatRasters than for RasterLayers.
If you are repeatedly adding a particular raster to your Leaflet
maps, you can perform the projection ahead of time using
<code>projectRasterForLeaflet()</code>, and call <code>addRasterImage</code> with
<code>project = FALSE</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+addRasterLegend">addRasterLegend</a></code> for an easy way to add a legend for a
SpatRaster with a color table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(raster)

r &lt;- raster(xmn = -2.8, xmx = -2.79, ymn = 54.04, ymx = 54.05, nrows = 30, ncols = 30)
values(r) &lt;- matrix(1:900, nrow(r), ncol(r), byrow = TRUE)
crs(r) &lt;- CRS("+init=epsg:4326")

pal &lt;- colorNumeric("Spectral", domain = c(0, 1000))
leaflet() %&gt;% addTiles() %&gt;%
  addRasterImage(r, colors = pal, opacity = 0.8) %&gt;%
  addLegend(pal = pal, values = c(0, 1000))

</code></pre>

<hr>
<h2 id='addRasterLegend'>Add a color legend for a SpatRaster to a map</h2><span id='topic+addRasterLegend'></span>

<h3>Description</h3>

<p>A function for adding a <a href="#topic+addLegend">legend</a> that is specifically designed
for <a href="terra.html#topic+SpatRaster-class">terra::SpatRaster</a> objects, with categorical values, that carry their
own <a href="terra.html#topic+colors">color table</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addRasterLegend(map, x, layer = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addRasterLegend_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="addRasterLegend_+3A_x">x</code></td>
<td>
<p>a <a href="terra.html#topic+SpatRaster-class">SpatRaster</a> object with a color table</p>
</td></tr>
<tr><td><code id="addRasterLegend_+3A_layer">layer</code></td>
<td>
<p>the layer of the raster to target</p>
</td></tr>
<tr><td><code id="addRasterLegend_+3A_...">...</code></td>
<td>
<p>additional arguments to pass through to <code><a href="#topic+addLegend">addLegend()</a></code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+addRasterImage">addRasterImage()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(terra)

r &lt;- rast("/vsicurl/https://geodata.ucdavis.edu/test/pr_nlcd.tif")
leaflet() %&gt;%
  addTiles() %&gt;%
  addRasterImage(r, opacity = 0.75) %&gt;%
  addRasterLegend(r, opacity = 0.75)

plot.new() # pause in interactive mode

rr &lt;- r
levels(rr)  &lt;- NULL
leaflet() %&gt;%
  addTiles() %&gt;%
  addRasterImage(rr, opacity = 0.75) %&gt;%
  addRasterLegend(rr, opacity = 0.75)

</code></pre>

<hr>
<h2 id='addScaleBar'>Add or remove a scale bar</h2><span id='topic+addScaleBar'></span><span id='topic+scaleBarOptions'></span><span id='topic+removeScaleBar'></span>

<h3>Description</h3>

<p>Uses Leaflet's built-in
<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#control-scale">scale bar</a>
feature to add a scale bar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addScaleBar(
  map,
  position = c("topright", "bottomright", "bottomleft", "topleft"),
  options = scaleBarOptions()
)

scaleBarOptions(
  maxWidth = 100,
  metric = TRUE,
  imperial = TRUE,
  updateWhenIdle = TRUE
)

removeScaleBar(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addScaleBar_+3A_map">map</code></td>
<td>
<p>the map to add the scale bar to</p>
</td></tr>
<tr><td><code id="addScaleBar_+3A_position">position</code></td>
<td>
<p>position of control: &quot;topleft&quot;, &quot;topright&quot;, &quot;bottomleft&quot;, or
&quot;bottomright&quot;</p>
</td></tr>
<tr><td><code id="addScaleBar_+3A_options">options</code></td>
<td>
<p>a list of additional options, intended to be provided by
a call to <code>scaleBarOptions</code></p>
</td></tr>
<tr><td><code id="addScaleBar_+3A_maxwidth">maxWidth</code></td>
<td>
<p>maximum width of the control in pixels (default 100)</p>
</td></tr>
<tr><td><code id="addScaleBar_+3A_metric">metric</code></td>
<td>
<p>if <code>TRUE</code> (the default), show a scale bar in metric units
(m/km)</p>
</td></tr>
<tr><td><code id="addScaleBar_+3A_imperial">imperial</code></td>
<td>
<p>if <code>TRUE</code> (the default), show a scale bar in imperial
units (ft/mi)</p>
</td></tr>
<tr><td><code id="addScaleBar_+3A_updatewhenidle">updateWhenIdle</code></td>
<td>
<p>if <code>FALSE</code> (the default), the scale bar is always
up-to-date (updated on <code>move</code>). If <code>TRUE</code>, the control is updated
on <code>moveend</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
leaflet() %&gt;%
  addTiles() %&gt;%
  addScaleBar()


</code></pre>

<hr>
<h2 id='addSimpleGraticule'>Add a simple Graticule on the map
see <a href="https://github.com/ablakey/Leaflet.SimpleGraticule">https://github.com/ablakey/Leaflet.SimpleGraticule</a></h2><span id='topic+addSimpleGraticule'></span>

<h3>Description</h3>

<p>Add a simple Graticule on the map
see <a href="https://github.com/ablakey/Leaflet.SimpleGraticule">https://github.com/ablakey/Leaflet.SimpleGraticule</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSimpleGraticule(
  map,
  interval = 20,
  showOriginLabel = TRUE,
  redraw = "move",
  hidden = FALSE,
  zoomIntervals = list(),
  layerId = NULL,
  group = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addSimpleGraticule_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="addSimpleGraticule_+3A_interval">interval</code></td>
<td>
<p>The spacing in map units between horizontal and vertical lines.</p>
</td></tr>
<tr><td><code id="addSimpleGraticule_+3A_showoriginlabel">showOriginLabel</code></td>
<td>
<p>true Whether or not to show '(0,0)' at the origin.</p>
</td></tr>
<tr><td><code id="addSimpleGraticule_+3A_redraw">redraw</code></td>
<td>
<p>on which map event to redraw the graticule. On move is default but moveend can be smoother.</p>
</td></tr>
<tr><td><code id="addSimpleGraticule_+3A_hidden">hidden</code></td>
<td>
<p>hide on start</p>
</td></tr>
<tr><td><code id="addSimpleGraticule_+3A_zoomintervals">zoomIntervals</code></td>
<td>
<p>use different intervals in different zoom levels. If not specified, all zoom levels use value in interval option.</p>
</td></tr>
<tr><td><code id="addSimpleGraticule_+3A_layerid">layerId</code></td>
<td>
<p>the layer id</p>
</td></tr>
<tr><td><code id="addSimpleGraticule_+3A_group">group</code></td>
<td>
<p>the name of the group this layer belongs to.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>leaflet() %&gt;%
  addTiles() %&gt;%
  addSimpleGraticule()

</code></pre>

<hr>
<h2 id='addTerminator'>Add a daylight layer on top of the map</h2><span id='topic+addTerminator'></span>

<h3>Description</h3>

<p>See <a href="https://github.com/joergdietrich/Leaflet.Terminator">https://github.com/joergdietrich/Leaflet.Terminator</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTerminator(
  map,
  resolution = 2,
  time = NULL,
  layerId = NULL,
  group = NULL,
  options = pathOptions(pointerEvents = "none", clickable = FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addTerminator_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="addTerminator_+3A_resolution">resolution</code></td>
<td>
<p>the step size at which the terminator points are computed.
The step size is 1 degree/resolution, i.e. higher resolution values have
smaller step sizes and more points in the polygon. The default value is 2.</p>
</td></tr>
<tr><td><code id="addTerminator_+3A_time">time</code></td>
<td>
<p>Time</p>
</td></tr>
<tr><td><code id="addTerminator_+3A_layerid">layerId</code></td>
<td>
<p>the layer id</p>
</td></tr>
<tr><td><code id="addTerminator_+3A_group">group</code></td>
<td>
<p>the name of the group this layer belongs to.</p>
</td></tr>
<tr><td><code id="addTerminator_+3A_options">options</code></td>
<td>
<p>the path options for the daynight layer</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>leaf &lt;- leaflet() %&gt;%
  addTiles() %&gt;%
  addTerminator()
leaf

</code></pre>

<hr>
<h2 id='atlStorms2005'>Atlantic Ocean storms 2005</h2><span id='topic+atlStorms2005'></span>

<h3>Description</h3>

<p>Atlantic Ocean storms 2005
</p>


<h3>Format</h3>

<p><code>sp::SpatialLinesDataFrame</code>
</p>


<h3>Details</h3>

<p>This dataset contains storm tracks for selected storms
in the Atlantic Ocean basin for the year 2005
</p>

<hr>
<h2 id='awesomeIconList'>Make awesome-icon set</h2><span id='topic+awesomeIconList'></span>

<h3>Description</h3>

<p>Make awesome-icon set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>awesomeIconList(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="awesomeIconList_+3A_...">...</code></td>
<td>
<p>icons created from <code><a href="#topic+makeAwesomeIcon">makeAwesomeIcon</a>()</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
iconSet &lt;- awesomeIconList(
  home = makeAwesomeIcon(icon = "Home", library = "fa"),
  flag = makeAwesomeIcon(icon = "Flag", library = "fa")
)

iconSet[c("home", "flag")]
</code></pre>

<hr>
<h2 id='awesomeIcons'>Create a list of awesome icon data see
<a href="https://github.com/lennardv2/Leaflet.awesome-markers">https://github.com/lennardv2/Leaflet.awesome-markers</a></h2><span id='topic+awesomeIcons'></span>

<h3>Description</h3>

<p>An icon can be represented as a list of the form <code>list(icon, library,
...)</code>. This function is vectorized over its arguments to create a list of
icon data. Shorter argument values will be re-cycled. <code>NULL</code> values for
these arguments will be ignored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>awesomeIcons(
  icon = "home",
  library = "glyphicon",
  markerColor = "blue",
  iconColor = "white",
  spin = FALSE,
  extraClasses = NULL,
  squareMarker = FALSE,
  iconRotate = 0,
  fontFamily = "monospace",
  text = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="awesomeIcons_+3A_icon">icon</code></td>
<td>
<p>Name of the icon</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_library">library</code></td>
<td>
<p>Which icon library. Default <code>"glyphicon"</code>, other possible
values are <code>"fa"</code> (fontawesome) or <code>"ion"</code> (ionicons).</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_markercolor">markerColor</code></td>
<td>
<p>Possible values are <code>"red"</code>, <code>"darkred"</code>, <code>"lightred"</code>, <code>"orange"</code>,
<code>"beige"</code>, <code>"green"</code>, <code>"darkgreen"</code>, <code>"lightgreen"</code>, <code>"blue"</code>,
<code>"darkblue"</code>, <code>"lightblue"</code>, <code>"purple"</code>, <code>"darkpurple"</code>, <code>"pink"</code>,
<code>"cadetblue"</code>, <code>"white"</code>, <code>"gray"</code>, <code>"lightgray"</code>, <code>"black"</code></p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_iconcolor">iconColor</code></td>
<td>
<p>The color to use for the icon itself. Use any CSS-valid
color (hex, rgba, etc.) or a named web color.</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_spin">spin</code></td>
<td>
<p>If <code>TRUE</code>, make the icon spin (only works when <code>library
= "fa"</code>)</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_extraclasses">extraClasses</code></td>
<td>
<p>Additional css classes to include on the icon.</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_squaremarker">squareMarker</code></td>
<td>
<p>Whether to use a square marker.</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_iconrotate">iconRotate</code></td>
<td>
<p>Rotate the icon by a given angle.</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_fontfamily">fontFamily</code></td>
<td>
<p>Used when <code>text</code> option is specified.</p>
</td></tr>
<tr><td><code id="awesomeIcons_+3A_text">text</code></td>
<td>
<p>Use this text string instead of an icon.
argument of <code><a href="#topic+addAwesomeMarkers">addAwesomeMarkers</a>()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of awesome-icon data that can be passed to the <code>icon</code>
</p>

<hr>
<h2 id='breweries91'>Selected breweries in Franconia</h2><span id='topic+breweries91'></span>

<h3>Description</h3>

<p>Selected breweries in Franconia (zip code starting with 91...)
</p>


<h3>Format</h3>

<p><code>sp::SpatialPointsDataFrame</code>
</p>


<h3>Details</h3>

<p>This dataset contains selected breweries in Franconia. It is a
subset of a larger database that was compiled by students at the
University of Marburg for a seminar called
&quot;The Geography of Beer, sustainability in the food industry&quot;
</p>

<hr>
<h2 id='colorNumeric'>Color mapping</h2><span id='topic+colorNumeric'></span><span id='topic+colorBin'></span><span id='topic+colorQuantile'></span><span id='topic+colorFactor'></span>

<h3>Description</h3>

<p>Conveniently maps data values (numeric or factor/character) to colors
according to a given palette, which can be provided in a variety of formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colorNumeric(
  palette,
  domain,
  na.color = "#808080",
  alpha = FALSE,
  reverse = FALSE
)

colorBin(
  palette,
  domain,
  bins = 7,
  pretty = TRUE,
  na.color = "#808080",
  alpha = FALSE,
  reverse = FALSE,
  right = FALSE
)

colorQuantile(
  palette,
  domain,
  n = 4,
  probs = seq(0, 1, length.out = n + 1),
  na.color = "#808080",
  alpha = FALSE,
  reverse = FALSE,
  right = FALSE
)

colorFactor(
  palette,
  domain,
  levels = NULL,
  ordered = FALSE,
  na.color = "#808080",
  alpha = FALSE,
  reverse = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colorNumeric_+3A_palette">palette</code></td>
<td>
<p>The colors or color function that values will be mapped to</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_domain">domain</code></td>
<td>
<p>The possible values that can be mapped.
</p>
<p>For <code>colorNumeric</code> and <code>colorBin</code>, this can be a simple numeric
range (e.g. <code>c(0, 100)</code>); <code>colorQuantile</code> needs representative
numeric data; and <code>colorFactor</code> needs categorical data.
</p>
<p>If <code>NULL</code>, then whenever the resulting color function is called, the
<code>x</code> value will represent the domain. This implies that if the function
is invoked multiple times, the encoding between values and colors may not
be consistent; if consistency is needed, you must provide a non-<code>NULL</code>
domain.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_na.color">na.color</code></td>
<td>
<p>The color to return for <code>NA</code> values. Note that
<code>na.color = NA</code> is valid.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_alpha">alpha</code></td>
<td>
<p>Whether alpha channels should be respected or ignored. If
<code>TRUE</code> then colors without explicit alpha information will be treated
as fully opaque.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_reverse">reverse</code></td>
<td>
<p>Whether the colors (or color function) in <code>palette</code>
should be used in reverse order. For example, if the default order of a
palette goes from blue to green, then <code>reverse = TRUE</code> will result in
the colors going from green to blue.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_bins">bins</code></td>
<td>
<p>Either a numeric vector of two or more unique cut points or a
single number (greater than or equal to 2) giving the number of intervals
into which the domain values are to be cut.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_pretty">pretty</code></td>
<td>
<p>Whether to use the function <code><a href="base.html#topic+pretty">pretty</a>()</code> to generate
the bins when the argument <code>bins</code> is a single number. When
<code>pretty = TRUE</code>, the actual number of bins may not be the number of
bins you specified. When <code>pretty = FALSE</code>, <code><a href="base.html#topic+seq">seq</a>()</code> is used
to generate the bins and the breaks may not be &quot;pretty&quot;.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_right">right</code></td>
<td>
<p>parameter supplied to cut. See Details</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_n">n</code></td>
<td>
<p>Number of equal-size quantiles desired. For more precise control,
use the <code>probs</code> argument instead.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_probs">probs</code></td>
<td>
<p>See <code><a href="stats.html#topic+quantile">quantile</a></code>. If provided, the <code>n</code>
argument is ignored.</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_levels">levels</code></td>
<td>
<p>An alternate way of specifying levels; if specified, domain is
ignored</p>
</td></tr>
<tr><td><code id="colorNumeric_+3A_ordered">ordered</code></td>
<td>
<p>If <code>TRUE</code> and <code>domain</code> needs to be coerced to a
factor, treat it as already in the correct order</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>colorNumeric</code> is a simple linear mapping from continuous numeric data
to an interpolated palette.
</p>
<p><code>colorBin</code> also maps continuous numeric data, but performs
binning based on value (see the <code><a href="base.html#topic+cut">cut</a></code> function). <code>colorBin</code>
defaults for the <code><a href="base.html#topic+cut">cut</a></code> function are <code>include.lowest
  = TRUE</code> and <code>right = FALSE</code>.
</p>
<p><code>colorQuantile</code> similarly bins numeric data, but via the
<code><a href="stats.html#topic+quantile">quantile</a></code> function.
</p>
<p><code>colorFactor</code> maps factors to colors. If the palette is
discrete and has a different number of colors than the number of factors,
interpolation is used.
</p>
<p>The <code>palette</code> argument can be any of the following:
</p>

<ol>
<li><p>A character vector of RGB or named colors. Examples: <code>palette()</code>, <code>c("#000000", "#0000FF", "#FFFFFF")</code>, <code>topo.colors(10)</code>
</p>
</li>
<li><p>The name of an RColorBrewer palette, e.g. <code>"BuPu"</code> or <code>"Greens"</code>.
</p>
</li>
<li><p>The full name of a viridis palette: <code>"viridis"</code>, <code>"magma"</code>, <code>"inferno"</code>, or <code>"plasma"</code>.
</p>
</li>
<li><p>A function that receives a single value between 0 and 1 and returns a color. Examples: <code>colorRamp(c("#000000", "#FFFFFF"), interpolate = "spline")</code>.
</p>
</li></ol>



<h3>Value</h3>

<p>A function that takes a single parameter <code>x</code>; when called with a
vector of numbers (except for <code>colorFactor</code>, which expects
factors/characters), #RRGGBB color strings are returned (unless
<code>alpha = TRUE</code> in which case #RRGGBBAA may also be possible).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pal &lt;- colorBin("Greens", domain = 0:100)
pal(runif(10, 60, 100))

if (interactive()) {
  # Exponential distribution, mapped continuously
  previewColors(colorNumeric("Blues", domain = NULL), sort(rexp(16)))
  # Exponential distribution, mapped by interval
  previewColors(colorBin("Blues", domain = NULL, bins = 4), sort(rexp(16)))
  # Exponential distribution, mapped by quantile
  previewColors(colorQuantile("Blues", domain = NULL), sort(rexp(16)))

  # Categorical data; by default, the values being colored span the gamut...
  previewColors(colorFactor("RdYlBu", domain = NULL), LETTERS[1:5])
  # ...unless the data is a factor, without droplevels...
  previewColors(colorFactor("RdYlBu", domain = NULL), factor(LETTERS[1:5], levels = LETTERS))
  # ...or the domain is stated explicitly.
  previewColors(colorFactor("RdYlBu", levels = LETTERS), LETTERS[1:5])
}
</code></pre>

<hr>
<h2 id='createLeafletMap'>Legacy functions</h2><span id='topic+createLeafletMap'></span><span id='topic+leafletMap'></span>

<h3>Description</h3>

<p>These functions are provided for backwards compatibility with the first
iteration of the leaflet bindings
(<a href="https://github.com/jcheng5/leaflet-shiny">https://github.com/jcheng5/leaflet-shiny</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createLeafletMap(session, outputId)

leafletMap(
  outputId,
  width,
  height,
  initialTileLayer = "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
  initialTileLayerAttribution = NULL,
  options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createLeafletMap_+3A_session">session</code>, <code id="createLeafletMap_+3A_outputid">outputId</code></td>
<td>
<p>Deprecated</p>
</td></tr>
<tr><td><code id="createLeafletMap_+3A_width">width</code>, <code id="createLeafletMap_+3A_height">height</code>, <code id="createLeafletMap_+3A_initialtilelayer">initialTileLayer</code>, <code id="createLeafletMap_+3A_initialtilelayerattribution">initialTileLayerAttribution</code>, <code id="createLeafletMap_+3A_options">options</code></td>
<td>
<p>Deprecated</p>
</td></tr>
</table>

<hr>
<h2 id='derivePoints'>Given a data object and lng/lat arguments (which may be NULL [meaning infer
from data], formula [which should be evaluated with respect to the data], or
vector data [which should be used as-is]) return a lng/lat data frame.</h2><span id='topic+derivePoints'></span>

<h3>Description</h3>

<p>Given a data object and lng/lat arguments (which may be NULL [meaning infer
from data], formula [which should be evaluated with respect to the data], or
vector data [which should be used as-is]) return a lng/lat data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>derivePoints(
  data,
  lng = NULL,
  lat = NULL,
  missingLng = missing(lng),
  missingLat = missing(lat),
  funcName = "f"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="derivePoints_+3A_data">data</code></td>
<td>
<p>map data</p>
</td></tr>
<tr><td><code id="derivePoints_+3A_lng">lng</code></td>
<td>
<p>longitude</p>
</td></tr>
<tr><td><code id="derivePoints_+3A_lat">lat</code></td>
<td>
<p>latitude</p>
</td></tr>
<tr><td><code id="derivePoints_+3A_missinglng">missingLng</code></td>
<td>
<p>whether lng is missing</p>
</td></tr>
<tr><td><code id="derivePoints_+3A_missinglat">missingLat</code></td>
<td>
<p>whether lat is missing</p>
</td></tr>
<tr><td><code id="derivePoints_+3A_funcname">funcName</code></td>
<td>
<p>Name of calling function (for logging)</p>
</td></tr>
</table>

<hr>
<h2 id='derivePolygons'>Given a data object and lng/lat arguments (which may be NULL [meaning infer
from data], formula [which should be evaluated with respect to the data], or
vector data [which should be used as-is]) return a spatial object</h2><span id='topic+derivePolygons'></span>

<h3>Description</h3>

<p>Given a data object and lng/lat arguments (which may be NULL [meaning infer
from data], formula [which should be evaluated with respect to the data], or
vector data [which should be used as-is]) return a spatial object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>derivePolygons(
  data,
  lng = NULL,
  lat = NULL,
  missingLng = missing(lng),
  missingLat = missing(lat),
  funcName = "f"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="derivePolygons_+3A_data">data</code></td>
<td>
<p>map data</p>
</td></tr>
<tr><td><code id="derivePolygons_+3A_lng">lng</code></td>
<td>
<p>longitude</p>
</td></tr>
<tr><td><code id="derivePolygons_+3A_lat">lat</code></td>
<td>
<p>latitude</p>
</td></tr>
<tr><td><code id="derivePolygons_+3A_missinglng">missingLng</code></td>
<td>
<p>whether lng is missing</p>
</td></tr>
<tr><td><code id="derivePolygons_+3A_missinglat">missingLat</code></td>
<td>
<p>whether lat is missing</p>
</td></tr>
<tr><td><code id="derivePolygons_+3A_funcname">funcName</code></td>
<td>
<p>Name of calling function (for logging)</p>
</td></tr>
</table>

<hr>
<h2 id='dispatch'>Extension points for plugins</h2><span id='topic+dispatch'></span><span id='topic+invokeMethod'></span>

<h3>Description</h3>

<p>Extension points for plugins
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dispatch(
  map,
  funcName,
  leaflet = stop(paste(funcName, "requires a map proxy object")),
  leaflet_proxy = stop(paste(funcName, "does not support map proxy objects"))
)

invokeMethod(map, data, method, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dispatch_+3A_map">map</code></td>
<td>
<p>a map object, as returned from <code><a href="#topic+leaflet">leaflet</a></code> or
<code><a href="#topic+leafletProxy">leafletProxy</a></code></p>
</td></tr>
<tr><td><code id="dispatch_+3A_funcname">funcName</code></td>
<td>
<p>the name of the function that the user called that caused
this <code>dispatch</code> call; for error message purposes</p>
</td></tr>
<tr><td><code id="dispatch_+3A_leaflet">leaflet</code></td>
<td>
<p>an action to be performed if the map is from
<code><a href="#topic+leaflet">leaflet</a></code></p>
</td></tr>
<tr><td><code id="dispatch_+3A_leaflet_proxy">leaflet_proxy</code></td>
<td>
<p>an action to be performed if the map is from
<code><a href="#topic+leafletProxy">leafletProxy</a></code></p>
</td></tr>
<tr><td><code id="dispatch_+3A_data">data</code></td>
<td>
<p>a data object that will be used when evaluating formulas in
<code>...</code></p>
</td></tr>
<tr><td><code id="dispatch_+3A_method">method</code></td>
<td>
<p>the name of the JavaScript method to invoke</p>
</td></tr>
<tr><td><code id="dispatch_+3A_...">...</code></td>
<td>
<p>unnamed arguments to be passed to the JavaScript method</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>dispatch</code> returns the value of <code>leaflet</code> or
<code>leaflet_proxy</code>, or an error. <code>invokeMethod</code> returns the
<code>map</code> object that was passed in, possibly modified.
</p>

<hr>
<h2 id='easyButtonState'>Create an easyButton statestate</h2><span id='topic+easyButtonState'></span><span id='topic+easyButton'></span><span id='topic+addEasyButton'></span><span id='topic+addEasyButtonBar'></span>

<h3>Description</h3>

<p>Create an easyButton statestate
</p>
<p>Creates an easy button.
</p>
<p>Add a EasyButton on the map
see <a href="https://github.com/CliffCloud/Leaflet.EasyButton">https://github.com/CliffCloud/Leaflet.EasyButton</a>
</p>
<p>Add a easyButton bar on the map
see <a href="https://github.com/CliffCloud/Leaflet.EasyButton">https://github.com/CliffCloud/Leaflet.EasyButton</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>easyButtonState(stateName, icon, title, onClick)

easyButton(
  icon = NULL,
  title = NULL,
  onClick = NULL,
  position = "topleft",
  id = NULL,
  states = NULL
)

addEasyButton(map, button)

addEasyButtonBar(map, ..., position = "topleft", id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="easyButtonState_+3A_statename">stateName</code></td>
<td>
<p>a unique name for the state</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_icon">icon</code></td>
<td>
<p>the button icon</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_title">title</code></td>
<td>
<p>text to show on hover</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_onclick">onClick</code></td>
<td>
<p>the action to take</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_position">position</code></td>
<td>
<p>topleft|topright|bottomleft|bottomright</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_id">id</code></td>
<td>
<p>id for the button</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_states">states</code></td>
<td>
<p>the states</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_map">map</code></td>
<td>
<p>a map widget object</p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_button">button</code></td>
<td>
<p>the button object created with <code><a href="#topic+easyButton">easyButton</a></code></p>
</td></tr>
<tr><td><code id="easyButtonState_+3A_...">...</code></td>
<td>
<p>a list of buttons created with <code><a href="#topic+easyButton">easyButton</a></code></p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>easyButtonState()</code>: state of an easyButton.
</p>
</li>
<li> <p><code>addEasyButton()</code>: add an EasyButton to the map
</p>
</li>
<li> <p><code>addEasyButtonBar()</code>: add an EasyButton to the map
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+easyButton">easyButton</a></code>
</p>
<p><a href="https://github.com/CliffCloud/Leaflet.EasyButton">https://github.com/CliffCloud/Leaflet.EasyButton</a>
</p>
<p><code><a href="#topic+addEasyButton">addEasyButton</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>leaf &lt;- leaflet() %&gt;%
  addTiles() %&gt;%
  addEasyButton(easyButton(
     icon = htmltools::span(class = "star", htmltools::HTML("&amp;starf;")),
     onClick = JS("function(btn, map){ map.setZoom(1);}")))
leaf

leaf &lt;- leaflet() %&gt;%
  addTiles() %&gt;%
  addEasyButtonBar(
   easyButton(
     icon = htmltools::span(class = "star", htmltools::HTML("&amp;starf;")),
     onClick = JS("function(btn, map){ alert(\"Button 1\");}")),
   easyButton(
     icon = htmltools::span(class = "star", htmltools::HTML("&amp;target;")),
     onClick = JS("function(btn, map){ alert(\"Button 2\");}")))
leaf


</code></pre>

<hr>
<h2 id='evalFormula'>Evaluate list members that are formulae, using the map data as the environment
(if provided, otherwise the formula environment)</h2><span id='topic+evalFormula'></span>

<h3>Description</h3>

<p>Evaluate list members that are formulae, using the map data as the environment
(if provided, otherwise the formula environment)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evalFormula(list, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evalFormula_+3A_list">list</code></td>
<td>
<p>with members as formulae</p>
</td></tr>
<tr><td><code id="evalFormula_+3A_data">data</code></td>
<td>
<p>map data</p>
</td></tr>
</table>

<hr>
<h2 id='expandLimits'>Notifies the map of new latitude/longitude of items of interest on the map</h2><span id='topic+expandLimits'></span>

<h3>Description</h3>

<p>Notifies the map of new latitude/longitude of items of interest on the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expandLimits(map, lat, lng)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expandLimits_+3A_map">map</code></td>
<td>
<p>map object</p>
</td></tr>
<tr><td><code id="expandLimits_+3A_lat">lat</code></td>
<td>
<p>vector of latitudes</p>
</td></tr>
<tr><td><code id="expandLimits_+3A_lng">lng</code></td>
<td>
<p>vector of longitudes</p>
</td></tr>
</table>

<hr>
<h2 id='expandLimitsBbox'>Same as expandLimits, but takes a polygon (that presumably has a bbox attr)
rather than lat/lng.</h2><span id='topic+expandLimitsBbox'></span>

<h3>Description</h3>

<p>Same as expandLimits, but takes a polygon (that presumably has a bbox attr)
rather than lat/lng.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expandLimitsBbox(map, poly)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expandLimitsBbox_+3A_map">map</code></td>
<td>
<p>map object</p>
</td></tr>
<tr><td><code id="expandLimitsBbox_+3A_poly">poly</code></td>
<td>
<p>A spatial object representing a polygon.</p>
</td></tr>
</table>

<hr>
<h2 id='filterNULL'>remove NULL elements from a list</h2><span id='topic+filterNULL'></span>

<h3>Description</h3>

<p>remove NULL elements from a list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filterNULL(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterNULL_+3A_x">x</code></td>
<td>
<p>A list whose NULL elements will be filtered</p>
</td></tr>
</table>

<hr>
<h2 id='gadmCHE'>Administrative borders of Switzerland (level 1)</h2><span id='topic+gadmCHE'></span>

<h3>Description</h3>

<p>Administrative borders of Switzerland (level 1)
</p>


<h3>Format</h3>

<p><code>sp::SpatialPolygonsDataFrame</code>
</p>


<h3>Details</h3>

<p>This dataset comes from <a href="https://gadm.org">https://gadm.org</a>.
It was downloaded using <code><a href="nlme.html#topic+getData">getData</a></code>.
</p>


<h3>Source</h3>

<p><a href="https://gadm.org">https://gadm.org</a>
</p>

<hr>
<h2 id='getMapData'>returns the map's data</h2><span id='topic+getMapData'></span>

<h3>Description</h3>

<p>returns the map's data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMapData(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMapData_+3A_map">map</code></td>
<td>
<p>the map</p>
</td></tr>
</table>

<hr>
<h2 id='groupOptions'>Set options on layer groups</h2><span id='topic+groupOptions'></span>

<h3>Description</h3>

<p>Change options on layer groups. Currently the only option is to control what
zoom levels a layer group will be displayed at. The <code>zoomLevels</code> option
is not compatible with <a href="#topic+addLayersControl">layers control</a>; do not both
assign a group to zoom levels and use it with <code>addLayersControl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>groupOptions(map, group, zoomLevels = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="groupOptions_+3A_map">map</code></td>
<td>
<p>the map to modify</p>
</td></tr>
<tr><td><code id="groupOptions_+3A_group">group</code></td>
<td>
<p>character vector of one or more group names to set options on</p>
</td></tr>
<tr><td><code id="groupOptions_+3A_zoomlevels">zoomLevels</code></td>
<td>
<p>numeric vector of zoom levels at which group(s) should be
visible, or <code>TRUE</code> to display at all zoom levels</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>pal &lt;- colorQuantile("YlOrRd", quakes$mag)

leaflet() %&gt;%
  # Basic markers
  addTiles(group = "basic") %&gt;%
  addMarkers(data = quakes, group = "basic") %&gt;%
  # When zoomed in, we'll show circles at the base of each marker whose
  # radius and color reflect the magnitude
  addProviderTiles(providers$Stamen.TonerLite, group = "detail") %&gt;%
  addCircleMarkers(data = quakes, group = "detail", fillOpacity = 0.5,
    radius = ~mag * 5, color = ~pal(mag), stroke = FALSE) %&gt;%
  # Set the detail group to only appear when zoomed in
  groupOptions("detail", zoomLevels = 7:18)

</code></pre>

<hr>
<h2 id='iconList'>Make icon set</h2><span id='topic+iconList'></span>

<h3>Description</h3>

<p>Make icon set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iconList(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iconList_+3A_...">...</code></td>
<td>
<p>icons created from <code><a href="#topic+makeIcon">makeIcon</a>()</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
iconSet &lt;- iconList(
  red = makeIcon("leaf-red.png", iconWidth = 32, iconHeight = 32),
  green = makeIcon("leaf-green.png", iconWidth = 32, iconHeight = 32)
)

iconSet[c("red", "green", "red")]
</code></pre>

<hr>
<h2 id='icons'>Create a list of icon data</h2><span id='topic+icons'></span>

<h3>Description</h3>

<p>An icon can be represented as a list of the form <code>list(iconUrl,
iconSize, ...)</code>. This function is vectorized over its arguments to create a
list of icon data. Shorter argument values will be re-cycled. <code>NULL</code>
values for these arguments will be ignored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icons(
  iconUrl = NULL,
  iconRetinaUrl = NULL,
  iconWidth = NULL,
  iconHeight = NULL,
  iconAnchorX = NULL,
  iconAnchorY = NULL,
  shadowUrl = NULL,
  shadowRetinaUrl = NULL,
  shadowWidth = NULL,
  shadowHeight = NULL,
  shadowAnchorX = NULL,
  shadowAnchorY = NULL,
  popupAnchorX = NULL,
  popupAnchorY = NULL,
  className = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="icons_+3A_iconurl">iconUrl</code></td>
<td>
<p>the URL or file path to the icon image</p>
</td></tr>
<tr><td><code id="icons_+3A_iconretinaurl">iconRetinaUrl</code></td>
<td>
<p>the URL or file path to a retina sized version of the
icon image</p>
</td></tr>
<tr><td><code id="icons_+3A_iconwidth">iconWidth</code>, <code id="icons_+3A_iconheight">iconHeight</code></td>
<td>
<p>size of the icon image in pixels</p>
</td></tr>
<tr><td><code id="icons_+3A_iconanchorx">iconAnchorX</code>, <code id="icons_+3A_iconanchory">iconAnchorY</code></td>
<td>
<p>the coordinates of the &quot;tip&quot; of the icon
(relative to its top left corner, i.e. the top left corner means
<code>iconAnchorX = 0</code> and <code>iconAnchorY = 0</code>), and the icon will be
aligned so that this point is at the marker's geographical location</p>
</td></tr>
<tr><td><code id="icons_+3A_shadowurl">shadowUrl</code></td>
<td>
<p>the URL or file path to the icon shadow image</p>
</td></tr>
<tr><td><code id="icons_+3A_shadowretinaurl">shadowRetinaUrl</code></td>
<td>
<p>the URL or file path to the retina sized version of
the icon shadow image</p>
</td></tr>
<tr><td><code id="icons_+3A_shadowwidth">shadowWidth</code>, <code id="icons_+3A_shadowheight">shadowHeight</code></td>
<td>
<p>size of the shadow image in pixels</p>
</td></tr>
<tr><td><code id="icons_+3A_shadowanchorx">shadowAnchorX</code>, <code id="icons_+3A_shadowanchory">shadowAnchorY</code></td>
<td>
<p>the coordinates of the &quot;tip&quot; of the shadow</p>
</td></tr>
<tr><td><code id="icons_+3A_popupanchorx">popupAnchorX</code>, <code id="icons_+3A_popupanchory">popupAnchorY</code></td>
<td>
<p>the coordinates of the point from which
popups will &quot;open&quot;, relative to the icon anchor</p>
</td></tr>
<tr><td><code id="icons_+3A_classname">className</code></td>
<td>
<p>a custom class name to assign to both icon and shadow images</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of icon data that can be passed to the <code>icon</code> argument of
<code><a href="#topic+addMarkers">addMarkers</a>()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)

# adapted from https://leafletjs.com/examples/custom-icons.html

iconData &lt;- data.frame(
  lat = c(rnorm(10, 0), rnorm(10, 1), rnorm(10, 2)),
  lng = c(rnorm(10, 0), rnorm(10, 3), rnorm(10, 6)),
  group = rep(sort(c("green", "red", "orange")), each = 10),
  stringsAsFactors = FALSE
)

leaflet() %&gt;% addMarkers(
  data = iconData,
  icon = ~ icons(
    iconUrl = sprintf("https://leafletjs.com/examples/custom-icons/leaf-%s.png", group),
    shadowUrl = "https://leafletjs.com/examples/custom-icons/leaf-shadow.png",
    iconWidth = 38, iconHeight = 95, shadowWidth = 50, shadowHeight = 64,
    iconAnchorX = 22, iconAnchorY = 94, shadowAnchorX = 4, shadowAnchorY = 62,
    popupAnchorX = -3, popupAnchorY = -76
  )
)



# use point symbols from base R graphics as icons
pchIcons &lt;- function(pch = 0:14, width = 30, height = 30, ...) {
  n &lt;- length(pch)
  files &lt;- character(n)
  # create a sequence of png images
  for (i in seq_len(n)) {
    f &lt;- tempfile(fileext = ".png")
    png(f, width = width, height = height, bg = "transparent")
    par(mar = c(0, 0, 0, 0))
    plot.new()
    points(.5, .5, pch = pch[i], cex = min(width, height) / 8, ...)
    dev.off()
    files[i] &lt;- f
  }
  files
}

iconData &lt;- matrix(rnorm(500), ncol = 2)
res &lt;- kmeans(iconData, 10)
iconData &lt;- cbind(iconData, res$cluster)
colnames(iconData) &lt;- c("lat", "lng", "group")
iconData &lt;- as.data.frame(iconData)

# 10 random point shapes for the 10 clusters in iconData
shapes &lt;- sample(0:14, 10)
iconFiles &lt;- pchIcons(shapes, 40, 40, col = "steelblue", lwd = 2)

# note the data has 250 rows, and there are 10 icons in iconFiles; they are
# connected by the `group` variable: the i-th row of iconData uses the
# group[i]-th icon in the icon list
leaflet() %&gt;% addMarkers(
  data = iconData,
  icon = ~ icons(
    iconUrl = iconFiles[group],
    popupAnchorX = 20, popupAnchorY = 0
  ),
  popup = ~ sprintf(
    "lat = %.4f, long = %.4f, group = %s, pch = %s", lat, lng, group, shapes[group]
  )
)

unlink(iconFiles)  # clean up the tmp png files that have been embedded


</code></pre>

<hr>
<h2 id='leaflet'>Create a Leaflet map widget</h2><span id='topic+leaflet'></span><span id='topic+leafletOptions'></span><span id='topic+leafletCRS'></span>

<h3>Description</h3>

<p>This function creates a Leaflet map widget using <span class="pkg">htmlwidgets</span>. The
widget can be rendered on HTML pages generated from R Markdown, Shiny, or
other applications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>leaflet(
  data = NULL,
  width = NULL,
  height = NULL,
  padding = 0,
  options = leafletOptions(),
  elementId = NULL,
  sizingPolicy = leafletSizingPolicy(padding = padding)
)

leafletOptions(
  minZoom = NULL,
  maxZoom = NULL,
  crs = leafletCRS(),
  worldCopyJump = NULL,
  preferCanvas = NULL,
  ...
)

leafletCRS(
  crsClass = "L.CRS.EPSG3857",
  code = NULL,
  proj4def = NULL,
  projectedBounds = NULL,
  origin = NULL,
  transformation = NULL,
  scales = NULL,
  resolutions = NULL,
  bounds = NULL,
  tileSize = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="leaflet_+3A_data">data</code></td>
<td>
<p>a data object. Currently supported objects are matrix, data
frame, spatial data from the <span class="pkg">sf</span> package,
<code>SpatVector</code> from the <span class="pkg">terra</span> package, and the Spatial*
objects from the <span class="pkg">sp</span> package that represent points, lines, or polygons.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_width">width</code></td>
<td>
<p>the width of the map</p>
</td></tr>
<tr><td><code id="leaflet_+3A_height">height</code></td>
<td>
<p>the height of the map</p>
</td></tr>
<tr><td><code id="leaflet_+3A_padding">padding</code></td>
<td>
<p>the padding of the map</p>
</td></tr>
<tr><td><code id="leaflet_+3A_options">options</code></td>
<td>
<p>the map options</p>
</td></tr>
<tr><td><code id="leaflet_+3A_elementid">elementId</code></td>
<td>
<p>Use an explicit element ID for the widget
(rather than an automatically generated one).</p>
</td></tr>
<tr><td><code id="leaflet_+3A_sizingpolicy">sizingPolicy</code></td>
<td>
<p>htmlwidgets sizing policy object. Defaults to <code><a href="#topic+leafletSizingPolicy">leafletSizingPolicy</a>()</code></p>
</td></tr>
<tr><td><code id="leaflet_+3A_minzoom">minZoom</code></td>
<td>
<p>Minimum zoom level of the map. Overrides any minZoom set on map layers.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_maxzoom">maxZoom</code></td>
<td>
<p>Maximum zoom level of the map. This overrides any maxZoom set on map layers.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_crs">crs</code></td>
<td>
<p>Coordinate Reference System to use. Don't change this if you're not sure what it means.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_worldcopyjump">worldCopyJump</code></td>
<td>
<p>With this option enabled, the map tracks when you pan to another &quot;copy&quot; of the world and seamlessly jumps to the original one so that all overlays like markers and vector layers are still visible.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_prefercanvas">preferCanvas</code></td>
<td>
<p>Whether leaflet.js Paths should be rendered on a Canvas renderer.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_...">...</code></td>
<td>
<p>other options used for leaflet.js map creation.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_crsclass">crsClass</code></td>
<td>
<p>One of L.CRS.EPSG3857, L.CRS.EPSG4326, L.CRS.EPSG3395,
L.CRS.Simple, L.Proj.CRS</p>
</td></tr>
<tr><td><code id="leaflet_+3A_code">code</code></td>
<td>
<p>CRS identifier</p>
</td></tr>
<tr><td><code id="leaflet_+3A_proj4def">proj4def</code></td>
<td>
<p>Proj4 string</p>
</td></tr>
<tr><td><code id="leaflet_+3A_projectedbounds">projectedBounds</code></td>
<td>
<p>DEPRECATED! Use the bounds argument.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_origin">origin</code></td>
<td>
<p>Origin in projected coordinates, if set overrides transformation option.</p>
</td></tr>
<tr><td><code id="leaflet_+3A_transformation">transformation</code></td>
<td>
<p>to use when transforming projected coordinates into pixel coordinates</p>
</td></tr>
<tr><td><code id="leaflet_+3A_scales">scales</code></td>
<td>
<p>Scale factors (pixels per projection unit, for example pixels/meter)
for zoom levels; specify either scales or resolutions, not both</p>
</td></tr>
<tr><td><code id="leaflet_+3A_resolutions">resolutions</code></td>
<td>
<p>factors (projection units per pixel, for example meters/pixel)
for zoom levels; specify either scales or resolutions, not both</p>
</td></tr>
<tr><td><code id="leaflet_+3A_bounds">bounds</code></td>
<td>
<p>Bounds of the CRS, in projected coordinates; if defined,
Proj4Leaflet will use this in the getSize method, otherwise
defaulting to Leaflet's default CRS size</p>
</td></tr>
<tr><td><code id="leaflet_+3A_tilesize">tileSize</code></td>
<td>
<p>DEPRECATED! Specify the tilesize in the <code><a href="#topic+tileOptions">tileOptions</a>()</code> argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>data</code> argument is only needed if you are going to reference
variables in this object later in map layers. For example, <code>data</code> can be
a data frame containing columns <code>latitude</code> and <code>longtitude</code>, then
we may add a circle layer to the map by <code>leaflet(data) %&gt;%
addCircles(lat = ~latitude, lng = ~longtitude)</code>, where the variables in the
formulae will be evaluated in the <code>data</code>.
</p>


<h3>Value</h3>

<p>A HTML widget object, on which we can add graphics layers using
<code>%&gt;%</code> (see examples).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>leafletOptions()</code>: Options for map creation
</p>
</li>
<li> <p><code>leafletCRS()</code>: class to create a custom CRS
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+leafletCRS">leafletCRS</a></code> for creating a custom CRS.
</p>
<p>See <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#map-option">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#map-option</a> for details and more options.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># !formatR
library(leaflet)
m &lt;- leaflet() %&gt;% addTiles()
m  # a map with the default OSM tile layer


# set bounds
m %&gt;% fitBounds(0, 40, 10, 50)

# move the center to Snedecor Hall
m &lt;- m %&gt;% setView(-93.65, 42.0285, zoom = 17)
m

# popup
m %&gt;% addPopups(-93.65, 42.0285, "Here is the &lt;b&gt;Department of Statistics&lt;/b&gt;, ISU")
rand_lng &lt;- function(n = 10) rnorm(n, -93.65, .01)
rand_lat &lt;- function(n = 10) rnorm(n, 42.0285, .01)

# use automatic bounds derived from lng/lat data
m &lt;- m %&gt;% clearBounds()

# popup
m %&gt;% addPopups(rand_lng(), rand_lat(), "Random popups")

# marker
m %&gt;% addMarkers(rand_lng(), rand_lat())
m %&gt;% addMarkers(
  rand_lng(), rand_lat(), popup = paste("A random letter", sample(LETTERS, 10))
)

Rlogo &lt;- file.path(R.home("doc"), "html", "logo.jpg")
m %&gt;% addMarkers(
  174.7690922, -36.8523071, icon = list(
    iconUrl = Rlogo, iconSize = c(100, 76)
  ), popup = "R was born here!"
)

m %&gt;% addMarkers(rnorm(30, 175), rnorm(30, -37), icon = list(
  iconUrl = Rlogo, iconSize = c(25, 19)
))

# circle (units in metres)
m %&gt;% addCircles(rand_lng(50), rand_lat(50), radius = runif(50, 50, 150))

# circle marker (units in pixels)
m %&gt;% addCircleMarkers(rand_lng(50), rand_lat(50), color = "#ff0000")
m %&gt;% addCircleMarkers(rand_lng(100), rand_lat(100), radius = runif(100, 5, 15))

# rectangle
m %&gt;% addRectangles(
  rand_lng(), rand_lat(), rand_lng(), rand_lat(),
  color = "red", fill = FALSE, dashArray = "5,5", weight = 3
)

# polyline
m %&gt;% addPolylines(rand_lng(50), rand_lat(50))

# polygon
m %&gt;% addPolygons(rand_lng(), rand_lat(), layerId = "foo")

# geoJSON
seattle_geojson &lt;- list(
  type = "Feature",
  geometry = list(
    type = "MultiPolygon",
    coordinates = list(list(list(
      c(-122.36075812146,  47.6759920119894),
      c(-122.360781646764, 47.6668890126755),
      c(-122.360782108665,  47.6614990696722),
      c(-122.366199035722, 47.6614990696722),
      c(-122.366199035722,  47.6592874248973),
      c(-122.364582509469, 47.6576254522105),
      c(-122.363887331445,  47.6569107302038),
      c(-122.360865528129, 47.6538418253251),
      c(-122.360866157644,  47.6535254473167),
      c(-122.360866581103, 47.6533126275176),
      c(-122.362526540691,  47.6541872926348),
      c(-122.364442114483, 47.6551892850798),
      c(-122.366077719797,  47.6560733960606),
      c(-122.368818463838, 47.6579742346694),
      c(-122.370115159943,  47.6588730808334),
      c(-122.372295967029, 47.6604350102328),
      c(-122.37381369088,  47.660582362063),
      c(-122.375522972109, 47.6606413027949),
      c(-122.376079703095,  47.6608793094619),
      c(-122.376206315662, 47.6609242364243),
      c(-122.377610811371,  47.6606160735197),
      c(-122.379857378879, 47.6610306942278),
      c(-122.382454873022,  47.6627496239169),
      c(-122.385357955057, 47.6638573778241),
      c(-122.386007328104,  47.6640865692306),
      c(-122.387186331506, 47.6654326177161),
      c(-122.387802656231,  47.6661492860294),
      c(-122.388108244121, 47.6664548739202),
      c(-122.389177800763,  47.6663784774359),
      c(-122.390582858689, 47.6665072251861),
      c(-122.390793942299,  47.6659699214511),
      c(-122.391507906234, 47.6659200946229),
      c(-122.392883050767,  47.6664166747017),
      c(-122.392847210144, 47.6678696739431),
      c(-122.392904778401,  47.6709016021624),
      c(-122.39296705153, 47.6732047491624),
      c(-122.393000803496,  47.6759322346303),
      c(-122.37666945305, 47.6759896300663),
      c(-122.376486363943,  47.6759891899754),
      c(-122.366078869215, 47.6759641734893),
      c(-122.36075812146,  47.6759920119894)
    )))
  ),
  properties = list(
    name = "Ballard",
    population = 48000,
    # You can inline styles if you want
    style = list(
      fillColor = "yellow",
      weight = 2,
      color = "#000000"
    )
  ),
  id = "ballard"
)
m %&gt;% setView(-122.36075812146, 47.6759920119894, zoom = 13) %&gt;% addGeoJSON(seattle_geojson)


# use the Dark Matter layer from CartoDB
leaflet() %&gt;% addTiles("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",
  attribution = paste(
    "&amp;copy; &lt;a href=\"https://openstreetmap.org\"&gt;OpenStreetMap&lt;/a&gt; contributors",
    "&amp;copy; &lt;a href=\"https://cartodb.com/attributions\"&gt;CartoDB&lt;/a&gt;"
  )
) %&gt;% setView(-122.36, 47.67, zoom = 10)

# provide a data frame to leaflet()
categories &lt;- LETTERS[1:10]
df &lt;- data.frame(
  lat = rand_lat(100), lng = rand_lng(100), size = runif(100, 5, 20),
  category = factor(sample(categories, 100, replace = TRUE), levels = categories),
  value = rnorm(100)
)
m &lt;- leaflet(df) %&gt;% addTiles()
m %&gt;% addCircleMarkers(~lng, ~lat, radius = ~size)
m %&gt;% addCircleMarkers(~lng, ~lat, radius = runif(100, 4, 10), color = c("red"))

# Discrete colors using the "RdYlBu" colorbrewer palette, mapped to categories
RdYlBu &lt;- colorFactor("RdYlBu", domain = categories)
m %&gt;% addCircleMarkers(~lng, ~lat, radius = ~size,
  color = ~RdYlBu(category), fillOpacity = 0.5)

# Continuous colors using the "Greens" colorbrewer palette, mapped to value
greens &lt;- colorNumeric("Greens", domain = NULL)
m %&gt;% addCircleMarkers(~lng, ~lat, radius = ~size,
  color = ~greens(value), fillOpacity = 0.5)



</code></pre>

<hr>
<h2 id='leaflet-imports'>Objects imported from other packages</h2><span id='topic+JS'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links to their documentation.
</p>

<dl>
<dt>htmlwidgets</dt><dd><p><code><a href="htmlwidgets.html#topic+JS">JS</a></code></p>
</dd>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='leaflet-package'>leaflet: Create Interactive Web Maps with the JavaScript 'Leaflet' Library</h2><span id='topic+leaflet-package'></span>

<h3>Description</h3>

<p>Create and customize interactive maps using the 'Leaflet' JavaScript library and the 'htmlwidgets' package. These maps can be used directly from the R console, from 'RStudio', in Shiny applications and R Markdown documents.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Joe Cheng <a href="mailto:joe@posit.co">joe@posit.co</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Barret Schloerke <a href="mailto:barret@posit.co">barret@posit.co</a> (<a href="https://orcid.org/0000-0001-9986-114X">ORCID</a>)
</p>
</li>
<li><p> Bhaskar Karambelkar
</p>
</li>
<li><p> Yihui Xie
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Hadley Wickham [contributor]
</p>
</li>
<li><p> Kenton Russell [contributor]
</p>
</li>
<li><p> Kent Johnson [contributor]
</p>
</li>
<li><p> Vladimir Agafonkin (Leaflet library) [contributor, copyright holder]
</p>
</li>
<li><p> CloudMade (Leaflet library) [copyright holder]
</p>
</li>
<li><p> Leaflet contributors (Leaflet library) [contributor]
</p>
</li>
<li><p> Brandon Copeland (leaflet-measure plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Joerg Dietrich (Leaflet.Terminator plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Benjamin Becquet (Leaflet.MagnifyingGlass plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Norkart AS (Leaflet.MiniMap plugin) [contributor, copyright holder]
</p>
</li>
<li><p> L. Voogdt (Leaflet.awesome-markers plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Daniel Montague (Leaflet.EasyButton plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Kartena AB (Proj4Leaflet plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Robert Kajic (leaflet-locationfilter plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Mapbox (leaflet-omnivore plugin) [contributor, copyright holder]
</p>
</li>
<li><p> Michael Bostock (topojson) [contributor, copyright holder]
</p>
</li>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rstudio.github.io/leaflet/">https://rstudio.github.io/leaflet/</a>
</p>
</li>
<li> <p><a href="https://github.com/rstudio/leaflet">https://github.com/rstudio/leaflet</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rstudio/leaflet/issues">https://github.com/rstudio/leaflet/issues</a>
</p>
</li></ul>


<hr>
<h2 id='leafletDependencies'>Various leaflet dependency functions for use in downstream packages</h2><span id='topic+leafletDependencies'></span>

<h3>Description</h3>

<p>Various leaflet dependency functions for use in downstream packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>leafletDependencies
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 13.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addBootStrap &lt;- function(map) {
  map$dependencies &lt;- c(map$dependencies, leafletDependencies$bootstrap())
  map
}

## End(Not run)
</code></pre>

<hr>
<h2 id='leafletOutput'>Wrapper functions for using <span class="pkg">leaflet</span> in <span class="pkg">shiny</span></h2><span id='topic+leafletOutput'></span><span id='topic+renderLeaflet'></span>

<h3>Description</h3>

<p>Use <code>leafletOutput()</code> to create a UI element, and <code>renderLeaflet()</code>
to render the map widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>leafletOutput(outputId, width = "100%", height = 400)

renderLeaflet(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="leafletOutput_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="leafletOutput_+3A_width">width</code>, <code id="leafletOutput_+3A_height">height</code></td>
<td>
<p>the width and height of the map (see
<code><a href="htmlwidgets.html#topic+shinyWidgetOutput">shinyWidgetOutput</a></code>)</p>
</td></tr>
<tr><td><code id="leafletOutput_+3A_expr">expr</code></td>
<td>
<p>An expression that generates an HTML widget (or a
<a href="https://rstudio.github.io/promises/">promise</a> of an HTML widget).</p>
</td></tr>
<tr><td><code id="leafletOutput_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="leafletOutput_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># !formatR
library(shiny)
app &lt;- shinyApp(
  ui = fluidPage(leafletOutput('myMap')),
  server = function(input, output) {
    map = leaflet() %&gt;% addTiles() %&gt;% setView(-93.65, 42.0285, zoom = 17)
    output$myMap = renderLeaflet(map)
  }
)

if (interactive()) app
</code></pre>

<hr>
<h2 id='leafletProxy'>Send commands to a Leaflet instance in a Shiny app</h2><span id='topic+leafletProxy'></span>

<h3>Description</h3>

<p>Creates a map-like object that can be used to customize and control a map
that has already been rendered. For use in Shiny apps and Shiny docs only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>leafletProxy(
  mapId,
  session = shiny::getDefaultReactiveDomain(),
  data = NULL,
  deferUntilFlush = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="leafletProxy_+3A_mapid">mapId</code></td>
<td>
<p>single-element character vector indicating the output ID of the
map to modify (if invoked from a Shiny module, the namespace will be added
automatically)</p>
</td></tr>
<tr><td><code id="leafletProxy_+3A_session">session</code></td>
<td>
<p>the Shiny session object to which the map belongs; usually the
default value will suffice</p>
</td></tr>
<tr><td><code id="leafletProxy_+3A_data">data</code></td>
<td>
<p>a data object; see Details under the <code><a href="#topic+leaflet">leaflet</a></code> help
topic</p>
</td></tr>
<tr><td><code id="leafletProxy_+3A_deferuntilflush">deferUntilFlush</code></td>
<td>
<p>indicates whether actions performed against this
instance should be carried out right away, or whether they should be held
until after the next time all of the outputs are updated; defaults to
<code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally, you create a Leaflet map using the <code><a href="#topic+leaflet">leaflet</a></code> function.
This creates an in-memory representation of a map that you can customize
using functions like <code><a href="#topic+addPolygons">addPolygons</a></code> and <code><a href="#topic+setView">setView</a></code>.
Such a map can be printed at the R console, included in an R Markdown
document, or rendered as a Shiny output.
</p>
<p>In the case of Shiny, you may want to further customize a map, even after it
is rendered to an output. At this point, the in-memory representation of the
map is long gone, and the user's web browser has already realized the Leaflet
map instance.
</p>
<p>This is where <code>leafletProxy</code> comes in. It returns an object that can
stand in for the usual Leaflet map object. The usual map functions like
<code><a href="#topic+addPolygons">addPolygons</a></code> and <code><a href="#topic+setView">setView</a></code> can be called, and
instead of customizing an in-memory representation, these commands will
execute on the live Leaflet map instance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)

ui &lt;- fluidPage(
  leafletOutput("map1")
)

map &lt;- leaflet() %&gt;% addCircleMarkers(
  lng = runif(10),
  lat = runif(10),
  layerId = paste0("marker", 1:10))
server &lt;- function(input, output, session) {
  output$map1 &lt;- renderLeaflet(map)

  observeEvent(input$map1_marker_click, {
    leafletProxy("map1", session) %&gt;%
      removeMarker(input$map1_marker_click$id)
  })
}

app &lt;- shinyApp(ui, server)
if (interactive()) app

</code></pre>

<hr>
<h2 id='leafletSizingPolicy'>Leaflet sizing policy</h2><span id='topic+leafletSizingPolicy'></span>

<h3>Description</h3>

<p>Sizing policy used withing leaflet htmlwidgets.  All arguments are passed directly to <code>htmlwidgets::<a href="htmlwidgets.html#topic+sizingPolicy">sizingPolicy</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>leafletSizingPolicy(
  defaultWidth = "100%",
  defaultHeight = 400,
  padding = 0,
  browser.fill = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="leafletSizingPolicy_+3A_defaultwidth">defaultWidth</code></td>
<td>
<p>defaults to <code>"100%"</code> of the available width</p>
</td></tr>
<tr><td><code id="leafletSizingPolicy_+3A_defaultheight">defaultHeight</code></td>
<td>
<p>defaults to 400px tall</p>
</td></tr>
<tr><td><code id="leafletSizingPolicy_+3A_padding">padding</code></td>
<td>
<p>defaults to 0px</p>
</td></tr>
<tr><td><code id="leafletSizingPolicy_+3A_browser.fill">browser.fill</code></td>
<td>
<p>defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="leafletSizingPolicy_+3A_...">...</code></td>
<td>
<p>all other arguments supplied to <code>htmlwidgets::<a href="htmlwidgets.html#topic+sizingPolicy">sizingPolicy</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>htmlwidgets::sizingPolicy</code> object
</p>

<hr>
<h2 id='makeAwesomeIcon'>Make Awesome Icon</h2><span id='topic+makeAwesomeIcon'></span>

<h3>Description</h3>

<p>Make Awesome Icon
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeAwesomeIcon(
  icon = "home",
  library = "glyphicon",
  markerColor = "blue",
  iconColor = "white",
  spin = FALSE,
  extraClasses = NULL,
  squareMarker = FALSE,
  iconRotate = 0,
  fontFamily = "monospace",
  text = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeAwesomeIcon_+3A_icon">icon</code></td>
<td>
<p>Name of the icon</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_library">library</code></td>
<td>
<p>Which icon library. Default <code>"glyphicon"</code>, other possible
values are <code>"fa"</code> (fontawesome) or <code>"ion"</code> (ionicons).</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_markercolor">markerColor</code></td>
<td>
<p>Possible values are <code>"red"</code>, <code>"darkred"</code>, <code>"lightred"</code>, <code>"orange"</code>,
<code>"beige"</code>, <code>"green"</code>, <code>"darkgreen"</code>, <code>"lightgreen"</code>, <code>"blue"</code>,
<code>"darkblue"</code>, <code>"lightblue"</code>, <code>"purple"</code>, <code>"darkpurple"</code>, <code>"pink"</code>,
<code>"cadetblue"</code>, <code>"white"</code>, <code>"gray"</code>, <code>"lightgray"</code>, <code>"black"</code></p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_iconcolor">iconColor</code></td>
<td>
<p>The color to use for the icon itself. Use any CSS-valid
color (hex, rgba, etc.) or a named web color.</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_spin">spin</code></td>
<td>
<p>If <code>TRUE</code>, make the icon spin (only works when <code>library
= "fa"</code>)</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_extraclasses">extraClasses</code></td>
<td>
<p>Additional css classes to include on the icon.</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_squaremarker">squareMarker</code></td>
<td>
<p>Whether to use a square marker.</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_iconrotate">iconRotate</code></td>
<td>
<p>Rotate the icon by a given angle.</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_fontfamily">fontFamily</code></td>
<td>
<p>Used when <code>text</code> option is specified.</p>
</td></tr>
<tr><td><code id="makeAwesomeIcon_+3A_text">text</code></td>
<td>
<p>Use this text string instead of an icon.
argument of <code><a href="#topic+addAwesomeMarkers">addAwesomeMarkers</a>()</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='makeIcon'>Define icon sets</h2><span id='topic+makeIcon'></span>

<h3>Description</h3>

<p>Define icon sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeIcon(
  iconUrl = NULL,
  iconRetinaUrl = NULL,
  iconWidth = NULL,
  iconHeight = NULL,
  iconAnchorX = NULL,
  iconAnchorY = NULL,
  shadowUrl = NULL,
  shadowRetinaUrl = NULL,
  shadowWidth = NULL,
  shadowHeight = NULL,
  shadowAnchorX = NULL,
  shadowAnchorY = NULL,
  popupAnchorX = NULL,
  popupAnchorY = NULL,
  className = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeIcon_+3A_iconurl">iconUrl</code></td>
<td>
<p>the URL or file path to the icon image</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_iconretinaurl">iconRetinaUrl</code></td>
<td>
<p>the URL or file path to a retina sized version of the
icon image</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_iconwidth">iconWidth</code>, <code id="makeIcon_+3A_iconheight">iconHeight</code></td>
<td>
<p>size of the icon image in pixels</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_iconanchorx">iconAnchorX</code>, <code id="makeIcon_+3A_iconanchory">iconAnchorY</code></td>
<td>
<p>the coordinates of the &quot;tip&quot; of the icon
(relative to its top left corner, i.e. the top left corner means
<code>iconAnchorX = 0</code> and <code>iconAnchorY = 0</code>), and the icon will be
aligned so that this point is at the marker's geographical location</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_shadowurl">shadowUrl</code></td>
<td>
<p>the URL or file path to the icon shadow image</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_shadowretinaurl">shadowRetinaUrl</code></td>
<td>
<p>the URL or file path to the retina sized version of
the icon shadow image</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_shadowwidth">shadowWidth</code>, <code id="makeIcon_+3A_shadowheight">shadowHeight</code></td>
<td>
<p>size of the shadow image in pixels</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_shadowanchorx">shadowAnchorX</code>, <code id="makeIcon_+3A_shadowanchory">shadowAnchorY</code></td>
<td>
<p>the coordinates of the &quot;tip&quot; of the shadow</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_popupanchorx">popupAnchorX</code>, <code id="makeIcon_+3A_popupanchory">popupAnchorY</code></td>
<td>
<p>the coordinates of the point from which
popups will &quot;open&quot;, relative to the icon anchor</p>
</td></tr>
<tr><td><code id="makeIcon_+3A_classname">className</code></td>
<td>
<p>a custom class name to assign to both icon and shadow images</p>
</td></tr>
</table>

<hr>
<h2 id='mapOptions'>Set options on a leaflet map object</h2><span id='topic+mapOptions'></span>

<h3>Description</h3>

<p>Set options on a leaflet map object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapOptions(map, zoomToLimits = c("always", "first", "never"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapOptions_+3A_map">map</code></td>
<td>
<p>A map widget object created from <code><a href="#topic+leaflet">leaflet</a>()</code></p>
</td></tr>
<tr><td><code id="mapOptions_+3A_zoomtolimits">zoomToLimits</code></td>
<td>
<p>Controls whether the map is zooms to the limits of the
elements on the map. This is useful for interactive applications where the
map data is updated. If <code>"always"</code> (the default), the map always
re-zooms when new data is received; if <code>"first"</code>, it zooms to the
elements on the first rendering, but does not re-zoom for subsequent data;
if <code>"never"</code>, it never re-zooms, not even for the first rendering.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Don't auto-zoom to the objects (can be useful in interactive applications)
leaflet() %&gt;%
  addTiles() %&gt;%
  addPopups(174.7690922, -36.8523071, "R was born here!") %&gt;%
  mapOptions(zoomToLimits = "first")
</code></pre>

<hr>
<h2 id='previewColors'>Color previewing utility</h2><span id='topic+previewColors'></span>

<h3>Description</h3>

<p>Color previewing utility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>previewColors(pal, values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="previewColors_+3A_pal">pal</code></td>
<td>
<p>A color mapping function, like those returned from <code><a href="#topic+colorNumeric">colorNumeric</a></code>, et al</p>
</td></tr>
<tr><td><code id="previewColors_+3A_values">values</code></td>
<td>
<p>A set of values to preview colors for</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An HTML-based list of the colors and values
</p>

<hr>
<h2 id='providers'>Providers</h2><span id='topic+providers'></span><span id='topic+providers.details'></span>

<h3>Description</h3>

<p>List of all providers with their variations
</p>


<h3>Format</h3>

<p>A list of characters
</p>


<h3>Source</h3>

<p><a href="https://github.com/leaflet-extras/leaflet-providers/blob/0a9e27f8c6c26956b4e78c26e1945d748e3c2869/leaflet-providers.js">https://github.com/leaflet-extras/leaflet-providers/blob/0a9e27f8c6c26956b4e78c26e1945d748e3c2869/leaflet-providers.js</a>
</p>

<hr>
<h2 id='removeControl'>Remove elements from a map</h2><span id='topic+removeControl'></span><span id='topic+clearControls'></span><span id='topic+clearGroup'></span><span id='topic+removeImage'></span><span id='topic+clearImages'></span><span id='topic+remove'></span><span id='topic+removeTiles'></span><span id='topic+clearTiles'></span><span id='topic+removePopup'></span><span id='topic+clearPopups'></span><span id='topic+removeMarker'></span><span id='topic+clearMarkers'></span><span id='topic+removeMarkerCluster'></span><span id='topic+clearMarkerClusters'></span><span id='topic+removeMarkerFromCluster'></span><span id='topic+removeShape'></span><span id='topic+clearShapes'></span><span id='topic+removeGeoJSON'></span><span id='topic+clearGeoJSON'></span><span id='topic+removeMeasure'></span><span id='topic+removeTopoJSON'></span><span id='topic+clearTopoJSON'></span>

<h3>Description</h3>

<p>Remove one or more features from a map, identified by <code>layerId</code>; or,
clear all features of the given type or group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeControl(map, layerId)

clearControls(map)

clearGroup(map, group)

removeImage(map, layerId)

clearImages(map)

removeTiles(map, layerId)

clearTiles(map)

removePopup(map, layerId)

clearPopups(map)

removeMarker(map, layerId)

clearMarkers(map)

removeMarkerCluster(map, layerId)

clearMarkerClusters(map)

removeMarkerFromCluster(map, layerId, clusterId)

removeShape(map, layerId)

clearShapes(map)

removeGeoJSON(map, layerId)

clearGeoJSON(map)

removeMeasure(map)

removeTopoJSON(map, layerId)

clearTopoJSON(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeControl_+3A_map">map</code></td>
<td>
<p>a map widget object, possibly created from <code><a href="#topic+leaflet">leaflet</a></code>()
but more likely from <code><a href="#topic+leafletProxy">leafletProxy</a></code>()</p>
</td></tr>
<tr><td><code id="removeControl_+3A_layerid">layerId</code></td>
<td>
<p>character vector; the layer id(s) of the item to remove</p>
</td></tr>
<tr><td><code id="removeControl_+3A_group">group</code></td>
<td>
<p>the name of the group whose members should be removed</p>
</td></tr>
<tr><td><code id="removeControl_+3A_clusterid">clusterId</code></td>
<td>
<p>the id of the marker cluster layer</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new <code>map</code> object
</p>


<h3>Note</h3>

<p>When used with a <code><a href="#topic+leaflet">leaflet</a></code>() map object, these functions
don't actually remove the features from the map object, but simply add an
operation that will cause those features to be removed after they are
added. In other words, if you add a polygon <code>"foo"</code> and the call
<code>removeShape("foo")</code>, it's not smart enough to prevent the polygon
from being added in the first place; instead, when the map is rendered, the
polygon will be added and then removed.
</p>
<p>For that reason, these functions aren't that useful with <code>leaflet</code> map
objects and are really intended to be used with <code><a href="#topic+leafletProxy">leafletProxy</a></code>
instead.
</p>
<p>WMS tile layers are extensions of tile layers, so they can also be removed
or cleared via <code>removeTiles()</code> or <code>clearTiles()</code>.
</p>

<hr>
<h2 id='safeLabel'>Sanitize textual labels</h2><span id='topic+safeLabel'></span>

<h3>Description</h3>

<p>This is a helper function used internally to HTML-escape user-provided
labels. It prevents strings from unintentionally being treated as HTML when
they are intended to be plaintext.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safeLabel(label, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safeLabel_+3A_label">label</code></td>
<td>
<p>A vector or list of plain characters or HTML (marked by
<code><a href="htmltools.html#topic+HTML">HTML</a></code>), or a formula that resolves to such a value.</p>
</td></tr>
<tr><td><code id="safeLabel_+3A_data">data</code></td>
<td>
<p>A data frame over which the formula is evaluated.</p>
</td></tr>
</table>

<hr>
<h2 id='setView'>Methods to manipulate the map widget</h2><span id='topic+setView'></span><span id='topic+flyTo'></span><span id='topic+fitBounds'></span><span id='topic+flyToBounds'></span><span id='topic+setMaxBounds'></span><span id='topic+clearBounds'></span>

<h3>Description</h3>

<p>A series of methods to manipulate the map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setView(map, lng, lat, zoom, options = list())

flyTo(map, lng, lat, zoom, options = list())

fitBounds(map, lng1, lat1, lng2, lat2, options = list())

flyToBounds(map, lng1, lat1, lng2, lat2, options = list())

setMaxBounds(map, lng1, lat1, lng2, lat2)

clearBounds(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setView_+3A_map">map</code></td>
<td>
<p>a map widget object created from <code><a href="#topic+leaflet">leaflet</a>()</code></p>
</td></tr>
<tr><td><code id="setView_+3A_lng">lng</code></td>
<td>
<p>The longitude of the map center</p>
</td></tr>
<tr><td><code id="setView_+3A_lat">lat</code></td>
<td>
<p>The latitude of the map center</p>
</td></tr>
<tr><td><code id="setView_+3A_zoom">zoom</code></td>
<td>
<p>the zoom level</p>
</td></tr>
<tr><td><code id="setView_+3A_options">options</code></td>
<td>
<p>a list of zoom/pan options (see
<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#zoom/pan-options">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#zoom/pan-options</a>)</p>
</td></tr>
<tr><td><code id="setView_+3A_lng1">lng1</code>, <code id="setView_+3A_lat1">lat1</code>, <code id="setView_+3A_lng2">lng2</code>, <code id="setView_+3A_lat2">lat2</code></td>
<td>
<p>the coordinates of the map bounds</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The modified map widget.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>setView()</code>: Set the view of the map (center and zoom level)
</p>
</li>
<li> <p><code>flyTo()</code>: Flys to a given location/zoom-level using smooth pan-zoom.
</p>
</li>
<li> <p><code>fitBounds()</code>: Set the bounds of a map
</p>
</li>
<li> <p><code>flyToBounds()</code>: Flys to given bound using smooth pan/zoom.
</p>
</li>
<li> <p><code>setMaxBounds()</code>: Restricts the map view to the given bounds
</p>
</li>
<li> <p><code>clearBounds()</code>: Clear the bounds of a map, and the bounds will be
automatically determined from latitudes and longitudes of the map elements
if available (otherwise the full world view is used)
</p>
</li></ul>


<h3>References</h3>

<p><a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#map-methods-for-modifying-map-state">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#map-methods-for-modifying-map-state</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- leaflet() %&gt;% addTiles() %&gt;% setView(-71.0382679, 42.3489054, zoom = 18)
m  # the RStudio 'headquarter'
m %&gt;% fitBounds(-72, 40, -70, 43)
m %&gt;% clearBounds()  # world view

</code></pre>

<hr>
<h2 id='showGroup'>Show or hide layer groups</h2><span id='topic+showGroup'></span><span id='topic+hideGroup'></span>

<h3>Description</h3>

<p>Hide groups of layers without removing them from the map entirely. Groups are
created using the <code>group</code> parameter that is included on most layer
adding functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showGroup(map, group)

hideGroup(map, group)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showGroup_+3A_map">map</code></td>
<td>
<p>the map to modify</p>
</td></tr>
<tr><td><code id="showGroup_+3A_group">group</code></td>
<td>
<p>character vector of one or more group names to show or hide</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+addLayersControl">addLayersControl</a></code> to allow users to show/hide layer
groups interactively
</p>

<hr>
<h2 id='tileOptions'>Extra options for map elements and layers</h2><span id='topic+tileOptions'></span><span id='topic+gridOptions'></span><span id='topic+WMSTileOptions'></span><span id='topic+popupOptions'></span><span id='topic+labelOptions'></span><span id='topic+markerOptions'></span><span id='topic+markerClusterOptions'></span><span id='topic+pathOptions'></span>

<h3>Description</h3>

<p>The rest of all possible options for map elements and layers that are not
listed in the layer functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tileOptions(
  minZoom = 0,
  maxZoom = 18,
  maxNativeZoom = NULL,
  tileSize = 256,
  subdomains = "abc",
  errorTileUrl = "",
  tms = FALSE,
  noWrap = FALSE,
  zoomOffset = 0,
  zoomReverse = FALSE,
  opacity = 1,
  zIndex = 1,
  unloadInvisibleTiles = NULL,
  updateWhenIdle = NULL,
  detectRetina = FALSE,
  ...
)

gridOptions(
  tileSize = 256,
  updateWhenIdle = NULL,
  zIndex = 1,
  minZoom = 0,
  maxZoom = NULL,
  ...
)

WMSTileOptions(
  styles = "",
  format = "image/jpeg",
  transparent = FALSE,
  version = "1.1.1",
  crs = NULL,
  ...
)

popupOptions(
  maxWidth = 300,
  minWidth = 50,
  maxHeight = NULL,
  autoPan = TRUE,
  keepInView = FALSE,
  closeButton = TRUE,
  zoomAnimation = NULL,
  closeOnClick = NULL,
  className = "",
  ...
)

labelOptions(
  interactive = FALSE,
  clickable = NULL,
  noHide = NULL,
  permanent = FALSE,
  className = "",
  direction = "auto",
  offset = c(0, 0),
  opacity = 1,
  textsize = "10px",
  textOnly = FALSE,
  style = NULL,
  zoomAnimation = NULL,
  sticky = TRUE,
  ...
)

markerOptions(
  interactive = TRUE,
  clickable = NULL,
  draggable = FALSE,
  keyboard = TRUE,
  title = "",
  alt = "",
  zIndexOffset = 0,
  opacity = 1,
  riseOnHover = FALSE,
  riseOffset = 250,
  ...
)

markerClusterOptions(
  showCoverageOnHover = TRUE,
  zoomToBoundsOnClick = TRUE,
  spiderfyOnMaxZoom = TRUE,
  removeOutsideVisibleBounds = TRUE,
  spiderLegPolylineOptions = list(weight = 1.5, color = "#222", opacity = 0.5),
  freezeAtZoom = FALSE,
  ...
)

pathOptions(
  lineCap = NULL,
  lineJoin = NULL,
  clickable = NULL,
  interactive = TRUE,
  pointerEvents = NULL,
  className = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tileOptions_+3A_minzoom">minZoom</code>, <code id="tileOptions_+3A_maxzoom">maxZoom</code>, <code id="tileOptions_+3A_maxnativezoom">maxNativeZoom</code>, <code id="tileOptions_+3A_tilesize">tileSize</code>, <code id="tileOptions_+3A_subdomains">subdomains</code>, <code id="tileOptions_+3A_errortileurl">errorTileUrl</code>, <code id="tileOptions_+3A_tms">tms</code>, <code id="tileOptions_+3A_nowrap">noWrap</code>, <code id="tileOptions_+3A_zoomoffset">zoomOffset</code>, <code id="tileOptions_+3A_zoomreverse">zoomReverse</code>, <code id="tileOptions_+3A_zindex">zIndex</code>, <code id="tileOptions_+3A_unloadinvisibletiles">unloadInvisibleTiles</code>, <code id="tileOptions_+3A_updatewhenidle">updateWhenIdle</code>, <code id="tileOptions_+3A_detectretina">detectRetina</code></td>
<td>
<p>the tile layer options; see
<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tilelayer">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tilelayer</a></p>
</td></tr>
<tr><td><code id="tileOptions_+3A_opacity">opacity</code></td>
<td>
<p>Tooltip container opacity. Ranges from 0 to 1. Default value is <code>1</code> (different from leaflet.js <code>0.9</code>); see <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tooltip-opacity">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tooltip-opacity</a></p>
</td></tr>
<tr><td><code id="tileOptions_+3A_...">...</code></td>
<td>
<p>extra options passed to underlying Javascript object constructor.</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_styles">styles</code></td>
<td>
<p>comma-separated list of WMS styles</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_format">format</code></td>
<td>
<p>WMS image format (use <code>"image/png"</code> for layers with
transparency)</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_transparent">transparent</code></td>
<td>
<p>if <code>TRUE</code>, the WMS service will return images with
transparency</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_version">version</code></td>
<td>
<p>version of the WMS service to use</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_crs">crs</code></td>
<td>
<p>Coordinate Reference System to use for the WMS requests, defaults.</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_maxwidth">maxWidth</code>, <code id="tileOptions_+3A_minwidth">minWidth</code>, <code id="tileOptions_+3A_maxheight">maxHeight</code>, <code id="tileOptions_+3A_autopan">autoPan</code>, <code id="tileOptions_+3A_keepinview">keepInView</code>, <code id="tileOptions_+3A_closebutton">closeButton</code>, <code id="tileOptions_+3A_closeonclick">closeOnClick</code></td>
<td>
<p>popup options; see <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#popup-option">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#popup-option</a></p>
</td></tr>
<tr><td><code id="tileOptions_+3A_zoomanimation">zoomAnimation</code></td>
<td>
<p>deprecated. See <a href="https://github.com/Leaflet/Leaflet/blob/master/CHANGELOG.md#api-changes-5">https://github.com/Leaflet/Leaflet/blob/master/CHANGELOG.md#api-changes-5</a></p>
</td></tr>
<tr><td><code id="tileOptions_+3A_classname">className</code></td>
<td>
<p>a CSS class name set on an element</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_interactive">interactive</code></td>
<td>
<p>whether the element emits mouse events</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_clickable">clickable</code></td>
<td>
<p>DEPRECATED! Use the <code>interactive</code> option.</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_nohide">noHide</code>, <code id="tileOptions_+3A_direction">direction</code>, <code id="tileOptions_+3A_offset">offset</code>, <code id="tileOptions_+3A_permanent">permanent</code></td>
<td>
<p>label options; see <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tooltip-option">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tooltip-option</a></p>
</td></tr>
<tr><td><code id="tileOptions_+3A_textsize">textsize</code></td>
<td>
<p>Change the text size of a single tooltip</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_textonly">textOnly</code></td>
<td>
<p>Display only the text, no regular surrounding box.</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_style">style</code></td>
<td>
<p>list of css style to be added to the tooltip</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_sticky">sticky</code></td>
<td>
<p>If true, the tooltip will follow the mouse instead of being fixed at the feature center. Default value is <code>TRUE</code> (different from leaflet.js <code>FALSE</code>); see <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tooltip-sticky">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#tooltip-sticky</a></p>
</td></tr>
<tr><td><code id="tileOptions_+3A_draggable">draggable</code>, <code id="tileOptions_+3A_keyboard">keyboard</code>, <code id="tileOptions_+3A_title">title</code>, <code id="tileOptions_+3A_alt">alt</code>, <code id="tileOptions_+3A_zindexoffset">zIndexOffset</code>, <code id="tileOptions_+3A_riseonhover">riseOnHover</code>, <code id="tileOptions_+3A_riseoffset">riseOffset</code></td>
<td>
<p>marker options; see <a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#marker-option">https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#marker-option</a></p>
</td></tr>
<tr><td><code id="tileOptions_+3A_showcoverageonhover">showCoverageOnHover</code></td>
<td>
<p>when you mouse over a cluster it shows the bounds
of its markers</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_zoomtoboundsonclick">zoomToBoundsOnClick</code></td>
<td>
<p>when you click a cluster we zoom to its bounds</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_spiderfyonmaxzoom">spiderfyOnMaxZoom</code></td>
<td>
<p>when you click a cluster at the bottom zoom level we
spiderfy it so you can see all of its markers</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_removeoutsidevisiblebounds">removeOutsideVisibleBounds</code></td>
<td>
<p>clusters and markers too far from the
viewport are removed from the map for performance</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_spiderlegpolylineoptions">spiderLegPolylineOptions</code></td>
<td>
<p>Allows you to specify
<a href="https://web.archive.org/web/20220702182250/https://leafletjs.com/reference-1.3.4.html#polyline-option">PolylineOptions</a>
to style spider legs. By default, they are
<code>{weight: 1.5, color: "#222", opacity: 0.5 }</code>.</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_freezeatzoom">freezeAtZoom</code></td>
<td>
<p>Allows you to freeze cluster expansion to a zoom level.
Can be a zoom level e.g. 10, 12 or &quot;max&quot; or &quot;maxKeepSpiderify&quot;.
See &lt;https://github.com/ghybs/Leaflet.MarkerCluster.Freezable#api-reference&gt;.</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_linecap">lineCap</code></td>
<td>
<p>a string that defines
<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-linecap">shape
to be used at the end</a> of the stroke</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_linejoin">lineJoin</code></td>
<td>
<p>a string that defines
<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-linejoin">shape
to be used at the corners</a> of the stroke</p>
</td></tr>
<tr><td><code id="tileOptions_+3A_pointerevents">pointerEvents</code></td>
<td>
<p>sets the <code>pointer-events</code> attribute on the path if
SVG backend is used</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>tileOptions()</code>: Options for tile layers
</p>
</li>
<li> <p><code>gridOptions()</code>: Options for grid layers
</p>
</li>
<li> <p><code>WMSTileOptions()</code>: Options for WMS tile layers
</p>
</li>
<li> <p><code>popupOptions()</code>: Options for popups
</p>
</li>
<li> <p><code>labelOptions()</code>: Options for labels
</p>
</li>
<li> <p><code>markerOptions()</code>: Options for markers
</p>
</li>
<li> <p><code>markerClusterOptions()</code>: Options for marker clusters
</p>
</li>
<li> <p><code>pathOptions()</code>: Options for vector layers (polylines, polygons,
rectangles, and circles, etc)
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+leafletCRS">leafletCRS</a></code>
to map CRS (don't change this if you're not sure what it means)
</p>

<hr>
<h2 id='validateCoords'>Utility function to check if a coordinates is valid</h2><span id='topic+validateCoords'></span>

<h3>Description</h3>

<p>Utility function to check if a coordinates is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validateCoords(lng, lat, funcName, warn = TRUE, mode = c("point", "polygon"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validateCoords_+3A_lng">lng</code></td>
<td>
<p>vector with longitude values</p>
</td></tr>
<tr><td><code id="validateCoords_+3A_lat">lat</code></td>
<td>
<p>vector with latitude values</p>
</td></tr>
<tr><td><code id="validateCoords_+3A_funcname">funcName</code></td>
<td>
<p>Name of calling function</p>
</td></tr>
<tr><td><code id="validateCoords_+3A_warn">warn</code></td>
<td>
<p>A boolean. Whether to generate a warning message if there are rows with missing/invalid data</p>
</td></tr>
<tr><td><code id="validateCoords_+3A_mode">mode</code></td>
<td>
<p>if <code>"point"</code> then warn about any <code>NA</code> lng/lat values;
if <code>"polygon"</code> then <code>NA</code> values are expected to be used as
polygon delimiters</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package oskeyring</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {oskeyring}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#macos_keychain'><p>Query and manipulate the macOS Keychain</p></a></li>
<li><a href='#oskeyring-package'><p>oskeyring: Raw System Credential Store Access from R</p></a></li>
<li><a href='#windows_credentials'><p>Query and manipulate the Windows Credential Store</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Raw System Credential Store Access from R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Aims to support all features of the system credential store,
    including non-portable ones. Supports 'Keychain' on 'macOS', and
    'Credential Manager' on 'Windows'. See the 'keyring' package if you
    need a portable 'API'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-lib/oskeyring#readme">https://github.com/r-lib/oskeyring#readme</a>,
<a href="https://r-lib.github.io/oskeyring/">https://r-lib.github.io/oskeyring/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/oskeyring/issues">https://github.com/r-lib/oskeyring/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>askpass, covr, testthat (&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1.9000</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-11 07:46:26 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>G치bor Cs치rdi [aut, cre],
  RStudio [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>G치bor Cs치rdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-11 08:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='macos_keychain'>Query and manipulate the macOS Keychain</h2><span id='topic+macos_keychain'></span><span id='topic+macos_item_classes'></span><span id='topic+macos_item'></span><span id='topic+macos_item_add'></span><span id='topic+macos_item_search'></span><span id='topic+macos_item_update'></span><span id='topic+macos_item_delete'></span><span id='topic+macos_keychain_create'></span><span id='topic+macos_keychain_list'></span><span id='topic+macos_keychain_delete'></span><span id='topic+macos_keychain_lock'></span><span id='topic+macos_keychain_unlock'></span><span id='topic+macos_keychain_is_locked'></span><span id='topic+macos_item_attr'></span><span id='topic+macos_item_match_options'></span>

<h3>Description</h3>

<p><code style="white-space: pre;">&#8288;macos_item_*&#8288;</code> functions add, delete, update and search Keychain items.
</p>
<p><code style="white-space: pre;">&#8288;macos_keychain_*&#8288;</code> functions create, delete, list, lock, unlock
keychains.
</p>
<p><code>macos_item_classes()</code> lists the supported Keychain item classes.
<code>macos_item_attr()</code> lists the supported attributes for these classes.
<code>macos_item_match_options()</code> lists the options supported by the
<code>match</code> argument of <code>macos_item_search()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>macos_item_classes()

macos_item(value, attributes = list(), class = "generic_password")

macos_item_add(item, keychain = NULL)

macos_item_search(
  class = "generic_password",
  attributes = list(),
  match = list(),
  return_data = FALSE,
  keychain = NULL
)

macos_item_update(
  class = "generic_password",
  attributes = list(),
  match = list(),
  update = list(),
  keychain = NULL
)

macos_item_delete(
  class = "generic_password",
  attributes = list(),
  match = list(),
  keychain = NULL
)

macos_keychain_create(keychain, password = NULL)

macos_keychain_list(domain = c("all", "user", "system", "common", "dynamic"))

macos_keychain_delete(keychain)

macos_keychain_lock(keychain = NULL)

macos_keychain_unlock(keychain = NULL, password = NULL)

macos_keychain_is_locked(keychain = NULL)

macos_item_attr()

macos_item_match_options()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="macos_keychain_+3A_value">value</code></td>
<td>
<p>Value of the item, a password, key or certificate. It must
a raw vector or a string. If it is a string, then it is converted to
UTF-8.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_attributes">attributes</code></td>
<td>
<p>Narrow the search by indicating the attributes that
the found item or items should have.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_class">class</code></td>
<td>
<p>Type of items to search, see <code><a href="#topic+macos_item_classes">macos_item_classes()</a></code> for
possible values.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_item">item</code></td>
<td>
<p>Keychain item, creted via <code><a href="#topic+macos_item">macos_item()</a></code> or returned
by oskeyking itself.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_keychain">keychain</code></td>
<td>
<p>Keychain to use. <code>NULL</code> means the default one.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_match">match</code></td>
<td>
<p>Condition the search in a variety of ways. For example, you
can limit the results to a specific number of items, control case
sensitivity when matching string attributes, etc. See 'Search parameters'
below.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_return_data">return_data</code></td>
<td>
<p>Whether to include the secret data in the
search result. If this is set to <code>TRUE</code>, then you'll have to set the
<code>limit</code> parameter (in the <code>match</code> argument) to a finite value.
If this is <code>TRUE</code>, then macOS will prompt you for passwords if necessary.
You might get multiple password prompts, if you set <code>limit</code> to a larger
than one value.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_update">update</code></td>
<td>
<p>Named list specifying the new values of attributes.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_password">password</code></td>
<td>
<p>Password to unlock the keychain, or new password to
set when creating a new keychain. May be <code>NULL</code> in interactive
sessions, to force a secure password dialog.</p>
</td></tr>
<tr><td><code id="macos_keychain_+3A_domain">domain</code></td>
<td>
<p>The preference domain from which you wish to retrieve
the keychain search list:
</p>

<ul>
<li> <p><code>"all"</code>: include all keychains currently on the search list,
</p>
</li>
<li> <p><code>"user"</code>: user preference domain,
</p>
</li>
<li> <p><code>"system"</code>: system or daemon preference domain,
</p>
</li>
<li> <p><code>"common"</code>: keychains common to everyone,
</p>
</li>
<li> <p><code>"dynamic"</code>: dynamic search list (typically provided by removable
keychains such as smart cards).
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p><code>macos_item_classes()</code> returns a character vector, the
names of the supported keychain item classes.
</p>
<p><code>macos_item()</code> returns a new <code>oskeyring_macos_item</code>
object.
</p>
<p><code>macos_item_add()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>macos_item_search()</code> returns a list of keychain items.
</p>
<p><code>macos_item_update()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>macos_item_delete()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>macos_keychain_create()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>macos_keychain_list()</code> returns a data frame with columns:
</p>

<ul>
<li> <p><code>path</code>: Path to the file of the keychain.
</p>
</li>
<li> <p><code>is_locked</code>: Whether the keychain is locked.
</p>
</li>
<li> <p><code>is_readable</code>: Whether the keychain is readable by the user.
</p>
</li>
<li> <p><code>is_writeable</code>: Whether the keychain is writeable by the user.
</p>
</li></ul>

<p><code>macos_keychain_delete()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>macos_keychain_lock()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>macos_keychain_unlock()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>macos_keychain_is_locked()</code> returns <code>TRUE</code> or <code>FALSE</code>.
</p>
<p><code>macos_item_attr()</code> returns a list of lists of character
scalars, the description of keychain item attributes, for each
keychain item class.
</p>
<p><code>macos_item_match_options()</code> returns a list of character
scalars, the description of the supported match options.
</p>


<h3>Keychain items</h3>

<p><code>macos_item_classes()</code> returns the currently supported Keychain item
classes.
</p>
<div class="sourceCode r"><pre>macos_item_classes()
#&gt; [1] "generic_password"  "internet_password"
</pre></div>
<p><code>macos_item()</code> creates a new Keychain item. See the next section about
the attributes that are supported for the various item types.
</p>
<div class="sourceCode r"><pre>it &lt;- macos_item("secret", list(service = "My service", account = "Gabor"))
it
#&gt; &lt;oskeyring_macos_item: generic_password&gt;
#&gt;  account: Gabor
#&gt;  service: My service
#&gt;  value: &lt;-- hidden --&gt;
</pre></div>
<p><code>macos_item_add()</code> adds an item to the keychain. If there is already an
item with the same primary keys, then it will error.
</p>
<div class="sourceCode r"><pre>macos_item_add(it)
</pre></div>
<p><code>macos_item_search()</code> searches for Keychain items. If <code>return_data</code> is
<code>TRUE</code> then it also returns the secret data. Returning the secret data
might create a password entry dialog. If <code>return_data</code> is <code>TRUE</code> then
you need to set the <code>limit</code> match condition to a (small) finite number.
</p>
<div class="sourceCode r"><pre>macos_item_search(attributes = list(service = "My service"))
#&gt; [[1]]
#&gt; &lt;oskeyring_macos_item: generic_password&gt;
#&gt;  account: Gabor
#&gt;  creation_date: 2022-10-27 11:08:28
#&gt;  label: My service
#&gt;  modification_date: 2022-10-27 11:08:28
#&gt;  service: My service
</pre></div>
<p><code>macos_item_update()</code> updates existing Keychain items.
</p>
<div class="sourceCode r"><pre>macos_item_update(
  attributes = list(service = "My service", account = "Gabor"),
  update = list(account = "Gabor Csardi")
)
macos_item_search(attributes = list(service = "My service"))
#&gt; [[1]]
#&gt; &lt;oskeyring_macos_item: generic_password&gt;
#&gt;  account: Gabor Csardi
#&gt;  creation_date: 2022-10-27 11:08:28
#&gt;  label: My service
#&gt;  modification_date: 2022-10-27 11:08:28
#&gt;  service: My service
</pre></div>
<p><code>macos_item_delete()</code> deletes one or more Keychain items. Note that
all matching items will be deleted.
</p>
<div class="sourceCode r"><pre>macos_item_delete(attributes = list(service = "My service"))
macos_item_search(attributes = list(service = "My service"))
#&gt; list()
</pre></div>


<h4>Keychain Item Attributes</h4>


<ul>
<li><p> The set of supported attributes depends on the class of the item.
</p>
</li>
<li><p> oskeyring supports the following item classes currently:
generic_password, internet_password.
</p>
</li>
<li><p> A subset of the attributes form a <em>primary key</em>. It is not possible
to add more than one item with the same primary key. See the
primary keys for the various classes below.
</p>
</li>
<li><p> oskeyring does not currently support all attributes that the
Keychain Services AIP supports.
</p>
</li>
<li><p> Some attributes are read-only. If you try to set them when adding
or updating items, they will be ignored.
</p>
</li>
<li><p> If an attribute is not included in the return value of
<code>macos_item_search()</code> then it is not set, and its default value is in
effect.
</p>
</li></ul>



<h5>Attributes for generic passwords</h5>


<ul>
<li> <p><code>creation_date</code>: [.POSIXct(1)][read-only] The date the item was created.
</p>
</li>
<li> <p><code>modification_date</code>: [.POSIXct(1)][read-only] The last time the item was updated.
</p>
</li>
<li> <p><code>description</code>: [character(1)] User-visible string describing this kind ofitem (for example, 'Disk image password').
</p>
</li>
<li> <p><code>comment</code>: [character(1)] User-editable comment for this item.
</p>
</li>
<li> <p><code>label</code>: [character(1)] User-visible label for this item.
</p>
</li>
<li> <p><code>is_invisible</code>: [logical(1)] <code>TRUE</code> if the item is invisible (that is, should not be displayed).
</p>
</li>
<li> <p><code>is_negative</code>: [logical(1)] Indicates whether there is a valid password associated with this keychain item. This is useful if your application doesn't want a password for some particular service to be stored in the keychain, but prefers that it always be entered by the user.
</p>
</li>
<li> <p><code>account</code>: [character(1)][key] Account name.
</p>
</li>
<li> <p><code>service</code>: [character(1)][key] The service associated with this item.
</p>
</li>
<li> <p><code>generic</code>: [character(1)] User-defined attribute.
</p>
</li>
<li> <p><code>synchronizable</code>: [logical(1)] Indicates whether the item in question is synchronized to other devices through iCloud.
</p>
</li></ul>




<h5>Attributes for internet passwords</h5>


<ul>
<li> <p><code>creation_date</code>: [.POSIXct(1)][read-only] The date the item was created.
</p>
</li>
<li> <p><code>modification_date</code>: [.POSIXct(1)][read-only] The last time the item was updated.
</p>
</li>
<li> <p><code>description</code>: [character(1)] User-visible string describing this kind ofitem (for example, 'Disk image password').
</p>
</li>
<li> <p><code>comment</code>: [character(1)] User-editable comment for this item.
</p>
</li>
<li> <p><code>label</code>: [character(1)] User-visible label for this item.
</p>
</li>
<li> <p><code>is_invisible</code>: [logical(1)] <code>TRUE</code> if the item is invisible (that is, should not be displayed).
</p>
</li>
<li> <p><code>is_negative</code>: [logical(1)] Indicates whether there is a valid password associated with this keychain item. This is useful if your application doesn't want a password for some particular service to be stored in the keychain, but prefers that it always be entered by the user.
</p>
</li>
<li> <p><code>account</code>: [character(1)][key] Account name.
</p>
</li>
<li> <p><code>synchronizable</code>: [logical(1)] Indicates whether the item in question is synchronized to other devices through iCloud.
</p>
</li>
<li> <p><code>security_domain</code>: [character(1)][key] The item's security domain.
</p>
</li>
<li> <p><code>server</code>: [character(1)][key] Contains the server's domain name or IP address.
</p>
</li>
<li> <p><code>protocol</code>: [character(1)][key] The protocol for this item.
</p>
</li>
<li> <p><code>authentication_type</code>: character[1][key] Authentication type.
</p>
</li>
<li> <p><code>port</code>: [integer(1)][key] Internet port number.
</p>
</li>
<li> <p><code>path</code>: [character(1)][key] A path, typically the path component of the URL
</p>
</li></ul>





<h3>Search Parameters</h3>

<p>osxkeychain only supports a limited set of search parameters.
You can provide these for <code>macos_item_search()</code> as the <code>match</code> argument:
</p>

<ul>
<li> <p><code>limit</code>: [numeric(1)] This value specifies the maximum number of results to return or otherwise act upon. Use <code>Inf</code> to specify all matching items.
</p>
</li></ul>



<h3>Keychains</h3>

<p>macOs supports multiple keychains.
There is always a default keychain, which is the user's login keychain,
unless configured differently.
There is also a keychain search list.
Keychains may belong into four non-exclusive categories, see the
<code>domain</code> argument of <code>macos_keychain_list()</code>.
A keychain is stored in an encrypted file on the disk, see the first
column of the output of <code>macos_keychain_list()</code>.
</p>
<p><code style="white-space: pre;">&#8288;macos_item_*()&#8288;</code> functions have a <code>keychain</code> argument to direct or
restrict the operation to a single keychain only. These are the defaults:
</p>

<ul>
<li> <p><code>macos_item_add()</code> adds the item to the default keychain.
</p>
</li>
<li> <p><code>macos_item_search()</code> searches all keychains in the search list.
</p>
</li>
<li> <p><code>macos_item_update()</code> updates matching items on all keychains in the
search list.
</p>
</li>
<li> <p><code>macos_item_delete()</code> deletes matching items from all keychains in the
search list.
</p>
</li></ul>

<p><code>macos_keychain_create()</code> creates a new keychain.
</p>
<p><code>macos_keychain_list()</code> lists all keychains on the search list.
</p>
<div class="sourceCode r"><pre>new &lt;- "~/Library/Keychains/test.keychain-db"
macos_keychain_create(new, password = "secret")
macos_keychain_list()
</pre></div>
<div class="sourceCode r"><pre>##                                                     path is_unlocked
## 1 /Users/gaborcsardi/Library/Keychains/login.keychain-db        TRUE
## 2 /Users/gaborcsardi/Library/Keychains/shiny.keychain-db       FALSE
## 3  /Users/gaborcsardi/Library/Keychains/test.keychain-db        TRUE
## 4                     /Library/Keychains/System.keychain       FALSE
##   is_readable is_writeable
## 1        TRUE         TRUE
## 2        TRUE        FALSE
## 3        TRUE         TRUE
## 4        TRUE        FALSE
</pre></div>
<p><code>macos_keychain_lock()</code> locks a keychain.
<code>macos_keychain_unlock()</code> unlocks a keychain.
<code>macos_keychain_is_locked()</code> checks if a keychain is locked.
</p>
<div class="sourceCode r"><pre>macos_keychain_lock(new)
macos_keychain_is_locked(new)
</pre></div>
<div class="sourceCode r"><pre>## [1] TRUE
</pre></div>
<div class="sourceCode r"><pre>macos_keychain_unlock(new, password = "secret")
macos_keychain_is_locked(new)
</pre></div>
<div class="sourceCode r"><pre>## [1] FALSE
</pre></div>
<p><code>macos_keychain_delete()</code> deletes a keychain: it removes it from the
search list and deletes the data from the disk. It currently refuses to
delete the user's login keychain and the system keychain. Use Keychain
Access instead if you want to delete these. (Only do this if you are
aware of the bad consequences.)
</p>
<div class="sourceCode r"><pre>macos_keychain_delete(new)
macos_keychain_list()
</pre></div>
<div class="sourceCode r"><pre>##                                                     path is_unlocked
## 1 /Users/gaborcsardi/Library/Keychains/login.keychain-db        TRUE
## 2 /Users/gaborcsardi/Library/Keychains/shiny.keychain-db       FALSE
## 3                     /Library/Keychains/System.keychain       FALSE
##   is_readable is_writeable
## 1        TRUE         TRUE
## 2        TRUE        FALSE
## 3        TRUE        FALSE
</pre></div>


<h3>See Also</h3>

<p>The Keychain Services API documentation at
<a href="https://developer.apple.com/documentation/security/keychain_services">https://developer.apple.com/documentation/security/keychain_services</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See above
</code></pre>

<hr>
<h2 id='oskeyring-package'>oskeyring: Raw System Credential Store Access from R</h2><span id='topic+oskeyring'></span><span id='topic+oskeyring-package'></span>

<h3>Description</h3>

<p>Aims to support all features of the system credential store, including non-portable ones. Supports 'Keychain' on 'macOS', and 'Credential Manager' on 'Windows'. See the 'keyring' package if you need a portable 'API'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: G치bor Cs치rdi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> RStudio [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/r-lib/oskeyring#readme">https://github.com/r-lib/oskeyring#readme</a>
</p>
</li>
<li> <p><a href="https://r-lib.github.io/oskeyring/">https://r-lib.github.io/oskeyring/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/oskeyring/issues">https://github.com/r-lib/oskeyring/issues</a>
</p>
</li></ul>


<hr>
<h2 id='windows_credentials'>Query and manipulate the Windows Credential Store</h2><span id='topic+windows_credentials'></span><span id='topic+windows_item_types'></span><span id='topic+windows_item'></span><span id='topic+windows_item_read'></span><span id='topic+windows_item_write'></span><span id='topic+windows_item_delete'></span><span id='topic+windows_item_enumerate'></span>

<h3>Description</h3>

<p><code style="white-space: pre;">&#8288;windows_item_*&#8288;</code> functions read, write, delete and list
credentials.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>windows_item_types()

windows_item(
  credential_blob,
  target_name,
  type = "generic",
  comment = NULL,
  persist = c("local_machine", "session", "enterprise"),
  attributes = list(),
  target_alias = NULL,
  username = NULL
)

windows_item_read(target_name, type = "generic")

windows_item_write(item, preserve = FALSE)

windows_item_delete(target_name, type = "generic")

windows_item_enumerate(filter = NULL, all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="windows_credentials_+3A_credential_blob">credential_blob</code></td>
<td>
<p>The secret credential, a password,
certificate or key. See also
<a href="https://learn.microsoft.com/en-us/windows/win32/api/wincred/">https://learn.microsoft.com/en-us/windows/win32/api/wincred/</a>
This can be a raw vector, or a string. If it is a string, then it
will be converted to Unicode, without the terminating zero.
It can also be <code>NULL</code>, to be used with the <code>preserve = TRUE</code>
argument of <code>windows_item_write()</code>.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_target_name">target_name</code></td>
<td>
<p>The name of the credential. The <code>target_name</code>
and <code>type</code> members uniquely identify the credential. This member
cannot be changed after the credential is created. Instead, the
credential with the old name should be deleted and the credential
with the new name created. This member cannot be longer than
<code>CRED_MAX_GENERIC_TARGET_NAME_LENGTH</code> (32767) characters.
This member is case-insensitive.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_type">type</code></td>
<td>
<p>The type of the credential. This member cannot be
changed after the credential is created. See <code>windows_item_types()</code>
for possible values.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_comment">comment</code></td>
<td>
<p>If not <code>NULL</code>, then a string comment from the user
that describes this credential. This member cannot be longer than
<code>CRED_MAX_STRING_LENGTH</code> (256) characters. It is stored as a Unicode
string.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_persist">persist</code></td>
<td>
<p>Defines the persistence of this credential.
</p>

<ul>
<li> <p><code>"local_machine"</code>: The credential persists for all subsequent
logon sessions on this same computer. It is visible to other
logon sessions of this same user on this same computer and not
visible to logon sessions for this user on other computers.
</p>
</li>
<li> <p><code>"session"</code>: The credential persists for the life of the logon
session. It will not be visible to other logon sessions of this
same user. It will not exist after this user logs off and back on.
</p>
</li>
<li> <p><code>"enterprise"</code>: The credential persists for all subsequent logon
sessions on this same computer. It is visible to other logon
sessions of this same user on this same computer and to logon
sessions for this user on other computers.
</p>
</li></ul>
</td></tr>
<tr><td><code id="windows_credentials_+3A_attributes">attributes</code></td>
<td>
<p>Application-defined attributes that are
associated with the credential. This is <code>NULL</code> or a named list
of raw or string vectors. String vectors are converted to
Unicode, without the terminating zero. A credential can have at
most 64 attributes, the names of the attributes cannot be
longer than <code>CRED_MAX_STRING_LENGTH</code> (256) characters each, and
the attributes themselves cannot be longer than
<code>CRED_MAX_VALUE_SIZE</code> (256) bytes.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_target_alias">target_alias</code></td>
<td>
<p>Alias for the <code>target_name</code> member.
This member can be read and written. It cannot be longer than
<code>CRED_MAX_STRING_LENGTH</code> (256) characters. It is stored in Unicode.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_username">username</code></td>
<td>
<p><code>NULL</code> or the user name of the account used to
connect to <code>target_name</code>.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_item">item</code></td>
<td>
<p><code>oskeyring_windows_item</code> object to write.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_preserve">preserve</code></td>
<td>
<p>The credential BLOB from an existing credential
is preserved with the same credential name and credential type.
The <code>credential_blob</code> of the passed <code>oskeyring_windows_item</code>
object must be <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_filter">filter</code></td>
<td>
<p>If not <code>NULL</code>, then a string to filter the
credentials. Only credentials with a <code>target_name</code> matching the
filter will be returned. The filter specifies a name prefix
followed by an asterisk. For instance, the filter <code>"FRED*"</code> will
return all credentials with a <code>target_name</code> beginning with the
string <code>"FRED"</code>.</p>
</td></tr>
<tr><td><code id="windows_credentials_+3A_all">all</code></td>
<td>
<p>Whether to use the <code>CRED_ENUMERATE_ALL_CREDENTIALS</code>
flag to enumerate all credentials. If this is <code>TRUE</code>, then <code>filter</code>
must be <code>NULL</code>. If this is <code>TRUE</code>, then the target name of each
credential is returned in the <code style="white-space: pre;">&#8288;"namespace:attribute=target&#8288;</code>&quot; format.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4><code>windows_item_types()</code></h4>

<p><code>windows_item_types()</code> lists the currently supported credential
types.
</p>
<div class="sourceCode r"><pre>windows_item_types()
#&gt; [1] "generic"                 "domain_password"        
#&gt; [3] "domain_certificate"      "domain_visible_password"
</pre></div>



<h4><code>windows_item()</code></h4>

<p><code>windows_item()</code> creates a Windows credential, that can be
then added to the credential store.
</p>
<div class="sourceCode r"><pre>it &lt;- windows_item("secret", "my-host-password")
it
#&gt; &lt;oskeyring_windows_item: generic&gt;
#&gt;  target_name: my-host-password
#&gt;  persist: local_machine
#&gt;  credential_blob: &lt;-- hidden --&gt;
</pre></div>



<h4><code>windows_item_write()</code></h4>

<p>Writes an item to the credential store.
</p>
<div class="sourceCode r"><pre>windows_item_write(it)
</pre></div>



<h4><code>windows_item_read()</code></h4>

<p>Reads a credential with the specified type and <code>target_name</code>.
</p>
<div class="sourceCode r"><pre>windows_item_read("my-host-password")
</pre></div>



<h4><code>windows_item_enumerate()</code></h4>

<p>List all credentials that match a prefix.
</p>
<div class="sourceCode r"><pre>windows_item_enumerate(filter = "my-*")
</pre></div>



<h4><code>windows_item_delete()</code></h4>

<p>Delete a credential:
</p>
<div class="sourceCode r"><pre>windows_item_delete("my-host-password")
windows_item_enumerate(filter = "my-*")
</pre></div>



<h3>Value</h3>

<p><code>windows_item_types()</code> returns a character vector, the
currently supported credential types.
</p>
<p><code>windows_item()</code> returns an <code>oskeyring_windows_item</code>
object.
</p>
<p><code>windows_item_read()</code> returns an <code>oskeyring_windows_item</code>
object.
</p>
<p><code>windows_item_write()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>windows_item_delete()</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>windows_item_enumerate()</code> returns a list of
<code>oskeyring_windows_item</code> items.
</p>


<h3>See Also</h3>

<p>The API documentation at
<a href="https://learn.microsoft.com/en-us/windows/win32/api/wincred/">https://learn.microsoft.com/en-us/windows/win32/api/wincred/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See above
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

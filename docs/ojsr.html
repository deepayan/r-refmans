<!DOCTYPE html><html><head><title>Help for package ojsr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ojsr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_articles_from_issue'><p>Scraping articles URLs from the ToC of OJS issues</p></a></li>
<li><a href='#get_articles_from_search'><p>Scraping OJS search results for a given criteria to retrieve articles’ URL</p></a></li>
<li><a href='#get_galleys_from_article'><p>Scraping galleys URLs from OJS articles</p></a></li>
<li><a href='#get_html_meta_from_article'><p>Scraping metadata from the OJS articles HTML</p></a></li>
<li><a href='#get_issues_from_archive'><p>Scraping issues’ URLs from the OJS issues archive</p></a></li>
<li><a href='#get_oai_meta_from_article'><p>Retrieving OAI records for OJS articles</p></a></li>
<li><a href='#ojsr'><p>ojsr: A package for scraping OJS</p></a></li>
<li><a href='#parse_base_url'><p>Parses urls against OJS routing conventions and retrieves the base url</p></a></li>
<li><a href='#parse_oai_url'><p>Parses urls against OJS routing conventions and retrieves the OAI url</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Crawler and Data Scraper for Open Journal System ('OJS')</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Crawler for 'OJS' pages and scraper for meta-data from articles. 
    You can crawl 'OJS' archives, issues, articles, galleys, and search results. 
    You can scrape articles metadata from their head tag in html, 
    or from Open Archives Initiative ('OAI') records.
    Most of these functions rely on 'OJS' routing conventions 
    (<a href="https://docs.pkp.sfu.ca/dev/documentation/en/architecture-routes">https://docs.pkp.sfu.ca/dev/documentation/en/architecture-routes</a>).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.3), magrittr, rvest, tidyr (&ge; 1.0), urltools,
xml2, purrr, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, tidyverse</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-09-23 13:39:02 UTC; GASTON</td>
</tr>
<tr>
<td>Author:</td>
<td>Gaston Becerra <a href="https://orcid.org/0000-0001-9432-8848"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gaston Becerra &lt;gaston.becerra@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-09-23 23:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_articles_from_issue'>Scraping articles URLs from the ToC of OJS issues</h2><span id='topic+get_articles_from_issue'></span>

<h3>Description</h3>

<p>Takes a vector of OJS (issue) URLs and scrapes the links to articles from the issues table of content
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_articles_from_issue(input_url, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_articles_from_issue_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
<tr><td><code id="get_articles_from_issue_+3A_verbose">verbose</code></td>
<td>
<p>Logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A long-format dataframe with the url you provided (input_url) and the articles url scrapped (output_url)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
issues &lt;- c(
   'https://revistas.ucn.cl/index.php/saludysociedad/issue/view/65',
   'https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/issue/view/31'
)
articles &lt;- ojsr::get_articles_from_issue(input_url = issues, verbose = TRUE)

</code></pre>

<hr>
<h2 id='get_articles_from_search'>Scraping OJS search results for a given criteria to retrieve articles’ URL</h2><span id='topic+get_articles_from_search'></span>

<h3>Description</h3>

<p>takes a vector of OJS URLs and a string for search criteria to compose search result URLs,
(including pagination) then it scrapes them to retrieve the articles’ URLs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_articles_from_search(input_url, search_criteria, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_articles_from_search_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
<tr><td><code id="get_articles_from_search_+3A_search_criteria">search_criteria</code></td>
<td>
<p>Character string</p>
</td></tr>
<tr><td><code id="get_articles_from_search_+3A_verbose">verbose</code></td>
<td>
<p>Logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with the urls of the articles linked from the OJS issue page.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
journals &lt;- c(
   'https://revistapsicologia.uchile.cl/index.php/RDP/',
   'https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/'
)
criteria &lt;- "actitudes"
search_result_pages &lt;- ojsr::get_articles_from_search(input_url = journals,
    search_criteria = criteria, verbose = TRUE)

</code></pre>

<hr>
<h2 id='get_galleys_from_article'>Scraping galleys URLs from OJS articles</h2><span id='topic+get_galleys_from_article'></span>

<h3>Description</h3>

<p>Takes a vector of OJS URLs and scrapes all the galleys URLs from the article view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_galleys_from_article(input_url, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_galleys_from_article_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
<tr><td><code id="get_galleys_from_article_+3A_verbose">verbose</code></td>
<td>
<p>Logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A long-format dataframe with the url you provided (input_url), the articles url scrapped (output_url),
the format of the galley (format), and the url that forces download of the galley (download_url)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
articles &lt;- c(
  'https://revistapsicologia.uchile.cl/index.php/RDP/article/view/55657',
  'https://dspace.palermo.edu/ojs/index.php/psicodebate/article/view/516/311'
)
galleys &lt;- ojsr::get_galleys_from_article(input_url = articles,verbose = TRUE)

</code></pre>

<hr>
<h2 id='get_html_meta_from_article'>Scraping metadata from the OJS articles HTML</h2><span id='topic+get_html_meta_from_article'></span>

<h3>Description</h3>

<p>Takes a vector of OJS URLs and scrapes all metadata written in HTML from the article view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_html_meta_from_article(input_url, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_html_meta_from_article_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
<tr><td><code id="get_html_meta_from_article_+3A_verbose">verbose</code></td>
<td>
<p>Logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A long-format dataframe with the url you provided (input_url), the name of the metadata (meta_data_name),
the content of the metadata (meta_data_content), the standard in which the content is annotated (meta_data_scheme),
and the language in which the metadata was entered (meta_data_xmllang)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
articles &lt;- c(
  'https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2137', # article
  'https://dspace.palermo.edu/ojs/index.php/psicodebate/article/view/516/311' # xml galley
)
metadata &lt;- ojsr::get_html_meta_from_article(articles, verbose = TRUE)

</code></pre>

<hr>
<h2 id='get_issues_from_archive'>Scraping issues’ URLs from the OJS issues archive</h2><span id='topic+get_issues_from_archive'></span>

<h3>Description</h3>

<p>Takes a vector of OJS URLs and scrapes the issues URLs from the issue archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_issues_from_archive(input_url, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_issues_from_archive_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
<tr><td><code id="get_issues_from_archive_+3A_verbose">verbose</code></td>
<td>
<p>Logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A long-format dataframe with the url you provided (input_url) and the url of issues found (output_url)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
journals &lt;- c(
  'https://dspace.palermo.edu/ojs/index.php/psicodebate/issue/archive',
  'https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2903'
)
issues &lt;- ojsr::get_issues_from_archive(input_url = journals, verbose = TRUE)


</code></pre>

<hr>
<h2 id='get_oai_meta_from_article'>Retrieving OAI records for OJS articles</h2><span id='topic+get_oai_meta_from_article'></span>

<h3>Description</h3>

<p>This functions access OAI records (within OJS) for any article for which you provided an URL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_oai_meta_from_article(input_url, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_oai_meta_from_article_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
<tr><td><code id="get_oai_meta_from_article_+3A_verbose">verbose</code></td>
<td>
<p>Logical.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Several limitations are in place. Please refer to vignette.
</p>


<h3>Value</h3>

<p>A long-format dataframe with the url you provided (input_url), the name of the metadata (meta_data_name),
and the content of the metadata (meta_data_content).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
articles &lt;- c(
  'https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2137', # article
  'https://dspace.palermo.edu/ojs/index.php/psicodebate/article/view/516/311' # xml galley
)
metadata_oai &lt;- ojsr::get_oai_meta_from_article(input_url = articles, verbose = TRUE)

</code></pre>

<hr>
<h2 id='ojsr'>ojsr: A package for scraping OJS</h2><span id='topic+ojsr'></span>

<h3>Description</h3>

<p>This package allows you to crawl OJS archives, issues, articles, galleys,
and search results, and retrieve metadata from articles.
This is useful if OJS Rest API is not available (as in installations prior to v3.1).
It also includes function to parse OJS specific URL conventions.
</p>

<hr>
<h2 id='parse_base_url'>Parses urls against OJS routing conventions and retrieves the base url</h2><span id='topic+parse_base_url'></span>

<h3>Description</h3>

<p>Takes a vector of urls and parses them according to OJS routing conventions, then retrieves OJS base url.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_base_url(input_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_base_url_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the same length of your input.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mix_links &lt;- c(
  'https://dspace.palermo.edu/ojs/index.php/psicodebate/issue/archive',
  'https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2903'
)
base_url &lt;- ojsr::parse_base_url(input_url = mix_links)

</code></pre>

<hr>
<h2 id='parse_oai_url'>Parses urls against OJS routing conventions and retrieves the OAI url</h2><span id='topic+parse_oai_url'></span>

<h3>Description</h3>

<p>Takes a vector of urls and parses them according to OJS routing conventions, then retrieves OAI entry url.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_oai_url(input_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_oai_url_+3A_input_url">input_url</code></td>
<td>
<p>Character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the same length of your input.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mix_links &lt;- c(
  'https://dspace.palermo.edu/ojs/index.php/psicodebate/issue/archive',
  'https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2903'
)
oai_url &lt;- ojsr::parse_oai_url(input_url = mix_links)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package zipangu</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {zipangu}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#convert_jdate'><p>Convert Japanese date format to date object</p></a></li>
<li><a href='#convert_jyear'><p>Convert Japanese imperial year to Anno Domini</p></a></li>
<li><a href='#convert_prefecture'><p>Convert prefecture names to roman or kanji</p></a></li>
<li><a href='#convert_prefecture_from_kana'><p>Convert prefecture names from kana</p></a></li>
<li><a href='#dl_zipcode_file'><p>Download a zip-code file</p></a></li>
<li><a href='#find_date_by_wday'><p>Find out the date of the specific month and weekday</p></a></li>
<li><a href='#harmonize_prefecture_name'><p>Harmonize the notation of Japanese prefecture names.</p></a></li>
<li><a href='#is_jholiday'><p>Is x a public holidays in Japan?</p></a></li>
<li><a href='#is_prefecture'><p>Check correctly prefecture names</p></a></li>
<li><a href='#is_zipcode'><p>Test zip-code</p></a></li>
<li><a href='#jholiday_spec'><p>Public holidays in Japan</p></a></li>
<li><a href='#jpnprefs'><p>Prefectural informations in Japan</p></a></li>
<li><a href='#kana'><p>Create kana vector</p></a></li>
<li><a href='#kansuji2arabic'><p>Convert kansuji character to arabic</p></a></li>
<li><a href='#label_kansuji'><p>Label numbers in Kansuji format</p></a></li>
<li><a href='#read_zipcode'><p>Read Japan post's zip-code file</p></a></li>
<li><a href='#separate_address'><p>Separate address elements</p></a></li>
<li><a href='#str_jconv'><p>Converts the kind of string used as Japanese</p></a></li>
<li><a href='#str_jnormalize'><p>Converts characters following the rules of 'neologd'</p></a></li>
<li><a href='#zipcode_spacer'><p>Insert and remove zip-code connect character</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Japanese Utility Functions and Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Some data treated by the Japanese R user require
    unique operations and processing. These are caused by address, Kanji,
    and traditional year representations. 'zipangu' transforms specific
    to Japan into something more general one.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://uribo.github.io/zipangu/">https://uribo.github.io/zipangu/</a>, <a href="https://github.com/uribo/zipangu">https://github.com/uribo/zipangu</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/uribo/zipangu/issues">https://github.com/uribo/zipangu/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.3), lifecycle (&ge; 0.1.0), lubridate (&ge; 1.7.4),
magrittr (&ge; 1.5), memoise, purrr (&ge; 0.3.3), rlang (&ge; 0.4.0),
stringi (&ge; 1.4.3), stringr (&ge; 1.4.0), tibble (&ge; 2.1.3),
arabic2kansuji (&ge; 0.1.0), stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr (&ge; 3.4.0), testthat (&ge; 2.1.0), scales (&ge; 1.1.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-12-09 08:51:38 UTC; suryu</td>
</tr>
<tr>
<td>Author:</td>
<td>Shinya Uryu <a href="https://orcid.org/0000-0002-0493-6186"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Hiroaki Yutani <a href="https://orcid.org/0000-0002-3385-7233"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Kazuhiro Maeda [ctb],
  Mao Kobayashi [ctb],
  Akiru Kato [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shinya Uryu &lt;suika1127@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-12-09 09:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='convert_jdate'>Convert Japanese date format to date object</h2><span id='topic+convert_jdate'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_jdate(date, legacy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_jdate_+3A_date">date</code></td>
<td>
<p>A character object.</p>
</td></tr>
<tr><td><code id="convert_jdate_+3A_legacy">legacy</code></td>
<td>
<p>A logical to switch converter. If <code>TRUE</code> supplied, use the legacy
converter instead of 'ICU' implementation.</p>
</td></tr>
</table>


<h3>Examples</h3>

<div class="sourceCode r"><pre>convert_jdate("R3/2/27")
#&gt; [1] "2021-02-27"
convert_jdate("\u4ee4\u548c2\u5e747\u67086\u65e5")
#&gt; [1] "2020-07-06"
</pre></div>

<hr>
<h2 id='convert_jyear'>Convert Japanese imperial year to Anno Domini</h2><span id='topic+convert_jyear'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_jyear(jyear, legacy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_jyear_+3A_jyear">jyear</code></td>
<td>
<p>Japanese imperial year (jyear). Kanji or Roman character</p>
</td></tr>
<tr><td><code id="convert_jyear_+3A_legacy">legacy</code></td>
<td>
<p>A logical to switch converter. If <code>TRUE</code> supplied, use the legacy
converter instead of 'ICU' implementation.</p>
</td></tr>
</table>


<h3>Examples</h3>

<div class="sourceCode r"><pre>convert_jyear("R1")
#&gt; [1] 2019
convert_jyear("Heisei2")
#&gt; [1] 1990
convert_jyear("\u5e73\u6210\u5143\u5e74")
#&gt; [1] 1989
convert_jyear(c("\u662d\u548c10\u5e74", "\u5e73\u621014\u5e74"))
#&gt; [1] 1935 2002
convert_jyear(kansuji2arabic_all("\u5e73\u6210\u4e09\u5e74"))
#&gt; [1] 1991
</pre></div>

<hr>
<h2 id='convert_prefecture'>Convert prefecture names to roman or kanji</h2><span id='topic+convert_prefecture'></span>

<h3>Description</h3>

<p>Convert prefecture names to roman or kanji
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_prefecture(x, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_prefecture_+3A_x">x</code></td>
<td>
<p>prefecture name in kanji</p>
</td></tr>
<tr><td><code id="convert_prefecture_+3A_to">to</code></td>
<td>
<p>conversion destination</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>convert_prefecture(c("tokyo-to", "osaka", "ALL"), to="kanji")
convert_prefecture(
  c("\u6771\u4eac", "\u5927\u962a\u5e9c",
  "\u5317\u6d77\u9053", "\u5168\u56fd"),
  to = "roman")
</code></pre>

<hr>
<h2 id='convert_prefecture_from_kana'>Convert prefecture names from kana</h2><span id='topic+convert_prefecture_from_kana'></span>

<h3>Description</h3>

<p>Convert prefecture names from kana
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_prefecture_from_kana(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_prefecture_from_kana_+3A_x">x</code></td>
<td>
<p>prefecture name in kana</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>convert_prefecture_from_kana(c("\u3068\u3046\u304d\u3087\u3046\u3068"))
convert_prefecture_from_kana(c("\u30c8\u30a6\u30ad\u30e7\u30a6\u30c8", "\u30ad\u30e7\u30a6\u30c8"))
convert_prefecture_from_kana(c("\u30c8\u30a6\u30ad\u30e7\u30a6", "\u304a\u304a\u3055\u304b"))

</code></pre>

<hr>
<h2 id='dl_zipcode_file'>Download a zip-code file</h2><span id='topic+dl_zipcode_file'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dl_zipcode_file(path, exdir = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dl_zipcode_file_+3A_path">path</code></td>
<td>
<p>local file path or zip file URL</p>
</td></tr>
<tr><td><code id="dl_zipcode_file_+3A_exdir">exdir</code></td>
<td>
<p>The directory to extract zip file. If <code>NULL</code>, use temporary folder.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dl_zipcode_file(path = "https://www.post.japanpost.jp/zipcode/dl/oogaki/zip/02aomori.zip")
dl_zipcode_file("https://www.post.japanpost.jp/zipcode/dl/oogaki/zip/02aomori.zip",
                exdir = getwd())

## End(Not run)
</code></pre>

<hr>
<h2 id='find_date_by_wday'>Find out the date of the specific month and weekday</h2><span id='topic+find_date_by_wday'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Get the date of the Xth the specific weekday
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_date_by_wday(year, month, wday, ordinal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_date_by_wday_+3A_year">year</code></td>
<td>
<p>numeric year</p>
</td></tr>
<tr><td><code id="find_date_by_wday_+3A_month">month</code></td>
<td>
<p>numeric month</p>
</td></tr>
<tr><td><code id="find_date_by_wday_+3A_wday">wday</code></td>
<td>
<p>numeric weekday</p>
</td></tr>
<tr><td><code id="find_date_by_wday_+3A_ordinal">ordinal</code></td>
<td>
<p>number of week</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of class POSIXct
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_date_by_wday(2021, 1, 2, 2)
</code></pre>

<hr>
<h2 id='harmonize_prefecture_name'>Harmonize the notation of Japanese prefecture names.</h2><span id='topic+harmonize_prefecture_name'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonize_prefecture_name(x, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonize_prefecture_name_+3A_x">x</code></td>
<td>
<p>Input vector.</p>
</td></tr>
<tr><td><code id="harmonize_prefecture_name_+3A_to">to</code></td>
<td>
<p>Option. Whether to use longer (&quot;long&quot;) or shorter (&quot;short&quot;)
prefectures.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert with and without terminal notation, respectively.
</p>

<ul>
<li><p> long option, long formal name
</p>
</li>
<li><p> Use the short option to omit the trailing characters
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("\u6771\u4eac\u90fd", "\u5317\u6d77\u9053", "\u6c96\u7e04\u770c")
harmonize_prefecture_name(x, to = "short")
x &lt;- c("\u6771\u4eac", "\u5317\u6d77\u9053", "\u6c96\u7e04")
harmonize_prefecture_name(x, to = "long")
</code></pre>

<hr>
<h2 id='is_jholiday'>Is x a public holidays in Japan?</h2><span id='topic+is_jholiday'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Whether it is a holiday defined by Japanese law (enacted in 1948)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_jholiday(date)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_jholiday_+3A_date">date</code></td>
<td>
<p>a vector of <a href="base.html#topic+POSIXt">POSIXt</a>, numeric or character objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Holiday information refers to data published as of December 21, 2020.
Future holidays are subject to change.
</p>


<h3>Value</h3>

<p>TRUE if x is a public holidays in Japan, FALSE otherwise.
</p>


<h3>Examples</h3>

<div class="sourceCode r"><pre>is_jholiday("2021-01-01")
#&gt; [1] TRUE
is_jholiday("2018-12-23")
#&gt; [1] TRUE
is_jholiday("2019-12-23")
#&gt; [1] FALSE
</pre></div>

<hr>
<h2 id='is_prefecture'>Check correctly prefecture names</h2><span id='topic+is_prefecture'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_prefecture(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_prefecture_+3A_x">x</code></td>
<td>
<p>Input vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Check if the string is a prefectural string.
If it contains the name of the prefecture and other
strings (e.g. city name), it returns <code>FALSE</code>.
</p>


<h3>Value</h3>

<p>logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_prefecture("\u6771\u4eac\u90fd")
is_prefecture(c("\u6771\u4eac", "\u4eac\u90fd", "\u3064\u304f\u3070"))
</code></pre>

<hr>
<h2 id='is_zipcode'>Test zip-code</h2><span id='topic+is_zipcode'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_zipcode(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_zipcode_+3A_x">x</code></td>
<td>
<p>Zip-code. Number or character. Hyphens may be included,
but the input must contain a 7-character number.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_zipcode(7000027)
is_zipcode("700-0027")
</code></pre>

<hr>
<h2 id='jholiday_spec'>Public holidays in Japan</h2><span id='topic+jholiday_spec'></span><span id='topic+jholiday'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jholiday_spec(year, name, lang = "en")

jholiday(year, lang = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jholiday_spec_+3A_year">year</code></td>
<td>
<p>numeric years after 1949.
If <code>NA</code> supplied, <code>jholiday_spec</code> returns <code>NA</code> respectively.
On the other hand, <code>jholiday</code> always omits any <code>NA</code> values.</p>
</td></tr>
<tr><td><code id="jholiday_spec_+3A_name">name</code></td>
<td>
<p>holiday names.
If this argument is not the same length of year, the first element will be recycled.</p>
</td></tr>
<tr><td><code id="jholiday_spec_+3A_lang">lang</code></td>
<td>
<p>switch for turning values to &quot;en&quot; or &quot;jp&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Holiday information refers to data published as of December 21, 2020.
Future holidays are subject to change.
</p>


<h3>Examples</h3>

<div class="sourceCode r"><pre>jholiday_spec(2019, "Sports Day")
#&gt; [1] "2019-10-14"
jholiday_spec(2021, "Sports Day")
#&gt; [1] "2021-07-23"
</pre></div>
<p>List of a specific year holidays
</p>
<div class="sourceCode r"><pre>jholiday(2021, "en")
#&gt; $`New Year's Day`
#&gt; [1] "2021-01-01"
#&gt; 
#&gt; $`Coming of Age Day`
#&gt; [1] "2021-01-11"
#&gt; 
#&gt; $`Foundation Day`
#&gt; [1] "2021-02-11"
#&gt; 
#&gt; $`The Emperor's Birthday`
#&gt; [1] "2021-02-23"
#&gt; 
#&gt; $`Vernal Equinox Day`
#&gt; [1] "2021-03-20"
#&gt; 
#&gt; $`Showa Day`
#&gt; [1] "2021-04-29"
#&gt; 
#&gt; $`Constitution Memorial Day`
#&gt; [1] "2021-05-03"
#&gt; 
#&gt; $`Greenery Day`
#&gt; [1] "2021-05-04"
#&gt; 
#&gt; $`Children's Day`
#&gt; [1] "2021-05-05"
#&gt; 
#&gt; $`Marine Day`
#&gt; [1] "2021-07-22"
#&gt; 
#&gt; $`Sports Day`
#&gt; [1] "2021-07-23"
#&gt; 
#&gt; $`Mountain Day`
#&gt; [1] "2021-08-08"
#&gt; 
#&gt; $`Respect for the Aged Day`
#&gt; [1] "2021-09-20"
#&gt; 
#&gt; $`Autumnal Equinox Day`
#&gt; [1] "2021-09-23"
#&gt; 
#&gt; $`Culture Day`
#&gt; [1] "2021-11-03"
#&gt; 
#&gt; $`Labour Thanksgiving Day`
#&gt; [1] "2021-11-23"
</pre></div>


<h3>References</h3>

<p>Public Holiday Law <a href="https://www8.cao.go.jp/chosei/shukujitsu/gaiyou.html">https://www8.cao.go.jp/chosei/shukujitsu/gaiyou.html</a>,
<a href="https://elaws.e-gov.go.jp/document?lawid=323AC1000000178">https://elaws.e-gov.go.jp/document?lawid=323AC1000000178</a>
</p>

<hr>
<h2 id='jpnprefs'>Prefectural informations in Japan</h2><span id='topic+jpnprefs'></span>

<h3>Description</h3>

<p>Prefectures dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jpnprefs
</code></pre>


<h3>Format</h3>

<p>A tibble with 47 rows 5 variables:
</p>

<ul>
<li><p>jis_code: jis code
</p>
</li>
<li><p>prefecture_kanji: prefecture names
</p>
</li>
<li><p>prefecture: prefecture names
</p>
</li>
<li><p>region: region
</p>
</li>
<li><p>major_island: 
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>jpnprefs
</code></pre>

<hr>
<h2 id='kana'>Create kana vector</h2><span id='topic+kana'></span><span id='topic+hiragana'></span><span id='topic+katakana'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Generates a vector consisting of the elements of kana.
Options exist for the inclusion of several elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kana(type, ...)

hiragana(
  core = TRUE,
  dakuon = FALSE,
  handakuon = FALSE,
  kogaki = FALSE,
  historical = FALSE
)

katakana(
  core = TRUE,
  dakuon = FALSE,
  handakuon = FALSE,
  kogaki = FALSE,
  historical = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kana_+3A_type">type</code></td>
<td>
<p>&quot;hiragana&quot; (&quot;hira&quot;) or &quot;katakana&quot; (&quot;kata&quot;)</p>
</td></tr>
<tr><td><code id="kana_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+hiragana">hiragana</a></code>
</p>

<dl>
<dt></dt><dd></dd>
</dl>
</td></tr>
<tr><td><code id="kana_+3A_core">core</code></td>
<td>
<p>is include core kana characters.</p>
</td></tr>
<tr><td><code id="kana_+3A_dakuon">dakuon</code></td>
<td>
<p>e.g. ga, gi, gu, ge, go</p>
</td></tr>
<tr><td><code id="kana_+3A_handakuon">handakuon</code></td>
<td>
<p>e.g. pa, pi, pu, pe, po</p>
</td></tr>
<tr><td><code id="kana_+3A_kogaki">kogaki</code></td>
<td>
<p>small character</p>
</td></tr>
<tr><td><code id="kana_+3A_historical">historical</code></td>
<td>
<p>old style</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>kana(type = "hira", core = TRUE)
kana(type = "hira", core = TRUE, handakuon = TRUE)
</code></pre>

<hr>
<h2 id='kansuji2arabic'>Convert kansuji character to arabic</h2><span id='topic+kansuji2arabic'></span><span id='topic+kansuji2arabic_all'></span><span id='topic+kansuji2arabic_num'></span><span id='topic+kansuji2arabic_str'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Converts a given Kansuji element such as Ichi (1) and Nana (7) to an Arabic.
<code><a href="#topic+kansuji2arabic_all">kansuji2arabic_all()</a></code> converts only Kansuji in the string.
<code><a href="#topic+kansuji2arabic_num">kansuji2arabic_num()</a></code> convert kansuji that contain the positions (e.g. Hyaku,
Sen, etc) with the numbers represented by kansuji. <code><a href="#topic+kansuji2arabic_str">kansuji2arabic_str()</a></code>
converts kansuji in a string to numbers represented by kansuji while
retaining the non-kansuji characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kansuji2arabic(str, convert = TRUE, .under = Inf)

kansuji2arabic_all(str, ...)

kansuji2arabic_num(str, consecutive = c("convert", "non"), ...)

kansuji2arabic_str(
  str,
  consecutive = c("convert", "non"),
  widths = c("all", "halfwidth"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kansuji2arabic_+3A_str">str</code></td>
<td>
<p>Input vector.</p>
</td></tr>
<tr><td><code id="kansuji2arabic_+3A_convert">convert</code></td>
<td>
<p>If <code>FALSE</code>, will return as numeric. The default value is <code>TRUE</code>,
and numeric values are treated as strings.</p>
</td></tr>
<tr><td><code id="kansuji2arabic_+3A_.under">.under</code></td>
<td>
<p>Number scale to be converted. The default value is infinity.</p>
</td></tr>
<tr><td><code id="kansuji2arabic_+3A_...">...</code></td>
<td>
<p>Other arguments to carry over to <code><a href="#topic+kansuji2arabic">kansuji2arabic()</a></code></p>
</td></tr>
<tr><td><code id="kansuji2arabic_+3A_consecutive">consecutive</code></td>
<td>
<p>If you select &quot;convert&quot;, any sequence of 1 to 9 kansuji will
be replaced with Arabic numerals. If you select &quot;non&quot;, any sequence of 1-9
kansuji will not be replaced by Arabic numerals.</p>
</td></tr>
<tr><td><code id="kansuji2arabic_+3A_widths">widths</code></td>
<td>
<p>If you select &quot;all&quot;, both full-width and half-width Arabic numerals
are taken into account when calculating kansuji, but if you select &quot;halfwidth&quot;,
only half-width Arabic numerals are taken into account when calculating kansuji.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character or numeric.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>kansuji2arabic("\u4e00")
kansuji2arabic(c("\u4e00", "\u767e"))
kansuji2arabic(c("\u4e00", "\u767e"), convert = FALSE)
# Keep Kansuji over 1000.
kansuji2arabic(c("\u4e00", "\u767e", "\u5343"), .under = 1000)
# Convert all character
kansuji2arabic_all("\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341")
kansuji2arabic_all("\u516b\u4e01\u76ee")
# Convert kansuji that contain the positions with the numbers represented by kansuji.
kansuji2arabic_num("\u4e00\u5104\u4e8c\u5343\u4e09\u767e\u56db\u5341\u4e94\u4e07")
kansuji2arabic_num("\u4e00\u5104\u4e8c\u4e09\u56db\u4e94\u4e07\u516d\u4e03\u516b\u4e5d")
# Converts kansuji in a string to numbers represented by kansuji.
kansuji2arabic_str("\u91d1\u4e00\u5104\u4e8c\u5343\u4e09\u767e\u56db\u5341\u4e94\u4e07\u5186")
kansuji2arabic_str("\u91d1\u4e00\u5104\u4e8c\u4e09\u56db\u4e94\u4e07\u516d\u4e03\u516b\u4e5d\u5186")
kansuji2arabic_str("\u91d11\u51042345\u4e076789\u5186")
</code></pre>

<hr>
<h2 id='label_kansuji'>Label numbers in Kansuji format</h2><span id='topic+label_kansuji'></span><span id='topic+label_kansuji_suffix'></span>

<h3>Description</h3>

<p>Automatically scales and labels with the Kansuji Myriad Scale (e.g. &quot;Man&quot;,
&quot;Oku&quot;, etc).
Use <code><a href="#topic+label_kansuji">label_kansuji()</a></code> converts the label value to either Kansuji value or a
mixture of Arabic numerals and the Kansuji Scales for ten thousands,
billions, and ten quadrillions.
Use <code><a href="#topic+label_kansuji_suffix">label_kansuji_suffix()</a></code> converts the label value to an Arabic numeral
followed by the Kansuji Scale with the suffix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_kansuji(
  unit = NULL,
  sep = "",
  prefix = "",
  big.mark = "",
  number = c("arabic", "kansuji"),
  ...
)

label_kansuji_suffix(
  accuracy = 1,
  unit = NULL,
  sep = NULL,
  prefix = "",
  big.mark = "",
  significant.digits = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_kansuji_+3A_unit">unit</code></td>
<td>
<p>Optional units specifier.</p>
</td></tr>
<tr><td><code id="label_kansuji_+3A_sep">sep</code></td>
<td>
<p>Separator between number and Kansuji unit.</p>
</td></tr>
<tr><td><code id="label_kansuji_+3A_prefix">prefix</code></td>
<td>
<p>Symbols to display before value.</p>
</td></tr>
<tr><td><code id="label_kansuji_+3A_big.mark">big.mark</code></td>
<td>
<p>Character used between every 3 digits to separate thousands.</p>
</td></tr>
<tr><td><code id="label_kansuji_+3A_number">number</code></td>
<td>
<p>If Number is arabic, it will return a mixture of Arabic and the
Kansuji Myriad Scale; if Kansuji, it will return only Kansuji numerals.</p>
</td></tr>
<tr><td><code id="label_kansuji_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="base.html#topic+formatc">base::prettyNum()</a></code>, <code><a href="scales.html#topic+label_number">scales::label_number()</a></code> or
<code><a href="arabic2kansuji.html#topic+arabic2kansuji">arabic2kansuji::arabic2kansuji_all()</a></code>.</p>
</td></tr>
<tr><td><code id="label_kansuji_+3A_accuracy">accuracy</code></td>
<td>
<p>A number to round to. Use (e.g.) 0.01 to show 2 decimal
places of precision.</p>
</td></tr>
<tr><td><code id="label_kansuji_+3A_significant.digits">significant.digits</code></td>
<td>
<p>Determines whether or not the value of accurary is
valid as a significant figure with a decimal point. The default is FALSE, in
which case if accurary is 2 and the value is 1.10, 1.1 will be displayed,
but if TRUE and installed 'scales' package, 1.10 will be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>All <code>label_()</code> functions return a &quot;labelling&quot; function, i.e. a function
that takes a vector x and returns a character vector of length(x) giving a
label for each input value.
</p>


<h3>Examples</h3>

<div class="sourceCode r"><pre>library("scales")
demo_continuous(c(1, 1e9), label = label_kansuji())
demo_continuous(c(1, 1e9), label = label_kansuji_suffix())
</pre></div>

<hr>
<h2 id='read_zipcode'>Read Japan post's zip-code file</h2><span id='topic+read_zipcode'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_zipcode(path, type = c("oogaki", "kogaki", "roman", "jigyosyo"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_zipcode_+3A_path">path</code></td>
<td>
<p>local file path or zip file URL</p>
</td></tr>
<tr><td><code id="read_zipcode_+3A_type">type</code></td>
<td>
<p>Input file type, one of &quot;oogaki&quot;, &quot;kogaki&quot;, &quot;roman&quot;, &quot;jigyosyo&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reads zip-code data in csv format provided by japan post group and parse it as a data.frame.
Corresponds to the available &quot;oogaki&quot;, &quot;kogaki&quot;, &quot;roman&quot; and &quot;jigyosyo&quot; types.
These file types must be specified by the argument.
</p>


<h3>Value</h3>

<p><a href="tibble.html#topic+tibble">tibble</a>
</p>


<h3>See Also</h3>

<p><a href="https://www.post.japanpost.jp/zipcode/dl/readme.html">https://www.post.japanpost.jp/zipcode/dl/readme.html</a>,
<a href="https://www.post.japanpost.jp/zipcode/dl/jigyosyo/readme.html">https://www.post.japanpost.jp/zipcode/dl/jigyosyo/readme.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Input sources
read_zipcode(path = system.file("zipcode_dummy/13TOKYO_oogaki.CSV", package = "zipangu"),
             type = "oogaki")
read_zipcode(system.file("zipcode_dummy/13TOKYO_kogaki.CSV", package = "zipangu"),
             "oogaki")
read_zipcode(system.file("zipcode_dummy/KEN_ALL_ROME.CSV", package = "zipangu"),
             "roman")
read_zipcode(system.file("zipcode_dummy/JIGYOSYO.CSV", package = "zipangu"),
             "jigyosyo")
## Not run: 
# Or directly from a URL
read_zipcode("https://www.post.japanpost.jp/zipcode/dl/jigyosyo/zip/jigyosyo.zip")

## End(Not run)
</code></pre>

<hr>
<h2 id='separate_address'>Separate address elements</h2><span id='topic+separate_address'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Parses and decomposes address string into elements of
prefecture, city, and lower address.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>separate_address(str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="separate_address_+3A_str">str</code></td>
<td>
<p>Input vector. address strings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of elements that make up an address.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>separate_address("\u5317\u6d77\u9053\u672d\u5e4c\u5e02\u4e2d\u592e\u533a")
</code></pre>

<hr>
<h2 id='str_jconv'>Converts the kind of string used as Japanese</h2><span id='topic+str_jconv'></span><span id='topic+str_conv_hirakana'></span><span id='topic+str_conv_zenhan'></span><span id='topic+str_conv_romanhira'></span><span id='topic+str_conv_normalize'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_jconv(str, fun, to)

str_conv_hirakana(str, to = c("hiragana", "katakana"))

str_conv_zenhan(str, to = c("zenkaku", "hankaku"))

str_conv_romanhira(str, to = c("roman", "hiragana"))

str_conv_normalize(str, to = c("nfkc"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_jconv_+3A_str">str</code></td>
<td>
<p>Input vector.</p>
</td></tr>
<tr><td><code id="str_jconv_+3A_fun">fun</code></td>
<td>
<p>convert function</p>
</td></tr>
<tr><td><code id="str_jconv_+3A_to">to</code></td>
<td>
<p>Select the type of character to convert.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converts the types of string treat by Japanese people to
each other. The following types are supported.
</p>

<ul>
<li><p> Hiraganra to Katakana
</p>
</li>
<li><p> Zenkaku to Hankaku
</p>
</li>
<li><p> Latin (Roman) to Hiragana
</p>
</li></ul>



<h3>See Also</h3>

<p>These functions are powered by the stringi
package's <a href="stringi.html#topic+stri_trans_general">stri_trans_general()</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str_jconv("\u30a2\u30a4\u30a6\u30a8\u30aa", str_conv_hirakana, to = "hiragana")
str_jconv("\u3042\u3044\u3046\u3048\u304a", str_conv_hirakana, to = "katakana")
str_jconv("\uff41\uff10", str_conv_zenhan, "hankaku")
str_jconv("\uff76\uff9e\uff6f", str_conv_zenhan, "zenkaku")
str_jconv("\u30a2\u30a4\u30a6\u30a8\u30aa", str_conv_romanhira, "roman")
str_jconv("\u2460", str_conv_normalize, "nfkc")
str_conv_hirakana("\u30a2\u30a4\u30a6\u30a8\u30aa", to = "hiragana")
str_conv_hirakana("\u3042\u3044\u3046\u3048\u304a", to = "katakana")
str_conv_zenhan("\uff41\uff10", "hankaku")
str_conv_zenhan("\uff76\uff9e\uff6f", "zenkaku")
str_conv_romanhira("aiueo", "hiragana")
str_conv_romanhira("\u3042\u3044\u3046\u3048\u304a", "roman")
str_conv_normalize("\u2460", "nfkc")
</code></pre>

<hr>
<h2 id='str_jnormalize'>Converts characters following the rules of 'neologd'</h2><span id='topic+str_jnormalize'></span>

<h3>Description</h3>

<p>Converts characters following the rules of 'neologd'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_jnormalize(str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_jnormalize_+3A_str">str</code></td>
<td>
<p>Input vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converts the characters into normalized style
basing on rules that is recommended by the Neologism dictionary for MeCab.
</p>


<h3>Value</h3>

<p>a character
</p>


<h3>See Also</h3>

<p><a href="https://github.com/neologd/mecab-ipadic-neologd/wiki/Regexp.ja">https://github.com/neologd/mecab-ipadic-neologd/wiki/Regexp.ja</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str_jnormalize(
  paste0(
    "    \uff30",
    "\uff32\uff2d\uff2c\u300    \u526f    \u8aad    \u672c      "
  )
)
str_jnormalize(
  paste0(
    "\u5357\u30a2\u30eb\u30d7\u30b9\u306e\u3000\u5929\u7136\u6c34",
    "-\u3000\uff33\uff50\uff41\uff52\uff4b\uff49\uff4e\uff47\u3000",
    "\uff2c\uff45\uff4d\uff4f\uff4e\u3000\u30ec\u30e2\u30f3\u4e00\u7d5e\u308a"
 )
)
</code></pre>

<hr>
<h2 id='zipcode_spacer'>Insert and remove zip-code connect character</h2><span id='topic+zipcode_spacer'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
Inserts a hyphen as a delimiter in the given zip-code string.
Or exclude the hyphen.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zipcode_spacer(x, remove = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zipcode_spacer_+3A_x">x</code></td>
<td>
<p>Zip-code. Number or character. Hyphens may be included,
but the input must contain a 7-character number.</p>
</td></tr>
<tr><td><code id="zipcode_spacer_+3A_remove">remove</code></td>
<td>
<p>Default is <code>FALSE</code>. If <code>TRUE</code>, remove the hyphen.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>zipcode_spacer(7000027)
zipcode_spacer("305-0053")
zipcode_spacer("305-0053", remove = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

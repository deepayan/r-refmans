<!DOCTYPE html><html lang="en-GB"><head><title>Help for package iNZightRegression</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {iNZightRegression}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#iNZightRegression-package'><p>iNZightRegression: Tools for Exploring Regression Models with 'iNZight'</p></a></li>
<li><a href='#compare_models'><p>Compare regression models using AIC and BIC.</p></a></li>
<li><a href='#factorComp'><p>Compare factor levels</p></a></li>
<li><a href='#histogramArray'><p>Histogram Array</p></a></li>
<li><a href='#iNZightQQplot'><p>iNZight QQ Plot</p></a></li>
<li><a href='#iNZightSummary'><p>Informative Summary Information for Regression Models</p></a></li>
<li><a href='#inzplot'><p>inzplot method</p></a></li>
<li><a href='#inzsummary'><p>inzsummary method</p></a></li>
<li><a href='#partialResPlot'><p>Partial residual plot of continuous variable</p></a></li>
<li><a href='#plotlm6'><p>Extended Plot Diagnostics for (g)lm Models</p></a></li>
<li><a href='#Poly'><p>Polynomial Matrix</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tools for Exploring Regression Models with 'iNZight'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.4</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>car, dplyr, GGally, ggplot2, ggrepel, ggtext, graphics,
grDevices, grid, iNZightPlots (&ge; 2.13), multcomp, patchwork,
stats, stats4, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, broom.helpers, iNZightTools (&ge; 1.9), survey, survival,
testthat</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a suite of functions to use with regression models, including summaries, residual plots, and factor comparisons. Used as part of the Model Fitting module of 'iNZight', a graphical user interface providing easy exploration and visualisation of data for students of statistics, available in both desktop and online versions.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/iNZightVIT/iNZightRegression/issues">https://github.com/iNZightVIT/iNZightRegression/issues</a></td>
</tr>
<tr>
<td>Contact:</td>
<td>inzight_support@stat.auckland.ac.nz</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://inzight.nz">https://inzight.nz</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-05 00:03:38 UTC; tom</td>
</tr>
<tr>
<td>Author:</td>
<td>Tom Elliott <a href="https://orcid.org/0000-0002-7815-6318"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Simon Potter [aut],
  David Banks [aut],
  Danny Chang [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tom Elliott &lt;tom.elliott@auckland.ac.nz&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-05 02:32:59 UTC</td>
</tr>
</table>
<hr>
<h2 id='iNZightRegression-package'>iNZightRegression: Tools for Exploring Regression Models with 'iNZight'</h2><span id='topic+iNZightRegression'></span><span id='topic+iNZightRegression-package'></span>

<h3>Description</h3>

<p>Provides a suite of functions to use with regression models, including summaries, residual plots, and factor comparisons. Used as part of the Model Fitting module of 'iNZight', a graphical user interface providing easy exploration and visualisation of data for students of statistics, available in both desktop and online versions.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Tom Elliott <a href="mailto:tom.elliott@auckland.ac.nz">tom.elliott@auckland.ac.nz</a> (<a href="https://orcid.org/0000-0002-7815-6318">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Simon Potter
</p>
</li>
<li><p> David Banks
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Danny Chang [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://inzight.nz">https://inzight.nz</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/iNZightVIT/iNZightRegression/issues">https://github.com/iNZightVIT/iNZightRegression/issues</a>
</p>
</li></ul>


<hr>
<h2 id='compare_models'>Compare regression models using AIC and BIC.</h2><span id='topic+compare_models'></span><span id='topic+compare_models.default'></span><span id='topic+compare_models.svyglm'></span>

<h3>Description</h3>

<p>Obtain a quick model comparison matrix for a selection of models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_models(x, ...)

## Default S3 method:
compare_models(x, ...)

## S3 method for class 'svyglm'
compare_models(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compare_models_+3A_x">x</code></td>
<td>
<p>a regression model (lm, glm, svyglm, ...)</p>
</td></tr>
<tr><td><code id="compare_models_+3A_...">...</code></td>
<td>
<p>other models</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an 'inzmodelcomp' object containing model comparison statistics
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>compare_models(default)</code>: default method
</p>
</li>
<li> <p><code>compare_models(svyglm)</code>: method for survey GLMs
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Tom Elliott
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m0 &lt;- lm(Sepal.Length ~ 1, data = iris)
m1 &lt;- lm(Sepal.Length ~ Sepal.Width, data = iris)
m2 &lt;- lm(Sepal.Length ~ Sepal.Width + Species, data = iris)
compare_models(m0, m1, m2)
</code></pre>

<hr>
<h2 id='factorComp'>Compare factor levels</h2><span id='topic+factorComp'></span><span id='topic+print.inzfactorcomp'></span>

<h3>Description</h3>

<p>Computes confidence intervals for the pairwise differences between levels
of a factor, based off of <code>stats::TukeyHSD</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factorComp(fit, factor)

## S3 method for class 'inzfactorcomp'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="factorComp_+3A_fit">fit</code></td>
<td>
<p>a lm/glm/svyglm object</p>
</td></tr>
<tr><td><code id="factorComp_+3A_factor">factor</code></td>
<td>
<p>the name of the factor to compare</p>
</td></tr>
<tr><td><code id="factorComp_+3A_x">x</code></td>
<td>
<p>an <code>inzfactorcomp</code> object</p>
</td></tr>
<tr><td><code id="factorComp_+3A_...">...</code></td>
<td>
<p>extra arguments for print (ignored)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a factor level comparison object with estimates, CIs, and (adjusted) p-values
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>print(inzfactorcomp)</code>: print method for object of class <code>inzfactorcomp</code>
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Tom Elliott
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- lm(Sepal.Length ~ Sepal.Width + Species, data = iris)
factorComp(f, "Species")
</code></pre>

<hr>
<h2 id='histogramArray'>Histogram Array</h2><span id='topic+histogramArray'></span>

<h3>Description</h3>

<p>Produces an array of histograms to compare against the histogram of
residuals for a fitted linear model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>histogramArray(x, n = 7, env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="histogramArray_+3A_x">x</code></td>
<td>
<p>an <code>lm</code> or <code>svyglm</code> object.</p>
</td></tr>
<tr><td><code id="histogramArray_+3A_n">n</code></td>
<td>
<p>the number of additional histograms to plot alongside the original.</p>
</td></tr>
<tr><td><code id="histogramArray_+3A_env">env</code></td>
<td>
<p>environment for finding data to bootstrap</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The histogram of the model <code>x</code> appears in the top-left
position. For each of the other histograms, the fitted values of
<code>x</code> are taken and normal random errors are added to these. The
normal residual standard errors have standard error equal to the
estimated residual standard error of <code>x</code>. A model is then fitted
to this altered data and a histogram is produced.
</p>


<h3>Value</h3>

<p>No return value, called to generate plot.
</p>


<h3>Author(s)</h3>

<p>David Banks, Tom Elliott
</p>


<h3>See Also</h3>

<p><code><a href="#topic+iNZightQQplot">iNZightQQplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>histogramArray(lm(Sepal.Length ~ Sepal.Width + Species, data = iris))
</code></pre>

<hr>
<h2 id='iNZightQQplot'>iNZight QQ Plot</h2><span id='topic+iNZightQQplot'></span>

<h3>Description</h3>

<p>Produces a sample of QQ-plots based on the fitted values, overlaid by
a QQ-plot of the original data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iNZightQQplot(x, n = 5, env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="iNZightQQplot_+3A_x">x</code></td>
<td>
<p>an <code>lm</code> or <code>svyglm</code> object (with <code>family = "Gaussian"</code>.</p>
</td></tr>
<tr><td><code id="iNZightQQplot_+3A_n">n</code></td>
<td>
<p>the number of sampled QQ plots to produce beneath the QQ plot of
<code>x</code>.</p>
</td></tr>
<tr><td><code id="iNZightQQplot_+3A_env">env</code></td>
<td>
<p>environment for finding data to bootstrap</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Multiple bootstrap models are generated from the fitted values of
the model, each with different random normal errors with standard
error equal to the estimated residual standard error from the
original model. These are plotted, and then overlaid by the QQ plot
from the original data.
<br /> <br />
This plot can be used to assess the assumption of normality in the
residuals for a linear regression model.
</p>


<h3>Value</h3>

<p>No return value, called to produce plot.
</p>


<h3>Author(s)</h3>

<p>David Banks, Tom Elliott
</p>


<h3>See Also</h3>

<p><code><a href="#topic+histogramArray">histogramArray</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- lm(Volume ~ Height + Girth, data = trees)
iNZightQQplot(fit)

</code></pre>

<hr>
<h2 id='iNZightSummary'>Informative Summary Information for Regression Models</h2><span id='topic+iNZightSummary'></span>

<h3>Description</h3>

<p>The iNZight summary improves upon the base R summary output for
fitted regression models. More information is provided and displayed
in a more intuitive format. This function both creates and returns a
summary object, as well as printing it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iNZightSummary(
  x,
  method = "standard",
  reorder.factors = FALSE,
  digits = max(3, getOption("digits") - 3),
  symbolic.cor = x$symbolic.cor,
  signif.stars = getOption("show.signif.stars"),
  exclude = NULL,
  exponentiate.ci = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="iNZightSummary_+3A_x">x</code></td>
<td>
<p>an object of class <code>"lm"</code>, <code>"glm"</code> or <code>"svyglm"</code>,
usually the result of a call to the corresponding function.</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_method">method</code></td>
<td>
<p>one of either <code>"standard"</code> or <code>"bootstrap"</code>. If
<code>"bootstrap"</code>, then bootstrapped estimates and standard errors
are calculated; otherwise, uses the standard estimates.</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_reorder.factors">reorder.factors</code></td>
<td>
<p>logical, if <code>TRUE</code>, and there are factors present in the model,
then the most common level of the factor is set to be the baseline.</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_digits">digits</code></td>
<td>
<p>the number of significant digits to use when printing.</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_symbolic.cor">symbolic.cor</code></td>
<td>
<p>logical, if <code>TRUE</code>, print the correlations in a symbolic form
(see <code><a href="stats.html#topic+symnum">symnum</a></code>), rather than as numbers.</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_signif.stars">signif.stars</code></td>
<td>
<p>logical, if <code>TRUE</code>, &lsquo;significance stars&rsquo; are printed for
each coefficient.</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_exclude">exclude</code></td>
<td>
<p>a character vector of names of variables to be excluded from the
summary output (i.e., confounding variables).</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_exponentiate.ci">exponentiate.ci</code></td>
<td>
<p>logical, if <code>TRUE</code>, the exponential of the
confidence intervals will be printed if appropriate (log/logit link or log
transformed response)</p>
</td></tr>
<tr><td><code id="iNZightSummary_+3A_...">...</code></td>
<td>
<p>further arguments passed to and from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This summary function provides more information in the following ways:
</p>
<p>Factor headers are now given. The base level for a factor is also
listed with an estimate of 0. This is to make it clear what the base
level of a factor is, rather than attempting to work out by deduction
from what has already been printed.
</p>
<p>The p-value of a factor is now given; this is the output from
<code><a href="car.html#topic+Anova">Anova</a></code>, which calculates the p-value based off of
Type III sums of squares, rather than sequentially as done by
<code><a href="stats.html#topic+anova">anova</a></code>.
</p>
<p>Each level of a factor is indented by 2 characters for its label and
its p-value to distinguish between a factor, and levels of a factor.
</p>
<p>The labels for each level of an interaction are now just the levels of
the factor (separated by a <code>.</code>), rather than being prepended with
the factor name also.
</p>


<h3>Value</h3>

<p>An object of class <code>summary.lm</code>, <code>summary.glm</code>, or
<code>summary.svyglm</code>.
</p>


<h3>Note</h3>

<p>If any level is not observed in a factor, no p-values will be printed
on all factors. This is because we cannot calculate Type III sums of
squares when this is the case.
</p>
<p>The fitted model currently requires that the data are stored in a
dataframe, which is pointed at by the <code>data</code> argument to
<code>lm</code> (or equivalent).
</p>


<h3>Author(s)</h3>

<p>Simon Potter, Tom Elliott.
</p>


<h3>See Also</h3>

<p>The model fitting functions <code><a href="stats.html#topic+lm">lm</a></code>, <code><a href="stats.html#topic+glm">glm</a></code>, and
<code><a href="base.html#topic+summary">summary</a></code>.
</p>
<p>The <code>survey</code> package.
</p>
<p>Function <code><a href="stats.html#topic+coef">coef</a></code> will extract the matrix of coefficients
with standard errors, t-statistics and p-values.
</p>
<p>To calculate p-values for factors, use <code><a href="car.html#topic+Anova">Anova</a></code> with
type III sums of squares.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- lm(Sepal.Length ~ ., data = iris)
iNZightSummary(m)

# exclude confounding variables for which you don't
# need to know about their coefficients:
iNZightSummary(m, exclude = "Sepal.Width")
</code></pre>

<hr>
<h2 id='inzplot'>inzplot method</h2><span id='topic+inzplot'></span><span id='topic+inzplot.glm'></span><span id='topic+inzplot.lm'></span>

<h3>Description</h3>

<p>inzplot method
</p>
<p>Diagnostic Plots for Regression Models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glm'
inzplot(x, ..., env = parent.frame())

## S3 method for class 'lm'
inzplot(
  x,
  which = c("residual", "scale", "leverage", "cooks", "normal", "hist"),
  show.bootstraps = nrow(x$model) &lt; 1e+05,
  label.id = 3L,
  col.smooth = "orangered",
  col.bs = "lightgreen",
  cook.levels = c(0.5, 1),
  col.cook = "pink",
  ...,
  bs.fits = NULL,
  env = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inzplot_+3A_x">x</code></td>
<td>
<p>a regression model</p>
</td></tr>
<tr><td><code id="inzplot_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="inzplot_+3A_env">env</code></td>
<td>
<p>the environment for evaluating things (e.g., bootstraps)</p>
</td></tr>
<tr><td><code id="inzplot_+3A_which">which</code></td>
<td>
<p>the type of plot to draw</p>
</td></tr>
<tr><td><code id="inzplot_+3A_show.bootstraps">show.bootstraps</code></td>
<td>
<p>logical, if <code>TRUE</code> bootstrap smoothers will be shown (defaults to <code>TRUE</code> if fewer than 100,000 observations)</p>
</td></tr>
<tr><td><code id="inzplot_+3A_label.id">label.id</code></td>
<td>
<p>integer for the number of extreme points to label (with row id)</p>
</td></tr>
<tr><td><code id="inzplot_+3A_col.smooth">col.smooth</code></td>
<td>
<p>the colour of smoothers</p>
</td></tr>
<tr><td><code id="inzplot_+3A_col.bs">col.bs</code></td>
<td>
<p>the colour of bootstrap (smoothers)</p>
</td></tr>
<tr><td><code id="inzplot_+3A_cook.levels">cook.levels</code></td>
<td>
<p>levels of the Cook's distance at which to draw contours.</p>
</td></tr>
<tr><td><code id="inzplot_+3A_col.cook">col.cook</code></td>
<td>
<p>the colour of Cook's distance contours</p>
</td></tr>
<tr><td><code id="inzplot_+3A_bs.fits">bs.fits</code></td>
<td>
<p>a list of bootstrapped datasets</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object with a plot method that will show the plot in the graphics device
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>inzplot(glm)</code>: Method for GLMs
</p>
</li></ul>


<h3>Plot types</h3>

<p>There are several plot types available:
</p>

<ul>
<li><p> residual versus fitted
</p>
</li>
<li><p> scale-location
</p>
</li>
<li><p> residual versus leverage
</p>
</li>
<li><p> Cook's distance
</p>
</li>
<li><p> normal Q-Q
</p>
</li>
<li><p> histogram array
</p>
</li>
<li><p> forest plot
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Tom Elliott
</p>


<h3>Examples</h3>

<pre><code class='language-R'>iris_fit &lt;- lm(Sepal.Width ~ Sepal.Length, data = iris)
inzplot(iris_fit)
inzplot(iris_fit, which = "residual", show.bootstraps = FALSE)
</code></pre>

<hr>
<h2 id='inzsummary'>inzsummary method</h2><span id='topic+inzsummary'></span><span id='topic+inzsummary.lm'></span>

<h3>Description</h3>

<p>inzsummary method
</p>
<p>Summary method for linear models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm'
inzsummary(x, ..., env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inzsummary_+3A_x">x</code></td>
<td>
<p>an <code>lm</code>, <code>glm</code>, or <code>svyglm</code> object</p>
</td></tr>
<tr><td><code id="inzsummary_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>iNZightSummary</code></p>
</td></tr>
<tr><td><code id="inzsummary_+3A_env">env</code></td>
<td>
<p>the environment for evaluating things (e.g., bootstraps)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>summary.lm</code>, <code>summary.glm</code>, or
<code>summary.svyglm</code>.
</p>


<h3>See Also</h3>

<p><a href="#topic+iNZightSummary">iNZightSummary</a>
</p>

<hr>
<h2 id='partialResPlot'>Partial residual plot of continuous variable</h2><span id='topic+partialResPlot'></span><span id='topic+allPartialResPlots'></span>

<h3>Description</h3>

<p>This function draws partial residual plots for a continuous explanatory variables in a given model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>partialResPlot(
  fit,
  varname,
  showBootstraps = nrow(fit$model) &gt;= 30 &amp; nrow(fit$model) &lt; 4000,
  use.inzightplots = FALSE,
  env = parent.frame()
)

allPartialResPlots(fit, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="partialResPlot_+3A_fit">fit</code></td>
<td>
<p>an <code>lm</code>, <code>glm</code> or <code>svyglm</code> object.</p>
</td></tr>
<tr><td><code id="partialResPlot_+3A_varname">varname</code></td>
<td>
<p>character, the name of an explanatory variable in the model</p>
</td></tr>
<tr><td><code id="partialResPlot_+3A_showbootstraps">showBootstraps</code></td>
<td>
<p>logical, if <code>TRUE</code>, bootstrap smoothers will overlay the graph. By default this is <code>TRUE</code> if there are between 30 and 4000 observations in the model, otherwise it is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="partialResPlot_+3A_use.inzightplots">use.inzightplots</code></td>
<td>
<p>logical, if <code>TRUE</code>, the iNZightPlots package will be used for plotting.</p>
</td></tr>
<tr><td><code id="partialResPlot_+3A_env">env</code></td>
<td>
<p>environment where the data is stored for bootstrapping</p>
</td></tr>
<tr><td><code id="partialResPlot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to 'partialResPlot'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side-effect of producing a plot.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>allPartialResPlots()</code>: Cycle through all partial residual plots
</p>
</li></ul>


<h3>Author(s)</h3>

<p>David Banks, Tom Elliott.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Width, data = iris)
partialResPlot(m, "Sepal.Width")


allPartialResPlots(lm(Sepal.Length ~ Sepal.Width + Petal.Width, data = iris))

</code></pre>

<hr>
<h2 id='plotlm6'>Extended Plot Diagnostics for (g)lm Models</h2><span id='topic+plotlm6'></span>

<h3>Description</h3>

<p>These plots are an extension of the original plots provided by
<code>plot.lm</code>.
<br /> <br />
Six plots are currently available: residuals versus fitted,
Scale-Location of <code class="reqn">\sqrt{| residuals|}</code> against
fitted values, residuals against leverages, Cook's distance, Normal
Q-Q plot and histogram of residuals.
<br /> <br />
Also provided is the summary plot which shows all diagnostic plots
arranged in a 2 by 3 grid. By default, this is shown first, then each
of the individual plots in turn.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotlm6(
  x,
  which = 1:6,
  panel = if (add.smooth) panel.smooth else points,
  sub.caption = NULL,
  main = "",
  ask = prod(par("mfcol")) &lt; length(which) &amp;&amp; dev.interactive(),
  id.n = 3,
  labels.id = names(residuals(x)),
  cex.id = 0.75,
  qqline = TRUE,
  cook.levels = c(0.5, 1),
  add.smooth = getOption("add.smooth", TRUE),
  label.pos = c(4, 2),
  cex.caption = 1,
  showBootstraps = nrow(x$model) &gt;= 30 &amp;&amp; nrow(x$model) &lt; 4000,
  use.inzightplots = FALSE,
  env = parent.frame(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotlm6_+3A_x">x</code></td>
<td>
<p>an <code>lm</code> object, typically the result of
<code><a href="stats.html#topic+lm">lm</a></code> or <code><a href="stats.html#topic+glm">glm</a></code>. Can also take
<code><a href="survey.html#topic+svyglm">svyglm</a></code> objects.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_which">which</code></td>
<td>
<p>numeric, if a subset of the plots is required, specify a subset of
the numbers <code>1:6</code>. <code>7</code> will produce a summary plot showing
all of the plots arranged in a a grid. <code>1:6</code> will show the
summary plot followed by each of the single plots one by one
(default).</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_panel">panel</code></td>
<td>
<p>panel function. the useful alternative to <code><a href="graphics.html#topic+points">points</a></code>,
<code><a href="graphics.html#topic+panel.smooth">panel.smooth</a></code> can be chosen by <code>add.smooth = TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_sub.caption">sub.caption</code></td>
<td>
<p>common title. Above the figures if there are more than one; used as
<code>sub</code> (s.<code><a href="graphics.html#topic+title">title</a></code>) otherwise. If <code>NULL</code>, as by
default, a possible abbreviated version of <code>deparse(x$call)</code> is
used.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_main">main</code></td>
<td>
<p>title to each plot, in addition to <code>caption</code>.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_ask">ask</code></td>
<td>
<p>logical, if <code>TRUE</code>, the user is <em>ask</em>ed before each plot,
see <code><a href="graphics.html#topic+par">par</a>(ask=.)</code>. Ignored when only one plot is being
shown.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_id.n">id.n</code></td>
<td>
<p>number of points to be labelled in each plot, starting with the most
extreme.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_labels.id">labels.id</code></td>
<td>
<p>vector of labels, from which the labels for extreme plots will be
chosen. <code>NULL</code> uses observation numbers.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_cex.id">cex.id</code></td>
<td>
<p>magnification of point labels.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_qqline">qqline</code></td>
<td>
<p>logical, if <code>TRUE</code>, a <code><a href="stats.html#topic+qqline">qqline</a>()</code> is added to the
normal QQ plot.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_cook.levels">cook.levels</code></td>
<td>
<p>levels of the Cook's distance at which to draw contours.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_add.smooth">add.smooth</code></td>
<td>
<p>logical, if <code>TRUE</code>, a smoother is drawn to the appropriate
plots; see also <code>panel</code> above.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_label.pos">label.pos</code></td>
<td>
<p>positioning of labels, for the left half and right half of the graph
respectively, for plots 1&ndash;3.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_cex.caption">cex.caption</code></td>
<td>
<p>controls the size of <code>caption</code>.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_showbootstraps">showBootstraps</code></td>
<td>
<p>logical, if <code>TRUE</code>, bootstrap loess smoothers are drawn in the
first 4 plots. By default, only drawn for sample sizes of at least 30.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_use.inzightplots">use.inzightplots</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, the iNZightPlots
package will be used for plotting, rather than base R graphics.</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_env">env</code></td>
<td>
<p>environment for performing bootstrap simulations (i.e., to find the dataset!)</p>
</td></tr>
<tr><td><code id="plotlm6_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to through to plotting functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the residuals versus fitted values plot, we add bootstrapped
smoothers to illustrate variance. The smoother is also added to the
Scale-Location plot.
<br /> <br />
The Normal Q-Q and histogram plots are taken from the <code>normcheck</code>
function in the <code>s20x</code> package.
</p>


<h3>Value</h3>

<p>No return value; called for the side-effect of producing a plot.
</p>


<h3>Author(s)</h3>

<p>Simon Potter, David Banks, Tom Elliott.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+histogramArray">histogramArray</a></code>, <code><a href="#topic+iNZightQQplot">iNZightQQplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
m &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Width, data = iris)
plotlm6(m, which = 1)

# the summary grid:
plotlm6(m, which = 7)

# the default cycles through all 6 plots
plotlm6(m)

</code></pre>

<hr>
<h2 id='Poly'>Polynomial Matrix</h2><span id='topic+Poly'></span>

<h3>Description</h3>

<p>A modified 'poly()' function that allows for missing values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Poly(x, degree = 1, coefs = NULL, raw = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Poly_+3A_x">x</code></td>
<td>
<p>variable to convert to matrix</p>
</td></tr>
<tr><td><code id="Poly_+3A_degree">degree</code></td>
<td>
<p>degree of polynomial</p>
</td></tr>
<tr><td><code id="Poly_+3A_coefs">coefs</code></td>
<td>
<p>pass to poly() function</p>
</td></tr>
<tr><td><code id="Poly_+3A_raw">raw</code></td>
<td>
<p>pass to poly() function</p>
</td></tr>
<tr><td><code id="Poly_+3A_...">...</code></td>
<td>
<p>more arguments for the poly() function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Credit goes to whoever posted this online first (google search if you must find it!)
</p>


<h3>Value</h3>

<p>a matrix, with NAs in the missing rows
</p>


<h3>Author(s)</h3>

<p>Tom Elliott
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Poly(rnorm(100), degree = 2L)

# handles missing values:
iris.na &lt;- iris
iris.na$Sepal.Length[c(5, 10)] &lt;- NA
lm(Sepal.Width ~ Poly(Sepal.Length, 2L), data = iris.na)

# stats::poly() produces an error in this case:
# lm(Sepal.Width ~ poly(Sepal.Length, 2L), data = iris.na)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

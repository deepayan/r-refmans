<!DOCTYPE html><html lang="en"><head><title>Help for package iterators</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {iterators}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#iterators-package'>
<p>The Iterators Package</p></a></li>
<li><a href='#iapply'><p>Array/Apply Iterator</p></a></li>
<li><a href='#icount'><p>Counting Iterators</p></a></li>
<li><a href='#idiv'><p>Dividing Iterator</p></a></li>
<li><a href='#iread.table'><p>Iterator over Rows of a Data Frame Stored in a File</p></a></li>
<li><a href='#ireadLines'><p>Iterator over Lines of Text from a Connection</p></a></li>
<li><a href='#irnorm'><p>Random Number Iterators</p></a></li>
<li><a href='#isplit'><p>Split Iterator</p></a></li>
<li><a href='#iter'><p>Iterator Factory Functions</p></a></li>
<li><a href='#makeIwrapper'><p>Iterator Maker Generator</p></a></li>
<li><a href='#nextElem'><p>Get Next Element of Iterator</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Provides Iterator Construct</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.14</td>
</tr>
<tr>
<td>Description:</td>
<td>Support for iterators, which allow a programmer to traverse
    through all the elements of a vector, list, or other collection of data.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/RevolutionAnalytics/iterators">https://github.com/RevolutionAnalytics/iterators</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.5.0), utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RUnit, foreach</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (== 2.0)</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-01-16 18:19:31 UTC; folashade</td>
</tr>
<tr>
<td>Author:</td>
<td>Folashade Daniel [cre],
  Revolution Analytics [aut, cph],
  Steve Weston [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Folashade Daniel &lt;fdaniel@microsoft.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-05 00:50:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='iterators-package'>
The Iterators Package
</h2><span id='topic+iterators-package'></span><span id='topic+iterators'></span>

<h3>Description</h3>

<p>The iterators package provides tools for iterating over various R data structures.
Iterators are available for vectors, lists, matrices, data frames, and files.
By following very simple conventions, new iterators can be written to support
any type of data source, such as database queries or dynamically generated
data.
</p>


<h3>Details</h3>

<p>Further information is available in the following help topics:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>iter</code> </td><td style="text-align: left;"> Generic function used to create iterator objects.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>nextElem</code> </td><td style="text-align: left;"> Generic function used to get the next element of a iterator.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>icount</code> </td><td style="text-align: left;"> A function used to create a counting iterator.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>idiv</code> </td><td style="text-align: left;"> A function used to create a number dividing iterator.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>ireadLines</code> </td><td style="text-align: left;"> A function used to create a file reading iterator.</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>For a complete list of functions with individual help pages,
use <code>library(help="iterators")</code>.
</p>

<hr>
<h2 id='iapply'>Array/Apply Iterator</h2><span id='topic+iapply'></span>

<h3>Description</h3>

<p>Returns an iterator over an array, which iterates over the 
array in much the same manner
as the <code>apply</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iapply(X, MARGIN)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="iapply_+3A_x">X</code></td>
<td>
<p>the array to iterate over.</p>
</td></tr>
<tr><td><code id="iapply_+3A_margin">MARGIN</code></td>
<td>
<p>a vector of subscripts.
<code>1</code> indicates the first dimension (rows), <code>2</code>
indicates the second dimension (columns), etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The apply iterator.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+apply">apply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- array(1:8, c(2, 2, 2))

# iterate over all the matrices
it &lt;- iapply(a, 3)
as.list(it)

# iterate over all the columns of all the matrices
it &lt;- iapply(a, c(2, 3))
as.list(it)

# iterate over all the rows of all the matrices
it &lt;- iapply(a, c(1, 3))
as.list(it)
</code></pre>

<hr>
<h2 id='icount'>Counting Iterators</h2><span id='topic+icount'></span><span id='topic+icountn'></span>

<h3>Description</h3>

<p>Returns an iterator that counts starting from one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icount(count)
icountn(vn)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icount_+3A_count">count</code></td>
<td>
<p>number of times that the iterator will fire.
If not specified, it will count forever.</p>
</td></tr>
<tr><td><code id="icount_+3A_vn">vn</code></td>
<td>
<p>vector of counts.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The counting iterator.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # create an iterator that counts from 1 to 3.
  it &lt;- icount(3)
  nextElem(it)
  nextElem(it)
  nextElem(it)
  try(nextElem(it))  # expect a StopIteration exception
</code></pre>

<hr>
<h2 id='idiv'>Dividing Iterator</h2><span id='topic+idiv'></span>

<h3>Description</h3>

<p>Returns an iterator that returns pieces of numeric value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>idiv(n, ..., chunks, chunkSize)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="idiv_+3A_n">n</code></td>
<td>
<p>number of times that the iterator will fire.
If not specified, it will count forever.</p>
</td></tr>
<tr><td><code id="idiv_+3A_...">...</code></td>
<td>
<p>unused.</p>
</td></tr>
<tr><td><code id="idiv_+3A_chunks">chunks</code></td>
<td>
<p>the number of pieces that <code>n</code> should be divided into.
This is useful when you know the number of pieces that you want.
If specified, then <code>chunkSize</code> should not be.</p>
</td></tr>
<tr><td><code id="idiv_+3A_chunksize">chunkSize</code></td>
<td>
<p>the maximum size of the pieces that <code>n</code>
should be divided into.
This is useful when you know the size of the pieces that you want.
If specified, then <code>chunks</code> should not be.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The dividing iterator.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # divide the value 10 into 3 pieces
  it &lt;- idiv(10, chunks=3)
  nextElem(it)
  nextElem(it)
  nextElem(it)
  try(nextElem(it))  # expect a StopIteration exception

  # divide the value 10 into pieces no larger than 3
  it &lt;- idiv(10, chunkSize=3)
  nextElem(it)
  nextElem(it)
  nextElem(it)
  nextElem(it)
  try(nextElem(it))  # expect a StopIteration exception
</code></pre>

<hr>
<h2 id='iread.table'>Iterator over Rows of a Data Frame Stored in a File</h2><span id='topic+iread.table'></span>

<h3>Description</h3>

<p>Returns an iterator over the rows of a data frame stored in
a file in table format.
It is a wrapper around the standard <code>read.table</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iread.table(file, ..., verbose=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="iread.table_+3A_file">file</code></td>
<td>
<p>the name of the file to read the data from.</p>
</td></tr>
<tr><td><code id="iread.table_+3A_...">...</code></td>
<td>
<p>all additional arguments are passed on to the
<code>read.table</code> function.  See the documentation for
<code>read.table</code> for more information.</p>
</td></tr>
<tr><td><code id="iread.table_+3A_verbose">verbose</code></td>
<td>
<p>logical value indicating whether or not to print the
calls to <code>read.table</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The file reading iterator.
</p>


<h3>Note</h3>

<p>In this version of <code>iread.table</code>, both the <code>read.table</code>
arguments <code>header</code> and <code>row.names</code> must be specified.  This is
because the default values of these arguments depend on the contents of
the beginning of the file.  In order to make the subsequent calls to
<code>read.table</code> work consistently, the user must specify those
arguments explicitly.  A future version of <code>iread.table</code> may remove
this requirement.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+read.table">read.table</a></code>
</p>

<hr>
<h2 id='ireadLines'>Iterator over Lines of Text from a Connection</h2><span id='topic+ireadLines'></span>

<h3>Description</h3>

<p>Returns an iterator over the lines of text from a connection.
It is a wrapper around the standard <code>readLines</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ireadLines(con, n=1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ireadLines_+3A_con">con</code></td>
<td>
<p>a connection object or a character string.</p>
</td></tr>
<tr><td><code id="ireadLines_+3A_n">n</code></td>
<td>
<p>integer.  The maximum number of lines to read.
Negative values indicate that one should read up to
the end of the connection.  The default value is 1.</p>
</td></tr>
<tr><td><code id="ireadLines_+3A_...">...</code></td>
<td>
<p>passed on to the <code>readLines</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The line reading iterator.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+readLines">readLines</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # create an iterator over the lines of COPYING
  it &lt;- ireadLines(file.path(R.home(), 'COPYING'))
  nextElem(it)
  nextElem(it)
  nextElem(it)
</code></pre>

<hr>
<h2 id='irnorm'>Random Number Iterators</h2><span id='topic+irnorm'></span><span id='topic+irunif'></span><span id='topic+irbinom'></span><span id='topic+irnbinom'></span><span id='topic+irpois'></span>

<h3>Description</h3>

<p>These function returns an iterators that return random numbers
of various distributions.
Each one is a wrapper around a standard <code>R</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>irnorm(..., count)
irunif(..., count)
irbinom(..., count)
irnbinom(..., count)
irpois(..., count)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="irnorm_+3A_count">count</code></td>
<td>
<p>number of times that the iterator will fire.
If not specified, it will fire values forever.</p>
</td></tr>
<tr><td><code id="irnorm_+3A_...">...</code></td>
<td>
<p>arguments to pass to the underlying <code>rnorm</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An iterator that is a wrapper around the corresponding random number
generator function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # create an iterator that returns three random numbers
  it &lt;- irnorm(1, count=3)
  nextElem(it)
  nextElem(it)
  nextElem(it)
  try(nextElem(it))  # expect a StopIteration exception
</code></pre>

<hr>
<h2 id='isplit'>Split Iterator</h2><span id='topic+isplit'></span>

<h3>Description</h3>

<p>Returns an iterator that divides the data in the vector <code>x</code>
into the groups defined by <code>f</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isplit(x, f, drop=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="isplit_+3A_x">x</code></td>
<td>
<p>vector or data frame of values to be split into groups.</p>
</td></tr>
<tr><td><code id="isplit_+3A_f">f</code></td>
<td>
<p>a factor or list of factors used to categorize <code>x</code>.</p>
</td></tr>
<tr><td><code id="isplit_+3A_drop">drop</code></td>
<td>
<p>logical indicating if levels that do not occur should be dropped.</p>
</td></tr>
<tr><td><code id="isplit_+3A_...">...</code></td>
<td>
<p>current ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The split iterator.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+split">split</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rnorm(200)
f &lt;- factor(sample(1:10, length(x), replace=TRUE))

it &lt;- isplit(x, f)
expected &lt;- split(x, f)

for (i in expected) {
  actual &lt;- nextElem(it)
  stopifnot(actual$value == i)
}
</code></pre>

<hr>
<h2 id='iter'>Iterator Factory Functions</h2><span id='topic+iter'></span><span id='topic+iter.default'></span><span id='topic+iter.iter'></span><span id='topic+iter.matrix'></span><span id='topic+iter.data.frame'></span><span id='topic+iter.function'></span>

<h3>Description</h3>

<p><code>iter</code> is a generic function used to create iterator objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iter(obj, ...)

## Default S3 method:
iter(obj, checkFunc=function(...) TRUE, recycle=FALSE,
...)
## S3 method for class 'iter'
iter(obj, ...)
## S3 method for class 'matrix'
iter(obj, by=c('column', 'cell', 'row'), chunksize=1L,
checkFunc=function(...) TRUE, recycle=FALSE, ...)
## S3 method for class 'data.frame'
iter(obj, by=c('column', 'row'),
checkFunc=function(...) TRUE, recycle=FALSE, ...)
## S3 method for class 'function'
iter(obj, checkFunc=function(...) TRUE,
recycle=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="iter_+3A_obj">obj</code></td>
<td>
<p>an object from which to generate an iterator.</p>
</td></tr>
<tr><td><code id="iter_+3A_by">by</code></td>
<td>
<p>how to iterate.</p>
</td></tr>
<tr><td><code id="iter_+3A_chunksize">chunksize</code></td>
<td>
<p>the number of elements of <code>by</code> to return with
each call to <code>nextElem</code>.</p>
</td></tr>
<tr><td><code id="iter_+3A_checkfunc">checkFunc</code></td>
<td>
<p>a function which, when passed an iterator value,
return <code>TRUE</code> or <code>FALSE</code>.  If <code>FALSE</code>, the value is
skipped in the iteration.</p>
</td></tr>
<tr><td><code id="iter_+3A_recycle">recycle</code></td>
<td>
<p>a boolean describing whether the iterator should reset
after running through all it's values.</p>
</td></tr>
<tr><td><code id="iter_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the iterator.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The iterator.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # a vector iterator
  i1 &lt;- iter(1:3)
  nextElem(i1)
  nextElem(i1)
  nextElem(i1)

  # a vector iterator with a checkFunc
  i1 &lt;- iter(1:3, checkFunc=function(i) i %% 2 == 0)
  nextElem(i1)

  # a data frame iterator by column
  i2 &lt;- iter(data.frame(x=1:3, y=10, z=c('a', 'b', 'c')))
  nextElem(i2)
  nextElem(i2)
  nextElem(i2)

  # a data frame iterator by row
  i3 &lt;- iter(data.frame(x=1:3, y=10), by='row')
  nextElem(i3)
  nextElem(i3)
  nextElem(i3)

  # a function iterator
  i4 &lt;- iter(function() rnorm(1))
  nextElem(i4)
  nextElem(i4)
  nextElem(i4)
</code></pre>

<hr>
<h2 id='makeIwrapper'>Iterator Maker Generator</h2><span id='topic+makeIwrapper'></span><span id='topic+isample'></span>

<h3>Description</h3>

<p>The <code>makeIwrapper</code> function makes iterator makers.  The resulting iterator makers all take
an optional <code>count</code> argument which specifies the number of times the
resulting iterator should fire.  The iterators are wrappers around functions
that return different values each time they are called. The <code>isample</code> function
is an example of one such iterator maker (as are <code>irnorm</code>, <code>irunif</code>, etc.).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeIwrapper(FUN)
isample(..., count)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="makeIwrapper_+3A_fun">FUN</code></td>
<td>
<p>a character string naming a function that generates 
different values each time it is
called; typically one of the
standard random number generator functions.</p>
</td></tr>
<tr><td><code id="makeIwrapper_+3A_count">count</code></td>
<td>
<p>number of times that the iterator will fire.
If not specified, it will fire values forever.</p>
</td></tr>
<tr><td><code id="makeIwrapper_+3A_...">...</code></td>
<td>
<p>arguments to pass to the underlying <code>FUN</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An iterator that is a wrapper around the corresponding function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # create an iterator maker for the sample function
  mysample &lt;- makeIwrapper('sample')
  # use this iterator maker to generate an iterator
  # that will generate three five member samples from the
  # sequence 1:100
  it &lt;- mysample(1:100, 5, count=3)
  nextElem(it)
  nextElem(it)
  nextElem(it)
  try(nextElem(it))  # expect a StopIteration exception
</code></pre>

<hr>
<h2 id='nextElem'>Get Next Element of Iterator</h2><span id='topic+nextElem'></span><span id='topic+nextElem.containeriter'></span><span id='topic+nextElem.funiter'></span>

<h3>Description</h3>

<p><code>nextElem</code> is a generic function used to produce values. If a
<code>checkFunc</code> was specified to the constructor, the potential
iterated values will be passed to the <code>checkFunc</code> until the
<code>checkFunc</code> returns <code>TRUE</code>. When the iterator has no more
values, it calls stop with the message 'StopIteration'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nextElem(obj, ...)

## S3 method for class 'containeriter'
nextElem(obj, ...)
## S3 method for class 'funiter'
nextElem(obj, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nextElem_+3A_obj">obj</code></td>
<td>
<p>an iterator object.</p>
</td></tr>
<tr><td><code id="nextElem_+3A_...">...</code></td>
<td>
<p>additional arguments that are ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  it &lt;- iter(c('a', 'b', 'c'))
  print(nextElem(it))
  print(nextElem(it))
  print(nextElem(it))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package datagovsgR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {datagovsgR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#carpark_availability'><p>Carpark Availability</p></a></li>
<li><a href='#parse_api_date'><p>ParseApiDate</p></a></li>
<li><a href='#parse_api_output'><p>ParseApiOutput</p></a></li>
<li><a href='#psi'><p>PSI(PoullutantStandardIndex)</p></a></li>
<li><a href='#psi_summary'><p>PSI(PoullutantStandardIndex) Summary</p></a></li>
<li><a href='#taxi_availability'><p>Taxi Availability</p></a></li>
<li><a href='#traffic_images'><p>Traffic Images</p></a></li>
<li><a href='#uvi'><p>UVI(Ultra-violet Index)</p></a></li>
<li><a href='#weather_forecast'><p>Weather Forecast</p></a></li>
<li><a href='#weather_reading'><p>Weather Reading</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Call Real Time APIs from Data Gov Singapore</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Clinton Wong &lt;cwxy.clinton@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Clinton Wong &lt;cwxy.clinton@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A wrapper for the Data.gov.sg developer resources, which provide 
    real time and historical information, ranging from carpark availability to 
    weather forecasts. The functions makes the API calls for a given date and
    time, before returning the relevant information in a data frame. All APIs 
    are supported, less the IPOS one which is not returning any data. Relevant 
    information can be found here <a href="https://data.gov.sg/developer">https://data.gov.sg/developer</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, data.table, dplyr, stringr, purrr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-15 16:00:11 UTC; CWXYC</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-15 17:00:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='carpark_availability'>Carpark Availability</h2><span id='topic+carpark_availability'></span>

<h3>Description</h3>

<p>This functions calls upon the carpark availability API from data.gov.sg
and processes the returning page.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>carpark_availability(date_time = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="carpark_availability_+3A_date_time">date_time</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the carpark id, type, last update, total lots, and current lots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
carpark_availability()
carpark_availability(date = "2019-06-05T10:10:10")
carpark_availability(date = "2018-12-01T19:32:56")

</code></pre>

<hr>
<h2 id='parse_api_date'>ParseApiDate</h2><span id='topic+parse_api_date'></span>

<h3>Description</h3>

<p>Helper function to check if the date was input correctly
before returning a url to be called by the GET function.
Also returns an error if the API called can only provide data
for a specific date-time, and not date only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_api_date(api, input_date = "", summary)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_api_date_+3A_api">api</code></td>
<td>
<p>The api to be called, i.e. api = &quot;environment/air-temperature&quot;</p>
</td></tr>
<tr><td><code id="parse_api_date_+3A_input_date">input_date</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS or YYYY-MM-DD</p>
</td></tr>
<tr><td><code id="parse_api_date_+3A_summary">summary</code></td>
<td>
<p>Returns an error if the user inputs a date only time when not supported by the API.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A url to be called by the API.
</p>

<hr>
<h2 id='parse_api_output'>ParseApiOutput</h2><span id='topic+parse_api_output'></span>

<h3>Description</h3>

<p>Helper function to extract the content returned from the API.
Returns the status code otherwise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_api_output(inputcontent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_api_output_+3A_inputcontent">inputcontent</code></td>
<td>
<p>Takes the output of the GET function, runs an error check and returns the parsed output.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The extracted content if not error has occured. Otherwise, the error message is returned.
</p>

<hr>
<h2 id='psi'>PSI(PoullutantStandardIndex)</h2><span id='topic+psi'></span>

<h3>Description</h3>

<p>This functions calls upon the PSI API from data.gov.sg
and returns a data frame of the different measures of the PSI across 5
different areas in Singapores and the overall measure for the given
data-time. This data provided by the API is updated hourly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psi(date_time = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="psi_+3A_date_time">date_time</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that this function is different from the 'PSI_summary' function,
which returns the PSI measures for a given day.
</p>


<h3>Value</h3>

<p>A dataframe containing various PSI measures across 5 corners
of Singapore
</p>


<h3>Examples</h3>

<pre><code class='language-R'>psi()
psi(date = "2019-11-08T17:30:00")
psi(date = "2018-01-04T09:16:17")
</code></pre>

<hr>
<h2 id='psi_summary'>PSI(PoullutantStandardIndex) Summary</h2><span id='topic+psi_summary'></span>

<h3>Description</h3>

<p>This functions calls upon the PSI API from data.gov.sg
and returns a data frame of the different measures of the PSI across 5
different areas in Singapores and the overall measure for the given
date. This data provided by the API is updated hourly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psi_summary(date = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="psi_summary_+3A_date">date</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that this function is different from the 'PSI' function,
which returns the PSI measures for a given date-time.
</p>


<h3>Value</h3>

<p>A dataframe containing various PSI measures across 5 corners
of Singapore and time of day. Dependent on the data availible, not all
results range from 0000 to 2300.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>psi_summary()
psi_summary(date = "2019-11-08")
psi_summary(date = "2018-01-04")
</code></pre>

<hr>
<h2 id='taxi_availability'>Taxi Availability</h2><span id='topic+taxi_availability'></span>

<h3>Description</h3>

<p>This functions calls upon the taxi availability API from data.gov.sg
and returns a data frame of the locations of all availible taxis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxi_availability(date_time = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taxi_availability_+3A_date_time">date_time</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the longitude and latitude values of availible taxis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>taxi_availability()
taxi_availability(date = "2019-08-07T09:30:00")
taxi_availability(date = "2018-06-05T13:45:00")
</code></pre>

<hr>
<h2 id='traffic_images'>Traffic Images</h2><span id='topic+traffic_images'></span>

<h3>Description</h3>

<p>This functions calls upon the Traffic Images API from data.gov.sg
and returns links to images of live traffic conditions along expressways and
Woodlands &amp; Tuas Checkpoints, including details of the camera location.
This data provided by the API is updated every minute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>traffic_images(date_time = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="traffic_images_+3A_date_time">date_time</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing links to the traffic images of current
traffic conditions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>traffic_images()
traffic_images(date = "2022-07-01T15:32:45")
traffic_images(date = "2021-02-11T14:11:07")
</code></pre>

<hr>
<h2 id='uvi'>UVI(Ultra-violet Index)</h2><span id='topic+uvi'></span>

<h3>Description</h3>

<p>This functions calls upon the UVI API from data.gov.sg
and returns a data frame of the different measures of the UVI across
Singapore and returns the closest UVI value presently and for the past
few hours. This data provided by the API is updated hourly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uvi(date_time = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uvi_+3A_date_time">date_time</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the current and past hourly UVI
</p>


<h3>Examples</h3>

<pre><code class='language-R'>uvi()
uvi(date = "2022-09-03T16:45:23")
uvi(date = "2021-12-06T11:01:55")
</code></pre>

<hr>
<h2 id='weather_forecast'>Weather Forecast</h2><span id='topic+weather_forecast'></span>

<h3>Description</h3>

<p>This functions calls upon the weather forecast API from data.gov.sg
and returns a data frame containing different metrics of the forecast.
2-hour, 24-hour and 4-day forecasts are availible. This data provided by the
API is updated half-hourly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weather_forecast(date_time = "", forecast = "2-hour")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weather_forecast_+3A_date_time">date_time</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
<tr><td><code id="weather_forecast_+3A_forecast">forecast</code></td>
<td>
<p>Defaults to &quot;2-hour&quot;. Also availible for &quot;24-hour&quot; and &quot;4-day&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe the forecast for a given date and time, and forecast period.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>weather_forecast()
weather_forecast(date = "2019-11-08T17:30:00", forecast = "24-hour")
weather_forecast(date = "2018-01-04T09:16:17", forecast = "4-day")
</code></pre>

<hr>
<h2 id='weather_reading'>Weather Reading</h2><span id='topic+weather_reading'></span>

<h3>Description</h3>

<p>This functions calls upon the weather reading API from data.gov.sg
and returns a list containing the air temperature, rainfall, relative humidity,
wind direction and speed across Singapore. Data is updated every 5 minutes for the
rainfall API, and every half minute for the other 4 API from NEA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weather_reading(date_time = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weather_reading_+3A_date_time">date_time</code></td>
<td>
<p>Defaults to current (SGD) time. Format: YYYY-MM-DDTHH:MM:SS</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This API takes slighlty longer than the other APIs in the package as 5 APIs are
wrapped within this function.
</p>


<h3>Value</h3>

<p>A dataframe containing various weather readings from weather stations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>weather_reading()
weather_reading(date = "2019-11-08T17:30:00")
weather_reading(date = "2018-01-04T09:16:17")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

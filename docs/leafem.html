<!DOCTYPE html><html lang="en"><head><title>Help for package leafem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {leafem}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addCOG'><p>Add Cloud Optimised Geotiff (COG) to a leaflet map.</p></a></li>
<li><a href='#addCopyExtent'><p>Copy current view extent to the clipboard</p></a></li>
<li><a href='#addExtent'><p>Add extent/bbox of spatial objects to a leaflet map</p></a></li>
<li><a href='#addFeatures'><p>Type agnositc version of <code>leaflet::add*</code> functions.</p></a></li>
<li><a href='#addFgb'><p>Add a flatgeobuf file to leaflet map</p></a></li>
<li><a href='#addGeoRaster'><p>Add stars/raster image to a leaflet map using optimised rendering.</p></a></li>
<li><a href='#addGeotiff'><p>Add a GeoTIFF file to a leaflet map using optimised rendering.</p></a></li>
<li><a href='#addHomeButton'><p>Add a home button / zoom-to-layer button to a map.</p></a></li>
<li><a href='#addImageQuery'><p>Add image query functionality to leaflet/mapview map.</p></a></li>
<li><a href='#addLocalFile'><p>Add vector data to leaflet map directly from the file system</p></a></li>
<li><a href='#addLogo'><p>add a local or remote image (png, jpg, gif, bmp, ...) to a leaflet map</p></a></li>
<li><a href='#addMouseCoordinates'><p>Add mouse coordinate information at top of map.</p></a></li>
<li><a href='#addPMPolygons'><p>Add vector tiles stored as PMTiles in an AWS S3 bucket to a leaflet map.</p></a></li>
<li><a href='#addRasterRGB'><p>Add an RGB image as a layer</p></a></li>
<li><a href='#addReactiveFeatures'><p>Add a reactive layer to map.</p></a></li>
<li><a href='#addStarsImage'><p>Add stars layer to a leaflet map</p></a></li>
<li><a href='#addStaticLabels'><p>Add static labels to <code>leaflet</code> or <code>mapview</code> objects</p></a></li>
<li><a href='#addTileFolder'><p>Add raster tiles from a local folder</p></a></li>
<li><a href='#colorOptions'><p>Color options for addGeoRaster and addGeotiff</p></a></li>
<li><a href='#garnishMap'><p>Garnish/decorate leaflet or mapview maps.</p></a></li>
<li><a href='#paintRules'><p>Styling options for PMTiles</p></a></li>
<li><a href='#updateLayersControl'><p>Update the layer controls when adding layers to an existing map.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>'leaflet' Extensions for 'mapview'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tim Appelhans &lt;tim.appelhans@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides extensions for packages 'leaflet' &amp; 'mapdeck', 
    many of which are used by package 'mapview'. 
    Focus is on functionality readily available in 
    Geographic Information Systems such as 'Quantum GIS'. Includes functions
    to display coordinates of mouse pointer position, query image values via 
    mouse pointer and zoom-to-layer buttons. Additionally, provides a feature 
    type agnostic function to add points, lines, polygons to a map.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-spatial/leafem">https://github.com/r-spatial/leafem</a>,
<a href="https://r-spatial.github.io/leafem/">https://r-spatial.github.io/leafem/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-spatial/leafem/issues">https://github.com/r-spatial/leafem/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>base64enc, geojsonsf, htmltools (&ge; 0.3), htmlwidgets, leaflet
(&ge; 2.0.1), methods, raster, sf, png</td>
</tr>
<tr>
<td>Suggests:</td>
<td>clipr, leafgl, lwgeom, mapdeck, plainview, stars</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-17 08:29:29 UTC; tim</td>
</tr>
<tr>
<td>Author:</td>
<td>Tim Appelhans [cre, aut],
  Christoph Reudenbach [ctb],
  Kenton Russell [ctb],
  Jochen Darley [ctb],
  Daniel Montague [ctb, cph] (Leaflet.EasyButton plugin),
  Lorenzo Busetto [ctb],
  Luigi Ranghetti [ctb],
  Miles McBain [ctb],
  Sebastian Gatscha [ctb],
  Bj√∂rn Harrtell [ctb, cph] (FlatGeobuf plugin),
  Daniel Dufour [ctb, cph] (georaster-layer-for-leaflet),
  Yeedle Neuwirth [ctb],
  Derek Friend [ctb],
  Kevin Cazelles <a href="https://orcid.org/0000-0001-6619-9874"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-17 23:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addCOG'>Add Cloud Optimised Geotiff (COG) to a leaflet map.</h2><span id='topic+addCOG'></span>

<h3>Description</h3>

<p>Add Cloud Optimised Geotiff (COG) to a leaflet map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCOG(
  map,
  url = NULL,
  group = NULL,
  layerId = NULL,
  resolution = 96,
  opacity = 0.8,
  options = leaflet::tileOptions(),
  colorOptions = NULL,
  pixelValuesToColorFn = NULL,
  autozoom = TRUE,
  rgb = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addCOG_+3A_map">map</code></td>
<td>
<p>the map to add the COG to.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_url">url</code></td>
<td>
<p>url to the COG file to render.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_group">group</code></td>
<td>
<p>he name of the group this COG should belong to.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_layerid">layerId</code></td>
<td>
<p>the layerId.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_resolution">resolution</code></td>
<td>
<p>the target resolution for the simple nearest neighbor
interpolation. Larger values will result in more detailed rendering,
but may impact performance. Default is 96 (pixels).</p>
</td></tr>
<tr><td><code id="addCOG_+3A_opacity">opacity</code></td>
<td>
<p>image opacity.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_options">options</code></td>
<td>
<p>see [leaflet](tileOptions).</p>
</td></tr>
<tr><td><code id="addCOG_+3A_coloroptions">colorOptions</code></td>
<td>
<p>list defining the palette, breaks and na.color to be used.
Currently not used.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_pixelvaluestocolorfn">pixelValuesToColorFn</code></td>
<td>
<p>optional JS function to be passed to the browser.
Can be used to fine tune and manipulate the color mapping.
See examples &amp; <a href="https://github.com/r-spatial/leafem/issues/25">https://github.com/r-spatial/leafem/issues/25</a> for
some examples. Currently not used.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_autozoom">autozoom</code></td>
<td>
<p>whether to automatically zoom to the full extent of the layer.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_rgb">rgb</code></td>
<td>
<p>logical, whether to render Geotiff as RGB. Currently not used.</p>
</td></tr>
<tr><td><code id="addCOG_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will overlay Cloud Optimised Geotiff data from a remote url on
a leaflet map. Like 'addGeotiff' it uses the leaflet plugin
'georaster-layer-for-leaflet' to render the data. See 'addGeotiff' for a bit
more detail what that means.
</p>


<h3>Value</h3>

<p>A leaflet map object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(leaflet)
  library(leafem)

  base_url = "https://sentinel-cogs.s3.us-west-2.amazonaws.com"
  image_url = "sentinel-s2-l2a-cogs/46/X/DG/2022/8/S2B_46XDG_20220829_0_L2A/L2A_PVI.tif"
  url = sprintf("%s/%s", base_url, image_url)

  leaflet() |&gt;
    addTiles() |&gt;
    leafem:::addCOG(
      url = url
      , group = "COG"
      , resolution = 512
      , autozoom = TRUE
    )
}

</code></pre>

<hr>
<h2 id='addCopyExtent'>Copy current view extent to the clipboard</h2><span id='topic+addCopyExtent'></span>

<h3>Description</h3>

<p>Add JavaScript functioality to enable copying of the current view bouding box
to the clipboard. The <code>copy.btn</code> argument expects a valid keycode
<code>event.code</code> such as &quot;KeyE&quot; (the default).
Use <a href="https://www.toptal.com/developers/keycode/">https://www.toptal.com/developers/keycode/</a> to find the
approprate codes for your keyboard.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCopyExtent(map, event.code = "KeyE")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addCopyExtent_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addCopyExtent_+3A_event.code">event.code</code></td>
<td>
<p>the JavaScript event.code for ley strokes.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>  library(leaflet)

  leaflet() %&gt;%
  addProviderTiles("CartoDB.Positron") %&gt;%
    addCopyExtent(event.code = "KeyE") %&gt;%
    addMouseCoordinates()

  # now click on the map (!) and zoom to anywhere in the map, then press 'e' on
  # your keyboard. This will copy the current extent/bounding box as a JSON object
  # to your clipboard which can then be parsed with:

  # jsonlite::fromJSON(&lt;Ctrl+v&gt;)

</code></pre>

<hr>
<h2 id='addExtent'>Add extent/bbox of spatial objects to a leaflet map</h2><span id='topic+addExtent'></span>

<h3>Description</h3>

<p>This function adds the bounding box of a spatial object to a leaflet or mapview map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addExtent(map, data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addExtent_+3A_map">map</code></td>
<td>
<p>A <code>leaflet</code> or <code>mapview</code> map.</p>
</td></tr>
<tr><td><code id="addExtent_+3A_data">data</code></td>
<td>
<p>A <code>sf</code> object to be added to the <code>map</code>.</p>
</td></tr>
<tr><td><code id="addExtent_+3A_...">...</code></td>
<td>
<p>additional arguments passed on to <code><a href="#topic+addFeatures">addFeatures</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)

# Usage in leaflet
leaflet() %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addExtent(gadmCHE)

leaflet(gadmCHE) %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addExtent()
</code></pre>

<hr>
<h2 id='addFeatures'>Type agnositc version of <code>leaflet::add*</code> functions.</h2><span id='topic+addFeatures'></span>

<h3>Description</h3>

<p>Add simple features geometries from <code><a href="sf.html#topic+sf">sf</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addFeatures(map, data, pane = "overlayPane", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addFeatures_+3A_map">map</code></td>
<td>
<p>A <code>leaflet</code> or <code>mapview</code> map.</p>
</td></tr>
<tr><td><code id="addFeatures_+3A_data">data</code></td>
<td>
<p>A <code>sf</code> object to be added to the <code>map</code>.</p>
</td></tr>
<tr><td><code id="addFeatures_+3A_pane">pane</code></td>
<td>
<p>The name of the map pane for the features to be rendered in.</p>
</td></tr>
<tr><td><code id="addFeatures_+3A_...">...</code></td>
<td>
<p>Further arguments passed to the respective <code>leaflet::add*</code>
functions. See <code><a href="leaflet.html#topic+addCircleMarkers">addCircleMarkers</a></code>, <code><a href="leaflet.html#topic+addPolylines">addPolylines</a></code>
and <code><a href="leaflet.html#topic+addPolygons">addPolygons</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A leaflet <code>map</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)

leaflet() %&gt;% addProviderTiles("OpenStreetMap") %&gt;% addCircleMarkers(data = breweries91)
leaflet() %&gt;% addProviderTiles("OpenStreetMap") %&gt;% addFeatures(data = breweries91)

leaflet() %&gt;% addProviderTiles("OpenStreetMap") %&gt;% addPolylines(data = atlStorms2005)
leaflet() %&gt;% addProviderTiles("OpenStreetMap") %&gt;% addFeatures(atlStorms2005)

leaflet() %&gt;% addProviderTiles("OpenStreetMap") %&gt;% addPolygons(data = gadmCHE)
leaflet() %&gt;% addProviderTiles("OpenStreetMap") %&gt;% addFeatures(gadmCHE)

</code></pre>

<hr>
<h2 id='addFgb'>Add a flatgeobuf file to leaflet map</h2><span id='topic+addFgb'></span>

<h3>Description</h3>

<p>flatgeobuf is a performant binary geo-spatial file format suitable for
serving large data. For more details see
<a href="https://github.com/flatgeobuf/flatgeobuf">https://github.com/flatgeobuf/flatgeobuf</a> and the respective
documentation for the GDAL/OGR driver at
<a href="https://gdal.org/drivers/vector/flatgeobuf.html">https://gdal.org/drivers/vector/flatgeobuf.html</a>. <br />
<br />
In contrast to classical ways of serving data from R onto a leaflet map,
flatgeobuf can stream the data chunk by chunk so that rendering of the map
is more or less instantaneous. The map is responsive while data is still
loading so that popup queries, zooming and panning will work even
though not all data has been rendered yet. This makes for a rather pleasant
user experience as we don't have to wait for all data to be added to the map
before interacting with it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addFgb(
  map,
  file = NULL,
  url = NULL,
  layerId = NULL,
  group = NULL,
  popup = NULL,
  label = NULL,
  radius = 10,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = FALSE,
  fillColor = NULL,
  fillOpacity = 0.2,
  dashArray = NULL,
  options = NULL,
  className = NULL,
  scale = scaleOptions(),
  minZoom = NULL,
  maxZoom = 52,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addFgb_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_file">file</code></td>
<td>
<p>file path to the .fgb file to be added to <code>map</code>.
If set, <code>url</code> is ignored.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_url">url</code></td>
<td>
<p>url of the data to be added to <code>map</code>. Only respected if
<code>file = NULL</code>.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_layerid">layerId</code></td>
<td>
<p>the layer id.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_group">group</code></td>
<td>
<p>the group name for the file to be added to <code>map</code>.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_popup">popup</code></td>
<td>
<p>either a logical of whether to show the feature properties
(fields) in popups or the name of the field to show in popups.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_label">label</code></td>
<td>
<p>name of the field to be shown as a tooltip.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_radius">radius</code></td>
<td>
<p>the size of the circle markers.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_stroke">stroke</code></td>
<td>
<p>whether to draw stroke along the path
(e.g. the borders of polygons or circles).</p>
</td></tr>
<tr><td><code id="addFgb_+3A_color">color</code></td>
<td>
<p>stroke color.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_weight">weight</code></td>
<td>
<p>stroke width in pixels.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_opacity">opacity</code></td>
<td>
<p>stroke opacity.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_fill">fill</code></td>
<td>
<p>whether to fill the path with <code>fillColor</code>. If <code>fillColor</code>
is set, this will be set to <code>TRUE</code>, default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_fillcolor">fillColor</code></td>
<td>
<p>fill color. If set, <code>fill</code> will be set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_fillopacity">fillOpacity</code></td>
<td>
<p>fill opacity.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_dasharray">dashArray</code></td>
<td>
<p>a string that defines the stroke dash pattern.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_options">options</code></td>
<td>
<p>a list of extra options for tile layers, popups, paths
(circles, rectangles, polygons, ...), or other map elements.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_classname">className</code></td>
<td>
<p>optional class name for the popup (table). Can be used
to define css for the popup.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_scale">scale</code></td>
<td>
<p>named list with instructions on how to scale radius, width,
opacity, fillOpacity if those are to be mapped to an attribute column.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_minzoom">minZoom</code></td>
<td>
<p>minimum zoom level at which data should be rendered.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_maxzoom">maxZoom</code></td>
<td>
<p>maximum zoom level at which data should be rendered.</p>
</td></tr>
<tr><td><code id="addFgb_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'> if (interactive()) {
   library(leaflet)
   library(leafem)

   # via URL
   url = "https://raw.githubusercontent.com/flatgeobuf/flatgeobuf/3.0.1/test/data/UScounties.fgb"

   leaflet() %&gt;%
     addTiles() %&gt;%
     leafem:::addFgb(
       url = url
       , group = "counties"
       , label = "NAME"
       , popup = TRUE
       , fill = TRUE
       , fillColor = "blue"
       , fillOpacity = 0.6
       , color = "black"
       , weight = 1
     ) %&gt;%
       addLayersControl(overlayGroups = c("counties")) %&gt;%
       addMouseCoordinates() %&gt;%
       setView(lng = -105.644, lat = 51.618, zoom = 3)
 }

</code></pre>

<hr>
<h2 id='addGeoRaster'>Add stars/raster image to a leaflet map using optimised rendering.</h2><span id='topic+addGeoRaster'></span>

<h3>Description</h3>

<p>Add stars/raster image to a leaflet map using optimised rendering.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addGeoRaster(
  map,
  x,
  group = NULL,
  layerId = NULL,
  resolution = 96,
  opacity = 0.8,
  options = leaflet::tileOptions(),
  colorOptions = NULL,
  project = TRUE,
  pixelValuesToColorFn = NULL,
  autozoom = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addGeoRaster_+3A_map">map</code></td>
<td>
<p>the map to add the raster data to.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_x">x</code></td>
<td>
<p>the stars/raster object to be rendered.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_group">group</code></td>
<td>
<p>the name of the group this raster image should belong to.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_layerid">layerId</code></td>
<td>
<p>the layerId.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_resolution">resolution</code></td>
<td>
<p>the target resolution for the simple nearest neighbor interpolation.
Larger values will result in more detailed rendering, but may impact performance.
Default is 96 (pixels).</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_opacity">opacity</code></td>
<td>
<p>opacity of the rendered layer.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_options">options</code></td>
<td>
<p>options to be passed to the layer.
See <code><a href="leaflet.html#topic+tileOptions">tileOptions</a></code> for details.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_coloroptions">colorOptions</code></td>
<td>
<p>list defining the palette, breaks and na.color to be used.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_project">project</code></td>
<td>
<p>whether to project the RasterLayer to conform with leaflets
expected crs. Defaults to <code>TRUE</code> and things are likely to go haywire
if set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_pixelvaluestocolorfn">pixelValuesToColorFn</code></td>
<td>
<p>optional JS function to be passed to the browser.
Can be used to fine tune and manipulate the color mapping.
See <a href="https://github.com/r-spatial/leafem/issues/25">https://github.com/r-spatial/leafem/issues/25</a> for some examples.</p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_autozoom">autozoom</code></td>
<td>
<p>whether to automatically zoom to the full extent of the layer.
Default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="addGeoRaster_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This uses the leaflet plugin 'georaster-layer-for-leaflet' to render raster data.
See <a href="https://github.com/GeoTIFF/georaster-layer-for-leaflet">https://github.com/GeoTIFF/georaster-layer-for-leaflet</a> for details.
The clue is that rendering uses simple nearest neighbor interpolation on-the-fly
to ensure smooth rendering. This enables handling of larger rasters than with
the standard <code><a href="leaflet.html#topic+addRasterImage">addRasterImage</a></code>.
</p>


<h3>Value</h3>

<p>A leaflet map object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(leaflet)
  library(leafem)
  library(stars)

  tif = system.file("tif/L7_ETMs.tif", package = "stars")
  x1 = read_stars(tif)
  x1 = x1[, , , 3] # band 3

  leaflet() %&gt;%
    addTiles() %&gt;%
    leafem:::addGeoRaster(
      x1
      , opacity = 1
      , colorOptions = colorOptions(
        palette = grey.colors(256)
      )
    )
}

</code></pre>

<hr>
<h2 id='addGeotiff'>Add a GeoTIFF file to a leaflet map using optimised rendering.</h2><span id='topic+addGeotiff'></span>

<h3>Description</h3>

<p>Add a GeoTIFF file to a leaflet map using optimised rendering.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addGeotiff(
  map,
  file = NULL,
  url = NULL,
  group = NULL,
  layerId = NULL,
  resolution = 96,
  bands = NULL,
  arith = NULL,
  project = TRUE,
  method = NULL,
  opacity = 0.8,
  options = leaflet::tileOptions(),
  colorOptions = NULL,
  rgb = FALSE,
  pixelValuesToColorFn = NULL,
  autozoom = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addGeotiff_+3A_map">map</code></td>
<td>
<p>the map to add the raster data to.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_file">file</code></td>
<td>
<p>path to the GeoTIFF file to render.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_url">url</code></td>
<td>
<p>url to the GeoTIFF file to render. Ignored if <code>file</code> is provided.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_group">group</code></td>
<td>
<p>he name of the group this raster image should belong to.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_layerid">layerId</code></td>
<td>
<p>the layerId.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_resolution">resolution</code></td>
<td>
<p>the target resolution for the simple nearest neighbor interpolation.
Larger values will result in more detailed rendering, but may impact performance.
Default is 96 (pixels).</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_bands">bands</code></td>
<td>
<p>which bands to use in case of multi-band Geotiff.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_arith">arith</code></td>
<td>
<p>an optional function to be applied to a multi-layer object.
Will be computed on-the-fly in the browser.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_project">project</code></td>
<td>
<p>if TRUE (default), automatically project x to the map projection
expected by georaster-layer-for-leaflet (EPSG:4326);
if FALSE, it's the caller's responsibility to ensure that <code>file</code> is already projected.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_method">method</code></td>
<td>
<p>character defining the resampling method to be used when
<code>project</code> is <code>TRUE</code>.
See <a href="https://gdal.org/programs/gdalwarp.html#cmdoption-gdalwarp-r">https://gdal.org/programs/gdalwarp.html#cmdoption-gdalwarp-r</a> for
possible values.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_opacity">opacity</code></td>
<td>
<p>opacity of the rendered layer.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_options">options</code></td>
<td>
<p>options to be passed to the layer.
See <code><a href="leaflet.html#topic+tileOptions">tileOptions</a></code> for details.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_coloroptions">colorOptions</code></td>
<td>
<p>list defining the palette, breaks and na.color to be used.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_rgb">rgb</code></td>
<td>
<p>logical, whether to render Geotiff as RGB.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_pixelvaluestocolorfn">pixelValuesToColorFn</code></td>
<td>
<p>optional JS function to be passed to the browser.
Can be used to fine tune and manipulate the color mapping.
See examples &amp; <a href="https://github.com/r-spatial/leafem/issues/25">https://github.com/r-spatial/leafem/issues/25</a> for
some examples.</p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_autozoom">autozoom</code></td>
<td>
<p>whether to automatically zoom to the full extent of the layer.
Default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="addGeotiff_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This uses the leaflet plugin 'georaster-layer-for-leaflet' to render GeoTIFF data.
See <a href="https://github.com/GeoTIFF/georaster-layer-for-leaflet">https://github.com/GeoTIFF/georaster-layer-for-leaflet</a> for details.
The GeoTIFF file is read directly in the browser using geotiffjs
(<a href="https://geotiffjs.github.io/">https://geotiffjs.github.io/</a>), so there's no need to read data into
the current R session. GeoTIFF files can be read from the file system or via url.
The clue is that rendering uses simple nearest neighbor interpolation on-the-fly
to ensure smooth rendering. This enables handling of larger rasters than with
the standard <code><a href="leaflet.html#topic+addRasterImage">addRasterImage</a></code>.
</p>


<h3>Value</h3>

<p>A leaflet map object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(leaflet)
  library(leafem)
  library(stars)

  tif = system.file("tif/L7_ETMs.tif", package = "stars")
  x1 = read_stars(tif)
  x1 = x1[, , , 3] # band 3

  tmpfl = tempfile(fileext = ".tif")

  write_stars(st_warp(x1, crs = 4326), tmpfl)

  leaflet() %&gt;%
    addTiles() %&gt;%
    addGeotiff(
      file = tmpfl
      , opacity = 0.9
      , colorOptions = colorOptions(
        palette = hcl.colors(256, palette = "inferno")
        , na.color = "transparent"
      )
    )

}

</code></pre>

<hr>
<h2 id='addHomeButton'>Add a home button / zoom-to-layer button to a map.</h2><span id='topic+addHomeButton'></span><span id='topic+removeHomeButton'></span>

<h3>Description</h3>

<p>This function adds a button to the map that enables zooming to a
provided extent / bbox.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addHomeButton(map, ext, group = "layer", position = "bottomright", add = TRUE)

removeHomeButton(map)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addHomeButton_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addHomeButton_+3A_ext">ext</code></td>
<td>
<p>the extent / bbox to zoom to.</p>
</td></tr>
<tr><td><code id="addHomeButton_+3A_group">group</code></td>
<td>
<p>the name of the group/layer to be zoomed to (or any character
string)</p>
</td></tr>
<tr><td><code id="addHomeButton_+3A_position">position</code></td>
<td>
<p>the position of the button (one of 'topleft', 'topright',
'bottomleft', 'bottomright'). Defaults to 'bottomright'.</p>
</td></tr>
<tr><td><code id="addHomeButton_+3A_add">add</code></td>
<td>
<p>logical. Whether to add the button to the map (mainly for internal use).</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>removeHomeButton()</code>: remove a homeButton from a map
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)
library(raster)

## pass a group name only
m &lt;- leaflet() %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addCircleMarkers(data = breweries91, group = "breweries91") %&gt;%
  addHomeButton(group = "breweries91")
m

## pass a raster extent - group can now be an arbitrary label
m &lt;- leaflet() %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addCircleMarkers(data = breweries91, group = "breweries91") %&gt;%
  addHomeButton(ext = extent(breweries91), group = "Brew")
m

## remove the button
removeHomeButton(m)

</code></pre>

<hr>
<h2 id='addImageQuery'>Add image query functionality to leaflet/mapview map.</h2><span id='topic+addImageQuery'></span>

<h3>Description</h3>

<p>Add image query functionality to leaflet/mapview map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addImageQuery(
  map,
  x,
  band = 1,
  group = NULL,
  layerId = NULL,
  project = TRUE,
  type = c("mousemove", "click"),
  digits,
  position = "topright",
  prefix = "Layer",
  className = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addImageQuery_+3A_map">map</code></td>
<td>
<p>the map with the RasterLayer to be queried.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_x">x</code></td>
<td>
<p>the RasterLayer that is to be queried.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_band">band</code></td>
<td>
<p>for stars layers, the band number to be queried.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_group">group</code></td>
<td>
<p>the group of the RasterLayer to be queried.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_layerid">layerId</code></td>
<td>
<p>the layerId of the RasterLayer to be queried. Needs to be the
same as supplied in <code><a href="leaflet.html#topic+addRasterImage">addRasterImage</a></code> or
<code><a href="#topic+addStarsImage">addStarsImage</a></code>.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_project">project</code></td>
<td>
<p>whether to project the RasterLayer to conform with leaflets
expected crs. Defaults to <code>TRUE</code> and things are likely to go haywire
if set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_type">type</code></td>
<td>
<p>whether query should occur on 'mousemove' or 'click'. Defaults
to 'mousemove'.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_digits">digits</code></td>
<td>
<p>the number of digits to be shown in the display field.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_position">position</code></td>
<td>
<p>where to place the display field. Default is 'topright'.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_prefix">prefix</code></td>
<td>
<p>a character string to be shown as prefix for the layerId.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_classname">className</code></td>
<td>
<p>a character string to append to the control legend.</p>
</td></tr>
<tr><td><code id="addImageQuery_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function enables Raster*/stars objects added to leaflet/mapview maps to
be queried. Standard query is on 'mousmove', but can be changed to 'click'.
Note that for this to work, the <code>layerId</code> needs to be the same as the
one that was set in <code><a href="leaflet.html#topic+addRasterImage">addRasterImage</a></code> or
<code><a href="#topic+addStarsImage">addStarsImage</a></code>. Currently only works for
numeric values (i.e. numeric/integer and factor values are supported).
</p>


<h3>Value</h3>

<p>A leaflet map object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  if (requireNamespace("plainview")) {
    library(leaflet)
    library(plainview)

    leaflet() %&gt;%
      addProviderTiles("OpenStreetMap") %&gt;%
      addRasterImage(poppendorf[[1]], project = TRUE, group = "poppendorf",
                     layerId = "poppendorf") %&gt;%
      addImageQuery(poppendorf[[1]], project = TRUE,
                    layerId = "poppendorf") %&gt;%
      addLayersControl(overlayGroups = "poppendorf")
  }
}

</code></pre>

<hr>
<h2 id='addLocalFile'>Add vector data to leaflet map directly from the file system</h2><span id='topic+addLocalFile'></span>

<h3>Description</h3>

<p>Add vector data to leaflet map directly from the file system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLocalFile(
  map,
  file,
  layerId = NULL,
  group = NULL,
  popup = NULL,
  label = NULL,
  radius = 10,
  stroke = TRUE,
  color = "#03F",
  weight = 5,
  opacity = 0.5,
  fill = TRUE,
  fillColor = color,
  fillOpacity = 0.2,
  dashArray = NULL,
  options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addLocalFile_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_file">file</code></td>
<td>
<p>file path to the file to be added to <code>map</code>. NOTE: will be
reprojected on-the-fly if not in &quot;longlat&quot;.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_layerid">layerId</code></td>
<td>
<p>the layer id.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_group">group</code></td>
<td>
<p>the group name for the file to be added to <code>map</code>.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_popup">popup</code></td>
<td>
<p>either a logical of whether to show the feature properties
(fields) in popups or the name of the field to show in popups.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_label">label</code></td>
<td>
<p>name of the field to be shown as a tooltip.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_radius">radius</code></td>
<td>
<p>the size of the circle markers.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_stroke">stroke</code></td>
<td>
<p>whether to draw stroke along the path
(e.g. the borders of polygons or circles).</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_color">color</code></td>
<td>
<p>stroke color.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_weight">weight</code></td>
<td>
<p>stroke width in pixels.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_opacity">opacity</code></td>
<td>
<p>stroke opacity.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_fill">fill</code></td>
<td>
<p>whether to fill the path with color
(e.g. filling on polygons or circles).</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_fillcolor">fillColor</code></td>
<td>
<p>fill color.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_fillopacity">fillOpacity</code></td>
<td>
<p>fill opacity.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_dasharray">dashArray</code></td>
<td>
<p>a string that defines the stroke dash pattern.</p>
</td></tr>
<tr><td><code id="addLocalFile_+3A_options">options</code></td>
<td>
<p>a list of extra options for tile layers, popups, paths
(circles, rectangles, polygons, ...), or other map elements.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(leafem)
  library(leaflet)
  library(sf)

  destfile = tempfile(fileext = ".gpkg")

  st_write(st_as_sf(gadmCHE), dsn = destfile)

  leaflet() %&gt;%
    addTiles() %&gt;%
    addLocalFile(destfile, popup = TRUE)
}

</code></pre>

<hr>
<h2 id='addLogo'>add a local or remote image (png, jpg, gif, bmp, ...) to a leaflet map</h2><span id='topic+addLogo'></span>

<h3>Description</h3>

<p>This function adds an image to a map. Both local and remote (web) image
sources are supported. Position on the map is completely controllable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLogo(
  map,
  img,
  alpha = 1,
  src = c("remote", "local"),
  url,
  position = c("topleft", "topright", "bottomleft", "bottomright"),
  offset.x = 50,
  offset.y = 13,
  width = 60,
  height = 60
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addLogo_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addLogo_+3A_img">img</code></td>
<td>
<p>the image to be added to the map.</p>
</td></tr>
<tr><td><code id="addLogo_+3A_alpha">alpha</code></td>
<td>
<p>opacity of the added image.</p>
</td></tr>
<tr><td><code id="addLogo_+3A_src">src</code></td>
<td>
<p>character specifying the source location (&quot;local&quot; for images from
the disk, &quot;remote&quot; for web image sources).</p>
</td></tr>
<tr><td><code id="addLogo_+3A_url">url</code></td>
<td>
<p>an optional URL to be opened when clicking on the image
(e.g. company's homepage).</p>
</td></tr>
<tr><td><code id="addLogo_+3A_position">position</code></td>
<td>
<p>one of &quot;topleft&quot;, &quot;topright&quot;, &quot;bottomleft&quot;, &quot;bottomright&quot;.</p>
</td></tr>
<tr><td><code id="addLogo_+3A_offset.x">offset.x</code></td>
<td>
<p>the offset in x direction from the chosen position (in pixels).</p>
</td></tr>
<tr><td><code id="addLogo_+3A_offset.y">offset.y</code></td>
<td>
<p>the offset in y direction from the chosen position (in pixels).</p>
</td></tr>
<tr><td><code id="addLogo_+3A_width">width</code></td>
<td>
<p>width of the rendered image in pixels.</p>
</td></tr>
<tr><td><code id="addLogo_+3A_height">height</code></td>
<td>
<p>height of the rendered image in pixels.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)
## default position is topleft next to zoom control

img &lt;- "https://www.r-project.org/logo/Rlogo.svg"
leaflet() %&gt;% addTiles() %&gt;% addLogo(img, url = "https://www.r-project.org/logo/")

## with local image
if (requireNamespace("png")) {
  library(png)

  img &lt;- system.file("img", "Rlogo.png", package="png")
  leaflet() %&gt;% addTiles() %&gt;% addLogo(img, src = "local", alpha = 0.3)

  ## dancing banana gif :-)
  m &lt;- leaflet() %&gt;%
    addTiles() %&gt;%
    addCircleMarkers(data = breweries91)

  addLogo(m, "https://jeroenooms.github.io/images/banana.gif",
          position = "bottomleft",
          offset.x = 5,
          offset.y = 40,
          width = 100,
          height = 100)
}


</code></pre>

<hr>
<h2 id='addMouseCoordinates'>Add mouse coordinate information at top of map.</h2><span id='topic+addMouseCoordinates'></span><span id='topic+removeMouseCoordinates'></span><span id='topic+clip2sfc'></span>

<h3>Description</h3>

<p>This function adds a box displaying the current cursor location
(latitude, longitude and zoom level) at the top of a rendered
mapview or leaflet map. In case of mapview, this is automatically added.
NOTE: The information will only render once a mouse movement has happened
on the map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addMouseCoordinates(map, epsg = NULL, proj4string = NULL, native.crs = FALSE)

removeMouseCoordinates(map)

clip2sfc(x, clipboard = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addMouseCoordinates_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addMouseCoordinates_+3A_epsg">epsg</code></td>
<td>
<p>the epsg string to be shown.</p>
</td></tr>
<tr><td><code id="addMouseCoordinates_+3A_proj4string">proj4string</code></td>
<td>
<p>the proj4string to be shown.</p>
</td></tr>
<tr><td><code id="addMouseCoordinates_+3A_native.crs">native.crs</code></td>
<td>
<p>logical. whether to use the native crs in the coordinates box.</p>
</td></tr>
<tr><td><code id="addMouseCoordinates_+3A_x">x</code></td>
<td>
<p>a charcter string with valid longitude and latitude values. Order
matters! If missing and <code>clipboard = TRUE</code> (the default) contents
will be read from the clipboard.</p>
</td></tr>
<tr><td><code id="addMouseCoordinates_+3A_clipboard">clipboard</code></td>
<td>
<p>whether to read contents from the clipboard. Default is
<code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If style is set to &quot;detailed&quot;, the following information will be displayed:
</p>

<ul>
<li><p> x: x-position of the mouse cursor in projected coordinates
</p>
</li>
<li><p> y: y-position of the mouse cursor in projected coordinates
</p>
</li>
<li><p> epsg: the epsg code of the coordinate reference system of the map
</p>
</li>
<li><p> proj4: the proj4 definition of the coordinate reference system of the map
</p>
</li>
<li><p> lat: latitude position of the mouse cursor
</p>
</li>
<li><p> lon: longitude position of the mouse cursor
</p>
</li>
<li><p> zoom: the current zoom level
</p>
</li></ul>

<p>By default, only 'lat', 'lon' and 'zoom' are shown. To show the details about
epsg, proj4 press and hold 'Ctrl' and move the mouse. 'Ctrl' + click will
copy the current contents of the box/strip at the top of the map to the clipboard,
though currently only copying of 'lon', 'lat' and 'zoom' are supported, not
'epsg' and 'proj4' as these do not change with pan and zoom.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>removeMouseCoordinates()</code>: remove mouse coordinates information from a map
</p>
</li>
<li> <p><code>clip2sfc()</code>: convert mouse coordinates from clipboard to sfc
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)

leaflet() %&gt;%
  addProviderTiles("OpenStreetMap") # without mouse position info
m = leaflet() %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addMouseCoordinates()

m

removeMouseCoordinates(m)

</code></pre>

<hr>
<h2 id='addPMPolygons'>Add vector tiles stored as PMTiles in an AWS S3 bucket to a leaflet map.</h2><span id='topic+addPMPolygons'></span><span id='topic+addPMPoints'></span><span id='topic+addPMPolylines'></span>

<h3>Description</h3>

<p>Add vector tiles stored as PMTiles in an AWS S3 bucket to a leaflet map.
</p>
<p>Add point data stored as PMTiles
</p>
<p>Add polylines stored as PMTiles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addPMPolygons(
  map,
  url,
  style,
  layerId = NULL,
  group = NULL,
  pane = "overlayPane",
  attribution = NULL
)

addPMPoints(
  map,
  url,
  style,
  layerId = NULL,
  group = NULL,
  pane = "overlayPane",
  attribution = NULL
)

addPMPolylines(
  map,
  url,
  style,
  layerId = NULL,
  group = NULL,
  pane = "overlayPane",
  attribution = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addPMPolygons_+3A_map">map</code></td>
<td>
<p>the map to add to.</p>
</td></tr>
<tr><td><code id="addPMPolygons_+3A_url">url</code></td>
<td>
<p>the url to the tiles to be served.</p>
</td></tr>
<tr><td><code id="addPMPolygons_+3A_style">style</code></td>
<td>
<p>styling for the layer. See <a href="#topic+paintRules">paintRules</a> for details.</p>
</td></tr>
<tr><td><code id="addPMPolygons_+3A_layerid">layerId</code></td>
<td>
<p>the layer id.</p>
</td></tr>
<tr><td><code id="addPMPolygons_+3A_group">group</code></td>
<td>
<p>group name.</p>
</td></tr>
<tr><td><code id="addPMPolygons_+3A_pane">pane</code></td>
<td>
<p>the map pane to which the layer should be added. See
[leaflet](addMapPane) for details.</p>
</td></tr>
<tr><td><code id="addPMPolygons_+3A_attribution">attribution</code></td>
<td>
<p>optional attribution character string.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions can be used to add cloud optimized vector tiles data in
the '.pmtiles' format stored in an Amazon Web Services (AWS) S3 bucket to a
leaflet map. For instructions on how to create these files, see
<a href="https://github.com/protomaps/PMTiles">https://github.com/protomaps/PMTiles</a>.
</p>
<p>NOTE: You may not see the tiles rendered in the RStudio viewer pane. Make
sure to open the map in a browser.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>addPMPoints()</code>: add points stored as PMTiles
</p>
</li>
<li> <p><code>addPMPolylines()</code>: add ploylines stored as PMTiles
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>## PMPolygons
library(leaflet)
library(leafem)

url_nzb = "https://vector-tiles-data.s3.eu-central-1.amazonaws.com/nz-building-outlines.pmtiles"

leaflet() %&gt;%
  addTiles() %&gt;%
  addPMPolygons(
    url = url_nzb
    , layerId = "nzbuildings"
    , group = "nzbuildings"
    , style = paintRules(
      layer = "nz-building-outlines"
      , fillColor = "pink"
      , stroke = "green"
    )
  ) %&gt;%
  setView(173.50, -40.80, 6)

## PMPoints
library(leaflet)
library(leafem)

url_depoints = "https://vector-tiles-data.s3.eu-central-1.amazonaws.com/depoints.pmtiles"

leaflet() %&gt;%
  addTiles() %&gt;%
  addPMPoints(
    url = url_depoints
    , layerId = "depoints"
    , group = "depoints"
    , style = paintRules(
      layer = "depoints"
      , fillColor = "black"
      , stroke = "white"
      , radius = 4
    )
  ) %&gt;%
  setView(10, 51, 6)

## PMPolylines
library(leaflet)
library(leafem)

url_rivers = "https://vector-tiles-data.s3.eu-central-1.amazonaws.com/rivers_africa.pmtiles"

## NOTE: these will only render until a zoom level of 7!!
leaflet() %&gt;%
  addTiles() %&gt;%
  addPMPolylines(
    url = url_rivers
    , layerId = "rivers"
    , group = "rivers"
    , style = paintRules(
      layer = "rivers_africa"
      , color = "blue"
    )
  ) %&gt;%
  setView(24, 2.5, 4)

</code></pre>

<hr>
<h2 id='addRasterRGB'>Add an RGB image as a layer</h2><span id='topic+addRasterRGB'></span><span id='topic+addStarsRGB'></span>

<h3>Description</h3>

<p>Create a Red-Green-Blue image overlay from a <code>RasterStack</code> /
<code>RasterBrick</code> or <code>stars</code> object based on three layers.
Three layers (sometimes referred to as &quot;bands&quot; because they may represent
different bandwidths in the electromagnetic spectrum) are combined such
that they represent the red, green and blue channel. This function can
be used to make 'true (or false) color images' from Landsat and other
multi-band satellite images. Note, this text is plagirized, i.e. copied
from <code><a href="raster.html#topic+plotRGB">plotRGB</a></code>.
<code>AddRasterRGB</code> and <code>addStarsRGB</code> are aliases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addRasterRGB(
  map,
  x,
  r = 3,
  g = 2,
  b = 1,
  quantiles = c(0, 1),
  domain = NULL,
  na.color = "#BEBEBE80",
  ...
)

addStarsRGB(
  map,
  x,
  r = 3,
  g = 2,
  b = 1,
  quantiles = c(0, 1),
  domain = NULL,
  na.color = "#BEBEBE80",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addRasterRGB_+3A_map">map</code></td>
<td>
<p>a map widget object created from 'leaflet()&ldquo;</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_x">x</code></td>
<td>
<p>a  'RasterBrick', 'RasterStack' or 'stars&ldquo; raster object</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_r">r</code></td>
<td>
<p>integer. Index of the Red channel/band, between 1 and nlayers(x)</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_g">g</code></td>
<td>
<p>integer. Index of the Green channel/band, between 1 and nlayers(x)</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_b">b</code></td>
<td>
<p>integer. Index of the Blue channel/band, between 1 and nlayers(x)</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_quantiles">quantiles</code></td>
<td>
<p>the upper and lower quantiles used for color stretching.
If set to NULL, stretching is performed basing on 'domain' argument.</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_domain">domain</code></td>
<td>
<p>the upper and lower values used for color stretching.
This is used only if 'quantiles' is NULL.
If both 'domain' and 'quantiles' are set to NULL, stretching is applied
based on min-max values.</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_na.color">na.color</code></td>
<td>
<p>the color to be used for NA pixels</p>
</td></tr>
<tr><td><code id="addRasterRGB_+3A_...">...</code></td>
<td>
<p>additional arguments passed on to <code><a href="leaflet.html#topic+addRasterImage">addRasterImage</a></code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tim Appelhans, Luigi Ranghetti
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  require(raster)
  require(stars)
  require(plainview)
  require(leaflet)

  leaflet() %&gt;%
    addTiles(group = "OpenStreetMap") %&gt;%
    addRasterRGB(plainview::poppendorf, 4,3,2, group = "True colours") %&gt;%
    addStarsRGB(st_as_stars(plainview::poppendorf), 5,4,3, group = "False colours") %&gt;%
    addLayersControl(
      baseGroups = c("Satellite"),
      overlayGroups = c("True colours", "False colours"),
    )


</code></pre>

<hr>
<h2 id='addReactiveFeatures'>Add a reactive layer to map.</h2><span id='topic+addReactiveFeatures'></span>

<h3>Description</h3>

<p>This function adds a layer to a map that is dependent on another layer.
The reactive layer will be shown/hidden when holding the Ctrl-button on your
keyboard and performing the action defined by <code>on</code>. <code>on</code> can be
either &quot;click&quot; (default) or &quot;mouseover&quot;.
</p>
<p>Note: <code>srcLayer</code> needs to be added to the map using <code><a href="leaflet.html#topic+addGeoJSON">addGeoJSON</a></code>
because we need to be able to link the two layers by a common attribute
defined by argument <code>by</code>. Linking will be done via <code>group</code> name
of <code>srcLayer</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addReactiveFeatures(
  map,
  x,
  srcLayer,
  by,
  on,
  group,
  layerId = NULL,
  options = NULL,
  style = NULL,
  updateStyle = NULL,
  popup = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addReactiveFeatures_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_x">x</code></td>
<td>
<p>the (sf) features to be added to the map.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_srclayer">srcLayer</code></td>
<td>
<p>the group name of the source layer that <code>x</code> should be bound to.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_by">by</code></td>
<td>
<p>shared attribute between <code>x</code> and <code>srcLayer</code> by which the
two layers should be bound together.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_on">on</code></td>
<td>
<p>the action to invoke the action. Can be one of &quot;click&quot; (default) and
&quot;mouseover&quot;. The action will be triggered by holding Ctrl-key and performing <code>on</code>.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_group">group</code></td>
<td>
<p>the group name for the object to be added to <code>map</code>.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_layerid">layerId</code></td>
<td>
<p>the layerId.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_options">options</code></td>
<td>
<p>options to be passed to the layer.
See e.g. <code><a href="leaflet.html#topic+pathOptions">pathOptions</a></code> for details.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_style">style</code></td>
<td>
<p>named list of styling instructions for the geometries in <code>x</code>.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_updatestyle">updateStyle</code></td>
<td>
<p>named list of how to update the styling of the <code>srcLayer</code>.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_popup">popup</code></td>
<td>
<p>a character vector of the HTML content for the popups of layer <code>x</code>.
See <code><a href="leaflet.html#topic+addControl">addControl</a></code> for details.</p>
</td></tr>
<tr><td><code id="addReactiveFeatures_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)
library(leafem)
library(sf)
library(geojsonsf)

# create some random data
che = st_as_sf(gadmCHE)
if (require(lwgeom)) {
  pts = st_as_sf(st_sample(che, 200))
  pts = st_join(pts, che[, "ID_1"])

  che = sf_geojson(che)

  leaflet() %&gt;%
    addTiles() %&gt;%
    addGeoJSON(che, group = "che") %&gt;%
    addReactiveFeatures(
      pts
      , srcLayer = "che"
      , by = "ID_1"
      , on = "click"
      , group = "pts"
      , style = list(color = "black", fillOpacity = 0.3)
      , updateStyle = list(
        opacity = 0.3
        , fillOpacity = 0.3
        , color = "forestgreen"
        , fillColor = "forestgreen"
      )
    ) %&gt;%
    addMouseCoordinates() %&gt;%
    setView(lng = 8.31, lat = 46.75, zoom = 8)
}

</code></pre>

<hr>
<h2 id='addStarsImage'>Add stars layer to a leaflet map</h2><span id='topic+addStarsImage'></span>

<h3>Description</h3>

<p>Add stars layer to a leaflet map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addStarsImage(
  map,
  x,
  band = 1,
  colors = "Spectral",
  opacity = 1,
  attribution = NULL,
  layerId = NULL,
  group = NULL,
  project = FALSE,
  method = c("auto", "bilinear", "ngb"),
  maxBytes = 4 * 1024 * 1024,
  data = getMapData(map),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addStarsImage_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_x">x</code></td>
<td>
<p>a stars layer.</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_band">band</code></td>
<td>
<p>the band number to be plotted.</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_colors">colors</code></td>
<td>
<p>the color palette (see colorNumeric) or function to use to
color the raster values (hint: if providing a function, set na.color
to &quot;#00000000&quot; to make NA areas transparent)</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_opacity">opacity</code></td>
<td>
<p>the base opacity of the raster, expressed from 0 to 1</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_attribution">attribution</code></td>
<td>
<p>the HTML string to show as the attribution for this layer</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_layerid">layerId</code></td>
<td>
<p>the layer id</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_group">group</code></td>
<td>
<p>the name of the group this raster image should belong to
(see the same parameter under addTiles)</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_project">project</code></td>
<td>
<p>if TRUE, automatically project x to the map projection
expected by Leaflet (EPSG:3857); if FALSE, it's the caller's responsibility
to ensure that x is already projected, and that extent(x) is
expressed in WGS84 latitude/longitude coordinates</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_method">method</code></td>
<td>
<p>the method used for computing values of the new,
projected raster image. &quot;bilinear&quot; (the default) is appropriate for
continuous data, &quot;ngb&quot; - nearest neighbor - is appropriate for categorical data.
Ignored if project = FALSE. See projectRaster for details.</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_maxbytes">maxBytes</code></td>
<td>
<p>the maximum number of bytes to allow for the projected image
(before base64 encoding); defaults to 4MB.</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden.</p>
</td></tr>
<tr><td><code id="addStarsImage_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an adaption of <code><a href="leaflet.html#topic+addRasterImage">addRasterImage</a></code>. See that documentation
for details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(stars)
library(leaflet)

tif = system.file("tif/L7_ETMs.tif", package = "stars")
x = read_stars(tif)
leaflet() %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addStarsImage(x, project = TRUE)


</code></pre>

<hr>
<h2 id='addStaticLabels'>Add static labels to <code>leaflet</code> or <code>mapview</code> objects</h2><span id='topic+addStaticLabels'></span>

<h3>Description</h3>

<p>Being a wrapper around <code><a href="leaflet.html#topic+addLabelOnlyMarkers">addLabelOnlyMarkers</a></code>, this
function provides a smart-and-easy solution to add custom text labels to an
existing <code>leaflet</code> or <code>mapview</code> map object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addStaticLabels(map, data, label, group = NULL, layerId = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addStaticLabels_+3A_map">map</code></td>
<td>
<p>A <code>leaflet</code> or <code>mapview</code> object.</p>
</td></tr>
<tr><td><code id="addStaticLabels_+3A_data">data</code></td>
<td>
<p>A <code>sf</code> or <code>Spatial*</code> object used for label placement,
defaults to the locations of the first dataset in 'map'.</p>
</td></tr>
<tr><td><code id="addStaticLabels_+3A_label">label</code></td>
<td>
<p>The labels to be placed at the positions indicated by 'data' as
<code>character</code>, or any vector that can be coerced to this type.</p>
</td></tr>
<tr><td><code id="addStaticLabels_+3A_group">group</code></td>
<td>
<p>the group of the static labels layer.</p>
</td></tr>
<tr><td><code id="addStaticLabels_+3A_layerid">layerId</code></td>
<td>
<p>the layerId of the static labels layer.</p>
</td></tr>
<tr><td><code id="addStaticLabels_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to
<code><a href="leaflet.html#topic+labelOptions">labelOptions</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A labelled <strong>leaflet</strong> map
</p>


<h3>Author(s)</h3>

<p>Florian Detsch, Lorenzo Busetto
</p>


<h3>See Also</h3>

<p><code><a href="leaflet.html#topic+addLabelOnlyMarkers">addLabelOnlyMarkers</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## leaflet label display options
library(leaflet)

lopt = labelOptions(noHide = TRUE,
                    direction = 'top',
                    textOnly = TRUE)

## Add labels on a Leaflet map

indata &lt;- sf::st_read(system.file("shape/nc.shp", package="sf"))

leaflet(indata) %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addFeatures(.) %&gt;%
  addStaticLabels(., label = indata$NAME)

Modify styling -

leaflet(indata) %&gt;%
  addProviderTiles("OpenStreetMap") %&gt;%
  addFeatures(.) %&gt;%
  addStaticLabels(., label = indata$NAME,
                    style = list("color" = "red", "font-weight" = "bold"))


## End(Not run)

</code></pre>

<hr>
<h2 id='addTileFolder'>Add raster tiles from a local folder</h2><span id='topic+addTileFolder'></span>

<h3>Description</h3>

<p>Add tiled raster data pyramids from a local folder that was created with
gdal2tiles.py (see <a href="https://gdal.org/programs/gdal2tiles.html">https://gdal.org/programs/gdal2tiles.html</a> for details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTileFolder(
  map,
  folder,
  tms = TRUE,
  layerId = NULL,
  group = NULL,
  attribution = NULL,
  options = leaflet::tileOptions(),
  data = leaflet::getMapData(map)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addTileFolder_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="addTileFolder_+3A_folder">folder</code></td>
<td>
<p>the (top level) folder where the tiles (folders) reside.</p>
</td></tr>
<tr><td><code id="addTileFolder_+3A_tms">tms</code></td>
<td>
<p>whether the tiles are served as TMS tiles.</p>
</td></tr>
<tr><td><code id="addTileFolder_+3A_layerid">layerId</code></td>
<td>
<p>the layer id.</p>
</td></tr>
<tr><td><code id="addTileFolder_+3A_group">group</code></td>
<td>
<p>the group name for the tile layer to be added to <code>map</code>.</p>
</td></tr>
<tr><td><code id="addTileFolder_+3A_attribution">attribution</code></td>
<td>
<p>the attribution text of the tile layer (HTML).</p>
</td></tr>
<tr><td><code id="addTileFolder_+3A_options">options</code></td>
<td>
<p>a list of extra options for tile layers.
See <code><a href="leaflet.html#topic+tileOptions">tileOptions</a></code> for details. When the tiles
were created with <code>gdal2tiles.py</code> argument <code>tms</code> needs to be
set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="addTileFolder_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived;
by default, it is the data object provided to leaflet() initially,
but can be overridden.</p>
</td></tr>
</table>

<hr>
<h2 id='colorOptions'>Color options for addGeoRaster and addGeotiff</h2><span id='topic+colorOptions'></span>

<h3>Description</h3>

<p>Color options for addGeoRaster and addGeotiff
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colorOptions(
  palette = NULL,
  breaks = NULL,
  domain = NULL,
  na.color = "#bebebe22"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="colorOptions_+3A_palette">palette</code></td>
<td>
<p>the color palette to use. Can be a set of colors or a
color generating function such as the result of <code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette</a></code>.</p>
</td></tr>
<tr><td><code id="colorOptions_+3A_breaks">breaks</code></td>
<td>
<p>the breaks at which color should change.</p>
</td></tr>
<tr><td><code id="colorOptions_+3A_domain">domain</code></td>
<td>
<p>the value domain (min/max) within which color mapping should occur.</p>
</td></tr>
<tr><td><code id="colorOptions_+3A_na.color">na.color</code></td>
<td>
<p>color for NA values (will map to NaN in Javascript).</p>
</td></tr>
</table>

<hr>
<h2 id='garnishMap'>Garnish/decorate leaflet or mapview maps.</h2><span id='topic+garnishMap'></span>

<h3>Description</h3>

<p>This function provides a versatile interface to add components to a
leaflet or mapview map. It takes functions such as &quot;addMouseCoordinates&quot;
or <code><a href="leaflet.html#topic+addLayersControl">addLayersControl</a></code> and their respective arguments and adds
them to the map. Arguments must be named. Functions can be plain or
character strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>garnishMap(map, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="garnishMap_+3A_map">map</code></td>
<td>
<p>a mapview or leaflet object.</p>
</td></tr>
<tr><td><code id="garnishMap_+3A_...">...</code></td>
<td>
<p>functions and their arguments to add things to a map.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)

m &lt;- leaflet() %&gt;% addProviderTiles("OpenStreetMap")
garnishMap(m, addMouseCoordinates)

## add more than one with named argument
library(leaflet)

m1 &lt;- garnishMap(m, addScaleBar, addMouseCoordinates,
                 position = "bottomleft")
m1

</code></pre>

<hr>
<h2 id='paintRules'>Styling options for PMTiles</h2><span id='topic+paintRules'></span>

<h3>Description</h3>

<p>Styling options for PMTiles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paintRules(
  layer,
  fillColor = "#0033ff66",
  color = "#0033ffcc",
  do_stroke = TRUE,
  width = 0.5,
  radius = 3,
  stroke = "#000000",
  opacity = 1,
  dash = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="paintRules_+3A_layer">layer</code></td>
<td>
<p>the name of the layer in the PMTiles file to visualise.</p>
</td></tr>
<tr><td><code id="paintRules_+3A_fillcolor">fillColor</code></td>
<td>
<p>fill color for polygons</p>
</td></tr>
<tr><td><code id="paintRules_+3A_color">color</code></td>
<td>
<p>line color</p>
</td></tr>
<tr><td><code id="paintRules_+3A_do_stroke">do_stroke</code></td>
<td>
<p>logical, whether polygon borders should be drawn</p>
</td></tr>
<tr><td><code id="paintRules_+3A_width">width</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="paintRules_+3A_radius">radius</code></td>
<td>
<p>point radius</p>
</td></tr>
<tr><td><code id="paintRules_+3A_stroke">stroke</code></td>
<td>
<p>color point border</p>
</td></tr>
<tr><td><code id="paintRules_+3A_opacity">opacity</code></td>
<td>
<p>point opacity</p>
</td></tr>
<tr><td><code id="paintRules_+3A_dash">dash</code></td>
<td>
<p>either 'NULL' (default) for a solid line or a numeric vector
of length 2 denoting segment length and spce between segments (in pixels),
e.g. 'c(5, 3)'</p>
</td></tr>
</table>

<hr>
<h2 id='updateLayersControl'>Update the layer controls when adding layers to an existing map.</h2><span id='topic+updateLayersControl'></span>

<h3>Description</h3>

<p>When adding additional base layers or overlay layers to an existing map,
<code>updateLayersControl</code> will either update the existing layers control or
add a new one if map has none.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateLayersControl(
  map,
  addBaseGroups = character(0),
  addOverlayGroups = character(0),
  position = "topleft",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateLayersControl_+3A_map">map</code></td>
<td>
<p>A <code>leaflet</code> or <code>mapview</code> map.</p>
</td></tr>
<tr><td><code id="updateLayersControl_+3A_addbasegroups">addBaseGroups</code></td>
<td>
<p>group names of base layers to be added to layers control.</p>
</td></tr>
<tr><td><code id="updateLayersControl_+3A_addoverlaygroups">addOverlayGroups</code></td>
<td>
<p>group names of overlay layers to be added to layers control.</p>
</td></tr>
<tr><td><code id="updateLayersControl_+3A_position">position</code></td>
<td>
<p>position of control: &quot;topleft&quot;, &quot;topright&quot;, &quot;bottomleft&quot;, or &quot;bottomright&quot;.</p>
</td></tr>
<tr><td><code id="updateLayersControl_+3A_...">...</code></td>
<td>
<p>Further arguments passed to <code><a href="leaflet.html#topic+addLayersControl">addLayersControl</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A leaflet <code>map</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)

map = leaflet() %&gt;%
        addProviderTiles("OpenStreetMap", group = "OSM") %&gt;%
        addProviderTiles("CartoDB.DarkMatter", group = "dark") %&gt;%
        addCircleMarkers(data = breweries91, group = "brew")

map # no layers control

map %&gt;%
  updateLayersControl(addBaseGroups = c("OSM", "dark"),
                      addOverlayGroups = "brew")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

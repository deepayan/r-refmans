<!DOCTYPE html><html lang="en"><head><title>Help for package MarginalMediation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MarginalMediation}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>re-export magrittr pipe operator</p></a></li>
<li><a href='#amed'><p>Average Marginal Effects</p></a></li>
<li><a href='#frames'><p>Average Marginal Effects</p></a></li>
<li><a href='#mma'><p>Marginal Mediation</p></a></li>
<li><a href='#mma_check'><p>Uncorrelated Residual Assumption Check</p></a></li>
<li><a href='#mma_dir_effects'><p>Direct Effects Extraction for MMA</p></a></li>
<li><a href='#mma_formulas'><p>Formula Extraction for MMA</p></a></li>
<li><a href='#mma_ind_effects'><p>Indirect Effects Extraction for MMA</p></a></li>
<li><a href='#mma_std_dir_effects'><p>Standardized Direct Effects Extraction for MMA</p></a></li>
<li><a href='#mma_std_ind_effects'><p>Standardized Indirect Effects Extraction for MMA</p></a></li>
<li><a href='#perc_med'><p>Percent Mediation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Marginal Mediation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides the ability to perform "Marginal Mediation"&ndash;mediation
   wherein the indirect and direct effects are in terms of the average marginal effects 
   (Bartus, 2005, <a href="https://EconPapers.repec.org/RePEc:tsj:stataj:v:5:y:2005:i:3:p:309-329">https://EconPapers.repec.org/RePEc:tsj:stataj:v:5:y:2005:i:3:p:309-329</a>). 
   The style of the average marginal effects stems from Thomas Leeper's work on the "margins" package.
   This framework allows the use of categorical mediators and outcomes with little change in interpretation
   from the continuous mediators/outcomes. See &lt;<a href="https://doi.org/10.13140%2FRG.2.2.18465.92001">doi:10.13140/RG.2.2.18465.92001</a>&gt; for more details 
   on the method.</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, magrittr, boot, cli, crayon, rstudioapi, purrr, tibble,
furniture, stringr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, margins, betareg</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-15 01:14:46 UTC; tysonbarrett</td>
</tr>
<tr>
<td>Author:</td>
<td>Tyson S Barrett <a href="https://orcid.org/0000-0002-2137-1391"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Angelo Canty [ctb] (S original bootstrap method,
    http://statwww.epfl.ch/davison/BMA/library.html),
  Brian D. Ripley [ctb] (R port, bootstrap method),
  Thomas Leeper [ctb] (Vectorized marginal effects,
    https://thomasleeper.com/software.html)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tyson S Barrett &lt;t.barrett88@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-15 08:42:36 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>re-export magrittr pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>re-export magrittr pipe operator
</p>

<hr>
<h2 id='amed'>Average Marginal Effects</h2><span id='topic+amed'></span>

<h3>Description</h3>

<p>Internal function for <code>mma()</code>. Based on the same strategy as 
<code>margins</code> by T. Leeper.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amed(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="amed_+3A_model">model</code></td>
<td>
<p>the model object</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tyson S. Barrett
</p>

<hr>
<h2 id='frames'>Average Marginal Effects</h2><span id='topic+frames'></span>

<h3>Description</h3>

<p>Provides the average marginal effects of a GLM model with 
bootstrapped confidence intervals. Similar results would be obtained from using
<code>margins::margins()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frames(model, ci_type = "perc", boot = 100, ci = 0.95)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="frames_+3A_model">model</code></td>
<td>
<p>the model object</p>
</td></tr>
<tr><td><code id="frames_+3A_ci_type">ci_type</code></td>
<td>
<p>the type of boostrapped confidence interval; options are &quot;perc&quot;, &quot;basic&quot;, &quot;bca&quot;</p>
</td></tr>
<tr><td><code id="frames_+3A_boot">boot</code></td>
<td>
<p>the number of bootstrapped samples; default is 100</p>
</td></tr>
<tr><td><code id="frames_+3A_ci">ci</code></td>
<td>
<p>the confidence interval; the default is .975 which is the 95% confidence interval.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using the average marginal effects as discussed by Tamas Bartus (2005), 
the coefficients are transformed into probabilities (for binary outcomes) or remain
in their original units (continuous outcomes).
</p>


<h3>Author(s)</h3>

<p>Tyson S. Barrett
</p>


<h3>References</h3>

<p>Bartus, T. (2005). Estimation of marginal effects using margeff. 
The Stata Journal, 5(3), 309–329. &lt;https://EconPapers.repec.org/RePEc:tsj:stataj:v:5:y:2005:i:3:p:309-329&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(furniture)
data(nhanes_2010)
fit = glm(marijuana ~ home_meals + gender + age + asthma, 
           data = nhanes_2010, 
           family = "binomial")
frames(fit)


</code></pre>

<hr>
<h2 id='mma'>Marginal Mediation</h2><span id='topic+mma'></span>

<h3>Description</h3>

<p>Provides the ability to perform marginal mediation. Marginal mediation
is particularly useful for situations where the mediator or outcome is categorical,
a count, or some other non-normally distributed variable.
The results provide the average marginal effects of the models, providing simple
interpretation of the indirect effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mma(..., ind_effects, ci_type = "perc", boot = 500, ci = 0.95)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mma_+3A_...">...</code></td>
<td>
<p>the glm model objects; the first is the model with the outcome while the others are the mediated effects (&quot;a&quot; paths)</p>
</td></tr>
<tr><td><code id="mma_+3A_ind_effects">ind_effects</code></td>
<td>
<p>a vector of the desired indirect effects. Has the form <code>"var1-var2"</code>.</p>
</td></tr>
<tr><td><code id="mma_+3A_ci_type">ci_type</code></td>
<td>
<p>a string indicating the type of bootstrap method to use (currently &quot;perc&quot; and &quot;basic&quot; are available; &quot;perc&quot; is recommended). Further development will allow the Bias-Corrected bootstrap soon.</p>
</td></tr>
<tr><td><code id="mma_+3A_boot">boot</code></td>
<td>
<p>the number of bootstrapped samples; default is 500.</p>
</td></tr>
<tr><td><code id="mma_+3A_ci">ci</code></td>
<td>
<p>the confidence interval; the default is .95 which is the 95% confidence interval.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using the average marginal effects as discussed by Tamas Bartus (2005), 
the coefficients are transformed into probabilities (for binary outcomes) or remain
in their original units (continuous outcomes).
</p>


<h3>Value</h3>

<p>A list of class <code>mma</code> containing:
</p>
<table role = "presentation">
<tr><td><code>ind_effects</code></td>
<td>
<p>the indirect effects reported in the average marginal effect</p>
</td></tr>
<tr><td><code>dir_effects</code></td>
<td>
<p>the direct effects reported in the average marginal effect</p>
</td></tr>
<tr><td><code>ci_level</code></td>
<td>
<p>the confidence level</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the original data frame</p>
</td></tr>
<tr><td><code>reported_ind</code></td>
<td>
<p>the indirect effects the user requested (in the <code>...</code>)</p>
</td></tr>
<tr><td><code>boot</code></td>
<td>
<p>the number of bootstrap samples</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>the formulas of the individual sub-models</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the original function call</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tyson S. Barrett
</p>


<h3>References</h3>

<p>Bartus, T. (2005). Estimation of marginal effects using margeff. 
The Stata Journal, 5(3), 309–329.
</p>
<p>MacKinnon, D. (2008). Introduction to Statistical Mediation Analysis. 
Taylor \&amp; Francis, LLC.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## A minimal example:

library(furniture)
data(nhanes_2010)
bcpath = glm(marijuana ~ home_meals + gender + age + asthma, 
           data = nhanes_2010, 
           family = "binomial")
apath = glm(home_meals ~ gender + age + asthma,
           data = nhanes_2010, 
           family = "gaussian")
(fit = mma(bcpath, apath, 
           ind_effects = c("genderFemale-home_meals",
                           "age-home_meals",
                           "asthmaNo-home_meals"),
           boot = 10))

</code></pre>

<hr>
<h2 id='mma_check'>Uncorrelated Residual Assumption Check</h2><span id='topic+mma_check'></span>

<h3>Description</h3>

<p>Provides the correlations of the residual terms of the model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mma_check(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mma_check_+3A_model">model</code></td>
<td>
<p>The mma model object</p>
</td></tr>
</table>

<hr>
<h2 id='mma_dir_effects'>Direct Effects Extraction for MMA</h2><span id='topic+mma_dir_effects'></span>

<h3>Description</h3>

<p>Extracts the formulas from a mma object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mma_dir_effects(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mma_dir_effects_+3A_model">model</code></td>
<td>
<p>mma fit object</p>
</td></tr>
</table>

<hr>
<h2 id='mma_formulas'>Formula Extraction for MMA</h2><span id='topic+mma_formulas'></span>

<h3>Description</h3>

<p>Extracts the formulas from a mma object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mma_formulas(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mma_formulas_+3A_model">model</code></td>
<td>
<p>mma fit object</p>
</td></tr>
</table>

<hr>
<h2 id='mma_ind_effects'>Indirect Effects Extraction for MMA</h2><span id='topic+mma_ind_effects'></span>

<h3>Description</h3>

<p>Extracts the formulas from a mma object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mma_ind_effects(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mma_ind_effects_+3A_model">model</code></td>
<td>
<p>mma fit object</p>
</td></tr>
</table>

<hr>
<h2 id='mma_std_dir_effects'>Standardized Direct Effects Extraction for MMA</h2><span id='topic+mma_std_dir_effects'></span>

<h3>Description</h3>

<p>Extracts the formulas from a mma object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mma_std_dir_effects(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mma_std_dir_effects_+3A_model">model</code></td>
<td>
<p>mma fit object</p>
</td></tr>
</table>

<hr>
<h2 id='mma_std_ind_effects'>Standardized Indirect Effects Extraction for MMA</h2><span id='topic+mma_std_ind_effects'></span>

<h3>Description</h3>

<p>Extracts the formulas from a mma object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mma_std_ind_effects(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mma_std_ind_effects_+3A_model">model</code></td>
<td>
<p>mma fit object</p>
</td></tr>
</table>

<hr>
<h2 id='perc_med'>Percent Mediation</h2><span id='topic+perc_med'></span>

<h3>Description</h3>

<p>To obtain the percent of the total effect that is mediated through the specified
indirect path: indirect / (total) * 100.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perc_med(model, effect)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="perc_med_+3A_model">model</code></td>
<td>
<p>mma fit object</p>
</td></tr>
<tr><td><code id="perc_med_+3A_effect">effect</code></td>
<td>
<p>the indirect effect to be compared to its direct path</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

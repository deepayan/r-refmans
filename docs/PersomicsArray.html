<!DOCTYPE html><html><head><title>Help for package PersomicsArray</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PersomicsArray}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PersomicsArray-package'><p>PersomicsArray: an R package for automated extraction of annotated images from high-content microscopy images of Persomics plates</p></a></li>
<li><a href='#example_annotation'><p>Example Annotation Data for PersomicsArray Package</p></a></li>
<li><a href='#example_plate'><p>Example Plate Image for PersomicsArray Package</p></a></li>
<li><a href='#plot_low_res'><p>plot_low_res</p></a></li>
<li><a href='#spot_id'><p>spot_id</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Automated Persomics Array Image Extraction</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-09-23</td>
</tr>
<tr>
<td>Author:</td>
<td>John Smestad [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Smestad &lt;smestad.john@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0), grDevices, jpeg, tiff, stringr, raster, utils,
graphics, stats</td>
</tr>
<tr>
<td>Description:</td>
<td>Automated identification of printed array positions from high content 
    microscopy images and the export of those positions as individual images 
    written to output as multi-layered tiff files.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-09-26 17:11:45 UTC; m093616</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-09-26 23:59:25</td>
</tr>
</table>
<hr>
<h2 id='PersomicsArray-package'>PersomicsArray: an R package for automated extraction of annotated images from high-content microscopy images of Persomics plates</h2><span id='topic+PersomicsArray-package'></span>

<h3>Description</h3>

<p>The PersomicsArray package contains functions to sequentially read multi-channel jpeg or tiff high content microscopy image files, identify coordinates of printed siRNAs via one of the image channels, and then export individual multi-channel tiff images for each identified array position.  The names of the exported images are supplied by an input csv file containing the array annotations.  Images are exported as tiff files to automatically-created sub-directories named after the input image files.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> PersomicsArray</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-09-23</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>This is version 1.0 of the PersomicsArray package.
</p>


<h3>Author(s)</h3>

<p>John Smestad
<br />
<a href="mailto:smestad.john@gmail.com">smestad.john@gmail.com</a>
</p>


<h3>See Also</h3>

<p>&lt;<code><a href="#topic+spot_id">spot_id</a></code>&gt;
&lt;<code><a href="#topic+plot_low_res">plot_low_res</a></code>&gt;
&lt;<code><a href="#topic+example_annotation">example_annotation</a></code>&gt;
&lt;<code><a href="#topic+example_plate">example_plate</a></code>&gt;
</p>

<hr>
<h2 id='example_annotation'>Example Annotation Data for PersomicsArray Package</h2><span id='topic+example_annotation'></span>

<h3>Description</h3>

<p>This is a very small example of the expected array annotation format
taken as input by the spot_id function in the PersomicsArray pacakge.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_annotation</code></pre>


<h3>Format</h3>

<p>data.frame</p>


<h3>See Also</h3>

<p>&lt;<code><a href="#topic+PersomicsArray-package">PersomicsArray-package</a></code>&gt;
&lt;<code><a href="#topic+spot_id">spot_id</a></code>&gt;
&lt;<code><a href="#topic+plot_low_res">plot_low_res</a></code>&gt;
&lt;<code><a href="#topic+example_plate">example_plate</a></code>&gt;
</p>

<hr>
<h2 id='example_plate'>Example Plate Image for PersomicsArray Package</h2><span id='topic+example_plate'></span>

<h3>Description</h3>

<p>This is a very small example image used for teaching functionality
in the PersomicsArray pacakge.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_plate</code></pre>


<h3>Format</h3>

<p>data.frame</p>


<h3>See Also</h3>

<p>&lt;<code><a href="#topic+PersomicsArray-package">PersomicsArray-package</a></code>&gt;
&lt;<code><a href="#topic+spot_id">spot_id</a></code>&gt;
&lt;<code><a href="#topic+plot_low_res">plot_low_res</a></code>&gt;
&lt;<code><a href="#topic+example_annotation">example_annotation</a></code>&gt;
</p>

<hr>
<h2 id='plot_low_res'>plot_low_res</h2><span id='topic+plot_low_res'></span>

<h3>Description</h3>

<p>This function generates low resolution plots of pixel values stored in arrays, and
is called by function spot_id.</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_low_res(plot.image=NULL, rescale.factor=1000, add=FALSE,
pallete=gray.colors(20),main=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_low_res_+3A_plot.image">plot.image</code></td>
<td>
<p>Array-type object containing image data.</p>
</td></tr>
<tr><td><code id="plot_low_res_+3A_rescale.factor">rescale.factor</code></td>
<td>
<p>Numeric value specifying the fold reduction of resolution from original image.  Larger values make the function run faster, but at the cost of image resolution.</p>
</td></tr>
<tr><td><code id="plot_low_res_+3A_add">add</code></td>
<td>
<p>If TRUE, adds the plot to the current active device.  If FALSE, a new plot is generated.</p>
</td></tr>
<tr><td><code id="plot_low_res_+3A_pallete">pallete</code></td>
<td>
<p>Specifies the color pallete to be used for generating the plot.</p>
</td></tr>
<tr><td><code id="plot_low_res_+3A_main">main</code></td>
<td>
<p>Character string containing the plot title.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>John Smestad
<br />
<a href="mailto:smestad.john@gmail.com">smestad.john@gmail.com</a>
</p>


<h3>See Also</h3>

<p>&lt;<code><a href="#topic+PersomicsArray-package">PersomicsArray-package</a></code>&gt;
&lt;<code><a href="#topic+spot_id">spot_id</a></code>&gt;
&lt;<code><a href="#topic+example_annotation">example_annotation</a></code>&gt;
&lt;<code><a href="#topic+example_plate">example_plate</a></code>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load example image data from package
data("PersomicsPlate")

# isolate single color channel
red &lt;- example_plate[,,1]

# plot low resolution image of
plot_low_res(red, rescale.factor=10)
</code></pre>

<hr>
<h2 id='spot_id'>spot_id</h2><span id='topic+spot_id'></span>

<h3>Description</h3>

<p>This function sequentially reads multi-channel jpeg or tiff high content microscopy image files, identifies coordinates of printed siRNAs via one of the image channels, and then exports individual multi-channel tiff images for each identified array position.  The names of the exported images are supplied by an input csv file containing the array annotations.  Images are exported to automatically-created sub-directories named after the input image files.</p>


<h3>Usage</h3>

<pre><code class='language-R'>spot_id(files, annotation, channel.num=3, spot.channel=1, smooth.cycle=4,
binary.cut= 0.3, channel.scaling=TRUE, scale.percentiles=c(0.01,0.99))</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spot_id_+3A_files">files</code></td>
<td>
<p>Vector containing the names of desired files to be read from the current working directory.  All array images must have invariable numbers of rows and columns.</p>
</td></tr>
<tr><td><code id="spot_id_+3A_annotation">annotation</code></td>
<td>
<p>Name of the csv file in the current working directly that contains array annotations.  File must have invariable number of rows and columns.</p>
</td></tr>
<tr><td><code id="spot_id_+3A_channel.num">channel.num</code></td>
<td>
<p>Numeric value specifying the number of color channels contained by the input image.  jpeg images contain a max of 3.  tiff files can contain more than this.  The maximum number of channels used by this function is 6.</p>
</td></tr>
<tr><td><code id="spot_id_+3A_spot.channel">spot.channel</code></td>
<td>
<p>Numeric value specifying the channel number used for identification of grid array spots.</p>
</td></tr>
<tr><td><code id="spot_id_+3A_smooth.cycle">smooth.cycle</code></td>
<td>
<p>Numeric value specifying the number of iterations of smoothing operation applied to the extracted binary image prior to identification of pixel clusters.  Designed for elimination of rogue pixels from binary image.</p>
</td></tr>
<tr><td><code id="spot_id_+3A_binary.cut">binary.cut</code></td>
<td>
<p>Numeric value in the range of 0-1 defining the cut-off pixel intensity for defining the binary image.</p>
</td></tr>
<tr><td><code id="spot_id_+3A_channel.scaling">channel.scaling</code></td>
<td>
<p>If TRUE, all color channels are scaled according to the values supplied to scale.percentiles.  This parameter scales the input data to optimize coverage of the dynamic range of displayed pixel intensity values.  If FALSE, input data is used &quot;as is&quot; with no scaling operation applied.</p>
</td></tr>
<tr><td><code id="spot_id_+3A_scale.percentiles">scale.percentiles</code></td>
<td>
<p>Vector of two numeric values in the range of 0-1 that specify the percentiles of pixel intensity values used to define min and max for individual channel signal.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>John Smestad
<br />
<a href="mailto:smestad.john@gmail.com">smestad.john@gmail.com</a>
</p>


<h3>See Also</h3>

<p>&lt;<code><a href="#topic+PersomicsArray-package">PersomicsArray-package</a></code>&gt;
&lt;<code><a href="#topic+plot_low_res">plot_low_res</a></code>&gt;
&lt;<code><a href="#topic+example_annotation">example_annotation</a></code>&gt;
&lt;<code><a href="#topic+example_plate">example_plate</a></code>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get names of all plate image files in current working directory
tif.files &lt;- list.files(path = getwd(), pattern = ".tif", all.files = FALSE,
                    full.names = FALSE, recursive = FALSE, ignore.case = TRUE,
                    include.dirs = FALSE)

# read images, process, and extract individual image files for each array position
spot_id(files=tif.files,ann="annotation.csv",channel.num=3, spot.channel=1,
smooth.cycle=4, binary.cut= 0.3, channel.scaling=TRUE, scale.percentiles=c(0.01,0.99))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package protoshiny</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {protoshiny}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.protoclust'><p>Convert a generic hclust object to a protoclust object.</p></a></li>
<li><a href='#branch'><p>Get an hclust object consisting of the branch with root given by a particular interior node</p></a></li>
<li><a href='#covid19'><p>Dataset covid19</p></a></li>
<li><a href='#dynGraph'><p>Dynamic element of class &quot;d3graph&quot;</p></a></li>
<li><a href='#faces'><p>Dataset faces</p></a></li>
<li><a href='#fixUploadedFilesNames'><p>Fix uploaded files are getting renamed</p></a></li>
<li><a href='#get_clusters'><p>Extract cluster labels</p></a></li>
<li><a href='#get_cut_from_merge_id'><p>Get clustering of leaves from merge_id</p></a></li>
<li><a href='#get_nodes_to_expand_info'><p>Get the labels of each interior node</p></a></li>
<li><a href='#get_paths_from_cut'><p>Given a clustering get the root-to-node paths for visible nodes</p></a></li>
<li><a href='#get_server'><p>Server function</p></a></li>
<li><a href='#get_ui'><p>UI function</p></a></li>
<li><a href='#load_obj'><p>Load an object into a new environment</p></a></li>
<li><a href='#movies'><p>Dataset movies</p></a></li>
<li><a href='#protoclust_to_json'><p>Convert a protoclust object to a JSON tree</p></a></li>
<li><a href='#seaflow'><p>Dataset seaflow</p></a></li>
<li><a href='#selectJS'><p>Dynamic element of class &quot;select_custom&quot;</p></a></li>
<li><a href='#upper'><p>Get the upper cut of a protoclust object</p></a></li>
<li><a href='#visualize_hc'><p>Run a local instance of protoshiny</p></a></li>
<li><a href='#words'><p>Dataset words</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interactive Dendrograms for Visualizing Hierarchical Clusters
with Prototypes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Shiny app to interactively visualize hierarchical clustering with prototypes. 
    For details on hierarchical clustering with prototypes, see 
    Bien and Tibshirani (2011) &lt;<a href="https://doi.org/10.1198%2Fjasa.2011.tm10183">doi:10.1198/jasa.2011.tm10183</a>&gt;. This package currently launches the application.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>DT, dynamicTreeCut, methods, protoclust, rare, shiny,
shinycssloaders, shinythemes, tools</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-17 16:03:30 UTC; andeek</td>
</tr>
<tr>
<td>Author:</td>
<td>Andee Kaplan [aut, cre],
  Jacob Bien [aut],
  Mike Bostock [cph] (Author of included d3.js library),
  Brian Reavis [cph] (Author of included selectize.js library)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andee Kaplan &lt;andee.kaplan@colostate.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-18 16:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.protoclust'>Convert a generic hclust object to a protoclust object.</h2><span id='topic+as.protoclust'></span>

<h3>Description</h3>

<p>Convert a generic hclust object to a protoclust object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.protoclust(hc, protos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.protoclust_+3A_hc">hc</code></td>
<td>
<p>A generic hclust object using any linkage.</p>
</td></tr>
<tr><td><code id="as.protoclust_+3A_protos">protos</code></td>
<td>
<p>A vector of prototype label indices for each branch in the dendrogram.
The i-th element is the index of the prototype corresponding to the cluster 
formed on the i-th merge.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>protoclust</code> with a user specified vector of representative prototypes for each cluster.
This object is just like <code>hclust</code> but has an identical element:
</p>
<table>
<tr><td><code>merge</code>, <code>height</code>, <code>order</code></td>
<td>
<p>identical to the values returned by <code><a href="stats.html#topic+hclust">hclust</a></code></p>
</td></tr>
<tr><td><code>protos</code></td>
<td>
<p>a vector of length n - 1.  The i-th element is the index of
the prototype corresponding to the cluster formed on the i-th merge.</p>
</td></tr>
</table>

<hr>
<h2 id='branch'>Get an hclust object consisting of the branch with root given by a particular interior node</h2><span id='topic+branch'></span>

<h3>Description</h3>

<p>Get an hclust object consisting of the branch with root given by a particular interior node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>branch(hc, merge.id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="branch_+3A_hc">hc</code></td>
<td>
<p>protoclust object</p>
</td></tr>
<tr><td><code id="branch_+3A_merge.id">merge.id</code></td>
<td>
<p>a particular interior node</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an hclust object consisting of the branch with root given by merge.id.
</p>

<hr>
<h2 id='covid19'>Dataset covid19</h2><span id='topic+covid19'></span>

<h3>Description</h3>

<p>This is a protoclust object for use with protoshiny. It is the hierarchical clustering of US counties using mobility data (proportion of people staying home at least 8 hours and proportion of people going into a restaurant).
</p>


<h3>Source</h3>

<p><a href="https://cmu-delphi.github.io/covidcast/covidcastR/">https://cmu-delphi.github.io/covidcast/covidcastR/</a>
</p>

<hr>
<h2 id='dynGraph'>Dynamic element of class &quot;d3graph&quot;</h2><span id='topic+dynGraph'></span>

<h3>Description</h3>

<p>Dynamic element of class &quot;d3graph&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dynGraph(inputoutputId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dynGraph_+3A_inputoutputid">inputoutputId</code></td>
<td>
<p>ID of the input/output element</p>
</td></tr>
</table>

<hr>
<h2 id='faces'>Dataset faces</h2><span id='topic+faces'></span>

<h3>Description</h3>

<p>This is a protoclust object for use with protoshiny. It is the hierarchical clustering of 400 grayscale images of faces that correspond to 10 images of 40 individuals.
</p>


<h3>Source</h3>

<p><a href="https://www.kaggle.com/kasikrit/att-database-of-faces">https://www.kaggle.com/kasikrit/att-database-of-faces</a>
</p>

<hr>
<h2 id='fixUploadedFilesNames'>Fix uploaded files are getting renamed</h2><span id='topic+fixUploadedFilesNames'></span>

<h3>Description</h3>

<p>Fix uploaded files are getting renamed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fixUploadedFilesNames(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fixUploadedFilesNames_+3A_x">x</code></td>
<td>
<p>uploaded object</p>
</td></tr>
</table>

<hr>
<h2 id='get_clusters'>Extract cluster labels</h2><span id='topic+get_clusters'></span>

<h3>Description</h3>

<p>Extract cluster labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_clusters(hc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_clusters_+3A_hc">hc</code></td>
<td>
<p>A protoshiny object downloaded from the web interface.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of saved cluster assignments resulting from interaction in the protoshiny application.
</p>

<hr>
<h2 id='get_cut_from_merge_id'>Get clustering of leaves from merge_id</h2><span id='topic+get_cut_from_merge_id'></span>

<h3>Description</h3>

<p>This function expects a set of node id's of a hierarchical clustering object
that would define a partition of the leaves.  It returns a vector giving the 
implied clustering of the leaves (analogous to the output of 'stats::cutree').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cut_from_merge_id(hc, merge_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cut_from_merge_id_+3A_hc">hc</code></td>
<td>
<p>An object of class 'hclust'</p>
</td></tr>
<tr><td><code id="get_cut_from_merge_id_+3A_merge_id">merge_id</code></td>
<td>
<p>A numeric vector.  Indexing of nodes should match that of the
'merge' matrix in an 'hclust' object.  In particular, positive numbers 
specify interior nodes and negative numbers specify leaves. These nodes must
define a partition of the leaves, meaning no node in 'merge_id' should be a
descendant of another and every leaf should either be included directly or 
be the descendant of one of the interior nodes referenced by 'merge_id'.</p>
</td></tr>
</table>

<hr>
<h2 id='get_nodes_to_expand_info'>Get the labels of each interior node</h2><span id='topic+get_nodes_to_expand_info'></span>

<h3>Description</h3>

<p>Get the labels of each interior node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_nodes_to_expand_info(hc, dc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_nodes_to_expand_info_+3A_hc">hc</code></td>
<td>
<p>hclust object</p>
</td></tr>
<tr><td><code id="get_nodes_to_expand_info_+3A_dc">dc</code></td>
<td>
<p>a vector of length n with integers between 0 and num_clusters such as
is outputted by dynamicTreeCut::cutreeDynamicTree</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an (n-1)-vector giving the labels of each interior node. A
positive value means that all nodes in that node's subtree have that label.
A value of -1 means that this node's children have different labels.  A
value of -2 means that at least one child has a value of -1.  And so forth.
</p>

<hr>
<h2 id='get_paths_from_cut'>Given a clustering get the root-to-node paths for visible nodes</h2><span id='topic+get_paths_from_cut'></span>

<h3>Description</h3>

<p>This function returns the binary path from root to node for each
node that should be displayed in order to return the input clustering.
Note that this  will only be possible for a clustering 'cl' in which each 
cluster corresponds to a branch of 'hc'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_paths_from_cut(hc, cl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_paths_from_cut_+3A_hc">hc</code></td>
<td>
<p>An object of class 'hclust'</p>
</td></tr>
<tr><td><code id="get_paths_from_cut_+3A_cl">cl</code></td>
<td>
<p>A numeric vector in the format of the output of 'stats::cutree' 
that gives the cluster memberships of each leaf.</p>
</td></tr>
</table>

<hr>
<h2 id='get_server'>Server function</h2><span id='topic+get_server'></span>

<h3>Description</h3>

<p>Server function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_server()
</code></pre>

<hr>
<h2 id='get_ui'>UI function</h2><span id='topic+get_ui'></span>

<h3>Description</h3>

<p>UI function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_ui()
</code></pre>

<hr>
<h2 id='load_obj'>Load an object into a new environment</h2><span id='topic+load_obj'></span>

<h3>Description</h3>

<p>Load an object into a new environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_obj(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_obj_+3A_file">file</code></td>
<td>
<p>object to load into the new environment</p>
</td></tr>
</table>

<hr>
<h2 id='movies'>Dataset movies</h2><span id='topic+movies'></span>

<h3>Description</h3>

<p>This is a protoclust object for use with protoshiny. It is the hierarchical clustering of 13,816 movies based on users' ratings and taggings of movies.
</p>


<h3>Source</h3>

<p><a href="https://grouplens.org/datasets/movielens/25m/">https://grouplens.org/datasets/movielens/25m/</a>
</p>

<hr>
<h2 id='protoclust_to_json'>Convert a protoclust object to a JSON tree</h2><span id='topic+protoclust_to_json'></span>

<h3>Description</h3>

<p>Convert a protoclust object to a JSON tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>protoclust_to_json(proto_object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="protoclust_to_json_+3A_proto_object">proto_object</code></td>
<td>
<p>protoclust object including merge, labels, and height</p>
</td></tr>
</table>

<hr>
<h2 id='seaflow'>Dataset seaflow</h2><span id='topic+seaflow'></span>

<h3>Description</h3>

<p>This is a protoclust object for use with protoshiny. It is the hierarchical clustering of 6,336 scatterplots resulting from continuous-time flow cytometry measurements of phytoplankton.
</p>


<h3>Source</h3>

<p>Provided by Mattias Rolf Cape and Francois Ribalet.
</p>

<hr>
<h2 id='selectJS'>Dynamic element of class &quot;select_custom&quot;</h2><span id='topic+selectJS'></span>

<h3>Description</h3>

<p>Dynamic element of class &quot;select_custom&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selectJS(inputoutputId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="selectJS_+3A_inputoutputid">inputoutputId</code></td>
<td>
<p>ID of the input/output element</p>
</td></tr>
</table>

<hr>
<h2 id='upper'>Get the upper cut of a protoclust object</h2><span id='topic+upper'></span>

<h3>Description</h3>

<p>Gets the upper part of the tree when you cut at height h (or alternately to 
have k leaves).  Returns a valid protoclust object.  This new tree has a
different indexing from the original tree.  i.original can be used to recover
the old indexing and merge.id indicates for each leaf of new tree that had
been an interior node, the merge.id of it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>upper(hc, h = NULL, k = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="upper_+3A_hc">hc</code></td>
<td>
<p>protoclust object</p>
</td></tr>
<tr><td><code id="upper_+3A_h">h</code></td>
<td>
<p>cut height</p>
</td></tr>
<tr><td><code id="upper_+3A_k">k</code></td>
<td>
<p>number of leaves that upper cut should have</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt>hc</dt><dd><p>protoclust object representing the upper cut</p>
</dd>
<dt>i.original</dt><dd><p>index of each element in original tree</p>
</dd>
<dt>merge.id.leaf</dt><dd><p>merge.id from original tree of each leaf</p>
</dd>
<dt>merge.id.interior</dt><dd><p>merge.id from original tree of each interior node</p>
</dd>
<dt>h</dt><dd><p>cut height</p>
</dd>
<dt>n.original</dt><dd><p>number of objects in original tree</p>
</dd>
</dl>


<hr>
<h2 id='visualize_hc'>Run a local instance of protoshiny</h2><span id='topic+visualize_hc'></span>

<h3>Description</h3>

<p>Run a local instance of protoshiny
</p>


<h3>Usage</h3>

<pre><code class='language-R'>visualize_hc()
</code></pre>


<h3>Value</h3>

<p>No return value, launches the protoshiny Shiny application.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
    visualize_hc()

## End(Not run)
</code></pre>

<hr>
<h2 id='words'>Dataset words</h2><span id='topic+words'></span>

<h3>Description</h3>

<p>This is a protoclust object for use with protoshiny. It is the hierarchical clustering of 19,599 of the most common words from Grolier's Encyclopedia.
</p>


<h3>Source</h3>

<p><a href="https://cs.nyu.edu/~roweis/data.html">https://cs.nyu.edu/~roweis/data.html</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

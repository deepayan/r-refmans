<!DOCTYPE html><html><head><title>Help for package agua</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {agua}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#agua_backend_options'><p>Control model tuning via <code>h2o::h2o.grid()</code></p></a></li>
<li><a href='#agua-package'><p>tidymodels integration with h2o</p></a></li>
<li><a href='#as_h2o'><p>Data conversion tools</p></a></li>
<li><a href='#autoplot.workflow'><p>Plot rankings and metrics of H2O AutoML results</p></a></li>
<li><a href='#h2o_activation'><p>Tuning parameters in h2o</p></a></li>
<li><a href='#h2o_predict'><p>Prediction wrappers for h2o</p></a></li>
<li><a href='#h2o_start'><p>Utility functions for interacting with the h2o server</p></a></li>
<li><a href='#h2o_train'><p>Model wrappers for h2o</p></a></li>
<li><a href='#print.h2o_fit'><p>Print wrappers for h2o models</p></a></li>
<li><a href='#rank_results.workflow'><p>Tools for working with H2O AutoML results</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>'tidymodels' Integration with 'h2o'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Create and evaluate models using 'tidymodels' and 'h2o' <a href="https://h2o.ai/">https://h2o.ai/</a>. The
    package enables users to specify 'h2o' as an engine for several
    modeling methods.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://agua.tidymodels.org/">https://agua.tidymodels.org/</a>, <a href="https://github.com/tidymodels/agua">https://github.com/tidymodels/agua</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tidymodels/agua/issues">https://github.com/tidymodels/agua/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>parsnip</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dials, dplyr, generics (&ge; 0.1.3), ggplot2, glue, h2o (&ge;
3.38.0.1), hardhat (&ge; 1.1.0), methods, pkgconfig, purrr,
rlang, rsample, stats, tibble, tidyr, tune (&ge; 1.0.1), vctrs,
workflows</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, modeldata, recipes, rmarkdown, testthat (&ge;
3.0.0)</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate, doParallel, tidymodels,
vip</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>false</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-03 06:45:24 UTC; qiushi</td>
</tr>
<tr>
<td>Author:</td>
<td>Max Kuhn <a href="https://orcid.org/0000-0003-2402-136X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Qiushi Yan [aut, cre],
  Steven Pawley [aut],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Qiushi Yan &lt;qiushi.yann@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-03 07:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='agua_backend_options'>Control model tuning via <code><a href="h2o.html#topic+h2o.grid">h2o::h2o.grid()</a></code></h2><span id='topic+agua_backend_options'></span>

<h3>Description</h3>

<p>Control model tuning via <code><a href="h2o.html#topic+h2o.grid">h2o::h2o.grid()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>agua_backend_options(parallelism = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="agua_backend_options_+3A_parallelism">parallelism</code></td>
<td>
<p>Level of Parallelism during grid model building. 1 = sequential building (default).
Use the value of 0 for adaptive parallelism - decided by H2O. Any number &gt; 1 sets the exact number of models built in parallel.</p>
</td></tr>
</table>

<hr>
<h2 id='agua-package'>tidymodels integration with h2o</h2><span id='topic+agua-package'></span><span id='topic+_PACKAGE'></span><span id='topic+agua'></span>

<h3>Description</h3>

<p>agua allows users to fit and tune models using the H2O
platform with tidymodels syntax. The package provides a new parsnip
computational engine 'h2o' for various models and sets up additional
infrastructure for tune.
</p>


<h3>Details</h3>

<p>The package uses code initially written by Steven Pawley in his h2oparsnip
package. Addition work was done by Qiushi Yan as a Posit summer intern.
</p>
<p>There are two main components in agua:
</p>

<ul>
<li><p> New parsnip engine <code>'h2o'</code> for many models, see the
<a href="https://agua.tidymodels.org/articles/agua.html">vignette</a> for a
complete list.
</p>
</li>
<li><p> Infrastructure for the tune package.
</p>
</li></ul>

<p>When fitting a parsnip model, the data are passed to the h2o server
directly. For tuning, the data are passed once and instructions are
given to <code>h2o.grid()</code> to process them.
</p>
<p>This work is based on @stevenpawley’s
<a href="https://github.com/stevenpawley/h2oparsnip">h2oparsnip</a> package.
Additional work was done by Qiushi Yan for his 2022 summer internship at
Posit.
</p>


<h4>Installation</h4>

<p>The CRAN version of the package can be installed via
</p>
<div class="sourceCode r"><pre>install.packages("agua")
</pre></div>
<p>You can also install the development version of agua using:
</p>
<div class="sourceCode r"><pre>require(pak)
pak::pak("tidymodels/agua")
</pre></div>



<h4>Examples</h4>

<p>The following code demonstrates how to create a single model on the h2o
server and how to make predictions.
</p>
<div class="sourceCode r"><pre>library(tidymodels)
library(agua)

# Start the h2o server before running models
h2o_start()

# Demonstrate fitting parsnip models: 
# Specify the type of model and the h2o engine 
spec &lt;-
  rand_forest(mtry = 3, trees = 1000) %&gt;%
  set_engine("h2o") %&gt;%
  set_mode("regression")

# Fit the model on the h2o server
set.seed(1)
mod &lt;- fit(spec, mpg ~ ., data = mtcars)
mod
#&gt; parsnip model object
#&gt; 
#&gt; Model Details:
#&gt; ==============
#&gt; 
#&gt; H2ORegressionModel: drf
#&gt; Model ID:  DRF_model_R_1665517828283_1 
#&gt; Model Summary: 
#&gt;   number_of_trees number_of_internal_trees model_size_in_bytes min_depth
#&gt; 1            1000                     1000              285916         4
#&gt;   max_depth mean_depth min_leaves max_leaves mean_leaves
#&gt; 1        10    6.70600         10         27    18.04100
#&gt; 
#&gt; 
#&gt; H2ORegressionMetrics: drf
#&gt; ** Reported on training data. **
#&gt; ** Metrics reported on Out-Of-Bag training samples **
#&gt; 
#&gt; MSE:  4.354
#&gt; RMSE:  2.087
#&gt; MAE:  1.658
#&gt; RMSLE:  0.09849
#&gt; Mean Residual Deviance :  4.354

# Predictions
predict(mod, head(mtcars))
#&gt; # A tibble: 6 × 1
#&gt;   .pred
#&gt;   &lt;dbl&gt;
#&gt; 1  20.9
#&gt; 2  20.8
#&gt; 3  23.3
#&gt; 4  20.4
#&gt; 5  17.9
#&gt; 6  18.7

# When done
h2o_end()
</pre></div>
<p>Before using the <code>'h2o'</code> engine, users need to run <code>agua::h2o_start()</code>
or <code>h2o::h2o.init()</code> to start the h2o server, which will be storing
data, models, and other values passed from the R session.
</p>
<p>There are several package vignettes including:
</p>

<ul>
<li> <p><a href="https://agua.tidymodels.org/articles/agua.html">Introduction to agua</a>
</p>
</li>
<li> <p><a href="https://agua.tidymodels.org/articles/tune.html">Model tuning</a>
</p>
</li>
<li> <p><a href="https://agua.tidymodels.org/articles/auto_ml.html">Automatic machine learning</a>
</p>
</li>
<li> <p><a href="https://agua.tidymodels.org/articles/parallel.html">Parallel processing with agua and h2o</a>
</p>
</li></ul>




<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Qiushi Yan <a href="mailto:qiushi.yann@gmail.com">qiushi.yann@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Max Kuhn <a href="mailto:max@posit.co">max@posit.co</a> (<a href="https://orcid.org/0000-0003-2402-136X">ORCID</a>)
</p>
</li>
<li><p> Steven Pawley <a href="mailto:dr.stevenpawley@gmail.com">dr.stevenpawley@gmail.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://agua.tidymodels.org/">https://agua.tidymodels.org/</a>
</p>
</li>
<li> <p><a href="https://github.com/tidymodels/agua">https://github.com/tidymodels/agua</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/tidymodels/agua/issues">https://github.com/tidymodels/agua/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_h2o'>Data conversion tools</h2><span id='topic+as_h2o'></span><span id='topic+as_tibble.H2OFrame'></span>

<h3>Description</h3>

<p>Data conversion tools
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_h2o(df, destination_frame_prefix = "object")

## S3 method for class 'H2OFrame'
as_tibble(
  x,
  ...,
  .rows = NULL,
  .name_repair = c("check_unique", "unique", "universal", "minimal"),
  rownames = pkgconfig::get_config("tibble::rownames", NULL)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_h2o_+3A_df">df</code></td>
<td>
<p>A R data frame.</p>
</td></tr>
<tr><td><code id="as_h2o_+3A_destination_frame_prefix">destination_frame_prefix</code></td>
<td>
<p>A character string to use as the base name.</p>
</td></tr>
<tr><td><code id="as_h2o_+3A_x">x</code></td>
<td>
<p>An H2OFrame.</p>
</td></tr>
<tr><td><code id="as_h2o_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
<tr><td><code id="as_h2o_+3A_.rows">.rows</code></td>
<td>
<p>The number of rows, useful to create a 0-column tibble or
just as an additional check.</p>
</td></tr>
<tr><td><code id="as_h2o_+3A_.name_repair">.name_repair</code></td>
<td>
<p>Treatment of problematic column names:
</p>

<ul>
<li> <p><code>"minimal"</code>: No name repair or checks, beyond basic existence,
</p>
</li>
<li> <p><code>"unique"</code>: Make sure names are unique and not empty,
</p>
</li>
<li> <p><code>"check_unique"</code>: (default value), no name repair, but check they are
<code>unique</code>,
</p>
</li>
<li> <p><code>"universal"</code>: Make the names <code>unique</code> and syntactic
</p>
</li>
<li><p> a function: apply custom name repair (e.g., <code>.name_repair = make.names</code>
for names in the style of base R).
</p>
</li>
<li><p> A purrr-style anonymous function, see <code><a href="rlang.html#topic+as_function">rlang::as_function()</a></code>
</p>
</li></ul>

<p>This argument is passed on as <code>repair</code> to <code><a href="vctrs.html#topic+vec_as_names">vctrs::vec_as_names()</a></code>.
See there for more details on these terms and the strategies used
to enforce them.</p>
</td></tr>
<tr><td><code id="as_h2o_+3A_rownames">rownames</code></td>
<td>
<p>How to treat existing row names of a data frame or matrix:
</p>

<ul>
<li> <p><code>NULL</code>: remove row names. This is the default.
</p>
</li>
<li> <p><code>NA</code>: keep row names.
</p>
</li>
<li><p> A string: the name of a new column. Existing rownames are transferred
into this column and the <code>row.names</code> attribute is deleted.
No name repair is applied to the new column name, even if <code>x</code> already contains
a column of that name.
Use <code>as_tibble(rownames_to_column(...))</code> to safeguard against this case.
</p>
</li></ul>

<p>Read more in <a href="tibble.html#topic+rownames">rownames</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble or, for <code>as_h2o()</code>, a list with <code>data</code> (an H2OFrame) and
<code>id</code> (the id on the h2o server).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# start with h2o::h2o.init()
if (h2o_running()) {
  cars2 &lt;- as_h2o(mtcars)
  cars2
  class(cars2$data)

  cars0 &lt;- as_tibble(cars2$data)
  cars0
}
</code></pre>

<hr>
<h2 id='autoplot.workflow'>Plot rankings and metrics of H2O AutoML results</h2><span id='topic+autoplot.workflow'></span><span id='topic+autoplot.H2OAutoML'></span>

<h3>Description</h3>

<p>The <code>autoplot()</code> method plots cross validation performances of candidate
models in H2O AutoML output via facets on each metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'workflow'
autoplot(object, ...)

## S3 method for class 'H2OAutoML'
autoplot(
  object,
  type = c("rank", "metric"),
  metric = NULL,
  std_errs = qnorm(0.95),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.workflow_+3A_object">object</code></td>
<td>
<p>A fitted <code>auto_ml()</code> model.</p>
</td></tr>
<tr><td><code id="autoplot.workflow_+3A_...">...</code></td>
<td>
<p>Other options to pass to <code>autoplot()</code>.</p>
</td></tr>
<tr><td><code id="autoplot.workflow_+3A_type">type</code></td>
<td>
<p>A character value for whether to plot average ranking (&quot;rank&quot;)
or metrics (&quot;metric&quot;).</p>
</td></tr>
<tr><td><code id="autoplot.workflow_+3A_metric">metric</code></td>
<td>
<p>A character vector or NULL for which metric to plot.
By default, all metrics will be shown via facets.</p>
</td></tr>
<tr><td><code id="autoplot.workflow_+3A_std_errs">std_errs</code></td>
<td>
<p>The number of standard errors to plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (h2o_running()) {
  auto_fit &lt;- auto_ml() %&gt;%
    set_engine("h2o", max_runtime_secs = 5) %&gt;%
    set_mode("regression") %&gt;%
    fit(mpg ~ ., data = mtcars)

  autoplot(auto_fit)
}

</code></pre>

<hr>
<h2 id='h2o_activation'>Tuning parameters in h2o</h2><span id='topic+h2o_activation'></span><span id='topic+h2o_split'></span>

<h3>Description</h3>

<p>Tuning parameters in h2o
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h2o_activation(values = values_h2o_activation)

h2o_split(values = values_h2o_split)
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>h2o_activation()
</code></pre>

<hr>
<h2 id='h2o_predict'>Prediction wrappers for h2o</h2><span id='topic+h2o_predict'></span><span id='topic+h2o_predict_classification'></span><span id='topic+h2o_predict_regression'></span><span id='topic+predict._H2OAutoML'></span>

<h3>Description</h3>

<p>Prediction wrappers for fitted models with h2o engine that include data conversion,
h2o server cleanup, and so on.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h2o_predict(object, new_data, ...)

h2o_predict_classification(object, new_data, type = "class", ...)

h2o_predict_regression(object, new_data, type = "numeric", ...)

## S3 method for class ''_H2OAutoML''
predict(object, new_data, id = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="h2o_predict_+3A_object">object</code></td>
<td>
<p>An object of class <code>model_fit</code></p>
</td></tr>
<tr><td><code id="h2o_predict_+3A_new_data">new_data</code></td>
<td>
<p>A rectangular data object, such as a data frame.</p>
</td></tr>
<tr><td><code id="h2o_predict_+3A_...">...</code></td>
<td>
<p>Other options passed to <code><a href="h2o.html#topic+h2o.predict">h2o::h2o.predict()</a></code></p>
</td></tr>
<tr><td><code id="h2o_predict_+3A_type">type</code></td>
<td>
<p>A single character value or <code>NULL</code>. Possible values
are &quot;numeric&quot;, &quot;class&quot;, &quot;prob&quot;, &quot;conf_int&quot;, &quot;pred_int&quot;, &quot;quantile&quot;, &quot;time&quot;,
&quot;hazard&quot;, &quot;survival&quot;, or &quot;raw&quot;. When <code>NULL</code>, <code>predict()</code> will choose an
appropriate value based on the model's mode.</p>
</td></tr>
<tr><td><code id="h2o_predict_+3A_id">id</code></td>
<td>
<p>Model id in AutoML results.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For AutoML, prediction is based on the best performing model.
</p>


<h3>Value</h3>

<p>For type != &quot;raw&quot;, a prediction data frame with the same number of
rows as <code>new_data</code>. For type == &quot;raw&quot;, return the result of
<code><a href="h2o.html#topic+h2o.predict">h2o::h2o.predict()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (h2o_running()) {
  spec &lt;-
    rand_forest(mtry = 3, trees = 100) %&gt;%
    set_engine("h2o") %&gt;%
    set_mode("regression")

  set.seed(1)
  mod &lt;- fit(spec, mpg ~ ., data = mtcars)
  h2o_predict_regression(mod$fit, new_data = head(mtcars), type = "numeric")

  # using parsnip
  predict(mod, new_data = head(mtcars))
}

</code></pre>

<hr>
<h2 id='h2o_start'>Utility functions for interacting with the h2o server</h2><span id='topic+h2o_start'></span><span id='topic+h2o_end'></span><span id='topic+h2o_running'></span><span id='topic+h2o_remove'></span><span id='topic+h2o_remove_all'></span><span id='topic+h2o_get_model'></span><span id='topic+h2o_get_frame'></span><span id='topic+h2o_xgboost_available'></span>

<h3>Description</h3>

<p>Utility functions for interacting with the h2o server
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h2o_start()

h2o_end()

h2o_running(verbose = FALSE)

h2o_remove(id)

h2o_remove_all()

h2o_get_model(id)

h2o_get_frame(id)

h2o_xgboost_available()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="h2o_start_+3A_verbose">verbose</code></td>
<td>
<p>Print out the message if no cluster is available.</p>
</td></tr>
<tr><td><code id="h2o_start_+3A_id">id</code></td>
<td>
<p>Model or frame id.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (!h2o_running()) {
  h2o_start()
}

## End(Not run)
</code></pre>

<hr>
<h2 id='h2o_train'>Model wrappers for h2o</h2><span id='topic+h2o_train'></span><span id='topic+h2o_train_rf'></span><span id='topic+h2o_train_xgboost'></span><span id='topic+h2o_train_gbm'></span><span id='topic+h2o_train_glm'></span><span id='topic+h2o_train_nb'></span><span id='topic+h2o_train_mlp'></span><span id='topic+h2o_train_rule'></span><span id='topic+h2o_train_auto'></span>

<h3>Description</h3>

<p>Basic model wrappers for h2o model functions that include data conversion,
seed configuration, and so on.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h2o_train(
  x,
  y,
  model,
  weights = NULL,
  validation = NULL,
  save_data = FALSE,
  ...
)

h2o_train_rf(x, y, ntrees = 50, mtries = -1, min_rows = 1, ...)

h2o_train_xgboost(
  x,
  y,
  ntrees = 50,
  max_depth = 6,
  min_rows = 1,
  learn_rate = 0.3,
  sample_rate = 1,
  col_sample_rate = 1,
  min_split_improvement = 0,
  stopping_rounds = 0,
  validation = NULL,
  ...
)

h2o_train_gbm(
  x,
  y,
  ntrees = 50,
  max_depth = 6,
  min_rows = 1,
  learn_rate = 0.3,
  sample_rate = 1,
  col_sample_rate = 1,
  min_split_improvement = 0,
  stopping_rounds = 0,
  ...
)

h2o_train_glm(x, y, lambda = NULL, alpha = NULL, ...)

h2o_train_nb(x, y, laplace = 0, ...)

h2o_train_mlp(
  x,
  y,
  hidden = 200,
  l2 = 0,
  hidden_dropout_ratios = 0,
  epochs = 10,
  activation = "Rectifier",
  validation = NULL,
  ...
)

h2o_train_rule(
  x,
  y,
  rule_generation_ntrees = 50,
  max_rule_length = 5,
  lambda = NULL,
  ...
)

h2o_train_auto(x, y, verbosity = NULL, save_data = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="h2o_train_+3A_x">x</code></td>
<td>
<p>A data frame of predictors.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_y">y</code></td>
<td>
<p>A vector of outcomes.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_model">model</code></td>
<td>
<p>A character string for the model. Current selections are
<code>"automl"</code>, <code>"randomForest"</code>, <code>"xgboost"</code>, <code>"gbm"</code>, <code>"glm"</code>, <code>"deeplearning"</code>,
<code>"rulefit"</code> and <code>"naiveBayes"</code>. Use <code><a href="#topic+h2o_xgboost_available">h2o_xgboost_available()</a></code> to see
if xgboost can be used on your OS/h2o server.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_weights">weights</code></td>
<td>
<p>A numeric vector of case weights.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_validation">validation</code></td>
<td>
<p>An integer between 0 and 1 specifying the <em>proportion</em> of
the data reserved as validation set. This is used by h2o for performance
assessment and potential early stopping. Default to 0.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_save_data">save_data</code></td>
<td>
<p>A logical for whether training data should be saved on
the h2o server, set this to <code>TRUE</code> for AutoML models that needs to be
re-fitted.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_...">...</code></td>
<td>
<p>Other options to pass to the h2o model functions (e.g.,
<code><a href="h2o.html#topic+h2o.randomForest">h2o::h2o.randomForest()</a></code>).</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_ntrees">ntrees</code></td>
<td>
<p>Number of trees. Defaults to 50.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_mtries">mtries</code></td>
<td>
<p>Number of variables randomly sampled as candidates at each split. If set to -1, defaults to sqrtp for
classification and p/3 for regression (where p is the # of predictors Defaults to -1.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_min_rows">min_rows</code></td>
<td>
<p>Fewest allowed (weighted) observations in a leaf. Defaults to 1.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_max_depth">max_depth</code></td>
<td>
<p>Maximum tree depth (0 for unlimited). Defaults to 20.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_learn_rate">learn_rate</code></td>
<td>
<p>(same as eta) Learning rate (from 0.0 to 1.0) Defaults to 0.3.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_sample_rate">sample_rate</code></td>
<td>
<p>Row sample rate per tree (from 0.0 to 1.0) Defaults to 0.632.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_col_sample_rate">col_sample_rate</code></td>
<td>
<p>(same as colsample_bylevel) Column sample rate (from 0.0 to 1.0) Defaults to 1.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_min_split_improvement">min_split_improvement</code></td>
<td>
<p>Minimum relative improvement in squared error reduction for a split to happen Defaults to 1e-05.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_stopping_rounds">stopping_rounds</code></td>
<td>
<p>Early stopping based on convergence of stopping_metric. Stop if simple moving average of length k of the
stopping_metric does not improve for k:=stopping_rounds scoring events (0 to disable) Defaults to 0.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_lambda">lambda</code></td>
<td>
<p>Regularization strength</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_alpha">alpha</code></td>
<td>
<p>Distribution of regularization between the L1 (Lasso) and L2 (Ridge) penalties. A value of 1 for alpha
represents Lasso regression, a value of 0 produces Ridge regression, and anything in between specifies the
amount of mixing between the two. Default value of alpha is 0 when SOLVER = 'L-BFGS'; 0.5 otherwise.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_laplace">laplace</code></td>
<td>
<p>Laplace smoothing parameter Defaults to 0.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_hidden">hidden</code></td>
<td>
<p>Hidden layer sizes (e.g. [100, 100]). Defaults to c(200, 200).</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_l2">l2</code></td>
<td>
<p>L2 regularization (can add stability and improve generalization, causes many weights to be small. Defaults to
0.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_hidden_dropout_ratios">hidden_dropout_ratios</code></td>
<td>
<p>Hidden layer dropout ratios (can improve generalization), specify one value per hidden layer, defaults to 0.5.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_epochs">epochs</code></td>
<td>
<p>How many times the dataset should be iterated (streamed), can be fractional. Defaults to 10.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_activation">activation</code></td>
<td>
<p>Activation function. Must be one of: &quot;Tanh&quot;, &quot;TanhWithDropout&quot;, &quot;Rectifier&quot;, &quot;RectifierWithDropout&quot;, &quot;Maxout&quot;,
&quot;MaxoutWithDropout&quot;. Defaults to Rectifier.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_rule_generation_ntrees">rule_generation_ntrees</code></td>
<td>
<p>Specifies the number of trees to build in the tree model. Defaults to 50. Defaults to 50.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_max_rule_length">max_rule_length</code></td>
<td>
<p>Maximum length of rules. Defaults to 3.</p>
</td></tr>
<tr><td><code id="h2o_train_+3A_verbosity">verbosity</code></td>
<td>
<p>Verbosity of the backend messages printed during training;
Must be one of NULL (live log disabled), &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;.
Defaults to NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An h2o model object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# start with h2o::h2o.init()
if (h2o_running()) {
 # -------------------------------------------------------------------------
 # Using the model wrappers:
 h2o_train_glm(mtcars[, -1], mtcars$mpg)

 # -------------------------------------------------------------------------
 # using parsnip:

 spec &lt;-
   rand_forest(mtry = 3, trees = 500) %&gt;%
   set_engine("h2o") %&gt;%
   set_mode("regression")

 set.seed(1)
 mod &lt;- fit(spec, mpg ~ ., data = mtcars)
 mod

 predict(mod, head(mtcars))
}

</code></pre>

<hr>
<h2 id='print.h2o_fit'>Print wrappers for h2o models</h2><span id='topic+print.h2o_fit'></span><span id='topic+print.H2OAutoML_fit'></span><span id='topic+print.H2OAutoML'></span>

<h3>Description</h3>

<p>Print wrappers for h2o models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'h2o_fit'
print(x, ...)

## S3 method for class 'H2OAutoML_fit'
print(x, ...)

## S3 method for class 'H2OAutoML'
print(x, ...)
</code></pre>

<hr>
<h2 id='rank_results.workflow'>Tools for working with H2O AutoML results</h2><span id='topic+rank_results.workflow'></span><span id='topic+rank_results._H2OAutoML'></span><span id='topic+rank_results.H2OAutoML'></span><span id='topic+collect_metrics.workflow'></span><span id='topic+collect_metrics._H2OAutoML'></span><span id='topic+collect_metrics.H2OAutoML'></span><span id='topic+tidy._H2OAutoML'></span><span id='topic+get_leaderboard'></span><span id='topic+member_weights'></span><span id='topic+extract_fit_parsnip._H2OAutoML'></span><span id='topic+extract_fit_engine._H2OAutoML'></span><span id='topic+refit.workflow'></span><span id='topic+refit._H2OAutoML'></span>

<h3>Description</h3>

<p>Functions that returns a tibble describing model performances.
</p>

<ul>
<li> <p><code>rank_results()</code> ranks average cross validation performances
of candidate models on each metric.
</p>
</li>
<li> <p><code>collect_metrics()</code> computes average statistics of performance metrics
(summarized) for each model, or raw value in each resample (unsummarized).
</p>
</li>
<li> <p><code>tidy()</code> computes average performance for each model.
</p>
</li>
<li> <p><code>member_weights()</code> computes member importance for stacked ensemble
models, i.e., the relative importance of base models in the meta-learner.
This is typically the coefficient magnitude in the second-level GLM model.
</p>
</li></ul>

<p><code>extract_fit_engine()</code> extracts single candidate model from <code>auto_ml()</code>
results. When <code>id</code> is null, it returns the leader model.
</p>
<p><code>refit()</code> re-fits an existing AutoML model to add more candidates. The model
to be re-fitted needs to have engine argument <code>save_data = TRUE</code>, and
<code>keep_cross_validation_predictions = TRUE</code> if stacked ensembles is needed for
later models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'workflow'
rank_results(x, ...)

## S3 method for class ''_H2OAutoML''
rank_results(x, ...)

## S3 method for class 'H2OAutoML'
rank_results(x, n = NULL, id = NULL, ...)

## S3 method for class 'workflow'
collect_metrics(x, ...)

## S3 method for class ''_H2OAutoML''
collect_metrics(x, ...)

## S3 method for class 'H2OAutoML'
collect_metrics(x, summarize = TRUE, n = NULL, id = NULL, ...)

## S3 method for class ''_H2OAutoML''
tidy(x, n = NULL, id = NULL, keep_model = TRUE, ...)

get_leaderboard(x, n = NULL, id = NULL)

member_weights(x, ...)

## S3 method for class ''_H2OAutoML''
extract_fit_parsnip(x, id = NULL, ...)

## S3 method for class ''_H2OAutoML''
extract_fit_engine(x, id = NULL, ...)

## S3 method for class 'workflow'
refit(object, ...)

## S3 method for class ''_H2OAutoML''
refit(object, verbosity = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rank_results.workflow_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
<tr><td><code id="rank_results.workflow_+3A_n">n</code></td>
<td>
<p>An integer for the number of top models to extract from AutoML
results, default to all.</p>
</td></tr>
<tr><td><code id="rank_results.workflow_+3A_id">id</code></td>
<td>
<p>A character vector of model ids to retrieve.</p>
</td></tr>
<tr><td><code id="rank_results.workflow_+3A_summarize">summarize</code></td>
<td>
<p>A logical; should metrics be summarized over resamples
(TRUE) or return the values for each individual resample.</p>
</td></tr>
<tr><td><code id="rank_results.workflow_+3A_keep_model">keep_model</code></td>
<td>
<p>A logical value for if the actual model object
should be retrieved from the server. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="rank_results.workflow_+3A_object">object</code>, <code id="rank_results.workflow_+3A_x">x</code></td>
<td>
<p>A fitted <code>auto_ml()</code> model or workflow.</p>
</td></tr>
<tr><td><code id="rank_results.workflow_+3A_verbosity">verbosity</code></td>
<td>
<p>Verbosity of the backend messages printed during training;
Must be one of NULL (live log disabled), &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;.
Defaults to NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>H2O associates with each model in AutoML an unique id. This can be used for
model extraction and prediction, i.e., <code>extract_fit_engine(x, id = id)</code>
returns the model and <code>predict(x, id = id)</code> will predict for that model.
<code>extract_fit_parsnip(x, id = id)</code> wraps the h2o model with parsnip
parsnip model object is discouraged.
</p>
<p>The <code>algorithm</code> column corresponds to the model family H2O use for a
particular model, including xgboost (<code>"XGBOOST"</code>),
gradient boosting (<code>"GBM"</code>), random forest and variants (<code>"DRF"</code>, <code>"XRT"</code>),
generalized linear model (<code>"GLM"</code>), and neural network (<code>"deeplearning"</code>).
See the details section in <code><a href="h2o.html#topic+h2o.automl">h2o::h2o.automl()</a></code> for more information.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble::tibble()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (h2o_running()) {
 auto_fit &lt;- auto_ml() %&gt;%
   set_engine("h2o", max_runtime_secs = 5) %&gt;%
   set_mode("regression") %&gt;%
   fit(mpg ~ ., data = mtcars)

   rank_results(auto_fit, n = 5)
   collect_metrics(auto_fit, summarize = FALSE)
   tidy(auto_fit)
   member_weights(auto_fit)
}

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+as_tibble'></span><span id='topic++25+3E+25'></span><span id='topic+tidy'></span><span id='topic+refit'></span><span id='topic+rank_results'></span><span id='topic+autoplot'></span><span id='topic+extract_fit_parsnip'></span><span id='topic+extract_fit_engine'></span><span id='topic+collect_metrics'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+rank_results">rank_results</a></code>, <code><a href="generics.html#topic+refit">refit</a></code>, <code><a href="generics.html#topic+refit">refit</a></code>, <code><a href="generics.html#topic+tidy">tidy</a></code></p>
</dd>
<dt>ggplot2</dt><dd><p><code><a href="ggplot2.html#topic+autoplot">autoplot</a></code></p>
</dd>
<dt>hardhat</dt><dd><p><code><a href="hardhat.html#topic+hardhat-extract">extract_fit_engine</a></code>, <code><a href="hardhat.html#topic+hardhat-extract">extract_fit_parsnip</a></code></p>
</dd>
<dt>tibble</dt><dd><p><code><a href="tibble.html#topic+as_tibble">as_tibble</a></code></p>
</dd>
<dt>tune</dt><dd><p><code><a href="tune.html#topic+collect_predictions">collect_metrics</a></code></p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package beanplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {beanplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#beanplot'><p>Beanplot: A Boxplot/Stripchart/Vioplot Alternative</p></a></li>
<li><a href='#beanplot-package'>
<p>Visualization via Beanplots (like Boxplot/Stripchart/Violin Plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Visualization via Beanplots (Like Boxplot/Stripchart/Violin
Plot)</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-09</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter Kampstra</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter Kampstra &lt;beanplot@kampstra.net&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Plots univariate comparison graphs, an alternative to
        boxplot/stripchart/violin plot.</td>
</tr>
<tr>
<td>Suggests:</td>
<td>vioplot, lattice</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-08 23:21:45 UTC; PeterKa</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-09 07:22:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='beanplot'>Beanplot: A Boxplot/Stripchart/Vioplot Alternative</h2><span id='topic+beanplot'></span>

<h3>Description</h3>

<p>Plots beans to compare the distributions of different groups;
it draws one bean per group of data. A bean consists of a
one-dimensional scatter plot, its distribution as a density
shape and an average line for the distribution. Next to that,
an overall average for the whole plot is drawn per default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beanplot(..., bw = "SJ-dpi", kernel = "gaussian", cut = 3, cutmin = -Inf, 
         cutmax = Inf, grownage = 10, what = c(TRUE, TRUE, TRUE, TRUE), 
         add = FALSE, col, axes = TRUE, log = "auto", handlelog = NA, 
         ll = 0.16, wd = NA, maxwidth = 0.8, maxstripline = 0.96, 
         method = "stack", names, overallline = "mean", beanlines = overallline, 
         horizontal = FALSE, side = "no", jitter = NULL, beanlinewd = 2, 
         frame.plot = axes, border = NULL, innerborder = NA, at = NULL, 
         boxwex = 1, ylim = NULL, xlim = NULL, show.names = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="beanplot_+3A_...">...</code></td>
<td>
<p>data which to perform the beanplot on. This data can consist of dataframes, vectors and/or formulas. For each formula, a dataset can be specified with data=[dataset], and a subset can be specified with subset=[subset]. If subset/data arguments are passed, but there are not enough subset/data arguments, they are reused. Additionally, na.action, drop.unused.levels and xlev can be passed to <code><a href="stats.html#topic+model.frame">model.frame</a></code> in the same way. Also, parameters for <code><a href="graphics.html#topic+axis">axis</a></code> and <code><a href="graphics.html#topic+title">title</a></code> can be passed.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_bw">bw</code></td>
<td>
<p>the bandwidth (method) being used, used by <code><a href="stats.html#topic+density">density</a></code>. In case of a method, the average computed bandwidth is used.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_kernel">kernel</code></td>
<td>
<p>see <code><a href="stats.html#topic+density">density</a></code>.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_cut">cut</code></td>
<td>
<p>the beans are cut beyond <code>cut*bw</code></p>
</td></tr>
<tr><td><code id="beanplot_+3A_cutmin">cutmin</code></td>
<td>
<p>the low-ends of the beans are cut below <code>mincut*bw</code>. Defaults to <code>cut</code>.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_cutmax">cutmax</code></td>
<td>
<p>the high-ends of the beans are cut beyond <code>maxcut*bw</code>. Defaults to <code>cut</code>.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_grownage">grownage</code></td>
<td>
<p>the width of a bean grows linearly with the count of points, until <code>grownage</code> is reached.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_what">what</code></td>
<td>
<p>a vector of four booleans describing what to plot. In the following order, these booleans stand for the total average line, the beans, the bean average, and the beanlines. For example, <code>what=c(0,0,0,1)</code> produces a <code><a href="graphics.html#topic+stripchart">stripchart</a></code></p>
</td></tr>
<tr><td><code id="beanplot_+3A_add">add</code></td>
<td>
<p>if true, do not start a new plot</p>
</td></tr>
<tr><td><code id="beanplot_+3A_col">col</code></td>
<td>
<p>the colors to be used. A vector of up to four colors can be used. In the following order, these colors stand for the area of the beans (without the border, use <code>border</code> for that color), the lines inside the bean, the lines outside the bean, and the average line per bean. Transparent colors are supported. <code>col</code> can be a list of color vectors, the vectors are then used per bean, and reused if necessary.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_axes">axes</code></td>
<td>
<p>if false, no axes are drawn.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_log">log</code></td>
<td>
<p>use <code>log="y"</code> or <code>log=""</code> to force a log-axis. In case of <code>log="auto"</code>, a log-transformation is used if appropriate</p>
</td></tr>
<tr><td><code id="beanplot_+3A_handlelog">handlelog</code></td>
<td>
<p>if <code>handlelog</code> then all the calculations are done using a log-scale. By default this is determined using the log parameter.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_ll">ll</code></td>
<td>
<p>the length of the beanline per point found.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_wd">wd</code></td>
<td>
<p>the linear transformation that determines the width of the beans. By default determined using <code>maxwidth</code>, and returned.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_maxwidth">maxwidth</code></td>
<td>
<p>the maximum width of a bean.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_maxstripline">maxstripline</code></td>
<td>
<p>the maximum length of a beanline.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_method">method</code></td>
<td>
<p>the method used when two points on a bean are the same. <code>"stack"</code>, <code>"overplot"</code> and <code>"jitter"</code> are supported.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_names">names</code></td>
<td>
<p>a vector of names for the groups.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_overallline">overallline</code></td>
<td>
<p>the method used for determining the overall line. Defaults to <code>"mean"</code>, <code>"median"</code> is also supported.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_beanlines">beanlines</code></td>
<td>
<p>the method used for determining the average bean line(s). Defaults to <code>"mean"</code>, <code>"median"</code> and <code>"quantiles"</code> are also supported.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_horizontal">horizontal</code></td>
<td>
<p>if true, the beanplot is horizontal</p>
</td></tr>
<tr><td><code id="beanplot_+3A_side">side</code></td>
<td>
<p>the side on which the beans are plot. Default is <code>"no"</code>, for symmetric beans. <code>"first"</code>, <code>"second"</code> and <code>"both"</code> are also supported.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_jitter">jitter</code></td>
<td>
<p>passed to <code><a href="base.html#topic+jitter">jitter</a></code> as amount in case of <code>method="jitter"</code>.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_beanlinewd">beanlinewd</code></td>
<td>
<p>the width used for the average bean line</p>
</td></tr>
<tr><td><code id="beanplot_+3A_frame.plot">frame.plot</code></td>
<td>
<p>if true, plots a frame.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_border">border</code></td>
<td>
<p>the color for the border around a bean. <code>NULL</code> for <code>par("fg")</code>, <code>NA</code> for no border. If border is a vector, it specifies the color per bean, and colors are reused if necessary.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_innerborder">innerborder</code></td>
<td>
<p>a color (vector) for the border inside the bean(s). Especially useful if <code>side="both"</code>. Use <code>NA</code> for no inner border. Colors are reused if necessary. The inner border is drawn as the last step in the drawing process.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_at">at</code></td>
<td>
<p>the positions at which a bean should be drawn.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_boxwex">boxwex</code></td>
<td>
<p>a scale factor applied to all beans. Compatible with <code><a href="graphics.html#topic+boxplot">boxplot</a></code>.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_ylim">ylim</code></td>
<td>
<p>the range to plot.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_xlim">xlim</code></td>
<td>
<p>the range to plot the beans at.</p>
</td></tr>
<tr><td><code id="beanplot_+3A_show.names">show.names</code></td>
<td>
<p>if true, plots the names as axis labels</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use the &quot;what&quot; parameter to omit certain parts from drawing. 
Most parameters are compatible with <code><a href="graphics.html#topic+boxplot">boxplot</a></code> and
<code><a href="graphics.html#topic+stripchart">stripchart</a></code>. For compatibility, arguments with the
name &quot;formula&quot; or &quot;x&quot; are used as data. However, data or formulas
do not need to be named &quot;x&quot; or &quot;formula&quot;. The function handles
(combinations of) dataframes, vectors and/or formulas.
</p>


<h3>Value</h3>

<table>
<tr><td><code>bw</code></td>
<td>
<p>the bandwidth (bw) used.</p>
</td></tr>
<tr><td><code>wd</code></td>
<td>
<p>the bean width (wd) used.</p>
</td></tr>
<tr><td><code>names</code></td>
<td>
<p>a vector of names for the groups.</p>
</td></tr>
<tr><td><code>stats</code></td>
<td>
<p>a vector of statistics calculated for the beanlines.</p>
</td></tr>
<tr><td><code>overall</code></td>
<td>
<p>statistic calculated for the overall line.</p>
</td></tr>
<tr><td><code>log</code></td>
<td>
<p>log axis that was selected.</p>
</td></tr>
<tr><td><code>ylim</code></td>
<td>
<p>ylim that was used.</p>
</td></tr>
<tr><td><code>xlim</code></td>
<td>
<p>xlim that was used.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>In case of more than 5000 values per bean, the autodetection of the log parameter is approximated. In such cases, use
<code>log=""</code> or <code>log="y"</code>. Also, the what parameter can help to omit parts that are not useful in certain plots, 
and take time to draw.
</p>


<h3>Author(s)</h3>

<p>Peter Kampstra &lt;beanplot@kampstra.net&gt;
</p>


<h3>References</h3>

<p>Kampstra, P. (2008) Beanplot: A Boxplot Alternative for Visual Comparison of Distributions.
<em>Journal of Statistical Software, Code Snippets</em>, <b>28</b>(1), 1-9.
doi: <a href="https://doi.org/10.18637/jss.v028.c01">10.18637/jss.v028.c01</a>
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+boxplot">boxplot</a></code>, <code><a href="graphics.html#topic+stripchart">stripchart</a></code>, <code><a href="stats.html#topic+density">density</a></code>,
<code><a href="graphics.html#topic+rug">rug</a></code>, <code><a href="vioplot.html#topic+vioplot">vioplot</a></code> in package <code>vioplot</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>beanplot(rnorm(22),rnorm(22),rnorm(22),main="Test!",rnorm(3))

#mostly examples taken from boxplot:
par(mfrow = c(1,2))
boxplot(count ~ spray, data = InsectSprays, col = "lightgray")
beanplot(count ~ spray, data = InsectSprays, col = "lightgray", border = "grey", cutmin = 0)

boxplot(count ~ spray, data = InsectSprays, col = "lightgray")
beanplot(count ~ spray, data = InsectSprays, col = "lightgray", border = "grey",
        overallline = "median")

boxplot(decrease ~ treatment, data = OrchardSprays,
        log = "y", col = "bisque", ylim = c(1,200))
beanplot(decrease ~ treatment, data = OrchardSprays,
        col = "bisque", ylim = c(1,200))

par(mfrow = c(2,1))
mat &lt;- cbind(Uni05 = (1:100)/21, Norm = rnorm(100),
             T5 = rt(100, df = 5), Gam2 = rgamma(100, shape = 2))
par(las=1)# all axis labels horizontal
boxplot(data.frame(mat), main = "boxplot(*, horizontal = TRUE)",
        horizontal = TRUE, ylim = c(-5,8))
beanplot(data.frame(mat), main = "beanplot(*, horizontal = TRUE)",
        horizontal = TRUE, ylim = c(-5,8))

par(mfrow = c(1,2))
boxplot(len ~ dose, data = ToothGrowth,
        boxwex = 0.25, at = 1:3 - 0.2,
        subset = supp == "VC", col = "yellow",
        main = "Guinea Pigs' Tooth Growth",
        xlab = "Vitamin C dose mg",
        ylab = "tooth length", ylim = c(-1, 40), yaxs = "i")
boxplot(len ~ dose, data = ToothGrowth, add = TRUE,
        boxwex = 0.25, at = 1:3 + 0.2,
        subset = supp == "OJ", col = "orange")
legend("bottomright", bty="n", c("Ascorbic acid", "Orange juice"),
       fill = c("yellow", "orange"))
allplot &lt;- beanplot(len ~ dose+supp, data = ToothGrowth, 
    what=c(TRUE,FALSE,FALSE,FALSE),show.names=FALSE,ylim=c(-1,40), yaxs = "i")
beanplot(len ~ dose, data = ToothGrowth, add=TRUE,
        boxwex = 0.6, at = 1:3*2 - 0.9,
        subset = supp == "VC", col = "yellow",border="yellow2",
        main = "Guinea Pigs' Tooth Growth",
        xlab = "Vitamin C dose mg",
        ylab = "tooth length", ylim = c(3, 40), yaxs = "i",
        bw = allplot$bw, wd = allplot$wd, what = c(FALSE,TRUE,TRUE,TRUE))
beanplot(len ~ dose, data = ToothGrowth, add = TRUE,
        boxwex = 0.6, at = 1:3*2-0.1,
        subset = supp == "OJ", col = "orange",border="darkorange",
        bw = allplot$bw, wd = allplot$wd, what = c(FALSE,TRUE,TRUE,TRUE))
legend("bottomright", bty="n", c("Ascorbic acid", "Orange juice"),
       fill = c("yellow", "orange"))

par(mfrow = c(1,2))
boxplot(len ~ dose, data = ToothGrowth,
        boxwex = 0.25, at = 1:3 - 0.2,
        subset = supp == "VC", col = "yellow",
        main = "Guinea Pigs' Tooth Growth",
        xlab = "Vitamin C dose mg",
        ylab = "tooth length", ylim = c(-1, 40), yaxs = "i")
boxplot(len ~ dose, data = ToothGrowth, add = TRUE,
        boxwex = 0.25, at = 1:3 + 0.2,
        subset = supp == "OJ", col = "orange")
legend("bottomright", bty="n",c("Ascorbic acid", "Orange juice"),
       fill = c("yellow", "orange"))
beanplot(len ~ reorder(supp, len, mean) * dose, ToothGrowth, 
        side = "b", col = list("yellow", "orange"), border = c("yellow2", 
            "darkorange"), main = "Guinea Pigs' Tooth Growth", 
        xlab = "Vitamin C dose mg", ylab = "tooth length", ylim = c(-1, 
            40), yaxs = "i")
legend("bottomright", bty="n",c("Ascorbic acid", "Orange juice"),
       fill = c("yellow", "orange"))

#Example with multiple vectors and/or formulas
par(mfrow = c(2,1))
beanplot(list(all = ToothGrowth$len), len ~ supp, ToothGrowth, len ~ dose)
title("Tooth growth length (beanplot)")
#Trick using internal functions to do this with other functions:
mboxplot &lt;- function(...){
    graphics::boxplot(beanplot:::getgroupsfromarguments(), ...)
}
mstripchart &lt;- function(..., method = "overplot", jitter = 0.1, offset = 1/3,
           vertical = TRUE, group.names, add = FALSE,
           at = NULL, xlim = NULL, ylim = NULL,
           ylab = NULL, xlab=NULL, dlab = "", glab = "",
           log = "", pch = 0, col = par("fg"), cex = par("cex"), 
           axes = TRUE, frame.plot = axes) {
    graphics::stripchart(beanplot:::getgroupsfromarguments(),
           method, jitter, offset, vertical, group.names, add,
           at, xlim, ylim, ylab, xlab, dlab, glab, log, pch, col, cex, 
           axes, frame.plot)
}
mstripchart(list(all = ToothGrowth$len), len ~ supp, ToothGrowth, len ~ dose,
            xlim = c(0.5,6.5))
title("Tooth growth length (stripchart)")
</code></pre>

<hr>
<h2 id='beanplot-package'>
Visualization via Beanplots (like Boxplot/Stripchart/Violin Plot
</h2><span id='topic+beanplot-package'></span>

<h3>Description</h3>

<p>Plots univariate comparison graphs, alternative to boxplot/stripchart/violin plot
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> beanplot</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.3.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-04-09</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The function <code><a href="#topic+beanplot">beanplot</a></code> does all the work.
</p>


<h3>Author(s)</h3>

<p>Peter Kampstra &lt;beanplot@kampstra.net&gt;
</p>


<h3>References</h3>

<p>Kampstra, P. (2008) Beanplot: A Boxplot Alternative for Visual Comparison of Distributions.
<em>Journal of Statistical Software, Code Snippets</em>, <b>28</b>(1), 1-9.
doi: <a href="https://doi.org/10.18637/jss.v028.c01">10.18637/jss.v028.c01</a>
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+graphics-package">graphics</a></code>
<code><a href="vioplot.html#topic+vioplot">vioplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> beanplot(rnorm(100), runif(100))
 if (interactive()) vignette("beanplot", package = "beanplot")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package jsonStrings</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {jsonStrings}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#jsonString'><p>R6 class to represent a JSON string</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Manipulation of JSON Strings</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stéphane Laurent &lt;laurent_step@outlook.fr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Fast manipulation of JSON strings. Allows to extract or
    delete an element in a JSON string, merge two JSON strings, and more.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/stla/jsonStrings">https://github.com/stla/jsonStrings</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/stla/jsonStrings/issues">https://github.com/stla/jsonStrings/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, R6, Rcpp (&ge; 1.0.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++17</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-18 14:27:31 UTC; stla</td>
</tr>
<tr>
<td>Author:</td>
<td>Stéphane Laurent [aut, cre],
  Niels Lohmann [cph] ('nlohmann/json' C++ library)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-18 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='jsonString'>R6 class to represent a JSON string</h2><span id='topic+jsonString'></span>

<h3>Description</h3>

<p>R6 class to represent a JSON string.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>prettyPrint</code></dt><dd><p>get or set the value of <code>prettyPrint</code></p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-jsonString-new"><code>jsonString$new()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-print"><code>jsonString$print()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-asString"><code>jsonString$asString()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-at"><code>jsonString$at()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-hasKey"><code>jsonString$hasKey()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-keys"><code>jsonString$keys()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-addProperty"><code>jsonString$addProperty()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-erase"><code>jsonString$erase()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-size"><code>jsonString$size()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-update"><code>jsonString$update()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-merge"><code>jsonString$merge()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-patch"><code>jsonString$patch()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-push"><code>jsonString$push()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-is"><code>jsonString$is()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-type"><code>jsonString$type()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-flatten"><code>jsonString$flatten()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-unflatten"><code>jsonString$unflatten()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-writeFile"><code>jsonString$writeFile()</code></a>
</p>
</li>
<li> <p><a href="#method-jsonString-copy"><code>jsonString$copy()</code></a>
</p>
</li></ul>


<hr>
<a id="method-jsonString-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates a new <code>jsonString</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$new(string)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string</code></dt><dd><p>a string representing a JSON object, or the path to a 
JSON file</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A <code>jsonString</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring$prettyPrint
jstring
jstring$prettyPrint &lt;- FALSE
jstring
</pre>
</div>
<div class="r example copy">
<pre>jstring &lt;- "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
jsonString$new(jstring)
</pre>
</div>


<hr>
<a id="method-jsonString-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print a <code>jsonString</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>ignored</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring
jstring$prettyPrint &lt;- FALSE
jstring
</pre>
</div>


<hr>
<a id="method-jsonString-asString"></a>



<h4>Method <code>asString()</code></h4>

<p>Converts a <code>jsonString</code> to a character string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$asString(pretty = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pretty</code></dt><dd><p>Boolean, whether to get a pretty string</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A string.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
cat(jstring$asString())
cat(jstring$asString(pretty = TRUE))
</pre>
</div>


<hr>
<a id="method-jsonString-at"></a>



<h4>Method <code>at()</code></h4>

<p>Extract an element in a JSON string by giving a path of 
keys or indices.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$at(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>the elements forming the path, integers or strings; an 
integer represents an index in an array (starting at 0), a string
represents a key in an object</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A <code>jsonString</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring$at(1)
jstring$at(2, "x")
</pre>
</div>


<hr>
<a id="method-jsonString-hasKey"></a>



<h4>Method <code>hasKey()</code></h4>

<p>Checks whether a key exists in the reference JSON string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$hasKey(key)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>a string</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A Boolean value.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring$hasKey("x")
jstring &lt;- jsonString$new(
  "{\"x\": [2,3,4], \"y\": 42}"
)
jstring$hasKey("x")
</pre>
</div>


<hr>
<a id="method-jsonString-keys"></a>



<h4>Method <code>keys()</code></h4>

<p>Get the keys of the reference JSON string (if it represents 
an object).
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$keys()</pre></div>



<h5>Returns</h5>

<p>A character vector.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"x\": [2,3,4], \"y\": 42}"
)
jstring$keys()
</pre>
</div>


<hr>
<a id="method-jsonString-addProperty"></a>



<h4>Method <code>addProperty()</code></h4>

<p>Add a new property to the reference JSON string (if it 
represents an object).
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$addProperty(key, value)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>a character string, the key of the new property</p>
</dd>
<dt><code>value</code></dt><dd><p>a JSON string, either a <code>jsonString</code> object or a 
string</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>This updates the reference JSON string and this returns it 
invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
ppty &lt;- jsonString$new("[9, 99]")
jstring$addProperty("c", ppty)
jstring
jstring$addProperty("d", "null")
jstring
</pre>
</div>


<hr>
<a id="method-jsonString-erase"></a>



<h4>Method <code>erase()</code></h4>

<p>Erase an object property or an array element from the 
reference JSON string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$erase(at)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>at</code></dt><dd><p>either a character string, the key of the property to be erased, 
or an integer, the index of the array element to be erased</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>This invisibly returns the updated reference JSON string.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$erase("b")
jstring
jstring &lt;- jsonString$new("[1, 2, 3, 4, 5]")
jstring$erase(2)
jstring
</pre>
</div>


<hr>
<a id="method-jsonString-size"></a>



<h4>Method <code>size()</code></h4>

<p>Number of elements in the reference JSON string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$size()</pre></div>



<h5>Returns</h5>

<p>An integer.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$size()
</pre>
</div>


<hr>
<a id="method-jsonString-update"></a>



<h4>Method <code>update()</code></h4>

<p>Update the reference JSON string (if it 
represents an object).
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$update(jstring)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>jstring</code></dt><dd><p>a JSON string representing an object, either a 
<code>jsonString</code> object or a string</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>This invisibly returns the updated reference JSON string.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring2 &lt;- "{\"a\":[4,5,6],\"c\":\"goodbye\"}"
jstring$update(jstring2)
jstring
</pre>
</div>


<hr>
<a id="method-jsonString-merge"></a>



<h4>Method <code>merge()</code></h4>

<p>Merge the reference JSON string (if it 
represents an object).
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$merge(jstring)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>jstring</code></dt><dd><p>a JSON string, either a <code>jsonString</code> object or a 
string representing a JSON object</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>This invisibly returns the updated reference JSON string.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring2 &lt;- "{\"a\":[4,5,6],\"c\":\"goodbye\"}"
jstring$merge(jstring2)
jstring
</pre>
</div>


<hr>
<a id="method-jsonString-patch"></a>



<h4>Method <code>patch()</code></h4>

<p>Apply a JSON patch to the reference JSON string (if it 
represents an array or an object).
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$patch(jspatch)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>jspatch</code></dt><dd><p>a JSON patch, a JSON string representing an array (see 
the link in details); it could be either a <code>jsonString</code> object or 
a string</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>See <a href="https://jsonpatch.com/">jsonpatch.com</a>.
</p>



<h5>Returns</h5>

<p>A new <code>jsonString</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jspatch &lt;- "[
  {\"op\": \"remove\", \"path\": \"/a\"},
  {\"op\": \"replace\", \"path\": \"/b\", \"value\": null}
]"
jstring$patch(jspatch)
</pre>
</div>


<hr>
<a id="method-jsonString-push"></a>



<h4>Method <code>push()</code></h4>

<p>Append an element to the reference JSON string (if it 
represents an array).
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$push(jstring)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>jstring</code></dt><dd><p>a JSON string, either a <code>jsonString</code> object or a 
string representing a JSON object</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>This invisibly returns the updated reference JSON string.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new("[1, 2, 3, 4, 5]")
jstring2 &lt;- jsonString$new(
  "{\"a\":[4,5,6],\"c\":\"goodbye\"}"
 )
jstring$push(jstring2)
jstring
</pre>
</div>


<hr>
<a id="method-jsonString-is"></a>



<h4>Method <code>is()</code></h4>

<p>Check the type of the reference JSON string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$is(type)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>type</code></dt><dd><p>the type to be checked, one of <code>"array"</code>, <code>"object"</code>, 
<code>"string"</code>, <code>"number"</code>, <code>"integer"</code>, <code>"float"</code>, 
<code>"null"</code>, <code>"boolean"</code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A Boolean value.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$is("object")
jstring$is("array")
jstring &lt;- jsonString$new("999")
jstring$is("integer")
jstring$is("number")
jstring$is("float")
</pre>
</div>


<hr>
<a id="method-jsonString-type"></a>



<h4>Method <code>type()</code></h4>

<p>Get the type of the reference JSON string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$type()</pre></div>



<h5>Returns</h5>

<p>A character string indicating the type of the JSON string.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$type()
jstring &lt;- jsonString$new("999")
jstring$type()
</pre>
</div>


<hr>
<a id="method-jsonString-flatten"></a>



<h4>Method <code>flatten()</code></h4>

<p>Flatten the reference JSON string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$flatten()</pre></div>



<h5>Returns</h5>

<p>A new <code>jsonString</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":{\"x\":\"hello\",\"y\":\"hi\"}}"
)
jstring$flatten()
</pre>
</div>


<hr>
<a id="method-jsonString-unflatten"></a>



<h4>Method <code>unflatten()</code></h4>

<p>Unflatten the reference JSON string (if it is flattened).
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$unflatten()</pre></div>



<h5>Returns</h5>

<p>A new <code>jsonString</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>folder &lt;- system.file(package = "jsonStrings")
files &lt;- list.files(folder, recursive = TRUE)
sizes &lt;- file.size(file.path(folder, files))
files &lt;- sprintf('"%s"', paste0("/", files))
string &lt;- sprintf("{%s}", paste0(files, ":", sizes, collapse = ","))
jstring &lt;- jsonString$new(string)
jstring$unflatten()
</pre>
</div>


<hr>
<a id="method-jsonString-writeFile"></a>



<h4>Method <code>writeFile()</code></h4>

<p>Write the reference JSON string to a file.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$writeFile(filename)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filename</code></dt><dd><p>name of the file</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Nothing.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jsonfile &lt;- tempfile(fileext = ".json")
jstring$writeFile(jsonfile)
cat(readLines(jsonfile), sep = "\n")
jsonString$new(jsonfile)
</pre>
</div>


<hr>
<a id="method-jsonString-copy"></a>



<h4>Method <code>copy()</code></h4>

<p>Copy the reference JSON string.
</p>


<h5>Usage</h5>

<div class="r"><pre>jsonString$copy()</pre></div>



<h5>Returns</h5>

<p>A new <code>jsonString</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
copy &lt;- jstring$copy()
copy$erase("b")
jstring
naive_copy &lt;- jstring
naive_copy$erase("b")
jstring
</pre>
</div>




<h3>Examples</h3>

<pre><code class='language-R'>
## ------------------------------------------------
## Method `jsonString$new`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring$prettyPrint
jstring
jstring$prettyPrint &lt;- FALSE
jstring
jstring &lt;- "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
jsonString$new(jstring)

## ------------------------------------------------
## Method `jsonString$print`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring
jstring$prettyPrint &lt;- FALSE
jstring

## ------------------------------------------------
## Method `jsonString$asString`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
cat(jstring$asString())
cat(jstring$asString(pretty = TRUE))

## ------------------------------------------------
## Method `jsonString$at`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring$at(1)
jstring$at(2, "x")

## ------------------------------------------------
## Method `jsonString$hasKey`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "[1, [\"a\", 99], {\"x\": [2,3,4], \"y\": 42}]"
)
jstring$hasKey("x")
jstring &lt;- jsonString$new(
  "{\"x\": [2,3,4], \"y\": 42}"
)
jstring$hasKey("x")

## ------------------------------------------------
## Method `jsonString$keys`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"x\": [2,3,4], \"y\": 42}"
)
jstring$keys()

## ------------------------------------------------
## Method `jsonString$addProperty`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
ppty &lt;- jsonString$new("[9, 99]")
jstring$addProperty("c", ppty)
jstring
jstring$addProperty("d", "null")
jstring

## ------------------------------------------------
## Method `jsonString$erase`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$erase("b")
jstring
jstring &lt;- jsonString$new("[1, 2, 3, 4, 5]")
jstring$erase(2)
jstring

## ------------------------------------------------
## Method `jsonString$size`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$size()

## ------------------------------------------------
## Method `jsonString$update`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring2 &lt;- "{\"a\":[4,5,6],\"c\":\"goodbye\"}"
jstring$update(jstring2)
jstring

## ------------------------------------------------
## Method `jsonString$merge`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring2 &lt;- "{\"a\":[4,5,6],\"c\":\"goodbye\"}"
jstring$merge(jstring2)
jstring

## ------------------------------------------------
## Method `jsonString$patch`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jspatch &lt;- "[
  {\"op\": \"remove\", \"path\": \"/a\"},
  {\"op\": \"replace\", \"path\": \"/b\", \"value\": null}
]"
jstring$patch(jspatch)

## ------------------------------------------------
## Method `jsonString$push`
## ------------------------------------------------

jstring &lt;- jsonString$new("[1, 2, 3, 4, 5]")
jstring2 &lt;- jsonString$new(
  "{\"a\":[4,5,6],\"c\":\"goodbye\"}"
 )
jstring$push(jstring2)
jstring

## ------------------------------------------------
## Method `jsonString$is`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$is("object")
jstring$is("array")
jstring &lt;- jsonString$new("999")
jstring$is("integer")
jstring$is("number")
jstring$is("float")

## ------------------------------------------------
## Method `jsonString$type`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jstring$type()
jstring &lt;- jsonString$new("999")
jstring$type()

## ------------------------------------------------
## Method `jsonString$flatten`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":{\"x\":\"hello\",\"y\":\"hi\"}}"
)
jstring$flatten()

## ------------------------------------------------
## Method `jsonString$unflatten`
## ------------------------------------------------

folder &lt;- system.file(package = "jsonStrings")
files &lt;- list.files(folder, recursive = TRUE)
sizes &lt;- file.size(file.path(folder, files))
files &lt;- sprintf('"%s"', paste0("/", files))
string &lt;- sprintf("{%s}", paste0(files, ":", sizes, collapse = ","))
jstring &lt;- jsonString$new(string)
jstring$unflatten()

## ------------------------------------------------
## Method `jsonString$writeFile`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
jsonfile &lt;- tempfile(fileext = ".json")
jstring$writeFile(jsonfile)
cat(readLines(jsonfile), sep = "\n")
jsonString$new(jsonfile)

## ------------------------------------------------
## Method `jsonString$copy`
## ------------------------------------------------

jstring &lt;- jsonString$new(
  "{\"a\":[1,2,3],\"b\":\"hello\"}"
)
copy &lt;- jstring$copy()
copy$erase("b")
jstring
naive_copy &lt;- jstring
naive_copy$erase("b")
jstring
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package wkb</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wkb}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#hex2raw'><p>Convert String Hex Representation to Raw Vector</p></a></li>
<li><a href='#readWKB'><p>Convert <abbr><span class="acronym">WKB</span></abbr> to Spatial Objects</p></a></li>
<li><a href='#writeEnvelope'><p>Envelope of Spatial Objects</p></a></li>
<li><a href='#writeWKB'><p>Convert Spatial Objects to <abbr><span class="acronym">WKB</span></abbr></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Convert Between Spatial Objects and Well-Known Binary Geometry</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4-0</td>
</tr>
<tr>
<td>Imports:</td>
<td>sp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Author:</td>
<td>TIBCO Software Inc.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ian Cook &lt;ianmcook@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Utility functions to convert between the 'Spatial' classes
  specified by the package 'sp', and the well-known binary '(WKB)'
  representation for geometry specified by the 'Open Geospatial Consortium'.
  Supports 'Spatial' objects of class 'SpatialPoints',
  'SpatialPointsDataFrame', 'SpatialLines', 'SpatialLinesDataFrame',
  'SpatialPolygons', and 'SpatialPolygonsDataFrame'. Supports 'WKB' geometry
  types 'Point', 'LineString', 'Polygon', 'MultiPoint', 'MultiLineString', and
  'MultiPolygon'. Includes extensions to enable creation of maps with
  'TIBCO Spotfire'.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ianmcook/wkb/issues">https://github.com/ianmcook/wkb/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-12-05 18:08:54 UTC; icook</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-12-05 19:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='hex2raw'>Convert String Hex Representation to Raw Vector</h2><span id='topic+hex2raw'></span>

<h3>Description</h3>

<p>Converts a string hexadecimal representation to a <code>raw</code> vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hex2raw(hex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hex2raw_+3A_hex">hex</code></td>
<td>
<p>character string or character vector containing a hexadecimal
representation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Non-hexadecimal characters are removed.
</p>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+raw">raw</a></code> vector.
</p>
<p>The return value is a <code>list</code> of <code>raw</code> vectors when the argument
<code>hex</code> contains more than one hexadecimal representation.
</p>


<h3>See Also</h3>

<p><code>raw2hex</code> in package
<a href="https://cran.r-project.org/package=PKI"><span class="pkg">PKI</span></a>, <code><a href="#topic+readWKB">readWKB</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a character string containing a hexadecimal representation
hex &lt;- "0101000000000000000000f03f0000000000000840"

# convert to raw vector
wkb &lt;- hex2raw(hex)


# create a character vector containing a hexadecimal representation
hex &lt;- c("01", "01", "00", "00", "00", "00", "00", "00", "00", "00", "00",
         "f0", "3f", "00", "00", "00", "00", "00", "00", "08", "40")

# convert to raw vector
wkb &lt;- hex2raw(hex)


# create vector of two character strings each containing a hex representation
hex &lt;- c("0101000000000000000000f03f0000000000000840",
         "010100000000000000000000400000000000000040")

# convert to list of two raw vectors
wkb &lt;- hex2raw(hex)
</code></pre>

<hr>
<h2 id='readWKB'>Convert <abbr><span class="acronym">WKB</span></abbr> to Spatial Objects</h2><span id='topic+readWKB'></span>

<h3>Description</h3>

<p>Converts well-known binary (<abbr><span class="acronym">WKB</span></abbr>) geometry representations to
<code>Spatial</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readWKB(wkb, id = NULL, proj4string = CRS(as.character(NA)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readWKB_+3A_wkb">wkb</code></td>
<td>
<p><code>list</code> in which each element is a <code><a href="base.html#topic+raw">raw</a></code>
vector consisting of a <abbr><span class="acronym">WKB</span></abbr> geometry representation.</p>
</td></tr>
<tr><td><code id="readWKB_+3A_id">id</code></td>
<td>
<p>character vector of unique identifiers of geometries. The length of
<code>id</code> must be the same as the length of the <code>wkb</code> list.</p>
</td></tr>
<tr><td><code id="readWKB_+3A_proj4string">proj4string</code></td>
<td>
<p>projection string of class
<code><a href="sp.html#topic+CRS-class">CRS</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Supported <abbr><span class="acronym">WKB</span></abbr> geometry types are Point, LineString,
Polygon, MultiPoint, MultiLineString, and MultiPolygon. All elements in the
<code>list</code> must have the same <abbr><span class="acronym">WKB</span></abbr> geometry type. The
<abbr><span class="acronym">WKB</span></abbr> geometry representations may use little-endian or big-endian
byte order.
</p>
<p>The argument <code>wkb</code> may also be a <code><a href="base.html#topic+raw">raw</a></code> vector
consisting of one <abbr><span class="acronym">WKB</span></abbr> geometry representation. In that case, the
argument <code>id</code> must have length one.
</p>


<h3>Value</h3>

<p>An object inheriting class <code><a href="sp.html#topic+Spatial-class">Spatial</a></code>.
</p>
<p>The return value may be an object of class
<code><a href="sp.html#topic+SpatialPoints-class">SpatialPoints</a></code>,
<code><a href="sp.html#topic+SpatialLines-class">SpatialLines</a></code>,
<code><a href="sp.html#topic+SpatialPolygons-class">SpatialPolygons</a></code>, or a <code>list</code>
in which each element is an object of class
<code><a href="sp.html#topic+SpatialPoints-class">SpatialPoints</a></code>. The class of the
return value depends on the <abbr><span class="acronym">WKB</span></abbr> geometry type as shown in the
table below.
</p>

<table>
<tr>
 <td style="text-align: left;">
  <strong>Type of <abbr><span class="acronym">WKB</span></abbr> geometry</strong> </td><td style="text-align: left;"> <strong>Class of return value</strong></td>
</tr>
<tr>
 <td style="text-align: left;">
  Point </td><td style="text-align: left;"> <code>SpatialPoints</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  LineString </td><td style="text-align: left;"> <code>SpatialLines</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  Polygon </td><td style="text-align: left;"> <code>SpatialPolygons</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  MultiPoint </td><td style="text-align: left;"> <code>list</code> of <code>SpatialPoints</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  MultiLineString </td><td style="text-align: left;"> <code>SpatialLines</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  MultiPolygon </td><td style="text-align: left;"> <code>SpatialPolygons</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+writeWKB">writeWKB</a></code>, <code><a href="#topic+hex2raw">hex2raw</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a list of WKB geometry representations of type Point
wkb &lt;- list(
  as.raw(c(0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
           0xf0, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x40)),
  as.raw(c(0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
           0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40))
)

# convert to object of class SpatialPoints
obj &lt;- readWKB(wkb)


# create a list of WKB geometry representations of type MultiPoint
wkb &lt;- list(
  as.raw(c(0x01, 0x04, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x01,
           0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0x3f,
           0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x40)),
  as.raw(c(0x01, 0x04, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x01,
           0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40,
           0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40)))

# convert to list of objects of class SpatialPoints
obj &lt;- readWKB(wkb)


# create a list of WKB geometry representations of type MultiLineString
wkb &lt;- list(
  as.raw(c(0x01, 0x05, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x02,
           0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
           0x00, 0x00, 0xf0, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08,
           0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00,
           0x00, 0x00, 0x00, 0x00, 0x00, 0x40)),
  as.raw(c(0x01, 0x05, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x02,
           0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
           0x00, 0x00, 0xf0, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0,
           0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00,
           0x00, 0x00, 0x00, 0x00, 0xf8, 0x3f)))

# convert to object of class SpatialLines
obj &lt;- readWKB(wkb)


# create a list of WKB geometry representations of type Polygon
wkb &lt;- list(
  as.raw(c(0x01, 0x03, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x05, 0x00,
           0x00, 0x00, 0x34, 0x03, 0xf0, 0xac, 0xce, 0x66, 0x5d, 0xc0, 0x8f,
           0x27, 0x95, 0x21, 0xab, 0xa6, 0x44, 0x40, 0xa0, 0x32, 0x81, 0x18,
           0x78, 0x83, 0x5d, 0xc0, 0xc8, 0xd2, 0xa0, 0xee, 0x23, 0x0b, 0x41,
           0x40, 0x80, 0xec, 0x72, 0x54, 0xde, 0xb1, 0x5f, 0xc0, 0xc8, 0xd2,
           0xa0, 0xee, 0x23, 0x0b, 0x41, 0x40, 0xec, 0x1b, 0x04, 0xc0, 0x87,
           0xce, 0x5f, 0xc0, 0x8f, 0x27, 0x95, 0x21, 0xab, 0xa6, 0x44, 0x40,
           0x34, 0x03, 0xf0, 0xac, 0xce, 0x66, 0x5d, 0xc0, 0x8f, 0x27, 0x95,
           0x21, 0xab, 0xa6, 0x44, 0x40)),
  as.raw(c(0x01, 0x03, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x05, 0x00,
           0x00, 0x00, 0x08, 0x36, 0xdc, 0x8b, 0x9f, 0x3d, 0x51, 0xc0, 0x0f,
           0xb3, 0x2a, 0x6a, 0x3f, 0x1c, 0x46, 0x40, 0x47, 0xcb, 0x54, 0xe7,
           0xcb, 0x5e, 0x51, 0xc0, 0x45, 0x81, 0x50, 0x31, 0xfa, 0x80, 0x42,
           0x40, 0xa9, 0xba, 0x74, 0x6d, 0xf5, 0xa1, 0x53, 0xc0, 0x45, 0x81,
           0x50, 0x31, 0xfa, 0x80, 0x42, 0x40, 0xe8, 0x4f, 0xed, 0xc8, 0x21,
           0xc3, 0x53, 0xc0, 0x0f, 0xb3, 0x2a, 0x6a, 0x3f, 0x1c, 0x46, 0x40,
           0x08, 0x36, 0xdc, 0x8b, 0x9f, 0x3d, 0x51, 0xc0, 0x0f, 0xb3, 0x2a,
           0x6a, 0x3f, 0x1c, 0x46, 0x40)))

# convert to object of class SpatialPolygons
obj &lt;- readWKB(wkb)


# specify id and proj4string
obj &lt;- readWKB(
  wkb,
  id = c("San Francisco", "New York"),
  proj4string = sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs")
)
</code></pre>

<hr>
<h2 id='writeEnvelope'>Envelope of Spatial Objects</h2><span id='topic+writeEnvelope'></span>

<h3>Description</h3>

<p>Takes a <code>Spatial</code> object and returns a data frame with six columns
representing the envelope of each element in the <code>Spatial</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeEnvelope(obj, centerfun = mean)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="writeEnvelope_+3A_obj">obj</code></td>
<td>
<p>object inheriting class <code><a href="sp.html#topic+Spatial-class">Spatial</a></code>.</p>
</td></tr>
<tr><td><code id="writeEnvelope_+3A_centerfun">centerfun</code></td>
<td>
<p>function to apply to the x-axis limits and y-axis limits
of the bounding box to obtain the x-coordinate and y-coordinate of the
center of the bounding box.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>obj</code> may be an object of class
<code><a href="sp.html#topic+SpatialPoints-class">SpatialPoints</a></code>,
<code><a href="sp.html#topic+SpatialPointsDataFrame-class">SpatialPointsDataFrame</a></code>,
<code><a href="sp.html#topic+SpatialLines-class">SpatialLines</a></code>,
<code><a href="sp.html#topic+SpatialLinesDataFrame-class">SpatialLinesDataFrame</a></code>,
<code><a href="sp.html#topic+SpatialPolygons-class">SpatialPolygons</a></code>, or
<code><a href="sp.html#topic+SpatialPolygonsDataFrame-class">SpatialPolygonsDataFrame</a></code>,
or a <code>list</code> in which each element is an object of class
<code><a href="sp.html#topic+SpatialPoints-class">SpatialPoints</a></code> or
<code><a href="sp.html#topic+SpatialPointsDataFrame-class">SpatialPointsDataFrame</a></code>.
</p>


<h3>Value</h3>

<p>A data frame with six columns named XMax, XMin, YMax, YMin, XCenter,
and YCenter. The first four columns represent the corners of the bounding
box of each element in <code>obj</code>. The last two columns represent the
center of the bounding box of each element in <code>obj</code>. The number of
rows in the returned data frame is the same as the length of the argument
<code>obj</code>.
</p>
<p>When this function is run in TIBCO Enterprise Runtime for R
(<abbr><span class="acronym">TERR</span></abbr>), the columns of the returned data frame have the
SpotfireColumnMetaData attribute set to enable TIBCO Spotfire to recognize
them as containing envelope information.
</p>


<h3>See Also</h3>

<p>Example usage at <code><a href="#topic+writeWKB">writeWKB</a></code>
</p>

<hr>
<h2 id='writeWKB'>Convert Spatial Objects to <abbr><span class="acronym">WKB</span></abbr></h2><span id='topic+writeWKB'></span>

<h3>Description</h3>

<p>Converts <code>Spatial</code> objects to well-known binary (<abbr><span class="acronym">WKB</span></abbr>) geometry
representations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeWKB(obj, endian = "little")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="writeWKB_+3A_obj">obj</code></td>
<td>
<p>object inheriting class <code><a href="sp.html#topic+Spatial-class">Spatial</a></code>.</p>
</td></tr>
<tr><td><code id="writeWKB_+3A_endian">endian</code></td>
<td>
<p>The byte order (<code>"big"</code> or <code>"little"</code>) for encoding
numeric types. The default is <code>"little"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The argument <code>obj</code> may be an object of class
<code><a href="sp.html#topic+SpatialPoints-class">SpatialPoints</a></code>,
<code><a href="sp.html#topic+SpatialPointsDataFrame-class">SpatialPointsDataFrame</a></code>,
<code><a href="sp.html#topic+SpatialLines-class">SpatialLines</a></code>,
<code><a href="sp.html#topic+SpatialLinesDataFrame-class">SpatialLinesDataFrame</a></code>,
<code><a href="sp.html#topic+SpatialPolygons-class">SpatialPolygons</a></code>, or
<code><a href="sp.html#topic+SpatialPolygonsDataFrame-class">SpatialPolygonsDataFrame</a></code>,
or a <code>list</code> in which each element is an object of class
<code><a href="sp.html#topic+SpatialPoints-class">SpatialPoints</a></code> or
<code><a href="sp.html#topic+SpatialPointsDataFrame-class">SpatialPointsDataFrame</a></code>.
</p>


<h3>Value</h3>

<p>A <code>list</code> with class <code>AsIs</code>. The length of the returned list
is the same as the length of the argument <code>obj</code>. Each element of the
returned list is a <code><a href="base.html#topic+raw">raw</a></code> vector consisting of a
<abbr><span class="acronym">WKB</span></abbr> geometry representation. The <abbr><span class="acronym">WKB</span></abbr> geometry type
depends on the class of <code>obj</code> as shown in the table below.
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>Class of <code>obj</code></strong> </td><td style="text-align: left;"> <strong>Type of <abbr><span class="acronym">WKB</span></abbr> geometry</strong></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SpatialPoints</code> or <code>SpatialPointsDataFrame</code> </td><td style="text-align: left;"> Point</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>list</code> of <code>SpatialPoints</code> or <code>SpatialPointsDataFrame</code> </td><td style="text-align: left;"> MultiPoint</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SpatialLines</code> or <code>SpatialLinesDataFrame</code> </td><td style="text-align: left;"> MultiLineString</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SpatialPolygons</code> or <code>SpatialPolygonsFrame</code> </td><td style="text-align: left;"> Polygon or MultiPolygon</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>A <code>SpatialPolygons</code> or <code>SpatialPolygonsFrame</code> object is represented
as <abbr><span class="acronym">WKB</span></abbr> Polygons if each <code>Polygons</code> object within it represents
a single polygon; otherwise it is represented as <abbr><span class="acronym">WKB</span></abbr> MultiPolygons.
</p>
<p>The byte order of numeric types in the returned <abbr><span class="acronym">WKB</span></abbr> geometry
representations depends on the value of the argument <code>endian</code>.
Little-endian byte order is known as <abbr><span class="acronym">NDR</span></abbr> encoding, and big-endian
byte order is known as <abbr><span class="acronym">XDR</span></abbr> encoding.
</p>
<p>When this function is run in TIBCO Enterprise Runtime for R (<abbr><span class="acronym">TERR</span></abbr>),
the return value has the SpotfireColumnMetaData attribute set to enable TIBCO
Spotfire to recognize it as a <abbr><span class="acronym">WKB</span></abbr> geometry representation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+writeEnvelope">writeEnvelope</a></code>, <code><a href="#topic+readWKB">readWKB</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load package sp
library(sp)

# create an object of class SpatialPoints
x = c(1, 2)
y = c(3, 2)
obj &lt;- SpatialPoints(data.frame(x, y))

# convert to WKB Point
wkb &lt;- writeWKB(obj)


# create a list of objects of class SpatialPoints
x1 = c(1, 2, 3, 4, 5)
y1 = c(3, 2, 5, 1, 4)
x2 &lt;- c(9, 10, 11, 12, 13)
y2 &lt;- c(-1, -2, -3, -4, -5)
Sp1 &lt;- SpatialPoints(data.frame(x1, y1))
Sp2 &lt;- SpatialPoints(data.frame(x2, y2))
obj &lt;- list("a"=Sp1, "b"=Sp2)

# convert to WKB MultiPoint
wkb &lt;- writeWKB(obj)


# create an object of class SpatialLines
l1 &lt;- data.frame(x = c(1, 2, 3), y = c(3, 2, 2))
l1a &lt;- data.frame(x = l1[, 1] + .05, y = l1[, 2] + .05)
l2 &lt;- data.frame(x = c(1, 2, 3), y = c(1, 1.5, 1))
Sl1 &lt;- Line(l1)
Sl1a &lt;- Line(l1a)
Sl2 &lt;- Line(l2)
S1 &lt;- Lines(list(Sl1, Sl1a), ID = "a")
S2 &lt;- Lines(list(Sl2), ID = "b")
obj &lt;- SpatialLines(list(S1, S2))

# convert to WKB MultiLineString
wkb &lt;- writeWKB(obj)


# create an object of class SpatialPolygons
triangle &lt;- Polygons(
  list(
    Polygon(data.frame(x = c(2, 2.5, 3, 2), y = c(2, 3, 2, 2)))
  ), "triangle")
rectangles &lt;- Polygons(
   list(
     Polygon(data.frame(x = c(0, 0, 1, 1, 0), y = c(0, 1, 1, 0, 0))),
     Polygon(data.frame(x = c(0, 0, 2, 2, 0), y = c(-2, -1, -1, -2, -2)))
   ), "rectangles")
obj &lt;- SpatialPolygons(list(triangle, rectangles))

# convert to WKB MultiPolygon
wkb &lt;- writeWKB(obj)


# use the WKB as a column in a data frame
ds &lt;- data.frame(ID = c("a","b"), Geometry = wkb)

# calculate envelope columns and cbind to the data frame
coords &lt;- writeEnvelope(obj)
ds &lt;- cbind(ds, coords)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package Linkage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Linkage}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Enron'>
<p>The Enron email network</p></a></li>
<li><a href='#Linkage-package'>
<p>Clustering Communication Networks Using the Stochastic Topic Block Model Through Linkage.fr</p></a></li>
<li><a href='#linkage.check'>
<p>Monitor achievment of the current job</p></a></li>
<li><a href='#linkage.getresults'>
<p>Retrieve results for a specific job.</p></a></li>
<li><a href='#linkage.post'>
<p>Post a job on Linkage.fr to cluster a network with STBM</p></a></li>
<li><a href='#plot.linkage'>
<p>The plot function for 'linkage' objects.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Clustering Communication Networks Using the Stochastic Topic
Block Model Through Linkage.fr</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite, RColorBrewer, sna, network</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-08</td>
</tr>
<tr>
<td>Author:</td>
<td>Charles Bouveyron, Pierre Latouche, Stéphane Petiot, Carlos Ocanto</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Charles Bouveyron &lt;charles.bouveyron@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>It allows to cluster communication networks using the Stochastic
  Topic Block Model &lt;<a href="https://doi.org/10.1007%2Fs11222-016-9713-7">doi:10.1007/s11222-016-9713-7</a>&gt; by posting jobs through 
  the API of the linkage.fr server, which implements the clustering method.
  The package also allows to visualize the clustering results returned by the server.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-08 15:07:28 UTC; charles</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-12 09:02:30 UTC</td>
</tr>
</table>
<hr>
<h2 id='Enron'>
The Enron email network
</h2><span id='topic+Enron'></span>

<h3>Description</h3>

<p>This data set contains an extract of the email network of the Enron company. This extract focuses on the emails exchanged between Enron employees in October 2001. The reported texts of the emails are only the email subjects. The full email data set is available at https://www.cs.cmu.edu/~enron/.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Enron)</code></pre>


<h3>Format</h3>

<p>The data frame is organized as follows:
</p>
<p>- the first column contains the id of the sender,
</p>
<p>- the second column contains the id of the receiver,
</p>
<p>- the third column contains the text of the email
</p>


<h3>Source</h3>

<p>The full email data set is available at https://www.cs.cmu.edu/~enron/.
</p>


<h3>References</h3>

<p>C. Bouveyron, P. Latouche and R. Zreik, The Stochastic Topic Block Model for the Clustering of Networks with Textual Edges, Statistics and Computing, vol. 28(1), pp. 11-31, 2017 &lt;doi:10.1007/s11222-016-9713-7&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Enron)
write.table(Enron, file="Enron.csv",row.names=FALSE,col.names=FALSE, sep=",")
file = "Enron.csv"

# Provide the user token, which is provided on "developers" page
# of http://linkage.fr (after registration)
token = "xxxxxxxxxxxxxxxxxxxx"

# Post the job
job_id = linkage.post(file, token, job_title="My job: Enron",
                      clusters_min = 8, clusters_max = 8,
                      topics_min = 6,topics_max = 6,
                      filter_largest_subgraph = TRUE)

# Monitor achievment of the current job
ans = linkage.check(token)

# Retrieve results (once achievment is 100%)
res = linkage.getresults(job_id,token)

# Plot the results
plot(res,type='all')

## End(Not run)
</code></pre>

<hr>
<h2 id='Linkage-package'>
Clustering Communication Networks Using the Stochastic Topic Block Model Through Linkage.fr
</h2><span id='topic+Linkage-package'></span><span id='topic+Linkage'></span>

<h3>Description</h3>

<p>It allows to cluster communication networks using the Stochastic
  Topic Block Model &lt;doi:10.1007/s11222-016-9713-7&gt; by posting jobs through 
  the API of the linkage.fr server, which implements the clustering method.
  The package also allows to visualize the clustering results returned by the server.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> Linkage</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Clustering Communication Networks Using the Stochastic Topic Block Model Through Linkage.fr</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.9</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.5.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> httr, jsonlite, RColorBrewer, sna, network</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-04-08</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Charles Bouveyron, Pierre Latouche, Stéphane Petiot, Carlos Ocanto</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Charles Bouveyron &lt;charles.bouveyron@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> It allows to cluster communication networks using the Stochastic
  Topic Block Model &lt;doi:10.1007/s11222-016-9713-7&gt; by posting jobs through 
  the API of the linkage.fr server, which implements the clustering method.
  The package also allows to visualize the clustering results returned by the server.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
Enron                   The Enron email network
Linkage-package         Clustering Communication Networks Using the
                        Stochastic Topic Block Model Through Linkage.fr
linkage.check           Monitor achievment of the current job
linkage.getresults      Retrieve results for a specific job.
linkage.post            Post a job on Linkage.fr to cluster a network
                        with STBM
plot.linkage            The plot function for 'linkage' objects.
</pre>
<p>It allows to cluster communication networks using the Stochastic Topic Block Model (Bouveyron et al., 2018, &lt;doi:10.1007/s11222-016-9713-7&gt;) by posting jobs through the API of the linkage.fr server, which implements the clustering method. The package also allows to visualize the clustering results returned by the server.
</p>


<h3>Author(s)</h3>

<p>Charles Bouveyron, Pierre Latouche, Stéphane Petiot, Carlos Ocanto
</p>
<p>Maintainer: Charles Bouveyron &lt;charles.bouveyron@gmail.com&gt;
</p>


<h3>References</h3>

<p>C. Bouveyron, P. Latouche and R. Zreik, The Stochastic Topic Block Model for the Clustering of Networks with Textual Edges, Statistics and Computing, vol. 28(1), pp. 11-31, 2017 &lt;doi:10.1007/s11222-016-9713-7&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Enron)
write.table(Enron, file="Enron.csv",row.names=FALSE,col.names=FALSE, sep=",")
file = "Enron.csv"

# Provide the user token, which is provided on "developers" page
# of http://linkage.fr (after registration)
token = "xxxxxxxxxxxxxxxxxxxx"

# Post the job
job_id = linkage.post(file, token, job_title="My job: Enron",
                      clusters_min = 8, clusters_max = 8,
                      topics_min = 6,topics_max = 6,
                      filter_largest_subgraph = TRUE)

# Monitor achievment of the current job
ans = linkage.check(token)

# Retrieve results (once achievment is 100
res = linkage.getresults(job_id,token)

# Plot the results
plot(res,type='all')

## End(Not run)
</code></pre>

<hr>
<h2 id='linkage.check'>
Monitor achievment of the current job
</h2><span id='topic+linkage.check'></span>

<h3>Description</h3>

<p>Monitor the achievment of the current job by checking on the web server linkage.fr.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>linkage.check(token)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="linkage.check_+3A_token">token</code></td>
<td>
<p>The token of the user. This personal token can be found on https://linkage.fr/developers/ after registration. Registration is free of charge for individual and academic users.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a list containing in particular:
</p>
<table>
<tr><td><code>id</code></td>
<td>
<p>the job id</p>
</td></tr>
<tr><td><code>progress</code></td>
<td>
<p>the achievment of the current job (in percentage)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Charles Bouveyron &lt;charles.bouveyron@gmail.com&gt;
</p>


<h3>References</h3>

<p>C. Bouveyron, P. Latouche and R. Zreik, The Stochastic Topic Block Model for the Clustering of Networks with Textual Edges, Statistics and Computing, vol. 28(1), pp. 11-31, 2017 &lt;doi:10.1007/s11222-016-9713-7&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Enron)
write.table(Enron, file="Enron.csv",row.names=FALSE,col.names=FALSE, sep=",")
file = "Enron.csv"

# Provide the user token, which is provided on "developers" page
# of http://linkage.fr (after registration)
token = "xxxxxxxxxxxxxxxxxxxx"

# Post the job
job_id = linkage.post(file, token, job_title="My job: Enron",
                      clusters_min = 8, clusters_max = 8,
                      topics_min = 6,topics_max = 6,
                      filter_largest_subgraph = TRUE)

# Monitor achievment of the current job
ans = linkage.check(token)

# Retrieve results (once achievment is 100
res = linkage.getresults(job_id,token)

# Plot the results
plot(res,type='all')

## End(Not run)
</code></pre>

<hr>
<h2 id='linkage.getresults'>
Retrieve results for a specific job.
</h2><span id='topic+linkage.getresults'></span>

<h3>Description</h3>

<p>Retrieve results for a specific job posted on the Linkage.fr server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>linkage.getresults(job_id, token)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="linkage.getresults_+3A_job_id">job_id</code></td>
<td>

<p>The id of the job to retrieve (as returned by the linkage.post or the linkage.check functions).
</p>
</td></tr>
<tr><td><code id="linkage.getresults_+3A_token">token</code></td>
<td>

<p>The token of the user. This personal token can be found on https://linkage.fr/developers/ after registration. Registration is free of charge for individual and academic users.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a list containing in particular:
</p>
<table>
<tr><td><code>job_id</code></td>
<td>
<p>the job id</p>
</td></tr>
<tr><td><code>nb_nodes</code></td>
<td>
<p>the number of nodes</p>
</td></tr>
<tr><td><code>nb_edges</code></td>
<td>
<p>the number of edges</p>
</td></tr>
<tr><td><code>clusters_optim</code></td>
<td>
<p>the optimal number of clusters</p>
</td></tr>
<tr><td><code>topics_optim</code></td>
<td>
<p>the optimal number of topics</p>
</td></tr>
<tr><td><code>dictionary</code></td>
<td>
<p>the list of words used in the texts</p>
</td></tr>
<tr><td><code>result</code></td>
<td>
<p>a list containing the clustering results for the optimal numbers of clusters and topics. This list contains in particular:
</p>
<p>- clusters_mat: clustering of the nodes
</p>
<p>- rho_mat: node cluster proportions
</p>
<p>- pi_mat: estimated connexion probabilities between clusters
</p>
<p>- theta_qr_mat: estimated proportions of topics in interactions between groups
</p>
<p>- top_words: most representative words for each topic
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Charles Bouveyron &lt;charles.bouveyron@gmail.com&gt;
</p>


<h3>References</h3>

<p>C. Bouveyron, P. Latouche and R. Zreik, The Stochastic Topic Block Model for the Clustering of Networks with Textual Edges, Statistics and Computing, vol. 28(1), pp. 11-31, 2017 &lt;doi:10.1007/s11222-016-9713-7&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Enron)
write.table(Enron, file="Enron.csv",row.names=FALSE,col.names=FALSE, sep=",")
file = "Enron.csv"

# Provide the user token, which is provided on "developers" page
# of http://linkage.fr (after registration)
token = "xxxxxxxxxxxxxxxxxxxx"

# Post the job
job_id = linkage.post(file, token, job_title="My job: Enron",
                      clusters_min = 8, clusters_max = 8,
                      topics_min = 6,topics_max = 6,
                      filter_largest_subgraph = TRUE)

# Monitor achievment of the current job
ans = linkage.check(token)

# Retrieve results (once achievment is 100
res = linkage.getresults(job_id,token)

# Plot the results
plot(res,type='all')

## End(Not run)
</code></pre>

<hr>
<h2 id='linkage.post'>
Post a job on Linkage.fr to cluster a network with STBM
</h2><span id='topic+linkage.post'></span>

<h3>Description</h3>

<p>Post a clustering job on the server Linkage.fr though the API. The Linkage.fr server implements the Stochastic Topic Block Model (STBM, Bouveyron et al., 2018, doi:10.1007/s11222-016-9713-7).
</p>
<p>The users should have registered on the web server https://linkage.fr. Registration is free of charge for individual and academic users.</p>


<h3>Usage</h3>

<pre><code class='language-R'>linkage.post(file, token, job_title = "", clusters_min = 2, clusters_max = 10,
              topics_min = 2, topics_max = 10, filter_largest_subgraph = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="linkage.post_+3A_file">file</code></td>
<td>

<p>the location on the disk of the CSV file containing the communication network. Each line of tje CSV file should be of the form: sender_id, receiver_id, text of the message.
</p>
</td></tr>
<tr><td><code id="linkage.post_+3A_token">token</code></td>
<td>

<p>The token of the user. This personal token can be found on https://linkage.fr/developers/ after registration. Registration is free of charge for individual and academic users.
</p>
</td></tr>
<tr><td><code id="linkage.post_+3A_job_title">job_title</code></td>
<td>

<p>Title of the job
</p>
</td></tr>
<tr><td><code id="linkage.post_+3A_clusters_min">clusters_min</code></td>
<td>

<p>Minimum number of node clusters to test
</p>
</td></tr>
<tr><td><code id="linkage.post_+3A_clusters_max">clusters_max</code></td>
<td>

<p>Maximum number of node clusters to test
</p>
</td></tr>
<tr><td><code id="linkage.post_+3A_topics_min">topics_min</code></td>
<td>

<p>Minimum number of topics to test
</p>
</td></tr>
<tr><td><code id="linkage.post_+3A_topics_max">topics_max</code></td>
<td>

<p>Maximum number of topics to test
</p>
</td></tr>
<tr><td><code id="linkage.post_+3A_filter_largest_subgraph">filter_largest_subgraph</code></td>
<td>

<p>a boolean indicating if the clustering should be done only on the largest subgraph or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The id of the job is returned.
</p>


<h3>Author(s)</h3>

<p>Charles Bouveyron &lt;charles.bouveyron@gmail.com&gt;
</p>


<h3>References</h3>

<p>C. Bouveyron, P. Latouche and R. Zreik, The Stochastic Topic Block Model for the Clustering of Networks with Textual Edges, Statistics and Computing, vol. 28(1), pp. 11-31, 2017 &lt;doi:10.1007/s11222-016-9713-7&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Enron)
write.table(Enron, file="Enron.csv",row.names=FALSE,col.names=FALSE, sep=",")
file = "Enron.csv"

# Provide the user token, which is provided on "developers" page
# of http://linkage.fr (after registration)
token = "xxxxxxxxxxxxxxxxxxxx"

# Post the job
job_id = linkage.post(file, token, job_title="My job: Enron",
                      clusters_min = 8, clusters_max = 8,
                      topics_min = 6,topics_max = 6,
                      filter_largest_subgraph = TRUE)

# Monitor achievment of the current job
ans = linkage.check(token)

# Retrieve results (once achievment is 100
res = linkage.getresults(job_id,token)

# Plot the results
plot(res,type='all')

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.linkage'>
The plot function for 'linkage' objects.
</h2><span id='topic+plot.linkage'></span>

<h3>Description</h3>

<p>This function plots different information about 'linkage' objects.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'linkage'
plot(x, type="all", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.linkage_+3A_x">x</code></td>
<td>

<p>an object of type 'linkage' to plot
</p>
</td></tr>
<tr><td><code id="plot.linkage_+3A_type">type</code></td>
<td>

<p>the type of information to plot:
</p>
<p>- &quot;all&quot;: all information,
</p>
<p>- &quot;network&quot;: the clustered network,
</p>
<p>- &quot;metanetwork&quot;: the metanetwork which summarizes all model parameters,
</p>
<p>- &quot;topics&quot;: the most representative words of each topic,
</p>
<p>- &quot;prop&quot;: the node cluster proportions.
</p>
</td></tr>
<tr><td><code id="plot.linkage_+3A_...">...</code></td>
<td>

<p>Additional options to pass to the plot function.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned by this function.</p>


<h3>Author(s)</h3>

<p>Charles Bouveyron &lt;charles.bouveyron@gmail.com&gt;
</p>


<h3>References</h3>

<p>C. Bouveyron, P. Latouche and R. Zreik, The Stochastic Topic Block Model for the Clustering of Networks with Textual Edges, Statistics and Computing, vol. 28(1), pp. 11-31, 2017 &lt;doi:10.1007/s11222-016-9713-7&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Enron)
write.table(Enron, file="Enron.csv",row.names=FALSE,col.names=FALSE, sep=",")
file = "Enron.csv"

# Provide the user token, which is provided on "developers" page
# of http://linkage.fr (after registration)
token = "xxxxxxxxxxxxxxxxxxxx"

# Post the job
job_id = linkage.post(file, token, job_title="My job: Enron",
                      clusters_min = 8, clusters_max = 8,
                      topics_min = 6,topics_max = 6,
                      filter_largest_subgraph = TRUE)

# Monitor achievment of the current job
ans = linkage.check(token)

# Retrieve results (once achievment is 100
res = linkage.getresults(job_id,token)

# Plot the results
plot(res,type='all')

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package condor</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {condor}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#condor-package'><p>Interact with Condor from R via SSH</p></a></li>
<li><a href='#condor_dir'><p>Condor Directories</p></a></li>
<li><a href='#condor_download'><p>Condor Download</p></a></li>
<li><a href='#condor_log'><p>Condor Log</p></a></li>
<li><a href='#condor_q'><p>Condor Queue</p></a></li>
<li><a href='#condor_rm'><p>Condor Remove</p></a></li>
<li><a href='#condor_rmdir'><p>Condor Remove Directory</p></a></li>
<li><a href='#condor_submit'><p>Condor Submit</p></a></li>
<li><a href='#condor-internal'><p>Various Condor Helper Functions</p></a></li>
<li><a href='#ssh_exec_stdout'><p>Execute and Capture Standard Output</p></a></li>
<li><a href='#summary.condor_log'><p>Summary Condor Log</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-28</td>
</tr>
<tr>
<td>Title:</td>
<td>Interact with 'Condor' from R via SSH</td>
</tr>
<tr>
<td>Depends:</td>
<td>ssh</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>htcondor</td>
</tr>
<tr>
<td>Description:</td>
<td>Interact with 'Condor' from R via SSH connection. Files are first
  uploaded from user machine to submitter machine, and the job is then submitted
  from the submitter machine to 'Condor'. Functions are provided to submit,
  list, and download 'Condor' jobs from R. 'Condor' is an open source
  high-throughput computing software framework for distributed parallelization
  of computationally intensive tasks.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/PacificCommunity/ofp-sam-condor">https://github.com/PacificCommunity/ofp-sam-condor</a>,
<a href="https://htcondor.org">https://htcondor.org</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-28 04:11:26 UTC; arnim</td>
</tr>
<tr>
<td>Author:</td>
<td>Arni Magnusson [aut, cre],
  Nan Yao [aut],
  Jemery Day [ctb],
  Thomas Teears [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Arni Magnusson &lt;thisisarni@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-28 04:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='condor-package'>Interact with Condor from R via SSH</h2><span id='topic+condor-package'></span><span id='topic+condor'></span>

<h3>Description</h3>

<p>Interact with Condor from R via SSH connection. Files are first uploaded from
user machine to submitter machine, and the job is then submitted from the
submitter machine to Condor. Functions are provided to submit, list, and
download Condor jobs from R.
</p>
<p>Condor is an open source high-throughput computing software framework for
distributed parallelization of computationally intensive tasks.
</p>


<h3>Details</h3>

<p><em>Main interface:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+condor_submit">condor_submit</a></code>   </td><td style="text-align: left;"> submit</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+condor_q">condor_q</a></code>        </td><td style="text-align: left;"> list queue</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+condor_dir">condor_dir</a></code>      </td><td style="text-align: left;"> list directories</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+condor_download">condor_download</a></code> </td><td style="text-align: left;"> download
</td>
</tr>

</table>

<p><em>Stop and remove:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+condor_rm">condor_rm</a></code>    </td><td style="text-align: left;"> stop jobs</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+condor_rmdir">condor_rmdir</a></code> </td><td style="text-align: left;"> remove directories
</td>
</tr>

</table>

<p><em>Utilities:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+condor_log">condor_log</a></code>         </td><td style="text-align: left;"> show log file</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+summary.condor_log">summary.condor_log</a></code> </td><td style="text-align: left;"> show log file summary</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+ssh_exec_stdout">ssh_exec_stdout</a></code>    </td><td style="text-align: left;"> execute command
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Arni Magnusson and Nan Yao, with contributions by Jemery Day and Thomas
Teears.
</p>


<h3>References</h3>

<p><a href="https://github.com/PacificCommunity/ofp-sam-condor">https://github.com/PacificCommunity/ofp-sam-condor</a>
</p>
<p><a href="https://htcondor.org">https://htcondor.org</a>
</p>


<h3>See Also</h3>

<p><span class="pkg">condor</span> uses the <span class="pkg">ssh</span> package to connect to the Condor submitter
machine.
</p>

<hr>
<h2 id='condor_dir'>Condor Directories</h2><span id='topic+condor_dir'></span>

<h3>Description</h3>

<p>List Condor run directories, either on submitter machine or on a local drive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condor_dir(top.dir = "condor", local.dir = NULL, pattern = "*",
  report = TRUE, sort = "job.id", session = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condor_dir_+3A_top.dir">top.dir</code></td>
<td>
<p>top directory on submitter machine that contains Condor run
directories.</p>
</td></tr>
<tr><td><code id="condor_dir_+3A_local.dir">local.dir</code></td>
<td>
<p>local directory to examine instead of <code>top.dir</code>.</p>
</td></tr>
<tr><td><code id="condor_dir_+3A_pattern">pattern</code></td>
<td>
<p>regular expression identifying which run directories to show.
The default is to show all directories inside <code>top.dir</code> or
<code>local.dir</code>.</p>
</td></tr>
<tr><td><code id="condor_dir_+3A_report">report</code></td>
<td>
<p>whether to return a detailed report of the run status in each
directory.</p>
</td></tr>
<tr><td><code id="condor_dir_+3A_sort">sort</code></td>
<td>
<p>column name or column number used to sort the report data frame.</p>
</td></tr>
<tr><td><code id="condor_dir_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
<tr><td><code id="condor_dir_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="base.html#topic+grep">grep</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the user passes <code>top.dir</code> that resembles a Windows local directory
(drive letter, colon, forward slash), it is automatically interpreted as a
<code>local.dir</code>. In other words, <code>condor_dir("c:/myruns")</code> and
<code>condor_dir(local.dir="c:/myruns")</code> are equivalent.
</p>
<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>A data frame containing details about each directory, or if
<code>report = FALSE</code> a <code>character</code> vector of directory names.
</p>


<h3>Note</h3>

<p>If there are many Condor run directories, the report generation can take
substantial time (one SSH execution per run directory). To quickly return a
vector of directory names, pass <code>report = FALSE</code>.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor_submit">condor_submit</a></code>, <code><a href="#topic+condor_q">condor_q</a></code>,
<code><a href="#topic+condor_dir">condor_dir</a></code>, and <code>condor_download</code> provide the main Condor
interface.
</p>
<p><code><a href="#topic+condor_rm">condor_rm</a></code> stops Condor jobs and <code><a href="#topic+condor_rmdir">condor_rmdir</a></code>
removes directories on the submitter machine.
</p>
<p><code><a href="#topic+condor_log">condor_log</a></code> and <code><a href="#topic+summary.condor_log">summary.condor_log</a></code> are called to
produce the detailed report if <code>report = TRUE</code>.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# General workflow
session &lt;- ssh_connect("servername")

condor_submit()
condor_q()
condor_dir()
condor_download()  # after job has finished

# Alternatively, examine runs on local drive
condor_dir(local.dir="myruns")
condor_dir("c:/myruns")

## End(Not run)

</code></pre>

<hr>
<h2 id='condor_download'>Condor Download</h2><span id='topic+condor_download'></span>

<h3>Description</h3>

<p>Download results from a Condor job.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condor_download(run.dir = NULL, local.dir = ".", top.dir = "condor",
  create.dir = FALSE, pattern = "End.tar.gz|condor.*(err|log|out)$",
  overwrite = FALSE, untar.end = TRUE, session = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condor_download_+3A_run.dir">run.dir</code></td>
<td>
<p>name of a Condor run directory inside <code>top.dir</code>.</p>
</td></tr>
<tr><td><code id="condor_download_+3A_local.dir">local.dir</code></td>
<td>
<p>local directory to download to.</p>
</td></tr>
<tr><td><code id="condor_download_+3A_top.dir">top.dir</code></td>
<td>
<p>top directory on submitter machine that contains Condor run
directories.</p>
</td></tr>
<tr><td><code id="condor_download_+3A_create.dir">create.dir</code></td>
<td>
<p>whether to create <code>local.dir</code> if it does not exist.</p>
</td></tr>
<tr><td><code id="condor_download_+3A_pattern">pattern</code></td>
<td>
<p>regular expression identifying which result files to download.
Passing <code>pattern="*"</code> will download all files.</p>
</td></tr>
<tr><td><code id="condor_download_+3A_overwrite">overwrite</code></td>
<td>
<p>whether to overwrite local files if they already exist.</p>
</td></tr>
<tr><td><code id="condor_download_+3A_untar.end">untar.end</code></td>
<td>
<p>whether to extract <code>End.tar.gz</code> into
<em>local.dir</em> after downloading. (Ignored if a file named
&lsquo;<span class="file">End.tar.gz</span>&rsquo; was not downloaded.)</p>
</td></tr>
<tr><td><code id="condor_download_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value of <code>run.dir = NULL</code> looks for Condor job results in
<em>top.dir</em><code>/</code><em>local.dir</em>. For example, if
<code>local.dir = "c:/yft/run01"</code> then the default <code>run.dir</code> becomes
<code>"condor/run01"</code>.
</p>
<p>The default value of <code>pattern="End.tar.gz|condor.*(err|log|out)$"</code>
downloads <code>End.tar.gz</code> and Condor log files. For many analyses, it can
be convenient to pack all results into End.tar.gz to make it easy to find,
download, and manage output files.
</p>
<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor_submit">condor_submit</a></code>, <code><a href="#topic+condor_q">condor_q</a></code>,
<code><a href="#topic+condor_dir">condor_dir</a></code>, and <code>condor_download</code> provide the main Condor
interface.
</p>
<p><code><a href="#topic+condor_rm">condor_rm</a></code> stops Condor jobs and <code><a href="#topic+condor_rmdir">condor_rmdir</a></code>
removes directories on the submitter machine.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# General workflow
session &lt;- ssh_connect("servername")

condor_submit()
condor_q()
condor_dir()
condor_download()  # after job has finished

# Alternatively, download specific run to specific folder
condor_download("01_this_model", "c:/myruns/01_this_model")

## End(Not run)

</code></pre>

<hr>
<h2 id='condor_log'>Condor Log</h2><span id='topic+condor_log'></span>

<h3>Description</h3>

<p>Show Condor log file from a run directory, either on submitter machine or on
a local drive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condor_log(run.dir = ".", top.dir = "condor", local.dir = NULL,
  session = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condor_log_+3A_run.dir">run.dir</code></td>
<td>
<p>name of a Condor run directory inside <code>top.dir</code>.</p>
</td></tr>
<tr><td><code id="condor_log_+3A_top.dir">top.dir</code></td>
<td>
<p>top directory on submitter machine that contains Condor run
directories.</p>
</td></tr>
<tr><td><code id="condor_log_+3A_local.dir">local.dir</code></td>
<td>
<p>local directory to examine instead of
<em>top.dir</em><code>/</code><em>run.dir</em>.</p>
</td></tr>
<tr><td><code id="condor_log_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>Log file contents as an object of class <code>condor_log</code>.
</p>
<p>The <code>condor_log</code> class is simply a <code>"character"</code> vector with a
<code>print.condor_log</code> method.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.condor_log">summary.condor_log</a></code> shows Condor log file summary.
</p>
<p><code><a href="#topic+condor_dir">condor_dir</a></code> lists Condor directories.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Examine log files on submitter machine
session &lt;- ssh_connect("servername")

condor_dir()
condor_log()
summary(condor_log())

# Alternatively, examine log file on local drive
condor_dir(local.dir="c:/myruns")
condor_log(local.dir="c:/myruns/01_this_model")
summary(condor_log(local.dir="c:/myruns/01_this_model"))

## End(Not run)

</code></pre>

<hr>
<h2 id='condor_q'>Condor Queue</h2><span id='topic+condor_q'></span><span id='topic+condor_qq'></span>

<h3>Description</h3>

<p>List the Condor job queue.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condor_q(all = FALSE, count = FALSE, global = FALSE, user = "",
  session = NULL)

condor_qq(all = TRUE, count = TRUE, global = TRUE, user = "",
  session = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condor_q_+3A_all">all</code></td>
<td>
<p>whether to list jobs from all users.</p>
</td></tr>
<tr><td><code id="condor_q_+3A_count">count</code></td>
<td>
<p>whether to only show the number of jobs.</p>
</td></tr>
<tr><td><code id="condor_q_+3A_global">global</code></td>
<td>
<p>whether to list jobs submitted from all submitter machines.</p>
</td></tr>
<tr><td><code id="condor_q_+3A_user">user</code></td>
<td>
<p>username to list jobs submitted by a given user.</p>
</td></tr>
<tr><td><code id="condor_q_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>Screen output from the <code>condor_q</code> shell command, or a table if
<code>count = TRUE</code>.
</p>


<h3>Note</h3>

<p>The <code>condor_q</code> R function has the same defaults as the
<code>condor_q</code> shell command, listing only jobs that were submitted by
the current user from the current submitter machine.
</p>
<p>The <code>condor_qq</code> alternative is the same function but with different
default argument values, convenient for a <em>quick</em> overview of the
<em>queue</em>.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor_submit">condor_submit</a></code>, <code><a href="#topic+condor_q">condor_q</a></code>,
<code><a href="#topic+condor_dir">condor_dir</a></code>, and <code>condor_download</code> provide the main Condor
interface.
</p>
<p><code><a href="#topic+condor_rm">condor_rm</a></code> stops Condor jobs and <code><a href="#topic+condor_rmdir">condor_rmdir</a></code>
removes directories on the submitter machine.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# General workflow
session &lt;- ssh_connect("servername")

condor_submit()
condor_q()
condor_dir()
condor_download()  # after job has finished

# Alternatively, list number of jobs being run by each user
condor_q(all=TRUE, count=TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='condor_rm'>Condor Remove</h2><span id='topic+condor_rm'></span>

<h3>Description</h3>

<p>Stop Condor jobs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condor_rm(job.id = NULL, all = FALSE, top.dir = "condor",
  session = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condor_rm_+3A_job.id">job.id</code></td>
<td>
<p>a vector of integers or directory names, indicating Condor jobs
to stop.</p>
</td></tr>
<tr><td><code id="condor_rm_+3A_all">all</code></td>
<td>
<p>whether to stop all Condor jobs owned by user.</p>
</td></tr>
<tr><td><code id="condor_rm_+3A_top.dir">top.dir</code></td>
<td>
<p>top directory on submitter machine that contains Condor run
directories.</p>
</td></tr>
<tr><td><code id="condor_rm_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>top.dir</code> argument only has an effect when <code>job.id</code> is a vector
of directory names. For example, <code>condor_rm("01_this")</code> will stop the
Condor job corresponding to directory <code>condor/01_this</code> on the submitter
machine.
</p>
<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Author(s)</h3>

<p>Nan Yao and Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor_submit">condor_submit</a></code>, <code><a href="#topic+condor_q">condor_q</a></code>,
<code><a href="#topic+condor_dir">condor_dir</a></code>, and <code>condor_download</code> provide the main Condor
interface.
</p>
<p><code><a href="#topic+condor_rm">condor_rm</a></code> stops Condor jobs and <code><a href="#topic+condor_rmdir">condor_rmdir</a></code>
removes directories on the submitter machine.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# General workflow
session &lt;- ssh_connect("servername")

condor_submit()
condor_q()
condor_dir()
condor_download()  # after job has finished

# Stop one or multiple jobs
condor_rm(123456)                   # stop one job (integer)
condor_rm(c(123456, 123789))        # stop two jobs (integers)
condor_rm("01_this")                # stop one job (dirname)
condor_rm(c("01_this", "02_that"))  # stop two jobs (dirnames)
condor_rm(all=TRUE)                 # stop all jobs

## End(Not run)

</code></pre>

<hr>
<h2 id='condor_rmdir'>Condor Remove Directory</h2><span id='topic+condor_rmdir'></span>

<h3>Description</h3>

<p>Remove directories on the submitter machine.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condor_rmdir(run.dir, top.dir = "condor", quiet = FALSE, session = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condor_rmdir_+3A_run.dir">run.dir</code></td>
<td>
<p>name of a Condor run directory inside <code>top.dir</code>.</p>
</td></tr>
<tr><td><code id="condor_rmdir_+3A_top.dir">top.dir</code></td>
<td>
<p>top directory on submitter machine that contains Condor run
directories.</p>
</td></tr>
<tr><td><code id="condor_rmdir_+3A_quiet">quiet</code></td>
<td>
<p>whether to suppress messages.</p>
</td></tr>
<tr><td><code id="condor_rmdir_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor_submit">condor_submit</a></code>, <code><a href="#topic+condor_q">condor_q</a></code>,
<code><a href="#topic+condor_dir">condor_dir</a></code>, and <code>condor_download</code> provide the main Condor
interface.
</p>
<p><code><a href="#topic+condor_rm">condor_rm</a></code> stops Condor jobs and <code><a href="#topic+condor_rmdir">condor_rmdir</a></code>
removes directories on the submitter machine.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# General workflow
session &lt;- ssh_connect("servername")

condor_submit()
condor_q()
condor_dir()
condor_download()  # after job has finished

# Remove one or more directories
condor_rmdir("01_this")                 # remove ~/condor/01_this (one run)
condor_rmdir(c("01_this", "02_that"))   # remove two model runs inside condor
condor_rmdir("test_runs", top.dir=".")  # remove ~/my_runs (many subdirs)

## End(Not run)

</code></pre>

<hr>
<h2 id='condor_submit'>Condor Submit</h2><span id='topic+condor_submit'></span>

<h3>Description</h3>

<p>Submit a Condor job.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condor_submit(local.dir = ".", run.dir = NULL, top.dir = "condor",
  exclude = "condor_mfcl|tar.gz|End", session = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condor_submit_+3A_local.dir">local.dir</code></td>
<td>
<p>local directory containing a Condor <code>*.sub</code> file and
any other files necessary to run the job.</p>
</td></tr>
<tr><td><code id="condor_submit_+3A_run.dir">run.dir</code></td>
<td>
<p>name of a Condor run directory to create inside
<code>top.dir</code>.</p>
</td></tr>
<tr><td><code id="condor_submit_+3A_top.dir">top.dir</code></td>
<td>
<p>top directory on submitter machine that contains Condor run
directories.</p>
</td></tr>
<tr><td><code id="condor_submit_+3A_exclude">exclude</code></td>
<td>
<p>pattern identifying files in <code>local.dir</code> that should not
be submitted to Condor.</p>
</td></tr>
<tr><td><code id="condor_submit_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value of <code>run.dir = NULL</code> runs the Condor job in
<em>top.dir</em><code>/</code><em>local.dir</em>. For example, if
<code>local.dir = "c:/yft/run01"</code> then the default <code>run.dir</code> becomes
<code>"condor/run01"</code>.
</p>
<p>It can be practical to organize Condor runs inside the default
<code>top.dir = "condor"</code> directory, to keep Condor runs separate from other
directories inside the user home. To organize Condor runs directly in the
home folder on the submitter machine, pass <code>top.dir = ""</code>.
</p>
<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>Remote directory name with the job id as a name attribute.
</p>


<h3>Note</h3>

<p>This function performs two core tasks: (1) upload files from <code>local.dir</code>
to submitter machine, and (2) execute shell command <code>condor_submit</code>
on submitter machine to launch the Condor job.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor_submit">condor_submit</a></code>, <code><a href="#topic+condor_q">condor_q</a></code>,
<code><a href="#topic+condor_dir">condor_dir</a></code>, and <code>condor_download</code> provide the main Condor
interface.
</p>
<p><code><a href="#topic+condor_rm">condor_rm</a></code> stops Condor jobs and <code><a href="#topic+condor_rmdir">condor_rmdir</a></code>
removes directories on the submitter machine.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# General workflow
session &lt;- ssh_connect("servername")

condor_submit()
condor_q()
condor_dir()
condor_download()  # after job has finished

# Alternatively, submit a specific run
condor_submit("c:/myruns/01_this_model")

## End(Not run)

</code></pre>

<hr>
<h2 id='condor-internal'>Various Condor Helper Functions</h2><span id='topic+condor-internal'></span><span id='topic+print.condor_log'></span>

<h3>Description</h3>

<p>These functions are called by user-level functions. The functionality is
documented in the user-level functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'condor_log'
print(x, ...)
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>

<hr>
<h2 id='ssh_exec_stdout'>Execute and Capture Standard Output</h2><span id='topic+ssh_exec_stdout'></span>

<h3>Description</h3>

<p>Call <code>ssh_exec_internal</code> and convert the standard output to characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ssh_exec_stdout(command, session = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ssh_exec_stdout_+3A_command">command</code></td>
<td>
<p>command or script to execute.</p>
</td></tr>
<tr><td><code id="ssh_exec_stdout_+3A_session">session</code></td>
<td>
<p>optional object of class <code>ssh_connect</code>.</p>
</td></tr>
<tr><td><code id="ssh_exec_stdout_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="ssh.html#topic+ssh_exec_internal">ssh_exec_internal</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value of <code>session = NULL</code> looks for a <code>session</code> object
in the user workspace. This allows the user to run Condor functions without
explicitly specifying the <code>session</code>.
</p>


<h3>Value</h3>

<p>A <code>"character"</code> vector containing the standard output.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="ssh.html#topic+ssh_exec_wait">ssh_exec_wait</a></code> runs a command or script and shows the
standard output in the R console, while returning the exit status.
</p>
<p><code><a href="ssh.html#topic+ssh_exec_internal">ssh_exec_internal</a></code> runs a command or script and buffers the
standard output into a raw vector.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
session &lt;- ssh_connect("servername")

ssh_exec_wait(session, "ls")             # returns 0
ssh_exec_internal(session, "ls")$stdout  # returns a raw vector
ssh_exec_stdout("ls")                    # returns directory names

## End(Not run)

</code></pre>

<hr>
<h2 id='summary.condor_log'>Summary Condor Log</h2><span id='topic+summary.condor_log'></span>

<h3>Description</h3>

<p>Produce a summary of a Condor log file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'condor_log'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.condor_log_+3A_object">object</code></td>
<td>
<p>an object of class <code><a href="#topic+condor_log">condor_log</a></code>.</p>
</td></tr>
<tr><td><code id="summary.condor_log_+3A_...">...</code></td>
<td>
<p>passed to <code>round</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with the following columns:
</p>
<table>
<tr><td><code>job.id</code></td>
<td>
<p>job id.</p>
</td></tr>
<tr><td><code>status</code></td>
<td>
<p>text indicating whether job status is submitted, executing,
aborted, or finished.</p>
</td></tr>
<tr><td><code>submit.time</code></td>
<td>
<p>date and time when job was submitted.</p>
</td></tr>
<tr><td><code>runtime</code></td>
<td>
<p>total duration of a job.</p>
</td></tr>
<tr><td><code>disk</code></td>
<td>
<p>disk space used by job (MB).</p>
</td></tr>
<tr><td><code>memory</code></td>
<td>
<p>memory used by job (MB).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Arni Magnusson.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condor_log">condor_log</a></code> shows Condor log file.
</p>
<p><code><a href="#topic+condor-package">condor-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Examine log files on submitter machine
session &lt;- ssh_connect("servername")

condor_dir()
condor_log()
summary(condor_log())

#' # Alternatively, examine log files on local drive
condor_dir(local.dir="c:/myruns")
condor_log(local.dir="c:/myruns/01_this_model")
summary(condor_log(local.dir="c:/myruns/01_this_model"))

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package vennplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {vennplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sharks'><p>Data on human encounters with great white sharks.</p></a></li>
<li><a href='#vennplot'><p>Draw Venn and Euler diagram in 2D or 3D</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Venn Diagrams in 2D and 3D</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-04-20</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate and plot Venn diagrams in 2D and 3D.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.7), stringr, rgl, stats, grDevices, graphics,
utils</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Author:</td>
<td>Zehao Xu [aut, cre],
  R. Wayne Oldford [aut],
  Martin Lysy [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zehao Xu &lt;z267xu@uwaterloo.ca&gt;</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-10-17 19:27:27 UTC; bigzi</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-10-17 20:54:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sharks'>Data on human encounters with great white sharks.</h2><span id='topic+sharks'></span>

<h3>Description</h3>

<p>Data on human encounters with great white sharks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sharks
</code></pre>


<h3>Format</h3>

<p>A dataset with 65 rows and 11 columns.
</p>

<dl>
<dt>Year</dt><dd><p>Years encounter sharks</p>
</dd>
<dt>Sex</dt><dd><p>Sex of victims</p>
</dd>
<dt>Age</dt><dd><p>Age of victims</p>
</dd>
<dt>Time</dt><dd><p>Encounter sharks in AM or PM</p>
</dd>
<dt>Australia</dt><dd><p>Encounter in Australia</p>
</dd>
<dt>USA</dt><dd><p>Encounter in the United States</p>
</dd>
<dt>Surfing</dt><dd><p>Surfing incident</p>
</dd>
<dt>Scuba</dt><dd><p>Scuba-diving incident</p>
</dd>
<dt>Fatality</dt><dd><p>Whether or not there was a fatality</p>
</dd>
<dt>Injury</dt><dd><p>Whether or not there was an injury</p>
</dd>
<dt>Length</dt><dd><p>The length of great white sharks</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sharkattackinfo.com/shark_attack_news_sas.html">http://sharkattackinfo.com/shark_attack_news_sas.html</a>.  Data collected by Professor Pierre-Jerome Bergeron, University of Ottawa.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vennplot(disjoint.combinations = sharks, vars = c("Au","USA","Fa","Ti"))
</code></pre>

<hr>
<h2 id='vennplot'>Draw Venn and Euler diagram in 2D or 3D</h2><span id='topic+vennplot'></span>

<h3>Description</h3>

<p>Draw Venn and Euler diagram in 2D or 3D
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vennplot(disjoint.combinations = NULL, vars = NULL, Delta = 0.1,
  ThreeD = FALSE, lambda = NULL, stressWay = c("sum", "combine"),
  delta = 0.01, weight = NULL, expand = NULL, twoWayGenerate = FALSE,
  scaleSearch = c("NelderMead", "lineSearch", "goldenSectionSearch", "BFGS",
  "CG", "L-BFGS-B", "SANN", "Brent"), twoWaySearch = c("lineSearch",
  "NelderMead", "goldenSectionSearch", "BFGS", "CG", "L-BFGS-B", "SANN",
  "Brent"), scaleSeachTolerance = list(value = 1e-05, proportional = FALSE),
  distanceTolerance = list(value = 1e-05, proportional = FALSE),
  lossTolerance = list(ToleranceofLoss = 1e-10, maximumStep = 10, ALPHA =
  0.01, ToleranceofStepsize = 1e-05, proportional = FALSE),
  stressBound = 0.001, maximumStep = 50, planeSize = 50, lower = -Inf,
  upper = Inf, control = list(), hessian = FALSE, mar = rep(1, 4),
  cols = NULL, alpha = 0.3, smooth = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vennplot_+3A_disjoint.combinations">disjoint.combinations</code></td>
<td>
<p>Named numeric vector or data.frame where each column should be factor.  See Details.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_vars">vars</code></td>
<td>
<p>Extract specific variables of data.frame as <code>disjoint.combinations</code>. If <code>vars = NULL</code>, all the information of data.frame will be extracted.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_delta">Delta</code></td>
<td>
<p>The length of step for method &quot;lineSearch&quot; or the initial interval of test points for method &quot;NelderMead&quot;.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_threed">ThreeD</code></td>
<td>
<p>Draw Venn diagram in 3D. See Examples.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_lambda">lambda</code></td>
<td>
<p>It can be <code>NULL</code> or a numeric vector. If <code>lambda = NULL</code>, the loss function optimize lambda, else, based on the given lambda, loss function will calculate stress respectively then return the minimum one and corresponding lambdas.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_stressway">stressWay</code></td>
<td>
<p>If data set can be separated into a few groups, there will be two ways to express stress: one is to sum up all the stress (named &quot;sum&quot;; default), the other is to use total TSS divide by total RSS (named &quot;combine&quot;).</p>
</td></tr>
<tr><td><code id="vennplot_+3A_delta">delta</code></td>
<td>
<p>Closeness between groups.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_weight">weight</code></td>
<td>
<p>The weight of <code>disjoint.combinations</code>. It should have the same length with <code>disjoint.combinations</code>.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_expand">expand</code></td>
<td>
<p>If some balls should not intersect and the code fails to detect it. It is possible to be fixed manually but sacrificing stress.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_twowaygenerate">twoWayGenerate</code></td>
<td>
<p>Boolean factor, if false, any missing intersections are set as zero.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_scalesearch">scaleSearch</code></td>
<td>
<p>Provide multiple methods to optimize scale lambda. The default method is &quot;NelderMead&quot;. See Details.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_twowaysearch">twoWaySearch</code></td>
<td>
<p>If two way intersections are missing, multiple methods are available to generate two way intersections. The default method is &quot;lineSearch&quot;. See Details.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_scaleseachtolerance">scaleSeachTolerance</code></td>
<td>
<p>A list with tolerance value and boolean factor &quot; proportional&quot;. The loop of NelderMead and lineSearch in scaleSearch will end when the difference or  proportional difference matches the tolerance value.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_distancetolerance">distanceTolerance</code></td>
<td>
<p>A list with tolerance value and boolean factor &quot; proportional&quot;. The Newton method of finding distance will end when the difference or  proportional difference matches the tolerance value.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_losstolerance">lossTolerance</code></td>
<td>
<p>A list with ToleranceofLoss, maximumStep, ALPHA, ToleranceofStepsize and boolean factor &quot;proportional&quot;. If ALPHA is null, the step size will be searched through Newton method and it will stop when step reaches the maximum step or the difference matches ToleranceofStepsize; else step size will be fixed with ALPHA . The loss will end when the difference or proportional difference or the total loss value matches the &quot;ToleranceofLoss&quot;.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_stressbound">stressBound</code></td>
<td>
<p>The loop of method NelderMead will stop when stress is beyond the stressBound.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_maximumstep">maximumStep</code></td>
<td>
<p>The maximum searching step for method NelderMead and Newton method of calculating distance.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_planesize">planeSize</code></td>
<td>
<p>The plane size of calculating disjoint intersections numerically.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_lower">lower</code></td>
<td>
<p>The lower bound of the interval to be searched for the &quot;goldenSectionSearch&quot; and &quot;L-BFGS-B&quot;. See Details.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_upper">upper</code></td>
<td>
<p>The upper bound of the interval to be searched for the &quot;goldenSectionSearch&quot; and &quot;Brent&quot;. See Details.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_control">control</code></td>
<td>
<p>A list of control parameters. See Details</p>
</td></tr>
<tr><td><code id="vennplot_+3A_hessian">hessian</code></td>
<td>
<p>Logical. A numerically differentiated Hessian matrix be returned or not. See Details.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_mar">mar</code></td>
<td>
<p>Plot margins.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_cols">cols</code></td>
<td>
<p>Color of balls. If <code>NULL</code>, rainbow color will be set.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_alpha">alpha</code></td>
<td>
<p>Color darkness.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_smooth">smooth</code></td>
<td>
<p>For 3D plot, if true, the balls will be much more smoother. However, based on the high resolution, if the number of balls is too much, when rotating, the new window stumbles.</p>
</td></tr>
<tr><td><code id="vennplot_+3A_...">...</code></td>
<td>
<p>Any further graphical parameters to be passed to the <code>plot</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1. One way sets must be given in <code>disjoint.combination</code>. e.g.<code>disjoint.combination = c( B=2, AB=0.5)</code> is not allowed.  <code>disjoint.combination = c(A = 0, B=2, AB=0.5)</code> works.
2. Except &quot;NelderMead&quot; and &quot;lineSearch&quot;, &quot;goldenSectionSearch&quot; in <code>scaleSearch</code> and <code>twoWaySearch</code> is based on <code><a href="stats.html#topic+optimize">optimize</a></code> and the rest methods are based on <code><a href="stats.html#topic+optim">optim</a></code>.
3. <code>lower</code>, <code>upper</code>, <code>control</code> and <code>hessian</code> share the same parameters with <code><a href="stats.html#topic+optim">optim</a></code>, and <code>lower</code>, <code>upper</code> can also be used in <code><a href="stats.html#topic+optimize">optimize</a></code>
</p>


<h3>Value</h3>

<p>An object of the class <code>vennplot</code> with following components:
</p>

<dl>
<dt>xy</dt><dd><p>centres of the balls (columns are (<code>x</code>, <code>y</code>) or (<code>x</code>, <code>y</code>, <code>z</code>) coordinates).</p>
</dd>
<dt>radius</dt><dd><p>radii of the balls.</p>
</dd>
<dt>loss</dt><dd><p>total loss of <code>vennplot</code>.</p>
</dd>
<dt>stress</dt><dd><p>stress value for solution.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Zehao Xu and Wayne Oldford
</p>


<h3>Examples</h3>

<pre><code class='language-R'># 3D Venn plot with arbitray sets
disjoint.combinations = c(A=80, B=50,C=100, D = 100,E = 100,
                          "A&amp;C"=30, "A&amp;D"= 30,"B&amp;E" = 30, "A&amp;E" = 40, h = 40, "B&amp;h" = 10)
ve = vennplot(disjoint.combinations, ThreeD = TRUE)

# data frame
vennplot(disjoint.combinations = sharks, vars = c("Au","USA","Fa","Sex"),
         scaleSearch = "lineSearch", expand = 1.1)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

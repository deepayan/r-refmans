<!DOCTYPE html><html><head><title>Help for package MplusAutomation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MplusAutomation}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.cleanHashData'><p>Clean data and calculate the md5 hash</p></a></li>
<li><a href='#.convertData'><p>Convert a matrix or data frame to numeric or integer for Mplus</p></a></li>
<li><a href='#.mplusMultinomial'><p>Internal Function for Multinomial Regression in Mplus</p></a></li>
<li><a href='#addNode'><p>Add a node to a GRAPHVIZ model</p></a></li>
<li><a href='#cd'><p>Change directory</p></a></li>
<li><a href='#classifyTags'><p>Classifies Tags</p></a></li>
<li><a href='#clipString'><p>Clip String</p></a></li>
<li><a href='#coef.mplus.model'><p>Return coefficients for an mplus.model object</p></a></li>
<li><a href='#compareModels'><p>Compare the output of two Mplus models</p></a></li>
<li><a href='#confint.mplus.model'><p>Return confidence intervals for an mplus.model object</p></a></li>
<li><a href='#connectNodes'><p>Connect two nodes</p></a></li>
<li><a href='#createMixtures'><p>Create syntax for a batch of mixture models</p></a></li>
<li><a href='#createModels'><p>Create Mplus Input Files from Template</p></a></li>
<li><a href='#createSyntax'><p>Create the Mplus input text for an mplusObject</p></a></li>
<li><a href='#createVarSyntax'><p>Create Mplus syntax for variable names</p></a></li>
<li><a href='#detectColumnNames'><p>Detect Column Names</p></a></li>
<li><a href='#detectMplus'><p>Detect the location/name of the Mplus command</p></a></li>
<li><a href='#detectVariables'><p>Automatically detect variables from an Mplus model object</p></a></li>
<li><a href='#divideIntoFields'><p>Divide text into fields</p></a></li>
<li><a href='#evaluateConditional'><p>Evaluate Conditional</p></a></li>
<li><a href='#extract'><p>Extract function to make Mplus output work with the <span class="pkg">texreg</span> package</p></a></li>
<li><a href='#extractAux'><p>Extract Auxiliary condition means and comparisons.</p></a></li>
<li><a href='#extractClassCounts'><p>Extract Latent Class Counts</p></a></li>
<li><a href='#extractDataSummary'><p>Function to extract the SUMMARY OF DATA section from Mplus outputs</p></a></li>
<li><a href='#extractEFAparameters'><p>Extract the model parameters from an EFA Mplus model output</p></a></li>
<li><a href='#extractFacScoreStats'><p>Extract Factor Score Statistics</p></a></li>
<li><a href='#extractFreeFile'><p>Extract free file output</p></a></li>
<li><a href='#extractIndirect'><p>Extract Indirect Effects output</p></a></li>
<li><a href='#extractIndirect_section'><p>Extract Indirect Effects output</p></a></li>
<li><a href='#extractInput_1file'><p>Extract and parse Mplus input file</p></a></li>
<li><a href='#extractModelParameters'><p>Extract model parameters from MODEL RESULTS section.</p></a></li>
<li><a href='#extractModelSummaries'><p>Extract summary statistics from a single output file or from a group of Mplus models within a directory</p></a></li>
<li><a href='#extractModIndices'><p>Extract model modification indices.</p></a></li>
<li><a href='#extractModIndices_1chunk'><p>Extract Modification Indices for One Chunk (Section)</p></a></li>
<li><a href='#extractModIndices_1file'><p>Extract Modification Indices for One File</p></a></li>
<li><a href='#extractParameters_1chunk'><p>Extract Parameters for One Chunk</p></a></li>
<li><a href='#extractParameters_1file'><p>Extract Parameters for One File</p></a></li>
<li><a href='#extractParameters_1section'><p>Extract Parameters for One Section</p></a></li>
<li><a href='#extractResiduals'><p>Extract residual matrices</p></a></li>
<li><a href='#extractResiduals_1section'><p>Helper subfunction to extract one section of OUTPUT: RESIDUALS</p>
Can be called multiple times, as in the case of invariance testing</a></li>
<li><a href='#extractSampstat'><p>Helper function to extract the sample statistics from Mplus output</p>
Depends on OUTPUT: SAMPSTAT</a></li>
<li><a href='#extractSummaries_1file'><p>Extract the summaries from one file</p></a></li>
<li><a href='#extractSummaries_1plan'><p>Worker function used in extractSummaries_1section</p></a></li>
<li><a href='#extractSummaries_1section'><p>Extract summary information for one section from Mplus output</p></a></li>
<li><a href='#extractTech1'><p>Extract Technical 1 matrix from Mplus</p></a></li>
<li><a href='#extractTech10'><p>Extract Technical 10 matrix from Mplus</p></a></li>
<li><a href='#extractTech12'><p>Extract Technical 12 from Mplus</p></a></li>
<li><a href='#extractTech15'><p>Extract Technical 15 from Mplus</p></a></li>
<li><a href='#extractTech3'><p>Extract Technical 3 matrix from Mplus</p></a></li>
<li><a href='#extractTech4'><p>Extract Technical 4 matrix from Mplus</p></a></li>
<li><a href='#extractTech7'><p>Extract Technical 7 from Mplus</p></a></li>
<li><a href='#extractTech8'><p>Extract Technical 8 from Mplus</p></a></li>
<li><a href='#extractTech9'><p>Extract Technical 9 matrix from Mplus</p></a></li>
<li><a href='#extractValue'><p>Extract values from Mplus output</p>
An internal function used by extractSummaries_1file to extract
parameters from the output file using regular expressions.</a></li>
<li><a href='#extractWarningsErrors_1file'><p>Extract warnings and errors from 1 mplus file</p></a></li>
<li><a href='#finalizeInitCollection'><p>Finalize Init Collection</p></a></li>
<li><a href='#friendlyGregexpr'><p>Friendly Regular Expression</p></a></li>
<li><a href='#get_efa_nfactors'><p>Small helper function to obtain number of factors for an EFA output section</p></a></li>
<li><a href='#get_results'><p>Extract Mplus results</p></a></li>
<li><a href='#getInitTags'><p>Get Initial Tags</p></a></li>
<li><a href='#getMultilineSection'><p>Extract a multiline section from Mplus output</p></a></li>
<li><a href='#getOutFileList'><p>Get Output File List</p></a></li>
<li><a href='#getSavedata_Bparams'><p>Load the draws from the Bayesian model posterior distribution (SAVEDATA BPARAMETERS) command into an R data.frame</p></a></li>
<li><a href='#getSavedata_Data'><p>Load an analysis dataset from the SAVEDATA command into an R data.frame</p></a></li>
<li><a href='#getSavedata_Fileinfo'><p>Read Variable Names, Formats, and Widths from data generated by the SAVEDATA Command</p></a></li>
<li><a href='#getSection'><p>Get an Output Section</p></a></li>
<li><a href='#graphModel'><p>Create a graphic model from Mplus</p></a></li>
<li><a href='#htmlout'><p>Read in Mplus Output File from HTML on the Mplus Website</p></a></li>
<li><a href='#HTMLSummaryTable'><p>Create an HTML file containing a summary table of Mplus model statistics</p></a></li>
<li><a href='#isEmpty'><p>Check whether a useable function argument was provided</p></a></li>
<li><a href='#l_getSavedata_Bparams'><p>Internal function to load the draws from the Bayesian model posterior distribution</p></a></li>
<li><a href='#l_getSavedata_Fileinfo'><p>local function that does the work of getSaveData_Fileinfo</p></a></li>
<li><a href='#l_getSavedata_readRawFile'><p>Internal function to load the draws from the Bayesian model posterior distribution</p></a></li>
<li><a href='#LatexSummaryTable'><p>Display summary table of Mplus model statistics in separate window</p></a></li>
<li><a href='#lcademo'><p>Latent Class Analysis Demonstration</p></a></li>
<li><a href='#long2LGMM'><p>Long data to wide latent growth mixture model</p></a></li>
<li><a href='#lookupSimpleTags'><p>Simple tag lookup</p></a></li>
<li><a href='#lookupTech1Parameter'><p>Lookup the matrix element for a give parameter number</p></a></li>
<li><a href='#lookupValue'><p>Lookup values</p></a></li>
<li><a href='#matrixExtract'><p>Reconstruct matrix from multi-line text output</p></a></li>
<li><a href='#mixtureSummaryTable'><p>Create a summary table of Mplus mixture models</p></a></li>
<li><a href='#mplus_as.numeric'><p>Convert Mplus Number to Numeric</p></a></li>
<li><a href='#mplus.traceplot'><p>Plot the samples for each MCMC chain as a function of iterations</p></a></li>
<li><a href='#MplusAutomation'><p>Automating Mplus Model Estimation and Interpretation</p></a></li>
<li><a href='#mplusAvailable'><p>Check whether Mplus can be found</p></a></li>
<li><a href='#mplusGLM'><p>Function to fit GLMs in Mplus</p></a></li>
<li><a href='#mplusModeler'><p>Create, run, and read Mplus models.</p></a></li>
<li><a href='#mplusObject'><p>Create an Mplus model object</p></a></li>
<li><a href='#mplusRcov'><p>Create Mplus code for various residual covariance structures.</p></a></li>
<li><a href='#OS'><p>Functions to identify the operating system</p></a></li>
<li><a href='#paramExtract'><p>Extract parameters from a data frame of Mplus estimates</p></a></li>
<li><a href='#parseCatOutput'><p>Parse Categorical Output</p></a></li>
<li><a href='#parseMplus'><p>Check Mplus code for missing semicolons or too long lines.</p></a></li>
<li><a href='#parseTags'><p>Parses tags in the body section</p></a></li>
<li><a href='#plot.mplusObject'><p>Plot coefficients for an mplusObject</p></a></li>
<li><a href='#plotGrowthMixtures'><p>Plot growth mixture models</p></a></li>
<li><a href='#plotLTA'><p>Plot latent transition model</p></a></li>
<li><a href='#plotMixtureDensities'><p>Create density plots for mixture models</p></a></li>
<li><a href='#plotMixtures'><p>Create latent profile plots</p></a></li>
<li><a href='#prepareMplusData'><p>Create tab-delimited file and Mplus input syntax from R data.frame</p></a></li>
<li><a href='#prepareMplusData_Mat'><p>Prepare Mplus Data Matrix</p></a></li>
<li><a href='#print.MplusRstructure'><p>Print an Mplus Residual Structure object</p></a></li>
<li><a href='#processConditionalTags'><p>Process Conditional Tags</p></a></li>
<li><a href='#processInit'><p>Process the Init Section</p></a></li>
<li><a href='#readModels'><p>Read Parameters, Summary Statistics, and Savedata from Mplus Output</p></a></li>
<li><a href='#recurseReplace'><p>Recursive replace</p></a></li>
<li><a href='#replaceBodyTags'><p>Replace Body Tags</p></a></li>
<li><a href='#replaceInitTags'><p>Replace Init Tags</p></a></li>
<li><a href='#rmVarWarnings'><p>Remove variable name length warnings from Mplus output file</p></a></li>
<li><a href='#runModels'><p>Run Mplus Models</p></a></li>
<li><a href='#runModels_Interactive'><p>Run Mplus Models Using Graphical Interface</p></a></li>
<li><a href='#separateHyphens'><p>Separate Hyphenated Variable Strings</p></a></li>
<li><a href='#showSummaryTable'><p>Display summary table of Mplus model statistics in separate window</p></a></li>
<li><a href='#splitDFByRow'><p>Split a data frame into a list by rows</p></a></li>
<li><a href='#splitFilePath'><p>Split File and Path into Separate Parts</p></a></li>
<li><a href='#subsetModelList'><p>Subset a list of Mplus model results</p></a></li>
<li><a href='#summary.mplusObject'><p>Summarize an mplusObject</p></a></li>
<li><a href='#SummaryTable'><p>Create a summary table of Mplus model statistics</p></a></li>
<li><a href='#testBParamCompoundConstraint'><p>Test inequality-constrained hypothesis for two or more parameters based on iterations of MCMC chains</p></a></li>
<li><a href='#testBParamConstraint'><p>Test inequality-constrained hypothesis for two parameters based on iterations of MCMC chains</p></a></li>
<li><a href='#trainLGMM'><p>Train a variety of latent growth mixture model</p></a></li>
<li><a href='#trimSpace'><p>Trim White Space</p></a></li>
<li><a href='#unlabeledMatrixExtract'><p>Reconstruct matrix from unlabeled multi-line text output</p></a></li>
<li><a href='#update.mplusObject'><p>Update an Mplus model object</p></a></li>
<li><a href='#updateCurrentValues'><p>Updates current values</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>An R Package for Facilitating Large-Scale Latent Variable
Analyses in Mplus</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-27</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Hallquist &lt;michael.hallquist@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Leverages the R language to automate latent variable model estimation
	and interpretation using 'Mplus', a powerful latent variable modeling program
	developed by Muthen and Muthen (<a href="https://www.statmodel.com">https://www.statmodel.com</a>). Specifically, this package
    provides routines for creating related groups of models, running batches of
    models, and extracting and tabulating model parameters and fit statistics.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://michaelhallquist.github.io/MplusAutomation/">https://michaelhallquist.github.io/MplusAutomation/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/michaelhallquist/MplusAutomation/issues">https://github.com/michaelhallquist/MplusAutomation/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, boot, plyr, gsubfn, coda, xtable, lattice, texreg,
pander, digest, parallel, ggplot2, data.table, fastDummies,
checkmate</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rhdf5, tcltk, relimp, knitr, testthat (&ge; 3.0.0), rmarkdown</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-30 23:08:03 UTC; hallquist</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Hallquist [aut, cre],
  Joshua Wiley [aut],
  Caspar van Lissa [ctb],
  Daniel Morillo [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-30 23:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.cleanHashData'>Clean data and calculate the md5 hash</h2><span id='topic+.cleanHashData'></span><span id='topic+.hashifyFile'></span>

<h3>Description</h3>

<p>Internal utility function, primarily for <code>prepareMplusData</code>.
</p>
<p>Internal utility function, primarily for <code>prepareMplusData</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.cleanHashData(df, keepCols = NULL, dropCols = NULL, imputed = FALSE)

.hashifyFile(filename, hash, useexisting = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".cleanHashData_+3A_df">df</code></td>
<td>
<p>The R data.frame to be prepared for Mplus</p>
</td></tr>
<tr><td><code id=".cleanHashData_+3A_keepcols">keepCols</code></td>
<td>
<p>A character vector specifying the variable names
within <code>df</code> to be output to <code>filename</code> or a numeric
vector of the column indices to be output or a logical vector
corresponding to the same.</p>
</td></tr>
<tr><td><code id=".cleanHashData_+3A_dropcols">dropCols</code></td>
<td>
<p>A character vector specifying the variable names
within <code>df</code> to be omitted from the data output to <code>filename</code>
or a numeric vector of the column indices not to be output
or a logical vector corresponding to the same.</p>
</td></tr>
<tr><td><code id=".cleanHashData_+3A_imputed">imputed</code></td>
<td>
<p>A logical whether data are multiply imputed.  Defaults
to <code>FALSE</code>.  If <code>TRUE</code>, the data should be a list,
where each element of the list is a multiply imputed dataset.</p>
</td></tr>
<tr><td><code id=".cleanHashData_+3A_filename">filename</code></td>
<td>
<p>A character vector containing the filename</p>
</td></tr>
<tr><td><code id=".cleanHashData_+3A_hash">hash</code></td>
<td>
<p>A character vector with the hash to use</p>
</td></tr>
<tr><td><code id=".cleanHashData_+3A_useexisting">useexisting</code></td>
<td>
<p>A logical whether to use an existing file name
if one is found containing the hash.  Defaults to <code>FALSE</code>
in which case the hash is added to the user specified filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the data and the md5 hash.
</p>
<p>A list of the filename (plus hash) and a logical value
whether a filename with the hash already existed or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## basic example
MplusAutomation:::.cleanHashData(mtcars)

## has changes when data changes
MplusAutomation:::.cleanHashData(mtcars[-15,])

## example on a list (e.g., for multiply imputed data)

MplusAutomation:::.cleanHashData(
 list(
   data.frame(a = 1:4),
   data.frame(a = c(2, 2, 3, 4))),
  imputed = TRUE)


## End(Not run)
MplusAutomation:::.hashifyFile("testit.dat", "abc")
</code></pre>

<hr>
<h2 id='.convertData'>Convert a matrix or data frame to numeric or integer for Mplus</h2><span id='topic+.convertData'></span>

<h3>Description</h3>

<p>Primarily an internal utility function, for <code>prepareMplusData</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.convertData(df, dummyCode = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".convertData_+3A_df">df</code></td>
<td>
<p>A matrix or data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An error if it cannot be converted or
a matrix or data frame with all variables converted to
numeric or integer classes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
df1 &lt;- df2 &lt;- df3 &lt;- df4 &lt;- mtcars

df2$cyl &lt;- factor(df2$cyl)
df2$am &lt;- as.logical(df2$am)

df3$mpg &lt;- as.character(df3$mpg)

df4$vs &lt;- as.Date(df4$vs, origin = "1989-01-01")

df5 &lt;- as.matrix(cars)

df6 &lt;- matrix(c(TRUE, TRUE, FALSE, FALSE), ncol = 2)

df7 &lt;- as.list(mtcars)


MplusAutomation:::.convertData(df1)

MplusAutomation:::.convertData(df2)

MplusAutomation:::.convertData(df3)

MplusAutomation:::.convertData(df4)

MplusAutomation:::.convertData(df5)

MplusAutomation:::.convertData(df6)

MplusAutomation:::.convertData(df7)

rm(df1, df2, df3, df4, df5, df6, df7)

## End(Not run)
</code></pre>

<hr>
<h2 id='.mplusMultinomial'>Internal Function for Multinomial Regression in Mplus</h2><span id='topic+.mplusMultinomial'></span>

<h3>Description</h3>

<p>Internal Function for Multinomial Regression in Mplus
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.mplusMultinomial(
  dv,
  iv,
  data,
  idvar = "",
  integration = 1000,
  processors = 2,
  OR = TRUE,
  pairwise = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".mplusMultinomial_+3A_dv">dv</code></td>
<td>
<p>A character string with the variable name for the
dependent (outcome) variable.</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_iv">iv</code></td>
<td>
<p>A character vector with the variable name(s) for the
independent (predictor/explanatory) variable(s).</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_data">data</code></td>
<td>
<p>A dataset.</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_idvar">idvar</code></td>
<td>
<p>Optional. A character string indicating the name
of the ID variable. Not currently used but may be used in future.</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_integration">integration</code></td>
<td>
<p>An integer indicating the number of Monte Carlo
integration points to use. Defaults to 1000.</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_processors">processors</code></td>
<td>
<p>An integer indicating the number of processors to
use. Passed to Mplus. Defaults to 2.</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_or">OR</code></td>
<td>
<p>A logical value whether odds ratios should be returned.
Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_pairwise">pairwise</code></td>
<td>
<p>A logical value indicating whether all pairwise
tests should be computed. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".mplusMultinomial_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>mplusModeler()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of results and Mplus model object.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

set.seed(1234)
tmpd &lt;- data.frame(
  x1 = rnorm(200),
  x2 = rnorm(200),
  x3 = cut(rnorm(200),
           breaks = c(-Inf, -.7, .7, Inf),
           labels = c("a", "b", "c")))
tmpd$y &lt;- cut(rnorm(200, sd = 2) + tmpd$x1 + tmpd$x2 + I(tmpd$x3 == "b"),
              breaks = c(-Inf, -.5, 1, Inf),
              labels = c("L", "M", "H"))

tmpres &lt;- MplusAutomation:::.mplusMultinomial(
  dv = "y",
  iv = c("x1", "x2"),
  data = tmpd,
  pairwise = TRUE)
tmpres2 &lt;- MplusAutomation:::.mplusMultinomial(
  dv = "y",
  iv = c("x1", "x2"),
  data = tmpd,
  pairwise = FALSE)
tmpres3 &lt;- MplusAutomation:::.mplusMultinomial(
  dv = "y",
  iv = c("x1@0", "x2@0"),
  data = tmpd,
  pairwise = FALSE)


## End(Not run)
</code></pre>

<hr>
<h2 id='addNode'>Add a node to a GRAPHVIZ model</h2><span id='topic+addNode'></span>

<h3>Description</h3>

<p>To do: add details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addNode(dotModel, name, role, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addNode_+3A_dotmodel">dotModel</code></td>
<td>
<p>Basic model</p>
</td></tr>
<tr><td><code id="addNode_+3A_name">name</code></td>
<td>
<p>name of model</p>
</td></tr>
<tr><td><code id="addNode_+3A_role">role</code></td>
<td>
<p>The role of a variable (can be multiple)</p>
</td></tr>
<tr><td><code id="addNode_+3A_type">type</code></td>
<td>
<p>The type of variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the dotModel with added node
</p>

<hr>
<h2 id='cd'>Change directory</h2><span id='topic+cd'></span>

<h3>Description</h3>

<p>The function takes a path and changes the current working directory
to the path. If the directory specified in the path does not
currently exist, it will be created.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cd(base, pre, num)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cd_+3A_base">base</code></td>
<td>
<p>a character string with the base path to the directory. This is required.</p>
</td></tr>
<tr><td><code id="cd_+3A_pre">pre</code></td>
<td>
<p>an optional character string with the prefix to add to
the base path. Non character strings will be coerced to character class.</p>
</td></tr>
<tr><td><code id="cd_+3A_num">num</code></td>
<td>
<p>an optional character string, prefixed by <code>pre</code>.
Non character strings will be coerced to character class.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function has been designed to be platform independent,
although it has had limited testing. Path creation is done using
<code>file.path</code>, the existence of the directory is checked using
<code>file.exists</code> and the directory created with <code>dir.create</code>.
Only the first argument, is required.  The other optional arguments
are handy when one wants to create many similar directories with a common base.
</p>


<h3>Value</h3>

<p>NULL, changes the current working directory
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# an example just using the base
cd("~/testdir")

# an example using the optional arguments
base &lt;- "~/testdir"
pre &lt;- "test_"

cd(base, pre, 1)
cd(base, pre, 2)

## End(Not run)
</code></pre>

<hr>
<h2 id='classifyTags'>Classifies Tags</h2><span id='topic+classifyTags'></span>

<h3>Description</h3>

<p>Accepts a vector of tags to be classified as well as the iterators.
Tags are classified as &lsquo;iterator&rsquo;, &lsquo;array&rsquo;, &lsquo;conditional&rsquo;, or
&lsquo;simple&rsquo;. This is an internal function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>classifyTags(tagVector, iteratorsVector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="classifyTags_+3A_tagvector">tagVector</code></td>
<td>
<p>A vector of tags to be classified</p>
</td></tr>
<tr><td><code id="classifyTags_+3A_iteratorsvector">iteratorsVector</code></td>
<td>
<p>a vector of the iterators to correctly classify tags</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector the same length as the vectors to be tagged
</p>

<hr>
<h2 id='clipString'>Clip String</h2><span id='topic+clipString'></span>

<h3>Description</h3>

<p>To do: add any details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clipString(string, start, end)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clipString_+3A_string">string</code></td>
<td>
<p>A string to be clipped</p>
</td></tr>
<tr><td><code id="clipString_+3A_start">start</code></td>
<td>
<p>The character position to start at</p>
</td></tr>
<tr><td><code id="clipString_+3A_end">end</code></td>
<td>
<p>The character position to end at</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string from start to end
</p>

<hr>
<h2 id='coef.mplus.model'>Return coefficients for an mplus.model object</h2><span id='topic+coef.mplus.model'></span><span id='topic+coef.mplusObject'></span>

<h3>Description</h3>

<p>This is a method for returning the coefficients of an mplus.model object.
It works directly on an object stored from <code>readModels</code> such as:
<code>object &lt;- readModels("/path/to/model/model.out")</code>.
</p>
<p>Method that calls <code>coef.mplus.model</code>.
See further documentation there.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mplus.model'
coef(
  object,
  type = c("un", "std", "stdy", "stdyx"),
  params = c("regression", "loading", "undirected", "expectation", "variability", "new"),
  ...,
  raw = FALSE
)

## S3 method for class 'mplusObject'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.mplus.model_+3A_object">object</code></td>
<td>
<p>An object of class mplusObject</p>
</td></tr>
<tr><td><code id="coef.mplus.model_+3A_type">type</code></td>
<td>
<p>A character vector indicating the type of coefficients to return.
One of &ldquo;un&rdquo;, &ldquo;std&rdquo;, &ldquo;stdy&rdquo;, or &ldquo;stdyx&rdquo;.</p>
</td></tr>
<tr><td><code id="coef.mplus.model_+3A_params">params</code></td>
<td>
<p>A character vector indicating what type of parameters to
extract.  Any combination of &ldquo;regression&rdquo;, &ldquo;loading&rdquo;,
&ldquo;undirected&rdquo;, &ldquo;expectation&rdquo;, &ldquo;variability&rdquo;, and
&ldquo;new&rdquo;.  A
single one can be passed or multiple.  By default, all are used and
all parameters are returned.</p>
</td></tr>
<tr><td><code id="coef.mplus.model_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass on (not currently used)</p>
</td></tr>
<tr><td><code id="coef.mplus.model_+3A_raw">raw</code></td>
<td>
<p>A logical defaulting to <code>FALSE</code> indicating whether to
parse and return coefficients based on the type (regression, etc.) and
relabel using an arrow notation, or to return the raw coefficients in a named
vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a data frame of class &lsquo;mplus.model.coefs&rsquo;, or in
the case of multiple group models, a list of class &lsquo;mplus.model.coefs&rsquo;,
where each element of the list is a data frame of class &lsquo;mplus.model.coefs&rsquo;,
or a named vector of coefficients, if <code>raw=TRUE</code>.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readModels">readModels</a></code>
</p>
<p>Other Mplus-Formatting: 
<code><a href="#topic+confint.mplus.model">confint.mplus.model</a>()</code>,
<code><a href="#topic+extract">extract</a>()</code>,
<code><a href="#topic+print.MplusRstructure">print.MplusRstructure</a>()</code>,
<code><a href="#topic+summary.mplusObject">summary.mplusObject</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# simple example of a model using builtin data
# demonstrates use
test &lt;- mplusObject(
  TITLE = "test the MplusAutomation Package;",
  MODEL = "
    mpg ON wt hp;
    wt WITH hp;",
  OUTPUT = "STANDARDIZED;",
  usevariables = c("mpg", "wt", "hp"),
  rdata = mtcars)

res &lt;- mplusModeler(test, "mtcars.dat", modelout = "model1.inp", run = 1L)

# example of the coef method on an mplud.model object
# note that res$results holds the results of readModels()
coef(res$results)
coef(res$results, type = "std")
coef(res$results, type = "stdy")
coef(res$results, type = "stdyx")

# there is also a method for mplusObject class
coef(res)

# remove files
unlink("mtcars.dat")
unlink("model1.inp")
unlink("model1.out")
unlink("Mplus Run Models.log")

## End(Not run)
</code></pre>

<hr>
<h2 id='compareModels'>Compare the output of two Mplus models</h2><span id='topic+compareModels'></span>

<h3>Description</h3>

<p>The <code>compareModels</code> function compares the output of two Mplus files and prints similarities and
differences in the model summary statistics and parameter estimates. Options are provided
for filtering out fixed parameters and nonsignificant parameters. When requested, <code>compareModels</code>
will compute the chi-square difference test for nested models (does not apply to MLMV, WLSM, and WLSMV
estimators, where DIFFTEST in Mplus is needed).
Model outputs to be compared can be full summaries and parameters (generated by <code>readModels</code>),
summary statistics only (<code>extractModelSummaries</code>), or parameters only (<code>extractModelParameters</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareModels(
  m1,
  m2,
  show = "all",
  equalityMargin = c(param = 1e-04, pvalue = 1e-04),
  compare = "unstandardized",
  sort = "none",
  showFixed = FALSE,
  showNS = TRUE,
  diffTest = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compareModels_+3A_m1">m1</code></td>
<td>
<p>The first Mplus model to be compared. Generated by <code>readModels</code>,
<code>extractModelSummaries</code>, or <code>extractModelParameters</code>.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_m2">m2</code></td>
<td>
<p>The second Mplus model to be compared.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_show">show</code></td>
<td>
<p>What aspects of the models should be compared. Options are
&quot;all&quot;, &quot;summaries&quot;, &quot;equal&quot;, &quot;diff&quot;, &quot;pdiff&quot;, and &quot;unique&quot;. See below for details.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_equalitymargin">equalityMargin</code></td>
<td>
<p>Defines the discrepancy between models that is considered equal.
Different margins can be specified for p-value equality
versus parameter equality. Defaults to .0001 for both.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_compare">compare</code></td>
<td>
<p>Which parameter estimates should be compared. Options are &quot;unstandardized&quot;, &quot;stdyx.standardized&quot;
&quot;stdy.standardized&quot;, and &quot;std.standardized&quot;.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_sort">sort</code></td>
<td>
<p>How to sort the output of parameter comparisons.
Options are &quot;none&quot;, &quot;type&quot;, &quot;alphabetical&quot;, and &quot;maxDiff&quot;. See below for details.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_showfixed">showFixed</code></td>
<td>
<p>Whether to display fixed parameters in the output (identified
where the est/se = 999.000, per Mplus convention). Default to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_showns">showNS</code></td>
<td>
<p>Whether to display non-significant parameter estimates. Can be
<code>TRUE</code> or <code>FALSE</code>, or a numeric value (e.g., .10) that defines
what p-value is filtered as non-significant.</p>
</td></tr>
<tr><td><code id="compareModels_+3A_difftest">diffTest</code></td>
<td>
<p>Whether to compute a chi-square difference test between the models.
Assumes that the models are nested. Not available for MLMV, WLSMV, and ULSMV estimators.
Use DIFFTEST in Mplus instead.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>show</code> parameter can be one or more of the following, which can be passed as a vector, such as c(&quot;equal&quot;, &quot;pdiff&quot;).
</p>

<dl>
<dt>show</dt><dd>

<dl>
<dt>&quot;all&quot;</dt><dd><p>Display all available model comparison. Equivalent to
c(&quot;summaries&quot;, &quot;equal&quot;, &quot;diff&quot;, &quot;pdiff&quot;, &quot;unique&quot;).</p>
</dd>
<dt>&quot;summaries&quot;</dt><dd><p>Print a comparison of model summary statistics. Compares the following summary
statistics (where available): c(&quot;Title&quot;, &quot;Observations&quot;, &quot;Estimator&quot;, &quot;Parameters&quot;, &quot;LL&quot;,
&quot;AIC&quot;, &quot;BIC&quot;, &quot;ChiSqM_Value&quot;, &quot;ChiSqM_DF&quot;, &quot;CFI&quot;, &quot;TLI&quot;, &quot;RMSEA&quot;, &quot;SRMR&quot;, &quot;WRMR&quot;)</p>
</dd>
<dt>&quot;allsummaries&quot;</dt><dd><p>Prints a comparison of all summary statistics available in each model. May
generate a lot of output.</p>
</dd>
<dt>&quot;equal&quot;</dt><dd><p>Print parameter estimates that are equal between models
(i.e., <code>&lt;= equalityMargin["param"]</code>)</p>
</dd></dl>
<p>.
</p>
<dl>
<dt>&quot;diff&quot;</dt><dd><p>Print parameter estimates that are different between models
(i.e., <code>&gt; equalityMargin["param"]</code>)</p>
</dd></dl>
<p>.
</p>
<dl>
<dt>&quot;pdiff&quot;</dt><dd><p>Print parameter estimates where the p-values differ between models
(i.e., <code>&gt; equalityMargin["pvalue"]</code>)</p>
</dd></dl>
<p>.
</p>
<dl>
<dt>&quot;unique&quot;</dt><dd><p>Print parameter estimates that are unique to each model.</p>
</dd>
</dl>

</dd>
</dl>

<p>The <code>sort</code> parameter determines the order in which parameter estimates are displayed. The following options are available:
</p>

<dl>
<dt>sort</dt><dd>

<dl>
<dt>&quot;none&quot;</dt><dd><p>No sorting is performed, so parameters are output in the order presented in Mplus. (Default)</p>
</dd>
<dt>&quot;type&quot;</dt><dd><p>Sort parameters by their role in the model. This groups output by regression coefficient (ON),
factor loadings (BY), covariances (WITH), and so on. Within each type, output is alphabetical.</p>
</dd>
<dt>&quot;alphabetical&quot;</dt><dd><p>Sort parameters in alphabetical order.</p>
</dd>
<dt>&quot;maxDiff&quot;</dt><dd><p>Sort parameter output by the largest differences between models (high to low).</p>
</dd>
</dl>

</dd>
</dl>



<h3>Value</h3>

<p>No value is returned by this function. It is used to print model differences to the R console.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# make me!!!
</code></pre>

<hr>
<h2 id='confint.mplus.model'>Return confidence intervals for an mplus.model object</h2><span id='topic+confint.mplus.model'></span><span id='topic+confint.mplusObject'></span>

<h3>Description</h3>

<p>This is a method for returning the confidence of an mplus.model object.
It works directly on an object stored from <code>readModels</code> such as:
<code>object &lt;- readModels("/path/to/model/model.out")</code>.
</p>
<p>Method that calls <code>confint.mplus.model</code>.
See further documentation there.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mplus.model'
confint(
  object,
  parm,
  level = 0.95,
  type = c("un", "std", "stdy", "stdyx"),
  params = c("regression", "loading", "undirected", "expectation", "variability", "new"),
  ...
)

## S3 method for class 'mplusObject'
confint(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confint.mplus.model_+3A_object">object</code></td>
<td>
<p>An object of class mplusObject</p>
</td></tr>
<tr><td><code id="confint.mplus.model_+3A_parm">parm</code></td>
<td>
<p>Included as all <code>confint()</code> methods must include it.  Not used
currently for Mplus.</p>
</td></tr>
<tr><td><code id="confint.mplus.model_+3A_level">level</code></td>
<td>
<p>A numeric vector indicating the level of confidence interval to extract.
Options are .95, .90, or .99 as those are all Mplus provides.</p>
</td></tr>
<tr><td><code id="confint.mplus.model_+3A_type">type</code></td>
<td>
<p>A character vector indicating the type of confidence intervals
to return. One of &ldquo;un&rdquo;, &ldquo;std&rdquo;, &ldquo;stdy&rdquo;, or &ldquo;stdyx&rdquo;.</p>
</td></tr>
<tr><td><code id="confint.mplus.model_+3A_params">params</code></td>
<td>
<p>A character vector indicating what type of parameters to
extract.  Any combination of &ldquo;regression&rdquo;, &ldquo;loading&rdquo;,
&ldquo;undirected&rdquo;, &ldquo;expectation&rdquo;, &ldquo;variability&rdquo;, and
&ldquo;new&rdquo;.  A single one can be passed or multiple.  By default, all
are used and all parameters are returned.</p>
</td></tr>
<tr><td><code id="confint.mplus.model_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass on (not currently used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of class &lsquo;mplus.model.cis&rsquo;, or in
the case of multiple group models, a list of class &lsquo;mplus.model.cis&rsquo;,
where each element of the list is a data frame of class &lsquo;mplus.model.cis&rsquo;.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readModels">readModels</a></code>
</p>
<p>Other Mplus-Formatting: 
<code><a href="#topic+coef.mplus.model">coef.mplus.model</a>()</code>,
<code><a href="#topic+extract">extract</a>()</code>,
<code><a href="#topic+print.MplusRstructure">print.MplusRstructure</a>()</code>,
<code><a href="#topic+summary.mplusObject">summary.mplusObject</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# simple example of a model using builtin data
# demonstrates use
test &lt;- mplusObject(
  TITLE = "test the MplusAutomation Package;",
  MODEL = "
    mpg ON wt hp;
    wt WITH hp;",
  OUTPUT = "STANDARDIZED; CINTERVAL;",
  usevariables = c("mpg", "wt", "hp"),
  rdata = mtcars)

res &lt;- mplusModeler(test, "mtcars.dat", modelout = "model1.inp", run = 1L)

# example of the confint method on an mplus.model object
# note that res$results holds the results of readModels()
confint(res$results)
confint(res$results, type = "std")
confint(res$results, type = "stdy")
confint(res$results, type = "stdyx", level = .99)

# there is also a method for mplusObject class
confint(res)
screenreg(res, cis = TRUE, single.row = TRUE)

# remove files
unlink("mtcars.dat")
unlink("model1.inp")
unlink("model1.out")
unlink("Mplus Run Models.log")

## End(Not run)
</code></pre>

<hr>
<h2 id='connectNodes'>Connect two nodes</h2><span id='topic+connectNodes'></span>

<h3>Description</h3>

<p>To do: add details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>connectNodes(dotModel, node1, node2, connectionType)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="connectNodes_+3A_dotmodel">dotModel</code></td>
<td>
<p>The basic model</p>
</td></tr>
<tr><td><code id="connectNodes_+3A_node1">node1</code></td>
<td>
<p>The starting node</p>
</td></tr>
<tr><td><code id="connectNodes_+3A_node2">node2</code></td>
<td>
<p>The ending node</p>
</td></tr>
<tr><td><code id="connectNodes_+3A_connectiontype">connectionType</code></td>
<td>
<p>The type of connection to add between nodes 1 and 2</p>
</td></tr>
</table>

<hr>
<h2 id='createMixtures'>Create syntax for a batch of mixture models</h2><span id='topic+createMixtures'></span>

<h3>Description</h3>

<p>Dynamically creates syntax for a batch of mixture models, with intelligent
defaults. This function is a wrapper around <code>mplusObject</code> and
<code>mplusModeler</code>, and the respective arguments of those functions can be
passed on using <code>...</code>. For instance, passing the argument
<code>run = 1L</code> means that the models will be evaluated and returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createMixtures(
  classes = 1L,
  filename_stem = NULL,
  model_overall = NULL,
  model_class_specific = NULL,
  rdata = NULL,
  usevariables = NULL,
  OUTPUT = "TECH11 TECH14;",
  SAVEDATA = "FILE IS {filename_stem}_{C}.dat;  SAVE = cprobabilities;",
  quiet = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createMixtures_+3A_classes">classes</code></td>
<td>
<p>A vector of integers, indicating which class solutions to
generate. Defaults to 1L. E.g., <code>classes = 1:6</code>,
<code>classes = c(1:4, 6:8)</code>.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_filename_stem">filename_stem</code></td>
<td>
<p>Character. A stem for the automatically generated filenames of
the syntax and data files.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_model_overall">model_overall</code></td>
<td>
<p>Character. Mplus syntax for the overall model (across
classes).</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_model_class_specific">model_class_specific</code></td>
<td>
<p>Character vector. Mplus syntax for the 
class-specific model(s) of one or more categorical latent variables. Each 
element of <code>model_class_specific</code> is used as the class-specific syntax
of a different categorical latent variable. This allows one to easily specify
latent transition analyses (see second example). The character string
&ldquo;{C}&rdquo; is substituted with the correct class number, for example to
set unique parameter labels for each class, or to specify equality
constraints.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_rdata">rdata</code></td>
<td>
<p>Data.frame. An R dataset to be used for the model.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_usevariables">usevariables</code></td>
<td>
<p>Character vector, specifying the names of variables in 
the rdata object which should be included in the Mplus data file and model.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_output">OUTPUT</code></td>
<td>
<p>Character. Syntax for Mplus' OUTPUT option. Highly
recommended when determining the appropriate number of latent classes. TECH11
is required to obtain the VLMR-test; TECH14 is required for the BLR-test.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_savedata">SAVEDATA</code></td>
<td>
<p>Character. Syntax for Mplus' savedata option. Highly
recommended when conducting mixture models. The default option will often be
adequate.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_quiet">quiet</code></td>
<td>
<p>optional. If <code>TRUE</code>, show status messages in the console.</p>
</td></tr>
<tr><td><code id="createMixtures_+3A_...">...</code></td>
<td>
<p>Additional arguments, passed to <a href="#topic+mplusObject">mplusObject</a>, such as syntax
for other Mplus options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the arguments <code>model_class_specific</code> and <code>SAVEDATA</code>, the
character string &ldquo;{C}&rdquo; is substituted with the correct class number.
The character string &ldquo;{filename_stem}&rdquo; is substituted with the
filename stem, for example, to name savedata in line with the input files.
</p>
<p>In all arguments to <code>mplusObject</code>, a double space (&ldquo;  &rdquo;) is
replaced with a newline character. This can be used to obtain nicely
formatted Mplus syntax.
</p>


<h3>Value</h3>

<p>None, unless the argument <code>run = 1L</code> is specified. In that case,
a list with elements of class <code>mplusObject</code> is returned. Otherwise, this
function is used for its side effects (generating syntax).
</p>


<h3>Author(s)</h3>

<p>Caspar J. van Lissa
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mplusObject">mplusObject</a></code>, <code><a href="#topic+mplusModeler">mplusModeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
createMixtures(classes = 1:3, filename_stem = "iris", rdata = iris)

## End(Not run)
## Not run: 
mydat &lt;- read.csv(
system.file("extdata", "ex8.13.csv", package = "MplusAutomation"))
createMixtures(
classes = 2,
filename_stem = "dating",
model_overall = "c2 ON c1;",
model_class_specific = c(
"[u11$1] (a{C});  [u12$1] (b{C});  [u13$1] (c{C});  [u14$1] (d{C});  [u15$1] (e{C});",
"[u21$1] (a{C});  [u22$1] (b{C});  [u23$1] (c{C});  [u24$1] (d{C});  [u25$1] (e{C});"
),
rdata = mydat,
ANALYSIS = "PROCESSORS IS 2;  LRTSTARTS (0 0 40 20);  PARAMETERIZATION = PROBABILITY;",
VARIABLE = "CATEGORICAL = u11-u15 u21-u25;"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='createModels'>Create Mplus Input Files from Template</h2><span id='topic+createModels'></span>

<h3>Description</h3>

<p>The <code>createModels</code> function processes a single Mplus template file and creates a group of related
model input files. Definitions and examples for the template language are provided in the MplusAutomation
vignette and are not duplicated here at the moment. See this documentation: <code>vignette("Vignette", package="MplusAutomation")</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createModels(templatefile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createModels_+3A_templatefile">templatefile</code></td>
<td>
<p>The filename (absolute or relative path) of an Mplus template file to be processed. Example &ldquo;C:/MplusTemplate.txt&rdquo;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned by this function. It is solely used to process an Mplus template file.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  createModels("L2 Multimodel Template No iter.txt")

## End(Not run)
</code></pre>

<hr>
<h2 id='createSyntax'>Create the Mplus input text for an mplusObject</h2><span id='topic+createSyntax'></span>

<h3>Description</h3>

<p>This function takes an object of class <code>mplusObject</code> and creates
the Mplus input text corresponding to it, including data link and
variable names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createSyntax(object, filename, check = TRUE, add = FALSE, imputed = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createSyntax_+3A_object">object</code></td>
<td>
<p>An object of class mplusObject</p>
</td></tr>
<tr><td><code id="createSyntax_+3A_filename">filename</code></td>
<td>
<p>The name of the data file as a character vector</p>
</td></tr>
<tr><td><code id="createSyntax_+3A_check">check</code></td>
<td>
<p>A logical indicating whether or not to run <code>parseMplus</code>
on the created input file. Checks for errors like lines that are too long,
or for missing semi-colons and gives notes.</p>
</td></tr>
<tr><td><code id="createSyntax_+3A_add">add</code></td>
<td>
<p>A logical passed on to <code>parseMplus</code> whether to add semi
colons to line ends. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="createSyntax_+3A_imputed">imputed</code></td>
<td>
<p>A logical whether the data are multiply imputed.
Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing all the text for the Mplus
input file.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prepareMplusData">prepareMplusData</a></code>, <code><a href="#topic+mplusModeler">mplusModeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example mplusObject
example1 &lt;- mplusObject(MODEL = "mpg ON wt;",
  usevariables = c("mpg", "hp"), rdata = mtcars)

# create the Mplus input text
cat(createSyntax(example1, "example1.dat"), file=stdout(), fill=TRUE)

# update the object, then create input text
cat(createSyntax(update(example1,
  TITLE = ~ "This is my title;",
  MODEL = ~ . + "\nmpg ON hp;",
  usevariables = c("mpg", "hp", "wt")), "example1.dat"),
  file=stdout(),
  fill=TRUE)
rm(example1)
</code></pre>

<hr>
<h2 id='createVarSyntax'>Create Mplus syntax for variable names</h2><span id='topic+createVarSyntax'></span>

<h3>Description</h3>

<p>This is a simple function designed to take a dataset in <code>R</code>
and translate it into a set of variable names for Mplus.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createVarSyntax(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createVarSyntax_+3A_data">data</code></td>
<td>
<p>An <code>R</code> dataset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the variable names for Mplus
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prepareMplusData">prepareMplusData</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>MplusAutomation:::createVarSyntax(mtcars)
</code></pre>

<hr>
<h2 id='detectColumnNames'>Detect Column Names</h2><span id='topic+detectColumnNames'></span>

<h3>Description</h3>

<p>Helper function to detect model results columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detectColumnNames(filename, modelSection, sectionType = "model_results")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detectColumnNames_+3A_filename">filename</code></td>
<td>
<p>The file name</p>
</td></tr>
<tr><td><code id="detectColumnNames_+3A_modelsection">modelSection</code></td>
<td>
<p>The model section</p>
</td></tr>
<tr><td><code id="detectColumnNames_+3A_sectiontype">sectionType</code></td>
<td>
<p>A character string.  Defaults to &ldquo;model_results&rdquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with elements for the directory, filename,
and absolute path.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='detectMplus'>Detect the location/name of the Mplus command</h2><span id='topic+detectMplus'></span>

<h3>Description</h3>

<p>This is an utility function to help detect the correct name/path to Mplus.
It tries hard across operating systems to find Mplus and if it cannot find
the full version of Mplus to find a demo version of Mplus.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detectMplus()
</code></pre>


<h3>Details</h3>

<p>It does not require any arguments.
</p>


<h3>Value</h3>

<p>A character string that is the Mplus command possibly the path to the mplus command or an error if it cannot be found.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## if you have Mplus installed, uncomment and run
## this will give an error if it cannot find Mplus.
## detectMplus()
</code></pre>

<hr>
<h2 id='detectVariables'>Automatically detect variables from an Mplus model object</h2><span id='topic+detectVariables'></span>

<h3>Description</h3>

<p>This is a function to automatically detect the variables used in an
Mplus model object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detectVariables(object, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detectVariables_+3A_object">object</code></td>
<td>
<p>An Mplus model object from <code>mplusObject</code>.#'</p>
</td></tr>
<tr><td><code id="detectVariables_+3A_quiet">quiet</code></td>
<td>
<p>optional. If <code>TRUE</code>, show status messages in the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of variables from the R dataset to use.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mplusModeler">mplusModeler</a></code>, <code><a href="#topic+mplusObject">mplusObject</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
example1 &lt;- mplusObject(MODEL = "mpg ON wt;",
  rdata = mtcars, autov = FALSE)
example1$usevariables
MplusAutomation:::detectVariables(example1)

example2 &lt;- mplusObject(MODEL = "mpg ON wt;",
  rdata = mtcars, autov = TRUE)
example2$usevariables
example3 &lt;- update(example2,
  MODEL = ~ . + "mpg ON qsec; wt WITH qsec;",
  autov = TRUE)
example3$usevariables
rm(example1, example2, example3)
</code></pre>

<hr>
<h2 id='divideIntoFields'>Divide text into fields</h2><span id='topic+divideIntoFields'></span>

<h3>Description</h3>

<p>Helper function to divide an input section into key-value pair list taken from mplus2lavaan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>divideIntoFields(section.text, required)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="divideIntoFields_+3A_section.text">section.text</code></td>
<td>
<p>The section text</p>
</td></tr>
<tr><td><code id="divideIntoFields_+3A_required">required</code></td>
<td>
<p>Required sections</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Divided sections
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='evaluateConditional'>Evaluate Conditional</h2><span id='topic+evaluateConditional'></span>

<h3>Description</h3>

<p>Note that at thie point the comparator must be a number (not another variable).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluateConditional(tag, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evaluateConditional_+3A_tag">tag</code></td>
<td>
<p>A tag</p>
</td></tr>
<tr><td><code id="evaluateConditional_+3A_initcollection">initCollection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A boolean value indicating whether the conditional is true
</p>

<hr>
<h2 id='extract'>Extract function to make Mplus output work with the <span class="pkg">texreg</span> package</h2><span id='topic+extract'></span><span id='topic+extract.mplus.model'></span><span id='topic+extract.mplusObject'></span><span id='topic+extract+2Cmplus.model-method'></span><span id='topic+extract+2CmplusObject-method'></span>

<h3>Description</h3>

<p>This is a method for extracting output in a format
suitable for the <span class="pkg">texreg</span> package.  Uses <code>coef</code> for most the work.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract.mplus.model(
  model,
  summaries = "none",
  cis = FALSE,
  escape.latex = FALSE,
  ...
)

extract.mplusObject(model, summaries = "none", cis = FALSE, ...)

## S4 method for signature 'mplus.model'
extract(model, summaries = "none", cis = FALSE, escape.latex = FALSE, ...)

## S4 method for signature 'mplusObject'
extract(model, summaries = "none", cis = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_+3A_model">model</code></td>
<td>
<p>An Mplus model object.  This typically comes either from
<code><a href="#topic+readModels">readModels</a></code> directly, or indirectly via
<code><a href="#topic+mplusModeler">mplusModeler</a></code>.  The results will have different classes,
but extract methods are defined for both.</p>
</td></tr>
<tr><td><code id="extract_+3A_summaries">summaries</code></td>
<td>
<p>A character vector which summaries to include.
Defaults to &ldquo;none&rdquo;.</p>
</td></tr>
<tr><td><code id="extract_+3A_cis">cis</code></td>
<td>
<p>A logical whether to extract confidence intervals.</p>
</td></tr>
<tr><td><code id="extract_+3A_escape.latex">escape.latex</code></td>
<td>
<p>A logical value whether to escape dollar signs in
coefficient names for LaTeX.  Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="extract_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+coef.mplus.model">coef.mplus.model</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>texreg</code> object, or for multiple group models,
a list of <code>texreg</code> objects.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readModels">readModels</a></code>
</p>
<p>Other Mplus-Formatting: 
<code><a href="#topic+coef.mplus.model">coef.mplus.model</a>()</code>,
<code><a href="#topic+confint.mplus.model">confint.mplus.model</a>()</code>,
<code><a href="#topic+print.MplusRstructure">print.MplusRstructure</a>()</code>,
<code><a href="#topic+summary.mplusObject">summary.mplusObject</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# simple example of a model using builtin data
# demonstrates use
test &lt;- mplusObject(
  TITLE = "test the MplusAutomation Package;",
  MODEL = "
    mpg ON wt hp;
    wt WITH hp;",
  OUTPUT = "STANDARDIZED;",
  usevariables = c("mpg", "wt", "hp"),
  rdata = mtcars)

res &lt;- mplusModeler(test, "mtcars.dat", modelout = "model1.inp", run = 1L)

extract(res$results)
# there is also a method for mplusObject class
extract(res)

# load the texreg package
# to use pretty printing via screenreg
# uncomment to run these examples
# library(texreg)
# screenreg(res)
# screenreg(res, type = 'stdyx')

# screenreg(res, type = 'un', params = 'regression',
#   single.row=TRUE)
# screenreg(res, type = 'un', params = 'regression', summaries = 'CFI',
#   single.row=TRUE)

# remove files
unlink("mtcars.dat")
unlink("model1.inp")
unlink("model1.out")
unlink("Mplus Run Models.log")

## End(Not run)
</code></pre>

<hr>
<h2 id='extractAux'>Extract Auxiliary condition means and comparisons.</h2><span id='topic+extractAux'></span>

<h3>Description</h3>

<p>To do: add details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractAux(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractAux_+3A_outfiletext">outfiletext</code></td>
<td>
<p>character vector of Mplus output file from which to extract the AUX section</p>
</td></tr>
<tr><td><code id="extractAux_+3A_filename">filename</code></td>
<td>
<p>filename of the Mplus output file being processed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>

<hr>
<h2 id='extractClassCounts'>Extract Latent Class Counts</h2><span id='topic+extractClassCounts'></span>

<h3>Description</h3>

<p>Function for extracting counts of latent classes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractClassCounts(outfiletext, filename, summaries)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractClassCounts_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The text of the output file</p>
</td></tr>
<tr><td><code id="extractClassCounts_+3A_filename">filename</code></td>
<td>
<p>The name of the output file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractDataSummary'>Function to extract the SUMMARY OF DATA section from Mplus outputs</h2><span id='topic+extractDataSummary'></span>

<h3>Description</h3>

<p>Function to extract the SUMMARY OF DATA section from Mplus outputs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractDataSummary(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractDataSummary_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The text of the output file</p>
</td></tr>
<tr><td><code id="extractDataSummary_+3A_filename">filename</code></td>
<td>
<p>the name of the file containing textToScan. Used to make more intelligible warning messages.</p>
</td></tr>
</table>

<hr>
<h2 id='extractEFAparameters'>Extract the model parameters from an EFA Mplus model output</h2><span id='topic+extractEFAparameters'></span>

<h3>Description</h3>

<p>Extract the model parameters from an EFA Mplus model output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractEFAparameters(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractEFAparameters_+3A_outfiletext">outfiletext</code></td>
<td>
<p>character vector of Mplus output file being processed</p>
</td></tr>
<tr><td><code id="extractEFAparameters_+3A_filename">filename</code></td>
<td>
<p>name of the output file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of parsed EFA parameters
</p>

<hr>
<h2 id='extractFacScoreStats'>Extract Factor Score Statistics</h2><span id='topic+extractFacScoreStats'></span>

<h3>Description</h3>

<p>Function for extracting matrices for factor scores
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractFacScoreStats(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractFacScoreStats_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The text of the output file</p>
</td></tr>
<tr><td><code id="extractFacScoreStats_+3A_filename">filename</code></td>
<td>
<p>The name of the output file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractFreeFile'>Extract free file output</h2><span id='topic+extractFreeFile'></span>

<h3>Description</h3>

<p>Function for reading &quot;free&quot; output where a sequence of values populates a matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractFreeFile(filename, outfile, make_symmetric = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractFreeFile_+3A_filename">filename</code></td>
<td>
<p>The name of the output file</p>
</td></tr>
<tr><td><code id="extractFreeFile_+3A_outfile">outfile</code></td>
<td>
<p>The output file</p>
</td></tr>
<tr><td><code id="extractFreeFile_+3A_make_symmetric">make_symmetric</code></td>
<td>
<p>A logical indicating whether or not to make the matrix symmetric, defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractIndirect'>Extract Indirect Effects output</h2><span id='topic+extractIndirect'></span>

<h3>Description</h3>

<p>This function parses both unstandardized and standardized indirect effects
It returns a list composed of $unstandardized and $standardized.
The base structure of each is a list containing $overall and $specific effects (as data.frames)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractIndirect(outfiletext, curfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractIndirect_+3A_outfiletext">outfiletext</code></td>
<td>
<p>a character vector containing the indirect effects output section returned by getSection</p>
</td></tr>
<tr><td><code id="extractIndirect_+3A_curfile">curfile</code></td>
<td>
<p>the name of the current output file being parsed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An mplus.indirect object (inherits list) containing $overall and $specific
</p>

<hr>
<h2 id='extractIndirect_section'>Extract Indirect Effects output</h2><span id='topic+extractIndirect_section'></span>

<h3>Description</h3>

<p>This function parses a given indirect section
It returns a list composed of $overall and $specific effects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractIndirect_section(indirectSection, curfile, sectionType)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractIndirect_section_+3A_indirectsection">indirectSection</code></td>
<td>
<p>a character vector containing the indirect effects for a specific section (e.g., stdyx)</p>
</td></tr>
<tr><td><code id="extractIndirect_section_+3A_curfile">curfile</code></td>
<td>
<p>the name of the current output file being parsed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An mplus.indirect object (inherits list) containing $overall and $specific
</p>

<hr>
<h2 id='extractInput_1file'>Extract and parse Mplus input file</h2><span id='topic+extractInput_1file'></span>

<h3>Description</h3>

<p>Function to extract and parse mplus input syntax from the output file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractInput_1file(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractInput_1file_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The text of the output file</p>
</td></tr>
<tr><td><code id="extractInput_1file_+3A_filename">filename</code></td>
<td>
<p>The filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The parsed input file
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractModelParameters'>Extract model parameters from MODEL RESULTS section.</h2><span id='topic+extractModelParameters'></span>

<h3>Description</h3>

<p>Extracts the model parameters from the MODEL RESULTS section of one or more Mplus output files.
If a particular output file has more than one results section (unstandardized, stdyx, stdy, and/or std),
a list will be returned. If the <code>target</code> is a directory, all .out files therein will be parsed
and a single list will be returned, where the list elements are named by the output file name.
Returned parameters often include the parameter estimate, std. err, param/s.e., and two-tailed p-value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModelParameters(
  target = getwd(),
  recursive = FALSE,
  filefilter,
  dropDimensions = FALSE,
  resultType
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModelParameters_+3A_target">target</code></td>
<td>
<p>the directory containing Mplus output files (.out) to parse OR the single output file to
be parsed. May be a full path, relative path, or a filename within the working directory.
Defaults to the current working directory. Example: &ldquo;C:/Users/Michael/Mplus Runs&rdquo;</p>
</td></tr>
<tr><td><code id="extractModelParameters_+3A_recursive">recursive</code></td>
<td>
<p>optional. If <code>TRUE</code>, parse all models nested in subdirectories
within <code>target</code>. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="extractModelParameters_+3A_filefilter">filefilter</code></td>
<td>
<p>a Perl regular expression (PCRE-compatible) specifying particular output
files to be parsed within <code>directory</code>. See <code>regex</code> or <a href="http://www.pcre.org/pcre.txt">http://www.pcre.org/pcre.txt</a>
for details about regular expression syntax.</p>
</td></tr>
<tr><td><code id="extractModelParameters_+3A_dropdimensions">dropDimensions</code></td>
<td>
<p>Relevant only for multi-file parsing. If <code>TRUE</code>, then if only one output
section (usually unstandardized) is present for all files in the parsed list, then eliminate
the second-level list (which contains elements for each output section). The result is
that the elements of the returned list are <code>data.frame</code> objects with the relevant parameters.</p>
</td></tr>
<tr><td><code id="extractModelParameters_+3A_resulttype">resultType</code></td>
<td>
<p>N.B.: this parameter is deprecated and will be removed in a future version. The
new default is to extract all results that are present and return a list (see below for details).
<code>resultType</code> specified the results section to extract. If <code>raw</code>, the unstandardized
estimates will be returned. &ldquo;stdyx&rdquo;, &ldquo;stdy&rdquo;, and &ldquo;std&rdquo;
are the other options, which extract different standardized solutions.
See the Mplus User's Guide for additional details about the differences in these standardizations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>target</code> is a single file, a list containing unstandardized and standardized results will be
returned. If all standardized solutions are available, the list element will be named: <code>unstandardized</code>,
<code>stdyx.standardized</code>, <code>stdy.standardized</code>, and <code>std.standardized</code>. If confidence intervals
are output using OUTPUT:CINTERVAL, then a list element named <code>ci.unstandardized</code> will be included.
Each of these list elements is a <code>data.frame</code> containing relevant model parameters.
</p>
<p>If <code>target</code> is a directory, a list will be returned, where each element contains the results for
a single file, and the top-level elements are named after the corresponding output file name. Each
element within this list is itself a list, with elements as in the single file case above.
</p>
<p>The core <code>data.frame</code> for each MODEL RESULTS section typically has the following structure:
</p>
<table>
<tr><td><code>paramHeader</code></td>
<td>
<p>The header that begins a given parameter set. Example: &quot;FACTOR1 BY&quot;</p>
</td></tr>
<tr><td><code>param</code></td>
<td>
<p>The particular parameter being measured (within <code>paramHeader</code>). Example: &quot;ITEM1&quot;</p>
</td></tr>
<tr><td><code>est</code></td>
<td>
<p>Parameter estimate value.</p>
</td></tr>
<tr><td><code>se</code></td>
<td>
<p>Standard error of the estimate</p>
</td></tr>
<tr><td><code>est_se</code></td>
<td>
<p>Quotient of <code>est/se</code>, representing z-test/t-test in large samples</p>
</td></tr>
<tr><td><code>pval</code></td>
<td>
<p>Two-tailed p-value for the <code>est_se</code> quotient.</p>
</td></tr>
</table>
<p>In the case of output from Bayesian estimation (ESTIMATOR=BAYES), the <code>data.frame</code> will contain
a different set of variables, including some of the above, as well as
</p>
<table>
<tr><td><code>posterior_sd</code></td>
<td>
<p>Posterior standard deviation of the estimate.</p>
</td></tr>
<tr><td><code>lower_2.5ci</code></td>
<td>
<p>Lower 2.5 percentile of the estimate.</p>
</td></tr>
<tr><td><code>upper_2.5ci</code></td>
<td>
<p>Upper 2.5 percentile (aka 97.5 percentile) of the estimate.</p>
</td></tr>
</table>
<p>Also note that the <code>pval</code> column for Bayesian output represents a one-tailed estimate.
</p>
<p>In the case of output from a Monte Carlo study (MONTECARLO: and MODEL POPULATION:), the <code>data.frame</code> will contain
a different set of variables, including some of the above, as well as
</p>
<table>
<tr><td><code>population</code></td>
<td>
<p>Population parameter value.</p>
</td></tr>
<tr><td><code>average</code></td>
<td>
<p>Average parameter estimate across replications.</p>
</td></tr>
<tr><td><code>population_sd</code></td>
<td>
<p>Standard deviation of parameter value in population across replications.</p>
</td></tr>
<tr><td><code>average_se</code></td>
<td>
<p>Average standard error of estimated parameter value across replications.</p>
</td></tr>
<tr><td><code>mse</code></td>
<td>
<p>Mean squared error.</p>
</td></tr>
<tr><td><code>cover_95</code></td>
<td>
<p>Proportion of replications whose 95% confidence interval for the parameter includes the population value.</p>
</td></tr>
<tr><td><code>pct_sig_coef</code></td>
<td>
<p>Proportion of replications for which the two-tailed significance test of the parameter is significant (p &lt; .05).</p>
</td></tr>
</table>
<p>In the case of confidence interval output (OUTPUT:CINTERVAL), the list element <code>ci.unstandardized</code> will contain
a different set of variables, including some of the above, as well as
</p>
<table>
<tr><td><code>low.5</code></td>
<td>
<p>Lower 0.5% CI estimate.</p>
</td></tr>
<tr><td><code>low2.5</code></td>
<td>
<p>Lower 2.5% CI estimate.</p>
</td></tr>
<tr><td><code>low5</code></td>
<td>
<p>Lower 5% CI estimate.</p>
</td></tr>
<tr><td><code>est</code></td>
<td>
<p>Parameter estimate value.</p>
</td></tr>
<tr><td><code>up5</code></td>
<td>
<p>Upper 5% (i.e., 95%) CI estimate.</p>
</td></tr>
<tr><td><code>up2.5</code></td>
<td>
<p>Upper 2.5% (i.e., 97.5%) CI estimate.</p>
</td></tr>
<tr><td><code>up.5</code></td>
<td>
<p>Upper 0.5% (i.e., 99.5%) CI estimate.</p>
</td></tr>
</table>
<p>If the model contains multiple latent classes, an additional variable, <code>LatentClass</code>,
will be included, specifying the latent class number. Also, the Categorical Latent Variables section
will be included as <code>LatentClass</code> &quot;Categorical.Latent.Variables.&quot;
</p>
<p>If the model contains multiple groups, <code>Group</code> will be included.
</p>
<p>If the model contains two-level output (between/within), <code>BetweenWithin</code> will be included.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ex3.14 &lt;- extractModelParameters(
	"C:/Program Files/Mplus/Mplus Examples/User's Guide Examples/ex3.14.out")

## End(Not run)
</code></pre>

<hr>
<h2 id='extractModelSummaries'>Extract summary statistics from a single output file or from a group of Mplus models within a directory</h2><span id='topic+extractModelSummaries'></span>

<h3>Description</h3>

<p>Parses a group of Mplus model output files (.out extension) for model fit statistics.
At this time, the details extracted are fixed and include: <code>Filename, InputInstructions, Title, Estimator,
LL, BIC, aBIC, AIC, AICC, Parameters, Observations, CFI, TLI, RMSEA_Estimate, RMSEA_90CI_LB, RMSEA_90CI_UB,
RMSEA_pLT05, ChiSqM_Value, ChiSqM_DF, ChiSq_PValue, BLRT_KM1LL, BLRT_PValue, BLRT_Numdraws)</code>. The
infrastructure is in place to allow for user-specified selection of summary statistics in future versions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModelSummaries(target = getwd(), recursive = FALSE, filefilter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModelSummaries_+3A_target">target</code></td>
<td>
<p>the directory containing Mplus output files (.out) to parse OR the
single output file to be parsed. Defaults to the current working directory.
Example: &quot;C:/Users/Michael/Mplus Runs&quot;</p>
</td></tr>
<tr><td><code id="extractModelSummaries_+3A_recursive">recursive</code></td>
<td>
<p>optional. If <code>TRUE</code>, parse all models nested in
subdirectories within <code>directory</code>. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="extractModelSummaries_+3A_filefilter">filefilter</code></td>
<td>
<p>a Perl regular expression (PCRE-compatible) specifying particular
output files to be parsed within <code>directory</code>. See <code>regex</code> or
<a href="http://www.pcre.org/pcre.txt">http://www.pcre.org/pcre.txt</a> for details about regular expression syntax.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> containing model fit statistics for all output files within <code>directory</code>.
The <code>data.frame</code> contains some of the following variables (depends on model type):
</p>
<table>
<tr><td><code>Title</code></td>
<td>
<p>Title for the model, specified by the TITLE: command</p>
</td></tr>
<tr><td><code>Filename</code></td>
<td>
<p>Filename of the output file</p>
</td></tr>
<tr><td><code>Estimator</code></td>
<td>
<p>Estimator used for the model (e.g., ML, MLR, WLSMV, etc.)</p>
</td></tr>
<tr><td><code>LL</code></td>
<td>
<p>Log-likelihood of the model</p>
</td></tr>
<tr><td><code>BIC</code></td>
<td>
<p>Bayesian Information Criterion</p>
</td></tr>
<tr><td><code>aBIC</code></td>
<td>
<p>Sample-Size-Adjusted BIC (Sclove, 1987)</p>
</td></tr>
<tr><td><code>AIC</code></td>
<td>
<p>Akaike's Information Criterion</p>
</td></tr>
<tr><td><code>AICC</code></td>
<td>
<p>Corrected AIC, based on Sugiura (1978) and recommended by Burnham &amp; Anderson (2002)</p>
</td></tr>
<tr><td><code>DIC</code></td>
<td>
<p>Deviance Information Criterion. Available in ESTIMATOR=BAYES output.</p>
</td></tr>
<tr><td><code>Parameters</code></td>
<td>
<p>Number of parameters estimated by the model</p>
</td></tr>
<tr><td><code>pD</code></td>
<td>
<p>Estimated number of parameters in Bayesian output</p>
</td></tr>
<tr><td><code>Observations</code></td>
<td>
<p>The number of observations for the model (does not suppport multiple-groups analysis at this time)</p>
</td></tr>
<tr><td><code>CFI</code></td>
<td>
<p>Confirmatory Fit Index</p>
</td></tr>
<tr><td><code>TLI</code></td>
<td>
<p>Tucker-Lewis Index</p>
</td></tr>
<tr><td><code>RMSEA_Estimate</code></td>
<td>
<p>Point estimate of root mean squared error of approximation</p>
</td></tr>
<tr><td><code>RMSEA_90CI_LB</code></td>
<td>
<p>Lower bound of the 90% Confidence Interval around the RMSEA estimate.</p>
</td></tr>
<tr><td><code>RMSEA_90CI_UB</code></td>
<td>
<p>Upper bound of the 90% Confidence Interval around the RMSEA estimate.</p>
</td></tr>
<tr><td><code>RMSEA_pLT05</code></td>
<td>
<p>Probability that the RMSEA estimate falls below .05, indicating good fit.</p>
</td></tr>
<tr><td><code>ChiSqM_Value</code></td>
<td>
<p>Model chi-squared value</p>
</td></tr>
<tr><td><code>ChiSqM_DF</code></td>
<td>
<p>Model chi-squared degrees of freedom</p>
</td></tr>
<tr><td><code>ChiSqM_PValue</code></td>
<td>
<p>Model chi-squared p value</p>
</td></tr>
<tr><td><code>ChiSqM_ScalingCorrection</code></td>
<td>
<p>H0 Scaling Correction Factor</p>
</td></tr>
<tr><td><code>ObsRepChiSqDiff_95CI_LB</code></td>
<td>
<p>Lower bound of 95% confidence interval for the difference between observed and replicated chi-square values</p>
</td></tr>
<tr><td><code>ObsRepChiSqDiff_95CI_UB</code></td>
<td>
<p>Upper bound of 95% confidence interval for the difference between observed and replicated chi-square values</p>
</td></tr>
<tr><td><code>PostPred_PValue</code></td>
<td>
<p>Posterior predictive p-value</p>
</td></tr>
<tr><td><code>PriorPostPred_PValue</code></td>
<td>
<p>Prior Posterior Predictive P-Value</p>
</td></tr>
<tr><td><code>BLRT_RequestedDraws</code></td>
<td>
<p>Number of requested bootstrap draws for TECH14.</p>
</td></tr>
<tr><td><code>BLRT_KM1LL</code></td>
<td>
<p>Log-likelihood of the K-1 model (one less class) for the Bootstrapped Likelihood Ratio Test (TECH14).</p>
</td></tr>
<tr><td><code>BLRT_2xLLDiff</code></td>
<td>
<p>Two times the log-likelihood difference of the models with K and K-1 classes (TECH14).</p>
</td></tr>
<tr><td><code>BLRT_ParamDiff</code></td>
<td>
<p>Difference in the number of parameters for models with K and K-1 classes (TECH14).</p>
</td></tr>
<tr><td><code>BLRT_PValue</code></td>
<td>
<p>P-value of the Bootstrapped Likelihood Ratio Test (TECH14) testing whether the K class model is significantly better than K-1</p>
</td></tr>
<tr><td><code>BLRT_SuccessfulDraws</code></td>
<td>
<p>The number of successful bootstrapped samples used in the Bootstrapped Likelihood Ratio Test</p>
</td></tr>
<tr><td><code>SRMR</code></td>
<td>
<p>Standardized root mean square residual</p>
</td></tr>
<tr><td><code>SRMR.Between</code></td>
<td>
<p>For TYPE=TWOLEVEL output, standardized root mean square residual for between level</p>
</td></tr>
<tr><td><code>SRMR.Within</code></td>
<td>
<p>For TYPE=TWOLEVEL output, standardized root mean square residual for within level</p>
</td></tr>
<tr><td><code>WRMR</code></td>
<td>
<p>Weighted root mean square residual</p>
</td></tr>
<tr><td><code>ChiSqBaseline_Value</code></td>
<td>
<p>Baseline (unstructured) chi-squared value</p>
</td></tr>
<tr><td><code>ChiSqBaseline_DF</code></td>
<td>
<p>Baseline (unstructured) chi-squared degrees of freedom</p>
</td></tr>
<tr><td><code>ChiSqBaseline_PValue</code></td>
<td>
<p>Baseline (unstructured) chi-squared p value</p>
</td></tr>
<tr><td><code>NumFactors</code></td>
<td>
<p>For TYPE=EFA output, the number of factors</p>
</td></tr>
<tr><td><code>T11_KM1Starts</code></td>
<td>
<p>TECH11: Number of initial stage random starts for k-1 model</p>
</td></tr>
<tr><td><code>T11_KM1Final</code></td>
<td>
<p>TECH11: Number of final stage optimizations for k-1 model</p>
</td></tr>
<tr><td><code>T11_KM1LL</code></td>
<td>
<p>TECH11: Log-likelihood of the K-1 model used for the Vuong-Lo-Mendell-Rubin LRT</p>
</td></tr>
<tr><td><code>T11_VLMR_2xLLDiff</code></td>
<td>
<p>TECH11: 2 * Log-likelihood Difference of K-class vs. K-1-class model for the Vuong-Lo-Mendell-Rubin LRT</p>
</td></tr>
<tr><td><code>T11_VLMR_ParamDiff</code></td>
<td>
<p>TECH11: Difference in number of parameters between K-class and K-1-class model for the Vuong-Lo-Mendell-Rubin LRT</p>
</td></tr>
<tr><td><code>T11_VLMR_Mean</code></td>
<td>
<p>TECH11: Vuong-Lo-Mendell-Rubin LRT mean</p>
</td></tr>
<tr><td><code>T11_VLMR_SD</code></td>
<td>
<p>TECH11: Vuong-Lo-Mendell-Rubin LRT standard deviation</p>
</td></tr>
<tr><td><code>T11_VLMR_PValue</code></td>
<td>
<p>TECH11: Vuong-Lo-Mendell-Rubin LRT p-value</p>
</td></tr>
<tr><td><code>T11_LMR_Value</code></td>
<td>
<p>TECH11: Lo-Mendell-Rubin Adjusted LRT value</p>
</td></tr>
<tr><td><code>T11_LMR_PValue</code></td>
<td>
<p>TECH11: Lo-Mendell-Rubin Adjusted LRT p-value</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+regex">regex</a></code>, <code><a href="#topic+runModels">runModels</a></code>, <code><a href="#topic+readModels">readModels</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  allExamples &lt;- extractModelSummaries(
    "C:/Program Files/Mplus/Mplus Examples/User's Guide Examples")

## End(Not run)
</code></pre>

<hr>
<h2 id='extractModIndices'>Extract model modification indices.</h2><span id='topic+extractModIndices'></span>

<h3>Description</h3>

<p>Extracts the model modification indices from the MODEL MODIFICATION INDICES section of one
or more Mplus output files. If the <code>target</code> is a directory, all .out files therein will be parsed
and a single list will be returned, where the list elements are named by the output file name.
Returned parameters typically include the pairwise relationships between variables to be freed,
the change in model chi-square (M.I.), and the expected parameter change (E.P.C.).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModIndices(target = getwd(), recursive = FALSE, filefilter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModIndices_+3A_target">target</code></td>
<td>
<p>the directory containing Mplus output files (.out) to parse OR
the single output file to be parsed. May be a full path, relative path, or
a filename within the working directory. Defaults to the current working
directory. Example: &ldquo;C:/Users/Michael/Mplus Runs&rdquo;</p>
</td></tr>
<tr><td><code id="extractModIndices_+3A_recursive">recursive</code></td>
<td>
<p>optional. If <code>TRUE</code>, parse all models
nested in subdirectories within <code>target</code>. Defaults to
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="extractModIndices_+3A_filefilter">filefilter</code></td>
<td>
<p>a Perl regular expression (PCRE-compatible)
specifying particular output files to be parsed within <code>directory</code>.
See <code>regex</code> or <a href="http://www.pcre.org/pcre.txt">http://www.pcre.org/pcre.txt</a> for
details about regular expression syntax.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>target</code> is a single file, a data.frame
containing modification results for the target output file will be
returned. If <code>target</code> is a directory, a list will be returned,
where each element contains a data.frame of the modification indices
for a single file, and the top-level elements are named after the
corresponding output file name. The basic <code>data.frame</code> containing
the MODEL MODIFICATION INDICES section of <code>outfile</code>. Variables include
</p>
<table>
<tr><td><code>modV1</code></td>
<td>
<p>The first variable in the pair to be freed according to the M.I.</p>
</td></tr>
<tr><td><code>operator</code></td>
<td>
<p>The suggested relationship between <code>modV1</code> and <code>modV2</code>
(e.g., WITH for freeing the covariance between <code>modV1</code> and <code>modV2</code>)</p>
</td></tr>
<tr><td><code>modV2</code></td>
<td>
<p>The first variable in the pair to be freed according to the M.I.</p>
</td></tr>
<tr><td><code>MI</code></td>
<td>
<p>The decrease in model chi-square if the specified relationship is freely estimated</p>
</td></tr>
<tr><td><code>EPC</code></td>
<td>
<p>The expected parameter estimate between <code>modV1</code> and <code>modV2</code> if freed.</p>
</td></tr>
<tr><td><code>Std_EPC</code></td>
<td>
<p>The EPC value standardized using the variances of the continuous latent variables.</p>
</td></tr>
<tr><td><code>StdYX_EPC</code></td>
<td>
<p>The EPC value standardized using the variances of the continuous latent
variables as well as the variances of the background and/or outcome variables.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readModels">readModels</a></code>, <code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code>, <code><a href="#topic+extractModelParameters">extractModelParameters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ex3.14 &lt;- extractModIndices(
	"C:/Program Files/Mplus/Mplus Examples/User's Guide Examples/ex3.14.out")

## End(Not run)
</code></pre>

<hr>
<h2 id='extractModIndices_1chunk'>Extract Modification Indices for One Chunk (Section)</h2><span id='topic+extractModIndices_1chunk'></span>

<h3>Description</h3>

<p>To do: add details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModIndices_1chunk(chunk, columnNames, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModIndices_1chunk_+3A_chunk">chunk</code></td>
<td>
<p>character vector of current subsection from which to extract mod indices</p>
</td></tr>
<tr><td><code id="extractModIndices_1chunk_+3A_columnnames">columnNames</code></td>
<td>
<p>character vector of expected column (variable) names for section</p>
</td></tr>
<tr><td><code id="extractModIndices_1chunk_+3A_filename">filename</code></td>
<td>
<p>name of Mplus output file being parsed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>

<hr>
<h2 id='extractModIndices_1file'>Extract Modification Indices for One File</h2><span id='topic+extractModIndices_1file'></span>

<h3>Description</h3>

<p>To do: add details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModIndices_1file(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModIndices_1file_+3A_outfiletext">outfiletext</code></td>
<td>
<p>character vector of Mplus output file being processed</p>
</td></tr>
<tr><td><code id="extractModIndices_1file_+3A_filename">filename</code></td>
<td>
<p>name of Mplus output file being processed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>

<hr>
<h2 id='extractParameters_1chunk'>Extract Parameters for One Chunk</h2><span id='topic+extractParameters_1chunk'></span>

<h3>Description</h3>

<p>Helper function for extractModelParameters. Used to parse each subsection of
output within a given file and given results section (e.g., stdyx section) There
will be many chunks if latent classes, multiple groups, multilevel features are used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractParameters_1chunk(filename, thisChunk, columnNames, sectionName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractParameters_1chunk_+3A_filename">filename</code></td>
<td>
<p>name of Mplus output file being processed</p>
</td></tr>
<tr><td><code id="extractParameters_1chunk_+3A_thischunk">thisChunk</code></td>
<td>
<p>character vector of output chunk from which to extract parameter values</p>
</td></tr>
<tr><td><code id="extractParameters_1chunk_+3A_columnnames">columnNames</code></td>
<td>
<p>character vector of expected column names for output chunk</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (or matrix?)
</p>

<hr>
<h2 id='extractParameters_1file'>Extract Parameters for One File</h2><span id='topic+extractParameters_1file'></span>

<h3>Description</h3>

<p>To do: add details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractParameters_1file(outfiletext, filename, resultType, efa = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractParameters_1file_+3A_outfiletext">outfiletext</code></td>
<td>
<p>character vector of Mplus output file being processed</p>
</td></tr>
<tr><td><code id="extractParameters_1file_+3A_filename">filename</code></td>
<td>
<p>name of Mplus output file being processed</p>
</td></tr>
<tr><td><code id="extractParameters_1file_+3A_resulttype">resultType</code></td>
<td>
<p>(deprecated)</p>
</td></tr>
<tr><td><code id="extractParameters_1file_+3A_efa">efa</code></td>
<td>
<p>indicates whether the output is from an EFA model (requires some additional processing)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of parameters
</p>

<hr>
<h2 id='extractParameters_1section'>Extract Parameters for One Section</h2><span id='topic+extractParameters_1section'></span>

<h3>Description</h3>

<p>To do: add details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractParameters_1section(filename, modelSection, sectionName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractParameters_1section_+3A_filename">filename</code></td>
<td>
<p>name of Mplus output file being processed</p>
</td></tr>
<tr><td><code id="extractParameters_1section_+3A_modelsection">modelSection</code></td>
<td>
<p>name of model output section being processed</p>
</td></tr>
<tr><td><code id="extractParameters_1section_+3A_sectionname">sectionName</code></td>
<td>
<p>name of output type to search for (e.g., &quot;model_results&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  #a few examples of files to parse
  #mg + lc. Results in latent class pattern, not really different from
  #         regular latent class matching. See Example 7.21
  #mg + twolevel. Group is top, bw/wi is 2nd. See Example 9.11
  #lc + twolevel. Bw/wi is top, lc is 2nd. See Example 10.1.
  #               But categorical latent variables is even higher
  #test cases for more complex output: 7.21, 9.7, 9.11, 10.1

## End(Not run)
</code></pre>

<hr>
<h2 id='extractResiduals'>Extract residual matrices</h2><span id='topic+extractResiduals'></span>

<h3>Description</h3>

<p>Function that extracts the residual matrices including standardized ones
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractResiduals(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractResiduals_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractResiduals_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the residual matrices
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractResiduals_1section'>Helper subfunction to extract one section of OUTPUT: RESIDUALS
Can be called multiple times, as in the case of invariance testing</h2><span id='topic+extractResiduals_1section'></span>

<h3>Description</h3>

<p>Helper subfunction to extract one section of OUTPUT: RESIDUALS
Can be called multiple times, as in the case of invariance testing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractResiduals_1section(residSection, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractResiduals_1section_+3A_residsection">residSection</code></td>
<td>
<p>The character vector containing strings for the residual section to be parsed</p>
</td></tr>
<tr><td><code id="extractResiduals_1section_+3A_filename">filename</code></td>
<td>
<p>Character string containing the current output filename being parsed</p>
</td></tr>
</table>

<hr>
<h2 id='extractSampstat'>Helper function to extract the sample statistics from Mplus output
Depends on OUTPUT: SAMPSTAT</h2><span id='topic+extractSampstat'></span>

<h3>Description</h3>

<p>Helper function to extract the sample statistics from Mplus output
Depends on OUTPUT: SAMPSTAT
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractSampstat(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractSampstat_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The character vector containing all strings from output file</p>
</td></tr>
<tr><td><code id="extractSampstat_+3A_filename">filename</code></td>
<td>
<p>The current out file being parsed</p>
</td></tr>
</table>

<hr>
<h2 id='extractSummaries_1file'>Extract the summaries from one file</h2><span id='topic+extractSummaries_1file'></span>

<h3>Description</h3>

<p>Description: This function parses an output file for specific model details. It returns a list of model details for a single output file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractSummaries_1file(outfiletext, filename, input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractSummaries_1file_+3A_outfiletext">outfiletext</code></td>
<td>
<p>This is the output file in string form to be parsed. Passed in from extractModelSummaries.</p>
</td></tr>
<tr><td><code id="extractSummaries_1file_+3A_filename">filename</code></td>
<td>
<p>Name of the file being parsed. Used in case of bad model, prints a warning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the summaries
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractSummaries_1plan'>Worker function used in extractSummaries_1section</h2><span id='topic+extractSummaries_1plan'></span>

<h3>Description</h3>

<p>Worker function used in extractSummaries_1section
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractSummaries_1plan(
  arglist,
  sectionHeaders,
  sectionFields,
  textToParse,
  filename
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractSummaries_1plan_+3A_arglist">arglist</code></td>
<td>
<p>The argument list</p>
</td></tr>
<tr><td><code id="extractSummaries_1plan_+3A_sectionheaders">sectionHeaders</code></td>
<td>
<p>A character vector with headers for each section of interest</p>
</td></tr>
<tr><td><code id="extractSummaries_1plan_+3A_sectionfields">sectionFields</code></td>
<td>
<p>is a list of data.frames where each data.frame specifies the fields to be extracted for that section</p>
</td></tr>
<tr><td><code id="extractSummaries_1plan_+3A_texttoparse">textToParse</code></td>
<td>
<p>The text to parse</p>
</td></tr>
<tr><td><code id="extractSummaries_1plan_+3A_filename">filename</code></td>
<td>
<p>The filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractSummaries_1section'>Extract summary information for one section from Mplus output</h2><span id='topic+extractSummaries_1section'></span>

<h3>Description</h3>

<p>Function to extract model fit statistics from a section, wrapped to allow for multiple fit sections, as in EFA files.
Calls <code>extractSummaries_1plan</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractSummaries_1section(modelFitSection, arglist, filename, input = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractSummaries_1section_+3A_modelfitsection">modelFitSection</code></td>
<td>
<p>The fit information section</p>
</td></tr>
<tr><td><code id="extractSummaries_1section_+3A_arglist">arglist</code></td>
<td>
<p>The argument list</p>
</td></tr>
<tr><td><code id="extractSummaries_1section_+3A_filename">filename</code></td>
<td>
<p>The file name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The argument list
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech1'>Extract Technical 1 matrix from Mplus</h2><span id='topic+extractTech1'></span>

<h3>Description</h3>

<p>Function that extracts the Tech1 matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech1(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech1_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech1_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech1&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech10'>Extract Technical 10 matrix from Mplus</h2><span id='topic+extractTech10'></span>

<h3>Description</h3>

<p>Function that extracts the Tech10 matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech10(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech10_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech10_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An empty list
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech12'>Extract Technical 12 from Mplus</h2><span id='topic+extractTech12'></span>

<h3>Description</h3>

<p>The TECH12 option is used in conjunction with TYPE=MIXTURE to request residuals for observed
versus model estimated means, variances, covariances, univariate skewness, and univariate
kurtosis. The observed values come from the total sample. The estimated values are computed as
a mixture across the latent classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech12(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech12_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech12_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech12&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech15'>Extract Technical 15 from Mplus</h2><span id='topic+extractTech15'></span>

<h3>Description</h3>

<p>The TECH15 option is used in conjunction with TYPE=MIXTURE to request conditional probabilities
for the latent class variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech15(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech15_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech15_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech15&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech3'>Extract Technical 3 matrix from Mplus</h2><span id='topic+extractTech3'></span>

<h3>Description</h3>

<p>Function that extracts the Tech3 matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech3(outfiletext, savedata_info, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech3_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech3_+3A_savedata_info">savedata_info</code></td>
<td>
<p>Information on saved data</p>
</td></tr>
<tr><td><code id="extractTech3_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech3&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech4'>Extract Technical 4 matrix from Mplus</h2><span id='topic+extractTech4'></span>

<h3>Description</h3>

<p>Function that extracts the Tech4 matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech4(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech4_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech4_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech4&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech7'>Extract Technical 7 from Mplus</h2><span id='topic+extractTech7'></span>

<h3>Description</h3>

<p>The TECH7 option is used in conjunction with TYPE=MIXTURE to request sample statistics
for each class using raw data weighted by the estimated posterior probabilities for each class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech7(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech7_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech7_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech7&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech8'>Extract Technical 8 from Mplus</h2><span id='topic+extractTech8'></span>

<h3>Description</h3>

<p>The TECH8 option is used to print the optimization history of a model.
It also prints the potential scale reduction in Bayesian models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech8(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech8_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech8_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech8&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractTech9'>Extract Technical 9 matrix from Mplus</h2><span id='topic+extractTech9'></span>

<h3>Description</h3>

<p>Function that extracts the Tech9 matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractTech9(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractTech9_+3A_outfiletext">outfiletext</code></td>
<td>
<p>the text of the output file</p>
</td></tr>
<tr><td><code id="extractTech9_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class &ldquo;mplus.tech9&rdquo;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+matrixExtract">matrixExtract</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='extractValue'>Extract values from Mplus output
An internal function used by extractSummaries_1file to extract
parameters from the output file using regular expressions.</h2><span id='topic+extractValue'></span>

<h3>Description</h3>

<p>Extract values from Mplus output
An internal function used by extractSummaries_1file to extract
parameters from the output file using regular expressions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractValue(pattern, textToScan, filename, type = "int")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractValue_+3A_pattern">pattern</code></td>
<td>
<p>the exact text to be matched in the outfile that identifies the parameter of interest</p>
</td></tr>
<tr><td><code id="extractValue_+3A_texttoscan">textToScan</code></td>
<td>
<p>the chunk of Mplus output to be parsed, passed as a vector of character strings (from the scan command).</p>
</td></tr>
<tr><td><code id="extractValue_+3A_filename">filename</code></td>
<td>
<p>the name of the file containing textToScan. Used to make more intelligible warning messages.</p>
</td></tr>
<tr><td><code id="extractValue_+3A_type">type</code></td>
<td>
<p>the data type of the parameter, which determines the regexp used. Currently can be &ldquo;int&rdquo;, &ldquo;dec&rdquo;, &ldquo;str&rdquo;, or &ldquo;calc&rdquo;. Defaults to &ldquo;int&rdquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string or numeric vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#make me!!!
</code></pre>

<hr>
<h2 id='extractWarningsErrors_1file'>Extract warnings and errors from 1 mplus file</h2><span id='topic+extractWarningsErrors_1file'></span>

<h3>Description</h3>

<p>Helper function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractWarningsErrors_1file(outfiletext, filename, input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractWarningsErrors_1file_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The text of the output file</p>
</td></tr>
<tr><td><code id="extractWarningsErrors_1file_+3A_filename">filename</code></td>
<td>
<p>The filename</p>
</td></tr>
<tr><td><code id="extractWarningsErrors_1file_+3A_input">input</code></td>
<td>
<p>The input</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements
</p>
<table>
<tr><td><code>errors</code></td>
<td>
<p>Mplus Errors</p>
</td></tr>
<tr><td><code>warnings</code></td>
<td>
<p>Mplus Warnings</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='finalizeInitCollection'>Finalize Init Collection</h2><span id='topic+finalizeInitCollection'></span>

<h3>Description</h3>

<p>this function should handle initTags that still contain tags
once the initCollection is finalized, then process the deferred body tags
the notion is that the substitutions will be handled in an inefficient manner &ndash; using lots
of regular expression parsing, not using the matched tags data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>finalizeInitCollection(initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="finalizeInitCollection_+3A_initcollection">initCollection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
</table>


<h3>Details</h3>

<p>we only need to handle simple and array tags
iterators should always be integers
foreach and conditional are not relevant
</p>
<p>iterate over init tags until no tags are left
here, the init collection should already have had most of its tags substituted by
replaceInitTags above.
</p>


<h3>Value</h3>

<p>Finalized initCollection
</p>

<hr>
<h2 id='friendlyGregexpr'>Friendly Regular Expression</h2><span id='topic+friendlyGregexpr'></span>

<h3>Description</h3>

<p>Creates data frame documenting the start and end of all tags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>friendlyGregexpr(pattern, charvector, perl = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="friendlyGregexpr_+3A_pattern">pattern</code></td>
<td>
<p>The pattern to search for</p>
</td></tr>
<tr><td><code id="friendlyGregexpr_+3A_charvector">charvector</code></td>
<td>
<p>Character vector</p>
</td></tr>
<tr><td><code id="friendlyGregexpr_+3A_perl">perl</code></td>
<td>
<p>A logical whether or not to use perl based
regular expressions.  Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## make me
</code></pre>

<hr>
<h2 id='get_efa_nfactors'>Small helper function to obtain number of factors for an EFA output section</h2><span id='topic+get_efa_nfactors'></span>

<h3>Description</h3>

<p>Small helper function to obtain number of factors for an EFA output section
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_efa_nfactors(headers)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_efa_nfactors_+3A_headers">headers</code></td>
<td>
<p>a vector of EFA section headers from which to parse number of factors</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the number of factors in each heading, or a matrix if multilevel output
</p>

<hr>
<h2 id='get_results'>Extract Mplus results</h2><span id='topic+get_results'></span><span id='topic+get_input'></span><span id='topic+get_warn_err'></span><span id='topic+get_data_summary'></span><span id='topic+get_sampstat'></span><span id='topic+get_covariance_coverage'></span><span id='topic+get_summaries'></span><span id='topic+get_invariance_testing'></span><span id='topic+get_parameters'></span><span id='topic+get_class_counts'></span><span id='topic+get_indirect'></span><span id='topic+get_mod_indices'></span><span id='topic+get_residuals'></span><span id='topic+get_savedata'></span><span id='topic+get_bparameters'></span><span id='topic+get_tech1'></span><span id='topic+get_tech3'></span><span id='topic+get_tech4'></span><span id='topic+get_tech7'></span><span id='topic+get_tech8'></span><span id='topic+get_tech9'></span><span id='topic+get_tech10'></span><span id='topic+get_tech12'></span><span id='topic+get_tech15'></span><span id='topic+get_fac_score_stats'></span><span id='topic+get_lcCondMeans'></span><span id='topic+get_gh5'></span>

<h3>Description</h3>

<p>This function allows users to extract elements of Mplus output
by name from different types of objects returned by <code>MplusAutomation</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_results(x, element, simplify = FALSE, ...)

get_input(x, simplify = FALSE, ...)

get_warn_err(x, simplify = FALSE, ...)

get_data_summary(x, simplify = FALSE, ...)

get_sampstat(x, simplify = FALSE, ...)

get_covariance_coverage(x, simplify = FALSE, ...)

get_summaries(x, simplify = FALSE, ...)

get_invariance_testing(x, simplify = FALSE, ...)

get_parameters(x, simplify = FALSE, ...)

get_class_counts(x, simplify = FALSE, ...)

get_indirect(x, simplify = FALSE, ...)

get_mod_indices(x, simplify = FALSE, ...)

get_residuals(x, simplify = FALSE, ...)

get_savedata(x, simplify = FALSE, ...)

get_bparameters(x, simplify = FALSE, ...)

get_tech1(x, simplify = FALSE, ...)

get_tech3(x, simplify = FALSE, ...)

get_tech4(x, simplify = FALSE, ...)

get_tech7(x, simplify = FALSE, ...)

get_tech8(x, simplify = FALSE, ...)

get_tech9(x, simplify = FALSE, ...)

get_tech10(x, simplify = FALSE, ...)

get_tech12(x, simplify = FALSE, ...)

get_tech15(x, simplify = FALSE, ...)

get_fac_score_stats(x, simplify = FALSE, ...)

get_lcCondMeans(x, simplify = FALSE, ...)

get_gh5(x, simplify = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_results_+3A_x">x</code></td>
<td>
<p>Object from which to extract results.</p>
</td></tr>
<tr><td><code id="get_results_+3A_element">element</code></td>
<td>
<p>Which element of the results to extract.</p>
</td></tr>
<tr><td><code id="get_results_+3A_simplify">simplify</code></td>
<td>
<p>Logical; should the result be simplified to a vector, matrix
or higher dimensional array if possible? See <code><a href="base.html#topic+sapply">sapply</a></code>. Defaults
to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get_results_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to and from functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An atomic vector or matrix or list of the same length as X
(of length n for replicate). If simplification occurs,
the output type is determined from the highest type of the return values in
the hierarchy NULL &lt; raw &lt; logical &lt; integer &lt; double &lt; complex &lt; character &lt;
list &lt; expression, after coercion of pairlists to lists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 test &lt;- mplusObject(MODEL = "mpg ON wt hp;
 wt WITH hp;", rdata = mtcars)
 res &lt;- mplusModeler(test, modelout = "model1.inp", run = 1L)
 get_results(res, "summaries")
 unlink(res$results$input$data$file)
 unlink("model1.inp")
 unlink("model1.out")

## End(Not run)
out &lt;- get_input(res)
out &lt;- get_warn_err(res)
out &lt;- get_data_summary(res)
out &lt;- get_sampstat(res)
out &lt;- get_covariance_coverage(res)
out &lt;- get_summaries(res)
out &lt;- get_invariance_testing(res)
out &lt;- get_parameters(res)
out &lt;- get_class_counts(res)
out &lt;- get_indirect(res)
out &lt;- get_mod_indices(res)
out &lt;- get_residuals(res)
out &lt;- get_savedata(res)
out &lt;- get_bparameters(res)
out &lt;- get_tech1(res)
out &lt;- get_tech3(res)
out &lt;- get_tech4(res)
out &lt;- get_tech7(res)
out &lt;- get_tech8(res)
out &lt;- get_tech9(res)
out &lt;- get_tech10(res)
out &lt;- get_tech12(res)
out &lt;- get_tech15(res)
out &lt;- get_fac_score_stats(res)
out &lt;- get_lcCondMeans(res)
out &lt;- get_gh5(res)
</code></pre>

<hr>
<h2 id='getInitTags'>Get Initial Tags</h2><span id='topic+getInitTags'></span>

<h3>Description</h3>

<p>An internal function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getInitTags(initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getInitTags_+3A_initcollection">initCollection</code></td>
<td>
<p>A list?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The initMatches
</p>

<hr>
<h2 id='getMultilineSection'>Extract a multiline section from Mplus output</h2><span id='topic+getMultilineSection'></span>

<h3>Description</h3>

<p>New approach to multiline section: retain spaces and look for next line that has identical indentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMultilineSection(
  header,
  outfiletext,
  filename,
  allowMultiple = FALSE,
  allowSpace = TRUE,
  ignore.case = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMultilineSection_+3A_header">header</code></td>
<td>
<p>Header section</p>
</td></tr>
<tr><td><code id="getMultilineSection_+3A_outfiletext">outfiletext</code></td>
<td>
<p>Output file text</p>
</td></tr>
<tr><td><code id="getMultilineSection_+3A_filename">filename</code></td>
<td>
<p>The name of the file</p>
</td></tr>
<tr><td><code id="getMultilineSection_+3A_allowmultiple">allowMultiple</code></td>
<td>
<p>Logical indicating whether to allow multiple sections. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="getMultilineSection_+3A_allowspace">allowSpace</code></td>
<td>
<p>Logical indicating whether to allow spaces. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="getMultilineSection_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Logical whether or not to ignore the case.  Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of sections
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='getOutFileList'>Get Output File List</h2><span id='topic+getOutFileList'></span>

<h3>Description</h3>

<p>This is a helper function used by extractModelSummaries and extractModelParameters.
It determines whether the target is a single file or a directory.
If it is a directory, all .out files are returned (perhaps recursively)
It also permits the files to be filtered using a certain regular expression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getOutFileList(target, recursive = FALSE, filefilter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getOutFileList_+3A_target">target</code></td>
<td>
<p>The target file or directory</p>
</td></tr>
<tr><td><code id="getOutFileList_+3A_recursive">recursive</code></td>
<td>
<p>A logical value whether to search recursively.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="getOutFileList_+3A_filefilter">filefilter</code></td>
<td>
<p>A regular expression passed to <code>grep</code>
used to filter the output files.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the output files
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='getSavedata_Bparams'>Load the draws from the Bayesian model posterior distribution (SAVEDATA BPARAMETERS) command into an R data.frame</h2><span id='topic+getSavedata_Bparams'></span>

<h3>Description</h3>

<p>This function reads a the BPARAMETERS output file from the Mplus SAVEDATA BPARAMETERS command
and returns an R <code>data.frame</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSavedata_Bparams(outfile, discardBurnin = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSavedata_Bparams_+3A_outfile">outfile</code></td>
<td>
<p>Required. The name of the Mplus output file to read. Can be an absolute or relative path.
If <code>outfile</code> is a relative path or just the filename, then it is assumed that the file resides in
the working directory <code>getwd()</code>.</p>
</td></tr>
<tr><td><code id="getSavedata_Bparams_+3A_discardburnin">discardBurnin</code></td>
<td>
<p>Optional. Whether to discard the burn-in phase of each MCMC chain (i.e., the first half).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> containing the draws from the MCMC chains for a Bayesian model that uses the
SAVEDATA BPARAMETERS command. Each list element corresponds to a single MCMC chain, as specified by
the ANALYSIS: CHAINS syntax in <code>Mplus</code>. If discardBurnin is <code>FALSE</code>, then a superordinate list is
provided that divides output in terms of burn-in versus valid draw halves of the MCMC chains. For documentation
of how <code>Mplus</code> implements chain convergence checks and MCMC draws, see here: <a href="http://www.statmodel.com/download/Bayes3.pdf">http://www.statmodel.com/download/Bayes3.pdf</a>.
</p>


<h3>Note</h3>

<p>Note that the <code>outfile</code> parameter should refer to the Mplus output file (.out extension), not the
actual dataset generated by SAVEDATA. This function reads information about the dataset from the .out file
and loads the dataset accordingly.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist, Florian Boeing-Messing
</p>


<h3>References</h3>

<p><a href="http://www.statmodel.com/download/Bayes3.pdf">http://www.statmodel.com/download/Bayes3.pdf</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSavedata_Fileinfo">getSavedata_Fileinfo</a></code>, <code><a href="#topic+getSavedata_Data">getSavedata_Data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  fileInfo &lt;- getSavedata_Data("C:/Program Files/Mplus/Test Output.out")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSavedata_Data'>Load an analysis dataset from the SAVEDATA command into an R data.frame</h2><span id='topic+getSavedata_Data'></span>

<h3>Description</h3>

<p>This function reads an analysis dataset generated by the Mplus SAVEDATA command
and returns an R <code>data.frame</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSavedata_Data(outfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSavedata_Data_+3A_outfile">outfile</code></td>
<td>
<p>Required. The name of the Mplus output file to read. Can be an absolute or relative path.
If <code>outfile</code> is a relative path or just the filename, then it is assumed that the file resides in
the working directory <code>getwd()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the analysis dataset generated by the SAVEDATA command.
</p>


<h3>Note</h3>

<p>Note that the <code>outfile</code> parameter should refer to the Mplus output file (.out extension), not the
actual dataset generated by SAVEDATA. This function reads information about the dataset from the .out file
and loads the dataset accordingly.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSavedata_Fileinfo">getSavedata_Fileinfo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  savedat &lt;- getSavedata_Data("C:/Program Files/Mplus/Test Output.out")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSavedata_Fileinfo'>Read Variable Names, Formats, and Widths from data generated by the SAVEDATA Command</h2><span id='topic+getSavedata_Fileinfo'></span>

<h3>Description</h3>

<p>This function reads the SAVEDATA INFORMATION section from an Mplus output file that used
the SAVEDATA command, and it returns a list with the filename, variable names, variable formats,
and variable widths of the SAVEDATA file. If present, the function also parses information about the
Bayesian Parameters (BPARAMETERS) file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSavedata_Fileinfo(outfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSavedata_Fileinfo_+3A_outfile">outfile</code></td>
<td>
<p>required. The name of the Mplus output file to read. Can be an absolute or relative path.
If <code>outfile</code> is a relative path or just the filename, then it is assumed that the file resides in
the working directory <code>getwd()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of SAVEDATA file information that includes:
</p>
<table>
<tr><td><code>fileName</code></td>
<td>
<p>The name of the file containing the analysis dataset created by the Mplus SAVEDATA command.</p>
</td></tr>
<tr><td><code>fileVarNames</code></td>
<td>
<p>A character vector containing the names of variables in the dataset.</p>
</td></tr>
<tr><td><code>fileVarFormats</code></td>
<td>
<p>A character vector containing the Fortran-style formats of variables in the dataset.</p>
</td></tr>
<tr><td><code>fileVarWidths</code></td>
<td>
<p>A numeric vector containing the widths of variables in the dataset (which is stored in fixed-width format).</p>
</td></tr>
<tr><td><code>bayesFile</code></td>
<td>
<p>The name of the BPARAMETERS file containing draws from the posterior distribution created by
the Mplus SAVEDATA BPARAMETERS command.</p>
</td></tr>
<tr><td><code>bayesVarNames</code></td>
<td>
<p>A character vector containing the names of variables in the BPARAMETERS dataset.</p>
</td></tr>
<tr><td><code>tech3File</code></td>
<td>
<p>A character vector of the tech 3 output.</p>
</td></tr>
<tr><td><code>tech4File</code></td>
<td>
<p>A character vector of the tech 4 output.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSavedata_Data">getSavedata_Data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  fileInfo &lt;- getSavedata_Fileinfo("C:/Program Files/Mplus/Test Output.out")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSection'>Get an Output Section</h2><span id='topic+getSection'></span>

<h3>Description</h3>

<p>Get an Output Section
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSection(sectionHeader, outfiletext, headers = "standard")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSection_+3A_sectionheader">sectionHeader</code></td>
<td>
<p>Header section</p>
</td></tr>
<tr><td><code id="getSection_+3A_outfiletext">outfiletext</code></td>
<td>
<p>Output file text</p>
</td></tr>
<tr><td><code id="getSection_+3A_headers">headers</code></td>
<td>
<p>Can pass custom headers but defaults to a standard set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Section
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='graphModel'>Create a graphic model from Mplus</h2><span id='topic+graphModel'></span>

<h3>Description</h3>

<p>To do: add details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>graphModel(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="graphModel_+3A_model">model</code></td>
<td>
<p>The model</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dot model
</p>

<hr>
<h2 id='htmlout'>Read in Mplus Output File from HTML on the Mplus Website</h2><span id='topic+htmlout'></span>

<h3>Description</h3>

<p>This is an internal utility function to help with testing MplusAutomation.
On the Mplus website, many output files are included, which are good tests.
However, they are stored in HTML files. This function reads them in,
strips the HTML parts leaving just the output file, and then writes it to
disk and returns the file name, which can be used with <code>readModels()</code>
for testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>htmlout(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="htmlout_+3A_url">url</code></td>
<td>
<p>The url giving an Mplus output file in HTML format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string that is the filename where the output file was written.
Always a temp file in a temp directory.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
MplusAutomation:::htmlout("https://statmodel.com/usersguide/chap3/ex3.1.html")
</code></pre>

<hr>
<h2 id='HTMLSummaryTable'>Create an HTML file containing a summary table of Mplus model statistics</h2><span id='topic+HTMLSummaryTable'></span>

<h3>Description</h3>

<p>Creates an HTML file containing a summary table of model fit statistics extracted using the <code>extractModelSummaries</code> function.
By default, the following summary statistics are included: <code>Title, LL, Parameters, AIC, AICC, BIC, RMSEA_Estimate</code>,
but these are customizable using the <code>keepCols</code> and <code>dropCols</code> parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HTMLSummaryTable(
  modelList,
  filename = file.path(getwd(), "Model Comparison.html"),
  keepCols,
  dropCols,
  sortBy = NULL,
  display = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HTMLSummaryTable_+3A_modellist">modelList</code></td>
<td>
<p>A list of models (as a <code>data.frame</code>) returned from the <code>extractModelSummaries</code> function.</p>
</td></tr>
<tr><td><code id="HTMLSummaryTable_+3A_filename">filename</code></td>
<td>
<p>The name of the HTML file to be created. Can be an absolute or relative path. If <code>filename</code>
is a relative path or just the filename, then it is assumed that the file resides in the working
directory <code>getwd()</code>. Example: <code>"Mplus Summary.html"</code></p>
</td></tr>
<tr><td><code id="HTMLSummaryTable_+3A_keepcols">keepCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to display in the summary.
Only columns included in this list will be displayed (all others excluded). By default, <code>keepCols</code>
is: <code>c("Title", "LL", "Parameters", "AIC", "AICC", "BIC", "RMSEA_Estimate")</code>. Example: <code>c("Title", "LL", "AIC", "CFI")</code></p>
</td></tr>
<tr><td><code id="HTMLSummaryTable_+3A_dropcols">dropCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to omit from the summary.
Any column not included in this list will be displayed. By default, <code>dropCols</code> is <code>NULL</code>.
Example: <code>c("InputInstructions", "TLI")</code></p>
</td></tr>
<tr><td><code id="HTMLSummaryTable_+3A_sortby">sortBy</code></td>
<td>
<p>optional. Field name (as character string) by which to sort the table. Typically an information criterion
(e.g., &quot;AIC&quot; or &quot;BIC&quot;) is used to sort the table. 
Defaults to <code>NULL</code>, which does not sort the table.</p>
</td></tr>
<tr><td><code id="HTMLSummaryTable_+3A_display">display</code></td>
<td>
<p>optional. This parameter specifies whether to display the table in a web
browser upon creation (<code>TRUE</code> or <code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned by this function. It is solely used to create an HTML file containing summary statistics.
</p>


<h3>Note</h3>

<p>You must choose between <code>keepCols</code> and <code>dropCols</code> because it is not sensible to use these
together to include and exclude columns. The function will error if you include both parameters.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code>, <code><a href="#topic+showSummaryTable">showSummaryTable</a></code>, <code><a href="#topic+LatexSummaryTable">LatexSummaryTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='isEmpty'>Check whether a useable function argument was provided</h2><span id='topic+isEmpty'></span>

<h3>Description</h3>

<p>This is a simple utility to check whether a function argument is missing,
<code>NULL</code>, or has only <code>NA</code>s.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isEmpty(arg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isEmpty_+3A_arg">arg</code></td>
<td>
<p>A function argument</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
f1 &lt;- function(x) {
  if (!isEmpty(x)) return(mean(x, na.rm = TRUE))
  return(NULL)
}

f1()                 #&gt; NULL
f1(x = NA)           #&gt; NULL
f1(x = NULL)         #&gt; NULL
f1(x = c(NA, 1:2))   #&gt; 1.5

## End(Not run)
</code></pre>

<hr>
<h2 id='l_getSavedata_Bparams'>Internal function to load the draws from the Bayesian model posterior distribution</h2><span id='topic+l_getSavedata_Bparams'></span>

<h3>Description</h3>

<p>To do: add details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>l_getSavedata_Bparams(outfile, outfiletext, fileInfo, discardBurnin = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="l_getSavedata_Bparams_+3A_outfile">outfile</code></td>
<td>
<p>The Mplus output file to be used.</p>
</td></tr>
<tr><td><code id="l_getSavedata_Bparams_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The contents of the Mplus output file</p>
</td></tr>
<tr><td><code id="l_getSavedata_Bparams_+3A_fileinfo">fileInfo</code></td>
<td>
<p>The file info</p>
</td></tr>
<tr><td><code id="l_getSavedata_Bparams_+3A_discardburnin">discardBurnin</code></td>
<td>
<p>Logical value whether to discard the burnin iterations or not. Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class <code>mcmc</code> and <code>mplus.bparameters</code>
</p>

<hr>
<h2 id='l_getSavedata_Fileinfo'>local function that does the work of getSaveData_Fileinfo</h2><span id='topic+l_getSavedata_Fileinfo'></span>

<h3>Description</h3>

<p>This function is split out so that <code>getSaveData_Fileinfo</code> is
exposed to the user, but the parsing function can be used by
<code>readModels</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>l_getSavedata_Fileinfo(outfile, outfiletext, summaries)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="l_getSavedata_Fileinfo_+3A_outfile">outfile</code></td>
<td>
<p>A character string giving the name of the Mplus
output file.</p>
</td></tr>
<tr><td><code id="l_getSavedata_Fileinfo_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The contents of the output file, for example as read by <code>scan</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that includes:
</p>
<table>
<tr><td><code>fileName</code></td>
<td>
<p>The name of the file containing the analysis dataset created by the Mplus SAVEDATA command.</p>
</td></tr>
<tr><td><code>fileVarNames</code></td>
<td>
<p>A character vector containing the names of variables in the dataset.</p>
</td></tr>
<tr><td><code>fileVarFormats</code></td>
<td>
<p>A character vector containing the Fortran-style formats of variables in the dataset.</p>
</td></tr>
<tr><td><code>fileVarWidths</code></td>
<td>
<p>A numeric vector containing the widths of variables in the dataset (which is stored in fixed-width format).</p>
</td></tr>
<tr><td><code>bayesFile</code></td>
<td>
<p>The name of the BPARAMETERS file containing draws from the posterior distribution created by
the Mplus SAVEDATA BPARAMETERS command.</p>
</td></tr>
<tr><td><code>bayesVarNames</code></td>
<td>
<p>A character vector containing the names of variables in the BPARAMETERS dataset.</p>
</td></tr>
<tr><td><code>tech3File</code></td>
<td>
<p>A character vector of the tech 3 output.</p>
</td></tr>
<tr><td><code>tech4File</code></td>
<td>
<p>A character vector of the tech 4 output.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+getSavedata_Data">getSavedata_Data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!
</code></pre>

<hr>
<h2 id='l_getSavedata_readRawFile'>Internal function to load the draws from the Bayesian model posterior distribution</h2><span id='topic+l_getSavedata_readRawFile'></span>

<h3>Description</h3>

<p>This function is used by other extractor functions that read particular types of
saved data such as factor scores or iterations from an MCMC chain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>l_getSavedata_readRawFile(
  outfile,
  outfiletext,
  format = "fixed",
  fileName,
  varNames,
  varWidths,
  input
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="l_getSavedata_readRawFile_+3A_outfile">outfile</code></td>
<td>
<p>The Mplus output file to be used.</p>
</td></tr>
<tr><td><code id="l_getSavedata_readRawFile_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The contents of the Mplus output file</p>
</td></tr>
<tr><td><code id="l_getSavedata_readRawFile_+3A_format">format</code></td>
<td>
<p>A character string indicating the format. Defaults to &ldquo;fixed&rdquo;.</p>
</td></tr>
<tr><td><code id="l_getSavedata_readRawFile_+3A_filename">fileName</code></td>
<td>
<p>The name of the file</p>
</td></tr>
<tr><td><code id="l_getSavedata_readRawFile_+3A_varnames">varNames</code></td>
<td>
<p>The names of the variables to extract, comes from the fileInfo</p>
</td></tr>
<tr><td><code id="l_getSavedata_readRawFile_+3A_varwidths">varWidths</code></td>
<td>
<p>The widths of the variables to extract, comes from the fileInfo</p>
</td></tr>
<tr><td><code id="l_getSavedata_readRawFile_+3A_input">input</code></td>
<td>
<p>list of parsed Mplus input section extracted upstream in readModels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of the extracted data.
</p>

<hr>
<h2 id='LatexSummaryTable'>Display summary table of Mplus model statistics in separate window</h2><span id='topic+LatexSummaryTable'></span>

<h3>Description</h3>

<p>Creates a LaTex-formatted summary table of model fit statistics extracted using the <code>extractModelSummaries</code> function.
The table syntax is returned by the function, which is useful for embedding LaTex tables using Sweave.
By default, the following summary statistics are included: <code>Title, LL, Parameters, AIC, AICC, BIC, RMSEA_Estimate</code>,
but these are customizable using the <code>keepCols</code> and <code>dropCols</code> parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LatexSummaryTable(
  modelList,
  keepCols,
  dropCols,
  sortBy = NULL,
  label = NULL,
  caption = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LatexSummaryTable_+3A_modellist">modelList</code></td>
<td>
<p>A list of models (as a <code>data.frame</code>) returned from the <code>extractModelSummaries</code> function.</p>
</td></tr>
<tr><td><code id="LatexSummaryTable_+3A_keepcols">keepCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to display in the summary. Only columns
included in this list will be displayed (all others excluded). By default, <code>keepCols</code>
is: <code>c("Title", "LL", "Parameters", "AIC", "AICC", "BIC", "RMSEA_Estimate")</code>.
Example: <code>c("Title", "LL", "AIC", "CFI")</code></p>
</td></tr>
<tr><td><code id="LatexSummaryTable_+3A_dropcols">dropCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to omit from the summary.
Any column not included in this list will be displayed. By default, <code>dropCols</code> is <code>NULL</code>.
Example: <code>c("InputInstructions", "TLI")</code></p>
</td></tr>
<tr><td><code id="LatexSummaryTable_+3A_sortby">sortBy</code></td>
<td>
<p>optional. Field name (as character string) by which to sort the table.
Typically an information criterion (e.g., &quot;AIC&quot; or &quot;BIC&quot;) is used to sort the table.
Defaults to <code>NULL</code>, which does not sort the table.</p>
</td></tr>
<tr><td><code id="LatexSummaryTable_+3A_label">label</code></td>
<td>
<p>optional. A character string specifying the label for the LaTex table, which can be
used for referencing the table.</p>
</td></tr>
<tr><td><code id="LatexSummaryTable_+3A_caption">caption</code></td>
<td>
<p>optional. A character string specifying the caption for the LaTex table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A LaTex-formatted table summarizing the <code>modelList</code> is returned (created by <code>xtable</code>).
</p>


<h3>Note</h3>

<p>You must choose between <code>keepCols</code> and <code>dropCols</code> because it is not sensible to use these together
to include and exclude columns. The function will error if you include both parameters.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code>, <code><a href="#topic+HTMLSummaryTable">HTMLSummaryTable</a></code>, <code><a href="#topic+showSummaryTable">showSummaryTable</a></code>, <code><a href="utils.html#topic+Sweave">Sweave</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='lcademo'>Latent Class Analysis Demonstration</h2><span id='topic+lcademo'></span>

<h3>Description</h3>

<p>A list containing the Mplus Data, Output Files, and GH5 Files for a
demonstration of using MplusAutomation for latent class analysis.
Generated by the vignette on latent class analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lcademo
</code></pre>


<h3>Format</h3>

<p>A list containing 11 elements.
</p>

<dl>
<dt>Data</dt><dd><p>2 Class LCA data simulated using Mplus</p>
</dd>
<dt>CFA</dt><dd><p>Mplus output file for CFA</p>
</dd>
<dt>LCA2</dt><dd><p>Mplus output file for 2 class LCA</p>
</dd>
<dt>LCA3</dt><dd><p>Mplus output file for 3 class LCA</p>
</dd>
<dt>LCA4</dt><dd><p>Mplus output file for 4 class LCA</p>
</dd>
<dt>LCA5</dt><dd><p>Mplus output file for 5 class LCA</p>
</dd>
<dt>CFAGH5</dt><dd><p>GH5 file for CFA</p>
</dd>
<dt>LCA2GH5</dt><dd><p>GH5 file for 2 class LCA</p>
</dd>
<dt>LCA3GH5</dt><dd><p>GH5 file for 3 class LCA</p>
</dd>
<dt>LCA4GH5</dt><dd><p>GH5 file for 4 class LCA</p>
</dd>
<dt>LCA5GH5</dt><dd><p>GH5 file for 5 class LCA</p>
</dd>
</dl>


<hr>
<h2 id='long2LGMM'>Long data to wide latent growth mixture model</h2><span id='topic+long2LGMM'></span>

<h3>Description</h3>

<p>This function streamlines the process of converting long data into a format
that Mplus can use for latent growth mixture models in wide form.  It makes
use of continuous time scores, and these time scores must be supplied as
variables in the R dataset.  For the conversion to wide form, it is assumed
that although assessments may have happened in continuous time, a discrete
number of assessments (likely ismilar for all participants) were collected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>long2LGMM(
  data,
  idvar,
  assessmentvar,
  dv,
  timevars,
  misstrick = TRUE,
  k = 1L,
  title = "Trajectory Model",
  base = "trajmodel_",
  run = FALSE,
  processors = 1L,
  starts = "500 100",
  newdata,
  cov = c("un", "independent", "intercept", "zero"),
  model
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="long2LGMM_+3A_data">data</code></td>
<td>
<p>A data frame in long format (i.e., multiple rows per ID).</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_idvar">idvar</code></td>
<td>
<p>A character string of the variable name in the dataset
that is the ID variable.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_assessmentvar">assessmentvar</code></td>
<td>
<p>A character string of the variable name in the dataset that
indicates the particular assessment point for each timepoint.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_dv">dv</code></td>
<td>
<p>A character string of the dependent variable name.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_timevars">timevars</code></td>
<td>
<p>A character vector of the time variables.
Can be a single variable or more than one.  By allowing more than one variable,
it is easy to include linear; linear and quadratic; it is also possible to
calculate splines in R and pass these. The variable names should be 7 characters
or fewer, each.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_misstrick">misstrick</code></td>
<td>
<p>A logical value whether to set values of the DV where a time variable
is missing to missing as well.  Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_k">k</code></td>
<td>
<p>An integer indicating the number of distinct classes to test.
Currently must be greater than 0 and less than 10.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_title">title</code></td>
<td>
<p>A character string giving a title for the model</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_base">base</code></td>
<td>
<p>A character string providing a base name for model outputs,
that is combined with the number of classes.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_run">run</code></td>
<td>
<p>A logical value whether or not to run the models or only
create the data and input files, but not run them.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_processors">processors</code></td>
<td>
<p>An integer value indicating the number of processors to use.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_starts">starts</code></td>
<td>
<p>A character string passed to Mplus providing the number of
random starts and iterations</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_newdata">newdata</code></td>
<td>
<p>A data frame of new values to use for generating predicted
trajectories by class.</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_cov">cov</code></td>
<td>
<p>A character string indicating the random covariance structure to use</p>
</td></tr>
<tr><td><code id="long2LGMM_+3A_model">model</code></td>
<td>
<p>An optional argument, can pass an existing model, the output from
mplusModeler().</p>
</td></tr>
</table>


<h3>Details</h3>

<p>One valuable feature of this function is that it makes it possible to feed
any continuous time scores to Mplus for mixture modelling.  For example,
continuous linear time is straightforward, but so to are quadratic
time models or piecewise models.  Using facilities in R, spline models
are also comparatively easy to specify.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Simulate Some Data from 3 classes
library(MASS)
set.seed(1234)
allcoef &lt;- rbind(
  cbind(1, mvrnorm(n = 200,
                   mu = c(0, 2, 0),
                   Sigma = diag(c(.2, .1, .01)),
                   empirical = TRUE)),
  cbind(2, mvrnorm(n = 200,
                   mu = c(-3.35, 2, 2),
                   Sigma = diag(c(.2, .1, .1)),
                   empirical = TRUE)),
  cbind(3, mvrnorm(n = 200,
                   mu = c(3.35, 2, -2),
                   Sigma = diag(c(.2, .1, .1)),
                   empirical = TRUE)))
allcoef &lt;- as.data.frame(allcoef)
names(allcoef) &lt;- c("Class", "I", "L", "Q")
allcoef$ID &lt;- 1:nrow(allcoef)
d &lt;- do.call(rbind, lapply(1:nrow(allcoef), function(i) {
  out &lt;- data.frame(
    ID = allcoef$ID[i],
    Class = allcoef$Class[i],
    Assess = 1:11,
    x = sort(runif(n = 11, min = -2, max = 2)))
  out$y &lt;- rnorm(11,
    mean = allcoef$I[i] + allcoef$L[i] * out$x + allcoef$Q[i] * out$x^2,
    sd = .1)
  return(out)
}))

## create splines
library(splines)
time_splines &lt;- ns(d$x, df = 3, Boundary.knots = quantile(d$x, probs = c(.02, .98)))
d$t1 &lt;- time_splines[, 1]
d$t2 &lt;- time_splines[, 2]
d$t3 &lt;- time_splines[, 3]
d$xq &lt;- d$x^2

## create new data to be used for predictions
nd &lt;- data.frame(ID = 1,
                 x = seq(from = -2, to = 2, by = .1))
nd.splines &lt;- with(attributes(time_splines),
                   ns(nd$x, df = degree, knots = knots,
                      Boundary.knots = Boundary.knots))
nd$t1 &lt;- nd.splines[, 1]
nd$t2 &lt;- nd.splines[, 2]
nd$t3 &lt;- nd.splines[, 3]
nd$xq &lt;- nd$x^2

## create a tuning grid of models to try
## all possible combinations are created of different time trends
## different covariance structures of the random effects
## and different number of classes
tuneGrid &lt;- expand.grid(
  dv = "y",
  timevars = list(c("t1", "t2", "t3"), "x", c("x", "xq")),
  starts = "2 1",
  cov = c("independent", "zero"),
  k = c(1L, 3L),
  processors = 1L, run = TRUE,
  misstrick = TRUE, stringsAsFactors = FALSE)
tuneGrid$title &lt;- paste0(
  c("linear", "quad", "spline")[sapply(tuneGrid$timevars, length)],
  "_",
  sapply(tuneGrid$cov, function(x) if(nchar(x)==4) substr(x, 1, 4) else substr(x, 1, 3)),
  "_",
  tuneGrid$k)
tuneGrid$base &lt;- paste0(
  c("linear", "quad", "spline")[sapply(tuneGrid$timevars, length)],
  "_",
  sapply(tuneGrid$cov, function(x) if(nchar(x)==4) substr(x, 1, 4) else substr(x, 1, 3)))

## example using long2LGMM to fit one model at a time
mres &lt;- long2LGMM(
        data = d,
        idvar = "ID",
        assessmentvar = "Assess",
        dv = tuneGrid$dv[1],
        timevars = tuneGrid$timevars[[1]],
        misstrick = tuneGrid$misstrick[1],
        k = tuneGrid$k[1],
        title = paste0(tuneGrid$title[1], tuneGrid$k[1]),
        base = tuneGrid$base[1],
        run = tuneGrid$run[1],
        processors = tuneGrid$processors[1],
        starts = tuneGrid$starts[1],
        newdata = nd,
        cov = tuneGrid$cov[1])

rm(mres)

## End(Not run)
</code></pre>

<hr>
<h2 id='lookupSimpleTags'>Simple tag lookup</h2><span id='topic+lookupSimpleTags'></span>

<h3>Description</h3>

<p>The purpose of this function is to set the currentValue column
for the bodyTags and initTags data.frames for simple tags only.
Most values will be replaced at the bottom level of recursion,
but simple tags do not change over iterations, so can be set one time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lookupSimpleTags(templateTags, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lookupSimpleTags_+3A_templatetags">templateTags</code></td>
<td>
<p>The template tags</p>
</td></tr>
<tr><td><code id="lookupSimpleTags_+3A_initcollection">initCollection</code></td>
<td>
<p>The initial collection</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tag.
</p>

<hr>
<h2 id='lookupTech1Parameter'>Lookup the matrix element for a give parameter number</h2><span id='topic+lookupTech1Parameter'></span>

<h3>Description</h3>

<p>The <code>lookupTech1Parameter</code> function identifies the position in the Mplus model
matrices corresponding to a given parameter defined in the TECHNICAL 1 PARAMETER
SPECIFICATION OUTPUT. The goal of this function is to aid in identifying problematic parameters
often printed in the warnings and errors section of Mplus output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lookupTech1Parameter(tech1Output, paramNumber)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lookupTech1Parameter_+3A_tech1output">tech1Output</code></td>
<td>
<p>The object corresponding to the TECH1 parameter specification from readModels.</p>
</td></tr>
<tr><td><code id="lookupTech1Parameter_+3A_paramnumber">paramNumber</code></td>
<td>
<p>The parameter number to lookup</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the row(s) and column(s) of TECH1 parameter specification matching
the requested <code>paramNumber</code>.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readModels">readModels</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  models &lt;- readModels("test1.out")
  param &lt;- lookupTech1Parameter(models$tech1, 16)

## End(Not run)
</code></pre>

<hr>
<h2 id='lookupValue'>Lookup values</h2><span id='topic+lookupValue'></span>

<h3>Description</h3>

<p>To do: fill in some details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lookupValue(tag, tagType, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lookupValue_+3A_tag">tag</code></td>
<td>
<p>name of tag for which we want to know the current value</p>
</td></tr>
<tr><td><code id="lookupValue_+3A_tagtype">tagType</code></td>
<td>
<p>type of tag (simple, array, etc.) for the tag to lookup</p>
</td></tr>
<tr><td><code id="lookupValue_+3A_initcollection">initCollection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Current value
</p>

<hr>
<h2 id='matrixExtract'>Reconstruct matrix from multi-line text output</h2><span id='topic+matrixExtract'></span>

<h3>Description</h3>

<p>main worker function for extracting Mplus matrix output
where matrices are spread across blocks to keep within width constraints
example: tech1 matrix output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrixExtract(
  outfiletext,
  headerLine,
  filename,
  ignore.case = FALSE,
  expect_sig = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrixExtract_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The text of the output file</p>
</td></tr>
<tr><td><code id="matrixExtract_+3A_headerline">headerLine</code></td>
<td>
<p>The header line</p>
</td></tr>
<tr><td><code id="matrixExtract_+3A_filename">filename</code></td>
<td>
<p>The name of the output file</p>
</td></tr>
<tr><td><code id="matrixExtract_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Whether to ignore case of header line</p>
</td></tr>
<tr><td><code id="matrixExtract_+3A_expect_sig">expect_sig</code></td>
<td>
<p>Whether to track value significance TRUE/FALSE (* in Mplus) as an attribute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='mixtureSummaryTable'>Create a summary table of Mplus mixture models</h2><span id='topic+mixtureSummaryTable'></span>

<h3>Description</h3>

<p>Creates a summary table of model fit statistics and relevant diagnostic
information for a list of mixture models. Default statistics reported are in
line with published guidelines (see Jung &amp; Wickrama, 2008; Nylund et al.,
2007): <code>c("Title", "Classes", "Warnings", "AIC", "BIC", "aBIC",
"Entropy", "T11_VLMR_PValue", "T11_LMR_PValue", "BLRT_PValue", "min_N",
"max_N", "min_prob", "max_prob")</code>. The table is customizable using the
<code>keepCols</code> parameter, which is passed through to <a href="#topic+SummaryTable">SummaryTable</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixtureSummaryTable(
  modelList,
  keepCols = c("Title", "Classes", "Warnings", "AIC", "BIC", "aBIC", "Entropy",
    "T11_VLMR_PValue", "T11_LMR_PValue", "BLRT_PValue", "min_N", "max_N", "min_prob",
    "max_prob"),
  sortBy = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixtureSummaryTable_+3A_modellist">modelList</code></td>
<td>
<p>A list of models returned from the
<code>extractModelSummaries</code> function.</p>
</td></tr>
<tr><td><code id="mixtureSummaryTable_+3A_keepcols">keepCols</code></td>
<td>
<p>A vector of character strings indicating which
columns/variables to display in the summary. Only columns included in this
list will be displayed (all others excluded). By default, <code>keepCols</code> is:
<code>c("Title", "Classes", "Warnings", "AIC", "BIC", "aBIC","Entropy",
"T11_VLMR_PValue", "T11_LMR_PValue", "BLRT_PValue", "min_N", "max_N",
"min_prob", "max_prob")</code>.</p>
</td></tr>
<tr><td><code id="mixtureSummaryTable_+3A_sortby">sortBy</code></td>
<td>
<p>Field name (as character string) by which to sort the
table. Typically an information criterion (e.g., &quot;AIC&quot; or &quot;BIC&quot;) is used to
sort the table. Defaults to &quot;AICC&quot;. Set to NULL by default, so the table is
ordered by increasing number of classes.</p>
</td></tr>
<tr><td><code id="mixtureSummaryTable_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="#topic+SummaryTable">SummaryTable</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class data.frame.
</p>


<h3>Note</h3>

<p>This function is partially a wrapper around SummaryTable, with
enhancements for summarizing mixture models.
</p>


<h3>Author(s)</h3>

<p>Caspar J. van Lissa
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SummaryTable">SummaryTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
res &lt;- createMixtures(classes = 1:2, filename_stem = "iris", rdata = iris,
               OUTPUT = "tech11 tech14;",
               run = 1L)
mixtureSummaryTable(res)

## End(Not run)
</code></pre>

<hr>
<h2 id='mplus_as.numeric'>Convert Mplus Number to Numeric</h2><span id='topic+mplus_as.numeric'></span>

<h3>Description</h3>

<p>Helper function to convert strings formatted in Mplus
Fortran-style scientific notation using D to indicate double.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mplus_as.numeric(vec, expect_sig = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mplus_as.numeric_+3A_vec">vec</code></td>
<td>
<p>A character vector of Mplus numbers
to convert to numeric</p>
</td></tr>
<tr><td><code id="mplus_as.numeric_+3A_expect_sig">expect_sig</code></td>
<td>
<p>Whether to expect significance values denoted by asterisk;
yields a 'sig' attribute that will be TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>MplusAutomation:::mplus_as.numeric("3.1D2")
</code></pre>

<hr>
<h2 id='mplus.traceplot'>Plot the samples for each MCMC chain as a function of iterations</h2><span id='topic+mplus.traceplot'></span>

<h3>Description</h3>

<p>Displays a traceplot of the MCMC draws from the poster distribution of each parameter estimate for a Bayesian Mplus model.
This function requires that 1) PLOT: TYPE=PLOT2; be included in the Mplus input file, 2) a gh5 file be present corresponding
to the Mplus output file (and containing a bayesian_data section), and 3) that the rhdf5 package be installed to allow
the gh5 file to be imported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mplus.traceplot(mplus.model, rows = 4, cols = 4, parameters_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mplus.traceplot_+3A_mplus.model">mplus.model</code></td>
<td>
<p>An Mplus model extracted by the <code>readModels</code> function.</p>
</td></tr>
<tr><td><code id="mplus.traceplot_+3A_rows">rows</code></td>
<td>
<p>Number of rows to display per plot.</p>
</td></tr>
<tr><td><code id="mplus.traceplot_+3A_cols">cols</code></td>
<td>
<p>Optional. Number of columns to display per plot.</p>
</td></tr>
<tr><td><code id="mplus.traceplot_+3A_parameters_only">parameters_only</code></td>
<td>
<p>Optional. If TRUE, only the unstandardized parameter estimates from the MCMC
draws will be displayed (as opposed to standardized estimates, r-square estimates, etc.).
The unstandardized estimates all begin with &quot;Parameter&quot; in the Mplus gh5 output.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A multi-panel plot is drawn to the screen and the user is prompted to display the next plot if more than rows x columns estimates are
in the model.
</p>


<h3>Value</h3>

<p>No value is returned by this function.
Called for the side effect of displaying an MCMC chains traceplot.
</p>


<h3>Note</h3>

<p>Trace and density plots can also be obtained using the coda package and the bparameters
element of the mplus.model object. This requires that the posterior draws
be saved using SAVEDATA: BPARAMETERS syntax. See example below.
</p>


<h3>Author(s)</h3>

<p>Joseph Glass, Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="coda.html#topic+plot.mcmc">plot.mcmc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  myModel &lt;- readModels("BayesModel_WithGH5MCMC.out")
  mplus.traceplot(myModel, rows=2, cols=3)

  #alternative using the coda package
  library(coda)
  plot(myModel$bparameters$valid_draw)

## End(Not run)
</code></pre>

<hr>
<h2 id='MplusAutomation'>Automating Mplus Model Estimation and Interpretation</h2><span id='topic+MplusAutomation'></span>

<h3>Description</h3>

<p>The MplusAutomation package leverages the flexibility of the
R language to automate latent variable model estimation and interpretation
using 'Mplus', a powerful latent variable modeling program developed by Muthen
and Muthen (<a href="http://www.statmodel.com">http://www.statmodel.com</a>). Specifically, MplusAutomation provides routines
for creating related groups of models, running batches of models, and extracting
and tabulating model parameters and fit statistics.
</p>


<h3>Details</h3>

<p>The MplusAutomation package has four primary purposes:
</p>

<ol>
<li><p> To automatically run groups/batches of models.
</p>
</li>
<li><p> To provide routines to extract model fit statistics, parameter estimates, and raw data from 'Mplus' output files.
</p>
</li>
<li><p> To facilitate comparisons among models
</p>
</li>
<li><p> To provide a template language that allows for the creation of related input files.
</p>
</li></ol>

<p>The core routine for running batches of models is <code><a href="#topic+runModels">runModels</a></code>, with
an easy-to-use GUI wrapper, <code><a href="#topic+runModels_Interactive">runModels_Interactive</a></code>.
</p>
<p>The core routine for extracting information from 'Mplus' outputs is <code><a href="#topic+readModels">readModels</a></code>, which
returns a list containing all output sections that the package can extract.
</p>
<p>To extract summaries, parameters, modification indices, SAVEDATA output, and all other sections that the package
can understand, use the <code><a href="#topic+readModels">readModels</a></code> function. This is the recommended way to extract 'Mplus'
output with this package. If the <code>target</code> argument to <code><a href="#topic+readModels">readModels</a></code> is a single .out file,
an <code>mplus.model</code> (that is also a <code>list</code>) will be returned containing all output sections that
the package can extract. If <code>target</code> is a directory, a list of <code>mplus.model</code> objects will be returned,
named according to the output filenames.
</p>
<p>Note: <code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code> is deprecated and <code><a href="#topic+readModels">readModels</a></code> should be preferred.
To extract model summary statistics from one or more output files, see
<code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code>, which returns a <code>data.frame</code> of
fit statistics for models located within a directory. Model fit results can
be summarized in tabular form (for comparing among models) using
<code><a href="#topic+showSummaryTable">showSummaryTable</a></code> (displays table in separate window),
<code><a href="#topic+HTMLSummaryTable">HTMLSummaryTable</a></code> (creates HTML file containing summary table),
or <code><a href="#topic+LatexSummaryTable">LatexSummaryTable</a></code> (returns a LaTex-formatted table of
summary statistics).
</p>
<p>Deprecated: To extract raw data created by the SAVEDATA command (e.g., class membership probabilities
or factor scores), see <code><a href="#topic+getSavedata_Data">getSavedata_Data</a></code>.
</p>
<p>Deprecated: To extract unstandardized or standardized parameter estimates from a single output file,
see <code><a href="#topic+extractModelParameters">extractModelParameters</a></code>.
</p>
<p>Detailed model fit and parameter comparisons between two models can be obtained using
<code><a href="#topic+compareModels">compareModels</a></code>.
</p>
<p>To create a group of related models from a single template, see <code><a href="#topic+createModels">createModels</a></code>.
Please read the MplusAutomation vignette provided along with the package (and on the CRAN website)
in order to understand the template language: vignette(&quot;Vignette&quot;, package=&quot;MplusAutomation&quot;).
</p>
<p>In addition to the major functions above, a function for converting an R data.frame
for use with 'Mplus' is provided: <code><a href="#topic+prepareMplusData">prepareMplusData</a></code>. This converts the
data.frame to a tab-delimited file and provides an 'Mplus' syntax stub for variable names.
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> MplusAutomation</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2024-01-27</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> LGPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Michael Hallquist <a href="mailto:michael.hallquist@gmail.com">michael.hallquist@gmail.com</a>,
Joshua F. Wiley <a href="mailto:jwiley.psych@gmail.com">jwiley.psych@gmail.com</a>
</p>
<p>Maintainer: Michael Hallquist <a href="mailto:michael.hallquist@gmail.com">michael.hallquist@gmail.com</a>
</p>


<h3>References</h3>

<p>Mplus software. Muthen and Muthen. <a href="http://www.statmodel.com">http://www.statmodel.com</a>
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+runModels">runModels</a></code> for an example running a model.
</p>

<hr>
<h2 id='mplusAvailable'>Check whether Mplus can be found</h2><span id='topic+mplusAvailable'></span>

<h3>Description</h3>

<p>This is a simple utility to check whether Mplus can be found.
Returns 0 if Mplus command can be found by the system.
If <code>silent = FALSE</code>, prints a message to the user
to help suggest what to do.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mplusAvailable(silent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mplusAvailable_+3A_silent">silent</code></td>
<td>
<p>A logical whether to print a message or not.
Defaults to <code>TRUE</code> for silent operation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The status of finding Mplus. Per unix conventions,
status 0 indicates Mplus was found (0 problems) and
status 1 indicates that Mplus was not found.
</p>


<h3>Author(s)</h3>

<p>Joshua Wiley
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mplusAvailable(silent = TRUE)
mplusAvailable(silent = FALSE)
</code></pre>

<hr>
<h2 id='mplusGLM'>Function to fit GLMs in Mplus</h2><span id='topic+mplusGLM'></span>

<h3>Description</h3>

<p>The purpose of this function is to make it (relatively) easy to fit
(most) generalized linear models in Mplus. Fitting GLMs in Mplus
offers advantages such as using full information maximum likelihood
for missing data, robust estimators (default used is MLR),
and standard errors adjusted for clustering (planned; not currently
available via <code>mplusGLM()</code>. The overarching aim of this function
is to make most GLMs as easy to fit in Mplus as they are in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mplusGLM(formula, data, idvar = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mplusGLM_+3A_formula">formula</code></td>
<td>
<p>An R formula class object as used in <code>glm()</code>.
Note that currently, only basic formula are accepted. On the fly
recoding, arthimetic, and on the fly interactions do not currently
work.</p>
</td></tr>
<tr><td><code id="mplusGLM_+3A_data">data</code></td>
<td>
<p>A dataset.</p>
</td></tr>
<tr><td><code id="mplusGLM_+3A_idvar">idvar</code></td>
<td>
<p>Optional. A character string indicating the name
of the ID variable. Not currently used but may be used in future.</p>
</td></tr>
<tr><td><code id="mplusGLM_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to helper functions.
For example <code>.mplusMultinomial()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that although there are benefits to fitting GLMs in Mplus.
Caution also is warranted. Using full information maximum likelihood
for missing data requires a number of assumptions. These may be (badly)
violated. <code>mplusGLM()</code> requires the analyst to check these as
appropriate.
</p>
<p>Currently, <code>mplusGLM()</code> only supports multinomial outcomes.
More outcomes are planned in the future including binary,
continuous/normal, and count outcomes.
</p>


<h3>Value</h3>

<p>A list of results and Mplus model object.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(1234)
tmpd &lt;- data.frame(
  x1 = rnorm(200),
  x2 = rnorm(200),
  x3 = cut(rnorm(200),
           breaks = c(-Inf, -.7, .7, Inf),
           labels = c("a", "b", "c")))
tmpd$y &lt;- cut(rnorm(200, sd = 2) + tmpd$x1 + tmpd$x2 + I(tmpd$x3 == "b"),
              breaks = c(-Inf, -.5, 1, Inf),
              labels = c("L", "M", "H"))
test &lt;- mplusGLM(y ~ x1 + x2 + x3, data = tmpd)

## End(Not run)
</code></pre>

<hr>
<h2 id='mplusModeler'>Create, run, and read Mplus models.</h2><span id='topic+mplusModeler'></span>

<h3>Description</h3>

<p>This is a convenience wrapper to automate many of the
usual steps required to run an Mplus model. It relies in part
on functions from the MplusAutomation package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mplusModeler(
  object,
  dataout,
  modelout,
  run = 0L,
  check = FALSE,
  varwarnings = TRUE,
  Mplus_command = detectMplus(),
  writeData = c("ifmissing", "always", "never"),
  hashfilename = TRUE,
  killOnFail = TRUE,
  quiet = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mplusModeler_+3A_object">object</code></td>
<td>
<p>An object of class mplusObject</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_dataout">dataout</code></td>
<td>
<p>the name of the file to output the data to for Mplus.
If missing, defaults to <code>modelout</code> changing .inp to .dat.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_modelout">modelout</code></td>
<td>
<p>the name of the output file for the model.
This is the file all the syntax is written to, which becomes the
Mplus input file. It should end in .inp.  If missing, defaults to
<code>dataout</code> changing the extension to .inp.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_run">run</code></td>
<td>
<p>an integer indicating how many models should be run. Defaults to zero.
If zero, the data and model input files are all created, but the model is not run.
This can be useful for seeing how the function works and what setup is done. If one, a basic
model is run. If greater than one, the model is bootstrapped with <code>run</code> replications as
well as the basic model.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_check">check</code></td>
<td>
<p>logical whether the body of the Mplus syntax should be checked for missing
semicolons using the <code><a href="#topic+parseMplus">parseMplus</a></code> function. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_varwarnings">varwarnings</code></td>
<td>
<p>A logical whether warnings about variable length should be left, the
default, or removed from the output file.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_mplus_command">Mplus_command</code></td>
<td>
<p>optional. N.B.: No need to pass this parameter for most users (has intelligent
defaults). Allows the user to specify the name/path of the Mplus executable to be used for
running models. This covers situations where Mplus is not in the system's path,
or where one wants to test different versions of the Mplus program.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_writedata">writeData</code></td>
<td>
<p>A character vector, one of &lsquo;ifmissing&rsquo;,
&lsquo;always&rsquo;, &lsquo;never&rsquo; indicating whether the data files
(*.dat) should be written to disk.  This is passed on to <code>prepareMplusData</code>.
Note that previously, <code>mplusModeler</code> always (re)wrote the data to disk.
However, now the default is to write the data to disk only if it is missing
(i.e., &lsquo;ifmissing&rsquo;).  See details for further information.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_hashfilename">hashfilename</code></td>
<td>
<p>A logical whether or not to add a hash of the raw data to the
data file name.  Defaults to <code>TRUE</code> in <code>mplusModeler</code>.  Note that this
behavior is a change from previous versions and differs from <code>prepareMplusData</code>
which maintains the old behavior by default of <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_killonfail">killOnFail</code></td>
<td>
<p>A logical whether or not to kill any mplus processes on failure.
Passed on to control behavior of <code><a href="#topic+runModels">runModels</a></code>. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_quiet">quiet</code></td>
<td>
<p>optional. If <code>TRUE</code>, show status messages in the console.</p>
</td></tr>
<tr><td><code id="mplusModeler_+3A_...">...</code></td>
<td>
<p>additional arguments passed to the
<code><a href="#topic+prepareMplusData">prepareMplusData</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Combined with functions from the MplusAutomation package,
this function is designed to make it easy to fit Mplus models
from R and to ease many of the usual frustrations with Mplus.
For example, Mplus has very specific formats it accepts data in,
but also very little data management facilities. Using <span class="rlang"><b>R</b></span> data
management is easy. This function is designed to make using data
from <span class="rlang"><b>R</b></span> in Mplus models easy.
It is also common to want to fit many different models that are
slight variants. This can be tedius in Mplus, but using <span class="rlang"><b>R</b></span> you can
create one basic set of input, store it in a vector, and then just
modify that (e.g., using regular expressions) and pass it to Mplus.
You can even use loops or the <code>*apply</code> constructs to fit the same
sort of model with little variants.
</p>
<p>The <code>writeData</code> argument is new and can be used to reduce overhead
from repeatedly writing the same data from R to the disk.  When using the
&lsquo;always&rsquo; option, <code>mplusModeler</code> behaves as before, always writing
data from R to the disk.  This remains the default for the <code>prepareMplusData</code>
function to avoid confusion or breaking old code.  However, for <code>mplusModeler</code>,
the default has been set to &lsquo;ifmissing&rsquo;.  In this case, R generates an
md5 hash of the data prior to writing it out to the disk.  The md5 hash is based on:
(1) the dimensions of the dataset, (2) the variable names,
(3) the class of every variable, and (4) the raw data from the first and last rows.
This combination ensures that under most all circumstances, if the data changes,
the hash will change.  The hash is appended to the specified data file name
(which is controlled by the logical <code>hashfilename</code> argument).  Next R
checks in the directory where the data would normally be written.  If a data file
exists in that directory that matches the hash generated from the data, R will
use that existing data file instead of writing out the data again.
A final option is &lsquo;never&rsquo;.  If this option is used, R will not write
the data out even if no file matching the hash is found.
</p>


<h3>Value</h3>

<p>An Mplus model object, with results.
If <code>run = 1</code>, returns an invisible list of results from the run of
the Mplus model (see <code><a href="#topic+readModels">readModels</a></code> from the
MplusAutomation package). If <code>run = 0</code>, the function returns a list
with two elements, &lsquo;model&rsquo; and &lsquo;boot&rsquo; that are both <code>NULL</code>.
if <code>run &gt;= 1</code>,returns a list with two elements, &lsquo;model&rsquo; and &lsquo;boot&rsquo;
containing the regular Mplus model output and the boot object, respectively.
In all cases, the Mplus data file and input files are created.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+runModels">runModels</a></code> and <code><a href="#topic+readModels">readModels</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# minimal example of a model using builtin data, allowing R
# to automatically guess the correct variables to use
test &lt;- mplusObject(MODEL = "mpg ON wt hp;
  wt WITH hp;", rdata = mtcars)

 # estimate the model in Mplus and read results back into R
 res &lt;- mplusModeler(test, modelout = "model1.inp", run = 1L)

 # when forcing writeData = "always" data gets overwritten (with a warning)
 resb &lt;- mplusModeler(test, modelout = "model1.inp", run = 1L,
                      writeData = "always")

 # using writeData = "ifmissing", the default, no data re-written
 resc &lt;- mplusModeler(test, modelout = "model1.inp", run = 1L)

 # using writeData = "ifmissing", the default, data ARE written
 # if data changes
 test &lt;- mplusObject(MODEL = "mpg ON wt hp;
   wt WITH hp;", rdata = mtcars[-10, ])
 resd &lt;- mplusModeler(test, modelout = "model1.inp", run = 1L)

 # show summary
 summary(resd)

 # show coefficients
 coef(resd)

 # what if you wanted confidence intervals
 # and standardized values?
 # first update to tell Mplus you want them, re-run and print
 test &lt;- update(test, OUTPUT = ~ "CINTERVAL; STDYX;")
 resd &lt;- mplusModeler(test, modelout = "model1.inp", run = 1L)

coef(resd)
confint(resd)

# now standardized
coef(resd, type = "stdyx")
confint(resd, type = "stdyx")

# put together in one data frame if desired
merge(
  coef(resd, type = "stdyx"),
  confint(resd, type = "stdyx"),
  by = "Label")

 # remove files
 unlink(resc$results$input$data$file)
 unlink(resd$results$input$data$file)
 unlink("model1.inp")
 unlink("model1.out")

# simple example of a model using builtin data
# demonstrates use with a few more sections
test2 &lt;- mplusObject(
  TITLE = "test the MplusAutomation Package and mplusModeler wrapper;",
  MODEL = "
    mpg ON wt hp;
    wt WITH hp;",
  usevariables = c("mpg", "wt", "hp"),
  rdata = mtcars)

 res2 &lt;- mplusModeler(test2, modelout = "model2.inp", run = 1L)

 # remove files
 unlink(res2$results$input$data$file)
 unlink("model2.inp")
 unlink("model2.out")

 # similar example using a robust estimator for standard errors
 # and showing how an existing model can be easily updated and reused
 test3 &lt;- update(test2, ANALYSIS = ~ "ESTIMATOR = MLR;")

 res3 &lt;- mplusModeler(test3, modelout = "model3.inp", run = 1L)
 unlink(res3$results$input$data$file)
 unlink("model3.inp")
 unlink("model3.out")

 # now use the built in bootstrapping methods
 # note that these work, even when Mplus will not bootstrap
 # also note how categorical variables and weights are declared
 # in particular, the usevariables for Mplus must be specified
 # because mroe variables are included in the data than are in the
 # model. Note the R usevariables includes all variables for both
 # model and weights. The same is true for clustering.
 test4 &lt;- mplusObject(
   TITLE = "test bootstrapping;",
   VARIABLE = "
     CATEGORICAL = cyl;
     WEIGHT = wt;
     USEVARIABLES = cyl mpg;",
   ANALYSIS = "ESTIMATOR = MLR;",
   MODEL = "
     cyl ON mpg;",
   usevariables = c("mpg", "wt", "cyl"),
   rdata = mtcars)

 res4 &lt;- mplusModeler(test4, "mtcars.dat", modelout = "model4.inp", run = 10L,
   hashfilename = FALSE)
 # see the results
 res4$results$boot

 # remove files
 unlink("mtcars.dat")
 unlink("model4.inp")
 unlink("model4.out")

# Monte Carlo Simulation Example
montecarlo &lt;- mplusObject(
 TITLE = "Monte Carlo Example;",
 MONTECARLO = "
  NAMES ARE i1-i5;
  NOBSERVATIONS = 100;
  NREPS = 100;
  SEED = 1234;",
 MODELPOPULATION = "
  f BY i1-i5*1;
  f@1;
  i1-i5*1;",
 ANALYSIS = "
  ESTIMATOR = BAYES;
  PROC = 2;
  fbiter = 100;",
 MODEL = "
  f BY i1-i5*.8 (l1-l5);
  f@1;
  i1-i5*1;",
 MODELPRIORS = "
   l1-l5 ~ N(.5 .1);",
 OUTPUT = "TECH9;")

fitMonteCarlo &lt;- mplusModeler(montecarlo,
  modelout = "montecarlo.inp",
  run = 1L,
  writeData = "always",
  hashfilename = FALSE)

unlink("montecarlo.inp")
unlink("montecarlo.out")


# Example including ID variable and extracting factor scores
dat &lt;- mtcars
dat$UID &lt;- 1:nrow(mtcars)

testIDs &lt;- mplusObject(
  TITLE = "test the mplusModeler wrapper with IDs;",
  VARIABLE = "IDVARIABLE = UID;",
  MODEL = "
    F BY mpg wt hp;",
  SAVEDATA = "
    FILE IS testid_fscores.dat;
    SAVE IS fscores;
    FORMAT IS free;",
  usevariables = c("UID", "mpg", "wt", "hp"),
  rdata = dat)

 resIDs &lt;- mplusModeler(testIDs, modelout = "testid.inp", run = 1L)

# view the saved data from Mplus, including factor scores
# the indicator variables, and the ID variable we specified
head(resIDs$results$savedata)

# merge the factor scores with the rest of the original data
# merge together by the ID column
dat &lt;- merge(dat, resIDs$results$savedata[, c("F", "UID")],
  by = "UID")

# correlate merged factor scores against some other new variable
with(dat, cor(F, qsec))




# can write multiply imputed data too
# here are three "imputed" datasets
idat &lt;- list(
  data.frame(mpg = mtcars$mpg, hp = c(100, mtcars$hp[-1])),
  data.frame(mpg = mtcars$mpg, hp = c(110, mtcars$hp[-1])),
  data.frame(mpg = mtcars$mpg, hp = c(120, mtcars$hp[-1])))

# if we turn on hashing in the filename the first time,
# we can avoid overwriting notes the second time
testobjimp &lt;- mplusObject(MODEL = "[mpg];", rdata = idat, imputed = TRUE)

testimp &lt;- mplusModeler(
  testobjimp,
  modelout = "testimp.inp",
  writeData = "ifmissing", hashfilename=FALSE)

testimp &lt;- mplusModeler(
  testobjimp,
  modelout = "testimp.inp",
  writeData = "ifmissing", hashfilename=TRUE)

testimp &lt;- mplusModeler(
  testobjimp,
  modelout = "testimp.inp",
  writeData = "ifmissing", hashfilename=TRUE,
  run = TRUE)

testobjimp2 &lt;- mplusObject(MODEL = "[hp];", rdata = idat, imputed = TRUE)
testimp2 &lt;- mplusModeler(
  testobjimp2,
  modelout = "testimp2.inp",
  writeData = "ifmissing", hashfilename=TRUE,
  run = TRUE)

 # remove files
 unlink(resIDs$results$input$data$file)
 unlink("testid.inp")
 unlink("testid.out")
 unlink("testid_fscores.dat")
 unlink("Mplus Run Models.log")

## End(Not run)
</code></pre>

<hr>
<h2 id='mplusObject'>Create an Mplus model object</h2><span id='topic+mplusObject'></span>

<h3>Description</h3>

<p>This is a function to create an Mplus model object in <code>R</code>.
The object holds all the sections of an Mplus input file, plus some
extra <code>R</code> ones. Once created, the model can be run using other
functions such as <code>mplusModeler</code> or updated using methods defined
for the <code>update</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mplusObject(
  TITLE = NULL,
  DATA = NULL,
  VARIABLE = NULL,
  DEFINE = NULL,
  MONTECARLO = NULL,
  MODELPOPULATION = NULL,
  MODELMISSING = NULL,
  ANALYSIS = NULL,
  MODEL = NULL,
  MODELINDIRECT = NULL,
  MODELCONSTRAINT = NULL,
  MODELTEST = NULL,
  MODELPRIORS = NULL,
  OUTPUT = NULL,
  SAVEDATA = NULL,
  PLOT = NULL,
  usevariables = NULL,
  rdata = NULL,
  autov = TRUE,
  imputed = FALSE,
  quiet = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mplusObject_+3A_title">TITLE</code></td>
<td>
<p>A character string of the title for Mplus.</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_data">DATA</code></td>
<td>
<p>A charater string of the data section for Mplus (note, do not define
the filename as this is generated automatically)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_variable">VARIABLE</code></td>
<td>
<p>A character string of the variable section for Mplus (note, do not
define the variable names from the dataset as this is generated automatically)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_define">DEFINE</code></td>
<td>
<p>A character string of the define section for Mplus (optional)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_montecarlo">MONTECARLO</code></td>
<td>
<p>A character string of the montecarlo section for Mplus (optional).
If used, <code>autov</code> is defaults to <code>FALSE</code> instead of the usual default,
<code>TRUE</code>, but may still be overwritten, if desired.</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_modelpopulation">MODELPOPULATION</code></td>
<td>
<p>A character string of the MODEL POPULATION section for Mplus (optional).</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_modelmissing">MODELMISSING</code></td>
<td>
<p>A character string of the MODEL MISSING section for Mplus (optional).</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_analysis">ANALYSIS</code></td>
<td>
<p>A character string of the analysis section for Mplus (optional)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_model">MODEL</code></td>
<td>
<p>A character string of the model section for Mplus (optional, although
typically you want to define a model)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_modelindirect">MODELINDIRECT</code></td>
<td>
<p>A character string of the MODEL INDIRECT section for Mplus (optional).</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_modelconstraint">MODELCONSTRAINT</code></td>
<td>
<p>A character string of the MODEL CONSTRAINT section for Mplus (optional).</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_modeltest">MODELTEST</code></td>
<td>
<p>A character string of the MODEL TEST section for Mplus (optional).</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_modelpriors">MODELPRIORS</code></td>
<td>
<p>A character string of the MODEL PRIORS section for Mplus (optional).</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_output">OUTPUT</code></td>
<td>
<p>A character string of the output section for Mplus (optional)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_savedata">SAVEDATA</code></td>
<td>
<p>A character string of the savedata section for Mplus (optional)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_plot">PLOT</code></td>
<td>
<p>A character string of the plot section for Mplus (optional)</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_usevariables">usevariables</code></td>
<td>
<p>A character vector of the variables from the
<code>R</code> dataset to use in the model.</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_rdata">rdata</code></td>
<td>
<p>An <code>R</code> dataset to be used for the model.</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_autov">autov</code></td>
<td>
<p>A logical (defaults to <code>TRUE</code>) argument indicating
whether R should attempt to guess the correct variables to use from
the R dataset, if <code>usevariables</code> is left <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_imputed">imputed</code></td>
<td>
<p>A logical whether the data are multiply imputed (a list).
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_quiet">quiet</code></td>
<td>
<p>optional. If <code>TRUE</code>, show status messages in the console.</p>
</td></tr>
<tr><td><code id="mplusObject_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="#topic+mplusModeler">mplusModeler</a></code> if
<code>run &gt; 0</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Mplus model objects  allow a base model to be defined,
and then flexibly update the data, change the precise model, etc. If a section
does not vary between models, you can leave it the same. For example, suppose
you are fitting a number of models, but in all cases, wish to use maximum likelihood
estimator, &ldquo;ANALYSIS: ESTIMATOR = ML;&rdquo; and would like standardized output,
&ldquo;OUTPUT: STDYX;&rdquo;. Rather than retype those in every model, they can be defined
in one Mplus model object, and then that can simply be updated with different models,
leaving the analysis and output sections untouched. This also means that if a reviewer
comes back and asks for all analyses to be re-run say using the robust maximum likelihood
estimator, all you have to do is change it in the model object once, and re run all your code.
</p>


<h3>Value</h3>

<p>A list of class <code>mplusObject</code> with elements
</p>
<table>
<tr><td><code>TITLE</code></td>
<td>
<p>The title in Mplus (if defined)</p>
</td></tr>
<tr><td><code>DATA</code></td>
<td>
<p>The data section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>VARIABLE</code></td>
<td>
<p>The variable section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>DEFINE</code></td>
<td>
<p>The define section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MONTECARLO</code></td>
<td>
<p>The montecarlo section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MODELPOPULATION</code></td>
<td>
<p>The modelpopulation section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MODELMISSING</code></td>
<td>
<p>The modelmissing section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>ANALYSIS</code></td>
<td>
<p>The analysis section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MODEL</code></td>
<td>
<p>The model section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MODELINDIRECT</code></td>
<td>
<p>The modelindirect section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MODELCONSTRAINT</code></td>
<td>
<p>The modelconstraint section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MODELTEST</code></td>
<td>
<p>The modeltest section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>MODELPRIORS</code></td>
<td>
<p>The modelpriors section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>OUTPUT</code></td>
<td>
<p>The output section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>SAVEDATA</code></td>
<td>
<p>The savedata section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>PLOT</code></td>
<td>
<p>The plot section in Mplus (if defined)</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>NULL by default, but can be later updated to include the results from the model run.</p>
</td></tr>
<tr><td><code>usevariables</code></td>
<td>
<p>A character vector of the variables from the <code>R</code> data set to be used.</p>
</td></tr>
<tr><td><code>rdata</code></td>
<td>
<p>The <code>R</code> data set to use for the model.</p>
</td></tr>
<tr><td><code>imputed</code></td>
<td>
<p>A logical whether the data are multiply imputed.</p>
</td></tr>
<tr><td><code>autov</code></td>
<td>
<p>A logical whether the data should have the usevariables detected automatically or not</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mplusModeler">mplusModeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
example1 &lt;- mplusObject(MODEL = "mpg ON wt;",
  usevariables = c("mpg", "hp"), rdata = mtcars)
str(example1)
rm(example1)

# R figures out the variables automagically, with a message
example2 &lt;- mplusObject(MODEL = "mpg ON wt;",
  rdata = mtcars, autov = TRUE)
str(example2)
rm(example2)

# R can also try to figure out a list of variables when
# variable names are hyphenated first-last variable, all variables
# between the first and last one will be included
example3 &lt;- mplusObject(MODEL = "mpg ON wt-vs;",
  rdata = mtcars, autov = TRUE)
str(example3)
rm(example3)

# R warns if the first 8 characters of a (used) variable name are not unique
# as they will be indistinguishable in the Mplus output
example4 &lt;- mplusObject(MODEL = "basename_01 ON basename_02;",
  rdata = data.frame(basename_01 = 1:5, basename_02 = 5:1),
  autov = TRUE)
rm(example4)
</code></pre>

<hr>
<h2 id='mplusRcov'>Create Mplus code for various residual covariance structures.</h2><span id='topic+mplusRcov'></span>

<h3>Description</h3>

<p>This function makes it easy to write the Mplus syntax for various
residual covariance structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mplusRcov(
  x,
  type = c("homogenous", "heterogenous", "cs", "toeplitz", "ar", "un"),
  r = "rho",
  e = "e",
  collapse = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mplusRcov_+3A_x">x</code></td>
<td>
<p>input character vector of variable names, ordered by time</p>
</td></tr>
<tr><td><code id="mplusRcov_+3A_type">type</code></td>
<td>
<p>A character string indicating the type of residual covariance
structure to be used. Defaults to &lsquo;homogenous&rsquo;. Current options include
&lsquo;homogenous&rsquo;, &lsquo;heterogenous&rsquo;, &lsquo;cs&rsquo; for compound symmetric,
&lsquo;toeplitz&rsquo; for banded toeplitz, &lsquo;ar&rsquo; for autoregressive, and
&lsquo;un&rsquo; for unstructured.</p>
</td></tr>
<tr><td><code id="mplusRcov_+3A_r">r</code></td>
<td>
<p>a character vector of the base label to name covariance parameters.
Defaults to &lsquo;rho&rsquo;.</p>
</td></tr>
<tr><td><code id="mplusRcov_+3A_e">e</code></td>
<td>
<p>a character vector of the error variance of the variable.
Used to create constraints on the covariance parameters. Defaults to &lsquo;e&rsquo;.</p>
</td></tr>
<tr><td><code id="mplusRcov_+3A_collapse">collapse</code></td>
<td>
<p>whether to collapse the covariance code using &lsquo;PWITH&rsquo;. Note that
at the time of writing, Mplus does not allow more than 80 characters per row.
Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <strong>homogenous</strong> residual covariance structure estimates one parameter:
the residual variance, <code class="reqn">\sigma^{2}_{e}</code>. The residual variance
is assumed to be identical for all variables and all covariances are
assumed to be zero. The structure is represented in this table.
</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> t1 </td><td style="text-align: left;"> t2 </td><td style="text-align: left;"> t3 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> tn </td>
</tr>
<tr>
 <td style="text-align: left;">
  t1 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t2 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t3 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
  tn </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The <strong>heterogenous</strong> residual covariance structure estimates
<b>n</b> parameters, where <b>n</b> is the number of variables.
A unique residual variance is estimated for every variable. All
covariances are assumed to be zero. The structure is represented in this table.
</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> t1 </td><td style="text-align: left;"> t2 </td><td style="text-align: left;"> t3 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> tn </td>
</tr>
<tr>
 <td style="text-align: left;">
  t1 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e1}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t2 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e2}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t3 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e3}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
  tn </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{en}</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The <strong>compound symmetric</strong> residual covariance structure estimates
two parameters: one for the residual variance , <code class="reqn">\sigma^{2}_{e}</code>,
and one for the covariance. The residual variance
is assumed to be identical for all variables and all covariances are
assumed to be identical. The structure is represented in this table.
</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> t1 </td><td style="text-align: left;"> t2 </td><td style="text-align: left;"> t3 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> tn </td>
</tr>
<tr>
 <td style="text-align: left;">
  t1 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t2 </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t3 </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
  tn </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The <strong>toeplitz</strong> residual covariance structure estimates
<b>n</b> parameters, one for every band of the matrix.
The residual variance , <code class="reqn">\sigma^{2}_{e}</code>, is
assumed to be identical for all variables. The covariances one step removed
are all assumed identical. Likewise for all further bands.
The structure is represented in this table.
</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> t1 </td><td style="text-align: left;"> t2 </td><td style="text-align: left;"> t3 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> tn </td>
</tr>
<tr>
 <td style="text-align: left;">
  t1 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t2 </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t3 </td><td style="text-align: left;"> <code class="reqn">\rho_{2}</code> </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
  tn </td><td style="text-align: left;"> <code class="reqn">\rho_{n}</code> </td><td style="text-align: left;"> <code class="reqn">\rho_{n - 1}</code> </td><td style="text-align: left;"> <code class="reqn">\rho_{n - 2}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The <strong>autoregressive</strong> residual covariance structure has two parameters:
the residual variance, <code class="reqn">\sigma^{2}_{e}</code> and
the correlation between adjacent time points, <code class="reqn">\rho</code>. The variances
are constrained to be equal for all time points. A single correlation
parameter is estimated. The <code class="reqn">\rho</code> is the correlation between adjacent
time points such as 1 and 2 or 2 and 3. More distant relationships are assumed
to have smaller correlations, decreasing exponentially. Thus between 1 and 3,
the estimate is <code class="reqn">\rho^2</code>. The structure is represented in this table.
</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> t1 </td><td style="text-align: left;"> t2 </td><td style="text-align: left;"> t3 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> tn </td>
</tr>
<tr>
 <td style="text-align: left;">
  t1 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t2 </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t3 </td><td style="text-align: left;"> <code class="reqn">\rho^2</code> </td><td style="text-align: left;"> <code class="reqn">\rho</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
  tn </td><td style="text-align: left;"> <code class="reqn">\rho^{n-1}</code> </td><td style="text-align: left;"> <code class="reqn">\rho^{n-2}</code> </td><td style="text-align: left;"> <code class="reqn">\rho^{n-3}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e}</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Because structural equation models generally model covariance structures,
the autoregressive residual structure must be parameterized in terms of
covariances. This is done in two parts. First, the function returns
syntax to estimate all the pairwise covariances, labelling the parameters
<code class="reqn">\rho</code>, <code class="reqn">\rho^2</code>, etc. so that they are constrained to be
equal. Next, it returns the syntax for the necessary model constraints to
constrain the different covariances, to decrease exponentially in their
correlations. This is done via:
</p>
<p style="text-align: center;"><code class="reqn">\rho^2 = (\frac{\rho}{\sigma^2_{e}})^{2}\sigma^2_{e}</code>
</p>

<p>and likewise for all later time points.
</p>
<p>The <strong>unstructured</strong> residual covariance structure estimates
<code class="reqn">\frac{n(n + 1)}{2}</code> parameters. It is unstructured
in that every variance and covariance is freely estimated with no
constraints. However, in most cases, this results in an overparameterized
model and is unestimable. The structure is represented in this table.
</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> t1 </td><td style="text-align: left;"> t2 </td><td style="text-align: left;"> t3 </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> tn </td>
</tr>
<tr>
 <td style="text-align: left;">
  t1 </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e1}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t2 </td><td style="text-align: left;"> <code class="reqn">\rho_{1}</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e2}</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  t3 </td><td style="text-align: left;"> <code class="reqn">\rho_{2}</code> </td><td style="text-align: left;"> <code class="reqn">\rho_{3}</code> </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{e3}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
  tn </td><td style="text-align: left;"> <code class="reqn">\rho_{5}</code> </td><td style="text-align: left;"> <code class="reqn">\rho_{6}</code> </td><td style="text-align: left;"> <code class="reqn">\rho_{7}</code> </td><td style="text-align: left;"> ... </td><td style="text-align: left;"> <code class="reqn">\sigma^{2}_{en}</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>A named character vector of class &lsquo;MplusRstructure&rsquo; with four elements:
</p>
<table>
<tr><td><code>all</code></td>
<td>
<p>A character string collapsing all other sections.</p>
</td></tr>
<tr><td><code>Variances</code></td>
<td>
<p>A character string containing all of the variances.</p>
</td></tr>
<tr><td><code>Covariances</code></td>
<td>
<p>A character string containing all of the
covariances, properly labelled to allow constraints and the
autoregressive residual covariance structure.</p>
</td></tr>
<tr><td><code>Constraints</code></td>
<td>
<p>A character string containing the &lsquo;MODEL CONSTRAINT&rsquo;
section and code needed to parameterize the residual covariance structure
as autoregressive.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># all five structures collapsing
mplusRcov(letters[1:4], "homogenous", "rho", "e", TRUE)
mplusRcov(letters[1:4], "heterogenous", "rho", "e", TRUE)
mplusRcov(letters[1:4], "cs", "rho", "e", TRUE)
mplusRcov(letters[1:4], "toeplitz", "rho", "e", TRUE)
mplusRcov(letters[1:4], "ar", "rho", "e", TRUE)
mplusRcov(letters[1:4], "un", "rho", "e", TRUE)

# all five structures without collapsing
# useful for long names or many variables
# where a line may cross 80 characters
mplusRcov(letters[1:4], "homogenous", "rho", "e", FALSE)
mplusRcov(letters[1:4], "heterogenous", "rho", "e", FALSE)
mplusRcov(letters[1:4], "cs", "rho", "e", FALSE)
mplusRcov(letters[1:4], "toeplitz", "rho", "e", FALSE)
mplusRcov(letters[1:4], "ar", "rho", "e", FALSE)
mplusRcov(letters[1:4], "un", "rho", "e", FALSE)
</code></pre>

<hr>
<h2 id='OS'>Functions to identify the operating system</h2><span id='topic+OS'></span><span id='topic+is.windows'></span><span id='topic+is.macos'></span><span id='topic+is.linux'></span><span id='topic+os'></span>

<h3>Description</h3>

<p>Functions to identify the operating system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.windows()

is.macos()

is.linux()

os()
</code></pre>


<h3>Value</h3>

<p>A logical value for the is.* functions and a character string for os()
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
MplusAutomation:::is.windows()

MplusAutomation:::is.macos()

MplusAutomation:::is.linux()

MplusAutomation:::os()
</code></pre>

<hr>
<h2 id='paramExtract'>Extract parameters from a data frame of Mplus estimates</h2><span id='topic+paramExtract'></span>

<h3>Description</h3>

<p>This is a simple convenience function designed to facilitate
looking at specific parameter types by easily return a subset
of a data frame with those types only. It is designed to follow up
the results returned from the <code><a href="#topic+readModels">readModels</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paramExtract(
  x,
  params = c("regression", "loading", "undirected", "expectation", "variability", "new")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="paramExtract_+3A_x">x</code></td>
<td>
<p>A data frame (specifically the type returned by <code>readModels</code>) containing
parameters. Should be specific such as unstandardized and the data frame must have a
column called &lsquo;paramHeader&rsquo;.</p>
</td></tr>
<tr><td><code id="paramExtract_+3A_params">params</code></td>
<td>
<p>A character string indicating the types of parameters to be returned.
Options currently include &lsquo;regression&rsquo;, &lsquo;loading&rsquo;, &lsquo;undirected&rsquo;,
&lsquo;expectation&rsquo;, &lsquo;variability&rsquo;, and &lsquo;new&rsquo; for new/additional parameters.
Regressions include regression of one variable
<code>ON</code> another. &lsquo;loading&rsquo; include indicator variables (which are assumed caused by the
underlying latent variable) and variables in latent growth models (<code>BY</code> or <code>|</code>).
Undirected paths currently only include covariances, indicated by the <code>WITH</code>
syntax in Mplus. Expectation paths are the unconditional or conditional expectations of
variables.  In other words those parameters related to the first moments. For independent
variables, these are the means, <code class="reqn">E(X)</code> and the conditional means or intercepts,
<code class="reqn">E(X | f(\theta))</code> where <code class="reqn">f(\theta)</code> is the model,
some function of the parameters, <code class="reqn">\theta</code>. Finally &lsquo;variability&rsquo;
refers to both variances and residual variances, corresponding to the second moments.
As with the expectations, variances are unconditional for variables that are not
predicted or conditioned on any other variable in the model whereas residual variances
are conditional on the model. Note that <span class="rlang"><b>R</b></span> uses fuzzy matching so that each of these
can be called via shorthand, &lsquo;r&rsquo;, &lsquo;l&rsquo;, &lsquo;u&rsquo;, &lsquo;e&rsquo;, and &lsquo;v&rsquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A subset data frame with the parameters of interest.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readModels">readModels</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  test &lt;- mplusObject(
    TITLE = "test the MplusAutomation Package and my Wrapper;",
    MODEL = "
      mpg ON wt hp;
      wt WITH hp;",
    usevariables = c("mpg", "wt", "hp"),
    rdata = mtcars)

  res &lt;- mplusModeler(test, "mtcars.dat", modelout = "model1.inp", run = 1L)

  # store just the unstandardized parameters in 'd'
  d &lt;- res$results$parameters$unstandardized
  # extract just regression parameters
  paramExtract(d, "regression")
  # extract other types of parameters using shorthand
  paramExtract(d, "u")
  paramExtract(d, "e")
  paramExtract(d, "v")

## End(Not run)
</code></pre>

<hr>
<h2 id='parseCatOutput'>Parse Categorical Output</h2><span id='topic+parseCatOutput'></span>

<h3>Description</h3>

<p>Helper function for parsing output with variables and categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseCatOutput(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parseCatOutput_+3A_text">text</code></td>
<td>
<p>The output to parse.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The parsed output
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>"
Example:
UNIVARIATE PROPORTIONS AND COUNTS FOR CATEGORICAL VARIABLES

SOP2A
  Category 1    0.254      631.000
  Category 2    0.425     1056.000
  Category 3    0.174      432.000
  Category 4    0.147      365.000

Or Item Categories in IRT Parameterization

Item Categories
 U1
   Category 1         0.000      0.000      0.000      1.000
   Category 2        -0.247      0.045     -5.534      0.000
   Category 3         0.699      0.052     13.325      0.000
   Category 4        -0.743      0.057    -12.938      0.000
   Category 5         0.291      0.052      5.551      0.000
"
</code></pre>

<hr>
<h2 id='parseMplus'>Check Mplus code for missing semicolons or too long lines.</h2><span id='topic+parseMplus'></span>

<h3>Description</h3>

<p>The function parses a character string containing Mplus code
and checks that every non blank line ends in either a colon or
a semicolon. In addition, it checks that every line is less than 90
characters, because Mplus ignores everything after 90 characters on a line
which can be a source of enigmatic errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseMplus(x, add = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parseMplus_+3A_x">x</code></td>
<td>
<p>a character string containing Mplus code.</p>
</td></tr>
<tr><td><code id="parseMplus_+3A_add">add</code></td>
<td>
<p>logical indicating whether or not to add semicolons to
lines that do not have them. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is fairly basic at the moment. It works by simply
removing blank space (spaces, tabs, etc.) and then if a line does not
terminate in a colon or semicolon, it returns a note and the line
number.  Optionally, it can add semicolons to any lines missing them
and return the input with added semicolons. To check for lines that are too long,
all trailing (but not before) white space is removed, and then the number of
characters is checked.
</p>


<h3>Value</h3>

<p>a character vector containing the input text and
optionally added semicolons.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mplusModeler">mplusModeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# sample input
test &lt;- "
MODEL:
  mpg ON wt hp;
  wt WITH hp
"
# check and return
cat(parseMplus(test), file=stdout(), fill=TRUE)
# add missing semicolons and return
cat(parseMplus(test, TRUE), file=stdout(), fill=TRUE)
# line that is too long for Mplus
test &lt;- "
MODEL:
  mpg cyl disp hp drat wt qsec vs am gear PWITH cyl disp hp drat wt qsec vs am gear carb;
"
cat(parseMplus(test), file=stdout())
</code></pre>

<hr>
<h2 id='parseTags'>Parses tags in the body section</h2><span id='topic+parseTags'></span>

<h3>Description</h3>

<p>Parses tags in the body section (character vector) and
init collection (list of vars defined in the init section).
This is an internal function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseTags(bodySection, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parseTags_+3A_bodysection">bodySection</code></td>
<td>
<p>The body</p>
</td></tr>
<tr><td><code id="parseTags_+3A_initcollection">initCollection</code></td>
<td>
<p>The initial collection</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with three elements, where each list represents the location,
start character, end character, tag type, etc. of each tag.
</p>

<dl>
<dt>initTags</dt><dd><p>initMatches</p>
</dd>
<dt>bodyTags</dt><dd><p>bodyMatches</p>
</dd>
<dt>bodyText</dt><dd><p>bodySection</p>
</dd>
</dl>


<hr>
<h2 id='plot.mplusObject'>Plot coefficients for an mplusObject</h2><span id='topic+plot.mplusObject'></span>

<h3>Description</h3>

<p>This is a method for plotting the coefficients of an mplusObject.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mplusObject'
plot(x, y, type = c("stdyx", "un", "std", "stdy"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.mplusObject_+3A_x">x</code></td>
<td>
<p>An object of class mplusObject</p>
</td></tr>
<tr><td><code id="plot.mplusObject_+3A_y">y</code></td>
<td>
<p>Not currently used</p>
</td></tr>
<tr><td><code id="plot.mplusObject_+3A_type">type</code></td>
<td>
<p>A character vector indicating the type of coefficients to return.
One of &ldquo;un&rdquo;, &ldquo;std&rdquo;, &ldquo;stdy&rdquo;, or &ldquo;stdyx&rdquo;. Defaults to &ldquo;stdyx&rdquo;.</p>
</td></tr>
<tr><td><code id="plot.mplusObject_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass on (not currently used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing.  Called for its side effect of plotting the coefficients.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# simple example of a model using builtin data
# demonstrates use
test &lt;- mplusObject(
  TITLE = "test the MplusAutomation Package;",
  MODEL = "
    mpg ON wt hp;
    wt WITH hp;",
  OUTPUT = "STANDARDIZED;",
  usevariables = c("mpg", "wt", "hp"),
  rdata = mtcars)

res &lt;- mplusModeler(test, "mtcars.dat", modelout = "model1.inp", run = 1L)

# example of the coef method
plot(res)

# remove files
unlink("mtcars.dat")
unlink("model1.inp")
unlink("model1.out")
unlink("Mplus Run Models.log")

## End(Not run)
</code></pre>

<hr>
<h2 id='plotGrowthMixtures'>Plot growth mixture models</h2><span id='topic+plotGrowthMixtures'></span>

<h3>Description</h3>

<p>Plots latent and observed trajectories for a list of growth mixture models,
specified using Mplus' '|' notation (e.g., i s | ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotGrowthMixtures(
  modelList,
  bw = FALSE,
  rawdata = FALSE,
  estimated = TRUE,
  poly = FALSE,
  alpha_range = c(0, 0.1),
  growth_variables = NULL,
  time_scale = NULL,
  jitter_lines = NULL,
  coefficients = "unstandardized"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotGrowthMixtures_+3A_modellist">modelList</code></td>
<td>
<p>A list object of Mplus models, or a single Mplus model. This
function additionally requires the models to be growth mixture models.</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_bw">bw</code></td>
<td>
<p>Logical. Should the plot be black and white (for print), or color?</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_rawdata">rawdata</code></td>
<td>
<p>Logical. Should raw data (observed trajectories) be plotted in the
background? Setting this to TRUE might result in long plotting times.
Requires including the Mplus syntax 'SAVEDATA: FILE IS &quot;filename&quot;; SAVE =
cprobabilities' in the Mplus input.</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_estimated">estimated</code></td>
<td>
<p>Logical. Should the Mplus estimates growth trajectories be
displayed? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_poly">poly</code></td>
<td>
<p>Logical. Should polynomial smooth lines be displayed for each
group? Defaults to FALSE. If set to TRUE, the order of the polynomial is
determined by taking the number of observed timepoints - 1 (e.g., 3 time
points results in a quadratic polynomial). The data are weighted according
to their posterior class probabilities. Note that rawdata must be TRUE in
order to obtain polynomial smooth lines, because these are calculated on the
raw data.</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_alpha_range">alpha_range</code></td>
<td>
<p>Numeric vector. The minimum and maximum values of alpha
(transparancy) for the raw data. Minimum should be 0; lower maximum values of
alpha can help reduce overplotting.</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_growth_variables">growth_variables</code></td>
<td>
<p>Character vector. Indicate the names of the latent 
variables for the growth trajectory to plot. If NULL (default), all latent
growth variables are used. Use this option to plot one trajectory when a
model contains multiple latent growth trajectories.</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_time_scale">time_scale</code></td>
<td>
<p>Numeric vector. In case some of the loadings of the growth
model are freely
estimated, provide the correct time scale here (e.g., c(0, 1, 2)).</p>
</td></tr>
<tr><td><code id="plotGrowthMixtures_+3A_jitter_lines">jitter_lines</code></td>
<td>
<p>Numeric. Indicate the amount (expressed in fractions of a
standard deviation of all observed data) by which the observed trajectories
should be vertically jittered. Like alpha_range, this parameter helps control
overplotting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'ggplot'.
</p>


<h3>Author(s)</h3>

<p>Caspar J. van Lissa
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
mydat &lt;- read.csv(
system.file("extdata", "ex8.2.csv", package = "MplusAutomation"))
res &lt;- createMixtures(classes = 1:3, filename_stem = "ex8.2",
                      model_overall = 
                                    "i s | V1@0 V2@1 V3@2 V4@3;  i s on V5;",
                      rdata = mydat,
                      OUTPUT = "tech11 tech14;", 
                      usevariables = c("V1", "V2", "V3", "V4", "V5"),
                      run = 1L)
plotGrowthMixtures(res, estimated = TRUE, rawdata = TRUE, 
                   time_scale = c(0, 1, 2, 3))
plotGrowthMixtures(res, estimated = FALSE, rawdata = TRUE, poly = TRUE)

res &lt;- createMixtures(classes = 1:3, filename_stem = "ex8.2_free",
                      model_overall = "i s | V1@0 V2* V3* V4@3;  i s on V5;",
                      rdata = mydat,
                      OUTPUT = "tech11 tech14;",
                      usevariables = c("V1", "V2", "V3", "V4", "V5"),
                      run = 1L)
plotMixtureDensities(res, variables = c("V1", "V2", "V3", "V4"))
plotGrowthMixtures(res, estimated = TRUE, rawdata = TRUE,
                   bw = TRUE, time_scale = c(0, 1, 2, 3),
                   alpha_range = c(0, .05))

plotGrowthMixtures(res, estimated = FALSE, rawdata = TRUE,
                   poly = TRUE, bw = TRUE, time_scale = c(0, 1, 2, 3))

## End(Not run)
</code></pre>

<hr>
<h2 id='plotLTA'>Plot latent transition model</h2><span id='topic+plotLTA'></span>

<h3>Description</h3>

<p>Plots latent transition probabilities and classification probabilities for
a single latent transition model (a model with multiple categorical latent
variables, regressed on one another). Stroke thickness of nodes represents
the proportion of cases most likely assigned to that class, with wider 
strokes representing greater probability. Edge thickness and transparency
represent the probability of making a particular transition (left to right),
with thicker/darker edges representing greater probability.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotLTA(
  mplusModel,
  node_stroke = 2,
  max_edge_width = 2,
  node_labels = "variable.class",
  x_labels = "variable"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotLTA_+3A_mplusmodel">mplusModel</code></td>
<td>
<p>A single Mplus model object, returned by . This
function additionally requires the model to be a mixture model with multiple
categorical latent variables.</p>
</td></tr>
<tr><td><code id="plotLTA_+3A_node_stroke">node_stroke</code></td>
<td>
<p>Integer. Base stroke thickness for nodes. Set to 
<code>NULL</code> to give each node the same stroke thickness.</p>
</td></tr>
<tr><td><code id="plotLTA_+3A_max_edge_width">max_edge_width</code></td>
<td>
<p>Integer. Maximum width of edges.</p>
</td></tr>
<tr><td><code id="plotLTA_+3A_node_labels">node_labels</code></td>
<td>
<p>Character vector, defaults to <code>"variable.class"</code>, 
which labels each node by the name of the variable, and the number of the 
class it represents. Set to <code>"class"</code> to display only class numbers, or
provide a named character vector where the names correspond to original class
labels, and the values correspond to their substitute values.</p>
</td></tr>
<tr><td><code id="plotLTA_+3A_x_labels">x_labels</code></td>
<td>
<p>Character vector, defaults to <code>"variable"</code>, which labels
the x-axis with the names of the categorical latent variables. Set to
<code>NULL</code> to remove axis labels, or provide a named character vector where
the names correspond to original x-axis labels, and the values correspond to
their substitute values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'ggplot'.
</p>


<h3>Author(s)</h3>

<p>Caspar J. van Lissa
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
mydat &lt;- read.csv(
system.file("extdata", "ex8.13.csv", package = "MplusAutomation"))
createMixtures(
classes = 2,
filename_stem = "dating",
model_overall = "c2 ON c1;",
model_class_specific = c(
"[u11$1] (a{C});  [u12$1] (b{C});  [u13$1] (c{C});  [u14$1] (d{C});  [u15$1] (e{C});",
"[u21$1] (a{C});  [u22$1] (b{C});  [u23$1] (c{C});  [u24$1] (d{C});  [u25$1] (e{C});"
),
rdata = mydat,
ANALYSIS = "PROCESSORS IS 2;  LRTSTARTS (0 0 40 20);  PARAMETERIZATION = PROBABILITY;",
VARIABLE = "CATEGORICAL = u11-u15 u21-u25;"
)
runModels(filefilter = "dating")
results &lt;- readModels(filefilter = "dating")
plotLTA(results)

## End(Not run)
</code></pre>

<hr>
<h2 id='plotMixtureDensities'>Create density plots for mixture models</h2><span id='topic+plotMixtureDensities'></span>

<h3>Description</h3>

<p>Creates a density plot for a single object of class 'mplus.model', or a
faceted plot of density plots for an object of class 'mplus.model.list'. For
each variable, a Total density plot will be shown, along with separate
density plots for each latent class, where cases are weighted by the
posterior probability of being assigned to that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotMixtureDensities(
  modelList,
  variables = NULL,
  bw = FALSE,
  conditional = FALSE,
  alpha = 0.2,
  facet_labels = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotMixtureDensities_+3A_modellist">modelList</code></td>
<td>
<p>A list object of Mplus models, or a single Mplus model</p>
</td></tr>
<tr><td><code id="plotMixtureDensities_+3A_variables">variables</code></td>
<td>
<p>Which variables to plot. If NULL, plots all variables that
are present in all Mplus models.</p>
</td></tr>
<tr><td><code id="plotMixtureDensities_+3A_bw">bw</code></td>
<td>
<p>Logical. Whether to make a black and white plot (for print) or a
color plot. Defaults to FALSE, because these density plots are hard to read
in black and white.</p>
</td></tr>
<tr><td><code id="plotMixtureDensities_+3A_conditional">conditional</code></td>
<td>
<p>Logical. Whether to show a conditional density plot
(surface area is divided amongst the latent classes), or a classic density
plot (surface area of the total density plot is equal to one, and is
subdivided amongst the classes).</p>
</td></tr>
<tr><td><code id="plotMixtureDensities_+3A_alpha">alpha</code></td>
<td>
<p>Numeric (0-1). Only used when bw and conditional are FALSE. Sets
the transparency of geom_density, so that classes with a small number of
cases remain visible.</p>
</td></tr>
<tr><td><code id="plotMixtureDensities_+3A_facet_labels">facet_labels</code></td>
<td>
<p>Named character vector, the names of which should 
correspond to the facet labels one wishes to rename, and the values of which
provide new names for these facets. For example, to rename variables, in the
example with the 'iris' data below, one could specify: 
<code>facet_labels = c("Pet_leng" = "Petal length")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'ggplot'.
</p>


<h3>Note</h3>

<p>This function returns warnings, indicating that sum(weights) != 1.
These can be ignored. The sum of the &quot;Total&quot; density per variable per model
is equal to 1, and the sum of all of the posterior probabilities is equal to
1. This results in a normal density plot for the &quot;Total&quot;, which is subdivided
by the latent classes, in proportion to the posterior probabilities of
participants being assigned to those clases.
</p>


<h3>Author(s)</h3>

<p>Caspar J. van Lissa
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
results &lt;- createMixtures(classes = 1:3, filename_stem = "iris",
                          rdata = iris, run = 1L)
plotMixtureDensities(results)

## End(Not run)
## Not run: 
plotMixtureDensities(results, variables = "PETAL_LE")

## End(Not run)
## Not run: 
plotMixtureDensities(results, bw = TRUE)

## End(Not run)
## Not run: 
plotMixtureDensities(results, bw = FALSE, conditional = TRUE)

## End(Not run)
## Not run: 
plotMixtureDensities(results[[2]], variables = "PETAL_LE")

## End(Not run)
</code></pre>

<hr>
<h2 id='plotMixtures'>Create latent profile plots</h2><span id='topic+plotMixtures'></span>

<h3>Description</h3>

<p>Creates a profile plot for a single object of class 'mplus.model', or a
faceted plot of profile plots for an object of class 'mplus.model.list'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotMixtures(
  modelList,
  variables = NULL,
  coefficients = c("unstandardized", "stdyx.standardized", "stdy.standardized",
    "stdy.standardized"),
  parameter = c("Means", "Intercepts"),
  ci = 0.95,
  bw = FALSE,
  rawdata = FALSE,
  alpha_range = c(0, 0.1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotMixtures_+3A_modellist">modelList</code></td>
<td>
<p>A list of Mplus mixture models, or a single mixture model</p>
</td></tr>
<tr><td><code id="plotMixtures_+3A_variables">variables</code></td>
<td>
<p>A character vectors with the names of the variables
(included in the Mplus output) to be plotted.</p>
</td></tr>
<tr><td><code id="plotMixtures_+3A_coefficients">coefficients</code></td>
<td>
<p>Which type of coefficients to plot on the y-axis; default
is 'unstandardized'. Options include: c('stdyx.standardized',
'stdy.standardized', 'std.standardized')</p>
</td></tr>
<tr><td><code id="plotMixtures_+3A_parameter">parameter</code></td>
<td>
<p>Which parameter to plot (from Mplus parameter estimate
headings included in the output).
Defaults to c('Means', 'Intercepts').</p>
</td></tr>
<tr><td><code id="plotMixtures_+3A_ci">ci</code></td>
<td>
<p>What confidence interval should the errorbars span? Defaults to
a 95% confidence interval. Set to NULL to remove errorbars.</p>
</td></tr>
<tr><td><code id="plotMixtures_+3A_bw">bw</code></td>
<td>
<p>Logical. Should the plot be black and white (for print), or color?</p>
</td></tr>
<tr><td><code id="plotMixtures_+3A_rawdata">rawdata</code></td>
<td>
<p>Should raw data be plotted in the background? Setting this to
TRUE might result in long plotting times. Requires including the Mplus syntax
'SAVEDATA: FILE IS &quot;filename&quot;; SAVE = cprobabilities' in the Mplus input.</p>
</td></tr>
<tr><td><code id="plotMixtures_+3A_alpha_range">alpha_range</code></td>
<td>
<p>The minimum and maximum values of alpha (transparancy) for
the raw data. Minimum should be 0; lower maximum values of alpha can help
reduce overplotting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'ggplot'.
</p>


<h3>Author(s)</h3>

<p>Caspar J. van Lissa
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
res &lt;- createMixtures(classes = 1:2, filename_stem = "cars",
                      model_overall = "wt ON drat;",
                      model_class_specific = "wt;  qsec;",
                      rdata = mtcars,
                      usevariables = c("wt", "qsec", "drat"),
                      OUTPUT = "standardized",
                      run = 1L)
plotMixtures(res, rawdata = TRUE)

## End(Not run)
## Not run: 
plotMixtures(res, variables = "wt")

## End(Not run)
## Not run: 
plotMixtures(res, coefficients = "stdyx.standardized")

## End(Not run)
</code></pre>

<hr>
<h2 id='prepareMplusData'>Create tab-delimited file and Mplus input syntax from R data.frame</h2><span id='topic+prepareMplusData'></span>

<h3>Description</h3>

<p>The <code>prepareMplusData</code> function converts an R data.frame
(or a list of data frames), into a tab-delimited
file (without header) to be used in an Mplus
input file. The corresponding Mplus syntax, including the
data file definition and variable names,
is printed to the console or optionally to an input file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepareMplusData(
  df,
  filename = NULL,
  inpfile = FALSE,
  keepCols = NULL,
  dropCols = NULL,
  dummyCode = NULL,
  interactive = TRUE,
  overwrite = TRUE,
  imputed = FALSE,
  writeData = c("always", "ifmissing", "never"),
  hashfilename = FALSE,
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepareMplusData_+3A_df">df</code></td>
<td>
<p>The R data.frame to be prepared for Mplus</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_filename">filename</code></td>
<td>
<p>The path and filename for the tab-delimited data file
for use with Mplus. Example: &quot;C:/Mplusdata/data1.dat&quot;</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_inpfile">inpfile</code></td>
<td>
<p>Logical value whether the Mplus syntax should be written
to the console or to an input file. Defaults to <code>FALSE</code>. If
<code>TRUE</code>, the file name will be the same as <code>filename</code> with
the extension changed to .inp.  Alternately, this can be a character
string giving the file name to write the Mplus syntax to.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_keepcols">keepCols</code></td>
<td>
<p>A character vector specifying the variable names
within <code>df</code> to be output to <code>filename</code> or a numeric
vector of the column indices to be output or a logical vector
corresponding to the same.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_dropcols">dropCols</code></td>
<td>
<p>A character vector specifying the variable names
within <code>df</code> to be omitted from the data output to <code>filename</code>
or a numeric vector of the column indices not to be output
or a logical vector corresponding to the same.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_dummycode">dummyCode</code></td>
<td>
<p>An optional character vector of column names indicating
categorical variables in the dataset that should be converted into
dummy codes (using the <code>fastDummies</code> package). Note that one dummy
code is returned for *each level*, so no reference category is implied.
Thus, it is up to you to drop one of the dummy codes in the Mplus syntax
to denote the reference category and avoid multicollinearity.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_interactive">interactive</code></td>
<td>
<p>Logical value indicating whether file names
should be selected interactively. If <code>filename</code> is
missing and <code>interative=TRUE</code>, then a dialogue box
will pop up to select a file or a console prompt if in a
non interactive context. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical value indicating whether
data and input (if present) files should be overwritten.
Defaults to <code>TRUE</code> to be consistent with prior behavior.
If <code>FALSE</code> and the file to write the data to already exists,
it will throw an error.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_imputed">imputed</code></td>
<td>
<p>A logical whether data are multiply imputed.  Defaults
to <code>FALSE</code>.  If <code>TRUE</code>, the data should be a list,
where each element of the list is a multiply imputed dataset.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_writedata">writeData</code></td>
<td>
<p>A character vector, one of &lsquo;always&rsquo;,
&lsquo;ifmissing&rsquo;, &lsquo;never&rsquo; indicating whether the data files
(*.dat) should be written to disk.  Defaults to
&lsquo;always&rsquo; for consistency with previous behavior.
See details for further information.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_hashfilename">hashfilename</code></td>
<td>
<p>A logical whether or not to add a hash of the raw data to the
data file name.  Defaults to <code>FALSE</code> for consistency with previous
behavior where this feature was not available.</p>
</td></tr>
<tr><td><code id="prepareMplusData_+3A_quiet">quiet</code></td>
<td>
<p>optional. If <code>TRUE</code>, show status messages in the console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>writeData</code> argument is new and can be used to reduce overhead
from repeatedly writing the same data from R to the disk.  When using the
&lsquo;always&rsquo; option, <code>prepareMplusData</code> behaves as before, always writing
data from R to the disk.  When &lsquo;ifmissing&rsquo;, R generates an
md5 hash of the data prior to writing it out to the disk.  The md5 hash is based on:
(1) the dimensions of the dataset, (2) the variable names,
(3) the class of every variable, and (4) the raw data from the first and last rows.
This combination ensures that under most all circumstances, if the data changes,
the hash will change.  The hash is appended to the specified data file name
(which is controlled by the logical <code>hashfilename</code> argument).  Next R
checks in the directory where the data would normally be written.  If a data file
exists in that directory that matches the hash generated from the data, R will
use that existing data file instead of writing out the data again.
A final option is &lsquo;never&rsquo;.  If this option is used, R will not write
the data out even if no file matching the hash is found.
</p>


<h3>Value</h3>

<p>Invisibly returns a character vector of the Mplus input
syntax. Primarily called for its side effect of creating Mplus
data files and optionally input files.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(foreign)

study5 &lt;- read.spss("reanalysis-study-5-mt-fall-08.sav", to.data.frame=TRUE)
ASData5 &lt;- subset(study5, select=c("ppnum", paste("as", 1:33, sep="")))

prepareMplusData(ASData5, "study5.dat")


# basic example
test01 &lt;- prepareMplusData(mtcars, "test01.dat")



# see that syntax was stored
test01

# example when there is a factor and logical
tmpd &lt;- mtcars
tmpd$cyl &lt;- factor(tmpd$cyl)
tmpd$am &lt;- as.logical(tmpd$am)
prepareMplusData(tmpd, "test_type.dat")
rm(tmpd)

# by default, if re-run, data is re-written, with a note
test01b &lt;- prepareMplusData(mtcars, "test01.dat")

# if we turn on hashing in the filename the first time,
# we can avoid overwriting notes the second time
test01c &lt;- prepareMplusData(mtcars, "test01c.dat", hashfilename=TRUE)

# now that the filename was hashed in test01c, future calls do not re-write data
# as long as the hash matches
test01d &lt;- prepareMplusData(mtcars, "test01c.dat",
  writeData = "ifmissing", hashfilename=TRUE)

# now that the filename was hashed in test01c, future calls do not re-write data
# as long as the hash matches
test01db &lt;- prepareMplusData(mtcars, "test01d.dat",
  writeData = "ifmissing", hashfilename=TRUE)

# however, if the data change, then the file is re-written
test01e &lt;- prepareMplusData(iris, "test01c.dat",
  writeData = "ifmissing", hashfilename=TRUE)

# tests for keeping and dropping variables
prepareMplusData(mtcars, "test02.dat", keepCols = c("mpg", "hp"))
prepareMplusData(mtcars, "test03.dat", keepCols = c(1, 2))
prepareMplusData(mtcars, "test04.dat",
  keepCols = c(TRUE, FALSE, FALSE, TRUE, FALSE,
  FALSE, FALSE, FALSE, FALSE, FALSE, FALSE))

prepareMplusData(mtcars, "test05.dat", dropCols = c("mpg", "hp"))
prepareMplusData(mtcars, "test06.dat", dropCols = c(1, 2))
prepareMplusData(mtcars, "test07.dat",
  dropCols = c(TRUE, FALSE, FALSE, TRUE, FALSE,
  FALSE, FALSE, FALSE, FALSE, FALSE, FALSE))


# interactive (test08.dat)
prepareMplusData(mtcars, interactive=TRUE)

# write syntax to input file, not stdout
prepareMplusData(mtcars, "test09.dat", inpfile=TRUE)

# write syntax to alternate input file, not stdout
prepareMplusData(mtcars, "test10.dat", inpfile="test10alt.inp")

# should be error, no file
prepareMplusData(mtcars, interactive=FALSE)

# new warnings if it is going to overwrite files
# (the default to be consistent with prior behavior)
prepareMplusData(mtcars, "test10.dat")

# new warnings if it is going to overwrite files
# (the default to be consistent with prior behavior)
prepareMplusData(mtcars, "test11.dat", inpfile="test10alt.inp")

# new errors if files exist and overwrite=FALSE
prepareMplusData(mtcars, "test10.dat",
  inpfile="test10alt.inp", overwrite=FALSE)


# can write multiply imputed data too
# here are three "imputed" datasets
idat &lt;- list(
  data.frame(mpg = mtcars$mpg, hp = c(100, mtcars$hp[-1])),
  data.frame(mpg = mtcars$mpg, hp = c(110, mtcars$hp[-1])),
  data.frame(mpg = mtcars$mpg, hp = c(120, mtcars$hp[-1])))

# if we turn on hashing in the filename the first time,
# we can avoid overwriting notes the second time
testimp1 &lt;- prepareMplusData(idat, "testi1.dat",
  writeData = "ifmissing", hashfilename=TRUE,
  imputed = TRUE)

# now that the filename was hashed, future calls do not re-write data
# as long as all the hashes match
testimp2 &lt;- prepareMplusData(idat, "testi2.dat",
  writeData = "ifmissing", hashfilename=TRUE,
  imputed = TRUE)

# in fact, the number of imputations can decrease
# and they still will not be re-written
testimp3 &lt;- prepareMplusData(idat[-3], "testi3.dat",
  writeData = "ifmissing", hashfilename=TRUE,
  imputed = TRUE)

# however, if the data changes, then all are re-written
# note that it warns for the two files that already exist
# as these two are overwritten

idat2 &lt;- list(
  data.frame(mpg = mtcars$mpg, hp = c(100, mtcars$hp[-1])),
  data.frame(mpg = mtcars$mpg, hp = c(109, mtcars$hp[-1])),
  data.frame(mpg = mtcars$mpg, hp = c(120, mtcars$hp[-1])))
testimp4 &lt;- prepareMplusData(idat2, "testi4.dat",
  writeData = "ifmissing", hashfilename=TRUE,
  imputed = TRUE)



## End(Not run)
</code></pre>

<hr>
<h2 id='prepareMplusData_Mat'>Prepare Mplus Data Matrix</h2><span id='topic+prepareMplusData_Mat'></span>

<h3>Description</h3>

<p>support writing of covariance or means + covariance matrix (future)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepareMplusData_Mat(covMatrix, meansMatrix, nobs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepareMplusData_Mat_+3A_covmatrix">covMatrix</code></td>
<td>
<p>The covariance matrix</p>
</td></tr>
<tr><td><code id="prepareMplusData_Mat_+3A_meansmatrix">meansMatrix</code></td>
<td>
<p>The means matrix</p>
</td></tr>
<tr><td><code id="prepareMplusData_Mat_+3A_nobs">nobs</code></td>
<td>
<p>Number of observations for the data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataset
</p>

<hr>
<h2 id='print.MplusRstructure'>Print an Mplus Residual Structure object</h2><span id='topic+print.MplusRstructure'></span>

<h3>Description</h3>

<p>This is a method for printing an Mplus Residual Structure object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MplusRstructure'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.MplusRstructure_+3A_x">x</code></td>
<td>
<p>An object of class MplusRstructure</p>
</td></tr>
<tr><td><code id="print.MplusRstructure_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass on (not currently used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> Called for its side effect of printing the object to the console
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p>Other Mplus-Formatting: 
<code><a href="#topic+coef.mplus.model">coef.mplus.model</a>()</code>,
<code><a href="#topic+confint.mplus.model">confint.mplus.model</a>()</code>,
<code><a href="#topic+extract">extract</a>()</code>,
<code><a href="#topic+summary.mplusObject">summary.mplusObject</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># default 'show' uses printing
mplusRcov(c("a", "b", "c"), type = "ar")

# also if calling print explicitly
print(mplusRcov(c("a", "b", "c"), type = "ar"))

# to see all aspects of the raw/original object
str(mplusRcov(c("a", "b", "c"), type = "ar"))
</code></pre>

<hr>
<h2 id='processConditionalTags'>Process Conditional Tags</h2><span id='topic+processConditionalTags'></span>

<h3>Description</h3>

<p>To do: add details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>processConditionalTags(templateTags, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="processConditionalTags_+3A_templatetags">templateTags</code></td>
<td>
<p>A template tag</p>
</td></tr>
<tr><td><code id="processConditionalTags_+3A_initcollection">initCollection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Processed templateTags
</p>

<hr>
<h2 id='processInit'>Process the Init Section</h2><span id='topic+processInit'></span>

<h3>Description</h3>

<p>To do: add details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>processInit(initsection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="processInit_+3A_initsection">initsection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
</table>


<h3>Value</h3>

<p>arglist
</p>

<hr>
<h2 id='readModels'>Read Parameters, Summary Statistics, and Savedata from Mplus Output</h2><span id='topic+readModels'></span>

<h3>Description</h3>

<p>Extracts information from one or more Mplus output files, including fit statistics and parameters.
Its is to parse all (supported) aspects of Mplus output and to combine
these into a list object, with one element per output file identified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readModels(
  target = getwd(),
  recursive = FALSE,
  filefilter,
  what = "all",
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readModels_+3A_target">target</code></td>
<td>
<p>the directory containing Mplus output files (.out) to
parse OR the single output file to be parsed. May be a full
path, relative path, or a filename within the working
directory. Defaults to the current working directory. Example:
&quot;C:/Users/Michael/Mplus Runs&quot;</p>
</td></tr>
<tr><td><code id="readModels_+3A_recursive">recursive</code></td>
<td>
<p>optional. If <code>TRUE</code>, parse all models nested in
subdirectories within <code>target</code>. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="readModels_+3A_filefilter">filefilter</code></td>
<td>
<p>a Perl regular expression (PCRE-compatible)
specifying particular output files to be parsed within
<code>directory</code>. See <code>regex</code> or
<a href="http://www.pcre.org/pcre.txt">http://www.pcre.org/pcre.txt</a> for details about regular
expression syntax.</p>
</td></tr>
<tr><td><code id="readModels_+3A_what">what</code></td>
<td>
<p>a character vector denoting what aspects of Mplus output to extract.
Defaults to <code>"all"</code>, which will extract all supported output sections.
See details for additional information.</p>
</td></tr>
<tr><td><code id="readModels_+3A_quiet">quiet</code></td>
<td>
<p>whether to suppress printing to the screen the file currently
being processed. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>what</code> parameter defaults to &quot;all&quot;, which extracts all supported output. If you would like to extract a
reduced set of output sections (especially to speed up the function when reading many files), specify the sections
as a character vector from the following options:
</p>
<p>c(&quot;input&quot;, &quot;warn_err&quot;, &quot;data_summary&quot;, &quot;sampstat&quot;, &quot;covariance_coverage&quot;, &quot;summaries&quot;,
&quot;parameters&quot;, &quot;class_counts&quot;, &quot;indirect&quot;, &quot;mod_indices&quot;, &quot;residuals&quot;,
&quot;savedata&quot;, &quot;bparameters&quot;, &quot;tech1&quot;, &quot;tech3&quot;, &quot;tech4&quot;, &quot;tech7&quot;, &quot;tech8&quot;,
&quot;tech9&quot;, &quot;tech10&quot;, &quot;tech12&quot;, &quot;fac_score_stats&quot;, &quot;lcCondMeans&quot;, &quot;gh5&quot;,
&quot;output&quot;)
</p>


<h3>Value</h3>

<p>A list with one mplus.model per file. Each mplus.model object is composed of
elements containing major output sections, as detailed below. If
<code>target</code> is a single file, then the top-level elements will be
a single mplus.model object, not a list of files. Specific elements are:
</p>
<table>
<tr><td><code>input</code></td>
<td>
<p>Mplus input syntax parsed into a list by major section</p>
</td></tr>
<tr><td><code>warnings</code></td>
<td>
<p>Syntax and estimation warnings as a list</p>
</td></tr>
<tr><td><code>errors</code></td>
<td>
<p>Syntax and estimation errors as a list</p>
</td></tr>
<tr><td><code>data_summary</code></td>
<td>
<p>Output of SUMMARY OF DATA section, including cluster sizes and ICCs</p>
</td></tr>
<tr><td><code>sampstat</code></td>
<td>
<p>Sample statistics provided by OUTPUT: SAMPSTAT, if specified</p>
</td></tr>
<tr><td><code>covariance_coverage</code></td>
<td>
<p>Covariance coverage matrix for checking missingness patterns</p>
</td></tr>
<tr><td><code>summaries</code></td>
<td>
<p>Summary statistics from <code>extractModelSummaries</code>, having structure as specified by that function</p>
</td></tr>
<tr><td><code>parameters</code></td>
<td>
<p>Model parameters from <code>extractModelParameters</code>, having structure as specified by that function</p>
</td></tr>
<tr><td><code>class_counts</code></td>
<td>
<p>Latent class counts and proportions for models that include a categorical latent variable</p>
</td></tr>
<tr><td><code>indirect</code></td>
<td>
<p>Output of MODEL INDIRECT if available in output. Contains <code>$overall</code> and <code>$specific</code> data.frames for each indirect effect section</p>
</td></tr>
<tr><td><code>mod_indices</code></td>
<td>
<p>Model modification indices from <code>extractModIndices</code>, having structure as specified by that function</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>a list containing relevant information from OUTPUT: RESIDUALS</p>
</td></tr>
<tr><td><code>savedata_info</code></td>
<td>
<p>File information about SAVEDATA files related to this output</p>
</td></tr>
<tr><td><code>savedata</code></td>
<td>
<p>SAVEDATA file as an R <code>data.frame</code>, as described in <code>getSavedata_Data</code></p>
</td></tr>
<tr><td><code>bparameters</code></td>
<td>
<p>an <code>mcmc.list</code> object containing the draws from the MCMC chains for a Bayesian model that uses the
SAVEDATA: BPARAMETERS command</p>
</td></tr>
<tr><td><code>tech1</code></td>
<td>
<p>a list containing parameter specification and starting values from OUTPUT: TECH1</p>
</td></tr>
<tr><td><code>tech3</code></td>
<td>
<p>a list containing parameter covariance and correlation matrices from OUTPUT: TECH3</p>
</td></tr>
<tr><td><code>tech4</code></td>
<td>
<p>a list containing means, covariances, and correlations for latent variables from OUTPUT: TECH4</p>
</td></tr>
<tr><td><code>tech7</code></td>
<td>
<p>a list containing sample statistics for each latent class from OUTPUT: TECH7</p>
</td></tr>
<tr><td><code>tech8</code></td>
<td>
<p>a list containing optimization history of the model. Currently only supports potential scale reduction in BAYES. OUTPUT: TECH8</p>
</td></tr>
<tr><td><code>tech9</code></td>
<td>
<p>a list containing warnings/errors from replication runs for MONTECARLO analyses from OUTPUT: TECH9</p>
</td></tr>
<tr><td><code>tech10</code></td>
<td>
<p>a list containing model fit information from OUTPUT: TECH10</p>
</td></tr></table>
<p>'   
</p>
<table>
<tr><td><code>tech12</code></td>
<td>
<p>a list containing observed versus estimated sample statistics for TYPE=MIXTURE analyses from OUTPUT: TECH12</p>
</td></tr>
<tr><td><code>fac_score_stats</code></td>
<td>
<p>factor score mean, correlation, and covariance structure from SAMPLE STATISTICS FOR ESTIMATED FACTOR SCORES section</p>
</td></tr>
<tr><td><code>lcCondMeans</code></td>
<td>
<p>conditional latent class means and pairwise comparisons, obtained using auxiliary(e) syntax in latent class models</p>
</td></tr>
<tr><td><code>gh5</code></td>
<td>
<p>a list containing data from the gh5 (graphics) file corresponding to this output. (Requires rhdf5 package)</p>
</td></tr>
<tr><td><code>output</code></td>
<td>
<p>The entire, raw output file.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  allOutput &lt;- readModels(
    "C:/Program Files/Mplus/Mplus Examples/User's Guide Examples", recursive=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='recurseReplace'>Recursive replace</h2><span id='topic+recurseReplace'></span>

<h3>Description</h3>

<p>To do: fill in some details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recurseReplace(templateTags, initCollection, curiterator = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recurseReplace_+3A_templatetags">templateTags</code></td>
<td>
<p>The template tags</p>
</td></tr>
<tr><td><code id="recurseReplace_+3A_initcollection">initCollection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
<tr><td><code id="recurseReplace_+3A_curiterator">curiterator</code></td>
<td>
<p>An integer that tracks of the depth of recursion through the iterators. Defaults to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Does not look like it returns anything
</p>

<hr>
<h2 id='replaceBodyTags'>Replace Body Tags</h2><span id='topic+replaceBodyTags'></span>

<h3>Description</h3>

<p>To do: fill in some details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replaceBodyTags(bodySection, bodyTags, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replaceBodyTags_+3A_bodysection">bodySection</code></td>
<td>
<p>character vector of body section of Mplus syntax</p>
</td></tr>
<tr><td><code id="replaceBodyTags_+3A_bodytags">bodyTags</code></td>
<td>
<p>collection of tags used inside of the template body</p>
</td></tr>
<tr><td><code id="replaceBodyTags_+3A_initcollection">initCollection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns updated bodySection
</p>

<hr>
<h2 id='replaceInitTags'>Replace Init Tags</h2><span id='topic+replaceInitTags'></span>

<h3>Description</h3>

<p>To do: fill in some details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replaceInitTags(initTags, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replaceInitTags_+3A_inittags">initTags</code></td>
<td>
<p>Init tags</p>
</td></tr>
<tr><td><code id="replaceInitTags_+3A_initcollection">initCollection</code></td>
<td>
<p>The list of all arguments parsed from the init section</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns updated initCollection
</p>

<hr>
<h2 id='rmVarWarnings'>Remove variable name length warnings from Mplus output file</h2><span id='topic+rmVarWarnings'></span>

<h3>Description</h3>

<p>This function is designed to remove warnings in Mplus output files
about variable names being greater than 8 characters. It replaces them
with a note that the warnings were removed and a count of how many warnings
were removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmVarWarnings(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmVarWarnings_+3A_file">file</code></td>
<td>
<p>A file name (including path if necessary) to an Mplus output
file.  Note that you must have read and write privileges on the file
for this function to work properly.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function and not meant to be directly called by the
user under most circumstances. It is called by <code><a href="#topic+mplusModeler">mplusModeler</a></code>
when the <code>varwarnings = FALSE</code> argument is used.
</p>


<h3>Value</h3>

<p>Usually NULL. Called for the side effect of removing warnings in
Mplus output files. If <code><a href="base.html#topic+file.access">file.access</a></code> testing for write permissions
returns <code>FALSE</code>, a character string note that <code>rmVarWarnings</code>
could not run.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mplusModeler">mplusModeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># to do
</code></pre>

<hr>
<h2 id='runModels'>Run Mplus Models</h2><span id='topic+runModels'></span>

<h3>Description</h3>

<p>This function runs a group of Mplus models (.inp files) located within a
single directory or nested within subdirectories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runModels(
  target = getwd(),
  recursive = FALSE,
  filefilter = NULL,
  showOutput = FALSE,
  replaceOutfile = "always",
  logFile = "Mplus Run Models.log",
  Mplus_command = detectMplus(),
  killOnFail = TRUE,
  local_tmpdir = FALSE,
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runModels_+3A_target">target</code></td>
<td>
<p>a character vector where each element is a directory containing Mplus input files 
(.inp) to run OR a single .inp file to be run. Elements may be a full path, relative path,
or a filename within the working directory.
Defaults to the current working directory. Example: &ldquo;C:/Users/Michael/Mplus Runs&rdquo;</p>
</td></tr>
<tr><td><code id="runModels_+3A_recursive">recursive</code></td>
<td>
<p>optional. If <code>TRUE</code>, run all models nested in subdirectories
within <code>directory</code>. Defaults to <code>FALSE</code>. Not relevant if <code>target</code> is a single file.</p>
</td></tr>
<tr><td><code id="runModels_+3A_filefilter">filefilter</code></td>
<td>
<p>a Perl regular expression (PCRE-compatible) specifying particular input
files to be run among those found in <code>target</code>. See <code>regex</code> or <a href="http://www.pcre.org/pcre.txt">http://www.pcre.org/pcre.txt</a>
for details about regular expression syntax.</p>
</td></tr>
<tr><td><code id="runModels_+3A_showoutput">showOutput</code></td>
<td>
<p>optional. If <code>TRUE</code>, show estimation output (TECH8)
in the R console. Note that if run within Rgui, output will display within R,
but if run via Rterm, a separate window will appear during estimation.</p>
</td></tr>
<tr><td><code id="runModels_+3A_replaceoutfile">replaceOutfile</code></td>
<td>
<p>optional. Currently supports three settings: &ldquo;always&rdquo;, which
runs all models, regardless of whether an output file for the model exists; &ldquo;never&rdquo;,
which does not run any model that has an existing output file; and &ldquo;modifiedDate&rdquo;, which
only runs a model if the modified date for the input file is more recent than
the output file modified date (implying there have been updates to the model).</p>
</td></tr>
<tr><td><code id="runModels_+3A_logfile">logFile</code></td>
<td>
<p>optional. If non-null, specifies a file (and optionally, directory)
that records the settings passed into the function and the models run (or skipped)
during the run.</p>
</td></tr>
<tr><td><code id="runModels_+3A_mplus_command">Mplus_command</code></td>
<td>
<p>optional. N.B.: No need to pass this parameter for most users (has intelligent
defaults). Allows the user to specify the name/path of the Mplus executable to be used for
running models. This covers situations where Mplus is not in the system's path,
or where one wants to test different versions of the Mplus program.</p>
</td></tr>
<tr><td><code id="runModels_+3A_killonfail">killOnFail</code></td>
<td>
<p>optional. Windows only for now. If <code>TRUE</code>, kill all processes named mplus.exe when
<code>runModels</code> does not terminate normally. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="runModels_+3A_local_tmpdir">local_tmpdir</code></td>
<td>
<p>optional. Linux/Mac for now. If <code>TRUE</code>, set the TMPDIR environment variable to the
location of the .inp file prior to execution. This is useful in Monte Carlo studies where many instances of Mplus
may run in parallel and we wish to avoid collisions in temporary files among processes.</p>
</td></tr>
<tr><td><code id="runModels_+3A_quiet">quiet</code></td>
<td>
<p>optional. If <code>FALSE</code>, show status messages in the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None. Function is used for its side effects (running models).
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+runModels_Interactive">runModels_Interactive</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  runModels("C:/Users/Michael/Mplus Runs", recursive=TRUE, showOutput=TRUE,
    replaceOutfile="modifiedDate", logFile="MH_RunLog.txt",
    Mplus_command="C:\\Users\\Michael\\Mplus Install\\Mplus51.exe")

## End(Not run)
## Not run: 
  runModels(getwd(), filefilter = "ex8.*", logFile=NULL)

## End(Not run)
</code></pre>

<hr>
<h2 id='runModels_Interactive'>Run Mplus Models Using Graphical Interface</h2><span id='topic+runModels_Interactive'></span>

<h3>Description</h3>

<p>This function is provides a graphical user interface to the <code>runModels</code> function.
It uses Tcl/Tk to display a window in which the user can specify parameters for <code>runModels</code>,
including the directory for runs, recursing through subdirectories, displaying output on the console,
and replacing existing outfiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runModels_Interactive(
  directory = getwd(),
  recursive = "0",
  showOutput = "1",
  replaceOutfile = "1",
  checkDate = "0",
  logFile = "1"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runModels_Interactive_+3A_directory">directory</code></td>
<td>
<p>optional. The starting directory that will display in the dialog window. Defaults to the
current working directory.</p>
</td></tr>
<tr><td><code id="runModels_Interactive_+3A_recursive">recursive</code></td>
<td>
<p>optional. Whether the recursive checkbox should be checked when the window opens.
&ldquo;0&rdquo; for <code>FALSE</code>, &ldquo;1&rdquo; for <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="runModels_Interactive_+3A_showoutput">showOutput</code></td>
<td>
<p>optional. Whether the show output checkbox should be checked when the window opens.
&ldquo;0&rdquo; for <code>FALSE</code>, &ldquo;1&rdquo; for <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="runModels_Interactive_+3A_replaceoutfile">replaceOutfile</code></td>
<td>
<p>optional. Whether the replace outfile checkbox should be checked when the window opens.
&ldquo;0&rdquo; for <code>FALSE</code>, &ldquo;1&rdquo; for <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="runModels_Interactive_+3A_checkdate">checkDate</code></td>
<td>
<p>optional. Whether the check modified date checkbox should be checked when the window opens.
&ldquo;0&rdquo; for <code>FALSE</code>, &ldquo;1&rdquo; for <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="runModels_Interactive_+3A_logfile">logFile</code></td>
<td>
<p>optional. Whether the log file checkbox should be checked when the window opens.
&ldquo;0&rdquo; for <code>FALSE</code>, &ldquo;1&rdquo; for <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function exists as a GUI wrapper for <code>runModels</code> and does not provide any distinct functionality.
</p>


<h3>Value</h3>

<p>None. Function is used to display user interface for running models.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+runModels">runModels</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># interactive, none
</code></pre>

<hr>
<h2 id='separateHyphens'>Separate Hyphenated Variable Strings</h2><span id='topic+separateHyphens'></span>

<h3>Description</h3>

<p>This code is a simplified form of <code>expandCmd</code> from the <span class="pkg">lavaan</span> package.
It separates hyphenated variable strings into a list of vectors, while ignoring
hyphens that may be used in numbers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>separateHyphens(cmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="separateHyphens_+3A_cmd">cmd</code></td>
<td>
<p>A character string</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that this is an internal function only.
</p>


<h3>Value</h3>

<p>The character string if no hyphens, or a list of vectors if there are hyphens.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist revised by Joshua Wiley
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
MplusAutomation:::separateHyphens("x1x4")
MplusAutomation:::separateHyphens("x1-x4")
MplusAutomation:::separateHyphens("x1-x4; x1*-1; v1-v3;")
</code></pre>

<hr>
<h2 id='showSummaryTable'>Display summary table of Mplus model statistics in separate window</h2><span id='topic+showSummaryTable'></span>

<h3>Description</h3>

<p>Displays a summary table of model fit statistics extracted using the <code>extractModelSummaries</code> function.
This function relies on the <code>showData</code> function from the relimp package, which displays data in a Tk-based window.
By default, the following summary statistics are included: <code>Title, LL, Parameters, AIC, AICC, BIC, RMSEA_Estimate</code>,
but these are customizable using the <code>keepCols</code> and <code>dropCols</code> parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showSummaryTable(
  modelList,
  keepCols,
  dropCols,
  sortBy = NULL,
  font = "Courier 9"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showSummaryTable_+3A_modellist">modelList</code></td>
<td>
<p>A list of models (as a <code>data.frame</code>) returned from the <code>extractModelSummaries</code> function.</p>
</td></tr>
<tr><td><code id="showSummaryTable_+3A_keepcols">keepCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to display in the summary. Only
columns included in this list will be displayed (all others excluded). By default, <code>keepCols</code> is:
<code>c("Title", "LL", "Parameters", "AIC", "AICC", "BIC", "RMSEA_Estimate")</code>.
Example: <code>c("Title", "LL", "AIC", "CFI")</code></p>
</td></tr>
<tr><td><code id="showSummaryTable_+3A_dropcols">dropCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to omit from the summary.
Any column not included in this list will be displayed. By default, <code>dropCols</code> is <code>NULL</code>.
Example: <code>c("InputInstructions", "TLI")</code></p>
</td></tr>
<tr><td><code id="showSummaryTable_+3A_sortby">sortBy</code></td>
<td>
<p>Optional. Field name (as character string) by which to sort the table.
Typically an information criterion (e.g., &ldquo;AIC&rdquo; or &ldquo;BIC&rdquo;) is used to sort the table.
Defaults to <code>NULL</code>, which does not sort the table.</p>
</td></tr>
<tr><td><code id="showSummaryTable_+3A_font">font</code></td>
<td>
<p>Optional. The font to be used to display the summary table. Defaults to Courier 9.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned by this function. It is solely used to display the summary table in a separate window.
</p>


<h3>Note</h3>

<p>You must choose between <code>keepCols</code> and <code>dropCols</code> because
it is not sensible to use these together to include and exclude columns.
The function will error if you include both parameters.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code> <code><a href="#topic+HTMLSummaryTable">HTMLSummaryTable</a></code> <code><a href="#topic+LatexSummaryTable">LatexSummaryTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='splitDFByRow'>Split a data frame into a list by rows</h2><span id='topic+splitDFByRow'></span>

<h3>Description</h3>

<p>Takes a data frame and returns a list with an element for each row of the data frame.
This is an internal function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitDFByRow(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitDFByRow_+3A_df">df</code></td>
<td>
<p>An object inheriting from class <code>data.frame</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list where each element is a one row data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'># small example using built in data
MplusAutomation:::splitDFByRow(mtcars)
</code></pre>

<hr>
<h2 id='splitFilePath'>Split File and Path into Separate Parts</h2><span id='topic+splitFilePath'></span>

<h3>Description</h3>

<p>This is a helper function to split path into path and filename.
Code adapted from R.utils filePath command.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitFilePath(abspath, normalize = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitFilePath_+3A_abspath">abspath</code></td>
<td>
<p>A character string of the file path</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with elements for the directory, filename,
and absolute path.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='subsetModelList'>Subset a list of Mplus model results</h2><span id='topic+subsetModelList'></span>

<h3>Description</h3>

<p>a helper function to be used by wrappers that generate HTML, LaTex, and on-screen displays of summary statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subsetModelList(modelList, keepCols, dropCols, sortBy = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subsetModelList_+3A_modellist">modelList</code></td>
<td>
<p>A list object of Mplus models</p>
</td></tr>
<tr><td><code id="subsetModelList_+3A_keepcols">keepCols</code></td>
<td>
<p>Columns to keep</p>
</td></tr>
<tr><td><code id="subsetModelList_+3A_dropcols">dropCols</code></td>
<td>
<p>Columns to drop (use only one of keep/dropCols)</p>
</td></tr>
<tr><td><code id="subsetModelList_+3A_sortby">sortBy</code></td>
<td>
<p>How to sort. Defaults to <code>NULL</code>, which does not sort the list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Extracted and sorted data
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='summary.mplusObject'>Summarize an mplusObject</h2><span id='topic+summary.mplusObject'></span>

<h3>Description</h3>

<p>This is a method for summarizing an mplusObject.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mplusObject'
summary(object, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.mplusObject_+3A_object">object</code></td>
<td>
<p>An object of class mplusObject</p>
</td></tr>
<tr><td><code id="summary.mplusObject_+3A_verbose">verbose</code></td>
<td>
<p>Logical whether to print verbose output. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="summary.mplusObject_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass on (not currently used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> Called for its side effect of printing a model summary to the console
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>See Also</h3>

<p>Other Mplus-Formatting: 
<code><a href="#topic+coef.mplus.model">coef.mplus.model</a>()</code>,
<code><a href="#topic+confint.mplus.model">confint.mplus.model</a>()</code>,
<code><a href="#topic+extract">extract</a>()</code>,
<code><a href="#topic+print.MplusRstructure">print.MplusRstructure</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# simple example of a model using builtin data
# demonstrates use
test &lt;- mplusObject(
  TITLE = "test the MplusAutomation Package;",
  MODEL = "
    mpg ON wt hp;
    wt WITH hp;",
  usevariables = c("mpg", "wt", "hp"),
  rdata = mtcars)

 res &lt;- mplusModeler(test, "mtcars.dat", modelout = "model1.inp", run = 1L)

# example of the summary method
summary(res)

# example of verbose output
summary(res, verbose=TRUE)

# remove files
unlink("mtcars.dat")
unlink("model1.inp")
unlink("model1.out")
unlink("Mplus Run Models.log")

## End(Not run)
</code></pre>

<hr>
<h2 id='SummaryTable'>Create a summary table of Mplus model statistics</h2><span id='topic+SummaryTable'></span>

<h3>Description</h3>

<p>Creates output (optionally sent to a file) containing a summary table of model fit statistics
extracted using the <code>extractModelSummaries</code> function.
By default, the following summary statistics are included:
<code>Title, LL, Parameters, AIC, AICC, BIC, RMSEA_Estimate</code>,
but these are customizable using the <code>keepCols</code> and <code>dropCols</code> parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SummaryTable(
  modelList,
  type = c("none", "screen", "popup", "html", "latex", "markdown"),
  filename = "",
  keepCols,
  dropCols,
  sortBy = NULL,
  caption = "",
  display = FALSE,
  ...,
  include.rownames = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SummaryTable_+3A_modellist">modelList</code></td>
<td>
<p>A list of models returned from the <code>extractModelSummaries</code> function.</p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_type">type</code></td>
<td>
<p>A character vector indicating the type of output format to be generated.  One of:
&ldquo;none&rdquo;, &ldquo;screen&rdquo;, &ldquo;popup&rdquo;, &ldquo;html&rdquo;, &ldquo;latex&rdquo;, or &ldquo;markdown&rdquo;. 
Screen results in a simple summary table being sent to the R console.</p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_filename">filename</code></td>
<td>
<p>The name of the file to be created. Can be an absolute or relative path. If <code>filename</code>
is a relative path or just the filename, then it is assumed that the file resides in the working
directory <code>getwd()</code>. Example: <code>"Mplus Summary.html"</code>.  By default, no filename is given,
which results in the output being sent to the console.  Note that currently, filename only has an effect for
&ldquo;html&rdquo; and &ldquo;latex&rdquo;.</p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_keepcols">keepCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to display in the summary.
Only columns included in this list will be displayed (all others excluded). By default, <code>keepCols</code>
is: <code>c("Title", "LL", "Parameters", "AIC", "AICC", "BIC", "RMSEA_Estimate")</code>.
Example: <code>c("Title", "LL", "AIC", "CFI")</code></p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_dropcols">dropCols</code></td>
<td>
<p>A vector of character strings indicating which columns/variables to omit from the summary.
Any column not included in this list will be displayed. By default, <code>dropCols</code> is <code>NULL</code>.
Example: <code>c("InputInstructions", "TLI")</code></p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_sortby">sortBy</code></td>
<td>
<p>optional. Field name (as character string) by which to sort the table. Typically an information criterion
(e.g., &quot;AIC&quot; or &quot;BIC&quot;) is used to sort the table.
Defaults to <code>NULL</code>, which does not sort the table.</p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_caption">caption</code></td>
<td>
<p>A character string, the caption to be given to the table.  Currently only
applies to types &ldquo;html&rdquo;, &ldquo;latex&rdquo;, and &ldquo;markdown&rdquo;.</p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_display">display</code></td>
<td>
<p>optional logical (defaults to <code>FALSE</code>). This parameter specifies whether to display the
table upon creation (<code>TRUE</code> or <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_include.rownames">include.rownames</code></td>
<td>
<p>optional logical whether to include rownames or not.</p>
</td></tr>
<tr><td><code id="SummaryTable_+3A_...">...</code></td>
<td>
<p>additional arguments passed on to specific formatting types.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the summary table, which can be used if the printing options avaiable are not sufficient.
</p>


<h3>Note</h3>

<p>You must choose between <code>keepCols</code> and <code>dropCols</code> because it is not sensible to use these
together to include and exclude columns. The function will error if you include both parameters.
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley based on code by Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractModelSummaries">extractModelSummaries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 m1 &lt;- mplusObject(TITLE = "Reduced",
  MODEL = "mpg ON wt;", rdata = mtcars)
 m1.fit &lt;- mplusModeler(m1, "mtcars.dat", run = 1L)
 m2 &lt;- mplusObject(TITLE = "Full",
  MODEL = "mpg ON wt hp qsec;", rdata = mtcars)
 m2.fit &lt;- mplusModeler(m2, "mtcars.dat", run = 1L)

 SummaryTable(list(m1.fit, m2.fit))
 SummaryTable(list(m1.fit, m2.fit), type = "popup")
 SummaryTable(list(m1.fit, m2.fit), type = "markdown",
   keepCols = c("Title", "Parameters", "LL", "AIC", "CFI", "SRMR"),
   caption = "Table of Model Fit Statistics",
   split.tables = 200)

 # remove files
 unlink("mtcars.dat")
 unlink("mtcars.inp")
 unlink("mtcars.out")
 unlink("Mplus Run Models.log")
 closeAllConnections()

## End(Not run)
</code></pre>

<hr>
<h2 id='testBParamCompoundConstraint'>Test inequality-constrained hypothesis for two or more parameters based on iterations of MCMC chains</h2><span id='topic+testBParamCompoundConstraint'></span>

<h3>Description</h3>

<p>Tests an inequality-constrained hypothesis (van de Schoot, Hoijtink, Hallquist, &amp; Boelen, in press) based on
draws from the posterior distribution of the model parameters, which provides information about the proportion
of the distribution that is in agreement with a given hypothesis. This function is used for more complex hypotheses
about three or more parameters, whereas testBParamConstraint tests a simple two-parameter hypothesis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testBParamCompoundConstraint(bparams, test)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="testBParamCompoundConstraint_+3A_bparams">bparams</code></td>
<td>
<p>An object containing draws from the posterior distribution (class <code>mplus.model</code> or <code>mplus.bparameters</code>).
Obtained by SAVEDATA:BPARAMETERS in Mplus and <code><a href="#topic+getSavedata_Bparams">getSavedata_Bparams</a></code> or <code><a href="#topic+readModels">readModels</a></code> in <code>MplusAutomation</code>.</p>
</td></tr>
<tr><td><code id="testBParamCompoundConstraint_+3A_test">test</code></td>
<td>
<p>The <code>R</code> code defining the parameter test of three or more parameters. Example:
<code>"(STAITOT.ON.CG &gt; STAITOT.ON.UCG) &amp; (BDIM.ON.CG &gt; BDIM.ON.UCG)"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function accepts a bparameters object containing iterations of the MCMC chains (rows) for each model parameter (columns)
and prints out the number and proportion of draws that are consistent with the requested hypothesis test.
</p>
<p>The <code>test</code> argument is evaluated directly as <code>R</code> code, with the <code>bparams</code> object attached so that
variable names are available directly in the environment. Because the goal is to evaluate the test for each
draw from the posterior distribution, remember to use vector-based logic operators, not boolean operators. That is,
stick to <code>&amp;</code> or <code>|</code> for joining tests of parameters, rather than <code>&amp;&amp;</code> or <code>||</code> since the latter will
return a single TRUE/FALSE, which is irrelevant.
</p>
<p>An example test in R logic would be <code>"(STAITOT.ON.CG &gt; STAITOT.ON.UCG) &amp; (BDIM.ON.CG &gt; BDIM.ON.UCG)"</code>.
</p>


<h3>Value</h3>

<p>No value is returned by this function. Instead, two summary tables are printed to the screen containing the number and proportion
of draws consistent with the hypothesis.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><code><a href="#topic+testBParamConstraint">testBParamConstraint</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  #using bparameters directly
  btest &lt;- getSavedata_Bparams("model vb1_simpel_b.out")
  testBParametersCompoundConstraint(btest,
  "(STDYX_STAITOT.ON.CG &gt; STDYX_STAITOT.ON.UCG) &amp; (STDYX_BDIM.ON.CG &gt; STDYX_BDIM.ON.UCG)")

  #or using readModels
  btest &lt;- readModels("model vb1_simpel_b.out")
  testBParametersCompoundConstraint(btest,
  "(STDYX_STAITOT.ON.CG &gt; STDYX_STAITOT.ON.UCG) &amp; (STDYX_BDIM.ON.CG &gt; STDYX_BDIM.ON.UCG)")

## End(Not run)
</code></pre>

<hr>
<h2 id='testBParamConstraint'>Test inequality-constrained hypothesis for two parameters based on iterations of MCMC chains</h2><span id='topic+testBParamConstraint'></span>

<h3>Description</h3>

<p>Tests a simple inequality-constrained hypothesis (van de Schoot, Hoijtink, Hallquist, &amp; Boelen, in press) based on
draws from the posterior distribution of the model parameters, which provides information about the proportion
of the distribution that is in agreement with a given hypothesis. This function is used for simple hypothesis
for two parameters, whereas testBParamCompoundConstraint gives full access to multiple parameters and R's logic
syntax.
This function accepts a bparameters object containing iterations of the MCMC chains (rows) for each model parameter (columns)
and prints out the number and proportion of draws that are consistent with the requested hypothesis test.
The <code>coef1</code>, <code>operator</code>, and <code>coef2</code> arguments are appended in sequence, so that the hypothesis test is
constructed from left-to-right. e.g., <code>testBParamConstraint(bparamsDF, "MGM.TRT1", "&gt;", "MGM.EX2")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testBParamConstraint(bparams, coef1, operator, coef2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="testBParamConstraint_+3A_bparams">bparams</code></td>
<td>
<p>An object containing draws from the posterior distribution (class <code>mplus.model</code> or <code>mplus.bparameters</code>).
Obtained by SAVEDATA:BPARAMETERS in Mplus and <code><a href="#topic+getSavedata_Bparams">getSavedata_Bparams</a></code> or <code><a href="#topic+readModels">readModels</a></code> in <code>MplusAutomation</code>.</p>
</td></tr>
<tr><td><code id="testBParamConstraint_+3A_coef1">coef1</code></td>
<td>
<p>The name of the first parameter to be compared. Example: <code>"MGM.TRT1"</code></p>
</td></tr>
<tr><td><code id="testBParamConstraint_+3A_operator">operator</code></td>
<td>
<p>A logical operator to compare the two parameters. Should be one of <code>&gt;=, &gt;, &lt;, or &lt;=</code>.
Example: <code>"&gt;="</code></p>
</td></tr>
<tr><td><code id="testBParamConstraint_+3A_coef2">coef2</code></td>
<td>
<p>The name of the first parameter to be compared. Example: <code>"MGM.EX2"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned by this function. Instead, two summary tables are printed to the screen containing the number and proportion
of draws consistent with the hypothesis.
</p>


<h3>Author(s)</h3>

<p>Michael Hallquist
</p>


<h3>See Also</h3>

<p><a href="#topic+testBParamCompoundConstraint">testBParamCompoundConstraint</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  #using bparameters directly
  btest &lt;- getSavedata_Bparams("model vb1_simpel_b.out"))
  testBParametersConstraint(btest, "STDYX_STAITOT.ON.CG", "&gt;", "STDYX_STAITOT.ON.UCG")

  #or using readModels
  btest &lt;- readModels("model vb1_simpel_b.out"))
  testBParametersConstraint(btest, "STDYX_STAITOT.ON.CG", "&gt;", "STDYX_STAITOT.ON.UCG")

## End(Not run)
</code></pre>

<hr>
<h2 id='trainLGMM'>Train a variety of latent growth mixture model</h2><span id='topic+trainLGMM'></span>

<h3>Description</h3>

<p>This function iterates through a grid of values to train LGMMs,
optionally using a local or remote cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trainLGMM(
  data,
  idvar,
  assessmentvar,
  newdata = FALSE,
  tuneGrid,
  cl,
  ncores = 1L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trainLGMM_+3A_data">data</code></td>
<td>
<p>A data frame or data table in long format (i.e., multiple rows per ID).</p>
</td></tr>
<tr><td><code id="trainLGMM_+3A_idvar">idvar</code></td>
<td>
<p>A character string of the variable name in the dataset
that is the ID variable.</p>
</td></tr>
<tr><td><code id="trainLGMM_+3A_assessmentvar">assessmentvar</code></td>
<td>
<p>A character string of the variable name in the dataset that
indicates the particular assessment point for each timepoint.</p>
</td></tr>
<tr><td><code id="trainLGMM_+3A_newdata">newdata</code></td>
<td>
<p>A data frame of new values to use for generating predicted
trajectories by class or <code>FALSE</code> if no predictions to be made
(the default).</p>
</td></tr>
<tr><td><code id="trainLGMM_+3A_tunegrid">tuneGrid</code></td>
<td>
<p>A dataframe or list.  It should have names for
the needed arguments for <code>long2LGMM()</code>.</p>
</td></tr>
<tr><td><code id="trainLGMM_+3A_cl">cl</code></td>
<td>
<p>Optional.  An existing cluster to be used to estimate models.
Can be a local or remote cluster.  In either case it needs MplusAUtomation
and Mplus available.</p>
</td></tr>
<tr><td><code id="trainLGMM_+3A_ncores">ncores</code></td>
<td>
<p>If a cluster is not passed to <code>cl</code>, specify the number of
cores to use to create a local cluster.  Must be an integer.  Defaults to
<code>1L</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## This example is not run by default because even with very limitted number of
## random starts and iterations, it takes quite a few minutes
setwd(tempdir())

## Simulate Some Data from 3 classes
library(MASS)
set.seed(1234)
allcoef &lt;- rbind(
  cbind(1, mvrnorm(n = 200,
                   mu = c(0, 2, 0),
                   Sigma = diag(c(.2, .1, .01)),
                   empirical = TRUE)),
  cbind(2, mvrnorm(n = 200,
                   mu = c(-3.35, 2, 2),
                   Sigma = diag(c(.2, .1, .1)),
                   empirical = TRUE)),
  cbind(3, mvrnorm(n = 200,
                   mu = c(3.35, 2, -2),
                   Sigma = diag(c(.2, .1, .1)),
                   empirical = TRUE)))
allcoef &lt;- as.data.frame(allcoef)
names(allcoef) &lt;- c("Class", "I", "L", "Q")
allcoef$ID &lt;- 1:nrow(allcoef)
d &lt;- do.call(rbind, lapply(1:nrow(allcoef), function(i) {
  out &lt;- data.frame(
    ID = allcoef$ID[i],
    Class = allcoef$Class[i],
    Assess = 1:11,
    x = sort(runif(n = 11, min = -2, max = 2)))
  out$y &lt;- rnorm(11,
    mean = allcoef$I[i] + allcoef$L[i] * out$x + allcoef$Q[i] * out$x^2,
    sd = .1)
  return(out)
}))

## create splines
library(splines)
time_splines &lt;- ns(d$x, df = 3, Boundary.knots = quantile(d$x, probs = c(.02, .98)))
d$t1 &lt;- time_splines[, 1]
d$t2 &lt;- time_splines[, 2]
d$t3 &lt;- time_splines[, 3]
d$xq &lt;- d$x^2

## create new data to be used for predictions
nd &lt;- data.frame(ID = 1,
                 x = seq(from = -2, to = 2, by = .1))
nd.splines &lt;- with(attributes(time_splines),
                   ns(nd$x, df = degree, knots = knots,
                      Boundary.knots = Boundary.knots))
nd$t1 &lt;- nd.splines[, 1]
nd$t2 &lt;- nd.splines[, 2]
nd$t3 &lt;- nd.splines[, 3]
nd$xq &lt;- nd$x^2

## create a tuning grid of models to try
## all possible combinations are created of different time trends
## different covariance structures of the random effects
## and different number of classes
tuneGrid &lt;- expand.grid(
  dv = "y",
  timevars = list(c("t1", "t2", "t3"), "x", c("x", "xq")),
  starts = "2 1",
  cov = c("independent", "zero"),
  k = c(1L, 3L),
  processors = 1L, run = TRUE,
  misstrick = TRUE, stringsAsFactors = FALSE)
tuneGrid$title &lt;- paste0(
  c("linear", "quad", "spline")[sapply(tuneGrid$timevars, length)],
  "_",
  sapply(tuneGrid$cov, function(x) if(nchar(x)==4) substr(x, 1, 4) else substr(x, 1, 3)),
  "_",
  tuneGrid$k)
tuneGrid$base &lt;- paste0(
  c("linear", "quad", "spline")[sapply(tuneGrid$timevars, length)],
  "_",
  sapply(tuneGrid$cov, function(x) if(nchar(x)==4) substr(x, 1, 4) else substr(x, 1, 3)))

## example using long2LGMM to fit one model at a time
mres &lt;- long2LGMM(
        data = d,
        idvar = "ID",
        assessmentvar = "Assess",
        dv = tuneGrid$dv[1],
        timevars = tuneGrid$timevars[[1]],
        misstrick = tuneGrid$misstrick[1],
        k = tuneGrid$k[1],
        title = paste0(tuneGrid$title[1], tuneGrid$k[1]),
        base = tuneGrid$base[1],
        run = tuneGrid$run[1],
        processors = tuneGrid$processors[1],
        starts = tuneGrid$starts[1],
        newdata = nd,
        cov = tuneGrid$cov[1])

## Example using trainLGMM to fit a whole set of models
## can be distributed across a local or remote cluster
## Defaults to creating a local cluster, but can also pass an
## existing cluster
AllRes &lt;- trainLGMM(
  data = d,
  idvar = "ID",
  assessmentvar = "Assess",
  newdata = nd,
  tuneGrid = tuneGrid,
  ncores = 2L)


tuneGridRes &lt;- as.data.frame(
  cbind(tuneGrid,
        do.call(rbind, lapply(AllRes, function(x) {
          if (is.null(x$Model$results$summaries)) {
            NA
          } else {
            out &lt;- x$Model$results$summaries
            ## deal with missing summary information for k = 1
            if (is.null(out$Entropy)) {
              out$Entropy &lt;- 1
            }
            if (is.null(out$NCategoricalLatentVars)) {
              out$NCategoricalLatentVars &lt;- 0
            }
            out[, sort(names(out)), drop = FALSE]
          }
        }))))

tuneGridRes$Type &lt;- gsub("([a-z]+)_.*$", "\\1", tuneGridRes$title)

tuneGridRes$MinClass &lt;- sapply(AllRes, function(x) {
  n &lt;- x$Model$results$class_counts$mostLikely$count
  if(is.null(n)) {
    length(unique(d$ID))
  } else {
    min(n, na.rm = TRUE)
  }
})

## when trying many models, some may not converge
## subset to omit any missing AICC and look only at those with some
## minimum number of participants per class,
## for demonstration only arbitrarily set at 30
subset(tuneGridRes, !is.na(AICC) &amp; MinClass &gt;= 30,
       select = c(title, aBIC, AICC, Entropy, MinClass, LL))

## reshape data into long form which can make a very nice plot using ggplot2
tuneGridResL &lt;- reshape(
  subset(tuneGridRes, select = c(Type, cov, k, Parameters, aBIC, AICC, AIC, BIC, Entropy)),
  varying = c("Parameters", "aBIC", "AICC", "AIC", "BIC", "Entropy"),
  v.names = "value",
  times = c("Parameters", "aBIC", "AICC", "AIC", "BIC", "Entropy"),
  timevar = "variable",
  idvar = c("Type", "cov", "k"),
  direction = "long")
tuneGridResL$cov &lt;- factor(tuneGridResL$cov, levels = c("zero", "independent"))

## uncomment to run
## library(ggplot2)
## ggplot(tuneGridResL, aes(k, value, colour = Type, shape = Type)) +
##   geom_point() +
##   facet_grid(variable~cov, scales = "free")


## nice plot of the average trajectories in each class
## these are possible as trainLGMM exports predicted values for the
## new data fed in
## uncomment to run
## ggplot(AllRes[[which(tuneGridRes$title=="quad_ind_3")]]$predictions, aes(x)) +
##   geom_line(aes(y = y_1), colour = "black", size = 2) +
##   geom_line(aes(y = y_2), colour = "red", size = 2) +
##   geom_line(aes(y = y_3), colour = "blue", size = 2)

## End(Not run)
</code></pre>

<hr>
<h2 id='trimSpace'>Trim White Space</h2><span id='topic+trimSpace'></span>

<h3>Description</h3>

<p>Helper function to remove white space from a character vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trimSpace(string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trimSpace_+3A_string">string</code></td>
<td>
<p>The character vector to trim white space from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the white space removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>MplusAutomation:::trimSpace(c("    test", "another    "))
</code></pre>

<hr>
<h2 id='unlabeledMatrixExtract'>Reconstruct matrix from unlabeled multi-line text output</h2><span id='topic+unlabeledMatrixExtract'></span>

<h3>Description</h3>

<p>worker function for extracting Mplus matrix output from an unlabeled section
where matrices are spread across blocks to keep within width constraints
example: class counts output from latent class models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unlabeledMatrixExtract(outfiletext, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unlabeledMatrixExtract_+3A_outfiletext">outfiletext</code></td>
<td>
<p>The text of the output file</p>
</td></tr>
<tr><td><code id="unlabeledMatrixExtract_+3A_filename">filename</code></td>
<td>
<p>The name of the output file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'># make me!!!
</code></pre>

<hr>
<h2 id='update.mplusObject'>Update an Mplus model object</h2><span id='topic+update.mplusObject'></span>

<h3>Description</h3>

<p>This is a method for updating an Mplus model object.
It takes an Mplus model object as the first argument, and
then optionally any sections to update. There are two ways
to update a section using a formula interface. <code>~ "new stuff"</code> will
replace a given section with the new text.  Alternately, you can add
additional text using <code>~ + "additional stuff"</code>. Combined these let you
replace or add to a section.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mplusObject'
update(object, quiet = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.mplusObject_+3A_object">object</code></td>
<td>
<p>An object of class mplusObject</p>
</td></tr>
<tr><td><code id="update.mplusObject_+3A_quiet">quiet</code></td>
<td>
<p>optional. If <code>TRUE</code>, show status messages in the console.</p>
</td></tr>
<tr><td><code id="update.mplusObject_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass on</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An (updated) Mplus model object
</p>


<h3>Author(s)</h3>

<p>Joshua F. Wiley &lt;jwiley.psych@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>example1 &lt;- mplusObject(MODEL = "mpg ON wt;",
  usevariables = c("mpg", "hp"), rdata = mtcars)
x &lt;- ~ "ESTIMATOR = ML;"
str(update(example1, rdata = iris))
str(update(example1, ANALYSIS = x))
str(update(example1, MODEL = ~ "wt ON hp;"))
str(update(example1, MODEL = ~ . + "wt ON hp;"))
str(update(example1, ANALYSIS = x, MODEL = ~ . + "wt ON hp;"))

## check that use variables can be updated &amp; overridden
str(update(example1, usevariables = c("mpg", "hp", "cyl")))

# test to make sure . in Mplus code does not cause problems
str(update(example1, ANALYSIS = x, MODEL = ~ . + "wt ON hp*.5;"))
rm(example1, x)
</code></pre>

<hr>
<h2 id='updateCurrentValues'>Updates current values</h2><span id='topic+updateCurrentValues'></span>

<h3>Description</h3>

<p>Body tags currentValues are substituted at the bottom-most level
after init collection is finalized (recursively process any nested tags)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateCurrentValues(templateTags, initCollection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateCurrentValues_+3A_templatetags">templateTags</code></td>
<td>
<p>The template tags</p>
</td></tr>
<tr><td><code id="updateCurrentValues_+3A_initcollection">initCollection</code></td>
<td>
<p>Initial collection</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated current value or the original if no match.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

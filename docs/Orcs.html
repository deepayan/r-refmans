<!DOCTYPE html><html><head><title>Help for package Orcs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Orcs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#assignSSH'><p>Assign SSH Key to Local Git Repository</p></a></li>
<li><a href='#buildBook'><p>Build a Book without Underscores</p></a></li>
<li><a href='#bumpVersion'><p>Bump Package 'Version:' and 'Date:' in DESCRIPTION File</p></a></li>
<li><a href='#compareDistributions'><p>Compare Two Density Distributions Side by Side</p></a></li>
<li><a href='#coords2Lines'><p>Convert Points to <code style="white-space: pre;">&#8288;SpatialLines*&#8288;</code></p></a></li>
<li><a href='#coords2Polygons'><p>Convert Points to <code style="white-space: pre;">&#8288;SpatialPolygons*&#8288;</code></p></a></li>
<li><a href='#evalMetrics'><p>Compute Selected Evaluation Metrics</p></a></li>
<li><a href='#ext2spy'><p>Convert Spatial Extent to Polygon</p></a></li>
<li><a href='#ifMissing'><p>Take Measures in Case of Nonexisting Target Files</p></a></li>
<li><a href='#latticeCombineGrid'><p>Combine Multiple Lattice Plots in a Faceted Grid (Panels)</p></a></li>
<li><a href='#latticeCombineLayer'><p>Combine Multiple Lattice Plots Layerwise</p></a></li>
<li><a href='#lineEnding'><p>Convert Between DOS and UNIX Line Endings</p></a></li>
<li><a href='#list2df'><p>Create <code>data.frame</code> from <code>list</code></p></a></li>
<li><a href='#loadFromGit'><p>Install and Load a Package from GitHub</p></a></li>
<li><a href='#loadPkgs'><p>Load Multiple Packages</p></a></li>
<li><a href='#meanDifference'><p>Calculate Mean Difference Between Two Datasets</p></a></li>
<li><a href='#merge'><p>Merge Objects Stored in a List</p></a></li>
<li><a href='#multiKnit'><p>Convert Multiple R Markdown Files to Ordinary Markdown</p></a></li>
<li><a href='#offsetGridText'><p>Insert Offset Text Annotation into <code>trellis</code> Plot</p></a></li>
<li><a href='#Orcs-package'><p>Omnidirectional R Code Snippets.</p></a></li>
<li><a href='#OrcsCppFun'><p>Dimensions of a <code>data.frame</code></p></a></li>
<li><a href='#par7zip'><p>Parallelized 7-Zip Compression</p></a></li>
<li><a href='#pureBasename'><p>Return File Name without Extension</p></a></li>
<li><a href='#pvalue'><p>Get <em>p</em>-Value from 'lm' Object</p></a></li>
<li><a href='#rgb2spLayout'><p>Convert an RGB <code style="white-space: pre;">&#8288;Raster*&#8288;</code> to Use with <code>spplot()</code></p></a></li>
<li><a href='#rmDuplCols'><p>Remove Duplicated Columns from <code>data.frame</code></p></a></li>
<li><a href='#setwdOS'><p>Set Working Directory Dependent on Current OS</p></a></li>
<li><a href='#stextGrob'><p>Draw Shadow Text</p></a></li>
<li><a href='#substrC'><p>Substrings of a Character Vector (C++ Style)</p></a></li>
<li><a href='#trimImages'><p>Remove Whitespace from Images</p></a></li>
<li><a href='#unlistStrsplit'><p>Unlist the Outcome of <code>strsplit()</code></p></a></li>
<li><a href='#unsortedFactor'><p>Factor with Unsorted Levels</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Omnidirectional R Code Snippets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Florian Detsch &lt;fdetsch@web.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>I tend to repeat the same code chunks over and over again. At
    first, this was fine for me and I paid little attention to such redundancies.
    A little later, when I got tired of manually replacing Linux filepaths with
    the referring Windows versions, and vice versa, I started to stuff some very
    frequently used work-steps into functions and, even later, into a proper R
    package. And that's what this package is - a hodgepodge of various R functions
    meant to simplify (my) everyday-life coding work without, at the same time,
    being devoted to a particular scope of application.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/fdetsch/Orcs">https://github.com/fdetsch/Orcs</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/fdetsch/Orcs/issues">https://github.com/fdetsch/Orcs/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>methods, R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>bookdown, grDevices, grid, knitr, lattice, latticeExtra,
plotrix, Rcpp (&ge; 0.11.3), remotes, sf, sp, stats, terra</td>
</tr>
<tr>
<td>Suggests:</td>
<td>checkmate, raster, rmarkdown, tinytest</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make, 7zip, unix2dos</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-04 09:29:20 UTC; fdetsch</td>
</tr>
<tr>
<td>Author:</td>
<td>Florian Detsch [cre, aut],
  Tim Appelhans [aut],
  Baptiste Auguie [ctb],
  OpenStreetMap contributors [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-06 13:30:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='assignSSH'>Assign SSH Key to Local Git Repository</h2><span id='topic+assignSSH'></span>

<h3>Description</h3>

<p>Assign an SSH key to a local Git repository to bypass user/password prompts
during 'git push. See
<a href="https://docs.github.com/articles/generating-an-ssh-key/">Generating an SSH Key</a>
for further information on how to generate an SSH key and add it to your
GitHub account.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assignSSH(user, repo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assignSSH_+3A_user">user</code></td>
<td>
<p>GitHub user name as <code>character</code>. If not specified, information on
GitHub user and repository name is taken from the current working
environment.</p>
</td></tr>
<tr><td><code id="assignSSH_+3A_repo">repo</code></td>
<td>
<p>GitHub repository name as <code>character</code>, see 'user'.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://docs.github.com/articles/generating-an-ssh-key/">https://docs.github.com/articles/generating-an-ssh-key/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## for an arbitrary git repository
assignSSH()

## for this very git repository
assignSSH(user = "fdetsch", repo = "Orcs")

## End(Not run)

</code></pre>

<hr>
<h2 id='buildBook'>Build a Book without Underscores</h2><span id='topic+buildBook'></span>

<h3>Description</h3>

<p>Since the use of underscores ('_') is not permitted when streaming
<strong>bookdown</strong> documents via <a href="https://pages.github.com/">GitHub Pages</a>, this
wrapper function serves to remove any unwanted underscores from subfolders
and link <code>.html</code> documents created by <code><a href="bookdown.html#topic+render_book">bookdown::render_book()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildBook(output_dir = "book", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="buildBook_+3A_output_dir">output_dir</code></td>
<td>
<p>Output directory as <code>character</code>.</p>
</td></tr>
<tr><td><code id="buildBook_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="bookdown.html#topic+render_book">bookdown::render_book()</a></code>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>While all remaining arguments passed to <code><a href="bookdown.html#topic+render_book">bookdown::render_book()</a></code> remain
untouched, and hence their specification is freely up to the user, the
default value of 'output_dir' is explicitly set to <code>"book"</code> here. If this
were not the case (i.e. if the default value were used), the output document
would be created in <code>"_book"</code> which is not desirable for obvious reasons.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>

<hr>
<h2 id='bumpVersion'>Bump Package 'Version:' and 'Date:' in DESCRIPTION File</h2><span id='topic+bumpVersion'></span>

<h3>Description</h3>

<p>This function let's you bump the version number and creation date of your
package's <code>DESCRIPTION</code> file. Additionally, it bumps the version numbers of a
<code>NEWS.md</code> file and automatically generates a corresponding plain NEWS file
(for R-help pages). Supported versioning system is
<a href="https://semver.org/">MAJOR.MINOR.PATCH</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bumpVersion(
  element = "patch",
  pkg.repo = ".",
  news = file.path(pkg.repo, "NEWS.md"),
  plain_news = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bumpVersion_+3A_element">element</code></td>
<td>
<p><code>character</code>, one of <code>"major"</code>, <code>"minor"</code>, <code>"patch"</code> (default)
to be bumped.</p>
</td></tr>
<tr><td><code id="bumpVersion_+3A_pkg.repo">pkg.repo</code></td>
<td>
<p>Path to package repository folder. Default is current working
directory, i.e. <code>"."</code>.</p>
</td></tr>
<tr><td><code id="bumpVersion_+3A_news">news</code></td>
<td>
<p>The <code>NEWS.md</code> file of the repo (assumed to be in top level path).
If this exists, the first line of that file will be rewritten to be
&quot;\&lt;packagename\&gt; \&lt;major.minor.patch\&gt;&quot;. Note that the current
implementation assumes that the NEWS file is in <code>.md</code> format. A plain NEWS
file (for R-help pages) will be generated automatically.</p>
</td></tr>
<tr><td><code id="bumpVersion_+3A_plain_news">plain_news</code></td>
<td>
<p>whether to generate a plain NEWS file in the package root
directory from the <code>NEWS.md</code> file supplied to argument 'news'.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tim Appelhans
</p>


<h3>See Also</h3>

<p><a href="https://semver.org/">https://semver.org/</a>
</p>

<hr>
<h2 id='compareDistributions'>Compare Two Density Distributions Side by Side</h2><span id='topic+compareDistributions'></span>

<h3>Description</h3>

<p>This function will produce a plot of two density functions displayed side by
side.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareDistributions(
  left,
  right,
  add.spread = TRUE,
  print.stats = TRUE,
  xlim = NULL,
  ylim = NULL,
  clrs = c("purple", "lightblue"),
  xlab = "density",
  ylab = "value",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compareDistributions_+3A_left">left</code></td>
<td>
<p><code>numeric</code> vector.</p>
</td></tr>
<tr><td><code id="compareDistributions_+3A_right">right</code></td>
<td>
<p><code>numeric</code> vector.</p>
</td></tr>
<tr><td><code id="compareDistributions_+3A_add.spread">add.spread</code></td>
<td>
<p><code>logical</code>, whether to plot the spread (q25 to q75 and the
median).</p>
</td></tr>
<tr><td><code id="compareDistributions_+3A_print.stats">print.stats</code></td>
<td>
<p><code>logical</code>, whether to print summary statistics for each
distribution.</p>
</td></tr>
<tr><td><code id="compareDistributions_+3A_xlim">xlim</code>, <code id="compareDistributions_+3A_ylim">ylim</code></td>
<td>
<p><code>numeric</code> axis limits, see <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>.</p>
</td></tr>
<tr><td><code id="compareDistributions_+3A_clrs">clrs</code></td>
<td>
<p>A <code>character</code> vector of length 2 specifying the colors for the
filled density regions.</p>
</td></tr>
<tr><td><code id="compareDistributions_+3A_xlab">xlab</code>, <code id="compareDistributions_+3A_ylab">ylab</code></td>
<td>
<p><code>character</code> axis labels, see <code><a href="graphics.html#topic+plot.default">graphics::plot()</a></code>.</p>
</td></tr>
<tr><td><code id="compareDistributions_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="stats.html#topic+density">stats::density()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>trellis</code> object.
</p>


<h3>Author(s)</h3>

<p>Tim Appelhans
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compareDistributions(rnorm(1000, 2, 3), rnorm(1000, -5, 1))
compareDistributions(rnorm(1000, 2, 3), rnorm(1000, -5, 1), 
                     add.spread = FALSE)
compareDistributions(rnorm(1000, 2, 3), rnorm(1000, -5, 1), 
                     add.spread = TRUE, clrs = c("red", "brown"))
compareDistributions(rnorm(1000, 2, 5), rnorm(1000, -5, 4), 
                     print.stats = FALSE, add.spread = FALSE)
                     
## pass additional parameters to stats::density() 
compareDistributions(rnorm(1000, 2, 5), rnorm(1000, -5, 4), 
                     print.stats = FALSE, add.spread = FALSE, bw = 5)
compareDistributions(rnorm(1000, 2, 5), rnorm(1000, -5, 4), 
                     print.stats = FALSE, add.spread = FALSE, bw = 8,
                     kernel = "rectangular")
compareDistributions(rnorm(1000, 2, 5), rnorm(1000, -5, 4), 
                     print.stats = FALSE, add.spread = TRUE, bw = 8,
                     n = 3)
compareDistributions(rnorm(1000, 2, 5), rnorm(1000, -5, 4), 
                     print.stats = TRUE, add.spread = TRUE, bw = 0.1)
compareDistributions(rnorm(1000, 2, 5), rnorm(1000, -5, 4), 
                     print.stats = TRUE, add.spread = TRUE, bw = 0.5)                    

</code></pre>

<hr>
<h2 id='coords2Lines'>Convert Points to <code style="white-space: pre;">&#8288;SpatialLines*&#8288;</code></h2><span id='topic+coords2Lines'></span><span id='topic+coords2Lines+2Cmatrix-method'></span><span id='topic+coords2Lines+2CLine-method'></span>

<h3>Description</h3>

<p>Create a <code style="white-space: pre;">&#8288;SpatialLines*&#8288;</code> object from a <code>Line</code> object or set of point
coordinates in one go, i.e. without being required to run through the single
steps outlined in <code><a href="sp.html#topic+SpatialLines">sp::SpatialLines()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'matrix'
coords2Lines(coords, ID, data, match.ID = TRUE, ...)

## S4 method for signature 'Line'
coords2Lines(coords, ID, data, match.ID = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coords2Lines_+3A_coords">coords</code></td>
<td>
<p><code>Line</code> object or 2-column <code>numeric</code> <code>matrix</code> with x and y
coordinates.</p>
</td></tr>
<tr><td><code id="coords2Lines_+3A_id">ID</code></td>
<td>
<p><code>character</code>, see <code><a href="sp.html#topic+Line">sp::Lines()</a></code>.</p>
</td></tr>
<tr><td><code id="coords2Lines_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> with data to add to the output <code style="white-space: pre;">&#8288;SpatialLines*&#8288;</code>
object (optional).</p>
</td></tr>
<tr><td><code id="coords2Lines_+3A_match.id">match.ID</code></td>
<td>
<p><code>logical</code>, see <code><a href="sp.html#topic+SpatialLines">sp::SpatialLinesDataFrame()</a></code>.</p>
</td></tr>
<tr><td><code id="coords2Lines_+3A_...">...</code></td>
<td>
<p>Further arguments passed on to <code><a href="sp.html#topic+SpatialLines">sp::SpatialLines()</a></code>, i.e.
<code>proj4string</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'data' is missing, a <code>SpatialLines</code> object; else a
<code>SpatialLinesDataFrame</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sp)

coords1 &lt;- cbind(c(2, 4, 4, 1, 2), c(2, 3, 5, 4, 2))
sln1 &lt;- coords2Lines(coords1, ID = "A")

coords2 &lt;- cbind(c(5, 4, 2, 5), c(2, 3, 2, 2))
sln2 &lt;- coords2Lines(coords2, ID = "B")

plot(sln1, col = "grey75")
plot(sln2, col = "grey25", add = TRUE)

</code></pre>

<hr>
<h2 id='coords2Polygons'>Convert Points to <code style="white-space: pre;">&#8288;SpatialPolygons*&#8288;</code></h2><span id='topic+coords2Polygons'></span><span id='topic+coords2Polygons+2Cmatrix-method'></span><span id='topic+coords2Polygons+2CPolygon-method'></span>

<h3>Description</h3>

<p>Create a <code style="white-space: pre;">&#8288;SpatialPolygons*&#8288;</code> object from a <code>Polygon</code> object or set of point
coordinates in one go, i.e. without being required to run through the single
steps outlined in <code><a href="sp.html#topic+SpatialPolygons">sp::SpatialPolygons()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'matrix'
coords2Polygons(coords, hole = NA, ID, data, match.ID = TRUE, ...)

## S4 method for signature 'Polygon'
coords2Polygons(coords, ID, data, match.ID = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coords2Polygons_+3A_coords">coords</code></td>
<td>
<p><code>Polygon</code> object or 2-column <code>numeric</code> matrix with x and y
coordinates.</p>
</td></tr>
<tr><td><code id="coords2Polygons_+3A_hole">hole</code></td>
<td>
<p><code>logical</code>, see <code><a href="sp.html#topic+SpatialPolygons">sp::Polygon()</a></code>.</p>
</td></tr>
<tr><td><code id="coords2Polygons_+3A_id">ID</code></td>
<td>
<p><code>character</code>, see <code><a href="sp.html#topic+SpatialPolygons">sp::Polygons()</a></code>.</p>
</td></tr>
<tr><td><code id="coords2Polygons_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> with data to add to the output <code style="white-space: pre;">&#8288;SpatialPolygons*&#8288;</code>
object (optional).</p>
</td></tr>
<tr><td><code id="coords2Polygons_+3A_match.id">match.ID</code></td>
<td>
<p><code>logical</code>, see <code><a href="sp.html#topic+SpatialPolygons">sp::SpatialPolygonsDataFrame()</a></code>.</p>
</td></tr>
<tr><td><code id="coords2Polygons_+3A_...">...</code></td>
<td>
<p>Further arguments passed on to <code><a href="sp.html#topic+SpatialPolygons">sp::SpatialPolygons()</a></code>, i.e. <code>p0</code>
and <code>proj4string</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'data' is missing, a <code>SpatialPolygons</code> object; else a
<code>SpatialPolygonsDataFrame</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sp)

coords1 &lt;- cbind(c(2, 4, 4, 1, 2), c(2, 3, 5, 4, 2))
spy1 &lt;- coords2Polygons(coords1, ID = "A")

coords2 &lt;- cbind(c(5, 4, 2, 5), c(2, 3, 2, 2))
spy2 &lt;- coords2Polygons(coords2, ID = "B")

plot(spy1, col = "grey75")
plot(spy2, col = "grey25", add = TRUE)

</code></pre>

<hr>
<h2 id='evalMetrics'>Compute Selected Evaluation Metrics</h2><span id='topic+evalMetrics'></span>

<h3>Description</h3>

<p>Compute selected evaluation metrics for binary (i.e. two-class) confusion
matrices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evalMetrics(mat, type = c("accuracy", "precision", "recall"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evalMetrics_+3A_mat">mat</code></td>
<td>
<p>Binary confusion <code>matrix</code> (2-by-2; see Examples).</p>
</td></tr>
<tr><td><code id="evalMetrics_+3A_type">type</code></td>
<td>
<p>Target evaluation metric as <code>character</code>, defaults to
<code>"accuracy"</code>. Other available options are <code>"precision"</code> and <code>"recall"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single <code>numeric</code>.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>References</h3>

<p>University of Michigan (2017) Applied Machine Learning in Python. Available
online: <a href="https://www.coursera.org/learn/python-machine-learning/home/welcome">https://www.coursera.org/learn/python-machine-learning/home/welcome</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>in1 = matrix(c(96, 4, 8, 19), nc = 2L, byrow = TRUE)
rownames(in1) = c("Condition Positive", "Condition Negative")
colnames(in1) = c("Predicted Positive", "Predicted Negative")

evalMetrics(in1) # default: "accuracy"
evalMetrics(in1, "precision")
evalMetrics(in1, "recall")

in2 = matrix(c(26, 17, 7, 400), nc = 2, byrow = TRUE)
evalMetrics(in2, "precision")
evalMetrics(in2, "recall")

</code></pre>

<hr>
<h2 id='ext2spy'>Convert Spatial Extent to Polygon</h2><span id='topic+ext2spy'></span>

<h3>Description</h3>

<p>Convert a spatial extent to polygons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ext2spy(x, crs = "EPSG:4326", as_sf = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ext2spy_+3A_x">x</code></td>
<td>
<p>A <code>SpatExtent</code> object, or any object from which such an object can
be extracted, e.g. <code>SpatRaster</code>.</p>
</td></tr>
<tr><td><code id="ext2spy_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system set via <code><a href="terra.html#topic+crs">terra::crs()</a></code>.</p>
</td></tr>
<tr><td><code id="ext2spy_+3A_as_sf">as_sf</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> (default), the returned object is of class
<code>sf</code> rather than <code style="white-space: pre;">&#8288;Spatial*&#8288;</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on 'as_sf', either a <code>c(sf, data.frame)</code> or <code>SpatVector</code>
object.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="terra.html#topic+ext">terra::ext()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ext = terra::ext(c(25, 70, -5, 30))
ext2spy(ext) # 'sf' (default)
ext2spy(ext, as_sf = FALSE) # 'Spatial*'

</code></pre>

<hr>
<h2 id='ifMissing'>Take Measures in Case of Nonexisting Target Files</h2><span id='topic+ifMissing'></span>

<h3>Description</h3>

<p>If a target file already exists, it is simply being imported into R. However,
if the specified target file does not exist, it is first created by a
user-defined function and subsequently returned, thus rendering explicit
calls to <code><a href="base.html#topic+file.exists">file.exists()</a></code> unnecessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ifMissing(ofl, fun0 = terra::rast, fun1 = terra::writeRaster, arg1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ifMissing_+3A_ofl">ofl</code></td>
<td>
<p>Target file name as <code>character</code>.</p>
</td></tr>
<tr><td><code id="ifMissing_+3A_fun0">fun0</code></td>
<td>
<p>If 'ofl' exists, <code>function</code> to be applied to it. Defaults to
<code><a href="terra.html#topic+rast">terra::rast()</a></code>).</p>
</td></tr>
<tr><td><code id="ifMissing_+3A_fun1">fun1</code></td>
<td>
<p>If 'ofl' does not exist, <code>function</code> used to create it. Defaults
to <code><a href="terra.html#topic+writeRaster">terra::writeRaster()</a></code>).</p>
</td></tr>
<tr><td><code id="ifMissing_+3A_arg1">arg1</code></td>
<td>
<p>Argument in 'fun1' (as <code>character</code>) that corresponds to 'ofl',
e.g. 'filename' in <code><a href="terra.html#topic+writeRaster">terra::writeRaster()</a></code> or 'file' in
<code><a href="utils.html#topic+write.table">utils::write.table()</a></code>. If missing (default), the target file name passed
to 'fun1' needs to be explicitly included via '...'.</p>
</td></tr>
<tr><td><code id="ifMissing_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to 'fun0' and 'fun1'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'ofl' has already existed, the contents of 'ofl' derived from 'fun0'; else
the output resultant from 'fun1'.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+file.exists">file.exists()</a></code>, <code><a href="base.html#topic+do.call">do.call()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simply import existing file
logo &lt;- system.file("ex/logo.tif", package = "terra")
s &lt;- ifMissing(logo) 

# create nonexisting file and import it afterwards
logo2 &lt;- file.path(tempdir(), "rlogo.tif")
s2 &lt;- ifMissing(logo2, arg1 = "filename", x = s, datatype = "INT1U")

# this also works with text files and more sophisticated custom functions
fun = function(x, file = "", ...) {
  write.csv(x, file, ...)
  read.csv(file)
}

data(iris)
ofl &lt;- file.path(tempdir(), "iris.csv")
iris2 &lt;- ifMissing(ofl, fun1 = fun, x = iris, file = ofl, quote = FALSE, row.names = FALSE)

</code></pre>

<hr>
<h2 id='latticeCombineGrid'>Combine Multiple Lattice Plots in a Faceted Grid (Panels)</h2><span id='topic+latticeCombineGrid'></span>

<h3>Description</h3>

<p>This function combines multiple <strong>lattice</strong> plot objects in a faceted grid.
Note that the global plot settings (e.g. 'xlim', 'ylim', ...) are taken from
the first object though the user can specify whether 'scales' should be
identical or not. This is particularly useful when looping over large amounts
of data using <code><a href="base.html#topic+lapply">lapply()</a></code> or the like (see Examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latticeCombineGrid(
  trellis.list,
  between = list(y = 0.3, x = 0.3),
  as.table = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latticeCombineGrid_+3A_trellis.list">trellis.list</code></td>
<td>
<p>A <code>list</code> containing <strong>lattice</strong> plot objects.</p>
</td></tr>
<tr><td><code id="latticeCombineGrid_+3A_between">between</code></td>
<td>
<p>Space between panels.</p>
</td></tr>
<tr><td><code id="latticeCombineGrid_+3A_as.table">as.table</code></td>
<td>
<p>If <code>TRUE</code> (default), drawing is top left to bottom right.</p>
</td></tr>
<tr><td><code id="latticeCombineGrid_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="latticeExtra.html#topic+c.trellis">latticeExtra::c.trellis()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single <strong>lattice</strong> plot object.
</p>


<h3>Author(s)</h3>

<p>Tim Appelhans
</p>


<h3>See Also</h3>

<p><code><a href="latticeExtra.html#topic+c.trellis">latticeExtra::c.trellis()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(lattice)

p1 = xyplot(1:10 ~ 1:10)
p2 = xyplot(10:1 ~ 1:10)

(
  p = latticeCombineGrid(
    list(p1, p2)
  )
)

if (requireNamespace("raster", quietly = TRUE)) {
  # load data
  # Use a probability map assuming high potential for city expansion is just 
  # resulting from proximity to current urban area:
  prd = raster::raster(system.file("extdata/probability.rst", package = "Orcs"))
  
  # observed city growth between 1990 and 2006
  obs = raster::raster(system.file("extdata/citygrowth.tif", package = "Orcs"))
  
  # masking current urban area since these pixels have no potential for change
  msk = raster::raster(system.file("extdata/citymask.tif", package = "Orcs"))
  
  # create data list
  dat &lt;- list(prd, obs, msk)
  
  # create list of lattice plots
  plist &lt;- lapply(dat, raster::spplot, scales = list(draw = TRUE))
  
  # # draw individually
  # plist[[1]]
  # plist[[2]]
  # plist[[3]]
    
  # combine to grid, using c(1, 3) layout
  p = latticeCombineGrid(plist, layout = c(1, 3))
  print(p)
}

</code></pre>

<hr>
<h2 id='latticeCombineLayer'>Combine Multiple Lattice Plots Layerwise</h2><span id='topic+latticeCombineLayer'></span>

<h3>Description</h3>

<p>This function combines multiple <strong>lattice</strong> plot objects drawing each as a
layer on top of the previous plots. Note that the global plot settings (e.g.
'xlim', 'ylim', ...) are taken from the first object. This is particularly
useful when looping over large amounts of data using <code><a href="base.html#topic+lapply">lapply()</a></code> (see
Examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latticeCombineLayer(trellis.list, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latticeCombineLayer_+3A_trellis.list">trellis.list</code></td>
<td>
<p>A <code>list</code> containing <strong>lattice</strong> plot objects.</p>
</td></tr>
<tr><td><code id="latticeCombineLayer_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="latticeExtra.html#topic+as.layer">latticeExtra::as.layer()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single <strong>lattice</strong> plot object.
</p>


<h3>Author(s)</h3>

<p>Tim Appelhans
</p>


<h3>See Also</h3>

<p><code><a href="latticeExtra.html#topic+as.layer">latticeExtra::as.layer()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(latticeExtra)
dat &lt;- list(1:10,
            10:1,
            3:7,
            7:3)

plist &lt;- lapply(seq(dat), function(i) {
 tmp &lt;- xyplot(dat[[i]] ~ seq(dat[[i]]),
               type = "l", col = i)
})

p &lt;- latticeCombineLayer(plist)

print(p)

</code></pre>

<hr>
<h2 id='lineEnding'>Convert Between DOS and UNIX Line Endings</h2><span id='topic+lineEnding'></span>

<h3>Description</h3>

<p>This function converts between DOS and UNIX style line endings by invoking
<code>unix2dos</code> (or <code>dos2unix</code>) upon a text file (see also
<code>system("unix2dos --help")</code>). Note that 'unix2dos' must be installed on your
local system, see Source.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lineEnding(infile, pattern = NULL, outfile = NULL, to = c("dos", "unix"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lineEnding_+3A_infile">infile</code></td>
<td>
<p>Input filename(s).</p>
</td></tr>
<tr><td><code id="lineEnding_+3A_pattern">pattern</code></td>
<td>
<p>See <code><a href="base.html#topic+list.files">list.files()</a></code>. This will be ignored if 'infile' is
specified.</p>
</td></tr>
<tr><td><code id="lineEnding_+3A_outfile">outfile</code></td>
<td>
<p>Output filename. If not supplied, 'infile' will be
overwritten.</p>
</td></tr>
<tr><td><code id="lineEnding_+3A_to">to</code></td>
<td>
<p>Either <code>"dos"</code> or <code>"unix"</code>.</p>
</td></tr>
<tr><td><code id="lineEnding_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+list.files">list.files()</a></code>, only applicable if
'infile' is not specified.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Source</h3>

<p><a href="https://waterlan.home.xs4all.nl/dos2unix.html">Dos2Unix/Unix2Dos Text file format converters</a>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+list.files">list.files()</a></code>, <code><a href="base.html#topic+system">system()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## input file
infile &lt;- paste(system.file(package = "Orcs"), "DESCRIPTION", sep = "/")

## convert to dos line endings and write to output file
ofl = file.path(tempdir(), "DESCRIPTION4wd")
lineEnding(infile, outfile = ofl, to = "dos")

</code></pre>

<hr>
<h2 id='list2df'>Create <code>data.frame</code> from <code>list</code></h2><span id='topic+list2df'></span>

<h3>Description</h3>

<p>Create a <code>data.frame</code> from a <code>list</code> directly, i.e. without being required to
explicitly call <code><a href="base.html#topic+rbind">rbind()</a></code> first.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list2df(x, bind = c("rows", "cols"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list2df_+3A_x">x</code></td>
<td>
<p>A <code>list</code> object.</p>
</td></tr>
<tr><td><code id="list2df_+3A_bind">bind</code></td>
<td>
<p>Binding direction. Available options are <code>"rows"</code> (default) and
<code>"cols"</code> for <code><a href="base.html#topic+rbind">rbind()</a></code> and <code><a href="base.html#topic+cbind">cbind()</a></code>, respectively.</p>
</td></tr>
<tr><td><code id="list2df_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+data.frame">data.frame()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lst &lt;- list(letters[1:3], letters[4:6], letters[7:9])

do.call("rbind", lst) # results in matrix
list2df(lst)          # results in data.frame created using rbind()
list2df(lst, bind = "cols") # same for cbind()

</code></pre>

<hr>
<h2 id='loadFromGit'>Install and Load a Package from GitHub</h2><span id='topic+loadFromGit'></span>

<h3>Description</h3>

<p>This function comprises multiple steps required to install and load a package
directly from GitHub.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadFromGit(repo = "fdetsch/Orcs", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadFromGit_+3A_repo">repo</code></td>
<td>
<p>Repository address as <code>character</code>, defaults to <code>"fdetsch/Orcs"</code>.</p>
</td></tr>
<tr><td><code id="loadFromGit_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="remotes.html#topic+install_github">remotes::install_github()</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## install 'Orcs' from GitHub
loadFromGit("fdetsch/Orcs")

## End(Not run)

</code></pre>

<hr>
<h2 id='loadPkgs'>Load Multiple Packages</h2><span id='topic+loadPkgs'></span>

<h3>Description</h3>

<p>Load and attach multiple packages at once.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadPkgs(pkgs, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadPkgs_+3A_pkgs">pkgs</code></td>
<td>
<p>Packages to load as <code>character</code>.</p>
</td></tr>
<tr><td><code id="loadPkgs_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+library">library()</a></code>, except for
'character.only' which is set to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Package start-up messages are automatically disabled.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>loadPkgs(c("terra", "lattice"))

</code></pre>

<hr>
<h2 id='meanDifference'>Calculate Mean Difference Between Two Datasets</h2><span id='topic+meanDifference'></span><span id='topic+meanDifference+2CSpatRaster-method'></span><span id='topic+meanDifference+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Calculate the mean difference between two datasets as suggested by Wang
<em>et al.</em> (2012).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SpatRaster'
meanDifference(x, y)

## S4 method for signature 'numeric'
meanDifference(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanDifference_+3A_x">x</code>, <code id="meanDifference_+3A_y">y</code></td>
<td>
<p>Pairwise objects of class <code>SpatRaster</code>, <code>RasterLayer</code> or
<code>numeric</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The mean difference between the two inputs as <code>numeric</code>.
</p>


<h3>Source</h3>

<p>Wang <em>et al.</em> (2012) Impact of sensor degradation on the MODIS NDVI time
series. Remote Sensing of Environment 119, 55-61,
<a href="https://doi.org/10.1016/j.rse.2011.12.001">doi:10.1016/j.rse.2011.12.001</a>.
</p>
<p>Detsch <em>et al.</em> (2016) A Comparative Study of Cross-Product NDVI
Dynamics in the Kilimanjaro Region - A Matter of Sensor, Degradation
Calibration, and Significance. Remote Sensing 8(2), 159,
<a href="https://doi.org/10.3390/rs8020159">doi:10.3390/rs8020159</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
y &lt;- 2:11
meanDifference(x, y)

</code></pre>

<hr>
<h2 id='merge'>Merge Objects Stored in a List</h2><span id='topic+merge'></span><span id='topic+merge+2Clist+2Cmissing-method'></span>

<h3>Description</h3>

<p>Complementing existing merge methods, e.g. <code><a href="terra.html#topic+merge">terra::merge()</a></code> for <code style="white-space: pre;">&#8288;Spat*&#8288;</code>
objects, which typically work with one or two inputs only, this function
accepts a <code>list</code> of objects that are to be merged together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'list,missing'
merge(x, by = 1L, all = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_+3A_x">x</code></td>
<td>
<p>A <code>list</code> of objects of the same type (e.g. <code style="white-space: pre;">&#8288;Spat*&#8288;</code> or <code>data.frame</code>).</p>
</td></tr>
<tr><td><code id="merge_+3A_by">by</code>, <code id="merge_+3A_all">all</code></td>
<td>
<p>See <code><a href="base.html#topic+merge.data.frame">merge.data.frame()</a></code>. Ignored if data stored in 'x' is not
of class <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="merge_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the underlying merge method (e.g.
arguments compatible with <code><a href="terra.html#topic+merge">terra::merge()</a></code> and <code><a href="terra.html#topic+writeRaster">terra::writeRaster()</a></code> for
<code style="white-space: pre;">&#8288;Spat*&#8288;</code> input). Ignored if data stored in 'x' is of class <code>data.frame</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A merged object (e.g. a new <code style="white-space: pre;">&#8288;Spat*&#8288;</code> object with a larger spatial extent).
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+do.call">do.call()</a></code>, <code><a href="base.html#topic+Reduce">Reduce()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## `SpatRaster` input
dms = list.files(system.file("extdata", package = "Orcs")
                 , pattern = "ASTGTM2.*dem.tif$", full.names = TRUE)
dms = lapply(dms, terra::rast)

dem = merge(dms[3:4])
terra::plot(dem)

## data.frame input
mrg = merge(list(iris, iris, iris)
            , by = c("Species", "Sepal.Length", "Petal.Width"))
head(mrg)

</code></pre>

<hr>
<h2 id='multiKnit'>Convert Multiple R Markdown Files to Ordinary Markdown</h2><span id='topic+multiKnit'></span>

<h3>Description</h3>

<p>This function is a convenient wrapper around <code><a href="knitr.html#topic+knit">knitr::knit()</a></code> as it
automatically converts multiple R Markdown files (<code>.Rmd</code>) located in a
specified folder (and, optionally, matching a particular pattern) to standard
Markdown (<code>.md</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiKnit(path_in = ".", path_out = path_in, pattern = "*.Rmd$", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiKnit_+3A_path_in">path_in</code></td>
<td>
<p>Input file path as <code>character</code>, defaults to the current
working directory.</p>
</td></tr>
<tr><td><code id="multiKnit_+3A_path_out">path_out</code></td>
<td>
<p>Output file path as <code>character</code>, defaults to 'path_in'.</p>
</td></tr>
<tr><td><code id="multiKnit_+3A_pattern">pattern</code></td>
<td>
<p>Passed to <code><a href="base.html#topic+list.files">list.files()</a></code>, defaults to <code>"*.Rmd$"</code>.</p>
</td></tr>
<tr><td><code id="multiKnit_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="knitr.html#topic+knit">knitr::knit()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output filenames as <code>character</code>.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>

<hr>
<h2 id='offsetGridText'>Insert Offset Text Annotation into <code>trellis</code> Plot</h2><span id='topic+offsetGridText'></span>

<h3>Description</h3>

<p>This is a wrapper function around <code>Orcs:::calcOffsetGridText</code> and <strong>grid</strong>
based text drawing functions (currently including <code><a href="grid.html#topic+grid.text">grid::grid.text()</a></code> and
<code><a href="#topic+grid.stext">grid.stext()</a></code>) that automatically adds offset text annotations to a
<code>trellis</code> plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>offsetGridText(
  x,
  y = NULL,
  labels,
  xlim = NULL,
  ylim = NULL,
  pos = NULL,
  stext = FALSE,
  offset = 0.02,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="offsetGridText_+3A_x">x</code></td>
<td>
<p>A <code>numeric</code> vector containing x coordinates, or a 2-column <code>matrix</code>
containing x and y coordinates.</p>
</td></tr>
<tr><td><code id="offsetGridText_+3A_y">y</code></td>
<td>
<p>A <code>numeric</code> vector containing y coordinates, or <code>NULL</code> if 'x' is a
two-column <code>matrix</code>.</p>
</td></tr>
<tr><td><code id="offsetGridText_+3A_labels">labels</code></td>
<td>
<p>The text to be written as <code>character</code>.</p>
</td></tr>
<tr><td><code id="offsetGridText_+3A_xlim">xlim</code>, <code id="offsetGridText_+3A_ylim">ylim</code></td>
<td>
<p>X and Y-axis limits (<code>c(min, max)</code>) of the current plot. If
not supplied, limits are automatically calculated from supplied x and y
coordinates.</p>
</td></tr>
<tr><td><code id="offsetGridText_+3A_pos">pos</code></td>
<td>
<p>Text position specifier(s) as <code>integer</code> used by
<code><a href="graphics.html#topic+text">graphics::text()</a></code>. If not supplied, optimal text positions will be
determined with respect to neighboring locations using
<code><a href="plotrix.html#topic+thigmophobe">plotrix::thigmophobe()</a></code>.</p>
</td></tr>
<tr><td><code id="offsetGridText_+3A_stext">stext</code></td>
<td>
<p><code>logical</code>, defaults to <code>FALSE</code>. If <code>TRUE</code>, shadow text will be
drawn around 'labels'.</p>
</td></tr>
<tr><td><code id="offsetGridText_+3A_offset">offset</code></td>
<td>
<p>A <code>numeric</code> offset in normalized parent coordinates (<code>"npc"</code>,
see <code><a href="grid.html#topic+unit">grid::unit()</a></code>).</p>
</td></tr>
<tr><td><code id="offsetGridText_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the respective <strong>grid</strong> text
drawing function (depends on 'stext').</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>KiLi = terra::rast(system.file("extdata/KiLi.tif", package = "Orcs"))

# kilimanjaro peaks
peaks = data.frame(Peak = c("Kibo", "Mawenzi", "Shira")
                   , Lon = c(37.359031, 37.455061, 37.210408)
                   , Lat = c(-3.065053, -3.095436, -3.038222))

peaks = sf::st_as_sf(peaks, crs = 4326, coords = c("Lon", "Lat"))

# visualization
xlim_kili &lt;- c(37.15, 37.55)
ylim_kili &lt;- c(-3.25, -2.9)

if (requireNamespace("raster", quietly = TRUE)) {
   p = raster::spplot(KiLi[[1]], col.regions = "transparent", colorkey = FALSE, 
              xlim = xlim_kili, ylim = ylim_kili,
              scales = list(draw = TRUE, y = list(rot = 90)), 
              sp.layout = rgb2spLayout(KiLi, quantiles = c(0, 1), alpha = .8)) + 
     latticeExtra::layer(sp.points(as(peaks, "Spatial"), cex = 1.5, pch = 20, col = "black"))
   
   print(p)
   
   grid::downViewport(lattice::trellis.vpname(name = "figure"))
   offsetGridText(x = sf::st_coordinates(peaks), labels = peaks$Peak,  
                  xlim = xlim_kili, ylim = ylim_kili, stext = TRUE, offset = .02,
                  gp = grid::gpar(fontsize = 16))
}

</code></pre>

<hr>
<h2 id='Orcs-package'>Omnidirectional R Code Snippets.</h2><span id='topic+Orcs-package'></span><span id='topic+orcspackage'></span>

<h3>Description</h3>

<p>Omnidirectional R Code Snippets
</p>


<h3>Details</h3>

<p>The package provides a variety of functions which I regularly use during my
everyday work.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch, Tim Appelhans, Baptiste Auguie,
OpenStreetMap contributors <br />
<br />
<em>Maintainer:</em> Florian Detsch <a href="mailto:fdetsch@web.de">fdetsch@web.de</a>
</p>

<hr>
<h2 id='OrcsCppFun'>Dimensions of a <code>data.frame</code></h2><span id='topic+OrcsCppFun'></span><span id='topic+nrowC'></span><span id='topic+ncolC'></span><span id='topic+dimC'></span>

<h3>Description</h3>

<p>Similar to base-R <code><a href="base.html#topic+nrow">nrow()</a></code>, <code><a href="base.html#topic+ncol">ncol()</a></code> and <code><a href="base.html#topic+dim">dim()</a></code>, this set of functions
let's you retrieve the number of rows and columns of a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nrowC(x)

ncolC(x)

dimC(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OrcsCppFun_+3A_x">x</code></td>
<td>
<p>A <code>data.frame</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>dimC()</code> returns an <code>integer</code> vector of length 2 (number of rows and
columns); <code>nrowC()</code> (or <code>ncolC()</code>) returns the number of rows (or columns)
as a single <code>integer</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>nrowC()</code>: 
</p>
</li>
<li> <p><code>ncolC()</code>: 
</p>
</li>
<li> <p><code>dimC()</code>: 
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- data.frame(a = 1:4, b = 2:5, c = 3:6)

nrowC(dat)



</code></pre>

<hr>
<h2 id='par7zip'>Parallelized 7-Zip Compression</h2><span id='topic+par7zip'></span>

<h3>Description</h3>

<p>By calling the Unix terminal or Windows command prompt, this function
performs parallelized 7-zip compression of selected files based on the
built-in <strong>parallel</strong> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>par7zip(outfile, nodes = 1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="par7zip_+3A_outfile">outfile</code></td>
<td>
<p>Target file for compression as <code>character</code>. A file extension
compatible with 7-zip needs to be included, see
<a href="https://sevenzip.osdn.jp/chm/general/formats.htm">supported formats</a>. If
missing, this defaults to the found input file names with a <code style="white-space: pre;">&#8288;.7z&#8288;</code> extension
attached.</p>
</td></tr>
<tr><td><code id="par7zip_+3A_nodes">nodes</code></td>
<td>
<p>Number of cores to use for parallelization as <code>integer</code>,
defaults to <code>1L</code>.</p>
</td></tr>
<tr><td><code id="par7zip_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+list.files">list.files()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output filename(s) as <code>character</code>.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+list.files">list.files()</a></code>, <code><a href="base.html#topic+system">system()</a></code>
</p>

<hr>
<h2 id='pureBasename'>Return File Name without Extension</h2><span id='topic+pureBasename'></span>

<h3>Description</h3>

<p>As opposed to <code><a href="base.html#topic+basename">basename()</a></code>, this function returns the pure basename of one or
multiple file names, i.e. without extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pureBasename(path, slash = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pureBasename_+3A_path">path</code></td>
<td>
<p>File name(s) as <code>character</code>.</p>
</td></tr>
<tr><td><code id="pureBasename_+3A_slash">slash</code></td>
<td>
<p>A <code>logical</code> determining whether to add a leading slash (<code>"/"</code>)
to the returned file name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>File name(s) without extension as <code>character</code>.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="tools.html#topic+fileutils">tools::file_path_sans_ext()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ifl = tempfile(fileext = ".tif")
pureBasename(ifl)
pureBasename(ifl, slash = TRUE)

</code></pre>

<hr>
<h2 id='pvalue'>Get <em>p</em>-Value from 'lm' Object</h2><span id='topic+pvalue'></span>

<h3>Description</h3>

<p>Retrieve the <em>p</em>-value associated with a univariate linear regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvalue(mod)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvalue_+3A_mod">mod</code></td>
<td>
<p>An object of class <code>lm</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>numeric</code> <em>p</em>-value.
</p>


<h3>Source</h3>

<p><a href="https://stat.ethz.ch/pipermail/r-help/2005-December/084308.html">retrieving p-values in lm</a>
on R-help mailing list.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">stats::lm()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## taken from ?lm
ctl &lt;- c(4.17,5.58,5.18,6.11,4.50,4.61,5.17,4.53,5.33,5.14)
trt &lt;- c(4.81,4.17,4.41,3.59,5.87,3.83,6.03,4.89,4.32,4.69)
group &lt;- gl(2, 10, 20, labels = c("Ctl","Trt"))
weight &lt;- c(ctl, trt)
lm.D9 &lt;- lm(weight ~ group)

pvalue(lm.D9)

</code></pre>

<hr>
<h2 id='rgb2spLayout'>Convert an RGB <code style="white-space: pre;">&#8288;Raster*&#8288;</code> to Use with <code>spplot()</code></h2><span id='topic+rgb2spLayout'></span>

<h3>Description</h3>

<p>This function takes a red-green-blue <code>SpatRaster</code> or <code style="white-space: pre;">&#8288;Raster*&#8288;</code> object and
produces a list with color information that can be passed on as 'sp.layout'
to <code><a href="sp.html#topic+spplot">sp::spplot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rgb2spLayout(x, quantiles = c(0.02, 0.98), alpha = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rgb2spLayout_+3A_x">x</code></td>
<td>
<p>A 3-layered <code style="white-space: pre;">&#8288;SpatRaster*&#8288;</code> or <code style="white-space: pre;">&#8288;Raster*&#8288;</code> object.</p>
</td></tr>
<tr><td><code id="rgb2spLayout_+3A_quantiles">quantiles</code></td>
<td>
<p>Upper and lower quantiles used for color stretching.</p>
</td></tr>
<tr><td><code id="rgb2spLayout_+3A_alpha">alpha</code></td>
<td>
<p>Level of transparency.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tim Appelhans, Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="terra.html#topic+plotRGB">terra::plotRGB()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>b = terra::rast(system.file("ex/logo.tif", package="terra"))

## using plotRGB
terra::plotRGB(b)

## convert raster to list
lout = rgb2spLayout(b)
lout_alph = rgb2spLayout(b, alpha = 0.5)

## create random spatial points for plotting
df = data.frame(
  dat = rnorm(100, 2, 1)
  , x = rnorm(100, 50, 20)
  , y = rnorm(100, 50, 25)
)

df = sf::st_as_sf(df, coords = c("x", "y"))

## plot spatial points with rgb background
if (require(sp, quietly = TRUE)) {
  spplot(as(df, "Spatial"), sp.layout = lout)
  spplot(as(df, "Spatial"), sp.layout = lout_alph)
}

</code></pre>

<hr>
<h2 id='rmDuplCols'>Remove Duplicated Columns from <code>data.frame</code></h2><span id='topic+rmDuplCols'></span>

<h3>Description</h3>

<p>Automatically detect and remove columns from a <code>data.frame</code> based on
duplicated headers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmDuplCols(x, keep_first = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmDuplCols_+3A_x">x</code></td>
<td>
<p>Input <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="rmDuplCols_+3A_keep_first">keep_first</code></td>
<td>
<p>A <code>logical</code> determining whether the first column of an
otherwise duplicated header should be kept, defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="rmDuplCols_+3A_...">...</code></td>
<td>
<p>Currently not in use.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Revised <code>data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+duplicated">duplicated()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## sample data
set.seed(123)
dat &lt;- data.frame(matrix(rnorm(28), nc = 7))
names(dat) &lt;- c("Col1", "Col1", "Col1", "Col2", "Col3", "Col3", "Col4")

dat
rmDuplCols(dat)
rmDuplCols(dat, keep_first = FALSE)

</code></pre>

<hr>
<h2 id='setwdOS'>Set Working Directory Dependent on Current OS</h2><span id='topic+setwdOS'></span>

<h3>Description</h3>

<p>Similar to <code><a href="base.html#topic+setwd">setwd()</a></code>, this function sets the working directory to a
user-defined path. Rather than supplying a single 'dir' argument, however,
both an OS-sensitive path to the desired hard disk partition and, optionally,
an extension of this file path are required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setwdOS(lin = "/media/permanent/", win = "C:/", ext = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setwdOS_+3A_lin">lin</code>, <code id="setwdOS_+3A_win">win</code></td>
<td>
<p>Absolute file paths to the Linux and Windows partition as
<code>character</code>.</p>
</td></tr>
<tr><td><code id="setwdOS_+3A_ext">ext</code></td>
<td>
<p>Optional file path extension as <code>character</code> that will be added to
'lin' or 'win' after automatic OS determination.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+switch">switch()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# desired partition
setwdOS()

# including file path extension
setwdOS(ext = "kilimanjaro/nubiscope")

## End(Not run)

</code></pre>

<hr>
<h2 id='stextGrob'>Draw Shadow Text</h2><span id='topic+stextGrob'></span><span id='topic+grid.stext'></span>

<h3>Description</h3>

<p>Create and draw shadow text by wrapping a textual expression into a colored
framing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stextGrob(
  label,
  x = grid::unit(0.5, "npc"),
  y = grid::unit(0.5, "npc"),
  col = "white",
  fill = "black",
  r = 0.1,
  gp = grid::gpar(),
  vp = NULL,
  name = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stextGrob_+3A_label">label</code></td>
<td>
<p>A <code>character</code> or <code>expression</code> vector, see <code><a href="grid.html#topic+grid.text">grid::textGrob()</a></code>.</p>
</td></tr>
<tr><td><code id="stextGrob_+3A_x">x</code>, <code id="stextGrob_+3A_y">y</code></td>
<td>
<p>Horizontal and vertical text position as <code><a href="grid.html#topic+unit">grid::unit()</a></code> objects
passed to <code><a href="grid.html#topic+grid.text">grid::grid.text()</a></code>.</p>
</td></tr>
<tr><td><code id="stextGrob_+3A_col">col</code>, <code id="stextGrob_+3A_fill">fill</code></td>
<td>
<p>Framing and fill color passed to <code><a href="grid.html#topic+gpar">grid::gpar()</a></code>.</p>
</td></tr>
<tr><td><code id="stextGrob_+3A_r">r</code></td>
<td>
<p>Blur radius of colored framing as <code>numeric</code>.</p>
</td></tr>
<tr><td><code id="stextGrob_+3A_name">name</code>, <code id="stextGrob_+3A_gp">gp</code>, <code id="stextGrob_+3A_vp">vp</code></td>
<td>
<p>Graphical parameters passed to <code><a href="grid.html#topic+grid.grob">grid::gTree()</a></code>.</p>
</td></tr>
<tr><td><code id="stextGrob_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to [grid::grid.text()].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A text grob created by <code><a href="grid.html#topic+grid.grob">grid::gTree()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Baptiste Auguie, Florian Detsch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()
grid.rect(gp = gpar(fill = "grey"))
grid.stext("test")

</code></pre>

<hr>
<h2 id='substrC'>Substrings of a Character Vector (C++ Style)</h2><span id='topic+substrC'></span>

<h3>Description</h3>

<p>Extract substrings from a <code>character</code> vector in C++.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>substrC(x, pos, len)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="substrC_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector.</p>
</td></tr>
<tr><td><code id="substrC_+3A_pos">pos</code></td>
<td>
<p>The start point of the substring as <code>integer</code>. Position
indications start from <code>1L</code>, which is the default in R.</p>
</td></tr>
<tr><td><code id="substrC_+3A_len">len</code></td>
<td>
<p>The length of the substring as <code>integer</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector of the same length as 'x'.
</p>


<h3>See Also</h3>

<p><a href="https://cplusplus.com/reference/string/string/substr/">https://cplusplus.com/reference/string/string/substr/</a>, <code><a href="base.html#topic+substr">substr()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>substrC("Hello, world!", pos = 1, len = 5)

</code></pre>

<hr>
<h2 id='trimImages'>Remove Whitespace from Images</h2><span id='topic+trimImages'></span>

<h3>Description</h3>

<p>This is a wrapper function around <code>convert -trim</code> to automatically remove any
whitespace from locally saved images. Note that 'ImageMagick' must be
installed on your local system, see Source.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trimImages(path = ".", pattern = c(".png$", ".tiff$"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trimImages_+3A_path">path</code></td>
<td>
<p>File path leading to image files as <code>character</code>, defaults to the
current working directory.</p>
</td></tr>
<tr><td><code id="trimImages_+3A_pattern">pattern</code></td>
<td>
<p>A regular expression as <code>character</code> accepted by
<code><a href="base.html#topic+list.files">list.files()</a></code>, defaults to <code>c(".png$", ".tiff$")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector containing the names of the processed images.
</p>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Source</h3>

<p>Ooms J (2018) The <strong>magick</strong> package: Advanced Image-Processing in R.
Available online: <a href="https://cran.r-project.org/package=magick/vignettes/intro.html">https://cran.r-project.org/package=magick/vignettes/intro.html</a>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+system">system()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## trim image of bart simpson
download.file("http://pngimg.com/uploads/simpsons/simpsons_PNG93.png?i=1"
              , destfile = (ofl &lt;- file.path(tempdir(), "bart.png", fsep = "\\"))
              , mode = "wb")

par(mfrow = c(1, 2))

img = brick(ofl)
plotRGB(img)

jnk = trimImages(tempdir(), "bart.png")
trm = brick(jnk)
plotRGB(trm)

dev.off()

## End(Not run)

</code></pre>

<hr>
<h2 id='unlistStrsplit'>Unlist the Outcome of <code>strsplit()</code></h2><span id='topic+unlistStrsplit'></span>

<h3>Description</h3>

<p>Per default, <code><a href="base.html#topic+strsplit">strsplit()</a></code> returns a <code>list</code>, with each entry holding the
vector of splits of the initial string(s). This function is a simple wrapper
that casts <code><a href="base.html#topic+unlist">unlist()</a></code> upon the returned list to produce a concatenated
<code>character</code> vector consisting of the single split elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unlistStrsplit(x, split, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unlistStrsplit_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector with elements to be split.</p>
</td></tr>
<tr><td><code id="unlistStrsplit_+3A_split">split</code></td>
<td>
<p>A <code>character</code> vector used for splitting, see <code><a href="base.html#topic+strsplit">strsplit()</a></code>.</p>
</td></tr>
<tr><td><code id="unlistStrsplit_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+strsplit">strsplit()</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## 1st example
x &lt;- "This is a test."
unlistStrsplit(x, " ")

## 2nd example; note that 'split' defaults to 'whitespace'
x2 &lt;- "This is a 2nd test."
unlistStrsplit(c(x, x2))

</code></pre>

<hr>
<h2 id='unsortedFactor'>Factor with Unsorted Levels</h2><span id='topic+unsortedFactor'></span>

<h3>Description</h3>

<p>Casting <code><a href="base.html#topic+factor">factor()</a></code> upon a (<code>character</code>) vector usually results in
alphabetically ordered factor levels. Although this seems reasonable in most
cases, the automated ordering of factor levels is seldomly desirable in the
context of visualization, e.g. when working with tiled <strong>lattice</strong> or
<strong>ggplot2</strong> figures. This function returns a <code>factor</code> with levels ordered
according to their first appearance in the supplied vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unsortedFactor(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unsortedFactor_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector with elements to converted to <code>factor</code>.</p>
</td></tr>
<tr><td><code id="unsortedFactor_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+factor">factor()</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Florian Detsch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mnth &lt;- month.abb

## factor levels are being sorted
fc_mnth &lt;- factor(mnth)
levels(fc_mnth)

## factor levels remain unsorted
fc_mnth2 &lt;- unsortedFactor(mnth)
levels(fc_mnth2)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

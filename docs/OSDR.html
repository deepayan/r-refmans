<!DOCTYPE html><html lang="en"><head><title>Help for package OSDR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {OSDR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#OSDR-package'>
<p>Finds an Optimal System of Distinct Representatives</p></a></li>
<li><a href='#exdata'>
<p>Executive dataset (subset of)</p></a></li>
<li><a href='#listmat'>
<p>From cost matrix to list of feasible assignments.</p></a></li>
<li><a href='#matlist'>
<p>From list of feasible assignments to cost matrix.</p></a></li>
<li><a href='#OSDR'>
<p>Finds an Optimal System of Distinct Representatives from a family of subsets.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Finds an Optimal System of Distinct Representatives</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-03-07</td>
</tr>
<tr>
<td>Author:</td>
<td>Massimo Cannas [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Massimo Cannas &lt;massimo.cannas@unica.it&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides routines for finding an Optimal System of Distinct Representatives (OSDR),
 as defined by D.Gale (1968) &lt;<a href="https://doi.org/10.1016%2FS0021-9800%2868%2980039-0">doi:10.1016/S0021-9800(68)80039-0</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cran.r-project.org/package=OSDR">https://cran.r-project.org/package=OSDR</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-07 15:53:48 UTC; massimo</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-08 13:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='OSDR-package'>
Finds an Optimal System of Distinct Representatives
</h2><span id='topic+OSDR-package'></span>

<h3>Description</h3>

<p>Provides routines for finding an Optimal System of Distinct Representatives (OSDR),
 as defined by D.Gale (1968) &lt;doi:10.1016/S0021-9800(68)80039-0&gt;.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> OSDR</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Finds an Optimal System of Distinct Representatives</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1.4</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-03-07</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> person("Massimo", "Cannas", role = c("aut", "cre"),
                     email = "massimo.cannas@unica.it")</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Massimo Cannas [aut, cre]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Massimo Cannas &lt;massimo.cannas@unica.it&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Provides routines for finding an Optimal System of Distinct Representatives (OSDR),
 as defined by D.Gale (1968) &lt;doi:10.1016/S0021-9800(68)80039-0&gt;.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://cran.r-project.org/package=OSDR</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
OSDR                    Finds an Optimal System of Distinct
                        Representatives from a family of subsets.
OSDR-package            Finds an Optimal System of Distinct
                        Representatives
exdata                  Executive dataset (subset of)
listmat                 From cost matrix to list of feasible
                        assignments.
matlist                 From list of feasible assignments to cost
                        matrix.
</pre>
<p>The aim of this small package is to provide a function solving the assignment problem on an <em>ordered</em> set. This matching problem can be viewed in two ways. First, as the original ordered assignment problem, where a set of jobs, ordered by importance, must be filled by suitable applicants in the best possible way. Second, as an ordered matching problem where treated unit should be matched in order of importance with suitable controls. Suitability can be obtained by a &rdquo;caliper&rdquo;: units within the caliper having zero matching cost and units outside the caliper having infinity cost. The main function <code>OSDR</code> exploits an algorithm suggested by I.Anderson to find an <em>order optimal</em> matching, as defined by D.Gale (see <code><a href="#topic+OSDR">OSDR</a></code> for details). The package includes some utilities and examples (both combinatorial and statistically oriented) to illustrate the use of <code>OSDR</code>.
</p>


<h3>Author(s)</h3>

<p>Massimo Cannas [aut, cre]
</p>
<p>Maintainer: Massimo Cannas &lt;massimo.cannas@unica.it&gt;
</p>


<h3>References</h3>

<p>Gale, D. (1968) Optimal matching in an ordered set: an application of matroid theory. <em>Journal of Combinatorial Theory 4, pp. 176-180</em>.
</p>
<p>Anderson, I. (1989) A first course in Combinatorial Mathematics. <em>Oxford University Press</em>.
</p>
<p>Rosenbaum, P. R. (1989). Optimal matching for observational studies. <em>Journal of the American Statistical Association 84(408): pp. 1024-1032</em>. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#See OSDR help for the examples. 
</code></pre>

<hr>
<h2 id='exdata'>
Executive dataset (subset of)
</h2><span id='topic+exdata'></span>

<h3>Description</h3>

<p>Contains executives data for an italian firm operating in the energy sector (year 2015). The complete dataset contains 302 rows (10 firms) and 180 columns (it will be released in next package version).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("exdata")</code></pre>


<h3>Format</h3>

<p>A data frame with 28 observations on the following 8 variables.
</p>

<dl>
<dt><code>firm</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>position</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>education</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>year_born</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>contract</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>part_fulltime</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>seniority</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>sex</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Details</h3>


<dl>
<dt><code>position</code></dt><dd><p> is coded: 4 = top manager, 3 = medium/first line manager, 2 = supervisor</p>
</dd>
<dt><code>sex</code></dt><dd><p> is coded: 0 = M, 1 = F</p>
</dd>
<dt><code>education</code></dt><dd><p>is coded: Post-graduate = 5, Graduate = 4, High school = 3</p>
</dd>
<dt><code>contract type</code></dt><dd><p> is coded: fixed term = 4; permanent = 3</p>
</dd>
<dt><code>seniority</code></dt><dd><p> is measured by number of years in the current position</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># load executive data
data(exdata)

# case study: matched samples for comparing women and men executives

table(exdata$sex)
table(exdata$position,exdata$sex)
# There are more women and more in apical position. 

# A complete matching is not possible for several choices of the caliper.
# Gap differences tend to be higher for higher ranks

# e.g. Lynn and Thompson(1997), Above the glass ceiling? A comparison of
# matched Samples of Men and Women Executives. J. of Appl. Psych. 82(3)

# so we would give higher matching priority to women in higher position.
# We can use OSDR to find a minimum cost matching 
# performing matching by decreasing hierarchical position. 
</code></pre>

<hr>
<h2 id='listmat'>
From cost matrix to list of feasible assignments. 
</h2><span id='topic+listmat'></span>

<h3>Description</h3>

<p>Transforms the cost matrix of the assignment problem in the corresponding list of suitable applicants for each job. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listmat(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="listmat_+3A_x">x</code></td>
<td>

<p>A cost matrix where entry <code class="reqn">(i,j)</code> is the cost of assigning job <em>i</em> to applicant <em>j</em>.  
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In statistical matching problems the input is usually the cost matrix while in assignment problems is the list of assignable elements. Functions <code>matlist</code> and <code>listmat</code> go back and forth these two representations of the input.
</p>


<h3>Value</h3>

<p>A list of suitable applicants. The <code class="reqn">i^{th}</code> element of the list contains the suitable applicants for job <em>i</em>. These are all applicants with <em>finite</em> assignment cost. Note that if the cost matrix contains finite non zero values there is a loss of information in the transformation.
</p>


<h3>Author(s)</h3>

<p>Massimo Cannas &lt;massimo.cannas@unica.it&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+matlist">matlist</a></code>, the reverse function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a list of feasible applicants for five jobs	
M1&lt;-c("A","B","C")
M2&lt;-c("A","C")
M3&lt;-c("B")
M4&lt;-c("A","C")
M5&lt;-c("A","D")
M  &lt;-list(M1,M2,M3,M4,M5)
M

# list --&gt; cost matrix
m &lt;- listmat(M)

# cost matrix --&gt; list
l &lt;- matlist(m)
</code></pre>

<hr>
<h2 id='matlist'>
From list of feasible assignments to cost matrix.
</h2><span id='topic+matlist'></span>

<h3>Description</h3>

<p>Transforms the list of suitable applicants into the equivalent cost matrix. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matlist(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="matlist_+3A_x">x</code></td>
<td>

<p>An ordered list of applicants for a set of jobs. The <code class="reqn">i^{th}</code> element of the list contains applicants suitable for job <em>i</em>. Equivalently, an ordered list of controls where the <code class="reqn">i^{th}</code> element of the list contains controls matchable with the <code class="reqn">i^{th}</code> treated unit.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In statistical matching problems the input is usually the cost matrix while in assignment problems is the list of assignable elements. Functions <code>matlist</code> and <code>listmat</code> go back and forth these two representations of the input.
</p>


<h3>Value</h3>

<p>The cost matrix of the assignment problem. The <code class="reqn">(i,j)</code> entry of the matrix is zero if the <code class="reqn">j^{th}</code> applicant is assignable to the <code class="reqn">i^{th}</code> job and <code class="reqn">\infty</code> otherwise. Equivalently, the <code class="reqn">(i,j)</code> entry of the matrix is zero if the <code class="reqn">j^{th}</code> control unit can be matched to the <code class="reqn">i^{th}</code> treated unit and <code class="reqn">\infty</code> otherwise.
</p>


<h3>Author(s)</h3>

<p>Massimo Cannas &lt;massimo.cannas@unica.it&gt;
</p>


<h3>See Also</h3>

<p>See also the reverse function <code><a href="#topic+listmat">listmat</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a list of feasible applicants for five jobs	
M1&lt;-c("A","B","C")
M2&lt;-c("A","C")
M3&lt;-c("B")
M4&lt;-c("A","C")
M5&lt;-c("A","D")
M  &lt;-list(M1,M2,M3,M4,M5)
M

# the corresponding cost matrix
m&lt;-listmat(M)

# back to the list
l&lt;-matlist(m)

</code></pre>

<hr>
<h2 id='OSDR'>
Finds an Optimal System of Distinct Representatives from a family of subsets. 
</h2><span id='topic+OSDR'></span>

<h3>Description</h3>

<p>The function finds an Optimal Set of Distinct Representatives (OSDR) from an ordered family of subsets. Optimality is order-wise in the sense specified by Gale: any other SDR cannot be larger and its elements cannot be chosen from more important sets (see details). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OSDR(M)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="OSDR_+3A_m">M</code></td>
<td>

<p>An ordered family of subsets. In assignment problems the list specifying the feasible applicants for each job. In matching problems the list specifying the controls matchable with each treated unit. The list is assumed <em>ordered</em> by decreasing assignment/matching priority. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Consider a set of jobs and a set of suitable applicants for each job. It was shown by D.Gale that there exists an <em>optimally assignable</em> subset of the jobs in the sense that if <code class="reqn">{a_1, \ldots a_k}</code> is optimal and <code class="reqn">{b_1, \ldots b_h}</code> is another assignable set of jobs then: a) <code class="reqn">k \ge h</code>  and b)  <code class="reqn">a_i \le b_i</code>  for  all <code class="reqn">i</code>. The latter means that job <code class="reqn">a_i</code> has as higher a priority as job <code class="reqn">b_i</code>. From a graph perspective, if <code class="reqn">J</code> is the set of jobs and <code class="reqn">A</code> is the set of applicants the OSDR is an <em>order wise</em> maximum size matching of the bipartite graph with vertex set <code class="reqn">J union A</code>. 
</p>
<p>Function <code>OSDR</code> finds the optimal matching using an algorithmic proof of Hall's theorem due to logician D.J. Shoesmith. The algorithm assigns greedily until possible and correct backward when necessary. A message is given when a correction is attempted (when it fails another message warns that Hall's condition is not satisfied).
</p>


<h3>Value</h3>

<p>A list containing three elements: the OSDR (a zero in position <em>i</em> indicates impossibility of assigning job <em>i</em>), the index of optimally assignable jobs and the index of unassignable jobs. If the latter is not empty <code>M</code> does not meet Hall's condition, i.e., a complete SDR is not possible.
</p>


<h3>Note</h3>

<p>In statistical matching problems the sets <code class="reqn">J</code> and <code class="reqn">A</code> are the sets of treated and control units and it is usually required to find the minimum covariate distance matching of treated versus control units. When a complete matching does not exist it can be convenient to find either an order optimal matching or a minimum cost matching on the <code>OSDR</code> subset (see the gender gap example). 
</p>


<h3>Author(s)</h3>

<p>Massimo Cannas &lt;massimo.cannas@unica.it&gt;
</p>


<h3>References</h3>

<p>Gale, D. (1968) Optimal matching in an ordered set: an application of matroid theory. <em>Journal of Combinatorial Theory 4: 176-180</em>.
</p>
<p>Anderson, I. (1989) A first course in Combinatorial Mathematics. <em>Oxford University Press</em>.
</p>


<h3>See Also</h3>

<p>See also <code><a href="#topic+matlist">matlist</a></code>, <code> <a href="#topic+listmat">listmat</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### example 1
# M is the list of suitable applicants for five jobs
M1 &lt;- c("A" , "B")
M2 &lt;- c("B" , "C")
M3 &lt;- c("B")
M4 &lt;- c("A" , "C")
M5 &lt;- c("B" , "C" , "D")
M  &lt;- list(M1 , M2 , M3 , M4 , M5)

OSDR(M)

# $OSDR
# [1] "A" "C" "B" "0" "D"
# $matched
# [1] 1 2 3 5
# $unmatched
# [1] 4

# job 4 unmatched so Hall's condition is not satisfied: it's impossible to fill all the jobs
# note that there are (order-\emph{suboptimal}) assignments of the same length of the optimal: 
# eg: 0CBAD , BC0AD

#### example 2: sligthly modified: more than one order optimal matching
M1&lt;-c("A","B","C")
M2&lt;-c("A","C")
M3&lt;-c("B")
M4&lt;-c("A","C")
M5&lt;-c("A","D")
M  &lt;-list(M1,M2,M3,M4,M5)

OSDR(M)

# note there are other order optimal matchings: ACB0D or CAB0D 
# note there are also other maximum size matchings (not order optimal):
# e.g. 0CBAD or BC0AD


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

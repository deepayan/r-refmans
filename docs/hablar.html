<!DOCTYPE html><html><head><title>Help for package hablar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hablar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_reliable'><p>Reliable conversion to another data type</p></a></li>
<li><a href='#check_df'><p>Special checks</p></a></li>
<li><a href='#convert'><p>Convert data type of columns</p></a></li>
<li><a href='#could_this_be_that'><p>Tests is a vector could be of another data type</p></a></li>
<li><a href='#create_dummy'><p>Create a simple dummy</p></a></li>
<li><a href='#cumulative_'><p>cumulative_</p></a></li>
<li><a href='#find_in_df'><p>Special filters</p></a></li>
<li><a href='#given'><p>given</p></a></li>
<li><a href='#if_else_'><p>if_this_else_that_</p></a></li>
<li><a href='#math ignore NA in math funs'><p>Ignore NA in math</p></a></li>
<li><a href='#n_unique count unique elements'><p>n_unique</p></a></li>
<li><a href='#rationalize'><p>Only allow rational values in numeric vectors</p>
</p>
<p><code>rationalize</code> transforms all numeric elements to be rational values or NA,</p>
thus removes all <code>NaN,Inf</code> and replaces them with <code>NA</code>.</a></li>
<li><a href='#repeat_df'><p>repeat_df</p></a></li>
<li><a href='#replacers'><p>replacemnt and specials</p></a></li>
<li><a href='#retype'><p>Return simple data types</p></a></li>
<li><a href='#s'><p>Make vector shorter and simpler</p></a></li>
<li><a href='#set_wd_to_script_path'><p>Set wd to script path</p></a></li>
<li><a href='#this_date'><p>this_date</p></a></li>
<li><a href='#wrapper - s and summary funs'><p>Combine aggregate functions and s</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Non-Astonishing Results in R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Author:</td>
<td>David Sjoberg</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Sjoberg &lt;dav.sjob@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Simple tools for converting columns to new data types. Intuitive functions for columns with missing values. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://davidsjoberg.github.io/">https://davidsjoberg.github.io/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/davidsjoberg/hablar/issues">https://github.com/davidsjoberg/hablar/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.0), purrr, lubridate</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, webshot, gapminder, DiagrammeR,
rstudioapi</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-07 21:57:52 UTC; davidsjoberg</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-12 10:00:19 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_reliable'>Reliable conversion to another data type</h2><span id='topic+as_reliable'></span><span id='topic+as_reliable_num'></span><span id='topic+as_reliable_int'></span><span id='topic+as_reliable_lgl'></span><span id='topic+as_reliable_dte'></span><span id='topic+as_reliable_dtm'></span>

<h3>Description</h3>

<p>Support functions for the <code>convert</code> function. These functions coerces vectors to a new data type, e.g. <code>as.numeric</code>
except that it converts factors to character first.
See <code><a href="#topic+convert">convert</a></code> for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_reliable_num(.x, ...)

as_reliable_int(.x, ...)

as_reliable_lgl(.x, ...)

as_reliable_dte(.x, origin = "1970-01-01", ...)

as_reliable_dtm(.x, origin = "1970-01-01", tz = "UTC", ...)

as_reliable_int(.x, ...)

as_reliable_lgl(.x, ...)

as_reliable_dte(.x, origin = "1970-01-01", ...)

as_reliable_dtm(.x, origin = "1970-01-01", tz = "UTC", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_reliable_+3A_.x">.x</code></td>
<td>
<p>vector</p>
</td></tr>
<tr><td><code id="as_reliable_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="as_reliable_+3A_origin">origin</code></td>
<td>
<p>argument to set origin for date/date time.</p>
</td></tr>
<tr><td><code id="as_reliable_+3A_tz">tz</code></td>
<td>
<p>argument to set time zone for date/date time. Default is UTC.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector
</p>


<h3>See Also</h3>

<p><code>vignette("convert")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.factor(c("1", "3.5"))
as_reliable_num(x)

x &lt;- as.factor(c("9", "7"))
as_reliable_int(x)

x &lt;- as.factor(c("1", "0"))
as_reliable_lgl(x)

</code></pre>

<hr>
<h2 id='check_df'>Special checks</h2><span id='topic+check_df'></span><span id='topic+check_duplicates'></span><span id='topic+check_na'></span><span id='topic+check_irrational'></span><span id='topic+check_nan'></span><span id='topic+check_inf'></span><span id='topic+check_complete_set'></span>

<h3>Description</h3>

<p>Returns TRUE if data frame have the specified special cases. For example, find_duplicates() returns
TRUE if any rows are duplicates. If variables are passed to the function
then TRUE or FALSE is returned for those variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_duplicates(.data, ...)

check_na(.data, ...)

check_irrational(.data, ...)

check_nan(.data, ...)

check_inf(.data, ...)

check_complete_set(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_df_+3A_.data">.data</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="check_df_+3A_...">...</code></td>
<td>
<p>variables that should be considered. If empty, all variables are used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>irrational values are Inf and NaN. 'check_complete_set' tests 
if all combinations of elements exists in the data frame.
</p>


<h3>Value</h3>

<p>TRUE or FALSE
</p>


<h3>See Also</h3>

<p><code><a href="#topic+find_in_df">find_in_df</a></code> to return rows instead of TRUE or FALSE. 
<code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df &lt;- data.frame(a = c("A", NA, "B", "C", "C"),
                 b = c(7, 8, 2, 3, 3),
                 c = c(NA, 1, NaN, 3, 2),
                 stringsAsFactors = FALSE)

# Returns FALSE because there is no duplicates
df %&gt;% check_duplicates()

# Returns TRUE because there is duplicates in column a through b
df %&gt;% check_duplicates(a:b)

# Returns FALSE because there is no NA column b
df %&gt;% check_na(b)

# Returns TRUE because there is no NaN column c
df %&gt;% check_nan(c)

## End(Not run)

</code></pre>

<hr>
<h2 id='convert'>Convert data type of columns</h2><span id='topic+convert'></span><span id='topic+num'></span><span id='topic+dbl'></span><span id='topic+int'></span><span id='topic+dte'></span><span id='topic+dtm'></span><span id='topic+fct'></span><span id='topic+lgl'></span><span id='topic++5Ccode+7Bconvert+7D'></span><span id='topic+converts'></span><span id='topic+columns'></span><span id='topic+to'></span><span id='topic+new'></span><span id='topic+classes'></span><span id='topic+through'></span><span id='topic+scoping'></span><span id='topic+functions.'></span><span id='topic+Always'></span><span id='topic+factors'></span><span id='topic+character'></span><span id='topic+before'></span><span id='topic+conversion'></span><span id='topic+Type'></span><span id='topic++5Ccode+7Bvignette+28+22convert+22+29+7D'></span><span id='topic+in'></span><span id='topic+the'></span><span id='topic+console'></span><span id='topic+for'></span><span id='topic+more'></span><span id='topic+information.'></span><span id='topic+chr'></span>

<h3>Description</h3>

<p>Convert data type of columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num(..., .args = list())

chr(..., .args = list())

lgl(..., .args = list())

int(..., .args = list())

dbl(..., .args = list())

fct(..., .args = list())

dtm(..., .args = list())

dte(..., .args = list())

convert(.x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_+3A_...">...</code></td>
<td>
<p>Scoping functions, see details</p>
</td></tr>
<tr><td><code id="convert_+3A_.args">.args</code></td>
<td>
<p>extra argument to be passed to support function.</p>
</td></tr>
<tr><td><code id="convert_+3A_.x">.x</code></td>
<td>
<p>A data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tbl data frame
</p>


<h3>See Also</h3>

<p><code>vignette("convert")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Change one column to numeric and another to character
mtcars %&gt;% 
  convert(num(gear),
          chr(mpg))


# Changing multiple data types on multiple columns
mtcars %&gt;% 
  convert(int(hp,
              wt),
          fct(qsec,
              cyl,
              drat))

# Also works with tidyselect convenience functions
mtcars %&gt;%
  convert(int(vs:carb),
          fct(last_col()))


## End(Not run)

</code></pre>

<hr>
<h2 id='could_this_be_that'>Tests is a vector could be of another data type</h2><span id='topic+could_this_be_that'></span><span id='topic+could_chr_be_num'></span><span id='topic+could_chr_be_int'></span><span id='topic+could_num_be_int'></span><span id='topic+could_chr_be_dtm'></span><span id='topic+could_dtm_be_dte'></span><span id='topic+could_chr_be_dte'></span>

<h3>Description</h3>

<p>Tests if vector could be a another data type without errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>could_chr_be_num(.x)

could_chr_be_int(.x)

could_num_be_int(.x)

could_chr_be_dtm(.x)

could_chr_be_dte(.x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="could_this_be_that_+3A_.x">.x</code></td>
<td>
<p>vector of the data type that should be tested.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The name logic of <code>could_chr_be_num</code> should be interpreted as:
Could this character vector be a numeric vector?
The same logic goes for all functions named could_this_be_that.
</p>


<h3>Value</h3>

<p>TRUE or FALSE
</p>


<h3>See Also</h3>

<p><code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("1", "3", "7")
could_chr_be_num(x)
could_chr_be_int(x)

x &lt;- c("abc", "3", "Hello world")
could_chr_be_num(x)

x &lt;- c(NA, "3.45", "5,98")
could_chr_be_num(x)
could_chr_be_int(x)

x &lt;- as.numeric(c(3.45, 1.5))
could_num_be_int(x)

x &lt;- as.numeric(c(7, 2))
could_num_be_int(x)

</code></pre>

<hr>
<h2 id='create_dummy'>Create a simple dummy</h2><span id='topic+create_dummy'></span><span id='topic+dummy'></span><span id='topic+dummy_'></span>

<h3>Description</h3>

<p>Creates a vector of the integers 1 and 0. If condition is true it returns 1. If false 0.
If condition returns NA it returns NA, if not explicitly not stated than NA
should be replaced.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dummy(condition, missing = NA)
dummy_(condition, missing = 0L)

dummy_(condition, missing = 0L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_dummy_+3A_condition">condition</code></td>
<td>
<p>a predicament</p>
</td></tr>
<tr><td><code id="create_dummy_+3A_missing">missing</code></td>
<td>
<p>a replacement if condition is NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of the integers 1, 0 and NA (if not dummy_ is used).
</p>


<h3>See Also</h3>

<p><code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>v &lt;- c(10, 5, 3, NA, 9)
dummy(v &gt; 5)
dummy_(v &gt; 5)

</code></pre>

<hr>
<h2 id='cumulative_'>cumulative_</h2><span id='topic+cumulative_'></span><span id='topic+cumsum_'></span><span id='topic+cummean_'></span><span id='topic+cum_unique'></span><span id='topic+cum_unique_'></span>

<h3>Description</h3>

<p>cumulative functions. 'cumsum_' is the cumulative sum ignoring missing values.
'cum_unique' counts the cumulative unique value including NA as ONE value. 
'cum_unique_' ignores missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cumsum_(.v, ignore_na = TRUE)

cummean_(.v, ignore_na = TRUE)

cum_unique(.v, ignore_na = FALSE)

cum_unique_(.v, ignore_na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cumulative__+3A_.v">.v</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="cumulative__+3A_ignore_na">ignore_na</code></td>
<td>
<p>should missing values be ignores?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector
</p>

<hr>
<h2 id='find_in_df'>Special filters</h2><span id='topic+find_in_df'></span><span id='topic+find_duplicates'></span><span id='topic+find_na'></span><span id='topic+find_irrational'></span><span id='topic+find_nan'></span><span id='topic+find_inf'></span>

<h3>Description</h3>

<p>Filters a data frame for special cases. For example, find_duplicates() returns
all rows that are duplicates. If variables are passed to the function
then duplicates for those variables are returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_duplicates(.data, ...)

find_na(.data, ...)

find_irrational(.data, ...)

find_nan(.data, ...)

find_inf(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_in_df_+3A_.data">.data</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="find_in_df_+3A_...">...</code></td>
<td>
<p>variables that should be considered. If empty, all variables are used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>irrational values are Inf and NaN
</p>


<h3>Value</h3>

<p>a filtered data frame
</p>


<h3>See Also</h3>

<p><code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>
<p><code><a href="#topic+check_df">check_df</a></code> to return TRUE or FALSE instead of rows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df &lt;- data.frame(a = c("A", NA, "B", "C", "C"),
                 b = c(NA, 1, 1, 3, 3), 
                 c = c(7, 8, 2, 3, 3), 
                 stringsAsFactors = FALSE)

# Returns duplicated rows
df %&gt;% find_duplicates()

# Returns duplicates in specific variables
df %&gt;% find_duplicates(b:c)

# Returns rows where NA in variable b
df %&gt;% find_na(b)

## End(Not run)

</code></pre>

<hr>
<h2 id='given'>given</h2><span id='topic+given'></span><span id='topic+given_'></span>

<h3>Description</h3>

<p>Simple function that filters a vector while helping with missing values.
Replacing expression like 'x[x &gt; 3 &amp; !is.null(x)]'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>given(.x, .y, ignore_na = FALSE)

given_(.x, .y, ignore_na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="given_+3A_.x">.x</code></td>
<td>
<p>the vector to filter</p>
</td></tr>
<tr><td><code id="given_+3A_.y">.y</code></td>
<td>
<p>a logical vector to filter with</p>
</td></tr>
<tr><td><code id="given_+3A_ignore_na">ignore_na</code></td>
<td>
<p>should NA be removed?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- c(1, 2, NA, 4)
x %&gt;% given_(x &gt;= 2)

## End(Not run)

</code></pre>

<hr>
<h2 id='if_else_'>if_this_else_that_</h2><span id='topic+if_else_'></span>

<h3>Description</h3>

<p>A vectorised if or else function. It checks that the true or false (or the optional missing)
arguments have the same type. However it accepts a generic NA. Built upon
dplyr's [if_else()] function. The only difference is that the user do not have to specify
the type of NA. if_else_ is faster than base [ifelse()] and a tad slower than 
dplyr's [if_else()]. Attributes are taken from either true or false because one
generic NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>if_else_(condition, true, false, missing = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="if_else__+3A_condition">condition</code></td>
<td>
<p>logical vector</p>
</td></tr>
<tr><td><code id="if_else__+3A_true">true</code></td>
<td>
<p>value to replace if condition is true. Must be same length as condition or 1.</p>
</td></tr>
<tr><td><code id="if_else__+3A_false">false</code></td>
<td>
<p>value to replace if condition is false. Must be same length as condition or 1.</p>
</td></tr>
<tr><td><code id="if_else__+3A_missing">missing</code></td>
<td>
<p>optional. a replacement if condition returns NA. Must be same length as condition or 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the returning vector have attributes (e.g. for factors) it returns the attributes
for the first non-generic NA in the order true, false and then missing.
</p>


<h3>Value</h3>

<p>a vector
</p>


<h3>See Also</h3>

<p><code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
v &lt;- c(TRUE, FALSE, TRUE, FALSE)
if_else_(v, "true", "false")

v &lt;- c(TRUE, FALSE, NA, FALSE)
if_else_(v, 1, NA, 999)

</code></pre>

<hr>
<h2 id='math+20ignore+20NA+20in+20math+20funs'>Ignore NA in math</h2><span id='topic+math+20ignore+20NA+20in+20math+20funs'></span><span id='topic++25minus_+25'></span><span id='topic++25plus_+25'></span>

<h3>Description</h3>

<p>Simplifying math functions are simple wrappers of math function (- +).
If any of the left-hand side or right-hand side is NA, Inf or NaN it 
returns any rational value, if there is any. 
</p>
<p>However, if the both values are irrational it returns NA. 
The result is then passed to the
corresponding math function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.x %minus_% .y

.x %plus_% .y
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="math+2B20ignore+2B20NA+2B20in+2B20math+2B20funs_+3A_.x">.x</code></td>
<td>
<p>numeric or integer element</p>
</td></tr>
<tr><td><code id="math+2B20ignore+2B20NA+2B20in+2B20math+2B20funs_+3A_.y">.y</code></td>
<td>
<p>numeric or integer element</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single value
</p>


<h3>See Also</h3>

<p><code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: # The simplest case
3 %minus_% 2

# But with NA it returns 3 as if the NA were zero
3 %minus_% NA

# It doesnt matter if the irrational number is on left- or right-hand.
NA %plus_% 5

## End(Not run)

</code></pre>

<hr>
<h2 id='n_unique+20count+20unique+20elements'>n_unique</h2><span id='topic+n_unique+20count+20unique+20elements'></span><span id='topic+n_unique'></span><span id='topic+n_unique_'></span>

<h3>Description</h3>

<p>Simple wrapper for length(unique(.x)). If you use n_unique_(.x) then NA
is ignored when counting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_unique(.x, ignore_na = FALSE)

n_unique_(.x, ignore_na = TRUE)

n_unique_(.x, ignore_na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_unique+2B20count+2B20unique+2B20elements_+3A_.x">.x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="n_unique+2B20count+2B20unique+2B20elements_+3A_ignore_na">ignore_na</code></td>
<td>
<p>a logical indicating whether missing values should be removed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single numeric vector of the same length as the data frame it
is applied to.
</p>


<h3>See Also</h3>

<p><code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Simple
n_unique(c(1, 2, 2, 3))

# Same result as above eventhough vector includes NA
n_unique_(c(1, 2, 2, 3, NA))

</code></pre>

<hr>
<h2 id='rationalize'>Only allow rational values in numeric vectors
<code>rationalize</code> transforms all numeric elements to be rational values or NA,
thus removes all <code>NaN,Inf</code> and replaces them with <code>NA</code>.</h2><span id='topic+rationalize'></span><span id='topic+rationalize.default'></span><span id='topic+rationalize.numeric'></span><span id='topic+rationalize.data.frame'></span>

<h3>Description</h3>

<p>Only allow rational values in numeric vectors
</p>
<p><code>rationalize</code> transforms all numeric elements to be rational values or NA,
thus removes all <code>NaN,Inf</code> and replaces them with <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rationalize(.x, ...)

## Default S3 method:
rationalize(.x, ...)

## S3 method for class 'numeric'
rationalize(.x, ...)

## S3 method for class 'data.frame'
rationalize(.x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rationalize_+3A_.x">.x</code></td>
<td>
<p>vector or data.frame</p>
</td></tr>
<tr><td><code id="rationalize_+3A_...">...</code></td>
<td>
<p>columns to be evaluated. Only applicable if .x is a data frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>#' If a non-numeric vector is passed, it is unchanged. If a data.frame is
passed, it evaluates all columns separately.
</p>


<h3>Value</h3>

<p>For vectors: same data type/class as .x.
</p>
<p>For data.frame: a tbl data frame.
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+s">s</a></code>, <code><a href="#topic+rationalize">rationalize</a></code>, <code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(3, -Inf, 6.56, 9.3, NaN, 5, -Inf)
rationalize(x)

df &lt;- data.frame(num_col = c(Inf, 3, NaN), 
                 chr_col = c("a", "b", "c"), 
                 stringsAsFactors = FALSE)
df
rationalize(df)

</code></pre>

<hr>
<h2 id='repeat_df'>repeat_df</h2><span id='topic+repeat_df'></span>

<h3>Description</h3>

<p>Repeats a data frame n times. Useful for testing on large data frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>repeat_df(.df, n, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="repeat_df_+3A_.df">.df</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="repeat_df_+3A_n">n</code></td>
<td>
<p>times the data frame should be repeated</p>
</td></tr>
<tr><td><code id="repeat_df_+3A_id">id</code></td>
<td>
<p>a character element that creates a column with a number for each repetition</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of the integers 1, 0 and NA (if not dummy_ is used).
</p>


<h3>See Also</h3>

<p><code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>repeat_df(mtcars, 2)

</code></pre>

<hr>
<h2 id='replacers'>replacemnt and specials</h2><span id='topic+replacers'></span><span id='topic+if_na'></span><span id='topic+if_inf'></span><span id='topic+if_nan'></span><span id='topic+if_zero'></span><span id='topic+na_if'></span><span id='topic+inf_if'></span><span id='topic+nan_if'></span><span id='topic+zero_if'></span><span id='topic+if_not_na'></span>

<h3>Description</h3>

<p>If-this-type-then replace with x. And the other way around; replace with x
if this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>if_na(.x, replacement, missing = NULL)

if_nan(.x, replacement, missing = NULL)

if_inf(.x, replacement, missing = NULL)

if_zero(.x, replacement, missing = NULL)

na_if(.x, condition, replace_na = FALSE)

nan_if(.x, condition, replace_na = FALSE)

inf_if(.x, condition, replace_na = FALSE)

zero_if(.x, condition, replace_na = FALSE)

if_not_na(.x, replacement, missing = NULL)

if_inf(.x, replacement, missing = NULL)

if_nan(.x, replacement, missing = NULL)

if_zero(.x, replacement, missing = NULL)

na_if(.x, condition, replace_na = FALSE)

inf_if(.x, condition, replace_na = FALSE)

nan_if(.x, condition, replace_na = FALSE)

zero_if(.x, condition, replace_na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replacers_+3A_.x">.x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="replacers_+3A_replacement">replacement</code></td>
<td>
<p>a replacement if condition is TRUE</p>
</td></tr>
<tr><td><code id="replacers_+3A_missing">missing</code></td>
<td>
<p>a value that replace missing values in condition.</p>
</td></tr>
<tr><td><code id="replacers_+3A_condition">condition</code></td>
<td>
<p>a predicament</p>
</td></tr>
<tr><td><code id="replacers_+3A_replace_na">replace_na</code></td>
<td>
<p>if TRUE, missing values in condition will be replaced as well</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector
</p>


<h3>See Also</h3>

<p><code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
v &lt;- c(1, NA, 2)
if_na(v, 100)

v &lt;- c(999, NA, 2)
zero_if(v, v == 999)

</code></pre>

<hr>
<h2 id='retype'>Return simple data types</h2><span id='topic+retype'></span><span id='topic+retype.default'></span><span id='topic+retype.logical'></span><span id='topic+retype.integer'></span><span id='topic+retype.Date'></span><span id='topic+retype.POSIXct'></span><span id='topic+retype.numeric'></span><span id='topic+retype.list'></span><span id='topic+retype.data.frame'></span>

<h3>Description</h3>

<p><code>retype</code> transforms all elements into simple classes. The simple classes
are date, numeric and character. By transforming all elements to these
classes no information is lost, while simplifying the object. See details below for
more information or type <code>vignette("retype")</code> in the console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>retype(.x, ...)

## Default S3 method:
retype(.x, ...)

## S3 method for class 'logical'
retype(.x, ...)

## S3 method for class 'integer'
retype(.x, ...)

## S3 method for class 'Date'
retype(.x, ...)

## S3 method for class 'POSIXct'
retype(.x, ...)

## S3 method for class 'numeric'
retype(.x, ...)

## S3 method for class 'list'
retype(.x, ...)

## S3 method for class 'data.frame'
retype(.x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="retype_+3A_.x">.x</code></td>
<td>
<p>vector or data.frame</p>
</td></tr>
<tr><td><code id="retype_+3A_...">...</code></td>
<td>
<p>column names to be evaluated. Only if .x is a data frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each vector past to <code>retype</code> is reclassified into the highest position in
a simplification hierarchy without loosing any information. This means that:
Factors are converted to characters.
However, character vectors (or vectors changed to character initially)
are checked to see if they could be a numeric vector without error.
If so, it is transformed into a numeric vector which is higher in the hierarchy.
Vectors of class logical, integer are changed to numerical.
Dates and date time (POSIXct) goes through the same procedure.
Lists and complex vectors are left unchanged because the are neither simple nor complicated.
</p>


<h3>Value</h3>

<p>For vectors: simple class of .x.
</p>
<p>For data.frame: a tbl data frame with simple classes.
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>
<p><code>NULL</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+s">s</a></code>, <code><a href="#topic+rationalize">rationalize</a></code> #' <code>vignette("retype")</code>, <code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Dates
dte &lt;- as.Date(c("2018-01-01", "2016-03-21", "1970-01-05"))
retype(dte)
retype(dte)

# Factors
fct &lt;- as.factor(c("good", "bad", "average"))
retype(dte)

# Character that only contains numeric elements
num_chr &lt;- c("3","4.0", "3,5")
retype(num_chr)

# Logical
lgl &lt;- c(TRUE, FALSE, TRUE)
retype(lgl)

# Data frame with all the above vectors
df &lt;- data.frame(dte = dte, 
                 fct = fct, 
                 num_chr = num_chr, 
                 lgl = lgl, 
                 stringsAsFactos = FALSE)
df
retype(df)

</code></pre>

<hr>
<h2 id='s'>Make vector shorter and simpler</h2><span id='topic+s'></span>

<h3>Description</h3>

<p><code>s</code> means simple and short. It removes all non-values, i.e. <code>NA,Inf,NaN</code>  from a vector.
However, if the length is 0 it returns NA.
It is useful in combination with summary functions, e.g. mean, sum or min, when
an answer is desired, if there is one in the data. In any other case NA is returned. 
Type <code>vignette("s")</code> in the console for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s(.x, ignore_na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="s_+3A_.x">.x</code></td>
<td>
<p>one vector. Does not work for factors.</p>
</td></tr>
<tr><td><code id="s_+3A_ignore_na">ignore_na</code></td>
<td>
<p>if TRUE then NA omitted from results, as long as any non-NA element is left.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a shortened and simplified vector
</p>


<h3>See Also</h3>

<p><code><a href="#topic+retype">retype</a></code>, <code><a href="#topic+rationalize">rationalize</a></code>, <code>vignette("s")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)

## s on a weird numeric vector
vector &lt;- c(7, NaN, 6, -Inf, 5, 4, NA)
s(vector)

## Sum vector with non-rational values
vector &lt;- c(7, NaN, -Inf, 4)
# Base R
sum(vector)
# With s
sum(s(vector))

## Max of vector with only NA
# Base R
max(vector, na.rm = TRUE)
# With s
max(s(vector))

## First of vector when NA is first element
vector &lt;- c(NA, "X", "Y")
# dplyr R
first(vector)
# With s
first(s(vector))

## Use of s when NA should not be removes
vector &lt;- c(7, Inf, NA, 4)
# Base R
sum(vector)
# With s
sum(s(vector, ignore_na = FALSE))

## s when summarizing a weird data.frame
df_test &lt;- data.frame(a = c(NaN, 1, -Inf, 3), 
                      b = c(NA, "Q", "P", "P"), 
                      c = c(NA, NA, NA, NA), 
                      stringsAsFactors = FALSE) 
df_test

# Base R aggregation with dplyr's summarize
summarise(df_test, mean_a = mean(a), 
                   min_c = min(c, na.rm = TRUE))
# With s
summarise(df_test, mean_a = mean(s(a)), 
                   min_c = min(s(c)))

## End(Not run)
</code></pre>

<hr>
<h2 id='set_wd_to_script_path'>Set wd to script path</h2><span id='topic+set_wd_to_script_path'></span>

<h3>Description</h3>

<p>Sets working directory to the path where the R-script is located. Only works
inside [Rstudio] and in a script (i.e. not in the console). Additionally, the R-script needs to
be saved in a path to work.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_wd_to_script_path()
</code></pre>


<h3>Value</h3>

<p>NULL. In the background the working directory has changed if not any errors occurred.
</p>

<hr>
<h2 id='this_date'>this_date</h2><span id='topic+this_date'></span><span id='topic+this_day'></span><span id='topic+this_month'></span><span id='topic+this_year'></span>

<h3>Description</h3>

<p>Returns the current day, month or year. Day and month returns dates and year a 4 digit number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>this_day()

this_month()

this_year()
</code></pre>


<h3>Value</h3>

<p>a date or number
</p>


<h3>Examples</h3>

<pre><code class='language-R'>this_day() 
this_month() 
this_year() 

</code></pre>

<hr>
<h2 id='wrapper+20-+20s+20and+20summary+20funs'>Combine aggregate functions and s</h2><span id='topic+wrapper+20-+20s+20and+20summary+20funs'></span><span id='topic+max_'></span><span id='topic+sum_'></span><span id='topic+mean_'></span><span id='topic+min_'></span><span id='topic+sd_'></span><span id='topic+var_'></span><span id='topic+first_'></span><span id='topic+last_'></span><span id='topic+median_'></span><span id='topic+first_non_na'></span><span id='topic+squeeze'></span><span id='topic+squeeze_'></span>

<h3>Description</h3>

<p><code>[summary function_*]</code> functions are simple wrappers of aggregate function
and the <code>s</code> function. <code>s</code> removes all non-values,
i.e. <code>NA,Inf,NaN</code>  from a vector.
However, if the length is 0 it returns NA. The result is then passed to the
corresponding aggregation function. For example,
<code>min_(x)</code> is identical to <code>min(s(x))</code>. Please read <code>vignette("s")</code> for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>max_(.x, ignore_na = TRUE)

min_(.x, ignore_na = TRUE)

sum_(.x, ignore_na = TRUE)

mean_(.x, ignore_na = TRUE)

median_(.x, ignore_na = TRUE)

sd_(.x, ignore_na = TRUE)

var_(.x, ignore_na = TRUE)

first_(.x, ignore_na = TRUE)

last_(.x, ignore_na = TRUE)

first_non_na(.x)

squeeze(.x, ignore_na = FALSE)

squeeze_(.x, ignore_na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wrapper+2B20-+2B20s+2B20and+2B20summary+2B20funs_+3A_.x">.x</code></td>
<td>
<p>a single vector</p>
</td></tr>
<tr><td><code id="wrapper+2B20-+2B20s+2B20and+2B20summary+2B20funs_+3A_ignore_na">ignore_na</code></td>
<td>
<p>if false missing values are not omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'first_non_na' is a faster version of 'first' since it only search for a non NA value until it finds one.
'squeeze' on the other hand checks if all elements are equal and then returns only that value.
</p>


<h3>Value</h3>

<p>a single aggregated value
</p>


<h3>See Also</h3>

<p><code>vignette("convert")</code>, <code>vignette("hablar")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## sum_ on non-rational numeric vector
vector &lt;- c(7, NaN, -Inf, 4)
sum_(vector)

## Min of vector with length 0
vector &lt;- c()
# With a wrapped s
min_(vector)

## Max of vector with only NA
# With a wrapped s
max_(vector)

## Use of s when NA should not be removed
vector &lt;- c(7, Inf, NA, 4)
# With a wrapped s
sum_(vector, ignore_na = FALSE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

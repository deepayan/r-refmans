<!DOCTYPE html><html lang="en"><head><title>Help for package ddi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ddi}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ddc'><p>Data Defect Correlation</p></a></li>
<li><a href='#g2016'><p>2016 General Election Results and Survey Estimates</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>The Data Defect Index for Samples that May not be IID</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements Meng's data defect index (ddi), which represents
    the degree of sample bias relative to an iid sample. The data defect 
    correlation (ddc) represents the correlation between the outcome of interest
    and the selection into the sample; when the sample selection is independent
    across the population, the ddc is zero. Details are in Meng (2018) 
    &lt;<a href="https://doi.org/10.1214%2F18-AOAS1161SF">doi:10.1214/18-AOAS1161SF</a>&gt;, "Statistical Paradises and Paradoxes in Big Data (I): 
    Law of Large Populations, Big Data Paradox, and the 2016 US Presidential 
    Election." Survey estimates from the Cooperative Congressional Election Study 
    (CCES) is included to replicate the article's results. </td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kuriwaki/ddi">https://github.com/kuriwaki/ddi</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="http://github.com/kuriwaki/ddi/issues">http://github.com/kuriwaki/ddi/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), dplyr, tibble</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-01-19 18:19:38 UTC; shirokuriwaki</td>
</tr>
<tr>
<td>Author:</td>
<td>Shiro Kuriwaki <a href="https://orcid.org/0000-0002-5687-2647"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shiro Kuriwaki &lt;shirokuriwaki@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-01-26 10:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ddc'>Data Defect Correlation</h2><span id='topic+ddc'></span>

<h3>Description</h3>

<p>The Data Defect Correlation (ddc) is the correlation between response and
group membership. It quantifies the correlation between the outcome of interest
and the selection  into the sample; when the sample selection is independent
across members of the population, the ddc is zero.  Currently both variables
are binary. The data defect index (ddi) is the square of ddc. Squaring the
d.d.c. is more useful for characterizing the asymptotics of ' MSE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ddc(mu, muhat, N, n, cv = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ddc_+3A_mu">mu</code></td>
<td>
<p>Vector of population quantity of interest</p>
</td></tr>
<tr><td><code id="ddc_+3A_muhat">muhat</code></td>
<td>
<p>Vector for sample estimate</p>
</td></tr>
<tr><td><code id="ddc_+3A_n">N</code></td>
<td>
<p>Vector of population size</p>
</td></tr>
<tr><td><code id="ddc_+3A_n">n</code></td>
<td>
<p>Vector of sample size</p>
</td></tr>
<tr><td><code id="ddc_+3A_cv">cv</code></td>
<td>
<p>Coefficient of variation of the weights, if survey weights exist and
<code>muhat</code> is the weighted proportion. The coefficient of variation is a
summary statistic computed by <code>sd(weights) / mean(weights)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of d.d.c. of the same length of the input, or a scalar if
all input variables are scalars.
</p>


<h3>References</h3>

<p>Meng, Xiao-Li (2018) &lt;doi:10.1214/18-AOAS1161SF&gt;, &quot;Statistical Paradises
and Paradoxes in Big Data (I): Law of Large Populations, Big Data Paradox,
and the 2016 US Presidential Election.&quot; Annals of Applied Statistics 12:2, 685&ndash;726.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
library(dplyr)

data(g2016)

# 1. scalar input
select(g2016, cces_pct_djt_vv, cces_n_vv, tot_votes, votes_djt) %&gt;%
  summarize_all(sum)

## plug those numbers in
ddc(mu = 62984824/136639786, muhat = 12284/35829, N = 136639786, n = 35829)

# 2. vector input using "with"
with(g2016, ddc(mu = pct_djt_voters, muhat = cces_pct_djt_vv, N = tot_votes, n = cces_n_vv))

# 3. vector input in tidy tibble
transmute(g2016, st,
 ddc = ddc(mu = pct_djt_voters, muhat = cces_pct_djt_vv, N = tot_votes, n = cces_n_vv))


</code></pre>

<hr>
<h2 id='g2016'>2016 General Election Results and Survey Estimates</h2><span id='topic+g2016'></span>

<h3>Description</h3>

<p>Donald Trump's voteshare in each U.S. state,
with survey estimates from the Cooperative Congressional Election Study
(pre-election wave). See Meng (2018) referenced below for more details.
We focus on unweighted estimates to capture the response patterns, before
correcting for any imbalances through weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g2016
</code></pre>


<h3>Format</h3>

<p>A data frame with 51 rows (all U.S. states and D.C.)
</p>

<dl>
<dt>state</dt><dd><p>state (full name)</p>
</dd>
<dt>st</dt><dd><p>state (abbreviation).</p>
</dd>
<dt>pct_djt_voters</dt><dd><p>Donald J. Trump's voteshare, the estimand.</p>
</dd>
<dt>cces_pct_djt_vv</dt><dd><p>CCES unweighted proportion of Trump support, one estimate.</p>
</dd>
<dt>cces_pct_djtrund_vv</dt><dd><p>CCES unweighted proportion counting Republican undecideds as Trump voters.</p>
</dd>
<dt>votes_djt</dt><dd><p>Total number of votes by Trump.</p>
</dd>
<dt>tot_votes</dt><dd><p>Turnout in Presidential as total number of votes cast.</p>
</dd>
<dt>cces_totdjt_vv</dt><dd><p>Validated voters intending to vote for Trump. Used as the numerator for the above CCES estimates.</p>
</dd>
<dt>cces_n_vv</dt><dd><p>Validated voters in survey sample. Used as the denominator for the above CCES estimates.</p>
</dd>
<dt>vap</dt><dd><p>Voting Age Population in the state.</p>
</dd>
<dt>vep</dt><dd><p>Voting Eligible Population in the state (estimate from the US Election Project).</p>
</dd>
</dl>


<h3>Source</h3>

<p>Cooperative Congressional Election Study (CCES) <a href="https://cces.gov.harvard.edu/">https://cces.gov.harvard.edu/</a>
and the United States Election Project <a href="http://www.electproject.org/2016g">http://www.electproject.org/2016g</a>.
Created under <a href="https://github.com/kuriwaki/poll_error">https://github.com/kuriwaki/poll_error</a>.
</p>


<h3>References</h3>

<p>For an explanation in the
context of d.d.i., see Meng (2018) &lt;doi:10.1214/18-AOAS1161SF&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
data(g2016)

transmute(g2016,
          st,
          ddc = ddc(mu = pct_djt_voters,
                    muhat = cces_pct_djt_vv,
                    N = tot_votes,
                    n = cces_n_vv))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

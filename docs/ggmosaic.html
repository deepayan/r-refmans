<!DOCTYPE html><html><head><title>Help for package ggmosaic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggmosaic}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ddecker'><p>Template for a double decker plot.</p>
A double decker plot is composed of a sequence of spines in the same
direction, with the final spine in the opposite direction.</a></li>
<li><a href='#fly'><p>Flying Etiquette Survey Data</p></a></li>
<li><a href='#geom_mosaic'><p>Mosaic plots.</p></a></li>
<li><a href='#geom_mosaic_jitter'><p>Jittered dots in Mosaic plots.</p></a></li>
<li><a href='#geom_mosaic_text'><p>Labeling for Mosaic plots.</p></a></li>
<li><a href='#GeomMosaic'><p>Geom proto</p></a></li>
<li><a href='#GeomMosaicJitter'><p>Geom proto</p></a></li>
<li><a href='#GeomMosaicText'><p>Geom proto</p></a></li>
<li><a href='#happy'><p>Data related to happiness from the general social survey.</p></a></li>
<li><a href='#hbar'><p>Horizontal bar partition: width constant, height varies.</p></a></li>
<li><a href='#hspine'><p>Horizontal spine partition: height constant, width varies.</p></a></li>
<li><a href='#mosaic'><p>Template for a mosaic plot.</p>
A mosaic plot is composed of spines in alternating directions.</a></li>
<li><a href='#prodcalc'><p>Calculate frequencies.</p></a></li>
<li><a href='#product'><p>Wrapper for a list</p></a></li>
<li><a href='#scale_type.productlist'><p>Helper function for determining scales</p></a></li>
<li><a href='#scale_x_productlist'><p>Determining scales for mosaics</p></a></li>
<li><a href='#spine'><p>Spine partition: divide longest dimension.</p></a></li>
<li><a href='#squeeze'><p>Internal helper function</p></a></li>
<li><a href='#StatMosaic'><p>Geom proto</p></a></li>
<li><a href='#StatMosaicJitter'><p>Geom proto</p></a></li>
<li><a href='#StatMosaicText'><p>Geom proto</p></a></li>
<li><a href='#theme_mosaic'><p>Theme for mosaic plots</p></a></li>
<li><a href='#titanic'><p>Passengers and crew on board the Titanic</p></a></li>
<li><a href='#vbar'><p>Vertical bar partition: height constant, width varies.</p></a></li>
<li><a href='#vspine'><p>Vertical spine partition: width constant, height varies.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Mosaic Plots in the 'ggplot2' Framework</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Mosaic plots in the 'ggplot2' framework. Mosaic
    plot functionality is provided in a single 'ggplot2' layer by calling
    the geom 'mosaic'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/haleyjeppson/ggmosaic">https://github.com/haleyjeppson/ggmosaic</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/haleyjeppson/ggmosaic">https://github.com/haleyjeppson/ggmosaic</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2 (&ge; 3.3.0), R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>productplots, dplyr, plotly (&ge; 4.5.5), purrr, rlang, tidyr,
ggrepel, scales</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gridExtra, knitr, NHANES, rmarkdown, patchwork</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-11 18:14:50 UTC; haley</td>
</tr>
<tr>
<td>Author:</td>
<td>Haley Jeppson [aut, cre],
  Heike Hofmann [aut],
  Di Cook [aut],
  Hadley Wickham [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Haley Jeppson &lt;hjeppson@iastate.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-23 19:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ddecker'>Template for a double decker plot.
A double decker plot is composed of a sequence of spines in the same
direction, with the final spine in the opposite direction.</h2><span id='topic+ddecker'></span>

<h3>Description</h3>

<p>Template for a double decker plot.
A double decker plot is composed of a sequence of spines in the same
direction, with the final spine in the opposite direction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ddecker(direction = "h")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ddecker_+3A_direction">direction</code></td>
<td>
<p>direction of first split</p>
</td></tr>
</table>

<hr>
<h2 id='fly'>Flying Etiquette Survey Data</h2><span id='topic+fly'></span>

<h3>Description</h3>

<p>Data from the results of a SurveyMonkey
survey commissioned by FiveThirtyEight for the story
41 Percent of Fliers Say Itâ€™s Rude To Recline Your Airplane Seat.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fly
</code></pre>


<h3>Format</h3>

<p>A data frame with 1040 rows and 27 variables:
</p>

<dl>
<dt>id</dt><dd><p>Respondent ID</p>
</dd>
<dt>flight_freq</dt><dd><p>How often do you travel by plane?</p>
</dd>
<dt>do_you_recline</dt><dd><p>Do you ever recline your seat when you fly?</p>
</dd>
<dt>height</dt><dd><p>How tall are you?</p>
</dd>
<dt>has_child_under_18</dt><dd><p>Do you have any children under 18?</p>
</dd>
<dt>three_seats_two_arms</dt><dd><p>n a row of three seats, who should get to use the two arm rests?</p>
</dd>
<dt>two_seats_one_arm</dt><dd><p>In a row of two seats, who should get to use the middle arm rest?</p>
</dd>
<dt>window_shade</dt><dd><p>Who should have control over the window shade?</p>
</dd>
<dt>rude_to_move_to_unsold_seat</dt><dd><p>Is it rude to move to an unsold seat on a plane?</p>
</dd>
<dt>rude_to_talk_to_neighbor</dt><dd><p>Generally speaking, is it rude to say more than a few words to the stranger sitting next to you on a plane?</p>
</dd>
<dt>six_hr_flight_leave_seat</dt><dd><p>On a six hour flight from NYC to LA, how many times is it acceptable to get up if you're not in an aisle seat?</p>
</dd>
<dt>reclining_obligation_to_behind</dt><dd><p>Under normal circumstances, does a person who reclines their seat during a flight have any obligation to the person sitting behind them?</p>
</dd>
<dt>rude_to_recline</dt><dd><p>Is it rude to recline your seat on a plane?</p>
</dd>
<dt>eliminate_reclining</dt><dd><p>Given the opportunity, would you eliminate the possibility of reclining seats on planes entirely?</p>
</dd>
<dt>rude_to_switch_seats_friends</dt><dd><p>Is it rude to ask someone to switch seats with you in order to be closer to friends?</p>
</dd>
<dt>rude_to_switch_seats_family</dt><dd><p>Is it rude to ask someone to switch seats with you in order to be closer to family?</p>
</dd>
<dt>rude_to_wake_neighbor_bathroom</dt><dd><p>Is it rude to wake a passenger up if you are trying to go to the bathroom?</p>
</dd>
<dt>rude_to_wake_neighbor_walk</dt><dd><p>Is it rude to wake a passenger up if you are trying to walk around?</p>
</dd>
<dt>rude_to_bring_baby</dt><dd><p>In general, is it rude to bring a baby on a plane?</p>
</dd>
<dt>rude_to_bring_unruly_child</dt><dd><p>In general, is it rude to knowingly bring unruly children on a plane?</p>
</dd>
<dt>use_electronics_takeoff</dt><dd><p>Have you ever used personal electronics during take off or landing in violation of a flight attendant's direction?	</p>
</dd>
<dt>smoked_inflight</dt><dd><p>Have you ever smoked a cigarette in an airplane bathroom when it was against the rules?</p>
</dd>
<dt>gender</dt><dd><p>Gender</p>
</dd>
<dt>age</dt><dd><p>Age</p>
</dd>
<dt>household_income</dt><dd><p>Household Income</p>
</dd>
<dt>education</dt><dd><p>Education</p>
</dd>
<dt>region</dt><dd><p>Region</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/fivethirtyeight/data/tree/master/flying-etiquette-survey">https://github.com/fivethirtyeight/data/tree/master/flying-etiquette-survey</a>
</p>

<hr>
<h2 id='geom_mosaic'>Mosaic plots.</h2><span id='topic+geom_mosaic'></span><span id='topic+stat_mosaic_text'></span><span id='topic+stat_mosaic'></span>

<h3>Description</h3>

<p>A mosaic plot is a convenient graphical summary of the conditional distributions
in a contingency table and is composed of spines in alternating directions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_mosaic(
  mapping = NULL,
  data = NULL,
  stat = "mosaic",
  position = "identity",
  na.rm = FALSE,
  divider = mosaic(),
  offset = 0.01,
  show.legend = NA,
  inherit.aes = FALSE,
  ...
)

stat_mosaic_text(
  mapping = NULL,
  data = NULL,
  geom = "Text",
  position = "identity",
  na.rm = FALSE,
  divider = mosaic(),
  show.legend = NA,
  inherit.aes = TRUE,
  offset = 0.01,
  ...
)

stat_mosaic(
  mapping = NULL,
  data = NULL,
  geom = "mosaic",
  position = "identity",
  na.rm = FALSE,
  divider = mosaic(),
  show.legend = NA,
  inherit.aes = TRUE,
  offset = 0.01,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_mosaic_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with a warning. If <code>TRUE</code> silently removes missing values.</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_divider">divider</code></td>
<td>
<p>Divider function. The default divider function is mosaic() which will use spines in alternating directions. The four options for partitioning:
</p>

<ul>
<li> <p><code>vspine</code> Vertical spine partition: width constant, height varies.
</p>
</li>
<li> <p><code>hspine</code>  Horizontal spine partition: height constant, width varies.
</p>
</li>
<li> <p><code>vbar</code> Vertical bar partition: height constant, width varies.
</p>
</li>
<li> <p><code>hbar</code>  Horizontal bar partition: width constant, height varies.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_offset">offset</code></td>
<td>
<p>Set the space between the first spine</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer</code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>color = 'red'</code> or <code>size = 3</code>. They may also be parameters to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_mosaic_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use display the data</p>
</td></tr>
</table>


<h3>Computed variables</h3>


<dl>
<dt>x</dt><dd><p>location of center of the rectangle</p>
</dd>
<dt>y</dt><dd><p>location of center of the rectangle</p>
</dd>
</dl>


<dl>
<dt>xmin</dt><dd><p>location of bottom left corner</p>
</dd>
<dt>xmax</dt><dd><p>location of bottom right corner</p>
</dd>
<dt>ymin</dt><dd><p>location of top left corner</p>
</dd>
<dt>ymax</dt><dd><p>location of top right corner</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
data(titanic)

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Class), fill = Survived))
# good practice: use the 'dependent' variable (or most important variable)
# as fill variable

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Class, Age), fill = Survived))

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Class), conds = product(Age), fill = Survived))

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Survived, Class), fill = Age))

# Just excluded for timing. Examples are included in testing to make sure they work
## Not run: 
data(happy)

ggplot(data = happy) + geom_mosaic(aes(x = product(happy)), divider="hbar")

ggplot(data = happy) + geom_mosaic(aes(x = product(happy))) +
  coord_flip()

# weighting is important
ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(happy)))

ggplot(data = happy) + geom_mosaic(aes(weight=wtssall, x=product(health), fill=happy)) +
  theme(axis.text.x=element_text(angle=35))

ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(health), fill=happy), na.rm=TRUE)

ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(health, sex, degree), fill=happy),
  na.rm=TRUE)

# here is where a bit more control over the spacing of the bars is helpful:
# set labels manually:
ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(age), fill=happy), na.rm=TRUE, offset=0) +
  scale_x_productlist("Age", labels=c(17+1:72))

# thin out labels manually:
labels &lt;- c(17+1:72)
labels[labels %% 5 != 0] &lt;- ""
ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(age), fill=happy), na.rm=TRUE, offset=0) +
  scale_x_productlist("Age", labels=labels)

ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(age), fill=happy, conds = product(sex)),
  divider=mosaic("v"), na.rm=TRUE, offset=0.001) +
  scale_x_productlist("Age", labels=labels)

ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(age), fill=happy), na.rm=TRUE, offset = 0) +
  facet_grid(sex~.) +
  scale_x_productlist("Age", labels=labels)

ggplot(data = happy) +
  geom_mosaic(aes(weight = wtssall, x = product(happy, finrela, health)),
  divider=mosaic("h"))

ggplot(data = happy) +
  geom_mosaic(aes(weight = wtssall, x = product(happy, finrela, health)), offset=.005)

# Spine example
ggplot(data = happy) +
 geom_mosaic(aes(weight = wtssall, x = product(health), fill = health)) +
 facet_grid(happy~.)

## End(Not run) # end of don't run
</code></pre>

<hr>
<h2 id='geom_mosaic_jitter'>Jittered dots in Mosaic plots.</h2><span id='topic+geom_mosaic_jitter'></span><span id='topic+stat_mosaic_jitter'></span>

<h3>Description</h3>

<p>A mosaic plat with jittered dots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_mosaic_jitter(
  mapping = NULL,
  data = NULL,
  stat = "mosaic_jitter",
  position = "identity",
  na.rm = FALSE,
  divider = mosaic(),
  offset = 0.01,
  drop_level = FALSE,
  show.legend = NA,
  inherit.aes = FALSE,
  ...
)

stat_mosaic_jitter(
  mapping = NULL,
  data = NULL,
  geom = "mosaic_jitter",
  position = "identity",
  na.rm = FALSE,
  divider = mosaic(),
  show.legend = NA,
  inherit.aes = TRUE,
  offset = 0.01,
  drop_level = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_mosaic_jitter_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with a warning. If <code>TRUE</code> silently removes missing values.</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_divider">divider</code></td>
<td>
<p>Divider function. The default divider function is mosaic() which will use spines in alternating directions. The four options for partitioning:
</p>

<ul>
<li> <p><code>vspine</code> Vertical spine partition: width constant, height varies.
</p>
</li>
<li> <p><code>hspine</code>  Horizontal spine partition: height constant, width varies.
</p>
</li>
<li> <p><code>vbar</code> Vertical bar partition: height constant, width varies.
</p>
</li>
<li> <p><code>hbar</code>  Horizontal bar partition: width constant, height varies.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_offset">offset</code></td>
<td>
<p>Set the space between the first spine</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_drop_level">drop_level</code></td>
<td>
<p>Generate points for the max - 1 level</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer</code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>color = 'red'</code> or <code>size = 3</code>. They may also be parameters to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_mosaic_jitter_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use display the data</p>
</td></tr>
</table>


<h3>Computed variables</h3>


<dl>
<dt>xmin</dt><dd><p>location of bottom left corner</p>
</dd>
<dt>xmax</dt><dd><p>location of bottom right corner</p>
</dd>
<dt>ymin</dt><dd><p>location of top left corner</p>
</dd>
<dt>ymax</dt><dd><p>location of top right corner</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(titanic)

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Class), fill = Survived), alpha = 0.3) +
  geom_mosaic_jitter(aes(x = product(Class), color = Survived))

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Class)), alpha = 0.1) +
  geom_mosaic_jitter(aes(x = product(Class), color = Survived), drop_level = TRUE)

ggplot(data = titanic) +
  geom_mosaic(alpha = 0.3, aes(x = product(Class, Sex),  fill = Survived),
              divider = c("vspine", "hspine", "hspine")) +
  geom_mosaic_jitter(aes(x = product(Class, Sex), color = Survived),
              divider = c("vspine", "hspine", "hspine"))

 ggplot(data = titanic) +
  geom_mosaic(alpha = 0.3, aes(x = product(Class), conds = product(Sex),  fill = Survived),
              divider = c("vspine", "hspine", "hspine")) +
  geom_mosaic_jitter(aes(x = product(Class), conds = product(Sex), fill = Survived),
              divider = c("vspine", "hspine", "hspine"))
</code></pre>

<hr>
<h2 id='geom_mosaic_text'>Labeling for Mosaic plots.</h2><span id='topic+geom_mosaic_text'></span>

<h3>Description</h3>

<p>A mosaic plot with text or labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_mosaic_text(
  mapping = NULL,
  data = NULL,
  stat = "mosaic",
  position = "identity",
  na.rm = FALSE,
  divider = mosaic(),
  offset = 0.01,
  show.legend = NA,
  inherit.aes = FALSE,
  as.label = FALSE,
  repel = FALSE,
  repel_params = NULL,
  check_overlap = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_mosaic_text_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with a warning. If <code>TRUE</code> silently removes missing values.</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_divider">divider</code></td>
<td>
<p>Divider function. The default divider function is mosaic() which will use spines in alternating directions. The four options for partitioning:
</p>

<ul>
<li> <p><code>vspine</code> Vertical spine partition: width constant, height varies.
</p>
</li>
<li> <p><code>hspine</code>  Horizontal spine partition: height constant, width varies.
</p>
</li>
<li> <p><code>vbar</code> Vertical bar partition: height constant, width varies.
</p>
</li>
<li> <p><code>hbar</code>  Horizontal bar partition: width constant, height varies.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_offset">offset</code></td>
<td>
<p>Set the space between the first spine</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_as.label">as.label</code></td>
<td>
<p>Show as a ggplot label (box with round corners)</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_repel">repel</code></td>
<td>
<p>Use ggrepel wo labels don't overlap</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_repel_params">repel_params</code></td>
<td>
<p>List of ggrepel parameters (e.g. list(point.padding = 0))</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_check_overlap">check_overlap</code></td>
<td>
<p>If <code>TRUE</code>, text that overlaps previous text in the
same layer will not be plotted. <code>check_overlap</code> happens at draw time and in
the order of the data. Therefore data should be arranged by the label
column before calling <code>geom_label()</code> or <code>geom_text()</code>.</p>
</td></tr>
<tr><td><code id="geom_mosaic_text_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer</code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>color = 'red'</code> or <code>size = 3</code>. They may also be parameters to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data(titanic)

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Class), fill = Survived)) +
  geom_mosaic_text(aes(x = product(Class), fill = Survived))

ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Class, Sex),  fill = Survived),
              divider = c("vspine", "hspine", "hspine")) +
  geom_mosaic_text(aes(x = product(Class, Sex), fill = Survived),
              divider = c("vspine", "hspine", "hspine"), size = 2)

ggplot(data = happy) +
  geom_mosaic(aes(x = product(health), fill = happy), na.rm = TRUE, show.legend = FALSE) +
  geom_mosaic_text(aes(x = product(happy, health)), na.rm = TRUE)

# avoid overlapping text
ggplot(data = happy) +
  geom_mosaic(aes(x = product(health), fill = happy), na.rm = TRUE, show.legend = FALSE) +
  geom_mosaic_text(aes(x = product(happy, health)), na.rm = TRUE, check_overlap = TRUE)

# or use ggrepel
ggplot(data = happy) +
  geom_mosaic(aes(x = product(health), fill = happy), na.rm = TRUE, show.legend = FALSE) +
  geom_mosaic_text(aes(x = product(happy, health)), na.rm = TRUE, repel = TRUE)

# and as a label
ggplot(data = happy) +
  geom_mosaic(aes(x = product(health), fill = happy), na.rm = TRUE, show.legend = FALSE) +
  geom_mosaic_text(aes(x = product(happy, health)), na.rm = TRUE, repel = TRUE, as.label=TRUE)

</code></pre>

<hr>
<h2 id='GeomMosaic'>Geom proto</h2><span id='topic+GeomMosaic'></span>

<h3>Description</h3>

<p>Geom proto
</p>

<hr>
<h2 id='GeomMosaicJitter'>Geom proto</h2><span id='topic+GeomMosaicJitter'></span>

<h3>Description</h3>

<p>Geom proto
</p>

<hr>
<h2 id='GeomMosaicText'>Geom proto</h2><span id='topic+GeomMosaicText'></span>

<h3>Description</h3>

<p>Geom proto
</p>

<hr>
<h2 id='happy'>Data related to happiness from the general social survey.</h2><span id='topic+happy'></span>

<h3>Description</h3>

<p>The data is a small sample of variables related to happiness from the
general social survey (GSS). The GSS is a yearly cross-sectional survey of
Americans, run since 1972. We combine data for more than 25 years to yield over 60 thousand
observations, and of the over 5,000 variables, we select some variables that are related to
happiness:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(happy)
</code></pre>


<h3>Format</h3>

<p>A data frame with 62466 rows and 11 variables
</p>

<ul>
<li><p> year. year of the response, 1972 to 2018.
</p>
</li>
<li><p> age. age in years: 18&ndash;89 (89 stands for all 89 year olds and older).
</p>
</li>
<li><p> degree. highest education: lt high school, high school, junior
college, bachelor, graduate.
</p>
</li>
<li><p> finrela. how is your financial status compared to others: far below, below average, average, above average, far above.
</p>
</li>
<li><p> happy. happiness: very happy, pretty happy, not too happy.
</p>
</li>
<li><p> health. health: excellent, good, fair, poor.
</p>
</li>
<li><p> marital. marital status:  married, never married, divorced,
widowed, separated.
</p>
</li>
<li><p> sex. sex: female, male.
</p>
</li>
<li><p> polviews. from extremely conservative to extremely liberal.
</p>
</li>
<li><p> partyid. party identification: strong republican, not str republican, ind near rep, independent, ind near dem, not str democrat, strong democrat, other party.
</p>
</li>
<li><p> wtssall. probability weight. 0.39&ndash;8.74
</p>
</li></ul>


<hr>
<h2 id='hbar'>Horizontal bar partition: width constant, height varies.</h2><span id='topic+hbar'></span>

<h3>Description</h3>

<p>Horizontal bar partition: width constant, height varies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hbar(data, bounds, offset = 0.02, max = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hbar_+3A_data">data</code></td>
<td>
<p>bounds data frame</p>
</td></tr>
<tr><td><code id="hbar_+3A_bounds">bounds</code></td>
<td>
<p>bounds of space to partition</p>
</td></tr>
<tr><td><code id="hbar_+3A_offset">offset</code></td>
<td>
<p>space between spines</p>
</td></tr>
<tr><td><code id="hbar_+3A_max">max</code></td>
<td>
<p>maximum value</p>
</td></tr>
</table>

<hr>
<h2 id='hspine'>Horizontal spine partition: height constant, width varies.</h2><span id='topic+hspine'></span>

<h3>Description</h3>

<p>Horizontal spine partition: height constant, width varies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hspine(data, bounds, offset = offset, max = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hspine_+3A_data">data</code></td>
<td>
<p>bounds data frame</p>
</td></tr>
<tr><td><code id="hspine_+3A_bounds">bounds</code></td>
<td>
<p>bounds of space to partition</p>
</td></tr>
<tr><td><code id="hspine_+3A_offset">offset</code></td>
<td>
<p>space between spines</p>
</td></tr>
<tr><td><code id="hspine_+3A_max">max</code></td>
<td>
<p>maximum value</p>
</td></tr>
</table>

<hr>
<h2 id='mosaic'>Template for a mosaic plot.
A mosaic plot is composed of spines in alternating directions.</h2><span id='topic+mosaic'></span>

<h3>Description</h3>

<p>Template for a mosaic plot.
A mosaic plot is composed of spines in alternating directions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mosaic(direction = "h")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mosaic_+3A_direction">direction</code></td>
<td>
<p>direction of first split</p>
</td></tr>
</table>

<hr>
<h2 id='prodcalc'>Calculate frequencies.</h2><span id='topic+prodcalc'></span>

<h3>Description</h3>

<p>Calculate frequencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prodcalc(
  data,
  formula,
  divider = mosaic(),
  cascade = 0,
  scale_max = TRUE,
  na.rm = FALSE,
  offset = offset
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prodcalc_+3A_data">data</code></td>
<td>
<p>input data frame</p>
</td></tr>
<tr><td><code id="prodcalc_+3A_formula">formula</code></td>
<td>
<p>formula specifying display of plot</p>
</td></tr>
<tr><td><code id="prodcalc_+3A_divider">divider</code></td>
<td>
<p>divider function</p>
</td></tr>
<tr><td><code id="prodcalc_+3A_cascade">cascade</code></td>
<td>
<p>cascading amount, per nested layer</p>
</td></tr>
<tr><td><code id="prodcalc_+3A_scale_max">scale_max</code></td>
<td>
<p>Logical vector of length 1. If <code>TRUE</code> maximum values
within each nested layer will be scaled to take up all available space.
If <code>FALSE</code>, areas will be comparable between nested layers.</p>
</td></tr>
<tr><td><code id="prodcalc_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical vector of length 1 - should missing levels be
silently removed?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(productplots)
prodcalc(happy, ~ happy, "hbar", offset = 0.005)
prodcalc(happy, ~ happy, "hspine", offset = 0.01)

## End(Not run)
</code></pre>

<hr>
<h2 id='product'>Wrapper for a list</h2><span id='topic+product'></span>

<h3>Description</h3>

<p>Wrapper for a list
</p>
<p>Wrapper for a list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>product(...)

product(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="product_+3A_...">...</code></td>
<td>
<p>Unquoted variables going into the product plot.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data(titanic)
ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Survived, Class), fill = Survived))
data(titanic)
ggplot(data = titanic) +
  geom_mosaic(aes(x = product(Survived, Class), fill = Survived))
</code></pre>

<hr>
<h2 id='scale_type.productlist'>Helper function for determining scales</h2><span id='topic+scale_type.productlist'></span>

<h3>Description</h3>

<p>Used internally to determine class of variable x
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'productlist'
scale_type(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_type.productlist_+3A_x">x</code></td>
<td>
<p>variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character string &quot;productlist&quot;
</p>

<hr>
<h2 id='scale_x_productlist'>Determining scales for mosaics</h2><span id='topic+scale_x_productlist'></span><span id='topic+scale_y_productlist'></span><span id='topic+ScaleContinuousProduct'></span>

<h3>Description</h3>

<p>Determining scales for mosaics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_x_productlist(
  name = ggplot2::waiver(),
  breaks = product_breaks(),
  minor_breaks = NULL,
  labels = product_labels(),
  limits = NULL,
  expand = ggplot2::waiver(),
  oob = scales:::censor,
  na.value = NA_real_,
  trans = "identity",
  position = "bottom",
  sec.axis = ggplot2::waiver()
)

scale_y_productlist(
  name = ggplot2::waiver(),
  breaks = product_breaks(),
  minor_breaks = NULL,
  labels = product_labels(),
  limits = NULL,
  expand = ggplot2::waiver(),
  oob = scales:::censor,
  na.value = NA_real_,
  trans = "identity",
  position = "left",
  sec.axis = ggplot2::waiver()
)

ScaleContinuousProduct
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_x_productlist_+3A_name">name</code></td>
<td>
<p>set to pseudo waiver function <code>product_names</code> by default.</p>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_breaks">breaks</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks computed by the
<a href="scales.html#topic+trans_new">transformation object</a>
</p>
</li>
<li><p> A numeric vector of positions
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output (e.g., a function returned by <code><a href="scales.html#topic+breaks_extended">scales::extended_breaks()</a></code>)
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_minor_breaks">minor_breaks</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no minor breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (one minor break between
each major break)
</p>
</li>
<li><p> A numeric vector of positions
</p>
</li>
<li><p> A function that given the limits returns a vector of minor breaks.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_labels">labels</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_limits">limits</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale range
</p>
</li>
<li><p> A numeric vector of length two providing limits of the scale.
Use <code>NA</code> to refer to the existing minimum or maximum
</p>
</li>
<li><p> A function that accepts the existing (automatic) limits and returns
new limits
Note that setting limits on positional scales will <strong>remove</strong> data outside of the limits.
If the purpose is to zoom, use the limit argument in the coordinate system
(see <code><a href="ggplot2.html#topic+coord_cartesian">coord_cartesian()</a></code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_expand">expand</code></td>
<td>
<p>For position scales, a vector of range expansion constants used to add some
padding around the data to ensure that they are placed some distance
away from the axes. Use the convenience function <code><a href="ggplot2.html#topic+expansion">expansion()</a></code>
to generate the values for the <code>expand</code> argument. The defaults are to
expand the scale by 5% on each side for continuous variables, and by
0.6 units on each side for discrete variables.</p>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_oob">oob</code></td>
<td>
<p>One of:
</p>

<ul>
<li><p> Function that handles limits outside of the scale limits
(out of bounds).
</p>
</li>
<li><p> The default (<code><a href="scales.html#topic+oob">scales::censor()</a></code>) replaces out of
bounds values with <code>NA</code>.
</p>
</li>
<li> <p><code><a href="scales.html#topic+oob">scales::squish()</a></code> for squishing out of bounds values into range.
</p>
</li>
<li> <p><code><a href="scales.html#topic+oob">scales::squish_infinite()</a></code> for squishing infinite values into range.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_na.value">na.value</code></td>
<td>
<p>Missing values will be replaced with this value.</p>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_trans">trans</code></td>
<td>
<p>For continuous scales, the name of a transformation object
or the object itself. Built-in transformations include &quot;asn&quot;, &quot;atanh&quot;,
&quot;boxcox&quot;, &quot;date&quot;, &quot;exp&quot;, &quot;hms&quot;, &quot;identity&quot;, &quot;log&quot;, &quot;log10&quot;, &quot;log1p&quot;, &quot;log2&quot;,
&quot;logit&quot;, &quot;modulus&quot;, &quot;probability&quot;, &quot;probit&quot;, &quot;pseudo_log&quot;, &quot;reciprocal&quot;,
&quot;reverse&quot;, &quot;sqrt&quot; and &quot;time&quot;.
</p>
<p>A transformation object bundles together a transform, its inverse,
and methods for generating breaks and labels. Transformation objects
are defined in the scales package, and are called <code style="white-space: pre;">&#8288;&lt;name&gt;_trans&#8288;</code> (e.g.,
<code><a href="scales.html#topic+boxcox_trans">scales::boxcox_trans()</a></code>). You can create your own
transformation with <code><a href="scales.html#topic+trans_new">scales::trans_new()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_position">position</code></td>
<td>
<p>For position scales, The position of the axis.
<code>left</code> or <code>right</code> for y axes, <code>top</code> or <code>bottom</code> for x axes.</p>
</td></tr>
<tr><td><code id="scale_x_productlist_+3A_sec.axis">sec.axis</code></td>
<td>
<p>specify a secondary axis</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>ScaleContinuousProduct</code> (inherits from <code>ScaleContinuousPosition</code>, <code>ScaleContinuous</code>, <code>Scale</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>

<hr>
<h2 id='spine'>Spine partition: divide longest dimension.</h2><span id='topic+spine'></span>

<h3>Description</h3>

<p>Spine partition: divide longest dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spine(data, bounds, offset = offset, max = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spine_+3A_data">data</code></td>
<td>
<p>bounds data frame</p>
</td></tr>
<tr><td><code id="spine_+3A_bounds">bounds</code></td>
<td>
<p>bounds of space to partition</p>
</td></tr>
<tr><td><code id="spine_+3A_offset">offset</code></td>
<td>
<p>space between spines</p>
</td></tr>
<tr><td><code id="spine_+3A_max">max</code></td>
<td>
<p>maximum value</p>
</td></tr>
</table>

<hr>
<h2 id='squeeze'>Internal helper function</h2><span id='topic+squeeze'></span>

<h3>Description</h3>

<p>Squeeze pieces to lie within specified bounds; directly copied from package productplots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>squeeze(pieces, bounds = bound())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="squeeze_+3A_pieces">pieces</code></td>
<td>
<p>rectangle specified via l(eft), r(ight), b(ottom), t(op)</p>
</td></tr>
<tr><td><code id="squeeze_+3A_bounds">bounds</code></td>
<td>
<p>rectangle specified via l(eft), r(ight), b(ottom), t(op)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>re-scaled values for piece according to boundaries given by bounds
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham
</p>

<hr>
<h2 id='StatMosaic'>Geom proto</h2><span id='topic+StatMosaic'></span>

<h3>Description</h3>

<p>Geom proto
</p>

<hr>
<h2 id='StatMosaicJitter'>Geom proto</h2><span id='topic+StatMosaicJitter'></span>

<h3>Description</h3>

<p>Geom proto
</p>

<hr>
<h2 id='StatMosaicText'>Geom proto</h2><span id='topic+StatMosaicText'></span>

<h3>Description</h3>

<p>Geom proto
</p>

<hr>
<h2 id='theme_mosaic'>Theme for mosaic plots</h2><span id='topic+theme_mosaic'></span>

<h3>Description</h3>

<p>Themes set the general aspect of the plot such as the colour of the
background, gridlines, the size and colour of fonts.
<code>theme_mosaic</code> provides access to the regular ggplot2 theme, but removes any
background, most of the gridlines, and ensures an aspect ratio of 1 for better
viewing of the mosaics.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_mosaic_+3A_base_size">base_size</code></td>
<td>
<p>base font size</p>
</td></tr>
<tr><td><code id="theme_mosaic_+3A_base_family">base_family</code></td>
<td>
<p>base font family</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggmosaic)
data(happy)
ggplot(data = happy) +
  geom_mosaic(aes(weight=wtssall, x=product(health), fill=happy), na.rm=TRUE) +
  theme_mosaic()

</code></pre>

<hr>
<h2 id='titanic'>Passengers and crew on board the Titanic</h2><span id='topic+titanic'></span>

<h3>Description</h3>

<p>A dataset containing some demographics and survival of people on board the Titanic
</p>


<h3>Usage</h3>

<pre><code class='language-R'>titanic
</code></pre>


<h3>Format</h3>

<p>A data frame with 2201 rows and 4 variables:
</p>

<dl>
<dt>Class</dt><dd><p>factor variable containing the class of a passenger (1st, 2nd, 3rd) or crew.</p>
</dd>
<dt>Sex</dt><dd><p>Male/Female.</p>
</dd>
<dt>Age</dt><dd><p>Child/Adult. This information is not very reliable, because it was inferred from boarding documents that did not state actual age in years.</p>
</dd>
<dt>Survived</dt><dd><p>Yes/No.</p>
</dd>
</dl>


<hr>
<h2 id='vbar'>Vertical bar partition: height constant, width varies.</h2><span id='topic+vbar'></span>

<h3>Description</h3>

<p>Vertical bar partition: height constant, width varies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vbar(data, bounds, offset = 0.02, max = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vbar_+3A_data">data</code></td>
<td>
<p>bounds data frame</p>
</td></tr>
<tr><td><code id="vbar_+3A_bounds">bounds</code></td>
<td>
<p>bounds of space to partition</p>
</td></tr>
<tr><td><code id="vbar_+3A_offset">offset</code></td>
<td>
<p>space between spines</p>
</td></tr>
<tr><td><code id="vbar_+3A_max">max</code></td>
<td>
<p>maximum value</p>
</td></tr>
</table>

<hr>
<h2 id='vspine'>Vertical spine partition: width constant, height varies.</h2><span id='topic+vspine'></span>

<h3>Description</h3>

<p>Vertical spine partition: width constant, height varies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vspine(data, bounds, offset = offset, max = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vspine_+3A_data">data</code></td>
<td>
<p>bounds data frame</p>
</td></tr>
<tr><td><code id="vspine_+3A_bounds">bounds</code></td>
<td>
<p>bounds of space to partition</p>
</td></tr>
<tr><td><code id="vspine_+3A_offset">offset</code></td>
<td>
<p>space between spines</p>
</td></tr>
<tr><td><code id="vspine_+3A_max">max</code></td>
<td>
<p>maximum value</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package segen</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {segen}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#segen'><p>segen</p></a></li>
<li><a href='#time_features'><p>time features example: IBM and Microsoft Close Prices</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sequence Generalization Through Similarity Network</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Giancarlo Vercellino</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Giancarlo Vercellino &lt;giancarlo.vercellino@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Proposes an application for sequence prediction generalizing the similarity within the network of previous sequences.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>purrr (&ge; 0.3.4), ggplot2 (&ge; 3.3.5), readr (&ge; 2.1.2),
lubridate (&ge; 1.7.10), imputeTS (&ge; 3.2), fANCOVA (&ge; 0.6-1),
scales (&ge; 1.1.1), tictoc (&ge; 1.0.1), modeest (&ge; 2.4.0),
moments (&ge; 0.14), greybox (&ge; 1.0.1), philentropy (&ge; 0.5.0),
entropy (&ge; 1.3.1), Rfast (&ge; 2.0.6), narray (&ge; 0.4.1.1),
fastDummies (&ge; 1.6.3)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rpubs.com/giancarlo_vercellino/segen">https://rpubs.com/giancarlo_vercellino/segen</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-15 19:16:56 UTC; gvercellino</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-15 19:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='segen'>segen</h2><span id='topic+segen'></span><span id='topic+segen-package'></span>

<h3>Description</h3>

<p>Sequence Generalization Through Similarity Network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segen(
  df,
  seq_len = NULL,
  similarity = NULL,
  dist_method = NULL,
  rescale = NULL,
  smoother = FALSE,
  ci = 0.8,
  error_scale = "naive",
  error_benchmark = "naive",
  n_windows = 10,
  n_samp = 30,
  dates = NULL,
  seed = 42
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segen_+3A_df">df</code></td>
<td>
<p>A data frame with time features on columns. They could be numeric variables or categorical, but not both.</p>
</td></tr>
<tr><td><code id="segen_+3A_seq_len">seq_len</code></td>
<td>
<p>Positive integer. Time-step number of the forecasting sequence. Default: NULL (automatic selection between 2 and max limit).</p>
</td></tr>
<tr><td><code id="segen_+3A_similarity">similarity</code></td>
<td>
<p>Positive numeric. Degree of similarity between two sequences, based on quantile conversion of distance. Default: NULL (automatic selection between 0.01, maximal difference, and 0.99, minimal difference).</p>
</td></tr>
<tr><td><code id="segen_+3A_dist_method">dist_method</code></td>
<td>
<p>String. Method for calculating distance among sequences. Available options are: &quot;euclidean&quot;, &quot;manhattan&quot;, &quot;maximum&quot;, &quot;minkowski&quot;. Default: NULL (random search).</p>
</td></tr>
<tr><td><code id="segen_+3A_rescale">rescale</code></td>
<td>
<p>Logical. Flag to TRUE for min-max scaling of distances. Default: NULL (random search).</p>
</td></tr>
<tr><td><code id="segen_+3A_smoother">smoother</code></td>
<td>
<p>Logical. Flag to TRUE for loess smoothing. Default: FALSE.</p>
</td></tr>
<tr><td><code id="segen_+3A_ci">ci</code></td>
<td>
<p>Confidence interval for prediction. Default: 0.8</p>
</td></tr>
<tr><td><code id="segen_+3A_error_scale">error_scale</code></td>
<td>
<p>String. Scale for the scaled error metrics (for continuous variables). Two options: &quot;naive&quot; (average of naive one-step absolute error for the historical series) or &quot;deviation&quot; (standard error of the historical series). Default: &quot;naive&quot;.</p>
</td></tr>
<tr><td><code id="segen_+3A_error_benchmark">error_benchmark</code></td>
<td>
<p>String. Benchmark for the relative error metrics (for continuous variables). Two options: &quot;naive&quot; (sequential extension of last value) or &quot;average&quot; (mean value of true sequence). Default: &quot;naive&quot;.</p>
</td></tr>
<tr><td><code id="segen_+3A_n_windows">n_windows</code></td>
<td>
<p>Positive integer. Number of validation windows to test prediction error. Default: 10.</p>
</td></tr>
<tr><td><code id="segen_+3A_n_samp">n_samp</code></td>
<td>
<p>Positive integer. Number of samples for random search. Default: 30.</p>
</td></tr>
<tr><td><code id="segen_+3A_dates">dates</code></td>
<td>
<p>Date. Vector with dates for time features.</p>
</td></tr>
<tr><td><code id="segen_+3A_seed">seed</code></td>
<td>
<p>Positive integer. Random seed. Default: 42.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list including:
</p>

<ul>
<li><p> exploration: list of all not-null models, complete with predictions and error metrics
</p>
</li>
<li><p> history: a table with the sampled models, hyper-parameters, validation errors
</p>
</li>
<li><p> best_model: results for the best selected model according to the weighted average rank, including:
</p>

<ul>
<li><p> predictions: for continuous variables, min, max, q25, q50, q75, quantiles at selected ci, mean, sd, mode, skewness, kurtosis, IQR to range, risk ratio, upside probability and divergence for each point fo predicted sequences; for factor variables, min, max, q25, q50, q75, quantiles at selected ci, proportions, difformity (deviation of proportions normalized over the maximum possible deviation), entropy, upgrade probability and divergence for each point fo predicted sequences
</p>
</li>
<li><p> testing_errors: testing errors for each time feature for the best selected model (for continuous variables: me, mae, mse, rmsse, mpe, mape, rmae, rrmse, rame, mase, smse, sce, gmrae; for factor variables: czekanowski, tanimoto, cosine, hassebrook, jaccard, dice, canberra, gower, lorentzian, clark)
</p>
</li>
<li><p> plots: standard plots with confidence interval for each time feature
</p>
</li></ul>

</li>
<li><p> time_log
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Giancarlo Vercellino <a href="mailto:giancarlo.vercellino@gmail.com">giancarlo.vercellino@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rpubs.com/giancarlo_vercellino/segen">https://rpubs.com/giancarlo_vercellino/segen</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>segen(time_features[, 1, drop = FALSE], seq_len = 30, similarity = 0.7, n_windows = 3, n_samp = 1)


</code></pre>

<hr>
<h2 id='time_features'>time features example: IBM and Microsoft Close Prices</h2><span id='topic+time_features'></span>

<h3>Description</h3>

<p>A data frame with with daily with daily prices for IBM and Microsoft since April 2020
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_features
</code></pre>


<h3>Format</h3>

<p>A data frame with 2 columns and 1324 rows.
</p>


<h3>Source</h3>

<p>finance.yahoo.com
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

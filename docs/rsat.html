<!DOCTYPE html><html lang="en"><head><title>Help for package rsat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rsat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+5B+2Cextent_crs+2CANY+2CANY+2CANY-method'><p>Extract or replace parts of an object</p></a></li>
<li><a href='#as.data.frame+2Cextent_crs-method'><p>Coerce to a Data Frame</p></a></li>
<li><a href='#as.records'><p>Create records object from data frame</p></a></li>
<li><a href='#c+2Cextent_crs-method'><p>Combine values into a vector or a list</p></a></li>
<li><a href='#dates'><p>Get/set the dates from a <code>records</code> or an <code>rtoi</code></p></a></li>
<li><a href='#ex.dem.navarre'><p>A Digital Elevation Model (DEM) of the region of Navarre (Spain)</p></a></li>
<li><a href='#ex.madrid'><p>A polygon with the border of Madrid (Spain)</p></a></li>
<li><a href='#ex.manhattan'><p>A polygon with the border of Manhattan (USA)</p></a></li>
<li><a href='#ex.navarre'><p>A polygon with the border of Navarre (Spain)</p></a></li>
<li><a href='#ex.ndvi.navarre'><p>A time series of NDVI in Navarre (Spain)</p></a></li>
<li><a href='#get_api_name'><p>Get the API name of a <code>records</code></p></a></li>
<li><a href='#get_database'><p>Extracts or assign the path of the database</p></a></li>
<li><a href='#get_dir'><p>Get the file path of a <code>records</code> or an <code>rtoi</code></p></a></li>
<li><a href='#get_download'><p>Extract the url to download a data record</p></a></li>
<li><a href='#get_order'><p>Get the slot called order from a <code>records</code> or an <code>rtoi</code></p></a></li>
<li><a href='#get_preview'><p>Extract the url of the preview</p></a></li>
<li><a href='#length+2Cextent_crs-method'><p>Length of an object</p></a></li>
<li><a href='#names+2Crecords-method'><p>Get the name of the object</p></a></li>
<li><a href='#new_record'><p>Create a new <code>records</code> object</p></a></li>
<li><a href='#new_rtoi'><p>Creates a new <code>rtoi</code> object</p></a></li>
<li><a href='#plot+2Crtoi+2CDate-method'><p>Plot an <code>rtoi</code> object</p></a></li>
<li><a href='#print_credentials'><p>Prints the credentials for the web services</p></a></li>
<li><a href='#print+2Capi_dataspace-method'><p>Prints the values</p></a></li>
<li><a href='#product'><p>Get the name of the product from a <code>records</code> or an <code>rtoi</code></p></a></li>
<li><a href='#read_rtoi'><p>Reads an rtoi from the hard drive</p></a></li>
<li><a href='#records'><p>Extracts the satellite records</p></a></li>
<li><a href='#records-class'><p>A class object for satellite image metadata</p></a></li>
<li><a href='#region'><p>Extracts region from an rtoi</p></a></li>
<li><a href='#rename'><p>Renames an <code>rtoi</code></p></a></li>
<li><a href='#rsat'><p>&lsquo;rsat&rsquo;</p></a></li>
<li><a href='#rsat_cloudMask'><p>Create cloud mask from an rtoi</p></a></li>
<li><a href='#rsat_derive'><p>Computes a remote sensing index from an <code>rtoi</code></p></a></li>
<li><a href='#rsat_download'><p>Download the images from a <code>records</code> or an <code>rtoi</code> object</p></a></li>
<li><a href='#rsat_get_raster'><p>Loads into R a time series of images regarding an rtoi, satellite product,</p>
and remote sensing index.</a></li>
<li><a href='#rsat_list_data'><p>List the information available for an <code>rtoi</code></p></a></li>
<li><a href='#rsat_mosaic'><p>Mosaic the tiles intersecting the region of interest</p></a></li>
<li><a href='#rsat_preview'><p>Preview a <code>records</code> or an <code>rtoi</code> object</p></a></li>
<li><a href='#rsat_products'><p>Show the products accepted by the services</p></a></li>
<li><a href='#rsat_search'><p>Search satellite images</p></a></li>
<li><a href='#rsat_smoothing_images'><p>Fill data gaps and smooth outliers in a time series of satellite images</p></a></li>
<li><a href='#rtoi-class'><p>Region and Time Of Interest (<code>rtoi</code>)</p></a></li>
<li><a href='#sat_name'><p>Get the name of the satellite(s) from a <code>records</code> or an <code>rtoi</code></p></a></li>
<li><a href='#set_credentials'><p>Saves the credentials for the web services</p></a></li>
<li><a href='#show_variables'><p>List the variables and satellites supported by <code>rsat</code></p></a></li>
<li><a href='#show+2Cextent_crs-method'><p>Show an Object</p></a></li>
<li><a href='#subset+2Crecords-method'><p>Filter the satellite records of a <code>records</code> or an <code>rtoi</code></p></a></li>
<li><a href='#test_function'><p>Testing function</p></a></li>
<li><a href='#tiles.mod.ndvi.filled.1.res'><p>Result of IMA test 1</p></a></li>
<li><a href='#tiles.mod.ndvi.filled.2.res'><p>Result of IMA test 2</p></a></li>
<li><a href='#unique+2Crecords+2CANY-method'><p>Extract unique elements</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Dealing with Multiplatform Satellite Images</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.21</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Unai Pérez - Goya &lt;unai.perez@unavarra.es&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Downloading, customizing, and processing time series of satellite images for a region of interest. 'rsat' functions allow a unified access to multispectral images from Landsat, MODIS and Sentinel repositories. 'rsat' also offers capabilities for customizing satellite images, such as tile mosaicking, image cropping and new variables computation. Finally, 'rsat' covers the processing, including cloud masking, compositing and gap-filling/smoothing time series of images (Militino et al., 2018 &lt;<a href="https://doi.org/10.3390%2Frs10030398">doi:10.3390/rs10030398</a>&gt; and Militino et al., 2019 &lt;<a href="https://doi.org/10.1109%2FTGRS.2019.2904193">doi:10.1109/TGRS.2019.2904193</a>&gt;).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>XML, curl, httr, leafem, leaflet, rjson, rvest, tmap, xml2,
zip, methods, Rdpack, fields, calendR, sf, stars, terra, sp,
raster</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ropensci/rsat">https://github.com/ropensci/rsat</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/rsat/issues">https://github.com/ropensci/rsat/issues</a></td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, covr, testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'add2rtoi.R' 'api_dataspace.R' 'api_lpdaac.R' 'api_usgs.R'
'connections.R' 'data.R' 'extent_crs.R' 'mosaic_fun_SYN.R'
'mosaic_fun_ls.R' 'mosaic_fun_mod.R' 'mosaic_fun_sen2.R'
'mosaic_generic.R' 'package_tools.R' 'records.R' 'rtoi.R'
'plot.R' 'rsat.R' 'rsat_cloud_mask.R' 'rsat_derive.R'
'rsat_download.R' 'rsat_list_data.R' 'rsat_mosaic.R'
'rsat_preview.R' 'rsat_search.R' 'rsat_smoothing_images.R'
'testing_function.R' 'variables.R'</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-02 22:39:26 UTC; unai.perez</td>
</tr>
<tr>
<td>Author:</td>
<td>Unai Pérez - Goya <a href="https://orcid.org/0000-0002-2796-9079"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Manuel Montesino - SanMartin
    <a href="https://orcid.org/0000-0002-0822-600X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Ana F Militino <a href="https://orcid.org/0000-0002-0631-3919"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Maria Dolores Ugarte
    <a href="https://orcid.org/0000-0002-3505-8400"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Marc Weber [rev] (Marc reviewed rsat (v. 0.1.14) for rOpenSci, see
    &lt;https://github.com/ropensci/software-review/issues/437&gt;),
  Kelly Hondula [rev] (Kelly reviewed rsat (v. 0.1.14) for rOpenSci, see
    &lt;https://github.com/ropensci/software-review/issues/437&gt;)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-03 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+5B+2Cextent_crs+2CANY+2CANY+2CANY-method'>Extract or replace parts of an object</h2><span id='topic++5B+2Cextent_crs+2CANY+2CANY+2CANY-method'></span><span id='topic+sub+2Cextent_crs'></span><span id='topic++5B+3C-+2Cextent_crs+2CANY+2CANY+2CANY-method'></span><span id='topic+sub+2Cextent_crs+2Cextent_crs'></span><span id='topic++5B+2Crecords+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+3C-+2Crecords+2CANY+2CANY+2CANY-method'></span><span id='topic++27+5B+3C-+27+2Crecords+2Crecords'></span>

<h3>Description</h3>

<p>Operators acting on vectors, matrices, arrays and lists to
extract or replace parts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'extent_crs,ANY,ANY,ANY'
x[i]

## S4 replacement method for signature 'extent_crs,ANY,ANY,ANY'
x[i] &lt;- value

## S4 method for signature 'records,ANY,ANY,ANY'
x[i]

## S4 replacement method for signature 'records,ANY,ANY,ANY'
x[i] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B5B+2B2Cextent_crs+2B2CANY+2B2CANY+2B2CANY-method_+3A_x">x</code></td>
<td>
<p>object from which to extract element(s) or in which to
replace element(s).</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cextent_crs+2B2CANY+2B2CANY+2B2CANY-method_+3A_i">i</code></td>
<td>
<p>numeric argument. The the position of the element to
select/modify.</p>
</td></tr>
<tr><td><code id="+2B5B+2B2Cextent_crs+2B2CANY+2B2CANY+2B2CANY-method_+3A_value">value</code></td>
<td>
<p>a <code>records</code> argument. The slot of the records
to be changed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a selected value
</p>

<hr>
<h2 id='as.data.frame+2Cextent_crs-method'>Coerce to a Data Frame</h2><span id='topic+as.data.frame+2Cextent_crs-method'></span><span id='topic+as.data.frame+2Cextent_crs'></span><span id='topic+as.data.frame+2Crecords-method'></span>

<h3>Description</h3>

<p>Functions to check if an object is a data frame, or coerce it if possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'extent_crs'
as.data.frame(x)

## S4 method for signature 'records'
as.data.frame(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.data.frame+2B2Cextent_crs-method_+3A_x">x</code></td>
<td>
<p>Any R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a data frame, normally with all row names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)
# coerce the records to rtoi
df &lt;- as.data.frame(rcds)
# print the dataframe
print(df)

## End(Not run)
</code></pre>

<hr>
<h2 id='as.records'>Create records object from data frame</h2><span id='topic+as.records'></span><span id='topic+as.records+2Cdata.frame-method'></span><span id='topic+as.records+2Cdata.frame'></span>

<h3>Description</h3>

<p>Create records object from data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.records(x)

## S4 method for signature 'data.frame'
as.records(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.records_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> with columns representing the slots of
records.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a records objects with the columns values in <code>x</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)
# coerce the records to dataframr
df &lt;- as.data.frame(rcds)
# print the dataframe
print(df)

# coerce the dataframe to records
rcds2 &lt;- as.records(df)
# check the conversion
identical(rcds,rcds2)

## End(Not run)
</code></pre>

<hr>
<h2 id='c+2Cextent_crs-method'>Combine values into a vector or a list</h2><span id='topic+c+2Cextent_crs-method'></span><span id='topic+c'></span><span id='topic+c+2Crecords-method'></span>

<h3>Description</h3>

<p>This is a generic function which combines its arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'extent_crs'
c(x, ...)

## S4 method for signature 'records'
c(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="c+2B2Cextent_crs-method_+3A_x">x</code></td>
<td>
<p>a <code>records</code> object.</p>
</td></tr>
<tr><td><code id="c+2B2Cextent_crs-method_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default method combines its arguments to form a vector.
All arguments are coerced to a common type which is the type
of the returned value. All attributes except names are removed.
</p>


<h3>Value</h3>

<p>a combination of 'x' class elements
</p>

<hr>
<h2 id='dates'>Get/set the dates from a <code>records</code> or an <code>rtoi</code></h2><span id='topic+dates'></span><span id='topic+dates+2Crecords-method'></span><span id='topic+dates+3C-'></span><span id='topic+dates+3C-+2Crecords-method'></span><span id='topic+dates+2Crtoi-method'></span>

<h3>Description</h3>

<p>Get/set the dates from a <code>records</code> or an <code>rtoi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dates(x)

## S4 method for signature 'records'
dates(x)

dates(x) &lt;- value

## S4 replacement method for signature 'records'
dates(x) &lt;- value

## S4 method for signature 'rtoi'
dates(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dates_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="dates_+3A_value">value</code></td>
<td>
<p>the new date to asign</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a vector of <code>Date</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get a vector of dates includes in rtoi
dates(navarre)

# get the records
rcds &lt;- records(navarre)

# coerce the records to dataframr
dates(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='ex.dem.navarre'>A Digital Elevation Model (DEM) of the region of Navarre (Spain)</h2><span id='topic+ex.dem.navarre'></span>

<h3>Description</h3>

<p>Geographically projected <code>RasterStack</code> with the digital elevation model
(DEM) of the region of Navarre (Spain). The DEM was obtained from the
<a href="http://centrodedescargas.cnig.es/CentroDescargas/locale?request_locale=en">National Center for Geographic Information</a>
of Spain. The DEM is used as a covariate in the Image Mean Anomaly (IMA)
algorithm (<code><a href="#topic+rsat_smoothing_images">rsat_smoothing_images</a></code>).
</p>


<h3>Format</h3>

<p>The <code>RasterStack</code> contains 6 layers with the same DEM, one for
every image in <code><a href="#topic+ex.ndvi.navarre">ex.ndvi.navarre</a></code>.
</p>
<p>The <code>RasterStack</code> coordinates are in the Sinusoidal projection.
</p>

<dl>
<dt>name</dt><dd><p>layer names contain the capturing date of the
corresponding image in the format &quot;<code>YYYYJJJ</code>&quot;</p>
</dd></dl>
<p>.
</p>
<dl>
<dt>size</dt><dd><p>113 rows by 105 columns and 6 layers</p>
</dd></dl>
<p>.

</p>

<hr>
<h2 id='ex.madrid'>A polygon with the border of Madrid (Spain)</h2><span id='topic+ex.madrid'></span>

<h3>Description</h3>

<p>Spatial feature (<code>sf</code>) representing the border of Madrid with
coordinates in the longitude/latitude format.
</p>

<hr>
<h2 id='ex.manhattan'>A polygon with the border of Manhattan (USA)</h2><span id='topic+ex.manhattan'></span>

<h3>Description</h3>

<p>Spatial feature (<code>sf</code>) representing the border of Manhattan with
coordinates in the NAD83 format.
</p>

<hr>
<h2 id='ex.navarre'>A polygon with the border of Navarre (Spain)</h2><span id='topic+ex.navarre'></span>

<h3>Description</h3>

<p>Spatial feature (<code>sf</code>) representing the border of Navarre with
coordinates in the longitude/latitude format.
</p>

<hr>
<h2 id='ex.ndvi.navarre'>A time series of NDVI in Navarre (Spain)</h2><span id='topic+ex.ndvi.navarre'></span>

<h3>Description</h3>

<p>Geographically projected <code>RasterBrick</code> object of the normalized
difference vegetation index (NDVI) in Navarre.
</p>


<h3>Format</h3>

<p>The <code>RasterBrick</code> contains 6 images, from the 2nd to the 4th of
August in 2017 and 2018. The <code>RasterBrick</code> coordinates are in the
Sinusoidal projection:
</p>

<dl>
<dt>name</dt><dd><p>layer names contain the date of the
image in the format &quot;<code>YYYYJJJ</code>&quot;</p>
</dd></dl>
<p>.
</p>
<dl>
<dt>size</dt><dd><p>each layer contains 113 rows and 105 columns</p>
</dd></dl>
<p>.

</p>

<hr>
<h2 id='get_api_name'>Get the API name of a <code>records</code></h2><span id='topic+get_api_name'></span><span id='topic+get_api_name+2Crecords-method'></span><span id='topic+get_api_name+2Crecords'></span>

<h3>Description</h3>

<p>A function to get or set the api names of an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_api_name(x)

## S4 method for signature 'records'
get_api_name(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_api_name_+3A_x">x</code></td>
<td>
<p>a <code>records</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector containing the API names of the
elements in <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)

# get a vector with the api name of each records
get_api_name(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_database'>Extracts or assign the path of the database</h2><span id='topic+get_database'></span><span id='topic+get_database+2Crtoi-method'></span><span id='topic+get_database+2Crtoi'></span><span id='topic+get_database+2Cmissing-method'></span><span id='topic+set_database'></span><span id='topic+set_database+2Crtoi-method'></span><span id='topic+set_database+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Extracts the path to the database from an rtoi/package environment.
If both, environment and rtoi database are defined the rtoi
database is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_database(x)

## S4 method for signature 'rtoi'
get_database(x)

## S4 method for signature 'missing'
get_database()

set_database(x, ...)

## S4 method for signature 'rtoi'
set_database(x, value)

## S4 method for signature 'character'
set_database(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_database_+3A_x">x</code></td>
<td>
<p>an rtoi object.</p>
</td></tr>
<tr><td><code id="get_database_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
<tr><td><code id="get_database_+3A_value">value</code></td>
<td>
<p>character argument. The value for
change the database directory of x.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the database path of an rtoi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the databse used by navarre
get_database(navarre)

# set the a new database path
set_database(navarre,"new_path")

# get the database used by rsat by default
get_database()

# set the a new database path for the entire environment
set_database("new_path")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_dir'>Get the file path of a <code>records</code> or an <code>rtoi</code></h2><span id='topic+get_dir'></span><span id='topic+get_dir+2Crecords-method'></span><span id='topic+get_dir+2Crecords'></span><span id='topic+get_order+2Crecords-method'></span><span id='topic+get_dir+2Crtoi-method'></span><span id='topic+get_dir+2Crtoi'></span>

<h3>Description</h3>

<p>Get the file path of a <code>records</code> or an <code>rtoi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dir(x)

## S4 method for signature 'records'
get_dir(x)

## S4 method for signature 'records'
get_order(x)

## S4 method for signature 'rtoi'
get_dir(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_dir_+3A_x">x</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the file path in the records
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the path of the
get_dir(navarre)

# get the records
rcds &lt;- records(navarre)

# gets the relative path to store records data
get_dir(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_download'>Extract the url to download a data record</h2><span id='topic+get_download'></span>

<h3>Description</h3>

<p>It returns a character with the url to download the image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_download(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_download_+3A_x">x</code></td>
<td>
<p>a <code>records</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>download url of a records
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)
# coerce the records to rtoi
get_download(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_order'>Get the slot called order from a <code>records</code> or an <code>rtoi</code></h2><span id='topic+get_order'></span><span id='topic+get_order+3C-'></span><span id='topic+get_order+3C-+2Crecords-method'></span><span id='topic+get_order+3C-+2Crecords'></span>

<h3>Description</h3>

<p>Get the slot called order from a <code>records</code> or an <code>rtoi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_order(x)

get_order(x) &lt;- value

## S4 replacement method for signature 'records'
get_order(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_order_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="get_order_+3A_value">value</code></td>
<td>
<p>logical argument. The new value for <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the value of called order
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)

# gets a boolean
get_order(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_preview'>Extract the url of the preview</h2><span id='topic+get_preview'></span><span id='topic+get_preview+2Crecords-method'></span><span id='topic+get_preview+2Crecords'></span><span id='topic+get_download+2Crecords-method'></span>

<h3>Description</h3>

<p>It returns a character vector of urls to preview the data records.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_preview(x)

## S4 method for signature 'records'
get_preview(x)

## S4 method for signature 'records'
get_download(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_preview_+3A_x">x</code></td>
<td>
<p>a <code>records</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>preview url of a records
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)

# get a vector with the preview url of each record
get_api_name(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='length+2Cextent_crs-method'>Length of an object</h2><span id='topic+length+2Cextent_crs-method'></span><span id='topic+length+2Crecords-method'></span>

<h3>Description</h3>

<p>Get or set the length of vectors (including lists) and factors,
and of any other R object for which a method has been defined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'extent_crs'
length(x)

## S4 method for signature 'records'
length(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="length+2B2Cextent_crs-method_+3A_x">x</code></td>
<td>
<p>a <code>records</code> object to compute its length.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Length currently returns a non-negative integer of length 1
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)

length(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='names+2Crecords-method'>Get the name of the object</h2><span id='topic+names+2Crecords-method'></span><span id='topic+names+2Crtoi-method'></span><span id='topic+names+2Crtoi'></span><span id='topic+names+3C-+2Crtoi+2Ccharacter-method'></span><span id='topic+names+3C-+2Crtoi+2Ccharacter'></span>

<h3>Description</h3>

<p>A function to get or set the names of an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'records'
names(x)

## S4 method for signature 'rtoi'
names(x)

## S4 replacement method for signature 'rtoi,character'
names(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="names+2B2Crecords-method_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="names+2B2Crecords-method_+3A_value">value</code></td>
<td>
<p>character argument. The new value for <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector containing the name of
all the names in <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

names(navarre)
names(navarre) &lt;- "New name"
names(navarre)

rcrds &lt;- records(navarre)

names(rcrds)

## End(Not run)
</code></pre>

<hr>
<h2 id='new_record'>Create a new <code>records</code> object</h2><span id='topic+new_record'></span><span id='topic+new_record+2Ccharacter+2Ccharacter+2CDate+2Ccharacter+2Ccharacter+2Ccharacter+2Cnumeric+2Cnumeric+2Ccharacter+2Ccharacter+2Ccharacter+2Clogical+2Cextent_crs-method'></span><span id='topic+new_record+2C'></span><span id='topic+character+2C'></span><span id='topic+Date+2C'></span><span id='topic+numeric+2C'></span><span id='topic+logical+2C'></span><span id='topic+extent_crs'></span><span id='topic+new_record+2Ccharacter+2Ccharacter+2CDate+2Ccharacter+2Ccharacter+2Ccharacter+2Cnumeric+2Cnumeric+2Ccharacter+2Ccharacter+2Ccharacter+2Clogical+2Cmissing-method'></span><span id='topic+missing'></span>

<h3>Description</h3>

<p>Create a new <code>records</code> object from scratch
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_record(
  sat,
  name,
  date,
  product,
  download,
  file_path,
  path,
  row,
  tileid,
  preview,
  api_name,
  order,
  extent_crs
)

## S4 method for signature 
## 'character,
##   character,
##   Date,
##   character,
##   character,
##   character,
##   numeric,
##   numeric,
##   character,
##   character,
##   character,
##   logical,
##   extent_crs'
new_record(
  sat,
  name,
  date,
  product,
  download,
  file_path,
  path,
  row,
  tileid,
  preview,
  api_name,
  order,
  extent_crs
)

## S4 method for signature 
## 'character,
##   character,
##   Date,
##   character,
##   character,
##   character,
##   numeric,
##   numeric,
##   character,
##   character,
##   character,
##   logical,
##   missing'
new_record(
  sat,
  name,
  date,
  product,
  download,
  file_path,
  path,
  row,
  tileid,
  preview,
  api_name,
  order
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_record_+3A_sat">sat</code></td>
<td>
<p>the name of the satellite to which the record belongs.</p>
</td></tr>
<tr><td><code id="new_record_+3A_name">name</code></td>
<td>
<p>the name of the record.</p>
</td></tr>
<tr><td><code id="new_record_+3A_date">date</code></td>
<td>
<p>the date of the record.</p>
</td></tr>
<tr><td><code id="new_record_+3A_product">product</code></td>
<td>
<p>the product.</p>
</td></tr>
<tr><td><code id="new_record_+3A_download">download</code></td>
<td>
<p>the url to download the satellite record.</p>
</td></tr>
<tr><td><code id="new_record_+3A_file_path">file_path</code></td>
<td>
<p>the saving directory for the satellite record.</p>
</td></tr>
<tr><td><code id="new_record_+3A_path">path</code></td>
<td>
<p>the path of the tiling system.</p>
</td></tr>
<tr><td><code id="new_record_+3A_row">row</code></td>
<td>
<p>the row of the tiling system.</p>
</td></tr>
<tr><td><code id="new_record_+3A_tileid">tileid</code></td>
<td>
<p>the tile id.</p>
</td></tr>
<tr><td><code id="new_record_+3A_preview">preview</code></td>
<td>
<p>the url of the preview of the satellite record.</p>
</td></tr>
<tr><td><code id="new_record_+3A_api_name">api_name</code></td>
<td>
<p>the api name.</p>
</td></tr>
<tr><td><code id="new_record_+3A_order">order</code></td>
<td>
<p>boolean, defines if the image must be requested or not.</p>
</td></tr>
<tr><td><code id="new_record_+3A_extent_crs">extent_crs</code></td>
<td>
<p>extent (used to project the preview).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>records object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create a new record from scrach
rcds &lt;- new_record(
  sat = "modis",
  name = "mod09a",
  date = as.Date("2011087", "%Y%j"),
  product = "product",
  download = "url/aaa/download",
  file_path = "file_path",
  path = 1,
  row = 1,
  tileid = "exampleid",
  preview = "url",
  api_name = "nasa_inventory",
  order = FALSE
)
rcds

## End(Not run)
</code></pre>

<hr>
<h2 id='new_rtoi'>Creates a new <code>rtoi</code> object</h2><span id='topic+new_rtoi'></span><span id='topic+new_rtoi+2Ccharacter+2Csf+2Ccharacter+2Cmissing+2Cmissing+2Cmissing-method'></span><span id='topic+new_rtoi+2Ccharacter+2Csf+2Ccharacter+2Cmissing+2Cmissing'></span><span id='topic+new_rtoi+2Ccharacter+2Csf+2Ccharacter+2Ccharacter+2Cmissing+2Cmissing-method'></span><span id='topic+character+2Csf+2Ccharacter+2Ccharacter'></span><span id='topic+new_rtoi+2Ccharacter+2Csf+2Ccharacter+2Ccharacter+2Crecords+2Cmissing-method'></span><span id='topic+character+2Csf+2Ccharacter+2Ccharacter+2Crecords'></span><span id='topic+new_rtoi+2Ccharacter+2Csf+2Ccharacter+2Ccharacter+2Crecords+2Cnumeric-method'></span><span id='topic+character+2Csf+2Ccharacter+2Ccharacter+2Crecords+2Csize'></span>

<h3>Description</h3>

<p>Creates a new <code>rtoi</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_rtoi(name, region, rtoi_path, db_path, records, size)

## S4 method for signature 'character,sf,character,missing,missing,missing'
new_rtoi(name, region, rtoi_path)

## S4 method for signature 'character,sf,character,character,missing,missing'
new_rtoi(name, region, rtoi_path, db_path)

## S4 method for signature 'character,sf,character,character,records,missing'
new_rtoi(name, region, rtoi_path, db_path, records)

## S4 method for signature 'character,sf,character,character,records,numeric'
new_rtoi(name, region, rtoi_path, db_path, records, size)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_rtoi_+3A_name">name</code></td>
<td>
<p>the name of the region of interest.</p>
</td></tr>
<tr><td><code id="new_rtoi_+3A_region">region</code></td>
<td>
<p>an sf object.</p>
</td></tr>
<tr><td><code id="new_rtoi_+3A_rtoi_path">rtoi_path</code></td>
<td>
<p>the path to the <code>rtoi</code> folder.</p>
</td></tr>
<tr><td><code id="new_rtoi_+3A_db_path">db_path</code></td>
<td>
<p>the path to the database.</p>
</td></tr>
<tr><td><code id="new_rtoi_+3A_records">records</code></td>
<td>
<p>a records object.</p>
</td></tr>
<tr><td><code id="new_rtoi_+3A_size">size</code></td>
<td>
<p>the size of <code>rtoi</code> folder. By default,
the size is computed from <code>rtoi_path</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the reference of the <code>rtoi</code> object
</p>

<hr>
<h2 id='plot+2Crtoi+2CDate-method'>Plot an <code>rtoi</code> object</h2><span id='topic+plot+2Crtoi+2CDate-method'></span><span id='topic+plot+2Crtoi+2Ccharacter-method'></span><span id='topic+plot+2Ccharacter'></span><span id='topic+plot+2Crecords+2CANY-method'></span><span id='topic+plot+2Crecords'></span><span id='topic+plot+2Crtoi+2Cmissing-method'></span><span id='topic+plot+2Crtoi+2Cmissing'></span>

<h3>Description</h3>

<p>Plot (a map of) the values of an <code>rtoi</code> or <code>records</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'rtoi,Date'
plot(
  x,
  y,
  ...,
  variable = "rgb",
  band_name = c("red", "green", "blue"),
  verbose = FALSE,
  xsize = 250,
  ysize = 250
)

## S4 method for signature 'rtoi,character'
plot(
  x,
  y,
  ...,
  variable = "rgb",
  product = "ALL",
  band_name = c("red", "green", "blue"),
  dates = NULL,
  verbose = FALSE,
  xsize = 250,
  ysize = 250
)

## S4 method for signature 'records,ANY'
plot(x, y, verbose = FALSE, ...)

## S4 method for signature 'rtoi,missing'
plot(x, y, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_x">x</code></td>
<td>
<p>an <code>rtoi</code> or <code>records</code>.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_y">y</code></td>
<td>
<p>character argument. The valid values are &quot;dates&quot;, &quot;preview&quot;, or
&quot;view&quot;.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_variable">variable</code></td>
<td>
<p>character argument. The variable to be plotted. By default,
a color (RGB) variable is selected .</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_band_name">band_name</code></td>
<td>
<p>character vector argument. Enables false color plots. By
default, usual bands are selected <code>c("red","green","blue")</code>.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_verbose">verbose</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function prints the
running steps and warnings.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_xsize">xsize</code></td>
<td>
<p>the number of samples on the horizontal axis.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_ysize">ysize</code></td>
<td>
<p>the number of samples on the vertical axis.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_product">product</code></td>
<td>
<p>character argument. The product name to be plotted.</p>
</td></tr>
<tr><td><code id="plot+2B2Crtoi+2B2CDate-method_+3A_dates">dates</code></td>
<td>
<p>date vector argument. The dates to be plotted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>tmap</code> plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(rsat)
 ## Not run: 

# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

print(navarre)

# plot the calendar
plot(navarre, "dates")



# replace with your own "username" and "password"
set_credentials("username", "password")

# plot the quicklook images before the download
# needs credentials to download preview images
plot(navarre, y = "preview")

# select partially cloud free
rcds &lt;- records(navarre)
rcds &lt;- rcds[dates(rcds) %in% as.Date(c("20210310", "20210313"), "%Y%m%d")]
records(navarre) &lt;- rcds

plot(navarre, "preview")

file.copy(from=system.file("ex/Pamplona",package="rsat"),
         to=tempdir(),
         recursive = TRUE)
# plot already mosaicked rtoi ("view" mode)
pamplona &lt;- read_rtoi(file.path(tempdir(),"Pamplona"))

rsat_list_data(pamplona)

# plot can compute the rgb image on the fly from mosaicek bands
plot(pamplona, "view", product="mod09ga")

# plot on the fly with false color
plot(pamplona, "view",
     product = "mod09ga",
     band_name = c("nir", "red", "green"))

file.copy(from=system.file("ex/PamplonaDerived",package="rsat"),
         to=tempdir(),
         recursive = TRUE)
# plot already mosaicked rtoi ("view" mode)
pamplona.derived &lt;- read_rtoi(file.path(tempdir(),"PamplonaDerived"))

rsat_list_data(pamplona.derived)

# plot derived variables
plot(pamplona.derived, "view",
     product = "mod09ga",
     variable = "NDVI")

# Set the max and min value in plot
plot(pamplona.derived,"view",
     variable="NDVI",
     product="mod09ga",
     zlim=c(0,1))

## End(Not run)
</code></pre>

<hr>
<h2 id='print_credentials'>Prints the credentials for the web services</h2><span id='topic+print_credentials'></span><span id='topic+print_credentials+2CANY-method'></span>

<h3>Description</h3>

<p>Prints the credentials for the web services
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_credentials(...)

## S4 method for signature 'ANY'
print_credentials()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print_credentials_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>print the credentials asigned in the package environment variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print_credentials()
set_credentials("example", "example", "earthdata")
print_credentials()
</code></pre>

<hr>
<h2 id='print+2Capi_dataspace-method'>Prints the values</h2><span id='topic+print+2Capi_dataspace-method'></span><span id='topic+print+2Capi'></span><span id='topic+print+2Capi_lpdaac-method'></span><span id='topic+print+2Capi_usgs-method'></span><span id='topic+print+2Cextent_crs-method'></span><span id='topic+print+2Cextent_crs'></span><span id='topic+print+2Crecords-method'></span><span id='topic+print+2Crecords'></span><span id='topic+print+2Crtoi-method'></span><span id='topic+print+2Cvariables-method'></span>

<h3>Description</h3>

<p>prints an object and returns it invisibly (via invisible(x)).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'api_dataspace'
print(x)

## S4 method for signature 'api_lpdaac'
print(x)

## S4 method for signature 'api_usgs'
print(x)

## S4 method for signature 'extent_crs'
print(x)

## S4 method for signature 'records'
print(x)

## S4 method for signature 'rtoi'
print(x)

## S4 method for signature 'variables'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print+2B2Capi_dataspace-method_+3A_x">x</code></td>
<td>
<p>an object to be printed..</p>
</td></tr>
<tr><td><code id="print+2B2Capi_dataspace-method_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prints rtoi metadata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)

# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

print(navarre)

# get records
rcrds &lt;- records(navarre)

print(rcrds)

## End(Not run)
</code></pre>

<hr>
<h2 id='product'>Get the name of the product from a <code>records</code> or an <code>rtoi</code></h2><span id='topic+product'></span><span id='topic+product+2Crecords-method'></span><span id='topic+product+2Crecords'></span><span id='topic+product+2Crtoi-method'></span><span id='topic+product+2Crtoi'></span>

<h3>Description</h3>

<p>Get the name of the product from a <code>records</code> or an <code>rtoi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>product(x)

## S4 method for signature 'records'
product(x)

## S4 method for signature 'rtoi'
product(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="product_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the name of the product in the records
</p>

<hr>
<h2 id='read_rtoi'>Reads an rtoi from the hard drive</h2><span id='topic+read_rtoi'></span><span id='topic+read_rtoi+2Ccharacter-method'></span><span id='topic+read_rtoi+2Ccharacter'></span>

<h3>Description</h3>

<p>Reads an rtoi from the hard drive
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_rtoi(path, ...)

## S4 method for signature 'character'
read_rtoi(path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_rtoi_+3A_path">path</code></td>
<td>
<p>an rtoi object.</p>
</td></tr>
<tr><td><code id="read_rtoi_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>rtoi object readed from disk.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)

# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))
print(navarre)

## End(Not run)
</code></pre>

<hr>
<h2 id='records'>Extracts the satellite records</h2><span id='topic+records'></span><span id='topic+records+2Crtoi-method'></span><span id='topic+records+2Crtoi'></span><span id='topic+records+3C-'></span><span id='topic+records+3C-+2Crtoi+2Crecords-method'></span><span id='topic+records+3C-+2Crtoi+2Crecords'></span>

<h3>Description</h3>

<p>returns the object records from an rtoi.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>records(x)

## S4 method for signature 'rtoi'
records(x)

records(x) &lt;- value

## S4 replacement method for signature 'rtoi,records'
records(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="records_+3A_x">x</code></td>
<td>
<p>an rtoi object</p>
</td></tr>
<tr><td><code id="records_+3A_value">value</code></td>
<td>
<p>a records object to be set to x.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a set of records in x rtoi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#' library(rsat)
# create a copy of navarre
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)
# load example rtoi
navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))
print(navarre)

rcrds &lt;- records(navarre)

records(navarre)&lt;-rcrds[1]
print(navarre)

records(navarre) &lt;- rcrds
print(navarre)
unlink(file.path(tempdir(),"Navarre"),recursive=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='records-class'>A class object for satellite image metadata</h2><span id='topic+records-class'></span>

<h3>Description</h3>

<p>This class object organizes the attributes of satellite images' metadata
from several missions/programs uniformly. Structuring the information
facilitates managing, previewing, and downloading data records.
</p>


<h3>Details</h3>

<p><code>records</code> works as vector. It accepts usual R methods such as
<code>c</code>, <code>[]</code>, <code>length()</code>, <code>subset()</code> or <code>unique()</code>.
Each record (vector element) contains several parameters or slots.
</p>
<p>The object can be coerced into a <code>data.frame</code> by
using the function <code>as.data.frame()</code>. The <code>data.frame</code> can
be transformed back into a <code>records</code> with the function
<code>as.records()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>sat</code></dt><dd><p>the name of the satellite.</p>
</dd>
<dt><code>name</code></dt><dd><p>the name of the file.</p>
</dd>
<dt><code>date</code></dt><dd><p>capturing date of the image.</p>
</dd>
<dt><code>product</code></dt><dd><p>name of the data product.</p>
</dd>
<dt><code>path</code></dt><dd><p>the path of the tiling system.</p>
</dd>
<dt><code>row</code></dt><dd><p>the row of the tiling system.</p>
</dd>
<dt><code>tileid</code></dt><dd><p>the tile identification number.</p>
</dd>
<dt><code>download</code></dt><dd><p>the download url.</p>
</dd>
<dt><code>file_path</code></dt><dd><p>the saving directory for the satellite record.</p>
</dd>
<dt><code>preview</code></dt><dd><p>the preview url.</p>
</dd>
<dt><code>api_name</code></dt><dd><p>the name of the API.</p>
</dd>
<dt><code>order</code></dt><dd><p>boolean, whether the image needs to be ordered.</p>
</dd>
<dt><code>extent_crs</code></dt><dd><p>coordinate reference system of the preview.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)
# create a copy of navarre
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

rcrds &lt;- records(navarre)

modis.rcrds &lt;- rcrds[sat_name(rcrds)%in%"Modis"]
ls8.rcrds &lt;- rcrds[sat_name(rcrds)%in%"Landsat-8"]

class(modis.rcrds)
dates(ls8.rcrds)
modis.ls8.records &lt;- c(ls8.rcrds, modis.rcrds)

print(modis.ls8.records)

## End(Not run)
</code></pre>

<hr>
<h2 id='region'>Extracts region from an rtoi</h2><span id='topic+region'></span><span id='topic+region+2Crtoi-method'></span><span id='topic+region+2Crtoi'></span><span id='topic+region+3C-'></span><span id='topic+region+3C-+2Crtoi'></span><span id='topic+region+3C-+2Crtoi+2Csf-method'></span><span id='topic+region+3C-+2Crtoi+2Csf'></span><span id='topic+region+3C-+2Crtoi+2CNULL-method'></span><span id='topic+region+3C-+2Crtoi+2CNULL'></span>

<h3>Description</h3>

<p>gets the sf that specifies the region of an rtoi.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>region(x)

## S4 method for signature 'rtoi'
region(x)

region(x) &lt;- value

## S4 replacement method for signature 'rtoi,sf'
region(x) &lt;- value

## S4 replacement method for signature 'rtoi,'NULL''
region(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="region_+3A_x">x</code></td>
<td>
<p>an rtoi object.</p>
</td></tr>
<tr><td><code id="region_+3A_value">value</code></td>
<td>
<p>an sf object to define the region in x.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the sf class with the region of an rtoi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)
# create a copy of navarre
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the region from rtoi
sf.obj &lt;-  region(navarre)
plot(sf.obj)

# asign new region value
region(navarre)&lt;-NULL

region(navarre)&lt;-sf.obj

## End(Not run)
</code></pre>

<hr>
<h2 id='rename'>Renames an <code>rtoi</code></h2><span id='topic+rename'></span><span id='topic+rename+2Crtoi+2Ccharacter-method'></span><span id='topic+rename+2Crtoi+2Ccharacter'></span>

<h3>Description</h3>

<p>Renames all parameters and folder name of an <code>rtoi</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename(x, newname)

## S4 method for signature 'rtoi,character'
rename(x, newname)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_+3A_x">x</code></td>
<td>
<p>an rtoi object</p>
</td></tr>
<tr><td><code id="rename_+3A_newname">newname</code></td>
<td>
<p>a character class to rename the <code>rtoi</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing. the  changes the internal name of the rtoi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
myrtoi &lt;- read_rtoi("file_path/rtoir_name")
rename(myrtoi, "Navarre_BACK")

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat'>&lsquo;rsat&rsquo;</h2><span id='topic+rsat'></span>

<h3>Description</h3>

<p>The goal of 'rsat' is to help you handling time-series of satellite
images from multiple platforms in a local, efficient, and standardized
way. The package provides tools to;
</p>

<ol>
<li><p> Search (run <code>vignette("rsat1_search", package = "rsat")</code>)
</p>
</li>
<li><p> Download (run <code>vignette("rsat2_download", package = "rsat")</code>)
</p>
</li>
<li><p> Customize, and (run <code>vignette("rsat3_customize", package = "rsat")</code>)
</p>
</li>
<li><p> Process (run <code>vignette("rsat4_process", package = "rsat")</code>)
</p>
</li></ol>

<p>satellite images from Landsat, MODIS, and Sentinel for a region and time
of interest.
</p>


<h3>Registration</h3>

<p>The registration in the following online portals is required to get a
full access to satellite images with 'rsat';
</p>

<ul>
<li> <p><a href="https://ers.cr.usgs.gov/register">USGS</a> USGS is the sole
science agency for the Department of the Interior of United States.
Provide access to Modis Images. More information about EarthData
can be found <a href="https://www.usgs.gov">Here</a>.
</p>
</li>
<li> <p><a href="https://urs.earthdata.nasa.gov">EarthData</a>: A repository
of NASA's earth observation data-sets. More information about
EarthData can be found
<a href="https://www.earthdata.nasa.gov/learn">here</a>.
</p>
</li>
<li> <p><a href="https://dataspace.copernicus.eu/">dataspace</a>,
a web service giving access to Copernicus' scientific data hub.
Please go <a href="https://dataspace.copernicus.eu/">here</a> to find more
details about the data hub.
</p>
</li></ul>

<p>For convenience, try to use the same username and password for all of them.
To satisfy the criteria of all web services make sure that the username is 4
characters long and includes a period, number or underscore. The password must
be 12 character long and should include characters with at least one capital
letter, and numbers.
</p>


<h3>Contributing</h3>

<p>If you want to contribute by adding new features or fixing bugs in the package you can do it from our github address:
<a href="https://github.com/spatialstatisticsupna/rsat">https://github.com/spatialstatisticsupna/rsat</a>
Bug report: <a href="https://github.com/spatialstatisticsupna/rsat/issues">https://github.com/spatialstatisticsupna/rsat/issues</a>
</p>

<hr>
<h2 id='rsat_cloudMask'>Create cloud mask from an rtoi</h2><span id='topic+rsat_cloudMask'></span><span id='topic+rsat_cloudMask+2Crtoi-method'></span><span id='topic+cloud_mask+2Crtoi'></span>

<h3>Description</h3>

<p>Create cloud mask from an rtoi
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_cloudMask(x, ...)

## S4 method for signature 'rtoi'
rsat_cloudMask(x, products = "ALL", verbose = FALSE, overwrite = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_cloudMask_+3A_x">x</code></td>
<td>
<p>rtoi object from which cloud masks are computed.</p>
</td></tr>
<tr><td><code id="rsat_cloudMask_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="rsat_cloudMask_+3A_products">products</code></td>
<td>
<p>the name of the dataset from which cloud masks are computed.</p>
</td></tr>
<tr><td><code id="rsat_cloudMask_+3A_verbose">verbose</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function prints the
running steps and warnings.</p>
</td></tr>
<tr><td><code id="rsat_cloudMask_+3A_overwrite">overwrite</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, overwrites the existing
images with the same name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing. The cloud masks will be save in the hard drive.
Use get_stars to get the variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Smooth data in rtoi
library(rsat)

# create a copy of pamplona in temp file
file.copy(from=system.file("ex/Pamplona",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
pamplona &lt;- read_rtoi(file.path(tempdir(),"Pamplona"))

rsat_cloudMask(pamplona)

rsat_list_data(pamplona)

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat_derive'>Computes a remote sensing index from an <code>rtoi</code></h2><span id='topic+rsat_derive'></span><span id='topic+rsat_derive+2Crtoi+2Ccharacter-method'></span><span id='topic+rsat_derive+2Crtoi+2Ccharacter'></span>

<h3>Description</h3>

<p>Combines the bands from multispectral satellite products through simple
math to highlight a process or material in the image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_derive(x, variable, ...)

## S4 method for signature 'rtoi,character'
rsat_derive(
  x,
  variable,
  product,
  dates,
  fun,
  overwrite = FALSE,
  verbose = FALSE,
  suppressWarnings = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_derive_+3A_x">x</code></td>
<td>
<p>an <code>rtoi</code> as the source of images.</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_variable">variable</code></td>
<td>
<p>the name of the variable.</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_...">...</code></td>
<td>
<p>additional argument for variable deriving</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_product">product</code></td>
<td>
<p>the name of the product from which the index is computed.</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_dates">dates</code></td>
<td>
<p>a vector of dates being considered (optional).</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_fun">fun</code></td>
<td>
<p>a <code>function</code> that computes the remote sensing index.</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_overwrite">overwrite</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, overwrites the existing
images with the same name.</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_verbose">verbose</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function prints the
running steps and warnings.</p>
</td></tr>
<tr><td><code id="rsat_derive_+3A_suppresswarnings">suppressWarnings</code></td>
<td>
<p>evaluates its expression in a context that ignores all warnings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The package contemplates some pre-defined indexes, which can be displayed
using the <code>show_variables()</code> function. To compute one of those, write
its name in the <code>variable</code> argument. Custom indexes can be
supplied through the <code>fun</code> argument. The function should use the
name of the bands as inputs (red, green, blue, nir, swir1, or swir2) and
return a single element. For instance, the Normalized Difference Snow
Index would be;
</p>
<p>NDSI = function(green, swir1){
ndsi &lt;- (green - swir1)/(green + swir1)
return(ndsi)
}
</p>


<h3>Value</h3>

<p>nothing. The derived variables will be save in the hard drive.
Use get_stars to get the variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)

# create a copy of pamplona in temp file
file.copy(from=system.file("ex/Pamplona",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
pamplona &lt;- read_rtoi(file.path(tempdir(),"Pamplona"))

rsat_list_data(pamplona)
# show prefedined varibles
show_variables()
rsat_derive(pamplona, "NDVI", product = "mod09ga")
# now NDVI is processed
rsat_list_data(pamplona)

# ad-hoc variable
NDSI = function(green, swir1){
  ndsi &lt;- (green - swir1)/(green + swir1)
  return(ndsi)
}
rsat_derive(pamplona, "NDSI", product = "mod09ga",fun=NDSI)
# now NDVI is processed
rsat_list_data(pamplona)
plot(pamplona, product="mod09ga",variable="NDSI")

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat_download'>Download the images from a <code>records</code> or an <code>rtoi</code> object</h2><span id='topic+rsat_download'></span><span id='topic+rsat_download+2Crtoi-method'></span><span id='topic+rsat_download+2Crtoi'></span><span id='topic+rsat_download+2Crecords-method'></span><span id='topic+rsat_download+2Crecords'></span>

<h3>Description</h3>

<p>The function saves the raw images in the database or the specified directory.
It skips the images that already exist in the database or directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_download(x, ...)

## S4 method for signature 'rtoi'
rsat_download(x, db_path, verbose = FALSE, ...)

## S4 method for signature 'records'
rsat_download(x, db_path, verbose = FALSE, parallel = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_download_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="rsat_download_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
<tr><td><code id="rsat_download_+3A_db_path">db_path</code></td>
<td>
<p>path to the database. By default, the path
is defined by the <code>rtoi</code>.</p>
</td></tr>
<tr><td><code id="rsat_download_+3A_verbose">verbose</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function prints the
running steps and warnings.</p>
</td></tr>
<tr><td><code id="rsat_download_+3A_parallel">parallel</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function downloads from
multiples APIs in parallel.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing. Downloads the images into your database
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)

# create a copy of navarre in temp file
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# assign the path of the database
set_database(file.path(tempdir(),"DATABASE"))
rsat_download(navarre)

rcrds &lt;-  records(navarre)

rsat_download(rcrds)

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat_get_raster'>Loads into R a time series of images regarding an rtoi, satellite product,
and remote sensing index.</h2><span id='topic+rsat_get_raster'></span><span id='topic+rsat_get_raster+2Crtoi-method'></span><span id='topic+rsat_get_raster+2Crtoi'></span><span id='topic+rsat_get_SpatRaster'></span><span id='topic+rsat_get_SpatRaster+2Crtoi-method'></span><span id='topic+rsat_get_SpatRaster+2Crtoi'></span><span id='topic+rsat_get_stars'></span><span id='topic+rsat_get_stars+2Crtoi-method'></span><span id='topic+rsat_get_stars+2Crtoi'></span>

<h3>Description</h3>

<p>Loads into R a time series of images regarding an rtoi, satellite product,
and remote sensing index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_get_raster(x, p, v, s, ...)

## S4 method for signature 'rtoi'
rsat_get_raster(x, p, v, s, ...)

rsat_get_SpatRaster(x, p, v, s, ...)

## S4 method for signature 'rtoi'
rsat_get_SpatRaster(x, p, v, s, ...)

rsat_get_stars(x, p, v, s, ...)

## S4 method for signature 'rtoi'
rsat_get_stars(x, p, v, s, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_get_raster_+3A_x">x</code></td>
<td>
<p>an rtoi.</p>
</td></tr>
<tr><td><code id="rsat_get_raster_+3A_p">p</code></td>
<td>
<p>a character with the name of the satellite data product.</p>
</td></tr>
<tr><td><code id="rsat_get_raster_+3A_v">v</code></td>
<td>
<p>a character with the name of the index.</p>
</td></tr>
<tr><td><code id="rsat_get_raster_+3A_s">s</code></td>
<td>
<p>a character with the name of the stage wanted.</p>
</td></tr>
<tr><td><code id="rsat_get_raster_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a raster stack.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)
# load example rtoi
file.copy(from=system.file("ex/PamplonaDerived",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
pamplona.derived &lt;- read_rtoi(file.path(tempdir(),"PamplonaDerived"))

# print available variables
rsat_list_data(pamplona.derived)

# get RasterStack from raster package
suppressWarnings(mod.ndvi.raster &lt;-
           rsat_get_raster(pamplona.derived, "mod09ga", "NDVI"))
plot(mod.ndvi.raster)

# get spatraster from terra package
mod.ndvi.rast &lt;- rsat_get_SpatRaster(pamplona.derived, "mod09ga", "NDVI")
plot(mod.ndvi.rast)

# get stars from stars package
suppressWarnings(mod.ndvi.stars &lt;-
rsat_get_stars(pamplona.derived, "mod09ga", "NDVI"))
plot(mod.ndvi.stars)


## get any band in rtoi
# list available data
rsat_list_data(pamplona.derived)
# select band 1: MODIS_Grid_500m_2D_sur_refl_b01_1
mod.ndvi.rast &lt;- rsat_get_SpatRaster(pamplona.derived,
                                     "mod09ga",
                                     "MODIS_Grid_500m_2D_sur_refl_b01_1")
plot(mod.ndvi.rast)

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat_list_data'>List the information available for an <code>rtoi</code></h2><span id='topic+rsat_list_data'></span><span id='topic+rsat_list_data+2Crtoi-method'></span><span id='topic+rsat_list_data+2Crtoi'></span>

<h3>Description</h3>

<p>Displays the existing products, bands,
and processing levels for a given <code>rtoi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_list_data(x, ...)

## S4 method for signature 'rtoi'
rsat_list_data(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_list_data_+3A_x">x</code></td>
<td>
<p>an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="rsat_list_data_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> of the available information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

print(navarre)

# print empty rtoi
rsat_list_data(navarre)

file.copy(from=system.file("ex/Pamplona",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
pamplona &lt;- read_rtoi(file.path(tempdir(),"Pamplona"))

print(pamplona)

rtoi.data &lt;- rsat_list_data(pamplona)
# print mosaicked bands
print(rtoi.data)

# print mosaicked bands + derived NDVI
file.copy(from=system.file("ex/PamplonaDerived",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
pamplona.derived &lt;- read_rtoi(file.path(tempdir(),"PamplonaDerived"))
rsat_list_data(pamplona.derived)

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat_mosaic'>Mosaic the tiles intersecting the region of interest</h2><span id='topic+rsat_mosaic'></span><span id='topic+rsat_mosaic+2Crtoi-method'></span><span id='topic+rsat_mosaic+2Csf+2Ccharacter'></span><span id='topic+rsat_mosaic+2Crecords-method'></span><span id='topic+rsat_mosaic+2Crecords'></span>

<h3>Description</h3>

<p>Satellite measurements are divided into indivisible units called tiles. The
mosaic function binds and crops the tiles to generate a single image
of the region of interest for each date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_mosaic(x, ...)

## S4 method for signature 'rtoi'
rsat_mosaic(x, ...)

## S4 method for signature 'records'
rsat_mosaic(
  x,
  out_path,
  db_path,
  bfilter = c(),
  warp = "extent",
  region,
  overwrite = FALSE,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_mosaic_+3A_x">x</code></td>
<td>
<p>an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_out_path">out_path</code></td>
<td>
<p>path to save the mosaicked images. By default, the path
is defined by <code>x</code>.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_db_path">db_path</code></td>
<td>
<p>path to the database. By default, the path
is defined by <code>x</code>.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_bfilter">bfilter</code></td>
<td>
<p>a vector of bands to. If not supplied, all are used.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_warp">warp</code></td>
<td>
<p>character. If equal to &quot;extent&quot;, it also crops the images
around the <code>rtoi</code>. Use &quot;&quot; otherwise.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_region">region</code></td>
<td>
<p>an sf object. Region for cropping the images around.
By default, the path is defined by <code>x</code>.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_overwrite">overwrite</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, overwrites the existing
images with the same name.</p>
</td></tr>
<tr><td><code id="rsat_mosaic_+3A_verbose">verbose</code></td>
<td>
<p>boolean. If TRUE show verbose output. Default FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing. Mosaics the downloaded images and stored them on the hard disk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)

# load navarre sf from the package
data(ex.navarre)

# set the credentials
set_credentials("username", "password")

# path where the region is stored
rtoi.path &lt;- tempdir()
# path where downloads are stored
db.path &lt;- file.path(tempdir(), "DATABASE")
navarre &lt;- new_rtoi(
  "Navarre",
  ex.navarre,
  rtoi.path,
  db.path
) #'
# Landsat-5
rsat_search(
  region = navarre,
  product = "LANDSAT_TM_C1",
  dates = as.Date("1988-08-01") + seq(1, 35)
)
rsat_download(navarre)

rsat_mosaic(navarre, overwrite = T)

rsat_list_data(navarre)

## End(Not run)

</code></pre>

<hr>
<h2 id='rsat_preview'>Preview a <code>records</code> or an <code>rtoi</code> object</h2><span id='topic+rsat_preview'></span><span id='topic+rsat_preview+2Crtoi+2CDate-method'></span><span id='topic+rsat_preview+2Crtoi+2Cdate'></span><span id='topic+rsat_preview+2Crtoi+2Cmissing-method'></span><span id='topic+rsat_preview+2Crtoi+2Cmissing'></span><span id='topic+rsat_preview+2Crecords+2CDate-method'></span><span id='topic+rsat_preview+2Crecords+2Cdate'></span><span id='topic+rsat_preview+2Crecords+2Cnumeric-method'></span><span id='topic+rsat_preview+2Crtoi+2Cnumeric'></span>

<h3>Description</h3>

<p>Preview a <code>records</code> or an <code>rtoi</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_preview(x, n, ...)

## S4 method for signature 'rtoi,Date'
rsat_preview(x, n, lpos = c(3, 2, 1), add.layer = FALSE, verbose = FALSE, ...)

## S4 method for signature 'rtoi,missing'
rsat_preview(x, n, lpos = c(3, 2, 1), add.layer = FALSE, verbose = FALSE, ...)

## S4 method for signature 'records,Date'
rsat_preview(
  x,
  n,
  lpos = c(3, 2, 1),
  tmp_dir = file.path(tempdir()),
  add.layer = FALSE,
  verbose = FALSE,
  get.map = TRUE,
  ...
)

## S4 method for signature 'records,numeric'
rsat_preview(
  x,
  n,
  lpos = c(3, 2, 1),
  tmp_dir = file.path(tempdir()),
  add.layer = FALSE,
  verbose = FALSE,
  get.map = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_preview_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="rsat_preview_+3A_n">n</code></td>
<td>
<p>the date expressed as the temporal index in the time series.</p>
</td></tr>
<tr><td><code id="rsat_preview_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="rsat_preview_+3A_lpos">lpos</code></td>
<td>
<p>vector argument. Defines the position of the red-green-blue
layers to enable a false color visualization.</p>
</td></tr>
<tr><td><code id="rsat_preview_+3A_add.layer">add.layer</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function plots the
image on an existing map.</p>
</td></tr>
<tr><td><code id="rsat_preview_+3A_verbose">verbose</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function prints the
running steps and warnings.</p>
</td></tr>
<tr><td><code id="rsat_preview_+3A_tmp_dir">tmp_dir</code></td>
<td>
<p>character argument. The directory where preview images
are located.</p>
</td></tr>
<tr><td><code id="rsat_preview_+3A_get.map">get.map</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function
return the leaflet map.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing. Previews the region in the viewer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)

# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

set_credentials("username", "password")
set_database(file.path(tempdir(), "DATABASE"))

# by default the first date in rtoi is previewed
rsat_preview(navarre)


preview.dates &lt;- dates(navarre)
# use add.layer to preview images of several days
rsat_preview(navarre,preview.dates[2],add.layer = TRUE)

# you can also preview records
rcrds &lt;- records(navarre)
rsat_preview(rcrds, n = 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat_products'>Show the products accepted by the services</h2><span id='topic+rsat_products'></span><span id='topic+rsat_products+2CANY-method'></span>

<h3>Description</h3>

<p>Show the products accepted by the services
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_products(...)

## S4 method for signature 'ANY'
rsat_products()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_products_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prints a list of products
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rsat_products()
</code></pre>

<hr>
<h2 id='rsat_search'>Search satellite images</h2><span id='topic+rsat_search'></span><span id='topic+rsat_search+2Crtoi+2Ccharacter-method'></span><span id='topic+rsat_search+2Crtoi+2Ccharacter'></span><span id='topic+rsat_search+2Csf+2Ccharacter-method'></span><span id='topic+rsat_search+2Csf+2Ccharacter'></span>

<h3>Description</h3>

<p>Search satellite images concerning a particular location, data product, and
date interval. The function returns a <code>records</code> object if the
<code>region</code> is a <code>sf</code>. If an <code>rtoi</code> is used, the
function returns nothing and the records are added to the <code>rtoi</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_search(region, product, ...)

## S4 method for signature 'rtoi,character'
rsat_search(region, product, verbose = FALSE, ...)

## S4 method for signature 'sf,character'
rsat_search(region, product, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_search_+3A_region">region</code></td>
<td>
<p>a <code>Spatial*</code>, <code>Raster*</code>, <code>sf</code> or <code>rtoi</code>
class objects defining the region of interest.</p>
</td></tr>
<tr><td><code id="rsat_search_+3A_product">product</code></td>
<td>
<p>a character vector of product names.</p>
</td></tr>
<tr><td><code id="rsat_search_+3A_...">...</code></td>
<td>
<p>additional arguments for searching</p>
</td></tr>
<tr><td><code id="rsat_search_+3A_verbose">verbose</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function prints the
running steps and warnings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MODIS images are found through the
<a href="https://lpdaac.usgs.gov/">NASA Common
Metadata Repository</a>
(CMR). The inventory of MODIS products can be found
<a href="https://modis.gsfc.nasa.gov/data/dataprod/">here</a>.
The catalog shows the product short names and detailed information.
MODIS surface reflectance products are named &lsquo;mod09ga&rsquo; and &lsquo;myd09ga&rsquo; for
Terra and Aqua satellites. By the time <code>rsat</code> is
released, NASA carries out the maintenance of its website on Wednesdays,
which may cause an error when connecting to their server.
</p>
<p>We use <a href="https://scihub.copernicus.eu/">ESA's powered API</a> (&lsquo;SciHub&rsquo;) to
find Sentinel images. The catalog of Sentinel-2 and -3 products can be found
<a href="https://sentinel.esa.int/web/sentinel/missions/sentinel-2/data-products">here</a>
and
<a href="https://sentinels.copernicus.eu/web/sentinel/missions/sentinel-3/data-products">here</a>,
respectively. Sentinel-2 and -3 surface reflectance product names are
referred to as &lsquo;S2MSI2A&rsquo; and &lsquo;SY_2_SYN___&rsquo;.
</p>
<p>Landsat images are accessed via the
<a href="https://m2m.cr.usgs.gov/">Machine-to-Machine API</a>.
Details about the Landsat products can be found
<a href="https://www.usgs.gov/landsat-missions/product-information">here</a>.
The names of Landsat products are &lsquo;LANDSAT_TM_C1&rsquo;, &lsquo;LANDSAT_ETM_C1&rsquo;, and
&lsquo;LANDSAT_8_C1&rsquo; for missions 4-5, 7, and 8.
</p>


<h3>Value</h3>

<p>nothing if x is an rtoi, records class if you search a region.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rsat)
set_credentials("username", "password")

# search navarre images using sf
record.list &lt;- rsat_search(
  region = ex.navarre,
  product = "mod09ga",
  dates = as.Date("2011-01-01") + seq(1, 10, 1)
)

# creating a new rtoi
rtoi.path &lt;- tempdir()
navarre &lt;- new_rtoi(
  "Navarre", # name of the region
  ex.navarre, # sf of the region
  rtoi.path
) # path for the rtoi

# see the number of records in navarre
print(navarre)

# search modis images using rtoi
rsat_search(
  region = navarre,
  product = "mod09ga",
  dates = as.Date("2011-01-01") + seq(1, 10, 1)
)

# see the number of records in navarre
print(navarre)

# search landsat images using rtoi
rsat_search(
  region = navarre,
  product = "LANDSAT_8_C1",
  dates = as.Date("2016-01-01") + seq(1, 30, 1)
)

# see the number of records in navarre
print(navarre)

# search sentinel-2 (level 1 and level 2) images using rtoi
rsat_search(
  region = navarre,
  product = c("S2MSI1C", "S2MSI2A"),
  dates = as.Date("2016-01-01") + seq(1, 30, 1)
)

# see the number of records in navarre
print(navarre)

# search sentinel-3 level-2 images using rtoi
rsat_search(
  region = navarre,
  product = "OL_2_LFR___",
  dates = as.Date("2019-01-01") + seq(1, 2, 1)
)

# search sentinel-1 level-2 images using rtoi
rsat_search(
  region = navarre,
  product = "GRD",
  dates = as.Date("2019-01-01") + seq(1, 2, 1)
)

# search Landsat-5 images using rtoi
rsat_search(
  region = navarre,
  product = "LANDSAT_TM_C1",
  dates = as.Date("1988-08-01") + seq(1, 35)
)

print(navarre)

# get all records from rtoi
navarre.records &lt;- records(navarre)

print(navarre.records)

## End(Not run)
</code></pre>

<hr>
<h2 id='rsat_smoothing_images'>Fill data gaps and smooth outliers in a time series of satellite images</h2><span id='topic+rsat_smoothing_images'></span><span id='topic+rsat_smoothing_images+2Crtoi+2Ccharacter-method'></span><span id='topic+rsat_smoothing_images+2Crtoi+2Ccharacter'></span><span id='topic+rsat_smoothing_images+2CSpatRaster+2Ccharacter-method'></span>

<h3>Description</h3>

<p><code>apply_ima</code> is the implementation of a spatio-temporal method
called Interpolation of Mean Anomalies(IMA) for gap filling and smoothing
satellite data (Militino et al. 2019).
<code>smoothing_images</code> is the implementation of a spatio temporal method
called image mean anomaly (IMA) for gap filling and smoothing satellite
data (Militino et al. 2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsat_smoothing_images(x, method, ...)

## S4 method for signature 'rtoi,character'
rsat_smoothing_images(
  x,
  method,
  product = "ALL",
  satellite = "ALL",
  stage = "ALL",
  variable = "ALL",
  test.mode = FALSE,
  ...
)

## S4 method for signature 'SpatRaster,character'
rsat_smoothing_images(x, method, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsat_smoothing_images_+3A_x">x</code></td>
<td>
<p><code>rtoi</code> or <code>RastespatRaster</code> containing
a time series of satellite images.</p>
</td></tr>
<tr><td><code id="rsat_smoothing_images_+3A_method">method</code></td>
<td>
<p>character argument. Defines the method used
for processing the images, e.a. &quot;IMA&quot;.</p>
</td></tr>
<tr><td><code id="rsat_smoothing_images_+3A_...">...</code></td>
<td>
<p>arguments for nested functions:
</p>

<ul>
<li> <p><code>Img2Fill</code>  a <code>vector</code> defining the
images to be filled/smoothed.
</p>
</li>
<li> <p><code>r.dates</code> a <code>vector</code> of dates for the layers in <code>x</code>.
Mandatory when layer names of <code>x</code> do not contain their
capturing dates
&quot;<code>YYYYJJJ</code>&quot; format.
</p>
</li>
<li> <p><code>nDays</code> a <code>numeric</code> argument with the number
of previous and subsequent days of the temporal neighborhood.
</p>
</li>
<li> <p><code>nYears</code> a <code>numeric</code> argument with the number
of previous and subsequent years of the temporal neighborhood.
</p>
</li>
<li> <p><code>aFilter</code> a <code>vector</code> of lower and upper
quantiles defining the outliers in the anomalies. Ex. c(0.05,0.95).
</p>
</li>
<li> <p><code>fact</code> a <code>numeric</code> argument specifying the aggregation
factor of the anomalies.
</p>
</li>
<li> <p><code>fun</code> a <code>function</code> used to aggregate the
image of anomalies. Both <code>mean</code> (default) or <code>median</code> are
accepted.
</p>
</li>
<li> <p><code>snow.mode</code> logical argument. If <code>TRUE</code>,
the process is parallelized using the functionalities from the '
<code>raster</code>' package.
</p>
</li>
<li> <p><code>predictSE</code> calculate the standard error instead
the prediction.
</p>
</li>
<li> <p><code>factSE</code> the <code>fact</code> used in the standard error
prediction.
</p>
</li>
<li> <p><code>out.name</code> the name of the folder containing the
smoothed/filled images when saved in the Hard Disk Device (HDD).
</p>
</li>
<li> <p><code>only.na</code> logical argument. If <code>TRUE</code>
only fills the <code>NA</code> values.
<code>FALSE</code>  by default.
</p>
</li></ul>
</td></tr>
<tr><td><code id="rsat_smoothing_images_+3A_product">product</code></td>
<td>
<p>character argument. The name of the product to
be processed. Check the name of the parameter with <code><a href="#topic+rsat_list_data">rsat_list_data</a></code>
function. Check the name of the parameter with
<code><a href="#topic+rsat_list_data">rsat_list_data</a></code> function. By default, &quot;ALL&quot;.</p>
</td></tr>
<tr><td><code id="rsat_smoothing_images_+3A_satellite">satellite</code></td>
<td>
<p>character argument. The name of the satellite to
be processed. Check the name of the parameter with
<code><a href="#topic+rsat_list_data">rsat_list_data</a></code> function. By default, &quot;ALL&quot;.</p>
</td></tr>
<tr><td><code id="rsat_smoothing_images_+3A_stage">stage</code></td>
<td>
<p>character argument. The name of the processed stage
of the data. Check the name of the parameter with
<code><a href="#topic+rsat_list_data">rsat_list_data</a></code> function. By default, &quot;ALL&quot;.</p>
</td></tr>
<tr><td><code id="rsat_smoothing_images_+3A_variable">variable</code></td>
<td>
<p>character argument.The name of the variable to
be processed. Check the name of the parameter with
<code><a href="#topic+rsat_list_data">rsat_list_data</a></code> function. By default, &quot;ALL&quot;.</p>
</td></tr>
<tr><td><code id="rsat_smoothing_images_+3A_test.mode">test.mode</code></td>
<td>
<p>logical argument. If <code>TRUE</code>, the function runs some
lines to test <code>rsat_smoothing_images</code> with rtoi object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This filling/smoothing method was developed by
Militino et al. (2019). IMA fills the gaps
borrowing information from an adaptable temporal neighborhood. Two
parameters determine the size of the neighborhood; the number of days
before and after the target image (<code>nDays</code>) and the number of previous
and subsequent years (<code>nYears</code>). Both parameters should be adjusted
based on the temporal resolution of the of the time-series of images. We
recommend that the neighborhood extends over days rather than years, when
there is little resemblance between seasons. Also, cloudy series may require
larger neighborhoods.
</p>
<p>IMA gives the following steps; (1) creates a representative image from the
temporal neighborhood of the target image (image to be filled/smoothed) e.g.,
doing the mean, median, etc. for each pixel's time-series (<code>fun</code>), (2)
the target and representative images are subtracted giving an image of
anomalies, (3) the anomalies falling outside the quantile limits
(<code>aFilter</code>) are considered outliers and therefore removed, (4) it
aggregates the anomaly image into a coarser resolution (<code>fact</code>) to
reveal potential spatial dependencies, (5) the procedure fits a spatial
model (thin plate splines or TPS) to the anomalies which is then used to
interpolate the values at the original resolution, and (6) the output
is the sum of the interpolated anomalies and the average image.
</p>


<h3>Value</h3>

<p>a <code>RastespatRaster</code> with the filled/smoothed images.
</p>


<h3>References</h3>

<p>Militino AF, Ugarte MD, Perez-Goya U, Genton MG (2019).
&ldquo;Interpolation of the Mean Anomalies for Cloud-Filling in Land Surface Temperature (LST) and Normalized Difference Vegetation Index (NDVI).&rdquo;
<em>IEEE Transactions on Geoscience and Remote Sensing. (Open-Access)</em>.
<a href="http://dx.doi.org/10.1109/TGRS.2019.2904193">http://dx.doi.org/10.1109/TGRS.2019.2904193</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Smooth data in rtoi
library(rsat)
require(terra)

# create a copy of pamplona in temp file
file.copy(from=system.file("ex/PamplonaDerived",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

# load example rtoi
pamplona &lt;- read_rtoi(file.path(tempdir(),"PamplonaDerived"))
rsat_smoothing_images(pamplona,
                      method = "IMA",
                      variable="NDVI"
)
rsat_list_data(pamplona)
# get smoothed
smoothed &lt;- rsat_get_SpatRaster(pamplona,p="mod09ga",v="NDVI",s="IMA")
plot(smoothed)

# get original
original &lt;- rsat_get_SpatRaster(pamplona,p="mod09ga",v="NDVI",s="variables")
plot(original)
plot(smoothed[[1]]-original[[1]])

## smooth user defined SpatRaster dataset
require(terra)
data(ex.ndvi.navarre)

# load an example of NDVI time series in Navarre
ex.ndvi.navarre &lt;- rast(ex.ndvi.navarre)
# the raster stack with the date in julian format as name
plot(ex.ndvi.navarre)

# smoothin and fill all the time series
tiles.mod.ndvi.filled &lt;- rsat_smoothing_images(ex.ndvi.navarre,
  method = "IMA"
)
# show the filled images
plot(tiles.mod.ndvi.filled)

# plot comparison of the cloud and the filled images
tiles.mod.ndvi.comp &lt;- c(
  ex.ndvi.navarre[[1]], tiles.mod.ndvi.filled[[1]],
  ex.ndvi.navarre[[2]], tiles.mod.ndvi.filled[[2]]
)
plot(tiles.mod.ndvi.comp)

## End(Not run)
</code></pre>

<hr>
<h2 id='rtoi-class'>Region and Time Of Interest (<code>rtoi</code>)</h2><span id='topic+rtoi-class'></span>

<h3>Description</h3>

<p>It is a proxy object to store metadata about satellite imagery
covering a spatial region over a time period. Images can come from
multiple missions/programs and its purpose is to help managing
heterogeneous datasets.
</p>


<h3>Details</h3>

<p>An <code>rtoi</code> object manages two main folders called database and rtoi.
The database is meant to work as a local, generic, and organized archive
of raw satellite data retrieved with the <code>download()</code> function.
The rtoi folder contains processed information for
a particular region and time of interest. When <code>mosaic()</code>
is called, the function crops and mosaics the relevant raw images from
the database and saves the results in the rtoi folder. This folder also
contains a <code>region.rtoi</code> file which saves metadata about the
region/time of interest and satellite imagery available.
</p>


<h3>Fields</h3>


<dl>
<dt><code>name</code></dt><dd><p>a character with the name of the region of interest.</p>
</dd>
<dt><code>rtoi_path</code></dt><dd><p>a character with the path to the rtoi folder.</p>
</dd>
<dt><code>region</code></dt><dd><p>an sf with the region of interest.</p>
</dd>
<dt><code>records</code></dt><dd><p>the satellite records available for
your region and time of interest.</p>
</dd>
<dt><code>db_path</code></dt><dd><p>a character with the path to the database.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(ex.navarre)
## Create an rtoi with database
# path where the region is stored
rtoi.path &lt;- tempdir()

# path where downloads are stored
db.path &lt;- file.path(tempdir(), "DATABASE")
navarre &lt;- new_rtoi(
  name = "Navarre_rtoi",
  region = ex.navarre,
  rtoi_path = rtoi.path,
  db_path = db.path
)

print(navarre)

## Create an rtoi without database
navarre2 &lt;- new_rtoi(
  name = "Navarre_rtoi2",
  region = ex.navarre,
  rtoi_path = rtoi.path
)

print(navarre2)

## End(Not run)
</code></pre>

<hr>
<h2 id='sat_name'>Get the name of the satellite(s) from a <code>records</code> or an <code>rtoi</code></h2><span id='topic+sat_name'></span><span id='topic+sat_name+2Crecords-method'></span><span id='topic+sat_name+2Crecords'></span><span id='topic+sat_name+2Crtoi-method'></span><span id='topic+sat_name+2Crtoi'></span>

<h3>Description</h3>

<p>Get the name of the satellite(s) from a <code>records</code> or an <code>rtoi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sat_name(x)

## S4 method for signature 'records'
sat_name(x)

## S4 method for signature 'rtoi'
sat_name(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sat_name_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the name of the satellite
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))
# get the records
rcds &lt;- records(navarre)
# coerce the records to dataframe
sat_name(rcds)

## End(Not run)
</code></pre>

<hr>
<h2 id='set_credentials'>Saves the credentials for the web services</h2><span id='topic+set_credentials'></span><span id='topic+set_credentials+2Ccharacter+2Ccharacter+2Cmissing-method'></span><span id='topic+set_credentials+2Ccharacter+2Ccharacter+2Cmissing'></span><span id='topic+set_credentials+2Ccharacter+2Ccharacter+2Ccharacter-method'></span><span id='topic+set_credentials+2Ccharacter+2Ccharacter+2Ccharacter'></span>

<h3>Description</h3>

<p>Saves the credentials for the web services
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_credentials(user, pass, credential)

## S4 method for signature 'character,character,missing'
set_credentials(user, pass)

## S4 method for signature 'character,character,character'
set_credentials(user, pass, credential)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_credentials_+3A_user">user</code></td>
<td>
<p>character argument. Defines the username of an api platform
to search or download images</p>
</td></tr>
<tr><td><code id="set_credentials_+3A_pass">pass</code></td>
<td>
<p>character argument. Defines the password of an api platform
to search and download images</p>
</td></tr>
<tr><td><code id="set_credentials_+3A_credential">credential</code></td>
<td>
<p>optional argument to specify the name of the platform.
Valid names are earthdata, scihub, scihubs5p, or ALL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing. set the credentials in the package environment variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print_credentials()
set_credentials("example", "example")
print_credentials()
set_credentials("example", "example", "earthdata")
print_credentials()
</code></pre>

<hr>
<h2 id='show_variables'>List the variables and satellites supported by <code>rsat</code></h2><span id='topic+show_variables'></span><span id='topic+show_variables+2CANY-method'></span><span id='topic+show_variables-method'></span>

<h3>Description</h3>

<p>Displays the satellites and variable method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_variables(...)

## S4 method for signature 'ANY'
show_variables()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_variables_+3A_...">...</code></td>
<td>
<p>arguments for nesting functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prints supported satellites and derived variables information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>show_variables()
</code></pre>

<hr>
<h2 id='show+2Cextent_crs-method'>Show an Object</h2><span id='topic+show+2Cextent_crs-method'></span><span id='topic+show'></span><span id='topic+show+2Crecords-method'></span><span id='topic+show+2Crtoi-method'></span><span id='topic+show+2Crtoi'></span><span id='topic+show+2Cvariables-method'></span><span id='topic+show+2Crecords'></span>

<h3>Description</h3>

<p>Display the object, by printing, plotting or whatever suits its class. This
function exists to be specialized by methods.
The default method calls showDefault.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'extent_crs'
show(object)

## S4 method for signature 'records'
show(object)

## S4 method for signature 'rtoi'
show(object)

## S4 method for signature 'variables'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2Cextent_crs-method_+3A_object">object</code></td>
<td>
<p>Any R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>show returns an invisible NULL.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

## The method will now be used for automatic printing of navarre
navarre

## get records
rcds &lt;- records(navarre)

rcds

## End(Not run)
</code></pre>

<hr>
<h2 id='subset+2Crecords-method'>Filter the satellite records of a <code>records</code> or an <code>rtoi</code></h2><span id='topic+subset+2Crecords-method'></span>

<h3>Description</h3>

<p>Filter the satellite records of a <code>records</code> or an <code>rtoi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'records'
subset(x, subset, select)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subset+2B2Crecords-method_+3A_x">x</code></td>
<td>
<p>a <code>records</code> or an <code>rtoi</code> object.</p>
</td></tr>
<tr><td><code id="subset+2B2Crecords-method_+3A_subset">subset</code></td>
<td>
<p>character argument indicating the name of the slot.</p>
</td></tr>
<tr><td><code id="subset+2B2Crecords-method_+3A_select">select</code></td>
<td>
<p>character with the value for subsetting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filtered records class
</p>

<hr>
<h2 id='test_function'>Testing function</h2><span id='topic+test_function'></span>

<h3>Description</h3>

<p>Function used for testing some internal functions in continuous integration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_function()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>test_function()
</code></pre>

<hr>
<h2 id='tiles.mod.ndvi.filled.1.res'>Result of IMA test 1</h2><span id='topic+tiles.mod.ndvi.filled.1.res'></span>

<h3>Description</h3>

<p>Filled image to test the package
</p>

<hr>
<h2 id='tiles.mod.ndvi.filled.2.res'>Result of IMA test 2</h2><span id='topic+tiles.mod.ndvi.filled.2.res'></span>

<h3>Description</h3>

<p>Filled image to test the package
</p>

<hr>
<h2 id='unique+2Crecords+2CANY-method'>Extract unique elements</h2><span id='topic+unique+2Crecords+2CANY-method'></span><span id='topic+unique'></span>

<h3>Description</h3>

<p>It returns a <code>records</code> like <code>x</code> but with duplicate
elements/rows removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'records,ANY'
unique(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unique+2B2Crecords+2B2CANY-method_+3A_x">x</code></td>
<td>
<p>a <code>records</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>unique elements in records class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load example rtoi
file.copy(from=system.file("ex/Navarre",package="rsat"),
         to=tempdir(),
         recursive = TRUE)

navarre &lt;- read_rtoi(file.path(tempdir(),"Navarre"))

# get the records
rcds &lt;- records(navarre)

duplicate.records &lt;- c(rcds[1],rcds[1])
length(duplicate.records)
print(duplicate.records)
single.record &lt;- unique(duplicate.records)
length(single.record)
print(single.record)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

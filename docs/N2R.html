<!DOCTYPE html><html lang="en"><head><title>Help for package N2R</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {N2R}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#checkOpenMP'><p>boolean to check OpenMP exists</p></a></li>
<li><a href='#crossKnn'><p>Perform fast approximate K-nearest neighbor search of rows input matrix mA in rows of matrix mB.</p></a></li>
<li><a href='#Knn'><p>Perform fast approximate K-nearest neighbor search on rows of the input matrix m.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fast and Scalable Approximate k-Nearest Neighbor Search Methods
using 'N2' Library</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements methods to perform fast approximate K-nearest neighbor search on input matrix. Algorithm based on the 'N2' implementation of an approximate nearest neighbor search using hierarchical  Navigable Small World (NSW) graphs. The original algorithm is described in "Efficient and Robust Approximate Nearest Neighbor Search Using Hierarchical Navigable Small World Graphs", Y. Malkov and D. Yashunin, &lt;<a href="https://doi.org/10.1109%2FTPAMI.2018.2889473">doi:10.1109/TPAMI.2018.2889473</a>&gt;, &lt;<a href="https://doi.org/10.48550/arXiv.1603.09320">doi:10.48550/arXiv.1603.09320</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>Matrix</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.4)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppSpdlog, RcppEigen</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kharchenkolab/N2R">https://github.com/kharchenkolab/N2R</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kharchenkolab/N2R/issues">https://github.com/kharchenkolab/N2R/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter Kharchenko [aut],
  Viktor Petukhov [aut],
  Dirk Eddelbuettel [ctb],
  Evan Biederstedt [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Evan Biederstedt &lt;evan.biederstedt@gmail.com&gt;</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-26 17:36:39 UTC; evanbiederstedt</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-26 19:40:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='checkOpenMP'>boolean to check OpenMP exists</h2><span id='topic+checkOpenMP'></span>

<h3>Description</h3>

<p>boolean to check OpenMP exists
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkOpenMP()
</code></pre>

<hr>
<h2 id='crossKnn'>Perform fast approximate K-nearest neighbor search of rows input matrix mA in rows of matrix mB.</h2><span id='topic+crossKnn'></span>

<h3>Description</h3>

<p>Perform fast approximate K-nearest neighbor search of rows input matrix mA in rows of matrix mB.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crossKnn(
  mA,
  mB,
  k,
  nThreads = 10L,
  verbose = TRUE,
  indexType = "angular",
  M = 12L,
  MaxM0 = 24L,
  ef_search_multiplier = 50,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="crossKnn_+3A_ma">mA</code></td>
<td>
<p>Input numeric matrix of data</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_mb">mB</code></td>
<td>
<p>Input numeric matrix of data</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_k">k</code></td>
<td>
<p>Integer number of clusters</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_nthreads">nThreads</code></td>
<td>
<p>Integer number of threads (default=10)</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_verbose">verbose</code></td>
<td>
<p>Boolean flag for verbose output (default=FALSE)</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_indextype">indexType</code></td>
<td>
<p>Metric distance type, which can be &quot;angular&quot; or &quot;L2&quot; (default=&quot;angular&quot;)</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_m">M</code></td>
<td>
<p>Integer number of connections (default=12) The NSW graph is constructed via consecutive insertion of elements in random order by bidirectionally connecting them to the M closest neighbors from the previously inserted elements.</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_maxm0">MaxM0</code></td>
<td>
<p>Integer maximum number of connections that an element can have in the zero layer. (default=24) It is recommended that MaxM0 not exceed 2*M.</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_ef_search_multiplier">ef_search_multiplier</code></td>
<td>
<p>Integer multiplier to calculate candidate nearest neighbors, set to k*ef_search_multiplier (default=50). Refer to the parameters er and efConstruction in Malkov &amp; Yashunin (2020) doi: 10.1109/TPAMI.2018.2889473</p>
</td></tr>
<tr><td><code id="crossKnn_+3A_quiet">quiet</code></td>
<td>
<p>Boolean flag specifically for Rcpp warnings (default=FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>clusters per row in sparse Matrix of class &quot;dgCMatrix&quot; of dimensions mB rows by mA rows
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)
iris_df = data.matrix(iris[-5]) ## convert to a numeric matrix 
crossKnn(mA=iris_df, mB=head(iris_df, 50), 4)

</code></pre>

<hr>
<h2 id='Knn'>Perform fast approximate K-nearest neighbor search on rows of the input matrix m.</h2><span id='topic+Knn'></span>

<h3>Description</h3>

<p>Perform fast approximate K-nearest neighbor search on rows of the input matrix m.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Knn(
  m,
  k,
  nThreads = 10L,
  verbose = TRUE,
  indexType = "angular",
  M = 12L,
  MaxM0 = 24L,
  ef_search_multiplier = 50,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Knn_+3A_m">m</code></td>
<td>
<p>Input numeric matrix of data</p>
</td></tr>
<tr><td><code id="Knn_+3A_k">k</code></td>
<td>
<p>Integer number of clusters</p>
</td></tr>
<tr><td><code id="Knn_+3A_nthreads">nThreads</code></td>
<td>
<p>Integer number of threads (default=10)</p>
</td></tr>
<tr><td><code id="Knn_+3A_verbose">verbose</code></td>
<td>
<p>Boolean flag for verbose output (default=FALSE)</p>
</td></tr>
<tr><td><code id="Knn_+3A_indextype">indexType</code></td>
<td>
<p>Metric distance type, which can be &quot;angular&quot; or &quot;L2&quot; (default=&quot;angular&quot;)</p>
</td></tr>
<tr><td><code id="Knn_+3A_m">M</code></td>
<td>
<p>Integer number of connections (default=12) The NSW graph is constructed via consecutive insertion of elements in random order by bidirectionally connecting them to the M closest neighbors from the previously inserted elements.</p>
</td></tr>
<tr><td><code id="Knn_+3A_maxm0">MaxM0</code></td>
<td>
<p>Integer maximum number of connections that an element can have in the zero layer. (default=24) It is recommended that MaxM0 not exceed 2*M.</p>
</td></tr>
<tr><td><code id="Knn_+3A_ef_search_multiplier">ef_search_multiplier</code></td>
<td>
<p>Integer multiplier to calculate candidate nearest neighbors, set to k*ef_search_multiplier (default=50). Refer to the parameters er and efConstruction in Malkov &amp; Yashunin (2020) doi: 10.1109/TPAMI.2018.2889473</p>
</td></tr>
<tr><td><code id="Knn_+3A_quiet">quiet</code></td>
<td>
<p>Boolean flag specifically for Rcpp warnings (default=FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>clusters per row in sparse Matrix of class &quot;dgCMatrix&quot; of dimensions m rows by m rows
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)
iris_df = data.matrix(iris[-5]) ## convert to a numeric matrix 
Knn(m=iris_df, 4)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

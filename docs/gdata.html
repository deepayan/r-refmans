<!DOCTYPE html><html><head><title>Help for package gdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gdata-package'><p>Various R Programming Tools for Data Manipulation</p></a></li>
<li><a href='#ans'><p>Value of Last Evaluated Expression</p></a></li>
<li><a href='#Args'><p>Describe Function Arguments</p></a></li>
<li><a href='#bindData'><p>Bind two data frames into a multivariate data frame</p></a></li>
<li><a href='#case'><p>Map elements of a vector according to the provided 'cases'</p></a></li>
<li><a href='#cbindX'><p>Column-bind objects with different number of rows</p></a></li>
<li><a href='#centerText'>
<p>Center Text Strings</p></a></li>
<li><a href='#combine'><p>Combine R Objects With a Column Labeling the Source</p></a></li>
<li><a href='#ConvertMedUnits'><p>Convert medical measurements between International Standard (SI)</p>
and US 'Conventional' Units.</a></li>
<li><a href='#drop.levels'><p>Drop unused factor levels</p></a></li>
<li><a href='#duplicated2'><p>Determine Duplicate Elements</p></a></li>
<li><a href='#env'><p>Describe All Loaded Environments</p></a></li>
<li><a href='#first'><p>Return first or last element of an object</p></a></li>
<li><a href='#frameApply'><p>Subset analysis on data frames</p></a></li>
<li><a href='#gdata-defunct'><p>Defunct Functions in Package 'gdata'</p></a></li>
<li><a href='#getYear'><p>Get date/time parts from date and time objects</p></a></li>
<li><a href='#humanReadable'><p>Print Byte Size in Human Readable Format</p></a></li>
<li><a href='#interleave'><p>Interleave Rows of Data Frames or Matrices</p></a></li>
<li><a href='#is.what'><p>Run Multiple is.* Tests on a Given Object</p></a></li>
<li><a href='#keep'><p>Remove All Objects, Except Those Specified</p></a></li>
<li><a href='#left'><p>Return the leftmost or rightmost columns of a matrix or data frame</p></a></li>
<li><a href='#ll'><p>Describe Objects or Elements</p></a></li>
<li><a href='#ls.funs'><p>List function objects</p></a></li>
<li><a href='#mapLevels'><p>Mapping levels</p></a></li>
<li><a href='#matchcols'><p>Select columns names matching certain critera</p></a></li>
<li><a href='#MedUnits'>
<p>Table of conversions between Intertional</p>
Standard (SI) and US 'Conventional' Units for common medical
measurements.</a></li>
<li><a href='#mv'>
<p>Rename an Object</p></a></li>
<li><a href='#nobs'><p>Compute the Number of Non-Missing Observations</p></a></li>
<li><a href='#nPairs'><p>Number of variable pairs</p></a></li>
<li><a href='#object_size'><p>Report the Space Allocated for Objects</p></a></li>
<li><a href='#rename.vars'><p>Remove or rename variables in a data frame</p></a></li>
<li><a href='#reorder.factor'><p>Reorder the Levels of a Factor</p></a></li>
<li><a href='#resample'><p>Consistent Random Samples and Permutations</p></a></li>
<li><a href='#startsWith'><p>Does String Start or End With Another String?</p></a></li>
<li><a href='#trim'><p>Remove leading and trailing spaces from character strings</p></a></li>
<li><a href='#trimSum'><p>Trim a vector such that the last/first value represents the sum of</p>
trimmed values</a></li>
<li><a href='#unknownToNA'><p>Change unknown values to NA and vice versa</p></a></li>
<li><a href='#unmatrix'><p>Convert a matrix into a vector, with appropriate names</p></a></li>
<li><a href='#update.list'><p>Update the elements of a list, or rows of a data frame</p></a></li>
<li><a href='#upperTriangle'><p>Extract or replace the upper/lower triangular portion of a matrix</p></a></li>
<li><a href='#wideByFactor'><p>Create multivariate data by a given factor</p></a></li>
<li><a href='#write.fwf'><p>Write object to file in fixed width format</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>3.0.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-09</td>
</tr>
<tr>
<td>Title:</td>
<td>Various R Programming Tools for Data Manipulation</td>
</tr>
<tr>
<td>Imports:</td>
<td>gtools, methods, stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RUnit</td>
</tr>
<tr>
<td>Description:</td>
<td>Various R programming tools for data manipulation, including
  medical unit conversions, combining objects, character vector operations,
  factor manipulation, obtaining information about R objects, generating
  fixed-width format files, extracting components of date &amp; time objects,
  operations on columns of data frames, matrix operations, operations on
  vectors, operations on data frames, value of last evaluated expression, and a
  resample() wrapper for sample() that ensures consistent behavior for both
  scalar and vector arguments.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-gregmisc/gdata">https://github.com/r-gregmisc/gdata</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-gregmisc/gdata/issues">https://github.com/r-gregmisc/gdata/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-09 15:07:28 UTC; arnim</td>
</tr>
<tr>
<td>Author:</td>
<td>Gregory R. Warnes [aut],
  Gregor Gorjanc [aut],
  Arni Magnusson [aut, cre],
  Liviu Andronic [aut],
  Jim Rogers [aut],
  Don MacQueen [aut],
  Ales Korosec [aut],
  Ben Bolker [ctb],
  Michael Chirico [ctb],
  Gabor Grothendieck [ctb],
  Thomas Lumley [ctb],
  Brian Ripley [ctb],
  inoui llc [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Arni Magnusson &lt;thisisarni@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-16 19:30:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='gdata-package'>Various R Programming Tools for Data Manipulation</h2><span id='topic+gdata-package'></span><span id='topic+gdata'></span>

<h3>Description</h3>

<p>Various R programming tools for data manipulation, including:
</p>

<ul>
<li><p> Medical unit conversions: <code><a href="#topic+ConvertMedUnits">ConvertMedUnits</a></code>,
<code><a href="#topic+MedUnits">MedUnits</a></code>
</p>
</li>
<li><p> Combining objects: <code>link{bindData}</code>,
<code><a href="#topic+cbindX">cbindX</a></code>, <code><a href="#topic+combine">combine</a></code>,
<code><a href="#topic+interleave">interleave</a></code>
</p>
</li>
<li><p> Character vector operations: <code><a href="#topic+centerText">centerText</a></code>,
<code><a href="#topic+startsWith">startsWith</a></code>, <code><a href="#topic+trim">trim</a></code>
</p>
</li>
<li><p> Factor manipulation: <code><a href="base.html#topic+levels">levels</a></code>,
<code><a href="#topic+reorder.factor">reorder.factor</a></code>, <code><a href="#topic+mapLevels">mapLevels</a></code>
</p>
</li>
<li><p> Obtaining information about R objects:
<code><a href="#topic+object_size">object_size</a></code>, <code><a href="#topic+env">env</a></code>,
<code><a href="#topic+humanReadable">humanReadable</a></code>, <code><a href="#topic+is.what">is.what</a></code>,
<code><a href="#topic+ll">ll</a></code>, <code><a href="#topic+keep">keep</a></code>, <code><a href="#topic+ls.funs">ls.funs</a></code>,
<code><a href="#topic+Args">Args</a></code>, <code><a href="#topic+nPairs">nPairs</a></code>, <code><a href="#topic+nobs">nobs</a></code>
</p>
</li>
<li><p> Generating fixed-width format files: <code><a href="#topic+write.fwf">write.fwf</a></code>
</p>
</li>
<li><p> Extracting components of date &amp; time objects:
<code><a href="#topic+getYear">getYear</a></code>, <code><a href="#topic+getMonth">getMonth</a></code>,
<code><a href="#topic+getDay">getDay</a></code>, <code><a href="#topic+getHour">getHour</a></code>, <code><a href="#topic+getMin">getMin</a></code>,
<code><a href="#topic+getSec">getSec</a></code>
</p>
</li>
<li><p> Operations on columns of data frames: <code><a href="#topic+matchcols">matchcols</a></code>,
<code><a href="#topic+rename.vars">rename.vars</a></code>
</p>
</li>
<li><p> Matrix operations: <code><a href="#topic+unmatrix">unmatrix</a></code>,
<code><a href="#topic+upperTriangle">upperTriangle</a></code>, <code><a href="#topic+lowerTriangle">lowerTriangle</a></code>
</p>
</li>
<li><p> Operations on vectors: <code><a href="#topic+case">case</a></code>,
<code><a href="#topic+unknownToNA">unknownToNA</a></code>, <code><a href="#topic+duplicated2">duplicated2</a></code>,
<code><a href="#topic+trimSum">trimSum</a></code>
</p>
</li>
<li><p> Operations on data frames: <code><a href="#topic+frameApply">frameApply</a></code>,
<code><a href="#topic+wideByFactor">wideByFactor</a></code>
</p>
</li>
<li><p> Value of last evaluated expression: <code><a href="#topic+ans">ans</a></code>
</p>
</li>
<li><p> Wrapper for <code>sample</code> that ensures consistent behavior for
both scalar and vector arguments: <code><a href="#topic+resample">resample</a></code>
</p>
</li></ul>



<h3>Note</h3>

<p><code>browseVignettes()</code> shows package vignettes.</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes, Gregor Gorjanc, Arni Magnusson, Liviu Andronic, Jim
Rogers, Don MacQueen, and Ales Korosec, with contributions by Ben
Bolker, Michael Chirico, Gabor Grothendieck, Thomas Lumley, and Brian
Ripley.
</p>

<hr>
<h2 id='ans'>Value of Last Evaluated Expression</h2><span id='topic+ans'></span>

<h3>Description</h3>

<p>The functon returns the value of the last evaluated <em>top-level</em>
expression, which is always assigned to <code>.Last.value</code> (in
<code>package:base</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ans()
</code></pre>


<h3>Details</h3>

<p>This function retrieves <code>.Last.value</code>. For more details see
<code><a href="base.html#topic+.Last.value">.Last.value</a></code>.
</p>


<h3>Value</h3>

<p><code>.Last.value</code>
</p>


<h3>Author(s)</h3>

<p>Liviu Andronic</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+.Last.value">.Last.value</a></code>, <code><a href="base.html#topic+eval">eval</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>2+2                  # Trivial calculation
ans()                # See the answer again

gamma(1:15)          # Some intensive calculation
fac14 &lt;- ans()       # store the results into a variable

rnorm(20)            # Generate some standard normal values
ans()^2              # Convert to Chi-square(1) values
stem(ans())          # Now show a stem-and-leaf table
</code></pre>

<hr>
<h2 id='Args'>Describe Function Arguments</h2><span id='topic+Args'></span>

<h3>Description</h3>

<p>Display function argument names and corresponding default values,
formatted in two columns for easy reading.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Args(name, sort=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Args_+3A_name">name</code></td>
<td>
<p>a function or function name.</p>
</td></tr>
<tr><td><code id="Args_+3A_sort">sort</code></td>
<td>
<p>whether arguments should be sorted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with named rows and a single column called <code>value</code>,
containing the default value of each argument.
</p>


<h3>Note</h3>

<p>Primitive functions like <code>sum</code> and <code>all</code> have no formal
arguments. See the <code><a href="base.html#topic+formals">formals</a></code> help page.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson</p>


<h3>See Also</h3>

<p><code>Args</code> is a verbose alternative to <code><a href="base.html#topic+args">args</a></code>, based on
<code><a href="base.html#topic+formals">formals</a></code>.
</p>
<p><code><a href="utils.html#topic+help">help</a></code> also describes function arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Args(glm)
Args(scan)
Args(legend, sort=TRUE)
</code></pre>

<hr>
<h2 id='bindData'>Bind two data frames into a multivariate data frame</h2><span id='topic+bindData'></span>

<h3>Description</h3>

<p>Usually data frames represent one set of variables and one needs to
bind/join them for multivariate analysis. When <code><a href="base.html#topic+merge">merge</a></code> is not
the approriate solution, <code>bindData</code> might perform an appropriate binding
for two data frames. This is especially usefull when some variables are
measured once, while others are repeated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bindData(x, y, common)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bindData_+3A_x">x</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="bindData_+3A_y">y</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="bindData_+3A_common">common</code></td>
<td>
<p>character, list of column names that are common to both
input data frames</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data frames are joined in a such a way, that the new data frame has
<code class="reqn">c + (n_1 - c) + (n_2 - c)</code> columns, where <code class="reqn">c</code> is the number of
common columns, and <code class="reqn">n_1</code> and <code class="reqn">n_2</code> are the number of columns
in the first and in the second data frame, respectively.
</p>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+merge">merge</a></code>,
<code><a href="#topic+wideByFactor">wideByFactor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n1 &lt;- 6
n2 &lt;- 12
n3 &lt;- 4
## Single trait 1
num &lt;- c(5:n1, 10:13)
(tmp1 &lt;- data.frame(y1=rnorm(n=n1),
                    f1=factor(rep(c("A", "B"), n1/2)),
                    ch=letters[num],
                    fa=factor(letters[num]),
                    nu=(num) + 0.5,
                    id=factor(num), stringsAsFactors=FALSE))

## Single trait 2 with repeated records, some subjects also in tmp1
num &lt;- 4:9
(tmp2 &lt;- data.frame(y2=rnorm(n=n2),
                    f2=factor(rep(c("C", "D"), n2/2)),
                    ch=letters[rep(num, times=2)],
                    fa=factor(letters[rep(c(num), times=2)]),
                    nu=c((num) + 0.5, (num) + 0.25),
                    id=factor(rep(num, times=2)), stringsAsFactors=FALSE))

## Single trait 3 with completely distinct set of subjects
num &lt;- 1:4
(tmp3 &lt;- data.frame(y3=rnorm(n=n3),
                    f3=factor(rep(c("E", "F"), n3/2)),
                    ch=letters[num],
                    fa=factor(letters[num]),
                    nu=(num) + 0.5,
                    id=factor(num), stringsAsFactors=FALSE))

## Combine all datasets
(tmp12 &lt;- bindData(x=tmp1, y=tmp2, common=c("id", "nu", "ch", "fa")))
(tmp123 &lt;- bindData(x=tmp12, y=tmp3, common=c("id", "nu", "ch", "fa")))

## Sort by subject
tmp123[order(tmp123$ch), ]
</code></pre>

<hr>
<h2 id='case'>Map elements of a vector according to the provided 'cases'</h2><span id='topic+case'></span>

<h3>Description</h3>

<p>Map elements of a vector according to the provided 'cases'.  This
function is useful for mapping discrete values to factor labels and
is the vector equivalent to the <code>switch</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>case(x, ..., default = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="case_+3A_x">x</code></td>
<td>
<p>Vector to be converted</p>
</td></tr>
<tr><td><code id="case_+3A_...">...</code></td>
<td>
<p>Map of alternatives, specified as &quot;name&quot;=value</p>
</td></tr>
<tr><td><code id="case_+3A_default">default</code></td>
<td>
<p>Value to be assigned to elements of <code>x</code> not
matching any of the alternatives. Defaults to <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is to <code>switch</code> what <code>ifelse</code> is to <code>if</code>,
and is a convenience wrapper for <code>factor</code>.
</p>


<h3>Value</h3>

<p>A factor variables with each element of <code>x</code> mapped into the
corresponding level of specified in the mapping.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code>factor</code>, <code>switch</code>, <code>ifelse</code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## default = NA
case(c(1,1,4,3), "a"=1, "b"=2, "c"=3)

## default = "foo"
case(c(1,1,4,3), "a"=1, "b"=2, "c"=3, default="foo")
</code></pre>

<hr>
<h2 id='cbindX'>Column-bind objects with different number of rows</h2><span id='topic+cbindX'></span>

<h3>Description</h3>

<p><code>cbindX</code> column-binds objects with different number of rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cbindX(...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cbindX_+3A_...">...</code></td>
<td>
<p>matrix and data.frame objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>First the object with maximal number of rows is found. Other objects
that have less rows get (via <code><a href="base.html#topic+rbind">rbind</a></code>) additional rows with
<code>NA</code> values.  Finally, all objects are column-binded (via
<code><a href="base.html#topic+cbind">cbind</a></code>).
</p>


<h3>Value</h3>

<p>See details.</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p>Regular <code><a href="base.html#topic+cbind">cbind</a></code> and <code><a href="base.html#topic+rbind">rbind</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>df1 &lt;- data.frame(a=1:3, b=c("A", "B", "C"))
df2 &lt;- data.frame(c=as.character(1:5), a=5:1)

ma1 &lt;- matrix(as.character(1:4), nrow=2, ncol=2)
ma2 &lt;- matrix(1:6, nrow=3, ncol=2)

cbindX(df1, df2)
cbindX(ma1, ma2)
cbindX(df1, ma1)
cbindX(df1, df2, ma1, ma2)
cbindX(ma1, ma2, df1, df2)
</code></pre>

<hr>
<h2 id='centerText'>
Center Text Strings
</h2><span id='topic+centerText'></span>

<h3>Description</h3>

<p>Function to center text strings for display on the text console
by prepending the necessary number of spaces to each element.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>centerText(x, width = getOption("width"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="centerText_+3A_x">x</code></td>
<td>
<p>Character vector containing text strings to be centered.</p>
</td></tr>
<tr><td><code id="centerText_+3A_width">width</code></td>
<td>
<p>Desired display width. Defaults to the R display width
given by <code>getOption("width")</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each element will be centered individually by prepending the
necessary number of spaces to center the text in the specified
display width assuming a fixed width font.
</p>


<h3>Value</h3>

<p>Vector of character strings.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+strwrap">strwrap</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(centerText("One Line Test"), "\n\n")

mText &lt;-c("This", "is an example",
          " of a multiline text    ",
          "with ",
          "          leading",
          " and trailing         ",
          "spaces.")
cat("\n", centerText(mText), "\n", sep="\n")
</code></pre>

<hr>
<h2 id='combine'>Combine R Objects With a Column Labeling the Source</h2><span id='topic+combine'></span>

<h3>Description</h3>

<p>Take a sequence of vector, matrix or data frames and
combine into rows of a common data frame with an additional column
<code>source</code> indicating the source object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine(..., names=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_+3A_...">...</code></td>
<td>
<p>vectors or matrices to combine.</p>
</td></tr>
<tr><td><code id="combine_+3A_names">names</code></td>
<td>
<p>character vector of names to use when creating source column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are several matrix arguments, they must all have the same
number of columns.  The number of columns in the result will be one
larger than the number of columns in the component matrixes. If all
of the arguments are vectors, these are treated as single column
matrixes.  In this case, the column containing the combineinated
vector data is labeled <code>data</code>.
</p>
<p>When the arguments consist of a mix of matrices and vectors the
number of columns of the result is determined by the number
of columns of the matrix arguments.  Vectors are considered row
vectors and have their values recycled or subsetted (if necessary)
to achieve this length.
</p>
<p>The <code>source</code> column is created as a factor with levels
corresponding to the name of the object from which the each row was
obtained.  When the <code>names</code> argument is ommitted, the name of
each object is obtained from the specified argument name in the
call (if present) or from the name of the object.  See below for
examples.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+rbind">rbind</a></code>, <code><a href="base.html#topic+merge">merge</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- matrix(rnorm(12),ncol=4,nrow=3)
b &lt;- 1:4
combine(a,b)

combine(x=a,b)
combine(x=a,y=b)
combine(a,b,names=c("one","two"))

c &lt;- 1:6
combine(b,c)
</code></pre>

<hr>
<h2 id='ConvertMedUnits'>Convert medical measurements between International Standard (SI)
and US 'Conventional' Units.</h2><span id='topic+ConvertMedUnits'></span>

<h3>Description</h3>

<p>Convert Medical measurements between International Standard (SI)
and US 'Conventional' Units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ConvertMedUnits(x, measurement, abbreviation,
                to = c("Conventional", "SI", "US"),
                exact = !missing(abbreviation))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ConvertMedUnits_+3A_x">x</code></td>
<td>
<p>Vector of measurement values</p>
</td></tr>
<tr><td><code id="ConvertMedUnits_+3A_measurement">measurement</code></td>
<td>
<p>Name of the measurement</p>
</td></tr>
<tr><td><code id="ConvertMedUnits_+3A_abbreviation">abbreviation</code></td>
<td>
<p>Measurement abbreviation</p>
</td></tr>
<tr><td><code id="ConvertMedUnits_+3A_to">to</code></td>
<td>
<p>Target units</p>
</td></tr>
<tr><td><code id="ConvertMedUnits_+3A_exact">exact</code></td>
<td>
<p>Logicial indicating whether matching should be exact</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Medical laboratories and practitioners in the United States use one
set of units (the so-called 'Conventional' units) for reporting the
results of clinical laboratory measurements, while the rest of the
world uses the International Standard (SI) units. It often becomes
necessary to translate between these units when participating in
international collaborations.
</p>
<p>This function converts between SI and US 'Conventional' units.
</p>
<p>If <code>exact=FALSE</code>, <code>grep</code> will be used to do a
case-insensitive sub-string search for matching measurement names. If
more than one match is found, an error will be generated, along with a
list of the matching entries.
</p>


<h3>Value</h3>

<p>Returns a vector of converted values. The attribute 'units' will
contain the target units converted.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>References</h3>

<p><a href="https://globalrph.com/medical/conventional-units-international-units/">https://globalrph.com/medical/conventional-units-international-units/</a>
</p>


<h3>See Also</h3>

<p>The data set <code><a href="#topic+MedUnits">MedUnits</a></code> provides the conversion
factors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(MedUnits)

# Show available conversions
MedUnits$Measurement

# Convert SI Glucose measurement to 'Conventional' units
GlucoseSI &lt;- c(5, 5.4, 5, 5.1, 5.6, 5.1, 4.9, 5.2, 5.5) # in SI Units
GlucoseUS &lt;- ConvertMedUnits(GlucoseSI, "Glucose", to="US")
cbind(GlucoseSI, GlucoseUS)

## Not run: 
# See what happens when there is more than one match
ConvertMedUnits(27.5, "Creatin", to="US")

## End(Not run)

# To solve the problem do:
ConvertMedUnits(27.5, "Creatinine", to="US", exact=TRUE)
</code></pre>

<hr>
<h2 id='drop.levels'>Drop unused factor levels</h2><span id='topic+drop.levels'></span>

<h3>Description</h3>

<p>Drop unused levels in a factor</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop.levels(x, reorder=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop.levels_+3A_x">x</code></td>
<td>
<p>object to be processed</p>
</td></tr>
<tr><td><code id="drop.levels_+3A_reorder">reorder</code></td>
<td>
<p>should factor levels be reordered using
<code><a href="#topic+reorder.factor">reorder.factor</a></code>?</p>
</td></tr>
<tr><td><code id="drop.levels_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="#topic+reorder.factor">reorder.factor</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>drop.levels</code> is a generic function, where default method does
nothing, while method for factor <code>s</code> drops all unused levels. Drop
is done with <code>x[, drop=TRUE]</code>.
</p>
<p>There are also convenient methods for <code>list</code> and <code>data.frame</code>,
where all unused levels are dropped in all factors (one by one) in a
<code>list</code> or a <code>data.frame</code>.
</p>


<h3>Value</h3>

<p>Input object without unused levels.</p>


<h3>Author(s)</h3>

<p>Jim Rogers <a href="mailto:james.a.rogers@pfizer.com">james.a.rogers@pfizer.com</a> and Gregor Gorjanc</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- factor(c("A", "B", "C", "D"))[1:3]
drop.levels(f)

l &lt;- list(f=f, i=1:3, c=c("A", "B", "D"))
drop.levels(l)

df &lt;- as.data.frame(l)
str(df)
str(drop.levels(df))
</code></pre>

<hr>
<h2 id='duplicated2'>Determine Duplicate Elements</h2><span id='topic+duplicated2'></span>

<h3>Description</h3>

<p><code>duplicated2()</code> determines which elements of a vector or data
frame are duplicates, and returns a logical vector indicating which
elements (rows) are duplicates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>duplicated2(x, bothWays=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="duplicated2_+3A_x">x</code></td>
<td>
<p>a vector or a data frame or an array or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="duplicated2_+3A_bothways">bothWays</code></td>
<td>
<p>if <code>TRUE</code> (the default), duplication should be
considered from both sides. For more information see the argument
<code>fromLast</code> to the function <code><a href="base.html#topic+duplicated">duplicated</a></code>.</p>
</td></tr>
<tr><td><code id="duplicated2_+3A_...">...</code></td>
<td>
<p>further arguments passed down to <code>duplicated()</code> and
its methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The standard <code><a href="base.html#topic+duplicated">duplicated</a></code> function (in <code>package:base</code>)
only returns <code>TRUE</code> for the second and following copies of each
duplicated value (second-to-last and earlier when
<code>fromLast=TRUE</code>).  This function returns all duplicated
elements, including the first (last) value.
</p>
<p>When <code>bothWays</code> is <code>FALSE</code>, <code>duplicated2()</code> defaults to
a <code><a href="base.html#topic+duplicated">duplicated</a></code> call. When <code>bothWays</code> is <code>TRUE</code>,
the following call is being executed:
<code>duplicated(x, ...) | duplicated(x, fromLast=TRUE, ...)</code>
</p>


<h3>Value</h3>

<p>For a vector input, a logical vector of the same length as
<code>x</code>. For a data frame, a logical vector with one element for
each row. For a matrix or array, and when <code>MARGIN = 0</code>, a
logical array with the same dimensions and dimnames.
</p>
<p>For more details see <code><a href="base.html#topic+duplicated">duplicated</a></code>.
</p>


<h3>Author(s)</h3>

<p>Liviu Andronic</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+duplicated">duplicated</a></code>, <code><a href="base.html#topic+unique">unique</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>iris[duplicated(iris), ]                 # 2nd duplicated value
iris[duplicated(iris, fromLast=TRUE), ]  # 1st duplicated value
iris[duplicated2(iris), ]                # both duplicated values
</code></pre>

<hr>
<h2 id='env'>Describe All Loaded Environments</h2><span id='topic+env'></span>

<h3>Description</h3>

<p>Display name, number of objects, and size of all loaded environments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>env(unit="KB", digits=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="env_+3A_unit">unit</code></td>
<td>
<p>unit for displaying environment size: &quot;bytes&quot;, &quot;KB&quot;, &quot;MB&quot;,
or first letter.</p>
</td></tr>
<tr><td><code id="env_+3A_digits">digits</code></td>
<td>
<p>number of decimals to display when rounding environment
size.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>
<table>
<tr><td><code>Environment</code></td>
<td>
<p>environment name.</p>
</td></tr>
<tr><td><code>Objects</code></td>
<td>
<p>number of objects in environment.</p>
</td></tr>
<tr><td><code>KB</code></td>
<td>
<p>environment size <em>(see notes)</em>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The name of the environment size column is the same as the unit used.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson</p>


<h3>See Also</h3>

<p><code>env</code> is a verbose alternative to <code><a href="base.html#topic+search">search</a></code>.
</p>
<p><code><a href="#topic+ll">ll</a></code> is a related function that describes objects in an
environment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
env()

## End(Not run)
</code></pre>

<hr>
<h2 id='first'>Return first or last element of an object</h2><span id='topic+first'></span><span id='topic+last'></span><span id='topic+first+3C-'></span><span id='topic+last+3C-'></span>

<h3>Description</h3>

<p>Return first or last element of an object. These functions are convenience
wrappers for <code>head(x, n=1, ...)</code> and <code>tail(x, n=1, ...)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>first(x, n=1, ...)
last(x, n=1, ...)
first(x, n=1, ...) &lt;- value
last(x, n=1, ...) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="first_+3A_x">x</code></td>
<td>
<p>data object</p>
</td></tr>
<tr><td><code id="first_+3A_n">n</code></td>
<td>
<p>a single integer. If positive, size for the resulting object:
number of elements for a vector (including lists), rows for a
matrix or data frame or lines for a function. If negative,
all but the 'n' last/first number of elements of 'x'.</p>
</td></tr>
<tr><td><code id="first_+3A_...">...</code></td>
<td>
<p>arguments to be passed to or from other methods.</p>
</td></tr>
<tr><td><code id="first_+3A_value">value</code></td>
<td>
<p>a vector of values to be assigned
(should be of length <code>n</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object (usually) like 'x' but generally smaller.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+head">head</a></code>,
<code><a href="utils.html#topic+tail">tail</a></code>,
<code><a href="#topic+left">left</a></code>,
<code><a href="#topic+right">right</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Vector
v &lt;- 1:10
first(v)
last(v)

first(v) &lt;- 9
v

last(v) &lt;- 20
v

## List
l &lt;- list(a=1, b=2, c=3)
first(l)
last(l)

first(l) &lt;- "apple"
last(l)  &lt;- "banana"
l

## Data frame
df &lt;- data.frame(a=1:2, b=3:4, c=5:6)
first(df)
last(df)

first(df) &lt;- factor(c("red","green"))
last(df) &lt;- list(c(20,30)) # note the enclosing list!
df

## Matrix
m &lt;- as.matrix(df)
first(m)
last(m)

first(m) &lt;- "z"
last(m)  &lt;- "q"
m
</code></pre>

<hr>
<h2 id='frameApply'>Subset analysis on data frames</h2><span id='topic+frameApply'></span>

<h3>Description</h3>

<p>Apply a function to row subsets of a data frame.</p>


<h3>Usage</h3>

<pre><code class='language-R'>frameApply(x, by=NULL, on=by[1], fun=function(xi) c(Count=nrow(xi)),
           subset=TRUE, simplify=TRUE, byvar.sep="\\$\\@\\$", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="frameApply_+3A_x">x</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="frameApply_+3A_by">by</code></td>
<td>
<p>names of columns in <code>x</code> specifying the variables to use
to form the subgroups.
None of the <code>by</code> variables should have
the name &quot;sep&quot; (you will get an error if one of them does; a bit of
laziness in the code). Unused levels of
the <code>by</code> variables will be dropped. Use <code>by = NULL</code> (the
default) to indicate that all of the data is to be treated as a
single (trivial) subgroup.</p>
</td></tr>
<tr><td><code id="frameApply_+3A_on">on</code></td>
<td>
<p>names of columns in <code>x</code> specifying columns over which
<code>fun</code> is to be applied. These can include columns specified in
<code>by</code>, (as with the default) although that is not usually the case.</p>
</td></tr>
<tr><td><code id="frameApply_+3A_fun">fun</code></td>
<td>
<p>a function that can operate on data frames that are row
subsets of <code>x[on]</code>. If <code>simplify = TRUE</code>,
the return value of the function should always be either a try-error
(see <code><a href="base.html#topic+try">try</a></code>), or a vector of
fixed length (i.e. same length for every subset), preferably with
named elements.</p>
</td></tr>
<tr><td><code id="frameApply_+3A_subset">subset</code></td>
<td>
<p>logical vector (can be specified in terms of variables
in data). This row subset of <code>x</code> is taken before doing anything
else.</p>
</td></tr>
<tr><td><code id="frameApply_+3A_simplify">simplify</code></td>
<td>
<p>logical. If TRUE (the default), return value will
be a data frame including the <code>by</code> columns and a column for
each element of the return vector of <code>fun</code>. If FALSE, the
return value will be a list, sometimes necessary for less structured
output (see description of return value below).</p>
</td></tr>
<tr><td><code id="frameApply_+3A_byvar.sep">byvar.sep</code></td>
<td>
<p>character. This can be any character string not
found anywhere in the values of the <code>by</code> variables. The
<code>by</code> variables will be pasted together using this as the
separator, and the result will be used as the index to form the
subgroups.</p>
</td></tr>
<tr><td><code id="frameApply_+3A_...">...</code></td>
<td>
<p>additional arguments to <code>fun</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function accomplishes something similar to
<code><a href="base.html#topic+by">by</a></code>. The main difference is that <code>frameApply</code> is
designed to return data frames and lists instead of objects of class
'by'. Also, <code>frameApply</code> works only on the unique combinations of
the <code>by</code> that are actually present in the data, not on the entire
cartesian product of the <code>by</code> variables. In some cases this
results in great gains in efficiency, although <code>frameApply</code> is
hardly an efficient function.
</p>


<h3>Value</h3>

<p>A data frame if <code>simplify = TRUE</code> (the default), assuming
there is sufficiently structured output from <code>fun</code>. If
<code>simplify = FALSE</code> and <code>by</code> is not NULL, the return value
will be a list with two elements. The first element, named &quot;by&quot;, will
be a data frame with the unique rows of <code>x[by]</code>, and the second
element, named &quot;result&quot; will be a list where the ith
component gives the result for the ith row of the &quot;by&quot; element.
</p>


<h3>Author(s)</h3>

<p>Jim Rogers <a href="mailto:james.a.rogers@pfizer.com">james.a.rogers@pfizer.com</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ELISA, package="gtools")

# Default is slightly unintuitive, but commonly useful:
frameApply(ELISA, by = c("PlateDay", "Read"))

# Wouldn't actually recommend this model! Just a demo:
frameApply(ELISA, on = c("Signal", "Concentration"), by = c("PlateDay", "Read"),
           fun = function(dat) coef(lm(Signal ~ Concentration, data = dat)))

frameApply(ELISA, on = "Signal", by = "Concentration",
           fun = function(dat) {
             x &lt;- dat[[1]]
             out &lt;- c(Mean = mean(x, na.rm=TRUE),
                      SD = sd(x, na.rm=TRUE),
                      N = sum(x, na.rm=TRUE))},
           subset = !is.na(Concentration))
</code></pre>

<hr>
<h2 id='gdata-defunct'>Defunct Functions in Package 'gdata'</h2><span id='topic+aggregate.table'></span>

<h3>Description</h3>

<p>The functions or variables listed here are no longer part of 'gdata'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate.table(x, by1, by2, FUN=mean, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gdata-defunct_+3A_x">x</code></td>
<td>
<p>data to be summarized.</p>
</td></tr>
<tr><td><code id="gdata-defunct_+3A_by1">by1</code></td>
<td>
<p>first grouping factor.</p>
</td></tr>
<tr><td><code id="gdata-defunct_+3A_by2">by2</code></td>
<td>
<p>second grouping factor.</p>
</td></tr>
<tr><td><code id="gdata-defunct_+3A_fun">FUN</code></td>
<td>
<p>a scalar function to compute the summary statistics which can
be applied to all data subsets. Defaults to <code>mean</code>.</p>
</td></tr>
<tr><td><code id="gdata-defunct_+3A_...">...</code></td>
<td>
<p>optional arguments for <code>FUN</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>aggregate.table(x, by1, by2, FUN=mean, ...)</code> should be replaced
by <code>tapply(X=x, INDEX=list(by1, by2), FUN=FUN, ...)</code>.
</p>

<hr>
<h2 id='getYear'>Get date/time parts from date and time objects</h2><span id='topic+getDateTimeParts'></span><span id='topic+getYear'></span><span id='topic+getYear.default'></span><span id='topic+getYear.Date'></span><span id='topic+getYear.POSIXct'></span><span id='topic+getYear.POSIXlt'></span><span id='topic+getMonth'></span><span id='topic+getMonth.default'></span><span id='topic+getMonth.Date'></span><span id='topic+getMonth.POSIXct'></span><span id='topic+getMonth.POSIXlt'></span><span id='topic+getDay'></span><span id='topic+getDay.default'></span><span id='topic+getDay.Date'></span><span id='topic+getDay.POSIXct'></span><span id='topic+getDay.POSIXlt'></span><span id='topic+getHour'></span><span id='topic+getHour.default'></span><span id='topic+getMin'></span><span id='topic+getMin.default'></span><span id='topic+getSec'></span><span id='topic+getSec.default'></span>

<h3>Description</h3>

<p>Experimental approach for
extracting the date/time parts from objects of a date/time class.
They are designed to be intiutive and thus lowering the learning
curve for work with date and time classes in <span class="rlang"><b>R</b></span>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>getYear(x, format, ...)
getMonth(x, format, ...)
getDay(x, format, ...)
getHour(x, format, ...)
getMin(x, format, ...)
getSec(x, format, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getYear_+3A_x">x</code></td>
<td>
<p>generic, date/time object</p>
</td></tr>
<tr><td><code id="getYear_+3A_format">format</code></td>
<td>
<p>character, format</p>
</td></tr>
<tr><td><code id="getYear_+3A_...">...</code></td>
<td>
<p>arguments pased to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Date">Date</a></code>,
<code><a href="base.html#topic+DateTimeClasses">DateTimeClasses</a></code>,
<code><a href="base.html#topic+strptime">strptime</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Date
tmp &lt;- Sys.Date()
tmp
getYear(tmp)
getMonth(tmp)
getDay(tmp)

## POSIXct
tmp &lt;- as.POSIXct(tmp)
getYear(tmp)
getMonth(tmp)
getDay(tmp)

## POSIXlt
tmp &lt;- as.POSIXlt(tmp)
getYear(tmp)
getMonth(tmp)
getDay(tmp)
</code></pre>

<hr>
<h2 id='humanReadable'>Print Byte Size in Human Readable Format</h2><span id='topic+humanReadable'></span>

<h3>Description</h3>

<p>Convert integer byte sizes to a human readable units such as
kB, MB, GB, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>humanReadable(x, units="auto", standard=c("IEC", "SI", "Unix"),
              digits=1, width=NULL, sep=" ", justify=c("right", "left"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="humanReadable_+3A_x">x</code></td>
<td>
<p>integer, byte size</p>
</td></tr>
<tr><td><code id="humanReadable_+3A_standard">standard</code></td>
<td>
<p>character, &quot;IEC&quot; for powers of 1024 ('MiB'), &quot;SI&quot; for
powers of 1000 ('MB'), or &quot;Unix&quot; for powers of 1024 ('M').  See
details.</p>
</td></tr>
<tr><td><code id="humanReadable_+3A_units">units</code></td>
<td>
<p>character, unit to use for all values (optional), one of
&quot;auto&quot;, &quot;bytes&quot;, or an appropriate unit corresponding to
<code>standard</code>.</p>
</td></tr>
<tr><td><code id="humanReadable_+3A_digits">digits</code></td>
<td>
<p>integer, number of digits after decimal point</p>
</td></tr>
<tr><td><code id="humanReadable_+3A_width">width</code></td>
<td>
<p>integer, width of number string</p>
</td></tr>
<tr><td><code id="humanReadable_+3A_sep">sep</code></td>
<td>
<p>character, separator between number and unit</p>
</td></tr>
<tr><td><code id="humanReadable_+3A_justify">justify</code></td>
<td>
<p>two-element vector specifiy the alignment for the number
and unit components of the size.  Each element should be one of
&quot;none&quot;, &quot;left&quot;, &quot;right&quot;, or &quot;center&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The basic unit used to store information in computers is a bit. Bits are
represented as zeroes and ones - binary number system. Although, the binary
number system is not the same as the decimal number system, decimal prefixes
for binary multiples such as kilo and mega are often used. In the decimal
system kilo represent 1000, which is close to <code class="reqn">1024 = 2^{10}</code> in the
binary system. This sometimes causes problems as it is not clear which powers
(2 or 10) are used in a notation like 1 kB. To overcome this problem
International Electrotechnical Commission (IEC) has provided the following
solution to this problem:
</p>

<table>
<tr>
 <td style="text-align: left;">
Name      </td><td style="text-align: right;"> System  </td><td style="text-align: center;"> Symbol </td><td style="text-align: left;"> Size             </td><td style="text-align: left;"> Conversion    </td>
</tr>
<tr>
 <td style="text-align: left;">
byte      </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> B      </td><td style="text-align: left;"> <code class="reqn">2^3</code>        </td><td style="text-align: left;">    8 bits     </td>
</tr>
<tr>
 <td style="text-align: left;">
kilobyte  </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> kB     </td><td style="text-align: left;"> <code class="reqn">10^3</code>       </td><td style="text-align: left;"> 1000 bytes    </td>
</tr>
<tr>
 <td style="text-align: left;">
kibibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> KiB    </td><td style="text-align: left;"> <code class="reqn">2^{10}</code>     </td><td style="text-align: left;"> 1024 bytes    </td>
</tr>
<tr>
 <td style="text-align: left;">
megabyte  </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> MB     </td><td style="text-align: left;"> <code class="reqn">(10^3)^2</code>   </td><td style="text-align: left;"> 1000 kilobytes</td>
</tr>
<tr>
 <td style="text-align: left;">
mebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> MiB    </td><td style="text-align: left;"> <code class="reqn">(2^{10})^2</code> </td><td style="text-align: left;"> 1024 kibibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
gigabyte  </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> GB     </td><td style="text-align: left;"> <code class="reqn">(10^3)^3</code>   </td><td style="text-align: left;"> 1000 megabytes</td>
</tr>
<tr>
 <td style="text-align: left;">
gibibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> GiB    </td><td style="text-align: left;"> <code class="reqn">(2^{10})^3</code> </td><td style="text-align: left;"> 1024 mebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
terabyte  </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> TB     </td><td style="text-align: left;"> <code class="reqn">(10^3)^4</code>   </td><td style="text-align: left;"> 1000 gigabytes</td>
</tr>
<tr>
 <td style="text-align: left;">
tebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> TiB    </td><td style="text-align: left;"> <code class="reqn">(2^{10})^4</code> </td><td style="text-align: left;"> 1024 gibibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
petabyte  </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> PB     </td><td style="text-align: left;"> <code class="reqn">(10^3)^5</code>   </td><td style="text-align: left;"> 1000 terabytes</td>
</tr>
<tr>
 <td style="text-align: left;">
pebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> PiB    </td><td style="text-align: left;"> <code class="reqn">(2^{10})^5</code> </td><td style="text-align: left;"> 1024 tebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
exabyte   </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> EB     </td><td style="text-align: left;"> <code class="reqn">(10^3)^6</code>   </td><td style="text-align: left;"> 1000 petabytes</td>
</tr>
<tr>
 <td style="text-align: left;">
exbibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> EiB    </td><td style="text-align: left;"> <code class="reqn">(2^{10})^6</code> </td><td style="text-align: left;"> 1024 pebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
zettabyte </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> ZB     </td><td style="text-align: left;"> <code class="reqn">(10^3)^7</code>   </td><td style="text-align: left;"> 1000 exabytes</td>
</tr>
<tr>
 <td style="text-align: left;">
zebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> ZiB    </td><td style="text-align: left;"> <code class="reqn">(2^{10})^7</code> </td><td style="text-align: left;"> 1024 exbibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
yottabyte </td><td style="text-align: right;"> decimal </td><td style="text-align: center;"> YB     </td><td style="text-align: left;"> <code class="reqn">(10^3)^8</code>   </td><td style="text-align: left;"> 1000 zettabytes</td>
</tr>
<tr>
 <td style="text-align: left;">
yebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> YiB    </td><td style="text-align: left;"> <code class="reqn">(2^{10})^8</code> </td><td style="text-align: left;"> 1024 zebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>where Zi and Yi are GNU extensions to IEC. To get the output in the decimal
system (powers of 1000) use <code>standard="SI"</code>. To obtain IEC standard
(powers of 1024) use <code>standard="IEC"</code>.
</p>
<p>In addition, single-character units are provided that follow (and
extend) the Unix pattern (use <code>standard="Unix"</code>):
</p>

<table>
<tr>
 <td style="text-align: left;">
Name      </td><td style="text-align: right;"> System  </td><td style="text-align: center;"> Symbol </td><td style="text-align: left;"> Size             </td><td style="text-align: left;"> Conversion    </td>
</tr>
<tr>
 <td style="text-align: left;">
byte      </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> B      </td><td style="text-align: left;"> <code class="reqn">2^3</code>        </td><td style="text-align: left;">    8 bits     </td>
</tr>
<tr>
 <td style="text-align: left;">
kibibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> K      </td><td style="text-align: left;"> <code class="reqn">2^{10}</code>     </td><td style="text-align: left;"> 1024 bytes    </td>
</tr>
<tr>
 <td style="text-align: left;">
mebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> M      </td><td style="text-align: left;"> <code class="reqn">(2^{10})^2</code> </td><td style="text-align: left;"> 1024 kibibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
gibibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> G      </td><td style="text-align: left;"> <code class="reqn">(2^{10})^3</code> </td><td style="text-align: left;"> 1024 mebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
tebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> T      </td><td style="text-align: left;"> <code class="reqn">(2^{10})^4</code> </td><td style="text-align: left;"> 1024 gibibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
pebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> P      </td><td style="text-align: left;"> <code class="reqn">(2^{10})^5</code> </td><td style="text-align: left;"> 1024 tebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
exbibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> E      </td><td style="text-align: left;"> <code class="reqn">(2^{10})^6</code> </td><td style="text-align: left;"> 1024 pebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
zebibyte  </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> Z      </td><td style="text-align: left;"> <code class="reqn">(2^{10})^7</code> </td><td style="text-align: left;"> 1024 exbibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
yottabyte </td><td style="text-align: right;"> binary  </td><td style="text-align: center;"> Y      </td><td style="text-align: left;"> <code class="reqn">(2^{10})^8</code> </td><td style="text-align: left;"> 1024 zebibytes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>For printout both <code>digits</code> and <code>width</code> can be specified. If
<code>width</code> is <code>NULL</code>, all values have given number of digits. If
<code>width</code> is not <code>NULL</code>, output is rounded to a given width and
formated similar to human readable format of the Unix <code>ls</code>,
<code>df</code> or <code>du</code> shell commands.
</p>


<h3>Value</h3>

<p>Byte size in human readable format as character with proper unit symbols
added at the end of the string.
</p>


<h3>Author(s)</h3>

<p>Ales Korosec, Gregor Gorjanc, and Gregory R. Warnes
<a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>References</h3>

<p>Wikipedia:
<a href="https://en.wikipedia.org/wiki/Byte">https://en.wikipedia.org/wiki/Byte</a>
<a href="https://en.wikipedia.org/wiki/SI_prefix">https://en.wikipedia.org/wiki/SI_prefix</a>
<a href="https://en.wikipedia.org/wiki/Binary_prefix">https://en.wikipedia.org/wiki/Binary_prefix</a>
</p>
<p>GNU manual for coreutils:
<a href="https://www.gnu.org/software/coreutils/manual/html_node/Block-size.html">https://www.gnu.org/software/coreutils/manual/html_node/Block-size.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+object.size">object.size</a></code> in package 'gdata',
<code><a href="utils.html#topic+object.size">object.size</a></code> in package 'utils',
<code><a href="#topic+ll">ll</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple example: maximum addressible size of 32 bit pointer
humanReadable(2^32-1)
humanReadable(2^32-1, standard="IEC")
humanReadable(2^32-1, standard="SI")
humanReadable(2^32-1, standard="Unix")

humanReadable(2^32-1, unit="MiB")
humanReadable(2^32-1, standard="IEC",  unit="MiB")
humanReadable(2^32-1, standard="SI",   unit="MB")
humanReadable(2^32-1, standard="Unix", unit="M")

# Vector of sizes
matrix(humanReadable(c(60810, 124141, 124, 13412513), width=4))
matrix(humanReadable(c(60810, 124141, 124, 13412513), width=4, unit="KiB"))

# Specify digits rather than width
matrix(humanReadable(c(60810, 124141, 124, 13412513), width=NULL, digits=2))

# Change the justification
matrix(humanReadable(c(60810, 124141, 124, 13412513), width=NULL,
                    justify=c("right", "right")))
</code></pre>

<hr>
<h2 id='interleave'>Interleave Rows of Data Frames or Matrices</h2><span id='topic+interleave'></span>

<h3>Description</h3>

<p>Interleave rows of data frames or matrices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interleave(..., append.source=TRUE, sep=": ", drop=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interleave_+3A_...">...</code></td>
<td>
<p>objects to be interleaved.</p>
</td></tr>
<tr><td><code id="interleave_+3A_append.source">append.source</code></td>
<td>
<p>boolean flag. When <code>TRUE</code> (the default) the
argument name will be appended to the row names to show the source of
each row.</p>
</td></tr>
<tr><td><code id="interleave_+3A_sep">sep</code></td>
<td>
<p>separator between the original row name and the object name.</p>
</td></tr>
<tr><td><code id="interleave_+3A_drop">drop</code></td>
<td>
<p>boolean flag - when TRUE, matrices containing one column
will be converted to vectors.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a new matrix or data frame from its arguments.
</p>
<p>The new object will have all of the rows from the source objects
interleaved. Starting with row 1 of object 1, followed by row 1
of object 2, ..., row 1 of object 'n', row 2 of object 1, row 2 of
object 2, ..., row 2 of object 'n', etc.
</p>


<h3>Value</h3>

<p>Matrix containing the interleaved rows of the function arguments.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+cbind">cbind</a></code>, <code><a href="base.html#topic+rbind">rbind</a></code>, <code><a href="#topic+combine">combine</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple example
a &lt;- matrix(1:10,ncol=2,byrow=TRUE)
b &lt;- matrix(letters[1:10],ncol=2,byrow=TRUE)
c &lt;- matrix(LETTERS[1:10],ncol=2,byrow=TRUE)
interleave(a,b,c)

# Create a 2-way table of means, standard errors, and nobs
g1 &lt;- sample(letters[1:5], 1000, replace=TRUE)
g2 &lt;- sample(LETTERS[1:3], 1000, replace=TRUE)
dat &lt;- rnorm(1000)

stderr &lt;- function(x) sqrt(var(x,na.rm=TRUE) / nobs(x))

means   &lt;- tapply(dat, list(g1, g2), mean)
stderrs &lt;- tapply(dat, list(g1, g2), stderr)
ns      &lt;- tapply(dat, list(g1, g2), nobs)
blanks &lt;- matrix(" ", nrow=5, ncol=3)

tab &lt;- interleave("Mean"=round(means,2),
                  "Std Err"=round(stderrs,2),
                  "N"=ns, " "=blanks, sep=" ")
print(tab, quote=FALSE)

# Using drop to control coercion to a lower dimensions
m1 &lt;- matrix(1:4)
m2 &lt;- matrix(5:8)

interleave(m1, m2, drop=TRUE)   # this will be coerced to a vector
interleave(m1, m2, drop=FALSE)  # this will remain a matrix
</code></pre>

<hr>
<h2 id='is.what'>Run Multiple is.* Tests on a Given Object</h2><span id='topic+is.what'></span>

<h3>Description</h3>

<p>Run multiple <code>is.*</code> tests on a given object: <code>is.na</code>,
<code>is.numeric</code>, and many others.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.what(object, verbose=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.what_+3A_object">object</code></td>
<td>
<p>any <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="is.what_+3A_verbose">verbose</code></td>
<td>
<p>whether negative tests should be included in output.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing positive tests, or when <code>verbose</code>
is <code>TRUE</code>, a data frame showing all test results.
</p>


<h3>Note</h3>

<p>The following procedure is used to look for valid tests:
</p>

<ol>
<li><p>Find all objects named <code>is.*</code> in all loaded
environments.
</p>
</li>
<li><p>Discard objects that are not functions.
</p>
</li>
<li><p>Include test result only if it is of class <code>"logical"</code>,
not an <code>NA</code>, and of length 1.
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Arni Magnusson, inspired by <code>demo(is.things)</code>.</p>


<h3>See Also</h3>

<p><code><a href="Matrix.html#topic+is.na">is.na</a></code> and <code><a href="base.html#topic+is.numeric">is.numeric</a></code> are commonly used
tests.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is.what(pi)
is.what(NA, verbose=TRUE)
is.what(lm(1~1))
is.what(is.what)
</code></pre>

<hr>
<h2 id='keep'>Remove All Objects, Except Those Specified</h2><span id='topic+keep'></span>

<h3>Description</h3>

<p>Remove all objects from the user workspace, except those specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keep(..., list=character(), all=FALSE, sure=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keep_+3A_...">...</code></td>
<td>
<p>objects to be kept, specified one by one, quoted or
unquoted.</p>
</td></tr>
<tr><td><code id="keep_+3A_list">list</code></td>
<td>
<p>character vector of object names to be kept.</p>
</td></tr>
<tr><td><code id="keep_+3A_all">all</code></td>
<td>
<p>whether hidden objects (beginning with a <code>.</code>) should
be removed, unless explicitly kept.</p>
</td></tr>
<tr><td><code id="keep_+3A_sure">sure</code></td>
<td>
<p>whether to perform the removal, otherwise return names of
objects that would be removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implemented with safety caps: objects whose name starts with a
<code>.</code> are not removed unless <code>all=TRUE</code>, and an explicit
<code>sure=TRUE</code> is required to remove anything.
</p>


<h3>Value</h3>

<p>A character vector containing object names that are deleted if
<code>sure=TRUE</code>.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson</p>


<h3>See Also</h3>

<p><code>keep</code> is a convenient interface to <code><a href="base.html#topic+rm">rm</a></code> for removing
most objects from the user workspace.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(trees, CO2)
keep(trees)
# To remove all objects except trees, run:
# keep(trees, sure=TRUE)
</code></pre>

<hr>
<h2 id='left'>Return the leftmost or rightmost columns of a matrix or data frame</h2><span id='topic+right'></span><span id='topic+left'></span><span id='topic+right.data.frame'></span><span id='topic+left.data.frame'></span><span id='topic+right.matrix'></span><span id='topic+left.matrix'></span>

<h3>Description</h3>

<p>Return the leftmost or rightmost or  columns of a matrix or data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>right(x, n = 6L, ...)
left(x, n=6L, ...)

## S3 method for class 'matrix'
right(x, n=6L, add.col.nums=TRUE, ...)
## S3 method for class 'matrix'
left(x, n=6L, add.col.nums=TRUE, ...)

## S3 method for class 'data.frame'
right(x, n=6L, add.col.nums=TRUE, ...)
## S3 method for class 'data.frame'
left(x, n=6L, add.col.nums=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="left_+3A_x">x</code></td>
<td>
<p>Matrix or data frame</p>
</td></tr>
<tr><td><code id="left_+3A_n">n</code></td>
<td>
<p>If positive, number of columns to return. If negative, number
of columns to omit. See examples.</p>
</td></tr>
<tr><td><code id="left_+3A_add.col.nums">add.col.nums</code></td>
<td>
<p>Logical. If no column names are present,
add names giving original column number. (See example below.)</p>
</td></tr>
<tr><td><code id="left_+3A_...">...</code></td>
<td>
<p>Additional arguments used by methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object consisting of the leftmost or rightmost  <code>n</code> columns
of <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+first">first</a></code>,
<code><a href="#topic+last">last</a></code>,
<code><a href="utils.html#topic+head">head</a></code>,
<code><a href="utils.html#topic+tail">tail</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- matrix(1:100, ncol=10)
colnames(m) &lt;- paste("Col",1:10, sep="_")

left(m)
right(m)

# When no column names are present, they are added by default
colnames(m) &lt;- NULL

left(m)
colnames(left(m))

right(m)
colnames(right(m))

# Prevent addition of column numbers
left(m, add.col.nums = FALSE)
colnames(left(m, add.col.nums = FALSE))

right(m, add.col.nums = FALSE)            # columns are labeled 1:6
colnames(right(m, add.col.nums = FALSE))  #   instead of 5:10

# Works for data frames too!
d &lt;- data.frame(m)
left(d)
right(d)

# Use negative n to specify number of columns to omit
left(d, -3)
right(d, -3)
</code></pre>

<hr>
<h2 id='ll'>Describe Objects or Elements</h2><span id='topic+ll'></span>

<h3>Description</h3>

<p>Display name, class, size, and dimensions of each object in a given
environment. Alternatively, if the main argument is an object, its
elements are listed and described.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ll(pos=1, unit="KB", digits=0, dim=FALSE, sort=FALSE, class=NULL,
   invert=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ll_+3A_pos">pos</code></td>
<td>
<p>environment position number, environment name, data frame,
list, model, S4 object, or any object that <code>is.list</code>.</p>
</td></tr>
<tr><td><code id="ll_+3A_unit">unit</code></td>
<td>
<p>unit for displaying object size: &quot;B&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, or
first letter (case-insensitive).</p>
</td></tr>
<tr><td><code id="ll_+3A_digits">digits</code></td>
<td>
<p>number of decimals to display when rounding object
size.</p>
</td></tr>
<tr><td><code id="ll_+3A_dim">dim</code></td>
<td>
<p>whether object dimensions should be returned.</p>
</td></tr>
<tr><td><code id="ll_+3A_sort">sort</code></td>
<td>
<p>whether elements should be sorted by name.</p>
</td></tr>
<tr><td><code id="ll_+3A_class">class</code></td>
<td>
<p>character vector for limiting the output to specified
classes.</p>
</td></tr>
<tr><td><code id="ll_+3A_invert">invert</code></td>
<td>
<p>whether to invert the <code>class</code> filter, so specified
classes are excluded.</p>
</td></tr>
<tr><td><code id="ll_+3A_...">...</code></td>
<td>
<p>passed to <code>ls</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with named rows and the following columns:
</p>
<table>
<tr><td><code>Class</code></td>
<td>
<p>object class.</p>
</td></tr>
<tr><td><code>KB</code></td>
<td>
<p>object size <em>(see note)</em>.</p>
</td></tr>
<tr><td><code>Dim</code></td>
<td>
<p>object dimensions <em>(optional)</em>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The name of the object size column is the same as the unit used.</p>


<h3>Author(s)</h3>

<p>Arni Magnusson, with contributions by Jim Rogers and Michael
Chirico.</p>


<h3>See Also</h3>

<p><code>ll</code> is a verbose alternative to <code><a href="base.html#topic+ls">ls</a></code> (objects in an
environment), <code><a href="base.html#topic+names">names</a></code> (elements in a list-like object),
and <code><a href="methods.html#topic+slotNames">slotNames</a></code> (S4 object).
</p>
<p><code><a href="utils.html#topic+str">str</a></code> and <code><a href="base.html#topic+summary">summary</a></code> also describe elements in
a list-like objects.
</p>
<p><code><a href="#topic+env">env</a></code> is a related function that describes all loaded
environments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ll()
ll(all=TRUE)
ll("package:base")
ll("package:base", class="function", invert=TRUE)

ll(infert)
model &lt;- glm(case~spontaneous+induced, family=binomial, data=infert)
ll(model, dim=TRUE)
ll(model, sort=TRUE)
ll(model$family)
</code></pre>

<hr>
<h2 id='ls.funs'>List function objects</h2><span id='topic+ls.funs'></span>

<h3>Description</h3>

<p>Return a character vector giving the names of function objects in the
specified environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls.funs(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ls.funs_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>ls</code>. See the help for
<code><a href="base.html#topic+ls">ls</a></code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calls <code>ls</code> and then returns a character vector
containing only the names of only function objects.
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+ls">ls</a></code>, <code><a href="base.html#topic+is.function">is.function</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## List functions defined in the global environment:
ls.funs()

## List functions available in the base package:
ls.funs("package:base")
</code></pre>

<hr>
<h2 id='mapLevels'>Mapping levels</h2><span id='topic+mapLevels'></span><span id='topic+mapLevels.default'></span><span id='topic+mapLevels.factor'></span><span id='topic+mapLevels.character'></span><span id='topic+mapLevels.list'></span><span id='topic+mapLevels.data.frame'></span><span id='topic+print.levelsMap'></span><span id='topic+print.listLevelsMap'></span><span id='topic+is.levelsMap'></span><span id='topic+is.listLevelsMap'></span><span id='topic+as.levelsMap'></span><span id='topic+as.listLevelsMap'></span><span id='topic+.checkLevelsMap'></span><span id='topic+.checkListLevelsMap'></span><span id='topic++22+5B.levelsMap+22'></span><span id='topic++22+5B.listLevelsMap+22'></span><span id='topic+c.levelsMap'></span><span id='topic+c.listLevelsMap'></span><span id='topic+unique.levelsMap'></span><span id='topic+sort.levelsMap'></span><span id='topic+mapLevels+3C-'></span><span id='topic+mapLevels+3C-.default'></span><span id='topic+mapLevels+3C-.factor'></span><span id='topic+mapLevels+3C-.character'></span><span id='topic+mapLevels+3C-.list'></span><span id='topic+mapLevels+3C-.data.frame'></span>

<h3>Description</h3>

<p><code>mapLevels</code> produces a map with information on levels and/or
internal integer codes. As such can be conveniently used to store level
mapping when one needs to work with internal codes of a factor and later
transfrorm back to factor or when working with several factors that
should have the same levels and therefore the same internal coding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapLevels(x, codes=TRUE, sort=TRUE, drop=FALSE, combine=FALSE, ...)
mapLevels(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapLevels_+3A_x">x</code></td>
<td>
<p>object whose levels will be mapped, look into details</p>
</td></tr>
<tr><td><code id="mapLevels_+3A_codes">codes</code></td>
<td>
<p>boolean, create integer levelsMap (with internal
codes) or character levelsMap (with level names)</p>
</td></tr>
<tr><td><code id="mapLevels_+3A_sort">sort</code></td>
<td>
<p>boolean, sort levels of character <code>x</code>, look into
details</p>
</td></tr>
<tr><td><code id="mapLevels_+3A_drop">drop</code></td>
<td>
<p>boolean, drop unused levels</p>
</td></tr>
<tr><td><code id="mapLevels_+3A_combine">combine</code></td>
<td>
<p>boolean, combine levels, look into details</p>
</td></tr>
<tr><td><code id="mapLevels_+3A_...">...</code></td>
<td>
<p>additional arguments for <code>sort</code></p>
</td></tr>
<tr><td><code id="mapLevels_+3A_value">value</code></td>
<td>
<p>levelsMap or listLevelsMap, output of <code>mapLevels</code>
methods or constructed by user, look into details</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>mapLevels()</code> returns &ldquo;levelsMap&rdquo; or &ldquo;listLevelsMap&rdquo;
objects as described in levelsMap and listLevelsMap section.
</p>
<p>Result of <code>mapLevels&lt;-</code> is always a factor with remapped levels or
a &ldquo;list/data.frame&rdquo; with remapped factors.
</p>


<h3>mapLevels</h3>

<p>The <code>mapLevels</code> function was written primarly for work with
&ldquo;factors&rdquo;, but is generic and can also be used with
&ldquo;character&rdquo;, &ldquo;list&rdquo; and &ldquo;data.frame&rdquo;, while
&ldquo;default&rdquo; method produces error. Here the term levels is also
used for unique character values.
</p>
<p>When <code>codes=TRUE</code> <b>integer &ldquo;levelsMap&rdquo;</b> with
information on mapping internal codes with levels is produced. Output
can be used to transform integer to factor or remap factor levels as
described below. With <code>codes=FALSE</code> <b>character
&ldquo;levelsMap&rdquo;</b> is produced. The later is usefull, when one would
like to remap factors or combine factors with some overlap in levels as
described in <code>mapLevels&lt;-</code> section and shown in examples.
</p>
<p><code>sort</code> argument provides possibility to sort levels of
&ldquo;character&rdquo; <code>x</code> and has no effect when <code>x</code> is a
&ldquo;factor&rdquo;.
</p>
<p>Argument <code>combine</code> has effect only in &ldquo;list&rdquo; and
&ldquo;data.frame&rdquo; methods and when <code>codes=FALSE</code> i.e. with
<b>character &ldquo;levelsMaps&rdquo;</b>. The later condition is necesarry
as it is not possible to combine maps with different mapping of level
names and integer codes. It is assumed that passed &ldquo;list&rdquo; and
&ldquo;data.frame&rdquo; have all components for which methods
exist. Otherwise an error is produced.
</p>


<h3>levelsMap and listLevelsMap</h3>

<p>Function <code>mapLevels</code> returns a map of levels. This map is of class
&ldquo;levelsMap&rdquo;, which is actually a list of length equal to number
of levels and with each component of length 1. Components need not be of
length 1. There can be either integer or character
&ldquo;levelsMap&rdquo;. <b>Integer &ldquo;levelsMap&rdquo;</b> (when
<code>codes=TRUE</code>) has names equal to levels and components equal to
internal codes. <b>Character &ldquo;levelsMap&rdquo;</b> (when
<code>codes=FALSE</code>) has names and components equal to levels. When
<code>mapLevels</code> is applied to &ldquo;list&rdquo; or &ldquo;data.frame&rdquo;,
result is of class &ldquo;listLevelsMap&rdquo;, which is a list of
&ldquo;levelsMap&rdquo; components described previously. If
<code>combine=TRUE</code>, result is a &ldquo;levelsMap&rdquo; with all levels in
<code>x</code> components.
</p>
<p>For ease of inspection, print methods unlists &ldquo;levelsMap&rdquo; with
proper names. <code>mapLevels&lt;-</code> methods are fairly general and
therefore additional convenience methods are implemented to ease the
work with maps: <code>is.levelsMap</code> and <code>is.listLevelsMap</code>;
<code>as.levelsMap</code> and <code>as.listLevelsMap</code> for coercion of user
defined maps; generic <code>"["</code> and <code>c</code> for both classes (argument
<code>recursive</code> can be used in <code>c</code> to coerce
&ldquo;listLevelsMap&rdquo; to &ldquo;levelsMap&rdquo;) and generic <code>unique</code>
and <code>sort</code> (generic from <span class="rlang"><b>R</b></span> 2.4) for &ldquo;levelsMap&rdquo;.
</p>


<h3>mapLevels&lt;-</h3>

<p>Workhorse under <code>mapLevels&lt;-</code> methods is
<code><a href="base.html#topic+levels+3C-">levels&lt;-</a></code>. <code>mapLevels&lt;-</code> just control the assignment
of &ldquo;levelsMap&rdquo; (integer or character) or &ldquo;listLevelsMap&rdquo;
to <code>x</code>. The idea is that map values are changed to map names as
indicated in <code><a href="base.html#topic+levels">levels</a></code> examples. <b>Integer
&ldquo;levelsMap&rdquo;</b> can be applied to &ldquo;integer&rdquo; or
&ldquo;factor&rdquo;, while <b>character &ldquo;levelsMap&rdquo;</b> can be
applied to &ldquo;character&rdquo; or &ldquo;factor&rdquo;. Methods for
&ldquo;list&rdquo; and &ldquo;data.frame&rdquo; can work only on mentioned atomic
components/columns and can accept either &ldquo;levelsMap&rdquo; or
&ldquo;listLevelsMap&rdquo;. Recycling occurs, if length of <code>value</code> is not
the same as number of components/columns of a &ldquo;list/data.frame&rdquo;.
</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+factor">factor</a></code>, <code><a href="base.html#topic+levels">levels</a></code> and <code><a href="base.html#topic+unclass">unclass</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Integer levelsMap
(f &lt;- factor(sample(letters, size=20, replace=TRUE)))
(mapInt &lt;- mapLevels(f))

## Integer to factor
(int &lt;- as.integer(f))
(mapLevels(int) &lt;- mapInt)
all.equal(int, f)

## Remap levels of a factor
(fac &lt;- factor(as.integer(f)))
(mapLevels(fac) &lt;- mapInt) # the same as levels(fac) &lt;- mapInt
all.equal(fac, f)

## Character levelsMap
f1 &lt;- factor(letters[1:10])
f2 &lt;- factor(letters[5:14])

## Internal codes are the same, but levels are not
as.integer(f1)
as.integer(f2)

## Get character levelsMaps and combine them
mapCha1 &lt;- mapLevels(f1, codes=FALSE)
mapCha2 &lt;- mapLevels(f2, codes=FALSE)
(mapCha &lt;- c(mapCha1, mapCha2))

## Remap factors
mapLevels(f1) &lt;- mapCha # the same as levels(f1) &lt;- mapCha
mapLevels(f2) &lt;- mapCha # the same as levels(f2) &lt;- mapCha

## Internal codes are now "consistent" among factors
as.integer(f1)
as.integer(f2)

## Remap characters to get factors
f1 &lt;- as.character(f1); f2 &lt;- as.character(f2)
mapLevels(f1) &lt;- mapCha
mapLevels(f2) &lt;- mapCha

## Internal codes are now "consistent" among factors
as.integer(f1)
as.integer(f2)
</code></pre>

<hr>
<h2 id='matchcols'>Select columns names matching certain critera</h2><span id='topic+matchcols'></span>

<h3>Description</h3>

<p>This function allows easy selection of the column names of an object
using a set of inclusion and exclusion critera.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchcols(object, with, without, method=c("and","or"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matchcols_+3A_object">object</code></td>
<td>
<p>Matrix or data frame</p>
</td></tr>
<tr><td><code id="matchcols_+3A_with">with</code>, <code id="matchcols_+3A_without">without</code></td>
<td>
<p>Vector of regular expression patterns</p>
</td></tr>
<tr><td><code id="matchcols_+3A_method">method</code></td>
<td>
<p>One of &quot;and&quot; or &quot;or&quot;</p>
</td></tr>
<tr><td><code id="matchcols_+3A_...">...</code></td>
<td>
<p>Optional arguments to <code>grep</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of column names which match all (<code>method="and"</code>) or any
(<code>method="or"</code>) of the patterns specified in <code>with</code>, but
none of the patterns specified in <code>without</code>.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+grep">grep</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a matrix with many named columns
x &lt;- matrix(ncol=30, nrow=5)
colnames(x) &lt;- c("AffyID","Overall Group Means: Control",
                 "Overall Group Means: Moderate",
                 "Overall Group Means: Marked",
                 "Overall Group Means: Severe",
                 "Overall Group StdDev: Control",
                 "Overall Group StdDev: Moderate",
                 "Overall Group StdDev: Marked",
                 "Overall Group StdDev: Severe",
                 "Overall Group CV: Control",
                 "Overall Group CV: Moderate",
                 "Overall Group CV: Marked",
                 "Overall Group CV: Severe",
                 "Overall Model P-value",
                 "Overall Model: (Intercept): Estimate",
                 "Overall Model: Moderate: Estimate",
                 "Overall Model: Marked: Estimate",
                 "Overall Model: Severe: Estimate",
                 "Overall Model: (Intercept): Std. Error",
                 "Overall Model: Moderate: Std. Error",
                 "Overall Model: Marked: Std. Error",
                 "Overall Model: Severe: Std. Error",
                 "Overall Model: (Intercept): t value",
                 "Overall Model: Moderate: t value",
                 "Overall Model: Marked: t value",
                 "Overall Model: Severe: t value",
                 "Overall Model: (Intercept): Pr(&gt;|t|)",
                 "Overall Model: Moderate: Pr(&gt;|t|)",
                 "Overall Model: Marked: Pr(&gt;|t|)",
                 "Overall Model: Severe: Pr(&gt;|t|)")

# Get the columns which give estimates or p-values
# only for marked and severe groups
matchcols(x, with=c("Pr", "Std. Error"),
             without=c("Intercept","Moderate"),
             method="or")

# Get just the column which give the p-value for the intercept
matchcols(x, with=c("Intercept", "Pr"))
</code></pre>

<hr>
<h2 id='MedUnits'>
Table of conversions between Intertional
Standard (SI) and US 'Conventional' Units for common medical
measurements.
</h2><span id='topic+MedUnits'></span>

<h3>Description</h3>

<p>Table of conversions between Intertional
Standard (SI) and US 'Conventional' Units for common medical
measurements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(MedUnits)</code></pre>


<h3>Format</h3>

<p>A data frame with the following 5 variables.
</p>

<dl>
<dt>Abbreviation</dt><dd><p>Common Abbreviation (mostly missing)</p>
</dd>
<dt>Measurement</dt><dd><p>Measurement Name</p>
</dd>
<dt>ConventionalUnit</dt><dd><p>Conventional Unit</p>
</dd>
<dt>Conversion</dt><dd><p>Conversion factor</p>
</dd>
<dt>SIUnit</dt><dd><p>SI Unit</p>
</dd>
</dl>



<h3>Details</h3>

<p>Medical laboratories and practitioners in the United States use one
set of units (the so-called 'Conventional' units) for reporting the
results of clinical laboratory measurements, while the rest of the
world uses the International Standard (SI) units.  It often becomes
necessary to translate between these units when participating in
international collaborations.
</p>
<p>This data set provides constants for converting between SI and
US 'Conventional' units.
</p>
<p>To perform the conversion from SI units to US 'Conventional' units do:
</p>
<p>Measurement in <code>ConventionalUnit</code> =
(Measurement in <code>SIUnit</code>) /  <code>Conversion</code>
</p>
<p>To perform conversion from 'Conventional' to SI units do:
</p>
<p>Measurement in <code>SIUnit</code> =
(Measurement in <code>ConventionalUnit</code>) * <code>Conversion</code>
</p>


<h3>Source</h3>

<p><a href="https://globalrph.com/medical/conventional-units-international-units/">https://globalrph.com/medical/conventional-units-international-units/</a>
</p>


<h3>See Also</h3>

<p>The function <code><a href="#topic+ConvertMedUnits">ConvertMedUnits</a></code> automates the
conversion task.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(MedUnits)
# Show available conversions
MedUnits$Measurement

# Utility function
matchUnits &lt;- function(X) MedUnits[grep(X, MedUnits$Measurement),]

# Convert SI Glucose measurement to 'Conventional' units
GlucoseSI = c(5, 5.4, 5, 5.1, 5.6, 5.1, 4.9, 5.2, 5.5)  # in SI Units
GlucoseUS = GlucoseSI / matchUnits("Glucose")$Conversion
cbind(GlucoseSI, GlucoseUS)

# Also consider using ConvertMedUnits()
ConvertMedUnits(GlucoseSI, "Glucose", to="US")
</code></pre>

<hr>
<h2 id='mv'>
Rename an Object
</h2><span id='topic+mv'></span>

<h3>Description</h3>

<p>Rename an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mv(from, to, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mv_+3A_from">from</code></td>
<td>
<p>Character scalar giving the source object name</p>
</td></tr>
<tr><td><code id="mv_+3A_to">to</code></td>
<td>
<p>Character scalar giving the desination object name</p>
</td></tr>
<tr><td><code id="mv_+3A_envir">envir</code></td>
<td>
<p>Environment in which to do the rename</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function renames an object by the value of object <code>a</code> to the
name <code>b</code>, and removing <code>a</code>.
</p>


<h3>Value</h3>

<p>Invisibly returns the value of the object.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+rm">rm</a></code>, <code><a href="base.html#topic+assign">assign</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- 1:10
a
mv("a", "b")
b
exists("a")
</code></pre>

<hr>
<h2 id='nobs'>Compute the Number of Non-Missing Observations</h2><span id='topic+nobs'></span><span id='topic+n_obs'></span><span id='topic+nobs.data.frame'></span><span id='topic+nobs.default'></span><span id='topic+nobs.lm'></span>

<h3>Description</h3>

<p>Compute the number of non-missing observations. Provides a new default
method to handle numeric and logical vectors, and a method for data frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nobs(object, ...)
## Default S3 method:
nobs(object, ...)
## S3 method for class 'data.frame'
nobs(object, ...)
## S3 method for class 'lm'
nobs(object, ...)
n_obs(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nobs_+3A_object">object</code></td>
<td>
<p>Numeric or logical vector, data frame, or a model object.</p>
</td></tr>
<tr><td><code id="nobs_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either single numeric value (for vectors) or a vector of numeric
values (for data frames) giving the number of non-missing values.
</p>


<h3>Note</h3>

<p>The base R package <code>stats</code> provides a generic <code>nobs</code>
function with methods for fitted model objects. The <code>gdata</code>
package adds methods for numeric and logical vectors, as well as data
frames.
</p>
<p>An alias function <code>n_obs</code> is also provided, equivalent to
<code>gdata::nobs</code>. Using <code>n_obs</code> in scripts makes it explicitly
clear that the <code>gdata</code> implementation is being used.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+nobs">nobs</a></code> in package 'stats' for the base R implementation,
<code><a href="Matrix.html#topic+is.na">is.na</a></code>, <code><a href="base.html#topic+length">length</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 2, 3, 5, NA, 6, 7, 1, NA)
length(x)
nobs(x)

df &lt;- data.frame(x=rnorm(100), y=rnorm(100))
df[1,1] &lt;- NA
df[1,2] &lt;- NA
df[2,1] &lt;- NA
nobs(df)

fit &lt;- lm(y~x, data=df)
nobs(fit)
n_obs(fit)

# Comparison
# gdata
nobs(x)
nobs(df)
# stats
length(na.omit(x))
sapply(df, function(x) length(na.omit(x)))
</code></pre>

<hr>
<h2 id='nPairs'>Number of variable pairs</h2><span id='topic+nPairs'></span>

<h3>Description</h3>

<p>Count the number of pairs between variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nPairs(x, margin=FALSE, names=TRUE, abbrev=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nPairs_+3A_x">x</code></td>
<td>
<p>data.frame or a matrix</p>
</td></tr>
<tr><td><code id="nPairs_+3A_margin">margin</code></td>
<td>
<p>logical, calculate the cumulative number of &ldquo;pairs&rdquo;</p>
</td></tr>
<tr><td><code id="nPairs_+3A_names">names</code></td>
<td>
<p>logical, add row/col-names to the output</p>
</td></tr>
<tr><td><code id="nPairs_+3A_abbrev">abbrev</code></td>
<td>
<p>logical, abbreviate names</p>
</td></tr>
<tr><td><code id="nPairs_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="base.html#topic+abbreviate">abbreviate</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The class of returned matrix is nPairs and matrix. There is a summary method,
which shows the opposite information - counts how many times each variable is
known, while the other variable of a pair is not. See examples.
</p>


<h3>Value</h3>

<p>Matrix of order <code class="reqn">k</code>, where <code class="reqn">k</code> is the number of columns in <code>x</code>.
Values in a matrix represent the number of pairs between columns/variables in
<code>x</code>. If <code>margin=TRUE</code>, the number of columns is <code class="reqn">k+1</code> and the
last column represents the cumulative number of pairing all variables.
</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+abbreviate">abbreviate</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Test data
test &lt;- data.frame(V1=c(1, 2, 3, 4, 5),
                   V2=c(NA, 2, 3, 4, 5),
                   V3=c(1, NA, NA, NA, NA),
                   V4=c(1, 2, 3, NA, NA))

# Number of variable pairs
nPairs(x=test)

# Without names
nPairs(x=test, names=FALSE)

# Longer names
colnames(test) &lt;- c("Variable1", "Variable2", "Variable3", "Variable4")
nPairs(x=test)

# Margin
nPairs(x=test, margin=TRUE)

# Summary
summary(object=nPairs(x=test))
</code></pre>

<hr>
<h2 id='object_size'>Report the Space Allocated for Objects</h2><span id='topic+object_size'></span><span id='topic+c.object_sizes'></span><span id='topic+as.object_sizes'></span><span id='topic+is.object_sizes'></span><span id='topic+format.object_sizes'></span><span id='topic+print.object_sizes'></span><span id='topic+object.size'></span>

<h3>Description</h3>

<p>Provides an estimate of the memory that is being used to store <span class="rlang"><b>R</b></span> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>object_size(...)

## S3 method for class 'object_sizes'
is(x)

## S3 method for class 'object_sizes'
as(x)

## S3 method for class 'object_sizes'
c(..., recursive=FALSE)

## S3 method for class 'object_sizes'
format(x, humanReadable=getOption("humanReadable"),
       standard="IEC", units, digits=1, width=NULL, sep=" ",
       justify=c("right", "left"), ...)

## S3 method for class 'object_sizes'
print(x, quote=FALSE,
      humanReadable=getOption("humanReadable"), standard="IEC", units, digits=1,
      width=NULL, sep=" ", justify=c("right", "left"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="object_size_+3A_...">...</code></td>
<td>
<p><code>object_size</code>: <span class="rlang"><b>R</b></span> objects;
<code>print</code> and <code>format</code>: arguments to be passed to other methods.</p>
</td></tr>
<tr><td><code id="object_size_+3A_x">x</code></td>
<td>
<p>output from <code>object_size</code>.</p>
</td></tr>
<tr><td><code id="object_size_+3A_quote">quote</code></td>
<td>
<p>whether or not the result should be printed with
surrounding quotes.</p>
</td></tr>
<tr><td><code id="object_size_+3A_humanreadable">humanReadable</code></td>
<td>
<p>whether to use the &ldquo;human readable&rdquo; format.</p>
</td></tr>
<tr><td><code id="object_size_+3A_standard">standard</code>, <code id="object_size_+3A_units">units</code>, <code id="object_size_+3A_digits">digits</code>, <code id="object_size_+3A_width">width</code>, <code id="object_size_+3A_sep">sep</code>, <code id="object_size_+3A_justify">justify</code></td>
<td>
<p>passed to
<code><a href="#topic+humanReadable">humanReadable</a></code>.</p>
</td></tr>
<tr><td><code id="object_size_+3A_recursive">recursive</code></td>
<td>
<p>passed to the <code><a href="base.html#topic+c">c</a></code> method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The base R package <code>utils</code> provides an <code>object.size</code>
function that handles a single object. The <code>gdata</code> package
provides a similar <code>object_size</code> function that handles multiple
objects.
</p>
<p>Both the <code>utils</code> and <code>gdata</code> implementations store the
object size in bytes, but offer a slightly different user interface
for showing the object size in other formats. The <code>gdata</code>
implementation offers human readable format similar to <code>ls</code>,
<code>df</code> or <code>du</code> shell commands, by calling <code>humanReadable</code>
directly, calling <code>print</code> with the argument
<code>humanReadable=TRUE</code>, or by setting
<code>options(humanReadable=TRUE)</code>.
</p>
<p>The 3.0.0 release of <code>gdata</code> renamed this function to
<code>object_size</code>, allowing users to explicitly call the <code>gdata</code>
implementation. This eliminates ambiguity and makes it less likely to
get errors when running parts of an existing script without first
loading the <code>gdata</code> package. The old <code>object.size</code> function
name is now deprecated in the <code>gdata</code> package, pointing users to
<code>object_size</code> and <code>utils::gdata</code> instead.
</p>


<h3>Value</h3>

<p>A numeric vector class <code>c("object_sizes", "numeric")</code> containing
estimated memory allocation attributable to the objects in bytes.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+object.size">object.size</a></code> in package 'utils' for the base R
implementation,
<code><a href="base.html#topic+Memory-limits">Memory-limits</a></code> for the design limitations on object size,
<code><a href="#topic+humanReadable">humanReadable</a></code> for human readable format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>object_size(letters)
object_size(ls)

# Find the 10 largest objects in the base package
allObj &lt;- sapply(ls("package:base"), function(x)
  object_size(get(x, envir=baseenv())))
(bigObj &lt;- as.object_sizes(rev(sort(allObj))[1:10]))
print(bigObj, humanReadable=TRUE)

as.object_sizes(14567567)

oldopt &lt;- options(humanReadable=TRUE)
(z &lt;- object_size(letters,
                  c(letters, letters),
                  rep(letters, 100),
                  rep(letters, 10000)))
is.object_sizes(z)
as.object_sizes(14567567)
options(oldopt)

# Comparison
# gdata
print(object_size(loadNamespace), humanReadable=TRUE)
print(bigObj, humanReadable=TRUE)
# utils
print(utils::object.size(loadNamespace), units="auto")
sapply(bigObj, utils:::format.object_size, units="auto")
# ll
ll("package:base")[order(-ll("package:base")$KB)[1:10],]
</code></pre>

<hr>
<h2 id='rename.vars'>Remove or rename variables in a data frame</h2><span id='topic+rename.vars'></span><span id='topic+remove.vars'></span>

<h3>Description</h3>

<p>Remove or rename a variables in a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename.vars(data, from="", to="", info=TRUE)
remove.vars(data, names="", info=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rename.vars_+3A_data">data</code></td>
<td>
<p>data frame to be modified.</p>
</td></tr>
<tr><td><code id="rename.vars_+3A_from">from</code></td>
<td>
<p>character vector containing the current name of each
variable to be renamed.</p>
</td></tr>
<tr><td><code id="rename.vars_+3A_to">to</code></td>
<td>
<p>character vector containing the new name of each variable
to be renamed.</p>
</td></tr>
<tr><td><code id="rename.vars_+3A_names">names</code></td>
<td>
<p>character vector containing the names of variables to be
removed.</p>
</td></tr>
<tr><td><code id="rename.vars_+3A_info">info</code></td>
<td>
<p>boolean value indicating whether to print details of the
removal/renaming. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The updated data frame with variables listed in <code>from</code> renamed to
the corresponding element of <code>to</code>.
</p>


<h3>Author(s)</h3>

<p>Code by Don MacQueen <a href="mailto:macq@llnl.gov">macq@llnl.gov</a>.
Documentation by Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>.</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+names">names</a></code>, <code><a href="base.html#topic+colnames">colnames</a></code>, <code><a href="base.html#topic+data.frame">data.frame</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- data.frame(x=1:10,y=1:10,z=1:10)
names(data)
data &lt;- rename.vars(data, c("x","y","z"), c("first","second","third"))
names(data)

data &lt;- remove.vars(data, "second")
names(data)
</code></pre>

<hr>
<h2 id='reorder.factor'>Reorder the Levels of a Factor</h2><span id='topic+reorder.factor'></span>

<h3>Description</h3>

<p>Reorder the levels of a factor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'factor'
reorder(x, X, FUN, ..., order=is.ordered(x), new.order,
        sort=mixedsort)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reorder.factor_+3A_x">x</code></td>
<td>
<p>factor</p>
</td></tr>
<tr><td><code id="reorder.factor_+3A_x">X</code></td>
<td>
<p>auxillary data vector</p>
</td></tr>
<tr><td><code id="reorder.factor_+3A_fun">FUN</code></td>
<td>
<p>function to be applied to subsets of <code>X</code> determined by
<code>x</code>, to determine factor order</p>
</td></tr>
<tr><td><code id="reorder.factor_+3A_...">...</code></td>
<td>
<p>optional parameters to <code>FUN</code></p>
</td></tr>
<tr><td><code id="reorder.factor_+3A_order">order</code></td>
<td>
<p>logical value indicating whether the returned
object should be an <code><a href="base.html#topic+ordered">ordered</a></code> factor</p>
</td></tr>
<tr><td><code id="reorder.factor_+3A_new.order">new.order</code></td>
<td>
<p>a vector of indexes or a vector of label names giving
the order of the new factor levels</p>
</td></tr>
<tr><td><code id="reorder.factor_+3A_sort">sort</code></td>
<td>
<p>function to use to sort the factor level names, used only
when <code>new.order</code> is missing</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function changes the order of the levels of a factor. It can do
so via three different mechanisms, depending on whether, <code>X</code>
<em>and</em> <code>FUN</code>, <code>new.order</code> or <code>sort</code> are provided.
</p>
<p>If <code>X</code> <em>and</em> <code>FUN</code> are provided: The data in <code>X</code>
is grouped by the levels of <code>x</code> and <code>FUN</code> is applied.
The groups are then sorted by this value, and the resulting order is
used for the new factor level names.
</p>
<p>If <code>new.order</code> is a numeric vector, the new factor level names
are constructed by reordering the factor levels according to the
numeric values. If <code>new.order</code> is a chraccter vector,
<code>new.order</code> gives the list of new factor level names. In either
case levels omitted from <code>new.order</code> will become missing
(<code>NA</code>) values.
</p>
<p>If <code>sort</code> is provided (as it is by default): The new factor level
names are generated by calling the function specified by <code>sort</code>
to the existing factor level <em>names</em>. With <code>sort=mixedsort</code>
(the default) the factor levels are sorted so that combined numeric
and character strings are sorted in according to character rules on
the character sections (including ignoring case), and the numeric
rules for the numeric sections. See <code><a href="gtools.html#topic+mixedsort">mixedsort</a></code>
for details.
</p>


<h3>Value</h3>

<p>A new factor with reordered levels</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+factor">factor</a></code> and <code><a href="stats.html#topic+reorder">reorder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a 4 level example factor
trt &lt;- factor(sample(c("PLACEBO", "300 MG", "600 MG", "1200 MG"),
              100, replace=TRUE))
summary(trt)
# Note that the levels are not in a meaningful order.

# Change the order to something useful
# - default "mixedsort" ordering
trt2 &lt;- reorder(trt)
summary(trt2)
# - using indexes:
trt3 &lt;- reorder(trt, new.order=c(4, 2, 3, 1))
summary(trt3)
# - using label names:
trt4 &lt;- reorder(trt, new.order=c("PLACEBO", "300 MG", "600 MG", "1200 MG"))
summary(trt4)
# - using frequency
trt5 &lt;- reorder(trt, X=rnorm(100), FUN=mean)
summary(trt5)

# Drop out the '300 MG' level
trt6 &lt;- reorder(trt, new.order=c("PLACEBO", "600 MG", "1200 MG"))
summary(trt6)
</code></pre>

<hr>
<h2 id='resample'>Consistent Random Samples and Permutations</h2><span id='topic+resample'></span>

<h3>Description</h3>

<p>Take a sample of the specified size from the
elements of <code>x</code> using either with or without replacement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resample(x, size, replace = FALSE, prob = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resample_+3A_x">x</code></td>
<td>
<p>A numeric, complex, character or logical vector from which
to choose.</p>
</td></tr>
<tr><td><code id="resample_+3A_size">size</code></td>
<td>
<p>Non-negative integer giving the number of items to choose.</p>
</td></tr>
<tr><td><code id="resample_+3A_replace">replace</code></td>
<td>
<p>Should sampling be with replacement?</p>
</td></tr>
<tr><td><code id="resample_+3A_prob">prob</code></td>
<td>
<p>A vector of probability weights for obtaining the elements of
the vector being sampled.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>resample</code> differs from the S/R <code>sample</code> function in
<code>resample</code> always considers <code>x</code> to be a vector of elements
to select from, while <code>sample</code> treats a vector of length one as a
special case and samples from <code>1:x</code>.  Otherwise, the functions
have identical behavior.
</p>


<h3>Value</h3>

<p>Vector of the same length as the input, with the elements permuted.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sample">sample</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Sample behavior differs if first argument is scalar vs vector
sample(c(10))
sample(c(10, 10))

## Resample has the consistent behavior for both cases
resample(c(10))
resample(c(10, 10))
</code></pre>

<hr>
<h2 id='startsWith'>Does String Start or End With Another String?</h2><span id='topic+startsWith'></span><span id='topic+starts_with'></span>

<h3>Description</h3>

<p>Determines if entries of <code>x</code> start with a string <code>prefix</code>,
where strings are recycled to common lengths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>startsWith(x, prefix, trim=FALSE, ignore.case=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="startsWith_+3A_x">x</code></td>
<td>
<p>character vector whose &ldquo;starts&rdquo; are considered.</p>
</td></tr>
<tr><td><code id="startsWith_+3A_prefix">prefix</code></td>
<td>
<p>character vector, typicall of length one, i.e., a string.</p>
</td></tr>
<tr><td><code id="startsWith_+3A_trim">trim</code></td>
<td>
<p>whether leading and trailing spaces should be removed from
<code>x</code> before testing for a match.</p>
</td></tr>
<tr><td><code id="startsWith_+3A_ignore.case">ignore.case</code></td>
<td>
<p>whether case should be ignored when testing for a
match.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector, of &ldquo;common length&rdquo; of <code>x</code> and
<code>prefix</code>, i.e., of the longer of the two lengths unless one of
them is zero when the result is also of zero length.  A shorter input
is recycled to the output length.
</p>


<h3>Note</h3>

<p>The <code>base</code> package provides the underlying <code>startsWith</code>
function that performs the string comparison. The <code>gdata</code> package
adds the <code>trim</code> and <code>ignore.case</code> features.
</p>
<p>An alias function <code>starts_with</code> is also provided, equivalent to
<code>gdata::startsWith</code>. Using <code>starts_with</code> in scripts makes it
explicitly clear that the <code>gdata</code> implementation is being used.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+startsWith">startsWith</a></code> for the 'base' package implementation,
<code><a href="base.html#topic+grepl">grepl</a></code>, <code><a href="base.html#topic+substring">substring</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Simple example
startsWith("Testing", "Test")

## Vector examples
s &lt;- c("Testing", " Testing", "testing", "Texting")
names(s) &lt;- s

startsWith(s, "Test")        # " Testing", "testing", and "Texting" do not match
startsWith(s, "Test", trim=TRUE)        # Now " Testing" matches
startsWith(s, "Test", ignore.case=TRUE) # Now "testing" matches

# Comparison
# gdata
startsWith(s, "Test", trim=TRUE)
startsWith(s, "Test", ignore.case=TRUE)
# base
startsWith(trimws(s), "Test")
startsWith(tolower(s), tolower("Test"))
</code></pre>

<hr>
<h2 id='trim'>Remove leading and trailing spaces from character strings</h2><span id='topic+trim'></span>

<h3>Description</h3>

<p>Remove leading and trailing spaces from character strings and other
related objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim(s, recode.factor=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_+3A_s">s</code></td>
<td>
<p>object to be processed</p>
</td></tr>
<tr><td><code id="trim_+3A_recode.factor">recode.factor</code></td>
<td>
<p>should levels of a factor be recoded, see below</p>
</td></tr>
<tr><td><code id="trim_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods, currently only to
<code><a href="#topic+reorder.factor">reorder.factor</a></code> for factors</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>trim</code> is a generic function, where default method does nothing,
while method for character <code>s</code> trims its elements and method for
factor <code>s</code> trims <code><a href="base.html#topic+levels">levels</a></code>. There are also methods for
<code>list</code> and <code>data.frame</code>.
</p>
<p>Trimming character strings can change the sort order in some locales.
For factors, this can affect the coding of levels. By default, factor
levels are recoded to match the trimmed sort order, but this can be
disabled by setting <code>recode.factor=FALSE</code>. Recoding is done with
<code><a href="#topic+reorder.factor">reorder.factor</a></code>.
</p>


<h3>Value</h3>

<p><code>s</code> with all leading and trailing spaces removed in its elements.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>  with
contributions by Gregor Gorjanc
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+trimws">trimws</a></code>, <code><a href="base.html#topic+sub">sub</a></code>,
<code><a href="base.html#topic+gsub">gsub</a></code> as well as argument <code>strip.white</code> in
<code><a href="utils.html#topic+read.table">read.table</a></code> and <code><a href="#topic+reorder.factor">reorder.factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>s &lt;- "    this is an example string    "
trim(s)

f &lt;- factor(c(s, s, " A", " B ", "  C ", "D "))
levels(f)

trim(f)
levels(trim(f))

trim(f, recode.factor=FALSE)
levels(trim(f, recode.factor=FALSE))

l &lt;- list(s=rep(s, times=6), f=f, i=1:6)
trim(l)

df &lt;- as.data.frame(l)
trim(df)
</code></pre>

<hr>
<h2 id='trimSum'>Trim a vector such that the last/first value represents the sum of
trimmed values</h2><span id='topic+trimSum'></span>

<h3>Description</h3>

<p>Trim (shorten) a vector in such a way that
the last or first value represents the sum of trimmed values. User needs
to specify the desired length of a trimmed vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trimSum(x, n, right=TRUE, na.rm=FALSE, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trimSum_+3A_x">x</code></td>
<td>
<p>numeric, a vector of numeric values</p>
</td></tr>
<tr><td><code id="trimSum_+3A_n">n</code></td>
<td>
<p>numeric, desired length of the output</p>
</td></tr>
<tr><td><code id="trimSum_+3A_right">right</code></td>
<td>
<p>logical, trim on the right/bottom  or the left/top  side</p>
</td></tr>
<tr><td><code id="trimSum_+3A_na.rm">na.rm</code></td>
<td>
<p>logical, remove <code>NA</code> values when applying a function</p>
</td></tr>
<tr><td><code id="trimSum_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods - currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Trimmed vector with a last/first value representing the sum of
trimmed values
</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p><code><a href="#topic+trim">trim</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
trimSum(x, n=5)
trimSum(x, n=5, right=FALSE)

x[9] &lt;- NA
trimSum(x, n=5)
trimSum(x, n=5, na.rm=TRUE)
</code></pre>

<hr>
<h2 id='unknownToNA'>Change unknown values to NA and vice versa</h2><span id='topic+isUnknown'></span><span id='topic+isUnknown.default'></span><span id='topic+isUnknown.POSIXlt'></span><span id='topic+isUnknown.list'></span><span id='topic+isUnknown.data.frame'></span><span id='topic+isUnknown.matrix'></span><span id='topic+unknownToNA'></span><span id='topic+unknownToNA.default'></span><span id='topic+unknownToNA.factor'></span><span id='topic+unknownToNA.list'></span><span id='topic+unknownToNA.data.frame'></span><span id='topic+NAToUnknown'></span><span id='topic+NAToUnknown.default'></span><span id='topic+NAToUnknown.factor'></span><span id='topic+NAToUnknown.list'></span><span id='topic+NAToUnknown.data.frame'></span>

<h3>Description</h3>

<p>Unknown or missing values (<code>NA</code> in <span class="rlang"><b>R</b></span>) can be represented in
various ways (as 0, 999, etc.) in different programs. <code>isUnknown</code>,
<code>unknownToNA</code>, and <code>NAToUnknown</code> can help to change unknown
values to <code>NA</code> and vice versa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isUnknown(x, unknown=NA, ...)
unknownToNA(x, unknown, warning=FALSE, ...)
NAToUnknown(x, unknown, force=FALSE, call.=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unknownToNA_+3A_x">x</code></td>
<td>
<p>generic, object with unknown value(s)</p>
</td></tr>
<tr><td><code id="unknownToNA_+3A_unknown">unknown</code></td>
<td>
<p>generic, value used instead of <code>NA</code></p>
</td></tr>
<tr><td><code id="unknownToNA_+3A_warning">warning</code></td>
<td>
<p>logical, issue warning if <code>x</code> already has <code>NA</code></p>
</td></tr>
<tr><td><code id="unknownToNA_+3A_force">force</code></td>
<td>
<p>logical, force to apply already existing value in <code>x</code></p>
</td></tr>
<tr><td><code id="unknownToNA_+3A_...">...</code></td>
<td>
<p>arguments pased to other methods (as.character for POSIXlt
in case of isUnknown)</p>
</td></tr>
<tr><td><code id="unknownToNA_+3A_call.">call.</code></td>
<td>
<p>logical, look in <code><a href="base.html#topic+warning">warning</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This functions were written to handle different variants of
&ldquo;other <code>NA</code>&rdquo; like representations that are usually used in
various external data sources. <code>unknownToNA</code> can help to change
unknown values to <code>NA</code> for work in <span class="rlang"><b>R</b></span>, while <code>NAToUnknown</code> is
meant for the opposite and would usually be used prior to export of data
from <span class="rlang"><b>R</b></span>. <code>isUnknown</code> is a utility function for testing for unknown
values.
</p>
<p>All functions are generic and the following classes were tested to work
with latest version: &ldquo;integer&rdquo;, &ldquo;numeric&rdquo;,
&ldquo;character&rdquo;, &ldquo;factor&rdquo;, &ldquo;Date&rdquo;, &ldquo;POSIXct&rdquo;,
&ldquo;POSIXlt&rdquo;, &ldquo;list&rdquo;, &ldquo;data.frame&rdquo; and
&ldquo;matrix&rdquo;. For others default method might work just fine.
</p>
<p><code>unknownToNA</code> and <code>isUnknown</code> can cope with multiple values in
<code>unknown</code>, but those should be given as a &ldquo;vector&rdquo;. If not,
coercing to vector is applied. Argument <code>unknown</code> can be feed also
with &ldquo;list&rdquo; in &ldquo;list&rdquo; and &ldquo;data.frame&rdquo; methods.
</p>
<p>If named &ldquo;list&rdquo; or &ldquo;vector&rdquo; is passed to argument
<code>unknown</code> and <code>x</code> is also named, matching of names will occur.
</p>
<p>Recycling occurs in all &ldquo;list&rdquo; and &ldquo;data.frame&rdquo; methods,
when <code>unknown</code> argument is not of the same length as <code>x</code> and
<code>unknown</code> is not named.
</p>
<p>Argument <code>unknown</code> in <code>NAToUnknown</code> should hold value that is
not already present in <code>x</code>. If it does, error is produced and one
can bypass that with <code>force=TRUE</code>, but be warned that there is no
way to distinguish values after this action. Use at your own risk!
Anyway, warning is issued about new value in <code>x</code>. Additionally,
caution should be taken when using <code>NAToUnknown</code> on factors as
additional level (value of <code>unknown</code>) is introduced. Then, as
expected, <code>unknownToNA</code> removes defined level in <code>unknown</code>. If
<code>unknown="NA"</code>, then <code>"NA"</code> is removed from factor levels in
<code>unknownToNA</code> due to consistency with conversions back and forth.
</p>
<p>Unknown representation in <code>unknown</code> should have the same class as
<code>x</code> in <code>NAToUnknown</code>, except in factors, where <code>unknown</code>
value is coerced to character anyway. Silent coercing is also applied,
when &ldquo;integer&rdquo; and &ldquo;numeric&rdquo; are in question. Otherwise
warning is issued and coercing is tried. If that fails, <span class="rlang"><b>R</b></span> introduces
<code>NA</code> and the goal of <code>NAToUnknown</code> is not reached.
</p>
<p><code>NAToUnknown</code> accepts only single value in <code>unknown</code> if
<code>x</code> is atomic, while &ldquo;list&rdquo; and &ldquo;data.frame&rdquo; methods
accept also &ldquo;vector&rdquo; and &ldquo;list&rdquo;.
</p>
<p>&ldquo;list/data.frame&rdquo; methods can work on many components/columns. To
reduce the number of needed specifications in <code>unknown</code> argument,
default unknown value can be specified with component &quot;.default&quot;. This
matches component/column &quot;.default&quot; as well as all other undefined
components/columns! Look in examples.
</p>


<h3>Value</h3>

<p><code>unknownToNA</code> and <code>NAToUnknown</code> return modified
<code>x</code>. <code>isUnknown</code> returns logical values for object <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p><code><a href="Matrix.html#topic+is.na">is.na</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>xInt &lt;- c(0, 1, 0, 5, 6, 7, 8, 9, NA)
isUnknown(x=xInt, unknown=0)
isUnknown(x=xInt, unknown=c(0, NA))
(xInt &lt;- unknownToNA(x=xInt, unknown=0))
(xInt &lt;- NAToUnknown(x=xInt, unknown=0))

xFac &lt;- factor(c("0", 1, 2, 3, NA, "NA"))
isUnknown(x=xFac, unknown=0)
isUnknown(x=xFac, unknown=c(0, NA))
isUnknown(x=xFac, unknown=c(0, "NA"))
isUnknown(x=xFac, unknown=c(0, "NA", NA))
(xFac &lt;- unknownToNA(x=xFac, unknown="NA"))
(xFac &lt;- NAToUnknown(x=xFac, unknown="NA"))

xList &lt;- list(xFac=xFac, xInt=xInt)
isUnknown(xList, unknown=c("NA", 0))
isUnknown(xList, unknown=list("NA", 0))
tmp &lt;- c(0, "NA")
names(tmp) &lt;- c(".default", "xFac")
isUnknown(xList, unknown=tmp)
tmp &lt;- list(.default=0, xFac="NA")
isUnknown(xList, unknown=tmp)

(xList &lt;- unknownToNA(xList, unknown=tmp))
(xList &lt;- NAToUnknown(xList, unknown=999))
</code></pre>

<hr>
<h2 id='unmatrix'>Convert a matrix into a vector, with appropriate names</h2><span id='topic+unmatrix'></span>

<h3>Description</h3>

<p>Convert a matrix into a vector, with element names constructed from
the row and column names of the matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unmatrix(x, byrow=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unmatrix_+3A_x">x</code></td>
<td>
<p>matrix</p>
</td></tr>
<tr><td><code id="unmatrix_+3A_byrow">byrow</code></td>
<td>
<p>Logical. If <code>FALSE</code>, the elements within columns will be
adjacent in the resulting vector, otherwise elements within rows
will be adjacent.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with names constructed from the row and column names from the
matrix. If the row or column names are missing, ('r1', 'r2', ...,) or
('c1', 'c2', ...) will be used as appropriate.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+as.vector">as.vector</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple example
m &lt;- matrix(letters[1:10], ncol=5)
m
unmatrix(m)

# Unroll model output
x &lt;- rnorm(100)
y &lt;- rnorm(100, mean=3+5*x, sd=0.25)
m &lt;- coef(summary(lm(y ~ x)))
unmatrix(m)
</code></pre>

<hr>
<h2 id='update.list'>Update the elements of a list, or rows of a data frame</h2><span id='topic+update.list'></span><span id='topic+update.data.frame'></span>

<h3>Description</h3>

<p>For a list, update the elements of a list to contain all of the named elements
of a new list, overwriting elements with the same name, and (optionally)
copying unnamed elements. For a data frame, replace the rows of a data frame
by corresponding rows in 'new' with the same value for 'by'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
update(object, new, unnamed=FALSE, ...)
## S3 method for class 'data.frame'
update(object, new, by, by.x=by, by.y=by,
       append=TRUE, verbose=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.list_+3A_object">object</code></td>
<td>
<p>List or data frame to be updated.</p>
</td></tr>
<tr><td><code id="update.list_+3A_new">new</code></td>
<td>
<p>List or data frame containing new elements/rows.</p>
</td></tr>
<tr><td><code id="update.list_+3A_unnamed">unnamed</code></td>
<td>
<p>Logical. If <code>TRUE</code>, unnamed list elements of <code>new</code>
will be appended to <code>object</code>.</p>
</td></tr>
<tr><td><code id="update.list_+3A_by">by</code>, <code id="update.list_+3A_by.x">by.x</code>, <code id="update.list_+3A_by.y">by.y</code></td>
<td>
<p>Character. Name of column to use for matching
data frame rows.</p>
</td></tr>
<tr><td><code id="update.list_+3A_append">append</code></td>
<td>
<p>Logical. If <code>TRUE</code>, items in <code>new</code> with no match
in <code>object</code> will be appended to the data frame.</p>
</td></tr>
<tr><td><code id="update.list_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If <code>TRUE</code> progress messages will be displayed.</p>
</td></tr>
<tr><td><code id="update.list_+3A_...">...</code></td>
<td>
<p>optional method arguments (ignored).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>update.list</code></td>
<td>
<p>a list a constructed from the elements of <code>object</code>,
with named elements of <code>new</code> replacing corresponding named elements
from <code>object</code>, and non-corresponding elements of <code>new</code> appended.
If <code>unnamed=TRUE</code>, unnamed elements of <code>new</code> will be appended.</p>
</td></tr>
<tr><td><code>update.data.frame</code></td>
<td>
<p>a data frame constructed from the rows of
<code>object</code> with rows where values in <code>by.x</code> equal the values
in <code>by.y</code> replaced by the corresponding row in <code>new</code>. If
<code>append=TRUE</code>, any elements of <code>new</code> without no matching
rows in <code>object</code> will be appended.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>These methods can be called directly or as via the S3 base method for
<code>update</code>.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+update">update</a></code>, <code><a href="base.html#topic+merge">merge</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Update list
old &lt;- list(a=1,b="red",c=1.37)
new &lt;- list(b="green",c=2.4)

update(old, new)
update.list(old,new)  # equivalent

older &lt;- list(a=0, b="orange", 4, 5, 6)
newer &lt;- list(b="purple", 7, 8, 9)
update(older, newer)               # ignores unnamed elements of newer
update(older, newer, unnamed=TRUE) # appends unnamed elements of newer

# Update data frame
old &lt;- data.frame(letter=letters[1:5], number=1:5)
new &lt;- data.frame(letter=letters[c(5, 1, 7)], number=c(-5, -1, -7))

update(old, new, by="letter") # default is append=TRUE
update(old, new, by="letter", append=FALSE)
update(old, new, by="letter", verbose=FALSE)
</code></pre>

<hr>
<h2 id='upperTriangle'>Extract or replace the upper/lower triangular portion of a matrix</h2><span id='topic+upperTriangle'></span><span id='topic+upperTriangle+3C-'></span><span id='topic+lowerTriangle'></span><span id='topic+lowerTriangle+3C-'></span>

<h3>Description</h3>

<p>Extract or replace the upper/lower triangular portion of a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>upperTriangle(x, diag=FALSE, byrow=FALSE)
upperTriangle(x, diag=FALSE, byrow=FALSE) &lt;- value
lowerTriangle(x, diag=FALSE, byrow=FALSE)
lowerTriangle(x, diag=FALSE, byrow=FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="upperTriangle_+3A_x">x</code></td>
<td>
<p>Matrix</p>
</td></tr>
<tr><td><code id="upperTriangle_+3A_diag">diag</code></td>
<td>
<p>Logical. If <code>TRUE</code>, include the matrix diagonal.</p>
</td></tr>
<tr><td><code id="upperTriangle_+3A_byrow">byrow</code></td>
<td>
<p>Logical. If <code>FALSE</code>, return/replace elements in
column-wise order. If <code>TRUE</code>, return/replace elements in
row-wise order.</p>
</td></tr>
<tr><td><code id="upperTriangle_+3A_value">value</code></td>
<td>
<p>Either a single value or a vector of length equal to that
of the current upper/lower triangular. Should be of a mode which
can be coerced to that of <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>upperTriangle(x)</code> and <code>lowerTriangle(x)</code> return the upper
or lower triangle of matrix x, respectively. The assignment forms
replace the upper or lower triangular area of the
matrix with the provided value(s).
</p>


<h3>Note</h3>

<p>By default, the elements are returned/replaced in R's default column-wise
order. Thus
</p>
<pre>lowerTriangle(x) &lt;- upperTriangle(x)</pre>
<p>will not yield a symmetric matrix.  Instead use:
</p>
<pre>lowerTriangle(x) &lt;- upperTriangle(x, byrow=TRUE)</pre>
<p>or equivalently:
</p>
<pre>lowerTriangle(x, byrow=TRUE) &lt;- upperTriangle(x)</pre>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a></p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+diag">diag</a></code>,
<code><a href="base.html#topic+lower.tri">lower.tri</a></code>,
<code><a href="base.html#topic+upper.tri">upper.tri</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- matrix(1:25, nrow=5, ncol=5)
x
upperTriangle(x)
upperTriangle(x, diag=TRUE)
upperTriangle(x, diag=TRUE, byrow=TRUE)

lowerTriangle(x)
lowerTriangle(x, diag=TRUE)
lowerTriangle(x, diag=TRUE, byrow=TRUE)

upperTriangle(x) &lt;- NA
x

upperTriangle(x, diag=TRUE) &lt;- 1:15
x

lowerTriangle(x) &lt;- NA
x

lowerTriangle(x, diag=TRUE) &lt;- 1:15
x

## Copy lower triangle into upper triangle to make
## the matrix (diagonally) symmetric
x &lt;- matrix(LETTERS[1:25], nrow=5, ncol=5, byrow=TRUE)
x
lowerTriangle(x) = upperTriangle(x, byrow=TRUE)
x
</code></pre>

<hr>
<h2 id='wideByFactor'>Create multivariate data by a given factor</h2><span id='topic+wideByFactor'></span>

<h3>Description</h3>

<p>Modify data frame in such a way that variables are
&ldquo;separated&rdquo; into several columns by factor levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  wideByFactor(x, factor, common, sort=TRUE, keepFactor=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wideByFactor_+3A_x">x</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="wideByFactor_+3A_factor">factor</code></td>
<td>
<p>character, column name of a factor by which variables will
be divided</p>
</td></tr>
<tr><td><code id="wideByFactor_+3A_common">common</code></td>
<td>
<p>character, column names of (common) columns that should not
be divided</p>
</td></tr>
<tr><td><code id="wideByFactor_+3A_sort">sort</code></td>
<td>
<p>logical, sort resulting data frame by factor levels</p>
</td></tr>
<tr><td><code id="wideByFactor_+3A_keepfactor">keepFactor</code></td>
<td>
<p>logical, keep the &lsquo;factor&rsquo; column</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given data frame is modified so that the output represents a data
frame with <code class="reqn">c + f + n * v</code> columns, where <code class="reqn">c</code> is a number of common
columns for all levels of a factor, <code class="reqn">f</code> is a factor column, <code class="reqn">n</code> is a
number of levels in factor <code class="reqn">f</code> and <code class="reqn">v</code> is a number of variables that
should be divided for each level of a factor. Number of rows stays the same.
</p>


<h3>Value</h3>

<p>A data frame where divided variables have sort of &ldquo;diagonalized&rdquo;
structure.
</p>


<h3>Author(s)</h3>

<p>Gregor Gorjanc</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+reshape">reshape</a></code> in the <span class="pkg">stats</span> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- 10
f &lt;- 2
tmp &lt;- data.frame(y1=rnorm(n=n),
                  y2=rnorm(n=n),
                  f1=factor(rep(letters[1:f], n/2)),
                  f2=factor(c(rep("M", n/2), rep("F", n/2))),
                  c1=1:n,
                  c2=2*(1:n))

wideByFactor(x=tmp, factor="f1", common=c("c1", "c2", "f2"))
wideByFactor(x=tmp, factor="f1", common=c("c1", "c2"))
</code></pre>

<hr>
<h2 id='write.fwf'>Write object to file in fixed width format</h2><span id='topic+write.fwf'></span>

<h3>Description</h3>

<p>Write object to file in fixed width (fwf) format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.fwf(x, file="", append=FALSE, quote=FALSE, sep=" ", na="",
  rownames=FALSE, colnames=TRUE, rowCol=NULL, justify="left",
  formatInfo=FALSE, quoteInfo=TRUE, width=NULL, eol="\n",
  qmethod=c("escape", "double"),  scientific=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.fwf_+3A_x">x</code></td>
<td>
<p>data.frame or matrix, the object to be written.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_file">file</code></td>
<td>
<p>character, name of file or connection, look in
<code><a href="utils.html#topic+write.table">write.table</a></code> for more.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_append">append</code></td>
<td>
<p>logical, append to existing data in <code>file</code>.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_quote">quote</code></td>
<td>
<p>logical, quote data in output.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_na">na</code></td>
<td>
<p>character, the string to use for missing values
(<code>NA</code>) in the output.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_sep">sep</code></td>
<td>
<p>character, separator between columns in output.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_rownames">rownames</code></td>
<td>
<p>logical, print row names.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_colnames">colnames</code></td>
<td>
<p>logical, print column names.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_rowcol">rowCol</code></td>
<td>
<p>character, rownames column name.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_justify">justify</code></td>
<td>
<p>character, alignment of character columns, see
<code><a href="base.html#topic+format">format</a></code>.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_formatinfo">formatInfo</code></td>
<td>
<p>logical, return information on number of levels,
widths and format.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_quoteinfo">quoteInfo</code></td>
<td>
<p>logical, should <code>formatInfo</code> account for quotes.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_width">width</code></td>
<td>
<p>numeric, width of the columns in the output.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_eol">eol</code></td>
<td>
<p>the character(s) to print at the end of each line (row).
For example, <code>eol="\r\n"</code> will produce Windows line endings on a
Unix-alike OS, and <code>eol="\r"</code> will produce files as expected by Mac
OS Excel 2004.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_qmethod">qmethod</code></td>
<td>
<p>a character string specifying how to deal with embedded
double quote characters when quoting strings. Must be one of
<code>"escape"</code> (default), in which case the quote character is
escaped in C style by a backslash, or <code>"double"</code>, in which
case it is doubled. You can specify just the initial letter.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_scientific">scientific</code></td>
<td>
<p>logical, allow numeric values to be
formatted using scientific notation.</p>
</td></tr>
<tr><td><code id="write.fwf_+3A_...">...</code></td>
<td>
<p>further arguments to
<code><a href="base.html#topic+format.info">format.info</a></code> and <code><a href="base.html#topic+format">format</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Output is similar to <code>print(x)</code> or <code>format(x)</code>. Formatting is
done completely by <code><a href="base.html#topic+format">format</a></code> on a column basis. Columns in
the output are by default separated with a space i.e. empty column with
a width of one character, but that can be changed with <code>sep</code>
argument as passed to <code><a href="utils.html#topic+write.table">write.table</a></code> via ....
</p>
<p>As mentioned formatting is done completely by
<code><a href="base.html#topic+format">format</a></code>. Arguments can be passed to <code>format</code> via
<code>...</code> to further modify the output. However, note that the
returned <code>formatInfo</code> might not properly account for this, since
<code><a href="base.html#topic+format.info">format.info</a></code> (which is used to collect information about
formatting) lacks the arguments of <code><a href="base.html#topic+format">format</a></code>.
</p>
<p><code>quote</code> can be used to quote fields in the output. Since all
columns of <code>x</code> are converted to character (via
<code><a href="base.html#topic+format">format</a></code>) during the output, all columns will be quoted! If
quotes are used, <code><a href="utils.html#topic+read.table">read.table</a></code> can be easily used to read the
data back into <span class="rlang"><b>R</b></span>. Check examples. Do read the details about
<code>quoteInfo</code> argument.
</p>
<p>Use only true characters, i.e., avoid use of tabs, i.e., <code>"\t"</code> or
similar separators via argument <code>sep</code>. Width of the separator is taken as
the number of characters evaluated via <code><a href="base.html#topic+nchar">nchar</a>(sep)</code>.
</p>
<p>Use argument <code>na</code> to convert missing/unknown values. Only single value
can be specified. Use <code><a href="#topic+NAToUnknown">NAToUnknown</a></code> prior to export if you need
greater flexibility.
</p>
<p>If <code>rowCol</code> is not <code>NULL</code> and <code>rownames=TRUE</code>, rownames
will also have column name with <code>rowCol</code> value. This is mainly for
flexibility with tools outside <span class="rlang"><b>R</b></span>. Note that it may not be
easy to import data back to <span class="rlang"><b>R</b></span> with <code><a href="utils.html#topic+read.fwf">read.fwf</a></code> if
you also export rownames. This is the reason, that default is
<code>rownames=FALSE</code>.
</p>
<p>Information about format of output will be returned if
<code>formatInfo=TRUE</code>. Returned value is described in value
section. This information is gathered by <code><a href="base.html#topic+format.info">format.info</a></code> and
care was taken to handle numeric properly. If output contains rownames,
values account for this. Additionally, if <code>rowCol</code> is not
<code>NULL</code> returned values contain also information about format
of rownames.
</p>
<p>If <code>quote=TRUE</code>, the output is of course wider due to
quotes. Return value (with <code>formatInfo=TRUE</code>) can account for this
in two ways; controlled with argument <code>quoteInfo</code>. However, note
that there is no way to properly read the data back to <span class="rlang"><b>R</b></span> if
<code>quote=TRUE</code> and <code>quoteInfo=FALSE</code> arguments were used for
export. <code>quoteInfo</code> applies only when <code>quote=TRUE</code>. Assume
that there is a file with quoted data as shown below (column numbers in
first three lines are only for demonstration of the values in the
output).
</p>
<pre>
123456789 12345678 # for position
123 1234567 123456 # for width with quoteInfo=TRUE
 1   12345   1234  # for width with quoteInfo=FALSE
"a" "hsgdh" "   9"
" " "   bb" " 123"
</pre>
<p>With <code>quoteInfo=TRUE</code> <code>write.fwf</code> will return
</p>
<pre>
colname position width
V1             1     3
V2             5     7
V3            13     6
</pre>
<p>or (with <code>quoteInfo=FALSE</code>)
</p>
<pre>
colname position width
V1             2     1
V2             6     5
V3            14     4
</pre>
<p>Argument <code>width</code> can be used to increase the width of the columns
in the output. This argument is passed to the width argument of
<code><a href="base.html#topic+format">format</a></code> function. Values in <code>width</code> are recycled if
there is less values than the number of columns. If the specified width
is too short in comparison to the &quot;width&quot; of the data in particular
column, error is issued.
</p>


<h3>Value</h3>

<p>Besides its effect to write/export data <code>write.fwf</code> can provide
information on format and width. If <code>formatInfo = FALSE</code>, then a
data frame is returned with the following columns:
</p>
<table>
<tr><td><code>colname</code></td>
<td>
<p>name of the column</p>
</td></tr>
<tr><td><code>nlevels</code></td>
<td>
<p>number of unique values (unused levels of factors are
dropped), 0 for numeric column</p>
</td></tr>
<tr><td><code>position</code></td>
<td>
<p>starting column number in the output</p>
</td></tr>
<tr><td><code>width</code></td>
<td>
<p>width of the column</p>
</td></tr>
<tr><td><code>digits</code></td>
<td>
<p>number of digits after the decimal point</p>
</td></tr>
<tr><td><code>exp</code></td>
<td>
<p>width of exponent in exponential representation; 0 means
there is no exponential representation, while 1 represents exponent
of length one i.e. <code>1e+6</code> and 2 <code>1e+06</code> or <code>1e+16</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gregor Gorjanc.</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+format.info">format.info</a></code>, <code><a href="base.html#topic+format">format</a></code>,
<code><a href="#topic+NAToUnknown">NAToUnknown</a></code>, <code><a href="utils.html#topic+write.table">write.table</a></code>,
<code><a href="utils.html#topic+read.fwf">read.fwf</a></code>, <code><a href="utils.html#topic+read.table">read.table</a></code> and
<code><a href="#topic+trim">trim</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Some data
num &lt;- round(c(733070.345678, 1214213.78765456, 553823.798765678,
               1085022.8876545678,  571063.88765456, 606718.3876545678,
               1053686.6, 971024.187656, 631193.398765456, 879431.1),
             digits=3)

testData &lt;- data.frame(num1=c(1:10, NA),
                       num2=c(NA, seq(from=1, to=5.5, by=0.5)),
                       num3=c(NA, num),
                       int1=c(as.integer(1:4), NA, as.integer(4:9)),
                       fac1=factor(c(NA, letters[1:9], "hjh")),
                       fac2=factor(c(letters[6:15], NA)),
                       cha1=c(letters[17:26], NA),
                       cha2=c(NA, "longer", letters[25:17]),
                       stringsAsFactors=FALSE)
levels(testData$fac1) &lt;- c(levels(testData$fac1), "unusedLevel")
testData$Date &lt;- as.Date("1900-1-1")
testData$Date[2] &lt;- NA
testData$POSIXt &lt;- as.POSIXct(strptime("1900-1-1 01:01:01",
                                       format="%Y-%m-%d %H:%M:%S"))
testData$POSIXt[5] &lt;- NA

## Default
write.fwf(x=testData)

## NA should be -
write.fwf(x=testData, na="-")
## NA should be -NA-
write.fwf(x=testData, na="-NA-")

## Some other separator than space
write.fwf(x=testData[, 1:4], sep="-mySep-")

## Force wider columns
write.fwf(x=testData[, 1:5], width=20)

## Show effect of 'scientific' option
testData$num3 &lt;- testData$num3 * 1e8
write.fwf(testData, scientific=TRUE)
write.fwf(testData, scientific=FALSE)
testData$num3 &lt;- testData$num3 / 1e8

## Write to file and report format and fixed width information
file &lt;- tempfile()
formatInfo &lt;- write.fwf(x=testData, file=file, formatInfo=TRUE)
formatInfo

## Read exported data back to R (note +1 due to separator)
## - without header
read.fwf(file=file, widths=formatInfo$width + 1, header=FALSE, skip=1,
         strip.white=TRUE)

## - with header, via postimport modfication
tmp &lt;- read.fwf(file=file, widths=formatInfo$width + 1, skip=1,
                strip.white=TRUE)
colnames(tmp) &lt;- read.table(file=file, nrow=1, as.is=TRUE)
tmp

## - with header, persuading read.fwf to accept header properly
## (thanks to Marc Schwartz)
read.fwf(file=file, widths=formatInfo$width + 1, strip.white=TRUE,
         skip=1, col.names=read.table(file=file, nrow=1, as.is=TRUE))

## - with header, using quotes
write.fwf(x=testData, file=file, quote=TRUE)
read.table(file=file, header=TRUE, strip.white=TRUE)

## Tidy up
unlink(file)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

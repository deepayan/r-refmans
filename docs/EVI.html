<!DOCTYPE html><html><head><title>Help for package EVI</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {EVI}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#EVI-package'><p>EVI: Epidemic Volatility Index as an Early-Warning Tool</p></a></li>
<li><a href='#Austria'><p>Cases of the first 149 days of the Covid-19 pandemic in Austria.</p></a></li>
<li><a href='#cEVI_fun'><p>Calculation of the convergence Epidemic Volatility Index</p></a></li>
<li><a href='#deviant'><p>This function produces the Epidemic Volatility Index based output data (beta)</p></a></li>
<li><a href='#deviant_update'><p>This function is used after first running the deviant function</p></a></li>
<li><a href='#evi'><p>Calculation of the Epidemic Volatility Index</p></a></li>
<li><a href='#evi.graphs'><p>This function  produces  plots of the time series data with the EVI predictions.</p></a></li>
<li><a href='#evifcut'><p>Sensitivity-Specificity estimation for each cut-off value and rolling window size</p></a></li>
<li><a href='#evirlap'><p>Combining multiple epidemic volatility indices into a multi-early warning index plot</p></a></li>
<li><a href='#indic'><p>Issue of an Early Warning</p></a></li>
<li><a href='#Italy'><p>Cases of the first 149 days of the Covid-19 pandemic in Italy.</p></a></li>
<li><a href='#medvol'><p>Function that calculates the standard deviation</p></a></li>
<li><a href='#mova'><p>Function that calculates the moving average of a time series</p></a></li>
<li><a href='#rollsd'><p>Rolling standard deviation</p></a></li>
<li><a href='#status'><p>A function that defines the true status based on the case definition</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Epidemic Volatility Index as an Early-Warning Tool</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0-0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-30</td>
</tr>
<tr>
<td>Description:</td>
<td>
    This is an R package implementing the epidemic volatility index (EVI), as 
    discussed by Kostoulas et. al. (2021) and variations by Pateras et. al. (2023). EVI is a new, conceptually simple, early warning tool for oncoming epidemic waves. 
    EVI is based on the volatility of newly reported cases per unit of time,
    ideally per day, and issues an early warning when the volatility change rate exceeds a threshold.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.nature.com/articles/s41598-021-02622-3">https://www.nature.com/articles/s41598-021-02622-3</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, cowplot</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, markdown, rmarkdown, spelling, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-02 15:14:23 UTC; kosta</td>
</tr>
<tr>
<td>Author:</td>
<td>Eletherios Meletis [aut],
  Konstantinos Pateras [aut, cre],
  Paolo Eusebi [aut],
  Matt Denwood [aut],
  Polychronis Kostoulas [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Konstantinos Pateras &lt;kostas.pateras@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-05 09:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='EVI-package'>EVI: Epidemic Volatility Index as an Early-Warning Tool</h2><span id='topic+EVI'></span><span id='topic+EVI-package'></span>

<h3>Description</h3>

<p>This is an R package implementing the epidemic volatility index (EVI), as discussed by Kostoulas et. al. (2021) and variations by Pateras et. al. (2023). EVI is a new, conceptually simple, early warning tool for oncoming epidemic waves. EVI is based on the volatility of newly reported cases per unit of time, ideally per day, and issues an early warning when the volatility change rate exceeds a threshold.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Konstantinos Pateras <a href="mailto:kostas.pateras@gmail.com">kostas.pateras@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Eletherios Meletis <a href="mailto:emeletis@outlook.com">emeletis@outlook.com</a>
</p>
</li>
<li><p> Paolo Eusebi <a href="mailto:paoloeusebi@gmail.com">paoloeusebi@gmail.com</a>
</p>
</li>
<li><p> Matt Denwood <a href="mailto:md@sund.ku.dk">md@sund.ku.dk</a>
</p>
</li>
<li><p> Polychronis Kostoulas <a href="mailto:pkost@uth.gr">pkost@uth.gr</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://www.nature.com/articles/s41598-021-02622-3">https://www.nature.com/articles/s41598-021-02622-3</a>
</p>
</li></ul>


<hr>
<h2 id='Austria'>Cases of the first 149 days of the Covid-19 pandemic in Austria.</h2><span id='topic+Austria'></span>

<h3>Description</h3>

<p>A data frame containing the number of cases for the first 149 days of the Covid-19 pandemic
in Austria
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Austria)
</code></pre>


<h3>Format</h3>

<p>A data frame with 149 rows and 3 variables:
</p>

<dl>
<dt>Date</dt><dd><p>ID of date encoded with origin=&quot;01-01-1970&quot;.</p>
</dd>
<dt>Cases</dt><dd><p>Number of newly observed cases per day.</p>
</dd>
<dt>Cum_Cases</dt><dd><p>Cumulative number of newly observed cases per day.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/CSSEGISandData/COVID-19">https://github.com/CSSEGISandData/COVID-19</a>
</p>

<hr>
<h2 id='cEVI_fun'>Calculation of the convergence Epidemic Volatility Index</h2><span id='topic+cEVI_fun'></span>

<h3>Description</h3>

<p>This sencondary function produces the convergence Epidemic Volatility Index based on input data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cEVI_fun(cases, lag_n, c_n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cEVI_fun_+3A_cases">cases</code></td>
<td>
<p>the time series of the newly observed cases per unit of time (ideally per day).</p>
</td></tr>
<tr><td><code id="cEVI_fun_+3A_lag_n">lag_n</code></td>
<td>
<p>Integer. Restriction of the window size for the rolling window size.</p>
</td></tr>
<tr><td><code id="cEVI_fun_+3A_c_n">c_n</code></td>
<td>
<p>threshold alpha-level value (0 &lt;= c &lt;= 0.5) for issuing an early warning. If cevi &lt;= c_n an early warning is issued and otherwise is not.
</p>
<p>For each time point the stored variables are:</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p>Dates: the date for each time point (with origin 01-01-1970).
</p>
</li>
<li><p>Days: the serial number for each time point.
</p>
</li>
<li><p>EVI: the estimated EVI for each time point.</p>
</li></ul>



<h3>References</h3>

<p>Pateras K, Meletis E, Denwood M, et al. The convergence epidemic index (cEVI) an early warning tool for identifying waves in an epidemic. Inf Dis Mod, (2023)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cEVI_fun(cases=c(0,0,1,3,4,10,40,90,105,160,210,301,510,670,680,650,670,665),lag_n=3,c_n=0.1)
</code></pre>

<hr>
<h2 id='deviant'>This function produces the Epidemic Volatility Index based output data (beta)</h2><span id='topic+deviant'></span>

<h3>Description</h3>

<p>This is a secondary function of the <code><a href="#topic+EVI-package">EVI-package</a></code> that you should use to analyze a time series of observed cases per unit of time (ideally per day). This function is based on ongoing work and should be used with caution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deviant(
  new_cases,
  cum = FALSE,
  r_a = 7,
  r = 0.2,
  lag_max = 30,
  past = 364/2,
  method = "EVI"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deviant_+3A_new_cases">new_cases</code></td>
<td>
<p>the time series of the newly observed cases per unit of time (ideally per day).</p>
</td></tr>
<tr><td><code id="deviant_+3A_cum">cum</code></td>
<td>
<p>TRUE or FALSE; TRUE if the time series is recorded as the cumulative number of the reported cases and FALSE (the default) if newly reported cases per unit of time are recorded.</p>
</td></tr>
<tr><td><code id="deviant_+3A_r_a">r_a</code></td>
<td>
<p>The window size for the moving average that will be analyzed. If set to 1 the actual observations are analyzed. However, due to the variability of the reported cases between working days and weekends it is recommended that the 7-day moving average is analyzed (i.e. r_a = 7), which is the default for this argument. Users could prefer a longer interval of 14 days or one month (i.e., r_a=14 or 30, respectively).</p>
</td></tr>
<tr><td><code id="deviant_+3A_r">r</code></td>
<td>
<p>Definition for the minimum difference in the mean number of cases, one week before and after each time point that, if present, should be detected. This is the case definition and the default is 0.2 (with 0 &lt;= r &lt;= 1). A value of r=0.2 means that we have a case when the mean number of the newly observed cases in the next 7 days is at least 20% higher than the mean number of the newly observed cases in the past 7 days.</p>
</td></tr>
<tr><td><code id="deviant_+3A_lag_max">lag_max</code></td>
<td>
<p>Integer. Restriction of the maximum window size for the rolling window size. The default is set to one month (lag_max=30) to prevent excess volatility of past epidemic waves from affecting the most recent volatility estimates and the ability of EVI to warn for upcoming waves that may be smaller and of lower volatility than previous ones.</p>
</td></tr>
<tr><td><code id="deviant_+3A_past">past</code></td>
<td>
<p>Integer. Default The full length of the input data series. Restriction on the historical data that EVI/cEVI will use. This is set to 365 (default) to account for a year and aid running times.</p>
</td></tr>
<tr><td><code id="deviant_+3A_method">method</code></td>
<td>
<p>either &quot;EVI&quot; or &quot;cEVI&quot;, default equals to &quot;EVI&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For each time point the stored variables are:
</p>


<h3>Value</h3>


<ul>
<li><p>Dates: the date for each time point (with origin 01-01-1970).
</p>
</li>
<li><p>Days: the serial number for each time point.
</p>
</li>
<li><p>EVI: the estimated EVI for each time point.
</p>
</li>
<li><p>Cases: the rolling average of the newly observed cases for each time point. A 7-day rolling average is calculated by default (i.e., r_a=7). The user has the option to change this by modifying r_a.
</p>
</li>
<li><p>Index: takes values 1 or 0 for the issuance of an early warning or not, respectively.
</p>
</li>
<li><p>ppv: the positive predictive value for each time point.
</p>
</li>
<li><p>npv: the negative predictive value for each time point.
</p>
</li>
<li><p>lag_all: the selected rolling window size for EVI calculation for each time point.
</p>
</li>
<li><p>c_all: the selected cut-off for issuing an early warning for each time point.
</p>
</li>
<li><p>se_all: the sensitivity (Se) of EVI up to this time point.
</p>
</li>
<li><p>sp_all: the specificity (Sp) of EVI up to this time point.</p>
</li></ul>



<h3>References</h3>

<p>Kostoulas P, Meletis E, Pateras K, et al. The epidemic volatility index, a novel early warning tool for identifying new waves in an epidemic. Sci Rep 11, 23775 (2021). <a href="https://doi.org/10.1038/s41598-021-02622-3">doi:10.1038/s41598-021-02622-3</a>
Pateras K, Meletis E, Denwood M, et al. The convergence epidemic index (cEVI) an early warning tool for identifying waves in an epidemic. Inf Dis Mod, (2023). <a href="https://doi.org/10.1016/j.idm.2023.05.001">doi:10.1016/j.idm.2023.05.001</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Italy")
deviant(new_cases=Italy$Cases[35:55], cum=FALSE, r_a=7, r=0.2, lag_max=30,method="EVI")
#deviant(new_cases=Italy$Cases, cum=FALSE, r_a=7, r=0.2, lag_max=30,method="EVI")
#This step should take some time and the time elapsed will be printed.

# data("Austria")
# deviant(new_cases=Austria$Cases, cum=FALSE, r_a=7, r=0.2, lag_max=30,method="EVI")
</code></pre>

<hr>
<h2 id='deviant_update'>This function is used after first running the deviant function</h2><span id='topic+deviant_update'></span>

<h3>Description</h3>

<p>Once the <code><a href="#topic+deviant">deviant()</a></code> function has been used to analyze the already observed time series,
the deviant_update() function is used to obtain the EVI output and early warnings for the new cases that are recorded.
After running the deviant_update() function the output of the deviant function is also updated with a new row of data for each newly observed time point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deviant_update(
  all_cases = NA,
  new_cases = NA,
  EVI_input,
  cum = FALSE,
  r_a = 7,
  r = 0.2,
  lag_max = 30,
  method = "EVI",
  past = 364/2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deviant_update_+3A_all_cases">all_cases</code></td>
<td>
<p>the time series of the previous and newly observed cases per unit of time (ideally per day).</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_new_cases">new_cases</code></td>
<td>
<p>the time series of the newly observed cases per unit of time (ideally per day).</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_evi_input">EVI_input</code></td>
<td>
<p>the previous EVI function output</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_cum">cum</code></td>
<td>
<p>TRUE if the time series is recorded as the cumulative number of the reported cases and FALSE (the default) if newly reported cases per unit of time are recorded.</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_r_a">r_a</code></td>
<td>
<p>The window size for the moving average that will be analyzed. If set to 1 the actual observations are analyzed. However, due to the variability of the reported cases between working days and weekends it is recommended that the 7-day moving average is analyzed (i.e. r_a = 7), which is the default for this argument. Users could prefer a longer interval of 14 days or one month (i.e., r_a=14 or 30, respectively).</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_r">r</code></td>
<td>
<p>Definition for the minimum difference in the mean number of cases, one week before and after each time point that, if present, should be detected. This is the case definition and the default is 0.2 (with 0 &lt;= r &lt;= 1). A value of r=0.2 means that we have a case when the mean number of the newly observed cases in the next 7 days is at least 20% higher than the mean number of the newly observed cases in the past 7 days.</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_lag_max">lag_max</code></td>
<td>
<p>Integer. Restriction of the maximum window size for the rolling window size. The default is set to one month (lag_max=30) to prevent excess volatility of past epidemic waves from affecting the most recent volatility estimates and the ability of EVI to warn for upcoming waves that may be smaller and of lower volatility than previous ones.</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_method">method</code></td>
<td>
<p>either &quot;EVI&quot; or &quot;cEVI&quot;, default equals to &quot;EVI&quot;.</p>
</td></tr>
<tr><td><code id="deviant_update_+3A_past">past</code></td>
<td>
<p>Integer. Default the full length of the input data series. Restriction on the historical data that EVI/cEVI will use. This is fixed and equal to the index used in the deviant function.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Pateras K, Meletis E, Denwood M, et al. The convergence epidemic index (cEVI) an early warning tool for identifying waves in an epidemic. Inf Dis Mod, (2023). <a href="https://doi.org/10.1016/j.idm.2023.05.001">doi:10.1016/j.idm.2023.05.001</a>
Kostoulas P, Meletis E, Pateras K, et al. The epidemic volatility index, a novel early warning tool for identifying new waves in an epidemic. Sci Rep 11, 23775 (2021). <a href="https://doi.org/10.1038/s41598-021-02622-3">doi:10.1038/s41598-021-02622-3</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Single update ##
# If we have first observed only the 148 cases from the 
# Italian data we run the deviant function on these cases:

data("Italy")
EVI_output0&lt;-deviant(new_cases=Italy$Cases[20:35], cum=FALSE, r_a=7, r=0.2, lag_max=30)
# EVI_output0&lt;-deviant(new_cases=Italy$Cases[1:148], cum=FALSE, r_a=7, r=0.2, lag_max=30)
# When the number of cases for the next day is observed we want to obtain 
# the estimates for this day without having to reanalyze the entire time series.
 
# This is done by using the deviant_update function:

EVI_output0&lt;-deviant_update(new_cases=Italy$Cases[36], 
                            EVI_input=EVI_output0,
                            cum=FALSE, r_a=7, r=0.2, lag_max=30)

# EVI_output0&lt;-deviant_update(new_cases=Italy$Cases[149], 
#                             EVI_input=EVI_output0,
#                             cum=FALSE, r_a=7, r=0.2, lag_max=30)
# The result of running the deviant_update function is to update the output of 
# the deviant_function by adding an additional row with estimates for the new data.

# In this example the EVI_output file will now have 149 rows. If two additional 
# days are analyzed two additional rows will be added and so on.



# Multiple update steps when new data come using either an EVI or cEVI updater ##
data("Italy")
EVI_output&lt;-deviant(new_cases=Italy$Cases[1:20], cum=FALSE, 
                   r_a=7, r=0.2, lag_max=30,method = "EVI")

EVI_output2&lt;-deviant_update(new_cases = c(100,93,80,54,12), 
                           EVI_input=EVI_output,method = "EVI")

#EVI_output2

# Same as above EVI_output2

#EVI_output2&lt;-deviant_update(all_cases = c(Italy$Cases[1:20],100,93,80,54,12),
#EVI_input=EVI_output,method = "EVI")

#EVI_output2

#EVI_output3&lt;-deviant_update(new_cases = c(2,2,10,1,0),EVI_input=EVI_output2, 
#method = "cEVI")

#EVI_output3

# Even though EVI and cEVI can be used interchangeably, we suggest users to 
# stick to the initial method.

</code></pre>

<hr>
<h2 id='evi'>Calculation of the Epidemic Volatility Index</h2><span id='topic+evi'></span>

<h3>Description</h3>

<p>Calculates the relative change in the standard deviation between two consecutive rolling windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evi(rollsd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evi_+3A_rollsd">rollsd</code></td>
<td>
<p>numeric vector - returned and stored as roll from the rollsd() function.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("Italy")
cases = mova(cases=Italy$Cases)
roll = rollsd(cases=cases, lag_t=7)
ev = evi(rollsd=roll)

</code></pre>

<hr>
<h2 id='evi.graphs'>This function  produces  plots of the time series data with the EVI predictions.</h2><span id='topic+evi.graphs'></span>

<h3>Description</h3>

<p>Three types of plots are generated:
(i) A plot of the confirmed cases with red dots corresponding to time points that an early warning was issued and grey dots corresponding to time points without an early warning indication.
(ii) A plot of the confirmed cases with colored dots corresponding to time points with an early warning. Color intensity is increasing with higher positive predictive value (PPV).
(iii) A plot of the confirmed cases with colored dots corresponding to time points without an early warning. Color intensity is increasing with higher negative predictive value (NPV).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evi.graphs(EVI_output, graph = c("EVI"), ln = T, type = "p")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evi.graphs_+3A_evi_output">EVI_output</code></td>
<td>
<p>output of the <code><a href="#topic+deviant">deviant()</a></code> function</p>
</td></tr>
<tr><td><code id="evi.graphs_+3A_graph">graph</code></td>
<td>
<p>Type of graph to be plotted. Options: &quot;EVI&quot;, &quot;PPV&quot;, &quot;NPV&quot;. &quot;EVI&quot; (the default) is giving a plot of the confirmed cases, with red dots corresponding to time points that an early warning was issued and grey dots corresponding to time points without an early warning indication. &quot;PPV&quot; is giving a plot of the confirmed cases with colored dots corresponding to time points with an early warning. Color intensity is increasing with higher PPV. &quot;NPV&quot; is giving a plot of the confirmed cases with colored dots corresponding to time points without an early warning. Color intensity is increasing with higher NPV.</p>
</td></tr>
<tr><td><code id="evi.graphs_+3A_ln">ln</code></td>
<td>
<p>TRUE or FALSE; If TRUE (the default) the output of the graph will be presented on the logarithmic scale. IF FALSE the output data will be presented on the original scale.</p>
</td></tr>
<tr><td><code id="evi.graphs_+3A_type">type</code></td>
<td>
<p>By default, points are plotted on EVI graphs. In cases where, changes are very sudden or data sparsely available, type=&quot;l&quot; introduces lines on top of points for the &quot;EVI&quot; type of graph.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An EVI_output is required as input, derived from the <code><a href="#topic+deviant">deviant()</a></code> function.
</p>


<h3>References</h3>

<p>Kostoulas P, Meletis E, Pateras K, et al. The epidemic volatility index, a novel early warning tool for identifying new waves in an epidemic. Sci Rep 11, 23775 (2021). <a href="https://doi.org/10.1038/s41598-021-02622-3">doi:10.1038/s41598-021-02622-3</a>
Pateras K, Meletis E, Denwood M, et al. The convergence epidemic index (cEVI) an early warning tool for identifying waves in an epidemic. Inf Dis Mod, (2023)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Italy")
EVI_output&lt;-deviant(new_cases=Italy$Cases[1:20], cum=FALSE, r_a=7, r=0.2, lag_max=30,method="EVI")
#EVI_output&lt;-deviant(new_cases=Italy$Cases, cum=FALSE, r_a=7, r=0.2, lag_max=30,method="EVI")

evi.graphs(EVI_output=EVI_output, graph="EVI", ln=TRUE)
evi.graphs(EVI_output=EVI_output, graph="PPV", ln=TRUE)
evi.graphs(EVI_output=EVI_output, graph="NPV", ln=TRUE)
evi.graphs(EVI_output=EVI_output, graph="EVI", ln=TRUE, type="l") # For the line EVI plot
</code></pre>

<hr>
<h2 id='evifcut'>Sensitivity-Specificity estimation for each cut-off value and rolling window size</h2><span id='topic+evifcut'></span>

<h3>Description</h3>

<p>This function calculates the sensitivity and the specificity for each cut-off value and rolling window size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evifcut(evi = NA, cevi = NA, cases, cut = NA, r, method = "EVI")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evifcut_+3A_evi">evi</code></td>
<td>
<p>numeric vector - object (obtained from the evi function and stored as ev) that corresponds to the relative change in the standard deviation.</p>
</td></tr>
<tr><td><code id="evifcut_+3A_cevi">cevi</code></td>
<td>
<p>numeric vector - object (obtained from the cevi function and stored as cev) that corresponds to either a positive or negative test.</p>
</td></tr>
<tr><td><code id="evifcut_+3A_cases">cases</code></td>
<td>
<p>numeric vector with the number of new cases per unit of time (i.e., daily).</p>
</td></tr>
<tr><td><code id="evifcut_+3A_cut">cut</code></td>
<td>
<p>threshold value (0 &lt;= c &lt;= 0.5) for issuing an early warning. If evi &gt;= c, an early warning is issued and otherwise is not.</p>
</td></tr>
<tr><td><code id="evifcut_+3A_r">r</code></td>
<td>
<p>Definition for the minimum difference in the mean number of cases, one week before and after each time point that, if present, should be detected. This is the case definition and the default is 0.2 (with 0 &lt;= r &lt;= 1). A value of r=0.2 means that we have a case when the mean number of the newly observed cases in the next 7 days is at least 20% higher than the mean number of the newly observed cases in the past 7 days.</p>
</td></tr>
<tr><td><code id="evifcut_+3A_method">method</code></td>
<td>
<p>either &quot;EVI&quot; or &quot;cEVI&quot;, default equals to &quot;EVI&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of the estimated Sensitivity, Specificity, apparent and true prevalence for each cut-off value and rolling window size
</p>


<h3>References</h3>

<p>Kostoulas P, Meletis E, Pateras K, et al. The epidemic volatility index, a novel early warning tool for identifying new waves in an epidemic. Sci Rep 11, 23775 (2021). <a href="https://doi.org/10.1038/s41598-021-02622-3">doi:10.1038/s41598-021-02622-3</a>
Pateras K, Meletis E, Denwood M, et al. The convergence epidemic index (cEVI) an early warning tool for identifying waves in an epidemic. Inf Dis Mod, (2023)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## EVI Example ##
#data("Italy")
#cases = mova(cases = Italy$Cases)
#roll = rollsd(cases = cases,lag_t = 7)
#ev = evi(rollsd = roll)
#evifcut(evi = ev, cases = cases, cut = 0.01, r = 0.2)
</code></pre>

<hr>
<h2 id='evirlap'>Combining multiple epidemic volatility indices into a multi-early warning index plot</h2><span id='topic+evirlap'></span>

<h3>Description</h3>

<p>This function returns an overlap graph containing two indices.
</p>

<ol>
<li><p> If index number 1 results in an early warning,then a yellow point will be shown.
</p>
</li>
<li><p> If index number 2 results in an early warning, then a orange point will be shown.
</p>
</li>
<li><p> If both indexes result in early warnings, then a red point will be shown.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>evirlap(
  Index1,
  Index2,
  ln = T,
  type = "p",
  size.index = 1,
  Index1.lab = "EVI1",
  Index2.lab = "EVI2",
  Index3.lab = "EVI-",
  Index.country = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evirlap_+3A_index1">Index1</code></td>
<td>
<p>e.g. output of the <code><a href="#topic+deviant">deviant()</a></code> function</p>
</td></tr>
<tr><td><code id="evirlap_+3A_index2">Index2</code></td>
<td>
<p>e.g. output of the <code><a href="#topic+deviant">deviant()</a></code> function (e.g. method = cEVI)</p>
</td></tr>
<tr><td><code id="evirlap_+3A_ln">ln</code></td>
<td>
<p>TRUE or FALSE; If TRUE (the default) the output of the graph will be presented on the logarithmic scale. IF FALSE the output data will be presented on the original scale.</p>
</td></tr>
<tr><td><code id="evirlap_+3A_type">type</code></td>
<td>
<p>By default, points are plotted on EVI graphs. In cases where, changes are very sudden or data sparsely available, type=&quot;l&quot; introduces lines on top of points for the &quot;EVI&quot; type of graph.</p>
</td></tr>
<tr><td><code id="evirlap_+3A_size.index">size.index</code></td>
<td>
<p>Size of the points, default=1</p>
</td></tr>
<tr><td><code id="evirlap_+3A_index1.lab">Index1.lab</code></td>
<td>
<p>Text for index 1, &quot;EVI1&quot;</p>
</td></tr>
<tr><td><code id="evirlap_+3A_index2.lab">Index2.lab</code></td>
<td>
<p>Text for index 2, &quot;EVI2&quot;</p>
</td></tr>
<tr><td><code id="evirlap_+3A_index3.lab">Index3.lab</code></td>
<td>
<p>Text for index conjuction, &quot;EVI-&quot;</p>
</td></tr>
<tr><td><code id="evirlap_+3A_index.country">Index.country</code></td>
<td>
<p>Label for country/area/region under analysis</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The evirlap function can literally combine any two indices with only 2 requirements. The two vectors (Index1, Index2) to be of equal length and to contain either 0s (no warnings) or 1s (warnings).
</p>
<p>For each time point the stored variables are:
</p>


<h3>Value</h3>


<ul>
<li><p>evirlap: A graph with two EVI indexes shown simulteounsly.</p>
</li></ul>



<h3>References</h3>

<p>Pateras K, Meletis E, Denwood M, et al. The convergence epidemic index (cEVI) an early warning tool for identifying waves in an epidemic. Inf Dis Mod, (2023)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Run basic functions to acquire early warnings results
#data('Italy')
#EVI_output=deviant(new_cases=Italy$Cases, cum=FALSE, method="EVI")
#cEVI_output=deviant(new_cases=Italy$Cases, cum=FALSE, method="cEVI")

# Plot the EVI combination graph
#evirlap(Index1=EVI_output, Index2=cEVI_output, ln=TRUE)
#evirlap(Index1=EVI_output, Index2=cEVI_output, ln=TRUE, type="l") # For the line EVI plot

# Austria first 150 case example
#data('Austria')
#tmp_EVI_at=deviant(new_cases = Austria$Cases)
#tmp_cEVI_at=deviant(new_cases = Austria$Cases,lag_max = 40,method = "cEVI")
#evirlap(Index1 = tmp_EVI_at,Index2 = tmp_cEVI_at)

</code></pre>

<hr>
<h2 id='indic'>Issue of an Early Warning</h2><span id='topic+indic'></span>

<h3>Description</h3>

<p>This secondary function produces the early warning signal (Index).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indic(evi = NA, cevi = NA, cut = NA, cases, method = "EVI")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="indic_+3A_evi">evi</code></td>
<td>
<p>numeric vector - object (obtained from the evi function and stored as ev) that corresponds to the relative change in the standard deviation.</p>
</td></tr>
<tr><td><code id="indic_+3A_cevi">cevi</code></td>
<td>
<p>numeric vector - object (obtained from the cevi function and stored as cev) that corresponds to a positive and negative test.</p>
</td></tr>
<tr><td><code id="indic_+3A_cut">cut</code></td>
<td>
<p>threshold value (0 &lt;= c &lt;= 0.5) for issuing an early warning. If evi &gt;= c an early warning is issued and otherwise is not.</p>
</td></tr>
<tr><td><code id="indic_+3A_cases">cases</code></td>
<td>
<p>numeric vector with the number of new cases per unit of time (i.e., daily).</p>
</td></tr>
<tr><td><code id="indic_+3A_method">method</code></td>
<td>
<p>either &quot;EVI&quot; or &quot;cEVI&quot;, default equals to &quot;EVI&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of 0s and 1s is produced, where a 1 (Index = 1) is recorded when an early warning is issued and a 0 (Index = 0) when an early warning is not issued.
</p>


<h3>References</h3>

<p>Kostoulas P, Meletis E, Pateras K, et al. The epidemic volatility index, a novel early warning tool for identifying new waves in an epidemic. Sci Rep 11, 23775 (2021). <a href="https://doi.org/10.1038/s41598-021-02622-3">doi:10.1038/s41598-021-02622-3</a>
Pateras K, Meletis E, Denwood M, et al. The convergence epidemic index (cEVI) an early warning tool for identifying waves in an epidemic. Inf Dis Mod, (2023)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## EVI example ##

data("Italy")
cases = mova(cases = Italy$Cases, r_a = 7)
roll = rollsd(cases = cases, lag_t = 7)
ev = evi(rollsd = roll)
ind=indic(evi = ev, cut = 0.01, cases = cases)

</code></pre>

<hr>
<h2 id='Italy'>Cases of the first 149 days of the Covid-19 pandemic in Italy.</h2><span id='topic+Italy'></span>

<h3>Description</h3>

<p>A data frame containing the number of cases for the first 149 days of the Covid-19 pandemic
in Italy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Italy)
</code></pre>


<h3>Format</h3>

<p>A data frame with 149 rows and 3 variables:
</p>

<dl>
<dt>Date</dt><dd><p>ID of date encoded with origin=&quot;01-01-1970&quot;.</p>
</dd>
<dt>Cases</dt><dd><p>Number of newly observed cases per day.</p>
</dd>
<dt>Cum_Cases</dt><dd><p>Cumulative number of newly observed cases per day.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/CSSEGISandData/COVID-19">https://github.com/CSSEGISandData/COVID-19</a>
</p>

<hr>
<h2 id='medvol'>Function that calculates the standard deviation</h2><span id='topic+medvol'></span>

<h3>Description</h3>

<p>Calculates and returns the standard deviation of a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>medvol(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="medvol_+3A_x">x</code></td>
<td>
<p>numeric vector</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x=c(2,2,1,4,9,10,23,10,9,10,14,12,10)
medvol(x)

</code></pre>

<hr>
<h2 id='mova'>Function that calculates the moving average of a time series</h2><span id='topic+mova'></span>

<h3>Description</h3>

<p>Calculates the moving average for a time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mova(cases, r_a = 7)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mova_+3A_cases">cases</code></td>
<td>
<p>the time series of the newly observed cases per unit of time (ideally per day).</p>
</td></tr>
<tr><td><code id="mova_+3A_r_a">r_a</code></td>
<td>
<p>The window size for the moving average that will be analyzed. If set to 1 the actual observations are analyzed. However, due to the variability of the reported cases between working days and weekends it is recommended that the 7-day moving average is analyzed (i.e. r_a = 7), which is the default for this argument. Users could prefer a longer interval of 14 days or one month (i.e., r_a=14 or 30, respectively).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("Italy")
mova(cases=Italy$Cases, r_a=7)
mova(cases=Italy$Cases, r_a=14)
</code></pre>

<hr>
<h2 id='rollsd'>Rolling standard deviation</h2><span id='topic+rollsd'></span>

<h3>Description</h3>

<p>-A function to compute the rolling standard deviation for a time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rollsd(cases, lag_t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rollsd_+3A_cases">cases</code></td>
<td>
<p>the time series of the newly observed cases per unit of time (ideally per day).</p>
</td></tr>
<tr><td><code id="rollsd_+3A_lag_t">lag_t</code></td>
<td>
<p>integer - the size of the rolling window for which the rolling standard deviation is calculated (minimum/default value = 7, maximum recommended value = 30).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("Italy")
cases = mova(cases=Italy$Cases, r_a=7)
roll = rollsd(cases=cases,lag_t=7)


</code></pre>

<hr>
<h2 id='status'>A function that defines the true status based on the case definition</h2><span id='topic+status'></span>

<h3>Description</h3>

<p>Status = 1 when the expected rise in the number of cases occurs and Status = 0 when the expected rise in the number of cases does not occur
</p>


<h3>Usage</h3>

<pre><code class='language-R'>status(cases, r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="status_+3A_cases">cases</code></td>
<td>
<p>the time series of the newly observed cases per unit of time (ideally per day).</p>
</td></tr>
<tr><td><code id="status_+3A_r">r</code></td>
<td>
<p>Definition for the minimum difference in the mean number of cases, one week before and after each time point that, if present, should be detected. This is the case definition and the default is 0.2 (with 0 &lt;= r &lt;= 1). A value of r=0.2 means that we have a case when the mean number of the newly observed cases in the next 7 days is at least 20% higher than the mean number of the newly observed cases in the past 7 days.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("Italy")
cases = mova(cases=Italy$Cases)
status = status(cases=cases, r=0.2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

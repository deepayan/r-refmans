<!DOCTYPE html><html lang="en"><head><title>Help for package lingdist</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lingdist}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lingdist-package'><p>lingdist: Fast Linguistic Distance and Alignment Computation</p></a></li>
<li><a href='#check_cost_defined'><p>Check whether there's missing characters in the cost matrix.</p></a></li>
<li><a href='#edit_dist_df'><p>Compute edit distance between all row pairs of a dataframe</p></a></li>
<li><a href='#edit_dist_string'><p>Compute edit distance between two strings</p></a></li>
<li><a href='#generate_default_cost_matrix'><p>Generate a default cost matrix</p></a></li>
<li><a href='#long2squareform'><p>Convert long table to square form</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fast Linguistic Distance and Alignment Computation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-12</td>
</tr>
<tr>
<td>Description:</td>
<td>A fast generalized edit distance and string alignment computation mainly for linguistic aims. As a generalization to the classic edit distance algorithms, the package allows users to define custom cost for every symbol's insertion, deletion, and substitution. The package also allows character combinations in any length to be seen as a single symbol which is very useful for International Phonetic Alphabet (IPA) transcriptions with diacritics. In addition to edit distance result, users can get detailed alignment information such as all possible alignment scenarios between two strings which is useful for testing, illustration or any further usage. Either the distance matrix or its long table form can be obtained and tools to do such conversions are provided. All functions in the package are implemented in 'C++' and the distance matrix computation is parallelized leveraging the 'RcppThread' package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.10)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp,RcppThread</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/fncokg/lingdist">https://github.com/fncokg/lingdist</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/fncokg/lingdist/issues">https://github.com/fncokg/lingdist/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-12 06:44:11 UTC; kongc</td>
</tr>
<tr>
<td>Author:</td>
<td>Chao Kong <a href="https://orcid.org/0000-0002-6404-6142"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chao Kong &lt;kongchao1998@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-12 17:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='lingdist-package'>lingdist: Fast Linguistic Distance and Alignment Computation</h2><span id='topic+lingdist'></span><span id='topic+lingdist-package'></span>

<h3>Description</h3>

<p>A fast generalized edit distance and string alignment computation mainly for linguistic aims. As a generalization to the classic edit distance algorithms, the package allows users to define custom cost for every symbol's insertion, deletion, and substitution. The package also allows character combinations in any length to be seen as a single symbol which is very useful for International Phonetic Alphabet (IPA) transcriptions with diacritics. In addition to edit distance result, users can get detailed alignment information such as all possible alignment scenarios between two strings which is useful for testing, illustration or any further usage. Either the distance matrix or its long table form can be obtained and tools to do such conversions are provided. All functions in the package are implemented in 'C++' and the distance matrix computation is parallelized leveraging the 'RcppThread' package.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Chao Kong <a href="mailto:kongchao1998@gmail.com">kongchao1998@gmail.com</a> (<a href="https://orcid.org/0000-0002-6404-6142">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/fncokg/lingdist">https://github.com/fncokg/lingdist</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/fncokg/lingdist/issues">https://github.com/fncokg/lingdist/issues</a>
</p>
</li></ul>


<hr>
<h2 id='check_cost_defined'>Check whether there's missing characters in the cost matrix.</h2><span id='topic+check_cost_defined'></span>

<h3>Description</h3>

<p>Check whether there's missing characters in the cost matrix and return the missing characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_cost_defined(data, cost_mat, delim = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_cost_defined_+3A_data">data</code></td>
<td>
<p>DataFrame to be computed.</p>
</td></tr>
<tr><td><code id="check_cost_defined_+3A_cost_mat">cost_mat</code></td>
<td>
<p>Cost matrix to be checked.</p>
</td></tr>
<tr><td><code id="check_cost_defined_+3A_delim">delim</code></td>
<td>
<p>The delimiter separating atomic symbols.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string vector containing the missing characters, empty indicating there's no missing characters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- as.data.frame(rbind(a=c("a_bc_d","d_bc_a"),b=c("b_bc_d","d_bc_a")))
cost.mat &lt;- data.frame()
chars.not.found &lt;- check_cost_defined(df, cost.mat, "_")
</code></pre>

<hr>
<h2 id='edit_dist_df'>Compute edit distance between all row pairs of a dataframe</h2><span id='topic+edit_dist_df'></span>

<h3>Description</h3>

<p>Compute average edit distance between all row pairs of a dataframe, empty or NA cells are ignored. If all values in a row are not valid strings, all average distances involving this row is set to -1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit_dist_df(
  data,
  cost_mat = NULL,
  delim = "",
  squareform = FALSE,
  symmetric = TRUE,
  parallel = FALSE,
  n_threads = 2L
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="edit_dist_df_+3A_data">data</code></td>
<td>
<p>DataFrame with n rows and m columns indicating there are n languages or dialects to involve in the calculation and there are at most m words to base on, in which the rownames are the language ids.</p>
</td></tr>
<tr><td><code id="edit_dist_df_+3A_cost_mat">cost_mat</code></td>
<td>
<p>Dataframe in squareform indicating the cost values when one symbol is deleted, inserted or substituted by another. Rownames and colnames are symbols. 'cost_mat[char1,&quot;_NULL_&quot;]' indicates the cost value of deleting char1 and 'cost_mat[&quot;_NULL_&quot;,char1]' is the cost value of inserting it. When an operation is not defined in the cost_mat, it is set 0 when the two symbols are the same, otherwise 1.</p>
</td></tr>
<tr><td><code id="edit_dist_df_+3A_delim">delim</code></td>
<td>
<p>The delimiter separating atomic symbols.</p>
</td></tr>
<tr><td><code id="edit_dist_df_+3A_squareform">squareform</code></td>
<td>
<p>Whether to return a dataframe in squareform.</p>
</td></tr>
<tr><td><code id="edit_dist_df_+3A_symmetric">symmetric</code></td>
<td>
<p>Whether to the result matrix is symmetric. This depends on whether the 'cost_mat' is symmetric.</p>
</td></tr>
<tr><td><code id="edit_dist_df_+3A_parallel">parallel</code></td>
<td>
<p>Whether to parallelize the computation.</p>
</td></tr>
<tr><td><code id="edit_dist_df_+3A_n_threads">n_threads</code></td>
<td>
<p>The number of threads is used to parallelize the computation. Only meaningful if 'parallel' is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe in long table form if 'squareform' is FALSE, otherwise in squareform. If 'symmetric' is TRUE, the long table form has <code class="reqn">C_n^2</code> rows otherwise <code class="reqn">n^2</code> rows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- as.data.frame(rbind(a=c("a_bc_d","d_bc_a"),b=c("b_bc_d","d_bc_a")))
cost.mat &lt;- data.frame()
result &lt;- edit_dist_df(df, cost_mat=cost.mat, delim="_")
result &lt;- edit_dist_df(df, cost_mat=cost.mat, delim="_", squareform=TRUE)
result &lt;- edit_dist_df(df, cost_mat=cost.mat, delim="_", parallel=TRUE, n_threads=4)
</code></pre>

<hr>
<h2 id='edit_dist_string'>Compute edit distance between two strings</h2><span id='topic+edit_dist_string'></span>

<h3>Description</h3>

<p>Compute edit distance between two strings and get all possible alignment scenarios. Custom cost matrix is supported. Symbols separated by custom delimiters are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit_dist_string(
  str1,
  str2,
  cost_mat = NULL,
  delim = "",
  return_alignments = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="edit_dist_string_+3A_str1">str1</code></td>
<td>
<p>String to be compared.</p>
</td></tr>
<tr><td><code id="edit_dist_string_+3A_str2">str2</code></td>
<td>
<p>String to be compared.</p>
</td></tr>
<tr><td><code id="edit_dist_string_+3A_cost_mat">cost_mat</code></td>
<td>
<p>Dataframe in squareform indicating the cost values when one symbol is deleted, inserted or substituted by another. Rownames and colnames are symbols. 'cost_mat[char1,&quot;_NULL_&quot;]' indicates the cost value of deleting char1 and 'cost_mat[&quot;_NULL_&quot;,char1]' is the cost value of inserting it. When an operation is not defined in the cost_mat, it is set 0 when the two symbols are the same, otherwise 1.</p>
</td></tr>
<tr><td><code id="edit_dist_string_+3A_delim">delim</code></td>
<td>
<p>The delimiter in 'str1' and 'str2' separating atomic symbols.</p>
</td></tr>
<tr><td><code id="edit_dist_string_+3A_return_alignments">return_alignments</code></td>
<td>
<p>Whether to return alignment details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains 'distance' attribution storing the distance result. If 'return_alignments' is TRUE, then a 'alignments' attribution is present which is a list of dataframes with each storing a possible best alignment scenario.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cost.mat &lt;- data.frame()
dist &lt;- edit_dist_string("leaf","leaves")$distance
dist &lt;- edit_dist_string("ph_l_i_z","p_l_i_s",cost_mat=cost.mat,delim="_")$distance
alignments &lt;- edit_dist_string("ph_l_i_z","p_l_i_s",delim="_",return_alignments=TRUE)$alignments
</code></pre>

<hr>
<h2 id='generate_default_cost_matrix'>Generate a default cost matrix</h2><span id='topic+generate_default_cost_matrix'></span>

<h3>Description</h3>

<p>generate a default cost matrix contains all possible characters in the raw data with all diagonal values set to 0 and others set to 1. This avoids you constructing the matrix from scratch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_default_cost_matrix(data, delim = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate_default_cost_matrix_+3A_data">data</code></td>
<td>
<p>DataFrame to be computed.</p>
</td></tr>
<tr><td><code id="generate_default_cost_matrix_+3A_delim">delim</code></td>
<td>
<p>The delimiter separating atomic symbols.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Cost matrix contains all possible characters in the raw data with all diagonal values set to 0 and others set to 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- as.data.frame(rbind(a=c("a_bc_d","d_bc_a"),b=c("b_bc_d","d_bc_a")))
default.cost &lt;- generate_default_cost_matrix(df, "_")
</code></pre>

<hr>
<h2 id='long2squareform'>Convert long table to square form</h2><span id='topic+long2squareform'></span>

<h3>Description</h3>

<p>Convert a distance dataframe in long table form to a square matrix form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>long2squareform(data, symmetric = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="long2squareform_+3A_data">data</code></td>
<td>
<p>Dataframe in long table form. The first and second columns are labels and the third column stores the distance values.</p>
</td></tr>
<tr><td><code id="long2squareform_+3A_symmetric">symmetric</code></td>
<td>
<p>Whether the distance matrix are symmetric (if cost matrix is not, then the distance matrix is also not).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe in square matrix form, rownames and colnames are labels. If the long table only contains <code class="reqn">C_n^2</code> rows and 'symmetric' is set to FALSE, then only lower triangle positions in the result is filled.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- as.data.frame(list(chars1=c("a","a","b"),chars2=c("b","c","c"),dist=c(1,2,3)))
mat &lt;- long2squareform(data)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

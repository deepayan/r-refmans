<!DOCTYPE html><html><head><title>Help for package lgr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="/home/deepayan/Rinstall/R-devel/lib/R/doc/html/R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lgr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Appender'><p>Appenders</p></a></li>
<li><a href='#AppenderBuffer'><p>Log to a memory buffer</p></a></li>
<li><a href='#AppenderConsole'><p>Log to the console</p></a></li>
<li><a href='#AppenderFile'><p>Log to a file</p></a></li>
<li><a href='#AppenderFileRotating'><p>Log to a rotating file</p></a></li>
<li><a href='#AppenderFileRotatingDate'><p>Log to a date-stamped rotating file</p></a></li>
<li><a href='#AppenderFileRotatingTime'><p>Log to a time-stamped rotating file</p></a></li>
<li><a href='#AppenderMemory'><p>Abstract class for logging to memory buffers</p></a></li>
<li><a href='#AppenderTable'><p>Abstract class for logging to tabular structures</p></a></li>
<li><a href='#as_LogEvent'><p>Coerce objects to LogEvent</p></a></li>
<li><a href='#as.data.frame.LogEvent'><p>Coerce LogEvents to Data Frames</p></a></li>
<li><a href='#basic_config'><p>Basic Setup for the Logging System</p></a></li>
<li><a href='#CannotInitializeAbstractClassError'><p>Logger Error Conditions</p></a></li>
<li><a href='#colorize_levels'><p>Colorize Levels</p></a></li>
<li><a href='#default_exception_handler'><p>Demote an exception to a warning</p></a></li>
<li><a href='#event_list'><p>A List of LogEvents</p></a></li>
<li><a href='#EventFilter'><p>Event Filters</p></a></li>
<li><a href='#Filterable'><p>Abstract Class for Filterables</p></a></li>
<li><a href='#FilterForceLevel'><p>Override the log level of all events processed by a Logger/Appender</p></a></li>
<li><a href='#FilterInject'><p>Inject values into all events processed by a Logger/Appender</p></a></li>
<li><a href='#get_caller'><p>Information About the System</p></a></li>
<li><a href='#get_log_levels'><p>Manage Log Levels</p></a></li>
<li><a href='#get_logger'><p>Get/Create a Logger</p></a></li>
<li><a href='#is_filter'><p>Check if an R Object is a Filter</p></a></li>
<li><a href='#label_levels'><p>Label/Unlabel Log Levels</p></a></li>
<li><a href='#Layout'><p>Abstract Class for Layouts</p></a></li>
<li><a href='#LayoutFormat'><p>Format Log Events as Text</p></a></li>
<li><a href='#LayoutGlue'><p>Format Log Events as Text via glue</p></a></li>
<li><a href='#LayoutJson'><p>Format LogEvents as JSON</p></a></li>
<li><a href='#lgr-package'><p>A Fully Featured Logging Framework for R</p></a></li>
<li><a href='#LogEvent'><p>LogEvents - The atomic unit of logging</p></a></li>
<li><a href='#Logger'><p>Loggers</p></a></li>
<li><a href='#logger_config'><p>Logger Configuration Objects</p></a></li>
<li><a href='#logger_index'><p>Return a data.frame of all registered loggers</p></a></li>
<li><a href='#logger_tree'><p>Logger Tree</p></a></li>
<li><a href='#LoggerGlue'><p>LoggerGlue</p></a></li>
<li><a href='#pad_right'><p>Pad Character Vectors</p></a></li>
<li><a href='#print.Appender'><p>Print an Appender object</p></a></li>
<li><a href='#print.LogEvent'><p>Print or Format Logging Data</p></a></li>
<li><a href='#print.Logger'><p>Print a Logger Object</p></a></li>
<li><a href='#print.logger_tree'><p>Print Logger Trees</p></a></li>
<li><a href='#read_json_lines'><p>Read a JSON logfile</p></a></li>
<li><a href='#simple_logging'><p>Simple Logging</p></a></li>
<li><a href='#standardize_threshold'><p>Standardize User-Input Log Levels to Their Integer Representation</p></a></li>
<li><a href='#string_repr'><p>Short string representation for R objects</p></a></li>
<li><a href='#suspend_logging'><p>Suspend All Logging</p></a></li>
<li><a href='#toString.LogEvent'><p>Convert a LogEvent to a character string</p></a></li>
<li><a href='#use_logger'><p>Setup a Simple Logger for a Package</p></a></li>
<li><a href='#with_log_level'><p>Inject Values into Logging Calls</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Fully Featured Logging Framework</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan Fleck &lt;stefan.b.fleck@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A flexible, feature-rich yet light-weight logging
    framework based on 'R6' classes. It supports hierarchical loggers,
    custom log levels, arbitrary data fields in log events, logging to
    plaintext, 'JSON', (rotating) files, memory buffers. For extra
    appenders that support logging to databases, email and push
    notifications see the the package lgr.app.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://s-fleck.github.io/lgr/">https://s-fleck.github.io/lgr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/s-fleck/lgr/issues/">https://github.com/s-fleck/lgr/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6 (&ge; 2.4.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>cli, covr, crayon, data.table, desc, future, future.apply,
glue, jsonlite, knitr, rmarkdown, rotor (&ge; 0.3.5), rprojroot,
testthat, tibble, tools, utils, whoami, yaml</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1.9000</td>
</tr>
<tr>
<td>Collate:</td>
<td>'Filterable.R' 'utils-sfmisc.R' 'utils.R' 'Appender.R'
'Filter.R' 'log_levels.R' 'LogEvent.R' 'Layout.R' 'Logger.R'
'basic_config.R' 'default_functions.R' 'event_list.R'
'get_logger.R' 'lgr-package.R' 'logger_config.R'
'logger_index.R' 'logger_tree.R' 'read_json_lines.R'
'simple_logging.R' 'string_repr.R' 'use_logger.R'
'utils-formatting.R' 'utils-logging.R' 'utils-rd.R'
'utils-rotor.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-05 21:01:13 UTC; stefan.fleck</td>
</tr>
<tr>
<td>Author:</td>
<td>Stefan Fleck <a href="https://orcid.org/0000-0003-3344-9851"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-05 22:00:02 UTC</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; ; 2024-01-02 07:16:18 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='Appender'>Appenders</h2><span id='topic+Appender'></span><span id='topic+Appenders'></span>

<h3>Description</h3>

<p>Appenders are attached to <a href="lgr.html#topic+Loggers">Loggers</a> and manage the output of the
<a href="lgr.html#topic+LogEvents">LogEvents</a> to a destination - such as the console or a text file. An
Appender has a single <a href="ggplot2.html#topic+Layout">Layout</a> that tells it how to format the LogEvent. For
details please refer to the documentations of the specific Appenders.
</p>
<p>Additional Appenders that support a wide range of output destinations -
such as databases, email, push-notifications or Linux syslog - are available
from the package <a href="https://github.com/s-fleck/lgrExtra">lgrExtra</a>.
</p>
<p><strong>NOTE</strong>: This is an <em>abstract class</em>. Abstract classes cannot be instantiated
directly, but are exported for package developers that want to extend lgr -
for example by creating their own <a href="lgr.html#topic+Appender">Appenders</a> or <a href="ggplot2.html#topic+Layout">Layouts</a>.
Please refer to the <em>see also</em> section for actual implementations of this
class.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code>Appender</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>destination</code></dt><dd><p>The output destination of the <code>Appender</code> in human-readable form. This
is mainly used when printing information about the Appender itself.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Appender-new"><code>Appender$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Appender-append"><code>Appender$append()</code></a>
</p>
</li>
<li> <p><a href="#method-Appender-set_threshold"><code>Appender$set_threshold()</code></a>
</p>
</li>
<li> <p><a href="#method-Appender-set_layout"><code>Appender$set_layout()</code></a>
</p>
</li>
<li> <p><a href="#method-Appender-format"><code>Appender$format()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-Appender-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Appender$new(layout = Layout$new(), threshold = NA_integer_)</pre></div>


<hr>
<a id="method-Appender-append"></a>



<h4>Method <code>append()</code></h4>

<p>Process a <a href="lgr.html#topic+LogEvent">LogEvent</a> <code>event</code>. This method is usually not
called by the user, but invoked by a <a href="lgr.html#topic+Logger">Logger</a>
</p>


<h5>Usage</h5>

<div class="r"><pre>Appender$append(event)</pre></div>


<hr>
<a id="method-Appender-set_threshold"></a>



<h4>Method <code>set_threshold()</code></h4>

<p>Set the minimum log level that triggers this Appender. See
<code><a href="lgr.html#topic+threshold">threshold()</a></code> for examples
</p>


<h5>Usage</h5>

<div class="r"><pre>Appender$set_threshold(level)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>level</code></dt><dd><p><code>character</code> or <code>integer</code> scalar log level. See <a href="lgr.html#topic+log_levels">log_levels</a>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Appender-set_layout"></a>



<h4>Method <code>set_layout()</code></h4>

<p>Set the <code>Layout</code> that this Appender will use for formatting
<code>LogEvents</code>
</p>


<h5>Usage</h5>

<div class="r"><pre>Appender$set_layout(layout)</pre></div>


<hr>
<a id="method-Appender-format"></a>



<h4>Method <code>format()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Appender$format(color = FALSE, ...)</pre></div>




<h3>See Also</h3>

<p>Other abstract classes: 
<code><a href="lgr.html#topic+AppenderMemory">AppenderMemory</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Filterable">Filterable</a></code>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderFile">AppenderFile</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>
</p>

<hr>
<h2 id='AppenderBuffer'>Log to a memory buffer</h2><span id='topic+AppenderBuffer'></span>

<h3>Description</h3>

<p>An Appender that Buffers LogEvents in-memory and and redirects them to other
Appenders once certain conditions are met.
</p>


<h3>Fields</h3>


<dl>
<dt><code>appenders</code>, <code>set_appenders()</code></dt><dd><p>Like for a <a href="lgr.html#topic+Logger">Logger</a>. Buffered events
will be passed on to these Appenders once a flush is triggered</p>
</dd>
<dt><code style="white-space: pre;">&#8288;flush_on_exit, set_flush_on_exit(x)&#8288;</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>: Whether the
buffer should be flushed when the Appender is garbage collected (f.e when
you close <span class="rlang"><b>R</b></span>)</p>
</dd>
<dt><code style="white-space: pre;">&#8288;flush_on_rotate, set_flush_on_rotate&#8288;</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>: Whether
the buffer should be flushed when the Buffer is full (f.e when you close
<span class="rlang"><b>R</b></span>). Setting this to off can have slightly negative performance impacts.</p>
</dd>
</dl>



<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="#topic+AppenderMemory">lgr::AppenderMemory</a></code> -&gt; <code>AppenderBuffer</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderBuffer-new"><code>AppenderBuffer$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderBuffer-flush"><code>AppenderBuffer$flush()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderBuffer-clear"><code>AppenderBuffer$clear()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderBuffer-set_appenders"><code>AppenderBuffer$set_appenders()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderBuffer-add_appender"><code>AppenderBuffer$add_appender()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderBuffer-remove_appender"><code>AppenderBuffer$remove_appender()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderBuffer-format"><code>AppenderBuffer$format()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="append"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-append'><code>lgr::AppenderMemory$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_buffer_size"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_buffer_size'><code>lgr::AppenderMemory$set_buffer_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_exit"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_exit'><code>lgr::AppenderMemory$set_flush_on_exit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_on_rotate"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_on_rotate'><code>lgr::AppenderMemory$set_flush_on_rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_flush_threshold"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_flush_threshold'><code>lgr::AppenderMemory$set_flush_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="set_should_flush"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-set_should_flush'><code>lgr::AppenderMemory$set_should_flush()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderMemory" data-id="show"><a href='../../lgr/html/AppenderMemory.html#method-AppenderMemory-show'><code>lgr::AppenderMemory$show()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderBuffer-new"></a>



<h4>Method <code>new()</code></h4>

<p>The <a href="ggplot2.html#topic+Layout">Layout</a> for this Appender is used only to format console output of
its <code style="white-space: pre;">&#8288;$show()&#8288;</code> method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderBuffer$new(
  threshold = NA_integer_,
  layout = LayoutFormat$new(fmt = "%L [%t] %m", timestamp_fmt = "%H:%M:%S", colors
    = getOption("lgr.colors")),
  appenders = NULL,
  buffer_size = 1000,
  flush_threshold = NULL,
  flush_on_exit = TRUE,
  flush_on_rotate = TRUE,
  should_flush = NULL,
  filters = NULL
)</pre></div>


<hr>
<a id="method-AppenderBuffer-flush"></a>



<h4>Method <code>flush()</code></h4>

<p>Sends the buffer's contents to all attached Appenders and
then clears the Buffer
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderBuffer$flush()</pre></div>


<hr>
<a id="method-AppenderBuffer-clear"></a>



<h4>Method <code>clear()</code></h4>

<p>Clears the buffer, discarding all buffered Events
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderBuffer$clear()</pre></div>


<hr>
<a id="method-AppenderBuffer-set_appenders"></a>



<h4>Method <code>set_appenders()</code></h4>

<p>Exactly like A <a href="lgr.html#topic+Logger">Logger</a>, an <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a> can have an
arbitrary amount of Appenders attached. When the buffer is flushed, the
buffered events are dispatched to these Appenders.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderBuffer$set_appenders(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>single <a href="lgr.html#topic+Appender">Appender</a> or a <code>list</code> thereof. Appenders control the
output of a Logger. Be aware that a Logger also inherits the Appenders
of its ancestors (see <code>vignette("lgr", package = "lgr")</code> for more info
about Logger inheritance).</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderBuffer-add_appender"></a>



<h4>Method <code>add_appender()</code></h4>

<p>Add an Appender to the AppenderBuffer
</p>
<p>Add or remove an <a href="lgr.html#topic+Appender">Appender</a>. Supplying a <code>name</code> is optional but
recommended. After adding an Appender with
<code>appender$add_appender(AppenderConsole$new(), name = "console")</code> you can
refer to it via <code>appender$appenders$console</code>. <code>remove_appender()</code> can
remove an Appender by position or name.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderBuffer$add_appender(appender, name = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>appender</code></dt><dd><p>a single <a href="lgr.html#topic+Appender">Appender</a></p>
</dd>
<dt><code>name</code></dt><dd><p>a <code>character</code> scalar. Optional but recommended.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderBuffer-remove_appender"></a>



<h4>Method <code>remove_appender()</code></h4>

<p>remove an appender
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderBuffer$remove_appender(pos)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pos</code></dt><dd><p><code>integer</code> index or <code>character</code> name of the Appender(s) to
remove</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderBuffer-format"></a>



<h4>Method <code>format()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderBuffer$format(...)</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderFile">AppenderFile</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>

<hr>
<h2 id='AppenderConsole'>Log to the console</h2><span id='topic+AppenderConsole'></span>

<h3>Description</h3>

<p>An Appender that outputs to the <span class="rlang"><b>R</b></span> console. If you have the package
<strong>crayon</strong> installed log levels will be coloured by default
(but you can modify this behaviour by passing a custom <a href="ggplot2.html#topic+Layout">Layout</a>).
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code>AppenderConsole</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderConsole-new"><code>AppenderConsole$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderConsole-append"><code>AppenderConsole$append()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="format"><a href='../../lgr/html/Appender.html#method-Appender-format'><code>lgr::Appender$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderConsole-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderConsole$new(
  threshold = NA_integer_,
  layout = LayoutFormat$new(fmt = "%L [%t] %m %f", timestamp_fmt = "%H:%M:%OS3",
    colors = getOption("lgr.colors", list())),
  filters = NULL
)</pre></div>


<hr>
<a id="method-AppenderConsole-append"></a>



<h4>Method <code>append()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderConsole$append(event)</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderFile">AppenderFile</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a new logger with propagate = FALSE to prevent routing to the root
# logger. Please look at the section "Logger Hirarchies" in the package
# vignette for more info.
lg  &lt;- get_logger("test")$set_propagate(FALSE)

lg$add_appender(AppenderConsole$new())
lg$add_appender(AppenderConsole$new(
  layout = LayoutFormat$new("[%t] %c(): [%n] %m", colors = getOption("lgr.colors"))))

# Will output the message twice because we attached two console appenders
lg$warn("A test message")
lg$config(NULL) # reset config
</code></pre>

<hr>
<h2 id='AppenderFile'>Log to a file</h2><span id='topic+AppenderFile'></span><span id='topic+AppenderJson'></span>

<h3>Description</h3>

<p>A simple Appender that outputs to a file in the file system. If you plan
to log to text files, consider logging to JSON files and take a look at
<a href="lgr.html#topic+AppenderJson">AppenderJson</a>, which is a shortcut for <code>AppenderFile</code> preconfigured with
<code><a href="lgr.html#topic+LayoutJson">LayoutJson</a></code>.
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code>AppenderFile</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>file</code></dt><dd><p><code>character</code> scalar. path to the log file</p>
</dd>
<dt><code>data</code></dt><dd><p><code>data.frame</code>. Contents of <code>file</code> parsed to a
<code>data.frame</code> if used with a <a href="ggplot2.html#topic+Layout">Layout</a> that supports parsing of log
file data (notably <a href="lgr.html#topic+LayoutJson">LayoutJson</a>). Will throw an error if <code>Layout</code> does
not support parsing.</p>
</dd>
<dt><code>data</code></dt><dd><p><code>character</code> scalar. Like <code style="white-space: pre;">&#8288;$data&#8288;</code>, but returns a <code>data.table</code>
instead (requires the <strong>data.table</strong> package).</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderFile-new"><code>AppenderFile$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFile-append"><code>AppenderFile$append()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFile-set_file"><code>AppenderFile$set_file()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFile-show"><code>AppenderFile$show()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="format"><a href='../../lgr/html/Appender.html#method-Appender-format'><code>lgr::Appender$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderFile-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFile$new(
  file,
  threshold = NA_integer_,
  layout = LayoutFormat$new(),
  filters = NULL
)</pre></div>


<hr>
<a id="method-AppenderFile-append"></a>



<h4>Method <code>append()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFile$append(event)</pre></div>


<hr>
<a id="method-AppenderFile-set_file"></a>



<h4>Method <code>set_file()</code></h4>

<p>Set a log file
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderFile$set_file(file)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>file</code></dt><dd><p><code>character</code> scalar. Path to the log file. If <code>file</code> does not
exist it will be created.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderFile-show"></a>



<h4>Method <code>show()</code></h4>

<p>Display the contents of the log file.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderFile$show(threshold = NA_integer_, n = 20L)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>threshold</code></dt><dd><p><code>character</code> or <code>integer</code> scalar. The minimum log level
that should be displayed.</p>
</dd>
<dt><code>n</code></dt><dd><p><code>integer</code> scalar. Show only the last <code>n</code> log entries that match
<code>threshold</code>.</p>
</dd>
</dl>

</div>




<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="#topic+AppenderFile">lgr::AppenderFile</a></code> -&gt; <code>AppenderJson</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderJson-new"><code>AppenderJson$new()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="format"><a href='../../lgr/html/Appender.html#method-Appender-format'><code>lgr::Appender$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFile" data-id="append"><a href='../../lgr/html/AppenderFile.html#method-AppenderFile-append'><code>lgr::AppenderFile$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFile" data-id="set_file"><a href='../../lgr/html/AppenderFile.html#method-AppenderFile-set_file'><code>lgr::AppenderFile$set_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFile" data-id="show"><a href='../../lgr/html/AppenderFile.html#method-AppenderFile-show'><code>lgr::AppenderFile$show()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderJson-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderJson$new(
  file,
  threshold = NA_integer_,
  layout = LayoutJson$new(),
  filters = NULL
)</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>, <a href="lgr.html#topic+LayoutJson">LayoutJson</a>
</p>
<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>, <a href="lgr.html#topic+LayoutJson">LayoutJson</a>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")
default &lt;- tempfile()
fancy &lt;- tempfile()
json &lt;- tempfile()

lg$add_appender(AppenderFile$new(default), "default")
lg$add_appender(
  AppenderFile$new(fancy, layout = LayoutFormat$new("[%t] %c(): %L %m")), "fancy"
)
lg$add_appender(
  AppenderFile$new(json, layout = LayoutJson$new()), "json"
)

lg$info("A test message")

readLines(default)
readLines(fancy)
readLines(json)

# cleanup
lg$config(NULL)
unlink(default)
unlink(fancy)
unlink(json)
tf &lt;- tempfile()
lg &lt;- get_logger("test")$
  set_appenders(AppenderJson$new(tf))$
  set_propagate(FALSE)

lg$info("A test message")
lg$info("A test message %s strings", "with format strings", and = "custom_fields")

lg$appenders[[1]]$show()
lg$appenders[[1]]$data

# cleanup
lg$config(NULL)
unlink(tf)
</code></pre>

<hr>
<h2 id='AppenderFileRotating'>Log to a rotating file</h2><span id='topic+AppenderFileRotating'></span>

<h3>Description</h3>

<p>Log to a rotating file
</p>
<p>Log to a rotating file
</p>


<h3>Details</h3>

<p>An extension of <a href="lgr.html#topic+AppenderFile">AppenderFile</a> that rotates logfiles based on certain
conditions. Please refer to the documentation of <code><a href="rotor.html#topic+rotate">rotor::rotate()</a></code> for
the meanings of the extra arguments
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="#topic+AppenderFile">lgr::AppenderFile</a></code> -&gt; <code>AppenderFileRotating</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>backups</code></dt><dd><p>A <code>data.frame</code> containing information on path, file size,
etc... on the available backups of <code>file</code>.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderFileRotating-new"><code>AppenderFileRotating$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-append"><code>AppenderFileRotating$append()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-rotate"><code>AppenderFileRotating$rotate()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-prune"><code>AppenderFileRotating$prune()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_file"><code>AppenderFileRotating$set_file()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_size"><code>AppenderFileRotating$set_size()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_max_backups"><code>AppenderFileRotating$set_max_backups()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_compression"><code>AppenderFileRotating$set_compression()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_create_file"><code>AppenderFileRotating$set_create_file()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_backup_dir"><code>AppenderFileRotating$set_backup_dir()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-format"><code>AppenderFileRotating$format()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-clone"><code>AppenderFileRotating$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFile" data-id="show"><a href='../../lgr/html/AppenderFile.html#method-AppenderFile-show'><code>lgr::AppenderFile$show()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderFileRotating-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$new(
  file,
  threshold = NA_integer_,
  layout = LayoutFormat$new(),
  filters = NULL,
  size = Inf,
  max_backups = Inf,
  compression = FALSE,
  backup_dir = dirname(file),
  create_file = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>size, max_backups, compression, backup_dir, fmt</code></dt><dd><p>see <code><a href="rotor.html#topic+rotate">rotor::rotate()</a></code> for the meaning of these arguments. Note that
<code>fmt</code> corresponds to <code>format</code> and <code>backup_dir</code> to <code>dir</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderFileRotating-append"></a>



<h4>Method <code>append()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$append(event)</pre></div>


<hr>
<a id="method-AppenderFileRotating-rotate"></a>



<h4>Method <code>rotate()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$rotate(force = FALSE)</pre></div>


<hr>
<a id="method-AppenderFileRotating-prune"></a>



<h4>Method <code>prune()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$prune(max_backups = self$max_backups)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_file"></a>



<h4>Method <code>set_file()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$set_file(file)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_size"></a>



<h4>Method <code>set_size()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$set_size(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_max_backups"></a>



<h4>Method <code>set_max_backups()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$set_max_backups(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_compression"></a>



<h4>Method <code>set_compression()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$set_compression(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_create_file"></a>



<h4>Method <code>set_create_file()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$set_create_file(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_backup_dir"></a>



<h4>Method <code>set_backup_dir()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$set_backup_dir(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-format"></a>



<h4>Method <code>format()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$format(color = false, ...)</pre></div>


<hr>
<a id="method-AppenderFileRotating-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotating$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a>, <a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a>, <code><a href="rotor.html#topic+rotate">rotor::rotate()</a></code>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFile">AppenderFile</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>

<hr>
<h2 id='AppenderFileRotatingDate'>Log to a date-stamped rotating file</h2><span id='topic+AppenderFileRotatingDate'></span>

<h3>Description</h3>

<p>Log to a date-stamped rotating file
</p>
<p>Log to a date-stamped rotating file
</p>


<h3>Details</h3>

<p>This is a simpler version of AppenderFileRotatingTime when the timestamps
do not need to include sub-day accuracy.
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="#topic+AppenderFile">lgr::AppenderFile</a></code> -&gt; <code><a href="#topic+AppenderFileRotating">lgr::AppenderFileRotating</a></code> -&gt; <code>AppenderFileRotatingDate</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderFileRotatingDate-new"><code>AppenderFileRotatingDate$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotatingDate-clone"><code>AppenderFileRotatingDate$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFile" data-id="show"><a href='../../lgr/html/AppenderFile.html#method-AppenderFile-show'><code>lgr::AppenderFile$show()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="append"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-append'><code>lgr::AppenderFileRotating$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="prune"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-prune'><code>lgr::AppenderFileRotating$prune()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_backup_dir"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_backup_dir'><code>lgr::AppenderFileRotating$set_backup_dir()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_compression"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_compression'><code>lgr::AppenderFileRotating$set_compression()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_create_file"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_create_file'><code>lgr::AppenderFileRotating$set_create_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_file"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_file'><code>lgr::AppenderFileRotating$set_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_max_backups"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_max_backups'><code>lgr::AppenderFileRotating$set_max_backups()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_size"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_size'><code>lgr::AppenderFileRotating$set_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="format"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-format'><code>lgr::AppenderFileRotating$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="rotate"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-rotate'><code>lgr::AppenderFileRotating$rotate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_age"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_age'><code>lgr::AppenderFileRotating$set_age()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_cache_backups"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_cache_backups'><code>lgr::AppenderFileRotating$set_cache_backups()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_fmt"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_fmt'><code>lgr::AppenderFileRotating$set_fmt()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_overwrite"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_overwrite'><code>lgr::AppenderFileRotating$set_overwrite()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderFileRotatingDate-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingDate$new(
  file,
  threshold = NA_integer_,
  layout = LayoutFormat$new(),
  filters = NULL,
  age = Inf,
  size = -1,
  max_backups = Inf,
  compression = FALSE,
  backup_dir = dirname(file),
  fmt = "%Y-%m-%d",
  overwrite = FALSE,
  cache_backups = TRUE,
  create_file = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>size, age, max_backups, compression, backup_dir, fmt, overwrite, cache_backups</code></dt><dd><p>see <code><a href="rotor.html#topic+rotate">rotor::rotate_date()</a></code> for the meaning of these arguments. Note that
<code>fmt</code> corresponds to <code>format</code> (because <code style="white-space: pre;">&#8288;$format&#8288;</code> has a special meaning
for R6 classes).</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderFileRotatingDate-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingDate$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a>, <a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a>, <code><a href="rotor.html#topic+rotate">rotor::rotate()</a></code>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderFile">AppenderFile</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>

<hr>
<h2 id='AppenderFileRotatingTime'>Log to a time-stamped rotating file</h2><span id='topic+AppenderFileRotatingTime'></span>

<h3>Description</h3>

<p>Log to a time-stamped rotating file
</p>
<p>Log to a time-stamped rotating file
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code><a href="#topic+AppenderFile">lgr::AppenderFile</a></code> -&gt; <code><a href="#topic+AppenderFileRotating">lgr::AppenderFileRotating</a></code> -&gt; <code>AppenderFileRotating</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>cache_backups</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>. If <code>TRUE</code> (the default) the list of backups is cached,
if <code>FALSE</code> it is read from disk every time this appender triggers.
Caching brings a significant speedup for checking whether to rotate or
not based on the <code>age</code> of the last backup, but is only safe if
there are no other programs/functions (except this appender) interacting
with the backups.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderFileRotating-new"><code>AppenderFileRotatingTime$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-rotate"><code>AppenderFileRotatingTime$rotate()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_age"><code>AppenderFileRotatingTime$set_age()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_fmt"><code>AppenderFileRotatingTime$set_fmt()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_overwrite"><code>AppenderFileRotatingTime$set_overwrite()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-set_cache_backups"><code>AppenderFileRotatingTime$set_cache_backups()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-format"><code>AppenderFileRotatingTime$format()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderFileRotating-clone"><code>AppenderFileRotatingTime$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFile" data-id="show"><a href='../../lgr/html/AppenderFile.html#method-AppenderFile-show'><code>lgr::AppenderFile$show()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="append"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-append'><code>lgr::AppenderFileRotating$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="prune"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-prune'><code>lgr::AppenderFileRotating$prune()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_backup_dir"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_backup_dir'><code>lgr::AppenderFileRotating$set_backup_dir()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_compression"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_compression'><code>lgr::AppenderFileRotating$set_compression()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_create_file"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_create_file'><code>lgr::AppenderFileRotating$set_create_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_file"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_file'><code>lgr::AppenderFileRotating$set_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_max_backups"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_max_backups'><code>lgr::AppenderFileRotating$set_max_backups()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="AppenderFileRotating" data-id="set_size"><a href='../../lgr/html/AppenderFileRotating.html#method-AppenderFileRotating-set_size'><code>lgr::AppenderFileRotating$set_size()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderFileRotating-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$new(
  file,
  threshold = NA_integer_,
  layout = LayoutFormat$new(),
  filters = NULL,
  age = Inf,
  size = -1,
  max_backups = Inf,
  compression = FALSE,
  backup_dir = dirname(file),
  fmt = "%Y-%m-%d--%H-%M-%S",
  overwrite = FALSE,
  cache_backups = TRUE,
  create_file = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>size, age, max_backups, compression, backup_dir, fmt, overwrite, cache_backups</code></dt><dd><p>see <code><a href="rotor.html#topic+rotate">rotor::rotate_time()</a></code> for the meaning of these arguments. Note that
<code>fmt</code> corresponds to <code>format</code> and <code>backup_dir</code> to <code>dir</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderFileRotating-rotate"></a>



<h4>Method <code>rotate()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$rotate(force = FALSE, now = Sys.time())</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_age"></a>



<h4>Method <code>set_age()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$set_age(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_fmt"></a>



<h4>Method <code>set_fmt()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$set_fmt(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_overwrite"></a>



<h4>Method <code>set_overwrite()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$set_overwrite(x)</pre></div>


<hr>
<a id="method-AppenderFileRotating-set_cache_backups"></a>



<h4>Method <code>set_cache_backups()</code></h4>

<p>set the <code>cache_backups</code> flag.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$set_cache_backups(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>a <code>logical</code> scalar</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderFileRotating-format"></a>



<h4>Method <code>format()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$format(color = FALSE, ...)</pre></div>


<hr>
<a id="method-AppenderFileRotating-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderFileRotatingTime$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a>, <a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a>, <code><a href="rotor.html#topic+rotate">rotor::rotate()</a></code>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderFile">AppenderFile</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>

<hr>
<h2 id='AppenderMemory'>Abstract class for logging to memory buffers</h2><span id='topic+AppenderMemory'></span>

<h3>Description</h3>

<p><strong>NOTE</strong>: This is an <em>abstract class</em>. Abstract classes cannot be instantiated
directly, but are exported for package developers that want to extend lgr -
for example by creating their own <a href="lgr.html#topic+Appender">Appenders</a> or <a href="ggplot2.html#topic+Layout">Layouts</a>.
Please refer to the <em>see also</em> section for actual implementations of this
class.
</p>
<p>AppenderMemory is extended by Appenders that retain an in-memory event
buffer, such as <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a> and <code>AppenderPushbullet</code> from the
<a href="https://github.com/s-fleck/lgrExtra">lgrExtra</a> package.
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code>AppenderMemory</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>flush_on_exit</code></dt><dd><p>A <code>logical</code> scalar. Should the buffer be flushed if
the Appender is destroyed (e.g. because the <span class="rlang"><b>R</b></span> session is terminated)?</p>
</dd>
<dt><code>flush_on_rotate</code></dt><dd><p>A <code>logical</code> scalar. Should the buffer be flushed when it is
rotated because <code style="white-space: pre;">&#8288;$buffer_size&#8288;</code> is exceeded?</p>
</dd>
<dt><code>should_flush</code></dt><dd><p>A <code>function</code> with exactly one arguments: <code>event</code>.
<code style="white-space: pre;">&#8288;$append()&#8288;</code> calls this function internally on the current <a href="lgr.html#topic+LogEvent">LogEvent</a>
and flushes the buffer if it evaluates to <code>TRUE</code>.</p>
</dd>
<dt><code>buffer_size</code></dt><dd><p><code>integer</code> scalar <code style="white-space: pre;">&#8288;&gt;= 0&#8288;</code>. Maximum number of <a href="lgr.html#topic+LogEvents">LogEvents</a>
to buffer.</p>
</dd>
<dt><code>flush_threshold</code></dt><dd><p>A <code>numeric</code> or <code>character</code> threshold. <a href="lgr.html#topic+LogEvents">LogEvents</a>
with a <a href="lgr.html#topic+log_level">log_level</a> equal to or lower than this threshold trigger
flushing the buffer.</p>
</dd>
<dt><code>buffer_events</code></dt><dd><p>A <code>list</code> of <a href="lgr.html#topic+LogEvents">LogEvents</a>. Contents of the buffer.</p>
</dd>
<dt><code>buffer_events</code></dt><dd><p>A <code>data.frame</code>. Contents of the buffer converted
to a <code>data.frame</code>.</p>
</dd>
<dt><code>buffer_events</code></dt><dd><p>A <code>data.frame</code>. Contents of the buffer converted
to a <code>data.table</code>.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderMemory-new"><code>AppenderMemory$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-append"><code>AppenderMemory$append()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-flush"><code>AppenderMemory$flush()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-clear"><code>AppenderMemory$clear()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-set_buffer_size"><code>AppenderMemory$set_buffer_size()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-set_should_flush"><code>AppenderMemory$set_should_flush()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-set_flush_on_exit"><code>AppenderMemory$set_flush_on_exit()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-set_flush_on_rotate"><code>AppenderMemory$set_flush_on_rotate()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-set_flush_threshold"><code>AppenderMemory$set_flush_threshold()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-show"><code>AppenderMemory$show()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderMemory-format"><code>AppenderMemory$format()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderMemory-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$new(...)</pre></div>


<hr>
<a id="method-AppenderMemory-append"></a>



<h4>Method <code>append()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$append(event)</pre></div>


<hr>
<a id="method-AppenderMemory-flush"></a>



<h4>Method <code>flush()</code></h4>

<p>Sends the buffer's contents to all attached Appenders and
then clears the Buffer
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$flush()</pre></div>


<hr>
<a id="method-AppenderMemory-clear"></a>



<h4>Method <code>clear()</code></h4>

<p>Clears the buffer, discarding all buffered Events
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$clear()</pre></div>


<hr>
<a id="method-AppenderMemory-set_buffer_size"></a>



<h4>Method <code>set_buffer_size()</code></h4>

<p>Set the maximum size of the buffer
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$set_buffer_size(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>an <code>integer</code> scalar <code style="white-space: pre;">&#8288;&gt;= 0&#8288;</code>. Number of <a href="lgr.html#topic+LogEvents">LogEvents</a> to buffer.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderMemory-set_should_flush"></a>



<h4>Method <code>set_should_flush()</code></h4>

<p>Set function that can trigger flushing the buffer
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$set_should_flush(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>A <code>function</code> with the single argument <code>event</code>. Setting <code>x</code> to
<code>NULL</code> is a shortcut for <code>function(event) FALSE</code>. See active bindings.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderMemory-set_flush_on_exit"></a>



<h4>Method <code>set_flush_on_exit()</code></h4>

<p>Should the buffer be flushed when the Appender is destroyed?
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$set_flush_on_exit(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>A <code>logical</code> scalar. See active bindings.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderMemory-set_flush_on_rotate"></a>



<h4>Method <code>set_flush_on_rotate()</code></h4>

<p>Should the buffer be flushed if <code>buffer_size</code> is exceeded?
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$set_flush_on_rotate(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>A <code>logical</code> scalar. See active bindings.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderMemory-set_flush_threshold"></a>



<h4>Method <code>set_flush_threshold()</code></h4>

<p>Set threshold that triggers flushing
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$set_flush_threshold(level)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>level</code></dt><dd><p>A <code>numeric</code> or <code>character</code> <a href="lgr.html#topic+log_level">threshold</a>. See
active bindings.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderMemory-show"></a>



<h4>Method <code>show()</code></h4>

<p>Display the contents of the log table. Relies on the
<code style="white-space: pre;">&#8288;$format_event&#8288;</code> method of the <a href="ggplot2.html#topic+Layout">Layout</a> attached to this Appender.
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$show(threshold = NA_integer_, n = 20L)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>threshold</code></dt><dd><p><code>character</code> or <code>integer</code> scalar. The minimum log level
that should be displayed.</p>
</dd>
<dt><code>n</code></dt><dd><p><code>integer</code> scalar. Show only the last <code>n</code> log entries that match
<code>threshold</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderMemory-format"></a>



<h4>Method <code>format()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderMemory$format(color = FALSE, ...)</pre></div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>
</p>
<p>Other abstract classes: 
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>,
<code><a href="lgr.html#topic+Filterable">Filterable</a></code>
</p>

<hr>
<h2 id='AppenderTable'>Abstract class for logging to tabular structures</h2><span id='topic+AppenderTable'></span>

<h3>Description</h3>

<p><strong>NOTE</strong>: This is an <em>abstract class</em>. Abstract classes cannot be instantiated
directly, but are exported for package developers that want to extend lgr -
for example by creating their own <a href="lgr.html#topic+Appender">Appenders</a> or <a href="ggplot2.html#topic+Layout">Layouts</a>.
Please refer to the <em>see also</em> section for actual implementations of this
class.
</p>
<p>AppenderTable is extended by Appenders that write to a data
source that can be interpreted as tables, (usually a <code>data.frame</code>). Examples
are <code>AppenderDbi</code>, <code>AppenderRjdbc</code> and <code>AppenderDt</code> from the
<a href="https://github.com/s-fleck/lgrExtra">lgrExtra</a> package.
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Appender">lgr::Appender</a></code> -&gt; <code>AppenderTable</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>data</code></dt><dd><p><code>character</code> scalar. Contents of the table, parsed to a
<code>data.frame</code>.</p>
</dd>
<dt><code>data</code></dt><dd><p><code>character</code> scalar. Like <code style="white-space: pre;">&#8288;$data&#8288;</code>, but returns a <code>data.table</code>
instead (requires the <strong>data.table</strong> package).</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AppenderTable-new"><code>AppenderTable$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderTable-show"><code>AppenderTable$show()</code></a>
</p>
</li>
<li> <p><a href="#method-AppenderTable-format"><code>AppenderTable$format()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="append"><a href='../../lgr/html/Appender.html#method-Appender-append'><code>lgr::Appender$append()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href='../../lgr/html/Appender.html#method-Appender-set_layout'><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href='../../lgr/html/Appender.html#method-Appender-set_threshold'><code>lgr::Appender$set_threshold()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-AppenderTable-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderTable$new(...)</pre></div>


<hr>
<a id="method-AppenderTable-show"></a>



<h4>Method <code>show()</code></h4>

<p>Show recent log entries
</p>


<h5>Usage</h5>

<div class="r"><pre>AppenderTable$show(threshold = NA_integer_, n = 20L)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>threshold</code></dt><dd><p>an <code>integer</code> or <code>character</code> <a href="lgr.html#topic+log_level">threshold</a>.
Only show events with a log level at or below this threshold.</p>
</dd>
<dt><code>n</code></dt><dd><p>a positive <code>integer</code> scalar. Show at most that many entries</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AppenderTable-format"></a>



<h4>Method <code>format()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>AppenderTable$format(color = FALSE, ...)</pre></div>




<h3>See Also</h3>

<p>Other abstract classes: 
<code><a href="lgr.html#topic+AppenderMemory">AppenderMemory</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>,
<code><a href="lgr.html#topic+Filterable">Filterable</a></code>
</p>
<p>Other Appenders: 
<code><a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></code>,
<code><a href="lgr.html#topic+AppenderConsole">AppenderConsole</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingDate">AppenderFileRotatingDate</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotatingTime">AppenderFileRotatingTime</a></code>,
<code><a href="lgr.html#topic+AppenderFileRotating">AppenderFileRotating</a></code>,
<code><a href="lgr.html#topic+AppenderFile">AppenderFile</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>

<hr>
<h2 id='as_LogEvent'>Coerce objects to LogEvent</h2><span id='topic+as_LogEvent'></span><span id='topic+as_LogEvent.list'></span><span id='topic+as_LogEvent.data.frame'></span>

<h3>Description</h3>

<p>Smartly coerce <span class="rlang"><b>R</b></span> objects that look like LogEvents to LogEvents. Mainly
useful for developing Appenders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_LogEvent(x, ...)

## S3 method for class 'list'
as_LogEvent(x, ...)

## S3 method for class 'data.frame'
as_LogEvent(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_LogEvent_+3A_x">x</code></td>
<td>
<p>any supported <span class="rlang"><b>R</b></span> object</p>
</td></tr>
<tr><td><code id="as_LogEvent_+3A_...">...</code></td>
<td>
<p>currently ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Note</strong>: <code>as_LogEvent.data.frame()</code> only supports single-row <code>data.frames</code>
</p>


<h3>Value</h3>

<p>a <a href="lgr.html#topic+LogEvent">LogEvent</a>
</p>


<h3>See Also</h3>

<p>Other docs relevant for extending lgr: 
<code><a href="lgr.html#topic+LogEvent">LogEvent</a></code>,
<code><a href="lgr.html#topic+event_list">event_list</a>()</code>,
<code><a href="lgr.html#topic+standardize_threshold">standardize_threshold</a>()</code>
</p>

<hr>
<h2 id='as.data.frame.LogEvent'>Coerce LogEvents to Data Frames</h2><span id='topic+as.data.frame.LogEvent'></span><span id='topic+as.data.table.LogEvent'></span><span id='topic+as_tibble.LogEvent'></span>

<h3>Description</h3>

<p>Coerce LogEvents to <code>data.frames</code>, <code><a href="data.table.html#topic+data.table">data.tables</a></code>,
or <code><a href="tibble.html#topic+tibble">tibbles</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'LogEvent'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  stringsAsFactors = FALSE,
  ...,
  box_if = function(.) !(is.atomic(.) &amp;&amp; identical(length(.), 1L)),
  cols_expand = NULL
)

as.data.table.LogEvent(
  x,
  ...,
  box_if = function(.) !(is.atomic(.) &amp;&amp; identical(length(.), 1L)),
  cols_expand = "msg"
)

as_tibble.LogEvent(
  x,
  ...,
  box_if = function(.) !(is.atomic(.) &amp;&amp; identical(length(.), 1L)),
  cols_expand = "msg"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.LogEvent_+3A_x">x</code></td>
<td>
<p>any <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="as.data.frame.LogEvent_+3A_row.names">row.names</code></td>
<td>
<p><code>NULL</code> or a character vector giving the row
names for the data frame.  Missing values are not allowed.</p>
</td></tr>
<tr><td><code id="as.data.frame.LogEvent_+3A_optional">optional</code></td>
<td>
<p>currently ignored and only included for compatibility.</p>
</td></tr>
<tr><td><code id="as.data.frame.LogEvent_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p><code>logical</code> scalar: should <code>character</code> vectors be
converted to factors? Defaults to <code>FALSE</code> (as opposed to
<code><a href="base.html#topic+as.data.frame">base::as.data.frame()</a></code>) and is only included for compatibility.</p>
</td></tr>
<tr><td><code id="as.data.frame.LogEvent_+3A_...">...</code></td>
<td>
<p>passed on to <code>data.frame()</code></p>
</td></tr>
<tr><td><code id="as.data.frame.LogEvent_+3A_box_if">box_if</code></td>
<td>
<p>a <code>function</code> that returns <code>TRUE</code> or <code>FALSE</code> to determine
which values are to be boxed (i.e. placed as single elements in a list
column). See example</p>
</td></tr>
<tr><td><code id="as.data.frame.LogEvent_+3A_cols_expand">cols_expand</code></td>
<td>
<p><code>character</code> vector. Columns to <em>not</em> box (even if
<code>box_if()</code> returns <code>TRUE</code>). Vectors in these columns will result in multiple
rows in the result (rather than a single list-column row). This defaults to
<code>"msg"</code> for vectorized logging over the log message.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="data.table.html#topic+data.table">data.table::data.table</a>, <a href="tibble.html#topic+tibble">tibble::tibble</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")
lg$info("lorem ipsum")
as.data.frame(lg$last_event)

lg$info("LogEvents can store any custom log values", df = iris)
as.data.frame(lg$last_event)
head(as.data.frame(lg$last_event)$df[[1]])

# how boxing works

# by default non-scalars are boxed
lg$info("letters", letters = letters)
as.data.frame(lg$last_event)

# this behaviour can be modified by supplying a custom boxing function
as.data.frame(lg$last_event, box_if = function(.) FALSE)
as.data.frame(lg$last_event, cols_expand = "letters")

# The `msg` argument of a log event is always vectorized
lg$info(c("a vectorized", "log message"))
as.data.frame(lg$last_event)

lg$config(NULL)
</code></pre>

<hr>
<h2 id='basic_config'>Basic Setup for the Logging System</h2><span id='topic+basic_config'></span>

<h3>Description</h3>

<p>A quick and easy way to configure the root logger. This is less powerful
then using <code>lgr$config()</code> or <code style="white-space: pre;">&#8288;lgr$set_*()&#8288;</code> (see <a href="lgr.html#topic+Logger">Logger</a>), but reduces the
most common configurations to a single line of code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_config(
  file = NULL,
  fmt = "%L [%t] %m",
  timestamp_fmt = "%Y-%m-%d %H:%M:%OS3",
  threshold = "info",
  appenders = NULL,
  console = if (is.null(appenders)) "all" else FALSE,
  console_fmt = "%L [%t] %m %f",
  console_timestamp_fmt = "%H:%M:%OS3",
  memory = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basic_config_+3A_file">file</code></td>
<td>
<p><code>character</code> scalar: If not <code>NULL</code> a <a href="lgr.html#topic+AppenderFile">AppenderFile</a> will be
created that logs to this file. If the filename ends in <code>.jsonl</code>, the
Appender will be set up to use the <a href="https://jsonlines.org/">JSON Lines</a>
format instead of plain text (see <a href="lgr.html#topic+AppenderFile">AppenderFile</a> and <a href="lgr.html#topic+AppenderJson">AppenderJson</a>).</p>
</td></tr>
<tr><td><code id="basic_config_+3A_fmt">fmt</code></td>
<td>
<p><code>character</code> scalar: Format to use if <code>file</code> is supplied and not a
<code>.jsonl</code> file. If <code>NULL</code> it defaults to <code>"%L [%t] %m"</code> (see
<a href="lgr.html#topic+format.LogEvent">format.LogEvent</a>)</p>
</td></tr>
<tr><td><code id="basic_config_+3A_timestamp_fmt">timestamp_fmt</code></td>
<td>
<p>see <code><a href="base.html#topic+format.POSIXct">format.POSIXct()</a></code></p>
</td></tr>
<tr><td><code id="basic_config_+3A_threshold">threshold</code></td>
<td>
<p><code>character</code> or <code>integer</code> scalar. The minimum <a href="lgr.html#topic+log_levels">log level</a> that should be processed by the root logger.</p>
</td></tr>
<tr><td><code id="basic_config_+3A_appenders">appenders</code></td>
<td>
<p>a single <a href="lgr.html#topic+Appender">Appender</a> or a list thereof.</p>
</td></tr>
<tr><td><code id="basic_config_+3A_console">console</code></td>
<td>
<p><code>logical</code> scalar or a <code>threshold</code> (see above). Add an appender
logs to the console (i.e. displays messages in an interactive R session)</p>
</td></tr>
<tr><td><code id="basic_config_+3A_console_fmt">console_fmt</code></td>
<td>
<p><code>character</code> scalar: like <code>fmt</code> but used for console output</p>
</td></tr>
<tr><td><code id="basic_config_+3A_console_timestamp_fmt">console_timestamp_fmt</code></td>
<td>
<p><code>character</code> scalar: like <code>timestamp_fmt</code> but
used for console output</p>
</td></tr>
<tr><td><code id="basic_config_+3A_memory">memory</code></td>
<td>
<p><code>logical</code> scalar. or a <code>threshold</code> (see above). Add an Appender
that logs to a memory buffer, see also <code><a href="lgr.html#topic+show_log">show_log()</a></code> and <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>the <code>root</code> Logger (lgr)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># log to a file
basic_config(file = tempfile())
unlink(lgr$appenders$file$file)  # cleanup

basic_config(file = tempfile(fileext = "jsonl"))
unlink(lgr$appenders$file$file)  # cleanup

# log debug messages to a memory buffer
basic_config(threshold = "all", memory = "all", console = "info")
lgr$info("an info message")
lgr$debug("a hidden message")
show_log()

# reset to default config
basic_config()
</code></pre>

<hr>
<h2 id='CannotInitializeAbstractClassError'>Logger Error Conditions</h2><span id='topic+CannotInitializeAbstractClassError'></span>

<h3>Description</h3>

<p>Logger Error Conditions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CannotInitializeAbstractClassError(class = parent.frame(2)[["classes"]])
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CannotInitializeAbstractClassError_+3A_class">class</code></td>
<td>
<p><code>character</code> scalar. The abstract class that was mistakenly
tried to initialize. The default is to discover the class name
automatically if called inside <code style="white-space: pre;">&#8288;$initialize(){...}&#8288;</code> in an <a href="R6.html#topic+R6Class">R6::R6</a> class
definition</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a condition object
</p>

<hr>
<h2 id='colorize_levels'>Colorize Levels</h2><span id='topic+colorize_levels'></span>

<h3>Description</h3>

<p>Colorize Levels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colorize_levels(
  x,
  colors = getOption("lgr.colors", NULL),
  transform = identity
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colorize_levels_+3A_x">x</code></td>
<td>
<p><code>numeric</code> or <code>character</code> levels to be colored. Unlike in many other
functions in lgr, <code>character</code> levels are <em>not</em> case sensitive in this
function and leading/trailing whitespace is ignored to make it more
comfortable to use <code>colorize_levels()</code> inside formatting functions.</p>
</td></tr>
<tr><td><code id="colorize_levels_+3A_colors">colors</code></td>
<td>
<p>A <code>list</code> of <code>functions</code> that will be used to color the
log levels (likely from <a href="crayon.html#topic+crayon">crayon::crayon</a>).</p>
</td></tr>
<tr><td><code id="colorize_levels_+3A_transform">transform</code></td>
<td>
<p>a <code>function</code> to transform <code>x</code> (for example <code>toupper()</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>character</code> vector wit color ANSI codes
</p>


<h3>See Also</h3>

<p>Other formatting utils: 
<code><a href="lgr.html#topic+label_levels">label_levels</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(colorize_levels(c(100, 200)))
cat(colorize_levels(c("trace", "warn ", "DEBUG")))
cat(colorize_levels(c("trace", "warn ", "DEBUG"), transform = function(x) strtrim(x, 1) ))
</code></pre>

<hr>
<h2 id='default_exception_handler'>Demote an exception to a warning</h2><span id='topic+default_exception_handler'></span>

<h3>Description</h3>

<p>Throws a timestamped warning instead of stopping the program. This is
the default exception handler used by <a href="lgr.html#topic+Loggers">Loggers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_exception_handler(e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="default_exception_handler_+3A_e">e</code></td>
<td>
<p>an <code style="white-space: pre;">&#8288;error condition&#8288;</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The warning as <code>character</code> vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tryCatch(stop("an error has occurred"), error = default_exception_handler)

</code></pre>

<hr>
<h2 id='event_list'>A List of LogEvents</h2><span id='topic+event_list'></span><span id='topic+as_event_list'></span><span id='topic+as_event_list.list'></span><span id='topic+as_event_list.LogEvent'></span><span id='topic+as_event_list.data.frame'></span><span id='topic+as.data.table.event_list'></span><span id='topic+as.data.frame.event_list'></span>

<h3>Description</h3>

<p>An event_list is a class for <code>list()</code>s whose only elements are <a href="lgr.html#topic+LogEvents">LogEvents</a>.
This structure is occasionally used internally in lgr (for example by
<a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a>) and can be useful for developers that want to write
their own Appenders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>event_list(...)

as_event_list(x, ...)

## S3 method for class 'list'
as_event_list(x, ..., scalarize = FALSE)

## S3 method for class 'LogEvent'
as_event_list(x, ..., scalarize = FALSE)

## S3 method for class 'data.frame'
as_event_list(x, na.rm = TRUE, ...)

as.data.table.event_list(x, na.rm = TRUE)

## S3 method for class 'event_list'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  stringsAsFactors = FALSE,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="event_list_+3A_...">...</code></td>
<td>
<p>for <code>event</code> elements to be added to the list, for the <code style="white-space: pre;">&#8288;as_*()&#8288;</code>
functions parameters passed on to methods.</p>
</td></tr>
<tr><td><code id="event_list_+3A_x">x</code></td>
<td>
<p>any <code>R</code> object</p>
</td></tr>
<tr><td><code id="event_list_+3A_scalarize">scalarize</code></td>
<td>
<p><code>logical</code> scalar. Turn <a href="lgr.html#topic+LogEvents">LogEvents</a> with non-scalar <code>msg</code>
field into separate log events</p>
</td></tr>
<tr><td><code id="event_list_+3A_na.rm">na.rm</code></td>
<td>
<p>remove <code>NA</code> values before coercing a data.frame to an <code>event_list()</code>.</p>
</td></tr>
<tr><td><code id="event_list_+3A_row.names">row.names</code></td>
<td>
<p><code>NULL</code> or a character vector giving the row
names for the data frame.  Missing values are not allowed.</p>
</td></tr>
<tr><td><code id="event_list_+3A_optional">optional</code></td>
<td>
<p>currently ignored and only included for compatibility.</p>
</td></tr>
<tr><td><code id="event_list_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p><code>logical</code> scalar: should <code>character</code> vectors be
converted to factors? Defaults to <code>FALSE</code> (as opposed to
<code><a href="base.html#topic+as.data.frame">base::as.data.frame()</a></code>) and is only included for compatibility.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For convenience, <code>as.data.frame()</code> and <code>as.data.table()</code> methods
exist for event lists.
</p>


<h3>Value</h3>

<p>an <code>event_list()</code> and <code>as_event_list()</code> return a flat <code>list</code>
of <a href="lgr.html#topic+LogEvents">LogEvents</a>. Nested lists get automatically flattened.
</p>
<p><code>as.data.frame</code> and <code>as.data.table</code> return a <code>data.frame</code> or <code>data.table</code>
respectively
</p>


<h3>See Also</h3>

<p>Other docs relevant for extending lgr: 
<code><a href="lgr.html#topic+LogEvent">LogEvent</a></code>,
<code><a href="lgr.html#topic+as_LogEvent">as_LogEvent</a>()</code>,
<code><a href="lgr.html#topic+standardize_threshold">standardize_threshold</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- LogEvent$new(level = 300, msg = "a", logger = lgr)
as_event_list(e)
as_event_list(c(e, e))
# nested lists get automatically unnested
as_event_list(c(e, list(nested_event = e)))

# scalarize = TRUE "unpacks" events with vector log messages
e &lt;- LogEvent$new(level = 300, msg = c("A", "B"), logger = lgr)
as_event_list(e, scalarize = FALSE)
as_event_list(e, scalarize = TRUE)

</code></pre>

<hr>
<h2 id='EventFilter'>Event Filters</h2><span id='topic+EventFilter'></span><span id='topic+Filter'></span><span id='topic+.obj'></span>

<h3>Description</h3>

<p>EventFilters specify arbitrarily complex logic for whether or
not a LogEvent should be processed by a <a href="lgr.html#topic+Logger">Logger</a> or <a href="lgr.html#topic+Appender">Appender</a>. They are
attached to Loggers/Appenders via their <code style="white-space: pre;">&#8288;$set_filter()&#8288;</code> or <code style="white-space: pre;">&#8288;$add_filter()&#8288;</code>
methods. If any EventFilter evaluates to <code>FALSE</code> for a given event, that
event is ignored - similarly to when it does not pass the objects'
threshold.
</p>
<p>Usually you do not need to instantiate a formal <code>EventFilter</code> object as you
can just use any <code>function</code> that has the single argument <code>event</code> instead.
If you need to implement more complex filter logic - for example a filter
that is dependent on a dataset - it might be desirable to subclass
EventFilter, as <a href="R6.html#topic+R6Class">R6::R6</a> objects can store data and functions together.
</p>
<p><code>.obj()</code> is a special function that can only be used within the
<code style="white-space: pre;">&#8288;$filter()&#8288;</code> methods of <a href="lgr.html#topic+EventFilter">EventFilters</a>. It returns the <a href="lgr.html#topic+Logger">Logger</a>
or <a href="lgr.html#topic+Appender">Appender</a> that the EventFilter is attached to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.obj()
</code></pre>


<h3>Modifying LogEvents with EventFilters</h3>

<p>Since LogEvents are R6 objects with reference semantics, EventFilters can be
abused to modify events before passing them on. lgr comes with a few
preset filters that use this property: <a href="lgr.html#topic+FilterInject">FilterInject</a> (similar to
<code><a href="lgr.html#topic+with_log_level">with_log_level()</a></code>) and <a href="lgr.html#topic+FilterForceLevel">FilterForceLevel</a> (similar to <code><a href="lgr.html#topic+with_log_value">with_log_value()</a></code>).
</p>
<p><strong>NOTE:</strong> The base class for Filters is called <code>EventFilter</code> so that it
doesn't conflict with <code><a href="base.html#topic+funprog">base::Filter()</a></code>. The recommended convention for
Filter subclasses is to call them <code>FilterSomething</code> and leave out the
<code>Event</code> prefix.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-EventFilter-new"><code>EventFilter$new()</code></a>
</p>
</li>
<li> <p><a href="#method-EventFilter-clone"><code>EventFilter$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-EventFilter-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialize a new EventFilter
</p>


<h5>Usage</h5>

<div class="r"><pre>EventFilter$new(fun = function(event) TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>fun</code></dt><dd><p>a <code>function</code> with a single argument <code>event</code> that must return
either <code>TRUE</code> or <code>FALSE</code>. Any  non-<code>FALSE</code> will be interpreted as
<code>TRUE</code> (= no filtering takes place) and a warning will be thrown.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-EventFilter-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>EventFilter$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><code><a href="lgr.html#topic+is_filter">is_filter()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")
f &lt;- function(event) {
  cat("via event$.logger:", event$.logger$threshold, "\n")  #  works for loggers only
  cat("via .obj():      ",.obj()$threshold, "\n") # works for loggers and appenders
  TRUE
}
lg$add_filter(f)
lg$fatal("test")
lg$config(NULL)
</code></pre>

<hr>
<h2 id='Filterable'>Abstract Class for Filterables</h2><span id='topic+Filterable'></span>

<h3>Description</h3>

<p>Superclass for classes that have a <code style="white-space: pre;">&#8288;$filter()&#8288;</code> method such as
<a href="lgr.html#topic+Appenders">Appenders</a> and <a href="lgr.html#topic+Loggers">Loggers</a>. See <a href="lgr.html#topic+EventFilter">EventFilter</a> for details.
</p>
<p><strong>NOTE</strong>: This is an <em>abstract class</em>. Abstract classes cannot be instantiated
directly, but are exported for package developers that want to extend lgr -
for example by creating their own <a href="lgr.html#topic+Appender">Appenders</a> or <a href="ggplot2.html#topic+Layout">Layouts</a>.
Please refer to the <em>see also</em> section for actual implementations of this
class.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>filters</code></dt><dd><p>a <code>list</code> of all attached Filters.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Filterable-filter"><code>Filterable$filter()</code></a>
</p>
</li>
<li> <p><a href="#method-Filterable-add_filter"><code>Filterable$add_filter()</code></a>
</p>
</li>
<li> <p><a href="#method-Filterable-remove_filter"><code>Filterable$remove_filter()</code></a>
</p>
</li>
<li> <p><a href="#method-Filterable-set_filters"><code>Filterable$set_filters()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Filterable-filter"></a>



<h4>Method <code>filter()</code></h4>

<p>Determine whether the LogEvent <code>x</code> should be passed on to
Appenders (<code>TRUE</code>) or not (<code>FALSE</code>). See also the active binding
<code>filters</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Filterable$filter(event)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>event</code></dt><dd><p>a <a href="lgr.html#topic+LogEvent">LogEvent</a></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Filterable-add_filter"></a>



<h4>Method <code>add_filter()</code></h4>

<p>Attach a filter
</p>


<h5>Usage</h5>

<div class="r"><pre>Filterable$add_filter(filter, name = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filter</code></dt><dd>
<ul>
<li><p> a function with the single argument <code>event</code> that returns <code>TRUE</code>
or <code>FALSE</code>;
</p>
</li>
<li><p> an <a href="lgr.html#topic+EventFilter">EventFilter</a> <a href="R6.html#topic+R6Class">R6::R6</a> object; or
</p>
</li>
<li><p> any <span class="rlang"><b>R</b></span> object with a <code style="white-space: pre;">&#8288;$filter()&#8288;</code> method.
</p>
</li></ul>

<p>If a Filter returns a non-<code>FALSE</code> value, will be interpreted as <code>TRUE</code>
(= no filtering takes place) and a warning will be thrown.</p>
</dd>
<dt><code>name</code></dt><dd><p><code>character</code> scalar or <code>NULL</code>. An optional
name which makes it easier to access (or remove) the filter</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Filterable-remove_filter"></a>



<h4>Method <code>remove_filter()</code></h4>

<p>Remove a filter
</p>


<h5>Usage</h5>

<div class="r"><pre>Filterable$remove_filter(pos)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pos</code></dt><dd><p><code>character</code> or <code>integer</code> scalar. The name or index of the
Filter to be removed.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Filterable-set_filters"></a>



<h4>Method <code>set_filters()</code></h4>

<p>Set or replace (all) Filters of parent object. See
<a href="lgr.html#topic+EventFilter">EventFilter</a> for how Filters work.
</p>


<h5>Usage</h5>

<div class="r"><pre>Filterable$set_filters(filters)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filters</code></dt><dd><p>a <code>list</code> (named or unnamed) of <a href="lgr.html#topic+EventFilter">EventFilters</a>
or predicate functions. See <code><a href="lgr.html#topic+is_filter">is_filter()</a></code>.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other abstract classes: 
<code><a href="lgr.html#topic+AppenderMemory">AppenderMemory</a></code>,
<code><a href="lgr.html#topic+AppenderTable">AppenderTable</a></code>,
<code><a href="lgr.html#topic+Appender">Appender</a></code>
</p>

<hr>
<h2 id='FilterForceLevel'>Override the log level of all events processed by a Logger/Appender</h2><span id='topic+FilterForceLevel'></span>

<h3>Description</h3>

<p>Overrides the log level of the  Appender/Logger that this filter
is attached to to with <code>level</code>. See also <code><a href="lgr.html#topic+with_log_level">with_log_level()</a></code>. It is
recommended to use filters that modify LogEvents only with Loggers, but
they will also work with Appenders.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+EventFilter">lgr::EventFilter</a></code> -&gt; <code>FilterForceLevel</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>level</code></dt><dd><p>an <code>integer</code> <a href="lgr.html#topic+log_level">log level</a> used to override the log
levels of each <a href="lgr.html#topic+LogEvent">LogEvent</a> processed by this filter.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-FilterForceLevel-new"><code>FilterForceLevel$new()</code></a>
</p>
</li>
<li> <p><a href="#method-FilterForceLevel-clone"><code>FilterForceLevel$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-FilterForceLevel-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialize a new FilterForceLevel
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterForceLevel$new(level)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>level</code></dt><dd><p>an <code>integer</code> or <code>character</code> <a href="lgr.html#topic+log_level">log level</a></p>
</dd>
</dl>

</div>


<hr>
<a id="method-FilterForceLevel-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterForceLevel$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")

analyse &lt;- function(){
  lg$add_filter(FilterForceLevel$new("info"), "force")
  on.exit(lg$remove_filter("force"))
  lg$error("an error with forced log level INFO")
}

analyse()
lg$error("an normal error")
lg$config(NULL)  # reset config
</code></pre>

<hr>
<h2 id='FilterInject'>Inject values into all events processed by a Logger/Appender</h2><span id='topic+FilterInject'></span>

<h3>Description</h3>

<p>Inject arbitrary values into all <a href="lgr.html#topic+LogEvent">LogEvents</a> processed
by a Logger/Appender. It is recommended to use filters that modify LogEvents
only with Loggers, but they will also work with Appenders.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+EventFilter">lgr::EventFilter</a></code> -&gt; <code>FilterInject</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>values</code></dt><dd><p>a named <code>list</code> of values to be injected into each
<a href="lgr.html#topic+LogEvent">LogEvent</a> processed by this filter</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-FilterInject-new"><code>FilterInject$new()</code></a>
</p>
</li>
<li> <p><a href="#method-FilterInject-clone"><code>FilterInject$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-FilterInject-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialize a new FilterInject
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterInject$new(..., .list = list())</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>..., .list</code></dt><dd><p>any number of named <span class="rlang"><b>R</b></span> objects that will be injected as
custom fields into all <a href="lgr.html#topic+LogEvent">LogEvents</a> processed by the
Appender/Logger that this filter is attached to. See also
<code><a href="lgr.html#topic+with_log_value">with_log_value()</a></code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-FilterInject-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterInject$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")

analyse &lt;- function(){
  lg$add_filter(FilterInject$new(type = "analysis"), "inject")
  on.exit(lg$remove_filter("inject"))
  lg$error("an error with forced custom 'type'-field")
}

analyse()
lg$error("an normal error")
lg$config(NULL)  # reset config
</code></pre>

<hr>
<h2 id='get_caller'>Information About the System</h2><span id='topic+get_caller'></span><span id='topic+system_infos'></span><span id='topic+get_user'></span>

<h3>Description</h3>

<p><code>get_caller()</code> Tries to determine the calling functions based on <code>where</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_caller(where = -1L)

get_user(fallback = "unknown user")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_caller_+3A_where">where</code></td>
<td>
<p><code>integer</code> scalar (usually negative). Look up that many frames
up the call stack</p>
</td></tr>
<tr><td><code id="get_caller_+3A_fallback">fallback</code></td>
<td>
<p>A fallback in case the user name could not be determined</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>character</code> scalar.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sys.parent">base::sys.call()</a></code>
</p>
<p><code><a href="whoami.html#topic+whoami">whoami::whoami()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>foo &lt;- function() get_caller(-1L)
foo()
get_user()
</code></pre>

<hr>
<h2 id='get_log_levels'>Manage Log Levels</h2><span id='topic+get_log_levels'></span><span id='topic+log_levels'></span><span id='topic+log_level'></span><span id='topic+add_log_levels'></span><span id='topic+remove_log_levels'></span>

<h3>Description</h3>

<p>Display, add and remove character labels for log levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_log_levels()

add_log_levels(levels)

remove_log_levels(level_names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_log_levels_+3A_levels">levels</code></td>
<td>
<p>a named <code>character</code> vector (see examples)</p>
</td></tr>
<tr><td><code id="get_log_levels_+3A_level_names">level_names</code></td>
<td>
<p>a <code>character</code> vector of the names of the levels to remove</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named <code>character</code> vector of the globally available log levels
(<code>add_log_levels()</code> and <code>remove_log_levels()</code> return invisibly).
</p>


<h3>Default Log Levels</h3>

<p>lgr comes with the following predefined log levels that are identical to
the log levels of log4j.
</p>

<table>
<tr>
 <td style="text-align: right;">
Level </td><td style="text-align: left;"> Name  </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>0</code> </td><td style="text-align: left;"> off   </td><td style="text-align: left;"> A log level of 0/off tells a Logger or Appender to suspend all logging </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>100</code> </td><td style="text-align: left;"> fatal </td><td style="text-align: left;"> Critical error that leads to program abort. Should always indicate a <code>stop()</code> or similar </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>200</code> </td><td style="text-align: left;"> error </td><td style="text-align: left;"> A severe error that does not trigger program abort</td>
</tr>
<tr>
 <td style="text-align: right;">
<code>300</code> </td><td style="text-align: left;"> warn  </td><td style="text-align: left;"> A potentially harmful situation, like <code>warning()</code></td>
</tr>
<tr>
 <td style="text-align: right;">
<code>400</code> </td><td style="text-align: left;"> info  </td><td style="text-align: left;"> An informational message on the progress of the application</td>
</tr>
<tr>
 <td style="text-align: right;">
<code>500</code> </td><td style="text-align: left;"> debug </td><td style="text-align: left;"> Finer grained informational messages that are mostly useful for debugging</td>
</tr>
<tr>
 <td style="text-align: right;">
<code>600</code> </td><td style="text-align: left;"> trace </td><td style="text-align: left;"> An even finer grained message than debug</td>
</tr>
<tr>
 <td style="text-align: right;">
<code>NA</code> </td><td style="text-align: left;"> all   </td><td style="text-align: left;"> A log level of NA/all tells a Logger or Appender to process all log events
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>get_log_levels()
add_log_levels(c(errorish = 250))
get_log_levels()
remove_log_levels("errorish")
get_log_levels()
</code></pre>

<hr>
<h2 id='get_logger'>Get/Create a Logger</h2><span id='topic+get_logger'></span><span id='topic+get_logger_glue'></span>

<h3>Description</h3>

<p>Get/Create a Logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_logger(name, class = Logger, reset = FALSE)

get_logger_glue(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_logger_+3A_name">name</code></td>
<td>
<p>a <code>character</code> scalar or vector: The qualified name of the Logger
as a hierarchical value.</p>
</td></tr>
<tr><td><code id="get_logger_+3A_class">class</code></td>
<td>
<p>An <a href="R6.html#topic+R6Class">R6ClassGenerator</a> object. Usually <code>Logger</code> or <code>LoggerGlue</code>
are the only valid choices.</p>
</td></tr>
<tr><td><code id="get_logger_+3A_reset">reset</code></td>
<td>
<p>a <code>logical</code> scalar. If <code>TRUE</code> the logger is reset to an
unconfigured state. Unlike <code style="white-space: pre;">&#8288;$config(NULL)&#8288;</code> this also replaces a
<code>LoggerGlue</code> with vanilla <code>Logger</code>. Please note that this will invalidate
Logger references created before the reset call (see examples).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="lgr.html#topic+Logger">Logger</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("log/ger/test")
# equivalent to
lg &lt;- get_logger(c("log", "ger", "test"))
lg$warn("a %s message", "warning")
lg
lg$parent

if (requireNamespace('glue')){
  lg &lt;- get_logger_glue("log/ger")
}
lg$warn("a {.text} message", .text = "warning")

# completely reset 'glue' to an unconfigured vanilla Logger
get_logger("log/ger", reset = TRUE)
# WARNING: this invalidates existing references to the Logger
try(lg$info("lg has been invalidated an no longer works"))

lg &lt;- get_logger("log/ger")
lg$info("now all is well again")
</code></pre>

<hr>
<h2 id='is_filter'>Check if an R Object is a Filter</h2><span id='topic+is_filter'></span>

<h3>Description</h3>

<p>Returns <code>TRUE</code> for any <span class="rlang"><b>R</b></span> object that can be used as a Filter
for <a href="lgr.html#topic+Loggers">Loggers</a> or, <a href="lgr.html#topic+Appenders">Appenders</a>:
</p>

<ul>
<li><p> a <code>function</code> with the single argument <code>event</code>;
</p>
</li>
<li><p> an <a href="lgr.html#topic+EventFilter">EventFilter</a> <a href="R6.html#topic+R6Class">R6::R6</a> object; or
</p>
</li>
<li><p> any object with a <code style="white-space: pre;">&#8288;$filter(event)&#8288;</code> method.
</p>
</li></ul>

<p><strong>Note:</strong> A Filter <strong>must</strong> return a scalar <code>TRUE</code> or <code>FALSE</code>, but this
property cannot be checked by <code><a href="lgr.html#topic+is_filter">is_filter()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_filter(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_filter_+3A_x">x</code></td>
<td>
<p>any <span class="rlang"><b>R</b></span> Object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>
</p>


<h3>See Also</h3>

<p><a href="lgr.html#topic+EventFilter">EventFilter</a>, <a href="lgr.html#topic+Filterable">Filterable</a>
</p>

<hr>
<h2 id='label_levels'>Label/Unlabel Log Levels</h2><span id='topic+label_levels'></span><span id='topic+unlabel_levels'></span>

<h3>Description</h3>

<p>Label/Unlabel Log Levels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_levels(levels, log_levels = getOption("lgr.log_levels"))

unlabel_levels(labels, log_levels = getOption("lgr.log_levels"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_levels_+3A_levels">levels</code></td>
<td>
<p>an <code>integer</code> vector of log levels</p>
</td></tr>
<tr><td><code id="label_levels_+3A_log_levels">log_levels</code></td>
<td>
<p>named <code>integer</code> vector of valid log levels</p>
</td></tr>
<tr><td><code id="label_levels_+3A_labels">labels</code></td>
<td>
<p>a <code>character</code> vector of log level labels. Please note that
log levels are lowercase by default, even if many appenders print them
in uppercase.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>character</code> vector for <code>label_levels()</code> and an integer vector for
<code>unlabel_levels</code>
</p>


<h3>See Also</h3>

<p><code><a href="lgr.html#topic+get_log_levels">get_log_levels()</a></code>
</p>
<p>Other formatting utils: 
<code><a href="lgr.html#topic+colorize_levels">colorize_levels</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- label_levels(c(seq(0, 600, by = 100), NA))
print(x)
unlabel_levels(x)
</code></pre>

<hr>
<h2 id='Layout'>Abstract Class for Layouts</h2><span id='topic+Layout'></span><span id='topic+Layouts'></span>

<h3>Description</h3>

<p>Abstract Class for Layouts
</p>
<p>Abstract Class for Layouts
</p>


<h3>Details</h3>

<p><a href="lgr.html#topic+Appenders">Appenders</a> pass <a href="lgr.html#topic+LogEvent">LogEvents</a> to a Layout which formats it for
output. For the Layouts included in lgr that means turning the LogEvent
into a <code>character</code> string.
</p>
<p>For each Appender exist one more more possible Layouts, but not every Layout
will work with every Appender. See the package <span class="pkg">lgrExtra</span> for examples
for Layouts that return different data types (such as <code>data.frames</code>) and
Appenders that can handle them.
</p>


<h3>Notes for developers</h3>

<p>Layouts may have an additional <code style="white-space: pre;">&#8288;$read(file, threshold, n)&#8288;</code> method that returns
a <code>character</code> vector, and/or an <code style="white-space: pre;">&#8288;$parse(file)&#8288;</code> method that
returns a <code>data.frame</code>. These can be used by Appenders to <code style="white-space: pre;">&#8288;$show()&#8288;</code> methods
and <code style="white-space: pre;">&#8288;$data&#8288;</code> active bindings respectively (see source code of <a href="lgr.html#topic+AppenderFile">AppenderFile</a>).
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Layout-format_event"><code>Layout$format_event()</code></a>
</p>
</li>
<li> <p><a href="#method-Layout-toString"><code>Layout$toString()</code></a>
</p>
</li>
<li> <p><a href="#method-Layout-clone"><code>Layout$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Layout-format_event"></a>



<h4>Method <code>format_event()</code></h4>

<p>Format a log event
</p>
<p>Function that the Layout uses to transform a <a href="lgr.html#topic+LogEvent">LogEvent</a> into something
that an <a href="lgr.html#topic+Appender">Appender</a> can write to an output destination.
</p>


<h5>Usage</h5>

<div class="r"><pre>Layout$format_event(event)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>event</code></dt><dd><p>a <a href="lgr.html#topic+LogEvent">LogEvent</a></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Layout-toString"></a>



<h4>Method <code>toString()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Layout$toString()</pre></div>


<hr>
<a id="method-Layout-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Layout$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other Layouts: 
<code><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a></code>,
<code><a href="lgr.html#topic+LayoutGlue">LayoutGlue</a></code>,
<code><a href="lgr.html#topic+LayoutJson">LayoutJson</a></code>
</p>

<hr>
<h2 id='LayoutFormat'>Format Log Events as Text</h2><span id='topic+LayoutFormat'></span>

<h3>Description</h3>

<p>Format Log Events as Text
</p>
<p>Format Log Events as Text
</p>


<h3>Details</h3>

<p>Format a <a href="lgr.html#topic+LogEvent">LogEvent</a> as human readable text using <code><a href="lgr.html#topic+format.LogEvent">format.LogEvent()</a></code>, which
provides a quick and easy way to customize log messages. If you need
more control and flexibility, consider using <a href="lgr.html#topic+LayoutGlue">LayoutGlue</a> instead.
</p>
<p>see Fields
</p>
<p>see Fields
</p>
<p>see Fields
</p>
<p>see Fields
</p>
<p>Convert Layout to a <code>character</code> string
Read a log file written using LayoutFormat
</p>


<h3>Format Tokens</h3>

<p>This is the same list of format tokens as for <code><a href="lgr.html#topic+format.LogEvent">format.LogEvent()</a></code>
</p>

<dl>
<dt><code style="white-space: pre;">&#8288;%t&#8288;</code></dt><dd><p>The timestamp of the message, formatted according to
<code>timestamp_fmt</code>)</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%l&#8288;</code></dt><dd><p>the log level, lowercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%L&#8288;</code></dt><dd><p>the log level, uppercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%k&#8288;</code></dt><dd><p>the log level, first letter of lowercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%K&#8288;</code></dt><dd><p>the log level, first letter of uppercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%n&#8288;</code></dt><dd><p>the log level, <code>integer</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%g&#8288;</code></dt><dd><p>the name of the logger</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%p&#8288;</code></dt><dd><p>the PID (process ID). Useful when logging code that uses
multiple threads.</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%c&#8288;</code></dt><dd><p>the calling function</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%m&#8288;</code></dt><dd><p>the log message</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%f&#8288;</code></dt><dd><p>all custom fields of <code>x</code> in a pseudo-JSON like format that is
optimized for human readability and console output</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%j&#8288;</code></dt><dd><p>all custom fields of <code>x</code> in proper JSON. This requires that you
have <strong>jsonlite</strong> installed and does not support colors as opposed to
<code style="white-space: pre;">&#8288;%f&#8288;</code>
</p>
</dd>
</dl>



<h3>Super class</h3>

<p><code><a href="#topic+Layout">lgr::Layout</a></code> -&gt; <code>LayoutFormat</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>fmt</code></dt><dd><p>a <code>character</code> scalar containing format tokens. See <code><a href="lgr.html#topic+format.LogEvent">format.LogEvent()</a></code>.</p>
</dd>
<dt><code>timestamp_fmt</code></dt><dd><p>a <code>character</code> scalar. See <code><a href="base.html#topic+strptime">base::format.POSIXct()</a></code>.</p>
</dd>
<dt><code>colors</code></dt><dd><p>a named <code>list</code> of functions (like the ones provided by
the package <span class="pkg">crayon</span>) passed on on <code><a href="lgr.html#topic+format.LogEvent">format.LogEvent()</a></code>.</p>
</dd>
<dt><code>pad_levels</code></dt><dd><p><code>"right"</code>, <code>"left"</code> or <code>NULL</code>. See <code><a href="lgr.html#topic+format.LogEvent">format.LogEvent()</a></code>.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LayoutFormat-new"><code>LayoutFormat$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-format_event"><code>LayoutFormat$format_event()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_fmt"><code>LayoutFormat$set_fmt()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_timestamp_fmt"><code>LayoutFormat$set_timestamp_fmt()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_colors"><code>LayoutFormat$set_colors()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_pad_levels"><code>LayoutFormat$set_pad_levels()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-toString"><code>LayoutFormat$toString()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-read"><code>LayoutFormat$read()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-clone"><code>LayoutFormat$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-LayoutFormat-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$new(
  fmt = "%L [%t] %m %j",
  timestamp_fmt = "%Y-%m-%d %H:%M:%OS3",
  colors = NULL,
  pad_levels = "right"
)</pre></div>


<hr>
<a id="method-LayoutFormat-format_event"></a>



<h4>Method <code>format_event()</code></h4>

<p>Format a LogEvent
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$format_event(event)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>event</code></dt><dd><p>a <a href="lgr.html#topic+LogEvent">LogEvent</a></p>
</dd>
</dl>

</div>


<hr>
<a id="method-LayoutFormat-set_fmt"></a>



<h4>Method <code>set_fmt()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_fmt(x)</pre></div>


<hr>
<a id="method-LayoutFormat-set_timestamp_fmt"></a>



<h4>Method <code>set_timestamp_fmt()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_timestamp_fmt(x)</pre></div>


<hr>
<a id="method-LayoutFormat-set_colors"></a>



<h4>Method <code>set_colors()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_colors(x)</pre></div>


<hr>
<a id="method-LayoutFormat-set_pad_levels"></a>



<h4>Method <code>set_pad_levels()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_pad_levels(x)</pre></div>


<hr>
<a id="method-LayoutFormat-toString"></a>



<h4>Method <code>toString()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$toString()</pre></div>


<hr>
<a id="method-LayoutFormat-read"></a>



<h4>Method <code>read()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$read(file, threshold = NA_integer_, n = 20L)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>threshold</code></dt><dd><p>a <code>character</code> or <code>integer</code> threshold</p>
</dd>
<dt><code>n</code></dt><dd><p>number of log entries to display</p>
</dd>
</dl>

</div>


<hr>
<a id="method-LayoutFormat-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other Layouts: 
<code><a href="lgr.html#topic+LayoutGlue">LayoutGlue</a></code>,
<code><a href="lgr.html#topic+LayoutJson">LayoutJson</a></code>,
<code><a href="ggplot2.html#topic+Layout">Layout</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># setup a dummy LogEvent
event &lt;- LogEvent$new(
  logger = Logger$new("dummy logger"),
  level = 200,
  timestamp = Sys.time(),
  caller = NA_character_,
  msg = "a test message"
)
lo &lt;- LayoutFormat$new()
lo$format_event(event)
</code></pre>

<hr>
<h2 id='LayoutGlue'>Format Log Events as Text via glue</h2><span id='topic+LayoutGlue'></span>

<h3>Description</h3>

<p>Format a <a href="lgr.html#topic+LogEvent">LogEvent</a> as human readable text using <a href="glue.html#topic+glue">glue::glue</a>. The function
is evaluated in an environment in which it has access to all elements of
the <a href="lgr.html#topic+LogEvent">LogEvent</a> (see examples). This is more flexible than <a href="lgr.html#topic+LayoutFormat">LayoutFormat</a>,
but also more complex and slightly less performant.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Layout">lgr::Layout</a></code> -&gt; <code>LayoutGlue</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>fmt</code></dt><dd><p>A string that will be interpreted by <code><a href="glue.html#topic+glue">glue::glue()</a></code></p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LayoutGlue-new"><code>LayoutGlue$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutGlue-format_event"><code>LayoutGlue$format_event()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutGlue-set_fmt"><code>LayoutGlue$set_fmt()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutGlue-set_colors"><code>LayoutGlue$set_colors()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutGlue-toString"><code>LayoutGlue$toString()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutGlue-clone"><code>LayoutGlue$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-LayoutGlue-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutGlue$new(
  fmt = "{pad_right(colorize_levels(toupper(level_name)), 5)} [{timestamp}] {msg}"
)</pre></div>


<hr>
<a id="method-LayoutGlue-format_event"></a>



<h4>Method <code>format_event()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutGlue$format_event(event)</pre></div>


<hr>
<a id="method-LayoutGlue-set_fmt"></a>



<h4>Method <code>set_fmt()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutGlue$set_fmt(x)</pre></div>


<hr>
<a id="method-LayoutGlue-set_colors"></a>



<h4>Method <code>set_colors()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutGlue$set_colors(x)</pre></div>


<hr>
<a id="method-LayoutGlue-toString"></a>



<h4>Method <code>toString()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutGlue$toString()</pre></div>


<hr>
<a id="method-LayoutGlue-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutGlue$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>lgr exports a number of formatting utility functions that are
useful for layout glue: <code><a href="lgr.html#topic+colorize_levels">colorize_levels()</a></code>, <code><a href="lgr.html#topic+pad_left">pad_left()</a></code>, <code><a href="lgr.html#topic+pad_right">pad_right()</a></code>.
</p>
<p>Other Layouts: 
<code><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a></code>,
<code><a href="lgr.html#topic+LayoutJson">LayoutJson</a></code>,
<code><a href="ggplot2.html#topic+Layout">Layout</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")$
  set_appenders(AppenderConsole$new())$
  set_propagate(FALSE)

lg$appenders[[1]]$set_layout(LayoutGlue$new())
lg$fatal("test")


# All fields of the LogEvent are available, even custom ones
lg$appenders[[1]]$layout$set_fmt(
  "{logger} {level_name}({level}) {caller}: {toupper(msg)} {{custom: {custom}}}"
)
lg$fatal("test", custom = "foobar")
lg$config(NULL)  # reset logger config
</code></pre>

<hr>
<h2 id='LayoutJson'>Format LogEvents as JSON</h2><span id='topic+LayoutJson'></span>

<h3>Description</h3>

<p>A format for formatting LogEvents as
<a href="https://jsonlines.org/">jsonlines</a> log files. This provides a
nice balance between human- an machine-readability.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Layout">lgr::Layout</a></code> -&gt; <code>LayoutJson</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>toJSON_args</code></dt><dd><p>a list of values passed on to <code><a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON()</a></code></p>
</dd>
<dt><code>timestamp_fmt</code></dt><dd><p>Used by  <code style="white-space: pre;">&#8288;$format_event()&#8288;</code> to format timestamps.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LayoutJson-new"><code>LayoutJson$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutJson-format_event"><code>LayoutJson$format_event()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutJson-set_toJSON_args"><code>LayoutJson$set_toJSON_args()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutJson-set_timestamp_fmt"><code>LayoutJson$set_timestamp_fmt()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutJson-toString"><code>LayoutJson$toString()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutJson-parse"><code>LayoutJson$parse()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutJson-read"><code>LayoutJson$read()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutJson-clone"><code>LayoutJson$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-LayoutJson-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutJson$new(toJSON_args = list(auto_unbox = TRUE), timestamp_fmt = NULL)</pre></div>


<hr>
<a id="method-LayoutJson-format_event"></a>



<h4>Method <code>format_event()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutJson$format_event(event)</pre></div>


<hr>
<a id="method-LayoutJson-set_toJSON_args"></a>



<h4>Method <code>set_toJSON_args()</code></h4>

<p>Set arguments to pass on to <code><a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON()</a></code>
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutJson$set_toJSON_args(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>a named <code>list</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-LayoutJson-set_timestamp_fmt"></a>



<h4>Method <code>set_timestamp_fmt()</code></h4>

<p>Set a format that this Layout will apply to timestamps.
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutJson$set_timestamp_fmt(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd>
<ul>
<li> <p><code>NULL</code> (the default): formatting of the timestamp is left to
<code><a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON()</a></code>,
</p>
</li>
<li><p> a <code>character</code> scalar as for <code><a href="base.html#topic+format.POSIXct">format.POSIXct()</a></code>, or
</p>
</li>
<li><p> a <code>function</code> that returns a vector of the same length as its
(<a href="base.html#topic+POSIXct">POSIXct</a>) input. The returned vector can be of any type
supported by <code><a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON()</a></code>, but should usually be <code>character</code>.
</p>
</li></ul>
</dd>
</dl>

</div>


<hr>
<a id="method-LayoutJson-toString"></a>



<h4>Method <code>toString()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutJson$toString()</pre></div>


<hr>
<a id="method-LayoutJson-parse"></a>



<h4>Method <code>parse()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutJson$parse(file)</pre></div>


<hr>
<a id="method-LayoutJson-read"></a>



<h4>Method <code>read()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutJson$read(file, threshold = NA_integer_, n = 20L)</pre></div>


<hr>
<a id="method-LayoutJson-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutJson$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><code><a href="lgr.html#topic+read_json_lines">read_json_lines()</a></code>, <a href="https://jsonlines.org/">https://jsonlines.org/</a>
</p>
<p>Other Layouts: 
<code><a href="lgr.html#topic+LayoutFormat">LayoutFormat</a></code>,
<code><a href="lgr.html#topic+LayoutGlue">LayoutGlue</a></code>,
<code><a href="ggplot2.html#topic+Layout">Layout</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># setup a dummy LogEvent
event &lt;- LogEvent$new(
  logger = Logger$new("dummy logger"),
  level = 200,
  timestamp = Sys.time(),
  caller = NA_character_,
  msg = "a test message",
  custom_field = "LayoutJson can handle arbitrary fields"
)

# Default settings show all event fals
lo &lt;- LayoutJson$new()
lo$format_event(event)
</code></pre>

<hr>
<h2 id='lgr-package'>A Fully Featured Logging Framework for R</h2><span id='topic+lgr'></span><span id='topic+lgr-package'></span>

<h3>Description</h3>

<p>For details please refer to <code>vignette("lgr", package = "lgr")</code>.
</p>


<h3>Options</h3>

<p>You can also set these options in your <code>.Rprofile</code> to make them permanent.
Some options can also be set via environment variables (The environment
variables are only used if the option is not set manually from R).
</p>

<dl>
<dt><code>lgr.colors</code></dt><dd><p>a <code>list</code> of <code>functions</code> used for coloring the log
levels in console output. Usually these will be functions from the
package <strong>crayon</strong></p>
</dd>
<dt><code>lgr.log_levels</code></dt><dd><p>A named <code>integer</code> vector of log levels that are
known to lgr for labeling, setting thresholds, etc... . Instead of
modifying this option manually use <code><a href="lgr.html#topic+add_log_levels">add_log_levels()</a></code> and
<code><a href="lgr.html#topic+remove_log_levels">remove_log_levels()</a></code></p>
</dd>
<dt><code>lgr.default_threshold</code></dt><dd>
<p><code>character</code> or <code>integer</code> scalar. The minimum <a href="lgr.html#topic+log_levels">log level</a> that
should be processed by the root logger. Defaults to <code>400</code> (<code>"info"</code>),
or to the value of the environment variable <code>LGR_DEFAULT_THRESHOLD</code>
if it is set. This option overrides the threshold specified in
<code>lgr.default_config</code> if both are set.
</p>
</dd>
<dt><code>lgr.default_config</code></dt><dd>
<p>Default configuration for the root logger. Can either be a special list
object, a path to a YAML file, or a character scalar containing YAML
code. See <a href="lgr.html#topic+logger_config">logger_config</a> for details. Defaults to the value of the
environment variable <code>LGR_DEFAULT_CONFIG</code> if it is set.
</p>
</dd>
<dt><code>lgr.suspend_logging</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>. Suspend all logging for
all loggers. Defaults to the <code>TRUE</code> if the environment variable
<code>LGR_SUSPEND_LOGGING</code> is set to <code>"TRUE"</code>. Instead of modifying this
option manually use <code><a href="lgr.html#topic+suspend_logging">suspend_logging()</a></code> and <code><a href="lgr.html#topic+unsuspend_logging">unsuspend_logging()</a></code></p>
</dd>
<dt><code>lgr.user</code></dt><dd><p>a <code>character</code> scalar. The default username for
<code>lgr::get_user()</code>.
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Stefan Fleck <a href="mailto:stefan.b.fleck@gmail.com">stefan.b.fleck@gmail.com</a> (<a href="https://orcid.org/0000-0003-3344-9851">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://s-fleck.github.io/lgr/">https://s-fleck.github.io/lgr/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/s-fleck/lgr/issues/">https://github.com/s-fleck/lgr/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='LogEvent'>LogEvents - The atomic unit of logging</h2><span id='topic+LogEvent'></span><span id='topic+LogEvents'></span>

<h3>Description</h3>

<p>A <code>LogEvent</code> is a single unit of data that should be logged. <code>LogEvents</code> are
usually created by a <a href="lgr.html#topic+Logger">Logger</a>, and then processed by one more <a href="lgr.html#topic+Appenders">Appenders</a>.
They do not need to be instantiated manually except for testing and
experimentation; however, if you plan on writing your own Appenders or
Layouts you need to understand LogEvents.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>level</code></dt><dd><p><code>integer</code>. The <a href="lgr.html#topic+log_level">log_level</a> / priority of the LogEvent. Use the
active binding <code>level_name</code> to get the <code>character</code> representation
instead.</p>
</dd>
<dt><code>timestamp</code></dt><dd><p><code><a href="base.html#topic+DateTimeClasses">POSIXct</a></code>. The time when then the
LogEvent was created.</p>
</dd>
<dt><code>caller</code></dt><dd><p><code>character</code>. The name of the calling function.</p>
</dd>
<dt><code>msg</code></dt><dd><p><code>character</code>. The log message.</p>
</dd>
<dt><code>.logger</code></dt><dd><p><a href="lgr.html#topic+Logger">Logger</a>. A reference to the Logger that created the
event (equivalent to <code>get_logger(event$logger)</code>).</p>
</dd>
</dl>

</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>values</code></dt><dd><p><code>list</code>. All values stored in the <code>LogEvent</code>, including
all <em>custom fields</em>, but not including <code>event$.logger</code>.</p>
</dd>
<dt><code>level_name</code></dt><dd><p><code>character</code>. The <a href="lgr.html#topic+log_level">log_level</a> / priority of the LogEvent labelled
according to <code>getOption("lgr.log_levels")</code></p>
</dd>
<dt><code>logger</code></dt><dd><p><code>character</code> scalar. The name of the Logger that
created this event, equivalent to <code>event$.logger$name</code>)</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LogEvent-new"><code>LogEvent$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LogEvent-clone"><code>LogEvent$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-LogEvent-new"></a>



<h4>Method <code>new()</code></h4>

<p>The arguments to <code>LogEvent$new()</code> directly translate to the fields stored
in the <code>LogEvent</code>. Usually these values will be scalars, but (except for
<code>"logger"</code>) they can also be vectors if they are all of the same length (or
scalars that will be recycled). In this case the event will be treated by
the <a href="lgr.html#topic+Appenders">Appenders</a> and <a href="lgr.html#topic+Layouts">Layouts</a> as if several separate events.
</p>


<h5>Usage</h5>

<div class="r"><pre>LogEvent$new(
  logger,
  level = 400,
  timestamp = Sys.time(),
  caller = NA,
  msg = NA,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>logger, level, timestamp, caller, msg</code></dt><dd><p>see <strong>Public fields</strong>.</p>
</dd>
<dt><code>...</code></dt><dd><p>All named arguments in <code>...</code> will be added to the LogEvent
as <strong>custom fields</strong>. You can store arbitrary <span class="rlang"><b>R</b></span> objects in LogEvents
this way, but not all Appenders will support them. See <a href="lgr.html#topic+AppenderJson">AppenderJson</a> for</p>
</dd>
</dl>

</div>


<hr>
<a id="method-LogEvent-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LogEvent$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><code><a href="lgr.html#topic+as.data.frame.LogEvent">as.data.frame.LogEvent()</a></code>
</p>
<p>Other docs relevant for extending lgr: 
<code><a href="lgr.html#topic+as_LogEvent">as_LogEvent</a>()</code>,
<code><a href="lgr.html#topic+event_list">event_list</a>()</code>,
<code><a href="lgr.html#topic+standardize_threshold">standardize_threshold</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")
lg$error("foo bar")

# The last LogEvent produced by a Logger is stored in its `last_event` field
lg$last_event  # formatted console output
lg$last_event$values  # values stored in the event

# Also contains the Logger that created it as .logger
lg$last_event$logger
# equivalent to
lg$last_event$.logger$name

# This is really a reference to the complete Logger, so the following is
# possible (though nonsensical)
lg$last_event$.logger$last_event$msg
identical(lg, lg$last_event$.logger)
lg$config(NULL)  # reset logger config
</code></pre>

<hr>
<h2 id='Logger'>Loggers</h2><span id='topic+Logger'></span><span id='topic+Loggers'></span>

<h3>Description</h3>

<p>A Logger produces a <a href="lgr.html#topic+LogEvent">LogEvent</a> that contains a log message along with
metadata (timestamp, calling function, ...) and dispatches it to one or
more <a href="lgr.html#topic+Appenders">Appenders</a> which are responsible for the output (console, file, ...)
of the event. <strong>lgr</strong> comes with a single pre-configured Logger called the
<code style="white-space: pre;">&#8288;root Logger&#8288;</code> that can be accessed via <code style="white-space: pre;">&#8288;lgr$&lt;...&gt;&#8288;</code>. Instantiation of new
Loggers is done with <code><a href="lgr.html#topic+get_logger">get_logger()</a></code>. It is advisable to instantiate a
separate Logger with a descriptive name for each package/script in which
you use <span class="pkg">lgr</span>.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code>Logger</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>name</code></dt><dd><p>A <code>character</code> scalar. The unique name of each logger,
which also includes the names of its ancestors (separated by <code>/</code>).</p>
</dd>
<dt><code>threshold</code></dt><dd><p><code>integer</code> scalar. The threshold of the <code>Logger</code>, or if it
<code>NULL</code> the threshold it inherits from its closest ancestor with a
non-<code>NULL</code> threshold</p>
</dd>
<dt><code>propagate</code></dt><dd><p>A <code>TRUE</code> or <code>FALSE</code>. The unique name of each logger,
which also includes the names of its ancestors (separated by <code>/</code>).</p>
</dd>
<dt><code>ancestry</code></dt><dd><p>A named <code>logical</code> vector of containing the propagate value
of each Logger upper the inheritance tree. The names are the names of
the appenders. <code>ancestry</code> is an S3 class with a custom
<code>format()</code>/<code>print()</code> method, so if you want to use the plain logical
vector use <code>unclass(lg$ancestry)</code></p>
</dd>
<dt><code>parent</code></dt><dd><p>a <code>Logger</code>. The direct ancestor of the <code>Logger</code>.</p>
</dd>
<dt><code>last_event</code></dt><dd><p>The last LogEvent produced by the current Logger</p>
</dd>
<dt><code>appenders</code></dt><dd><p>a <code>list</code> of all <a href="lgr.html#topic+Appenders">Appenders</a> of the Logger</p>
</dd>
<dt><code>inherited_appenders</code></dt><dd><p>A <code>list</code> of all appenders that the Logger
inherits from its ancestors</p>
</dd>
<dt><code>exception_handler</code></dt><dd><p>a <code>function</code>. See <code style="white-space: pre;">&#8288;$set_exception_handler&#8288;</code> and
<code style="white-space: pre;">&#8288;$handle_exception&#8288;</code></p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Logger-new"><code>Logger$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-log"><code>Logger$log()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-fatal"><code>Logger$fatal()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-error"><code>Logger$error()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-warn"><code>Logger$warn()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-info"><code>Logger$info()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-debug"><code>Logger$debug()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-trace"><code>Logger$trace()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-list_log"><code>Logger$list_log()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-config"><code>Logger$config()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-add_appender"><code>Logger$add_appender()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-remove_appender"><code>Logger$remove_appender()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-handle_exception"><code>Logger$handle_exception()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-set_exception_handler"><code>Logger$set_exception_handler()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-set_propagate"><code>Logger$set_propagate()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-set_threshold"><code>Logger$set_threshold()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-set_appenders"><code>Logger$set_appenders()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-spawn"><code>Logger$spawn()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-Logger-new"></a>



<h4>Method <code>new()</code></h4>

<p><strong>Loggers should never be instantiated directly with <code>Logger$new()</code></strong> but
rather via <code><a href="lgr.html#topic+get_logger">get_logger(&quot;name&quot;)</a></code>. This way new Loggers are
registered in a global namespace which ensures uniqueness and
facilitates inheritance between Loggers. If <code>"name"</code> does not exist, a
new Logger with that name will be created, otherwise the function returns
a Reference to the existing Logger.
</p>
<p><code>name</code> is potentially a <code>"/"</code> separated hierarchical value like
<code>foo/bar/baz</code>. Loggers further down the hierarchy are descendants of the
loggers above and (by default) inherit <code>threshold</code> and <code>Appenders</code> from
their ancestors.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$new(
  name = "(unnamed logger)",
  appenders = list(),
  threshold = NULL,
  filters = list(),
  exception_handler = default_exception_handler,
  propagate = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name, appenders, threshold, filters, exception_handler, propagate</code></dt><dd><p>See section Active bindings.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-log"></a>



<h4>Method <code>log()</code></h4>

<p>Log an event.
</p>
<p>If <code>level</code> passes the Logger's <code>threshold</code> a new <a href="lgr.html#topic+LogEvent">LogEvent</a> with <code>level</code>,
<code>msg</code>, <code>timestamp</code> and <code>caller</code> is created.  If the new LogEvent also
passes the Loggers <a href="lgr.html#topic+EventFilter">Filters</a>, it is be dispatched to the
relevant <a href="lgr.html#topic+Appenders">Appenders</a>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$log(level, msg, ..., timestamp = Sys.time(), caller = get_caller(-7))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>level</code></dt><dd><p>a <code>character</code> or <code>integer</code> scalar. See <a href="lgr.html#topic+log_levels">log_levels</a>.</p>
</dd>
<dt><code>msg</code></dt><dd><p><code>character</code>. A log message. If unnamed arguments are supplied
in <code>...</code>, <code>msg</code> is passed on to <code><a href="base.html#topic+sprintf">base::sprintf()</a></code> (which means <code>"%"</code> have
to be escaped), otherwise <code>msg</code> is left as-is.</p>
</dd>
<dt><code>...</code></dt><dd><p><em>unnamed</em> arguments in <code>...</code> must be <code>character</code> scalars and
are passed to <code><a href="base.html#topic+sprintf">base::sprintf()</a></code>. <em>Named</em> arguments must have unique names
but can be arbitrary <span class="rlang"><b>R</b></span> objects that are passed to <code><a href="lgr.html#topic+LogEvent">LogEvent$new()</a></code> and
will be turned into custom fields.</p>
</dd>
<dt><code>timestamp</code></dt><dd><p><a href="base.html#topic+POSIXct">POSIXct</a>. Timestamp of the event.</p>
</dd>
<dt><code>caller</code></dt><dd><p>a <code>character</code> scalar. The name of the calling function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-fatal"></a>



<h4>Method <code>fatal()</code></h4>

<p>Log an Event fatal priority
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$fatal(msg, ..., caller = get_caller(-8L))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg, ..., caller</code></dt><dd><p>see <code style="white-space: pre;">&#8288;$log()&#8288;</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-error"></a>



<h4>Method <code>error()</code></h4>

<p>Log an Event error priority
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$error(msg, ..., caller = get_caller(-8L))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg, ..., caller</code></dt><dd><p>see <code style="white-space: pre;">&#8288;$log()&#8288;</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-warn"></a>



<h4>Method <code>warn()</code></h4>

<p>Log an Event warn priority
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$warn(msg, ..., caller = get_caller(-8L))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg, ..., caller</code></dt><dd><p>see <code style="white-space: pre;">&#8288;$log()&#8288;</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-info"></a>



<h4>Method <code>info()</code></h4>

<p>Log an Event info priority
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$info(msg, ..., caller = get_caller(-8L))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg, ..., caller</code></dt><dd><p>see <code style="white-space: pre;">&#8288;$log()&#8288;</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-debug"></a>



<h4>Method <code>debug()</code></h4>

<p>Log an Event debug priority
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$debug(msg, ..., caller = get_caller(-8L))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg, ..., caller</code></dt><dd><p>see <code style="white-space: pre;">&#8288;$log()&#8288;</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-trace"></a>



<h4>Method <code>trace()</code></h4>

<p>Log an Event trace priority
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$trace(msg, ..., caller = get_caller(-8L))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg, ..., caller</code></dt><dd><p>see <code style="white-space: pre;">&#8288;$log()&#8288;</code></p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-list_log"></a>



<h4>Method <code>list_log()</code></h4>

<p><code>list_log()</code> is a shortcut for <code>do.call(Logger$log, x)</code>.
See <a href="https://github.com/s-fleck/joblog">https://github.com/s-fleck/joblog</a> for an R package that
leverages this feature to create custom log event types for tracking
the status of cron jobs.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$list_log(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>a named <code>list</code> that must at least contain the named elements
<code>level</code> and <code>timestamp</code></p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre>lg &lt;- get_logger("test")
lg$list_log(list(level = 400, msg = "example"))
</pre>
</div>


<hr>
<a id="method-Logger-config"></a>



<h4>Method <code>config()</code></h4>

<p>Load a Logger configuration.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$config(cfg, file, text, list)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>cfg</code></dt><dd>
<ul>
<li><p> a special <code>list</code> object with any or all of the the following elements:
<code>appenders</code>, <code>threshold</code>, <code>filters</code>, <code>propagate</code>, <code>exception_handler</code>,
</p>
</li>
<li><p> the path to a <code>YAML</code>/<code>JSON</code> config file,
</p>
</li>
<li><p> a <code>character</code> scalar containing <code>YAML/JSON</code>,
</p>
</li>
<li> <p><code>NULL</code> (to reset the logger config to the default/unconfigured state)
</p>
</li></ul>
</dd>
<dt><code>file, text, list</code></dt><dd><p>can be used as an alternative to
<code>cfg</code> that  enforces that the  supplied  argument is of the specified
type. See <a href="lgr.html#topic+logger_config">logger_config</a> for details.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-add_appender"></a>



<h4>Method <code>add_appender()</code></h4>

<p>Add an Appender to the Logger
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$add_appender(appender, name = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>appender</code></dt><dd><p>a single <a href="lgr.html#topic+Appender">Appender</a></p>
</dd>
<dt><code>name</code></dt><dd><p>a <code>character</code> scalar. Optional but recommended.</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre>lg &lt;- get_logger("test")
lg$add_appender(AppenderConsole$new(), name = "myconsole")
lg$appenders[[1]]
lg$appenders$myconsole
lg$remove_appender("myconsole")
lg$config(NULL)  # reset config
</pre>
</div>


<hr>
<a id="method-Logger-remove_appender"></a>



<h4>Method <code>remove_appender()</code></h4>

<p>remove an appender
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$remove_appender(pos)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pos</code></dt><dd><p><code>integer</code> index or <code>character</code> name of the Appender(s) to
remove</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-handle_exception"></a>



<h4>Method <code>handle_exception()</code></h4>

<p>To prevent errors in the logging logic from crashing the whole script,
Loggers pass errors they encounter to an exception handler. The default
behaviour is to demote errors to <a href="base.html#topic+warnings">warnings</a>. See also
<code>set_exception_handler()</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$handle_exception(expr)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>expr</code></dt><dd><p>expression to be evaluated.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-set_exception_handler"></a>



<h4>Method <code>set_exception_handler()</code></h4>

<p>Set the exception handler of a logger
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$set_exception_handler(fun)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>fun</code></dt><dd><p>a <code>function</code> with the single argument <code>e</code> (an error <a href="base.html#topic+condition">condition</a>)</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre>lgr$info(stop("this produces a warning instead of an error"))
</pre>
</div>


<hr>
<a id="method-Logger-set_propagate"></a>



<h4>Method <code>set_propagate()</code></h4>

<p>Should a Logger propagate events to the Appenders of its ancestors?
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$set_propagate(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>. Should <a href="lgr.html#topic+LogEvents">LogEvents</a> be passed on to the appenders
of the ancestral Loggers?</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-set_threshold"></a>



<h4>Method <code>set_threshold()</code></h4>

<p>Set the minimum log level of events that a Logger should process
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$set_threshold(level)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>level</code></dt><dd><p><code>character</code> or <code>integer</code> scalar. The minimum
<a href="lgr.html#topic+log_levels">log level</a> that triggers this Logger</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-set_appenders"></a>



<h4>Method <code>set_appenders()</code></h4>

<p>Set the Logger's Appenders
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$set_appenders(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>single <a href="lgr.html#topic+Appender">Appender</a> or a <code>list</code> thereof. Appenders control the
output of a Logger. Be aware that a Logger also inherits the Appenders
of its ancestors (see <code>vignette("lgr", package = "lgr")</code> for more info
about Logger inheritance).</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-spawn"></a>



<h4>Method <code>spawn()</code></h4>

<p>Spawn a child Logger.
This is very similar to using <code><a href="lgr.html#topic+get_logger">get_logger()</a></code>, but
can be useful in some cases where Loggers are created programmatically
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$spawn(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p><code>character</code> vector. Name of the child logger
<code>get_logger("foo/bar")$spawn("baz")</code> is equivalent
to <code>get_logger("foo/bar/baz")</code></p>
</dd>
</dl>

</div>




<h3>Note</h3>

<p>If you are a package developer you should define a new Logger for each
package, but you do not need to configure it. The user of the package
should decide how and where to output logging, usually by configuring the
root Logger (new Appenders added/removed, Layouts modified, etc...).
</p>


<h3>See Also</h3>

<p><a href="https://glue.tidyverse.org/">glue</a>
</p>
<p><code><a href="lgr.html#topic+get_logger">get_logger()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># lgr::lgr is the root logger that is always available
lgr$info("Today is a good day")
lgr$fatal("This is a serious error")

# Loggers use sprintf() for string formatting by default
lgr$info("Today is %s", Sys.Date() )

# If no unnamed `...` are present, msg is not passed through sprintf()
lgr$fatal("100% bad")  # so this works
lgr$fatal("%s%% bad", 100)  # if you use unnamed arguments, you must escape %

# You can create new loggers with get_logger()
tf &lt;- tempfile()
lg &lt;- get_logger("mylogger")$set_appenders(AppenderFile$new(tf))

# The new logger passes the log message on to the appenders of its parent
# logger, which is by default the root logger. This is why the following
# writes not only the file 'tf', but also to the console.
lg$fatal("blubb")
readLines(tf)

# This logger's print() method depicts this relationship.
child &lt;- get_logger("lg/child")
print(child)
print(child$name)

# use formatting strings and custom fields
tf2 &lt;- tempfile()
lg$add_appender(AppenderFile$new(tf2, layout = LayoutJson$new()))
lg$info("Not all %s support custom fields", "appenders", type = "test")
cat(readLines(tf), sep = "\n")
cat(readLines(tf2), sep = "\n")

# cleanup
unlink(c(tf, tf2))
lg$config(NULL)  # reset logger config

# LoggerGlue
# You can also create a new logger that uses the awesome glue library for
# string formatting instead of sprintf

if (requireNamespace("glue")){

  lg &lt;- get_logger_glue("glue")
  lg$fatal("blah ", "fizz is set to: {fizz}", foo = "bar", fizz = "buzz")
  # prevent creation of custom fields with prefixing a dot
  lg$fatal("blah ", "fizz is set to: {.fizz}", foo = "bar", .fizz = "buzz")

  #' # completely reset 'glue' to an unconfigured vanilla Logger
  get_logger("glue", reset = TRUE)

}


# Configuring a Logger
lg &lt;- get_logger("test")
lg$config(NULL)  # resets logger to unconfigured state

# With setters
lg$
  set_threshold("error")$
  set_propagate(FALSE)$
  set_appenders(AppenderConsole$new(threshold = "info"))

lg$config(NULL)

# With a list
lg$config(list(
  threshold = "error",
  propagate = FALSE,
  appenders = list(AppenderConsole$new(threshold = "info"))
))

lg$config(NULL)  # resets logger to unconfigured state

# Via YAML
cfg &lt;- "
Logger:
  threshold: error
  propagate: false
  appenders:
    AppenderConsole:
      threshold: info
"

lg$config(cfg)
lg$config(NULL)

## ------------------------------------------------
## Method `Logger$list_log`
## ------------------------------------------------

lg &lt;- get_logger("test")
lg$list_log(list(level = 400, msg = "example"))

## ------------------------------------------------
## Method `Logger$add_appender`
## ------------------------------------------------

lg &lt;- get_logger("test")
lg$add_appender(AppenderConsole$new(), name = "myconsole")
lg$appenders[[1]]
lg$appenders$myconsole
lg$remove_appender("myconsole")
lg$config(NULL)  # reset config

## ------------------------------------------------
## Method `Logger$set_exception_handler`
## ------------------------------------------------

lgr$info(stop("this produces a warning instead of an error"))
</code></pre>

<hr>
<h2 id='logger_config'>Logger Configuration Objects</h2><span id='topic+logger_config'></span><span id='topic+as_logger_config'></span><span id='topic+as_logger_config.list'></span><span id='topic+as_logger_config.character'></span>

<h3>Description</h3>

<p><code>logger_config()</code> is an S3 constructor for <code>logger_config</code> objects
that can be passed to the <code style="white-space: pre;">&#8288;$config&#8288;</code> method of a <a href="lgr.html#topic+Logger">Logger</a>. You
can just pass a normal <code>list</code> instead, but using this constructor is
a more formal way that includes additional argument checking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logger_config(
  appenders = NULL,
  threshold = NULL,
  filters = NULL,
  exception_handler = NULL,
  propagate = TRUE
)

as_logger_config(x)

## S3 method for class 'list'
as_logger_config(x)

## S3 method for class 'character'
as_logger_config(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logger_config_+3A_appenders">appenders</code></td>
<td>
<p>see <a href="lgr.html#topic+Logger">Logger</a></p>
</td></tr>
<tr><td><code id="logger_config_+3A_threshold">threshold</code></td>
<td>
<p>see <a href="lgr.html#topic+Logger">Logger</a></p>
</td></tr>
<tr><td><code id="logger_config_+3A_filters">filters</code></td>
<td>
<p>see <a href="lgr.html#topic+Logger">Logger</a></p>
</td></tr>
<tr><td><code id="logger_config_+3A_exception_handler">exception_handler</code></td>
<td>
<p>see <a href="lgr.html#topic+Logger">Logger</a></p>
</td></tr>
<tr><td><code id="logger_config_+3A_propagate">propagate</code></td>
<td>
<p>see <a href="lgr.html#topic+Logger">Logger</a></p>
</td></tr>
<tr><td><code id="logger_config_+3A_x">x</code></td>
<td>
<p>any <span class="rlang"><b>R</b></span> object. Especially:
</p>

<ul>
<li><p> A <code>character</code> scalar. This can either be the path to a
YAML file or a character scalar containing valid YAML
</p>
</li>
<li><p> a list containing the elements <code>appenders</code>, <code>threshold</code>, <code>exception_handler</code>,
<code>propagate</code> and <code>filters</code>. See the section <em>Fields</em> in <a href="lgr.html#topic+Logger">Logger</a> for
details.
</p>
</li>
<li><p> a Logger object, to clone its configuration.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code> with the subclass <code>"logger_config"</code>
</p>
<p>a logger_config object
</p>


<h3>See Also</h3>

<p><a href="https://yaml.org/">https://yaml.org/</a>
</p>

<hr>
<h2 id='logger_index'>Return a data.frame of all registered loggers</h2><span id='topic+logger_index'></span>

<h3>Description</h3>

<p>Return a data.frame of all registered loggers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logger_index()
</code></pre>


<h3>Value</h3>

<p>a <code>logger_index</code> <code>data.frame</code>
</p>


<h3>See Also</h3>

<p><code><a href="lgr.html#topic+logger_tree">logger_tree()</a></code> for a more visual representation of registered
loggers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_logger("tree/leaf")
get_logger("shrub/leaf")
get_logger("plant/shrub/leaf")
logger_index()
</code></pre>

<hr>
<h2 id='logger_tree'>Logger Tree</h2><span id='topic+logger_tree'></span>

<h3>Description</h3>

<p>Displays a tree structure of all registered Loggers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logger_tree()
</code></pre>


<h3>Value</h3>

<p><code>data.frame</code> with subclass <code>"logger_tree"</code>
</p>


<h3>Symbology</h3>


<ul>
<li><p> unconfigured Loggers are displayed in gray (if your terminal supports
colors and you have the package <span class="pkg">crayon</span> installed).
</p>
</li>
<li><p> If a logger's <code>threshold</code> is set, it is displayed in square brackets next
to its name (reminder: if the threshold is not set, it is inherited from
next logger up the logger tree).
</p>
</li>
<li><p> If a logger's <code>propagate</code> field is set to <code>FALSE</code> an red hash (<code style="white-space: pre;">&#8288;#&#8288;</code>) sign
is displayed in front of the logger name, to imply that it does not pass
LogEvents up the tree.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="lgr.html#topic+logger_index">logger_index()</a></code> for a tidy <code>data.frame</code> representation of
all registered loggers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_logger("fancymodel")
get_logger("fancymodel/shiny")$
  set_propagate(FALSE)

get_logger("fancymodel/shiny/ui")$
  set_appenders(AppenderConsole$new())

get_logger("fancymodel/shiny/server")$
  set_appenders(list(AppenderConsole$new(), AppenderConsole$new()))$
  set_threshold("trace")

get_logger("fancymodel/plumber")

if (requireNamespace("cli")){
  print(logger_tree())
}

</code></pre>

<hr>
<h2 id='LoggerGlue'>LoggerGlue</h2><span id='topic+LoggerGlue'></span>

<h3>Description</h3>

<p><code>LoggerGlue</code> uses <code><a href="glue.html#topic+glue">glue::glue()</a></code> instead of <code><a href="base.html#topic+sprintf">base::sprintf()</a></code> to construct
log messages. <strong>glue</strong> is a very well designed package for
string interpolation. It makes composing log messages
more flexible and comfortable at the price of an additional dependency and
slightly less performance than <code>sprintf()</code>.
</p>


<h3>Details</h3>

<p><code>glue()</code> lets you define temporary named variables inside the call.
As with the normal Logger, these named arguments get turned into custom
fields; however, you can suppress this behaviour by making named argument
start with a <code>"."</code>. Please refer to <code>vignette("lgr", package = "lgr")</code> for
examples.
</p>


<h3>Super classes</h3>

<p><code><a href="#topic+Filterable">lgr::Filterable</a></code> -&gt; <code><a href="#topic+Logger">lgr::Logger</a></code> -&gt; <code>LoggerGlue</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LoggerGlue-fatal"><code>LoggerGlue$fatal()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-error"><code>LoggerGlue$error()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-warn"><code>LoggerGlue$warn()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-info"><code>LoggerGlue$info()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-debug"><code>LoggerGlue$debug()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-trace"><code>LoggerGlue$trace()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-log"><code>LoggerGlue$log()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-list_log"><code>LoggerGlue$list_log()</code></a>
</p>
</li>
<li> <p><a href="#method-LoggerGlue-spawn"><code>LoggerGlue$spawn()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-add_filter'><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href='../../lgr/html/Filterable.html#method-Filterable-filter'><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href='../../lgr/html/Filterable.html#method-Filterable-remove_filter'><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href='../../lgr/html/Filterable.html#method-Filterable-set_filters'><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="add_appender"><a href='../../lgr/html/Logger.html#method-Logger-add_appender'><code>lgr::Logger$add_appender()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="config"><a href='../../lgr/html/Logger.html#method-Logger-config'><code>lgr::Logger$config()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="handle_exception"><a href='../../lgr/html/Logger.html#method-Logger-handle_exception'><code>lgr::Logger$handle_exception()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="initialize"><a href='../../lgr/html/Logger.html#method-Logger-initialize'><code>lgr::Logger$initialize()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="remove_appender"><a href='../../lgr/html/Logger.html#method-Logger-remove_appender'><code>lgr::Logger$remove_appender()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="set_appenders"><a href='../../lgr/html/Logger.html#method-Logger-set_appenders'><code>lgr::Logger$set_appenders()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="set_exception_handler"><a href='../../lgr/html/Logger.html#method-Logger-set_exception_handler'><code>lgr::Logger$set_exception_handler()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="set_propagate"><a href='../../lgr/html/Logger.html#method-Logger-set_propagate'><code>lgr::Logger$set_propagate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Logger" data-id="set_threshold"><a href='../../lgr/html/Logger.html#method-Logger-set_threshold'><code>lgr::Logger$set_threshold()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-LoggerGlue-fatal"></a>



<h4>Method <code>fatal()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$fatal(..., caller = get_caller(-8L), .envir = parent.frame())</pre></div>


<hr>
<a id="method-LoggerGlue-error"></a>



<h4>Method <code>error()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$error(..., caller = get_caller(-8L), .envir = parent.frame())</pre></div>


<hr>
<a id="method-LoggerGlue-warn"></a>



<h4>Method <code>warn()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$warn(..., caller = get_caller(-8L), .envir = parent.frame())</pre></div>


<hr>
<a id="method-LoggerGlue-info"></a>



<h4>Method <code>info()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$info(..., caller = get_caller(-8L), .envir = parent.frame())</pre></div>


<hr>
<a id="method-LoggerGlue-debug"></a>



<h4>Method <code>debug()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$debug(..., caller = get_caller(-8L), .envir = parent.frame())</pre></div>


<hr>
<a id="method-LoggerGlue-trace"></a>



<h4>Method <code>trace()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$trace(..., caller = get_caller(-8L), .envir = parent.frame())</pre></div>


<hr>
<a id="method-LoggerGlue-log"></a>



<h4>Method <code>log()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$log(
  level,
  ...,
  timestamp = Sys.time(),
  caller = get_caller(-7),
  .envir = parent.frame()
)</pre></div>


<hr>
<a id="method-LoggerGlue-list_log"></a>



<h4>Method <code>list_log()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$list_log(x)</pre></div>


<hr>
<a id="method-LoggerGlue-spawn"></a>



<h4>Method <code>spawn()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>LoggerGlue$spawn(name)</pre></div>



<hr>
<h2 id='pad_right'>Pad Character Vectors</h2><span id='topic+pad_right'></span><span id='topic+pad_left'></span>

<h3>Description</h3>

<p>Pad Character Vectors
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="pad_right_+3A_x">x</code></td>
<td>
<p>a <code>character</code> vector</p>
</td></tr>
<tr><td><code id="pad_right_+3A_width">width</code></td>
<td>
<p><code>integer</code> scalar. target string width</p>
</td></tr>
<tr><td><code id="pad_right_+3A_pad">pad</code></td>
<td>
<p><code>character</code> scalar. the symbol to pad with</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>pad_left("foo", 5)
pad_right("foo", 5, ".")
pad_left(c("foo", "foooooo"), pad = ".")
</code></pre>

<hr>
<h2 id='print.Appender'>Print an Appender object</h2><span id='topic+print.Appender'></span>

<h3>Description</h3>

<p>The <code>print()</code> method for Loggers displays the most important aspects of
the Appender.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Appender'
print(x, color = requireNamespace("crayon", quietly = TRUE), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.Appender_+3A_x">x</code></td>
<td>
<p>any <span class="rlang"><b>R</b></span> Object</p>
</td></tr>
<tr><td><code id="print.Appender_+3A_color">color</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>: Output with color? Requires the Package
<strong>crayon</strong></p>
</td></tr>
<tr><td><code id="print.Appender_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>print()</code> returns <code>x</code> (invisibly), <code>format()</code> returns a <code>character</code> vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># print most important details of logger
print(lgr$console)
</code></pre>

<hr>
<h2 id='print.LogEvent'>Print or Format Logging Data</h2><span id='topic+print.LogEvent'></span><span id='topic+format.LogEvent'></span>

<h3>Description</h3>

<p>Print or Format Logging Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'LogEvent'
print(
  x,
  fmt = "%L [%t] %m  %f",
  timestamp_fmt = "%Y-%m-%d %H:%M:%S",
  colors = getOption("lgr.colors"),
  log_levels = getOption("lgr.log_levels"),
  pad_levels = "right",
  ...
)

## S3 method for class 'LogEvent'
format(
  x,
  fmt = "%L [%t] %m  %f",
  timestamp_fmt = "%Y-%m-%d %H:%M:%S",
  colors = NULL,
  log_levels = getOption("lgr.log_levels"),
  pad_levels = "right",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.LogEvent_+3A_x">x</code></td>
<td>
<p>a <a href="lgr.html#topic+LogEvent">LogEvent</a></p>
</td></tr>
<tr><td><code id="print.LogEvent_+3A_fmt">fmt</code></td>
<td>
<p>A <code>character</code> scalar that may contain any of the tokens listed
bellow in the section Format Tokens.</p>
</td></tr>
<tr><td><code id="print.LogEvent_+3A_timestamp_fmt">timestamp_fmt</code></td>
<td>
<p>see <code><a href="base.html#topic+format.POSIXct">format.POSIXct()</a></code></p>
</td></tr>
<tr><td><code id="print.LogEvent_+3A_colors">colors</code></td>
<td>
<p>A <code>list</code> of <code>functions</code> that will be used to color the
log levels (likely from <a href="crayon.html#topic+crayon">crayon::crayon</a>).</p>
</td></tr>
<tr><td><code id="print.LogEvent_+3A_log_levels">log_levels</code></td>
<td>
<p>named <code>integer</code> vector of valid log levels</p>
</td></tr>
<tr><td><code id="print.LogEvent_+3A_pad_levels">pad_levels</code></td>
<td>
<p><code>right</code>, <code>left</code> or <code>NULL</code>. Whether or not to pad the log
level names to the same width on the left or right side, or not at all.</p>
</td></tr>
<tr><td><code id="print.LogEvent_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> for <code>print()</code> and a <code>character</code> scalar for <code>format()</code>
</p>


<h3>Format Tokens</h3>


<dl>
<dt><code style="white-space: pre;">&#8288;%t&#8288;</code></dt><dd><p>The timestamp of the message, formatted according to
<code>timestamp_fmt</code>)</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%l&#8288;</code></dt><dd><p>the log level, lowercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%L&#8288;</code></dt><dd><p>the log level, uppercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%k&#8288;</code></dt><dd><p>the log level, first letter of lowercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%K&#8288;</code></dt><dd><p>the log level, first letter of uppercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%n&#8288;</code></dt><dd><p>the log level, <code>integer</code> representation</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%g&#8288;</code></dt><dd><p>the name of the logger</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%p&#8288;</code></dt><dd><p>the PID (process ID). Useful when logging code that uses
multiple threads.</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%c&#8288;</code></dt><dd><p>the calling function</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%m&#8288;</code></dt><dd><p>the log message</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%f&#8288;</code></dt><dd><p>all custom fields of <code>x</code> in a pseudo-JSON like format that is
optimized for human readability and console output</p>
</dd>
<dt><code style="white-space: pre;">&#8288;%j&#8288;</code></dt><dd><p>all custom fields of <code>x</code> in proper JSON. This requires that you
have <strong>jsonlite</strong> installed and does not support colors as opposed to
<code style="white-space: pre;">&#8288;%f&#8288;</code>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># standard fields can be printed using special tokens
x &lt;- LogEvent$new(
  level = 300, msg = "a test event", caller = "testfun()", logger = lgr
)
print(x)
print(x, fmt = c("%t (%p) %c: %n - %m"))
print(x, colors = NULL)

# custom values
y &lt;- LogEvent$new(
  level = 300, msg = "a gps track", logger = lgr,
  waypoints = 10, location = "Austria"
)

# default output with %f
print(y)

# proper JSON output with %j
if (requireNamespace("jsonlite")){
print(y, fmt = "%L [%t] %m  %j")
}

</code></pre>

<hr>
<h2 id='print.Logger'>Print a Logger Object</h2><span id='topic+print.Logger'></span><span id='topic+format.Logger'></span><span id='topic+print.ancestry'></span><span id='topic+format.ancestry'></span>

<h3>Description</h3>

<p>The <code>print()</code> method for Loggers displays the most important aspects of
the Logger.
</p>
<p>You can also print just the <code>ancestry</code> of a Logger which can be accessed with
with <code>logger$ancestry()</code>. This returns a named <code>character</code> vector whose
names correspond to the names of the Loggers <code>logger</code> inherits from. The
<code>TRUE</code>/<code>FALSE</code> status of its elements correspond to the <code>propagate</code> values of
these Loggers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Logger'
print(x, color = requireNamespace("crayon", quietly = TRUE), ...)

## S3 method for class 'Logger'
format(x, color = FALSE, ...)

## S3 method for class 'ancestry'
print(x, color = requireNamespace("crayon", quietly = TRUE), ...)

## S3 method for class 'ancestry'
format(x, color = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.Logger_+3A_x">x</code></td>
<td>
<p>any <span class="rlang"><b>R</b></span> Object</p>
</td></tr>
<tr><td><code id="print.Logger_+3A_color">color</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>: Output with color? Requires the Package
<strong>crayon</strong></p>
</td></tr>
<tr><td><code id="print.Logger_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>print()</code> returns <code>x</code> (invisibly), <code>format()</code> returns a <code>character</code> vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># print most important details of logger
print(lgr)
# print only the ancestry of a logger
lg &lt;- get_logger("AegonV/Aerys/Rheagar/Aegon")
get_logger("AegonV/Aerys/Rheagar")$set_propagate(FALSE)

print(lg$ancestry)
unclass(lg$ancestry)
</code></pre>

<hr>
<h2 id='print.logger_tree'>Print Logger Trees</h2><span id='topic+print.logger_tree'></span><span id='topic+format.logger_tree'></span>

<h3>Description</h3>

<p>Print Logger Trees
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'logger_tree'
print(x, color = requireNamespace("crayon", quietly = TRUE), ...)

## S3 method for class 'logger_tree'
format(x, color = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.logger_tree_+3A_x">x</code></td>
<td>
<p>a <a href="lgr.html#topic+logger_tree">logger_tree</a></p>
</td></tr>
<tr><td><code id="print.logger_tree_+3A_color">color</code></td>
<td>
<p><code>logical</code> scalar. If <code>TRUE</code> terminal output is colorized via
the package <span class="pkg">crayon</span>?</p>
</td></tr>
<tr><td><code id="print.logger_tree_+3A_...">...</code></td>
<td>
<p>passed on to <code><a href="cli.html#topic+tree">cli::tree()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> (invisibly)
</p>

<hr>
<h2 id='read_json_lines'>Read a JSON logfile</h2><span id='topic+read_json_lines'></span>

<h3>Description</h3>

<p>Read a JSON logfile
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_json_lines(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_json_lines_+3A_file">file</code></td>
<td>
<p><code>character</code> scalar. path to a JSON logfile (one JSON object per line)</p>
</td></tr>
<tr><td><code id="read_json_lines_+3A_...">...</code></td>
<td>
<p>passed on to <code><a href="jsonlite.html#topic+stream_in">jsonlite::stream_in()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code>
</p>


<h3>See Also</h3>

<p><a href="lgr.html#topic+LayoutJson">LayoutJson</a>
</p>

<hr>
<h2 id='simple_logging'>Simple Logging</h2><span id='topic+simple_logging'></span><span id='topic+log_exception'></span><span id='topic+threshold'></span><span id='topic+console_threshold'></span><span id='topic+add_appender'></span><span id='topic+remove_appender'></span><span id='topic+show_log'></span><span id='topic+show_dt'></span><span id='topic+show_data'></span>

<h3>Description</h3>

<p>lgr provides convenience functions managing the root Logger. These are
designed chiefly for interactive use and are less verbose than their
R6 method counterparts.
</p>
<p><code>threshold()</code> sets or retrieves the threshold for an <a href="lgr.html#topic+Appender">Appender</a> or <a href="lgr.html#topic+Logger">Logger</a>
(the minimum level of log messages it processes). It's <code>target</code> defaults to
the root logger. (equivalent to <code>lgr::lgr$threshold</code> and
<code>lgr::lgr$set_threshold</code>)
</p>
<p><code>console_threshold()</code> is a shortcut to set the threshold of the root
loggers <a href="lgr.html#topic+AppenderConsole">AppenderConsole</a>, which is usually the only Appender that manages
console output for a given <span class="rlang"><b>R</b></span> session. (equivalent to
<code>lgr::lgr$appenders$console$threshold</code> and
<code>lgr::lgr$appenders$console$set_threshold</code>)
</p>
<p><code>add_appender()</code> and <code>remove_appender()</code> add Appenders to Loggers and other
Appenders. (equivalent to <code>lgr::lgr$add_appender</code> and
<code>lgr::lgr$remove_appender</code>)
</p>
<p><code>show_log()</code> displays the last <code>n</code> log entries of an Appender (or a Logger
with such an Appender attached) with a <code style="white-space: pre;">&#8288;$show()&#8288;</code> method. Most, but not all
Appenders support this function (try <a href="lgr.html#topic+AppenderFile">AppenderFile</a> or <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a>).
</p>
<p><code>show_data()</code> and <code>show_dt()</code> work similar to <code>show_log()</code>, except that
they return the log as <code>data.frame</code> or <code>data.table</code> respectively. Only
Appenders that log to formats that can easily be converted to <code>data.frames</code>
are supported (try <a href="lgr.html#topic+AppenderJson">AppenderJson</a> or <a href="lgr.html#topic+AppenderBuffer">AppenderBuffer</a>).
</p>
<p>The easiest way to try out this features is by adding an AppenderBuffer
to the root logger with <code><a href="lgr.html#topic+basic_config">basic_config(memory = TRUE)</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>log_exception(code, logfun = lgr$fatal, caller = get_caller(-3))

threshold(level, target = lgr::lgr)

console_threshold(level, target = lgr::lgr$appenders$console)

add_appender(appender, name = NULL, target = lgr::lgr)

remove_appender(pos, target = lgr::lgr)

show_log(threshold = NA_integer_, n = 20L, target = lgr::lgr)

show_dt(target = lgr::lgr)

show_data(target = lgr::lgr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_logging_+3A_code">code</code></td>
<td>
<p>Any <span class="rlang"><b>R</b></span> code</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_logfun">logfun</code></td>
<td>
<p>a <code>function</code> for processing the log request, usually
<code>lgr$info()</code>, <code>lgr$debug()</code>, etc... .</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_caller">caller</code></td>
<td>
<p>a <code>character</code> scalar. The name of the calling function</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_level">level</code></td>
<td>
<p><code>integer</code> or <code>character</code> scalar: the desired log level</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_target">target</code></td>
<td>
<p>a <a href="lgr.html#topic+Logger">Logger</a> or <a href="lgr.html#topic+Appender">Appender</a> or the name of a Logger as <code>character</code>
scalar</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_appender">appender</code></td>
<td>
<p>an <code>Appender</code></p>
</td></tr>
<tr><td><code id="simple_logging_+3A_name">name</code></td>
<td>
<p><code>character</code> scalar. An optional name for the new Appender.</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_pos">pos</code></td>
<td>
<p><code>integer</code> index or <code>character</code> names of the appenders to remove</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_threshold">threshold</code></td>
<td>
<p><code>character</code> or <code>integer</code> scalar. The minimum <a href="lgr.html#topic+log_levels">log level</a> that should be processed by the root logger.</p>
</td></tr>
<tr><td><code id="simple_logging_+3A_n">n</code></td>
<td>
<p><code>integer</code> scalar. Show only the last <code>n</code> log entries that match
<code>threshold</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>threshold()</code> and <code>console_threshold()</code> return the <a href="lgr.html#topic+log_level">log_level</a> of <code>target</code>
as <code>integer</code> (invisibly)
</p>
<p><code>add_appender()</code> and <code>remove_appender()</code> return <code>target</code>.
</p>
<p><code>show_log()</code> prints to the console and returns whatever the target
Appender's <code style="white-space: pre;">&#8288;$show()&#8288;</code> method returns, usually a <code>character</code> vector,
<code>data.frame</code> or <code>data.table</code> (invisibly).
</p>
<p><code>show_data()</code> always returns a <code>data.frame</code> and <code>show_dt()</code> always returns
a <code>data.table</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get and set the threshold of the root logger
threshold("error")
threshold()
lgr$info("this will be supressed")
lgr$error("an important error message")

# you can also specify a target to modify other loggers
lg &lt;- get_logger("test")
threshold("fatal", target = lg)
threshold(target = lg)

# If a Logger's threshold is not set, the threshold is inherited from
# its parent, in this case the root logger (that we set to error/200 before)
threshold(NULL, target = lg)
threshold(target = lg)

# Alternative R6 API for getting/setting thresholds
lg$set_threshold("info")
lg$threshold
lg$set_threshold(300)
lg$threshold
lg$set_threshold(NULL)
lg$threshold

# cleanup
lgr$config(NULL)
lg$config(NULL)


# add Appenders to a Logger
add_appender(AppenderConsole$new(), "second_console_appender")
lgr$fatal("Multiple console appenders are a bad idea")
remove_appender("second_console_appender")
lgr$info("Good that we defined an appender name, so it's easy to remove")

# Reconfigure the root logger
basic_config(memory = TRUE)

# log some messages
lgr$info("a log message")
lgr$info("another message with data", data = 1:3)

show_log()
show_data()

# cleanup
lgr$config(NULL)
</code></pre>

<hr>
<h2 id='standardize_threshold'>Standardize User-Input Log Levels to Their Integer Representation</h2><span id='topic+standardize_threshold'></span><span id='topic+is_threshold'></span><span id='topic+standardize_log_level'></span><span id='topic+is_log_level'></span><span id='topic+standardize_log_levels'></span><span id='topic+is_log_levels'></span>

<h3>Description</h3>

<p>These are helper functions for verifying log levels and converting them from
their character to their integer representations. This is primarily useful
if you want to build your own <a href="lgr.html#topic+Loggers">Loggers</a>, <a href="lgr.html#topic+Appenders">Appenders</a> or <a href="lgr.html#topic+Layouts">Layouts</a> and need
to handle log levels in a way that is consistent with <span class="pkg">lgr</span> .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>standardize_threshold(
  x,
  log_levels = c(getOption("lgr.log_levels"), c(all = NA_integer_, off = 0L))
)

is_threshold(x)

standardize_log_level(x, log_levels = getOption("lgr.log_levels"))

is_log_level(x)

standardize_log_levels(x, log_levels = getOption("lgr.log_levels"))

is_log_levels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="standardize_threshold_+3A_x">x</code></td>
<td>
<p>a <code>character</code> or <code>integer</code> scalar, or vector for
standardize_log_levels</p>
</td></tr>
<tr><td><code id="standardize_threshold_+3A_log_levels">log_levels</code></td>
<td>
<p>named <code>integer</code> vector of valid log levels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An unnamed <code>integer</code> vector
</p>


<h3>See Also</h3>

<p>Other docs relevant for extending lgr: 
<code><a href="lgr.html#topic+LogEvent">LogEvent</a></code>,
<code><a href="lgr.html#topic+as_LogEvent">as_LogEvent</a>()</code>,
<code><a href="lgr.html#topic+event_list">event_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
standardize_threshold("info")
standardize_threshold("all")
is_threshold("all")
is_threshold("foobar")

standardize_log_level("info")
# all is a valid threshold, but not a valid log level
try(is.na(standardize_log_level("all")))
is_log_level("all")

# standardized_log_level intentionally only works with scalars, because many
# functions require scalar log level inputs
try(standardize_log_level(c("info", "fatal")))

# You can still use standardize_log_levels() (plural) to work with vectors
standardize_log_levels(c("info", "fatal"))
</code></pre>

<hr>
<h2 id='string_repr'>Short string representation for R objects</h2><span id='topic+string_repr'></span><span id='topic+string_repr.function'></span><span id='topic+string_repr.data.frame'></span><span id='topic+string_repr.matrix'></span><span id='topic+string_repr.default'></span>

<h3>Description</h3>

<p>This is inspired by the python function <code>repr</code> and produces a short
string representation of any <span class="rlang"><b>R</b></span> object that is suitable for logging and error
messages. It is a generic so you can implement methods for custom S3 objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>string_repr(x, width = 32, ...)

## S3 method for class ''function''
string_repr(x, width = 32L, ...)

## S3 method for class 'data.frame'
string_repr(x, width = 32L, ...)

## S3 method for class 'matrix'
string_repr(x, width = 32L, ...)

## Default S3 method:
string_repr(x, width = 32L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="string_repr_+3A_x">x</code></td>
<td>
<p>Any <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="string_repr_+3A_width">width</code></td>
<td>
<p>a scalar integer</p>
</td></tr>
<tr><td><code id="string_repr_+3A_...">...</code></td>
<td>
<p>passed on to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>scalar</code> character
</p>


<h3>Examples</h3>

<pre><code class='language-R'>string_repr(iris)
string_repr(LETTERS)
string_repr(LETTERS, 10)
</code></pre>

<hr>
<h2 id='suspend_logging'>Suspend All Logging</h2><span id='topic+suspend_logging'></span><span id='topic+unsuspend_logging'></span><span id='topic+without_logging'></span><span id='topic+with_logging'></span>

<h3>Description</h3>

<p>Completely disable logging for all loggers. This is for example useful for
automated test code. <code>suspend_logging()</code> globally disables all logging with
lgr until <code>unsuspend_logging()</code> is invoked, while <code>without_logging()</code> and
<code>with_logging()</code> temporarily disable/enable logging.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suspend_logging()

unsuspend_logging()

without_logging(code)

with_logging(code)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="suspend_logging_+3A_code">code</code></td>
<td>
<p>Any <span class="rlang"><b>R</b></span> code</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>suspend_logging()</code> and <code>unsuspend_logging()</code> return <code>NULL</code> (invisibly),
<code>without_logging()</code> and <code>with_logging()</code> returns whatever <code>code</code> returns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- get_logger("test")

# temporarily disable logging
lg$fatal("foo")
without_logging({
  lg$info("everything in this codeblock will be suppressed")
  lg$fatal("bar")
})

# globally disable logging
suspend_logging()
lg$fatal("bar")
with_logging(lg$fatal("foo"))  # log anyways

# globally enable logging again
unsuspend_logging()
lg$fatal("foo")
</code></pre>

<hr>
<h2 id='toString.LogEvent'>Convert a LogEvent to a character string</h2><span id='topic+toString.LogEvent'></span>

<h3>Description</h3>

<p>Convert a LogEvent to a character string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'LogEvent'
toString(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toString.LogEvent_+3A_x">x</code></td>
<td>
<p>a <a href="lgr.html#topic+LogEvent">LogEvent</a></p>
</td></tr>
<tr><td><code id="toString.LogEvent_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>character</code> scalar
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toString(LogEvent$new(logger = lgr::lgr))
</code></pre>

<hr>
<h2 id='use_logger'>Setup a Simple Logger for a Package</h2><span id='topic+use_logger'></span>

<h3>Description</h3>

<p>This gives you a minimal logger with no appenders that you can use inside
your package under the name <code>lg</code> (e.g. lg$fatal(&quot;test&quot;)). <code>use_logger()</code>
does not modify any files but only prints code for you to copy and paste.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_logger(
  pkg = desc::desc_get("Package", rprojroot::find_package_root_file("DESCRIPTION"))[[1]]
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_logger_+3A_pkg">pkg</code></td>
<td>
<p><code>character</code> scalar. Name of the package. The default is to try to
get the Package name automatically using the packages <strong>rprojroot</strong> and
<strong>desc</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>character</code> scalar containing <span class="rlang"><b>R</b></span> code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>use_logger("testpkg")

</code></pre>

<hr>
<h2 id='with_log_level'>Inject Values into Logging Calls</h2><span id='topic+with_log_level'></span><span id='topic+with_log_value'></span>

<h3>Description</h3>

<p><code>with_log_level</code> temporarily overrides the log level of all <a href="lgr.html#topic+LogEvents">LogEvents</a>
created by target <a href="lgr.html#topic+Logger">Logger</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>with_log_level(level, code, logger = lgr::lgr)

with_log_value(values, code, logger = lgr::lgr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with_log_level_+3A_level">level</code></td>
<td>
<p><code>integer</code> or <code>character</code> scalar: the desired log level</p>
</td></tr>
<tr><td><code id="with_log_level_+3A_code">code</code></td>
<td>
<p>Any <span class="rlang"><b>R</b></span> code</p>
</td></tr>
<tr><td><code id="with_log_level_+3A_logger">logger</code></td>
<td>
<p>a <a href="lgr.html#topic+Logger">Logger</a> or the name of one (see <code><a href="lgr.html#topic+get_logger">get_logger()</a></code>). Defaults
to the root logger (<code>lgr::lgr</code>).</p>
</td></tr>
<tr><td><code id="with_log_level_+3A_values">values</code></td>
<td>
<p>a named <code>list</code> of values to be injected into the logging calls</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions abuses lgr's filter mechanic to modify LogEvents in-place
before they passed on the Appenders. Use with care as they can
produce hard to reason about code.
</p>


<h3>Value</h3>

<p>whatever <code>code</code> would return
</p>


<h3>Examples</h3>

<pre><code class='language-R'>with_log_level("warn", {
  lgr$info("More important than it seems")
  lgr$fatal("Really not so bad")
})
with_log_value(
  list(msg = "overriden msg"),  {
  lgr$info("bar")
  lgr$fatal("FOO")
})
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

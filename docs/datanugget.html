<!DOCTYPE html><html><head><title>Help for package datanugget</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {datanugget}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AC'>
<p>Calculate Arithmetic Complexicity of the Algorithm That Creates Data Nuggets</p></a></li>
<li><a href='#create.DN'>
<p>Create Data Nuggets</p></a></li>
<li><a href='#create.DNcenters'>
<p>Create Data Nugget Centers</p></a></li>
<li><a href='#datanugget-package'>
<p>Data Nuggets</p></a></li>
<li><a href='#refine.DN'>
<p>Refine Data Nuggets</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create, and Refine Data Nuggets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-25</td>
</tr>
<tr>
<td>Author:</td>
<td>Yajie Duan [cre, ctb],
  Traymon Beavers [aut],
  Javier Cabrera [aut],
  Ge Cheng [aut],
  Kunting Qi [aut],
  Mariusz Lubomirski [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yajie Duan &lt;yajieritaduan@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Creating, and refining data nuggets. 
    Data nuggets reduce a large dataset into a small collection of nuggets of 
    data, each containing a center (location), weight (importance), and scale 
    (variability) parameter. Data nugget centers are created by choosing 
    observations in the dataset which are as equally spaced apart as possible. 
    Data nugget weights are created by counting the number observations 
    closest to a given data nuggetâ€™s center. We then say the data nugget 
    'contains' these observations and the data nugget center is recalculated 
    as the mean of these observations. Data nugget scales are created by 
    calculating the trace of the covariance matrix of the observations 
    contained within a data nugget divided by the dimension of the dataset. 
    Data nuggets are refined by 'splitting' data nuggets which have scales or 
    shapes (defined as the ratio of the two largest eigenvalues of the 
    covariance matrix of the observations contained within the data nugget) 
    Reference paper: [1] Cherasia, K. E., Cabrera, J., Fernholz, L. T., &amp; Fernholz, R. (2022). Data Nuggets in Supervised Learning. \emph{In Robust and Multivariate Statistical Methods: Festschrift in Honor of David E. Tyler} (pp. 429-449). Cham: Springer International Publishing. [2] Beavers, T., Cheng, G., Duan, Y., Cabrera, J., Lubomirski, M., Amaratunga, D., Teigler, J. (2023). Data Nuggets: A Method for Reducing Big Data While Preserving Data Structure (Submitted for Publication).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0), doSNOW (&ge; 1.0.16), foreach (&ge; 1.5.1), parallel
(&ge; 4.0.5),Rfast(&ge; 2.0.7)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-28 21:55:31 UTC; gecheng</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-28 22:20:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='AC'>
Calculate Arithmetic Complexicity of the Algorithm That Creates Data Nuggets
</h2><span id='topic+AC'></span>

<h3>Description</h3>

<p>This function creates the centers of data nuggets from a random sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AC(x,
   R,
   delete.percent,
   DN.num1,
   DN.num2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AC_+3A_x">x</code></td>
<td>

<p>A data matrix (of class matrix, data.frame, or data.table) containing only entries of class numeric.
</p>
</td></tr>
<tr><td><code id="AC_+3A_r">R</code></td>
<td>

<p>The number of observations to sample from the data matrix when creating the initial data nugget centers. Must be of class numeric within [100,10000].
</p>
</td></tr>
<tr><td><code id="AC_+3A_delete.percent">delete.percent</code></td>
<td>

<p>The proportion of observations to remove from the data matrix at each iteration when finding data nugget centers. Must be of class numeric and within (0,1).
</p>
</td></tr>
<tr><td><code id="AC_+3A_dn.num1">DN.num1</code></td>
<td>

<p>The number of initial data nugget centers to create. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="AC_+3A_dn.num2">DN.num2</code></td>
<td>

<p>The number of data nuggets to create. Must be of class numeric.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used for calculating the arithmetic complexicity of the algorithm behind the create.DN function for the given parameter choices.
</p>


<h3>Value</h3>

<table>
<tr><td><code>my.AC</code></td>
<td>
<p>The arithmetic complexicity of the algorithm behind the create.DN function for the given parameter choices on a log10 scale.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Traymon Beavers, Javier Cabrera, Mariusz Lubomirski
</p>


<h3>References</h3>

<p>Cherasia, K. E., Cabrera, J., Fernholz, L. T., &amp; Fernholz, R. (2022). Data Nuggets in Supervised Learning. <em>In Robust and Multivariate Statistical Methods: Festschrift in Honor of David E. Tyler</em> (pp. 429-449). Cham: Springer International Publishing.
</p>
<p>Beavers, T., Cheng, G., Duan, Y., Cabrera, J., Lubomirski, M., Amaratunga, D., Teigler, J. (2023). Data Nuggets: A Method for Reducing Big Data While Preserving Data Structure (Submitted for Publication)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
      X = cbind.data.frame(rnorm(10^6),
                           rnorm(10^6),
                           rnorm(10^6),
                           rnorm(10^6),
                           rnorm(10^6))

      my.AC = AC(x = X,
                 R = 5000,
                 delete.percent = .1,
                 DN.num1 = 10^4,
                 DN.num2 = 2000)

</code></pre>

<hr>
<h2 id='create.DN'>
Create Data Nuggets
</h2><span id='topic+create.DN'></span>

<h3>Description</h3>

<p>This function draws a random sample of observations from a large dataset and creates data nuggets, a type of representative sample of the dataset, using a specified distance metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.DN(x,
          center.method = "mean",
          R = 5000,
          delete.percent = .1,
          DN.num1 = 10^4,
          DN.num2 = 2000,
          dist.metric = "euclidean",
          seed = 291102,
          no.cores = (detectCores() - 1),
          make.pbs = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create.DN_+3A_x">x</code></td>
<td>

<p>A data matrix (of class matrix, data.frame, or data.table) containing only entries of class numeric.
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_center.method">center.method</code></td>
<td>

<p>The method used for choosing data nugget centers. Must be 'mean' or 'random'. 'mean' chooses the data nugget center to be the mean of all observations within that data nugget, while 'random' chooses the data nugget center to be some random observation within that data nugget.
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_r">R</code></td>
<td>

<p>The number of observations to sample from the data matrix when creating the initial data nugget centers. Must be of class numeric within [100,10000].
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_delete.percent">delete.percent</code></td>
<td>

<p>The proportion of observations to remove from the data matrix at each iteration when finding data nugget centers. Must be of class numeric and within (0,1).
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_dn.num1">DN.num1</code></td>
<td>

<p>The number of initial data nugget centers to create. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_dn.num2">DN.num2</code></td>
<td>

<p>The number of data nuggets to create. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_dist.metric">dist.metric</code></td>
<td>

<p>The distance metric used to create the initial centers of data nuggets. Must be 'euclidean' or 'manhattan'.
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_seed">seed</code></td>
<td>

<p>Random seed for replication. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_no.cores">no.cores</code></td>
<td>

<p>Number of cores used for parallel processing. If '0' then parallel processing is not used. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="create.DN_+3A_make.pbs">make.pbs</code></td>
<td>

<p>Print progress bars? Must be TRUE or FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data nuggets are a representative sample meant to summarize Big Data by reducing a large dataset to a much smaller dataset by eliminating redundant points while also preserving the peripheries of the dataset. Each data nugget is defined by a center (location), weight (importance), and scale (internal variability). This function creates data nuggets using Algorithm 1 provided in the reference.
</p>


<h3>Value</h3>

<p>An object of class datanugget:
</p>
<table>
<tr><td><code>Data Nuggets</code></td>
<td>
<p>DN.num by (ncol(x)+3) data frame containing the information for the data nuggets created (index, center, weight, scale).</p>
</td></tr>
<tr><td><code>Data Nugget Assignments</code></td>
<td>
<p>Vector of length nrow(x) containing the data nugget assignment of each observation in x.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Traymon Beavers, Javier Cabrera, Mariusz Lubomirski
</p>


<h3>References</h3>

<p>Cherasia, K. E., Cabrera, J., Fernholz, L. T., &amp; Fernholz, R. (2022). Data Nuggets in Supervised Learning. <em>In Robust and Multivariate Statistical Methods: Festschrift in Honor of David E. Tyler</em> (pp. 429-449). Cham: Springer International Publishing.
</p>
<p>Beavers, T., Cheng, G., Duan, Y., Cabrera, J., Lubomirski, M., Amaratunga, D., Teigler, J. (2023). Data Nuggets: A Method for Reducing Big Data While Preserving Data Structure (Submitted for Publication)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
      ## small example
      X = cbind.data.frame(rnorm(10^3),
                           rnorm(10^3),
                           rnorm(10^3))

      suppressMessages({

        my.DN = create.DN(x = X,
                          R = 500,
                          delete.percent = .1,
                          DN.num1 = 500,
                          DN.num2 = 250,
                          no.cores = 0,
                          make.pbs = FALSE)

      })

      my.DN$`Data Nuggets`
      my.DN$`Data Nugget Assignments`

    

      ## large example
      X = cbind.data.frame(rnorm(5*10^4),
                           rnorm(5*10^4),
                           rnorm(5*10^4),
                           rnorm(5*10^4),
                           rnorm(5*10^4))

      my.DN = create.DN(x = X,
                        R = 5000,
                        delete.percent = .9,
                        DN.num1 = 10^4,
                        DN.num2 = 2000,
                        no.cores = 2)

      my.DN$`Data Nuggets`
      my.DN$`Data Nugget Assignments`

    

</code></pre>

<hr>
<h2 id='create.DNcenters'>
Create Data Nugget Centers
</h2><span id='topic+create.DNcenters'></span>

<h3>Description</h3>

<p>This function creates the centers of data nuggets from a random sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.DNcenters(RS,
                 delete.percent,
                 DN.num,
                 dist.metric,
                 make.pb = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create.DNcenters_+3A_rs">RS</code></td>
<td>

<p>A data matrix (data frame, data table, matrix, etc) containing only entries of class numeric.
</p>
</td></tr>
<tr><td><code id="create.DNcenters_+3A_delete.percent">delete.percent</code></td>
<td>

<p>The proportion of observations to remove from the data matrix at each iteration when finding data nugget centers. Must be of class numeric and within (0,1).
</p>
</td></tr>
<tr><td><code id="create.DNcenters_+3A_dn.num">DN.num</code></td>
<td>

<p>The number of data nuggets to create. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="create.DNcenters_+3A_dist.metric">dist.metric</code></td>
<td>

<p>The distance metric used to create the initial centers of data nuggets. Must be 'euclidean' or 'manhattan'.
</p>
</td></tr>
<tr><td><code id="create.DNcenters_+3A_make.pb">make.pb</code></td>
<td>

<p>Print progress bar? Must be TRUE or FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used for reducing a random sample to data nugget centers in the create.DN function. NOTE THAT THIS FUNCTION IS NOT DESIGNED FOR USE OUTSIDE OF THE create.DN FUNCTION.
</p>


<h3>Value</h3>

<table>
<tr><td><code>DN.data</code></td>
<td>
<p>DN.num by (ncol(RS)) data frame containing the data nugget centers.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Traymon Beavers, Javier Cabrera, Mariusz Lubomirski
</p>


<h3>References</h3>

<p>Cherasia, K. E., Cabrera, J., Fernholz, L. T., &amp; Fernholz, R. (2022). Data Nuggets in Supervised Learning. <em>In Robust and Multivariate Statistical Methods: Festschrift in Honor of David E. Tyler</em> (pp. 429-449). Cham: Springer International Publishing.
</p>
<p>Beavers, T., Cheng, G., Duan, Y., Cabrera, J., Lubomirski, M., Amaratunga, D., Teigler, J. (2023). Data Nuggets: A Method for Reducing Big Data While Preserving Data Structure (Submitted for Publication)
</p>

<hr>
<h2 id='datanugget-package'>
Data Nuggets
</h2><span id='topic+datanugget-package'></span>

<h3>Description</h3>

<p>This package contains functions to create and refine data nuggets which serve as representative samples of large datasets. The functions which perform these processes are create.DN, refine.DN, and AC, respectively.
</p>


<h3>Author(s)</h3>

<p>Traymon Beavers, Javier Cabrera, Mariusz Lubomirski
</p>


<h3>References</h3>

<p>Cherasia, K. E., Cabrera, J., Fernholz, L. T., &amp; Fernholz, R. (2022). Data Nuggets in Supervised Learning. <em>In Robust and Multivariate Statistical Methods: Festschrift in Honor of David E. Tyler</em> (pp. 429-449). Cham: Springer International Publishing.
</p>
<p>Beavers, T., Cheng, G., Duan, Y., Cabrera, J., Lubomirski, M., Amaratunga, D., Teigler, J. (2023). Data Nuggets: A Method for Reducing Big Data While Preserving Data Structure (Submitted for Publication)
</p>

<hr>
<h2 id='refine.DN'>
Refine Data Nuggets
</h2><span id='topic+refine.DN'></span>

<h3>Description</h3>

<p>This function refines the data nuggets found in an object of class datanugget created using the create.DN function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine.DN(x,
          DN,
          EV.tol = .9,
          max.splits = 5,
          min.nugget.size = 2,
          seed = 291102,
          no.cores = (detectCores() - 1),
          make.pbs = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine.DN_+3A_x">x</code></td>
<td>

<p>A data matrix (data frame, data table, matrix, etc.) containing only entries of class numeric.
</p>
</td></tr>
<tr><td><code id="refine.DN_+3A_dn">DN</code></td>
<td>

<p>An object of class data nugget created using the create.DN function.
</p>
</td></tr>
<tr><td><code id="refine.DN_+3A_ev.tol">EV.tol</code></td>
<td>

<p>A value designating the percentile for finding the corresponding quantile that will designate how large the largest eigenvalue of the covariance matrix of a data nugget can be before it must be split. Must be of class numeric and within (0,1).
</p>
</td></tr>
<tr><td><code id="refine.DN_+3A_max.splits">max.splits</code></td>
<td>

<p>A value designating the maximum amount of attempts that will be made to split data nuggets according to their largest eigenvalue before the algorithm breaks. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="refine.DN_+3A_min.nugget.size">min.nugget.size</code></td>
<td>

<p>A value designating the minimum amount of observations a data nugget created from a split must contain. Must be of class numeric and greater than 1.
</p>
</td></tr>
<tr><td><code id="refine.DN_+3A_seed">seed</code></td>
<td>

<p>Random seed for replication. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="refine.DN_+3A_no.cores">no.cores</code></td>
<td>

<p>Number of cores used for parallel processing. If '0' then parallel processing is not used. Must be of class numeric.
</p>
</td></tr>
<tr><td><code id="refine.DN_+3A_make.pbs">make.pbs</code></td>
<td>

<p>Print progress bars? Must be TRUE or FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data nuggets can be refined by attempting to make all of the data nugget shapes as spherical as possible. This is achieved by designating an eigenvalue tolerance (EV.tol) which is used to give a lower threshold for a data nugget's deviation from sphericity, respectively.
</p>
<p>If the largest eigenvalue of a data nugget's covariance matrix has a ratio greater than the quantile associated with the percentile given by EV.tol, this data nugget is split into two smaller data nuggets using K-means clustering.
</p>
<p>However, if either of the two data nuggets created by this split have less than the designated minimum data nugget size (min.nugget.size), then the split is cancelled and the data nugget remains as is. This function refines data nuggets using Algorithm 2 provided in the reference.
</p>


<h3>Value</h3>

<p>An object of class datanugget:
</p>
<table>
<tr><td><code>Data Nuggets</code></td>
<td>
<p>DN.num by (ncol(x)+3) data frame containing the information for the data nuggets created (index, center, weight, scale).</p>
</td></tr>
<tr><td><code>Data Nugget Assignments</code></td>
<td>
<p>Vector of length nrow(x) containing the data nugget assignment of each observation in x.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Traymon Beavers, Javier Cabrera, Mariusz Lubomirski
</p>


<h3>References</h3>

<p>Cherasia, K. E., Cabrera, J., Fernholz, L. T., &amp; Fernholz, R. (2022). Data Nuggets in Supervised Learning. <em>In Robust and Multivariate Statistical Methods: Festschrift in Honor of David E. Tyler</em> (pp. 429-449). Cham: Springer International Publishing.
</p>
<p>Beavers, T., Cheng, G., Duan, Y., Cabrera, J., Lubomirski, M., Amaratunga, D., Teigler, J. (2023). Data Nuggets: A Method for Reducing Big Data While Preserving Data Structure (Submitted for Publication)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
    ## small example
    X = cbind.data.frame(rnorm(10^3),
                         rnorm(10^3),
                         rnorm(10^3))

    suppressMessages({

      my.DN = create.DN(x = X,
                        R = 500,
                        delete.percent = .1,
                        DN.num1 = 500,
                        DN.num2 = 250,
                        no.cores = 0,
                        make.pbs = FALSE)

      my.DN2 = refine.DN(x = X,
                         DN = my.DN,
                         EV.tol = .9,
                         min.nugget.size = 2,
                         max.splits = 5,
                         no.cores = 0,
                         make.pbs = FALSE)

    })

    my.DN2$`Data Nuggets`
    my.DN2$`Data Nugget Assignments`

    

      ## large example
      X = cbind.data.frame(rnorm(5*10^4),
                           rnorm(5*10^4),
                           rnorm(5*10^4),
                           rnorm(5*10^4),
                           rnorm(5*10^4))

      my.DN = create.DN(x = X,
                        R = 5000,
                        delete.percent = .9,
                        DN.num1 = 10^4,
                        DN.num2 = 2000,
                        no.cores = 2)

      my.DN2 = refine.DN(x = X,
                         DN = my.DN,
                         EV.tol = .9,
                         min.nugget.size = 2,
                         max.splits = 5,
                         no.cores = 2)

      my.DN2$`Data Nuggets`
      my.DN2$`Data Nugget Assignments`

    

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package treebase</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {treebase}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cache_treebase'><p>A function to cache the phylogenies in treebase locally</p></a></li>
<li><a href='#clean_data'><p>clean the fish.base data into pure ASCII</p></a></li>
<li><a href='#download_metadata'><p>Download the metadata on treebase using the OAI-MPH interface</p></a></li>
<li><a href='#drop_nonascii'><p>remove non-ASCII characters</p></a></li>
<li><a href='#drop_nontrees'><p>drop errors from the search</p></a></li>
<li><a href='#dryad_metadata'><p>Search the dryad metadata archive</p></a></li>
<li><a href='#get_nex'><p>imports phylogenetic trees from treebase. internal function</p></a></li>
<li><a href='#get_study'><p>return the trees in treebase that correspond to the search results</p>
get_study is deprecated, and now can be performed more easily using
phylo_metadata and oai_metadata search functions.</a></li>
<li><a href='#get_study_id'><p>return the study.id from the search results.</p></a></li>
<li><a href='#have_branchlength'><p>Simple function to identify which trees have branch lengths</p></a></li>
<li><a href='#metadata'><p>metadata.rda</p></a></li>
<li><a href='#metadata_from_oai'><p>Internal function for OAI-MPH interface to the Dryad database</p></a></li>
<li><a href='#oai_metadata'><p>Search the OAI-PMH metadata by date, publisher, or identifier</p></a></li>
<li><a href='#phylo_metadata'><p>Search the PhyloWS metadata</p></a></li>
<li><a href='#search_treebase'><p>A function to pull in the phyologeny/phylogenies matching a search query</p></a></li>
<li><a href='#show_metadata'><p>Get the metadata associated with the study in which the phylogeny</p>
was published.</a></li>
<li><a href='#treebase'><p>treebase.rda</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Discovery, Access and Manipulation of 'TreeBASE' Phylogenies</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Interface to the API for 'TreeBASE' <a href="http://treebase.org">http://treebase.org</a>
    from 'R.' 'TreeBASE' is a repository of user-submitted phylogenetic
    trees (of species, population, or genes) and the data used to create
    them.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/treebase/">https://docs.ropensci.org/treebase/</a>,
<a href="https://github.com/ropensci/treebase">https://github.com/ropensci/treebase</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/treebase/issues">https://github.com/ropensci/treebase/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15), ape</td>
</tr>
<tr>
<td>Imports:</td>
<td>XML, RCurl, methods, utils, httr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-16 05:36:51 UTC; rstudio</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Boettiger [aut, cre],
  Duncan Temple Lang [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Boettiger &lt;cboettig@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-16 06:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cache_treebase'>A function to cache the phylogenies in treebase locally</h2><span id='topic+cache_treebase'></span>

<h3>Description</h3>

<p>A function to cache the phylogenies in treebase locally
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_treebase(
  file = paste("treebase-", Sys.Date(), ".rda", sep = ""),
  pause1 = 3,
  pause2 = 3,
  attempts = 10,
  max_trees = Inf,
  only_metadata = FALSE,
  save = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cache_treebase_+3A_file">file</code></td>
<td>
<p>filename for the cache, otherwise created with datestamp</p>
</td></tr>
<tr><td><code id="cache_treebase_+3A_pause1">pause1</code></td>
<td>
<p>number of seconds to hesitate between requests</p>
</td></tr>
<tr><td><code id="cache_treebase_+3A_pause2">pause2</code></td>
<td>
<p>number of seconds to hesitate between individual files</p>
</td></tr>
<tr><td><code id="cache_treebase_+3A_attempts">attempts</code></td>
<td>
<p>number of attempts to access a particular resource</p>
</td></tr>
<tr><td><code id="cache_treebase_+3A_max_trees">max_trees</code></td>
<td>
<p>maximum number of trees to return (default is Inf)</p>
</td></tr>
<tr><td><code id="cache_treebase_+3A_only_metadata">only_metadata</code></td>
<td>
<p>option to only return metadata about matching trees</p>
</td></tr>
<tr><td><code id="cache_treebase_+3A_save">save</code></td>
<td>
<p>logical indicating whether to save a file with the resuls.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>it's a good idea to let this run overnight
</p>


<h3>Value</h3>

<p>saves a cached file of treebase
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 treebase &lt;- cache_treebase()

## End(Not run)
</code></pre>

<hr>
<h2 id='clean_data'>clean the fish.base data into pure ASCII</h2><span id='topic+clean_data'></span>

<h3>Description</h3>

<p>clean the fish.base data into pure ASCII
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_data(metadata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_data_+3A_metadata">metadata</code></td>
<td>
<p>list item with fishbase data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the item scrubbed of non-ASCII characters
</p>

<hr>
<h2 id='download_metadata'>Download the metadata on treebase using the OAI-MPH interface</h2><span id='topic+download_metadata'></span>

<h3>Description</h3>

<p>Download the metadata on treebase using the OAI-MPH interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_metadata(
  query = "",
  by = c("all", "until", "from"),
  curl = getCurlHandle()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_metadata_+3A_query">query</code></td>
<td>
<p>a date in format yyyy-mm-dd</p>
</td></tr>
<tr><td><code id="download_metadata_+3A_by">by</code></td>
<td>
<p>return all data &quot;until&quot; that date, 
&quot;from&quot; that date to current, or &quot;all&quot;</p>
</td></tr>
<tr><td><code id="download_metadata_+3A_curl">curl</code></td>
<td>
<p>if calling in series many times, call getCurlHandle() first and 
then pass the return value in here. Avoids repeated handshakes with server.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>query must be#'  download_metadata(2010-01-01, by=&quot;until&quot;)
all isn't a real query type, but will return all trees regardless of date
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Near &lt;- search_treebase("Near", "author", max_trees=1)
 metadata(Near[[1]]$S.id)
## or manualy give a sudy id
metadata("2377")

### get all trees from a certain depostition date forwards ##
m &lt;- download_metadata("2009-01-01", by="until")
## extract any metadata, e.g. publication date:
dates &lt;- sapply(m, function(x) as.numeric(x$date))
hist(dates, main="TreeBase growth", xlab="Year")

### show authors with most tree submissions in that date range 
authors &lt;- sapply(m, function(x){
   index &lt;- grep( "creator", names(x))
     x[index] 
})
a &lt;- as.factor(unlist(authors))
head(summary(a))

## Show growth of TreeBASE 
all &lt;- download_metadata("", by="all")
dates &lt;- sapply(all, function(x) as.numeric(x$date))
hist(dates, main="TreeBase growth", xlab="Year")

## make a barplot submission volume by journals
journals &lt;- sapply(all, function(x) x$publisher)
J &lt;- tail(sort(table(as.factor(unlist(journals)))),5)
b&lt;- barplot(as.numeric(J))
text(b, names(J), srt=70, pos=4, xpd=T)

## End(Not run)
</code></pre>

<hr>
<h2 id='drop_nonascii'>remove non-ASCII characters</h2><span id='topic+drop_nonascii'></span>

<h3>Description</h3>

<p>remove non-ASCII characters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_nonascii(string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_nonascii_+3A_string">string</code></td>
<td>
<p>any character string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the string after dropping all html tags to spaces
</p>

<hr>
<h2 id='drop_nontrees'>drop errors from the search</h2><span id='topic+drop_nontrees'></span>

<h3>Description</h3>

<p>drop errors from the search
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_nontrees(tr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_nontrees_+3A_tr">tr</code></td>
<td>
<p>a list of phylogenetic trees returned by search_treebase</p>
</td></tr>
</table>


<h3>Details</h3>

<p>primarily for the internal use of search_treebase, but may be useful
</p>


<h3>Value</h3>

<p>the list of phylogenetic trees returned successfully
</p>

<hr>
<h2 id='dryad_metadata'>Search the dryad metadata archive</h2><span id='topic+dryad_metadata'></span>

<h3>Description</h3>

<p>Search the dryad metadata archive
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dryad_metadata(study.id, curl = getCurlHandle())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dryad_metadata_+3A_study.id">study.id</code></td>
<td>
<p>the dryad identifier</p>
</td></tr>
<tr><td><code id="dryad_metadata_+3A_curl">curl</code></td>
<td>
<p>if calling in series many times, call getCurlHandle() first and 
then pass the return value in here. Avoids repeated handshakes with server.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list object containing the study metadata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  dryad_metadata("10255/dryad.12")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_nex'>imports phylogenetic trees from treebase. internal function</h2><span id='topic+get_nex'></span>

<h3>Description</h3>

<p>imports phylogenetic trees from treebase. internal function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_nex(
  query,
  max_trees = "last()",
  returns = "tree",
  curl = getCurlHandle(),
  verbose = TRUE,
  pause1 = 1,
  pause2 = 1,
  attempts = 5,
  only_metadata = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_nex_+3A_query">query</code></td>
<td>
<p>: a phylows formatted search,
see https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API</p>
</td></tr>
<tr><td><code id="get_nex_+3A_max_trees">max_trees</code></td>
<td>
<p>limits the number of trees returned
should be kept.</p>
</td></tr>
<tr><td><code id="get_nex_+3A_returns">returns</code></td>
<td>
<p>should return the tree object or the matrix (of sequences)</p>
</td></tr>
<tr><td><code id="get_nex_+3A_curl">curl</code></td>
<td>
<p>the handle to the curl</p>
</td></tr>
<tr><td><code id="get_nex_+3A_verbose">verbose</code></td>
<td>
<p>a logical indicating if output should be printed to screen</p>
</td></tr>
<tr><td><code id="get_nex_+3A_pause1">pause1</code></td>
<td>
<p>number of seconds to hesitate between requests</p>
</td></tr>
<tr><td><code id="get_nex_+3A_pause2">pause2</code></td>
<td>
<p>number of seconds to hesitate between individual files</p>
</td></tr>
<tr><td><code id="get_nex_+3A_attempts">attempts</code></td>
<td>
<p>number of attempts to access a particular resource</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object containing all the trees matching the search
(of class phylo)
</p>

<hr>
<h2 id='get_study'>return the trees in treebase that correspond to the search results
get_study is deprecated, and now can be performed more easily using
phylo_metadata and oai_metadata search functions.</h2><span id='topic+get_study'></span>

<h3>Description</h3>

<p>return the trees in treebase that correspond to the search results
get_study is deprecated, and now can be performed more easily using
phylo_metadata and oai_metadata search functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_study(search_results, curl = getCurlHandle(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_study_+3A_search_results">search_results</code></td>
<td>
<p>the output of download_metadata, or a subset thereof</p>
</td></tr>
<tr><td><code id="get_study_+3A_curl">curl</code></td>
<td>
<p>the handle to the curl web utility for repeated calls, see
the getCurlHandle() function in RCurl package for details.</p>
</td></tr>
<tr><td><code id="get_study_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to search_treebase</p>
</td></tr>
</table>


<h3>Details</h3>

<p>this function is commonly used to get trees corresponding
to the metadata search.
</p>


<h3>Value</h3>

<p>all corresponding phylogenies.
</p>

<hr>
<h2 id='get_study_id'>return the study.id from the search results.</h2><span id='topic+get_study_id'></span>

<h3>Description</h3>

<p>get_study_id is deprecated, and now can be performed more easily using
phylo_metadata and oai_metadata search functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_study_id(search_results)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_study_id_+3A_search_results">search_results</code></td>
<td>
<p>the output of download_metadata, or a subset thereof</p>
</td></tr>
</table>


<h3>Details</h3>

<p>this function is commonly used to get trees corresponding
to the metadata search.
</p>


<h3>Value</h3>

<p>the study id
</p>

<hr>
<h2 id='have_branchlength'>Simple function to identify which trees have branch lengths</h2><span id='topic+have_branchlength'></span>

<h3>Description</h3>

<p>Simple function to identify which trees have branch lengths
</p>


<h3>Usage</h3>

<pre><code class='language-R'>have_branchlength(trees)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="have_branchlength_+3A_trees">trees</code></td>
<td>
<p>a list of phylogenetic trees (ape/phylo format)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical string indicating which have branch length data
</p>

<hr>
<h2 id='metadata'>metadata.rda</h2><span id='topic+metadata'></span>

<h3>Description</h3>

<p>Contains a cache of all publication metadata the search_metadata()
to pull down when run  on 2012-05-12.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata(phylo.md = NULL, oai.md = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadata_+3A_phylo.md">phylo.md</code></td>
<td>
<p>cached phyloWS (tree) metadata, (optional)</p>
</td></tr>
<tr><td><code id="metadata_+3A_oai.md">oai.md</code></td>
<td>
<p>cached OAI-PMH (study) metadata (optional)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>recreate with: <code>
 search_metadata() 
</code>
</p>


<h3>Value</h3>

<p>a data frame of all available metadata, (as a data.table object)
columns are: &quot;Study.id&quot;, &quot;Tree.id&quot;, &quot;kind&quot;, &quot;type&quot;, &quot;quality&quot;, &quot;ntaxa&quot;    
&quot;date&quot;, &quot;publisher&quot;, &quot;author&quot;, &quot;title&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
meta &lt;- metadata()
meta[publisher %in% c("Nature", "Science") &amp; ntaxa &gt; 50 &amp; kind == "Species Tree",]

## End(Not run)
</code></pre>

<hr>
<h2 id='metadata_from_oai'>Internal function for OAI-MPH interface to the Dryad database</h2><span id='topic+metadata_from_oai'></span>

<h3>Description</h3>

<p>Internal function for OAI-MPH interface to the Dryad database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata_from_oai(query, curl = curl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadata_from_oai_+3A_query">query</code></td>
<td>
<p>a properly formed url query to dryad</p>
</td></tr>
<tr><td><code id="metadata_from_oai_+3A_curl">curl</code></td>
<td>
<p>if calling in series many times, call getCurlHandle() first and 
then pass the return value in here. Avoids repeated handshakes with server.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+dryad_metadata">dryad_metadata</a></code>
</p>

<hr>
<h2 id='oai_metadata'>Search the OAI-PMH metadata by date, publisher, or identifier</h2><span id='topic+oai_metadata'></span>

<h3>Description</h3>

<p>Search the OAI-PMH metadata by date, publisher, or identifier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oai_metadata(
  x = c("date", "publisher", "author", "title", "Study.id", "attributes"),
  metadata = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oai_metadata_+3A_x">x</code></td>
<td>
<p>one of &quot;date&quot;, &quot;publisher&quot;, &quot;identifier&quot; for the study</p>
</td></tr>
<tr><td><code id="oai_metadata_+3A_metadata">metadata</code></td>
<td>
<p>returned from <code>download_metadata</code> function. 
if not specified will download latest copy from treebase.  Pass
in the value during repeated calls to speed function runtime substantially</p>
</td></tr>
<tr><td><code id="oai_metadata_+3A_...">...</code></td>
<td>
<p>additional arguments to <code>download_metadata</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of values matching the query
</p>

<hr>
<h2 id='phylo_metadata'>Search the PhyloWS metadata</h2><span id='topic+phylo_metadata'></span>

<h3>Description</h3>

<p>Search the PhyloWS metadata
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phylo_metadata(
  x = c("Study.id", "Tree.id", "kind", "type", "quality", "ntaxa"),
  metadata = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phylo_metadata_+3A_x">x</code></td>
<td>
<p>one of &quot;Study.ids&quot;, &quot;Tree.ids&quot;, &quot;kind&quot;, &quot;type&quot;, &quot;quality&quot;, &quot;ntaxa&quot;</p>
</td></tr>
<tr><td><code id="phylo_metadata_+3A_metadata">metadata</code></td>
<td>
<p>returned from <code>search_treebase</code> function. 
if not specified will download latest copy of PhyloWS metadata from treebase.  Pass
in search results value during repeated calls to speed function runtime substantially</p>
</td></tr>
<tr><td><code id="phylo_metadata_+3A_...">...</code></td>
<td>
<p>additional arguments to <code>search_treebase</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of the values matching the query
</p>

<hr>
<h2 id='search_treebase'>A function to pull in the phyologeny/phylogenies matching a search query</h2><span id='topic+search_treebase'></span>

<h3>Description</h3>

<p>A function to pull in the phyologeny/phylogenies matching a search query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_treebase(
  input,
  by,
  returns = c("tree", "matrix"),
  exact_match = FALSE,
  max_trees = Inf,
  branch_lengths = FALSE,
  curl = getCurlHandle(),
  verbose = TRUE,
  pause1 = 0,
  pause2 = 0,
  attempts = 3,
  only_metadata = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_treebase_+3A_input">input</code></td>
<td>
<p>a search query (character string)</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_by">by</code></td>
<td>
<p>the kind of search; author, taxon, subject, study, etc
(see list of possible search terms, details)</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_returns">returns</code></td>
<td>
<p>should the fn return the tree or the character matrix?</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_exact_match">exact_match</code></td>
<td>
<p>force exact matching for author name, taxon, etc.
Otherwise does partial matching</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_max_trees">max_trees</code></td>
<td>
<p>Upper bound for the number of trees returned, good for
keeping possibly large initial queries fast</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_branch_lengths">branch_lengths</code></td>
<td>
<p>logical indicating whether should only return
trees that have branch lengths.</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_curl">curl</code></td>
<td>
<p>the handle to the curl web utility for repeated calls, see
the getCurlHandle() function in RCurl package for details.</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_verbose">verbose</code></td>
<td>
<p>logical indicating level of progress reporting</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_pause1">pause1</code></td>
<td>
<p>number of seconds to hesitate between requests</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_pause2">pause2</code></td>
<td>
<p>number of seconds to hesitate between individual files</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_attempts">attempts</code></td>
<td>
<p>number of attempts to access a particular resource</p>
</td></tr>
<tr><td><code id="search_treebase_+3A_only_metadata">only_metadata</code></td>
<td>
<p>option to only return metadata about matching trees
which lists study.id, tree.id, kind (gene,species,barcode) type (single, consensus)
number of taxa, and possible quality score.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>either a list of trees (multiphylo) or a list of character matrices
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## defaults to return phylogeny
Huelsenbeck &lt;- search_treebase("Huelsenbeck", by="author")

## can ask for character matrices:
wingless &lt;- search_treebase("2907", by="id.matrix", returns="matrix")

## Some nexus matrices don't meet read.nexus.data's strict requirements,
## these aren't returned
H_matrices &lt;- search_treebase("Huelsenbeck", by="author", returns="matrix")

## Use Booleans in search: and, or, not
## Note that by must identify each entry type if a Boolean is given
HR_trees &lt;- search_treebase("Ronquist or Hulesenbeck", by=c("author", "author"))

## We'll often use max_trees in the example so that they run quickly,
## notice the quotes for species.
dolphins &lt;- search_treebase('"Delphinus"', by="taxon", max_trees=5)
## can do exact matches
humans &lt;- search_treebase('"Homo sapiens"', by="taxon", exact_match=TRUE, max_trees=10)
## all trees with 5 taxa
five &lt;- search_treebase(5, by="ntax", max_trees = 10)
## These are different, a tree id isn't a Study id.  we report both
studies &lt;- search_treebase("2377", by="id.study")
tree &lt;- search_treebase("2377", by="id.tree")
c("TreeID" = tree$Tr.id, "StudyID" = tree$S.id)
## Only results with branch lengths
## Has to grab all the trees first, then toss out ones without branch_lengths
Near &lt;- search_treebase("Near", "author", branch_lengths=TRUE)
 
## End(Not run)
</code></pre>

<hr>
<h2 id='show_metadata'>Get the metadata associated with the study in which the phylogeny
was published.</h2><span id='topic+show_metadata'></span>

<h3>Description</h3>

<p>Get the metadata associated with the study in which the phylogeny
was published.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_metadata(study.id, curl = getCurlHandle())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_metadata_+3A_study.id">study.id</code></td>
<td>
<p>The treebase study id (numbers only, specify in quotes)</p>
</td></tr>
<tr><td><code id="show_metadata_+3A_curl">curl</code></td>
<td>
<p>if calling in series many times, call getCurlHandle()
first and then pass the return value in here.  avoids repeated
handshakes with server.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>if the tree is imported with search_treebase, 
then this is in tree$S.id
</p>

<hr>
<h2 id='treebase'>treebase.rda</h2><span id='topic+treebase'></span>

<h3>Description</h3>

<p>Contains a cache of all phylogenies <code>cache_treebase()</code> function was able
to pull down when run  on 2012-05-14.
</p>


<h3>Details</h3>

<p>recreate with: <code>
 cache_treebase() 
</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

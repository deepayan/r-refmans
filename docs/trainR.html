<!DOCTYPE html><html lang="en-GB"><head><title>Help for package trainR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {trainR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#extract'><p>Extract data from XML request</p></a></li>
<li><a href='#get_calling_points'><p>Obtain previous calling points</p></a></li>
<li><a href='#get_location'><p>Get the full station name</p></a></li>
<li><a href='#get_token'><p>Get user's token</p></a></li>
<li><a href='#GetArrBoardWithDetailsRequest'><p>Get all public arrivals</p></a></li>
<li><a href='#GetArrDepBoardWithDetailsRequest'><p>Get all public arrivals and departures</p></a></li>
<li><a href='#GetDepBoardWithDetailsRequest'><p>Get all public departures</p></a></li>
<li><a href='#GetServiceDetailsRequest'><p>Get service details</p></a></li>
<li><a href='#is_valid_crs'><p>Validate station code (CRS)</p></a></li>
<li><a href='#print'><p>Print Values</p></a></li>
<li><a href='#print_board'><p>Print arrivals/departures board</p></a></li>
<li><a href='#request'><p>Submit a SOAP XML request</p></a></li>
<li><a href='#set_token'><p>Configure user's token</p></a></li>
<li><a href='#station_codes'><p>National Rail Enquiries (NRE) Station Codes dataset</p></a></li>
<li><a href='#validate'><p>Validate output from <code>request</code></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>An Interface to the National Rail Enquiries Systems</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>The goal of 'trainR' is to provide a simple interface to the 
    National Rail Enquiries (NRE) systems. There are few data feeds 
    available, the simplest of them is Darwin, which provides real-time 
    arrival and departure predictions, platform numbers, delay estimates, 
    schedule changes and cancellations. Other data feeds provide historical 
    data, Historic Service Performance (HSP), and much more. 'trainR' 
    simplifies the data retrieval, so that the users can focus on their 
    analyses. For more details visit 
    <a href="https://www.nationalrail.co.uk/46391.aspx">https://www.nationalrail.co.uk/46391.aspx</a>. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/villegar/trainR/">https://github.com/villegar/trainR/</a>,
<a href="https://villegar.github.io/trainR/">https://villegar.github.io/trainR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/villegar/trainR/issues/">https://github.com/villegar/trainR/issues/</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>Imports:</td>
<td>RCurl, dplyr, glue, lubridate, magrittr, purrr, stringr,
tibble, tidyr, usethis, xml2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-01-16 20:13:24 UTC; roberto.villegas-diaz</td>
</tr>
<tr>
<td>Author:</td>
<td>Roberto Villegas-Diaz
    <a href="https://orcid.org/0000-0001-5036-8661"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Roberto Villegas-Diaz &lt;villegas.roberto@hotmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-01-20 11:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Value</h3>

<p>Result of the <code>rhs</code> expression.
</p>

<hr>
<h2 id='extract'>Extract data from XML request</h2><span id='topic+extract'></span><span id='topic+extract.GetServiceDetailsResult'></span><span id='topic+extract.StationBoard'></span><span id='topic+extract.busServices'></span><span id='topic+extract.callingPoint'></span><span id='topic+extract.callingPointList'></span><span id='topic+extract.trainServices'></span><span id='topic+extract.service'></span>

<h3>Description</h3>

<p>Extract data from XML request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract(x, ...)

## S3 method for class 'GetServiceDetailsResult'
extract(x, ...)

## S3 method for class 'StationBoard'
extract(x, ...)

## S3 method for class 'busServices'
extract(x, ...)

## S3 method for class 'callingPoint'
extract(x, ...)

## S3 method for class 'callingPointList'
extract(x, ..., class = "previousCallingPoints")

## S3 method for class 'trainServices'
extract(x, ...)

## S3 method for class 'service'
extract(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_+3A_x">x</code></td>
<td>
<p>List with request results.</p>
</td></tr>
<tr><td><code id="extract_+3A_...">...</code></td>
<td>
<p>Optional parameters.</p>
</td></tr>
<tr><td><code id="extract_+3A_class">class</code></td>
<td>
<p>String with class of the output object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble with the appropriate format.
</p>

<hr>
<h2 id='get_calling_points'>Obtain previous calling points</h2><span id='topic+get_calling_points'></span>

<h3>Description</h3>

<p>Obtain previous calling points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_calling_points(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_calling_points_+3A_data">data</code></td>
<td>
<p>List with previous calling point records.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble with previous calling point records.
</p>

<hr>
<h2 id='get_location'>Get the full station name</h2><span id='topic+get_location'></span>

<h3>Description</h3>

<p>Get the full station name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_location(crs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_location_+3A_crs">crs</code></td>
<td>
<p>(string, 3 characters, alphabetic): The CRS code of the station.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String with station name.
</p>

<hr>
<h2 id='get_token'>Get user's token</h2><span id='topic+get_token'></span>

<h3>Description</h3>

<p>Get user's token to access the National Rail Enquiries (NRE) data feeds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_token(ENV = "NRE")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_token_+3A_env">ENV</code></td>
<td>
<p>String with environment variable containing the token to access
the NRE data feeds (default = &quot;NRE&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String with token.
</p>

<hr>
<h2 id='GetArrBoardWithDetailsRequest'>Get all public arrivals</h2><span id='topic+GetArrBoardWithDetailsRequest'></span>

<h3>Description</h3>

<p>Get all public arrivals for the supplied CRS code within a defined time
window, including service details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetArrBoardWithDetailsRequest(
  crs,
  filterCrs = NA,
  filterType = "to",
  numRows = 150,
  timeOffset = 0,
  timeWindow = 120,
  token = get_token(),
  url = "https://lite.realtime.nationalrail.co.uk/OpenLDBWS/ldb11.asmx",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_crs">crs</code></td>
<td>
<p>(string, 3 characters, alphabetic): The CRS code (see above) of
the location for which the request is being made.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_filtercrs">filterCrs</code></td>
<td>
<p>(string, 3 characters, alphabetic): The CRS code of either
an origin or destination location to filter in. Optional.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_filtertype">filterType</code></td>
<td>
<p>(string, either &quot;from&quot; or &quot;to&quot;): The type of filter to
apply. Filters services to include only those originating or terminating
at the <code>filterCrs</code> location. Defaults to &quot;to&quot;.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_numrows">numRows</code></td>
<td>
<p>(integer, between 0 and 150 exclusive): The number of
services to return in the resulting station board.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_timeoffset">timeOffset</code></td>
<td>
<p>(integer, between -120 and 120 exclusive): An offset in
minutes against the current time to provide the station board for.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_timewindow">timeWindow</code></td>
<td>
<p>(integer, between -120 and 120 exclusive): How far into
the future in minutes, relative to <code>timeOffset</code>, to return services
for. Defaults to 120.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_token">token</code></td>
<td>
<p>Token to access the data feed. The token can be obtained at
<a href="http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/">http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/</a>.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_url">url</code></td>
<td>
<p>Data feed source URL.</p>
</td></tr>
<tr><td><code id="GetArrBoardWithDetailsRequest_+3A_verbose">verbose</code></td>
<td>
<p>Boolean flag to indicate whether or not to show status
messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble with arrival records.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rdg_arr &lt;- trainR::GetArrBoardWithDetailsRequest("RDG")
rdg_arr &lt;- trainR::GetArrBoardWithDetailsRequest("RDG", filterCrs = "BRI")
trainR::print(rdg_arr)

## End(Not run)
</code></pre>

<hr>
<h2 id='GetArrDepBoardWithDetailsRequest'>Get all public arrivals and departures</h2><span id='topic+GetArrDepBoardWithDetailsRequest'></span>

<h3>Description</h3>

<p>Get all public arrivals and departures for the supplied CRS code within a
defined time window, including service details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetArrDepBoardWithDetailsRequest(
  crs,
  filterCrs = NA,
  filterType = "from",
  numRows = 150,
  timeOffset = 0,
  timeWindow = 120,
  token = get_token(),
  url = "https://lite.realtime.nationalrail.co.uk/OpenLDBWS/ldb11.asmx",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_crs">crs</code></td>
<td>
<p>(string, 3 characters, alphabetic): The CRS code (see above) of
the location for which the request is being made.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_filtercrs">filterCrs</code></td>
<td>
<p>(string, 3 characters, alphabetic): The CRS code of either
an origin or destination location to filter in. Optional.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_filtertype">filterType</code></td>
<td>
<p>(string, either &quot;from&quot; or &quot;to&quot;): The type of filter to
apply. Filters services to include only those originating or terminating
at the <code>filterCrs</code> location. Defaults to &quot;to&quot;.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_numrows">numRows</code></td>
<td>
<p>(integer, between 0 and 150 exclusive): The number of
services to return in the resulting station board.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_timeoffset">timeOffset</code></td>
<td>
<p>(integer, between -120 and 120 exclusive): An offset in
minutes against the current time to provide the station board for.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_timewindow">timeWindow</code></td>
<td>
<p>(integer, between -120 and 120 exclusive): How far into
the future in minutes, relative to <code>timeOffset</code>, to return services
for. Defaults to 120.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_token">token</code></td>
<td>
<p>Token to access the data feed. The token can be obtained at
<a href="http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/">http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/</a>.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_url">url</code></td>
<td>
<p>Data feed source URL.</p>
</td></tr>
<tr><td><code id="GetArrDepBoardWithDetailsRequest_+3A_verbose">verbose</code></td>
<td>
<p>Boolean flag to indicate whether or not to show status
messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble with arrival and departure records.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rdg&lt;- trainR::GetArrDepBoardWithDetailsRequest("RDG")
rdg &lt;- trainR::GetArrDepBoardWithDetailsRequest("RDG", filterCrs = "BRI")
trainR::print(rdg)

## End(Not run)
</code></pre>

<hr>
<h2 id='GetDepBoardWithDetailsRequest'>Get all public departures</h2><span id='topic+GetDepBoardWithDetailsRequest'></span>

<h3>Description</h3>

<p>Get all public departures for the supplied CRS code within a defined time
window, including service details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetDepBoardWithDetailsRequest(
  crs,
  filterCrs = NA,
  filterType = "from",
  numRows = 150,
  timeOffset = 0,
  timeWindow = 120,
  token = get_token(),
  url = "https://lite.realtime.nationalrail.co.uk/OpenLDBWS/ldb11.asmx",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_crs">crs</code></td>
<td>
<p>(string, 3 characters, alphabetic): The CRS code (see above) of
the location for which the request is being made.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_filtercrs">filterCrs</code></td>
<td>
<p>(string, 3 characters, alphabetic): The CRS code of either
an origin or destination location to filter in. Optional.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_filtertype">filterType</code></td>
<td>
<p>(string, either &quot;from&quot; or &quot;to&quot;): The type of filter to
apply. Filters services to include only those originating or terminating
at the <code>filterCrs</code> location. Defaults to &quot;to&quot;.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_numrows">numRows</code></td>
<td>
<p>(integer, between 0 and 150 exclusive): The number of
services to return in the resulting station board.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_timeoffset">timeOffset</code></td>
<td>
<p>(integer, between -120 and 120 exclusive): An offset in
minutes against the current time to provide the station board for.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_timewindow">timeWindow</code></td>
<td>
<p>(integer, between -120 and 120 exclusive): How far into
the future in minutes, relative to <code>timeOffset</code>, to return services
for. Defaults to 120.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_token">token</code></td>
<td>
<p>Token to access the data feed. The token can be obtained at
<a href="http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/">http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/</a>.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_url">url</code></td>
<td>
<p>Data feed source URL.</p>
</td></tr>
<tr><td><code id="GetDepBoardWithDetailsRequest_+3A_verbose">verbose</code></td>
<td>
<p>Boolean flag to indicate whether or not to show status
messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble with departure records.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rdg_dep &lt;- trainR::GetDepBoardWithDetailsRequest("RDG")
rdg_dep &lt;- trainR::GetDepBoardWithDetailsRequest("RDG", filterCrs = "BRI")
trainR::print(rdg_dep)

## End(Not run)
</code></pre>

<hr>
<h2 id='GetServiceDetailsRequest'>Get service details</h2><span id='topic+GetServiceDetailsRequest'></span>

<h3>Description</h3>

<p>Get the service details for a specific service identified by a station board.
These details are supplied relative to the station board from which the
<code>serviceID</code> field value was generated. Service details are only
available while the service appears on the station board from which it was
obtained. This is normally for two minutes after it is expected to have
departed, or after a terminal arrival. If a request is made for a service
that is no longer available then a <code>NULL</code> value is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetServiceDetailsRequest(
  serviceID,
  token = get_token(),
  url = "https://lite.realtime.nationalrail.co.uk/OpenLDBWS/ldb11.asmx",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GetServiceDetailsRequest_+3A_serviceid">serviceID</code></td>
<td>
<p>(string): The LDBWS service ID of the service to request
the details of. The service ID is obtained from a service listed in a
<code>StationBoard</code> object returned from any other request.</p>
</td></tr>
<tr><td><code id="GetServiceDetailsRequest_+3A_token">token</code></td>
<td>
<p>Token to access the data feed. The token can be obtained at
<a href="http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/">http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/</a>.</p>
</td></tr>
<tr><td><code id="GetServiceDetailsRequest_+3A_url">url</code></td>
<td>
<p>Data feed source URL.</p>
</td></tr>
<tr><td><code id="GetServiceDetailsRequest_+3A_verbose">verbose</code></td>
<td>
<p>Boolean flag to indicate whether or not to show status
messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble with departure records.
</p>

<hr>
<h2 id='is_valid_crs'>Validate station code (CRS)</h2><span id='topic+is_valid_crs'></span>

<h3>Description</h3>

<p>Validate station code (CRS)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valid_crs(x, parameter = "crs")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_valid_crs_+3A_x">x</code></td>
<td>
<p>Station code.</p>
</td></tr>
<tr><td><code id="is_valid_crs_+3A_parameter">parameter</code></td>
<td>
<p>String with the name of the parameter to check.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, call for its side effect.
</p>

<hr>
<h2 id='print'>Print Values</h2><span id='topic+print'></span><span id='topic+print.StationBoard'></span><span id='topic+print.busServices'></span><span id='topic+print.trainServices'></span><span id='topic+print.previousCallingPoints'></span><span id='topic+print.subsequentCallingPoints'></span>

<h3>Description</h3>

<p>Print Values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print(x, ...)

## S3 method for class 'StationBoard'
print(x, ..., station = NA)

## S3 method for class 'busServices'
print(x, ...)

## S3 method for class 'trainServices'
print(x, ...)

## S3 method for class 'previousCallingPoints'
print(x, ...)

## S3 method for class 'subsequentCallingPoints'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print_+3A_x">x</code></td>
<td>
<p>an object used to select a method.</p>
</td></tr>
<tr><td><code id="print_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="print_+3A_station">station</code></td>
<td>
<p>String to indicate if the destination or origin station
should be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Input data invisibly.
</p>

<hr>
<h2 id='print_board'>Print arrivals/departures board</h2><span id='topic+print_board'></span>

<h3>Description</h3>

<p>Print arrivals/departures board
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_board(x, show_details = FALSE, station = "destination", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print_board_+3A_x">x</code></td>
<td>
<p>Tibble with arrivals/departures information.</p>
</td></tr>
<tr><td><code id="print_board_+3A_show_details">show_details</code></td>
<td>
<p>Boolean flag to indicate if detail information about
previous calling points should be included or not.</p>
</td></tr>
<tr><td><code id="print_board_+3A_station">station</code></td>
<td>
<p>String to indicate if the destination or origin station
should be displayed.</p>
</td></tr>
<tr><td><code id="print_board_+3A_...">...</code></td>
<td>
<p>Optional parameters (not used).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, call for its side effect.
</p>

<hr>
<h2 id='request'>Submit a SOAP XML request</h2><span id='topic+request'></span>

<h3>Description</h3>

<p>Submit a SOAP XML request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>request(body, header, url, verbose = FALSE, type = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="request_+3A_body">body</code></td>
<td>
<p>XML body arguments.</p>
</td></tr>
<tr><td><code id="request_+3A_header">header</code></td>
<td>
<p>XML header arguments.</p>
</td></tr>
<tr><td><code id="request_+3A_url">url</code></td>
<td>
<p>Data feed source URL.</p>
</td></tr>
<tr><td><code id="request_+3A_verbose">verbose</code></td>
<td>
<p>Boolean flag to indicate whether or not to show status
messages.</p>
</td></tr>
<tr><td><code id="request_+3A_type">type</code></td>
<td>
<p>String with request type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Request results or error message if not found.
</p>

<hr>
<h2 id='set_token'>Configure user's token</h2><span id='topic+set_token'></span>

<h3>Description</h3>

<p>Configure user's token to access the National Rail Enquiries (NRE) data
feeds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_token()
</code></pre>


<h3>Details</h3>

<p>To obtain an access token, you must complete the registration form found at
<a href="http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/">http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/</a>.
</p>


<h3>Value</h3>

<p>Nothing, helper function to set up environment variable.
</p>

<hr>
<h2 id='station_codes'>National Rail Enquiries (NRE) Station Codes dataset</h2><span id='topic+station_codes'></span>

<h3>Description</h3>

<p>A dataset containing information of 2580 British National Rail Enquiries
(NRE) station 3 letter alpha (CRS) codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(station_codes)
</code></pre>


<h3>Format</h3>

<p>A data frame with 2580 rows and 2 variables:
</p>

<dl>
<dt>name</dt><dd><p>Station name.</p>
</dd>
<dt>crs</dt><dd><p>Station code.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>National Rail Enquiries (NRE)
</p>


<h3>Source</h3>

<p><a href="https://www.nationalrail.co.uk/stations_destinations/48541.aspx">https://www.nationalrail.co.uk/stations_destinations/48541.aspx</a>
</p>

<hr>
<h2 id='validate'>Validate output from <code>request</code></h2><span id='topic+validate'></span>

<h3>Description</h3>

<p>Validate output from <code>request</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_+3A_data">data</code></td>
<td>
<p>Data object (e.g. <code>list</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Original data object, if data is valid
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

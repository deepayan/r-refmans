<!DOCTYPE html><html><head><title>Help for package maxnet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {maxnet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#maxnet-package'><p>Maxent over glmnet</p></a></li>
<li><a href='#bradypus'><p>Occurrence records and background data for the brown-throated three-toed sloth, Bradypus variegatus</p></a></li>
<li><a href='#hinge'><p>Maxent feature classes</p></a></li>
<li><a href='#maxnet'><p>Maxent over glmnet</p></a></li>
<li><a href='#plot.maxnet'>
<p>Response plots for maxnet models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fitting 'Maxent' Species Distribution Models with 'glmnet'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-07-08</td>
</tr>
<tr>
<td>Author:</td>
<td>Steven Phillips</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Steven Phillips &lt;mrmaxent@gmail.com&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>glmnet</td>
</tr>
<tr>
<td>Description:</td>
<td>Procedures to fit species distributions models from occurrence records and environmental variables, using 'glmnet' for model fitting. Model structure is the same as for the 'Maxent' Java package, version 3.4.0, with the same feature types and regularization options.  See the 'Maxent' website <a href="http://biodiversityinformatics.amnh.org/open_source/maxent">http://biodiversityinformatics.amnh.org/open_source/maxent</a> for more details.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mrmaxent/maxnet">https://github.com/mrmaxent/maxnet</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-09 13:46:16 UTC; mrmax</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-09 14:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='maxnet-package'>Maxent over glmnet</h2><span id='topic+maxnet-package'></span>

<h3>Description</h3>

<p>Maxent species distribution modeling using glmnet for model fitting
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> maxnet</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2013-06-06</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> To be determined</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Create Maxent models for species distributions from presence and background data, using the glmnet package to do the model fitting.  By default, feature sets and regularization are the same as the Maxent java application.
</p>


<h3>Author(s)</h3>

<p>Steven Phillips &lt;phillips@research.att.com&gt;
</p>


<h3>References</h3>

<p>Phillips &amp; Dudik
Fithian &amp; Hastie
Glmnet
</p>

<hr>
<h2 id='bradypus'>Occurrence records and background data for the brown-throated three-toed sloth, Bradypus variegatus</h2><span id='topic+bradypus'></span>

<h3>Description</h3>

<p>A dataset containing environmental data at 116 Bradypus variegatus occurrence points
and 1000 background points in South and Central America.  Occurrence data are from
Anderson and Handley (2001); see Phillips et al. (2006) for descriptions of the 
predictor variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bradypus
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 1116 rows and 15 columns.</p>


<h3>References</h3>

<p>Anderson, R. P. and Handley, Jr., C. O. (2001). A new species of three-toed sloth (Mammalia: Xenarthra) from Panama, with a review of the genus Bradypus. Proceedings of the Biological Society of Washington 114, 1-33.
</p>
<p>Phillips, S. J. et al. (2006). Maximum entropy modeling of species geographic distributions. Ecological Modelling 190, 231-259
</p>

<hr>
<h2 id='hinge'>Maxent feature classes</h2><span id='topic+hinge'></span><span id='topic+thresholds'></span><span id='topic+categorical'></span>

<h3>Description</h3>

<p>Create and evaluate Maxent's feature classes</p>


<h3>Usage</h3>

<pre><code class='language-R'>hinge(x, nknots = 50)
thresholds(x, nknots=50)
categorical(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hinge_+3A_x">x</code></td>
<td>
<p> a predictor: a factor for categorical, otherwise numeric. </p>
</td></tr>
<tr><td><code id="hinge_+3A_nknots">nknots</code></td>
<td>
<p> number of knots. </p>
</td></tr>
</table>


<h3>Value</h3>

<p>These functions are typically called by <code>model.matrix</code> rather than directly by a user.  <code>hinge</code>, <code>threshold</code> and <code>categorical</code> return a matrix with a column for each feature of the specified type.  <code>hinge</code> creates <code>2*nknots-2</code> hinge features, half with <code>min=min(x)</code> and half with <code>max=max(x)</code>, and knots evenly spaced between <code>min(x)</code> and <code>max(x)</code>.  A hinge feature <code>h(min,knot)</code> or <code>h(knot,max)</code> is 0 if the predictor is below the first argument, 1 if the predictor is above the second argument, and linearly interpolated inbetween.  A threshold feature is 1 if the predictor is above the knot, 0 otherwise.  A categorical feature is 1 if the predictor matches the category and 0 otherwise.
</p>


<h3>Author(s)</h3>

<p>Steven Phillips
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(maxnet)
data(bradypus)
hinge(bradypus$tmp6190_ann,nknots=10)
categorical(bradypus$ecoreg)
</code></pre>

<hr>
<h2 id='maxnet'>Maxent over glmnet</h2><span id='topic+maxnet'></span><span id='topic+predict.maxnet'></span><span id='topic+maxnet.formula'></span><span id='topic+maxnet.default.regularization'></span>

<h3>Description</h3>

<p>Maxent species distribution modeling using glmnet for model fitting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxnet(p, data, f = maxnet.formula(p, data), regmult = 1, 
   regfun = maxnet.default.regularization, addsamplestobackground=T, ...)
maxnet.default.regularization(p, m)
maxnet.formula(p, data, classes="default")

## S3 method for class 'maxnet'
predict(object, newdata, clamp=T, type=c("link","exponential","cloglog","logistic"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="maxnet_+3A_p">p</code></td>
<td>
<p> a vector of 1 (for presence) or 0 (for background). </p>
</td></tr>
<tr><td><code id="maxnet_+3A_data">data</code></td>
<td>
<p> a matrix or data frame of predictor variables. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_f">f</code></td>
<td>
<p> a formula to determine the features to be used. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_regmult">regmult</code></td>
<td>
<p> a constant to adjust regularization. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_regfun">regfun</code></td>
<td>
<p> a function to compute regularization constant for each feature. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_addsamplestobackground">addsamplestobackground</code></td>
<td>
<p> if T, add to the background any presence sample that is not already there. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_object">object</code></td>
<td>
<p> an object of class <code>"maxnet"</code>, i.e., a fitted model. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_newdata">newdata</code></td>
<td>
<p> values of predictor variables to predict to. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_m">m</code></td>
<td>
<p> a matrix of feature values. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_clamp">clamp</code></td>
<td>
<p> if true, predictors and features are restricted to the range seen during model training. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_type">type</code></td>
<td>
<p> type of response required. </p>
</td></tr>
<tr><td><code id="maxnet_+3A_classes">classes</code></td>
<td>
<p> continuous feature classes desired, either &quot;default&quot; or any subset of &quot;lqpht&quot; (for example, &quot;lh&quot;). </p>
</td></tr>
<tr><td><code id="maxnet_+3A_...">...</code></td>
<td>
<p> not used. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using <code>lp</code> for the linear predictor and <code>entropy</code> for the entropy of the exponential model over the background data, the values plotted on the y-axis are:
</p>
<p><code>lp</code> if <code>type</code> is &quot;link&quot;.
</p>
<p><code>exp(lp)</code> if <code>type</code> is &quot;exponential&quot;.
</p>
<p><code>1-exp(-exp(entropy+lp))</code> if <code>type</code> is &quot;cloglog&quot;.
</p>
<p><code>1/(1+exp(-entropy-lp))</code> if <code>type</code> is &quot;logistic&quot;.
</p>


<h3>Value</h3>

<p>Maxnet returns an object of class <code>maxnet</code>, which is a list consisting of a glmnet model with the following elements added:
</p>
<table>
<tr><td><code>betas</code></td>
<td>
<p> nonzero coefficients of the fitted model </p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p> constant offset making the exponential model sum to one over the background data </p>
</td></tr>
<tr><td><code>entropy</code></td>
<td>
<p> entropy of the exponential model </p>
</td></tr>
<tr><td><code>penalty.factor</code></td>
<td>
<p> the regularization constants used for each feature </p>
</td></tr>
<tr><td><code>featuremins</code></td>
<td>
<p> minimum of each feature, to be used for clamping </p>
</td></tr>
<tr><td><code>featuremaxs</code></td>
<td>
<p> maximum of each feature, to be used for clamping </p>
</td></tr>
<tr><td><code>varmin</code></td>
<td>
<p> minimum of each predictor, to be used for clamping </p>
</td></tr>
<tr><td><code>varmax</code></td>
<td>
<p> maximum of each predictor, to be used for clamping </p>
</td></tr>
<tr><td><code>samplemeans</code></td>
<td>
<p> mean of each predictor over samples (majority for factors) </p>
</td></tr>
<tr><td><code>levels</code></td>
<td>
<p> levels of each predictor that is a factor </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Steven Phillips
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(maxnet)
data(bradypus)
p &lt;- bradypus$presence
data &lt;- bradypus[,-1]
mod &lt;- maxnet(p, data)
plot(mod, type="cloglog")
mod &lt;- maxnet(p, data, maxnet.formula(p, data, classes="lq"))
plot(mod, "tmp6190_ann")
</code></pre>

<hr>
<h2 id='plot.maxnet'>
Response plots for maxnet models
</h2><span id='topic+plot.maxnet'></span><span id='topic+response.plot'></span>

<h3>Description</h3>

<p>Create response plots for each predictor in a maxnet model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'maxnet'
plot(x, vars = names(x$samplemeans), common.scale = T, 
   type = c("link", "exponential", "cloglog", "logistic"), ylab = NULL, ...)

response.plot(mod, v, type, mm=mod$samplemeans, min=mod$varmin[v], max=mod$varmax[v], 
   levels=unlist(mod$levels[v]), plot=T, xlab=v, ylab=tools::toTitleCase(type), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.maxnet_+3A_x">x</code></td>
<td>
<p> an object of class <code>maxnet</code>, i.e., a fitted model. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_vars">vars</code></td>
<td>
<p> vector of predictors for which response plots are desired. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_common.scale">common.scale</code></td>
<td>
<p> if true, all plots use the same scale on the y-axis. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_type">type</code></td>
<td>
<p> type of response to plot on y-axis. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_xlab">xlab</code></td>
<td>
<p> label for x-axis. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_ylab">ylab</code></td>
<td>
<p> label for y-axis. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_mod">mod</code></td>
<td>
<p> a fitted model, must be of type <code>maxnet</code> if default values used for other arguments. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_v">v</code></td>
<td>
<p> name of variable to be plotted. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_mm">mm</code></td>
<td>
<p> sample means (or majorities for factors) for predictors; predictors other than <code>v</code> are given these values. </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_min">min</code></td>
<td>
<p> minimum value of <code>v</code>; determines range of x-axis </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_max">max</code></td>
<td>
<p> maximum value of <code>v</code>; determines range of x-axis </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_levels">levels</code></td>
<td>
<p> if <code>v</code> is a factor, determines levels to be plotted </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_plot">plot</code></td>
<td>
<p> if false, don't draw the plot </p>
</td></tr>
<tr><td><code id="plot.maxnet_+3A_...">...</code></td>
<td>
<p> passed to plot or barplot </p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>plot</code> is false, return a vector of y values, one for each factor or 100 ranging from <code>min - 0.1*(max-min)</code> to <code>max + 0.1*(max-min)</code>.
</p>


<h3>Author(s)</h3>

<p>Steven Phillips
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

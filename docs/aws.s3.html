<!DOCTYPE html><html lang="en"><head><title>Help for package aws.s3</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {aws.s3}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aws.s3-package'><p>aws.s3-package</p></a></li>
<li><a href='#bucket_exists'><p>Bucket exists?</p></a></li>
<li><a href='#bucketlist'><p>List Buckets</p></a></li>
<li><a href='#copy_object'><p>Copy Objects</p></a></li>
<li><a href='#delete_bucket'><p>Delete Bucket</p></a></li>
<li><a href='#delete_object'><p>Delete object</p></a></li>
<li><a href='#delete_website'><p>Bucket Website configuration</p></a></li>
<li><a href='#get_acceleration'><p>Bucket Acceleration</p></a></li>
<li><a href='#get_acl'><p>Get or put bucket/object ACLs</p></a></li>
<li><a href='#get_bucket'><p>List bucket contents</p></a></li>
<li><a href='#get_bucket_policy'><p>Bucket policies</p></a></li>
<li><a href='#get_bucketname'><p>Utility Functions</p></a></li>
<li><a href='#get_cors'><p>CORS</p></a></li>
<li><a href='#get_encryption'><p>Bucket encryption</p></a></li>
<li><a href='#get_lifecycle'><p>Lifecycle</p></a></li>
<li><a href='#get_location'><p>Bucket location</p></a></li>
<li><a href='#get_notification'><p>Notifications</p></a></li>
<li><a href='#get_object'><p>Get object</p></a></li>
<li><a href='#get_replication'><p>Bucket replication</p></a></li>
<li><a href='#get_requestpayment'><p>requestPayment</p></a></li>
<li><a href='#get_tagging'><p>Bucket tagging</p></a></li>
<li><a href='#get_torrent'><p>Get object torrent</p></a></li>
<li><a href='#get_uploads'><p>Multipart uploads</p></a></li>
<li><a href='#get_versions'><p>Bucket versions</p></a></li>
<li><a href='#getobject'><p>Deprecated</p></a></li>
<li><a href='#head_object'><p>Get object metadata</p></a></li>
<li><a href='#put_bucket'><p>Create bucket</p></a></li>
<li><a href='#put_object'><p>Put object</p></a></li>
<li><a href='#s3HTTP'><p>S3 HTTP Requests</p></a></li>
<li><a href='#s3save'><p>save/load</p></a></li>
<li><a href='#s3saveRDS'><p>saveRDS/readRDS</p></a></li>
<li><a href='#s3source'><p>Source from S3</p></a></li>
<li><a href='#s3sync'><p>S3 file sync</p></a></li>
<li><a href='#s3write_using'><p>Custom read and write</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'AWS S3' Client Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.21</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Urbanek &lt;simon.urbanek@R-project.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A simple client package for the Amazon Web Services ('AWS') Simple
    Storage Service ('S3') 'REST' 'API' <a href="https://aws.amazon.com/s3/">https://aws.amazon.com/s3/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/cloudyr/aws.s3">https://github.com/cloudyr/aws.s3</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cloudyr/aws.s3/issues">https://github.com/cloudyr/aws.s3/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, tools, curl, httr, xml2 (&gt; 1.0.0), base64enc, digest,
aws.signature (&ge; 0.3.7)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, datasets</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-07 20:31:01 UTC; svnuser</td>
</tr>
<tr>
<td>Author:</td>
<td>Thomas J. Leeper <a href="https://orcid.org/0000-0003-4097-6326"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Boettiger Carl [ctb],
  Andrew Martin [ctb],
  Mark Thompson [ctb],
  Tyler Hunt [ctb],
  Steven Akins [ctb],
  Bao Nguyen [ctb],
  Thierry Onkelinx [ctb],
  Andrii Degtiarov [ctb],
  Dhruv Aggarwal [ctb],
  Alyssa Columbus [ctb],
  Simon Urbanek [cre, ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-07 21:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='aws.s3-package'>aws.s3-package</h2><span id='topic+aws.s3-package'></span><span id='topic+aws.s3'></span>

<h3>Description</h3>

<p>AWS S3 Client Package
</p>


<h3>Details</h3>

<p>A simple client package for the Amazon Web Services (AWS) Simple Storage Service (S3) REST API.
</p>


<h3>Author(s)</h3>

<p>Thomas J. Leeper &lt;thosjleeper@gmail.com&gt;
</p>

<hr>
<h2 id='bucket_exists'>Bucket exists?</h2><span id='topic+bucket_exists'></span>

<h3>Description</h3>

<p>Check whether a bucket exists and is accessible with the current authentication keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bucket_exists(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bucket_exists_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="bucket_exists_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if bucket exists and is accessible, else <code>FALSE</code>.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketHEAD.html">API Documentation</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bucketlist">bucketlist</a></code>, <code><a href="#topic+get_bucket">get_bucket</a></code>, <code><a href="#topic+object_exists">object_exists</a></code>
</p>

<hr>
<h2 id='bucketlist'>List Buckets</h2><span id='topic+bucketlist'></span><span id='topic+bucket_list_df'></span>

<h3>Description</h3>

<p>List buckets as a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bucketlist(add_region = FALSE, ...)

bucket_list_df(add_region = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bucketlist_+3A_add_region">add_region</code></td>
<td>
<p>A logical (by default <code>FALSE</code>) indicating whether to add &ldquo;Region&rdquo; column to the output data frame. This simply induces a loop over <code><a href="#topic+get_location">get_location</a></code> for each bucket.</p>
</td></tr>
<tr><td><code id="bucketlist_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bucketlist</code> performs a GET operation on the base s3 endpoint and returns a list of all buckets owned by the authenticated sender of the request. If authentication is successful, this function provides a list of buckets available to the authenticated user. In this way, it can serve as a &ldquo;hello world!&rdquo; function, to confirm that one's authentication credentials are working correctly.
</p>
<p><code>bucket_list_df</code> and <code>bucketlist</code> are identical.
</p>


<h3>Value</h3>

<p>A data frame of buckets. Can be empty (0 rows, 0 columns) if there are no buckets, otherwise contains typically at least columns <code>Bucket</code> and <code>CreationDate</code>.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTServiceGET.html">API Documentation</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_bucket">get_bucket</a></code>, <code><a href="#topic+get_object">get_object</a></code>
</p>

<hr>
<h2 id='copy_object'>Copy Objects</h2><span id='topic+copy_object'></span><span id='topic+copy_bucket'></span>

<h3>Description</h3>

<p>Copy objects between S3 buckets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>copy_object(
  from_object,
  to_object = from_object,
  from_bucket,
  to_bucket,
  headers = list(),
  ...
)

copy_bucket(from_bucket, to_bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="copy_object_+3A_from_object">from_object</code></td>
<td>
<p>A character string containing the name the object you want to copy.</p>
</td></tr>
<tr><td><code id="copy_object_+3A_to_object">to_object</code></td>
<td>
<p>A character string containing the name the object should have in the new bucket.</p>
</td></tr>
<tr><td><code id="copy_object_+3A_from_bucket">from_bucket</code></td>
<td>
<p>A character string containing the name of the bucket you want to copy from.</p>
</td></tr>
<tr><td><code id="copy_object_+3A_to_bucket">to_bucket</code></td>
<td>
<p>A character string containing the name of the bucket you want to copy into.</p>
</td></tr>
<tr><td><code id="copy_object_+3A_headers">headers</code></td>
<td>
<p>List of request headers for the REST call.</p>
</td></tr>
<tr><td><code id="copy_object_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>copy_object</code> copies an object from one bucket to another without bringing it into local memory. For <code>copy_bucket</code>, all objects from one bucket are copied to another (limit 1000 objects). The same keys are used in the old bucket as in the new bucket.
</p>


<h3>Value</h3>

<p>Something...
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectCOPY.html">API Documentation</a>
</p>

<hr>
<h2 id='delete_bucket'>Delete Bucket</h2><span id='topic+delete_bucket'></span>

<h3>Description</h3>

<p>Deletes an S3 bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_bucket(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="delete_bucket_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="delete_bucket_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if successful, <code>FALSE</code> otherwise.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETE.html">API Documentation</a>
</p>

<hr>
<h2 id='delete_object'>Delete object</h2><span id='topic+delete_object'></span>

<h3>Description</h3>

<p>Deletes one or more objects from an S3 bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_object(object, bucket, quiet = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="delete_object_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="delete_object_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="delete_object_+3A_quiet">quiet</code></td>
<td>
<p>A logical indicating whether (when <code>object</code> is a list of multiple objects), to run the operation in &ldquo;quiet&rdquo; mode. Ignored otherwise. See API documentation for details.</p>
</td></tr>
<tr><td><code id="delete_object_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>object</code> can be a single object key, an object of class &ldquo;s3_object&rdquo;, or a list of either.
</p>


<h3>Value</h3>

<p><code>TRUE</code> if successful, otherwise an object of class aws_error details if not.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectDELETE.html">API Documentation</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+put_object">put_object</a></code>
</p>

<hr>
<h2 id='delete_website'>Bucket Website configuration</h2><span id='topic+delete_website'></span><span id='topic+put_website'></span><span id='topic+get_website'></span>

<h3>Description</h3>

<p>Get/Put/Delete the website configuration for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_website(bucket, ...)

put_website(bucket, request_body, ...)

get_website(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="delete_website_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="delete_website_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="delete_website_+3A_request_body">request_body</code></td>
<td>
<p>A character string containing an XML request body, as defined in the specification in the <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTwebsite.html">API Documentation</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>put_website</code> and <code>get_website</code>, a list containing the website configuration, if one has been set.
For <code>delete_website</code>: <code>TRUE</code> if successful, <code>FALSE</code> otherwise.
An <code>aws_error</code> object may be returned if the request failed.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTwebsite.html">API Documentation: PUT website</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETwebsite.html">API Documentation: GET website</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETEwebsite.html">API Documentation: DELETE website</a>
</p>

<hr>
<h2 id='get_acceleration'>Bucket Acceleration</h2><span id='topic+get_acceleration'></span><span id='topic+put_acceleration'></span>

<h3>Description</h3>

<p>Get/Put acceleration settings or retrieve acceleration status of a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_acceleration(bucket, ...)

put_acceleration(bucket, status = c("Enabled", "Suspended"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_acceleration_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_acceleration_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_acceleration_+3A_status">status</code></td>
<td>
<p>Character string specifying whether acceleration should be &ldquo;Enabled&rdquo; or &ldquo;Suspended&rdquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Transfer acceleration is a AWS feature that enables potentially faster file transfers to and from S3, particularly when making cross-border transfers (such as from a European client location to the &lsquo;<span class="samp">&#8288;us-east-1&#8288;</span>&rsquo; S3 region). Acceleration must be enabled before it can be used. Once enabled, <code>accelerate = TRUE</code> can be passed to any aws.s3 function via <code><a href="#topic+s3HTTP">s3HTTP</a></code>. <code>get_acceleration</code> returns the acceleration status of a bucket; <code>put_acceleration</code> enables or suspends acceleration.
</p>


<h3>Value</h3>

<p>For <code>get_acceleration</code>: If acceleration has never been enabled or suspend, the value is <code>NULL</code>. Otherwise, the status is returned (either &ldquo;Enabled&rdquo; or &ldquo;Suspended&rdquo;). For <code>put_acceleration</code>: If acceleration has never been enabled or suspend, the value is <code>NULL</code>.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTaccelerate.html">API Documentation: PUT Bucket accelerate</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETaccelerate.html">API Documentation: GET Bucket accelerate</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
b &lt;- bucketlist()
get_acceleration(b[[1]])
put_acceleration(b[[1]], "Enabled")
get_acceleration(b[[1]])
put_acceleration(b[[1]], "Suspended")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_acl'>Get or put bucket/object ACLs</h2><span id='topic+get_acl'></span><span id='topic+put_acl'></span>

<h3>Description</h3>

<p>Access Control Lists (ACLs) control access to buckets and objects. These functions retrieve and modify ACLs for either objects or buckets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_acl(object, bucket, ...)

put_acl(object, bucket, acl = NULL, headers = list(), body = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_acl_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="get_acl_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_acl_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_acl_+3A_acl">acl</code></td>
<td>
<p>A character string indicating a <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">&ldquo;canned&rdquo; access control list</a>. By default all bucket contents and objects therein are given the ACL &ldquo;private&rdquo;. This can later be viewed using <code><a href="#topic+get_acl">get_acl</a></code> and modified using <code><a href="#topic+put_acl">put_acl</a></code>.</p>
</td></tr>
<tr><td><code id="get_acl_+3A_headers">headers</code></td>
<td>
<p>List of request headers for the REST call</p>
</td></tr>
<tr><td><code id="get_acl_+3A_body">body</code></td>
<td>
<p>A character string containing an XML-formatted ACL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_acl</code> retrieves an XML-formatted ACL for either an object (if specified) or a bucket (if specified).
</p>


<h3>Value</h3>

<p>For <code>get_acl</code> a character string containing an XML-formatted ACL. For <code>put_acl</code>: if successful, <code>TRUE</code>.
</p>


<h3>References</h3>

<p><a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGETacl.html">API Reference: GET Object ACL</a>
<a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPUTacl.html">API Reference: PUT Object ACL</a>
</p>

<hr>
<h2 id='get_bucket'>List bucket contents</h2><span id='topic+get_bucket'></span><span id='topic+get_bucket_df'></span>

<h3>Description</h3>

<p>List the contents of an S3 bucket as either a list or data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bucket(
  bucket,
  prefix = NULL,
  delimiter = NULL,
  max = NULL,
  marker = NULL,
  parse_response = TRUE,
  ...
)

get_bucket_df(
  bucket,
  prefix = NULL,
  delimiter = NULL,
  max = NULL,
  marker = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_bucket_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_bucket_+3A_prefix">prefix</code></td>
<td>
<p>Character string that limits the response to keys that begin with the specified prefix</p>
</td></tr>
<tr><td><code id="get_bucket_+3A_delimiter">delimiter</code></td>
<td>
<p>Character string used to group keys.  Read the AWS doc for more detail.</p>
</td></tr>
<tr><td><code id="get_bucket_+3A_max">max</code></td>
<td>
<p>Integer indicating the maximum number of keys to return. The function will recursively access the bucket in case <code>max &gt; 1000</code>. Use <code>max = Inf</code> to retrieve all objects.</p>
</td></tr>
<tr><td><code id="get_bucket_+3A_marker">marker</code></td>
<td>
<p>Character string that specifies the key to start with when listing objects in a bucket. Amazon S3 returns object keys in alphabetical order,  starting with key after the marker in order.</p>
</td></tr>
<tr><td><code id="get_bucket_+3A_parse_response">parse_response</code></td>
<td>
<p>logical, should we attempt to parse the response?</p>
</td></tr>
<tr><td><code id="get_bucket_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>From the AWS doc: &ldquo;This implementation of the GET operation returns some or all (up to 1000) of the objects in a bucket. You can use the request parameters as selection criteria to return a subset of the objects in a bucket.&rdquo; The <code>max</code> and <code>marker</code> arguments can be used to retrieve additional pages of results. Values from a call are store as attributes
</p>


<h3>Value</h3>

<p><code>get_bucket</code> returns a list of objects in the bucket (with class &ldquo;s3_bucket&rdquo;), while <code>get_bucket_df</code> returns a data frame (the only difference is the application of the <code>as.data.frame()</code> method to the list of bucket contents. If <code>max</code> is greater than 1000, multiple API requests are executed and the attributes attached to the response object reflect only the final request.
</p>


<h3>References</h3>

<p><a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGET.html">API Documentation</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bucketlist">bucketlist</a></code>, <code><a href="#topic+get_object">get_object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # basic usage
  b &lt;- bucketlist()
  get_bucket(b[1,1])
  get_bucket_df(b[1,1])

  # bucket names with dots
  ## this (default) should work:
  get_bucket("this.bucket.has.dots", url_style = "path")
  ## this probably wont:
  #get_bucket("this.bucket.has.dots", url_style = "virtual")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_bucket_policy'>Bucket policies</h2><span id='topic+get_bucket_policy'></span><span id='topic+put_bucket_policy'></span><span id='topic+delete_bucket_policy'></span>

<h3>Description</h3>

<p>Get/Put/Delete the bucket access policy for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bucket_policy(bucket, parse_response = TRUE, ...)

put_bucket_policy(bucket, policy, ...)

delete_bucket_policy(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_bucket_policy_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_bucket_policy_+3A_parse_response">parse_response</code></td>
<td>
<p>A logical indicating whether to return the response as is, or parse and return as a list. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get_bucket_policy_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_bucket_policy_+3A_policy">policy</code></td>
<td>
<p>A character string containing a bucket policy.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bucket policies regulate who has what access to a bucket and its contents. The <code>header</code> argument can beused to specify &ldquo;canned&rdquo; policies and <code><a href="#topic+put_bucket_policy">put_bucket_policy</a></code> can be used to specify a more complex policy. The <a href="https://awspolicygen.s3.amazonaws.com/policygen.html">AWS Policy Generator</a> can be useful for creating the appropriate JSON policy structure.
</p>


<h3>Value</h3>

<p>For <code>get_policy</code>: A character string containing the JSON representation of the policy, if one has been set. For <code>delete_policy</code> and <code>put_policy</code>: <code>TRUE</code> if successful, <code>FALSE</code> otherwise.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETpolicy.html">API Documentation</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETEpolicy.html">API Documentation</a>
<a href="https://awspolicygen.s3.amazonaws.com/policygen.html">AWS Policy Generator</a>
</p>

<hr>
<h2 id='get_bucketname'>Utility Functions</h2><span id='topic+get_bucketname'></span><span id='topic+get_bucketname.character'></span><span id='topic+get_bucketname.s3_bucket'></span><span id='topic+get_bucketname.s3_object'></span><span id='topic+get_objectkey'></span><span id='topic+get_objectkey.character'></span><span id='topic+get_objectkey.s3_object'></span>

<h3>Description</h3>

<p>Some utility functions for working with S3 objects and buckets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bucketname(x, ...)

## S3 method for class 'character'
get_bucketname(x, ...)

## S3 method for class 's3_bucket'
get_bucketname(x, ...)

## S3 method for class 's3_object'
get_bucketname(x, ...)

get_objectkey(x, ...)

## S3 method for class 'character'
get_objectkey(x, ...)

## S3 method for class 's3_object'
get_objectkey(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_bucketname_+3A_x">x</code></td>
<td>
<p>S3 object, s3:// URL or a string</p>
</td></tr>
<tr><td><code id="get_bucketname_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>get_bucketname</code> returns a character string with the name of the bucket.
</p>
<p><code>get_objectkey</code> returns a character string with S3 key which is the part excluding bucket name and leading slashes
</p>

<hr>
<h2 id='get_cors'>CORS</h2><span id='topic+get_cors'></span><span id='topic+put_cors'></span><span id='topic+delete_cors'></span>

<h3>Description</h3>

<p>Get/Put/Delete the cross origin resource sharing configuration information for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cors(bucket, ...)

put_cors(bucket, ...)

delete_cors(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cors_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_cors_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>get_cors</code>: A list with cors configuration and rules. For <code>delete_cors</code>: <code>TRUE</code> if successful, <code>FALSE</code> otherwise.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTcors.html">API Documentation: PUT cors</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETcors.html">API Documentation: GET cords</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETEcors.html">API Documentation: DELETE cors</a>
</p>

<hr>
<h2 id='get_encryption'>Bucket encryption</h2><span id='topic+get_encryption'></span><span id='topic+put_encryption'></span><span id='topic+delete_encryption'></span>

<h3>Description</h3>

<p>Get/Put/Delete bucket-level encryption settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_encryption(bucket, ...)

put_encryption(bucket, algorithm = c("AES256", "KMS"), kms_arn = NULL, ...)

delete_encryption(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_encryption_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_encryption_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_encryption_+3A_algorithm">algorithm</code></td>
<td>
<p>A character string specifying whether to use &ldquo;AES256&rdquo; or &ldquo;KMS&rdquo; encryption.</p>
</td></tr>
<tr><td><code id="get_encryption_+3A_kms_arn">kms_arn</code></td>
<td>
<p>If <code>algorithm = "KMS"</code>, a KMS ARN.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_encryption</code> returns the default encryption of a bucket; <code>put_encryption</code> sets the default encryption. <code>delete_encryption</code> deletes the encryption status.
</p>


<h3>Value</h3>

<p>For <code>get_encryption</code>: if encryption has never been set, the value is <code>NULL</code>. Otherwise, the encryption type is returned as a charater string. For <code>put_encryption</code> or <code>delete_encryption</code>: a logical <code>TRUE</code>
</p>


<h3>References</h3>

<p><a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTencryption.html">API Documentation</a>
<a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETencryption.html">API Documentation</a>
<a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETEencryption.html">API Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 # example bucket
 put_bucket("mybucket")

 # set and check encryption
 put_encryption("mybucket", "AES256")
 get_encryption("mybucket")

 # delete encryption
 delete_encryption("mybucket")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_lifecycle'>Lifecycle</h2><span id='topic+get_lifecycle'></span><span id='topic+put_lifecycle'></span><span id='topic+delete_lifecycle'></span>

<h3>Description</h3>

<p>Get/Put/Delete the lifecycle configuration information for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_lifecycle(bucket, ...)

put_lifecycle(bucket, request_body, ...)

delete_lifecycle(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_lifecycle_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_lifecycle_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_lifecycle_+3A_request_body">request_body</code></td>
<td>
<p>A character string containing an XML request body, as defined in the specification in the <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTlifecycle.html">API Documentation</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>get_lifecycle</code>: a list with lifecycle configuration, if it has been configured. For <code>delete_lifecycle</code>: <code>TRUE</code> if successful, <code>FALSE</code> otherwise.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTlifecycle.html">API Documentation: PUT lifecycle</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETlifecycle.html">API Documentation: GET lifecycle</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETElifecycle.html">API Documentation: DELETE lifecycle</a>
</p>

<hr>
<h2 id='get_location'>Bucket location</h2><span id='topic+get_location'></span>

<h3>Description</h3>

<p>Get the AWS region location of bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_location(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_location_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_location_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing the region, if one has been set.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETlocation.html">API Documentation</a>
</p>

<hr>
<h2 id='get_notification'>Notifications</h2><span id='topic+get_notification'></span><span id='topic+put_notification'></span>

<h3>Description</h3>

<p>Get/put the notification configuration for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_notification(bucket, ...)

put_notification(bucket, request_body, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_notification_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_notification_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_notification_+3A_request_body">request_body</code></td>
<td>
<p>A character string containing an XML request body, as defined in the specification in the <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTnotification.html">API Documentation</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the notification configuration, if one has been set.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETnotification.html">API Documentation: GET</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTnotification.html">API Documentation: PUT</a>
</p>

<hr>
<h2 id='get_object'>Get object</h2><span id='topic+get_object'></span><span id='topic+save_object'></span><span id='topic+select_object'></span><span id='topic+s3connection'></span>

<h3>Description</h3>

<p>Retrieve an object from an S3 bucket. To check if an object exists, see <code><a href="#topic+head_object">head_object</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_object(
  object,
  bucket,
  headers = list(),
  parse_response = FALSE,
  as = "raw",
  ...
)

save_object(
  object,
  bucket,
  file = basename(object),
  headers = list(),
  overwrite = TRUE,
  ...
)

select_object(
  object,
  bucket,
  request_body,
  headers = list(),
  parse_response = FALSE,
  ...
)

s3connection(object, bucket, headers = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_object_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="get_object_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_object_+3A_headers">headers</code></td>
<td>
<p>List of request headers for the REST call.</p>
</td></tr>
<tr><td><code id="get_object_+3A_parse_response">parse_response</code></td>
<td>
<p>Passed through to <code><a href="#topic+s3HTTP">s3HTTP</a></code>, as this function requires a non-default setting. There is probably no reason to ever change this.</p>
</td></tr>
<tr><td><code id="get_object_+3A_as">as</code></td>
<td>
<p>Passed through to <code>httr::content</code>.</p>
</td></tr>
<tr><td><code id="get_object_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_object_+3A_file">file</code></td>
<td>
<p>An R connection, or file name specifying the local file to save the object into.</p>
</td></tr>
<tr><td><code id="get_object_+3A_overwrite">overwrite</code></td>
<td>
<p>A logical indicating whether to overwrite <code>file</code>. Passed to <code><a href="httr.html#topic+write_disk">write_disk</a></code>. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_object_+3A_request_body">request_body</code></td>
<td>
<p>For <code>select_object</code>, an XML request body as described in the <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectSELECTContent.html">SELECT API documentation</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_object</code> retrieves an object into memory as a raw vector. This page describes <code>get_object</code> and several wrappers that provide additional useful functionality.
</p>
<p><code>save_object</code> saves an object to a local file without bringing it into memory.
</p>
<p><code>s3connection</code> provides a <code><a href="base.html#topic+connection">connection</a></code> interface to an S3 object.
</p>
<p><code>select_object</code> uses the <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectSELECTContent.html">SELECT API</a> to select part of a CSV or JSON object. This requires constructing and passing a fairly tedious request body, which users will have to construct themselves according to the documentation.
</p>
<p>Some users may find the raw vector response format of <code>get_object</code> unfamiliar. The object will also carry attributes, including &ldquo;content-type&rdquo;, which may be useful for deciding how to subsequently process the vector. Two common strategies are as follows. For text content types, running <code><a href="base.html#topic+charToRaw">charToRaw</a></code> may be the most useful first step to make the response human-readable. Alternatively, converting the raw vector into a connection using <code><a href="base.html#topic+rawConnection">rawConnection</a></code> may also be useful, as that can often then be passed to parsing functions just like a file connection would be.
</p>
<p>Higher-level functions
</p>


<h3>Value</h3>

<p>If <code>file = NULL</code>, a raw object. Otherwise, a character string containing the file name that the object is saved to.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html">API Documentation: GET Object</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html">API Documentation: GET Object torrent</a>
<a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectSELECTContent.html">API Documentation: SELECT Object</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_bucket">get_bucket</a></code>, <code><a href="#topic+object_exists">object_exists</a></code>, <code><a href="#topic+head_object">head_object</a></code>, <code><a href="#topic+put_object">put_object</a></code>, <code><a href="#topic+delete_object">delete_object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # get an object in memory
  ## create bucket
  b &lt;- put_bucket("myexamplebucket")
  
  ## save a dataset to the bucket
  s3save(mtcars, bucket = b, object = "mtcars")
  obj &lt;- get_bucket(b)
  ## get the object in memory
  x &lt;- get_object(obj[[1]])
  load(rawConnection(x))
  "mtcars" %in% ls()

  # save an object locally
  y &lt;- save_object(obj[[1]], file = object[[1]][["Key"]])
  y %in% dir()

  # return object using 'S3 URI' syntax, with progress bar
  get_object("s3://myexamplebucket/mtcars", show_progress = TRUE)

  # return parts of an object
  ## use 'Range' header to specify bytes
  get_object(object = obj[[1]], headers = list('Range' = 'bytes=1-120'))
 
  # example of streaming connection
  ## setup a bucket and object
  b &lt;- put_bucket("myexamplebucket")
  s3write_using(mtcars, bucket = b, object = "mtcars.csv", FUN = utils::write.csv)
  
  ## setup the connection
  con &lt;- s3connection("mtcars.csv", bucket = b)
  
  ## line-by-line read
  while(length(x &lt;- readLines(con, n = 1L))) {
    print(x)
  }

  ## use data.table::fread without saving object to file
  library(data.table)
  s3write_using(as.data.table(mtcars), bucket = b, object = "mtcars2.csv", FUN = data.table::fwrite)
  fread(get_object("mtcars2.csv", bucket = b, as = "text"))

  ## cleanup
  close(con)
  delete_bucket("myexamplebucket")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_replication'>Bucket replication</h2><span id='topic+get_replication'></span><span id='topic+put_replication'></span><span id='topic+delete_replication'></span>

<h3>Description</h3>

<p>Get/Delete the replication configuration for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_replication(bucket, ...)

put_replication(bucket, request_body, ...)

delete_replication(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_replication_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_replication_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_replication_+3A_request_body">request_body</code></td>
<td>
<p>A character string containing an XML request body, as defined in the specification in the <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTreplication.html">API Documentation</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_replication</code> gets the current replication policy. <code>delete_replication</code> deletes the replication policy for a bucket.
</p>


<h3>Value</h3>

<p>For <code>get_replication</code>: A list containing the replication configuration, if one has been set. For <code>delete_replication</code>: <code>TRUE</code> if successful, <code>FALSE</code> otherwise.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTreplication.html">API Documentation: PUT replication</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETreplication.html">API Documentation: GET replication</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETEreplication.html">API Documentation: DELETE replication</a>
</p>

<hr>
<h2 id='get_requestpayment'>requestPayment</h2><span id='topic+get_requestpayment'></span><span id='topic+put_requestpayment'></span>

<h3>Description</h3>

<p>Get/Put the requestPayment subresource for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_requestpayment(bucket, ...)

put_requestpayment(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_requestpayment_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_requestpayment_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the requestPayment information, if set.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTrequestPaymentGET.html">API Documentation</a>
</p>

<hr>
<h2 id='get_tagging'>Bucket tagging</h2><span id='topic+get_tagging'></span><span id='topic+put_tagging'></span><span id='topic+delete_tagging'></span>

<h3>Description</h3>

<p>Get/delete the tag set for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_tagging(bucket, ...)

put_tagging(bucket, tags = list(), ...)

delete_tagging(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_tagging_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_tagging_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_tagging_+3A_tags">tags</code></td>
<td>
<p>A list containing key-value pairs of tag names and values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the tag set, if one has been set. For <code>delete_tagging</code>: <code>TRUE</code> if successful, <code>FALSE</code> otherwise.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTtagging.html">API Documentation: PUT tagging</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETtagging.html">API Documentation: GET tagging</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketDELETEtagging.html">API Documentation: DELETE tagging</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 put_tagging("mybucket", tags = list(foo = "1", bar = "2"))
 get_tagging("mybucket")
 delete_tagging("mybucket")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_torrent'>Get object torrent</h2><span id='topic+get_torrent'></span>

<h3>Description</h3>

<p>Retrieves a Bencoded dictionary (BitTorrent) for an object from an S3 bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_torrent(object, bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_torrent_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="get_torrent_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_torrent_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Something.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGETtorrent.html">API Documentation</a>
</p>

<hr>
<h2 id='get_uploads'>Multipart uploads</h2><span id='topic+get_uploads'></span>

<h3>Description</h3>

<p>Get a list of multipart uploads for a bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_uploads(bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_uploads_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_uploads_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the multipart upload information.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/mpUploadListMPUpload.html">API Documentation</a>
</p>

<hr>
<h2 id='get_versions'>Bucket versions</h2><span id='topic+get_versions'></span><span id='topic+get_versioning'></span><span id='topic+put_versioning'></span>

<h3>Description</h3>

<p>Get/Put versioning settings or retrieve versions of bucket objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_versions(bucket, ...)

get_versioning(bucket, ...)

put_versioning(bucket, status = c("Enabled", "Suspended"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_versions_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="get_versions_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="get_versions_+3A_status">status</code></td>
<td>
<p>Character string specifying whether versioning should be &ldquo;Enabled&rdquo; or &ldquo;Suspended&rdquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_versioning</code> returns the versioning status of a bucket; <code>put_versioning</code> sets the versioning status. <code>get_versions</code> returns information about bucket versions.
</p>


<h3>Value</h3>

<p>For <code>get_versioning</code>: If versioning has never been enabled or suspend, the value is <code>NULL</code>. Otherwise, the status is returned (either &ldquo;Enabled&rdquo; or &ldquo;Suspended&rdquo;). For <code>put_versioning</code>: If versioning has never been enabled or suspend, the value is <code>NULL</code>. Otherwise, the status is returned (either &ldquo;Enabled&rdquo; or &ldquo;Suspended&rdquo;).
For <code>get_versions</code>: A list.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETVersion.html">API Documentation</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETversioningStatus.html">API Documentation</a>
<a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTVersioningStatus.html">API Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 put_versioning("mybucket")
 get_versioning("mybucket")
 get_versions("mybucket")

## End(Not run)

</code></pre>

<hr>
<h2 id='getobject'>Deprecated</h2><span id='topic+getobject'></span><span id='topic+saveobject'></span><span id='topic+headobject'></span><span id='topic+copyobject'></span><span id='topic+copybucket'></span><span id='topic+putbucket'></span><span id='topic+putobject'></span><span id='topic+deleteobject'></span><span id='topic+getbucket'></span><span id='topic+deletebucket'></span><span id='topic+bucketexists'></span>

<h3>Description</h3>

<p>These functions are deprecated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getobject(...)

saveobject(...)

headobject(...)

copyobject(...)

copybucket(...)

putbucket(...)

putobject(...)

deleteobject(...)

getbucket(...)

deletebucket(...)

bucketexists(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getobject_+3A_...">...</code></td>
<td>
<p>Arguments passed to updated versions of each function.</p>
</td></tr>
</table>

<hr>
<h2 id='head_object'>Get object metadata</h2><span id='topic+head_object'></span><span id='topic+object_exists'></span><span id='topic+object_size'></span>

<h3>Description</h3>

<p>Check if an object from an S3 bucket exists. To retrieve the object, see <code><a href="#topic+get_object">get_object</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>head_object(object, bucket, ...)

object_exists(object, bucket, ...)

object_size(object, bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="head_object_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="head_object_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="head_object_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>head_object</code> is a low-level API wrapper that checks whether an object exists by executing an HTTP HEAD request; this can be useful for checking object headers such as &ldquo;content-length&rdquo; or &ldquo;content-type&rdquo;. <code>object_exists</code> is sugar that returns only the logical.
</p>
<p><code>object_size</code> returns the size of the object (from the &ldquo;content-length&rdquo; attribute returned by <code>head_object</code>).
</p>


<h3>Value</h3>

<p><code>head_object</code> returns a logical. <code>object_exists</code> returns <code>TRUE</code> if bucket exists and is accessible, else <code>FALSE</code>. <code>object_size</code> returns an integer, which is <code>NA</code> if the request fails.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html">API Documentation: HEAD Object</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bucket_exists">bucket_exists</a></code>, <code><a href="#topic+get_object">get_object</a></code>, <code><a href="#topic+put_object">put_object</a></code>, <code><a href="#topic+delete_object">delete_object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # get an object in memory
  ## create bucket
  b &lt;- put_bucket("myexamplebucket")
  
  ## save a dataset to the bucket
  s3save(mtcars, bucket = b, object = "mtcars")
  
  # check that object exists
  object_exists("mtcars", "myexamplebucket")
  object_exists("s3://myexamplebucket/mtcars")
  
  # get the object's size
  object_size("s3://myexamplebucket/mtcars")
  
  # get the object
  get_object("s3://myexamplebucket/mtcars")

## End(Not run)
</code></pre>

<hr>
<h2 id='put_bucket'>Create bucket</h2><span id='topic+put_bucket'></span>

<h3>Description</h3>

<p>Creates a new S3 bucket.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>put_bucket(
  bucket,
  region = Sys.getenv("AWS_DEFAULT_REGION"),
  acl = c("private", "public-read", "public-read-write", "aws-exec-read",
    "authenticated-read", "bucket-owner-read", "bucket-owner-full-control"),
  location_constraint = region,
  headers = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="put_bucket_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="put_bucket_+3A_region">region</code></td>
<td>
<p>A character string containing the AWS region. If missing, defaults to value of environment variable <span class="env">AWS_DEFAULT_REGION</span>.</p>
</td></tr>
<tr><td><code id="put_bucket_+3A_acl">acl</code></td>
<td>
<p>A character string indicating a <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">&ldquo;canned&rdquo; access control list</a>. By default all bucket contents and objects therein are given the ACL &ldquo;private&rdquo;. This can later be viewed using <code><a href="#topic+get_acl">get_acl</a></code> and modified using <code><a href="#topic+put_acl">put_acl</a></code>.</p>
</td></tr>
<tr><td><code id="put_bucket_+3A_location_constraint">location_constraint</code></td>
<td>
<p>A character string specifying a location constraint. If <code>NULL</code> (for example, for S3-compatible storage), no LocationConstraint body is passed.</p>
</td></tr>
<tr><td><code id="put_bucket_+3A_headers">headers</code></td>
<td>
<p>List of request headers for the REST call.</p>
</td></tr>
<tr><td><code id="put_bucket_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bucket policies regulate who has what access to a bucket and its contents. The <code>header</code> argument can beused to specify &ldquo;canned&rdquo; policies and <code><a href="#topic+put_bucket_policy">put_bucket_policy</a></code> can be used to specify a more complex policy. The <a href="https://awspolicygen.s3.amazonaws.com/policygen.html">AWS Policy Generator</a> can be useful for creating the appropriate JSON policy structure.
</p>


<h3>Value</h3>

<p><code>TRUE</code> if successful.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUT.html">API Documentation</a>
<a href="https://awspolicygen.s3.amazonaws.com/policygen.html">AWS Policy Generator</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bucketlist">bucketlist</a></code>, <code><a href="#topic+get_bucket">get_bucket</a></code>, <code><a href="#topic+delete_bucket">delete_bucket</a></code>, <code><a href="#topic+put_object">put_object</a></code>, <code><a href="#topic+put_encryption">put_encryption</a></code>, <code><a href="#topic+put_versioning">put_versioning</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  put_bucket("examplebucket")
  
  # set a "canned" ACL to, e.g., make bucket publicly readable
  put_bucket("examplebucket", headers = list(`x-amz-acl` = "public-read")


## End(Not run)
</code></pre>

<hr>
<h2 id='put_object'>Put object</h2><span id='topic+put_object'></span><span id='topic+put_folder'></span>

<h3>Description</h3>

<p>Puts an object into an S3 bucket
</p>


<h3>Usage</h3>

<pre><code class='language-R'>put_object(
  file,
  object,
  bucket,
  multipart = FALSE,
  acl = NULL,
  headers = list(),
  verbose = getOption("verbose", FALSE),
  show_progress = getOption("verbose", FALSE),
  ...
)

put_folder(folder, bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="put_object_+3A_file">file</code></td>
<td>
<p>A character string containing the filename (or full path) of the file you want to upload to S3. Alternatively, an raw vector containing the file can be passed directly, in which case <code>object</code> needs to be specified explicitly.</p>
</td></tr>
<tr><td><code id="put_object_+3A_object">object</code></td>
<td>
<p>A character string containing the name the object should have in S3 (i.e., its &quot;object key&quot;). If missing, the filename is used.</p>
</td></tr>
<tr><td><code id="put_object_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="put_object_+3A_multipart">multipart</code></td>
<td>
<p>A logical indicating whether to use multipart uploads. See <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html</a>. If <code>file</code> is less than 100 MB, this is ignored.</p>
</td></tr>
<tr><td><code id="put_object_+3A_acl">acl</code></td>
<td>
<p>A character string indicating a <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">&ldquo;canned&rdquo; access control list</a>. By default all bucket contents and objects therein are given the ACL &ldquo;private&rdquo;. This can later be viewed using <code><a href="#topic+get_acl">get_acl</a></code> and modified using <code><a href="#topic+put_acl">put_acl</a></code>.</p>
</td></tr>
<tr><td><code id="put_object_+3A_headers">headers</code></td>
<td>
<p>List of request headers for the REST call. If <code>multipart = TRUE</code>, this only applies to the initialization call.</p>
</td></tr>
<tr><td><code id="put_object_+3A_verbose">verbose</code></td>
<td>
<p>A logical indicating whether to be verbose. Default is given by <code>options("verbose")</code>.</p>
</td></tr>
<tr><td><code id="put_object_+3A_show_progress">show_progress</code></td>
<td>
<p>A logical indicating whether to show a progress bar for uploads. Default is given by <code>options("verbose")</code>.</p>
</td></tr>
<tr><td><code id="put_object_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="put_object_+3A_folder">folder</code></td>
<td>
<p>A character string containing a folder name. (A trailing slash is not required.)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This provide a generic interface for sending files (or serialized, in-memory representations thereof) to S3. Some convenience wrappers are provided for common tasks: e.g., <code><a href="#topic+s3save">s3save</a></code> and <code><a href="#topic+s3saveRDS">s3saveRDS</a></code>.
</p>
<p>Note that S3 is a flat file store. So there is no folder hierarchy as in a traditional hard drive. However, S3 allows users to create pseudo-folders by prepending object keys with <code>foldername/</code>. The <code>put_folder</code> function is provided as a high-level convenience function for creating folders. This is not actually necessary as objects with slashes in their key will be displayed in the S3 web console as if they were in folders, but it may be useful for creating an empty directory (which is possible in the web console).
</p>


<h3>Value</h3>

<p>If successful, <code>TRUE</code>.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPUT.html">API Documentation</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+put_bucket">put_bucket</a></code>, <code><a href="#topic+get_object">get_object</a></code>, <code><a href="#topic+delete_object">delete_object</a></code>, <code><a href="#topic+put_encryption">put_encryption</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  library("datasets")
  
  # write file to S3
  tmp &lt;- tempfile()
  on.exit(unlink(tmp))
  utils::write.csv(mtcars, file = tmp)
  # put object with an upload progress bar
  put_object(tmp, object = "mtcars.csv", bucket = "myexamplebucket", show_progress = TRUE)

  # create a "folder" in a bucket
  put_folder("example", bucket = "myexamplebucket")
  ## write object to the "folder"
  put_object(tmp, object = "example/mtcars.csv", bucket = "myexamplebucket")

  # write serialized, in-memory object to S3
  x &lt;- rawConnection(raw(0), "w")
  utils::write.csv(mtcars, x)
  put_object(rawConnectionValue(x), object = "mtcars.csv", bucket = "myexamplebucketname")

  # use `headers` for server-side encryption
  ## require appropriate bucket policy
  ## encryption can also be set at the bucket-level using \code{\link{put_encryption}}
  put_object(file = tmp, object = "mtcars.csv", bucket = "myexamplebucket",
             headers = c('x-amz-server-side-encryption' = 'AES256'))

  # alternative "S3 URI" syntax:
  put_object(rawConnectionValue(x), object = "s3://myexamplebucketname/mtcars.csv")
  close(x)

  # read the object back from S3
  read.csv(text = rawToChar(get_object(object = "s3://myexamplebucketname/mtcars.csv")))

  # multi-part uploads for objects over 5MB
  \donttest{
  x &lt;- rnorm(3e6)
  saveRDS(x, tmp)
  put_object(tmp, object = "rnorm.rds", bucket = "myexamplebucket",
             show_progress = TRUE, multipart = TRUE)
  identical(x, s3readRDS("s3://myexamplebucket/rnorm.rds"))
  }

## End(Not run)
</code></pre>

<hr>
<h2 id='s3HTTP'>S3 HTTP Requests</h2><span id='topic+s3HTTP'></span>

<h3>Description</h3>

<p>This is the workhorse function for executing API requests for S3.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s3HTTP(
  verb = "GET",
  bucket = "",
  path = "",
  query = NULL,
  headers = list(),
  request_body = "",
  write_disk = NULL,
  write_fn = NULL,
  accelerate = FALSE,
  dualstack = FALSE,
  parse_response = TRUE,
  check_region = FALSE,
  url_style = c("path", "virtual"),
  base_url = Sys.getenv("AWS_S3_ENDPOINT", "s3.amazonaws.com"),
  verbose = getOption("verbose", FALSE),
  show_progress = getOption("verbose", FALSE),
  region = NULL,
  key = NULL,
  secret = NULL,
  session_token = NULL,
  use_https = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s3HTTP_+3A_verb">verb</code></td>
<td>
<p>A character string containing an HTTP verb, defaulting to &ldquo;GET&rdquo;.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_bucket">bucket</code></td>
<td>
<p>A character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;. If the latter and a region can be inferred from the bucket object attributes, then that region is used instead of <code>region</code>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_path">path</code></td>
<td>
<p>A character string with the name of the object to put in the bucket (sometimes called the object or 'key name' in the AWS documentation.)</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_query">query</code></td>
<td>
<p>Any query arguments, passed as a named list of key-value pairs.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_headers">headers</code></td>
<td>
<p>A list of request headers for the REST call.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_request_body">request_body</code></td>
<td>
<p>A character string containing request body data.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_write_disk">write_disk</code></td>
<td>
<p>If <code>verb = "GET"</code>, this is, optionally, an argument like <code><a href="httr.html#topic+write_disk">write_disk</a></code> to write the result directly to disk.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_write_fn">write_fn</code></td>
<td>
<p>If set to a function and <code>verb = "GET"</code> is used then the output is passed in chunks as a raw vector in the first argument to this function, allowing streaming output. Note that <code>write_disk</code> and <code>write_fn</code> are mutually exclusive.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_accelerate">accelerate</code></td>
<td>
<p>A logical indicating whether to use AWS transfer acceleration, which can produce significant speed improvements for cross-country transfers. Acceleration only works with buckets that do not have dots in bucket name.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_dualstack">dualstack</code></td>
<td>
<p>A logical indicating whether to use &ldquo;dual stack&rdquo; requests, which can resolve to either IPv4 or IPv6. See <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/dual-stack-endpoints.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/dual-stack-endpoints.html</a>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_parse_response">parse_response</code></td>
<td>
<p>A logical indicating whether to return the response as is, or parse and return as a list. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_check_region">check_region</code></td>
<td>
<p>A logical indicating whether to check the value of <code>region</code> against the apparent bucket region. This is useful for avoiding (often confusing) out-of-region errors. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_url_style">url_style</code></td>
<td>
<p>A character string specifying either &ldquo;path&rdquo; (the default), or &ldquo;virtual&rdquo;-style S3 URLs.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_base_url">base_url</code></td>
<td>
<p>A character string specifying the base hostname for the request (it is a misnomer, the actual URL is constructed from this name, region and <code>use_https</code> flag. There is no need to set this, as it is provided only to generalize the package to (potentially) support S3-compatible storage on non-AWS servers. The easiest way to use S3-compatible storage is to set the <span class="env">AWS_S3_ENDPOINT</span> environment variable. When using non-AWS servers, you may also want to set <code>region=""</code>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_verbose">verbose</code></td>
<td>
<p>A logical indicating whether to be verbose. Default is given by <code>options("verbose")</code>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_show_progress">show_progress</code></td>
<td>
<p>A logical indicating whether to show a progress bar for downloads and uploads. Default is given by <code>options("verbose")</code>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_region">region</code></td>
<td>
<p>A character string containing the AWS region. Ignored if region can be inferred from <code>bucket</code>. If missing, an attempt is made to locate it from credentials. Defaults to &ldquo;us-east-1&rdquo; if all else fails. Should be set to <code>""</code> when using non-AWS endpoints that don't include regions (and <code>base_url</code> must be set).</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_key">key</code></td>
<td>
<p>A character string containing an AWS Access Key ID. If missing, defaults to value stored in environment variable <span class="env">AWS_ACCESS_KEY_ID</span>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_secret">secret</code></td>
<td>
<p>A character string containing an AWS Secret Access Key. If missing, defaults to value stored in environment variable <span class="env">AWS_SECRET_ACCESS_KEY</span>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_session_token">session_token</code></td>
<td>
<p>Optionally, a character string containing an AWS temporary Session Token. If missing, defaults to value stored in environment variable <span class="env">AWS_SESSION_TOKEN</span>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_use_https">use_https</code></td>
<td>
<p>Optionally, a logical indicating whether to use HTTPS requests. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="s3HTTP_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to an HTTP request function. such as <code><a href="httr.html#topic+GET">GET</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is mostly an internal function for executing API requests. In almost all cases, users do not need to access this directly.
</p>


<h3>Value</h3>

<p>the S3 response, or the relevant error.
</p>

<hr>
<h2 id='s3save'>save/load</h2><span id='topic+s3save'></span><span id='topic+s3save_image'></span><span id='topic+s3load'></span>

<h3>Description</h3>

<p>Save/load R object(s) to/from S3
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s3save(..., object, bucket, envir = parent.frame(), opts = NULL)

s3save_image(object, bucket, opts = NULL)

s3load(object, bucket, envir = parent.frame(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s3save_+3A_...">...</code></td>
<td>
<p>For <code>s3save</code>, one or more R objects to be saved via <code><a href="base.html#topic+save">save</a></code> and uploaded to S3. For <code>s3load</code>, see <code>opts</code>.</p>
</td></tr>
<tr><td><code id="s3save_+3A_object">object</code></td>
<td>
<p>For <code>s3save</code>, a character string of the name of the object you want to save to. For <code>s3load</code>, a character string of the name of the object you want to load from S3.</p>
</td></tr>
<tr><td><code id="s3save_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="s3save_+3A_envir">envir</code></td>
<td>
<p>For <code>s3save</code>, an R environment to save objects from; for <code>s3load</code>, the environment to load objects into. Default is the <code>parent.frame()</code> from which the function is called.</p>
</td></tr>
<tr><td><code id="s3save_+3A_opts">opts</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>s3save</code>, a logical, invisibly. For <code>s3load</code>, <code>NULL</code> invisibly.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html">API Documentation</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+s3saveRDS">s3saveRDS</a></code>,<code><a href="#topic+s3readRDS">s3readRDS</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create bucket
b &lt;- put_bucket("myexamplebucket")

# save a dataset to the bucket
s3save(mtcars, iris, object = "somedata.Rdata", bucket = b)
get_bucket(b)

# load the data from bucket
e &lt;- new.env()
s3load(object = "somedata.Rdata", bucket = b, envir = e)
ls(e)

# cleanup
rm(e)
delete_object(object = "somedata.Rdata", bucket = "myexamplebucket")
delete_bucket("myexamplebucket")

## End(Not run)
</code></pre>

<hr>
<h2 id='s3saveRDS'>saveRDS/readRDS</h2><span id='topic+s3saveRDS'></span><span id='topic+s3readRDS'></span>

<h3>Description</h3>

<p>Serialization interface to read/write R objects to S3
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s3saveRDS(
  x,
  object = paste0(as.character(substitute(x)), ".rds"),
  bucket,
  compress = TRUE,
  ...
)

s3readRDS(object, bucket, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s3saveRDS_+3A_x">x</code></td>
<td>
<p>For <code>s3saveRDS</code>, a single R object to be saved via <code><a href="base.html#topic+saveRDS">saveRDS</a></code> and uploaded to S3. <code>x</code> is analogous to the <code>object</code> argument in <code>saveRDS</code>.</p>
</td></tr>
<tr><td><code id="s3saveRDS_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="s3saveRDS_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="s3saveRDS_+3A_compress">compress</code></td>
<td>
<p>A logical. See <code><a href="base.html#topic+saveRDS">saveRDS</a></code>.</p>
</td></tr>
<tr><td><code id="s3saveRDS_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that early versions of <code>s3saveRDS</code> from aws.s3 &lt;= 0.2.4 unintentionally serialized objects to big endian format (due to defaults in <code><a href="base.html#topic+serialize">serialize</a></code>. This can create problems when attempting to read these files using <code><a href="base.html#topic+readRDS">readRDS</a></code>. The function attempts to catch the issue and read accordingly, but may fail. The solution used internally is <code>unserialize(memDecompress(get_object(), "gzip"))</code>
</p>


<h3>Value</h3>

<p>For <code>s3saveRDS</code>, a logical. For <code>s3readRDS</code>, an R object.
</p>


<h3>Author(s)</h3>

<p>Steven Akins &lt;skawesome@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+s3save">s3save</a></code>,<code><a href="#topic+s3load">s3load</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create bucket
b &lt;- put_bucket("myexamplebucket")

# save a single object to s3
s3saveRDS(x = mtcars, bucket = "myexamplebucket", object = "mtcars.rds")

# restore it under a different name
mtcars2 &lt;- s3readRDS(object = "mtcars.rds", bucket = "myexamplebucket")
identical(mtcars, mtcars2)

# cleanup
delete_object(object = "mtcars.rds", bucket = "myexamplebucket")
delete_bucket("myexamplebucket")

## End(Not run)
</code></pre>

<hr>
<h2 id='s3source'>Source from S3</h2><span id='topic+s3source'></span>

<h3>Description</h3>

<p>Source R code (a la <code><a href="base.html#topic+source">source</a></code>) from S3
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s3source(object, bucket, ..., opts = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s3source_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="s3source_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="s3source_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
<tr><td><code id="s3source_+3A_opts">opts</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+get_object">get_object</a></code> for retrieving the R syntax file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>See <code><a href="base.html#topic+source">source</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+s3saveRDS">s3saveRDS</a></code>,<code><a href="#topic+s3save">s3save</a></code>, <code><a href="#topic+get_object">get_object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create bucket
b &lt;- put_bucket("myexamplebucket")

# save some code to the bucket
cat("x &lt;- 'hello world!'\nx", file = "example.R")
put_object("example.R", object = "example.R", bucket = b)
get_bucket(b)

# source the code from the bucket
s3source(object = "example.R", bucket = b, echo = TRUE)

# cleanup
unlink("example.R")
delete_object(object = "example.R", bucket = b)
delete_bucket("myexamplebucket")

## End(Not run)
</code></pre>

<hr>
<h2 id='s3sync'>S3 file sync</h2><span id='topic+s3sync'></span>

<h3>Description</h3>

<p>Sync files/directories to/from S3
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s3sync(
  path = ".",
  bucket,
  prefix = "",
  direction = c("upload", "download"),
  verbose = TRUE,
  create = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s3sync_+3A_path">path</code></td>
<td>
<p>string, path to the directory to synchronize, it will be expanded as needed (NOTE: older versions had a <code>files</code> argument which expected a full list of files which was ambiguous).</p>
</td></tr>
<tr><td><code id="s3sync_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="s3sync_+3A_prefix">prefix</code></td>
<td>
<p>string, if set to non-empty string, leading part of the objects in the bucket much have that prefix, other objects are not considered. In practice, this alows the immitation of sub-directories in the bucket and in that case it is typically required that the training slash is included in the prefix.</p>
</td></tr>
<tr><td><code id="s3sync_+3A_direction">direction</code></td>
<td>
<p>A character vector specifying whether to &ldquo;upload&rdquo; and/or &ldquo;download&rdquo; files. By default, <code>s3sync</code> is two-way, uploading any files missing from the bucket and downloading any objects missing from the local directory.</p>
</td></tr>
<tr><td><code id="s3sync_+3A_verbose">verbose</code></td>
<td>
<p>A logical indicating whether to be verbose (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="s3sync_+3A_create">create</code></td>
<td>
<p>logical, if <code>TRUE</code> the bucket is created if it doesn't exist, otherwise synchronizing a non-existing bucket is an error.</p>
</td></tr>
<tr><td><code id="s3sync_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+s3HTTP">s3HTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>s3sync</code> synchronizes specified files to an S3 bucket.
If the bucket does not exist, it is created (unless <code>create=FALSE</code>). Similarly, if local directories do not exist (corresponding to leading portions of object keys), they are created, recursively. Object keys are generated based on <code>files</code> and local files are named (and organized into directories) based on object keys. A slash is interpreted as a directory level.
Local objects are copied to S3 and S3 objects are copied locally. This copying is performed conditionally. Objects existing locally but not in S3 are uploaded using <code><a href="#topic+put_object">put_object</a></code>. Objects existing in S3 but not locally, are saved using <code><a href="#topic+save_object">save_object</a></code>. If objects exist in both places, the MD5 checksum for each is compared; when identical, no copying is performed. If the checksums differ, local files are replaced with the bucket version if the local file is older and the S3 object is replaced if the local file is newer. If checksums differ but modified times match (which seems unlikely), a warning is issued. Note that multi-part files don't have a full MD5 sum recorded in S3 so they cannot be compared and thus are always assumed to be different.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>References</h3>

<p><a href="http://docs.aws.amazon.com/cli/latest/reference/s3/sync.html">aws s3 sync command line</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_bucket">get_bucket</a></code>, <code><a href="#topic+put_object">put_object</a></code>, , <code><a href="#topic+save_object">save_object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  put_bucket("examplebucket")

  # sync all files in current directory to bucket (upload-only)
  s3sync(bucket = "examplebucket", direction = "upload")

  # two-way sync
  s3sync(bucket = "examplebucket")

  # full sync between a subset of the bucket and a test directory in user's home
  # corresponding roughly to:
  #   aws s3 sync ~/test s3://examplebucket/test/
  #   aws s3 sync s3://examplebucket/test/ ~/test
  s3sync("~/test", "examplebucket", prefix="test/", region="us-east-2")

## End(Not run)

</code></pre>

<hr>
<h2 id='s3write_using'>Custom read and write</h2><span id='topic+s3write_using'></span><span id='topic+s3read_using'></span>

<h3>Description</h3>

<p>Read/write objects from/to S3 using a custom function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s3write_using(x, FUN, ..., object, bucket, opts = NULL)

s3read_using(FUN, ..., object, bucket, opts = NULL, filename = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s3write_using_+3A_x">x</code></td>
<td>
<p>For <code>s3write_using</code>, a single R object to be saved via the first argument to <code>FUN</code> and uploaded to S3.</p>
</td></tr>
<tr><td><code id="s3write_using_+3A_fun">FUN</code></td>
<td>
<p>For <code>s3write_using</code>, a function to which <code>x</code> and a file path will be passed (in that order).</p>
</td></tr>
<tr><td><code id="s3write_using_+3A_...">...</code></td>
<td>
<p>Additional arguments to <code>FUN</code></p>
</td></tr>
<tr><td><code id="s3write_using_+3A_object">object</code></td>
<td>
<p>Character string with the object key, or an object of class &ldquo;s3_object&rdquo;. In most cases, if <code>object</code> is specified as the latter, <code>bucket</code> can be omitted because the bucket name will be extracted from &ldquo;Bucket&rdquo; slot in <code>object</code>.</p>
</td></tr>
<tr><td><code id="s3write_using_+3A_bucket">bucket</code></td>
<td>
<p>Character string with the name of the bucket, or an object of class &ldquo;s3_bucket&rdquo;.</p>
</td></tr>
<tr><td><code id="s3write_using_+3A_opts">opts</code></td>
<td>
<p>Optional additional arguments passed to <code><a href="#topic+put_object">put_object</a></code> or <code><a href="#topic+save_object">save_object</a></code>, respectively.</p>
</td></tr>
<tr><td><code id="s3write_using_+3A_filename">filename</code></td>
<td>
<p>Optional string, name of the temporary file that will be created. If not specified, <code>tempfile()</code> with the extension of the object is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>s3write_using</code>, a logical, invisibly. For <code>s3read_using</code>, the output of <code>FUN</code> applied to the file from <code>object</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+s3saveRDS">s3saveRDS</a></code>, <code><a href="#topic+s3readRDS">s3readRDS</a></code>, <code><a href="#topic+put_object">put_object</a></code>,<code><a href="#topic+get_object">get_object</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("datasets")
# create bucket
b &lt;- put_bucket("myexamplebucket")

# save a dataset to the bucket as a csv
if (require("utils")) {
  s3write_using(mtcars, FUN = write.csv, object = "mtcars.csv", bucket = b)
}

# load dataset from the bucket as a csv
if (require("utils")) {
  s3read_using(FUN = read.csv, object = "mtcars.csv", bucket = b)
}

# cleanup
delete_object(object = "mtcars.csv", bucket = b)
delete_bucket(bucket = b)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

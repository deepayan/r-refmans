<!DOCTYPE html><html lang="en"><head><title>Help for package flightplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {flightplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#airports'><p>The Information of All Aiports</p></a></li>
<li><a href='#arrange_path'><p>Helper function to reorder the values in the input flight dataframe.</p></a></li>
<li><a href='#get_map_border'><p>Helper function to calculate the coordinate limits of map border</p></a></li>
<li><a href='#plot_flights'><p>The main function to plot flight paths</p></a></li>
<li><a href='#sample_trips'><p>Sample Trip Dataset</p></a></li>
<li><a href='#world'><p>World Map Vector Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Plotting Flight Paths on Maps</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mingchu Xu &lt;mxu.china@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functionality to plot airplane flight paths on maps. The plotted flight paths follow the great circle of the Earth.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, geosphere, ggplot2, ggrepel, magrittr, rlang, sf,
tibble</td>
</tr>
<tr>
<td>Collate:</td>
<td>"data.R" "globals.R" "helpers.R" "main.R"</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/xmc811/flightplot">https://github.com/xmc811/flightplot</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/xmc811/flightplot/issues">https://github.com/xmc811/flightplot/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-26 18:21:44 UTC; mxu3</td>
</tr>
<tr>
<td>Author:</td>
<td>Mingchu Xu [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-29 09:20:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='airports'>The Information of All Aiports</h2><span id='topic+airports'></span>

<h3>Description</h3>

<p>A dataframe with basic information of airports all over the world
</p>


<h3>Usage</h3>

<pre><code class='language-R'>airports
</code></pre>


<h3>Format</h3>

<p>Dataframe
</p>

<dl>
<dt>ID</dt><dd><p>Unique OpenFlights identifier for this airport.</p>
</dd>
<dt>Name</dt><dd><p>Name of airport. May or may not contain the City name.</p>
</dd>
<dt>City</dt><dd><p>Main city served by airport. May be spelled differently from Name.</p>
</dd>
<dt>Country</dt><dd><p>Country or territory where airport is located. See Countries to cross-reference to ISO 3166-1 codes.</p>
</dd>
<dt>IATA</dt><dd><p>3-letter IATA code. Null if not assigned/unknown.</p>
</dd>
<dt>ICAO</dt><dd><p>4-letter ICAO code. Null if not assigned.</p>
</dd>
<dt>Latitude</dt><dd><p>Decimal degrees, usually to six significant digits. Negative is South, positive is North.</p>
</dd>
<dt>Longtitude</dt><dd><p>Decimal degrees, usually to six significant digits. Negative is West, positive is East.</p>
</dd>
<dt>Altitude</dt><dd><p>In feet.</p>
</dd>
<dt>Timezone</dt><dd><p>Hours offset from UTC. Fractional hours are expressed as decimals, eg. India is 5.5.</p>
</dd>
<dt>DST</dt><dd><p>Daylight savings time. One of E (Europe), A (US/Canada), S (South America), O (Australia), Z (New Zealand), N (None) or U (Unknown). </p>
</dd>
<dt>TZName</dt><dd><p>Timezone in <a href="http://en.wikipedia.org/wiki/Tz_database">&quot;tz&quot; (Olson) format</a>, eg. &quot;America/Los_Angeles&quot;.</p>
</dd>
<dt>Type</dt><dd><p>Type of the airport. Value &quot;airport&quot; for air terminals, &quot;station&quot; for train stations, &quot;port&quot; for ferry terminals and &quot;unknown&quot; if not known. In airports.csv, only type=airport is included.</p>
</dd>
<dt>Source</dt><dd><p>Source of this data. &quot;OurAirports&quot; for data sourced from <a href="http://ourairports.com/data/">OurAirports</a>, &quot;Legacy&quot; for old data not matched to OurAirports (mostly DAFIF), &quot;User&quot; for unverified user contributions. </p>
</dd>
</dl>



<h3>Source</h3>

<p>&lt;https://github.com/jpatokal/openflights/blob/master/data/airports.dat&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>airports
</code></pre>

<hr>
<h2 id='arrange_path'>Helper function to reorder the values in the input flight dataframe.</h2><span id='topic+arrange_path'></span>

<h3>Description</h3>

<p>Helper function to reorder the values in the input flight dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arrange_path(df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="arrange_path_+3A_df">df</code></td>
<td>
<p>A two-column dataframe - The start and end airports of flights.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A two-column dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>arrange_path(sample_trips)

</code></pre>

<hr>
<h2 id='get_map_border'>Helper function to calculate the coordinate limits of map border</h2><span id='topic+get_map_border'></span>

<h3>Description</h3>

<p>Since the world map is huge, and flights are usually drawn in a relatively<br />
small area, the map needs to be cropped based on the coordinates of airports<br />
used. This function generates the coordinate limits of the cropped map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_map_border(v, type = c("long", "lat"), padding_ratio = 0.1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_map_border_+3A_v">v</code></td>
<td>
<p>A double numeric vector - vector of longtitudes/latitudes.</p>
</td></tr>
<tr><td><code id="get_map_border_+3A_type">type</code></td>
<td>
<p>A string - &quot;long&quot; or &quot;lat&quot;. It indicates whether longtitudes or latitudes are input.</p>
</td></tr>
<tr><td><code id="get_map_border_+3A_padding_ratio">padding_ratio</code></td>
<td>
<p>A double number - 0 to 1. The padding ratio is defined as<br />
padding / (maximum - minimum)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A two-column dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_map_border(c(-20,30,60,85), type = "lat")
get_map_border(c(-10,0,10,40), type = "long", padding_ratio = 0.2)

</code></pre>

<hr>
<h2 id='plot_flights'>The main function to plot flight paths</h2><span id='topic+plot_flights'></span>

<h3>Description</h3>

<p>The <code>plot_flights</code> function use 'ggplot2' to plot flight paths on a world map. The flight path follow the great circle of the Earth, which is computed by 'geosphere'. The function also provides extended functionalities including coloring and cropping. <br />
Since 'ggplot2' is used, additional plotting parameters can be easily added to the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_flights(
  trips,
  crop = TRUE,
  land_color = "#f6e8c3",
  water_color = "aliceblue",
  dom_color = "#3288bd",
  int_color = "#d53e4f",
  alpha = 0.5,
  times_as_thickness = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_flights_+3A_trips">trips</code></td>
<td>
<p>A two-column dataframe - The start and end airports of flights. The first column should be the start airports, and the second column the end airports. The airport value should be IATA airport code. The column names can be any valid names.</p>
</td></tr>
<tr><td><code id="plot_flights_+3A_crop">crop</code></td>
<td>
<p>A logical value or a string - Whether the map should be cropped or not and by which preset the map is cropped. If <code>FALSE</code>, the whole world map is plotted; if <code>TRUE</code>, the map will be cropped based on the airport coordinates. It also accepts certain strings as presets: <br />
<code>"NA"</code>: North America. <br />
<code>"48States"</code>: The contiguous United States. <br />
The default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot_flights_+3A_land_color">land_color</code></td>
<td>
<p>A string - the color used for land. Default value is <code>"#f6e8c3"</code>.</p>
</td></tr>
<tr><td><code id="plot_flights_+3A_water_color">water_color</code></td>
<td>
<p>A string - the color used for earth. Default value is <code>"aliceblue"</code>.</p>
</td></tr>
<tr><td><code id="plot_flights_+3A_dom_color">dom_color</code></td>
<td>
<p>A string - the color used for domestic flights. Default value is <code>"#3288bd"</code>.</p>
</td></tr>
<tr><td><code id="plot_flights_+3A_int_color">int_color</code></td>
<td>
<p>A string - the color used for international flights. Default value is <code>"#d53e4f"</code>.</p>
</td></tr>
<tr><td><code id="plot_flights_+3A_alpha">alpha</code></td>
<td>
<p>A double number - 0 to 1. The transparency (alpha) of flight paths. Default value is <code>0.5</code>.</p>
</td></tr>
<tr><td><code id="plot_flights_+3A_times_as_thickness">times_as_thickness</code></td>
<td>
<p>A logical value - whether the times of flights are used as aestheic mappings for the thickness of flight paths. Default value is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot_flights(sample_trips[1:20,])

</code></pre>

<hr>
<h2 id='sample_trips'>Sample Trip Dataset</h2><span id='topic+sample_trips'></span>

<h3>Description</h3>

<p>A two-column dataframe with start and end airports of flights. The dataframe can be readily used as input for the main plot function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_trips
</code></pre>


<h3>Format</h3>

<p>Dataframe
</p>

<dl>
<dt>Departure</dt><dd><p>IATA code for departure airports</p>
</dd>
<dt>Arrival</dt><dd><p>IATA code for arrival airports.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>sample_trips
</code></pre>

<hr>
<h2 id='world'>World Map Vector Data</h2><span id='topic+world'></span>

<h3>Description</h3>

<p>A simple feature dataframe generated from world land and earth shapefile.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>world
</code></pre>


<h3>Format</h3>

<p>A simple feature dataframe.
</p>


<h3>Source</h3>

<p>&lt;https://www.naturalearthdata.com/downloads/50m-physical-vectors/50m-land/&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sf::st_as_sf(world)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package vtable</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {vtable}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#countNA'><p>Number of missing values in a vector</p></a></li>
<li><a href='#dftoHTML'><p>Data Frame to HTML Function</p></a></li>
<li><a href='#dftoLaTeX'><p>Data Frame to LaTeX Function</p></a></li>
<li><a href='#formatfunc'><p>Function-returning wrapper for format</p></a></li>
<li><a href='#independence.test'><p>Group-Independence Test Function</p></a></li>
<li><a href='#is.round'><p>Checks if information is lost by rounding</p></a></li>
<li><a href='#labeltable'><p>Label Table Function</p></a></li>
<li><a href='#notNA'><p>Number of nonmissing values in a vector</p></a></li>
<li><a href='#nuniq'><p>Number of unique values in a vector</p></a></li>
<li><a href='#pctile'><p>Returns a vector of 100 percentiles</p></a></li>
<li><a href='#propNA'><p>Proportion or number of missing values in a vector</p></a></li>
<li><a href='#sumtable'><p>Summary Table Function</p></a></li>
<li><a href='#vtable'><p>Variable Table Function</p></a></li>
<li><a href='#weighted.sd'><p>Weighted standard deviation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Variable Table for Variable Documentation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Automatically generates HTML variable documentation including variable names, labels, classes, value labels (if applicable), value ranges, and summary statistics. See the vignette "vtable" for a package overview.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>kableExtra</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, stats, rstudioapi, sjlabelled, haven, knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, survey</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://nickch-k.github.io/vtable/">https://nickch-k.github.io/vtable/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/NickCH-K/vtable/issues">https://github.com/NickCH-K/vtable/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-26 16:08:04 UTC; nickc</td>
</tr>
<tr>
<td>Author:</td>
<td>Nick Huntington-Klein [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nick Huntington-Klein &lt;nhuntington-klein@seattleu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-26 16:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='countNA'>Number of missing values in a vector</h2><span id='topic+countNA'></span>

<h3>Description</h3>

<p>This function calculates the number of values in a vector that are NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>countNA(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="countNA_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function just shorthand for <code>sum(is.na(x))</code>, with a shorter name for reference in the <code>vtable</code> or <code>sumtable</code> <code>summ</code> option.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 1, NA, 2, 3, NA)
countNA(x)
</code></pre>

<hr>
<h2 id='dftoHTML'>Data Frame to HTML Function</h2><span id='topic+dftoHTML'></span>

<h3>Description</h3>

<p>This function takes a data frame or matrix with column names and outputs an HTML table version of that data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dftoHTML(
  data,
  out = NA,
  file = NA,
  note = NA,
  note.align = "l",
  anchor = NA,
  col.width = NA,
  col.align = NA,
  row.names = FALSE,
  no.escape = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dftoHTML_+3A_data">data</code></td>
<td>
<p>Data set; accepts any format with column names.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_out">out</code></td>
<td>
<p>Determines where the completed table is sent. Set to <code>"browser"</code> to open HTML file in browser using <code>browseURL()</code>, <code>"viewer"</code> to open in RStudio viewer using <code>viewer()</code>, if available, or <code>"htmlreturn"</code> to return the HTML code. Defaults to Defaults to <code>"viewer"</code> if RStudio is running and <code>"browser"</code> if it isn't.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_file">file</code></td>
<td>
<p>Saves the completed variable table file to HTML with this filepath. May be combined with any value of <code>out</code>.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_note">note</code></td>
<td>
<p>Table note to go after the last row of the table.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_note.align">note.align</code></td>
<td>
<p>Alignment of table note, l, r, or c.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_anchor">anchor</code></td>
<td>
<p>Character variable to be used to set an <code>&lt;a name&gt;</code> tag for the table.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_col.width">col.width</code></td>
<td>
<p>Vector of page-width percentages, on 0-100 scale, overriding default column widths in HTML table. Must have a number of elements equal to the number of columns in the resulting table.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_col.align">col.align</code></td>
<td>
<p>Vector of 'left', 'right', 'center', etc. to be used with the HTML table text-align attribute in each column. If you want to get tricky, you can add a <code>";"</code> afterwards and keep putting in whatever CSS attributes you want. They will be applied to the whole column.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_row.names">row.names</code></td>
<td>
<p>Flag determining whether or not the row names should be included in the table. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="dftoHTML_+3A_no.escape">no.escape</code></td>
<td>
<p>Vector of column indices for which special characters should not be escaped (perhaps they include markup text of their own).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed to feed HTML versions of variable tables to <code>vtable()</code>, <code>sumtable()</code>, and <code>labeltable()</code>.
</p>
<p>Multi-column cells are supported. Set the cell's contents to <code>"content_MULTICOL_c_5"</code> where &quot;content&quot; is the content of the cell, &quot;c&quot; is the cell's alignment (l, c, r), and 5 is the number of columns to span. Then fill in the cells that need to be deleted to make room with &quot;DELETECELL&quot;.
</p>
<p>If the first column and row begins with the text &quot;HEADERROW&quot;, then the first row will be put above the column names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(interactive()) {
df &lt;- data.frame(var1 = 1:4,var2=5:8,var3=c('A','B','C','D'),
    var4=as.factor(c('A','B','C','C')),var5=c(TRUE,TRUE,FALSE,FALSE))
dftoHTML(df,out="browser")
}

</code></pre>

<hr>
<h2 id='dftoLaTeX'>Data Frame to LaTeX Function</h2><span id='topic+dftoLaTeX'></span>

<h3>Description</h3>

<p>This function takes a data frame or matrix with column names and outputs a lightly-formatted LaTeX table version of that data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dftoLaTeX(
  data,
  file = NA,
  fit.page = NA,
  frag = TRUE,
  title = NA,
  note = NA,
  note.align = "l",
  anchor = NA,
  align = NA,
  row.names = FALSE,
  no.escape = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dftoLaTeX_+3A_data">data</code></td>
<td>
<p>Data set; accepts any format with column names.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_file">file</code></td>
<td>
<p>Saves the completed table to LaTeX with this filepath.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_fit.page">fit.page</code></td>
<td>
<p>uses a LaTeX resizebox to force the table to a certain width. Often <code>'\textwidth'</code>.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_frag">frag</code></td>
<td>
<p>Set to TRUE to produce only the LaTeX table itself, or FALSE to produce a fully buildable LaTeX. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_title">title</code></td>
<td>
<p>Character variable with the title of the table.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_note">note</code></td>
<td>
<p>Table note to go after the last row of the table.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_note.align">note.align</code></td>
<td>
<p>Set the alignment for the multi-column table note. Usually &quot;l&quot;, but if you have a long note you might want to set it with &quot;p&quot;</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_anchor">anchor</code></td>
<td>
<p>Character variable to be used to set a label tag for the table.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_align">align</code></td>
<td>
<p>Character variable with standard LaTeX formatting for alignment, for example <code>'lccc'</code>. You can also use this to force column widths with <code>p</code> in standard LaTeX style. Defaults to the first column being left-aligned and all others centered. Be sure to escape special characters, in particular backslashes (i.e. <code>p{.25\\textwidth}</code> instead of <code>p{.25\textwidth}</code>).</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_row.names">row.names</code></td>
<td>
<p>Flag determining whether or not the row names should be included in the table. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="dftoLaTeX_+3A_no.escape">no.escape</code></td>
<td>
<p>Vector of column indices for which special characters should not be escaped (perhaps they include markup text of their own).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed to feed LaTeX versions of variable tables to <code>vtable()</code>, <code>sumtable()</code>, and <code>labeltable()</code>.
</p>
<p>Multi-column cells are supported. Wrap the cell's contents in a <code>multicolumn</code> tag as normal, and then fill in any cells that need to be deleted to make room for the multi-column cell with &quot;DELETECELL&quot;. Or use the MULTICOL syntax of <code>dftoHTML</code>, that works too.
</p>
<p>If the first column and row begins with the text &quot;HEADERROW&quot;, then the first row will be put above the column names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(var1 = 1:4,var2=5:8,var3=c('A','B','C','D'),
    var4=as.factor(c('A','B','C','C')),var5=c(TRUE,TRUE,FALSE,FALSE))
dftoLaTeX(df, align = 'ccccc')

</code></pre>

<hr>
<h2 id='formatfunc'>Function-returning wrapper for format</h2><span id='topic+formatfunc'></span>

<h3>Description</h3>

<p>This function takes a set of options for the <code>format()</code> function and returns a function that itself calls <code>format()</code> with those settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatfunc(
  percent = FALSE,
  prefix = "",
  suffix = "",
  scale = 1,
  digits = NULL,
  nsmall = 0L,
  big.mark = "",
  trim = TRUE,
  scientific = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatfunc_+3A_percent">percent</code></td>
<td>
<p>Whether to apply percentage formatting. Set to <code>TRUE</code> if 1 = 100%. Or, optionally, set to any other number that represents 100%. So <code>percent = TRUE</code> or <code>percent = 1</code> will interpret <code>.9</code> as <code>90%</code>, or <code>percent = 100</code> will format <code>90</code> as <code>90%</code>.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_prefix">prefix</code></td>
<td>
<p>A prefix to apply to the formatted number. For example, <code>prefix = '$'</code> would format <code>4</code> as <code>$4</code>.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_suffix">suffix</code></td>
<td>
<p>A suffix to apply to the formatted number. If specified alongside <code>percent</code>, the suffix comes after the %.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_scale">scale</code></td>
<td>
<p>A scalar value to be multiplied by all numbers prior to formatting. <code>scale = 1/1000</code>, for example, would convert the units into thousands. This is applied before <code>digits</code>.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_digits">digits</code></td>
<td>
<p>Number of significant digits.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_nsmall">nsmall</code></td>
<td>
<p>The minimum number of digits to the right of the decimal point.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_big.mark">big.mark</code></td>
<td>
<p>A character to mark thousands places, for example producing &quot;1,000&quot; instead of &quot;1000&quot;.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_trim">trim</code></td>
<td>
<p>Whether numbers should be trimmed to their own size, rather than being right-justified to a common width. Unlike the actual <code>format()</code>, this defaults to <code>TRUE</code>. Note that in most vtable applications, the formatting function is applied one value at a time, rather than to a vector, so <code>trim = FALSE</code> may not work as intended.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_scientific">scientific</code></td>
<td>
<p>Whether numbers should be encoded in scientific format. Unlike the actual <code>format()</code>, this defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="formatfunc_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code>format()</code>. See <code>help(format)</code>. All other parameters listed above except for <code>percent</code>, <code>prefix</code>, or <code>suffix</code> are also just part of  <code>format</code>, but may be of particular interest, or have been included to show how defaults have changed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The only differences are:
</p>
<p>1. <code>scientific</code> is set to <code>FALSE</code> by default, and <code>trim</code> is set to <code>TRUE</code>
2. Passing a <code>NA</code> value produces <code>''</code> instead of <code>'NA'</code>.
3. In addition to standard <code>format()</code> options, it also accepts a <code>percent</code> option to apply percentage formatting, and <code>prefix</code> and <code>suffix</code> options to apply prefixes or suffixes to formatted numbers.
4. Has an attribute <code>'big.mark'</code> storing the <code>'big.mark'</code> option chosen.
</p>
<p>This is in the spirit of the <code>label_</code> functions in the scales package, except that it uses <code>format()</code>'s focus on significant digits instead of fixed decimal places, which is good for numbers that range across multiple orders of magnitude, common in <code>sumtable()</code> and <code>vtable()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 1000, .000235, 1298.255, NA)
my.formatting.func = formatfunc(digits = 3, prefix = '$')
my.formatting.func(x)

</code></pre>

<hr>
<h2 id='independence.test'>Group-Independence Test Function</h2><span id='topic+independence.test'></span>

<h3>Description</h3>

<p>This function takes in two variables of equal length, the first of which is a categorical variable, and performs a test of independence between them. It returns a character string with the results of that test for putting in a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>independence.test(
  x,
  y,
  w = NA,
  factor.test = NA,
  numeric.test = NA,
  star.cutoffs = c(0.01, 0.05, 0.1),
  star.markers = c("***", "**", "*"),
  digits = 3,
  fixed.digits = FALSE,
  format = "{name}={stat}{stars}",
  opts = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="independence.test_+3A_x">x</code></td>
<td>
<p>A categorical variable.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_y">y</code></td>
<td>
<p>A variable to test for independence with <code>x</code>. This can be a factor or numeric variable. If you want a numeric variable treated as categorical, convert to a factor first.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_w">w</code></td>
<td>
<p>A vector of weights to pass to the appropriate test.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_factor.test">factor.test</code></td>
<td>
<p>Used when <code>y</code> is a factor, a function that takes <code>x</code> and <code>y</code> as its first arguments and returns a list with three arguments: (1) The name of the test for printing, (2) the test statistic, and (3) the p-value. Defaults to a Chi-squared test if there are no weights, or a design-based F statistic (Rao &amp; Scott Aadjustment, see <code>survey::svychisq</code>) with weights, which requires that the <code>survey</code> package be installed. WARNING: the Chi-squared test's assumptions fail with small sample sizes. This function will be attempted for all non-numeric <code>y</code>.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_numeric.test">numeric.test</code></td>
<td>
<p>Used when <code>y</code> is numeric, a function that takes <code>x</code> and <code>y</code> as its first arguments and returns a list with three arguments: (1) The name of the test for printing, (2) the test statistic, and (3) the p-value. Defaults to a group differences F test. If you only have two groups and would prefer an absolute t-statistic to an F-statistic, pass <code>vtable:::groupt.it</code>.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_star.cutoffs">star.cutoffs</code></td>
<td>
<p>A numeric vector indicating the p-value cutoffs to use for reporting significance stars. Defaults to <code>c(.01,.05,.1)</code>. If you don't want stars, remove them from the <code>format</code> argument.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_star.markers">star.markers</code></td>
<td>
<p>A character vector indicating the symbols to use to indicate significance cutoffs associated with <code>star.cuoffs</code>. Defaults to <code>c('***','**','*')</code>. If you don't want stars, remove them from the <code>format</code> argument.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_digits">digits</code></td>
<td>
<p>Number of digits after the decimal to round the test statistic and p-value to.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_fixed.digits">fixed.digits</code></td>
<td>
<p><code>FALSE</code> will cut off trailing <code>0</code>s when rounding. <code>TRUE</code> retains them. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_format">format</code></td>
<td>
<p>The way in which the four elements returned by (or calculated after) the test - <code>{name}</code>, <code>{stat}</code>, <code>{pval}</code>, and <code>{stars}</code> - will be arranged in the string output. Note that the default <code>'{name}={stat}{stars}'</code> does not contain the p-value, and also does not contain superscript for the stars since it doesn't know what markup language you're aiming for. For LaTeX you may prefer <code>'{name}$={stat}^{{stars}}$'</code>, and for HTML <code>'{name}={stat}&lt;sup&gt;{stars}&lt;/sup&gt;'</code>.</p>
</td></tr>
<tr><td><code id="independence.test_+3A_opts">opts</code></td>
<td>
<p>The options listed above, entered in named-list format.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In an attempt (and perhaps an encouragement) to use this function in weird ways, and because it's not really expected to be used directly, input is not sanitized. Have fun!
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(mtcars)
independence.test(mtcars$cyl,mtcars$mpg)

</code></pre>

<hr>
<h2 id='is.round'>Checks if information is lost by rounding</h2><span id='topic+is.round'></span>

<h3>Description</h3>

<p>This function takes a vector and checks if any information is lost by rounding to a certain number of digits.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.round(x, digits = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.round_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="is.round_+3A_digits">digits</code></td>
<td>
<p>How many digits to round to.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns <code>TRUE</code> if rounding to <code>digits</code> digits after the decimal can be done without losing information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is.round(1:5)

x &lt;- c(1, 1.2, 1.23)
is.round(x)
is.round(x,digits=2)
</code></pre>

<hr>
<h2 id='labeltable'>Label Table Function</h2><span id='topic+labeltable'></span>

<h3>Description</h3>

<p>This function output a descriptive table listing, for each value of a given variable, either the label of that value, or all values of another variable associated with that value. The table is output either to the console or as an HTML file that can be viewed continuously while working with data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labeltable(
  var,
  ...,
  out = NA,
  count = FALSE,
  percent = FALSE,
  file = NA,
  desc = NA,
  note = NA,
  note.align = NA,
  anchor = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labeltable_+3A_var">var</code></td>
<td>
<p>A vector. Label table will show, for each of the values of this variable, its label (if labels can be found with <code>sjlabelled::get_labels()</code>), or the values in the <code>...</code> variables.</p>
</td></tr>
<tr><td><code id="labeltable_+3A_...">...</code></td>
<td>
<p>As described above. If specified, will show the values of these variables, instead of the labels of var, even if labels can be found.</p>
</td></tr>
<tr><td><code id="labeltable_+3A_out">out</code></td>
<td>
<p>Determines where the completed table is sent. Set to <code>"browser"</code> to open HTML file in browser using <code>browseURL()</code>, <code>"viewer"</code> to open in RStudio viewer using <code>viewer()</code>, if available. Use <code>"htmlreturn"</code> to return the HTML code to R, <code>"return"</code> to return the completed variable table to R in data frame form, or <code>"kable"</code> to return it in <code>knitr::kable()</code> form. Combine <code>out = "csv"</code> with <code>file</code> to write to CSV (dropping most formatting). Additional options include <code>"latex"</code> for a LaTeX table or <code>"latexpage"</code> for a full buildable LaTeX page. Defaults to <code>"viewer"</code> if RStudio is running, <code>"browser"</code> if it isn't, or a <code>"kable"</code> passed through <code>kableExtra::kable_styling()</code> defaults if it's an RMarkdown document being built with <code>knitr</code>.</p>
</td></tr>
<tr><td><code id="labeltable_+3A_count">count</code></td>
<td>
<p>Set to <code>TRUE</code> to also report the number of observations for each value of <code>var</code> in the data.</p>
</td></tr>
<tr><td><code id="labeltable_+3A_percent">percent</code></td>
<td>
<p>Set to <code>TRUE</code> to also report the percentage of non-missing observation for each value of <code>var</code> in the data.</p>
</td></tr>
<tr><td><code id="labeltable_+3A_file">file</code></td>
<td>
<p>Saves the completed variable table file to HTML with this filepath. May be combined with any value of <code>out</code>, although note that <code>out = "return"</code> and <code>out = "kable"</code> will still save the standard labeltable HTML file as with <code>out = "viewer"</code> or <code>out = "browser"</code>..</p>
</td></tr>
<tr><td><code id="labeltable_+3A_desc">desc</code></td>
<td>
<p>Description of variable (or labeling system) to be included with the table.</p>
</td></tr>
<tr><td><code id="labeltable_+3A_note">note</code></td>
<td>
<p>Table note to go after the last row of the table.</p>
</td></tr>
<tr><td><code id="labeltable_+3A_note.align">note.align</code></td>
<td>
<p>Set the alignment for the multi-column table note. Usually &quot;l&quot;, but if you have a long note in LaTeX you might want to set it with &quot;p&quot;</p>
</td></tr>
<tr><td><code id="labeltable_+3A_anchor">anchor</code></td>
<td>
<p>Character variable to be used to set an anchor link in HTML tables, or a label tag in LaTeX.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Outputting the label table as a help file will make it easy to search through value labels, or to see the correspondence between the values of one variable and the values of another.
</p>
<p>Labels that are not in the data will also be reported in the table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(interactive()){
#Input a single labelled variable to see a table relating values to labels.
#Values not present in the data will be included in the table but moved to the end.
library(sjlabelled)
data(efc)
labeltable(efc$e15relat)

#Include multiple variables to see, for each value of the first variable,
#each value of the others present in the data.
data(efc)
labeltable(efc$e15relat,efc$e16sex,efc$e42dep)

#Commonly, the multi-variable version might be used to recover the original
#values of encoded variables
data(USJudgeRatings)
USJudgeRatings$Judge &lt;- row.names(USJudgeRatings)
USJudgeRatings$JudgeID &lt;- as.numeric(as.factor(USJudgeRatings$Judge))
labeltable(USJudgeRatings$JudgeID,USJudgeRatings$Judge)
}
</code></pre>

<hr>
<h2 id='notNA'>Number of nonmissing values in a vector</h2><span id='topic+notNA'></span>

<h3>Description</h3>

<p>This function calculates the number of values in a vector that are not NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>notNA(x, big.mark = NULL, scientific = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="notNA_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="notNA_+3A_big.mark">big.mark</code></td>
<td>
<p>Argument to pass to <code>format()</code>, if a formatted string is desired.</p>
</td></tr>
<tr><td><code id="notNA_+3A_scientific">scientific</code></td>
<td>
<p>Argument to pass to <code>format()</code> if <code>big.mark</code> is specified. Defaults to <code>FALSE</code>, unlike in <code>format()</code>.</p>
</td></tr>
<tr><td><code id="notNA_+3A_...">...</code></td>
<td>
<p>Other arguments to pass to <code>format()</code>. Ignored if <code>big.mark</code> is not specified.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function just shorthand for <code>sum(!is.na(x))</code>, with a shorter name for reference in the <code>vtable</code> or <code>sumtable</code> <code>summ</code> option.
</p>
<p>If <code>big.mark</code> is specified, will return a formatted string instead of a number, where the formatting is based on <code>format(x, big.mark = big.mark, scientific = FALSE, ...)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 1, NA, 2, 3, NA)
notNA(x)
notNA(1:10000, big.mark = ',')
</code></pre>

<hr>
<h2 id='nuniq'>Number of unique values in a vector</h2><span id='topic+nuniq'></span>

<h3>Description</h3>

<p>This function takes a vector and returns the number of unique values in that vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nuniq(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nuniq_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is just shorthand for <code>length(unique(x))</code>, with a shorter name for reference in the <code>vtable</code> or <code>sumtable</code> <code>summ</code> option.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 1, 2, 3, 4, 4, 4)
nuniq(x)

</code></pre>

<hr>
<h2 id='pctile'>Returns a vector of 100 percentiles</h2><span id='topic+pctile'></span>

<h3>Description</h3>

<p>This function calculates 100 percentiles of a vector and returns all of them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pctile(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pctile_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function just shorthand for <code>quantile(x,1:100/100)</code>, with a shorter name for reference in the <code>vtable</code> or <code>sumtable</code> <code>summ</code> option, and which works with <code>sumtable</code> <code>summ.names</code> styling.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:500
pctile(x)[50]
quantile(x,.5)
median(x)
</code></pre>

<hr>
<h2 id='propNA'>Proportion or number of missing values in a vector</h2><span id='topic+propNA'></span>

<h3>Description</h3>

<p>This function calculates the proportion of values in a vector that are NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propNA(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propNA_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function just shorthand for <code>mean(is.na(x))</code>, with a shorter name for reference in the <code>vtable</code> or <code>sumtable</code> <code>summ</code> option.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 1, NA, 2, 3, NA)
propNA(x)
</code></pre>

<hr>
<h2 id='sumtable'>Summary Table Function</h2><span id='topic+sumtable'></span><span id='topic+st'></span>

<h3>Description</h3>

<p>This function will output a summary statistics variable table either to the console or as an HTML file that can be viewed continuously while working with data, or sent to file for use elsewhere. <code>st()</code> is the same thing but requires fewer key presses to type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sumtable(
  data,
  vars = NA,
  out = NA,
  file = NA,
  summ = NA,
  summ.names = NA,
  add.median = FALSE,
  group = NA,
  group.long = FALSE,
  group.test = FALSE,
  group.weights = NA,
  col.breaks = NA,
  digits = 2,
  fixed.digits = FALSE,
  numformat = formatfunc(digits = digits, big.mark = ""),
  skip.format = c("notNA(x)", "propNA(x)", "countNA(x)", obs.function),
  factor.percent = TRUE,
  factor.counts = TRUE,
  factor.numeric = FALSE,
  logical.numeric = FALSE,
  logical.labels = c("No", "Yes"),
  labels = NA,
  title = "Summary Statistics",
  note = NA,
  anchor = NA,
  col.width = NA,
  col.align = NA,
  align = NA,
  note.align = "l",
  fit.page = "\\textwidth",
  simple.kable = FALSE,
  obs.function = NA,
  opts = list()
)

st(
  data,
  vars = NA,
  out = NA,
  file = NA,
  summ = NA,
  summ.names = NA,
  add.median = FALSE,
  group = NA,
  group.long = FALSE,
  group.test = FALSE,
  group.weights = NA,
  col.breaks = NA,
  digits = 2,
  fixed.digits = FALSE,
  numformat = formatfunc(digits = digits, big.mark = ""),
  skip.format = c("notNA(x)", "propNA(x)", "countNA(x)", obs.function),
  factor.percent = TRUE,
  factor.counts = TRUE,
  factor.numeric = FALSE,
  logical.numeric = FALSE,
  logical.labels = c("No", "Yes"),
  labels = NA,
  title = "Summary Statistics",
  note = NA,
  anchor = NA,
  col.width = NA,
  col.align = NA,
  align = NA,
  note.align = "l",
  fit.page = "\\textwidth",
  simple.kable = FALSE,
  obs.function = NA,
  opts = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sumtable_+3A_data">data</code></td>
<td>
<p>Data set; accepts any format with column names.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_vars">vars</code></td>
<td>
<p>Character vector of column names to include, in the order you'd like them included. Defaults to all numeric, factor, and logical variables, plus any character variables with six or fewer unique values. You can include strings that aren't columns in the data (including blanks) - these will create rows that are blank except for the string (left-aligned), for spacers or subtitles.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_out">out</code></td>
<td>
<p>Determines where the completed table is sent. Set to <code>"browser"</code> to open HTML file in browser using <code>browseURL()</code>, <code>"viewer"</code> to open in RStudio viewer using <code>viewer()</code>, if available. Use <code>"htmlreturn"</code> to return the HTML code to R, <code>"latex"</code> to return LaTeX code to R (use <code>"latexdoc"</code> to get a full buildable document rather than a fragment), <code>"return"</code> to return the completed summary table to R in data frame form, or <code>"kable"</code> to return it in <code>knitr::kable()</code> form. Combine <code>out = "csv"</code> with <code>file</code> to write to CSV (dropping most formatting). Defaults to <code>"viewer"</code> if RStudio is running, <code>"browser"</code> if it isn't,  or a <code>"kable"</code> passed through <code>kableExtra::kable_styling()</code> defaults if it's an RMarkdown document being built with <code>knitr</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_file">file</code></td>
<td>
<p>Saves the completed summary table file to file with this filepath. May be combined with any value of <code>out</code>, although note that <code>out = "return"</code> and <code>out = "kable"</code> will still save the standard sumtable HTML file as with <code>out = "viewer"</code> or <code>out = "browser"</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_summ">summ</code></td>
<td>
<p>Character vector of summary statistics to include for numeric and logical variables, in the form <code>'function(x)'</code>. Defaults to <code>c('notNA(x)','mean(x)','sd(x)','min(x)','pctile(x)[25]','pctile(x)[75]','max(x)')</code> if there's one column, or <code>c('notNA(x)','mean(x)','sd(x)')</code> if there's more than one. If all variables in a column are factors it defaults to <code>c('sum(x)','mean(x)')</code> for the factor dummies. If the table has multiple variable-columns and you want different statistics in each, include a list of character vectors instead. This option is flexible, and allows any summary statistic function that takes in a column and returns a single number. For example, <code>summ=c('mean(x)','mean(log(x))')</code> will provide the mean of each variable as well as the mean of the log of each variable. Keep in mind the special vtable package helper functions designed specifically for this option <code>propNA</code>, <code>countNA</code>, <code>notNA</code>, and <code>notNA</code>, which report counts and proportions of NAs, or counts of not-NAs, in the vectors, <code>nuniq</code>, which reports the number of unique values, and <code>pctile</code>, which returns a vector of the 100 percentiles of the variable. NAs will be omitted from all calculations other than <code>propNA(x)</code> and <code>countNA(x)</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_summ.names">summ.names</code></td>
<td>
<p>Character vector of names for the summary statistics included. If <code>summ</code> is at default, defaults to <code>c('N','Mean','Std. Dev.','Min','Pctl. 25','Pctl. 75','Max')</code> (or the appropriate shortened version with multiple columns) unless all variables in the column are factors in which case it defaults to <code>c('N','Percent')</code>. If <code>summ</code> has been set but <code>summ.names</code> has not, defaults to <code>summ</code> with the <code>(x)</code>s removed and the first letter capitalized.  If the table has multiple variable-columns and you want different statistics in each, include a list of character vectors instead.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_add.median">add.median</code></td>
<td>
<p>Adds <code>"median(x)"</code> to the set of default summary statistics. Has no effect if <code>"summ"</code> is also specified.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_group">group</code></td>
<td>
<p>Character variable with the name of a column in the data set that statistics are to be calculated over. Value labels will be used if found for numeric variables. Changes the default <code>summ</code> to <code>c('mean(x)','sd(x)')</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_group.long">group.long</code></td>
<td>
<p>By default, if <code>group</code> is specified, each group will get its own set of columns. Set <code>group.long = TRUE</code> to instead basically just make a regular <code>sumtable()</code> for each group and stack them on top of each other. Good for when you have lots of groups. You can also set it to <code>'l'</code>, <code>'c'</code>, or <code>'r'</code> to determine how the group names are aligned. Defaults to centered.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_group.test">group.test</code></td>
<td>
<p>Set to <code>TRUE</code> to perform tests of whether each variable in the table varies over values of <code>group</code>. Only works with <code>group.long = FALSE</code>. Performs a joint F-test (using <code>anova(lm))</code>) for numeric variables, and a Chi-square test of independence (<code>chisq.test</code>) for categorical variables. If you want to adjust things like which tests are used, significance star levels, etc., see the help file for <code>independence.test</code> and pass in a named list of options for that function.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_group.weights">group.weights</code></td>
<td>
<p><em>THIS OPTION DOES NOT AUTOMATICALLY WEIGHT ALL CALCULATIONS.</em> This is mostly to be used with <code>group</code> and <code>group.long = FALSE</code>, and while it's more flexible than that, you've gotta read this to figure out how else to use it. That's why I gave it the weird name. Set this to a vector of weights, or a string representing a column name with weights. If <code>summ</code> is not customized, this will replace <code>'mean(x)'</code> and <code>'sd(x)'</code> with the equivalent weighted versions <code>'weighted.mean(x, w = wts)'</code> and <code>'weighted.sd(x, w = wts)'</code> It will also add weights to the default <code>group.test</code> tests. This will not add weights to any other calculations, or to any custom <code>group.test</code> weights (although you can always do that yourself by customizing <code>summ</code> and passing in weights with this argument-the weights can be referred to in your function as <code>wts</code>). This is generally intended for things like post-matching balance tables. If you specify a column name, that column will be removed from the rest of the table, so if you want it to be kept, specify this as a numeric vector instead. If you have a variable in your data called <code>'wts'</code> that will mess the use of this option up, I recommend changing that.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_col.breaks">col.breaks</code></td>
<td>
<p>Numeric vector indicating the variables (or number of elements of <code>vars</code>) after which to start a new column. So for example with a data set with six variables, <code>c(3,5)</code> would put the first three variables in the first column, the next two in the middle, and the last on the right. Cannot be combined with <code>group</code> unless <code>group.long = TRUE</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_digits">digits</code></td>
<td>
<p>Number of digits after the decimal place to report. Set to a single number for consistent digits, or a vector the same length as <code>summ</code> for different digits for each calculation, or a list of vectors that match up to a multi-column <code>summ</code>. Defaults to 0 for the first calculation (N, usually) and 2 afterwards.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_fixed.digits">fixed.digits</code></td>
<td>
<p>Deprecated; currently only works if <code>numformat = NA</code>. <code>FALSE</code> will cut off trailing <code>0</code>s when rounding. <code>TRUE</code> retains them. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_numformat">numformat</code></td>
<td>
<p>A function that takes a numeric input and produces labeled output, which you might construct using the <code>formatfunc</code> function or the <code>label_</code> functions from the scales package. Provide a single function to apply to all variables, or a list of functions the same length as the number of variables to format each variable differently. The formatting function will skip over <code>notNA, countNA, propNA</code> calculations by default. Factor percentages will ignore this entirely; you can use <code>NA</code> to skip them when specifying a list. Alternately, you can specify strings giving the shorthand for the appropriate formatting: the string containing <code>'comma'</code> will set <code>big.mark = ','</code>, <code>'decimal'</code> will set <code>big.mark = '.', decimal.mark = ','</code>, <code>'percent'</code> will do percentage formatting (with 1 = 100%), and <code>'A|B'</code> will use <code>'A'</code> as a prefix and <code>'B'</code> as a suffix (specifying suffix optional, so <code>numformat = '$'</code> gives <code>'$3'</code>). Anything more complex than that will require you pass a <code>formatfunc</code> or similar function. Specifying a character vector will respect your <code>digits</code> option if <code>digits</code> is a single value rather than a vector or list, but will otherwise use the defaults of those functions. You can mix together specifying your own functions and specifying character strings. At the moment there is no way to do different formatting for different columns of the same variable, other than <code>skip.format</code>. Set to <code>NA</code> to revert to the old way of formatting.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_skip.format">skip.format</code></td>
<td>
<p>Set of functions in <code>summ</code> that are not subject to <code>format</code>. Does nothing if <code>format</code> is not specified.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_factor.percent">factor.percent</code></td>
<td>
<p>Set to <code>TRUE</code> to show factor means as percentages instead of proportions, i.e. <code>50%</code> with a column header of &quot;Percent&quot; rather than <code>.5</code> with a column header of &quot;Mean&quot;. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_factor.counts">factor.counts</code></td>
<td>
<p>Set to <code>TRUE</code> to show a count of each factor level in the first column. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_factor.numeric">factor.numeric</code></td>
<td>
<p>By default, factor variable dummies basically ignore the <code>summ</code> argument and show count (or nothing) in the first column and percent or proportion in the second. Set this to <code>TRUE</code> to instead treat the dummies like numeric binary variables with values 0 and 1.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_logical.numeric">logical.numeric</code></td>
<td>
<p>By default, logical variables are treated as factors with <code>TRUE = "Yes"</code> and <code>FALSE = "No"</code>. Set this to <code>FALSE</code> to instead treat them as numeric variables rather than factors, with <code>TRUE = 1</code> and <code>FALSE = 0</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_logical.labels">logical.labels</code></td>
<td>
<p>When turning logicals into factors, use these labels for <code>FALSE</code> and <code>TRUE</code>, respectively, rather than &quot;No&quot; and &quot;Yes&quot;.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_labels">labels</code></td>
<td>
<p>Variable labels. labels will accept four formats: (1) A vector of the same length as the number of variables in the data that will be included in the table (tricky to use if many are being dropped, also won't work for your <code>group</code> variable), in the same order as the variables in the data set, (2) A matrix or data frame with two columns and more than one row, where the first column contains variable names (in any order) and the second contains labels, (3) A matrix or data frame where the column names (in any order) contain variable names and the first row contains labels, or (4) TRUE to look in the data for variable labels set by the haven package, <code>set_label()</code> from sjlabelled, or <code>label()</code> from Hmisc.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_title">title</code></td>
<td>
<p>Character variable with the title of the table.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_note">note</code></td>
<td>
<p>Table note to go after the last row of the table. Will follow significance star note if <code>group.test = TRUE</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_anchor">anchor</code></td>
<td>
<p>Character variable to be used to set an anchor link in HTML tables, or a label tag in LaTeX.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_col.width">col.width</code></td>
<td>
<p>Vector of page-width percentages, on 0-100 scale, overriding default column widths in an HTML table. Must have a number of elements equal to the number of columns in the resulting table.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_col.align">col.align</code></td>
<td>
<p>For HTML output, a character vector indicating the HTML <code>text-align</code> attributes to be used in the table (for example <code>col.align = c('left','center','center')</code>. Defaults to variable-name columns left-aligned and all others right-aligned (with a little extra padding between columns with <code>col.breaks</code>). If you want to get tricky, you can add a <code>";"</code> afterwards and keep putting in whatever CSS attributes you want. They will be applied to the whole column.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_align">align</code></td>
<td>
<p>For LaTeX output, string indicating the alignment of each column. Use standard LaTeX syntax (i.e. <code>l|ccc</code>). Defaults to left in the first column and right-aligned afterwards, with <code>@{\hskip .2in}</code> spacers if you have <code>col.breaks</code>. If <code>col.width</code> is specified, defaults to all <code>p{}</code> columns with widths set by <code>col.width</code>. If you want the columns aligned on a decimal point, see <a href="https://tex.stackexchange.com/questions/2746/aligning-numbers-by-decimal-points-in-table-columns#2747">this explainer</a>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_note.align">note.align</code></td>
<td>
<p>For LaTeX output, set the alignment for the multi-column table note. Usually &quot;l&quot;, but if you have a long note in LaTeX you might want to set it with &quot;p&quot;</p>
</td></tr>
<tr><td><code id="sumtable_+3A_fit.page">fit.page</code></td>
<td>
<p>For LaTeX output, uses a resizebox to force the table to a certain width. Set to <code>NA</code> to omit.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_simple.kable">simple.kable</code></td>
<td>
<p>For <code>out = 'kable'</code>, if you want the <code>kable</code> printed to console rather than HTML or PDF, then the multi-column headers and table notes won't work. Set <code>simple.kable = TRUE</code> to skip both.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_obs.function">obs.function</code></td>
<td>
<p>The function to use (and, potentially, format) to count the number of observations for the N column. This should take a vector and return a single number or string. Uses the same string formatting as <code>summ</code>. If not specified, will check if <code>numformat</code> is specified using <code>formatfunc</code> or a string. If not, this will be <code>'notNA(x)'</code>. If it is, will be <code>'notNA(x)'</code> with the <code>big.mark</code> argument set to match the first function listed in <code>numformat</code>.</p>
</td></tr>
<tr><td><code id="sumtable_+3A_opts">opts</code></td>
<td>
<p>The same <code>sumtable</code> options as above, but in a named list format. Useful for applying the same set of options to multiple <code>sumtable</code>s.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are many, many functions in R that will produce a summary statisics table for you. So why use <code>sumtable()</code>? <code>sumtable()</code> serves two main purposes:
</p>
<p>(1) In the same spirit as <code>vtable()</code>, it makes it easy to view the summary statistics <em>as you work</em>, either in the Viewer pane or in a browser window.
</p>
<p>(2) <code>sumtable()</code> is designed to <em>have nice defaults</em> and is not really intended for deep customization. It's got lots of options, sure, but they're only intended to go so far. So you can have a summary statistics table without much work.
</p>
<p>Keeping with point (2), <code>sumtable()</code> is designed for use by people who want the kind of table that <code>sumtable()</code> produces, which is itself heavily influenced by the kinds of summary statistics tables you often see in economics papers. In that regard it is most similar to <code>stargazer::stargazer()</code> except that it can handle tibbles, factor variables, grouping, and produce multicolumn tables, or <code>summarytools::dfSummary()</code> or <code>skimr::skim()</code> except that it is easier to export with nice formatting. If you want a lot of control over your summary statistics table, check out the packages gtsummary, arsenal, qwraps2, or Amisc, and about a million more.
</p>
<p>If you would like to include a <code>sumtable</code> in an RMarkdown document, it should just work! If you leave <code>out</code> blank, it will default to a nicely-formatted <code>knitr::kable()</code>, although this will drop some formatting elements like multi-column cells (or do <code>out="kable"</code> to get an unformatted <code>kable</code> that you can format yourself). If you prefer the <code>vtable</code> package formatting, then use <code>out="latex"</code> if outputting to LaTeX or <code>out="htmlreturn"</code> for HTML, both with <code>results="asis"</code> in the code chunk. Alternately, in HTML, you can use the <code>file</code> option to write to file and use a <code>&lt;iframe&gt;</code> to include it.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Examples are only run interactively because they open HTML pages in Viewer or a browser.
if (interactive()) {
data(iris)

# Sumtable handles both numeric and factor variables
st(iris)

# Output to LaTeX as well for easy integration
# with RMarkdown, or \input{} into your LaTeX docs
# (specify file too  to save the result)
st(iris, out = 'latex')

# Summary statistics by group
iris$SL.above.median &lt;- iris$Sepal.Length &gt; median(iris$Sepal.Length)
st(iris, group = 'SL.above.median')

# Add a group test, or report by-group in "long" format
st(iris, group = 'SL.above.median', group.test = TRUE)
st(iris, group = 'SL.above.median', group.long = TRUE)

# Going all out! Adding variable labels with labels,
# spacers and variable "category" titles with vars,
# Changing the presentation of the factor variable,
# and putting the factor in its own column with col.breaks
var.labs &lt;- data.frame(var = c('SL.above.median','Sepal.Length',
                               'Sepal.Width','Petal.Length',
                               'Petal.Width'),
                       labels = c('Above-median Sepal Length','Sepal Length',
                       'Sepal Width','Petal Length',
                       'Petal Width'))
st(iris,
    labels = var.labs,
    vars = c('Sepal Variables','SL.above.median','Sepal.Length','Sepal.Width',
    'Petal Variables','Petal.Length','Petal.Width',
    'Species'),
    factor.percent = FALSE,
    col.breaks = 7)

# Format the results
# use rep so there are enough observations to see the comma separators
irisrep = do.call('rbind', replicate(100, iris, simplify = FALSE))
# Comma separator for thousands, including for N.
st(irisrep, numformat = 'comma')
# Dollar formatting for sepal.width, decimal (1.000,00) formatting for the rest
st(iris, numformat = c('decimal','Sepal.Width' = '$'))
# Custom formatting throughout, note the big.mark = ',' will also be picked up by N
st(irisrep, numformat = formatfunc(digits = 2, nsmall = 2, big.mark = ','))

}
</code></pre>

<hr>
<h2 id='vtable'>Variable Table Function</h2><span id='topic+vtable'></span><span id='topic+vt'></span>

<h3>Description</h3>

<p>This function will output a descriptive variable table either to the console or as an HTML file that can be viewed continuously while working with data. <code>vt()</code> is the same thing but requires fewer key presses to type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vtable(
  data,
  out = NA,
  file = NA,
  labels = NA,
  class = TRUE,
  values = TRUE,
  missing = FALSE,
  index = FALSE,
  factor.limit = 5,
  char.values = FALSE,
  data.title = NA,
  desc = NA,
  note = NA,
  note.align = "l",
  anchor = NA,
  col.width = NA,
  col.align = NA,
  align = NA,
  fit.page = NA,
  summ = NA,
  lush = FALSE,
  opts = list()
)

vt(
  data,
  out = NA,
  file = NA,
  labels = NA,
  class = TRUE,
  values = TRUE,
  missing = FALSE,
  index = FALSE,
  factor.limit = 5,
  char.values = FALSE,
  data.title = NA,
  desc = NA,
  note = NA,
  note.align = "l",
  anchor = NA,
  col.width = NA,
  col.align = NA,
  align = NA,
  fit.page = NA,
  summ = NA,
  lush = FALSE,
  opts = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vtable_+3A_data">data</code></td>
<td>
<p>Data set; accepts any format with column names. If variable labels are set with the haven package, <code>set_label()</code> from sjlabelled, or <code>label()</code> from Hmisc, <code>vtable</code> will extract them automatically.</p>
</td></tr>
<tr><td><code id="vtable_+3A_out">out</code></td>
<td>
<p>Determines where the completed table is sent. Set to <code>"browser"</code> to open HTML file in browser using <code>browseURL()</code>, <code>"viewer"</code> to open in RStudio viewer using <code>viewer()</code>, if available. Use <code>"htmlreturn"</code> to return the HTML code to R. Use <code>"return"</code> to return the completed variable table to R in data frame form or <code>"kable"</code> to return it as a <code>knitr::kable()</code>. Additional options include <code>"csv"</code> to write to CSV in conjunction with <code>file</code> (although this will drop most additional formatting), <code>"latex"</code> for a LaTeX table or <code>"latexpage"</code> for a full buildable LaTeX page. Defaults to <code>"viewer"</code> if RStudio is running, <code>"browser"</code> if it isn't, or a <code>"kable"</code> passed through <code>kableExtra::kable_styling()</code> defaults if it's an RMarkdown document being built with <code>knitr</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_file">file</code></td>
<td>
<p>Saves the completed variable table file to HTML or .tex with this filepath. May be combined with any value of <code>out</code>, although note that <code>out = "return"</code> and <code>out = "kable"</code> will still save the standard vtable HTML file as with <code>out = "viewer"</code> or <code>out = "browser"</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_labels">labels</code></td>
<td>
<p>Variable labels. labels will accept three formats: (1) A vector of the same length as the number of variables in the data, in the same order as the variables in the data set, (2) A matrix or data frame with two columns and more than one row, where the first column contains variable names (in any order) and the second contains labels, or (3) A matrix or data frame where the column names (in any order) contain variable names and the first row contains labels. Setting the labels parameter will override any variable labels already in the data. Set to <code>"omit"</code> if the data set has embedded labels but you don't want any labels in the table.</p>
</td></tr>
<tr><td><code id="vtable_+3A_class">class</code></td>
<td>
<p>Set to <code>TRUE</code> to include variable classes in the variable table. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_values">values</code></td>
<td>
<p>Set to <code>TRUE</code> to include the range of values of each variable: min and max for numeric variables, list of factors for factor or ordered variables, and 'TRUE FALSE' for logicals. values will detect and use value labels set by the sjlabelled or haven packages, as long as every value is labelled. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_missing">missing</code></td>
<td>
<p>Set to <code>TRUE</code> to include the number of NAs in the variable. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_index">index</code></td>
<td>
<p>Set to <code>TRUE</code> to include the index number of the column with the variable name. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_factor.limit">factor.limit</code></td>
<td>
<p>Sets maximum number of factors that will be included if <code>values = TRUE</code>. Set to 0 for no limit. Defaults to 5.</p>
</td></tr>
<tr><td><code id="vtable_+3A_char.values">char.values</code></td>
<td>
<p>Set to <code>TRUE</code> to include values of character variables as though they were factors, if <code>values = TRUE</code>. Or, set to a character vector of variable names to list values of only those character variables. Defaults to <code>FALSE</code>. Has no effect if <code>values = FALSE</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_data.title">data.title</code></td>
<td>
<p>Character variable with the title of the dataset.</p>
</td></tr>
<tr><td><code id="vtable_+3A_desc">desc</code></td>
<td>
<p>Character variable offering a brief description of the dataset itself. This will by default include information on the number of observations and the number of columns. To remove this, set <code>desc='omit'</code>, or include any description and then include <code>'omit'</code> as the last four characters.</p>
</td></tr>
<tr><td><code id="vtable_+3A_note">note</code></td>
<td>
<p>Table note to go after the last row of the table.</p>
</td></tr>
<tr><td><code id="vtable_+3A_note.align">note.align</code></td>
<td>
<p>Set the alignment for the multi-column table note. Usually &quot;l&quot;, but if you have a long note in LaTeX you might want to set it with &quot;p&quot;</p>
</td></tr>
<tr><td><code id="vtable_+3A_anchor">anchor</code></td>
<td>
<p>Character variable to be used to set an anchor link in HTML tables, or a label tag in LaTeX.</p>
</td></tr>
<tr><td><code id="vtable_+3A_col.width">col.width</code></td>
<td>
<p>Vector of page-width percentages, on 0-100 scale, overriding default column widths in HTML table. Must have a number of elements equal to the number of columns in the resulting table.</p>
</td></tr>
<tr><td><code id="vtable_+3A_col.align">col.align</code></td>
<td>
<p>For HTML output, a character vector indicating the HTML <code>text-align</code> attributes to be used in the table (for example <code>col.align = c('left','center','center')</code>. Defaults to all left-aligned. If you want to get tricky, you can add a <code>";"</code> afterwards and keep putting in whatever CSS attributes you want. They will be applied to the whole column.</p>
</td></tr>
<tr><td><code id="vtable_+3A_align">align</code></td>
<td>
<p>For LaTeX output, string indicating the alignment of each column. Use standard LaTeX syntax (i.e. <code>l|ccc</code>). Defaults to all <code>p{}</code> columns with widths set using the same defaults as with <code>col.width</code>.  Be sure to escape special characters, in particular backslashes (i.e. <code>p{.25\\textwidth}</code> instead of <code>p{.25\textwidth}</code>).</p>
</td></tr>
<tr><td><code id="vtable_+3A_fit.page">fit.page</code></td>
<td>
<p>For LaTeX output, uses a resizebox to force the table to a certain width. Set to <code>NA</code> to omit. Often <code>'\textwidth'</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_summ">summ</code></td>
<td>
<p>Character vector of summary statistics to include for numeric and logical variables, in the form <code>'function(x)'</code>. This option is flexible, and allows any summary statistic function that takes in a column and returns a single number. For example, <code>summ=c('mean(x)','mean(log(x))')</code> will provide the mean of each variable as well as the mean of the log of each variable. Keep in mind the special vtable package helper functions designed specifically for this option <code>propNA</code>, <code>countNA</code>, and <code>notNA</code>, which report counts and proportions of NAs, or counts of not-NAs, in the vectors, <code>nuniq</code>, which reports the number of unique values, and <code>pctile</code>, which returns a vector of the 100 percentiles of the variable. NAs will be omitted from all calculations other than <code>propNA(x)</code> and <code>countNA(x)</code>.</p>
</td></tr>
<tr><td><code id="vtable_+3A_lush">lush</code></td>
<td>
<p>Set to <code>TRUE</code> to select a set of options with more information: sets <code>char.values</code> and <code>missing</code> to <code>TRUE</code>, and sets summ to <code>c('mean(x)', 'sd(x)', 'nuniq(x)')</code>. <code>summ</code> can be overwritten by setting <code>summ</code> to something else.</p>
</td></tr>
<tr><td><code id="vtable_+3A_opts">opts</code></td>
<td>
<p>The same <code>vtable</code> options as above, but in a named list format. Useful for applying the same set of options to multiple <code>vtable</code>s.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Outputting the variable table as a help file will make it easy to search through variable names or labels, or to refer to information about the variables easily.
</p>
<p>This function is in a similar spirit to <code>promptData()</code>, but focuses on variable documentation rather than dataset documentation.
</p>
<p>If you would like to include a <code>vtable</code> in an RMarkdown document, it should just work! If you leave <code>out</code> blank, it will default to a nicely-formatted <code>knitr::kable()</code>, although this will drop some formatting elements like multi-column cells (or do <code>out="kable"</code> to get an unformatted <code>kable</code> that you can format yourself). If you prefer the <code>vtable</code> package formatting, then use <code>out="latex"</code> if outputting to LaTeX or <code>out="htmlreturn"</code> for HTML, both with <code>results="asis"</code> in the code chunk. Alternately, in HTML, you can use the <code>file</code> option to write to file and use a <code>&lt;iframe&gt;</code> to include it.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(interactive()){
df &lt;- data.frame(var1 = 1:4,var2=5:8,var3=c('A','B','C','D'),
    var4=as.factor(c('A','B','C','C')),var5=c(TRUE,TRUE,FALSE,FALSE))

#Demonstrating different options:
vtable(df,labels=c('Number 1','Number 2','Some Letters',
    'Some Labels','You Good?'))
vtable(subset(df,select=c(1,2,5)),
    labels=c('Number 1','Number 2','You Good?'),class=FALSE,values=FALSE)
vtable(subset(df,select=c('var1','var4')),
    labels=c('Number 1','Some Labels'),
    factor.limit=1,col.width=c(10,10,40,35))

#Different methods of applying variable labels:
labelsmethod2 &lt;- data.frame(var1='Number 1',var2='Number 2',
    var3='Some Letters',var4='Some Labels',var5='You Good?')
vtable(df,labels=labelsmethod2)
labelsmethod3 &lt;- data.frame(a =c("var1","var2","var3","var4","var5"),
    b=c('Number 1','Number 2','Some Letters','Some Labels','You Good?'))
vtable(df,labels=labelsmethod3)

#Using value labels and pre-labeled data:
library(sjlabelled)
df &lt;- set_label(df,c('Number 1','Number 2','Some Letters',
    'Some Labels','You Good?'))
df$var1 &lt;- set_labels(df$var1,labels=c('A little','Some more',
'Even more','A lot'))
vtable(df)

#efc is data with embedded variable and value labels from the sjlabelled package
library(sjlabelled)
data(efc)
vtable(efc)

#Displaying the values of a character vector
data(USJudgeRatings)
USJudgeRatings$Judge &lt;- row.names(USJudgeRatings)
vtable(USJudgeRatings,char.values=c('Judge'))

#Adding summary statistics for variable mean and proportion of data that is missing.
vtable(efc,summ=c('mean(x)','propNA(x)'))

}
</code></pre>

<hr>
<h2 id='weighted.sd'>Weighted standard deviation</h2><span id='topic+weighted.sd'></span>

<h3>Description</h3>

<p>This is a basic weighted standard deviation function, mainly for internal use with <code>sumtable</code>. For a more fully-fledged weighted SD function, see <code>Hmisc::wtd.var</code>, although it uses a slightly differend degree-of-freedom correction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weighted.sd(x, w, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weighted.sd_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="weighted.sd_+3A_w">w</code></td>
<td>
<p>A vector of weights. Negative weights are not allowed.</p>
</td></tr>
<tr><td><code id="weighted.sd_+3A_na.rm">na.rm</code></td>
<td>
<p>Set to <code>TRUE</code> to remove indices with missing values in <code>x</code> or <code>w</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 1, 2, 3, 4, 4, 4)
w &lt;- c(4, 1, 3, 7, 0, 2, 5)
weighted.sd(x, w)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

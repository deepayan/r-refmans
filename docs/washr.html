<!DOCTYPE html><html lang="en-GB"><head><title>Help for package washr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {washr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fill_dictionary'><p>Fill in the dictionary file based on the tidy data information</p></a></li>
<li><a href='#generate_roxygen_docs'><p>Generate roxygen2 documentation from a CSV file</p></a></li>
<li><a href='#setup_dictionary'><p>Create a dictionary file for tidy data sets</p></a></li>
<li><a href='#setup_rawdata'><p>Create the data-raw directory with a data-processing.R template</p></a></li>
<li><a href='#setup_readme'><p>Generate the README RMarkdown file</p></a></li>
<li><a href='#setup_roxygen'><p>Set up roxygen documentation for all tidy data sets using the dictionary</p></a></li>
<li><a href='#setup_website'><p>Set up a pkgdown website for the data package</p></a></li>
<li><a href='#update_citation'><p>Update the citation file for the dataset.</p></a></li>
<li><a href='#update_description'><p>Update the DESCRIPTION file to conform with openwashdata standards</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Publication Toolkit for Water, Sanitation and Hygiene (WASH)
Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A toolkit to set up an R data package in a consistent structure. Automates tasks like tidy data export, data dictionary documentation, README and website creation, and citation management.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>desc (&ge; 1.4.3), devtools (&ge; 2.4.5), cffr (&ge; 1.0.1), pkgdown
(&ge; 2.0.7), rlang (&ge; 1.1.3), usethis (&ge; 2.2.3), utils (&ge;
4.3.3)</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>rmarkdown</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-11-01</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://openwashdata.github.io/washr/">https://openwashdata.github.io/washr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/openwashdata/washr/issues">https://github.com/openwashdata/washr/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.2.1), withr (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-05 12:05:48 UTC; cwalder</td>
</tr>
<tr>
<td>Author:</td>
<td>Mian Zhong <a href="https://orcid.org/0009-0009-4546-7214"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Margaux Götschmann
    <a href="https://orcid.org/0009-0002-2567-3343"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Colin Walder <a href="https://orcid.org/0009-0006-0969-1954"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Lars Schöbitz <a href="https://orcid.org/0000-0003-2196-5015"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Global Health Engineering, ETH Zurich [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Colin Walder &lt;cwalder@ethz.ch&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-07 17:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='fill_dictionary'>Fill in the dictionary file based on the tidy data information</h2><span id='topic+fill_dictionary'></span>

<h3>Description</h3>

<p>Fill in the dictionary file based on the tidy data information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fill_dictionary(dict_path, data_dir)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fill_dictionary_+3A_dict_path">dict_path</code></td>
<td>
<p>Path to the dictionary csvfile.</p>
</td></tr>
<tr><td><code id="fill_dictionary_+3A_data_dir">data_dir</code></td>
<td>
<p>Path to the directory of the tidy R data objects. Defaults to data/</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble data frame of dataset dictionary with an empty description column to be written.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
update_dictionary(dict_path = "data-raw/my-dictionary.csv", data = "data/")

## End(Not run)


</code></pre>

<hr>
<h2 id='generate_roxygen_docs'>Generate roxygen2 documentation from a CSV file</h2><span id='topic+generate_roxygen_docs'></span>

<h3>Description</h3>

<p>This function takes a CSV table with columns <code>variable_name</code> and <code>description</code> as input,
optionally filters it by <code>variable_name</code>, and outputs roxygen2 documentation for <code style="white-space: pre;">&#8288;\describe&#8288;</code> and <code style="white-space: pre;">&#8288;\item&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_roxygen_docs(input_file_path, output_file_path, df_name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate_roxygen_docs_+3A_input_file_path">input_file_path</code></td>
<td>
<p>Path to the input CSV file.</p>
</td></tr>
<tr><td><code id="generate_roxygen_docs_+3A_output_file_path">output_file_path</code></td>
<td>
<p>Path to the output file that will contain the roxygen2 documentation.</p>
</td></tr>
<tr><td><code id="generate_roxygen_docs_+3A_df_name">df_name</code></td>
<td>
<p>Optional name of the variable to filter the input dataframe by. Default is NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character string of a generated roxygen documentation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Generate roxygen2 documentation from example.csv
generate_roxygen_docs("example.csv", "output.R")
# Generate roxygen2 documentation from example.csv for a specific variable name
generate_roxygen_docs("example.csv", "output.R", df_name = "specific_variable")

## End(Not run)

</code></pre>

<hr>
<h2 id='setup_dictionary'>Create a dictionary file for tidy data sets</h2><span id='topic+setup_dictionary'></span>

<h3>Description</h3>

<p><code>setup_dictionary()</code> generates a dictionary CSV file in the
<code style="white-space: pre;">&#8288;data/&#8288;</code> directory. The dictionary file
contains information on the tidy data sets such as directory, file names, variable names,
variable types, and descriptions. If tidy data exists, the dictionary is populated with
relevant information; otherwise, it creates an empty dictionary CSV file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_dictionary()
</code></pre>


<h3>Value</h3>

<p>NULL. Error if raw data is not found or not in a package directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
setup_rawdata()
# Go to data_processing.R, clean the raw data and export tidy data
setup_dictionary()

## End(Not run)


</code></pre>

<hr>
<h2 id='setup_rawdata'>Create the data-raw directory with a data-processing.R template</h2><span id='topic+setup_rawdata'></span>

<h3>Description</h3>

<p><code>setup_rawdata()</code> creates a directory for raw data and an example script
named <code>data_processing.R</code> for importing, processing and exporting the tidy data.
The template assumes that the dataset name is the same as the data package name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_rawdata()
</code></pre>


<h3>Value</h3>

<p>NULL. This function will create a directory &quot;data-raw&quot; under the package directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  setup_rawdata()

## End(Not run)

</code></pre>

<hr>
<h2 id='setup_readme'>Generate the README RMarkdown file</h2><span id='topic+setup_readme'></span>

<h3>Description</h3>

<p><code>setup_readme()</code> uses the openwashdata README template to generate README files based on datasets
retrieved from the <code style="white-space: pre;">&#8288;data/&#8288;</code> directory. It helps in creating consistent and informative README documentation
for your data packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_readme()
</code></pre>


<h3>Value</h3>

<p>NULL. This function creates a README.Rmd under the package directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Generate the README file after setting up the dictionary
setup_dictionary()
# Complete and save the dictionary CSV file with variable descriptions
setup_readme()

## End(Not run)
</code></pre>

<hr>
<h2 id='setup_roxygen'>Set up roxygen documentation for all tidy data sets using the dictionary</h2><span id='topic+setup_roxygen'></span>

<h3>Description</h3>

<p>Creates or updates Roxygen documentation for all tidy data sets found
in the dictionary file.
</p>
<p>When first run, this function creates the Roxygen documentation with placeholders
for the title and description field. The dictionary should include columns for
directory, file name, variable name, variable type, and description. This
function generates Roxygen comments with this information, facilitating
consistent and thorough documentation for your data sets.
</p>
<p>When re-run this function, this function updates only the variable description entries
in the Roxygen documentation files within R/ directory. The title and description fields remain
unchanged.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_roxygen()
</code></pre>


<h3>Value</h3>

<p>NULL. This function creates documentation files inside &quot;R/&quot;. Error if
tidy data cannot be found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
setup_dictionary()
# Once the dictionary is created, go to data-raw/dictionary.csv and complete the column description.
setup_roxygen()

## End(Not run)


</code></pre>

<hr>
<h2 id='setup_website'>Set up a pkgdown website for the data package</h2><span id='topic+setup_website'></span>

<h3>Description</h3>

<p><code>setup_website()</code> uses the openwashdata pkgdown template to create a website for the data package
based on its README.md file. The website provides a structured and visually appealing presentation
of the package's documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_website(has_example = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setup_website_+3A_has_example">has_example</code></td>
<td>
<p>Logical. Should the pkgdown website include a vignette page
for writing an example? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. Error if no README file is found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
# Set up the pkgdown website including a vignette page
 setup_website(has_example = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='update_citation'>Update the citation file for the dataset.</h2><span id='topic+update_citation'></span>

<h3>Description</h3>

<p>Create a citation *.cff file for the released dataset from a given DOI(Digital
Object Identifier). It adds the DOI badge to the README RMarkdown file and
re-build the README.md and pkgdown website if exists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_citation(doi)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_citation_+3A_doi">doi</code></td>
<td>
<p>DOI(Digital Object Identifier), e.g., 10.5281/zenodo.11185699</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. A citation .cff file is written under the root directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
  update_citation(doi = "10.5281/zenodo.11185699")

## End(Not run)


</code></pre>

<hr>
<h2 id='update_description'>Update the DESCRIPTION file to conform with openwashdata standards</h2><span id='topic+update_description'></span>

<h3>Description</h3>

<p>This function updates the DESCRIPTION file of an R package to comply with openwashdata standards.
It ensures that fields such as <code>License</code>, <code>Language</code>, <code>Date</code>, <code>URL</code>, and others are correctly specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_description(
  file = ".",
  github_user = "https://github.com/openwashdata/"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_description_+3A_file">file</code></td>
<td>
<p>Character. The file path to the DESCRIPTION file of the R package. Defaults to the current working directory.</p>
</td></tr>
<tr><td><code id="update_description_+3A_github_user">github_user</code></td>
<td>
<p>Character. The URL path to the GitHub user or organization that hosts the current package. Defaults to &quot;https://github.com/openwashdata&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. Update fields directly in DESCRIPTION file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 # Update DESCRIPTION file in the current package
update_description()

 # Update DESCRIPTION file in a specific package
update_description(file = "path/to/your/package/DESCRIPTION")

 # Update DESCRIPTION file with a specific GitHub user
update_description(github_user = "https://github.com/yourusername")

## End(Not run)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

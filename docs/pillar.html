<!DOCTYPE html><html><head><title>Help for package pillar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pillar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#align'><p>Alignment helper</p></a></li>
<li><a href='#char'><p>Format a character vector in a tibble</p></a></li>
<li><a href='#colonnade'><p>Format multiple vectors in a tabular display</p></a></li>
<li><a href='#ctl_new_pillar'><p>Customize the appearance of simple pillars in your tibble subclass</p></a></li>
<li><a href='#ctl_new_pillar_list'><p>Customize the appearance of compound pillars in your tibble subclass</p></a></li>
<li><a href='#deprecated'><p>Deprecated functions</p></a></li>
<li><a href='#dim_desc'><p>Format dimensions</p></a></li>
<li><a href='#extra_cols'><p>Retrieve information about columns that didn't fit the available width</p></a></li>
<li><a href='#format_glimpse'><p>Format a vector for horizontal printing</p></a></li>
<li><a href='#format_tbl'><p>Formatting of tbl objects</p></a></li>
<li><a href='#format_type_sum'><p>Format a type summary</p></a></li>
<li><a href='#get_extent'><p>Calculate display width</p></a></li>
<li><a href='#glimpse'><p>Get a glimpse of your data</p></a></li>
<li><a href='#new_ornament'><p>Helper to define the contents of a pillar</p></a></li>
<li><a href='#new_pillar'><p>Construct a custom pillar object</p></a></li>
<li><a href='#new_pillar_component'><p>Components of a pillar</p></a></li>
<li><a href='#new_pillar_shaft'><p>Constructor for column data</p></a></li>
<li><a href='#new_pillar_title'><p>Prepare a column title for formatting</p></a></li>
<li><a href='#new_pillar_type'><p>Prepare a column type for formatting</p></a></li>
<li><a href='#new_tbl_format_setup'><p>Construct a setup object for formatting</p></a></li>
<li><a href='#num'><p>Format a numeric vector in a tibble</p></a></li>
<li><a href='#pillar'><p>Object for formatting a vector suitable for tabular display</p></a></li>
<li><a href='#pillar_options'><p>Package options</p></a></li>
<li><a href='#pillar_shaft'><p>Column data</p></a></li>
<li><a href='#pillar-package'><p>pillar: Coloured Formatting for Columns</p></a></li>
<li><a href='#scale_x_num'><p>Scale that supports formatted numbers</p></a></li>
<li><a href='#squeeze'><p>Squeeze a colonnade to a fixed width</p></a></li>
<li><a href='#style_num'><p>Styling helpers</p></a></li>
<li><a href='#tbl_format_body'><p>Format the body of a tibble</p></a></li>
<li><a href='#tbl_format_footer'><p>Format the footer of a tibble</p></a></li>
<li><a href='#tbl_format_header'><p>Format the header of a tibble</p></a></li>
<li><a href='#tbl_format_setup'><p>Set up formatting</p></a></li>
<li><a href='#tbl_sum'><p>Provide a succinct summary of an object</p></a></li>
<li><a href='#type_sum'><p>Provide a succinct summary of an object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Coloured Formatting for Columns</td>
</tr>
<tr>
<td>Version:</td>
<td>1.9.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides 'pillar' and 'colonnade' generics designed
    for formatting columns of data using the full range of colours
    provided by modern terminals.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://pillar.r-lib.org/">https://pillar.r-lib.org/</a>, <a href="https://github.com/r-lib/pillar">https://github.com/r-lib/pillar</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/pillar/issues">https://github.com/r-lib/pillar/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 2.3.0), fansi, glue, lifecycle, rlang (&ge; 1.0.2), utf8
(&ge; 1.1.0), utils, vctrs (&ge; 0.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bit64, DBI, debugme, DiagrammeR, dplyr, formattable, ggplot2,
knitr, lubridate, nanotime, nycflights13, palmerpenguins,
rmarkdown, scales, stringi, survival, testthat (&ge; 3.1.1),
tibble, units (&ge; 0.7.2), vdiffr, withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/start-first:</td>
<td>format_multi_fuzz, format_multi_fuzz_2,
format_multi, ctl_colonnade, ctl_colonnade_1, ctl_colonnade_2</td>
</tr>
<tr>
<td>Config/autostyle/scope:</td>
<td>line_breaks</td>
</tr>
<tr>
<td>Config/autostyle/strict:</td>
<td>true</td>
</tr>
<tr>
<td>Config/gha/extra-packages:</td>
<td>DiagrammeR=?ignore-before-r=3.5.0</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-21 08:42:46 UTC; kirill</td>
</tr>
<tr>
<td>Author:</td>
<td>Kirill Müller <a href="https://orcid.org/0000-0002-1416-3412"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Hadley Wickham [aut],
  RStudio [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kirill Müller &lt;kirill@cynkra.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-22 08:10:02 UTC</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; ; 2024-01-02 07:51:35 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='align'>Alignment helper</h2><span id='topic+align'></span>

<h3>Description</h3>

<p>Facilitates easy alignment of strings within a character vector. Designed to
help implementers of formatters for custom data types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>align(x, width = NULL, align = c("left", "right"), space = " ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="align_+3A_x">x</code></td>
<td>
<p>A character vector</p>
</td></tr>
<tr><td><code id="align_+3A_width">width</code></td>
<td>
<p>The width that each string is padded to. If <code>NULL</code>, the maximum
display width of the character vector is used (see <code><a href="pillar.html#topic+get_max_extent">get_max_extent()</a></code>).</p>
</td></tr>
<tr><td><code id="align_+3A_align">align</code></td>
<td>
<p>How should strings be aligned? If <code>align = left</code> then padding
appears on the <code>right</code>, and vice versa.</p>
</td></tr>
<tr><td><code id="align_+3A_space">space</code></td>
<td>
<p>What character should be used for the padding?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>align(c("abc", "de"), align = "left")
align(c("abc", "de"), align = "right")
</code></pre>

<hr>
<h2 id='char'>Format a character vector in a tibble</h2><span id='topic+char'></span><span id='topic+set_char_opts'></span>

<h3>Description</h3>

<p>These functions are reexported as <code><a href="tibble.html#topic+char">tibble::char()</a></code> and <code><a href="tibble.html#topic+char">tibble::set_char_opts()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>char(
  x,
  ...,
  min_chars = NULL,
  shorten = c("back", "front", "mid", "abbreviate")
)

set_char_opts(
  x,
  ...,
  min_chars = NULL,
  shorten = c("back", "front", "mid", "abbreviate")
)
</code></pre>

<hr>
<h2 id='colonnade'>Format multiple vectors in a tabular display</h2><span id='topic+colonnade'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#soft-deprecated"><img src="../help/figures/lifecycle-soft-deprecated.svg" alt='[Soft-deprecated]' /></a>
</p>
<p>The vectors are formatted to fit horizontally into a user-supplied number of
characters per row.
</p>
<p>The <code>colonnade()</code> function doesn't process the input but returns an object
with a <code><a href="base.html#topic+format">format()</a></code> and a <code><a href="base.html#topic+print">print()</a></code> method.
The implementations call <code><a href="pillar.html#topic+squeeze">squeeze()</a></code> to create <a href="pillar.html#topic+pillar">pillar</a> objects and fit them to a given width.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colonnade(x, has_row_id = TRUE, width = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colonnade_+3A_x">x</code></td>
<td>
<p>A list, which can contain matrices or data frames.
If named, the names will be used as title for the pillars. Non-syntactic names
will be escaped.</p>
</td></tr>
<tr><td><code id="colonnade_+3A_has_row_id">has_row_id</code></td>
<td>
<p>Include a column indicating row IDs? Pass <code>"*"</code> to mark
the row ID column with a star.</p>
</td></tr>
<tr><td><code id="colonnade_+3A_width">width</code></td>
<td>
<p>Default width of the entire output, optional.</p>
</td></tr>
<tr><td><code id="colonnade_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Pillars may be distributed over multiple tiers if
<code>width &gt; getOption("width")</code>. In this case each tier is at most
<code>getOption("width")</code> characters wide. The very first step of formatting
is to determine how many tiers are shown at most, and the width of each
tier.
</p>
<p>To avoid unnecessary computation for showing very wide colonnades, a first
pass tries to fit all capitals into the tiers.
For each pillar whose capital fits, it is then decided in which tier it is
shown, if at all, and how much horizontal space it may use (either its
minimum or its maximum width).
Remaining space is then distributed proportionally to pillars that do not
use their desired width.
</p>
<p>For fitting pillars in one or more tiers, first a check is made
if all pillars fit with their maximum width (e.g.,
<code>option(tibble.width = Inf)</code> or narrow colonnade).
If yes, this is the resulting fit, no more work needs to be done.
Otherwise, if the maximum width is too wide, the same test
is carried out with the minimum width.
If this is still too wide, this is the resulting fit.
Otherwise, some tiers from the start
will contain pillars with their maximum width,
one tier will contain some pillars with maximum and some with minimum width,
and the remaining tiers contain pillars with their minimum width only.
</p>
<p>For this, we compute a &quot;reverse minimum assignment&quot;.
</p>
<p>We determine the cut point where minimum and maximum assignment
agree.
The following strategy is applied:
</p>

<ol>
<li><p> First, we determine the tier in which the cut point lies.
This is the first instance of a column that ends up in the same tier
for both minimum and maximum assignment.
</p>
</li>
<li><p> A set of candidate cut points is derived.
</p>
</li>
<li><p> We consult the column offsets. The last column where the minimum assignment
has a greater or equal offset than the maximum assignment is our latest
cut point.
If no such column exists, the cut point is the column just before our
first candidate.
</p>
</li>
<li><p> Finally, we combine maximum and minimum reverse fits at the cut point.
We don't need to redistribute anything here.
</p>
</li></ol>

<p>Fitting pillars into tiers is very similar to a word-wrapping algorithm.
In a loop, new tiers are opened if the current tier overflows.
If a column is too wide to fit a single tier, it will never be
displayed, and the colonnade will be truncated there.
This case should never occur with reasonable display widths larger than
30 characters.
Truncation also happens if all available tiers are filled.
</p>
<p>The remaining space is distributed from left to right.
Each column gains space proportional to the fraction of missing and
remaining space,
rounded down.
Any space remaining after rounding is distributed from left to right,
one space per column.
</p>

<hr>
<h2 id='ctl_new_pillar'>Customize the appearance of simple pillars in your tibble subclass</h2><span id='topic+ctl_new_pillar'></span><span id='topic+ctl_new_rowid_pillar'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Gain full control over the appearance of the pillars of your tibble subclass
in its body.
This method is intended for implementers of subclasses of the <code>"tbl"</code> class.
Users will rarely need them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctl_new_pillar(controller, x, width, ..., title = NULL)

ctl_new_rowid_pillar(controller, x, width, ..., title = NULL, type = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ctl_new_pillar_+3A_controller">controller</code></td>
<td>
<p>The object of class <code>"tbl"</code> currently printed.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_+3A_x">x</code></td>
<td>
<p>A simple (one-dimensional) vector.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_+3A_width">width</code></td>
<td>
<p>The available width, can be a vector for multiple tiers.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_+3A_title">title</code></td>
<td>
<p>The title, derived from the name of the column in the data.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_+3A_type">type</code></td>
<td>
<p>String for specifying a row ID type. Current values in use are
<code>NULL</code> and <code>"*"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ctl_new_pillar()</code> is called to construct pillars for regular (one-dimensional)
vectors.
The default implementation returns an object constructed with <code><a href="pillar.html#topic+pillar">pillar()</a></code>.
Extend this method to modify the pillar components returned from the default
implementation.
Override this method to completely change the appearance of the pillars.
Components are created with <code><a href="pillar.html#topic+new_pillar_component">new_pillar_component()</a></code> or <code><a href="pillar.html#topic+pillar_component">pillar_component()</a></code>.
In order to customize printing of row IDs, a method can be supplied for the
<code>ctl_new_rowid_pillar()</code> generic.
</p>
<p>All components must be of the same height.
This restriction may be levied in the future.
</p>
<p>Implementations should return <code>NULL</code> if none of the data
fits the available width.
</p>


<h3>See Also</h3>

<p>See <code><a href="pillar.html#topic+ctl_new_pillar_list">ctl_new_pillar_list()</a></code> for creating pillar objects for compound columns:
packed data frames, matrices, or arrays.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create pillar objects
ctl_new_pillar(
  palmerpenguins::penguins,
  palmerpenguins::penguins$species[1:3],
  width = 60
)

ctl_new_pillar(
  palmerpenguins::penguins,
  palmerpenguins::penguins$bill_length_mm[1:3],
  width = 60
)


# Customize output
lines &lt;- function(char = "-") {
  stopifnot(nchar(char) == 1)
  structure(char, class = "lines")
}

format.lines &lt;- function(x, width, ...) {
  paste(rep(x, width), collapse = "")
}

ctl_new_pillar.line_tbl &lt;- function(controller, x, width, ...) {
  out &lt;- NextMethod()
  new_pillar(list(
    title = out$title,
    type = out$type,
    lines = new_pillar_component(list(lines("=")), width = 1),
    data = out$data
  ))
}

ctl_new_rowid_pillar.line_tbl &lt;- function(controller, x, width, ...) {
  out &lt;- NextMethod()
  new_pillar(
    list(
      title = out$title,
      type = out$type,
      lines = new_pillar_component(list(lines("=")), width = 1),
      data = out$data
    ),
    width = as.integer(floor(log10(max(nrow(x), 1))) + 1)
  )
}

vctrs::new_data_frame(
  list(a = 1:3, b = letters[1:3]),
  class = c("line_tbl", "tbl")
)

ctl_new_rowid_pillar.roman_tbl &lt;- function(controller, x, width, ...) {
  out &lt;- NextMethod()
  rowid &lt;- utils::as.roman(seq_len(nrow(x)))
  width &lt;- max(nchar(as.character(rowid)))
  new_pillar(
    list(
      title = out$title,
      type = out$type,
      data = pillar_component(
        new_pillar_shaft(list(row_ids = rowid),
          width = width,
          class = "pillar_rif_shaft"
        )
      )
    ),
    width = width
  )
}

vctrs::new_data_frame(
  list(a = 1:3, b = letters[1:3]),
  class = c("roman_tbl", "tbl")
)

</code></pre>

<hr>
<h2 id='ctl_new_pillar_list'>Customize the appearance of compound pillars in your tibble subclass</h2><span id='topic+ctl_new_pillar_list'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Gain full control over the appearance of the pillars of your tibble subclass
in its body.
This method is intended for implementers of subclasses of the <code>"tbl"</code> class.
Users will rarely need them, and we also expect the default implementation
to be sufficient for the vast majority of cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctl_new_pillar_list(
  controller,
  x,
  width,
  ...,
  title = NULL,
  first_pillar = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ctl_new_pillar_list_+3A_controller">controller</code></td>
<td>
<p>The object of class <code>"tbl"</code> currently printed.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_list_+3A_x">x</code></td>
<td>
<p>A vector, can also be a data frame, matrix, or array.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_list_+3A_width">width</code></td>
<td>
<p>The available width, can be a vector for multiple tiers.
If <code>NULL</code>, only the first pillar is instantiated.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_list_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_list_+3A_title">title</code></td>
<td>
<p>The title, derived from the name of the column in the data.</p>
</td></tr>
<tr><td><code id="ctl_new_pillar_list_+3A_first_pillar">first_pillar</code></td>
<td>
<p>Can be passed to this method if the first pillar
for a compound pillar (or the pillar itself for a simple pillar)
has been constructed already.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ctl_new_pillar_list()</code> is called to construct a list of pillars.
If <code>x</code> is a regular (one-dimensional) vector, the list contains one pillar
constructed by <code><a href="pillar.html#topic+ctl_new_pillar">ctl_new_pillar()</a></code>.
This method also works for compound columns: columns that are data frames,
matrices or arrays, with the following behavior:
</p>

<ul>
<li><p> If <code>width</code> is <code>NULL</code>, the method always returns a list of length one
containing one pillar object that represents the first sub-column in this
compound column.
</p>
</li>
<li><p> Otherwise, the returned list contains one pillar object for all sub-columns
that can be fit in the available horizontal space.
These pillar objects are obtained by calling <code>ctl_new_pillar_list()</code>
with <code>width = NULL</code> on each sub-column until the available width is
exhausted.
</p>
</li></ul>

<p>This method is called to initiate the construction of all pillars
in the tibble to be printed.
To ensure that all packed columns that fit the available space are printed,
<code>ctl_new_pillar_list()</code> may be called twice on the same input:
once with <code>width = NULL</code>, and
once with <code>width</code> corresponding to the then known available space
and with <code>first_pillar</code> set to the pillar object constructed in the
first call.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Simple column
ctl_new_pillar_list(
  tibble::tibble(),
  palmerpenguins::penguins$weight[1:3],
  width = 10
)

# Packed data frame: unknown width
ctl_new_pillar_list(
  tibble::tibble(),
  palmerpenguins::penguins[1:3, ],
  width = NULL
)

# Packed data frame: known width
ctl_new_pillar_list(
  tibble::tibble(),
  palmerpenguins::penguins,
  width = 60
)

# Deeply packed data frame with known width:
# showing only the first sub-column even if the width is sufficient
ctl_new_pillar_list(
  tibble::tibble(),
  tibble::tibble(x = tibble::tibble(b = 1, c = 2), y = 3),
  width = 60
)

# Packed matrix: unknown width
ctl_new_pillar_list(tibble::tibble(), matrix(1:6, ncol = 2), width = NULL)

# Packed matrix: known width
ctl_new_pillar_list(tibble::tibble(), matrix(1:6, ncol = 2), width = 60)

# Packed array
ctl_new_pillar_list(tibble::tibble(), Titanic, width = 60)

</code></pre>

<hr>
<h2 id='deprecated'>Deprecated functions</h2><span id='topic+deprecated'></span><span id='topic+is_vector_s3'></span><span id='topic+expect_known_display'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Use <code><a href="vctrs.html#topic+vec_assert">vctrs::vec_is()</a></code> instead of <code>is_vector_s3()</code>.
</p>
<p>Use <code><a href="testthat.html#topic+expect_snapshot">testthat::expect_snapshot()</a></code> instead of <code>expect_known_display()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_vector_s3(x)

expect_known_display(object, file, ..., width = 80L, crayon = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deprecated_+3A_object">object</code></td>
<td>
<p>An object to check.</p>
</td></tr>
<tr><td><code id="deprecated_+3A_file">file</code></td>
<td>
<p>File path where known value/output will be stored.</p>
</td></tr>
<tr><td><code id="deprecated_+3A_...">...</code></td>
<td>
<p>Unused.</p>
</td></tr>
<tr><td><code id="deprecated_+3A_width">width</code></td>
<td>
<p>The width of the output.</p>
</td></tr>
<tr><td><code id="deprecated_+3A_crayon">crayon</code></td>
<td>
<p>Color the output?</p>
</td></tr>
</table>

<hr>
<h2 id='dim_desc'>Format dimensions</h2><span id='topic+dim_desc'></span>

<h3>Description</h3>

<p>Multi-dimensional objects are formatted as <code style="white-space: pre;">&#8288;a x b x ...&#8288;</code>, for vectors the
length is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dim_desc(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dim_desc_+3A_x">x</code></td>
<td>
<p>The object to format the dimensions for</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>dim_desc(1:10)
dim_desc(Titanic)
</code></pre>

<hr>
<h2 id='extra_cols'>Retrieve information about columns that didn't fit the available width</h2><span id='topic+extra_cols'></span><span id='topic+extra_cols.pillar_squeezed_colonnade'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#soft-deprecated"><img src="../help/figures/lifecycle-soft-deprecated.svg" alt='[Soft-deprecated]' /></a>
</p>
<p>Formatting a <a href="pillar.html#topic+colonnade">colonnade</a> object may lead to some columns being omitted
due to width restrictions. This method returns a character vector that
describes each of the omitted columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extra_cols(x, ...)

## S3 method for class 'pillar_squeezed_colonnade'
extra_cols(x, ..., n = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extra_cols_+3A_x">x</code></td>
<td>
<p>The result of <code><a href="pillar.html#topic+squeeze">squeeze()</a></code> on a <a href="pillar.html#topic+colonnade">colonnade</a> object</p>
</td></tr>
<tr><td><code id="extra_cols_+3A_...">...</code></td>
<td>
<p>Arguments passed to methods.</p>
</td></tr>
<tr><td><code id="extra_cols_+3A_n">n</code></td>
<td>
<p>The number of extra columns to return; the returned vector will
always contain as many elements as there are extra columns, but elements
beyond <code>n</code> will be <code>NA</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='format_glimpse'>Format a vector for horizontal printing</h2><span id='topic+format_glimpse'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>This generic provides the logic for printing vectors in <code><a href="dplyr.html#topic+glimpse">glimpse()</a></code>.
</p>
<p>The output strives to be as unambiguous as possible,
without compromising on readability.
In a list, to distinguish between vectors and nested lists,
the latter are surrounded by <code style="white-space: pre;">&#8288;[]&#8288;</code> brackets.
Empty lists are shown as <code style="white-space: pre;">&#8288;[]&#8288;</code>.
Vectors inside lists, of length not equal to one,
are surrounded by <code style="white-space: pre;">&#8288;&lt;&gt;&#8288;</code> angle brackets.
Empty vectors are shown as <code style="white-space: pre;">&#8288;&lt;&gt;&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_glimpse(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_glimpse_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="format_glimpse_+3A_...">...</code></td>
<td>
<p>Arguments passed to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length as <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>format_glimpse(1:3)

# Lists use [], vectors inside lists use &lt;&gt;
format_glimpse(list(1:3))
format_glimpse(list(1, 2:3))
format_glimpse(list(list(1), list(2:3)))
format_glimpse(list(as.list(1), as.list(2:3)))
format_glimpse(list(character()))
format_glimpse(list(NULL))

# Character strings are always quoted
writeLines(format_glimpse(letters[1:3]))
writeLines(format_glimpse(c("A", "B, C")))

# Factors are quoted only when needed
writeLines(format_glimpse(factor(letters[1:3])))
writeLines(format_glimpse(factor(c("A", "B, C"))))
</code></pre>

<hr>
<h2 id='format_tbl'>Formatting of tbl objects</h2><span id='topic+format_tbl'></span><span id='topic+print.tbl'></span><span id='topic+format.tbl'></span>

<h3>Description</h3>

<p>See <a href="tibble.html#topic+formatting">tibble::formatting</a> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tbl'
print(
  x,
  width = NULL,
  ...,
  n = NULL,
  max_extra_cols = NULL,
  max_footer_lines = NULL
)

## S3 method for class 'tbl'
format(
  x,
  width = NULL,
  ...,
  n = NULL,
  max_extra_cols = NULL,
  max_footer_lines = NULL
)
</code></pre>

<hr>
<h2 id='format_type_sum'>Format a type summary</h2><span id='topic+format_type_sum'></span><span id='topic+format_type_sum.default'></span><span id='topic+format_type_sum.AsIs'></span>

<h3>Description</h3>

<p>Called on values returned from <code><a href="dplyr.html#topic+type_sum">type_sum()</a></code> for defining the description
in the capital.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_type_sum(x, width, ...)

## Default S3 method:
format_type_sum(x, width, ...)

## S3 method for class 'AsIs'
format_type_sum(x, width, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_type_sum_+3A_x">x</code></td>
<td>
<p>A return value from <code>type_sum()</code></p>
</td></tr>
<tr><td><code id="format_type_sum_+3A_width">width</code></td>
<td>
<p>The desired total width. If the returned string still is
wider, it will be trimmed. Can be <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="format_type_sum_+3A_...">...</code></td>
<td>
<p>Arguments passed to methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two methods are implemented by default for this generic: the default method,
and the method for the <code>"AsIs"</code> class.
Return <code>I("type")</code> from your <code><a href="dplyr.html#topic+type_sum">type_sum()</a></code> implementation to format the type
without angle brackets.
For even more control over the formatting, implement your own method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Default method: show the type with angle brackets
format_type_sum(1, NULL)
pillar(1)

# AsIs method: show the type without angle brackets
type_sum.accel &lt;- function(x) {
  I("kg m/s^2")
}

accel &lt;- structure(9.81, class = "accel")
pillar(accel)
</code></pre>

<hr>
<h2 id='get_extent'>Calculate display width</h2><span id='topic+get_extent'></span><span id='topic+get_max_extent'></span>

<h3>Description</h3>

<p><code>get_extent()</code> calculates the display width for each string in a character
vector.
</p>
<p><code>get_max_extent()</code> calculates the maximum display width of all strings in a
character vector, zero for empty vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_extent(x)

get_max_extent(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_extent_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>get_extent(c("abc", "de"))
get_extent("\u904b\u6c23")
get_max_extent(c("abc", "de"))
</code></pre>

<hr>
<h2 id='glimpse'>Get a glimpse of your data</h2><span id='topic+glimpse'></span>

<h3>Description</h3>

<p><code>glimpse()</code> is like a transposed version of <code>print()</code>:
columns run down the page, and data runs across.
This makes it possible to see every column in a data frame.
It's a little like <code><a href="utils.html#topic+str">str()</a></code> applied to a data frame
but it tries to show you as much data as possible.
(And it always shows the underlying data, even when applied
to a remote data source.)
</p>
<p>See <code><a href="pillar.html#topic+format_glimpse">format_glimpse()</a></code> for details on the formatting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glimpse(x, width = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glimpse_+3A_x">x</code></td>
<td>
<p>An object to glimpse at.</p>
</td></tr>
<tr><td><code id="glimpse_+3A_width">width</code></td>
<td>
<p>Width of output: defaults to the setting of the
<code>width</code> <a href="pillar.html#topic+pillar_options">option</a> (if finite)
or the width of the console.</p>
</td></tr>
<tr><td><code id="glimpse_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x original x is (invisibly) returned, allowing <code>glimpse()</code> to be
used within a data pipe line.
</p>


<h3>S3 methods</h3>

<p><code>glimpse</code> is an S3 generic with a customised method for <code>tbl</code>s and
<code>data.frames</code>, and a default method that calls <code><a href="utils.html#topic+str">str()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>glimpse(mtcars)


glimpse(nycflights13::flights)

</code></pre>

<hr>
<h2 id='new_ornament'>Helper to define the contents of a pillar</h2><span id='topic+new_ornament'></span>

<h3>Description</h3>

<p>This function is useful if your data renders differently depending on the
available width. In this case, implement the <code><a href="pillar.html#topic+pillar_shaft">pillar_shaft()</a></code> method for your
class to return a subclass of &quot;pillar_shaft&quot; and have the <code><a href="base.html#topic+format">format()</a></code> method
for this subclass call <code>new_ornament()</code>. See the implementation of
<code>pillar_shaft.numeric()</code> and <code>format.pillar_shaft_decimal()</code> for an example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_ornament(x, width = NULL, align = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_ornament_+3A_x">x</code></td>
<td>
<p>A character vector with formatting,
can use ANYI styles e.g provided by the <span class="pkg">cli</span> package.</p>
</td></tr>
<tr><td><code id="new_ornament_+3A_width">width</code></td>
<td>
<p>An optional width of the resulting pillar, computed from <code>x</code> if
missing</p>
</td></tr>
<tr><td><code id="new_ornament_+3A_align">align</code></td>
<td>
<p>Alignment, one of <code>"left"</code> or <code>"right"</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>new_ornament(c("abc", "de"), align = "right")
</code></pre>

<hr>
<h2 id='new_pillar'>Construct a custom pillar object</h2><span id='topic+new_pillar'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p><code>new_pillar()</code> is the low-level constructor for pillar objects.
It supports arbitrary components.
See <code><a href="pillar.html#topic+pillar">pillar()</a></code> for the high-level constructor with default components.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pillar(components, ..., width = NULL, class = NULL, extra = deprecated())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_pillar_+3A_components">components</code></td>
<td>
<p>A named list of components constructed with <code><a href="pillar.html#topic+pillar_component">pillar_component()</a></code>.</p>
</td></tr>
<tr><td><code id="new_pillar_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="new_pillar_+3A_width">width</code></td>
<td>
<p>Default width, optional.</p>
</td></tr>
<tr><td><code id="new_pillar_+3A_class">class</code></td>
<td>
<p>Name of subclass.</p>
</td></tr>
<tr><td><code id="new_pillar_+3A_extra">extra</code></td>
<td>
<p>Deprecated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Arbitrary components are supported.
If your tibble subclass needs more or different components in its pillars,
override or extend <code><a href="pillar.html#topic+ctl_new_pillar">ctl_new_pillar()</a></code> and perhaps <code><a href="pillar.html#topic+ctl_new_pillar_list">ctl_new_pillar_list()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lines &lt;- function(char = "-") {
  stopifnot(nchar(char) == 1)
  structure(char, class = "lines")
}

format.lines &lt;- function(x, width, ...) {
  paste(rep(x, width), collapse = "")
}

new_pillar(list(
  title = pillar_component(new_ornament(c("abc", "de"), align = "right")),
  lines = new_pillar_component(list(lines("=")), width = 1)
))
</code></pre>

<hr>
<h2 id='new_pillar_component'>Components of a pillar</h2><span id='topic+new_pillar_component'></span><span id='topic+pillar_component'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p><code>new_pillar_component()</code> constructs an object of class <code>"pillar_component"</code>.
It is used by custom <code><a href="pillar.html#topic+ctl_new_pillar">ctl_new_pillar()</a></code> methods to create pillars with
nonstandard components.
</p>
<p><code>pillar_component()</code> is a convenience helper that wraps the input in a list
and extracts width and minimum width.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pillar_component(x, ..., width, min_width = NULL)

pillar_component(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_pillar_component_+3A_x">x</code></td>
<td>
<p>A bare list of length one (for <code>new_pillar_component()</code>),
or an object with <code>"width"</code> and <code>"min_width"</code> attributes
(for <code>pillar_component()</code>).</p>
</td></tr>
<tr><td><code id="new_pillar_component_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="new_pillar_component_+3A_width">width</code>, <code id="new_pillar_component_+3A_min_width">min_width</code></td>
<td>
<p>Width and minimum width for the new component.
If <code>min_width</code> is <code>NULL</code>, it is assumed to match <code>width</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Objects of class <code>"pillar"</code> are internally a named lists of their components.
The default components for pillars created by <code><a href="pillar.html#topic+pillar">pillar()</a></code> are:
<code>title</code> (may be missing), <code>type</code>, and <code>data</code>.
Each component is a <code>"pillar_component"</code> object.
</p>
<p>This class captures contents that can be fitted in a simple column.
Compound columns are represented by multiple pillar objects, each with their
own components.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>new_pillar_component(list(letters[1:3]), width = 1)
pillar_component(new_pillar_title("letters"))
pillar_component(new_pillar_type(letters))
pillar_component(pillar_shaft(letters[1:3]))
</code></pre>

<hr>
<h2 id='new_pillar_shaft'>Constructor for column data</h2><span id='topic+new_pillar_shaft'></span><span id='topic+new_pillar_shaft_simple'></span>

<h3>Description</h3>

<p>The <code>new_pillar_shaft()</code> constructor creates objects of the <code>"pillar_shaft"</code>
class.
This is a virtual or abstract class, you must specify the <code>class</code>
argument.
By convention, this should be a string that starts with <code>"pillar_shaft_"</code>.
See <code>vignette("extending", package = "tibble")</code> for usage examples.
</p>
<p>This method accepts a vector of arbitrary length and is expected to return an S3 object with the following properties:
</p>

<ul>
<li><p> It has an attribute <code>"width"</code>
</p>
</li>
<li><p> It can have an attribute <code>"min_width"</code>, if missing, <code>"width"</code> is used
</p>
</li>
<li><p> It must implement a method <code>format(x, width, ...)</code> that can be called with any value between <code>min_width</code> and <code>width</code>
</p>
</li>
<li><p> This method must return an object that inherits from <code>character</code> and has attributes <code>"align"</code> (with supported values <code>"left"</code>, <code>"right"</code>, and <code>"center"</code>) and <code>"width"</code>
</p>
</li></ul>

<p>The function <code><a href="pillar.html#topic+new_pillar_shaft">new_pillar_shaft()</a></code> returns such an object, and also correctly formats <code>NA</code> values.
In many cases, the implementation of <code>pillar_shaft.your_class_name()</code> will format the data as a character vector (using color for emphasis) and simply call <code>new_pillar_shaft()</code>.
See <code>pillar:::pillar_shaft.numeric</code> for a code that allows changing the display depending on the available width.
</p>
<p><code>new_pillar_shaft_simple()</code> provides an implementation of the <code>pillar_shaft</code>
class suitable for output that has a fixed formatting, which will be
truncated with a continuation character (ellipsis or <code>~</code>) if it doesn't fit
the available width.
By default, the required width is computed from the natural width of the
<code>formatted</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pillar_shaft(
  x,
  ...,
  width = NULL,
  min_width = width,
  type_sum = NULL,
  class = NULL,
  subclass = NULL
)

new_pillar_shaft_simple(
  formatted,
  ...,
  width = NULL,
  align = "left",
  min_width = NULL,
  na = NULL,
  na_indent = 0L,
  shorten = c("back", "front", "mid", "abbreviate"),
  short_formatted = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_pillar_shaft_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="pillar.html#topic+new_pillar_shaft">new_pillar_shaft()</a></code>.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_width">width</code></td>
<td>
<p>The maximum column width.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_min_width">min_width</code></td>
<td>
<p>The minimum allowed column width, <code>width</code> if omitted.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_type_sum">type_sum</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Override the type summary displayed at the top of the data.
This argument, if given, takes precedence over the type summary provided by
<code><a href="dplyr.html#topic+type_sum">type_sum()</a></code>.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_class">class</code></td>
<td>
<p>The name of the subclass.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_subclass">subclass</code></td>
<td>
<p>Deprecated, pass the <code>class</code> argument instead.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_formatted">formatted</code></td>
<td>
<p>The data to show, an object coercible to <a href="base.html#topic+character">character</a>.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_align">align</code></td>
<td>
<p>Alignment of the column.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_na">na</code></td>
<td>
<p>String to use as <code>NA</code> value, defaults to <code>"NA"</code> styled with
<code><a href="pillar.html#topic+style_na">style_na()</a></code> with fallback if color is not available.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_na_indent">na_indent</code></td>
<td>
<p>Indentation of <code>NA</code> values.</p>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_shorten">shorten</code></td>
<td>
<p>How to abbreviate the data if necessary:
</p>

<ul>
<li> <p><code>"back"</code> (default): add an ellipsis at the end
</p>
</li>
<li> <p><code>"front"</code>: add an ellipsis at the front
</p>
</li>
<li> <p><code>"mid"</code>: add an ellipsis in the middle
</p>
</li>
<li> <p><code>"abbreviate"</code>: use <code><a href="base.html#topic+abbreviate">abbreviate()</a></code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="new_pillar_shaft_+3A_short_formatted">short_formatted</code></td>
<td>
<p>If provided, a character vector of the same length as
<code>formatted</code>, to be used when the available width is insufficient to show
the full output.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>formatted</code> argument may also contain ANSI escapes to change color
or other attributes of the text, provided e.g. by the <span class="pkg">cli</span> package.
</p>

<hr>
<h2 id='new_pillar_title'>Prepare a column title for formatting</h2><span id='topic+new_pillar_title'></span>

<h3>Description</h3>

<p>Call <code><a href="base.html#topic+format">format()</a></code> on the result to render column titles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pillar_title(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_pillar_title_+3A_x">x</code></td>
<td>
<p>A character vector of column titles.</p>
</td></tr>
<tr><td><code id="new_pillar_title_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>format(new_pillar_title(names(trees)))
</code></pre>

<hr>
<h2 id='new_pillar_type'>Prepare a column type for formatting</h2><span id='topic+new_pillar_type'></span>

<h3>Description</h3>

<p>Calls <code><a href="dplyr.html#topic+type_sum">type_sum()</a></code> to format the type.
Call <code><a href="base.html#topic+format">format()</a></code> on the result to render column types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pillar_type(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_pillar_type_+3A_x">x</code></td>
<td>
<p>A vector for which the type is to be retrieved.</p>
</td></tr>
<tr><td><code id="new_pillar_type_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>format(new_pillar_type("a"))
format(new_pillar_type(factor("a")))
</code></pre>

<hr>
<h2 id='new_tbl_format_setup'>Construct a setup object for formatting</h2><span id='topic+new_tbl_format_setup'></span>

<h3>Description</h3>

<p>The object returned from the default method of <code><a href="pillar.html#topic+tbl_format_setup">tbl_format_setup()</a></code>
is an object with a <code>"class"</code> attribute and the elements described in the
&quot;Parameters&quot; section.
</p>
<p>Named elements can be added to such objects without affecting the behavior.
Do not modify existing elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_tbl_format_setup(
  x,
  df,
  width,
  tbl_sum,
  body,
  rows_missing,
  rows_total,
  extra_cols,
  extra_cols_total,
  max_footer_lines,
  abbrev_cols
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_tbl_format_setup_+3A_x">x</code></td>
<td>
<p>The input object unchanged.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_df">df</code></td>
<td>
<p>A data frame representation of the intended output,
trimmed to the desired number of rows.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_width">width</code></td>
<td>
<p>The <code>width</code> argument unchanged.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_tbl_sum">tbl_sum</code></td>
<td>
<p>A named character vector, as returned from <code><a href="pillar.html#topic+tbl_sum">tbl_sum()</a></code>.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_body">body</code></td>
<td>
<p>A character vector with the formatted body,
one element per line,</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_rows_missing">rows_missing</code></td>
<td>
<p>The number of rows not shown from the body,
<code>NA</code> if unknown.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_rows_total">rows_total</code></td>
<td>
<p>The total number of rows in the data,
<code>NA</code> if unknown.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_extra_cols">extra_cols</code></td>
<td>
<p>Columns that did not fit into the body,
as a character vector of formatted column names and types.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_extra_cols_total">extra_cols_total</code></td>
<td>
<p>The total number of columns, may be larger than
<code>length(extra_cols)</code>.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_max_footer_lines">max_footer_lines</code></td>
<td>
<p>The maximum number of lines in the footer.</p>
</td></tr>
<tr><td><code id="new_tbl_format_setup_+3A_abbrev_cols">abbrev_cols</code></td>
<td>
<p>Formatted names of the columns that are shown abbreviated
in the body.</p>
</td></tr>
</table>

<hr>
<h2 id='num'>Format a numeric vector in a tibble</h2><span id='topic+num'></span><span id='topic+set_num_opts'></span>

<h3>Description</h3>

<p>These functions are reexported as <code><a href="tibble.html#topic+num">tibble::num()</a></code> and <code><a href="tibble.html#topic+num">tibble::set_num_opts()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num(
  x,
  ...,
  sigfig = NULL,
  digits = NULL,
  label = NULL,
  scale = NULL,
  notation = c("fit", "dec", "sci", "eng", "si"),
  fixed_exponent = NULL,
  extra_sigfig = NULL
)

set_num_opts(
  x,
  ...,
  sigfig = NULL,
  digits = NULL,
  label = NULL,
  scale = NULL,
  notation = c("fit", "dec", "sci", "eng", "si"),
  fixed_exponent = NULL,
  extra_sigfig = NULL
)
</code></pre>

<hr>
<h2 id='pillar'>Object for formatting a vector suitable for tabular display</h2><span id='topic+pillar'></span>

<h3>Description</h3>

<p><code>pillar()</code> creates an object that formats a vector.
The output uses one row for a title (if given), one row for the type,
and <code>vec_size(x)</code> rows for the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pillar(x, title = NULL, width = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pillar_+3A_x">x</code></td>
<td>
<p>A vector to format.</p>
</td></tr>
<tr><td><code id="pillar_+3A_title">title</code></td>
<td>
<p>An optional title for the column. The title will be
used &quot;as is&quot;, no quoting will be applied.</p>
</td></tr>
<tr><td><code id="pillar_+3A_width">width</code></td>
<td>
<p>Default width, optional.</p>
</td></tr>
<tr><td><code id="pillar_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="pillar.html#topic+pillar_shaft">pillar_shaft()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A pillar consists of arbitrary components.
The <code>pillar()</code> constructor uses <code>title</code>, <code>type</code>, and <code>data</code>.
</p>

<ul>
<li> <p><code>title</code> via <code><a href="pillar.html#topic+new_pillar_title">new_pillar_title()</a></code>
</p>
</li>
<li> <p><code>type</code> via <code><a href="pillar.html#topic+new_pillar_type">new_pillar_type()</a></code>, which calls <code><a href="dplyr.html#topic+type_sum">type_sum()</a></code>
internally
</p>
</li>
<li> <p><code>data</code> via <code><a href="pillar.html#topic+pillar_shaft">pillar_shaft()</a></code>
</p>
</li></ul>

<p>All components are formatted via <code><a href="base.html#topic+format">format()</a></code> when displaying the pillar.
A <code>width</code> argument is passed to each <code>format()</code> call.
</p>
<p>As of pillar 1.5.0, <code>pillar()</code> returns <code>NULL</code> if the width is insufficient
to display the data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 123456789 * (10^c(-1, -3, -5, NA, -8, -10))
pillar(x)
pillar(-x)
pillar(runif(10))
pillar(rcauchy(20))

# Special values are highlighted
pillar(c(runif(5), NA, NaN, Inf, -Inf))

# Very wide ranges will be displayed in scientific format
pillar(c(1e10, 1e-10), width = 20)
pillar(c(1e10, 1e-10))

x &lt;- c(FALSE, NA, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE)
pillar(x)

x &lt;- c("This is string is rather long", NA, "?", "Short")
pillar(x)
pillar(x, width = 30)
pillar(x, width = 5)

date &lt;- as.Date("2017-05-15")
pillar(date + c(1, NA, 3:5))
pillar(as.POSIXct(date) + c(30, NA, 600, 3600, 86400))
</code></pre>

<hr>
<h2 id='pillar_options'>Package options</h2><span id='topic+pillar_options'></span>

<h3>Description</h3>

<p>Options that affect display of tibble-like output.
</p>


<h3>Details</h3>

<p>These options can be set via <code><a href="base.html#topic+options">options()</a></code> and queried via <code><a href="base.html#topic+getOption">getOption()</a></code>.
</p>


<h3>Options for the pillar package</h3>


<ul>
<li> <p><code>pillar.print_max</code>: Maximum number of rows printed, default: <code>20</code>.
Set to <code>Inf</code> to always print all rows.
For compatibility reasons, <code>getOption("tibble.print_max")</code> and
<code>getOption("dplyr.print_max")</code> are also consulted,
this will be soft-deprecated in pillar v2.0.0.
</p>
</li>
<li> <p><code>pillar.print_min</code>: Number of rows printed if the table has more than
<code>print_max</code> rows, default: <code>10</code>.
For compatibility reasons, <code>getOption("tibble.print_min")</code> and
<code>getOption("dplyr.print_min")</code> are also consulted,
this will be soft-deprecated in pillar v2.0.0.
</p>
</li>
<li> <p><code>pillar.width</code>: Output width. Default: <code>NULL</code>
(use <code>getOption("width")</code>).
This can be larger than <code>getOption("width")</code>, in this case the output
of the table's body is distributed over multiple tiers for wide tibbles.
For compatibility reasons, <code>getOption("tibble.width")</code> and
<code>getOption("dplyr.width")</code> are also consulted,
this will be soft-deprecated in pillar v2.0.0.
</p>
</li>
<li> <p><code>pillar.max_footer_lines</code>: The maximum number of lines in the footer,
default: <code>7</code>. Set to <code>Inf</code> to turn off truncation of footer lines.
The <code>max_extra_cols</code> option still limits
the number of columns printed.
</p>
</li>
<li> <p><code>pillar.max_extra_cols</code>: The maximum number of columns printed in the footer,
default: <code>100</code>. Set to <code>Inf</code> to show all columns.
Set the more predictable <code>max_footer_lines</code> to control the number
of footer lines instead.
</p>
</li>
<li> <p><code>pillar.bold</code>: Use bold font, e.g. for column headers? This currently
defaults to <code>FALSE</code>, because many terminal fonts have poor support for
bold fonts.
</p>
</li>
<li> <p><code>pillar.subtle</code>: Use subtle style, e.g. for row numbers and data types?
Default: <code>TRUE</code>.
</p>
</li>
<li> <p><code>pillar.subtle_num</code>: Use subtle style for insignificant digits? Default:
<code>FALSE</code>, is also affected by the <code>subtle</code> option.
</p>
</li>
<li> <p><code>pillar.neg</code>: Highlight negative numbers? Default: <code>TRUE</code>.
</p>
</li>
<li> <p><code>pillar.sigfig</code>: The number of significant digits that will be printed and
highlighted, default: <code>3</code>. Set the <code>subtle</code> option to <code>FALSE</code> to
turn off highlighting of significant digits.
</p>
</li>
<li> <p><code>pillar.min_title_chars</code>: The minimum number of characters for the column
title, default: <code>20</code>.  Column titles may be truncated up to that width to
save horizontal space. Set to <code>Inf</code> to turn off truncation of column
titles.
</p>
</li>
<li> <p><code>pillar.min_chars</code>: The minimum number of characters wide to
display character columns, default: <code>3</code>.  Character columns may be
truncated up to that width to save horizontal space. Set to <code>Inf</code> to
turn off truncation of character columns.
</p>
</li>
<li> <p><code>pillar.max_dec_width</code>: The maximum allowed width for decimal notation,
default: <code>13</code>.
</p>
</li>
<li> <p><code>pillar.bidi</code>: Set to <code>TRUE</code> for experimental support for bidirectional scripts.
Default: <code>FALSE</code>. When this option is set, &quot;left right override&quot;
and &quot;first strong isolate&quot;
<a href="https://www.w3.org/International/questions/qa-bidi-unicode-controls">Unicode controls</a>
are inserted to ensure that text appears in its intended direction
and that the column headings correspond to the correct columns.
</p>
</li>
<li> <p><code>pillar.superdigit_sep</code>: The string inserted between superscript digits
and column names in the footnote. Defaults to a <code>"\u200b"</code>, a zero-width
space, on UTF-8 platforms, and to <code>": "</code> on non-UTF-8 platforms.
</p>
</li>
<li> <p><code>pillar.advice</code>: Should advice be displayed in the footer when columns or rows
are missing from the output? Defaults to <code>TRUE</code> for interactive sessions,
and to <code>FALSE</code> otherwise.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- tibble::tibble(x = c(1.234567, NA, 5:10))
df

# Change for the duration of the session:
old &lt;- options(
  pillar.sigfig = 6,
  pillar.print_max = 5,
  pillar.print_min = 5,
  pillar.advice = FALSE
)
df

# Change back to the original value:
options(old)
df

</code></pre>

<hr>
<h2 id='pillar_shaft'>Column data</h2><span id='topic+pillar_shaft'></span><span id='topic+print.pillar_shaft'></span><span id='topic+format.pillar_shaft'></span><span id='topic+pillar_shaft.logical'></span><span id='topic+pillar_shaft.numeric'></span><span id='topic+pillar_shaft.Date'></span><span id='topic+pillar_shaft.POSIXt'></span><span id='topic+pillar_shaft.character'></span><span id='topic+pillar_shaft.glue'></span><span id='topic+pillar_shaft.list'></span><span id='topic+pillar_shaft.factor'></span><span id='topic+pillar_shaft.AsIs'></span><span id='topic+pillar_shaft.default'></span>

<h3>Description</h3>

<p>Internal class for formatting the data for a column.
<code>pillar_shaft()</code> is a coercion method that must be implemented
for your data type to display it in a tibble.
</p>
<p>This class comes with a default method for <code><a href="base.html#topic+print">print()</a></code> that calls <code><a href="base.html#topic+format">format()</a></code>.
If <code>print()</code> is called without <code>width</code> argument, the natural width will be
used when calling <code>format()</code>.
Usually there's no need to implement this method for your subclass.
</p>
<p>Your subclass must implement <code>format()</code>, the default implementation just
raises an error.
Your <code>format()</code> method can assume a valid value for the <code>width</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pillar_shaft(x, ...)

## S3 method for class 'pillar_shaft'
print(x, width = NULL, ...)

## S3 method for class 'pillar_shaft'
format(x, width, ...)

## S3 method for class 'logical'
pillar_shaft(x, ...)

## S3 method for class 'numeric'
pillar_shaft(x, ..., sigfig = NULL)

## S3 method for class 'Date'
pillar_shaft(x, ...)

## S3 method for class 'POSIXt'
pillar_shaft(x, ...)

## S3 method for class 'character'
pillar_shaft(x, ..., min_width = NULL)

## S3 method for class 'glue'
pillar_shaft(x, ..., min_width = NULL, na_indent = 0L, shorten = NULL)

## S3 method for class 'list'
pillar_shaft(x, ...)

## S3 method for class 'factor'
pillar_shaft(x, ...)

## S3 method for class 'AsIs'
pillar_shaft(x, ...)

## Default S3 method:
pillar_shaft(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pillar_shaft_+3A_x">x</code></td>
<td>
<p>A vector to format</p>
</td></tr>
<tr><td><code id="pillar_shaft_+3A_...">...</code></td>
<td>
<p>Arguments passed to methods.</p>
</td></tr>
<tr><td><code id="pillar_shaft_+3A_width">width</code></td>
<td>
<p>Width for printing and formatting.</p>
</td></tr>
<tr><td><code id="pillar_shaft_+3A_sigfig">sigfig</code></td>
<td>
<p>Deprecated, use <code><a href="pillar.html#topic+num">num()</a></code> or <code><a href="pillar.html#topic+set_num_opts">set_num_opts()</a></code> on the data instead.</p>
</td></tr>
<tr><td><code id="pillar_shaft_+3A_min_width">min_width</code></td>
<td>
<p>Deprecated, use <code><a href="pillar.html#topic+char">char()</a></code> or <code><a href="pillar.html#topic+set_char_opts">set_char_opts()</a></code> on the data instead.</p>
</td></tr>
<tr><td><code id="pillar_shaft_+3A_na_indent">na_indent</code></td>
<td>
<p>Indentation of <code>NA</code> values.</p>
</td></tr>
<tr><td><code id="pillar_shaft_+3A_shorten">shorten</code></td>
<td>
<p>How to abbreviate the data if necessary:
</p>

<ul>
<li> <p><code>"back"</code> (default): add an ellipsis at the end
</p>
</li>
<li> <p><code>"front"</code>: add an ellipsis at the front
</p>
</li>
<li> <p><code>"mid"</code>: add an ellipsis in the middle
</p>
</li>
<li> <p><code>"abbreviate"</code>: use <code><a href="base.html#topic+abbreviate">abbreviate()</a></code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The default method will currently format via <code><a href="base.html#topic+format">format()</a></code>,
but you should not rely on this behavior.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pillar_shaft(1:3)
pillar_shaft(1.5:3.5)
pillar_shaft(NA)
pillar_shaft(c(1:3, NA))
</code></pre>

<hr>
<h2 id='pillar-package'>pillar: Coloured Formatting for Columns</h2><span id='topic+pillar-package'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Formats tabular data in columns or rows
using the full range of colours provided by modern terminals.
Provides various generics for making every aspect of the display customizable.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Kirill Müller <a href="mailto:kirill@cynkra.com">kirill@cynkra.com</a> (<a href="https://orcid.org/0000-0002-1416-3412">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Hadley Wickham
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> RStudio [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="pillar.html#topic+pillar">pillar()</a></code> for formatting a single column,
</p>
</li>
<li> <p><code><a href="pillar.html#topic+print.tbl">print.tbl()</a></code> for formatting data-frame-like objects,
</p>
</li>
<li> <p><a href="pillar.html#topic+pillar_options">pillar_options</a> for a list of package options.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>pillar(1:3)
pillar(c(1, 2, 3))
pillar(factor(letters[1:3]), title = "letters")
tbl_format_setup(tibble::as_tibble(mtcars), width = 60)
</code></pre>

<hr>
<h2 id='scale_x_num'>Scale that supports formatted numbers</h2><span id='topic+scale_x_num'></span><span id='topic+scale_y_num'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>This scale is used by default in ggplot2 with columns created with <code><a href="pillar.html#topic+num">num()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_x_num(
  ...,
  position = "bottom",
  guide = ggplot2::waiver(),
  rescaler = NULL,
  super = NULL
)

scale_y_num(..., guide = ggplot2::waiver(), rescaler = NULL, super = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_x_num_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+continuous_scale">ggplot2::continuous_scale</a></code>
</p>

<dl>
<dt><code>aesthetics</code></dt><dd><p>The names of the aesthetics that this scale works with.</p>
</dd>
<dt><code>scale_name</code></dt><dd><p>The name of the scale that should be used for error messages
associated with this scale.</p>
</dd>
<dt><code>palette</code></dt><dd><p>A palette function that when called with a numeric vector with
values between 0 and 1 returns the corresponding output values
(e.g., <code><a href="scales.html#topic+area_pal">scales::area_pal()</a></code>).</p>
</dd>
<dt><code>name</code></dt><dd><p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</dd>
<dt><code>breaks</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks computed by the
<a href="scales.html#topic+trans_new">transformation object</a>
</p>
</li>
<li><p> A numeric vector of positions
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output (e.g., a function returned by <code><a href="scales.html#topic+breaks_extended">scales::extended_breaks()</a></code>).
Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function notation.
</p>
</li></ul>
</dd>
<dt><code>minor_breaks</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no minor breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (one minor break between
each major break)
</p>
</li>
<li><p> A numeric vector of positions
</p>
</li>
<li><p> A function that given the limits returns a vector of minor breaks. Also
accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function notation.
</p>
</li></ul>
</dd>
<dt><code>n.breaks</code></dt><dd><p>An integer guiding the number of major breaks. The algorithm
may choose a slightly different number to ensure nice break labels. Will
only have an effect if <code>breaks = waiver()</code>. Use <code>NULL</code> to use the default
number of breaks given by the transformation.</p>
</dd>
<dt><code>labels</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>limits</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale range
</p>
</li>
<li><p> A numeric vector of length two providing limits of the scale.
Use <code>NA</code> to refer to the existing minimum or maximum
</p>
</li>
<li><p> A function that accepts the existing (automatic) limits and returns
new limits. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
Note that setting limits on positional scales will <strong>remove</strong> data outside of the limits.
If the purpose is to zoom, use the limit argument in the coordinate system
(see <code><a href="ggplot2.html#topic+coord_cartesian">coord_cartesian()</a></code>).
</p>
</li></ul>
</dd>
<dt><code>oob</code></dt><dd><p>One of:
</p>

<ul>
<li><p> Function that handles limits outside of the scale limits
(out of bounds). Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a>
function notation.
</p>
</li>
<li><p> The default (<code><a href="scales.html#topic+oob">scales::censor()</a></code>) replaces out of
bounds values with <code>NA</code>.
</p>
</li>
<li> <p><code><a href="scales.html#topic+oob">scales::squish()</a></code> for squishing out of bounds values into range.
</p>
</li>
<li> <p><code><a href="scales.html#topic+oob">scales::squish_infinite()</a></code> for squishing infinite values into range.
</p>
</li></ul>
</dd>
<dt><code>expand</code></dt><dd><p>For position scales, a vector of range expansion constants used to add some
padding around the data to ensure that they are placed some distance
away from the axes. Use the convenience function <code><a href="ggplot2.html#topic+expansion">expansion()</a></code>
to generate the values for the <code>expand</code> argument. The defaults are to
expand the scale by 5% on each side for continuous variables, and by
0.6 units on each side for discrete variables.</p>
</dd>
<dt><code>na.value</code></dt><dd><p>Missing values will be replaced with this value.</p>
</dd>
<dt><code>trans</code></dt><dd><p>For continuous scales, the name of a transformation object
or the object itself. Built-in transformations include &quot;asn&quot;, &quot;atanh&quot;,
&quot;boxcox&quot;, &quot;date&quot;, &quot;exp&quot;, &quot;hms&quot;, &quot;identity&quot;, &quot;log&quot;, &quot;log10&quot;, &quot;log1p&quot;, &quot;log2&quot;,
&quot;logit&quot;, &quot;modulus&quot;, &quot;probability&quot;, &quot;probit&quot;, &quot;pseudo_log&quot;, &quot;reciprocal&quot;,
&quot;reverse&quot;, &quot;sqrt&quot; and &quot;time&quot;.
</p>
<p>A transformation object bundles together a transform, its inverse,
and methods for generating breaks and labels. Transformation objects
are defined in the scales package, and are called <code style="white-space: pre;">&#8288;&lt;name&gt;_trans&#8288;</code> (e.g.,
<code><a href="scales.html#topic+boxcox_trans">scales::boxcox_trans()</a></code>). You can create your own
transformation with <code><a href="scales.html#topic+trans_new">scales::trans_new()</a></code>.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="scale_x_num_+3A_guide">guide</code>, <code id="scale_x_num_+3A_position">position</code></td>
<td>
<p>Passed on to <code><a href="ggplot2.html#topic+continuous_scale">ggplot2::continuous_scale()</a></code></p>
</td></tr>
<tr><td><code id="scale_x_num_+3A_rescaler">rescaler</code>, <code id="scale_x_num_+3A_super">super</code></td>
<td>
<p>Must remain <code>NULL</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='squeeze'>Squeeze a colonnade to a fixed width</h2><span id='topic+squeeze'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#soft-deprecated"><img src="../help/figures/lifecycle-soft-deprecated.svg" alt='[Soft-deprecated]' /></a>
</p>
<p>The <code>squeeze()</code> function usually doesn't need to be called manually.
It returns an object suitable for printing and formatting at a fixed width
with additional information about omitted columns, which can be retrieved
via <code><a href="pillar.html#topic+extra_cols">extra_cols()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>squeeze(x, width = NULL, ...)
</code></pre>

<hr>
<h2 id='style_num'>Styling helpers</h2><span id='topic+style_num'></span><span id='topic+style_subtle'></span><span id='topic+style_subtle_num'></span><span id='topic+style_bold'></span><span id='topic+style_na'></span><span id='topic+style_neg'></span>

<h3>Description</h3>

<p>Functions that allow implementers of formatters for custom data types to
maintain a consistent style with the default data types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style_num(x, negative, significant = rep_along(x, TRUE))

style_subtle(x)

style_subtle_num(x, negative)

style_bold(x)

style_na(x)

style_neg(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="style_num_+3A_x">x</code></td>
<td>
<p>The character vector to style.</p>
</td></tr>
<tr><td><code id="style_num_+3A_negative">negative</code>, <code id="style_num_+3A_significant">significant</code></td>
<td>
<p>Logical vector the same length as <code>x</code> that
indicate if the values are negative and significant, respectively</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>style_subtle()</code> is affected by the <code>subtle</code> <a href="pillar.html#topic+pillar_options">option</a>.
</p>
<p><code>style_subtle_num()</code> is affected by the
<code>subtle_num</code> <a href="pillar.html#topic+pillar_options">option</a>,
which is <code>FALSE</code> by default.
</p>
<p><code>style_bold()</code> is affected by the <code>bold</code> <a href="pillar.html#topic+pillar_options">option</a>,
which is <code>FALSE</code> by default.
</p>
<p><code>style_neg()</code> is affected by the <code>pillar.neg</code> <a href="pillar.html#topic+pillar_options">option</a>.
</p>


<h3>See Also</h3>

<p><a href="pillar.html#topic+pillar_options">pillar_options</a> for a list of options
</p>


<h3>Examples</h3>

<pre><code class='language-R'>style_num(
  c("123", "456"),
  negative = c(TRUE, FALSE)
)
style_num(
  c("123", "456"),
  negative = c(TRUE, FALSE),
  significant = c(FALSE, FALSE)
)
style_subtle("text")
style_subtle_num(0.01 * 1:3, c(TRUE, FALSE, TRUE))
style_bold("Petal.Width")
style_na("NA")
style_neg("123")
</code></pre>

<hr>
<h2 id='tbl_format_body'>Format the body of a tibble</h2><span id='topic+tbl_format_body'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>For easier customization, the formatting of a tibble is split
into three components: header, body, and footer.
The <code>tbl_format_body()</code> method is responsible for formatting the body
of a tibble.
</p>
<p>Override this method if you need to change the appearance of all parts
of the body.
If you only need to change the appearance of a single data type,
override <code><a href="vctrs.html#topic+vec_ptype_full">vctrs::vec_ptype_abbr()</a></code> and <code><a href="pillar.html#topic+pillar_shaft">pillar_shaft()</a></code> for this data type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbl_format_body(x, setup, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbl_format_body_+3A_x">x</code></td>
<td>
<p>A tibble-like object.</p>
</td></tr>
<tr><td><code id="tbl_format_body_+3A_setup">setup</code></td>
<td>
<p>A setup object returned from <code><a href="pillar.html#topic+tbl_format_setup">tbl_format_setup()</a></code>.</p>
</td></tr>
<tr><td><code id="tbl_format_body_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
setup &lt;- tbl_format_setup(palmerpenguins::penguins)
tbl_format_body(palmerpenguins::penguins, setup)

# Shortcut for debugging
tbl_format_body(setup)

</code></pre>

<hr>
<h2 id='tbl_format_footer'>Format the footer of a tibble</h2><span id='topic+tbl_format_footer'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>For easier customization, the formatting of a tibble is split
into three components: header, body, and footer.
The <code>tbl_format_footer()</code> method is responsible for formatting the footer
of a tibble.
</p>
<p>Override or extend this method if you need to change the appearance
of the footer.
The default implementation adds information about rows and columns
that are not shown in the body.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbl_format_footer(x, setup, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbl_format_footer_+3A_x">x</code></td>
<td>
<p>A tibble-like object.</p>
</td></tr>
<tr><td><code id="tbl_format_footer_+3A_setup">setup</code></td>
<td>
<p>A setup object returned from <code><a href="pillar.html#topic+tbl_format_setup">tbl_format_setup()</a></code>.</p>
</td></tr>
<tr><td><code id="tbl_format_footer_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
setup &lt;- tbl_format_setup(palmerpenguins::penguins)
tbl_format_footer(palmerpenguins::penguins, setup)

# Shortcut for debugging
tbl_format_footer(setup)

</code></pre>

<hr>
<h2 id='tbl_format_header'>Format the header of a tibble</h2><span id='topic+tbl_format_header'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>For easier customization, the formatting of a tibble is split
into three components: header, body, and footer.
The <code>tbl_format_header()</code> method is responsible for formatting the header
of a tibble.
</p>
<p>Override this method if you need to change the appearance
of the entire header.
If you only need to change or extend the components shown in the header,
override or extend <code><a href="pillar.html#topic+tbl_sum">tbl_sum()</a></code> for your class which is called by the
default method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbl_format_header(x, setup, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbl_format_header_+3A_x">x</code></td>
<td>
<p>A tibble-like object.</p>
</td></tr>
<tr><td><code id="tbl_format_header_+3A_setup">setup</code></td>
<td>
<p>A setup object returned from <code><a href="pillar.html#topic+tbl_format_setup">tbl_format_setup()</a></code>.</p>
</td></tr>
<tr><td><code id="tbl_format_header_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
setup &lt;- tbl_format_setup(palmerpenguins::penguins)
tbl_format_header(palmerpenguins::penguins, setup)

# Shortcut for debugging
tbl_format_header(setup)

</code></pre>

<hr>
<h2 id='tbl_format_setup'>Set up formatting</h2><span id='topic+tbl_format_setup'></span><span id='topic+tbl_format_setup.tbl'></span>

<h3>Description</h3>

<p><code>tbl_format_setup()</code> is called by <code><a href="pillar.html#topic+format.tbl">format.tbl()</a></code>.
This method collects information that is common to the header, body,
and footer parts of a tibble.
Examples:
</p>

<ul>
<li><p> the dimensions sometimes are reported both in the header
and (implicitly) in the footer of a tibble;
</p>
</li>
<li><p> the columns shown in the body decide which columns are shown in the footer.
</p>
</li></ul>

<p>This information is computed once in <code>tbl_format_setup()</code>.
The result is passed on to the
<code><a href="pillar.html#topic+tbl_format_header">tbl_format_header()</a></code>, <code><a href="pillar.html#topic+tbl_format_body">tbl_format_body()</a></code>, and <code><a href="pillar.html#topic+tbl_format_footer">tbl_format_footer()</a></code>
methods.
If you need to customize parts of the printed output independently,
override these methods instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbl_format_setup(
  x,
  width = NULL,
  ...,
  n = NULL,
  max_extra_cols = NULL,
  max_footer_lines = NULL,
  focus = NULL
)

## S3 method for class 'tbl'
tbl_format_setup(x, width, ..., n, max_extra_cols, max_footer_lines, focus)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbl_format_setup_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
<tr><td><code id="tbl_format_setup_+3A_width">width</code></td>
<td>
<p>Actual width for printing, a numeric greater than zero.
This argument is mandatory for all implementations of this method.</p>
</td></tr>
<tr><td><code id="tbl_format_setup_+3A_...">...</code></td>
<td>
<p>Extra arguments to <code><a href="pillar.html#topic+print.tbl">print.tbl()</a></code> or <code><a href="pillar.html#topic+format.tbl">format.tbl()</a></code>.</p>
</td></tr>
<tr><td><code id="tbl_format_setup_+3A_n">n</code></td>
<td>
<p>Actual number of rows to print.
No <a href="pillar.html#topic+pillar_options">options</a> should be considered
by implementations of this method.</p>
</td></tr>
<tr><td><code id="tbl_format_setup_+3A_max_extra_cols">max_extra_cols</code></td>
<td>
<p>Number of columns to print abbreviated information for,
if the width is too small for the entire tibble.
No <a href="pillar.html#topic+pillar_options">options</a> should be considered
by implementations of this method.</p>
</td></tr>
<tr><td><code id="tbl_format_setup_+3A_max_footer_lines">max_footer_lines</code></td>
<td>
<p>Maximum number of lines for the footer.
No <a href="pillar.html#topic+pillar_options">options</a> should be considered
by implementations of this method.</p>
</td></tr>
<tr><td><code id="tbl_format_setup_+3A_focus">focus</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Names of columns to show preferentially if space is tight.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Extend this method to prepare information that is used
in several parts of the printed output of a tibble-like object,
or to collect additional arguments passed via <code>...</code> to
<code><a href="pillar.html#topic+print.tbl">print.tbl()</a></code> or <code><a href="pillar.html#topic+format.tbl">format.tbl()</a></code>.
</p>
<p>We expect that <code>tbl_format_setup()</code> is extended only rarely,
and overridden only in exceptional circumstances, if at all.
If you override this method, you must also implement
<code><a href="pillar.html#topic+tbl_format_header">tbl_format_header()</a></code>, <code><a href="pillar.html#topic+tbl_format_body">tbl_format_body()</a></code>, and <code><a href="pillar.html#topic+tbl_format_footer">tbl_format_footer()</a></code>
for your class.
</p>
<p>Implementing a method
allows to override printing and formatting of the entire object
without overriding the <code><a href="base.html#topic+print">print()</a></code> and <code><a href="base.html#topic+format">format()</a></code> methods directly.
This allows to keep the logic of the <code>width</code> and <code>n</code> arguments.
</p>
<p>The default method for the <code>"tbl"</code> class collects information for
standard printing for tibbles.
See <code><a href="pillar.html#topic+new_tbl_format_setup">new_tbl_format_setup()</a></code> for details on the returned object.
</p>


<h3>Value</h3>

<p>An object that can be passed as <code>setup</code> argument to
<code><a href="pillar.html#topic+tbl_format_header">tbl_format_header()</a></code>, <code><a href="pillar.html#topic+tbl_format_body">tbl_format_body()</a></code>, and <code><a href="pillar.html#topic+tbl_format_footer">tbl_format_footer()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tbl_format_setup(palmerpenguins::penguins)

</code></pre>

<hr>
<h2 id='tbl_sum'>Provide a succinct summary of an object</h2><span id='topic+tbl_sum'></span>

<h3>Description</h3>

<p><code>tbl_sum()</code> gives a brief textual description of a table-like object,
which should include the dimensions and the data source in the first element,
and additional information in the other elements (such as grouping for <span class="pkg">dplyr</span>).
The default implementation forwards to <code><a href="pillar.html#topic+obj_sum">obj_sum()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbl_sum(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbl_sum_+3A_x">x</code></td>
<td>
<p>Object to summarise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named character vector, describing the dimensions in the first element
and the data source in the name of the first element.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+type_sum">type_sum()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tbl_sum(1:10)
tbl_sum(matrix(1:10))
tbl_sum(data.frame(a = 1))
tbl_sum(Sys.Date())
tbl_sum(Sys.time())
tbl_sum(mean)

</code></pre>

<hr>
<h2 id='type_sum'>Provide a succinct summary of an object</h2><span id='topic+type_sum'></span><span id='topic+obj_sum'></span><span id='topic+size_sum'></span>

<h3>Description</h3>

<p><code>type_sum()</code> gives a brief summary of object type. Objects that commonly
occur in a data frame should return a string with four or less characters.
For most inputs, the argument is forwarded to <code><a href="vctrs.html#topic+vec_ptype_full">vctrs::vec_ptype_abbr()</a></code>.
</p>
<p><code>obj_sum()</code> also includes the size (but not the shape) of the object
if <code><a href="vctrs.html#topic+vec_assert">vctrs::vec_is()</a></code> is <code>TRUE</code>.
It should always return a string (a character vector of length one).
As of pillar v1.6.1, the default method forwards to <code><a href="vctrs.html#topic+vec_ptype_full">vctrs::vec_ptype_abbr()</a></code>
for vectors and to <code><a href="dplyr.html#topic+type_sum">type_sum()</a></code> for other objects.
Previous versions always forwarded to <code><a href="dplyr.html#topic+type_sum">type_sum()</a></code>.
An attribute named <code>"short"</code> in the return value will be picked up by
the <code><a href="pillar.html#topic+pillar_shaft">pillar_shaft()</a></code> method for lists, and used if space is limited.
</p>
<p><code>size_sum()</code> is called by <code>obj_sum()</code> to format the size of the object.
It should always return a string (a character vector of length one),
it can be an empty string <code>""</code> to omit size information,
this is what the default method does for scalars.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_sum(x)

obj_sum(x)

size_sum(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="type_sum_+3A_x">x</code></td>
<td>
<p>an object to summarise. Generally only methods of atomic vectors
and variants have been implemented.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When formatting a pillar,
<code>type_sum()</code> will be called on a slice of the column vector.
The formatted type should only depend on the type and not on the data,
to avoid confusion.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>obj_sum(1:10)
obj_sum(matrix(1:10))
obj_sum(data.frame(a = 1))
obj_sum(Sys.Date())
obj_sum(Sys.time())
obj_sum(mean)

size_sum(1:10)
size_sum(trees)
size_sum(Titanic)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package theftdlc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {theftdlc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#theftdlc'><p>Analyse and Interpret Time Series Features</p></a></li>
<li><a href='#classify'><p>Fit classifiers using time-series features using a resample-based approach and get a fast understanding of performance</p></a></li>
<li><a href='#cluster'><p>Perform cluster analysis of time series using their feature vectors</p></a></li>
<li><a href='#compare_features'><p>Conduct statistical testing on time-series feature classification performance to identify top features or compare entire sets</p></a></li>
<li><a href='#filter_duplicates'><p>Remove duplicate features that exist in multiple feature sets and retain a reproducible random selection of one of them</p></a></li>
<li><a href='#filter_good_features'><p>Filter resample data sets according to good feature list</p></a></li>
<li><a href='#find_good_features'><p>Helper function to find features in both train and test set that are &quot;good&quot;</p></a></li>
<li><a href='#fit_models'><p>Fit classification model and compute key metrics</p></a></li>
<li><a href='#get_rescale_vals'><p>Calculate central tendency and spread values for all numeric columns in a dataset</p></a></li>
<li><a href='#interval'><p>Calculate interval summaries with a measure of central tendency of classification results</p></a></li>
<li><a href='#make_title'><p>Helper function for converting to title case</p></a></li>
<li><a href='#plot.feature_calculations'><p>Produce a plot for a feature_calculations object</p></a></li>
<li><a href='#plot.feature_projection'><p>Produce a plot for a feature_projection object</p></a></li>
<li><a href='#project'><p>Project a feature matrix into a two-dimensional representation using PCA, MDS, t-SNE, or UMAP ready for plotting</p></a></li>
<li><a href='#resample_data'><p>Helper function to create a resampled dataset</p></a></li>
<li><a href='#rescale_zscore'><p>Calculate z-score for all columns in a dataset using train set central tendency and spread</p></a></li>
<li><a href='#select_stat_cols'><p>Helper function to select only the relevant columns for statistical testing</p></a></li>
<li><a href='#stat_test'><p>Calculate p-values for feature sets or features relative to an empirical null or each other using resampled t-tests</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analyse and Interpret Time Series Features</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-14</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Trent Henderson &lt;then6675@uni.sydney.edu.au&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a suite of functions for analysing, interpreting, and visualising
    time-series features calculated from different feature sets from the 'theft' package. 
    Implements statistical learning methodologies described in Henderson, T., 
    Bryant, A., and Fulcher, B. (2023) &lt;<a href="https://doi.org/10.48550/arXiv.2303.17809">doi:10.48550/arXiv.2303.17809</a>&gt;.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hendersontrent/theftdlc/issues">https://github.com/hendersontrent/theftdlc/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), theft (&ge; 0.6.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rlang, stats, tibble, dplyr, ggplot2, tidyr, purrr, reshape2,
scales, broom, Rtsne, e1071, janitor, umap, MASS, mclust,
normaliseR, correctR</td>
</tr>
<tr>
<td>Suggests:</td>
<td>lifecycle, cachem, bslib, knitr, markdown, rmarkdown,
pkgdown, testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://hendersontrent.github.io/theftdlc/">https://hendersontrent.github.io/theftdlc/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-14 11:38:13 UTC; trenthenderson</td>
</tr>
<tr>
<td>Author:</td>
<td>Trent Henderson [cre, aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-14 20:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='theftdlc'>Analyse and Interpret Time Series Features</h2><span id='topic+theftdlc'></span><span id='topic+theftdlc-package'></span>

<h3>Description</h3>

<p>Analyse and Interpret Time Series Features
</p>

<hr>
<h2 id='classify'>Fit classifiers using time-series features using a resample-based approach and get a fast understanding of performance</h2><span id='topic+classify'></span><span id='topic+tsfeature_classifier'></span>

<h3>Description</h3>

<p>Fit classifiers using time-series features using a resample-based approach and get a fast understanding of performance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>classify(
  data,
  classifier = NULL,
  train_size = 0.75,
  n_resamples = 30,
  by_set = TRUE,
  use_null = FALSE,
  seed = 123
)

tsfeature_classifier(
  data,
  classifier = NULL,
  train_size = 0.75,
  n_resamples = 30,
  by_set = TRUE,
  use_null = FALSE,
  seed = 123
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="classify_+3A_data">data</code></td>
<td>
<p><code>feature_calculations</code> object containing the raw feature matrix produced by <code>theft::calculate_features</code></p>
</td></tr>
<tr><td><code id="classify_+3A_classifier">classifier</code></td>
<td>
<p><code>function</code> specifying the classifier to fit. Should be a function with 2 arguments: <code>formula</code> and <code>data</code> containing a classifier compatible with R's <code>predict</code> functionality. Please note that <code>classify</code> z-scores data prior to modelling using the train set's information so disabling default scaling if your function uses it is recommended. Defaults to <code>NULL</code> which means the following linear SVM is fit: <code>classifier = function(formula, data){mod &lt;- e1071::svm(formula, data = data, kernel = "linear", scale = FALSE, probability = TRUE)}</code></p>
</td></tr>
<tr><td><code id="classify_+3A_train_size">train_size</code></td>
<td>
<p><code>numeric</code> denoting the proportion of samples to use in the training set. Defaults to <code>0.75</code></p>
</td></tr>
<tr><td><code id="classify_+3A_n_resamples">n_resamples</code></td>
<td>
<p><code>integer</code> denoting the number of resamples to calculate. Defaults to <code>30</code></p>
</td></tr>
<tr><td><code id="classify_+3A_by_set">by_set</code></td>
<td>
<p><code>Boolean</code> specifying whether to compute classifiers for each feature set. Defaults to <code>TRUE</code>. If <code>FALSE</code>, the function will instead find the best individually-performing features</p>
</td></tr>
<tr><td><code id="classify_+3A_use_null">use_null</code></td>
<td>
<p><code>Boolean</code> whether to fit null models where class labels are shuffled in order to generate a null distribution that can be compared to performance on correct class labels. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="classify_+3A_seed">seed</code></td>
<td>
<p><code>integer</code> to fix R's random number generator to ensure reproducibility. Defaults to <code>123</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> containing a named <code>vector</code> of train-test set sizes, and a <code>data.frame</code> of classification performance results
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(theft)

features &lt;- theft::calculate_features(theft::simData,
  group_var = "process",
  feature_set = "catch22")

classifiers &lt;- classify(features,
  by_set = FALSE,
  n_resamples = 3)

</code></pre>

<hr>
<h2 id='cluster'>Perform cluster analysis of time series using their feature vectors</h2><span id='topic+cluster'></span>

<h3>Description</h3>

<p>Perform cluster analysis of time series using their feature vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cluster(
  data,
  norm_method = c("zScore", "Sigmoid", "RobustSigmoid", "MinMax"),
  unit_int = FALSE,
  clust_method = c("kmeans", "hclust", "mclust"),
  k = 2,
  features = NULL,
  na_removal = c("feature", "sample"),
  seed = 123,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cluster_+3A_data">data</code></td>
<td>
<p><code>feature_calculations</code> object containing the raw feature matrix produced by <code>theft::calculate_features</code></p>
</td></tr>
<tr><td><code id="cluster_+3A_norm_method">norm_method</code></td>
<td>
<p><code>character</code> denoting the rescaling/normalising method to apply. Can be one of <code>"zScore"</code>, <code>"Sigmoid"</code>, <code>"RobustSigmoid"</code>, <code>"MinMax"</code>, or <code>"MaxAbs"</code>. Defaults to <code>"zScore"</code></p>
</td></tr>
<tr><td><code id="cluster_+3A_unit_int">unit_int</code></td>
<td>
<p><code>Boolean</code> whether to rescale into unit interval <code>[0,1]</code> after applying normalisation method. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="cluster_+3A_clust_method">clust_method</code></td>
<td>
<p><code>character</code> specifying the clustering algorithm to use. Can be one of <code>"kmeans"</code> for k-means clustering, <code>"hclust"</code> for hierarchical clustering, or <code>"mclust"</code> for Gaussian mixture model clustering. Defaults to <code>"kMeans"</code></p>
</td></tr>
<tr><td><code id="cluster_+3A_k">k</code></td>
<td>
<p><code>integer</code> denoting the number of clusters to extract. Defaults to <code>2</code></p>
</td></tr>
<tr><td><code id="cluster_+3A_features">features</code></td>
<td>
<p><code>character</code> vector denoting the names of time-series features to use in the clustering algorithm. Defaults to <code>NULL</code> for no feature filtering and usage of the entire feature matrix</p>
</td></tr>
<tr><td><code id="cluster_+3A_na_removal">na_removal</code></td>
<td>
<p><code>character</code> defining the way to deal with NAs produced during feature calculation. Can be one of <code>"feature"</code> or <code>"sample"</code>. <code>"feature"</code> removes all features that produced any NAs in any sample, keeping the number of samples the same. <code>"sample"</code> omits all samples that produced at least one NA. Defaults to <code>"feature"</code></p>
</td></tr>
<tr><td><code id="cluster_+3A_seed">seed</code></td>
<td>
<p><code>integer</code> to fix R's random number generator to ensure reproducibility. Defaults to <code>123</code></p>
</td></tr>
<tr><td><code id="cluster_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code>stats::kmeans</code> or <code>stats::hclust</code>, or <code>mclust::Mclust</code> depending on selection in <code>clust_method</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>feature_cluster</code> containing the clustering algorithm and a tidy version of clusters joined to the input dataset ready for further analysis
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(theft)

features &lt;- theft::calculate_features(theft::simData,
  group_var = "process",
  feature_set = "catch22")

clusts &lt;- cluster(features,
  k = 6)

</code></pre>

<hr>
<h2 id='compare_features'>Conduct statistical testing on time-series feature classification performance to identify top features or compare entire sets</h2><span id='topic+compare_features'></span>

<h3>Description</h3>

<p>Conduct statistical testing on time-series feature classification performance to identify top features or compare entire sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_features(
  data,
  metric = c("accuracy", "precision", "recall", "f1"),
  by_set = TRUE,
  hypothesis = c("null", "pairwise"),
  p_adj = c("none", "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_features_+3A_data">data</code></td>
<td>
<p><code>list</code> object containing the classification outputs produce by <code>tsfeature_classifier</code></p>
</td></tr>
<tr><td><code id="compare_features_+3A_metric">metric</code></td>
<td>
<p><code>character</code> denoting the classification performance metric to use in statistical testing. Can be one of <code>"accuracy"</code>, <code>"precision"</code>, <code>"recall"</code>, <code>"f1"</code>. Defaults to <code>"accuracy"</code></p>
</td></tr>
<tr><td><code id="compare_features_+3A_by_set">by_set</code></td>
<td>
<p><code>Boolean</code> specifying whether you want to compare feature sets (if <code>TRUE</code>) or individual features (if <code>FALSE</code>). Defaults to <code>TRUE</code> but this is contingent on whether you computed by set or not in <code>tsfeature_classifier</code></p>
</td></tr>
<tr><td><code id="compare_features_+3A_hypothesis">hypothesis</code></td>
<td>
<p><code>character</code> denoting whether p-values should be calculated for each feature set or feature (depending on <code>by_set</code> argument) individually relative to the null if <code>use_null = TRUE</code> in <code>tsfeature_classifier</code> through <code>"null"</code>, or whether pairwise comparisons between each set or feature should be conducted on main model fits only through <code>"pairwise"</code>. Defaults to <code>"null"</code></p>
</td></tr>
<tr><td><code id="compare_features_+3A_p_adj">p_adj</code></td>
<td>
<p><code>character</code> denoting the adjustment made to p-values for multiple comparisons. Should be a valid argument to <code>stats::p.adjust</code>. Defaults to <code>"none"</code> for no adjustment. <code>"holm"</code> is recommended as a starting point for adjustments</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> containing the results
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>


<h3>References</h3>

<p>Henderson, T., Bryant, A. G., and Fulcher, B. D. Never a Dull Moment: Distributional Properties as a Baseline for Time-Series Classification. 27th Pacific-Asia Conference on Knowledge Discovery and Data Mining, (2023).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(theft)

features &lt;- theft::calculate_features(theft::simData,
  group_var = "process",
  feature_set = NULL,
  features = list("mean" = mean, "sd" = sd))

classifiers &lt;- classify(features,
                        by_set = FALSE,
                        n_resamples = 3)

compare_features(classifiers,
                 by_set = FALSE,
                 hypothesis = "pairwise")

</code></pre>

<hr>
<h2 id='filter_duplicates'>Remove duplicate features that exist in multiple feature sets and retain a reproducible random selection of one of them</h2><span id='topic+filter_duplicates'></span>

<h3>Description</h3>

<p>Remove duplicate features that exist in multiple feature sets and retain a reproducible random selection of one of them
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_duplicates(data, preference = NULL, seed = 123)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_duplicates_+3A_data">data</code></td>
<td>
<p><code>feature_calculations</code> object containing the raw feature matrix produced by <code>calculate_features</code></p>
</td></tr>
<tr><td><code id="filter_duplicates_+3A_preference">preference</code></td>
<td>
<p>deprecated. Do not use</p>
</td></tr>
<tr><td><code id="filter_duplicates_+3A_seed">seed</code></td>
<td>
<p><code>integer</code> denoting a fix for R's pseudo-random number generator to ensure selections are reproducible. Defaults to <code>123</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>feature_calculations</code> object containing filtered feature data
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='filter_good_features'>Filter resample data sets according to good feature list</h2><span id='topic+filter_good_features'></span>

<h3>Description</h3>

<p>Filter resample data sets according to good feature list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_good_features(data, x, good_features)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_good_features_+3A_data">data</code></td>
<td>
<p><code>list</code> of <code>"Train"</code> and <code>"Test"</code> data</p>
</td></tr>
<tr><td><code id="filter_good_features_+3A_x">x</code></td>
<td>
<p><code>integer</code> denoting the resample index to operate on</p>
</td></tr>
<tr><td><code id="filter_good_features_+3A_good_features">good_features</code></td>
<td>
<p><code>character</code> vector of good features to keep</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of filtered train and test data
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='find_good_features'>Helper function to find features in both train and test set that are &quot;good&quot;</h2><span id='topic+find_good_features'></span>

<h3>Description</h3>

<p>Helper function to find features in both train and test set that are &quot;good&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_good_features(data, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_good_features_+3A_data">data</code></td>
<td>
<p><code>list</code> of <code>"Train"</code> and <code>"Test"</code> data</p>
</td></tr>
<tr><td><code id="find_good_features_+3A_x">x</code></td>
<td>
<p><code>integer</code> denoting the resample index to operate on</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character</code> vector of &quot;good&quot; feature names
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='fit_models'>Fit classification model and compute key metrics</h2><span id='topic+fit_models'></span>

<h3>Description</h3>

<p>Fit classification model and compute key metrics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_models(data, iter_data, row_id, is_null_run = FALSE, classifier)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_models_+3A_data">data</code></td>
<td>
<p><code>list</code> containing train and test sets</p>
</td></tr>
<tr><td><code id="fit_models_+3A_iter_data">iter_data</code></td>
<td>
<p><code>data.frame</code> containing the values to iterate over for seed and either feature name or set name</p>
</td></tr>
<tr><td><code id="fit_models_+3A_row_id">row_id</code></td>
<td>
<p><code>integer</code> denoting the row ID for <code>iter_data</code> to filter to</p>
</td></tr>
<tr><td><code id="fit_models_+3A_is_null_run">is_null_run</code></td>
<td>
<p><code>Boolean</code> whether the calculation is for a null model. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="fit_models_+3A_classifier">classifier</code></td>
<td>
<p><code>function</code> specifying the classifier to fit. Should be a function with 2 arguments: <code>formula</code> and <code>data</code>. Please note that <code>tsfeature_classifier</code> z-scores data prior to modelling using the train set's information so disabling default scaling if your function uses it is recommended.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> of classification results
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='get_rescale_vals'>Calculate central tendency and spread values for all numeric columns in a dataset</h2><span id='topic+get_rescale_vals'></span>

<h3>Description</h3>

<p>Calculate central tendency and spread values for all numeric columns in a dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rescale_vals(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_rescale_vals_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> containing data to normalise</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of central tendency and spread values
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='interval'>Calculate interval summaries with a measure of central tendency of classification results</h2><span id='topic+interval'></span><span id='topic+calculate_interval'></span>

<h3>Description</h3>

<p>Calculate interval summaries with a measure of central tendency of classification results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interval(
  data,
  metric = c("accuracy", "precision", "recall", "f1"),
  by_set = TRUE,
  type = c("sd", "qt", "quantile"),
  interval = NULL,
  model_type = c("main", "null")
)

calculate_interval(
  data,
  metric = c("accuracy", "precision", "recall", "f1"),
  by_set = TRUE,
  type = c("sd", "qt", "quantile"),
  interval = NULL,
  model_type = c("main", "null")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interval_+3A_data">data</code></td>
<td>
<p><code>list</code> object containing the classification outputs produce by <code>tsfeature_classifier</code></p>
</td></tr>
<tr><td><code id="interval_+3A_metric">metric</code></td>
<td>
<p><code>character</code> denoting the classification performance metric to calculate intervals for. Can be one of <code>"accuracy"</code>, <code>"precision"</code>, <code>"recall"</code>, <code>"f1"</code>. Defaults to <code>"accuracy"</code></p>
</td></tr>
<tr><td><code id="interval_+3A_by_set">by_set</code></td>
<td>
<p><code>Boolean</code> specifying whether to compute intervals for each feature set. Defaults to <code>TRUE</code>. If <code>FALSE</code>, the function will instead calculate intervals for each feature</p>
</td></tr>
<tr><td><code id="interval_+3A_type">type</code></td>
<td>
<p><code>character</code> denoting whether to calculate a +/- SD interval with <code>"sd"</code>, confidence interval based off the t-distribution with <code>"qt"</code>, or based on a quantile with <code>"quantile"</code>. Defaults to <code>"sd"</code></p>
</td></tr>
<tr><td><code id="interval_+3A_interval">interval</code></td>
<td>
<p><code>numeric</code> scalar denoting the width of the interval to calculate. Defaults to <code>1</code> if <code>type = "sd"</code> to produce a +/- 1 SD interval. Defaults to <code>0.95</code> if <code>type = "qt"</code> or <code>type = "quantile"</code> for a 95 per cent interval</p>
</td></tr>
<tr><td><code id="interval_+3A_model_type">model_type</code></td>
<td>
<p><code>character</code> denoting whether to calculate intervals for main models with <code>"main"</code> or null models with <code>"null"</code> if the <code>use_null</code> argument when using <code>tsfeature_classifier</code> was <code>use_null = TRUE</code>. Defaults to <code>"main"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> containing the results
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(theft)

features &lt;- theft::calculate_features(theft::simData,
  group_var = "process",
  feature_set = NULL,
  features = list("mean" = mean, "sd" = sd))

classifiers &lt;- classify(features,
  by_set = FALSE,
  n_resamples = 3)

interval(classifiers,
  by_set = FALSE,
  type = "sd",
  interval = 1)

</code></pre>

<hr>
<h2 id='make_title'>Helper function for converting to title case</h2><span id='topic+make_title'></span>

<h3>Description</h3>

<p>Helper function for converting to title case
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_title(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_title_+3A_x">x</code></td>
<td>
<p><code>character</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character</code> vector
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='plot.feature_calculations'>Produce a plot for a feature_calculations object</h2><span id='topic+plot.feature_calculations'></span>

<h3>Description</h3>

<p>Produce a plot for a feature_calculations object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'feature_calculations'
plot(
  x,
  type = c("quality", "matrix", "cor", "violin"),
  norm_method = c("z-score", "Sigmoid", "RobustSigmoid", "MinMax"),
  unit_int = FALSE,
  clust_method = c("average", "ward.D", "ward.D2", "single", "complete", "mcquitty",
    "median", "centroid"),
  cor_method = c("pearson", "spearman"),
  feature_names = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.feature_calculations_+3A_x">x</code></td>
<td>
<p><code>feature_calculations</code> object containing the raw feature matrix produced by <code>theft::calculate_features</code></p>
</td></tr>
<tr><td><code id="plot.feature_calculations_+3A_type">type</code></td>
<td>
<p><code>character</code> specifying the type of plot to draw. Defaults to <code>"quality"</code></p>
</td></tr>
<tr><td><code id="plot.feature_calculations_+3A_norm_method">norm_method</code></td>
<td>
<p><code>character</code> specifying a rescaling/normalising method to apply if <code>type = "matrix"</code> or if <code>type = "cor"</code>. Can be one of <code>"z-score"</code>, <code>"Sigmoid"</code>, <code>"RobustSigmoid"</code>, or <code>"MinMax"</code>. Defaults to <code>"z-score"</code></p>
</td></tr>
<tr><td><code id="plot.feature_calculations_+3A_unit_int">unit_int</code></td>
<td>
<p><code>Boolean</code> whether to rescale into unit interval <code>[0,1]</code> after applying normalisation method. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="plot.feature_calculations_+3A_clust_method">clust_method</code></td>
<td>
<p><code>character</code> specifying the hierarchical clustering method to use if <code>type = "matrix"</code> or if <code>type = "cor"</code>. Defaults to <code>"average"</code></p>
</td></tr>
<tr><td><code id="plot.feature_calculations_+3A_cor_method">cor_method</code></td>
<td>
<p><code>character</code> specifying the correlation method to use if <code>type = "cor"</code>. Defaults to <code>"pearson"</code></p>
</td></tr>
<tr><td><code id="plot.feature_calculations_+3A_feature_names">feature_names</code></td>
<td>
<p><code>character</code> vector denoting the name of the features to plot if <code>type = "violin"</code>. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="plot.feature_calculations_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code>ggplot2::geom_bar</code> if <code>type = "quality"</code>, <code>ggplot2::geom_raster</code> if <code>type = "matrix"</code>, <code>ggplot2::geom_raster</code> if <code>type = "cor"</code>, or <code>ggplot2::geom_point</code> if <code>type = "violin"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>ggplot</code> that contains the graphic
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='plot.feature_projection'>Produce a plot for a feature_projection object</h2><span id='topic+plot.feature_projection'></span>

<h3>Description</h3>

<p>Produce a plot for a feature_projection object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'feature_projection'
plot(x, show_covariance = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.feature_projection_+3A_x">x</code></td>
<td>
<p><code>feature_projection</code> object containing the two-dimensional embedding calculated by <code>project</code></p>
</td></tr>
<tr><td><code id="plot.feature_projection_+3A_show_covariance">show_covariance</code></td>
<td>
<p><code>Boolean</code> specifying whether covariance ellipses should be shown on the plot. Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="plot.feature_projection_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>ggplot</code> that contains the graphic
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='project'>Project a feature matrix into a two-dimensional representation using PCA, MDS, t-SNE, or UMAP ready for plotting</h2><span id='topic+project'></span><span id='topic+reduce_dims'></span>

<h3>Description</h3>

<p>Project a feature matrix into a two-dimensional representation using PCA, MDS, t-SNE, or UMAP ready for plotting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>project(
  data,
  norm_method = c("zScore", "Sigmoid", "RobustSigmoid", "MinMax"),
  unit_int = FALSE,
  low_dim_method = c("PCA", "tSNE", "ClassicalMDS", "KruskalMDS", "SammonMDS", "UMAP"),
  na_removal = c("feature", "sample"),
  seed = 123,
  ...
)

reduce_dims(
  data,
  norm_method = c("zScore", "Sigmoid", "RobustSigmoid", "MinMax"),
  unit_int = FALSE,
  low_dim_method = c("PCA", "tSNE", "ClassicalMDS", "KruskalMDS", "SammonMDS", "UMAP"),
  na_removal = c("feature", "sample"),
  seed = 123,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="project_+3A_data">data</code></td>
<td>
<p><code>feature_calculations</code> object containing the raw feature matrix produced by <code>theft::calculate_features</code></p>
</td></tr>
<tr><td><code id="project_+3A_norm_method">norm_method</code></td>
<td>
<p><code>character</code> denoting the rescaling/normalising method to apply. Can be one of <code>"zScore"</code>, <code>"Sigmoid"</code>, <code>"RobustSigmoid"</code>, <code>"MinMax"</code>, or <code>"MaxAbs"</code>. Defaults to <code>"zScore"</code></p>
</td></tr>
<tr><td><code id="project_+3A_unit_int">unit_int</code></td>
<td>
<p><code>Boolean</code> whether to rescale into unit interval <code>[0,1]</code> after applying normalisation method. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="project_+3A_low_dim_method">low_dim_method</code></td>
<td>
<p><code>character</code> specifying the low dimensional embedding method to use. Can be one of <code>"PCA"</code>, <code>"tSNE"</code>, <code>"ClassicalMDS"</code>, <code>"KruskalMDS"</code>, <code>"SammonMDS"</code>, or <code>"UMAP"</code>. Defaults to <code>"PCA"</code></p>
</td></tr>
<tr><td><code id="project_+3A_na_removal">na_removal</code></td>
<td>
<p><code>character</code> defining the way to deal with NAs produced during feature calculation. Can be one of <code>"feature"</code> or <code>"sample"</code>. <code>"feature"</code> removes all features that produced any NAs in any sample, keeping the number of samples the same. <code>"sample"</code> omits all samples that produced at least one NA. Defaults to <code>"feature"</code></p>
</td></tr>
<tr><td><code id="project_+3A_seed">seed</code></td>
<td>
<p><code>integer</code> to fix R's random number generator to ensure reproducibility. Defaults to <code>123</code></p>
</td></tr>
<tr><td><code id="project_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code>stats::prcomp</code> or <code>Rtsne::Rtsne</code>, <code>stats::cmdscale</code>, <code>MASS::isoMDS</code>, <code>MASS::sammon</code>, or <code>umap::umap</code> depending on selection in <code>low_dim_method</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>feature_project</code> which is a named list containing the <code>feature_calculations</code> data supplied to the function, the wide matrix of filtered data, a tidy <code>data.frame</code> of the projected 2-D data, and the model fit object
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(theft)

features &lt;- theft::calculate_features(theft::simData,
  group_var = "process",
  feature_set = "catch22")

pca &lt;- project(features,
  norm_method = "zScore",
  low_dim_method = "PCA")


</code></pre>

<hr>
<h2 id='resample_data'>Helper function to create a resampled dataset</h2><span id='topic+resample_data'></span>

<h3>Description</h3>

<p>Helper function to create a resampled dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resample_data(data, train_rows, test_rows, train_groups, test_groups, seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resample_data_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> containing time-series features</p>
</td></tr>
<tr><td><code id="resample_data_+3A_train_rows">train_rows</code></td>
<td>
<p><code>integer</code> denoting the number of cases in the train set</p>
</td></tr>
<tr><td><code id="resample_data_+3A_test_rows">test_rows</code></td>
<td>
<p><code>integer</code> denoting the number of cases in the test set</p>
</td></tr>
<tr><td><code id="resample_data_+3A_train_groups">train_groups</code></td>
<td>
<p><code>data.frame</code> containing proportions of each class in original train split</p>
</td></tr>
<tr><td><code id="resample_data_+3A_test_groups">test_groups</code></td>
<td>
<p><code>data.frame</code> containing proportions of each class in original test split</p>
</td></tr>
<tr><td><code id="resample_data_+3A_seed">seed</code></td>
<td>
<p><code>integer</code> denoting fixed value for R's pseudorandom number generator</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> containing new train and test data
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='rescale_zscore'>Calculate z-score for all columns in a dataset using train set central tendency and spread</h2><span id='topic+rescale_zscore'></span>

<h3>Description</h3>

<p>Calculate z-score for all columns in a dataset using train set central tendency and spread
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rescale_zscore(data, rescalers)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rescale_zscore_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> containing data to normalise</p>
</td></tr>
<tr><td><code id="rescale_zscore_+3A_rescalers">rescalers</code></td>
<td>
<p><code>list</code> containing central tendency and spread values for the train set</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> of rescaled data
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='select_stat_cols'>Helper function to select only the relevant columns for statistical testing</h2><span id='topic+select_stat_cols'></span>

<h3>Description</h3>

<p>Helper function to select only the relevant columns for statistical testing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_stat_cols(data, by_set, metric, hypothesis)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_stat_cols_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> of classification accuracy results</p>
</td></tr>
<tr><td><code id="select_stat_cols_+3A_by_set">by_set</code></td>
<td>
<p><code>Boolean</code> specifying whether you want to compare feature sets (if <code>TRUE</code>) or individual features (if <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="select_stat_cols_+3A_metric">metric</code></td>
<td>
<p><code>character</code> denoting the classification performance metric to use in statistical testing. Can be one of <code>"accuracy"</code>, <code>"precision"</code>, <code>"recall"</code>, <code>"f1"</code>. Defaults to <code>"accuracy"</code></p>
</td></tr>
<tr><td><code id="select_stat_cols_+3A_hypothesis">hypothesis</code></td>
<td>
<p><code>character</code> denoting whether p-values should be calculated for each feature set or feature (depending on <code>by_set</code> argument) individually relative to the null if <code>use_null = TRUE</code> in <code>tsfeature_classifier</code> through <code>"null"</code>, or whether pairwise comparisons between each set or feature should be conducted on main model fits only through <code>"pairwise"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>data.frame</code>
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

<hr>
<h2 id='stat_test'>Calculate p-values for feature sets or features relative to an empirical null or each other using resampled t-tests</h2><span id='topic+stat_test'></span>

<h3>Description</h3>

<p>Calculate p-values for feature sets or features relative to an empirical null or each other using resampled t-tests
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_test(
  data,
  iter_data,
  row_id,
  by_set = FALSE,
  hypothesis,
  metric,
  train_test_sizes,
  n_resamples
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_test_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> of raw classification accuracy results</p>
</td></tr>
<tr><td><code id="stat_test_+3A_iter_data">iter_data</code></td>
<td>
<p><code>data.frame</code> containing the values to iterate over for seed and either feature name or set name</p>
</td></tr>
<tr><td><code id="stat_test_+3A_row_id">row_id</code></td>
<td>
<p><code>integer</code> denoting the row ID for <code>iter_data</code> to filter to</p>
</td></tr>
<tr><td><code id="stat_test_+3A_by_set">by_set</code></td>
<td>
<p><code>Boolean</code> specifying whether you want to compare feature sets (if <code>TRUE</code>) or individual features (if <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="stat_test_+3A_hypothesis">hypothesis</code></td>
<td>
<p><code>character</code> denoting whether p-values should be calculated for each feature set or feature (depending on <code>by_set</code> argument) individually relative to the null if <code>use_null = TRUE</code> in <code>tsfeature_classifier</code> through <code>"null"</code>, or whether pairwise comparisons between each set or feature should be conducted on main model fits only through <code>"pairwise"</code>.</p>
</td></tr>
<tr><td><code id="stat_test_+3A_metric">metric</code></td>
<td>
<p><code>character</code> denoting the classification performance metric to use in statistical testing. Can be one of <code>"accuracy"</code>, <code>"precision"</code>, <code>"recall"</code>, <code>"f1"</code>. Defaults to <code>"accuracy"</code></p>
</td></tr>
<tr><td><code id="stat_test_+3A_train_test_sizes">train_test_sizes</code></td>
<td>
<p><code>integer</code> vector containing the train and test set sample sizes</p>
</td></tr>
<tr><td><code id="stat_test_+3A_n_resamples">n_resamples</code></td>
<td>
<p><code>integer</code> denoting the number of resamples that were calculated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>data.frame</code>
</p>


<h3>Author(s)</h3>

<p>Trent Henderson
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

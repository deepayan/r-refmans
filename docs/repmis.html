<!DOCTYPE html><html lang="en"><head><title>Help for package repmis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {repmis}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#git_stamp'><p>Get git stamp (commit and branch) for a repository</p></a></li>
<li><a href='#InstallOldPackages'><p>Install old versions of R packages.</p></a></li>
<li><a href='#LoadandCite'><p>Install, load, and cite R packages</p></a></li>
<li><a href='#scan_https'><p>Read a character text file from a secure (https) site into R as a single</p>
object.</a></li>
<li><a href='#set_valid_wd'><p>Sets valid working directory from vector of possible directories</p></a></li>
<li><a href='#source_data'><p>Load plain-text data and RData from a URL (either http or https)</p></a></li>
<li><a href='#source_DropboxData'><p>No longer supported</p></a></li>
<li><a href='#source_XlsxData'><p>Download an Excel data set</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Miscellaneous Tools for Reproducible Research</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to load 'R' packages
    and automatically generate BibTeX files citing them as well as load and
    cache plain-text and 'Excel' formatted data stored on 'GitHub', and
    from other sources.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-02-06</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://cran.r-project.org/package=repmis">http://cran.r-project.org/package=repmis</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/christophergandrud/repmis/issues">https://github.com/christophergandrud/repmis/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, digest, httr, plyr, R.cache</td>
</tr>
<tr>
<td>Suggests:</td>
<td>xlsx</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-02-06 19:46:42 UTC; christophergandrud</td>
</tr>
<tr>
<td>Author:</td>
<td>Christopher Gandrud [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christopher Gandrud &lt;christopher.gandrud@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-02-07 09:16:30</td>
</tr>
</table>
<hr>
<h2 id='git_stamp'>Get git stamp (commit and branch) for a repository</h2><span id='topic+git_stamp'></span>

<h3>Description</h3>

<p>The function returns the latest git commit and branch for the repo specified
in <code>repo</code> or the current working directory if unspecified.
Git is needed for the command to run.
The functions makes it possible to include the latest git commit and branch
in a run to be able to know exactly which code where used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>git_stamp(repo = getwd())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="git_stamp_+3A_repo">repo</code></td>
<td>
<p>Git repo directory. If unspecified, then the current working
directory is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector with latest commit and branch
</p>

<hr>
<h2 id='InstallOldPackages'>Install old versions of R packages.</h2><span id='topic+InstallOldPackages'></span>

<h3>Description</h3>

<p><code>InstallOldPackages</code> installs specific R package versions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>InstallOldPackages(pkgs, versions, oldRepos = "http://cran.r-project.org",
  lib = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="InstallOldPackages_+3A_pkgs">pkgs</code></td>
<td>
<p>character vector of package names to install.</p>
</td></tr>
<tr><td><code id="InstallOldPackages_+3A_versions">versions</code></td>
<td>
<p>character vector of package version numbers. to install. The
order must match the order of package names in <code>pkgs</code>.</p>
</td></tr>
<tr><td><code id="InstallOldPackages_+3A_oldrepos">oldRepos</code></td>
<td>
<p>character name of repository to download the packages old
package versions from. Default is
<code>oldRepos = "http://cran.r-project.org"</code>.</p>
</td></tr>
<tr><td><code id="InstallOldPackages_+3A_lib">lib</code></td>
<td>
<p>character vector giving the library directories where to install
the packages. Recycled as needed. If <code>NULL</code>, defaults to the first
element of <code>.libPaths()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Installs specific R package versions.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+install.packages">install.packages</a></code> and <code><a href="utils.html#topic+download.file">download.file</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Install old versions of the e1071 and gtools packages.
Names &lt;- c("e1071", "gtools")
Vers &lt;- c("1.6", "2.6.1")
InstallOldPackages(pkgs = Names, versions = Vers)

## End(Not run)
</code></pre>

<hr>
<h2 id='LoadandCite'>Install, load, and cite R packages</h2><span id='topic+LoadandCite'></span>

<h3>Description</h3>

<p><code>LoadandCite</code> can install and load R packages as well as automatically
generate a BibTeX file citing the packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LoadandCite(pkgs = NULL, versions = NULL, Rversion = NULL,
  bibtex = TRUE, style = "plain", tweak = TRUE, install = FALSE,
  file = NULL, repos = NULL, lib = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LoadandCite_+3A_pkgs">pkgs</code></td>
<td>
<p>a character vector of R package names. If <code>pkgs = NULL</code> then
<code>LoadandCite</code> only cites the non-base packages in the current session.
It does not load or install any packages.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_versions">versions</code></td>
<td>
<p>character vector of package version numbers to install. Only
works if <code>install = TRUE</code>. The order must match the order of package
names in <code>pkgs</code>.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_rversion">Rversion</code></td>
<td>
<p>a character string specifying a particular R version. If the
version of R currently running differs from <code>Rversion</code>
<code>LoadandCite</code> a warning will be given. This argument is for replication
purposes.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_bibtex">bibtex</code></td>
<td>
<p>logical. If <code>TRUE</code> than a BibTeX formatted citation file
is created. If <code>FALSE</code> than the citations are returned as plain text.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_style">style</code></td>
<td>
<p>character string indicating stylistic elements to add to the
citations. Currently supports <code>'plain'</code>, i.e. no special formatting and
<code>'JSS'</code> to match the BibTeX style for the
<em>Journal of Statistical Software</em>
(see <a href="http://www.jstatsoft.org/style">http://www.jstatsoft.org/style</a>).</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_tweak">tweak</code></td>
<td>
<p>logical. Whether to fix some known problems in the citations,
especially non-standard format of authors.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_install">install</code></td>
<td>
<p>a logical option for whether or not to install the packages.
The default is <code>install = FALSE</code>.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_file">file</code></td>
<td>
<p>the name of the BibTeX file you want to create. If
<code>file = NULL</code> then the packages are loaded, but no BibTeX file is
created.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_repos">repos</code></td>
<td>
<p>character vector specifying which repository to download
packages from. Only relevant if <code>install = TRUE</code> and versions are not
specified. If <code>repos = NULL</code>, automatically reads user defined
repository (via <code>options</code>), but defaults to
<code>repos = "http://cran.us.r-project.org"</code> if <code>repos</code> is not set.</p>
</td></tr>
<tr><td><code id="LoadandCite_+3A_lib">lib</code></td>
<td>
<p>character vector giving the library directories where to install
the packages. Recycled as needed. If <code>NULL</code>, defaults to the first
element of <code>.libPaths()</code>. Only relevant if <code>install = TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The command can install R packages, load them, and create a BibTeX
file that can be used to cite the packages in a LaTeX or similar document. It
can be useful to place this command in a <code>knitr</code> code chunk at the
beginning of a reproducible research document. Note: the command will
overwrite existing files with the same name as <code>file</code>, so it is
generally a good idea to create a new BibTeX file with <code>LoadandCite</code>.
</p>


<h3>Source</h3>

<p>Gandrud, Christopher (2013). Automating R Package Citations in Reproducible
Research Documents. SSRN.
This function is partially based on: <a href="https://gist.github.com/3710171">https://gist.github.com/3710171</a>.
It also builds on code from knitr's <code>write_bib</code>. See: Y. Xie. knitr: A
general-purpose package for dynamic report generation in R, 2013. URL
<a href="http://CRAN.R-project.org/package=knitr">http://CRAN.R-project.org/package=knitr</a>. R package version 1.5. Note
that it does not formally depend on knitr so that knitr can be included in
<code>LoadandCite</code> so that it is possible to install old versions of that
package.
</p>


<h3>See Also</h3>

<p><code>write_bib</code>, <code><a href="utils.html#topic+install.packages">install.packages</a></code>, and
<code><a href="base.html#topic+library">library</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create vector of package names
## In this example you need to have the packages installed aready.
PackNames &lt;- "repmis"
# Load the packages and create a BibTeX file
LoadandCite(pkgs = PackNames, file = 'PackageCites.bib', style = 'JSS')
## Not run: 
# Install, load, and cite specific package versions
# dontrun due to CRAN restrictions
Names &lt;- c("e1071", "gtools")
Vers &lt;- c("1.6", "2.6.1")
LoadandCite(pkgs = Names, versions = Vers, install = TRUE,
             file = "PackageCites.bib")

## End(Not run)
</code></pre>

<hr>
<h2 id='scan_https'>Read a character text file from a secure (https) site into R as a single
object.</h2><span id='topic+scan_https'></span>

<h3>Description</h3>

<p>Read a character text file from a secure (https) site into R as a single
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scan_https(url, sha1 = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scan_https_+3A_url">url</code></td>
<td>
<p>The files's URL.</p>
</td></tr>
<tr><td><code id="scan_https_+3A_sha1">sha1</code></td>
<td>
<p>Character string of the file's SHA-1 hash, generated by
<code>source_data</code>. Note if you are using data stored using Git, this is not
the file's commit SHA-1 hash.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a charcter object of length 1
</p>


<h3>Source</h3>

<p>Originally based on source_url from the Hadley Wickham's devtools
package.
</p>

<hr>
<h2 id='set_valid_wd'>Sets valid working directory from vector of possible directories</h2><span id='topic+set_valid_wd'></span>

<h3>Description</h3>

<p>Sets valid working directory from vector of possible directories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_valid_wd(possible)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_valid_wd_+3A_possible">possible</code></td>
<td>
<p>character vector of possible working directores</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sets the working directory to the first valid directory from a
list of possible directories.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set_valid_wd(c('examples/directory1', 'anotherExample/directory2'))

## End(Not run)

</code></pre>

<hr>
<h2 id='source_data'>Load plain-text data and RData from a URL (either http or https)</h2><span id='topic+source_data'></span>

<h3>Description</h3>

<p><code>source_data</code> loads plain-text or RDATA formatted data stored at a URL
(both http and https) into R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_data(url, rdata, sha1 = NULL, cache = FALSE, clearCache = FALSE,
  sep = "auto", header = "auto", stringsAsFactors = FALSE,
  envir = parent.frame(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="source_data_+3A_url">url</code></td>
<td>
<p>The data's URL. To distinguish between plain-text and RDATA the
<code>url</code> must end in a distinguishing file extension.</p>
</td></tr>
<tr><td><code id="source_data_+3A_rdata">rdata</code></td>
<td>
<p>logical. Whether or not the data set is an <code>.RDATA</code> file.
If not specified than <code>source_url</code> will attempt to determine whether or
not the file is an <code>.RDATA</code> file from the URL's extension.</p>
</td></tr>
<tr><td><code id="source_data_+3A_sha1">sha1</code></td>
<td>
<p>Character string of the file's SHA-1 hash, generated by
<code>source_data</code>. Note if you are using data stored using Git, this is not
the file's commit SHA-1 hash.</p>
</td></tr>
<tr><td><code id="source_data_+3A_cache">cache</code></td>
<td>
<p>logical. Whether or not to cache the data so that it is not
downloaded every time the function is called.</p>
</td></tr>
<tr><td><code id="source_data_+3A_clearcache">clearCache</code></td>
<td>
<p>logical. Whether or not to clear the downloaded data from
the cache.</p>
</td></tr>
<tr><td><code id="source_data_+3A_sep">sep</code></td>
<td>
<p>The separator method for the plain-text data. For example, to load
comma-separated values data (CSV) use <code>sep = ","</code>. To load
tab-separated values data (TSV) use <code>sep = "\t"</code>. Only relevant for
plain-text data.</p>
</td></tr>
<tr><td><code id="source_data_+3A_header">header</code></td>
<td>
<p>Logical, whether or not the first line of the file is the
header (i.e. variable names).</p>
</td></tr>
<tr><td><code id="source_data_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>logical. Convert all character columns to factors?</p>
</td></tr>
<tr><td><code id="source_data_+3A_envir">envir</code></td>
<td>
<p>the environment where the data should be loaded.</p>
</td></tr>
<tr><td><code id="source_data_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="data.table.html#topic+fread">fread</a></code> or
<code><a href="base.html#topic+load">load</a></code> as relevant.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Loads plain-text data (e.g. CSV, TSV) or RDATA from a URL. Works with
both HTTP and HTTPS sites. Note: the URL you give for the <code>url</code> argument
must be for the RAW version of the file. The function should work to download
plain-text data from any secure URL (https), though I have not verified this.
</p>
<p>From the <code>source_url</code> documentation: &quot;If a SHA-1 hash is specified with
the <code>sha1</code> argument, then this function will check the SHA-1 hash of the
downloaded file to make sure it matches the expected value, and throw an error
if it does not match. If the SHA-1 hash is not specified, it will print a
message displaying the hash of the downloaded file. The purpose of this is to
improve security when running remotely-hosted code; if you have a hash of
the file, you can be sure that it has not changed.&quot;
</p>


<h3>Value</h3>

<p>a data frame
</p>


<h3>Source</h3>

<p>Originally based on source_url from the Hadley Wickham's devtools
package.
</p>


<h3>See Also</h3>

<p><a href="httr.html#topic+httr">httr</a>, <code><a href="data.table.html#topic+fread">fread</a></code>, and <code><a href="base.html#topic+load">load</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download electoral disproportionality data stored on GitHub
# Note: Using shortened URL created by bitly
DisData &lt;- source_data("http://bit.ly/156oQ7a")

# Check to see if SHA-1 hash matches downloaded file
DisDataHash &lt;- source_data("http://bit.ly/Ss6zDO",
   sha1 = "dc8110d6dff32f682bd2f2fdbacb89e37b94f95d")

## End(Not run)
</code></pre>

<hr>
<h2 id='source_DropboxData'>No longer supported</h2><span id='topic+source_DropboxData'></span>

<h3>Description</h3>

<p>No longer supported
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_DropboxData()
</code></pre>

<hr>
<h2 id='source_XlsxData'>Download an Excel data set</h2><span id='topic+source_XlsxData'></span>

<h3>Description</h3>

<p><code>source_XlsxData</code> loads Excel data stored at a URL (both http
and https) into R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_XlsxData(url, sheet, sha1 = NULL, cache = FALSE,
  clearCache = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="source_XlsxData_+3A_url">url</code></td>
<td>
<p>character string of the Excel files's URL.</p>
</td></tr>
<tr><td><code id="source_XlsxData_+3A_sheet">sheet</code></td>
<td>
<p>character string of number of representing the sheet in the
workbook to return. Only one sheet at a time can currently be returned</p>
</td></tr>
<tr><td><code id="source_XlsxData_+3A_sha1">sha1</code></td>
<td>
<p>Character string of the file's SHA-1 hash, generated by
<code>source_data</code>. Note if you are using data stored using Git, this is not
the file's commit SHA-1 hash.</p>
</td></tr>
<tr><td><code id="source_XlsxData_+3A_cache">cache</code></td>
<td>
<p>logical. Whether or not to cache the data so that it is not
downloaded every time the function is called.</p>
</td></tr>
<tr><td><code id="source_XlsxData_+3A_clearcache">clearCache</code></td>
<td>
<p>logical. Whether or not to clear the downloaded data from
the cache.</p>
</td></tr>
<tr><td><code id="source_XlsxData_+3A_...">...</code></td>
<td>
<p>arguments to pass to <code>read.xlsx</code> from the xlsx package.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame
</p>


<h3>See Also</h3>

<p><code>read.xlsx</code>, <a href="httr.html#topic+httr">httr</a>, <code><a href="#topic+source_data">source_data</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

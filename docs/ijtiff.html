<!DOCTYPE html><html><head><title>Help for package ijtiff</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ijtiff}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_EBImage'><p>Convert an ijtiff_img to an EBImage::Image.</p></a></li>
<li><a href='#count_frames'><p>Count the number of frames in a TIFF file.</p></a></li>
<li><a href='#display'><p>Basic image display.</p></a></li>
<li><a href='#ijtiff'><p><code>ijtiff</code>: TIFF I/O for <em>ImageJ</em> users</p></a></li>
<li><a href='#ijtiff_img'><p><code>ijtiff_img</code> class.</p></a></li>
<li><a href='#linescan-conversion'><p>Rejig linescan images.</p></a></li>
<li><a href='#print.ijtiff_img'><p>Print method for an <code>ijtiff_img</code>.</p></a></li>
<li><a href='#read_tags'><p>Read TIFF tag information without actually reading the image array.</p></a></li>
<li><a href='#read_tif'><p>Read an image stored in the TIFF format</p></a></li>
<li><a href='#text-image-io'><p>Read/write an image array to/from disk as text file(s).</p></a></li>
<li><a href='#tif_tags_reference'><p>TIFF tag reference.</p></a></li>
<li><a href='#write_tif'><p>Write images in TIFF format</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Comprehensive TIFF I/O with Full Support for 'ImageJ' TIFF Files</td>
</tr>
<tr>
<td>Version:</td>
<td>2.3.4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rory Nolan &lt;rorynoolan@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>General purpose TIFF file I/O for R users.  Currently the
    only such package with read and write support for TIFF files with
    floating point (real-numbered) pixels, and the only package that can
    correctly import TIFF files that were saved from 'ImageJ' and write
    TIFF files than can be correctly read by 'ImageJ'
    <a href="https://imagej.net/ij/">https://imagej.net/ij/</a>. Also supports text image I/O.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/ijtiff/">https://docs.ropensci.org/ijtiff/</a>,
<a href="https://github.com/ropensci/ijtiff">https://github.com/ropensci/ijtiff</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/ijtiff/issues">https://github.com/ropensci/ijtiff/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate (&ge; 1.9.3), cli, dplyr, fs (&ge; 1.5), graphics,
grDevices, magrittr (&ge; 1.5), methods, purrr, readr, rlang (&ge;
1.0), strex (&ge; 1.5), stringr (&ge; 1.4), withr (&ge; 2.1), zeallot</td>
</tr>
<tr>
<td>Suggests:</td>
<td>abind, covr, EBImage, knitr, mockery, pacman, rmarkdown,
rprojroot, spelling, testthat (&ge; 3.0), tiff, vdiffr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Biarch:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>libtiff, libbz2, libdeflate, libjpeg, liblzma,
libwebp, libzstd, zlib</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-13 04:23:31 UTC; rorynolan</td>
</tr>
<tr>
<td>Author:</td>
<td>Rory Nolan <a href="https://orcid.org/0000-0002-5239-4043"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Kent Johnson [aut],
  Simon Urbanek [ctb],
  Sergi Padilla-Parra
    <a href="https://orcid.org/0000-0002-8010-9481"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ths],
  Jeroen Ooms <a href="https://orcid.org/0000-0002-4035-0289"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [rev,
    ctb],
  Jon Clayden <a href="https://orcid.org/0000-0002-6608-0619"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [rev]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-13 05:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_EBImage'>Convert an <a href="#topic+ijtiff_img">ijtiff_img</a> to an <a href="EBImage.html#topic+Image">EBImage::Image</a>.</h2><span id='topic+as_EBImage'></span>

<h3>Description</h3>

<p>This is for interoperability with the the <code>EBImage</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_EBImage(img, colormode = NULL, scale = TRUE, force = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_EBImage_+3A_img">img</code></td>
<td>
<p>An <a href="#topic+ijtiff_img">ijtiff_img</a> object (or something coercible to one).</p>
</td></tr>
<tr><td><code id="as_EBImage_+3A_colormode">colormode</code></td>
<td>
<p>A numeric or a character string containing the color mode
which can be either <code>"Grayscale"</code> or <code>"Color"</code>. If not specified, a guess
is made. See 'Details'.</p>
</td></tr>
<tr><td><code id="as_EBImage_+3A_scale">scale</code></td>
<td>
<p>Scale values in an integer image to the range <code style="white-space: pre;">&#8288;[0, 1]&#8288;</code>? Has no
effect on floating-point images.</p>
</td></tr>
<tr><td><code id="as_EBImage_+3A_force">force</code></td>
<td>
<p>This function is designed to take <a href="#topic+ijtiff_img">ijtiff_img</a>s as input. To
force any old array through this function, use <code>force = TRUE</code>, but take
care to check that the result is what you'd like it to be.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The guess for the <code>colormode</code> is made as follows: * If <code>img</code> has an attribute
<code>color_space</code> with value <code>"RGB"</code>, then <code>colormode</code> is set to <code>"Color"</code>. *
Else if <code>img</code> has 3 or 4 channels, then <code>colormode</code> is set to <code>"Color"</code>. *
Else <code>colormode</code> is set to &quot;Grayscale&quot;.
</p>


<h3>Value</h3>

<p>An <a href="EBImage.html#topic+Image">EBImage::Image</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (rlang::is_installed("EBImage")) {
  img &lt;- read_tif(system.file("img", "Rlogo.tif", package = "ijtiff"))
  str(img)
  str(as_EBImage(img))
}
</code></pre>

<hr>
<h2 id='count_frames'>Count the number of frames in a TIFF file.</h2><span id='topic+count_frames'></span><span id='topic+frames_count'></span>

<h3>Description</h3>

<p>TIFF files can hold many frames. Often this is sensible, e.g. each frame
could be a time-point in a video or a slice of a z-stack.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_frames(path)

frames_count(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count_frames_+3A_path">path</code></td>
<td>
<p>A string. The path to the tiff file to read.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For those familiar with TIFF files, this function counts the number of
directories in a TIFF file. There is an adjustment made for some
ImageJ-written TIFF files.
</p>


<h3>Value</h3>

<p>A number, the number of frames in the TIFF file. This has an
attribute <code>n_dirs</code> which holds the true number of directories in the TIFF
file, making no allowance for the way ImageJ may write TIFF files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>count_frames(system.file("img", "Rlogo.tif", package = "ijtiff"))
</code></pre>

<hr>
<h2 id='display'>Basic image display.</h2><span id='topic+display'></span>

<h3>Description</h3>

<p>Display an image that has been read in by <code><a href="#topic+read_tif">read_tif()</a></code> as it would look in
'ImageJ'. This function is really just <code><a href="EBImage.html#topic+display">EBImage::display()</a></code> on the inside. If
you do not have <code>EBImage</code> installed, a more basic display is offered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>display(img, method = NULL, basic = FALSE, normalize = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="display_+3A_img">img</code></td>
<td>
<p>An <a href="#topic+ijtiff_img">ijtiff_img</a> object.</p>
</td></tr>
<tr><td><code id="display_+3A_method">method</code></td>
<td>
<p>The way of displaying images. Defaults to &quot;browser&quot; when R is
used interactively, and to &quot;raster&quot; otherwise. The default behavior can be
overridden by setting options(&quot;EBImage.display&quot;). This has no effect when
<code>basic = TRUE</code>.</p>
</td></tr>
<tr><td><code id="display_+3A_basic">basic</code></td>
<td>
<p>Force the basic (non-<code>EBImage</code>) display.</p>
</td></tr>
<tr><td><code id="display_+3A_normalize">normalize</code></td>
<td>
<p>Normalize the image before displaying (for better contrast)?
This only has an effect if the EBImage functionality is used. The basic
display always normalizes.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("EBImage")) {
  img &lt;- read_tif(system.file("img", "Rlogo.tif", package = "ijtiff"))
  display(img)
  display(img[, , 1, 1]) # first (red) channel, first frame
  display(img[, , 2, ]) # second (green) channel, first frame
  display(img[, , 3, ]) # third (blue) channel, first frame
  display(img, basic = TRUE) # displays first (red) channel, first frame
}
</code></pre>

<hr>
<h2 id='ijtiff'><code>ijtiff</code>: TIFF I/O for <em>ImageJ</em> users</h2><span id='topic+ijtiff'></span><span id='topic+ijtiff-package'></span>

<h3>Description</h3>

<p>This is a general purpose TIFF I/O utility for R. The <a href="https://cran.r-project.org/package=tiff"><code>tiff</code> package</a> already exists for this
purpose but <code>ijtiff</code> adds some functionality and overcomes some bugs therein.
</p>


<h3>Details</h3>


<ul>
<li> <p><code>ijtiff</code> can write TIFF files whose pixel values are real (floating-point)
numbers; <code>tiff</code> cannot.
</p>
</li>
<li> <p><code>ijtiff</code> can read and write <em>text images</em>; <code>tiff</code>
cannot.
</p>
</li>
<li> <p><code>tiff</code> struggles to interpret channel information and gives cryptic
errors when reading TIFF files written by the <em>ImageJ</em> software; <code>ijtiff</code>
works smoothly with these images.
</p>
</li></ul>


<hr>
<h2 id='ijtiff_img'><code>ijtiff_img</code> class.</h2><span id='topic+ijtiff_img'></span><span id='topic+as_ijtiff_img'></span>

<h3>Description</h3>

<p>A class for images which are read or to be written by the <code>ijtiff</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ijtiff_img(img, ...)

as_ijtiff_img(img, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ijtiff_img_+3A_img">img</code></td>
<td>
<p>An array representing the image. </p>
<ul>
<li><p> For a
single-plane, grayscale image, use a matrix <code>img[y, x]</code>. </p>
</li>
<li><p> For a
multi-plane, grayscale image, use a 3-dimensional array <code>img[y, x, plane]</code>.
</p>
</li>
<li><p> For a multi-channel, single-plane image, use a 4-dimensional array
with a redundant 4th slot <code>img[y, x, channel, ]</code> (see <a href="#topic+ijtiff_img">ijtiff_img</a>
'Examples' for an example). </p>
</li>
<li><p> For a multi-channel, multi-plane image,
use a 4-dimensional array <code>img[y, x, channel, plane]</code>.</p>
</li></ul>
</td></tr>
<tr><td><code id="ijtiff_img_+3A_...">...</code></td>
<td>
<p>Named arguments which are set as attributes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 4 dimensional array representing an image, indexed by <code>img[y, x, channel, frame]</code>, with selected attributes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>img &lt;- matrix(1:4, nrow = 2) # to be a single-channel, grayscale image
ijtiff_img(img, description = "single-channel, grayscale")
img &lt;- array(seq_len(2^3), dim = rep(2, 3)) # 1 channel, 2 frame
ijtiff_img(img, description = "blah blah blah")
img &lt;- array(seq_len(2^3), dim = c(2, 2, 2, 1)) #  2 channel, 1 frame
ijtiff_img(img, description = "blah blah")
img &lt;- array(seq_len(2^4), dim = rep(2, 4)) # 2 channel, 2 frame
ijtiff_img(img, software = "R")
</code></pre>

<hr>
<h2 id='linescan-conversion'>Rejig linescan images.</h2><span id='topic+linescan-conversion'></span><span id='topic+linescan_to_stack'></span><span id='topic+stack_to_linescan'></span>

<h3>Description</h3>

<p><code>ijtiff</code> has the fourth dimension of an <a href="#topic+ijtiff_img">ijtiff_img</a> as its time dimension.
However, some linescan images (images where a single line of pixels is
acquired over and over) have the time dimension as the y dimension, (to avoid
the need for an image stack). These functions allow one to convert this type
of image into a conventional <a href="#topic+ijtiff_img">ijtiff_img</a> (with time in the fourth dimension)
and to convert back.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>linescan_to_stack(linescan_img)

stack_to_linescan(img)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="linescan-conversion_+3A_linescan_img">linescan_img</code></td>
<td>
<p>A 4-dimensional array in which the time axis is the first
axis. Dimension 4 must be 1 i.e. <code>dim(linescan_img)[4] == 1</code>.</p>
</td></tr>
<tr><td><code id="linescan-conversion_+3A_img">img</code></td>
<td>
<p>A conventional <a href="#topic+ijtiff_img">ijtiff_img</a>, to be turned into a linescan image.
Dimension 1 must be 1 i.e. <code>dim(img)[1] == 1</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The converted image, an object of class <a href="#topic+ijtiff_img">ijtiff_img</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>linescan &lt;- ijtiff_img(array(rep(1:4, each = 4), dim = c(4, 4, 1, 1)))
print(linescan)
stack &lt;- linescan_to_stack(linescan)
print(stack)
linescan &lt;- stack_to_linescan(stack)
print(linescan)
</code></pre>

<hr>
<h2 id='print.ijtiff_img'>Print method for an <code>ijtiff_img</code>.</h2><span id='topic+print.ijtiff_img'></span>

<h3>Description</h3>

<p>Print method for an <code>ijtiff_img</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ijtiff_img'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ijtiff_img_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+ijtiff_img">ijtiff_img</a>.</p>
</td></tr>
<tr><td><code id="print.ijtiff_img_+3A_...">...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input (invisibly).
</p>

<hr>
<h2 id='read_tags'>Read TIFF tag information without actually reading the image array.</h2><span id='topic+read_tags'></span><span id='topic+tags_read'></span>

<h3>Description</h3>

<p>TIFF files contain metadata about images in their <em>TIFF tags</em>. This function
is for reading this information without reading the actual image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_tags(path, frames = 1)

tags_read(path, frames = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_tags_+3A_path">path</code></td>
<td>
<p>A string. The path to the tiff file to read.</p>
</td></tr>
<tr><td><code id="read_tags_+3A_frames">frames</code></td>
<td>
<p>Which frames do you want to read tags from. Default first frame
only. To read from the 2nd and 7th frames, use <code>frames = c(2, 7)</code>, to read
from all frames, use <code>frames = "all"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of lists.
</p>


<h3>Author(s)</h3>

<p>Simon Urbanek, Kent Johnson, Rory Nolan.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_tif">read_tif()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>read_tags(system.file("img", "Rlogo.tif", package = "ijtiff"))
read_tags(system.file("img", "Rlogo-banana.tif", package = "ijtiff"),
  frames = c(2, 4)
)
</code></pre>

<hr>
<h2 id='read_tif'>Read an image stored in the TIFF format</h2><span id='topic+read_tif'></span><span id='topic+tif_read'></span>

<h3>Description</h3>

<p>Reads an image from a TIFF file/content into a numeric array or list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_tif(path, frames = "all", list_safety = "error", msg = TRUE)

tif_read(path, frames = "all", list_safety = "error", msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_tif_+3A_path">path</code></td>
<td>
<p>A string. The path to the tiff file to read.</p>
</td></tr>
<tr><td><code id="read_tif_+3A_frames">frames</code></td>
<td>
<p>Which frames do you want to read. Default all. To read the 2nd
and 7th frames, use <code>frames = c(2, 7)</code>.</p>
</td></tr>
<tr><td><code id="read_tif_+3A_list_safety">list_safety</code></td>
<td>
<p>A string. This is for type safety of this function. Since
returning a list is unlikely and probably unexpected, the default is to
error. You can instead opt to throw a warning (<code>list_safety = "warning"</code>)
or to just return the list quietly (<code>list_safety = "none"</code>).</p>
</td></tr>
<tr><td><code id="read_tif_+3A_msg">msg</code></td>
<td>
<p>Print an informative message about the image being read?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>TIFF files have the capability to store multiple images, each having multiple
channels. Typically, these multiple images represent the sequential frames in
a time-stack or z-stack of images and hence each of these images has the same
dimension. If this is the case, they are all read into a single 4-dimensional
array <code>img</code> where <code>img</code> is indexed as <code>img[y, x, channel, frame]</code> (where we
have <code style="white-space: pre;">&#8288;y, x&#8288;</code> to comply with the conventional <code style="white-space: pre;">&#8288;row, col&#8288;</code> indexing of a matrix -
it means that images displayed as arrays of numbers in the R console will
have the correct orientation). However, it is possible that the images in the
TIFF file have varying dimensions (most people have never seen this), in
which case they are read in as a list of images, where again each element of
the list is a 4-dimensional array <code>img</code>, indexed as <code>img[y, x, channel, frame]</code>.
</p>
<p>A (somewhat random) set of TIFF tags are attributed to the read image. These
are IMAGEDEPTH, BITSPERSAMPLE, SAMPLESPERPIXEL, SAMPLEFORMAT, PLANARCONFIG,
COMPRESSION, THRESHHOLDING, XRESOLUTION, YRESOLUTION, RESOLUTIONUNIT, INDEXED
and ORIENTATION. More tags should be added in a subsequent version of this
package. You can read about TIFF tags at
https://www.awaresystems.be/imaging/tiff/tifftags.html.
</p>
<p>TIFF images can have a wide range of internal representations, but only the
most common in image processing are supported (8-bit, 16-bit and 32-bit
integer and 32-bit float samples).
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+ijtiff_img">ijtiff_img</a> or a list of <a href="#topic+ijtiff_img">ijtiff_img</a>s.
</p>


<h3>Note</h3>

 <ul>
<li><p> 12-bit TIFFs are not supported. </p>
</li>
<li><p> There is no
standard for packing order for TIFFs beyond 8-bit so we assume big-endian
packing</p>
</li></ul>
<p>.
</p>


<h3>Author(s)</h3>

<p>Simon Urbanek wrote most of this code for the 'tiff' package. Rory
Nolan lifted it from there and changed it around a bit for this 'ijtiff'
package. Credit should be directed towards Lord Urbanek.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+write_tif">write_tif()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>img &lt;- read_tif(system.file("img", "Rlogo.tif", package = "ijtiff"))
</code></pre>

<hr>
<h2 id='text-image-io'>Read/write an image array to/from disk as text file(s).</h2><span id='topic+text-image-io'></span><span id='topic+write_txt_img'></span><span id='topic+read_txt_img'></span><span id='topic+txt_img_write'></span><span id='topic+txt_img_read'></span>

<h3>Description</h3>

<p>Write images (arrays) as tab-separated <code>.txt</code> files on disk. Each
channel-frame pair gets its own file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_txt_img(img, path, rds = FALSE, msg = TRUE)

read_txt_img(path, msg = TRUE)

txt_img_write(img, path, rds = FALSE, msg = TRUE)

txt_img_read(path, msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text-image-io_+3A_img">img</code></td>
<td>
<p>An image, represented by a 4-dimensional array, like an
<a href="#topic+ijtiff_img">ijtiff_img</a>.</p>
</td></tr>
<tr><td><code id="text-image-io_+3A_path">path</code></td>
<td>
<p>The name of the input/output output file(s), <em>without</em> a
file extension.</p>
</td></tr>
<tr><td><code id="text-image-io_+3A_rds">rds</code></td>
<td>
<p>In addition to writing a text file, save the image as an RDS (a
single R object) file?</p>
</td></tr>
<tr><td><code id="text-image-io_+3A_msg">msg</code></td>
<td>
<p>Print an informative message about the image being read?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>img &lt;- read_tif(system.file("img", "Rlogo.tif", package = "ijtiff"))
tmptxt &lt;- tempfile(pattern = "img", fileext = ".txt")
write_txt_img(img, tmptxt)
tmptxt_ch1_path &lt;- paste0(strex::str_before_last_dot(tmptxt), "_ch1.txt")
print(tmptxt_ch1_path)
txt_img &lt;- read_txt_img(tmptxt_ch1_path)
</code></pre>

<hr>
<h2 id='tif_tags_reference'>TIFF tag reference.</h2><span id='topic+tif_tags_reference'></span>

<h3>Description</h3>

<p>A dataset containing the information on all known baseline and extended TIFF
tags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tif_tags_reference()
</code></pre>


<h3>Details</h3>

<p>A data frame with 96 rows and 10 variables: </p>

<dl>
<dt>code_dec</dt><dd><p>decimal numeric code of the TIFF tag</p>
</dd>
<dt>code_hex</dt><dd><p>hexadecimal numeric code of the TIFF tag</p>
</dd> <dt>name</dt><dd><p>the
name of the TIFF tag</p>
</dd> <dt>short_description</dt><dd><p>a short description of the
TIFF tag</p>
</dd> <dt>tag_type</dt><dd><p>the type of TIFF tag: either &quot;baseline&quot; or
&quot;extended&quot;</p>
</dd> <dt>url</dt><dd><p>the URL of the TIFF tag at
<a href="https://www.awaresystems.be">https://www.awaresystems.be</a></p>
</dd> <dt>libtiff_name</dt><dd><p>the TIFF tag name in
the libtiff C library</p>
</dd> <dt>c_type</dt><dd><p>the C type of the TIFF tag data in
libtiff</p>
</dd> <dt>count</dt><dd><p>the number of elements in the TIFF tag data</p>
</dd>
<dt>default</dt><dd><p>the default value of the data held in the TIFF tag</p>
</dd> </dl>



<h3>Source</h3>

<p><a href="https://www.awaresystems.be">https://www.awaresystems.be</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tif_tags_reference()
</code></pre>

<hr>
<h2 id='write_tif'>Write images in TIFF format</h2><span id='topic+write_tif'></span><span id='topic+tif_write'></span>

<h3>Description</h3>

<p>Write images into a TIFF file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_tif(
  img,
  path,
  bits_per_sample = "auto",
  compression = "none",
  overwrite = FALSE,
  msg = TRUE
)

tif_write(
  img,
  path,
  bits_per_sample = "auto",
  compression = "none",
  overwrite = FALSE,
  msg = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_tif_+3A_img">img</code></td>
<td>
<p>An array representing the image. </p>
<ul>
<li><p> For a
single-plane, grayscale image, use a matrix <code>img[y, x]</code>. </p>
</li>
<li><p> For a
multi-plane, grayscale image, use a 3-dimensional array <code>img[y, x, plane]</code>.
</p>
</li>
<li><p> For a multi-channel, single-plane image, use a 4-dimensional array
with a redundant 4th slot <code>img[y, x, channel, ]</code> (see <a href="#topic+ijtiff_img">ijtiff_img</a>
'Examples' for an example). </p>
</li>
<li><p> For a multi-channel, multi-plane image,
use a 4-dimensional array <code>img[y, x, channel, plane]</code>.</p>
</li></ul>
</td></tr>
<tr><td><code id="write_tif_+3A_path">path</code></td>
<td>
<p>file name or a raw vector</p>
</td></tr>
<tr><td><code id="write_tif_+3A_bits_per_sample">bits_per_sample</code></td>
<td>
<p>number of bits per sample (numeric scalar). Supported
values are 8, 16, and 32. The default <code>"auto"</code> automatically picks the
smallest workable value based on the maximum element in <code>img</code>. For example,
if the maximum element in <code>img</code> is 789, then 16-bit will be chosen because
789 is greater than 2 ^ 8 - 1 but less than or equal to 2 ^ 16 - 1.</p>
</td></tr>
<tr><td><code id="write_tif_+3A_compression">compression</code></td>
<td>
<p>A string, the desired compression algorithm. Must be one
of <code>"none"</code>, <code>"LZW"</code>, <code>"PackBits"</code>, <code>"RLE"</code>, <code>"JPEG"</code>, <code>"deflate"</code> or
<code>"Zip"</code>. If you want compression but don't know which one to go for, I
recommend <code>"Zip"</code>, it gives a large file size reduction and it's lossless.
Note that <code>"deflate"</code> and <code>"Zip"</code> are the same thing. Avoid using <code>"JPEG"</code>
compression in a TIFF file if you can; I've noticed it can be buggy.</p>
</td></tr>
<tr><td><code id="write_tif_+3A_overwrite">overwrite</code></td>
<td>
<p>If writing the image would overwrite a file, do you want to
proceed?</p>
</td></tr>
<tr><td><code id="write_tif_+3A_msg">msg</code></td>
<td>
<p>Print an informative message about the image being written?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input <code>img</code> (invisibly).
</p>


<h3>Author(s)</h3>

<p>Simon Urbanek wrote most of this code for the 'tiff' package. Rory
Nolan lifted it from there and changed it around a bit for this 'ijtiff'
package. Credit should be directed towards Lord Urbanek.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_tif">read_tif()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>img &lt;- read_tif(system.file("img", "Rlogo.tif", package = "ijtiff"))
temp_dir &lt;- tempdir()
write_tif(img, paste0(temp_dir, "/", "Rlogo"))
img &lt;- matrix(1:4, nrow = 2)
write_tif(img, paste0(temp_dir, "/", "tiny2x2"))
list.files(temp_dir, pattern = "tif$")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package EpiContactTrace</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {EpiContactTrace}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Contacts-class'><p>Class <code>"Contacts"</code></p></a></li>
<li><a href='#ContactTrace-class'><p>Class <code>"ContactTrace"</code></p></a></li>
<li><a href='#EpiContactTrace-package'><p>Epidemiological tool for contact tracing.</p></a></li>
<li><a href='#InDegree'><p><code>InDegree</code></p></a></li>
<li><a href='#IngoingContactChain'><p><code>IngoingContactChain</code></p></a></li>
<li><a href='#NetworkStructure'><p><code>NetworkStructure</code></p></a></li>
<li><a href='#NetworkSummary'><p><code>NetworkSummary</code></p></a></li>
<li><a href='#OutDegree'><p><code>OutDegree</code></p></a></li>
<li><a href='#OutgoingContactChain'><p><code>OutgoingContactChain</code></p></a></li>
<li><a href='#plot-methods'><p>plot,-method</p></a></li>
<li><a href='#Report'><p>Generate a contact tracing <code>Report</code></p></a></li>
<li><a href='#ReportObject'><p>Get current <code>ContactTrace</code> object when generating a report</p></a></li>
<li><a href='#ShortestPaths'><p><code>ShortestPaths</code></p></a></li>
<li><a href='#show-methods'><p>Show</p></a></li>
<li><a href='#Trace'><p>Trace Contacts.</p></a></li>
<li><a href='#transfers'><p>Movement Example Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Epidemiological Tool for Contact Tracing</td>
</tr>
<tr>
<td>Version:</td>
<td>0.17.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Routines for epidemiological contact tracing
    and visualisation of network of contacts.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://joinup.ec.europa.eu/software/page/eupl">EUPL</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/stewid/EpiContactTrace">https://github.com/stewid/EpiContactTrace</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/stewid/EpiContactTrace/issues">https://github.com/stewid/EpiContactTrace/issues</a></td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.0.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, methods, tools, utils</td>
</tr>
<tr>
<td>Collate:</td>
<td>'Contacts.R' 'ContactTrace.R' 'EpiContactTrace-package.R'
'in-degree.R' 'ingoing-contact-chain.R' 'network-structure.R'
'network-summary.R' 'out-degree.R' 'outgoing-contact-chain.R'
'plot.R' 'report.R' 'shortest-paths.R' 'show.R' 'trace.R'
'tree.R'</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-02 19:39:33 UTC; stefan</td>
</tr>
<tr>
<td>Author:</td>
<td>Maria Noremark <a href="https://orcid.org/0000-0003-2555-8476"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Stefan Widgren <a href="https://orcid.org/0000-0001-5745-2284"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan Widgren &lt;stefan.widgren@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-02 20:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Contacts-class'>Class <code>"Contacts"</code></h2><span id='topic+Contacts-class'></span>

<h3>Description</h3>

<p>Class to handle contacts.
</p>


<h3>Details</h3>

<p>The <code>Contacts</code> class keeps track of all ingoing or outgoing
livstock transfers in the contact chain for a specific root within
the time window used for contact tracing.  The slots;
<code>source</code>, <code>destination</code>, <code>t</code>, <code>id</code>, <code>n</code>
and <code>category</code> contains contact information extracted from
the movement dataset during contact tracing. The <code>index</code> slot
is an index to the extracted contacts within the class that
together with the <code>distance</code> slot can be used to rebuild the
exact contacts that were extracted from each search step during
the contact tracing.
</p>


<h3>Slots</h3>


<dl>
<dt><code>root</code></dt><dd><p>A <code>character</code> vector of length one with the
identifier of the root.</p>
</dd>
<dt><code>tBegin</code></dt><dd><p>A <code>Date</code> vector of length one with the start
date of the time window used for contact tracing.</p>
</dd>
<dt><code>tEnd</code></dt><dd><p>A <code>Date</code> vector of length one with the end date of
the time window used for contact tracing.</p>
</dd>
<dt><code>source</code></dt><dd><p>A <code>character</code> vector with the identifiers of the
source holdings of the livestock transfer.</p>
</dd>
<dt><code>destination</code></dt><dd><p>A <code>character</code> vector with the identifier of
the destination holdings of the livestock transfer.</p>
</dd>
<dt><code>t</code></dt><dd><p>A <code>Date</code> vector of the livestock transfer.</p>
</dd>
<dt><code>id</code></dt><dd><p>A <code>character</code> vector with the identifiers of the
animals.</p>
</dd>
<dt><code>n</code></dt><dd><p>A <code>numeric</code> vector with the number of animals
transfered.</p>
</dd>
<dt><code>category</code></dt><dd><p>A <code>character</code> vector with the category of
animals e.g. cattle.</p>
</dd>
<dt><code>index</code></dt><dd><p>A <code>integer</code> index vector.</p>
</dd>
<dt><code>distance</code></dt><dd><p>A <code>integer</code> vector with the distance from root
for the contact[index]</p>
</dd>
<dt><code>direction</code></dt><dd><p>A <code>character</code> vector of length one equal to
the direction &quot;in&quot; or &quot;out&quot;</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls
of the form <code>new("Contacts", root, startDate, days,
    source, destination, t, id, n, category, level, direction,
    ...)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 90)

## Show structure of ingoing contacts
str(contactTrace@ingoingContacts)

## Show structure of ougoing contacts
str(contactTrace@outgoingContacts)

</code></pre>

<hr>
<h2 id='ContactTrace-class'>Class <code>"ContactTrace"</code></h2><span id='topic+ContactTrace-class'></span>

<h3>Description</h3>

<p>Class to handle contact tracing.
</p>


<h3>Details</h3>

<p>The <code>ContactTrace</code> class holds information for the ingoing
and outgoing contact chain for a specific root within the time
window used for contact tracing.
</p>


<h3>Slots</h3>


<dl>
<dt><code>root</code></dt><dd><p>A <code>character</code> vector of length one with the
identifier of the root.</p>
</dd>
<dt><code>ingoingContacts</code></dt><dd><p>A <code>Contacts</code> object with the contacts
for the ingoing contact chain.</p>
</dd>
<dt><code>outgoingContacts</code></dt><dd><p>A <code>Contacts</code> object with the contacts
for the outgoing contact chain.</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls
of the form <code>new("ContactTrace",root, ingoingContacts,
    outgoingContacts,...)</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 90)

## Show structure
str(contactTrace)
</code></pre>

<hr>
<h2 id='EpiContactTrace-package'>Epidemiological tool for contact tracing.</h2><span id='topic+EpiContactTrace-package'></span>

<h3>Description</h3>

<p>Routines for epidemiological contact tracing and visualisation of
network of contacts.
</p>


<h3>Details</h3>

<p>In many countries, livestock movement data are collected with the
major objective to enable contact tracing during disease
outbreaks. Livestock movement data can also be of relevance for
risk based surveillance - both during outbreak or when
investigating if a disease is present in the population. However,
the livestock movement databases are not always structured in such
a way that relevant information for contact tracing or
surveillance design is easily retrieved. EpiContactTrace uses the
network parameters in-degree, out-degree, ingoing contact-chain
and outgoing contact-chain, which are relevant for forward- and
backward contact-tracing respectively. The measures can also be
used for identifying herds with many contacts, which can be used
in risk based disease surveillance. Different time periods for
ingoing and outgoing contacts can be of interest in the contact
tracing, based on possible window of introduction, and this can be
adjusted in the tool. The output from the analysis is available as
a dataset, but moreover, the tool automatically generates a report
on farm level. The report both contains an overview of the
situation on the farm, including a graph, as well as detailed
information including dates of movements on group or individual
level on all contacts.
</p>


<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 90)

contactTrace

## Generate an html report showing details of the contact tracing
## for root 2645. Note: Creates the files 2645.html and 2645.png
## in the temporary directory.
Report(contactTrace, dir = tempdir())
</code></pre>

<hr>
<h2 id='InDegree'><code>InDegree</code></h2><span id='topic+InDegree'></span><span id='topic+InDegree+2CContacts-method'></span><span id='topic+InDegree+2CContactTrace-method'></span><span id='topic+InDegree+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>The number of herds with direct movements of animals to the root
herd during the defined time window used for tracing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>InDegree(x, ...)

## S4 method for signature 'Contacts'
InDegree(x)

## S4 method for signature 'ContactTrace'
InDegree(x)

## S4 method for signature 'data.frame'
InDegree(x, root, tEnd = NULL, days = NULL, inBegin = NULL, inEnd = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="InDegree_+3A_x">x</code></td>
<td>
<p>a ContactTrace object, or a list of ContactTrace objects
or a <code>data.frame</code> with movements of animals between
holdings, see <code><a href="#topic+Trace">Trace</a></code> for details.</p>
</td></tr>
<tr><td><code id="InDegree_+3A_...">...</code></td>
<td>
<p>Additional arguments to the method</p>
</td></tr>
<tr><td><code id="InDegree_+3A_root">root</code></td>
<td>
<p>vector of roots to calculate indegree for.</p>
</td></tr>
<tr><td><code id="InDegree_+3A_tend">tEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="InDegree_+3A_days">days</code></td>
<td>
<p>the number of previous days before tEnd to include
ingoing movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="InDegree_+3A_inbegin">inBegin</code></td>
<td>
<p>the first date to include ingoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="InDegree_+3A_inend">inEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The time period used for <code>InDegree</code> can either be specified
using <code>tEnd</code> and <code>days</code> or <code>inBegin</code> and
<code>inEnd</code>.
</p>
<p>If using <code>tEnd</code> and <code>days</code>, the time period for ingoing
contacts ends at <code>tEnd</code> and starts at <code>days</code> prior to
<code>tEnd</code>. The indegree will be calculated for each combination
of <code>root</code>, <code>tEnd</code> and <code>days</code>.
</p>
<p>An alternative way is to use <code>inBegin</code> and <code>inEnd</code>.  The
time period for ingoing contacts starts at inBegin and ends at
inEndDate. The vectors <code>root</code> <code>inBegin</code>, <code>inEnd</code>
must have the same lengths and the indegree will be calculated for
each index of them.
</p>
<p>The movements in <code>InDegree</code> is a <code>data.frame</code>
with the following columns:
</p>

<dl>
<dt>source</dt><dd>
<p>an integer or character identifier of the source holding.
</p>
</dd>
<dt>destination</dt><dd>
<p>an integer or character identifier of the destination holding.
</p>
</dd>
<dt>t</dt><dd>
<p>the Date of the transfer
</p>
</dd>
<dt>id</dt><dd>
<p>an optional character vector with the identity of the animal.
</p>
</dd>
<dt>n</dt><dd>
<p>an optional numeric vector with the number of animals moved.
</p>
</dd>
<dt>category</dt><dd>
<p>an optional character or factor with category of the animal e.g. Cattle.
</p>
</dd>
</dl>



<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns: </p>

<dl>
<dt>root</dt><dd>
<p>The root of the contact tracing
</p>
</dd>
<dt>inBegin</dt><dd>
<p>The first date to include ingoing movements
</p>
</dd>
<dt>inEnd</dt><dd>
<p>The last date to include ingoing movements
</p>
</dd>
<dt>inDays</dt><dd>
<p>The number of days in the interval inBegin to inEnd
</p>
</dd>
<dt>inDegree</dt><dd>
<p>The <code><a href="#topic+InDegree">InDegree</a></code> of the root within the time-interval
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>signature(x = "ContactTrace")</code></dt><dd>
<p>Get the InDegree of a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(x = "data.frame")</code></dt><dd>
<p>Get the InDegree for a data.frame with movements, see details
and examples.
</p>
</dd>
</dl>



<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+NetworkSummary">NetworkSummary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing using tEnd and days
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 91)

## Calculate indegree from a ContactTrace object
id.1 &lt;- InDegree(contactTrace)

## Calculate indegree using tEnd and days
id.2 &lt;- InDegree(transfers,
                 root = 2645,
                 tEnd = "2005-10-31",
                 days = 91)

## Check that the result is identical
identical(id.1, id.2)

## Calculate indegree for all included herds
## First extract all source and destination from the dataset
root &lt;- sort(unique(c(transfers$source,
                      transfers$destination)))

## Calculate indegree
result &lt;- InDegree(transfers,
                   root = root,
                   tEnd = "2005-10-31",
                   days = 91)

## End(Not run)
</code></pre>

<hr>
<h2 id='IngoingContactChain'><code>IngoingContactChain</code></h2><span id='topic+IngoingContactChain'></span><span id='topic+IngoingContactChain+2CContacts-method'></span><span id='topic+IngoingContactChain+2CContactTrace-method'></span><span id='topic+IngoingContactChain+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>The ingoing contact chain is the number of holdings in the network
of direct and indirect contacts to the root holding, with regard
to temporal and order of the contacts during the defined time
window used for contact tracing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IngoingContactChain(x, ...)

## S4 method for signature 'Contacts'
IngoingContactChain(x)

## S4 method for signature 'ContactTrace'
IngoingContactChain(x)

## S4 method for signature 'data.frame'
IngoingContactChain(
  x,
  root,
  tEnd = NULL,
  days = NULL,
  inBegin = NULL,
  inEnd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IngoingContactChain_+3A_x">x</code></td>
<td>
<p>a ContactTrace object, or a list of ContactTrace objects
or a <code>data.frame</code> with movements of animals between
holdings, see <code><a href="#topic+Trace">Trace</a></code> for details.</p>
</td></tr>
<tr><td><code id="IngoingContactChain_+3A_...">...</code></td>
<td>
<p>Additional arguments to the method</p>
</td></tr>
<tr><td><code id="IngoingContactChain_+3A_root">root</code></td>
<td>
<p>vector of roots to calculate ingoing contact chain
for.</p>
</td></tr>
<tr><td><code id="IngoingContactChain_+3A_tend">tEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="IngoingContactChain_+3A_days">days</code></td>
<td>
<p>the number of previous days before tEnd to include
ingoing movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="IngoingContactChain_+3A_inbegin">inBegin</code></td>
<td>
<p>the first date to include ingoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="IngoingContactChain_+3A_inend">inEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The time period used for <code>IngoingContactChain</code> can either be
specified using <code>tEnd</code> and <code>days</code> or <code>inBegin</code> and
<code>inEnd</code>.
</p>
<p>If using <code>tEnd</code> and <code>days</code>, the time period for ingoing
contacts ends at <code>tEnd</code> and starts at <code>days</code> prior to
<code>tEnd</code>. The indegree will be calculated for each combination
of <code>root</code>, <code>tEnd</code> and <code>days</code>.
</p>
<p>An alternative way is to use <code>inBegin</code> and <code>inEnd</code>.  The
time period for ingoing contacts starts at inBegin and ends at
inEndDate. The vectors <code>root</code> <code>inBegin</code>, <code>inEnd</code>
must have the same lengths and the indegree will be calculated for
each index of them.
</p>
<p>The movements in <code>IngoingContactChain</code> is a <code>data.frame</code>
with the following columns: </p>

<dl>
<dt>source</dt><dd>
<p>an integer or character identifier of the source holding.
</p>
</dd>
<dt>destination</dt><dd>
<p>an integer or character identifier of the destination holding.
</p>
</dd>
<dt>t</dt><dd>
<p>the Date of the transfer
</p>
</dd>
<dt>id</dt><dd>
<p>an optional character vector with the identity of the animal.
</p>
</dd>
<dt>n</dt><dd>
<p>an optional numeric vector with the number of animals moved.
</p>
</dd>
<dt>category</dt><dd>
<p>an optional character or factor with category of the animal e.g. Cattle.
</p>
</dd>
</dl>



<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns:
</p>

<dl>
<dt>root</dt><dd>
<p>The root of the contact tracing
</p>
</dd>
<dt>inBegin</dt><dd>
<p>The first date to include ingoing movements
</p>
</dd>
<dt>inEnd</dt><dd>
<p>The last date to include ingoing movements
</p>
</dd>
<dt>inDays</dt><dd>
<p>The number of days in the interval inBegin to inEnd
</p>
</dd>
<dt>ingoingContactChain</dt><dd>
<p>The <code><a href="#topic+IngoingContactChain">IngoingContactChain</a></code> of the root within the
time-interval
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>signature(x = "ContactTrace")</code></dt><dd>
<p>Get the IngoingContactChain of a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(x = "data.frame")</code></dt><dd>
<p>Get the IngoingContactChain for a data.frame with movements,
see details and examples.
</p>
</dd>
</dl>



<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+NetworkSummary">NetworkSummary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing using tEnd and days
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 91)

## Calculate ingoing contact chain from a ContactTrace object
ic.1 &lt;- IngoingContactChain(contactTrace)

## Calculate ingoing contact chain using tEnd and days
ic.2 &lt;- IngoingContactChain(transfers,
                            root = 2645,
                            tEnd = "2005-10-31",
                            days = 91)

## Check that the result is identical
identical(ic.1, ic.2)

## Calculate ingoing contact chain for all included herds
## First extract all source and destination from the dataset
root &lt;- sort(unique(c(transfers$source,
                      transfers$destination)))

## Calculate ingoing contact chain
result &lt;- IngoingContactChain(transfers,
                              root = root,
                              tEnd = "2005-10-31",
                              days = 91)

## End(Not run)
</code></pre>

<hr>
<h2 id='NetworkStructure'><code>NetworkStructure</code></h2><span id='topic+NetworkStructure'></span><span id='topic+NetworkStructure+2CContacts-method'></span><span id='topic+NetworkStructure+2CContactTrace-method'></span><span id='topic+NetworkStructure+2Clist-method'></span>

<h3>Description</h3>

<p>Methods for function <code>NetworkStructure</code> in package
<span class="pkg">EpiContactTrace</span> to get the network tree structure from the
contact tracing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NetworkStructure(object)

## S4 method for signature 'Contacts'
NetworkStructure(object)

## S4 method for signature 'ContactTrace'
NetworkStructure(object)

## S4 method for signature 'list'
NetworkStructure(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NetworkStructure_+3A_object">object</code></td>
<td>
<p>A <code><a href="#topic+Contacts-class">Contacts</a></code> or
<code>linkS4class{ContactTrace}</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The contact tracing performs a depth first search starting at the
root. The <code>NetworkStructure</code> gives the distance from root at
each node. The network tree structure given by the depth first
search is shown by <code><a href="#topic+show">show</a></code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns:
</p>

<dl>
<dt>root</dt><dd><p>The root of the contact tracing</p>
</dd>
<dt>inBegin</dt><dd>
<p>If the direction is ingoing, then inBegin equals inBegin in
<code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>inEnd</dt><dd>
<p>If the direction is ingoing, then inEnd equals inEnd in
<code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>outBegin</dt><dd>
<p>If the direction is outgoing, then outBegin equals
outBegin in <code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>outEnd</dt><dd>
<p>If the direction is outgoing, then outEnd equals outEnd in
<code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>direction</dt><dd>
<p>If the direction is ingoing, then direction equals 'in' else 'out'
</p>
</dd>
<dt>source</dt><dd>
<p>The source of the contacts in the depth first search
</p>
</dd>
<dt>destination</dt><dd>
<p>The destination of the contacts in the depth first search
</p>
</dd>
<dt>distance</dt><dd>
<p>The distance from the destination to root in the depth first search
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>signature(object = "Contacts")</code></dt><dd>
<p>Get the network structure for the Contacts object.
</p>
</dd>
<dt><code>signature(object = "ContactTrace")</code></dt><dd>
<p>Get the network structure for the ingoing and outgoing
<code>Contacts</code> of a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(object = "list")</code></dt><dd>
<p>Get the network structure for a list of <code>ContactTrace</code>
objects. Each item in the list must be a <code>ContactTrace</code> object.
</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+show">show</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 90)

NetworkStructure(contactTrace)
</code></pre>

<hr>
<h2 id='NetworkSummary'><code>NetworkSummary</code></h2><span id='topic+NetworkSummary'></span><span id='topic+NetworkSummary+2CContactTrace-method'></span><span id='topic+NetworkSummary+2Clist-method'></span><span id='topic+NetworkSummary+2Cdata.frame-method'></span>

<h3>Description</h3>

<p><code>NetworkSummary</code> gives a summary of the contact tracing
including the time-window, <code><a href="#topic+InDegree">InDegree</a></code>,
<code><a href="#topic+OutDegree">OutDegree</a></code>, <code><a href="#topic+IngoingContactChain">IngoingContactChain</a></code> and
<code><a href="#topic+OutgoingContactChain">OutgoingContactChain</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NetworkSummary(x, ...)

## S4 method for signature 'ContactTrace'
NetworkSummary(x)

## S4 method for signature 'list'
NetworkSummary(x)

## S4 method for signature 'data.frame'
NetworkSummary(
  x,
  root,
  tEnd = NULL,
  days = NULL,
  inBegin = NULL,
  inEnd = NULL,
  outBegin = NULL,
  outEnd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NetworkSummary_+3A_x">x</code></td>
<td>
<p>a ContactTrace object, a <code>data.frame</code> with movements
of animals between holdings (see <code><a href="#topic+Trace">Trace</a></code> for
details), or a list of <code>ContactTrace</code> objects where each
item in the list must be a <code>ContactTrace</code> object.</p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_...">...</code></td>
<td>
<p>Additional arguments to the method</p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_root">root</code></td>
<td>
<p>vector of roots to calculate network summary for.</p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_tend">tEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_days">days</code></td>
<td>
<p>the number of previous days before tEnd to include
ingoing movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_inbegin">inBegin</code></td>
<td>
<p>the first date to include ingoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_inend">inEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_outbegin">outBegin</code></td>
<td>
<p>the first date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="NetworkSummary_+3A_outend">outEnd</code></td>
<td>
<p>the last date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The time period used for <code>NetworkSummary</code> can either be
specified using <code>tEnd</code> and <code>days</code> or <code>inBegin</code>,
<code>inEnd</code>, <code>outBegin</code> and <code>outEnd</code>.
</p>
<p>If using <code>tEnd</code> and <code>days</code>, the time period for ingoing
and outgoing contacts ends at <code>tEnd</code> and starts at
<code>days</code> prior to <code>tEnd</code>. The network summary will be
calculated for each combination of <code>root</code>, <code>tEnd</code> and
<code>days</code>.
</p>
<p>An alternative way is to use <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code>. The time period for ingoing
contacts starts at inBegin and ends at inEndDate.  For outgoing
contacts the time period starts at outBegin and ends at outEnd.
The vectors <code>root</code> <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code> must have the same lengths and
the network summary will be calculated for each index of them.
</p>
<p>The movements in <code>NetworkSummary</code> is a <code>data.frame</code>
with the following columns:
</p>

<dl>
<dt>source</dt><dd>
<p>an integer or character identifier of the source holding.
</p>
</dd>
<dt>destination</dt><dd>
<p>an integer or character identifier of the destination holding.
</p>
</dd>
<dt>t</dt><dd>
<p>the Date of the transfer
</p>
</dd>
<dt>id</dt><dd>
<p>an optional character vector with the identity of the animal.
</p>
</dd>
<dt>n</dt><dd>
<p>an optional numeric vector with the number of animals moved.
</p>
</dd>
<dt>category</dt><dd>
<p>an optional character or factor with category of the animal
e.g. Cattle.
</p>
</dd>
</dl>



<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns:
</p>

<dl>
<dt>root</dt><dd>
<p>The root of the contact tracing
</p>
</dd>
<dt>inBegin</dt><dd>
<p>Equals inBegin in <code><a href="#topic+Trace">Trace</a></code>
</p>
</dd>
<dt>inEnd</dt><dd>
<p>Equals inEnd in <code><a href="#topic+Trace">Trace</a></code>
</p>
</dd>
<dt>outBegin</dt><dd>
<p>Equals outBegin in <code><a href="#topic+Trace">Trace</a></code>
</p>
</dd>
<dt>outEnd</dt><dd>
<p>Equals outEnd in <code><a href="#topic+Trace">Trace</a></code>
</p>
</dd>
<dt>inDegree</dt><dd>
<p>The <code><a href="#topic+InDegree">InDegree</a></code> of the contact tracing
</p>
</dd>
<dt>outDegree</dt><dd>
<p>The <code><a href="#topic+OutDegree">OutDegree</a></code> of the contact tracing
</p>
</dd>
<dt>ingoingContactChain</dt><dd>
<p>The <code><a href="#topic+IngoingContactChain">IngoingContactChain</a></code> of the contact tracing
</p>
</dd>
<dt>outgoingContactChain</dt><dd>
<p>The <code><a href="#topic+OutgoingContactChain">OutgoingContactChain</a></code> of the contact tracing
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>signature(x = "ContactTrace")</code></dt><dd>
<p>Get the network summary for the ingoing and outgoing
<code>Contacts</code> of a ContactTrace object.
</p>
</dd>
<dt><code>signature(x = "list")</code></dt><dd>
<p>Get the network summary for a list of <code>ContactTrace</code> objects.
Each item in the list must be a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(x = "data.frame")</code></dt><dd>
<p>Get the network summary for a data.frame with movements,
see details and examples.
</p>
</dd>
</dl>



<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing using tEnd and days
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 91)

## Calculate network summary from a ContactTrace object
ns_1 &lt;- NetworkSummary(contactTrace)

## Calculate network summary using tEnd and days
ns_2 &lt;- NetworkSummary(transfers,
                       root = 2645,
                       tEnd = "2005-10-31",
                       days = 91)

## Check that the result is identical
identical(ns_1, ns_2)

## Calculate network summary using inBegin, inEnd
## outBegin and outEnd
ns_3 &lt;- NetworkSummary(transfers,
                       root = 2645,
                       inBegin = "2005-08-01",
                       inEnd = "2005-10-31",
                       outBegin = "2005-08-01",
                       outEnd = "2005-10-31")

## Check that the result is identical
identical(ns_2, ns_3)

## When calculating the network summary for a data.frame of movements
## a data.frame for each combination of root, tEnd and days are returned.
root &lt;- c(1, 2, 3)
tEnd &lt;- c("2005-09-01", "2005-10-01")
days &lt;- c(30, 45)

## The network summary are calculated at the following
## 12 combinations.
## root = 1, tEnd = "2005-09-01", days = 30
## root = 1, tEnd = "2005-09-01", days = 45
## root = 1, tEnd = "2005-10-01", days = 30
## root = 1, tEnd = "2005-10-01", days = 45
## root = 2, tEnd = "2005-09-01", days = 30
## root = 2, tEnd = "2005-09-01", days = 45
## root = 2, tEnd = "2005-10-01", days = 30
## root = 2, tEnd = "2005-10-01", days = 45
## root = 3, tEnd = "2005-09-01", days = 30
## root = 3, tEnd = "2005-09-01", days = 45
## root = 3, tEnd = "2005-10-01", days = 30
## root = 3, tEnd = "2005-10-01", days = 45
NetworkSummary(transfers, root, tEnd, days)

## Create a network summary for all included herds
## First extract all source and destination from the dataset
root &lt;- sort(unique(c(transfers$source,
                      transfers$destination)))

## Perform contact tracing using tEnd and days
result_1 &lt;- NetworkSummary(transfers,
                           root = root,
                           tEnd = "2005-10-31",
                           days = 90)

## Perform contact tracing using inBegin, inEnd, outBegin and outEnd.
result_2 &lt;- NetworkSummary(transfers,
                           root = root,
                           inBegin = rep("2005-08-02", length(root)),
                           inEnd = rep("2005-10-31", length(root)),
                           outBegin = rep("2005-08-02", length(root)),
                           outEnd = rep("2005-10-31", length(root)))

## End(Not run)
</code></pre>

<hr>
<h2 id='OutDegree'><code>OutDegree</code></h2><span id='topic+OutDegree'></span><span id='topic+OutDegree+2CContacts-method'></span><span id='topic+OutDegree+2CContactTrace-method'></span><span id='topic+OutDegree+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>The number of herds with direct movements of animals from the root
herd during the defined time window used for tracing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OutDegree(x, ...)

## S4 method for signature 'Contacts'
OutDegree(x)

## S4 method for signature 'ContactTrace'
OutDegree(x)

## S4 method for signature 'data.frame'
OutDegree(x, root, tEnd = NULL, days = NULL, outBegin = NULL, outEnd = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OutDegree_+3A_x">x</code></td>
<td>
<p>a ContactTrace object, or a list of ContactTrace objects
or a <code>data.frame</code> with movements of animals between holdings,
see <code><a href="#topic+Trace">Trace</a></code> for details.</p>
</td></tr>
<tr><td><code id="OutDegree_+3A_...">...</code></td>
<td>
<p>Additional arguments to the method</p>
</td></tr>
<tr><td><code id="OutDegree_+3A_root">root</code></td>
<td>
<p>vector of roots to calculate outdegree for.</p>
</td></tr>
<tr><td><code id="OutDegree_+3A_tend">tEnd</code></td>
<td>
<p>the last date to include outgoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="OutDegree_+3A_days">days</code></td>
<td>
<p>the number of previous days before tEnd to include
outgoing movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="OutDegree_+3A_outbegin">outBegin</code></td>
<td>
<p>the first date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="OutDegree_+3A_outend">outEnd</code></td>
<td>
<p>the last date to include outgoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The time period used for <code>OutDegree</code> can either be specified
using <code>tEnd</code> and <code>days</code> or <code>outBegin</code> and
<code>outEnd</code>.
</p>
<p>If using <code>tEnd</code> and <code>days</code>, the time period for outgoing
contacts ends at <code>tEnd</code> and starts at <code>days</code> prior to
<code>tEnd</code>. The outdegree will be calculated for each combination
of <code>root</code>, <code>tEnd</code> and <code>days</code>.
</p>
<p>An alternative way is to use <code>outBegin</code> and <code>outEnd</code>.
The time period for outgoing contacts starts at outBegin and ends
at outEndDate. The vectors <code>root</code> <code>outBegin</code>,
<code>outEnd</code> must have the same lengths and the outdegree will be
calculated for each index of them.
</p>
<p>The movements in <code>OutDegree</code> is a <code>data.frame</code>
with the following columns:
</p>

<dl>
<dt>source</dt><dd>
<p>an integer or character identifier of the source holding.
</p>
</dd>
<dt>destination</dt><dd>
<p>an integer or character identifier of the destination holding.
</p>
</dd>
<dt>t</dt><dd>
<p>the Date of the transfer
</p>
</dd>
<dt>id</dt><dd>
<p>an optional character vector with the identity of the animal.
</p>
</dd>
<dt>n</dt><dd>
<p>an optional numeric vector with the number of animals moved.
</p>
</dd>
<dt>category</dt><dd>
<p>an optional character or factor with category of the animal
e.g. Cattle.
</p>
</dd>
</dl>



<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns:
</p>

<dl>
<dt>root</dt><dd>
<p>The root of the contact tracing
</p>
</dd>
<dt>outBegin</dt><dd>
<p>The first date to include outgoing movements
</p>
</dd>
<dt>outEnd</dt><dd>
<p>The last date to include outgoing movements
</p>
</dd>
<dt>outDays</dt><dd>
<p>The number of days in the interval outBegin to outEnd
</p>
</dd>
<dt>outDegree</dt><dd>
<p>The <code><a href="#topic+OutDegree">OutDegree</a></code> of the root within the time-interval
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>signature(x = "ContactTrace")</code></dt><dd>
<p>Get the OutDegree of a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(x = "data.frame")</code></dt><dd>
<p>Get the OutDegree for a data.frame with movements, see details
and examples.
</p>
</dd>
</dl>



<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+NetworkSummary">NetworkSummary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing using tEnd and days
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 91)

## Calculate outdegree from a ContactTrace object
od.1 &lt;- OutDegree(contactTrace)

## Calculate outdegree using tEnd and days
od.2 &lt;- OutDegree(transfers,
                  root = 2645,
                  tEnd = "2005-10-31",
                  days = 91)

## Check that the result is identical
identical(od.1, od.2)

## Calculate outdegree for all included herds
## First extract all source and destination from the dataset
root &lt;- sort(unique(c(transfers$source,
                      transfers$destination)))

## Calculate outdegree
result &lt;- OutDegree(transfers,
                    root = root,
                    tEnd = "2005-10-31",
                    days = 91)

## End(Not run)
</code></pre>

<hr>
<h2 id='OutgoingContactChain'><code>OutgoingContactChain</code></h2><span id='topic+OutgoingContactChain'></span><span id='topic+OutgoingContactChain+2CContacts-method'></span><span id='topic+OutgoingContactChain+2CContactTrace-method'></span><span id='topic+OutgoingContactChain+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>The outgoing contact chain is the number of holdings in the network of
direct and indirect contacts from the root holding, with regard to temporal
and order of the contacts during the defined time window used for contact
tracing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OutgoingContactChain(x, ...)

## S4 method for signature 'Contacts'
OutgoingContactChain(x)

## S4 method for signature 'ContactTrace'
OutgoingContactChain(x)

## S4 method for signature 'data.frame'
OutgoingContactChain(
  x,
  root,
  tEnd = NULL,
  days = NULL,
  outBegin = NULL,
  outEnd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OutgoingContactChain_+3A_x">x</code></td>
<td>
<p>a ContactTrace object, or a list of ContactTrace objects
or a <code>data.frame</code> with movements of animals between holdings,
see <code><a href="#topic+Trace">Trace</a></code> for details.</p>
</td></tr>
<tr><td><code id="OutgoingContactChain_+3A_...">...</code></td>
<td>
<p>Additional arguments to the method</p>
</td></tr>
<tr><td><code id="OutgoingContactChain_+3A_root">root</code></td>
<td>
<p>vector of roots to calculate outgoing contact chain
for.</p>
</td></tr>
<tr><td><code id="OutgoingContactChain_+3A_tend">tEnd</code></td>
<td>
<p>the last date to include outgoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="OutgoingContactChain_+3A_days">days</code></td>
<td>
<p>the number of previous days before tEnd to include
outgoing movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="OutgoingContactChain_+3A_outbegin">outBegin</code></td>
<td>
<p>the first date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="OutgoingContactChain_+3A_outend">outEnd</code></td>
<td>
<p>the last date to include outgoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns:
</p>

<dl>
<dt>root</dt><dd>
<p>The root of the contact tracing
</p>
</dd>
<dt>outBegin</dt><dd>
<p>The first date to include outgoing movements
</p>
</dd>
<dt>outEnd</dt><dd>
<p>The last date to include outgoing movements
</p>
</dd>
<dt>outDays</dt><dd>
<p>The number of days in the interval outBegin to outEnd
</p>
</dd>
<dt>outDegree</dt><dd>
<p>The <code><a href="#topic+OutgoingContactChain">OutgoingContactChain</a></code> of the root within the
time-interval
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>signature(x = "ContactTrace")</code></dt><dd>
<p>Get the OutgoingContactChain of a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(x = "data.frame")</code></dt><dd>
<p>Get the OutgoingContactChain for a data.frame with movements,
see examples.
</p>
</dd>
</dl>



<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+NetworkSummary">NetworkSummary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing using tEnd and days
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 91)

## Calculate outgoing contact chain from a ContactTrace object
oc_1 &lt;- OutgoingContactChain(contactTrace)

## Calculate outgoing contact chain using tEnd and days
oc_2 &lt;- OutgoingContactChain(transfers,
                             root = 2645,
                             tEnd = "2005-10-31",
                             days = 91)

## Check that the result is identical
identical(oc_1, oc_2)

## Calculate outgoing contact chain for all included herds
## First extract all source and destination from the dataset
root &lt;- sort(unique(c(transfers$source,
                      transfers$destination)))

## Calculate outgoing contact chain
result &lt;- OutgoingContactChain(transfers,
                               root = root,
                               tEnd = "2005-10-31",
                               days = 91)

## End(Not run)
</code></pre>

<hr>
<h2 id='plot-methods'>plot,-method</h2><span id='topic+plot-methods'></span><span id='topic+plot'></span><span id='topic+plot+2CContactTrace-method'></span>

<h3>Description</h3>

<p>The contact structure can be visualized graphically with a plot. The plot
gives an overview of the number of ingoing and outgoing holdings connected
to the root holding. The black node is the root holding and all white nodes
represent holdings that are direct or indirect holdings with ingoing
contacts to root. Grey nodes represent holdings that are direct or indirect
holdings with outgoing contacts from root.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ContactTrace'
plot(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot-methods_+3A_x">x</code></td>
<td>
<p>The <code><a href="#topic+ContactTrace-class">ContactTrace</a></code> object to plot</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_y">y</code></td>
<td>
<p>Not used</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot</p>
</td></tr>
</table>


<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+show">show</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 90)

## Plot in- and outgoing contact chain for the root 2645
plot(contactTrace)

## End(Not run)
</code></pre>

<hr>
<h2 id='Report'>Generate a contact tracing <code>Report</code></h2><span id='topic+Report'></span><span id='topic+Report-methods'></span><span id='topic+Report+2CContactTrace-method'></span><span id='topic+Report+2Clist-method'></span>

<h3>Description</h3>

<p>EpiContatTrace contains report templates to generate pdf- or html
reports for the farm specific contacts. These reports can be
useful for hands-on disease tracing in the field. The templates
are used by Sweave and can be adapted by the end user. However, in
the default setting the report has the following layout; first the
contacts are visualised graphically in a plot, as to give an
immediate signal to the reader of the report of the number of
contacts. In the following, the contact data are presented with
different levels of detail split by ingoing and outgoing
contacts. The first includes collapsed data and the sequential
contact structure at group level (i.e. no information on
individuals or dates). In this summary, the sequential structure
of each part of the chain is included, and a holding that appears
in several different parts of the chain can therefore be included
more than once in the summary. The reason for this is to
facilitate sequential tracing and getting an overview of each part
of the chain. After the summary all details of all contacts
included in the contact chains is presented, i.e. date of contact
and data on individual level when available. To generate pdf files
a TeX installation must exist to compile the latex file. The
report is saved in the working directory with the name of the root
as filename.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Report(object, format = c("html", "pdf"), dir = ".", template = NULL)

## S4 method for signature 'ContactTrace'
Report(object, format = c("html", "pdf"), dir = ".", template = NULL)

## S4 method for signature 'list'
Report(object, format = c("html", "pdf"), dir = ".", template = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Report_+3A_object">object</code></td>
<td>
<p>the object</p>
</td></tr>
<tr><td><code id="Report_+3A_format">format</code></td>
<td>
<p>the format to use, can be either 'html' or
'pdf'. The default is 'html'</p>
</td></tr>
<tr><td><code id="Report_+3A_dir">dir</code></td>
<td>
<p>the generated report is written to the directory
folder. The default (<code>"."</code>) is the current working
directory.</p>
</td></tr>
<tr><td><code id="Report_+3A_template">template</code></td>
<td>
<p>the Sweave template file to use. If none is
provided, the default is used.</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt><code>signature(object = "ContactTrace")</code></dt><dd>
<p>Generate a report for a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(object = "list")</code></dt><dd>
<p>Generate reports for a list of <code>ContactTrace</code> objects.
</p>
</dd>
</dl>



<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and policy
development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li>
<li><p> Friedrich Leisch. Sweave: Dynamic generation of
statistical reports using literate data analysis. In Wolfgang
Hardle and Bernd Ronz, editors, Compstat 2002 - Proceedings in
Computational Statistics, pages 575-580. Physica Verlag,
Heidelberg, 2002. ISBN 3-7908-1517-9.
</p>
</li></ul>



<h3>See Also</h3>

<p>Sweave, texi2pdf.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 90)

## Generate an html report showing details of the contact tracing for
## root 2646.
## Creates the file 2645.html in the temporary directory.
Report(contactTrace, dir = tempdir())

## It's possible to generate reports for a list of ContactTrace objects.
## Perform contact tracing for ten of the included herds
root &lt;- sort(unique(c(transfers$source, transfers$destination)))[1:10]

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = root,
                      tEnd = "2005-10-31",
                      days = 90)

## Generate reports
## Creates the files 1.html, 2.html, ..., 10.html
## in the temporary directory
Report(contactTrace, dir = tempdir())
</code></pre>

<hr>
<h2 id='ReportObject'>Get current <code>ContactTrace</code> object when generating a report</h2><span id='topic+ReportObject'></span>

<h3>Description</h3>

<p>EpiContatTrace contains report templates to generate pdf- or html reports
for the farm specific contacts. These reports can be useful for hands-on
disease tracing in the field. The templates are used by Sweave and can be
adapted by the end user. This method enables communication of the current
<code>ContactTrace</code> object to the report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ReportObject()
</code></pre>


<h3>Value</h3>

<p>The current <code>ContactTrace</code> object when generating a report
</p>

<hr>
<h2 id='ShortestPaths'><code>ShortestPaths</code></h2><span id='topic+ShortestPaths'></span><span id='topic+ShortestPaths+2CContactTrace-method'></span><span id='topic+ShortestPaths+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>Methods for function <code>ShortestPaths</code> in package <span class="pkg">EpiContactTrace</span>
to get the shortest distance from/to the root given by the contact tracing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ShortestPaths(x, ...)

## S4 method for signature 'ContactTrace'
ShortestPaths(x)

## S4 method for signature 'data.frame'
ShortestPaths(
  x,
  root,
  tEnd = NULL,
  days = NULL,
  inBegin = NULL,
  inEnd = NULL,
  outBegin = NULL,
  outEnd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ShortestPaths_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+ContactTrace-class">ContactTrace</a></code> object, or a
<code>data.frame</code> with movements of animals between holdings,
see <code><a href="#topic+Trace">Trace</a></code> for details.</p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_...">...</code></td>
<td>
<p>Additional arguments to the method</p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_root">root</code></td>
<td>
<p>vector of roots to calculate shortest path for.</p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_tend">tEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_days">days</code></td>
<td>
<p>the number of previous days before tEnd to include
ingoing movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_inbegin">inBegin</code></td>
<td>
<p>the first date to include ingoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_inend">inEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_outbegin">outBegin</code></td>
<td>
<p>the first date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_outend">outEnd</code></td>
<td>
<p>the last date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The contact tracing performs a depth first search starting at the
root. The <code>ShortestPaths</code> gives the shortest distance from
root at each node.  The network tree structure given by the depth
first search is shown by <code><a href="#topic+show">show</a></code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns: </p>

<dl>
<dt>root</dt><dd><p> The root of the contact tracing </p>
</dd>
<dt>inBegin</dt><dd>
<p>If the direction is ingoing, then inBegin equals inBegin in
<code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>inEnd</dt><dd>
<p>If the direction is ingoing, then inEnd equals inEnd in
<code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>outBegin</dt><dd>
<p>If the direction is outgoing, then outBegin equals outBegin in
<code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>outEnd</dt><dd>
<p>If the direction is outgoing, then outEnd equals outEnd in
<code><a href="#topic+Trace">Trace</a></code> else NA.
</p>
</dd>
<dt>direction</dt><dd>
<p>If the direction is ingoing, then direction equals 'in' else 'out'
</p>
</dd>
<dt>source</dt><dd>
<p>The source of the contact at distance from root
</p>
</dd>
<dt>destination</dt><dd>
<p>The destination of the contact at distance from root
</p>
</dd>
<dt>distance</dt><dd>
<p>The shortest distance from/to root in the depth first search
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>signature(object = "ContactTrace")</code></dt><dd>
<p>Get the shortest paths for the ingoing and outgoing
<code>Contacts</code> of a <code>ContactTrace</code> object.
</p>
</dd>
<dt><code>signature(x = "data.frame")</code></dt><dd>
<p>Get the shortest paths for a data.frame with movements,
see details and examples.
</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+show">show</a></code> and <code><a href="#topic+NetworkStructure">NetworkStructure</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements = transfers,
                      root = 2645,
                      tEnd = "2005-10-31",
                      days = 90)

ShortestPaths(contactTrace)

## Calculate shortest paths for all included herds
## First extract all source and destination from the dataset
root &lt;- sort(unique(c(transfers$source, transfers$destination)))

sp &lt;- ShortestPaths(transfers,
                    root = root,
                    tEnd = "2005-10-31",
                    days = 90)

## End(Not run)
</code></pre>

<hr>
<h2 id='show-methods'>Show</h2><span id='topic+show-methods'></span><span id='topic+show'></span><span id='topic+show+2CContacts-method'></span><span id='topic+show+2CContactTrace-method'></span>

<h3>Description</h3>

<p>Shows information of the time-window used for contact tracing and
summary of network parameters. It also visualize the contact
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Contacts'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show-methods_+3A_object">object</code></td>
<td>
<p>The <code><a href="#topic+Contacts-class">Contacts</a></code> or
<code><a href="#topic+ContactTrace-class">ContactTrace</a></code> <code>object</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>None (invisible 'NULL').
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(object = "Contacts")</code></dt><dd>
<p>Show information for the Contacts object.
</p>
</dd>
<dt><code>signature(object = "ContactTrace")</code></dt><dd>
<p>Show information for the ingoing and outgoing
<code>Contacts</code> of a <code>ContactTrace</code> object.
</p>
</dd>
</dl>



<h3>References</h3>


<ul>
<li><p> Dube, C., et al., A review of network analysis terminology
and its application to foot-and-mouth disease modelling and
policy development. Transbound Emerg Dis 56 (2009) 73-85, doi:
10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis of cattle and pig
movements in Sweden: Measures relevant for disease control and
riskbased surveillance.  Preventive Veterinary Medicine 99
(2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Load data
data(transfers)

## Perform contact tracing
contactTrace &lt;- Trace(movements=transfers,
                      root=2645,
                      tEnd='2005-10-31',
                      days=90)

show(contactTrace)

## End(Not run)
</code></pre>

<hr>
<h2 id='Trace'>Trace Contacts.</h2><span id='topic+Trace'></span>

<h3>Description</h3>

<p>Contact tracing for a specied node(s) (root) during a specfied
time period.  The time period is divided into two parts, one for
ingoing contacts and one for outgoing contacts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Trace(
  movements,
  root,
  tEnd = NULL,
  days = NULL,
  inBegin = NULL,
  inEnd = NULL,
  outBegin = NULL,
  outEnd = NULL,
  maxDistance = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Trace_+3A_movements">movements</code></td>
<td>
<p>a <code>data.frame</code> data.frame with movements,
see details.</p>
</td></tr>
<tr><td><code id="Trace_+3A_root">root</code></td>
<td>
<p>vector of roots to perform contact tracing for.</p>
</td></tr>
<tr><td><code id="Trace_+3A_tend">tEnd</code></td>
<td>
<p>the last date to include ingoing and outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="Trace_+3A_days">days</code></td>
<td>
<p>the number of previous days before tEnd to include
ingoing and outgoing movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="Trace_+3A_inbegin">inBegin</code></td>
<td>
<p>the first date to include ingoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="Trace_+3A_inend">inEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td></tr>
<tr><td><code id="Trace_+3A_outbegin">outBegin</code></td>
<td>
<p>the first date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="Trace_+3A_outend">outEnd</code></td>
<td>
<p>the last date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="Trace_+3A_maxdistance">maxDistance</code></td>
<td>
<p>stop contact tracing at maxDistance (inclusive)
from root. Default is <code>NULL</code> i.e. don't use the
maxDistance stop criteria.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The time period used for <code>Trace</code> can either be specified
using <code>tEnd</code> and <code>days</code> or <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code>.
</p>
<p>If using <code>tEnd</code> and <code>days</code>, the time period for ingoing
and outgoing contacts ends at <code>tEnd</code> and starts at
<code>days</code> prior to <code>tEnd</code>. The tracing will be performed
for each combination of <code>root</code>, <code>tEnd</code> and <code>days</code>.
</p>
<p>An alternative way is to use <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code>. The time period for ingoing
contacts starts at inBegin and ends at inEndDate.  For outgoing
contacts the time period starts at outBegin and ends at outEnd.
The vectors <code>root</code> <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code> must have the same lengths and
the tracing will be performed for each index of them.
</p>
<p>The argument movements in Trace is a <code>data.frame</code>
with the following columns:
</p>

<dl>
<dt>source</dt><dd>
<p>an integer or character identifier of the source holding.
</p>
</dd>
<dt>destination</dt><dd>
<p>an integer or character identifier of the destination holding.
</p>
</dd>
<dt>t</dt><dd>
<p>the Date of the transfer
</p>
</dd>
<dt>id</dt><dd>
<p>an optional character vector with the identity of the animal.
</p>
</dd>
<dt>n</dt><dd>
<p>an optional numeric vector with the number of animals moved.
</p>
</dd>
<dt>category</dt><dd>
<p>an optional character or factor with category of the animal e.g. Cattle.
</p>
</dd>
</dl>



<h3>References</h3>

 <ul>
<li><p> Dube, C., et al., A review of network
analysis terminology and its application to foot-and-mouth
disease modelling and policy development. Transbound Emerg Dis
56 (2009) 73-85, doi: 10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li><p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Load data
data(transfers)

## Perform contact tracing using tEnd and days
trace_1 &lt;- Trace(movements = transfers,
                 root = 2645,
                 tEnd = "2005-10-31",
                 days = 91)

## Perform contact tracing using inBegin, inEnd
## outBegin and outEnd
trace_2 &lt;- Trace(movements = transfers,
                 root = 2645,
                 inBegin = "2005-08-01",
                 inEnd = "2005-10-31",
                 outBegin = "2005-08-01",
                 outEnd = "2005-10-31")

## Check that the result is identical
identical(trace_1, trace_2)

## Show result of contact tracing
trace_1

## Create a network summary for 10 of the included herds
## First extract all source and destination from the dataset,
## then select the first ten.
root &lt;- sort(unique(c(transfers$source,
                      transfers$destination)))
root &lt;- root[1:10]

## Perform contact tracing using tEnd and days.
trace_3 &lt;- Trace(movements = transfers,
                 root = root,
                 tEnd = "2005-10-31",
                 days = 91)

## Perform contact tracing using inBegin, inEnd
## outBegin and outEnd
trace_4 &lt;- Trace(movements = transfers,
                 root = root,
                 inBegin = rep("2005-08-01", length(root)),
                 inEnd = rep("2005-10-31", length(root)),
                 outBegin=rep("2005-08-01", length(root)),
                 outEnd=rep("2005-10-31", length(root)))

## Check that the result is identical
identical(trace_3, trace_4)
</code></pre>

<hr>
<h2 id='transfers'>Movement Example Data</h2><span id='topic+transfers'></span>

<h3>Description</h3>

<p>Movement data included in the package. The data contains
fictitious example data of cattle movements during the period
2005-08-01 &ndash; 2005-10-31.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(transfers)
</code></pre>


<h3>Format</h3>

<p>A data frame with 70190 observations on the following 6
variables.
</p>

<dl>
<dt>source</dt><dd>
<p>a numeric vector with the holding identifier of the source.
</p>
</dd>
<dt>destination</dt><dd>
<p>a numeric vector with holding identifier of the destination.
</p>
</dd>
<dt>id</dt><dd>
<p>a character vector with the identity of the animal.
In this dataset an 5 character hexadecimal vector.
</p>
</dd>
<dt>t</dt><dd>
<p>a Date of the transfers
</p>
</dd>
<dt>n</dt><dd>
<p>a numeric vector with the number of animals moved.
Always 1 in this dataset.
</p>
</dd>
<dt>category</dt><dd>
<p>a factor describing the category of the animal.
Always <code>Cattle</code> in this dataset.
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(transfers)

Trace(movements = transfers, root = 2645, tEnd = "2005-10-31", days = 90)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

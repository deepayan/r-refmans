<!DOCTYPE html><html><head><title>Help for package gtable</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gtable}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gtable-package'><p>gtable: Arrange 'Grobs' in Tables</p></a></li>
<li><a href='#bind'><p>Row and column binding for gtables.</p></a></li>
<li><a href='#gtable'><p>Create a new grob table.</p></a></li>
<li><a href='#gtable_add_cols'><p>Add new columns in specified position.</p></a></li>
<li><a href='#gtable_add_grob'><p>Add a single grob, possibly spanning multiple rows or columns.</p></a></li>
<li><a href='#gtable_add_padding'><p>Add padding around edges of table.</p></a></li>
<li><a href='#gtable_add_rows'><p>Add new rows in specified position.</p></a></li>
<li><a href='#gtable_add_space'><p>Add row/column spacing.</p></a></li>
<li><a href='#gtable_col'><p>Create a single column gtable</p></a></li>
<li><a href='#gtable_filter'><p>Filter cells by name</p></a></li>
<li><a href='#gtable_height'><p>Returns the height of a gtable, in the gtable's units</p></a></li>
<li><a href='#gtable_matrix'><p>Create a gtable from a matrix of grobs.</p></a></li>
<li><a href='#gtable_row'><p>Create a single row gtable.</p></a></li>
<li><a href='#gtable_show_layout'><p>Visualise the layout of a gtable.</p></a></li>
<li><a href='#gtable_spacer'><p>Create a row/col spacer gtable.</p></a></li>
<li><a href='#gtable_trim'><p>Trim off empty cells.</p></a></li>
<li><a href='#gtable_width'><p>Returns the width of a gtable, in the gtable's units</p></a></li>
<li><a href='#is.gtable'><p>Is this a gtable?</p></a></li>
<li><a href='#print.gtable'><p>Print a gtable object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Arrange 'Grobs' in Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to make it easier to work with "tables" of 'grobs'. The
    'gtable' package defines a 'gtable' grob class that specifies a grid
    along with a list of grobs and their placement in the grid. Further
    the package makes it easy to manipulate and combine 'gtable' objects
    so that complex compositions can be built up sequentially.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gtable.r-lib.org">https://gtable.r-lib.org</a>, <a href="https://github.com/r-lib/gtable">https://github.com/r-lib/gtable</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/gtable/issues">https://github.com/r-lib/gtable/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, glue, grid, lifecycle, rlang (&ge; 1.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, knitr, profvis, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-22 10:46:27 UTC; thomas</td>
</tr>
<tr>
<td>Author:</td>
<td>Hadley Wickham [aut],
  Thomas Lin Pedersen [aut, cre],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thomas Lin Pedersen &lt;thomas.pedersen@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-22 20:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='gtable-package'>gtable: Arrange 'Grobs' in Tables</h2><span id='topic+gtable-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Tools to make it easier to work with &quot;tables&quot; of 'grobs'. The 'gtable' package defines a 'gtable' grob class that specifies a grid along with a list of grobs and their placement in the grid. Further the package makes it easy to manipulate and combine 'gtable' objects so that complex compositions can be built up sequentially.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Thomas Lin Pedersen <a href="mailto:thomas.pedersen@posit.co">thomas.pedersen@posit.co</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Hadley Wickham <a href="mailto:hadley@posit.co">hadley@posit.co</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gtable.r-lib.org">https://gtable.r-lib.org</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/gtable">https://github.com/r-lib/gtable</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/gtable/issues">https://github.com/r-lib/gtable/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bind'>Row and column binding for gtables.</h2><span id='topic+bind'></span><span id='topic+rbind.gtable'></span><span id='topic+cbind.gtable'></span>

<h3>Description</h3>

<p>These functions are the parallels of the <code>matrix</code>/<code>data.frame</code> row and
column bindings. As such they work in the same way, except they have to take
care of additional attributes within the gtables. Most importantly it needs
to take care of the sizing of the final gtable, as the different gtables
going in may have different widths or heights. By default it tries to
calculate the maximum width/height among the supplied gtables, but other
options exists. Further, the relative layering of the grobs in each gtable
can be modified or left as-is.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gtable'
rbind(..., size = "max", z = NULL)

## S3 method for class 'gtable'
cbind(..., size = "max", z = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_+3A_...">...</code></td>
<td>
<p>gtables to combine (<code>x</code> and <code>y</code>)</p>
</td></tr>
<tr><td><code id="bind_+3A_size">size</code></td>
<td>
<p>How should the widths (for rbind) and the heights (for cbind)
be combined across the gtables: take values from <code>first</code>,
or <code>last</code> gtable, or compute the <code>min</code> or <code>max</code> values.
Defaults to <code>max</code>.</p>
</td></tr>
<tr><td><code id="bind_+3A_z">z</code></td>
<td>
<p>A numeric vector indicating the relative z values of each gtable.
The z values of each object in the resulting gtable will be modified
to fit this order. If <code>NULL</code>, then the z values of obects within
each gtable will not be modified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
a &lt;- rectGrob(gp = gpar(fill = "red"))
b &lt;- circleGrob()
c &lt;- linesGrob()

row &lt;- matrix(list(a, b), nrow = 1)
col &lt;- matrix(list(a, b), ncol = 1)
mat &lt;- matrix(list(a, b, c, nullGrob()), nrow = 2)

row_gt &lt;- gtable_matrix("demo", row, unit(c(1, 1), "null"), unit(1, "null"))
col_gt &lt;- gtable_matrix("demo", col, unit(1, "null"), unit(c(1, 1), "null"))
mat_gt &lt;- gtable_matrix("demo", mat, unit(c(1, 1), "null"), unit(c(1, 1), "null"))

# cbind
c_binded &lt;- cbind(mat_gt, col_gt, size = "first")
plot(c_binded)

# rbind
r_binded &lt;- rbind(mat_gt, row_gt, size = "last")
plot(r_binded)

# Dimensions must match along bind direction
try(cbind(mat_gt, row_gt))

</code></pre>

<hr>
<h2 id='gtable'>Create a new grob table.</h2><span id='topic+gtable'></span>

<h3>Description</h3>

<p>A grob table captures all the information needed to layout grobs in a table
structure. It supports row and column spanning, offers some tools to
automatically figure out the correct dimensions, and makes it easy to
align and combine multiple tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable(
  widths = list(),
  heights = list(),
  respect = FALSE,
  name = "layout",
  rownames = NULL,
  colnames = NULL,
  vp = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_+3A_widths">widths</code></td>
<td>
<p>a unit vector giving the width of each column</p>
</td></tr>
<tr><td><code id="gtable_+3A_heights">heights</code></td>
<td>
<p>a unit vector giving the height of each row</p>
</td></tr>
<tr><td><code id="gtable_+3A_respect">respect</code></td>
<td>
<p>a logical vector of length 1: should the aspect ratio of
height and width specified in null units be respected.  See
<code><a href="grid.html#topic+grid.layout">grid.layout()</a></code> for more details</p>
</td></tr>
<tr><td><code id="gtable_+3A_name">name</code></td>
<td>
<p>a string giving the name of the table. This is used to name
the layout viewport</p>
</td></tr>
<tr><td><code id="gtable_+3A_rownames">rownames</code>, <code id="gtable_+3A_colnames">colnames</code></td>
<td>
<p>character vectors of row and column names, used
for characteric subsetting, particularly for <code>gtable_align</code>,
and <code>gtable_join</code>.</p>
</td></tr>
<tr><td><code id="gtable_+3A_vp">vp</code></td>
<td>
<p>a grid viewport object (or NULL).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each grob is put in its own viewport - grobs in the same location are
not combined into one cell. Each grob takes up the entire cell viewport
so justification control is not available.
</p>
<p>It constructs both the viewports and the gTree needed to display the table.
</p>


<h3>Value</h3>

<p>A gtable object
</p>


<h3>Components</h3>

<p>There are three basics components to a grob table: the specification of
table (cell heights and widths), the layout (for each grob, its position,
name and other settings), and global parameters.
</p>
<p>It's easier to understand how <code>gtable</code> works if in your head you keep
the table separate from it's contents.  Each cell can have 0, 1, or many
grobs inside. Each grob must belong to at least one cell, but can span
across many cells.
</p>


<h3>Layout</h3>

<p>The layout details are stored in a data frame with one row for each grob,
and columns:
</p>

<ul>
<li> <p><code>t</code> top extent of grob
</p>
</li>
<li> <p><code>r</code> right extent of grob
</p>
</li>
<li> <p><code>b</code> bottom extent of
</p>
</li>
<li> <p><code>l</code> left extent of grob
</p>
</li>
<li> <p><code>z</code> the z-order of the grob - used to reorder the grobs
before they are rendered
</p>
</li>
<li> <p><code>clip</code> a string, specifying how the grob should be clipped:
either <code>"on"</code>, <code>"off"</code> or <code>"inherit"</code>
</p>
</li>
<li> <p><code>name</code>, a character vector used to name each grob and its
viewport
</p>
</li></ul>

<p>You should not need to modify this data frame directly - instead use
functions like <code>gtable_add_grob</code>.
</p>


<h3>See Also</h3>

<p>Other gtable construction: 
<code><a href="#topic+gtable_col">gtable_col</a>()</code>,
<code><a href="#topic+gtable_matrix">gtable_matrix</a>()</code>,
<code><a href="#topic+gtable_row">gtable_row</a>()</code>,
<code><a href="#topic+gtable_spacer">gtable_spacer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
a &lt;- gtable(unit(1:3, c("cm")), unit(5, "cm"))
a
gtable_show_layout(a)

# Add a grob:
rect &lt;- rectGrob(gp = gpar(fill = "black"))
a &lt;- gtable_add_grob(a, rect, 1, 1)
a
plot(a)

# gtables behave like matrices:
dim(a)
t(a)
plot(t(a))

# when subsetting, grobs are retained if their extents lie in the
# rows/columns that retained.

b &lt;- gtable(unit(c(2, 2, 2), "cm"), unit(c(2, 2, 2), "cm"))
b &lt;- gtable_add_grob(b, rect, 2, 2)
b[1, ]
b[, 1]
b[2, 2]

# gtable have row and column names
rownames(b) &lt;- 1:3
rownames(b)[2] &lt;- 200
colnames(b) &lt;- letters[1:3]
dimnames(b)
</code></pre>

<hr>
<h2 id='gtable_add_cols'>Add new columns in specified position.</h2><span id='topic+gtable_add_cols'></span>

<h3>Description</h3>

<p>Insert new columns in a gtable and adjust the grob placement accordingly. If
columns are added in the middle of a grob spanning multiple columns, the grob
will continue to span them all. If a column is added to the left or right of
a grob, the grob will not span the new column(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_add_cols(x, widths, pos = -1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_add_cols_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+gtable">gtable()</a></code> object</p>
</td></tr>
<tr><td><code id="gtable_add_cols_+3A_widths">widths</code></td>
<td>
<p>a unit vector giving the widths of the new columns</p>
</td></tr>
<tr><td><code id="gtable_add_cols_+3A_pos">pos</code></td>
<td>
<p>new columns will be added to the right of this position. Defaults
to adding col on right. <code>0</code> adds on the left.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable with the new columns added.
</p>


<h3>See Also</h3>

<p>Other gtable manipulation: 
<code><a href="#topic+gtable_add_grob">gtable_add_grob</a>()</code>,
<code><a href="#topic+gtable_add_padding">gtable_add_padding</a>()</code>,
<code><a href="#topic+gtable_add_rows">gtable_add_rows</a>()</code>,
<code><a href="#topic+gtable_add_space">gtable_add_space</a></code>,
<code><a href="#topic+gtable_filter">gtable_filter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
rect &lt;- rectGrob(gp = gpar(fill = "#00000080"))
tab &lt;- gtable(unit(rep(1, 3), "null"), unit(rep(1, 3), "null"))
tab &lt;- gtable_add_grob(tab, rect, t = 1, l = 1, r = 3)
tab &lt;- gtable_add_grob(tab, rect, t = 1, b = 3, l = 1)
tab &lt;- gtable_add_grob(tab, rect, t = 1, b = 3, l = 3)
dim(tab)
plot(tab)

# Grobs will continue to span over new rows if added in the middle
tab2 &lt;- gtable_add_cols(tab, unit(1, "null"), 1)
dim(tab2)
plot(tab2)

# But not when added to left (0) or right (-1, the default)
tab3 &lt;- gtable_add_cols(tab, unit(1, "null"))
tab3 &lt;- gtable_add_cols(tab3, unit(1, "null"), 0)
dim(tab3)
plot(tab3)

</code></pre>

<hr>
<h2 id='gtable_add_grob'>Add a single grob, possibly spanning multiple rows or columns.</h2><span id='topic+gtable_add_grob'></span>

<h3>Description</h3>

<p>This only adds grobs into the table - it doesn't affect the table layout in
any way.  In the gtable model, grobs always fill up the complete table
cell.  If you want custom justification you might need to define the grob
dimension in absolute units, or put it into another gtable that can then be
added to the gtable instead of the grob.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_add_grob(
  x,
  grobs,
  t,
  l,
  b = t,
  r = l,
  z = Inf,
  clip = "on",
  name = x$name
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_add_grob_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+gtable">gtable()</a></code> object</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_grobs">grobs</code></td>
<td>
<p>a single grob or a list of grobs</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_t">t</code></td>
<td>
<p>a numeric vector giving the top extent of the grobs</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_l">l</code></td>
<td>
<p>a numeric vector giving the left extent of the grobs</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_b">b</code></td>
<td>
<p>a numeric vector giving the bottom extent of the grobs</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_r">r</code></td>
<td>
<p>a numeric vector giving the right extent of the grobs</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_z">z</code></td>
<td>
<p>a numeric vector giving the order in which the grobs should be
plotted.  Use <code>Inf</code> (the default) to plot above or <code>-Inf</code>
below all existing grobs. By default positions are on the integers,
giving plenty of room to insert new grobs between existing grobs.</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_clip">clip</code></td>
<td>
<p>should drawing be clipped to the specified cells
(<code>"on"</code>), the entire table (<code>"inherit"</code>), or not at all
(<code>"off"</code>)</p>
</td></tr>
<tr><td><code id="gtable_add_grob_+3A_name">name</code></td>
<td>
<p>name of the grob - used to modify the grob name before it's
plotted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable object with the new grob(s) added
</p>


<h3>See Also</h3>

<p>Other gtable manipulation: 
<code><a href="#topic+gtable_add_cols">gtable_add_cols</a>()</code>,
<code><a href="#topic+gtable_add_padding">gtable_add_padding</a>()</code>,
<code><a href="#topic+gtable_add_rows">gtable_add_rows</a>()</code>,
<code><a href="#topic+gtable_add_space">gtable_add_space</a></code>,
<code><a href="#topic+gtable_filter">gtable_filter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)

gt &lt;- gtable(widths = unit(c(1, 1), 'null'), heights = unit(c(1, 1), 'null'))
pts &lt;- pointsGrob(x = runif(5), y = runif(5))

# Add a grob to a single cell (top-right cell)
gt &lt;- gtable_add_grob(gt, pts, t = 1, l = 2)

# Add a grob spanning multiple cells
gt &lt;- gtable_add_grob(gt, pts, t = 1, l = 1, b = 2)

plot(gt)

</code></pre>

<hr>
<h2 id='gtable_add_padding'>Add padding around edges of table.</h2><span id='topic+gtable_add_padding'></span>

<h3>Description</h3>

<p>This is a convenience function for adding an extra row and an extra column at
each edge of the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_add_padding(x, padding)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_add_padding_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+gtable">gtable()</a></code> object</p>
</td></tr>
<tr><td><code id="gtable_add_padding_+3A_padding">padding</code></td>
<td>
<p>vector of length 4: top, right, bottom, left.  Normal
recycling rules apply.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable object
</p>


<h3>See Also</h3>

<p>Other gtable manipulation: 
<code><a href="#topic+gtable_add_cols">gtable_add_cols</a>()</code>,
<code><a href="#topic+gtable_add_grob">gtable_add_grob</a>()</code>,
<code><a href="#topic+gtable_add_rows">gtable_add_rows</a>()</code>,
<code><a href="#topic+gtable_add_space">gtable_add_space</a></code>,
<code><a href="#topic+gtable_filter">gtable_filter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
gt &lt;- gtable(unit(1, "null"), unit(1, "null"))
gt &lt;- gtable_add_grob(gt, rectGrob(gp = gpar(fill = "black")), 1, 1)

plot(gt)
plot(cbind(gt, gt))
plot(rbind(gt, gt))

pad &lt;- gtable_add_padding(gt, unit(1, "cm"))
plot(pad)
plot(cbind(pad, pad))
plot(rbind(pad, pad))
</code></pre>

<hr>
<h2 id='gtable_add_rows'>Add new rows in specified position.</h2><span id='topic+gtable_add_rows'></span>

<h3>Description</h3>

<p>Insert new rows in a gtable and adjust the grob placement accordingly. If
rows are added in the middle of a grob spanning multiple rows, the grob will
continue to span them all. If a row is added above or below a grob, the grob
will not span the new row(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_add_rows(x, heights, pos = -1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_add_rows_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+gtable">gtable()</a></code> object</p>
</td></tr>
<tr><td><code id="gtable_add_rows_+3A_heights">heights</code></td>
<td>
<p>a unit vector giving the heights of the new rows</p>
</td></tr>
<tr><td><code id="gtable_add_rows_+3A_pos">pos</code></td>
<td>
<p>new row will be added below this position. Defaults to
adding row on bottom. <code>0</code> adds on the top.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable with the new rows added.
</p>


<h3>See Also</h3>

<p>Other gtable manipulation: 
<code><a href="#topic+gtable_add_cols">gtable_add_cols</a>()</code>,
<code><a href="#topic+gtable_add_grob">gtable_add_grob</a>()</code>,
<code><a href="#topic+gtable_add_padding">gtable_add_padding</a>()</code>,
<code><a href="#topic+gtable_add_space">gtable_add_space</a></code>,
<code><a href="#topic+gtable_filter">gtable_filter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
rect &lt;- rectGrob(gp = gpar(fill = "#00000080"))
tab &lt;- gtable(unit(rep(1, 3), "null"), unit(rep(1, 3), "null"))
tab &lt;- gtable_add_grob(tab, rect, t = 1, l = 1, r = 3)
tab &lt;- gtable_add_grob(tab, rect, t = 1, b = 3, l = 1)
tab &lt;- gtable_add_grob(tab, rect, t = 1, b = 3, l = 3)
dim(tab)
plot(tab)

# Grobs will continue to span over new rows if added in the middle
tab2 &lt;- gtable_add_rows(tab, unit(1, "null"), 1)
dim(tab2)
plot(tab2)

# But not when added to top (0) or bottom (-1, the default)
tab3 &lt;- gtable_add_rows(tab, unit(1, "null"))
tab3 &lt;- gtable_add_rows(tab3, unit(1, "null"), 0)
dim(tab3)
plot(tab3)

</code></pre>

<hr>
<h2 id='gtable_add_space'>Add row/column spacing.</h2><span id='topic+gtable_add_space'></span><span id='topic+gtable_add_col_space'></span><span id='topic+gtable_add_row_space'></span>

<h3>Description</h3>

<p>Adds <code>width</code> space between the columns or <code>height</code> space between
the rows, effictvely pushing the existing cells apart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_add_col_space(x, width)

gtable_add_row_space(x, height)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_add_space_+3A_x">x</code></td>
<td>
<p>a gtable object</p>
</td></tr>
<tr><td><code id="gtable_add_space_+3A_width">width</code></td>
<td>
<p>a vector of units of length 1 or ncol - 1</p>
</td></tr>
<tr><td><code id="gtable_add_space_+3A_height">height</code></td>
<td>
<p>a vector of units of length 1 or nrow - 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable with the additional rows or columns added
</p>


<h3>See Also</h3>

<p>Other gtable manipulation: 
<code><a href="#topic+gtable_add_cols">gtable_add_cols</a>()</code>,
<code><a href="#topic+gtable_add_grob">gtable_add_grob</a>()</code>,
<code><a href="#topic+gtable_add_padding">gtable_add_padding</a>()</code>,
<code><a href="#topic+gtable_add_rows">gtable_add_rows</a>()</code>,
<code><a href="#topic+gtable_filter">gtable_filter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)

rect &lt;- rectGrob()
rect_mat &lt;- matrix(rep(list(rect), 9), nrow = 3)

gt &lt;- gtable_matrix("rects", rect_mat, widths = unit(rep(1, 3), "null"),
                    heights = unit(rep(1, 3), "null"))

plot(gt)

# Add spacing between the grobs
# same height between all rows
gt &lt;- gtable_add_row_space(gt, unit(0.5, "cm"))

# Different width between the columns
gt &lt;- gtable_add_col_space(gt, unit(c(0.5, 1), "cm"))

plot(gt)
</code></pre>

<hr>
<h2 id='gtable_col'>Create a single column gtable</h2><span id='topic+gtable_col'></span>

<h3>Description</h3>

<p>This function stacks a list of grobs into a single column gtable of the given
width and heights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_col(name, grobs, width = NULL, heights = NULL, z = NULL, vp = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_col_+3A_name">name</code></td>
<td>
<p>a string giving the name of the table. This is used to name
the layout viewport</p>
</td></tr>
<tr><td><code id="gtable_col_+3A_grobs">grobs</code></td>
<td>
<p>a single grob or a list of grobs</p>
</td></tr>
<tr><td><code id="gtable_col_+3A_width">width</code></td>
<td>
<p>a unit vector giving the width of this column</p>
</td></tr>
<tr><td><code id="gtable_col_+3A_heights">heights</code></td>
<td>
<p>a unit vector giving the height of each row</p>
</td></tr>
<tr><td><code id="gtable_col_+3A_z">z</code></td>
<td>
<p>a numeric vector giving the order in which the grobs should be
plotted.  Use <code>Inf</code> (the default) to plot above or <code>-Inf</code>
below all existing grobs. By default positions are on the integers,
giving plenty of room to insert new grobs between existing grobs.</p>
</td></tr>
<tr><td><code id="gtable_col_+3A_vp">vp</code></td>
<td>
<p>a grid viewport object (or NULL).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable with one column and as many rows as elements in the grobs
list.
</p>


<h3>See Also</h3>

<p>Other gtable construction: 
<code><a href="#topic+gtable">gtable</a>()</code>,
<code><a href="#topic+gtable_matrix">gtable_matrix</a>()</code>,
<code><a href="#topic+gtable_row">gtable_row</a>()</code>,
<code><a href="#topic+gtable_spacer">gtable_spacer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
a &lt;- rectGrob(gp = gpar(fill = "red"))
b &lt;- circleGrob()
c &lt;- linesGrob()
gt &lt;- gtable_col("demo", list(a, b, c))
gt
plot(gt)
gtable_show_layout(gt)
</code></pre>

<hr>
<h2 id='gtable_filter'>Filter cells by name</h2><span id='topic+gtable_filter'></span>

<h3>Description</h3>

<p>Normally a gtable is considered a matrix when indexing so that indexing is
working on the cell layout and not on the grobs it contains. <code>gtable_filter</code>
allows you to subset the grobs by name and optionally remove rows or columns
if left empty after the subsetting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_filter(x, pattern, fixed = FALSE, trim = TRUE, invert = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_filter_+3A_x">x</code></td>
<td>
<p>a gtable object</p>
</td></tr>
<tr><td><code id="gtable_filter_+3A_pattern">pattern</code></td>
<td>
<p>character string containing a <a href="base.html#topic+regular+20expression">regular expression</a>
(or character string for <code>fixed = TRUE</code>) to be matched
in the given character vector.  Coerced by
<code><a href="base.html#topic+as.character">as.character</a></code> to a character string if possible.  If a
character vector of length 2 or more is supplied, the first element
is used with a warning.  Missing values are allowed except for
<code>regexpr</code>, <code>gregexpr</code> and <code>regexec</code>.</p>
</td></tr>
<tr><td><code id="gtable_filter_+3A_fixed">fixed</code></td>
<td>
<p>logical.  If <code>TRUE</code>, <code>pattern</code> is a string to be
matched as is.  Overrides all conflicting arguments.</p>
</td></tr>
<tr><td><code id="gtable_filter_+3A_trim">trim</code></td>
<td>
<p>if <code>TRUE</code>, <code><a href="#topic+gtable_trim">gtable_trim()</a></code> will be used to trim
off any empty cells.</p>
</td></tr>
<tr><td><code id="gtable_filter_+3A_invert">invert</code></td>
<td>
<p>Should the filtering be inverted so that cells matching
<code>pattern</code> is removed instead of kept.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable only containing the matching grobs, potentially stripped of
empty columns and rows
</p>


<h3>See Also</h3>

<p>Other gtable manipulation: 
<code><a href="#topic+gtable_add_cols">gtable_add_cols</a>()</code>,
<code><a href="#topic+gtable_add_grob">gtable_add_grob</a>()</code>,
<code><a href="#topic+gtable_add_padding">gtable_add_padding</a>()</code>,
<code><a href="#topic+gtable_add_rows">gtable_add_rows</a>()</code>,
<code><a href="#topic+gtable_add_space">gtable_add_space</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
gt &lt;- gtable(unit(rep(5, 3), c("cm")), unit(5, "cm"))
rect &lt;- rectGrob(gp = gpar(fill = "black"))
circ &lt;- circleGrob(gp = gpar(fill = "red"))

gt &lt;- gtable_add_grob(gt, rect, 1, 1, name = "rect")
gt &lt;- gtable_add_grob(gt, circ, 1, 3, name = "circ")

plot(gtable_filter(gt, "rect"))
plot(gtable_filter(gt, "rect", trim = FALSE))
plot(gtable_filter(gt, "circ"))
plot(gtable_filter(gt, "circ", trim = FALSE))

</code></pre>

<hr>
<h2 id='gtable_height'>Returns the height of a gtable, in the gtable's units</h2><span id='topic+gtable_height'></span>

<h3>Description</h3>

<p>Note that unlike heightDetails.gtable, this can return relative units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_height(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_height_+3A_x">x</code></td>
<td>
<p>A gtable object</p>
</td></tr>
</table>

<hr>
<h2 id='gtable_matrix'>Create a gtable from a matrix of grobs.</h2><span id='topic+gtable_matrix'></span>

<h3>Description</h3>

<p>This function takes a matrix of grobs and create a gtable matching with the
grobs in the same position as they were in the matrix, with the given heights
and widths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_matrix(
  name,
  grobs,
  widths = NULL,
  heights = NULL,
  z = NULL,
  respect = FALSE,
  clip = "on",
  vp = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_matrix_+3A_name">name</code></td>
<td>
<p>a string giving the name of the table. This is used to name
the layout viewport</p>
</td></tr>
<tr><td><code id="gtable_matrix_+3A_grobs">grobs</code></td>
<td>
<p>a single grob or a list of grobs</p>
</td></tr>
<tr><td><code id="gtable_matrix_+3A_widths">widths</code></td>
<td>
<p>a unit vector giving the width of each column</p>
</td></tr>
<tr><td><code id="gtable_matrix_+3A_heights">heights</code></td>
<td>
<p>a unit vector giving the height of each row</p>
</td></tr>
<tr><td><code id="gtable_matrix_+3A_z">z</code></td>
<td>
<p>a numeric matrix of the same dimensions as <code>grobs</code>,
specifying the order that the grobs are drawn.</p>
</td></tr>
<tr><td><code id="gtable_matrix_+3A_respect">respect</code></td>
<td>
<p>a logical vector of length 1: should the aspect ratio of
height and width specified in null units be respected.  See
<code><a href="grid.html#topic+grid.layout">grid.layout()</a></code> for more details</p>
</td></tr>
<tr><td><code id="gtable_matrix_+3A_clip">clip</code></td>
<td>
<p>should drawing be clipped to the specified cells
(<code>"on"</code>), the entire table (<code>"inherit"</code>), or not at all
(<code>"off"</code>)</p>
</td></tr>
<tr><td><code id="gtable_matrix_+3A_vp">vp</code></td>
<td>
<p>a grid viewport object (or NULL).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable of the same dimensions as the grobs matrix.
</p>


<h3>See Also</h3>

<p>Other gtable construction: 
<code><a href="#topic+gtable">gtable</a>()</code>,
<code><a href="#topic+gtable_col">gtable_col</a>()</code>,
<code><a href="#topic+gtable_row">gtable_row</a>()</code>,
<code><a href="#topic+gtable_spacer">gtable_spacer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
a &lt;- rectGrob(gp = gpar(fill = "red"))
b &lt;- circleGrob()
c &lt;- linesGrob()

row &lt;- matrix(list(a, b, c), nrow = 1)
col &lt;- matrix(list(a, b, c), ncol = 1)
mat &lt;- matrix(list(a, b, c, nullGrob()), nrow = 2)

gtable_matrix("demo", row, unit(c(1, 1, 1), "null"), unit(1, "null"))
gtable_matrix("demo", col, unit(1, "null"), unit(c(1, 1, 1), "null"))
gtable_matrix("demo", mat, unit(c(1, 1), "null"), unit(c(1, 1), "null"))

# Can specify z ordering
z &lt;- matrix(c(3, 1, 2, 4), nrow = 2)
gtable_matrix("demo", mat, unit(c(1, 1), "null"), unit(c(1, 1), "null"), z = z)
</code></pre>

<hr>
<h2 id='gtable_row'>Create a single row gtable.</h2><span id='topic+gtable_row'></span>

<h3>Description</h3>

<p>This function puts grobs in a list side-by-side in a single-row gtable from
left to right witrh the given widths and height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_row(name, grobs, height = NULL, widths = NULL, z = NULL, vp = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_row_+3A_name">name</code></td>
<td>
<p>a string giving the name of the table. This is used to name
the layout viewport</p>
</td></tr>
<tr><td><code id="gtable_row_+3A_grobs">grobs</code></td>
<td>
<p>a single grob or a list of grobs</p>
</td></tr>
<tr><td><code id="gtable_row_+3A_height">height</code></td>
<td>
<p>a unit vector giving the height of this row</p>
</td></tr>
<tr><td><code id="gtable_row_+3A_widths">widths</code></td>
<td>
<p>a unit vector giving the width of each column</p>
</td></tr>
<tr><td><code id="gtable_row_+3A_z">z</code></td>
<td>
<p>a numeric vector giving the order in which the grobs should be
plotted.  Use <code>Inf</code> (the default) to plot above or <code>-Inf</code>
below all existing grobs. By default positions are on the integers,
giving plenty of room to insert new grobs between existing grobs.</p>
</td></tr>
<tr><td><code id="gtable_row_+3A_vp">vp</code></td>
<td>
<p>a grid viewport object (or NULL).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable with a single row and the same number of columns as
elements in the grobs list
</p>


<h3>See Also</h3>

<p>Other gtable construction: 
<code><a href="#topic+gtable">gtable</a>()</code>,
<code><a href="#topic+gtable_col">gtable_col</a>()</code>,
<code><a href="#topic+gtable_matrix">gtable_matrix</a>()</code>,
<code><a href="#topic+gtable_spacer">gtable_spacer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
a &lt;- rectGrob(gp = gpar(fill = "red"))
b &lt;- circleGrob()
c &lt;- linesGrob()
gt &lt;- gtable_row("demo", list(a, b, c))
gt
plot(gt)
gtable_show_layout(gt)
</code></pre>

<hr>
<h2 id='gtable_show_layout'>Visualise the layout of a gtable.</h2><span id='topic+gtable_show_layout'></span>

<h3>Description</h3>

<p>This function is a simple wrapper around <code><a href="grid.html#topic+grid.show.layout">grid::grid.show.layout()</a></code> that
allows you to inspect the layout of the gtable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_show_layout(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_show_layout_+3A_x">x</code></td>
<td>
<p>a gtable object</p>
</td></tr>
<tr><td><code id="gtable_show_layout_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="grid.html#topic+grid.show.layout">grid::grid.show.layout</a></code>
</p>

<dl>
<dt><code>l</code></dt><dd><p>A Grid layout object.</p>
</dd>
<dt><code>newpage</code></dt><dd><p>A logical value indicating whether to move on
to a new page before drawing the diagram.</p>
</dd>
<dt><code>vp.ex</code></dt><dd><p>positive number, typically in <code class="reqn">(0,1]</code>, specifying the
scaling of the layout.</p>
</dd>
<dt><code>bg</code></dt><dd><p>The colour used for the background.</p>
</dd>
<dt><code>cell.border</code></dt><dd><p>The colour used to draw the borders of the cells
in the layout.</p>
</dd>
<dt><code>cell.fill</code></dt><dd><p>The colour used to fill the cells in the layout.</p>
</dd>
<dt><code>cell.label</code></dt><dd><p>A logical indicating whether the layout cells
should be labelled.</p>
</dd>
<dt><code>label.col</code></dt><dd><p>The colour used for layout cell labels.</p>
</dd>
<dt><code>unit.col</code></dt><dd><p>The colour used for labelling the widths/heights of
columns/rows.</p>
</dd>
<dt><code>vp</code></dt><dd><p>A Grid viewport object (or NULL).</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gt &lt;- gtable(widths = grid::unit(c(1, 0.5, 2), c("null", "cm", "null")),
             heights = grid::unit(c(0.2, 1, 3), c("inch", "null", "cm")))
gtable_show_layout(gt)

</code></pre>

<hr>
<h2 id='gtable_spacer'>Create a row/col spacer gtable.</h2><span id='topic+gtable_spacer'></span><span id='topic+gtable_row_spacer'></span><span id='topic+gtable_col_spacer'></span>

<h3>Description</h3>

<p>Create a zero-column or zero-row gtable with the given heights or widths
respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_row_spacer(widths)

gtable_col_spacer(heights)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_spacer_+3A_widths">widths</code></td>
<td>
<p>unit vector of widths</p>
</td></tr>
<tr><td><code id="gtable_spacer_+3A_heights">heights</code></td>
<td>
<p>unit vector of heights</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable object
</p>


<h3>See Also</h3>

<p>Other gtable construction: 
<code><a href="#topic+gtable">gtable</a>()</code>,
<code><a href="#topic+gtable_col">gtable_col</a>()</code>,
<code><a href="#topic+gtable_matrix">gtable_matrix</a>()</code>,
<code><a href="#topic+gtable_row">gtable_row</a>()</code>
</p>

<hr>
<h2 id='gtable_trim'>Trim off empty cells.</h2><span id='topic+gtable_trim'></span>

<h3>Description</h3>

<p>This function detects rows and columns that does not contain any grobs and
removes thewm from the gtable. If the rows and/or columns removed had a
non-zero height/width the relative layout of the gtable may change.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_trim(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_trim_+3A_x">x</code></td>
<td>
<p>a gtable object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gtable object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
rect &lt;- rectGrob(gp = gpar(fill = "black"))
base &lt;- gtable(unit(c(2, 2, 2), "cm"), unit(c(2, 2, 2), "cm"))

center &lt;- gtable_add_grob(base, rect, 2, 2)
plot(center)
plot(gtable_trim(center))

col &lt;- gtable_add_grob(base, rect, 1, 2, 3, 2)
plot(col)
plot(gtable_trim(col))

row &lt;- gtable_add_grob(base, rect, 2, 1, 2, 3)
plot(row)
plot(gtable_trim(row))
</code></pre>

<hr>
<h2 id='gtable_width'>Returns the width of a gtable, in the gtable's units</h2><span id='topic+gtable_width'></span>

<h3>Description</h3>

<p>Note that unlike widthDetails.gtable, this can return relative units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_width(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_width_+3A_x">x</code></td>
<td>
<p>A gtable object</p>
</td></tr>
</table>

<hr>
<h2 id='is.gtable'>Is this a gtable?</h2><span id='topic+is.gtable'></span>

<h3>Description</h3>

<p>Is this a gtable?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.gtable(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.gtable_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>

<hr>
<h2 id='print.gtable'>Print a gtable object</h2><span id='topic+print.gtable'></span>

<h3>Description</h3>

<p>Print a gtable object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gtable'
print(x, zsort = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.gtable_+3A_x">x</code></td>
<td>
<p>A gtable object.</p>
</td></tr>
<tr><td><code id="print.gtable_+3A_zsort">zsort</code></td>
<td>
<p>Sort by z values? Default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="print.gtable_+3A_...">...</code></td>
<td>
<p>Other arguments (not used by this method).</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

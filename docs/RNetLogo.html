<!DOCTYPE html><html lang="en"><head><title>Help for package RNetLogo</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RNetLogo}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RNetLogo-package'>
<p>Provides an interface to the agent-based modelling platform NetLogo</p></a></li>
<li><a href='#NLCommand'>
<p>Executes a command in the referenced NetLogo instance.</p></a></li>
<li><a href='#NLDfToList'>
<p>Transforms a data.frame into a NetLogo list or multiple NetLogo lists (one for each column of the data.frame).</p></a></li>
<li><a href='#NLDoCommand'>
<p>Repeats execution of a command in the referenced NetLogo instance a defined number of times.</p></a></li>
<li><a href='#NLDoCommandWhile'>
<p>Repeats a command in the referenced NetLogo instance while a reporter returns <code>TRUE</code>.</p></a></li>
<li><a href='#NLDoReport'>
<p>Repeats a command and a reporter in the referenced NetLogo instance a defined number of times.</p></a></li>
<li><a href='#NLDoReportWhile'>
<p>Repeats execution of a command and a reporter in the referenced NetLogo instance while a conditional reporter returns <code>TRUE</code>.</p></a></li>
<li><a href='#NLGetAgentSet'>
<p>Reports variable value(s) of one or more agent(s) as a data.frame (optional as a list or vector)</p></a></li>
<li><a href='#NLGetGraph'>
<p>Captures a network.</p></a></li>
<li><a href='#NLGetPatches'>
<p>Reports the values of patch variables as a data.frame (optional as a list, matrix or simple vector)</p></a></li>
<li><a href='#NLLoadModel'>
<p>Loads a model into the NetLogo instance.</p></a></li>
<li><a href='#NLQuit'>
<p>Quits a NetLogo instance.</p></a></li>
<li><a href='#NLReport'>
<p>Reports a value or list of values</p></a></li>
<li><a href='#NLSetAgentSet'>
<p>Sets a variable of one or more agent(s) to value(s) in a data.frame or vector.</p></a></li>
<li><a href='#NLSetPatches'>
<p>Sets a variable of all patches in the NetLogo world to the values in a matrix.</p></a></li>
<li><a href='#NLSetPatchSet'>
<p>Sets the variable value of one or more patch(es) to value(s) in a data.frame.</p></a></li>
<li><a href='#NLSourceFromString'>
<p>Creates or appends NetLogo code from R.</p></a></li>
<li><a href='#NLStart'>
<p>Creates an instance of NetLogo</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>1.0-4</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-06-10</td>
</tr>
<tr>
<td>Title:</td>
<td>Provides an Interface to the Agent-Based Modelling Platform
'NetLogo'</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan C. Thiele</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Interface to use and access Wilensky's 'NetLogo' (Wilensky 1999) from R using either headless (no GUI) or interactive GUI mode. Provides functions to load models, execute commands, and get values from reporters. Mostly analogous to the 'NetLogo' 'Mathematica' Link <a href="https://github.com/NetLogo/Mathematica-Link">https://github.com/NetLogo/Mathematica-Link</a>.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.2), rJava (&ge; 0.9-8), igraph</td>
</tr>
<tr>
<td>Suggests:</td>
<td>parallel</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Java (&gt;= 8.0), NetLogo (&gt;= 6.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://rnetlogo.r-forge.r-project.org/">http://rnetlogo.r-forge.r-project.org/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-06-10 13:46:08 UTC; jthiele</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-06-10 15:57:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='RNetLogo-package'>
Provides an interface to the agent-based modelling platform NetLogo
</h2><span id='topic+RNetLogo-package'></span><span id='topic+RNetLogo'></span>

<h3>Description</h3>

<p>Interface to use and access Wilensky's NetLogo (Wilensky 1999) from R (R Core Team 2014)
using either headless (no GUI) or interactive GUI mode. Provides functions to load
models, execute commands, and get values from reporters. 
Mostly analogous to the NetLogo Mathematica Link 
<a href="https://github.com/NetLogo/Mathematica-Link">https://github.com/NetLogo/Mathematica-Link</a>.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> RNetLogo</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0-4</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2017-06-10</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GNU GPL v2</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Start by creating a NetLogo instance by using <code><a href="#topic+NLStart">NLStart</a></code>. Then load a model with the function 
<code><a href="#topic+NLLoadModel">NLLoadModel</a></code> and then use commands and reporters to do what you like.
</p>
<p>It is possible to use NetLogo 3D. Just set the <code>is3d</code> argument in <code><a href="#topic+NLStart">NLStart</a></code> to <code>TRUE</code>. This functionality is experimental. All RNetLogo functions should work in NetLogo 3D as they do in conventional 2D NetLogo except <code><a href="#topic+NLSetPatches">NLSetPatches</a></code>, which is not implemented to work with NetLogo 3D properly. <code><a href="#topic+NLSetPatchSet">NLSetPatchSet</a></code> delivers a similar functionality usable also with NetLogo 3D but uses a data.frame instead of a matrix. 
</p>
<p><b>Note for MAC users</b>: If you want to run RNetLogo in headless mode (without GUI, i.e. setting argument <code>gui=FALSE</code> in <code><a href="#topic+NLStart">NLStart</a></code>) you have to disable AWT before loading the package. Just execute <code>Sys.setenv(NOAWT=1)</code> before executing <code>library(RNetLogo)</code>.
If you want to run RNetLogo in GUI mode you have to start it from the JGR application (see <a href="https://cran.r-project.org/package=JGR">https://cran.r-project.org/package=JGR</a> and the note at <a href="http://groups.yahoo.com/group/netlogo-users/message/14817">http://groups.yahoo.com/group/netlogo-users/message/14817</a>). It can be necessary to run <code>Sys.setenv(NOAWT=1)</code> before loading the JGR package and run <code>Sys.unsetenv("NOAWT")</code> before starting JGR via <code>JGR()</code>.
</p>
<p><b>Note for Linux users</b>: If you want to run RNetLogo in GUI mode you should start RNetLogo from JGR (see <a href="https://cran.r-project.org/package=JGR">https://cran.r-project.org/package=JGR</a>).
</p>
<p><b>Note for Windows 32-bit users</b>: Starting RNetLogo (in GUI mode) on 32-bit Windows (not 64-bit Windows running in 32-bit mode) may fail in R version 2.15.2 and 2.15.3 (see description here: <a href="https://stat.ethz.ch/pipermail/r-devel/2013-January/065576.html">https://stat.ethz.ch/pipermail/r-devel/2013-January/065576.html</a>). The reason could be the increased C stack size in 2.15.2 and 2.15.3. If you execute <code>Cstack_info()</code> you can see how large the C stack size is. The problem seems to be resolved with 3.0.0.
A workaround is to use R 2.15.1 or 3.x or to start RNetLogo from JGR (see <a href="https://cran.r-project.org/package=JGR">https://cran.r-project.org/package=JGR</a>) or RStudio (see <a href="http://www.rstudio.com/">http://www.rstudio.com/</a>).  
</p>
<p>If you want to increase the Java Heap Space and set other parameters of the Java Virtual Machine (JVM) see notes at <code>NLStart</code>.
</p>
<p>See the tutorial published as Thiele (2014) for an introduction. Example codes for all functions can be found in the folder &quot;<b>examples</b>&quot; in the installation path of the package. For <b>performance notes</b> see the vignette &quot;performanceNotes.pdf&quot; and for an introduction how to <b>run RNetLogo in parallel</b> on multicore computers or clusters/grids see the vignette &quot;parallelProcessing.pdf&quot;.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>References</h3>

<p>For NetLogo see <a href="http://ccl.northwestern.edu/netlogo">http://ccl.northwestern.edu/netlogo</a>.
</p>
<p>For R Extension for NetLogo see <a href="http://r-ext.sourceforge.net/">http://r-ext.sourceforge.net/</a>.
</p>
<p>For Rserve Extension for NetLogo see <a href="http://rserve-ext.sourceforge.net/">http://rserve-ext.sourceforge.net/</a>.
</p>
<p>The RNetLogo package is analogous to (and inspired by) the NetLogo Mathematica Link <a href="https://github.com/NetLogo/Mathematica-Link">https://github.com/NetLogo/Mathematica-Link</a>.  
</p>
<p>Thiele, J. (2014) R Marries NetLogo: Introduction to the RNetLogo Package. Journal of Statistical Software 58(2) 1-41. <a href="http://www.jstatsoft.org/v58/i02/">http://www.jstatsoft.org/v58/i02/</a>  
</p>
<p>Thiele, J., Kurth, W., Grimm, V. (2012) RNetLogo: An R Package for Running and Exploring Individual-Based Models Implemented in NetLogo. Methods in Ecology and Evolution 3(3) 480-483.
</p>
<p>R Core Team (2014) R: A Language and Environment for Statistical. R Foundation for Statistical Computing.Vienna, Austria. <a href="https://www.r-project.org">https://www.r-project.org</a>.    
</p>
<p>Wilensky, U. (1999) NetLogo. <a href="http://ccl.northwestern.edu/netlogo/">http://ccl.northwestern.edu/netlogo/</a>. Center for Connected Learning and Computer-Based Modeling, Northwestern University. Evanston, IL.  
</p>


<h3>See Also</h3>

<p><code>
  <a href="#topic+NLStart">NLStart</a>,
  <a href="#topic+NLLoadModel">NLLoadModel</a>,
  <a href="#topic+NLQuit">NLQuit</a>,
  rJava package</code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(RNetLogo)
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
nl.jarname &lt;- "netlogo-6.0.0.jar"
NLStart(nl.path, nl.jarname=nl.jarname)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""))
NLCommand("setup")
NLDoCommand(10, "go")
burned &lt;- NLReport("burned-trees")
print(burned)
NLQuit()

## End(Not run)
</code></pre>

<hr>
<h2 id='NLCommand'>
Executes a command in the referenced NetLogo instance.
</h2><span id='topic+NLCommand'></span>

<h3>Description</h3>

<p><code>NLCommand</code> executes a NetLogo command (submitted as a string)
in the (submitted) NetLogo instance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLCommand(..., nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLCommand_+3A_...">...</code></td>
<td>

<p>An undefined number of strings with the NetLogo command(s) to be executed. 
Vectors, lists and data.frames will be represented as NetLogo lists. To set a NetLogo list you can write <code>'set mylist',c(1,2,3)</code> 
if the current NetLogo model knows a list named <code>mylist</code>.
Furthermore, you can execute multiple commands in series, e.g. <code>'setup','go'</code> 
</p>
</td></tr>
<tr><td><code id="NLCommand_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The command can be anything which can be submitted from the NetLogo Command Center. 
A command has no return value! If you want to return a value from NetLogo use <code><a href="#topic+NLReport">NLReport</a></code> and other report functions.
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLDoCommand">NLDoCommand</a></code>,
<code><a href="#topic+NLDoCommandWhile">NLDoCommandWhile</a></code>,
<code><a href="#topic+NLReport">NLReport</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NLStart("C:/Program Files/NetLogo 6.0/app")
NLCommand("create-turtles 10")

## End(Not run)
</code></pre>

<hr>
<h2 id='NLDfToList'>
Transforms a data.frame into a NetLogo list or multiple NetLogo lists (one for each column of the data.frame).
</h2><span id='topic+NLDfToList'></span>

<h3>Description</h3>

<p><code>NLDfToList</code> pushes the values of a data.frame into NetLogo lists. 
The column names of the data.frame are used as names for the NetLogo lists 
(but the lists must already exist in the current NetLogo model).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLDfToList(in.data.frame, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLDfToList_+3A_in.data.frame">in.data.frame</code></td>
<td>

<p>The data.frame to fill the NetLogo lists.
</p>
</td></tr>
<tr><td><code id="NLDfToList_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Remember: There must be lists in the NetLogo model with the names of the columns of the submitted data.frame. 
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLDoCommand">NLDoCommand</a></code>,
<code><a href="#topic+NLDoCommandWhile">NLDoCommandWhile</a></code>,
<code><a href="#topic+NLReport">NLReport</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NLStart("C:/Program Files/NetLogo 6.0/app")
df1 &lt;- data.frame(x=c(1,2,3,4),y=c(5,6,7,8))
# the current NetLogo model must have two variables ('x' and 'y')
# add the variables
NLSourceFromString("globals [x y]", append.model=FALSE)
# set the variables to the data.frame
NLDfToList(df1)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLDoCommand'>
Repeats execution of a command in the referenced NetLogo instance a defined number of times.
</h2><span id='topic+NLDoCommand'></span>

<h3>Description</h3>

<p><code>NLDoCommand</code> executes a NetLogo command (submitted as a string)
in the submitted NetLogo instance more than one time. It works like <code><a href="#topic+NLCommand">NLCommand</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLDoCommand(iterations, ..., nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLDoCommand_+3A_iterations">iterations</code></td>
<td>

<p>An integer defining the number of times the command is executed.
</p>
</td></tr>
<tr><td><code id="NLDoCommand_+3A_...">...</code></td>
<td>

<p>An undefined number of string(s) with the NetLogo command(s) to be executed. See <a href="#topic+NLCommand">NLCommand</a> for details.
</p>
</td></tr>
<tr><td><code id="NLDoCommand_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used to execute a command more than one time. It is usually used
to call a procedure (e.g. &quot;go&quot;) for a defined number of times. 
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLCommand">NLCommand</a></code>,
<code><a href="#topic+NLDoCommandWhile">NLDoCommandWhile</a></code>,
<code><a href="#topic+NLReport">NLReport</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""))
NLCommand("setup")
NLDoCommand(10, "go")

## End(Not run)
</code></pre>

<hr>
<h2 id='NLDoCommandWhile'>
Repeats a command in the referenced NetLogo instance while a reporter returns <code>TRUE</code>.
</h2><span id='topic+NLDoCommandWhile'></span>

<h3>Description</h3>

<p><code>NLDoCommandWhile</code> function executes a NetLogo command (submitted as a string)
in the submitted NetLogo instance more than one time. It works like <code><a href="#topic+NLCommand">NLCommand</a></code> but will
be repeated as long as the reporter returns <code>TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLDoCommandWhile(condition, ..., max.minutes=10, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLDoCommandWhile_+3A_condition">condition</code></td>
<td>

<p>A string with a NetLogo conditional reporter.
</p>
</td></tr>
<tr><td><code id="NLDoCommandWhile_+3A_...">...</code></td>
<td>

<p>An undefined number of string(s) with the NetLogo command(s) to be executed. See <a href="#topic+NLCommand">NLCommand</a> for details.
</p>
</td></tr>
<tr><td><code id="NLDoCommandWhile_+3A_max.minutes">max.minutes</code></td>
<td>

<p>(optional) If <code>max.minutes &gt; 0</code> the execution stops after the defined number of minutes (with an error). By default, all executions are stopped after 10 minutes, to prevent the execution of endless loops. If you need more time, increase the value. If you're sure what you do, you can set this value to 0. Then, it will run while the condition is true (i.e. endlessly when the condition is never met. In GUI mode, you can press &quot;Tools &ndash;&gt; Halt&quot; in the NetLogo menu to interrupt a running process.). This can speed up the execution, because the time checking is not applied in this case. 
</p>
</td></tr>
<tr><td><code id="NLDoCommandWhile_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used to execute a command for more than one time. It can be used, for example,
to run a simulation (by calling &quot;go&quot;) while a variable is below some limit. 
</p>
<p>The condition is evaluated before the submitted commands are executed. If the condition is <code>FALSE</code> at the   first evaluation, the commands will never be executed.
</p>
<p>Attention: Make sure that the condition switches from <code>TRUE</code> to <code>FALSE</code> sometime, 
otherwise you will run an endless loop (which is stopped after 10 minutes by default, see argument <code>max.minutes</code>).
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLCommand">NLCommand</a></code>,
<code><a href="#topic+NLDoCommandWhile">NLDoCommandWhile</a></code>,
<code><a href="#topic+NLReport">NLReport</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""))
NLCommand("setup")
NLDoCommandWhile("burned-trees &lt; 500", "go")

## End(Not run)
</code></pre>

<hr>
<h2 id='NLDoReport'>
Repeats a command and a reporter in the referenced NetLogo instance a defined number of times.
</h2><span id='topic+NLDoReport'></span>

<h3>Description</h3>

<p><code>NLDoReport</code> executes a NetLogo command (submitted as a string)
in the NetLogo instance for more than one time, and executes the reporter after each iteration. 
It works like a combination of <code><a href="#topic+NLReport">NLReport</a></code> and <code><a href="#topic+NLDoCommand">NLDoCommand</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLDoReport(iterations, command, reporter, as.data.frame=FALSE, 
           df.col.names=NULL, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLDoReport_+3A_iterations">iterations</code></td>
<td>

<p>An integer defining how many times the command is repeated.
</p>
</td></tr>
<tr><td><code id="NLDoReport_+3A_command">command</code></td>
<td>

<p>A string with the NetLogo command to be executed. 
</p>
</td></tr>
<tr><td><code id="NLDoReport_+3A_reporter">reporter</code></td>
<td>

<p>A string containing a NetLogo reporter.
This argument can also be an R vector containing multiple strings with different NetLogo reporters (separated by commas), like <code>c("count patches", "count turtles")</code>. (A similar effect can be reached by using a NetLogo reporter returning a NetLogo list, like <br />
<code>"(list count patches count agents)"</code> as a single string argument. But the result will not be an R list with nested R lists but an R list with nested R vectors because NetLogo lists are converted to R vectors.)
</p>
</td></tr>
<tr><td><code id="NLDoReport_+3A_as.data.frame">as.data.frame</code></td>
<td>

<p>(optional) If <code>TRUE</code> the function will return a data.frame instead of a list. Default is <code>FALSE</code>, which returns a list.
</p>
</td></tr>
<tr><td><code id="NLDoReport_+3A_df.col.names">df.col.names</code></td>
<td>

<p>(optional) If <code>as.data.frame=TRUE</code>, contains the names of the columns of the returned data.frame. 
The argument is a vector containing the names as strings in the same order as the submitted reporters. 
</p>
</td></tr>
<tr><td><code id="NLDoReport_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used to execute a command more than one time and report a value or a number of values after
each iteration. It is often used to call a procedure (e.g. &quot;go&quot;) for a defined number of times and save the value of a state variable each time. 
</p>


<h3>Value</h3>

<p>A list/nested list or data.frame with the value(s) of the reporter after each execution of the command.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLDoCommand">NLDoCommand</a></code>,
<code><a href="#topic+NLReport">NLReport</a></code>,
<code><a href="#topic+NLDoReportWhile">NLDoReportWhile</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""))
NLCommand("setup")
burned10 &lt;- NLDoReport(10, "go", "burned-trees")
initburned10 &lt;- NLDoReport(10, "go", c("initial-trees","burned-trees"), 
                as.data.frame=TRUE, df.col.names=c("initial","burned"))
str(initburned10)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLDoReportWhile'>
Repeats execution of a command and a reporter in the referenced NetLogo instance while a conditional reporter returns <code>TRUE</code>.
</h2><span id='topic+NLDoReportWhile'></span>

<h3>Description</h3>

<p><code>NLDoReportWhile</code> function executes a NetLogo command (submitted as a string)
more than one time  and executes the reporter after each iteration. 
It works like <code><a href="#topic+NLDoReport">NLDoReport</a></code> but will be repeated while the conditional reporter returns <code>TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLDoReportWhile(condition, command, reporter, as.data.frame=FALSE, 
                df.col.names=NULL, max.minutes=10, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLDoReportWhile_+3A_condition">condition</code></td>
<td>

<p>A string with a NetLogo conditional reporter.
</p>
</td></tr>
<tr><td><code id="NLDoReportWhile_+3A_command">command</code></td>
<td>

<p>A string with the NetLogo command to be executed. 
</p>
</td></tr>
<tr><td><code id="NLDoReportWhile_+3A_reporter">reporter</code></td>
<td>

<p>A string containing a NetLogo reporter. 
This argument can also be an R vector containing multiple strings with different NetLogo reporters (separated by commas), like <code>c("count patches", "count turtles")</code>. (A similar effect can be reached by using a NetLogo reporter returning a NetLogo list, like <br />
<code>"(list count patches count agents)"</code> as a single string argument. But the result will not be an R list with nested R lists but an R list with nested R vectors because NetLogo lists are converted to R vectors.)
</p>
</td></tr>
<tr><td><code id="NLDoReportWhile_+3A_as.data.frame">as.data.frame</code></td>
<td>

<p>(optional) If <code>TRUE</code> the function will return a data.frame instead a list. Default is <code>FALSE</code> which returns a list.
</p>
</td></tr>
<tr><td><code id="NLDoReportWhile_+3A_df.col.names">df.col.names</code></td>
<td>

<p>(optional) If <code>as.data.frame=TRUE</code> defines the names of the columns of the returned data.frame. 
The argument is a vector containing the names as strings in the same order as the reporters. 
</p>
</td></tr>
<tr><td><code id="NLDoReportWhile_+3A_max.minutes">max.minutes</code></td>
<td>

<p>(optional) If <code>max.minutes &gt; 0</code> the execution stops after the defined number of minutes (with an error and no return value). By default, all executions are stopped after 10 minutes, to prevent the execution of endless loops. If you need more time, increase the value. If you're sure what you do, you can set this value to 0. Then, it will run while the condition is true (i.e. endlessly when the condition is never met. In GUI mode, you can press &quot;Tools &ndash;&gt; Halt&quot; in the NetLogo menu to interrupt a running process.). This can speed up the execution, because the time checking is not applied in this case. 
</p>
</td></tr>
<tr><td><code id="NLDoReportWhile_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function executes a command more than one time and reports a value or a number of values after
each iteration. It is usually used to call a procedure (e.g. &quot;go&quot;) while a variable is below a boundary value and save the value of a state variable each time. 
Attention: Make sure that the condition switches from <code>TRUE</code> to <code>FALSE</code> sometime, 
otherwise you will run an endless loop (which is stopped after 10 minutes by default, see argument <code>max.minutes</code>).
</p>


<h3>Value</h3>

<p>A list/nested list with the value(s) of the reporter after each execution of the command.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLDoCommandWhile">NLDoCommandWhile</a></code>,
<code><a href="#topic+NLReport">NLReport</a></code>,
<code><a href="#topic+NLDoReport">NLDoReport</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""))
NLCommand("setup")
burnedLower2200 &lt;- NLDoReportWhile("burned-trees &lt; 2200", "go", 
                                   "burned-trees")
str(burnedLower2200)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLGetAgentSet'>
Reports variable value(s) of one or more agent(s) as a data.frame (optional as a list or vector)
</h2><span id='topic+NLGetAgentSet'></span>

<h3>Description</h3>

<p><code>NLGetAgentSet</code> is an easy way to access variable value(s) of one or more agent(s) (in a sorted way) by specifying the name of the agent or the name of an agentset containing the agents. An agent is a turtle, breed, patch, or link. An agentset is a collection of agents. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLGetAgentSet(agent.var, agentset, as.data.frame=TRUE, 
              agents.by.row=FALSE, as.vector=FALSE, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLGetAgentSet_+3A_agent.var">agent.var</code></td>
<td>

<p>A string or vector/list of strings with the variable names of the agent(s).
</p>
</td></tr>
<tr><td><code id="NLGetAgentSet_+3A_agentset">agentset</code></td>
<td>

<p>A string specifying the agent or agentset to be queried.
</p>
</td></tr>
<tr><td><code id="NLGetAgentSet_+3A_as.data.frame">as.data.frame</code></td>
<td>

<p>(optional) If <code>TRUE</code> (default) the function will return a data.frame with a column for each <code>agent.var</code> and a row for each agent. 
The column names are taken from the names of the <code>agent.var</code> argument.
If <code>FALSE</code> the function will return a list instead of a data.frame 
(little bit faster when not using <code>agents.by.row=TRUE</code>). 
</p>
</td></tr>
<tr><td><code id="NLGetAgentSet_+3A_agents.by.row">agents.by.row</code></td>
<td>

<p>(optional) This argument has an effect only in combination with <br /> 
<code>as.data.frame=FALSE</code>, i.e. when a list is returned.  
If <code>agents.by.row=FALSE</code> (default) the returned list contains one list element for each <code>agent.var</code>. Each list element contains a vector with the values of the different agents (<code>agentset</code>).
If <code>agents.by.row=TRUE</code> the returned list contains one list element for each agent. Each list element contains a vector with the values of the different requested agent variables <br />
(<code>agent.var</code>). Attention: <code>agents.by.row=TRUE</code> makes the function very slow, especially when many agents are requested.
</p>
</td></tr> 
<tr><td><code id="NLGetAgentSet_+3A_as.vector">as.vector</code></td>
<td>

<p>(optional) Set this argument to <code>TRUE</code> for getting the result as a simple vector in case of requesting only one agent variable.
This is the fastest way to access one agent variable. It does not make sense to set this variable to <code>TRUE</code> together with <code>as.data.frame=TRUE</code>, 
but <code>as.vector</code> is processed first and will win the race if you accidentally set <code>as.data.frame</code> to <code>TRUE</code> as well. 
By default <code>as.vector</code> is <code>FALSE</code>.
</p>
</td></tr> 
<tr><td><code id="NLGetAgentSet_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It's possible to use all variables of an agent, which can be found in NetLogo's Agent Monitors.
It isn't possible to get values from different types of agents (i.e. turtles, patches, links) with one
call of <code>NLGetAgentSet</code>.
</p>


<h3>Value</h3>

<p>Returns a data.frame (optional a list) with the variable value(s) of an agent/agents of an agentset. 
One row for each agent and one column for each agent variable.
The result is sorted in the same manner as using <code>sort agentset</code> in NetLogo, i.e. turtles are sorted by their <code>who</code> variable and patches from upper left to lower right.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLReport">NLReport</a></code>,
<code><a href="#topic+NLGetPatches">NLGetPatches</a></code>,
<code><a href="#topic+NLGetGraph">NLGetGraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
# NLLoadModel(...)
NLCommand("create-turtles 10")

colors &lt;- NLGetAgentSet(c("who","xcor","ycor","color"), 
                        "turtles with [who &lt; 5]")
str(colors)
                        
# or as a list (slightly faster):
colors.list &lt;- NLGetAgentSet(c("who","xcor","ycor","color"), 
                        "turtles with [who &lt; 5]", as.data.frame=FALSE)
str(colors.list)
            
# or as a list with one list element for each agent
# (very slow!, not recommended especially for large agentsets)
colors.list2 &lt;- NLGetAgentSet(c("who","xcor","ycor","color"), 
                        "turtles with [who &lt; 5]", as.data.frame=FALSE, 
                        agents.by.row=TRUE)
str(colors.list2)
                        
# getting the ends of links is a little bit more tricky, because they store only the
# reference to the turtles and turtles cannot directly be requested. 
# A way to go is:
# create some links
NLCommand("ask turtles [ create-links-with n-of 2 other turtles ]")
link.test &lt;- NLGetAgentSet(c("[who] of end1","[who] of end2"),"links")
str(link.test)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLGetGraph'>
Captures a network.
</h2><span id='topic+NLGetGraph'></span>

<h3>Description</h3>

<p><code>NLGetGraph</code> converts a set of NetLogo Link agents into an igraph graph object (see package igraph for details on graph objects).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLGetGraph(link.agentset="links", nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLGetGraph_+3A_link.agentset">link.agentset</code></td>
<td>

<p>(optional) A string defining an agentset of NetLogo Links. Default is <code>"links"</code>, which are all links.
</p>
</td></tr>
<tr><td><code id="NLGetGraph_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Saves a link network in a graph object of package igraph for network analysis.
</p>


<h3>Value</h3>

<p>Returns a graph object of package igraph.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLGetAgentSet">NLGetAgentSet</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
model.path &lt;- 
"/models/Sample Models/Networks/Preferential Attachment.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""))
NLCommand("setup")
NLDoCommand(4, "go")
graph1 &lt;- NLGetGraph()
plot(graph1, layout=layout.kamada.kawai, vertex.label=V(graph1)$name,
     vertex.shape="rectangle", vertex.size=20, asp=FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLGetPatches'>
Reports the values of patch variables as a data.frame (optional as a list, matrix or simple vector)
</h2><span id='topic+NLGetPatches'></span>

<h3>Description</h3>

<p><code>NLGetPatches</code> is an easy way to access variables of all patches (default) or of 
a subset of patches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLGetPatches(patch.var, patchset="patches", as.matrix=FALSE, 
             as.data.frame=TRUE, patches.by.row=FALSE,
             as.vector=FALSE, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLGetPatches_+3A_patch.var">patch.var</code></td>
<td>

<p>A string or vector/list of strings with the names of patch variables to report.
</p>
</td></tr>
<tr><td><code id="NLGetPatches_+3A_patchset">patchset</code></td>
<td>

<p>(optional) A string defining which patches to request. 
By default, values of all patches are returned.
</p>
</td></tr>
<tr><td><code id="NLGetPatches_+3A_as.matrix">as.matrix</code></td>
<td>

<p>(optional) If this variable is <code>TRUE</code> (default is <code>FALSE</code>), the function will return the result as a matrix representing the NetLogo world.
(This option is Only available, if the argument <code>patchset</code> is not used, i.e. if you request all patches and only one patch variable, i.e. length of <code>patch.var</code> is 1.)
</p>
</td></tr>
<tr><td><code id="NLGetPatches_+3A_as.data.frame">as.data.frame</code></td>
<td>

<p>(optional) If <code>TRUE</code> (default) the function returns a data.frame with one column for each <code>patch.var</code> and one row for each patch. 
The column names are taken from the names of the <code>patch.var</code> argument. 
If <code>FALSE</code> the function will return a list instead of a data.frame 
(little bit faster, when not using <code>patches.by.row=TRUE</code>).   
</p>
</td></tr>
<tr><td><code id="NLGetPatches_+3A_patches.by.row">patches.by.row</code></td>
<td>

<p>(optional) This argument has an effect only in combination with <br />
<code>as.data.frame=FALSE</code>, i.e. when a list is returned.  
If <code>patches.by.row=FALSE</code> (default) the returned list contains one list element for each <code>patch.var</code>. Each list element contains a vector with the values of the different patches (<code>patchset</code>).
If <code>patches.by.row=TRUE</code> the returned list contains one list element for each patch. Each list element contains a vector with the values of the different requested patch variables <br />
(<code>patch.var</code>). Attention: <code>patches.by.row=TRUE</code> makes the function very slow, especially when many patches are requested.
</p>
</td></tr> 
<tr><td><code id="NLGetPatches_+3A_as.vector">as.vector</code></td>
<td>

<p>(optional) Set this argument to <code>TRUE</code> for getting the result as a simple vector in case of requesting only one patch variable.
This is the fastest way to access one patch variable. It does not make sense to set this variable to <code>TRUE</code> together with <code>as.data.frame=TRUE</code> or
<code>as.matrix=TRUE</code>, but <code>as.vector</code> is processed first and will win the race if you accidentally set <code>as.data.frame</code> or <code>as.matrix</code> to <code>TRUE</code> as well. 
By default <code>as.vector</code> is <code>FALSE</code>.
</p>
</td></tr> 
<tr><td><code id="NLGetPatches_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It's possible to use all the variables of a patch, which can be found in NetLogo's Agent Monitors.
</p>


<h3>Value</h3>

<p>Returns a data.frame (optional a list) with the variable value(s) of a patch/patches of a patchset. 
One row for each patch and one column for each patch variable.
The result is sorted (like using <code>sort patchset</code> in NetLogo), e.g. patches are sorted from upper left to lower right.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLReport">NLReport</a></code>,
<code><a href="#topic+NLGetAgentSet">NLGetAgentSet</a></code>,
<code><a href="#topic+NLGetGraph">NLGetGraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
# NLLoadModel(...)

allpatches &lt;- NLGetPatches(c("pxcor","pycor","pcolor"))
str(allpatches)

# only a subset of patches
subsetpatches &lt;- NLGetPatches(c("pxcor","pycor","pcolor"), 
                              "patches with [pxcor &lt; 5]")
str(subsetpatches)

# or as a list (slightly faster):
colors.list &lt;- NLGetPatches(c("pxcor","pycor","pcolor"), 
                        "patches with [pxcor &lt; 5]", as.data.frame=FALSE)
str(colors.list)

# or as a list with one list element for each patch
# (very slow!, not recommended especially for large patchsets)
colors.list2 &lt;- NLGetPatches(c("pxcor","pycor","pcolor"), 
                        "patches with [pxcor &lt; 5]", as.data.frame=FALSE, 
                        patches.by.row=TRUE)
str(colors.list2)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLLoadModel'>
Loads a model into the NetLogo instance.
</h2><span id='topic+NLLoadModel'></span>

<h3>Description</h3>

<p><code>NLLoadModel</code> loads a model (*.nlogo file) into the submitted NetLogo instance.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLLoadModel(model.path, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLLoadModel_+3A_model.path">model.path</code></td>
<td>

<p>A string containing either the absolute path to the model file (*.nlogo file) or a relative path to the model file starting from the NetLogo installation directory specified in <code><a href="#topic+NLStart">NLStart</a></code>. 
</p>
</td></tr>
<tr><td><code id="NLLoadModel_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLStart">NLStart</a></code>,
<code><a href="#topic+NLQuit">NLQuit</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
absolute.model.path &lt;- paste(nl.path,model.path,sep="")
NLLoadModel(absolute.model.path)

relative.model.path &lt;- "models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(relative.model.path)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLQuit'>
Quits a NetLogo instance.
</h2><span id='topic+NLQuit'></span>

<h3>Description</h3>

<p>Quits the NetLogo workspace and closes the GUI window (if started with GUI).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLQuit(nl.obj=NULL, all=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLQuit_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to the NetLogo instance defined in <code>nl.obj</code> of <code>NLStart</code>.
</p>
</td></tr>
<tr><td><code id="NLQuit_+3A_all">all</code></td>
<td>

<p>(optional) A boolean variable: If <code>TRUE</code> all active instances of NetLogo created with <code>NLStart</code> are closed. Then, <code>nl.obj</code> argument is not used.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Warning </h3>

<p>please note that you will not be ask to save changes when closing NetLogo.
Furthermore, there is currently no way to kill a NetLogo instance with GUI completely. After executing <code>NLQuit</code> on a GUI instance, you can't run <code>NLStart</code> again. 
You have to quit your R session first and start a new one. 
The reason is that NetLogo quits via System.exit (and has no functionality to quit all threads manually) but executing System.exit will terminate the whole JVM which will also terminate rJava and finally R. But there is a trick to run RNetLogo in GUI mode multiple times described in the document <code>parallelProcessing.pdf</code> in directory <code>parallelProcessing</code> in the installation directory of the package.
It can happen that some memory is not released although you have executed <code>NLQuit</code>, because shutting down the running JVM via rJava and unloading the required libraries is not possible. 
Therefore, it is a good idea to start a new R session if possible when you load a new model.  
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLStart">NLStart</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
NLQuit()

## End(Not run)
</code></pre>

<hr>
<h2 id='NLReport'>
Reports a value or list of values
</h2><span id='topic+NLReport'></span>

<h3>Description</h3>

<p><code>NLReport</code> reports NetLogo data back to R. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLReport(reporter, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLReport_+3A_reporter">reporter</code></td>
<td>

<p>A string containing a NetLogo reporter.
(Or a vector of strings.)
</p>
</td></tr>
<tr><td><code id="NLReport_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Every reporter (commands which return a value) that can be called in the NetLogo Command Center 
can be called with <code>NLReport</code>. 
</p>


<h3>Value</h3>

<p>A vector of length one if only one value is returned. Otherwise it is a list or, if necessary, a nested list with the reported values.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLDoReport">NLDoReport</a></code>,
<code><a href="#topic+NLDoReportWhile">NLDoReportWhile</a></code>,
<code><a href="#topic+NLGetPatches">NLGetPatches</a></code>,
<code><a href="#topic+NLGetAgentSet">NLGetAgentSet</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""))
NLCommand("setup")
NLDoCommand(10, "go")
noburned &lt;- NLReport("burned-trees")
str(noburned)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLSetAgentSet'>
Sets a variable of one or more agent(s) to value(s) in a data.frame or vector. 
</h2><span id='topic+NLSetAgentSet'></span>

<h3>Description</h3>

<p><code>NLSetAgentSet</code> is an easy way to set the variable value(s) of one or more agent(s) (by specifying the name of the agent or the name of an agentset containing the agents) to the value(s) of a data.frame or vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLSetAgentSet(agentset, input, var.name=NULL, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLSetAgentSet_+3A_agentset">agentset</code></td>
<td>

<p>A string specifying the agent or agentset for which values should be changed.
</p>
</td></tr>
<tr><td><code id="NLSetAgentSet_+3A_input">input</code></td>
<td>

<p>A data.frame or vector.
If a data.frame, it must have one column with the corresponding agent variable name for each agent variable to be set and one row for each agent.
The rows have to be sorted in the order NetLogo is processing the agentset with <code>sort agentset</code> (e.g. turtles are sorted by their who value). 
If a vector, only one agent variable can be set and the name has to be given by the optional argument <code>var.name</code>.
</p>
</td></tr>
<tr><td><code id="NLSetAgentSet_+3A_var.name">var.name</code></td>
<td>

<p>If <code>input</code> is a simple vector instead of a data.frame it gives the name of the agent variable as a string which should be set with the values of the vector submitted in <code>input</code>. With a vector you can only set one agent variable at a time. 
</p>
</td></tr>
<tr><td><code id="NLSetAgentSet_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The agent variable values contained as columns in the input data.frame are changed. The columns of the data.frame have to be named exactly like the 
agent variable which should get the values. The rows have to be sorted as NetLogo would process the agentset using the <code>sort</code> reporter. 
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLSetPatches">NLSetPatches</a></code>,
<code><a href="#topic+NLGetAgentSet">NLGetAgentSet</a></code>,
<code><a href="#topic+NLGetGraph">NLGetGraph</a></code>,
<code><a href="#topic+NLDfToList">NLDfToList</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
# NLLoadModel(...)
ag &lt;- NLGetAgentSet(c("xcor","ycor"),"turtles")
ag2 &lt;- data.frame(xcor=ag$xcor, ycor=ag$xcor)
NLSetAgentSet("turtles", ag2)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLSetPatches'>
Sets a variable of all patches in the NetLogo world to the values in a matrix. 
</h2><span id='topic+NLSetPatches'></span>

<h3>Description</h3>

<p><code>NLSetPatches</code> is an easy way to set the values of all patches to the values of a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLSetPatches(patch.var, in.matrix, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLSetPatches_+3A_patch.var">patch.var</code></td>
<td>

<p>The name of the patch variable to set.
</p>
</td></tr>
<tr><td><code id="NLSetPatches_+3A_in.matrix">in.matrix</code></td>
<td>

<p>A matrix that represents the NetLogo world (has the same dimensions).
</p>
</td></tr>
<tr><td><code id="NLSetPatches_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The matrix must have the same x- and y-dimensions as the NetLogo world, indices beginning with (1,1). 
The upper-left cell (1,1) of the matrix represents the upper-left patch of the NetLogo world, no matter where the origin of the NetLogo  world is set.
This function is not available when running NetLogo 3D. Use <code><a href="#topic+NLSetPatchSet">NLSetPatchSet</a></code> instead.
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLReport">NLReport</a></code>,
<code><a href="#topic+NLGetAgentSet">NLGetAgentSet</a></code>,
<code><a href="#topic+NLGetGraph">NLGetGraph</a></code>,
<code><a href="#topic+NLDfToList">NLDfToList</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
m1 &lt;- matrix(1:1089 , 33)
NLSetPatches("pcolor", m1)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLSetPatchSet'>
Sets the variable value of one or more patch(es) to value(s) in a data.frame. 
</h2><span id='topic+NLSetPatchSet'></span>

<h3>Description</h3>

<p><code>NLSetPatchSet</code> is an easy way to set the variable value of one or more patch(es) to the value(s) of a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLSetPatchSet(patch.var, input, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLSetPatchSet_+3A_patch.var">patch.var</code></td>
<td>

<p>This argument gives the name of the patch variable as a string which should be set to the values of the third (for NetLogo 2D) or fourth column (for NetLogo 3D) of the data.frame submitted in <code>input</code>.
</p>
</td></tr>
<tr><td><code id="NLSetPatchSet_+3A_input">input</code></td>
<td>

<p>A data.frame with columns giving the coordinates of a patch and the values for the patch variable to be changed. For conventional 2D NetLogo there has to be a pxcor and a pycor column , for NetLogo 3D there has to be a pxcor, a pycor, and a pzcor column. name of the column that contains the new values for the patch variable has to be equal to the argument <code>patch.var</code>. 
</p>
</td></tr>
<tr><td><code id="NLSetPatchSet_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used to update one patch variable for patches identified by their pxcor, pycor (and pzcor in case of NetLogo 3D) values based on values given in a data.frame. 
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLSetPatches">NLSetPatches</a></code>,
<code><a href="#topic+NLGetAgentSet">NLGetAgentSet</a></code>,
<code><a href="#topic+NLGetGraph">NLGetGraph</a></code>,
<code><a href="#topic+NLDfToList">NLDfToList</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
# NLLoadModel(...)

# for NetLogo 2D:
input &lt;- NLGetPatches(c("pxcor","pycor","pcolor"))
str(input)
# for NetLogo 3D:
input &lt;- NLGetPatches(c("pxcor","pycor","pzcor","pcolor"))
str(input)

input$pcolor &lt;- floor(abs(rnorm(nrow(input))*100)) 
patch.var &lt;- "pcolor"
NLSetPatchSet(patch.var, input)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLSourceFromString'>
Creates or appends NetLogo code from R. 
</h2><span id='topic+NLSourceFromString'></span>

<h3>Description</h3>

<p><code>NLSourceFromString</code> is a way to create/append a NetLogo model's source code dynamically from R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLSourceFromString(..., append.model=TRUE, nl.obj=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLSourceFromString_+3A_...">...</code></td>
<td>

<p>An undefined number of strings containing NetLogo model source code to be printed into the procedures tab.
Line breaks within a string can be represented as <code>\n</code>.  
</p>
</td></tr>
<tr><td><code id="NLSourceFromString_+3A_append.model">append.model</code></td>
<td>

<p>(optional) Determines whether existing code in the procedures tab (i.e. a loaded model) will be appended by the new code or will be replaced.
By default, all existing code will be appended.
</p>
</td></tr>
<tr><td><code id="NLSourceFromString_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string identifying a reference to a NetLogo instance created with <code><a href="#topic+NLStart">NLStart</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function only works with NetLogo instances with GUI. It doesn't work in headless mode.
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLReport">NLReport</a></code>,
<code><a href="#topic+NLGetAgentSet">NLGetAgentSet</a></code>,
<code><a href="#topic+NLGetGraph">NLGetGraph</a></code>,
<code><a href="#topic+NLDfToList">NLDfToList</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
setup &lt;- "to setup\n ca\n crt 10\nend \n"
go &lt;- "to go\n ask turtles [\n  set xcor random-xcor\n  
       set ycor random-ycor\n ]\nend \n"
reporter1 &lt;- "to-report noturtles\n report count turtles\n end \n"
NLSourceFromString(setup,go,reporter1, append.model=FALSE)
NLCommand("setup")
NLCommand("go")
noturtles &lt;- NLReport("noturtles")
print(noturtles)

## End(Not run)
</code></pre>

<hr>
<h2 id='NLStart'>
Creates an instance of NetLogo
</h2><span id='topic+NLStart'></span>

<h3>Description</h3>

<p><code>NLStart</code> creates a new instance of NetLogo in either headless (without the Graphical User Interface)
or GUI mode. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLStart(nl.path, gui=TRUE, nl.obj=NULL, is3d=FALSE, nl.jarname='netlogo-6.0.0.jar')
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NLStart_+3A_nl.path">nl.path</code></td>
<td>

<p>An absolute path to your NetLogo installation (the folder where the NetLogo.jar is) starting from the root. On Windows, for example, something like &quot;C:/Program Files/NetLogo 6.0/app&quot;.
</p>
</td></tr>
<tr><td><code id="NLStart_+3A_gui">gui</code></td>
<td>

<p>(optional) A boolean value: if <code>TRUE</code>, NetLogo will be started with GUI (only one instance with GUI can be created currently!). 
<code>FALSE</code> will start NetLogo in headless mode.
</p>
</td></tr>
<tr><td><code id="NLStart_+3A_nl.obj">nl.obj</code></td>
<td>

<p>(optional) A string which is used to identify the created NetLogo instance reference internally (in <code>.rnetlogo</code> environment). To refer to this instance just use the same name in the other functions of this package. If <code>nl.obj=NULL</code> (default), the internal name to the reference is <code>_nl.intern_</code> and is not needed to be submitted to the other functions of this package. After using NLQuit, the identical name can be used again for a new instance.
</p>
</td></tr>
<tr><td><code id="NLStart_+3A_is3d">is3d</code></td>
<td>

<p>(optional) A boolean value: if <code>TRUE</code>, NetLogo 3D will be started. <code>FALSE</code> will start the conventional 2D NetLogo. This functionality is experimental. All RNetLogo functions should work in NetLogo 3D as they do in conventional 2D NetLogo except NLSetPatches, which is currently not implemented to work in NetLogo 3D properly.
</p>
</td></tr>
<tr><td><code id="NLStart_+3A_nl.jarname">nl.jarname</code></td>
<td>

<p>(optional) The name of the NetLogo jar file. Since NetLogo 6.0 the jar file includes the version number. Default value is netlogo-6.0.0.jar. For other version the name has to be set here.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can start multiple instances of NetLogo in headless mode and store each in another
variable (using <code>nl.obj</code>) but it is not possible to start multiple instances in GUI mode. 
(It would result in an crash of R since there is no way to detach the Java Virtual Machine via rJava.) But there is a trick to run RNetLogo in GUI mode multiple times described in the document <code>parallelProcessing.pdf</code> in directory <code>parallelProcessing</code> in the installation directory of the package.
</p>
<p><b>Note for Mac OS users</b>: If you want to run RNetLogo in headless mode (without GUI, i.e. setting argument <code>gui=FALSE</code>) you have to disable AWT before loading the package. Just execute <code>Sys.setenv(NOAWT=1)</code> before executing <code>library(RNetLogo)</code>.
If you want to run RNetLogo in GUI mode you have to start it from the JGR application (see <a href="https://cran.r-project.org/package=JGR">https://cran.r-project.org/package=JGR</a> and the note at <a href="http://groups.yahoo.com/group/netlogo-users/message/14817">http://groups.yahoo.com/group/netlogo-users/message/14817</a>). It can be necessary to run <code>Sys.setenv(NOAWT=1)</code> before loading the JGR package and run <code>Sys.unsetenv("NOAWT")</code> before starting JGR via <code>JGR()</code>.
</p>
<p><b>Note for Linux users</b>: If you want to run RNetLogo in GUI mode you should start RNetLogo in the JGR application (see <a href="https://cran.r-project.org/package=JGR">https://cran.r-project.org/package=JGR</a>).
</p>
<p><b>Note for Windows 32-bit users</b>: Starting RNetLogo (in GUI mode) on 32-bit Windows (not 64-bit Windows running in 32-bit mode) may fail in R version 2.15.2 and 2.15.3 (see description here: <a href="https://stat.ethz.ch/pipermail/r-devel/2013-January/065576.html">https://stat.ethz.ch/pipermail/r-devel/2013-January/065576.html</a>). The reason could be the increased C stack size in 2.15.2 and 2.15.3. If you execute <code>Cstack_info()</code> you can see how large the C stack size is. The problem seems to be resolved with 3.0.0.
A workaround is to use R 2.15.1 or 3.x or to start RNetLogo from JGR (see <a href="https://cran.r-project.org/package=JGR">https://cran.r-project.org/package=JGR</a>) or RStudio (see <a href="http://www.rstudio.com/">http://www.rstudio.com/</a>).
</p>
<p>Avoid manually changing the working directory of R, because NetLogo needs to have the working directory pointed to its installation path. As 
the R working directory and the Java working directory depend on each other, changing the R working directory can result in unexpected behavior of NetLogo.
Therefore, you should use absolute paths for I/O processes in R instead of submitting <code>setwd(...)</code>. 
Note that the RNetLogo package changes the working directory 
automatically when loading NetLogo and changes back to the former working directory closing the last active instance of NetLogo with <code>NLQuit</code>.
</p>
<p>As mentioned in <code>NLQuit</code>, it is currently not possible to quit NetLogo completely. 
</p>
<p>If you want to specify options for the underlying Java Virtual Machine (JVM), like increasing the Java Heap Space for large models, execute <code>options(java.parameters="...")</code> before loading the RNetLogo package with <code>library(RNetLogo)</code> or <code>require(RNetLogo)</code>. For increasing the Java Heap Space it can be <code>options(java.parameters="-Xmx1024m")</code>, for example. Use a vector of strings for setting multiple options, for example <br />
<code>options(java.parameters=c("-server","-Xmx1300m"))</code>.
See also <br />
<a href="http://ccl.northwestern.edu/netlogo/docs/faq.html#howbig">http://ccl.northwestern.edu/netlogo/docs/faq.html#howbig</a> and rJava manual. 
</p>
<p>See the directory <code>examples</code> in the installation directory of the package for example codes to all RNetLogo functions.
</p>
<p>See Thiele (2014) (also included in directory <code>tutorial</code> in the installation directory of the package) for a step-by-step usage tutorial.
</p>
<p>See the vignette <code>performanceNotes.pdf</code> for performance notes.
</p>
<p>See the vignette <code>parallelProcessing.pdf</code> on how to run RNetLogo on multiple processors/clusters in parallel.
</p>


<h3>Value</h3>

<p>No return value. 
</p>


<h3>Warning </h3>

<p>It's not possible to run multiple instances of NetLogo in GUI mode! Closing NetLogo from the 
NetLogo Window is blocked, because it would quit the whole R process. To close the NetLogo
call <code><a href="#topic+NLQuit">NLQuit</a></code>.
If you use the headless mode you should first load a model with <code><a href="#topic+NLLoadModel">NLLoadModel</a></code> 
before executing other commands or reporters. In GUI mode you can execute commands and reporters already with the initial empty model without loading a specific one.
</p>


<h3>Author(s)</h3>

<p>Jan C. Thiele &lt;rnetlogo@gmx.de&gt;
</p>


<h3>References</h3>

<p>Thiele, J. (2014) R Marries NetLogo: Introduction to the RNetLogo Package. Journal of Statistical Software 58(2) 1-41. <a href="http://www.jstatsoft.org/v58/i02/">http://www.jstatsoft.org/v58/i02/</a>    
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NLQuit">NLQuit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(RNetLogo)
nl.path &lt;- "C:/Program Files/NetLogo 6.0/app"
NLStart(nl.path)
NLCommand("create-turtles 10")
noturtles &lt;- NLReport("count turtles")
print(noturtles)

# create a second NetLogo instance in headless mode (= without GUI) 
# stored in a variable
nlheadless1 &lt;- "nlheadless1"
NLStart(nl.path, gui=F, nl.obj=nlheadless1)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""), nl.obj=nlheadless1)
NLCommand("setup", nl.obj=nlheadless1)
burned1 &lt;- NLDoReport(20, "go", c("ticks","burned-trees"), 
                      as.data.frame=TRUE,df.col.names=c("tick","burned"), 
                      nl.obj=nlheadless1)
print(burned1)

# create a third NetLogo instance in headless mode (= without GUI) 
# with explicit name of stored object
nlheadless2 &lt;- "nlheadless2"
NLStart(nl.path, gui=F, nl.obj=nlheadless2)
model.path &lt;- "/models/Sample Models/Earth Science/Fire.nlogo"
NLLoadModel(paste(nl.path,model.path,sep=""), nl.obj=nlheadless2)
NLCommand("setup", nl.obj=nlheadless2)
burned2 &lt;- NLDoReport(10, "go", c("ticks","burned-trees"), 
                      as.data.frame=TRUE,df.col.names=c("tick","burned"), 
                      nl.obj=nlheadless2)
print(burned2)               

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

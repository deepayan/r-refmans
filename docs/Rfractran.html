<!DOCTYPE html><html><head><title>Help for package Rfractran</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rfractran}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fracAns'>
<p>A Q&amp;D  &quot;Logulator&quot; to Find Numbers of Interest From <code>fracDo</code> Output</p></a></li>
<li><a href='#fracDo'>
<p>The FRACTRAN Interpreter Function</p></a></li>
<li><a href='#fracMake'>
<p>Function to Create a Sequence of <code>bigq</code> Fractions</p></a></li>
<li><a href='#Rfractran-package'>
<p>A 'FRACTRAN' Interpreter and Some Helper Functions</p></a></li>
<li><a href='#stopPrime'>
<p>Function to Stop <code>fracDo</code> When Finding Primes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A 'FRACTRAN' Interpreter and Some Helper Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-28</td>
</tr>
<tr>
<td>Depends:</td>
<td>gmp</td>
</tr>
<tr>
<td>Description:</td>
<td>'FRACTRAN' is an obscure yet tantalizing programming language invented by John Conway of 'Game of Life' fame. The code consists of a sequence of fractions. The rules are simple. First, select an integer to initialize the process. Second, multiply the integer by the first fraction. If an integer results, start again with the new integer. If not, try the next fraction. Finally, if no such multiplication yields an integer, terminate the program. For more information, see <a href="https://en.wikipedia.org/wiki/FRACTRAN">https://en.wikipedia.org/wiki/FRACTRAN</a> . </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-28 15:13:40 UTC; cgw</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Witthoft [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Witthoft &lt;cellocgw@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-29 16:30:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='fracAns'>
A Q&amp;D  &quot;Logulator&quot; to Find Numbers of Interest From <code>fracDo</code> Output
</h2><span id='topic+fracAns'></span>

<h3>Description</h3>

<p>In nearly all cases FRACTRAN's &quot;result&quot; is the exponent of some number.
This function takes the logarithm of the specified base and 
identifies values which are integers (or nearly so, to the specified precision).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fracAns(intvec, logbase, logprec = 1e-05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fracAns_+3A_intvec">intvec</code></td>
<td>

<p>A vector of <code>bigq</code> values, as returned from <code>fracDo</code>
</p>
</td></tr>
<tr><td><code id="fracAns_+3A_logbase">logbase</code></td>
<td>

<p>The base of the desired logarithm, e.g. 2 or 10 in many cases. 
</p>
</td></tr>
<tr><td><code id="fracAns_+3A_logprec">logprec</code></td>
<td>

<p>A reasonably small value used to check whether the returned double should be considered to be an integer (thus ignoring binary precision errors)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the integer values found
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft  &lt;carl@witthoft.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##---The prime generator doesn't terminate, so look for values.
#start with 10,  and result includes a series of values 10^p , p prime 
fracp10 &lt;- fracMake(c(7,99,13,39,36,10,49,7,1,91), c(3,98,49,35,91,143,13,11,2,1)) 
p10 &lt;-fracDo(10,fractions = fracp10, tries = 1000)
foundp10 &lt;-fracAns(p10,logbase = 10)
# [1] 1 2 3 5 7 # sorry about the "1" :-) 

</code></pre>

<hr>
<h2 id='fracDo'>
The FRACTRAN Interpreter Function
</h2><span id='topic+fracDo'></span>

<h3>Description</h3>

<p>This implements the FRACTRAN process, to wit 
For the first fraction f in the list for which nf is an integer,
replace n by nf. 
Repeat this rule until no fraction in the list produces
an integer when multiplied by n, then halt. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fracDo(input, fractions = NULL, nums, denoms, tries = 100,
 stopFun = NULL, liveUpdate = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fracDo_+3A_input">input</code></td>
<td>

<p>The starting integer for the given FRACTRAN code (fraction sequence) 
</p>
</td></tr>
<tr><td><code id="fracDo_+3A_fractions">fractions</code></td>
<td>

<p>The sequence of fractions. Must be in <code>bigq</code> form. If NULL, then 
<code>nums</code> and <code>denoms</code> must be supplied.
</p>
</td></tr>
<tr><td><code id="fracDo_+3A_nums">nums</code></td>
<td>

<p>Vector of integers (or <code>bigz</code> values ) representing the numerators
of the FRACTRAN fractions. If <code>fractions</code> is supplied, this is ignored.
</p>
</td></tr>
<tr><td><code id="fracDo_+3A_denoms">denoms</code></td>
<td>

<p>Vector of integers (or <code>bigz</code> values ) representing the denominators
of the FRACTRAN fractions. If <code>fractions</code> is supplied, this is ignored.
</p>
</td></tr>
<tr><td><code id="fracDo_+3A_tries">tries</code></td>
<td>

<p>A 'safety' limiter on the number of times to process the next integer
generated. This avoids possible infinite runs or other time-wasters. 
</p>
</td></tr>
<tr><td><code id="fracDo_+3A_stopfun">stopFun</code></td>
<td>

<p>Optional user-supplied function that can be used to terminate a FRACTRAN
run early, or to take mid-run actions such as sending information to 
the console.  See Details for more information. 
</p>
</td></tr>
<tr><td><code id="fracDo_+3A_liveupdate">liveUpdate</code></td>
<td>

<p>If set to TRUE, a few dots and words are sent to the console to indicate 
that the algorithm is still running. 
</p>
</td></tr>
<tr><td><code id="fracDo_+3A_...">...</code></td>
<td>

<p>Possible additional arguments for <code>stopFun</code> or future use. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some FRACTRAN programs do not terminate, most famously the prime generators. 
If a specific value is being looked for, an appropriate <code>stopFun</code>
can be supplied to check for that value. <code>stopFun</code> must return a
single logical value (R, as always will convert numerics to logical if
necessary) indicating success as TRUE. The first argument
to <code>stopFun</code> must accept a single <code>bigq</code> value.
If there are more arguments, they must be entered after all named
arguments.  Note that this function does not have to send TRUE; it could be 
used solely to execute other commands mid-run. 
See <code><a href="#topic+stopPrime">stopPrime</a></code> for one such example. 
</p>


<h3>Value</h3>

<p>A vector of all the <code>bigq</code> values generated. 
These all have denominator == 1, as they are the integers found in 
each iteration of the FRACTRAN algorithm. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft &lt;carl@witthoft.com
</p>


<h3>References</h3>

<p><a href="https://esolangs.org/wiki/Fractran">https://esolangs.org/wiki/Fractran</a>
<a href="https://oeis.org/wiki/List_of_FRACTRAN_programs_to_compute_core_sequences">https://oeis.org/wiki/List_of_FRACTRAN_programs_to_compute_core_sequences</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fracMake">fracMake</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># addition:  { 3/2   } .  enter 2^a*3^b and get 3^(a+b) answer when terminated
addit &lt;- fracDo(2^5*3^8,nums = 3, denoms = 2)
# Last value returned is what we want. But can't take log(bigq) 
log(numerator(addit[length(addit)]),3)
</code></pre>

<hr>
<h2 id='fracMake'>
Function to Create a Sequence of <code>bigq</code> Fractions
</h2><span id='topic+fracMake'></span>

<h3>Description</h3>

<p>Feed this function a collection of numerator and denominator values;
get a vector of <code>bigq</code> fractions suitable for use as a FRACTRAN program.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fracMake(n, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fracMake_+3A_n">n</code></td>
<td>

<p>Vector of integers to be used as numerators, or a Nx2 array of integers
where each row contains a num, denom pair. If this is an arry, the input
<code>d</code> is ignored.
</p>
</td></tr>
<tr><td><code id="fracMake_+3A_d">d</code></td>
<td>

<p>Vector of integers to be used as denominators. Ignored if <code>n</code> is an array
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of <code>bigq</code> fractions. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft &lt;carl@witthoft.com&gt;
</p>

<hr>
<h2 id='Rfractran-package'>
A 'FRACTRAN' Interpreter and Some Helper Functions
</h2><span id='topic+Rfractran-package'></span><span id='topic+Rfractran'></span>

<h3>Description</h3>

<p>'FRACTRAN' is an obscure yet tantalizing programming language invented by John Conway of 'Game of Life' fame. The code consists of a sequence of fractions. The rules are simple. First, select an integer to initialize the process. Second, multiply the integer by the first fraction. If an integer results, start again with the new integer. If not, try the next fraction. Finally, if no such multiplication yields an integer, terminate the program. For more information, see &lt;https://en.wikipedia.org/wiki/FRACTRAN&gt; . 
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> Rfractran</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> A 'FRACTRAN' Interpreter and Some Helper Functions</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2023-08-28</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> c(person(given = "Carl", family = "Witthoft", role = c("aut","cre"), email= "cellocgw@gmail.com"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> gmp</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> 'FRACTRAN' is an obscure yet tantalizing programming language invented by John Conway of 'Game of Life' fame. The code consists of a sequence of fractions. The rules are simple. First, select an integer to initialize the process. Second, multiply the integer by the first fraction. If an integer results, start again with the new integer. If not, try the next fraction. Finally, if no such multiplication yields an integer, terminate the program. For more information, see &lt;https://en.wikipedia.org/wiki/FRACTRAN&gt; . </td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> LGPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Carl Witthoft [aut, cre]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Carl Witthoft &lt;cellocgw@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>FRACTRAN is an obscure yet tantalizing programming &quot;language&quot;
invented by John Conway of &quot;Game of Life&quot; fame. The code consists
of a sequence of fractions.  The operation is simple.
1 - Initalize with an integer
2 - Multiply the integer by the first fraction. If an integer results,
start again with the new integer. If not, try the next fraction.
3 - If no such multiplication yields an integer, terminate the program.
One warning: there is a FRACTRAN program that can be found on the web
which is supposed to generate the digits of pi.  Unfortunately, it's 
known to have a bug which causes it not to work. 
So far nobody has found a correction for it.
</p>


<h3>Author(s)</h3>

<p>NA
Maintainer: NA
</p>


<h3>References</h3>

<p><a href="https://esolangs.org/wiki/Fractran">https://esolangs.org/wiki/Fractran</a>
<a href="https://oeis.org/wiki/List_of_FRACTRAN_programs_to_compute_core_sequences">https://oeis.org/wiki/List_of_FRACTRAN_programs_to_compute_core_sequences</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Not Run
# addition:  { 3/2 } . Enter 2^a*3^b and get 3^(a+b) answer when terminated

# multiplication:  
# { 455/33, 11/13, 1/11,  3/7, 11/2, 1/3 } 
# then  enter 2^a*3^b  Terminates with  5^(a*b)

# prime generator (This function never terminates.)
#start with 10, feed to [7/3 99/98 13/49 39/35 36/91 10/143 49/13 7/11 1/2 91/1]
# and whenever the result of a run is of the form 10^p , p is prime 
</code></pre>

<hr>
<h2 id='stopPrime'>
Function to Stop <code>fracDo</code> When Finding Primes
</h2><span id='topic+stopPrime'></span>

<h3>Description</h3>

<p>This function is designed to be fed to <code>fracDo</code> as the argument
<code>stopFun</code>. It will send a note to the console every time a prime number
is found. It also serves as a sample of what a &quot;stopping function&quot; could 
look like - notice that despite the name, this function doesn't 
force-stop <code>fracDo</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stopPrime(x, mantissa,returnVal = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stopPrime_+3A_x">x</code></td>
<td>

<p>The current integer generated with the FRACTRAN generator (<code>fracDo</code>.)
</p>
</td></tr>
<tr><td><code id="stopPrime_+3A_mantissa">mantissa</code></td>
<td>

<p>Choose the mantissa based on the prime-generating algorithm selected.
Must be an added argument to <code>fracDo</code>. See Details. 
</p>
</td></tr>
<tr><td><code id="stopPrime_+3A_returnval">returnVal</code></td>
<td>
<p>Normally set to zero so as not to terminate
the FRACTRAN program. If desired, set to one (or TRUE) to terminate
after the first prime is found. Must be an added argument to <code>fracDo</code>. See Details. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are two well-known prime generators for FRACTRAN, one of which uses 
powers of two and the other uses powers of 10. Select the mantissa to match 
one of these, or potentially any other FRACTRAN program which returns 
values as (mantissa)^(result) .  When running <code>fracDo</code>, you must
enter the value as an argument after all named arguments. Similarly, if
desired, enter a value for <code>returnVal</code> to <code>fracDo</code>.
</p>


<h3>Value</h3>

<p>Returns the specified value of <code>returnVal</code> so that <code>fracDo</code>
will or will not terminate. Its &quot;useful&quot; output is cat-ed to the console.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft &lt;carl@witthoft.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##---The prime generator doesn't terminate, so look for values.
#start with 10,  and result includes a series of values 10^p , p prime 
fracp10 &lt;- fracMake(c(7,99,13,39,36,10,49,7,1,91), c(3,98,49,35,91,143,13,11,2,1)) 
p10 &lt;-fracDo(10,fractions = fracp10, tries = 1000,stopFun=stopPrime, mantissa = 10 )
# primes found are sent to console 
# p10 contains all integers found.
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

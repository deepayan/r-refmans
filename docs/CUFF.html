<!DOCTYPE html><html><head><title>Help for package CUFF</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CUFF}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cf'><p>Extract and format coefficients table</p></a></li>
<li><a href='#clip'><p>Send to clipboard</p></a></li>
<li><a href='#correlation'><p>Bivariate correlations</p></a></li>
<li><a href='#cross'><p>Crosstabs</p></a></li>
<li><a href='#freq'><p>Frequencies</p></a></li>
<li><a href='#ftab'><p>Fonctions pour ajouter les pourcentages dans les tables</p></a></li>
<li><a href='#meansd'><p>function to compute mean and sd into a single string</p></a></li>
<li><a href='#pal_CUFF'><p>Palette de couleurs</p></a></li>
<li><a href='#printcross'><p>Crosstabs print methods</p></a></li>
<li><a href='#pv'><p>Format p-values</p></a></li>
<li><a href='#strutils'><p>Utility functions to treat characters</p></a></li>
<li><a href='#sum.n'><p>sum weighted on the number of non-missing values</p></a></li>
<li><a href='#to_csv'><p>Export into a csv file with a format csv companions for factors</p></a></li>
<li><a href='#view'><p>view methods</p></a></li>
<li><a href='#xf'><p>Methods that apply a function across a levels of one or more</p>
factors</a></li>
<li><a href='#xtab'><p>Crosstabulations using formula</p></a></li>
<li><a href='#xyboth'><p>Utility function to match 2 indices</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Note:</td>
<td>-*- Encoding: utf-8 -*-</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Charles's Utility Function using Formula</td>
</tr>
<tr>
<td>Version:</td>
<td>1.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-03-22</td>
</tr>
<tr>
<td>Author:</td>
<td>Charles-Édouard Giguère</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Charles-Édouard Giguère &lt;ce.giguere@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>openxlsx, xtable, DT, lmerTest, nlme, haven, dplyr, clipr</td>
</tr>
<tr>
<td>Description:</td>
<td>Utility functions that provides wrapper to descriptive base functions
  like cor, mean and table.  It makes use of the formula interface to pass
  variables to functions.  It also provides operators to concatenate (%+%), to
  repeat (%n%) and manage character vectors for nice display.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>TRUE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/giguerch/CUFF">https://github.com/giguerch/CUFF</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-23 11:28:49 UTC; gigc2</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-23 11:52:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='cf'>Extract and format coefficients table</h2><span id='topic+cf'></span>

<h3>Description</h3>

<p>This function extract coefficients tables from common statistical
model (lm/glm/lme/lmer/t-test) and format them. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cf(x, addci = TRUE, pv.style = 1, signif = 2, expcf, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cf_+3A_x">x</code></td>
<td>
<p>x is a lm/glm/lme/lmer/t.test model</p>
</td></tr>
<tr><td><code id="cf_+3A_addci">addci</code></td>
<td>
<p>Logical value that tells R to add a 95% confidence
interval to the output. True by default.</p>
</td></tr>
<tr><td><code id="cf_+3A_pv.style">pv.style</code></td>
<td>
<p>Integer specifying the style (1 or 2) of p-value
formatting. See <code>help(pv)</code> for details</p>
</td></tr>
<tr><td><code id="cf_+3A_signif">signif</code></td>
<td>
<p>Either an integer specifying the number of significant
digits or a dimension 3 vector for respectively the estimate,
standard error and t-value</p>
</td></tr>
<tr><td><code id="cf_+3A_expcf">expcf</code></td>
<td>
<p>Logical value that tells R to add exponentiated value of
estimate. Set to FALSE except if the model specifies a logistic
regression (family = binomial)</p>
</td></tr>
<tr><td><code id="cf_+3A_...">...</code></td>
<td>
<p>Not used yet</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.frame of formatted characters of the coefficient table.
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>lm1 &lt;- lm(Sepal.Length ~ Species, iris)
cf(lm1)
</code></pre>

<hr>
<h2 id='clip'>Send to clipboard</h2><span id='topic+clip'></span>

<h3>Description</h3>

<p>This is a function that sends a table-like object to the clipboard to
paste it quickly on an external program. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clip(x, sep = "\t", row.names = FALSE, quote = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clip_+3A_x">x</code></td>
<td>
<p>x is a table a matrix or a data.frame to send to clipboard</p>
</td></tr>
<tr><td><code id="clip_+3A_sep">sep</code></td>
<td>
<p>Type of separator for the output</p>
</td></tr>
<tr><td><code id="clip_+3A_row.names">row.names</code></td>
<td>
<p>Logical value (T/F) to include or exclude row names</p>
</td></tr>
<tr><td><code id="clip_+3A_quote">quote</code></td>
<td>
<p>logical value to print or exclude quotation marks.</p>
</td></tr>
<tr><td><code id="clip_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code>write.table</code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No output. The results is printed to the clipboard.
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>

<hr>
<h2 id='correlation'>Bivariate correlations</h2><span id='topic+correlation'></span><span id='topic+print.corr'></span>

<h3>Description</h3>

<p>This is a function that creates correlation matrix objects that can be
printed with the corresponding N and p-values. It is a wrapper for cor
and cor.test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>correlation(x, y = NULL, method = "pearson",
            alternative = "two.sided", exact = NULL,
            use = "pairwise.complete.obs",
            continuity = FALSE, data = NULL)
## S3 method for class 'corr'
print(x, ... , toLatex = FALSE, cutstr = NULL, toMarkdown = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="correlation_+3A_x">x</code></td>
<td>
<p>x is a matrix/<code>data.frame</code> or a formula defining which
variable to use in the correlation matrix (see details).</p>
</td></tr>
<tr><td><code id="correlation_+3A_y">y</code></td>
<td>
<p>y is a matrix/<code>data.frame</code> to correlate against x. If x
is a formula y is passed to data argument</p>
</td></tr>
<tr><td><code id="correlation_+3A_method">method</code></td>
<td>
<p>Method used to compute correlations.</p>
</td></tr>
<tr><td><code id="correlation_+3A_alternative">alternative</code></td>
<td>
<p>Unilateral (<code>one.sided</code>) test or bilateral
(<code>two.sided</code>) test. See <code>help(cor)</code> for more details.</p>
</td></tr> 
<tr><td><code id="correlation_+3A_exact">exact</code></td>
<td>
<p>Logical value to know if a p.value is exact or
asymptotic. See <code>help(cor)</code> for more details.</p>
</td></tr>
<tr><td><code id="correlation_+3A_use">use</code></td>
<td>
<p>Methods to deal with missing values.</p>
</td></tr>
<tr><td><code id="correlation_+3A_continuity">continuity</code></td>
<td>
<p>Logical value to know if continuity correction
must be used. See <code>help(cor)</code> for more details.</p>
</td></tr>
<tr><td><code id="correlation_+3A_...">...</code></td>
<td>
<p>Unused in this function</p>
</td></tr>
<tr><td><code id="correlation_+3A_data">data</code></td>
<td>
<p>data.frame to use in conjuction with formula</p>
</td></tr>
<tr><td><code id="correlation_+3A_tolatex">toLatex</code></td>
<td>
<p>Logical value to know if output displayed as a latex
tabular environment.</p>
</td></tr>
<tr><td><code id="correlation_+3A_cutstr">cutstr</code></td>
<td>
<p> Optional digits that cut the length of variable names</p>
</td></tr>
<tr><td><code id="correlation_+3A_tomarkdown">toMarkdown</code></td>
<td>
<p>Logical value to know if output should be displayed as a markdown table for report</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with correlations, N for each pair of correlations and
p.value for each correlations.
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>require(CUFF)
X=rnorm(10)
Y=rnorm(10)
correlation(cbind(X,Y))
</code></pre>

<hr>
<h2 id='cross'>Crosstabs</h2><span id='topic+cross'></span>

<h3>Description</h3>

<p>Functions to display (2 x 2) contingency table</p>


<h3>Usage</h3>

<pre><code class='language-R'>cross(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cross_+3A_x">x</code></td>
<td>
<p> Object of type <code>table</code> or <code>formula</code>,
<code>vector</code> to tabulate</p>
</td></tr>
<tr><td><code id="cross_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>table</code> of <code>xtabs</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>xtab</code> functions corrects the inability to deal with missing
values in the original <code>xtabs</code> that comes with R base. 
</p>


<h3>Value</h3>

<p>The <code>cross</code> methods returns an object of type <code>cross</code> with the
original table and the marginal percentages by row and by column. A
print methods is associated with a <code>cross</code> object. <code>xtab</code> returns
an object of type <code>table</code> (see details). Total returns a sum with
<code>na.rm=TRUE</code> by default and replaces NA with 0. 
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(CUFF)
### example of crosstabs
cr1 &lt;- cross( ~ N + P, npk)
print(cr1, test = c("chisq.test", "fisher.test"))
</code></pre>

<hr>
<h2 id='freq'>Frequencies</h2><span id='topic+freq'></span><span id='topic+print.frequencies'></span>

<h3>Description</h3>

<p>Functions to display frequency </p>


<h3>Usage</h3>

<pre><code class='language-R'>freq(x, y = NULL, ..., labels = NULL, data = NULL)
## S3 method for class 'frequencies'
print(x, ..., toLatex = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="freq_+3A_x">x</code></td>
<td>
<p> Object of type <code>formula</code>, <code>matrix</code> or
<code>data.frame</code></p>
</td></tr>
<tr><td><code id="freq_+3A_y">y</code></td>
<td>
<p>If x is a formula,<code>y</code> or <code>data</code> contains the data
from x or are set to NULL if the variables are in the main
environment</p>
</td></tr>
<tr><td><code id="freq_+3A_...">...</code></td>
<td>
<p>used for compatibility</p>
</td></tr>
<tr><td><code id="freq_+3A_labels">labels</code></td>
<td>
<p>Optional vector of labels the same length as the
dimension of x or the number of variables in formula.</p>
</td></tr>
<tr><td><code id="freq_+3A_data">data</code></td>
<td>
<p>see y for details</p>
</td></tr>
<tr><td><code id="freq_+3A_tolatex">toLatex</code></td>
<td>
<p>Logical value that indicates if the print methods
should return a tabular latex environment to use with Sweave or knitr.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>freq</code> methods returns an object of type <code>frequencies</code>
object with a <code>print</code> methods associated. 
</p>


<h3>Value</h3>

<p>An object of type &quot;frequencies&quot; that is a list of <code>matrix</code> containing
the frequencies the % and the % with missing value.
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(CUFF)
### example of crosstabs
fr1 &lt;- freq( ~ N + P, npk, c("Nitrogen", "Phosphate"))
fr1
### To use with sweave or knitr.
print(fr1, toLatex = TRUE)
</code></pre>

<hr>
<h2 id='ftab'>Fonctions pour ajouter les pourcentages dans les tables</h2><span id='topic+ftab'></span>

<h3>Description</h3>

<p>La fonction retourne une table avec le contenu en
caractères de la fréquence et du pourcentage</p>


<h3>Usage</h3>

<pre><code class='language-R'>ftab(xt, margin = seq_along(dim(xt)), fmt = "%d (%5.1f %%)", quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ftab_+3A_xt">xt</code></td>
<td>
<p>Une table de contingence généré avec table ou xtabs</p>
</td></tr>
<tr><td><code id="ftab_+3A_margin">margin</code></td>
<td>
<p> Si 2x2, est que le pourcentage est en ligne (1) ou en
colonne(2) ou total (1:2). Par défaut, pourcentage total. Ne sert à rien
lorsque le tableau est à une dimension. </p>
</td></tr>
<tr><td><code id="ftab_+3A_fmt">fmt</code></td>
<td>
<p>format d'affichage</p>
</td></tr>
<tr><td><code id="ftab_+3A_quiet">quiet</code></td>
<td>
<p>Valeur logique qui indique si le tableau est imprimé</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Retourne une table avec le contenu en caractères de la frequence et du
pourcentage
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>ex &lt;- as.table(cbind(3:4,5:6))
ftab(ex,2)
</code></pre>

<hr>
<h2 id='meansd'>function to compute mean and sd into a single string</h2><span id='topic+meansd'></span>

<h3>Description</h3>

<p>Methods that estimates a mean and sd and stores it into a
single string</p>


<h3>Usage</h3>

<pre><code class='language-R'> meansd(x, digits = c(1, 1)) </code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meansd_+3A_x">x</code></td>
<td>
<p>A vector of numeric value</p>
</td></tr>
<tr><td><code id="meansd_+3A_digits">digits</code></td>
<td>
<p>digits for respectively the mean and sd. If a single
value is entered it applies to mean and sd</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string containing mean and sd with entered digit precisions.
</p>


<h3>Author(s)</h3>

 <p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>xf(Sepal.Width ~ Species, iris, meansd)
</code></pre>

<hr>
<h2 id='pal_CUFF'>Palette de couleurs</h2><span id='topic+pal_CUFF'></span>

<h3>Description</h3>

<p>A 10 color palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pal_CUFF(n = 10, pal = "CUFF")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pal_CUFF_+3A_n">n</code></td>
<td>
<p>Integer indicating the number of color desired (1-10)</p>
</td></tr>
<tr><td><code id="pal_CUFF_+3A_pal">pal</code></td>
<td>
<p>The only value possible for now is CUFF</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of color.  
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>pal_CUFF(3)
</code></pre>

<hr>
<h2 id='printcross'>Crosstabs print methods</h2><span id='topic+print.cross'></span>

<h3>Description</h3>

<p>Functions to display (2 x 2) contingency table</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cross'
print(x, ..., test = "chisq.test", export = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="printcross_+3A_x">x</code></td>
<td>
<p> Object of type <code>cross</code> to print</p>
</td></tr>
<tr><td><code id="printcross_+3A_...">...</code></td>
<td>
<p>Unused arguments</p>
</td></tr>
<tr><td><code id="printcross_+3A_test">test</code></td>
<td>
<p> list of statistical tests (as character vector) passed to
the 2x2 table. By default, <code>test</code> is set to &quot;chisq.test&quot; which
performs a khi-square test with Yates continuity correction.</p>
</td></tr>
<tr><td><code id="printcross_+3A_export">export</code></td>
<td>
<p>Either &quot;pdf&quot; or &quot;xlsx&quot; or NUll. Crosstab is
flushed into either a pdf using latex or an Excel spreadsheet using
package openxlsx</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Export to &quot;pdf&quot;, &quot;xlsx&quot; open the crosstabs in the corresponding formats.
</p>


<h3>Value</h3>

<p>Print methods associated with the <code>cross</code> object.  
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>require(CUFF)
### example of crosstabs
cr1 &lt;- cross( ~ N + P, npk)
print(cr1, test = c("chisq.test", "fisher.test"))
</code></pre>

<hr>
<h2 id='pv'>Format p-values</h2><span id='topic+pv'></span>

<h3>Description</h3>

<p>This is a function that format p-values for publication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pv(p, style = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pv_+3A_p">p</code></td>
<td>
<p>A vector of p-values</p>
</td></tr>
<tr><td><code id="pv_+3A_style">style</code></td>
<td>
<p>By default (1), formatting according to APA style guide
version 6</p>
</td></tr>
</table>


<h3>Details</h3>

    
<ul>
<li>
<p>(1) APA: 2 digits of significance except if p is &lt;0.05. If p &lt; 0.05 we
use 3 digits of significance except if p &lt; 0.001 when we print
&quot;&lt;0.001&quot;.
</p>
</li>
<li>
<p>(2) Other: 4 digits of significance except if p &lt; 0.0001 when we print
&quot;&lt;0.0001&quot;.
</p>
</li></ul>



<h3>Value</h3>

<p>returns a character vector of formatted p-value. 
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- c(0.1563,0.0122,0.00001) 
pv(p)
</code></pre>

<hr>
<h2 id='strutils'>Utility functions to treat characters</h2><span id='topic++25+2B+25-methods'></span><span id='topic++25+2B+25'></span><span id='topic++25n+25'></span><span id='topic+paste'></span><span id='topic+numtostr'></span>

<h3>Description</h3>

<p>Function %+% paste characters with other characters pairwise.
Function %n% is used to repeat a character n time.  
Function <code>numtostr</code> converts numeric to a string in a nice
format. </p>


<h3>Usage</h3>

<pre><code class='language-R'>x %+% y
x %n% y
numtostr(x,nch,digits=4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strutils_+3A_x">x</code></td>
<td>
<p>Character vector or a numeric vector for <code>numtostr</code> functions</p>
</td></tr>
<tr><td><code id="strutils_+3A_y">y</code></td>
<td>
<p>Character vector</p>
</td></tr>
<tr><td><code id="strutils_+3A_nch">nch</code></td>
<td>
<p>(Optionnal) length of the resulting character vector</p>
</td></tr>
<tr><td><code id="strutils_+3A_digits">digits</code></td>
<td>
<p>Number of digits in the resulting strings</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function  %+% is an operator that shortens <code>paste(x, y,
    sep="")</code> see <code>help(paste)</code> for more options. Function
%n% returns the character vector x repeated y times. If both x and
y are vector each element of x are applied to each element of y.
Function <code>numtostr</code> converts numerical vector to a character
vector using a nice format. 
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>require(CUFF)
"Hello " %+% "world."
cat(" " %n%  c(rep(1,9),2) %+% 1:10,fill=TRUE)
### Returns a * because specified length of character is unsufficient. 
numtostr(9048948449.94948,nch=8)

</code></pre>

<hr>
<h2 id='sum.n'>sum weighted on the number of non-missing values</h2><span id='topic+sum.n'></span>

<h3>Description</h3>

<p>Methods that estimates a sum weighted by the number of non-missing values</p>


<h3>Usage</h3>

<pre><code class='language-R'> ## S3 method for class 'n'
sum(x,n = 1, ...) </code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sum.n_+3A_x">x</code></td>
<td>
<p>A vector of values possibly containing missing values.</p>
</td></tr>
<tr><td><code id="sum.n_+3A_n">n</code></td>
<td>
<p>Minimum number of valid values</p>
</td></tr>
<tr><td><code id="sum.n_+3A_...">...</code></td>
<td>
<p>extra parameters to sum</p>
</td></tr>
</table>


<h3>Details</h3>

<p> sum(x,n) = mean(x) * length(x) / n.valid(x) </p>


<h3>Value</h3>

<p>sum.n returns the values of the weighted sum.
</p>


<h3>Author(s)</h3>

 <p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>sum.n(c(1, 2, NA, NA), n = 2)
### [1] 6
sum.n(c(1, NA, NA, NA), n = 2)
### [1] NA
</code></pre>

<hr>
<h2 id='to_csv'>Export into a csv file with a format csv companions for factors</h2><span id='topic+to_csv'></span><span id='topic+column_types'></span>

<h3>Description</h3>

<p>This functions export a data frame into a csv file with a csv
companion file containing formats to properly reimport data into R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>column_types(data)
to_csv(data, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_csv_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> containing data to export</p>
</td></tr>
<tr><td><code id="to_csv_+3A_file">file</code></td>
<td>
<p>Name of the csv file to export to</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns nothing
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'># to_csv(iris,"iris.csv")
</code></pre>

<hr>
<h2 id='view'>view methods</h2><span id='topic+view'></span>

<h3>Description</h3>

<p>Wrapper to DT::datatable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>view(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="view_+3A_x">x</code></td>
<td>
<p>x is a matrix/<code>data.frame</code>/<code>table</code> format for viewing</p>
</td></tr>
<tr><td><code id="view_+3A_...">...</code></td>
<td>
<p>arguments passed to datatable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Export data to be viewed as a web page. See <code>help(datatable,
    package = "DT")</code> for further details. 
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>view(iris)
### add filter on top.
view(iris, filter = "top")
</code></pre>

<hr>
<h2 id='xf'>Methods that apply a function across a levels of one or more
factors</h2><span id='topic+xf'></span>

<h3>Description</h3>

<p>Methods that apply a function across a levels of one or more
factors. It works like aggregate but returns a table instead. It also
has a useNA options that adds NA as a level before applying the function.</p>


<h3>Usage</h3>

<pre><code class='language-R'>xf(formula, data, FUN, ..., subset, na.action = na.omit, useNA = FALSE, addmargins = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xf_+3A_formula">formula</code></td>
<td>
<p> Formula defining the variables. On the left is the
variable we are applying the function to, on the right, variables
defining levels of the tables</p>
</td></tr>
<tr><td><code id="xf_+3A_data">data</code></td>
<td>
<p>Data.frame containing the variables</p>
</td></tr>
<tr><td><code id="xf_+3A_fun">FUN</code></td>
<td>
<p>The function to apply to each subset of data</p>
</td></tr>
<tr><td><code id="xf_+3A_...">...</code></td>
<td>
<p>extra parameters to FUN</p>
</td></tr>
<tr><td><code id="xf_+3A_subset">subset</code></td>
<td>
<p>Vectors defining a subset of data.frame
(see <code>help(aggregate)</code>).</p>
</td></tr>
<tr><td><code id="xf_+3A_na.action">na.action</code></td>
<td>
<p>Action functions to deal with NA in data file</p>
</td></tr>
<tr><td><code id="xf_+3A_usena">useNA</code></td>
<td>
<p>Make NA a level of the factors (if any)</p>
</td></tr>
<tr><td><code id="xf_+3A_addmargins">addmargins</code></td>
<td>
<p>Add function applied to the margins of each category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>xf returns an object &quot;xf&quot; that behaves like a table with all
associated methods.</p>


<h3>Author(s)</h3>

 <p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- xf(Sepal.Length~Species,iris,mean)
barplot(res)</code></pre>

<hr>
<h2 id='xtab'>Crosstabulations using formula</h2><span id='topic+xtab'></span><span id='topic+Total'></span>

<h3>Description</h3>

<p>Functions to create contingency table using formula</p>


<h3>Usage</h3>

<pre><code class='language-R'>xtab(formula, data, useNA = FALSE, exclude = c(NA,NaN), miss.char = "-",
     na.action = na.exclude, subset = NULL, sparse = FALSE,
     drop.unused.levels = FALSE)
Total(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xtab_+3A_formula">formula</code></td>
<td>
<p> Object of class <code>cross</code> to be printed</p>
</td></tr>
<tr><td><code id="xtab_+3A_data">data</code></td>
<td>
<p>data frame to use with formula</p>
</td></tr>
<tr><td><code id="xtab_+3A_usena">useNA</code></td>
<td>
<p>logical values to add NA to the levels in the table</p>
</td></tr>
<tr><td><code id="xtab_+3A_exclude">exclude</code></td>
<td>
<p>levels to exclude from table</p>
</td></tr>
<tr><td><code id="xtab_+3A_miss.char">miss.char</code></td>
<td>
<p>Character to replace NA</p>
</td></tr>
<tr><td><code id="xtab_+3A_na.action">na.action</code></td>
<td>
<p>methods to deal with NA</p>
</td></tr>
<tr><td><code id="xtab_+3A_subset">subset</code></td>
<td>
<p>subset to use in data</p>
</td></tr>
<tr><td><code id="xtab_+3A_sparse">sparse</code></td>
<td>
<p>see <code>help(xtabs)</code> for details</p>
</td></tr>
<tr><td><code id="xtab_+3A_drop.unused.levels">drop.unused.levels</code></td>
<td>
<p>logical values indicating whether we drop
empty levels</p>
</td></tr>
<tr><td><code id="xtab_+3A_x">x</code></td>
<td>
<p>numerical vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>xtab</code> functions corrects the inability to deal with missing
values in the original <code>xtabs</code> that comes with R base. Total is
a utility function to use in conjunction with addmargins instead of sum.
</p>


<h3>Value</h3>

<p><code>xtab</code> returns an object of type <code>table</code> (see
details). Total returns a sum with <code>na.rm=TRUE</code> by
default and replaces NA with 0. 
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>require(CUFF)
### example of crosstabs
xtab( ~ N + P, npk)
</code></pre>

<hr>
<h2 id='xyboth'>Utility function to match 2 indices</h2><span id='topic+xyboth'></span><span id='topic++25xyb+25'></span>

<h3>Description</h3>

<p>Function %xyb% or xyboth(x, y) shows index present in x, y and both</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %xyb% y
xyboth(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xyboth_+3A_x">x</code></td>
<td>
<p>vector(matrix/dataframe) of indices</p>
</td></tr>
<tr><td><code id="xyboth_+3A_y">y</code></td>
<td>
<p>vector(matrix/dataframe) of indices</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with indices present only in x and y and in both. 
</p>


<h3>Author(s)</h3>

<p>Charles-Édouard Giguère </p>


<h3>Examples</h3>

<pre><code class='language-R'>require(CUFF)
xyboth(1:5, 3:6)
### $x
### [1] "1" "2"
### 
### $y
### [1] "6"
### 
### $both
### [1] "3" "4" "5"
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package DyMEP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {DyMEP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#asymptotic_prediction'><p>DRC function: asymptotic_prediction</p></a></li>
<li><a href='#available_crops_and_phases'><p>available_crops_and_phases</p></a></li>
<li><a href='#available_environmental_covariates'><p>available_environmental_covariates</p>
check what environmental covariates are implemented, use or alter prediction
these abbreviations and the corresponding unit</a></li>
<li><a href='#best_DyMEP_model'><p>A function to get the best model with the environmental covariates at hand</p></a></li>
<li><a href='#DyMEP'><p>Dynamic Multi Environment Phenology-Model</p></a></li>
<li><a href='#DyMEP_DRC_visualizer'><p>DyMEP_DRC_visualizer</p></a></li>
<li><a href='#DyMEP_prediction_visualizer'><p>DyMEP_prediction_visualizer</p></a></li>
<li><a href='#envpredutils.cumulative_dose_response_pred_helper'><p>function to calculate cumulative response</p></a></li>
<li><a href='#envpredutils.data_frame_to_list'><p>A function to get the best model with the covariates at hand</p></a></li>
<li><a href='#envpredutils.env_period_cutter'><p>A function to cut the environmental data into the correct length</p></a></li>
<li><a href='#envpredutils.GLM_prediction_df_creator'><p>create DF suitable to predict with GLM</p></a></li>
<li><a href='#envpredutils.model_selecter'><p>A function to get the wanted model</p></a></li>
<li><a href='#envpredutils.period_date_creator'><p>A function to create a date vector</p></a></li>
<li><a href='#envpredutils.pheno_phase_prediction_glm_model'><p>apply the prediction with glm model</p></a></li>
<li><a href='#get_parameters'><p>A function to download additional crop parameters</p></a></li>
<li><a href='#non_linear_prediction'><p>DRC function: non_linear_prediction</p></a></li>
<li><a href='#pheno_phase_prediction'><p>function to predict the a phenological phase in winter wheat</p></a></li>
<li><a href='#predhelp.check_pheno_phase_order'><p>predhelp.check_pheno_phase_order</p></a></li>
<li><a href='#predhelputils.get_all_permutations'><p>A function to get all potential permutations</p></a></li>
<li><a href='#reg_linear_prediction'><p>DRC function: reg_linear_prediction</p></a></li>
<li><a href='#summary'><p>Summary method for DyMEP class</p></a></li>
<li><a href='#WangEngels_prediction'><p>DRC function: WangEngels_prediction</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Dynamic Multi Environment Phenology-Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Flavian Tschurr</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Flavian Tschurr &lt;flavian.tschurr@usys.ethz.ch&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Mechanistically models/predicts the phenology (macro-phases) of 10 crop plants (trained on a big dataset over 80 years derived from the German weather service (DWD) <a href="https://opendata.dwd.de/">https://opendata.dwd.de/</a>). Can be applied for remote sensing purposes, dynamically check the best subset of available covariates for the given dataset and crop.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-30 07:15:23 UTC; ftschurr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-02 11:53:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='asymptotic_prediction'>DRC function: asymptotic_prediction</h2><span id='topic+asymptotic_prediction'></span>

<h3>Description</h3>

<p>DRC function: asymptotic_prediction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asymptotic_prediction(x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="asymptotic_prediction_+3A_x">x</code></td>
<td>
<p>input variable</p>
</td></tr>
<tr><td><code id="asymptotic_prediction_+3A_params">params</code></td>
<td>
<p>list of input parameter;
Asym  a numeric parameter representing the horizontal asymptote
on the right side (very large values of input). ;
lrc     a numeric parameter representing the natural
logarithm of the rate constant;
c0      a numeric parameter representing the x for which the response is zero.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>value with asymptotic response
</p>


<h3>Examples</h3>

<pre><code class='language-R'>asymptotic_prediction(5,list("Asym_value"=0.5,
                    "lrc_value"=0.2,
                      "c0_value"=4))
# visualization
asymptote &lt;- lapply(seq(0, 10, 0.1),
asymptotic_prediction,
list("Asym_value"=0.5, "lrc_value"=0.2, "c0_value"=4))
plot(seq(0, 10, 0.1), asymptote)
</code></pre>

<hr>
<h2 id='available_crops_and_phases'>available_crops_and_phases</h2><span id='topic+available_crops_and_phases'></span>

<h3>Description</h3>

<p>check what crops and corresponding phenology phases are available at the
moment. Chose a crop (crop_abbrev), phenological phase from the output of
this function further usage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_crops_and_phases()
</code></pre>


<h3>Value</h3>

<p>dataframe with available crops and phenology phases
</p>


<h3>Examples</h3>

<pre><code class='language-R'>available_crops_and_phases()
</code></pre>

<hr>
<h2 id='available_environmental_covariates'>available_environmental_covariates
check what environmental covariates are implemented, use or alter prediction
these abbreviations and the corresponding unit</h2><span id='topic+available_environmental_covariates'></span>

<h3>Description</h3>

<p>available_environmental_covariates
check what environmental covariates are implemented, use or alter prediction
these abbreviations and the corresponding unit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_environmental_covariates()
</code></pre>


<h3>Value</h3>

<p>dataframe with available environmental covariates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>available_environmental_covariates()
</code></pre>

<hr>
<h2 id='best_DyMEP_model'>A function to get the best model with the environmental covariates at hand</h2><span id='topic+best_DyMEP_model'></span>

<h3>Description</h3>

<p>A function to get the best model with the environmental covariates at hand
</p>


<h3>Usage</h3>

<pre><code class='language-R'>best_DyMEP_model(
  env_covariates,
  pheno_phases,
  crop_abbrev,
  skillscore_to_select = "RMSE",
  return_just_best = TRUE,
  output_list_for_prediction = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="best_DyMEP_model_+3A_env_covariates">env_covariates</code></td>
<td>
<p>the environmental
covariates you have at hand; inputs as character strings naming the available
environmental covariate</p>
</td></tr>
<tr><td><code id="best_DyMEP_model_+3A_pheno_phases">pheno_phases</code></td>
<td>
<p>the phenological phases you are interested in. Input
as character string, available phenological phases do depend on the chosen
crop (use available_crops_and_phases())</p>
</td></tr>
<tr><td><code id="best_DyMEP_model_+3A_crop_abbrev">crop_abbrev</code></td>
<td>
<p>the abbreviation of the wanted crop</p>
</td></tr>
<tr><td><code id="best_DyMEP_model_+3A_skillscore_to_select">skillscore_to_select</code></td>
<td>
<p>the skillscore according to which you want to
select (Default = &quot;RMSE); available options: &quot;RMSE&quot;, &quot;MAE&quot;, &quot;cor&quot;, &quot;AIC&quot; and
&quot;SumLogLikelihood&quot;</p>
</td></tr>
<tr><td><code id="best_DyMEP_model_+3A_return_just_best">return_just_best</code></td>
<td>
<p>decide whether you want to get a list of all
potential options back, or just the best (default = TRUE)</p>
</td></tr>
<tr><td><code id="best_DyMEP_model_+3A_output_list_for_prediction">output_list_for_prediction</code></td>
<td>
<p>boolean (TRUE/FALSE), if TRUE the output
of this function is a list which can directly be used for the
pheno_phase_prediction function as input (phase_covariate_list). Select
return_just_best also as TRUE if this output is wished</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe with the best models selected for the given input arguments
</p>


<h3>Fields</h3>


<dl>
<dt><code>abbrev</code></dt><dd><p>Description of crop_abbrev column.</p>
</dd>
<dt><code>pheno_phase</code></dt><dd><p>Description of pheno_phase column.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>best_DyMEP_model(env_covariates =  c("tas","VPD"),
      pheno_phases = c("sowing-emergence"),
      crop_abbrev = "WW")
</code></pre>

<hr>
<h2 id='DyMEP'>Dynamic Multi Environment Phenology-Model</h2><span id='topic+DyMEP'></span>

<h3>Description</h3>

<p>Empirically models/predicts the phenology (macro-phases) of 10 crop
plants (trained on a big dataset over 80 years derived from the German
weather service (DWD)). Can be applied for remote sensing purposes,
environmental inputs can be chosen from a range of pre-trained response
curves and applied to the trained crops and phenological phases.
No retraining is done within the use of this package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>available &lt;- available_crops_and_phases()
#what is the best environmental covariates for one or multiple phases?
# check what covairates are implemented in the model
available_covariates &lt;- available_environmental_covariates()

best_DyMEP_model(env_covariates = c("tas","tasmin","VPD","SPI",
"global_radiation","tasmax","RH"),
                pheno_phases = c("sowing-emergence","jointing-heading"),
                crop_abbrev = "WW")
# create a list of wanted phases and corresponding environmental covariates
phase_covariate_list &lt;- list("sowing-emergence" = c("tasmin","VPD","SPI"),
                         "emergence-jointing"= c("tas","tasmin","VPD","SPI"),
                     "jointing-heading" = c("global_radiation","tas","SPI"))

# alternatively you can create this input list directly like this with the
# best available model:
phase_covariate_list &lt;- best_DyMEP_model(env_covariates =
c("tas","tasmin","VPD","SPI","global_radiation","tasmax","RH"),
pheno_phases = c("sowing-emergence","emergence-jointing","jointing-heading"),
crop_abbrev = "WW",
output_list_for_prediction = TRUE)


# create dummy environmental data
environmental_data &lt;- data.frame("DATE" = seq.Date(
              from = as.Date("2021-01-01"), to = as.Date("2023-12-31"),by=1),
                          "tas"=runif(1095,min=-10,max=40),
                           "RH"=runif(1095,min=0,max=100),
                           "tasmin"=runif(1095,min=-10,max=40),
                           "tasmax"=runif(1095,min=-5,max=40),
                           "VPD" = runif(1095,min=0,max=40),
                           "SPI"= runif(1095,min=-1,max=4),
                           "global_radiation"= runif(1095,min=0,max=3500))


pheno_phase_prediction(phase_covariate_list = phase_covariate_list,
                      environmental_data = environmental_data,
                      phase_starting_date =as.Date("2021-01-01"),
                      crop_abbrev = "WW")

 # you can also get a more detailed output, containing detailed predictions
 # and the parameters of the used DRC curves:
 detailed_output &lt;- pheno_phase_prediction(
            phase_covariate_list = phase_covariate_list,
            environmental_data = environmental_data,
            phase_starting_date =as.Date("2021-01-01"),
            crop_abbrev = "WW",
            output_type = "detailed_information")

 #  this output can be visualised like:
 # get overview plot of the prediction
 DyMEP_prediction_visualizer(detailed_output)
 # check the DRC curves of the used model
 DyMEP_DRC_visualizer(detailed_output)

</code></pre>

<hr>
<h2 id='DyMEP_DRC_visualizer'>DyMEP_DRC_visualizer</h2><span id='topic+DyMEP_DRC_visualizer'></span>

<h3>Description</h3>

<p>Visualizes the Dose-Response Curves (DRC) for each phenological phase and
environmental covariate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DyMEP_DRC_visualizer(detailed_output)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DyMEP_DRC_visualizer_+3A_detailed_output">detailed_output</code></td>
<td>
<p>Output of the pheno_phase_prediction function with
output_type = &quot;detailed_information&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns plots showing the DRC curves for each phenological phase and
environmental covariate. Each row represents a phenology phase.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>phase_covariate_list &lt;- best_DyMEP_model(env_covariates =
c("tas","tasmin","VPD","SPI","global_radiation","tasmax","RH"),
pheno_phases = c("sowing-emergence","emergence-jointing","jointing-heading"),
crop_abbrev = "WW",
output_list_for_prediction = TRUE)
# create dummy environmental data
environmental_data&lt;- data.frame("DATE"=seq.Date(from = as.Date("2021-01-01"),
                   to = as.Date("2023-12-31"),by=1),
                                "tas"=runif(1095,min=-10,max=40),
                                "RH"=runif(1095,min=0,max=100),
                                "tasmin"=runif(1095,min=-10,max=40),
                                "tasmax"=runif(1095,min=0,max=40),
                                "VPD" = runif(1095,min=0,max=40),
                                "SPI"= runif(1095,min=-1,max=4),
                             "global_radiation"= runif(1095,min=0,max=3500))

DyMEP_DRC_visualizer(detailed_output = pheno_phase_prediction(
phase_covariate_list = phase_covariate_list,
environmental_data = environmental_data,
phase_starting_date =as.Date("2021-01-01"),
crop_abbrev = "WW",
output_type = "detailed_information")
)
</code></pre>

<hr>
<h2 id='DyMEP_prediction_visualizer'>DyMEP_prediction_visualizer</h2><span id='topic+DyMEP_prediction_visualizer'></span>

<h3>Description</h3>

<p>Visualizes the predictions of the DyMEP model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DyMEP_prediction_visualizer(detailed_output)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DyMEP_prediction_visualizer_+3A_detailed_output">detailed_output</code></td>
<td>
<p>Output of the pheno_phase_prediction function with
output_type = &quot;detailed_information&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with one panel per phenology phase, showing the environmental
covariate responses, the GLM prediction, and the phase prediction
(points).
</p>


<h3>Fields</h3>


<dl>
<dt><code>timestamp</code></dt><dd><p>Description of timestamp column.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>phase_covariate_list &lt;- best_DyMEP_model(env_covariates =
             c("tas","tasmin","VPD","SPI","global_radiation","tasmax","RH"),
           pheno_phases = c("sowing-emergence","emergence-jointing",
           "jointing-heading"),
                                        crop_abbrev = "WW",
                                        output_list_for_prediction = TRUE)

# Create dummy environmental data
environmental_data &lt;- data.frame("DATE" =
                                       seq.Date(from = as.Date("2021-01-01"),
                                         to = as.Date("2023-12-31"), by = 1),
                      "tas" = runif(1095, min = -10, max = 40),
                       "RH" = runif(1095, min = 0, max = 100),
                       "tasmin" = runif(1095, min = -10, max = 40),
                       "tasmax" = runif(1095, min = 0, max = 40),
                       "VPD" = runif(1095, min = 0, max = 40),
                       "SPI" = runif(1095, min = -1, max = 4),
                       "global_radiation" = runif(1095, min = 0, max = 3500))

DyMEP_prediction_visualizer(detailed_output = pheno_phase_prediction(
                                 phase_covariate_list = phase_covariate_list,
                                 environmental_data = environmental_data,
                                 phase_starting_date = as.Date("2021-01-01"),
                                 crop_abbrev = "WW",
                                 output_type = "detailed_information"))

</code></pre>

<hr>
<h2 id='envpredutils.cumulative_dose_response_pred_helper'>function to calculate cumulative response</h2><span id='topic+envpredutils.cumulative_dose_response_pred_helper'></span>

<h3>Description</h3>

<p>wrapper function to apply the response_prediction
function in a &quot;weighted&quot; manner and do some gap filling of the env data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envpredutils.cumulative_dose_response_pred_helper(
  env_data_vector,
  .response_function.,
  parameters
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envpredutils.cumulative_dose_response_pred_helper_+3A_env_data_vector">env_data_vector</code></td>
<td>
<p>environmental covariate to predict on</p>
</td></tr>
<tr><td><code id="envpredutils.cumulative_dose_response_pred_helper_+3A_.response_function.">.response_function.</code></td>
<td>
<p>dose response function</p>
</td></tr>
<tr><td><code id="envpredutils.cumulative_dose_response_pred_helper_+3A_parameters">parameters</code></td>
<td>
<p>parameters of the response function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns vector with cumulative sum
</p>

<hr>
<h2 id='envpredutils.data_frame_to_list'>A function to get the best model with the covariates at hand</h2><span id='topic+envpredutils.data_frame_to_list'></span>

<h3>Description</h3>

<p>A function to get the best model with the covariates at hand
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envpredutils.data_frame_to_list(env_data_frame)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envpredutils.data_frame_to_list_+3A_env_data_frame">env_data_frame</code></td>
<td>
<p>data.frame with the necessary environmental data,
one column must be &quot;DATE&quot; (as.Date format), the others with the names
of the environmental covariates (e.g. tas, tasmin etc.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list for later glm prediction
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envpredutils.data_frame_to_list(data.frame("tas"=c(1:100),
 "VPD"=c(1:100), "DATE"=c(1:100)))
</code></pre>

<hr>
<h2 id='envpredutils.env_period_cutter'>A function to cut the environmental data into the correct length</h2><span id='topic+envpredutils.env_period_cutter'></span>

<h3>Description</h3>

<p>A function to cut the environmental data into the correct length
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envpredutils.env_period_cutter(
  start_date,
  env_variables,
  env_data,
  max_period_length = 300
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envpredutils.env_period_cutter_+3A_start_date">start_date</code></td>
<td>
<p>start of the phase</p>
</td></tr>
<tr><td><code id="envpredutils.env_period_cutter_+3A_env_variables">env_variables</code></td>
<td>
<p>name of the wanted variables</p>
</td></tr>
<tr><td><code id="envpredutils.env_period_cutter_+3A_env_data">env_data</code></td>
<td>
<p>actual environmental data</p>
</td></tr>
<tr><td><code id="envpredutils.env_period_cutter_+3A_max_period_length">max_period_length</code></td>
<td>
<p>in order to reduce computing time, a maximal
amount of days will be considered (default = 300); if less data available,
less days will be considered</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with cut environmental covariates for the given period
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envpredutils.env_period_cutter(Sys.Date(),
c("tas"), list("tas"=data.frame("DATE"= seq(as.Date(Sys.Date()),
 (Sys.Date()+100),by="day"),
  "VALUE"= c(1:101))), 50)
</code></pre>

<hr>
<h2 id='envpredutils.GLM_prediction_df_creator'>create DF suitable to predict with GLM</h2><span id='topic+envpredutils.GLM_prediction_df_creator'></span>

<h3>Description</h3>

<p>create DF suitable to predict with GLM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envpredutils.GLM_prediction_df_creator(resposne_predictions, timestamp_vect)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envpredutils.GLM_prediction_df_creator_+3A_resposne_predictions">resposne_predictions</code></td>
<td>
<p>prediction output</p>
</td></tr>
<tr><td><code id="envpredutils.GLM_prediction_df_creator_+3A_timestamp_vect">timestamp_vect</code></td>
<td>
<p>vector with timestamps</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame for glm prediction
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envpredutils.GLM_prediction_df_creator(list("tas"=list("growth_cumulative"=
                                    c(1))),timestamp_vect = Sys.Date())
</code></pre>

<hr>
<h2 id='envpredutils.model_selecter'>A function to get the wanted model</h2><span id='topic+envpredutils.model_selecter'></span>

<h3>Description</h3>

<p>A function to get the wanted model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envpredutils.model_selecter(
  crop_abbrev,
  pheno_phase,
  env_variables,
  external_params_path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envpredutils.model_selecter_+3A_crop_abbrev">crop_abbrev</code></td>
<td>
<p>abbreviation of the crop</p>
</td></tr>
<tr><td><code id="envpredutils.model_selecter_+3A_pheno_phase">pheno_phase</code></td>
<td>
<p>phenological phase</p>
</td></tr>
<tr><td><code id="envpredutils.model_selecter_+3A_env_variables">env_variables</code></td>
<td>
<p>vector with the wanted environmental variables</p>
</td></tr>
<tr><td><code id="envpredutils.model_selecter_+3A_external_params_path">external_params_path</code></td>
<td>
<p>path where additional crop parameters should be
stored if not possible to download in to the regular R repository. The
default is NULL, which will use the regular R repository as path</p>
</td></tr>
</table>


<h3>Value</h3>

<p>model name from pre fitted models
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envpredutils.model_selecter("WW","sowing-emergence",c("tas"))
</code></pre>

<hr>
<h2 id='envpredutils.period_date_creator'>A function to create a date vector</h2><span id='topic+envpredutils.period_date_creator'></span>

<h3>Description</h3>

<p>A function to create a date vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envpredutils.period_date_creator(start_date, period_length)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envpredutils.period_date_creator_+3A_start_date">start_date</code></td>
<td>
<p>start of the phase</p>
</td></tr>
<tr><td><code id="envpredutils.period_date_creator_+3A_period_length">period_length</code></td>
<td>
<p>length of the period</p>
</td></tr>
</table>


<h3>Value</h3>

<p>sequence of dates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envpredutils.period_date_creator(as.Date("2024-01-15"),100)
</code></pre>

<hr>
<h2 id='envpredutils.pheno_phase_prediction_glm_model'>apply the prediction with glm model</h2><span id='topic+envpredutils.pheno_phase_prediction_glm_model'></span>

<h3>Description</h3>

<p>apply the prediction with glm model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envpredutils.pheno_phase_prediction_glm_model(
  env_data_pheno_phase,
  pheno_phase,
  crop_abbrev,
  model,
  output_type = "dates"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envpredutils.pheno_phase_prediction_glm_model_+3A_env_data_pheno_phase">env_data_pheno_phase</code></td>
<td>
<p>environmental data required to predict the phase</p>
</td></tr>
<tr><td><code id="envpredutils.pheno_phase_prediction_glm_model_+3A_pheno_phase">pheno_phase</code></td>
<td>
<p>phenological phase</p>
</td></tr>
<tr><td><code id="envpredutils.pheno_phase_prediction_glm_model_+3A_crop_abbrev">crop_abbrev</code></td>
<td>
<p>abbreviation of the crop</p>
</td></tr>
<tr><td><code id="envpredutils.pheno_phase_prediction_glm_model_+3A_model">model</code></td>
<td>
<p>the selected model to predict the wanted phenological phase</p>
</td></tr>
<tr><td><code id="envpredutils.pheno_phase_prediction_glm_model_+3A_output_type">output_type</code></td>
<td>
<p>either &quot;dates&quot; or &quot;detailed_information&quot;; defines what
output of the model they user wants to have as return,
default is set to &quot;dates&quot;. If a user wants to get the response parameters,
curves, predictions and model thresholds, it should be chosen
&quot;detailed_information&quot;
output = &quot;dates&quot; will return a dataframe with the stages and according dates
output = &quot;detailed_information&quot; will return a list with the dates, but also
the corresponding dose response parameters and predictions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>final output, either detailed (if output_type =
&quot;detailed_information&quot;) as list, or data.frame with dates if
output_type = &quot;dates&quot;
</p>

<hr>
<h2 id='get_parameters'>A function to download additional crop parameters</h2><span id='topic+get_parameters'></span>

<h3>Description</h3>

<p>A function to download additional crop parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_parameters(external_params_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_parameters_+3A_external_params_path">external_params_path</code></td>
<td>
<p>path where additional crop parameters should be
stored if not possible to download in to the regular R repository. The
default is NULL, which will use the regular R repository as path</p>
</td></tr>
</table>


<h3>Value</h3>

<p>no return
</p>

<hr>
<h2 id='non_linear_prediction'>DRC function: non_linear_prediction</h2><span id='topic+non_linear_prediction'></span>

<h3>Description</h3>

<p>broken stick model according to an env variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>non_linear_prediction(env_variate, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="non_linear_prediction_+3A_env_variate">env_variate</code></td>
<td>
<p>value of a environmental covariate</p>
</td></tr>
<tr><td><code id="non_linear_prediction_+3A_params">params</code></td>
<td>
<p>list of input parameter; base_value: minimal value;
slope estimated value, slope of the linear phase</p>
</td></tr>
</table>


<h3>Value</h3>

<p>value with non_linear response
</p>


<h3>Examples</h3>

<pre><code class='language-R'>non_linear_prediction(1,list("base_value"=5,"slope_value"=1))

# visualization
non_linear &lt;- lapply(seq(0, 10, 0.1),
non_linear_prediction,
list("base_value"=5,"slope_value"=1))
plot(seq(0, 10, 0.1), non_linear)
</code></pre>

<hr>
<h2 id='pheno_phase_prediction'>function to predict the a phenological phase in winter wheat</h2><span id='topic+pheno_phase_prediction'></span>

<h3>Description</h3>

<p>predict one or all phenological phases
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pheno_phase_prediction(
  phase_covariate_list,
  environmental_data,
  phase_starting_date,
  crop_abbrev,
  output_type = "dates",
  external_params_path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pheno_phase_prediction_+3A_phase_covariate_list">phase_covariate_list</code></td>
<td>
<p>list like: list(&quot;sowing-emergence&quot; =
c(&quot;tas&quot;,&quot;VPD&quot;,&quot;SPI&quot;),
&quot;emergence-jointing&quot; = c(&quot;tas&quot;))
indicating per phenological phase the covariates to use. List of
of phenological phases must be consecutive!</p>
</td></tr>
<tr><td><code id="pheno_phase_prediction_+3A_environmental_data">environmental_data</code></td>
<td>
<p>data.frame with the necessary environmental data,
one column must be &quot;DATE&quot; (as.Date format), the others with the names of
the environmental covariates (e.g. tas, tasmin etc.)</p>
</td></tr>
<tr><td><code id="pheno_phase_prediction_+3A_phase_starting_date">phase_starting_date</code></td>
<td>
<p>starting date of the first phase which will be
predicted (object of class &quot;Date&quot; (use as.Date()))</p>
</td></tr>
<tr><td><code id="pheno_phase_prediction_+3A_crop_abbrev">crop_abbrev</code></td>
<td>
<p>abbreviation of the crop to be modeled (valid crop_abbrevs
can be found with available_crops_and_phases())</p>
</td></tr>
<tr><td><code id="pheno_phase_prediction_+3A_output_type">output_type</code></td>
<td>
<p>either &quot;dates&quot; or &quot;detailed_information&quot;; defines what
output of the model they user wants to have as return,
default is set to &quot;dates&quot;. If a user wants to get the response parameters,
curves, predictions and model thresholds, it should be chosen
&quot;detailed_information&quot;
output = &quot;dates&quot; will return a dataframe with the stages and according dates
output = &quot;detailed_information&quot; will return a list with the dates, but also
the corresponding dose response parameters and predictions</p>
</td></tr>
<tr><td><code id="pheno_phase_prediction_+3A_external_params_path">external_params_path</code></td>
<td>
<p>path where additional crop parameters should be
stored if not possible to download in to the regular R repository. The
default is NULL, which will use the regular R repository as path</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns the end-date of each phase
</p>
<p>either return an object of class 'DyMEP', if detailed_information is
selected as output_type, from a dataframe containing phenology data, or
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pheno_phase_prediction(phase_covariate_list = list(
        "sowing-emergence" = c("tasmin","VPD","SPI","tasmax","tas","RH",
        "global_radiation"),
        "emergence-jointing"= c("tasmin","VPD","SPI","tasmax","tas","RH",
        "global_radiation"),
        "jointing-heading" = c("tasmin","VPD","SPI","tasmax","tas","RH",
        "global_radiation")),
    environmental_data &lt;- data.frame("DATE" = seq.Date(
              from = as.Date("2021-01-01"), to = as.Date("2023-12-31"),by=1),
                          "tas"=runif(1095,min=-10,max=40),
                           "RH"=runif(1095,min=0,max=100),
                           "tasmin"=runif(1095,min=-10,max=40),
                           "tasmax"=runif(1095,min=-5,max=40),
                           "VPD" = runif(1095,min=0,max=40),
                           "SPI"= runif(1095,min=-1,max=4),
                           "global_radiation"= runif(1095,min=0,max=3500)),
      phase_starting_date =as.Date("2021-01-01"),
      crop_abbrev = "WW")
</code></pre>

<hr>
<h2 id='predhelp.check_pheno_phase_order'>predhelp.check_pheno_phase_order</h2><span id='topic+predhelp.check_pheno_phase_order'></span>

<h3>Description</h3>

<p>predhelp.check_pheno_phase_order
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predhelp.check_pheno_phase_order(phase_covariate_list, crop_abbrev)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predhelp.check_pheno_phase_order_+3A_phase_covariate_list">phase_covariate_list</code></td>
<td>
<p>list with all available phenology phases</p>
</td></tr>
<tr><td><code id="predhelp.check_pheno_phase_order_+3A_crop_abbrev">crop_abbrev</code></td>
<td>
<p>current crop_abbrev (name of the crop)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns the given phase_covariate_list but with correctly ordered
phenology phases
</p>


<h3>Fields</h3>


<dl>
<dt><code>abbrev</code></dt><dd><p>Description of crop_abbrev column.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>predhelp.check_pheno_phase_order(phase_covariate_list = list(
  "sowing-emergence" = c("tasmin","VPD","SPI")),
  crop_abbrev = "WW")
</code></pre>

<hr>
<h2 id='predhelputils.get_all_permutations'>A function to get all potential permutations</h2><span id='topic+predhelputils.get_all_permutations'></span>

<h3>Description</h3>

<p>A function to get all potential permutations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predhelputils.get_all_permutations(your_environmental_covariates)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predhelputils.get_all_permutations_+3A_your_environmental_covariates">your_environmental_covariates</code></td>
<td>
<p>list of the environmental covariates you
have at hand (tas, tasmax, tasmin, RH, VPD, SPI, global_radiation are
available)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>provides all potential permutations given your input vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>predhelputils.get_all_permutations(your_environmental_covariates =
                                      c("tas","tasmin","VPD"))
</code></pre>

<hr>
<h2 id='reg_linear_prediction'>DRC function: reg_linear_prediction</h2><span id='topic+reg_linear_prediction'></span>

<h3>Description</h3>

<p>linear model according to an env variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reg_linear_prediction(env_variate, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reg_linear_prediction_+3A_env_variate">env_variate</code></td>
<td>
<p>value of a environmental covariate</p>
</td></tr>
<tr><td><code id="reg_linear_prediction_+3A_params">params</code></td>
<td>
<p>list of input parameter; intercept estimated value,
slope of the linear phase</p>
</td></tr>
</table>


<h3>Value</h3>

<p>value with reg_linear response
</p>


<h3>Examples</h3>

<pre><code class='language-R'>reg_linear_prediction(1,list("intercept_value"=1, "slope_value"=5))
# visualization
reg_linear &lt;- lapply(seq(0, 10, 0.1),
reg_linear_prediction,
list("intercept_value"=-1,"slope_value"=1))
plot(seq(0, 10, 0.1), reg_linear)
</code></pre>

<hr>
<h2 id='summary'>Summary method for DyMEP class</h2><span id='topic+summary'></span>

<h3>Description</h3>

<p>This function summarizes DyMEP objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_+3A_object">object</code></td>
<td>
<p>An object of class &quot;DyMEP&quot;.</p>
</td></tr>
<tr><td><code id="summary_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to summary functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>print directly into console
</p>

<hr>
<h2 id='WangEngels_prediction'>DRC function: WangEngels_prediction</h2><span id='topic+WangEngels_prediction'></span>

<h3>Description</h3>

<p>DRC function: WangEngels_prediction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WangEngels_prediction(x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WangEngels_prediction_+3A_x">x</code></td>
<td>
<p>effective env_variable value</p>
</td></tr>
<tr><td><code id="WangEngels_prediction_+3A_params">params</code></td>
<td>
<p>list of input parameter; xmin_value represents the minimal
env_variable value above which growth response will happen ;
xopt_value: optimal growth point, env_variable values here have the highest
response;
xmax_value represents the maximal env_variable value above which no growth
response will happen according to the wang engel model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>value with WangEngels response
</p>


<h3>Examples</h3>

<pre><code class='language-R'>WangEngels_prediction(10, params = list("xmin_value"=1,
                                       "xopt_value"=25,
                                       "xmax_value"=35,
                                        "r_value"=0.5))
 # visualization
WangEngels &lt;- lapply(seq(0, 40, 0.1),
WangEngels_prediction,
list("xmin_value"=1,
     "xopt_value"=25,
      "xmax_value"=35,
       "r_value"=0.5))
       plot(seq(0, 40, 0.1), WangEngels)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

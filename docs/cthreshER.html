<!DOCTYPE html><html><head><title>Help for package cthreshER</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cthreshER}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cterFit'><p>Fit the continuous threshold expectile regression</p></a></li>
<li><a href='#cterSimData'><p>Simulated data from the continuous threshold expectile regression</p></a></li>
<li><a href='#cterTest'><p>test the existence of change point in the continuous threshold expectile regression</p></a></li>
<li><a href='#data_bbsalaries'><p>Baseball pitcher salary data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Continuous Threshold Expectile Regression</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Feipeng Zhang &lt;zhangfp108@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimation and inference methods for the continuous threshold expectile regression.
    It can fit the continuous threshold expectile regression and test the existence of change point,
    for the paper, "Feipeng Zhang and Qunhua Li (2016). A continuous threshold expectile regression, submitted." </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2.0)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0), Matrix</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://arxiv.org/abs/1611.02609">https://arxiv.org/abs/1611.02609</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-11-10 01:19:52 UTC; zhangfp</td>
</tr>
<tr>
<td>Author:</td>
<td>Feipeng Zhang [aut, cre],
  Qunhua Li [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-11-10 13:16:57</td>
</tr>
</table>
<hr>
<h2 id='cterFit'>Fit the continuous threshold expectile regression</h2><span id='topic+cterFit'></span>

<h3>Description</h3>

<p>The grid search algorithm for the continuous threshold expectile regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cterFit(y, x, z, tau = 0.5, max.iter = 100, tol = 1e-04)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cterFit_+3A_y">y</code></td>
<td>
<p>A vector of response</p>
</td></tr>
<tr><td><code id="cterFit_+3A_x">x</code></td>
<td>
<p>A scalar covariate with threshold</p>
</td></tr>
<tr><td><code id="cterFit_+3A_z">z</code></td>
<td>
<p>A vector of covariates</p>
</td></tr>
<tr><td><code id="cterFit_+3A_tau">tau</code></td>
<td>
<p>the expectile level, 0.5 for default</p>
</td></tr>
<tr><td><code id="cterFit_+3A_max.iter">max.iter</code></td>
<td>
<p>the maximum iteration steps, 100 for default</p>
</td></tr>
<tr><td><code id="cterFit_+3A_tol">tol</code></td>
<td>
<p>tolerance value, 1e-4 for default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the elements
</p>
<table>
<tr><td><code>coef.est</code></td>
<td>
<p>The estimated regression coefficients with intercept.</p>
</td></tr>
<tr><td><code>threshold.est</code></td>
<td>
<p>The estimated threshold.</p>
</td></tr>
<tr><td><code>coef.se</code></td>
<td>
<p>The estimated standard error of the regression coefficients.</p>
</td></tr>
<tr><td><code>threshold.se</code></td>
<td>
<p>The estimated standard error of the threshold.</p>
</td></tr>
<tr><td><code>iter</code></td>
<td>
<p>The iteration steps.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Feipeng Zhang and Qunhua Li
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## simulated data
ptm &lt;- proc.time()
n &lt;- 200
t0 &lt;- 1.5
bet0 &lt;- c(1, 3, -2, 1)
tau &lt;- 0.3
modtype &lt;- 1
errtype &lt;- 1
dat &lt;- cterSimData(n, bet0, t0, tau, modtype, errtype)
y &lt;- dat[, 1]
x &lt;- dat[, 2]
z &lt;- dat[, 3]
fit &lt;- cterFit(y, x, z, tau)

## The example of Baseball pitcher salary
data(data_bbsalaries)
y &lt;- data_bbsalaries$y
x &lt;- data_bbsalaries$x
z &lt;- NULL
tau &lt;- 0.5
fit &lt;- cterFit(y, x, z, tau)
proc.time() - ptm
</code></pre>

<hr>
<h2 id='cterSimData'>Simulated data from the continuous threshold expectile regression</h2><span id='topic+cterSimData'></span>

<h3>Description</h3>

<p>The function for  simulating data from the continuous threshold expectile regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cterSimData(n, bet0, t0, tau = 0.5, modtype = 1, errtype = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cterSimData_+3A_n">n</code></td>
<td>
<p>sample size.</p>
</td></tr>
<tr><td><code id="cterSimData_+3A_bet0">bet0</code></td>
<td>
<p>the vecotr of true regression coefficients.</p>
</td></tr>
<tr><td><code id="cterSimData_+3A_t0">t0</code></td>
<td>
<p>the true location of threshold.</p>
</td></tr>
<tr><td><code id="cterSimData_+3A_tau">tau</code></td>
<td>
<p>the expectile level, 0.5 for default.</p>
</td></tr>
<tr><td><code id="cterSimData_+3A_modtype">modtype</code></td>
<td>
<p>type of model, 1 = IID for default, 2 = Heteroscedasticity,
modtype = 1, <code class="reqn">Y = beta_0 + beta_1 X + beta_2 (X-t)_+ gamma Z + e,</code>
modtype = 1, <code class="reqn">Y = beta_0 + beta_1 X + beta_2 (X-t)_+ gamma Z + (1+0.2Z)e,</code></p>
</td></tr>
<tr><td><code id="cterSimData_+3A_errtype">errtype</code></td>
<td>
<p>type of error, 1 for default,
errtype = 1 for N(0, 1),
errtype = 2 for t_4,
errtype = 3 for 0.9 N(0, 1) + 0.1 t_4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with the elements
</p>
<table>
<tr><td><code>y</code></td>
<td>
<p>The response variable.</p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>The scalar covariate with threshold.</p>
</td></tr>
<tr><td><code>z</code></td>
<td>
<p>A vector of covariates.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Feipeng Zhang and Qunhua Li
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## simulated data
ptm &lt;- proc.time()
n &lt;- 200
t0 &lt;- 1.5
bet0 &lt;- c(1, 3, -2, 1)
tau &lt;- 0.5
modtype &lt;- 1
errtype &lt;- 1
dat &lt;- cterSimData(n, bet0, t0, tau, modtype, errtype)
head(dat)
proc.time() - ptm
</code></pre>

<hr>
<h2 id='cterTest'>test the existence of change point in the continuous threshold expectile regression</h2><span id='topic+cterTest'></span>

<h3>Description</h3>

<p>This function for calculating the test statistics and p-value by wild bootstrap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cterTest(y, x, z, tau = 0.5, NB = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cterTest_+3A_y">y</code></td>
<td>
<p>A vector of response</p>
</td></tr>
<tr><td><code id="cterTest_+3A_x">x</code></td>
<td>
<p>A scalar covariate with threshold</p>
</td></tr>
<tr><td><code id="cterTest_+3A_z">z</code></td>
<td>
<p>A vector of covariates</p>
</td></tr>
<tr><td><code id="cterTest_+3A_tau">tau</code></td>
<td>
<p>the expectile level, 0.5 for default</p>
</td></tr>
<tr><td><code id="cterTest_+3A_nb">NB</code></td>
<td>
<p>resampling times, 1000 for default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the elements
</p>
<table>
<tr><td><code>Tn</code></td>
<td>
<p>The statistic based on original data.</p>
</td></tr>
<tr><td><code>Tn.NB</code></td>
<td>
<p>The statistics by wild bootstrap.</p>
</td></tr>
<tr><td><code>p.value</code></td>
<td>
<p>The p-value by wild bootstrap.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Feipeng Zhang and Qunhua Li
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## simulated data
ptm &lt;- proc.time()
set.seed(1)
n &lt;- 200
t0 &lt;- 1.5
bet0 &lt;- c(1, 3, 0, 1)
tau &lt;- 0.3
modtype &lt;- 1
errtype &lt;- 1
dat &lt;- cterSimData(n, bet0, t0, tau, modtype, errtype)
y &lt;- dat[, 1]
x &lt;- dat[, 2]
z &lt;- dat[, 3]
fit.test &lt;- cterTest(y, x, z, tau, NB = 30)
fit.test$p.value

## The example of Baseball pitcher salary
data(data_bbsalaries)
y &lt;- data_bbsalaries$y
x &lt;- data_bbsalaries$x
z &lt;- NULL
tau &lt;- 0.5
fit.test &lt;- cterTest(y, x, z, tau, NB = 30)
fit.test$p.value
proc.time() - ptm
</code></pre>

<hr>
<h2 id='data_bbsalaries'>Baseball pitcher salary data</h2><span id='topic+data_bbsalaries'></span>

<h3>Description</h3>

<p>Salaries of 176 piters for the 1987 season. 
The variables are as follows:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(data_bbsalaries)</code></pre>


<h3>Format</h3>

<p>A data frame with 176 observations on the following 2 variables.
</p>

<dl>
<dt><code>y</code></dt><dd><p>Log of the base salary in dollars</p>
</dd>
<dt><code>x</code></dt><dd><p>Log of the number of years experience</p>
</dd>
</dl>



<h3>Source</h3>

<p>Hettmansperger, T.P. and McKean J.W. (2011), Robust Nonparametric Statistical Methods, 2nd ed., New York: Chapman-Hall.
</p>


<h3>References</h3>

<p>Hettmansperger, T.P. and McKean J.W. (2011), Robust Nonparametric Statistical Methods, 2nd ed., New York: Chapman-Hall.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(data_bbsalaries)
## maybe str(data_bbsalaries) ; plot(data_bbsalaries) ...
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

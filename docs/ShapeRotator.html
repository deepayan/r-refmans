<!DOCTYPE html><html><head><title>Help for package ShapeRotator</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ShapeRotator}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#double_data_1'><p>Landmark data from head-first burrowing worm lizards' crania</p></a></li>
<li><a href='#double_data_2'><p>Landmark data from head-first burrowing worm lizards' mandibles</p></a></li>
<li><a href='#double.rotation'><p>double.rotation</p></a></li>
<li><a href='#join.arrays'><p>join.arrays</p></a></li>
<li><a href='#match.datasets'><p>match.datasets</p></a></li>
<li><a href='#plot_rotation_3D'><p>plot_rotation_3D</p></a></li>
<li><a href='#simple_data_1'><p>Landmark data from frog humerus</p></a></li>
<li><a href='#simple_data_2'><p>Landmark data from frog radioulnas</p></a></li>
<li><a href='#simple.rotation'><p>simple.rotation</p></a></li>
<li><a href='#translate'><p>translate</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Standardised Rigid Rotations of Articulated Three-Dimensional
Structures</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marta Vidal-Garcia &lt;marta.vidalga@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Here we describe a simple geometric rigid rotation approach that removes the effect of random translation and rotation, enabling the morphological analysis of 3D articulated structures. Our method is based on Cartesian coordinates in 3D space so it can be applied to any morphometric problem that also uses 3D coordinates. See Vidal-García, M., Bandara, L., Keogh, J.S. (2018) &lt;<a href="https://doi.org/10.1002%2Fece3.4018">doi:10.1002/ece3.4018</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Imports:</td>
<td>plot3D</td>
</tr>
<tr>
<td>Suggests:</td>
<td>geomorph</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/marta-vidalgarcia/ShapeRotator">https://github.com/marta-vidalgarcia/ShapeRotator</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/marta-vidalgarcia/ShapeRotator/issues">https://github.com/marta-vidalgarcia/ShapeRotator/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-05-03 06:06:14 UTC; marta</td>
</tr>
<tr>
<td>Author:</td>
<td>Marta Vidal-Garcia
    <a href="https://orcid.org/0000-0001-7617-7329"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Lashi Bandara [aut],
  J. Scott Keogh [aut]</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-05-06 13:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='double_data_1'>Landmark data from head-first burrowing worm lizards' crania</h2><span id='topic+double_data_1'></span>

<h3>Description</h3>

<p>Landmark data from head-first burrowing worm lizards' crania (Kazi &amp; Hipsley, 2018)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(double_data_1)
</code></pre>


<h3>Format</h3>

<p>An array with landmark data (crania)
</p>


<h3>References</h3>

<p>S. Kazi &amp; C.A. Hipsley. 2018. Conserved evolution of skull shape in Caribbean
head-first burrowing worm lizards (Squamata: Amphisbaenia) Biological Journal
of the Linnean Society 125:14-29
</p>
<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator: An R tool
for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>

<hr>
<h2 id='double_data_2'>Landmark data from head-first burrowing worm lizards' mandibles</h2><span id='topic+double_data_2'></span>

<h3>Description</h3>

<p>Landmark data from head-first burrowing worm lizards' mandibles (Kazi &amp; Hipsley, 2018)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(double_data_2)
</code></pre>


<h3>Format</h3>

<p>An array with landmark data (mandibles)
</p>


<h3>References</h3>

<p>S. Kazi &amp; C.A. Hipsley. 2018. Conserved evolution of skull shape in Caribbean
head-first burrowing worm lizards (Squamata: Amphisbaenia) Biological Journal
of the Linnean Society 125:14-29
</p>
<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator: An R tool
for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>

<hr>
<h2 id='double.rotation'>double.rotation</h2><span id='topic+double.rotation'></span>

<h3>Description</h3>

<p>Rotates two arrays in a two-points articulation (e.g. skull and mandible)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>double.rotation(data.1, data.2, land.a, land.b, land.c, land.d,
  land.e, land.f, land.g, land.h, angle)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="double.rotation_+3A_data.1">data.1</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains translated
three-dimensional landmarks for structure #1</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_data.2">data.2</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains translated
three-dimensional landmarks for structure #2</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.a">land.a</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark A</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.b">land.b</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark B</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.c">land.c</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark C</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.d">land.d</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark D</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.e">land.e</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark E</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.f">land.f</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark F</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.g">land.g</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark G</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_land.h">land.h</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark H</p>
</td></tr>
<tr><td><code id="double.rotation_+3A_angle">angle</code></td>
<td>
<p>an object of the class &quot;numeric&quot; that contains the rotation
angle in degrees (from 0° to 360°)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the rigid rotation of two structures from a two-points
articulation (e.g. skull and mandible). It allows to select the desired
angle between the two structures so that we can perform the rigid rotation
of each structure positioning them in the selected angle in relation to
each other, by providing the desired angle in degrees (from 0 to 360 degrees).
Even though each of these rotations are calculated internally (only the
four landmarks per structure and the desired angle between them need to be
provided), it will be beneficial to choose landmarks that are spatially
arranged in a way that facilitates the rotation process, and results
in the rotating multi-structure being placed in a biologically-relevant
angle between each sub-structure. ShapeRotator will give a warning message
if the landmarks chosen are not optimal (i.e. the position and orientation
of the two structures vary across the specimens due to morphological
variability and not because of the rigid rotation).
</p>


<h3>Value</h3>

<p>Returns a list of two object where $rotated1 gives the first rotated array
and $rotated2 gives the second
</p>


<h3>Author(s)</h3>

<p>Marta Vidal-Garcia
</p>


<h3>References</h3>

<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator:
An R tool for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data
data(double_data_1)
data(double_data_2)
data.1 &lt;- double_data_1
data.2 &lt;- double_data_2

#Landmarks
land.a=55
land.b=49
land.c=54
land.d =4
land.e=22
land.f=21
land.g=2
land.h=11

# We can rigidly rotate each structure relative to each other in multiple
# angles (e.g. 0, 15, 45, 90, or 120 degrees)
rotation_0 = double.rotation(data.1, data.2, land.a, land.b, land.c, land.d,
land.e, land.f, land.g, land.h, 0)
rotation_15 = double.rotation(data.1, data.2, land.a, land.b, land.c, land.d,
land.e, land.f, land.g, land.h, 15)
rotation_45 = double.rotation(data.1, data.2, land.a, land.b, land.c, land.d,
land.e, land.f, land.g, land.h, 45)
rotation_90 = double.rotation(data.1, data.2, land.a, land.b, land.c, land.d,
land.e, land.f, land.g, land.h, 90)
rotation_120 = double.rotation(data.1, data.2, land.a, land.b, land.c,
land.d, land.e, land.f, land.g, land.h, 120)

# The function returns a list of two objects that correspond to each rotated
# structure
rotation_0$rotated1 #rotated dataset 1 #(e.g. skull)
rotation_0$rotated2 #rotated dataset 2 #(e.g. mandible)

# The two datasets can be joined with the function join.arrays()
head_0degrees &lt;- join.arrays(rotation_0$rotated1, rotation_0$rotated2)


</code></pre>

<hr>
<h2 id='join.arrays'>join.arrays</h2><span id='topic+join.arrays'></span>

<h3>Description</h3>

<p>Joins the two rotated arrays and returns a single array
</p>


<h3>Usage</h3>

<pre><code class='language-R'>join.arrays(data.1, data.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="join.arrays_+3A_data.1">data.1</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains the rotated
three-dimensional landmarks for structure #1 (e.g. skull)</p>
</td></tr>
<tr><td><code id="join.arrays_+3A_data.2">data.2</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains the rotated
three-dimensional landmarks for structure #2 (e.g. mandible)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function join the two arrays that were rotated using
double.rotation() or simple.rotation() and return a big array from joining
the two smaller arrays. It is possible to translate one of the objects after
the rotation, in the case of not wanting them in contact to one another, or
in a slightly different location. The vector used in the translation might
have to change depending on the angle used in the rotation function, in
order to represent biologically-relevant positions of the two structures
relative to one another.
</p>


<h3>Value</h3>

<p>This function returns an array of the joined two arrays comprising the
two rotated structures (e.g. mandible and skull).
</p>


<h3>Author(s)</h3>

<p>Marta Vidal-Garcia
</p>


<h3>References</h3>

<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator:
An R tool for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
rotation_45 = double.rotation(data.1, data.2, land.a, land.b, land.c, land.d,
land.e, land.f, land.g, land.h, 45)

rotation_45_t &lt;- join.arrays(rotation_45$rotated1, rotation_45$rotated2)

# The datasets can also be joined after further translation
rotation_45_t &lt;- join.arrays(rotation_45$rotated1,
translate(rotation_45$rotated2, land.e , skull_translate))


</code></pre>

<hr>
<h2 id='match.datasets'>match.datasets</h2><span id='topic+match.datasets'></span>

<h3>Description</h3>

<p>Matches two arrays by their dimnames
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match.datasets(data.1, data.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="match.datasets_+3A_data.1">data.1</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains three-dimensional
landmarks for structure #1 (e.g. skull)</p>
</td></tr>
<tr><td><code id="match.datasets_+3A_data.2">data.2</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains three-dimensional
landmarks for structure #2 (e.g. mandible)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes the two translated arrays and joined them by dimnames.
Unmatched datasets (specimens missing in data.1 or data.2) are deleted.
</p>


<h3>Value</h3>

<p>This function returns a list with the two translated arrays of dimensions
(p, 3, n), in which dimnames associated with each specimen (n) are in the
same order.
</p>


<h3>Author(s)</h3>

<p>Marta Vidal-Garcia
</p>


<h3>References</h3>

<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator:
An R tool for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>


<h3>Examples</h3>

<pre><code class='language-R'># We need to match the dimnames of the translated datasets, but we have two
# extra specimens in data.1_t

length(dimnames(data.1_t)[[3]]) # n=12
length(dimnames(data.2_t)[[3]])  # n=10
matched &lt;- match.datasets(data.1_t, data.2_t)

# When we matched the arrays, only matrices from specimens present in both
# datasets will be kept

length(dimnames(matched$matched1)[[3]]) # n=10

length(dimnames(matched$matched2)[[3]])  # n=10


</code></pre>

<hr>
<h2 id='plot_rotation_3D'>plot_rotation_3D</h2><span id='topic+plot_rotation_3D'></span>

<h3>Description</h3>

<p>Plots the two rotated datasets in 3D
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_rotation_3D(joined.data, data.1, data.2, specimen.num)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_rotation_3D_+3A_joined.data">joined.data</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains the joined
rotated arrays (data.1three-dimensional landmarks for structure #1 (e.g.
skull). It can either be the original dataset, the translated array, or the
rotated array</p>
</td></tr>
<tr><td><code id="plot_rotation_3D_+3A_data.1">data.1</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains three-dimensional
landmarks for structure #1 (e.g. skull). It can either be the original
dataset, the translated array, or the rotated array</p>
</td></tr>
<tr><td><code id="plot_rotation_3D_+3A_data.2">data.2</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains three-dimensional
landmarks for structure #2 (e.g. mandible). It can either be the original
dataset, the translated array, or the rotated array</p>
</td></tr>
<tr><td><code id="plot_rotation_3D_+3A_specimen.num">specimen.num</code></td>
<td>
<p>an integer object that indicates which specimen will be
plotted. The number of the specimen to be plotted corresponds to the
position in the &quot;joined.data&quot; array</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plots the two rotated datasets in 3D for a specimen (specimen.num),
and each structure is plotted with a different colour.
Default is black and red. This uses the function scatter3D from the R package
plot3D (https://cran.r-project.org/web/packages/plot3D/) internally.
</p>


<h3>Value</h3>

<p>This function returns a 3D plot of the rotated structures (e.g. mandible
and skull).
</p>


<h3>Author(s)</h3>

<p>Marta Vidal-Garcia
</p>


<h3>References</h3>

<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator:
An R tool for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
rotation_45 = double.rotation(data.1, data.2, land.a, land.b, land.c, land.d,
land.e, land.f, land.g, land.h, 45)

rotation_45_t &lt;- join.arrays(rotation_45$rotated1,
translate(rotation_45$rotated2, land.e , skull_translate))

plot_rotation_3D(rotation_45_t, data.1, data.2, specimen.num = 1)


</code></pre>

<hr>
<h2 id='simple_data_1'>Landmark data from frog humerus</h2><span id='topic+simple_data_1'></span>

<h3>Description</h3>

<p>Landmark data from frog humerus (Vidal-Garciía &amp; Keogh, 2017)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(simple_data_1)
</code></pre>


<h3>Format</h3>

<p>An array with landmark data (humerus)
</p>


<h3>References</h3>

<p>M. Vidal-García &amp; J.S. Keogh. 2017. Phylogenetic conservatism in skulls and
evolutionary lability in limbs–morphological evolution across an ancient frog
radiation is shaped by diet, locomotion and burrowing. BMC evolutionary biology 17:165
</p>
<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator: An R tool
for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>

<hr>
<h2 id='simple_data_2'>Landmark data from frog radioulnas</h2><span id='topic+simple_data_2'></span>

<h3>Description</h3>

<p>Landmark data from frog radioulnas (Vidal-Garciía &amp; Keogh, 2017)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(simple_data_2)
</code></pre>


<h3>Format</h3>

<p>An array with landmark data (radioulnas)
</p>


<h3>References</h3>

<p>M. Vidal-García &amp; J.S. Keogh. 2017. Phylogenetic conservatism in skulls and
evolutionary lability in limbs–morphological evolution across an ancient frog
radiation is shaped by diet, locomotion and burrowing. BMC evolutionary biology 17:165
</p>
<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator: An R tool
for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>

<hr>
<h2 id='simple.rotation'>simple.rotation</h2><span id='topic+simple.rotation'></span>

<h3>Description</h3>

<p>Rotates two arrays in a single-point articulation (e.g. two limb bones).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple.rotation(data.1, data.2, land.a, land.b, land.c,
  land.d, land.e, land.f, angle)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple.rotation_+3A_data.1">data.1</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains translated
three-dimensional landmarks for structure #1</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_data.2">data.2</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains translated
three-dimensional landmarks for structure #2</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_land.a">land.a</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark A</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_land.b">land.b</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark B</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_land.c">land.c</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark C</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_land.d">land.d</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark D</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_land.e">land.e</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark E</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_land.f">land.f</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark F</p>
</td></tr>
<tr><td><code id="simple.rotation_+3A_angle">angle</code></td>
<td>
<p>an object of the class &quot;numeric&quot; that contains the rotation
angle in degrees (from 0° to 360°)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the rigid rotation of two structures from a
single-point articulation (e.g. humerus and radioulna).
It allows to select the desired angle between the two structures so that we
can perform the rigid rotation of each structure positioning
them in the selected angle in relation to each other, by providing the
desired angle in degrees (from 0° to 360°).
Even though each of these rotations are calculated internally
(only the three landmarks per structure and the desired angle between them
need to be provided),
it will be beneficial to choose landmarks that are spatially arranged in a
way that facilitates the rotation process,
and results in the rotating multi-structure being placed in a
biologically-relevant angle between each sub-structure.
ShapeRotator will give a warning message if the landmarks chosen are not
optimal (i.e. the position and orientation of the two structures vary across
the specimens due to morphological variability and
not because of the rigid rotation).
</p>


<h3>Value</h3>

<p>This function returns a translated T array of dimensions (p, 3, n), in
which p indicates the number of landmarks, and n the number of specimens
included in the array. The translated array will keep the dimnames
associated with each specimen (n).
</p>


<h3>Author(s)</h3>

<p>Marta Vidal-Garcia
</p>


<h3>References</h3>

<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator:
An R tool for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data
data.1 &lt;- simple_data_1
data.2 &lt;- simple_data_2

#Landmarks
land.a=55
land.b=49
land.c=54

land.d =4
land.e=22
land.f=21

# We can rigidly rotate each structure relative to each other in multiple
# angles (e.g. 0, 15, 45, 90, or 120 degrees)
rotation_0 = simple.rotation(data.1, data.2, land.a, land.b, land.c,
land.d, land.e, land.f, 0)

rotation_15 = simple.rotation(data.1, data.2, land.a, land.b, land.c,
land.d, land.e, land.f, 15)

rotation_45 = simple.rotation(data.1, data.2, land.a, land.b, land.c,
land.d, land.e, land.f, 45)

rotation_90 = simple.rotation(data.1, data.2, land.a, land.b, land.c,
land.d, land.e, land.f, 90)

rotation_120 = simple.rotation(data.1, data.2, land.a, land.b, land.c,
land.d, land.e, land.f, 120)

# The function returns a list of two objects that correspond to each rotated
# structure
rotation_0$rotated1 #rotated dataset 1 #(e.g. radioulna)
rotation_0$rotated2 #rotated dataset 2 #(e.g. humerus)

# The two datasets can be joined with the function join.arrays()
arm_0degrees &lt;- join.arrays(rotation_0$rotated1, rotation_0$rotated2)


</code></pre>

<hr>
<h2 id='translate'>translate</h2><span id='topic+translate'></span>

<h3>Description</h3>

<p>Translates array T to origin point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translate(T, landmark, origin = c(0,0,0))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="translate_+3A_t">T</code></td>
<td>
<p>an object of the class &quot;array&quot; that contains three-dimensional
landmarks for 'n' specimens</p>
</td></tr>
<tr><td><code id="translate_+3A_landmark">landmark</code></td>
<td>
<p>an integer object that indicates the position of the
three-dimensional landmark that will be used to translate each matrix of
landmarks to the point of origin.</p>
</td></tr>
<tr><td><code id="translate_+3A_origin">origin</code></td>
<td>
<p>a vector that contains three-dimensional coordinates (x, y, z)
indicating where the origin point should be translanted to.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an array T and an index in the array landmark, and translates it to
the origin. Each structure will be translated to the point of origin so
that p0 =(0,0,0). We will be translating landmark A from structure 1 and
landmark D from structure 2 for a single-point articulated rotation.
And landmark A from structure 1 and landmark E from structure 2 for a
double rotation (double-point articulated rotation). Thus, the distance
from the coordinates of landmark A (Ax, Ay, Az) is substracted from all
the landmarks in all specimens. For example (Nx - Ax, Ny - Ay, Nz - Az)
for landmark N, for structure 1. For structure 2, the distance from the
coordinates of landmark D or E depending on the type of rotation. For
example, in a double rotation, (Ex, Ey, Ez) is substracted from all the
landmarks in all specimens: (Nx - Ex, Ny - Ey, Nz - Ez). Landmarks A and
E will equal (0,0,0), so that Ax=Ay=Az=Ex=Ey=Ez=0. The default is to set
the origin to (0,0,0), but this can be specified to be something else. In
order to use this function, the landmark data needs to be imported to the
R environment using geomorph (Adams et al., 2018)
</p>


<h3>Value</h3>

<p>This function returns a translated T array of dimensions (p, 3, n), in
which p indicates the number of landmarks, and n the number of specimens
included in the array. The translated array will keep the dimnames
associated with each specimen (n).
</p>


<h3>Author(s)</h3>

<p>Marta Vidal-Garcia
</p>


<h3>References</h3>

<p>Adams, D. C., M. L. Collyer, and A. Kaliontzopoulou. 2018.
Geomorph: Software for geometric morphometric analysis. R package version
3.0.6. Available at http://CRAN.R-project.org/package=geomorph.
</p>
<p>M. Vidal-García, L. Bandara and J.S. Keogh. 2018. ShapeRotator: An R tool
for standardized rigid rotations of articulated three-dimensional
structures with application for geometric morphometrics.
Ecology and Evolution. DOI: 10.1002/ece3.4018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Data
data(double_data_1)
data(double_data_2)
data.1 &lt;- double_data_1
data.2 &lt;- double_data_2

#Landmarks
land.a=55
land.b=49
land.c=54
land.d=4

land.e=22
land.f=21
land.g=2
land.h=11

# Translate the data
data.1_t &lt;- translate(data.1, land.a)
data.2_t &lt;- translate(data.2, land.e)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

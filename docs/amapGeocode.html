<!DOCTYPE html><html lang="en-US"><head><title>Help for package amapGeocode</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {amapGeocode}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#convertCoord'><p>Convert coordinate from different coordinate systems to AutoNavi system</p></a></li>
<li><a href='#convertCoord.individual'><p>Convert an individual coordinate from</p>
different coordinate systems to AutoNavi system</a></li>
<li><a href='#extractAdmin'><p>Get Subordinate Administrative Region from getAdmin request</p>
Now, it only support extract the first layer of
subordinate administrative region information.</a></li>
<li><a href='#extractConvertCoord'><p>Extract converted coordinate points from convertCoord request</p></a></li>
<li><a href='#extractCoord'><p>Extract coordinate from location request</p></a></li>
<li><a href='#extractLocation'><p>Extract location from coordinate request</p></a></li>
<li><a href='#getAdmin'><p>Get Subordinate Administrative Regions from location</p></a></li>
<li><a href='#getAdmin.individual'><p>Get an individual data.table of</p>
Subordinate Administrative Regions from location</a></li>
<li><a href='#getCoord'><p>Get coordinate from location</p></a></li>
<li><a href='#getCoord.individual'><p>Get an individual coordinate from location</p></a></li>
<li><a href='#getLocation'><p>Get location from coordinate</p></a></li>
<li><a href='#getLocation.individual'><p>Get an individual location from coordinate</p></a></li>
<li><a href='#num_coord_to_str_loc'><p>Take longitude and latitude from location string out.</p></a></li>
<li><a href='#str_loc_to_num_coord'><p>Take longitude and latitude from location string out.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>An Interface to the 'AutoNavi Maps' API Geocoding Services</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Getting and parsing data of location geocode/reverse-geocode and administrative regions from 'AutoNavi Maps'<a href="https://lbs.amap.com/api/webservice/summary">https://lbs.amap.com/api/webservice/summary</a> API.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite, magrittr, sjmisc, stats, xml2, data.table,
furrr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>stringr, knitr, rmarkdown, testthat, spelling, covr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/womeimingzi11/amapGeocode">https://github.com/womeimingzi11/amapGeocode</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/womeimingzi11/amapGeocode/issues">https://github.com/womeimingzi11/amapGeocode/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-19 07:05:41 UTC; chenhan</td>
</tr>
<tr>
<td>Author:</td>
<td>Han Chen [aut, cre],
  Wanyanhan Jiang [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Han Chen &lt;chenhan28@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-19 07:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='convertCoord'>Convert coordinate from different coordinate systems to AutoNavi system</h2><span id='topic+convertCoord'></span>

<h3>Description</h3>

<p>This function is a wrap of coordinate convert API of AutoNavi Map Service.<br />
While how to input the origin coordinate is sill unstable and
95% sure that it will have a breaking change in the future.
Please consider carefully if introduced this function in product environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertCoord(
  locations,
  key = NULL,
  coordsys = NULL,
  sig = NULL,
  output = "data.table",
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convertCoord_+3A_locations">locations</code></td>
<td>
<p>Required. <br />
String coordinate point from other coordinate system</p>
</td></tr>
<tr><td><code id="convertCoord_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from AutoNavi Map API official website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="convertCoord_+3A_coordsys">coordsys</code></td>
<td>
<p>Optional.<br />
Coordinate System. <br />
Support: 'gps','mapbar','baidu' and 'autonavi'-not convert</p>
</td></tr>
<tr><td><code id="convertCoord_+3A_sig">sig</code></td>
<td>
<p>Optional.<br />
Digital Signature.<br />
How to use this argument?
Please check herehttps://lbs.amap.com/faq/account/key/72</p>
</td></tr>
<tr><td><code id="convertCoord_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="convertCoord_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="convertCoord_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON, XML or data.table of results
containing detailed geocode information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/convert">https://lbs.amap.com/api/webservice/guide/api/convert</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+convertCoord">convertCoord</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(amapGeocode)

# Before the `convertCoord()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `convertCoord()`

# get result of converted coordinate system as a data.table
convertCoord("116.481499,39.990475", coordsys = "gps")
# get result of converted coordinate system as a XML
convertCoord("116.481499,39.990475", coordsys = "gps", to_table = FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='convertCoord.individual'>Convert an individual coordinate from
different coordinate systems to AutoNavi system</h2><span id='topic+convertCoord.individual'></span>

<h3>Description</h3>

<p>Convert an individual coordinate from
different coordinate systems to AutoNavi system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertCoord.individual(
  locations,
  key = NULL,
  coordsys = NULL,
  sig = NULL,
  output = "data.table",
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convertCoord.individual_+3A_locations">locations</code></td>
<td>
<p>Required. <br />
String coordinate point from other coordinate system</p>
</td></tr>
<tr><td><code id="convertCoord.individual_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from AutoNavi Map API official website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="convertCoord.individual_+3A_coordsys">coordsys</code></td>
<td>
<p>Optional.<br />
Coordinate System. <br />
Support: 'gps','mapbar','baidu' and 'autonavi'-not convert</p>
</td></tr>
<tr><td><code id="convertCoord.individual_+3A_sig">sig</code></td>
<td>
<p>Optional.<br />
Digital Signature.<br />
How to use this argument?
Please check herehttps://lbs.amap.com/faq/account/key/72</p>
</td></tr>
<tr><td><code id="convertCoord.individual_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="convertCoord.individual_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="convertCoord.individual_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON, XML or data.table of results
containing detailed geocode information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/convert">https://lbs.amap.com/api/webservice/guide/api/convert</a>
for more information.
</p>

<hr>
<h2 id='extractAdmin'>Get Subordinate Administrative Region from getAdmin request
Now, it only support extract the first layer of
subordinate administrative region information.</h2><span id='topic+extractAdmin'></span>

<h3>Description</h3>

<p>Get Subordinate Administrative Region from getAdmin request
Now, it only support extract the first layer of
subordinate administrative region information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractAdmin(res)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extractAdmin_+3A_res">res</code></td>
<td>
<p>Response from getAdmin.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.table which extracts
detailed subordinate administrative region information
from results of getCoord.
See <a href="https://lbs.amap.com/api/webservice/guide/api/district">https://lbs.amap.com/api/webservice/guide/api/district</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getAdmin">getAdmin</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)
library(amapGeocode)

# Before the `getAdmin()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `getAdmin()`

# Get subordinate administrative regions as a XML
getAdmin("Sichuan Province", output = "XML") %&gt;%
  # extract subordinate administrative regions as a data.table
  extractAdmin()

## End(Not run)

</code></pre>

<hr>
<h2 id='extractConvertCoord'>Extract converted coordinate points from convertCoord request</h2><span id='topic+extractConvertCoord'></span>

<h3>Description</h3>

<p>Extract converted coordinate points from convertCoord request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractConvertCoord(res)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extractConvertCoord_+3A_res">res</code></td>
<td>
<p>Required.<br />
Response from convertCoord.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.table
which extracts converted coordinate points from request of convertCoord.
See <a href="https://lbs.amap.com/api/webservice/guide/api/convert">https://lbs.amap.com/api/webservice/guide/api/convert</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+convertCoord">convertCoord</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)
library(amapGeocode)

# Before the `convertCoord()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `convertCoord()`

# get result of converted coordinate system as a XML
convertCoord("116.481499,39.990475", coordsys = "gps", to_table = FALSE) %&gt;%
  # extract result of converted coordinate system as a data.table
  extractConvertCoord()

## End(Not run)

</code></pre>

<hr>
<h2 id='extractCoord'>Extract coordinate from location request</h2><span id='topic+extractCoord'></span>

<h3>Description</h3>

<p>Extract coordinate from location request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractCoord(res)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extractCoord_+3A_res">res</code></td>
<td>
<p>Required.<br />
Response from getCoord.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.table which extracts
detailed coordinate information from results of getCoord.
See <a href="https://lbs.amap.com/api/webservice/guide/api/georegeo">https://lbs.amap.com/api/webservice/guide/api/georegeo</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getCoord">getCoord</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)
library(amapGeocode)

# Before the `getCoord()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `getCoord()`

# Get geocode as a XML
getCoord("IFS Chengdu", output = "XML") %&gt;%
  # extract geocode regions as a data.table
  extractCoord()

## End(Not run)

</code></pre>

<hr>
<h2 id='extractLocation'>Extract location from coordinate request</h2><span id='topic+extractLocation'></span>

<h3>Description</h3>

<p>Extract location from coordinate request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractLocation(res)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extractLocation_+3A_res">res</code></td>
<td>
<p>Required.<br />
Response from getLocation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.table which extracts detailed location information
from results of getLocation.
See <a href="https://lbs.amap.com/api/webservice/guide/api/georegeo">https://lbs.amap.com/api/webservice/guide/api/georegeo</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getLocation">getLocation</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)
library(amapGeocode)

# Before the `getLocation()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `getLocation()`
# Get reverse-geocode as a XML
getLocation(104.043284, 30.666864, output = "XML") %&gt;%
  # extract reverse-geocode regions as a table
  extractLocation()

## End(Not run)

</code></pre>

<hr>
<h2 id='getAdmin'>Get Subordinate Administrative Regions from location</h2><span id='topic+getAdmin'></span>

<h3>Description</h3>

<p>Get Subordinate Administrative Regions from location
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAdmin(
  keywords,
  key = NULL,
  subdistrict = NULL,
  page = NULL,
  offset = NULL,
  extensions = NULL,
  filter = NULL,
  callback = NULL,
  output = "data.table",
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getAdmin_+3A_keywords">keywords</code></td>
<td>
<p>Required.<br />
Search keywords. <br />
Rules: Country/Region, Province/State,
City, County/District, Town, Country, Road, Number, Room, Building.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from 'AutoNavi' Map API
official website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="getAdmin_+3A_subdistrict">subdistrict</code></td>
<td>
<p>Optional.<br />
Subordinate Administrative Level.<br />
Display level of subordinate administrative regions.
Available value: 0,1,2,3.<br />
'0' do not return subordinate administrative regions.<br />
'1' return first one subordinate administrative regions.<br />
'2' return first two subordinate administrative regions.<br />
'3' return first three subordinate administrative regions.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_page">page</code></td>
<td>
<p>Optional.<br />
Which page to return.<br />
Each time the outmost layer will return a maximum of 20 records.
If the limit is exceeded,
please request the next page of records with the page argument.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_offset">offset</code></td>
<td>
<p>Optional.<br />
Maximum records per page.<br />
Maximum value is 20.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_extensions">extensions</code></td>
<td>
<p>Optional.<br />
Return results controller.<br />
'base': does not return the coordinates of
the administrative district boundary.<br />
'all': returns only the boundary value of the current query district,
not the boundary value of the child node.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_filter">filter</code></td>
<td>
<p>Optional.<br />
Filter administrative regions.<br />
Filtering by designated administrative divisions,
which returns information only for the province/municipality.<br />
It is strongly recommended to fill in this parameter
in order to ensure the correct records.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_callback">callback</code></td>
<td>
<p>Optional.<br />
Callback Function. <br />
The value of callback is the customized function.
Only available with JSON output.
If you don't understand, it means you don't need it, just like me.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="getAdmin_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON or XML of results
containing detailed subordinate administrative region information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/district">https://lbs.amap.com/api/webservice/guide/api/district</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractAdmin">extractAdmin</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(amapGeocode)

# Before the `getAdmin()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `getAdmin()`

# Get subordinate administrative regions as a data.table
getAdmin("Sichuan Province")
# Get subordinate administrative regions as a XML
getCoord("Sichuan Province", output = "XML")

## End(Not run)

</code></pre>

<hr>
<h2 id='getAdmin.individual'>Get an individual data.table of
Subordinate Administrative Regions from location</h2><span id='topic+getAdmin.individual'></span>

<h3>Description</h3>

<p>Get an individual data.table of
Subordinate Administrative Regions from location
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAdmin.individual(
  keywords,
  key = NULL,
  subdistrict = NULL,
  page = NULL,
  offset = NULL,
  extensions = NULL,
  filter = NULL,
  callback = NULL,
  output = "data.table",
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getAdmin.individual_+3A_keywords">keywords</code></td>
<td>
<p>Required.<br />
Search keywords. <br />
Rules: Country/Region, Province/State,
City, County/District, Town, Country, Road, Number, Room, Building.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from 'AutoNavi' Map API
official website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_subdistrict">subdistrict</code></td>
<td>
<p>Optional.<br />
Subordinate Administrative Level.<br />
Display level of subordinate administrative regions.
Available value: 0,1,2,3.<br />
'0' do not return subordinate administrative regions.<br />
'1' return first one subordinate administrative regions.<br />
'2' return first two subordinate administrative regions.<br />
'3' return first three subordinate administrative regions.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_page">page</code></td>
<td>
<p>Optional.<br />
Which page to return.<br />
Each time the outmost layer will return a maximum of 20 records.
If the limit is exceeded,
please request the next page of records with the page argument.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_offset">offset</code></td>
<td>
<p>Optional.<br />
Maximum records per page.<br />
Maximum value is 20.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_extensions">extensions</code></td>
<td>
<p>Optional.<br />
Return results controller.<br />
'base': does not return the coordinates of
the administrative district boundary.<br />
'all': returns only the boundary value of the current query district,
not the boundary value of the child node.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_filter">filter</code></td>
<td>
<p>Optional.<br />
Filter administrative regions.<br />
Filtering by designated administrative divisions,
which returns information only for the province/municipality.<br />
It is strongly recommended to fill in this parameter
in order to ensure the correct records.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_callback">callback</code></td>
<td>
<p>Optional.<br />
Callback Function. <br />
The value of callback is the customized function.
Only available with JSON output.
If you don't understand, it means you don't need it, just like me.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="getAdmin.individual_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON or XML of results
containing detailed subordinate administrative region information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/district">https://lbs.amap.com/api/webservice/guide/api/district</a>
for more information.
</p>

<hr>
<h2 id='getCoord'>Get coordinate from location</h2><span id='topic+getCoord'></span>

<h3>Description</h3>

<p>Get coordinate from location
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCoord(
  address,
  key = NULL,
  city = NULL,
  sig = NULL,
  output = "data.table",
  callback = NULL,
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getCoord_+3A_address">address</code></td>
<td>
<p>Required.<br />
Structured address information. <br />
Rules: Country/Region, Province/State,
City, County/District, Town, Country, Road, Number, Room, Building.</p>
</td></tr>
<tr><td><code id="getCoord_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from 'AutoNavi' Map API official
website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="getCoord_+3A_city">city</code></td>
<td>
<p>Optional.<br />
Specify the City. <br />
Support: city in Chinese, full pinyin, citycode,
adcode<a href="https://lbs.amap.com/api/webservice/download">https://lbs.amap.com/api/webservice/download</a>.<br />
The default value is NULL which will search country-wide.
The default value is NULL</p>
</td></tr>
<tr><td><code id="getCoord_+3A_sig">sig</code></td>
<td>
<p>Optional.<br />
Digital Signature.<br />
How to use this argument?
Please check herehttps://lbs.amap.com/faq/account/key/72</p>
</td></tr>
<tr><td><code id="getCoord_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="getCoord_+3A_callback">callback</code></td>
<td>
<p>Optional.<br />
Callback Function. <br />
The value of callback is the customized function.
Only available with JSON output.
If you don't understand, it means you don't need it, just like me.</p>
</td></tr>
<tr><td><code id="getCoord_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="getCoord_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON, XML or data.table of results
containing detailed geocode information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/georegeo">https://lbs.amap.com/api/webservice/guide/api/georegeo</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractCoord">extractCoord</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(amapGeocode)

# Before the `getCoord()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `getCoord()`

# Get geocode as a data.table
getCoord("IFS Chengdu")
# Get geocode as a XML
getCoord("IFS Chengdu", output = "XML")

## End(Not run)

</code></pre>

<hr>
<h2 id='getCoord.individual'>Get an individual coordinate from location</h2><span id='topic+getCoord.individual'></span>

<h3>Description</h3>

<p>Get an individual coordinate from location
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCoord.individual(
  address,
  key = NULL,
  city = NULL,
  sig = NULL,
  output = "data.table",
  callback = NULL,
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getCoord.individual_+3A_address">address</code></td>
<td>
<p>Required.<br />
Structured address information. <br />
Rules: Country/Region, Province/State, City, County/District,
Town, Country, Road, Number, Room, Building.</p>
</td></tr>
<tr><td><code id="getCoord.individual_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from 'AutoNavi' Map API official
website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="getCoord.individual_+3A_city">city</code></td>
<td>
<p>Optional.<br />
Specify the City. <br />
Support: city in Chinese, full pinyin, citycode,
adcode<a href="https://lbs.amap.com/api/webservice/download">https://lbs.amap.com/api/webservice/download</a>.<br />
The default value is NULL which will search country-wide.
The default value is NULL</p>
</td></tr>
<tr><td><code id="getCoord.individual_+3A_sig">sig</code></td>
<td>
<p>Optional.<br />
Digital Signature.<br />
How to use this argument? Please check
herehttps://lbs.amap.com/faq/account/key/72</p>
</td></tr>
<tr><td><code id="getCoord.individual_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="getCoord.individual_+3A_callback">callback</code></td>
<td>
<p>Optional.<br />
Callback Function. <br />
The value of callback is the customized function.
Only available with JSON output.
If you don't understand, it means you don't need it, just like me.</p>
</td></tr>
<tr><td><code id="getCoord.individual_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="getCoord.individual_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON, XML or data.table of results
containing detailed geocode information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/georegeo">https://lbs.amap.com/api/webservice/guide/api/georegeo</a>
for more information.
</p>

<hr>
<h2 id='getLocation'>Get location from coordinate</h2><span id='topic+getLocation'></span>

<h3>Description</h3>

<p>Get location from coordinate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLocation(
  lng,
  lat,
  key = NULL,
  poitype = NULL,
  radius = NULL,
  extensions = NULL,
  roadlevel = NULL,
  sig = NULL,
  output = "data.table",
  callback = NULL,
  homeorcorp = 0,
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLocation_+3A_lng">lng</code></td>
<td>
<p>Required. <br />
Longitude in decimal</p>
</td></tr>
<tr><td><code id="getLocation_+3A_lat">lat</code></td>
<td>
<p>Required. <br />
Latitude in decimal</p>
</td></tr>
<tr><td><code id="getLocation_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from 'AutoNavi' Map API official
website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="getLocation_+3A_poitype">poitype</code></td>
<td>
<p>Optional.<br />
Return nearby POI types.<br />
When 'extensions = all', this argument makes sense.
For detailed poitype type,
please refer<a href="https://lbs.amap.com/api/webservice/download">https://lbs.amap.com/api/webservice/download</a></p>
</td></tr>
<tr><td><code id="getLocation_+3A_radius">radius</code></td>
<td>
<p>Optional.<br />
Searching radius.<br />
radius ranges from 0 to 3000, the default value is 1000, unit: meter.</p>
</td></tr>
<tr><td><code id="getLocation_+3A_extensions">extensions</code></td>
<td>
<p>Optional.<br />
Return results controller.<br />
'base': the default value,
it only return base information about coordinate.<br />
'all': it will return nearby POI, road information and cross information.</p>
</td></tr>
<tr><td><code id="getLocation_+3A_roadlevel">roadlevel</code></td>
<td>
<p>Optional.<br />
Road levels.<br />
When 'extensions = all', this argument makes sense. <br />
'roadlevel=0', return all roads.<br />
'roadlevel=1', only return main roads.</p>
</td></tr>
<tr><td><code id="getLocation_+3A_sig">sig</code></td>
<td>
<p>Optional.<br />
Digital Signature.<br />
How to use this argument? Please check here
https://lbs.amap.com/faq/account/key/72</p>
</td></tr>
<tr><td><code id="getLocation_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="getLocation_+3A_callback">callback</code></td>
<td>
<p>Optional.<br />
Callback Function. <br />
The value of callback is the customized function.
Only available with JSON output.
If you don't understand, it means you don't need it, just like me.</p>
</td></tr>
<tr><td><code id="getLocation_+3A_homeorcorp">homeorcorp</code></td>
<td>
<p>Optional.<br />
Optimize the order of returned POI or not.<br />
When 'extensions = all', this argument makes sense. <br />
'homeorcorp=0', do not optimize, by default.<br />
'homeorcorp=1', home related POIs are first, by default.<br />
'homeorcorp=2', corporation related POIs are first, by default.<br /></p>
</td></tr>
<tr><td><code id="getLocation_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="getLocation_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON, XML or data.table of results
containing detailed reverse geocode information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/georegeo">https://lbs.amap.com/api/webservice/guide/api/georegeo</a>
for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+extractCoord">extractCoord</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(amapGeocode)

# Before the `getLocation()` is executed,
# the token should be set by `option(amap_key = 'key')`
# or set by key argument in `getLocation()`

# Get reverse-geocode as a table
getLocation(104.043284, 30.666864)
# Get reverse-geocode as a XML
getLocation("104.043284, 30.666864", output = "XML")

## End(Not run)

</code></pre>

<hr>
<h2 id='getLocation.individual'>Get an individual location from coordinate</h2><span id='topic+getLocation.individual'></span>

<h3>Description</h3>

<p>Get an individual location from coordinate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLocation.individual(
  lng,
  lat,
  key = NULL,
  poitype = NULL,
  radius = NULL,
  extensions = NULL,
  roadlevel = NULL,
  sig = NULL,
  output = "data.table",
  callback = NULL,
  homeorcorp = 0,
  keep_bad_request = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLocation.individual_+3A_lng">lng</code></td>
<td>
<p>Required. <br />
Longitude in decimal</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_lat">lat</code></td>
<td>
<p>Required. <br />
Latitude in decimal</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_key">key</code></td>
<td>
<p>Optional.<br />
Amap Key. <br />
Applied from 'AutoNavi' Map API
official website<a href="https://lbs.amap.com/dev/">https://lbs.amap.com/dev/</a></p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_poitype">poitype</code></td>
<td>
<p>Optional.<br />
Return nearby POI types.<br />
When 'extensions = all', this argument makes sense.
For detailed poitype type,
please refer<a href="https://lbs.amap.com/api/webservice/download">https://lbs.amap.com/api/webservice/download</a></p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_radius">radius</code></td>
<td>
<p>Optional.<br />
Searching radius.<br />
radius ranges from 0 to 3000, the default value is 1000, unit: meter.</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_extensions">extensions</code></td>
<td>
<p>Optional.<br />
Return results controller.<br />
'base': the default value,
it only return base information about coordinate.<br />
'all': it will return nearby POI, road information and cross information.</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_roadlevel">roadlevel</code></td>
<td>
<p>Optional.<br />
Road levels.<br />
When 'extensions = all', this argument makes sense. <br />
'roadlevel=0', return all roads.<br />
'roadlevel=1', only return main roads.</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_sig">sig</code></td>
<td>
<p>Optional.<br />
Digital Signature.<br />
How to use this argument?
Please check herehttps://lbs.amap.com/faq/account/key/72</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_output">output</code></td>
<td>
<p>Optional.<br />
Output Data Structure. <br />
Support JSON, XML and data.table. The default value is data.table.</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_callback">callback</code></td>
<td>
<p>Optional.<br />
Callback Function. <br />
The value of callback is the customized function.
Only available with JSON output.
If you don't understand, it means you don't need it, just like me.</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_homeorcorp">homeorcorp</code></td>
<td>
<p>Optional.<br />
Optimize the order of returned POI or not.<br />
When 'extensions = all', this argument makes sense. <br />
'homeorcorp=0', do not optimize, by default.<br />
'homeorcorp=1', home related POIs are first, by default.<br />
'homeorcorp=2', corporation related POIs are first, by default.<br /></p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_keep_bad_request">keep_bad_request</code></td>
<td>
<p>Optional.<br />
Keep Bad Request to avoid breaking a workflow,
especially meaningful in a batch request</p>
</td></tr>
<tr><td><code id="getLocation.individual_+3A_...">...</code></td>
<td>
<p>Optional.<br />
For compatibility only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a JSON, XML or data.table of results
containing detailed reverse geocode information.
See <a href="https://lbs.amap.com/api/webservice/guide/api/georegeo">https://lbs.amap.com/api/webservice/guide/api/georegeo</a>
for more information.
</p>

<hr>
<h2 id='num_coord_to_str_loc'>Take longitude and latitude from location string out.</h2><span id='topic+num_coord_to_str_loc'></span>

<h3>Description</h3>

<p>Take longitude and latitude from location string out.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_coord_to_str_loc(lng, lat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="num_coord_to_str_loc_+3A_lng">lng</code></td>
<td>
<p>Required. <br />
Longitude in decimal</p>
</td></tr>
<tr><td><code id="num_coord_to_str_loc_+3A_lat">lat</code></td>
<td>
<p>Required. <br />
Latitude in decimal</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Comma binded coordinate string
</p>

<hr>
<h2 id='str_loc_to_num_coord'>Take longitude and latitude from location string out.</h2><span id='topic+str_loc_to_num_coord'></span>

<h3>Description</h3>

<p>Take longitude and latitude from location string out.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_loc_to_num_coord(str_location)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="str_loc_to_num_coord_+3A_str_location">str_location</code></td>
<td>
<p>Required. <br />
Location string from response</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector contains Longitude and Latitude in numeric
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

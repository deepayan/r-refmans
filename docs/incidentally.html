<!DOCTYPE html><html><head><title>Help for package incidentally</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {incidentally}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add.blocks'><p>Adds a block structure to an incidence matrix</p></a></li>
<li><a href='#curveball'><p>Randomize an incidence matrix or bipartite graph using the curveball algorithm</p></a></li>
<li><a href='#incidence.from.adjacency'><p>Generates an incidence matrix from an adjacency matrix</p></a></li>
<li><a href='#incidence.from.congress'><p>Generate bill sponsorship incidence matrices and bipartite graphs</p></a></li>
<li><a href='#incidence.from.distribution'><p>Generates an incidence matrix with row and column sums that follow given distributions</p></a></li>
<li><a href='#incidence.from.probability'><p>Generates an incidence matrix with a given cell-filling probability</p></a></li>
<li><a href='#incidence.from.vector'><p>Generates an incidence matrix with given row and column marginal sums</p></a></li>
<li><a href='#incidentally'><p>incidentally: Generates incidence matrices and bipartite graphs</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Generates Incidence Matrices and Bipartite Graphs</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to generate incidence matrices and bipartite graphs that have (1) a fixed fill rate, (2) given marginal sums, (3) marginal sums that follow given distributions, or (4) represent bill sponsorships in the US Congress &lt;<a href="https://doi.org/10.31219%2Fosf.io%2Fectms">doi:10.31219/osf.io/ectms</a>&gt;. It can also generate an incidence matrix from an adjacency matrix, or bipartite graph from a unipartite graph, via a social process mirroring team, group, or organization formation &lt;<a href="https://doi.org/10.48550%2FarXiv.2204.13670">doi:10.48550/arXiv.2204.13670</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>igraph, Matrix, methods, stats, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>backbone, rmarkdown, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.zacharyneal.com/backbone">https://www.zacharyneal.com/backbone</a>,
<a href="https://github.com/zpneal/incidentally">https://github.com/zpneal/incidentally</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/zpneal/incidentally/issues">https://github.com/zpneal/incidentally/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-15 15:26:10 UTC; zacharyneal</td>
</tr>
<tr>
<td>Author:</td>
<td>Zachary Neal <a href="https://orcid.org/0000-0003-3076-4995"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zachary Neal &lt;zpneal@msu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-15 21:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add.blocks'>Adds a block structure to an incidence matrix</h2><span id='topic+add.blocks'></span>

<h3>Description</h3>

<p><code>add.blocks</code> shuffles an incidence matrix to have a block structure or planted partition while preserving the row and column sums
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add.blocks(
  I,
  rowblock = sample(1:2, replace = T, nrow(I)),
  colblock = sample(1:2, replace = T, ncol(I)),
  density = 0.5,
  sorted = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add.blocks_+3A_i">I</code></td>
<td>
<p>An incidence matrix or <a href="igraph.html#topic+igraph">igraph</a> bipartite graph</p>
</td></tr>
<tr><td><code id="add.blocks_+3A_rowblock">rowblock</code></td>
<td>
<p>numeric: vector indicating each row node's block membership</p>
</td></tr>
<tr><td><code id="add.blocks_+3A_colblock">colblock</code></td>
<td>
<p>numeric: vector indicating each column node's block membership</p>
</td></tr>
<tr><td><code id="add.blocks_+3A_density">density</code></td>
<td>
<p>numeric: desired within-block density</p>
</td></tr>
<tr><td><code id="add.blocks_+3A_sorted">sorted</code></td>
<td>
<p>boolean: if TRUE, return incidence matrix permuted by block</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stochastic block and planted partition models generate graphs in which the probability that two nodes are connected
depends on whether they are members of the same or different blocks/partitions. Functions such as <a href="igraph.html#topic+sample_sbm">sample_sbm</a>
can randomly sample from stochastic block models with given probabilities. In contrast <code>add.blocks</code> adds a block
structure to an existing incidence matrix while preserving the row and column sums. Row nodes' and column nodes'
block memberships are supplied in separate vectors. If block membership vectors are not provided, then nodes are
randomly assigned to two groups.
</p>


<h3>Value</h3>

<p>An incidence matrix or <a href="igraph.html#topic+igraph">igraph</a> bipartite graph with a block structure
</p>


<h3>References</h3>

<p>Neal, Z. P., Domagalski, R., and Sagan, B. 2021. Comparing alternatives to the fixed degree sequence model for extracting the backbone of bipartite projections. <em>Scientific Reports, 11</em>, 23929. doi: <a href="https://doi.org/10.1038/s41598-021-03238-3">10.1038/s41598-021-03238-3</a>
</p>
<p>Neal, Z. P. 2022. incidentally: An R package to generate incidence matrices and bipartite graphs. <em>OSF Preprints</em> doi: <a href="https://doi.org/10.31219/osf.io/ectms">10.31219/osf.io/ectms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>I &lt;- incidence.from.probability(R = 100, C = 100, P = .1)
blocked &lt;- add.blocks(I, density = .7)
all(rowSums(I)==rowSums(blocked))
all(colSums(I)==colSums(blocked))

B &lt;- igraph::sample_bipartite(100, 100, p=.1)
blocked &lt;- add.blocks(B, density = .7)
all(igraph::degree(B)==igraph::degree(blocked))
</code></pre>

<hr>
<h2 id='curveball'>Randomize an incidence matrix or bipartite graph using the curveball algorithm</h2><span id='topic+curveball'></span>

<h3>Description</h3>

<p><code>curveball</code> randomizes an incidence matrix or bipartite graph, preserving the row and column sums
</p>


<h3>Usage</h3>

<pre><code class='language-R'>curveball(M, trades = 5 * nrow(M), class = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="curveball_+3A_m">M</code></td>
<td>
<p>a binary matrix of class <code>matrix</code> or <code>Matrix</code>, or a bipartite graph of class <a href="igraph.html#topic+igraph">igraph</a>.</p>
</td></tr>
<tr><td><code id="curveball_+3A_trades">trades</code></td>
<td>
<p>integer: number of trades; the default is 5 * nrow(M) (approx. mixing time)</p>
</td></tr>
<tr><td><code id="curveball_+3A_class">class</code></td>
<td>
<p>string: Return object as <code>matrix</code>, <code>Matrix</code>, <code>igraph</code>. If <code>NULL</code>, object is returned in the same class as <code>M</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Strona et al. (2014) provided an initial implementation of the Curveball algorithm in R. <code>curveball()</code> is a modified R
implementation that is slightly more efficient. For an even more efficient algorithm, see <code>backbone::fastball()</code>.
</p>


<h3>Value</h3>

<p>An incidence matrix of class <code>matrix</code> or <code>Matrix</code>, or a bipartite graph of class <a href="igraph.html#topic+igraph">igraph</a>.
</p>


<h3>References</h3>

<p>Strona, Giovanni, Domenico Nappo, Francesco Boccacci, Simone Fattorini, and Jesus San-Miguel-Ayanz. 2014. A Fast and Unbiased Procedure to Randomize Ecological Binary Matrices with Fixed Row and Column Totals. <em>Nature Communications, 5</em>, 4114. doi: <a href="https://doi.org/10.1038/ncomms5114">10.1038/ncomms5114</a>
</p>
<p>Godard, Karl and Neal, Zachary P. 2022. fastball: A fast algorithm to sample bipartite graphs with fixed degree sequences. <a href="https://arxiv.org/abs/2112.04017"><em>arXiv:2112.04017</em></a>
</p>
<p>Neal, Z. P. 2022. incidentally: An R package to generate incidence matrices and bipartite graphs. <em>OSF Preprints</em> doi: <a href="https://doi.org/10.31219/osf.io/ectms">10.31219/osf.io/ectms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>M &lt;- incidence.from.probability(5,5,.5)  #A matrix
Mrand &lt;- curveball(M)  #Random matrix with same row/col sums
all.equal(rowSums(M), rowSums(curveball(M)))
all.equal(colSums(M), colSums(curveball(M)))
</code></pre>

<hr>
<h2 id='incidence.from.adjacency'>Generates an incidence matrix from an adjacency matrix</h2><span id='topic+incidence.from.adjacency'></span>

<h3>Description</h3>

<p><code>incidence.from.adjacency</code> generates an incidence matrix from an adjacency matrix or network using
a given generative model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incidence.from.adjacency(
  G,
  k = 1,
  p = 1,
  blau.param = c(2, 1, 10),
  maximal = TRUE,
  model = "team",
  class = NULL,
  narrative = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incidence.from.adjacency_+3A_g">G</code></td>
<td>
<p>A symmetric, binary adjacency matrix of class <code>matrix</code> or <code>Matrix</code>,
or an undirected, unweighted unipartite graph of class <a href="igraph.html#topic+igraph">igraph</a>.</p>
</td></tr>
<tr><td><code id="incidence.from.adjacency_+3A_k">k</code></td>
<td>
<p>integer: Number of artifacts to generate</p>
</td></tr>
<tr><td><code id="incidence.from.adjacency_+3A_p">p</code></td>
<td>
<p>numeric: Tuning parameter for artifacts, 0 &lt;= p &lt;= 1</p>
</td></tr>
<tr><td><code id="incidence.from.adjacency_+3A_blau.param">blau.param</code></td>
<td>
<p>vector: Vector of parameters that control blau space in the organizations model (see details)</p>
</td></tr>
<tr><td><code id="incidence.from.adjacency_+3A_maximal">maximal</code></td>
<td>
<p>boolean: Should teams/clubs models be seeded with <em>maximal</em> cliques?</p>
</td></tr>
<tr><td><code id="incidence.from.adjacency_+3A_model">model</code></td>
<td>
<p>string: Generative model, one of c(&quot;team&quot;, &quot;club&quot;, &quot;org&quot;) (see details)</p>
</td></tr>
<tr><td><code id="incidence.from.adjacency_+3A_class">class</code></td>
<td>
<p>string: Return object as <code>matrix</code>, <code>Matrix</code>, or <code>igraph</code>. If <code>NULL</code>, object is returned in the same class as <code>G</code>.</p>
</td></tr>
<tr><td><code id="incidence.from.adjacency_+3A_narrative">narrative</code></td>
<td>
<p>boolean: TRUE if suggested text &amp; citations should be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a unipartite network composed of <em>i agents</em> (i.e. nodes) that can be represented by an <em>i x i</em> adjacency
matrix, <code>incidence.from.adjacency</code> generates a random <em>i x k</em> incidence matrix that indicates whether agent
<em>i</em> is associated with <em>artifact k</em>. Generative models differ in how they conceptualize artifacts and how
they associate agents with these artifacts.
</p>
<p>The <strong>Team Model</strong> (<code>model == "team"</code>) mirrors a team formation process, where each artifact represents a new team
formed from the incumbants of a prior team (with probability <code>p</code>) and newcomers (with probability 1-<code>p</code>).
</p>
<p>The <strong>Club Model</strong> (<code>model == "club"</code>) mirrors a social club formation process, where each artifact represents
a social club. Club members attempt to recruit non-member friends, who join the club if it would have a
density of at least <code>p</code>.
</p>
<p>The <strong>Organizations Model</strong> (<code>model == "org"</code>) mirrors an organization (the artifact) recruiting members from social
space, where those within the organization's niche join with probability <code>p</code>, and those outside the niche join
with probability 1-<code>p</code>. <code>blau.param</code> is a vector containing three values that control the characteristics of the
blau space. The first value is the space's dimensionality. The second two values are shape parameters of a Beta
distribution that describes niche sizes. The default is a two-dimensional blau space, with organization niche
sizes that are strongly positively skewed (i.e., many specialist organizations, few generalists).
</p>


<h3>Value</h3>

<p>An incidence matrix of class <code>matrix</code> or <code>Matrix</code>, or a bipartite graph of class <a href="igraph.html#topic+igraph">igraph</a>.
</p>


<h3>References</h3>

<p>Neal, Z. P. 2023. The duality of networks and groups: Models to generate two-mode networks from one-mode networks. <em>Network Science</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>G &lt;- igraph::erdos.renyi.game(10, .4)
I &lt;- incidence.from.adjacency(G, k = 1000, p = .95,
                              model = "team", narrative = TRUE)
</code></pre>

<hr>
<h2 id='incidence.from.congress'>Generate bill sponsorship incidence matrices and bipartite graphs</h2><span id='topic+incidence.from.congress'></span>

<h3>Description</h3>

<p><code>incidence.from.congress()</code> uses data from <a href="https://www.congress.gov/">https://www.congress.gov/</a> to construct an incidence
matrix or bipartite graph recording legislators' bill (co-)sponsorships.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incidence.from.congress(
  session = NULL,
  types = NULL,
  areas = "all",
  nonvoting = FALSE,
  weighted = FALSE,
  format = "data",
  narrative = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incidence.from.congress_+3A_session">session</code></td>
<td>
<p>numeric: the session of congress</p>
</td></tr>
<tr><td><code id="incidence.from.congress_+3A_types">types</code></td>
<td>
<p>vector: types of bills to include. May be any combination of c(&quot;s&quot;, &quot;sres&quot;, &quot;sjres&quot;, &quot;sconres&quot;) OR any combination of c(&quot;hr&quot;, &quot;hres&quot;, &quot;hjres&quot;, &quot;hconres&quot;).</p>
</td></tr>
<tr><td><code id="incidence.from.congress_+3A_areas">areas</code></td>
<td>
<p>string: policy areas of bills to include (see details)</p>
</td></tr>
<tr><td><code id="incidence.from.congress_+3A_nonvoting">nonvoting</code></td>
<td>
<p>boolean: should non-voting members be included</p>
</td></tr>
<tr><td><code id="incidence.from.congress_+3A_weighted">weighted</code></td>
<td>
<p>boolean: should sponsor-bill edges have a weight of 2, but cosponsor-bill edges have a weight of 1</p>
</td></tr>
<tr><td><code id="incidence.from.congress_+3A_format">format</code></td>
<td>
<p>string: format of output, one of c(&quot;data&quot;, &quot;igraph&quot;)</p>
</td></tr>
<tr><td><code id="incidence.from.congress_+3A_narrative">narrative</code></td>
<td>
<p>boolean: TRUE if suggested text &amp; citations should be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>incidence.from.congress()</code> function uses data from <a href="https://www.congress.gov/">https://www.congress.gov/</a> to
construct an incidence matrix or bipartite graph recording legislators' bill (co-)sponsorships. In an incidence matrix
<strong>I</strong>, entry <em>Iik = 1</em> if legislator <em>i</em> sponsored or co-sponsored bill <em>k</em>, and otherwise is 0. In a bipartite graph
<strong>G</strong>, a legislator <em>i</em> is connected to a bill <em>k</em> if <em>i</em> sponsored or co-sponsored <em>k</em>.
</p>
<p>In the US Congress, the law making process begins when a <em>sponsor</em> legislator introduces a bill in their chamber (House of
Representatives or Senate). Additional legislators in the same chamber can support the bill by joining as a <em>co-sponsor</em>.
The bill is discussed, revised, and possibly voted on in the chamber. If it passes in one chamber, it is sent to the other
chamber for further discussion, revision, and possibly a vote. If it passed both chambers, it is sent to the President. If
the President signs the bill, it becomes law.
</p>
<p>In the House of Representatives, legislators can introduce four types of bills: a House Bill (hr), a House Joint Resolution (hjres),
a House Concurrent Resolution (hconres), and a House Simple Resolution (hres). Similarly, in the Senate, legislators can introduce
four types of bills: a Senate Bill (s), a Senate Joint Resolution (sjres), a Senate Concurrent Resolution (sconres), and a Senate
Simple Resolution (sres). In both chambers, concurrent and simple resolutions are used for minor procedural matters and do not
have the force of law. Only bills and joint resolutions require the President's signature and have the force of law if signed.
</p>
<p>Each bill is assigned a policy area by the Congressional Research Service. By default, bills from all policy areas are included,
however the <code>areas</code> parameter can be used to include only bills addressing certain policy areas. The <code>areas</code> takes a vector of
strings listing the desired policy areas (e.g., <code>areas = c("Congress", "Animals")</code>). A complete list of policy areas and brief
descriptions is available at <a href="https://www.congress.gov/help/field-values/policy-area">https://www.congress.gov/help/field-values/policy-area</a>.
</p>


<h3>Value</h3>

<p>If <code>format = "data"</code>, a list containing an incidence matrix, a dataframe of legislator characteristics, and a dataframe of bill characteristics.
</p>
<p>If <code>format = "igraph"</code>, a bipartite igraph object composed of legislator vertices and bill vertices, each with vertex attributes.
</p>
<p>For both formats, legislator characteristics include: BioGuide ID, full name, last name, party affiliation, and state. Bill characteristics
include: bill ID, introduction date, title, policy area, status, sponsor's party, and number of co-sponsors from each party.
</p>


<h3>References</h3>

<p>Tutorial: Neal, Z. P. 2022. Constructing legislative networks in R using incidentally and backbone. <em>Connections, 42</em>. doi: <a href="https://doi.org/10.2478/connections-2019.026">10.2478/connections-2019.026</a>
</p>
<p>Package: Neal, Z. P. 2022. incidentally: An R package to generate incidence matrices and bipartite graphs. <em>OSF Preprints</em> doi: <a href="https://doi.org/10.31219/osf.io/ectms">10.31219/osf.io/ectms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
D &lt;- incidence.from.congress(session = 116, types = "s", format = "data")
D &lt;- incidence.from.congress(session = 116, types = "s", format = "data", areas = "animals")
G &lt;- incidence.from.congress(session = 115, types = c("hr", "hres"), format = "igraph")

## End(Not run)
</code></pre>

<hr>
<h2 id='incidence.from.distribution'>Generates an incidence matrix with row and column sums that follow given distributions</h2><span id='topic+incidence.from.distribution'></span>

<h3>Description</h3>

<p><code>incidence.from.distribution</code> generates a random incidence matrix with row and column
sums that approximately follow beta distributions with given parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incidence.from.distribution(
  R,
  C,
  P,
  rowdist = c(1, 1),
  coldist = c(1, 1),
  class = "matrix",
  narrative = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incidence.from.distribution_+3A_r">R</code></td>
<td>
<p>integer: number of rows</p>
</td></tr>
<tr><td><code id="incidence.from.distribution_+3A_c">C</code></td>
<td>
<p>integer: number of columns</p>
</td></tr>
<tr><td><code id="incidence.from.distribution_+3A_p">P</code></td>
<td>
<p>numeric: probability that a cell contains a 1</p>
</td></tr>
<tr><td><code id="incidence.from.distribution_+3A_rowdist">rowdist</code></td>
<td>
<p>vector length 2: Row marginals will approximately follow a Beta(a,b) distribution</p>
</td></tr>
<tr><td><code id="incidence.from.distribution_+3A_coldist">coldist</code></td>
<td>
<p>vector length 2: Column marginals will approximately follow a Beta(a,b) distribution</p>
</td></tr>
<tr><td><code id="incidence.from.distribution_+3A_class">class</code></td>
<td>
<p>string: the class of the returned backbone graph, one of c(&quot;matrix&quot;, &quot;Matrix&quot;, &quot;igraph&quot;).</p>
</td></tr>
<tr><td><code id="incidence.from.distribution_+3A_narrative">narrative</code></td>
<td>
<p>boolean: TRUE if suggested text &amp; citations should be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An incidence matrix of class <code>matrix</code> or <code>Matrix</code>, or a bipartite graph of class <a href="igraph.html#topic+igraph">igraph</a>.
</p>


<h3>References</h3>

<p>Neal, Z. P., Domagalski, R., and Sagan, B. 2021. Comparing alternatives to the fixed degree sequence model for extracting the backbone of bipartite projections. <em>Scientific Reports, 11</em>, 23929. doi: <a href="https://doi.org/10.1038/s41598-021-03238-3">10.1038/s41598-021-03238-3</a>
</p>
<p>Neal, Z. P. 2022. incidentally: An R package to generate incidence matrices and bipartite graphs. <em>OSF Preprints</em> doi: <a href="https://doi.org/10.31219/osf.io/ectms">10.31219/osf.io/ectms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>I &lt;- incidence.from.distribution(R = 100, C = 100, P = 0.1,
     rowdist = c(10000,10000), coldist = c(10000,10000))  #Constant
I &lt;- incidence.from.distribution(R = 100, C = 100, P = 0.1,
     rowdist = c(1,1), coldist = c(1,1))  #Uniform
I &lt;- incidence.from.distribution(R = 100, C = 100, P = 0.1,
     rowdist = c(1,10), coldist = c(1,10))  #Right-tailed
I &lt;- incidence.from.distribution(R = 100, C = 100, P = 0.1,
     rowdist = c(10,1), coldist = c(10,1))  #Left-tailed
I &lt;- incidence.from.distribution(R = 100, C = 100, P = 0.1,
     rowdist = c(10,10), coldist = c(10,10),
     narrative = TRUE)  #Normal
</code></pre>

<hr>
<h2 id='incidence.from.probability'>Generates an incidence matrix with a given cell-filling probability</h2><span id='topic+incidence.from.probability'></span>

<h3>Description</h3>

<p><code>incidence.from.probability</code> generates a random incidence matrix in which each cell is filled
with a 1 with a given probability.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incidence.from.probability(
  R,
  C,
  P = 0,
  constrain = TRUE,
  class = "matrix",
  narrative = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incidence.from.probability_+3A_r">R</code></td>
<td>
<p>integer: number of rows</p>
</td></tr>
<tr><td><code id="incidence.from.probability_+3A_c">C</code></td>
<td>
<p>integer: number of columns</p>
</td></tr>
<tr><td><code id="incidence.from.probability_+3A_p">P</code></td>
<td>
<p>numeric: probability that a cell contains a 1; if P = 0 a probability will be chosen randomly</p>
</td></tr>
<tr><td><code id="incidence.from.probability_+3A_constrain">constrain</code></td>
<td>
<p>boolean: ensure that no rows or columns sum to 0 (i.e., contain all 0s) or to 1 (i.e., contain all 1s)</p>
</td></tr>
<tr><td><code id="incidence.from.probability_+3A_class">class</code></td>
<td>
<p>string: the class of the returned backbone graph, one of c(&quot;matrix&quot;, &quot;Matrix&quot;, &quot;igraph&quot;).</p>
</td></tr>
<tr><td><code id="incidence.from.probability_+3A_narrative">narrative</code></td>
<td>
<p>boolean: TRUE if suggested text &amp; citations should be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An incidence matrix of class <code>matrix</code> or <code>Matrix</code>, or a bipartite graph of class <a href="igraph.html#topic+igraph">igraph</a>.
</p>


<h3>References</h3>

<p>Neal, Z. P., Domagalski, R., and Sagan, B. 2021. Comparing alternatives to the fixed degree sequence model for extracting the backbone of bipartite projections. <em>Scientific Reports, 11</em>, 23929. doi: <a href="https://doi.org/10.1038/s41598-021-03238-3">10.1038/s41598-021-03238-3</a>
</p>
<p>Neal, Z. P. 2022. incidentally: An R package to generate incidence matrices and bipartite graphs. <em>OSF Preprints</em> doi: <a href="https://doi.org/10.31219/osf.io/ectms">10.31219/osf.io/ectms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>I &lt;- incidence.from.probability(R = 10, C = 10)
I &lt;- incidence.from.probability(R = 10, C = 10, P = .5)
I &lt;- incidence.from.probability(R = 10, C = 10, P = .5,
     class = "igraph", narrative = TRUE)
</code></pre>

<hr>
<h2 id='incidence.from.vector'>Generates an incidence matrix with given row and column marginal sums</h2><span id='topic+incidence.from.vector'></span>

<h3>Description</h3>

<p><code>incidence.from.vector</code> generates a random incidence matrix with given row and column sums
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incidence.from.vector(R, C, class = "matrix", narrative = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incidence.from.vector_+3A_r">R</code></td>
<td>
<p>numeric vector: row marginal sums</p>
</td></tr>
<tr><td><code id="incidence.from.vector_+3A_c">C</code></td>
<td>
<p>numeric vector: column marginal sums</p>
</td></tr>
<tr><td><code id="incidence.from.vector_+3A_class">class</code></td>
<td>
<p>string: the class of the returned backbone graph, one of c(&quot;matrix&quot;, &quot;Matrix&quot;, &quot;igraph&quot;).</p>
</td></tr>
<tr><td><code id="incidence.from.vector_+3A_narrative">narrative</code></td>
<td>
<p>boolean: TRUE if suggested text &amp; citations should be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An incidence matrix of class <code>matrix</code> or <code>Matrix</code>, or a bipartite graph of class <a href="igraph.html#topic+igraph">igraph</a>.
</p>


<h3>References</h3>

<p>Neal, Z. P., Domagalski, R., and Sagan, B. 2021. Comparing alternatives to the fixed degree sequence model for extracting the backbone of bipartite projections. <em>Scientific Reports, 11</em>, 23929. doi: <a href="https://doi.org/10.1038/s41598-021-03238-3">10.1038/s41598-021-03238-3</a>
</p>
<p>Neal, Z. P. 2022. incidentally: An R package to generate incidence matrices and bipartite graphs. <em>OSF Preprints</em> doi: <a href="https://doi.org/10.31219/osf.io/ectms">10.31219/osf.io/ectms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>I &lt;- incidence.from.vector(R = c(1,1,2), C = c(1,1,2))
I &lt;- incidence.from.vector(R = c(1,1,2), C = c(1,1,2),
     class = "igraph", narrative = TRUE)
</code></pre>

<hr>
<h2 id='incidentally'>incidentally: Generates incidence matrices and bipartite graphs</h2><span id='topic+incidentally'></span>

<h3>Description</h3>

<p>Functions to generate incidence matrices and bipartite graphs that have
(1) a fixed fill rate, (2) given marginal sums, (3) marginal sums that follow given
distributions, or (4) represent bill sponsorships in the US Congress. It can also
generate an incidence matrix from an adjacency matrix, or bipartite graph from a
unipartite graph, via a social process mirroring team, group, or organization formation.
</p>
<p>Incidence matrices can be generated:
</p>

<ul>
<li><p> ...with a fixed fill rate: <code><a href="#topic+incidence.from.probability">incidence.from.probability()</a></code>.
</p>
</li>
<li><p> ...with given marginals: <code><a href="#topic+incidence.from.vector">incidence.from.vector()</a></code>.
</p>
</li>
<li><p> ...with marginals that follow given distributions: <code><a href="#topic+incidence.from.distribution">incidence.from.distribution()</a></code>.
</p>
</li>
<li><p> ...from a network, by a social process mirroring team, group, or organization formation <code><a href="#topic+incidence.from.adjacency">incidence.from.adjacency()</a></code>.
</p>
</li>
<li><p> ...with a block structure or planted partition: <code><a href="#topic+add.blocks">add.blocks()</a></code>.
</p>
</li>
<li><p> ...from US Congress bill sponsorships: <code><a href="#topic+incidence.from.congress">incidence.from.congress()</a></code>.
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

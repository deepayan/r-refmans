<!DOCTYPE html><html lang="en"><head><title>Help for package experiment</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {experiment}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ATEbounds'><p>Bounding the Average Treatment Effect when some of the Outcome Data are</p>
Missing</a></li>
<li><a href='#ATEcluster'><p>Estimation of the Average Treatment Effects in Cluster-Randomized</p>
Experiments</a></li>
<li><a href='#ATEnocov'><p>Estimation of the Average Treatment Effect in Randomized Experiments</p></a></li>
<li><a href='#ATOPnoassumption'><p>Bounding the  ATOP when some of the Outcome Data are</p>
Missing Under the Matched-Pairs Design</a></li>
<li><a href='#ATOPobs'><p>Sensitivity analysis for the ATOP when some of the Outcome Data are</p>
Missing Under the Matched-Pairs Design in Observational Studies</a></li>
<li><a href='#ATOPsens'><p>Sensitivity analysis for the ATOP when some of the Outcome Data are</p>
Missing Under the Matched-Pairs Design</a></li>
<li><a href='#AUPEC'><p>Estimation of the unnormalized Area Under Prescription Evaluation Curve (AUPEC) in Completely Randomized Experiments</p></a></li>
<li><a href='#CACEcluster'><p>Estimation of the Complier Average Causal Effects in Cluster-Randomized</p>
Experiments with Unit-level Noncompliance</a></li>
<li><a href='#CADErand'><p>Randomization-based method for the complier average direct effect and the complier average spillover effect</p></a></li>
<li><a href='#CADEreg'><p>Regression-based method for the complier average direct effect</p></a></li>
<li><a href='#NoncompLI'><p>Bayesian Analysis of Randomized Experiments with Noncompliance and Missing</p>
Outcomes Under the Assumption of Latent Ignorability</a></li>
<li><a href='#PAPD'><p>Estimation of the Population Average Prescription Difference in Completely Randomized Experiments</p></a></li>
<li><a href='#PAPE'><p>Estimation of the Population Average Prescription Effect in Completely Randomized Experiments</p></a></li>
<li><a href='#randomize'><p>Randomization of the Treatment Assignment for Conducting Experiments</p></a></li>
<li><a href='#seguro'><p>Data from the Mexican universal health insurance program, Seguro Popular.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-07</td>
</tr>
<tr>
<td>Title:</td>
<td>R Package for Designing and Analyzing Randomized Experiments</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kosuke Imai &lt;imai@harvard.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>boot, MASS, R (&ge; 2.4.0)</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides various statistical methods for
  designing and analyzing randomized experiments. One functionality
  of the package is the implementation of randomized-block and
  matched-pair designs based on possibly multivariate pre-treatment
  covariates. The package also provides the tools to analyze various
  randomized experiments including cluster randomized experiments,
  two-stage randomized experiments, randomized experiments with 
  noncompliance, and randomized experiments with missing data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kosukeimai/experiment">https://github.com/kosukeimai/experiment</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kosukeimai/experiment/issues">https://github.com/kosukeimai/experiment/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-12 17:18:25 UTC; kimai</td>
</tr>
<tr>
<td>Author:</td>
<td>Kosuke Imai [aut, cre],
  Zhichao Jiang [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-12 18:52:32 UTC</td>
</tr>
</table>
<hr>
<h2 id='ATEbounds'>Bounding the Average Treatment Effect when some of the Outcome Data are
Missing</h2><span id='topic+ATEbounds'></span>

<h3>Description</h3>

<p>This function computes the sharp bounds on the average treatment effect when
some of the outcome data are missing. The confidence intervals for the
bounds are also computed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATEbounds(
  formula,
  data = parent.frame(),
  maxY = NULL,
  minY = NULL,
  alpha = 0.05,
  n.reps = 0,
  strata = NULL,
  ratio = NULL,
  survey = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATEbounds_+3A_formula">formula</code></td>
<td>
<p>A formula of the form <code>Y ~ X</code> where <code>Y</code> is the name
of the outcome variable and <code>X</code> is the name of the (randomized)
treatment variable. <code>X</code> should be a factor variable but its value can
take more than two levels. The missing values for <code>Y</code> should be coded
as <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_maxy">maxY</code></td>
<td>
<p>A scalar. The maximum value of the outcome variable. The default
is the maximum sample value.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_miny">minY</code></td>
<td>
<p>A scalar. The minimum value of the outcome variable. The default
is the minimum sample value.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_alpha">alpha</code></td>
<td>
<p>A positive scalar that is less than or equal to 0.5. This will
determine the (1-<code>alpha</code>) level of confidence intervals. The default is
<code>0.05</code>.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_n.reps">n.reps</code></td>
<td>
<p>A positive integer. The number of bootstrap replicates used
for the construction of confidence intervals via B-method of Berran (1988).
If it equals zero, the confidence intervals will not be constructed.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_strata">strata</code></td>
<td>
<p>The variable name indicating strata. If this is specified, the
quantities of interest will be first calculated within each strata and then
aggregated. The default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_ratio">ratio</code></td>
<td>
<p>A <code class="reqn">J \times M</code> matrix of probabilities where <code class="reqn">J</code> is the
number of strata and <code class="reqn">M</code> is the number of treatment and control groups.
Each element of the matrix specifies the probability of a unit falling into
that category. The default is <code>NULL</code> in which case the sample estimates
of these probabilities are used for computation.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_survey">survey</code></td>
<td>
<p>The variable name for survey weights. The default is
<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ATEbounds_+3A_...">...</code></td>
<td>
<p>The arguments passed to other functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>ATEbounds</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>call</code></td>
<td>
<p> The matched call.  </p>
</td></tr> <tr><td><code>Y</code></td>
<td>
<p> The outcome variable.  </p>
</td></tr>
<tr><td><code>D</code></td>
<td>
<p> The treatment variable.  </p>
</td></tr> <tr><td><code>bounds</code></td>
<td>
<p> The point estimates of
the sharp bounds on the average treatment effect.  </p>
</td></tr> <tr><td><code>bounds.Y</code></td>
<td>
<p> The
point estimates of the sharp bounds on the outcome variable within each
treatment/control group.  </p>
</td></tr> <tr><td><code>bmethod.ci</code></td>
<td>
<p> The B-method confidence
interval of the bounds on the average treatment effect.  </p>
</td></tr> <tr><td><code>bonf.ci</code></td>
<td>

<p>The Bonferroni confidence interval of the bounds on the average treatment
effect.  </p>
</td></tr> <tr><td><code>bonf.ci.Y</code></td>
<td>
<p> The Bonferroni confidence interval of the
bounds on the outcome variable within each treatment/control group.  </p>
</td></tr>
<tr><td><code>bmethod.ci.Y</code></td>
<td>
<p> The B-method confidence interval of the bounds on the
outcome variable within each treatment/control group.  </p>
</td></tr> <tr><td><code>maxY</code></td>
<td>
<p> The
maximum value of the outcome variable used in the computation.  </p>
</td></tr>
<tr><td><code>minY</code></td>
<td>
<p> The minimum value of the outcome variable used in the
computation.  </p>
</td></tr> <tr><td><code>nobs</code></td>
<td>
<p> The number of observations.  </p>
</td></tr> <tr><td><code>nobs.Y</code></td>
<td>

<p>The number of observations within each treatment/control group.  </p>
</td></tr>
<tr><td><code>ratio</code></td>
<td>
<p> The probability of treatment assignment (within each strata if
<code>strata</code> is specified) used in the computation.  </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
</p>


<h3>References</h3>

<p>Horowitz, Joel L. and Charles F. Manski. (1998).
&ldquo;Censoring of Outcomes and Regressors due to Survey Nonresponse:
Identification and Estimation Using Weights and Imputations.&rdquo; <em>Journal
of Econometrics</em>, Vol. 84, pp.37-58.
</p>
<p>Horowitz, Joel L. and Charles F. Manski. (2000).  &ldquo;Nonparametric
Analysis of Randomized Experiments With Missing Covariate and Outcome Data.&rdquo;
<em>Journal of the Americal Statistical Association</em>, Vol. 95, No. 449,
pp.77-84.
</p>
<p>Harris-Lacewell, Melissa, Kosuke Imai, and Teppei Yamamoto. (2007).
&ldquo;Racial Gaps in the Responses to Hurricane Katrina: An Experimental
Study&rdquo;, <em>Technical Report</em>. Department of Politics, Princeton
University.
</p>

<hr>
<h2 id='ATEcluster'>Estimation of the Average Treatment Effects in Cluster-Randomized
Experiments</h2><span id='topic+ATEcluster'></span>

<h3>Description</h3>

<p>This function estimates various average treatment effect in
cluster-randomized experiments without using pre-treatment covariates. The
treatment variable is assumed to be binary. Currently, only the matched-pair
design is allowed. The details of the methods for this design are given in
Imai, King, and Nall (2007).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATEcluster(
  Y,
  Z,
  grp,
  data = parent.frame(),
  match = NULL,
  weights = NULL,
  fpc = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATEcluster_+3A_y">Y</code></td>
<td>
<p>The outcome variable of interest.</p>
</td></tr>
<tr><td><code id="ATEcluster_+3A_z">Z</code></td>
<td>
<p>The (randomized) cluster-level treatment variable. This variable
should be binary. Two units in the same cluster should have the same value.</p>
</td></tr>
<tr><td><code id="ATEcluster_+3A_grp">grp</code></td>
<td>
<p>A variable indicating clusters of units. Two units in the same
cluster should have the same value.</p>
</td></tr>
<tr><td><code id="ATEcluster_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables.</p>
</td></tr>
<tr><td><code id="ATEcluster_+3A_match">match</code></td>
<td>
<p>A variable indicating matched-pairs of clusters. Two units in
the same matched-pair of clusters should have the same value. The default is
<code>NULL</code> (i.e., no matching).</p>
</td></tr>
<tr><td><code id="ATEcluster_+3A_weights">weights</code></td>
<td>
<p>A variable indicating the population cluster sizes, which
will be used to construct weights for each pair of clusters. Two units in
the same cluster should have the same value. The default is <code>NULL</code>, in
which case sample cluster sizes will be used for constructing weights.</p>
</td></tr>
<tr><td><code id="ATEcluster_+3A_fpc">fpc</code></td>
<td>
<p>A logical variable indicating whether or not finite population
correction should be used for estimating the lower bound of CACE variance.
This is relevant only when <code>weights</code> are specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class <code>ATEcluster</code> which contains the following
items: </p>
<table role = "presentation">
<tr><td><code>call</code></td>
<td>
<p> The matched call.  </p>
</td></tr> <tr><td><code>n</code></td>
<td>
<p> The total number of
units.  </p>
</td></tr> <tr><td><code>n1</code></td>
<td>
<p> The total number of units in the treatment group.  </p>
</td></tr>
<tr><td><code>n0</code></td>
<td>
<p> The total number of units in the control group.  </p>
</td></tr> <tr><td><code>Y</code></td>
<td>
<p> The
outcome variable.  </p>
</td></tr> <tr><td><code>Y1bar</code></td>
<td>
<p> The cluster-specific (unweighted) average
value of the observed outcome for the treatment group.  </p>
</td></tr> <tr><td><code>Y0bar</code></td>
<td>
<p> The
cluster-specific (unweighted) average value of the observed outcome for the
treatment group.  </p>
</td></tr> <tr><td><code>Y1var</code></td>
<td>
<p> The cluster-specific sample variance of
the observed outcome for the treatment group.  </p>
</td></tr> <tr><td><code>Y0var</code></td>
<td>
<p> The
cluster-specific sample variance of the observed outcome for the control
group.  </p>
</td></tr> <tr><td><code>Z</code></td>
<td>
<p> The treatment variable.  </p>
</td></tr> <tr><td><code>grp</code></td>
<td>
<p> The
cluster-indicator variable.  </p>
</td></tr> <tr><td><code>match</code></td>
<td>
<p> The matched-pair indicator
variable.  </p>
</td></tr> <tr><td><code>weights</code></td>
<td>
<p> The weight variable in its original form.  </p>
</td></tr>
<tr><td><code>est</code></td>
<td>
<p> The estimated average treatment effect based on the arithmetic
mean weights.  </p>
</td></tr> <tr><td><code>var</code></td>
<td>
<p> The estimated variance of the average treatment
effect estimator based on the arithmetic mean weights. This uses the
variance formula provided in Imai, King, and Nall (2007).  </p>
</td></tr> <tr><td><code>var.lb</code></td>
<td>

<p>The estimated sharp lower bound of the cluster average treatment effect
estimator using the arithmetic mean weights.  </p>
</td></tr> <tr><td><code>est.dk</code></td>
<td>
<p> The estimated
average treatment effect based on the harmonic mean weights.  </p>
</td></tr>
<tr><td><code>var.dk</code></td>
<td>
<p> The estimated variance of the average treatment effect
estimator based on the harmonic mean weights. This uses the variance formula
provided in Donner and Klar (1993).  </p>
</td></tr> <tr><td><code>dkvar</code></td>
<td>
<p> The estimated variance
of the average treatment effect estimator based on the harmonic mean
weights. This uses the variance formula provided in Imai, King, and Nall
(2007).  </p>
</td></tr> <tr><td><code>eff</code></td>
<td>
<p> The estimated relative efficiency of the matched-pair
design over the completely randomized design (the ratio of two estimated
variances).  </p>
</td></tr> <tr><td><code>m</code></td>
<td>
<p> The number of pairs in the matched-pair design.  </p>
</td></tr>
<tr><td><code>N1</code></td>
<td>
<p> The population cluster sizes for the treatment group.  </p>
</td></tr>
<tr><td><code>N0</code></td>
<td>
<p> The population cluster sizes for the control group.  </p>
</td></tr> <tr><td><code>w1</code></td>
<td>

<p>Cluster-specific weights for the treatment group.  </p>
</td></tr> <tr><td><code>w0</code></td>
<td>

<p>Cluster-specific weights for the control group.  </p>
</td></tr> <tr><td><code>w</code></td>
<td>
<p> Pair-specific
normalized arithmetic mean weights. These weights sum up to the total number
of units in the sample, i.e., <code>n</code>.  </p>
</td></tr> <tr><td><code>w.dk</code></td>
<td>
<p> Pair-specific
normalized harmonic mean weights. These weights sum up to the total number
of units in the sample, i.e., <code>n</code>.  </p>
</td></tr> <tr><td><code>diff</code></td>
<td>
<p> Within-pair
differences if the matched-pair design is analyzed. This equals the
difference between <code>Y1bar</code> and <code>Y0bar</code>.  </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
</p>


<h3>References</h3>

<p>Donner, A. and N. Klar (1993). &ldquo;Confidence interval
construction for effect measures arising from cluster randomized trials.&rdquo;
Journal of Clinical Epidemiology. Vol. 46, No. 2, pp. 123-131.
</p>
<p>Imai, Kosuke, Gary King, and Clayton Nall (2007). &ldquo;The Essential Role
of Pair Matching in Cluster-Randomized Experiments, with Application to the
Mexican Universal Health Insurance Evaluation&rdquo;, Technical Report. Department
of Politics, Princeton University.
</p>

<hr>
<h2 id='ATEnocov'>Estimation of the Average Treatment Effect in Randomized Experiments</h2><span id='topic+ATEnocov'></span>

<h3>Description</h3>

<p>This function computes the standard &ldquo;difference-in-means&rdquo; estimate of the
average treatment effect in randomized experiments without using
pre-treatment covariates. The treatment variable is assumed to be binary.
Currently, the two designs are allowed: complete randomized design and
matched-pair design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATEnocov(Y, Z, data = parent.frame(), match = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATEnocov_+3A_y">Y</code></td>
<td>
<p>The outcome variable of interest.</p>
</td></tr>
<tr><td><code id="ATEnocov_+3A_z">Z</code></td>
<td>
<p>The (randomized) treatment variable. This variable should be
binary.</p>
</td></tr>
<tr><td><code id="ATEnocov_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables.</p>
</td></tr>
<tr><td><code id="ATEnocov_+3A_match">match</code></td>
<td>
<p>A variable indicating matched-pairs. The two units in the same
matched-pair should have the same value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class <code>ATEnocov</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>call</code></td>
<td>
<p> The matched call.  </p>
</td></tr> <tr><td><code>Y</code></td>
<td>
<p> The outcome variable.  </p>
</td></tr>
<tr><td><code>Z</code></td>
<td>
<p> The treatment variable.  </p>
</td></tr> <tr><td><code>match</code></td>
<td>
<p> The matched-pair
indicator variable.  </p>
</td></tr> <tr><td><code>ATEest</code></td>
<td>
<p> The estimated average treatment
effect.  </p>
</td></tr> <tr><td><code>ATE.var</code></td>
<td>
<p> The estimated variance of the average treatment
effect estimator.  </p>
</td></tr> <tr><td><code>diff</code></td>
<td>
<p> Within-pair differences if the
matched-pair design is analyzed.  </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
</p>


<h3>References</h3>

<p>Imai, Kosuke, (2008). &ldquo;Randomization-based Inference and
Efficiency Analysis in Experiments under the Matched-Pair Design&rdquo;, Statistics in Medicine.
</p>

<hr>
<h2 id='ATOPnoassumption'>Bounding the  ATOP when some of the Outcome Data are
Missing Under the Matched-Pairs Design</h2><span id='topic+ATOPnoassumption'></span>

<h3>Description</h3>

<p>This function computes the no assumption bounds on the average treatment effect among always-observed pairs (ATOP) when
some of the outcome data are missing. The confidence intervals for the
ATOP are also computed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATOPnoassumption(Ya, Yb, Ra, Rb, Ta, Tb, l, u, alpha, rep)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATOPnoassumption_+3A_ya">Ya</code></td>
<td>
<p>A vector of the outcomes of the first unit in the matched pairs. The missing values for <code>Ya</code> should be coded
as <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_yb">Yb</code></td>
<td>
<p>A vector of the outcomes of the second unit in the matched pairs. The missing values for <code>Yb</code> should be coded
as <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_ra">Ra</code></td>
<td>
<p>A vector of the missing data indicators of the first unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_rb">Rb</code></td>
<td>
<p>A vector of the missing data indicators of the second unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_ta">Ta</code></td>
<td>
<p>A vector of the treatment conditions of the first unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_tb">Tb</code></td>
<td>
<p>A vector of the treatment conditions of the second unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_l">l</code></td>
<td>
<p>The lower limit of the outcome.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_u">u</code></td>
<td>
<p>The upper limit of the outcome.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_alpha">alpha</code></td>
<td>
<p>A positive scalar that is less than or equal to 0.5. This will
determine the (1-<code>alpha</code>) level of confidence intervals. The default is
<code>0.05</code>.</p>
</td></tr>
<tr><td><code id="ATOPnoassumption_+3A_rep">rep</code></td>
<td>
<p>The number of repetitions for bootstraping.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>ATOPnoassumption</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>LB</code></td>
<td>
<p> The lower bound for the ATOP.  </p>
</td></tr> <tr><td><code>UB</code></td>
<td>
<p> The upper bound for the ATOP.   </p>
</td></tr>
<tr><td><code>LB.CI</code></td>
<td>
<p> The lower limit of the confidence interval for the ATOP.   </p>
</td></tr>
<tr><td><code>UB.CI</code></td>
<td>
<p> The upper limit of the confidence interval for the ATOP.    </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
Zhichao Jiang, Department of Politics, Princeton University
<a href="mailto:zhichaoj@princeton.edu">zhichaoj@princeton.edu</a>.
</p>


<h3>References</h3>

<p>Kosuke Imai and Zhichao Jiang (2018).
&ldquo;A Sensitivity Analysis for Missing Outcomes Due to 
Truncation-by-Death under the Matched-Pairs Design&rdquo;, <em>Technical Report</em>. Department of Politics, Princeton
University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(seguro)
attach(seguro)
ATOPnoassumption(Ya,Yb,Ra,Rb,Ta,Tb,l=0,u=1,alpha=0.05,rep=100)
</code></pre>

<hr>
<h2 id='ATOPobs'>Sensitivity analysis for the ATOP when some of the Outcome Data are
Missing Under the Matched-Pairs Design in Observational Studies</h2><span id='topic+ATOPobs'></span>

<h3>Description</h3>

<p>This function computes the bounds on the average treatment effect among always-observed pairs (ATOP)
with pre-specified sensivity parameters when
some of the outcome data are missing. The sensivity parameters characterizes the degree of the within-pair similarity 
and the dependence between the potential missing indicators and the treatment. The confidence intervals for the
ATOP are also computed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATOPobs(Ya, Yb, Ra, Rb, Ta, Tb, gamma, kappa1, kappa0, l, u, alpha, rep)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATOPobs_+3A_ya">Ya</code></td>
<td>
<p>A vector of the outcomes of the first unit in the matched pairs. The missing values for <code>Ya</code> should be coded
as <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_yb">Yb</code></td>
<td>
<p>A vector of the outcomes of the second unit in the matched pairs. The missing values for <code>Yb</code> should be coded
as <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_ra">Ra</code></td>
<td>
<p>A vector of the missing data indicators of the first unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_rb">Rb</code></td>
<td>
<p>A vector of the missing data indicators of the second unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_ta">Ta</code></td>
<td>
<p>A vector of the treatment conditions of the first unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_tb">Tb</code></td>
<td>
<p>A vector of the treatment conditions of the second unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_gamma">gamma</code></td>
<td>
<p>The sensitivity parameter which charaterizes the degree of the within-pair similarity.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_kappa1">kappa1</code></td>
<td>
<p>The sensitivity parameter which charaterizes the dependence between <code>R(1)</code> and <code>T</code>.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_kappa0">kappa0</code></td>
<td>
<p>The sensitivity parameter which charaterizes the dependence between <code>R(0)</code> and <code>T</code>.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_l">l</code></td>
<td>
<p>The lower limit of the outcome.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_u">u</code></td>
<td>
<p>The upper limit of the outcome.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_alpha">alpha</code></td>
<td>
<p>A positive scalar that is less than or equal to 0.5. This will
determine the (1-<code>alpha</code>) level of confidence intervals. The default is
<code>0.05</code>.</p>
</td></tr>
<tr><td><code id="ATOPobs_+3A_rep">rep</code></td>
<td>
<p>The number of repetitions for bootstraping.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>ATOPsens</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>LB</code></td>
<td>
<p> The lower bound for the ATOP.  </p>
</td></tr> <tr><td><code>UB</code></td>
<td>
<p> The upper bound for the ATOP.   </p>
</td></tr>
<tr><td><code>LB.CI</code></td>
<td>
<p> The lower limit of the confidence interval for the ATOP.   </p>
</td></tr>
<tr><td><code>UB.CI</code></td>
<td>
<p> The upper limit of the confidence interval for the ATOP.    </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
Zhichao Jiang, Department of Politics, Princeton University
<a href="mailto:zhichaoj@princeton.edu">zhichaoj@princeton.edu</a>.
</p>


<h3>References</h3>

<p>Kosuke Imai and Zhichao Jiang (2018).
&ldquo;A Sensitivity Analysis for Missing Outcomes Due to 
Truncation-by-Death under the Matched-Pairs Design&rdquo;, <em>Statistics in Medicine</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(seguro)
attach(seguro)
ATOPsens(Ya,Yb,Ra,Rb,Ta,Tb,gamma=0.95,l=0,u=1,alpha=0.05,rep=100)
</code></pre>

<hr>
<h2 id='ATOPsens'>Sensitivity analysis for the ATOP when some of the Outcome Data are
Missing Under the Matched-Pairs Design</h2><span id='topic+ATOPsens'></span>

<h3>Description</h3>

<p>This function computes the bounds on the average treatment effect among always-observed pairs (ATOP)
with pre-specified sensivity parameters when
some of the outcome data are missing. The sensivity parameter characterizes the degree of the within-pair similarity.
The confidence intervals for the
ATOP are also computed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATOPsens(Ya, Yb, Ra, Rb, Ta, Tb, gamma, l, u, alpha, rep)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATOPsens_+3A_ya">Ya</code></td>
<td>
<p>A vector of the outcomes of the first unit in the matched pairs. The missing values for <code>Ya</code> should be coded
as <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_yb">Yb</code></td>
<td>
<p>A vector of the outcomes of the second unit in the matched pairs. The missing values for <code>Yb</code> should be coded
as <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_ra">Ra</code></td>
<td>
<p>A vector of the missing data indicators of the first unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_rb">Rb</code></td>
<td>
<p>A vector of the missing data indicators of the second unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_ta">Ta</code></td>
<td>
<p>A vector of the treatment conditions of the first unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_tb">Tb</code></td>
<td>
<p>A vector of the treatment conditions of the second unit in the matched pairs.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_gamma">gamma</code></td>
<td>
<p>The sensitivity parameter which charaterizes the degree of the within-pair similarity.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_l">l</code></td>
<td>
<p>The lower limit of the outcome.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_u">u</code></td>
<td>
<p>The upper limit of the outcome.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_alpha">alpha</code></td>
<td>
<p>A positive scalar that is less than or equal to 0.5. This will
determine the (1-<code>alpha</code>) level of confidence intervals. The default is
<code>0.05</code>.</p>
</td></tr>
<tr><td><code id="ATOPsens_+3A_rep">rep</code></td>
<td>
<p>The number of repetitions for bootstraping.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>ATOPsens</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>LB</code></td>
<td>
<p> The lower bound for the ATOP.  </p>
</td></tr> <tr><td><code>UB</code></td>
<td>
<p> The upper bound for the ATOP.   </p>
</td></tr>
<tr><td><code>LB.CI</code></td>
<td>
<p> The lower limit of the confidence interval for the ATOP.   </p>
</td></tr>
<tr><td><code>UB.CI</code></td>
<td>
<p> The upper limit of the confidence interval for the ATOP.    </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
Zhichao Jiang, Department of Politics, Princeton University
<a href="mailto:zhichaoj@princeton.edu">zhichaoj@princeton.edu</a>.
</p>


<h3>References</h3>

<p>Kosuke Imai and Zhichao Jiang (2018).
&ldquo;A Sensitivity Analysis for Missing Outcomes Due to 
Truncation-by-Death under the Matched-Pairs Design&rdquo;, <em>Statistics in Medicine</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(seguro)
attach(seguro)
ATOPobs(Ya,Yb,Ra,Rb,Ta,Tb,gamma=0.95,kappa1=1,kappa0=1,l=0,u=1,alpha=0.05,rep=100)
</code></pre>

<hr>
<h2 id='AUPEC'>Estimation of the unnormalized Area Under Prescription Evaluation Curve (AUPEC) in Completely Randomized Experiments</h2><span id='topic+AUPEC'></span>

<h3>Description</h3>

<p>This function estimates AUPEC. The details of the methods for this design are given in Imai and Li (2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AUPEC(T, tau, Y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AUPEC_+3A_t">T</code></td>
<td>
<p>The unit-level binary treatment receipt variable.</p>
</td></tr>
<tr><td><code id="AUPEC_+3A_tau">tau</code></td>
<td>
<p>The unit-level continuous score for treatment assignment. We assume those that have tau&lt;0 should
not have treatment. Conditional Average Treatment Effect is one possible measure.</p>
</td></tr>
<tr><td><code id="AUPEC_+3A_y">Y</code></td>
<td>
<p>The outcome variable of interest.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that contains the following items: </p>
<table role = "presentation">
<tr><td><code>aupec</code></td>
<td>
<p>The estimated
Area Under Prescription Evaluation Curve</p>
</td></tr> <tr><td><code>sd</code></td>
<td>
<p>The estimated standard deviation
of AUPEC.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Lingzhi Li, Operations Research Center, Massachusetts Institute of Technology
<a href="mailto:mlli@mit.edu">mlli@mit.edu</a>, <a href="http://mlli.mit.edu">http://mlli.mit.edu</a>;
</p>


<h3>References</h3>

<p>Imai and Li (2019). &ldquo;Experimental Evaluation of Individualized Treatment Rules&rdquo;,
</p>

<hr>
<h2 id='CACEcluster'>Estimation of the Complier Average Causal Effects in Cluster-Randomized
Experiments with Unit-level Noncompliance</h2><span id='topic+CACEcluster'></span>

<h3>Description</h3>

<p>This function estimates various complier average causal effect in
cluster-randomized experiments without using pre-treatment covariates when
unit-level noncompliance exists. Both the encouragement and treatment
variables are assumed to be binary. Currently, only the matched-pair design
is allowed. The details of the methods for this design are given in Imai,
King, and Nall (2007).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CACEcluster(
  Y,
  D,
  Z,
  grp,
  data = parent.frame(),
  match = NULL,
  weights = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CACEcluster_+3A_y">Y</code></td>
<td>
<p>The outcome variable of interest.</p>
</td></tr>
<tr><td><code id="CACEcluster_+3A_d">D</code></td>
<td>
<p>The unit-level treatment receipt variable. This variable should be
binary but can differ across units within each cluster.</p>
</td></tr>
<tr><td><code id="CACEcluster_+3A_z">Z</code></td>
<td>
<p>The (randomized) cluster-level encouragement variable. This
variable should be binary. Two units in the same cluster should have the
same value.</p>
</td></tr>
<tr><td><code id="CACEcluster_+3A_grp">grp</code></td>
<td>
<p>A variable indicating clusters of units. Two units in the same
cluster should have the same value.</p>
</td></tr>
<tr><td><code id="CACEcluster_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables.</p>
</td></tr>
<tr><td><code id="CACEcluster_+3A_match">match</code></td>
<td>
<p>A variable indicating matched-pairs of clusters. Two units in
the same matched-pair of clusters should have the same value. The default is
<code>NULL</code> (i.e., no matching).</p>
</td></tr>
<tr><td><code id="CACEcluster_+3A_weights">weights</code></td>
<td>
<p>A variable indicating the population cluster sizes, which
will be used to construct weights for each pair of clusters. Two units in
the same cluster should have the same value. The default is <code>NULL</code>, in
which case sample cluster sizes will be used for constructing weights.</p>
</td></tr>
<tr><td><code id="CACEcluster_+3A_...">...</code></td>
<td>
<p>Optional arguments passed to <code>ATEcluster</code>, which is called
internally.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class <code>CACEcluster</code> which contains the following
items: </p>
<table role = "presentation">
<tr><td><code>call</code></td>
<td>
<p> The matched call.  </p>
</td></tr> <tr><td><code>ITTY</code></td>
<td>
<p> The output object from
<code>ATEcluster</code> which is used to estimate the ITT effect of the
encouragement on the outcome variable.  </p>
</td></tr> <tr><td><code>ITTD</code></td>
<td>
<p> The output object
from <code>ATEcluster</code> which is used to estimate the ITT effect of the
encouragement on the treatment receipt variable.  </p>
</td></tr> <tr><td><code>n1</code></td>
<td>
<p> The total
number of units in the treatment group.  </p>
</td></tr> <tr><td><code>n0</code></td>
<td>
<p> The total number of
units in the control group.  </p>
</td></tr> <tr><td><code>Z</code></td>
<td>
<p> The treatment variable.  </p>
</td></tr>
<tr><td><code>est</code></td>
<td>
<p> The estimated complier average causal effect.  </p>
</td></tr> <tr><td><code>var</code></td>
<td>
<p> The
estimated variance of the complier average causal effect estimator.  </p>
</td></tr>
<tr><td><code>cov</code></td>
<td>
<p> The estimated covariance between two ITT estimator.  </p>
</td></tr> <tr><td><code>m</code></td>
<td>

<p>The number of pairs in the matched-pair design.  </p>
</td></tr> <tr><td><code>N1</code></td>
<td>
<p> The population
cluster sizes for the treatment group.  </p>
</td></tr> <tr><td><code>N0</code></td>
<td>
<p> The population cluster
sizes for the control group.  </p>
</td></tr> <tr><td><code>w</code></td>
<td>
<p> Pair-specific normalized
arithmetic mean weights. These weights sum up to the total number of units
in the sample, i.e., <code>n</code>.  </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
</p>


<h3>References</h3>

<p>Imai, Kosuke, Gary King, and Clayton Nall (2007). &ldquo;The
Essential Role of Pair Matching in Cluster-Randomized Experiments, with
Application to the Mexican Universal Health Insurance Evaluation&rdquo;, Technical
Report. Department of Politics, Princeton University.
</p>

<hr>
<h2 id='CADErand'>Randomization-based method for the complier average direct effect and the complier average spillover effect</h2><span id='topic+CADErand'></span>

<h3>Description</h3>

<p>This function computes the point estimates and variance estimates of the complier average direct effect (CADE)  and the complier average spillover effect (CASE).
The estimators calculated using this function are either individual weighted or cluster-weighted. The point estimates and variances of ITT effects are also included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADErand(data, individual = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADErand_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be: &ldquo;Z&rdquo; for the treatment assignment,  &ldquo;D&rdquo;  for the actual received treatment, &ldquo;Y&rdquo; for the outcome, &ldquo;A&rdquo; for the treatment assignment mechanism and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster id should be a factor.</p>
</td></tr>
<tr><td><code id="CADErand_+3A_individual">individual</code></td>
<td>
<p>A binary variable with TRUE for  individual-weighted estimators and FALSE for cluster-weighted estimators.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>CADErand</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>CADE1</code></td>
<td>
<p> The point estimate of CADE(1).  </p>
</td></tr> <tr><td><code>CADE0</code></td>
<td>
<p> The point estimate of CADE(0).  </p>
</td></tr> 
<tr><td><code>CADE1</code></td>
<td>
<p> The point estimate of CASE(1).  </p>
</td></tr> <tr><td><code>CASE0</code></td>
<td>
<p> The point estimate of CASE(0).  </p>
</td></tr> 
<tr><td><code>var.CADE1</code></td>
<td>
<p> The  variance estimate of CADE(1).   </p>
</td></tr> 
<tr><td><code>var.CADE0</code></td>
<td>
<p> The  variance estimate of CADE(0).   </p>
</td></tr> 
<tr><td><code>var.CASE1</code></td>
<td>
<p> The  variance estimate of CASE(1).   </p>
</td></tr> 
<tr><td><code>var.CASE0</code></td>
<td>
<p> The  variance estimate of CASE(0).   </p>
</td></tr> 
<tr><td><code>DEY1</code></td>
<td>
<p> The point estimate of DEY(1).  </p>
</td></tr> <tr><td><code>DEY0</code></td>
<td>
<p> The point estimate of DEY(0).  </p>
</td></tr> 
<tr><td><code>DED1</code></td>
<td>
<p> The point estimate of DED(1).  </p>
</td></tr> <tr><td><code>DED0</code></td>
<td>
<p> The point estimate of DED(0).  </p>
</td></tr> 
<tr><td><code>var.DEY1</code></td>
<td>
<p> The  variance estimate of DEY(1).   </p>
</td></tr> 
<tr><td><code>var.DEY0</code></td>
<td>
<p> The  variance estimate of DEY(0).   </p>
</td></tr> 
<tr><td><code>var.DED1</code></td>
<td>
<p> The  variance estimate of DED(1).   </p>
</td></tr> 
<tr><td><code>var.DED0</code></td>
<td>
<p> The  variance estimate of DED(0).   </p>
</td></tr> 
<tr><td><code>SEY1</code></td>
<td>
<p> The point estimate of SEY(1).  </p>
</td></tr> <tr><td><code>SEY0</code></td>
<td>
<p> The point estimate of SEY(0).  </p>
</td></tr> 
<tr><td><code>SED1</code></td>
<td>
<p> The point estimate of SED(1).  </p>
</td></tr> <tr><td><code>SED0</code></td>
<td>
<p> The point estimate of SED(0).  </p>
</td></tr> 
<tr><td><code>var.SEY1</code></td>
<td>
<p> The  variance estimate of SEY(1).   </p>
</td></tr> 
<tr><td><code>var.SEY0</code></td>
<td>
<p> The  variance estimate of SEY(0).   </p>
</td></tr> 
<tr><td><code>var.SED1</code></td>
<td>
<p> The  variance estimate of SED(1).   </p>
</td></tr> 
<tr><td><code>var.SED0</code></td>
<td>
<p> The  variance estimate of SED(0).   </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
Zhichao Jiang, Department of Politics, Princeton University
<a href="mailto:zhichaoj@princeton.edu">zhichaoj@princeton.edu</a>.
</p>


<h3>References</h3>

<p>Kosuke Imai, Zhichao Jiang and Anup Malani (2018).
&ldquo;Causal Inference with Interference and Noncompliance in the Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>. Department of Politics, Princeton
University.
</p>

<hr>
<h2 id='CADEreg'>Regression-based method for the complier average direct effect</h2><span id='topic+CADEreg'></span>

<h3>Description</h3>

<p>This function computes the point estimates of the complier average direct effect (CADE) and four
different variance estimates: the HC2 variance, the cluster-robust variance, the cluster-robust HC2
variance and the variance proposed in the reference. The estimators calculated using this function
are cluster-weighted, i.e., the weights are equal for each cluster. To obtain the indivudal-weighted
estimators, please multiply the recieved treatment and the outcome by <code>n_jJ/N</code>, where
<code>n_j</code> is the number of individuals in cluster <code>j</code>, <code>J</code> is the number of clusters and 
<code>N</code> is the total number of individuals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADEreg(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADEreg_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be: &ldquo;Z&rdquo; for the treatment assignment,  &ldquo;D&rdquo;  for the actual received treatment, &ldquo;Y&rdquo; for the outcome, &ldquo;A&rdquo; for the treatment assignment mechanism and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster id should be a factor.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>CADEreg</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>CADE1</code></td>
<td>
<p> The point estimate of CADE(1).  </p>
</td></tr> <tr><td><code>CADE0</code></td>
<td>
<p> The point estimate of CADE(0).  </p>
</td></tr> 
<tr><td><code>var1.clu</code></td>
<td>
<p> The cluster-robust variance of CADE(1).   </p>
</td></tr> <tr><td><code>var0.clu</code></td>
<td>
<p> The cluster-robust variance of CADE(0).  </p>
</td></tr>
<tr><td><code>var1.clu.hc2</code></td>
<td>
<p> The cluster-robust HC2 variance of CADE(1).   </p>
</td></tr> 
<tr><td><code>var0.clu.hc2</code></td>
<td>
<p> The cluster-robust HC2 variance of CADE(0).    </p>
</td></tr> 
<tr><td><code>var1.hc2</code></td>
<td>
<p> The  HC2 variance of CADE(1).    </p>
</td></tr> 
<tr><td><code>var0.hc2</code></td>
<td>
<p> The  HC2 variance of CADE(0).    </p>
</td></tr> 
<tr><td><code>var1.ind</code></td>
<td>
<p> The  individual-robust variance of CADE(1).    </p>
</td></tr> 
<tr><td><code>var0.ind</code></td>
<td>
<p> The  individual-robust variance of CADE(0).    </p>
</td></tr> 
<tr><td><code>var1.reg</code></td>
<td>
<p> The  proposed variance of CADE(1).    </p>
</td></tr> 
<tr><td><code>var0.reg</code></td>
<td>
<p> The  proposed variance of CADE(0).    </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
Zhichao Jiang, Department of Politics, Princeton University
<a href="mailto:zhichaoj@princeton.edu">zhichaoj@princeton.edu</a>.
</p>


<h3>References</h3>

<p>Kosuke Imai, Zhichao Jiang and Anup Malani (2021).
&ldquo;Causal Inference with Interference and Noncompliance in the Two-Stage Randomized Experiments&rdquo;, <em>Journal of the American Statistical Association</em>.
</p>

<hr>
<h2 id='NoncompLI'>Bayesian Analysis of Randomized Experiments with Noncompliance and Missing
Outcomes Under the Assumption of Latent Ignorability</h2><span id='topic+NoncompLI'></span>

<h3>Description</h3>

<p>This function estimates the average causal effects for randomized
experiments with noncompliance and missing outcomes under the assumption of
latent ignorability (Frangakis and Rubin, 1999). The models are based on
Bayesian generalized linear models and are fitted using the Markov chain
Monte Carlo algorithms. Various types of the outcome variables can be
analyzed to estimate the Intention-to-Treat effect and Complier Average
Causal Effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NoncompLI(
  formulae,
  Z,
  D,
  data = parent.frame(),
  n.draws = 5000,
  param = TRUE,
  in.sample = FALSE,
  model.c = "probit",
  model.o = "probit",
  model.r = "probit",
  tune.c = 0.01,
  tune.o = 0.01,
  tune.r = 0.01,
  tune.v = 0.01,
  p.mean.c = 0,
  p.mean.o = 0,
  p.mean.r = 0,
  p.prec.c = 0.001,
  p.prec.o = 0.001,
  p.prec.r = 0.001,
  p.df.o = 10,
  p.scale.o = 1,
  p.shape.o = 1,
  mda.probit = TRUE,
  coef.start.c = 0,
  coef.start.o = 0,
  tau.start.o = NULL,
  coef.start.r = 0,
  var.start.o = 1,
  burnin = 0,
  thin = 0,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NoncompLI_+3A_formulae">formulae</code></td>
<td>
<p>A list of formulae where the first formula specifies the
(pre-treatment) covariates in the outcome model (the latent compliance
covariate will be added automatically), the second formula specifies the
compliance model, and the third formula defines the covariate specification
for the model for missing-data mechanism (the latent compliance covariate
will be added automatically). For the outcome model, the formula should take
the two-sided standard R <code>formula</code> where the outcome variable is
specified in the left hand side of the formula which is then separated by
<code>~</code> from the covariate equation in the right hand side, e.g., <code>y ~
x1 + x2</code>. For the compliance and missing-data mechanism models, the
one-sided <code>formula</code> should be used where the left hand side is left
unspecified, e.g., <code>~ x1 + x2</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_z">Z</code></td>
<td>
<p>A randomized encouragement variable, which should be a binary
variable in the specified data frame.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_d">D</code></td>
<td>
<p>A treatment variable, which should be a binary variable in the
specified data frame.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_data">data</code></td>
<td>
<p>A data frame which contains the variables that appear in the
model formulae (<code>formulae</code>), the encouragement variable (<code>Z</code>), and
the treatment variable (<code>D</code>).</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_n.draws">n.draws</code></td>
<td>
<p>The number of MCMC draws. The default is <code>5000</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_param">param</code></td>
<td>
<p>A logical variable indicating whether the Monte Carlo draws of
the model parameters should be saved in the output object. The default is
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_in.sample">in.sample</code></td>
<td>
<p>A logical variable indicating whether or not the sample
average causal effect should be calculated using the observed potential
outcome for each unit. If it is set to <code>FALSE</code>, then the population
average causal effect will be calculated. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_model.c">model.c</code></td>
<td>
<p>The model for compliance. Either <code>logit</code> or
<code>probit</code> model is allowed. The default is <code>probit</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_model.o">model.o</code></td>
<td>
<p>The model for outcome. The following five models are allowed:
<code>logit</code>, <code>probit</code>, <code>oprobit</code> (ordered probit regression),
<code>gaussian</code> (gaussian regression), <code>negbin</code> (negative binomial
regression), and <code>twopart</code> (two part model where the first part is the
probit regression for <code class="reqn">Pr(Y&gt;0|X)</code> and the second part models
<code class="reqn">p(log(Y)|X, Y&gt;0)</code> using the gaussian regression). The default is
<code>probit</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_model.r">model.r</code></td>
<td>
<p>The model for (non)response. Either <code>logit</code> or
<code>probit</code> model is allowed. The default is <code>probit</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_tune.c">tune.c</code></td>
<td>
<p>Tuning constants for fitting the compliance model. These
positive constants are used to tune the (random-walk) Metropolis-Hastings
algorithm to fit the logit model. Use either a scalar or a vector of
constants whose length equals that of the coefficient vector. The default is
<code>0.01</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_tune.o">tune.o</code></td>
<td>
<p>Tuning constants for fitting the outcome model. These positive
constants are used to tune the (random-walk) Metropolis-Hastings algorithm
to fit logit, ordered probit, and negative binomial models. Use either a
scalar or a vector of constants whose length equals that of the coefficient
vector for logit and negative binomial models. For the ordered probit model,
use either a scalar or a vector of constants whose length equals that of
cut-point parameters to be estimated. The default is <code>0.01</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_tune.r">tune.r</code></td>
<td>
<p>Tuning constants for fitting the (non)response model. These
positive constants are used to tune the (random-walk) Metropolis-Hastings
algorithm to fit the logit model. Use either a scalar or a vector of
constants whose length equals that of the coefficient vector. The default is
<code>0.01</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_tune.v">tune.v</code></td>
<td>
<p>A scalar tuning constant for fitting the variance component of
the negative binomial (outcome) model. The default is <code>0.01</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.mean.c">p.mean.c</code></td>
<td>
<p>Prior mean for the compliance model. It should be either a
scalar or a vector of appropriate length. The default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.mean.o">p.mean.o</code></td>
<td>
<p>Prior mean for the outcome model. It should be either a
scalar or a vector of appropriate length. The default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.mean.r">p.mean.r</code></td>
<td>
<p>Prior mean for the (non)response model. It should be either
a scalar or a vector of appropriate length. The default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.prec.c">p.prec.c</code></td>
<td>
<p>Prior precision for the compliance model. It should be
either a positive scalar or a positive semi-definite matrix of appropriate
size. The default is <code>0.001</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.prec.o">p.prec.o</code></td>
<td>
<p>Prior precision for the outcome model. It should be either a
positive scalar or a positive semi-definite matrix of appropriate size. The
default is <code>0.001</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.prec.r">p.prec.r</code></td>
<td>
<p>Prior precision for the (non)response model. It should be
either a positive scalar or a positive semi-definite matrix of appropriate
size. The default is <code>0.001</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.df.o">p.df.o</code></td>
<td>
<p>A positive integer. Prior degrees of freedom parameter for the
inverse chisquare distribution in the gaussian and twopart (outcome) models.
The default is <code>10</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.scale.o">p.scale.o</code></td>
<td>
<p>A positive scalar. Prior scale parameter for the inverse
chisquare distribution (for the variance) in the gaussian and twopart
(outcome) models. For the negative binomial (outcome) model, this is used
for the scale parameter of the inverse gamma distribution. The default is
<code>1</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_p.shape.o">p.shape.o</code></td>
<td>
<p>A positive scalar. Prior shape for the inverse chisquare
distribution in the negative binomial (outcome) model. The default is
<code>1</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_mda.probit">mda.probit</code></td>
<td>
<p>A logical variable indicating whether to use marginal data
augmentation for probit models. The default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_coef.start.c">coef.start.c</code></td>
<td>
<p>Starting values for coefficients of the compliance
model.  It should be either a scalar or a vector of appropriate length. The
default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_coef.start.o">coef.start.o</code></td>
<td>
<p>Starting values for coefficients of the outcome model.
It should be either a scalar or a vector of appropriate length. The default
is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_tau.start.o">tau.start.o</code></td>
<td>
<p>Starting values for thresholds of the ordered probit
(outcome) model.  If it is set to <code>NULL</code>, then the starting values will
be a sequence starting from 0 and then incrementing by 0.1. The default is
<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_coef.start.r">coef.start.r</code></td>
<td>
<p>Starting values for coefficients of the (non)response
model.  It should be either a scalar or a vector of appropriate length. The
default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_var.start.o">var.start.o</code></td>
<td>
<p>A positive scalar starting value for the variance of the
gaussian, negative binomial, and twopart (outcome) models. The default is
<code>1</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_burnin">burnin</code></td>
<td>
<p>The number of initial burnins for the Markov chain. The
default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_thin">thin</code></td>
<td>
<p>The size of thinning interval for the Markov chain. The default
is <code>0</code>.</p>
</td></tr>
<tr><td><code id="NoncompLI_+3A_verbose">verbose</code></td>
<td>
<p>A logical variable indicating whether additional progress
reports should be prited while running the code. The default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the model being fitted, see the references. Note that
when always-takers exist we fit either two logistic or two probit models by
first modeling whether a unit is a complier or a noncomplier, and then
modeling whether a unit is an always-taker or a never-taker for those who
are classified as non-compliers.
</p>


<h3>Value</h3>

<p>An object of class <code>NoncompLI</code> which contains the following
elements as a list: </p>
<table role = "presentation">
<tr><td><code>call</code></td>
<td>
<p>The matched call.</p>
</td></tr> <tr><td><code>Y</code></td>
<td>
<p>The outcome
variable.</p>
</td></tr> <tr><td><code>D</code></td>
<td>
<p>The treatment variable.</p>
</td></tr> <tr><td><code>Z</code></td>
<td>
<p>The (randomized)
encouragement variable.</p>
</td></tr> <tr><td><code>R</code></td>
<td>
<p>The response indicator variable for
<code>Y</code>.</p>
</td></tr> <tr><td><code>A</code></td>
<td>
<p>The indicator variable for (known) always-takers, i.e.,
the control units who received the treatment.</p>
</td></tr> <tr><td><code>C</code></td>
<td>
<p>The indicator
variable for (known) compliers, i.e., the encouraged units who received the
treatment when there is no always-takers.</p>
</td></tr> <tr><td><code>Xo</code></td>
<td>
<p>The matrix of
covariates used for the outcome model.</p>
</td></tr> <tr><td><code>Xc</code></td>
<td>
<p>The matrix of covariates
used for the compliance model.</p>
</td></tr> <tr><td><code>Xr</code></td>
<td>
<p>The matrix of covariates used for
the (non)response model.</p>
</td></tr> <tr><td><code>n.draws</code></td>
<td>
<p>The number of MCMC draws.</p>
</td></tr>
<tr><td><code>QoI</code></td>
<td>
<p>The Monte carlo draws of quantities of interest from their
posterior distributions. Quantities of interest include <code>ITT</code>
(intention-to-treat) effect, <code>CACE</code> (complier average causal effect),
<code>Y1barC</code> (The mean outcome value under the treatment for compliers),
<code>Y0barC</code> (The mean outcome value under the control for compliers),
<code>YbarN</code> (The mean outcome value for never-takers), <code>YbarA</code> (The
mean outcome value for always-takers), <code>pC</code> (The proportion of
compliers), <code>pN</code> (The proportion of never-takers), <code>pA</code> (The
proportion of always-takers) </p>
</td></tr></table>
<p> If <code>param</code> is set to <code>TRUE</code>, the
following elments are also included: </p>
<table role = "presentation">
<tr><td><code>coefO</code></td>
<td>
<p>The Monte carlo draws of
coefficients of the outcome model from their posterior distribution.</p>
</td></tr>
<tr><td><code>coefO1</code></td>
<td>
<p>If <code>model = "twopart"</code>, this element contains the Monte
carlo draws of coefficients of the outcome model for <code class="reqn">p(log(Y)|X, Y &gt;
0)</code> from their posterior distribution.</p>
</td></tr> <tr><td><code>coefC</code></td>
<td>
<p>The Monte carlo draws
of coefficients of the compliance model from their posterior distribution.</p>
</td></tr>
<tr><td><code>coefA</code></td>
<td>
<p>If always-takers exist, then this element contains the Monte
carlo draws of coefficients of the compliance model for always-takers from
their posterior distribution.</p>
</td></tr> <tr><td><code>coefR</code></td>
<td>
<p>The Monte carlo draws of
coefficients of the (non)response model from their posterior distribution.</p>
</td></tr>
<tr><td><code>sig2</code></td>
<td>
<p>The Monte carlo draws of the variance parameter for the
gaussian, negative binomial, and twopart (outcome) models.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
</p>


<h3>References</h3>

<p>Frangakis, Constantine E. and Donald B. Rubin. (1999).
&ldquo;Addressing Complications of Intention-to-Treat Analysis in the
Combined Presence of All-or-None Treatment Noncompliance and Subsequent
Missing Outcomes.&rdquo; <em>Biometrika</em>, Vol. 86, No. 2, pp. 365-379.
</p>
<p>Hirano, Keisuke, Guido W. Imbens, Donald B. Rubin, and Xiao-Hua Zhou.
(2000).  &ldquo;Assessing the Effect of an Influenza Vaccine in an
Encouragement Design.&rdquo; <em>Biostatistics</em>, Vol. 1, No. 1, pp. 69-88.
</p>
<p>Barnard, John, Constantine E. Frangakis, Jennifer L. Hill, and Donald B.
Rubin. (2003).  &ldquo;Principal Stratification Approach to Broken
Randomized Experiments: A Case Study of School Choice Vouchers in New York
(with Discussion)&rdquo;, <em>Journal of the American Statistical Association</em>,
Vol. 98, No. 462, pp299&ndash;311.
</p>
<p>Horiuchi, Yusaku, Kosuke Imai, and Naoko Taniguchi (2007). &ldquo;Designing
and Analyzing Randomized Experiments: Application to a Japanese Election
Survey Experiment.&rdquo; <em>American Journal of Political Science</em>, Vol. 51,
No. 3 (July), pp. 669-687.
</p>

<hr>
<h2 id='PAPD'>Estimation of the Population Average Prescription Difference in Completely Randomized Experiments</h2><span id='topic+PAPD'></span>

<h3>Description</h3>

<p>This function estimates the Population Average Prescription Difference with a budget
constraint. The details of the methods for this design are given in Imai and Li (2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PAPD(T, Thatfp, Thatgp, Y, plim)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="PAPD_+3A_t">T</code></td>
<td>
<p>The unit-level binary treatment receipt variable.</p>
</td></tr>
<tr><td><code id="PAPD_+3A_thatfp">Thatfp</code></td>
<td>
<p>The unit-level binary treatment that would have been assigned by the 
first individualized treatment rule.</p>
</td></tr>
<tr><td><code id="PAPD_+3A_thatgp">Thatgp</code></td>
<td>
<p>The unit-level binary treatment that would have been assigned by the 
second individualized treatment rule.</p>
</td></tr>
<tr><td><code id="PAPD_+3A_y">Y</code></td>
<td>
<p>The outcome variable of interest.</p>
</td></tr>
<tr><td><code id="PAPD_+3A_plim">plim</code></td>
<td>
<p>The maximum percentage of population that can be treated under the
budget constraint. Should be a decimal between 0 and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that contains the following items: </p>
<table role = "presentation">
<tr><td><code>papd</code></td>
<td>
<p>The estimated
Population Average Prescription Difference</p>
</td></tr> <tr><td><code>sd</code></td>
<td>
<p>The estimated standard deviation
of PAPD.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Lingzhi Li, Operations Research Center, Massachusetts Institute of Technology
<a href="mailto:mlli@mit.edu">mlli@mit.edu</a>, <a href="http://mlli.mit.edu">http://mlli.mit.edu</a>;
</p>


<h3>References</h3>

<p>Imai and Li (2019). &ldquo;Experimental Evaluation of Individualized Treatment Rules&rdquo;,
</p>

<hr>
<h2 id='PAPE'>Estimation of the Population Average Prescription Effect in Completely Randomized Experiments</h2><span id='topic+PAPE'></span>

<h3>Description</h3>

<p>This function estimates the Population Average Prescription Effect with and without a budget
constraint. The details of the methods for this design are given in Imai and Li (2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PAPE(T, That, Y, plim = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="PAPE_+3A_t">T</code></td>
<td>
<p>The unit-level binary treatment receipt variable.</p>
</td></tr>
<tr><td><code id="PAPE_+3A_that">That</code></td>
<td>
<p>The unit-level binary treatment that would have been assigned by the 
individualized treatment rule.</p>
</td></tr>
<tr><td><code id="PAPE_+3A_y">Y</code></td>
<td>
<p>The outcome variable of interest.</p>
</td></tr>
<tr><td><code id="PAPE_+3A_plim">plim</code></td>
<td>
<p>The maximum percentage of population that can be treated under the
budget constraint. Should be a decimal between 0 and 1. Default is NA which assumes
no budget constraint.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that contains the following items: </p>
<table role = "presentation">
<tr><td><code>pape</code></td>
<td>
<p>The estimated
Population Average Prescription Effect.</p>
</td></tr> <tr><td><code>sd</code></td>
<td>
<p>The estimated standard deviation
of PAPE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Lingzhi Li, Operations Research Center, Massachusetts Institute of Technology
<a href="mailto:mlli@mit.edu">mlli@mit.edu</a>, <a href="http://mlli.mit.edu">http://mlli.mit.edu</a>;
</p>


<h3>References</h3>

<p>Imai and Li (2019). &ldquo;Experimental Evaluation of Individualized Treatment Rules&rdquo;,
</p>

<hr>
<h2 id='randomize'>Randomization of the Treatment Assignment for Conducting Experiments</h2><span id='topic+randomize'></span><span id='topic+Randomize'></span>

<h3>Description</h3>

<p>This function can be used to randomize the treatment assignment for
randomized experiments. In addition to the complete randomization, it
implements randomized-block and matched-pair designs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomize(
  data,
  group = c("Treat", "Control"),
  ratio = NULL,
  indx = NULL,
  block = NULL,
  n.block = NULL,
  match = NULL,
  complete = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomize_+3A_data">data</code></td>
<td>
<p>A data frame containing the observations to which the treatments
are randomly assigned.</p>
</td></tr>
<tr><td><code id="randomize_+3A_group">group</code></td>
<td>
<p>A numerical or character vector indicating the
treatment/control groups. The length of the vector equals the total number
of such groups. The default specifies two groups called &ldquo;Treat&rdquo; and
&ldquo;Control&rdquo;.</p>
</td></tr>
<tr><td><code id="randomize_+3A_ratio">ratio</code></td>
<td>
<p>An optional numerical vector which specifies the proportion of
the treatment/control groups within the sample. The length of the vector
should equal the number of groups. The default is the equal allocation.</p>
</td></tr>
<tr><td><code id="randomize_+3A_indx">indx</code></td>
<td>
<p>An optional variable name in the data frame to be used as the
names of the observations. If not specified, the row names of the data frame
will be used so long as they are available. If the row names are not
available, the integer sequence starting from 1 will be used.</p>
</td></tr>
<tr><td><code id="randomize_+3A_block">block</code></td>
<td>
<p>An optional variable name in the data frame or a formula to be
used as the blocking variables for randomized-block designs. If a variable
name is specified, then the unique values of that variable will form blocks
unless <code>n.block</code> is specified (see below). If a formula is specified,
it will be evaluated using <code>data</code> and then blocking will be based on
the <code>mahalanobis</code> distance of the resulting model matrix. In this case,
users may want to specify <code>n.block</code> to avoid creating blocks that have
too few observations.</p>
</td></tr>
<tr><td><code id="randomize_+3A_n.block">n.block</code></td>
<td>
<p>An optional scalar specifying the number of blocks to be
created for randomized block designs. If unspecified, the unique values of
the blocking variable will define blocks. If specified, the blocks of
roughly equal size will be created based on the <code>quantile</code> of the
blocking variable.</p>
</td></tr>
<tr><td><code id="randomize_+3A_match">match</code></td>
<td>
<p>An optional variable name in the data frame or a formula to be
used as the matching variables for matched-pair designs. This input is
applicable only to the case where there are two groups. Pairs of
observations will be formed based on the similar values of the matching
variable. If a formula is specified, the <code>mahalanobis</code> distance of the
resulting model matrix will be used.</p>
</td></tr>
<tr><td><code id="randomize_+3A_complete">complete</code></td>
<td>
<p>logical. If it equals <code>TRUE</code> (default), then complete
randomization will be performed (within each block if randomized block
designs are used). Otherwise, simple randomization will be implemented. For
matched-pair designs, <code>complete</code> has to equal <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Randomized-block designs refer to the complete randomization of the
treatment within the pre-specified blocks which contain multiple
observations. Matched-pair designs refer to the randomization of the binary
treatment variable within the pre-specified pair of observations.
</p>


<h3>Value</h3>

<p>A list of class <code>randomize</code> which contains the following items:
</p>
<table role = "presentation">
<tr><td><code>call</code></td>
<td>
<p> the matched call.  </p>
</td></tr> <tr><td><code>treatment</code></td>
<td>
<p> The vector of randomized
treatments.  </p>
</td></tr> <tr><td><code>data</code></td>
<td>
<p> The data frame that was used to conduct the
randomization.  </p>
</td></tr> <tr><td><code>block</code></td>
<td>
<p> The blocking variable that was used to
implement randomized-block designs.  </p>
</td></tr> <tr><td><code>match</code></td>
<td>
<p> The matching variable
that was used to implement matched-pair designs.  </p>
</td></tr> <tr><td><code>block.id</code></td>
<td>
<p> The
variable indicating which observations belong to which blocks in
randomized-block designs.  </p>
</td></tr> <tr><td><code>match.id</code></td>
<td>
<p> The variable indicating which
observations belong to which pairs in matched-pair designs.  </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>;
</p>

<hr>
<h2 id='seguro'>Data from the Mexican universal health insurance program, Seguro Popular.</h2><span id='topic+seguro'></span>

<h3>Description</h3>

<p>This data set contains the outcome, missing indicator and the treatment for the application 
in  Kosuke Imai and Zhichao Jiang (2018).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seguro
</code></pre>


<h3>Format</h3>

<p>A data frame with 14,902 rows and 6 variables:
</p>

<dl>
<dt>Ya</dt><dd><p>Satisfaction for the first unit in the matched pairs</p>
</dd>
<dt>Yb</dt><dd><p>Satisfaction for the second unit in the matched pairs</p>
</dd>
<dt>Ra</dt><dd><p>Missing indicator for the first unit in the matched pairs</p>
</dd>
<dt>Rb</dt><dd><p>Missing indicator for the second unit in the matched pairs</p>
</dd>
<dt>Ta</dt><dd><p>Treatment assignment for the first unit in the matched pairs</p>
</dd>
<dt>Tb</dt><dd><p>Treatment assignment for the second unit in the matched pairs</p>
</dd>
</dl>
<p>#' 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(seguro)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package openalexR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {openalexR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#openalexR-package'><p>openalexR: Getting Bibliographic Records from 'OpenAlex' Database Using 'DSL' API</p></a></li>
<li><a href='#authors2df'><p>Convert OpenAlex collection of authors' records from list format to data frame</p></a></li>
<li><a href='#concept_abbrev'><p>Concepts and abbreviations.</p></a></li>
<li><a href='#concepts2df'><p>Convert OpenAlex collection of concepts' records from list format to data frame</p></a></li>
<li><a href='#countrycode'><p>Index of Countries and their alpha-2 and aplha-3 codes.</p></a></li>
<li><a href='#funders2df'><p>Convert OpenAlex collection of funders' records from list format to data frame</p></a></li>
<li><a href='#institutions2df'><p>Convert OpenAlex collection of institutions' records from list format to data frame</p></a></li>
<li><a href='#ngram2df'><p>Convert a &quot;Work&quot; entity's ngram data from list to data frame</p></a></li>
<li><a href='#oa_apikey'><p>Get apikey from options</p></a></li>
<li><a href='#oa_email'><p>Get email from options</p></a></li>
<li><a href='#oa_entities'><p>Available entities in the OpenAlex database</p></a></li>
<li><a href='#oa_fetch'><p>Fetching records</p></a></li>
<li><a href='#oa_generate'><p>Iterating through records</p></a></li>
<li><a href='#oa_ngrams'><p>Get N-grams of works</p></a></li>
<li><a href='#oa_query'><p>Generate an OpenAlex query from a set of parameters</p></a></li>
<li><a href='#oa_random'><p>oa_fetch but for a random query</p></a></li>
<li><a href='#oa_request'><p>Get bibliographic records from OpenAlex database</p></a></li>
<li><a href='#oa_snowball'><p>A function to perform a snowball search</p>
and convert the result to a tibble/data frame.</a></li>
<li><a href='#oa2bibliometrix'><p>Convert OpenAlex collection from data frame to bibliometrix object</p></a></li>
<li><a href='#oa2df'><p>Convert OpenAlex collection from list to data frame</p></a></li>
<li><a href='#process_topics'><p>Process topics</p></a></li>
<li><a href='#publishers2df'><p>Convert OpenAlex collection of publishers' records from list format to data frame</p></a></li>
<li><a href='#show_authors'><p>Simplify the OpenAlex authors result</p></a></li>
<li><a href='#show_works'><p>Simplify the OpenAlex works result</p></a></li>
<li><a href='#snowball2df'><p>Flatten snowball result</p></a></li>
<li><a href='#sources2df'><p>Convert OpenAlex collection of sources' records from list format to data frame</p></a></li>
<li><a href='#topics2df'><p>Convert OpenAlex collection of topics' records from list format to data frame</p></a></li>
<li><a href='#works2df'><p>Convert OpenAlex collection of works from list format to data frame</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Getting Bibliographic Records from 'OpenAlex' Database Using
'DSL' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of tools to extract bibliographic content from
    'OpenAlex' database using API <a href="https://docs.openalex.org">https://docs.openalex.org</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ropensci/openalexR">https://github.com/ropensci/openalexR</a>,
<a href="https://docs.ropensci.org/openalexR/">https://docs.ropensci.org/openalexR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/openalexR/issues">https://github.com/ropensci/openalexR/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite, progress, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), dplyr, knitr, rmarkdown, tidyr, purrr,
ggplot2, coro, covr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-11 07:43:22 UTC; massimoaria</td>
</tr>
<tr>
<td>Author:</td>
<td>Massimo Aria <a href="https://orcid.org/0000-0002-8517-9411"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Corrado Cuccurullo
    <a href="https://orcid.org/0000-0002-7401-8575"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Trang Le <a href="https://orcid.org/0000-0003-3737-6565"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  June Choe <a href="https://orcid.org/0000-0002-0701-921X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Massimo Aria &lt;aria@unina.it&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-11 12:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='openalexR-package'>openalexR: Getting Bibliographic Records from 'OpenAlex' Database Using 'DSL' API</h2><span id='topic+openalexR'></span><span id='topic+openalexR-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>A set of tools to extract bibliographic content from 'OpenAlex' database using API <a href="https://docs.openalex.org">https://docs.openalex.org</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Massimo Aria <a href="mailto:aria@unina.it">aria@unina.it</a> (<a href="https://orcid.org/0000-0002-8517-9411">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Trang Le <a href="mailto:grixor@gmail.com">grixor@gmail.com</a> (<a href="https://orcid.org/0000-0003-3737-6565">ORCID</a>)
</p>
</li>
<li><p> June Choe <a href="mailto:jchoe001@gmail.com">jchoe001@gmail.com</a> (<a href="https://orcid.org/0000-0002-0701-921X">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Corrado Cuccurullo <a href="mailto:cuccurullocorrado@gmail.com">cuccurullocorrado@gmail.com</a> (<a href="https://orcid.org/0000-0002-7401-8575">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ropensci/openalexR">https://github.com/ropensci/openalexR</a>
</p>
</li>
<li> <p><a href="https://docs.ropensci.org/openalexR/">https://docs.ropensci.org/openalexR/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/openalexR/issues">https://github.com/ropensci/openalexR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='authors2df'>Convert OpenAlex collection of authors' records from list format to data frame</h2><span id='topic+authors2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collection of authors' records gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a list of authors' records obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>authors2df(
  data,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="authors2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="authors2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="authors2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Query to search information about all authors affiliated to the University of Naples Federico II
# which have authored at least 100 publications:

# University of Naples Federico II is associated to the OpenAlex id I71267560.


query_author &lt;- oa_query(
  identifier = NULL,
  entity = "authors",
  last_known_institutions.id = "I71267560",
  works_count = "&gt;500"
)

res &lt;- oa_request(
  query_url = query_author,
  count_only = FALSE,
  verbose = FALSE
)

df &lt;- oa2df(res, entity = "authors")

df

## End(Not run)

</code></pre>

<hr>
<h2 id='concept_abbrev'>Concepts and abbreviations.</h2><span id='topic+concept_abbrev'></span>

<h3>Description</h3>

<p>0-level concepts and corresponding abbreviations.
Reference: https://www.ncbi.nlm.nih.gov/nlmcatalog/journals/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>concept_abbrev
</code></pre>


<h3>Format</h3>

<p>A data frame with 19 observations and 3 variables:
<code>id</code>, <code>display_name</code>, and <code>abbreviation</code>.
</p>

<hr>
<h2 id='concepts2df'>Convert OpenAlex collection of concepts' records from list format to data frame</h2><span id='topic+concepts2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collection of concepts' records gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a list of concepts' records obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>concepts2df(
  data,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="concepts2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="concepts2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="concepts2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Query to search information about all Italian educational institutions


query_inst &lt;- oa_query(
  entity = "concepts",
  display_name.search = "electrodynamics"
)

res &lt;- oa_request(
  query_url = query_inst,
  count_only = FALSE,
  verbose = FALSE
)

df &lt;- oa2df(res, entity = "concepts")

df

## End(Not run)

</code></pre>

<hr>
<h2 id='countrycode'>Index of Countries and their alpha-2 and aplha-3 codes.</h2><span id='topic+countrycode'></span>

<h3>Description</h3>

<p>Data frame contains the list of countries and their alpha-2 and
aplha-3 codes.<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>countrycode
</code></pre>


<h3>Format</h3>

<p>A data frame with 250 rows and 3 variables:
</p>

<dl>
<dt>Country</dt><dd><p>country names</p>
</dd>
<dt>Alpha2</dt><dd><p>countries' alpha-2 codes</p>
</dd>
<dt>Alpha3</dt><dd><p>countries' alpha-3 codes</p>
</dd>
</dl>


<hr>
<h2 id='funders2df'>Convert OpenAlex collection of funders' records from list format to data frame</h2><span id='topic+funders2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collection of funders' records gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a list of funders' records obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>funders2df(
  data,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="funders2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="funders2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="funders2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Get funders located in Canada with more than 100,000 citations

res &lt;- oa_request(
  "https://api.openalex.org/funders?filter=country_code:ca,cited_by_count:&gt;100000"
)

df &lt;- oa2df(res, entity = "funders")

df

## End(Not run)

</code></pre>

<hr>
<h2 id='institutions2df'>Convert OpenAlex collection of institutions' records from list format to data frame</h2><span id='topic+institutions2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collection of institutions' records gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a list of institutions' records obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>institutions2df(
  data,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="institutions2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="institutions2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="institutions2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Query to search information about all Italian educational institutions

query_inst &lt;- oa_query(
  entity = "institutions",
  country_code = "it",
  type = "education"
)

res &lt;- oa_request(
  query_url = query_inst,
  count_only = FALSE,
  verbose = FALSE
)

oa2df(res, entity = "institutions")

## End(Not run)

</code></pre>

<hr>
<h2 id='ngram2df'>Convert a &quot;Work&quot; entity's ngram data from list to data frame</h2><span id='topic+ngram2df'></span>

<h3>Description</h3>

<p>Convert a &quot;Work&quot; entity's ngram data from list to data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ngram2df(ngram)
</code></pre>

<hr>
<h2 id='oa_apikey'>Get apikey from options</h2><span id='topic+oa_apikey'></span>

<h3>Description</h3>

<p>Get apikey from options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_apikey()
</code></pre>


<h3>Value</h3>

<p>Character string. API key of the requester.
</p>

<hr>
<h2 id='oa_email'>Get email from options</h2><span id='topic+oa_email'></span>

<h3>Description</h3>

<p>Get email from options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_email()
</code></pre>


<h3>Value</h3>

<p>Character string. Email of the requester.
</p>

<hr>
<h2 id='oa_entities'>Available entities in the OpenAlex database</h2><span id='topic+oa_entities'></span>

<h3>Description</h3>

<p>Available entities in the OpenAlex database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_entities()
</code></pre>


<h3>Value</h3>

<p>Character vector of 5 entity options.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>oa_entities()
</code></pre>

<hr>
<h2 id='oa_fetch'>Fetching records</h2><span id='topic+oa_fetch'></span>

<h3>Description</h3>

<p>A composition function to perform query building, requesting,
and convert the result to a tibble/data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_fetch(
  entity = if (is.null(identifier)) NULL else id_type(shorten_oaid(identifier[[1]])),
  identifier = NULL,
  ...,
  options = NULL,
  search = NULL,
  group_by = NULL,
  output = c("tibble", "dataframe", "list"),
  abstract = TRUE,
  endpoint = "https://api.openalex.org",
  per_page = 200,
  paging = NULL,
  pages = NULL,
  count_only = FALSE,
  mailto = oa_email(),
  api_key = oa_apikey(),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa_fetch_+3A_entity">entity</code></td>
<td>
<p>Character. Scholarly entity of the search.
The argument can be one of
c(&quot;works&quot;, &quot;authors&quot;, &quot;institutions&quot;, &quot;concepts&quot;, &quot;funders&quot;, &quot;sources&quot;, &quot;publishers&quot;, &quot;topics&quot;).
If not provided, 'entity' is guessed from 'identifier'.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_identifier">identifier</code></td>
<td>
<p>Character. OpenAlex ID(s) as item identifier(s).
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-single-entities#the-openalex-id&gt;.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_...">...</code></td>
<td>
<p>Additional filter arguments.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_options">options</code></td>
<td>
<p>List. Additional parameters to add in the query. For example:
</p>
<p>- 'select' Character vector. Top-level fields to show in output.
Defaults to NULL, which returns all fields.
https://docs.openalex.org/how-to-use-the-api/get-single-entities/select-fields
</p>
<p>- 'sort' Character. Attribute to sort by.
For example: &quot;display_name&quot; for sources or &quot;cited_by_count:desc&quot; for works.
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/sort-entity-lists&gt;.
</p>
<p>- 'sample' Integer. Number of (random) records to return.
Should be no larger than 10,000.
Defaults to NULL, which returns all records satisfying the query.
Read more at &lt;https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/sample-entity-lists&gt;.
</p>
<p>- 'seed' Integer.
A seed value in order to retrieve the same set of random records in
the same order when used multiple times with 'sample'.
IMPORTANT NOTE: Depending on your query, random results with a seed value may change over time due to new records coming into OpenAlex.
This argument is likely only useful when queries happen close together (within a day).</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_search">search</code></td>
<td>
<p>Character. Search is just another kind of filter, one that all five endpoints support.
But unlike the other filters, search does NOT require an exact match.
This is particularly useful in author queries because many authors have middle names, which may not exist or do so in a variety of forms.
The 'display_name' filter requires an exact match and will NOT find all these authors.
For example, author &quot;Phillip H. Kuo&quot; and &quot;Phillip Hsin Kuo&quot; can only be found either using search = &quot;Phillip Kuo&quot; or display_name = c(&quot;Phillip H. Kuo&quot;, &quot;Phillip Hsin Kuo&quot;).
To filter using search, append .search to the end of the attribute you're filtering for.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_group_by">group_by</code></td>
<td>
<p>Character. Attribute to group by.
For example: &quot;oa_status&quot; for works.
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-groups-of-entities&gt;.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_output">output</code></td>
<td>
<p>Character. Type of output, either a list or a tibble/data.frame.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_abstract">abstract</code></td>
<td>
<p>Logical. If TRUE, the function returns also the abstract of each item.
Default to <code>abstract = TRUE</code>.
The argument is ignored if entity is different from &quot;works&quot;.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_endpoint">endpoint</code></td>
<td>
<p>Character. URL of the OpenAlex Endpoint API server.
Defaults to endpoint = &quot;https://api.openalex.org&quot;.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_per_page">per_page</code></td>
<td>
<p>Numeric. Number of items to download per page.
The per-page argument can assume any number between 1 and 200.
Defaults to 200.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_paging">paging</code></td>
<td>
<p>Character.
Either &quot;cursor&quot; for cursor paging or &quot;page&quot; for basic paging.
When used with 'options$sample' and or 'pages',
paging is also automatically set to basic paging: 'paging = &quot;page&quot;'
to avoid duplicates and get the right page.
See https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/paging.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_pages">pages</code></td>
<td>
<p>Integer vector.
The range of pages to return. If NULL, return all pages.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_count_only">count_only</code></td>
<td>
<p>Logical.
If TRUE, the function returns only the number of item matching the query.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_mailto">mailto</code></td>
<td>
<p>Character string.
Gives OpenAlex an email to enter the polite pool.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_api_key">api_key</code></td>
<td>
<p>Character string.
Your OpenAlex Premium API key, if available.</p>
</td></tr>
<tr><td><code id="oa_fetch_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, print information on querying process.
Default to <code>verbose = FALSE</code>.
To shorten the printed query URL, set the environment variable openalexR.print
to the number of characters to print: <code>Sys.setenv(openalexR.print = 70)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame or a list. Result of the query.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

paper_meta &lt;- oa_fetch(
  identifier = "W2755950973",
  entity = "works",
  count_only = TRUE,
  abstract = TRUE,
  verbose = TRUE
)

oa_fetch(
  entity = "works",
  doi = c(
    "10.1371/journal.pone.0266781",
    "10.1371/journal.pone.0267149"
  ),
  verbose = TRUE,
  count_only = TRUE
)

oa_fetch(
  entity = "works",
  doi = c(
    "10.1371/journal.pone.0266781",
    "10.1371/journal.pone.0267149"
  ),
  options = list(select = c("doi", "id", "cited_by_count", "type")),
  verbose = TRUE
)

oa_fetch(
  identifier = c("A5069892096", "A5023888391"),
  verbose = TRUE
)

## End(Not run)
</code></pre>

<hr>
<h2 id='oa_generate'>Iterating through records</h2><span id='topic+oa_generate'></span>

<h3>Description</h3>

<p>A generator for making request to OpenAlex API
Returns one record at a time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_generate(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa_generate_+3A_...">...</code></td>
<td>
<p>arguments passed to the generator including
'query_url', 'mailto', 'api_key', and 'verbose'.
See 'oa_request' for details on these arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Generator function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("coro")) {
  # Example 1: basic usage getting one record at a time
  query_url &lt;- "https://api.openalex.org/works?filter=cites%3AW1160808132"
  oar &lt;- oa_generate(query_url, verbose = TRUE)
  p1 &lt;- oar() # record 1
  p2 &lt;- oar() # record 2
  p3 &lt;- oar() # record 3
  head(p1)
  head(p3)

  # Example 2: using `coro::loop()` to iterate through the generator
  query_url &lt;- "https://api.openalex.org/works?filter=cited_by%3AW1847168837"
  oar &lt;- oa_generate(query_url)
  coro::loop(for (x in oar) {
    print(x$id)
  })

  # Example 3: save records in blocks of 100
  query_url &lt;- "https://api.openalex.org/works?filter=cites%3AW1160808132"
  oar &lt;- oa_generate(query_url)
  n &lt;- 100
  recs &lt;- vector("list", n)
  i &lt;- 0

  coro::loop(for (x in oar) {
    j &lt;- i %% n + 1
    recs[[j]] &lt;- x
    if (j == n) {
      # saveRDS(recs, sprintf("rec-%s.rds", i %/% n))
      recs &lt;- vector("list", n) # reset recs
    }
    i &lt;- i + 1
  })
  head(x)
  j
  # 398 works total, so j = 98 makes sense.

  # You can also manually call the generator until exhausted
  # using `while (!coro::is_exhausted(record_i))`.
  # More details at https://coro.r-lib.org/articles/generator.html.

}

</code></pre>

<hr>
<h2 id='oa_ngrams'>Get N-grams of works</h2><span id='topic+oa_ngrams'></span>

<h3>Description</h3>

<p>Some work entities in OpenAlex include N-grams (word sequences and their frequencies) of their full text.
The N-grams are obtained from Internet Archive, which uses the spaCy parser to index scholarly works.
See &lt;https://docs.openalex.org/api-entities/works/get-n-grams&gt; for coverage and more technical details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_ngrams(
  works_identifier,
  ...,
  endpoint = "https://api.openalex.org",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa_ngrams_+3A_works_identifier">works_identifier</code></td>
<td>
<p>Character. OpenAlex ID(s) of &quot;works&quot; entities as item identifier(s).
These IDs start with &quot;W&quot;. See more at &lt;https://docs.openalex.org/api-entities/works#id&gt;.</p>
</td></tr>
<tr><td><code id="oa_ngrams_+3A_...">...</code></td>
<td>
<p>Unused.</p>
</td></tr>
<tr><td><code id="oa_ngrams_+3A_endpoint">endpoint</code></td>
<td>
<p>Character. URL of the OpenAlex Endpoint API server.
Defaults to endpoint = &quot;https://api.openalex.org&quot;.</p>
</td></tr>
<tr><td><code id="oa_ngrams_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, print information on querying process.
Default to <code>verbose = FALSE</code>.
To shorten the printed query URL, set the environment variable openalexR.print
to the number of characters to print: <code>Sys.setenv(openalexR.print = 70)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of paper metadatada and a list-column of ngrams.
</p>


<h3>Note</h3>

<p>A faster implementation is available for 'curl' &gt;= v5.0.0, and 'oa_ngrams' will issue a one-time message
about this. This can be suppressed with 'options(&quot;oa_ngrams.message.curlv5&quot; = FALSE)'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

ngrams_data &lt;- oa_ngrams(c("W1963991285", "W1964141474"))

# 10 most common ngrams in the first work
first_paper_ngrams &lt;- ngrams_data$ngrams[[1]]
first_paper_ngrams[
  order(first_paper_ngrams$ngram_count, decreasing = TRUE),
][
  1:10,
]

# Missing N-grams are `NULL` in the `ngrams` list-column
oa_ngrams("https://openalex.org/W2284876136")

## End(Not run)
</code></pre>

<hr>
<h2 id='oa_query'>Generate an OpenAlex query from a set of parameters</h2><span id='topic+oa_query'></span>

<h3>Description</h3>

<p>It generates a valid query, written following the OpenAlex API Language, from a set of parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_query(
  filter = NULL,
  multiple_id = FALSE,
  identifier = NULL,
  entity = if (is.null(identifier)) NULL else id_type(identifier[[1]]),
  options = NULL,
  search = NULL,
  group_by = NULL,
  endpoint = "https://api.openalex.org",
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa_query_+3A_filter">filter</code></td>
<td>
<p>Character string.
Filters narrow the list down to just entities that meet a particular
condition&ndash;specifically, a particular value for a particular attribute.
Filters are formatted as attribute = value.
The complete list of filter attributes for each entity can be found at
&lt;https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/filter-entity-lists&gt;.
For example, 'cited_by_count = &quot;&gt;100&quot;',
'title.search = c(&quot;bibliometric analysis&quot;, &quot;science mapping&quot;)',
or 'to_publication_date = &quot;2021-12-31&quot;'.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_multiple_id">multiple_id</code></td>
<td>
<p>Logical. Whether there are multiple identifiers.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_identifier">identifier</code></td>
<td>
<p>Character. OpenAlex ID(s) as item identifier(s).
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-single-entities#the-openalex-id&gt;.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_entity">entity</code></td>
<td>
<p>Character. Scholarly entity of the search.
The argument can be one of
c(&quot;works&quot;, &quot;authors&quot;, &quot;institutions&quot;, &quot;concepts&quot;, &quot;funders&quot;, &quot;sources&quot;, &quot;publishers&quot;, &quot;topics&quot;).
If not provided, 'entity' is guessed from 'identifier'.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_options">options</code></td>
<td>
<p>List. Additional parameters to add in the query. For example:
</p>
<p>- 'select' Character vector. Top-level fields to show in output.
Defaults to NULL, which returns all fields.
https://docs.openalex.org/how-to-use-the-api/get-single-entities/select-fields
</p>
<p>- 'sort' Character. Attribute to sort by.
For example: &quot;display_name&quot; for sources or &quot;cited_by_count:desc&quot; for works.
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/sort-entity-lists&gt;.
</p>
<p>- 'sample' Integer. Number of (random) records to return.
Should be no larger than 10,000.
Defaults to NULL, which returns all records satisfying the query.
Read more at &lt;https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/sample-entity-lists&gt;.
</p>
<p>- 'seed' Integer.
A seed value in order to retrieve the same set of random records in
the same order when used multiple times with 'sample'.
IMPORTANT NOTE: Depending on your query, random results with a seed value may change over time due to new records coming into OpenAlex.
This argument is likely only useful when queries happen close together (within a day).</p>
</td></tr>
<tr><td><code id="oa_query_+3A_search">search</code></td>
<td>
<p>Character. Search is just another kind of filter, one that all five endpoints support.
But unlike the other filters, search does NOT require an exact match.
This is particularly useful in author queries because many authors have middle names, which may not exist or do so in a variety of forms.
The 'display_name' filter requires an exact match and will NOT find all these authors.
For example, author &quot;Phillip H. Kuo&quot; and &quot;Phillip Hsin Kuo&quot; can only be found either using search = &quot;Phillip Kuo&quot; or display_name = c(&quot;Phillip H. Kuo&quot;, &quot;Phillip Hsin Kuo&quot;).
To filter using search, append .search to the end of the attribute you're filtering for.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_group_by">group_by</code></td>
<td>
<p>Character. Attribute to group by.
For example: &quot;oa_status&quot; for works.
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-groups-of-entities&gt;.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_endpoint">endpoint</code></td>
<td>
<p>Character. URL of the OpenAlex Endpoint API server.
Defaults to endpoint = &quot;https://api.openalex.org&quot;.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, print information on querying process.
Default to <code>verbose = FALSE</code>.
To shorten the printed query URL, set the environment variable openalexR.print
to the number of characters to print: <code>Sys.setenv(openalexR.print = 70)</code>.</p>
</td></tr>
<tr><td><code id="oa_query_+3A_...">...</code></td>
<td>
<p>Additional filter arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character containing the query in OpenAlex format.
</p>
<p>For more extensive information about OpenAlex API, please visit:
&lt;https://docs.openalex.org&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

query_auth &lt;- oa_query(identifier = "A5069892096", verbose = TRUE)

### EXAMPLE 1: Full record about an entity.

# Query to obtain allinformation about a particular work/author/institution/etc.:

#  The following paper is associated to the OpenAlex-id W2755950973.

#  Aria, M., &amp; Cuccurullo, C. (2017). bibliometrix:
#   An R-tool for comprehensive science mapping analysis.
#   Journal of informetrics, 11(4), 959-975.

query_work &lt;- oa_query(
  identifier = "W2755950973",
  verbose = TRUE
)

#  The author Massimo Aria is associated to the OpenAlex-id A5069892096:

query_auth &lt;- oa_query(identifier = "A5069892096", verbose = TRUE)

### EXAMPLE 2: all works citing a particular work.

# Query to search all works citing the article:
#  Aria, M., &amp; Cuccurullo, C. (2017). bibliometrix:
#   An R-tool for comprehensive science mapping analysis.
#   Journal of informetrics, 11(4), 959-975.

#  published in 2021.
#  The paper is associated to the OpenAlex id W2755950973.

#  Results have to be sorted by relevance score in a descending order.

query1 &lt;- oa_query(
  entity = "works",
  cites = "W2755950973",
  from_publication_date = "2021-01-01",
  to_publication_date = "2021-12-31",
  verbose = TRUE
)

### EXAMPLE 3: All works matching a string in their title

# Query to search all works containing the exact string
# "bibliometric analysis" OR "science mapping" in the title, published in the first half of 2021.

# Results have to be sorted by relevance score in a descending order.

query2 &lt;- oa_query(
  entity = "works",
  title.search = c("bibliometric analysis", "science mapping"),
  from_publication_date = "2021-01-01",
  to_publication_date = "2021-06-30",
  options = list(sort = "cited_by_count:desc"),
  verbose = TRUE
)

## End(Not run)

</code></pre>

<hr>
<h2 id='oa_random'>oa_fetch but for a random query</h2><span id='topic+oa_random'></span>

<h3>Description</h3>

<p>oa_fetch but for a random query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_random(
  entity = oa_entities(),
  output = c("tibble", "dataframe", "list"),
  endpoint = "https://api.openalex.org"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa_random_+3A_entity">entity</code></td>
<td>
<p>Character. Scholarly entity of the search.
The argument can be one of
c(&quot;works&quot;, &quot;authors&quot;, &quot;institutions&quot;, &quot;concepts&quot;, &quot;funders&quot;, &quot;sources&quot;, &quot;publishers&quot;, &quot;topics&quot;).
If not provided, 'entity' is guessed from 'identifier'.</p>
</td></tr>
<tr><td><code id="oa_random_+3A_output">output</code></td>
<td>
<p>Character. Type of output, either a list or a tibble/data.frame.</p>
</td></tr>
<tr><td><code id="oa_random_+3A_endpoint">endpoint</code></td>
<td>
<p>Character. URL of the OpenAlex Endpoint API server.
Defaults to endpoint = &quot;https://api.openalex.org&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame or a list. One row or one element.
Result of the random query.
If you would like to select more than one random entity, say, 10,
use 'options = list(sample = 10)' argument in 'oa_fetch'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>oa_random()
</code></pre>

<hr>
<h2 id='oa_request'>Get bibliographic records from OpenAlex database</h2><span id='topic+oa_request'></span>

<h3>Description</h3>

<p>'oa_request' makes a request and downloads bibliographic records from
OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a>.
The function <code>oa_request</code> queries OpenAlex database using a query
formulated through the function <code>oa_query</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_request(
  query_url,
  per_page = 200,
  paging = "cursor",
  pages = NULL,
  count_only = FALSE,
  mailto = oa_email(),
  api_key = oa_apikey(),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa_request_+3A_query_url">query_url</code></td>
<td>
<p>Character string.
A search query formulated using the OpenAlex API language and
can be generated with <code>oa_query</code>.</p>
</td></tr>
<tr><td><code id="oa_request_+3A_per_page">per_page</code></td>
<td>
<p>Numeric. Number of items to download per page.
The per-page argument can assume any number between 1 and 200.
Defaults to 200.</p>
</td></tr>
<tr><td><code id="oa_request_+3A_paging">paging</code></td>
<td>
<p>Character.
Either &quot;cursor&quot; for cursor paging or &quot;page&quot; for basic paging.
When used with 'options$sample' and or 'pages',
paging is also automatically set to basic paging: 'paging = &quot;page&quot;'
to avoid duplicates and get the right page.
See https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/paging.</p>
</td></tr>
<tr><td><code id="oa_request_+3A_pages">pages</code></td>
<td>
<p>Integer vector.
The range of pages to return. If NULL, return all pages.</p>
</td></tr>
<tr><td><code id="oa_request_+3A_count_only">count_only</code></td>
<td>
<p>Logical.
If TRUE, the function returns only the number of item matching the query.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="oa_request_+3A_mailto">mailto</code></td>
<td>
<p>Character string.
Gives OpenAlex an email to enter the polite pool.</p>
</td></tr>
<tr><td><code id="oa_request_+3A_api_key">api_key</code></td>
<td>
<p>Character string.
Your OpenAlex Premium API key, if available.</p>
</td></tr>
<tr><td><code id="oa_request_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the querying process. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame or a list of bibliographic records.
</p>
<p>For more extensive information about OpenAlex API, please visit:
&lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

### EXAMPLE 1: Full record about an entity.

# Query to obtain all information about a particular work/author/institution/etc.:

#  The following paper is associated to the OpenAlex-id W2755950973.

#  Aria, M., &amp; Cuccurullo, C. (2017). bibliometrix:
#   An R-tool for comprehensive science mapping analysis.
#   Journal of informetrics, 11(4), 959-975.

res &lt;- oa_request(query_url = "https://api.openalex.org/works/W2755950973")

#  The author Massimo Aria is associated to the OpenAlex-id A5069892096.

query_author &lt;- oa_query(
  identifier = "A5069892096",
  entity = "authors"
)
query_author
res &lt;- oa_request(
  query_url = query_author,
  count_only = FALSE,
  verbose = FALSE
)

### EXAMPLE 2: all works citing a particular work.

# Query to search all works citing the article:
#  Aria, M., &amp; Cuccurullo, C. (2017). bibliometrix:
#   An R-tool for comprehensive science mapping analysis.
#   Journal of informetrics, 11(4), 959-975.

#  published in 2021.
#  The paper is associated to the OpenAlex id W2755950973.

#  Results have to be sorted by relevance score in a descending order.

query2 &lt;- oa_query(
  identifier = NULL,
  entity = "works",
  cites = "W2755950973",
  from_publication_date = "2021-12-01",
  to_publication_date = "2021-12-31",
  search = NULL,
  endpoint = "https://api.openalex.org"
)

res2 &lt;- oa_request(
  query_url = query2,
  count_only = FALSE,
  verbose = FALSE
)

### EXAMPLE 3: All works matching a string in their title

# Query to search all works containing the exact string
# "bibliometric analysis" OR "science mapping" in the title, published in 2020 or 2021.

# Results have to be sorted by relevance score in a descending order.


query3 &lt;- oa_query(
  entity = "works",
  title.search = c("bibliometric analysis", "science mapping"),
  from_publication_date = "2021-12-01",
  to_publication_date = "2021-12-31"
)

res3 &lt;- oa_request(
  query_url = query3,
  count_only = FALSE,
  verbose = FALSE
)

### EXAMPLE 4: How to check how many works match a query
# Query to search all works containing the exact string
# "bibliometric analysis" OR "science mapping" in the title, published in 2020 or 2021.

# Query only to know how many works could be retrieved (count_only=TRUE)

query4 &lt;- oa_query(
  entity = "works",
  title.search = c("bibliometric analysis", "science mapping"),
  from_publication_date = "2020-01-01",
  to_publication_date = "2021-12-31"
)

res4 &lt;- oa_request(
  query_url = query4,
  count_only = TRUE,
  verbose = FALSE
)

res4$count # number of items retrieved by our query

## End(Not run)
</code></pre>

<hr>
<h2 id='oa_snowball'>A function to perform a snowball search
and convert the result to a tibble/data frame.</h2><span id='topic+oa_snowball'></span>

<h3>Description</h3>

<p>A function to perform a snowball search
and convert the result to a tibble/data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa_snowball(
  identifier = NULL,
  ...,
  id_type = c("short", "original"),
  mailto = oa_email(),
  endpoint = "https://api.openalex.org",
  verbose = FALSE,
  citing_params = list(),
  cited_by_params = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa_snowball_+3A_identifier">identifier</code></td>
<td>
<p>Character vector of openalex identifiers.</p>
</td></tr>
<tr><td><code id="oa_snowball_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to 'oa_fetch' when querying the
input works, such as 'doi'.</p>
</td></tr>
<tr><td><code id="oa_snowball_+3A_id_type">id_type</code></td>
<td>
<p>Type of OpenAlex IDs to return. Defaults to &quot;short&quot;,
which remove the prefix https://openalex.org/ in the works' IDs,
for example, W2755950973.
If &quot;original&quot;, the OpenAlex IDs are kept as are,
for example, https://openalex.org/W2755950973</p>
</td></tr>
<tr><td><code id="oa_snowball_+3A_mailto">mailto</code></td>
<td>
<p>Character string.
Gives OpenAlex an email to enter the polite pool.</p>
</td></tr>
<tr><td><code id="oa_snowball_+3A_endpoint">endpoint</code></td>
<td>
<p>Character. URL of the OpenAlex Endpoint API server.
Defaults to endpoint = &quot;https://api.openalex.org&quot;.</p>
</td></tr>
<tr><td><code id="oa_snowball_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, print information on querying process.
Default to <code>verbose = FALSE</code>.
To shorten the printed query URL, set the environment variable openalexR.print
to the number of characters to print: <code>Sys.setenv(openalexR.print = 70)</code>.</p>
</td></tr>
<tr><td><code id="oa_snowball_+3A_citing_params">citing_params</code></td>
<td>
<p>parameters used in the search of works citing the input works.</p>
</td></tr>
<tr><td><code id="oa_snowball_+3A_cited_by_params">cited_by_params</code></td>
<td>
<p>parameters used in the search of works cited by the input works.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing 2 elements:
- nodes: dataframe with publication records.
The last column 'oa_input' indicates whether the work was
one of the input 'identifier'(s).
- edges: publication link dataframe of 2 columns 'from, to'
such that a row 'A, B' means A -&gt; B means A cites B.
In bibliometrics, the &quot;citation action&quot; comes from A to B.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

snowball_docs &lt;- oa_snowball(
  identifier = c("W2741809807", "W2755950973"),
  citing_params = list(from_publication_date = "2022-01-01"),
  cited_by_params = list(),
  verbose = TRUE
)

# Identical to above, but searches using paper DOIs
snowball_docs_doi &lt;- oa_snowball(
  doi = c("10.1016/j.joi.2017.08.007", "10.7717/peerj.4375"),
  citing_params = list(from_publication_date = "2022-01-01"),
  cited_by_params = list(),
  verbose = TRUE
)


## End(Not run)
</code></pre>

<hr>
<h2 id='oa2bibliometrix'>Convert OpenAlex collection from data frame to bibliometrix object</h2><span id='topic+oa2bibliometrix'></span>

<h3>Description</h3>

<p>It converts bibliographic collections gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into a
bibliometrix data frame (<a href="https://bibliometrix.org/">https://bibliometrix.org/</a>)
Column names follow https://images.webofknowledge.com/images/help/WOS/hs_wos_fieldtags.html.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa2bibliometrix(df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa2bibliometrix_+3A_df">df</code></td>
<td>
<p>is bibliographic collection of works donwloaded from OpenALex.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with class &quot;bibliometrix&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Query to search all works citing the article:
#  Aria, M., &amp; Cuccurullo, C. (2017). bibliometrix:
#   An R-tool for comprehensive science mapping analysis.
#   Journal of informetrics, 11(4), 959-975.

#  published in 2021.
#  The paper is associated to the OpenAlex id W2755950973.

#  Results have to be sorted by relevance score in a descending order.

query &lt;- oa_query(
  identifier = NULL,
  entity = "works",
  cites = "W2755950973",
  from_publication_date = "2021-01-01",
  to_publication_date = "2021-12-31",
  search = NULL,
  endpoint = "https://api.openalex.org"
)

res &lt;- oa_request(
  query_url = query,
  count_only = FALSE,
  verbose = FALSE
)

df &lt;- oa2df(res, entity = "works")

M &lt;- oa2bibliometrix(df)

## End(Not run)

</code></pre>

<hr>
<h2 id='oa2df'>Convert OpenAlex collection from list to data frame</h2><span id='topic+oa2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collections gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a collection of records about works, authors, institutions, venues or concepts obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oa2df(
  data,
  entity,
  options = NULL,
  count_only = FALSE,
  group_by = NULL,
  abstract = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="oa2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="oa2df_+3A_entity">entity</code></td>
<td>
<p>Character. Scholarly entity of the search.
The argument can be one of
c(&quot;works&quot;, &quot;authors&quot;, &quot;institutions&quot;, &quot;concepts&quot;, &quot;funders&quot;, &quot;sources&quot;, &quot;publishers&quot;, &quot;topics&quot;).</p>
</td></tr>
<tr><td><code id="oa2df_+3A_options">options</code></td>
<td>
<p>List. Additional parameters to add in the query. For example:
</p>
<p>- 'select' Character vector. Top-level fields to show in output.
Defaults to NULL, which returns all fields.
https://docs.openalex.org/how-to-use-the-api/get-single-entities/select-fields
</p>
<p>- 'sort' Character. Attribute to sort by.
For example: &quot;display_name&quot; for sources or &quot;cited_by_count:desc&quot; for works.
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/sort-entity-lists&gt;.
</p>
<p>- 'sample' Integer. Number of (random) records to return.
Should be no larger than 10,000.
Defaults to NULL, which returns all records satisfying the query.
Read more at &lt;https://docs.openalex.org/how-to-use-the-api/get-lists-of-entities/sample-entity-lists&gt;.
</p>
<p>- 'seed' Integer.
A seed value in order to retrieve the same set of random records in
the same order when used multiple times with 'sample'.
IMPORTANT NOTE: Depending on your query, random results with a seed value may change over time due to new records coming into OpenAlex.
This argument is likely only useful when queries happen close together (within a day).</p>
</td></tr>
<tr><td><code id="oa2df_+3A_count_only">count_only</code></td>
<td>
<p>Logical.
If TRUE, the function returns only the number of item matching the query.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="oa2df_+3A_group_by">group_by</code></td>
<td>
<p>Character. Attribute to group by.
For example: &quot;oa_status&quot; for works.
See more at &lt;https://docs.openalex.org/how-to-use-the-api/get-groups-of-entities&gt;.</p>
</td></tr>
<tr><td><code id="oa2df_+3A_abstract">abstract</code></td>
<td>
<p>Logical. If TRUE, the function returns also the abstract of each item.
Ignored if entity is different from &quot;works&quot;. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="oa2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble/dataframe result of the original OpenAlex result list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Query to search all works citing the article:
#  Aria, M., &amp; Cuccurullo, C. (2017). bibliometrix:
#   An R-tool for comprehensive science mapping analysis.
#   Journal of informetrics, 11(4), 959-975.

#  published in 2021.
#  The paper is associated to the OpenAlex id W2755950973.

#  Results have to be sorted by relevance score in a descending order.

query &lt;- oa_query(
  entity = "works",
  cites = "W2755950973",
  from_publication_date = "2021-01-01",
  to_publication_date = "2021-04-30"
)

res &lt;- oa_request(
  query_url = query,
  count_only = FALSE,
  verbose = FALSE
)

oa2df(res, entity = "works")

## End(Not run)

</code></pre>

<hr>
<h2 id='process_topics'>Process topics</h2><span id='topic+process_topics'></span>

<h3>Description</h3>

<p>Process topics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_topics(entity, extra)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="process_topics_+3A_entity">entity</code></td>
<td>
<p>List. One single work or author to process.</p>
</td></tr>
<tr><td><code id="process_topics_+3A_extra">extra</code></td>
<td>
<p>Character. Either &quot;score&quot; (work) or &quot;count&quot; (author).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List. A list of one tibble with the processed topics.
</p>

<hr>
<h2 id='publishers2df'>Convert OpenAlex collection of publishers' records from list format to data frame</h2><span id='topic+publishers2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collection of publishers' records gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a list of publishers' records obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>publishers2df(
  data,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="publishers2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="publishers2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="publishers2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Get publishers located in Canada with more than 100,000 citations

res &lt;- oa_request(
  "https://api.openalex.org/publishers?filter=country_codes:ca"
)

df &lt;- oa2df(res, entity = "publishers")

df

## End(Not run)

</code></pre>

<hr>
<h2 id='show_authors'>Simplify the OpenAlex authors result</h2><span id='topic+show_authors'></span>

<h3>Description</h3>

<p>This function is mostly for the package's internal use,
but we export it so you can try it out.
However, we expect that you'll likely write your own function to
simplify the result however you want.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_authors(x, simp_func = utils::head)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_authors_+3A_x">x</code></td>
<td>
<p>Dataframe/tibble. Result of the OpenAlex query for authors
already converted to dataframe/tibble.</p>
</td></tr>
<tr><td><code id="show_authors_+3A_simp_func">simp_func</code></td>
<td>
<p>R function to simplify the result. Default to 'head'.
If you want the entire table, set 'simp_fun = identity'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Simplified tibble to display.
The first column, 'id' is the short-form OpenAlex ID of the authors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
show_authors(oa_fetch(
  identifier = c("A5023888391", "A5014077037"),
  verbose = TRUE
))

</code></pre>

<hr>
<h2 id='show_works'>Simplify the OpenAlex works result</h2><span id='topic+show_works'></span>

<h3>Description</h3>

<p>This function is mostly for the package's internal use,
but we export it so you can try it out.
However, we expect that you'll likely write your own function to
simplify the result however you want.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_works(x, simp_func = utils::head)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_works_+3A_x">x</code></td>
<td>
<p>Dataframe/tibble. Result of the OpenAlex query for authors
already converted to dataframe/tibble.</p>
</td></tr>
<tr><td><code id="show_works_+3A_simp_func">simp_func</code></td>
<td>
<p>R function to simplify the result. Default to 'head'.
If you want the entire table, set 'simp_fun = identity'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Simplified tibble to display.
The first column, 'id' is the short-form OpenAlex ID of the works
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
show_works(oa_fetch(
  identifier = c("W2741809807", "W2755950973"),
  verbose = TRUE
))

</code></pre>

<hr>
<h2 id='snowball2df'>Flatten snowball result</h2><span id='topic+snowball2df'></span>

<h3>Description</h3>

<p>|  id|title |...|cited_by_count| referenced_works   |cited_by |...|
| 100|foo   |...|             1| 98, 99             |101      |...|
| 200|bar   |...|             2| 198, 199           |201, 202 |...|
| 300|wug   |...|             2| 296, 297, 298, 299 |301, 302 |...|
</p>


<h3>Usage</h3>

<pre><code class='language-R'>snowball2df(data, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="snowball2df_+3A_data">data</code></td>
<td>
<p>List result from 'oa_snowball'.</p>
</td></tr>
<tr><td><code id="snowball2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, print information on wrangling process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble/data.frame of works with additional columns:
append 'citing', 'backward_count', 'cited_by', 'forward_count', 'connection',
and 'connection_count.' For each work/row, these counts are WITHIN one
data search, and so 'forward_count' &lt;= 'cited_by_count'.
</p>
<p>Consider the universe of all works linked to a set of starting works, ('oa_input = TRUE')
for each work/row i:
- citing: works in the universe that i cites
- backward_count: number of works in the universe that i cites
- cited_by: works that i is cited by
- forward_count: number of works in the universe that i is cited by
- connection: works in the universe linked to i
- connection_count: number of works in the universe linked to i (degree of i)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
flat_snow &lt;- snowball2df(oa_snowball(
  identifier = "W1516819724",
  verbose = TRUE
))

flat_snow[, c("id", "connection", "connection_count")]

## End(Not run)
</code></pre>

<hr>
<h2 id='sources2df'>Convert OpenAlex collection of sources' records from list format to data frame</h2><span id='topic+sources2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collection of sources' records gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a list of sources' records obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sources2df(
  data,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sources2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="sources2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="sources2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Get sources from Nature

res &lt;- oa_request(
  "https://api.openalex.org/sources?search=nature"
)

df &lt;- oa2df(res, entity = "sources")

df

## End(Not run)

</code></pre>

<hr>
<h2 id='topics2df'>Convert OpenAlex collection of topics' records from list format to data frame</h2><span id='topic+topics2df'></span>

<h3>Description</h3>

<p>It converts collection of topics' records gathered from the OpenAlex database.
The function converts a list of topics' records obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topics2df(
  data,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="topics2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="topics2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="topics2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Query to search information about all Italian educational institutions


query_inst &lt;- oa_query(
  entity = "topics",
  display_name.search = "electrodynamics"
)

res &lt;- oa_request(
  query_url = query_inst,
  count_only = FALSE,
  verbose = FALSE
)

df &lt;- oa2df(res, entity = "topics")

df

## End(Not run)

</code></pre>

<hr>
<h2 id='works2df'>Convert OpenAlex collection of works from list format to data frame</h2><span id='topic+works2df'></span>

<h3>Description</h3>

<p>It converts bibliographic collection of works gathered from OpenAlex database <a href="https://openalex.org/">https://openalex.org/</a> into data frame.
The function converts a list of works obtained using <code>oa_request</code> into a data frame/tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>works2df(
  data,
  abstract = TRUE,
  verbose = TRUE,
  pb = if (verbose) oa_progress(length(data)) else NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="works2df_+3A_data">data</code></td>
<td>
<p>List. Output of <code>oa_request</code>.</p>
</td></tr>
<tr><td><code id="works2df_+3A_abstract">abstract</code></td>
<td>
<p>Logical. If TRUE, the function returns also the abstract of each item.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="works2df_+3A_verbose">verbose</code></td>
<td>
<p>Logical.
If TRUE, print information about the dataframe conversion process.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="works2df_+3A_pb">pb</code></td>
<td>
<p>Progress bar object. If verbose, computed from 'oa_progress'.
NULL otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>
<p>For more extensive information about OpenAlex API, please visit: &lt;https://docs.openalex.org&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Query to search all works citing the article:
#  Aria, M., &amp; Cuccurullo, C. (2017). bibliometrix:
#   An R-tool for comprehensive science mapping analysis.
#   Journal of informetrics, 11(4), 959-975.

#  published in 2021.
#  The paper is associated to the OpenAlex id W2755950973.

#  Results have to be sorted by relevance score in a descending order.

query &lt;- oa_query(
  identifier = NULL,
  entity = "works",
  cites = "W2755950973",
  from_publication_date = "2021-01-01",
  to_publication_date = "2021-12-31",
  search = NULL,
  endpoint = "https://api.openalex.org"
)

res &lt;- oa_request(
  query_url = query,
  count_only = FALSE,
  verbose = FALSE
)

df &lt;- oa2df(res, entity = "works")

df

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

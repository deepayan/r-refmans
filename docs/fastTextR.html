<!DOCTYPE html><html><head><title>Help for package fastTextR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fastTextR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fasttext'><p>Create a New <code>FastText</code> Model</p></a></li>
<li><a href='#ft_analogies'><p>Get Analogies</p></a></li>
<li><a href='#ft_control'><p>Default Control Settings</p></a></li>
<li><a href='#ft_load'><p>Load Model</p></a></li>
<li><a href='#ft_nearest_neighbors'><p>Get Nearest Neighbors</p></a></li>
<li><a href='#ft_normalize'><p>Normalize</p></a></li>
<li><a href='#ft_save'><p>Write Model</p></a></li>
<li><a href='#ft_sentence_vectors'><p>Get Sentence Vectors</p></a></li>
<li><a href='#ft_test'><p>Evaluate the Model</p></a></li>
<li><a href='#ft_train'><p>Train a Model</p></a></li>
<li><a href='#ft_word_vectors'><p>Get Word Vectors</p></a></li>
<li><a href='#ft_words'><p>Get Words</p></a></li>
<li><a href='#predict.supervised_model'><p>Predict using a Previously Trained Model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>An Interface to the 'fastText' Library</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An interface to the 'fastText' library
	<a href="https://github.com/facebookresearch/fastText">https://github.com/facebookresearch/fastText</a>. The package
	can be used for text classification and to learn word vectors.
	An example how to use 'fastTextR' can be found in the 'README' file.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, graphics, Rcpp (&ge; 0.12.4), slam</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/EmilHvitfeldt/fastTextR">https://github.com/EmilHvitfeldt/fastTextR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/EmilHvitfeldt/fastTextR/issues">https://github.com/EmilHvitfeldt/fastTextR/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-08 23:17:48 UTC; emilhvitfeldt</td>
</tr>
<tr>
<td>Author:</td>
<td>Florian Schwendinger [aut],
  Emil Hvitfeldt <a href="https://orcid.org/0000-0002-0679-1945"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Emil Hvitfeldt &lt;emilhhvitfeldt@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-09 00:40:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='fasttext'>Create a New <code>FastText</code> Model</h2><span id='topic+fasttext'></span>

<h3>Description</h3>

<p>Create a new <code>FastText</code> model. The available methods
are the same as the package functions but with out the prefix <code>"ft_"</code>
and without the need to provide the model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fasttext()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>ft &lt;- fasttext()
</code></pre>

<hr>
<h2 id='ft_analogies'>Get Analogies</h2><span id='topic+ft_analogies'></span>

<h3>Description</h3>

<p>TODO
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_analogies(model, word_triplets, k = 10L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_analogies_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>"fasttext"</code>.</p>
</td></tr>
<tr><td><code id="ft_analogies_+3A_word_triplets">word_triplets</code></td>
<td>
<p>a character vector of length string giving the word.</p>
</td></tr>
<tr><td><code id="ft_analogies_+3A_k">k</code></td>
<td>
<p>an integer giving the number of nearest neighbors to be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_analogies(model, c("berlin", "germany", "france"), k = 6L)

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_control'>Default Control Settings</h2><span id='topic+ft_control'></span>

<h3>Description</h3>

<p>A auxiliary function for defining the control variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_control(
  loss = c("softmax", "hs", "ns"),
  learning_rate = 0.05,
  learn_update = 100L,
  word_vec_size = 100L,
  window_size = 5L,
  epoch = 5L,
  min_count = 5L,
  min_count_label = 0L,
  neg = 5L,
  max_len_ngram = 1L,
  nbuckets = 2000000L,
  min_ngram = 3L,
  max_ngram = 6L,
  nthreads = 1L,
  threshold = 1e-04,
  label = "__label__",
  verbose = 0,
  pretrained_vectors = "",
  output = "",
  save_output = FALSE,
  seed = 0L,
  qnorm = FALSE,
  retrain = FALSE,
  qout = FALSE,
  cutoff = 0L,
  dsub = 2L,
  autotune_validation_file = "",
  autotune_metric = "f1",
  autotune_predictions = 1L,
  autotune_duration = 300L,
  autotune_model_size = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_control_+3A_loss">loss</code></td>
<td>
<p>a character string giving the name of the loss function
allowed values are <code>'softmax'</code>, <code>'hs'</code> and <code>'ns'</code>.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_learning_rate">learning_rate</code></td>
<td>
<p>a numeric giving the learning rate, the default value is <code>0.05</code>.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_learn_update">learn_update</code></td>
<td>
<p>an integer giving after how many tokens the learning rate
should be updated. The default value is <code>100L</code>, which
means the learning rate is updated every 100 tokens.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_word_vec_size">word_vec_size</code></td>
<td>
<p>an integer giving the length (size) of the word vectors.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_window_size">window_size</code></td>
<td>
<p>an integer giving the size of the context window.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_epoch">epoch</code></td>
<td>
<p>an integer giving the number of epochs.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_min_count">min_count</code></td>
<td>
<p>an integer giving the minimal number of word occurences.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_min_count_label">min_count_label</code></td>
<td>
<p>and integer giving the minimal number of label occurences.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_neg">neg</code></td>
<td>
<p>an integer giving how many negatives are sampled (only used if loss is <code>"ns"</code>).</p>
</td></tr>
<tr><td><code id="ft_control_+3A_max_len_ngram">max_len_ngram</code></td>
<td>
<p>an integer giving the maximum length of ngrams used.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_nbuckets">nbuckets</code></td>
<td>
<p>an integer giving the number of buckets.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_min_ngram">min_ngram</code></td>
<td>
<p>an integer giving the minimal ngram length.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_max_ngram">max_ngram</code></td>
<td>
<p>an integer giving the maximal ngram length.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_nthreads">nthreads</code></td>
<td>
<p>an integer giving the number of threads.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_threshold">threshold</code></td>
<td>
<p>a numeric giving the sampling threshold.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_label">label</code></td>
<td>
<p>a character string specifying the label prefix (default is <code>'__label__'</code>).</p>
</td></tr>
<tr><td><code id="ft_control_+3A_verbose">verbose</code></td>
<td>
<p>an integer giving the verbosity level, the default value
is <code>0L</code> and shouldn't be changed since Rcpp::Rcout
cann't handle the traffic.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_pretrained_vectors">pretrained_vectors</code></td>
<td>
<p>a character string giving the file path
to the pretrained word vectors which are used
for the supervised learning.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_output">output</code></td>
<td>
<p>a character string giving the output file path.</p>
</td></tr>
<tr><td><code id="ft_control_+3A_save_output">save_output</code></td>
<td>
<p>a logical (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_seed">seed</code></td>
<td>
<p>an integer</p>
</td></tr>
<tr><td><code id="ft_control_+3A_qnorm">qnorm</code></td>
<td>
<p>a logical (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_retrain">retrain</code></td>
<td>
<p>a logical (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_qout">qout</code></td>
<td>
<p>a logical (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_cutoff">cutoff</code></td>
<td>
<p>an integer (default is <code>0L</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_dsub">dsub</code></td>
<td>
<p>an integer (default is <code>2L</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_autotune_validation_file">autotune_validation_file</code></td>
<td>
<p>a character string</p>
</td></tr>
<tr><td><code id="ft_control_+3A_autotune_metric">autotune_metric</code></td>
<td>
<p>a character string (default is <code>"f1"</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_autotune_predictions">autotune_predictions</code></td>
<td>
<p>an integer (default is <code>1L</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_autotune_duration">autotune_duration</code></td>
<td>
<p>an integer (default is <code>300L</code>)</p>
</td></tr>
<tr><td><code id="ft_control_+3A_autotune_model_size">autotune_model_size</code></td>
<td>
<p>a character string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with the control variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ft_control(learning_rate=0.1)
</code></pre>

<hr>
<h2 id='ft_load'>Load Model</h2><span id='topic+ft_load'></span>

<h3>Description</h3>

<p>Load a previously saved model from file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_load(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_load_+3A_file">file</code></td>
<td>
<p>a character string giving the name of the file
to be read in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object inheriting from <code>"fasttext"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
model &lt;- ft_load("dbpedia.bin")

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_nearest_neighbors'>Get Nearest Neighbors</h2><span id='topic+ft_nearest_neighbors'></span>

<h3>Description</h3>

<p>TODO
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_nearest_neighbors(model, word, k = 10L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_nearest_neighbors_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>"fasttext"</code>.</p>
</td></tr>
<tr><td><code id="ft_nearest_neighbors_+3A_word">word</code></td>
<td>
<p>a character string giving the word.</p>
</td></tr>
<tr><td><code id="ft_nearest_neighbors_+3A_k">k</code></td>
<td>
<p>an integer giving the number of nearest neighbors to be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_nearest_neighbors(model, "enviroment", k = 6L)

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_normalize'>Normalize</h2><span id='topic+ft_normalize'></span>

<h3>Description</h3>

<p>Applies normalization to a given text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_normalize(txt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_normalize_+3A_txt">txt</code></td>
<td>
<p>a character vector to be normalized.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_normalize(some_text)

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_save'>Write Model</h2><span id='topic+ft_save'></span>

<h3>Description</h3>

<p>Write a previously saved model from file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_save(model, file, what = c("model", "vectors", "output"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_save_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>'fasttext'</code>.</p>
</td></tr>
<tr><td><code id="ft_save_+3A_file">file</code></td>
<td>
<p>a character string giving the name of the file.</p>
</td></tr>
<tr><td><code id="ft_save_+3A_what">what</code></td>
<td>
<p>a character string giving what should be saved.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_save(model, "my_model.bin", what = "model")

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_sentence_vectors'>Get Sentence Vectors</h2><span id='topic+ft_sentence_vectors'></span>

<h3>Description</h3>

<p>Obtain sentence vectors from a previously trained model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_sentence_vectors(model, sentences)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_sentence_vectors_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>"fasttext"</code>.</p>
</td></tr>
<tr><td><code id="ft_sentence_vectors_+3A_sentences">sentences</code></td>
<td>
<p>a character vector giving the sentences.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix containing the sentence vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_sentence_vectors(model, c("sentence", "vector"))

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_test'>Evaluate the Model</h2><span id='topic+ft_test'></span>

<h3>Description</h3>

<p>Evaluate the quality of the predictions.
For the model evaluation precision and recall are used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_test(model, file, k = 1L, threshold = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_test_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>'fasttext'</code>.</p>
</td></tr>
<tr><td><code id="ft_test_+3A_file">file</code></td>
<td>
<p>a character string giving the location of the validation file.</p>
</td></tr>
<tr><td><code id="ft_test_+3A_k">k</code></td>
<td>
<p>an integer giving the number of labels to be returned.</p>
</td></tr>
<tr><td><code id="ft_test_+3A_threshold">threshold</code></td>
<td>
<p>a double giving the threshold.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_test(model, file)

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_train'>Train a Model</h2><span id='topic+ft_train'></span>

<h3>Description</h3>

<p>Train a new word representation model or supervised
classification model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_train(
  file,
  method = c("supervised", "cbow", "skipgram"),
  control = ft_control(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_train_+3A_file">file</code></td>
<td>
<p>a character string giving the location of the input file.</p>
</td></tr>
<tr><td><code id="ft_train_+3A_method">method</code></td>
<td>
<p>a character string giving the method, possible values are
<code>'supervised'</code>, <code>'cbow'</code> and <code>'skipgram'</code>.</p>
</td></tr>
<tr><td><code id="ft_train_+3A_control">control</code></td>
<td>
<p>a list giving the control variables, for more information
see <code><a href="#topic+ft_control">ft_control</a></code>.</p>
</td></tr>
<tr><td><code id="ft_train_+3A_...">...</code></td>
<td>
<p>additional control arguments inserted into the control list.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cntrl &lt;- ft_control(nthreads = 1L)
model &lt;- ft_train("my_data.txt", method="supervised", control = cntrl)

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_word_vectors'>Get Word Vectors</h2><span id='topic+ft_word_vectors'></span>

<h3>Description</h3>

<p>Obtain word vectors from a previously trained model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_word_vectors(model, words)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_word_vectors_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>"fasttext"</code>.</p>
</td></tr>
<tr><td><code id="ft_word_vectors_+3A_words">words</code></td>
<td>
<p>a character vector giving the words.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix containing the word vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_word_vectors(model, c("word", "vector"))

## End(Not run)
</code></pre>

<hr>
<h2 id='ft_words'>Get Words</h2><span id='topic+ft_words'></span>

<h3>Description</h3>

<p>Obtain all the words from a previously trained model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_words(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_words_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>"fasttext"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_words(model)

## End(Not run)
</code></pre>

<hr>
<h2 id='predict.supervised_model'>Predict using a Previously Trained Model</h2><span id='topic+predict.supervised_model'></span><span id='topic+ft_predict'></span>

<h3>Description</h3>

<p>Predict values based on a previously trained model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_predict(
  model,
  newdata,
  k = 1L,
  threshold = 0,
  rval = c("sparse", "dense", "slam"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.supervised_model_+3A_model">model</code></td>
<td>
<p>an object inheriting from <code>'fasttext'</code>.</p>
</td></tr>
<tr><td><code id="predict.supervised_model_+3A_newdata">newdata</code></td>
<td>
<p>a character vector giving the new data.</p>
</td></tr>
<tr><td><code id="predict.supervised_model_+3A_k">k</code></td>
<td>
<p>an integer giving the number of labels to be returned.</p>
</td></tr>
<tr><td><code id="predict.supervised_model_+3A_threshold">threshold</code></td>
<td>
<p>a double withing <code>[0, 1]</code> giving lower bound
on the probabilities. Predictions with probabilities
below this lower bound are not returned. The default
is <code>0</code> which means all predictions are returned.</p>
</td></tr>
<tr><td><code id="predict.supervised_model_+3A_rval">rval</code></td>
<td>
<p>a character string controlling the return value, allowed
values are <code>"sparse"</code>, <code>"dense"</code> and <code>"slam"</code>.
The default is sparse, here the values are returned as a <code>data.frame</code>
in a format similar to a simple triplet matrix (sometimes refereed to as the
coordinate format). If <code>rval</code> is set to <code>"dense"</code>, a matrix
of the probabilities is returned. Similarly if <code>rval</code> is set to
<code>"slam"</code>, a matrix in the simple triplet sparse format from the
<span class="pkg">slam</span> package is returned.</p>
</td></tr>
<tr><td><code id="predict.supervised_model_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> if a <code>'result_file'</code> is given otherwise
if <code>'prob'</code> is true a <code>data.frame</code> with the predicted labels
and the corresponding probabilities, if <code>'prob'</code> is false a
character vector with the predicted labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ft_predict(model, newdata)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

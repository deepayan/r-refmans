<!DOCTYPE html><html><head><title>Help for package arulesSequences</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {arulesSequences}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#c-methods'><p>Combining Objects</p></a></li>
<li><a href='#cspade'><p>Mining Associations with cSPADE</p></a></li>
<li><a href='#info-methods'><p>Get/Set Object Information</p></a></li>
<li><a href='#inspect-methods'><p>Display Objects</p></a></li>
<li><a href='#itemFrequency-methods'><p>Count Items or Itemsets</p></a></li>
<li><a href='#match-methods'><p>Match Objects</p></a></li>
<li><a href='#read_baskets'><p>Read Transaction Data</p></a></li>
<li><a href='#ruleInduction-methods'><p>Induce Sequence Rules</p></a></li>
<li><a href='#sequencerules-class'><p>Class &quot;sequencerules&quot; &mdash; Collections of Sequential Rules</p></a></li>
<li><a href='#sequences-class'><p>Class &quot;sequences&quot; &mdash; Collections of Sequences</p></a></li>
<li><a href='#sgCMatrix-class'><p>Class &quot;sgCMatrix&quot; &ndash; Sparse Ordered Lists of Symbols</p></a></li>
<li><a href='#similarity-methods'><p>Compute Similarities</p></a></li>
<li><a href='#size-methods'><p>Compute the Size of Sequences</p></a></li>
<li><a href='#SPcontrol-class'><p>Class &quot;SPcontrol&quot; &mdash; cSPADE Control Parameters</p></a></li>
<li><a href='#SPparameter-class'><p>Class &quot;SPparameter&quot; &mdash; cSPADE Mining Parameters</p></a></li>
<li><a href='#subset-methods'><p>Subset Objects</p></a></li>
<li><a href='#support-methods'><p>Support Counting for Sequences</p></a></li>
<li><a href='#timedsequences-class'><p>Class &quot;timedsequences&quot; &mdash; Collections of Sequences with Timing Information</p></a></li>
<li><a href='#timeFrequency-methods'><p>Count Event Times</p></a></li>
<li><a href='#times-methods'><p>Compute Time Statistics of Sequences</p></a></li>
<li><a href='#zaki'><p>Zaki Data Set</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2-30</td>
</tr>
<tr>
<td>Title:</td>
<td>Mining Frequent Sequences</td>
</tr>
<tr>
<td>Author:</td>
<td>Christian Buchta and Michael Hahsler, with contributions from
        Daniel Diaz</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christian Buchta &lt;christian.buchta@wu.ac.at&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Add-on for arules to handle and mine frequent sequences.
    Provides interfaces to the C++ implementation of cSPADE by  
    Mohammed J. Zaki.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.2), methods, arules (&ge; 1.5-1)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-24 23:20:14 UTC; buchta</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-25 06:47:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='c-methods'>Combining Objects</h2><span id='topic+c'></span><span id='topic+c+2Csequences-method'></span><span id='topic+c+2Ctimedsequences-method'></span><span id='topic+c+2Csequencerules-method'></span>

<h3>Description</h3>

<p><code>c</code> combines a collection of (timed) sequences or sequence rules
into a single object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
c(x, ..., recursive = FALSE)

## S4 method for signature 'timedsequences'
c(x, ..., recursive = FALSE)

## S4 method for signature 'sequencerules'
c(x, ..., recursive = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="c-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="c-methods_+3A_...">...</code></td>
<td>
<p>(a list of) further objects of the same class as <code>x</code></p>
</td></tr></table>
<p>.
</p>
<table>
<tr><td><code id="c-methods_+3A_recursive">recursive</code></td>
<td>
<p>a logical value specifying if the function should
descend through lists.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>c</code> and <code>unique</code> an object of the same class as <code>x</code>.
</p>


<h3>Note</h3>

<p>Method <code>c</code> is similar to <code>rbind</code> but with the added twist
that objects are internally conformed matching their item labels.
That is, an object based on the union of item labels is created.
</p>
<p>For timed sequences event times are currently conformed as follows:
if the union of all labels can be cast to integer the labels are
sorted. Otherwise, labels not occurring in <code>x</code> are appended.
</p>
<p>The default setting does not allow any object to be of a class
other than <code>x</code>, i.e. the objects are not combined into a 
list.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
<code><a href="#topic+sequencerules-class">sequencerules</a></code>,
method
<code><a href="#topic+match">match</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(ruleInduction, package = "arulesSequences")
s &lt;- c(s1, s2)
s
match(unique(s), s1)

## combine rules
r &lt;- c(r2, r2[1:2])
r
match(unique(r), r2)

## combine timed sequences
z &lt;- as(zaki, "timedsequences")
match(z, c(z[1], z[-1]))
</code></pre>

<hr>
<h2 id='cspade'>Mining Associations with cSPADE</h2><span id='topic+cspade'></span>

<h3>Description</h3>

<p>Mining frequent sequential patterns with the cSPADE algorithm.
This algorithm utilizes temporal joins along with efficient
lattice search techniques and provides for timing constraints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cspade(data, parameter = NULL, control = NULL, tmpdir = tempdir())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cspade_+3A_data">data</code></td>
<td>
<p>an object of class
<code><a href="arules.html#topic+transactions-class">transactions</a></code> with
temporal information.</p>
</td></tr>
<tr><td><code id="cspade_+3A_parameter">parameter</code></td>
<td>
<p>an object of class <code><a href="#topic+SPparameter-class">SPparameter</a></code>
or a named list with corresponding components.</p>
</td></tr>
<tr><td><code id="cspade_+3A_control">control</code></td>
<td>
<p>an object of class <code><a href="#topic+SPcontrol-class">SPcontrol</a></code>
or a named list with corresponding components.</p>
</td></tr>
<tr><td><code id="cspade_+3A_tmpdir">tmpdir</code></td>
<td>
<p>a non-empty character vector giving the directory name
where temporary files are written.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Interfaces the command-line tools for preprocessing and mining
frequent sequences with the cSPADE algorithm by M. Zaki via a proper
chain of system calls.
</p>
<p>The temporal information is taken from components <code>sequenceID</code>
(sequence or customer identifier) and <code>eventID</code> (event identifier)
of <em>transactionInfo</em>. Note that integer identifiers must be
positive and that <code>transactions</code> must be ordered by
<code>sequenceID</code> and <code>eventID</code>.
</p>
<p>Class information (on sequences or customers) is taken from component
<code>classID</code>, if available. 
</p>
<p>The amount of disk space used by temporary files is reported in
verbose mode (see class <code><a href="#topic+SPcontrol-class">SPcontrol</a></code>).
</p>
<p>If specified <code>timeout</code> is passed to <code><a href="base.html#topic+system2">system2</a></code> (see
details there and class <code><a href="#topic+SPcontrol-class">SPcontrol</a></code>).
</p>


<h3>Value</h3>

<p>Returns an object of class <code><a href="#topic+sequences-class">sequences</a></code>.
</p>


<h3>Warning</h3>

<p>The implementation of the <code>maxwin</code> constraint in the command-line
tools seems to be broken. To avoid confusion it is disabled with a 
warning.
</p>


<h3>Note</h3>

<p>Temporary files may not be deleted until the end of the R session if
the call is interrupted. Use timeouts to avoid this problem.
</p>
<p>The current working directory (see <code><a href="base.html#topic+getwd">getwd</a></code>) must be writable.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta, Michael Hahsler</p>


<h3>References</h3>

<p>M. J. Zaki. (2001). SPADE: An Efficient Algorithm for Mining
Frequent Sequences. <em>Machine Learning Journal</em>, <b>42</b>,
31&ndash;60. 
</p>


<h3>See Also</h3>

<p>Class 
<code><a href="arules.html#topic+transactions-class">transactions</a></code>,
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+SPparameter-class">SPparameter</a></code>,
<code><a href="#topic+SPcontrol-class">SPcontrol</a></code>,
method 
<code><a href="#topic+ruleInduction">ruleInduction</a></code>,
<code><a href="#topic+support">support</a></code>,
function
<code><a href="#topic+read_baskets">read_baskets</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## use example data from paper
data(zaki)
## get support bearings
s0 &lt;- cspade(zaki, parameter = list(support = 0,
                                    maxsize = 1, maxlen = 1),
                   control   = list(verbose = TRUE))
as(s0, "data.frame")
## mine frequent sequences
s1 &lt;- cspade(zaki, parameter = list(support = 0.4), 
		   control   = list(verbose = TRUE, tidLists = TRUE))
summary(s1)
as(s1, "data.frame")

##
summary(tidLists(s1))
transactionInfo(tidLists(s1))

## use timing constraint
s2 &lt;- cspade(zaki, parameter = list(support = 0.4, maxgap = 5))
as(s2, "data.frame")

## use classification
t &lt;- zaki
transactionInfo(t)$classID &lt;-
    as.integer(transactionInfo(t)$sequenceID) %% 2 + 1L
s3 &lt;- cspade(t, parameter = list(support = 0.4, maxgap = 5))
as(s3, "data.frame")

## replace timestamps
t &lt;- zaki
transactionInfo(t)$eventID &lt;-
    unlist(tapply(seq(t), transactionInfo(t)$sequenceID,
	function(x) x - min(x) + 1), use.names = FALSE)
as(t, "data.frame")
s4 &lt;- cspade(t, parameter = list(support = 0.4))
s4
identical(as(s1, "data.frame"), as(s4, "data.frame"))

## work around
s5 &lt;- cspade(zaki, parameter = list(support = .25, maxgap = 5))
length(s5)
k &lt;- support(s5, zaki, control   = list(verbose = TRUE,
                       parameter = list(maxwin = 5)))
table(size(s5[k == 0]))

## Not run: 
## use generated data
t &lt;- read_baskets(con  = system.file("misc", "test.txt", package =
				      "arulesSequences"),
		  info = c("sequenceID", "eventID", "SIZE"))
summary(t)
## use low support
s6 &lt;- cspade(t, parameter = list(support = 0.0133), 
		control   = list(verbose = TRUE, timeout = 15))
summary(s6)

## check
k &lt;- support(s6, t, control = list(verbose = TRUE))
table(size(s6), sign(quality(s6)$support -k))

## use low confidence
r6 &lt;- ruleInduction(s6, confidence = .5,
			control    = list(verbose = TRUE))
summary(r6)

## End(Not run)
</code></pre>

<hr>
<h2 id='info-methods'>Get/Set Object Information</h2><span id='topic+sequenceInfo'></span><span id='topic+sequenceInfo+2Csequences-method'></span><span id='topic+sequenceInfo+3C-'></span><span id='topic+sequenceInfo+3C-+2Csequences-method'></span><span id='topic+ruleInfo'></span><span id='topic+ruleInfo+2Csequencerules-method'></span><span id='topic+ruleInfo+3C-'></span><span id='topic+ruleInfo+3C-+2Csequencerules-method'></span><span id='topic+itemInfo'></span><span id='topic+itemInfo+2Csequences-method'></span><span id='topic+itemInfo+3C-'></span><span id='topic+itemInfo+3C-+2Csequences-method'></span><span id='topic+timeInfo'></span><span id='topic+timeInfo+2Ctimedsequences-method'></span><span id='topic+timeInfo+3C-'></span><span id='topic+timeInfo+3C-+2Ctimedsequences-method'></span>

<h3>Description</h3>

<p><code>sequenceInfo</code> gets or sets information on the elements of a
collection of sequences
</p>
<p><code>ruleInfo</code> gets or sets information on the elements of a
collection of sequence rules.
</p>
<p><code>itemInfo</code> gets or sets information on the set of distinct items
associated with a collection of sequences.
</p>
<p><code>timeInfo</code> gets or sets information on the event times of a
collection of timed sequences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
sequenceInfo(object)

## S4 method for signature 'sequences':
sequenceInfo(object) &lt;- value

## S4 method for signature 'sequencerules'
ruleInfo(object)

## S4 method for signature 'sequencerules':
ruleInfo(object) &lt;- value

## S4 method for signature 'sequences'
itemInfo(object)

## S4 method for signature 'sequences':
itemInfo(object) &lt;- value

## S4 method for signature 'timedsequences'
timeInfo(object)

## S4 method for signature 'timedsequences':
timeInfo(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info-methods_+3A_object">object</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="info-methods_+3A_value">value</code></td>
<td>
<p>a data frame corresponding with the <em>elements</em> or 
<em>times</em> of <code>object</code>.</p>
</td></tr>

</table>


<h3>Value</h3>

<p>For method <code>sequenceInfo</code>
and method <code>ruleInfo</code> a data frame of information on and
corresponding with the elements of <code>object</code>.
</p>
<p>For method <code>itemInfo</code> a data frame of information on and
corresponding with the distinct items of <code>object</code>. 
</p>
<p>For method <code>timeInfo</code> a data frame of information on and
corresponding with the distinct event times of <code>object</code>.
</p>


<h3>Note</h3>

<p>For reasons of efficiency the reference set of distinct itemsets
may contain unreferenced <em>elements</em>, i.e. items that do not
occur in any sequence.
</p>
<p>Unique item identifiers must be provided in column <code>labels</code>.
</p>
<p>Unique event time identifiers must be provided in columns <code>labels</code>
and <code>eventID</code>. Note that the latter is used for computation
of gaps, etc.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class 
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
<code><a href="#topic+sequencerules-class">sequencerules</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(ruleInduction, package = "arulesSequences")

## empty
sequenceInfo(s2) &lt;- sequenceInfo(s2)
ruleInfo(r2) &lt;- ruleInfo(r2)

## item info
itemInfo(s2)


## time info
z &lt;- as(zaki, "timedsequences")
timeInfo(z)
</code></pre>

<hr>
<h2 id='inspect-methods'>Display Objects</h2><span id='topic+inspect'></span><span id='topic+inspect+2Csequences-method'></span><span id='topic+inspect+2Ctimedsequences-method'></span><span id='topic+inspect+2Csequencerules-method'></span><span id='topic+labels'></span><span id='topic+labels+2Csequences-method'></span><span id='topic+labels+2Ctimedsequences-method'></span><span id='topic+labels+2Csequencerules-method'></span><span id='topic+itemLabels'></span><span id='topic+itemLabels+2Csequences-method'></span><span id='topic+itemLabels+3C-'></span><span id='topic+itemLabels+3C-+2Csequences-method'></span>

<h3>Description</h3>

<p><code>inspect</code> displays a collection of (timed) sequences or sequence
rules and their associated quality measures formatted for online
inspection.
</p>
<p><code>labels</code> retrieves the string representations of a collection of
(timed) sequences or sequence rules.
</p>
<p><code>itemLabels</code> gets the string representations of the set of distinct
items or itemsets (elements) associated  with a collection of sequences,
or sets item labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
inspect(x, setSep = ",", seqStart = "&lt;", seqEnd = "&gt;",
	decode = TRUE)

## S4 method for signature 'timedsequences'
inspect(x, setSep = ",", seqStart = "&lt;", seqEnd = "&gt;", 
	decode = TRUE)

## S4 method for signature 'sequencerules'
inspect(x, setSep = ",", seqStart = "&lt;", seqEnd = "&gt;",
	ruleSep = "=&gt;", decode = TRUE)


## S4 method for signature 'sequences'
labels(object, setSep = ",", seqStart = "&lt;", seqEnd = "&gt;",
       decode = TRUE, ...)

## S4 method for signature 'timedsequences'
labels(object, timeStart = "[", timeEnd = "]", setSep = ",",
       seqStart = "&lt;", seqEnd = "&gt;", decode = TRUE, ...)
       

## S4 method for signature 'sequencerules'
labels(object, setSep = ",", seqStart = "&lt;", seqEnd = "&gt;", 
       ruleSep = " =&gt; ", decode = TRUE, ...)

## S4 method for signature 'sequences'
itemLabels(object, itemsets = FALSE, ...)

## S4 method for signature 'sequences, character':
itemLabels(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inspect-methods_+3A_x">x</code>, <code id="inspect-methods_+3A_object">object</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_setsep">setSep</code></td>
<td>
<p>a string value specifying the itemset (element) separator.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_seqstart">seqStart</code></td>
<td>
<p>a string value specifying the left sequence delimiter.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_seqend">seqEnd</code></td>
<td>
<p>a string value specifying the right sequence delimiter.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_rulesep">ruleSep</code></td>
<td>
<p>a string value specifying the separator of the left-hand
(antecedent) and the right-hand side (consequent) sequence.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_timestart">timeStart</code></td>
<td>
<p>a string value specifying the left event time delimiter.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_timeend">timeEnd</code></td>
<td>
<p>a string value specifying the right event time delimiter.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_decode">decode</code></td>
<td>
<p>a logical value specifying if the item indexes should be
replaced by item labels.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_itemsets">itemsets</code></td>
<td>
<p>a logical value specifying the type of labels.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_...">...</code></td>
<td>
<p>arguments specifying the markup of itemsets:
<code>itemSep = ","</code>, <code>setStart = "{"</code>, or 
<code>setEnd = "\}"</code>.</p>
</td></tr>
<tr><td><code id="inspect-methods_+3A_value">value</code></td>
<td>
<p>a character vector of length the number of items of
<code>object</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For method <code>inspect</code> returns <code>x</code> invisibly.
</p>
<p>For method <code>labels</code> a character vector corresponding with
the <em>elements</em> of <code>x</code>.
</p>
<p>For method <code>itemLabels</code> a character vector corresponding
with the distinct items or itemsets of <code>object</code>.
</p>


<h3>Note</h3>

<p>For compatibility with package <span class="pkg">arules</span> the markup of itemsets
is not customizable in the inspect methods.
</p>
<p>For reasons of efficiency the reference set of distinct itemsets
may contain unreferenced <em>elements</em>, e.g. after subsetting.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class 
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
<code><a href="#topic+sequencerules-class">sequencerules</a></code>,
method
<code><a href="#topic+subset">subset</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(ruleInduction, package = "arulesSequences")

## stacked style
inspect(s2)
inspect(s2, setSep = "-&gt;", seqStart = "", seqEnd = "")

## economy style
labels(s2, setSep = "-&gt;", seqStart = "", seqEnd = "",
	   itemSep = " ", setStart = "", setEnd = "")

## rules
inspect(r2)

## alternate style
labels(r2, ruleSep = " + ")

## itemset labels
itemLabels(s2, itemsets = TRUE)
itemLabels(s2[reduce = TRUE], itemsets = TRUE)

## item labels
itemLabels(s2) &lt;- tolower(itemLabels(s2))
itemLabels(s2)

## timed
z &lt;- as(zaki, "timedsequences") 
labels(z)
inspect(z)
</code></pre>

<hr>
<h2 id='itemFrequency-methods'>Count Items or Itemsets</h2><span id='topic+itemFrequency'></span><span id='topic+itemFrequency+2Csequences-method'></span><span id='topic+itemTable+2Csequences-method'></span><span id='topic+itemTable'></span><span id='topic+nitems'></span><span id='topic+nitems+2Csequences-method'></span><span id='topic+dim'></span><span id='topic+dim+2Csequences-method'></span><span id='topic+dim+2Ctimedsequences-method'></span><span id='topic+length+2Csequences-method'></span><span id='topic+length+2Csequencerules-method'></span><span id='topic+length'></span>

<h3>Description</h3>

<p><code>itemFrequency</code> counts the number of distinct occurrences of items
or itemsets (elements) in a collection of sequences. That is, multiple
occurrences within a sequence are ignored.
</p>
<p><code>itemTable</code> cross-tabulates the counts an item or itemset
occurs in a sequence.
</p>
<p><code>nitems</code> computes the total number of distinct occurrences of items
or itemsets in a collection of sequences.
</p>
<p><code>dim</code> retrieves the dimensions of an object of class
<code><a href="#topic+sequences-class">sequences</a></code> or <code><a href="#topic+timedsequences-class">timedsequences</a></code>.
</p>
<p><code>length</code> retrieves the number of elements of a collection of
sequences or sequence rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
itemFrequency(x, itemsets = FALSE, type = c("absolute", "relative"))

## S4 method for signature 'sequences'
itemTable(x, itemsets = FALSE)

## S4 method for signature 'sequences'
nitems(x, itemsets = FALSE)

## S4 method for signature 'sequences'
dim(x)

## S4 method for signature 'timedsequences'
dim(x)

## S4 method for signature 'sequences'
length(x)

## S4 method for signature 'sequencerules'
length(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="itemFrequency-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="itemFrequency-methods_+3A_itemsets">itemsets</code></td>
<td>
<p>a logical value specifying the type of count.</p>
</td></tr>
<tr><td><code id="itemFrequency-methods_+3A_type">type</code></td>
<td>
<p>a string value specifying the scale of count.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>itemFrequency</code> returns a vector of counts corresponding with
the reference set of distinct items or itemsets.
</p>
<p>For <code>itemTable</code> returns a table with the rownames corresponding
with the reference set of distinct items or itemsets.
</p>
<p>For <code>nitems</code> a scalar value.
</p>
<p>For <code>dim</code> and class <code>sequences</code> a vector of length three
containing the number of sequences and the dimension of the reference
set of distinct itemsets. For class <code>timedsequences</code> the fourth
element contains the number of distinct event times.
</p>
<p>For <code>length</code> a scalar value.
</p>


<h3>Note</h3>

<p>For efficiency reasons, the reference set of distinct itemsets can
be larger than the set actually referenced by a collection of sequences.
Thus, the counts of some items or itemsets may be zero.
</p>
<p>Method <code>nitems</code> is provided for efficiency; method <code>dim</code> for
technical information.
</p>
<p>For analysis of a set of rules use the accessors <code><a href="#topic+lhs">lhs</a></code>
or <code><a href="#topic+rhs">rhs</a></code>, or coerce to sequences.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
method
<code><a href="#topic+size">size</a></code>,
<code><a href="#topic+subset">subset</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(cspade)

##
itemFrequency(s2)
itemFrequency(s2, itemsets = TRUE)

##
itemTable(s2)
itemTable(s2, itemsets = TRUE)

##
nitems(s2)
nitems(s2, itemsets = TRUE)

##
length(s2)
dim(s2)

##
z &lt;- as(zaki, "timedsequences")
dim(z)
</code></pre>

<hr>
<h2 id='match-methods'>Match Objects</h2><span id='topic+match'></span><span id='topic+match+2Csequences+2Csequences-method'></span><span id='topic++25in+25+2Csequences+2Csequences-method'></span><span id='topic+match+2Csequencerules+2Csequencerules-method'></span><span id='topic++25in+25+2Csequences+2Ccharacter-method'></span><span id='topic++25in+25'></span><span id='topic++25ain+25+2Csequences+2Ccharacter-method'></span><span id='topic++25ain+25'></span><span id='topic++25pin+25+2Csequences+2Ccharacter-method'></span><span id='topic++25pin+25'></span><span id='topic++25ein+25+2Csequences+2Ccharacter-method'></span><span id='topic++25ein+25'></span><span id='topic+duplicated+2Csequences-method'></span><span id='topic+duplicated+2Csequencerules-method'></span><span id='topic+duplicated'></span>

<h3>Description</h3>

<p><code>match</code> finds the positions of first matches of a collection of
sequences or sequence rules in an object of the same class. 
</p>
<p><code>%in%</code> indicates matches of the left in the right operand.
If the right operand is a vector of item labels indicates if a
sequence contains any of the items given.
</p>
<p><code>%ain%</code> indicates if a sequence contains all the items given as
the right operand. 
</p>
<p><code>%pin%</code> indicates if a sequence contains any item matching
the regular expression given as the right operand.
</p>
<p><code>%ein%</code> indicates if a sequence contains any itemset 
containing all the items given as the right operand.
</p>
<p><code>duplicated</code> indicates duplicate occurrences of sequences
or sequence rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences,sequences'
match(x, table, nomatch = NA_integer_, incomparables = NULL)

## S4 method for signature 'sequencerules,sequencerules'
match(x, table, nomatch = NA_integer_, incomparables = NULL)

## S4 methods for signature 'sequences, character':
x %in%  table
x %ain% table
x %pin% table
x %ein% table

## S4 method for signature 'sequences'
duplicated(x, incomparables = FALSE)

## S4 method for signature 'sequencerules'
duplicated(x, incomparables = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="match-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="match-methods_+3A_table">table</code></td>
<td>
<p>an object (of the same class as <code>x</code>).</p>
</td></tr>
<tr><td><code id="match-methods_+3A_nomatch">nomatch</code></td>
<td>
<p>the value to be returned in the case of no match. </p>
</td></tr>
<tr><td><code id="match-methods_+3A_incomparables">incomparables</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>match</code> returns an integer vector of the same length as 
<code>x</code> containing the position in <code>table</code> of the first match,
or if there is no match the value of <code>nomatch</code>.
</p>
<p>For <code>%in%</code>, <code>%ain%</code>, and <code>%pin%</code> returns a 
logical vector indicating for each <em>element</em> of <code>x</code> if
a match was found in the right operand.
</p>
<p>For <code>duplicated</code> a logical vector corresponding with the
<em>elements</em> of <code>x</code>.
</p>


<h3>Note</h3>

<p>For practical reasons, the item labels given in the right operand
must match the item labels associated with <code>x</code> exactly.
</p>
<p>Currently, an operator for matching against the labels of a set of
sequences is not provided. For example, it could be defined as
</p>
<p><code>"%lin%" &lt;- function(l, r) match(r, labels(l)) &gt; 0</code>
</p>
<p>with the caveat of being too general.
</p>
<p>FIXME currently matching of timed sequences does not take event
times into consideration.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class 
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+sequencerules-class">sequencerules</a></code>,
method
<code><a href="#topic+labels">labels</a></code>,
<code><a href="#topic+itemLabels">itemLabels</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(cspade)

## match
labels(s1[match(s2, s1)])
labels(s1[s1 %in% s2])	    # the same

## match items
labels(s2[s2 %in%  c("B", "F")])
labels(s2[s2 %ain% c("B", "F")])
labels(s2[s2 %pin% "F"])

## match itemsets
labels(s1[s1 %ein% c("F","B")])
</code></pre>

<hr>
<h2 id='read_baskets'>Read Transaction Data</h2><span id='topic+read_baskets'></span>

<h3>Description</h3>

<p>Read transaction data in basket format (with additional temporal
or other information) and create an object of class 
<code><a href="arules.html#topic+transactions-class">transactions</a></code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_baskets(con, sep = "[ \t]+", info = NULL, iteminfo = NULL,
             encoding = "unknown")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_baskets_+3A_con">con</code></td>
<td>
<p>an object of class <code>connection</code> or file name.</p>
</td></tr>
<tr><td><code id="read_baskets_+3A_sep">sep</code></td>
<td>
<p>a regular expression specifying how fields are separated
in the data file.</p>
</td></tr>
<tr><td><code id="read_baskets_+3A_info">info</code></td>
<td>
<p>a character vector specifying the header for columns with
additional transaction information.</p>
</td></tr>
<tr><td><code id="read_baskets_+3A_iteminfo">iteminfo</code></td>
<td>
<p>a data frame specifying (additional) item information.</p>
</td></tr> 
<tr><td><code id="read_baskets_+3A_encoding">encoding</code></td>
<td>
<p>a character string indicating the encoding which is passed
to <code>readlines</code> (see <code><a href="base.html#topic+Encoding">Encoding</a></code>)</p>
</td></tr></table>
<p>.
</p>


<h3>Details</h3>

<p>Each line of text represents a transaction where items are
separated by a pattern matching the regular expression specified
by <code>sep</code>.
</p>
<p>Columns with additional information such as customer or time (event)
identifiers are required to come before any item identifiers and to 
be separated by <code>sep</code>, and must be specified by <code>info</code>. 
</p>
<p>Sequential data are identified by the presence of the column identifiers
&quot;sequenceID&quot; (sequence or customer identifier) and &quot;eventID&quot;
(time or event identifier) of <em>transactionInfo</em>.
</p>
<p>The row names of <code>iteminfo</code> must match the item identifiers
present in the data. However, <code>iteminfo</code> need not contain a
labels column.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="arules.html#topic+transactions-class">transactions</a></code>.
</p>


<h3>Note</h3>

<p>The item labels are sorted in the order they appear first in the
data.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
<code><a href="arules.html#topic+transactions-class">transactions</a></code>,
function
<code><a href="#topic+cspade">cspade</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## read example data
x &lt;- read_baskets(con  = system.file("misc", "zaki.txt", package = 
                                     "arulesSequences"),
		  info = c("sequenceID","eventID","SIZE"))
as(x, "data.frame")

## Not run: 
## calendar dates
transactionInfo(x)$Date &lt;-
    as.Date(transactionInfo(x)$eventID, origin = "2015-04-01")
transactionInfo(x)
all.equal(transactionInfo(x)$eventID,
          as.integer(transactionInfo(x)$Date - as.Date("2015-04-01")))

## End(Not run)
</code></pre>

<hr>
<h2 id='ruleInduction-methods'>Induce Sequence Rules</h2><span id='topic+ruleInduction'></span><span id='topic+ruleInduction+2Csequences-method'></span>

<h3>Description</h3>

<p>Induce a set of strong sequence rules from a set of frequent 
sequences, i.e. which (1) satisfy the minimum confidence threshold
and (2) which contain the last element of the generating sequence as
the right-hand side (consequent) sequence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
ruleInduction(x, transactions, confidence = 0.8, control = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ruleInduction-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="ruleInduction-methods_+3A_transactions">transactions</code></td>
<td>
<p>an optional object of class
<code><a href="arules.html#topic+transactions-class">transactions</a></code> with
temporal information.</p>
</td></tr>
<tr><td><code id="ruleInduction-methods_+3A_confidence">confidence</code></td>
<td>
<p>a numeric value specifying the minimum confidence
threshold.</p>
</td></tr>

<tr><td><code id="ruleInduction-methods_+3A_control">control</code></td>
<td>
<p>a named list with logical component <code>verbose</code>
specifying if progress and runtime information should be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>transactions</code> is not specified, the collection of sequences
supplied must be closed with respect to the rules to be induced. That
is, the left- and the right-hand side sequence of each candidate rule
must be contained in the collection of sequences. However, using timing
constraints in the mining step the set of frequent sequences may not be
closed under rule induction.
</p>
<p>Otherwise, <code>x</code> is completed (augmented) to be closed under rule
induction and the support is computed from <code>transactions</code>, using
method ptree. Note that, rules for added sequences, if any, are not
induced.
</p>


<h3>Value</h3>

<p>Returns an object of class <code><a href="#topic+sequencerules-class">sequencerules</a></code>.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class 
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+sequencerules-class">sequencerules</a></code>,
method
<code><a href="#topic+support">support</a></code>,
function 
<code><a href="#topic+cspade">cspade</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(cspade)

## mine rules
r2 &lt;- ruleInduction(s2, confidence = 0.5,
			control    = list(verbose = TRUE))
summary(r2)
as(r2, "data.frame")
</code></pre>

<hr>
<h2 id='sequencerules-class'>Class &quot;sequencerules&quot; &mdash; Collections of Sequential Rules</h2><span id='topic+sequencerules-class'></span><span id='topic+coerce+2Csequencerules+2Clist-method'></span><span id='topic+coerce+2Csequencerules+2Cdata.frame-method'></span><span id='topic+coerce+2Csequencerules+2Csequences-method'></span><span id='topic+generatingItemsets'></span><span id='topic+coverage+2Csequencerules-method'></span><span id='topic+coverage+2Csequencerules+2CANY+2Cmissing-method'></span><span id='topic+is.redundant+2Csequencerules-method'></span><span id='topic+summary+2Csequencerules-method'></span><span id='topic+show+2Csequencerules-method'></span><span id='topic+show+2Csummary.sequencerules-method'></span><span id='topic+summary.sequencerules-class'></span><span id='topic+summary+2Csequencerules-method'></span>

<h3>Description</h3>

<p>Represents a collection of sequential rules and their associated quality
measure. That is, the elements in the consequent occur at a later
time than the elements of the antecedent.
</p>


<h3>Objects from the Class</h3>

<p>Typically objects are created by a sequence rule mining algorithm as the
result value, e.g. method <code><a href="#topic+ruleInduction">ruleInduction</a></code>.
</p>
<p>Objects can be created by calls of the form 
<code>new("sequencerules", ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>elements</code>:</dt><dd><p>an object of class
<code><a href="arules.html#topic+itemsets-class">itemsets</a></code>
containing a sparse representation of the unique elements of a 
sequence.</p>
</dd>
<dt><code>lhs</code>:</dt><dd><p>an object of class <code><a href="#topic+sgCMatrix-class">sgCMatrix</a></code>
containing a sparse representation of the left-hand sides of the
rules (antecedent sequences).</p>
</dd>
<dt><code>rhs</code>:</dt><dd><p>an object of class <code><a href="#topic+sgCMatrix-class">sgCMatrix</a></code>
containing a sparse representation of the right-hand sides of the
rules (consequent sequences).</p>
</dd>
<dt><code>ruleInfo</code>:</dt><dd><p>a data.frame which may contain additional
information on a sequence rule.</p>
</dd>
<dt><code>quality</code>:</dt><dd><p>a data.frame containing the quality measures
of a sequence rule.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="arules.html#topic+associations-class">associations</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "sequencerules", to = "list")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "sequencerules", to = "data.frame")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "sequencerules", to = "sequences")</code>;
coerce a collection of sequence rules to a collection of sequences
by appending to each left-hand (antecedent) sequence its right-hand
(consequent) sequence.</p>
</dd>
<dt><code>c</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>coverage</code></dt><dd><p><code>signature(x = "sequencerules")</code>;
returns the support values of the left-hand side (antecedent)
sequences.</p>
</dd>
<dt><code>duplicated</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>labels</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>ruleInfo</code></dt><dd><p><code>signature(object = "sequencerules")</code></p>
</dd>
<dt><code>ruleInfo&lt;-</code></dt><dd><p><code>signature(object = "sequencerules")</code></p>
</dd>
<dt><code>inspect</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>is.redundant</code></dt><dd><p><code>signature(x = "sequencerules")</code>;
returns a logical vector indicating if a rule has a proper subset
in <code>x</code> which has the same right-hand side and the same
or a higher confidence.</p>
</dd>
<dt><code>labels</code></dt><dd><p><code>signature(object = "sequencerules")</code></p>
</dd>
<dt><code>length</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>lhs</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>match</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>rhs</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "sequencerules")</code></p>
</dd>
<dt><code>size</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>subset</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "sequencerules")</code></p>
</dd>
<dt><code>unique</code></dt><dd><p><code>signature(x = "sequencerules")</code></p>
</dd>
</dl>



<h3>Note</h3>

<p>Some of the methods for sequences are not implemented as objects of
this class can be coerced to sequences.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sgCMatrix-class">sgCMatrix</a></code>,
<code><a href="arules.html#topic+itemsets-class">itemsets</a></code>,
<code><a href="arules.html#topic+associations-class">associations</a></code>,
<code><a href="#topic+sequences-class">sequences</a></code>,
method
<code><a href="#topic+ruleInduction">ruleInduction</a></code>,
<code>is.redundant</code>,
function
<code><a href="#topic+cspade">cspade</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(ruleInduction, package = "arulesSequences")
cbind(as(r2, "data.frame"), 
      coverage = coverage(r2))

## coerce to sequences
as(as(r2, "sequences"), "data.frame")

## find redundant rules
is.redundant(r2, measure = "lift")
</code></pre>

<hr>
<h2 id='sequences-class'>Class &quot;sequences&quot; &mdash; Collections of Sequences</h2><span id='topic+sequences-class'></span><span id='topic+coerce+2Csequences+2Clist-method'></span><span id='topic+coerce+2Csequences+2Cdata.frame-method'></span><span id='topic+coerce+2Clist+2Csequences-method'></span><span id='topic+is.closed+2Csequences-method'></span><span id='topic+is.maximal+2Csequences-method'></span><span id='topic+itemsets'></span><span id='topic+itemsets+2Csequences-method'></span><span id='topic+LIST+2Csequences-method'></span><span id='topic+show+2Csequences-method'></span><span id='topic+show+2Csummary.sequences-method'></span><span id='topic+summary.sequences-class'></span><span id='topic+summary+2Csequences-method'></span>

<h3>Description</h3>

<p>Represents a collection of sequences and the associated quality measures.
</p>


<h3>Objects from the Class</h3>

<p>Most frequently, objects are created by a sequence mining algorithm
such as cSPADE as the return value.
</p>
<p>Objects can also be created by calls of the form 
<code>new("sequences", ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>elements</code>:</dt><dd><p>an object of class
<code><a href="arules.html#topic+itemsets-class">itemsets</a></code>
containing a sparse representation of the unique elements of a 
sequence.</p>
</dd>
<dt><code>data</code>:</dt><dd><p>an object of class <code><a href="#topic+sgCMatrix-class">sgCMatrix</a></code>
containing a sparse representation of ordered <em>lists</em> 
(collections of) indexes into the unique elements.</p>
</dd>
<dt><code>sequenceInfo</code>:</dt><dd><p>a data frame which may contain additional
information on a sequence.</p>
</dd>
<dt><code>quality</code>:</dt><dd><p>a data.frame containing the quality measures
of a sequence.</p>
</dd>
<dt><code>tidLists</code>:</dt><dd><p>an object of class <code>tidLists</code>
mapping supporting sequences, or <code>NULL</code>.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="arules.html#topic+associations-class">associations</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "sequences", to = "list")</code></p>
</dd>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "sequences", to = "data.frame")</code></p>
</dd>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "list", to = "sequences")</code></p>
</dd>
<dt><code>%in%</code></dt><dd><p><code>signature(x = "sequences", table = "character")</code></p>
</dd>
<dt><code>%ain%</code></dt><dd><p><code>signature(x = "sequences", table = "character")</code></p>
</dd>
<dt><code>%pin%</code></dt><dd><p><code>signature(x = "sequences", table = "character")</code></p>
</dd>
<dt><code>%ein%</code></dt><dd><p><code>signature(x = "sequences", table = "character")</code></p>
</dd>
<dt><code>c</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>dim</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>duplicated</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>labels</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>length</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>LIST</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>match</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>nitems</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>sequenceInfo</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>sequenceInfo&lt;-</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>inspect</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>is.closed</code></dt><dd><p><code>signature(x = "sequences")</code>;
returns a logical vector indicating if a sequence has
no proper superset in <code>x</code> which has the same support.</p>
</dd>
<dt><code>is.maximal</code></dt><dd><p><code>signature(x = "sequences")</code>;
returns a logical vector indicating if a sequence is not a
subsequence of any other sequence in <code>x</code>.</p>
</dd>
<dt><code>is.subset</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>is.superset</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>itemFrequency</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>itemInfo</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>itemInfo&lt;-</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>itemLabels</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>itemLabels&lt;-</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>itemTable</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>itemsets</code></dt><dd><p><code>signature(x = "sequences")</code>;
returns the reference set of distinct
<code><a href="arules.html#topic+itemsets-class">itemsets</a> (elements)</code>.</p>
</dd>
<dt><code>ruleInduction</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>size</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>subset</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "sequences")</code></p>
</dd>
<dt><code>support</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
<dt><code>unique</code></dt><dd><p><code>signature(x = "sequences")</code></p>
</dd>
</dl>



<h3>Note</h3>

<p>Coercion from an object of class
<code><a href="arules.html#topic+transactions-class">transactions</a></code> with
temporal information to an object of class <code><a href="#topic+sequences-class">sequences</a></code>
is not provided as this information would be lost. Use class
<code><a href="#topic+timedsequences-class">timedsequences</a></code> instead.
</p>
<p>Currently, a general method for concatenation of sequences similar
to <code>cbind</code>, is not provided.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sgCMatrix-class">sgCMatrix</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
<code><a href="arules.html#topic+itemsets-class">itemsets</a></code>,
<code><a href="arules.html#topic+associations-class">associations</a></code>,
method 
<code><a href="#topic+ruleInduction">ruleInduction</a></code>,
FIXME, 
function 
<code><a href="#topic+cspade">cspade</a></code>,
data
<code><a href="#topic+zaki">zaki</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## 3 example sequences
x &lt;- list("01" = list(c("A","B"), "C"), 
          "02" = list("C"), 
	  "03" = list("B", "B"))

## coerce
s &lt;- as(x, "sequences")
as(s, "data.frame")

## get reference set
as(itemsets(s), "data.frame")
</code></pre>

<hr>
<h2 id='sgCMatrix-class'>Class &quot;sgCMatrix&quot; &ndash; Sparse Ordered Lists of Symbols</h2><span id='topic+sgCMatrix-class'></span><span id='topic+coerce+2CsgCMatrix+2Clist-method'></span><span id='topic+coerce+2Clist+2CsgCMatrix-method'></span><span id='topic+coerce+2CngCMatrix+2CsgCMatrix-method'></span><span id='topic++5B+2CsgCMatrix+2CANY+2CANY+2CANY-method'></span><span id='topic+dim+2CsgCMatrix-method'></span><span id='topic+dimnames+2CsgCMatrix-method'></span><span id='topic+dimnames+3C-+2CsgCMatrix+2CANY-method'></span><span id='topic+show+2CsgCMatrix-method'></span>

<h3>Description</h3>

<p>Sparse pseudo matrices in column-compressed form for storing ordered
<em>lists</em> of symbols.
</p>


<h3>Objects from the Class</h3>

<p>Most frequently, an object is created upon creation of an object of
class <code><a href="#topic+sequences-class">sequences</a></code> or<br />
<code><a href="#topic+sequencerules-class">sequencerules</a></code>.
</p>
<p>Objects can also be created by calls of the form 
<code>new("sgCMatrix", ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>p</code>:</dt><dd><p>an integer vector of length the number of columns
in the matrix plus one. These are <em>zero-based pointers</em> into
<code>i</code>, i.e. to the first element of a list. However, note that
the last element contains the number of elements of <code>i</code>.</p>
</dd>
<dt><code>i</code>:</dt><dd><p>an integer vector of length the number of non-zero
elements in the matrix. These are <em>zero-based</em> symbol
indexes, i.e. pointers into the row names if such exist.</p>
</dd>
<dt><code>Dim</code>:</dt><dd><p>an integer vector representing the number of symbols
and the number of lists.</p>
</dd>
<dt><code>Dimnames</code>:</dt><dd><p>a list with components for symbol and
<em>list</em> labels.</p>
</dd>
<dt><code>factors</code>:</dt><dd><p>unused, for compatibility with package
<span class="pkg">Matrix</span> only.</p>
</dd> 
</dl>



<h3>Methods</h3>


<dl>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "sgCMatrix", to = "list")</code></p>
</dd>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "list", to = "sgCMatrix")</code></p>
</dd>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "ngCMatrix", to = "sgCMatrix")</code></p>
</dd>
<dt><code>dim</code></dt><dd><p><code>signature(x = "sgCMatrix")</code></p>
</dd>
<dt><code>dimnames</code></dt><dd><p><code>signature(x = "sgCMatrix")</code></p>
</dd>
<dt><code>dimnames&lt;-</code></dt><dd><p><code>signature(x = "sgCMatrix", value = "ANY")</code></p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(x = "sgCMatrix")</code></p>
</dd>
</dl>



<h3>Note</h3>

<p>The number of rows can be larger than the number of symbols actually
occurring. Thus <code>i</code> need not be recoded upon subsetting or two
collections of lists with the same index base can be easily combined
(column or <em>row</em>-wise).
</p>
<p>Many of the <em>methods</em> of this class implemented in C are
currently not interfaced as R methods.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
<code><a href="#topic+sequencerules-class">sequencerules</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## 3 example sequences
x &lt;- list("01" = list(c("A","B"), "C"), 
          "02" = list("C"), 
	  "03" = list("B", "B"))

## uses paste
s &lt;- as(x, "sgCMatrix")
s

##
dim(s)
dimnames(s)
</code></pre>

<hr>
<h2 id='similarity-methods'>Compute Similarities</h2><span id='topic+similarity'></span><span id='topic+similarity+2Csequences-method'></span><span id='topic+is.subset'></span><span id='topic+is.subset+2Csequences-method'></span><span id='topic+is.superset'></span><span id='topic+is.superset+2Csequences-method'></span><span id='topic+coerce+2CdsCMatrix+2Cdist-method'></span>

<h3>Description</h3>

<p>Provides the generic function <code>similarity</code> and the S4 method
to compute similarities among a collection of sequences.
</p>
<p><code>is.subset, is.superset</code> find subsequence or supersequence
relationships among a collection of sequences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>similarity(x, y = NULL, ...)

## S4 method for signature 'sequences'
similarity(x, y = NULL,
           method = c("jaccard", "dice", "cosine", "subset"),
	   strict = FALSE)

## S4 method for signature 'sequences'
is.subset(x, y = NULL, proper = FALSE)
## S4 method for signature 'sequences'
is.superset(x, y = NULL, proper = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="similarity-methods_+3A_x">x</code>, <code id="similarity-methods_+3A_y">y</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="similarity-methods_+3A_...">...</code></td>
<td>
<p>further (unused) arguments.</p>
</td></tr>
<tr><td><code id="similarity-methods_+3A_method">method</code></td>
<td>
<p>a string specifying the similarity measure to use (see
details).</p>
</td></tr>
<tr><td><code id="similarity-methods_+3A_strict">strict</code></td>
<td>
<p>a logical value specifying if strict itemset matching
should be used.</p>
</td></tr>
<tr><td><code id="similarity-methods_+3A_proper">proper</code></td>
<td>
<p>a logical value specifying if only strict relationships
(omitting equality) should be indicated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Let the number of <em>common</em> elements of two sequences refer to
those that occur in a longest common subsequence. The following
similarity measures are implemented:
</p>

<dl>
<dt><code>jaccard</code>:</dt><dd><p>The number of common elements divided by the
total number of elements (the sum of the lengths of the sequences
minus the length of the longest common subsequence).</p>
</dd>
<dt><code>dice</code>:</dt><dd><p>Uses two times the number of common elements.</p>
</dd>
<dt><code>cosine</code>:</dt><dd><p>Uses the square root of the product of the
sequence lengths for the denominator.</p>
</dd> 
<dt><code>subset</code>:</dt><dd><p>Zero if the first sequence is not a subsequence
of the second. Otherwise the number of common elements divided by
the number of elements in the first sequence.</p>
</dd>
</dl>

<p>If <code>strict = TRUE</code> the elements (itemsets) of the sequences must
be equal to be matched. Otherwise matches are quantified by the
similarity of the itemsets (as specified by <code>method</code>) thresholded
at 0.5, and the common sequence by the sum of the similarities.
</p>


<h3>Value</h3>

<p>For <code>similarity</code>, returns an object of class 
<code><a href="Matrix.html#topic+dsCMatrix-class">dsCMatrix</a></code> if the result
is symmetric (or <code>method = "subset"</code>) and and object of
class <code><a href="Matrix.html#topic+dgCMatrix-class">dgCMatrix</a></code> otherwise.
</p>
<p>For <code>is.subset, is.superset</code> returns an object of class
<code><a href="Matrix.html#topic+lgCMatrix-class">lgCMatrix</a></code>. 
</p>


<h3>Note</h3>

<p>Computation of the longest common subsequence of two sequences of
length <code>n, m</code> takes <code>O(n*m)</code> time.
</p>
<p>The supported set of operations for the above matrix classes depends
on package <span class="pkg">Matrix</span>. In case of problems, expand to full storage
representation using <code>as(x, "matrix")</code> or <code>as.matrix(x)</code>.
</p>
<p>For efficiency use <code>as(x, "dist")</code> to convert a symmetric
result matrix for clustering.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
method
<code><a href="arules.html#topic+dissimilarity">dissimilarity</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## use example data
data(zaki)
z &lt;- as(zaki, "timedsequences")
similarity(z)

# require equality
similarity(z, strict = TRUE)

## emphasize common
similarity(z, method = "dice")

## 
is.subset(z)
is.subset(z, proper = TRUE)
</code></pre>

<hr>
<h2 id='size-methods'>Compute the Size of Sequences</h2><span id='topic+size'></span><span id='topic+size+2Csequences-method'></span><span id='topic+ritems'></span><span id='topic+ritems+2Csequences-method'></span>

<h3>Description</h3>

<p><code>size</code> computes the size of a sequence. This can be either the number
of (distinct) itemsets (elements) or items occurring in a sequence.
</p>
<p><code>ritems</code> compute the minimum (maximum) number an item or itemset
(element) is repeatedly occurring in a sequence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
size(x, type = c("size", "itemsets", "length", "items"))

## S4 method for signature 'sequences'
ritems(x, type = c("min", "max"), itemsets = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="size-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="size-methods_+3A_type">type</code>, <code id="size-methods_+3A_itemsets">itemsets</code></td>
<td>
<p>as string (logical) value specifying the type of
count to be computed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of counts corresponding with the <em>elements</em>
of object <code>x</code>.
</p>


<h3>Note</h3>

<p>The total number of items occurring in a sequence is often referred
to as the <em>length</em> of the sequence. Similarly, we refer to the
total number of itemsets as the <code>size</code> of the sequence. Note
that we follow this terminology in the summary methods. 
</p>
<p>For use with a collection of rules use the accessors <code><a href="#topic+lhs">lhs</a></code>
or <code><a href="#topic+rhs">rhs</a></code>, or coerce to sequences.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(cspade)

## default size
size(s2)
size(s2, "itemsets")
size(s2, "length")
size(s2, "items")

## crosstab
table(length = size(s1, "length"),
      items  = size(s1, "items"))

## repetitions
ritems(s1)
ritems(s1, "max")
ritems(s1, "max", TRUE)
</code></pre>

<hr>
<h2 id='SPcontrol-class'>Class &quot;SPcontrol&quot; &mdash; cSPADE Control Parameters</h2><span id='topic+SPcontrol-class'></span><span id='topic+coerce+2CNULL+2CSPcontrol-method'></span><span id='topic+coerce+2Clist+2CSPcontrol-method'></span><span id='topic+coerce+2CSPcontrol+2Ccharacter-method'></span><span id='topic+coerce+2CSPcontrol+2Cdata.frame-method'></span><span id='topic+coerce+2CSPcontrol+2Clist-method'></span><span id='topic+coerce+2CSPcontrol+2Cvector-method'></span><span id='topic+format+2CSPcontrol-method'></span><span id='topic+initialize+2CSPcontrol-method'></span><span id='topic+show+2CSPcontrol-method'></span>

<h3>Description</h3>

<p>Provides control parameters for the cSPADE algorithm for mining 
frequent sequences.
</p>


<h3>Objects from the Class</h3>

<p>A suitable default parameter object will be automatically created
by a call to <code><a href="#topic+cspade">cspade</a></code>. However, the values can be replaced
by specifying a named list with the names (partially) matching the
slot names of the <code><a href="#topic+SPparameter-class">SPparameter</a></code> class.
</p>
<p>Objects can be created by calls of the form 
<code>new("SPcontrol", ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>memsize</code>:</dt><dd><p>an integer value specifying the maximum amount
of memory to use (default none [32 MB], range &gt;= 16).</p>
</dd>
<dt><code>numpart</code>:</dt><dd><p>an integer value specifying the number of
database partitions to use (default auto, range &gt;= 1).</p>
</dd>
<dt><code>timeout</code>:</dt><dd><p>an integer value specifying the maximum runtime
in seconds (default none, range &gt;= 1).</p>
</dd>
<dt><code>bfstype</code>:</dt><dd><p>a logical value specifying if a breadth-first
type of search should be performed (default <code>FALSE</code> [DFS]).</p>
</dd>
<dt><code>verbose</code>:</dt><dd><p>a logical value specifying if progress and
runtime information should be displayed (default <code>FALSE</code>).</p>
</dd>
<dt><code>summary</code>:</dt><dd><p>a logical value specifying if summary 
information should be preserved (default <code>FALSE</code>).</p>
</dd>
<dt><code>tidLists</code>:</dt><dd><p>a logical value specifying if transaction
ID lists should be included in the result (default <code>FALSE</code>).</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "NULL", to = "SPcontrol")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "list", to = "SPcontrol")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPcontrol", to = "character")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPcontrol", to = "data.frame")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPcontrol", to = "list")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPcontrol", to = "vector")</code></p>
</dd>
<dt><code>format</code></dt><dd>
<p><code>signature(x = "SPcontrol")</code></p>
</dd>
</dl>



<h3>Note</h3>

<p>User-supplied values are silently coerced to the target class, e.g.
<code>integer</code>.
</p>
<p>Parameters with no (default) value are not supplied to the mining
algorithm, i.e., take the default values implemented there. A
default can be unset using <code>NULL</code>.
</p>
<p>The value of <code>memsize</code> implicitly determines the number of
database partitions used unless overridden by <code>numpart</code>.
Usually, the more partitions the less the runtime in the mining stage.
However, there may be a trade-off with preprocessing time.
</p>
<p>If <code>summary = TRUE</code> informational output from the system calls 
in the preprocessing and mining steps will be preserved in the file
<em>summary.out</em> in the current working directory.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class 
<code><a href="#topic+SPparameter-class">SPparameter</a></code>,
function
<code><a href="#topic+cspade">cspade</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## coerce from list 
p &lt;- as(list(verbose = TRUE), "SPcontrol")
p

## coerce to
as(p, "vector")
as(p, "data.frame")
</code></pre>

<hr>
<h2 id='SPparameter-class'>Class &quot;SPparameter&quot; &mdash; cSPADE Mining Parameters</h2><span id='topic+SPparameter-class'></span><span id='topic+coerce+2CNULL+2CSPparameter-method'></span><span id='topic+coerce+2Clist+2CSPparameter-method'></span><span id='topic+coerce+2CSPparameter+2Ccharacter-method'></span><span id='topic+coerce+2CSPparameter+2Cdata.frame-method'></span><span id='topic+coerce+2CSPparameter+2Clist-method'></span><span id='topic+coerce+2CSPparameter+2Cvector-method'></span><span id='topic+format+2CSPparameter-method'></span><span id='topic+initialize+2CSPparameter-method'></span><span id='topic+show+2CSPparameter-method'></span>

<h3>Description</h3>

<p>Provides the constraint parameters for the cSPADE algorithm for mining
frequent sequences.
</p>


<h3>Objects from the Class</h3>

<p>A suitable default parameter object will be automatically created
by a call to <code><a href="#topic+cspade">cspade</a></code>. However, the values can be replaced
by specifying a named list with the names (partially) matching the 
slot names of the <code><a href="#topic+SPparameter-class">SPparameter</a></code> class.
</p>
<p>Objects can be created by calls of the form 
<code>new("SPparameter", support, ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>support</code>:</dt><dd><p>a numeric value specifying the minimum support
of a sequence
(default 0.1, range [0,1]).</p>
</dd>
<dt><code>maxsize</code>:</dt><dd><p>an integer value specifying the maximum number
of items of an element of a sequence
(default 10, range &gt; 0).</p>
</dd>
<dt><code>maxlen</code>:</dt><dd><p>an integer value specifying the maximum number
of elements of a sequence (default 10, range &gt; 0).</p>
</dd>
<dt><code>mingap</code>:</dt><dd><p>an integer value specifying the minimum time 
difference between consecutive elements of a sequence
(default none, range &gt;= 1).</p>
</dd>
<dt><code>maxgap</code>:</dt><dd><p>an integer value specifying the maximum time
difference between consecutive elements of a sequence
(default none, range &gt;= 0).</p>
</dd>
<dt><code>maxwin</code>:</dt><dd><p>an integer value specifying the maximum time
difference between any two elements of a sequence
(default none, range &gt;= 0).</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "NULL", to = "SPparameter")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "list", to = "SPparameter")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPparameter", to = "character")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPparameter", to = "data.frame")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPparameter", to = "list")</code></p>
</dd>
<dt><code>coerce</code></dt><dd>
<p><code>signature(from = "SPparameter", to = "vector")</code></p>
</dd>
<dt><code>format</code></dt><dd>
<p><code>signature(x = "SPparameter")</code></p>
</dd>
</dl>



<h3>Note</h3>

 
<p>User-supplied values are silently coerced to the target class, e.g.
<code>integer</code>.
</p>
<p>Parameters with no (default) value are not supplied to the mining
algorithm, i.e., take the default values implemented there. A value
can be unset using <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+SPcontrol-class">SPcontrol</a></code>,
function
<code><a href="#topic+cspade">cspade</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## coerce from list 
p &lt;- as(list(maxsize = NULL, maxwin = 5), "SPparameter")
p

## coerce to
as(p, "vector")
as(p, "data.frame")
</code></pre>

<hr>
<h2 id='subset-methods'>Subset Objects</h2><span id='topic+subset'></span><span id='topic+subset+2Csequences-method'></span><span id='topic+subset+2Csequencerules-method'></span><span id='topic++5B+2Csequences-method'></span><span id='topic++5B+2Ctimedsequences-method'></span><span id='topic++5B+2Csequencerules-method'></span><span id='topic++5B+2Csequences+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+2Ctimedsequences+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+2Csequencerules+2CANY+2Cmissing+2CANY-method'></span><span id='topic+unique+2Csequences-method'></span><span id='topic+unique+2Csequencerules-method'></span><span id='topic+unique'></span><span id='topic+lhs+2Csequencerules-method'></span><span id='topic+lhs'></span><span id='topic+rhs+2Csequencerules-method'></span><span id='topic+rhs'></span>

<h3>Description</h3>

<p><code>subset</code> extracts a subset of a collection of sequences or sequence
rules which meet conditions specified with respect to their associated
(or derived) quality measures, additional information, or patterns of
items or itemsets.
</p>
<p><code>[</code> extracts subsets from a collection of (timed) sequences or
sequence rules.
</p>
<p><code>unique</code> extracts the unique set of sequences or sequence rules
from a collection of sequences or sequence rules.
</p>
<p><code>lhs, rhs</code> extract the left-hand (antecedent) or right-hand side
(consequent) sequences from a collection of sequence rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
subset(x, subset)

## S4 method for signature 'sequencerules'
subset(x, subset)


## S4 method for signature 'sequences'
x[i, j, ..., reduce = FALSE, drop = FALSE]

## S4 method for signature 'timedsequences'
x[i, j, k, ..., reduce = FALSE, drop = FALSE]

## S4 method for signature 'sequencerules'
x[i, j, ..., drop = FALSE]

## S4 method for signature 'sequences'
unique(x, incomparables = FALSE)

## S4 method for signature 'sequencerules'
unique(x, incomparables = FALSE)

## S4 method for signature 'sequencerules'
lhs(x)

## S4 method for signature 'sequencerules'
rhs(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="subset-methods_+3A_subset">subset</code></td>
<td>
<p>an expression specifying the conditions where the columns
in quality and info must be referenced by their names, and the object
itself as <code>x</code>.</p>
</td></tr>
<tr><td><code id="subset-methods_+3A_i">i</code></td>
<td>
<p>a vector specifying the subset of <em>elements</em> to be extracted.</p>
</td></tr>
<tr><td><code id="subset-methods_+3A_k">k</code></td>
<td>
<p>a vector specifying the subset of event times to be extracted.</p>
</td></tr>
<tr><td><code id="subset-methods_+3A_reduce">reduce</code></td>
<td>
<p>a logical value specifying if the reference set of
distinct itemsets should be reduced if possible.</p>
</td></tr>
<tr><td><code id="subset-methods_+3A_j">j</code>, <code id="subset-methods_+3A_...">...</code>, <code id="subset-methods_+3A_drop">drop</code></td>
<td>
<p>unused arguments (for compatibility with package
<span class="pkg">Matrix</span> only).</p>
</td></tr>
<tr><td><code id="subset-methods_+3A_incomparables">incomparables</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>subset</code>, <code>[</code>, and <code>unique</code> returns an object of the
same class as <code>x</code>.
</p>
<p>For <code>lhs</code> and <code>rhs</code> returns an object of class
<code><a href="#topic+sequences-class">sequences</a></code>. 
</p>


<h3>Note</h3>

<p>In package <span class="pkg">arules</span>, somewhat confusingly, the object itself has
to be referenced as <code>items</code>. We do not provide this, as well as
any of the references <code>items</code>, <code>lhs</code>, or <code>rhs</code>.
</p>
<p>After extraction the reference set of distinct itemsets may be larger
than the set actually referred to unless reduction to this set is 
explicitly requested. However, this may increase memory consumption.
</p>
<p>Event time indexes of mode character are matched against the time
labels. Any duplicate indexes are ignored and their order does not
matter, i.e. reordering of a sequence is not possible.
</p>
<p>The accessors <code>lhs</code> and <code>rhs</code> impute the support of
a sequence from the support and confidence of a rule. This may
lead to numerically inaccuracies over back-to-back derivations.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
<code><a href="#topic+sequencerules-class">sequencerules</a></code>,
method
<code><a href="#topic+lhs">lhs</a></code>,
<code><a href="#topic+rhs">rhs</a></code>,
<code><a href="#topic+match">match</a></code>,
<code><a href="#topic+nitems">nitems</a></code>,
<code><a href="#topic+c">c</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(ruleInduction, package = "arulesSequences")

## matching a pattern
as(subset(s2, size(x) &gt; 1), "data.frame")
as(subset(s2, x %ain% c("B", "F")), "data.frame")

## as well as a measure
as(subset(s2, x %ain% c("B", "F") &amp; support == 1), "data.frame")

## matching a pattern in the left-hand side
as(subset(r2, lhs(x) %ain% c("B", "F")), "data.frame")

## matching a derived measure
as(subset(r2, coverage(x) == 1), "data.frame")

## reduce
s &lt;- s2[11, reduce = TRUE]
itemLabels(s)
itemLabels(s2)

## drop initial events
z &lt;- as(zaki, "timedsequences")
summary(z[1,,-1])
</code></pre>

<hr>
<h2 id='support-methods'>Support Counting for Sequences</h2><span id='topic+support'></span><span id='topic+support+2Csequences-method'></span><span id='topic+supportingTransactions+2Csequences-method'></span>

<h3>Description</h3>

<p>Compute the relative or absolute support of an arbitrary collection
of sequences among a set of transactions with additional sequence and
temporal information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'sequences'
support(x, transactions, type= c("relative", "absolute"),
           control = NULL)

## S4 method for signature 'sequences'
supportingTransactions(x, transactions, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="support-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="support-methods_+3A_transactions">transactions</code></td>
<td>
<p>an object of class
<code><a href="arules.html#topic+transactions-class">transactions</a></code> or
<code><a href="#topic+sequences-class">sequences</a></code>.</p>
</td></tr>
<tr><td><code id="support-methods_+3A_type">type</code></td>
<td>
<p>a character value specifying the scale of support (relative
or absolute).</p>
</td></tr>

<tr><td><code id="support-methods_+3A_control">control</code></td>
<td>
<p>a named list with logical component <code>verbose</code>
specifying if progress and runtime information should be displayed
and list component <code>parameter</code> (see details).</p>
</td></tr>
<tr><td><code id="support-methods_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provides support counting using either method ptree (default), or
idlists (for details see the reference in <code><a href="#topic+cspade">cspade</a></code>) and
timing constraints.
</p>
<p><code>parameter</code> can be an object of class
<code><a href="#topic+SPparameter-class">SPparameter</a></code> or a named list with corresponding
components. Note that constraints which do not relate to the timing
information of <code>transactions</code> are ignored.
</p>
<p>If sequences are used for <code>transactions</code> missing event times
are replaced with the order indexes of events.
</p>
<p>The supporting sequences are all sequences (of transactions) of which
the sequence representing the association is a subset of.
</p>
<p>Note that <code>supportingTransactions</code> does not support timing
constraints.
</p>


<h3>Value</h3>

<p>For <code>support</code> a <code>numeric</code> vector the elements of which
correspond with the elements of <code>x</code>.
</p>
<p>For <code>supportingTransactions</code> an object of class
<code><a href="arules.html#topic+tidLists">tidLists</a></code> containing one sequence ID list per
association in <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class 
<code><a href="#topic+sequences-class">sequences</a></code>,
method 
<code><a href="#topic+ruleInduction">ruleInduction</a></code>,
function 
<code><a href="#topic+cspade">cspade</a></code>,
<code><a href="#topic+read_baskets">read_baskets</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example(cspade)

## recompute support
s &lt;- support(s2, zaki, control = list(verbose = TRUE, 
                     parameter = list(maxwin = 5)))
data.frame(as(s2, "data.frame"), support = s)

## use default method
k &lt;- support(s2, zaki, control = list(verbose = TRUE))
table(size(s2), sign(k - s))

## the same
s &lt;- supportingTransactions(s2, zaki)
itemFrequency(s)
</code></pre>

<hr>
<h2 id='timedsequences-class'>Class &quot;timedsequences&quot; &mdash; Collections of Sequences with Timing Information</h2><span id='topic+timedsequences-class'></span><span id='topic+coerce+2Ctransactions+2Ctimedsequences-method'></span><span id='topic+coerce+2Ctimedsequences+2Ctransactions-method'></span><span id='topic+LIST+2Ctimedsequences-method'></span><span id='topic+show+2Ctimedsequences-method'></span><span id='topic+show+2Csummary.timedsequences-method'></span><span id='topic+summary.timedsequences-class'></span><span id='topic+summary+2Ctimedsequences-method'></span><span id='topic+timesets'></span><span id='topic+timesets+2Ctimedsequences-method'></span>

<h3>Description</h3>

<p>Represents a collection of (observed) sequences and the associated timing
information.
</p>


<h3>Objects from the Class</h3>

<p>Typically, objects are created by coercion from an object of class
<code><a href="arules.html#topic+transactions-class">transactions</a></code>.
</p>
<p>Objects can also be created by calls of the form
<code>new("timedsequences", ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>time</code>:</dt><dd><p>an object of class
<code><a href="Matrix.html#topic+ngCMatrix-class">ngCMatrix&quot;</a></code> containing a sparse
representation of the event times of the elements of the sequences.
note that the storage layout is the same as for slot <code>data</code>.</p>
</dd>
<dt><code>timeInfo</code>:</dt><dd><p>a data frame containing the set of time
identifiers (column <code>eventID</code>) and possibly distinct labels.</p>
</dd>
<dt><code>elements</code>:</dt><dd><p>inherited from class <code><a href="#topic+sequences-class">sequences</a></code>.</p>
</dd>
<dt><code>data</code>:</dt><dd><p>inherited from class <code><a href="#topic+sequences-class">sequences</a></code>.</p>
</dd>
<dt><code>sequenceInfo</code>:</dt><dd><p>inherited from class <code><a href="#topic+sequences-class">sequences</a></code>.</p>
</dd>
<dt><code>quality</code>:</dt><dd><p>inherited from class <code><a href="#topic+sequences-class">sequences</a></code>,
usually empty.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+sequences-class">sequences</a>"</code>, directly.
Class <code>"<a href="arules.html#topic+associations-class">associations</a>"</code>, by class
&quot;sequences&quot;, distance 2.
</p>


<h3>Methods</h3>


<dl>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "transactions", to = "timedsequences")</code></p>
</dd>
<dt><code>coerce</code></dt><dd><p><code>signature(from = "timedsequences", to = "transactions")</code></p>
</dd>
<dt><code>c</code></dt><dd><p><code>signature(x = "timedsequences")</code></p>
</dd>
<dt><code>dim</code></dt><dd><p><code>signature(x = "timedsequences")</code></p>
</dd>
<dt><code>labels</code></dt><dd><p><code>signature(object = "timedsequences")</code></p>
</dd>
<dt><code>LIST</code></dt><dd><p><code>signature(x = "timedsequences")</code></p>
</dd>
<dt><code>inspect</code></dt><dd><p><code>signature(x = "timedsequences")</code></p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "timedsequences")</code></p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "timedsequences")</code></p>
</dd>
<dt><code>timeFrequency</code></dt><dd><p><code>signature(x = "timedsequences")</code></p>
</dd>
<dt><code>timeInfo&lt;-</code></dt><dd><p><code>signature(object = "timedsequences")</code></p>
</dd>
<dt><code>timeInfo</code></dt><dd><p><code>signature(object = "timedsequences")</code></p>
</dd>
<dt><code>timesets</code></dt><dd><p><code>signature(object = "timedsequences")</code></p>
</dd>
<dt><code>times</code></dt><dd><p><code>signature(x = "timedsequences")</code></p>
</dd>
<dt><code>timesets</code></dt><dd><p><code>signature(x = "timedsequences")</code>;
returns a collection of sequences of event times as an object of
class <code><a href="arules.html#topic+itemMatrix-class">itemMatrix</a></code>.</p>
</dd>
<dt><code>timeTable</code></dt><dd><p><code>signature(x = "timedsequences")</code></p>
</dd>
</dl>



<h3>Note</h3>

<p>The temporal information is taken from components <code>sequenceID</code> 
and <code>eventID</code> of <em>transactionInfo</em>. It may be either
on an ordinal or metric scale. The former is always assumed if column
<code>eventID</code> is a factor.
</p>
<p>Note that a sequence must not contain two or more events with the
same <code>eventID</code>.
</p>
<p>Coercion from an object of class <code><a href="#topic+sequences-class">sequences</a></code> is
not provided as this class does not contain timing information.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="arules.html#topic+itemMatrix-class">itemMatrix</a></code>,
<code><a href="arules.html#topic+transactions-class">transactions</a></code>,
<code><a href="#topic+sequences-class">sequences</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## use example data
data(zaki)

## coerce
z &lt;- as(zaki, "timedsequences")
z

## get time sequences
summary(timesets(z))

## coerce back
as(z, "transactions")
</code></pre>

<hr>
<h2 id='timeFrequency-methods'>Count Event Times</h2><span id='topic+firstOrder'></span><span id='topic+firstOrder+2Ctimedsequences-method'></span><span id='topic+timeFrequency'></span><span id='topic+timeFrequency+2Ctimedsequences-method'></span><span id='topic+timeTable'></span><span id='topic+timeTable+2Ctimedsequences-method'></span>

<h3>Description</h3>

<p><code>timeFrequency</code> counts the number of occurrences of event times, of
the time gaps between the events of a sequence, the minimum or maximum
gap of a sequence, or the span of a sequence.
</p>
<p><code>timeTable</code> cross-tabulates the above statistics for items or
itemsets. For items the sequences are reduced to the events containing
the item.
</p>
<p><code>firstOrder</code> computes a first order model, i.e. a table of counts
of state changes among a collection of timed sequences, where the
elements or the times can be the states.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timedsequences'
timeFrequency(x, type = c("times", "gaps", "mingap", "maxgap",
                          "span"))

## S4 method for signature 'timedsequences'
timeTable(x, type = c("times","gaps", "mingap", "maxgap", "span"),
	  itemsets = FALSE)

## S4 method for signature 'timedsequences'
firstOrder(x, times = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="timeFrequency-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="timeFrequency-methods_+3A_type">type</code>, <code id="timeFrequency-methods_+3A_itemsets">itemsets</code>, <code id="timeFrequency-methods_+3A_times">times</code></td>
<td>
<p>a string (logical) value specifying the type
of count.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>timeFrequency</code> returns a vector of counts corresponding with
the set of distinct event times, the set of gaps or spans as indicated
by the names attribute.
</p>
<p>For <code>timeTable</code> returns a table of counts with the rownames
corresponding with the reference set of distinct items or itemsets.
</p>
<p>For <code>firstOrder</code> a matrix of counts corresponding with the set of
distinct itemsets or event times.
</p>


<h3>Note</h3>

<p>Undefined values are not included in the counts, e.g. the <code>mingap</code>
of a sequence with one element only. Thus, except for <code>times</code> and
<code>gaps</code> the counts (per item or itemset) always add up to less than
or equal the number of sequences, i.e. <code>length(x)</code>.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
method
<code><a href="#topic+size">size</a></code>,
<code><a href="#topic+times">times</a></code>,
<code><a href="#topic+itemFrequency">itemFrequency</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example("timedsequences-class")

## totals
timeFrequency(z)
timeFrequency(z, "gaps")
timeFrequency(z, "span")

## default items
timeTable(z)
timeTable(z, "gaps")
timeTable(z, "span")

## beware of large data sets
timeTable(z, itemsets = TRUE)


## first order models
firstOrder(z)
firstOrder(z, times = TRUE)
</code></pre>

<hr>
<h2 id='times-methods'>Compute Time Statistics of Sequences</h2><span id='topic+times'></span><span id='topic+times+2Ctimedsequences-method'></span>

<h3>Description</h3>

<p>Computes the gaps, the minimum or maximum gap, or the span of sequences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timedsequences'
times(x, type = c("times", "gaps", "mingap", "maxgap", "span"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="times-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="times-methods_+3A_type">type</code></td>
<td>
<p>a string value specifying the type of statistic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>type = "items"</code> returns a list of vectors of events times
corresponding with the elements of a sequence.
</p>
<p>If <code>type = "gaps"</code> returns a list of vectors of time differences
between consecutive elements of a sequence.
</p>
<p>Otherwise, a vector corresponding with the <em>elements</em> of <code>x</code>.
</p>


<h3>Note</h3>

<p>Gap statistics are not defined for sequences of size one, i.e. which
contain a single element. <code>NA</code> is used for undefined values.
</p>
<p>FIXME lists are silently reduced to vector if possible.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>See Also</h3>

<p>Class
<code><a href="#topic+sequences-class">sequences</a></code>,
<code><a href="#topic+timedsequences-class">timedsequences</a></code>,
method
<code><a href="#topic+size">size</a></code>,
<code><a href="#topic+itemFrequency">itemFrequency</a></code>,
<code><a href="#topic+timeFrequency">timeFrequency</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## continue example
example("timedsequences-class")

##
times(z)
times(z, "gaps")

## all defined
times(z, "span")

## crosstab
table(size = size(z), span = times(z, "span"))
</code></pre>

<hr>
<h2 id='zaki'>Zaki Data Set</h2><span id='topic+zaki'></span>

<h3>Description</h3>

<p>A small example database for sequence mining provided as an object
of class <code><a href="arules.html#topic+transactions-class">transactions</a></code> and
as a text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(zaki)</code></pre>


<h3>Details</h3>

<p>The data set contains the sequential database described in the
paper by M. J. Zaki for illustration of the concepts of sequence
mining. <code>sequenceID</code> and <code>eventID</code> denote the sequence
and event (time) identifiers of the transactions.
</p>


<h3>Source</h3>

<p>M. J. Zaki. (2001). SPADE: An Efficient Algorithm for Mining
Frequent Sequences. <em>Machine Learning Journal</em>, <b>42</b>,
31&ndash;60.
</p>


<h3>See Also</h3>

<p>Class
<code><a href="arules.html#topic+transactions-class">transactions</a></code>,
<code><a href="#topic+sequences-class">sequences</a></code>,
function  
<code><a href="#topic+cspade">cspade</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(zaki)
summary(zaki)
as(zaki, "data.frame")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

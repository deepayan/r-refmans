<!DOCTYPE html><html lang="en"><head><title>Help for package rpms</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rpms}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rpms-package'><p>Recursive Partitioning for Modeling Survey Data (rpms)</p></a></li>
<li><a href='#box_ind'><p>box_ind</p></a></li>
<li><a href='#boxes'><p>boxes</p></a></li>
<li><a href='#CE'><p>CE Consumer expenditure data 2015</p></a></li>
<li><a href='#end_nodes'><p>end_nodes</p></a></li>
<li><a href='#grow_rpms'><p>grow_rpms</p></a></li>
<li><a href='#in_node'><p>in_node</p></a></li>
<li><a href='#linearize'><p>linearize</p></a></li>
<li><a href='#node_plot'><p>node_plot</p></a></li>
<li><a href='#predict.rpms'><p>predict.rpms</p></a></li>
<li><a href='#predict.rpms_boost'><p>predict.rpms_boost</p></a></li>
<li><a href='#predict.rpms_forest'><p>predict.rpms_forest</p></a></li>
<li><a href='#predict.rpms_proj'><p>predict.rpms_proj</p></a></li>
<li><a href='#predict.rpms_zinf'><p>predict.rpms_zinf</p></a></li>
<li><a href='#print.rpms'><p>print.rpms</p></a></li>
<li><a href='#print.rpms_forest'><p>print.rpms_forest</p></a></li>
<li><a href='#print.rpms_zinf'><p>print.rpms_zinf</p></a></li>
<li><a href='#prune_rpms'><p>prune_rpms</p></a></li>
<li><a href='#qtree'><p>qtree</p></a></li>
<li><a href='#r2stat'><p>r2</p></a></li>
<li><a href='#rpms'><p>rpms</p></a></li>
<li><a href='#rpms_boost'><p>rpms_boost</p></a></li>
<li><a href='#rpms_forest'><p>rpms_forest</p></a></li>
<li><a href='#rpms_proj'><p>rpms_proj</p></a></li>
<li><a href='#rpms_zinf'><p>rpms_zinf</p></a></li>
<li><a href='#survLm'><p>survLm</p></a></li>
<li><a href='#survLm_model'><p>Fit a linear model using data collected from a complex sample</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Recursive Partitioning for Modeling Survey Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-06-16</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniell Toth &lt;danielltoth@yahoo.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to allow users to build and analyze design consistent 
    tree and random forest models using survey data from a complex sample 
    design.  The tree model algorithm can fit a linear model to survey data 
    in each node obtained by recursively partitioning the data.  The splitting 
    variables and selected splits are obtained using a randomized permutation 
    test procedure which adjusted for complex sample design features used to 
    obtain the data. Likewise the model fitting algorithm produces 
    design-consistent coefficients to any specified least squares linear model 
    between the dependent and independent variables used in the end nodes.
    The main functions return the resulting binary tree or random forest as 
    an object of "rpms" or "rpms_forest" type. The package also provides methods
    modeling a "boosted" tree or forest model and a tree model for zero-inflated
    data as well as a number of functions and methods available for use with 
    these object types.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.3), stats</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Suggests:</td>
<td>parallel</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniell Toth [aut, cre]</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-06-25 17:29:13 UTC; daniell</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-06-25 23:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rpms-package'>Recursive Partitioning for Modeling Survey Data (rpms)</h2><span id='topic+rpms-package'></span>

<h3>Description</h3>

<p>This package provides a function <code>rpms</code> to produce an <code>rpms</code> object 
and method functions that operate on them. 
The <code>rpms</code> object is a representation of a regression tree achieved
by recursively partitioning the dataset, fitting the specified linear model
on each node separately.
The recursive partitioning algorithm has an unbiased variable selection
and accounts for the sample design.
The algorithm accounts for one-stage of stratification and clustering as
well as unequal probability of selection.
There are also functions for producing random forest estimator 
(a list of <code>rpms</code> objects), a boosted regression tree and tree 
based zero-inflated model.
</p>

<hr>
<h2 id='box_ind'>box_ind</h2><span id='topic+box_ind'></span>

<h3>Description</h3>

<p>For each row of data, returns a vector indicators whether
observation is in that box or not
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_ind(x, newdata)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="box_ind_+3A_x">x</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="box_ind_+3A_newdata">newdata</code></td>
<td>
<p>dataframe containing the variables used for the recursive 
partitioning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix where each row is a vector of indicators whether
observation is in box or not.
</p>

<hr>
<h2 id='boxes'>boxes</h2><span id='topic+boxes'></span>

<h3>Description</h3>

<p>returns end boxes that partition the data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxes(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boxes_+3A_x">x</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame including end_node, sample size, splits, and values for each end node
</p>

<hr>
<h2 id='CE'>CE Consumer expenditure data 2015</h2><span id='topic+CE'></span>

<h3>Description</h3>

<p>A dataset containing consumer unit characteristics, assets and expenditure 
data from the Bureau of Labor Statistics' Consumer Expenditure Survey 
public use interview data file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CE
</code></pre>


<h3>Format</h3>

<p>A data frame with 68,415 observations on 47 variables:
</p>


<h3>Sample-design information</h3>


<dl>
<dt>NEWID</dt><dd><p>Consumer unit identifying variable, constructed using the first 
seven digits of NEWID BLS derived</p>
</dd>
<dt>PSU</dt><dd><p>Primary Sampling Unit code for the 21 biggest clusters</p>
</dd>
<dt>CID</dt><dd><p>Cluster Identifier for all clusters, (created using PSU, 
REGION, STATE, and POPSIZE) not part of CE data</p>
</dd>
<dt>QINTRVMO</dt><dd><p>Month for which data was collected</p>
</dd>          
<dt>FINLWT21</dt><dd><p>Final sample weight to make inference to total population</p>
</dd>
</dl>



<h3>Location of Consumer Unit</h3>


<dl>
<dt>STATE</dt><dd><p>State FIPS code</p>
</dd>
<dt>REGION</dt><dd><p>Region code: 1 Northeast; 2 Midwest; 3 South; 4 West</p>
</dd>
<dt>BLS_URBN</dt><dd><p>Urban = 1, Rural = 2</p>
</dd>
<dt>POPSIZE</dt><dd><p>Population size class of PSU: 1-biggest 5-smallest</p>
</dd>
</dl>



<h3>Housing and transportation</h3>


<dl>
<dt>CUTENURE</dt><dd><p>Housing tenure: 1 Owned with mortgage; 
2 Owned without mortgage
3 Owned mortgage not reported; 4 Rented; 
5 Occupied without payment of cash rent; 6 Student housing</p>
</dd>
<dt>ROOMSQ</dt><dd><p>Number of rooms, including finished living areas 
and excluding all baths</p>
</dd>
<dt>BATHRMQ</dt><dd><p>Number of bathrooms</p>
</dd>
<dt>BEDROOMQ</dt><dd><p>Number of bedrooms</p>
</dd>                    
<dt>VEHQ</dt><dd><p>Number of owned vehicles</p>
</dd>
<dt>VEHQL</dt><dd><p>Number of leased vehicles</p>
</dd>
</dl>



<h3>Family Information</h3>


<dl>
<dt>FAM_TYPE</dt><dd><p>CU code based on relationship of members to reference person  
(children incldue blood-related, step and adopted):
1 Married Couple only; 
2 Married Couple, children (oldest &lt; 6 years old);
3 Married Couple, children (oldest 6 to 17 years old);
4 Married Couple, children (oldest &gt; 17 years old);
5 All other Married Couple CUs
6 One parent (male), children (at least one child &lt; 18 years old);
7 One parent (female), children (at least one child &lt; 18 years old);
8 Single consumers; 9 Other CUs</p>
</dd>
<dt>FAM_SIZE</dt><dd><p>Number of members in CU</p>
</dd>
<dt>PERSLT18</dt><dd><p>Number of people &lt;18 yrs old</p>
</dd>
<dt>PERSOT64</dt><dd><p>Number of people &gt;64 yrs old</p>
</dd>
<dt>NO_EARNR</dt><dd><p>Number of earners</p>
</dd>
</dl>



<h3>Primary Earner Information</h3>


<dl>
<dt>AGE</dt><dd><p>Age of primary earner</p>
</dd>
<dt>EDUCA</dt><dd><p>Education level coded:
1 None; 2 1st-8th Grade; 3 some HS; 4 HS; 
5 Some college; 6 AA degree; 7 Bachelors degree; 
8 Advanced degree</p>
</dd>
<dt>SEX</dt><dd><p>Gender Code: F (Female); M (Male)</p>
</dd>
<dt>MARITAL</dt><dd><p>Marital Status Coded: 1 Married; 2 Widowed; 3 Divorced;
4 Separated; 5 Never Married</p>
</dd>
<dt>MEMBRACE</dt><dd><p>Race code: 1 White; 2 Black; 3 Native American; 4 Asian; 
5 Pacific Islander; 6 Multi-race</p>
</dd>
<dt>HORIGIN</dt><dd><p>Hispanic, Latino, or Spanish origin?  Y (Yes); N (No)</p>
</dd>
<dt>ARM_FORC</dt><dd><p>Member of armed forces?  Y (Yes);  N (No)</p>
</dd>
<dt>IN_COLL</dt><dd><p>Currently enrolled in college?  Full (full time); Part (part time); No</p>
</dd>
</dl>



<h3>Labor Status of Primary Earner</h3>


<dl>
<dt>EARNER</dt><dd><p>Earn income: Y (Yes); N (No)</p>
</dd>
<dt>EARNTYPE</dt><dd><p>1 Full time all year; 2 Part time all year; 
3 Full time part of the year; 2 Part time part of the year; </p>
</dd>  
<dt>OCCUCODE</dt><dd><p>The job in which the member received the most earnings during 
the past 12 months fits best in the following category:
01 Administrator, manager; 02 Teacher; 
03 Professional Administrative support, technical, sales;
04 Administrative support, including clerical;
05 Sales, retail; 06 Sales, business goods and services;
07 Technician; 08 Protective service;
09 Private household service; 10 Other service; 
11 Machine operator, assembler, inspector;
12 Transportation operator;
13 Handler, helper, laborer;
14 Mechanic, repairer, precision production;
15 Construction, mining; 16 Farming; 
17 Forestry, fishing, grounds-keeping;
18 Armed forces</p>
</dd> 
<dt>INCOMEY</dt><dd><p>Type of employment:
1 An employee of a PRIVATE company, business, or individual
2 A Federal government employee
3 A State government employee
4 A local government employee
5 Self-employed in OWN business, professional practice or farm
6 Working WITHOUT PAY in family business or farm</p>
</dd>
<dt>INCNONWK</dt><dd><p>Reason did not work during the past 12 months:
1 Retired; 2 Home maker; 3 School; 4 health;
5 Unable to find work; 6 Doing something else</p>
</dd>
</dl>



<h3>Income</h3>

                 
<dl>
<dt>FINCBTAX</dt><dd><p>Amount of CU income before taxes in past 12 months</p>
</dd>
<dt>SALARYX</dt><dd><p>Amount of wage or salary income received in past 12 months, 
before any deductions </p>
</dd> 
<dt>SOCRRX</dt><dd><p>Amount income received from Social Security and Railroad Retirement in past 12 months</p>
</dd>
</dl>



<h3>Assetts and Liabilities</h3>


<dl>
<dt>IRAX</dt><dd><p>Total value of all retirement accounts</p>
</dd>
<dt>LIQUIDX</dt><dd><p>Value of liquid assets</p>
</dd>
<dt>STOCKX</dt><dd><p>Total value of all directly-held stocks, bonds</p>
</dd>
<dt>STUDNTX</dt><dd><p>Amount owed on all student loans</p>
</dd>
</dl>



<h3>Expenditures</h3>

          
<dl>
<dt>TOTEXPCQ</dt><dd><p>Total expenditures for current quarter</p>
</dd>   
<dt>TOTXEST</dt><dd><p>Total taxes paid (estimated)</p>
</dd>
<dt>EHOUSNGC</dt><dd><p>Total expenditures for housing paid this quarter</p>
</dd>              
<dt>HEALTHCQ</dt><dd><p>Expenditures on health care quarter</p>
</dd>
<dt>FOODCQ</dt><dd><p>Expenditure on food this quarter</p>
</dd>
<dt>TOBACCCQ</dt><dd><p>Tobacco and smoking supplies this quarter</p>
</dd>
<dt>FOOTWRCQ</dt><dd><p>Expenditure on footware1 this quarter</p>
</dd>
</dl>
<p> end describe
</p>


<h3>Source</h3>

<p><a href="https://www.bls.gov/cex/pumd_data.htm">https://www.bls.gov/cex/pumd_data.htm</a>
</p>

<hr>
<h2 id='end_nodes'>end_nodes</h2><span id='topic+end_nodes'></span>

<h3>Description</h3>

<p>Either a vector of end-node labels for each opbservation in newdata or 
a vector of the endnodes in the tree model if newdata is not provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>end_nodes(object, newdata = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="end_nodes_+3A_object">object</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="end_nodes_+3A_newdata">newdata</code></td>
<td>
<p>data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of end_node labels
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
# model mean of retirement account value for households with reported 
# retirment account values &gt; 0 using a binary tree while accounting for 
# clusterd data and sample weights.

s1&lt;- which(CE$IRAX &gt; 0)
r1 &lt;-rpms(IRAX~EDUCA+AGE+BLS_URBN, data = CE[s1,],  weights=~FINLWT21, clusters=~CID) 
 
 end_nodes(r1)
}

</code></pre>

<hr>
<h2 id='grow_rpms'>grow_rpms</h2><span id='topic+grow_rpms'></span>

<h3>Description</h3>

<p>grow an rpms tree from a given node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grow_rpms(
  x,
  node,
  data,
  weights = ~1,
  strata = ~1,
  clusters = ~1,
  pval = NA,
  bin_size = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grow_rpms_+3A_x">x</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="grow_rpms_+3A_node">node</code></td>
<td>
<p>node from which to grow tree further</p>
</td></tr>
<tr><td><code id="grow_rpms_+3A_data">data</code></td>
<td>
<p>data.frame that includes variables used in rp_equ, e_equ, 
and design information</p>
</td></tr>
<tr><td><code id="grow_rpms_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="grow_rpms_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="grow_rpms_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
<tr><td><code id="grow_rpms_+3A_pval">pval</code></td>
<td>
<p>numeric p-value used to reject null hypothesis in permutation test</p>
</td></tr>
<tr><td><code id="grow_rpms_+3A_bin_size">bin_size</code></td>
<td>
<p>numeric minimum number of observations in each node</p>
</td></tr>
</table>


<h3>Value</h3>

<p>rpms tree expanded from node.
</p>

<hr>
<h2 id='in_node'>in_node</h2><span id='topic+in_node'></span>

<h3>Description</h3>

<p>Get index of elements in dataframe that are in the specified 
end-node of an <code>rpms</code> object.  A &quot;which&quot; function for end-nodes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>in_node(x, node, data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="in_node_+3A_x">x</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="in_node_+3A_node">node</code></td>
<td>
<p>integer label of the desired end-node.</p>
</td></tr>
<tr><td><code id="in_node_+3A_data">data</code></td>
<td>
<p>dataframe containing the variables used for the recursive 
partitioning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of indexes for observations in the end-node.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
# model mean of retirement account value for households with reported 
# retirment account values &gt; 0 using a binary tree while accounting for 
# clusterd data and sample weights.

s1&lt;- which(CE$IRAX &gt; 0)
r1 &lt;-rpms(IRAX~EDUCA+AGE+BLS_URBN, data = CE[s1,],  weights=~FINLWT21, clusters=~CID) 

# Get summary statistics of CUTENURE for households in end-nodes 7 and 8 of the tree

if(7 %in% end_nodes(r1)) 
  summary(CE$CUTENURE[in_node(node=7, r1, data=CE[s1,])])
if(8 %in% end_nodes(r1)) 
  summary(CE$CUTENURE[in_node(node=8, r1, data=CE[s1,])])
}

</code></pre>

<hr>
<h2 id='linearize'>linearize</h2><span id='topic+linearize'></span>

<h3>Description</h3>

<p>returns a linerized version of the splits. The coefficients represent 
the effect that each split has on the mean
</p>


<h3>Usage</h3>

<pre><code class='language-R'>linearize(x, data, weights = ~1, strata = ~1, clusters = ~1, type = "part")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="linearize_+3A_x">x</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="linearize_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="linearize_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="linearize_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="linearize_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
<tr><td><code id="linearize_+3A_type">type</code></td>
<td>
<p>is on of &quot;part&quot; or &quot;lin&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame including splits and estimates for the coefficient and their standard errors
</p>

<hr>
<h2 id='node_plot'>node_plot</h2><span id='topic+node_plot'></span>

<h3>Description</h3>

<p>plots end-node of object of class <code>rpms</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>node_plot(object, node, data, variable = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="node_plot_+3A_object">object</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="node_plot_+3A_node">node</code></td>
<td>
<p>integer label of the desired end-node.</p>
</td></tr>
<tr><td><code id="node_plot_+3A_data">data</code></td>
<td>
<p>data.frame that includes variables used in rp_equ, e_equ, 
and design information</p>
</td></tr>
<tr><td><code id="node_plot_+3A_variable">variable</code></td>
<td>
<p>string name of variable in data to use as x-axis in plot</p>
</td></tr>
<tr><td><code id="node_plot_+3A_...">...</code></td>
<td>
<p>further arguments passed to plot function.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>{

# model mean of retirement account value for households with reported 
# retirment account values &gt; 0 using a binary tree while accounting for 
# clusterd data and sample weights.

s1&lt;- which(CE$IRAX &gt; 0)
r1 &lt;-rpms(IRAX~EDUCA+AGE+BLS_URBN, data = CE[s1,],  weights=~FINLWT21, clusters=~CID) 

# plot node 6 if it is an end-node of the tree
if(6 %in% end_nodes(r1))
  node_plot(object=r1, node=6, data=CE[s1,])

# plot node 6 if it is an end-node of the tree
if(8 %in% end_nodes(r1))
  node_plot(object=r1, node=8, data=CE[s1,])

}

</code></pre>

<hr>
<h2 id='predict.rpms'>predict.rpms</h2><span id='topic+predict.rpms'></span>

<h3>Description</h3>

<p>Predicted values based on <code>rpms</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.rpms_+3A_object">object</code></td>
<td>
<p>Object inheriting from  <code>rpms</code></p>
</td></tr>
<tr><td><code id="predict.rpms_+3A_newdata">newdata</code></td>
<td>
<p>data frame with variables to use for predicting new values.</p>
</td></tr>
<tr><td><code id="predict.rpms_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of predicticed values for each row of newdata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# get rpms model of mean Soc Security income for families headed by a 
# retired person by several factors
r1 &lt;-rpms(SOCRRX~EDUCA+AGE+BLS_URBN+REGION, 
          data=CE[which(CE$INCNONWK==1),], clusters=~CID) 

r1

# first 10 predicted means
predict(r1, CE[10:20, ])

}

</code></pre>

<hr>
<h2 id='predict.rpms_boost'>predict.rpms_boost</h2><span id='topic+predict.rpms_boost'></span>

<h3>Description</h3>

<p>Predicted values based on <code>rpms_boost</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms_boost'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.rpms_boost_+3A_object">object</code></td>
<td>
<p>Object inheriting from  <code>rpms_boost</code></p>
</td></tr>
<tr><td><code id="predict.rpms_boost_+3A_newdata">newdata</code></td>
<td>
<p>data frame with variables to use for predicting new values.</p>
</td></tr>
<tr><td><code id="predict.rpms_boost_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of predicticed values for each row of newdata
</p>

<hr>
<h2 id='predict.rpms_forest'>predict.rpms_forest</h2><span id='topic+predict.rpms_forest'></span>

<h3>Description</h3>

<p>Gets predicted values given new data based on <code>rpms_forest</code> model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms_forest'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.rpms_forest_+3A_object">object</code></td>
<td>
<p>Object inheriting from  <code>rpms_forest</code></p>
</td></tr>
<tr><td><code id="predict.rpms_forest_+3A_newdata">newdata</code></td>
<td>
<p>data frame with variables to use for predicting new values.</p>
</td></tr>
<tr><td><code id="predict.rpms_forest_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of predicticed values for each row of newdata
</p>

<hr>
<h2 id='predict.rpms_proj'>predict.rpms_proj</h2><span id='topic+predict.rpms_proj'></span>

<h3>Description</h3>

<p>Predicted values based on <code>rpms_zinf</code> model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms_proj'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.rpms_proj_+3A_object">object</code></td>
<td>
<p>Object inheriting from  <code>rpms_zinf</code></p>
</td></tr>
<tr><td><code id="predict.rpms_proj_+3A_newdata">newdata</code></td>
<td>
<p>data frame with variables to use for predicting new values.</p>
</td></tr>
<tr><td><code id="predict.rpms_proj_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of predicticed values for each row of newdata
</p>

<hr>
<h2 id='predict.rpms_zinf'>predict.rpms_zinf</h2><span id='topic+predict.rpms_zinf'></span>

<h3>Description</h3>

<p>Predicted values based on <code>rpms_zinf</code> model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms_zinf'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.rpms_zinf_+3A_object">object</code></td>
<td>
<p>Object inheriting from  <code>rpms_zinf</code></p>
</td></tr>
<tr><td><code id="predict.rpms_zinf_+3A_newdata">newdata</code></td>
<td>
<p>data frame with variables to use for predicting new values.</p>
</td></tr>
<tr><td><code id="predict.rpms_zinf_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of predicticed values for each row of newdata
</p>

<hr>
<h2 id='print.rpms'>print.rpms</h2><span id='topic+print.rpms'></span>

<h3>Description</h3>

<p>print method for class <code>rpms</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rpms_+3A_x">x</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="print.rpms_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='print.rpms_forest'>print.rpms_forest</h2><span id='topic+print.rpms_forest'></span>

<h3>Description</h3>

<p>Prints information for a given <code>rpms_forest</code> model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms_forest'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rpms_forest_+3A_x">x</code></td>
<td>
<p>Object inheriting from  <code>rpms_forest</code></p>
</td></tr>
<tr><td><code id="print.rpms_forest_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of predicticed values for each row of newdata
</p>

<hr>
<h2 id='print.rpms_zinf'>print.rpms_zinf</h2><span id='topic+print.rpms_zinf'></span>

<h3>Description</h3>

<p>print method for class <code>rpms_zinf</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpms_zinf'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rpms_zinf_+3A_x">x</code></td>
<td>
<p><code>rpms_zinf</code> object</p>
</td></tr>
<tr><td><code id="print.rpms_zinf_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='prune_rpms'>prune_rpms</h2><span id='topic+prune_rpms'></span>

<h3>Description</h3>

<p>prune rpms tree to given node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prune_rpms(x, node)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prune_rpms_+3A_x">x</code></td>
<td>
<p><code>rpms</code> object</p>
</td></tr>
<tr><td><code id="prune_rpms_+3A_node">node</code></td>
<td>
<p>number of node to prune to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>subtree ending clipping off any splits after given node.
</p>

<hr>
<h2 id='qtree'>qtree</h2><span id='topic+qtree'></span>

<h3>Description</h3>

<p>Code to write a latex qtree plot
takes a rpm frame and returns latex code to produce qtree
uses linearize as a guide
Produces text code to produce tree structure in tex document
Requires using LaTex packages and the following commands in preamble of 
LaTex doc: 
\usepackage{lscape} and 
\usepackage{tikz-qtree}
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qtree(
  t1,
  title = NULL,
  label = NA,
  caption = "",
  digits = 2,
  s_size = TRUE,
  scale = 1,
  lscape = FALSE,
  subnode = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qtree_+3A_t1">t1</code></td>
<td>
<p>rpms object created by rpms function</p>
</td></tr>
<tr><td><code id="qtree_+3A_title">title</code></td>
<td>
<p>string for the top node of the tree</p>
</td></tr>
<tr><td><code id="qtree_+3A_label">label</code></td>
<td>
<p>string used for labeling the tree figure</p>
</td></tr>
<tr><td><code id="qtree_+3A_caption">caption</code></td>
<td>
<p>string used for caption</p>
</td></tr>
<tr><td><code id="qtree_+3A_digits">digits</code></td>
<td>
<p>integer number of displayed digits</p>
</td></tr>
<tr><td><code id="qtree_+3A_s_size">s_size</code></td>
<td>
<p>boolean indicating whether or not to include sample size</p>
</td></tr>
<tr><td><code id="qtree_+3A_scale">scale</code></td>
<td>
<p>numeric factor for scaling size of tree</p>
</td></tr>
<tr><td><code id="qtree_+3A_lscape">lscape</code></td>
<td>
<p>boolean to display tree in landscape mode</p>
</td></tr>
<tr><td><code id="qtree_+3A_subnode">subnode</code></td>
<td>
<p>starting node of subtree to plot</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>{
# model mean of retirement account value for households with reported 
# retirment account values &gt; 0 using a binary tree while accounting for 
# clusterd data and sample weights.

s1&lt;- which(CE$IRAX &gt; 0)
r1 &lt;-rpms(IRAX~EDUCA+AGE+BLS_URBN, data = CE[s1,],  weights=~FINLWT21, clusters=~CID) 

# get Latex code
qtree(r1)

}
</code></pre>

<hr>
<h2 id='r2stat'>r2</h2><span id='topic+r2stat'></span>

<h3>Description</h3>

<p>Returns the estimated R^2 statistic for determining
the fit of the given model to the data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r2stat(t1, data, adjusted = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="r2stat_+3A_t1">t1</code></td>
<td>
<p>Object inheriting from  <code>rpms</code> <code>rpms_forest</code>
<code>rpms_boost</code> or <code>rpms_zinf</code></p>
</td></tr>
<tr><td><code id="r2stat_+3A_data">data</code></td>
<td>
<p>data frame with variables used to estimate model</p>
</td></tr>
<tr><td><code id="r2stat_+3A_adjusted">adjusted</code></td>
<td>
<p>TRUE/FALSE whether to compute adjusted R^2</p>
</td></tr>
</table>


<h3>Value</h3>

<p>R^2 statistic computed using the model and provided data
</p>

<hr>
<h2 id='rpms'>rpms</h2><span id='topic+rpms'></span>

<h3>Description</h3>

<p>main function producing a regression tree using variables
from rp_equ to partition the data and fit the model e_equ on each node.
Currently only uses data with complete cases of continuous variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpms(
  rp_equ,
  data,
  weights = ~1,
  strata = ~1,
  clusters = ~1,
  e_equ = ~1,
  e_fn = "survLm",
  l_fn = NULL,
  bin_size = NULL,
  gridpts = 3,
  perm_reps = 1000L,
  pval = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rpms_+3A_rp_equ">rp_equ</code></td>
<td>
<p>formula containing all variables for partitioning</p>
</td></tr>
<tr><td><code id="rpms_+3A_data">data</code></td>
<td>
<p>data.frame that includes variables used in rp_equ, e_equ, 
and design information</p>
</td></tr>
<tr><td><code id="rpms_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="rpms_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="rpms_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
<tr><td><code id="rpms_+3A_e_equ">e_equ</code></td>
<td>
<p>formula for modeling data in each node</p>
</td></tr>
<tr><td><code id="rpms_+3A_e_fn">e_fn</code></td>
<td>
<p>string name of function to use for modeling 
(only &quot;survLm&quot; is operational)</p>
</td></tr>
<tr><td><code id="rpms_+3A_l_fn">l_fn</code></td>
<td>
<p>loss function (ignored)</p>
</td></tr>
<tr><td><code id="rpms_+3A_bin_size">bin_size</code></td>
<td>
<p>integer specifying minimum number of observations in each node</p>
</td></tr>
<tr><td><code id="rpms_+3A_gridpts">gridpts</code></td>
<td>
<p>integer number of middle points to do in search; set to n for 
categorical variables when e_equ is used.</p>
</td></tr>
<tr><td><code id="rpms_+3A_perm_reps">perm_reps</code></td>
<td>
<p>integer specifying the number of thousands of permutation 
replications to use to estimate p-value</p>
</td></tr>
<tr><td><code id="rpms_+3A_pval">pval</code></td>
<td>
<p>numeric p-value used to reject null hypothesis in permutation 
test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class &quot;rpms&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
# model mean of retirement account value for households with reported 
# retirment account values &gt; 0 using a binary tree while accounting for 
# clusterd data and sample weights.

s1&lt;- which(CE$IRAX &gt; 0)
rpms(IRAX~EDUCA+AGE+BLS_URBN, data=CE[s1,], weights=~FINLWT21, clusters=~CID)

                 
# model linear fit between retirement account value and amount of income
# conditioning on education and accounting for clusterd data for households 
# with reported retirment account values &gt; 0

rpms(IRAX~EDUCA, e_equ=IRAX~FINCBTAX, data=CE[s1,], weights=~FINLWT21, clusters=~CID)    

}
</code></pre>

<hr>
<h2 id='rpms_boost'>rpms_boost</h2><span id='topic+rpms_boost'></span>

<h3>Description</h3>

<p>function for producing boosted rpms models (trees or random forests)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpms_boost(
  rp_equ,
  data,
  weights = ~1,
  strata = ~1,
  clusters = ~1,
  e_equ = ~1,
  bin_size = NULL,
  gridpts = 3,
  perm_reps = 100L,
  pval = 0.05,
  f_size = 200L,
  model_type = "tree",
  times = 2L
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rpms_boost_+3A_rp_equ">rp_equ</code></td>
<td>
<p>formula containing all variables for partitioning</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_data">data</code></td>
<td>
<p>data.frame that includes variables used in rp_equ, e_equ, 
and design information</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_e_equ">e_equ</code></td>
<td>
<p>formula for modeling data in each node</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_bin_size">bin_size</code></td>
<td>
<p>numeric minimum number of observations in each node</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_gridpts">gridpts</code></td>
<td>
<p>integer number of middle points to do in search</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_perm_reps">perm_reps</code></td>
<td>
<p>integer specifying the number of thousands of permuation 
replications to use to estimate p-value</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_pval">pval</code></td>
<td>
<p>numeric p-value used to reject null hypothesis in permutation 
test</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_f_size">f_size</code></td>
<td>
<p>integer specifying the number of trees in the forest (only used 
if model_type is &quot;forest&quot;)</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_model_type">model_type</code></td>
<td>
<p>string: one of &quot;tree&quot; or &quot;forest&quot;</p>
</td></tr>
<tr><td><code id="rpms_boost_+3A_times">times</code></td>
<td>
<p>integer specifying number of boosting levels to try.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class &quot;rpms_boost&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
# model mean of retirement contributions with a binary tree while accounting 
# for clusterd data and sample weights.

rpms_boost(IRAX~EDUCA+AGE+BLS_URBN, data = CE,  weights=~FINLWT21, clusters=~CID, pval=.01)


}
</code></pre>

<hr>
<h2 id='rpms_forest'>rpms_forest</h2><span id='topic+rpms_forest'></span>

<h3>Description</h3>

<p>produces a random forest using rpms to create the individual
trees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpms_forest(
  rp_equ,
  data,
  weights = ~1,
  strata = ~1,
  clusters = ~1,
  e_fn = "survLm",
  l_fn = NULL,
  bin_size = 5,
  f_size = 500,
  cores = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rpms_forest_+3A_rp_equ">rp_equ</code></td>
<td>
<p>formula containing all variables for partitioning</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_data">data</code></td>
<td>
<p>data.frame that includes variables used in rp_equ, e_equ, 
and design information</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_e_fn">e_fn</code></td>
<td>
<p>string name of function to use for modeling 
(only &quot;survLm&quot; is operational)</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_l_fn">l_fn</code></td>
<td>
<p>loss function (ignored)</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_bin_size">bin_size</code></td>
<td>
<p>numeric minimum number of observations in each node</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_f_size">f_size</code></td>
<td>
<p>integer specifying the number of trees in the forest</p>
</td></tr>
<tr><td><code id="rpms_forest_+3A_cores">cores</code></td>
<td>
<p>integer number of cores to use in parallel if &gt; 1 
(doesn't work with Windows operating systems)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class &quot;rpms&quot;
</p>

<hr>
<h2 id='rpms_proj'>rpms_proj</h2><span id='topic+rpms_proj'></span>

<h3>Description</h3>

<p>Returns a survLm_fit object with coeficients projecting 
new data onto splits from the given rpms model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpms_proj(object, newdata, weights = ~1, strata = ~1, clusters = ~1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rpms_proj_+3A_object">object</code></td>
<td>
<p>Object inheriting from  <code>rpms</code></p>
</td></tr>
<tr><td><code id="rpms_proj_+3A_newdata">newdata</code></td>
<td>
<p>data frame with variables used to estimate model</p>
</td></tr>
<tr><td><code id="rpms_proj_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="rpms_proj_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="rpms_proj_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>survLm_fit object
</p>

<hr>
<h2 id='rpms_zinf'>rpms_zinf</h2><span id='topic+rpms_zinf'></span>

<h3>Description</h3>

<p>main function producing a regression tree using variables
from rp_equ to partition the data and fit the model e_equ on each node.
Currently only uses data with complete cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpms_zinf(
  rp_equ,
  data,
  weights = ~1,
  strata = ~1,
  clusters = ~1,
  e_equ = ~1,
  e_fn = "survLm",
  l_fn = NULL,
  bin_size = NULL,
  gridpts = 3,
  perm_reps = 1000L,
  pval = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rpms_zinf_+3A_rp_equ">rp_equ</code></td>
<td>
<p>formula containing all variables for partitioning</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_data">data</code></td>
<td>
<p>data.frame that includes variables used in rp_equ, e_equ, 
and design information</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_e_equ">e_equ</code></td>
<td>
<p>formula for modeling data in each node</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_e_fn">e_fn</code></td>
<td>
<p>string name of function to use for modeling 
(only &quot;survLm&quot; is operational)</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_l_fn">l_fn</code></td>
<td>
<p>loss function (does nothing yet)</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_bin_size">bin_size</code></td>
<td>
<p>numeric minimum number of observations in each node</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_gridpts">gridpts</code></td>
<td>
<p>integer number of middle points to do in search</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_perm_reps">perm_reps</code></td>
<td>
<p>integer specifying the number of thousands of permuation 
replications to use to estimate p-value</p>
</td></tr>
<tr><td><code id="rpms_zinf_+3A_pval">pval</code></td>
<td>
<p>numeric p-value used to reject null hypothesis in permutation 
test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class &quot;rpms&quot;
</p>

<hr>
<h2 id='survLm'>survLm</h2><span id='topic+survLm'></span>

<h3>Description</h3>

<p>wrapper function for the C++ function survLm_model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survLm(
  e_equ,
  data,
  weights = rep(1, nrow(data)),
  strata = rep(1L, nrow(data)),
  clusters = (1L:nrow(data))
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survLm_+3A_e_equ">e_equ</code></td>
<td>
<p>formula representing the equation to fit</p>
</td></tr>
<tr><td><code id="survLm_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="survLm_+3A_weights">weights</code></td>
<td>
<p>formula or vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="survLm_+3A_strata">strata</code></td>
<td>
<p>formula or vector of strata labels</p>
</td></tr>
<tr><td><code id="survLm_+3A_clusters">clusters</code></td>
<td>
<p>formula or vector of cluster labels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing coefficients, covariance matrix and the residuals
</p>

<hr>
<h2 id='survLm_model'>Fit a linear model using data collected from a complex sample</h2><span id='topic+survLm_model'></span>

<h3>Description</h3>

<p>Fit a linear model using data collected from a complex sample
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survLm_model(y, X, weights, strata, clusters)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survLm_model_+3A_y">y</code></td>
<td>
<p>A vector of values</p>
</td></tr>
<tr><td><code id="survLm_model_+3A_x">X</code></td>
<td>
<p>The design matrix of the linear model</p>
</td></tr>
<tr><td><code id="survLm_model_+3A_weights">weights</code></td>
<td>
<p>A vector of sample weights for each observation</p>
</td></tr>
<tr><td><code id="survLm_model_+3A_strata">strata</code></td>
<td>
<p>A vector of strata labels</p>
</td></tr>
<tr><td><code id="survLm_model_+3A_clusters">clusters</code></td>
<td>
<p>A vector of cluster labels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing coefficients, covariance matrix and the residuals
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

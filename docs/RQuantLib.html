<!DOCTYPE html><html lang="en"><head><title>Help for package RQuantLib</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RQuantLib}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AffineSwaption'><p>Affine swaption valuation using several short-rate models</p></a></li>
<li><a href='#AmericanOption'><p>American Option evaluation using Finite Differences</p></a></li>
<li><a href='#AmericanOptionImpliedVolatility'><p>Implied Volatility calculation for American Option</p></a></li>
<li><a href='#AsianOption'><p>Asian Option evaluation using Closed-Form solution</p></a></li>
<li><a href='#BarrierOption'><p>Barrier Option evaluation using Closed-Form solution</p></a></li>
<li><a href='#BermudanSwaption'><p>Bermudan swaption valuation using several short-rate models</p></a></li>
<li><a href='#BinaryOption'><p>Binary Option evaluation using Closed-Form solution</p></a></li>
<li><a href='#BinaryOptionImpliedVolatility'><p>Implied Volatility calculation for Binary Option</p></a></li>
<li><a href='#Bond'><p>Base class for Bond price evalution</p></a></li>
<li><a href='#BondUtilities'><p>Bond parameter conversion utilities</p></a></li>
<li><a href='#Calendars'><p>Calendar functions from QuantLib</p></a></li>
<li><a href='#CallableBond'><p>CallableBond evaluation</p></a></li>
<li><a href='#ConvertibleBond'><p>Convertible Bond evaluation for Fixed, Floating and Zero Coupon</p></a></li>
<li><a href='#DiscountCurve'><p>Returns the discount curve (with zero rates and forwards) given times</p></a></li>
<li><a href='#Enum'><p>Documentation for parameters</p></a></li>
<li><a href='#EuropeanOption'><p>European Option evaluation using Closed-Form solution</p></a></li>
<li><a href='#EuropeanOptionArrays'><p>European Option evaluation using Closed-Form solution</p></a></li>
<li><a href='#EuropeanOptionImpliedVolatility'><p>Implied Volatility calculation for European Option</p></a></li>
<li><a href='#FittedBondCurve'><p>Returns the discount curve (with zero rates and forwards) given set of bonds</p></a></li>
<li><a href='#FixedRateBond'><p>Fixed-Rate bond pricing</p></a></li>
<li><a href='#FloatingRateBond'><p>Floating rate bond pricing</p></a></li>
<li><a href='#getQuantLibCapabilities'><p>Return configuration options of the QuantLib library</p></a></li>
<li><a href='#getQuantLibVersion'><p>Return the QuantLib version number</p></a></li>
<li><a href='#ImpliedVolatility'><p>Base class for option-price implied volatility evalution</p></a></li>
<li><a href='#Option'><p>Base class for option price evalution</p></a></li>
<li><a href='#SabrSwaption'><p>SABR swaption using vol cube data with bermudan alternative using markovfunctional</p></a></li>
<li><a href='#Schedule'><p>Schedule generation</p></a></li>
<li><a href='#tsQuotes'><p>Vol Cube Example Data</p>
</p>
<p>Short time series examples</p></a></li>
<li><a href='#vcube'><p>Vol Cube Example Data</p></a></li>
<li><a href='#ZeroCouponBond'><p>Zero-Coupon bond pricing</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>R Interface to the 'QuantLib' Library</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.24</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-07-31</td>
</tr>
<tr>
<td>Description:</td>
<td>The 'RQuantLib' package makes parts of 'QuantLib' accessible from R
 The 'QuantLib' project aims to provide a comprehensive software framework
 for quantitative finance. The goal is to provide a standard open source library
 for quantitative analysis, modeling, trading, and risk management of financial
 assets.</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tinytest, rgl, shiny</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, Rcpp (&ge; 0.11.0), stats, graphics, zoo</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>QuantLib library (&gt;= 1.25) from
https://quantlib.org, Boost library from https://www.boost.org</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/eddelbuettel/rquantlib">https://github.com/eddelbuettel/rquantlib</a>,
<a href="https://dirk.eddelbuettel.com/code/rquantlib.html">https://dirk.eddelbuettel.com/code/rquantlib.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/eddelbuettel/rquantlib/issues">https://github.com/eddelbuettel/rquantlib/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-31 15:15:16 UTC; edd</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk Eddelbuettel <a href="https://orcid.org/0000-0001-6419-907X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Khanh Nguyen [aut] (2009-2010),
  Terry Leitch [aut] (since 2016)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dirk Eddelbuettel &lt;edd@debian.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-31 15:50:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='AffineSwaption'>Affine swaption valuation using several short-rate models</h2><span id='topic+AffineSwaption'></span><span id='topic+AffineSwaption.default'></span><span id='topic+summary.G2AnalyticAffineSwaption'></span><span id='topic+summary.HWAnalyticAffineSwaption'></span><span id='topic+summary.HWTreeAffineSwaption'></span><span id='topic+summary.BKTreeAffineSwaption'></span>

<h3>Description</h3>

<p><code>AffineSwaption</code> prices a swaption with specified
strike and maturity (in years), after calibrating the selected
affine short-rate model to an input swaption volatility matrix. Swaption
maturities are in years down the rows, and swap tenors are in years
along the columns, in the usual fashion. It is assumed that the
swaption is
exercisable  at the start of the swap if <code>params$european</code> flag is set to <code>TRUE</code> or
on each reset date (Bermudan) of the underlying swap if <code>params$european</code> flag is
set to <code>FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AffineSwaption(params, ts, swaptionMaturities, swapTenors,
volMatrix,legparams)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AffineSwaption_+3A_params">params</code></td>
<td>
<p>A list specifying the <code>tradeDate</code> (month/day/year),
<code>settlementDate</code>, logical flags <code>payFixed</code> &amp; <code>european</code>
(european=FALSE generates Bermudan vlaue), <code>strike</code>, pricing <code>method</code>, and curve construction options
(see <em>Examples</em> section below). Curve construction options are
<code>interpWhat</code> (possible values are <code>discount</code>,
<code>forward</code>, and <code>zero</code>) and
<code>interpHow</code> (possible values are <code>linear</code>,
<code>loglinear</code>
, and <code>spline</code>). Both <code>interpWhat</code> and <code>interpHow</code>
are ignored when a flat yield curve is requested, but they must be
present nevertheless.
The pricing method can be one of the following (all short-rate models):
</p>

<table>
<tr>
 <td style="text-align: left;">
      <code>G2Analytic</code> </td><td style="text-align: left;"> G2 2-factor Gaussian model using analytic formulas.</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>HWAnalytic</code> </td><td style="text-align: left;"> Hull-White model using analytic formulas.</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>HWTree</code> </td><td style="text-align: left;"> Hull-White model using a tree.</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>BKTree</code> </td><td style="text-align: left;"> Black-Karasinski model using a tree.
      </td>
</tr>

</table>

</td></tr>
<tr><td><code id="AffineSwaption_+3A_ts">ts</code></td>
<td>
<p>A term structure built with DiscountCurve is required. See the
help page for <code><a href="#topic+DiscountCurve">DiscountCurve</a></code> and example below for details.</p>
</td></tr>
<tr><td><code id="AffineSwaption_+3A_swaptionmaturities">swaptionMaturities</code></td>
<td>
<p>A vector containing the swaption maturities
associated with the rows of the swaption volatility matrix.</p>
</td></tr>
<tr><td><code id="AffineSwaption_+3A_swaptenors">swapTenors</code></td>
<td>
<p>A vector containing the underlying swap tenors
associated with the columns of the swaption volatility matrix.</p>
</td></tr>
<tr><td><code id="AffineSwaption_+3A_volmatrix">volMatrix</code></td>
<td>
<p>The swaption volatility matrix. Must be a 2D matrix
stored by rows. See the example below.</p>
</td></tr>
<tr><td><code id="AffineSwaption_+3A_legparams">legparams</code></td>
<td>
<p>A list specifying the <code>dayCounter</code> the day count convention for the
fixed leg (default is Thirty360), and  <code>fixFreq</code>, fixed coupon frequecny (defualt is Annual), <code>floatFreq</code>,
floating leg reset frequency (default is Semiannual).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on <code>QuantLib</code> Version 0.3.10. It
introduces support for fixed-income instruments in <code>RQuantLib</code>.
</p>
<p>At present only a small number of the many parameters that can be set
in <code>QuantLib</code> are exposed by this function. Some of the
hard-coded parameters that apply to the current version include:
day-count conventions, fixing days (2), index (Euribor),
fixed leg frequency (annual), and floating leg frequency
(semi-annual). Also, it is assumed that the swaption
volatility matrix corresponds to expiration dates and tenors that are
measured in years (a 6-month expiration date is not currently
supported, for example).
</p>
<p>Given the number of parameters that must be
specified and the care with which they must be specified (with no
defaults), it is not practical to use this function in the usual
interactive fashion.
</p>
<p>The simplest approach is simply to save the
example below to a file, edit as desired, and <code>source</code> the result.
Alternatively, the input commands can be kept in a script file
(under Windows) or an Emacs/ESS session (under Linux), and selected
parts of the script can be executed in the usual way.
</p>
<p>Fortunately, the C++ exception mechanism seems to work well with the R
interface, and <code>QuantLib</code> exceptions are propagated back to the
R user, usually with a message that indicates what went wrong. (The
first part of the message contains technical information about the
precise location of the problem in the <code>QuantLib</code> code. Scroll to
the end to find information that is meaningful to the R user.)
</p>


<h3>Value</h3>

<p><code>AffineSwaption</code> returns a list containing calibrated model
paramters (what parameters are returned depends on the model
selected) along with:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>NPV of swaption in basis points (actual price
equals <code>price</code> times notional divided by 10,000)</p>
</td></tr>
<tr><td><code>ATMStrike</code></td>
<td>
<p>At-the-money strike</p>
</td></tr>
<tr><td><code>params</code></td>
<td>
<p>Input parameter list</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Terry Leitch</p>


<h3>References</h3>

<p>Brigo, D. and Mercurio, F. (2001) <em>Interest Rate Models: Theory and
Practice</em>, Springer-Verlag, New York.
</p>
<p>For information about <code>QuantLib</code> see <a href="https://www.quantlib.org/">https://www.quantlib.org/</a>.
</p>
<p>For information about <code>RQuantLib</code> see
<a href="http://dirk.eddelbuettel.com/code/rquantlib.html">http://dirk.eddelbuettel.com/code/rquantlib.html</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+DiscountCurve">DiscountCurve</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>if (.Platform$OS.type != "windows" &amp;&amp; .Platform$r_arch != "i386") {
## Not run: 

# This data was generated to match the original quantlib example for Bermudan Swaption
params &lt;- list(tradeDate=as.Date('2016-2-15'),
               settleDate=as.Date('2016-2-17'),
               startDate=as.Date('2017-2-17'),
               maturity=as.Date('2022-2-17'),
               payFixed=TRUE,
               european=FALSE,
               dt=.25,
               strike=.06,
               method="G2Analytic",
               interpWhat="discount",
               interpHow="loglinear")

# Market data used to construct the term structure of interest rates
tsQuotes &lt;- list(d1w  =0.0382,
                 d1m  =0.0372,
                 fut1=96.2875,
                 fut2=96.7875,
                 fut3=96.9875,
                 fut4=96.6875,
                 fut5=96.4875,
                 fut6=96.3875,
                 fut7=96.2875,
                 fut8=96.0875,
                 s3y  =0.0398,
                 s5y  =0.0443,
                 s10y =0.05165,
                 s15y =0.055175)


# Swaption volatility matrix with corresponding maturities and tenors
swaptionMaturities &lt;- c(1,2,3,4,5)

swapTenors &lt;- c(1,2,3,4,5)

volMatrix &lt;- matrix(
    c(0.1490, 0.1340, 0.1228, 0.1189, 0.1148,
      0.1290, 0.1201, 0.1146, 0.1108, 0.1040,
      0.1149, 0.1112, 0.1070, 0.1010, 0.0957,
      0.1047, 0.1021, 0.0980, 0.0951, 0.1270,
      0.1000, 0.0950, 0.0900, 0.1230, 0.1160),
    ncol=5, byrow=TRUE)

legparams=list(dayCounter="Thirty360",
               fixFreq="Annual",
               floatFreq="Semiannual")

setEvaluationDate(as.Date("2016-2-16"))
times&lt;-times &lt;- seq(0,14.75,.25)
dcurve &lt;- DiscountCurve(params, tsQuotes, times=times,legparams)

# Price the Bermudan swaption
pricing &lt;- AffineSwaption(params, dcurve,swaptionMaturities, swapTenors, volMatrix,legparams)
summary(pricing)


## End(Not run)
}
</code></pre>

<hr>
<h2 id='AmericanOption'>American Option evaluation using Finite Differences</h2><span id='topic+AmericanOption'></span><span id='topic+AmericanOption.default'></span>

<h3>Description</h3>

<p>This function evaluations an American-style option on a common stock
using finite differences. The option value as well as the common first
derivatives (&quot;Greeks&quot;) are returned.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
AmericanOption(type, underlying, strike,
		dividendYield, riskFreeRate, maturity, volatility, 
		timeSteps=150, gridPoints=149, engine="BaroneAdesiWhaley", 
		discreteDividends, discreteDividendsTimeUntil)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AmericanOption_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_volatility">volatility</code></td>
<td>
<p>Volatility of the underlying stock</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_timesteps">timeSteps</code></td>
<td>
<p>Time steps for the &ldquo;CrankNicolson&rdquo; finite
differences method engine, default value is 150</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_gridpoints">gridPoints</code></td>
<td>
<p>Grid points for the &ldquo;CrankNicolson&rdquo; finite differences method,
default value is 149</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_engine">engine</code></td>
<td>
<p>String selecting pricing engine, currently supported are
&ldquo;BaroneAdesiWhaley&rdquo; and &ldquo;CrankNicolson&rdquo;</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_discretedividends">discreteDividends</code></td>
<td>
<p>Vector of discrete dividends (optional)</p>
</td></tr>
<tr><td><code id="AmericanOption_+3A_discretedividendstimeuntil">discreteDividendsTimeUntil</code></td>
<td>
<p>Vector of times to discrete dividends 
(in fractional years, optional)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Finite Differences method is used to value the American Option.
</p>
<p>Please see any decent Finance textbook for background reading, and
the <code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation. 
</p>


<h3>Value</h3>

<p>An object of class <code>AmericanOption</code> (which inherits from class
<code><a href="#topic+Option">Option</a></code>) is returned. It contains a list with the
following components: 
</p>
<table role = "presentation">
<tr><td><code>value</code></td>
<td>
<p>Value of option</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>Sensitivity of the option value for a change in the underlying</p>
</td></tr>
<tr><td><code>gamma</code></td>
<td>
<p>Sensitivity of the option delta for a change in the underlying</p>
</td></tr>
<tr><td><code>vega</code></td>
<td>
<p>Sensitivity of the option value for a change in the
underlying's volatility</p>
</td></tr> 
<tr><td><code>theta</code></td>
<td>
<p>Sensitivity of the option value for a change in t, the
remaining time to maturity</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
risk-free interest rate</p>
</td></tr>
<tr><td><code>dividendRho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
dividend yield</p>
</td></tr>
</table>
<p>Note that under the new pricing framework used in QuantLib,
pricers do not provide analytics for all 'Greeks'. When
&ldquo;CrankNicolson&rdquo; is selected, then at least delta, gamma and
vega are available. With the default pricing engine of
&ldquo;BaroneAdesiWhaley&rdquo;, no greeks are returned.
</p>
<p>The &ldquo;CrankNicolson&rdquo; engine needs to be used when setting
discrete dividends.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+EuropeanOption">EuropeanOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># simple call with unnamed parameters
AmericanOption("call", 100, 100, 0.02, 0.03, 0.5, 0.4)
# simple call with some explicit parameters
AmericanOption("put", strike=100, volatility=0.4, 100, 0.02, 0.03, 0.5)
# simple call with unnamed parameters, using Crank-Nicolons
AmericanOption("put", strike=100, volatility=0.4, 100, 0.02, 0.03, 0.5, engine="CrankNicolson")
</code></pre>

<hr>
<h2 id='AmericanOptionImpliedVolatility'>Implied Volatility calculation for American Option</h2><span id='topic+AmericanOptionImpliedVolatility'></span><span id='topic+AmericanOptionImpliedVolatility.default'></span>

<h3>Description</h3>

<p>The <code>AmericanOptionImpliedVolatility</code> function solves for the
(unobservable) implied volatility, given an option price as well as
the other required parameters to value an option.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
AmericanOptionImpliedVolatility(type, value,
		underlying, strike,dividendYield, riskFreeRate, maturity, volatility,
	        timeSteps=150, gridPoints=151)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_value">value</code></td>
<td>
<p>Value of the option (used only for ImpliedVolatility calculation)</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_volatility">volatility</code></td>
<td>
<p>Initial guess for the volatility of the underlying
stock</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_timesteps">timeSteps</code></td>
<td>
<p>Time steps for the Finite Differences method, default
value is 150</p>
</td></tr>
<tr><td><code id="AmericanOptionImpliedVolatility_+3A_gridpoints">gridPoints</code></td>
<td>
<p>Grid points for the Finite Differences method,
default value is 151</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Finite Differences method is used to value the American Option.
Implied volatilities are then calculated numerically.
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>AmericanOptionImpliedVolatility</code> function returns an numeric
variable with volatility implied by the given market prices and given parameters.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+EuropeanOption">EuropeanOption</a></code>,<code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+BinaryOption">BinaryOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>AmericanOptionImpliedVolatility(type="call", value=11.10, underlying=100,
	strike=100, dividendYield=0.01, riskFreeRate=0.03,
	maturity=0.5, volatility=0.4)
</code></pre>

<hr>
<h2 id='AsianOption'>Asian Option evaluation using Closed-Form solution</h2><span id='topic+AsianOption'></span><span id='topic+AsianOption.default'></span>

<h3>Description</h3>

<p>The <code>AsianOption</code> function evaluates an Asian-style
option on a common stock using an analytic solution for continuous
geometric average price. The option value, the common first
derivatives (&quot;Greeks&quot;) as well as the calling parameters are returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
AsianOption(averageType, type, underlying, strike,
	                  dividendYield, riskFreeRate, maturity, 
	                  volatility, first=0, length=11.0/12.0, fixings=26)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AsianOption_+3A_averagetype">averageType</code></td>
<td>
<p>Specifiy averaging type, either &ldquo;geometric&rdquo; or &ldquo;arithmetic&rdquo; </p>
</td></tr>
<tr><td><code id="AsianOption_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="AsianOption_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_volatility">volatility</code></td>
<td>
<p>Volatility of the underlying stock</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_first">first</code></td>
<td>
<p>(Only for arithmetic averaging) Time step to first
average, can be zero</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_length">length</code></td>
<td>
<p>(Only for arithmetic averaging) Total time length for
averaging period</p>
</td></tr>
<tr><td><code id="AsianOption_+3A_fixings">fixings</code></td>
<td>
<p>(Only for arithmetic averaging) Total number of averaging fixings</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When &quot;arithmetic&quot; evaluation is used, only the NPV() is returned.
</p>
<p>The well-known closed-form solution derived by Black, Scholes and
Merton is used for valuation. Implied volatilities are calculated
numerically.
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>AsianOption</code> function returns an object of class
<code>AsianOption</code> (which inherits from class 
<code><a href="#topic+Option">Option</a></code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>value</code></td>
<td>
<p>Value of option</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>Sensitivity of the option value for a change in the underlying</p>
</td></tr>
<tr><td><code>gamma</code></td>
<td>
<p>Sensitivity of the option delta for a change in the underlying</p>
</td></tr>
<tr><td><code>vega</code></td>
<td>
<p>Sensitivity of the option value for a change in the
underlying's volatility</p>
</td></tr> 
<tr><td><code>theta</code></td>
<td>
<p>Sensitivity of the option value for a change in t, the
remaining time to maturity</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
risk-free interest rate</p>
</td></tr>
<tr><td><code>dividendRho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
dividend yield</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'># simple call with some explicit parameters, and slightly increased vol:
AsianOption("geometric", "put", underlying=80, strike=85, div=-0.03,
            riskFree=0.05, maturity=0.25, vol=0.2)
</code></pre>

<hr>
<h2 id='BarrierOption'>Barrier Option evaluation using Closed-Form solution</h2><span id='topic+BarrierOption'></span><span id='topic+BarrierOption.default'></span>

<h3>Description</h3>

<p>This function evaluations an Barrier option on a common stock
using a closed-form solution. The option value as well as the common first
derivatives (&quot;Greeks&quot;) are returned.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
BarrierOption(barrType, type, underlying, strike, 
                                dividendYield, riskFreeRate, maturity, 
                                volatility, barrier, rebate=0.0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="BarrierOption_+3A_barrtype">barrType</code></td>
<td>
<p>A string with one of the values <code>downin</code>,
<code>downout</code>, <code>upin</code> or <code>upout</code></p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_volatility">volatility</code></td>
<td>
<p>Volatility of the underlying stock</p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_barrier">barrier</code></td>
<td>
<p>Option barrier value</p>
</td></tr>
<tr><td><code id="BarrierOption_+3A_rebate">rebate</code></td>
<td>
<p>Optional option rebate, defaults to 0.0</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A closed-form solution is used to value the Barrier Option. In the
case of Barrier options, the calculations are from Haug's &quot;Option
pricing formulas&quot; book (McGraw-Hill).
</p>
<p>Please see any decent Finance textbook for background reading, and
the <code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.
</p>


<h3>Value</h3>

<p>An object of class <code>BarrierOption</code> (which inherits from class
<code><a href="#topic+Option">Option</a></code>) is returned. It contains a list with the
following components: 
</p>
<table role = "presentation">
<tr><td><code>value</code></td>
<td>
<p>Value of option</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>Sensitivity of the option value for a change in the underlying</p>
</td></tr>
<tr><td><code>gamma</code></td>
<td>
<p>Sensitivity of the option delta for a change in the underlying</p>
</td></tr>
<tr><td><code>vega</code></td>
<td>
<p>Sensitivity of the option value for a change in the
underlying's volatility</p>
</td></tr> 
<tr><td><code>theta</code></td>
<td>
<p>Sensitivity of the option value for a change in t, the
remaining time to maturity</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
risk-free interest rate</p>
</td></tr>
<tr><td><code>dividendRho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
dividend yield</p>
</td></tr></table>
<p>.
</p>
<p>Note that under the new pricing framework used in QuantLib, binary
pricers do not provide analytics for 'Greeks'. This is expected to be
addressed in future releases of QuantLib.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+EuropeanOption">EuropeanOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>BarrierOption(barrType="downin", type="call", underlying=100,
	strike=100, dividendYield=0.02, riskFreeRate=0.03,
	maturity=0.5, volatility=0.4, barrier=90)
</code></pre>

<hr>
<h2 id='BermudanSwaption'>Bermudan swaption valuation using several short-rate models</h2><span id='topic+BermudanSwaption'></span><span id='topic+BermudanSwaption.default'></span><span id='topic+summary.G2Analytic'></span><span id='topic+summary.HWAnalytic'></span><span id='topic+summary.HWTree'></span><span id='topic+summary.BKTree'></span>

<h3>Description</h3>

<p><code>BermudanSwaption</code> prices a Bermudan swaption with specified
strike and maturity (in years), after calibrating the selected
short-rate model to an input swaption volatility matrix. Swaption
maturities are in years down the rows, and swap tenors are in years
along the columns, in the usual fashion. It is assumed that the
Bermudan swaption is
exercisable on each reset date of the underlying swaps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BermudanSwaption(params, ts, swaptionMaturities, swapTenors,
volMatrix)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="BermudanSwaption_+3A_params">params</code></td>
<td>
<p>A list specifying the <code>tradeDate</code> (month/day/year),
<code>settlementDate</code>, <code>startDate</code>, <code>maturity</code>,  <code>payFixed</code>
flag, <code>strike</code>, pricing <code>method</code>, and curve construction options
(see <em>Examples</em> section below). Curve construction options are
<code>interpWhat</code> (possible values are <code>discount</code>,
<code>forward</code>, and <code>zero</code>) and
<code>interpHow</code> (possible values are <code>linear</code>,
<code>loglinear</code>
, and <code>spline</code>). Both <code>interpWhat</code> and <code>interpHow</code>
are ignored when a flat yield curve is requested, but they must be
present nevertheless.
The pricing method can be one of the following (all short-rate models):
</p>

<table>
<tr>
 <td style="text-align: left;">
      <code>G2Analytic</code> </td><td style="text-align: left;"> G2 2-factor Gaussian model using analytic formulas.</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>HWAnalytic</code> </td><td style="text-align: left;"> Hull-White model using analytic formulas.</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>HWTree</code> </td><td style="text-align: left;"> Hull-White model using a tree.</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>BKTree</code> </td><td style="text-align: left;"> Black-Karasinski model using a tree.
      </td>
</tr>

</table>

</td></tr>
<tr><td><code id="BermudanSwaption_+3A_ts">ts</code></td>
<td>
<p>A term structure built with DiscounCurve or market observables
needed to construct the spot term
structure of interest rates. A list of name/value pairs. See the
help page for <code><a href="#topic+DiscountCurve">DiscountCurve</a></code> for details.</p>
</td></tr>
<tr><td><code id="BermudanSwaption_+3A_swaptionmaturities">swaptionMaturities</code></td>
<td>
<p>A vector containing the swaption maturities
associated with the rows of the swaption volatility matrix.</p>
</td></tr>
<tr><td><code id="BermudanSwaption_+3A_swaptenors">swapTenors</code></td>
<td>
<p>A vector containing the underlying swap tenors
associated with the columns of the swaption volatility matrix.</p>
</td></tr>
<tr><td><code id="BermudanSwaption_+3A_volmatrix">volMatrix</code></td>
<td>
<p>The swaption volatility matrix. Must be a 2D matrix
stored by rows. See the example below.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function was update for <code>QuantLib</code> Version 1.7.1 or later. It
introduces support for fixed-income instruments in <code>RQuantLib</code>. It implements the
full function and should work in most cases as long as there are suuficient swaption vol
data points to fit the affine model. At least 5 unique points are required. The data point
search attempts to find 5 or more points with one being the closet match in terms in of
expiration and maturity.
</p>
<p>See the <code><a href="#topic+SabrSwaption">SabrSwaption</a></code> function for an alternative.
</p>


<h3>Value</h3>

<p><code>BermudanSwaption</code> , if there are sufficient swaption vols to fit an affine model,
returns a list containing calibrated model
paramters (what parameters are returned depends on the model
selected) along with:
</p>
<table role = "presentation">
<tr><td><code>price</code></td>
<td>
<p>Price of swaption in basis points (actual price
equals <code>price</code> times notional divided by 10,000)</p>
</td></tr>
<tr><td><code>ATMStrike</code></td>
<td>
<p>At-the-money strike</p>
</td></tr>
<tr><td><code>params</code></td>
<td>
<p>Input parameter list</p>
</td></tr>
</table>
<p>If there are insufficient swaption vols to calibrate it throws a warning and returns <code>NULL</code>
</p>


<h3>Author(s)</h3>

<p>Dominick Samperi</p>


<h3>References</h3>

<p>Brigo, D. and Mercurio, F. (2001) <em>Interest Rate Models: Theory and
Practice</em>, Springer-Verlag, New York.
</p>
<p>For information about <code>QuantLib</code> see <a href="https://www.quantlib.org/">https://www.quantlib.org/</a>.
</p>
<p>For information about <code>RQuantLib</code> see
<a href="http://dirk.eddelbuettel.com/code/rquantlib.html">http://dirk.eddelbuettel.com/code/rquantlib.html</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+DiscountCurve">DiscountCurve</a></code>, <code><a href="#topic+SabrSwaption">SabrSwaption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# This data replicates sample code shipped with QuantLib 0.3.10 results
params &lt;- list(tradeDate=as.Date('2002-2-15'),
               settleDate=as.Date('2002-2-19'),
               startDate=as.Date('2003-2-19'),
               maturity=as.Date('2008-2-19'),
               dt=.25,
               payFixed=TRUE,
               strike=.05,
               method="G2Analytic",
               interpWhat="discount",
               interpHow="loglinear")
setEvaluationDate(as.Date('2002-2-15'))
# Market data used to construct the term structure of interest rates
tsQuotes &lt;- list(d1w  =0.05,
                 # d1m  =0.0372,
                 # fut1=96.2875,
                 # fut2=96.7875,
                 # fut3=96.9875,
                 # fut4=96.6875,
                 # fut5=96.4875,
                 # fut6=96.3875,
                 # fut7=96.2875,
                 # fut8=96.0875,
                 s3y  =0.05,
                 s5y  =0.05,
                 s10y =0.05,
                 s15y =0.05)

times=seq(0,14.75,.25)
swcurve=DiscountCurve(params,tsQuotes,times)
# Use this to compare with the Bermudan swaption example from QuantLib
#tsQuotes &lt;- list(flat=0.04875825)

# Swaption volatility matrix with corresponding maturities and tenors
swaptionMaturities &lt;- c(1,2,3,4,5)

swapTenors &lt;- c(1,2,3,4,5)

volMatrix &lt;- matrix(
    c(0.1490, 0.1340, 0.1228, 0.1189, 0.1148,
      0.1290, 0.1201, 0.1146, 0.1108, 0.1040,
      0.1149, 0.1112, 0.1070, 0.1010, 0.0957,
      0.1047, 0.1021, 0.0980, 0.0951, 0.1270,
      0.1000, 0.0950, 0.0900, 0.1230, 0.1160),
    ncol=5, byrow=TRUE)

volMatrix &lt;- matrix(
    c(rep(.20,25)),
    ncol=5, byrow=TRUE)
# Price the Bermudan swaption
pricing &lt;- BermudanSwaption(params, ts=.05,
                            swaptionMaturities, swapTenors, volMatrix)
summary(pricing)

## End(Not run)
</code></pre>

<hr>
<h2 id='BinaryOption'>Binary Option evaluation using Closed-Form solution</h2><span id='topic+BinaryOption'></span><span id='topic+BinaryOption.default'></span>

<h3>Description</h3>

<p>This function evaluations an Binary option on a common stock
using a closed-form solution. The option value as well as the common first
derivatives (&quot;Greeks&quot;) are returned.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
BinaryOption(binType, type, excType, underlying,
        strike, dividendYield,
	riskFreeRate, maturity, volatility, cashPayoff)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="BinaryOption_+3A_bintype">binType</code></td>
<td>
<p>A string with one of the values <code>cash</code>,
<code>asset</code> or <code>gap</code> to select CashOrNothing, AssetOrNothing
or Gap payoff profiles</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_exctype">excType</code></td>
<td>
<p>A string with one of the values <code>european</code> or
<code>american</code> to denote the exercise type</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_volatility">volatility</code></td>
<td>
<p>Volatility of the underlying stock</p>
</td></tr>
<tr><td><code id="BinaryOption_+3A_cashpayoff">cashPayoff</code></td>
<td>
<p>Payout amount</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A closed-form solution is used to value the Binary Option.
</p>
<p>Please see any decent Finance textbook for background reading, and
the <code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation. 
</p>


<h3>Value</h3>

<p>An object of class <code>BinaryOption</code> (which inherits from class
<code><a href="#topic+Option">Option</a></code>) is returned. It contains a list with the
following components: 
</p>
<table role = "presentation">
<tr><td><code>value</code></td>
<td>
<p>Value of option</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>Sensitivity of the option value for a change in the underlying</p>
</td></tr>
<tr><td><code>gamma</code></td>
<td>
<p>Sensitivity of the option delta for a change in the underlying</p>
</td></tr>
<tr><td><code>vega</code></td>
<td>
<p>Sensitivity of the option value for a change in the
underlying's volatility</p>
</td></tr> 
<tr><td><code>theta</code></td>
<td>
<p>Sensitivity of the option value for a change in t, the
remaining time to maturity</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
risk-free interest rate</p>
</td></tr>
<tr><td><code>dividendRho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
dividend yield</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+EuropeanOption">EuropeanOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>BinaryOption(binType="asset", type="call", excType="european",
             underlying=100, strike=100, dividendYield=0.02,
             riskFreeRate=0.03, maturity=0.5, volatility=0.4, cashPayoff=10)
</code></pre>

<hr>
<h2 id='BinaryOptionImpliedVolatility'>Implied Volatility calculation for Binary Option</h2><span id='topic+BinaryOptionImpliedVolatility'></span><span id='topic+BinaryOptionImpliedVolatility.default'></span>

<h3>Description</h3>

<p>The <code>BinaryOptionImpliedVolatility</code> function solves for the
(unobservable) implied volatility, given an option price as well as
the other required parameters to value an option.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
BinaryOptionImpliedVolatility(type, value, underlying,
		strike, dividendYield, riskFreeRate, maturity, volatility,
		cashPayoff=1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code>, <code>put</code> or
<code>straddle</code></p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_value">value</code></td>
<td>
<p>Value of the option (used only for ImpliedVolatility calculation)</p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_volatility">volatility</code></td>
<td>
<p>Initial guess for the volatility of the underlying
stock</p>
</td></tr>
<tr><td><code id="BinaryOptionImpliedVolatility_+3A_cashpayoff">cashPayoff</code></td>
<td>
<p>Binary payout if options is exercised, default is 1</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Finite Differences method is used to value the Binary Option.
Implied volatilities are then calculated numerically.
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>BinaryOptionImpliedVolatility</code> function returns an numeric
variable with volatility implied by the given market prices.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+EuropeanOption">EuropeanOption</a></code>,<code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+BinaryOption">BinaryOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>BinaryOptionImpliedVolatility("call", value=4.50, strike=100, 100, 0.02, 0.03, 0.5, 0.4, 10)
</code></pre>

<hr>
<h2 id='Bond'>Base class for Bond price evalution</h2><span id='topic+Bond'></span><span id='topic+plot.Bond'></span><span id='topic+print.Bond'></span><span id='topic+print.FixedRateBond'></span><span id='topic+summary.Bond'></span>

<h3>Description</h3>

<p>This class forms the basis from which the more specific classes are
derived. </p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Bond'
print(x, digits=5, ...)
## S3 method for class 'FixedRateBond'
print(x, digits=5, ...)
## S3 method for class 'Bond'
plot(x, ...)
## S3 method for class 'Bond'
summary(object, digits=5, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Bond_+3A_x">x</code></td>
<td>
<p>Any Bond object derived from this base class</p>
</td></tr>
<tr><td><code id="Bond_+3A_object">object</code></td>
<td>
<p>Any Bond object derived from this base class</p>
</td></tr>
<tr><td><code id="Bond_+3A_digits">digits</code></td>
<td>
<p>Number of digits of precision shown</p>
</td></tr>
<tr><td><code id="Bond_+3A_...">...</code></td>
<td>
<p>Further arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.
</p>


<h3>Value</h3>

<p>None, but side effects of displaying content.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a>; Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## This data is taken from sample code shipped with QuantLib 0.9.7
## from the file Examples/Swap/swapvaluation
params &lt;- list(tradeDate=as.Date('2004-09-20'),
               settleDate=as.Date('2004-09-22'),
               dt=.25,
               interpWhat="discount",
               interpHow="loglinear")
setEvaluationDate(as.Date("2004-09-20"))

## We got numerical issues for the spline interpolation if we add
## any on of these three extra futures, at least with QuantLib 0.9.7
## The curve data comes from QuantLib's Examples/Swap/swapvaluation.cpp
## Removing s2y helps, as kindly pointed out by Luigi Ballabio
tsQuotes &lt;- list(d1w = 0.0382,
                 d1m = 0.0372,
                 fut1=96.2875,
                 fut2=96.7875,
                 fut3=96.9875,
                 fut4=96.6875,
                 fut5=96.4875,
                 fut6=96.3875,
                 fut7=96.2875,
                 fut8=96.0875,
                 # s2y = 0.037125,  ## s2y perturbs
                 s3y = 0.0398,
                 s5y = 0.0443,
                 s10y = 0.05165,
                 s15y = 0.055175)
times &lt;- seq(0,10,.1)

setEvaluationDate(params$tradeDate)
discountCurve &lt;- DiscountCurve(params, tsQuotes, times)

# price a zero coupon bond
bondparams &lt;- list(faceAmount=100, issueDate=as.Date("2004-11-30"),
                   maturityDate=as.Date("2008-11-30"), redemption=100 )
dateparams &lt;-list(settlementDays=1,
                  calendar="UnitedStates/GovernmentBond",
                  businessDayConvention=4)
ZeroCouponBond(bondparams, discountCurve, dateparams)

# price a fixed rate coupon bond

bond &lt;- list(settlementDays=1, issueDate=as.Date("2004-11-30"),
             faceAmount=100, dayCounter='Thirty360',
             paymentConvention='Unadjusted')
schedule &lt;- list(effectiveDate=as.Date("2004-11-30"),
                 maturityDate=as.Date("2008-11-30"),
                 period='Semiannual',
                 calendar='UnitedStates/GovernmentBond',
                 businessDayConvention='Unadjusted',
                 terminationDateConvention='Unadjusted',
                 dateGeneration='Forward',
                 endOfMonth=1)
calc=list(dayCounter='Actual360', compounding='Compounded',
          freq='Annual', durationType='Modified')
rates &lt;- c(0.02875)
FixedRateBond(bond, rates, schedule, calc, discountCurve=discountCurve)

# price a fixed rate coupon bond from yield

yield &lt;- 0.050517
FixedRateBond(bond, rates, schedule, calc, yield=yield)

# calculate the same bond from the clean price

price &lt;- 92.167
FixedRateBond(bond, rates, schedule, calc, price=price)

# price a floating rate bond
bondparams &lt;- list(faceAmount=100, issueDate=as.Date("2004-11-30"),
                   maturityDate=as.Date("2008-11-30"), redemption=100,
                   effectiveDate=as.Date("2004-12-01"))

dateparams &lt;- list(settlementDays=1, calendar="UnitedStates/GovernmentBond",
                   dayCounter = 1, period=3, businessDayConvention = 1,
                   terminationDateConvention=1, dateGeneration=0, endOfMonth=0,
                   fixingDays = 1)

gearings &lt;- spreads &lt;- caps &lt;- floors &lt;- vector()

iborCurve &lt;- DiscountCurve(params,list(flat=0.05), times)
ibor &lt;- list(type="USDLibor", length=6, inTermOf="Month",
             term=iborCurve)
FloatingRateBond(bondparams, gearings, spreads, caps, floors,
                 ibor, discountCurve, dateparams)

## End(Not run)
</code></pre>

<hr>
<h2 id='BondUtilities'>Bond parameter conversion utilities</h2><span id='topic+matchBDC'></span><span id='topic+matchCompounding'></span><span id='topic+matchDateGen'></span><span id='topic+matchDayCounter'></span><span id='topic+matchFrequency'></span><span id='topic+matchParams'></span>

<h3>Description</h3>

<p>These functions are using internally to convert from the characters at
the R level to the <code>enum</code> types used at the C++ level. They are
documented here mostly to provide a means to look up some of the
possible values&mdash;the user is not expected to call these functions directly..</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchBDC(bdc = c("Following", "ModifiedFollowing", "Preceding",
                 "ModifiedPreceding", "Unadjusted",
                 "HalfMonthModifiedFollowing", "Nearest"))
matchCompounding(cp = c("Simple", "Compounded", "Continuous", "SimpleThenCompounded"))
matchDayCounter(daycounter = c("Actual360", "ActualFixed", "ActualActual", "Business252",
                              "OneDayCounter", "SimpleDayCounter", "Thirty360",
                              "Actual365NoLeap", "ActualActual.ISMA", "ActualActual.Bond",
                              "ActualActual.ISDA", "ActualActual.Historical",
                              "ActualActual.AFB", "ActualActual.Euro"))
matchDateGen(dg = c("Backward", "Forward", "Zero", "ThirdWednesday",
                    "Twentieth", "TwentiethIMM", "OldCDS", "CDS"))
matchFrequency(freq = c("NoFrequency","Once", "Annual", "Semiannual",
                        "EveryFourthMonth", "Quarterly", "Bimonthly",
                        "Monthly", "EveryFourthWeek", "Biweekly",
                        "Weekly", "Daily"))
matchParams(params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="BondUtilities_+3A_bdc">bdc</code></td>
<td>
<p>A string identifying one of the possible business day convention values.</p>
</td></tr>
<tr><td><code id="BondUtilities_+3A_cp">cp</code></td>
<td>
<p>A string identifying one of the possible compounding frequency values.</p>
</td></tr>
<tr><td><code id="BondUtilities_+3A_daycounter">daycounter</code></td>
<td>
<p>A string identifying one of the possible day counter scheme values.</p>
</td></tr>
<tr><td><code id="BondUtilities_+3A_dg">dg</code></td>
<td>
<p>A string identifying one of the possible date generation scheme values.</p>
</td></tr>
<tr><td><code id="BondUtilities_+3A_freq">freq</code></td>
<td>
<p>A string identifying one of the possible (dividend) frequency values.</p>
</td></tr>
<tr><td><code id="BondUtilities_+3A_params">params</code></td>
<td>
<p>A named vector containing the other parameters as components.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The QuantLib documentation should be consulted for details.
</p>
<p>Note that <code>Actual365NoLeap</code> is soft deprecated as of QuantLib 1.11 and hard deprecated as of
QuantLib 1.16. For users on QuantLib 1.16 or later, use of the RQuantLib daycounter enum with a
value of severn will result in <code>Actual365Fixed(Actual365Fixed::NoLeap)</code> which is functionally
equivalent to <code>Actual365NoLeap</code>. Previously RQuantLib allowed users to retain
<code>Actual365NoLeap</code> via defining <code>RQUANTLIB_USE_ACTUAL365NOLEAP</code>, but this is no longer
required.
</p>
<p>Also note that <code>ActualActual</code> without explicit convention specification is hard deprecated
as of QuantLib 1.23. This is only soft-deprecated in RQuantLib by explicitly passing in the same
default convention. Previously RQuantLib allowed users to define
<code>RQUANTLIB_USE_ACTUALACTUAL</code>, but this is no longer required.
</p>


<h3>Value</h3>

<p>Each function converts the given character value into a corresponding
numeric entry. For <code>matchParams</code>, an named vector of strings is
converted into a named vector of numerics..
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>

<hr>
<h2 id='Calendars'>Calendar functions from QuantLib</h2><span id='topic+isBusinessDay'></span><span id='topic+businessDay'></span><span id='topic+isHoliday'></span><span id='topic+isWeekend'></span><span id='topic+isEndOfMonth'></span><span id='topic+getEndOfMonth'></span><span id='topic+endOfMonth'></span><span id='topic+getHolidayList'></span><span id='topic+holidayList'></span><span id='topic+getBusinessDayList'></span><span id='topic+businessDayList'></span><span id='topic+setCalendarContext'></span><span id='topic+adjust'></span><span id='topic+advance'></span><span id='topic+businessDaysBetween'></span><span id='topic+dayCount'></span><span id='topic+yearFraction'></span><span id='topic+setEvaluationDate'></span><span id='topic+advanceDate'></span><span id='topic+addHolidays'></span><span id='topic+removeHolidays'></span><span id='topic+calendars'></span>

<h3>Description</h3>

<p>The <code>isBusinessDay</code> function evaluates the given dates in the context
of the given calendar, and returns a vector of booleans indicating
business day status. <code>BusinessDay</code> is also
recognised (but may be deprecated one day).
</p>
<p>The <code>isHoliday</code> function evaluates the given dates in the context
of the given calendar, and returns a vector of booleans indicating
holiday day status.
</p>
<p>The <code>isWeekend</code> function evaluates the given dates in the context
of the given calendar, and returns a vector of booleans indicating
weekend status.
</p>
<p>The <code>isEndOfMonth</code> function evaluates the given dates in the context
of the given calendar, and returns a vector of booleans indicating
end of month status.
</p>
<p>The <code>getEndOfMonth</code> function evaluates the given dates in the context
of the given calendar, and returns a vector that corresponds to the end
of month. <code>endOfMonth</code> is a deprecated form for this function.
</p>
<p>The <code>getHolidayList</code> function returns the holidays between the
given dates, with an option to exclude weekends.  <code>holidayList</code> is
a deprecated form for this function. Similarly,
<code>getBusinessDayList</code> and, for symmetry, <code>businessDayList</code>
return the list of business days; this always excludes weekends.
</p>
<p>The <code>adjust</code> function evaluates the given dates in the context
of the given calendar, and returns a vector that adjusts each input
dates to the appropriate near business day with respect to the given convention.
</p>
<p>The <code>advance</code> function evaluates the given dates in the context
of the given calendar, and returns a vector that advances the given
dates of the given number of business days and returns the result.
This functions gets called either with both argument <code>n</code> and
<code>timeUnit</code>, or with argument <code>period</code>.
</p>
<p>The <code>businessDaysBetween</code> function evaluates two given dates in the context
of the given calendar, and returns a vector that gives the number of
business day between.
</p>
<p>The <code>dayCount</code> function returns the number of day between two dates
given a day counter, see <a href="#topic+Enum">Enum</a>.
</p>
<p>The <code>yearFraction</code> function returns year fraction between two dates
given a day counter, see <a href="#topic+Enum">Enum</a>.
</p>
<p>The <code>setCalendarContext</code> function sets three values to a singleton
instance at the C++ layer.
</p>
<p>The <code>setEvaluationDate</code> function sets the evaluation date used by
the QuantLib pricing engines.
</p>
<p>The <code>advanceDate</code> function advances the given date by the given
number of days in the current calendar instance.
</p>
<p>The <code>addHolidays</code> and <code>removeHolidays</code> add (and remove)
holidays to (from) the given calendar. Note that this change is
transitory and does not persist the session as all actual calendar
information comes from the QuantLib library that this package is linked
against.
</p>
<p>The <code>calendars</code> vector contains all calendar identifiers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isBusinessDay(calendar, dates)
businessDay(calendar="TARGET", dates=Sys.Date())  # deprecated form
isHoliday(calendar, dates)
isWeekend(calendar, dates)
isEndOfMonth(calendar, dates)
getEndOfMonth(calendar, dates)
endOfMonth(calendar="TARGET", dates=Sys.Date())
getHolidayList(calendar, from, to, includeWeekends=FALSE)
holidayList(calendar="TARGET", from=Sys.Date(), to = Sys.Date() + 5,
            includeWeekends=FALSE)
getBusinessDayList(calendar, from, to)
businessDayList(calendar="TARGET", from=Sys.Date(), to = Sys.Date() + 5)
adjust(calendar, dates, bdc = 0L)
advance(calendar="TARGET", dates=Sys.Date(), n, timeUnit, period, bdc = 0, emr =0)
businessDaysBetween(calendar, from, to, includeFirst = TRUE, includeLast = FALSE)
dayCount(startDates, endDates, dayCounters)
yearFraction(startDates, endDates, dayCounters)
setCalendarContext(calendar, fixingDays, settleDate)
setEvaluationDate(evalDate)
addHolidays(calendar, dates)
removeHolidays(calendar, dates)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Calendars_+3A_calendar">calendar</code></td>
<td>
<p>A string identifying one of the supported QuantLib
calendars, see Details for more</p>
</td></tr>
<tr><td><code id="Calendars_+3A_dates">dates</code></td>
<td>
<p>A vector (or scalar) of <code>Date</code> types.</p>
</td></tr>
<tr><td><code id="Calendars_+3A_from">from</code></td>
<td>
<p>A vector (or scalar) of <code>Date</code> types.</p>
</td></tr>
<tr><td><code id="Calendars_+3A_to">to</code></td>
<td>
<p>A vector (or scalar) of <code>Date</code> types.</p>
</td></tr>
<tr><td><code id="Calendars_+3A_includeweekends">includeWeekends</code></td>
<td>
<p>boolean that indicates whether the calculation
should include the weekends. Default = false</p>
</td></tr>
<tr><td><code id="Calendars_+3A_fixingdays">fixingDays</code></td>
<td>
<p>An integer for the fixing day period, defaults to 2.</p>
</td></tr>
<tr><td><code id="Calendars_+3A_settledate">settleDate</code></td>
<td>
<p>A date on which trades settles, defaults to two days
after the current day.</p>
</td></tr>
<tr><td><code id="Calendars_+3A_n">n</code></td>
<td>
<p>an integer number</p>
</td></tr>
<tr><td><code id="Calendars_+3A_timeunit">timeUnit</code></td>
<td>
<p>A value of 0,1,2,3 that corresponds to Days, Weeks,
Months, and Year; for more detail, see the QuantLib documentation at
<a href="https://www.quantlib.org//reference/group__datetime.html">https://www.quantlib.org//reference/group__datetime.html</a></p>
</td></tr>
<tr><td><code id="Calendars_+3A_period">period</code></td>
<td>
<p>See <a href="#topic+Enum">Enum</a></p>
</td></tr>
<tr><td><code id="Calendars_+3A_bdc">bdc</code></td>
<td>
<p>Business day convention. By default, this value is 0 and correspond to Following convention</p>
</td></tr>
<tr><td><code id="Calendars_+3A_emr">emr</code></td>
<td>
<p>End Of Month rule, default is false</p>
</td></tr>
<tr><td><code id="Calendars_+3A_includefirst">includeFirst</code></td>
<td>
<p>boolean that indicates whether the calculation
should include the first day. Default = true</p>
</td></tr>
<tr><td><code id="Calendars_+3A_includelast">includeLast</code></td>
<td>
<p>Default = false</p>
</td></tr>
<tr><td><code id="Calendars_+3A_startdates">startDates</code></td>
<td>
<p>A vector of <code>Date</code> type.</p>
</td></tr>
<tr><td><code id="Calendars_+3A_enddates">endDates</code></td>
<td>
<p>A vector of <code>Date</code> type.</p>
</td></tr>
<tr><td><code id="Calendars_+3A_daycounters">dayCounters</code></td>
<td>
<p>A vector of numeric type. See <a href="#topic+Enum">Enum</a></p>
</td></tr>
<tr><td><code id="Calendars_+3A_evaldate">evalDate</code></td>
<td>
<p>A single date used for the pricing valuations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The calendars are coming from QuantLib, and the QuantLib documentation
should be consulted for details.
</p>
<p>Currently, the following strings are recognised: TARGET (a default
calendar), Argentina, Australia, Brazil, Canada and Canada/Settlement,
Canada/TSX, China, CzechRepublic, Denmark, Finland, Germany and
Germany/FrankfurtStockExchange, Germany/Settlement, Germany/Xetra,
Germany/Eurex, HongKong, Hungary, Iceland, India, Indonesia, Italy and
Italy/Settlement, Italy/Exchange, Japan, Mexico, NewZealand, Norway,
Poland, Russia, SaudiArabia, Singapore, Slovakia, SouthAfrica,
SouthKorea, SouthKorea/KRX, Sweden, Switzerland, Taiwan, Turkey,
Ukraine, UnitedKingdom and UnitedKingdom/Settlement,
UnitedKingdom/Exchange, UnitedKingdom/Metals, UnitedStates and
UnitedStates/Settlement, UnitedStates/NYSE,
UnitedStates/GovernmentBond, UnitedStates/NERC and WeekendsOnly.
</p>
<p>(In case of multiples entries per country, the country default is listed
right after the country itself. Using the shorter form is equivalent.)
</p>


<h3>Value</h3>

<p>A named vector of booleans each of which is true if the corresponding
date is a business day (or holiday or weekend) in the given calendar.
The element names are
the dates (formatted as text in yyyy-mm-dd format).
</p>
<p>For <code>setCalendarContext</code>, a boolean or NULL in case of error.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>  dates &lt;- seq(from=as.Date("2009-04-07"), to=as.Date("2009-04-14"), by=1)
  isBusinessDay("UnitedStates", dates)
  isBusinessDay("UnitedStates/Settlement", dates)      ## same as previous
  isBusinessDay("UnitedStates/NYSE", dates)            ## stocks
  isBusinessDay("UnitedStates/GovernmentBond", dates)  ## bonds
  isBusinessDay("UnitedStates/NERC", dates)            ## energy

  isHoliday("UnitedStates", dates)
  isHoliday("UnitedStates/Settlement", dates)      ## same as previous
  isHoliday("UnitedStates/NYSE", dates)            ## stocks
  isHoliday("UnitedStates/GovernmentBond", dates)  ## bonds
  isHoliday("UnitedStates/NERC", dates)            ## energy

  isWeekend("UnitedStates", dates)
  isWeekend("UnitedStates/Settlement", dates)      ## same as previous
  isWeekend("UnitedStates/NYSE", dates)            ## stocks
  isWeekend("UnitedStates/GovernmentBond", dates)  ## bonds
  isWeekend("UnitedStates/NERC", dates)            ## energy

  isEndOfMonth("UnitedStates", dates)
  isEndOfMonth("UnitedStates/Settlement", dates)      ## same as previous
  isEndOfMonth("UnitedStates/NYSE", dates)            ## stocks
  isEndOfMonth("UnitedStates/GovernmentBond", dates)  ## bonds
  isEndOfMonth("UnitedStates/NERC", dates)            ## energy

  getEndOfMonth("UnitedStates", dates)
  getEndOfMonth("UnitedStates/Settlement", dates)      ## same as previous
  getEndOfMonth("UnitedStates/NYSE", dates)            ## stocks
  getEndOfMonth("UnitedStates/GovernmentBond", dates)  ## bonds
  getEndOfMonth("UnitedStates/NERC", dates)            ## energy

  from &lt;- as.Date("2009-04-07")
  to&lt;-as.Date("2009-04-14")
  getHolidayList("UnitedStates", from, to)
  to &lt;- as.Date("2009-10-7")
  getHolidayList("UnitedStates", from, to)

  dates &lt;- seq(from=as.Date("2009-04-07"), to=as.Date("2009-04-14"), by=1)

  adjust("UnitedStates", dates)
  adjust("UnitedStates/Settlement", dates)      ## same as previous
  adjust("UnitedStates/NYSE", dates)            ## stocks
  adjust("UnitedStates/GovernmentBond", dates)  ## bonds
  adjust("UnitedStates/NERC", dates)            ## energy

  advance("UnitedStates", dates, 10, 0)
  advance("UnitedStates/Settlement", dates, 10, 1)      ## same as previous
  advance("UnitedStates/NYSE", dates, 10, 2)            ## stocks
  advance("UnitedStates/GovernmentBond", dates,  10, 3) ## bonds
  advance("UnitedStates/NERC", dates, period = 3)       ## energy

  from &lt;- as.Date("2009-04-07")
  to&lt;-as.Date("2009-04-14")
  businessDaysBetween("UnitedStates", from, to)

  startDates &lt;- seq(from=as.Date("2009-04-07"), to=as.Date("2009-04-14"),by=1)
  endDates &lt;- seq(from=as.Date("2009-11-07"), to=as.Date("2009-11-14"), by=1)
  dayCounters &lt;- c(0,1,2,3,4,5,6,1)
  dayCount(startDates, endDates, dayCounters)
  yearFraction(startDates, endDates, dayCounters)

  head(calendars, 10)
</code></pre>

<hr>
<h2 id='CallableBond'>CallableBond evaluation</h2><span id='topic+CallableBond'></span><span id='topic+CallableBond.default'></span>

<h3>Description</h3>

<p>The <code>CallableBond</code> function sets up and evaluates a callable fixed rate bond using Hull-White model
and a TreeCallableFixedBondEngine pricing engine. For more detail, see the source codes in quantlib's example folder, Examples/CallableBond/CallableBond.cpp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
CallableBond(bondparams, hullWhite, coupon, dateparams)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CallableBond_+3A_bondparams">bondparams</code></td>
<td>
<p>a named list whose elements are:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>issueDate</code>  </td><td style="text-align: left;"> a Date, the bond's issue date </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>maturityDate</code> </td><td style="text-align: left;"> a Date, the bond's maturity date </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>faceAmount</code> </td><td style="text-align: left;"> (Optional) a double, face amount of the bond. </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> Default value is 100.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>redemption</code> </td><td style="text-align: left;"> (Optional) a double, percentage of the initial face </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> amount that will be returned at maturity date. </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> Default value is 100. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>callSch</code> </td><td style="text-align: left;"> (Optional) a data frame whose columns are "Price",</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> "Type" and "Date" corresponding to QuantLib's </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> CallabilitySchedule. Defaule is an empty frame, or no callability.</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="CallableBond_+3A_hullwhite">hullWhite</code></td>
<td>
<p>a named list whose elements are parameters needed to set up a HullWhite pricing engine in QuantLib:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>term</code>  </td><td style="text-align: left;"> a double, to set up a flat rate yield term structure </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>alpha</code> </td><td style="text-align: left;"> a double, Hull-White model's alpha value </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>sigma</code> </td><td style="text-align: left;"> a double, Hull-White model's sigma value </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>gridIntervals</code>. </td><td style="text-align: left;"> a double, time intervals parameter to </td>
</tr>
<tr>
 <td style="text-align: left;">
                  </td><td style="text-align: left;"> set up the TreeCallableFixedBondEngine </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>Currently, the codes only support a flat rate yield term structure. For more detail, see QuantLib's doc on HullWhite
and TreeCallableFixedBondEngine.
</p>
</td></tr>
<tr><td><code id="CallableBond_+3A_coupon">coupon</code></td>
<td>
<p>a numeric vector of coupon rates</p>
</td></tr>
<tr><td><code id="CallableBond_+3A_dateparams">dateparams</code></td>
<td>
<p>(Optional) a named list, QuantLib's date parameters of the bond.
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>settlementDays</code> </td><td style="text-align: left;"> (Optional) a double, settlement days. </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> Default value is 1.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>calendar</code> </td><td style="text-align: left;"> (Optional) a string, either 'us' or 'uk' </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> corresponding to US Goverment Bond </td>
</tr>
<tr>
 <td style="text-align: left;">
    		   </td><td style="text-align: left;"> calendar and UK Exchange calendar.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  Default value is 'us'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dayCounter</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> day counter convention.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  See <a href="#topic+Enum">Enum</a>. Default value is 'Thirty360' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>period</code>  </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;">  interest compounding interval. See <a href="#topic+Enum">Enum</a>. </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;"> Default value is 'Semiannual'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>businessDayConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
                     </td><td style="text-align: left;"> business day convention. </td>
</tr>
<tr>
 <td style="text-align: left;">
     </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>terminationDateConvention</code> </td><td style="text-align: left;"> (Optional) a number or string </td>
</tr>
<tr>
 <td style="text-align: left;">
                             </td><td style="text-align: left;"> termination day convention.</td>
</tr>
<tr>
 <td style="text-align: left;">
                             </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is'Following'.</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>See example below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.
</p>


<h3>Value</h3>

<p>The <code>CallableBond</code> function returns an object of class
<code>CallableBond</code> (which inherits from class
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>net present value of the bond</p>
</td></tr>
<tr><td><code>cleanPrice</code></td>
<td>
<p>price price of the bond</p>
</td></tr>
<tr><td><code>dirtyPrice</code></td>
<td>
<p>dirty price of the bond</p>
</td></tr>
<tr><td><code>accruedAmount</code></td>
<td>
<p>accrued amount of the bond</p>
</td></tr>
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code>cashFlows</code></td>
<td>
<p>cash flows of the bond</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a> for the inplementation; Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {  # the example is too computationally expensive for normal checks
    #set-up a HullWhite according to example from QuantLib
    HullWhite &lt;- list(term = 0.055, alpha = 0.03, sigma = 0.01, gridIntervals = 40)

    #callability schedule dataframe
    Price &lt;- rep(as.double(100),24)
    Type &lt;- rep(as.character("C"), 24)
    Date &lt;- seq(as.Date("2006-09-15"), by = '3 months', length = 24)
    callSch &lt;- data.frame(Price, Type, Date)
    callSch$Type &lt;- as.character(callSch$Type)

    bondparams &lt;- list(faceAmount=100, issueDate = as.Date("2004-09-16"),
                       maturityDate=as.Date("2012-09-16"), redemption=100,
                       callSch = callSch)
    dateparams &lt;- list(settlementDays=3, calendar="UnitedStates/GovernmentBond",
                       dayCounter = "ActualActual",
                       period="Quarterly",
                       businessDayConvention = "Unadjusted",
                       terminationDateConvention= "Unadjusted")
    coupon &lt;- c(0.0465)
    setEvaluationDate(as.Date("2004-11-22"))

    CallableBond(bondparams, HullWhite, coupon, dateparams)
    #examples using default values
    CallableBond(bondparams, HullWhite, coupon)
    dateparams &lt;- list(period="Quarterly",
                       businessDayConvention = "Unadjusted",
                       terminationDateConvention= "Unadjusted")
    CallableBond(bondparams, HullWhite, coupon, dateparams)

    bondparams &lt;- list(issueDate = as.Date("2004-09-16"),
                       maturityDate=as.Date("2012-09-16"))
    CallableBond(bondparams, HullWhite, coupon, dateparams)
}
</code></pre>

<hr>
<h2 id='ConvertibleBond'>Convertible Bond evaluation for Fixed, Floating and Zero Coupon</h2><span id='topic+ConvertibleFixedCouponBond'></span><span id='topic+ConvertibleFixedCouponBond.default'></span><span id='topic+ConvertibleFloatingCouponBond'></span><span id='topic+ConvertibleFloatingCouponBond.default'></span><span id='topic+ConvertibleZeroCouponBond'></span><span id='topic+ConvertibleZeroCouponBond.default'></span>

<h3>Description</h3>

<p>The <code>ConvertibleFixedCouponBond</code> function setups and evaluates a
ConvertibleFixedCouponBond using QuantLib's BinomialConvertibleEngine
and BlackScholesMertonProcess
The NPV, clean price, dirty price, accrued interest, yield and cash flows of
the bond is returned. For detail, see test-suite/convertiblebond.cpp
</p>
<p>The <code>ConvertibleFloatingCouponBond</code> function setups and evaluates a
ConvertibleFixedCouponBond using QuantLib's BinomialConvertibleEngine
and BlackScholesMertonProcess
The NPV, clean price, dirty price, accrued interest, yield and cash flows of
the bond is returned. For detail, see test-suite/convertiblebond.cpp
</p>
<p>The <code>ConvertibleZeroCouponBond</code> function setups and evaluates a
ConvertibleFixedCouponBond using QuantLib's BinomialConvertibleEngine
and BlackScholesMertonProcess
The NPV, clean price, dirty price, accrued interest, yield and cash flows of
the bond is returned. For detail, see <code>test-suite/convertiblebond.cpp</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
ConvertibleFloatingCouponBond(bondparams, iborindex, spread, process, dateparams)
## Default S3 method:
ConvertibleFixedCouponBond(bondparams, coupon, process, dateparams)
## Default S3 method:
ConvertibleZeroCouponBond(bondparams, process, dateparams)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ConvertibleBond_+3A_bondparams">bondparams</code></td>
<td>
<p>bond parameters, a named list whose elements are:
</p>

<table>
<tr>
 <td style="text-align: left;">
       <code>issueDate</code>     </td><td style="text-align: left;"> a Date, the bond's issue date</td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>maturityDate</code>  </td><td style="text-align: left;"> a Date, the bond's maturity date</td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>creditSpread</code>  </td><td style="text-align: left;"> a double, credit spread parameter </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;">  in the constructor of the bond. </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>conversitionRatio</code>  </td><td style="text-align: left;"> a double, conversition ratio </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> parameter in the constructor of the bond. </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>exercise</code> 	</td><td style="text-align: left;"> (Optional) a string, either "eu" for European </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> 	option, or "am" for American option. </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;">  Default value is 'am'.</td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>faceAmount</code>    </td><td style="text-align: left;"> (Optional) a double, face amount of the bond.</td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;">  Default value is 100. </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>redemption</code>    </td><td style="text-align: left;"> (Optional) a double, percentage of the initial </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> 	face amount that will be returned at maturity </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;">    date. Default value is 100.</td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>divSch</code> </td><td style="text-align: left;"> (Optional) a data frame whose columns are </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> "Type", "Amount", "Rate", and "Date" </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> corresponding to QuantLib's DividendSchedule. </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;">  Default value is an empty frame, or no dividend. </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>callSch</code> </td><td style="text-align: left;"> (Optional) a data frame whose columns are "Price",</td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> "Type" and "Date" corresponding to QuantLib's </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;"> CallabilitySchedule. Defaule is an empty frame, </td>
</tr>
<tr>
 <td style="text-align: left;">
                </td><td style="text-align: left;"> or no callability.</td>
</tr>
<tr>
 <td style="text-align: left;">
     </td>
</tr>

</table>

</td></tr>
<tr><td><code id="ConvertibleBond_+3A_iborindex">iborindex</code></td>
<td>
<p>a DiscountCurve object, represents an IborIndex</p>
</td></tr>
<tr><td><code id="ConvertibleBond_+3A_spread">spread</code></td>
<td>
<p> a double vector, represents paramter 'spreads' in ConvertibleFloatingBond's constructor. </p>
</td></tr>
<tr><td><code id="ConvertibleBond_+3A_coupon">coupon</code></td>
<td>
<p>a double vector of coupon rate</p>
</td></tr>
<tr><td><code id="ConvertibleBond_+3A_process">process</code></td>
<td>
<p>arguments to construct a BlackScholes process and set up the binomial pricing engine for this bond.
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>underlying</code> </td><td style="text-align: left;"> a double, flat underlying term structure </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>volatility</code> </td><td style="text-align: left;"> a double, flat volatility term structure </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dividendYield</code> </td><td style="text-align: left;"> a DiscountCurve object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>riskFreeRate</code> </td><td style="text-align: left;"> a DiscountCurve object </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="ConvertibleBond_+3A_dateparams">dateparams</code></td>
<td>
<p>(Optional) a named list, QuantLib's date parameters of the bond.
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>settlementDays</code> </td><td style="text-align: left;"> (Optional) a double, settlement days. </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> Default value is 1.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>calendar</code> </td><td style="text-align: left;"> (Optional) a string, either 'us' or 'uk' </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> corresponding to US Goverment Bond </td>
</tr>
<tr>
 <td style="text-align: left;">
    		   </td><td style="text-align: left;"> calendar and UK Exchange calendar.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  Default value is 'us'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dayCounter</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> day counter convention.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  See <a href="#topic+Enum">Enum</a>. Default value is 'Thirty360' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>period</code>  </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;">  interest compounding interval. See <a href="#topic+Enum">Enum</a>. </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;"> Default value is 'Semiannual'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>businessDayConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
                     </td><td style="text-align: left;"> business day convention. </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>See the examples below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.
</p>


<h3>Value</h3>

<p>The <code>ConvertibleFloatingCouponBond</code> function returns an object of class
<code>ConvertibleFloatingCouponBond</code> (which inherits from class
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>net present value of the bond</p>
</td></tr>
<tr><td><code>cleanPrice</code></td>
<td>
<p>price price of the bond</p>
</td></tr>
<tr><td><code>dirtyPrice</code></td>
<td>
<p>dirty price of the bond</p>
</td></tr>
<tr><td><code>accruedAmount</code></td>
<td>
<p>accrued amount of the bond</p>
</td></tr>
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code>cashFlows</code></td>
<td>
<p>cash flows of the bond</p>
</td></tr>
</table>
<p>The <code>ConvertibleFixedCouponBond</code> function returns an object of class
<code>ConvertibleFixedCouponBond</code> (which inherits from class
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>net present value of the bond</p>
</td></tr>
<tr><td><code>cleanPrice</code></td>
<td>
<p>price price of the bond</p>
</td></tr>
<tr><td><code>dirtyPrice</code></td>
<td>
<p>dirty price of the bond</p>
</td></tr>
<tr><td><code>accruedAmount</code></td>
<td>
<p>accrued amount of the bond</p>
</td></tr>
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code>cashFlows</code></td>
<td>
<p>cash flows of the bond</p>
</td></tr>
</table>
<p>The <code>ConvertibleZeroCouponBond</code> function returns an object of class
<code>ConvertibleZeroCouponBond</code> (which inherits from class
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>net present value of the bond</p>
</td></tr>
<tr><td><code>cleanPrice</code></td>
<td>
<p>price price of the bond</p>
</td></tr>
<tr><td><code>dirtyPrice</code></td>
<td>
<p>dirty price of the bond</p>
</td></tr>
<tr><td><code>accruedAmount</code></td>
<td>
<p>accrued amount of the bond</p>
</td></tr>
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code>cashFlows</code></td>
<td>
<p>cash flows of the bond</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a> for the inplementation; Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code>
</p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># commented-out as it runs longer than CRAN likes
## Not run: 
#this follow an example in test-suite/convertiblebond.cpp
params &lt;- list(tradeDate=Sys.Date()-2,
               settleDate=Sys.Date(),
               dt=.25,
               interpWhat="discount",
               interpHow="loglinear")


dividendYield &lt;- DiscountCurve(params, list(flat=0.02))
riskFreeRate &lt;- DiscountCurve(params, list(flat=0.05))

dividendSchedule &lt;- data.frame(Type=character(0), Amount=numeric(0),
                            Rate = numeric(0), Date = as.Date(character(0)))
callabilitySchedule &lt;- data.frame(Price = numeric(0), Type=character(0),
                          Date = as.Date(character(0)))

process &lt;- list(underlying=50, divYield = dividendYield,
                rff = riskFreeRate, volatility=0.15)

today &lt;- Sys.Date()
bondparams &lt;- list(exercise="am", faceAmount=100,
                   divSch = dividendSchedule,
                   callSch = callabilitySchedule,
                   redemption=100,
                   creditSpread=0.005,
                   conversionRatio = 0.0000000001,
                   issueDate=as.Date(today+2),
                   maturityDate=as.Date(today+3650))
dateparams &lt;- list(settlementDays=3,
                   dayCounter="ActualActual",
                   period = "Semiannual", calendar = "UnitedStates/GovernmentBond",
                   businessDayConvention="Following")

lengths &lt;- c(2,4,6,8,10,12,14,16,18,20,22,24,26,28,30)
coupons &lt;- c( 0.0200, 0.0225, 0.0250, 0.0275, 0.0300,
              0.0325, 0.0350, 0.0375, 0.0400, 0.0425,
              0.0450, 0.0475, 0.0500, 0.0525, 0.0550 )
marketQuotes &lt;- rep(100, length(lengths))
curvedateparams &lt;- list(settlementDays=0, period="Annual",
                   dayCounter="ActualActual",
                  businessDayConvention ="Unadjusted")
curveparams &lt;- list(method="ExponentialSplinesFitting",
                    origDate = Sys.Date())
curve &lt;- FittedBondCurve(curveparams, lengths, coupons, marketQuotes, curvedateparams)
iborindex &lt;- list(type="USDLibor", length=6,
                  inTermOf="Month", term=curve)
spreads &lt;- c()
#ConvertibleFloatingCouponBond(bondparams, iborindex, spreads, process, dateparams)


#example using default values
#ConvertibleFloatingCouponBond(bondparams, iborindex,spreads, process)

dateparams &lt;- list(settlementDays=3,
                   period = "Semiannual",
                   businessDayConvention="Unadjusted")

bondparams &lt;- list(
                   creditSpread=0.005, conversionRatio = 0.0000000001,
                   issueDate=as.Date(today+2),
                   maturityDate=as.Date(today+3650))
#ConvertibleFloatingCouponBond(bondparams, iborindex,
#spreads, process, dateparams)



#this follow an example in test-suite/convertiblebond.cpp
#for ConvertibleFixedCouponBond

#set up arguments to build a pricing engine.
params &lt;- list(tradeDate=Sys.Date()-2,
               settleDate=Sys.Date(),
               dt=.25,
               interpWhat="discount",
               interpHow="loglinear")
times &lt;- seq(0,10,.1)

dividendYield &lt;- DiscountCurve(params, list(flat=0.02), times)
riskFreeRate &lt;- DiscountCurve(params, list(flat=0.05), times)

dividendSchedule &lt;- data.frame(Type=character(0), Amount=numeric(0),
                            Rate = numeric(0), Date = as.Date(character(0)))
callabilitySchedule &lt;- data.frame(Price = numeric(0), Type=character(0),
                          Date = as.Date(character(0)))

process &lt;- list(underlying=50, divYield = dividendYield,
                rff = riskFreeRate, volatility=0.15)

today &lt;- Sys.Date()
bondparams &lt;- list(exercise="am", faceAmount=100, divSch = dividendSchedule,
                   callSch = callabilitySchedule, redemption=100,
                   creditSpread=0.005, conversionRatio = 0.0000000001,
                   issueDate=as.Date(today+2),
                   maturityDate=as.Date(today+3650))
dateparams &lt;- list(settlementDays=3,
                   dayCounter="Actual360",
                   period = "Once", calendar = "UnitedStates/GovernmentBond",
                   businessDayConvention="Following"
                   )
coupon &lt;- c(0.05)
ConvertibleFixedCouponBond(bondparams, coupon, process, dateparams)

#example with default value
ConvertibleFixedCouponBond(bondparams, coupon, process)

dateparams &lt;- list(settlementDays=3,
                   dayCounter="Actual360")
ConvertibleFixedCouponBond(bondparams, coupon, process, dateparams)

bondparams &lt;- list(creditSpread=0.005, conversionRatio = 0.0000000001,
                   issueDate=as.Date(today+2),
                   maturityDate=as.Date(today+3650))
ConvertibleFixedCouponBond(bondparams, coupon, process, dateparams)



#this follow an example in test-suite/convertiblebond.cpp
params &lt;- list(tradeDate=Sys.Date()-2,
               settleDate=Sys.Date(),
               dt=.25,
               interpWhat="discount",
               interpHow="loglinear")
times &lt;- seq(0,10,.1)


dividendYield &lt;- DiscountCurve(params, list(flat=0.02), times)
riskFreeRate &lt;- DiscountCurve(params, list(flat=0.05), times)

dividendSchedule &lt;- data.frame(Type=character(0), Amount=numeric(0),
                            Rate = numeric(0), Date = as.Date(character(0)))
callabilitySchedule &lt;- data.frame(Price = numeric(0), Type=character(0),
                          Date = as.Date(character(0)))

process &lt;- list(underlying=50, divYield = dividendYield,
                rff = riskFreeRate, volatility=0.15)

today &lt;- Sys.Date()
bondparams &lt;- list(exercise="am", faceAmount=100, divSch = dividendSchedule,
                   callSch = callabilitySchedule, redemption=100,
                   creditSpread=0.005, conversionRatio = 0.0000000001,
                   issueDate=as.Date(today+2),
                   maturityDate=as.Date(today+3650))
dateparams &lt;- list(settlementDays=3,
                   dayCounter="Actual360",
                   period = "Once", calendar = "UnitedStates/GovernmentBond",
                   businessDayConvention="Following"
                   )

ConvertibleZeroCouponBond(bondparams, process, dateparams)

#example with default values
ConvertibleZeroCouponBond(bondparams, process)


bondparams &lt;- list(creditSpread=0.005,
                   conversionRatio=0.0000000001,
                   issueDate=as.Date(today+2),
                   maturityDate=as.Date(today+3650))

dateparams &lt;- list(settlementDays=3, dayCounter='Actual360')
ConvertibleZeroCouponBond(bondparams, process, dateparams)
ConvertibleZeroCouponBond(bondparams, process)

## End(Not run)
</code></pre>

<hr>
<h2 id='DiscountCurve'>Returns the discount curve (with zero rates and forwards) given times</h2><span id='topic+DiscountCurve'></span><span id='topic+DiscountCurve.default'></span><span id='topic+plot.DiscountCurve'></span>

<h3>Description</h3>

<p><code>DiscountCurve</code> constructs the spot term structure of interest
rates based on input market data including the settlement date,
deposit rates, futures prices, FRA rates, or swap rates, in various
combinations. It returns the corresponding discount factors, zero
rates, and forward rates for a vector of times that is specified
as input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DiscountCurve(params, tsQuotes, times, legparams)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="DiscountCurve_+3A_params">params</code></td>
<td>
<p>A list specifying the <code>tradeDate</code> (month/day/year),
<code>settleDate</code>, forward rate
time span <code>dt</code>, and two curve
construction options: <code>interpWhat</code> (with possible values
<code>discount</code>, <code>forward</code>, and <code>zero</code>) and
<code>interpHow</code> (with possible values <code>linear</code>,
<code>loglinear</code>, and <code>spline</code>). <code>spline</code> here means cubic spline
interpolation of the <code>interpWhat</code> value.
</p>
</td></tr>
<tr><td><code id="DiscountCurve_+3A_tsquotes">tsQuotes</code></td>
<td>
<p>Market quotes used to construct the spot term
structure of interest rates. Must be a list of name/value pairs,
where the currently recognized names are:
</p>

<table>
<tr>
 <td style="text-align: left;">
      <code>flat</code> </td><td style="text-align: left;"> rate for a flat yield curve</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>d1w</code>  </td><td style="text-align: left;"> 1-week deposit rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>d1m</code>  </td><td style="text-align: left;"> 1-month deposit rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>d3m</code>  </td><td style="text-align: left;"> 3-month deposit rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>d6m</code>  </td><td style="text-align: left;"> 6-month deposit rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>d9m</code>  </td><td style="text-align: left;"> 9-month deposit rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>d1y</code>  </td><td style="text-align: left;"> 1-year deposit rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s2y</code>  </td><td style="text-align: left;"> 2-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s3y</code>  </td><td style="text-align: left;"> 3-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s4y</code>  </td><td style="text-align: left;"> 4-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s5y</code>  </td><td style="text-align: left;"> 5-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s6y</code>  </td><td style="text-align: left;"> 6-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s7y</code>  </td><td style="text-align: left;"> 7-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s8y</code>  </td><td style="text-align: left;"> 8-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s9y</code>  </td><td style="text-align: left;"> 9-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s10y</code> </td><td style="text-align: left;"> 10-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s12y</code> </td><td style="text-align: left;"> 12-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s15y</code> </td><td style="text-align: left;"> 15-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s20y</code> </td><td style="text-align: left;"> 20-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s25y</code>  </td><td style="text-align: left;"> 25-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s30y</code> </td><td style="text-align: left;"> 30-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s40y</code> </td><td style="text-align: left;"> 40-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s50y</code> </td><td style="text-align: left;"> 50-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s60y</code> </td><td style="text-align: left;"> 60-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s70y</code> </td><td style="text-align: left;"> 70-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s80y</code> </td><td style="text-align: left;"> 80-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s90y</code> </td><td style="text-align: left;"> 90-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>s100y</code> </td><td style="text-align: left;"> 100-year swap rate</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>fut1</code>--<code>fut8</code> </td><td style="text-align: left;"> 3-month futures contracts</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>fra3x6</code> </td><td style="text-align: left;"> 3x6 FRA</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>fra6x9</code> </td><td style="text-align: left;"> 6x9 FRA</td>
</tr>
<tr>
 <td style="text-align: left;">
      <code>fra6x12</code></td><td style="text-align: left;"> 6x12 FRA
    </td>
</tr>

</table>

<p>Here rates are expected as fractions (so 5% means .05).
If <code>flat</code> is specified it must be the first and only item in
the list. The eight futures correspond to the first eight IMM
dates. The maturity dates of the instruments specified need not be
ordered, but they must be distinct.
</p>
</td></tr>
<tr><td><code id="DiscountCurve_+3A_times">times</code></td>
<td>
<p>A vector of times at which to return the discount
factors, forward rates, and zero rates. Times must be specified such
that the largest time plus <code>dt</code> does not exceed the longest
maturity of the instruments used for calibration (no extrapolation).
</p>
</td></tr>
<tr><td><code id="DiscountCurve_+3A_legparams">legparams</code></td>
<td>
<p>A list specifying the <code>dayCounter</code> the day count convention for the
fixed leg (default is Thirty360), and  <code>fixFreq</code>, fixed coupon frequecny (defualt is Annual), <code>floatFreq</code>,
floating leg reset frequency (default is Semiannual).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on <code>QuantLib</code> Version 0.3.10. It
introduces support for fixed-income instruments in <code>RQuantLib</code>.
</p>
<p>Forward rates and zero rates are computed assuming continuous
compounding, so the forward rate <code class="reqn">f</code> over the
period from <code class="reqn">t_1</code> to <code class="reqn">t_2</code> is determined by the
relation
</p>
<p style="text-align: center;"><code class="reqn">d_1/d_2 = e^{f (t_2 - t_1)},</code>
</p>

<p>where <code class="reqn">d_1</code> and <code class="reqn">d_2</code> are discount factors
corresponding to the two times. In the case of the zero rate
<code class="reqn">t_1</code> is the current time (the spot date).
</p>
<p>Curve construction can be a delicate problem and the algorithms may
fail for some input data sets and/or some combinations of the
values for <code>interpWhat</code> and <code>interpHow</code>.
Fortunately, the C++ exception mechanism seems to work well with the R
interface, and <code>QuantLib</code> exceptions are propagated back to the
R user, usually with a message that indicates what went wrong. (The
first part of the message contains technical information about the
precise location of the problem in the <code>QuantLib</code> code. Scroll to
the end to find information that is meaningful to the R user.)
</p>


<h3>Value</h3>

<p><code>DiscountCurve</code> returns a list containing:
</p>
<table role = "presentation">
<tr><td><code>times</code></td>
<td>
<p>Vector of input times</p>
</td></tr>
<tr><td><code>discounts</code></td>
<td>
<p>Corresponding discount factors</p>
</td></tr>
<tr><td><code>forwards</code></td>
<td>
<p>Corresponding forward rates with time span <code>dt</code></p>
</td></tr>
<tr><td><code>zerorates</code></td>
<td>
<p>Corresponding zero coupon rates</p>
</td></tr>
<tr><td><code>flatQuotes</code></td>
<td>
<p>True if a flat quote was used, False otherwise</p>
</td></tr>
<tr><td><code>params</code></td>
<td>
<p>The input parameter list</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Dominick Samperi</p>


<h3>References</h3>

<p>Brigo, D. and Mercurio, F. (2001) <em>Interest Rate Models: Theory and
Practice</em>, Springer-Verlag, New York.
</p>
<p>For information about <code>QuantLib</code> see <a href="https://www.quantlib.org/">https://www.quantlib.org/</a>.
</p>
<p>For information about <code>RQuantLib</code> see
<a href="http://dirk.eddelbuettel.com/code/rquantlib.html">http://dirk.eddelbuettel.com/code/rquantlib.html</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BermudanSwaption">BermudanSwaption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
savepar &lt;- par(mfrow=c(3,3), mar=c(4,4,2,0.5))

## This data is taken from sample code shipped with QuantLib 0.9.7
## from the file Examples/Swap/swapvaluation
params &lt;- list(tradeDate=as.Date('2004-09-20'),
               settleDate=as.Date('2004-09-22'),
               dt=.25,
               interpWhat="discount",
               interpHow="loglinear")
setEvaluationDate(as.Date("2004-09-20"))

## We get numerical issue for the spline interpolation if we add
## any on of these three extra futures -- the original example
## creates different curves based on different deposit, fra, futures
## and swap data
## Removing s2y helps, as kindly pointed out by Luigi Ballabio
tsQuotes &lt;- list(d1w = 0.0382,
                 d1m = 0.0372,
                 d3m = 0.0363,
                 d6m = 0.0353,
                 d9m = 0.0348,
                 d1y = 0.0345,
                 fut1=96.2875,
                 fut2=96.7875,
                 fut3=96.9875,
                 fut4=96.6875,
                 fut5=96.4875,
                 fut6=96.3875,
                 fut7=96.2875,
                 fut8=96.0875,
#                 s2y = 0.037125,
                 s3y = 0.0398,
                 s5y = 0.0443,
                 s10y = 0.05165,
                 s15y = 0.055175)

times &lt;- seq(0,10,.1)

# Loglinear interpolation of discount factors
curves &lt;- DiscountCurve(params, tsQuotes, times)
plot(curves,setpar=FALSE)

# Linear interpolation of discount factors
params$interpHow="linear"
curves &lt;- DiscountCurve(params, tsQuotes, times)
plot(curves,setpar=FALSE)

# Spline interpolation of discount factors
params$interpHow="spline"
curves &lt;- DiscountCurve(params, tsQuotes, times)
plot(curves,setpar=FALSE)

par(savepar)

## End(Not run)
</code></pre>

<hr>
<h2 id='Enum'>Documentation for parameters</h2><span id='topic+Enum'></span>

<h3>Description</h3>

<p>Reference for parameters when constructing a bond
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Enum_+3A_daycounter">DayCounter</code></td>
<td>
<p>an int value
</p>

<table>
<tr>
 <td style="text-align: left;">
         <code>0</code> </td><td style="text-align: left;"> Actual360 </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>1</code> </td><td style="text-align: left;"> Actual365Fixed </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>2</code> </td><td style="text-align: left;"> ActualActual (NB: soft deprecated, defaults to ActualActual.ISDA)</td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>3</code> </td><td style="text-align: left;"> ActualBusiness252 </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>4</code> </td><td style="text-align: left;"> OneDayCounter </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>5</code> </td><td style="text-align: left;"> SimpleDayCounter </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>6</code> </td><td style="text-align: left;"> Thirty360 (NB: soft deprecated, defaults to Thirty360.BondBasis) </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>7</code> </td><td style="text-align: left;"> Actual365Fixed.NoLeap (NB: Actual365NoLeap if QuantLib version &lt; 1.16) </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>8</code> </td><td style="text-align: left;"> ActualActual.ISMA </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>9</code> </td><td style="text-align: left;"> ActualActual.Bond </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>10</code> </td><td style="text-align: left;"> ActualActual.ISDA </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>11</code> </td><td style="text-align: left;"> ActualActual.Historical </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>12</code> </td><td style="text-align: left;"> ActualActual.AFB </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>13</code> </td><td style="text-align: left;"> ActualActual.Euro </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>14</code> </td><td style="text-align: left;"> Thirty360.USA </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>15</code> </td><td style="text-align: left;"> Thirty360.BondBasis </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>16</code> </td><td style="text-align: left;"> Thirty360.European </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>17</code> </td><td style="text-align: left;"> Thirty360.EurobondBasis </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>18</code> </td><td style="text-align: left;"> Thirty360.Italian </td>
</tr>
<tr>
 <td style="text-align: left;">
         <code>19</code> </td><td style="text-align: left;"> Thirty360.German
       </td>
</tr>

</table>

</td></tr>
<tr><td><code id="Enum_+3A_businessdayconvention">businessDayConvention</code></td>
<td>
<p>an int value
</p>

<table>
<tr>
 <td style="text-align: left;">
        <code>0</code> </td><td style="text-align: left;"> Following </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>1</code> </td><td style="text-align: left;"> ModifiedFollowing </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>2</code> </td><td style="text-align: left;"> Preceding </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>3</code> </td><td style="text-align: left;"> ModifiedPreceding </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>4</code> </td><td style="text-align: left;"> Unadjusted </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>5</code> </td><td style="text-align: left;"> HalfMonthModifiedFollowing </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>6</code> </td><td style="text-align: left;"> Nearest </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>anything else</code> </td><td style="text-align: left;"> Unadjusted
      </td>
</tr>

</table>

</td></tr>
<tr><td><code id="Enum_+3A_compounding">compounding</code></td>
<td>
<p>an int value
</p>

<table>
<tr>
 <td style="text-align: left;">
       <code>0</code> </td><td style="text-align: left;"> Simple </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>1</code> </td><td style="text-align: left;"> Compounded </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>2</code> </td><td style="text-align: left;"> Continuous </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>3</code> </td><td style="text-align: left;"> SimpleThenCompounded
     </td>
</tr>

</table>

</td></tr>
<tr><td><code id="Enum_+3A_period-or-frequency">period or frequency</code></td>
<td>
<p>an int value
</p>

<table>
<tr>
 <td style="text-align: left;">
       <code>-1</code> </td><td style="text-align: left;"> NoFrequency </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>0</code> </td><td style="text-align: left;"> Once </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>1</code> </td><td style="text-align: left;"> Annual </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>2</code> </td><td style="text-align: left;"> Semiannual </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>3</code> </td><td style="text-align: left;"> EveryFourthMonth </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>4</code> </td><td style="text-align: left;"> Quarterly </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>6</code> </td><td style="text-align: left;"> BiMonthtly </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>12</code> </td><td style="text-align: left;"> Monthly </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>13</code> </td><td style="text-align: left;"> EveryFourthWeek </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>26</code> </td><td style="text-align: left;"> BiWeekly </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>52</code> </td><td style="text-align: left;"> Weekly </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>365</code> </td><td style="text-align: left;"> Daily </td>
</tr>
<tr>
 <td style="text-align: left;">
       <code>anything else</code> </td><td style="text-align: left;"> OtherFrequency
     </td>
</tr>

</table>

</td></tr>
<tr><td><code id="Enum_+3A_date-generation">date generation</code></td>
<td>
<p>an int value to specify date generation rule
</p>

<table>
<tr>
 <td style="text-align: left;">
        <code>0</code> </td><td style="text-align: left;"> Backward </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>1</code> </td><td style="text-align: left;"> Forward </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>2</code> </td><td style="text-align: left;"> Zero </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>3</code> </td><td style="text-align: left;"> ThirdWednesday </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>4</code> </td><td style="text-align: left;"> Twentieth </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>5</code> </td><td style="text-align: left;"> TwentiethIMM </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>6</code> </td><td style="text-align: left;"> OldCDS </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>7</code> </td><td style="text-align: left;"> CDS </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>anything else</code> </td><td style="text-align: left;"> TwentiethIMM
     </td>
</tr>

</table>

</td></tr>
<tr><td><code id="Enum_+3A_durationtype">durationType</code></td>
<td>
<p>an int value to specify duration type
</p>

<table>
<tr>
 <td style="text-align: left;">
        <code>0</code> </td><td style="text-align: left;"> Simple </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>1</code> </td><td style="text-align: left;"> Macaulay </td>
</tr>
<tr>
 <td style="text-align: left;">
        <code>2</code> </td><td style="text-align: left;"> Modified
     </td>
</tr>

</table>

</td></tr>
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation, particularly the datetime classes.
</p>


<h3>Value</h3>

<p>None
</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>

<hr>
<h2 id='EuropeanOption'>European Option evaluation using Closed-Form solution</h2><span id='topic+EuropeanOption'></span><span id='topic+EuropeanOption.default'></span>

<h3>Description</h3>

<p>The <code>EuropeanOption</code> function evaluations an European-style
option on a common stock using the Black-Scholes-Merton solution. The
option value, the common first derivatives (&quot;Greeks&quot;) as well as the
calling parameters are returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
EuropeanOption(type, underlying, strike,
	dividendYield, riskFreeRate, maturity, volatility, 
	discreteDividends, discreteDividendsTimeUntil)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="EuropeanOption_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_volatility">volatility</code></td>
<td>
<p>Volatility of the underlying stock</p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_discretedividends">discreteDividends</code></td>
<td>
<p>Vector of discrete dividends (optional)</p>
</td></tr>
<tr><td><code id="EuropeanOption_+3A_discretedividendstimeuntil">discreteDividendsTimeUntil</code></td>
<td>
<p>Vector of times to discrete dividends 
(in fractional years, optional)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The well-known closed-form solution derived by Black, Scholes and
Merton is used for valuation. Implied volatilities are calculated
numerically.
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>EuropeanOption</code> function returns an object of class
<code>EuropeanOption</code> (which inherits from class 
<code><a href="#topic+Option">Option</a></code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>value</code></td>
<td>
<p>Value of option</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>Sensitivity of the option value for a change in the underlying</p>
</td></tr>
<tr><td><code>gamma</code></td>
<td>
<p>Sensitivity of the option delta for a change in the underlying</p>
</td></tr>
<tr><td><code>vega</code></td>
<td>
<p>Sensitivity of the option value for a change in the
underlying's volatility</p>
</td></tr> 
<tr><td><code>theta</code></td>
<td>
<p>Sensitivity of the option value for a change in t, the
remaining time to maturity</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
risk-free interest rate</p>
</td></tr>
<tr><td><code>dividendRho</code></td>
<td>
<p>Sensitivity of the option value for a change in the
dividend yield</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+EuropeanOptionImpliedVolatility">EuropeanOptionImpliedVolatility</a></code>,
<code><a href="#topic+EuropeanOptionArrays">EuropeanOptionArrays</a></code>,
<code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+BinaryOption">BinaryOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## simple call with unnamed parameters
EuropeanOption("call", 100, 100, 0.01, 0.03, 0.5, 0.4)
## simple call with some explicit parameters, and slightly increased vol:
EuropeanOption(type="call", underlying=100, strike=100, dividendYield=0.01, 
riskFreeRate=0.03, maturity=0.5, volatility=0.5)
## simple call with slightly shorter maturity: QuantLib 1.7 compiled with 
## intra-day time calculation support with create slightly changed values
EuropeanOption(type="call", underlying=100, strike=100, dividendYield=0.01, 
riskFreeRate=0.03, maturity=0.499, volatility=0.5)
</code></pre>

<hr>
<h2 id='EuropeanOptionArrays'>European Option evaluation using Closed-Form solution</h2><span id='topic+EuropeanOptionArrays'></span><span id='topic+oldEuropeanOptionArrays'></span><span id='topic+plotOptionSurface'></span>

<h3>Description</h3>

<p>The <code>EuropeanOptionArrays</code> function allows any two of the numerical
input parameters to be a vector, and a list of matrices is
returned for the option value as well as each of the 'greeks'. For
each of the returned matrices, each element
corresponds to an evaluation under the given set of parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EuropeanOptionArrays(type, underlying, strike, dividendYield,
                     riskFreeRate, maturity, volatility)
oldEuropeanOptionArrays(type, underlying, strike, dividendYield,
                        riskFreeRate, maturity, volatility)
plotOptionSurface(EOres, ylabel="", xlabel="", zlabel="", fov=60)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="EuropeanOptionArrays_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_underlying">underlying</code></td>
<td>
<p>(Scalar or list) current price(s) of the underlying stock</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_strike">strike</code></td>
<td>
<p>(Scalar or list) strike price(s) of the option</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_dividendyield">dividendYield</code></td>
<td>
<p>(Scalar or list) continuous dividend yield(s) (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>(Scalar or list) risk-free rate(s)</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_maturity">maturity</code></td>
<td>
<p>(Scalar or list) time(s) to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_volatility">volatility</code></td>
<td>
<p>(Scalar or list) volatilit(y|ies) of the underlying stock</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_eores">EOres</code></td>
<td>
<p>result matrix produced by <code>EuropeanOptionArrays</code></p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_ylabel">ylabel</code></td>
<td>
<p>label for y-axsis</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_xlabel">xlabel</code></td>
<td>
<p>label for x-axsis</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_zlabel">zlabel</code></td>
<td>
<p>label for z-axsis</p>
</td></tr>
<tr><td><code id="EuropeanOptionArrays_+3A_fov">fov</code></td>
<td>
<p>viewpoint for 3d rendering</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The well-known closed-form solution derived by Black, Scholes and
Merton is used for valuation.
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.
</p>


<h3>Value</h3>

<p>The <code>EuropeanOptionArrays</code> function allows any two of the numerical
input parameters to be a vector or sequence. A list of
two-dimensional matrices is returned. Each cell corresponds to
an evaluation under the given set of parameters.
</p>
<p>For these functions, the following components are returned:
</p>
<table role = "presentation">
<tr><td><code>value</code></td>
<td>
<p>(matrix) value of option</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>(matrix) change in value for a change in the underlying</p>
</td></tr>
<tr><td><code>gamma</code></td>
<td>
<p>(matrix) change in value for a change in delta</p>
</td></tr>
<tr><td><code>vega</code></td>
<td>
<p>(matrix) change in value for a change in the underlying's volatility</p>
</td></tr>
<tr><td><code>theta</code></td>
<td>
<p>(matrix) change in value for a change in delta</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>(matrix) change in value for a change in time to maturity</p>
</td></tr>
<tr><td><code>dividendRho</code></td>
<td>
<p>(matrix) change in value for a change in delta</p>
</td></tr>
<tr><td><code>parameters</code></td>
<td>
<p>List with parameters with which object was created</p>
</td></tr>
</table>
<p>The <code>oldEuropeanOptionArrays</code> function is an older implementation
which vectorises this at the R level instead but allows more general
multidimensional arrays.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+BinaryOption">BinaryOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# define two vectos for the underlying and the volatility
und.seq &lt;- seq(10,180,by=2)
vol.seq &lt;- seq(0.1,0.9,by=0.1)
# evaluate them along with three scalar parameters
EOarr &lt;- EuropeanOptionArrays("call", underlying=und.seq,
                              strike=100, dividendYield=0.01,
                              riskFreeRate=0.03,
                              maturity=1, volatility=vol.seq)
# and look at four of the result arrays: value, delta, gamma, vega
old.par &lt;- par(no.readonly = TRUE)
par(mfrow=c(2,2),oma=c(5,0,0,0),mar=c(2,2,2,1))
plot(EOarr$parameters.underlying, EOarr$value[,1], type='n',
     main="option value", xlab="", ylab="")
topocol &lt;- topo.colors(length(vol.seq))
for (i in 1:length(vol.seq))
  lines(EOarr$parameters.underlying, EOarr$value[,i], col=topocol[i])
plot(EOarr$parameters.underlying, EOarr$delta[,1],type='n',
     main="option delta", xlab="", ylab="")
for (i in 1:length(vol.seq))
  lines(EOarr$parameters.underlying, EOarr$delta[,i], col=topocol[i])
plot(EOarr$parameters.underlying, EOarr$gamma[,1],type='n',
     main="option gamma", xlab="", ylab="")
for (i in 1:length(vol.seq))
  lines(EOarr$parameters.underlying, EOarr$gamma[,i], col=topocol[i])
plot(EOarr$parameters.underlying, EOarr$vega[,1],type='n',
     main="option vega", xlab="", ylab="")
for (i in 1:length(vol.seq))
  lines(EOarr$parameters.underlying, EOarr$vega[,i], col=topocol[i])
mtext(text=paste("Strike is 100, maturity 1 year, riskless rate 0.03",
        "\nUnderlying price from", und.seq[1],"to", und.seq[length(und.seq)],
        "\nVolatility  from",vol.seq[1], "to",vol.seq[length(vol.seq)]),
      side=1,font=1,outer=TRUE,line=3)
par(old.par)

## End(Not run)
</code></pre>

<hr>
<h2 id='EuropeanOptionImpliedVolatility'>Implied Volatility calculation for European Option</h2><span id='topic+EuropeanOptionImpliedVolatility'></span><span id='topic+EuropeanOptionImpliedVolatility.default'></span>

<h3>Description</h3>

<p>The <code>EuropeanOptionImpliedVolatility</code> function solves for the
(unobservable) implied volatility, given an option price as well as
the other required parameters to value an option.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
EuropeanOptionImpliedVolatility(type, value,
	underlying, strike, dividendYield, riskFreeRate, maturity, volatility)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_type">type</code></td>
<td>
<p>A string with one of the values <code>call</code> or <code>put</code></p>
</td></tr>
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_value">value</code></td>
<td>
<p>Value of the option (used only for ImpliedVolatility calculation)</p>
</td></tr>
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_underlying">underlying</code></td>
<td>
<p>Current price of the underlying stock</p>
</td></tr>
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_strike">strike</code></td>
<td>
<p>Strike price of the option</p>
</td></tr>
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_dividendyield">dividendYield</code></td>
<td>
<p>Continuous dividend yield (as a fraction) of the stock</p>
</td></tr>
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_riskfreerate">riskFreeRate</code></td>
<td>
<p>Risk-free rate</p>
</td></tr>
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_maturity">maturity</code></td>
<td>
<p>Time to maturity (in fractional years)</p>
</td></tr>
<tr><td><code id="EuropeanOptionImpliedVolatility_+3A_volatility">volatility</code></td>
<td>
<p>Initial guess for the volatility of the underlying stock</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The well-known closed-form solution derived by Black, Scholes and
Merton is used for valuation. Implied volatilities are then calculated
numerically.
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>EuropeanOptionImpliedVolatility</code> function returns an numeric
variable with volatility implied by the given market prices and given parameters.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+EuropeanOption">EuropeanOption</a></code>,<code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+BinaryOption">BinaryOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>EuropeanOptionImpliedVolatility(type="call", value=11.10, underlying=100,
	strike=100, dividendYield=0.01, riskFreeRate=0.03,
	maturity=0.5, volatility=0.4)
</code></pre>

<hr>
<h2 id='FittedBondCurve'>Returns the discount curve (with zero rates and forwards) given set of bonds</h2><span id='topic+FittedBondCurve'></span><span id='topic+FittedBondCurve.default'></span><span id='topic+plot.FittedBondCurve'></span>

<h3>Description</h3>

<p><code>FittedBondCurve</code> fits a term structure to a set of bonds
using three different fitting methodologies. For more detail,
see QuantLib/Example/FittedBondCurve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FittedBondCurve(curveparams, lengths, coupons, marketQuotes, dateparams)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FittedBondCurve_+3A_curveparams">curveparams</code></td>
<td>
<p>curve parameters
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>method</code> </td><td style="text-align: left;"> a string, fitting methods: "ExponentialSplinesFitting", </td>
</tr>
<tr>
 <td style="text-align: left;">
     </td><td style="text-align: left;">  "SimplePolynomialFitting", "NelsonSiegelFitting"</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>origDate</code> </td><td style="text-align: left;"> a Date, starting date of the curve </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="FittedBondCurve_+3A_lengths">lengths</code></td>
<td>
<p>an numeric vector, length of the bonds in year</p>
</td></tr>
<tr><td><code id="FittedBondCurve_+3A_coupons">coupons</code></td>
<td>
<p>a numeric vector, coupon rate of the bonds</p>
</td></tr>
<tr><td><code id="FittedBondCurve_+3A_marketquotes">marketQuotes</code></td>
<td>
<p>a numeric vector, market price of the bonds</p>
</td></tr>
<tr><td><code id="FittedBondCurve_+3A_dateparams">dateparams</code></td>
<td>
<p>(Optional) a named list, QuantLib's date parameters of the bond.
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>settlementDays</code> </td><td style="text-align: left;"> (Optional) a double, settlement days. </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> Default value is 1.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dayCounter</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> day counter convention.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  See <a href="#topic+Enum">Enum</a>. Default value is 'Thirty360' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>period</code>  </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;">  interest compounding interval. See <a href="#topic+Enum">Enum</a>. </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;"> Default value is 'Semiannual'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>businessDayConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
                     </td><td style="text-align: left;"> business day convention. </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>See example below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.
</p>


<h3>Value</h3>

<p><code>table</code>, a three columns &quot;date - zeroRate - discount&quot; data frame
</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a> for the inplementation; Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code>
</p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># commented-out as it runs longer than CRAN likes
## Not run: 
lengths &lt;- c(2,4,6,8,10,12,14,16,18,20,22,24,26,28,30)
coupons &lt;- c( 0.0200, 0.0225, 0.0250, 0.0275, 0.0300,
              0.0325, 0.0350, 0.0375, 0.0400, 0.0425,
              0.0450, 0.0475, 0.0500, 0.0525, 0.0550 )
marketQuotes &lt;- rep(100, length(lengths))
dateparams &lt;- list(settlementDays=0, period="Annual",
                   dayCounter="ActualActual",
                  businessDayConvention ="Unadjusted")
curveparams &lt;- list(method="ExponentialSplinesFitting",
                    origDate = Sys.Date())
curve &lt;- FittedBondCurve(curveparams, lengths, coupons, marketQuotes, dateparams)
z &lt;- zoo::zoo(curve$table$zeroRates, order.by=curve$table$date)
plot(z)

## End(Not run)
</code></pre>

<hr>
<h2 id='FixedRateBond'>Fixed-Rate bond pricing</h2><span id='topic+FixedRateBond'></span><span id='topic+FixedRateBond.default'></span><span id='topic+FixedRateBondPriceByYield'></span><span id='topic+FixedRateBondPriceByYield.default'></span><span id='topic+FixedRateBondYield'></span><span id='topic+FixedRateBondYield.default'></span>

<h3>Description</h3>

<p>The <code>FixedRateBond</code> function evaluates a fixed rate bond using discount curve, the yield or the clean price. 
More specificly, when a discount curve is provided the calculation is done by DiscountingBondEngine from QuantLib.
The NPV, clean price, dirty price, accrued interest, yield, duration, actual settlement date and cash flows of the bond is returned.
When a yield is provided instead, no engine is provided to the bond class and prices are computed from yield. In the latter case, NPV is set to NA. Same situation when the clean price is given instead of discount curve or yield.
For more detail, see the source codes in QuantLib's file <code>test-suite/bond.cpp</code>.
</p>
<p>The <code>FixedRateBondPriceByYield</code> function calculates the theoretical price of a fixed rate bond from its yield.
</p>
<p>The <code>FixedRateBondYield</code> function calculates the theoretical yield of a fixed rate bond from its price.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## Default S3 method:
FixedRateBond(bond, rates, schedule,
                                calc=list(dayCounter='ActualActual.ISMA',
                                          compounding='Compounded',
                                          freq='Annual',
                                          durationType='Modified'),
                                discountCurve = NULL, yield = NA, price = NA)

## Default S3 method:
FixedRateBondPriceByYield( settlementDays=1, yield, faceAmount=100, 
                                 effectiveDate, maturityDate,
                                 period, calendar="UnitedStates/GovernmentBond", 
                                 rates, dayCounter=2,
                                 businessDayConvention=0, compound = 0, redemption=100, 
                                 issueDate)

## Default S3 method:
FixedRateBondYield( settlementDays=1, price, faceAmount=100, 
                                 effectiveDate, maturityDate,
                                 period, calendar="UnitedStates/GovernmentBond", 
                                 rates, dayCounter=2,
                                 businessDayConvention=0, 
                                 compound = 0, redemption=100, 
                                 issueDate)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FixedRateBond_+3A_bond">bond</code></td>
<td>
<p>(Optional) bond parameters, a named list whose elements are: 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>settlementDays</code>      </td><td style="text-align: left;"> (Optional) a double, settlement days. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> Default value is 1.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>faceAmount</code>          </td><td style="text-align: left;"> (Optional) a double, face amount of the bond.</td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;">  Default value is 100. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dayCounter</code>          </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> day counter convention. Defaults to 'Thirty360' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>issueDate</code>           </td><td style="text-align: left;"> (Optional) a Date, the bond's issue date</td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to QuantLib default. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>paymentConvention</code>   </td><td style="text-align: left;"> (Optional) a number or string, the bond </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> payment convention. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to QuantLib default. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>redemption</code>          </td><td style="text-align: left;"> (Optional) a double, the redemption amount. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to QuantLib default (100). </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>paymentCalendar</code>     </td><td style="text-align: left;"> (Optional) a string, the name of the calendar. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to QuantLib default. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>exCouponPeriod</code>      </td><td style="text-align: left;"> (Optional) a number, the number of days when </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> the coupon goes ex relative to the coupon date. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to QuantLib default. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>exCouponCalendar</code>    </td><td style="text-align: left;"> (Optional) a string, the name of the </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> ex-coupon calendar. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to QuantLib default. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>exCouponConvention</code>  </td><td style="text-align: left;"> (Optional) a number or string, the coupon </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> payment convention. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to QuantLib default. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>exCouponEndOfMonth</code>  </td><td style="text-align: left;"> (Optional) 1 or 0, use End of Month rule for </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> ex-coupon dates. Defaults to 0 (false).
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="FixedRateBond_+3A_rates">rates</code></td>
<td>
<p>a numeric vector, bond's coupon rates</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_schedule">schedule</code></td>
<td>
<p>(Optional) a named list, QuantLib's parameters of the bond's schedule. 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>effectiveDate</code>       </td><td style="text-align: left;"> a Date, when the schedule becomes effective. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code>maturityDate</code>        </td><td style="text-align: left;"> a Date, when the schedule matures. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code>period</code>              </td><td style="text-align: left;"> (Optional) a number or string, the frequency of </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> the schedule. Default value is 'Semiannual'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>calendar</code>            </td><td style="text-align: left;"> (Optional) a string, the calendar name. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> Defaults to 'TARGET' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>businessDayConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, the </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> day convention to use. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>terminationDateConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, the </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> day convention to use for the terminal date. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dateGeneration</code>      </td><td style="text-align: left;"> (Optional) a number or string, the </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> date generation rule. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to 'Backward'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>endOfMonth</code>          </td><td style="text-align: left;"> (Optional) 1 or 0, use End of Month rule for </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> schedule dates. Defaults to 0 (false).
  </td>
</tr>

</table>

<p>See example below.
</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_calc">calc</code></td>
<td>
<p>(Optional) a named list, QuantLib's parameters for calculations. 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>dayCounter</code>          </td><td style="text-align: left;"> (Optional) a number or string, day counter </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> convention. Defaults to 'ActualActual.ISMA' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>compounding</code>         </td><td style="text-align: left;"> a string, what kind of compounding to use. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> Defaults to 'Compounded' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>freq</code>                </td><td style="text-align: left;"> (Optional) a number or string, the frequency </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> to use. Default value is 'Annual'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>durationType</code>        </td><td style="text-align: left;"> (Optional) a number or string, the type of </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> duration to calculate. Defaults to 'Simple' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>accuracy</code>            </td><td style="text-align: left;"> (Optional) a number, the accuracy required. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> Defaults to 1.0e-8. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>maxEvaluations</code>      </td><td style="text-align: left;"> (Optional) a number, max number of iterations. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> Defaults to 100.
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="FixedRateBond_+3A_discountcurve">discountCurve</code></td>
<td>
<p>Can be one of the following:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>a DiscountCurve</code> </td><td style="text-align: left;">  a object of DiscountCurve class </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> For more detail, see example or </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                    </td><td style="text-align: left;"> the discountCurve function </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>A 2 items list</code> </td><td style="text-align: left;"> specifies a flat curve in two </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                   </td><td style="text-align: left;"> values "todayDate" and "rate"   </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>A 3 items list</code> </td><td style="text-align: left;"> specifies three values to construct a </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> DiscountCurve object, "params" , </td>
</tr>
<tr>
 <td style="text-align: left;"> 
     </td><td style="text-align: left;"> "tsQuotes", "times". </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> For more detail, see example or </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                    </td><td style="text-align: left;"> the discountCurve function
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="FixedRateBond_+3A_yield">yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_price">price</code></td>
<td>
<p>clean price of the bond</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_settlementdays">settlementDays</code></td>
<td>
<p>an integer, 1 for T+1, 2 for T+2, etc...</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_effectivedate">effectiveDate</code></td>
<td>
<p>bond's effective date</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_maturitydate">maturityDate</code></td>
<td>
<p>bond's maturity date</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_period">period</code></td>
<td>
<p>frequency of events,0=NoFrequency, 1=Once, 2=Annual, 3=Semiannual, 4=EveryFourthMonth, 5=Quarterly, 6=Bimonthly ,7=Monthly ,8=EveryFourthWeek,9=Biweekly, 10=Weekly, 11=Daily. For more information, see QuantLib's Frequency class </p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_calendar">calendar</code></td>
<td>
<p>Business Calendar. Either <code>us</code> or <code>uk</code></p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_faceamount">faceAmount</code></td>
<td>
<p>face amount of the bond</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_businessdayconvention">businessDayConvention</code></td>
<td>
<p>convention used to adjust a date in case it is not a valid business day. See quantlib for more detail. 0 = Following, 1 = ModifiedFollowing, 2 = Preceding, 3 = ModifiedPreceding, other = Unadjusted</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_daycounter">dayCounter</code></td>
<td>
<p>day count convention. 0 = Actual360(), 1 = Actual365Fixed(), 2 = ActualActual(), 3 = Business252(), 4 = OneDayCounter(), 5 = SimpleDayCounter(), all other = Thirty360(). For more information, see QuantLib's DayCounter class</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_compound">compound</code></td>
<td>
<p>compounding type. 0=Simple, 1=Compounded, 2=Continuous, all other=SimpleThenCompounded. See QuantLib's Compound class</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_redemption">redemption</code></td>
<td>
<p>redemption when the bond expires</p>
</td></tr>
<tr><td><code id="FixedRateBond_+3A_issuedate">issueDate</code></td>
<td>
<p>date the bond is issued</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A discount curve is built to calculate the bond value. 
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>FixedRateBond</code> function returns an object of class
<code>FixedRateBond</code> (which inherits from class 
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>net present value of the bond</p>
</td></tr>
<tr><td><code>cleanPrice</code></td>
<td>
<p>clean price of the bond</p>
</td></tr>
<tr><td><code>dirtyPrice</code></td>
<td>
<p>dirty price of the bond</p>
</td></tr>
<tr><td><code>accruedAmount</code></td>
<td>
<p>accrued amount of the bond</p>
</td></tr>
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code>duration</code></td>
<td>
<p>the duration of the bond</p>
</td></tr>
<tr><td><code>settlementDate</code></td>
<td>
<p>the actual settlement date used for the bond</p>
</td></tr>
<tr><td><code>cashFlows</code></td>
<td>
<p>cash flows of the bond</p>
</td></tr>
</table>
<p>The <code>FixedRateBondPriceByYield</code> function returns an object of class
<code>FixedRateBondPriceByYield</code> (which inherits from class 
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>price</code></td>
<td>
<p>price of the bond</p>
</td></tr>
</table>
<p>The <code>FixedRateBondYield</code> function returns an object of class
<code>FixedRateBondYield</code> (which inherits from class 
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a> for the inplementation; Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Simple call with a flat curve
bond &lt;- list(settlementDays=1,
             issueDate=as.Date("2004-11-30"),
             faceAmount=100,
             dayCounter='Thirty360',
             paymentConvention='Unadjusted')
schedule &lt;- list(effectiveDate=as.Date("2004-11-30"),
                 maturityDate=as.Date("2008-11-30"),
                 period='Semiannual',
                 calendar='UnitedStates/GovernmentBond',
                 businessDayConvention='Unadjusted',
                 terminationDateConvention='Unadjusted',
                 dateGeneration='Forward',
                 endOfMonth=1)
calc=list(dayCounter='Actual360',
          compounding='Compounded',
          freq='Annual',
          durationType='Modified')
coupon.rate &lt;- c(0.02875)
                       
params &lt;- list(tradeDate=as.Date('2002-2-15'),
               settleDate=as.Date('2002-2-19'),
               dt=.25,
               interpWhat="discount",
               interpHow="loglinear")
setEvaluationDate(as.Date("2004-11-22"))

discountCurve.flat &lt;- DiscountCurve(params, list(flat=0.05))
FixedRateBond(bond,
              coupon.rate,
              schedule,
              calc,
              discountCurve=discountCurve.flat)


#Same bond with a discount curve constructed from market quotes
tsQuotes &lt;- list(d1w  =0.0382,
                 d1m  =0.0372,
                 fut1=96.2875,
                 fut2=96.7875,
                 fut3=96.9875,
                 fut4=96.6875,
                 fut5=96.4875,
                 fut6=96.3875,
                 fut7=96.2875,
                 fut8=96.0875,
                 s3y  =0.0398,
                 s5y  =0.0443,
                 s10y =0.05165,
                 s15y =0.055175)
tsQuotes &lt;- list("flat" = 0.02)		## While discount curve code is buggy

discountCurve &lt;- DiscountCurve(params, tsQuotes)
FixedRateBond(bond,
              coupon.rate,
              schedule,
              calc,
              discountCurve=discountCurve)

#Same bond calculated from yield rather than from the discount curve
yield &lt;- 0.02
FixedRateBond(bond,
              coupon.rate,
              schedule,
              calc,
              yield=yield)


#same example with clean price
price &lt;- 103.31
FixedRateBond(bond,
              coupon.rate,
              schedule,
              calc,
              price = price)

#example with default calc parameter
FixedRateBond(bond,
              coupon.rate,
              schedule,
              discountCurve=discountCurve)
              
#example with default calc and schedule parameters
schedule &lt;- list(effectiveDate=as.Date("2004-11-30"),
                 maturityDate=as.Date("2008-11-30"))
FixedRateBond(bond,
              coupon.rate,
              schedule,
              discountCurve=discountCurve)

#example with default calc, schedule and bond parameters
FixedRateBond(,
              coupon.rate,
              schedule,
              discountCurve=discountCurve)

FixedRateBondPriceByYield(,0.0307, 100000, as.Date("2004-11-30"),
                          as.Date("2008-11-30"), 3, , c(0.02875),
                          , , , ,as.Date("2004-11-30"))

FixedRateBondYield(,90, 100000, as.Date("2004-11-30"), as.Date("2008-11-30"),
                   3, , c(0.02875), , , , ,as.Date("2004-11-30"))

</code></pre>

<hr>
<h2 id='FloatingRateBond'>Floating rate bond pricing</h2><span id='topic+FloatingRateBond'></span><span id='topic+FloatingRateBond.default'></span>

<h3>Description</h3>

<p>The <code>FloatingRateBond</code> function evaluates a floating rate bond using discount curve. 
More specificly, the calculation is done by DiscountingBondEngine from QuantLib.
The NPV, clean price, dirty price, accrued interest, yield and cash flows of the bond is returned. 
For more detail, see the source codes in quantlib's test-suite. test-suite/bond.cpp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
FloatingRateBond(bond, gearings, spreads,
                                   caps, floors, index, 
                                   curve, dateparams )
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FloatingRateBond_+3A_bond">bond</code></td>
<td>
<p>bond parameters, a named list whose elements are: 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>issueDate</code>     </td><td style="text-align: left;"> a Date, the bond's issue date</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>maturityDate</code>  </td><td style="text-align: left;"> a Date, the bond's maturity date</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>faceAmount</code>    </td><td style="text-align: left;"> (Optional) a double, face amount of the bond.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  Default value is 100. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>redemption</code>    </td><td style="text-align: left;"> (Optional) a double, percentage of the initial </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> 	face amount that will be returned at maturity </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">    date. Default value is 100.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>effectiveDate</code>  </td><td style="text-align: left;"> (Optinal) a Date, the bond's effective date. Default value is issueDate</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="FloatingRateBond_+3A_gearings">gearings</code></td>
<td>
<p>(Optional) a numeric vector, bond's gearings. See quantlib's doc on
FloatingRateBond for more detail. Default value is an empty vector c(). </p>
</td></tr>
<tr><td><code id="FloatingRateBond_+3A_spreads">spreads</code></td>
<td>
<p>(Optional) a numeric vector, bond's spreads. See quantlib's doc on FloatingRateBond for more detail.Default value is an empty vector c() </p>
</td></tr>
<tr><td><code id="FloatingRateBond_+3A_caps">caps</code></td>
<td>
<p>(Optional) a numeric vector, bond's caps. See quantlib's doc on
FloatingRateBond for more detail. Default value is an empty vector c() </p>
</td></tr>
<tr><td><code id="FloatingRateBond_+3A_floors">floors</code></td>
<td>
<p>(Optional) a numeric vector, bond's floors. See quantlib's doc on
FloatingRateBond for more detail. Default value is an empty vector c() </p>
</td></tr>
<tr><td><code id="FloatingRateBond_+3A_curve">curve</code></td>
<td>
<p>Can be one of the following:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>a DiscountCurve</code> </td><td style="text-align: left;">  a object of DiscountCurve class </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> For more detail, see example or </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                    </td><td style="text-align: left;"> the discountCurve function </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>A 2 items list</code> </td><td style="text-align: left;"> specifies a flat curve in two </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                   </td><td style="text-align: left;"> values "todayDate" and "rate"   </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>A 3 items list</code> </td><td style="text-align: left;"> specifies three values to construct a </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> DiscountCurve object, "params" , </td>
</tr>
<tr>
 <td style="text-align: left;"> 
     </td><td style="text-align: left;"> "tsQuotes", "times". </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> For more detail, see example or </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                    </td><td style="text-align: left;"> the discountCurve function </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="FloatingRateBond_+3A_index">index</code></td>
<td>
<p>a named list whose elements are parameters of an IborIndex term structure. 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>type</code> </td><td style="text-align: left;"> a string, currently support only "USDLibor" </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>length</code> </td><td style="text-align: left;"> an integer, length of the index </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>inTermOf</code> </td><td style="text-align: left;"> a string, period unit, currently support only 'Month' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>term</code> </td><td style="text-align: left;"> a DiscountCurve object, the term structure of the index</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="FloatingRateBond_+3A_dateparams">dateparams</code></td>
<td>
<p>(Optional) a named list, QuantLib's date parameters of the bond. 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>settlementDays</code> </td><td style="text-align: left;"> (Optional) a double, settlement days. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
            </td><td style="text-align: left;"> Default value is 1.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>calendar</code> </td><td style="text-align: left;"> (Optional) a string, either 'us' or 'uk' </td>
</tr>
<tr>
 <td style="text-align: left;"> 
            </td><td style="text-align: left;"> corresponding to US Goverment Bond </td>
</tr>
<tr>
 <td style="text-align: left;">
    		   </td><td style="text-align: left;"> calendar and UK Exchange calendar.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  Default value is 'us'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dayCounter</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;"> 
            </td><td style="text-align: left;"> day counter convention.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  See <a href="#topic+Enum">Enum</a>. Default value is 'Thirty360' </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code>period</code>  </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;">  interest compounding interval. See <a href="#topic+Enum">Enum</a>. </td>
</tr>
<tr>
 <td style="text-align: left;">
           </td><td style="text-align: left;"> Default value is 'Semiannual'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>businessDayConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                     </td><td style="text-align: left;"> business day convention. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>terminationDateConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                     </td><td style="text-align: left;"> termination day convention. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>endOfMonth</code> </td><td style="text-align: left;"> (Optional) a numeric with value 1 or 0. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
               </td><td style="text-align: left;"> End of Month rule. Default value is 0.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dateGeneration</code> </td><td style="text-align: left;"> (Optional) a numeric, date generation method. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
     </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is 'Backward' </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>See example below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A discount curve is built to calculate the bond value. 
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>FloatingRateBond</code> function returns an object of class
<code>FloatingRateBond</code> (which inherits from class 
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>net present value of the bond</p>
</td></tr>
<tr><td><code>cleanPrice</code></td>
<td>
<p>clean price of the bond</p>
</td></tr>
<tr><td><code>dirtyPrice</code></td>
<td>
<p>dirty price of the bond</p>
</td></tr>
<tr><td><code>accruedAmount</code></td>
<td>
<p>accrued amount of the bond</p>
</td></tr>
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code>cashFlows</code></td>
<td>
<p>cash flows of the bond</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umbno.edu">knguyen@cs.umbno.edu</a> for the inplementation; Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>
bond &lt;- list(faceAmount=100, issueDate=as.Date("2004-11-30"),
             maturityDate=as.Date("2008-11-30"), redemption=100, 
             effectiveDate=as.Date("2004-11-30"))
dateparams &lt;- list(settlementDays=1, calendar="UnitedStates/GovernmentBond",
                   dayCounter = 'ActualActual', period=2, 
                   businessDayConvention = 1, terminationDateConvention=1,
                   dateGeneration=0, endOfMonth=0, fixingDays = 1)

gearings &lt;- spreads &lt;- caps &lt;- floors &lt;- vector()

params &lt;- list(tradeDate=as.Date('2002-2-15'),
               settleDate=as.Date('2002-2-19'),
               dt=.25,
               interpWhat="discount",
               interpHow="loglinear")
setEvaluationDate(as.Date("2004-11-22"))

tsQuotes &lt;- list(d1w  =0.0382,
                 d1m  =0.0372,
                 fut1=96.2875,
                 fut2=96.7875,
                 fut3=96.9875,
                 fut4=96.6875,
                 fut5=96.4875,
                 fut6=96.3875,
                 fut7=96.2875,
                 fut8=96.0875,
                 s3y  =0.0398,
                 s5y  =0.0443,
                 s10y =0.05165,
                 s15y =0.055175)
tsQuotes &lt;- list("flat" = 0.02)		## While discount curve code is buggy

## when both discount and libor curves are flat.

discountCurve.flat &lt;- DiscountCurve(params, list(flat=0.05))
termstructure &lt;- DiscountCurve(params, list(flat=0.03))
iborIndex.params &lt;- list(type="USDLibor", length=6, 
                  inTermOf="Month", term=termstructure)                      
FloatingRateBond(bond, gearings, spreads, caps, floors, 
                 iborIndex.params, discountCurve.flat, dateparams)


## discount curve is constructed from market quotes
## and a flat libor curve
discountCurve &lt;- DiscountCurve(params, tsQuotes)
termstructure &lt;- DiscountCurve(params, list(flat=0.03))
iborIndex.params &lt;- list(type="USDLibor", length=6, 
                  inTermOf="Month", term = termstructure)                      
FloatingRateBond(bond, gearings, spreads, caps, floors, 
                 iborIndex.params, discountCurve, dateparams)

#example using default values
FloatingRateBond(bond=bond, index=iborIndex.params, curve=discountCurve)

</code></pre>

<hr>
<h2 id='getQuantLibCapabilities'>Return configuration options of the QuantLib library</h2><span id='topic+getQuantLibCapabilities'></span>

<h3>Description</h3>

<p>This function returns a named vector of boolean variables describing several
configuration options determined at compilation time of the QuantLib library.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getQuantLibCapabilities()
</code></pre>


<h3>Details</h3>

<p>Not all of these features are used (yet) by RQuantLib.
</p>


<h3>Value</h3>

<p>A named vector of logical variables
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>References</h3>

<p><a href="https://www.quantlib.org">https://www.quantlib.org</a> for details on <code>QuantLib</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  getQuantLibCapabilities()
</code></pre>

<hr>
<h2 id='getQuantLibVersion'>Return the QuantLib version number</h2><span id='topic+getQuantLibVersion'></span>

<h3>Description</h3>

<p>This function returns the QuantLib version string as encoded in the header
file <code>config.hpp</code> and determined at compilation time of the QuantLib library.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getQuantLibVersion()
</code></pre>


<h3>Value</h3>

<p>A character variable
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>References</h3>

<p><a href="https://www.quantlib.org">https://www.quantlib.org</a> for details on <code>QuantLib</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  getQuantLibVersion()
</code></pre>

<hr>
<h2 id='ImpliedVolatility'>Base class for option-price implied volatility evalution</h2><span id='topic+ImpliedVolatility'></span><span id='topic+print.ImpliedVolatility'></span><span id='topic+summary.ImpliedVolatility'></span>

<h3>Description</h3>

<p>This class forms the basis from which the more specific classes are
derived. </p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ImpliedVolatility'
print(x, digits=3, ...)
## S3 method for class 'ImpliedVolatility'
summary(object, digits=3, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ImpliedVolatility_+3A_x">x</code></td>
<td>
<p>Any option-price implied volatility object derived
from this base class</p>
</td></tr> 
<tr><td><code id="ImpliedVolatility_+3A_object">object</code></td>
<td>
<p>Any option-price implied volatility object derived
from this base class</p>
</td></tr> 
<tr><td><code id="ImpliedVolatility_+3A_digits">digits</code></td>
<td>
<p>Number of digits of precision shown</p>
</td></tr> 
<tr><td><code id="ImpliedVolatility_+3A_...">...</code></td>
<td>
<p>Further arguments</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>None, but side effects of displaying content.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+AmericanOptionImpliedVolatility">AmericanOptionImpliedVolatility</a></code>,
<code><a href="#topic+EuropeanOptionImpliedVolatility">EuropeanOptionImpliedVolatility</a></code>,
<code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+EuropeanOption">EuropeanOption</a></code>,
<code><a href="#topic+BinaryOption">BinaryOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>impVol&lt;-EuropeanOptionImpliedVolatility("call", value=11.10, strike=100,
                                        volatility=0.4, 100, 0.01, 0.03, 0.5)
print(impVol)
summary(impVol)
</code></pre>

<hr>
<h2 id='Option'>Base class for option price evalution</h2><span id='topic+Option'></span><span id='topic+plot.Option'></span><span id='topic+print.Option'></span><span id='topic+summary.Option'></span>

<h3>Description</h3>

<p>This class forms the basis from which the more specific classes are
derived. </p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Option'
print(x, digits=4, ...)
## S3 method for class 'Option'
plot(x, ...)
## S3 method for class 'Option'
summary(object, digits=4, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Option_+3A_x">x</code></td>
<td>
<p>Any option object derived from this base class</p>
</td></tr> 
<tr><td><code id="Option_+3A_object">object</code></td>
<td>
<p>Any option object derived from this base class</p>
</td></tr> 
<tr><td><code id="Option_+3A_digits">digits</code></td>
<td>
<p>Number of digits of precision shown</p>
</td></tr> 
<tr><td><code id="Option_+3A_...">...</code></td>
<td>
<p>Further arguments</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>None, but side effects of displaying content.
</p>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+AmericanOption">AmericanOption</a></code>,<code><a href="#topic+EuropeanOption">EuropeanOption</a></code>,
<code><a href="#topic+BinaryOption">BinaryOption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>EO&lt;-EuropeanOption("call", strike=100, volatility=0.4, 100, 0.01, 0.03, 0.5)
print(EO)
summary(EO)
</code></pre>

<hr>
<h2 id='SabrSwaption'>SABR swaption using vol cube data with bermudan alternative using markovfunctional</h2><span id='topic+SabrSwaption'></span><span id='topic+SabrSwaption.default'></span>

<h3>Description</h3>

<p><code>SabrSwaption</code> prices a swaption with specified
expiration or time range if Bermudan, strike, and maturity, using quantlibs SABR model for europeans
and quantlib's markovfunctional for Bermudans.  Currently the input is a zero offset log-normal vol surface.
An example of a dataset can be found in the dataset <code>rqlib</code> inlcuded with Rquantlib. It is assumed that the
swaption is
exercisable  at the start of a forward start swap if <code>params$european</code> flag is set to <code>TRUE</code> or starting
immediately on each reset date (Bermudan) of an existing underlying swap or spot start
swap if <code>params$european</code> flag is set to <code>FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SabrSwaption(params, ts, volCubeDF,
legparams = list(dayCounter = "Thirty360", fixFreq = "Annual", floatFreq = "Semiannual"),
tsUp01 = NA, tsDn01 = NA, vega = FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SabrSwaption_+3A_params">params</code></td>
<td>
<p>A list specifying the <code>tradeDate</code> (month/day/year),
<code>settlementDate</code>, logical flags <code>payFixed</code> &amp; <code>european</code>
(european=FALSE generates Bermudan vlaue), <code>strike</code>, pricing <code>method</code>, and curve
construction options (see <em>Examples</em> section below). Curve construction options are
<code>interpWhat</code> (possible values are <code>discount</code>,
<code>forward</code>, and <code>zero</code>) and
<code>interpHow</code> (possible values are <code>linear</code>,
<code>loglinear</code>
, and <code>spline</code>). Both <code>interpWhat</code> and <code>interpHow</code>
are ignored when a flat yield curve is requested, but they must be
present nevertheless.
</p>
</td></tr>
<tr><td><code id="SabrSwaption_+3A_ts">ts</code></td>
<td>
<p>A term structure built with DiscountCurve is required. See the
help page for <code><a href="#topic+DiscountCurve">DiscountCurve</a></code> and example below for details.</p>
</td></tr>
<tr><td><code id="SabrSwaption_+3A_volcubedf">volCubeDF</code></td>
<td>
<p>The swaption volatility cube in dataframe format with columns Expiry, Tenor, Spread,
and LogNormalVol stored by rows. See the example below.</p>
</td></tr>
<tr><td><code id="SabrSwaption_+3A_legparams">legparams</code></td>
<td>
<p>A list specifying the <code>dayCounter</code> the day count convention for the
fixed leg (default is Thirty360), and  <code>fixFreq</code>, fixed coupon frequecny (defualt is Annual),
<code>floatFreq</code>, floating leg reset frequency (default is Semiannual).
</p>
</td></tr>
<tr><td><code id="SabrSwaption_+3A_tsup01">tsUp01</code></td>
<td>
<p>Discount for a user specied up move in rates.</p>
</td></tr>
<tr><td><code id="SabrSwaption_+3A_tsdn01">tsDn01</code></td>
<td>
<p>Discount for a user specied down move in rates.</p>
</td></tr>
<tr><td><code id="SabrSwaption_+3A_vega">vega</code></td>
<td>
<p>Discount for a user specied up move.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on <code>QuantLib</code> Version 1.64. It
introduces support for fixed-income instruments in <code>RQuantLib</code>.
</p>


<h3>Value</h3>

<p><code>SabrSwaption</code> returns a list containing the value of the payer and receiver swaptions at the
strike specified in <code>params</code>.
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>NPV of swaption in basis points (actual price
equals <code>price</code> times notional divided by 10,000)</p>
</td></tr>
<tr><td><code>strike</code></td>
<td>
<p>swaption strike</p>
</td></tr>
<tr><td><code>params</code></td>
<td>
<p>Input parameter list</p>
</td></tr>
<tr><td><code>atmRate</code></td>
<td>
<p>fair rate for swap at swap start date for european or fair swap rate
for swap at expiration for bermudan</p>
</td></tr>
<tr><td><code>vol</code></td>
<td>
<p>vol for swaption at swap start date and rate strike for european or vol for swaption
for given expiration and strike for bermudan</p>
</td></tr>
<tr><td><code>rcvDv01</code></td>
<td>
<p>reveiver value for a change in rates defined by dv01Up</p>
</td></tr>
<tr><td><code>payDv01</code></td>
<td>
<p>payer value for a change in rates defined by dv01Up</p>
</td></tr>
<tr><td><code>rcvCnvx</code></td>
<td>
<p>reveiver second order value change for a change in rates defined by dv01Up &amp; dv01Dn</p>
</td></tr>
<tr><td><code>payCnvx</code></td>
<td>
<p>payer second order value for a change in rates defined by dv01Up &amp; dv01Dn</p>
</td></tr>
<tr><td><code>strike</code></td>
<td>
<p>swaption strike</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Terry Leitch</p>


<h3>References</h3>

<p>Brigo, D. and Mercurio, F. (2006) <em>Interest Rate Models: Theory and
Practice, 2nd Edition</em>, Springer-Verlag, New York.
</p>
<p>For information about <code>QuantLib</code> see <a href="https://www.quantlib.org/">https://www.quantlib.org/</a>.
</p>
<p>For information about <code>RQuantLib</code> see
<a href="http://dirk.eddelbuettel.com/code/rquantlib.html">http://dirk.eddelbuettel.com/code/rquantlib.html</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+AffineSwaption">AffineSwaption</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>
params &lt;- list(tradeDate=as.Date('2016-2-15'),
               settleDate=as.Date('2016-2-17'),
               startDate=as.Date('2017-2-17'),
               maturity=as.Date('2022-2-17'),
               european=TRUE,
               dt=.25,
               expiryDate=as.Date('2017-2-17'),
               strike=.02,
               interpWhat="discount",
               interpHow="loglinear")

# Set leg paramters for generating discount curve
dclegparams=list(dayCounter="Thirty360",
                 fixFreq="Annual",
                 floatFreq="Semiannual")

setEvaluationDate(as.Date("2016-2-15"))
times&lt;-times &lt;- seq(0,14.75,.25)

data(tsQuotes)
dcurve &lt;- DiscountCurve(params, tsQuotes, times=times,dclegparams)

# Price the Bermudan swaption
swaplegparams=list(fixFreq="Semiannual",floatFreq="Quarterly")

data(vcube)
pricing &lt;- SabrSwaption(params, dcurve,vcube,swaplegparams)
pricing

</code></pre>

<hr>
<h2 id='Schedule'>Schedule generation</h2><span id='topic+Schedule'></span><span id='topic+Schedule.default'></span>

<h3>Description</h3>

<p>The <code>Schedule</code> function generates a schedule of dates conformant to
a given convention in a given calendar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
Schedule(params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Schedule_+3A_params">params</code></td>
<td>
<p>a named list, QuantLib's parameters of the schedule. 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>effectiveDate</code>       </td><td style="text-align: left;"> a Date, when the schedule becomes effective. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code>maturityDate</code>        </td><td style="text-align: left;"> a Date, when the schedule matures. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code>period</code>              </td><td style="text-align: left;"> (Optional) a number or string, the frequency of </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> the schedule. Default value is 'Semiannual'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>calendar</code>            </td><td style="text-align: left;"> (Optional) a string, the calendar name. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> Defaults to 'TARGET' </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>businessDayConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, the </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> day convention to use. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>terminationDateConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, the </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> day convention to use for the terminal date. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>dateGeneration</code>      </td><td style="text-align: left;"> (Optional) a number or string, the </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                        </td><td style="text-align: left;"> date generation rule. </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> Defaults to 'Backward'. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>endOfMonth</code>          </td><td style="text-align: left;"> (Optional) 1 or 0, use End of Month rule for </td>
</tr>
<tr>
 <td style="text-align: left;">
                        </td><td style="text-align: left;"> schedule dates. Defaults to 0 (false).
  </td>
</tr>

</table>

<p>See example below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>Schedule</code> function returns an object of class
<code>Schedule</code>. It contains the list of dates in the schedule.
</p>


<h3>Author(s)</h3>

<p>Michele Salvadore <a href="mailto:michele.salvadore@gmail.com">michele.salvadore@gmail.com</a> for the inplementation;
Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code>
</p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+FixedRateBond">FixedRateBond</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
params &lt;- list(effectiveDate=as.Date("2004-11-30"),
               maturityDate=as.Date("2008-11-30"),
               period='Semiannual',
               calendar='UnitedStates/GovernmentBond',
               businessDayConvention='Unadjusted',
               terminationDateConvention='Unadjusted',
               dateGeneration='Forward',
               endOfMonth=1)
Schedule(params)
</code></pre>

<hr>
<h2 id='tsQuotes'>Vol Cube Example Data  
Short time series examples</h2><span id='topic+tsQuotes'></span>

<h3>Description</h3>

<p>Vol Cube Example Data  
</p>
<p>Short time series examples
</p>


<h3>Format</h3>

<p>A series of tenors and rates approppriate for calling DiscountCurve</p>


<h3>Source</h3>

<p>TBA
</p>

<hr>
<h2 id='vcube'>Vol Cube Example Data</h2><span id='topic+vcube'></span>

<h3>Description</h3>

<p>Data for valuing swaption examples including rates and a lognormal vol cube
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(vcube)
</code></pre>


<h3>Format</h3>

<p>two data frames: <code>vcube</code>, a data frame with four columns: <code>Expiry</code>, <code>Tenor</code>,
<code>LogNormalVol</code>,  and <code>Spread</code></p>


<h3>Source</h3>

<p>TBA
</p>

<hr>
<h2 id='ZeroCouponBond'>Zero-Coupon bond pricing</h2><span id='topic+ZeroCouponBond'></span><span id='topic+ZeroCouponBond.default'></span><span id='topic+ZeroPriceByYield'></span><span id='topic+ZeroPriceByYield.default'></span><span id='topic+ZeroYield'></span><span id='topic+ZeroYield.default'></span>

<h3>Description</h3>

<p>The <code>ZeroCouponBond</code> function evaluates a zero-coupon plainly using discount curve. 
More specificly, the calculation is done by DiscountingBondEngine from QuantLib.
The NPV, clean price, dirty price, accrued interest, yield and cash flows of the bond is returned. 
For more detail, see the source code in the QuantLib file <code>test-suite/bond.cpp</code>.
</p>
<p>The <code>ZeroPriceYield</code> function evaluates a zero-coupon clean price based on its yield. 
</p>
<p>The <code>ZeroYield</code> function evaluations a zero-coupon yield based.
See also http://www.mathworks.com/access/helpdesk/help/toolbox/finfixed/zeroyield.html
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
ZeroCouponBond(bond, discountCurve, dateparams)

## Default S3 method:
ZeroPriceByYield(yield, faceAmount, 
                            issueDate, maturityDate, 
                            dayCounter=2, frequency=2, 
                            compound=0, businessDayConvention=4)

## Default S3 method:
ZeroYield(price, faceAmount, 
                            issueDate, maturityDate, 
                            dayCounter=2, frequency=2, 
                            compound=0, businessDayConvention=4)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ZeroCouponBond_+3A_bond">bond</code></td>
<td>
<p>bond parameters, a named list whose elements are: 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>issueDate</code>     </td><td style="text-align: left;"> a Date, the bond's issue date</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>maturityDate</code>  </td><td style="text-align: left;"> a Date, the bond's maturity date</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>faceAmount</code>    </td><td style="text-align: left;"> (Optional) a double, face amount of the bond.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  Default value is 100. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>redemption</code>    </td><td style="text-align: left;"> (Optional) a double, percentage of the initial </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;"> 	face amount that will be returned at maturity </td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">    date. Default value is 100.</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_discountcurve">discountCurve</code></td>
<td>
<p>Can be one of the following:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>a DiscountCurve</code> </td><td style="text-align: left;">  a object of DiscountCurve class </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> For more detail, see example or </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                    </td><td style="text-align: left;"> the discountCurve function </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>A 2 items list</code> </td><td style="text-align: left;"> specifies a flat curve in two </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                   </td><td style="text-align: left;"> values "todayDate" and "rate"   </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>A 3 items list</code> </td><td style="text-align: left;"> specifies three values to construct a </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> DiscountCurve object, "params" , </td>
</tr>
<tr>
 <td style="text-align: left;"> 
     </td><td style="text-align: left;"> "tsQuotes", "times". </td>
</tr>
<tr>
 <td style="text-align: left;">
                    </td><td style="text-align: left;"> For more detail, see example or </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                    </td><td style="text-align: left;"> the discountCurve function </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_dateparams">dateparams</code></td>
<td>
<p>(Optional) a named list, QuantLib's date parameters of the bond. 
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>settlementDays</code> </td><td style="text-align: left;"> (Optional) a double, settlement days. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
            </td><td style="text-align: left;"> Default value is 1.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>calendar</code> </td><td style="text-align: left;"> (Optional) a string, either 'us' or 'uk' </td>
</tr>
<tr>
 <td style="text-align: left;"> 
            </td><td style="text-align: left;"> corresponding to US Goverment Bond </td>
</tr>
<tr>
 <td style="text-align: left;">
    		   </td><td style="text-align: left;"> calendar and UK Exchange calendar.</td>
</tr>
<tr>
 <td style="text-align: left;">
            </td><td style="text-align: left;">  Default value is 'us'.</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>businessDayConvention</code> </td><td style="text-align: left;"> (Optional) a number or string, </td>
</tr>
<tr>
 <td style="text-align: left;"> 
                     </td><td style="text-align: left;"> business day convention. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    </td><td style="text-align: left;"> See <a href="#topic+Enum">Enum</a>. Default value is 'Following'. </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>See example below.
</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_yield">yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_price">price</code></td>
<td>
<p>price of the bond</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_faceamount">faceAmount</code></td>
<td>
<p>face amount of the bond</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_issuedate">issueDate</code></td>
<td>
<p>date the bond is issued</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_maturitydate">maturityDate</code></td>
<td>
<p>maturity date, an R's date type</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_daycounter">dayCounter</code></td>
<td>
<p>day count convention. 0 = Actual360(), 1 = Actual365Fixed(), 2 = ActualActual(), 3 = Business252(), 4 = OneDayCounter(), 5 = SimpleDayCounter(), all other = Thirty360(). For more information, see QuantLib's DayCounter class</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_frequency">frequency</code></td>
<td>
<p>frequency of events,0=NoFrequency, 1=Once, 2=Annual, 3=Semiannual, 4=EveryFourthMonth, 5=Quarterly, 6=Bimonthly ,7=Monthly ,8=EveryFourthWeely,9=Biweekly, 10=Weekly, 11=Daily. For more information, see QuantLib's Frequency class </p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_compound">compound</code></td>
<td>
<p>compounding type. 0=Simple, 1=Compounded, 2=Continuous, all other=SimpleThenCompounded. See QuantLib's Compound class</p>
</td></tr>
<tr><td><code id="ZeroCouponBond_+3A_businessdayconvention">businessDayConvention</code></td>
<td>
<p>convention used to adjust a date in case it is not a valid business day. See quantlib for more detail. 0 = Following, 1 = ModifiedFollowing, 2 = Preceding, 3 = ModifiedPreceding, other = Unadjusted</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A discount curve is built to calculate the bond value. 
</p>
<p>Please see any decent Finance textbook for background reading, and the
<code>QuantLib</code> documentation for details on the <code>QuantLib</code>
implementation.  
</p>


<h3>Value</h3>

<p>The <code>ZeroCouponBond</code> function returns an object of class
<code>ZeroCouponBond</code> (which inherits from class 
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>NPV</code></td>
<td>
<p>net present value of the bond</p>
</td></tr>
<tr><td><code>cleanPrice</code></td>
<td>
<p>clean price of the bond</p>
</td></tr>
<tr><td><code>dirtyPrice</code></td>
<td>
<p>dirty price of the bond</p>
</td></tr>
<tr><td><code>accruedAmount</code></td>
<td>
<p>accrued amount of the bond</p>
</td></tr>
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
<tr><td><code>cashFlows</code></td>
<td>
<p>cash flows of the bond</p>
</td></tr>
</table>
<p>The <code>ZeroPriceByYield</code> function returns an object of class
<code>ZeroPriceByYield</code> (which inherits from class 
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>price</code></td>
<td>
<p>price of the bond</p>
</td></tr>
</table>
<p>The <code>ZeroYield</code> function returns an object of class
<code>ZeroYield</code> (which inherits from class 
<code>Bond</code>). It contains a list with the following
components:
</p>
<table role = "presentation">
<tr><td><code>yield</code></td>
<td>
<p>yield of the bond</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The interface might change in future release as <code>QuantLib</code>
stabilises its own API.</p>


<h3>Author(s)</h3>

<p>Khanh Nguyen <a href="mailto:knguyen@cs.umb.edu">knguyen@cs.umb.edu</a> for the inplementation; Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a> for the <span class="rlang"><b>R</b></span> interface;
the QuantLib Group for <code>QuantLib</code></p>


<h3>References</h3>

<p><a href="https://www.quantlib.org/">https://www.quantlib.org/</a> for details on <code>QuantLib</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Simple call with all parameter and a flat curve
bond &lt;- list(faceAmount=100,issueDate=as.Date("2004-11-30"),
             maturityDate=as.Date("2008-11-30"), redemption=100 )

dateparams &lt;-list(settlementDays=1, calendar="UnitedStates/GovernmentBond",
                  businessDayConvention='Unadjusted')

discountCurve.param &lt;- list(tradeDate=as.Date('2002-2-15'),
                           settleDate=as.Date('2002-2-15'),
                           dt=0.25,
                           interpWhat='discount', interpHow='loglinear')
discountCurve.flat &lt;- DiscountCurve(discountCurve.param, list(flat=0.05))

ZeroCouponBond(bond, discountCurve.flat, dateparams)


# The same bond with a discount curve constructed from market quotes
tsQuotes &lt;- list(d1w  =0.0382,
                 d1m  =0.0372,
                 fut1=96.2875,
                 fut2=96.7875,
                 fut3=96.9875,
                 fut4=96.6875,
                 fut5=96.4875,
                 fut6=96.3875,
                 fut7=96.2875,
                 fut8=96.0875,
                 s3y  =0.0398,
                 s5y  =0.0443,
                 s10y =0.05165,
                 s15y =0.055175)
tsQuotes &lt;- list("flat" = 0.02)		## While discount curve code is buggy

discountCurve &lt;- DiscountCurve(discountCurve.param, tsQuotes)
ZeroCouponBond(bond, discountCurve, dateparams)


#examples with default arguments
ZeroCouponBond(bond, discountCurve)

bond &lt;- list(issueDate=as.Date("2004-11-30"),
             maturityDate=as.Date("2008-11-30"))
dateparams &lt;-list(settlementDays=1)
ZeroCouponBond(bond, discountCurve, dateparams)


ZeroPriceByYield(0.1478, 100, as.Date("1993-6-24"), as.Date("1993-11-1"))

ZeroYield(90, 100, as.Date("1993-6-24"), as.Date("1993-11-1"))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

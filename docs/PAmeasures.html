<!DOCTYPE html><html lang="en"><head><title>Help for package PAmeasures</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PAmeasures}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#moore'><p>Moore's Law data</p></a></li>
<li><a href='#pam.censor'><p>Prediction Accuracy Measures for Regression Models of Right-Censored Data</p></a></li>
<li><a href='#pam.coxph'><p>Prediction Accuracy Measures for Cox proportional hazards model</p></a></li>
<li><a href='#pam.nlm'><p>Prediction Accuracy Measures for Nonlinear Regression Models.</p></a></li>
<li><a href='#pam.survreg'><p>Prediction Accuracy Measures for Parametric Survival Regression Models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Prediction and Accuracy Measures for Nonlinear Models and for
Right-Censored Time-to-Event Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-01-18</td>
</tr>
<tr>
<td>Author:</td>
<td>Xiaoyan Wang, Gang Li</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Xiaoyan Wang&lt;xywang@ucla.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>We propose a pair of summary measures for the predictive power of a prediction
    function based on a regression model. The regression model can be linear
    or nonlinear, parametric, semi-parametric, or nonparametric, and correctly
    specified or mis-specified. The first measure, R-squared, is an extension of
    the classical R-squared statistic for a linear model, quantifying the prediction
    function's ability to capture the variability of the response. The second
    measure, L-squared, quantifies the prediction function's bias for predicting the
    mean regression function. When used together, they give a complete summary of
    the predictive power of a prediction function. Please refer to Gang Li and Xiaoyan Wang (2016) &lt;<a href="https://doi.org/10.48550/arXiv.1611.03063">doi:10.48550/arXiv.1611.03063</a>&gt; for more details.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>survival, stats</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-01-20 20:05:16 UTC; wywang-adm</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-01-22 10:06:41 UTC</td>
</tr>
</table>
<hr>
<h2 id='moore'>Moore's Law data</h2><span id='topic+moore'></span>

<h3>Description</h3>

<p>A dataset containing the number of transistors and the corresponding #' years. The Moore's Law #'states that the number of transistors in a dense integrated circuit doubles approximately every two #'years.
moore.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>moore
</code></pre>


<h3>Format</h3>

<p>A data frame with 48 rows and 3 variables:
</p>

<dl>
<dt>year</dt><dd><p>year, from 1973 to 2011</p>
</dd>
<dt>time</dt><dd><p>time starting from 1973</p>
</dd>
<dt>count</dt><dd><p>number of transistors</p>
</dd>
</dl>

<hr>
<h2 id='pam.censor'>Prediction Accuracy Measures for Regression Models of Right-Censored Data</h2><span id='topic+pam.censor'></span>

<h3>Description</h3>

<p>This function calculates a pair of measures, R-Squared and L-Squared, for any regression models of right-censored data. R-squared is an extension of the classical R2 statistic for a linear model, quantifying the amount of variability in the response that is explained by a corrected prediction based on the original prediction function. L-squared is the proportion of the prediction error of the original prediction function that is explained by the corrected prediction function, quantifying the distance between the corrected and uncorrected predictions. When used together, they give a complete summary of the predictive power of a prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pam.censor(y, y.predict, delta)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pam.censor_+3A_y">y</code></td>
<td>
<p>A numeric vector containing the response values.</p>
</td></tr>
<tr><td><code id="pam.censor_+3A_y.predict">y.predict</code></td>
<td>
<p>A numeric vector containing the predicted response values from a fitted model.</p>
</td></tr>
<tr><td><code id="pam.censor_+3A_delta">delta</code></td>
<td>
<p>A numeric vector indicating the status of the event, normally 0=alive, 1=dead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two components: R-squared and L-squared
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
library(PAmeasures)

# Use Mayo Clinic Primary Biliary Cirrhosis Data
data(pbc)

# Fit an exponential model with bilirubin
fit1 &lt;- survreg(Surv(time, status==2) ~ bili, data = pbc,dist="exponential" )

# Obtain predicted response from the fitted exponential model
predict.time&lt;-predict(fit1,type="response")

# Recode status at endpoint, 0 for censored, 1 for dead
delta.pbc&lt;- as.numeric(pbc$status == 2)

# R.squared and L.squared of log-linear model
pam.censor(pbc$time, predict.time, delta.pbc)
</code></pre>

<hr>
<h2 id='pam.coxph'>Prediction Accuracy Measures for Cox proportional hazards model</h2><span id='topic+pam.coxph'></span>

<h3>Description</h3>

<p>This function calculates a pair of measures, R-Squared and L-Squared, for Cox proportional hazards model. R-squared is an extension of the classical R2 statistic for a linear model, quantifying the amount of variability in the response that is explained by a corrected prediction based on the original prediction function. L-squared is the proportion of the prediction error of the original prediction function that is explained by the corrected prediction function, quantifying the distance between the corrected and uncorrected predictions. When used together, they give a complete summary of the predictive power of a prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pam.coxph(fit.cox)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pam.coxph_+3A_fit.cox">fit.cox</code></td>
<td>
<p>object inheriting from class coxph representing a fitted Cox proportional hazards
regression model. Specifying x = TRUE and y=TRUE are required in the call to coxph( )
to include the design matrix and the response vector in the object fit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two components: R-squared and L-squared
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
library(PAmeasures)

# Use Mayo Clinic Primary Biliary Cirrhosis Data
data(pbc)

head(pbc)


# Fit a univariate Cox PH model with standardised blood clotting time
fit1 &lt;- coxph(Surv(time, status==2) ~ protime, data = pbc,x=TRUE,y=TRUE)

# R.squared and L.squared of Cox PH model
pam.coxph(fit1)

# Fit a multiple Cox PH model with bilirubin and standardised blood clotting time
fit2 &lt;- coxph(Surv(time, status==2) ~ bili + protime, data = pbc,x=TRUE,y=TRUE)

# R.squared and L.squared of Cox PH model
pam.coxph(fit2)
</code></pre>

<hr>
<h2 id='pam.nlm'>Prediction Accuracy Measures for Nonlinear Regression Models.</h2><span id='topic+pam.nlm'></span>

<h3>Description</h3>

<p>This function calculates a pair of measures, R-Squared and L-Squared, for any nonlinear regression model. R-squared is an extension of the classical R2 statistic for a linear model, quantifying the amount of variability in the response that is explained by a corrected prediction based on the original prediction function. L-squared is the proportion of the prediction error of the original prediction function that is explained by the corrected prediction function, quantifying the distance between the corrected and uncorrected predictions. When used together, they give a complete summary of the predictive power of a prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pam.nlm(y, y.predict)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pam.nlm_+3A_y">y</code></td>
<td>
<p>A numeric vector containing the response values.</p>
</td></tr>
<tr><td><code id="pam.nlm_+3A_y.predict">y.predict</code></td>
<td>
<p>A numeric vector containing the predicted response values from a fitted model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two components: R-squared and L-squared
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(PAmeasures)

data(moore)

head(moore)

# Transistor count
count &lt;- moore$count

time&lt;-moore$time

# Fit a log-linear model
moore.glm= glm(log2(count) ~ time, family=gaussian(link = "identity") )

# Obtain predicted transistor count
count.predict&lt;-2^(predict(moore.glm,newdata = data.frame(X = time),type = "response" ))

# R.squared and L.squared of log-linear model
pam.nlm(count, count.predict)
</code></pre>

<hr>
<h2 id='pam.survreg'>Prediction Accuracy Measures for Parametric Survival Regression Models</h2><span id='topic+pam.survreg'></span>

<h3>Description</h3>

<p>This function calculates a pair of measures, R-Squared and L-Squared, for parametric survival regression models. R-squared is an extension of the classical R2 statistic for a linear model, quantifying the amount of variability in the response that is explained by a corrected prediction based on the original prediction function. L-squared is the proportion of the prediction error of the original prediction function that is explained by the corrected prediction function, quantifying the distance between the corrected and uncorrected predictions. When used together, they give a complete summary of the predictive power of a prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pam.survreg(fit.survreg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pam.survreg_+3A_fit.survreg">fit.survreg</code></td>
<td>
<p>object inheriting from class survreg representing a fitted parametric survival
regression model. Specifying x = TRUE and y=TRUE are required in the call to survreg( )
to include the design matrix and the response vector in the object fit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two components: R-squared and L-squared
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
library(PAmeasures)

# Use Mayo Clinic Primary Biliary Cirrhosis Data
data(pbc)

head(pbc)

# Fit an exponential model with bilirubin
fit1 &lt;- survreg(Surv(time, status==2) ~ bili, data = pbc,dist="exponential",x=TRUE,y=TRUE)

# R.squared and L.squared of exponential model
pam.survreg(fit1)

# Fit a lognormal model with standardised blood clotting time
fit2 &lt;- survreg(Surv(time, status==2) ~ protime, data = pbc,dist="lognormal",x=TRUE,y=TRUE)

# R.squared and L.squared of lognormal model
pam.survreg(fit2)

# Fit a weibull model with bilirubin and standardised blood clotting time
fit3 &lt;- survreg(Surv(time, status==2) ~ bili + protime, data = pbc,dist="weibull",x=TRUE,y=TRUE)

# R.squared and L.squared of weibull model
pam.survreg(fit3)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

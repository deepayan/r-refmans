<!DOCTYPE html><html><head><title>Help for package hakaiApi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hakaiApi}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Client'><p>The Hakai API Client Class</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Authenticated HTTP Request Client for the 'Hakai' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Initializes a class that obtains API credentials and provides
    a method to use those credentials to make GET requests to the 'Hakai'
    API server. Usage instructions are documented at
    <a href="https://hakaiinstitute.github.io/hakai-api/">https://hakaiinstitute.github.io/hakai-api/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/HakaiInstitute/hakai-api-client-r">https://github.com/HakaiInstitute/hakai-api-client-r</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/HakaiInstitute/hakai-api-client-r/issues">https://github.com/HakaiInstitute/hakai-api-client-r/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, R6, readr, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, markdown, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-CA</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-18 20:59:42 UTC; taylor</td>
</tr>
<tr>
<td>Author:</td>
<td>Taylor Denouden [aut, cre],
  Brett Johnson [aut],
  Nate Rosenstock [ctb],
  Chris Davis [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Taylor Denouden &lt;taylor.denouden@hakai.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-18 22:04:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='Client'>The Hakai API Client Class</h2><span id='topic+Client'></span>

<h3>Description</h3>

<p>Class to use to make authenticated API requests for Hakai data
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>api_root</code></dt><dd><p>The api_root you are logged in to</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>Client$new()</code></a>
</p>
</li>
<li> <p><a href="#method-get"><code>Client$get()</code></a>
</p>
</li>
<li> <p><a href="#method-remove_credentials"><code>Client$remove_credentials()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>Client$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code></h4>

<p>Log into Google to gain credential access to the API
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$new(
  api_root = "https://hecate.hakai.org/api",
  login_page = "https://hecate.hakai.org/api-client-login"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>api_root</code></dt><dd><p>Optional API base url to fetch data.
Defaults to &quot;https://hecate.hakai.org/api&quot;</p>
</dd>
<dt><code>login_page</code></dt><dd><p>Optional API login page url to display to user.
Defaults to &quot;https://hecate.hakai.org/api-client-login&quot;</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A client instance
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>client &lt;- Client$new()
</pre>
</div>


<hr>
<a id="method-get"></a>



<h4>Method <code>get()</code></h4>

<p>Send a GET request to the API
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$get(endpoint_url)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>endpoint_url</code></dt><dd><p>The full API url to fetch data from</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A dataframe of the requested data
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>client$get("https://hecate.hakai.org/api/aco/views/projects")
</pre>
</div>


<hr>
<a id="method-remove_credentials"></a>



<h4>Method <code>remove_credentials()</code></h4>

<p>Remove your cached login credentials to logout of the client
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$remove_credentials()</pre></div>



<h5>Examples</h5>

<div class="r example copy">
<pre>client$remove_credentials()
</pre>
</div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Client$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'># Initialize a new client
client &lt;- Client$new()
# Follow authorization prompts to log in

# Retrieve some data. See &lt;https://hakaiinstitute.github.io/hakai-api/&gt; for options.
url &lt;- paste0(client$api_root, "/aco/views/projects?project_year=2020&amp;fields=project_name")
projects_2020 &lt;- client$get(url)

print(projects_2020)
# # A tibble: 20 x 1
#    project_name
#    &lt;chr&gt;
#  1 Fountain FN
#  2 Haig Glacier
#  3 Fraser River - Chimney Creek West William Canyon
#  4 Cruickshank WS
#  ...

## ------------------------------------------------
## Method `Client$new`
## ------------------------------------------------

client &lt;- Client$new()

## ------------------------------------------------
## Method `Client$get`
## ------------------------------------------------

client$get("https://hecate.hakai.org/api/aco/views/projects")

## ------------------------------------------------
## Method `Client$remove_credentials`
## ------------------------------------------------

client$remove_credentials()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

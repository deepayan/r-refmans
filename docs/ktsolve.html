<!DOCTYPE html><html lang="en"><head><title>Help for package ktsolve</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ktsolve}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ktsolve-package'>
<p>Configurable Function for Solving Families of Nonlinear Equations</p></a></li>
<li><a href='#ktsolve'><p>Configurable Function for Solving Families of Nonlinear Equations</p>
Version: 1.3</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Configurable Function for Solving Families of Nonlinear
Equations</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-28</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Witthoft</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Witthoft &lt;cellocgw@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>This is designed for use with an arbitrary set of equations with
 an arbitrary set of unknowns.
 The user selects "fixed" values for enough unknowns to leave as many variables as
 there are equations, which in most cases means the system is properly
 defined and a unique solution exists. The function, the fixed values
 and initial values for the remaining unknowns are fed to a nonlinear backsolver.  
 The original version of "TK!Solver" , now a product of Universal Technical Systems (<a href="https://www.uts.com">https://www.uts.com</a>) was the inspiration for this function.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, BB, nleqslv</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-28 15:02:28 UTC; cgw</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-29 16:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='ktsolve-package'>
Configurable Function for Solving Families of Nonlinear Equations
</h2><span id='topic+ktsolve-package'></span>

<h3>Description</h3>

<p>This function is designed for use with an arbitrary set of equations with an arbitrary set of unknowns.  The user selects &quot;fixed&quot; values for enough unknowns to leave as many variables as there are equations, which in most cases means the system is properly defined and a unique solution exists. The function, the fixed values, and initial values for the remaining unknowns are fed to a nonlinear backsolver.  
The original version of &quot;TK!Solver&quot; was the inspiration for this function.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> ktsolve</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.3</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2020-04-25</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note: <code>ktsolve</code> requires at least one of the &quot;Suggests&quot; packages (currently <code>BB</code> and <code>nleqslv</code> ) to execute nonlinear back-solvers.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft
</p>
<p>Maintainer: Carl Witthoft,  carl@witthoft.com
</p>

<hr>
<h2 id='ktsolve'>Configurable Function for Solving Families of Nonlinear Equations
Version: 1.3
</h2><span id='topic+ktsolve'></span>

<h3>Description</h3>

<p>This function is designed for use with an arbitrary set of equations with an arbitrary set of unknowns.  The user selects &quot;fixed&quot; values for enough unknowns to leave as many variables as there are equations, which in most cases means the system is properly defined and a unique solution exists. The function, the fixed values, and initial values for the remaining unknowns are fed to a nonlinear backsolver.  
As of version 1.3, supports  <code>BB</code> and <code>nleqslv</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ktsolve(yfunc, known = list(), guess, 
tool = c("BB", "nleqslv"), show = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ktsolve_+3A_yfunc">yfunc</code></td>
<td>
<p> a function which accepts a vector of length n and produces an output vector of length n.  See the rules for constructing <code>yfunc</code> below.
</p>
</td></tr>
<tr><td><code id="ktsolve_+3A_known">known</code></td>
<td>

<p>A list  of known values.  The elements must be named and the names must match variable names in yfunc.
</p>
</td></tr>
<tr><td><code id="ktsolve_+3A_guess">guess</code></td>
<td>

<p>A list or vector of initial guesses for the unknown values.  The elements must be named and the names must match variable names in yfunc. AND length(guess)  must be same as the number  of y[j] equations in yfunc, to avoid having an over- or under-defined system.  
</p>
</td></tr>
<tr><td><code id="ktsolve_+3A_tool">tool</code></td>
<td>
<p> name of package which holds the solver to be used. Currently only <code>BB::BBsolve</code>and <code>nleqslv::nleqslv</code> are supported.  
</p>
</td></tr>
<tr><td><code id="ktsolve_+3A_show">show</code></td>
<td>
<p> if TRUE, the solution values are printed in brief form to the console.
</p>
</td></tr>
<tr><td><code id="ktsolve_+3A_...">...</code></td>
<td>
<p> additional arguments to pass to the selected <code>tool</code> package.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input form of  <code>yfunc</code>  is a function of the form:
</p>
<pre> yfunc&lt;-function(x) {
y&lt;-vector()
y[1]&lt;-f1(known,guess)
y[2]&lt;-f2(known,guess)
.
.
.
y[n]&lt;-fn(known,guess)
}
</pre>
<p>where y[j] are dummies which will be driven to zero,
and x is a dummy vector which is used (with the &quot;guess&quot; values) to run the solver.
So, eqns in the form <code>A=f(x)</code> must be entered as  <code>y[j] &lt;- f(x)-A </code>  
</p>
<p>For example,  <code>d = a + sqrt(b)</code> and  <code>a = sin(a/b) + g*exp(f*a) </code>  become
</p>
<p><code>y[1]&lt;- a - d +sqrt(b) </code> and <code>y[2]&lt;- sin(a/b) +g*exp(f*a) -a </code>, 
</p>
<p>and e.g.
<code>known &lt;- list(a=3,d=5,g=.1) </code> are the fixed parameters and
</p>
<p><code>guess &lt;- list(b=1,f=1) </code>  are the initializers for the solver.
</p>
<p>Note that it is not necessary to have any <code>known</code> values if the function in question has as many (independent) equations as unknowns.  
One of the handy things about <code>ktsolve</code> is the ease with which one can swap 'known' and 'guess' inputs to evaluate the system over different parameter sets.  


</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>results</code></td>
<td>
<p>The output returned from the called solver package. As such, the contents and structure depend on which package was invoked via the <code>tools</code> argument.</p>
</td></tr>
<tr><td><code>tool</code></td>
<td>
<p>Echoes back the selected solver  package used for reference.</p>
</td></tr>
<tr><td><code>yfunc</code></td>
<td>
<p>Returns the modified <code>yfunc</code> as a <code>function</code> for the user to review and /or  use to process additional data, using the fit values generated.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The original version of TK!Solver  provided a very nice GUI-based version of what I've done in <code>ktsolver</code>.  Over the years, it's turned into a very large, powerful, and,sadly, expensive application. You can find it at <a href="https://www.uts.com/Products/Tksolver">https://www.uts.com/Products/Tksolver</a>
</p>


<h3>Author(s)</h3>

<p> Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

 
<p><code><a href="BB.html#topic+BBsolve">BBsolve</a></code> , <code><a href="nleqslv.html#topic+nleqslv">nleqslv</a></code>  
</p>


<h3>Examples</h3>

<pre><code class='language-R'>zfunc&lt;-function(x) {
	z&lt;-vector()
z[1]&lt;- 4*var1 -3*var2 +5*var3
z[2]&lt;-8*var1 +5*var2 -2*var3
z
}

 known=list(var2=5)
 guess=list(var1=2,var3=0)
 solv1 &lt;- ktsolve(zfunc,known=known,guess=guess)
#   Successful convergence.
# solution is:
#      var1      var3 
# -1.979167  4.583333 
# "known" inputs were:
#       var2
# known 5  
 eval(solv1$yfunc)(solv1$results$par)

 
 known=list(var1=5)
 guess=list(var2=2,var3=0)
 solv2&lt;- ktsolve(zfunc,known=known,guess=guess)
#   Successful convergence.
# solution is:
#      var2      var3 
# -12.63158 -11.57895 
# "known" inputs were:
#       var1
# known 5   
eval(solv2$yfunc)(solv2$results$par)
 </code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

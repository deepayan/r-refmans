<!DOCTYPE html><html lang="en-GB"><head><title>Help for package ICD10gm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ICD10gm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#charlson_rcs'><p>Charlson Comorbidities (Royal College of Surgeons)</p></a></li>
<li><a href='#charlson_sundararajan'><p>Charlson Comorbidities (Sundararajan)</p></a></li>
<li><a href='#get_icd_history'><p>Get ICD history metadata</p></a></li>
<li><a href='#get_icd_labels'><p>Get or query ICD-10 labels</p></a></li>
<li><a href='#icd_browse'><p>Lookup a 3-digit ICD-10-GM code in the official BfArM browser</p></a></li>
<li><a href='#icd_expand'><p>Expand list of ICD codes to include all possible subcodes</p></a></li>
<li><a href='#icd_history'><p>Historize a list of ICD codes to cover the specified years</p></a></li>
<li><a href='#icd_lookup'><p>Lookup an ICD-10 code in R</p></a></li>
<li><a href='#icd_meta_blocks'><p>data.frame containing metadata for the ICD-10-GM code blocks</p></a></li>
<li><a href='#icd_meta_chapters'><p>data.frame containing metadata for the ICD-10-GM chapters</p></a></li>
<li><a href='#icd_meta_codes'><p>data.frame containing metadata for all ICD-10-GM codes</p></a></li>
<li><a href='#icd_meta_transition'><p>data.frame detailling the changes in ICD-10-GM codes between versions</p></a></li>
<li><a href='#icd_parse'><p>Extract all ICD codes from a character vector</p></a></li>
<li><a href='#icd_search'><p>Search ICD-10-GM labels for a string</p></a></li>
<li><a href='#icd_showchanges'><p>Show historical changes to selected ICD-10-GM codes</p></a></li>
<li><a href='#icd_showchanges_icd3'><p>Show historical changes to selected three-digit ICD-10-GM codes</p></a></li>
<li><a href='#is_icd_code'><p>Test whether a string is a valid ICD code</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Metadata Processing for the German Modification of the ICD-10
Coding System</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-02-21</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides convenient access to the German modification of the International Classification of Diagnoses, 10th revision (ICD-10-GM). It provides functionality to aid in the identification, specification and historisation of ICD-10 codes. Its intended use is the analysis of routinely collected data in the context of epidemiology, medical research and health services research. The underlying metadata are released by the German Institute for Medical Documentation and Information <a href="https://www.dimdi.de">https://www.dimdi.de</a>, and are redistributed in accordance with their license.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://edonnachie.github.io/ICD10gm/">https://edonnachie.github.io/ICD10gm/</a>,
<a href="https://doi.org/10.5281/zenodo.2542833">https://doi.org/10.5281/zenodo.2542833</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/edonnachie/ICD10gm/issues/">https://github.com/edonnachie/ICD10gm/issues/</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, dplyr, purrr, tidyr, tidyselect, stringi, rlang,
tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown, rvest</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-25 08:14:53 UTC; ewan</td>
</tr>
<tr>
<td>Author:</td>
<td>Ewan Donnachie <a href="https://orcid.org/0000-0002-0668-0049"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ewan Donnachie &lt;ewan@donnachie.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-26 01:00:17 UTC</td>
</tr>
</table>
<hr>
<h2 id='charlson_rcs'>Charlson Comorbidities (Royal College of Surgeons)</h2><span id='topic+charlson_rcs'></span>

<h3>Description</h3>

<p>Specification of the Charlson comorbidity index
in the version of the Royal College of Surgeons (2010).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>charlson_rcs
</code></pre>


<h3>Format</h3>

<p>An object of class <code>spec_tbl_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 124 rows and 2 columns.
</p>


<h3>Details</h3>

<p>The specification can be expanded using the <a href="#topic+icd_expand">icd_expand</a>
function to return all corresponding ICD-10-GM codes.
</p>
<p>This table was created on the basis of the publication
referenced below. It is provided as is with no guarantee
of accuracy. Furthermore, the applicability of the codes
in the context of the German ICD-10-GM is unclear.
</p>

<dl>
<dt>Condition</dt><dd><p>Disease entity</p>
</dd>
<dt>ICD_SPEC</dt><dd><p>Secification of the corresponding ICD-10 codes, suitable for input to <a href="#topic+icd_expand">icd_expand</a></p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://doi.org/10.1002/bjs.6930">doi:10.1002/bjs.6930</a>
</p>


<h3>See Also</h3>

<p>Other Charlson: 
<code><a href="#topic+charlson_sundararajan">charlson_sundararajan</a></code>
</p>

<hr>
<h2 id='charlson_sundararajan'>Charlson Comorbidities (Sundararajan)</h2><span id='topic+charlson_sundararajan'></span>

<h3>Description</h3>

<p>Specification of the Charlson comorbidity index
in the version of Sunhararahan et al. (2004).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>charlson_sundararajan
</code></pre>


<h3>Format</h3>

<p>An object of class <code>spec_tbl_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 17 rows and 3 columns.
</p>


<h3>Details</h3>

<p>The specification can be expanded using the <a href="#topic+icd_expand">icd_expand</a>
function to return all corresponding ICD-10-GM codes.
</p>
<p>This table was created on the basis of the publication
referenced below. It is provided as is with no guarantee
of accuracy. Furthermore, the applicability of the codes
in the context of the German ICD-10-GM is unclear.
</p>

<dl>
<dt>Condition</dt><dd><p>Disease entity</p>
</dd>
<dt>Weight</dt><dd><p>Controbition of the disease entity towords the combined comorbidity index</p>
</dd>
<dt>ICD_10_AM</dt><dd><p>Secification of the corresponding ICD-10 codes, suitable for input to <a href="#topic+icd_expand">icd_expand</a></p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://doi.org/10.1016/j.jclinepi.2004.03.012">doi:10.1016/j.jclinepi.2004.03.012</a>
</p>


<h3>See Also</h3>

<p>Other Charlson: 
<code><a href="#topic+charlson_rcs">charlson_rcs</a></code>
</p>

<hr>
<h2 id='get_icd_history'>Get ICD history metadata</h2><span id='topic+get_icd_history'></span>

<h3>Description</h3>

<p>A utility function to query the <a href="#topic+icd_meta_transition">icd_meta_transition</a> table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_icd_history(years = NULL, icd3 = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_icd_history_+3A_years">years</code></td>
<td>
<p>Year or years to get (numeric or character vector)</p>
</td></tr>
<tr><td><code id="get_icd_history_+3A_icd3">icd3</code></td>
<td>
<p>(optional) ICD codes to select (regular expression, matched exactly using grep)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a data frame with ICD transition history, consisting of
year, ICD code and label. Optional arguments allow selection of
entries by year or ICD code. This is beneficial because the
entire history is relatively large and rarely required in full.
</p>


<h3>Value</h3>

<p>data.frame, see icd_hist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_icd_history(years = 2009:2010, icd3 = "K52")
</code></pre>

<hr>
<h2 id='get_icd_labels'>Get or query ICD-10 labels</h2><span id='topic+get_icd_labels'></span>

<h3>Description</h3>

<p>A utility function to get or query <a href="#topic+icd_meta_codes">icd_meta_codes</a>,
returning a limited selection of ICD-10 codes and labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_icd_labels(year = NULL, icd3 = NULL, search = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_icd_labels_+3A_year">year</code></td>
<td>
<p>Year or years to get (numeric or character vector)</p>
</td></tr>
<tr><td><code id="get_icd_labels_+3A_icd3">icd3</code></td>
<td>
<p>A character vector of three-digit ICD-10 codes to select</p>
</td></tr>
<tr><td><code id="get_icd_labels_+3A_search">search</code></td>
<td>
<p>(optional) A string to search for in the label column using fuzzy matching (agrep)</p>
</td></tr>
<tr><td><code id="get_icd_labels_+3A_...">...</code></td>
<td>
<p>(optional) Further arguments passed to agrep when searching with icd_label</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If an ICD code is provided as argument <code>icd3</code>, all
corresponding codes and subcodes are returned. If a search
term is provided, all codes are returned whose label matches
the string approximately.
</p>
<p>Returns a data frame with ICD metadata, consisting of
year, ICD code and label. Optional arguments allow selection of
entries by year, code or label. This is beneficial because the
entire history is relatively large and rarely required in full.
</p>


<h3>Value</h3>

<p>data.frame(year, icd3, icd_code, icd_normcode, icd_sub, label), see icd_labels
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_icd_labels(year = 2019, icd3 = "I25")
get_icd_labels(year = 2019, search = "Asthma")
</code></pre>

<hr>
<h2 id='icd_browse'>Lookup a 3-digit ICD-10-GM code in the official BfArM browser</h2><span id='topic+icd_browse'></span>

<h3>Description</h3>

<p>Given a 3-digit ICD-10-GM code, this function will generate the URL of the
corresponding page of the BfArM ICD-10-GM browser, and use <code>browseURL()</code> to
open it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_browse(icd3, year = NULL, open_browser = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_browse_+3A_icd3">icd3</code></td>
<td>
<p>3-digit ICD-10-GM code (e.g. &quot;A01&quot;)</p>
</td></tr>
<tr><td><code id="icd_browse_+3A_year">year</code></td>
<td>
<p>ICD-10-GM version (default: most recent available version). Only works for year &gt;= 2009.</p>
</td></tr>
<tr><td><code id="icd_browse_+3A_open_browser">open_browser</code></td>
<td>
<p>Whether to open the ICD-10-GM documentation in the default browser (Default: TRUE, as this is the primary intention of the function)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This currently provides the correct URL for ICD-10-GM versions from 2009.
Given that BfArM are still using the old dimdi.de domain for this purpose,
it is possible that the URL schema will change in the near future.
</p>
<p>This is a convenience function intended for interactive use.
</p>


<h3>Value</h3>

<p>Called for side-effect, but returns the URL invisibly
<code><a href="#topic+icd_search">icd_search()</a></code> to search for a string in the ICD-10-GM labels
<code><a href="#topic+icd_lookup">icd_lookup()</a></code> to lookup an ICD-10-GM code in the console
</p>


<h3>Examples</h3>

<pre><code class='language-R'>icd_browse("R50", open_browser = FALSE)
</code></pre>

<hr>
<h2 id='icd_expand'>Expand list of ICD codes to include all possible subcodes</h2><span id='topic+icd_expand'></span>

<h3>Description</h3>

<p>The function <code>icd_expand</code> takes a data.frame containing ICD codes
and optional metadata as input. It returns a data.frame containing
all ICD codes at or below the specified level of the hierarchy
(e.g. the specification &quot;E11&quot; is expanded to include all three,
four and five-digit codes beginning with E11).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_expand(
  icd_in,
  year,
  col_icd = "ICD",
  col_meta = NULL,
  type = "strict",
  ignore_icd_errors = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_expand_+3A_icd_in">icd_in</code></td>
<td>
<p>Data frame defining ICD codes of interest</p>
</td></tr>
<tr><td><code id="icd_expand_+3A_year">year</code></td>
<td>
<p>ICD 10 version</p>
</td></tr>
<tr><td><code id="icd_expand_+3A_col_icd">col_icd</code></td>
<td>
<p>Column of icd_in containing ICD codes (Default: ICD)</p>
</td></tr>
<tr><td><code id="icd_expand_+3A_col_meta">col_meta</code></td>
<td>
<p>(Optional) Columns containing meta information to retain (e.g. Grouper, age or other criteria for later use). If left NULL, only col_icd is retained.</p>
</td></tr>
<tr><td><code id="icd_expand_+3A_type">type</code></td>
<td>
<p>A character string determining how strictly matching should be performed, passed to <code>icd_parse</code>. This must be one of &quot;strict&quot; (<code>str</code> contains a ICD code with no extraneous characters), <code>bounded</code> (<code>str</code> contains an ICD code with a word boundary on both sides) or <code>weak</code> (ICD codes are extracted even if they are contained within a word, e.g. &quot;E10Diabetes&quot; would return &quot;E10&quot;). Default: <code>strict</code>.</p>
</td></tr>
<tr><td><code id="icd_expand_+3A_ignore_icd_errors">ignore_icd_errors</code></td>
<td>
<p>logical. Whether to ignore incorrectly specified input (potentially leading to incomplete output) or stop if any ICD specification does not correspond to a valid ICD code. Default: <code>FALSE</code>, stop on error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with columns YEAR, ICD_CODE, ICD_COMPRESSED, ICD_LABEL and, if specified, columns specified by col_meta
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd_history">icd_history()</a></code> to historize the output
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Incomplete or non-terminal codes expand to the right.
# This is useful to specified code blocks in a compact manner
icd_meta &lt;- data.frame(ICD = "R1")
icd_expand(icd_meta, year = 2019)

# Optional metadata columns can be carried
# through with the specification
icd_meta &lt;- data.frame(ICD = "M54", icd_label = "Back pain")
icd_expand(icd_meta, year = 2019, col_meta = "icd_label")

</code></pre>

<hr>
<h2 id='icd_history'>Historize a list of ICD codes to cover the specified years</h2><span id='topic+icd_history'></span>

<h3>Description</h3>

<p>The function <code>icd_history</code> takes the result of <code>icd_expand</code>,
specified for a particular year, and returns a data.frame
containing all corresponding codes for the specified years
(from 2003). To do this, it applies the ICD-10-GM transition
tables to map codes between successive ICD-10-GM versions.
Only automatic transitions are followed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_history(icd_expand, years, custom_transitions = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_history_+3A_icd_expand">icd_expand</code></td>
<td>
<p>A data.frame (e.g. as generated by the function icd_expand)</p>
</td></tr>
<tr><td><code id="icd_history_+3A_years">years</code></td>
<td>
<p>Years to historize (e.g. 2005:2014)</p>
</td></tr>
<tr><td><code id="icd_history_+3A_custom_transitions">custom_transitions</code></td>
<td>
<p>(Optional) A data.frame containing custom transitions to complement the official transitions provided by <code>icd_meta_transition</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with columns YEAR, ICD_CODE, ICD_COMPRESSED, ICD_LABEL and, if specified, DIAG_GROUP
#' @seealso <code><a href="#topic+icd_expand">icd_expand()</a></code> to generate the necessary input
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Between 2018 and 2019, causalgia (G56.4) was reclassified
# under G90 as a complex regional pain syndrome
icd_meta &lt;- data.frame(ICD = "G56.4", ICD_LABEL = "Causalgia")
icd_meta_expanded &lt;- icd_expand(icd_meta, year = 2018, col_meta = "ICD_LABEL")
icd_history(icd_meta_expanded, years = 2018:2019)
</code></pre>

<hr>
<h2 id='icd_lookup'>Lookup an ICD-10 code in R</h2><span id='topic+icd_lookup'></span>

<h3>Description</h3>

<p>This is a convenience function to quickly look up the label associated with
one or more ICD-10 codes. By default, it performs the lookup using the most
recent version of the ICD-10-GM available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_lookup(icd, year = NULL, expand = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_lookup_+3A_icd">icd</code></td>
<td>
<p>ICD code to look up (any format that can be recognised by <code>icd_parse</code>)</p>
</td></tr>
<tr><td><code id="icd_lookup_+3A_year">year</code></td>
<td>
<p>ICD-10-GM version to use (Default: most recent year available)</p>
</td></tr>
<tr><td><code id="icd_lookup_+3A_expand">expand</code></td>
<td>
<p>Should all subcodes of the given code be returned? (Default: TRUE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a convenience function intended for interactive use. The browser will
only be opened if R is being used interactively. The function always returns
invisibly the URL of the page to be opened.
</p>


<h3>Value</h3>

<p>A tibble with three columns: (year, icd_sub, label) and one row for each result
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd_search">icd_search()</a></code> to search for a string in the ICD-10-GM labels
<code><a href="#topic+icd_browse">icd_browse()</a></code> to lookup an ICD-10-GM code in the official BfArM documentation, opening the page in a browser
</p>


<h3>Examples</h3>

<pre><code class='language-R'>icd_lookup("E10.9")

</code></pre>

<hr>
<h2 id='icd_meta_blocks'>data.frame containing metadata for the ICD-10-GM code blocks</h2><span id='topic+icd_meta_blocks'></span>

<h3>Description</h3>

<p>The ICD blocks (German: &quot;Gruppen&quot;) constitute a level in the hierarchy
between the chapters and the three-digit codes. The three-digit code are
grouped in sequence to form 240 groups that represent similar aetiological
diagnoses. Unlike some other grouper systems, the ICD blocks do not consider
similar diagnoses from different chapters of the ICD classification, for
example chronic pain coded as a unspecific symptom (R52.1) and as a
somatoform disorder (F45.4).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_meta_blocks
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 4813 rows and 6 columns.
</p>


<h3>Details</h3>


<dl>
<dt>year</dt><dd><p>Year of validity (from 2004)</p>
</dd>
<dt>icd_block_first</dt><dd><p>First three-digit ICD code in the block</p>
</dd>
<dt>icd_block_last</dt><dd><p>Last three-digit ICD code in the block</p>
</dd>
<dt>chapter</dt><dd><p>ICD-10 chapter to which the block belongs</p>
</dd>
<dt>block_label</dt><dd><p>Label for the block</p>
</dd>
<dt>block_id</dt><dd><p>Short label for the block in format &quot;A00-A09&quot;</p>
</dd>
</dl>



<h3>Source</h3>

<p>The source data was downloaded from the official download centre
of the German Institute for Medical Documentation and Information (DIMDI).
See also <a href="https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/structure/">https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/structure/</a>
</p>


<h3>See Also</h3>

<p>Other ICD-10-GM metadata: 
<code><a href="#topic+icd_meta_chapters">icd_meta_chapters</a></code>,
<code><a href="#topic+icd_meta_codes">icd_meta_codes</a></code>,
<code><a href="#topic+icd_meta_transition">icd_meta_transition</a></code>
</p>

<hr>
<h2 id='icd_meta_chapters'>data.frame containing metadata for the ICD-10-GM chapters</h2><span id='topic+icd_meta_chapters'></span>

<h3>Description</h3>

<p>The ICD chapters group codes according to their aetiology.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_meta_chapters
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 440 rows and 4 columns.
</p>


<h3>Details</h3>


<dl>
<dt>year</dt><dd><p>Year of validity (from 2004)</p>
</dd>
<dt>chapter</dt><dd><p>Chapter number (arabic numerals)</p>
</dd>
<dt>chapter_roman</dt><dd><p>Chapter number (Roman numerals)</p>
</dd>
<dt>chapter_label</dt><dd><p>Label for the chapter</p>
</dd>
</dl>



<h3>Source</h3>

<p>The source data was downloaded from the official download centre
of the German Institute for Medical Documentation and Information (DIMDI).
See also <a href="https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/structure/">https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/structure/</a>
</p>


<h3>See Also</h3>

<p>Other ICD-10-GM metadata: 
<code><a href="#topic+icd_meta_blocks">icd_meta_blocks</a></code>,
<code><a href="#topic+icd_meta_codes">icd_meta_codes</a></code>,
<code><a href="#topic+icd_meta_transition">icd_meta_transition</a></code>
</p>

<hr>
<h2 id='icd_meta_codes'>data.frame containing metadata for all ICD-10-GM codes</h2><span id='topic+icd_meta_codes'></span>

<h3>Description</h3>

<p>DIMDI provide a CSV file with metadata on all valid codes. This table is
read in with only minor modifications to facilitate changes between versions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_meta_codes
</code></pre>


<h3>Format</h3>

<p>A data.frame containing the following variables:
</p>

<dl>
<dt>year</dt><dd><p>Year of validity (from 2004)</p>
</dd>
<dt>level</dt><dd><p>Level of the hierarchy (3, 4 or 5 digits)</p>
</dd>
<dt>terminal</dt><dd><p>Whether the code is a terminal code (i.e. with no further subcodes) (T: yes; N: no)</p>
</dd>
<dt>subcode_type</dt><dd><p>Whether the subcode is pre- or postcombinated (X: precombinated; S: postcombinated). Precombinated codes are listed directly under the three-digit ICD code, whereas postcombinated codes are lists of possible values for the fourth and fifth digits that are not specific to the particular code (e.g. the group E10-E14 shares a common list of postcombinated fourth and fifth digits)</p>
</dd>
<dt>chapter_nr</dt><dd><p>Chapter number (arabic digits 1-22)</p>
</dd>
<dt>icd_block_first</dt><dd><p>First code in the respective ICD block, can be used to join with the table ICD10gm::icd_meta_blocks</p>
</dd>
<dt>icd_code</dt><dd><p>Full icd code (up to 7 characters) with all symbols except the &quot;dagger&quot; (for aetiological codes that can be combined with an &quot;asterisk&quot; code to denote the manifestation)</p>
</dd>
<dt>icd_normcode</dt><dd><p>The ICD &quot;normcode&quot;, consisting of up to 6 characters and without all symbols except the period (e.g. E11.30)</p>
</dd>
<dt>icd_sub</dt><dd><p>Complete ICD code without any symbols or punctuation, consisting of up to 5 characters  (e.g. E1130)</p>
</dd>
<dt>label</dt><dd><p>ICD label for the complete code.</p>
</dd>
<dt>label_icd3</dt><dd><p>ICD label for the three-digit ICD code.</p>
</dd>
<dt>label_icd4</dt><dd><p>ICD label for fourth digit of the ICD code.</p>
</dd>
<dt>label_icd5</dt><dd><p>ICD label for the fifth digit of the ICD code.</p>
</dd>
<dt>usage_295</dt><dd><p>Usage of the code in the ambulatory sector (Paragraph 295 SGB V) (P: primary code; O: only as a &quot;star&quot; code in conjunction with a &quot;dagger&quot; code for aetiology; Z: only an optional &quot;!&quot; code in conjunction with a primary code; V: not to be used for coding)</p>
</dd>
<dt>usage_301</dt><dd><p>Usage of the code in the stationary (hospital) sector (Paragraph 301 SGB V) (P: primary code; O: only as a &quot;star&quot; code in conjunction with a &quot;dagger&quot; code for aetiology; Z: only an optional &quot;!&quot; code in conjunction with a primary code; V: not to be used for coding)</p>
</dd>
<dt>mort_list1</dt><dd><p>Key to join with the WHO mortality list 1</p>
</dd>
<dt>mort_list2</dt><dd><p>Key to join with the WHO mortality list 2</p>
</dd>
<dt>mort_list3</dt><dd><p>Key to join with the WHO mortality list 3</p>
</dd>
<dt>mort_list4</dt><dd><p>Key to join with the WHO mortality list 4</p>
</dd>
<dt>morb_list</dt><dd><p>Key to join with the WHO morbidity list</p>
</dd>
<dt>gender_specific</dt><dd><p>Whether the diagnosis is gender specific (M: male; W: female; 9: Not gender specific)</p>
</dd>
<dt>gender_error_type</dt><dd><p>Type of error implied by the field <code>gender_specific</code> (9: irrelevant; K: possible error)</p>
</dd>
<dt>age_min</dt><dd><p>Minimum age for which the diagnosis is plausible (T001: from one day; Y005: from five years)</p>
</dd>
<dt>age_max</dt><dd><p>Maximum age for which the diagnosis is plausible (T010: up to 10 days; Y005: up to five years)</p>
</dd>
<dt>age_error_type</dt><dd><p>Type of error resulting from implausible age (9: irrelevant; M: always an error (&quot;Muss-Fehler&quot;); K: possible error (&quot;Kann-Fehler&quot;))</p>
</dd>
<dt>rare_in_central_europe</dt><dd><p>Indicates whether the diagnosis is rare in Central Europe (J: yes; N: no)</p>
</dd>
<dt>code_with_content</dt><dd><p>Indicates whether the code has content associated with it (J: yes; N: no, leads to an error)</p>
</dd>
<dt>notifiable</dt><dd><p>Indicates whether the diagnosis is notifiable in Germany (J: yes; N: no)</p>
</dd>
<dt>notifiable_lab</dt><dd><p>Indicates whether the diagnosis is notifiable for laboratories in Germany (J: yes; N: no)</p>
</dd>
</dl>



<h3>Details</h3>

<p>This metadata is not suitable for operative coding and does not include all
relevant information concerning the codes. For example, the file contains
neither the inclusion and exclusion notes nor the detailed definitions
(where present, mainly in Chapter V). DIMDI provide additional reference
material for operative coding and detailed research.
</p>
<p>The block U00-U49 contains reserved codes that can be allocated quickly for
the documentation of new diseases or epidemiological phenomena. Such usage
is allowed only when mandated by DIMDI. In particular, the codes may not be
utilised on the initiative of other parties, for example, for clinical trials
or contractual purposes. Notable uses of the reserved codes are for the Zika
and COVID-19 viruses. These are included in the DIMDI online documentation,
but not in the download files. They are therefore added manually to this
data set as documented in the <a href="https://github.com/edonnachie/ICD10gm/blob/master/data-raw/additions/icd_meta_codes_additions.json">package source</a>.
</p>
<p>Die Schlüsselnummern U05.0-U05.9 dieser Kategorie sollen ein schnelles Reagieren auf aktuelle epidemiologische Phänomene ermöglichen. Sie dürfen nur zusätzlich benutzt werden, um einen anderenorts klassifizierten Zustand besonders zu kennzeichnen. Die Schlüsselnummern dieser Kategorie dürfen nur über das Deutsche Institut für Medizinische Dokumentation und Information (DIMDI) mit Inhalten belegt werden; eine Anwendung für andere Zwecke ist nicht erlaubt. DIMDI wird den Anwendungszeitraum solcher Schlüsselnummern bei Bedarf bekannt geben.
</p>


<h3>Source</h3>

<p>The source data was downloaded from the official download centre
of the German Institute for Medical Documentation and Information (DIMDI).
See also <a href="https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/#metadata">https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/#metadata</a>
</p>


<h3>See Also</h3>

<p>Other ICD-10-GM metadata: 
<code><a href="#topic+icd_meta_blocks">icd_meta_blocks</a></code>,
<code><a href="#topic+icd_meta_chapters">icd_meta_chapters</a></code>,
<code><a href="#topic+icd_meta_transition">icd_meta_transition</a></code>
</p>

<hr>
<h2 id='icd_meta_transition'>data.frame detailling the changes in ICD-10-GM codes between versions</h2><span id='topic+icd_meta_transition'></span>

<h3>Description</h3>

<p>A data.frame providing old and new ICD codes
(identical if no changes)
and information as to whether the transition is automatic when
transitioning forwards or backwards
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_meta_transition
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 257310 rows and 12 columns.
</p>


<h3>Details</h3>


<dl>
<dt>year_from</dt><dd><p>Year of validity of the old code (from 2004)</p>
</dd>
<dt>year_to</dt><dd><p>Year of validity of the new code (from 2005)</p>
</dd>
<dt>icd_from</dt><dd><p>Old ICD code</p>
</dd>
<dt>icd_to</dt><dd><p>New ICD code</p>
</dd>
<dt>automatic_forward</dt><dd><p>Whether the transition is automatic in the forward direction (i.e. the old code can always be converted to the new code). (A: automatic, otherwise NA)</p>
</dd>
<dt>automatic_backward</dt><dd><p>Whether the transition is automatic in the forward direction (i.e. the new code can always be converted to the old code) (A: automatic, otherwise NA)</p>
</dd>
<dt>change_5</dt><dd><p>Whether the change relates to the fifth digit of the ICD-10 code (TRUE/FALSE).</p>
</dd>
<dt>change_4</dt><dd><p>Whether the change relates to the fourth digit of the ICD-10 code (TRUE/FALSE).</p>
</dd>
<dt>change_3</dt><dd><p>Whether the change relates to the three-digit ICD-10 code (TRUE/FALSE).</p>
</dd>
<dt>icd3</dt><dd><p>The first three digits of <code>icd_from</code>.</p>
</dd>
<dt>icd_chapter</dt><dd><p>The first character of <code>icd_from</code> (i.e. the letter denoting the chapter).</p>
</dd>
</dl>



<h3>Source</h3>

<p>The source data was downloaded from the official download centre
of the German Institute for Medical Documentation and Information (DIMDI).
See also <a href="https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/#crosswalks">https://www.dimdi.de/dynamic/en/classifications/icd/icd-10-gm/tabular-list/#crosswalks</a>
</p>


<h3>See Also</h3>

<p>Other ICD-10-GM metadata: 
<code><a href="#topic+icd_meta_blocks">icd_meta_blocks</a></code>,
<code><a href="#topic+icd_meta_chapters">icd_meta_chapters</a></code>,
<code><a href="#topic+icd_meta_codes">icd_meta_codes</a></code>
</p>

<hr>
<h2 id='icd_parse'>Extract all ICD codes from a character vector</h2><span id='topic+icd_parse'></span>

<h3>Description</h3>

<p>An ICD code consists of, at a minimum,
a three digit ICD-10 code
(i.e. one upper-case letter followed by
two digits). This may optionally be followed
by a two digit subcode, selected punctuation symbols
(cross &quot;*&quot;, dagger &quot;U2020&quot; or
exclamation mark &quot;!&quot;). Both the period
separating the three-digit code from the subcode,
and the hyphen indicating an &quot;incomplete&quot; subcode,
are optional. Finally, in the ambulatory system, an
additional letter G, V, Z or A may be appended to
signify the status (&quot;security&quot;) of the diagnosis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_parse(str, type = "bounded", bind_rows = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_parse_+3A_str">str</code></td>
<td>
<p>Character vector from which to extract all ICD codes</p>
</td></tr>
<tr><td><code id="icd_parse_+3A_type">type</code></td>
<td>
<p>A character string determining how strictly matching should be performed. This must be one of &quot;strict&quot; (<code>str</code> contains a ICD code with no extraneous characters), <code>bounded</code> (<code>str</code> contains an ICD code with a word boundary on both sides) or <code>weak</code> (ICD codes are extracted even if they are contained within a word, e.g. &quot;E10Diabetes&quot; would return &quot;E10&quot;). Default: <code>bounded</code>.</p>
</td></tr>
<tr><td><code id="icd_parse_+3A_bind_rows">bind_rows</code></td>
<td>
<p>logical. Whether to convert the matrix output of <code>stirngi::stri_match_all</code> to a data.frame, with additional <code>icd_sub</code> to uniquely represent the code and allow lookup of the code</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, the function returns a data.frame
containing the matched codes and the standardised
three digit code (<code>icd3</code>), subcode (<code>icd_subcode</code>),
normcode (<code>icd_norm</code>) and code without period (<code>icd_sub</code>).
</p>
<p>If <code>bind_rows = FALSE</code>, the list output of
<code>stringi::stri_match_all_regex</code> is returned.
This is particularly useful to retrieve the
matches from each element of the <code>str</code> vector
separately.
</p>


<h3>Value</h3>

<p>data.frame (if bind_rows = TRUE) or matrix
</p>


<h3>See Also</h3>

<p><code><a href="#topic+is_icd_code">is_icd_code()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>icd_parse("E11.7")
icd_parse("Depression: F32")
icd_parse(c(
  "Backpain (M54.9) is one of the most common diagnoses in primary care",
  "Codes for chronic pain include R52.1 and F45.4"
  ))
</code></pre>

<hr>
<h2 id='icd_search'>Search ICD-10-GM labels for a string</h2><span id='topic+icd_search'></span>

<h3>Description</h3>

<p>Search ICD-10-GM labels for a string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_search(pattern, level = 5, year = NULL, ignore.case = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_search_+3A_pattern">pattern</code></td>
<td>
<p>String to search for (character object of length 1)</p>
</td></tr>
<tr><td><code id="icd_search_+3A_level">level</code></td>
<td>
<p>Maximum level of the ICD-10 hierarchy to search. level = 3 will search ohne 3-digit codes, level = 4 all 3 and 4 digit codes, level = 5 will search through all codes.</p>
</td></tr>
<tr><td><code id="icd_search_+3A_year">year</code></td>
<td>
<p>Year in which to search (Default: most recent year available)</p>
</td></tr>
<tr><td><code id="icd_search_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Should the search be case insensitive? (Default: TRUE)</p>
</td></tr>
<tr><td><code id="icd_search_+3A_...">...</code></td>
<td>
<p>Further parameters passed to <code>agrep</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Usually called for side-effect (open browser), returns the corresponding URL invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd_browse">icd_browse()</a></code> to lookup an ICD-10-GM code in the official BfArM documentation, opening the page in a browser
<code><a href="#topic+icd_lookup">icd_lookup()</a></code> to lookup an ICD-10-GM code in the console
</p>


<h3>Examples</h3>

<pre><code class='language-R'>icd_search("vitamin", level = 3)
icd_search("vitamin", level = 5)
</code></pre>

<hr>
<h2 id='icd_showchanges'>Show historical changes to selected ICD-10-GM codes</h2><span id='topic+icd_showchanges'></span>

<h3>Description</h3>

<p>Show all changes in ICD history relating to the
3-digit codes contained in the data.frame icd_in.
The output of icd_expand can be passed directly to this
function to display relevant changes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_showchanges(icd_in, years = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_showchanges_+3A_icd_in">icd_in</code></td>
<td>
<p>Data frame created by  <code><a href="#topic+icd_expand">icd_expand()</a></code>, containing codes to check</p>
</td></tr>
<tr><td><code id="icd_showchanges_+3A_years">years</code></td>
<td>
<p>Years to check, corresponding to the variable <code>year_from</code> in <code>icd_meta_transition</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame, as <code>icd_meta_transition</code>, with labels icd_from_label and icd_to_label
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd_showchanges_icd3">icd_showchanges_icd3()</a></code> to provide one or more three-digit codes as input
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat_icd &lt;- icd_expand(
   data.frame(ICD_SPEC = c("K52.9")),
   col_icd = "ICD_SPEC",
   year = 2019)
icd_showchanges(dat_icd)

</code></pre>

<hr>
<h2 id='icd_showchanges_icd3'>Show historical changes to selected three-digit ICD-10-GM codes</h2><span id='topic+icd_showchanges_icd3'></span>

<h3>Description</h3>

<p>Show all changes in ICD history relating to the
3-digit codes contained in a given vector icd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd_showchanges_icd3(icd3)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd_showchanges_icd3_+3A_icd3">icd3</code></td>
<td>
<p>Vector of three-digit ICD codes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with columns YEAR, ICD_CODE, ICD_LABEL and, if specified, DIAG_GROUP
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd_showchanges">icd_showchanges()</a></code> if the input has been generated by <code><a href="#topic+icd_expand">icd_expand()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>icd_showchanges_icd3("A09")
</code></pre>

<hr>
<h2 id='is_icd_code'>Test whether a string is a valid ICD code</h2><span id='topic+is_icd_code'></span>

<h3>Description</h3>

<p>An ICD code consists of, at a minimum,
a three digit ICD-10 code
(i.e. one upper-case letter followed by
two digits). This may optionally be followed
by a two digit subcode, selected punctuation symbols
(cross &quot;*&quot;, dagger &quot;U2020&quot; or
exclamation mark &quot;!&quot;). Both the period
separating the three-digit code from the subcode,
and the hyphen indicating an &quot;incomplete&quot; subcode,
are optional. Finally, in the ambulatory system, an
additional letter G, V, Z or A may be appended to
signify the status (&quot;security&quot;) of the diagnosis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_icd_code(str, year = NULL, parse = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_icd_code_+3A_str">str</code></td>
<td>
<p>Character vector to be tested</p>
</td></tr>
<tr><td><code id="is_icd_code_+3A_year">year</code></td>
<td>
<p>Year for which to test whether the specification is a valid code. Default: NULL (test whether <code>str</code> matches a code from any year since 2003)</p>
</td></tr>
<tr><td><code id="is_icd_code_+3A_parse">parse</code></td>
<td>
<p>logical. Whether to first parse the input <code>str</code> using <code>icd_parse</code> (Default: TRUE). If FALSE, assumes that <code>str</code> is already formatted as <code>icd_sub</code> (i.e. without separating period or other punctuation)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector the same length as the character input
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd_parse">icd_parse()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_icd_code("A09.9")
is_icd_code("A099")
is_icd_code("A09.9-")

is_icd_code("AA9")

# The following code is syntactically correct but
# has never been in use
is_icd_code("E15.9")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package EmiStatR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {EmiStatR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Agg'><p>Temporal aggregation of environmental variables</p></a></li>
<li><a href='#CInp2TS'>
<p>Function to convert Constant Input to Time Series</p></a></li>
<li><a href='#Delay'><p>Delay function for time series</p></a></li>
<li><a href='#E1'>
<p>Dataset: An example of combined sewer overflow (CSO) input for Goesdorf structure (CSO chamber, CSOC).</p></a></li>
<li><a href='#E2'>
<p>Dataset: An example of combined sewer overflow (CSO) input for Kaundorf structure (CSO chamber, CSOC).</p></a></li>
<li><a href='#E3'>
<p>Dataset: An example of combined sewer overflow (CSO) input for Nocher-Route structure (CSO chamber, CSOC).</p></a></li>
<li><a href='#EmiStatR-methods'><p>S4 Methods for Function <code>EmiStatR</code></p></a></li>
<li><a href='#EmiStatR-package'><p>Emissions and Statistics in R for Wastewater and Pollutants in Combined Sewer Systems.</p></a></li>
<li><a href='#Esch_Sure2010'>
<p>Dataset: An example time series for the EmiStatR package</p></a></li>
<li><a href='#inf'>
<p>Dataset: An example of general input for infiltration characteristics in the study region.</p></a></li>
<li><a href='#input-class'><p>Class <code>"input"</code></p></a></li>
<li><a href='#IsReg'>
<p>Wrapping Function for Function &quot;is.regular&quot; from &quot;zoo&quot; package for &quot;data.frame&quot; objects</p></a></li>
<li><a href='#Level2Volume'>
<p>Function for linear interpolation given the relationship of two variables</p></a></li>
<li><a href='#P1'>
<p>Dataset: An example of input time series for the EmiStatR package</p></a></li>
<li><a href='#P1_20111216'>
<p>Dataset: An example of input time series for the EmiStatR package</p></a></li>
<li><a href='#pe_factor'>
<p>Dataset: An example of general input for the daily population equivalent factors in the study region.</p></a></li>
<li><a href='#qs_factor'>
<p>Dataset: An example of general input for the daily water consumption factors in the study region.</p></a></li>
<li><a href='#qs_factor_ATV'>
<p>Dataset: An example of general input for the daily water consumption factors (ATV German guideline) in the study region.</p></a></li>
<li><a href='#rw'>
<p>Dataset: An example of general input for rainwater characteristics in the study region.</p></a></li>
<li><a href='#Volume2Level'>
<p>Function for linear interpolation given the relationship of two variables</p></a></li>
<li><a href='#ww'>
<p>Dataset: An example of general input for wastewater characteristics in the study region.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Emissions and Statistics in R for Wastewater and Pollutants in
Combined Sewer Systems</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.3.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-09-14</td>
</tr>
<tr>
<td>Author:</td>
<td>J.A. Torres-Matallana [aut, cre]
    K. Klepiszewski [aut, cre]
    U. Leopold [ctb]
    G. Schutz [ctb]
    G.B.M. Heuvelink [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>J.A. Torres-Matallana &lt;arturo.torres@list.lu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a fast and parallelised calculator to estimate combined wastewater emissions. 
    It supports the planning and design of urban drainage systems, without the requirement of 
    extensive simulation tools. The 'EmiStatR' package implements modular R methods. This enables 
    to add new functionalities through the R framework. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, grDevices, graphics, stats, xts, zoo, foreach,
parallel, lattice, doParallel</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>StagedInstall:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-22 08:02:59 UTC; torres_30400</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-28 07:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='Agg'>Temporal aggregation of environmental variables
</h2><span id='topic+Agg'></span>

<h3>Description</h3>

<p>Function for temporal aggregation of environmental variables. <code>Agg</code> is a wrapper function of 
<code>aggregate</code> from <code>stats</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  Agg(data, nameData, delta, func, namePlot)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Agg_+3A_data">data</code></td>
<td>

<p>A <code>data.frame</code> that contains the time series of the 
environmental variable to be aggregated, e.g. precipitation. This data.frame should have 
at least two columns: the first one, Time [y-m-d h:m:s]; the second one, a numeric value equal to the 
magnitude of the environmental variable. If the environmental variable is different than precipitation,
then the column name of the values should be named as <code>value</code>.</p>
</td></tr>
<tr><td><code id="Agg_+3A_namedata">nameData</code></td>
<td>

<p>A <code>character</code> string that defines the name of the environmental variable to be aggregated.</p>
</td></tr>
<tr><td><code id="Agg_+3A_delta">delta</code></td>
<td>

<p>A <code>numeric</code> value that specifies the level of aggregation required in minutes.</p>
</td></tr>
<tr><td><code id="Agg_+3A_func">func</code></td>
<td>

<p>The name of the function of aggregation e.g. <code>mean</code>, <code>sum</code>.</p>
</td></tr>
<tr><td><code id="Agg_+3A_nameplot">namePlot</code></td>
<td>

<p>A <code>character</code> string that defines the title of the plot generated. Use &quot;&quot; to avoid writing the plot locally.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with two columns:
</p>
<table>
<tr><td><code>time</code></td>
<td>
<p>the date-time time series of the aggregated variable</p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>time series with the magnitude of the aggregated variable.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>J.A. Torres-Matallana
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## temporal aggregation
library(EmiStatR)
data(P1)
colnames(P1) &lt;- c("time", "value")
head(P1)
tail(P1)

P1.agg &lt;- Agg(data = P1, nameData = "value", delta = 120 , func = sum, 
              namePlot = "")

head(P1.agg)
tail(P1.agg)


</code></pre>

<hr>
<h2 id='CInp2TS'>
Function to convert Constant Input to Time Series</h2><span id='topic+CInp2TS'></span>

<h3>Description</h3>

<p>Given daily, weekly and monthly factors, this function converts from a constant numeric input
to a time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CInp2TS(cinp, prec, cinp.daily.file, cinp.weekly, cinp.seasonal)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CInp2TS_+3A_cinp">cinp</code></td>
<td>
<p>a numeric object that defines the mean constant input to be converted in time series.</p>
</td></tr>
<tr><td><code id="CInp2TS_+3A_prec">prec</code></td>
<td>
<p>A data.frame object with observations on the following 2 variables:
</p>

<dl>
<dt><code>time</code></dt><dd><p>a POSIXct vector</p>
</dd>
<dt>&lsquo;<span class="samp">&#8288;P [mm]&#8288;</span>&rsquo;</dt><dd><p>a numeric vector</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="CInp2TS_+3A_cinp.daily.file">cinp.daily.file</code></td>
<td>
<p>the path and file name of the comma separated value (csv) file that contains the
daily factors. The first column of this file should be the time in format &quot;H:M:S&quot; and should span for 24 hours. 
The second column should contain the factors as numeric class for the specified time. These factors must 
average to 1.</p>
</td></tr>
<tr><td><code id="CInp2TS_+3A_cinp.weekly">cinp.weekly</code></td>
<td>
<p>a &quot;list&quot; that contains the factors per day of the week with 7 elements called &quot;mon&quot; for Monday,
&quot;tue&quot; for Tuesday, &quot;wed&quot; for Wednesday, &quot;thu&quot; for Thursday, &quot;fri&quot; for Friday, &quot;sat&quot; for Saturday, and &quot;sun&quot; for
Sunday. These factors must average to 1. See example about the definition of this argument.</p>
</td></tr>
<tr><td><code id="CInp2TS_+3A_cinp.seasonal">cinp.seasonal</code></td>
<td>
<p>a &quot;list&quot; that contains the factors per month of the year with 12 elements called with the three first lower case letters of the month from &quot;jan&quot; for January to &quot;dec&quot; for December. These factors must average to 1. See example about the definition of this argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The generated time series has number of rows equal to the number of rows of the <code>prec</code> data.frame. 
The time index of the time series generated is the same that <code>prec</code>.
</p>


<h3>Value</h3>

<p>Object of class <code>"list"</code>. This object contains 3 elements: 
</p>
<table>
<tr><td><code>time</code></td>
<td>
<p>a POSIXct vector of length n, where n is the number of rows of the <code>prec</code> data.frame.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>a numeric matrix of size [1:n, 1:4], where columns are: &quot;factor&quot;, the daily factor time
series based on <code>cinp.daily.file</code>; 
&quot;cinp&quot;, the daily time series of the variable defined by <code>cinp</code> according to the factors defined by 
&quot;factor&quot;; 
&quot;cinp.week&quot;, the weekly time series of the variable defined by <code>cinp</code> according to the factors defined by
<code>factor</code> and <code>cinp.weekly</code>; and   
&quot;cinp.season&quot;, the monthly time series of the variable defined by <code>cinp</code> according to the factors 
defined by <code>factor</code>, <code>cinp.weekly</code>, and <code>cinp.seasonal</code>.</p>
</td></tr>
<tr><td><code>xts</code></td>
<td>
<p>An &quot;xts&quot; object containing the 4 same columns that <code>data</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>J.A. Torres-Matallana; U. Leopold
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(EmiStatR)
library(zoo)

data("Esch_Sure2010")
data("qs_factor")

cinp            &lt;- 150 # water consumption [m3/h]
prec            &lt;- Esch_Sure2010[1:1000,] # selecting just the first 1,000 rows

cinp.daily.file &lt;- qs_factor
cinp.weekly     &lt;- list(mon=1, tue=.83, wed=.83, thu=.83, fri=1, sat=1.25, sun=1.25)  
# factors average to 1
cinp.seasonal   &lt;- list(jan=.79, feb=.79, mar=1.15, apr=1.15, may=1.15, jun=1.15,
                        jul=1.15, aug=1.15, sep=1.15, oct=1.15, nov=.79, dec=.79) 
# factors average to 1
ts1 &lt;- CInp2TS(cinp, prec, cinp.daily.file, cinp.weekly, cinp.seasonal)
str(ts1)

head(ts1[["xts"]])
summary(ts1[["xts"]])

dev.new()
par(mfrow = c(4,1))
plot(index(ts1[["xts"]][,1]), ts1[["xts"]][,1], type = "l", 
     xlab = "", ylab = "Daily factor [-]", 
     main="Daily factor time series")
plot(index(ts1[["xts"]][,1]), ts1[["xts"]][,2], type = "l", 
     xlab = "", ylab = "Water consumption [l/(PE d)]", 
     main="Daily water consumption time series")
plot(index(ts1[["xts"]][,1]), ts1[["xts"]][,3], type = "l", 
     xlab = "", ylab = "Water consumption [l/(PE d)]", 
     main="Weekly water consumption time series")
plot(index(ts1[["xts"]]), ts1[["xts"]][,4], type = "l", 
     xlab = "Time", ylab = "Water consumption [l/(PE d)]", 
     main="Yearly water comsumption time series")
</code></pre>

<hr>
<h2 id='Delay'>Delay function for time series</h2><span id='topic+Delay'></span>

<h3>Description</h3>

<p>This function allows to cretae a n-time steps delayed time series, where n is the number of time steps defined by argument <code>x</code>. 
Henceforth, it is possible to calibrate this argument (parameter) <code>x</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  Delay(P1, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Delay_+3A_p1">P1</code></td>
<td>

<p>A <code>data.frame</code> that contains the time series of the 
environmental variable to be delayed, e.g. precipitation. This data.frame should have 
at least two columns: the first one, Time [y-m-d h:m:s]; the second one, a numeric value equal to the 
magnitude of the environmental variable. If the environmental variable is different than precipitation,
then the column name of the values should be named as <code>value</code>.</p>
</td></tr>
<tr><td><code id="Delay_+3A_x">x</code></td>
<td>

<p>A <code>numeric</code> value that specifies the delayed time in time steps.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with two columns:
</p>
<table>
<tr><td><code>time</code></td>
<td>
<p>the date-time time series of the delayed variable</p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>time series with the magnitude (equal to the original, <code>P1</code>, time series) of the delayed variable.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>J.A. Torres-Matallana
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(EmiStatR)
data(P1)

P1_delayed &lt;- Delay(P1 = P1, x = 500)

head(P1_delayed)

dev.new()
par(mfrow = c(2, 1))
plot(P1[,1], P1[,2], typ = "l", col = "blue")
plot(P1_delayed[,1], P1_delayed[,2], typ= "l", col = "red")
</code></pre>

<hr>
<h2 id='E1'>
Dataset: An example of combined sewer overflow (CSO) input for Goesdorf structure (CSO chamber, CSOC).
</h2><span id='topic+E1'></span>

<h3>Description</h3>

<p>This dataset is an example of input data for the CSOC at Goesdorf, Grand-Duchy of Luxembourg. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("E1")</code></pre>


<h3>Format</h3>

<p>A list of 18 elements. This object contains the first 
structure (CSOC) to simulate.
</p>

<dl>
<dt><code>id</code>:</dt><dd><p>numeric, identification number [-];</p>
</dd> 
<dt><code>ns</code>:</dt><dd><p>character, name of the structure [-];</p>
</dd>
<dt><code>nm</code>:</dt><dd><p>character, name of the municipality [-];</p>
</dd> 
<dt><code>nc</code>:</dt><dd><p>character, name of the catchment [-];</p>
</dd>
<dt><code>numc</code>:</dt><dd><p>numeric, number of the catchment [-];</p>
</dd>
<dt><code>use</code>:</dt><dd><p>character, use of the soil [-];</p>
</dd>
<dt><code>Atotal</code>:</dt><dd><p>numeric, total area [ha];</p>
</dd>
<dt><code>Aimp</code>:</dt><dd><p>numeric, impervious area [ha];</p>
</dd>
<dt><code>tfS</code>:</dt><dd><p>numeric, time flow structure [time step];</p>
</dd>
<dt><code>pe</code>:</dt><dd><p>numeric, population equivalent [PE];</p>
</dd>
<dt><code>V</code>:</dt><dd><p>numeric, volume [m3];</p>
</dd> 
<dt><code>lev2vol</code>:</dt><dd><p>list of 2, lev and vol, defining the curve lev (level [m]) 
to vol (volume [m3]);</p>
</dd>
<dt><code>lev.ini</code>:</dt><dd><p>numeric, initial level in the CSOC [m];</p>
</dd>
<dt><code>Qd</code>:</dt><dd><p>numeric, maximum throttled outflow [l/s];</p>
</dd> 
<dt><code>Dd</code>:</dt><dd><p>numeric, orifice diameter [m];</p>
</dd>
<dt><code>Cd</code>:</dt><dd><p>numeric, orifice coefficient [-];</p>
</dd>  
<dt><code>Cimp</code>:</dt><dd><p>numeric, coefficient for impervious area [-];</p>
</dd>  
<dt><code>Cper</code>:</dt><dd><p>numeric, coefficient for pervious area [-].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("E1")

str(E1)
</code></pre>

<hr>
<h2 id='E2'>
Dataset: An example of combined sewer overflow (CSO) input for Kaundorf structure (CSO chamber, CSOC).
</h2><span id='topic+E2'></span>

<h3>Description</h3>

<p>This dataset is an example of input data for the CSOC at Kaundorf, Grand-Duchy of Luxembourg. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("E2")</code></pre>


<h3>Format</h3>

<p>A list of 18 elements. This object contains the first 
structure (CSOC) to simulate.
</p>

<dl>
<dt><code>id</code>:</dt><dd><p>numeric, identification number [-];</p>
</dd> 
<dt><code>ns</code>:</dt><dd><p>character, name of the structure [-];</p>
</dd>
<dt><code>nm</code>:</dt><dd><p>character, name of the municipality [-];</p>
</dd> 
<dt><code>nc</code>:</dt><dd><p>character, name of the catchment [-];</p>
</dd>
<dt><code>numc</code>:</dt><dd><p>numeric, number of the catchment [-];</p>
</dd>
<dt><code>use</code>:</dt><dd><p>character, use of the soil [-];</p>
</dd>
<dt><code>Atotal</code>:</dt><dd><p>numeric, total area [ha];</p>
</dd>
<dt><code>Aimp</code>:</dt><dd><p>numeric, impervious area [ha];</p>
</dd>
<dt><code>tfS</code>:</dt><dd><p>numeric, time flow structure [time step];</p>
</dd>
<dt><code>pe</code>:</dt><dd><p>numeric, population equivalent [PE];</p>
</dd>
<dt><code>V</code>:</dt><dd><p>numeric, volume [m3];</p>
</dd> 
<dt><code>lev2vol</code>:</dt><dd><p>list of 2, lev and vol, defining the curve lev (level [m]) 
to vol (volume [m3]);</p>
</dd>
<dt><code>lev.ini</code>:</dt><dd><p>numeric, initial level in the CSOC [m];</p>
</dd>
<dt><code>Qd</code>:</dt><dd><p>numeric, maximum throttled outflow [l/s];</p>
</dd> 
<dt><code>Dd</code>:</dt><dd><p>numeric, orifice diameter [m];</p>
</dd>
<dt><code>Cd</code>:</dt><dd><p>numeric, orifice coefficient [-];</p>
</dd>  
<dt><code>Cimp</code>:</dt><dd><p>numeric, coefficient for impervious area [-];</p>
</dd>  
<dt><code>Cper</code>:</dt><dd><p>numeric, coefficient for pervious area [-].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("E2")

str(E2)
</code></pre>

<hr>
<h2 id='E3'>
Dataset: An example of combined sewer overflow (CSO) input for Nocher-Route structure (CSO chamber, CSOC).
</h2><span id='topic+E3'></span>

<h3>Description</h3>

<p>This dataset is an example of input data for the CSOC at Nocher-Route, Grand-Duchy of Luxembourg. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("E3")</code></pre>


<h3>Format</h3>

<p>A list of 18 elements. This object contains the first 
structure (CSOC) to simulate.
</p>

<dl>
<dt><code>id</code>:</dt><dd><p>numeric, identification number [-];</p>
</dd> 
<dt><code>ns</code>:</dt><dd><p>character, name of the structure [-];</p>
</dd>
<dt><code>nm</code>:</dt><dd><p>character, name of the municipality [-];</p>
</dd> 
<dt><code>nc</code>:</dt><dd><p>character, name of the catchment [-];</p>
</dd>
<dt><code>numc</code>:</dt><dd><p>numeric, number of the catchment [-];</p>
</dd>
<dt><code>use</code>:</dt><dd><p>character, use of the soil [-];</p>
</dd>
<dt><code>Atotal</code>:</dt><dd><p>numeric, total area [ha];</p>
</dd>
<dt><code>Aimp</code>:</dt><dd><p>numeric, impervious area [ha];</p>
</dd>
<dt><code>tfS</code>:</dt><dd><p>numeric, time flow structure [time step];</p>
</dd>
<dt><code>pe</code>:</dt><dd><p>numeric, population equivalent [PE];</p>
</dd>
<dt><code>V</code>:</dt><dd><p>numeric, volume [m3];</p>
</dd> 
<dt><code>lev2vol</code>:</dt><dd><p>list of 2, lev and vol, defining the curve lev (level [m]) 
to vol (volume [m3]);</p>
</dd>
<dt><code>lev.ini</code>:</dt><dd><p>numeric, initial level in the CSOC [m];</p>
</dd>
<dt><code>Qd</code>:</dt><dd><p>numeric, maximum throttled outflow [l/s];</p>
</dd> 
<dt><code>Dd</code>:</dt><dd><p>numeric, orifice diameter [m];</p>
</dd>
<dt><code>Cd</code>:</dt><dd><p>numeric, orifice coefficient [-];</p>
</dd>  
<dt><code>Cimp</code>:</dt><dd><p>numeric, coefficient for impervious area [-];</p>
</dd>  
<dt><code>Cper</code>:</dt><dd><p>numeric, coefficient for pervious area [-].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("E3")

str(E3)
</code></pre>

<hr>
<h2 id='EmiStatR-methods'>S4 Methods for Function <code>EmiStatR</code></h2><span id='topic+EmiStatR-methods'></span><span id='topic+EmiStatR'></span>

<h3>Description</h3>

<p>S4 methods for function <code>EmiStatR</code>. Given the inputs either from the Shiny 
applications &quot;EmiStatR_input - Shiny&quot; and &quot;EmiStatR_inputCSO - Shiny&quot; or 
user-defined, 
the methods invoke the main core of the tool and writes the output files 
in the specified folder. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EmiStatR(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EmiStatR-methods_+3A_x">x</code></td>
<td>
<p>An object of class input</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>"list"</code>. This object contains N lists, 
where N is the number of structures to simulate. Each list contains
a list with three elements: a data.frame named &quot;out1&quot;, a data.frame 
named &quot;out2&quot;, a vector named &quot;lista&quot;. &quot;out1&quot; contains n observations of
24 variables, where n is the length of the precipitation time series. The 
24 variables are the following time series: <br /> 
1. id, identification number <br />
2. Time [y-m-d h:m:s] <br /> 
3. P [mm], precipitation <br />
4. i [mm/(min)], intensity (if available) <br />
5. V_r [m3], rain water volume <br />
6. V_dw [m3], dry weather volume <br />
7. cs_mr [-], combined sewage mixing ratio <br />
8. o_tfyn [yes=1/no=0], status variable to know when the Combined 
Sewer Overflow Tank (CSOT) is filling up <br />
9. V_Tank [m3], volume of CSOT filling up<br />
10. V_Ov [m3], overflow volume <br />
11. B_COD_Ov [kg], Chemical Oxygen Demand (COD) overflow load <br /> 
12. B_NH4_Ov [kg], ammonium (NH4) overflow load <br /> 
13. C_COD_Ov [mg/l], COD overflow concentration <br />
14. C_NH4_Ov [mg/l], NH4 overflow concentration <br />
15. d_Ov [min], total duration of overflows<br />
16. f_Ov [ocurrence], frequency of overflows (just an approximation) <br />
17. V_InTank [m3], volume at entrance of the CSOT <br />
18. B_COD_InTank [Kg], COD load at entrance of the CSOT <br /> 
19. B_NH4_InTank [Kg], NH4 load at entrance of the CSOT <br />
20. C_COD_InTank [mg/l], COD concentration at entrance of the CSOT <br />
21. C_NH4_InTank [mg/l], NH4 concentration at entrance of the CSOT  <br />
22. Q_Ov [l/s], overflow flow <br />
23  pe.season [PE], population equivalents in the catchment <br />
24  qs.season [l/PE/d], water consumption in the catchment <br /> 
<br />
The summary of the overflow data, &quot;out2&quot;, contains 15 observations of 
2 variables. The 15 observations are:<br />
1. Period [day], length of time of the precipitation time series <br />
2. Duration, d_Ov, [min], overflow duration<br />
3. Frecuency, f_Ov, [ocurrence] (aprox.), overflow frecuency <br />
4. Total volume, V_Ov, [m3], total overflow volume<br />
5. Average flow, Q_Ov, [l/s], average overflow flow<br />
6. Total COD load, B_COD_Ov, [kg], total COD load in overflow<br />
7. Average COD concentration, C_COD_ov_av, [mg/l], in overflow<br />
8. 99.9th percentile COD concentration, C_COD_Ov_99.9, [mg/l], in overflow<br /> 
9. Maximum COD concentration, C_COD_Ov_max, [mg/l], in overflow<br />
10. Total NH4 load, B_NH4_Ov, [kg], total NH4 load in overflow<br />
11. Average NH4 concentration,C_NH4_Ov_av, [mg/l], in overflow<br />
12. 99.9th percentile NH4 concentration, C_NH4_Ov_99.9, [mg/l], in overflow<br />
13. Maximum NH4 concentration, C_NH4_Ov_max, [mg/l], in overflow<br />
14. Structure summary results, (a descriptive text line)<br />
15. Volume Tank, VTank [m3], total volumen in the CSO tank<br />
<br /> 
&quot;Lista&quot; contains the identification name(s) of the N structure(s). 
If export is allowed then three 
plain text .csv files are created, one for &quot;out1&quot;, the second for &quot;out2&quot;,
the third one a summary for all the structures based in &quot;out2&quot;. 
Also, one .pdf file is printed which illustrates
the precipitation and Combined Sewer Overflow (CSO) volume, COD concentration,
and NH4 concentration time series. These files are exported
to the directory EmiStatR_output located in the <code>folderOutput</code> path.</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "input")</code></dt><dd>
<p>execute EmiStatR function
</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>J.A. Torres-Matallana; K. Klepiszewski; U. Leopold; G.B.M. Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## running GUI 
library("EmiStatR")

appDir &lt;- system.file("shiny", package = "EmiStatR")

## (uncomment for running)
# setwd(appDir)
# runApp("EmiStatR_input")
# runApp("EmiStatR_inputCSO")

## executing EmiStatR
input.default &lt;- input()

## uncomment following lines to execute
# sim   &lt;- EmiStatR(input.default)
# str(sim)

## a dummy example of plot
# par(mfrow=c(2,2), oma = c(0,0,2,0))
# plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[3]], typ="l", col="blue", 
#      xlab = "time", ylab = colnames(sim[[1]][[1]])[3], main = "Precipitation")
# plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[10]], typ="l", col="blue", 
#      xlab = "time", ylab = colnames(sim[[1]][[1]])[10], main = "CSO, volume")
# plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[13]], typ="l", col="blue", 
#      xlab = "time", ylab = colnames(sim[[1]][[1]])[13], main = "CSO, COD concentration")
# plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[14]], typ="l", col="blue", 
#      xlab = "time", ylab = colnames(sim[[1]][[1]])[14], main = "CSO, NH4 concentration")
# mtext(paste("Structure", sim[[1]][[3]][[1]]), outer=TRUE, cex = 1.5)
</code></pre>

<hr>
<h2 id='EmiStatR-package'>Emissions and Statistics in R for Wastewater and Pollutants in Combined Sewer Systems.</h2><span id='topic+EmiStatR-package'></span>

<h3>Description</h3>

<p>Provides a fast and parallelised calculator 
to estimate combined wastewater emissions. It supports the planning and 
design of urban drainage systems, without the requirement of extensive 
simulation tools. The 'EmiStatR' package  
implements modular R methods. This enables to add new 
functionalities through the R framework. 
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> EmiStatR  </td>
</tr>
<tr>
 <td style="text-align: left;">
Type:    </td><td style="text-align: left;"> Package   </td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.2.3.0   </td>
</tr>
<tr>
 <td style="text-align: left;">
Date:    </td><td style="text-align: left;"> 2021-09-13</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 2.10), methods, shiny </td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> utils, grDevices, graphics, stats, xts, zoo, foreach, parallel, lattice, doParallel </td>
</tr>
<tr>
 <td style="text-align: left;">

</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>J.A. Torres-Matallana [aut, cre]
K. Klepiszewski [aut, cre]
U. Leopold [ctb]
G. Schutz [ctb]
G.B.M. Heuvelink [ctb]
</p>
<p>Maintainer: J.A. Torres-Matallana
</p>


<h3>References</h3>

<p>J. A. Torres-Matallana, K. Klepiszewski, U. Leopold, and G.B.M. Heuvelink. EmiStatR: a simplified and
scalable urban water quality model for simulation of combined sewer overflows. Water, 10(6)(782):1-24,
2018. <a href="https://www.mdpi.com/2073-4441/10/6/782/htm">https://www.mdpi.com/2073-4441/10/6/782/htm</a>
</p>


<h3>See Also</h3>



<p>See also the class the method <code><a href="#topic+EmiStatR">EmiStatR</a></code></p>

<hr>
<h2 id='Esch_Sure2010'>
Dataset: An example time series for the EmiStatR package
</h2><span id='topic+Esch_Sure2010'></span>

<h3>Description</h3>

<p>This dataset is a list that contains a data.frame with two columns: time [y-m-d h:m:s] and precipitation depth, P [mm]. 
The dataset correspond to measurements for 2010 with time steps of 10 minutes at rain gauge station, Esch-sur-Sure, located close to the sub-catchment of the combined sewer overflow chamber at Goesdorf, Grand-Duchy of Luxembourg.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Esch_Sure2010")</code></pre>


<h3>Format</h3>

<p>A data frame with 52560 observations on the following 2 variables.
</p>

<dl>
<dt><code>time</code></dt><dd><p>a POSIXct vector</p>
</dd>
<dt>&lsquo;<span class="samp">&#8288;P [mm]&#8288;</span>&rsquo;</dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.agrimeteo.lu">https://www.agrimeteo.lu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Esch_Sure2010)

plot(Esch_Sure2010[,2], col="blue", typ="l", xlab = "time", ylab = "Precipitation [mm]")  

</code></pre>

<hr>
<h2 id='inf'>
Dataset: An example of general input for infiltration characteristics in the study region.
</h2><span id='topic+inf'></span>

<h3>Description</h3>

<p>This dataset is an example of general input for infiltration characteristics in the sewer system for the study region (Haute-Sure catchment, Grand-Duchy of Luxembourg). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("inf")</code></pre>


<h3>Format</h3>

<p>A list of 3 elements. 
</p>

<dl>
<dt><code>qf</code>:</dt><dd><p>numeric, infiltration water inflow [l/(s*ha)];</p>
</dd> 
<dt><code>CODf</code>:</dt><dd><p>numeric, chemical oxygen demand (COD) infiltration water pollution per capita (PE) load per day [g/(PE*day)];</p>
</dd>
<dt><code>NH4f</code>:</dt><dd><p>numeric, ammonium (NH4) infiltration water pollution per capita (PE) load per day[g/(PE*day];</p>
</dd> 
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("inf")

str(inf)
</code></pre>

<hr>
<h2 id='input-class'>Class <code>"input"</code></h2><span id='topic+input-class'></span><span id='topic+input'></span><span id='topic+EmiStatR+2Cinput-method'></span>

<h3>Description</h3>

<p>The class provides a container for inputs required to invoke <code>EmiStatR</code> method.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>input()</code> or <code>new("input")</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>spatial</code>:</dt><dd><p>Object of class <code>"numeric"</code>, 0 (default ) for non-spatial 
input, 1 for spatial input (not implemented).</p>
</dd>
<dt><code>zero</code>:</dt><dd><p>Object of class <code>"numeric"</code>, aproximation to zero value. 
Default 1E-5.</p>
</dd>






<dt><code>folder</code>:</dt><dd><p>Object of class <code>"character"</code>, path for the output.    
Default <code>getwd()</code></p>
</dd> 


<dt><code>cores</code>:</dt><dd><p>Object of class <code>"numeric"</code>, number of CPU cores 
to be used in parallel computing. If cores = 0 no parallel computation is  
done. Default 1.</p>
</dd>
<dt><code>ww</code>:</dt><dd><p>Object of class <code>"list"</code>. This list contains three 
numeric elements for the wastewater characteristics. First element
<code>qs</code>, individual water consumption of households [l/(PE d)]. Second
element <code>CODs</code>, sewage pollution - COD concentration [g/(PE d)]. Third
element <code>NH4s</code>, sewage pollution - NH4 concentration [g/(PE d)].</p>
</dd>
<dt><code>inf</code>:</dt><dd><p>Object of class <code>"list"</code>. This list contains three 
numeric elements for infiltration water characteristics. First 
element <code>qf</code>, infiltration water inflow [l/(s ha)]. Second element
<code>CODf</code>, infiltration water pollution - COD concentration [g/(PE d)].
Third element <code>NH4f</code>, infiltration water pollution - NH4 concentration 
[g/(PE d)].</p>
</dd>
<dt><code>rw</code>:</dt><dd><p>Object of class <code>"list"</code>. This list contains three 
elements for rainwater characteristics. First 
element <code>CODr</code> (numeric), rainwater pollution - COD concentration [mg/l].
Second element <code>NH4r</code> (numeric), rainwater pollution - NH4 concentration 
[mg/l]. Third element <code>stat</code> (character), name of the rain measurement 
station.</p>
</dd>
<dt><code>P1</code>:</dt><dd><p>Object of class <code>"data.frame"</code> with two columns named 
1. &quot;time&quot; for specifying the date and time in format YYYY-m-d HH:MM:SS, 
2. &quot;P [mm]&quot; for specifying the depth values of the rainfall time series in millimeters. 
Optionally, instead of rainfall depth values can be provided values of direct runoff 
in cubic meters entering in the system. 
If runoff values are provided then the second column containing these values
should be named as &quot;Runoff_Volume&quot; or &quot;runoff_volume&quot;, 
otherwise this column is treated as rainfall depth.</p>
</dd>
<dt><code>st</code>:</dt><dd><p>Object of class 
<code>"list"</code>. This object contains n lists, 
where n is the number of structures to simulate. Every list should contain 18
elements: 
<code>id</code>, numeric, identification number [-]; 
<code>ns</code>, character, name of the structure [-];
<code>nm</code>, character, name of the municipality [-]; 
<code>nc</code>, character, name of the catchment [-];
<code>numc</code>, numeric, number of the catchment [-]; 
<code>use</code>, character, use of the soil [-]; 
<code>Atotal</code>, numeric, total area [ha]; 
<code>Aimp</code>, numeric, impervious area [ha];
<code>tfS</code>, numeric, time flow structure [time step]; 
<code>pe</code>, numeric, population equivalent [PE];
<code>V</code>, numeric, volume [m3]; 
<code>lev2vol</code>, list of 2, lev and vol, defining the curve lev (level [m]) 
to vol (volume [m3]);
<code>Qd</code>, numeric, maximum throttled outflow [l/s]; 
<code>Dd</code>, numeric, orifice diameter [m];
<code>Cd</code>, numeric, orifice coefficient [-];  
<code>Cimp</code>, numeric, coefficient for impervious area [-]; and 
<code>Cper</code>, numeric, coefficient for pervious area [-].</p>
</dd>
<dt><code>pe.ts.file</code>:</dt><dd><p>Object of class <code>"character"</code> with the path and file 
name of the comma separated value (csv) file that contains the montly (seasonal) 
factors for population equivalent (<code>pe</code>). The first 
column of this file should be &quot;time&quot; in format &quot;Y-m-d H:M:S&quot; and should span for the
entire length of the desired time series. 
The second column should contain the population equivalent as numeric class for the 
specified time, i.e. the desired <code>pe</code> time series with daily, weekly and monthly factors
already applied.
Default empty string (&quot;&quot;). 
If not empty string is defined then <code>pe.daily.file</code>, <code>pe.weekly</code>, <code>pe.seasonal</code>
are omitted.</p>
</dd>
<dt><code>pe.daily.file</code>:</dt><dd><p>Object of class <code>"data.frame"</code> that contains the daily factors for population
equivalent. The first 
column should be the time in format &quot;H:M:S&quot; and should span for 24 hours. 
The second column should contain the factors as numeric class for the specified time.     These factors must average to 1.</p>
</dd>
<dt><code>pe.weekly</code>:</dt><dd><p>Object of class <code>"list"</code> that contains the factors for population
equivalent per day of the week with 7 elements called &quot;mon&quot; for Monday, &quot;tue&quot; for Tuesday, 
&quot;wed&quot; for Wednesday, &quot;thu&quot; for Thursday, &quot;fri&quot; for Friday, &quot;sat&quot; for Saturday, and &quot;sun&quot; for Sunday. 
These factors must average to 1.</p>
</dd>
<dt><code>pe.seasonal</code>:</dt><dd><p>Object of class <code>"list"</code> that contains the factors for population
equivalent per month of the year with 12 elements called with the three first lower case letters 
of the month from &quot;jan&quot; for January to &quot;dec&quot; for December. These factors must average to 1.</p>
</dd>
<dt><code>qs.ts.file</code>:</dt><dd><p>Object of class <code>"character"</code> with the path and file 
name of the comma separated value (csv) file that contains the monthly (seasonal) 
factors for water consumption (<code>qs</code>). The first 
column of this file should be &quot;time&quot; in format &quot;Y-m-d H:M:S&quot; and should span for the
entire length of the desired time series. 
The second column should contain the population equivalent as numeric class for the 
specified time, i.e. the desired <code>qs</code> time series with daily, weekly and monthly factors
already applied.
Default empty string (&quot;&quot;). 
If not empty string is defined then <code>pe.daily.file</code>, <code>pe.weekly</code>, <code>pe.seasonal</code>
are omitted.</p>
</dd>
<dt><code>qs.daily.file</code>:</dt><dd><p>Object of class <code>"character"</code> with the path and file 
name of the comma separated value (csv) file that contains the daily factors for water
consumption. The first 
column of this file should be the time in format &quot;H:M:S&quot; and should span for 24 hours. 
The second column should contain the factors as numeric class for the specified time. 
These factors must average to 1.</p>
</dd>
<dt><code>qs.weekly</code>:</dt><dd><p>Object of class <code>"list"</code> that contains the factors for water 
consumption per day of the week with 7 elements called &quot;mon&quot; for Monday, &quot;tue&quot; for Tuesday, 
&quot;wed&quot; for Wednesday, &quot;thu&quot; for Thursday, &quot;fri&quot; for Friday, &quot;sat&quot; for Saturday, and &quot;sun&quot; for Sunday. 
These factors must average to 1.</p>
</dd>
<dt><code>qs.seasonal</code>:</dt><dd><p>Object of class <code>"list"</code> that contains the factors for water 
consumption per month of the year with 12 elements called with the three first lower case letters 
of the month from &quot;jan&quot; for January to &quot;dec&quot; for December. These factors must average to 1.</p>
</dd>
<dt><code>export</code>:</dt><dd><p>Object of class <code>"numeric"</code>. If 1 (default) then the 
results are saved in <code>folderOutput</code>. Set to 0 for not writing in 
output files.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>EmiStatR</dt><dd><p><code>signature(x = "input")</code>: execute EmiStatR function </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>J.A. Torres-Matallana
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## loading EmiStatR
library("EmiStatR")
showClass("input")

## running EmiStatR with user defined input
data("Esch_Sure2010")
P1 &lt;- Esch_Sure2010[1:1000,]  # selecting just the first 1,000 rows
station &lt;- "Esch-sur-Sure"

# defining estructures E1
E1 &lt;- list(id = 1, ns = "FBH Goesdorf", nm = "Goesdorf", nc = "Obersauer", numc = 1, 
           use = "R/I", Atotal = 36, Aimp = 25.2, Cimp = 0.80, Cper = 0.30,
           tfS = 1, pe = 650, Qd = 5, 
           Dd = 0.15, Cd = 0.18, V = 190, lev.ini = 0.10,
           lev2vol = list(lev = c(.06, 1.10, 1.30, 3.30), 
                          vol = c(0.5, 31, 45, 190))
           )

# defining Input objet
input.user &lt;- input(spatial = 0, zero = 1e-5, folder = getwd(),
                    cores = 1,
                    ww = list(qs = 150, CODs = 104, NH4s = 4.7), 
                    inf = list(qf= 0.04, CODf = 0, NH4f =0),
                    rw = list(CODr = 0, NH4r = 0, stat = station), 
                    P1 = P1, st = list(E1=E1), export = 0)

str(input.user)

# invoking EmiStatR
sim &lt;- EmiStatR(input.user)

## a visualisation example 
dev.new()
par(mfrow=c(2,2), oma = c(0,0,2,0))
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[3]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[3], main = "Precipitation")
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[10]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[10], main = "CSO, volume")
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[13]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[13], main = "CSO, COD concentration")
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[14]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[14], main = "CSO, NH4 concentration")
mtext(paste("Structure", sim[[1]][[3]][[1]]), outer=TRUE, cex = 1.5)
</code></pre>

<hr>
<h2 id='IsReg'>
Wrapping Function for Function &quot;is.regular&quot; from &quot;zoo&quot; package for &quot;data.frame&quot; objects
</h2><span id='topic+IsReg'></span>

<h3>Description</h3>

<p>&quot;IsReg&quot; is a wrapping Function for Function &quot;is.regular&quot; from &quot;zoo&quot; package. Given a  &quot;data.frame&quot; 
object it is converted into a &quot;xts&quot; object, while the regularity of the object is checked. The first 
column of the &quot;data.frame&quot; should contain a character string vector to be converted via as.POSIXct 
accordingly with the date format (format) and time zone (tz). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IsReg(data, format, tz)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IsReg_+3A_data">data</code></td>
<td>
<p>an object of class <code>data.frame</code> containing in its first column a character string vector
to be converted via as.POSIXct into a date vector accordingly with the date format (format) and time zone (tz)
defined</p>
</td></tr>
<tr><td><code id="IsReg_+3A_format">format</code></td>
<td>
<p>character string giving a date-time format as used by <code>strptime</code>.</p>
</td></tr>
<tr><td><code id="IsReg_+3A_tz">tz</code></td>
<td>
<p>a time zone specification to be used for the conversion, if one is required. 
System-specific, but &quot;&quot; is the current time zone, and &quot;GMT&quot; is UTC (Universal Time, Coordinated). 
Invalid values are most commonly treated as UTC, on some platforms with a warning.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&quot;IsReg&quot; calls the as.POSIXct function from <code>base</code> package to convert an object to one of the two 
classes used to represent date/times (calendar dates plus time to the nearest second). 
More details can be found in the &quot;is.regular&quot; function of the &quot;zoo&quot; package.
</p>


<h3>Value</h3>

<p>Object of class <code>"list"</code>. This object contains 2 elements, 
the first one contains a character string &quot;_TSregular&quot; if the xts object created is strict regular, 
or &quot;_TSirregular&quot; if it is strict irregular. More details can be found in the &quot;is.regular&quot; function of the
&quot;zoo&quot; package.</p>


<h3>Author(s)</h3>

<p>J.A. Torres-Matallana
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(EmiStatR)
data("P1")

class(P1)
head(P1)

ts &lt;- IsReg(data = P1, format = "%Y-%m-%d %H:%M:%S", tz = "UTC")
str(ts)

ts[[1]]

head(ts[[2]]); tail(ts[[2]])

plot(ts[[2]], ylab = "Precipitation [mm]")
</code></pre>

<hr>
<h2 id='Level2Volume'>
Function for linear interpolation given the relationship of two variables
</h2><span id='topic+Level2Volume'></span>

<h3>Description</h3>

<p>Given a relationship between two variables (e.g. level and volume), 
this function interpolates
the corresponding second variable (e.g. volume) for a known 
value of the first variable (e.g. level). This function is suitable to
represented e.g. the dynamics of water storage in 
a combined sewer overflow chamber.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Level2Volume(lev, lev2vol)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Level2Volume_+3A_lev">lev</code></td>
<td>

<p>A <code>numeric</code> object that represents the know variable e.g.
the level in a storage chamber.
</p>
</td></tr>
<tr><td><code id="Level2Volume_+3A_lev2vol">lev2vol</code></td>
<td>

<p>A <code>list</code> of two elements. The first element is a <code>vector</code>
named &quot;lev&quot; that contains the interpolation steps of the first variable (e.g. level).
The second element is a <code>vector</code> that contains the interpolation steps 
of the second variable (e.g. volume).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function uses the <code>approx</code> function from the <code>stats</code> package with
&quot;yleft&quot; argument equal to the minimum value of the second variable and &quot;yright&quot; 
argument equal to the maximum value of the second variable.
</p>


<h3>Value</h3>

<p>A <code>numeric</code> object with one element representing the interpolated value 
of the second variable (e.g. volume).
</p>


<h3>Author(s)</h3>

<p>J.A. Torres-Matallana; K. Klepiszewski; G. Schutz.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(EmiStatR)

# definition of relationship level to volume
lev2vol &lt;- list(lev = c(.06, 1.10, 1.30, 3.30), vol = c(0, 31, 45, 200))

interpolated_volume &lt;- Level2Volume(lev=c(0, .25, 1.25, 2.25, 4.25), lev2vol = lev2vol)
interpolated_volume
</code></pre>

<hr>
<h2 id='P1'>
Dataset: An example of input time series for the EmiStatR package
</h2><span id='topic+P1'></span>

<h3>Description</h3>

<p>This dataset is a list that contains a data.frame with two columns: time [y-m-d h:m:s] and precipitation depth, P [mm]. 
The dataset correspond to measurements for January 2016 with time steps of 10 minutes at rain gauge station, Dahl, located close to the sub-catchment of the combined sewer overflow chamber at Goesdorf, Grand-Duchy of Luxembourg. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("P1")</code></pre>


<h3>Format</h3>

<p>A data frame with 4464 observations on the following 2 variables.
</p>

<dl>
<dt><code>time</code></dt><dd><p>a POSIXct vector</p>
</dd>
<dt>&lsquo;<span class="samp">&#8288;P [mm]&#8288;</span>&rsquo;</dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.agrimeteo.lu">https://www.agrimeteo.lu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("P1")

plot(P1[,1], P1[,2], col="blue", typ="l", xlab = "time", ylab = "Precipitation [mm]") 

</code></pre>

<hr>
<h2 id='P1_20111216'>
Dataset: An example of input time series for the EmiStatR package
</h2><span id='topic+P1_20111216'></span>

<h3>Description</h3>

<p>This dataset is a data.frame with four columns: time [y-m-d h:m:s] and precipitation depth, P [mm] for Dahl, Eshc-sur-Sure and Eschdorf rain gauge stations. 
The dataset correspond to measurements for December 16th 2011 for a 10-hour event recorded with time steps of 10 minutes. 
The three rain gauge stations are located close to the sub-catchment of the combined sewer overflow chamber at Goesdorf, Grand-Duchy of Luxembourg. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("P1_20111216")</code></pre>


<h3>Format</h3>

<p>A data frame with 61 observations on the following 4 variables.
</p>

<dl>
<dt><code>time</code></dt><dd><p>a POSIXct vector</p>
</dd>
<dt><code>Dahl</code></dt><dd><p>a numeric vector for rainfall depth in millimeters at Dahl rain gauge station</p>
</dd>
<dt><code>Esch-Sure</code></dt><dd><p>a numeric vector for rainfall depth in millimeters at Esch-sur-Sure rain gauge station</p>
</dd>
<dt><code>Eschdorf</code></dt><dd><p>a numeric vector for rainfall depth in millimeters at Eschdorf rain gauge station</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.agrimeteo.lu">https://www.agrimeteo.lu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("P1_20111216")

plot(P1_20111216[,1], P1_20111216[,2], col="blue", typ="l", 
     xlab = "time", ylab = "Precipitation at Dahl [mm]") 
     
plot(P1_20111216[,1], P1_20111216[,3], col="blue", typ="l", 
     xlab = "time", ylab = "Precipitation at Esch-sur-Sure [mm]") 
     
plot(P1_20111216[,1], P1_20111216[,4], col="blue", typ="l", 
    xlab = "time", ylab = "Precipitation at Eschdorf [mm]") 

</code></pre>

<hr>
<h2 id='pe_factor'>
Dataset: An example of general input for the daily population equivalent factors in the study region.
</h2><span id='topic+pe_factor'></span>

<h3>Description</h3>

<p>This dataset is an example of general input for the daily population equivalent (pe) factors in the study region (Haute-Sure catchment, Grand-Duchy of Luxembourg). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("pe_factor")</code></pre>


<h3>Format</h3>

<p>A data.frame with 12 observations of 2 variables:
</p>

<dl>
<dt><code>time</code>:</dt><dd><p>character, time at which the factors are reported [HH:MM:SS];</p>
</dd> 
<dt><code>pe_factor</code>:</dt><dd><p>numeric, the corresponding factors for population equivalents [-];</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("pe_factor")

pe_factor
</code></pre>

<hr>
<h2 id='qs_factor'>
Dataset: An example of general input for the daily water consumption factors in the study region.
</h2><span id='topic+qs_factor'></span>

<h3>Description</h3>

<p>This dataset is an example of general input for the daily water consumption (qs) factors in the study region (Haute-Sure catchment, Grand-Duchy of Luxembourg). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("qs_factor")</code></pre>


<h3>Format</h3>

<p>A data.frame with 12 observations of 2 variables:
</p>

<dl>
<dt><code>time</code>:</dt><dd><p>character, time at which the factors are reported [HH:MM:SS];</p>
</dd> 
<dt><code>qs_factor</code>:</dt><dd><p>numeric, the corresponding factors for water consumption [-];</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("qs_factor")

qs_factor
</code></pre>

<hr>
<h2 id='qs_factor_ATV'>
Dataset: An example of general input for the daily water consumption factors (ATV German guideline) in the study region.
</h2><span id='topic+qs_factor_ATV'></span>

<h3>Description</h3>

<p>This dataset is an example of general input for the daily water consumption (qs) factors according to the german guideline ATV-A134 applied in the study region (Haute-Sure catchment, Grand-Duchy of Luxembourg). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("qs_factor")</code></pre>


<h3>Format</h3>

<p>A data.frame with 12 observations of 2 variables:
</p>

<dl>
<dt><code>time</code>:</dt><dd><p>character, time at which the factors are reported [HH:MM:SS];</p>
</dd> 
<dt><code>ATV.A134.Qf.m3_h</code>:</dt><dd><p>numeric, the corresponding factors for water consumption according to the German guideline ATV-A134 [-];</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("qs_factor_ATV")

qs_factor_ATV
</code></pre>

<hr>
<h2 id='rw'>
Dataset: An example of general input for rainwater characteristics in the study region.
</h2><span id='topic+rw'></span>

<h3>Description</h3>

<p>This dataset is an example of general input for rainwater characteristics in the sewer system for the study region (Haute-Sure catchment, Grand-Duchy of Luxembourg). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("rw")</code></pre>


<h3>Format</h3>

<p>A list of 6 elements: 
</p>

<dl>
<dt><code>depth</code>:</dt><dd><p>numeric, total rainfall amount of time series P1  [mm];</p>
</dd> 
<dt><code>pDur</code>:</dt><dd><p>numeric, total rainfall duration  of time series P1 [min];</p>
</dd> 
<dt><code>CODr</code>:</dt><dd><p>numeric, rainwater chemical oxygen demand (COD) concentration [mg/l];</p>
</dd>
<dt><code>NH4r</code>:</dt><dd><p>numeric, rainwater ammonium (NH4) concentration [mg/l];</p>
</dd> 
<dt><code>stat</code>:</dt><dd><p>character, raingauge station name for time series P1 [-];</p>
</dd> 
<dt><code>delta.t</code>:</dt><dd><p>numeric, delta time for time series P1 [min];</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("rw")

str(rw)
</code></pre>

<hr>
<h2 id='Volume2Level'>
Function for linear interpolation given the relationship of two variables
</h2><span id='topic+Volume2Level'></span>

<h3>Description</h3>

<p>Given a relationship between two variables (e.g. volume and level), 
this function interpolates
the corresponding second variable (e.g. level) for a known 
value of the first variable (e.g. volume). This function is suitable to
represented e.g. the dynamics of water storage in 
a combined sewer overflow chamber.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Volume2Level(vol, lev2vol)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Volume2Level_+3A_vol">vol</code></td>
<td>

<p>A <code>numeric</code> object that represents the know variable e.g.
the volume in a storage chamber.
</p>
</td></tr>
<tr><td><code id="Volume2Level_+3A_lev2vol">lev2vol</code></td>
<td>

<p>A <code>list</code> of two elements. The first element is a <code>vector</code>
named &quot;lev&quot; that contains the interpolation steps of the first variable (e.g. level).
The second element is a <code>vector</code> that contains the interpolation steps 
of the second variable (e.g. volume).
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>J.A. Torres-Matallana, G. Schutz
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(EmiStatR)

# definition of relationship level to volume
lev2vol &lt;- list(lev = c(.06, 1.10, 1.30, 3.30), vol = c(0, 31, 45, 200))

interpolated_level &lt;- Volume2Level(vol=c(0, 25, 41, 190, 220), lev2vol = lev2vol)
interpolated_level

</code></pre>

<hr>
<h2 id='ww'>
Dataset: An example of general input for wastewater characteristics in the study region.
</h2><span id='topic+ww'></span>

<h3>Description</h3>

<p>This dataset is an example of general input for wastewater characteristics in the sewer system for the study region (Haute-Sure catchment, Grand-Duchy of Luxembourg). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("ww")</code></pre>


<h3>Format</h3>

<p>A list of 3 elements. 
</p>

<dl>
<dt><code>qs</code>:</dt><dd><p>numeric, infiltration inflow [l/(s*ha)];</p>
</dd> 
<dt><code>CODs</code>:</dt><dd><p>numeric, chemical oxygen demand (COD) sewage pollution per capita (PE) load per day [g/(PE*day)];</p>
</dd>
<dt><code>NH4s</code>:</dt><dd><p>numeric, ammonium (NH4) sewage pollution per capita (PE) load per day  [g/(PE*day];</p>
</dd> 
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("ww")

str(ww)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ForestGapR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ForestGapR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ALS_CHM_CAU_2012'><p>ALS-derived CHM - Fazenda Cauaxi 2012</p></a></li>
<li><a href='#ALS_CHM_CAU_2014'><p>ALS-derived CHM - Fazenda Cauaxi 2014</p></a></li>
<li><a href='#ALS_CHM_DUC'><p>ALS-derived CHM - Adolpho Ducke Forest Reserve 2012</p></a></li>
<li><a href='#GapChangeDec'><p>Forest Gaps Change Detection</p></a></li>
<li><a href='#GapSizeFDist'><p>Forest Canopy Gap-size Frequency Distributions</p></a></li>
<li><a href='#GapSPDF'><p>Forest Canopy Gaps as Spatial Polygons</p></a></li>
<li><a href='#GapsSpatPattern'><p>Spatial Pattern Analysis of Forest Canopy Gaps</p></a></li>
<li><a href='#GapStats'><p>Forest Canopy Gaps Stats</p></a></li>
<li><a href='#getForestGaps'><p>Forest Canopy Gap Detection</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tropical Forest Canopy Gaps Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.7</td>
</tr>
<tr>
<td>Description:</td>
<td>Set of tools for detecting and analyzing Airborne Laser Scanning-derived Tropical Forest Canopy Gaps. Details were published in Silva and others (2019) &lt;<a href="https://doi.org/10.1111%2F2041-210X.13211">doi:10.1111/2041-210X.13211</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, igraph, poweRlaw, raster, sp, spatstat.explore,
spatstat.geom, stats, VGAM, viridis</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-31 15:52:45 UTC; jeffa</td>
</tr>
<tr>
<td>Author:</td>
<td>Carlos Alberto Silva [aut, cph, cre],
  Ekena Rangel Pinagé [aut] (Reviews the documentation),
  Midhun Mohan [aut] (Reviews the documentation),
  Danilo Roberti Alves de Almeida [aut] (Reviews the documentation),
  Eben North Broadbent [aut] (Reviews the documentation),
  Wan Shafrina Wan Mohd Jaafar [aut] (Reviews the documentation),
  Daniel de Almeida Papa [aut] (Reviews the documentation),
  Adrian Cardil [aut] (Reviews the documentation),
  Ruben Valbuena [cph, aut],
  Toby Jackson [aut],
  Jeff Atkins [aut],
  Caio Hamamura [aut] (Maintenance and review),
  Carine Klauberg [aut] (Reviews the documentation)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carlos Alberto Silva &lt;carlos_engflorestal@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-31 20:50:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='ALS_CHM_CAU_2012'>ALS-derived CHM - Fazenda Cauaxi 2012</h2><span id='topic+ALS_CHM_CAU_2012'></span>

<h3>Description</h3>

<p>The Airborne Laser Scanning (ALS)-derived Canopy Height Model - (CHM) provided as an example dataset collected in 2012 
at Fazenda Cauaxi in the Paragominas Municipality of Pará State,
Brazil, in the eastern Amazon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ALS_CHM_CAU_2012)</code></pre>


<h3>Format</h3>

<p>The format is:'RasterLayer'
</p>


<h3>Details</h3>

<p>The 1-m ALS-CHM was generated using Lastools software (Isenburg 2016)
</p>


<h3>Source</h3>

<p>ALS data were acquired with support from USAID and the US Department of State with the technical assistance of the Brazilian Corporation
for Agricultural Research (EMBRAPA) and the US Forest Service Office of International Programs via the Sustainable Landscapes Brazil 
Project (Keller, M. 2018).  
</p>


<h3>References</h3>

<p>Keller, M. 2018. Available online: https://www.paisagenslidar.cnptia.embrapa.br/webgis/
</p>
<p>Isenburg, M. LAStools—Efficient Tools for Lidar Processing. 2018. Available online: http://www.cs.unc.
edu/~isenburg/lastools/ (accessed on 3 October 2018).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(raster)

data(ALS_CHM_CAU_2012)
plot(ALS_CHM_CAU_2012)
</code></pre>

<hr>
<h2 id='ALS_CHM_CAU_2014'>ALS-derived CHM - Fazenda Cauaxi 2014</h2><span id='topic+ALS_CHM_CAU_2014'></span>

<h3>Description</h3>

<p>The Airborne Laser Scanning (ALS)-derived Canopy Height Model - (CHM) provided as an example dataset collected in 2014 
at Fazenda Cauaxi in the Paragominas Municipality of Pará State,
Brazil, in the eastern Amazon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ALS_CHM_CAU_2014)</code></pre>


<h3>Format</h3>

<p>The format is:'RasterLayer'
</p>


<h3>Details</h3>

<p>The 1-m ALS-CHM was generated using Lastools software (Isenburg 2016) 
</p>


<h3>Source</h3>

<p>ALS data were acquired with support from USAID and the US Department of State with the technical assistance of the Brazilian Corporation
for Agricultural Research (EMBRAPA) and the US Forest Service Office of International Programs via the Sustainable Landscapes Brazil 
Project (Keller, M. 2018).
</p>


<h3>References</h3>

<p>Keller, M. 2018. Available online: https://www.paisagenslidar.cnptia.embrapa.br/webgis/
</p>
<p>Isenburg, M. LAStools—Efficient Tools for Lidar Processing. 2018. Available online: http://www.cs.unc.
edu/~isenburg/lastools/ (accessed on 3 October 2018).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(raster)

data(ALS_CHM_CAU_2014)
plot(ALS_CHM_CAU_2014)
</code></pre>

<hr>
<h2 id='ALS_CHM_DUC'>ALS-derived CHM - Adolpho Ducke Forest Reserve 2012</h2><span id='topic+ALS_CHM_DUC'></span>

<h3>Description</h3>

<p>The Airborne Laser Scanning (ALS)-derived Canopy Height Model - (CHM) provided as an example dataset collected in 2012 
at the Adolpho Ducke Forest Reserve in Municipality of Manaus of State of Amazonas,
Brazil, in central Amazon. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ALS_CHM_DUC)</code></pre>


<h3>Format</h3>

<p>The format is:'RasterLayer'
</p>


<h3>Details</h3>

<p>The 1-m ALS-CHM was generated using Lastools software (Isenburg 2016) 
</p>


<h3>Source</h3>

<p>ALS data were acquired with support from USAID and the US Department of State with the technical assistance of the Brazilian Corporation
for Agricultural Research (EMBRAPA) and the US Forest Service Office of International Programs via the Sustainable Landscapes Brazil 
Project (Keller, M. 2018). 
</p>


<h3>References</h3>

<p>Keller, M. 2018. Available online: https://www.paisagenslidar.cnptia.embrapa.br/webgis/
</p>
<p>Isenburg, M. LAStools—Efficient Tools for Lidar Processing. 2018. Available online: http://www.cs.unc.
edu/~isenburg/lastools/ (accessed on 3 October 2018).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(raster)
data(ALS_CHM_DUC)

plot(ALS_CHM_DUC)
</code></pre>

<hr>
<h2 id='GapChangeDec'>Forest Gaps Change Detection</h2><span id='topic+GapChangeDec'></span>

<h3>Description</h3>

<p>This function detects forest canopy gap changes across two forest gap <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GapChangeDec(gap_layer1,gap_layer2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GapChangeDec_+3A_gap_layer1">gap_layer1</code></td>
<td>
<p>ALS-derived gap as an <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code> object at time 1. (output of  <code><a href="#topic+getForestGaps">getForestGaps()</a></code> function).</p>
</td></tr>
<tr><td><code id="GapChangeDec_+3A_gap_layer2">gap_layer2</code></td>
<td>
<p>ALS-derived gap as an <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code> object at time 2. (output of  <code><a href="#topic+getForestGaps">getForestGaps()</a></code> function).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code> object representing forest gap change area
</p>


<h3>Author(s)</h3>

<p>Carlos Alberto Silva.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Loading raster and viridis libraries
library(raster)
library(viridis)


# ALS-derived CHM from Fazenda Cauxi - Brazilian tropical forest
data(ALS_CHM_CAU_2012)
data(ALS_CHM_CAU_2014)

# set height thresholds (e.g. 10 meters)
threshold &lt;- 10
size &lt;- c(1, 10^4) # m2

# Detecting forest gaps
gaps_cau2012 &lt;- getForestGaps(chm_layer = ALS_CHM_CAU_2012, threshold = threshold, size = size)
gaps_cau2014 &lt;- getForestGaps(chm_layer = ALS_CHM_CAU_2014, threshold = threshold, size = size)

# Detecting forest gaps changes
Gap_changes &lt;- GapChangeDec(gap_layer1 = gaps_cau2012, gap_layer2 = gaps_cau2014)

# Plotting ALS-derived CHM and forest gaps
oldpar &lt;- par(mfrow = c(1, 3))
plot(ALS_CHM_CAU_2012, main = "Forest Canopy Gap - 2012", col = viridis(10))
plot(gaps_cau2012, add = TRUE, col = "red", legend = FALSE)

plot(ALS_CHM_CAU_2014, main = "Forest Canopy Gap - 2014", col = viridis(10))
plot(gaps_cau2014, add = TRUE, col = "red", legend = FALSE)

plot(ALS_CHM_CAU_2014, main = "Forest Gap Changes Detected", col = viridis(10))
plot(Gap_changes, add = TRUE, col = "orange", legend = FALSE)
par(oldpar)

## End(Not run)
</code></pre>

<hr>
<h2 id='GapSizeFDist'>Forest Canopy Gap-size Frequency Distributions</h2><span id='topic+GapSizeFDist'></span>

<h3>Description</h3>

<p>This function quantifies forest canopy gap size-frequency distributions and estimates power-law exponent (&lambda;) from the Zeta distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GapSizeFDist(gaps_stats,method,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GapSizeFDist_+3A_gaps_stats">gaps_stats</code></td>
<td>
<p>A data.frame containing basic statistics of forest gaps. Output of <code><a href="#topic+GapStats">GapStats()</a></code> function.</p>
</td></tr>
<tr><td><code id="GapSizeFDist_+3A_method">method</code></td>
<td>
<p>If method='Asner_2013' the &lambda; is computed following the method described Asner et al. (2013)
and if methods='Hanel_2017' the &lambda; is computed following the method described in Hanel et al. (2017)</p>
</td></tr>
<tr><td><code id="GapSizeFDist_+3A_...">...</code></td>
<td>
<p>Supplementary parameters for [graphics::plot()).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A log-log plot of gap-size Frequency Distributions and a list containing: i) &lambda;, ii) the gap-size Frequency Distributions and ii) method used.
The &lambda; parameter is derived for the Zeta distribution using a maximum likelihood estimator. See details section.
</p>


<h3>References</h3>

<p>Hanel,R., Corominas-Murtra, B., Liu, B., Thurner, S. (2013). Fitting power-laws in empirical data with estimators that work for all exponents,
PloS one, vol. 12, no. 2, p. e0170920.https://doi.org/10.1371/journal.pone.0170920
</p>
<p>Asner, G.P., Kellner, J.R., Kennedy-Bowdoin, T., Knapp, D.E., Anderson, C. &amp; Martin, R.E. (2013).
Forest canopy gap distributions in the Southern Peruvian Amazon. PLoS One, 8, e60875.https://doi.org/10.1371/journal.pone.0060875
</p>
<p>White, E.P, Enquist, B.J, Green, J.L. (2008) On estimating the exponent of power law frequency distributions. Ecology 89,905-912.
https://doi.org/10.1890/07-1288.1
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Loading raster library
library(raster)

# ALS-derived CHM over Adolpho Ducke Forest Reserve - Brazilian tropical forest
data(ALS_CHM_DUC)

# set height thresholds (e.g. 10 meters)
threshold &lt;- 10
size &lt;- c(1, 10^4) # m2

# Detecting forest gaps
gaps_duc &lt;- getForestGaps(chm_layer = ALS_CHM_DUC, threshold = threshold, size = size)

# Computing basic statistics of forest gap
gaps_stats &lt;- GapStats(gap_layer = gaps_duc, chm_layer = ALS_CHM_DUC)

# Gap-size Frequency Distributions
GapSizeFDist(
  gaps_stats = gaps_stats, method = "Hanel_2017", col = "forestgreen", pch = 16, cex = 1,
  axes = FALSE, ylab = "Gap Frequency", xlab = as.expression(bquote("Gap Size" ~ (m^2)))
)
axis(1)
axis(2)
grid(4, 4)
</code></pre>

<hr>
<h2 id='GapSPDF'>Forest Canopy Gaps as Spatial Polygons</h2><span id='topic+GapSPDF'></span>

<h3>Description</h3>

<p>This function converts forest canopy gaps as <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code> to
<code><a href="sp.html#topic+SpatialPointsDataFrame-class">sp::SpatialPointsDataFrame</a></code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GapSPDF(gap_layer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GapSPDF_+3A_gap_layer">gap_layer</code></td>
<td>
<p>ALS-derived gap layer (output of <code><a href="#topic+getForestGaps">getForestGaps()</a></code> function).
An object of the class RasterLayer.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="sp.html#topic+SpatialPointsDataFrame-class">sp::SpatialPointsDataFrame</a></code> object of the forest canopy gaps.
The result can be exported as a ESRI shapefile using
<code><a href="raster.html#topic+shapefile">raster::shapefile()</a></code> function in the <em>raster</em> package.
</p>


<h3>Author(s)</h3>

<p>Carlos Alberto Silva.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Loading raster and viridis libraries
library(raster)
library(viridis)


# ALS-derived CHM over Adolpho Ducke Forest Reserve - Brazilian tropical forest
data(ALS_CHM_DUC)

# set height thresholds (e.g. 10 meters)
threshold &lt;- 10
size &lt;- c(1, 10^4) # m2

# Detecting forest gaps
gaps_duc &lt;- getForestGaps(chm_layer = ALS_CHM_DUC, threshold = threshold, size = size)

# Converting raster layer to SpatialPolygonsDataFrame
gaps_spdf &lt;- GapSPDF(gap_layer = gaps_duc)

# Plotting ALS-derived CHM and forest gaps
plot(ALS_CHM_DUC, col = viridis(10), xlim = c(173025, 173125), ylim = c(9673100, 96731200))
plot(gaps_spdf, add = TRUE, border = "red", lwd = 2)

# Populating the attribute table of Gaps_spdf with gaps statistics
gaps_stats &lt;- GapStats(gap_layer = gaps_duc, chm_layer = ALS_CHM_DUC)
gaps_spdf &lt;- merge(gaps_spdf, gaps_stats, by = "gap_id")
head(gaps_spdf@data)
</code></pre>

<hr>
<h2 id='GapsSpatPattern'>Spatial Pattern Analysis of Forest Canopy Gaps</h2><span id='topic+GapsSpatPattern'></span>

<h3>Description</h3>

<p>This function computes second order statistics of forest canopy gaps (<code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code>) to
<code><a href="sp.html#topic+SpatialPointsDataFrame-class">sp::SpatialPointsDataFrame</a></code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GapsSpatPattern(gap_SPDF_layer, chm_layer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GapsSpatPattern_+3A_gap_spdf_layer">gap_SPDF_layer</code></td>
<td>
<p>A <code><a href="sp.html#topic+SpatialPointsDataFrame-class">sp::SpatialPointsDataFrame</a></code> object of the forest canopy gaps.
Output of <code><a href="#topic+GapSPDF">GapSPDF()</a></code> function.
An object of the class <code><a href="sp.html#topic+SpatialPointsDataFrame-class">sp::SpatialPointsDataFrame</a></code></p>
</td></tr>
<tr><td><code id="GapsSpatPattern_+3A_chm_layer">chm_layer</code></td>
<td>
<p>ALS-derived Canopy Height Model (CHM) (<code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code>) object. An object of the class <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with Ripley's K- and L-functions. Value of Clark-Evans index (R) and test for randomness (R=1), aggregation (R&lt;1) or uniform distribution (R&gt;1).
</p>


<h3>Author(s)</h3>

<p>Ruben Valbuena and Carlos Alberto Silva.
</p>


<h3>References</h3>

<p><code><a href="spatstat.explore.html#topic+spatstat.explore-package">spatstat.explore-package</a></code>, see
<code><a href="spatstat.explore.html#topic+Lest">Lest</a></code>,
<code><a href="spatstat.explore.html#topic+Kest">Kest</a></code> and
<code><a href="spatstat.explore.html#topic+clarkevans.test">clarkevans.test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This takes &gt; 5 seconds!

# Loading raster and viridis libraries
library(raster)
library(viridis)

# ALS-derived CHM from Fazenda Cauxi - Brazilian tropical forest
data(ALS_CHM_CAU_2012)
data(ALS_CHM_CAU_2014)

# set height thresholds (e.g. 10 meters)
threshold &lt;- 10
size &lt;- c(1, 1000) # m2

# Detecting forest gaps
gaps_cau2012 &lt;- getForestGaps(chm_layer = ALS_CHM_CAU_2012, threshold = threshold, size = size)
gaps_cau2014 &lt;- getForestGaps(chm_layer = ALS_CHM_CAU_2014, threshold = threshold, size = size)

# Converting raster layers to SpatialPolygonsDataFrame
gaps_cau2012_spdf &lt;- GapSPDF(gap_layer = gaps_cau2012)
gaps_cau2014_spdf &lt;- GapSPDF(gap_layer = gaps_cau2014)

# Spatial pattern analysis of each year
gaps_cau2012_SpatPattern &lt;- GapsSpatPattern(gaps_cau2012_spdf, ALS_CHM_CAU_2012)
gaps_cau2014_SpatPattern &lt;- GapsSpatPattern(gaps_cau2014_spdf, ALS_CHM_CAU_2014)

</code></pre>

<hr>
<h2 id='GapStats'>Forest Canopy Gaps Stats</h2><span id='topic+GapStats'></span>

<h3>Description</h3>

<p>This function computes a series of forest canopy gap statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GapStats(gap_layer, chm_layer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GapStats_+3A_gap_layer">gap_layer</code></td>
<td>
<p>ALS-derived gap as <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code> object (output of  <code><a href="#topic+getForestGaps">getForestGaps()</a></code> function). An object of the class RasterLayer.</p>
</td></tr>
<tr><td><code id="GapStats_+3A_chm_layer">chm_layer</code></td>
<td>
<p>ALS-derived Canopy Height Model (CHM) <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code> used in <code><a href="#topic+getForestGaps">getForestGaps()</a></code> function. An object of the class <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing forest canopy gap statistics
</p>


<h3>List of forest gaps statistics:</h3>


<ul>
<li><p> gap_id: gap id
</p>
</li>
<li><p> gap_area - area of gap (m2)
</p>
</li>
<li><p> chm_max - Maximum canopy height (m) within gap boundary
</p>
</li>
<li><p> chm_min - Minimum canopy height (m) within gap boundary
</p>
</li>
<li><p> chm_mean - Mean canopy height (m) within gap boundary
</p>
</li>
<li><p> chm_sd - Standard Deviation of canopy heights (m) within gap boundary
</p>
</li>
<li><p> chm_gini - Gini Coefficient of canopy heights (m) within gap boundary
</p>
</li>
<li><p> chm_range - Range of canopy heights (m) within gap boundary
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Carlos Alberto Silva.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Loading raster library
library(raster)

# ALS-derived CHM over Adolpho Ducke Forest Reserve - Brazilian tropical forest
data(ALS_CHM_CAU_2012)

# set height thresholds (e.g. 10 meters)
threshold &lt;- 10
size &lt;- c(5, 10^4) # m2

# Detecting forest gaps
gaps_duc &lt;- getForestGaps(chm_layer = ALS_CHM_DUC, threshold = threshold, size = size)

# Computing basic statistis of forest gap
gaps_stats &lt;- GapStats(gap_layer = gaps_duc, chm_layer = ALS_CHM_DUC)
</code></pre>

<hr>
<h2 id='getForestGaps'>Forest Canopy Gap Detection</h2><span id='topic+getForestGaps'></span>

<h3>Description</h3>

<p>This function detects forest canopy gaps on Airborne Laser Scanning(ALS)-derived Canopy Height Model (CHM).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getForestGaps(chm_layer, threshold=10, size=c(1,10^4))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getForestGaps_+3A_chm_layer">chm_layer</code></td>
<td>
<p>ALS-derived Canopy Height Model (CHM) (<code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code>) object. An object of the class <code><a href="raster.html#topic+Raster-classes">raster::RasterLayer</a></code>.</p>
</td></tr>
<tr><td><code id="getForestGaps_+3A_threshold">threshold</code></td>
<td>
<p>Height threshold for gap detection. Default is 10 m.</p>
</td></tr>
<tr><td><code id="getForestGaps_+3A_size">size</code></td>
<td>
<p>A vector containing the minimum and maximum gap size - area (m2).
Gaps with area &lt; size[1] or area &gt; size[2] are not considered. Default is 1 m2 and 1ha.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Forest Gaps. An object of the class RasterLayer.
</p>


<h3>Author(s)</h3>

<p>Carlos Alberto Silva.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# =======================================================================#
# Importing ALS-derived Canopy Height Model (CHM)
# =======================================================================#
# Loading raster and viridis libraries
library(raster)
library(viridis)


# ALS-derived CHM over Adolpho Ducke Forest Reserve - Brazilian tropical forest
data(ALS_CHM_DUC)

# Plotting chm
plot(ALS_CHM_DUC, col = viridis(10), main = "ALS CHM")
grid()
# =======================================================================#
# Example 1: Forest Gap detection using a fixed canopy height thresholds
# =======================================================================#

# set height thresholds (e.g. 10 meters)
threshold &lt;- 10
size &lt;- c(1, 10^4) # m2

# Detecting forest gaps
gaps_duc &lt;- getForestGaps(chm_layer = ALS_CHM_DUC, threshold = threshold, size = size)

# Ploting gaps
plot(gaps_duc, col = "red", add = TRUE, main = "Forest Canopy Gap", legend = FALSE)

# =======================================================================#
# Example 2: Gap detection using multiple canopy height thresholds
# =======================================================================#

# set the height thresholds
nthresholds &lt;- c(10, 15, 20, 25)
size &lt;- c(1, 10^4) # m2

# creating an empy raster stack to store multiple gaps as RasterLayers
gaps_stack &lt;- stack()

# Gap detection
for (i in nthresholds) {
  gaps_i &lt;- getForestGaps(chm_layer = ALS_CHM_DUC, threshold = i, size = size)
  names(gaps_i) &lt;- paste0("gaps_", i, "m")
  gaps_stack &lt;- stack(gaps_stack, gaps_i)
}

# plot gaps
oldpar &lt;- par(no.readonly = TRUE)
par(mfrow = c(2, 2))
plot(ALS_CHM_DUC, col = viridis(10), main = "Height threshold 10m")
plot(gaps_stack$gaps_10m, col = "red", add = TRUE, legend = FALSE)

plot(ALS_CHM_DUC, col = viridis(10), main = "Height threshold 15m")
plot(gaps_stack$gaps_15m, col = "red", add = TRUE, legend = FALSE)

plot(ALS_CHM_DUC, col = viridis(10), main = "Height threshold 20m")
plot(gaps_stack$gaps_20m, col = "red", add = TRUE, legend = FALSE)

plot(ALS_CHM_DUC, col = viridis(10), main = "Height threshold 25m")
plot(gaps_stack$gaps_25m, col = "red", add = TRUE, legend = FALSE)
par(oldpar)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

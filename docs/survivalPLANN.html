<!DOCTYPE html><html lang="en"><head><title>Help for package survivalPLANN</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {survivalPLANN}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataK'>
<p>Observed Mortality Data of Patients with Cancer</p></a></li>
<li><a href='#predict.survivalPLANN'>
<p>Predict Survival From a Neural Network Based on the PLANN Method</p></a></li>
<li><a href='#print.survivalPLANN'>
<p>Print Method for a Neural Network Based on the PLANN Method</p></a></li>
<li><a href='#survivalPLANN'>
<p>Survival Neural Network by Using the PLANN Method</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Neural Networks to Predict Survival</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0), survival, nnet</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, stats</td>
</tr>
<tr>
<td>Description:</td>
<td>Several functions and S3 methods to predict survival by using neural networks. We implemented Partial Logistic Artificial Neural Networks (PLANN) as proposed by Biganzoli et al. (1998)  <a href="https://pubmed.ncbi.nlm.nih.gov/9618776">https://pubmed.ncbi.nlm.nih.gov/9618776</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/chupverse/survivalPLANN/issues">https://github.com/chupverse/survivalPLANN/issues</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-01 09:55:41 UTC; foucher-y</td>
</tr>
<tr>
<td>Author:</td>
<td>Yohann Foucher <a href="https://orcid.org/0000-0003-0330-7457"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Thomas Ollard <a href="https://orcid.org/0009-0001-5122-9214"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yohann Foucher &lt;yohann.foucher@univ-poitiers.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-20 14:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataK'>
Observed Mortality Data of Patients with Cancer
</h2><span id='topic+dataK'></span>

<h3>Description</h3>

<p>An data frame with a simulated sample of patients with a cancer and their follow-up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataK)</code></pre>


<h3>Format</h3>

<p>The format is &quot;data.frame&quot;. The names of the columns are:
</p>

<table>
<tr>
 <td style="text-align: right;">
<code>sex</code> </td><td style="text-align: left;"> A numeric vector equals 1 for male and 2 for male. </td>
</tr>
<tr>
 <td style="text-align: right;">											
<code>age</code> </td><td style="text-align: left;"> A  numeric vector with the age of the patient at the time of cancer diagnosis (baseline). </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>year</code> </td><td style="text-align: left;"> A numeric vector with the date of diagnosis (in date format, i.e.,  </td>
</tr>
<tr>
 <td style="text-align: right;">
  </td><td style="text-align: left;"> the number of days since 1Jan60). </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>stade</code> </td><td style="text-align: left;"> A numeric vector with the disease stage: 1 for advanced cancer and 0 otherwise. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td><td style="text-align: left;"> according to the time. Only the dimension related to <code>sex</code> equals 1. </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>delay</code> </td><td style="text-align: left;"> A numeric vector indicating early diagnosis: 1 for delayed diagnosis and 0 otherwise. </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>biomarker</code> </td><td style="text-align: left;">  A numeric vector with a biomarker associated with cancer-specific mortality. </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>sexchara</code> </td><td style="text-align: left;">  A character vector with the patient gender: "male" or "female". </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>event</code> </td><td style="text-align: left;">  A numeric vector equals 1 for death and 0 for censoring. </td>
</tr>
<tr>
 <td style="text-align: right;">
<code>time</code> </td><td style="text-align: left;">  A numeric vector with the follow-up time in days since the cancer diagnostic.
</td>
</tr>

</table>



<h3>Details</h3>

<p>The data frame was obtained by simulations. The French mortality tables were used for the expected mortality and a proportional hazard model with an Exponential distribution for the baseline hazard.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataK)

# Plotting the observed survival by using the Kaplan-Meier estimator

plot(survfit(Surv(time/365.241, event) ~ 1, data = dataK),
     ylab="Patient survival", xlab="Post-diagnostic time in years")
</code></pre>

<hr>
<h2 id='predict.survivalPLANN'>
Predict Survival From a Neural Network Based on the PLANN Method
</h2><span id='topic+predict.survivalPLANN'></span>

<h3>Description</h3>

<p>This function produces survival prediction from a neural network based on the PLANN method. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survivalPLANN'
predict(object, newdata = NULL, newtimes = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.survivalPLANN_+3A_object">object</code></td>
<td>
<p>The result of the <code>survivalPLANN</code> function.</p>
</td></tr>
<tr><td><code id="predict.survivalPLANN_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame comprising of new examples to be predicted. If <code>NULL</code>, the data frame used is the one used for training in the <code>survivalPLANN</code> function.</p>
</td></tr>
<tr><td><code id="predict.survivalPLANN_+3A_newtimes">newtimes</code></td>
<td>
<p>A optional numeric vector comprising of times to get survival estimations. If <code>NULL</code>, the times are the intervals used in the <code>survivalPLANN</code> function.</p>
</td></tr>
<tr><td><code id="predict.survivalPLANN_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>times</code></td>
<td>
<p>The times used for the predicitions.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A data frame comprising of the survival predictions from the neural network.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Biganzoli E, Boracchi P, Mariani L, and et al. Feed forward neural networks for the analysis of censored survival data: a partial logistic regression approach. Stat Med, 17:1169-86, 1998.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataK)

splann &lt;- survivalPLANN(Surv(time, event) ~ sex + stade + delay, data=dataK, inter=365, 
                          size=32, decay=0.01, maxit=200, MaxNWts=10000)

dnew &lt;- data.frame(sex=c(1,2), delay=c(0,0), stade=c(0,0))

pred &lt;- predict(splann, newdata = dnew)

# Predictions for a men or a women with no delay at the diagnostic of non-agressive cancer

plot(c(0,pred$times/365.241), c(1,pred$predictions[1,]), ylab="Patient survival",
  xlab="Post-diagnosis time in years", type="l")
lines(c(0,pred$times/365.241), c(1,pred$predictions[2,]), type="l", col=2)
</code></pre>

<hr>
<h2 id='print.survivalPLANN'>
Print Method for a Neural Network Based on the PLANN Method
</h2><span id='topic+print.survivalPLANN'></span>

<h3>Description</h3>

<p>This function prints a description of the neural network using the PLANN method. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survivalPLANN'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.survivalPLANN_+3A_x">x</code></td>
<td>
<p>The result of a survivalPLANN fit.</p>
</td></tr>
<tr><td><code id="print.survivalPLANN_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>References</h3>

<p>Biganzoli E, Boracchi P, Mariani L, and et al. Feed forward neural networks for the analysis of censored survival data: a partial logistic regression approach. Stat Med, 17:1169-86, 1998.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataK)

splann &lt;- survivalPLANN(Surv(time, event) ~ sex + stade + delay, data=dataK, inter=365, 
                          size=32, decay=0.01, maxit=100, MaxNWts=10000)

print(splann)
</code></pre>

<hr>
<h2 id='survivalPLANN'>
Survival Neural Network by Using the PLANN Method
</h2><span id='topic+survivalPLANN'></span>

<h3>Description</h3>

<p>This function allows to compute a neural network using the PLANN method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survivalPLANN(formula, data, inter, size = 32, decay = 0.01,
                          maxit = 100, MaxNWts = 10000, trace = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survivalPLANN_+3A_formula">formula</code></td>
<td>
<p>a formula object, with the response on the left of a ~ operator, and the terms on the right. The response must be a survival object as returned by the <code>Surv</code> function.</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_data">data</code></td>
<td>
<p>A data frame in which to look for the variables included in the <code>formula</code>.</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_inter">inter</code></td>
<td>
<p>A numeric value representing the length of the intervals.</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_size">size</code></td>
<td>
<p>A numeric value for the number of units in the hidden layer. Default is set to 32</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_decay">decay</code></td>
<td>
<p>A numeric value for the parameter for weight decay. Default is set to 0.01</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_maxit">maxit</code></td>
<td>
<p>A numeric value for the maximum number of iterations. Default is set to 100.</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_maxnwts">MaxNWts</code></td>
<td>
<p>The maximum allowable number of weights. There is no intrinsic limit in the code, but increasing MaxNWts will probably allow fits that are very slow and time-consuming. Default is set to 10000</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_trace">trace</code></td>
<td>
<p>A logical argument for tracing optimization. Default is set to FALSE.</p>
</td></tr>
<tr><td><code id="survivalPLANN_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>nnet</code> loss function parameter is fixed to <code>entropy</code> as Biganzoli's PLANN method minimize the cross-entrophy loss function which correspondS to maximizing the loglikelihood.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>formula</code></td>
<td>
<p>The <code>formula</code> object.</p>
</td></tr>
<tr><td><code>fitsurvivalnet</code></td>
<td>
<p>The fitted <code>nnet</code> object.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame given with the computed <code>Intervals</code> column added.</p>
</td></tr>
<tr><td><code>data_dup</code></td>
<td>
<p>The base data frame with the duplicated rows based on the <code>Intervals</code> column. </p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>The function call for the creation of the <code>nnet</code> object.</p>
</td></tr>
<tr><td><code>inter</code></td>
<td>
<p>The interval length.</p>
</td></tr>
<tr><td><code>size</code></td>
<td>
<p>The number of units in the hidden layer.</p>
</td></tr>
<tr><td><code>decay</code></td>
<td>
<p>The value of the parameter for weight decay.</p>
</td></tr>
<tr><td><code>maxit</code></td>
<td>
<p>The value of the parameter for maxit.</p>
</td></tr>
<tr><td><code>MaxNWts</code></td>
<td>
<p>The value of the parameter for MaxNWts.</p>
</td></tr>
<tr><td><code>coefnames</code></td>
<td>
<p>The name(s) of the covariate(s) used in the model.</p>
</td></tr>
<tr><td><code>y</code></td>
<td>
<p>The values of <code>time</code> and <code>event</code>.</p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>The model covariates values.</p>
</td></tr>
<tr><td><code>intervals</code></td>
<td>
<p>The intervals limits values.</p>
</td></tr>
<tr><td><code>missing</code></td>
<td>
<p>The rows with a missing value in the data base.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Biganzoli E, Boracchi P, Mariani L, and et al. Feed forward neural networks for the analysis of censored survival data: a partial logistic regression approach. Stat Med, 17:1169-86, 1998.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataK)

splann &lt;- survivalPLANN(Surv(time, event) ~ sex + stade + delay, data=dataK, inter=365, 
                          size=32, decay=0.01, maxit=100, MaxNWts=10000)

print(splann)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

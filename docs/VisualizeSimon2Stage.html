<!DOCTYPE html><html lang="en-US"><head><title>Help for package VisualizeSimon2Stage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {VisualizeSimon2Stage}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#VisualizeSimon2Stage-package'><p>Visualize Simon\'s Two-Stage Design</p></a></li>
<li><a href='#gg_ph2simon'><p>Plot Simon's Two-Stage Design</p></a></li>
<li><a href='#ph2simon4'><p>S4 Object ph2simon4</p></a></li>
<li><a href='#print_ph2simon'><p>Alternate Print Method for a Simon's Two-Stage Design</p></a></li>
<li><a href='#r_simon'><p>Random Generator based on Simon's Two-Stage Design</p></a></li>
<li><a href='#show_simon'><p>Show S4 Objects</p></a></li>
<li><a href='#simon_oc'><p>Operating Characteristics of Simon's Two-Stage Design</p></a></li>
<li><a href='#simon_pr'><p>Probabilities of one Simon's Two-Stage Design</p></a></li>
<li><a href='#Sprintf_ph2simon'><p>Short Paragraph to Describe a ph2simon Object</p></a></li>
<li><a href='#Sprintf.simon_oc'><p>Short Paragraph to Describe a simon_oc Object</p></a></li>
<li><a href='#summary_ph2simon'><p>Summarize a Simon's Two-Stage Design</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Visualize Simon's Two-Stage Design</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-03-18</td>
</tr>
<tr>
<td>Description:</td>
<td>To visualize the probabilities of early termination, fail
        and success of Simon's two-stage design.  To evaluate and
        visualize the operating characteristics of Simon's two-stage
        design.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>methods</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.4.0), ggplot2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>clinfun</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-18 18:45:32 UTC; tingtingzhan</td>
</tr>
<tr>
<td>Author:</td>
<td>Tingting Zhan <a href="https://orcid.org/0000-0001-9971-4844"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tingting Zhan &lt;tingtingzhan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-18 19:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='VisualizeSimon2Stage-package'>Visualize Simon\'s Two-Stage Design</h2><span id='topic+VisualizeSimon2Stage'></span><span id='topic+VisualizeSimon2Stage-package'></span>

<h3>Description</h3>

<p>Functions for visualizing the probabilities of early termination, fail and success of
Simon's two-stage design.
Functions for evaluating and visualizing the operating characteristics of
Simon's two-stage design.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Tingting Zhan <a href="mailto:tingtingzhan@gmail.com">tingtingzhan@gmail.com</a> (<a href="https://orcid.org/0000-0001-9971-4844">ORCID</a>)
</p>


<h3>References</h3>

<p><a href="https://doi.org/10.1016/0197-2456%2889%2990015-9">doi:10.1016/0197-2456(89)90015-9</a>
</p>
<p><a href="https://www.ncss.com/software/pass/">https://www.ncss.com/software/pass/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x = clinfun::ph2simon(pu = .2, pa = .4, ep1 = .05, ep2 = .1)) 

# an alternative print
print_ph2simon(x)

# language for a report
Sprintf.ph2simon(x, type = 'minimax')
Sprintf.ph2simon(x, type = 'optimal')
Sprintf.ph2simon(x, type = 'n1')
Sprintf.ph2simon(x, type = 'maximax')

autoplot(x, type = 'minimax')
autoplot(x, type = 'optimal')
autoplot(x, type = 'n1')
autoplot(x, type = 'maximax')

# operating characteristics
simon_oc(prob = c(A = .3, B = .2, C = .15), object = x, type = 'minimax')
simon_oc(prob = c(A = .3, B = .2, C = .15), object = x, type = 'optimal')

# example with r1 = 0
(x1 = clinfun::ph2simon(pu = .05, pa = .3, ep1 = .05, ep2 = .2))
# works with all of our functions
autoplot(x1, type = 'optimal') # etc.

</code></pre>

<hr>
<h2 id='gg_ph2simon'>Plot Simon's Two-Stage Design</h2><span id='topic+gg_ph2simon'></span><span id='topic+autoplot.ph2simon'></span><span id='topic+autolayer.ph2simon4'></span><span id='topic+autolayer.ph2simon'></span>

<h3>Description</h3>

<p>Plot <a href="clinfun.html#topic+ph2simon">ph2simon</a> object using <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ph2simon'
autoplot(object, ...)

## S3 method for class 'ph2simon4'
autolayer(
  object,
  r1 = object@r1,
  n1 = object@n1,
  r = object@r,
  n = object@n,
  pu = object@pu,
  pa = object@pa,
  ...
)

## S3 method for class 'ph2simon'
autolayer(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gg_ph2simon_+3A_object">object</code></td>
<td>
<p>a <a href="clinfun.html#topic+ph2simon">ph2simon</a> or <a href="#topic+ph2simon4-class">ph2simon4</a> object</p>
</td></tr>
<tr><td><code id="gg_ph2simon_+3A_...">...</code></td>
<td>
<p>parameters of function <code><a href="#topic+ph2simon4">ph2simon4()</a></code>, most importantly <code>type</code></p>
</td></tr>
<tr><td><code id="gg_ph2simon_+3A_r1">r1</code>, <code id="gg_ph2simon_+3A_n1">n1</code>, <code id="gg_ph2simon_+3A_r">r</code>, <code id="gg_ph2simon_+3A_n">n</code></td>
<td>
<p>(optional) <a href="base.html#topic+integer">integer</a> scalars, see <a href="#topic+ph2simon4-class">ph2simon4</a>.</p>
</td></tr>
<tr><td><code id="gg_ph2simon_+3A_pu">pu</code>, <code id="gg_ph2simon_+3A_pa">pa</code></td>
<td>
<p><a href="base.html#topic+double">double</a> scalars, see function <a href="clinfun.html#topic+ph2simon">ph2simon</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <code><a href="#topic+autoplot.ph2simon">autoplot.ph2simon()</a></code> returns a <a href="ggplot2.html#topic+ggplot">ggplot</a> object.
</p>
<p>Function <code><a href="#topic+autolayer.ph2simon">autolayer.ph2simon()</a></code> returns a <a href="base.html#topic+list">list</a> of <a href="ggplot2.html#topic+ggproto">ggproto</a> and labels.
</p>

<hr>
<h2 id='ph2simon4'>S4 Object <a href="#topic+ph2simon4-class">ph2simon4</a></h2><span id='topic+ph2simon4'></span><span id='topic+ph2simon4-class'></span>

<h3>Description</h3>

<p>One or more Simon's two-stage designs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ph2simon4(object, type = "minimax", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ph2simon4_+3A_object">object</code></td>
<td>
<p>a <a href="clinfun.html#topic+ph2simon">ph2simon</a> object</p>
</td></tr>
<tr><td><code id="ph2simon4_+3A_type">type</code></td>
<td>
<p><a href="base.html#topic+character">character</a> scalar or <a href="base.html#topic+vector">vector</a>, see <strong>Slots</strong></p>
</td></tr>
<tr><td><code id="ph2simon4_+3A_...">...</code></td>
<td>
<p>additional parameters, currently not in use</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>r1,r</code></dt><dd><p>non-negative <a href="base.html#topic+integer">integer</a> scalars or <a href="base.html#topic+vector">vector</a>s,
number of responses
in Stage-1 <code class="reqn">r_1</code> and overall <code class="reqn">r</code> required <em>exclusively</em>, in other words
</p>

<ul>
<li> <p>pass Stage-1 if observed <code class="reqn">&gt;r_1</code> response;
</p>
</li>
<li> <p>reject <code class="reqn">H_0</code> if observed <code class="reqn">&gt;r</code> responses.
</p>
</li></ul>
</dd>
<dt><code>n1,n</code></dt><dd><p>positive <a href="base.html#topic+integer">integer</a> scalars or <a href="base.html#topic+vector">vector</a>s,
Stage-1 sample size <code class="reqn">n_1</code>
and total sample size <code class="reqn">n</code>.</p>
</dd>
<dt><code>pu,pa</code></dt><dd><p><a href="base.html#topic+double">double</a> scalars</p>
</dd>
<dt><code>alpha,beta</code></dt><dd><p><a href="base.html#topic+double">double</a> scalars</p>
</dd>
<dt><code>nmax</code></dt><dd><p><a href="base.html#topic+integer">integer</a></p>
</dd>
<dt><code>type</code></dt><dd><p><a href="base.html#topic+character">character</a> scalars or <a href="base.html#topic+vector">vector</a>s,
type of Simon's two-stage design, one or more values among
</p>

<dl>
<dt><code>'minimax'</code></dt><dd><p>(default) minimum total sample size</p>
</dd>
<dt><code>'optimal'</code></dt><dd><p>minimum expected total sample size <em>under <code class="reqn">p_0</code></em></p>
</dd>
<dt><code>'n1'</code></dt><dd><p>minimum Stage-1 sample size</p>
</dd>
<dt><code>'maximax'</code></dt><dd><p>to use up the user-provided maximum total sample size,
i.e., parameter <code>nmax</code> of function <a href="clinfun.html#topic+ph2simon">ph2simon</a></p>
</dd>
</dl>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>(x = clinfun::ph2simon(pu = .2, pa = .4, ep1 = .05, ep2 = .1)) 
ph2simon4(x, type = 'opt')
ph2simon4(x) # default type = 'minimax'
</code></pre>

<hr>
<h2 id='print_ph2simon'>Alternate Print Method for a Simon's Two-Stage Design</h2><span id='topic+print_ph2simon'></span>

<h3>Description</h3>

<p>An alternate <a href="base.html#topic+print">print</a> method for <a href="clinfun.html#topic+ph2simon">ph2simon</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_ph2simon(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print_ph2simon_+3A_x">x</code></td>
<td>
<p>a <a href="clinfun.html#topic+ph2simon">ph2simon</a> object</p>
</td></tr>
<tr><td><code id="print_ph2simon_+3A_...">...</code></td>
<td>
<p>additional parameters, currently not in use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <code><a href="#topic+print_ph2simon">print_ph2simon()</a></code> does not have a returned value.
</p>


<h3>Note</h3>

<p>We do not overwrite function <code>clinfun:::print.ph2simon</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x = clinfun::ph2simon(pu = .2, pa = .4, ep1 = .05, ep2 = .1)) 
print_ph2simon(x)
</code></pre>

<hr>
<h2 id='r_simon'>Random Generator based on Simon's Two-Stage Design</h2><span id='topic+r_simon'></span><span id='topic+r_simon.ph2simon'></span><span id='topic+r_simon.ph2simon4'></span>

<h3>Description</h3>

<p>Random generator based on Simon's two-stage design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_simon(R, prob, object, ...)

## S3 method for class 'ph2simon'
r_simon(R, prob, object, ...)

## S3 method for class 'ph2simon4'
r_simon(
  R,
  prob,
  object,
  ...,
  r1 = object@r1,
  n1 = object@n1,
  r = object@r,
  n = object@n
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="r_simon_+3A_r">R</code></td>
<td>
<p>positive <a href="base.html#topic+integer">integer</a> scalar, number of trials <code class="reqn">R</code></p>
</td></tr>
<tr><td><code id="r_simon_+3A_prob">prob</code></td>
<td>
<p><a href="base.html#topic+double">double</a> scalar, true response rate <code class="reqn">p</code></p>
</td></tr>
<tr><td><code id="r_simon_+3A_object">object</code></td>
<td>
<p>a <a href="clinfun.html#topic+ph2simon">ph2simon</a> or <a href="#topic+ph2simon4-class">ph2simon4</a> object</p>
</td></tr>
<tr><td><code id="r_simon_+3A_...">...</code></td>
<td>
<p>parameters of function <code><a href="#topic+ph2simon4">ph2simon4()</a></code>, most importantly <code>type</code></p>
</td></tr>
<tr><td><code id="r_simon_+3A_r1">r1</code>, <code id="r_simon_+3A_n1">n1</code>, <code id="r_simon_+3A_r">r</code>, <code id="r_simon_+3A_n">n</code></td>
<td>
<p>(optional) <a href="base.html#topic+integer">integer</a> scalars, see <a href="#topic+ph2simon4-class">ph2simon4</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code><a href="#topic+r_simon">r_simon()</a></code> generates <code class="reqn">R</code> copies of the number of responses <code class="reqn">y</code> in <strong>one</strong> Simon's two-stage design.
The conclusion of the trials are,
</p>

<dl>
<dt><code class="reqn">y \leq r_1</code></dt><dd><p>indicates early termination</p>
</dd>
<dt><code class="reqn">r_1 &lt; y \leq r</code></dt><dd><p>indicates failure to reject <code class="reqn">H_0</code></p>
</dd>
<dt><code class="reqn">y &gt; r</code></dt><dd><p>indicates success to reject <code class="reqn">H_0</code></p>
</dd>
</dl>

<p>Here <code class="reqn">r</code> is not needed to <em>generate</em> the random number of responses <code class="reqn">y</code>.
Instead, <code class="reqn">r</code> is needed to <em>determine</em> if the trial is a failure or a success.
Therefore, <code class="reqn">r</code> is not a parameter of function <code><a href="#topic+r_simon">r_simon()</a></code>.
</p>


<h3>Value</h3>

<p>Function <code><a href="#topic+r_simon">r_simon()</a></code> returns an <a href="base.html#topic+integer">integer</a> <a href="base.html#topic+vector">vector</a> of length <code class="reqn">R</code>,
which are the <code class="reqn">R</code> copies of the number of responses in the Simon's two-stage design.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x = clinfun::ph2simon(pu = .2, pa = .4, ep1 = .05, ep2 = .1)) 
set.seed(1532); r = r_simon(R = 1e2L, prob = .2, object = x)
set.seed(1532); r1 = r_simon.ph2simon4(R = 1e2L, prob = .2, r1 = 5L, n1 = 24L, r = 13L, n = 45L)
stopifnot(identical(r, r1))
table(attr(r, 'dx')) # look at beta, &lt;10%
set.seed(24315); r2 = r_simon(R = 1e2L, prob = .4, object = x)
table(attr(r2, 'dx')) # look at alpha, &lt;5%
</code></pre>

<hr>
<h2 id='show_simon'>Show S4 Objects</h2><span id='topic+show_simon'></span><span id='topic+show+2Csimon_oc-method'></span><span id='topic+show+2Csimon_pr-method'></span><span id='topic+show+2Cph2simon4-method'></span>

<h3>Description</h3>

<p>Show S4 object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'simon_oc'
show(object)

## S4 method for signature 'simon_pr'
show(object)

## S4 method for signature 'ph2simon4'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_simon_+3A_object">object</code></td>
<td>
<p>S4 objects, e.g., <a href="#topic+simon_oc-class">simon_oc</a>, <a href="#topic+simon_pr-class">simon_pr</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <a href="methods.html#topic+show">show</a> method for S4 objects
does not have a returned value.
</p>

<hr>
<h2 id='simon_oc'>Operating Characteristics of Simon's Two-Stage Design</h2><span id='topic+simon_oc'></span><span id='topic+simon_oc-class'></span><span id='topic+simon_oc.ph2simon'></span><span id='topic+simon_oc.ph2simon4'></span>

<h3>Description</h3>

<p>Operating characteristics of <strong>one</strong> Simon's two-stage design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simon_oc(prob, R, object, ...)

## S3 method for class 'ph2simon'
simon_oc(prob, R = 10000L, object, ...)

## S3 method for class 'ph2simon4'
simon_oc(
  prob,
  R = 10000L,
  object,
  ...,
  r1 = object@r1,
  n1 = object@n1,
  r = object@r,
  n = object@n
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simon_oc_+3A_prob">prob</code></td>
<td>
<p><em>named</em> <a href="base.html#topic+double">double</a> <a href="base.html#topic+vector">vector</a>,
true response rate(s) <code class="reqn">p</code> of (multiple) drug(s).
The <code>names(prob)</code> should be the name(s) of the drug(s).</p>
</td></tr>
<tr><td><code id="simon_oc_+3A_r">R</code></td>
<td>
<p><a href="base.html#topic+integer">integer</a> scalar, number of simulations.  Default <code>1e4L</code>.</p>
</td></tr>
<tr><td><code id="simon_oc_+3A_object">object</code></td>
<td>
<p><a href="clinfun.html#topic+ph2simon">ph2simon</a> or <a href="#topic+ph2simon4-class">ph2simon4</a> object</p>
</td></tr>
<tr><td><code id="simon_oc_+3A_...">...</code></td>
<td>
<p>parameters of function <code><a href="#topic+ph2simon4">ph2simon4()</a></code>, most importantly <code>type</code></p>
</td></tr>
<tr><td><code id="simon_oc_+3A_r1">r1</code>, <code id="simon_oc_+3A_n1">n1</code>, <code id="simon_oc_+3A_r">r</code>, <code id="simon_oc_+3A_n">n</code></td>
<td>
<p>(optional) <a href="base.html#topic+integer">integer</a> scalars, see <a href="#topic+ph2simon4-class">ph2simon4</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <code><a href="#topic+simon_oc">simon_oc()</a></code> returns <a href="#topic+simon_oc-class">simon_oc</a> object.
</p>


<h3>Slots</h3>


<dl>
<dt><code>maxResp</code></dt><dd><p><a href="base.html#topic+integer">integer</a> <a href="base.html#topic+vector">vector</a> of same length as <code class="reqn">p</code>,
the frequencies of each regime having maximum response.
The summation of <code>maxResp</code> is the number of simulation copies.</p>
</dd>
<dt><code>simon_maxResp</code></dt><dd><p><a href="base.html#topic+integer">integer</a> <a href="base.html#topic+vector">vector</a> of same length as <code class="reqn">p</code>,
the frequencies of each regime having maximum response and success in Simon's two-stage trial.</p>
</dd>
</dl>

<hr>
<h2 id='simon_pr'>Probabilities of one Simon's Two-Stage Design</h2><span id='topic+simon_pr'></span><span id='topic+simon_pr-class'></span><span id='topic+simon_pr.ph2simon'></span><span id='topic+simon_pr.ph2simon4'></span>

<h3>Description</h3>

<p>Probabilities of frail
(i.e., early termination) and success (to reject <code class="reqn">H_0</code>)
of <strong>one</strong> Simon's two-stage design, at given true response rate(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simon_pr(prob, object, ...)

## S3 method for class 'ph2simon'
simon_pr(prob, object, ...)

## S3 method for class 'ph2simon4'
simon_pr(
  prob,
  object,
  r1 = object@r1,
  n1 = object@n1,
  r = object@r,
  n = object@n,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simon_pr_+3A_prob">prob</code></td>
<td>
<p><a href="base.html#topic+double">double</a> scalar or <a href="base.html#topic+vector">vector</a>,
true response rate(s) <code class="reqn">p</code></p>
</td></tr>
<tr><td><code id="simon_pr_+3A_object">object</code></td>
<td>
<p>a <a href="clinfun.html#topic+ph2simon">ph2simon</a> or <a href="#topic+ph2simon4-class">ph2simon4</a> object</p>
</td></tr>
<tr><td><code id="simon_pr_+3A_...">...</code></td>
<td>
<p>parameters of function <code><a href="#topic+ph2simon4">ph2simon4()</a></code>, most importantly <code>type</code></p>
</td></tr>
<tr><td><code id="simon_pr_+3A_r1">r1</code>, <code id="simon_pr_+3A_n1">n1</code>, <code id="simon_pr_+3A_r">r</code>, <code id="simon_pr_+3A_n">n</code></td>
<td>
<p>(optional) <a href="base.html#topic+integer">integer</a> scalars, see <a href="#topic+ph2simon4-class">ph2simon4</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given one Simon's two-stage design <code class="reqn">(r_1,n_1,r,n)</code>
and a true response rate <code class="reqn">p</code>,
we have the number of Stage-1 positive responses <code class="reqn">X_1 \sim \textrm{Binom}(n_1, p)</code>
and the number of Stage-2 positive responses <code class="reqn">X_2 \sim \textrm{Binom}(n-n_1, p)</code>.
Obviously <code class="reqn">X_1</code> and <code class="reqn">X_2</code> are independent.
</p>
<p>The probability of early termination is
</p>
<p style="text-align: center;"><code class="reqn">p_{\textrm{frail}} = \textrm{Pr}(X_1 \leq r_1)</code>
</p>

<p>The probability of failure to reject <code class="reqn">H_0</code> is
</p>
<p style="text-align: center;"><code class="reqn">\sum_{s_1 = r_1+1}^{n_1} \textrm{Pr}(X_1=s_1)\cdot\textrm{Pr}(X_2 \leq (r-s_1))</code>
</p>

<p>The probability of successfully rejecting <code class="reqn">H_0</code> is
</p>
<p style="text-align: center;"><code class="reqn">\sum_{s_1 = r_1+1}^{n_1} \textrm{Pr}(X_1=s_1)\cdot\textrm{Pr}(X_2 &gt; (r-s_1))</code>
</p>

<p>The expected sample size is
</p>
<p style="text-align: center;"><code class="reqn">\textrm{E}(n) = p_{\textrm{frail}} \cdot n_1 + (1 - p_{\textrm{frail}}) \cdot n</code>
</p>

<p>Parameters nomenclature of <code>r1</code>, <code>n1</code>, <code>r</code> and <code>n</code> follows that of
PASS and function <a href="clinfun.html#topic+ph2simon">ph2simon</a>.
</p>


<h3>Value</h3>

<p>Function <code><a href="#topic+simon_pr">simon_pr()</a></code> returns <a href="#topic+simon_pr-class">simon_pr</a> object.
</p>


<h3>Slots</h3>


<dl>
<dt><code>frail</code></dt><dd><p><a href="base.html#topic+numeric">numeric</a> scalar or <a href="base.html#topic+vector">vector</a>,
probabilities of frail (i.e., early termination)
at given true response rate(s) <code class="reqn">p</code>.</p>
</dd>
<dt><code>reject</code></dt><dd><p><a href="base.html#topic+numeric">numeric</a> scalar or <a href="base.html#topic+vector">vector</a>,
probabilities of success (to reject <code class="reqn">H_0</code>)
at given true response rate(s) <code class="reqn">p</code>.</p>
</dd>
<dt><code>eN</code></dt><dd><p><a href="base.html#topic+numeric">numeric</a> scalar or <a href="base.html#topic+vector">vector</a>,
expected sample size(s) <code class="reqn">\textrm{E}(n)</code>
at given true response rate(s) <code class="reqn">p</code>.</p>
</dd>
<dt><code>prob</code></dt><dd><p><a href="base.html#topic+double">double</a> scalar or <a href="base.html#topic+vector">vector</a>, true response rate(s) <code class="reqn">p</code></p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>(x = clinfun::ph2simon(pu = .2, pa = .4, ep1 = .05, ep2 = .1)) 
simon_pr(prob = c(.2, .3, .4), object = x)
simon_pr.ph2simon4(prob = c(.2, .3, .4), r1 = 5L, n1 = 24L, r = 13L, n = 45L) # internal use
</code></pre>

<hr>
<h2 id='Sprintf_ph2simon'>Short Paragraph to Describe a <a href="clinfun.html#topic+ph2simon">ph2simon</a> Object</h2><span id='topic+Sprintf_ph2simon'></span><span id='topic+Sprintf.ph2simon4'></span><span id='topic+Sprintf.ph2simon'></span>

<h3>Description</h3>

<p>To create a short paragraph to describe a <a href="clinfun.html#topic+ph2simon">ph2simon</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sprintf.ph2simon4(model, ...)

Sprintf.ph2simon(model, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Sprintf_ph2simon_+3A_model">model</code></td>
<td>
<p>a <a href="clinfun.html#topic+ph2simon">ph2simon</a> or <a href="#topic+ph2simon4-class">ph2simon4</a> object</p>
</td></tr>
<tr><td><code id="Sprintf_ph2simon_+3A_...">...</code></td>
<td>
<p>parameters of function <code><a href="#topic+ph2simon4">ph2simon4()</a></code>, most importantly <code>type</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <code><a href="#topic+Sprintf.ph2simon">Sprintf.ph2simon()</a></code> and <code><a href="#topic+Sprintf.ph2simon4">Sprintf.ph2simon4()</a></code> return a <a href="base.html#topic+character">character</a> scalar.
</p>

<hr>
<h2 id='Sprintf.simon_oc'>Short Paragraph to Describe a <a href="#topic+simon_oc-class">simon_oc</a> Object</h2><span id='topic+Sprintf.simon_oc'></span>

<h3>Description</h3>

<p>To create a short paragraph to describe a <a href="#topic+simon_oc-class">simon_oc</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sprintf.simon_oc(model, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Sprintf.simon_oc_+3A_model">model</code></td>
<td>
<p><a href="#topic+simon_oc-class">simon_oc</a> object</p>
</td></tr>
<tr><td><code id="Sprintf.simon_oc_+3A_...">...</code></td>
<td>
<p>additional parameters, currently not in use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <code><a href="#topic+Sprintf.simon_oc">Sprintf.simon_oc()</a></code> returns a <a href="base.html#topic+character">character</a> scalar.
</p>

<hr>
<h2 id='summary_ph2simon'>Summarize a Simon's Two-Stage Design</h2><span id='topic+summary_ph2simon'></span><span id='topic+summary.ph2simon4'></span><span id='topic+summary.ph2simon'></span>

<h3>Description</h3>

<p>Summarize a Simon's two-stage design
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ph2simon4'
summary(object, ...)

## S3 method for class 'ph2simon'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary_ph2simon_+3A_object">object</code></td>
<td>
<p>a <a href="clinfun.html#topic+ph2simon">ph2simon</a> or <a href="#topic+ph2simon4-class">ph2simon4</a> object</p>
</td></tr>
<tr><td><code id="summary_ph2simon_+3A_...">...</code></td>
<td>
<p>parameters of function <code><a href="#topic+ph2simon4">ph2simon4()</a></code>, most importantly <code>type</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function <code><a href="#topic+summary.ph2simon">summary.ph2simon()</a></code> returns a <a href="base.html#topic+list">list</a> with three (3) elements
</p>

<dl>
<dt><code>'design'</code></dt><dd><p><a href="base.html#topic+integer">integer</a> <a href="base.html#topic+matrix">matrix</a></p>
</dd>
<dt><code>'EN'</code></dt><dd><p><a href="base.html#topic+double">double</a> <a href="base.html#topic+matrix">matrix</a></p>
</dd>
<dt><code>'p'</code></dt><dd><p><a href="base.html#topic+double">double</a> <a href="base.html#topic+matrix">matrix</a></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>(x = clinfun::ph2simon(pu = .2, pa = .4, ep1 = .05, ep2 = .1)) 
summary(x)
summary(x, type = c('minimax', 'optimal', 'n1', 'maximax'))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

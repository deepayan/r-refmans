<!DOCTYPE html><html><head><title>Help for package frictionless</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {frictionless}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_resource'><p>Add a Data Resource</p></a></li>
<li><a href='#create_package'><p>Create an empty Data Package</p></a></li>
<li><a href='#create_schema'><p>Create a Table Schema for a data frame</p></a></li>
<li><a href='#example_package'><p>Example Data Package</p></a></li>
<li><a href='#frictionless-package'><p>frictionless: Read and Write Frictionless Data Packages</p></a></li>
<li><a href='#get_schema'><p>Get the Table Schema of a Data Resource</p></a></li>
<li><a href='#read_package'><p>Read a Data Package descriptor file (<code>datapackage.json</code>)</p></a></li>
<li><a href='#read_resource'><p>Read data from a Data Resource into a tibble data frame</p></a></li>
<li><a href='#remove_resource'><p>Remove a Data Resource</p></a></li>
<li><a href='#resources'><p>List Data Resources</p></a></li>
<li><a href='#write_package'><p>Write a Data Package to disk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Read and Write Frictionless Data Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Read and write Frictionless Data Packages. A 'Data Package'
    (<a href="https://specs.frictionlessdata.io/data-package/">https://specs.frictionlessdata.io/data-package/</a>) is a simple container
    format and standard to describe and package a collection of (tabular) data. 
    It is typically used to publish FAIR 
    (<a href="https://www.go-fair.org/fair-principles/">https://www.go-fair.org/fair-principles/</a>) and open datasets.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/frictionlessdata/frictionless-r">https://github.com/frictionlessdata/frictionless-r</a>,
<a href="https://docs.ropensci.org/frictionless/">https://docs.ropensci.org/frictionless/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/frictionlessdata/frictionless-r/issues">https://github.com/frictionlessdata/frictionless-r/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, dplyr, glue, httr, jsonlite, purrr, readr (&ge;
2.1.0), utils, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>hms, knitr, lubridate, rmarkdown, stringi, testthat (&ge;
3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-07 09:12:31 UTC; peter_desmet</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter Desmet <a href="https://orcid.org/0000-0002-8442-8025"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Damiano Oldoni <a href="https://orcid.org/0000-0003-3445-7562"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Research Institute for Nature and Forest (INBO) [cph]
    (https://www.vlaanderen.be/inbo/en-gb/),
  LifeWatch Belgium [fnd] (https://lifewatch.be),
  Beatriz Milz <a href="https://orcid.org/0000-0002-3064-4486"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev],
  Jo√£o Martins <a href="https://orcid.org/0000-0001-7961-4280"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter Desmet &lt;peter.desmet.work@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-07 09:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_resource'>Add a Data Resource</h2><span id='topic+add_resource'></span>

<h3>Description</h3>

<p>Adds a Tabular <a href="https://specs.frictionlessdata.io/data-resource/">Data Resource</a> to a Data
Package.
The resource will be a <a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a>.
The resource name can only contain lowercase alphanumeric characters plus
<code>.</code>, <code>-</code> and <code style="white-space: pre;">&#8288;_&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_resource(package, resource_name, data, schema = NULL, delim = ",")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_resource_+3A_package">package</code></td>
<td>
<p>List describing a Data Package, created with <code><a href="#topic+read_package">read_package()</a></code>
or <code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="add_resource_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
<tr><td><code id="add_resource_+3A_data">data</code></td>
<td>
<p>Data to attach, either a data frame or path(s) to CSV file(s):
</p>

<ul>
<li><p> Data frame: attached to the resource as <code>data</code> and written to a CSV file
when using <code><a href="#topic+write_package">write_package()</a></code>.
</p>
</li>
<li><p> One or more paths to CSV file(s) as a character (vector): added to the
resource as <code>path</code>.
The <strong>last file will be read</strong> with <code><a href="readr.html#topic+read_delim">readr::read_delim()</a></code> to create or
compare with <code>schema</code> and to set <code>format</code>, <code>mediatype</code> and <code>encoding</code>.
The other files are ignored, but are expected to have the same structure
and properties.
</p>
</li></ul>
</td></tr>
<tr><td><code id="add_resource_+3A_schema">schema</code></td>
<td>
<p>Either a list, or path or URL to a JSON file describing a Table
Schema for the <code>data</code>.
If not provided, one will be created using <code><a href="#topic+create_schema">create_schema()</a></code>.</p>
</td></tr>
<tr><td><code id="add_resource_+3A_delim">delim</code></td>
<td>
<p>Single character used to separate the fields in the CSV file(s),
e.g. <code style="white-space: pre;">&#8288;\t&#8288;</code> for tab delimited file.
Will be set as <code>delimiter</code> in the resource <a href="https://specs.frictionlessdata.io/csv-dialect/#specification">CSV dialect</a>, so
read functions know how to read the file(s).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Provided <code>package</code> with one additional resource.
</p>


<h3>See Also</h3>

<p>Other edit functions: 
<code><a href="#topic+get_schema">get_schema</a>()</code>,
<code><a href="#topic+remove_resource">remove_resource</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package

# List resources
resources(package)

# Create a data frame
df &lt;- data.frame(
  multimedia_id = c(
    "aed5fa71-3ed4-4284-a6ba-3550d1a4de8d",
    "da81a501-8236-4cbd-aa95-4bc4b10a05df"
  ),
  x = c(718, 748),
  y = c(860, 900)
)

# Add resource "positions" to the Data Package, from the data frame
package &lt;- add_resource(package, "positions", data = df)

# Add resource "positions_2" to the Data Package, with user-defined schema
my_schema &lt;- create_schema(df)
package &lt;- add_resource(package, "positions_2", data = df, schema = my_schema)

# Add resource "observations_2" to the Data Package, from CSV file paths
path_1 &lt;- system.file("extdata", "observations_1.csv", package = "frictionless")
path_2 &lt;- system.file("extdata", "observations_2.csv", package = "frictionless")
package &lt;- add_resource(package, "observations_2", data = c(path_1, path_2))

# List resources ("positions", "positions_2", "observations_2" added)
resources(package)
</code></pre>

<hr>
<h2 id='create_package'>Create an empty Data Package</h2><span id='topic+create_package'></span>

<h3>Description</h3>

<p>Initiates a list describing a <a href="https://specs.frictionlessdata.io/data-package/">Data Package</a>.
This empty Data Package can be extended with metadata and resources (see
<code><a href="#topic+add_resource">add_resource()</a></code>).
Added resources will make the Data Package meet <a href="https://specs.frictionlessdata.io/tabular-data-package/">Tabular Data Package</a>
requirements, so <code>profile</code> is set to <code>tabular-data-package</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_package()
</code></pre>


<h3>Value</h3>

<p>List describing a Data Package.
</p>


<h3>See Also</h3>

<p>Other create functions: 
<code><a href="#topic+create_schema">create_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a Data Package
package &lt;- create_package()
str(package)
</code></pre>

<hr>
<h2 id='create_schema'>Create a Table Schema for a data frame</h2><span id='topic+create_schema'></span>

<h3>Description</h3>

<p>Creates a <a href="https://specs.frictionlessdata.io/table-schema/">Table Schema</a> for
a data frame, listing all column names and types as field names and
(converted) types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_schema(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_schema_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List describing a Table Schema.
</p>


<h3>Table schema properties</h3>

<p>The Table Schema will be created from the data frame columns:
</p>

<ul>
<li> <p><code>name</code>: contains the column name.
</p>
</li>
<li> <p><code>title</code>: not set.
</p>
</li>
<li> <p><code>description</code>: not set.
</p>
</li>
<li> <p><code>type</code>: contains the converted column type (see further).
</p>
</li>
<li> <p><code>format</code>: not set and can thus be considered <code>default</code>.
This is also the case for dates, times and datetimes, since
<code><a href="readr.html#topic+write_delim">readr::write_csv()</a></code> used by <code><a href="#topic+write_package">write_package()</a></code> will format those to ISO8601
which is considered the default.
Datetimes in local or non-UTC timezones will be converted to UTC before
writing.
</p>
</li>
<li> <p><code>constraints</code>: not set, except for factors (see further).
</p>
</li>
<li> <p><code>missingValues</code>: not set.
<code><a href="#topic+write_package">write_package()</a></code> will use the default <code>""</code> for missing values.
</p>
</li>
<li> <p><code>primaryKey</code>: not set.
</p>
</li>
<li> <p><code>foreignKeys</code>: not set.
</p>
</li></ul>



<h4>Field types</h4>

<p>The column type will determine the field <code>type</code>, as follows:
</p>

<ul>
<li> <p><code>character</code> as
<a href="https://specs.frictionlessdata.io/table-schema/#string">string</a>.
</p>
</li>
<li> <p><code>Date</code> as <a href="https://specs.frictionlessdata.io/table-schema/#date">date</a>.
</p>
</li>
<li> <p><code>difftime</code> as
<a href="https://specs.frictionlessdata.io/table-schema/#number">number</a>.
</p>
</li>
<li> <p><code>factor</code> as
<a href="https://specs.frictionlessdata.io/table-schema/#string">string</a> with
factor levels as <code>enum</code>.
</p>
</li>
<li> <p><code><a href="hms.html#topic+hms">hms::hms()</a></code> as
<a href="https://specs.frictionlessdata.io/table-schema/#time">time</a>.
</p>
</li>
<li> <p><code>integer</code> as
<a href="https://specs.frictionlessdata.io/table-schema/#integer">integer</a>.
</p>
</li>
<li> <p><code>logical</code> as.
<a href="https://specs.frictionlessdata.io/table-schema/#boolean">boolean</a>.
</p>
</li>
<li> <p><code>numeric</code> as
<a href="https://specs.frictionlessdata.io/table-schema/#number">number</a>.
</p>
</li>
<li> <p><code>POSIXct</code>/<code>POSIXlt</code> as
<a href="https://specs.frictionlessdata.io/table-schema/#datetime">datetime</a>.
</p>
</li>
<li><p> Any other type as
<a href="https://specs.frictionlessdata.io/table-schema/#any">any</a>.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other create functions: 
<code><a href="#topic+create_package">create_package</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a data frame
df &lt;- data.frame(
  id = c(as.integer(1), as.integer(2)),
  timestamp = c(
    as.POSIXct("2020-03-01 12:00:00", tz = "EET"),
    as.POSIXct("2020-03-01 18:45:00", tz = "EET")
  ),
  life_stage = factor(c("adult", "adult"), levels = c("adult", "juvenile"))
)

# Create a Table Schema from the data frame
schema &lt;- create_schema(df)
str(schema)
</code></pre>

<hr>
<h2 id='example_package'>Example Data Package</h2><span id='topic+example_package'></span>

<h3>Description</h3>

<p>Example Tabular <a href="https://specs.frictionlessdata.io/data-package/">Data Package</a> with dummy camera
trap data organized in 3 Data Resources:
</p>

<ul>
<li> <p><code>deployments</code>: data stored in <code>deployments.csv</code>.
</p>
</li>
<li> <p><code>observations</code>: data stored in <code>observations_1.csv</code> and
<code>observations_2.csv</code>, but referenced as URLs.
</p>
</li>
<li> <p><code>media</code>: data stored in <code>data</code> property.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>example_package
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 9.
</p>


<h3>Source</h3>

<p><a href="https://github.com/frictionlessdata/frictionless-r/tree/main/inst/extdata">https://github.com/frictionlessdata/frictionless-r/tree/main/inst/extdata</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# example_package.rda was created with the code below.
# Note that it must be created using a URL, otherwise all Data Resource paths
# will point to local paths that won't work for other users.
# One can load locally using:
# read_package(
#   system.file("extdata", "datapackage.json", package = "frictionless")
# )
example_package &lt;- read_package(file.path(
  "https://raw.githubusercontent.com/frictionlessdata/frictionless-r",
  "main/inst/extdata/datapackage.json"
))
save(example_package, file = "data/example_package.rda")

## End(Not run)
</code></pre>

<hr>
<h2 id='frictionless-package'>frictionless: Read and Write Frictionless Data Packages</h2><span id='topic+frictionless'></span><span id='topic+frictionless-package'></span>

<h3>Description</h3>

<p>Read and write Frictionless Data Packages. A 'Data Package' (<a href="https://specs.frictionlessdata.io/data-package/">https://specs.frictionlessdata.io/data-package/</a>) is a simple container format and standard to describe and package a collection of (tabular) data. It is typically used to publish FAIR (<a href="https://www.go-fair.org/fair-principles/">https://www.go-fair.org/fair-principles/</a>) and open datasets.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Peter Desmet <a href="mailto:peter.desmet.work@gmail.com">peter.desmet.work@gmail.com</a> (<a href="https://orcid.org/0000-0002-8442-8025">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Damiano Oldoni <a href="mailto:damiano.oldoni@inbo.be">damiano.oldoni@inbo.be</a> (<a href="https://orcid.org/0000-0003-3445-7562">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Research Institute for Nature and Forest (INBO) (https://www.vlaanderen.be/inbo/en-gb/) [copyright holder]
</p>
</li>
<li><p> LifeWatch Belgium (https://lifewatch.be) [funder]
</p>
</li>
<li><p> Beatriz Milz <a href="mailto:milz.bea@gmail.com">milz.bea@gmail.com</a> (<a href="https://orcid.org/0000-0002-3064-4486">ORCID</a>) [reviewer]
</p>
</li>
<li><p> Jo√£o Martins <a href="mailto:joao.martins@gmx.net">joao.martins@gmx.net</a> (<a href="https://orcid.org/0000-0001-7961-4280">ORCID</a>) [reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/frictionlessdata/frictionless-r">https://github.com/frictionlessdata/frictionless-r</a>
</p>
</li>
<li> <p><a href="https://docs.ropensci.org/frictionless/">https://docs.ropensci.org/frictionless/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/frictionlessdata/frictionless-r/issues">https://github.com/frictionlessdata/frictionless-r/issues</a>
</p>
</li></ul>


<hr>
<h2 id='get_schema'>Get the Table Schema of a Data Resource</h2><span id='topic+get_schema'></span>

<h3>Description</h3>

<p>Returns the <a href="https://specs.frictionlessdata.io/table-schema/">Table Schema</a>
of a Data Resource (in a Data Package), i.e. the content of its <code>schema</code>
property, describing the resource's fields, data types, relationships, and
missing values.
The resource must be a <a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_schema(package, resource_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_schema_+3A_package">package</code></td>
<td>
<p>List describing a Data Package, created with <code><a href="#topic+read_package">read_package()</a></code>
or <code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="get_schema_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List describing a Table Schema.
</p>


<h3>See Also</h3>

<p>Other edit functions: 
<code><a href="#topic+add_resource">add_resource</a>()</code>,
<code><a href="#topic+remove_resource">remove_resource</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package

# Get the Table Schema for the resource "observations"
schema &lt;- get_schema(package, "observations")
str(schema)
</code></pre>

<hr>
<h2 id='read_package'>Read a Data Package descriptor file (<code>datapackage.json</code>)</h2><span id='topic+read_package'></span>

<h3>Description</h3>

<p>Reads information from a <code>datapackage.json</code> file, i.e. the
<a href="https://specs.frictionlessdata.io/data-package/#descriptor">descriptor</a> file
that describes the Data Package metadata and its Data Resources.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_package(file = "datapackage.json")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_package_+3A_file">file</code></td>
<td>
<p>Path or URL to a <code>datapackage.json</code> file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List describing a Data Package.
The function will add a custom property <code>directory</code> with the directory the
descriptor was read from.
It is used as a base path to access resources.
</p>


<h3>See Also</h3>

<p>Other read functions: 
<code><a href="#topic+read_resource">read_resource</a>()</code>,
<code><a href="#topic+resources">resources</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read a datapackage.json file
package &lt;- read_package(
  system.file("extdata", "datapackage.json", package = "frictionless")
)

# Access the Data Package properties
package$name
package$created

# List resources
resources(package)
</code></pre>

<hr>
<h2 id='read_resource'>Read data from a Data Resource into a tibble data frame</h2><span id='topic+read_resource'></span>

<h3>Description</h3>

<p>Reads data from a <a href="https://specs.frictionlessdata.io/data-resource/">Data Resource</a> (in a Data
Package) into a tibble (a Tidyverse data frame).
The resource must be a <a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a>.
The function uses <code><a href="readr.html#topic+read_delim">readr::read_delim()</a></code> to read CSV files, passing the
resource properties <code>path</code>, CSV dialect, column names, data types, etc.
Column names are taken from the provided Table Schema (<code>schema</code>), not from
the header in the CSV file(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_resource(package, resource_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_resource_+3A_package">package</code></td>
<td>
<p>List describing a Data Package, created with <code><a href="#topic+read_package">read_package()</a></code>
or <code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="read_resource_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="dplyr.html#topic+reexports">dplyr::tibble()</a></code> data frame with the Data Resource's tabular data.
</p>


<h3>Resource properties</h3>

<p>The <a href="https://specs.frictionlessdata.io/data-resource/">Data Resource properties</a> are handled as
follows:
</p>


<h4>Path</h4>

<p><a href="https://specs.frictionlessdata.io/data-resource/#data-location"><code>path</code></a> is
required.
It can be a local path or URL, which must resolve.
Absolute path (<code>/</code>) and relative parent path (<code style="white-space: pre;">&#8288;../&#8288;</code>) are forbidden to avoid
security vulnerabilities.
</p>
<p>When multiple paths are provided (<code style="white-space: pre;">&#8288;"path": [ "myfile1.csv", "myfile2.csv"]&#8288;</code>)
then data are merged into a single data frame, in the order in which the
paths are listed.
</p>



<h4>Data</h4>

<p>If <code>path</code> is not present, the function will attempt to read data from the
<code>data</code> property.
<strong><code>schema</code> will be ignored</strong>.
</p>



<h4>Name</h4>

<p><code>name</code> is <a href="https://specs.frictionlessdata.io/data-resource/#name">required</a>.
It is used to find the resource with <code>name</code> = <code>resource_name</code>.
</p>



<h4>Profile</h4>

<p><code>profile</code> is
<a href="https://specs.frictionlessdata.io/tabular-data-resource/#specification">required</a>
to have the value <code>tabular-data-resource</code>.
</p>



<h4>File encoding</h4>

<p><code>encoding</code> (e.g. <code>windows-1252</code>) is
<a href="https://specs.frictionlessdata.io/data-resource/#optional-properties">required</a>
if the resource file(s) is not encoded as UTF-8.
The returned data frame will always be UTF-8.
</p>



<h4>CSV Dialect</h4>

<p><code>dialect</code> properties are
<a href="https://specs.frictionlessdata.io/csv-dialect/#specification">required</a> if
the resource file(s) deviate from the default CSV settings (see below).
It can either be a JSON object or a path or URL referencing a JSON object.
Only deviating properties need to be specified, e.g. a tab delimited file
without a header row needs:
</p>
<div class="sourceCode json"><pre>"dialect": {"delimiter": "\t", "header": "false"}
</pre></div>
<p>These are the CSV dialect properties.
Some are ignored by the function:
</p>

<ul>
<li> <p><code>delimiter</code>: default <code style="white-space: pre;">&#8288;,&#8288;</code>.
</p>
</li>
<li> <p><code>lineTerminator</code>: ignored, line terminator characters <code>LF</code> and <code>CRLF</code> are
interpreted automatically by <code><a href="readr.html#topic+read_delim">readr::read_delim()</a></code>, while <code>CR</code> (used by
Classic Mac OS, final release 2001) is not supported.
</p>
</li>
<li> <p><code>doubleQuote</code>: default <code>true</code>.
</p>
</li>
<li> <p><code>quoteChar</code>: default <code style="white-space: pre;">&#8288;"&#8288;</code>.
</p>
</li>
<li> <p><code>escapeChar</code>: anything but <code style="white-space: pre;">&#8288;\&#8288;</code> is ignored and it will set <code>doubleQuote</code> to
<code>false</code> as these fields are mutually exclusive.
You can thus not escape with <code style="white-space: pre;">&#8288;\"&#8288;</code> and <code>""</code> in the same file.
</p>
</li>
<li> <p><code>nullSequence</code>: ignored, use <code>missingValues</code>.
</p>
</li>
<li> <p><code>skipInitialSpace</code>: default <code>false</code>.
</p>
</li>
<li> <p><code>header</code>: default <code>true</code>.
</p>
</li>
<li> <p><code>commentChar</code>: not set by default.
</p>
</li>
<li> <p><code>caseSensitiveHeader</code>: ignored, header is not used for column names, see
Schema.
</p>
</li>
<li> <p><code>csvddfVersion</code>: ignored.
</p>
</li></ul>




<h4>File compression</h4>

<p>Resource file(s) with <code>path</code> ending in <code>.gz</code>, <code>.bz2</code>, <code>.xz</code>, or <code>.zip</code> are
automatically decompressed using default <code><a href="readr.html#topic+read_delim">readr::read_delim()</a></code>
functionality.
Only <code>.gz</code> files can be read directly from URL <code>path</code>s.
Only the extension in <code>path</code> can be used to indicate compression type,
the <code>compression</code> property is
<a href="https://specs.frictionlessdata.io/patterns/#specification-3">ignored</a>.
</p>



<h4>Ignored resource properties</h4>


<ul>
<li> <p><code>title</code>
</p>
</li>
<li> <p><code>description</code>
</p>
</li>
<li> <p><code>format</code>
</p>
</li>
<li> <p><code>mediatype</code>
</p>
</li>
<li> <p><code>bytes</code>
</p>
</li>
<li> <p><code>hash</code>
</p>
</li>
<li> <p><code>sources</code>
</p>
</li>
<li> <p><code>licenses</code>
</p>
</li></ul>




<h3>Table schema properties</h3>

<p><code>schema</code> is required and must follow the <a href="https://specs.frictionlessdata.io/table-schema/">Table Schema</a> specification.
It can either be a JSON object or a path or URL referencing a JSON object.
</p>

<ul>
<li><p> Field <code>name</code>s are used as column headers.
</p>
</li>
<li><p> Field <code>type</code>s are use as column types (see further).
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#missing-values"><code>missingValues</code></a>
are used to interpret as <code>NA</code>, with <code>""</code> as default.
</p>
</li></ul>



<h4>Field types</h4>

<p>Field <code>type</code> is used to set the column type, as follows:
</p>

<ul>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#string">string</a> as
<code>character</code>; or <code>factor</code> when <code>enum</code> is present.
<code>format</code> is ignored.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#number">number</a> as
<code>double</code>; or <code>factor</code> when <code>enum</code> is present.
Use <code>bareNumber: false</code> to ignore whitespace and non-numeric characters.
<code>decimalChar</code> (<code>.</code> by default) and <code>groupChar</code> (undefined by default) can
be defined, but the most occurring value will be used as a global value for
all number fields of that resource.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#integer">integer</a> as
<code>double</code> (not integer, to avoid issues with big numbers); or <code>factor</code> when
<code>enum</code> is present.
Use <code>bareNumber: false</code> to ignore whitespace and non-numeric characters.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#boolean">boolean</a> as
<code>logical</code>.
Non-default <code>trueValues/falseValues</code> are not supported.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#object">object</a> as
<code>character</code>.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#array">array</a> as
<code>character</code>.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#date">date</a> as <code>date</code>.
Supports <code>format</code>, with values <code>default</code> (ISO date), <code>any</code> (guess <code>ymd</code>)
and <a href="https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior">Python/C strptime</a>
patterns, such as <code style="white-space: pre;">&#8288;%a, %d %B %Y&#8288;</code> for <code style="white-space: pre;">&#8288;Sat, 23 November 2013&#8288;</code>.
<code style="white-space: pre;">&#8288;%x&#8288;</code> is <code style="white-space: pre;">&#8288;%m/%d/%y&#8288;</code>.
<code style="white-space: pre;">&#8288;%j&#8288;</code>, <code style="white-space: pre;">&#8288;%U&#8288;</code>, <code style="white-space: pre;">&#8288;%w&#8288;</code> and <code style="white-space: pre;">&#8288;%W&#8288;</code> are not supported.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#time">time</a> as
<code><a href="hms.html#topic+hms">hms::hms()</a></code>.
Supports <code>format</code>, with values <code>default</code> (ISO time), <code>any</code> (guess <code>hms</code>)
and <a href="https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior">Python/C strptime</a>
patterns, such as <code style="white-space: pre;">&#8288;%I%p%M:%S.%f%z&#8288;</code> for <code style="white-space: pre;">&#8288;8AM30:00.300+0200&#8288;</code>.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#datetime">datetime</a> as
<code>POSIXct</code>.
Supports <code>format</code>, with values <code>default</code> (ISO datetime), <code>any</code>
(ISO datetime) and the same patterns as for <code>date</code> and <code>time</code>.
<code style="white-space: pre;">&#8288;%c&#8288;</code> is not supported.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#year">year</a> as <code>date</code>,
with <code>01</code> for month and day.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#yearmonth">yearmonth</a> as
<code>date</code>, with <code>01</code> for day.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#duration">duration</a> as
<code>character</code>.
Can be parsed afterwards with <code><a href="lubridate.html#topic+duration">lubridate::duration()</a></code>.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#geopoint">geopoint</a> as
<code>character</code>.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#geojson">geojson</a> as
<code>character</code>.
</p>
</li>
<li> <p><a href="https://specs.frictionlessdata.io/table-schema/#any">any</a> as <code>character</code>.
</p>
</li>
<li><p> Any other value is not allowed.
</p>
</li>
<li><p> Type is guessed when not provided.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other read functions: 
<code><a href="#topic+read_package">read_package</a>()</code>,
<code><a href="#topic+resources">resources</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read a datapackage.json file
package &lt;- read_package(
  system.file("extdata", "datapackage.json", package = "frictionless")
)

# List resources
resources(package)

# Read data from the resource "observations"
read_resource(package, "observations")

# The above tibble is merged from 2 files listed in the resource path
package$resources[[2]]$path

# The column names and types are derived from the resource schema
purrr::map_chr(package$resources[[2]]$schema$fields, "name")
purrr::map_chr(package$resources[[2]]$schema$fields, "type")
</code></pre>

<hr>
<h2 id='remove_resource'>Remove a Data Resource</h2><span id='topic+remove_resource'></span>

<h3>Description</h3>

<p>Removes a <a href="https://specs.frictionlessdata.io/data-resource/">Data Resource</a>
from a Data Package, i.e. it removes one of the described <code>resources</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_resource(package, resource_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_resource_+3A_package">package</code></td>
<td>
<p>List describing a Data Package, created with <code><a href="#topic+read_package">read_package()</a></code>
or <code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="remove_resource_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Provided <code>package</code> with one fewer resource.
</p>


<h3>See Also</h3>

<p>Other edit functions: 
<code><a href="#topic+add_resource">add_resource</a>()</code>,
<code><a href="#topic+get_schema">get_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package

# List resources
resources(package)

# Remove the resource "observations"
package &lt;- remove_resource(package, "observations")

# List resources ("observations" removed)
resources(package)
</code></pre>

<hr>
<h2 id='resources'>List Data Resources</h2><span id='topic+resources'></span>

<h3>Description</h3>

<p>Lists the names of the Data Resources included in a Data Package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resources(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resources_+3A_package">package</code></td>
<td>
<p>List describing a Data Package.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with the Data Resource names.
</p>


<h3>See Also</h3>

<p>Other read functions: 
<code><a href="#topic+read_package">read_package</a>()</code>,
<code><a href="#topic+read_resource">read_resource</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package

# List resources
resources(package)
</code></pre>

<hr>
<h2 id='write_package'>Write a Data Package to disk</h2><span id='topic+write_package'></span>

<h3>Description</h3>

<p>Writes a Data Package and its related Data Resources to disk as a
<code>datapackage.json</code> and CSV files.
Already existing CSV files of the same name will not be overwritten.
The function can also be used to download a Data Package in its entirety.
The Data Resources are handled as follows:
</p>

<ul>
<li><p> Resource <code>path</code> has at least one local path (e.g. <code>deployments.csv</code>):
CSV files are copied or downloaded to <code>directory</code> and <code>path</code> points to new
location of file(s).
</p>
</li>
<li><p> Resource <code>path</code> has only URL(s): resource stays as is.
</p>
</li>
<li><p> Resource has inline <code>data</code> originally: resource stays as is.
</p>
</li>
<li><p> Resource has inline <code>data</code> as result of adding data with <code>add_resource()</code>:
data are written to a CSV file using <code><a href="readr.html#topic+write_delim">readr::write_csv()</a></code>, <code>path</code> points to
location of file, <code>data</code> property is removed.
Use <code>compress = TRUE</code> to gzip those CSV files.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>write_package(package, directory = ".", compress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_package_+3A_package">package</code></td>
<td>
<p>List describing a Data Package, created with <code><a href="#topic+read_package">read_package()</a></code>
or <code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="write_package_+3A_directory">directory</code></td>
<td>
<p>Path to local directory to write files to.</p>
</td></tr>
<tr><td><code id="write_package_+3A_compress">compress</code></td>
<td>
<p>If <code>TRUE</code>, data of added resources will be gzip compressed
before being written to disk (e.g. <code>deployments.csv.gz</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>package</code> as written to file (invisibly).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package from disk
package &lt;- read_package(
  system.file("extdata", "datapackage.json", package = "frictionless")
)

# List resources
resources(package)

# Write the (unchanged) Data Package to disk
write_package(package, directory = "my_directory")

# Check files
list.files("my_directory")

# No files written for the "observations" resource, since those are all URLs.
# No files written for the "media" resource, since it has inline data.

# Clean up (don't do this if you want to keep your files)
unlink("my_directory", recursive = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

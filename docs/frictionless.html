<!DOCTYPE html><html lang="en"><head><title>Help for package frictionless</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {frictionless}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#frictionless-package'><p>frictionless: Read and Write Frictionless Data Packages</p></a></li>
<li><a href='#add_resource'><p>Add a Data Resource</p></a></li>
<li><a href='#check_package'><p>Check a Data Package object</p></a></li>
<li><a href='#create_package'><p>Create a Data Package</p></a></li>
<li><a href='#create_schema'><p>Create a Table Schema for a data frame</p></a></li>
<li><a href='#example_package'><p>Read the example Data Package</p></a></li>
<li><a href='#get_schema'><p>Get the Table Schema of a Data Resource</p></a></li>
<li><a href='#print.datapackage'><p>Print a Data Package</p></a></li>
<li><a href='#problems'><p>Retrieve parsing problems</p></a></li>
<li><a href='#read_package'><p>Read a Data Package descriptor file (<code>datapackage.json</code>)</p></a></li>
<li><a href='#read_resource'><p>Read data from a Data Resource into a tibble data frame</p></a></li>
<li><a href='#remove_resource'><p>Remove a Data Resource</p></a></li>
<li><a href='#resources'><p>List Data Resources</p></a></li>
<li><a href='#write_package'><p>Write a Data Package to disk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Read and Write Frictionless Data Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-08-27</td>
</tr>
<tr>
<td>Description:</td>
<td>Read and write Frictionless Data Packages. A 'Data Package'
    (<a href="https://specs.frictionlessdata.io/data-package/">https://specs.frictionlessdata.io/data-package/</a>) is a simple
    container format and standard to describe and package a collection of
    (tabular) data. It is typically used to publish FAIR
    (<a href="https://www.go-fair.org/fair-principles/">https://www.go-fair.org/fair-principles/</a>) and open datasets.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/frictionlessdata/frictionless-r">https://github.com/frictionlessdata/frictionless-r</a>,
<a href="https://docs.ropensci.org/frictionless/">https://docs.ropensci.org/frictionless/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/frictionlessdata/frictionless-r/issues">https://github.com/frictionlessdata/frictionless-r/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, httr, jsonlite, purrr, readr (&ge; 2.1.0), rlang,
utils, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>hms, knitr, lubridate, rmarkdown, stringi, testthat (&ge;
3.0.0), tibble</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-27 09:27:39 UTC; peter_desmet</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter Desmet <a href="https://orcid.org/0000-0002-8442-8025"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre] (affiliation: Research Institute for Nature and Forest
    (INBO)),
  Damiano Oldoni <a href="https://orcid.org/0000-0003-3445-7562"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut] (affiliation: Research Institute for Nature and Forest
    (INBO)),
  Pieter Huybrechts <a href="https://orcid.org/0000-0002-6658-6062"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut] (affiliation: Research Institute for Nature and Forest
    (INBO)),
  Sanne Govaert <a href="https://orcid.org/0000-0002-8939-1305"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut] (affiliation: Research Institute for Nature and Forest
    (INBO)),
  Kyle Husmann <a href="https://orcid.org/0000-0001-9875-8976"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb] (affiliation: Pennsylvania State University),
  Research Institute for Nature and Forest (INBO) [cph]
    (https://www.vlaanderen.be/inbo/en-gb/),
  LifeWatch Belgium [fnd] (https://lifewatch.be),
  Beatriz Milz <a href="https://orcid.org/0000-0002-3064-4486"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev],
  João Martins <a href="https://orcid.org/0000-0001-7961-4280"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter Desmet &lt;peter.desmet@inbo.be&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-28 08:10:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='frictionless-package'>frictionless: Read and Write Frictionless Data Packages</h2><span id='topic+frictionless'></span><span id='topic+frictionless-package'></span>

<h3>Description</h3>

<p>Read and write Frictionless Data Packages. A 'Data Package' (<a href="https://specs.frictionlessdata.io/data-package/">https://specs.frictionlessdata.io/data-package/</a>) is a simple container format and standard to describe and package a collection of (tabular) data. It is typically used to publish FAIR (<a href="https://www.go-fair.org/fair-principles/">https://www.go-fair.org/fair-principles/</a>) and open datasets.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Peter Desmet <a href="mailto:peter.desmet@inbo.be">peter.desmet@inbo.be</a> (<a href="https://orcid.org/0000-0002-8442-8025">ORCID</a>) (Research Institute for Nature and Forest (INBO))
</p>
<p>Authors:
</p>

<ul>
<li><p> Damiano Oldoni <a href="mailto:damiano.oldoni@inbo.be">damiano.oldoni@inbo.be</a> (<a href="https://orcid.org/0000-0003-3445-7562">ORCID</a>) (Research Institute for Nature and Forest (INBO))
</p>
</li>
<li><p> Pieter Huybrechts <a href="mailto:pieter.huybrechts@inbo.be">pieter.huybrechts@inbo.be</a> (<a href="https://orcid.org/0000-0002-6658-6062">ORCID</a>) (Research Institute for Nature and Forest (INBO))
</p>
</li>
<li><p> Sanne Govaert <a href="mailto:sanne.govaert@inbo.be">sanne.govaert@inbo.be</a> (<a href="https://orcid.org/0000-0002-8939-1305">ORCID</a>) (Research Institute for Nature and Forest (INBO))
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Kyle Husmann <a href="mailto:kdh38@psu.edu">kdh38@psu.edu</a> (<a href="https://orcid.org/0000-0001-9875-8976">ORCID</a>) (Pennsylvania State University) [contributor]
</p>
</li>
<li><p> Research Institute for Nature and Forest (INBO) (https://www.vlaanderen.be/inbo/en-gb/) [copyright holder]
</p>
</li>
<li><p> LifeWatch Belgium (https://lifewatch.be) [funder]
</p>
</li>
<li><p> Beatriz Milz <a href="mailto:milz.bea@gmail.com">milz.bea@gmail.com</a> (<a href="https://orcid.org/0000-0002-3064-4486">ORCID</a>) [reviewer]
</p>
</li>
<li><p> João Martins <a href="mailto:joao.martins@gmx.net">joao.martins@gmx.net</a> (<a href="https://orcid.org/0000-0001-7961-4280">ORCID</a>) [reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/frictionlessdata/frictionless-r">https://github.com/frictionlessdata/frictionless-r</a>
</p>
</li>
<li> <p><a href="https://docs.ropensci.org/frictionless/">https://docs.ropensci.org/frictionless/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/frictionlessdata/frictionless-r/issues">https://github.com/frictionlessdata/frictionless-r/issues</a>
</p>
</li></ul>


<hr>
<h2 id='add_resource'>Add a Data Resource</h2><span id='topic+add_resource'></span>

<h3>Description</h3>

<p>Adds a Data Resource to a Data Package.
The resource will be a <a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a>.
The resource name can only contain lowercase alphanumeric characters plus
<code>.</code>, <code>-</code> and <code style="white-space: pre;">&#8288;_&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_resource(
  package,
  resource_name,
  data,
  schema = NULL,
  replace = FALSE,
  delim = ",",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_resource_+3A_package">package</code></td>
<td>
<p>Data Package object, as returned by <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="add_resource_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
<tr><td><code id="add_resource_+3A_data">data</code></td>
<td>
<p>Data to attach, either a data frame or path(s) to CSV file(s):
</p>

<ul>
<li><p> Data frame: attached to the resource as <code>data</code> and written to a CSV file
when using <code><a href="#topic+write_package">write_package()</a></code>.
</p>
</li>
<li><p> One or more paths to CSV file(s) as a character (vector): added to the
resource as <code>path</code>.
The last file will be read with <code><a href="readr.html#topic+read_delim">readr::read_delim()</a></code> to create or
compare with <code>schema</code> and to set <code>format</code>, <code>mediatype</code> and <code>encoding</code>.
The other files are ignored, but are expected to have the same structure
and properties.
</p>
</li></ul>
</td></tr>
<tr><td><code id="add_resource_+3A_schema">schema</code></td>
<td>
<p>Either a list, or path or URL to a JSON file describing a Table
Schema for the <code>data</code>.
If not provided, one will be created using <code><a href="#topic+create_schema">create_schema()</a></code>.</p>
</td></tr>
<tr><td><code id="add_resource_+3A_replace">replace</code></td>
<td>
<p>If <code>TRUE</code>, the added resource will replace an existing
resource with the same name.</p>
</td></tr>
<tr><td><code id="add_resource_+3A_delim">delim</code></td>
<td>
<p>Single character used to separate the fields in the CSV file(s),
e.g. <code style="white-space: pre;">&#8288;\t&#8288;</code> for tab delimited file.
Will be set as <code>delimiter</code> in the resource Table Dialect, so read functions
.  know how to read the file(s).</p>
</td></tr>
<tr><td><code id="add_resource_+3A_...">...</code></td>
<td>
<p>Additional metadata properties to add to the resource, e.g.
<code style="white-space: pre;">&#8288;title = "My title", validated = FALSE&#8288;</code>.
These are not verified against specifications and are ignored by
<code><a href="#topic+read_resource">read_resource()</a></code>.
The following properties are automatically set and can't be provided with
<code>...</code>: <code>name</code>, <code>data</code>, <code>path</code>, <code>schema</code>, <code>profile</code>, <code>format</code>, <code>mediatype</code>,
<code>encoding</code> and <code>dialect</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>vignette("data-resource")</code> (and to a lesser extend
<code>vignette("table-dialect")</code>) to learn how this function implements the
Data Package standard.
</p>


<h3>Value</h3>

<p><code>package</code> with one additional resource.
</p>


<h3>See Also</h3>

<p>Other edit functions: 
<code><a href="#topic+remove_resource">remove_resource</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package()

# List the resources
resources(package)

# Create a data frame
df &lt;- data.frame(
  multimedia_id = c(
    "aed5fa71-3ed4-4284-a6ba-3550d1a4de8d",
    "da81a501-8236-4cbd-aa95-4bc4b10a05df"
  ),
  x = c(718, 748),
  y = c(860, 900)
)

# Add the resource "positions" from the data frame
package &lt;- add_resource(package, "positions", data = df)

# Add the resource "positions_with_schema", with a user-defined schema and title
my_schema &lt;- create_schema(df)
package &lt;- add_resource(
  package,
  resource_name = "positions_with_schema",
  data = df,
  schema = my_schema,
  title = "Positions with schema"
)

# Replace the resource "observations" with a file-based resource (2 TSV files)
path_1 &lt;- system.file("extdata", "observations_1.tsv", package = "frictionless")
path_2 &lt;- system.file("extdata", "observations_2.tsv", package = "frictionless")
package &lt;- add_resource(
  package,
  resource_name = "observations",
  data = c(path_1, path_2),
  replace = TRUE,
  delim = "\t"
)

# List the resources ("positions" and "positions_with_schema" added)
resources(package)
</code></pre>

<hr>
<h2 id='check_package'>Check a Data Package object</h2><span id='topic+check_package'></span>

<h3>Description</h3>

<p>Check if an object is a Data Package object with the required properties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_package(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_package_+3A_package">package</code></td>
<td>
<p>Data Package object, as returned by <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>package</code> invisibly or an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package()

# Check if the Data Package is valid (invisible return)
check_package(package)
</code></pre>

<hr>
<h2 id='create_package'>Create a Data Package</h2><span id='topic+create_package'></span>

<h3>Description</h3>

<p>Initiates a Data Package object, either from scratch or from an existing
list.
This Data Package object is a list with the following characteristics:
</p>

<ul>
<li><p> A <code>datapackage</code> subclass.
</p>
</li>
<li><p> All properties of the original <code>descriptor</code>.
</p>
</li>
<li><p> A <code>resources</code> property, set to an empty list if undefined.
</p>
</li>
<li><p> A <code>directory</code> property, set to <code>"."</code> for the current directory if
undefined.
It is used as the base path to access resources with <code><a href="#topic+read_resource">read_resource()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>create_package(descriptor = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_package_+3A_descriptor">descriptor</code></td>
<td>
<p>List to be made into a Data Package object.
If undefined, an empty Data Package will be created from scratch.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>vignette("data-package")</code> to learn how this function implements the
Data Package standard.
<code><a href="#topic+check_package">check_package()</a></code> is automatically called on the created package to make sure
it is valid.
</p>


<h3>Value</h3>

<p>A Data Package object.
</p>


<h3>See Also</h3>

<p>Other create functions: 
<code><a href="#topic+create_schema">create_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a Data Package
package &lt;- create_package()

package

# See the structure of the (empty) Data Package
str(package)
</code></pre>

<hr>
<h2 id='create_schema'>Create a Table Schema for a data frame</h2><span id='topic+create_schema'></span>

<h3>Description</h3>

<p>Creates a Table Schema for a data frame, listing all column names and types
as field names and (converted) types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_schema(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_schema_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>vignette("table-schema")</code> to learn how this function implements the
Data Package standard.
</p>


<h3>Value</h3>

<p>List describing a Table Schema.
</p>


<h3>See Also</h3>

<p>Other create functions: 
<code><a href="#topic+create_package">create_package</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a data frame
df &lt;- data.frame(
  id = c(as.integer(1), as.integer(2)),
  timestamp = c(
    as.POSIXct("2020-03-01 12:00:00", tz = "EET"),
    as.POSIXct("2020-03-01 18:45:00", tz = "EET")
  ),
  life_stage = factor(c("adult", "adult"), levels = c("adult", "juvenile"))
)

# Create a Table Schema from the data frame
schema &lt;- create_schema(df)
str(schema)
</code></pre>

<hr>
<h2 id='example_package'>Read the example Data Package</h2><span id='topic+example_package'></span>

<h3>Description</h3>

<p>Reads the example Data Package included in <code>frictionless</code>.
This dataset is used in examples, vignettes, and tests and contains dummy
camera trap data organized in 3 Data Resources:
</p>

<ol>
<li> <p><code>deployments</code>: one local data file referenced in
<code>"path": "deployments.csv"</code>.
</p>
</li>
<li> <p><code>observations</code>: two local data files referenced in
<code style="white-space: pre;">&#8288;"path": ["observations_1.tsv", "observations_2.tsv"]&#8288;</code>.
</p>
</li>
<li> <p><code>media</code>: inline data stored in <code>data</code>.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>example_package()
</code></pre>


<h3>Value</h3>

<p>A Data Package object, see <code><a href="#topic+create_package">create_package()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>example_package()
</code></pre>

<hr>
<h2 id='get_schema'>Get the Table Schema of a Data Resource</h2><span id='topic+get_schema'></span>

<h3>Description</h3>

<p>Returns the Table Schema of a Data Resource (in a Data Package), i.e. the
content of its <code>schema</code> property, describing the resource's fields, data
types, relationships, and missing values.
The resource must be a <a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_schema(package, resource_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_schema_+3A_package">package</code></td>
<td>
<p>Data Package object, as returned by <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="get_schema_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>vignette("table-schema")</code> to learn more about Table Schema.
</p>


<h3>Value</h3>

<p>List describing a Table Schema.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package()

# Get the Table Schema for the resource "observations"
schema &lt;- get_schema(package, "observations")
str(schema)
</code></pre>

<hr>
<h2 id='print.datapackage'>Print a Data Package</h2><span id='topic+print.datapackage'></span>

<h3>Description</h3>

<p>Prints a human-readable summary of a Data Package, including its resources
and a link to more information (if provided in <code>package$id</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'datapackage'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.datapackage_+3A_x">x</code></td>
<td>
<p>Data Package object, created with <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="print.datapackage_+3A_...">...</code></td>
<td>
<p>Further arguments, they are ignored by this function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+print">print()</a></code> with a summary of the Data Package object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package()

# Print a summary of the Data Package
package # Or print(package)
</code></pre>

<hr>
<h2 id='problems'>Retrieve parsing problems</h2><span id='topic+problems'></span>

<h3>Description</h3>

<p>Retrieves the parsing problems in data frame returned by <code><a href="#topic+read_resource">read_resource()</a></code>.
See <code><a href="readr.html#topic+problems">readr::problems()</a></code> for details.
</p>

<hr>
<h2 id='read_package'>Read a Data Package descriptor file (<code>datapackage.json</code>)</h2><span id='topic+read_package'></span>

<h3>Description</h3>

<p>Reads information from a <code>datapackage.json</code> file, i.e. the <a href="https://specs.frictionlessdata.io/data-package/#descriptor">descriptor</a> file that
describes the Data Package metadata and its Data Resources.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_package(file = "datapackage.json")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_package_+3A_file">file</code></td>
<td>
<p>Path or URL to a <code>datapackage.json</code> file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>vignette("data-package")</code> to learn how this function implements the
Data Package standard.
</p>


<h3>Value</h3>

<p>A Data Package object, see <code><a href="#topic+create_package">create_package()</a></code>.
</p>


<h3>See Also</h3>

<p>Other read functions: 
<code><a href="#topic+read_resource">read_resource</a>()</code>,
<code><a href="#topic+resources">resources</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read a datapackage.json file
package &lt;- read_package(
  system.file("extdata", "datapackage.json", package = "frictionless")
)

package

# Access the Data Package properties
package$name
package$created
</code></pre>

<hr>
<h2 id='read_resource'>Read data from a Data Resource into a tibble data frame</h2><span id='topic+read_resource'></span>

<h3>Description</h3>

<p>Reads data from a Data Resource (in a Data Package) into a tibble (a
Tidyverse data frame).
The resource must be a <a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a>.
The function uses <code><a href="readr.html#topic+read_delim">readr::read_delim()</a></code> to read CSV files, passing the
resource properties <code>path</code>, CSV dialect, column names, data types, etc.
Column names are taken from the provided Table Schema (<code>schema</code>), not from
the header in the CSV file(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_resource(package, resource_name, col_select = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_resource_+3A_package">package</code></td>
<td>
<p>Data Package object, as returned by <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="read_resource_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
<tr><td><code id="read_resource_+3A_col_select">col_select</code></td>
<td>
<p>Character vector of the columns to include in the result,
in the order provided.
Selecting columns can improve read speed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>vignette("data-resource")</code>, <code>vignette("table-dialect")</code> and
<code>vignette("table-schema")</code> to learn how this function implements the
Data Package standard.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble::tibble()</a></code> with the Data Resource's tabular data.
If there are parsing problems, a warning will alert you.
You can retrieve the full details by calling <code><a href="#topic+problems">problems()</a></code> on your data
frame.
</p>


<h3>See Also</h3>

<p>Other read functions: 
<code><a href="#topic+read_package">read_package</a>()</code>,
<code><a href="#topic+resources">resources</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read a datapackage.json file
package &lt;- read_package(
  system.file("extdata", "datapackage.json", package = "frictionless")
)

package

# Read data from the resource "observations"
read_resource(package, "observations")

# The above tibble is merged from 2 files listed in the resource path
package$resources[[2]]$path

# The column names and types are derived from the resource schema
purrr::map_chr(package$resources[[2]]$schema$fields, "name")
purrr::map_chr(package$resources[[2]]$schema$fields, "type")

# Read data from the resource "deployments" with column selection
read_resource(package, "deployments", col_select = c("latitude", "longitude"))
</code></pre>

<hr>
<h2 id='remove_resource'>Remove a Data Resource</h2><span id='topic+remove_resource'></span>

<h3>Description</h3>

<p>Removes a Data Resource from a Data Package, i.e. it removes one of the
described <code>resources</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_resource(package, resource_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remove_resource_+3A_package">package</code></td>
<td>
<p>Data Package object, as returned by <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="remove_resource_+3A_resource_name">resource_name</code></td>
<td>
<p>Name of the Data Resource.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>package</code> with one fewer resource.
</p>


<h3>See Also</h3>

<p>Other edit functions: 
<code><a href="#topic+add_resource">add_resource</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package()

# List the resources
resources(package)

# Remove the resource "observations"
package &lt;- remove_resource(package, "observations")

# List the resources ("observations" removed)
resources(package)
</code></pre>

<hr>
<h2 id='resources'>List Data Resources</h2><span id='topic+resources'></span>

<h3>Description</h3>

<p>Lists the names of the Data Resources included in a Data Package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resources(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="resources_+3A_package">package</code></td>
<td>
<p>Data Package object, as returned by <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with the Data Resource names.
</p>


<h3>See Also</h3>

<p>Other read functions: 
<code><a href="#topic+read_package">read_package</a>()</code>,
<code><a href="#topic+read_resource">read_resource</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package
package &lt;- example_package()

# List the resources
resources(package)
</code></pre>

<hr>
<h2 id='write_package'>Write a Data Package to disk</h2><span id='topic+write_package'></span>

<h3>Description</h3>

<p>Writes a Data Package and its related Data Resources to disk as a
<code>datapackage.json</code> and CSV files.
Already existing CSV files of the same name will not be overwritten.
The function can also be used to download a Data Package in its entirety.
The Data Resources are handled as follows:
</p>

<ul>
<li><p> Resource <code>path</code> has at least one local path (e.g. <code>deployments.csv</code>):
CSV files are copied or downloaded to <code>directory</code> and <code>path</code> points to new
location of file(s).
</p>
</li>
<li><p> Resource <code>path</code> has only URL(s): resource stays as is.
</p>
</li>
<li><p> Resource has inline <code>data</code> originally: resource stays as is.
</p>
</li>
<li><p> Resource has inline <code>data</code> as result of adding data with <code><a href="#topic+add_resource">add_resource()</a></code>:
data are written to a CSV file using <code><a href="readr.html#topic+write_delim">readr::write_csv()</a></code>, <code>path</code> points to
location of file, <code>data</code> property is removed.
Use <code>compress = TRUE</code> to gzip those CSV files.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>write_package(package, directory, compress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_package_+3A_package">package</code></td>
<td>
<p>Data Package object, as returned by <code><a href="#topic+read_package">read_package()</a></code> or
<code><a href="#topic+create_package">create_package()</a></code>.</p>
</td></tr>
<tr><td><code id="write_package_+3A_directory">directory</code></td>
<td>
<p>Path to local directory to write files to.</p>
</td></tr>
<tr><td><code id="write_package_+3A_compress">compress</code></td>
<td>
<p>If <code>TRUE</code>, data of added resources will be gzip compressed
before being written to disk (e.g. <code>deployments.csv.gz</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>package</code> invisibly, as written to file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example Data Package from disk
package &lt;- read_package(
  system.file("extdata", "datapackage.json", package = "frictionless")
)

package

# Write the (unchanged) Data Package to disk
write_package(package, directory = "my_directory")

# Check files
list.files("my_directory")

# No files written for the "observations" resource, since those are all URLs.
# No files written for the "media" resource, since it has inline data.

# Clean up (don't do this if you want to keep your files)
unlink("my_directory", recursive = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

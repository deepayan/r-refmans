<!DOCTYPE html><html><head><title>Help for package toscutil</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {toscutil}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#caller'><p>Get Name of Calling Function</p></a></li>
<li><a href='#capture.output2'><p>Capture output from a command</p></a></li>
<li><a href='#cat0'><p>Concatenate and Print</p></a></li>
<li><a href='#cat0n'><p>Concatenate and Print</p></a></li>
<li><a href='#cat2'><p>Concatenate and Print</p></a></li>
<li><a href='#catf'><p>Format and Print</p></a></li>
<li><a href='#catfn'><p>Format and Print</p></a></li>
<li><a href='#catn'><p>Concatenate and Print</p></a></li>
<li><a href='#catnn'><p>Concatenate and Print</p></a></li>
<li><a href='#catsn'><p>Concatenate and Print</p></a></li>
<li><a href='#check_pkg_docs'><p>Check Documented Functions in a Package</p></a></li>
<li><a href='#config_dir'><p>Get Normalized Configuration Directory Path of a Program</p></a></li>
<li><a href='#config_file'><p>Get Normalized Configuration File Path of a Program</p></a></li>
<li><a href='#corn'><p>Return Corners of Matrix like Objects</p></a></li>
<li><a href='#data_dir'><p>Get Normalized Data Directory Path of a Program</p></a></li>
<li><a href='#DOCSTRING_TEMPLATE'><p>Docstring Template</p></a></li>
<li><a href='#dput2'><p>Return ASCII representation of an R object</p></a></li>
<li><a href='#fg'><p>Foreground Color Codes</p></a></li>
<li><a href='#find_description_file'><p>Find DESCRIPTION File</p></a></li>
<li><a href='#function_locals'><p>Get Function Environment as List</p></a></li>
<li><a href='#get_docstring'><p>Get docstring for a Function</p></a></li>
<li><a href='#get_formals'><p>Get formals of a Function</p></a></li>
<li><a href='#get_pkg_docs'><p>Get Documented Functions in a Package</p></a></li>
<li><a href='#getfd'><p>Get File Directory</p></a></li>
<li><a href='#getpd'><p>Get Project Directory</p></a></li>
<li><a href='#help2'><p>Return help for topic</p></a></li>
<li><a href='#home'><p>Get USERPROFILE or HOME</p></a></li>
<li><a href='#ifthen'><p>Shortcut for multiple if else statements</p></a></li>
<li><a href='#is.none'><p>Truth checking as in Python</p></a></li>
<li><a href='#locals'><p>Get specified Environment as List</p></a></li>
<li><a href='#logf'><p>logf function</p></a></li>
<li><a href='#named'><p>Create automatically named List</p></a></li>
<li><a href='#norm_path'><p>Return Normalized Path</p></a></li>
<li><a href='#now'><p>Get Current Date and Time as String</p></a></li>
<li><a href='#op-null-default'><p>Return Default if None</p></a></li>
<li><a href='#predict.numeric'><p>Predict Method for Numeric Vectors</p></a></li>
<li><a href='#read_description_file'><p>Read DESCRIPTION File into a List</p></a></li>
<li><a href='#rm_all'><p>Remove all objects from global environment</p></a></li>
<li><a href='#split_docstring'><p>Split a docstring into a Head, Param and Tail Part</p></a></li>
<li><a href='#stub'><p>Stub Function Arguments</p></a></li>
<li><a href='#sys.exit'><p>Terminate a non-interactive R Session</p></a></li>
<li><a href='#trace_package'><p>Traces function calls from a package</p></a></li>
<li><a href='#untrace_package'><p>Untraces function calls from a package</p></a></li>
<li><a href='#update_docstring'><p>Update docstring for a Function</p></a></li>
<li><a href='#xdg_config_home'><p>Get XDG_CONFIG_HOME</p></a></li>
<li><a href='#xdg_data_home'><p>Get XDG_DATA_HOME</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Utility Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>2.8.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Base R sometimes requires verbose statements for simple,
    often recurring tasks, such as printing text without trailing
    space, ending with newline. This package aims at providing
    shorthands for such tasks.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/toscm/toscutil/">https://github.com/toscm/toscutil/</a>,
<a href="https://toscm.github.io/toscutil/">https://toscm.github.io/toscutil/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, rlang, tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, languageserver, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-28 07:13:26 UTC; tobi</td>
</tr>
<tr>
<td>Author:</td>
<td>Tobias Schmidt [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tobias Schmidt &lt;tobias.schmidt331@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-28 10:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='caller'>Get Name of Calling Function</h2><span id='topic+caller'></span>

<h3>Description</h3>

<p>Returns the name of a calling function as string, i.e. if function <code>g</code> calls function <code>f</code> and function <code>f</code> calls <code>caller(2)</code>, then string <code>"g"</code> is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caller(n = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="caller_+3A_n">n</code></td>
<td>
<p>How many frames to go up in the call stack</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Be careful when using <code>caller(n)</code> as input to other functions. Due to R's non-standard-evaluation (NES) mechanism it is possible that the function is not executed directly by that function but instead passed on to other functions, i.e. the correct number of frames to go up cannot be predicted a priori. Solutions are to evaluate the function first, store the result in a variable and then pass the variable to the function or to just try out the required number of frames to go up in an interactive session. For further examples see section Examples.
</p>


<h3>Value</h3>

<p>Name of the calling function
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Here we want to return a list of all variables created inside a function
f &lt;- function(a = 1, b = 2) {
    x &lt;- 3
    y &lt;- 4
    return(locals(without = formalArgs(caller(4))))
    # We need to go 4 frames up, to catch the formalArgs of `f`, because the
    # `caller(4)` argument is not evaluated directly be `formalArgs`.
}
f() # returns either list(x = 3, y = 4) or list(y = 4, x = 3)

# The same result could have been achieved as follows
g &lt;- function(a = 1, b = 2) {
    x &lt;- 3
    y &lt;- 4
    func &lt;- caller(1)
    return(locals(without = c("func", formalArgs(func))))
}
g() # returns either list(x = 3, y = 4) or list(y = 4, x = 3)
</code></pre>

<hr>
<h2 id='capture.output2'>Capture output from a command</h2><span id='topic+capture.output2'></span>

<h3>Description</h3>

<p>Like classic <code><a href="utils.html#topic+capture.output">capture.output()</a></code>, but with additional arguments <code>collapse</code> and <code>trim</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>capture.output2(..., collapse = "\n", trim = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="capture.output2_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="utils.html#topic+capture.output">capture.output()</a></code>.</p>
</td></tr>
<tr><td><code id="capture.output2_+3A_collapse">collapse</code></td>
<td>
<p>If <code>TRUE</code>, lines are collapsed into a single string. If <code>FALSE</code>, lines are returned as is. If any character, lines are collapsed using that character.</p>
</td></tr>
<tr><td><code id="capture.output2_+3A_trim">trim</code></td>
<td>
<p>If <code>TRUE</code>, leading and trailing whitespace from each line is removed before the lines are collapsed and/or returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>collapse</code> is <code>TRUE</code> or <code>"\n"</code>, a character vector of length 1. Else, a character vector of length <code>n</code>, where <code>n</code> corresponds to the number of lines outputted by the expression passed to <code><a href="utils.html#topic+capture.output">capture.output()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+capture.output">capture.output()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- capture.output2(str(list(a = 1, b = 2, c = 1:3)))
cat2(x)
</code></pre>

<hr>
<h2 id='cat0'>Concatenate and Print</h2><span id='topic+cat0'></span>

<h3>Description</h3>

<p>Same as <code>cat</code> but with an additional argument <code>end</code>,
which gets printed after all other elements. Inspired by pythons <code>print</code>
command.
</p>
<p>Warning: this function is deprecated and should no longer be used. The
function is guaranteed to be available as part of the package until the end
of 2023 but might removed at any time after 31.12.2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat0(..., sep = "", end = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat0_+3A_...">...</code></td>
<td>
<p>objects passed on to <a href="base.html#topic+cat">cat</a></p>
</td></tr>
<tr><td><code id="cat0_+3A_sep">sep</code></td>
<td>
<p>a character vector of strings to append after each element</p>
</td></tr>
<tr><td><code id="cat0_+3A_end">end</code></td>
<td>
<p>a string to print after all other elements</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat0("hello", "world") # prints "helloworld" (without newline)
</code></pre>

<hr>
<h2 id='cat0n'>Concatenate and Print</h2><span id='topic+cat0n'></span>

<h3>Description</h3>

<p>Same as <code>cat</code> but with an additional argument <code>end</code>,
which gets printed after all other elements. Inspired by pythons <code>print</code>
command.
</p>
<p>Warning: this function is deprecated and should no longer be used. The
function is guaranteed to be available as part of the package until the end
of 2023 but might removed at any time after 31.12.2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat0n(..., sep = "", end = "\n")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat0n_+3A_...">...</code></td>
<td>
<p>objects passed on to <a href="base.html#topic+cat">cat</a></p>
</td></tr>
<tr><td><code id="cat0n_+3A_sep">sep</code></td>
<td>
<p>a character vector of strings to append after each element</p>
</td></tr>
<tr><td><code id="cat0n_+3A_end">end</code></td>
<td>
<p>a string to print after all other elements</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat0n("hello", "world") # prints "helloworld\n"
</code></pre>

<hr>
<h2 id='cat2'>Concatenate and Print</h2><span id='topic+cat2'></span>

<h3>Description</h3>

<p>Same as <code><a href="base.html#topic+cat">base::cat()</a></code> but with an additional argument <code>end</code>, which gets printed after all other elements. Inspired by pythons <code>print</code> command.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat2(
  ...,
  sep = " ",
  end = "\n",
  file = "",
  append = FALSE,
  fill = FALSE,
  labels = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat2_+3A_...">...</code></td>
<td>
<p>R objects (see 'Details' for the types of objects allowed).</p>
</td></tr>
<tr><td><code id="cat2_+3A_sep">sep</code></td>
<td>
<p>a character vector of strings to append after each element.</p>
</td></tr>
<tr><td><code id="cat2_+3A_end">end</code></td>
<td>
<p>a string to print after all other elements.</p>
</td></tr>
<tr><td><code id="cat2_+3A_file">file</code></td>
<td>
<p>A <a href="base.html#topic+connection">connection</a>, or a character string naming the file to print to. If <code>""</code> (the default), <code>cat2</code> prints to the standard output connection, the console unless redirected by <a href="base.html#topic+sink">sink</a>.</p>
</td></tr>
<tr><td><code id="cat2_+3A_append">append</code></td>
<td>
<p>logical. Only used if the argument <code>file</code> is the name of file (and not a connection or <code>"|cmd"</code>). If <code>TRUE</code> output will be appended to <code>file</code>; otherwise, it will overwrite the contents of <code>file</code>.</p>
</td></tr>
<tr><td><code id="cat2_+3A_fill">fill</code></td>
<td>
<p>a logical or (positive) numeric controlling how the output is broken into successive lines. If <code>FALSE</code> (default), only newlines created explicitly by <code>"\n"</code> are printed. Otherwise, the output is broken into lines with print width equal to the option <code>width</code> if <code>fill</code> is <code>TRUE</code>, or the value of <code>fill</code> if this is numeric. Linefeeds are only inserted <em>between</em> elements, strings wider than <code>fill</code> are not wrapped. Non-positive <code>fill</code> values are ignored, with a warning.</p>
</td></tr>
<tr><td><code id="cat2_+3A_labels">labels</code></td>
<td>
<p>character vector of labels for the lines printed. Ignored if <code>fill</code> is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+cat">base::cat()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1
cat("x:", x, "\n") # prints 'Number: 1 \n' (with a space between 1 and \n)
cat2("x:", x) # prints 'Number: 1\n'  (without space)
</code></pre>

<hr>
<h2 id='catf'>Format and Print</h2><span id='topic+catf'></span>

<h3>Description</h3>

<p>Same as <code>cat(sprintf(fmt, ...))</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catf(fmt, ..., file = "", append = FALSE, fill = FALSE, labels = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="catf_+3A_fmt">fmt</code></td>
<td>
<p>A character vector of format strings, each of up to 8192 bytes.</p>
</td></tr>
<tr><td><code id="catf_+3A_...">...</code></td>
<td>
<p>Up to 100 values to be passed into <code>fmt</code>. Only logical, integer, real and character vectors are supported, but some coercion will be done: see the Details section of <code><a href="base.html#topic+sprintf">base::sprintf()</a></code>.</p>
</td></tr>
<tr><td><code id="catf_+3A_file">file</code></td>
<td>
<p>A <a href="base.html#topic+connection">connection</a>, or a character string naming the file to print to. If <code>""</code> (the default), <code>cat2</code> prints to the standard output connection, the console unless redirected by <a href="base.html#topic+sink">sink</a>.</p>
</td></tr>
<tr><td><code id="catf_+3A_append">append</code></td>
<td>
<p>logical. Only used if the argument <code>file</code> is the name of file (and not a connection or <code>"|cmd"</code>). If <code>TRUE</code> output will be appended to <code>file</code>; otherwise, it will overwrite the contents of <code>file</code>.</p>
</td></tr>
<tr><td><code id="catf_+3A_fill">fill</code></td>
<td>
<p>a logical or (positive) numeric controlling how the output is broken into successive lines. If <code>FALSE</code> (default), only newlines created explicitly by <code>"\n"</code> are printed. Otherwise, the output is broken into lines with print width equal to the option <code>width</code> if <code>fill</code> is <code>TRUE</code>, or the value of <code>fill</code> if this is numeric. Linefeeds are only inserted <em>between</em> elements, strings wider than <code>fill</code> are not wrapped. Non-positive <code>fill</code> values are ignored, with a warning.</p>
</td></tr>
<tr><td><code id="catf_+3A_labels">labels</code></td>
<td>
<p>character vector of labels for the lines printed. Ignored if <code>fill</code> is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>catf("A%dB%sC", 2, "asdf") # prints "A2BasdfC"
</code></pre>

<hr>
<h2 id='catfn'>Format and Print</h2><span id='topic+catfn'></span>

<h3>Description</h3>

<p>Same as <code>cat2(sprintf(fmt, ...))</code>
</p>
<p>Warning: this function is deprecated and should no longer be used. The
function is guaranteed to be available as part of the package until the end
of 2023 but might removed at any time after 31.12.2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catfn(
  fmt,
  ...,
  end = "\n",
  file = "",
  sep = " ",
  fill = FALSE,
  labels = NULL,
  append = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="catfn_+3A_fmt">fmt</code></td>
<td>
<p>passed on to <code><a href="base.html#topic+sprintf">base::sprintf()</a></code></p>
</td></tr>
<tr><td><code id="catfn_+3A_...">...</code></td>
<td>
<p>passed on to <code><a href="base.html#topic+sprintf">base::sprintf()</a></code></p>
</td></tr>
<tr><td><code id="catfn_+3A_end">end</code></td>
<td>
<p>passed on to <code><a href="#topic+cat2">cat2()</a></code></p>
</td></tr>
<tr><td><code id="catfn_+3A_file">file</code></td>
<td>
<p>passed on to <code><a href="#topic+cat2">cat2()</a></code> (which passes it on to <code><a href="base.html#topic+cat">base::cat()</a></code>)</p>
</td></tr>
<tr><td><code id="catfn_+3A_sep">sep</code></td>
<td>
<p>passed on to <code><a href="#topic+cat2">cat2()</a></code> (which passes it on to <code><a href="base.html#topic+cat">base::cat()</a></code>)</p>
</td></tr>
<tr><td><code id="catfn_+3A_fill">fill</code></td>
<td>
<p>passed on to <code><a href="#topic+cat2">cat2()</a></code> (which passes it on to <code><a href="base.html#topic+cat">base::cat()</a></code>)</p>
</td></tr>
<tr><td><code id="catfn_+3A_labels">labels</code></td>
<td>
<p>passed on to <code><a href="#topic+cat2">cat2()</a></code> (which passes it on to <code><a href="base.html#topic+cat">base::cat()</a></code>)</p>
</td></tr>
<tr><td><code id="catfn_+3A_append">append</code></td>
<td>
<p>passed on to <code><a href="#topic+cat2">cat2()</a></code> (which passes it on to <code><a href="base.html#topic+cat">base::cat()</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>catfn("A%dB%sC", 2, "asdf") # prints "A2BasdfC\n"
</code></pre>

<hr>
<h2 id='catn'>Concatenate and Print</h2><span id='topic+catn'></span>

<h3>Description</h3>

<p>Same as <code>cat</code> but with an additional argument <code>end</code>,
which gets printed after all other elements. Inspired by pythons <code>print</code>
command.
</p>
<p>Warning: this function is deprecated and should no longer be used. The
function is guaranteed to be available as part of the package until the end
of 2023 but might removed at any time after 31.12.2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catn(..., sep = " ", end = "\n")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="catn_+3A_...">...</code></td>
<td>
<p>objects passed on to <a href="base.html#topic+cat">cat</a></p>
</td></tr>
<tr><td><code id="catn_+3A_sep">sep</code></td>
<td>
<p>a character vector of strings to append after each element</p>
</td></tr>
<tr><td><code id="catn_+3A_end">end</code></td>
<td>
<p>a string to print after all other elements</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>catn("hello", "world") # prints "hello world\n"
</code></pre>

<hr>
<h2 id='catnn'>Concatenate and Print</h2><span id='topic+catnn'></span>

<h3>Description</h3>

<p>Same as <code>cat</code> but with an additional argument <code>end</code>,
which gets printed after all other elements. Inspired by pythons <code>print</code>
command.
</p>
<p>Warning: this function is deprecated and should no longer be used. The
function is guaranteed to be available as part of the package until the end
of 2023 but might removed at any time after 31.12.2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catnn(..., sep = "\n", end = "\n")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="catnn_+3A_...">...</code></td>
<td>
<p>objects passed on to <a href="base.html#topic+cat">cat</a></p>
</td></tr>
<tr><td><code id="catnn_+3A_sep">sep</code></td>
<td>
<p>a character vector of strings to append after each element</p>
</td></tr>
<tr><td><code id="catnn_+3A_end">end</code></td>
<td>
<p>a string to print after all other elements</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>catnn("hello", "world") # prints "hello\nworld\n"
</code></pre>

<hr>
<h2 id='catsn'>Concatenate and Print</h2><span id='topic+catsn'></span>

<h3>Description</h3>

<p>Same as <code>cat</code> but with an additional argument <code>end</code>,
which gets printed after all other elements. Inspired by pythons <code>print</code>
command.
</p>
<p>Warning: this function is deprecated and should no longer be used. The
function is guaranteed to be available as part of the package until the end
of 2023 but might removed at any time after 31.12.2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catsn(..., sep = " ", end = "\n")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="catsn_+3A_...">...</code></td>
<td>
<p>objects passed on to <a href="base.html#topic+cat">cat</a></p>
</td></tr>
<tr><td><code id="catsn_+3A_sep">sep</code></td>
<td>
<p>a character vector of strings to append after each element</p>
</td></tr>
<tr><td><code id="catsn_+3A_end">end</code></td>
<td>
<p>a string to print after all other elements</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>catsn("hello", "world") # prints "hello world\n"
</code></pre>

<hr>
<h2 id='check_pkg_docs'>Check Documented Functions in a Package</h2><span id='topic+check_pkg_docs'></span>

<h3>Description</h3>

<p>Lists all documented functions in a package and checks their documentation elements for potential issues. The following checks are performed:
</p>

<ol>
<li><p> Title is present and doesn't start with regex &quot;Function&quot;.
</p>
</li>
<li><p> Description is present and doesn't start with &quot;This function&quot;.
</p>
</li>
<li><p> Value is present.
</p>
</li>
<li><p> Example is present.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>check_pkg_docs(pkg = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_pkg_docs_+3A_pkg">pkg</code></td>
<td>
<p>The package name. If NULL, the package name is inferred from the DESCRIPTION file in the current directory or any parent directory. If no DESCRIPTION file is found, the function stops with an error message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a dataframe with columns <code>title</code>, <code>description</code>, <code>value</code>, <code>examples</code> and rows corresponding to the documented functions in the package. Each cell contains a string describing the check result for the corresponding documentation element of that function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- check_pkg_docs("tools")
try(df &lt;- check_pkg_docs())
</code></pre>

<hr>
<h2 id='config_dir'>Get Normalized Configuration Directory Path of a Program</h2><span id='topic+config_dir'></span>

<h3>Description</h3>

<p><code>config_dir</code> returns the absolute, normalized path to the configuration directory of a program/package/app based on an optional app-specific commandline argument, an optional app-specific environment variable and the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>config_dir(
  app_name,
  cl_arg = commandArgs()[grep("--config-dir", commandArgs()) + 1],
  env_var = Sys.getenv(toupper(paste0(app_name, "_config_dir()"))),
  create = FALSE,
  sep = "/"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="config_dir_+3A_app_name">app_name</code></td>
<td>
<p>Name of the program/package/app</p>
</td></tr>
<tr><td><code id="config_dir_+3A_cl_arg">cl_arg</code></td>
<td>
<p>Value of app specific commandline parameter</p>
</td></tr>
<tr><td><code id="config_dir_+3A_env_var">env_var</code></td>
<td>
<p>Value of app specific environment variable</p>
</td></tr>
<tr><td><code id="config_dir_+3A_create">create</code></td>
<td>
<p>whether to create returned path, if it doesn't exists yet</p>
</td></tr>
<tr><td><code id="config_dir_+3A_sep">sep</code></td>
<td>
<p>Path separator to be used on Windows</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following algorithm is used to determine the location of the configuration directory for application <code style="white-space: pre;">&#8288;$app_name&#8288;</code>:
</p>

<ol>
<li><p> If parameter <code>cl_arg</code> is a non-empty string, return it
</p>
</li>
<li><p> Else, if parameter <code>env_var</code> is a non-empty string, return it
</p>
</li>
<li><p> Else, if environment variable (EV) <code>XDG_CONFIG_HOME</code> exists, return
<code style="white-space: pre;">&#8288;$XDG_CONFIG_HOME/$app_name&#8288;</code>
</p>
</li>
<li><p> Else, if EV <code>HOME</code> exists, return <code style="white-space: pre;">&#8288;$HOME/.config/{app_name}&#8288;</code>
</p>
</li>
<li><p> Else, if EV <code>USERPROFILE</code> exists, return
<code style="white-space: pre;">&#8288;$USERPROFILE/.config/{app_name}&#8288;</code>
</p>
</li>
<li><p> Else, return <code style="white-space: pre;">&#8288;$WD/.config/{app-name}&#8288;</code>
</p>
</li></ol>

<p>where <code style="white-space: pre;">&#8288;$WD&#8288;</code> equals the current working directory and the notation <code style="white-space: pre;">&#8288;$VAR&#8288;</code> is used to specify the value of a parameter or environment variable VAR.
</p>


<h3>Value</h3>

<p>Normalized path to the configuration directory of <code style="white-space: pre;">&#8288;$app_name&#8288;</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+data_dir">data_dir()</a></code>, <code><a href="#topic+config_file">config_file()</a></code>, <code><a href="#topic+xdg_config_home">xdg_config_home()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>config_dir("myApp")
</code></pre>

<hr>
<h2 id='config_file'>Get Normalized Configuration File Path of a Program</h2><span id='topic+config_file'></span>

<h3>Description</h3>

<p><code>config_file</code> returns the absolute, normalized path to the configuration file of a program/package/app based on an optional app-specific commandline argument, an optional app-specific environment variable and the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>config_file(
  app_name,
  file_name,
  cl_arg = commandArgs()[grep("--config-file", commandArgs()) + 1],
  env_var = "",
  sep = "/",
  copy_dir = norm_path(xdg_config_home(), app_name),
  fallback_path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="config_file_+3A_app_name">app_name</code></td>
<td>
<p>Name of the program/package/app</p>
</td></tr>
<tr><td><code id="config_file_+3A_file_name">file_name</code></td>
<td>
<p>Name of the configuration file</p>
</td></tr>
<tr><td><code id="config_file_+3A_cl_arg">cl_arg</code></td>
<td>
<p>Value of app specific commandline parameter</p>
</td></tr>
<tr><td><code id="config_file_+3A_env_var">env_var</code></td>
<td>
<p>Value of app specific environment variable</p>
</td></tr>
<tr><td><code id="config_file_+3A_sep">sep</code></td>
<td>
<p>Path separator to be used on Windows</p>
</td></tr>
<tr><td><code id="config_file_+3A_copy_dir">copy_dir</code></td>
<td>
<p>Path to directory where <code style="white-space: pre;">&#8288;$fallback_path&#8288;</code> should be copied to in case it gets used.</p>
</td></tr>
<tr><td><code id="config_file_+3A_fallback_path">fallback_path</code></td>
<td>
<p>Value to return as fallback (see details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following algorithm is used to determine the location of <code style="white-space: pre;">&#8288;$file_name&#8288;</code>:
</p>

<ol>
<li><p> If <code style="white-space: pre;">&#8288;$cl_arg&#8288;</code> is a non-empty string, return it
</p>
</li>
<li><p> Else, if <code style="white-space: pre;">&#8288;$env_var&#8288;</code> is a non-empty string, return it
</p>
</li>
<li><p> Else, if <code style="white-space: pre;">&#8288;$PWD/.config/$app_name&#8288;</code> exists, return it
</p>
</li>
<li><p> Else, if <code style="white-space: pre;">&#8288;$XDG_CONFIG_HOME/$app_name/$file_name&#8288;</code> exists, return it
</p>
</li>
<li><p> Else, if <code style="white-space: pre;">&#8288;$HOME/.config/$app_name/$file_name&#8288;</code> exists, return it
</p>
</li>
<li><p> Else, if <code style="white-space: pre;">&#8288;$USERPROFILE/.config/$app_name/$file_name&#8288;</code> exists, return it
</p>
</li>
<li><p> Else, if <code style="white-space: pre;">&#8288;$copy_dir&#8288;</code> is non-empty string and <code style="white-space: pre;">&#8288;$fallback_path&#8288;</code> is a path
to an existing file, then try to copy <code style="white-space: pre;">&#8288;$fallback_path&#8288;</code> to
<code>copy_dir</code>/<code style="white-space: pre;">&#8288;$file_name&#8288;</code> and return <code>copy_dir</code>/<code style="white-space: pre;">&#8288;$file_name&#8288;</code> (Note, that
in case $copy_dir is a non-valid path, the function will throw an error.)
</p>
</li>
<li><p> Else, return $fallback_path
</p>
</li></ol>



<h3>Value</h3>

<p>Normalized path to the configuration file of <code style="white-space: pre;">&#8288;$app_name&#8288;</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+config_dir">config_dir()</a></code>, <code><a href="#topic+xdg_config_home">xdg_config_home()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>config_dir("myApp")
</code></pre>

<hr>
<h2 id='corn'>Return Corners of Matrix like Objects</h2><span id='topic+corn'></span>

<h3>Description</h3>

<p>Similar to <code><a href="utils.html#topic+head">head()</a></code> and <code><a href="utils.html#topic+tail">tail()</a></code>, but returns <code>n</code> rows/cols
from each side of <code>x</code> (i.e. the corners of <code>x</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corn(x, n = 2L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corn_+3A_x">x</code></td>
<td>
<p>matrix like object</p>
</td></tr>
<tr><td><code id="corn_+3A_n">n</code></td>
<td>
<p>number of cols/rows from each corner to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x[c(1:n, N-n:N), c(1:n, N-n:N)]</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>corn(matrix(1:10000, 100))
</code></pre>

<hr>
<h2 id='data_dir'>Get Normalized Data Directory Path of a Program</h2><span id='topic+data_dir'></span>

<h3>Description</h3>

<p><code>data_dir</code> returns the absolute, normalized path to the data directory of a program/package/app based on an optional app-specific commandline argument, an optional app-specific environment variable and the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dir(
  app_name,
  cl_arg = commandArgs()[grep("--data-dir", commandArgs()) + 1],
  env_var = Sys.getenv(toupper(paste0(app_name, "_DATA_DIR"))),
  create = FALSE,
  sep = "/"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dir_+3A_app_name">app_name</code></td>
<td>
<p>Name of the program/package/app</p>
</td></tr>
<tr><td><code id="data_dir_+3A_cl_arg">cl_arg</code></td>
<td>
<p>Value of app specific commandline parameter</p>
</td></tr>
<tr><td><code id="data_dir_+3A_env_var">env_var</code></td>
<td>
<p>Value of app specific environment variable</p>
</td></tr>
<tr><td><code id="data_dir_+3A_create">create</code></td>
<td>
<p>whether to create returned path, if it doesn't exists yet</p>
</td></tr>
<tr><td><code id="data_dir_+3A_sep">sep</code></td>
<td>
<p>Path separator to be used on Windows</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following algorithm is used to determine the location of the data directory for application <code style="white-space: pre;">&#8288;$app_name&#8288;</code>:
</p>

<ol>
<li><p> If parameter <code style="white-space: pre;">&#8288;$cl_arg&#8288;</code> is a non-empty string, return <code>cl_arg</code>
</p>
</li>
<li><p> Else, if parameter <code style="white-space: pre;">&#8288;$env_var&#8288;</code> is a non-empty string, return <code style="white-space: pre;">&#8288;$env_var&#8288;</code>
</p>
</li>
<li><p> Else, if environment variable (EV) <code style="white-space: pre;">&#8288;$XDG_DATA_HOME&#8288;</code> exists, return
<code style="white-space: pre;">&#8288;$XDG_DATA_HOME/$app_name&#8288;</code>
</p>
</li>
<li><p> Else, if EV <code style="white-space: pre;">&#8288;$HOME&#8288;</code> exists, return <code style="white-space: pre;">&#8288;$HOME/.local/share/$app_name&#8288;</code>
</p>
</li>
<li><p> Else, if EV <code style="white-space: pre;">&#8288;$USERPROFILE&#8288;</code> exists, return
<code style="white-space: pre;">&#8288;$USERPROFILE/.local/share/$app_name&#8288;</code>
</p>
</li>
<li><p> Else, return <code style="white-space: pre;">&#8288;$WD/.local/share&#8288;</code>
</p>
</li></ol>



<h3>Value</h3>

<p>Normalized path to the data directory of <code style="white-space: pre;">&#8288;$app_name&#8288;</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+config_dir">config_dir()</a></code>, <code><a href="#topic+xdg_data_home">xdg_data_home()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_dir("myApp")
</code></pre>

<hr>
<h2 id='DOCSTRING_TEMPLATE'>Docstring Template</h2><span id='topic+DOCSTRING_TEMPLATE'></span>

<h3>Description</h3>

<p>A minimal docstring template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DOCSTRING_TEMPLATE
</code></pre>


<h3>Format</h3>

<p>A single string, i.e. a character vector of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(DOCSTRING_TEMPLATE)
</code></pre>

<hr>
<h2 id='dput2'>Return ASCII representation of an R object</h2><span id='topic+dput2'></span>

<h3>Description</h3>

<p>Like classic <code><a href="base.html#topic+dput">dput()</a></code>, but instead of writing to stdout, the text representation is returned as string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dput2(..., collapse = " ", trim = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dput2_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="base.html#topic+dput">dput()</a></code>.</p>
</td></tr>
<tr><td><code id="dput2_+3A_collapse">collapse</code></td>
<td>
<p>Character to use for collapsing the lines.</p>
</td></tr>
<tr><td><code id="dput2_+3A_trim">trim</code></td>
<td>
<p>If <code>TRUE</code>, leading and trailing whitespace from each line is cleared before the lines are collapsed and/or returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>collapse == '\n'</code>, a character vector of length 1. Else, a character vector of length <code>n</code>, where <code>n</code> corresponds to the number of lines outputted by classic <code><a href="base.html#topic+dput">dput()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+dput">dput()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Classic dput prints directly to stdout
x &lt;- iris[1, ]
dput(x)

# Traditional formatting using dput2
y &lt;- dput2(x, collapse = "\n", trim = FALSE)
cat2(y)

# Single line formatting
z &lt;- dput2(x)
cat2(z)
</code></pre>

<hr>
<h2 id='fg'>Foreground Color Codes</h2><span id='topic+fg'></span>

<h3>Description</h3>

<p>Provides ANSI escape codes as a named list for changing terminal text colors and style resetting. These codes can modify the foreground color and reset styles to defaults (incl. background color and text formatting).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fg
</code></pre>


<h3>Format</h3>

<p>A named list of ANSI escape codes for text coloring and style resetting in the terminal. Includes colors: GREY, RED, GREEN, YELLOW, BLUE, PURPLE, CYAN, WHITE, and RESET for default style restoration.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(fg$RED, "This text will be red.", fg$RESET, "\n")
cat(fg$GREEN, "This text will be green.", fg$RESET, "\n")
cat(fg$RESET, "Text back to default.", "\n")
</code></pre>

<hr>
<h2 id='find_description_file'>Find DESCRIPTION File</h2><span id='topic+find_description_file'></span>

<h3>Description</h3>

<p>Searches for a DESCRIPTION file starting from the current or specified directory and moving upwards through the directory hierarchy until the file is found or the root directory is reached.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_description_file(start_dir = getwd())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_description_file_+3A_start_dir">start_dir</code></td>
<td>
<p>The starting directory for the search. Defaults to the current working directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path to the DESCRIPTION file if found. If not found, the function stops with an error message.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Start search from a specific directory
graphics_pkg_dir &lt;- system.file(package = "graphics")
find_description_file(graphics_pkg_dir)

## Not run: 
# Below example will only work if executed from a package directory
find_description_file()

## End(Not run)
</code></pre>

<hr>
<h2 id='function_locals'>Get Function Environment as List</h2><span id='topic+function_locals'></span>

<h3>Description</h3>

<p>Returns the function environment as list. Raises an error when called outside a function. By default, objects specified as arguments are removed from the environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>function_locals(without = c(), strip_function_args = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="function_locals_+3A_without">without</code></td>
<td>
<p>character vector of symbols to exclude</p>
</td></tr>
<tr><td><code id="function_locals_+3A_strip_function_args">strip_function_args</code></td>
<td>
<p>Whether to exclude symbols with the same name as
the function arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The order of the symbols in the returned list is arbitrary.
</p>


<h3>Value</h3>

<p>The function environment as list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- function(a = 1, b = 2) {
    x &lt;- 3
    y &lt;- 4
    return(function_locals())
}
all.equal(setdiff(f(), list(x = 3, y = 4)), list())
</code></pre>

<hr>
<h2 id='get_docstring'>Get docstring for a Function</h2><span id='topic+get_docstring'></span>

<h3>Description</h3>

<p>The <a href="https://roxygen2.r-lib.org/">roxygen2</a> package makes it
possible to write documentation for R functions directly above the
corresponding function. This function can be used to retrieve the full
documentation string (docstring).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_docstring(content, func, collapse = TRUE, template = DOCSTRING_TEMPLATE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_docstring_+3A_content">content</code></td>
<td>
<p>R code as string.</p>
</td></tr>
<tr><td><code id="get_docstring_+3A_func">func</code></td>
<td>
<p>Name of function to get docstring for.</p>
</td></tr>
<tr><td><code id="get_docstring_+3A_collapse">collapse</code></td>
<td>
<p>Whether to collapse all docstring into a single string.</p>
</td></tr>
<tr><td><code id="get_docstring_+3A_template">template</code></td>
<td>
<p>String to return in case no docstring could be found.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1 containing either the docstring or the
empty string (in case no documentation could be detected).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>uri &lt;- system.file("testfiles/funcs.R", package = "toscutil")
content &lt;- readLines(uri)
func &lt;- "f2"
get_docstring(content, func)
get_docstring(content, func, collapse = TRUE)
</code></pre>

<hr>
<h2 id='get_formals'>Get formals of a Function</h2><span id='topic+get_formals'></span>

<h3>Description</h3>

<p>Returns the arguments of a function from a valid R file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_formals(uri, content, func)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_formals_+3A_uri">uri</code></td>
<td>
<p>Path to R file.</p>
</td></tr>
<tr><td><code id="get_formals_+3A_content">content</code></td>
<td>
<p>R code as string.</p>
</td></tr>
<tr><td><code id="get_formals_+3A_func">func</code></td>
<td>
<p>Function name. If a function is defined multiple times inside the
provided file, only the last occurence will be considered.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named character vector as returned by <code><a href="base.html#topic+formals">formals()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>uri &lt;- system.file("testfiles/funcs.R", package = "toscutil")
content &lt;- readLines(uri)
func &lt;- "f2"
if (requireNamespace("languageserver", quietly = TRUE)) {
    get_formals(uri, content, func)
}
</code></pre>

<hr>
<h2 id='get_pkg_docs'>Get Documented Functions in a Package</h2><span id='topic+get_pkg_docs'></span>

<h3>Description</h3>

<p>Lists all documented functions in a package together with some of their documentation elements as raw text. Only works for installed packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pkg_docs(pkg = NULL, unload = TRUE, reload = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_pkg_docs_+3A_pkg">pkg</code></td>
<td>
<p>The package name. If NULL, the package name is inferred from the DESCRIPTION file in the current directory or any parent directory. If no DESCRIPTION file is found, the function stops with an error message.</p>
</td></tr>
<tr><td><code id="get_pkg_docs_+3A_unload">unload</code></td>
<td>
<p>Whether to unload a potential currently developed package using <code><a href="devtools.html#topic+reexports">devtools::unload()</a></code> before checking the documentation. Required when the package was loaded with <code><a href="devtools.html#topic+load_all">devtools::load_all()</a></code> as the documentation database only exists for installed packages.</p>
</td></tr>
<tr><td><code id="get_pkg_docs_+3A_reload">reload</code></td>
<td>
<p>Whether to reload the package using <code><a href="devtools.html#topic+load_all">devtools::load_all()</a></code> after checking the documentation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a dataframe with columns <code>title</code>, <code>description</code>, <code>value</code>, <code>examples</code> and rows corresponding to the documented functions in the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- get_pkg_docs("tools")
nchars &lt;- as.data.frame(apply(df, 2, function(col) sapply(col, nchar)))
head(nchars)
</code></pre>

<hr>
<h2 id='getfd'>Get File Directory</h2><span id='topic+getfd'></span>

<h3>Description</h3>

<p>Return full path to current file directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getfd(
  on.error = stop("No file sourced. Maybe you're in an interactive shell?", call. =
    FALSE),
  winslash = "/"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getfd_+3A_on.error">on.error</code></td>
<td>
<p>Expression to use if the current file directory cannot be determined. In that case, <code>normalizePath(on.error, winslash)</code> is returned. Can also be an expression like <code>stop("message")</code> to stop execution (default).</p>
</td></tr>
<tr><td><code id="getfd_+3A_winslash">winslash</code></td>
<td>
<p>Path separator to use for windows</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Current file directory as string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getfd(on.error = getwd())
## Not run: 
getfd()

## End(Not run)
</code></pre>

<hr>
<h2 id='getpd'>Get Project Directory</h2><span id='topic+getpd'></span>

<h3>Description</h3>

<p>Find the project root directory by traversing the current working directory filepath upwards until a given set of files is found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getpd(root.files = c(".git", "DESCRIPTION", "NAMESPACE"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getpd_+3A_root.files">root.files</code></td>
<td>
<p>if any of these files is found in a parent folder, the path to that folder is returned</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>getpd</code> returns the absolute, normalized project root directory as string. The forward slash is used as path separator (independent of the OS).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>local({
     base_pkg_root_dir &lt;- system.file(package = "base")
     base_pkg_R_dir &lt;- file.path(base_pkg_root_dir, "R")
     owd &lt;- setwd(base_pkg_R_dir); on.exit(setwd(owd))
     getpd()
})
</code></pre>

<hr>
<h2 id='help2'>Return help for topic</h2><span id='topic+help2'></span>

<h3>Description</h3>

<p>Returns the help text for the specified topic formatted either as plain text, html or latex.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>help2(topic, format = "text", package = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="help2_+3A_topic">topic</code></td>
<td>
<p>character, the topic for which to return the help text. See argument <code>topic</code> of function <code><a href="utils.html#topic+help">help()</a></code> for details.</p>
</td></tr>
<tr><td><code id="help2_+3A_format">format</code></td>
<td>
<p>character, either <code>"text"</code>, <code>"html"</code> or <code>"latex"</code></p>
</td></tr>
<tr><td><code id="help2_+3A_package">package</code></td>
<td>
<p>character, the package for which to return the help text. This argument will be ignored if topic is specified. Package must be attached to the search list first, e.g. by calling <code>library(package)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The help text for the specified topic in the specified format as string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>htm &lt;- help2("sum", "html")
txt &lt;- help2(topic = "sum", format = "text")
cat2(txt)
</code></pre>

<hr>
<h2 id='home'>Get USERPROFILE or HOME</h2><span id='topic+home'></span>

<h3>Description</h3>

<p>Returns normalized value of environment variable USERPROFILE, if defined, else value of HOME.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>home(winslash = "/")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="home_+3A_winslash">winslash</code></td>
<td>
<p>path separator to be used on Windows (passed on to <code>normalizePath</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>normalized value of environment variable USERPROFILE, if defined, else value of HOME.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>home()
</code></pre>

<hr>
<h2 id='ifthen'>Shortcut for multiple if else statements</h2><span id='topic+ifthen'></span>

<h3>Description</h3>

<p><code>ifthen(a, b, c, d, e, f, ...)</code> == <code>if (a) b else if (c) d else if (e) f</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ifthen(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ifthen_+3A_...">...</code></td>
<td>
<p>pairs of checks and corresponding return values</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ifelse</code> returns the first value for which the corresponding
statement evaluates to TRUE
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 2
y &lt;- 2
z &lt;- 1
ifthen(x == 0, "foo", y == 0, "bar", z == 1, "this string gets returned")
</code></pre>

<hr>
<h2 id='is.none'>Truth checking as in Python</h2><span id='topic+is.none'></span>

<h3>Description</h3>

<p>Returns <code>TRUE</code> if <code>x</code> is either <code>FALSE</code>, <code>0</code>, <code>NULL</code>, <code>NA</code>and
empty lists or an empty string. Inspired by python's
<a href="https://docs.python.org/3/library/functions.html#bool">bool</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.none(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.none_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if <code>x</code> is <code>FALSE</code>, 0, <code>NULL</code>, <code>NA</code>, an empty list or an empty
string. Else <code>FALSE.</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is.none(FALSE) # TRUE
is.none(0) # TRUE
is.none(1) # FALSE
is.none(NA) # TRUE
is.none(list()) # TRUE
is.none("") # TRUE
is.none(character()) # TRUE
is.none(numeric()) # TRUE
is.none(logical()) # TRUE
</code></pre>

<hr>
<h2 id='locals'>Get specified Environment as List</h2><span id='topic+locals'></span>

<h3>Description</h3>

<p>Return all symbols in the specified environment as list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>locals(without = c(), env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="locals_+3A_without">without</code></td>
<td>
<p>Character vector. Symbols from current env to exclude.</p>
</td></tr>
<tr><td><code id="locals_+3A_env">env</code></td>
<td>
<p>Environment to use. Defaults to the environment from which <code>locals</code> is called.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Specified environment as list (without the mentioned symbols).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- function() {
     x &lt;- 1
     y &lt;- 2
     z &lt;- 3
     locals()
}
ret &lt;- f()
stopifnot(identical(ret, list(z = 3, y = 2, x = 1)))
</code></pre>

<hr>
<h2 id='logf'>logf function</h2><span id='topic+logf'></span>

<h3>Description</h3>

<p>Prints a formatted string with optional prefix and end string. The default prefix is a grey timestamp and the default end is a newline character, which is useful for logging messages. All defaults can be set globally using <code><a href="base.html#topic+options">options()</a></code>. For details see 'Examples'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logf(
  fmt,
  ...,
  file = .Options$toscutil.logf.file %||% "",
  append = .Options$toscutil.logf.append %||% FALSE,
  prefix = .Options$toscutil.logf.prefix %||% function() now_ms(usetz = FALSE, color =
    fg$GREY),
  sep1 = .Options$toscutil.logf.sep1 %||% " ",
  sep2 = .Options$toscutil.logf.sep2 %||% "",
  end = .Options$toscutil.logf.end %||% "\n"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logf_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to sprintf for string formatting.</p>
</td></tr>
<tr><td><code id="logf_+3A_file">file</code></td>
<td>
<p>A <code><a href="base.html#topic+file">file()</a></code> connection object or a string naming the file to print to. If <code>""</code> (the default), output is printed to STDOUT unless redirected by <code><a href="base.html#topic+sink">sink()</a></code>.</p>
</td></tr>
<tr><td><code id="logf_+3A_append">append</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the output is appended to the file. If <code>FALSE</code>, the file is overwritten.</p>
</td></tr>
<tr><td><code id="logf_+3A_prefix">prefix</code></td>
<td>
<p>A function returning a string to be used as the prefix.</p>
</td></tr>
<tr><td><code id="logf_+3A_sep1">sep1</code></td>
<td>
<p>A string to be used as the separator between the prefix and the formatted string.</p>
</td></tr>
<tr><td><code id="logf_+3A_sep2">sep2</code></td>
<td>
<p>A string to be used as the separator between the formatted string and the end.</p>
</td></tr>
<tr><td><code id="logf_+3A_end">end</code></td>
<td>
<p>A string to be used as the end of the message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value. This function is called for its side effect of printing a message.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>logf("Hello, %s!", "world")
logf("Goodbye", prefix = function() "", sep1 = "", end = "!\n")
local({
     opts &lt;- options(toscutil.logf.prefix = function() "LOG:", toscutil.logf.end = "\n")
     on.exit(options(opts))
     logf("Hello, %s!", "world")
})
</code></pre>

<hr>
<h2 id='named'>Create automatically named List</h2><span id='topic+named'></span>

<h3>Description</h3>

<p>Like normal <code>list()</code>, except that unnamed elements are automatically named according to their symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>named(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="named_+3A_...">...</code></td>
<td>
<p>List elements</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of type <code>list</code> with names attribute set
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+list">list()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- 1:10
b &lt;- "helloworld"
l1 &lt;- list(a, b)
names(l1) &lt;- c("a", "b")
l2 &lt;- named(a, b)
stopifnot(identical(l1, l2))
l3 &lt;- list(z = a, b = b)
l4 &lt;- named(z = a, b)
stopifnot(identical(l3, l4))
</code></pre>

<hr>
<h2 id='norm_path'>Return Normalized Path</h2><span id='topic+norm_path'></span>

<h3>Description</h3>

<p>Shortcut for <code>normalizePath(file.path(...), winslash = sep, mustWork = FALSE)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>norm_path(..., sep = "/")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="norm_path_+3A_...">...</code></td>
<td>
<p>Parts used to construct the path</p>
</td></tr>
<tr><td><code id="norm_path_+3A_sep">sep</code></td>
<td>
<p>Path separator to be used on Windows</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Normalized path constructed from ...
</p>


<h3>Examples</h3>

<pre><code class='language-R'>norm_path("C:/Users/max", "a\\b", "c") # returns C:/Users/max/a/b/c
norm_path("a\\b", "c") # return &lt;current-working-dir&gt;/a/b/c
</code></pre>

<hr>
<h2 id='now'>Get Current Date and Time as String</h2><span id='topic+now'></span><span id='topic+now_ms'></span>

<h3>Description</h3>

<p>Returns the current system time as a string in the format <code style="white-space: pre;">&#8288;YYYY-MM-DD hh:mm:ss[.XX][ TZ]&#8288;</code>. Square brackets indicate optional parts of the string, 'XX' stands for milliseconds and 'TZ' for 'Timezone'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>now(usetz = TRUE, color = NULL, digits.sec = 0)

now_ms(usetz = TRUE, color = NULL, digits.sec = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="now_+3A_usetz">usetz</code></td>
<td>
<p>Logical, indicating whether to include the timezone in the output.</p>
</td></tr>
<tr><td><code id="now_+3A_color">color</code></td>
<td>
<p>Optional color to use for the timestamp. This parameter is only effective if the output is directed to a terminal that supports color, which is checked via <code>isatty(stdout())</code>.</p>
</td></tr>
<tr><td><code id="now_+3A_digits.sec">digits.sec</code></td>
<td>
<p>Integer, the number of digits to include for seconds. Default is 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>now</code>, the current system time as a string in the format <code style="white-space: pre;">&#8288;YYYY-MM-DD hh:mm:ss TZ&#8288;</code>.
For <code>now_ms</code>, the format is <code style="white-space: pre;">&#8288;YYYY-MM-DD hh:mm:ss.XX TZ&#8288;</code>, where XX represents milliseconds.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Sys.time">Sys.time()</a></code>, <code><a href="base.html#topic+format.POSIXct">format.POSIXct()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>now()                   # "2021-11-27 19:19:31 CEST"
now_ms()                # "2022-06-30 07:14:26.82 CEST"
now(usetz = FALSE)      # "2022-06-30 07:14:26.82"
now(color = fg$GREY)    # "\033[1;30m2024-06-27 14:41:20 CEST\033[0m"
</code></pre>

<hr>
<h2 id='op-null-default'>Return Default if None</h2><span id='topic+op-null-default'></span><span id='topic++25none+25'></span>

<h3>Description</h3>

<p>Like <code><a href="rlang.html#topic+op-null-default">rlang::%||%()</a></code> but also checks for empty lists and empty strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %none% y
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="op-null-default_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
<tr><td><code id="op-null-default_+3A_y">y</code></td>
<td>
<p>object to return if <code>is.none(x)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>y</code> if <code>is.none(x)</code> else <code>x</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+is.none">is.none()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>FALSE %none% 2 # returns 2
0 %none% 2 # returns 2
NA %none% 2 # returns 2
list() %none% 2 # returns 2
"" %none% 2 # returns 2
1 %none% 2 # returns 1
</code></pre>

<hr>
<h2 id='predict.numeric'>Predict Method for Numeric Vectors</h2><span id='topic+predict.numeric'></span>

<h3>Description</h3>

<p>Interprets the provided numeric vector as linear model and uses
it to generate predictions. If an element of the numeric vector has the name
<code>"Intercept"</code> this element is treated as the intercept of the linear model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'numeric'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.numeric_+3A_object">object</code></td>
<td>
<p>Named numeric vector of beta values. If an element is named
&quot;Intercept&quot;, that element is interpreted as model intercept.</p>
</td></tr>
<tr><td><code id="predict.numeric_+3A_newdata">newdata</code></td>
<td>
<p>Matrix with samples as rows and features as columns.</p>
</td></tr>
<tr><td><code id="predict.numeric_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named numeric vector of predicted scores
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X &lt;- matrix(1:4, 2, 2, dimnames = list(c("s1", "s2"), c("a", "b")))
b &lt;- c(Intercept = 3, a = 2, b = 1)
predict(b, X)
</code></pre>

<hr>
<h2 id='read_description_file'>Read DESCRIPTION File into a List</h2><span id='topic+read_description_file'></span>

<h3>Description</h3>

<p>Reads the DESCRIPTION file of an R package and converts it into a list where each element corresponds to a field in the DESCRIPTION file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_description_file(p = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_description_file_+3A_p">p</code></td>
<td>
<p>The path to the DESCRIPTION file. If <code>NULL</code>, the function attempts to find the DESCRIPTION file by searching upwards from the current directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list where each element is a field from the DESCRIPTION file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read DECRIPTION file from a specific path
graphics_pkg_dir &lt;- system.file(package = "graphics")
graphics_pkg_descfile &lt;- find_description_file(graphics_pkg_dir)
desc_list &lt;- read_description_file(graphics_pkg_descfile)
str(desc_list)

## Not run: 
# Below example will only work if executed from a package directory
read_description_file()

## End(Not run)
</code></pre>

<hr>
<h2 id='rm_all'>Remove all objects from global environment</h2><span id='topic+rm_all'></span>

<h3>Description</h3>

<p>Same as <code>rm(list=ls())</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_all()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: rm_all()
</code></pre>

<hr>
<h2 id='split_docstring'>Split a docstring into a Head, Param and Tail Part</h2><span id='topic+split_docstring'></span>

<h3>Description</h3>

<p>Split a docstring into a head, param and tail part.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_docstring(docstring)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="split_docstring_+3A_docstring">docstring</code></td>
<td>
<p>Docstring of a R function as string, i.e. as character
vector of length 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with 3 elements: head, param and tail.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>uri &lt;- system.file("testfiles/funcs.R", package = "toscutil")
func &lt;- "f4"
content &lt;- readLines(uri)
docstring &lt;- get_docstring(content, func)
split_docstring(docstring)
</code></pre>

<hr>
<h2 id='stub'>Stub Function Arguments</h2><span id='topic+stub'></span>

<h3>Description</h3>

<p><code>stub()</code> assigns all arguments of a given function as symbols
to the specified environment (usually the current environment)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stub(func, ..., envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stub_+3A_func">func</code></td>
<td>
<p>function for which the arguments should be stubbed</p>
</td></tr>
<tr><td><code id="stub_+3A_...">...</code></td>
<td>
<p>non-default arguments of <code>func</code></p>
</td></tr>
<tr><td><code id="stub_+3A_envir">envir</code></td>
<td>
<p>environment to which symbols should be assigned</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stub is thought to be used for interactive testing and unit testing.
It does not work for primitive functions.
</p>


<h3>Value</h3>

<p>list of symbols that are assigned to <code>envir</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- function(x, y = 2, z = 3) x + y + z
args &lt;- stub(f, x = 1) # assigns x = 1, y = 2 and z = 3 to current env
</code></pre>

<hr>
<h2 id='sys.exit'>Terminate a non-interactive R Session</h2><span id='topic+sys.exit'></span>

<h3>Description</h3>

<p>Similar to python's <a href="https://docs.python.org/3/library/sys.html?highlight=exit#sys.exit">sys.exit</a>. If used interactively, code execution is stopped with an error message, giving the provided status code. If used non-interactively (e.g. through Rscript), code execution is stopped silently and the process exits with the provided status code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sys.exit(status = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sys.exit_+3A_status">status</code></td>
<td>
<p>exitcode for R process</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (!file.exists("some.file")) {
    cat("Error: some.file does not exist.\n", file = stderr())
    sys.exit(1)
} else if (Sys.getenv("IMPORTANT_ENV") == "") {
    cat("Error: IMPORTANT_ENV not set.\n", file = stderr())
    sys.exit(2)
} else {
    cat("Everything good. Starting calculations...")
    # ...
    cat("Finished with success!")
    sys.exit(0)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='trace_package'>Traces function calls from a package</h2><span id='topic+trace_package'></span>

<h3>Description</h3>

<p>Traces all function calls from a package and writes them to <code>file</code> with timestamps and callstack depth. Should always be used in combination with <code><a href="#topic+untrace_package">untrace_package()</a></code> to untrace the package after use. For example <code style="white-space: pre;">&#8288;trace_package("graphics"); on.exit(untrace_package("graphics")&#8288;</code>. See examples for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trace_package(
  pkg,
  file = stdout(),
  max = Inf,
  funign = character(),
  opsign = TRUE,
  dotign = TRUE,
  silent = TRUE,
  exitmsg = "exit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trace_package_+3A_pkg">pkg</code></td>
<td>
<p>Package name to trace.</p>
</td></tr>
<tr><td><code id="trace_package_+3A_file">file</code></td>
<td>
<p>File to write to.</p>
</td></tr>
<tr><td><code id="trace_package_+3A_max">max</code></td>
<td>
<p>Maximum depth of callstack to print.</p>
</td></tr>
<tr><td><code id="trace_package_+3A_funign">funign</code></td>
<td>
<p>Functions to ignore.</p>
</td></tr>
<tr><td><code id="trace_package_+3A_opsign">opsign</code></td>
<td>
<p>Whether to ignore operators.</p>
</td></tr>
<tr><td><code id="trace_package_+3A_dotign">dotign</code></td>
<td>
<p>Whether to ignore functions starting with a dot.</p>
</td></tr>
<tr><td><code id="trace_package_+3A_silent">silent</code></td>
<td>
<p>Whether to suppress messages.</p>
</td></tr>
<tr><td><code id="trace_package_+3A_exitmsg">exitmsg</code></td>
<td>
<p>Message to print on function exits.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some function define their own <code><a href="base.html#topic+on.exit">on.exit()</a></code> handlers with option <code>add = FALSE</code>. For those functions, exit tracing is impossible (as described in <code><a href="base.html#topic+trace">trace()</a></code>). For now those functions have to be detected and ignored manually by the user using argument <code>funign</code>.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>See Also</h3>

<p><code><a href="#topic+untrace_package">untrace_package()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Trace all function from the graphics package, except for `plot.default`
# as it defines its own on.exit() handler, i.e. exit tracing is impossible.
local({
    trace_package("graphics", funign = "plot.default")
    on.exit(untrace_package("graphics"), add = TRUE)
    plot(1:10)
})

## End(Not run)
</code></pre>

<hr>
<h2 id='untrace_package'>Untraces function calls from a package</h2><span id='topic+untrace_package'></span>

<h3>Description</h3>

<p>Removes tracing from all function calls in a package that were previously traced by <code><a href="#topic+trace_package">trace_package()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>untrace_package(pkg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="untrace_package_+3A_pkg">pkg</code></td>
<td>
<p>Package name to untrace.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function reverses the effects of <code>trace_package</code> by removing all tracing from the specified package's functions.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>See Also</h3>

<p><code><a href="#topic+trace_package">trace_package()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
local({
    trace_package("graphics", funign = "plot.default")
    on.exit(untrace_package("graphics"), add = TRUE)
    plot(1:10)
})

## End(Not run)
</code></pre>

<hr>
<h2 id='update_docstring'>Update docstring for a Function</h2><span id='topic+update_docstring'></span>

<h3>Description</h3>

<p>The <a href="https://roxygen2.r-lib.org/">roxygen2</a> package makes it
possible to write documentation for R functions directly above the
corresponding function. This function can be used to update the parameter
list of a documentation string (docstring) of a valid function of a valid R
file. The update is done by comparing the currently listed parameters with
the actual function parameters. Outdated parameters are removed and missing
parameters are added to the docstring.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_docstring(uri, func, content = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_docstring_+3A_uri">uri</code></td>
<td>
<p>Path to R file.</p>
</td></tr>
<tr><td><code id="update_docstring_+3A_func">func</code></td>
<td>
<p>Function name. If a function is defined multiple times inside the
provided file, only the last occurence will be considered.</p>
</td></tr>
<tr><td><code id="update_docstring_+3A_content">content</code></td>
<td>
<p>R code as string. If provided, uri is ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1 containing the updated docstring.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>uri &lt;- system.file("testfiles/funcs.R", package = "toscutil")
func &lt;- "f4"
update_docstring(uri, func)
</code></pre>

<hr>
<h2 id='xdg_config_home'>Get XDG_CONFIG_HOME</h2><span id='topic+xdg_config_home'></span>

<h3>Description</h3>

<p>Return value for XDG_CONFIG_HOME as defined by the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xdg_config_home(sep = "/", fallback = normalizePath(getwd(), winslash = sep))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xdg_config_home_+3A_sep">sep</code></td>
<td>
<p>Path separator to be used on Windows</p>
</td></tr>
<tr><td><code id="xdg_config_home_+3A_fallback">fallback</code></td>
<td>
<p>Value to return as fallback (see details)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The following algorithm is used to determine the returned path:
</p>

<ol>
<li><p> If environment variable (EV) <code>XDG_CONFIG_HOME</code> exists, return its value
</p>
</li>
<li><p> Else, if EV <code>HOME</code> exists, return <code style="white-space: pre;">&#8288;$HOME/.config&#8288;</code>
</p>
</li>
<li><p> Else, if EV <code>USERPROFILE</code> exists, return <code style="white-space: pre;">&#8288;$USERPROFILE/.config&#8288;</code>
</p>
</li>
<li><p> Else, return <code style="white-space: pre;">&#8288;$fallback&#8288;</code>
</p>
</li></ol>



<h3>See Also</h3>

<p><code><a href="#topic+xdg_data_home">xdg_data_home()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xdg_config_home()
</code></pre>

<hr>
<h2 id='xdg_data_home'>Get XDG_DATA_HOME</h2><span id='topic+xdg_data_home'></span>

<h3>Description</h3>

<p>Return value for XDG_DATA_HOME as defined by the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xdg_data_home(sep = "/", fallback = normalizePath(getwd(), winslash = sep))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xdg_data_home_+3A_sep">sep</code></td>
<td>
<p>Path separator to be used on Windows</p>
</td></tr>
<tr><td><code id="xdg_data_home_+3A_fallback">fallback</code></td>
<td>
<p>Value to return as fallback (see details)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The following algorithm is used to determine the returned path:
</p>

<ol>
<li><p> If environment variable (EV) <code style="white-space: pre;">&#8288;$XDG_DATA_HOME&#8288;</code> exists, return its value
</p>
</li>
<li><p> Else, if EV <code style="white-space: pre;">&#8288;$HOME&#8288;</code> exists, return <code style="white-space: pre;">&#8288;$HOME/.local/share&#8288;</code>
</p>
</li>
<li><p> Else, if EV <code style="white-space: pre;">&#8288;$USERPROFILE&#8288;</code> exists, return <code style="white-space: pre;">&#8288;$USERPROFILE/.local/share&#8288;</code>
</p>
</li>
<li><p> Else, return <code style="white-space: pre;">&#8288;$fallback&#8288;</code>
</p>
</li></ol>



<h3>See Also</h3>

<p><code><a href="#topic+xdg_config_home">xdg_config_home()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xdg_data_home()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ei</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ei}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bounds1'>
<p>Computes Analytical Bounds from Accounting Identity</p></a></li>
<li><a href='#census1910'><p>Black Literacy in 1910</p></a></li>
<li><a href='#ei'>
<p>Ecological Inference Estimation</p></a></li>
<li><a href='#ei.sim'>
<p>Simulate EI Solution via Importance Sampling</p></a></li>
<li><a href='#eiread'>
<p>Quantities of Interest from Ecological Inference Estimation</p></a></li>
<li><a href='#eiRxCsample'><p>A Sample Dataset</p></a></li>
<li><a href='#fultongen'><p>Voter Transitions</p></a></li>
<li><a href='#lavoteall'><p>Turnout by Race in Louisiana</p></a></li>
<li><a href='#matproii'><p>Voter Registration by Race in Southern States</p></a></li>
<li><a href='#nj'><p>Nonminority Turnout in New Jersey</p></a></li>
<li><a href='#plot.ei'>
<p>Plotting Ecological Inference Estimates</p></a></li>
<li><a href='#RxCdata'><p>Sample Dataset</p></a></li>
<li><a href='#sample'><p>Sample Data for Black Votes</p></a></li>
<li><a href='#summary.ei'>
<p>Summarize Ecological Inference Estimates</p></a></li>
<li><a href='#tomogRxC'>
<p>Plotting Ecological Inference Estimates with eiRxC information</p></a></li>
<li><a href='#tomogRxC3d'>
<p>Plotting 2x3 Ecological Inference Estimates in 3 dimensions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.3-3</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-11-04</td>
</tr>
<tr>
<td>Title:</td>
<td>Ecological Inference</td>
</tr>
<tr>
<td>Author:</td>
<td>Gary King &lt;king@harvard.edu&gt;, Molly Roberts &lt;molly.e.roberts@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James Honaker &lt;zelig.zee@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.5.0), eiPack</td>
</tr>
<tr>
<td>Imports:</td>
<td>mvtnorm, msm, tmvtnorm, ellipse, plotrix, MASS, ucminf,
cubature, mnormt, foreach, sp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rgl</td>
</tr>
<tr>
<td>Description:</td>
<td>Software accompanying Gary King's book: A Solution to the Ecological Inference Problem. (1997). Princeton University Press. ISBN 978-0691012407. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://gking.harvard.edu/eiR">http://gking.harvard.edu/eiR</a>,
<a href="http://gking.harvard.edu/eicamera/kinroot.html">http://gking.harvard.edu/eicamera/kinroot.html</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-11-04 22:19:49 UTC; tercer</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-11-05 00:49:10</td>
</tr>
</table>
<hr>
<h2 id='bounds1'> 
Computes Analytical Bounds from Accounting Identity
</h2><span id='topic+bounds1'></span>

<h3>Description</h3>

<p>Returns analytical bounds from accounting identity on unknown table relationships beta_b, beta_w, from known, observed, table marginals, x, t (and sample size n).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bounds1(x, t, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bounds1_+3A_x">x</code></td>
<td>
<p>vector of characteristics, e.g. percentage of blacks in each district</p>
</td></tr>
<tr><td><code id="bounds1_+3A_t">t</code></td>
<td>
<p>vector of characteristics, e.g. percentage of people that voted in each district</p>
</td></tr>
<tr><td><code id="bounds1_+3A_n">n</code></td>
<td>
<p>size of each observation, e.g. number of voters in each district</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	data(census1910)
	output&lt;-bounds1(x=census1910$x, t=census1910$t, n=census1910$n)
</code></pre>

<hr>
<h2 id='census1910'>Black Literacy in 1910</h2><span id='topic+census1910'></span>

<h3>Description</h3>

<p>A dataset of aggregate literacy rates (t) and fraction of the population that is black (x), from the 1910 US Census.  Each observation represents one county.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>census1910</code></pre>


<h3>Format</h3>

<p>A data frame containing 1030 observations.</p>


<h3>Source</h3>

<p>Gary King, 1997, &quot;Replication data for: A Solution to the Ecological Inference Problem: Reconstructing Individual Behavior from Aggregate Data&quot;, http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]</p>


<h3>References</h3>

<p>Gary King. (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.  Section 13.2:241-5.
</p>
<p>Robinson, William S.  (1950).  &ldquo;Ecological Correlation and the Behavior of Individuals.&rdquo;  <em>American Sociological Review</em> 15:351-357.
</p>

<hr>
<h2 id='ei'>
Ecological Inference Estimation
</h2><span id='topic+EI'></span><span id='topic+ei'></span>

<h3>Description</h3>

<p><code>ei</code> is the main command in the package <code>EI</code>.  It gives observation-level estimates (and various related statistics) of <code class="reqn">\beta_i^b</code> and <code class="reqn">\beta_i^w</code> given variables <code class="reqn">T_i</code> and <code class="reqn">X_i</code> (<code class="reqn">i=1,...,n</code>) in this accounting identity: <code class="reqn">T_i=\beta_i^b*X_i + \beta_i^w*(1-X_i)</code>.  Results are stored in an <code>ei</code> object, that can be read with <code>summary()</code> or <code>eiread()</code> and graphed in <code>plot()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ei(formula, total = NULL, Zb = 1, Zw = 1, id = NA, data =NA, erho = 0.5, 
esigma = 0.5, ebeta = 0.5, ealphab = NA, ealphaw = NA, truth = NA, 
simulate = TRUE, covariate = NULL, lambda1 = 4, lambda2 = 2, 
covariate.prior.list = NULL, tune.list = NULL, start.list = NULL, 
sample = 1000, thin = 1, burnin = 1000, verbose = 0, ret.beta = "r", 
ret.mcmc = TRUE, usrfun = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ei_+3A_formula">formula</code></td>
<td>
<p>A formula of the form <code class="reqn">t ~x</code> in the <code class="reqn">2x2</code>
case and <code class="reqn">cbind(col1,col2,...) ~ cbind(row1,row2,...)</code> in
the RxC case.</p>
</td></tr>
<tr><td><code id="ei_+3A_total">total</code></td>
<td>
<p>&lsquo;total&rsquo; is the name of the variable in the dataset that
contains the number of individuals in each unit</p>
</td></tr>
<tr><td><code id="ei_+3A_zb">Zb</code></td>
<td>

<p><code class="reqn">p</code> x <code class="reqn">k^b</code> matrix of covariates or the name of covariates in
the dataset</p>
</td></tr>
<tr><td><code id="ei_+3A_zw">Zw</code></td>
<td>

<p><code class="reqn">p</code> x <code class="reqn">k^w</code> matrix of covariates or the name of covariates in
the dataset</p>
</td></tr>
<tr><td><code id="ei_+3A_id">id</code></td>
<td>
<p>&lsquo;id&rsquo; is the nae of the variable in the dataset that
identifies the precinct. Used for &lsquo;movie&rsquo; and &lsquo;movieD&rsquo; plot functions.</p>
</td></tr>
<tr><td><code id="ei_+3A_data">data</code></td>
<td>
<p> data frame that contains the variables that
correspond to formula.  If using covariates and data is specified, data should also contain <code>Zb</code> and <code>Zw</code>.</p>
</td></tr>
<tr><td><code id="ei_+3A_erho">erho</code></td>
<td>
<p>The standard deviation of the normal prior on <code class="reqn">\phi_5</code> for the correlation. Default <code class="reqn">=0.5</code>.</p>
</td></tr>
<tr><td><code id="ei_+3A_esigma">esigma</code></td>
<td>
<p>The standard deviation of an underlying normal distribution, from which a half normal is constructed as a prior for both <code class="reqn">\breve{\sigma}_b</code> and <code class="reqn">\breve{\sigma}_w</code>. Default <code class="reqn">= 0.5</code></p>
</td></tr>
<tr><td><code id="ei_+3A_ebeta">ebeta</code></td>
<td>
<p>Standard deviation of the &quot;flat normal&quot; prior on <code class="reqn">\breve{B}^b</code> and <code class="reqn">\breve{B}^w</code>.  The flat normal prior is uniform within the unit square and dropping outside the square according to the normal distribution.  Set to zero for no prior. Setting to positive values probabilistically keeps the estimated mode within the unit square. Default<code class="reqn">=0.5</code></p>
</td></tr>
<tr><td><code id="ei_+3A_ealphab">ealphab</code></td>
<td>
<p>cols(Zb) x 2 matrix of means (in the first column) and standard deviations (in the second) of an independent normal prior distribution on elements of <code class="reqn">\alpha^b</code>.  If you specify Zb, you should probably specify a prior, at least with mean zero and some variance (default is no prior).  (See Equation 9.2, page 170, to interpret <code class="reqn">\alpha^b</code>).</p>
</td></tr>
<tr><td><code id="ei_+3A_ealphaw">ealphaw</code></td>
<td>
<p>cols(Zw) x 2 matrix of means (in the first column) and standard deviations (in the second) of an independent normal prior distribution on elements of <code class="reqn">\alpha^w</code>.  If you specify Zw, you should probably specify a prior, at least with mean zero and some variance (default is no prior).  (See Equation 9.2, page 170, to interpret <code class="reqn">\alpha^w</code>).</p>
</td></tr>
<tr><td><code id="ei_+3A_truth">truth</code></td>
<td>
<p>A length(t) x 2 matrix of the true values of the quantities of interest.</p>
</td></tr>
<tr><td><code id="ei_+3A_simulate">simulate</code></td>
<td>
<p>default = TRUE:see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_covariate">covariate</code></td>
<td>
<p>see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_lambda1">lambda1</code></td>
<td>
<p>default = 4:see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_lambda2">lambda2</code></td>
<td>
<p>default = 2:see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_covariate.prior.list">covariate.prior.list</code></td>
<td>
<p>see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_tune.list">tune.list</code></td>
<td>
<p>see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_start.list">start.list</code></td>
<td>
<p>see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_sample">sample</code></td>
<td>
<p>default = 1000</p>
</td></tr>
<tr><td><code id="ei_+3A_thin">thin</code></td>
<td>
<p>default = 1</p>
</td></tr>
<tr><td><code id="ei_+3A_burnin">burnin</code></td>
<td>
<p>default = 1000</p>
</td></tr>
<tr><td><code id="ei_+3A_verbose">verbose</code></td>
<td>
<p>default = 0:see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_ret.beta">ret.beta</code></td>
<td>
<p>default = &quot;r&quot;: see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_ret.mcmc">ret.mcmc</code></td>
<td>
<p>default = TRUE: see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
<tr><td><code id="ei_+3A_usrfun">usrfun</code></td>
<td>
<p>see documentation in <code>eiPack</code> for options for
RxC ei.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>EI</code> algorithm is run using the <code>ei</code> command.  A summary of the results can be seen graphically using <code>plot(ei.object)</code> or numerically using <code>summary(ei.object)</code>.  Quantities of interest can be calculated using <code>eiread(ei.object)</code>.
</p>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sample)
form &lt;- t ~ x
dbuf &lt;- ei(form,total="n",data=sample)
summary(dbuf)
</code></pre>

<hr>
<h2 id='ei.sim'> 
Simulate EI Solution via Importance Sampling
</h2><span id='topic+ei.sim'></span>

<h3>Description</h3>

<p>Simulate EI solution via importance sampling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ei.sim(ei.object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ei.sim_+3A_ei.object">ei.object</code></td>
<td>
<p><code>ei</code> object</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>

<hr>
<h2 id='eiread'>
Quantities of Interest from Ecological Inference Estimation
</h2><span id='topic+eiread'></span>

<h3>Description</h3>

<p><code>eiread</code> is the command that pulls quantities of interest from the <code>ei</code> object.  The command returns a list of quantities of interest requested by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eiread(ei.object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eiread_+3A_ei.object">ei.object</code></td>
<td>
<p>An <code>ei</code> object from the function <code>ei</code>.</p>
</td></tr>
<tr><td><code id="eiread_+3A_...">...</code></td>
<td>
<p>A list of quantities of interest for <code>eiread()</code> to return.  See values below.</p>
</td></tr> 
</table>


<h3>Value</h3>

<table>
<tr><td><code>betab</code></td>
<td>
<p><code class="reqn">p</code> x <code class="reqn">1</code> point estimate of <code class="reqn">\beta_i^b</code> based on its mean posterior.  See section 8.2</p>
</td></tr>
<tr><td><code>betaw</code></td>
<td>
<p><code class="reqn">p</code> x <code class="reqn">1</code> point estimate of <code class="reqn">\beta_i^w</code> based on its mean posterior.  See section 8.2</p>
</td></tr>
<tr><td><code>sbetab</code></td>
<td>
<p><code class="reqn">p</code> x <code class="reqn">1</code> standard error for the estimate of <code class="reqn">\beta_i^b</code>, based on the standard deviation of its posterior.  See section 8.2</p>
</td></tr>
<tr><td><code>sbetaw</code></td>
<td>
<p><code class="reqn">p</code> x <code class="reqn">1</code> standard error for the estimate of <code class="reqn">\beta_i^w</code>, based on the standard deviation of its posterior.  See section 8.2</p>
</td></tr>
<tr><td><code>phi</code></td>
<td>
<p>Maximum posterior estimates of the CML</p>
</td></tr>
<tr><td><code>psisims</code></td>
<td>
<p>Matrix of random simulations of <code class="reqn">\psi</code>.  See section 8.2</p>
</td></tr>
<tr><td><code>bounds</code></td>
<td>
<p><code class="reqn">p</code> x <code class="reqn">4</code>: bounds on <code class="reqn">\beta_i^b</code> and <code class="reqn">\beta_i^w</code>, lowerB ~ upperB ~ lowerW ~ upperW.  See Chapter 5.</p>
</td></tr>
<tr><td><code>abounds</code></td>
<td>
<p><code class="reqn">2</code> x <code class="reqn">2</code>: aggregate bounds rows:lower, upper; columns: betab, betaw.  See Chapter 5.</p>
</td></tr>
<tr><td><code>aggs</code></td>
<td>
<p>Simulations of district-level quantities of interest <code class="reqn">\hat{B^b}</code> and <code class="reqn">\hat{B^w}</code>.  See Section 8.3.</p>
</td></tr>
<tr><td><code>maggs</code></td>
<td>
<p>Point estimate of 2 district-level parameters, <code class="reqn">\hat{B^b}</code> and <code class="reqn">\hat{B^w}</code> based on the mean of aggs.  See Section 8.3.</p>
</td></tr>
<tr><td><code>VCaggs</code></td>
<td>
<p>Variance matrix of 2 district-level parameters, <code class="reqn">\hat{B^b}</code> and <code class="reqn">\hat{B^w}</code>.  See Section 8.3.</p>
</td></tr>
<tr><td><code>CI80b</code></td>
<td>
<p><code class="reqn">p</code> x <code class="reqn">2</code>: lower~upper <code class="reqn">80\%</code>
confidence intervals for <code class="reqn">\beta_i^b</code>.  See section 8.2.</p>
</td></tr>
<tr><td><code>CI80w</code></td>
<td>
<p><code class="reqn">p</code> x <code class="reqn">2</code>: lower~upper <code class="reqn">80\%</code> confidence intervals for <code class="reqn">\beta_i^w</code>.  See section 8.2.</p>
</td></tr>
<tr><td><code>eaggbias</code></td>
<td>
<p>Regressions of estimated <code class="reqn">\beta_i^b</code> and <code class="reqn">\beta_i^w</code> on a constant term and <code class="reqn">X_i</code>.</p>
</td></tr>
<tr><td><code>goodman</code></td>
<td>
<p>Goodman's Regression.  See Section 3.1</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sample)
formula = t ~ x
dbuf &lt;- ei(formula=formula, total="n",data=sample)
eiread(dbuf, "phi")
eiread(dbuf, "betab", "betaw")
</code></pre>

<hr>
<h2 id='eiRxCsample'>A Sample Dataset</h2><span id='topic+eiRxCsample'></span>

<h3>Description</h3>

<p>A description for this dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eiRxCsample</code></pre>


<h3>Format</h3>

<p>A data frame containing 93 observations.</p>


<h3>Source</h3>

<p>Source</p>


<h3>References</h3>

<p>Gary King (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.
</p>

<hr>
<h2 id='fultongen'>Voter Transitions</h2><span id='topic+fultongen'></span>

<h3>Description</h3>

<p>Aggregated data from 289 precincts in Fulton County, Georgia.  The variable <code>t</code> represents the fraction voting in 1994 and <code>x</code> the fraction in 1992.  Beta_b is then the fraction who vote in both elections, and Beta_w the fraction of nonvoters in 1992 who vote in the midterm election of 1994.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fultongen</code></pre>


<h3>Format</h3>

<p>A data frame containing 289 observations.</p>


<h3>Source</h3>

<p>Gary King, 1997, &quot;Replication data for: A Solution to the Ecological Inference Problem: Reconstructing Individual Behavior from Aggregate Data&quot;, http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]</p>


<h3>References</h3>

<p>Gary King (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.  Section 13.1:235-41.
</p>

<hr>
<h2 id='lavoteall'>Turnout by Race in Louisiana</h2><span id='topic+lavoteall'></span>

<h3>Description</h3>

<p>The fraction of blacks registered voters (x) and fraction of voter turnout (t) in each Louisiana precinct, along with the true fraction of black turnout (tb) and non-black turnout (tw).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lavoteall</code></pre>


<h3>Format</h3>

<p>A data frame containing 3262 observations.</p>


<h3>Source</h3>

<p>Gary King, 1997, &quot;Replication data for: A Solution to the Ecological Inference Problem: Reconstructing Individual Behavior from Aggregate Data&quot;, http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]</p>


<h3>References</h3>

<p>Gary King (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.  Section 1.4:22-4.
</p>

<hr>
<h2 id='matproii'>Voter Registration by Race in Southern States</h2><span id='topic+matproii'></span>

<h3>Description</h3>

<p>Aggregate voter registration and fraction black, in counties in Florida, Louisiana, North Carolina and South Carolina
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matproii</code></pre>


<h3>Format</h3>

<p>A data frame containing 268 observations.</p>


<h3>Source</h3>

<p>Gary King, 1997, &quot;Replication data for: A Solution to the Ecological Inference Problem: Reconstructing Individual Behavior from Aggregate Data&quot;, http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]</p>


<h3>References</h3>

<p>Gary King (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.  Chapter 10.
</p>

<hr>
<h2 id='nj'>Nonminority Turnout in New Jersey</h2><span id='topic+nj'></span>

<h3>Description</h3>

<p>A description for this dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nj</code></pre>


<h3>Format</h3>

<p>A data frame containing 493 observations.</p>


<h3>Source</h3>

<p>Gary King, 1997, &quot;Replication data for: A Solution to the Ecological Inference Problem: Reconstructing Individual Behavior from Aggregate Data&quot;, http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]</p>


<h3>References</h3>

<p>Gary King (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.  Section 1.4:24-5.
</p>

<hr>
<h2 id='plot.ei'>
Plotting Ecological Inference Estimates
</h2><span id='topic+plot.ei'></span>

<h3>Description</h3>

<p>&lsquo;plot&rsquo; method for the class &lsquo;ei&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ei'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.ei_+3A_x">x</code></td>
<td>
<p>An <code>ei</code> object from the function <code>ei</code>.</p>
</td></tr>
<tr><td><code id="plot.ei_+3A_...">...</code></td>
<td>
<p>A list of options to return in graphs.  See values below.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Returns any of a set of possible graphical objects, mirroring those in the examples in King (1997).
Graphical option <code>lci</code> is a logical value specifying the use of the Law of Conservation of Ink, where the implicit information in the data is represented through color gradients, i.e. the color of the line is a function of the length of the tomography line.  This can be passed as an argument and is used for &ldquo;tomogD&rdquo; and &ldquo;tomog&rdquo; plots.
</p>


<h3>Value</h3>

<table>
<tr><td><code>tomogD</code></td>
<td>
<p>Tomography plot with the data only.  See Figure 5.1, page 81.</p>
</td></tr>
<tr><td><code>tomog</code></td>
<td>
<p>Tomography plot with ML contours.  See Figure 10.2, page 204.</p>
</td></tr>
<tr><td><code>tomogCI</code></td>
<td>
<p>Tomography plot with <code class="reqn">80\%</code> confidence intervals.  Confidence intervals appear on the screen in red with the remainder of the tomography line in yellow.  The confidence interval portion is also printed thicker than the rest of the line.  See Figure 9.5, page 179.</p>
</td></tr>
<tr><td><code>tomogCI95</code></td>
<td>
<p>Tomography plot with <code class="reqn">95\%</code> confidence intervals.  Confidence intervals appear on the screen in red with the remainder of the tomography line in yellow.  The confidence interval portion is also printed thicker than the rest of the line.  See Figure 9.5, page 179.</p>
</td></tr>
<tr><td><code>tomogE</code></td>
<td>
<p>Tomography plot with estimated mean posterior <code class="reqn">\beta_i^b</code> and <code class="reqn">\beta_i^w</code> points.</p>
</td></tr>
<tr><td><code>tomogP</code></td>
<td>
<p>Tomography plot with mean posterior contours.</p>
</td></tr>
<tr><td><code>betab</code></td>
<td>
<p>Density estimate (i.e., a smooth version of a histogram) of point estimates of <code class="reqn">\beta_i^b</code>'s with whiskers.</p>
</td></tr> 
<tr><td><code>betaw</code></td>
<td>
<p>Density estimate (i.e., a smooth version of a histogram) of point estimates of <code class="reqn">\beta_i^w</code>'s with whiskers.</p>
</td></tr> 
<tr><td><code>xt</code></td>
<td>
<p>Basic <code class="reqn">X_i</code> by <code class="reqn">T_i</code> scatterplot.</p>
</td></tr>
<tr><td><code>xtc</code></td>
<td>
<p>Basic <code class="reqn">X_i</code> by <code class="reqn">T_i</code> scatterplot with circles sized proportional to <code class="reqn">N_i</code>.</p>
</td></tr>
<tr><td><code>xtfit</code></td>
<td>
<p><code class="reqn">X_i</code> by <code class="reqn">T_i</code> plot with estimated <code class="reqn">E(T_i|X_i)</code> and conditional <code class="reqn">80\%</code> confidence intervals.  See Figure 10.3, page 206.</p>
</td></tr>
<tr><td><code>xtfitg</code></td>
<td>
<p><code>xtfit</code> with Goodman's regression line superimposed.</p>
</td></tr>
<tr><td><code>estsims</code></td>
<td>
<p>All the simulated <code class="reqn">\beta_i^b</code>'s by all the simulated <code class="reqn">\beta_i^w</code>'s.  The simulations should take roughly the same shape of the mean posterior contours, except for those sampled from outlier tomography lines.</p>
</td></tr>
<tr><td><code>boundXb</code></td>
<td>
<p><code class="reqn">X_i</code> by the bounds on <code class="reqn">\beta_i^b</code> (each precinct appears as one vertical line), see the lines in the left graph in Figure 13.2, page 238.</p>
</td></tr>
<tr><td><code>boundXw</code></td>
<td>
<p><code class="reqn">X_i</code> by the bounds on <code class="reqn">\beta_i^w</code> (each precinct appears as one vertical line), see the lines in the right graph in Figure 13.2, page 238.</p>
</td></tr>
<tr><td><code>truth</code></td>
<td>
<p>Compares truth to estimates at the district and precinct-level.  Requires <code>truth</code> in the <code>ei</code> object.  See Figures 10.4 (page 208) and 10.5 (page 210).</p>
</td></tr>
<tr><td><code>movieD</code></td>
<td>
<p>For each observation, one tomography plot appears with the line for the particular observation darkened.  After the graph for each observation appears, the user can choose to view the next observation (hit return), jump to a specific observation number (type in the number and hit return), or stop (hit &quot;s&quot; and return).</p>
</td></tr>
<tr><td><code>movie</code></td>
<td>
<p>For each observation, one page of graphics appears with
the posterior distribution of <code class="reqn">\beta_i^b</code> and <code class="reqn">\beta_i^w</code>
and a plot of the simulated values of  <code class="reqn">\beta_i^b</code> and
<code class="reqn">\beta_i^w</code> from the tomography line.  The user can choose to
view the next observation (hit return), jump to a specific
observation number (type in the number and hit return), or stop (hit
&ldquo;s&quot; and return).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sample)
formula = t ~ x
dbuf &lt;- ei(formula=formula, total="n",data=sample)
plot(dbuf, "tomog")
plot(dbuf, "tomog", "betab", "betaw", "xtfit")
</code></pre>

<hr>
<h2 id='RxCdata'>Sample Dataset</h2><span id='topic+RxCdata'></span>

<h3>Description</h3>

<p>A description for this dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RxCdata</code></pre>


<h3>Format</h3>

<p>A data frame containing 60 observations.</p>


<h3>Source</h3>

<p>Source</p>


<h3>References</h3>

<p>Gary King (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.
</p>

<hr>
<h2 id='sample'>Sample Data for Black Votes</h2><span id='topic+sample'></span>

<h3>Description</h3>

<p>A description for this dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample</code></pre>


<h3>Format</h3>

<p>A vector containing 141 observations.</p>


<h3>Source</h3>

<p>Source</p>


<h3>References</h3>

<p>Gary King (1997). <em>A Solution to the Ecological Inference Problem.</em>  Princeton: Princeton University Press.
</p>

<hr>
<h2 id='summary.ei'>
Summarize Ecological Inference Estimates
</h2><span id='topic+summary.ei'></span>

<h3>Description</h3>

<p>&lsquo;summary&rsquo; method for the class &lsquo;ei&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ei'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ei_+3A_object">object</code></td>
<td>
<p>An <code>ei</code> object from the function <code>ei</code>.</p>
</td></tr>
<tr><td><code id="summary.ei_+3A_...">...</code></td>
<td>
<p>A list of options to return in graphs.  See values below.</p>
</td></tr> 
</table>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sample)
formula = t ~ x
dbuf &lt;- ei(formula=formula, total="n",data=sample)
print(summary(dbuf))
</code></pre>

<hr>
<h2 id='tomogRxC'>
Plotting Ecological Inference Estimates with eiRxC information
</h2><span id='topic+tomogRxC'></span>

<h3>Description</h3>

<p>A tomography plot for an estimated Ecological Inference model in RxC data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tomogRxC(formula, data, total=NULL, refine=100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tomogRxC_+3A_formula">formula</code></td>
<td>
<p>A formula of the form <code>cbind(col1, col2,...)~cbind(row1,row2,...)</code></p>
</td></tr>
<tr><td><code id="tomogRxC_+3A_data">data</code></td>
<td>
<p>data that contains the data that corresponds to the
formula</p>
</td></tr>
<tr><td><code id="tomogRxC_+3A_total">total</code></td>
<td>
<p>&lsquo;total&rsquo; is the name of the variable in the dataset that
contains the number of individuals in each unit</p>
</td></tr>
<tr><td><code id="tomogRxC_+3A_refine">refine</code></td>
<td>
<p>specifies the amount of refinement for the image.  Higher
numbers mean better resolution.</p>
</td></tr> 
</table>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(RxCdata)
formula = cbind(turnout, noturnout) ~ cbind(white, black,hisp)
tomogRxC(formula, data=RxCdata)
</code></pre>

<hr>
<h2 id='tomogRxC3d'>
Plotting 2x3 Ecological Inference Estimates in 3 dimensions
</h2><span id='topic+tomogRxC3d'></span>

<h3>Description</h3>

<p>A tomography plot in 3 dimensions for RxC Ecological Inference data and an estimated Ecological Inference model in RxC data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>tomogRxC3d(formula, data, total=NULL, lci=TRUE, estimates=FALSE, ci=FALSE, level=.95, 
	seed=1234, color=hcl(h=30,c=100,l=60), transparency=.75, light=FALSE, rotate=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tomogRxC3d_+3A_formula">formula</code></td>
<td>
<p>A formula of the form <code>cbind(col1, col2,...)~cbind(row1,row2,...)</code></p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_data">data</code></td>
<td>
<p>data that contains the data that corresponds to the
formula</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_total">total</code></td>
<td>
<p>&lsquo;total&rsquo; is the name of the variable in the dataset that
contains the number of individuals in each unit</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_lci">lci</code></td>
<td>
<p>logical value specifying the use of the Law of Conservation of Ink, where the implicit information in the data is represented through color gradients, i.e. the color of the plane is a function of the area of the tomography plane.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_estimates">estimates</code></td>
<td>
<p>logical value specifying whether the point estimates of <code class="reqn">\beta</code>'s are included for each observation on the tomography plot.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_ci">ci</code></td>
<td>
<p>logical value specifying whether the estimated confidence ellipse is included on the tomography plot.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_level">level</code></td>
<td>
<p>numeric value from 0 to 1 specifying the significance level of the confidence ellipse; eg. .95 refers to 95% confidence ellipse.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_seed">seed</code></td>
<td>
<p>seed value for model estimation.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_color">color</code></td>
<td>
<p>color of tomography planes if lci=F.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_transparency">transparency</code></td>
<td>
<p>numeric value from 0 to 1 specifying transparency of tomography planes; 0 is entirely transparent.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_light">light</code></td>
<td>
<p>logical value specifying whether lights should be included in the rgl interface. The inclusion of lights will create shadows in the plot that may distort colors.</p>
</td></tr>
<tr><td><code id="tomogRxC3d_+3A_rotate">rotate</code></td>
<td>
<p>logical value specifying whether the plot will rotate for 20 seconds.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires rgl package and rgl viewer.
</p>


<h3>Author(s)</h3>

<p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt;; Molly Roberts &lt;&lt;email: molly.e.roberts@gmail.com&gt;&gt;; Soledad Prillaman &lt;&lt;email: soledadartiz@fas.harvard.edu..
</p>


<h3>References</h3>

<p>Gary King (1997). A Solution to the Ecological Inference Problem.  Princeton: Princeton University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(RxCdata)
formula &lt;- cbind(turnout, noturnout) ~ cbind(white, black, hisp)
tomogRxC3d(formula, RxCdata, total=NULL, lci=TRUE, estimates=TRUE, ci=TRUE, transparency=.5, 
	light=FALSE, rotate=FALSE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

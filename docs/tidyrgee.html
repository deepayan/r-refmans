<!DOCTYPE html><html><head><title>Help for package tidyrgee</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidyrgee}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_date_to_bandname'><p>add_date_to_band_name</p></a></li>
<li><a href='#as_ee'><p>as_ee tidyee to ee$ImageCollection or ee$Image</p></a></li>
<li><a href='#as_tidyee'><p>as_tidy_ee</p></a></li>
<li><a href='#bgd_msna'><p>A subset of question responses from the 2019 Host Community MSNA in Bangladesh</p></a></li>
<li><a href='#bind_ics'><p>bind ImageCollections</p></a></li>
<li><a href='#clip'><p>clip flexible wrapper for rgee::ee$Image$clip()</p></a></li>
<li><a href='#create_tidyee'><p>create_tidyee</p></a></li>
<li><a href='#ee_composite'><p>ee_composite</p></a></li>
<li><a href='#ee_extract_tidy'><p>ee_extract_tidy</p></a></li>
<li><a href='#ee_month_composite'><p>Pixel-level composite by month</p></a></li>
<li><a href='#ee_month_filter'><p>ee_month_filter</p></a></li>
<li><a href='#ee_year_composite'><p>Pixel level composite by year</p></a></li>
<li><a href='#ee_year_filter'><p>ee_year_filter</p></a></li>
<li><a href='#ee_year_month_composite'><p>Pixel-level composite by year and month</p></a></li>
<li><a href='#ee_year_month_filter'><p>ee_year_month_filter</p></a></li>
<li><a href='#filter'><p>filter ee$ImageCollections or tidyee objects that contain imageCollections</p></a></li>
<li><a href='#filter_bounds'><p>filter_bounds a wrapper for rgee::ee$ImageCollection$filterBounds</p></a></li>
<li><a href='#group_by'><p>Group an imageCollection or tidyee object with Imagecollections by a parameter</p></a></li>
<li><a href='#group_split'><p>filter ee$ImageCollections or tidyee objects that contain imageCollections</p></a></li>
<li><a href='#inner_join'><p>inner_join bands from different image/ImageCollections based on shared property</p></a></li>
<li><a href='#mutate'><p>mutate columns into tidyee vrt which can later be used to modify tidyee ImageCollection</p></a></li>
<li><a href='#print.tidyee'><p>print tidyee</p></a></li>
<li><a href='#select'><p>Select bands from ee$Image or ee$ImageCollection</p></a></li>
<li><a href='#set_idx'><p>set_idx</p></a></li>
<li><a href='#slice'><p>slice ee$ImageCollections or tidyee objects that contain imageCollections</p></a></li>
<li><a href='#summarise'><p>Summary pixel-level stats for ee$ImageCollection or tidyrgee objects with ImageCollections</p></a></li>
<li><a href='#ungroup'><p>ungroup</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>'tidyverse' Methods for 'Earth Engine'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides 'tidyverse' methods for wrangling
    and analyzing 'Earth Engine' <a href="https://earthengine.google.com/">https://earthengine.google.com/</a> data. These methods help the user with filtering, 
    joining and summarising 'Earth Engine' image collections.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-tidy-remote-sensing/tidyrgee">https://github.com/r-tidy-remote-sensing/tidyrgee</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-tidy-remote-sensing/tidyrgee/issues/">https://github.com/r-tidy-remote-sensing/tidyrgee/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, crayon, dplyr, glue, lubridate, purrr, readr,
reticulate (&ge; 1.24), rgee, rlang, sf, stringr, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, tibble, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-15 05:31:35 UTC; zack.arno</td>
</tr>
<tr>
<td>Author:</td>
<td>Zack Arno [aut, cre, cph],
  Josh Erickson [aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zack Arno &lt;zackarno@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-15 08:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_date_to_bandname'>add_date_to_band_name</h2><span id='topic+add_date_to_bandname'></span>

<h3>Description</h3>

<p>append date to band name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_date_to_bandname(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_date_to_bandname_+3A_x">x</code></td>
<td>
<p>ee$ImageCollection or ee$Image</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a date to band name in x.
</p>

<hr>
<h2 id='as_ee'>as_ee tidyee to ee$ImageCollection or ee$Image</h2><span id='topic+as_ee'></span>

<h3>Description</h3>

<p>as_ee tidyee to ee$ImageCollection or ee$Image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_ee(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_ee_+3A_x">x</code></td>
<td>
<p>tidyee</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ee$ImageCollection or ee$Image
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rgee)
librar(tidyee)

modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")

# create tidyee class
modis_ic_tidy &lt;- as_tidyee(modis_ic)
# convert back to origina ee$ImageCollection class
modis_ic_tidy |&gt;
  as_ee()

## End(Not run)
</code></pre>

<hr>
<h2 id='as_tidyee'>as_tidy_ee</h2><span id='topic+as_tidyee'></span>

<h3>Description</h3>

<p>The function returns a list containing the original object (Image/ImageCollection)as well
as a &quot;virtual data.frame (vrt)&quot; which is a data.frame holding key properties of the
ee$Image/ee$ImageCollection. The returned list has been assigned a new class &quot;tidyee&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_tidyee(x, time_end = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_tidyee_+3A_x">x</code></td>
<td>
<p>ee$Image or ee$ImageCollection</p>
</td></tr>
<tr><td><code id="as_tidyee_+3A_time_end">time_end</code></td>
<td>
<p><code>logical</code> include time_end (&quot;system:time_end&quot;) in vrt (default=F)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class object which contains a list with two components (&quot;x&quot;,&quot;vrt&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(tidyrgee)
library(rgee)
ee_Initialize()
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic_tidy &lt;- as_tidyee(modis_ic)



## End(Not run)
</code></pre>

<hr>
<h2 id='bgd_msna'>A subset of question responses from the 2019 Host Community MSNA in Bangladesh</h2><span id='topic+bgd_msna'></span>

<h3>Description</h3>

<p>Data frame of responses with anonymized coordinates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bgd_msna
</code></pre>


<h3>Format</h3>

<p>A data frame with 1374 rows and 15 variables:
</p>

<dl>
<dt>_uuid</dt><dd><p>unique identifier</p>
</dd>
<dt>informed_consent</dt><dd><p>informed consent</p>
</dd>
<dt>survey_date</dt><dd><p>date of survey</p>
</dd>
<dt>end_survey</dt><dd><p>date of end of survey</p>
</dd>
<dt>electricity_grid</dt><dd><p>question about electricity grid</p>
</dd>
<dt>solar_light</dt><dd><p>question about solar light</p>
</dd>
<dt>illness_HH_count</dt><dd><p>repeat group calculation on # hh members with illness in past x days</p>
</dd>
<dt>cooking_fuel/collected_firewood</dt><dd><p>select multiple response - did HH collect firewood for cooking fuel</p>
</dd>
<dt>income_source/agricultural_production_sale</dt><dd><p>income source question - ariculture</p>
</dd>
<dt>agricultural_land</dt><dd><p>question on agricultural land</p>
</dd>
<dt>employment_source/agricultural_casual</dt><dd><p>employment source - ag</p>
</dd>
<dt>employment_source/non_agricultural_casual</dt><dd><p>employment source - non-ag</p>
</dd>
<dt>employment_source/fishing</dt><dd><p>employment source - fishing</p>
</dd>
<dt>_gps_reading_longitude</dt><dd><p>longitude - jittered/anonymized</p>
</dd>
<dt>_gps_reading_latitude</dt><dd><p>latitude - jittered/anonymized</p>
</dd>
</dl>
<p>...

</p>


<h3>Value</h3>

<p>data frame
</p>

<hr>
<h2 id='bind_ics'>bind ImageCollections</h2><span id='topic+bind_ics'></span>

<h3>Description</h3>

<p>bind ImageCollections
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bind_ics(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_ics_+3A_x">x</code></td>
<td>
<p>list of tidyee objects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee object containing single image collection and vrt
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(tidyrgee)
library(rgee)
ee_Initialize()
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic_tidy &lt;- as_tidyee(modis_ic)
modis_tidy_list &lt;- modis_tidy |&gt;
group_split(month)
modis_tidy_list |&gt;
  bind_ics()

## End(Not run)

</code></pre>

<hr>
<h2 id='clip'>clip flexible wrapper for rgee::ee$Image$clip()</h2><span id='topic+clip'></span>

<h3>Description</h3>

<p>allows clipping of tidyee,ee$Imagecollection, or ee$Image classes. Also allows objects to be clipped to sf object in addition to ee$FeatureCollections/ee$Feature
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clip(x, y, return_tidyee = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clip_+3A_x">x</code></td>
<td>
<p>object to be clipped (tidyee, ee$ImageCollection, ee$Image)</p>
</td></tr>
<tr><td><code id="clip_+3A_y">y</code></td>
<td>
<p>geometry object to clip to (sf, ee$Feature,ee$FeatureCollections)</p>
</td></tr>
<tr><td><code id="clip_+3A_return_tidyee">return_tidyee</code></td>
<td>
<p><code>logical</code> return tidyee class (default = TRUE) object or ee$ImageCollection. Faster performance if F</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x as tidyee or ee$Image/ee$ImageCollection depending on <code>return_tidyee</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(tidyrgee)
library(tidyverse)
library(rgee)
rgee::ee_Initialize()

# create geometry and convert to sf
coord_tibble &lt;- tibble::tribble(
  ~X,               ~Y,
  92.2303683692011, 20.9126490153521,
  92.2311567217866, 20.9127410439304,
  92.2287527311594, 20.9124072954926,
  92.2289221219251, 20.9197352745068,
  92.238724724534, 20.9081803233546
)
sf_ob &lt;- sf::st_as_sf(coord_tibble, coords=c("X","Y"),crs=4326)

roi &lt;- ee$Geometry$Polygon(list(
  c(-114.275, 45.891),
  c(-108.275, 45.868),
  c(-108.240, 48.868),
  c(-114.240, 48.891)
))

# load landsat
ls = ee$ImageCollection("LANDSAT/LC08/C01/T1_SR")

# create tidyee class
ls_tidy &lt;-  as_tidyee(ls)

#  filter_bounds on sf object
#  return tidyee object
ls_tidy |&gt;
  filter_bounds(y = roi,return_tidyee = FALSE) |&gt;
  clip(roi,return_tidyee = FALSE)

# pretty instant with return_tidyee=FALSE
ls_clipped_roi_ic &lt;- ls_tidy |&gt;
  filter_bounds(y = roi,return_tidyee = FALSE) |&gt;
  clip(roi,return_tidyee = FALSE)

# takes more time with return_tidyee=T, but you get the vrt
ls_clipped__roi_tidyee &lt;- ls_tidy |&gt;
  filter_bounds(y = roi,return_tidyee = FALSE) |&gt;
  clip(roi,return_tidyee = TRUE)

# demonstrating on sf object
ls_clipped_sf_ob_ic &lt;- ls_tidy |&gt;
  filter_bounds(y = sf_ob,return_tidyee = FALSE) |&gt;
  clip(roi,return_tidyee = FALSE)

ls_clipped_sf_ob_tidyee &lt;- ls_tidy |&gt;
  filter_bounds(y = roi,return_tidyee = FALSE) |&gt;
  clip(roi,return_tidyee = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='create_tidyee'>create_tidyee</h2><span id='topic+create_tidyee'></span>

<h3>Description</h3>

<p>helper function to assign new tidyee when running <code>as_tidyee</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_tidyee(x, vrt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_tidyee_+3A_x">x</code></td>
<td>
<p>ee$ImageCollection</p>
</td></tr>
<tr><td><code id="create_tidyee_+3A_vrt">vrt</code></td>
<td>
<p>virtual table</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class list object
</p>

<hr>
<h2 id='ee_composite'>ee_composite</h2><span id='topic+ee_composite'></span><span id='topic+ee_composite.tidyee'></span>

<h3>Description</h3>

<p>ee_composite
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_composite(x, ...)

## S3 method for class 'tidyee'
ee_composite(x, stat, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_composite_+3A_x">x</code></td>
<td>
<p>tidyee object containing <code>ee$ImageCollection</code></p>
</td></tr>
<tr><td><code id="ee_composite_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
<tr><td><code id="ee_composite_+3A_stat">stat</code></td>
<td>
<p>A <code>character</code> indicating what to reduce the ImageCollection by,
e.g. 'median' (default), 'mean',  'max', 'min', 'sum', 'sd', 'first'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class containing <code>ee$Image</code> where all images within <code>ee$ImageCollection</code> have been aggregated based on pixel-level stats
</p>

<hr>
<h2 id='ee_extract_tidy'>ee_extract_tidy</h2><span id='topic+ee_extract_tidy'></span>

<h3>Description</h3>

<p>ee_extract_tidy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_extract_tidy(
  x,
  y,
  stat = "mean",
  scale,
  via = "getInfo",
  container = "rgee_backup",
  sf = TRUE,
  lazy = FALSE,
  quiet = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_extract_tidy_+3A_x">x</code></td>
<td>
<p>tidyee, ee$Image, or ee$ImageCollection</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_y">y</code></td>
<td>
<p>sf or ee$feature or ee$FeatureCollection</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_stat">stat</code></td>
<td>
<p>zonal stat (&quot;mean&quot;, &quot;median&quot; , &quot;min&quot;,&quot;max&quot; etc)</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_scale">scale</code></td>
<td>
<p>A nominal scale in meters of the Image projection to work in. By default 1000.</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_via">via</code></td>
<td>
<p>Character. Method to export the image. Three method are implemented: &quot;getInfo&quot;, &quot;drive&quot;, &quot;gcs&quot;.</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_container">container</code></td>
<td>
<p>Character. Name of the folder ('drive') or bucket ('gcs') to be exported into (ignore if via is not defined as &quot;drive&quot; or &quot;gcs&quot;).</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_sf">sf</code></td>
<td>
<p>Logical. Should return an sf object?</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_lazy">lazy</code></td>
<td>
<p>Logical. If TRUE, a future::sequential object is created to evaluate the task in the future. Ignore if via is set as &quot;getInfo&quot;. See details.</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_quiet">quiet</code></td>
<td>
<p>Logical. Suppress info message.</p>
</td></tr>
<tr><td><code id="ee_extract_tidy_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame in long format with point estimates for each time-step and y feature based on statistic provided
</p>


<h3>See Also</h3>

<p><code><a href="rgee.html#topic+ee_extract">ee_extract</a></code> for information about ee_extract on ee$ImageCollections and ee$Images
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rgee)
library(tidyrgee)
ee_Initizialize()
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
point_sample_buffered &lt;- tidyrgee::bgd_msna |&gt;
    sample_n(3) |&gt;
    sf::st_as_sf(coords=c("_gps_reading_longitude",
                       "_gps_reading_latitude"), crs=4326) |&gt;
    sf::st_transform(crs=32646) |&gt;
    sf::st_buffer(dist = 500) |&gt;
    dplyr::select(`_uuid`)
modis_ic_tidy &lt;- as_tidyee(modis_ic)
modis_monthly_baseline_mean &lt;- modis_ic_tidy |&gt;
 select("NDVI") |&gt;
 filter(year %in% 2000:2015) |&gt;
  group_by(month) |&gt;
 summarise(stat="mean")

ndvi_monthly_mean_at_pt&lt;- modis_monthly_baseline_mean |&gt;
   ee_extract(y = point_sample_buffered,
            fun="mean",
            scale = 500)

## End(Not run)
</code></pre>

<hr>
<h2 id='ee_month_composite'>Pixel-level composite by month</h2><span id='topic+ee_month_composite'></span><span id='topic+ee_month_composite.ee.imagecollection.ImageCollection'></span><span id='topic+ee_month_composite.tidyee'></span>

<h3>Description</h3>

<p>Pixel-level composite by month
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_month_composite(x, ...)

## S3 method for class 'ee.imagecollection.ImageCollection'
ee_month_composite(x, stat, months, ...)

## S3 method for class 'tidyee'
ee_month_composite(x, stat, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_month_composite_+3A_x">x</code></td>
<td>
<p>An earth engine ImageCollection or tidyee class.</p>
</td></tr>
<tr><td><code id="ee_month_composite_+3A_...">...</code></td>
<td>
<p>extra args to pass on</p>
</td></tr>
<tr><td><code id="ee_month_composite_+3A_stat">stat</code></td>
<td>
<p>A <code>character</code> indicating what to reduce the ImageCollection by,
e.g. 'median' (default), 'mean',  'max', 'min', 'sum', 'sd', 'first'.</p>
</td></tr>
<tr><td><code id="ee_month_composite_+3A_months">months</code></td>
<td>
<p>A vector of months, e.g. c(1, 12).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class containing <code>ee$Image</code> or <code>ee$ImageCollection</code> with pixels aggregated by month
</p>

<hr>
<h2 id='ee_month_filter'>ee_month_filter</h2><span id='topic+ee_month_filter'></span>

<h3>Description</h3>

<p>ee_month_filter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_month_filter(imageCol, month, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_month_filter_+3A_imagecol">imageCol</code></td>
<td>
<p>ee$ImageCollection</p>
</td></tr>
<tr><td><code id="ee_month_filter_+3A_month">month</code></td>
<td>
<p><code>numeric</code> vector containing month values (1-12)</p>
</td></tr>
<tr><td><code id="ee_month_filter_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ee$ImageCollection or ee$Image filtered by month
</p>

<hr>
<h2 id='ee_year_composite'>Pixel level composite by year</h2><span id='topic+ee_year_composite'></span><span id='topic+ee_year_composite.ee.imagecollection.ImageCollection'></span><span id='topic+ee_year_composite.tidyee'></span>

<h3>Description</h3>

<p>Pixel level composite by year
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_year_composite(x, ...)

## S3 method for class 'ee.imagecollection.ImageCollection'
ee_year_composite(x, stat, year, ...)

## S3 method for class 'tidyee'
ee_year_composite(x, stat, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_year_composite_+3A_x">x</code></td>
<td>
<p>An earth engine ImageCollection or tidyee class.</p>
</td></tr>
<tr><td><code id="ee_year_composite_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
<tr><td><code id="ee_year_composite_+3A_stat">stat</code></td>
<td>
<p>A <code>character</code> indicating what to reduce the ImageCollection by,
e.g. 'median' (default), 'mean',  'max', 'min', 'sum', 'sd', 'first'.</p>
</td></tr>
<tr><td><code id="ee_year_composite_+3A_year">year</code></td>
<td>
<p><code>numeric</code> vector containing years (i.e c(2001,2002,2003))</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class containing <code>ee$Image</code> or <code>ee$ImageCollection</code> with pixels aggregated by year
</p>

<hr>
<h2 id='ee_year_filter'>ee_year_filter</h2><span id='topic+ee_year_filter'></span>

<h3>Description</h3>

<p>ee_year_filter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_year_filter(imageCol, year, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_year_filter_+3A_imagecol">imageCol</code></td>
<td>
<p>ee$ImageCollection</p>
</td></tr>
<tr><td><code id="ee_year_filter_+3A_year">year</code></td>
<td>
<p><code>numeric</code> vector containing years (i.e c(2001,2002,2003))</p>
</td></tr>
<tr><td><code id="ee_year_filter_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ee$ImageCollection or ee$Image filtered by year
</p>

<hr>
<h2 id='ee_year_month_composite'>Pixel-level composite by year and month</h2><span id='topic+ee_year_month_composite'></span><span id='topic+ee_year_month_composite.ee.imagecollection.ImageCollection'></span><span id='topic+ee_year_month_composite.tidyee'></span>

<h3>Description</h3>

<p>Pixel-level composite by year and month
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_year_month_composite(x, ...)

## S3 method for class 'ee.imagecollection.ImageCollection'
ee_year_month_composite(x, stat, startDate, endDate, months, ...)

## S3 method for class 'tidyee'
ee_year_month_composite(x, stat, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_year_month_composite_+3A_x">x</code></td>
<td>
<p>An earth engine ImageCollection or tidyee class.</p>
</td></tr>
<tr><td><code id="ee_year_month_composite_+3A_...">...</code></td>
<td>
<p>args to pass on.</p>
</td></tr>
<tr><td><code id="ee_year_month_composite_+3A_stat">stat</code></td>
<td>
<p>A <code>character</code> indicating what to reduce the ImageCollection by,
e.g. 'median' (default), 'mean',  'max', 'min', 'sum', 'sd', 'first'.</p>
</td></tr>
<tr><td><code id="ee_year_month_composite_+3A_startdate">startDate</code></td>
<td>
<p><code>character</code> format date, e.g. &quot;2018-10-23&quot;.</p>
</td></tr>
<tr><td><code id="ee_year_month_composite_+3A_enddate">endDate</code></td>
<td>
<p><code>character</code> format date, e.g. &quot;2018-10-23&quot;.</p>
</td></tr>
<tr><td><code id="ee_year_month_composite_+3A_months">months</code></td>
<td>
<p><code>numeric</code> vector, e.g. c(1,12).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class containing <code>ee$Image</code> or <code>ee$ImageCollection</code> with pixels aggregated by year and month
</p>

<hr>
<h2 id='ee_year_month_filter'>ee_year_month_filter</h2><span id='topic+ee_year_month_filter'></span>

<h3>Description</h3>

<p>ee_year_month_filter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ee_year_month_filter(imageCol, year, month, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ee_year_month_filter_+3A_imagecol">imageCol</code></td>
<td>
<p>ee$ImageCollection</p>
</td></tr>
<tr><td><code id="ee_year_month_filter_+3A_year">year</code></td>
<td>
<p><code>numeric</code> vector contain years to filter</p>
</td></tr>
<tr><td><code id="ee_year_month_filter_+3A_month">month</code></td>
<td>
<p><code>numeric</code> vector contain months to filter</p>
</td></tr>
<tr><td><code id="ee_year_month_filter_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ee$ImageCollection or ee$Image filtered by year &amp; month
</p>

<hr>
<h2 id='filter'>filter ee$ImageCollections or tidyee objects that contain imageCollections</h2><span id='topic+filter'></span>

<h3>Description</h3>

<p>filter ee$ImageCollections or tidyee objects that contain imageCollections
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_+3A_.data">.data</code></td>
<td>
<p>ImageCollection or tidyee class object</p>
</td></tr>
<tr><td><code id="filter_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filtered image or imageCollection form filtered imageCollection
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+filter">filter</a></code> for information about filter on normal data tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(rgee)
library(tidyrgee)
ee_Initialize()
l8 = ee$ImageCollection('LANDSAT/LC08/C01/T1_SR')
l8 |&gt;
    filter(date&gt;"2016-01-01",date&lt;"2016-03-04")


 # example with tidyee ckass
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic_tidy &lt;- as_tidyee(modis_ic)

# filter by month
modis_march_april &lt;- modis_ic_tidy |&gt;
filter(month %in% c(3,4))

## End(Not run)
</code></pre>

<hr>
<h2 id='filter_bounds'>filter_bounds a wrapper for rgee::ee$ImageCollection$filterBounds</h2><span id='topic+filter_bounds'></span>

<h3>Description</h3>

<p>filter_bounds a wrapper for rgee::ee$ImageCollection$filterBounds
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_bounds(x, y, use_tidyee_index = FALSE, return_tidyee = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_bounds_+3A_x">x</code></td>
<td>
<p>tidyee object containing ee$ImageCollection or ee$ImageCollection</p>
</td></tr>
<tr><td><code id="filter_bounds_+3A_y">y</code></td>
<td>
<p>feature to filter bounds by (sf, ee$FeatureCollection, ee$Feature, ee$Geometry)</p>
</td></tr>
<tr><td><code id="filter_bounds_+3A_use_tidyee_index">use_tidyee_index</code></td>
<td>
<p>filter on tidyee_index (default = F) or system_index (by default)</p>
</td></tr>
<tr><td><code id="filter_bounds_+3A_return_tidyee">return_tidyee</code></td>
<td>
<p><code>logical</code> return tidyee class (default = TRUE) object or ee$ImageCollection. Faster performance if set to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class or ee$ImageCollection class object with scenes filtered to bounding box of y geometry
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(tidyrgee)
library(tidyverse)
library(rgee)
rgee::ee_Initialize()

# create geometry and convert to sf
coord_tibble &lt;- tibble::tribble(
  ~X,               ~Y,
  92.2303683692011, 20.9126490153521,
  92.2311567217866, 20.9127410439304,
  92.2287527311594, 20.9124072954926,
  92.2289221219251, 20.9197352745068,
  92.238724724534, 20.9081803233546
)
sf_ob &lt;- sf::st_as_sf(coord_tibble, coords=c("X","Y"),crs=4326)

# load landsat
ls = ee$ImageCollection("LANDSAT/LC08/C01/T1_SR")

#create tidyee class
ls_tidy &lt;-  as_tidyee(ls)

# filter_bounds on sf object
# return tidyee object
ls_tidy |&gt;
  filter_bounds(sf_ob)
# return ee$ImageCollection
ls_tidy |&gt;
  filter_bounds(sf_ob,return_tidyee = FALSE)

# filter_bounds on ee$Geometry object
# return tidyee object
ee_geom_ob &lt;- sf_ob |&gt; rgee::ee_as_sf()
ls_tidy |&gt;
  filter_bounds(ee_geom_ob)



## End(Not run)
</code></pre>

<hr>
<h2 id='group_by'>Group an imageCollection or tidyee object with Imagecollections by a parameter</h2><span id='topic+group_by'></span>

<h3>Description</h3>

<p>Group an imageCollection or tidyee object with Imagecollections by a parameter
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="group_by_+3A_.data">.data</code></td>
<td>
<p>ee$ImageCollection or tidyee object</p>
</td></tr>
<tr><td><code id="group_by_+3A_...">...</code></td>
<td>
<p>group_by variables</p>
</td></tr>
<tr><td><code id="group_by_+3A_.add">.add</code></td>
<td>
<p>When <code>FALSE</code>, the default, <code>group_by()</code> will
override existing groups. To add to the existing groups, use
<code>.add = TRUE</code>.
</p>
<p>This argument was previously called <code>add</code>, but that prevented
creating a new grouping variable called <code>add</code>, and conflicts with
our naming conventions.</p>
</td></tr>
<tr><td><code id="group_by_+3A_.drop">.drop</code></td>
<td>
<p>Drop groups formed by factor levels that don't appear in the
data? The default is <code>TRUE</code> except when <code>.data</code> has been previously
grouped with <code>.drop = FALSE</code>. See <code><a href="dplyr.html#topic+group_by_drop_default">group_by_drop_default()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ee$ImageCollection with grouped_vars attribute
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+group_by">group_by</a></code> for information about group_by on normal data tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(tidyrgee)
ee_Initialize()
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic |&gt;
   filter(date&gt;="2016-01-01",date&lt;="2019-12-31") |&gt;
   group_by(year)

## End(Not run)
</code></pre>

<hr>
<h2 id='group_split'>filter ee$ImageCollections or tidyee objects that contain imageCollections</h2><span id='topic+group_split'></span>

<h3>Description</h3>

<p>filter ee$ImageCollections or tidyee objects that contain imageCollections
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="group_split_+3A_.tbl">.tbl</code></td>
<td>
<p>ImageCollection or tidyee class object</p>
</td></tr>
<tr><td><code id="group_split_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
<tr><td><code id="group_split_+3A_return_tidyee">return_tidyee</code></td>
<td>
<p><code>logical</code> return tidyee object(default =T), if FALSE - only return ee$ImageCollection</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filtered image or imageCollection form filtered imageCollection
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+group_split">group_split</a></code> for information about filter on normal data tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(rgee)
library(tidyrgee)
ee_Initialize()
l8 = ee$ImageCollection('LANDSAT/LC08/C01/T1_SR')
l8 |&gt;
    filter(date&gt;"2016-01-01",date&lt;"2016-03-04")


 # example with tidyee ckass
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic_tidy &lt;- as_tidyee(modis_ic)

# filter by month
modis_march_april &lt;- modis_ic_tidy |&gt;
filter(month %in% c(3,4))

## End(Not run)
</code></pre>

<hr>
<h2 id='inner_join'>inner_join bands from different image/ImageCollections based on shared property</h2><span id='topic+inner_join'></span>

<h3>Description</h3>

<p>inner_join bands from different image/ImageCollections based on shared property
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="inner_join_+3A_x">x</code>, <code id="inner_join_+3A_y">y</code></td>
<td>
<p>A     pair of tidyee objects containing ee$ImageCollections</p>
</td></tr>
<tr><td><code id="inner_join_+3A_by">by</code></td>
<td>
<p>A character vector of variables to join by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same type as <code>x</code>. The output has the following properties:
Same number of images as <code>x</code>
Total number of bands equal the number of bands in <code>x</code> plus the number of bands in <code>y</code>
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+inner_join">inner_join</a></code> for information about inner_join on normal data tables.
</p>

<hr>
<h2 id='mutate'>mutate columns into tidyee vrt which can later be used to modify tidyee ImageCollection</h2><span id='topic+mutate'></span>

<h3>Description</h3>

<p>mutate columns into tidyee vrt which can later be used to modify tidyee ImageCollection
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="mutate_+3A_.data">.data</code></td>
<td>
<p>tidyee class object (list of ee_ob, vrt)</p>
</td></tr>
<tr><td><code id="mutate_+3A_...">...</code></td>
<td>
<p>mutate arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>return tidyee class object with vrt data.frame mutated.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+mutate">mutate</a></code> for information about mutate on normal data tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(tidyrgee)
library(rgee)
ee_Initialize()
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic_tidy &lt;- as_tidyee(modis_ic)

## End(Not run)
</code></pre>

<hr>
<h2 id='print.tidyee'>print tidyee</h2><span id='topic+print.tidyee'></span>

<h3>Description</h3>

<p>print tidyee
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidyee'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.tidyee_+3A_x">x</code></td>
<td>
<p>tidyee object</p>
</td></tr>
<tr><td><code id="print.tidyee_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>printed tidyee object
</p>

<hr>
<h2 id='select'>Select bands from ee$Image or ee$ImageCollection</h2><span id='topic+select'></span>

<h3>Description</h3>

<p>Select bands from ee$Image or ee$ImageCollection
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_+3A_.data">.data</code></td>
<td>
<p>tidyee class object containing ee$ImageCollection or ee$Image</p>
</td></tr>
<tr><td><code id="select_+3A_...">...</code></td>
<td>
<p>one or more quoted or unquoted expressions separated by commas.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class object with specified (...) bands selected
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+select">select</a></code> for information about select on normal data tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(tidyrgee)
ee_Initialize()
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic_tidy &lt;- as_tidyee(modis_ic)

# select NDVI band
modis_ndvi &lt;- modis_ic_tidy |&gt;
   select("NDVI")

# select NDVI band, but change band to new name
modis_ndvi_renamed &lt;- modis_ic_tidy |&gt;
   select(ndvi_new= "NDVI")



## End(Not run)
</code></pre>

<hr>
<h2 id='set_idx'>set_idx</h2><span id='topic+set_idx'></span>

<h3>Description</h3>

<p>set_idx
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_idx(x, idx_name = "tidyee_index")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_idx_+3A_x">x</code></td>
<td>
<p>tidyee or <code>ee$ImageCollection</code> class object</p>
</td></tr>
<tr><td><code id="set_idx_+3A_idx_name">idx_name</code></td>
<td>
<p>name for index to create (default = &quot;tidyee_index&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee or <code>ee$ImageCollection</code> class object with new index containing sequential 0-based indexing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rgee)
library(tidyrgee)
ee_Initialize()
modis_link &lt;- "MODIS/006/MOD13Q1"
modisIC &lt;- ee$ImageCollection(modis_link)
modis_ndvi_tidy &lt;- as_tidyee(modisIC) |&gt;
  select("NDVI")
modis_ndvi_tidy |&gt;


## End(Not run)
</code></pre>

<hr>
<h2 id='slice'>slice ee$ImageCollections or tidyee objects that contain imageCollections</h2><span id='topic+slice'></span>

<h3>Description</h3>

<p>slice ee$ImageCollections or tidyee objects that contain imageCollections
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice_+3A_.data">.data</code></td>
<td>
<p>ImageCollection or tidyee class object</p>
</td></tr>
<tr><td><code id="slice_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>sliced/filtered image or imageCollection form filtered imageCollection
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+slice">slice</a></code> for information about slice on normal data tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(rgee)
library(tidyrgee)
ee_Initialize()
l8 = ee$ImageCollection('LANDSAT/LC08/C01/T1_SR')
l8 |&gt;
    filter(date&gt;"2016-01-01",date&lt;"2016-03-04")


 # example with tidyee ckass
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic_tidy &lt;- as_tidyee(modis_ic)

# filter by month
modis_march_april &lt;- modis_ic_tidy |&gt;
filter(month %in% c(3,4))

## End(Not run)
</code></pre>

<hr>
<h2 id='summarise'>Summary pixel-level stats for ee$ImageCollection or tidyrgee objects with ImageCollections</h2><span id='topic+summarise'></span><span id='topic+summarise.ee.imagecollection.ImageCollection'></span><span id='topic+summarise.tidyee'></span>

<h3>Description</h3>

<p>Summary pixel-level stats for ee$ImageCollection or tidyrgee objects with ImageCollections
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ee.imagecollection.ImageCollection'
summarise(.data, stat, ...)

## S3 method for class 'tidyee'
summarise(.data, stat, ..., join_bands = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarise_+3A_.data">.data</code></td>
<td>
<p>ee$Image or ee$ImageCollection</p>
</td></tr>
<tr><td><code id="summarise_+3A_stat">stat</code></td>
<td>
<p><code>character</code> stat/function to apply</p>
</td></tr>
<tr><td><code id="summarise_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
<tr><td><code id="summarise_+3A_join_bands">join_bands</code></td>
<td>
<p><code>logical</code> (default= TRUE) if multiple stats selected should bands be joined?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ee$Image or ee$ImageCollection where pixels are summarised by group_by and stat
</p>
<p>ee$Image or ee$ImageCollection where pixels are summarised by group_by and stat
</p>
<p>ee$Image or ee$ImageCollection where pixels are summarised by group_by and stat
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+summarise">summarise</a></code> for information about summarise on normal data tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(tidyrgee)
library(rgee)
ee_Initialize()
modis_ic &lt;- ee$ImageCollection("MODIS/006/MOD13Q1")
modis_ic |&gt;
   filter(date&gt;="2016-01-01",date&lt;="2019-12-31") |&gt;
   group_by(year) |&gt;
   summarise(stat="max")

## End(Not run)
</code></pre>

<hr>
<h2 id='ungroup'>ungroup</h2><span id='topic+ungroup'></span>

<h3>Description</h3>

<p>ungroup
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="ungroup_+3A_x">x</code></td>
<td>
<p>tidyee object</p>
</td></tr>
<tr><td><code id="ungroup_+3A_...">...</code></td>
<td>
<p>ungroup args</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidyee class object with vrt ungrouped.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+ungroup">ungroup</a></code> for information about ungroup on normal data tables.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

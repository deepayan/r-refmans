<!DOCTYPE html><html><head><title>Help for package TKCat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {TKCat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#$.chMDB'><p>An MDB (Modeled DataBase) based on files: fileMDB</p></a></li>
<li><a href='#add_chMDB_user'><p>Add a user to an MDB of a chTKCat object</p></a></li>
<li><a href='#add_chTKCat_collection'><p>Import a collection in a chTKCat database</p></a></li>
<li><a href='#add_collection_member'><p>Add a collection member to an MDB</p></a></li>
<li><a href='#archive_chMDB'><p>Archive a chMDB in a chTKCat</p></a></li>
<li><a href='#as_chMDB'><p>Push an MDB object in a ClickHouse database</p></a></li>
<li><a href='#as_fileMDB.chMDB'><p>Write an MDB object</p></a></li>
<li><a href='#as_memoMDB'><p>Convert  any MDB object in a memoMDB object</p></a></li>
<li><a href='#ch_insert'><p>Insert records by batches in a Clickhouse table</p></a></li>
<li><a href='#change_chTKCat_password'><p>Change chTKCat password</p></a></li>
<li><a href='#check_chTKCat'><p>Check a chTKCat object</p></a></li>
<li><a href='#chMDB'><p>An MDB (Modeled DataBase) relying on ClickHouse: chMDB</p></a></li>
<li><a href='#chTKCat'><p>Connect to a ClickHouse TKCat instance</p></a></li>
<li><a href='#collection_members.TKCat'><p>Collection members</p></a></li>
<li><a href='#compare_MDB'><p>Compare two MDB objects</p></a></li>
<li><a href='#count_records.MDB'><p>Count the number of records</p></a></li>
<li><a href='#create_chMDB'><p>Create a database in a chTKCat</p></a></li>
<li><a href='#create_chTKCat_user'><p>Create a chTKCat user</p></a></li>
<li><a href='#data_file_size'><p>Get the size of data files from a fileMDB object</p></a></li>
<li><a href='#data_files'><p>Get the data files from a fileMDB object</p></a></li>
<li><a href='#data_model.chMDB'><p>Get object data model</p></a></li>
<li><a href='#data_tables.chMDB'><p>Get object data tables</p></a></li>
<li><a href='#db_disconnect.chMDB'><p>Disconnect an object from a database</p></a></li>
<li><a href='#db_info.chMDB'><p>DB information</p></a></li>
<li><a href='#db_reconnect.chMDB'><p>Reconnect an object to a database</p></a></li>
<li><a href='#db_tables'><p>Get the DB tables from a chMDB or metaMDB object</p></a></li>
<li><a href='#dims.chMDB'><p>Detailed information about the format of the tables</p></a></li>
<li><a href='#drop_chMDB'><p>Drop a database from a chTKCat</p></a></li>
<li><a href='#drop_chTKCat_user'><p>Drop a user from a chTKCat object</p></a></li>
<li><a href='#empty_chMDB'><p>Empty a chMDB in a chTKCat</p></a></li>
<li><a href='#explore_MDBs.TKCat'><p>Explore available MDB in a shiny web interface</p></a></li>
<li><a href='#filter_mdb_matrix.chMDB'><p>Filter a matrix stored in an MDB</p></a></li>
<li><a href='#filter_with_tables.chMDB'><p>Filter an MDB object according to provided tables</p></a></li>
<li><a href='#filter.chMDB'><p>Filter a chMDB object and return a memoMDB</p></a></li>
<li><a href='#filter.fileMDB'><p>Filter a fileMDB object and return a memoMDB</p></a></li>
<li><a href='#filter.memoMDB'><p>Filter a memoMDB object</p></a></li>
<li><a href='#filter.metaMDB'><p>Filter a metaMDB object</p></a></li>
<li><a href='#format.chTKCat'><p>Format a chTKCat object for printing</p></a></li>
<li><a href='#get_chMDB_timestamps'><p>Get instance timestamps of an MDB in chTKCat</p></a></li>
<li><a href='#get_chTKCat_collection'><p>Get a collection from a chTKCat</p></a></li>
<li><a href='#get_collection_mapper'><p>Get the default mapper function for a collection</p></a></li>
<li><a href='#get_confrontation_report'><p>Get the last generated MDB confrontation report</p></a></li>
<li><a href='#get_hosts.DBIConnection'><p>Get database hosts</p></a></li>
<li><a href='#get_local_collection'><p>Get the json definition of a local collection of concepts</p></a></li>
<li><a href='#get_MDB.TKCat'><p>Get an MDB object from a TKCat related object</p></a></li>
<li><a href='#get_query.chMDB'><p>Get SQL query</p></a></li>
<li><a href='#get_shared_collections'><p>Get collections shared by 2 objects and return member combinations</p></a></li>
<li><a href='#heads.chMDB'><p>Get the first records of each object data tables</p></a></li>
<li><a href='#import_collection_mapper'><p>Import a  function to map collection members</p></a></li>
<li><a href='#import_local_collection'><p>Import a  the definition of a collection of concepts in the local environment</p></a></li>
<li><a href='#init_chTKCat'><p>Initialize a chTKCat database</p></a></li>
<li><a href='#is_chMDB_public'><p>Is a chMDB public</p></a></li>
<li><a href='#is_current_chMDB'><p>Check if the chMDB object refers to the current instance of the MDB</p></a></li>
<li><a href='#is.chMDB'><p>Check if the object is a chMDB object</p></a></li>
<li><a href='#is.chTKCat'><p>Check the object is  a chTKCat object</p></a></li>
<li><a href='#is.fileMDB'><p>Check if the object is  a fileMDB object</p></a></li>
<li><a href='#is.MDB'><p>Check if the object is an MDB object</p></a></li>
<li><a href='#is.memoMDB'><p>Check if the object is  a memoMDB object</p></a></li>
<li><a href='#is.metaMDB'><p>Check if the object is  a metaMDB object</p></a></li>
<li><a href='#is.TKCat'><p>Check the object is  a TKCat object</p></a></li>
<li><a href='#join_mdb_tables'><p>Join connected tables</p></a></li>
<li><a href='#list_chMDB_timestamps'><p>List instance timestamps of an MDB in chTKCat</p></a></li>
<li><a href='#list_chMDB_users'><p>List users of an MDB of a chTKCat object</p></a></li>
<li><a href='#list_chTKCat_collections'><p>List collections available in a chTKCat</p></a></li>
<li><a href='#list_chTKCat_users'><p>List chTKCat user</p></a></li>
<li><a href='#list_local_collections'><p>List local collections of concepts</p></a></li>
<li><a href='#list_MDBs.TKCat'><p>List available MDB</p></a></li>
<li><a href='#list_tables'><p>List tables in a clickhouse database</p></a></li>
<li><a href='#manage_chTKCat_users'><p>Manage user information in a shiny interface</p></a></li>
<li><a href='#map_collection_members'><p>Map different collection members</p></a></li>
<li><a href='#MDB'><p>MDB</p></a></li>
<li><a href='#MDBs'><p>Get a list of MDB from metaMDB object</p></a></li>
<li><a href='#memoMDB'><p>An MDB (Modeled DataBase) in memory: memoMDB</p></a></li>
<li><a href='#mergeTree_from_RelTableModel'><p>Create a ClickHouse MergeTree table from a ReDaMoR::RelTableModel</p></a></li>
<li><a href='#mergeTrees_from_RelDataModel'><p>Create ClickHouse MergeTree tables from a ReDaMoR::RelDataModel</p></a></li>
<li><a href='#metaMDB'><p>A metaMDB object</p></a></li>
<li><a href='#read_collection_members'><p>Read a collection member JSON file</p></a></li>
<li><a href='#read_fileMDB'><p>Read a fileMDB from a path</p></a></li>
<li><a href='#relational_tables'><p>Get a list of relational tables</p></a></li>
<li><a href='#remove_chMDB_user'><p>Drop a user of an MDB of a chTKCat object</p></a></li>
<li><a href='#remove_chTKCat_collection'><p>Remove a collection from a chTKCat database</p></a></li>
<li><a href='#scan_fileMDBs'><p>Scan a catalog of fileMDB</p></a></li>
<li><a href='#search_MDB_fields.TKCat'><p>Search fields in a TKCat related object</p></a></li>
<li><a href='#search_MDB_tables.TKCat'><p>Search tables in a TKCat related object</p></a></li>
<li><a href='#set_chMDB_access'><p>Set  chMDB access</p></a></li>
<li><a href='#set_chMDB_timestamp'><p>Set timestamp of the current version of an MDB in chTKCat</p></a></li>
<li><a href='#show_collection_def'><p>Show the definition of a collection</p></a></li>
<li><a href='#slice.chMDB'><p>Subset a chMDB object according to row position in one table</p>
and return a memoMDB</a></li>
<li><a href='#slice.fileMDB'><p>Subset a fileMDB object according to row position in one table</p>
and return a memoMDB</a></li>
<li><a href='#slice.memoMDB'><p>Subset a memoMDB object according to row position in one table</p></a></li>
<li><a href='#slice.metaMDB'><p>Subset a metaMDB object according to row position in one table</p></a></li>
<li><a href='#TKCat'><p>TKCat: a catalog of MDB</p></a></li>
<li><a href='#unarchive_chMDB'><p>Unarchive a chMDB in a chTKCat</p></a></li>
<li><a href='#update_chMDB_grants'><p>Update grants on tables in an MDB of a chTKCat object</p></a></li>
<li><a href='#update_chTKCat_user'><p>Update a chTKCat user information</p></a></li>
<li><a href='#write_collection_members'><p>Write a collection member JSON file</p></a></li>
<li><a href='#write_MergeTree'><p>Write a Clickhouse</p>
<a href="https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree/">MergeTree</a>
table</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tailored Knowledge Catalog</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.7</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitate the management of data from knowledge
   resources that are frequently used alone or together
   in research environments.
   In 'TKCat', knowledge resources are manipulated as modeled database (MDB)
   objects. These objects provide access to the data tables along with a general
   description of the resource and a detail data model documenting the
   tables, their fields and their relationships.
   These MDBs are then gathered in catalogs that can be easily
   explored an shared.
   Finally, 'TKCat' provides tools to easily subset, filter and combine MDBs and
   create new catalogs suited for specific needs.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://patzaw.github.io/TKCat/">https://patzaw.github.io/TKCat/</a>, <a href="https://github.com/patzaw/TKCat/">https://github.com/patzaw/TKCat/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/patzaw/TKCat/issues">https://github.com/patzaw/TKCat/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6), ReDaMoR (&ge; 0.7.0), magrittr, DBI, dplyr</td>
</tr>
<tr>
<td>Imports:</td>
<td>ClickHouseHTTP, rlang, tidyselect, visNetwork, getPass, shiny,
shinydashboard, DT, htmltools, readr, jsonlite, jsonvalidate
(&ge; 1.3.2), base64enc, markdown, promises, future, xml2,
Matrix, uuid</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, stringr, RClickhouse, data.tree, BED</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-16 12:26:44 UTC; pgodard</td>
</tr>
<tr>
<td>Author:</td>
<td>Patrice Godard [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Patrice Godard &lt;patrice.godard@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-16 14:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='+24.chMDB'>An <a href="#topic+MDB">MDB</a> (Modeled DataBase) based on files: fileMDB</h2><span id='topic++24.chMDB'></span><span id='topic+fileMDB'></span><span id='topic+names+3C-.fileMDB'></span><span id='topic+rename.fileMDB'></span><span id='topic++5B.fileMDB'></span><span id='topic++5B+5B.fileMDB'></span><span id='topic++24.fileMDB'></span>

<h3>Description</h3>

<p>An <a href="#topic+MDB">MDB</a> (Modeled DataBase) based on files: fileMDB
</p>
<p>Rename tables of a <a href="#topic+fileMDB">fileMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
x$i

fileMDB(
  dataFiles,
  dbInfo,
  dataModel,
  readParameters = DEFAULT_READ_PARAMS,
  collectionMembers = NULL,
  check = TRUE,
  n_max = 10,
  verbose = FALSE
)

## S3 replacement method for class 'fileMDB'
names(x) &lt;- value

## S3 method for class 'fileMDB'
rename(.data, ...)

## S3 method for class 'fileMDB'
x[i]

## S3 method for class 'fileMDB'
x[[i]]

## S3 method for class 'fileMDB'
x$i
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B24.chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+fileMDB">fileMDB</a> object</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_i">i</code></td>
<td>
<p>the index or the name of the tables to take</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_datafiles">dataFiles</code></td>
<td>
<p>a named vector of path to data files with
<code>all(names(dataFiles) %in% names(dataModel))</code></p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_dbinfo">dbInfo</code></td>
<td>
<p>a list with DB information:
<strong>&quot;name&quot;</strong> (only mandatory field), &quot;title&quot;, &quot;description&quot;, &quot;url&quot;,
&quot;version&quot;, &quot;maintainer&quot;.</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_datamodel">dataModel</code></td>
<td>
<p>a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a> object</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_readparameters">readParameters</code></td>
<td>
<p>a list of parameters for reading the data file.
(e.g. <code>list(delim='\t', quoted_na=FALSE,)</code>)</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_collectionmembers">collectionMembers</code></td>
<td>
<p>the members of collections as provided to the
<a href="#topic+collection_members+3C-">collection_members&lt;-</a> function (default: NULL ==&gt; no member).</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_check">check</code></td>
<td>
<p>logical: if TRUE (default) the data are confronted to the
data model</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_n_max">n_max</code></td>
<td>
<p>maximum number of records to read
for checks purpose (default: 10). See also <code><a href="ReDaMoR.html#topic+confront_data">ReDaMoR::confront_data()</a></code>.</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE display the data confrontation report
(default: FALSE)</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_value">value</code></td>
<td>
<p>new table names</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+fileMDB">fileMDB</a> object</p>
</td></tr>
<tr><td><code id="+2B24.chMDB_+3A_...">...</code></td>
<td>
<p>Use new_name = old_name to rename selected tables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A fileMDB object
</p>


<h3>See Also</h3>


<ul>
<li><p> MDB methods:
<a href="#topic+db_info">db_info</a>, <a href="#topic+data_model">data_model</a>, <a href="#topic+data_tables">data_tables</a>, <a href="#topic+collection_members">collection_members</a>,
<a href="#topic+count_records">count_records</a>, <a href="#topic+dims">dims</a>, <a href="#topic+filter_with_tables">filter_with_tables</a>, <a href="#topic+as_fileMDB">as_fileMDB</a>
</p>
</li>
<li><p> Additional general documentation is related to <a href="#topic+MDB">MDB</a>.
</p>
</li>
<li> <p><a href="#topic+filter.fileMDB">filter.fileMDB</a>, <a href="#topic+slice.fileMDB">slice.fileMDB</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>hpof &lt;- read_fileMDB(
   path=system.file("examples/HPO-subset", package="ReDaMoR"),
   dataModel=system.file("examples/HPO-model.json", package="ReDaMoR"),
   dbInfo=list(
      "name"="HPO",
      "title"="Data extracted from the HPO database",
      "description"=paste(
         "This is a very small subset of the HPO!",
         "Visit the reference URL for more information"
      ),
      "url"="http://human-phenotype-ontology.github.io/"
   )
)
count_records(hpof)

## The following commands take time on fileMDB object
## Not run: 

select(hpof, HPO_hp:HPO_diseases)
toTake &lt;- "HPO_altId"
select(hpof, all_of(toTake))

hpoSlice &lt;- slice(hpof, HPO_diseases=1:10)
count_records(hpoSlice)

if("stringr" %in% installed.packages()[,"Package"]){
   epilHP &lt;- filter(
      hpof,
      HPO_diseases=stringr::str_detect(
         label, stringr::regex("epilepsy", ignore_case=TRUE)
      )
   )
   count_records(epilHP)
   label &lt;- "Rolandic epilepsy"
   cn &lt;- sym("label")
   reHP &lt;- filter(
      hpof,
      HPO_diseases=!!cn==!!label
   )
}


## End(Not run)
</code></pre>

<hr>
<h2 id='add_chMDB_user'>Add a user to an MDB of a <a href="#topic+chTKCat">chTKCat</a> object</h2><span id='topic+add_chMDB_user'></span>

<h3>Description</h3>

<p>Add a user to an MDB of a <a href="#topic+chTKCat">chTKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_chMDB_user(x, mdb, login, admin = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_chMDB_user_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="add_chMDB_user_+3A_mdb">mdb</code></td>
<td>
<p>name of the modeled database</p>
</td></tr>
<tr><td><code id="add_chMDB_user_+3A_login">login</code></td>
<td>
<p>login of the user to drop</p>
</td></tr>
<tr><td><code id="add_chMDB_user_+3A_admin">admin</code></td>
<td>
<p>if the user is an admin of the MDB</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='add_chTKCat_collection'>Import a collection in a <a href="#topic+chTKCat">chTKCat</a> database</h2><span id='topic+add_chTKCat_collection'></span>

<h3>Description</h3>

<p>Import a collection in a <a href="#topic+chTKCat">chTKCat</a> database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_chTKCat_collection(x, json, overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_chTKCat_collection_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="add_chTKCat_collection_+3A_json">json</code></td>
<td>
<p>a single character indicating the collection to import. Can be:
</p>

<ul>
<li><p> a path to a file
</p>
</li>
<li><p> the name of a local collection (see <code><a href="#topic+list_local_collections">list_local_collections()</a></code>)
</p>
</li>
<li><p> the json text defining the collection
</p>
</li></ul>
</td></tr>
<tr><td><code id="add_chTKCat_collection_+3A_overwrite">overwrite</code></td>
<td>
<p>a logical indicating if the existing collection should
be replaced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='add_collection_member'>Add a collection member to an MDB</h2><span id='topic+add_collection_member'></span>

<h3>Description</h3>

<p>Add a collection member to an MDB
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_collection_member(x, collection, table, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_collection_member_+3A_x">x</code></td>
<td>
<p>an <a href="#topic+MDB">MDB</a> object</p>
</td></tr>
<tr><td><code id="add_collection_member_+3A_collection">collection</code></td>
<td>
<p>a collection title in <code><a href="#topic+list_local_collections">list_local_collections()</a></code></p>
</td></tr>
<tr><td><code id="add_collection_member_+3A_table">table</code></td>
<td>
<p>the table providing the collection member</p>
</td></tr>
<tr><td><code id="add_collection_member_+3A_...">...</code></td>
<td>
<p>definition of the collection fields as lists
(e.g. <code>be=list(static=TRUE, value="Gene")</code>
or
<code>organism=list(static=TRUE, value="Homo sapiens", type="Scientific name")</code>
)</p>
</td></tr>
</table>

<hr>
<h2 id='archive_chMDB'>Archive a chMDB in a <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+archive_chMDB'></span>

<h3>Description</h3>

<p>Archive a chMDB in a <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archive_chMDB(
  x,
  name,
  defaultTS = as.POSIXct("1970-01-01 00:00.0", tz = "UTC")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="archive_chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="archive_chMDB_+3A_name">name</code></td>
<td>
<p>the name of the database to archive</p>
</td></tr>
<tr><td><code id="archive_chMDB_+3A_defaultts">defaultTS</code></td>
<td>
<p>a default timestamp value to use when not existing in
the DB (default: <code>as.POSIXct("1970-01-01 00:00.0", tz="UTC")</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='as_chMDB'>Push an <a href="#topic+MDB">MDB</a> object in a ClickHouse database</h2><span id='topic+as_chMDB'></span>

<h3>Description</h3>

<p>Push an <a href="#topic+MDB">MDB</a> object in a ClickHouse database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_chMDB(x, tkcon, timestamp = Sys.time(), overwrite = FALSE, by = 10^5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_chMDB_+3A_x">x</code></td>
<td>
<p>an <a href="#topic+MDB">MDB</a> object</p>
</td></tr>
<tr><td><code id="as_chMDB_+3A_tkcon">tkcon</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="as_chMDB_+3A_timestamp">timestamp</code></td>
<td>
<p>a single POSIXct value as a timestamp for
the chMDB instance.
The default value is the current system time.
If this value is smaller or equal to the chMDB current value, an error is
thrown. If NA, the current instance is overwritten
(if the overwrite parameter is set to TRUE) without changing
the existing timestamp.</p>
</td></tr>
<tr><td><code id="as_chMDB_+3A_overwrite">overwrite</code></td>
<td>
<p>a logical indicating if existing data should be overwritten
(default: FALSE)</p>
</td></tr>
<tr><td><code id="as_chMDB_+3A_by">by</code></td>
<td>
<p>the size of the batch: number of records to write
together (default: 10^5)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+chMDB">chMDB</a> object.
</p>

<hr>
<h2 id='as_fileMDB.chMDB'>Write an MDB object</h2><span id='topic+as_fileMDB.chMDB'></span><span id='topic+as_fileMDB.fileMDB'></span><span id='topic+as_fileMDB'></span><span id='topic+as_fileMDB.memoMDB'></span><span id='topic+as_fileMDB.metaMDB'></span>

<h3>Description</h3>

<p>Write an MDB object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
as_fileMDB(
  x,
  path,
  readParameters = list(delim = "\t", na = "&lt;NA&gt;"),
  htmlModel = TRUE,
  compress = TRUE,
  by = 10^5,
  ...
)

## S3 method for class 'fileMDB'
as_fileMDB(
  x,
  path,
  readParameters = list(delim = "\t", na = "&lt;NA&gt;"),
  htmlModel = TRUE,
  compress = TRUE,
  by = 10^5,
  ...
)

as_fileMDB(
  x,
  path,
  readParameters = list(delim = "\t", na = "&lt;NA&gt;"),
  htmlModel = TRUE,
  compress = TRUE,
  by = 10^5,
  ...
)

## S3 method for class 'memoMDB'
as_fileMDB(
  x,
  path,
  readParameters = list(delim = "\t", na = "&lt;NA&gt;"),
  htmlModel = TRUE,
  compress = TRUE,
  by = 10^5,
  ...
)

## S3 method for class 'metaMDB'
as_fileMDB(
  x,
  path,
  readParameters = list(delim = "\t", na = "&lt;NA&gt;"),
  htmlModel = TRUE,
  compress = TRUE,
  by = 10^5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_fileMDB.chMDB_+3A_x">x</code></td>
<td>
<p>an MDB object</p>
</td></tr>
<tr><td><code id="as_fileMDB.chMDB_+3A_path">path</code></td>
<td>
<p>the path where the MDB should be written</p>
</td></tr>
<tr><td><code id="as_fileMDB.chMDB_+3A_readparameters">readParameters</code></td>
<td>
<p>The following parameters are currently supported:
</p>

<ul>
<li> <p><strong>delim</strong>: a single character used to separate fields within a record
(default: '\t')
</p>
</li>
<li> <p><strong>quoted_na</strong>: a single logical indicating if missing values inside quotes
should be treated as missing values or strings.
WARNING: THIS PARAMETER IS NOT TAKEN INTO ACCOUNT WITH readr&gt;=2.0.0.
</p>
</li>
<li> <p><strong>na</strong>: String used for missing values. The default value for reading
a fileMDB is &quot;NA&quot;. But the default value for writing a fileMDB
is &quot;&quot;&lt;NA&gt;&quot;&quot;.
This value is written in the DESCRIPTION.json file to avoid ambiguity
when reading the fileMDB.
</p>
</li></ul>
</td></tr>
<tr><td><code id="as_fileMDB.chMDB_+3A_htmlmodel">htmlModel</code></td>
<td>
<p>a logical. If TRUE (default) the model is also plotted in
an html file.</p>
</td></tr>
<tr><td><code id="as_fileMDB.chMDB_+3A_compress">compress</code></td>
<td>
<p>a logical specifying whether saving data
is to use &quot;gzip&quot; compression (default: TRUE)</p>
</td></tr>
<tr><td><code id="as_fileMDB.chMDB_+3A_by">by</code></td>
<td>
<p>the size of the batch: number of records to write
together (default: 10^5)</p>
</td></tr>
<tr><td><code id="as_fileMDB.chMDB_+3A_...">...</code></td>
<td>
<p>method specific parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+fileMDB">fileMDB</a> object.
</p>

<hr>
<h2 id='as_memoMDB'>Convert  any MDB object in a <a href="#topic+memoMDB">memoMDB</a> object</h2><span id='topic+as_memoMDB'></span>

<h3>Description</h3>

<p>Convert  any MDB object in a <a href="#topic+memoMDB">memoMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_memoMDB(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_memoMDB_+3A_x">x</code></td>
<td>
<p>a MDB object</p>
</td></tr>
<tr><td><code id="as_memoMDB_+3A_...">...</code></td>
<td>
<p>additional parameters for the <code><a href="#topic+memoMDB">memoMDB()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+memoMDB">memoMDB</a> object
</p>


<h3>See Also</h3>

<p><a href="#topic+get_confrontation_report">get_confrontation_report</a>, <a href="ReDaMoR.html#topic+format_confrontation_report">ReDaMoR::format_confrontation_report</a>
and <a href="ReDaMoR.html#topic+format_confrontation_report_md">ReDaMoR::format_confrontation_report_md</a> for getting and formatting
the report confronting the data to the model.
</p>

<hr>
<h2 id='ch_insert'>Insert records by batches in a Clickhouse table</h2><span id='topic+ch_insert'></span>

<h3>Description</h3>

<p>Insert records by batches in a Clickhouse table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ch_insert(con, dbName, tableName, value, by = 10^6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ch_insert_+3A_con">con</code></td>
<td>
<p>the clickhouse connection</p>
</td></tr>
<tr><td><code id="ch_insert_+3A_dbname">dbName</code></td>
<td>
<p>the name of the database</p>
</td></tr>
<tr><td><code id="ch_insert_+3A_tablename">tableName</code></td>
<td>
<p>the name of the table</p>
</td></tr>
<tr><td><code id="ch_insert_+3A_value">value</code></td>
<td>
<p>the table to import</p>
</td></tr>
<tr><td><code id="ch_insert_+3A_by">by</code></td>
<td>
<p>the size of the batch: number of records to import
together (default: 10^6)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='change_chTKCat_password'>Change chTKCat password</h2><span id='topic+change_chTKCat_password'></span>

<h3>Description</h3>

<p>Change chTKCat password
</p>


<h3>Usage</h3>

<pre><code class='language-R'>change_chTKCat_password(x, login, password)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="change_chTKCat_password_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="change_chTKCat_password_+3A_login">login</code></td>
<td>
<p>user login</p>
</td></tr>
<tr><td><code id="change_chTKCat_password_+3A_password">password</code></td>
<td>
<p>new user password</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='check_chTKCat'>Check a <a href="#topic+chTKCat">chTKCat</a> object</h2><span id='topic+check_chTKCat'></span>

<h3>Description</h3>

<p>Check a <a href="#topic+chTKCat">chTKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_chTKCat(x, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_chTKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="check_chTKCat_+3A_verbose">verbose</code></td>
<td>
<p>a logical indicating if information messages should be
displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible result: <a href="#topic+chTKCat">chTKCat</a> object
</p>

<hr>
<h2 id='chMDB'>An <a href="#topic+MDB">MDB</a> (Modeled DataBase) relying on ClickHouse: chMDB</h2><span id='topic+chMDB'></span><span id='topic+names+3C-.chMDB'></span><span id='topic+rename.chMDB'></span><span id='topic++5B.chMDB'></span><span id='topic++5B+5B.chMDB'></span>

<h3>Description</h3>

<p>An <a href="#topic+MDB">MDB</a> (Modeled DataBase) relying on ClickHouse: chMDB
</p>
<p>Rename tables of a <a href="#topic+chMDB">chMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chMDB(
  tkcon,
  dbTables,
  dbInfo,
  dataModel,
  collectionMembers = NULL,
  check = TRUE,
  n_max = 10,
  verbose = FALSE
)

## S3 replacement method for class 'chMDB'
names(x) &lt;- value

## S3 method for class 'chMDB'
rename(.data, ...)

## S3 method for class 'chMDB'
x[i]

## S3 method for class 'chMDB'
x[[i]]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chMDB_+3A_tkcon">tkcon</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="chMDB_+3A_dbtables">dbTables</code></td>
<td>
<p>a named vector of tables in tkcon$chcon with
<code>all(names(dbTables) %in% names(dataModel))</code></p>
</td></tr>
<tr><td><code id="chMDB_+3A_dbinfo">dbInfo</code></td>
<td>
<p>a list with DB information:
<strong>&quot;name&quot;</strong> (only mandatory field), &quot;title&quot;, &quot;description&quot;, &quot;url&quot;,
&quot;version&quot;, &quot;maintainer&quot;.</p>
</td></tr>
<tr><td><code id="chMDB_+3A_datamodel">dataModel</code></td>
<td>
<p>a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a> object</p>
</td></tr>
<tr><td><code id="chMDB_+3A_collectionmembers">collectionMembers</code></td>
<td>
<p>the members of collections as provided to the
<a href="#topic+collection_members+3C-">collection_members&lt;-</a> function (default: NULL ==&gt; no member).</p>
</td></tr>
<tr><td><code id="chMDB_+3A_check">check</code></td>
<td>
<p>logical: if TRUE (default) the data are confronted to the
data model</p>
</td></tr>
<tr><td><code id="chMDB_+3A_n_max">n_max</code></td>
<td>
<p>maximum number of records to read
for checks purpose (default: 10). If 0, the data are not checked.
See also <code><a href="ReDaMoR.html#topic+confront_data">ReDaMoR::confront_data()</a></code>.</p>
</td></tr>
<tr><td><code id="chMDB_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE display the data confrontation report</p>
</td></tr>
<tr><td><code id="chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chMDB">chMDB</a> object</p>
</td></tr>
<tr><td><code id="chMDB_+3A_value">value</code></td>
<td>
<p>new table names</p>
</td></tr>
<tr><td><code id="chMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+chMDB">chMDB</a> object</p>
</td></tr>
<tr><td><code id="chMDB_+3A_...">...</code></td>
<td>
<p>Use new_name = old_name to rename selected tables</p>
</td></tr>
<tr><td><code id="chMDB_+3A_i">i</code></td>
<td>
<p>the index or the name of the tables to take</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A chMDB object
</p>


<h3>See Also</h3>


<ul>
<li><p> MDB methods:
<a href="#topic+db_info">db_info</a>, <a href="#topic+data_model">data_model</a>, <a href="#topic+data_tables">data_tables</a>, <a href="#topic+collection_members">collection_members</a>,
<a href="#topic+count_records">count_records</a>, <a href="#topic+dims">dims</a>, <a href="#topic+filter_with_tables">filter_with_tables</a>, <a href="#topic+as_fileMDB">as_fileMDB</a>
</p>
</li>
<li><p> Additional general documentation is related to <a href="#topic+MDB">MDB</a>.
</p>
</li>
<li> <p><a href="#topic+filter.chMDB">filter.chMDB</a>, <a href="#topic+slice.chMDB">slice.chMDB</a>
</p>
</li>
<li> <p><a href="#topic+chTKCat">chTKCat</a>, <code><a href="#topic+db_disconnect">db_disconnect()</a></code>, <code><a href="#topic+db_reconnect">db_reconnect()</a></code>
</p>
</li></ul>


<hr>
<h2 id='chTKCat'>Connect to a ClickHouse TKCat instance</h2><span id='topic+chTKCat'></span>

<h3>Description</h3>

<p>Connect to a ClickHouse TKCat instance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chTKCat(
  host = "localhost",
  port = 9111L,
  user = "default",
  password,
  settings = list(max_query_size = 1073741824, use_uncompressed_cache = 0, load_balancing
    = "random", max_memory_usage = 0, allow_introspection_functions = 1,
    joined_subquery_requires_alias = 0),
  ports = NULL,
  drv = ClickHouseHTTP::ClickHouseHTTP(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chTKCat_+3A_host">host</code></td>
<td>
<p>a character string specifying the host heberging the
database (default: localhost)</p>
</td></tr>
<tr><td><code id="chTKCat_+3A_port">port</code></td>
<td>
<p>an integer specifying the port on which the
database is listening (default: 9111)</p>
</td></tr>
<tr><td><code id="chTKCat_+3A_user">user</code></td>
<td>
<p>user name</p>
</td></tr>
<tr><td><code id="chTKCat_+3A_password">password</code></td>
<td>
<p>user password</p>
</td></tr>
<tr><td><code id="chTKCat_+3A_settings">settings</code></td>
<td>
<p>list of
<a href="https://clickhouse.com/docs/en/operations/settings/settings/">Clickhouse settings</a></p>
</td></tr>
<tr><td><code id="chTKCat_+3A_ports">ports</code></td>
<td>
<p>a named list of available ports for accessing ClickHouse
(default: NULL; example: <code>c(Native=9101, HTTP=9111)</code>)</p>
</td></tr>
<tr><td><code id="chTKCat_+3A_drv">drv</code></td>
<td>
<p>a DBI driver for connecting to ClickHouse
(default: <code><a href="ClickHouseHTTP.html#topic+ClickHouseHTTP">ClickHouseHTTP::ClickHouseHTTP()</a></code>;
other supported driver: <code><a href="RClickhouse.html#topic+ClickhouseDriver-class">RClickhouse::clickhouse()</a></code>)</p>
</td></tr>
<tr><td><code id="chTKCat_+3A_...">...</code></td>
<td>
<p>additional parameters for connection
(see <a href="ClickHouseHTTP.html#topic+ClickHouseHTTPDriver-class">ClickHouseHTTP::dbConnect,ClickHouseHTTPDriver-method</a>
for the default driver)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a chTKCat object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+check_chTKCat">check_chTKCat()</a></code>, <code><a href="#topic+db_disconnect">db_disconnect()</a></code>, <code><a href="#topic+db_reconnect">db_reconnect()</a></code>
</p>

<hr>
<h2 id='collection_members.TKCat'>Collection members</h2><span id='topic+collection_members.TKCat'></span><span id='topic+collection_members.chMDB'></span><span id='topic+collection_members+3C-.chMDB'></span><span id='topic+collection_members.chTKCat'></span><span id='topic+collection_members.fileMDB'></span><span id='topic+collection_members+3C-.fileMDB'></span><span id='topic+collection_members'></span><span id='topic+collection_members+3C-'></span><span id='topic+collection_members.memoMDB'></span><span id='topic+collection_members+3C-.memoMDB'></span><span id='topic+collection_members.metaMDB'></span>

<h3>Description</h3>

<p>Collection members
</p>
<p>Collection members
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TKCat'
collection_members(x, ...)

## S3 method for class 'chMDB'
collection_members(x, ...)

## S3 replacement method for class 'chMDB'
collection_members(x) &lt;- value

## S3 method for class 'chTKCat'
collection_members(x, ...)

## S3 method for class 'fileMDB'
collection_members(x, ...)

## S3 replacement method for class 'fileMDB'
collection_members(x) &lt;- value

collection_members(x, ...)

collection_members(x) &lt;- value

## S3 method for class 'memoMDB'
collection_members(x, ...)

## S3 replacement method for class 'memoMDB'
collection_members(x) &lt;- value

## S3 method for class 'metaMDB'
collection_members(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collection_members.TKCat_+3A_x">x</code></td>
<td>
<p>an object with embedded collection members</p>
</td></tr>
<tr><td><code id="collection_members.TKCat_+3A_...">...</code></td>
<td>
<p>names of the collections
to focus on. By default, all of them are taken.</p>
</td></tr>
<tr><td><code id="collection_members.TKCat_+3A_value">value</code></td>
<td>
<p>the new collection members.
A data.frame with the following columns:
</p>

<ul>
<li> <p><strong>collection</strong> (character): The name of the collection
</p>
</li>
<li> <p><strong>cid</strong> (character): Collection identifier
</p>
</li>
<li> <p><strong>resource</strong> (character): The name of the resource
</p>
</li>
<li> <p><strong>mid</strong> (integer): The identifier of the member
</p>
</li>
<li> <p><strong>table</strong> (character): The table recording collection information
</p>
</li>
<li> <p><strong>field</strong> (character): The collection field.
</p>
</li>
<li> <p><strong>static</strong> (logical): TRUE if the field value is common to all elements.
</p>
</li>
<li> <p><strong>value</strong> (character): The name of the table column if static is FALSE
or the field value if static is TRUE.
</p>
</li>
<li> <p><strong>type</strong> (character): the type of the field.
(not necessarily used ==&gt; NA if not)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="dplyr.html#topic+reexports">dplyr::tibble</a> with the following columns:
</p>

<ul>
<li> <p><strong>collection</strong> (character): The name of the collection
</p>
</li>
<li> <p><strong>cid</strong> (character): Collection identifier
</p>
</li>
<li> <p><strong>resource</strong> (character): The name of the resource
</p>
</li>
<li> <p><strong>mid</strong> (integer): The identifier of the member
</p>
</li>
<li> <p><strong>table</strong> (character): The table recording collection information
</p>
</li>
<li> <p><strong>field</strong> (character): The collection field.
</p>
</li>
<li> <p><strong>static</strong> (logical): TRUE if the field value is common to all elements.
</p>
</li>
<li> <p><strong>value</strong> (character): The name of the table column if static is FALSE
or the field value if static is TRUE.
</p>
</li>
<li> <p><strong>type</strong> (character): the type of the field.
(not necessarily used ==&gt; NA if not)
</p>
</li></ul>


<hr>
<h2 id='compare_MDB'>Compare two MDB objects</h2><span id='topic+compare_MDB'></span>

<h3>Description</h3>

<p>Compare two MDB objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_MDB(former, new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_MDB_+3A_former">former</code></td>
<td>
<p>an MDB object</p>
</td></tr>
<tr><td><code id="compare_MDB_+3A_new">new</code></td>
<td>
<p>an MDB object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with 4 columns:
</p>

<ul>
<li> <p><strong>Information</strong>: Compared information
</p>
</li>
<li> <p><strong>Former</strong>: value for the former object
</p>
</li>
<li> <p><strong>New</strong>: value for the new object
</p>
</li>
<li> <p><strong>Identical</strong>: a logical indicating if the 2 values are identical
</p>
</li></ul>


<hr>
<h2 id='count_records.MDB'>Count the number of records</h2><span id='topic+count_records.MDB'></span><span id='topic+count_records'></span>

<h3>Description</h3>

<p>Count the number of records
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MDB'
count_records(x, ...)

count_records(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count_records.MDB_+3A_x">x</code></td>
<td>
<p>an object with embedded data tables</p>
</td></tr>
<tr><td><code id="count_records.MDB_+3A_...">...</code></td>
<td>
<p>the name of the tables to consider (default: all of them)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector with the number of records per table.
</p>

<hr>
<h2 id='create_chMDB'>Create a database in a <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+create_chMDB'></span>

<h3>Description</h3>

<p>Create a database in a <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_chMDB(x, name, public = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="create_chMDB_+3A_name">name</code></td>
<td>
<p>the name of the new database</p>
</td></tr>
<tr><td><code id="create_chMDB_+3A_public">public</code></td>
<td>
<p>if the database data are accessible to any user (default:FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='create_chTKCat_user'>Create a chTKCat user</h2><span id='topic+create_chTKCat_user'></span>

<h3>Description</h3>

<p>Create a chTKCat user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_chTKCat_user(
  x,
  login,
  password,
  contact,
  admin = FALSE,
  provider = admin
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_chTKCat_user_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="create_chTKCat_user_+3A_login">login</code></td>
<td>
<p>user login</p>
</td></tr>
<tr><td><code id="create_chTKCat_user_+3A_password">password</code></td>
<td>
<p>user password</p>
</td></tr>
<tr><td><code id="create_chTKCat_user_+3A_contact">contact</code></td>
<td>
<p>contact information (can be NA)</p>
</td></tr>
<tr><td><code id="create_chTKCat_user_+3A_admin">admin</code></td>
<td>
<p>a logical indicating if the user is an admin of the chTKCat
instance (default: TRUE)</p>
</td></tr>
<tr><td><code id="create_chTKCat_user_+3A_provider">provider</code></td>
<td>
<p>a logical indicating if the user is data provider (TRUE)
or a data consumer (FALSE: default). If admin
is set to TRUE provider will be set to TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='data_file_size'>Get the size of data files from a <a href="#topic+fileMDB">fileMDB</a> object</h2><span id='topic+data_file_size'></span>

<h3>Description</h3>

<p>Get the size of data files from a <a href="#topic+fileMDB">fileMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_file_size(x, hr = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_file_size_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+fileMDB">fileMDB</a> object</p>
</td></tr>
<tr><td><code id="data_file_size_+3A_hr">hr</code></td>
<td>
<p>a logical indicating if the values should be &quot;human readable&quot;.
(default: FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector with size in bytes (hr=FALSE) or
a character vector with size and units (hr=TRUE)
</p>

<hr>
<h2 id='data_files'>Get the data files from a <a href="#topic+fileMDB">fileMDB</a> object</h2><span id='topic+data_files'></span>

<h3>Description</h3>

<p>Get the data files from a <a href="#topic+fileMDB">fileMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_files(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_files_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+fileMDB">fileMDB</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with &quot;dataFiles&quot; and &quot;readParameters&quot; for reading the files.
</p>

<hr>
<h2 id='data_model.chMDB'>Get object data model</h2><span id='topic+data_model.chMDB'></span><span id='topic+data_model.fileMDB'></span><span id='topic+data_model'></span><span id='topic+data_model.memoMDB'></span><span id='topic+data_model.metaMDB'></span>

<h3>Description</h3>

<p>Get object data model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
data_model(x, ...)

## S3 method for class 'fileMDB'
data_model(x, ...)

data_model(x, ...)

## S3 method for class 'memoMDB'
data_model(x, ...)

## S3 method for class 'metaMDB'
data_model(x, rtOnly = FALSE, recursive = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_model.chMDB_+3A_x">x</code></td>
<td>
<p>an object with an embedded data model</p>
</td></tr>
<tr><td><code id="data_model.chMDB_+3A_...">...</code></td>
<td>
<p>method specific parameters</p>
</td></tr>
<tr><td><code id="data_model.chMDB_+3A_rtonly">rtOnly</code></td>
<td>
<p>if TRUE, the function only returns the relational tables
and the corresponding foreign tables (default: FALSE)</p>
</td></tr>
<tr><td><code id="data_model.chMDB_+3A_recursive">recursive</code></td>
<td>
<p>if TRUE and rtOnly, the function returns also the
relational tables from embedded metaMDBs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a> object
</p>

<hr>
<h2 id='data_tables.chMDB'>Get object data tables</h2><span id='topic+data_tables.chMDB'></span><span id='topic+data_tables.fileMDB'></span><span id='topic+data_tables'></span><span id='topic+data_tables.memoMDB'></span><span id='topic+data_tables.metaMDB'></span>

<h3>Description</h3>

<p>Get object data tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
data_tables(x, ..., skip = 0, n_max = Inf)

## S3 method for class 'fileMDB'
data_tables(x, ..., skip = 0, n_max = Inf)

data_tables(x, ..., skip = 0, n_max = Inf)

## S3 method for class 'memoMDB'
data_tables(x, ..., skip = 0, n_max = Inf)

## S3 method for class 'metaMDB'
data_tables(x, ..., skip = 0, n_max = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_tables.chMDB_+3A_x">x</code></td>
<td>
<p>an object with embedded data tables</p>
</td></tr>
<tr><td><code id="data_tables.chMDB_+3A_...">...</code></td>
<td>
<p>the name of the tables to get (default: all of them)</p>
</td></tr>
<tr><td><code id="data_tables.chMDB_+3A_skip">skip</code></td>
<td>
<p>the number of rows to skip (default: 0)</p>
</td></tr>
<tr><td><code id="data_tables.chMDB_+3A_n_max">n_max</code></td>
<td>
<p>maximum number of rows to return (default: Inf)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <a href="dplyr.html#topic+reexports">dplyr::tibble</a> and <a href="base.html#topic+matrix">matrix</a>
</p>

<hr>
<h2 id='db_disconnect.chMDB'>Disconnect an object from a database</h2><span id='topic+db_disconnect.chMDB'></span><span id='topic+db_disconnect.chTKCat'></span><span id='topic+db_disconnect'></span><span id='topic+db_disconnect.metaMDB'></span>

<h3>Description</h3>

<p>Disconnect an object from a database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
db_disconnect(x)

## S3 method for class 'chTKCat'
db_disconnect(x)

db_disconnect(x)

## S3 method for class 'metaMDB'
db_disconnect(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="db_disconnect.chMDB_+3A_x">x</code></td>
<td>
<p>an object with a database connection</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='db_info.chMDB'>DB information</h2><span id='topic+db_info.chMDB'></span><span id='topic+db_info+3C-.chMDB'></span><span id='topic+db_info.fileMDB'></span><span id='topic+db_info+3C-.fileMDB'></span><span id='topic+db_info'></span><span id='topic+db_info+3C-'></span><span id='topic+db_info.memoMDB'></span><span id='topic+db_info+3C-.memoMDB'></span><span id='topic+db_info.metaMDB'></span><span id='topic+db_info+3C-.metaMDB'></span>

<h3>Description</h3>

<p>DB information
</p>
<p>DB information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
db_info(x, ...)

## S3 replacement method for class 'chMDB'
db_info(x) &lt;- value

## S3 method for class 'fileMDB'
db_info(x, ...)

## S3 replacement method for class 'fileMDB'
db_info(x) &lt;- value

db_info(x, ...)

db_info(x) &lt;- value

## S3 method for class 'memoMDB'
db_info(x, ...)

## S3 replacement method for class 'memoMDB'
db_info(x) &lt;- value

## S3 method for class 'metaMDB'
db_info(x, ...)

## S3 replacement method for class 'metaMDB'
db_info(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="db_info.chMDB_+3A_x">x</code></td>
<td>
<p>an object with embedded database information</p>
</td></tr>
<tr><td><code id="db_info.chMDB_+3A_...">...</code></td>
<td>
<p>method specific parameters</p>
</td></tr>
<tr><td><code id="db_info.chMDB_+3A_value">value</code></td>
<td>
<p>list with the following elements:
</p>

<ul>
<li> <p><strong>name</strong>: a single character
</p>
</li>
<li> <p><strong>title</strong>: a single character
</p>
</li>
<li> <p><strong>description</strong>: a single character
</p>
</li>
<li> <p><strong>url</strong>: a single character
</p>
</li>
<li> <p><strong>version</strong>: a single character
</p>
</li>
<li> <p><strong>maintainer</strong>: a single character vector
</p>
</li>
<li> <p><strong>size</strong>: a numeric vector providing the size of the DB in bytes
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following elements:
</p>

<ul>
<li> <p><strong>name</strong>: a single character
</p>
</li>
<li> <p><strong>title</strong>: a single character
</p>
</li>
<li> <p><strong>description</strong>: a single character
</p>
</li>
<li> <p><strong>url</strong>: a single character
</p>
</li>
<li> <p><strong>version</strong>: a single character
</p>
</li>
<li> <p><strong>maintainer</strong>: a single character vector
</p>
</li>
<li> <p><strong>size</strong>: a numeric vector providing the size of the DB in bytes
</p>
</li></ul>


<hr>
<h2 id='db_reconnect.chMDB'>Reconnect an object to a database</h2><span id='topic+db_reconnect.chMDB'></span><span id='topic+db_reconnect.chTKCat'></span><span id='topic+db_reconnect'></span><span id='topic+db_reconnect.metaMDB'></span>

<h3>Description</h3>

<p>Reconnect an object to a database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
db_reconnect(x, user, password, ntries = 3, ...)

## S3 method for class 'chTKCat'
db_reconnect(x, user, password, ntries = 3, ...)

db_reconnect(x, user, password, ntries = 3, ...)

## S3 method for class 'metaMDB'
db_reconnect(x, user, password, ntries = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="db_reconnect.chMDB_+3A_x">x</code></td>
<td>
<p>an object with a database connection</p>
</td></tr>
<tr><td><code id="db_reconnect.chMDB_+3A_user">user</code></td>
<td>
<p>user name. If not provided, it's taken from x</p>
</td></tr>
<tr><td><code id="db_reconnect.chMDB_+3A_password">password</code></td>
<td>
<p>user password. If not provided, first the function
tries to connect without any password.If it fails, the function asks the
user to provide a password.</p>
</td></tr>
<tr><td><code id="db_reconnect.chMDB_+3A_ntries">ntries</code></td>
<td>
<p>the number of times the user can enter a wrong password
(default: 3)</p>
</td></tr>
<tr><td><code id="db_reconnect.chMDB_+3A_...">...</code></td>
<td>
<p>additional parameters for methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new database connection object.
</p>

<hr>
<h2 id='db_tables'>Get the DB tables from a <a href="#topic+chMDB">chMDB</a> or <a href="#topic+metaMDB">metaMDB</a> object</h2><span id='topic+db_tables'></span>

<h3>Description</h3>

<p>Get the DB tables from a <a href="#topic+chMDB">chMDB</a> or <a href="#topic+metaMDB">metaMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>db_tables(x, host)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="db_tables_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chMDB">chMDB</a> or a <a href="#topic+metaMDB">metaMDB</a> object</p>
</td></tr>
<tr><td><code id="db_tables_+3A_host">host</code></td>
<td>
<p>the name of host (as returned by <code style="white-space: pre;">&#8288;[get_hosts]&#8288;</code>) to focus on.
Only used with <a href="#topic+metaMDB">metaMDB</a> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with a chTKCat object (tkcon) and
a named vector of DB table names (dbTables).
</p>

<hr>
<h2 id='dims.chMDB'>Detailed information about the format of the tables</h2><span id='topic+dims.chMDB'></span><span id='topic+dims.fileMDB'></span><span id='topic+dims'></span><span id='topic+dims.memoMDB'></span><span id='topic+dims.metaMDB'></span>

<h3>Description</h3>

<p>Detailed information about the format of the tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
dims(x, ...)

## S3 method for class 'fileMDB'
dims(
  x,
  ...,
  by = 1000,
  estimateThr = 5e+07,
  estimateSample = 10^6,
  showWarnings = TRUE
)

dims(x, ...)

## S3 method for class 'memoMDB'
dims(x, ...)

## S3 method for class 'metaMDB'
dims(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dims.chMDB_+3A_x">x</code></td>
<td>
<p>an object with embedded data tables</p>
</td></tr>
<tr><td><code id="dims.chMDB_+3A_...">...</code></td>
<td>
<p>the name of the tables to consider (default: all of them)</p>
</td></tr>
<tr><td><code id="dims.chMDB_+3A_by">by</code></td>
<td>
<p>the size of the batch: number of lines to count
together (default: 1000)</p>
</td></tr>
<tr><td><code id="dims.chMDB_+3A_estimatethr">estimateThr</code></td>
<td>
<p>file size threshold in bytes from which an estimation
of row number should be computed instead of a precise count
(default: 50000000 = 50MB)</p>
</td></tr>
<tr><td><code id="dims.chMDB_+3A_estimatesample">estimateSample</code></td>
<td>
<p>number of values on which the estimation is based
(default: 10^6)</p>
</td></tr>
<tr><td><code id="dims.chMDB_+3A_showwarnings">showWarnings</code></td>
<td>
<p>a warning is raised by default if estimation is done.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with one row for each considered table and the
following columns:
</p>

<ul>
<li><p> name: the name of the table
</p>
</li>
<li><p> format: &quot;table&quot; or &quot;matrix&quot;
</p>
</li>
<li><p> ncol: number of columns
</p>
</li>
<li><p> nrow: number of rows
</p>
</li>
<li><p> records: number of records (<code>nrow</code> for tables and <code>ncol*nrow</code> for matrices)
</p>
</li>
<li><p> transposed: FALSE by default. TRUE only for matrices stored in a
transposed format.
</p>
</li></ul>


<hr>
<h2 id='drop_chMDB'>Drop a database from a <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+drop_chMDB'></span>

<h3>Description</h3>

<p>Drop a database from a <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_chMDB(x, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="drop_chMDB_+3A_name">name</code></td>
<td>
<p>the name of the database to remove</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='drop_chTKCat_user'>Drop a user from a <a href="#topic+chTKCat">chTKCat</a> object</h2><span id='topic+drop_chTKCat_user'></span>

<h3>Description</h3>

<p>Drop a user from a <a href="#topic+chTKCat">chTKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_chTKCat_user(x, login)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_chTKCat_user_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="drop_chTKCat_user_+3A_login">login</code></td>
<td>
<p>login of the user to drop</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='empty_chMDB'>Empty a chMDB in a <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+empty_chMDB'></span>

<h3>Description</h3>

<p>Empty a chMDB in a <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>empty_chMDB(x, name, timestamp = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="empty_chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="empty_chMDB_+3A_name">name</code></td>
<td>
<p>the name of the database to empty</p>
</td></tr>
<tr><td><code id="empty_chMDB_+3A_timestamp">timestamp</code></td>
<td>
<p>timestamp of the instance to empty. If NA (default)
the current instance is emptied.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='explore_MDBs.TKCat'>Explore available <a href="#topic+MDB">MDB</a> in a shiny web interface</h2><span id='topic+explore_MDBs.TKCat'></span><span id='topic+explore_MDBs.chTKCat'></span><span id='topic+explore_MDBs'></span>

<h3>Description</h3>

<p>Explore available <a href="#topic+MDB">MDB</a> in a shiny web interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TKCat'
explore_MDBs(
  x,
  subSetSize = 100,
  download = FALSE,
  workers = 4,
  title = NULL,
  skinColors = "green",
  logoDiv = TKCAT_LOGO_DIV,
  rDirs = NULL,
  tabTitle = "TKCat",
  tabIcon = "www/TKCat-small.png",
  ...
)

## S3 method for class 'chTKCat'
explore_MDBs(
  x,
  subSetSize = 100,
  host = x$chcon@host,
  download = FALSE,
  workers = 4,
  userManager = NULL,
  title = NULL,
  skinColors = c("blue", "yellow"),
  logoDiv = TKCAT_LOGO_DIV,
  tabTitle = "chTKCat",
  tabIcon = "www/TKCat-small.png",
  rDirs = NULL,
  ...
)

explore_MDBs(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="explore_MDBs.TKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+TKCat">TKCat</a> related object (e.g. <a href="#topic+chTKCat">chTKCat</a>)</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_subsetsize">subSetSize</code></td>
<td>
<p>the maximum number of records to show</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_download">download</code></td>
<td>
<p>a logical indicating if data can be downloaded
(default: FALSE). If TRUE a temporary directory is created and made
available for shiny.</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_workers">workers</code></td>
<td>
<p>number of available workers when download is available
(default: 4)</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_title">title</code></td>
<td>
<p>A title for the application. If NULL (default):
the chTKCat instance name</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_skincolors">skinColors</code></td>
<td>
<p>two colors for the application skin: one for default
connection (&quot;blue&quot; by default) and one for user
connection (&quot;yellow&quot; by default).
Working values: &quot;blue&quot;, &quot;black&quot;, &quot;purple&quot;, &quot;green&quot;, &quot;red&quot;, &quot;yellow&quot;.</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_logodiv">logoDiv</code></td>
<td>
<p>a <a href="shiny.html#topic+reexports">shiny::div</a> object with a logo to display in side bar.
The default is the TKCat hex sticker with a link to TKCat github repository.</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_rdirs">rDirs</code></td>
<td>
<p>a named character vector with resource path
for <a href="shiny.html#topic+resourcePaths">shiny::addResourcePath</a></p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_tabtitle">tabTitle</code></td>
<td>
<p>a title to display in tab (default: &quot;chTKCat&quot;)</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_tabicon">tabIcon</code></td>
<td>
<p>a path to an image
(in available resource paths: &quot;www&quot;, &quot;doc&quot; or in rDirs) to use as a tab icon.</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_...">...</code></td>
<td>
<p>method specific parameters</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_host">host</code></td>
<td>
<p>the name of the host to show in the application</p>
</td></tr>
<tr><td><code id="explore_MDBs.TKCat_+3A_usermanager">userManager</code></td>
<td>
<p>URL for user management interface
(see <code><a href="#topic+manage_chTKCat_users">manage_chTKCat_users()</a></code>). If NULL (default), the functionality
is not added.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='filter_mdb_matrix.chMDB'>Filter a matrix stored in an MDB</h2><span id='topic+filter_mdb_matrix.chMDB'></span><span id='topic+filter_mdb_matrix.fileMDB'></span><span id='topic+filter_mdb_matrix'></span><span id='topic+filter_mdb_matrix.memoMDB'></span><span id='topic+filter_mdb_matrix.metaMDB'></span>

<h3>Description</h3>

<p>Filter a matrix stored in an MDB
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
filter_mdb_matrix(x, tableName, ...)

## S3 method for class 'fileMDB'
filter_mdb_matrix(x, tableName, .by = 10^5, ...)

filter_mdb_matrix(x, tableName, ...)

## S3 method for class 'memoMDB'
filter_mdb_matrix(x, tableName, ...)

## S3 method for class 'metaMDB'
filter_mdb_matrix(x, tableName, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_mdb_matrix.chMDB_+3A_x">x</code></td>
<td>
<p>an <a href="#topic+MDB">MDB</a> object</p>
</td></tr>
<tr><td><code id="filter_mdb_matrix.chMDB_+3A_tablename">tableName</code></td>
<td>
<p>a character vector of length 1 corresponding to the name of
the table to filter (must be a matrix)</p>
</td></tr>
<tr><td><code id="filter_mdb_matrix.chMDB_+3A_...">...</code></td>
<td>
<p>character vectors with the row names and/or columns names to
select. The names of the parameters must correspond to the name of the
column and of the row fields (the matrix cannot be filtered from values).</p>
</td></tr>
<tr><td><code id="filter_mdb_matrix.chMDB_+3A_.by">.by</code></td>
<td>
<p>the size of the batch: number of lines to process
together (default: 10000)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A sub-matrix of tableName in x. Only existing elements are returned.
No error is raised if any element is missing. The result must be checked
and adapted to user needs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Return the matrix of expression values focused on the selected genes
filter_mdb_matrix(x=db, "Expression_value", gene=c("SNCA", "MAPT"))

## End(Not run)

</code></pre>

<hr>
<h2 id='filter_with_tables.chMDB'>Filter an <a href="#topic+MDB">MDB</a> object according to provided tables</h2><span id='topic+filter_with_tables.chMDB'></span><span id='topic+filter_with_tables.fileMDB'></span><span id='topic+filter_with_tables'></span><span id='topic+filter_with_tables.memoMDB'></span><span id='topic+filter_with_tables.metaMDB'></span>

<h3>Description</h3>

<p>Filter an <a href="#topic+MDB">MDB</a> object according to provided tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
filter_with_tables(x, tables, checkTables = TRUE, by = 10^5, ...)

## S3 method for class 'fileMDB'
filter_with_tables(x, tables, checkTables = TRUE, by = 10^5, ...)

filter_with_tables(x, tables, checkTables = TRUE, ...)

## S3 method for class 'memoMDB'
filter_with_tables(x, tables, checkTables = TRUE, ...)

## S3 method for class 'metaMDB'
filter_with_tables(x, tables, checkTables = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_with_tables.chMDB_+3A_x">x</code></td>
<td>
<p>an <a href="#topic+MDB">MDB</a> object</p>
</td></tr>
<tr><td><code id="filter_with_tables.chMDB_+3A_tables">tables</code></td>
<td>
<p>a named list of tibbles to filter with. The names should
correspond to the table names in x and the tibbles should fit the
data model.</p>
</td></tr>
<tr><td><code id="filter_with_tables.chMDB_+3A_checktables">checkTables</code></td>
<td>
<p>if TRUE, the tables are confronted to their model
in the data model of x.</p>
</td></tr>
<tr><td><code id="filter_with_tables.chMDB_+3A_by">by</code></td>
<td>
<p>the size of the batch: number of lines to process
together (default: 10000)</p>
</td></tr>
<tr><td><code id="filter_with_tables.chMDB_+3A_...">...</code></td>
<td>
<p>method specific parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='filter.chMDB'>Filter a <a href="#topic+chMDB">chMDB</a> object and return a <a href="#topic+memoMDB">memoMDB</a></h2><span id='topic+filter.chMDB'></span>

<h3>Description</h3>

<p>Filter a <a href="#topic+chMDB">chMDB</a> object and return a <a href="#topic+memoMDB">memoMDB</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
filter(.data, ..., by = 10^5, .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter.chMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+chMDB">chMDB</a> object</p>
</td></tr>
<tr><td><code id="filter.chMDB_+3A_...">...</code></td>
<td>
<p>each argument should have the name of one of the tables of the
<a href="#topic+chMDB">chMDB</a> object and contain a simple logical expression involving
the names of the corresponding table.</p>
</td></tr>
<tr><td><code id="filter.chMDB_+3A_by">by</code></td>
<td>
<p>the size of the batch: number of records to filter
together (default: 10^5)</p>
</td></tr>
<tr><td><code id="filter.chMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='filter.fileMDB'>Filter a <a href="#topic+fileMDB">fileMDB</a> object and return a <a href="#topic+memoMDB">memoMDB</a></h2><span id='topic+filter.fileMDB'></span>

<h3>Description</h3>

<p>Filter a <a href="#topic+fileMDB">fileMDB</a> object and return a <a href="#topic+memoMDB">memoMDB</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fileMDB'
filter(.data, ..., .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter.fileMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+fileMDB">fileMDB</a> object</p>
</td></tr>
<tr><td><code id="filter.fileMDB_+3A_...">...</code></td>
<td>
<p>each argument should have the name of one of the tables of the
<a href="#topic+fileMDB">fileMDB</a> object and contain a simple logical expression involving
the names of the corresponding table.</p>
</td></tr>
<tr><td><code id="filter.fileMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='filter.memoMDB'>Filter a <a href="#topic+memoMDB">memoMDB</a> object</h2><span id='topic+filter.memoMDB'></span>

<h3>Description</h3>

<p>Filter a <a href="#topic+memoMDB">memoMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'memoMDB'
filter(.data, ..., .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter.memoMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+memoMDB">memoMDB</a> object</p>
</td></tr>
<tr><td><code id="filter.memoMDB_+3A_...">...</code></td>
<td>
<p>each argument should have the name of one of the tables of the
<a href="#topic+memoMDB">memoMDB</a> object and contain a simple logical expression involving
the names of the corresponding table.</p>
</td></tr>
<tr><td><code id="filter.memoMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a filtered <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='filter.metaMDB'>Filter a <a href="#topic+metaMDB">metaMDB</a> object</h2><span id='topic+filter.metaMDB'></span>

<h3>Description</h3>

<p>Filter a <a href="#topic+metaMDB">metaMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metaMDB'
filter(.data, ..., .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter.metaMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+metaMDB">metaMDB</a> object</p>
</td></tr>
<tr><td><code id="filter.metaMDB_+3A_...">...</code></td>
<td>
<p>each argument should have the name of one of the tables of the
<a href="#topic+metaMDB">metaMDB</a> object and contain a simple logical expression involving
the names of the corresponding table.</p>
</td></tr>
<tr><td><code id="filter.metaMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a filtered <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='format.chTKCat'>Format a <a href="#topic+chTKCat">chTKCat</a> object for printing</h2><span id='topic+format.chTKCat'></span>

<h3>Description</h3>

<p>Format a <a href="#topic+chTKCat">chTKCat</a> object for printing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chTKCat'
format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format.chTKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="format.chTKCat_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single character
</p>

<hr>
<h2 id='get_chMDB_timestamps'>Get instance timestamps of an MDB in <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+get_chMDB_timestamps'></span>

<h3>Description</h3>

<p>Get instance timestamps of an MDB in <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_chMDB_timestamps(x, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_chMDB_timestamps_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="get_chMDB_timestamps_+3A_name">name</code></td>
<td>
<p>the name of the database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the instance &quot;timestamp&quot; and a logical indicating if
it's the &quot;current&quot; one or not.
</p>

<hr>
<h2 id='get_chTKCat_collection'>Get a collection from a <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+get_chTKCat_collection'></span>

<h3>Description</h3>

<p>Get a collection from a <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_chTKCat_collection(x, title)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_chTKCat_collection_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="get_chTKCat_collection_+3A_title">title</code></td>
<td>
<p>the title of the collection to get</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The definition of the collection as a JSON string.
</p>

<hr>
<h2 id='get_collection_mapper'>Get the default mapper function for a collection</h2><span id='topic+get_collection_mapper'></span>

<h3>Description</h3>

<p>Get the default mapper function for a collection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_collection_mapper(collection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_collection_mapper_+3A_collection">collection</code></td>
<td>
<p>the name of the targeted collection
(it should belong to local collections: see <code><a href="#topic+list_local_collections">list_local_collections()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function to map collection members.
</p>

<hr>
<h2 id='get_confrontation_report'>Get the last generated MDB confrontation report</h2><span id='topic+get_confrontation_report'></span>

<h3>Description</h3>

<p>Get the last generated MDB confrontation report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_confrontation_report()
</code></pre>


<h3>Value</h3>

<p>A confrontation report generated by <code><a href="ReDaMoR.html#topic+confront_data">ReDaMoR::confront_data()</a></code>
</p>

<hr>
<h2 id='get_hosts.DBIConnection'>Get database hosts</h2><span id='topic+get_hosts.DBIConnection'></span><span id='topic+get_hosts.chMDB'></span><span id='topic+get_hosts.chTKCat'></span><span id='topic+get_hosts'></span><span id='topic+get_hosts.metaMDB'></span>

<h3>Description</h3>

<p>Get database hosts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'DBIConnection'
get_hosts(x, ...)

## S3 method for class 'chMDB'
get_hosts(x, ...)

## S3 method for class 'chTKCat'
get_hosts(x, ...)

get_hosts(x, ...)

## S3 method for class 'metaMDB'
get_hosts(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_hosts.DBIConnection_+3A_x">x</code></td>
<td>
<p>an object with database connection(s)</p>
</td></tr>
<tr><td><code id="get_hosts.DBIConnection_+3A_...">...</code></td>
<td>
<p>additional parameters for methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with hosts information (generaly 1)
in the following shape: &quot;host:port&quot;
</p>

<hr>
<h2 id='get_local_collection'>Get the json definition of a local collection of concepts</h2><span id='topic+get_local_collection'></span>

<h3>Description</h3>

<p>Get the json definition of a local collection of concepts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_local_collection(title)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_local_collection_+3A_title">title</code></td>
<td>
<p>the title of the collection to get</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The definition of the collection as a JSON string.
</p>

<hr>
<h2 id='get_MDB.TKCat'>Get an <a href="#topic+MDB">MDB</a> object from a <a href="#topic+TKCat">TKCat</a> related object</h2><span id='topic+get_MDB.TKCat'></span><span id='topic+get_MDB.chTKCat'></span><span id='topic+get_MDB'></span>

<h3>Description</h3>

<p>Get an <a href="#topic+MDB">MDB</a> object from a <a href="#topic+TKCat">TKCat</a> related object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TKCat'
get_MDB(x, dbName, ...)

## S3 method for class 'chTKCat'
get_MDB(x, dbName, timestamp = NA, check = TRUE, n_max = 10, ...)

get_MDB(x, dbName, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_MDB.TKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+TKCat">TKCat</a> related object (e.g. <a href="#topic+chTKCat">chTKCat</a>)</p>
</td></tr>
<tr><td><code id="get_MDB.TKCat_+3A_dbname">dbName</code></td>
<td>
<p>the name of the database</p>
</td></tr>
<tr><td><code id="get_MDB.TKCat_+3A_...">...</code></td>
<td>
<p>method specific parameters</p>
</td></tr>
<tr><td><code id="get_MDB.TKCat_+3A_timestamp">timestamp</code></td>
<td>
<p>the timestamp of the instance to get.
Default=NA: get the current version.</p>
</td></tr>
<tr><td><code id="get_MDB.TKCat_+3A_check">check</code></td>
<td>
<p>logical: if TRUE (default) the data are confronted to the
data model</p>
</td></tr>
<tr><td><code id="get_MDB.TKCat_+3A_n_max">n_max</code></td>
<td>
<p>maximum number of records to read
for checks purpose (default: 10). See also <code><a href="ReDaMoR.html#topic+confront_data">ReDaMoR::confront_data()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <a href="#topic+MDB">MDB</a> object
</p>


<h3>See Also</h3>

<p><a href="#topic+get_confrontation_report">get_confrontation_report</a>, <a href="ReDaMoR.html#topic+format_confrontation_report">ReDaMoR::format_confrontation_report</a>
and <a href="ReDaMoR.html#topic+format_confrontation_report_md">ReDaMoR::format_confrontation_report_md</a> for getting and formatting
the report confronting the data to the model.
</p>

<hr>
<h2 id='get_query.chMDB'>Get SQL query</h2><span id='topic+get_query.chMDB'></span><span id='topic+get_query.chTKCat'></span><span id='topic+get_query'></span>

<h3>Description</h3>

<p>Get SQL query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
get_query(x, query, autoalias = !is_current_chMDB(x), ...)

## S3 method for class 'chTKCat'
get_query(x, query, ...)

get_query(x, query, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_query.chMDB_+3A_x">x</code></td>
<td>
<p>an object with a database connection</p>
</td></tr>
<tr><td><code id="get_query.chMDB_+3A_query">query</code></td>
<td>
<p>the SQL query</p>
</td></tr>
<tr><td><code id="get_query.chMDB_+3A_autoalias">autoalias</code></td>
<td>
<p>Change this parameter only if you know what you're doing.
if TRUE, make relevant alias to query the chMDB
using the table names from the data model. If FALSE, the user must know the
table instance name in the remote database. By default, autoalias is set
to TRUE when using a non-current instance of the database.</p>
</td></tr>
<tr><td><code id="get_query.chMDB_+3A_...">...</code></td>
<td>
<p>method specific parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with query results
</p>

<hr>
<h2 id='get_shared_collections'>Get collections shared by 2 objects and return member combinations</h2><span id='topic+get_shared_collections'></span>

<h3>Description</h3>

<p>Get collections shared by 2 objects and return member combinations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_shared_collections(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_shared_collections_+3A_x">x</code></td>
<td>
<p>an MDB object</p>
</td></tr>
<tr><td><code id="get_shared_collections_+3A_y">y</code></td>
<td>
<p>an MDB object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the following fields:
</p>

<ul>
<li> <p><strong>collection</strong> the name of the collection
</p>
</li>
<li> <p><strong>mid.x</strong> the collection member identifier in x
</p>
</li>
<li> <p><strong>table.x</strong> the table of the collection member in x
</p>
</li>
<li> <p><strong>mid.y</strong> the collection member identifier in y
</p>
</li>
<li> <p><strong>table.y</strong> the table of the collection member in y
</p>
</li></ul>


<hr>
<h2 id='heads.chMDB'>Get the first records of each object data tables</h2><span id='topic+heads.chMDB'></span><span id='topic+heads.fileMDB'></span><span id='topic+heads'></span><span id='topic+heads.memoMDB'></span><span id='topic+heads.metaMDB'></span>

<h3>Description</h3>

<p>Get the first records of each object data tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
heads(x, ..., n = 6L)

## S3 method for class 'fileMDB'
heads(x, ..., n = 6L)

heads(x, ..., n = 6L)

## S3 method for class 'memoMDB'
heads(x, ..., n = 6L)

## S3 method for class 'metaMDB'
heads(x, ..., n = 6L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heads.chMDB_+3A_x">x</code></td>
<td>
<p>an object with embedded data tables</p>
</td></tr>
<tr><td><code id="heads.chMDB_+3A_...">...</code></td>
<td>
<p>the name of the tables to get (default: all of them)</p>
</td></tr>
<tr><td><code id="heads.chMDB_+3A_n">n</code></td>
<td>
<p>maximum number of records to return (default: 6)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <a href="dplyr.html#topic+reexports">dplyr::tibble</a> and <a href="base.html#topic+matrix">matrix</a>
</p>

<hr>
<h2 id='import_collection_mapper'>Import a  function to map collection members</h2><span id='topic+import_collection_mapper'></span>

<h3>Description</h3>

<p>Import a  function to map collection members
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_collection_mapper(collection, fun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_collection_mapper_+3A_collection">collection</code></td>
<td>
<p>the name of the targeted collection
(it should belong to local collections: see <code><a href="#topic+list_local_collections">list_local_collections()</a></code>).</p>
</td></tr>
<tr><td><code id="import_collection_mapper_+3A_fun">fun</code></td>
<td>
<p>a function which takes 2 data.frames (x an y) with
fields described in the collection definition and map the different elements.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects. The function will be used
to map collection members.
</p>

<hr>
<h2 id='import_local_collection'>Import a  the definition of a collection of concepts in the local environment</h2><span id='topic+import_local_collection'></span>

<h3>Description</h3>

<p>Import a  the definition of a collection of concepts in the local environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_local_collection(txt, overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_local_collection_+3A_txt">txt</code></td>
<td>
<p>a JSON string or file</p>
</td></tr>
<tr><td><code id="import_local_collection_+3A_overwrite">overwrite</code></td>
<td>
<p>a single logical. If TRUE the collection is overwritten
if it already exists (default: FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects. The collection will be
available and operations will be possible on its members.
</p>

<hr>
<h2 id='init_chTKCat'>Initialize a chTKCat database</h2><span id='topic+init_chTKCat'></span>

<h3>Description</h3>

<p>The initialization can only be done locally (host=&quot;localhost&quot;)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>init_chTKCat(x, instance, version, path, login, password, contact)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="init_chTKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="init_chTKCat_+3A_instance">instance</code></td>
<td>
<p>instance name of the database</p>
</td></tr>
<tr><td><code id="init_chTKCat_+3A_version">version</code></td>
<td>
<p>version name of the database</p>
</td></tr>
<tr><td><code id="init_chTKCat_+3A_path">path</code></td>
<td>
<p>path to ClickHouse folder</p>
</td></tr>
<tr><td><code id="init_chTKCat_+3A_login">login</code></td>
<td>
<p>login of the primary administrator of the database</p>
</td></tr>
<tr><td><code id="init_chTKCat_+3A_password">password</code></td>
<td>
<p>password for the primary administrator of the database</p>
</td></tr>
<tr><td><code id="init_chTKCat_+3A_contact">contact</code></td>
<td>
<p>contact information for the primary administrator of
the database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+chTKCat">chTKCat</a>
</p>

<hr>
<h2 id='is_chMDB_public'>Is a chMDB public</h2><span id='topic+is_chMDB_public'></span>

<h3>Description</h3>

<p>Is a chMDB public
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_chMDB_public(x, mdb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_chMDB_public_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="is_chMDB_public_+3A_mdb">mdb</code></td>
<td>
<p>name of the modeled database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical indicating if the chMDB is public or not.
</p>

<hr>
<h2 id='is_current_chMDB'>Check if the <a href="#topic+chMDB">chMDB</a> object refers to the current instance of the MDB</h2><span id='topic+is_current_chMDB'></span>

<h3>Description</h3>

<p>Check if the <a href="#topic+chMDB">chMDB</a> object refers to the current instance of the MDB
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_current_chMDB(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_current_chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chMDB">chMDB</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical:
TRUE if x refers to the current instance of the MDB.
</p>

<hr>
<h2 id='is.chMDB'>Check if the object is a <a href="#topic+chMDB">chMDB</a> object</h2><span id='topic+is.chMDB'></span>

<h3>Description</h3>

<p>Check if the object is a <a href="#topic+chMDB">chMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.chMDB(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.chMDB_+3A_x">x</code></td>
<td>
<p>any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical: TRUE if x is a <a href="#topic+chMDB">chMDB</a> object
</p>

<hr>
<h2 id='is.chTKCat'>Check the object is  a <a href="#topic+chTKCat">chTKCat</a> object</h2><span id='topic+is.chTKCat'></span>

<h3>Description</h3>

<p>Check the object is  a <a href="#topic+chTKCat">chTKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.chTKCat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.chTKCat_+3A_x">x</code></td>
<td>
<p>any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical: TRUE if x is a <a href="#topic+chTKCat">chTKCat</a> object
</p>

<hr>
<h2 id='is.fileMDB'>Check if the object is  a <a href="#topic+fileMDB">fileMDB</a> object</h2><span id='topic+is.fileMDB'></span>

<h3>Description</h3>

<p>Check if the object is  a <a href="#topic+fileMDB">fileMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.fileMDB(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.fileMDB_+3A_x">x</code></td>
<td>
<p>any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical: TRUE if x is an <a href="#topic+fileMDB">fileMDB</a> object
</p>

<hr>
<h2 id='is.MDB'>Check if the object is an <a href="#topic+MDB">MDB</a> object</h2><span id='topic+is.MDB'></span>

<h3>Description</h3>

<p>Check if the object is an <a href="#topic+MDB">MDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.MDB(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.MDB_+3A_x">x</code></td>
<td>
<p>any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical: TRUE if x is an MDB object.
</p>

<hr>
<h2 id='is.memoMDB'>Check if the object is  a <a href="#topic+memoMDB">memoMDB</a> object</h2><span id='topic+is.memoMDB'></span>

<h3>Description</h3>

<p>Check if the object is  a <a href="#topic+memoMDB">memoMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.memoMDB(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.memoMDB_+3A_x">x</code></td>
<td>
<p>any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical: TRUE if x is an <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='is.metaMDB'>Check if the object is  a <a href="#topic+metaMDB">metaMDB</a> object</h2><span id='topic+is.metaMDB'></span>

<h3>Description</h3>

<p>Check if the object is  a <a href="#topic+metaMDB">metaMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.metaMDB(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.metaMDB_+3A_x">x</code></td>
<td>
<p>any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical: TRUE if x is an <a href="#topic+metaMDB">metaMDB</a> object
</p>

<hr>
<h2 id='is.TKCat'>Check the object is  a <a href="#topic+TKCat">TKCat</a> object</h2><span id='topic+is.TKCat'></span>

<h3>Description</h3>

<p>Check the object is  a <a href="#topic+TKCat">TKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.TKCat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.TKCat_+3A_x">x</code></td>
<td>
<p>any object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single logical: TRUE if x is a <a href="#topic+TKCat">TKCat</a> object
</p>

<hr>
<h2 id='join_mdb_tables'>Join connected tables</h2><span id='topic+join_mdb_tables'></span>

<h3>Description</h3>

<p>Join connected tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>join_mdb_tables(
  x,
  ...,
  type = c("left", "right", "inner", "full"),
  jtName = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="join_mdb_tables_+3A_x">x</code></td>
<td>
<p>an MDB object</p>
</td></tr>
<tr><td><code id="join_mdb_tables_+3A_...">...</code></td>
<td>
<p>at least 2 names of tables to join</p>
</td></tr>
<tr><td><code id="join_mdb_tables_+3A_type">type</code></td>
<td>
<p>the type of join among:
</p>

<ul>
<li> <p><code>"left"</code>: includes all rows of the first provided table
</p>
</li>
<li> <p><code>"right"</code>: includes all rows of the last provided table
</p>
</li>
<li> <p><code>"inner"</code>: includes all rows in all provided tables
</p>
</li>
<li> <p><code>"full"</code>: includes all rows in at least one provide table
</p>
</li></ul>
</td></tr>
<tr><td><code id="join_mdb_tables_+3A_jtname">jtName</code></td>
<td>
<p>the name of the joint. IF NA (default), the name
is then the name is the first provided table name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+metaMDB">metaMDB</a> corresponding to x with the
joined tables replaced by the joint.
If less than 2 table names are provided, the function returns
the original x MDB.
</p>

<hr>
<h2 id='list_chMDB_timestamps'>List instance timestamps of an MDB in <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+list_chMDB_timestamps'></span>

<h3>Description</h3>

<p>List instance timestamps of an MDB in <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_chMDB_timestamps(x, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_chMDB_timestamps_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="list_chMDB_timestamps_+3A_name">name</code></td>
<td>
<p>the name of the database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the instance of each table at each timestamp.
The &quot;current&quot; attribute indicate the current timestamp instance.
If there is no recorded timestamp, the function returns NULL.
</p>

<hr>
<h2 id='list_chMDB_users'>List users of an MDB of a <a href="#topic+chTKCat">chTKCat</a> object</h2><span id='topic+list_chMDB_users'></span>

<h3>Description</h3>

<p>List users of an MDB of a <a href="#topic+chTKCat">chTKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_chMDB_users(x, mdbs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_chMDB_users_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="list_chMDB_users_+3A_mdbs">mdbs</code></td>
<td>
<p>names of the modeled databases.
If NULL (default), all the databases are considered.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with 3 columns:
</p>

<ul>
<li><p> user: the user login
</p>
</li>
<li><p> mdb: the name of the modeled database
</p>
</li>
<li><p> admin: if the user is an admin of the MDB
</p>
</li></ul>


<hr>
<h2 id='list_chTKCat_collections'>List collections available in a <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+list_chTKCat_collections'></span>

<h3>Description</h3>

<p>List collections available in a <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_chTKCat_collections(x, withJson = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_chTKCat_collections_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="list_chTKCat_collections_+3A_withjson">withJson</code></td>
<td>
<p>if TRUE, returns the json strings of the collection
(default: FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the title, the description and optionally the json
definition of the collections
</p>

<hr>
<h2 id='list_chTKCat_users'>List <a href="#topic+chTKCat">chTKCat</a> user</h2><span id='topic+list_chTKCat_users'></span>

<h3>Description</h3>

<p>List <a href="#topic+chTKCat">chTKCat</a> user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_chTKCat_users(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_chTKCat_users_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with 3 columns:
</p>

<ul>
<li><p> login: user login
</p>
</li>
<li><p> contact: user contact information
</p>
</li>
<li><p> admin: if the user is an admin of the chTKCat object
</p>
</li></ul>


<hr>
<h2 id='list_local_collections'>List local collections of concepts</h2><span id='topic+list_local_collections'></span>

<h3>Description</h3>

<p>List local collections of concepts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_local_collections(withJson = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_local_collections_+3A_withjson">withJson</code></td>
<td>
<p>if TRUE, returns the json strings of the collection
(default: FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the title, the description and optionally the json
definition of the collections
</p>

<hr>
<h2 id='list_MDBs.TKCat'>List available <a href="#topic+MDB">MDB</a></h2><span id='topic+list_MDBs.TKCat'></span><span id='topic+list_MDBs.chTKCat'></span><span id='topic+list_MDBs'></span>

<h3>Description</h3>

<p>List available <a href="#topic+MDB">MDB</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TKCat'
list_MDBs(x, withInfo = TRUE)

## S3 method for class 'chTKCat'
list_MDBs(x, withInfo = TRUE)

list_MDBs(x, withInfo = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_MDBs.TKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+TKCat">TKCat</a> related object (e.g. <a href="#topic+chTKCat">chTKCat</a>)</p>
</td></tr>
<tr><td><code id="list_MDBs.TKCat_+3A_withinfo">withInfo</code></td>
<td>
<p>if TRUE (default), the function returns a table with
<a href="#topic+db_info">db_info</a>. If FALSE, it returns only <a href="#topic+MDB">MDB</a> names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with information about the <a href="#topic+MDB">MDB</a> available in
a <a href="#topic+TKCat">TKCat</a> related object.
</p>

<hr>
<h2 id='list_tables'>List tables in a clickhouse database</h2><span id='topic+list_tables'></span>

<h3>Description</h3>

<p>List tables in a clickhouse database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_tables(con, dbNames = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_tables_+3A_con">con</code></td>
<td>
<p>the clickhouse connection</p>
</td></tr>
<tr><td><code id="list_tables_+3A_dbnames">dbNames</code></td>
<td>
<p>the name of databases to focus on (default NULL ==&gt; all)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the following columns:
</p>

<ul>
<li> <p><strong>database</strong>: the name of the database
</p>
</li>
<li> <p><strong>name</strong>: the name of the table
</p>
</li>
<li> <p><strong>total_rows</strong>: the number of rows in the table
</p>
</li>
<li> <p><strong>total_bytes</strong>: the size of the table
</p>
</li></ul>


<hr>
<h2 id='manage_chTKCat_users'>Manage user information in a shiny interface</h2><span id='topic+manage_chTKCat_users'></span>

<h3>Description</h3>

<p>Manage user information in a shiny interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>manage_chTKCat_users(x, pwdFile = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="manage_chTKCat_users_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="manage_chTKCat_users_+3A_pwdfile">pwdFile</code></td>
<td>
<p>a local file in which the password for x can be found.
If NULL (default), the connection is shared by all sessions and can
be disabled at some point.</p>
</td></tr>
</table>

<hr>
<h2 id='map_collection_members'>Map different collection members</h2><span id='topic+map_collection_members'></span>

<h3>Description</h3>

<p>Map different collection members
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_collection_members(
  x,
  y,
  collection,
  xm,
  ym,
  suffix = c("_x", "_y"),
  fun = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="map_collection_members_+3A_x">x</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="map_collection_members_+3A_y">y</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="map_collection_members_+3A_collection">collection</code></td>
<td>
<p>the name of the collection.</p>
</td></tr>
<tr><td><code id="map_collection_members_+3A_xm">xm</code></td>
<td>
<p>collection member x: a data.frame with the fields
&quot;field&quot;, &quot;static&quot;, &quot;value&quot;, &quot;type&quot; as returned by
the <code><a href="#topic+read_collection_members">read_collection_members()</a></code> function.</p>
</td></tr>
<tr><td><code id="map_collection_members_+3A_ym">ym</code></td>
<td>
<p>collection member y: a data.frame with the fields
&quot;field&quot;, &quot;static&quot;, &quot;value&quot;, &quot;type&quot; as returned by
the <code><a href="#topic+read_collection_members">read_collection_members()</a></code> function.</p>
</td></tr>
<tr><td><code id="map_collection_members_+3A_suffix">suffix</code></td>
<td>
<p>the suffix to append to field names from x and y tables.
Default: <code>c("_x", "_y")</code></p>
</td></tr>
<tr><td><code id="map_collection_members_+3A_fun">fun</code></td>
<td>
<p>the function used to map x and y collection members.
By default (NA) it is automatically identified if recorded in the system.
The way to write this function is provided in the details section.</p>
</td></tr>
<tr><td><code id="map_collection_members_+3A_...">...</code></td>
<td>
<p>additional parameters for the fun function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>fun must have at least an x and a y parameters.
Each of them should be a data.frame with all the field values
given in xm and ym. Additional parameters
can be defined and will be forwarded using <code>...</code>.
fun should return a data frame with all the fields values
given in xm and ym followed by &quot;_x&quot; and &quot;_y&quot; suffix.
</p>


<h3>Value</h3>

<p>A tibble giving necessary information to map elements in x and y.
The columns corresponds to the field values in xm and ym followed by a
suffix (default: <code>c("_x", "_y")</code>). Only fields documented as non static
in xm and ym are kept.
</p>

<hr>
<h2 id='MDB'>MDB</h2><span id='topic+MDB'></span><span id='topic+names.MDB'></span><span id='topic+length.MDB'></span><span id='topic+lengths.MDB'></span><span id='topic+as.list.MDB'></span><span id='topic+select.MDB'></span><span id='topic+pull.MDB'></span><span id='topic+c.MDB'></span><span id='topic+merge.MDB'></span>

<h3>Description</h3>

<p>The class &quot;MDB&quot; provides general functions for handling
modeled databases.
The MDB classes implemented in the TKCat package
are: <a href="#topic+fileMDB">fileMDB</a>, <a href="#topic+memoMDB">memoMDB</a>, chMDB and <a href="#topic+metaMDB">metaMDB</a>.
These classes provide additional functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MDB'
names(x)

## S3 method for class 'MDB'
length(x)

## S3 method for class 'MDB'
lengths(x, use.names = TRUE)

## S3 method for class 'MDB'
as.list(x, ...)

## S3 method for class 'MDB'
select(.data, ...)

## S3 method for class 'MDB'
pull(.data, var = -1, name = NULL, ...)

## S3 method for class 'MDB'
c(...)

## S3 method for class 'MDB'
merge(
  x,
  y,
  by = get_shared_collections(x, y),
  dbInfo = list(name = paste(db_info(x)$name, db_info(y)$name, sep = "_")),
  dmAutoLayout = TRUE,
  rtColor = "yellow",
  funs = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MDB_+3A_x">x</code></td>
<td>
<p>an MDB object</p>
</td></tr>
<tr><td><code id="MDB_+3A_use.names">use.names</code></td>
<td>
<p>return the names of the tables</p>
</td></tr>
<tr><td><code id="MDB_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
<tr><td><code id="MDB_+3A_.data">.data</code></td>
<td>
<p>an MDB object</p>
</td></tr>
<tr><td><code id="MDB_+3A_var">var</code></td>
<td>
<p>a variable specified as in <a href="dplyr.html#topic+pull">dplyr::pull</a></p>
</td></tr>
<tr><td><code id="MDB_+3A_name">name</code></td>
<td>
<p>not used but kept for compatibility with the generic function</p>
</td></tr>
<tr><td><code id="MDB_+3A_y">y</code></td>
<td>
<p>an MDB object</p>
</td></tr>
<tr><td><code id="MDB_+3A_by">by</code></td>
<td>
<p>a tibble as returned by the <code><a href="#topic+get_shared_collections">get_shared_collections()</a></code> function
which indicates which collection members should be merged through
a relational table. If the collection is <code>NA</code>, the relational table is built
by merging identical columns in table.x and table.y. If the collection
is provided, the relational table is build using
the <code><a href="#topic+map_collection_members">map_collection_members()</a></code> function.</p>
</td></tr>
<tr><td><code id="MDB_+3A_dbinfo">dbInfo</code></td>
<td>
<p>a list with DB information:
<strong>&quot;name&quot;</strong> (only mandatory field), &quot;title&quot;, &quot;description&quot;, &quot;url&quot;,
&quot;version&quot;, &quot;maintainer&quot;.</p>
</td></tr>
<tr><td><code id="MDB_+3A_dmautolayout">dmAutoLayout</code></td>
<td>
<p>if TRUE (default) the layout of the merged data model
is automatically adjusted.</p>
</td></tr>
<tr><td><code id="MDB_+3A_rtcolor">rtColor</code></td>
<td>
<p>the color of the relational tables in the merged data model
(default: &quot;yellow&quot;)</p>
</td></tr>
<tr><td><code id="MDB_+3A_funs">funs</code></td>
<td>
<p>a named list of functions (default: list()). If there is
no function for mapping a collection in this list, it is taken
automatically using the <code><a href="#topic+get_collection_mapper">get_collection_mapper()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>names()</code> returns the table names.
</p>
<p><code>length()</code> returns the number of tables in x.
</p>
<p><code>lengths()</code> returns the number of fields for each table in x.
</p>
<p><code>as.list.MDB()</code> returns a simple list of tibbles with all the
data from the tables in x.
</p>
<p>A <a href="#topic+metaMDB">metaMDB</a> object gathering x and y along
with relational tables between them created using collection members
and mapping functions automatically chosen or provided by
the <code>funs</code> parameter. <code>...</code> can be used to send parameters to the mapper
functions.
</p>


<h3>See Also</h3>

<p>MDB methods:
<a href="#topic+db_info">db_info</a>, <a href="#topic+data_model">data_model</a>, <a href="#topic+data_tables">data_tables</a>, <a href="#topic+collection_members">collection_members</a>,
<a href="#topic+count_records">count_records</a>, <a href="#topic+filter_with_tables">filter_with_tables</a>, <a href="#topic+as_fileMDB">as_fileMDB</a>
Additional documentation is provided for each specific class:
<a href="#topic+fileMDB">fileMDB</a>, <a href="#topic+memoMDB">memoMDB</a>, chMDB and <a href="#topic+metaMDB">metaMDB</a>.
</p>

<hr>
<h2 id='MDBs'>Get a list of MDB from <a href="#topic+metaMDB">metaMDB</a> object</h2><span id='topic+MDBs'></span>

<h3>Description</h3>

<p>Get a list of MDB from <a href="#topic+metaMDB">metaMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MDBs(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MDBs_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+metaMDB">metaMDB</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of MDB objects
</p>

<hr>
<h2 id='memoMDB'>An <a href="#topic+MDB">MDB</a> (Modeled DataBase) in memory: memoMDB</h2><span id='topic+memoMDB'></span><span id='topic+names+3C-.memoMDB'></span><span id='topic+rename.memoMDB'></span><span id='topic++5B.memoMDB'></span><span id='topic++5B+5B.memoMDB'></span><span id='topic++24.memoMDB'></span>

<h3>Description</h3>

<p>An <a href="#topic+MDB">MDB</a> (Modeled DataBase) in memory: memoMDB
</p>
<p>Rename tables of a <a href="#topic+memoMDB">memoMDB</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>memoMDB(
  dataTables,
  dataModel,
  dbInfo,
  collectionMembers = NULL,
  check = TRUE,
  checks = c("unique", "not nullable", "foreign keys"),
  verbose = FALSE
)

## S3 replacement method for class 'memoMDB'
names(x) &lt;- value

## S3 method for class 'memoMDB'
rename(.data, ...)

## S3 method for class 'memoMDB'
x[i]

## S3 method for class 'memoMDB'
x[[i]]

## S3 method for class 'memoMDB'
x$i
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="memoMDB_+3A_datatables">dataTables</code></td>
<td>
<p>a list of tibbles</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_datamodel">dataModel</code></td>
<td>
<p>a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a> object</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_dbinfo">dbInfo</code></td>
<td>
<p>a list with DB information:
<strong>&quot;name&quot;</strong> (only mandatory field), &quot;title&quot;, &quot;description&quot;, &quot;url&quot;,
&quot;version&quot;, &quot;maintainer&quot;.</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_collectionmembers">collectionMembers</code></td>
<td>
<p>the members of collections as provided to the
<a href="#topic+collection_members+3C-">collection_members&lt;-</a> function (default: NULL ==&gt; no member).</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_check">check</code></td>
<td>
<p>logical: if TRUE (default) the data are confronted to the
data model</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_checks">checks</code></td>
<td>
<p>a character vector with the name of optional checks to be
done (all of them c(&quot;unique&quot;, &quot;not nullable&quot;, &quot;foreign keys&quot;))</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE display the data confrontation report
(default: FALSE)</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+memoMDB">memoMDB</a> object</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_value">value</code></td>
<td>
<p>new table names</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+memoMDB">memoMDB</a> object</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_...">...</code></td>
<td>
<p>Use new_name = old_name to rename selected tables</p>
</td></tr>
<tr><td><code id="memoMDB_+3A_i">i</code></td>
<td>
<p>the index or the name of the tables to take</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A memoMDB object
</p>


<h3>See Also</h3>


<ul>
<li><p> MDB methods:
<a href="#topic+db_info">db_info</a>, <a href="#topic+data_model">data_model</a>, <a href="#topic+data_tables">data_tables</a>, <a href="#topic+collection_members">collection_members</a>,
<a href="#topic+count_records">count_records</a>, <a href="#topic+dims">dims</a>, <a href="#topic+filter_with_tables">filter_with_tables</a>, <a href="#topic+as_fileMDB">as_fileMDB</a>
</p>
</li>
<li><p> Additional general documentation is related to <a href="#topic+MDB">MDB</a>.
</p>
</li>
<li> <p><a href="#topic+filter.memoMDB">filter.memoMDB</a>, <a href="#topic+slice.memoMDB">slice.memoMDB</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>hpo &lt;- read_fileMDB(
   path=system.file("examples/HPO-subset", package="ReDaMoR"),
   dataModel=system.file("examples/HPO-model.json", package="ReDaMoR"),
   dbInfo=list(
      "name"="HPO",
      "title"="Data extracted from the HPO database",
      "description"=paste(
         "This is a very small subset of the HPO!",
         "Visit the reference URL for more information"
      ),
      "url"="http://human-phenotype-ontology.github.io/"
   )
) %&gt;% 
   as_memoMDB()
count_records(hpo)

## Too long on win-builder.r-project.org
## Not run: 
   
hpoSlice &lt;- slice(hpo, HPO_diseases=1:10)
count_records(hpoSlice)

if("stringr" %in% installed.packages()[,"Package"]){
   epilHP &lt;- filter(
      hpo,
      HPO_diseases=stringr::str_detect(
         label, stringr::regex("epilepsy", ignore_case=TRUE)
      )
   )
   count_records(epilHP)
}


## End(Not run)
</code></pre>

<hr>
<h2 id='mergeTree_from_RelTableModel'>Create a ClickHouse MergeTree table from a <a href="ReDaMoR.html#topic+RelTableModel">ReDaMoR::RelTableModel</a></h2><span id='topic+mergeTree_from_RelTableModel'></span>

<h3>Description</h3>

<p>Create a ClickHouse MergeTree table from a <a href="ReDaMoR.html#topic+RelTableModel">ReDaMoR::RelTableModel</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeTree_from_RelTableModel(con, dbName, tm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mergeTree_from_RelTableModel_+3A_con">con</code></td>
<td>
<p>the clickhouse connection</p>
</td></tr>
<tr><td><code id="mergeTree_from_RelTableModel_+3A_dbname">dbName</code></td>
<td>
<p>the name of the database in which the table should be written</p>
</td></tr>
<tr><td><code id="mergeTree_from_RelTableModel_+3A_tm">tm</code></td>
<td>
<p>a <a href="ReDaMoR.html#topic+RelTableModel">ReDaMoR::RelTableModel</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='mergeTrees_from_RelDataModel'>Create ClickHouse MergeTree tables from a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a></h2><span id='topic+mergeTrees_from_RelDataModel'></span>

<h3>Description</h3>

<p>Create ClickHouse MergeTree tables from a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeTrees_from_RelDataModel(con, dbName, dbm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mergeTrees_from_RelDataModel_+3A_con">con</code></td>
<td>
<p>the clickhouse connection</p>
</td></tr>
<tr><td><code id="mergeTrees_from_RelDataModel_+3A_dbname">dbName</code></td>
<td>
<p>the name of the database in which the tables should be written</p>
</td></tr>
<tr><td><code id="mergeTrees_from_RelDataModel_+3A_dbm">dbm</code></td>
<td>
<p>a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='metaMDB'>A metaMDB object</h2><span id='topic+metaMDB'></span><span id='topic+names+3C-.metaMDB'></span><span id='topic+rename.metaMDB'></span><span id='topic++5B.metaMDB'></span><span id='topic++5B+5B.metaMDB'></span><span id='topic++24.metaMDB'></span>

<h3>Description</h3>

<p>A metaMDB object is an <a href="#topic+MDB">MDB</a> gathering several other MDBs glued by
relational tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metaMDB(MDBs, relationalTables, dataModel, dbInfo, check = TRUE)

## S3 replacement method for class 'metaMDB'
names(x) &lt;- value

## S3 method for class 'metaMDB'
rename(.data, ...)

## S3 method for class 'metaMDB'
x[i]

## S3 method for class 'metaMDB'
x[[i]]

## S3 method for class 'metaMDB'
x$i
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metaMDB_+3A_mdbs">MDBs</code></td>
<td>
<p>a list of <a href="#topic+MDB">MDB</a> objects</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_relationaltables">relationalTables</code></td>
<td>
<p>a list of tibbles corresponding to the relational
tables between the different MDBs</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_datamodel">dataModel</code></td>
<td>
<p>a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a> object gathering all the
data model of all the MDBs plus the relational tables</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_dbinfo">dbInfo</code></td>
<td>
<p>a list with DB information:
<strong>&quot;name&quot;</strong> (only mandatory field), &quot;title&quot;, &quot;description&quot;, &quot;url&quot;,
&quot;version&quot;, &quot;maintainer&quot;.</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_check">check</code></td>
<td>
<p>logical: if TRUE (default) the data are confronted to the
data model</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+metaMDB">metaMDB</a> object</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_value">value</code></td>
<td>
<p>new table names</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+metaMDB">metaMDB</a> object</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_...">...</code></td>
<td>
<p>Use new_name = old_name to rename selected tables</p>
</td></tr>
<tr><td><code id="metaMDB_+3A_i">i</code></td>
<td>
<p>the index or the name of the tables to take</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A metaMDB object
</p>


<h3>See Also</h3>


<ul>
<li><p> MDB methods:
<a href="#topic+db_info">db_info</a>, <a href="#topic+data_model">data_model</a>, <a href="#topic+data_tables">data_tables</a>, <a href="#topic+collection_members">collection_members</a>,
<a href="#topic+count_records">count_records</a>, <a href="#topic+dims">dims</a>, <a href="#topic+filter_with_tables">filter_with_tables</a>, <a href="#topic+as_fileMDB">as_fileMDB</a>
</p>
</li>
<li><p> Additional general documentation is related to <a href="#topic+MDB">MDB</a>.
</p>
</li>
<li> <p><a href="#topic+filter.metaMDB">filter.metaMDB</a>, <a href="#topic+slice.metaMDB">slice.metaMDB</a>
</p>
</li>
<li> <p><a href="#topic+get_confrontation_report">get_confrontation_report</a>, <a href="ReDaMoR.html#topic+format_confrontation_report">ReDaMoR::format_confrontation_report</a>
and <a href="ReDaMoR.html#topic+format_confrontation_report_md">ReDaMoR::format_confrontation_report_md</a> for getting and formatting
the report confronting the data to the model.
</p>
</li></ul>


<hr>
<h2 id='read_collection_members'>Read a collection member JSON file</h2><span id='topic+read_collection_members'></span>

<h3>Description</h3>

<p>Read a collection member JSON file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_collection_members(txt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_collection_members_+3A_txt">txt</code></td>
<td>
<p>a JSON string or file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the description of the collection members of a
resource
</p>

<hr>
<h2 id='read_fileMDB'>Read a <a href="#topic+fileMDB">fileMDB</a> from a path</h2><span id='topic+read_fileMDB'></span>

<h3>Description</h3>

<p>Read a <a href="#topic+fileMDB">fileMDB</a> from a path
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_fileMDB(
  path,
  dbInfo = NULL,
  dataModel = NULL,
  collectionMembers = NULL,
  check = TRUE,
  n_max = 10,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_fileMDB_+3A_path">path</code></td>
<td>
<p>the path to a folder with data or with the following structure:
</p>

<ul>
<li> <p><strong>data</strong>: a folder with the data
</p>
</li>
<li> <p><strong>DESCRIPTION.json</strong>: a file with db information
</p>
</li>
<li> <p><strong>model</strong>: a folder with the data model json file with the same name as the
one given in the DESCRIPTION.json file
</p>
</li></ul>
</td></tr>
<tr><td><code id="read_fileMDB_+3A_dbinfo">dbInfo</code></td>
<td>
<p>a list or a json file with DB information:
<strong>&quot;name&quot;</strong> (only mandatory field), &quot;title&quot;, &quot;description&quot;,
&quot;url&quot; (or &quot;reference URL&quot;),
&quot;version&quot;, &quot;maintainer&quot;. If NULL (default), the DESCRIPTION.json file found
in path. This file should also contains relevant parameters for the
<code><a href="readr.html#topic+read_delim">readr::read_delim()</a></code> function. For example:
</p>

<ul>
<li> <p><strong>delim delimiter</strong> (default: '\\t')
</p>
</li>
<li> <p><strong>quoted_na</strong>: Should missing values inside quotes be treated
as missing values or as strings or strings.
WARNING: THIS PARAMETER IS NOT TAKEN INTO ACCOUNT WITH readr&gt;=2.0.0.
</p>
</li>
<li> <p><strong>na</strong>: String used for missing values. The default value for reading
a fileMDB is &quot;NA&quot;. But the default value for writing a fileMDB is
&quot;&lt;NA&gt;&quot;.
This value is written in the DESCRIPTION.json file to avoid ambiguity
when reading the fileMDB.
</p>
</li></ul>
</td></tr>
<tr><td><code id="read_fileMDB_+3A_datamodel">dataModel</code></td>
<td>
<p>a <a href="ReDaMoR.html#topic+RelDataModel">ReDaMoR::RelDataModel</a> object or json file.
If NULL (default), the model json file found in path/model.</p>
</td></tr>
<tr><td><code id="read_fileMDB_+3A_collectionmembers">collectionMembers</code></td>
<td>
<p>the members of collections as provided to the
<a href="#topic+collection_members+3C-">collection_members&lt;-</a> function. If NULL (default), the members
are taken from json files found in path/model/Collections</p>
</td></tr>
<tr><td><code id="read_fileMDB_+3A_check">check</code></td>
<td>
<p>logical: if TRUE (default) the data are confronted to the
data model</p>
</td></tr>
<tr><td><code id="read_fileMDB_+3A_n_max">n_max</code></td>
<td>
<p>maximum number of records to read
for checks purpose (default: 10). See also <code><a href="ReDaMoR.html#topic+confront_data">ReDaMoR::confront_data()</a></code>.</p>
</td></tr>
<tr><td><code id="read_fileMDB_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE (default) display the data confrontation report</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+fileMDB">fileMDB</a> object
</p>


<h3>See Also</h3>

<p><a href="#topic+get_confrontation_report">get_confrontation_report</a>, <a href="ReDaMoR.html#topic+format_confrontation_report">ReDaMoR::format_confrontation_report</a>
and <a href="ReDaMoR.html#topic+format_confrontation_report_md">ReDaMoR::format_confrontation_report_md</a> for getting and formatting
the report confronting the data to the model.
</p>

<hr>
<h2 id='relational_tables'>Get a list of relational tables</h2><span id='topic+relational_tables'></span>

<h3>Description</h3>

<p>Get a list of relational tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>relational_tables(x, recursive = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="relational_tables_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+metaMDB">metaMDB</a> object</p>
</td></tr>
<tr><td><code id="relational_tables_+3A_recursive">recursive</code></td>
<td>
<p>if TRUE, function returns also the
relational tables from embedded metaMDBs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of relational tables (tibbles)
</p>

<hr>
<h2 id='remove_chMDB_user'>Drop a user of an MDB of a <a href="#topic+chTKCat">chTKCat</a> object</h2><span id='topic+remove_chMDB_user'></span>

<h3>Description</h3>

<p>Drop a user of an MDB of a <a href="#topic+chTKCat">chTKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_chMDB_user(x, mdb, login)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_chMDB_user_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="remove_chMDB_user_+3A_mdb">mdb</code></td>
<td>
<p>name of the modeled database</p>
</td></tr>
<tr><td><code id="remove_chMDB_user_+3A_login">login</code></td>
<td>
<p>login of the user to drop</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='remove_chTKCat_collection'>Remove a collection from a <a href="#topic+chTKCat">chTKCat</a> database</h2><span id='topic+remove_chTKCat_collection'></span>

<h3>Description</h3>

<p>Remove a collection from a <a href="#topic+chTKCat">chTKCat</a> database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_chTKCat_collection(x, title)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_chTKCat_collection_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="remove_chTKCat_collection_+3A_title">title</code></td>
<td>
<p>the title of the collection to remove</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='scan_fileMDBs'>Scan a catalog of <a href="#topic+fileMDB">fileMDB</a></h2><span id='topic+scan_fileMDBs'></span>

<h3>Description</h3>

<p>Scan a catalog of <a href="#topic+fileMDB">fileMDB</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scan_fileMDBs(path, subdirs = NULL, check = TRUE, n_max = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scan_fileMDBs_+3A_path">path</code></td>
<td>
<p>directory from which all the <a href="#topic+fileMDB">fileMDB</a> should be read</p>
</td></tr>
<tr><td><code id="scan_fileMDBs_+3A_subdirs">subdirs</code></td>
<td>
<p>the sub directories (relative to path) to take into account.
If NULL (default) all the sub directories are considered.</p>
</td></tr>
<tr><td><code id="scan_fileMDBs_+3A_check">check</code></td>
<td>
<p>logical: if TRUE (default) the data are confronted to the
data model</p>
</td></tr>
<tr><td><code id="scan_fileMDBs_+3A_n_max">n_max</code></td>
<td>
<p>maximum number of records to read
for checks purpose (default: 10). See also <code><a href="ReDaMoR.html#topic+confront_data">ReDaMoR::confront_data()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a TKCat object
</p>


<h3>See Also</h3>

<p><a href="#topic+read_fileMDB">read_fileMDB</a>
</p>

<hr>
<h2 id='search_MDB_fields.TKCat'>Search fields in a <a href="#topic+TKCat">TKCat</a> related object</h2><span id='topic+search_MDB_fields.TKCat'></span><span id='topic+search_MDB_fields.chTKCat'></span><span id='topic+search_MDB_fields'></span>

<h3>Description</h3>

<p>Search fields in a <a href="#topic+TKCat">TKCat</a> related object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TKCat'
search_MDB_fields(x, searchTerm)

## S3 method for class 'chTKCat'
search_MDB_fields(x, searchTerm)

search_MDB_fields(x, searchTerm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_MDB_fields.TKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+TKCat">TKCat</a> related object (e.g. <a href="#topic+chTKCat">chTKCat</a>)</p>
</td></tr>
<tr><td><code id="search_MDB_fields.TKCat_+3A_searchterm">searchTerm</code></td>
<td>
<p>a single character with the term to search</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <a href="#topic+MDB">MDB</a> object
</p>

<hr>
<h2 id='search_MDB_tables.TKCat'>Search tables in a <a href="#topic+TKCat">TKCat</a> related object</h2><span id='topic+search_MDB_tables.TKCat'></span><span id='topic+search_MDB_tables.chTKCat'></span><span id='topic+search_MDB_tables'></span>

<h3>Description</h3>

<p>Search tables in a <a href="#topic+TKCat">TKCat</a> related object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TKCat'
search_MDB_tables(x, searchTerm)

## S3 method for class 'chTKCat'
search_MDB_tables(x, searchTerm)

search_MDB_tables(x, searchTerm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_MDB_tables.TKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+TKCat">TKCat</a> related object (e.g. <a href="#topic+chTKCat">chTKCat</a>)</p>
</td></tr>
<tr><td><code id="search_MDB_tables.TKCat_+3A_searchterm">searchTerm</code></td>
<td>
<p>a single character with the term to search</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <a href="#topic+MDB">MDB</a> object
</p>

<hr>
<h2 id='set_chMDB_access'>Set  chMDB access</h2><span id='topic+set_chMDB_access'></span>

<h3>Description</h3>

<p>Set  chMDB access
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_chMDB_access(x, mdb, public)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_chMDB_access_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="set_chMDB_access_+3A_mdb">mdb</code></td>
<td>
<p>name of the modeled database</p>
</td></tr>
<tr><td><code id="set_chMDB_access_+3A_public">public</code></td>
<td>
<p>if access is public</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='set_chMDB_timestamp'>Set timestamp of the current version of an MDB in <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+set_chMDB_timestamp'></span>

<h3>Description</h3>

<p>Set timestamp of the current version of an MDB in <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_chMDB_timestamp(x, name, timestamp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_chMDB_timestamp_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="set_chMDB_timestamp_+3A_name">name</code></td>
<td>
<p>the name of the database to affect</p>
</td></tr>
<tr><td><code id="set_chMDB_timestamp_+3A_timestamp">timestamp</code></td>
<td>
<p>a single POSIXct value as a timestamp for
the chMDB instance.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='show_collection_def'>Show the definition of a collection</h2><span id='topic+show_collection_def'></span>

<h3>Description</h3>

<p>This function prints details regarding a collection: title, description
and arguments information. These arguments are those that can be
used to document collection members within an <a href="#topic+MDB">MDB</a> using
the <code><a href="#topic+add_collection_member">add_collection_member()</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_collection_def(collection, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_collection_def_+3A_collection">collection</code></td>
<td>
<p>a json string with the collection definition as returned
by <code><a href="#topic+get_local_collection">get_local_collection()</a></code></p>
</td></tr>
<tr><td><code id="show_collection_def_+3A_silent">silent</code></td>
<td>
<p>a logical indicating if the definition should be written
(TRUE by default) or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with:
</p>

<ul>
<li><p> collection <strong>title</strong>
</p>
</li>
<li><p> collection <strong>description</strong>
</p>
</li>
<li><p> a list of <strong>arguments</strong> for defining collection members as a list
of elements with:
</p>

<ul>
<li><p> the <strong>type</strong> of the argument element
</p>
</li>
<li> <p><strong>allowed</strong> values if any
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>get_local_collection("BE") %&gt;% show_collection_def()

</code></pre>

<hr>
<h2 id='slice.chMDB'>Subset a <a href="#topic+chMDB">chMDB</a> object according to row position in one table
and return a <a href="#topic+memoMDB">memoMDB</a></h2><span id='topic+slice.chMDB'></span>

<h3>Description</h3>

<p>Subset a <a href="#topic+chMDB">chMDB</a> object according to row position in one table
and return a <a href="#topic+memoMDB">memoMDB</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'chMDB'
slice(.data, ..., by = 10^5, .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice.chMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+chMDB">chMDB</a> object</p>
</td></tr>
<tr><td><code id="slice.chMDB_+3A_...">...</code></td>
<td>
<p>a single argument. The name of this argument should be a table
name of x and the value of this argument should be vector of integers
corresponding to row indexes.</p>
</td></tr>
<tr><td><code id="slice.chMDB_+3A_by">by</code></td>
<td>
<p>the size of the batch: number of records to slice
together (default: 10^5)</p>
</td></tr>
<tr><td><code id="slice.chMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='slice.fileMDB'>Subset a <a href="#topic+fileMDB">fileMDB</a> object according to row position in one table
and return a <a href="#topic+memoMDB">memoMDB</a></h2><span id='topic+slice.fileMDB'></span>

<h3>Description</h3>

<p>Subset a <a href="#topic+fileMDB">fileMDB</a> object according to row position in one table
and return a <a href="#topic+memoMDB">memoMDB</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fileMDB'
slice(.data, ..., .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice.fileMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+fileMDB">fileMDB</a> object</p>
</td></tr>
<tr><td><code id="slice.fileMDB_+3A_...">...</code></td>
<td>
<p>a single argument. The name of this argument should be a table
name of x and the value of this argument should be vector of integers
corresponding to row indexes.</p>
</td></tr>
<tr><td><code id="slice.fileMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='slice.memoMDB'>Subset a <a href="#topic+memoMDB">memoMDB</a> object according to row position in one table</h2><span id='topic+slice.memoMDB'></span>

<h3>Description</h3>

<p>Subset a <a href="#topic+memoMDB">memoMDB</a> object according to row position in one table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'memoMDB'
slice(.data, ..., .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice.memoMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+memoMDB">memoMDB</a> object</p>
</td></tr>
<tr><td><code id="slice.memoMDB_+3A_...">...</code></td>
<td>
<p>a single argument. The name of this argument should be a table
name of x and the value of this argument should be vector of integers
corresponding to row indexes.</p>
</td></tr>
<tr><td><code id="slice.memoMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='slice.metaMDB'>Subset a <a href="#topic+metaMDB">metaMDB</a> object according to row position in one table</h2><span id='topic+slice.metaMDB'></span>

<h3>Description</h3>

<p>Subset a <a href="#topic+metaMDB">metaMDB</a> object according to row position in one table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metaMDB'
slice(.data, ..., .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice.metaMDB_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+metaMDB">metaMDB</a> object</p>
</td></tr>
<tr><td><code id="slice.metaMDB_+3A_...">...</code></td>
<td>
<p>a single argument. The name of this argument should be a table
name of x and the value of this argument should be vector of integers
corresponding to row indexes.</p>
</td></tr>
<tr><td><code id="slice.metaMDB_+3A_.preserve">.preserve</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+memoMDB">memoMDB</a> object
</p>

<hr>
<h2 id='TKCat'>TKCat: a catalog of <a href="#topic+MDB">MDB</a></h2><span id='topic+TKCat'></span><span id='topic+names+3C-.TKCat'></span><span id='topic+rename.TKCat'></span><span id='topic++5B.TKCat'></span><span id='topic+c.TKCat'></span>

<h3>Description</h3>

<p>TKCat: a catalog of <a href="#topic+MDB">MDB</a>
</p>
<p>Rename a <a href="#topic+TKCat">TKCat</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TKCat(..., list = NULL)

## S3 replacement method for class 'TKCat'
names(x) &lt;- value

## S3 method for class 'TKCat'
rename(.data, ...)

## S3 method for class 'TKCat'
x[i]

## S3 method for class 'TKCat'
c(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TKCat_+3A_...">...</code></td>
<td>
<p><a href="#topic+TKCat">TKCat</a> objects</p>
</td></tr>
<tr><td><code id="TKCat_+3A_list">list</code></td>
<td>
<p>a list of <a href="#topic+MDB">MDB</a> objects</p>
</td></tr>
<tr><td><code id="TKCat_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+TKCat">TKCat</a> object</p>
</td></tr>
<tr><td><code id="TKCat_+3A_value">value</code></td>
<td>
<p>new <a href="#topic+MDB">MDB</a> names</p>
</td></tr>
<tr><td><code id="TKCat_+3A_.data">.data</code></td>
<td>
<p>a <a href="#topic+TKCat">TKCat</a> object</p>
</td></tr>
<tr><td><code id="TKCat_+3A_i">i</code></td>
<td>
<p>index or names of the MDB to take</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a TKCat object
</p>


<h3>See Also</h3>

<p><a href="#topic+scan_fileMDBs">scan_fileMDBs</a>
</p>

<hr>
<h2 id='unarchive_chMDB'>Unarchive a chMDB in a <a href="#topic+chTKCat">chTKCat</a></h2><span id='topic+unarchive_chMDB'></span>

<h3>Description</h3>

<p>Unarchive a chMDB in a <a href="#topic+chTKCat">chTKCat</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unarchive_chMDB(x, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unarchive_chMDB_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="unarchive_chMDB_+3A_name">name</code></td>
<td>
<p>the name of the database to archive</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='update_chMDB_grants'>Update grants on tables in an MDB of a <a href="#topic+chTKCat">chTKCat</a> object</h2><span id='topic+update_chMDB_grants'></span>

<h3>Description</h3>

<p>The update is done automatically based on user access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_chMDB_grants(x, mdb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_chMDB_grants_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="update_chMDB_grants_+3A_mdb">mdb</code></td>
<td>
<p>name of the modeled database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='update_chTKCat_user'>Update a chTKCat user information</h2><span id='topic+update_chTKCat_user'></span>

<h3>Description</h3>

<p>Update a chTKCat user information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_chTKCat_user(x, login, contact, admin, provider)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_chTKCat_user_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+chTKCat">chTKCat</a> object</p>
</td></tr>
<tr><td><code id="update_chTKCat_user_+3A_login">login</code></td>
<td>
<p>user login</p>
</td></tr>
<tr><td><code id="update_chTKCat_user_+3A_contact">contact</code></td>
<td>
<p>contact information (can be NA)</p>
</td></tr>
<tr><td><code id="update_chTKCat_user_+3A_admin">admin</code></td>
<td>
<p>a logical indicating if the user is an admin of the chTKCat
instance</p>
</td></tr>
<tr><td><code id="update_chTKCat_user_+3A_provider">provider</code></td>
<td>
<p>a logical indicating if the user is data provider (TRUE)
or a data consumer (FALSE: default)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='write_collection_members'>Write a collection member JSON file</h2><span id='topic+write_collection_members'></span>

<h3>Description</h3>

<p>Write a collection member JSON file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_collection_members(colMembers, path = NA, collection = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_collection_members_+3A_colmembers">colMembers</code></td>
<td>
<p>A tibble as returned by <code><a href="#topic+read_collection_members">read_collection_members()</a></code></p>
</td></tr>
<tr><td><code id="write_collection_members_+3A_path">path</code></td>
<td>
<p>the JSON file to write. If <code>NA</code> (default), the JSON file is
not written but returned by the function.</p>
</td></tr>
<tr><td><code id="write_collection_members_+3A_collection">collection</code></td>
<td>
<p>The collection definition (json string).
If NULL (default), it is taken from TKCat environment
(see <code><a href="#topic+list_local_collections">list_local_collections()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The JSON representation of collection members.
If a path is provided, then the JSON is also written in it.
</p>

<hr>
<h2 id='write_MergeTree'>Write a Clickhouse
<a href="https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree/">MergeTree</a>
table</h2><span id='topic+write_MergeTree'></span>

<h3>Description</h3>

<p>Write a Clickhouse
<a href="https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree/">MergeTree</a>
table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_MergeTree(
  con,
  dbName,
  tableName,
  value,
  rtypes = NULL,
  nullable = NULL,
  sortKey = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_MergeTree_+3A_con">con</code></td>
<td>
<p>the clickhouse connection</p>
</td></tr>
<tr><td><code id="write_MergeTree_+3A_dbname">dbName</code></td>
<td>
<p>the name of the database</p>
</td></tr>
<tr><td><code id="write_MergeTree_+3A_tablename">tableName</code></td>
<td>
<p>the name of the table</p>
</td></tr>
<tr><td><code id="write_MergeTree_+3A_value">value</code></td>
<td>
<p>the table to import</p>
</td></tr>
<tr><td><code id="write_MergeTree_+3A_rtypes">rtypes</code></td>
<td>
<p>a named character vector giving the R type of each and every
columns. If NULL (default), types are guessed from value.</p>
</td></tr>
<tr><td><code id="write_MergeTree_+3A_nullable">nullable</code></td>
<td>
<p>a character vector indicating the name of the columns
which are nullable (default: NULL)</p>
</td></tr>
<tr><td><code id="write_MergeTree_+3A_sortkey">sortKey</code></td>
<td>
<p>a character vector indicating the name of the columns
used in the sort key. If NULL (default), all the non-nullable columns
are used in the key.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

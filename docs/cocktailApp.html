<!DOCTYPE html><html><head><title>Help for package cocktailApp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cocktailApp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cocktailApp'><p>cocktailApp .</p></a></li>
<li><a href='#cocktailApp-NEWS'><p>News for package 'cocktailApp':</p></a></li>
<li><a href='#cocktailApp-package'><p>Shiny app to discover cocktails.</p></a></li>
<li><a href='#cocktails'><p>Cocktails Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Maintainer:</td>
<td>Steven E. Pav &lt;shabbychef@gmail.com&gt;</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-07-18</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Title:</td>
<td>'shiny' App to Discover Cocktails</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/shabbychef/cocktailApp/issues">https://github.com/shabbychef/cocktailApp/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>A 'shiny' app to discover cocktails. The
    app allows one to search for cocktails by ingredient,
    filter on rating, and number of ingredients. The
    package also contains data with the ingredients of
    nearly 26 thousand cocktails scraped from the web.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2), shiny</td>
</tr>
<tr>
<td>Imports:</td>
<td>shinythemes, dplyr, tidyr, tibble, ggplot2, magrittr, ggtern,
forcats, DT</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/shabbychef/cocktailApp">https://github.com/shabbychef/cocktailApp</a></td>
</tr>
<tr>
<td>Collate:</td>
<td>'cocktailApp.r'</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-18 17:27:54 UTC; spav</td>
</tr>
<tr>
<td>Author:</td>
<td>Steven E. Pav <a href="https://orcid.org/0000-0002-4197-6195"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-19 13:40:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='cocktailApp'>cocktailApp .</h2><span id='topic+cocktailApp'></span>

<h3>Description</h3>

<p>A <code>shiny</code> app to explore cocktails. The app allows you to enter ingredients
that a cocktail must have, or ingredients that it must not have. One can
filter by number of ingredients, minimum rating, minimum &lsquo;t stat&rsquo;
(computed as the rating minus the T stat zero all multiplied by the square
root of the number of ratings). One can also search for cocktail by regex.
</p>
<p>In the main tab, titled &ldquo;drinks&rdquo;, one can find a table with the
summaries of matching cocktails. Selecting rows of this table will
cause the cocktail table below to be populated with more details on each
selected cocktail. Selecting rows will also populate the bar chart
in the &ldquo;plots&rdquo; tab.
</p>
<p>If two or more ingredients are selected, drinks with non-zero quantities
of both of these will be shown in a ternary plot in the &ldquo;tern&rdquo;
tab. 
</p>
<p>In the &ldquo;other&rdquo; tab is a table with common co-ingredients of the
selected ingredients. A co-ingredient is an ingredient that commonly
occurs with the selected ingredient, as measured by the number of
cocktails, and by &lsquo;rho&rsquo;, which is like a correlation based
on the proportion.
</p>
<p>A checkbox labelled, &ldquo;Hobson's Choice&rdquo; allows you to populate
the cocktail table with five random cocktails that meet the numerical
filters on number of ingredients, rating, and so on, but which do not
meet the ingredient selections. Unselecting and re-selecting the
checkbox selects a new set of random cocktails. Note that the random
selection is not responsive to changes in the numerical filters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cocktailApp(page_title = "Drink Schnauzer", enableBookmarking = "url")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cocktailApp_+3A_page_title">page_title</code></td>
<td>
<p>an optional page title for the app. A <code>NULL</code> value
causes no page title to be used.</p>
</td></tr>
<tr><td><code id="cocktailApp_+3A_enablebookmarking">enableBookmarking</code></td>
<td>
<p>Can be one of <code>"url"</code>, <code>"server"</code>, or
<code>"disable"</code>. The default value, <code>NULL</code>, will respect the setting from
any previous calls to  <code><a href="shiny.html#topic+enableBookmarking">enableBookmarking()</a></code>. See <code><a href="shiny.html#topic+enableBookmarking">enableBookmarking()</a></code>
for more information on bookmarking your app.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Runs the <code>shiny</code> app.
</p>


<h3>Screenshots</h3>

<p>The main page looks as follows. In this case the user has selected
two ingredients, &lsquo;Benedictine&rsquo; and &lsquo;Bourbon&rsquo;. The
user has modified some of the numeric filters resulting in only
six cocktails in the cocktail table on the right in the main
tab.
</p>

<p><img src="../help/figures/Screenshot-mainpage.png" width="100%" alt="Screenshot: landing page of app" />


</p>
<p>In the next screenshot, the user has selected two of
the rows of the cocktail table,
which causes the ingredients table
on the lower right to be populated with the recipes of the
selected cocktails. Instead one could click on the linked
cocktail names to be taken to the upstream source of the recipe,
which is recommended since those pages typically have better
instructions.
</p>

<p><img src="../help/figures/Screenshot-ingredients.png" width="100%" alt="Screenshot: landing page of app, with selected cocktails" />


</p>
<p>In the following screenshot, the user has selected two ingredients,
&lsquo;Benedictine&rsquo; and &lsquo;bourbon&rsquo;, then clicked on the
the main table, then selected the &lsquo;plots&rsquo; tab. This
shows a bar plot of the proportions of all ingredients
in all the selected cocktails.
</p>

<p><img src="../help/figures/Screenshot-barplot.png" width="100%" alt="Screenshot: bar plot of ingredients" />


</p>
<p>In this screenshot, the user has selected two ingredients,
&lsquo;Benedictine&rsquo; and &lsquo;bourbon&rsquo;, then clicked on the
&lsquo;ternary&rsquo; tab, which shows a ternary plot of the proportions
of cocktails with non-zero proportions of the first two selected
ingredients. The third dimension of the ternary plot is &lsquo;other&rsquo;
ingredients.
</p>

<p><img src="../help/figures/Screenshot-ternary.png" width="100%" alt="Screenshot: ternary plot of ingredients" />


</p>
<p>In this screenshot, the user has checked the &ldquo;Hobson's Choice&rdquo;
box, which adds 5 random cocktails to the cocktail table.
</p>

<p><img src="../help/figures/Screenshot-hobsons.png" width="100%" alt="Screenshot: main page with Hobsons choice" />


</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cocktailApp()

## End(Not run)
</code></pre>

<hr>
<h2 id='cocktailApp-NEWS'>News for package 'cocktailApp':</h2><span id='topic+cocktailApp-NEWS'></span>

<h3>Description</h3>

<p>News for package &lsquo;cocktailApp&rsquo;
</p>




<h3><a href="https://cran.r-project.org/package=cocktailApp"><span class="pkg">cocktailApp</span></a> Version 0.2.3 (2023-07-18) </h3>


<ul>
<li><p> fix bug where you could not search for Gin or Vodka.
</p>
</li>
<li><p> package had been archived because of dependency on ggtern.
</p>
</li>
<li><p> convert citEntry to bibentry
</p>
</li></ul>



<h3><a href="https://cran.r-project.org/package=cocktailApp"><span class="pkg">cocktailApp</span></a> Version 0.2.2 (2021-04-01) </h3>


<ul>
<li><p> merge many short ingredients.
</p>
</li>
<li><p> fix some units in webtender data.
</p>
</li>
<li><p> search by ingredient regex.
</p>
</li></ul>



<h3><a href="https://cran.r-project.org/package=cocktailApp"><span class="pkg">cocktailApp</span></a> Version 0.2.1 (2019-07-01) </h3>


<ul>
<li><p> CRAN fix as tests were hanging.
</p>
</li>
<li><p> replace <code>Ternary</code> package with <code>ggtern</code>.
</p>
</li></ul>



<h3><a href="https://cran.r-project.org/package=cocktailApp"><span class="pkg">cocktailApp</span></a> Version 0.2.0 (2018-08-19) </h3>


<ul>
<li><p> adding another source.
</p>
</li>
<li><p> adding &ldquo;Hobson's Choice&rdquo; button.
</p>
</li>
<li><p> removing dependency on <code>ggtern</code> package, replacing with <code>Ternary</code>.
</p>
</li></ul>



<h3><a href="https://cran.r-project.org/package=cocktailApp"><span class="pkg">cocktailApp</span></a> Initial Version 0.1.0 (2018-07-05) </h3>


<ul>
<li><p> first CRAN release.
</p>
</li></ul>


<hr>
<h2 id='cocktailApp-package'>Shiny app to discover cocktails.</h2><span id='topic+cocktailApp-package'></span>

<h3>Description</h3>

<p>Shiny app to discover cocktails.
</p>


<h3>Legal Mumbo Jumbo</h3>

<p>cocktailApp is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.
</p>


<h3>Note</h3>

<p>This package is maintained as a hobby.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>

<hr>
<h2 id='cocktails'>Cocktails Data</h2><span id='topic+cocktails'></span>

<h3>Description</h3>

<p>Ingredients of over 26 thousand cocktails, scraped from the web.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(cocktails)
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> object with around 117,000 rows and 12 columns. The
data were scraped from four websites: Difford's guide, Webtender, and 
Kindred Cocktails, all scraped in late 2017; and Drinks Mixer, scraped in
mid 2018.
</p>
<p>The columns are defined as follows:
</p>

<dl>
<dt><code>amt</code></dt><dd><p>The numeric amount of the ingredient.</p>
</dd>
<dt><code>unit</code></dt><dd><p>The unit corresponding to the amount. 
The most common entry is <code>fl oz</code>, which is the unit for &lsquo;main&rsquo;
ingredients.
The second most common entry is <code>garnish</code>. These two units
account for over 95 percent of the rows of the data.</p>
</dd>
<dt><code>ingredient</code></dt><dd><p>The name of the ingredient. These may have odd
qualifiers, or brand specifications. Some of these qualifications are
stripped out in the <code>short_ingredient</code> field.</p>
</dd>
<dt><code>cocktail</code></dt><dd><p>The name of the cocktail.</p>
</dd>
<dt><code>rating</code></dt><dd><p>The rating assigned to the cocktail in the upstream database. For some
sources, the ratings have been rescaled. Ratings are on a scale of 0 to 5.</p>
</dd>
<dt><code>upstream_id</code></dt><dd><p>An ID code from the upstream source.</p>
</dd>
<dt><code>url</code></dt><dd><p>The upstream URL.</p>
</dd>
<dt><code>votes</code></dt><dd><p>The number of votes in the rating, from the upstream
database. Not always available.</p>
</dd>
<dt><code>added</code></dt><dd><p>The date the cocktail was added to the upstream database. Not always available.</p>
</dd>
<dt><code>src</code></dt><dd><p>The source of the cocktail, as listed in the upstream database. Usually not available.</p>
</dd>
<dt><code>short_ingredient</code></dt><dd><p>A shortened form of the ingredient, stripping away some of the qualifiers. 
This is subject to change in future releases of this package, when a better term extraction solution is found.</p>
</dd>
<dt><code>proportion</code></dt><dd><p>For ingredients where the <code>unit</code> is <code>fl oz</code>, 
this is the proportion of the given cocktail that consists of the given ingredient. For a given
cocktail, the proportions should sum to one.</p>
</dd>
</dl>



<h3>Note</h3>

<p>The data were scraped from several websites, which falls in a legal gray area.
While, in general, raw factual data can not be copyright, there is a difference between the law and a lawsuit. 
The package author in no way claims any copyright on this data.
</p>


<h3>Source</h3>

<p>Difford's Guide, <a href="https://www.diffordsguide.com/">https://www.diffordsguide.com/</a>,
Webtender, <a href="https://www.webtender.com">https://www.webtender.com</a>,
Kindred Cocktails, <a href="https://kindredcocktails.com">https://kindredcocktails.com</a>,
Drinks Mixer, <a href="http://www.drinksmixer.com">http://www.drinksmixer.com</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cocktails)
str(cocktails)

require(dplyr)
cocktails %&gt;%
	filter(short_ingredient %in% c('Averna','Bourbon')) %&gt;%
	group_by(cocktail,url) %&gt;%
		mutate(isok=n() &gt; 1) %&gt;%
	ungroup() %&gt;%
	filter(isok) %&gt;%
	arrange(desc(rating),cocktail) %&gt;%
	select(cocktail,ingredient,amt,unit,rating) %&gt;%
	head(n=8)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

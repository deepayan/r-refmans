<!DOCTYPE html><html><head><title>Help for package figma</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {figma}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_figma_document'><p>Convert a <code>httr</code> response object to a Figma Document object</p></a></li>
<li><a href='#as_tibble'><p>Convert a <code>httr</code> response object to a <code>tibble</code> object</p></a></li>
<li><a href='#build_query_string'><p>Build a query string from a set of named parameters</p></a></li>
<li><a href='#build_request_url'><p>Build the request URL</p></a></li>
<li><a href='#default_attrs'><p>Default attributes of every Figma node</p></a></li>
<li><a href='#document_attrs'><p>Default document attributes of a Figma file</p></a></li>
<li><a href='#get_document_info'><p>Get the document metadata of a Figma File from the API</p></a></li>
<li><a href='#get_endpoint_url'><p>Get the URL to a endpoint of Figma API</p></a></li>
<li><a href='#get_figma_file'><p>Get data of a Figma File from the API</p></a></li>
<li><a href='#get_figma_page'><p>Get data of a specific canvas/page in a Figma File from the API</p></a></li>
<li><a href='#parse_response_object'><p>Parse the response data and fit it into a R object</p></a></li>
<li><a href='#quarto_website'><p>A representation of a Quarto Website home webpage</p></a></li>
<li><a href='#select_any_of'><p>Select any of the elements in a object</p></a></li>
<li><a href='#untitled_file'><p>An example of a simple Figma file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Web Client/Wrapper to the 'Figma API'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Pedro Faria [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Pedro Faria &lt;pedropark99@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pedropark99/figma">https://github.com/pedropark99/figma</a>,
<a href="https://pedropark99.github.io/figma/">https://pedropark99.github.io/figma/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pedropark99/figma/issues">https://github.com/pedropark99/figma/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>An easy-to-use web client/wrapper for the 'Figma API' <a href="https://www.figma.com/developers/api">https://www.figma.com/developers/api</a>. 
  It allows you to bring all data from a 'Figma' file to your 'R' session. This includes the data of all objects
  that you have drawn in this file, and their respective canvas/page metadata.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr (&ge; 1.4.1), purrr (&ge; 0.3.3), dplyr (&ge; 1.0.0), tidyr (&ge;
1.0.0), rlang (&ge; 1.0.0), tibble (&ge; 3.0.5)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, usethis, emoji, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-02 23:16:21 UTC; pedro</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-06 09:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_figma_document'>Convert a <code>httr</code> response object to a Figma Document object</h2><span id='topic+as_figma_document'></span>

<h3>Description</h3>

<p>This function receives a <code>httr::response()</code> object, and outputs a
<code>figma_document</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_figma_document(response, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_figma_document_+3A_response">response</code></td>
<td>
<p>a <code>response</code> object produced by a <code>httr</code> HTTP method
(e.g. <code>httr::GET()</code>, <code>httr::POST()</code>, etc.);</p>
</td></tr>
<tr><td><code id="as_figma_document_+3A_...">...</code></td>
<td>
<p>Further arguments passed by the caller. Currently ignored by the
function;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A Figma Document is a just a R list with a more organized structure than the
raw content of the HTTP request in <code>httr::response()</code>. You can access
each part of this list with <code>`$`</code> and <code>`[[`</code> operators. See Value section to
understand what is in each element of this list.
</p>
<p><code>as_figma_document()</code> will call different parsers depending on what kind
of elements are present in the content of the <code>response</code> object it receives
as input. These elements define what kind of data is present in the <code>response</code>
object, and how it is structured.
</p>
<p>If this input object have a <code>document</code> element in the top-level of
the content, is likely that this input object was produced by <code>figma::get_figma_file()</code>.
In this case, <code>as_figma_document()</code> will call <code>figma:::parse_figma_file()</code> to parse
the contents of the HTTP request.
</p>
<p>In the other hand, if this input object have a <code>nodes</code> element in the top-level of
the content, is likely that this input object was produced by <code>figma::get_figma_page()</code>.
In this case, <code>as_figma_document()</code> will call <code>figma:::parse_figma_page()</code> to parse
the contents of the HTTP request.
</p>
<p>If none of these key elements (&quot;document&quot; or &quot;nodes&quot;) are found in the top-level of the
content of the <code>response</code> object, <code>as_figma_document()</code> will issue an error
to the user, telling it could not recognize the source of the <code>response</code> object.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>figma_document</code>, which is a R list with these elements:
</p>

<ul>
<li> <p><strong>document</strong>: a R list with all of the document metadata of your Figma file;
</p>
</li>
<li> <p><strong>canvas</strong>: a R list with all of the canvas and objects data of your Figma file;
</p>
</li>
<li> <p><strong>n_canvas</strong>: a integer with the number of canvas/pages in your Figma file;
</p>
</li>
<li> <p><strong>n_objects</strong>: a vector of integers with the number of objects in each canvas/page of your Figma file;
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file_key &lt;- "hch8YlkgaUIZ9raDzjPvCz"
token &lt;- "my figma token secret ... "
# Returns a `response` object:
r &lt;- figma::get_figma_file(file_key, token)
result &lt;- figma::as_figma_document(r)

## End(Not run)
</code></pre>

<hr>
<h2 id='as_tibble'>Convert a <code>httr</code> response object to a <code>tibble</code> object</h2><span id='topic+as_tibble'></span>

<h3>Description</h3>

<p>This function receives a <code>httr::response()</code> object, and outputs a
<code>tibble::tibble()</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_tibble(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_tibble_+3A_x">x</code></td>
<td>
<p>A Figma document object (i.e. a <code>figma::figma_document</code> object),
or, a <code>httr::response</code> object to parse;</p>
</td></tr>
<tr><td><code id="as_tibble_+3A_...">...</code></td>
<td>
<p>Further arguments passed by the caller. Only <code>simplified</code>
argument is currently accepted, other arguments are ignored (See Details section);</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function parses the data from the <code>response</code> object and tries to fit
it into a tibble object. Each row in the resulting tibble will be describing
an object in your Figma file.
</p>
<p>If <code>as_tibble()</code> receives a <code>response</code> object as input, it will call
<code>as_figma_document()</code> to convert this <code>response</code> object into a <code>figma_document</code>
object. But, <code>as_tibble()</code> can receive directly a <code>figma_document</code> object
and jump this step.
</p>
<p>If the Figma file have no objects draw in a specific canvas, <code>as_tibble()</code>
will return an empty <code>tibble</code> object for this specific canvas. This means that, if
your Figma file is empty, or, in other words, if all of the canvas/pages of the
file have no objects draw in them, the final result of <code>as_tibble()</code> will
be an empty <code>tibble</code> object.
</p>
<p>By default, <code>figma::as_tibble()</code> does not include any document metadata in
the resulting tibble object. But you can pass <code>simplified = FALSE</code> to the
function to change this behavior.
</p>


<h3>Value</h3>

<p>A <code>tibble::tibble()</code> object with all of the canvas and objects data of your
Figma file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file_key &lt;- "hch8YlkgaUIZ9raDzjPvCz"
token &lt;- "my figma token secret ... "
# Returns a `response` object:
r &lt;- figma::get_figma_file(file_key, token)
result &lt;- figma::as_tibble(r)

# To include all of the document metadata, use `simplified = FALSE`
result &lt;- figma::as_tibble(r, simplified = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='build_query_string'>Build a query string from a set of named parameters</h2><span id='topic+build_query_string'></span>

<h3>Description</h3>

<p>Utility function used to build query strings (non-exported function).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_query_string(parameters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_query_string_+3A_parameters">parameters</code></td>
<td>
<p>A list with a set of key-value pairs to compose the query string</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function takes a set of key-value pairs (or in other words,
a set of named arguments), to build a query string. It basically
combine (or &quot;collapse&quot;) all key-value pairs together, to form
the resulting query string.
</p>
<p>Logical values (TRUE or FALSE) are automatically converted to
a lower-case version (&quot;true&quot; or &quot;false&quot;), since these versions are
more typically used in standard query strings.
</p>


<h3>Value</h3>

<p>A single string with the query string produced.
</p>

<hr>
<h2 id='build_request_url'>Build the request URL</h2><span id='topic+build_request_url'></span>

<h3>Description</h3>

<p>Add multiple &quot;components&quot; to a base URL, to build
the complete URL that will be used in the HTTP request (non-exported function).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_request_url(base_url, path = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_request_url_+3A_base_url">base_url</code></td>
<td>
<p>A single string with the base URL that you want add components to;</p>
</td></tr>
<tr><td><code id="build_request_url_+3A_path">path</code></td>
<td>
<p>A vector of strings (or a single string) with &quot;path&quot; components;</p>
</td></tr>
<tr><td><code id="build_request_url_+3A_...">...</code></td>
<td>
<p>Key-value pairs that will compose the query string section of the URL;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function receives as input, a set of pieces (or components) of
the URL that will be used in the HTTP request. Then, it tries to combine
(or &quot;collapse&quot;) all these pieces together to form a single string with
the complete URL.
</p>
<p>There are three main types of pieces (or components) accepted by this function.
First, the base URL, which is the initial portion of the URL. Usually, this is
the base URL for the Figma API.
</p>
<p>Second, we have the &quot;path&quot; components,
which are all the small bits that compose the path and resource sections
of the URL. Each element of the vector given to <code>path</code> is separated
by a slash character (<code>"/"</code>) in the final result.
</p>
<p>For example, if I give the vector <code>c("path1", "path2", "path3")</code>
to <code>path</code>, the end result will be structured like this:
</p>
<p><code>base_url/path1/path2/path3</code>
</p>
<p>Third, a query string, which is usually composed by a set of
key-value pairs. <code>build_request_url()</code> collects all these
key-value pairs through the <code>...</code> argument, and then, combines
all these pairs together to form a query string.
</p>


<h3>Value</h3>

<p>A single string with the complete URL.
</p>

<hr>
<h2 id='default_attrs'>Default attributes of every Figma node</h2><span id='topic+default_attrs'></span>

<h3>Description</h3>

<p>Every Figma document is represented as a three of nodes, and, each node have
a different type (e.g. DOCUMENT, CANVAS, TEXT, etc.). However, despite their
differences in type, every node always has three default attributes, which
are stored in the <code>figma::default_attrs</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_attrs
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 3.
</p>

<hr>
<h2 id='document_attrs'>Default document attributes of a Figma file</h2><span id='topic+document_attrs'></span>

<h3>Description</h3>

<p>Every Figma file have some default document attributes, that is, some informations
that describe the file, like its name, the last time it was modified, etc.
These default attributes are stored in the <code>figma::document_attrs</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>document_attrs
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 11.
</p>

<hr>
<h2 id='get_document_info'>Get the document metadata of a Figma File from the API</h2><span id='topic+get_document_info'></span>

<h3>Description</h3>

<p>This function uses the <code>/v1/files/</code> endpoint of Figma API
to get all of the document metadata of a particular Figma file,
and fit it into a R object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_document_info(file_key, token, .output_format = "list")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_document_info_+3A_file_key">file_key</code></td>
<td>
<p>A string with the key of the Figma File you want to get;</p>
</td></tr>
<tr><td><code id="get_document_info_+3A_token">token</code></td>
<td>
<p>A string with your personal Figma token to authenticate in the API;</p>
</td></tr>
<tr><td><code id="get_document_info_+3A_.output_format">.output_format</code></td>
<td>
<p>The output format. Options are <code>"list"</code> and
<code>"tibble"</code>. Defaults to <code>"list"</code>;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You may not be interested in the contents of a Figma file, but in the
metadata of this file instead. That is, you want to know the &quot;name&quot;
of a particular Figma file, the last time it was modified, which version
it uses, etc.
</p>
<p>That is why <code>get_document_info()</code> exists. It collects just the
metadata of your Figma file, and ignores all canvas and objects data.
</p>
<p>By default, <code>get_document_info()</code> fits the metadata into a raw R list.
But you can change this behavior with the <code>.output_format</code> argument.
With <code>.output_format = "tibble"</code>, <code>get_document_info()</code> will
fit the metadata into a <code>tibble::tibble</code> object.
</p>


<h3>Value</h3>

<p>By default, <code>get_document_info()</code> returns a raw R list with all
of the document metadata of your Figma file. But you can change this
behavior with <code>.output_format = "tibble"</code>, which gives you
a <code>tibble::tibble</code> object.
</p>


<h3>Be aware of possible HTTP errors</h3>

<p>To get the data of your Figma file, the functions from <code>figma</code> package make a HTTP
request to the Figma API. But this request can fail for a number of reasons, and if this
does happen, <code>get_document_info()</code> will use <code>report_http_error()</code> to raise an error
and report to the user, what kind of error message the Figma API returned.
See <code>vignette("http-errors")</code> for more details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(figma)
file_key &lt;- "hch8YlkgaUIZ9raDzjPvCz"
token &lt;- "my figma token secret ... "
# Returns a list with the metadata:
result &lt;- figma::get_document_info(file_key, token)
# Returns a `tibble` object:
result &lt;- figma::get_document_info(
  file_key, token,
  .output_format = "tibble"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_endpoint_url'>Get the URL to a endpoint of Figma API</h2><span id='topic+get_endpoint_url'></span>

<h3>Description</h3>

<p>Get the URL to a endpoint of Figma API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_endpoint_url(endpoint = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_endpoint_url_+3A_endpoint">endpoint</code></td>
<td>
<p>A single string with the name of the desired endpoint
(needs to be one of the values present in <code>figma::implemented_endpoints</code>).
Defaults to NULL;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the function is called without any arguments, <code>get_endpoint_url()</code>
will output a list with all of the implemented endpoints.
</p>
<p>However, the function accepts a single string value with the name of,
a specific endpoint. In this case, <code>get_endpoint_url()</code> will
output a single string with the endpoint you selected. Is worth
mentioning, that this string must be one of the values present
in <code>figma::implemented_endpoints</code>.
</p>
<p>If the user provided any type of value that does
not fit in this description, the function
will prompt the user with an error message.
</p>


<h3>Value</h3>

<p>A string with the URL to the given endpoint, or, a list with all of
the implemented endpoints;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Returns the URL to the `files` endpoint of Figma API
library(figma)
figma::get_endpoint_url("files")

</code></pre>

<hr>
<h2 id='get_figma_file'>Get data of a Figma File from the API</h2><span id='topic+get_figma_file'></span>

<h3>Description</h3>

<p>This function uses the <code>/v1/files/</code> endpoint of Figma API to get all of
the data of a particular Figma file, and fit it into a R object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_figma_file(
  file_key,
  token,
  geometry = FALSE,
  .output_format = "response",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_figma_file_+3A_file_key">file_key</code></td>
<td>
<p>A string with the key of the Figma File you want to get;</p>
</td></tr>
<tr><td><code id="get_figma_file_+3A_token">token</code></td>
<td>
<p>A string with your personal Figma token to authenticate in the API;</p>
</td></tr>
<tr><td><code id="get_figma_file_+3A_geometry">geometry</code></td>
<td>
<p>A boolean value indicating if you want to export vector data.
Defaults to FALSE;</p>
</td></tr>
<tr><td><code id="get_figma_file_+3A_.output_format">.output_format</code></td>
<td>
<p>The output format. Options are <code>"response",
"figma_document", "tibble"</code>. Defaults to <code>"response"</code>;</p>
</td></tr>
<tr><td><code id="get_figma_file_+3A_...">...</code></td>
<td>
<p>Further arguments that are passed to <code>parse_response_object()</code>;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>With this function you can bring all of the data of your Figma file into R.
By default, <code>get_figma_file()</code> returns a 'response' object with all of
the data returned by the API. That is, not only the data of your Figma file,
but also, the data from the HTTP request.
</p>
<p>All of your Figma file data is in the <code>content</code> element of
the 'response' object. However, by default, the Figma API returns this data in
<code>raw</code> format (that is, as raw bytes). To convert these bytes into a
useful object (like a JSON object, or a character vector, or a list), is
highly recommended to apply the <code>httr::content()</code> function over this
<code>content</code> element.
</p>
<p>Although this being a useful output format (i.e. 'response' object)
(specially because it brings all of the available data), you might want
a more &quot;formatted&quot; (or friendly) output. In this case, you can use the
<code>.output_format</code> argument to get a different output format.
</p>
<p>With <code>.output_format = "figma_document"</code>, <code>get_figma_file()</code>
use <code>figma::as_figma_document()</code> to convert the 'response' object
into a Figma Document object (i.e. a object of class <code>figma_document</code>),
and returns it as the output. This <code>figma_document</code> object, is a normal
R list, with only the data of your Figma file (See documentation of
<code>figma::as_figma_document()</code> for more details).
</p>
<p>With <code>.output_format = "tibble"</code>, <code>get_figma_file()</code> will use
<code>figma::as_tibble()</code> to parse the output from the API to fit into a
<code>tibble::tibble()</code> object. If you use this output format, you can also
use the <code>simplified</code> argument to control if document metadata should be
present in the resulting <code>tibble</code> (See examples section).
</p>
<p>By default, <code>simplified</code> is set to <code>TRUE</code>, so <code>get_figma_file()</code>
outputs a tibble with all the objects data from your Figma file, and their
corresponding canvas metadata. However, it does not include any metadata from
the document per se.
</p>
<p>In other words, with <code>simplified = TRUE</code> you get all the data of the
objects from each canvas in your Figma file, but you do not get any metadata
from the document. That is okay, because you usually do not need these
informations.
</p>
<p>But if you want them in the resulting tibble, pass <code>simplified = FALSE</code>
to <code>get_figma_file()</code>. If you want just the document metadata (and not
the canvas or objects data), you might want to use the <code>get_document_info()</code>
function instead of <code>get_figma_file()</code> (See <code>get_document_info()</code>
documentation for more details).
</p>


<h3>Value</h3>

<p>By default, <code>get_figma_file()</code> do not parse the output from
the API, and returns the raw <code>response</code> object
produced by the <code>httr</code> HTTP methods (e.g. <code>httr::GET()</code>).
</p>
<p>But you can change this behavior with <code>.output_format</code> argument. With
<code>.output_format = "tibble"</code>, a <code>tibble::tibble()</code> object
is returned. With <code>.output_format = "figma_document"</code>, a object of
class <code>figma_document</code> is returned (See Details
section for more information).
</p>


<h3>Be aware of possible HTTP errors</h3>

<p>To get the data of your Figma file, the functions from <code>figma</code> package make a HTTP
request to the Figma API. But this request can fail for a number of reasons, and if this
does happen, <code>get_figma_file()</code> will use <code>report_http_error()</code> to raise an error
and report to the user, what kind of error message the Figma API returned.
See <code>vignette("http-errors")</code> for more details.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as_tibble">as_tibble</a></code>
</p>
<p><code><a href="#topic+as_figma_document">as_figma_document</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(figma)

file_key &lt;- "hch8YlkgaUIZ9raDzjPvCz"
token &lt;- "my figma token secret ... "

# Returns a `response` object:
result &lt;- figma::get_figma_file(file_key, token)

# Returns a `tibble` object:
result &lt;- figma::get_figma_file(
  file_key, token, .output_format = "tibble"
)

# Returns the same `tibble` object as before
# but, now, with all the metadata from the
# Figma document too:
result &lt;- figma::get_figma_file(
  file_key, token,
  .output_format = "tibble",
  simplified = FALSE
)

# Returns a `figma_document` object:
result &lt;- figma::get_figma_file(
  file_key, token, .output_format = "figma_document"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_figma_page'>Get data of a specific canvas/page in a Figma File from the API</h2><span id='topic+get_figma_page'></span>

<h3>Description</h3>

<p>This function uses the <code>/v1/files/</code> endpoint of Figma API
to get the data of an specific canvas/page (or a set of canvas/pages) from a Figma file,
and fit it into a R object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_figma_page(
  file_key,
  token,
  node_ids,
  geometry = FALSE,
  .output_format = "response",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_figma_page_+3A_file_key">file_key</code></td>
<td>
<p>A string with the key of the Figma File you want to get;</p>
</td></tr>
<tr><td><code id="get_figma_page_+3A_token">token</code></td>
<td>
<p>A string with your personal Figma token to authenticate in the API;</p>
</td></tr>
<tr><td><code id="get_figma_page_+3A_node_ids">node_ids</code></td>
<td>
<p>A string with the node ID (or a vector of strings with node IDs);</p>
</td></tr>
<tr><td><code id="get_figma_page_+3A_geometry">geometry</code></td>
<td>
<p>A boolean value indicating if you want to export vector data.
Defaults to FALSE;</p>
</td></tr>
<tr><td><code id="get_figma_page_+3A_.output_format">.output_format</code></td>
<td>
<p>The output format. Options are <code>"response",
"figma_document", "tibble"</code>. Defaults to <code>"response"</code>;</p>
</td></tr>
<tr><td><code id="get_figma_page_+3A_...">...</code></td>
<td>
<p>Further arguments that are passed to <code>parse_response_object()</code>;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>With 'get_figma_file()' you get data of all objects in all canvas/pages of your Figma file.
But with 'get_figma_page()' you get data of all objects drawn in a specific set of canvas/pages
of your Figma file.
</p>
<p>Every canvas/page in a Figma file, is identified by a node ID. You can easily get this ID
from the URL that appears in your browser when you access this canvas/page on the
Figma platform (See <code>vignette("figma")</code> for more details).
</p>
<p>After you collected this node ID, give it to <code>node_id</code> argument as a string. If
you want to collect data from more than one canvas/page of your Figma file, give a vector
of node IDs to <code>node_id</code> argument.
</p>


<h3>Value</h3>

<p>By default, <code>get_figma_page()</code> do not parse the output from
the API, and returns the raw <code>response</code> object
produced by the <code>httr</code> HTTP methods (e.g. <code>httr::GET()</code>).
</p>
<p>But you can change this behavior with <code>.output_format</code> argument. With
<code>.output_format = "tibble"</code>, a <code>tibble::tibble()</code> object
is returned. With <code>.output_format = "figma_document"</code>, a object of
class <code>figma_document</code> is returned (See Details
section for more information).
</p>


<h3>Be aware of possible HTTP errors</h3>

<p>To get the data of your Figma file, the functions from <code>figma</code> package make a HTTP
request to the Figma API. But this request can fail for a number of reasons, and if this
does happen, <code>get_figma_page()</code> will use <code>report_http_error()</code> to raise an error
and report to the user, what kind of error message the Figma API returned.
See <code>vignette("http-errors")</code> for more details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(figma)
file_key &lt;- "hch8YlkgaUIZ9raDzjPvCz"
token &lt;- "my figma token secret ... "
node_id &lt;- "0%3A1"
result &lt;- figma::get_figma_page(
  file_key, token, node_id
)

## End(Not run)
</code></pre>

<hr>
<h2 id='parse_response_object'>Parse the response data and fit it into a R object</h2><span id='topic+parse_response_object'></span>

<h3>Description</h3>

<p>This function is usually called by <code>get_figma_file()</code>,
<code>get_document_info()</code> and <code>get_figma_page()</code>, to process
the <code>response</code> object returned by the <code>httr</code> HTTP methods, such as
<code>httr::GET()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_response_object(response, .output_format, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_response_object_+3A_response">response</code></td>
<td>
<p>The <code>response</code> object returned by the <code>httr</code> HTTP
methods (e.g. <code>httr::GET()</code>);</p>
</td></tr>
<tr><td><code id="parse_response_object_+3A_.output_format">.output_format</code></td>
<td>
<p>A string with the name of the output format chosen by the user;</p>
</td></tr>
<tr><td><code id="parse_response_object_+3A_...">...</code></td>
<td>
<p>Further arguments passed by the caller;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions from <code>figma</code> package adopts the philosophy to give, by
default, the most raw and unprocessed result possible to the user. Because
of it, <code>parse_response_object()</code> is usually called with
<code>.output_format = "response"</code>, which makes the function to just
return the input as is.
</p>
<p>This unprocessed and raw input gives all of the possible information to
the user (which is good for debugging). But this information is usually in
a very messy and not friendly format, which makes harder for data analysis
and transformation pipelines.
</p>
<p>The <code>.output_format</code> argument provide an option for the user to choose
a more friendly format. As an example, with <code>.output_format = "tibble"</code>,
<code>parse_response_object()</code> will call <code>figma::as_tibble()</code> to
parse the data of the <code>response</code> object, and fit it into a
<code>tibble::tibble()</code> object.
</p>

<hr>
<h2 id='quarto_website'>A representation of a Quarto Website home webpage</h2><span id='topic+quarto_website'></span>

<h3>Description</h3>

<p>The 'quarto_website' object contain the data of the homepage for
a Quarto Website that was drawn in a Figma file. In other words, a
homepage was drawn in Figma, and then, it was imported to R trough the <code>figma</code>
package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quarto_website
</code></pre>


<h3>Format</h3>

<p>An object of class <code>response</code>, produced by <code>httr</code> HTTP methods (e.g. <code>httr::GET()</code>);
</p>


<h3>Details</h3>

<p>This Figma file contains a single page/canvas, and each HTML component
is a separate object in the Figma file. The name of each object in the
page/canvas correspond to the CSS selector used to style this HTML
component in a real Quarto Website.
</p>
<p>This is a interesting structure, because you can use the name and the attributes
of each object to build custom CSS code, that maybe matches the style of
a webpage.
</p>
<p>Is worth mentioning, that the <code>quarto_website</code> object
is a <code>httr::response</code> object
returned by <code>figma::get_figma_file()</code>. This <code>httr::response</code> object is
just a simple R list
with class <code>response</code>. The elements of this list and their description are:
</p>

<ul>
<li><p><code>url</code>: The URL used in the HTTP request made to the Figma API;
</p>
</li>
<li><p><code>status_code</code>: The HTTP status code returned by the Figma API;
</p>
</li>
<li><p><code>headers</code> and <code>all_headers</code>: The list of headers returned by the Figma API;
</p>
</li>
<li><p><code>cookies</code>: A named list of cookies returned by the Figma API;
</p>
</li>
<li><p><code>content</code>: The body of the response, as raw vector. See <code>httr::content()</code> for various ways to parse this content;
</p>
</li>
<li><p><code>date</code> and <code>times</code>: Timing information about the HTTP request made to the Figma API;
</p>
</li>
<li><p><code>handle</code>: The handle associated with the url;
</p>
</li>
<li><p><code>request</code>: The URL, HTTP method and options used in the HTTP request made to the Figma API;
</p>
</li></ul>

<p>All data of the Figma file is stored in the <code>content</code> element. However, this data is in raw
format (i.e. in raw bytes). To convert these raw bytes into a useful format like a R list, or a
string, you should use the <code>httr::content()</code> function. See <code>vignette("figma")</code> for a
detailed description of the data present in this <code>content</code> element;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(figma)
str(quarto_website)
</code></pre>

<hr>
<h2 id='select_any_of'>Select any of the elements in a object</h2><span id='topic+select_any_of'></span>

<h3>Description</h3>

<p>Safely select elements of a named object (like a named R list).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_any_of(x, elements)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_any_of_+3A_x">x</code></td>
<td>
<p>A object with <code>names</code> attribute (usually a named R list);</p>
</td></tr>
<tr><td><code id="select_any_of_+3A_elements">elements</code></td>
<td>
<p>A vector of strings with the name of the elements to search for;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This functions works in a similar way to <code>dplyr::any_of()</code>. It tries
to select any element of <code>x</code> that is in the vector given by the user
in the <code>elements</code> argument.
</p>
<p>In other words, if the user gives the vector <code>c("a", "c", "e")</code>, <code>select_any_of()</code>
will search for elements &quot;a&quot;, &quot;c&quot; and &quot;e&quot; in the <code>x</code> object, and will select
any of these elements if it finds them.
</p>
<p>But <code>dplyr::any_of()</code> is designed to work with columns of a data.frame,
and <code>figma::select_any_of()</code> is designed to work specially with elements of a
named list (although it can be used to select columns of a data.frames as well).
</p>


<h3>Value</h3>

<p>A subset of the <code>x</code> if it finds any of the elements described in the
<code>element</code> argument.
</p>

<hr>
<h2 id='untitled_file'>An example of a simple Figma file</h2><span id='topic+untitled_file'></span>

<h3>Description</h3>

<p>The <code>untitled_file</code> object is an example of what kind of object the functions from <code>figma</code> package
tend to return to the user. This object was produced by a call to <code>figma::get_figma_file()</code>, and contains the
data of a very simple Figma file entitled &quot;Untitled&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>untitled_file
</code></pre>


<h3>Format</h3>

<p>An object of class <code>response</code>, produced by <code>httr</code> HTTP methods (e.g. <code>httr::GET()</code>);
</p>


<h3>Details</h3>

<p>This &quot;Untitled&quot; Figma file have two canvas/pages, called &quot;Page 1&quot; and &quot;Page 2&quot;. There are
three objects drawn in Page 1 (a RECTANGLE, a TEXT and a VECTOR object), and, there are two objects
drawn in Page 2 (a RECTANGLE and a TEXT object).
</p>
<p>The <code>untitled_file</code> object contains the <code>httr::response</code> object
returned by <code>figma::get_figma_file()</code>. This <code>httr::response</code> object is just a simple R list
with class <code>response</code>. The elements of this list and their description are:
</p>

<ul>
<li><p><code>url</code>: The URL used in the HTTP request made to the Figma API;
</p>
</li>
<li><p><code>status_code</code>: The HTTP status code returned by the Figma API;
</p>
</li>
<li><p><code>headers</code> and <code>all_headers</code>: The list of headers returned by the Figma API;
</p>
</li>
<li><p><code>cookies</code>: A named list of cookies returned by the Figma API;
</p>
</li>
<li><p><code>content</code>: The body of the response, as raw vector. See <code>httr::content()</code> for various ways to parse this content;
</p>
</li>
<li><p><code>date</code> and <code>times</code>: Timing information about the HTTP request made to the Figma API;
</p>
</li>
<li><p><code>handle</code>: The handle associated with the url;
</p>
</li>
<li><p><code>request</code>: The URL, HTTP method and options used in the HTTP request made to the Figma API;
</p>
</li></ul>

<p>All data of the Figma file is stored in the <code>content</code> element. However, this data is in raw
format (i.e. in raw bytes). To convert these raw bytes into a useful format like a R list, or a
string, you should use the <code>httr::content()</code> function. See <code>vignette("figma")</code> for a
detailed description of the data present in this <code>content</code> element;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(figma)
str(untitled_file)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

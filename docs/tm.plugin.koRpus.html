<!DOCTYPE html><html><head><title>Help for package tm.plugin.koRpus</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tm.plugin.koRpus}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tm.plugin.koRpus-package'><p>Full Corpus Support for the 'koRpus' Package</p></a></li>
<li><a href='#clozeDelete,kRp.corpus-method'><p>Apply clozeDelete() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#corpus_files'><p>Get a comprehensive data frame describing the files of your corpus</p></a></li>
<li><a href='#corpusTagged'><p>Deprecated functions and methods</p></a></li>
<li><a href='#correct.hyph,kRp.corpus-method'><p>Methods to correct kRp.corpus objects</p></a></li>
<li><a href='#cTest,kRp.corpus-method'><p>Apply cTest() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#docTermMatrix,kRp.corpus-method'><p>Generate a document-term matrix from a corpus object</p></a></li>
<li><a href='#filterByClass,kRp.corpus-method'><p>Apply filterByClass() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#freq.analysis,kRp.corpus-method'><p>Apply freq.analysis() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#hyphen,kRp.corpus-method'><p>Apply hyphen() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#jumbleWords,kRp.corpus-method'><p>Apply jumbleWords() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#kRp.corpus,-class'><p>S4 Class kRp.corpus</p></a></li>
<li><a href='#kRpSource'><p>A source function for tm</p></a></li>
<li><a href='#lex.div,kRp.corpus-method'><p>Apply lex.div() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#query,kRp.corpus-method'><p>Apply query() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#read.corp.custom,kRp.corpus-method'><p>Apply read.corp.custom() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#readability,kRp.corpus-method'><p>Apply readability() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#readCorpus'><p>Create kRp.corpus objects from text files or data frames</p></a></li>
<li><a href='#show,kRp.corpus-method'><p>Show methods for kRp.corpus objects</p></a></li>
<li><a href='#split_by_doc_id,kRp.corpus-method'><p>Turn a kRp.corpus object into a list of kRp.text objects</p></a></li>
<li><a href='#summary,kRp.corpus-method'><p>Apply summary() to all texts in kRp.corpus objects</p></a></li>
<li><a href='#taggedText,kRp.corpus-method'><p>Getter/setter methods for kRp.corpus objects</p></a></li>
<li><a href='#textTransform,kRp.corpus-method'><p>Apply textTransform() to all texts in kRp.corpus objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Full Corpus Support for the 'koRpus' Package</td>
</tr>
<tr>
<td>Description:</td>
<td>Enhances 'koRpus' text object classes and methods to also support large
          corpora. Hierarchical ordering of corpus texts into arbitrary categories will
          be preserved. Provided classes and methods also improve the ability of using
          the 'koRpus' package together with the 'tm' package. To ask for help, report
          bugs, suggest feature improvements, or discuss the global development of the
          package, please subscribe to the koRpus-dev mailing list
          (<a href="https://korpusml.reaktanz.de">https://korpusml.reaktanz.de</a>).</td>
</tr>
<tr>
<td>Author:</td>
<td>m.eik michalke [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>m.eik michalke &lt;meik.michalke@hhu.de&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0),koRpus (&ge; 0.13-1),sylly (&ge; 0.1-6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods,parallel,tm,NLP</td>
</tr>
<tr>
<td>Suggests:</td>
<td>koRpus.lang.en,testthat,knitr,rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://reaktanz.de/?c=hacking&amp;s=koRpus">https://reaktanz.de/?c=hacking&amp;s=koRpus</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/unDocUMeantIt/tm.plugin.koRpus/issues">https://github.com/unDocUMeantIt/tm.plugin.koRpus/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-05-17</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'01_class_01_kRp.corpus.R'
'02_method_01_kRp.corpus-class_readability.R'
'02_method_02_kRp.corpus-class_hyphen.R'
'02_method_03_kRp.corpus-class_lex.div.R'
'02_method_04_kRp.corpus-class_read.corp.custom.R'
'02_method_05_kRp.corpus-class_freq.analysis.R'
'02_method_06_kRp.corpus-class_summary.R'
'02_method_07_kRp.corpus-class_correct.R'
'02_method_08_kRp.corpus-class_query.R'
'02_method_09_kRp.corpus-class_filterByClass.R'
'02_method_10_kRp.corpus-class_jumbleWords.R'
'02_method_11_kRp.corpus-class_clozeDelete.R'
'02_method_12_kRp.corpus-class_cTest.R'
'02_method_13_kRp.corpus-class_textTransform.R'
'02_method_14_kRp.corpus-class_docTermMatrix.R'
'02_method_15_kRp.corpus-class_split_by_doc_id.R'
'02_method_20_kRp.corpus_get_set_is.R'
'02_method_21_kRp.corpus-class_show.R' 'corpus_files.R'
'deprecated.R' 'kRpSource.R' 'readCorpus.R'
'tm.plugin.koRpus-internal.R' 'tm.plugin.koRpus-package.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-05-18 11:08:16 UTC; m</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-05-18 12:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tm.plugin.koRpus-package'>Full Corpus Support for the 'koRpus' Package</h2><span id='topic+tm.plugin.koRpus'></span><span id='topic+tm.plugin.koRpus-package'></span>

<h3>Description</h3>

<p>Enhances 'koRpus' text object classes and methods to also support large
          corpora. Hierarchical ordering of corpus texts into arbitrary categories will
          be preserved. Provided classes and methods also improve the ability of using
          the 'koRpus' package together with the 'tm' package. To ask for help, report
          bugs, suggest feature improvements, or discuss the global development of the
          package, please subscribe to the koRpus-dev mailing list
          (&lt;https://korpusml.reaktanz.de&gt;).
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> tm.plugin.koRpus</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.4-2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-05-17</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.5.0),koRpus (&gt;= 0.13-1),sylly (&gt;= 0.1-6)</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://reaktanz.de/?c=hacking&amp;s=koRpus</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>m.eik michalke [aut, cre]
</p>
<p>Maintainer: m.eik michalke &lt;meik.michalke@hhu.de&gt;
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://reaktanz.de/?c=hacking&amp;s=koRpus">https://reaktanz.de/?c=hacking&amp;s=koRpus</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/unDocUMeantIt/tm.plugin.koRpus/issues">https://github.com/unDocUMeantIt/tm.plugin.koRpus/issues</a>
</p>
</li></ul>


<hr>
<h2 id='clozeDelete+2CkRp.corpus-method'>Apply clozeDelete() to all texts in kRp.corpus objects</h2><span id='topic+clozeDelete+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+clozeDelete">clozeDelete</a></code> on all tagged text objects
inside the given <code>obj</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
clozeDelete(obj, mc.cores = getOption("mc.cores", 1L), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clozeDelete+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="clozeDelete+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="clozeDelete+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+clozeDelete">clozeDelete</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>obj</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  head(taggedText(myCorpus), n=10)
  myCorpus &lt;- clozeDelete(myCorpus)
  head(taggedText(myCorpus), n=10)
} else {}
</code></pre>

<hr>
<h2 id='corpus_files'>Get a comprehensive data frame describing the files of your corpus</h2><span id='topic+corpus_files'></span>

<h3>Description</h3>

<p>The function translates the hierarchy defintion given into a data frame with
one row for each file, including the generated document ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corpus_files(
  dir,
  hierarchy = list(),
  fsep = .Platform$file.sep,
  full_list = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corpus_files_+3A_dir">dir</code></td>
<td>
<p>File path to the root directory of the text corpus,
or a TIF[1] compliant data frame.</p>
</td></tr>
<tr><td><code id="corpus_files_+3A_hierarchy">hierarchy</code></td>
<td>
<p>A named list of named character vectors describing the directory hierarchy level by level.
If <code>TRUE</code> instead, the hierarchy structure is taken directly from the directory tree.
See section Hierarchy of <code><a href="#topic+readCorpus">readCorpus</a></code> for details.</p>
</td></tr>
<tr><td><code id="corpus_files_+3A_fsep">fsep</code></td>
<td>
<p>Character string defining the path separator to use.</p>
</td></tr>
<tr><td><code id="corpus_files_+3A_full_list">full_list</code></td>
<td>
<p>Logical, see return value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a data frame with columns <code>doc_id</code>, <code>file</code>,
<code>path</code> and one further factor
column for each hierarchy level,
or (if <code>full_list=TRUE</code>) a list containing that data frame
(<code>all_files</code>) and also data frames describing the hierarchy by given names (<code>hier_names</code>),
directories (<code>hier_dirs</code>) and relative paths (<code>hier_paths</code>).
</p>


<h3>References</h3>

<p>[1] Text Interchange Formats (<a href="https://github.com/ropensci/tif">https://github.com/ropensci/tif</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myCorpusFiles &lt;- corpus_files(
  dir=file.path(
    path.package("tm.plugin.koRpus"), "examples", "corpus"
  ),
  hierarchy=list(
    Topic=c(
      Winner="Reality Winner",
      Edwards="Natalie Edwards"
    ),
    Source=c(
      Wikipedia_prev="Wikipedia (old)",
      Wikipedia_new="Wikipedia (new)"
    )
  )
)
</code></pre>

<hr>
<h2 id='corpusTagged'>Deprecated functions and methods</h2><span id='topic+corpusTagged'></span><span id='topic+tm.plugin.koRpus-deprecated'></span><span id='topic+corpusTTR'></span><span id='topic+corpusLevel'></span><span id='topic+tm.plugin.koRpus-defunct'></span><span id='topic+corpusCategory'></span><span id='topic+corpusID'></span><span id='topic+corpusPath'></span>

<h3>Description</h3>

<p>These functions were used in earlier versions of the package but either
replaced or removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corpusTagged(obj, ...)

corpusTTR(obj, ...)

corpusLevel(...)

corpusCategory(...)

corpusID(...)

corpusPath(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corpusTagged_+3A_obj">obj</code></td>
<td>
<p>No longer used.</p>
</td></tr>
<tr><td><code id="corpusTagged_+3A_...">...</code></td>
<td>
<p>No longer used.</p>
</td></tr>
</table>

<hr>
<h2 id='correct.hyph+2CkRp.corpus-method'>Methods to correct kRp.corpus objects</h2><span id='topic+correct.hyph+2CkRp.corpus-method'></span><span id='topic+correct.hyph'></span>

<h3>Description</h3>

<p>These methods enable you to correct errors that occurred during automatic processing,
e.g., wrong hyphenation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
correct.hyph(obj, word = NULL, hyphen = NULL, cache = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="correct.hyph+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="correct.hyph+2B2CkRp.corpus-method_+3A_word">word</code></td>
<td>
<p>A character string,
the (possibly incorrectly hyphenated) <code>word</code> entry to be replaced with <code>hyphen</code>.</p>
</td></tr>
<tr><td><code id="correct.hyph+2B2CkRp.corpus-method_+3A_hyphen">hyphen</code></td>
<td>
<p>A character string,
the new manually hyphenated version of <code>word</code>. Mustn't contain
anything other than characters of <code>word</code> plus the hyphenation mark <code>"-"</code>.</p>
</td></tr>
<tr><td><code id="correct.hyph+2B2CkRp.corpus-method_+3A_cache">cache</code></td>
<td>
<p>Logical, if <code>TRUE</code>,
the given hyphenation will be added to the sessions' hyphenation cache.
Existing entries for the same word will be replaced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For details on what these methods do on a per text object basis, please refer to the
documentation of <code><a href="sylly.html#topic+correct.hyph">correct.hyph</a></code> in the <code>sylly</code>
package.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>obj</code>.
</p>

<hr>
<h2 id='cTest+2CkRp.corpus-method'>Apply cTest() to all texts in kRp.corpus objects</h2><span id='topic+cTest+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+cTest">cTest</a></code> on all tagged text objects
inside the given <code>obj</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
cTest(obj, mc.cores = getOption("mc.cores", 1L), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cTest+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="cTest+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="cTest+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+cTest">cTest</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>obj</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  taggedText(myCorpus)[20:30,]
  myCorpus &lt;- cTest(myCorpus)
  taggedText(myCorpus)[20:30,]
} else {}
</code></pre>

<hr>
<h2 id='docTermMatrix+2CkRp.corpus-method'>Generate a document-term matrix from a corpus object</h2><span id='topic+docTermMatrix+2CkRp.corpus-method'></span><span id='topic+docTermMatrix+2C-methods'></span>

<h3>Description</h3>

<p>Calculates a sparse document-term matrix calculated from a given object of class
<code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code> and adds it to the object's feature list.
You can also calculate the term frequency inverted document frequency value (tf-idf) for each
term.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
docTermMatrix(
  obj,
  terms = "token",
  case.sens = FALSE,
  tfidf = FALSE,
  as.feature = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="docTermMatrix+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="docTermMatrix+2B2CkRp.corpus-method_+3A_terms">terms</code></td>
<td>
<p>A character string defining the <code>tokens</code> column to be used for calculating the matrix.</p>
</td></tr>
<tr><td><code id="docTermMatrix+2B2CkRp.corpus-method_+3A_case.sens">case.sens</code></td>
<td>
<p>Logical, whether terms should be counted case sensitive.</p>
</td></tr>
<tr><td><code id="docTermMatrix+2B2CkRp.corpus-method_+3A_tfidf">tfidf</code></td>
<td>
<p>Logical,
if <code>TRUE</code> calculates term frequency&ndash;inverse document frequency (tf-idf)
values instead of absolute frequency.</p>
</td></tr>
<tr><td><code id="docTermMatrix+2B2CkRp.corpus-method_+3A_as.feature">as.feature</code></td>
<td>
<p>Logical,
whether the output should be just the sparse matrix or the input object with
that matrix added as a feature. Use <code><a href="#topic+corpusDocTermMatrix">corpusDocTermMatrix</a></code>
to get the matrix from such an aggregated object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The settings of <code>terms</code>, <code>case.sens</code>,
and <code>tfidf</code> will be stored in the object's <code>meta</code> slot,
so you can use <code>corpusMeta(..., "doc_term_matrix")</code> to fetch it.
</p>
<p>See the examples to learn how to limit the analysis to desired word classes.
</p>


<h3>Value</h3>

<p>Either an object of the input class or a sparse matrix of class
<code><a href="Matrix.html#topic+dgCMatrix-class">dgCMatrix</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(path.package("tm.plugin.koRpus"), "examples", "corpus"),
    hierarchy=list(
      Topic=c(
        Winner="Reality Winner",
        Edwards="Natalie Edwards"
      ),
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  # get the document-term frequencies in a sparse matrix
  myDTMatrix &lt;- docTermMatrix(myCorpus, as.feature=FALSE)

  # combine with filterByClass() to, e.g.,  exclude all punctuation
  myDTMatrix &lt;- docTermMatrix(filterByClass(myCorpus), as.feature=FALSE)

  # instead of absolute frequencies, get the tf-idf values
  myDTMatrix &lt;- docTermMatrix(
    filterByClass(myCorpus),
    tfidf=TRUE,
    as.feature=FALSE
  )
} else {}
</code></pre>

<hr>
<h2 id='filterByClass+2CkRp.corpus-method'>Apply filterByClass() to all texts in kRp.corpus objects</h2><span id='topic+filterByClass+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+filterByClass">filterByClass</a></code> on all tagged text objects
inside the given <code>txt</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
filterByClass(txt, mc.cores = getOption("mc.cores", 1L), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterByClass+2B2CkRp.corpus-method_+3A_txt">txt</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="filterByClass+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="filterByClass+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+filterByClass">filterByClass</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>txt</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  head(taggedText(myCorpus), n=10)
  # remove all punctuation
  myCorpus &lt;- filterByClass(myCorpus)
  head(taggedText(myCorpus), n=10)
} else {}
</code></pre>

<hr>
<h2 id='freq.analysis+2CkRp.corpus-method'>Apply freq.analysis() to all texts in kRp.corpus objects</h2><span id='topic+freq.analysis+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+freq.analysis">freq.analysis</a></code> on all tagged text objects
inside the given <code>txt.file</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
freq.analysis(txt.file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="freq.analysis+2B2CkRp.corpus-method_+3A_txt.file">txt.file</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="freq.analysis+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+freq.analysis">freq.analysis</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>corp.freq</code> was not specified but a valid object of class <code><a href="koRpus.html#topic+kRp.corp.freq-class">kRp.corp.freq</a></code>
is found in the <code>freq</code> slot of <code>txt.file</code>,
it is used automatically. That is the case if you called
<code><a href="#topic+read.corp.custom">read.corp.custom</a></code> on the object previously.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>txt.file</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  myCorpus &lt;- read.corp.custom(myCorpus)
  myCorpus &lt;- freq.analysis(myCorpus)
  corpusFreq(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='hyphen+2CkRp.corpus-method'>Apply hyphen() to all texts in kRp.corpus objects</h2><span id='topic+hyphen+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="sylly.html#topic+hyphen">hyphen</a></code> on all tagged text objects
inside the given <code>words</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
hyphen(words, mc.cores = getOption("mc.cores", 1L), quiet = TRUE,
      ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hyphen+2B2CkRp.corpus-method_+3A_words">words</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="hyphen+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="hyphen+2B2CkRp.corpus-method_+3A_quiet">quiet</code></td>
<td>
<p>Logical,
if <code>FALSE</code> shows a status bar for the hyphenation process of each text.</p>
</td></tr>
<tr><td><code id="hyphen+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="sylly.html#topic+hyphen">hyphen</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>words</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Winner", "Wikipedia_new"
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  myCorpus &lt;- hyphen(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='jumbleWords+2CkRp.corpus-method'>Apply jumbleWords() to all texts in kRp.corpus objects</h2><span id='topic+jumbleWords+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+jumbleWords">jumbleWords</a></code> on all tagged text objects
inside the given <code>words</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
jumbleWords(words, mc.cores = getOption("mc.cores", 1L), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jumbleWords+2B2CkRp.corpus-method_+3A_words">words</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="jumbleWords+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="jumbleWords+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+jumbleWords">jumbleWords</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>words</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  head(taggedText(myCorpus), n=10)
  myCorpus &lt;- jumbleWords(myCorpus)
  head(taggedText(myCorpus), n=10)
} else {}
</code></pre>

<hr>
<h2 id='kRp.corpus+2C-class'>S4 Class kRp.corpus</h2><span id='topic+kRp.corpus+2C-class'></span><span id='topic+kRp.corpus'></span><span id='topic+kRp.corpus-class'></span>

<h3>Description</h3>

<p>Objects of this class can contain full text corpora in a hierachical structure. It supports both the <code>tm</code> package's
<code><a href="tm.html#topic+Corpus">Corpus</a></code> class and <code>koRpus</code>' own object classes and stores them in separated slots.
</p>


<h3>Details</h3>

<p>Objects should be created using the <code><a href="#topic+readCorpus">readCorpus</a></code> function.
</p>


<h3>Slots</h3>


<dl>
<dt><code>lang</code></dt><dd><p>A character string,
naming the language that is assumed for the tokenized texts in this object.</p>
</dd>
<dt><code>desc</code></dt><dd><p>A named list of descriptive statistics of the tagged texts.</p>
</dd>
<dt><code>meta</code></dt><dd><p>A named list. Can be used to store meta information. Currently,
no particular format is defined.</p>
</dd>
<dt><code>raw</code></dt><dd><p>A list of objects of class <code><a href="tm.html#topic+Corpus">Corpus</a></code>.</p>
</dd>
<dt><code>tokens</code></dt><dd><p>A data frame as used for the <code>tokens</code> slot in objects of class <code><a href="koRpus.html#topic+kRp.text-class">kRp.text</a></code>. In addition to the columns
usually found in those objects,
this data frame also has a factor column for each hierarchical category defined (if any).</p>
</dd>
<dt><code>features</code></dt><dd><p>A named logical vector,
indicating which features are available in this object's <code>feat_list</code> slot.
Common features are listed in the description of the <code>feat_list</code> slot.</p>
</dd>
<dt><code>feat_list</code></dt><dd><p>A named list with optional analysis results or other content as used by the defined <code>features</code>:
</p>

<ul>
<li><p><code>hierarchy</code> A named list of named character vectors describing the directory hierarchy level by level.
</p>
</li>
<li><p><code>hyphen</code> A named list of objects of class <code><a href="sylly.html#topic+kRp.hyphen-class">kRp.hyphen</a></code>.
</p>
</li>
<li><p><code>readability</code> A named list of objects of class <code><a href="koRpus.html#topic+kRp.readability-class">kRp.readability</a></code>.
</p>
</li>
<li><p><code>lex_div</code> A named list of objects of class <code><a href="koRpus.html#topic+kRp.TTR-class">kRp.TTR</a></code>.
</p>
</li>
<li><p><code>freq</code> The <code>freq.analysis</code> slot of a <code><a href="koRpus.html#topic+kRp.txt.freq-class">kRp.txt.freq</a></code> class object after
<code><a href="#topic+freq.analysis">freq.analysis</a></code> was called.
</p>
</li>
<li><p><code>corp_freq</code> An object of class <code><a href="koRpus.html#topic+kRp.corp.freq-class">kRp.corp.freq</a></code>,
e.g., results of a call to
<code><a href="#topic+read.corp.custom">read.corp.custom</a></code>.
</p>
</li>
<li><p><code>diff</code> A named list of <code>diff</code> features of a <code><a href="koRpus.html#topic+kRp.text-class">kRp.text</a></code> object after
a method like <code><a href="#topic+textTransform">textTransform</a></code> was called.
</p>
</li>
<li><p><code>summary</code> A summary data frame for the full corpus,
including descriptive statistics on all texts, as well as
results of analyses like readability and lexical diversity, if available.
</p>
</li>
<li><p><code>doc_term_matrix</code> A sparse document-term matrix,
as produced by <code><a href="#topic+docTermMatrix">docTermMatrix</a></code>.
</p>
</li>
<li><p><code>stopwords</code> A numeric vector with the total number of stopwords in each text,
if stopwords were analyzed during tokenizing or POS tagging.
</p>
</li></ul>

<p>See the <code><a href="#topic+kRp.corpus_get-methods">getter and setter methods</a></code> for easy access to these sub-slots.
There can actually be any number of additional features,
the above is just a list of those already defined by this package.</p>
</dd>
</dl>


<h3>Contructor function</h3>

<p>Should you need to manually generate objects of this class (which should rarely be the case),
the contructor function 
<code>kRp.corpus(...)</code> can be used instead of
<code>new("kRp.corpus", ...)</code>. Whenever possible, stick to
<code><a href="#topic+readCorpus">readCorpus</a></code>.
</p>


<h3>Note</h3>

<p>There is also <code><a href="#topic+kRp.corpus_get-methods">getter and setter methods</a></code> for objects of this class.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(path.package("tm.plugin.koRpus"), "examples", "corpus"),
    hierarchy=list(
      Topic=c(
        Winner="Reality Winner",
        Edwards="Natalie Edwards"
      ),
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )
} else {}

# manual creation
emptyCorpus &lt;- kRp.corpus()
</code></pre>

<hr>
<h2 id='kRpSource'>A source function for tm</h2><span id='topic+kRpSource'></span>

<h3>Description</h3>

<p>An rather untested attempt to sketch a <code><a href="tm.html#topic+Source">Source</a></code> function for <code>tm</code>.
Supposed to be used to translate tagged <code>koRpus</code> objects into <code>tm</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kRpSource(obj, encoding = "UTF-8")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kRpSource_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="koRpus.html#topic+kRp.text-class">kRp.text</a></code> (a class union for tagged text objects).</p>
</td></tr>
<tr><td><code id="kRpSource_+3A_encoding">encoding</code></td>
<td>
<p>Character string, defining the character encoding of the object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Also provided are the methods <code>getElem</code> and <code>pGetElem</code> for S3 class <code>kRpSource</code>.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="tm.html#topic+Source">Source</a></code>,
also inheriting class <code>kRpSource</code>.
</p>

<hr>
<h2 id='lex.div+2CkRp.corpus-method'>Apply lex.div() to all texts in kRp.corpus objects</h2><span id='topic+lex.div+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+lex.div">lex.div</a></code> on all tagged text objects
inside the given <code>txt</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
lex.div(
  txt,
  summary = TRUE,
  mc.cores = getOption("mc.cores", 1L),
  char = "",
  quiet = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lex.div+2B2CkRp.corpus-method_+3A_txt">txt</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="lex.div+2B2CkRp.corpus-method_+3A_summary">summary</code></td>
<td>
<p>Logical, determines if the <code>summary</code> slot should automatically be
updated by calling <code><a href="#topic+summary">summary</a></code> on the result.</p>
</td></tr>
<tr><td><code id="lex.div+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="lex.div+2B2CkRp.corpus-method_+3A_char">char</code></td>
<td>
<p>Character vector to specify measures of which characteristics should be computed,
see
<code><a href="koRpus.html#topic+lex.div">lex.div</a></code> for details.</p>
</td></tr>
<tr><td><code id="lex.div+2B2CkRp.corpus-method_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> shows a status bar for some measures of each text,
see
<code><a href="koRpus.html#topic+lex.div">lex.div</a></code> for details.</p>
</td></tr>
<tr><td><code id="lex.div+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+lex.div">lex.div</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>txt</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(path.package("tm.plugin.koRpus"), "examples", "corpus"),
    hierarchy=list(
      Topic=c(
        Winner="Reality Winner",
        Edwards="Natalie Edwards"
      ),
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )
  myCorpus &lt;- lex.div(myCorpus)
  corpusSummary(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='query+2CkRp.corpus-method'>Apply query() to all texts in kRp.corpus objects</h2><span id='topic+query+2CkRp.corpus-method'></span><span id='topic+query+2CkRp.hierarch-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+query">query</a></code> on all tagged text objects
inside the given object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
query(
  obj,
  var,
  query,
  rel = "eq",
  as.df = TRUE,
  ignore.case = TRUE,
  perl = FALSE,
  regexp_var = "token"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_var">var</code></td>
<td>
<p>A character string naming a column in the tagged text. If set to
<code>"regexp"</code>, <code>grepl</code> is called on the column specified by <code>regexp_var</code>.</p>
</td></tr>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_query">query</code></td>
<td>
<p>A character vector (for words), regular expression,
or single number naming values to be matched in the variable.
Can also be a vector of two numbers to query a range of frequency data,
or a list of named lists for multiple queries (see
&quot;Query lists&quot; section of <code><a href="koRpus.html#topic+query">query</a></code>).</p>
</td></tr>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_rel">rel</code></td>
<td>
<p>A character string defining the relation of the queried value and desired results.
Must either be <code>"eq"</code> (equal, the default), <code>"gt"</code> (greater than),
<code>"ge"</code> (greater of equal),
<code>"lt"</code> (less than) or <code>"le"</code> (less or equal). If <code>var="word"</code>,
is always interpreted as <code>"eq"</code></p>
</td></tr>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_as.df">as.df</code></td>
<td>
<p>Logical, if <code>TRUE</code>, returns a data frame,
otherwise an object of the input class.</p>
</td></tr>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Logical, passed through to <code>grepl</code> if <code>var="regexp"</code>.</p>
</td></tr>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_perl">perl</code></td>
<td>
<p>Logical, passed through to <code>grepl</code> if <code>var="regexp"</code>.</p>
</td></tr>
<tr><td><code id="query+2B2CkRp.corpus-method_+3A_regexp_var">regexp_var</code></td>
<td>
<p>A character string naming the column to query if <code>var="regexp"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on the arguments, might include whole objects, lists, single values etc.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  query(myCorpus, var="lttr", query="7", rel="gt")
} else {}
</code></pre>

<hr>
<h2 id='read.corp.custom+2CkRp.corpus-method'>Apply read.corp.custom() to all texts in kRp.corpus objects</h2><span id='topic+read.corp.custom+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+read.corp.custom">read.corp.custom</a></code> on all tagged text objects
inside the given <code>corpus</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
read.corp.custom(corpus, caseSens = TRUE, log.base = 10,
      keep_dtm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.corp.custom+2B2CkRp.corpus-method_+3A_corpus">corpus</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="read.corp.custom+2B2CkRp.corpus-method_+3A_casesens">caseSens</code></td>
<td>
<p>Logical. If <code>FALSE</code>,
all tokens will be matched in their lower case form.</p>
</td></tr>
<tr><td><code id="read.corp.custom+2B2CkRp.corpus-method_+3A_log.base">log.base</code></td>
<td>
<p>A numeric value defining the base of the logarithm used for inverse document frequency (idf). See
<code><a href="base.html#topic+log">log</a></code> for details.</p>
</td></tr>
<tr><td><code id="read.corp.custom+2B2CkRp.corpus-method_+3A_keep_dtm">keep_dtm</code></td>
<td>
<p>Logical. If <code>TRUE</code> and <code>corpus</code> does not yet provide a
<code><a href="koRpus.html#topic+docTermMatrix">document term matrix</a></code>,
the one generated during calculation
will be added to the resulting object.</p>
</td></tr>
<tr><td><code id="read.corp.custom+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>Options to pass through to the <code><a href="koRpus.html#topic+read.corp.custom">read.corp.custom</a></code> method
for objects of the class union <code><a href="koRpus.html#topic+kRp.text-class">kRp.text</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since the analysis is based on a document term matrix,
a pre-existing matrix as a feature of the <code>corpus</code> object 
will be used if it matches the case sensitivity setting. Otherwise a new matrix will be generated (but not replace the
existing one). If no document term matrix is present yet,
also one will be generated and can be kept as an additional feature
of the resulting object.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>corpus</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  myCorpus &lt;- read.corp.custom(myCorpus)
  corpusCorpFreq(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='readability+2CkRp.corpus-method'>Apply readability() to all texts in kRp.corpus objects</h2><span id='topic+readability+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+readability">readability</a></code> on all tagged text objects
inside the given <code>txt.file</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
readability(
  txt.file,
  summary = TRUE,
  mc.cores = getOption("mc.cores", 1L),
  quiet = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readability+2B2CkRp.corpus-method_+3A_txt.file">txt.file</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="readability+2B2CkRp.corpus-method_+3A_summary">summary</code></td>
<td>
<p>Logical, determines if the <code>summary</code> slot should automatically be
updated by calling <code><a href="#topic+summary">summary</a></code> on the result.</p>
</td></tr>
<tr><td><code id="readability+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="readability+2B2CkRp.corpus-method_+3A_quiet">quiet</code></td>
<td>
<p>Logical,
if <code>FALSE</code> shows a status bar for some calculations of each text, see
<code><a href="koRpus.html#topic+readability">readability</a></code> for details.</p>
</td></tr>
<tr><td><code id="readability+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+readability">readability</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>txt.file</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(path.package("tm.plugin.koRpus"), "examples", "corpus"),
    hierarchy=list(
      Topic=c(
        Winner="Reality Winner",
        Edwards="Natalie Edwards"
      ),
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  myTexts &lt;- readability(myCorpus)
  corpusSummary(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='readCorpus'>Create kRp.corpus objects from text files or data frames</h2><span id='topic+readCorpus'></span>

<h3>Description</h3>

<p>You can either read a corpus from text files (one file per text,
also see the Hierarchy section below)
or from TIF compliant data frames (see the Data frames section below).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readCorpus(
  dir,
  hierarchy = list(),
  lang = "kRp.env",
  tagger = "kRp.env",
  encoding = "",
  pattern = NULL,
  recursive = FALSE,
  ignore.case = FALSE,
  mode = "text",
  format = "file",
  mc.cores = getOption("mc.cores", 1L),
  id = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readCorpus_+3A_dir">dir</code></td>
<td>
<p>Either a file path to the root directory of the text corpus,
or a TIF compliant data frame.
If a directory path (character string),
texts can be recursively ordered into subfolders named
exactly as defined by <code>hierarchy</code>. If <code>hierarchy</code> is an empty list,
all text files located in
<code>dir</code> are parsed without a hierachical structure. If a data frame,
also set <code>format="obj"</code>
and provide hierarchy levels as additional columns,
as described in the Data frames section.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_hierarchy">hierarchy</code></td>
<td>
<p>A named list of named character vectors describing the directory hierarchy level by level.
If <code>TRUE</code> instead, the hierarchy structure is taken directly from the directory tree.
See section Hierarchy for details.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_lang">lang</code></td>
<td>
<p>A character string naming the language of the analyzed corpus.
See <code><a href="koRpus.html#topic+kRp.POS.tags">kRp.POS.tags</a></code> for all supported languages.
If set to <code>"kRp.env"</code> this is got from <code><a href="koRpus.html#topic+get.kRp.env">get.kRp.env</a></code>.
This information will also be passed to the <code>readerControl</code> list of the <code>VCorpus</code> call.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_tagger">tagger</code></td>
<td>
<p>A character string pointing to the tokenizer/tagger command you want to use for basic text analysis.
Defaults to <code>tagger="kRp.env"</code> to get the settings by <code><a href="koRpus.html#topic+get.kRp.env">get.kRp.env</a></code>.
Set to <code>"tokenize"</code> to use <code><a href="koRpus.html#topic+tokenize">tokenize</a></code>.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_encoding">encoding</code></td>
<td>
<p>Character string describing the current encoding.
See <code><a href="tm.html#topic+DirSource">DirSource</a></code> for details, omitted if <code>format="obj"</code>.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_pattern">pattern</code></td>
<td>
<p>A regular expression for file matching.
See <code><a href="tm.html#topic+DirSource">DirSource</a></code> for details, omitted if <code>format="obj"</code>.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_recursive">recursive</code></td>
<td>
<p>Logical, indicates whether directories should be read recursively.
See <code><a href="tm.html#topic+DirSource">DirSource</a></code> for details, omitted if <code>format="obj"</code>.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Logical, indicates whether <code>pattern</code> is matched case sensitive.
See <code><a href="tm.html#topic+DirSource">DirSource</a></code> for details, omitted if <code>format="obj"</code>.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_mode">mode</code></td>
<td>
<p>Character string defining the reading mode.
See <code><a href="tm.html#topic+DirSource">DirSource</a></code> for details, omitted if <code>format="obj"</code>.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_format">format</code></td>
<td>
<p>Either &quot;file&quot; or &quot;obj&quot;,
depending on whether you want to scan files or analyze the text in a given object,
like a character vector. If the latter and <code><a href="koRpus.html#topic+treetag">treetag</a></code> is used as the <code>tagger</code>,
texts will be written to temporary files for the process (see <code>dir</code>).</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.
This value is passed through to simpleCorpus.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_id">id</code></td>
<td>
<p>A character string describing the main subject/purpose of the text corpus.</p>
</td></tr>
<tr><td><code id="readCorpus_+3A_...">...</code></td>
<td>
<p>Additional options which are passed through to the defined <code>tagger</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.
</p>


<h3>Hierarchy</h3>

<p>To import a hierarchically structured text corpus you must categorize all texts in a directory
structure that resembles the hierarchy. If for example you would like to import a corpus on two
different topics and two differnt sources,
your hierarchy has two nested levels (topic and source).
The root directory <code>dir</code> would then need to have two subdirectories (one for each topic)
which in turn must have two subdirectories (one for each source),
and the actual text files
are found in those.
</p>
<p>To use this hierarchical structure in <code>readCorpus</code>,
the <code>hierarchy</code> argument is used.
It is a named list,
where each list item represents one hierachical level (here again topic and source),
and its value is a named character vector describing the actual topics and sources to be used. It is
important to understand how these character vectors are treated: The names of elements must exactly match
the corresponding subdirectroy name,
whereas the value is a free text description. The names of the
list items however describe the hierachical level and are not matched with directory names.
</p>


<h3>Data frames</h3>

<p>In order to import a corpus from a data frame,
the object must be in Text Interchange Format (TIF)
as described by [1]. As a minimum, the data frame must have two character columns,
<code>doc_id</code>
and <code>text</code>.
</p>
<p>You can provide additional information on hierarchical categories by using further
columns,
where the column name must match the category name (hierachical level). The order of those
columns in the data frame is not important,
as you must still fully define the hierarchical structure
using the <code>hierarchy</code> argument. All columns you omit are ignored,
but the values used in
the <code>hierarchy</code> list and the respective columns must match,
as rows with unmatched category levels
will also be ignored.
</p>
<p>Note that the special column names <code>path</code> and <code>file</code> will also be imported automatically.
</p>


<h3>References</h3>

<p>[1] Text Interchange Formats (<a href="https://github.com/ropensci/tif">https://github.com/ropensci/tif</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  # "flat" corpus, parse all texts in the given dir
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Winner", "Wikipedia_prev"
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )
 
  # corpus with one category names "Source"
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Winner"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    tagger="tokenize",
    lang="en"
  )
 
  # two hieraryhical levels, "Topic" and "Source"
  myCorpus &lt;- readCorpus(
    dir=file.path(path.package("tm.plugin.koRpus"), "examples", "corpus"),
    hierarchy=list(
      Topic=c(
        Winner="Reality Winner",
        Edwards="Natalie Edwards"
      ),
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    tagger="tokenize",
    lang="en"
  )
 
  # get hierarchy from directory tree
  myCorpus &lt;- readCorpus(
    dir=file.path(path.package("tm.plugin.koRpus"), "examples", "corpus"),
    hierarchy=TRUE,
    tagger="tokenize",
    lang="en"
  )
  
  ## Not run: 
    # if the same corpus is available as TIF compliant data frame
    myCorpus &lt;- readCorpus(
      dir=myCorpus_df,
      hierarchy=list(
        Topic=c(
          Winner="Reality Winner",
          Edwards="Natalie Edwards"
        ),
        Source=c(
          Wikipedia_prev="Wikipedia (old)",
          Wikipedia_new="Wikipedia (new)"
        )
      ),
      lang="en",
      format="obj"
    )
  
## End(Not run)
} else {}
</code></pre>

<hr>
<h2 id='show+2CkRp.corpus-method'>Show methods for kRp.corpus objects</h2><span id='topic+show+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>Show methods for S4 objects of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show+2B2CkRp.corpus-method_+3A_object">object</code></td>
<td>
<p>An object of class <code>kRp.corpus</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='split_by_doc_id+2CkRp.corpus-method'>Turn a kRp.corpus object into a list of kRp.text objects</h2><span id='topic+split_by_doc_id+2CkRp.corpus-method'></span><span id='topic+split_by_doc_id+2C-methods'></span>

<h3>Description</h3>

<p>For some analysis steps it might be important to have individual tagged texts
instead of one large corpus object. This method produces just that.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
split_by_doc_id(obj, keepFeatures = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="split_by_doc_id+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="split_by_doc_id+2B2CkRp.corpus-method_+3A_keepfeatures">keepFeatures</code></td>
<td>
<p>Either logical, whether to keep all features or drop them,
or a character vector
of names of features to keep if present.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of objects of class <code><a href="koRpus.html#topic+kRp.text-class">kRp.text</a></code>.
Elements are named by their <code>doc_id</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(path.package("tm.plugin.koRpus"), "examples", "corpus"),
    hierarchy=list(
      Topic=c(
        Winner="Reality Winner",
        Edwards="Natalie Edwards"
      ),
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  myCorpusList &lt;- split_by_doc_id(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='summary+2CkRp.corpus-method'>Apply summary() to all texts in kRp.corpus objects</h2><span id='topic+summary+2CkRp.corpus-method'></span><span id='topic+corpusSummary'></span><span id='topic+corpusSummary+2CkRp.corpus-method'></span><span id='topic+corpusSummary+2C-methods'></span><span id='topic+corpusSummary+3C-'></span><span id='topic+corpusSummary+3C-+2CkRp.corpus-method'></span><span id='topic+corpusSummary+3C-+2C-methods'></span>

<h3>Description</h3>

<p>This method performs a <code>summary</code> call on all text objects inside the given
<code>object</code> object. Contrary to what other summary methods do, this method
always returns the full object with an updated <code>summary</code> slot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
summary(object, missing = NA, ...)

corpusSummary(obj)

## S4 method for signature 'kRp.corpus'
corpusSummary(obj)

corpusSummary(obj) &lt;- value

## S4 replacement method for signature 'kRp.corpus'
corpusSummary(obj) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary+2B2CkRp.corpus-method_+3A_object">object</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="summary+2B2CkRp.corpus-method_+3A_missing">missing</code></td>
<td>
<p>Character string to use for missing values.</p>
</td></tr>
<tr><td><code id="summary+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>Used for internal processes.</p>
</td></tr>
<tr><td><code id="summary+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="summary+2B2CkRp.corpus-method_+3A_value">value</code></td>
<td>
<p>The new value to replace the current with.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>summary</code> slot contains a data.frame with aggregated information of
all texts that the respective object contains.
</p>
<p><code>corpusSummary</code> is a simple method to get or set the <code>summary</code> slot
in kRp.corpus objects directly.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>object</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  # calculate readability, but prevent a summary table from being added
  myCorpus &lt;- readability(myCorpus, summary=FALSE)
  corpusSummary(myCorpus)

  # add summaries
  myCorpus &lt;- summary(myCorpus)
  corpusSummary(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='taggedText+2CkRp.corpus-method'>Getter/setter methods for kRp.corpus objects</h2><span id='topic+taggedText+2CkRp.corpus-method'></span><span id='topic+taggedText+2C-methods'></span><span id='topic+taggedText+3C-+2CkRp.corpus-method'></span><span id='topic+taggedText+3C-+2C-methods'></span><span id='topic+doc_id+2CkRp.corpus-method'></span><span id='topic+doc_id+2C-methods'></span><span id='topic+describe+2CkRp.corpus-method'></span><span id='topic+describe+2C-methods'></span><span id='topic+describe+3C-+2CkRp.corpus-method'></span><span id='topic+describe+3C-+2C-methods'></span><span id='topic+language+2CkRp.corpus-method'></span><span id='topic+language+2C-methods'></span><span id='topic+language+3C-+2CkRp.corpus-method'></span><span id='topic+language+3C-+2C-methods'></span><span id='topic+hasFeature+2CkRp.corpus-method'></span><span id='topic+hasFeature+2C-methods'></span><span id='topic+hasFeature+3C-+2CkRp.corpus-method'></span><span id='topic+hasFeature+3C-+2C-methods'></span><span id='topic+feature+2CkRp.corpus-method'></span><span id='topic+feature+2C-methods'></span><span id='topic+feature+3C-+2CkRp.corpus-method'></span><span id='topic+feature+3C-+2C-methods'></span><span id='topic+corpusReadability+2CkRp.corpus-method'></span><span id='topic+corpusReadability+2C-methods'></span><span id='topic+corpusReadability+3C-+2CkRp.corpus-method'></span><span id='topic+corpusReadability+3C-+2C-methods'></span><span id='topic+corpusTm'></span><span id='topic+corpusTm+2CkRp.corpus-method'></span><span id='topic+corpusTm+2C-methods'></span><span id='topic+corpusTm+3C-'></span><span id='topic+corpusTm+3C-+2CkRp.corpus-method'></span><span id='topic+corpusTm+3C-+2C-methods'></span><span id='topic+corpusMeta'></span><span id='topic+corpusMeta+2CkRp.corpus-method'></span><span id='topic+corpusMeta+2C-methods'></span><span id='topic+corpusMeta+3C-'></span><span id='topic+corpusMeta+3C-+2CkRp.corpus-method'></span><span id='topic+corpusMeta+3C-+2C-methods'></span><span id='topic+corpusHyphen+2CkRp.corpus-method'></span><span id='topic+corpusHyphen+2C-methods'></span><span id='topic+corpusHyphen+3C-+2CkRp.corpus-method'></span><span id='topic+corpusHyphen+3C-+2C-methods'></span><span id='topic+corpusLexDiv+2CkRp.corpus-method'></span><span id='topic+corpusLexDiv+2C-methods'></span><span id='topic+corpusLexDiv+3C-+2CkRp.corpus-method'></span><span id='topic+corpusLexDiv+3C-+2C-methods'></span><span id='topic+corpusFreq+2CkRp.corpus-method'></span><span id='topic+corpusFreq+2C-methods'></span><span id='topic+corpusFreq+3C-+2CkRp.corpus-method'></span><span id='topic+corpusFreq+3C-+2C-methods'></span><span id='topic+corpusCorpFreq+2CkRp.corpus-method'></span><span id='topic+corpusCorpFreq+2C-methods'></span><span id='topic+corpusCorpFreq+3C-+2CkRp.corpus-method'></span><span id='topic+corpusCorpFreq+3C-+2C-methods'></span><span id='topic+corpusHierarchy'></span><span id='topic+corpusHierarchy+2CkRp.corpus-method'></span><span id='topic+corpusHierarchy+2C-methods'></span><span id='topic+corpusHierarchy+3C-'></span><span id='topic+corpusHierarchy+3C-+2CkRp.corpus-method'></span><span id='topic+corpusHierarchy+3C-+2C-methods'></span><span id='topic+corpusFiles'></span><span id='topic+corpusFiles+2CkRp.corpus-method'></span><span id='topic+corpusFiles+2C-methods'></span><span id='topic+corpusFiles+3C-'></span><span id='topic+corpusFiles+3C-+2CkRp.corpus-method'></span><span id='topic+corpusFiles+3C-+2C-methods'></span><span id='topic+corpusDocTermMatrix'></span><span id='topic+corpusDocTermMatrix+2CkRp.corpus-method'></span><span id='topic+corpusDocTermMatrix+2C-methods'></span><span id='topic+corpusDocTermMatrix+3C-'></span><span id='topic+corpusDocTermMatrix+3C-+2CkRp.corpus-method'></span><span id='topic+corpusDocTermMatrix+3C-+2C-methods'></span><span id='topic+corpusStopwords+2CkRp.corpus-method'></span><span id='topic+corpusStopwords+2C-methods'></span><span id='topic+corpusStopwords+3C-+2CkRp.corpus-method'></span><span id='topic+corpusStopwords+3C-+2C-methods'></span><span id='topic+diffText+2CkRp.corpus-method'></span><span id='topic+diffText+2C-methods'></span><span id='topic+diffText+3C-+2CkRp.corpus-method'></span><span id='topic+diffText+3C-+2C-methods'></span><span id='topic+originalText+2CkRp.corpus-method'></span><span id='topic+originalText+2C-methods'></span><span id='topic+is.corpus'></span><span id='topic++5B+2CkRp.corpus+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+2C-methods'></span><span id='topic++5B+3C-+2CkRp.corpus+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+3C-+2C-methods'></span><span id='topic++5B+5B+2CkRp.corpus-method'></span><span id='topic++5B+5B+2C-methods'></span><span id='topic++5B+5B+2CkRp.corpus+2CANY-method'></span><span id='topic++5B+5B+3C-+2CkRp.corpus-method'></span><span id='topic++5B+5B+3C-+2C-methods'></span><span id='topic++5B+5B+3C-+2CkRp.corpus+2CANY+2CANY-method'></span><span id='topic+tif_as_tokens_df+2CkRp.corpus-method'></span><span id='topic+tif_as_tokens_df+2C-methods'></span><span id='topic+tif_as_tokens_df+2Chierarchy-method'></span><span id='topic+tif_as_corpus_df'></span><span id='topic+tif_as_corpus_df+2CkRp.corpus-method'></span><span id='topic+tif_as_corpus_df+2C-methods'></span><span id='topic+tif_as_corpus_df+2Chierarchy-method'></span>

<h3>Description</h3>

<p>These methods should be used to get or set values of text objects
generated by functions like <code><a href="#topic+readCorpus">readCorpus</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
taggedText(obj)

## S4 replacement method for signature 'kRp.corpus'
taggedText(obj) &lt;- value

## S4 method for signature 'kRp.corpus'
doc_id(obj, has_id = NULL)

## S4 method for signature 'kRp.corpus'
describe(obj, doc_id = NULL, simplify = TRUE, ...)

## S4 replacement method for signature 'kRp.corpus'
describe(obj, doc_id = NULL, ...) &lt;- value

## S4 method for signature 'kRp.corpus'
language(obj)

## S4 replacement method for signature 'kRp.corpus'
language(obj) &lt;- value

## S4 method for signature 'kRp.corpus'
hasFeature(obj, feature = NULL)

## S4 replacement method for signature 'kRp.corpus'
hasFeature(obj, feature) &lt;- value

## S4 method for signature 'kRp.corpus'
feature(obj, feature, doc_id = NULL)

## S4 replacement method for signature 'kRp.corpus'
feature(obj, feature) &lt;- value

## S4 method for signature 'kRp.corpus'
corpusReadability(obj, doc_id = NULL)

## S4 replacement method for signature 'kRp.corpus'
corpusReadability(obj) &lt;- value

corpusTm(obj)

## S4 method for signature 'kRp.corpus'
corpusTm(obj)

corpusTm(obj) &lt;- value

## S4 replacement method for signature 'kRp.corpus'
corpusTm(obj) &lt;- value

corpusMeta(obj, meta = NULL, fail = TRUE)

## S4 method for signature 'kRp.corpus'
corpusMeta(obj, meta = NULL, fail = TRUE)

corpusMeta(obj, meta = NULL) &lt;- value

## S4 replacement method for signature 'kRp.corpus'
corpusMeta(obj, meta = NULL) &lt;- value

## S4 method for signature 'kRp.corpus'
corpusHyphen(obj, doc_id = NULL)

## S4 replacement method for signature 'kRp.corpus'
corpusHyphen(obj) &lt;- value

## S4 method for signature 'kRp.corpus'
corpusLexDiv(obj, doc_id = NULL)

## S4 replacement method for signature 'kRp.corpus'
corpusLexDiv(obj) &lt;- value

## S4 method for signature 'kRp.corpus'
corpusFreq(obj)

## S4 replacement method for signature 'kRp.corpus'
corpusFreq(obj) &lt;- value

## S4 method for signature 'kRp.corpus'
corpusCorpFreq(obj)

## S4 replacement method for signature 'kRp.corpus'
corpusCorpFreq(obj) &lt;- value

corpusHierarchy(obj, ...)

## S4 method for signature 'kRp.corpus'
corpusHierarchy(obj)

corpusHierarchy(obj) &lt;- value

## S4 replacement method for signature 'kRp.corpus'
corpusHierarchy(obj) &lt;- value

corpusFiles(obj, paths = FALSE, ...)

## S4 method for signature 'kRp.corpus'
corpusFiles(obj, paths = FALSE)

corpusFiles(obj) &lt;- value

## S4 replacement method for signature 'kRp.corpus'
corpusFiles(obj) &lt;- value

corpusDocTermMatrix(obj, ...)

## S4 method for signature 'kRp.corpus'
corpusDocTermMatrix(obj)

corpusDocTermMatrix(obj, terms = NULL, case.sens = NULL, tfidf = NULL) &lt;- value

## S4 replacement method for signature 'kRp.corpus'
corpusDocTermMatrix(obj, terms = NULL, case.sens = NULL,
      tfidf = NULL) &lt;- value

## S4 method for signature 'kRp.corpus'
corpusStopwords(obj)

## S4 replacement method for signature 'kRp.corpus'
corpusStopwords(obj) &lt;- value

## S4 method for signature 'kRp.corpus'
diffText(obj, doc_id = NULL)

## S4 replacement method for signature 'kRp.corpus'
diffText(obj) &lt;- value

## S4 method for signature 'kRp.corpus'
originalText(obj)

is.corpus(obj)

## S4 method for signature 'kRp.corpus,ANY,ANY,ANY'
x[i, j, ..., drop = TRUE]

## S4 replacement method for signature 'kRp.corpus,ANY,ANY,ANY'
x[i, j, ...] &lt;- value

## S4 method for signature 'kRp.corpus'
x[[i, doc_id = NULL, ...]]

## S4 replacement method for signature 'kRp.corpus'
x[[i, doc_id = NULL, ...]] &lt;- value

## S4 method for signature 'kRp.corpus'
tif_as_tokens_df(tokens)

tif_as_corpus_df(corpus)

## S4 method for signature 'kRp.corpus'
tif_as_corpus_df(corpus)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_obj">obj</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_value">value</code></td>
<td>
<p>A new value to replace the current with.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_has_id">has_id</code></td>
<td>
<p>A character vector with <code>doc_id</code>s to look for in the object. The return value
is then a logical vector of the same length,
indicating if the respective id was found or not.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_doc_id">doc_id</code></td>
<td>
<p>A character vector to limit the scope to one or more particular document IDs.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_simplify">simplify</code></td>
<td>
<p>If <code>TRUE</code> and result is a list of length 1, return the list element.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass through, depending on the method.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_feature">feature</code></td>
<td>
<p>Character string naming the object feature to look for.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_meta">meta</code></td>
<td>
<p>If not NULL, the <code>meta</code> list entry of the given name.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_fail">fail</code></td>
<td>
<p>Logical,
whether the method should fail with an error if <code>meta</code> was not found.
If set to <code>FALSE</code>, returns <code>invisible(NULL)</code> instead.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_paths">paths</code></td>
<td>
<p>Logical,
indicates for <code>corpusFiles()</code> whether full paths should be returned, or just the actual file name.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_terms">terms</code></td>
<td>
<p>A character string defining the <code>tokens</code> used for calculating the matrix.
Stored in object's meta data slot.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_case.sens">case.sens</code></td>
<td>
<p>Logical, whether terms were counted case sensitive.
Stored in object's meta data slot.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_tfidf">tfidf</code></td>
<td>
<p>Logical,
use <code>TRUE</code> if the term frequency&ndash;inverse document frequency (tf-idf)
values were calculated instead of absolute frequency.
Stored in object's meta data slot.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_x">x</code></td>
<td>
<p>See <code>obj</code>.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_i">i</code></td>
<td>
<p>Defines the row selector (<code>[</code>) or the name to match (<code>[[</code>) in the tokens slot.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_j">j</code></td>
<td>
<p>Defines the column selector in the tokens slot.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_drop">drop</code></td>
<td>
<p>See <code><a href="base.html#topic+Extract">[</a></code>.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_tokens">tokens</code></td>
<td>
<p>An object of class <code>kRp.corpus</code>.</p>
</td></tr>
<tr><td><code id="taggedText+2B2CkRp.corpus-method_+3A_corpus">corpus</code></td>
<td>
<p>An object of class <code>kRp.corpus</code>.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p><code>taggedText()</code> returns the <code>tokens</code> slot.
</p>
</li>
<li><p><code>describe()</code> returns the <code>desc</code> slot.
</p>
</li>
<li><p><code>hasFeature()</code> returns <code>TRUE</code> or codeFALSE,
depending on whether the requested feature is present or not.
</p>
</li>
<li><p><code>feature()</code> returns the list entry of the <code>feat_list</code> slot for the requested feature.
</p>
</li>
<li><p><code>corpusReadability()</code> returns the list of <code>kRp.readability</code> objects.
</p>
</li>
<li><p><code>corpusTm()</code> returns the <code>VCorpus</code> object.
</p>
</li>
<li><p><code>corpusMeta()</code> returns the list with meta information.
</p>
</li>
<li><p><code>corpusHyphen()</code> returns the list of <code>kRp.hyphen</code> objects.
</p>
</li>
<li><p><code>corpusLexDiv()</code> returns the list of <code>kRp.TTR</code> objects.
</p>
</li>
<li><p><code>corpusFiles()</code> returns the character vector of file names of the object.
</p>
</li>
<li><p><code>corpusFreq()</code> returns the frequency analysis data from the <code>feat_list</code> slot.
</p>
</li>
<li><p><code>corpusCorpFreq()</code> returns the <code>kRp.corp.freq</code> object of the <code>feat_list</code> slot.
</p>
</li>
<li><p><code>corpusHierarchy()</code> returns the corpus' hierarchy structure.
</p>
</li>
<li><p><code>corpusDocTermMatrix()</code> returns the sparse document term matrix of the <code>feat_list</code> slot.
</p>
</li>
<li><p><code>corpusStopwords()</code> returns the number of stopwords found in each text (if analyzed) from the <code>feat_list</code> slot.
</p>
</li>
<li><p><code>diffText()</code> returns the <code>diff</code> element of the <code>feat_list</code> slot.
</p>
</li>
<li><p><code>originalText</code> regenerates the original text before text transformations and returns it as a data frame.
</p>
</li>
<li><p><code>[</code>/<code>[[</code> can be used as a shortcut to index the results of <code>taggedText()</code>.
</p>
</li>
<li><p><code>tif_as_corpus_df</code> returns the whole corpus in a single TIF[1] compliant
data.frame.
</p>
</li>
<li><p><code>tif_as_tokens_df</code> returns the <code>tokens</code> slot in a TIF[1] compliant
data.frame, i.e., <code>doc_id</code> is not a factor but a character vector.
</p>
</li></ul>



<h3>References</h3>

<p>[1] Text Interchange Formats (<a href="https://github.com/ropensci/tif">https://github.com/ropensci/tif</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Winner", "Wikipedia_new"
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  taggedText(myCorpus)

  corpusMeta(myCorpus, "note") &lt;- "an interesting read!"

  # export object to TIF compliant data frame
  myCorpus_df &lt;- tif_as_corpus_df(myCorpus)
} else {}
</code></pre>

<hr>
<h2 id='textTransform+2CkRp.corpus-method'>Apply textTransform() to all texts in kRp.corpus objects</h2><span id='topic+textTransform+2CkRp.corpus-method'></span>

<h3>Description</h3>

<p>This method calls <code><a href="koRpus.html#topic+textTransform">textTransform</a></code> on all tagged text objects
inside the given <code>txt</code> object (using <code>mclapply</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'kRp.corpus'
textTransform(txt, mc.cores = getOption("mc.cores", 1L), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTransform+2B2CkRp.corpus-method_+3A_txt">txt</code></td>
<td>
<p>An object of class <code><a href="#topic+kRp.corpus-class">kRp.corpus</a></code>.</p>
</td></tr>
<tr><td><code id="textTransform+2B2CkRp.corpus-method_+3A_mc.cores">mc.cores</code></td>
<td>
<p>The number of cores to use for parallelization,
see <code><a href="parallel.html#topic+mclapply">mclapply</a></code>.</p>
</td></tr>
<tr><td><code id="textTransform+2B2CkRp.corpus-method_+3A_...">...</code></td>
<td>
<p>options to pass through to <code><a href="koRpus.html#topic+textTransform">textTransform</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>txt</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use readCorpus() to create an object of class kRp.corpus
# code is only run when the english language package can be loaded
if(require("koRpus.lang.en", quietly = TRUE)){
  myCorpus &lt;- readCorpus(
    dir=file.path(
      path.package("tm.plugin.koRpus"), "examples", "corpus", "Edwards"
    ),
    hierarchy=list(
      Source=c(
        Wikipedia_prev="Wikipedia (old)",
        Wikipedia_new="Wikipedia (new)"
      )
    ),
    # use tokenize() so examples run without a TreeTagger installation
    tagger="tokenize",
    lang="en"
  )

  head(taggedText(myCorpus), n=10)
  myCorpus &lt;- textTransform(myCorpus, scheme="minor")
  head(taggedText(myCorpus), n=10)
} else {}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

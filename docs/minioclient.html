<!DOCTYPE html><html><head><title>Help for package minioclient</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {minioclient}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#install_mc'><p>install the mc client</p></a></li>
<li><a href='#mc'><p>mc</p></a></li>
<li><a href='#mc_alias_ls'><p>List all configured aliases</p></a></li>
<li><a href='#mc_alias_set'><p>mc alias set</p></a></li>
<li><a href='#mc_anonymous_set'><p>Set anonymous access policy</p></a></li>
<li><a href='#mc_cat'><p>Display object contents</p></a></li>
<li><a href='#mc_config_set'><p>mc_config_set</p></a></li>
<li><a href='#mc_cp'><p>Copy files or directories between servers</p></a></li>
<li><a href='#mc_du'><p>Show disk usage for a target path</p></a></li>
<li><a href='#mc_head'><p>Display first few lines of an object</p></a></li>
<li><a href='#mc_ls'><p>List files and directories using mc command</p></a></li>
<li><a href='#mc_mb'><p>Create a new S3 bucket using mc command</p></a></li>
<li><a href='#mc_mirror'><p>Mirror files and directories using mc command</p></a></li>
<li><a href='#mc_mv'><p>move or rename files or directories between servers</p></a></li>
<li><a href='#mc_rb'><p>Remove an S3 bucket using mc command</p></a></li>
<li><a href='#mc_rm'><p>Remove files or directories</p></a></li>
<li><a href='#mc_sql'><p>Use the S3 variant of SQL to query a minio object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interface to the 'MinIO' Client</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>An R interface to the 'MinIO' Client. The 'MinIO' Client ('mc')
  provides a modern alternative to UNIX commands like 'ls', 'cat', 'cp',
  'mirror', 'diff', 'find' etc. It supports 'filesystems'  and Amazon "S3"
  compatible cloud storage service ("AWS" Signature v2 and v4).
  This package provides convenience functions for installing the 'MinIO'
  client and running any operations, as described in the official 
  documentation, <a href="https://min.io/docs/minio/linux/reference/minio-mc.html?ref=docs-redirect">https://min.io/docs/minio/linux/reference/minio-mc.html?ref=docs-redirect</a>.
  This package provides a flexible and high-performance alternative to 'aws.s3'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/cboettig/minioclient">https://github.com/cboettig/minioclient</a>,
<a href="https://cboettig.github.io/minioclient/">https://cboettig.github.io/minioclient/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cboettig/minioclient/issues">https://github.com/cboettig/minioclient/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling, testthat (&ge; 3.0.0), curl</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>fs, glue, tools, utils, processx, jsonlite</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-07 00:19:08 UTC; cboettig</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Boettiger <a href="https://orcid.org/0000-0002-1642-628X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Markus Skyttner [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Boettiger &lt;cboettig@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-07 10:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='install_mc'>install the mc client</h2><span id='topic+install_mc'></span>

<h3>Description</h3>

<p>install the mc client
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_mc(
  os = system_os(),
  arch = system_arch(),
  path = minio_path(),
  force = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_mc_+3A_os">os</code></td>
<td>
<p>operating system</p>
</td></tr>
<tr><td><code id="install_mc_+3A_arch">arch</code></td>
<td>
<p>architecture</p>
</td></tr>
<tr><td><code id="install_mc_+3A_path">path</code></td>
<td>
<p>destination where binary is installed.</p>
</td></tr>
<tr><td><code id="install_mc_+3A_force">force</code></td>
<td>
<p>install even if binary is already found.
Can be used to force upgrade.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is just a convenience wrapper for prebuilt MINIO
binaries, from <a href="https://dl.min.io/client/mc/release/">https://dl.min.io/client/mc/release/</a>. Should
support Windows, Mac, and Linux on both Intel/AMD (amd64) and ARM
architectures.
For details, see official MINIO docs for your operating system,
e.g. <a href="https://min.io/docs/minio/macos/index.html">https://min.io/docs/minio/macos/index.html</a>.
</p>
<p>NOTE: If you want to install to other than the default location,
simply set the option &quot;minioclient.dir&quot;, to the appropriate location of the
directory containing your &quot;mc&quot; binary, e.g.
<code>options("minioclient.dir" = "~/.mc")</code>. This is also used as the location
of the config directory. Note that this package
will not automatically use MINIO available on $PATH (to promote security
and portability in design).
</p>


<h3>Value</h3>

<p>path to the minio binary (invisibly)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
install_mc()

# Force upgrade
install_mc(force=TRUE)

</code></pre>

<hr>
<h2 id='mc'>mc</h2><span id='topic+mc'></span>

<h3>Description</h3>

<p>The MINIO Client
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc(command, ..., path = minio_path(), verbose = interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_+3A_command">command</code></td>
<td>
<p>space-delimited text string of an mc command
(starting after the mc ...)</p>
</td></tr>
<tr><td><code id="mc_+3A_...">...</code></td>
<td>
<p>additional arguments to <code><a href="processx.html#topic+run">processx::run()</a></code></p>
</td></tr>
<tr><td><code id="mc_+3A_path">path</code></td>
<td>
<p>location where mc executable will be installed. By default will
use the OS-appropriate storage location.</p>
</td></tr>
<tr><td><code id="mc_+3A_verbose">verbose</code></td>
<td>
<p>print output?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function forms the basis for all other available commands.
This utility can run any <code>mc</code> command supported by the official minio client,
see <a href="https://min.io/docs/minio/linux/reference/minio-mc.html">https://min.io/docs/minio/linux/reference/minio-mc.html</a>.
The R package provides wrappers only for the most common use cases,
which provide a more natural R syntax and native documentation.
</p>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>

<hr>
<h2 id='mc_alias_ls'>List all configured aliases</h2><span id='topic+mc_alias_ls'></span>

<h3>Description</h3>

<p>List all configured aliases
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_alias_ls(alias = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_alias_ls_+3A_alias">alias</code></td>
<td>
<p>optional argument, display only specified alias</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that all available
</p>


<h3>Value</h3>

<p>Configured aliases, including secret keys!
</p>


<h3>See Also</h3>

<p>mc
</p>

<hr>
<h2 id='mc_alias_set'>mc alias set</h2><span id='topic+mc_alias_set'></span>

<h3>Description</h3>

<p>Set a new alias for the minio client, possibly using env var defaults.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_alias_set(
  alias = "minio",
  endpoint = Sys.getenv("AWS_S3_ENDPOINT", "s3.amazonaws.com"),
  access_key = Sys.getenv("AWS_ACCESS_KEY_ID"),
  secret_key = Sys.getenv("AWS_SECRET_ACCESS_KEY"),
  scheme = "https"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_alias_set_+3A_alias">alias</code></td>
<td>
<p>a short name for this endpoint, default is <code>minio</code></p>
</td></tr>
<tr><td><code id="mc_alias_set_+3A_endpoint">endpoint</code></td>
<td>
<p>the endpoint domain name</p>
</td></tr>
<tr><td><code id="mc_alias_set_+3A_access_key">access_key</code></td>
<td>
<p>access key (user), reads from AWS env vars by default</p>
</td></tr>
<tr><td><code id="mc_alias_set_+3A_secret_key">secret_key</code></td>
<td>
<p>secret access key, reads from AWS env vars by default</p>
</td></tr>
<tr><td><code id="mc_alias_set_+3A_scheme">scheme</code></td>
<td>
<p>https or http (e.g. for local machine only)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>References</h3>

<p><a href="https://min.io/docs/minio/linux/reference/minio-mc.html">https://min.io/docs/minio/linux/reference/minio-mc.html</a>.
Note that keys can be omitted for anonymous use.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

mc_alias_set()

</code></pre>

<hr>
<h2 id='mc_anonymous_set'>Set anonymous access policy</h2><span id='topic+mc_anonymous_set'></span><span id='topic+mc_policy_set'></span>

<h3>Description</h3>

<p>This function uses the <code>mc</code> command to set the anonymous access policy for
a specified target.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_anonymous_set(
  target,
  policy = c("download", "upload", "public", "private"),
  verbose = interactive()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_anonymous_set_+3A_target">target</code></td>
<td>
<p>Character string specifying the target cloud storage
bucket or object</p>
</td></tr>
<tr><td><code id="mc_anonymous_set_+3A_policy">policy</code></td>
<td>
<p>Character string specifying the anonymous access policy.
Must be one of &quot;download&quot;, &quot;upload&quot;, &quot;public&quot; (upload and download),
or &quot;private&quot;.</p>
</td></tr>
<tr><td><code id="mc_anonymous_set_+3A_verbose">verbose</code></td>
<td>
<p>print output?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# create a test bucket on the 'play' server
mc_mb("play/minioclient-test")

# Set anonymous access policy to download
mc_anonymous_set("play/minioclient-test/file.txt", policy = "download")

# Set anonymous access policy to upload
mc_anonymous_set("play/minioclient-test/directory", policy = "upload")

# Set anonymous access policy to public
mc_anonymous_set("play/minioclient-test/file.txt", policy = "public")

# Set anonymous access policy to private (default policy for new buckets)
mc_anonymous_set("play/minioclient-test/directory", policy = "private")

mc_rb("play/minioclient-test")

</code></pre>

<hr>
<h2 id='mc_cat'>Display object contents</h2><span id='topic+mc_cat'></span>

<h3>Description</h3>

<p>The cat command returns the contents of the object as a string. This can
be useful when reading smaller files (without first downloading to disk).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_cat(target, offset = 0, tail = 0, flags = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_cat_+3A_target">target</code></td>
<td>
<p>character string specifying the target directory path.</p>
</td></tr>
<tr><td><code id="mc_cat_+3A_offset">offset</code></td>
<td>
<p>start offset, default 0 if not specified</p>
</td></tr>
<tr><td><code id="mc_cat_+3A_tail">tail</code></td>
<td>
<p>tail number of bytes at ending of file, default 0 if not specified</p>
</td></tr>
<tr><td><code id="mc_cat_+3A_flags">flags</code></td>
<td>
<p>additional flags to be passed to the <code>cat</code> command.
Default is an empty string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character string with the contents of the file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# upload a file to a bucket and read it back
install_mc()
mc_mb("play/mcr")
mc_cp(system.file(package = "minioclient", "DESCRIPTION"), "play/mcr/DESCRIPTION")
mc_cat("play/mcr/DESCRIPTION")

</code></pre>

<hr>
<h2 id='mc_config_set'>mc_config_set</h2><span id='topic+mc_config_set'></span>

<h3>Description</h3>

<p>Edit the config files, e.g. to add a sessionToken
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_config_set(alias, key, value, json = file.path(minio_path(), "config.json"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_config_set_+3A_alias">alias</code></td>
<td>
<p>A configured alias, see <code><a href="#topic+mc_alias_set">mc_alias_set()</a></code></p>
</td></tr>
<tr><td><code id="mc_config_set_+3A_key">key</code></td>
<td>
<p>the parameter name, e.g. <code>sessionToken</code></p>
</td></tr>
<tr><td><code id="mc_config_set_+3A_value">value</code></td>
<td>
<p>the value to set the parameter to</p>
</td></tr>
<tr><td><code id="mc_config_set_+3A_json">json</code></td>
<td>
<p>path to the config</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updates configuration and returns silently (<code>NULL</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

mc_config_set("play", key="sessionToken", value="MyTmpSessionToken")

</code></pre>

<hr>
<h2 id='mc_cp'>Copy files or directories between servers</h2><span id='topic+mc_cp'></span>

<h3>Description</h3>

<p>Most commonly used to upload and download files between local filesystem
and remote S3 store.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_cp(from, to = "", recursive = FALSE, flags = "", verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_cp_+3A_from">from</code></td>
<td>
<p>Character string specifying the source file or directory path.
Can accept a vector of file paths as well.</p>
</td></tr>
<tr><td><code id="mc_cp_+3A_to">to</code></td>
<td>
<p>Character string specifying the destination path.</p>
</td></tr>
<tr><td><code id="mc_cp_+3A_recursive">recursive</code></td>
<td>
<p>Logical indicating whether to recursively copy directories.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mc_cp_+3A_flags">flags</code></td>
<td>
<p>any additional flags to <code>cp</code></p>
</td></tr>
<tr><td><code id="mc_cp_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether to report files copied.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>see <code>mc("cp -h")</code> for details.
</p>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>See Also</h3>

<p><code>mc_mirror</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Copy a file
mc_cp("local/path/to/file.txt", "alias/bucket/path/file.txt")

# Copy a directory recursively
mc_cp("local/directory", "alias/bucket/path/to/directory", recursive = TRUE)


</code></pre>

<hr>
<h2 id='mc_du'>Show disk usage for a target path</h2><span id='topic+mc_du'></span>

<h3>Description</h3>

<p>Show disk usage for a target path
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_du(target, flags = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_du_+3A_target">target</code></td>
<td>
<p>alias/bucket to list</p>
</td></tr>
<tr><td><code id="mc_du_+3A_flags">flags</code></td>
<td>
<p>optional additional flags</p>
</td></tr>
</table>


<h3>Details</h3>

<p>for more help, run <code>mc_du("-h")</code>
</p>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# create a new bucket
mc_mb("play/minioclient-test")

# no disk usage on new bucket
mc_du("play/minioclient-test")

# clean up
mc_rb("play/minioclient-test")

</code></pre>

<hr>
<h2 id='mc_head'>Display first few lines of an object</h2><span id='topic+mc_head'></span>

<h3>Description</h3>

<p>The head command returns the first n lines of the object as a string. This can
be useful when inspecting the content of a large file (without first having to
download and store it on disk locally).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_head(target, n = 10, flags = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_head_+3A_target">target</code></td>
<td>
<p>character string specifying the target directory path.</p>
</td></tr>
<tr><td><code id="mc_head_+3A_n">n</code></td>
<td>
<p>integer number of lines to read from the beginning, by default 10</p>
</td></tr>
<tr><td><code id="mc_head_+3A_flags">flags</code></td>
<td>
<p>additional flags to be passed to the <code>cat</code> command.
Default is an empty string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character string with the contents of the file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# upload a CSV file
install_mc()
tf &lt;- tempfile()
write.csv(iris, tf, row.names = FALSE)
mc_mb("play/iris")
mc_cp(tf, "play/iris/iris.csv")

# read first 13 lines from the CSV (header + 12 rows of data)
read.csv(text = mc_head("play/iris/iris.csv", n = 13))

</code></pre>

<hr>
<h2 id='mc_ls'>List files and directories using mc command</h2><span id='topic+mc_ls'></span>

<h3>Description</h3>

<p>This function uses the <code>mc</code> command to list files and directories
at the specified target location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_ls(target, recursive = FALSE, details = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_ls_+3A_target">target</code></td>
<td>
<p>character vector specifying the target directory path(s).</p>
</td></tr>
<tr><td><code id="mc_ls_+3A_recursive">recursive</code></td>
<td>
<p>Logical indicating whether to recursively list directories.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mc_ls_+3A_details">details</code></td>
<td>
<p>logical, by default FALSE; if TRUE a data frame with details
for the directory listing is returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of file or directory names (&quot;keys&quot; in minio parlance) or,
if details is TRUE, a data.frame with the directory listing information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# list all buckets on play server
mc_ls("play/")
mc_ls("play", details = TRUE)

</code></pre>

<hr>
<h2 id='mc_mb'>Create a new S3 bucket using mc command</h2><span id='topic+mc_mb'></span>

<h3>Description</h3>

<p>Create a new S3 bucket using mc command
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_mb(bucket, ignore_existing = TRUE, flags = "", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_mb_+3A_bucket">bucket</code></td>
<td>
<p>Character string specifying the name of the bucket to create.</p>
</td></tr>
<tr><td><code id="mc_mb_+3A_ignore_existing">ignore_existing</code></td>
<td>
<p>do not error if bucket already exists</p>
</td></tr>
<tr><td><code id="mc_mb_+3A_flags">flags</code></td>
<td>
<p>additional flags, see <code>mc_mb("-h")</code> for details.</p>
</td></tr>
<tr><td><code id="mc_mb_+3A_verbose">verbose</code></td>
<td>
<p>print output?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Create a new bucket named "my-bucket"
mc_mb("play/my-bucket")

</code></pre>

<hr>
<h2 id='mc_mirror'>Mirror files and directories using mc command</h2><span id='topic+mc_mirror'></span>

<h3>Description</h3>

<p>This function uses the <code>mc</code> command to mirror files and directories
from one location to another.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_mirror(
  from,
  to,
  overwrite = FALSE,
  remove = FALSE,
  flags = "",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_mirror_+3A_from">from</code></td>
<td>
<p>Character string specifying the source file or directory path.</p>
</td></tr>
<tr><td><code id="mc_mirror_+3A_to">to</code></td>
<td>
<p>Character string specifying the destination path.</p>
</td></tr>
<tr><td><code id="mc_mirror_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical indicating whether to overwrite existing files.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mc_mirror_+3A_remove">remove</code></td>
<td>
<p>Logical indicating whether to remove extraneous files from
the destination. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mc_mirror_+3A_flags">flags</code></td>
<td>
<p>Additional flags to be passed to the <code>mirror</code> command.
Default is an empty string.</p>
</td></tr>
<tr><td><code id="mc_mirror_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether to display verbose output.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Mirror files and directories from source to destination
mc_mirror("path/to/source", "path/to/destination")

# Mirror files and directories with overwrite and remove options
mc_mirror("path/to/source", "path/to/destination",
           overwrite = TRUE, remove = TRUE)

# Mirror files and directories with additional flags and verbose output
mc_mirror("path/to/source", "path/to/destination", 
          flags = "--exclude '*.txt'", verbose = TRUE)

</code></pre>

<hr>
<h2 id='mc_mv'>move or rename files or directories between servers</h2><span id='topic+mc_mv'></span>

<h3>Description</h3>

<p>move or rename files or directories between servers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_mv(from, to, recursive = FALSE, flags = "", verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_mv_+3A_from">from</code></td>
<td>
<p>Character string specifying the source file or directory path.
Can accept a vector of file paths as well.</p>
</td></tr>
<tr><td><code id="mc_mv_+3A_to">to</code></td>
<td>
<p>Character string specifying the destination path.</p>
</td></tr>
<tr><td><code id="mc_mv_+3A_recursive">recursive</code></td>
<td>
<p>Logical indicating whether to recursively move directories.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mc_mv_+3A_flags">flags</code></td>
<td>
<p>any additional flags to <code>mv</code></p>
</td></tr>
<tr><td><code id="mc_mv_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether to report files copied.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>see <code>mc("mv -h")</code> for details.
</p>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>See Also</h3>

<p>mc_cp
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# move a file
mc_mv("local/path/to/file.txt", "alias/bucket/path/file.txt")

# move a directory recursively
mc_mv("local/directory", "alias/bucket/path/to/directory", recursive = TRUE)

</code></pre>

<hr>
<h2 id='mc_rb'>Remove an S3 bucket using mc command</h2><span id='topic+mc_rb'></span>

<h3>Description</h3>

<p>Remove an S3 bucket using mc command
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_rb(bucket, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_rb_+3A_bucket">bucket</code></td>
<td>
<p>Character string specifying the name of the bucket to remove</p>
</td></tr>
<tr><td><code id="mc_rb_+3A_force">force</code></td>
<td>
<p>Delete bucket without confirmation in non-interactive mode</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Create a new bucket named "my-bucket" on the "play" system
mc_mb("play/my-bucket")
mc_rb("play/my-bucket")

</code></pre>

<hr>
<h2 id='mc_rm'>Remove files or directories</h2><span id='topic+mc_rm'></span>

<h3>Description</h3>

<p>This function uses the <code>mc</code> command to remove files or directories
at the specified target location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_rm(target, recursive = FALSE, flags = "", verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_rm_+3A_target">target</code></td>
<td>
<p>Character string specifying the target file or
directory path to be removed.</p>
</td></tr>
<tr><td><code id="mc_rm_+3A_recursive">recursive</code></td>
<td>
<p>Logical indicating whether to recursively remove
directories. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mc_rm_+3A_flags">flags</code></td>
<td>
<p>Additional flags to be passed to the <code>rm</code> command.
Default is an empty string.</p>
</td></tr>
<tr><td><code id="mc_rm_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether to list files removed.
Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>see <code>mc("rm -h")</code> for details.
</p>


<h3>Value</h3>

<p>Returns the list from <code><a href="processx.html#topic+run">processx::run()</a></code>, with components <code>status</code>,
<code>stdout</code>, <code>stderr</code>, and <code>timeout</code>; invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Remove a file
mc_rm("path/to/file.txt")

# Remove a directory recursively
mc_rm("path/to/directory", recursive = TRUE)

</code></pre>

<hr>
<h2 id='mc_sql'>Use the S3 variant of SQL to query a minio object</h2><span id='topic+mc_sql'></span>

<h3>Description</h3>

<p>The S3 Select API can be used against CSV and JSON objects stored in minio.
If the minio server runs with MINIO_API_SELECT_PARQUET=on, also parquet files
can be queried.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_sql(
  target,
  query = "select * from S3Object",
  recursive = TRUE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_sql_+3A_target">target</code></td>
<td>
<p>character alias or path specification at minio for
the object (a .csv, .json or .parquet file)</p>
</td></tr>
<tr><td><code id="mc_sql_+3A_query">query</code></td>
<td>
<p>character string with sql query, by default &quot;select * from S3Object&quot;</p>
</td></tr>
<tr><td><code id="mc_sql_+3A_recursive">recursive</code></td>
<td>
<p>logical, by default TRUE, allowing a s3 select query to work
across a minio ALIAS/PATH specification</p>
</td></tr>
<tr><td><code id="mc_sql_+3A_verbose">verbose</code></td>
<td>
<p>logical, by default FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://min.io/docs/minio/linux/reference/minio-mc/mc-sql.html#">https://min.io/docs/minio/linux/reference/minio-mc/mc-sql.html#</a> and
<a href="https://github.com/minio/minio/blob/master/docs/select/README.md">https://github.com/minio/minio/blob/master/docs/select/README.md</a>
</p>
<p>For example &quot;select s.* from S3Object s limit 10&quot; is valid syntax.
</p>
<p>More examples of query syntax here:
<a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-select-sql-reference-select.html">https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-select-sql-reference-select.html</a>
</p>


<h3>Value</h3>

<p>SQL query results as a <code>data.frame</code> of class <code>tbl_df</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
install_mc()
# upload a CSV file
tf &lt;- tempfile()
write.csv(iris, tf, row.names = FALSE)
mc_mb("play/iris")
mc_cp(tf, "play/iris/iris.csv")

# read first 12 lines from the CSV
mc_sql("play/iris/iris.csv", query = "select * from S3Object limit 12")
 

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

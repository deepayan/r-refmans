<!DOCTYPE html><html><head><title>Help for package aRpsDCA</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {aRpsDCA}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aRpsDCA-package'>
<p>Arps Decline Curve Analysis in R</p></a></li>
<li><a href='#arps'><p>Arps decline classes and S3 methods</p></a></li>
<li><a href='#arps.eur'><p>EUR and time-to-limit for Arps decline curves</p></a></li>
<li><a href='#arps.with.buildup'><p>Arps declines with linear buildup period</p></a></li>
<li><a href='#as.effective'><p>Arps decline conversion from nominal to effective</p></a></li>
<li><a href='#as.nominal'><p>Arps decline conversion from effective to nominal</p></a></li>
<li><a href='#bestfit'><p>Best-fitting of Arps decline curves</p></a></li>
<li><a href='#curtailed'><p>Arps decline curves with initial curtailment</p></a></li>
<li><a href='#exponential'><p>Arps exponential declines</p></a></li>
<li><a href='#format.arps'><p>Format methods for Arps decline objects</p></a></li>
<li><a href='#harmonic'><p>Arps harmonic declines</p></a></li>
<li><a href='#hyp2exp'><p>Arps hyperbolic-to-exponential declines</p></a></li>
<li><a href='#hyperbolic'><p>Arps hyperbolic declines</p></a></li>
<li><a href='#print.arps'><p>Print methods for Arps decline objects</p></a></li>
<li><a href='#rescale.by.time'><p>Time unit conversion for DCA</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-07-23</td>
</tr>
<tr>
<td>Title:</td>
<td>Arps Decline Curve Analysis in R</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for Arps decline-curve analysis on oil and gas data. Includes exponential, hyperbolic, harmonic, and hyperbolic-to-exponential models as well as the preceding with initial curtailment or a period of linear rate buildup. Functions included for computing rate, cumulative production, instantaneous decline, EUR, time to economic limit, and performing least-squares best fits.</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, methods</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/derrickturk/aRpsDCA">https://github.com/derrickturk/aRpsDCA</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/derrickturk/aRpsDCA/issues">https://github.com/derrickturk/aRpsDCA/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-07-23 18:48:17 UTC; Derrick</td>
</tr>
<tr>
<td>Author:</td>
<td>Derrick Turk [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Derrick Turk &lt;dwt@terminusdatascience.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-07-23 19:39:44 UTC</td>
</tr>
</table>
<hr>
<h2 id='aRpsDCA-package'>
Arps Decline Curve Analysis in R
</h2><span id='topic+aRpsDCA-package'></span><span id='topic+aRpsDCA'></span>

<h3>Description</h3>

<p>Functions for Arps decline-curve analysis. Includes exponential, hyperbolic, harmonic, and hyperbolic-to-exponential models.
</p>


<h3>Details</h3>

<p>Index:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+arps">arps</a></code>             </td><td style="text-align: left;">   Generic functions for Arps decline curves </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+arps.eur">arps.eur</a></code>         </td><td style="text-align: left;">   EUR and time to economic limit for Arps decline curves </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+curtail">curtail</a></code>          </td><td style="text-align: left;">   Arps decline curves with initial rate curtailment </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+as.effective">as.effective</a></code>     </td><td style="text-align: left;">   Arps decline conversion from nominal to effective </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+as.nominal">as.nominal</a></code>       </td><td style="text-align: left;">   Arps decline conversion from effective to nominal </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bestfit">bestfit</a></code>          </td><td style="text-align: left;">   Best-fitting for Arps decline curves </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+exponential">exponential</a></code>      </td><td style="text-align: left;">   Arps exponential declines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+harmonic">harmonic</a></code>         </td><td style="text-align: left;">   Arps harmonic declines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+hyp2exp">hyp2exp</a></code>          </td><td style="text-align: left;">   Arps hyperbolic-to-exponential declines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+hyperbolic">hyperbolic</a></code>       </td><td style="text-align: left;">   Arps hyperbolic declines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+print.arps">print.arps</a></code>       </td><td style="text-align: left;">   Print representations of Arps decline curves </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+rescale.by.time">rescale.by.time</a></code>  </td><td style="text-align: left;">   Time unit conversion for DCA </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Derrick W. Turk | <b>terminus data science, LLC</b> &lt;<a href="mailto:dwt@terminusdatascience.com">dwt@terminusdatascience.com</a>&gt;
</p>


<h3>References</h3>

<p>SPEE REP#6 (<a href="https://secure.spee.org/sites/default/files/wp-files/pdf/ReferencesResources/REP06-DeclineCurves.pdf">https://secure.spee.org/sites/default/files/wp-files/pdf/ReferencesResources/REP06-DeclineCurves.pdf</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Plot semi-log rate-time and Cartesian rate-cumulative
## for a hyperbolic-to-exponential decline
t &lt;- seq(0, 10, 0.5)
q &lt;- hyp2exp.q(5000, as.nominal(0.90), 1.5, as.nominal(0.10), t)
Np &lt;- hyp2exp.Np(5000, as.nominal(0.90), 1.5, as.nominal(0.10), t)

old.par &lt;- par(ask=TRUE)
plot(log(q) ~ t)
plot(q ~ Np)
par(old.par)
</code></pre>

<hr>
<h2 id='arps'>Arps decline classes and S3 methods</h2><span id='topic+arps'></span><span id='topic+arps.decline'></span><span id='topic+arps.q'></span><span id='topic+arps.Np'></span><span id='topic+arps.D'></span><span id='topic+arps.q.arps'></span><span id='topic+arps.Np.arps'></span><span id='topic+arps.D.arps'></span><span id='topic+arps.q.exponential'></span><span id='topic+arps.Np.exponential'></span><span id='topic+arps.D.exponential'></span><span id='topic+arps.q.hyperbolic'></span><span id='topic+arps.Np.hyperbolic'></span><span id='topic+arps.D.hyperbolic'></span><span id='topic+arps.q.hyp2exp'></span><span id='topic+arps.Np.hyp2exp'></span><span id='topic+arps.D.hyp2exp'></span>

<h3>Description</h3>

<p>Create Arps decline curve objects and compute rates, cumulative production, and nominal declines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arps.decline(qi, Di, b=NA, Df=NA)
## S3 method for class 'arps'
arps.q(decl, t)
## S3 method for class 'arps'
arps.Np(decl, t)
## S3 method for class 'arps'
arps.D(decl, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arps_+3A_qi">qi</code></td>
<td>
<p>initial rate [volume / time], i.e. q(t = 0).</p>
</td></tr>
<tr><td><code id="arps_+3A_di">Di</code></td>
<td>
<p>nominal Arps decline exponent [1 / time].</p>
</td></tr>
<tr><td><code id="arps_+3A_b">b</code></td>
<td>
<p>Arps hyperbolic exponent.</p>
</td></tr>
<tr><td><code id="arps_+3A_df">Df</code></td>
<td>
<p>nominal Arps decline exponent [1 / time].</p>
</td></tr>
<tr><td><code id="arps_+3A_t">t</code></td>
<td>
<p>time at which to evaluate rate, cumulative, or nominal decline [time].</p>
</td></tr>
<tr><td><code id="arps_+3A_decl">decl</code></td>
<td>
<p>an Arps decline object as returned by <code>arps.decline</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Depending on whether arguments <code>b</code> and <code>Df</code> are supplied,
<code>arps.decline</code> will select an exponential, hyperbolic, or
hyperbolic-to-exponential decline and return an object appropriately.
The returned object will have class <code>"exponential"</code>,
<code>"hyperbolic"</code>, or <code>"hyp2exp"</code> in addition to class
<code>"arps"</code>.
</p>
<p>Assumes consistent units of time between <code>qi</code>, <code>Di</code>, <code>Df</code>,
and <code>t</code>.
To convert, see the decline-rate conversion functions referenced below.
</p>


<h3>Value</h3>

<p><code>arps.decline</code> returns an object having class <code>"arps"</code>, suitable
for use as an argument to S3 methods discussed here.
</p>
<p><code>q.arps</code> returns the rate for each element of <code>t</code> applying
decline <code>decl</code>, in the same units as the value of <code>qi</code> for
<code>decl</code>.
</p>
<p><code>Np.arps</code> returns the cumulative production for each element of <code>t</code>
applying decline <code>decl</code>, in the same units as the value of
<code>qi * t</code> for <code>decl</code>.
</p>
<p><code>D.arps</code> returns the nominal decline for each element of <code>t</code>
applying decline <code>decl</code>, in the same units as the value of <code>Di</code>
for <code>decl</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.arps">print.arps</a></code>, <code><a href="#topic+exponential">exponential</a></code>, <code><a href="#topic+hyperbolic">hyperbolic</a></code>,
<code><a href="#topic+hyp2exp">hyp2exp</a></code>, <code><a href="#topic+as.effective">as.effective</a></code>, <code><a href="#topic+as.nominal">as.nominal</a></code>,
<code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## exponential decline with
## qi = 1000 Mscf/d, Di = 95% effective / year
## rate for t from 0 to 25 days
decline &lt;- arps.decline(1000,
    as.nominal(0.95, from.period="year", to.period="day"))
arps.q(decline, seq(0, 25))

## hyperbolic decline with
## qi = 500 bopd, Di = 3.91 nominal / year, b = 1.5,
## cumulative production at t = 5 years
decline &lt;- arps.decline(
    rescale.by.time(500, from="day", to="year", method="rate"),
    3.91, 1.5)
arps.Np(decline, 5)
</code></pre>

<hr>
<h2 id='arps.eur'>EUR and time-to-limit for Arps decline curves</h2><span id='topic+arps.eur'></span><span id='topic+arps.t.el'></span>

<h3>Description</h3>

<p>Evaluate estimated ultimate recovery and time to economic limit for Arps
decline curve objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arps.eur(decl, q.limit)
arps.t.el(decl, q.limit)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arps.eur_+3A_decl">decl</code></td>
<td>
<p>an Arps decline object as returned by <code>arps.decline</code> or <code>curtail</code>.</p>
</td></tr>
<tr><td><code id="arps.eur_+3A_q.limit">q.limit</code></td>
<td>
<p>economic limit rate [volume / time] in same units as <code>decl</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>arps.eur</code> returns the total production for <code>decl</code> at the point in
time when the economic limit <code>q.limit</code> is reached; that is,
<code>arps.Np(decl, arps.t.el(decl, q.limit))</code>, in the same units as
<code>q.limit</code>.
</p>
<p><code>arps.t.el</code> returns the time until the economic limit <code>q.limit</code> is
reached for decline <code>decl</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arps">arps</a></code>, <code><a href="#topic+curtail">curtail</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## exponential decline with
## qi = 1000 Mscf/d, Di = 95% effective / year
## EUR with economic limit 10 Mscf/d
decline &lt;- arps.decline(1000,
    as.nominal(0.95, from.period="year", to.period="day"))
arps.eur(decline, 10)

## hyperbolic decline with
## qi = 500 bopd, Di = 3.91 nominal / year, b = 1.5,
## time to reach economic limit of 3 bopd
decline &lt;- arps.decline(rescale.by.time(500, from="day", to="year"),
    3.91, 1.5)
arps.t.el(decline, rescale.by.time(3, from="day", to="year"))
</code></pre>

<hr>
<h2 id='arps.with.buildup'>Arps declines with linear buildup period</h2><span id='topic+arps.with.buildup'></span>

<h3>Description</h3>

<p>Extend Arps decline curve objects by replacing early-time declines with a buildup period in which rate is a linear function of time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    arps.with.buildup(decl, initial.rate, time.to.peak)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arps.with.buildup_+3A_decl">decl</code></td>
<td>
<p>an Arps decline object as produced by <code>arps.decline</code>.</p>
</td></tr>
<tr><td><code id="arps.with.buildup_+3A_initial.rate">initial.rate</code></td>
<td>
<p>initial rate [volume / time] (at time = 0) for buildup period.</p>
</td></tr>
<tr><td><code id="arps.with.buildup_+3A_time.to.peak">time.to.peak</code></td>
<td>
<p>time to peak rate (i.e.~length of buildup period).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>arps.with.buildup</code> returns an object having class <code>"arps"</code>,
which may be used as an argument to methods such as <code><a href="#topic+arps.q">arps.q</a></code>,
<code><a href="#topic+arps.Np">arps.Np</a></code>, <code><a href="#topic+arps.D">arps.D</a></code>, or <code><a href="#topic+print.arps">print.arps</a></code>.
</p>
<p>This object implements a decline curve which behaves as <code>decl</code> for all
time greater than <code>time.to.peak</code>, but implements a linear buildup of
rate interpolated between <code>initial.rate</code> at time zero and
<code>arps.q(decl, time.to.peak)</code> at <code>time.to.peak</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arps.decline">arps.decline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## hyperbolic decline with
## qi = 500 bopd, Di = 3.91 nominal / year, b = 1.5,
## cumulative production at t = 5 years
decline &lt;- arps.decline(
    rescale.by.time(500, from="day", to="year", method="rate"),
    3.91, 1.5)
# add buildup from initial rate of 50 bopd, over 30 days
decline.with.buildup &lt;- arps.with.buildup(decline,
    rescale.by.time(50, from="day", to="year", method="rate"),
    rescale.by.time(30, from="day", to="year", method="time"))
# forecast 5 years and compare
forecast.time &lt;- seq(0, 5, 0.1)
plot(arps.q(decline, forecast.time) ~ forecast.time, log="y", type="l",
    lty="dashed", col="red")
lines(arps.q(decline.with.buildup, forecast.time) ~ forecast.time,
    lty="dotted", col="blue")
</code></pre>

<hr>
<h2 id='as.effective'>Arps decline conversion from nominal to effective</h2><span id='topic+as.effective'></span>

<h3>Description</h3>

<p>Convert nominal to effective Arps decline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.effective(D.nom,
    from.period=c("year", "month", "day"),
    to.period=c("year", "month", "day"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.effective_+3A_d.nom">D.nom</code></td>
<td>
<p>nominal Arps decline [1 / time].</p>
</td></tr>
<tr><td><code id="as.effective_+3A_from.period">from.period</code></td>
<td>
<p>time period for <code>D.nom</code> (default <code>"year"</code>).</p>
</td></tr>
<tr><td><code id="as.effective_+3A_to.period">to.period</code></td>
<td>
<p>time period for result (default <code>"year"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The result should be applied as a tangent effective decline (see SPEE REP#6 [<a href="https://secure.spee.org/sites/default/files/wp-files/pdf/ReferencesResources/REP06-DeclineCurves.pdf">https://secure.spee.org/sites/default/files/wp-files/pdf/ReferencesResources/REP06-DeclineCurves.pdf</a>]) specified in fractional (i.e. 95% = 0.95) units.
</p>
<p>When appropriate, internally uses <code><a href="#topic+rescale.by.time">rescale.by.time</a></code> to perform time unit conversion.
</p>


<h3>Value</h3>

<p>Returns the tangent effective Arps decline rate in units of [1 / <code>to.period</code>].
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.nominal">as.nominal</a></code>, <code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## 0.008 nominal daily decline to tangent effective yearly decline
as.effective(0.008, from.period="day", to.period="year")
</code></pre>

<hr>
<h2 id='as.nominal'>Arps decline conversion from effective to nominal</h2><span id='topic+as.nominal'></span>

<h3>Description</h3>

<p>Convert effective to nominal Arps decline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.nominal(D.eff,
    from.period=c("year", "month", "day"),
    to.period=c("year", "month", "day"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.nominal_+3A_d.eff">D.eff</code></td>
<td>
<p>tangent effective Arps decline [1 / time].</p>
</td></tr>
<tr><td><code id="as.nominal_+3A_from.period">from.period</code></td>
<td>
<p>time period for <code>D.eff</code> (default <code>"year"</code>).</p>
</td></tr>
<tr><td><code id="as.nominal_+3A_to.period">to.period</code></td>
<td>
<p>time period for result (default <code>"year"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>D.eff</code> should be specified in fractional (i.e. 95% = 0.95) units as a tangent effective decline (see SPEE REP#6 [<a href="https://secure.spee.org/sites/default/files/wp-files/pdf/ReferencesResources/REP06-DeclineCurves.pdf">https://secure.spee.org/sites/default/files/wp-files/pdf/ReferencesResources/REP06-DeclineCurves.pdf</a>]).
</p>
<p>When appropriate, internally uses <code><a href="#topic+rescale.by.time">rescale.by.time</a></code> to perform time unit conversion.
</p>


<h3>Value</h3>

<p>Returns the Arps nominal decline rate in units of [1 / <code>to.period</code>].
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.effective">as.effective</a></code>, <code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## 95% / year effective decline to nominal daily decline
as.nominal(0.95, from.period="year", to.period="day")
</code></pre>

<hr>
<h2 id='bestfit'>Best-fitting of Arps decline curves</h2><span id='topic+bestfit'></span><span id='topic+best.exponential'></span><span id='topic+best.hyperbolic'></span><span id='topic+best.hyp2exp'></span><span id='topic+best.fit'></span><span id='topic+best.exponential.from.Np'></span><span id='topic+best.hyperbolic.from.Np'></span><span id='topic+best.hyp2exp.from.Np'></span><span id='topic+best.fit.from.Np'></span><span id='topic+best.exponential.from.interval'></span><span id='topic+best.hyperbolic.from.interval'></span><span id='topic+best.hyp2exp.from.interval'></span><span id='topic+best.fit.from.interval'></span><span id='topic+best.exponential.curtailed'></span><span id='topic+best.hyperbolic.curtailed'></span><span id='topic+best.hyp2exp.curtailed'></span><span id='topic+best.curtailed.fit'></span><span id='topic+best.exponential.curtailed.from.Np'></span><span id='topic+best.hyperbolic.curtailed.from.Np'></span><span id='topic+best.hyp2exp.curtailed.from.Np'></span><span id='topic+best.curtailed.fit.from.Np'></span><span id='topic+best.exponential.curtailed.from.interval'></span><span id='topic+best.hyperbolic.curtailed.from.interval'></span><span id='topic+best.hyp2exp.curtailed.from.interval'></span><span id='topic+best.curtailed.fit.from.interval'></span><span id='topic+best.exponential.with.buildup'></span><span id='topic+best.hyperbolic.with.buildup'></span><span id='topic+best.hyp2exp.with.buildup'></span><span id='topic+best.fit.with.buildup'></span><span id='topic+best.exponential.from.Np.with.buildup'></span><span id='topic+best.hyperbolic.from.Np.with.buildup'></span><span id='topic+best.hyp2exp.from.Np.with.buildup'></span><span id='topic+best.fit.from.Np.with.buildup'></span><span id='topic+best.exponential.from.interval.with.buildup'></span><span id='topic+best.hyperbolic.from.interval.with.buildup'></span><span id='topic+best.hyp2exp.from.interval.with.buildup'></span><span id='topic+best.fit.from.interval.with.buildup'></span>

<h3>Description</h3>

<p>Perform best-fits of Arps decline curves to rate or cumulative data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>best.exponential(q, t,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0), # D &gt; 0
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10) # = 0.99995 / [time] effective
  )

best.hyperbolic(q, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0), # b &gt; 0
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10, # = 0.99995 / [time] effective
    2)  # b &lt;= 2.0
  )

best.hyp2exp(q, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0), # Df &gt; 0
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10, # = 0.99995 / [time] effective
    2,  # b &lt;= 2.0
    0.35) # Df &lt;= 0.35
  )

best.exponential.curtailed(q, t,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0, # D &gt; 0
    0  # t.curtail &gt; 0
  ),
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10, # = 0.99995 / [time] effective
    t[length(t)])
  )

best.hyperbolic.curtailed(q, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0,  # b &gt; 0
    0   # t.curtail &gt; 0
  ),
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10, # = 0.99995 / [time] effective
    2,  # b &lt;= 2.0
    t[length(t)])
  )

best.hyp2exp.curtailed(q, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0,  # Df &gt; 0
    0   # t.curtail &gt; 0
  ),
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10, # = 0.99995 / [time] effective
    2,  # b &lt;= 2.0
    0.35, # Df &lt;= 0.35
    t[length(t)])
  )

best.fit(q, t)

best.curtailed.fit(q, t)

best.exponential.from.Np(Np, t,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0), # D &gt; 0
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10) # = 0.99995 / [time] effective)
  )

best.exponential.from.interval(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0), # D &gt; 0
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10) # = 0.99995 / [time] effective)
  )

best.hyperbolic.from.Np(Np, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0), # b &gt; 0
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    2)  # b &lt;= 2.0
  )

best.hyperbolic.from.interval(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0), # b &gt; 0
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    2)  # b &lt;= 2.0
  )

best.hyp2exp.from.Np(Np, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0), # Df &gt; 0
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    0.35) # Df &lt;= 0.35
  )

best.hyp2exp.from.interval(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0), # Df &gt; 0
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    0.35) # Df &lt;= 0.35
  )

best.exponential.curtailed.from.Np(Np, t,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0, # D &gt; 0
    0  # t.curtail &gt; 0
  ),
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    t[length(t)])
  )

best.exponential.curtailed.from.interval(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0, # D &gt; 0
    0  # t.curtail &gt; 0
  ),
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    t[length(t)])
  )

best.hyperbolic.curtailed.from.Np(Np, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0,  # b &gt; 0
    0   # t.curtail &gt; 0
  ),
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    t[length(t)])
  )

best.hyperbolic.curtailed.from.interval(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0,  # b &gt; 0
    0   # t.curtail &gt; 0
  ),
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    t[length(t)])
  )

best.hyp2exp.curtailed.from.Np(Np, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0,  # Df &gt; 0
    0
  ),
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    0.35, # Df &lt;= 0.35
    t[length(t)])
  )

best.hyp2exp.curtailed.from.interval(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0,  # Df &gt; 0
    0
  ),
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    0.35, # Df &lt;= 0.35
    t[length(t)])
  )

best.fit.from.Np(Np, t)

best.fit.from.interval(volume, t, t.begin=0.0)

best.curtailed.fit.from.Np(Np, t)

best.curtailed.fit.from.interval(volume, t, t.begin=0.0)

best.exponential.with.buildup(q, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0), # D &gt; 0
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10),        # = 0.99995 / [time] effective
  initial.rate=q[1], time.to.peak=t[which.max(q)])

best.hyperbolic.with.buildup(q, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0), # b &gt; 0
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10, # = 0.99995 / [time] effective
    2), # b &lt;= 2.0
  initial.rate=q[1], time.to.peak=t[which.max(q)])

best.hyp2exp.with.buildup(q, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0), # Df &gt; 0
  upper=c( # upper bounds
    max(q) * 5, # qi &lt; qmax * 5
    10, # = 0.99995 / [time] effective
    2,  # b &lt;= 2.0
    0.35), # Df &lt;= 0.35
  initial.rate=q[1], time.to.peak=t[which.max(q)])

best.fit.with.buildup(q, t)

best.exponential.from.Np.with.buildup(Np, t,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0), # D &gt; 0
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10), # = 0.99995 / [time] effective
  initial.rate=Np[1] / t[1],
  time.to.peak=(t[which.max(diff(Np))] + t[which.max(diff(Np)) + 1]) / 2.0)

best.exponential.from.interval.with.buildup(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0, # qi &gt; 0
    0), # D &gt; 0
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10), # = 0.99995 / [time] effective
  initial.rate=volume[1] / (t[1] - t.begin),
  time.to.peak=(t - diff(c(t.begin, t)) / 2)[which.max(volume)])

best.hyperbolic.from.Np.with.buildup(Np, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0), # b &gt; 0
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    2), # b &lt;= 2.0
  initial.rate=Np[1] / t[1],
  time.to.peak=(t[which.max(diff(Np))] + t[which.max(diff(Np)) + 1]) / 2.0)

best.hyperbolic.from.interval.with.buildup(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0,  # Di &gt; 0
    0), # b &gt; 0
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    2), # b &lt;= 2.0
  initial.rate=volume[1] / (t[1] - t.begin),
  time.to.peak=(t - diff(c(t.begin, t)) / 2)[which.max(volume)])

best.hyp2exp.from.Np.with.buildup(Np, t,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0), # Df &gt; 0
  upper=c( # upper bounds
    max(c(Np[1], diff(Np)) / diff(c(0, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    0.35), # Df &lt;= 0.35
  initial.rate=Np[1] / t[1],
  time.to.peak=(t[which.max(diff(Np))] + t[which.max(diff(Np)) + 1]) / 2.0)

best.hyp2exp.from.interval.with.buildup(volume, t, t.begin=0.0,
  lower=c( # lower bounds
    0,  # qi &gt; 0
    0.35,  # Di &gt; 0
    0,  # b &gt; 0
    0), # Df &gt; 0
  upper=c( # upper bounds
    max(volume / diff(c(t.begin, t))) * 5, # qi &lt; max(rate) * 5
    10, # = 0.99995 / [time] effective
    5,  # b &lt;= 2.0
    0.35), # Df &lt;= 0.35
  initial.rate=volume[1] / (t[1] - t.begin),
  time.to.peak=(t - diff(c(t.begin, t)) / 2)[which.max(volume)])

best.fit.from.Np.with.buildup(Np, t)

best.fit.from.interval.with.buildup(volume, t, t.begin=0.0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bestfit_+3A_q">q</code></td>
<td>
<p>vector of rate data.</p>
</td></tr>
<tr><td><code id="bestfit_+3A_np">Np</code></td>
<td>
<p>vector of cumulative production data.</p>
</td></tr>
<tr><td><code id="bestfit_+3A_volume">volume</code></td>
<td>
<p>vector of interval volume data.</p>
</td></tr>
<tr><td><code id="bestfit_+3A_t">t</code></td>
<td>
<p>vector of times at which <code>q</code>, <code>Np</code>, or <code>volume</code> is measured.</p>
</td></tr>
<tr><td><code id="bestfit_+3A_t.begin">t.begin</code></td>
<td>
<p>initial time for interval volume data, if non-zero.</p>
</td></tr>
<tr><td><code id="bestfit_+3A_lower">lower</code></td>
<td>
<p>lower bounds for decline parameters (sane defaults are provided).</p>
</td></tr>
<tr><td><code id="bestfit_+3A_upper">upper</code></td>
<td>
<p>upper bounds for decline parameters (sane defaults are provided).</p>
</td></tr>
<tr><td><code id="bestfit_+3A_initial.rate">initial.rate</code></td>
<td>
<p>initial rate, for declines with buildup.</p>
</td></tr>
<tr><td><code id="bestfit_+3A_time.to.peak">time.to.peak</code></td>
<td>
<p>time to peak rate, for declines with buildup.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Best-fitting is carried out by minimizing the sum of squared error in the
rate or cumulative forecast, using <code><a href="stats.html#topic+nlminb">nlminb</a></code> as the optimizer.
</p>
<p>Appropriate bounds are applied to decline-curve parameters by default, but
may be altered using the <code>lower</code> and <code>upper</code> arguments to each
specific function.
</p>


<h3>Value</h3>

<p><code>best.exponential</code>, <code>best.hyperbolic</code>, and <code>best.hyp2exp</code>
return objects of the appropriate class (as from <code><a href="#topic+arps.decline">arps.decline</a></code>)
representing best fits of the appropriate type against <code>q</code> and
<code>t</code>, in the same units as <code>q</code> and <code>t</code>.
</p>
<p><code>best.fit</code> returns the best overall fit, considering results from each
function above.
</p>
<p><code>best.exponential.from.Np</code>, <code>best.hyperbolic.from.Np</code>, and
<code>best.hyp2exp.from.Np</code> return objects of the appropriate class (as
from <code><a href="#topic+arps.decline">arps.decline</a></code>) representing best fits of the appropriate type
against <code>Np</code> and <code>t</code>, in the same units as <code>Np</code> and <code>t</code>.
</p>
<p><code>best.fit.from.Np</code> returns the best overall fit, considering results
from each function above.
</p>
<p><code>best.exponential.from.interval</code>, <code>best.hyperbolic.from.interval</code>,
and <code>best.hyp2exp.from.interval</code> return objects of the appropriate
class (as from <code><a href="#topic+arps.decline">arps.decline</a></code>) representing best fits of the
appropriate type against <code>volume</code> and <code>t</code>, in the same units as
<code>volume</code> and <code>t</code>.
</p>
<p>For these functions, <code>t</code> is taken to represent the time at the end of
each producing interval; the beginning time for the first interval may be
specified as <code>t.begin</code> if it is non-zero.
</p>
<p><code>best.fit.from.interval</code> returns the best overall fit, considering
results from each function above.
</p>
<p><code>best.exponential.curtailed</code>, <code>best.hyperbolic.curtailed</code>,
<code>best.hyp2exp.curtailed</code>, <code>best.curtailed.fit</code>,
<code>best.exponential.curtailed.from.Np</code>,
<code>best.hyperbolic.curtailed.from.Np</code>,
<code>best.hyp2exp.curtailed.from.Np</code>, <code>best.curtailed.fit.from.Np</code>,
<code>best.exponential.curtailed.from.interval</code>,
<code>best.hyperbolic.curtailed.from.interval</code>,
<code>best.hyp2exp.curtailed.from.interval</code>, and
<code>best.curtailed.fit.from.interval</code> work as the corresponding functions
above, but may return curtailed declines (as from <code><a href="#topic+curtail">curtail</a></code>).
</p>
<p><code>best.exponential.with.buildup</code>, <code>best.hyperbolic.with.buildup</code>,
<code>best.hyp2exp.with.buildup</code>, <code>best.fit.with.buildup</code>,
<code>best.exponential.from.Np.with.buildup</code>,
<code>best.hyperbolic.from.Np.with.buildup</code>,
<code>best.hyp2exp.from.Np.with.buildup</code>,
<code>best.fit.from.Np.with.buildup</code>,
<code>best.exponential.from.interval.with.buildup</code>,
<code>best.hyperbolic.from.interval.with.buildup</code>,
<code>best.hyp2exp.from.interval.with.buildup</code>, and
<code>best.fit.from.interval.with.buildup</code> work as the corresponding
functions above, but will return a fit including a linear buildup
portion (as from <code><a href="#topic+arps.with.buildup">arps.with.buildup</a></code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arps">arps</a></code>, <code><a href="#topic+curtailed">curtailed</a></code>, <code><a href="#topic+arps.with.buildup">arps.with.buildup</a></code>,
<code><a href="stats.html#topic+nlminb">nlminb</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fitme.hyp2exp.t &lt;- seq(0, 5, 1 / 12) # 5 years
fitme.hyp2exp.q &lt;- hyp2exp.q(
    1000, # Bbl/d
    as.nominal(0.70), # / year
    1.9,
    as.nominal(0.15), # / year
    fitme.hyp2exp.t
) * rnorm(n=length(fitme.hyp2exp.t), mean=1, sd=0.1) # perturb

hyp2exp.fit &lt;- best.hyp2exp(fitme.hyp2exp.q, fitme.hyp2exp.t)
cat(paste("SSE:", hyp2exp.fit$sse))
dev.new()
plot(fitme.hyp2exp.q ~ fitme.hyp2exp.t, main="Hyperbolic-to-Exponential Fit",
     col="blue", log="y", xlab="Time", ylab="Rate")
lines(arps.q(hyp2exp.fit$decline, fitme.hyp2exp.t) ~ fitme.hyp2exp.t,
      col="red")
legend("topright", pch=c(1, NA), lty=c(NA, 1), col=c("blue", "red"), legend=c("Actual", "Fit"))
</code></pre>

<hr>
<h2 id='curtailed'>Arps decline curves with initial curtailment</h2><span id='topic+curtailed'></span><span id='topic+curtail'></span><span id='topic+curtailed.q'></span><span id='topic+curtailed.Np'></span><span id='topic+curtailed.D'></span><span id='topic+arps.q.curtailed'></span><span id='topic+arps.Np.curtailed'></span><span id='topic+arps.D.curtailed'></span>

<h3>Description</h3>

<p>Create decline curve objects and compute rates, cumulative production, and nominal declines for Arps decline curves with an initial period of curtailment to constant rate. The resulting decline curve models will impose a constant rate of production equal to the initial rate of the underlying model until the specified end-of-curtailment time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    curtail(decl, t.curtail)
    curtailed.q(decl, t.curtail, t)
    curtailed.Np(decl, t.curtail, t)
    curtailed.D(decl, t.curtail, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="curtailed_+3A_decl">decl</code></td>
<td>
<p>an Arps decline object as returned by <code>arps.decline</code>.</p>
</td></tr>
<tr><td><code id="curtailed_+3A_t.curtail">t.curtail</code></td>
<td>
<p>time to end of curtailment, in same units as <code>t</code> [time].</p>
</td></tr>
<tr><td><code id="curtailed_+3A_t">t</code></td>
<td>
<p>time at which to evaluate rate, cumulative, or nominal decline [time].</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes consistent units as described for underlying Arps decline types.
</p>


<h3>Value</h3>

<p><code>curtail</code> returns an object having class <code>"arps"</code>, suitable
for use as an argument to S3 methods listed in <code><a href="#topic+arps">arps</a></code>.
</p>
<p><code>curtailed.q</code> returns the rate for each element of <code>t</code>,
under a decline described by <code>decl</code> and curtailed until time
<code>t.curtail</code>.
</p>
<p><code>curtailed.Np</code> returns the cumulative production for each element of
<code>t</code>, under a decline described by <code>decl</code> and curtailed until time
<code>t.curtail</code>.
</p>
<p><code>curtailed.D</code> returns the nominal instantaneous decline for each
element of <code>t</code>, under a decline described by <code>decl</code> and
curtailed until time <code>t.curtail</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arps">arps</a></code>, <code><a href="#topic+print.arps">print.arps</a></code>, <code><a href="#topic+exponential">exponential</a></code>,
<code><a href="#topic+hyperbolic">hyperbolic</a></code>, <code><a href="#topic+hyp2exp">hyp2exp</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## qi = 1000 Mscf/d, Di = 95% effective / year, b = 1.2, t from 0 to 25 days,
## curtailed until 5 days
curtailed.q(arps.decline(
        1000,
        as.nominal(0.95, from.period="year", to.period="day"),
        1.2
    ),
    5, seq(0, 25))

## hyperbolic decline with
## qi = 500 bopd, Di = 3.91 nominal / year, b = 1.5,
## curtailed for 1 month
## cumulative production at t = 5 years
decline &lt;- curtail(
    arps.decline(rescale.by.time(500, from="day", to="year"),
                 3.91, 1.5),
    (1 / 12)
)
arps.Np(decline, 5)
</code></pre>

<hr>
<h2 id='exponential'>Arps exponential declines</h2><span id='topic+exponential'></span><span id='topic+exponential.q'></span><span id='topic+exponential.Np'></span>

<h3>Description</h3>

<p>Compute rates and cumulative production values for Arps exponential decline curves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exponential.q(qi, D, t)
exponential.Np(qi, D, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exponential_+3A_qi">qi</code></td>
<td>
<p>initial rate [volume / time], i.e. q(t = 0).</p>
</td></tr>
<tr><td><code id="exponential_+3A_d">D</code></td>
<td>
<p>nominal Arps decline exponent [1 / time].</p>
</td></tr>
<tr><td><code id="exponential_+3A_t">t</code></td>
<td>
<p>time at which to evaluate rate or cumulative [time].</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes consistent units of time between <code>qi</code>, <code>D</code>, and <code>t</code>. To convert, see the decline-rate conversion functions referenced below.
</p>


<h3>Value</h3>

<p><code>exponential.q</code> returns the rate for each element of <code>t</code>,
in the same units as <code>qi</code>.
</p>
<p><code>exponential.Np</code> returns the cumulative production for each element of
<code>t</code>, in the same units as <code>qi * t</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.effective">as.effective</a></code>, <code><a href="#topic+as.nominal">as.nominal</a></code>, <code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## qi = 1000 Mscf/d, Di = 95% effective / year, t from 0 to 25 days
exponential.q(1000, as.nominal(0.95, from.period="year", to.period="day"), seq(0, 25))

## qi = 500 bopd, Di = 3.91 nominal / year, t = 5 years
exponential.Np(rescale.by.time(500, from.period="day", to.period="year"), 3.91, 5)
</code></pre>

<hr>
<h2 id='format.arps'>Format methods for Arps decline objects</h2><span id='topic+format.arps'></span>

<h3>Description</h3>

<p>Get human-readable representation of Arps decline-curve objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'arps'
format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format.arps_+3A_x">x</code></td>
<td>
<p>Arps decline curve object as returned from <code><a href="#topic+arps.decline">arps.decline</a></code>.</p>
</td></tr>
<tr><td><code id="format.arps_+3A_...">...</code></td>
<td>
<p>Arguments to additional <code><a href="base.html#topic+format">format</a></code> methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character representation of <code>x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+format">format</a></code>, <code><a href="#topic+print.arps">print.arps</a></code>, <code><a href="#topic+arps.decline">arps.decline</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## exponential decline with
## qi = 1000 Mscf/d, Di = 95% effective / year
## rate for t from 0 to 25 days
decline &lt;- arps.decline(1000,
    as.nominal(0.95, from.period="year", to.period="day"))
format(decline, digits=2)
</code></pre>

<hr>
<h2 id='harmonic'>Arps harmonic declines</h2><span id='topic+harmonic'></span><span id='topic+harmonic.q'></span><span id='topic+harmonic.Np'></span><span id='topic+harmonic.D'></span>

<h3>Description</h3>

<p>Compute rates, cumulative production values, and instantaneous nominal declines for Arps harmonic decline curves (i.e. hyperbolic with b = 1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonic.q(qi, Di, t)
harmonic.Np(qi, Di, t)
harmonic.D(Di, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonic_+3A_qi">qi</code></td>
<td>
<p>initial rate [volume / time], i.e. q(t = 0).</p>
</td></tr>
<tr><td><code id="harmonic_+3A_di">Di</code></td>
<td>
<p>initial nominal Arps decline exponent [1 / time].</p>
</td></tr>
<tr><td><code id="harmonic_+3A_t">t</code></td>
<td>
<p>time at which to evaluate rate or cumulative [time].</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes consistent units of time between <code>qi</code>, <code>D</code>, and <code>t</code>. To convert, see the decline-rate conversion functions referenced below.
</p>


<h3>Value</h3>

<p><code>harmonic.q</code> returns the rate for each element of <code>t</code>,
in the same units as <code>qi</code>.
</p>
<p><code>harmonic.Np</code> returns the cumulative production for each element of
<code>t</code>, in the same units as <code>qi * t</code>.
</p>
<p><code>harmonic.D</code> returns the nominal instantaneous decline for each
element of <code>t</code>. This can be converted to effective decline and
rescaled in time by use of <code><a href="#topic+as.effective">as.effective</a></code> and
<code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.effective">as.effective</a></code>, <code><a href="#topic+as.nominal">as.nominal</a></code>, <code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## qi = 1000 Mscf/d, Di = 95% effective / year, t from 0 to 25 days
harmonic.q(1000, as.nominal(0.95, from.period="year", to.period="day"), seq(0, 25))

## qi = 500 bopd, Di = 3.91 nominal / year, t = 5 years
harmonic.Np(rescale.by.time(500, from.period="day", to.period="year"), 3.91, 5)

## Di = 85% effective / year, t = 6 months
harmonic.D(as.nominal(0.85), 0.5)
</code></pre>

<hr>
<h2 id='hyp2exp'>Arps hyperbolic-to-exponential declines</h2><span id='topic+hyp2exp'></span><span id='topic+hyp2exp.q'></span><span id='topic+hyp2exp.Np'></span><span id='topic+hyp2exp.D'></span><span id='topic+hyp2exp.transition'></span>

<h3>Description</h3>

<p>Compute rates, cumulative production values, instantaneous nominal declines, and transition times for Arps hyperbolic-to-exponential decline curves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hyp2exp.q(qi, Di, b, Df, t)
hyp2exp.Np(qi, Di, b, Df, t)
hyp2exp.D(Di, b, Df, t)
hyp2exp.transition(Di, b, Df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hyp2exp_+3A_qi">qi</code></td>
<td>
<p>initial rate [volume / time], i.e. q(t = 0).</p>
</td></tr>
<tr><td><code id="hyp2exp_+3A_di">Di</code></td>
<td>
<p>initial nominal Arps decline exponent [1 / time].</p>
</td></tr>
<tr><td><code id="hyp2exp_+3A_b">b</code></td>
<td>
<p>Arps hyperbolic exponent.</p>
</td></tr>
<tr><td><code id="hyp2exp_+3A_df">Df</code></td>
<td>
<p>final nominal Arps decline exponent [1 / time].</p>
</td></tr>
<tr><td><code id="hyp2exp_+3A_t">t</code></td>
<td>
<p>time at which to evaluate rate or cumulative [time].</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes consistent units of time between <code>qi</code>, <code>Di</code>, <code>Df</code>, and <code>t</code>. To convert, see the decline-rate conversion functions referenced below.
</p>
<p>When appropriate, internally uses <code><a href="#topic+harmonic.q">harmonic.q</a></code> and <code><a href="#topic+harmonic.Np">harmonic.Np</a></code> to avoid singularities in calculations for <code>b</code> near 1.
</p>


<h3>Value</h3>

<p><code>hyp2exp.q</code> returns the rate for each element of <code>t</code>,
in the same units as <code>qi</code>.
</p>
<p><code>hyp2exp.Np</code> returns the cumulative production for each element of
<code>t</code>, in the same units as <code>qi * t</code>.
</p>
<p><code>hyp2exp.D</code> returns the nominal instantaneous decline for each
element of <code>t</code>. This can be converted to effective decline and
rescaled in time by use of <code><a href="#topic+as.effective">as.effective</a></code> and
<code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>
<p><code>hyp2exp.transition</code> returns the transition time (from hyperbolic to
exponential decline), in the same units as <code>1 / Di</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.effective">as.effective</a></code>, <code><a href="#topic+as.nominal">as.nominal</a></code>, <code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## qi = 1000 Mscf/d, Di = 95% effective / year, b = 1.2,
## Df = 15% effective / year, t from 0 to 25 years
## result in Mscf/d
hyp2exp.q(1000, as.nominal(0.95), 1.2, as.nominal(0.15), seq(0, 25))

## qi = 500 bopd, Di = 3.91 nominal / year, b = 0.5,
## Df = 0.3 nominal / year, t = 20 years
hyp2exp.Np(rescale.by.time(500, from.period="day", to.period="year"),
    3.91, 0.5, 0.3, 20)

## Di = 85% effective / year, b = 1.5, Df = 15% effective / year,
## t = 6 and 48 months
hyp2exp.D(as.nominal(0.85), 1.5, as.nominal(0.15), c(0.5, 4))

## Di = 85% effective / year, b = 1.5, Df = 5% effective / year
hyp2exp.transition(as.nominal(0.85), 1.5, as.nominal(0.05))
</code></pre>

<hr>
<h2 id='hyperbolic'>Arps hyperbolic declines</h2><span id='topic+hyperbolic'></span><span id='topic+hyperbolic.q'></span><span id='topic+hyperbolic.Np'></span><span id='topic+hyperbolic.D'></span>

<h3>Description</h3>

<p>Compute rates, cumulative production values, and instantaneous nominal declines for Arps hyperbolic decline curves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hyperbolic.q(qi, Di, b, t)
hyperbolic.Np(qi, Di, b, t)
hyperbolic.D(Di, b, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hyperbolic_+3A_qi">qi</code></td>
<td>
<p>initial rate [volume / time], i.e. q(t = 0).</p>
</td></tr>
<tr><td><code id="hyperbolic_+3A_di">Di</code></td>
<td>
<p>initial nominal Arps decline exponent [1 / time].</p>
</td></tr>
<tr><td><code id="hyperbolic_+3A_b">b</code></td>
<td>
<p>Arps hyperbolic exponent.</p>
</td></tr>
<tr><td><code id="hyperbolic_+3A_t">t</code></td>
<td>
<p>time at which to evaluate rate or cumulative [time].</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assumes consistent units of time between <code>qi</code>, <code>D</code>, and <code>t</code>. To convert, see the decline-rate conversion functions referenced below.
</p>
<p>When appropriate, internally uses <code><a href="#topic+harmonic.q">harmonic.q</a></code> and <code><a href="#topic+harmonic.Np">harmonic.Np</a></code> to avoid singularities in calculations for <code>b</code> near 1.
</p>


<h3>Value</h3>

<p><code>hyperbolic.q</code> returns the rate for each element of <code>t</code>,
in the same units as <code>qi</code>.
</p>
<p><code>hyperbolic.Np</code> returns the cumulative production for each element of
<code>t</code>, in the same units as <code>qi * t</code>.
</p>
<p><code>hyperbolic.D</code> returns the nominal instantaneous decline for each
element of <code>t</code>. This can be converted to effective decline and
rescaled in time by use of <code><a href="#topic+as.effective">as.effective</a></code> and
<code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.effective">as.effective</a></code>, <code><a href="#topic+as.nominal">as.nominal</a></code>, <code><a href="#topic+rescale.by.time">rescale.by.time</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## qi = 1000 Mscf/d, Di = 95% effective / year, b = 1.2, t from 0 to 25 days
hyperbolic.q(1000, as.nominal(0.95, from.period="year", to.period="day"),
    1.2, seq(0, 25))

## qi = 500 bopd, Di = 3.91 nominal / year, b = 0.5, t = 5 years
hyperbolic.Np(rescale.by.time(500, from.period="day", to.period="year"),
    3.91, 0.5, 5)

## Di = 85% effective / year, b = 1.5, t = 6 months
hyperbolic.D(as.nominal(0.85), 1.5, 0.5)
</code></pre>

<hr>
<h2 id='print.arps'>Print methods for Arps decline objects</h2><span id='topic+print.arps'></span>

<h3>Description</h3>

<p>Print human-readable representation of Arps decline-curve objects using <code><a href="#topic+format.arps">format.arps</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'arps'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.arps_+3A_x">x</code></td>
<td>
<p>Arps decline curve object as returned from <code><a href="#topic+arps.decline">arps.decline</a></code>.</p>
</td></tr>
<tr><td><code id="print.arps_+3A_...">...</code></td>
<td>
<p>Arguments to <code><a href="#topic+format.arps">format.arps</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly (see <code><a href="base.html#topic+invisible">invisible</a></code>) returns <code>x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+print">print</a></code>, <code><a href="#topic+format.arps">format.arps</a></code>, <code><a href="#topic+arps.decline">arps.decline</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## exponential decline with
## qi = 1000 Mscf/d, Di = 95% effective / year
## rate for t from 0 to 25 days
decline &lt;- arps.decline(1000,
    as.nominal(0.95, from.period="year", to.period="day"))
print(decline)
</code></pre>

<hr>
<h2 id='rescale.by.time'>Time unit conversion for DCA</h2><span id='topic+rescale.by.time'></span>

<h3>Description</h3>

<p>Scales rates, declines, and time periods from one time unit to another.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rescale.by.time(value,
    from.period=c("year", "month", "day"),
    to.period=c("year", "month", "day"),
    method=c("decline", "rate", "time"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rescale.by.time_+3A_value">value</code></td>
<td>
<p>rate [volume / time], Arps nominal decline [1 / time], or time to be rescaled.</p>
</td></tr>
<tr><td><code id="rescale.by.time_+3A_from.period">from.period</code></td>
<td>
<p>time period for <code>value</code> (default <code>"year"</code>).</p>
</td></tr>
<tr><td><code id="rescale.by.time_+3A_to.period">to.period</code></td>
<td>
<p>time period for result (default <code>"year"</code>).</p>
</td></tr>
<tr><td><code id="rescale.by.time_+3A_method">method</code></td>
<td>
<p>scaling method to be applied, depending upon the type of <code>value</code> (default &quot;decline&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>value</code> scaled from <code>from.period</code> to <code>to.period</code> according to its type as specified by <code>method</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.nominal">as.nominal</a></code>, <code><a href="#topic+as.effective">as.effective</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## 3 MMscf/D to MMscf/year
rescale.by.time(3, from.period="day", to.period="year", method="rate")

## Nominal decline of 3.2/year to nominal decline per month
rescale.by.time(3.2, from.period="year", to.period="month", method="decline")

## 5 years in days
rescale.by.time(5, from.period="year", to.period="month", method="time")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

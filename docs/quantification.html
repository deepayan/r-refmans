<!DOCTYPE html><html><head><title>Help for package quantification</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {quantification}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#quantification-package'>
<p>Quantification of qualitative survey data</p></a></li>
<li><a href='#bal'>
<p>The balance approach</p></a></li>
<li><a href='#ce'>
<p>Conditional Expectations method</p></a></li>
<li><a href='#cp'>
<p>Carlson-Parkin method</p></a></li>
<li><a href='#ra'>
<p>Regression approach</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Quantification of Qualitative Survey Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-10-30</td>
</tr>
<tr>
<td>Author:</td>
<td>Joachim Zuckarelli &lt;joachim@zuckarelli.de&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joachim Zuckarelli &lt;joachim@zuckarelli.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides different functions for quantifying qualitative survey data. It supports the Carlson-Parkin method, the regression approach, the balance approach and the conditional expectations method.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Depends:</td>
<td>car, stats</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-11-11 19:29:03 UTC; Joachim</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-11-12 00:13:24</td>
</tr>
</table>
<hr>
<h2 id='quantification-package'>
Quantification of qualitative survey data
</h2><span id='topic+quantification-package'></span><span id='topic+quantification'></span>

<h3>Description</h3>

<p>This package provides different functions for quantifying qualitative survey data. It supports the Carlson-Parkin method (developed by Carlson/Parkin (1985)), the regression approach (developed by Pesaran (1984)), the balance approach (see Batchelor (1984)) and the conditional expectations method.
</p>
<p>These methods are usually applied in economics to quantify qualitative inflation expectations collected through surveys (e.g. consumer surveys). However, the same approaches can be used to quantify <em>any</em> qualitative expectation about the change of a variable that is quantitative in nature.
</p>
<p>The four functions of the package &ndash; <code>cp</code> for the Carlson-Parkin method, <code>ra</code> for the regression approach, <code>bal</code> for the balance approach and <code>ce</code> for the conditional expectations method &ndash; allow the user to customize a wide range of parameters and make use of certain extensions of the original methods. Apart from that all the functions deliver per default two versions of quantified expectations: one under the assumption that the survey respondents form expectations over the <em>absolute</em> change of the variable in question and one under the assumption of expectations over the <em>relative</em> change. The functions also provide the user with standard measures for the forecast quality of the quantified expectations enabling the user to quickly assess the effect of a change in the quantification method used.
</p>


<h3>Comments and suggestions</h3>

<p>Your comments and suggestions are highly appreciated.
</p>


<h3>Author(s)</h3>

<p>Joachim Zuckarelli
</p>
<p>Maintainer: Joachim Zuckarelli &lt;joachim@zuckarelli.de&gt;
</p>


<h3>References</h3>

<p>Batchelor, R.A. (1984), Quantitative vs. qualitative measures of inflation expectations, <em>Oxford Bulletin of Economics and Statistics</em> <b>48</b> (2), 99&ndash;120.
</p>
<p>Carlson, J. A./Parkin, M. (1975), Inflation expectations, <em>Economica</em> <b>42</b>, 123&ndash;138.
</p>
<p>Henzel, S./Wollmershaeuser, T. (2005), Quantifying inflation expectations with the Carlson-Parkin
method: A survey-based determination of the just noticeable difference, <em>Journal of Business Cycle</em>
Measurement and Analysis <b>2</b>, 321&ndash;352.
</p>
<p>Nardo, M. (2003), The quantification of qualitative survey data: a critical assessment, <em>Journal of Economic</em>
Surveys <b>17</b> (5), 645&ndash;668.
</p>
<p>Pesaran, M. (1984), Expectations formation and macroeconomic modelling, in: Malgrange, M. (1984), <em>Contemporary macroeconomic modelling</em>, 27&ndash;55.
</p>
<p>Zuckarelli, J. (2015): A new method for quantification of qualitative expectations, <em>Economics and Business Letters</em> <b>3</b>(5), Special Issue <em>Energy demand forecasting</em>, 123-128.
</p>

<hr>
<h2 id='bal'>
The balance approach
</h2><span id='topic+bal'></span>

<h3>Description</h3>

<p><code>bal</code> implements the balance approach for the quantification of qualitative survey data. A description of the method can be found in Batchelor (1986).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bal(y.series, survey.up, survey.same, survey.down, forecast.horizon, 
	first.period = 1, last.period = (length(survey.up) - forecast.horizon),
	growth.limit = NA, suppress.warnings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bal_+3A_y.series">y.series</code></td>
<td>

<p>a numerical vector containing the variable whose change is the subject of the qualitative survey question. If, for example the survey asks participants to assess whether inflation will increase, decrease or stay the same, <code>y.series</code> would be the series of inflation data.
</p>
</td></tr>
<tr><td><code id="bal_+3A_survey.up">survey.up</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to increase. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="bal_+3A_survey.same">survey.same</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to stay the same. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="bal_+3A_survey.down">survey.down</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to decrease. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="bal_+3A_forecast.horizon">forecast.horizon</code></td>
<td>

<p>a numeric value defining the number of periods the survey question looks in to the future. If the data in <code>y.series</code> is monthly data and the survey question asks respondents to assess the development of the variable over the next six months then <code>forecast.horizon=6</code>.
</p>
</td></tr>
<tr><td><code id="bal_+3A_first.period">first.period</code></td>
<td>

<p>an optional numeric value indexing the first period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="bal_+3A_last.period">last.period</code></td>
<td>

<p>an optional numeric value indexing the last period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>length(survey.up) - forecast.horizon</code>.
</p>
</td></tr>
<tr><td><code id="bal_+3A_growth.limit">growth.limit</code></td>
<td>

<p>serves to limit the effect of outliers when expectations are quantified under the assumption that survey respondents form expectations on the percentage change of <code>y</code>. <code>growth.limit</code> defines a limit for percentage change of <code>y</code>. When this limit is exceeded the growth rate is set automatically to the median growth of <code>y</code> over the period covered by the expectations. Default value is <code>NA</code>.
</p>
</td></tr>
<tr><td><code id="bal_+3A_suppress.warnings">suppress.warnings</code></td>
<td>

<p>a logical value indicating if runtime warnings shall be displayed (<code>FALSE</code>) or not (<code>TRUE</code>). Default value is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bal</code> provides two alternative versions of quantified expectations, depending on the assumed expectation formation process of survey respondents. The basic common assumption of the balance method is that survey participants are asked to assess whether variable <code>y</code> will go up or down or stay the same. Survey respondents can now form expectations on either the absolute or the relative change of <code>y</code> which differ because the scaling factors (thetas) used to scale the difference between the shares of 'up' and the 'down' respondents are calculated differently in each case. The <code>bal</code> function calculates both versions.
</p>
<p>The survey result vectors <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> as well as the variable <code>y.series</code> must be of the same length and must cover the forecasted horizon (i.e. <code>last.period</code> + <code>forecast.horizon</code> <code class="reqn">\le</code> <code>length(survey.up)</code>). 
</p>
<p>Data in <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> outside the survey period interval <code>[first.period, last.period]</code> are ignored. Similiarly, <code>y.series</code> data with a period index greater than <code>last.period</code> is ignored.
</p>
<p><code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> need not sum up to <code>100%</code> or <code>1</code> (which may happen, for example, if the survey has a 'Don't know' answer option).
</p>


<h3>Value</h3>


<ul>
<li> <p><code>y.e.mean.abs</code>: a numeric vector containing the quantified mean expectations of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>y.e.mean.perc</code>: a numeric vector containing the quantified mean expectations of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.mean.abs</code>: a numeric vector containing the quantified mean absolute change of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.mean.perc</code>: a numeric vector containing the quantified mean percentage change of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.sd.abs</code>: a numeric vector containing the standard deviation of the absolute change expectation for variable <code>y</code> in the population. Assumes that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.sd.perc</code>: a numeric vector containing the standard deviation of the absolute change expectation for variable <code>y</code> in the population. Assumes that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>theta.abs</code>: a numeric vector containing the estimated factor   which scales the difference between the  shares of 'up' respondents and 'down' respondents assuming that survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>theta.perc</code>: a numeric vector containing the estimated factor   which scales the difference between the  shares of 'up' respondents and 'down' respondents assuming that survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>nob</code>: a numeric value showing the number of periods for which expectations have been quantified.
</p>
</li>
<li> <p><code>mae.abs</code>: a numeric value showing the mean absolute error (MAE) of expectations when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>rmse.abs</code>: a numeric value showing the root mean squared error (RMSE) of expectations when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>mae.perc</code>: a numeric value showing the mean absolute error (MAE) of expectations when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>rmse.perc</code>: a numeric value showing the root mean squared error (RMSE) of expectations when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li></ul>



<h3>Please cite as:</h3>

<p>Zuckarelli, Joachim (2014). <em>Quantification of qualitative survey data in R</em>.<br />
R package version 1.0.0. http://CRAN.R-project.org/package=quantification
</p>


<h3>Author(s)</h3>

<p>Joachim Zuckarelli, <a href="mailto:joachim@zuckarelli.de">joachim@zuckarelli.de</a>
</p>


<h3>References</h3>

<p>Batchelor, R.A. (1984), Quantitative vs. qualitative measures of inflation expectations, <em>Oxford Bulletin of Economics and Statistics</em> <b>48</b> (2), 99&ndash;120.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+quantification-package">quantification-package</a></code>, <code><a href="#topic+cp">cp</a></code>, <code><a href="#topic+ra">ra</a></code>, <code><a href="#topic+ce">ce</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Data preparation: generate a sample dataset with inflation and survey data
inflation&lt;-c(1.7, 1.9, 2, 1.9, 2, 2.1, 2.1, 2.1, 2.4, 2.3, 2.4)
answer.up&lt;-c(67, 75.1, 76.4, 72.4, 69.7, 49.7, 45.2, 31.6, 14.9, 19.3, 19.2)
answer.same&lt;-c(30.1, 19.6, 19.5, 21.3, 20.1, 33.1, 34.4, 33.5, 44.6, 38.1, 35.3)
answer.down&lt;-c(2.9, 5.3, 4.1, 6.3, 10.2, 17.2, 20.4, 34.9, 40.5, 42.6, 45.5)

## Call bal for quantification
quant.bal&lt;-bal(inflation, answer.up, answer.same, answer.down, first.period=5, 
	last.period=7, forecast.horizon=4)

</code></pre>

<hr>
<h2 id='ce'>
Conditional Expectations method
</h2><span id='topic+ce'></span>

<h3>Description</h3>

<p><code>ce</code> implements the Conditional Expectations approach for the quantification of qualitative survey data. The method calculates expectations on a distribution of past realizations of the variable of interest (variable <code>y</code>), conditional on the expectation of either an increase or a decrese in  <code>y</code>. These conditional expectations are then weighted with the share of survey respondents expecting variable <code>y</code> to rise or fall, respectively. For details see
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ce(y.series, survey.up, survey.same, survey.down, forecast.horizon, 
	first.period = 11, last.period = (length(survey.up) - forecast.horizon), 
	exp.horizon.type = "moving", mov.horizon.length = 10, 
	fix.horizon.start = 1, fix.horizon.end = 10, 
	distrib.param = "mean", suppress.warnings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ce_+3A_y.series">y.series</code></td>
<td>

<p>a numerical vector containing the variable whose change is the subject of the qualitative survey question. If, for example the survey asks participants to assess whether inflation will increase, decrease or stay the same, <code>y.series</code> would be the series of inflation data.
</p>
</td></tr>
<tr><td><code id="ce_+3A_survey.up">survey.up</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to increase. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_survey.same">survey.same</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to stay the same. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_survey.down">survey.down</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to decrease. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_forecast.horizon">forecast.horizon</code></td>
<td>

<p>a numeric value defining the number of periods the survey question looks in to the future. If the data in <code>y.series</code> is monthly data and the survey question asks respondents to assess the development of the variable over the next six months then <code>forecast.horizon=6</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_first.period">first.period</code></td>
<td>

<p>an optional numeric value indexing the first period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>11</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_last.period">last.period</code></td>
<td>

<p>an optional numeric value indexing the last period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>length(survey.up) - forecast.horizon</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_exp.horizon.type">exp.horizon.type</code></td>
<td>

<p>an optional character vector indicating the type of experience horizon to be used. The experience horizon is the time period over which the distribution of variable <code>y</code> serves as basis for quantification. Possible values are:
</p>

<ul>
<li><p>&quot;<code>fix</code>&quot;: the distribution of variable <code>y</code> over a fixed period of time is used for calculating the conditional expectations
</p>
</li>
<li><p>&quot;<code>moving</code>&quot;: the time period over which the distribution of variable <code>y</code> is used for quantification moves with the time the respective survey results were generated, i.e. the experience horizon reaches back a certain number of periods from the time of the survey.
</p>
</li></ul>

<p>Default value is &quot;<code>moving</code>&quot;.
</p>
</td></tr>
<tr><td><code id="ce_+3A_mov.horizon.length">mov.horizon.length</code></td>
<td>

<p>an optional numeric value indicating the length of the (moving) forecast horizon. Is only considered when <code>exp.horizon.type</code>=&quot;<code>moving</code>&quot;. Default value is <code>10</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_fix.horizon.start">fix.horizon.start</code></td>
<td>

<p>an optional numeric value indicating the first period of the (fixed) forecast horizon. Is only considered when <code>exp.horizon.type</code>=&quot;<code>fix</code>&quot;. Default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_fix.horizon.end">fix.horizon.end</code></td>
<td>

<p>an optional numeric value indicating the last period of the (fixed) forecast horizon. Is only considered when <code>exp.horizon.type</code>=&quot;<code>fix</code>&quot;. Default value is <code>10</code>.
</p>
</td></tr>
<tr><td><code id="ce_+3A_distrib.param">distrib.param</code></td>
<td>

<p>an optional character vector indicating the distribution parameter that shall be used for calculating conditional expectations based on the distribution of variable <code>y</code> over the expectation horizon. Can be either &quot;<code>mean</code>&quot; or &quot;<code>median</code>&quot;. Default value is &quot;<code>mean</code>&quot;.
</p>
</td></tr>
<tr><td><code id="ce_+3A_suppress.warnings">suppress.warnings</code></td>
<td>

<p>a logical value indicating if runtime warnings shall be displayed (<code>FALSE</code>) or not (<code>TRUE</code>). Default value is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The survey result vectors <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> as well as the variable <code>y.series</code> must be of the same length and must cover the forecasted horizon (i.e. <code>last.period</code> + <code>forecast.horizon</code> <code class="reqn">\le</code> <code>length(survey.up)</code>). 
</p>
<p>Data in <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> outside the survey period interval <code>[first.period, last.period]</code> are ignored. Similiarly, <code>y.series</code> data with a period index greater than <code>last.period</code> is ignored.
</p>
<p><code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> need not sum up to <code>100%</code> or <code>1</code> (which may happen, for example, if the survey has a 'Don't know' answer option).
</p>


<h3>Value</h3>

<p><code>ce</code> returns a list containing the quantified survey data and some meta information. The list has the following elements:
</p>

<ul>
<li> <p><code>y.e</code>: a numeric vector containing the quantified expectations of the variable <code>y</code>.
</p>
</li>
<li> <p><code>nob</code>: a numeric value showing the number of periods for which expectations have been quantified.
</p>
</li>
<li> <p><code>mae</code>: a numeric value showing the mean absolute error (MAE) of expectations.
</p>
</li>
<li> <p><code>rmse</code>: a numeric value showing the root mean squared error (RMSE) of expectations.
</p>
</li></ul>



<h3>Please cite as:</h3>

<p>Zuckarelli, Joachim (2014). <em>Quantification of qualitative survey data in R</em>.<br />
R package version 1.0.0. http://CRAN.R-project.org/package=quantification
</p>


<h3>Author(s)</h3>

<p>Joachim Zuckarelli, <a href="mailto:joachim@zuckarelli.de">joachim@zuckarelli.de</a>
</p>


<h3>References</h3>

<p>Zuckarelli, J. (2015): A new method for quantification of qualitative expectations, <em>Economics and Business Letters</em> <b>3</b>(5), Special Issue <em>Energy demand forecasting</em>, 123-128.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+quantification-package">quantification-package</a></code>, <code><a href="#topic+cp">cp</a></code>, <code><a href="#topic+bal">bal</a></code>, <code><a href="#topic+ra">ra</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Data preparation: generate a sample dataset with inflation and survey data
inflation&lt;-c(1.5, 1.5, 1.5, 1.1, 0.9, 1.3, 1.3, 1.2, 1.7, 1.7, 1.5, 2, 1.4, 1.9, 1.9, 2.3, 2.8, 
	2.5, 2.1, 2.1, 1.9, 1.9, 1.5, 1.6, 2.1, 1.8, 2.1, 1.5, 1.3, 1.1, 1.1, 1.3, 1.3, 1.3, 1.1, 
	1.1, 1, 1.2, 1.1, 0.9)
answer.up&lt;-c(72.7, 69.7, 60.9, 53.7, 54.9, 54.8, 56.1, 51.7, 62.2, 54.2, 39.8, 18.6, 5.4, 8.2, 
	8.6, 8.5, 16, 18.9, 7.7, 6.5, 6.4, 7, 7.4, 6.8, 9.5, 17.1, 13.1, 21.5, 22.7, 26.9, 32.4, 
	20.2, 20.4, 15.8, 11.4, 7.9, 11.3, 10, 11.3, 9.7)
answer.same&lt;-c(24.1, 22.8, 24.3, 26.2, 31.1, 35.4, 33, 35.5, 27.4, 24.8, 32.1, 44.8, 41.8, 
	37.9, 33.2, 30.9, 29.9, 22.1, 17.2, 15.5, 21.8, 25.2, 23.2, 24.2, 32.9, 31.2, 42.2, 50.5, 
	52.5, 56.3, 53.8, 62.8, 65.6, 63, 60.3, 61.1, 57.8, 63, 61.4, 61.9)
answer.down&lt;-c(3.2, 7.5, 14.8, 20.1, 14, 9.8, 10.9, 12.8, 10.4, 21, 28.1, 36.6, 52.8, 53.9, 
	58.2, 60.6, 54.1, 59, 75.1, 78, 71.8, 67.8, 69.4, 69, 57.6, 51.7, 44.7, 28, 24.8, 16.8, 
	13.8, 17, 14, 21.2, 28.3, 31, 30.9, 27, 27.3, 28.4)

## Call ce for quantification
quant.ce&lt;-ce(inflation, answer.up, answer.same, answer.down, first.period=30, last.period=36, 
	forecast.horizon=4, exp.horizon.type = "fix", fix.horizon.start = 1, fix.horizon.end = 29)
</code></pre>

<hr>
<h2 id='cp'>
Carlson-Parkin method
</h2><span id='topic+cp'></span>

<h3>Description</h3>

<p><code>cp</code> implements the method for the quantifcation of qualitative survey data proposed by Carlson/Parkin (1985). Additionally, it provides certain extensions of the Carlson-Parkin approach (e.g. other distributions than the normal distribution, indifference limens depending on the level of the forecasted variable).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cp(y.series, survey.up, survey.same, survey.down, forecast.horizon, 
	first.period = 1, last.period = (length(survey.up) - forecast.horizon), 
	limen.type = "carlson.parkin", const.limen = 0, user.symm.limen = 0, 
	user.upper.limen = 0, user.lower.limen = 0, correct.zero = TRUE, 
	correct.by = 0.01, growth.limit = NA, distrib.type = "normal", 
	distrib.mean = 0, distrib.sd = 1, distrib.log.location = 0, 
	distrib.log.scale = 1, distrib.t.df = (last.period - first.period), 
	suppress.warnings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cp_+3A_y.series">y.series</code></td>
<td>

<p>a numerical vector containing the variable whose change is the subject of the qualitative survey question. If, for example the survey asks participants to assess whether inflation will increase, decrease or stay the same, <code>y.series</code> would be the series of inflation data.
</p>
</td></tr>
<tr><td><code id="cp_+3A_survey.up">survey.up</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to increase. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_survey.same">survey.same</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to stay the same. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_survey.down">survey.down</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to decrease. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_forecast.horizon">forecast.horizon</code></td>
<td>

<p>a numeric value defining the number of periods the survey question looks in to the future. If the data in <code>y.series</code> is monthly data and the survey question asks respondents to assess the development of the variable over the next six months then <code>forecast.horizon=6</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_first.period">first.period</code></td>
<td>

<p>an optional numeric value indexing the first period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_last.period">last.period</code></td>
<td>

<p>an optional numeric value indexing the last period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>length(survey.up) - forecast.horizon</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_limen.type">limen.type</code></td>
<td>

<p>an optional character vector describing the type of indifference limen that shall be used for quantification. Possible values are:</p>

<ul>
<li><p> &quot;<code>carlson.parkin</code>&quot;: standard symmetric, time-invariant Carlson-Parkin indifference limens; default value.
</p>
</li>
<li><p> &quot;<code>weber.fechner</code>&quot;: symmetric, time-varying indifference limens following the Weber-Fechner law, i.e. proportional to the variable in question (i.e. <code>y.series</code>) at the time of the survey. For details see Henzel/Wollmershaeuser (2005).
</p>
</li>
<li><p> &quot;<code>constant</code>&quot;: symmetric, time-invariant indifference limen defined by the user through the <code>const.limen</code> argument
</p>
</li>
<li><p> &quot;<code>symm.series</code>&quot;: fully user-defined, symmetric, time-varying indifference limen given by the argument <code>user.symm.limen</code>.
</p>
</li>
<li><p> &quot;<code>asymm.series</code>&quot;: fully user-defined, asymmetric, time-varying indifference limens given by the arguments <code>user.upper.limen</code> and <code>user.lower.limen</code>.	
</p>
</li></ul>

</td></tr>
<tr><td><code id="cp_+3A_const.limen">const.limen</code></td>
<td>

<p>an optional numeric value containing the symmetric, time-invariant user-defined indifference limen. Must be provided when &quot;<code>constant</code>&quot; is chosen as <code>limen.type</code>. Is ignored otherwise. Default value is <code>0</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_user.symm.limen">user.symm.limen</code></td>
<td>

<p>an optional numeric vector containing the symmetric, time-varying indifference limen. Must be provided when &quot;<code>symm.series</code>&quot; is chosen as <code>limen.type</code>. Is ignored otherwise. Default value is a <code>0</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_user.upper.limen">user.upper.limen</code></td>
<td>

<p>an optional numeric vector containing the upper, time-varying indifference limen. Must be provided when &quot;<code>asymm.series</code>&quot; is chosen as <code>limen.type</code>. Is ignored otherwise. Default value is <code>0</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_user.lower.limen">user.lower.limen</code></td>
<td>

<p>an optional numeric vector containing the lower, time-varying indifference limen. Must be provided when &quot;<code>asymm.series</code>&quot; is chosen as <code>limen.type</code>. Is ignored otherwise. Default value is <code>0</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_correct.zero">correct.zero</code></td>
<td>

<p>an optional logical value steering the automatic correction of zero-values in <code>survey.up</code> and <code>survey.down</code>. If <code>survey.up</code> or <code>survey.down</code> are zero in any period then the Carlson-Parkin method delivers counter-intuitive results (see Nardo (2003) for details). Automatic correction changes the zero value to an amount specified by the <code>correct.by</code> argument. <code>correct.zero=TRUE</code> switches automatic correction on which is the default. 
</p>
</td></tr>
<tr><td><code id="cp_+3A_correct.by">correct.by</code></td>
<td>

<p>an optional parameter indicating the amount by which <code>survey.up</code> and <code>survey.down</code> are corrected in case they have zero value and <code>correct.zero=TRUE</code>. Default value is <code>0.01</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_growth.limit">growth.limit</code></td>
<td>

<p>serves to limit the effect of outliers when expectations are quantified under the assumption that survey respondents form expectations on the percentage change of <code>y</code>. <code>growth.limit</code> defines a limit for percentage change of <code>y</code>. When this limit is exceeded the growth rate is set automatically to the median growth of <code>y</code> over the period covered by the expectations. Default value is <code>NA</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_distrib.type">distrib.type</code></td>
<td>

<p>an optional character vector describing the type of distribution used for quantification. Possible values are:
</p>

<ul>
<li><p> &quot;<code>normal</code>&quot;: the normal distribution is used. Default value for <code>distrib.type</code>. Parameters <code>distrib.mean</code> and <code>distrib.sd</code> can be used to specify the distribution.
</p>
</li>
<li><p> &quot;<code>logistic</code>&quot;: the logistic distribution is used. Parameters <code>distrib.log.location</code> and <code>distrib.log.scale</code> can be used to specify the distribution.
</p>
</li>
<li><p> &quot;<code>t</code>&quot;: the t distribution is used. Parameter <code>distrib.t.df</code> can be used to specify the distribution.
</p>
</li></ul>

</td></tr>
<tr><td><code id="cp_+3A_distrib.mean">distrib.mean</code></td>
<td>

<p>an optional numerical value defining the mean of the normal distribution (used in case <code>distrib.type="normal"</code>). Default value is <code>0</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_distrib.sd">distrib.sd</code></td>
<td>

<p>an optional numerical value defining the standard deviation of the normal distribution (used in case <code>distrib.type="normal"</code>). Default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_distrib.log.location">distrib.log.location</code></td>
<td>

<p>an optional numerical value defining the location of the logistic distribution (used in case <code>distrib.type="logistic"</code>). Default value is <code>0</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_distrib.log.scale">distrib.log.scale</code></td>
<td>

<p>an optional numerical value defining the scale of the logistic distribution (used in case <code>distrib.type="logistic"</code>). Default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_distrib.t.df">distrib.t.df</code></td>
<td>

<p>an optional numerical value defining the degrees of freedom (df) of the t distribution (used in case <code>distrib.type="t"</code>). Default value is <code>last.period - first.period</code>.
</p>
</td></tr>
<tr><td><code id="cp_+3A_suppress.warnings">suppress.warnings</code></td>
<td>

<p>a logical value indicating if runtime warnings shall be displayed (<code>FALSE</code>) or not (<code>TRUE</code>). Default value is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cp</code> provides two alternative versions of quantified expectations, depending on the assumed expectation formation process of survey respondents. The basic common assumption of the Carlson-Parkin method is that survey participants are asked to assess whether variable <code>y</code> will go up or down or stay the same. Survey respondents can now form expectations on either the absolute or the relative change of <code>y</code> which differ because the indifferent limens used for quantification are calculated differently in each case. The <code>cp</code> function calculates both versions.
</p>
<p>The survey result vectors <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> as well as the variable <code>y.series</code> must be of the same length and must cover the forecasted horizon (i.e. <code>last.period</code> + <code>forecast.horizon</code> <code class="reqn">\le</code> <code>length(survey.up)</code>). 
</p>
<p>Data in <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> outside the survey period interval <code>[first.period, last.period]</code> are ignored. Similiarly, <code>y.series</code> data with a period index greater than <code>last.period</code> is ignored.
</p>
<p><code>first.period</code> must be greater than <code>forecast.horizon</code>, because indifference limens use the current change of variable <code>y</code>  for calibration. In order to calculate the change in <code>y</code> for the survey obersavation with index <code>first.period</code> the observation of <code>y</code> with index <code>first.period - forecast.horizon</code> is required.
</p>
<p><code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> need not sum up to <code>100%</code> or <code>1</code> (which may happen, for example, if the survey has a 'Don't know' answer option).
</p>
<p>The Weber-Fechner option (see Henzel/Wollmershaeuser (2005) for details) weighs the 'expectations' term in the traditional Carlson-Parkin limen calculation with the current inflation rate. The resulting time-invariant value is applied as a proportionality factor to current inflation leading to a time-varying, inflation-proportional indifference limen.
</p>
<p>When the indifference limen is user-defined (i.e. <code>limen.type="symm.series"</code> or <code>limen.type="asymm.series"</code>) then each limen value needs to be placed in such a way in the limen vector(s) (i.e. <code>user.limen</code> or <code>user.upper.limen</code> / <code>user.lower.limen</code>) that it has the same index as the survey observation (in <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code>) to which it belongs.
</p>


<h3>Value</h3>

<p><code>cp</code> returns a list containing the quantified survey data and some meta information. The list has the following elements:
</p>

<ul>
<li> <p><code>y.e.mean.abs</code>: a numeric vector containing the quantified mean expectations of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>y.e.mean.perc</code>: a numeric vector containing the quantified mean expectations of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.mean.abs</code>: a numeric vector containing the quantified mean absolute change of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.mean.perc</code>: a numeric vector containing the quantified mean percentage change of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.sd.abs</code>: a numeric vector containing the standard deviation of the absolute change expectation for variable <code>y</code> in the population. Assumes that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.sd.perc</code>: a numeric vector containing the standard deviation of the absolute change expectation for variable <code>y</code> in the population. Assumes that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>limen.abs</code>: a numeric vector containing the estimated (or user-defined) indifference limens assuming that survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>limen.perc</code>: a numeric vector containing the estimated (or user-defined) indifference limens assuming that survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>nob</code>: a numeric value showing the number of periods for which expectations have been quantified.
</p>
</li>
<li> <p><code>mae.abs</code>: a numeric value showing the mean absolute error (MAE) of expectations when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>rmse.abs</code>: a numeric value showing the root mean squared error (RMSE) of expectations when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>mae.perc</code>: a numeric value showing the mean absolute error (MAE) of expectations when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>rmse.perc</code>: a numeric value showing the root mean squared error (RMSE) of expectations when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li></ul>



<h3>Please cite as:</h3>

<p>Zuckarelli, Joachim (2014). <em>Quantification of qualitative survey data in R</em>.<br />
R package version 0.1.0. http://CRAN.R-project.org/package=quantification
</p>


<h3>Author(s)</h3>

<p>Joachim Zuckarelli, <a href="mailto:joachim@zuckarelli.de">joachim@zuckarelli.de</a>
</p>


<h3>References</h3>

<p>Carlson, J. A./Parkin, M. (1975), Inflation expectations, <em>Economica</em> <b>42</b>, 123&ndash;138.
</p>
<p>Henzel, S./Wollmershaeuser, T. (2005), Quantifying inflation expectations with the Carlson-Parkin
method: A survey-based determination of the just noticeable difference, <em>Journal of Business Cycle</em>
Measurement and Analysis <b>2</b>, 321&ndash;352.
</p>
<p>Nardo, M. (2003), The quantification of qualitative survey data: a critical assessment, <em>Journal of Economic</em>
Surveys <b>17</b> (5), 645&ndash;668.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+quantification-package">quantification-package</a></code>, <code><a href="#topic+bal">bal</a></code>, <code><a href="#topic+ra">ra</a></code>, <code><a href="#topic+ce">ce</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Data preparation: generate a sample dataset with inflation and survey data
inflation&lt;-c(1.7, 1.9, 2, 1.9, 2, 2.1, 2.1, 2.1, 2.4, 2.3, 2.4)
answer.up&lt;-c(67, 75.1, 76.4, 72.4, 69.7, 49.7, 45.2, 31.6, 14.9, 19.3, 19.2)
answer.same&lt;-c(30.1, 19.6, 19.5, 21.3, 20.1, 33.1, 34.4, 33.5, 44.6, 38.1, 35.3)
answer.down&lt;-c(2.9, 5.3, 4.1, 6.3, 10.2, 17.2, 20.4, 34.9, 40.5, 42.6, 45.5)

## Call cp for quantification
quant.cp.limens&lt;-cp(inflation, answer.up, answer.same, answer.down, first.period=5, 
	last.period=7, forecast.horizon=4)

## With Weber-Fechner limens instead of Carson-Parkin limens
quant.wf.limens&lt;-cp(inflation, answer.up, answer.same, answer.same, first.period=5, 
	last.period=7, forecast.horizon=4, limen.type="weber.fechner")
</code></pre>

<hr>
<h2 id='ra'>
Regression approach
</h2><span id='topic+ra'></span>

<h3>Description</h3>

<p><code>ra</code> implements the regression approach developed by Pesaran (1984).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ra(y.series, survey.up, survey.same, survey.down, forecast.horizon, 
	first.period = 1, last.period = (length(survey.up) - forecast.horizon), 
	distrib.type = "normal", distrib.mean = 0, distrib.sd = 1, 
	distrib.log.location = 0, distrib.log.scale = 1, 
	distrib.t.df = (first.period - last.period), growth.limit = NA, 
	symmetry.error = "white", suppress.warnings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ra_+3A_y.series">y.series</code></td>
<td>

<p>a numerical vector containing the variable whose change is the subject of the qualitative survey question. If, for example the survey asks participants to assess whether inflation will increase, decrease or stay the same, <code>y.series</code> would be the series of inflation data.
</p>
</td></tr>
<tr><td><code id="ra_+3A_survey.up">survey.up</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to increase. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_survey.same">survey.same</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to stay the same. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_survey.down">survey.down</code></td>
<td>

<p>a numerical vector containing the number or the share of survey respondents expecting the variable contained in <code>y.series</code> to decrease. This vector needs to be of the same length as <code>y.series</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_forecast.horizon">forecast.horizon</code></td>
<td>

<p>a numeric value defining the number of periods the survey question looks in to the future. If the data in <code>y.series</code> is monthly data and the survey question asks respondents to assess the development of the variable over the next six months then <code>forecast.horizon=6</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_first.period">first.period</code></td>
<td>

<p>an optional numeric value indexing the first period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_last.period">last.period</code></td>
<td>

<p>an optional numeric value indexing the last period for which survey data in <code>survey.up</code>, <code>survey.same</code> and <code>survey.down</code> shall be used for quantification; default value is <code>length(survey.up) - forecast.horizon</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_distrib.type">distrib.type</code></td>
<td>

<p>an optional character vector describing the type of distribution used for quantification. Possible values are:
</p>

<ul>
<li><p> &quot;<code>normal</code>&quot;: the normal distribution is used. Default value for <code>distrib.type</code>. Parameters <code>distrib.mean</code> and <code>distrib.sd</code> can be used to specify the distribution.
</p>
</li>
<li><p> &quot;<code>logistic</code>&quot;: the logistic distribution is used. Parameters <code>distrib.log.location</code> and <code>distrib.log.scale</code> can be used to specify the distribution.
</p>
</li>
<li><p> &quot;<code>t</code>&quot;: the t distribution is used. Parameter <code>distrib.t.df</code> can be used to specify the distribution.
</p>
</li></ul>

</td></tr>
<tr><td><code id="ra_+3A_distrib.mean">distrib.mean</code></td>
<td>

<p>an optional numerical value defining the mean of the normal distribution (used in case <code>distrib.type="normal"</code>). Default value is <code>0</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_distrib.sd">distrib.sd</code></td>
<td>

<p>an optional numerical value defining the standard deviation of the normal distribution (used in case <code>distrib.type="normal"</code>). Default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_distrib.log.location">distrib.log.location</code></td>
<td>

<p>an optional numerical value defining the location of the logistic distribution (used in case <code>distrib.type="logistic"</code>). Default value is <code>0</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_distrib.log.scale">distrib.log.scale</code></td>
<td>

<p>an optional numerical value defining the scale of the logistic distribution (used in case <code>distrib.type="logistic"</code>). Default value is <code>1</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_distrib.t.df">distrib.t.df</code></td>
<td>

<p>an optional numerical value defining the degrees of freedom (df) of the t distribution (used in case <code>distrib.type="t"</code>). Default value is <code>last.period - first.period</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_growth.limit">growth.limit</code></td>
<td>

<p>serves to limit the effect of outliers when expectations are quantified under the assumption that survey respondents form expectations on the percentage change of <code>y</code>. <code>growth.limit</code> defines a limit for percentage change of <code>y</code>. When this limit is exceeded the growth rate is set automatically to the median growth of <code>y</code> over the period covered by the expectations. Default value is <code>NA</code>.
</p>
</td></tr>
<tr><td><code id="ra_+3A_symmetry.error">symmetry.error</code></td>
<td>

<p>an optional character vector indicating the type of standard error used for testing the symmetry of the estimated upper and lower indifference limens. Can be either &quot;<code>white</code>&quot; (for White standard error) or  &quot;<code>small.sample</code>&quot; (for small sample standard error, HC3), see MacKinnon/White (1985) for details. Default value is &quot;<code>white</code>&quot;.
</p>
</td></tr>
<tr><td><code id="ra_+3A_suppress.warnings">suppress.warnings</code></td>
<td>

<p>a logical value indicating if runtime warnings shall be displayed (<code>FALSE</code>) or not (<code>TRUE</code>). Default value is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ra</code> estimates the time-invariant, asymmetric indifference limens using OLS regression with non-robust standard errors.
</p>
<p>The function <code>ra</code> provides two alternative versions of quantified expectations, depending on the assumed expectation formation process of survey respondents. The basic common assumption of the regression approach is that survey participants are asked to assess whether variable <code>y</code> will go up or down or stay the same. Survey respondents can now form expectations on either the absolute or the relative change of <code>y</code>. The <code>reg</code> function calculates both versions.
</p>
<p>The survey result vectors <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> as well as the variable <code>y.series</code> must be of the same length and must cover the forecasted horizon (i.e. <code>last.period</code> + <code>forecast.horizon</code> <code class="reqn">\le</code> <code>length(survey.up)</code>). 
</p>
<p>Data in <code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> outside the survey period interval <code>[first.period, last.period]</code> are ignored. Similiarly, <code>y.series</code> data with a period index greater than <code>last.period</code> is ignored.
</p>
<p><code>survey.up</code>, <code>survey.down</code> and <code>survey.same</code> need not sum up to <code>100%</code> or <code>1</code> (which may happen, for example, if the survey has a 'Don't know' answer option).
</p>


<h3>Value</h3>


<ul>
<li> <p><code>y.e.mean.abs</code>: a numeric vector containing the quantified mean expectations of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>y.e.mean.perc</code>: a numeric vector containing the quantified mean expectations of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.mean.abs</code>: a numeric vector containing the quantified mean absolute change of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>absolute</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>delta.y.e.mean.perc</code>: a numeric vector containing the quantified mean percentage change of the variable <code>y</code>, assuming that survey respondents form expectations on the <em>relative</em> change in <code>y</code>. For all periods which are not in scope of the survey the value is <code>NA</code>.
</p>
</li>
<li> <p><code>upper.limit.abs</code>: a numeric value containing the estimated upper indifference limen when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>lower.limit.abs</code>: a numeric value containing the estimated upper indifference limen when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>upper.limit.per</code>: a numeric value containing the estimated upper indifference limen when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>lower.limit.perc</code>: a numeric value containing the estimated upper indifference limen when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>nob</code>: a numeric value showing the number of periods for which expectations have been quantified.
</p>
</li>
<li> <p><code>mae.abs</code>: a numeric value showing the mean absolute error (MAE) of expectations when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>rmse.abs</code>: a numeric value showing the root mean squared error (RMSE) of expectations when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>mae.perc</code>: a numeric value showing the mean absolute error (MAE) of expectations when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>rmse.perc</code>: a numeric value showing the root mean squared error (RMSE) of expectations when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>.
</p>
</li>
<li> <p><code>symmetry.abs</code>: a numeric value containing the p-value of the test for symmetry of the estimated indifference limens when survey respondents form expectations on the <em>absolute</em> change in variable <code>y</code>. The standard error used for testing depends on the argument <code>symmetry.error</code>.
</p>
</li>
<li> <p><code>symmetry.perc</code>: a numeric value containing the p-value of the test for symmetry of the estimated indifference limens when survey respondents form expectations on the <em>relative</em> change in variable <code>y</code>. The standard error used for testing depends on the argument <code>symmetry.error</code>.
</p>
</li></ul>



<h3>Please cite as:</h3>

<p>Zuckarelli, Joachim (2014). <em>Quantification of qualitative survey data in R</em>.<br />
R package version 1.0.0. http://CRAN.R-project.org/package=quantification
</p>


<h3>Author(s)</h3>

<p>Joachim Zuckarelli, <a href="mailto:joachim@zuckarelli.de">joachim@zuckarelli.de</a>
</p>


<h3>References</h3>

<p>MacKinnon, J.G./White, H. (1985), Some heteroskedasticity-consistent covariance matrix estimators with immproved finite sample properties, <em>Journal of Econometrics</em> <b>29</b>, 305&ndash;325.
</p>
<p>Pesaran, M. (1984), Expectations formation and macroeconomic modelling, in: Malgrange, M. (1984), <em>Contemporary macroeconomic modelling</em>, 27&ndash;55.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+quantification-package">quantification-package</a></code>, <code><a href="#topic+cp">cp</a></code>, <code><a href="#topic+bal">bal</a></code>, <code><a href="#topic+ce">ce</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Data preparation: generate a sample dataset with inflation and survey data
inflation&lt;-c(1.7, 1.9, 2, 1.9, 2, 2.1, 2.1, 2.1, 2.4, 2.3, 2.4)
answer.up&lt;-c(67, 75.1, 76.4, 72.4, 69.7, 49.7, 45.2, 31.6, 14.9, 19.3, 19.2)
answer.same&lt;-c(30.1, 19.6, 19.5, 21.3, 20.1, 33.1, 34.4, 33.5, 44.6, 38.1, 35.3)
answer.down&lt;-c(2.9, 5.3, 4.1, 6.3, 10.2, 17.2, 20.4, 34.9, 40.5, 42.6, 45.5)

## Call ra for quantification
quant.ra&lt;-ra(inflation, answer.up, answer.same, answer.down, first.period=5, 
	last.period=7, forecast.horizon=4, symmetry.error="small.sample")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

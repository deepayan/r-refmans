<!DOCTYPE html><html><head><title>Help for package debest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {debest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calcDuration'><p>Calculate the study duration based on Weibull distributions.</p></a></li>
<li><a href='#dat_udca'><p>A derived biomarker dataset from a trial of usrodeoxycholic acid</p></a></li>
<li><a href='#getBeta'><p>Estimate parameters of the distribution of a*Beta(1, b) .</p></a></li>
<li><a href='#getWeilbull'><p>Estimate parameters of the Weibull survival distributions for each subgroup.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Duration Estimation for Biomarker Enrichment Studies and Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hong Zhang &lt;hzhang@wpi.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A general framework using mixture Weibull distributions to accurately predict biomarker-guided trial duration accounting for heterogeneous population. Extensive simulations are performed to evaluate the impact of heterogeneous population and the dynamics of biomarker characteristics and disease on the study duration. Several influential parameters including median survival time, enrollment rate, biomarker prevalence and effect size are identified. Efficiency gains of biomarker-guided trials can be quantitatively compared to the traditional all-comers design. For reference, see Zhang et al. (2024) &lt;<a href="https://arxiv.org/abs/2401.00540">arXiv:2401.00540</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, survival, flexsurv</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-09 15:41:40 UTC; consi</td>
</tr>
<tr>
<td>Author:</td>
<td>Hong Zhang <a href="https://orcid.org/0000-0002-8869-8671"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-10 14:23:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='calcDuration'>Calculate the study duration based on Weibull distributions.</h2><span id='topic+calcDuration'></span>

<h3>Description</h3>

<p>Calculate the study duration based on Weibull distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcDuration(
  d,
  n,
  proportion,
  SHAPEV,
  SCALEV,
  LAMW,
  A,
  BETA,
  conf.level = 0.9,
  nsim = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcDuration_+3A_d">d</code></td>
<td>
<p>- scalar, target number of events.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_n">n</code></td>
<td>
<p>- scalar, sample size.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_proportion">proportion</code></td>
<td>
<p>- vector of percentages of the subgroup.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_shapev">SHAPEV</code></td>
<td>
<p>- vector of shape parameters of Weibull survival distributions of the subgroups.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_scalev">SCALEV</code></td>
<td>
<p>- vector of scale parameters of Weibull survival distributions of the subgroups.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_lamw">LAMW</code></td>
<td>
<p>- vector of exponential drop-out distribution parameters of the subgroups.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_a">A</code></td>
<td>
<p>- vector of enrollment durations of the subgroups.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_beta">BETA</code></td>
<td>
<p>- vector of beta distribution parameters of the subgroups.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_conf.level">conf.level</code></td>
<td>
<p>- scalar, confidence level, default 0.9.</p>
</td></tr>
<tr><td><code id="calcDuration_+3A_nsim">nsim</code></td>
<td>
<p>- scalar, number of repetitions, default 1e4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>study duration estimate, d_med, and the confidence interval (d_lower, d_upper), as well as all the realizations, Z_d, of the study duration from the simulation.
</p>


<h3>References</h3>

<p>Hong Zhang, Jie Pu, Shibing Deng, Satrajit Roychoudhury, Haitao Chu and Douglas Robinson. &quot;Study Duration Prediction for Clinical Trials with Time-to-Event Endpoints Using Mixture Distributions Accounting for Heterogeneous Population&quot;, arXiv:2401.00540.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res_weibull = getWeilbull(dat_udca)
res_beta = getBeta(as.numeric(dat_udca$entry.dt))
prop = c(table(dat_udca$group)/length(dat_udca$group))
SHAPEV = res_weibull$shape
SCALEV = res_weibull$scale
LAMW = rep(-log(1 - 0.1)/6, 4)
A = rep(res_beta$a/30.416, 4) # convert days to months
BETA = rep(res_beta$b_Mean, 4)
myres1 = calcDuration(d=50, n=169, proportion=prop, SHAPEV, SCALEV, LAMW=LAMW, A, BETA)
c(myres1$d_lower, myres1$d_med, myres1$d_upper)
# drop-out will make the target number of events not achievable
myres2 = calcDuration(d=80, n=169, proportion=prop, SHAPEV, SCALEV, LAMW=LAMW, A, BETA)
c(myres2$d_lower, myres2$d_med, myres2$d_upper)
# If there is no drop-out
myres3 = calcDuration(d=80, n=169, proportion=prop, SHAPEV, SCALEV, LAMW=rep(0, 4), A, BETA)
c(myres3$d_lower, myres3$d_med, myres3$d_upper)
</code></pre>

<hr>
<h2 id='dat_udca'>A derived biomarker dataset from a trial of usrodeoxycholic acid</h2><span id='topic+dat_udca'></span>

<h3>Description</h3>

<p>dat_udca is derived from the udca data from the R survival package with biomarker variables defined as the baseline bilirubin level &gt; 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dat_udca
</code></pre>


<h3>Format</h3>

<p>A data frame with 169 rows and 12 variables:
</p>

<dl>
<dt>id</dt><dd><p>subject id</p>
</dd>
<dt>trt</dt><dd><p>treatment assignment</p>
</dd>
<dt>stage</dt><dd><p>disease stage</p>
</dd>
<dt>bili</dt><dd><p>bilirubin level</p>
</dd>
<dt>riskscore</dt><dd><p>disease risk score</p>
</dd>
<dt>futime</dt><dd><p>follow up time in days</p>
</dd>
<dt>status</dt><dd><p>event indicator</p>
</dd>
<dt>time</dt><dd><p>follow up time in months</p>
</dd>
<dt>entry.dt</dt><dd><p>enrollment date</p>
</dd>
<dt>last.dt</dt><dd><p>last visit date</p>
</dd>
<dt>BMpos</dt><dd><p>biomarker positive indicator (bili&gt;1)</p>
</dd>
<dt>group</dt><dd><p>subgroup indicator. 1 : trt=0&amp;BMpos=FALSE; 2 : trt=1&amp;BMpos=FALSE; 3 : trt=0&amp;BMpos=TRUE; 4 : trt=1&amp;BMpos=TRUE.</p>
</dd>
</dl>



<h3>Source</h3>

<p>udca data from the R survival package.
<a href="https://CRAN.R-project.org/package=survival">https://CRAN.R-project.org/package=survival</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("dat_udca")
</code></pre>

<hr>
<h2 id='getBeta'>Estimate parameters of the distribution of a*Beta(1, b) .</h2><span id='topic+getBeta'></span>

<h3>Description</h3>

<p>Estimate parameters of the distribution of a*Beta(1, b) .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBeta(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getBeta_+3A_x">x</code></td>
<td>
<p>- vector of real positive numbers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>estimates of a and b. For a, it is the range of x. For b, two estimates are provided: the MLE, and the method of moment (matching mean).
</p>


<h3>References</h3>

<p>Hong Zhang, Jie Pu, Shibing Deng, Satrajit Roychoudhury, Haitao Chu and Douglas Robinson. &quot;Study Duration Prediction for Clinical Trials with Time-to-Event Endpoints Using Mixture Distributions Accounting for Heterogeneous Population&quot;, arXiv:2401.00540.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getBeta(as.numeric(dat_udca$entry.dt))
</code></pre>

<hr>
<h2 id='getWeilbull'>Estimate parameters of the Weibull survival distributions for each subgroup.</h2><span id='topic+getWeilbull'></span>

<h3>Description</h3>

<p>Estimate parameters of the Weibull survival distributions for each subgroup.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWeilbull(dat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWeilbull_+3A_dat">dat</code></td>
<td>
<p>- data frame of three columns: 1) time: follow up time; 2) status: indicator, 0=no event, 1=event; 3) group, integer 1,...,n, for each subgroup of patients.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>shape and scale parameters of the Weibull distribution for each subgroup.
</p>


<h3>References</h3>

<p>Hong Zhang, Jie Pu, Shibing Deng, Satrajit Roychoudhury, Haitao Chu and Douglas Robinson. &quot;Study Duration Prediction for Clinical Trials with Time-to-Event Endpoints Using Mixture Distributions Accounting for Heterogeneous Population&quot;, arXiv:2401.00540.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># dat_udca already has time, status and group columns defined,
getWeilbull(dat_udca)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

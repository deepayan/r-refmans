<!DOCTYPE html><html><head><title>Help for package rpartScore</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rpartScore}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#evalMedian'>
<p>Pruning a classification tree using the total misclassification cost</p></a></li>
<li><a href='#evalMode'>
<p>Pruning a classification tree using the total misclassification rate</p></a></li>
<li><a href='#initScore'>
<p>Summarizing and visualizing classification trees</p></a></li>
<li><a href='#rpartScore'>
<p>Classification trees for ordinal responses</p></a></li>
<li><a href='#rpartScore-package'>
<p>Classification trees for ordinal responses</p></a></li>
<li><a href='#splitAbs'>
<p>Generalized Gini splitting function  based on absolute differences in scores</p></a></li>
<li><a href='#splitQuad'>
<p>Generalized Gini splitting function  based on quadratic differences in scores</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Classification Trees for Ordinal Responses</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-05-25</td>
</tr>
<tr>
<td>Author:</td>
<td>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Giuliano Galimberti &lt;giuliano.galimberti@unibo.it&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0), rpart,stats,MASS</td>
</tr>
<tr>
<td>Description:</td>
<td>Recursive partitioning methods to build
        classification trees for ordinal responses within the CART
        framework. Trees are grown using the Generalized Gini
        impurity function, where the misclassification costs are given
        by the absolute or squared differences in scores assigned to
        the categories of the response. Pruning is based on the total
        misclassification rate or on the total misclassification cost.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-25 17:07:58 UTC; giuliano.galimberti2</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-25 22:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='evalMedian'>
Pruning a classification tree using the total misclassification cost
</h2><span id='topic+evalMedian'></span>

<h3>Description</h3>

<p>This function is not invoked directly by the user but is used for its effects in the pruning procedure. See Galimberti <em>et al.</em> (2012) for further details.
</p>


<h3>Author(s)</h3>

<p>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso
</p>


<h3>References</h3>

<p>Galimberti G., Soffritti G., Di Maso M. 2012 Classification Trees for Ordinal Responses in <span class="rlang"><b>R</b></span>: The <code>rpartScore</code> Package.
<em>Journal of Statistical Software</em>, <b>47</b>(10), 1-25. <a href="https://doi.org/10.18637/jss.v047.i10">doi:10.18637/jss.v047.i10</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rpartScore">rpartScore</a></code>
</p>

<hr>
<h2 id='evalMode'>
Pruning a classification tree using the total misclassification rate
</h2><span id='topic+evalMode'></span>

<h3>Description</h3>

<p>This function is not invoked directly by the user but is used for its effects in the pruning procedure. See Galimberti <em>et al.</em> (2012) for further details.
</p>


<h3>Author(s)</h3>

<p>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso
</p>


<h3>References</h3>

<p>Galimberti G., Soffritti G., Di Maso M. 2012 Classification Trees for Ordinal Responses in <span class="rlang"><b>R</b></span>: The <code>rpartScore</code> Package.
<em>Journal of Statistical Software</em>, <b>47</b>(10), 1-25.
<a href="https://doi.org/10.18637/jss.v047.i10">doi:10.18637/jss.v047.i10</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rpartScore">rpartScore</a></code>
</p>

<hr>
<h2 id='initScore'>
Summarizing and visualizing classification trees
</h2><span id='topic+initScore'></span>

<h3>Description</h3>

<p>This function is not invoked directly by the user but is used for summarizing and visualizing a classification tree. See Galimberti <em>et al.</em> (2012) for further details.
</p>


<h3>Author(s)</h3>

<p>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso
</p>


<h3>References</h3>

<p>Galimberti G., Soffritti G., Di Maso M. 2012 Classification Trees for Ordinal Responses in <span class="rlang"><b>R</b></span>: The <code>rpartScore</code> Package.
<em>Journal of Statistical Software</em>, <b>47</b>(10), 1-25.
<a href="https://doi.org/10.18637/jss.v047.i10">doi:10.18637/jss.v047.i10</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rpartScore">rpartScore</a></code>
</p>

<hr>
<h2 id='rpartScore'>
Classification trees for ordinal responses
</h2><span id='topic+rpartScore'></span>

<h3>Description</h3>

<p>This function allows the user to build classification trees for ordinal responses within the CART framework.
The trees are grown using the Generalized Gini impurity function, where the misclassification costs are given by the absolute or squared differences in scores assigned to the categories of the response.
Pruning is based on the total misclassification rate or on the total misclassification cost.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpartScore(formula, data, weights, subset, na.action = na.rpart,
 	split = "abs", prune = "mc",
 	model = FALSE, x = FALSE, y = TRUE,
 	control, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rpartScore_+3A_formula">formula</code></td>
<td>

<p>a formula, as in the <code>lm</code> function.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_data">data</code></td>
<td>

<p>an optional data frame in which to interpret the variables named in the formula.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_weights">weights</code></td>
<td>

<p>optional case weights.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_subset">subset</code></td>
<td>

<p>optional expression saying that only a subset of the rows of the data should be used in the fit.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_na.action">na.action</code></td>
<td>

<p>The default action deletes all observations for which <code>y</code> is missing, but keeps those in which one or more predictors are missing.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_split">split</code></td>
<td>

<p>One of <code>"abs"</code> or <code>"quad"</code>.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_prune">prune</code></td>
<td>

<p>One of <code>"mc"</code> or <code>"mr"</code>.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_model">model</code></td>
<td>

<p>if logical: keep a copy of the model frame in the result? If the input value for model is a model frame (likely from an earlier call to the <code>rpart</code> or <code>rpartScore</code> function), then this frame is used rather than constructing new data.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_x">x</code></td>
<td>

<p>keep a copy of the <code>x</code> matrix in the result.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_y">y</code></td>
<td>

<p>keep a copy of the dependent variable in the result. If missing and <code>model</code> is supplied this defaults to <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_control">control</code></td>
<td>

<p>options that control details of the <code>rpart</code> algorithm.
</p>
</td></tr>
<tr><td><code id="rpartScore_+3A_...">...</code></td>
<td>

<p>arguments to <code>rpart.control</code> may also be specified in the call to <code>rpartScore</code>. They are checked against the list of valid arguments.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The use of this function is almost the same as the <code>rpart</code> function. <br />
It is assumed that a set of (not necessarily linear) numerical scores has been assigned to the ordered categories of the response.<br />
The main difference with respect to the <code>rpart</code> function is the presence of two
arguments (<code>split</code> and <code>prune</code>) instead of the <code>method</code> argument.<br />
The argument <code>split</code> controls the splitting function used to grow the classification tree, by setting the
misclassification costs in the generalized Gini impurity function equal to the absolute (<code>"abs"</code> - is the default option) or to the squared
(<code>"quad"</code>) differences in scores. <br />
The argument <code>prune</code> allows the user to select the prediction performance measure used to prune the classification tree,
and can take two values: <code>"mr"</code> (total misclassification rate) or <code>"mc"</code> (total misclassification cost - is the default option).
</p>


<h3>Value</h3>

<p>An object of class <code>rpart</code>, a superset of class <code>tree</code>.
</p>


<h3>Author(s)</h3>

<p>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso
</p>


<h3>References</h3>

<p>Breiman L., Friedman J.H., Olshen R.A., Stone C.J. 1984 <em>Classification and Regression Trees</em>. Wadsworth International.
</p>
<p>Galimberti G., Soffritti G., Di Maso M. 2012 Classification Trees for Ordinal Responses in <span class="rlang"><b>R</b></span>: The <code>rpartScore</code> Package.
<em>Journal of Statistical Software</em>, <b>47</b>(10), 1-25. <a href="https://doi.org/10.18637/jss.v047.i10">doi:10.18637/jss.v047.i10</a>.
</p>
<p>Piccarreta R. 2008 Classication Trees for Ordinal Variables. <em>Computational Statistics</em>, <b>23</b>, 407-427. <a href="https://doi.org/10.1007/s00180-007-0077-5">doi:10.1007/s00180-007-0077-5</a>.
</p>


<h3>See Also</h3>

<p><code><a href="rpart.html#topic+rpart">rpart</a></code>,<code><a href="rpart.html#topic+rpart.control">rpart.control</a></code>,
<code><a href="rpart.html#topic+rpart.object">rpart.object</a></code>,<code><a href="rpart.html#topic+summary.rpart">summary.rpart</a></code>,
<code><a href="rpart.html#topic+print.rpart">print.rpart</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("birthwt",package="MASS")

birthwt$Category.s &lt;- ifelse(birthwt$bwt &lt;= 2500, 3,
 	ifelse(birthwt$bwt &lt;= 3000, 2,
 	ifelse(birthwt$bwt &lt;= 3500, 1, 0)))

T.abs.mc &lt;- rpartScore(Category.s ~ age + lwt + race + smoke +
 	ptl + ht + ui + ftv, data = birthwt)

plotcp(T.abs.mc)

T.abs.mc.pruned&lt;-prune(T.abs.mc,cp=0.02)

plot(T.abs.mc.pruned)

text(T.abs.mc.pruned)

T.quad.mr &lt;- rpartScore(Category.s ~ age + lwt + race + smoke + ptl + ht +
 	ui + ftv, split = "quad", prune = "mr", data = birthwt)

</code></pre>

<hr>
<h2 id='rpartScore-package'>
Classification trees for ordinal responses
</h2><span id='topic+rpartScore-package'></span>

<h3>Description</h3>

<p>This package contains functions that allow the user to build classification trees for ordinal responses within the CART framework.<br />
The trees are grown using the Generalized Gini impurity function, where the misclassification costs are given by
the absolute or squared differences in scores assigned to the categories of the response.<br />
Pruning is based on the total misclassification rate or on the total misclassification cost.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> rpartScore</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0-2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-05-25</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;=2)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>This package contains functions that allow the user to build classification trees for ordinal responses within the CART framework.<br />
It is assumed that a set of numerical scores has been assigned to the ordered categories of the response. <br />
Two splitting functions are implemented, both based on the generalized Gini impurity function. They use the absolute
and the squared differences in scores, respectively, as misclassification costs. <br />
In order to select the optimal tree size, pruning can be performed, using two different measures of prediction performance:
the total misclassification rate or the total misclassification cost.<br />
This package requires the <code>rpart</code> package. The main function in this package is <code>rpartScore</code>.
The use of this function is almost the same as the <code>rpart</code> function. The main difference is the presence of two
arguments (<code>split</code> and <code>prune</code>) instead of the <code>method</code> argument.<br />
The argument <code>split</code> controls the splitting function used to grow the classification tree, by setting the
misclassification costs equal to the absolute (<code>"abs"</code> - default option) or to the squared
(<code>"quad"</code>) differences in scores. <br />
The argument <code>prune</code> allows the user to select the prediction performance measure used to prune the classification tree,
and can take two values: <code>"mr"</code> (total misclassification rate) or <code>"mc"</code> (total misclassification cost - default option).
</p>


<h3>Author(s)</h3>

<p>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso
</p>
<p>Maintainer: Giuliano Galimberti &lt;giuliano.galimberti@unibo.it&gt;
</p>


<h3>References</h3>

<p>Breiman L., Friedman J.H., Olshen R.A., Stone C.J. 1984 <em>Classification and Regression Trees</em>. Wadsworth International.
</p>
<p>Galimberti G., Soffritti G., Di Maso M. 2012 Classification Trees for Ordinal Responses in <span class="rlang"><b>R</b></span>: The <code>rpartScore</code> Package.
<em>Journal of Statistical Software</em>, <b>47</b>(10), 1-25. <a href="https://doi.org/10.18637/jss.v047.i10">doi:10.18637/jss.v047.i10</a>.
</p>
<p>Piccarreta R. 2008 Classication Trees for Ordinal Variables. <em>Computational Statistics</em>, <b>23</b>, 407-427. <a href="https://doi.org/10.1007/s00180-007-0077-5">doi:10.1007/s00180-007-0077-5</a>.
</p>


<h3>See Also</h3>

<p><code><a href="rpart.html#topic+rpart">rpart</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("birthwt",package="MASS")

birthwt$Category.s &lt;- ifelse(birthwt$bwt &lt;= 2500, 3,
 	ifelse(birthwt$bwt &lt;= 3000, 2,
 	ifelse(birthwt$bwt &lt;= 3500, 1, 0)))

T.abs.mc &lt;- rpartScore(Category.s ~ age + lwt + race + smoke +
 	ptl + ht + ui + ftv, data = birthwt)

plotcp(T.abs.mc)

T.abs.mc.pruned&lt;-prune(T.abs.mc,cp=0.02)

plot(T.abs.mc.pruned)

text(T.abs.mc.pruned)

T.quad.mr &lt;- rpartScore(Category.s ~ age + lwt + race + smoke + ptl + ht +
 	ui + ftv, split = "quad", prune = "mr", data = birthwt)


</code></pre>

<hr>
<h2 id='splitAbs'>
Generalized Gini splitting function  based on absolute differences in scores
</h2><span id='topic+splitAbs'></span>

<h3>Description</h3>

<p>This function is not invoked directly by the user but is used for its effects in the tree growing procedure. See Galimberti <em>et al.</em> (2012) for further details.
</p>


<h3>Author(s)</h3>

<p>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso
</p>


<h3>References</h3>

<p>Galimberti G., Soffritti G., Di Maso M. 2012 Classification Trees for Ordinal Responses in <span class="rlang"><b>R</b></span>: The <code>rpartScore</code> Package.
<em>Journal of Statistical Software</em>, <b>47</b>(10), 1-25.
<a href="https://doi.org/10.18637/jss.v047.i10">doi:10.18637/jss.v047.i10</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rpartScore">rpartScore</a></code>
</p>

<hr>
<h2 id='splitQuad'>
Generalized Gini splitting function  based on quadratic differences in scores
</h2><span id='topic+splitQuad'></span>

<h3>Description</h3>

<p>This function is not invoked directly by the user but is used for its effects in the tree growing procedure. See Galimberti <em>et al.</em> (2012) for further details.
</p>


<h3>Author(s)</h3>

<p>Giuliano Galimberti, Gabriele Soffritti, Matteo Di Maso
</p>


<h3>References</h3>

<p>Galimberti G., Soffritti G., Di Maso M. 2012 Classification Trees for Ordinal Responses in <span class="rlang"><b>R</b></span>: The <code>rpartScore</code> Package.
<em>Journal of Statistical Software</em>, <b>47</b>(10), 1-25.
<a href="https://doi.org/10.18637/jss.v047.i10">doi:10.18637/jss.v047.i10</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rpartScore">rpartScore</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

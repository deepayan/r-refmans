<!DOCTYPE html><html lang="en"><head><title>Help for package rAverage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rAverage}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AIC'><p>Information Criteria for averaging models</p></a></li>
<li><a href='#coef'><p>Extract coefficients from an averaging model</p></a></li>
<li><a href='#datgen'><p>Generating Noisy Responses for an Averaging Model</p></a></li>
<li><a href='#fitted'><p>Extract fitted values from an averaging model</p></a></li>
<li><a href='#fmdata1'><p>rAverage dataset examples</p></a></li>
<li><a href='#outlier.replace'><p>Outlier detection and substitution</p></a></li>
<li><a href='#pargen'><p>Generating random parameters for averaging responses</p></a></li>
<li><a href='#pasta'><p>Pasta experiment</p></a></li>
<li><a href='#rav'><p>Analyzing the Family of the Averaging Models</p></a></li>
<li><a href='#rav.grid'><p>Generating an empty dataset in <code>rav</code> format</p></a></li>
<li><a href='#rav.indices'><p>Fit indices for averaging models</p></a></li>
<li><a href='#rav.single'><p>Single subject analysis with averaging models</p></a></li>
<li><a href='#rav2file'><p>Export <code>rav</code> results</p></a></li>
<li><a href='#rAverage'><p>Parameter estimation for the averaging model of Information Integration Theory</p></a></li>
<li><a href='#residuals'><p>Extract residuals from an averaging model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.5-8</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-07-29</td>
</tr>
<tr>
<td>Title:</td>
<td>Parameter Estimation for the Averaging Model of Information
Integration Theory</td>
</tr>
<tr>
<td>Author:</td>
<td>Giulio Vidotto &lt;giulio.vidotto@unipd.it&gt;,
    Stefano Noventa &lt;stefano.noventa@uni-tuebingen.de&gt;,
    Davide Massidda &lt;davide.massidda@gmail.com&gt;,
    Marco Vicentini &lt;marco.vicentini@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Davide Massidda &lt;davide.massidda@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.8), methods, tcltk</td>
</tr>
<tr>
<td>Description:</td>
<td>Implementation of the R-Average method for parameter estimation of averaging models of the Anderson's Information Integration Theory by Vidotto, G., Massidda, D., &amp; Noventa, S. (2010) <a href="https://www.uv.es/psicologica/articulos3FM.10/3Vidotto.pdf">https://www.uv.es/psicologica/articulos3FM.10/3Vidotto.pdf</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-07-29 15:17:17 UTC; davide</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-07-29 15:28:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='AIC'>Information Criteria for averaging models</h2><span id='topic+AIC'></span><span id='topic+BIC'></span><span id='topic+AIC+2Crav-method'></span><span id='topic+BIC+2Crav-method'></span>

<h3>Description</h3>

<p>Functions to extract or recalculate the Akaike Information Criterion and the Bayesian Information
Criterion of an averaging model fitted by the <code>rav</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AIC(object, ..., k = 2)
BIC(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AIC_+3A_object">object</code></td>
<td>
<p>An object of class <code>rav</code> containing an estimated averaging model.</p>
</td></tr>
<tr><td><code id="AIC_+3A_...">...</code></td>
<td>
<p>Optionally more fitted model objects (see details).</p>
</td></tr>
<tr><td><code id="AIC_+3A_k">k</code></td>
<td>
<p>Numeric, the penalty per parameter to be used; the default k = 2 is the classical AIC.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions AIC and BIC are used, respectively, to extract the Akaike Information Criterion and the
Bayesian Information Criterion of a model fitted by the function <code>rav</code>.
</p>
<p>AIC is calculated as:
</p>
<p style="text-align: center;"><code class="reqn"> AIC = n \ln \left( \frac{RSS}{n} \right) + k p </code>
</p>

<p>where <code class="reqn">n</code> is the number of data available, <code class="reqn">k</code> is the penalty per parameter ()usually equal to 2),
<code class="reqn">p</code> is the number of parameters and <code class="reqn">RSS</code> is the residual sum of squares.
</p>
<p>BIC is calculated as:
</p>
<p style="text-align: center;"><code class="reqn"> BIC = n \ln \left( \frac{RSS}{n} \right) + \ln(n) p </code>
</p>

<p>As default, when <code class="reqn">n / p &lt; 40</code>, AIC and BIC are corrected in AICc and BICc:
</p>
<p style="text-align: center;"><code class="reqn"> AICc = AIC + \frac{2 (p+1) p}{n-p-1} </code>
</p>

<p style="text-align: center;"><code class="reqn"> BICc = BIC + \frac{\ln(n) (p+1) p}{n-p-1} </code>
</p>

<p>to avoid the correction, set <code>correct = FALSE</code>. On the contrary, if you want the correction, set
<code>correct = TRUE</code>. When the argument <code>correct</code> is not specified, the rule <code class="reqn">n / p &lt; 40</code> is
applied.
</p>
<p>As default, the functions extract the indices of the (first) best model. The optional argument
<code>whichModel</code> can be specified to extract the indices of another model. Options are:
</p>

<ol>
<li> <p><code>"null"</code>: null model
</p>
</li>
<li> <p><code>"ESM"</code>: equal scale values model
</p>
</li>
<li> <p><code>"SAM"</code>: simple averaging model
</p>
</li>
<li> <p><code>"EAM"</code>: equal-weights averaging model
</p>
</li>
<li> <p><code>"DAM"</code>: differential-weight averaging model
</p>
</li>
<li> <p><code>"IC"</code>: information criteria model
</p>
</li></ol>



<h3>Value</h3>

<p>A numeric value representing the information criterion of the selected model.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
<code><a href="stats.html#topic+AIC">AIC</a></code>,
<code><a href="stats.html#topic+BIC">BIC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(fmdata1)
fm1 &lt;- rav(fmdata1, lev=c(3,3))
AIC(fm1)
BIC(fm1)

## End(Not run)</code></pre>

<hr>
<h2 id='coef'>Extract coefficients from an averaging model</h2><span id='topic+coef'></span><span id='topic+coef+2Crav-method'></span>

<h3>Description</h3>

<p>Function to extract fit model coefficients from an object returned by <code>rav</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coef(object, ...)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef_+3A_object">object</code></td>
<td>
<p>An object of class <code>rav</code> containing an estimated averaging model.</p>
</td></tr>
<tr><td><code id="coef_+3A_...">...</code></td>
<td>
<p>Optionally more fitted model objects.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the parameters of an averaging model fitted by the <code>rav</code> function, in the order:
<code>s0</code>, <code>w0</code>, <code>s(k,j)</code>, and <code>w(k,j)</code>.
</p>
<p>As default, the function extract the cofficients of the (first) best model. The optional argument
<code>whichModel</code> can be specified to extract the values of another model. Options are:
</p>

<ol>
<li> <p><code>"null"</code>: null model
</p>
</li>
<li> <p><code>"ESM"</code>: equal scale values model
</p>
</li>
<li> <p><code>"SAM"</code>: simple averaging model
</p>
</li>
<li> <p><code>"EAM"</code>: equal-weights averaging model
</p>
</li>
<li> <p><code>"DAM"</code>: differential-weight averaging model
</p>
</li>
<li> <p><code>"IC"</code>: information criteria model
</p>
</li></ol>



<h3>Value</h3>

<p>A numeric vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(fmdata1)
fm1 &lt;- rav(fmdata1, lev=c(3,3))
coef(fm1)
coef(fm1, whichModel="EAM")

## End(Not run)</code></pre>

<hr>
<h2 id='datgen'>Generating Noisy Responses for an Averaging Model</h2><span id='topic+datgen'></span>

<h3>Description</h3>

<p>This function generates noisy synthetic responses <code>R</code> for an averaging model given
the true parameters <code>s0</code>, <code>w0</code>, <code>s(k,j)</code>, and <code>w(k,j)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datgen(param, lev, t.par = FALSE, trials = 1, sd = 0, range = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="datgen_+3A_param">param</code></td>
<td>

<p>Numerical vector containing the true parameters for the function, with
the order  <code>s0</code>, <code>w0</code>, <code>s(k,j)</code>, and <code>w(k,j)</code>.
</p>
</td></tr>
<tr><td><code id="datgen_+3A_lev">lev</code></td>
<td>

<p>Vector containing the number of levels of each factor. For instance, two
factors with respectively 3 and 4 levels require <code>lev = c(3,4)</code>.
</p>
</td></tr>
<tr><td><code id="datgen_+3A_t.par">t.par</code></td>
<td>

<p>Attribute that specifies whether the weight parameters should be written in the 't' form or in the 'w' form.
</p>
</td></tr>
<tr><td><code id="datgen_+3A_trials">trials</code></td>
<td>

<p>Number of rows of the output matrix.
</p>
</td></tr>
<tr><td><code id="datgen_+3A_sd">sd</code></td>
<td>

<p>Standard deviation of the noise addded to the responses R whithin each column of the output matrix.
</p>
</td></tr>
<tr><td><code id="datgen_+3A_range">range</code></td>
<td>

<p>Numeric vector. Range of the responses.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>matrix</code> object containing the generated responses of the averaging model, in the order:
one-way design, two-way design, three way design, etc. See <code>rav</code> function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+pargen">pargen</a></code>,
<code><a href="#topic+rav.indices">rav.indices</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Generating random parameters for a 3x4 design:
par &lt;- pargen(lev = c(3,4), s.range = c(0,20))
# Computing the responses:
R &lt;- datgen(param=par, lev=c(3,4), sd=0) ; R
R &lt;- datgen(param=par, lev=c(3,4), sd=1, trials=10, range=c(0,20)) ; R

## End(Not run)</code></pre>

<hr>
<h2 id='fitted'>Extract fitted values from an averaging model</h2><span id='topic+fitted'></span><span id='topic+fitted+2Crav-method'></span>

<h3>Description</h3>

<p>Function to extract fitted values from an object returned by <code>rav</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitted(object, ...)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitted_+3A_object">object</code></td>
<td>
<p>An object of class <code>rav</code> containing an estimated averaging model.</p>
</td></tr>
<tr><td><code id="fitted_+3A_...">...</code></td>
<td>
<p>Optionally more fitted model objects.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the expected responses given an averaging model fitted by the <code>rav</code> function.
</p>
<p>As default, the function extract the fitted values of the (first) best model. The optional
argument <code>whichModel</code> can be specified to extract the values of another model. Options are:
</p>

<ol>
<li> <p><code>"null"</code>: null model
</p>
</li>
<li> <p><code>"ESM"</code>: equal scale values model
</p>
</li>
<li> <p><code>"SAM"</code>: simple averaging model
</p>
</li>
<li> <p><code>"EAM"</code>: equal-weights averaging model
</p>
</li>
<li> <p><code>"DAM"</code>: differential-weight averaging model
</p>
</li>
<li> <p><code>"IC"</code>: information criteria model
</p>
</li></ol>



<h3>Value</h3>

<p>A matrix of numeric values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(rAverage)
data(fmdata1)
fm1 &lt;- rav(fmdata1, lev=c(3,3))
fitted(fm1)
fitted(fm1, whichModel="EAM")

## End(Not run)</code></pre>

<hr>
<h2 id='fmdata1'>rAverage dataset examples</h2><span id='topic+fmdata1'></span><span id='topic+fmdata2'></span><span id='topic+fmdata3'></span>

<h3>Description</h3>

<p>Examples of dataset for R-Average analysis.<br />
fmdata1: example of a 3x3 design. Original parameters:
</p>

<table>
<tr>
 <td style="text-align: left;">
    s0 = 0.0           </td><td style="text-align: left;"> w0 = 0.0 </td>
</tr>
<tr>
 <td style="text-align: left;">
    sA = 12.9 1.5 18.3 </td><td style="text-align: left;"> wA = 1.4 0.3 0.5 </td>
</tr>
<tr>
 <td style="text-align: left;">
    sB =  5.2 5.0  2.3 </td><td style="text-align: left;"> wB = 1.6 1.7 1.7
    </td>
</tr>

</table>

<p>fmdata2: example of a 3x5 design. Original parameters:
</p>

<table>
<tr>
 <td style="text-align: left;">
    s0 = 0.0                      </td><td style="text-align: left;"> w0 = 0.0 </td>
</tr>
<tr>
 <td style="text-align: left;">
    sA = 19.5 15.2  1.9           </td><td style="text-align: left;"> wA = 0.9 1.2 0.6 </td>
</tr>
<tr>
 <td style="text-align: left;">
    sB =  2.0  4.4 16.1  6.1  6.0 </td><td style="text-align: left;"> wB = 1.1 1.0 1.7 0.6 1.3
    </td>
</tr>

</table>

<p>fmdata3: example of a 3x2x3 design. Original parameters:
</p>

<table>
<tr>
 <td style="text-align: left;">
    s0 = 0.0          </td><td style="text-align: left;"> w0 = 0.0 </td>
</tr>
<tr>
 <td style="text-align: left;">
    sA = 5.9 5.2 9.8  </td><td style="text-align: left;"> wA = 0.9 1.1 2.2 </td>
</tr>
<tr>
 <td style="text-align: left;">
    sB = 14.5 2.0     </td><td style="text-align: left;"> wB = 0.5 1.9 </td>
</tr>
<tr>
 <td style="text-align: left;">
    sC = 8.5 1.5 10.7 </td><td style="text-align: left;"> wC = 0.6 0.7 1.4
    </td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>    data(fmdata1)
    data(fmdata2)
    data(fmdata3)
</code></pre>


<h3>Format</h3>

<p>A <code>matrix</code> object.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(fmdata1)
fm1 &lt;- rav(fmdata1, lev=c(3,3))
data(fmdata2)
fm2 &lt;- rav(fmdata2, lev=c(3,5))
data(fmdata3)
fm3 &lt;- rav(fmdata3, lev=c(3,2,3))

## End(Not run)</code></pre>

<hr>
<h2 id='outlier.replace'>Outlier detection and substitution</h2><span id='topic+outlier.replace'></span>

<h3>Description</h3>

<p>Starting by a previously estimated averaging model, this function detect outliers according
to a Bonferroni method. The outliers can be substituted with a user-defined value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outlier.replace(object, whichModel = NULL, alpha = 0.05, value = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="outlier.replace_+3A_object">object</code></td>
<td>

<p>An object of class <code>'rav'</code>, containing the estimated averaging models.
</p>
</td></tr>
<tr><td><code id="outlier.replace_+3A_whichmodel">whichModel</code></td>
<td>

<p>Argument that specifies which of the predicted models has to be compared to the observed data.
Options are:
</p>

<ol>
<li> <p><code>"null"</code>: null model
</p>
</li>
<li> <p><code>"ESM"</code>: equal scale values model
</p>
</li>
<li> <p><code>"SAM"</code>: simple averaging model
</p>
</li>
<li> <p><code>"EAM"</code>: equal-weights averaging model
</p>
</li>
<li> <p><code>"DAM"</code>: differential-weight averaging model
</p>
</li>
<li> <p><code>"IC"</code>: information criteria
</p>
</li></ol>

<p>As default setting, the (first) best model is used.
</p>
</td></tr>
<tr><td><code id="outlier.replace_+3A_alpha">alpha</code></td>
<td>

<p>Critical value for the z-test on residuals.
</p>
</td></tr>
<tr><td><code id="outlier.replace_+3A_value">value</code></td>
<td>

<p>Argument that can be used to set a replacement for the outliers. If a function is specified, it is applied
to each column of the final matrix: the resulting value is used to replace outliers detected on the same column.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data object in which outliers have been removed or replaced.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pasta)
model &lt;- rav(pasta, subset="s04", lev=c(3,3), names=c("Price","Packaging"))
outlier.replace(model, value=mean)
outlier.replace(model, whichModel="IC", value=NA)
</code></pre>

<hr>
<h2 id='pargen'>Generating random parameters for averaging responses</h2><span id='topic+pargen'></span>

<h3>Description</h3>

<p>Generates a random set of parameters that follows an averaging rule.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pargen(lev, s.range = c(0,20), w.range = exp(c(-5,5)),
        I0 = FALSE, t.par = FALSE, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pargen_+3A_lev">lev</code></td>
<td>

<p>Numeric vector. Number of levels of each factor.
</p>
</td></tr>
<tr><td><code id="pargen_+3A_s.range">s.range</code></td>
<td>

<p>Numeric vector. Range of variability of the s-parameters.
</p>
</td></tr>
<tr><td><code id="pargen_+3A_w.range">w.range</code></td>
<td>

<p>Numeric vector. Range of variability of the w-parameters.
</p>
</td></tr>
<tr><td><code id="pargen_+3A_i0">I0</code></td>
<td>

<p>Logical. If set to <code>FALSE</code>, parameter s0 and w0 are set to zero.
If set <code>TRUE</code> initial parameters are free to be estimated.
</p>
</td></tr>
<tr><td><code id="pargen_+3A_t.par">t.par</code></td>
<td>

<p>Specifies if the weight parameters should be the 't' instead the 'w'.
</p>
</td></tr>
<tr><td><code id="pargen_+3A_digits">digits</code></td>
<td>

<p>Numeric. Decimal rounding of the parameters.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector contaning the random-generated parameters in the order <code>s0,w0,s(k,i),w(k,i)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+datgen">datgen</a></code>,
<code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rav.indices">rav.indices</a></code>, 
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generating random parameters for a 3x4 design:
param &lt;- pargen(lev = c(3,4))
</code></pre>

<hr>
<h2 id='pasta'>Pasta experiment</h2><span id='topic+pasta'></span>

<h3>Description</h3>

<p>Data of four subjects from the Pasta experiment. The table contains data of the one-way
sub-designs, folowed by the data of the full-factorial design.
Factors: Price (3 levels: 0.89, 0.99, 1.09) and Packaging (3 levels: box with window, box
without window, plastic bag).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(pasta)</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> object.</p>


<h3>References</h3>

<p>Massidda D., Polezzi D., Vidotto G. (2011). A Functional Measurement approach to cope
the non-linearity of judgments in marketing research. <em>Proceedings of the 10th European
Conference on Research Methodology for Business and Management Studies</em>. Normandy Business
School, Caen, France, 348-354.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pasta)
</code></pre>

<hr>
<h2 id='rav'>Analyzing the Family of the Averaging Models</h2><span id='topic+rav'></span><span id='topic+indices-class'></span><span id='topic+rav-class'></span><span id='topic+show+2Crav-method'></span><span id='topic+show+2Cindices-method'></span><span id='topic+summary+2Crav-method'></span>

<h3>Description</h3>

 
<p><code>rav</code> (<b>R</b>-Average for <b>AV</b>eraging models) is a procedure for estimating
the parameters of the averaging models of Information Integration Theory (Anderson, 1981).
It provides reliable estimations of weights and scale values for a factorial experimental
design (with any number of factors and levels) by selecting the most suitable subset of
the parameters, according to the overall goodness of fit indices and to the complexity
of the design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rav( data, subset = NULL, mean = FALSE, lev, s.range = c(NA,NA),
     w.range = exp(c(-5,5)), I0 = FALSE, par.fixed = NULL, all = FALSE,
     IC.diff = c(2,2), Dt = 0.1, IC.break = FALSE, t.par = FALSE,
     verbose = FALSE, title = NULL, names = NULL, method = "BFGS",
     start = c(s=NA,w=exp(0)), lower = NULL, upper = NULL, control = list() )
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rav_+3A_data">data</code></td>
<td>

<p>An object of type <code>matrix</code>, <code>data.frame</code> or <code>vector</code> containing the
experimental data. Each column corresponds to an experimental design of factorial plan
(in order: one-way design, two-way design, ..., full factorial design; see the example
for further details). Columns must be sorted combining each level of the first factor with
all the levels of the following factors. The first column be used to set an
identification code (ID) to label the subjects (see the attribute <code>subset</code>).
</p>
</td></tr>
<tr><td><code id="rav_+3A_subset">subset</code></td>
<td>

<p>Character, numeric or factor attribute that selects a subset of experimental data for the
analysis (see the examples).
</p>
</td></tr>
<tr><td><code id="rav_+3A_mean">mean</code></td>
<td>

<p>Logical value wich specifies if the analysis must be performed on raw data (<code>mean = FALSE</code>)
or on the average of columns of the data matrix (<code>mean = TRUE</code>).
</p>
</td></tr>
<tr><td><code id="rav_+3A_lev">lev</code></td>
<td>

<p>Vector containing the number of levels of each factor. For instance, two factors
with respectively 3 and 4 levels require <code>lev = c(3,4)</code>.
</p>
</td></tr>
<tr><td><code id="rav_+3A_s.range">s.range</code>, <code id="rav_+3A_w.range">w.range</code></td>
<td>

<p>The range of s and w parameters. Each vector must contains, respectively, the minimum and the
maximum value. For s-parameters, if the default value <code>NA</code> is set, the minimum and the maximum
values of data matrix will be used. For t-parameters, the values exp(-5) and exp(+5) will be used.
This values will be the bounds for parameters in the estimation process when the minimization algorithm
is L-BFGS-B.
The arguments <code>s.range</code> and <code>w.range</code> are a simple and quick way to specify the bounds for
scale and weight parameters. A more complex but complete way is to use the arguments <code>lower</code>
and <code>upper</code>. If <code>lower</code> and <code>upper</code> will be specified, <code>s.range</code> and <code>w.range</code>
will be ignored.
</p>
</td></tr>
<tr><td><code id="rav_+3A_i0">I0</code></td>
<td>

<p>Logical. If set <code>FALSE</code>, the <code>s0</code> and <code>w0</code> parameters are forced to be zero.
If set <code>TRUE</code>, the <code>s0</code> and <code>w0</code> parameters are free to be estimated.
</p>
</td></tr>
<tr><td><code id="rav_+3A_par.fixed">par.fixed</code></td>
<td>

<p>This argument allows to constrain one or more parameters to a specified value. Default
setting to <code>NULL</code> indicates that all the scale and weight parameters will be estimated by the
algorithmic procedure. Alternatively, it can be specified the name of the type of parameters to constrain.
The argument <code>par.fixed = "s"</code> constrains s-parameters, <code>par.fixed = "w"</code> constrains
w-parameters and <code>par.fixed = c("s","w")</code> constrains both s and w parameters. Also, using <code>"t"</code> 
instead of <code>"w"</code> constrains directly t-parameters. in these cases a graphical interface is
displayed and the values can be specified.
</p>
</td></tr>
<tr><td><code id="rav_+3A_all">all</code></td>
<td>

<p>Logical. If set <code>TRUE</code> the information criterion tests all the possible combinations of weights
(see details). The default value <code>FALSE</code> implies a preselection of a subset of combination based
on the results of the previous steps of the algorithm.  WARNING: with <code>all = TRUE</code> the procedure
is generally more time-consuming (depending on the size of the experimental design), but can provide more
reliable estimations than the standard procedure.
</p>
</td></tr>
<tr><td><code id="rav_+3A_ic.diff">IC.diff</code></td>
<td>

<p>Vector containing the cut-off values (of both BIC and AIC indices) at which different
models are considered equivalent. Default setting: BIC difference = 2.0, AIC difference = 2.0
(<code>IC.diff = c(2.0, 2.0)</code>).
</p>
</td></tr>
<tr><td><code id="rav_+3A_dt">Dt</code></td>
<td>

<p>Numeric attribute that set the cut-off value at which different t-parameters must be considered
equal (see details).
</p>
</td></tr>
<tr><td><code id="rav_+3A_ic.break">IC.break</code></td>
<td>

<p>Logical argument which specifies if to run the Information Criteria Procedure.
</p>
</td></tr>
<tr><td><code id="rav_+3A_t.par">t.par</code></td>
<td>

<p>Logical. Specifies if the output must shows the t-parameters instead of the w-parameters.
</p>
</td></tr>
<tr><td><code id="rav_+3A_verbose">verbose</code></td>
<td>

<p>Logical. If set <code>TRUE</code> the function prints general informations for every step of the
information criterion procedure.
</p>
</td></tr>
<tr><td><code id="rav_+3A_title">title</code></td>
<td>

<p>Character. Label to use as title for output.
</p>
</td></tr>
<tr><td><code id="rav_+3A_names">names</code></td>
<td>

<p>Vector of character strings containing the names of the factors.
</p>
</td></tr>
<tr><td><code id="rav_+3A_method">method</code></td>
<td>

<p>The minimization algorithm that has to be used. Options are: &quot;L-BFGS-B&quot;, &quot;BFGS&quot;, &quot;Nelder-Mead&quot;,
&quot;SANN&quot; and &quot;CG&quot;. See <code>optim</code> documentation for further information.
</p>
</td></tr>
<tr><td><code id="rav_+3A_start">start</code></td>
<td>
 
<p>Vector containing the starting values for respectively scale and weight parameters. For the scale
parameters, if the default value <code>NA</code> is set, the mean of data is used as starting value.
For the weight parameters, the starting default value is 1.
</p>
</td></tr>
<tr><td><code id="rav_+3A_lower">lower</code></td>
<td>

<p>Vector containing the lower values for scale and weight parameters when the minimization
routine is L-BFGS-B. With the default setting <code>NULL</code>, s-parameters are set to the
first value specified in <code>s.range</code> while w-parameters are set to the first value specified in
<code>w.range</code>. Values must be specified in the order: <code>s0,w0,s,w</code>. For example, for a
3x3 design, in the <code>lower</code> vector the positions of parameters must be:
<code>s0,w0, sA1,sA2,sA3, sB1,sB2,sB3, wA1,wA2,wA3, wB1,wB2,wB3</code>.
</p>
</td></tr>
<tr><td><code id="rav_+3A_upper">upper</code></td>
<td>

<p>Vector containing the upper values for scale and weight parameters when the minimization
routine is L-BFGS-B. With the default setting <code>NULL</code>, s-parameters are set to the
second value specified in <code>s.range</code> while w-parameters are set to the second value specified in
<code>w.range</code>. Values must be specified in the order: <code>s0,w0,s,w</code>. For example, for a
3x3 design, in the <code>upper</code> vector the positions of parameters must be:
<code>s0,w0, sA1,sA2,sA3, sB1,sB2,sB3, wA1,wA2,wA3, wB1,wB2,wB3</code>.
</p>
</td></tr>
<tr><td><code id="rav_+3A_control">control</code></td>
<td>

<p>A list of control parameters. See the <code>optim</code> documentation for further informations.
<code>control</code> argument can be used to change the maximum iteration number of minimization
routine. To increase the number, use: <code>control=list(maxit=N)</code>, where <code>N</code> is the
number of iterations (100 for default).
</p>
</td></tr>
</table>


<h3>Details</h3>

 
<p>The <code>rav</code> function implements the R-Average method (Vidotto &amp; Vicentini, 2007; Vidotto,
Massidda &amp; Noventa, 2010), for the parameter estimation of averaging models. R-Average consists
of several procedures which compute different models with a progressive increasing degree of complexity:
</p>

<ol>
<li><p> Null Model (null):
identifies a single scale value for all the levels of all factors.
It assumes constant weights.
</p>
</li>
<li><p> Equal scale values model (ESM):
makes a distinction between the scale values of different factors, estimating a single s-parameter
for each factor. It assumes constant weights.
</p>
</li>
<li><p> Simple averaging model (SAM):
estimates different scale values between factors and within the levels of each factor. It assumes
constant weights.
</p>
</li>
<li><p> Equal-weight averaging model (EAM):
differentiates the weighs between factors, but not within the levels of each factor.
</p>
</li>
<li><p> Differential-weight averaging model (DAM):
differentiates the weighs both between factors and within the levels of each factor.
</p>
</li>
<li><p> Information criteria (IC):
the IC procedure starts from the EAM and, step by step, it frees different
combinations of weights, checking whether a new estimated model is better than the previous baseline.
The Occam razor, applied by means of the Akaike and Bayesian information criteria, is used in order to
find a compromise between explanation and parsimony.
</p>
</li></ol>

<p>Finally, only the best model is shown.
</p>
<p>The R-Average procedures estimates both scale values and weight parameters by minimizing the residual sum of
squares of the model. The objective function is then the square of the distance between theoretical responses
and observed responses (Residual Sum of Squares). For a design with <code class="reqn">k</code> factors with <code class="reqn">i</code> levels,
theoretical responses are defined as:
</p>
<p style="text-align: center;"><code class="reqn"> R = \sum (s_{ki} w_{ki}) / \sum w_{ki} </code>
</p>

<p>where any weight parameter <code class="reqn">w</code> is defined as:
</p>
<p style="text-align: center;"><code class="reqn">w = exp(t)</code>
</p>

<p>Optimization is performed on <code class="reqn">t</code>-values, and weights are the exponential transformation of
<code class="reqn">t</code>. See Vidotto (2011) for details.
</p>


<h3>Value</h3>

<p>An object of class <code>"rav"</code>. The method <code>summary</code> applied to the <code>rav</code>
object prints all the fitted models. The functions <code>fitted.values</code>, <code>residuals</code> and
<code>coefficients</code> can be used to extract respectively fitted values (predicted responses), the
matrix of residuals and the set of estimated parameters.
</p>


<h3>Author(s)</h3>

<p><b>Supervisor</b>: Prof. Giulio Vidotto <a href="mailto:giulio.vidotto@unipd.it">giulio.vidotto@unipd.it</a>
</p>
<p>University of Padova, Department of General Psychology<br />
QPLab: Quantitative Psychology Laboratory
</p>
<p><b>version 0.0</b>:<br />
Marco Vicentini <a href="mailto:marco.vicentini@gmail.com">marco.vicentini@gmail.com</a>
</p>
<p><b>version 0.1 and following</b>:<br />
Stefano Noventa <a href="mailto:stefano.noventa@univr.it">stefano.noventa@univr.it</a><br />
Davide Massidda <a href="mailto:davide.massidda@gmail.com">davide.massidda@gmail.com</a><br />
</p>


<h3>References</h3>

<p>Akaike, H. (1976). Canonical correlation analysis of time series and the use
of an information criterion. In: R. K. Mehra &amp; D. G. Lainotis (Eds.),
<em>System identification: Advances and case studies</em> (pp. 52-107). New
York: Academic Press. doi: 10.1016/S0076-5392(08)60869-3
</p>
<p>Anderson, N. H. (1981). <em>Foundations of Information Integration Theory</em>.
New York: Academic Press. doi: 10.2307/1422202
</p>
<p>Anderson, N. H. (1982). <em>Methods of Information Integration Theory</em>. New
York: Academic Press.
</p>
<p>Anderson, N. H. (1991). Contributions to information integration theory:
volume 1: cognition. Lawrence Erlbaum Associates, Hillsdale, New Jersey.
doi: 10.2307/1422884
</p>
<p>Anderson, N. H. (2007). Comment on article of Vidotto and Vicentini.
<em>Teorie &amp; Modelli</em>, Vol. 12 (1-2), 223-224.
</p>
<p>Byrd, R. H., Lu, P., Nocedal, J., &amp; Zhu, C. (1995). A limited memory algorithm
for bound constrained optimization. <em>Journal Scientific Computing</em>, 16,
1190-1208. doi: 10.1137/0916069
</p>
<p>Kuha, J. (2004). AIC and BIC: Comparisons of Assumptions and Performance.
<em>Sociological Methods &amp; Research</em>, 33 (2), 188-229.
</p>
<p>Nelder, J. A., &amp; Mead, R. (1965). A Simplex Method for Function Minimization.
<em>The Computer Journal, 7, 308-313</em>. doi: 10.1093/comjnl/7.4.308
</p>
<p>Vidotto, G., Massidda, D., &amp; Noventa, S. (2010). Averaging models: parameters
estimation with the R-Average procedure. <em>Psicologica</em>, 31, 461-475.
URL https://www.uv.es/psicologica/articulos3FM.10/3Vidotto.pdf
</p>
<p>Vidotto, G. &amp; Vicentini, M. (2007). A general method for parameter
estimation of averaging models. <em>Teorie &amp; Modelli</em>, Vol. 12 (1-2), 211-221.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rAverage-package">rAverage-package</a></code>,
<code><a href="#topic+rav.single">rav.single</a></code>,
<code><a href="#topic+datgen">datgen</a></code>,
<code><a href="#topic+pargen">pargen</a></code>,
<code><a href="#topic+rav.indices">rav.indices</a></code>,
<code><a href="#topic+rav2file">rav2file</a></code>,
<code><a href="#topic+outlier.replace">outlier.replace</a></code>,
<code><a href="stats.html#topic+optim">optim</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# --------------------------------------
# Example 1: 3x3 factorial design
# --------------------------------------
# The first column is filled with a sequence of NA values.
data(fmdata1)
fmdata1
# For a two factors design, the matrix data contains the one-way
# sub-design and the two-ways full factorial design observed data.
# Pay attention to the columns order:
# sub-design: A1, A2, A3, B1, B2, B3
# full factorial: A1B1, A1B2, A1B3, A2B1, A2B2, A2B3, A3B1, A3B2, A3B3
# Start the R-Average procedure:
fm1 &lt;- rav(fmdata1, lev=c(3,3))
# (notice that 'range' argument specifies the range of the response scale)
fm1 # print the best model selected
summary(fm1) # print the fitted models

# To insert the factor names:
fact.names &lt;- c("Name of factor A", "Name of factor B")
fm1 &lt;- rav(fmdata1, lev=c(3,3), names=fact.names)

# To insert a title for the output:
fm1 &lt;- rav(fmdata1, lev=c(3,3), title="Put your title here")

# To supervise the information criterion work flow:
fm1 &lt;- rav(fmdata1, lev=c(3,3), verbose=TRUE)

# To increase the number of iterations of the minimization routine:
fm1 &lt;- rav(fmdata1, lev=c(3,3), control=list(maxit=5000))

# To change the estimation bounds for the scale parameters:
fm1.sMod &lt;- rav(fmdata1, lev=c(3,3), s.range=c(0,20))

# To change the estimation bounds for the weight parameters:
fm1.wMod &lt;- rav(fmdata1, lev=c(3,3), w.range=c(0.01,10))

# To set a fixed value for weights:
fm1.fix &lt;- rav(fmdata1, lev=c(3,3), par.fixed="w")

# rav can work without sub-designs. If any sub-design is not available,
# the corresponding column must be coded with NA values. For example:
fmdata1[,1:3] &lt;- NA
fmdata1
fmdata1 # the A sub-design is empty
fm1.bis &lt;- rav(fmdata1, lev=c(3,3), title="Sub-design A is empty")

# Using a subset of data:
data(pasta)
pasta
# Analyzing "s04" only:
fact.names &lt;- c("Price","Packaging")
fm.subj04 &lt;- rav(pasta, subset="s04", lev=c(3,3), names=fact.names)

# --------------------------------------
# Example 2: 3x5 factorial design
# --------------------------------------
data(fmdata2)
fmdata2 # (pay attention to the columns order)
fm2 &lt;- rav(fmdata2, lev=c(3,5))
# Removing all the one-way sub-design:
fmdata2[,1:8] &lt;- NA
fm2.bis &lt;- rav(fmdata2, lev=c(3,5))

# --------------------------------------
# Example 3: 3x2x3 factorial design
# --------------------------------------
data(fmdata3) # (pay attention to the columns order)
fm3 &lt;- rav(fmdata3, lev=c(3,2,3))
# Removing all the one-way design and the AxC sub-design:
fmdata3[,1:8] &lt;- NA # one-way designs
fmdata3[,15:23] &lt;- NA # AxC design
fm3 &lt;- rav(fmdata3, lev=c(3,2,3))

## End(Not run)</code></pre>

<hr>
<h2 id='rav.grid'>Generating an empty dataset in <code>rav</code> format</h2><span id='topic+rav.grid'></span>

<h3>Description</h3>

<p><code>rav.grid</code> is a function that generates an empty (<code>NA</code>s filled) dataset according to the 'rAverage' format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rav.grid(lev, trials = 1, subset = FALSE, names = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rav.grid_+3A_lev">lev</code></td>
<td>

<p>Vector containing the number of levels of each factor. For instance, two
factors with respectively 3 and 4 levels require <code>lev = c(3,4)</code>.
</p>
</td></tr>
<tr><td><code id="rav.grid_+3A_trials">trials</code></td>
<td>

<p>Number of rows of the output matrix.
</p>
</td></tr>
<tr><td><code id="rav.grid_+3A_subset">subset</code></td>
<td>

<p>Logical. Indicates whether the matrix should contain a first column for subset coding.
</p>
</td></tr>
<tr><td><code id="rav.grid_+3A_names">names</code></td>
<td>

<p>Character. Indicates the column names (optional).
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+pargen">pargen</a></code>,
<code><a href="#topic+datgen">datgen</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rav.grid(lev=c(3,2,3), trials=5, names=c("Hk","Fa","Mg"))
</code></pre>

<hr>
<h2 id='rav.indices'>Fit indices for averaging models</h2><span id='topic+rav.indices'></span>

<h3>Description</h3>

<p>The function <code>fit.indices</code> returns the fit indices for the averaging model given the parameters
<code>s0</code>, <code>w0</code>, <code>s(k,j)</code>, and <code>w(k,j)</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rav.indices(param, lev, data, t.par = FALSE, subset = NULL,
    n.pars = NULL, names = NULL, title = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rav.indices_+3A_param">param</code></td>
<td>

<p>Numerical vector containing the parameters for the function, with the order 
<code>s0</code>, <code>w0</code>, <code>s(k,j)</code>, and <code>w(k,j)</code>.
</p>
</td></tr>
<tr><td><code id="rav.indices_+3A_lev">lev</code></td>
<td>

<p>Vector containing the number of levels of each factor. For instance, two factors with
respectively 3 and 4 levels require <code>lev = c(3,4)</code>.
</p>
</td></tr>
<tr><td><code id="rav.indices_+3A_data">data</code></td>
<td>

<p>A <code>matrix</code> or a <code>data.frame</code> object containing the experimental data.
Each column corresponds to an experimental design (in order: one-way design,
two-way design, ..., full factorial design; see the example for further details).
WARNING: previous versions needed a first column filled with the initial
state values (s0*w0) or <code>NA</code> values. This is no longer valid. Nevertheless, 
the first column can be used to label the data (see the attribute <code>subset</code>).
</p>
</td></tr>
<tr><td><code id="rav.indices_+3A_t.par">t.par</code></td>
<td>

<p>Specifies whether the weight parameters should be the in 't' form or in the 'w' form.
</p>
</td></tr>
<tr><td><code id="rav.indices_+3A_subset">subset</code></td>
<td>

<p>Character, numeric or factor attribute that selects a subset of experimental
data for the analysis (see the examples).
</p>
</td></tr>
<tr><td><code id="rav.indices_+3A_n.pars">n.pars</code></td>
<td>

<p>Number of parameters of the model. If <code>NULL</code>, <code>n.pars</code> will be calculated
from the function.
</p>
</td></tr>
<tr><td><code id="rav.indices_+3A_names">names</code></td>
<td>

<p>Vector of character strings containing the names of the factors.
</p>
</td></tr>
<tr><td><code id="rav.indices_+3A_title">title</code></td>
<td>

<p>Character specifying a title for the output.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the main fit indices (AIC, BIC, R-squared, Adjusted R-squared), the estimated
parameters, the fitted values and the residuals of an averaging model.
</p>


<h3>Value</h3>

<p>An object of class <code>"indices"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(fmdata1)
s &lt;- c(12.9, 1.5, 18.3, 5.2, 5.0, 2.3)
w &lt;- c(1.4, 0.3, 0.5, 1.6, 1.7, 1.7)
param &lt;- c(NA,NA, s, w)
# Estimated model by rav:
fit1 &lt;- rav(fmdata1, lev=c(3,3)) ; fit1
# Fitted model by original parameters:
fit2 &lt;- rav.indices(param=param, lev=c(3,3), data=fmdata1) ; fit2

## End(Not run)</code></pre>

<hr>
<h2 id='rav.single'>Single subject analysis with averaging models</h2><span id='topic+rav.single'></span>

<h3>Description</h3>

<p>Analyzes averaging models for every single subjects in a data matrix and store the estimated
parameters in a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rav.single(data,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rav.single_+3A_data">data</code></td>
<td>

<p>An object of type <code>data.frame</code> containing data. Each column represents an experimental
design of a factorial plan (see the function <code><a href="#topic+rav">rav</a></code> for details). Each
row must contain single-trial responses for each subject. Further, the first column must
contain labels describing an identification code for subjects.
</p>
</td></tr>
<tr><td><code id="rav.single_+3A_...">...</code></td>
<td>

<p>Further arguments for the <code>rav</code> function (the argument <code>subset</code> must not be
specified).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>rav.single</code> function is a wrapper for the <code>rav</code> function. Using <code>rav</code>,
<code>rav.sigle</code> analyzes subjects one at time, specifying time by time a different value for
<code>subset</code>.
</p>


<h3>Value</h3>

<p>A <code>list</code> object in which each slot contains results of a single subject. The ordering of
the subjects is the same as in the input data matrix.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(pasta)
model &lt;- rav.single(pasta,lev=c(3,3))
model$s41 # extracts the subject 's41'

## End(Not run)</code></pre>

<hr>
<h2 id='rav2file'>Export <code>rav</code> results</h2><span id='topic+rav2file'></span>

<h3>Description</h3>

<p>The function exports to a text file the estimated parameters or the model residuals from a call to <code>rav</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rav2file(object, what = c("resid","param"), whichModel = NULL,
         file = file.choose(), sep = ",", dec = ".")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rav2file_+3A_object">object</code></td>
<td>

<p>An object analyzed by the function <code><a href="#topic+rav">rav</a></code>.
</p>
</td></tr>
<tr><td><code id="rav2file_+3A_what">what</code></td>
<td>

<p>Character string indicating which output should be stored in the file, if raw residuals
(<code>what = "resid"</code>) or parameters (<code>what = "param"</code>).
</p>
</td></tr>
<tr><td><code id="rav2file_+3A_whichmodel">whichModel</code></td>
<td>

<p>Argument that specifies from which model values must be extracted.
Options are:
</p>

<ol>
<li> <p><code>"null"</code>: null model
</p>
</li>
<li> <p><code>"ESM"</code>: equal scale values model
</p>
</li>
<li> <p><code>"SAM"</code>: simple averaging model
</p>
</li>
<li> <p><code>"EAM"</code>: equal-weights averaging model
</p>
</li>
<li> <p><code>"DAM"</code>: differential-weight averaging model
</p>
</li>
<li> <p><code>"IC"</code>: information criteria
</p>
</li></ol>

<p>As default setting, the values of the (first) best model are extracted.
</p>
</td></tr>
<tr><td><code id="rav2file_+3A_file">file</code></td>
<td>

<p>A character string naming the file to write. As default, the function opens a mask to
choose or build a file interactively.
</p>
</td></tr>
<tr><td><code id="rav2file_+3A_sep">sep</code></td>
<td>

<p>Field separator string. Values within each row will be separated by this string.
</p>
</td></tr>
<tr><td><code id="rav2file_+3A_dec">dec</code></td>
<td>

<p>String argument used to specify the decimal separator.
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rav.single">rav.single</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(pasta)
model &lt;- rav.single(pasta,lev=c(3,3))
rav2file(model, what="resid", file="PastaResid-1.csv")
rav2file(model, what="resid", file="PastaResid-2.csv", sep=";", dec=",")

## End(Not run)</code></pre>

<hr>
<h2 id='rAverage'>Parameter estimation for the averaging model of Information Integration Theory</h2><span id='topic+rAverage'></span>

<h3>Description</h3>

<p>The R-Average package implements a method to identify the parameters of the
Averagingcmodel of Information Integration Theory (Anderson, 1981),
following the spirit of the so-called &quot;principle of parsimony&quot;.
</p>
<p><em>Name of the parameters</em>:<br />
</p>
<p><code>s0,w0</code>: initial state values of the Averaging Model.<br />
<code>s(k,j)</code>: scale value of the <code>j</code>-th level of <code>k</code>-th factor.<br />
<code>w(k,j)</code>: weight value of the <code>j</code>-th level of <code>k</code>-th factor.<br />
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
        Package: </td><td style="text-align: left;"> rAverage</td>
</tr>
<tr>
 <td style="text-align: left;">
        Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
        Version: </td><td style="text-align: left;"> 0.5-8</td>
</tr>
<tr>
 <td style="text-align: left;">
        Date: </td><td style="text-align: left;"> 2017-07-29</td>
</tr>
<tr>
 <td style="text-align: left;">
        License: </td><td style="text-align: left;"> GNU (version 2 or later)</td>
</tr>
<tr>
 <td style="text-align: left;">
    </td>
</tr>

</table>

<p><em>Functions of the R-Average package</em>:<br />
</p>
<p><code>rav</code>: estimates the parameters for averaging models.<br />
<code>fitted</code>: extracts the predicted values of the best model from a <code>rav</code> object.<br />
<code>residuals</code>: extracts the residuals from a <code>rav</code> object.<br />
<code>coefficients</code>: extracts the parameters from a <code>rav</code> object.<br />
<code>outlier.replace</code>: given an estimated averaging model with the <code>rav</code> function, it
detects and replace outliers from the residual matrix.
<code>rav.indices</code>: given a set of parameters <code>s</code> and <code>w</code> and a matrix of observed
data, it calculates the fit indices for the averaging model.<br />
<code>datgen</code>: returns the responses <code>R</code> for averaging models
given the set of parameters <code>s</code> and <code>w</code>.<br />
<code>pargen</code>: generates pseudorandom parameters for the averaging model.<br />
<code>rav.grid</code>: generates an empty matrix in 'rav' format.<br />
<code>rav.single</code>: single subjects analysis over an aggregated data matrix.<br />
<code>rav2file</code>: store the reesults of <code>rav</code> into a text file.<br />
</p>


<h3>Author(s)</h3>

<p><b>Supervisor</b>: Prof. Giulio Vidotto <a href="mailto:giulio.vidotto@unipd.it">giulio.vidotto@unipd.it</a>
</p>
<p>University of Padova, Department of General Psychology<br />
QPLab: Quantitative Psychology Laboratory
</p>
<p><b>version 0.0</b>:<br />
Marco Vicentini <a href="mailto:marco.vicentini@gmail.com">marco.vicentini@gmail.com</a>
</p>
<p><b>version 0.1 and following</b>:<br />
Stefano Noventa <a href="mailto:stefano.noventa@univr.it">stefano.noventa@univr.it</a><br />
Davide Massidda <a href="mailto:davide.massidda@gmail.com">davide.massidda@gmail.com</a><br />
</p>


<h3>References</h3>

<p>Akaike, H. (1976). Canonical correlation analysis of time series and the use
of an information criterion. In: R. K. Mehra &amp; D. G. Lainotis (Eds.),
<em>System identification: Advances and case studies</em> (pp. 52-107). New
York: Academic Press. doi: 10.1016/S0076-5392(08)60869-3
</p>
<p>Anderson, N. H. (1981). <em>Foundations of Information Integration Theory</em>.
New York: Academic Press. doi: 10.2307/1422202
</p>
<p>Anderson, N. H. (1982). <em>Methods of Information Integration Theory</em>. New
York: Academic Press.
</p>
<p>Anderson, N. H. (1991). Contributions to information integration theory:
volume 1: cognition. Lawrence Erlbaum Associates, Hillsdale, New Jersey.
doi: 10.2307/1422884
</p>
<p>Anderson, N. H. (2007). Comment on article of Vidotto and Vicentini.
<em>Teorie &amp; Modelli</em>, Vol. 12 (1-2), 223-224.
</p>
<p>Byrd, R. H., Lu, P., Nocedal, J., &amp; Zhu, C. (1995). A limited memory algorithm
for bound constrained optimization. <em>Journal Scientific Computing</em>, 16,
1190-1208. doi: 10.1137/0916069
</p>
<p>Kuha, J. (2004). AIC and BIC: Comparisons of Assumptions and Performance.
<em>Sociological Methods &amp; Research</em>, 33 (2), 188-229.
</p>
<p>Nelder, J. A., &amp; Mead, R. (1965). A Simplex Method for Function Minimization.
<em>The Computer Journal, 7, 308-313</em>. doi: 10.1093/comjnl/7.4.308
</p>
<p>Vidotto, G., Massidda, D., &amp; Noventa, S. (2010). Averaging models: parameters
estimation with the R-Average procedure. <em>Psicologica</em>, 31, 461-475.
URL https://www.uv.es/psicologica/articulos3FM.10/3Vidotto.pdf
</p>
<p>Vidotto, G. &amp; Vicentini, M. (2007). A general method for parameter
estimation of averaging models. <em>Teorie &amp; Modelli</em>, Vol. 12 (1-2), 211-221.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+datgen">datgen</a></code>,
<code><a href="#topic+pargen">pargen</a></code>,
<code><a href="#topic+rav.indices">rav.indices</a></code>,
<code><a href="#topic+fmdata1">fmdata1</a></code>,
<code><a href="#topic+pasta">pasta</a></code>,
<code><a href="stats.html#topic+optim">optim</a></code> 
</p>

<hr>
<h2 id='residuals'>Extract residuals from an averaging model</h2><span id='topic+residuals'></span><span id='topic+residuals+2Crav-method'></span>

<h3>Description</h3>

<p>Function to extract residuals from an object returned by <code>rav</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>residuals(object, ...)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="residuals_+3A_object">object</code></td>
<td>
<p>An object of class <code>rav</code> containing an estimated averaging model.</p>
</td></tr>
<tr><td><code id="residuals_+3A_...">...</code></td>
<td>
<p>Optionally more fitted model objects.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the residuals of an averaging model fitted by the <code>rav</code> function. When <code>standard
    = TRUE</code>, residuals will be transformed in z-scale (mean=0 and sd=1 in each column).
</p>
<p>As default, the function extract the residuals of the (first) best model. The optional argument
<code>whichModel</code> can be specified to extract the values of another model. Options are:
</p>

<ol>
<li> <p><code>"null"</code>: null model
</p>
</li>
<li> <p><code>"ESM"</code>: equal scale values model
</p>
</li>
<li> <p><code>"SAM"</code>: simple averaging model
</p>
</li>
<li> <p><code>"EAM"</code>: equal-weights averaging model
</p>
</li>
<li> <p><code>"DAM"</code>: differential-weight averaging model
</p>
</li>
<li> <p><code>"IC"</code>: information criteria model
</p>
</li></ol>



<h3>Value</h3>

<p>A matrix of numeric values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rav">rav</a></code>,
<code><a href="#topic+rAverage-package">rAverage-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(fmdata1)
fm1 &lt;- rav(fmdata1, lev=c(3,3))
residuals(fm1)
residuals(fm1, whichModel="EAM")
residuals(fm1, whichModel="EAM", standard=TRUE)

## End(Not run)</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package RcppExamples</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RcppExamples}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RcppExamples-package'>
<p>Examples for the Rcpp R/C++ Interface library</p></a></li>
<li><a href='#RcppDataFrame'><p>Rcpp::DataFrame example for Rcpp</p></a></li>
<li><a href='#RcppDateExample'><p>C++ classes for interfacing date and datetime R objects</p></a></li>
<li><a href='#RcppListExample'><p>Examples of uses of List</p></a></li>
<li><a href='#RcppMatrixExample'><p>Example of using Rcpp NumericMatrix</p></a></li>
<li><a href='#RcppNumericVectorExample'><p>Rcpp NumericVector example</p></a></li>
<li><a href='#RcppRNGsExample'><p>Rcpp RNGs example</p></a></li>
<li><a href='#RcppStringVectorExample'><p>Example of using Rcpp StringVector (aka CharacterVector)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Examples using 'Rcpp' to Interface R and C++</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-08-24</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk Eddelbuettel and Romain Francois</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dirk Eddelbuettel &lt;edd@debian.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Examples for Seamless R and C++ integration
 The 'Rcpp' package contains a C++ library that facilitates the integration of
 R and C++ in various ways. This package provides some usage examples.
 Note that the documentation in this package currently does not cover all the
 features in the package. The site <a href="http://gallery.rcpp.org">http://gallery.rcpp.org</a> regroups a large
 number of examples for 'Rcpp'.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://dirk.eddelbuettel.com/code/rcpp.examples.html">http://dirk.eddelbuettel.com/code/rcpp.examples.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/eddelbuettel/rcppexamples/issues">https://github.com/eddelbuettel/rcppexamples/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-08-24 21:49:30.502777 UTC; edd</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-08-24 22:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='RcppExamples-package'>
Examples for the Rcpp R/C++ Interface library
</h2><span id='topic+RcppExamples-package'></span><span id='topic+RcppExamples'></span>

<h3>Description</h3>

<p>This package shows some simple examples for the use of <span class="pkg">Rcpp</span>.
</p>
<p>It can also serve as a working template to create packages that use
<span class="pkg">Rcpp</span> to interface C++ code or libraries.
</p>


<h3>Details</h3>

<p>The <span class="pkg">Rcpp</span> package provides a number of C++ classes that ease
access to C++ from R. This comprises both passing parameters to
functions, as well as returning results back from C++ to R.
</p>
<p>The <span class="pkg">RcppExamples</span> package provides some simple examples for use
of <span class="pkg">Rcpp</span>. At this point the documentation is not complete in the
sense of not covering all accessible classes. However, several basic
use cases are illustrated,
</p>


<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>See Also</h3>

<p>The <a href="http://gallery.rcpp.org">http://gallery.rcpp.org</a> site regroups a number of examples.
</p>

<hr>
<h2 id='RcppDataFrame'>Rcpp::DataFrame example for Rcpp</h2><span id='topic+RcppDataFrame'></span>

<h3>Description</h3>

<p>A <code>DataFrame</code> can be passed C++ and can be instantiated as a
corresponding C++ object using the Rcpp API. 
</p>
<p>This example shows (in the corresponding C++ code) how to access,
modify and create a data frame.
</p>


<h3>Details</h3>

<p>Usage of <code>Rcpp::DataFrame</code> is fully defined in
the respective header file.
</p>
<p>The C++ source file corresponding to the this function does the
following:
</p>
<pre>
      // we receive a 'DF' data.frame object
      // and access each column by name
      Rcpp::IntegerVector a = DF["a"];
      Rcpp::CharacterVector b = DF["b"];
      Rcpp::DateVector c = DF["c"];
      
      // do something
      a[2] = 42;
      b[1] = "foo";
      c[0] = c[0] + 7;                      // move up a week

      // create a new data frame
      Rcpp::DataFrame NDF = 
	  Rcpp::DataFrame::create(Rcpp::Named("a")=a,
				  Rcpp::Named("b")=b,
				  Rcpp::Named("c")=c);

      // and return old and new in list
      return(Rcpp::List::create(Rcpp::Named("origDataFrame")=DF,
				Rcpp::Named("newDataFrame")=NDF));
  </pre>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel and Romain Francois</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## Not run: 
  RcppDataFrame()
  
## End(Not run)
</code></pre>

<hr>
<h2 id='RcppDateExample'>C++ classes for interfacing date and datetime R objects</h2><span id='topic+RcppDateExample'></span>

<h3>Description</h3>

<p>Rcpp has the classes <code>Rcpp::Date</code>, <code>Rcpp::Datetime</code>, 
<code>Rcpp::DateVector</code> and <code>Rcpp::DatetimeVector</code>.
</p>


<h3>Details</h3>

<p>In the <code>C++</code> code for the <code>RcppDateExample.cpp</code> file: 
</p>
<pre>
        // [[Rcpp::export]]
        List DateExample(DateVector &amp; dv, DatetimeVector &amp; dtv) {
            Function formatDate("format.Date");
            Function formatDatetime("format.POSIXct");
            
            Rprintf("\nIn C++, seeing the following date value\n");
            for (int i=0; i&lt;dv.size(); i++) {
                Rcout &lt;&lt; as&lt;std::string&gt;(formatDate(wrap(dv[i]))) &lt;&lt; std::endl;
                dv[i] = dv[i] + 7;		// shift a week
            }
            Rprintf("\nIn C++, seeing the following datetime value\n");
            for (int i=0; i&lt;dtv.size(); i++) {
                Rcout &lt;&lt; as&lt;std::string&gt;(formatDatetime(wrap(dtv[i]))) &lt;&lt; std::endl;
                dtv[i] = dtv[i] + 0.250;    // shift 250 millisec
            }
            
           // Build result set to be returned as a list to R.
           return List::create(Named("date",   dv),
                               Named("datetime", dtv));
        }
    
    </pre>


<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>References</h3>

<p><em>Writing R Extensions</em>, available at <a href="https://www.r-project.org">https://www.r-project.org</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# set up date and datetime vectors
dvec &lt;- Sys.Date() + -2:2
dtvec &lt;- Sys.time() + (-2:2)*0.5

# call the underlying  C++ function
result &lt;- RcppDateExample(dvec, dtvec)

# inspect returned object
result
</code></pre>

<hr>
<h2 id='RcppListExample'>Examples of uses of List</h2><span id='topic+RcppListExample'></span>

<h3>Description</h3>

<p><code>List</code> is an <code>Rcpp</code> class that can be used to manipulate R lists.  
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="RcppListExample_+3A_params">params</code></td>
<td>
<p>A heterogeneous list specifying <code>method</code> (string),
<code>tolerance</code> (double), <code>maxIter</code> (int) and <code>startDate</code>
(Date in R, RcppDate in C++).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>RcppListExample</code> returns a list containing:
</p>
<table>
<tr><td><code>method</code></td>
<td>
<p>string input paramter</p>
</td></tr>
<tr><td><code>tolerance</code></td>
<td>
<p>double input paramter</p>
</td></tr>
<tr><td><code>maxIter</code></td>
<td>
<p>int input parameter</p>
</td></tr>
<tr><td><code>startDate</code></td>
<td>
<p>Date type with starting date</p>
</td></tr>
<tr><td><code>params</code></td>
<td>
<p>input parameter list (this is redundant because we
returned the input parameters above)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>References</h3>

<p><em>Writing R Extensions</em>, available at <a href="https://www.r-project.org">https://www.r-project.org</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# set up some value
params &lt;- list(method='BFGS',
               tolerance=1.0e-5,
               maxIter=100,
               startDate=as.Date('2006-7-15'))

# call the underlying  C++ function
result &lt;- RcppListExample(params)

# inspect returned object
result

</code></pre>

<hr>
<h2 id='RcppMatrixExample'>Example of using Rcpp NumericMatrix</h2><span id='topic+RcppMatrixExample'></span>

<h3>Description</h3>

<p>The <code>NumericMatrix</code> class represents numeric matrices
</p>


<h3>Details</h3>

<p>The <code>C++</code> code presented in the <code>MatrixExample.cpp</code> file: 
</p>
<pre>
        #include &lt;Rcpp.h&gt;
        #include &lt;cmath&gt;
        
        // suncc needs help to disambiguate between sqrt( float ) and sqrt(double) 
        inline static double sqrt_double(double x) { return ::sqrt(x); }
        
        using namespace Rcpp; 
        
        // [[Rcpp::export]]
        List MatrixExample(const NumericMatrix &amp; orig) {
            NumericMatrix mat(orig.nrow(), orig.ncol());	
        
            // we could query size via
            //   int n = mat.nrow(), k=mat.ncol();
            // and loop over the elements, but using the STL is so much nicer
            // so we use a STL transform() algorithm on each element
            std::transform(orig.begin(), orig.end(), mat.begin(), sqrt_double );

            return List::create(Named("result") = mat, 
                                Named("original") = orig);
        }
    
    </pre>


<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>References</h3>

<p><em>Writing R Extensions</em>, available at <a href="https://www.r-project.org">https://www.r-project.org</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
M &lt;- matrix((1:16)^2, 4)
RcppMatrixExample(M)

</code></pre>

<hr>
<h2 id='RcppNumericVectorExample'>Rcpp NumericVector example</h2><span id='topic+RcppNumericVectorExample'></span>

<h3>Description</h3>

<p>Example on how to use a NumericVector and manipulate it with the STL. 
</p>


<h3>Details</h3>

<pre>
    NumericVector orig ;                 // from R
    NumericVector vec(orig.size());	 // create a target vector of the same size
    
    // we could query size via
    //   int n = vec.size();
    // and loop over the vector, but using the STL is so much nicer
    // so we use a STL transform() algorithm on each element
    std::transform(orig.begin(), orig.end(), vec.begin(), sqrt_double );

    return List::create(Named("result") = vec, 
                        Named("original") = orig);
  </pre>
<p>As shown in the example section, provided the seed is reset, the exact
same draws can be obtained in R itself &ndash; which is important for reproducibility.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel and Romain Francois</p>


<h3>Examples</h3>

<pre><code class='language-R'>    RcppNumericVectorExample(seq(1,9)^2)
</code></pre>

<hr>
<h2 id='RcppRNGsExample'>Rcpp RNGs example</h2><span id='topic+RcppRNGsExample'></span>

<h3>Description</h3>

<p>Rcpp sugar provides numerous p/q/d/r functions for numerous distributions.
</p>
<p>This example shows (in the corresponding C++ code) how to draw from
three different distributions and returns a data frame.
</p>


<h3>Details</h3>

<p>The various header file, and the Rcpp sugar vignette, provide full
documentation for Rcpp sugar.
</p>
<p>The C++ source file corresponding to the this function does the
following:
</p>
<pre>
        int n;  	// length passed in from R
    
        NumericVector rn = rnorm(n);
        NumericVector rt = rt(n, 1.0);
        NumericVector rp = rpois(n, 1.0);

        // create a new data frame to return drawns
       return DataFrame::create(Named("rnorm") = xn,
                                Named("rt")    = xt,
                                Named("rpois") = xp);
  </pre>
<p>As shown in the example section, provided the seed is reset, the exact
same draws can be obtained in R itself &ndash; which is important for reproducibility.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel and Romain Francois</p>


<h3>Examples</h3>

<pre><code class='language-R'>  set.seed(42)
  X &lt;- RcppRNGsExample(10L)
  set.seed(42)
  Y &lt;- data.frame(rnorm=rnorm(10),rt=rt(10,1),rpois=rpois(10,1))
  all.equal(X,Y)
</code></pre>

<hr>
<h2 id='RcppStringVectorExample'>Example of using Rcpp StringVector (aka CharacterVector) </h2><span id='topic+RcppStringVectorExample'></span>

<h3>Description</h3>

<p>The <code>StringVector</code> (aka <code>CharacterVector</code>)
class represents character vectors. 
</p>


<h3>Details</h3>

<p>The <code>C++</code> code presented in the <code>StringVectorExample.cpp</code> file: 
</p>
<pre>
        #include &lt;Rcpp.h&gt;
        using namespace Rcpp ;
        
        // [[Rcpp::export]]
        List StringVectorExample(const StringVector &amp; orig) {
            StringVector vec(orig.size());	
        
            std::transform(orig.begin(), orig.end(), vec.begin(), 
        		   make_string_transformer(tolower));
        
            return List::create(Named("result")   = vec,
                                Named("original") = orig);
        }

    </pre>


<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>References</h3>

<p><em>Writing R Extensions</em>, available at <a href="https://www.r-project.org">https://www.r-project.org</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  RcppStringVectorExample(c("Tick", "Tack", "Tock"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

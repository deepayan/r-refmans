<!DOCTYPE html><html><head><title>Help for package progressr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="/home/deepayan/Rinstall/R-devel/lib/R/doc/html/R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {progressr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#global_progression_handler'><p>A Global Calling Handler For 'progression':s</p></a></li>
<li><a href='#handler_ascii_alert'><p>Progression Handler: Progress Reported as ASCII BEL Symbols (Audio or Blink) in the Terminal</p></a></li>
<li><a href='#handler_beepr'><p>Progression Handler: Progress Reported as 'beepr' Sounds (Audio)</p></a></li>
<li><a href='#handler_cli'><p>Progression Handler: Progress Reported via 'cli' Progress Bars (Text) in the Terminal</p></a></li>
<li><a href='#handler_debug'><p>Progression Handler: Progress Reported as Debug Information (Text) in the Terminal</p></a></li>
<li><a href='#handler_filesize'><p>Progression Handler: Progress Reported as the Size of a File on the File System</p></a></li>
<li><a href='#handler_newline'><p>Progression Handler: Progress Reported as a New Line (Text) in the Terminal</p></a></li>
<li><a href='#handler_notifier'><p>Progression Handler: Progress Reported via the Operating-System Notification Framework (GUI, Text)</p></a></li>
<li><a href='#handler_pbcol'><p>Progression Handler: Progress Reported as an ANSI Background Color in the Terminal</p></a></li>
<li><a href='#handler_pbmcapply'><p>Progression Handler: Progress Reported via 'pbmcapply' Progress Bars (Text) in the Terminal</p></a></li>
<li><a href='#handler_progress'><p>Progression Handler: Progress Reported via 'progress' Progress Bars (Text) in the Terminal</p></a></li>
<li><a href='#handler_rpushbullet'><p>Progression Handler: Progress Reported via the Pushbullet Messaging Service</p></a></li>
<li><a href='#handler_rstudio'><p>Progression Handler: Progress Reported in the RStudio Console</p></a></li>
<li><a href='#handler_shiny'><p>Progression Handler: Progress Reported via 'shiny' Widgets (GUI) in the HTML Browser</p></a></li>
<li><a href='#handler_tkprogressbar'><p>Progression Handler: Progress Reported as a Tcl/Tk Progress Bars in the GUI</p></a></li>
<li><a href='#handler_txtprogressbar'><p>Progression Handler: Progress Reported as Plain Progress Bars (Text) in the Terminal</p></a></li>
<li><a href='#handler_void'><p>Progression Handler: No Progress Report</p></a></li>
<li><a href='#handler_winprogressbar'><p>Progression Handler: Progress Reported as a MS Windows Progress Bars in the GUI</p></a></li>
<li><a href='#handlers'><p>Control How Progress is Reported</p></a></li>
<li><a href='#make_progression_handler'><p>Creates a Progression Calling Handler</p></a></li>
<li><a href='#progress'><p>Creates and Signals a Progression Condition</p></a></li>
<li><a href='#progress_aggregator'><p>Aggregate Progression Conditions</p></a></li>
<li><a href='#progress_progressr'><p>Use Progressr with Plyr Map-Reduce Functions</p></a></li>
<li><a href='#progression'><p>A Progression Condition</p></a></li>
<li><a href='#progressor'><p>Create a Progressor Function that Signals Progress Updates</p></a></li>
<li><a href='#progressr'><p>progressr: A Unifying API for Progress Updates</p></a></li>
<li><a href='#progressr.options'><p>Options and environment variables used by the 'progressr' packages</p></a></li>
<li><a href='#register_global_progression_handler'><p>Add or Remove a Global 'progression' Handler</p></a></li>
<li><a href='#slow_sum'><p>Slowly Calculate Sum of Elements</p></a></li>
<li><a href='#with_progress'><p>Report on Progress while Evaluating an R Expression</p></a></li>
<li><a href='#withProgressShiny'><p>Use Progressr in Shiny Apps: Plug-in Backward-Compatible Replacement for shiny::withProgress()</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.14.0</td>
</tr>
<tr>
<td>Title:</td>
<td>An Inclusive, Unifying API for Progress Updates</td>
</tr>
<tr>
<td>Description:</td>
<td>A minimal, unifying API for scripts and packages to report progress updates from anywhere including when using parallel processing.  The package is designed such that the developer can to focus on what progress should be reported on without having to worry about how to present it.  The end user has full control of how, where, and when to render these progress updates, e.g. in the terminal using utils::txtProgressBar(), cli::cli_progress_bar(), in a graphical user interface using utils::winProgressBar(), tcltk::tkProgressBar() or shiny::withProgress(), via the speakers using beepr::beep(), or on a file system via the size of a file. Anyone can add additional, customized, progression handlers. The 'progressr' package uses R's condition framework for signaling progress updated. Because of this, progress can be reported from almost anywhere in R, e.g. from classical for and while loops, from map-reduce API:s like the lapply() family of functions, 'purrr', 'plyr', and 'foreach'. It will also work with parallel processing via the 'future' framework, e.g. future.apply::future_lapply(), furrr::future_map(), and 'foreach' with 'doFuture'. The package is compatible with Shiny applications.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>digest, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>graphics, tcltk, beepr, cli, crayon, pbmcapply, progress,
purrr, foreach, plyr, doFuture, future, future.apply, furrr,
RPushbullet, rstudioapi, shiny, commonmark, base64enc, tools</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>progressr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://progressr.futureverse.org">https://progressr.futureverse.org</a>,
<a href="https://github.com/HenrikBengtsson/progressr">https://github.com/HenrikBengtsson/progressr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/HenrikBengtsson/progressr/issues">https://github.com/HenrikBengtsson/progressr/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-10 12:56:44 UTC; henrik</td>
</tr>
<tr>
<td>Author:</td>
<td>Henrik Bengtsson [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Henrik Bengtsson &lt;henrikb@braju.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-10 22:50:02 UTC</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; ; 2024-01-02 07:26:21 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='global_progression_handler'>A Global Calling Handler For 'progression':s</h2><span id='topic+global_progression_handler'></span>

<h3>Description</h3>

<p>A Global Calling Handler For 'progression':s
</p>


<h3>Usage</h3>

<pre><code class='language-R'>global_progression_handler(condition)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="global_progression_handler_+3A_condition">condition</code></td>
<td>
<p>A logical scalar or a condition object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing.
</p>


<h3>Requirements</h3>

<p>This function requires R (&gt;= 4.0.0) - the version in which global calling
handlers where introduces.
</p>

<hr>
<h2 id='handler_ascii_alert'>Progression Handler: Progress Reported as ASCII BEL Symbols (Audio or Blink) in the Terminal</h2><span id='topic+handler_ascii_alert'></span>

<h3>Description</h3>

<p>A progression handler based on <code>cat("\a", file=stderr())</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_ascii_alert(
  symbol = "\a",
  file = stderr(),
  intrusiveness = getOption("progressr.intrusiveness.audio", 5),
  target = c("terminal", "audio"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_ascii_alert_+3A_symbol">symbol</code></td>
<td>
<p>(character string) The character symbol to be outputted,
which by default is the ASCII BEL character (<code>'\a'</code> = <code>'\007'</code>) character.</p>
</td></tr>
<tr><td><code id="handler_ascii_alert_+3A_file">file</code></td>
<td>
<p>(connection) A <a href="base.html#topic+connections">base::connection</a> to where output should be sent.</p>
</td></tr>
<tr><td><code id="handler_ascii_alert_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_ascii_alert_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_ascii_alert_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>handlers("ascii_alert")
with_progress({ y &lt;- slow_sum(1:10) })
print(y)
</code></pre>

<hr>
<h2 id='handler_beepr'>Progression Handler: Progress Reported as 'beepr' Sounds (Audio)</h2><span id='topic+handler_beepr'></span>

<h3>Description</h3>

<p>A progression handler for <code><a href="beepr.html#topic+beep">beepr::beep()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_beepr(
  initiate = 2L,
  update = 10L,
  finish = 11L,
  interrupt = 9L,
  intrusiveness = getOption("progressr.intrusiveness.audio", 5),
  target = "audio",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_beepr_+3A_initiate">initiate</code>, <code id="handler_beepr_+3A_update">update</code>, <code id="handler_beepr_+3A_finish">finish</code>, <code id="handler_beepr_+3A_interrupt">interrupt</code></td>
<td>
<p>(integer) Indices of <code><a href="beepr.html#topic+beep">beepr::beep()</a></code>
sounds to play when progress starts, is updated, completes, or is
interrupted.  For silence, use <code>NA_integer_</code>.</p>
</td></tr>
<tr><td><code id="handler_beepr_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_beepr_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_beepr_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">beepr</span> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("beepr", quietly = TRUE)) {

  handlers("beepr")
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
  
}
</code></pre>

<hr>
<h2 id='handler_cli'>Progression Handler: Progress Reported via 'cli' Progress Bars (Text) in the Terminal</h2><span id='topic+handler_cli'></span>

<h3>Description</h3>

<p>A progression handler for <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_cli(
  show_after = 0,
  intrusiveness = getOption("progressr.intrusiveness.terminal", 1),
  target = "terminal",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_cli_+3A_show_after">show_after</code></td>
<td>
<p>(numeric) Number of seconds to wait before displaying
the progress bar.</p>
</td></tr>
<tr><td><code id="handler_cli_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_cli_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_cli_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">cli</span> package.
</p>


<h3>Appearance</h3>

<p>Below are a few examples on how to use and customize this progress handler.
In all cases, we use <code>handlers(global = TRUE)</code>.
</p>
<div class="sourceCode r"><pre>handlers("cli")
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_cli-default.svg" alt="handler_cli-default.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_cli(format = "{cli::pb_spin} {cli::pb_bar} {cli::pb_current}/{cli::pb_total} {cli::pb_status}"))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_cli-format-1.svg" alt="handler_cli-format-1.svg" />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("cli", quietly = TRUE)) {
  handlers(handler_cli(format = "{cli::pb_spin} {cli::pb_bar} {cli::pb_percent} {cli::pb_status}"))
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
}
</code></pre>

<hr>
<h2 id='handler_debug'>Progression Handler: Progress Reported as Debug Information (Text) in the Terminal</h2><span id='topic+handler_debug'></span>

<h3>Description</h3>

<p>Progression Handler: Progress Reported as Debug Information (Text) in the Terminal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_debug(
  interval = getOption("progressr.interval", 0),
  intrusiveness = getOption("progressr.intrusiveness.debug", 0),
  target = "terminal",
  uuid = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_debug_+3A_interval">interval</code></td>
<td>
<p>(numeric) The minimum time (in seconds) between
successive progression updates from this handler.</p>
</td></tr>
<tr><td><code id="handler_debug_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_debug_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_debug_+3A_uuid">uuid</code></td>
<td>
<p>If TRUE, then the progressor UUID and the owner UUID are shown,
otherwise not (default).</p>
</td></tr>
<tr><td><code id="handler_debug_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Appearance</h3>

<p>Below is how this progress handler renders by default at 0%, 30% and 99%
progress:
</p>
<p>With <code>handlers(handler_debug())</code>:
</p>
<div class="sourceCode r"><pre>[21:27:11.236] (0.000s =&gt; +0.001s) initiate: 0/100 (+0) '' {clear=TRUE, enabled=TRUE, status=}
[21:27:11.237] (0.001s =&gt; +0.000s) update: 0/100 (+0) 'Starting' {clear=TRUE, enabled=TRUE, status=}
[21:27:14.240] (3.004s =&gt; +0.002s) update: 30/100 (+30) 'Importing' {clear=TRUE, enabled=TRUE, status=}
[21:27:16.245] (5.009s =&gt; +0.001s) update: 100/100 (+70) 'Summarizing' {clear=TRUE, enabled=TRUE, status=}
[21:27:16.246] (5.010s =&gt; +0.003s) update: 100/100 (+0) 'Summarizing' {clear=TRIE, enabled=TRUE, status=}
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>handlers("debug")
with_progress({ y &lt;- slow_sum(1:10) })
print(y)
</code></pre>

<hr>
<h2 id='handler_filesize'>Progression Handler: Progress Reported as the Size of a File on the File System</h2><span id='topic+handler_filesize'></span>

<h3>Description</h3>

<p>Progression Handler: Progress Reported as the Size of a File on the File System
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_filesize(
  file = "default.progress",
  intrusiveness = getOption("progressr.intrusiveness.file", 5),
  target = "file",
  enable = getOption("progressr.enable", TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_filesize_+3A_file">file</code></td>
<td>
<p>(character) A filename.</p>
</td></tr>
<tr><td><code id="handler_filesize_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_filesize_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_filesize_+3A_enable">enable</code></td>
<td>
<p>(logical) If FALSE, then progress is not reported.</p>
</td></tr>
<tr><td><code id="handler_filesize_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This progression handler reports progress by updating the size of a file
on the file system. This provides a convenient way for an R script running
in batch mode to report on the progress such that the user can peek at the
file size (by default in 0-100 bytes) to assess the amount of the progress
made, e.g. <code style="white-space: pre;">&#8288;ls -l -- *.progress&#8288;</code>.
If the &lsquo;<span class="file">*.progress</span>&rsquo; file is accessible via for instance SSH, SFTP,
FTPS, HTTPS, etc., then progress can be assessed from a remote location.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
handlers(handler_filesize(file = "myscript.progress"))
with_progress(y &lt;- slow_sum(1:100))
print(y)

## End(Not run)

</code></pre>

<hr>
<h2 id='handler_newline'>Progression Handler: Progress Reported as a New Line (Text) in the Terminal</h2><span id='topic+handler_newline'></span>

<h3>Description</h3>

<p>Progression Handler: Progress Reported as a New Line (Text) in the Terminal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_newline(
  symbol = "\n",
  file = stderr(),
  intrusiveness = getOption("progressr.intrusiveness.debug", 0),
  target = "terminal",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_newline_+3A_symbol">symbol</code></td>
<td>
<p>(character string) The character symbol to be outputted,
which by default is the ASCII NL character (<code>'\n'</code> = <code>'\013'</code>) character.</p>
</td></tr>
<tr><td><code id="handler_newline_+3A_file">file</code></td>
<td>
<p>(connection) A <a href="base.html#topic+connections">base::connection</a> to where output should be sent.</p>
</td></tr>
<tr><td><code id="handler_newline_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_newline_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_newline_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='handler_notifier'>Progression Handler: Progress Reported via the Operating-System Notification Framework (GUI, Text)</h2><span id='topic+handler_notifier'></span>

<h3>Description</h3>

<p>A progression handler for <code>notify()</code> of the <span class="pkg">notifier</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_notifier(
  intrusiveness = getOption("progressr.intrusiveness.notifier", 10),
  target = "gui",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_notifier_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_notifier_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_notifier_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">notifier</span> package, which is only
available from <a href="https://github.com/gaborcsardi/notifier">https://github.com/gaborcsardi/notifier</a>.  This can be
installed as <code>remotes::install_github("gaborcsardi/notifier@62d484")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pkg &lt;- "notifier"
if (requireNamespace(pkg, quietly = TRUE)) {

  handlers("notifier")
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
  
}
</code></pre>

<hr>
<h2 id='handler_pbcol'>Progression Handler: Progress Reported as an ANSI Background Color in the Terminal</h2><span id='topic+handler_pbcol'></span>

<h3>Description</h3>

<p>Progression Handler: Progress Reported as an ANSI Background Color in the Terminal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_pbcol(
  adjust = 0,
  pad = 1L,
  complete = function(s) cli::bg_blue(cli::col_white(s)),
  incomplete = function(s) cli::bg_cyan(cli::col_white(s)),
  intrusiveness = getOption("progressr.intrusiveness.terminal", 1),
  target = "terminal",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_pbcol_+3A_adjust">adjust</code></td>
<td>
<p>(numeric) The adjustment of the progress update,
where <code>adjust = 0</code> positions the message to the very left, and
<code>adjust = 1</code> positions the message to the very right.</p>
</td></tr>
<tr><td><code id="handler_pbcol_+3A_pad">pad</code></td>
<td>
<p>(integer) Amount of padding on each side of the message,
where padding is done by spaces.</p>
</td></tr>
<tr><td><code id="handler_pbcol_+3A_complete">complete</code>, <code id="handler_pbcol_+3A_incomplete">incomplete</code></td>
<td>
<p>(function) Functions that take &quot;complete&quot; and
&quot;incomplete&quot; strings that comprise the progress bar as input and annotate
them to reflect their two different parts.  The default is to annotation
them with two different background colors and the same foreground color
using the <span class="pkg">cli</span> package.</p>
</td></tr>
<tr><td><code id="handler_pbcol_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_pbcol_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_pbcol_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">cli</span> package.
</p>


<h3>Appearance</h3>

<p>Below are a few examples on how to use and customize this progress handler.
In all cases, we use <code>handlers(global = TRUE)</code>.
</p>
<div class="sourceCode r"><pre>handlers("pbcol")
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_pbcol-default.svg" alt="handler_pbcol-default.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_pbcol(adjust = 0.5))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_pbcol-adjust-mid.svg" alt="handler_pbcol-adjust-mid.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_pbcol(
  adjust = 1,
  complete = function(s) cli::bg_red(cli::col_black(s)),
  incomplete = function(s) cli::bg_cyan(cli::col_black(s))
))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_pbcol-adjust-right-complete.svg" alt="handler_pbcol-adjust-right-complete.svg" />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>handlers(handler_pbcol)
with_progress({ y &lt;- slow_sum(1:10) })
print(y)
</code></pre>

<hr>
<h2 id='handler_pbmcapply'>Progression Handler: Progress Reported via 'pbmcapply' Progress Bars (Text) in the Terminal</h2><span id='topic+handler_pbmcapply'></span>

<h3>Description</h3>

<p>A progression handler for <code><a href="pbmcapply.html#topic+progressBar">pbmcapply::progressBar()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_pbmcapply(
  char = "=",
  substyle = 3L,
  style = "ETA",
  file = stderr(),
  intrusiveness = getOption("progressr.intrusiveness.terminal", 1),
  target = "terminal",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_pbmcapply_+3A_char">char</code></td>
<td>
<p>(character) The symbols to form the progress bar for
<code><a href="utils.html#topic+txtProgressBar">utils::txtProgressBar()</a></code>.</p>
</td></tr>
<tr><td><code id="handler_pbmcapply_+3A_substyle">substyle</code></td>
<td>
<p>(integer) The progress-bar substyle according to
<code><a href="pbmcapply.html#topic+progressBar">pbmcapply::progressBar()</a></code>.</p>
</td></tr>
<tr><td><code id="handler_pbmcapply_+3A_style">style</code></td>
<td>
<p>(character) The progress-bar style according to</p>
</td></tr>
<tr><td><code id="handler_pbmcapply_+3A_file">file</code></td>
<td>
<p>(connection) A <a href="base.html#topic+connections">base::connection</a> to where output should be sent.</p>
</td></tr>
<tr><td><code id="handler_pbmcapply_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_pbmcapply_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_pbmcapply_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">pbmcapply</span> package.
</p>


<h3>Appearance</h3>

<p>Below are a few examples on how to use and customize this progress handler.
In all cases, we use <code>handlers(global = TRUE)</code>.
Since <code>style = "txt"</code> corresponds to using <code><a href="progressr.html#topic+handler_txtprogressbar">handler_txtprogressbar()</a></code>
with <code>style = substyle</code>, the main usage of this handler is with
<code>style = "ETA"</code> (default) for which <code>substyle</code> is ignored.
</p>
<div class="sourceCode r"><pre>handlers("pbmcapply")
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_pbmcapply-default.svg" alt="handler_pbmcapply-default.svg" />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("pbmcapply", quietly = TRUE)) {

  handlers("pbmcapply")
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
  
}
</code></pre>

<hr>
<h2 id='handler_progress'>Progression Handler: Progress Reported via 'progress' Progress Bars (Text) in the Terminal</h2><span id='topic+handler_progress'></span>

<h3>Description</h3>

<p>A progression handler for <code><a href="progress.html#topic+progress_bar">progress::progress_bar()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_progress(
  format = ":spin [:bar] :percent :message",
  show_after = 0,
  intrusiveness = getOption("progressr.intrusiveness.terminal", 1),
  target = "terminal",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_progress_+3A_format">format</code></td>
<td>
<p>(character string) The format of the progress bar.</p>
</td></tr>
<tr><td><code id="handler_progress_+3A_show_after">show_after</code></td>
<td>
<p>(numeric) Number of seconds to wait before displaying
the progress bar.</p>
</td></tr>
<tr><td><code id="handler_progress_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_progress_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_progress_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">progress</span> package.
</p>


<h3>Appearance</h3>

<p>Below are a few examples on how to use and customize this progress handler.
In all cases, we use <code>handlers(global = TRUE)</code>.
</p>
<div class="sourceCode r"><pre>handlers("progress")
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_progress-default.svg" alt="handler_progress-default.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_progress(complete = "#"))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_progress-complete.svg" alt="handler_progress-complete.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_progress(format = ":spin [:bar] :percent :message"))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_progress-format-1.svg" alt="handler_progress-format-1.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_progress(format = ":percent [:bar] :eta :message"))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_progress-format-2.svg" alt="handler_progress-format-2.svg" />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("progress", quietly = TRUE)) {

  handlers(handler_progress(format = ":spin [:bar] :percent :message"))
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
  
}
</code></pre>

<hr>
<h2 id='handler_rpushbullet'>Progression Handler: Progress Reported via the Pushbullet Messaging Service</h2><span id='topic+handler_rpushbullet'></span>

<h3>Description</h3>

<p>A progression handler for <code>pbPost()</code> of the <span class="pkg">RPushbullet</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_rpushbullet(
  intrusiveness = getOption("progressr.intrusiveness.rpushbullet", 5),
  target = "gui",
  ...,
  title = "Progress update from R",
  recipients = NULL,
  email = NULL,
  channel = NULL,
  apikey = NULL,
  device = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_rpushbullet_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_rpushbullet_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_rpushbullet_+3A_title">title</code></td>
<td>
<p>The title of the note being posted.</p>
</td></tr>
<tr><td><code id="handler_rpushbullet_+3A_recipients">recipients</code></td>
<td>
<p>A character or numeric vector indicating the
devices this post should go to. If missing, the default device
is looked up from an optional setting, and if none has been set
the push is sent to all devices.</p>
</td></tr>
<tr><td><code id="handler_rpushbullet_+3A_email">email</code></td>
<td>
<p>An alternative way to specify a recipient is to specify
an email address. If both <code>recipients</code> and <code>email</code> are
present, <code>recipients</code> is used.</p>
</td></tr>
<tr><td><code id="handler_rpushbullet_+3A_channel">channel</code></td>
<td>
<p>A channel tag used to specify the name of the channel
as the recipient. If either <code>recipients</code> or <code>email</code> are present,
they will take precedence over <code>channel</code>.</p>
</td></tr>
<tr><td><code id="handler_rpushbullet_+3A_apikey">apikey</code></td>
<td>
<p>The API key used to access the service. It can be
supplied as an argument here, via the global option
<code>rpushbullet.key</code>, or via the file <code>~/.rpushbullet.json</code>
which is read at package initialization (and, if found, also sets
the global option).</p>
</td></tr>
<tr><td><code id="handler_rpushbullet_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">RPushbullet</span> package, a
Pushbullet account, and configuration according to the instructions
of the <span class="pkg">RPushbullet</span> package.  It also requires internet access
from the computer where this progress handler is registered.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pkg &lt;- "RPushbullet"
if (requireNamespace(pkg, quietly = TRUE)) {

  handlers("rpushbullet")
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
  
}
</code></pre>

<hr>
<h2 id='handler_rstudio'>Progression Handler: Progress Reported in the RStudio Console</h2><span id='topic+handler_rstudio'></span>

<h3>Description</h3>

<p>Progression Handler: Progress Reported in the RStudio Console
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_rstudio(
  intrusiveness = getOption("progressr.intrusiveness.gui", 1),
  target = "gui",
  title = function() format(Sys.time(), "Console %X"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_rstudio_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_rstudio_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_rstudio_+3A_title">title</code></td>
<td>
<p>(character or a function) The &quot;name&quot; of the progressor, which
is displayed in front of the progress bar.  If a function, then the name
is created dynamically by calling the function when the progressor is
created.</p>
</td></tr>
<tr><td><code id="handler_rstudio_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler works only in the RStudio Console.
</p>


<h3>Use this progression handler by default</h3>

<p>To use this handler by default whenever using the RStudio Console, add
the following to your &lsquo;<span class="file">~/.Rprofile</span>&rsquo; startup file:
</p>
<div class="sourceCode r"><pre>if (requireNamespace("progressr", quietly = TRUE)) {
  if (Sys.getenv("RSTUDIO") == "1" &amp;&amp; !nzchar(Sys.getenv("RSTUDIO_TERM"))) {
    options(progressr.handlers = progressr::handler_rstudio)
  }
}
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("rstudioapi", quietly = TRUE) &amp;&amp; rstudioapi::isAvailable()) {

  handlers("rstudio")
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
  
}
</code></pre>

<hr>
<h2 id='handler_shiny'>Progression Handler: Progress Reported via 'shiny' Widgets (GUI) in the HTML Browser</h2><span id='topic+handler_shiny'></span>

<h3>Description</h3>

<p>A progression handler for <span class="pkg">shiny</span> and <code><a href="shiny.html#topic+withProgress">shiny::withProgress()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_shiny(
  intrusiveness = getOption("progressr.intrusiveness.gui", 1),
  target = "gui",
  inputs = list(message = NULL, detail = "message"),
  enable = getOption("progressr.enable", TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_shiny_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_shiny_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_shiny_+3A_inputs">inputs</code></td>
<td>
<p>(named list) Specifies from what sources the Shiny progress
elements 'message' and 'detail' should be updated.  Valid sources are
<code>"message"</code>, <code>"sticky_message"</code> and <code>"non_sticky_message"</code>, where
<code>"message"</code> is short for <code>c("non_sticky_message", "sticky_message")</code>. For
example, <code>inputs = list(message = "sticky_message", detail = "message")</code>
will update the Shiny 'message' component from sticky messages only,
whereas the 'detail' component is updated using any message.</p>
</td></tr>
<tr><td><code id="handler_shiny_+3A_enable">enable</code></td>
<td>
<p>(logical) If FALSE, then progress is not reported.</p>
</td></tr>
<tr><td><code id="handler_shiny_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For most Shiny application there is little need to use this Shiny handler
directly.  Instead, it is sufficient to use <code><a href="progressr.html#topic+withProgressShiny">withProgressShiny()</a></code>.
</p>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">shiny</span> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
handlers(handler_shiny())
with_progress(y &lt;- slow_sum(1:100))

## End(Not run)

</code></pre>

<hr>
<h2 id='handler_tkprogressbar'>Progression Handler: Progress Reported as a Tcl/Tk Progress Bars in the GUI</h2><span id='topic+handler_tkprogressbar'></span>

<h3>Description</h3>

<p>A progression handler for <code><a href="tcltk.html#topic+tkProgressBar">tcltk::tkProgressBar()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_tkprogressbar(
  intrusiveness = getOption("progressr.intrusiveness.gui", 1),
  target = "terminal",
  inputs = list(title = NULL, label = "message"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_tkprogressbar_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_tkprogressbar_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_tkprogressbar_+3A_inputs">inputs</code></td>
<td>
<p>(named list) Specifies from what sources the MS Windows
progress elements 'title' and 'label' should be updated. Valid sources are
<code>"message"</code>, <code>"sticky_message"</code> and <code>"non_sticky_message"</code>, where
<code>"message"</code> is short for <code>c("non_sticky_message", "sticky_message")</code>. For
example, <code>inputs = list(title = "sticky_message", label = "message")</code>
will update the 'title' component from sticky messages only,
whereas the 'label' component is updated using any message.</p>
</td></tr>
<tr><td><code id="handler_tkprogressbar_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires the <span class="pkg">tcltk</span> package and that the
current R session supports Tcl/Tk (<code>capabilities("tcltk")</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (capabilities("tcltk") &amp;&amp; requireNamespace("tcltk", quietly = TRUE)) {

  handlers("tkprogressbar")
  with_progress({ y &lt;- slow_sum(1:10) })
  print(y)
  
}
</code></pre>

<hr>
<h2 id='handler_txtprogressbar'>Progression Handler: Progress Reported as Plain Progress Bars (Text) in the Terminal</h2><span id='topic+handler_txtprogressbar'></span>

<h3>Description</h3>

<p>A progression handler for <code><a href="utils.html#topic+txtProgressBar">utils::txtProgressBar()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_txtprogressbar(
  char = "=",
  style = 3L,
  file = stderr(),
  intrusiveness = getOption("progressr.intrusiveness.terminal", 1),
  target = "terminal",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_txtprogressbar_+3A_char">char</code></td>
<td>
<p>(character) The symbols to form the progress bar for
<code><a href="utils.html#topic+txtProgressBar">utils::txtProgressBar()</a></code>. Contrary to <code>txtProgressBar()</code>, this handler
supports also ANSI-colored symbols.</p>
</td></tr>
<tr><td><code id="handler_txtprogressbar_+3A_style">style</code></td>
<td>
<p>(integer) The progress-bar style according to
<code><a href="utils.html#topic+txtProgressBar">utils::txtProgressBar()</a></code>.</p>
</td></tr>
<tr><td><code id="handler_txtprogressbar_+3A_file">file</code></td>
<td>
<p>(connection) A <a href="base.html#topic+connections">base::connection</a> to where output should be sent.</p>
</td></tr>
<tr><td><code id="handler_txtprogressbar_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_txtprogressbar_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_txtprogressbar_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Appearance</h3>

<p>Below are a few examples on how to use and customize this progress handler.
In all cases, we use <code>handlers(global = TRUE)</code>.
</p>
<div class="sourceCode r"><pre>handlers("txtprogressbar")
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_txtprogressbar-default.svg" alt="handler_txtprogressbar-default.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_txtprogressbar(style = 1L))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_txtprogressbar-style-1.svg" alt="handler_txtprogressbar-style-1.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_txtprogressbar(style = 3L))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_txtprogressbar-style-3.svg" alt="handler_txtprogressbar-style-3.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_txtprogressbar(char = "#"))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_txtprogressbar-char.svg" alt="handler_txtprogressbar-char.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_txtprogressbar(char = "&lt;&gt;"))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_txtprogressbar-char-width-2.svg" alt="handler_txtprogressbar-char-width-2.svg" />
</p>
<div class="sourceCode r"><pre>handlers(handler_txtprogressbar(char = cli::col_red(cli::symbol$heart)))
y &lt;- slow_sum(1:25)
</pre></div>
<p><img src="../help/figures/handler_txtprogressbar-char-ansi.svg" alt="handler_txtprogressbar-char-ansi.svg" />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>handlers("txtprogressbar")

with_progress({ y &lt;- slow_sum(1:10) })
print(y)
</code></pre>

<hr>
<h2 id='handler_void'>Progression Handler: No Progress Report</h2><span id='topic+handler_void'></span>

<h3>Description</h3>

<p>Progression Handler: No Progress Report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_void(intrusiveness = 0, target = "void", enable = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_void_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_void_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_void_+3A_enable">enable</code></td>
<td>
<p>(logical) If FALSE, then progress is not reported.</p>
</td></tr>
<tr><td><code id="handler_void_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This progression handler gives not output - it is invisible and silent.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
handlers(handler_void())
with_progress(y &lt;- slow_sum(1:100))
print(y)

## End(Not run)

</code></pre>

<hr>
<h2 id='handler_winprogressbar'>Progression Handler: Progress Reported as a MS Windows Progress Bars in the GUI</h2><span id='topic+handler_winprogressbar'></span>

<h3>Description</h3>

<p>A progression handler for <code>winProgressBar()</code> in the <span class="pkg">utils</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handler_winprogressbar(
  intrusiveness = getOption("progressr.intrusiveness.gui", 1),
  target = "gui",
  inputs = list(title = NULL, label = "message"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handler_winprogressbar_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="handler_winprogressbar_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="handler_winprogressbar_+3A_inputs">inputs</code></td>
<td>
<p>(named list) Specifies from what sources the MS Windows
progress elements 'title' and 'label' should be updated. Valid sources are
<code>"message"</code>, <code>"sticky_message"</code> and <code>"non_sticky_message"</code>, where
<code>"message"</code> is short for <code>c("non_sticky_message", "sticky_message")</code>. For
example, <code>inputs = list(title = "sticky_message", label = "message")</code>
will update the 'title' component from sticky messages only,
whereas the 'label' component is updated using any message.</p>
</td></tr>
<tr><td><code id="handler_winprogressbar_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>.</p>
</td></tr>
</table>


<h3>Requirements</h3>

<p>This progression handler requires MS Windows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
handlers(handler_winprogressbar())
with_progress(y &lt;- slow_sum(1:100))

## End(Not run)

</code></pre>

<hr>
<h2 id='handlers'>Control How Progress is Reported</h2><span id='topic+handlers'></span>

<h3>Description</h3>

<p>Control How Progress is Reported
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handlers(
  ...,
  append = FALSE,
  on_missing = c("error", "warning", "ignore"),
  default = handler_txtprogressbar,
  global = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="handlers_+3A_...">...</code></td>
<td>
<p>One or more progression handlers.  Alternatively, this
functions accepts also a single vector of progression handlers as input.
If this vector is empty, then an empty set of progression handlers will
be set.</p>
</td></tr>
<tr><td><code id="handlers_+3A_append">append</code></td>
<td>
<p>(logical) If FALSE, the specified progression handlers
replace the current ones, otherwise appended to them.</p>
</td></tr>
<tr><td><code id="handlers_+3A_on_missing">on_missing</code></td>
<td>
<p>(character) If <code>"error"</code>, an error is thrown if one of
the progression handlers does not exists.  If <code>"warning"</code>, a warning
is produces and the missing handlers is ignored.  If <code>"ignore"</code>, the
missing handlers is ignored.</p>
</td></tr>
<tr><td><code id="handlers_+3A_default">default</code></td>
<td>
<p>The default progression calling handler to use if none
are set.</p>
</td></tr>
<tr><td><code id="handlers_+3A_global">global</code></td>
<td>
<p>If TRUE, then the global progression handler is enabled.
If FALSE, it is disabled.  If NA, then TRUE is returned if it is enabled,
otherwise FALSE.  Argument <code>global</code> must not used with other arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a convenient alternative for getting and setting
option <span class="option">progressr.handlers</span>.
</p>


<h3>Value</h3>

<p>(invisibly) the previous list of progression handlers set.
If no arguments are specified, then the current set of progression
handlers is returned.
If <code>global</code> is specified, then TRUE is returned if the global progression
handlers is enabled, otherwise false.
</p>


<h3>For package developers</h3>

<p><strong>IMPORTANT: Setting progression handlers is a privilege that should be
left to the end user. It should not be used by R packages, which only task
is to <em>signal</em> progress updates, not to decide if, when, and how progress
should be reported.</strong>
</p>
<p>If you have to set or modify the progression handlers inside a function,
please make sure to undo the settings afterward.  If not, you will break
whatever progression settings the user already has for other purposes
used elsewhere.  To undo you settings, you can do:
</p>
<div class="sourceCode r"><pre>old_handlers &lt;- handlers(c("beepr", "progress"))
on.exit(handlers(old_handlers), add = TRUE)
</pre></div>


<h3>Configuring progression handling during R startup</h3>

<p>A convenient place to configure the default progression handler and to
enable global progression reporting by default is in the &lsquo;<span class="file">~/.Rprofile</span>&rsquo;
startup file.  For example, the following will (i) cause your interactive
R session to use global progression handler by default, and (ii) report
progress via the <span class="pkg">progress</span> package when in the terminal and via the
RStudio Jobs progress bar when in the RStudio Console.
<a href="progressr.html#topic+handler_txtprogressbar">handler_txtprogressbar</a>,
other whenever using the RStudio Console, add
the following to your &lsquo;<span class="file">~/.Rprofile</span>&rsquo; startup file:
</p>
<div class="sourceCode r"><pre>if (interactive() &amp;&amp; requireNamespace("progressr", quietly = TRUE)) {
  ## Enable global progression updates
  if (getRversion() &gt;= 4) progressr::handlers(global = TRUE)

  ## In RStudio Console, or not?
  if (Sys.getenv("RSTUDIO") == "1" &amp;&amp; !nzchar(Sys.getenv("RSTUDIO_TERM"))) {
    options(progressr.handlers = progressr::handler_rstudio)
  } else {
    options(progressr.handlers = progressr::handler_progress)
  }
}
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>handlers("txtprogressbar")
if (requireNamespace("beepr", quietly = TRUE))
  handlers("beepr", append = TRUE)

with_progress({ y &lt;- slow_sum(1:5) })
print(y)


if (getRversion() &gt;= "4.0.0") {
  
  handlers(global = TRUE)
  y &lt;- slow_sum(1:4)
  z &lt;- slow_sum(6:9)
  
  handlers(global = FALSE)
}

</code></pre>

<hr>
<h2 id='make_progression_handler'>Creates a Progression Calling Handler</h2><span id='topic+make_progression_handler'></span>

<h3>Description</h3>

<p>A progression calling handler is a function that takes a <a href="base.html#topic+conditions">base::condition</a>
as its first argument and that can be use together with
<code><a href="base.html#topic+conditions">base::withCallingHandlers()</a></code>.  This function helps creating such
progression calling handler functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_progression_handler(
  name,
  reporter = list(),
  handler = NULL,
  enable = getOption("progressr.enable", interactive()),
  enable_after = getOption("progressr.enable_after", 0),
  times = getOption("progressr.times", +Inf),
  interval = getOption("progressr.interval", 0),
  intrusiveness = 1,
  clear = getOption("progressr.clear", TRUE),
  target = "terminal",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_progression_handler_+3A_name">name</code></td>
<td>
<p>(character) Name of progression handler.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_reporter">reporter</code></td>
<td>
<p>(list) A named list of reporter functions.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_handler">handler</code></td>
<td>
<p>(function) Function take a <a href="progressr.html#topic+progression">progression</a> condition
as the first argument.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_enable">enable</code></td>
<td>
<p>(logical) If FALSE, then progress is not reported.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_enable_after">enable_after</code></td>
<td>
<p>(numeric) Delay (in seconds) before progression
updates are reported.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_times">times</code></td>
<td>
<p>(numeric) The maximum number of times this handler
should report progression updates.
If zero, then progress is not reported.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_interval">interval</code></td>
<td>
<p>(numeric) The minimum time (in seconds) between
successive progression updates from this handler.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_intrusiveness">intrusiveness</code></td>
<td>
<p>(numeric) A non-negative scalar on how intrusive
(disruptive) the reporter to the user.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_clear">clear</code></td>
<td>
<p>(logical) If TRUE, any output, typically visual, produced
by a reporter will be cleared/removed upon completion, if possible.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_target">target</code></td>
<td>
<p>(character vector) Specifies where progression updates are
rendered.</p>
</td></tr>
<tr><td><code id="make_progression_handler_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="progressr.html#topic+make_progression_handler">make_progression_handler()</a></code>
or not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The inner details of progression handlers and how to use this function
are still to be documented.  Until then, see the source code of existing
handlers for how it is used, e.g. <code>progressr::handler_txtprogressbar</code>.
Please use with care as things might change.
</p>


<h3>Value</h3>

<p>A function of class <code>progression_handler</code> that takes a
<a href="progressr.html#topic+progression">progression</a> condition as its first and only argument.
</p>


<h3>Reporter functions</h3>

<p>The <code>reporter</code> argument should be a named list of zero or more of the
following functions:
</p>

<ul>
<li> <p><code>initiate</code>
</p>
</li>
<li> <p><code>update</code>
</p>
</li>
<li> <p><code>finish</code>
</p>
</li></ul>

<p>These functions are called whenever a <a href="progressr.html#topic+progression">progression</a> condition of type
<code>"initiate"</code>, <code>"update"</code>, or <code>"finish"</code> are received, but only if the
condition is for the progression that is currently handled.
These functions are called with the following arguments (in order):
</p>

<ul>
<li> <p><code>config</code> - a named list of the configuration of the progression handler:
<code>max_steps</code> (integer),
<code>interval</code> (numeric),
<code>enable_after</code> (numeric),
<code>auto_finish</code> (logical),
<code>clear</code> (logical),
<code>target</code> (character vector)
</p>
</li>
<li> <p><code>state</code> - a named list of the current progress state after accounting
for the most recent <code>progression</code> condition:
<code>step</code> (integer), <code>message</code> (character),
<code>delta</code> (integer),
<code>enabled</code> (logical),
<code>timestamps</code> (POSIXct vector)
</p>
</li>
<li> <p><code>progression</code> - a <a href="progressr.html#topic+progression">progression</a> condition
</p>
</li>
<li> <p>... - not used (reserved for future needs)
</p>
</li></ul>

<p>In addition to the above functions, the following functions:
</p>

<ul>
<li> <p><code>hide</code>
</p>
</li>
<li> <p><code>unhide</code>
</p>
</li>
<li> <p><code>reset</code>
</p>
</li>
<li> <p><code>interrupt</code>
</p>
</li></ul>

<p>are called whenever the handler &quot;should&quot; hide or unhide the rendered
progress, or reset it, or when an interrupt is detected.  In these cases,
the <code>progression</code> argument is of class <code>control_progression</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+conditions">base::withCallingHandlers()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create a progression handler that reports on the current progress
## step, the relative change, and the current progress message. This
## is only reported on positive progressions updated
my_handler &lt;- make_progression_handler(name = "my", reporter = list(
  update = function(config, state, progression, ...) {
    if (progression$amount &gt; 0) {
      message(sprintf("step = %d (+%g): message = %s",
                      state$step,
                      progression$amount,
                      sQuote(state$message)))
    }
  }
))

handlers(my_handler)

with_progress({
  y &lt;- slow_sum(1:5)
})

</code></pre>

<hr>
<h2 id='progress'>Creates and Signals a Progression Condition</h2><span id='topic+progress'></span>

<h3>Description</h3>

<p><em>WARNING:</em> <code>progress()</code> is defunct - don't use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>progress(..., call = sys.call())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="progress_+3A_call">call</code></td>
<td>
<p>(expression) A call expression.</p>
</td></tr>
<tr><td><code id="progress_+3A_...">...</code></td>
<td>
<p>Arguments pass to <code><a href="progressr.html#topic+progression">progression()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="base.html#topic+conditions">base::condition</a> of class <code>progression</code>.
</p>


<h3>See Also</h3>

<p>To create a progression condition, use <code><a href="progressr.html#topic+progression">progression()</a></code>.
To signal a progression condition, use <code><a href="base.html#topic+conditions">base::signalCondition()</a></code>.
</p>

<hr>
<h2 id='progress_aggregator'>Aggregate Progression Conditions</h2><span id='topic+progress_aggregator'></span>

<h3>Description</h3>

<p>Aggregate Progression Conditions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>progress_aggregator(progress)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="progress_aggregator_+3A_progress">progress</code></td>
<td>
<p>A <a href="progressr.html#topic+progressor">progressor</a> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function of class <code>progress_aggregator</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(progressr)

message("progress_aggregator() ...")

with_progress({
  progress &lt;- progressor(steps = 4L)
  relay_progress &lt;- progress_aggregator(progress)
  progress()
  relay_progress(slow_sum(1:3))
  relay_progress(slow_sum(1:10))
  progress()
})

message("progress_aggregator() ... done")
</code></pre>

<hr>
<h2 id='progress_progressr'>Use Progressr with Plyr Map-Reduce Functions</h2><span id='topic+progress_progressr'></span>

<h3>Description</h3>

<p>A &quot;progress bar&quot; for <span class="pkg">plyr</span>'s <code>.progress</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>progress_progressr(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="progress_progressr_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named <a href="base.html#topic+list">base::list</a> that can be passed as argument <code>.progress</code>
to any of <span class="pkg">plyr</span> function accepting that argument.
</p>


<h3>Limitations</h3>

<p>One can use use <code><a href="doFuture.html#topic+registerDoFuture">doFuture::registerDoFuture()</a></code> to run <span class="pkg">plyr</span> functions
in parallel, e.g. <code>plyr::l_ply(..., .parallel = TRUE)</code>.  Unfortunately,
using <code>.parallel = TRUE</code> disables progress updates because, internally,
<span class="pkg">plyr</span> forces <code>.progress = "none"</code> whenever <code>.parallel = TRUE</code>.
Thus, despite the <span class="pkg">future</span> ecosystem and <span class="pkg">progressr</span> would support
it, it is not possible to run <span class="pkg">dplyr</span> in parallel <em>and</em> get progress
updates at the same time.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("plyr", quietly=TRUE)) {

  with_progress({
    y &lt;- plyr::llply(1:10, function(x) {
      Sys.sleep(0.1)
      sqrt(x)
    }, .progress = "progressr")
  })
  
}

</code></pre>

<hr>
<h2 id='progression'>A Progression Condition</h2><span id='topic+progression'></span>

<h3>Description</h3>

<p>A progression condition represents a progress in an <span class="rlang"><b>R</b></span> program.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>progression(
  message = character(0L),
  amount = 1,
  step = NULL,
  time = progression_time,
  ...,
  type = "update",
  class = NULL,
  progressor_uuid = NULL,
  progression_index = NULL,
  progression_time = Sys.time(),
  call = NULL,
  calls = sys.calls(),
  owner_session_uuid = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="progression_+3A_message">message</code></td>
<td>
<p>(character vector or a function) If a character vector, then
it is pasted together into a single string using an empty separator.
If a function, then the message is constructed by <code>conditionMessage(p)</code>
calling this function with the progression condition <code>p</code> itself as the
first argument.</p>
</td></tr>
<tr><td><code id="progression_+3A_amount">amount</code></td>
<td>
<p>(numeric) The total amount of progress made.</p>
</td></tr>
<tr><td><code id="progression_+3A_step">step</code></td>
<td>
<p>(numeric) The step completed. If specified, <code>amount</code> is ignored.
<em>WARNING: Argument <code>step</code> should only be used when in full control of the
order when this progression condition is signaled.</em> For example, it must not
be signaled as one of many parallel progress updates signaled concurrently,
because then we cannot guarantee the order these progressions arrive.</p>
</td></tr>
<tr><td><code id="progression_+3A_time">time</code></td>
<td>
<p>(POSIXct) A timestamp.</p>
</td></tr>
<tr><td><code id="progression_+3A_type">type</code></td>
<td>
<p>Type of progression made.</p>
</td></tr>
<tr><td><code id="progression_+3A_class">class</code></td>
<td>
<p>(character) Zero or more class names to prepend.</p>
</td></tr>
<tr><td><code id="progression_+3A_progressor_uuid">progressor_uuid</code></td>
<td>
<p>(character string) A character string that is unique
for the current progressor and the current <span class="rlang"><b>R</b></span> session.</p>
</td></tr>
<tr><td><code id="progression_+3A_progression_index">progression_index</code></td>
<td>
<p>(integer) A non-negative integer that is
incremented by one for each progression condition created.</p>
</td></tr>
<tr><td><code id="progression_+3A_progression_time">progression_time</code></td>
<td>
<p>(POSIXct or character string) A timestamp specifying
when the progression condition was created.</p>
</td></tr>
<tr><td><code id="progression_+3A_call">call</code></td>
<td>
<p>(expression) A call expression.</p>
</td></tr>
<tr><td><code id="progression_+3A_calls">calls</code></td>
<td>
<p>(pairlist) The calls that lead up to this progression update.</p>
</td></tr>
<tr><td><code id="progression_+3A_owner_session_uuid">owner_session_uuid</code></td>
<td>
<p>(character string) A character string that is
unique for the <span class="rlang"><b>R</b></span> session where the progressor was created.</p>
</td></tr>
<tr><td><code id="progression_+3A_...">...</code></td>
<td>
<p>Additional named elements.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="base.html#topic+conditions">base::condition</a> of class <code>progression</code>.
</p>


<h3>See Also</h3>

<p>To signal a progression condition, use <code><a href="base.html#topic+conditions">base::signalCondition()</a></code>.
</p>

<hr>
<h2 id='progressor'>Create a Progressor Function that Signals Progress Updates</h2><span id='topic+progressor'></span>

<h3>Description</h3>

<p>Create a Progressor Function that Signals Progress Updates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>progressor(
  steps = length(along),
  along = NULL,
  offset = 0L,
  scale = 1L,
  transform = function(steps) scale * steps + offset,
  message = character(0L),
  label = NA_character_,
  trace = FALSE,
  initiate = TRUE,
  auto_finish = TRUE,
  on_exit = !identical(envir, globalenv()),
  enable = getOption("progressr.enable", TRUE),
  envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="progressor_+3A_steps">steps</code></td>
<td>
<p>(integer) Number of progressing steps.</p>
</td></tr>
<tr><td><code id="progressor_+3A_along">along</code></td>
<td>
<p>(vector; alternative) Alternative that sets
<code>steps = length(along)</code>.</p>
</td></tr>
<tr><td><code id="progressor_+3A_offset">offset</code>, <code id="progressor_+3A_scale">scale</code></td>
<td>
<p>(integer; optional) scale and offset applying transform
<code>steps &lt;- scale * steps + offset</code>.</p>
</td></tr>
<tr><td><code id="progressor_+3A_transform">transform</code></td>
<td>
<p>(function; optional) A function that takes the effective
number of <code>steps</code> as input and returns another finite and non-negative
number of steps.</p>
</td></tr>
<tr><td><code id="progressor_+3A_message">message</code></td>
<td>
<p>(character vector or a function) If a character vector, then
it is pasted together into a single string using an empty separator.
If a function, then the message is constructed by <code>conditionMessage(p)</code>
calling this function with the progression condition <code>p</code> itself as the
first argument.</p>
</td></tr>
<tr><td><code id="progressor_+3A_label">label</code></td>
<td>
<p>(character) A label.</p>
</td></tr>
<tr><td><code id="progressor_+3A_trace">trace</code></td>
<td>
<p>(logical) If TRUE, then the call stack is recorded, otherwise
not.</p>
</td></tr>
<tr><td><code id="progressor_+3A_initiate">initiate</code></td>
<td>
<p>(logical) If TRUE, the progressor will signal a
<a href="progressr.html#topic+progression">progression</a> 'initiate' condition when created.</p>
</td></tr>
<tr><td><code id="progressor_+3A_auto_finish">auto_finish</code></td>
<td>
<p>(logical) If TRUE, then the progressor will signal a
<a href="progressr.html#topic+progression">progression</a> 'finish' condition as soon as the last step has been reached.</p>
</td></tr>
<tr><td><code id="progressor_+3A_on_exit">on_exit</code>, <code id="progressor_+3A_envir">envir</code></td>
<td>
<p>(logical) If TRUE, then the created progressor will
signal a <a href="progressr.html#topic+progression">progression</a> 'finish' condition when the calling frame exits.
This is ignored if the calling frame (<code>envir</code>) is the global environment.</p>
</td></tr>
<tr><td><code id="progressor_+3A_enable">enable</code></td>
<td>
<p>(logical) If TRUE, <a href="progressr.html#topic+progression">progression</a> conditions are signaled when
calling the progressor function created by this function.
If FALSE, no <a href="progressr.html#topic+progression">progression</a> conditions is signaled because the progressor
function is an empty function that does nothing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>progressor</code> function can only be created inside a local environment,
e.g. inside a function, within a <code>local()</code> call, or within a
<code>with_progress()</code> call.  Notably, it <em>cannot</em> be create at the top level,
e.g. immediately at the R prompt or outside a local environment in an
R script.  If attempted, an informative error message is produced, e.g.
</p>
<div class="sourceCode r"><pre>&gt; p &lt;- progressr::progressor(100)
Error in progressr::progressor(100) : 
  A progressor must not be created in the global environment unless
wrapped in a with_progress() or without_progress() call. Alternatively,
create it inside a function or in a local() environment to make sure
there is a finite life span of the progressor
</pre></div>


<h3>Value</h3>

<p>A function of class <code>progressor</code>.
</p>

<hr>
<h2 id='progressr'>progressr: A Unifying API for Progress Updates</h2><span id='topic+progressr'></span><span id='topic+progressr-package'></span>

<h3>Description</h3>

<p>The <span class="pkg">progressr</span> package provides a minimal, unifying API for scripts
and packages to report progress updates from anywhere including when
using parallel processing.
</p>


<h3>Details</h3>

<p>The package is designed such that <em>the developer</em> can to focus on <em>what</em>
progress should be reported on without having to worry about <em>how</em> to
present it.
</p>
<p>The <em>end user</em> has full control of <em>how</em>, <em>where</em>, and <em>when</em> to render
these progress updates.  For instance, they can chose to report progress
in the terminal using <code><a href="utils.html#topic+txtProgressBar">utils::txtProgressBar()</a></code> or
<code><a href="progress.html#topic+progress_bar">progress::progress_bar()</a></code> or via the graphical user interface (GUI)
using <code>utils::winProgressBar()</code> or <code><a href="tcltk.html#topic+tkProgressBar">tcltk::tkProgressBar()</a></code>.
An alternative to above visual rendering of progress, is to report it
using <code><a href="beepr.html#topic+beep">beepr::beep()</a></code> sounds.
It is possible to use a combination of above progression handlers, e.g.
a progress bar in the terminal together with audio updates.
Besides the existing handlers, it is possible to develop custom
progression handlers.
</p>
<p>The <span class="pkg">progressr</span> package uses R's condition framework for signaling
progress updated. Because of this, progress can be reported from almost
anywhere in R, e.g. from classical for and while loops, from map-reduce
APIs like the <code><a href="base.html#topic+lapply">lapply()</a></code> family of functions, <span class="pkg">purrr</span>, <span class="pkg">plyr</span>, and
<span class="pkg">foreach</span>.
The <span class="pkg">progressr</span> package will also work with parallel processing via
the <span class="pkg">future</span> framework, e.g. <code><a href="future.apply.html#topic+future_lapply">future.apply::future_lapply()</a></code>,
<code><a href="furrr.html#topic+future_map">furrr::future_map()</a></code>, and <code><a href="foreach.html#topic+foreach">foreach::foreach()</a></code> with <span class="pkg">doFuture</span>.
</p>
<p>The <span class="pkg">progressr</span> package is compatible with Shiny applications.
</p>


<h3>Progression Handlers</h3>

<p>In the terminal:
</p>

<ul>
<li> <p><a href="progressr.html#topic+handler_txtprogressbar">handler_txtprogressbar</a> (default)
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_pbcol">handler_pbcol</a>
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_pbmcapply">handler_pbmcapply</a>
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_progress">handler_progress</a>
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_ascii_alert">handler_ascii_alert</a>
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_debug">handler_debug</a>
</p>
</li></ul>

<p>In a graphical user interface (GUI):
</p>

<ul>
<li> <p><a href="progressr.html#topic+handler_rstudio">handler_rstudio</a>
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_tkprogressbar">handler_tkprogressbar</a>
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_winprogressbar">handler_winprogressbar</a>
</p>
</li></ul>

<p>As sound:
</p>

<ul>
<li> <p><a href="progressr.html#topic+handler_beepr">handler_beepr</a>
</p>
</li>
<li> <p><a href="progressr.html#topic+handler_ascii_alert">handler_ascii_alert</a>
</p>
</li></ul>

<p>Via the file system:
</p>

<ul>
<li> <p><a href="progressr.html#topic+handler_filesize">handler_filesize</a>
</p>
</li></ul>

<p>In Shiny:
</p>

<ul>
<li> <p><a href="progressr.html#topic+withProgressShiny">withProgressShiny</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(progressr)

xs &lt;- 1:5

with_progress({
  p &lt;- progressor(along = xs)
  y &lt;- lapply(xs, function(x) {
    Sys.sleep(0.1)
    p(sprintf("x=%g", x))
    sqrt(x)
  })
})
</code></pre>

<hr>
<h2 id='progressr.options'>Options and environment variables used by the 'progressr' packages</h2><span id='topic+progressr.options'></span><span id='topic+progressr.clear'></span><span id='topic+progressr.debug'></span><span id='topic+progressr.demo.delay'></span><span id='topic+progressr.delay_stdout'></span><span id='topic+progressr.delay_conditions'></span><span id='topic+progressr.enable'></span><span id='topic+progressr.enable_after'></span><span id='topic+progressr.interrupts'></span><span id='topic+progressr.interval'></span><span id='topic+progressr.intrusiveness'></span><span id='topic+progressr.intrusiveness.audio'></span><span id='topic+progressr.intrusiveness.debug'></span><span id='topic+progressr.intrusiveness.file'></span><span id='topic+progressr.intrusiveness.gui'></span><span id='topic+progressr.intrusiveness.notifier'></span><span id='topic+progressr.intrusiveness.terminal'></span><span id='topic+progressr.handlers'></span><span id='topic+progressr.times'></span>

<h3>Description</h3>

<p>Below are environment variables and <span class="rlang"><b>R</b></span> options that are used by the
<span class="pkg">progressr</span> package.
Below are all <span class="rlang"><b>R</b></span> options that are currently used by the <span class="pkg">progressr</span> package.<br />
<br />
<em>WARNING: Note that the names and the default values of these options may change in future versions of the package.  Please use with care until further notice.</em>
</p>


<h3>Options for controlling progression reporting</h3>


<dl>
<dt><span class="option">progressr.handlers</span>:</dt><dd>
<p>(function or list of functions)
Zero or more progression handlers that will report on any progression updates.  If empty list, progress updates are ignored.  If NULL, the default (<code>handler_txtprogressbar</code>) progression handlers is used.  The recommended way to set this option is via <code><a href="progressr.html#topic+handlers">handlers()</a></code>. (Default: NULL)
</p>
</dd>
</dl>



<h3>Options for controlling progression handlers</h3>


<dl>
<dt><span class="option">progressr.clear</span>:</dt><dd>
<p>(logical)
If TRUE, any output, typically visual, produced by a reporter will be cleared/removed upon completion, if possible. (Default: TRUE)
</p>
</dd>
<dt><span class="option">progressr.enable</span>:</dt><dd>
<p>(logical)
If FALSE, then progress is not reported.
(Default: TRUE in interactive mode, otherwise FALSE)
</p>
</dd>
<dt><span class="option">progressr.enable_after</span>:</dt><dd>
<p>(numeric)
Delay (in seconds) before progression updates are reported.
(Default: <code>0.0</code>)
</p>
</dd>
<dt><span class="option">progressr.times</span>:</dt><dd>
<p>(numeric)
The maximum number of times a handler should report progression updates. If zero, then progress is not reported.
(Default: <code>+Inf</code>)
</p>
</dd>
<dt><span class="option">progressr.interval</span>:</dt><dd>
<p>(numeric)
The minimum time (in seconds) between successive progression updates from this handler.
(Default: <code>0.0</code>)
</p>
</dd>
<dt><span class="option">progressr.intrusiveness</span>:</dt><dd>
<p>(numeric)
A non-negative scalar on how intrusive (disruptive) the reporter to the user. This multiplicative scalar applies to the <em>interval</em> and <em>times</em> parameters. (Default: <code>1.0</code>)<br />
</p>

<dl>
<dt><span class="option">progressr.intrusiveness.audio</span>:</dt><dd><p>(numeric) intrusiveness for auditory progress handlers (Default: <code>5.0</code>)</p>
</dd>
<dt><span class="option">progressr.intrusiveness.file</span>:</dt><dd><p>(numeric) intrusiveness for file-based progress handlers (Default: <code>5.0</code>)</p>
</dd>
<dt><span class="option">progressr.intrusiveness.gui</span>:</dt><dd><p>(numeric) intrusiveness for graphical-user-interface progress handlers (Default: <code>1.0</code>)</p>
</dd>
<dt><span class="option">progressr.intrusiveness.notifier</span>:</dt><dd><p>(numeric) intrusiveness for progress handlers that creates notifications (Default: <code>10.0</code>)</p>
</dd>
<dt><span class="option">progressr.intrusiveness.terminal</span>:</dt><dd><p>(numeric) intrusiveness for progress handlers that outputs to the terminal (Default: <code>1.0</code>)</p>
</dd>
<dt><span class="option">progressr.intrusiveness.debug</span>:</dt><dd><p>(numeric) intrusiveness for &quot;debug&quot; progress handlers (Default: <code>0.0</code>)</p>
</dd>
</dl>

</dd>
</dl>



<h3>Options for controlling how standard output and conditions are relayed</h3>


<dl>
<dt><span class="option">progressr.delay_conditions</span>:</dt><dd>
<p>(character vector)
condition classes to be captured and relayed at the end after any captured standard output is relayed. (Default: <code>c("condition")</code>)
</p>
</dd>
<dt><span class="option">progressr.delay_stdout</span>:</dt><dd>
<p>(logical)
If TRUE, standard output is captured and relayed at the end just before any captured conditions are relayed. (Default: TRUE)
</p>
</dd>
</dl>



<h3>Options for controlling interrupts</h3>


<dl>
<dt><span class="option">progressr.interrupts</span>:</dt><dd>
<p>(logical)
Controls whether interrupts should be detected or not.
If FALSE, then interrupts are not detected and progress information
is generated. (Default: <code>TRUE</code>)
</p>
</dd>
<dt><span class="option">progressr.delay_stdout</span>:</dt><dd>
<p>(logical)
If TRUE, standard output is captured and relayed at the end just before any captured conditions are relayed. (Default: TRUE)
</p>
</dd>
</dl>



<h3>Options for debugging progression updates</h3>


<dl>
<dt><span class="option">progressr.debug</span>:</dt><dd><p>(logical) If TRUE, extensive debug messages are generated. (Default: FALSE)</p>
</dd>
</dl>



<h3>Options for progressr examples and demos</h3>


<dl>
<dt><span class="option">progressr.demo.delay</span>:</dt><dd><p>(numeric) Delay (in seconds) between each iteration of <code><a href="progressr.html#topic+slow_sum">slow_sum()</a></code>. (Default: <code>1.0</code>)</p>
</dd>
</dl>



<h3>Environment variables that set R options</h3>

<p>Some of the above <span class="rlang"><b>R</b></span> <span class="option">progressr.*</span> options can be set by corresponding
environment variable <span class="env">R_PROGRESSR_*</span> <em>when the <span class="pkg">progressr</span> package
is loaded</em>.
For example, if <code>R_PROGRESSR_ENABLE = "true"</code>, then option
<span class="option">progressr.enable</span> is set to <code>TRUE</code> (logical).
For example, if <code>R_PROGRESSR_ENABLE_AFTER = "2.0"</code>, then option
<span class="option">progressr.enable_after</span> is set to <code>2.0</code> (numeric).
</p>


<h3>See Also</h3>

<p>To set <span class="rlang"><b>R</b></span> options when <span class="rlang"><b>R</b></span> starts (even before the <span class="pkg">progressr</span> package is loaded), see the <a href="base.html#topic+Startup">Startup</a> help page.  The <a href="https://cran.r-project.org/package=startup"><span class="pkg">startup</span></a> package provides a friendly mechanism for configuring <span class="rlang"><b>R</b></span> at startup.
</p>

<hr>
<h2 id='register_global_progression_handler'>Add or Remove a Global 'progression' Handler</h2><span id='topic+register_global_progression_handler'></span>

<h3>Description</h3>

<p>Add or Remove a Global 'progression' Handler
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_global_progression_handler(action = c("add", "remove", "query"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_global_progression_handler_+3A_action">action</code></td>
<td>
<p>(character string)
If <code>"add"</code>, a global handler is added.
If <code>"remove"</code>, it is removed, if it exists.
If <code>"query"</code>, checks whether a handler is registered or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns TRUE if a handler is registered, otherwise FALSE.
If <code>action = "query"</code>, the value is visible, otherwise invisible.
</p>


<h3>Requirements</h3>

<p>This function requires R (&gt;= 4.0.0) - the version in which global calling
handlers where introduces.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
handlers(global = TRUE)

## This renders progress updates for each of the three calls slow_sum()
for (ii in 1:3) {
  xs &lt;- seq_len(ii + 3)
  message(sprintf("%d. slow_sum()", ii))
  y &lt;- slow_sum(xs, stdout = TRUE, message = TRUE)
  print(y)
}


handlers(global = FALSE)
</code></pre>

<hr>
<h2 id='slow_sum'>Slowly Calculate Sum of Elements</h2><span id='topic+slow_sum'></span>

<h3>Description</h3>

<p>Slowly Calculate Sum of Elements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slow_sum(
  x,
  delay = getOption("progressr.demo.delay", 1),
  stdout = FALSE,
  message = TRUE,
  sticky = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slow_sum_+3A_x">x</code></td>
<td>
<p>Numeric vector to sum</p>
</td></tr>
<tr><td><code id="slow_sum_+3A_delay">delay</code></td>
<td>
<p>Delay in seconds after each addition.</p>
</td></tr>
<tr><td><code id="slow_sum_+3A_stdout">stdout</code></td>
<td>
<p>If TRUE, then a text is outputted to the standard output
per element.</p>
</td></tr>
<tr><td><code id="slow_sum_+3A_message">message</code></td>
<td>
<p>If TRUE, then a message is outputted per element.</p>
</td></tr>
<tr><td><code id="slow_sum_+3A_sticky">sticky</code></td>
<td>
<p>If TRUE, then a &quot;sticky&quot; message is outputted every
ten element.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sum of all elements in <code>x</code>.
</p>


<h3>Progress updates</h3>

<p>This function signals <a href="progressr.html#topic+progression">progression</a> conditions as it progresses.
</p>

<hr>
<h2 id='with_progress'>Report on Progress while Evaluating an R Expression</h2><span id='topic+with_progress'></span><span id='topic+without_progress'></span>

<h3>Description</h3>

<p>Report on Progress while Evaluating an R Expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>with_progress(
  expr,
  handlers = progressr::handlers(),
  cleanup = TRUE,
  delay_terminal = NULL,
  delay_stdout = NULL,
  delay_conditions = NULL,
  interrupts = getOption("progressr.interrupts", TRUE),
  interval = NULL,
  enable = NULL
)

without_progress(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with_progress_+3A_expr">expr</code></td>
<td>
<p>An <span class="rlang"><b>R</b></span> expression to evaluate.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_handlers">handlers</code></td>
<td>
<p>A progression handler or a list of them.
If NULL or an empty list, progress updates are ignored.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_cleanup">cleanup</code></td>
<td>
<p>If TRUE, all progression handlers will be shutdown
at the end regardless of the progression is complete or not.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_delay_terminal">delay_terminal</code></td>
<td>
<p>If TRUE, output and conditions that may end up in
the terminal will delayed.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_delay_stdout">delay_stdout</code></td>
<td>
<p>If TRUE, standard output is captured and relayed
at the end just before any captured conditions are relayed.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_delay_conditions">delay_conditions</code></td>
<td>
<p>A character vector specifying <a href="base.html#topic+conditions">base::condition</a>
classes to be captured and relayed at the end after any captured
standard output is relayed.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_interrupts">interrupts</code></td>
<td>
<p>Controls whether interrupts should be detected or not.
If TRUE and a interrupt is signaled, progress handlers are asked to
report on the current amount progress when the evaluation was terminated
by the interrupt, e.g. when a user pressed Ctrl-C in an interactive session,
or a batch process was interrupted because it ran out of time.
Note that it's optional for a progress handler to support this and only
some do.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_interval">interval</code></td>
<td>
<p>(numeric) The minimum time (in seconds) between
successive progression updates from handlers.</p>
</td></tr>
<tr><td><code id="with_progress_+3A_enable">enable</code></td>
<td>
<p>(logical) If FALSE, then progress is not reported.  The
default is to report progress in interactive mode but not batch mode.
See below for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the global progression handler is enabled, it is temporarily disabled
while evaluating the <code>expr</code> expression.
</p>
<p><strong>IMPORTANT: This function is meant for end users only.  It should not
be used by R packages, which only task is to <em>signal</em> progress updates,
not to decide if, when, and how progress should be reported.</strong>
</p>
<p><code>without_progress()</code> evaluates an expression while ignoring all
progress updates.
</p>


<h3>Value</h3>

<p>Returns the value of the expression.
</p>


<h3>Progression handler functions</h3>

<p>Formally, progression handlers are calling handlers that are called
when a <a href="progressr.html#topic+progression">progression</a> condition is signaled.  These handlers are functions
that takes one argument which is the <a href="progressr.html#topic+progression">progression</a> condition.
</p>


<h3>Progress updates in batch mode</h3>

<p>When running R from the command line, R runs in a non-interactive mode
(<code>interactive()</code> returns <code>FALSE</code>).  The default behavior of
<code>with_progress()</code> is to <em>not</em> report on progress in non-interactive mode.
To have progress being reported on also then, set R options
<span class="option">progressr.enable</span> or environment variable <span class="env">R_PROGRESSR_ENABLE</span>
to <code>TRUE</code>.  Alternatively, one can set argument <code>enable=TRUE</code> when calling
<code>with_progress()</code>.  For example,
</p>
<div class="sourceCode sh"><pre>$ Rscript -e "library(progressr)" -e "with_progress(slow_sum(1:5))"
</pre></div>
<p>will <em>not</em> report on progress, whereas:
</p>
<div class="sourceCode sh"><pre>$ export R_PROGRESSR_ENABLE=TRUE
$ Rscript -e "library(progressr)" -e "with_progress(slow_sum(1:5))"
</pre></div>
<p>will.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+conditions">base::withCallingHandlers()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## The slow_sum() example function
slow_sum &lt;- progressr::slow_sum
print(slow_sum)

x &lt;- 1:10

## Without progress updates
y &lt;- slow_sum(x)


## Progress reported via txtProgressBar (default)
handlers("txtprogressbar")  ## default
with_progress({
  y &lt;- slow_sum(x)
})

## Progress reported via tcltk::tkProgressBar
if (capabilities("tcltk") &amp;&amp; requireNamespace("tcltk", quietly = TRUE)) {
  handlers("tkprogressbar")
  with_progress({
    y &lt;- slow_sum(x)
  })
}

## Progress reported via progress::progress_bar)
if (requireNamespace("progress", quietly = TRUE)) {
  handlers("progress")
  with_progress({
    y &lt;- slow_sum(x)
  })
}

## Progress reported via txtProgressBar and beepr::beep
if (requireNamespace("beepr", quietly = TRUE)) {
  handlers("beepr", "txtprogressbar")
  with_progress({
    y &lt;- slow_sum(x)
  })
}

## Progress reported via customized utils::txtProgressBar and beepr::beep,
## if available.
handlers(handler_txtprogressbar(style = 3L))
if (requireNamespace("beepr", quietly = TRUE)) {
  handlers("beepr", append = TRUE)
}

with_progress({
  y &lt;- slow_sum(1:30)
})
</code></pre>

<hr>
<h2 id='withProgressShiny'>Use Progressr in Shiny Apps: Plug-in Backward-Compatible Replacement for shiny::withProgress()</h2><span id='topic+withProgressShiny'></span>

<h3>Description</h3>

<p>A plug-in, backward-compatible replacement for <code><a href="shiny.html#topic+withProgress">shiny::withProgress()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>withProgressShiny(
  expr,
  ...,
  message = NULL,
  detail = NULL,
  inputs = list(message = NULL, detail = "message"),
  env = parent.frame(),
  quoted = FALSE,
  handlers = c(shiny = handler_shiny, progressr::handlers(default = NULL))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="withProgressShiny_+3A_expr">expr</code>, <code id="withProgressShiny_+3A_...">...</code>, <code id="withProgressShiny_+3A_env">env</code>, <code id="withProgressShiny_+3A_quoted">quoted</code></td>
<td>
<p>Arguments passed to <code><a href="shiny.html#topic+withProgress">shiny::withProgress()</a></code> as is.</p>
</td></tr>
<tr><td><code id="withProgressShiny_+3A_message">message</code>, <code id="withProgressShiny_+3A_detail">detail</code></td>
<td>
<p>(character string) The message and the detail message to be passed to <code><a href="shiny.html#topic+withProgress">shiny::withProgress()</a></code>.</p>
</td></tr>
<tr><td><code id="withProgressShiny_+3A_inputs">inputs</code></td>
<td>
<p>(named list) Specifies from what sources the Shiny progress
elements 'message' and 'detail' should be updated.  Valid sources are
<code>"message"</code>, <code>"sticky_message"</code> and <code>"non_sticky_message"</code>, where
<code>"message"</code> is short for <code>c("non_sticky_message", "sticky_message")</code>. For
example, <code>inputs = list(message = "sticky_message", detail = "message")</code>
will update the Shiny 'message' component from sticky messages only,
whereas the 'detail' component is updated using any message.</p>
</td></tr>
<tr><td><code id="withProgressShiny_+3A_handlers">handlers</code></td>
<td>
<p>Zero or more progression handlers used to report on progress.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of <a href="shiny.html#topic+withProgress">shiny::withProgress</a>.
</p>


<h3>Requirements</h3>

<p>This function requires the <span class="pkg">shiny</span> package and will use the
<code><a href="progressr.html#topic+handler_shiny">handler_shiny()</a></code> <strong>progressr</strong> handler internally to report on updates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(progressr)

app &lt;- shinyApp(
  ui = fluidPage(
    plotOutput("plot")
  ),

  server = function(input, output) {
    output$plot &lt;- renderPlot({
      X &lt;- 1:15
      withProgressShiny(message = "Calculation in progress",
                        detail = "Starting ...",
                        value = 0, {
        p &lt;- progressor(along = X)
        y &lt;- lapply(X, FUN=function(x) {
          Sys.sleep(0.25)
          p(sprintf("x=%d", x))
        })
      })
      
      plot(cars)

      ## Terminate the Shiny app
      Sys.sleep(1.0)
      stopApp(returnValue = invisible())
    })
  }
)

local({
  oopts &lt;- options(device.ask.default = FALSE)
  on.exit(options(oopts))
  if (interactive()) print(app)
})
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

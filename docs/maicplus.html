<!DOCTYPE html><html lang="en-US"><head><title>Help for package maicplus</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {maicplus}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#maicplus-package'><p>maicplus: Matching Adjusted Indirect Comparison</p></a></li>
<li><a href='#adrs_sat'><p>Binary outcome data from single arm trial</p></a></li>
<li><a href='#adrs_twt'><p>Binary outcome data from two arm trial</p></a></li>
<li><a href='#adsl_sat'><p>Patient data from single arm study</p></a></li>
<li><a href='#adsl_twt'><p>Patient data from two arm trial</p></a></li>
<li><a href='#adtte_sat'><p>Survival data from single arm trial</p></a></li>
<li><a href='#adtte_twt'><p>Survival data from two arm trial</p></a></li>
<li><a href='#agd'><p>Aggregate effect modifier data from published study</p></a></li>
<li><a href='#basic_kmplot'><p>Basic Kaplan Meier (KM) plot function</p></a></li>
<li><a href='#basic_kmplot2'><p>Basic Kaplan Meier (KM) plot function using ggplot</p></a></li>
<li><a href='#bucher'><p>Bucher method for combining treatment effects</p></a></li>
<li><a href='#calculate_weights_legend'><p>Calculate Statistics for Weight Plot Legend</p></a></li>
<li><a href='#center_ipd'><p>Center individual patient data (IPD) variables using aggregate data averages</p></a></li>
<li><a href='#centered_ipd_sat'><p>Centered patient data from single arm trial</p></a></li>
<li><a href='#centered_ipd_twt'><p>Centered patient data from two arm trial</p></a></li>
<li><a href='#check_weights'><p>Check to see if weights are optimized correctly</p></a></li>
<li><a href='#dummize_ipd'><p>Create dummy variables from categorical variables in an individual patient data (ipd)</p></a></li>
<li><a href='#ess_footnote_text'><p>Note on Expected Sample Size Reduction</p></a></li>
<li><a href='#estimate_weights'><p>Derive individual weights in the matching step of MAIC</p></a></li>
<li><a href='#ext_tte_transfer'><p>helper function: transform TTE ADaM data to suitable input for survival R package</p></a></li>
<li><a href='#find_SE_from_CI'><p>Calculate standard error from the reported confidence interval.</p></a></li>
<li><a href='#get_pseudo_ipd_binary'><p>Create pseudo IPD given aggregated binary data</p></a></li>
<li><a href='#get_time_as'><p>Convert Time Values Using Scaling Factors</p></a></li>
<li><a href='#glm_makeup'><p>Helper function to summarize outputs from glm fit</p></a></li>
<li><a href='#kmplot'><p>Kaplan Meier (KM) plot function for anchored and unanchored cases</p></a></li>
<li><a href='#kmplot2'><p>Kaplan-Meier (KM) plot function for anchored and unanchored cases using ggplot</p></a></li>
<li><a href='#maic_anchored'><p>Anchored MAIC for binary and time-to-event endpoint</p></a></li>
<li><a href='#maic_unanchored'><p>Unanchored MAIC for binary and time-to-event endpoint</p></a></li>
<li><a href='#medSurv_makeup'><p>Helper function to retrieve median survival time from a <code>survival::survfit</code> object</p></a></li>
<li><a href='#ph_diagplot'><p>Diagnosis plot of proportional hazard assumption for anchored and unanchored</p></a></li>
<li><a href='#ph_diagplot_lch'><p>PH Diagnosis Plot of Log Cumulative Hazard Rate versus time or log-time</p></a></li>
<li><a href='#ph_diagplot_schoenfeld'><p>PH Diagnosis Plot of Schoenfeld residuals for a Cox model fit</p></a></li>
<li><a href='#plot_weights_base'><p>Plot MAIC weights in a histogram with key statistics in legend</p></a></li>
<li><a href='#plot_weights_ggplot'><p>Plot MAIC weights in a histogram with key statistics in legend using <code>ggplot2</code></p></a></li>
<li><a href='#process_agd'><p>Pre-process aggregate data</p></a></li>
<li><a href='#pseudo_ipd_sat'><p>Pseudo individual patient survival data from published study</p></a></li>
<li><a href='#pseudo_ipd_twt'><p>Pseudo individual patient survival data from published two arm study</p></a></li>
<li><a href='#reformat'><p>Reformat <code>maicplus_bucher</code> alike object</p></a></li>
<li><a href='#set_time_conversion'><p>Get and Set Time Conversion Factors</p></a></li>
<li><a href='#survfit_makeup'><p>Helper function to select set of variables used for Kaplan-Meier plot</p></a></li>
<li><a href='#weighted_sat'><p>Weighted object for single arm trial data</p></a></li>
<li><a href='#weighted_twt'><p>Weighted object for two arm trial data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Matching Adjusted Indirect Comparison</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitates performing matching adjusted indirect comparison
 (MAIC) analysis where the endpoint of interest is either time-to-event
 (e.g. overall survival) or binary (e.g. objective tumor response). The method
 is described by Signorovitch et al (2012) &lt;<a href="https://doi.org/10.1016%2Fj.jval.2012.05.004">doi:10.1016/j.jval.2012.05.004</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/hta-pharma/maicplus/">https://github.com/hta-pharma/maicplus/</a>,
<a href="https://hta-pharma.github.io/maicplus/">https://hta-pharma.github.io/maicplus/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hta-pharma/maicplus/issues">https://github.com/hta-pharma/maicplus/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, stats, survival, lubridate, matrixStats,
MASS, boot, stringr, lmtest, sandwich</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, testthat (&ge; 2.0), ggplot2, rmarkdown, dplyr,
survminer, flexsurv, tibble, vdiffr, checkmate</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-21 14:57:33 UTC; root</td>
</tr>
<tr>
<td>Author:</td>
<td>Gregory Chen [aut],
  Michael Seo [aut],
  Isaac Gravestock [aut, cre],
  Miranta Antoniou [ctb],
  Chrysostomos Kalyvas [ctb],
  MSD, Inc. [cph, fnd],
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Isaac Gravestock &lt;isaac.gravestock@roche.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-21 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='maicplus-package'>maicplus: Matching Adjusted Indirect Comparison</h2><span id='topic+maicplus'></span><span id='topic+maicplus-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Facilitates performing matching adjusted indirect comparison (MAIC) analysis where the endpoint of interest is either time-to-event (e.g. overall survival) or binary (e.g. objective tumor response). The method is described by Signorovitch et al (2012) <a href="https://doi.org/10.1016/j.jval.2012.05.004">doi:10.1016/j.jval.2012.05.004</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Isaac Gravestock <a href="mailto:isaac.gravestock@roche.com">isaac.gravestock@roche.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Gregory Chen <a href="mailto:xiangyi.gregory.chen@msd.com">xiangyi.gregory.chen@msd.com</a>
</p>
</li>
<li><p> Michael Seo <a href="mailto:michael.seo@roche.com">michael.seo@roche.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Miranta Antoniou <a href="mailto:miranta.antoniou@roche.com">miranta.antoniou@roche.com</a> [contributor]
</p>
</li>
<li><p> Chrysostomos Kalyvas <a href="mailto:chrysostomos.kal@gmail.com">chrysostomos.kal@gmail.com</a> [contributor]
</p>
</li>
<li><p> MSD, Inc. [copyright holder, funder]
</p>
</li>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/hta-pharma/maicplus/">https://github.com/hta-pharma/maicplus/</a>
</p>
</li>
<li> <p><a href="https://hta-pharma.github.io/maicplus/">https://hta-pharma.github.io/maicplus/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/hta-pharma/maicplus/issues">https://github.com/hta-pharma/maicplus/issues</a>
</p>
</li></ul>


<hr>
<h2 id='adrs_sat'>Binary outcome data from single arm trial</h2><span id='topic+adrs_sat'></span>

<h3>Description</h3>

<p>Binary outcome data from single arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adrs_sat
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 5 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm.</p>
</dd>
<dt>AVAL</dt><dd><p>Analysis value, in this dataset an indicator of response.</p>
</dd>
<dt>PARAM</dt><dd><p>Parameter type of <code>AVAL</code>.</p>
</dd>
<dt>RESPONSE</dt><dd><p>Indicator of response.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other unanchored datasets: 
<code><a href="#topic+adsl_sat">adsl_sat</a></code>,
<code><a href="#topic+adtte_sat">adtte_sat</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_sat">centered_ipd_sat</a></code>,
<code><a href="#topic+pseudo_ipd_sat">pseudo_ipd_sat</a></code>,
<code><a href="#topic+weighted_sat">weighted_sat</a></code>
</p>

<hr>
<h2 id='adrs_twt'>Binary outcome data from two arm trial</h2><span id='topic+adrs_twt'></span>

<h3>Description</h3>

<p>Binary outcome data from two arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adrs_twt
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 5 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm, <code>"A"</code>, <code>"C"</code>.</p>
</dd>
<dt>AVAL</dt><dd><p>Analysis value, in this dataset an indicator of response.</p>
</dd>
<dt>PARAM</dt><dd><p>Parameter type of <code>AVAL</code>.</p>
</dd>
<dt>RESPONSE</dt><dd><p>Indicator of response.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other anchored datasets: 
<code><a href="#topic+adsl_twt">adsl_twt</a></code>,
<code><a href="#topic+adtte_twt">adtte_twt</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_twt">centered_ipd_twt</a></code>,
<code><a href="#topic+pseudo_ipd_twt">pseudo_ipd_twt</a></code>,
<code><a href="#topic+weighted_twt">weighted_twt</a></code>
</p>

<hr>
<h2 id='adsl_sat'>Patient data from single arm study</h2><span id='topic+adsl_sat'></span>

<h3>Description</h3>

<p>Patient data from single arm study
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adsl_sat
</code></pre>


<h3>Format</h3>

<p>a data frame with 500 rows and 8 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm.</p>
</dd>
<dt>AGE</dt><dd><p>Age in years at baseline.</p>
</dd>
<dt>SEX</dt><dd><p>Sex of patient recorded as character <code>"Male"</code>/<code>"Female"</code>.</p>
</dd>
<dt>SMOKE</dt><dd><p>Smoking status at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>ECOG0</dt><dd><p>Indicator of ECOG score = 0 at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>N_PR_THER</dt><dd><p>Number of prior therapies received as integer <code style="white-space: pre;">&#8288;1, 2, 3, 4&#8288;</code>.</p>
</dd>
<dt>SEX_MALE</dt><dd><p>Indicator of <code>SEX == "Male"</code> as numeric <code>1</code>/<code>0</code>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other unanchored datasets: 
<code><a href="#topic+adrs_sat">adrs_sat</a></code>,
<code><a href="#topic+adtte_sat">adtte_sat</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_sat">centered_ipd_sat</a></code>,
<code><a href="#topic+pseudo_ipd_sat">pseudo_ipd_sat</a></code>,
<code><a href="#topic+weighted_sat">weighted_sat</a></code>
</p>

<hr>
<h2 id='adsl_twt'>Patient data from two arm trial</h2><span id='topic+adsl_twt'></span>

<h3>Description</h3>

<p>Patient data from two arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adsl_twt
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 8 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm.</p>
</dd>
<dt>AGE</dt><dd><p>Age in years at baseline.</p>
</dd>
<dt>SEX</dt><dd><p>Sex of patient recorded as character &quot;Male&quot;/&quot;Female&quot;</p>
</dd>
<dt>SMOKE</dt><dd><p>Smoking status at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>ECOG0</dt><dd><p>Indicator of ECOG score = 0 at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>N_PR_THER</dt><dd><p>Number of prior therapies received as integer <code style="white-space: pre;">&#8288;1, 2, 3, 4&#8288;</code>.</p>
</dd>
<dt>SEX_MALE</dt><dd><p>Indicator of SEX == &quot;Male&quot; as numeric 1/0</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other anchored datasets: 
<code><a href="#topic+adrs_twt">adrs_twt</a></code>,
<code><a href="#topic+adtte_twt">adtte_twt</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_twt">centered_ipd_twt</a></code>,
<code><a href="#topic+pseudo_ipd_twt">pseudo_ipd_twt</a></code>,
<code><a href="#topic+weighted_twt">weighted_twt</a></code>
</p>

<hr>
<h2 id='adtte_sat'>Survival data from single arm trial</h2><span id='topic+adtte_sat'></span>

<h3>Description</h3>

<p>Survival data from single arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adtte_sat
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 10 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm, <code>"A"</code>.</p>
</dd>
<dt>AVAL</dt><dd><p>Analysis value which in this dataset overall survival time in days.</p>
</dd>
<dt>AVALU</dt><dd><p>Unit of <code>AVAL</code>.</p>
</dd>
<dt>PARAMCD</dt><dd><p>Paramater code of <code>AVAL</code>, <code>"OS"</code>.</p>
</dd>
<dt>PARAM</dt><dd><p>Parameter name of <code>AVAL</code>, <code style="white-space: pre;">&#8288;"Overall Survival&#8288;</code>.</p>
</dd>
<dt>CNSR</dt><dd><p>Censoring indicator <code>0</code>/<code>1</code>.</p>
</dd>
<dt>TIME</dt><dd><p>Survival time in days.</p>
</dd>
<dt>EVENT</dt><dd><p>Event indicator <code>0</code>/<code>1</code>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other unanchored datasets: 
<code><a href="#topic+adrs_sat">adrs_sat</a></code>,
<code><a href="#topic+adsl_sat">adsl_sat</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_sat">centered_ipd_sat</a></code>,
<code><a href="#topic+pseudo_ipd_sat">pseudo_ipd_sat</a></code>,
<code><a href="#topic+weighted_sat">weighted_sat</a></code>
</p>

<hr>
<h2 id='adtte_twt'>Survival data from two arm trial</h2><span id='topic+adtte_twt'></span>

<h3>Description</h3>

<p>Survival data from two arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adtte_twt
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 10 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm, <code>"A"</code>, <code>"C"</code>.</p>
</dd>
<dt>AVAL</dt><dd><p>Analysis value which in this dataset overall survival time in days.</p>
</dd>
<dt>AVALU</dt><dd><p>Unit of <code>AVAL</code>.</p>
</dd>
<dt>PARAMCD</dt><dd><p>Parameter code of <code>AVAL</code>, <code>"OS"</code>.</p>
</dd>
<dt>PARAM</dt><dd><p>Parameter name of <code>AVAL</code>, <code style="white-space: pre;">&#8288;"Overall Survival&#8288;</code>.</p>
</dd>
<dt>CNSR</dt><dd><p>Censoring indicator <code>0</code>/<code>1</code>.</p>
</dd>
<dt>TIME</dt><dd><p>Survival time in days.</p>
</dd>
<dt>EVENT</dt><dd><p>Event indicator <code>0</code>/<code>1</code>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other anchored datasets: 
<code><a href="#topic+adrs_twt">adrs_twt</a></code>,
<code><a href="#topic+adsl_twt">adsl_twt</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_twt">centered_ipd_twt</a></code>,
<code><a href="#topic+pseudo_ipd_twt">pseudo_ipd_twt</a></code>,
<code><a href="#topic+weighted_twt">weighted_twt</a></code>
</p>

<hr>
<h2 id='agd'>Aggregate effect modifier data from published study</h2><span id='topic+agd'></span>

<h3>Description</h3>

<p>This data is formatted to be used in <code><a href="#topic+center_ipd">center_ipd()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>agd
</code></pre>


<h3>Format</h3>

<p>A data frame with 3 rows and 9 columns:
</p>

<dl>
<dt>STUDY</dt><dd><p>The study name, Study_XXXX</p>
</dd>
<dt>ARM</dt><dd><p>Study arm name or total</p>
</dd>
<dt>N</dt><dd><p>Number of observations in study arm</p>
</dd>
<dt>AGE_MEAN</dt><dd><p>Mean age in study arm</p>
</dd>
<dt>AGE_MEDIAN</dt><dd><p>Median age in study arm</p>
</dd>
<dt>AGE_SD</dt><dd><p>Standard deviation of age in study arm</p>
</dd>
<dt>SEX_MALE_COUNT</dt><dd><p>Number of male patients</p>
</dd>
<dt>ECOG0_COUNT</dt><dd><p>Number of patients with ECOG score = 0</p>
</dd>
<dt>SMOKE_COUNT</dt><dd><p>Number of smokers</p>
</dd>
<dt>N_PR_THER_MEDIAN</dt><dd><p>Median number of prior therapies</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other unanchored datasets: 
<code><a href="#topic+adrs_sat">adrs_sat</a></code>,
<code><a href="#topic+adsl_sat">adsl_sat</a></code>,
<code><a href="#topic+adtte_sat">adtte_sat</a></code>,
<code><a href="#topic+centered_ipd_sat">centered_ipd_sat</a></code>,
<code><a href="#topic+pseudo_ipd_sat">pseudo_ipd_sat</a></code>,
<code><a href="#topic+weighted_sat">weighted_sat</a></code>
</p>
<p>Other anchored datasets: 
<code><a href="#topic+adrs_twt">adrs_twt</a></code>,
<code><a href="#topic+adsl_twt">adsl_twt</a></code>,
<code><a href="#topic+adtte_twt">adtte_twt</a></code>,
<code><a href="#topic+centered_ipd_twt">centered_ipd_twt</a></code>,
<code><a href="#topic+pseudo_ipd_twt">pseudo_ipd_twt</a></code>,
<code><a href="#topic+weighted_twt">weighted_twt</a></code>
</p>

<hr>
<h2 id='basic_kmplot'>Basic Kaplan Meier (KM) plot function</h2><span id='topic+basic_kmplot'></span>

<h3>Description</h3>

<p>This function can generate a basic KM plot with or without risk set table appended at the bottom. In a single plot,
it can include up to 4 KM curves. This depends on number of levels in 'treatment' column in the input data.frame
<code>kmdat</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_kmplot(
  kmdat,
  endpoint_name = "Time to Event Endpoint",
  time_scale = NULL,
  time_grid = NULL,
  show_risk_set = TRUE,
  main_title = "Kaplan-Meier Curves",
  subplot_heights = NULL,
  suppress_plot_layout = FALSE,
  use_colors = NULL,
  use_line_types = NULL,
  use_pch_cex = 0.65,
  use_pch_alpha = 100
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basic_kmplot_+3A_kmdat">kmdat</code></td>
<td>
<p>a <code>data.frame</code>, must consist <code>treatment</code>, <code>time</code> (unit in days), <code>n.risk</code>, <code>censor</code>, <code>surv</code>, similar to
an output from <code>maicplus:::survfit_makeup</code></p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_endpoint_name">endpoint_name</code></td>
<td>
<p>a string, name of time to event endpoint, to be show in the last line of title</p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_time_scale">time_scale</code></td>
<td>
<p>a string, time unit of median survival time, taking a value of 'years', 'months', 'weeks' or 'days'</p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_time_grid">time_grid</code></td>
<td>
<p>a numeric vector in the unit of <code>time_scale</code>, risk set table and x axis of the km plot will be
defined based on this time grid</p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_show_risk_set">show_risk_set</code></td>
<td>
<p>logical, show risk set table or not, TRUE by default</p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_main_title">main_title</code></td>
<td>
<p>a string, main title of the KM plot</p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_subplot_heights">subplot_heights</code></td>
<td>
<p>a numeric vector, heights argument to <code>graphic::layout()</code>,NULL by default which means
user will use the default setting</p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_suppress_plot_layout">suppress_plot_layout</code></td>
<td>
<p>logical, suppress the layout setting in this function so that user can specify layout
outside of the function, FALSE by default</p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_use_colors">use_colors</code></td>
<td>
<p>a character vector of length up to 4, colors to the KM curves, it will be passed to <code>col</code> of
<code>lines()</code></p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_use_line_types">use_line_types</code></td>
<td>
<p>a numeric vector of length up to 4, line type to the KM curves, it will be passed to <code>lty</code> of
<code>lines()</code></p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_use_pch_cex">use_pch_cex</code></td>
<td>
<p>a scalar between 0 and 1, point size to indicate censored individuals on the KM curves, it will be
passed to <code>cex</code> of <code>points()</code></p>
</td></tr>
<tr><td><code id="basic_kmplot_+3A_use_pch_alpha">use_pch_alpha</code></td>
<td>
<p>a scalar between 0 and 255, degree of color transparency of points to indicate censored
individuals on the KM curves, it will be passed to <code>cex</code> of <code>points()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a KM plot with or without risk set table appended at the bottom, with up to 4 KM curves
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
data(adtte_sat)
data(pseudo_ipd_sat)

combined_data &lt;- rbind(adtte_sat[, c("TIME", "EVENT", "ARM")], pseudo_ipd_sat)
kmobj &lt;- survfit(Surv(TIME, EVENT) ~ ARM, combined_data, conf.type = "log-log")
kmdat &lt;- do.call(rbind, survfit_makeup(kmobj))
kmdat$treatment &lt;- factor(kmdat$treatment)

# without risk set table
basic_kmplot(kmdat,
  time_scale = "month",
  time_grid = seq(0, 20, by = 2),
  show_risk_set = FALSE,
  main_title = "Kaplan-Meier Curves",
  subplot_heights = NULL,
  suppress_plot_layout = FALSE,
  use_colors = NULL,
  use_line_types = NULL
)

# with risk set table
basic_kmplot(kmdat,
  time_scale = "month",
  time_grid = seq(0, 20, by = 2),
  show_risk_set = TRUE,
  main_title = "Kaplan-Meier Curves",
  subplot_heights = NULL,
  suppress_plot_layout = FALSE,
  use_colors = NULL,
  use_line_types = NULL
)
</code></pre>

<hr>
<h2 id='basic_kmplot2'>Basic Kaplan Meier (KM) plot function using ggplot</h2><span id='topic+basic_kmplot2'></span>

<h3>Description</h3>

<p>This function generates a basic KM plot using ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_kmplot2(
  kmlist,
  kmlist_name,
  endpoint_name = "Time to Event Endpoint",
  show_risk_set = TRUE,
  main_title = "Kaplan-Meier Curves",
  break_x_by = NULL,
  censor = TRUE,
  xlab = "Time",
  xlim = NULL,
  use_colors = NULL,
  use_line_types = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basic_kmplot2_+3A_kmlist">kmlist</code></td>
<td>
<p>a list of <code>survfit</code> object</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_kmlist_name">kmlist_name</code></td>
<td>
<p>a vector indicating the treatment names of each <code>survfit</code> object</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_endpoint_name">endpoint_name</code></td>
<td>
<p>a string, name of time to event endpoint, to be show in the
last line of title</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_show_risk_set">show_risk_set</code></td>
<td>
<p>logical, show risk set table or not, TRUE by default</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_main_title">main_title</code></td>
<td>
<p>a string, main title of the KM plot</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_break_x_by">break_x_by</code></td>
<td>
<p>bin parameter for <code>survminer</code></p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_censor">censor</code></td>
<td>
<p>indicator to include censor information</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_xlab">xlab</code></td>
<td>
<p>label name for x-axis of the plot</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_xlim">xlim</code></td>
<td>
<p>x limit for the x-axis of the plot</p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_use_colors">use_colors</code></td>
<td>
<p>a character vector of length up to 4, colors to the KM curves,
it will be passed to 'col' of <code>lines()</code></p>
</td></tr>
<tr><td><code id="basic_kmplot2_+3A_use_line_types">use_line_types</code></td>
<td>
<p>a numeric vector of length up to 4, line type to the KM curves,
it will be passed to <code>lty</code> of <code>lines()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Kaplan-Meier plot object created with <code>survminer::ggsurvplot()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
data(adtte_sat)
data(pseudo_ipd_sat)

kmobj_A &lt;- survfit(Surv(TIME, EVENT) ~ ARM,
  data = adtte_sat,
  conf.type = "log-log"
)

kmobj_B &lt;- survfit(Surv(TIME, EVENT) ~ ARM,
  data = pseudo_ipd_sat,
  conf.type = "log-log"
)

kmlist &lt;- list(kmobj_A = kmobj_A, kmobj_B = kmobj_B)
kmlist_name &lt;- c("A", "B")

basic_kmplot2(kmlist, kmlist_name)
</code></pre>

<hr>
<h2 id='bucher'>Bucher method for combining treatment effects</h2><span id='topic+bucher'></span><span id='topic+print.maicplus_bucher'></span>

<h3>Description</h3>

<p>Given two treatment effects of A vs. C and B vs. C
derive the treatment effects of A vs. B using the Bucher method.
Two-sided confidence interval and Z-test p-value are also calculated.
Treatment effects and standard errors should be in log scale
for hazard ratio, odds ratio, and risk ratio.
Treatment effects and standard errors should be in natural scale
for risk difference and mean difference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bucher(trt, com, conf_lv = 0.95)

## S3 method for class 'maicplus_bucher'
print(x, ci_digits = 2, pval_digits = 3, exponentiate = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bucher_+3A_trt">trt</code></td>
<td>
<p>a list of two scalars for the study with the
experimental arm. <code>'est'</code> is the point estimate and <code>'se'</code>
is the standard error of the treatment effect.
For time-to-event data, <code>'est'</code> and <code>'se'</code> should be point estimate and
standard error of the log hazard ratio.
For binary data, <code>'est'</code> and <code>'se'</code> should be point estimate and
standard error of the log odds ratio, log risk ratio, or risk
difference.
For continuous data,  <code>'est'</code> and <code>'se'</code> should be point estimate and
standard error of the mean difference.</p>
</td></tr>
<tr><td><code id="bucher_+3A_com">com</code></td>
<td>
<p>same as <code>trt</code>, but for the study with the
control arm</p>
</td></tr>
<tr><td><code id="bucher_+3A_conf_lv">conf_lv</code></td>
<td>
<p>a numerical scalar, prescribe confidence level to derive
two-sided confidence interval for the treatment effect</p>
</td></tr>
<tr><td><code id="bucher_+3A_x">x</code></td>
<td>
<p><code>maicplus_bucher</code> object</p>
</td></tr>
<tr><td><code id="bucher_+3A_ci_digits">ci_digits</code></td>
<td>
<p>an integer, number of decimal places for point
estimate and derived confidence limits</p>
</td></tr>
<tr><td><code id="bucher_+3A_pval_digits">pval_digits</code></td>
<td>
<p>an integer, number of decimal places to display
Z-test p-value</p>
</td></tr>
<tr><td><code id="bucher_+3A_exponentiate">exponentiate</code></td>
<td>
<p>whether the treatment effect and confidence
interval should be exponentiated. This applies to relative
treatment effects. Default is set to false.</p>
</td></tr>
<tr><td><code id="bucher_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with 5 elements,
</p>

<dl>
<dt>est</dt><dd><p>a scalar, point estimate of the treatment effect</p>
</dd>
<dt>se</dt><dd><p>a scalar, standard error of the treatment effect</p>
</dd>
<dt>ci_l</dt><dd><p>a scalar, lower confidence limit of a two-sided CI
with prescribed nominal level by <code>conf_lv</code></p>
</dd>
<dt>ci_u</dt><dd><p>a scalar, upper confidence limit of a two-sided CI
with prescribed nominal level by <code>conf_lv</code></p>
</dd>
<dt>pval</dt><dd><p>p-value of Z-test, with null hypothesis that
<code>est</code> is zero</p>
</dd>
</dl>



<h3>Methods (by generic)</h3>


<ul>
<li> <p><code>print(maicplus_bucher)</code>: Print method for <code>maicplus_bucher</code> objects
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>trt &lt;- list(est = log(1.1), se = 0.2)
com &lt;- list(est = log(1.3), se = 0.18)
result &lt;- bucher(trt, com, conf_lv = 0.9)
print(result, ci_digits = 3, pval_digits = 3)
</code></pre>

<hr>
<h2 id='calculate_weights_legend'>Calculate Statistics for Weight Plot Legend</h2><span id='topic+calculate_weights_legend'></span>

<h3>Description</h3>

<p>Calculates ESS reduction and median weights which is used to create legend for weights plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_weights_legend(weighted_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculate_weights_legend_+3A_weighted_data">weighted_data</code></td>
<td>
<p>object returned after calculating weights using <a href="#topic+estimate_weights">estimate_weights</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of ESS, ESS reduction, median value of scaled and unscaled weights, and missing count
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("weighted_sat")
calculate_weights_legend(weighted_sat)
</code></pre>

<hr>
<h2 id='center_ipd'>Center individual patient data (IPD) variables using aggregate data averages</h2><span id='topic+center_ipd'></span>

<h3>Description</h3>

<p>This function subtracts IPD variables (prognostic variables and/or effect modifiers)
by the aggregate data averages. This centering is needed in order to calculate weights.
IPD and aggregate data variable names should match.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>center_ipd(ipd, agd)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="center_ipd_+3A_ipd">ipd</code></td>
<td>
<p>IPD variable names should match the aggregate data names without the suffix.
This would involve either changing the aggregate data name or the ipd name.
For instance, if we binarize SEX variable with MALE as a reference using <a href="#topic+dummize_ipd">dummize_ipd</a>,
function names the new variable as SEX_MALE.
In this case, SEX_MALE should also be available in the aggregate data.</p>
</td></tr>
<tr><td><code id="center_ipd_+3A_agd">agd</code></td>
<td>
<p>pre-processed aggregate data which contain STUDY, ARM, and N. Variable names
should be followed by legal suffixes (i.e. MEAN, MEDIAN, SD, or PROP). Note that COUNT
suffix is no longer accepted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>centered ipd using aggregate level data averages
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(adsl_sat)
data(agd)
agd &lt;- process_agd(agd)
ipd_centered &lt;- center_ipd(ipd = adsl_sat, agd = agd)
</code></pre>

<hr>
<h2 id='centered_ipd_sat'>Centered patient data from single arm trial</h2><span id='topic+centered_ipd_sat'></span>

<h3>Description</h3>

<p>Centered patient data from single arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>centered_ipd_sat
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 14 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm.</p>
</dd>
<dt>AGE</dt><dd><p>Age in years at baseline.</p>
</dd>
<dt>SEX</dt><dd><p>Sex of patient recorded as character <code>"Male"</code>/<code>"Female"</code>.</p>
</dd>
<dt>SMOKE</dt><dd><p>Smoking status at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>ECOG0</dt><dd><p>Indicator of ECOG score = 0 at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>N_PR_THER</dt><dd><p>Number of prior therapies received as integer <code style="white-space: pre;">&#8288;1, 2, 3, 4&#8288;</code>.</p>
</dd>
<dt>SEX_MALE</dt><dd><p>Indicator of <code>SEX == "Male"</code> as numeric <code>1</code>/<code>0</code>.</p>
</dd>
<dt>AGE_CENTERED</dt><dd><p>Age in years at baseline relative to average in aggregate data <a href="#topic+agd">agd</a>.</p>
</dd>
<dt>AGE_MEDIAN_CENTERED</dt><dd><p><code>AGE</code> greater/less than <code>MEDIAN_AGE</code> in <a href="#topic+agd">agd</a> coded as <code>1</code>/<code>0</code> and then centered at
0.5.</p>
</dd>
<dt>AGE_SQUARED_CENTERED</dt><dd><p><code>AGE</code> squared and centered with respect to the <code>AGE</code> in <a href="#topic+agd">agd</a>. The squared age in the
aggregate data is derived from the <code class="reqn">E(X^2)</code> term in the variance formula.</p>
</dd>
<dt>SEX_MALE_CENTERED</dt><dd><p><code>SEX_MALE</code> centered by the proportion of male patients in <a href="#topic+agd">agd</a></p>
</dd>
<dt>ECOG0_CENTERED</dt><dd><p><code>ECOG0</code> centered by the proportion of <code>ECOG0</code> in <a href="#topic+agd">agd</a></p>
</dd>
<dt>SMOKE_CENTERED</dt><dd><p><code>SMOKE</code> centered by the proportion of <code>SMOKE</code> in <a href="#topic+agd">agd</a></p>
</dd>
<dt>N_PR_THER_MEDIAN_CENTERED</dt><dd><p><code>N_PR_THER</code> centered by the median in <a href="#topic+agd">agd</a>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other unanchored datasets: 
<code><a href="#topic+adrs_sat">adrs_sat</a></code>,
<code><a href="#topic+adsl_sat">adsl_sat</a></code>,
<code><a href="#topic+adtte_sat">adtte_sat</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+pseudo_ipd_sat">pseudo_ipd_sat</a></code>,
<code><a href="#topic+weighted_sat">weighted_sat</a></code>
</p>

<hr>
<h2 id='centered_ipd_twt'>Centered patient data from two arm trial</h2><span id='topic+centered_ipd_twt'></span>

<h3>Description</h3>

<p>Centered patient data from two arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>centered_ipd_twt
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 14 columns:
</p>

<dl>
<dt>USUBJID</dt><dd><p>Unique subject identifiers for patients.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm.</p>
</dd>
<dt>AGE</dt><dd><p>Age in years at baseline.</p>
</dd>
<dt>SEX</dt><dd><p>Sex of patient recorded as character <code>"Male"</code>/<code>"Female"</code>.</p>
</dd>
<dt>SMOKE</dt><dd><p>Smoking status at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>ECOG0</dt><dd><p>Indicator of ECOG score = 0 at baseline as integer <code>1</code>/<code>0</code>.</p>
</dd>
<dt>N_PR_THER</dt><dd><p>Number of prior therapies received as integer <code style="white-space: pre;">&#8288;1, 2, 3, 4&#8288;</code>.</p>
</dd>
<dt>SEX_MALE</dt><dd><p>Indicator of <code>SEX == "Male"</code> as numeric <code>1</code>/<code>0</code>.</p>
</dd>
<dt>AGE_CENTERED</dt><dd><p>Age in years at baseline relative to average in aggregate data <a href="#topic+agd">agd</a>.</p>
</dd>
<dt>AGE_MEDIAN_CENTERED</dt><dd><p><code>AGE</code> greater/less than <code>MEDIAN_AGE</code> in <a href="#topic+agd">agd</a> coded as <code>1</code>/<code>0</code> and then centered at
0.5.</p>
</dd>
<dt>AGE_SQUARED_CENTERED</dt><dd><p><code>AGE</code> squared and centered with respect to the <code>AGE</code> in <a href="#topic+agd">agd</a>. The squared age in the
aggregate data is derived from the <code class="reqn">E(X^2)</code> term in the variance formula.</p>
</dd>
<dt>SEX_MALE_CENTERED</dt><dd><p><code>SEX_MALE</code> centered by the proportion of male patients in <a href="#topic+agd">agd</a></p>
</dd>
<dt>ECOG0_CENTERED</dt><dd><p><code>ECOG0</code> centered by the proportion of <code>ECOG0</code> in <a href="#topic+agd">agd</a></p>
</dd>
<dt>SMOKE_CENTERED</dt><dd><p><code>SMOKE</code> centered by the proportion of <code>SMOKE</code> in <a href="#topic+agd">agd</a></p>
</dd>
<dt>N_PR_THER_MEDIAN_CENTERED</dt><dd><p><code>N_PR_THER</code> centered by the median in <a href="#topic+agd">agd</a>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other anchored datasets: 
<code><a href="#topic+adrs_twt">adrs_twt</a></code>,
<code><a href="#topic+adsl_twt">adsl_twt</a></code>,
<code><a href="#topic+adtte_twt">adtte_twt</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+pseudo_ipd_twt">pseudo_ipd_twt</a></code>,
<code><a href="#topic+weighted_twt">weighted_twt</a></code>
</p>

<hr>
<h2 id='check_weights'>Check to see if weights are optimized correctly</h2><span id='topic+check_weights'></span><span id='topic+print.maicplus_check_weights'></span>

<h3>Description</h3>

<p>This function checks to see if the optimization is done properly
by checking the covariate averages before and after adjustment.
In case of ties when calculating median,
we return the mean of the two numbers. For more details,
see <code>ties</code> parameter in <a href="matrixStats.html#topic+weightedMedian">matrixStats::weightedMedian</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_weights(weighted_data, processed_agd)

## S3 method for class 'maicplus_check_weights'
print(
  x,
  mean_digits = 2,
  prop_digits = 2,
  sd_digits = 3,
  digits = getOption("digits"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_weights_+3A_weighted_data">weighted_data</code></td>
<td>
<p>object returned after calculating weights using <code><a href="#topic+estimate_weights">estimate_weights</a></code></p>
</td></tr>
<tr><td><code id="check_weights_+3A_processed_agd">processed_agd</code></td>
<td>
<p>a data frame, object returned after using <code><a href="#topic+process_agd">process_agd</a></code> or
aggregated data following the same naming convention</p>
</td></tr>
<tr><td><code id="check_weights_+3A_x">x</code></td>
<td>
<p>object from <a href="#topic+check_weights">check_weights</a></p>
</td></tr>
<tr><td><code id="check_weights_+3A_mean_digits">mean_digits</code></td>
<td>
<p>number of digits for rounding mean columns in the output</p>
</td></tr>
<tr><td><code id="check_weights_+3A_prop_digits">prop_digits</code></td>
<td>
<p>number of digits for rounding proportion columns in the output</p>
</td></tr>
<tr><td><code id="check_weights_+3A_sd_digits">sd_digits</code></td>
<td>
<p>number of digits for rounding mean columns in the output</p>
</td></tr>
<tr><td><code id="check_weights_+3A_digits">digits</code></td>
<td>
<p>minimal number of significant digits, see <a href="base.html#topic+print.default">print.default</a>.</p>
</td></tr>
<tr><td><code id="check_weights_+3A_...">...</code></td>
<td>
<p>further arguments to <a href="base.html#topic+print.data.frame">print.data.frame</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame of weighted and unweighted covariate averages of the IPD,
average of aggregate data, and sum of inner products of covariate <code class="reqn">x_i</code> and the weights (<code class="reqn">exp(x_i\beta)</code>)
</p>


<h3>Methods (by generic)</h3>


<ul>
<li> <p><code>print(maicplus_check_weights)</code>: Print method for check_weights objects
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>data(weighted_sat)
data(agd)
check_weights(weighted_sat, process_agd(agd))
</code></pre>

<hr>
<h2 id='dummize_ipd'>Create dummy variables from categorical variables in an individual patient data (ipd)</h2><span id='topic+dummize_ipd'></span>

<h3>Description</h3>

<p>This is a convenient function to convert categorical variables into dummy binary variables.
This would be especially useful if the variable has more than two factors.
Note that the original variable is kept after a variable is dummized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dummize_ipd(raw_ipd, dummize_cols, dummize_ref_level)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dummize_ipd_+3A_raw_ipd">raw_ipd</code></td>
<td>
<p>ipd data that contains variable to dummize</p>
</td></tr>
<tr><td><code id="dummize_ipd_+3A_dummize_cols">dummize_cols</code></td>
<td>
<p>vector of column names to binarize</p>
</td></tr>
<tr><td><code id="dummize_ipd_+3A_dummize_ref_level">dummize_ref_level</code></td>
<td>
<p>vector of reference level of the variables to binarize</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ipd with dummized columns
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(adsl_twt)
dummize_ipd(adsl_twt, dummize_cols = c("SEX"), dummize_ref_level = c("Male"))

</code></pre>

<hr>
<h2 id='ess_footnote_text'>Note on Expected Sample Size Reduction</h2><span id='topic+ess_footnote_text'></span>

<h3>Description</h3>

<p>Note on Expected Sample Size Reduction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ess_footnote_text(width = 0.9 * getOption("width"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ess_footnote_text_+3A_width">width</code></td>
<td>
<p>Number of characters to break string into new lines (<code style="white-space: pre;">&#8288;\n&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string
</p>

<hr>
<h2 id='estimate_weights'>Derive individual weights in the matching step of MAIC</h2><span id='topic+estimate_weights'></span><span id='topic+plot.maicplus_estimate_weights'></span>

<h3>Description</h3>

<p>Assuming data is properly processed, this function takes individual patient data (IPD) with centered covariates
(effect modifiers and/or prognostic variables) as input, and generates weights for each individual in IPD trial to
match the covariates in aggregate data.
</p>
<p>The plot function displays individuals weights with key summary in top right legend that includes
median weight, effective sample size (ESS), and reduction percentage (what percent ESS is reduced from the
original sample size). There are two options of plotting: base R plot and <code>ggplot</code>. The default
for base R plot is to plot unscaled and scaled separately. The default
for <code>ggplot</code> is to plot unscaled and scaled weights on a same plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimate_weights(
  data,
  centered_colnames = NULL,
  start_val = 0,
  method = "BFGS",
  n_boot_iteration = NULL,
  set_seed_boot = 1234,
  boot_strata = "ARM",
  ...
)

## S3 method for class 'maicplus_estimate_weights'
plot(
  x,
  ggplot = FALSE,
  bin_col = "#6ECEB2",
  vline_col = "#688CE8",
  main_title = NULL,
  scaled_weights = TRUE,
  bins = 50,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimate_weights_+3A_data">data</code></td>
<td>
<p>a numeric matrix, centered covariates of IPD, no missing value in any cell is allowed</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_centered_colnames">centered_colnames</code></td>
<td>
<p>a character or numeric vector (column indicators) of centered covariates</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_start_val">start_val</code></td>
<td>
<p>a scalar, the starting value for all coefficients of the propensity score regression</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_method">method</code></td>
<td>
<p>a string, name of the optimization algorithm (see 'method' argument of <code>base::optim()</code>) The
default is <code>"BFGS"</code>, other options are <code>"Nelder-Mead"</code>, <code>"CG"</code>, <code>"L-BFGS-B"</code>, <code>"SANN"</code>, and <code>"Brent"</code></p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_n_boot_iteration">n_boot_iteration</code></td>
<td>
<p>an integer, number of bootstrap iterations. By default is NULL which means bootstrapping
procedure will not be triggered, and hence the element <code>"boot"</code> of output list object will be NULL.</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_set_seed_boot">set_seed_boot</code></td>
<td>
<p>a scalar, the random seed for conducting the bootstrapping, only relevant if
<code>n_boot_iteration</code> is not NULL. By default, use seed 1234</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_boot_strata">boot_strata</code></td>
<td>
<p>a character vector of column names in <code>data</code> that defines the strata for bootstrapping.
This ensures that samples are drawn proportionally from each defined stratum. If <code>NULL</code>,
no stratification during bootstrapping process. By default, it is &quot;ARM&quot;</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_...">...</code></td>
<td>
<p>Additional <code>control</code> parameters passed to <a href="stats.html#topic+optim">stats::optim</a>.</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_x">x</code></td>
<td>
<p>object from <a href="#topic+estimate_weights">estimate_weights</a></p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_ggplot">ggplot</code></td>
<td>
<p>indicator to print base weights plot or <code>ggplot</code> weights plot</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_bin_col">bin_col</code></td>
<td>
<p>a string, color for the bins of histogram</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_vline_col">vline_col</code></td>
<td>
<p>a string, color for the vertical line in the histogram</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_main_title">main_title</code></td>
<td>
<p>title of the plot. For ggplot, name of scaled weights plot and unscaled weights plot, respectively.</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_scaled_weights">scaled_weights</code></td>
<td>
<p>(base plot only) an indicator for using scaled weights instead of regular weights</p>
</td></tr>
<tr><td><code id="estimate_weights_+3A_bins">bins</code></td>
<td>
<p>(<code>ggplot</code> only) number of bin parameter to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with the following 4 elements,
</p>

<dl>
<dt>data</dt><dd><p>a data.frame, includes the input <code>data</code> with appended column 'weights' and 'scaled_weights'.
Scaled weights has a summation to be the number of rows in <code>data</code> that has no missing value in any of the
effect modifiers</p>
</dd>
<dt>centered_colnames</dt><dd><p>column names of centered effect modifiers in <code>data</code></p>
</dd>
<dt>nr_missing</dt><dd><p>number of rows in <code>data</code> that has at least 1 missing value in specified centered effect
modifiers</p>
</dd>
<dt>ess</dt><dd><p>effective sample size, square of sum divided by sum of squares</p>
</dd>
<dt>opt</dt><dd><p>R object returned by <code>base::optim()</code>, for assess convergence and other details</p>
</dd>
<dt>boot_strata</dt><dd><p>'strata' from a boot::boot object</p>
</dd>
<dt>boot_seed</dt><dd><p>column names in <code>data</code> of the stratification factors</p>
</dd>
<dt>boot</dt><dd><p>a n by 2 by k array or NA, where n equals to number of rows in <code>data</code>, and k equals
<code>n_boot_iteration</code>. The 2 columns in the second dimension include a column of numeric indexes of the rows
in <code>data</code> that are selected at a bootstrapping iteration and a column of weights. <code>boot</code> is NA when
argument <code>n_boot_iteration</code> is set as NULL
</p>
</dd>
</dl>



<h3>Methods (by generic)</h3>


<ul>
<li> <p><code>plot(maicplus_estimate_weights)</code>: Plot method for estimate_weights objects
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>data(centered_ipd_sat)
centered_colnames &lt;- grep("_CENTERED", colnames(centered_ipd_sat), value = TRUE)
weighted_data &lt;- estimate_weights(data = centered_ipd_sat, centered_colnames = centered_colnames)

# To later estimate bootstrap confidence intervals, we calculate the weights
# for the bootstrap samples:
weighted_data_boot &lt;- estimate_weights(
  data = centered_ipd_sat, centered_colnames = centered_colnames, n_boot_iteration = 100
)

plot(weighted_sat)

if (requireNamespace("ggplot2")) {
  plot(weighted_sat, ggplot = TRUE)
}
</code></pre>

<hr>
<h2 id='ext_tte_transfer'>helper function: transform TTE ADaM data to suitable input for survival R package</h2><span id='topic+ext_tte_transfer'></span>

<h3>Description</h3>

<p>helper function: transform TTE ADaM data to suitable input for survival R package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ext_tte_transfer(dd, time_scale = "months", trt = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ext_tte_transfer_+3A_dd">dd</code></td>
<td>
<p>data frame, ADTTE read via <code>haven::read_sas</code></p>
</td></tr>
<tr><td><code id="ext_tte_transfer_+3A_time_scale">time_scale</code></td>
<td>
<p>a character string, 'years', 'months', 'weeks' or 'days', time unit of median survival time</p>
</td></tr>
<tr><td><code id="ext_tte_transfer_+3A_trt">trt</code></td>
<td>
<p>values to include in treatment column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame that can be used as input to <code>survival::Surv</code>
</p>

<hr>
<h2 id='find_SE_from_CI'>Calculate standard error from the reported confidence interval.</h2><span id='topic+find_SE_from_CI'></span>

<h3>Description</h3>

<p>Comparator studies often only report confidence interval of the
treatment effects. This function calculates standard error of the
treatment effect given the reported confidence interval.
For relative treatment effect (i.e. hazard ratio, odds ratio, and
risk ratio), the function would log the confidence interval.
For risk difference and mean difference,
we do not log the confidence interval.
The option to log the confidence interval is controlled
by <code>'log'</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_SE_from_CI(CI_lower = NULL, CI_upper = NULL, CI_perc = 0.95, log = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_SE_from_CI_+3A_ci_lower">CI_lower</code></td>
<td>
<p>Reported lower percentile value of the
treatment effect</p>
</td></tr>
<tr><td><code id="find_SE_from_CI_+3A_ci_upper">CI_upper</code></td>
<td>
<p>Reported upper percentile value of the
treatment effect</p>
</td></tr>
<tr><td><code id="find_SE_from_CI_+3A_ci_perc">CI_perc</code></td>
<td>
<p>Percentage of confidence interval reported</p>
</td></tr>
<tr><td><code id="find_SE_from_CI_+3A_log">log</code></td>
<td>
<p>Whether the confidence interval should be logged.
For relative treatment effect, log should be applied because
estimated log treatment effect is approximately normally distributed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Standard error of log relative treatment effect if <code>'log'</code>
is true and standard error of the treatment effect if <code>'log'</code>
is false
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_SE_from_CI(CI_lower = 0.55, CI_upper = 0.90, CI_perc = 0.95)
</code></pre>

<hr>
<h2 id='get_pseudo_ipd_binary'>Create pseudo IPD given aggregated binary data</h2><span id='topic+get_pseudo_ipd_binary'></span>

<h3>Description</h3>

<p>Create pseudo IPD given aggregated binary data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pseudo_ipd_binary(binary_agd, format = c("stacked", "unstacked"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_pseudo_ipd_binary_+3A_binary_agd">binary_agd</code></td>
<td>
<p>a data.frame that take different formats depending on <code>format</code></p>
</td></tr>
<tr><td><code id="get_pseudo_ipd_binary_+3A_format">format</code></td>
<td>
<p>a string, &quot;stacked&quot; or &quot;unstacked&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame of pseudo binary IPD, with columns USUBJID, ARM, RESPONSE
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example of unstacked
testdat &lt;- data.frame(Yes = 280, No = 120)
rownames(testdat) &lt;- "B"
get_pseudo_ipd_binary(
  binary_agd = testdat,
  format = "unstacked"
)

# example of stacked
get_pseudo_ipd_binary(
  binary_agd = data.frame(
    ARM = rep("B", 2),
    RESPONSE = c("YES", "NO"),
    COUNT = c(280, 120)
  ),
  format = "stacked"
)
</code></pre>

<hr>
<h2 id='get_time_as'>Convert Time Values Using Scaling Factors</h2><span id='topic+get_time_as'></span>

<h3>Description</h3>

<p>Convert Time Values Using Scaling Factors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_time_as(times, as = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_time_as_+3A_times">times</code></td>
<td>
<p>Numeric time values</p>
</td></tr>
<tr><td><code id="get_time_as_+3A_as">as</code></td>
<td>
<p>A time scale to convert to. One of &quot;days&quot;, &quot;weeks&quot;, &quot;months&quot;, &quot;years&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a numeric vector calculated from <code>times / get_time_conversion(factor = as)</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_time_as(50, as = "months")
</code></pre>

<hr>
<h2 id='glm_makeup'>Helper function to summarize outputs from glm fit</h2><span id='topic+glm_makeup'></span>

<h3>Description</h3>

<p>Helper function to summarize outputs from glm fit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glm_makeup(binobj, legend = "before matching", weighted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="glm_makeup_+3A_binobj">binobj</code></td>
<td>
<p>returned object from <code>stats::glm</code></p>
</td></tr>
<tr><td><code id="glm_makeup_+3A_legend">legend</code></td>
<td>
<p>label to indicate the binary fit</p>
</td></tr>
<tr><td><code id="glm_makeup_+3A_weighted">weighted</code></td>
<td>
<p>logical flag indicating whether weights have been applied in the glm fit</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> containing a summary of the number of events and subjects in a logistic
regression model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(adrs_sat)
pseudo_adrs &lt;- get_pseudo_ipd_binary(
  binary_agd = data.frame(
    ARM = rep("B", 2),
    RESPONSE = c("YES", "NO"),
    COUNT = c(280, 120)
  ),
  format = "stacked"
)
pseudo_adrs$RESPONSE &lt;- as.numeric(pseudo_adrs$RESPONSE)
combined_data &lt;- rbind(adrs_sat[, c("USUBJID", "ARM", "RESPONSE")], pseudo_adrs)
combined_data$ARM &lt;- as.factor(combined_data$ARM)
binobj_dat &lt;- stats::glm(RESPONSE ~ ARM, combined_data, family = binomial("logit"))
glm_makeup(binobj_dat)
</code></pre>

<hr>
<h2 id='kmplot'>Kaplan Meier (KM) plot function for anchored and unanchored cases</h2><span id='topic+kmplot'></span>

<h3>Description</h3>

<p>It is wrapper function of <code>basic_kmplot</code>. The argument setting is similar to <code>maic_anchored</code> and
<code>maic_unanchored</code>, and it is used in those two functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kmplot(
  weights_object,
  tte_ipd,
  tte_pseudo_ipd,
  trt_ipd,
  trt_agd,
  trt_common = NULL,
  normalize_weights = FALSE,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  km_conf_type = "log-log",
  km_layout = c("all", "by_trial", "by_arm"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kmplot_+3A_weights_object">weights_object</code></td>
<td>
<p>an object returned by <code>estimate_weight</code></p>
</td></tr>
<tr><td><code id="kmplot_+3A_tte_ipd">tte_ipd</code></td>
<td>
<p>a data frame of individual patient data (IPD) of internal trial, contain at least <code>"USUBJID"</code>,
<code>"EVENT"</code>, <code>"TIME"</code> columns and a column indicating treatment assignment</p>
</td></tr>
<tr><td><code id="kmplot_+3A_tte_pseudo_ipd">tte_pseudo_ipd</code></td>
<td>
<p>a data frame of pseudo IPD by digitized KM curves of external trial (for time-to-event
endpoint), contain at least <code>"EVENT"</code>, <code>"TIME"</code></p>
</td></tr>
<tr><td><code id="kmplot_+3A_trt_ipd">trt_ipd</code></td>
<td>
<p>a string, name of the interested investigation arm in internal trial <code>dat_igd</code> (real IPD)</p>
</td></tr>
<tr><td><code id="kmplot_+3A_trt_agd">trt_agd</code></td>
<td>
<p>a string, name of the interested investigation arm in external trial <code>dat_pseudo</code> (pseudo IPD)</p>
</td></tr>
<tr><td><code id="kmplot_+3A_trt_common">trt_common</code></td>
<td>
<p>a string, name of the common comparator in internal and external trial, by default is NULL,
indicating unanchored case</p>
</td></tr>
<tr><td><code id="kmplot_+3A_normalize_weights">normalize_weights</code></td>
<td>
<p>logical, default is <code>FALSE</code>. If <code>TRUE</code>,
<code>scaled_weights</code> (normalized weights) in <code>weights_object$data</code> will be used.</p>
</td></tr>
<tr><td><code id="kmplot_+3A_trt_var_ipd">trt_var_ipd</code></td>
<td>
<p>a string, column name in <code>tte_ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="kmplot_+3A_trt_var_agd">trt_var_agd</code></td>
<td>
<p>a string, column name in <code>tte_pseudo_ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="kmplot_+3A_km_conf_type">km_conf_type</code></td>
<td>
<p>a string, pass to <code>conf.type</code> of <code>survfit</code></p>
</td></tr>
<tr><td><code id="kmplot_+3A_km_layout">km_layout</code></td>
<td>
<p>a string, only applicable for unanchored case (<code>trt_common = NULL</code>), indicated the desired
layout of output KM curve.</p>
</td></tr>
<tr><td><code id="kmplot_+3A_...">...</code></td>
<td>
<p>other arguments in <code>basic_kmplot</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>In unanchored case, a KM plot with risk set table. In anchored case, depending on <code>km_layout</code>,
</p>

<ul>
<li><p> if &quot;by_trial&quot;, 2 by 1 plot, first all KM curves (incl. weighted) in IPD trial, and then KM curves in AgD
trial, with risk set table.
</p>
</li>
<li><p> if &quot;by_arm&quot;, 2 by 1 plot, first KM curves of <code>trt_agd</code> and  <code>trt_ipd</code> (with and without weights),
and then KM curves of <code>trt_common</code> in AgD trial and IPD trial (with and without weights). Risk set table is
appended.
</p>
</li>
<li><p> if &quot;all&quot;, 2 by 2 plot, all plots in &quot;by_trial&quot; and &quot;by_arm&quot; without risk set table appended.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># unanchored example using kmplot
data(weighted_sat)
data(adtte_sat)
data(pseudo_ipd_sat)

kmplot(
  weights_object = weighted_sat,
  tte_ipd = adtte_sat,
  tte_pseudo_ipd = pseudo_ipd_sat,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = NULL,
  km_conf_type = "log-log",
  time_scale = "month",
  time_grid = seq(0, 20, by = 2),
  use_colors = NULL,
  use_line_types = NULL,
  use_pch_cex = 0.65,
  use_pch_alpha = 100
)
# anchored example using kmplot
data(weighted_twt)
data(adtte_twt)
data(pseudo_ipd_twt)

# plot by trial
kmplot(
  weights_object = weighted_twt,
  tte_ipd = adtte_twt,
  tte_pseudo_ipd = pseudo_ipd_twt,
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  km_conf_type = "log-log",
  km_layout = "by_trial",
  time_scale = "month",
  time_grid = seq(0, 20, by = 2),
  use_colors = NULL,
  use_line_types = NULL,
  use_pch_cex = 0.65,
  use_pch_alpha = 100
)

# plot by arm
kmplot(
  weights_object = weighted_twt,
  tte_ipd = adtte_twt,
  tte_pseudo_ipd = pseudo_ipd_twt,
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  km_conf_type = "log-log",
  km_layout = "by_arm",
  time_scale = "month",
  time_grid = seq(0, 20, by = 2),
  use_colors = NULL,
  use_line_types = NULL,
  use_pch_cex = 0.65,
  use_pch_alpha = 100
)

# plot all
kmplot(
  weights_object = weighted_twt,
  tte_ipd = adtte_twt,
  tte_pseudo_ipd = pseudo_ipd_twt,
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  km_conf_type = "log-log",
  km_layout = "all",
  time_scale = "month",
  time_grid = seq(0, 20, by = 2),
  use_colors = NULL,
  use_line_types = NULL,
  use_pch_cex = 0.65,
  use_pch_alpha = 100
)
</code></pre>

<hr>
<h2 id='kmplot2'>Kaplan-Meier (KM) plot function for anchored and unanchored cases using ggplot</h2><span id='topic+kmplot2'></span>

<h3>Description</h3>

<p>This is wrapper function of <code>basic_kmplot2</code>.
The argument setting is similar to <code>maic_anchored</code> and <code>maic_unanchored</code>,
and it is used in those two functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kmplot2(
  weights_object,
  tte_ipd,
  tte_pseudo_ipd,
  trt_ipd,
  trt_agd,
  trt_common = NULL,
  normalize_weights = FALSE,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  km_conf_type = "log-log",
  km_layout = c("all", "by_trial", "by_arm"),
  time_scale,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kmplot2_+3A_weights_object">weights_object</code></td>
<td>
<p>an object returned by <code>estimate_weight</code></p>
</td></tr>
<tr><td><code id="kmplot2_+3A_tte_ipd">tte_ipd</code></td>
<td>
<p>a data frame of individual patient data (IPD) of internal trial, contain at least <code>"USUBJID"</code>,
<code>"EVENT"</code>, <code>"TIME"</code> columns and a column indicating treatment assignment</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_tte_pseudo_ipd">tte_pseudo_ipd</code></td>
<td>
<p>a data frame of pseudo IPD by digitized KM curves of external trial (for time-to-event
endpoint), contain at least <code>"EVENT"</code>, <code>"TIME"</code></p>
</td></tr>
<tr><td><code id="kmplot2_+3A_trt_ipd">trt_ipd</code></td>
<td>
<p>a string, name of the interested investigation arm in internal trial <code>dat_igd</code> (real IPD)</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_trt_agd">trt_agd</code></td>
<td>
<p>a string, name of the interested investigation arm in external trial <code>dat_pseudo</code> (pseudo IPD)</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_trt_common">trt_common</code></td>
<td>
<p>a string, name of the common comparator in internal and external trial, by default is NULL,
indicating unanchored case</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_normalize_weights">normalize_weights</code></td>
<td>
<p>logical, default is <code>FALSE</code>. If <code>TRUE</code>,
<code>scaled_weights</code> (normalized weights) in <code>weights_object$data</code> will be used.</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_trt_var_ipd">trt_var_ipd</code></td>
<td>
<p>a string, column name in <code>tte_ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_trt_var_agd">trt_var_agd</code></td>
<td>
<p>a string, column name in <code>tte_pseudo_ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_km_conf_type">km_conf_type</code></td>
<td>
<p>a string, pass to <code>conf.type</code> of <code>survfit</code></p>
</td></tr>
<tr><td><code id="kmplot2_+3A_km_layout">km_layout</code></td>
<td>
<p>a string, only applicable for unanchored case (<code>trt_common = NULL</code>), indicated the
desired layout of output KM curve.</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_time_scale">time_scale</code></td>
<td>
<p>a string, time unit of median survival time, taking a value of 'years', 'months',
weeks' or 'days'</p>
</td></tr>
<tr><td><code id="kmplot2_+3A_...">...</code></td>
<td>
<p>other arguments in <code>basic_kmplot2</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>In unanchored case, a KM plot with risk set table. In anchored case, depending on <code>km_layout</code>,
</p>

<ul>
<li><p> if &quot;by_trial&quot;, 2 by 1 plot, first all KM curves (incl. weighted) in IPD trial, and then KM curves in AgD
trial, with risk set table.
</p>
</li>
<li><p> if &quot;by_arm&quot;, 2 by 1 plot, first KM curves of <code>trt_agd</code> and  <code>trt_ipd</code> (with and without weights),
and then KM curves of <code>trt_common</code> in AgD trial and IPD trial (with and without weights). Risk set table is
appended.
</p>
</li>
<li><p> if &quot;all&quot;, 2 by 2 plot, all plots in &quot;by_trial&quot; and &quot;by_arm&quot; without risk set table appended.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># unanchored example using kmplot2
data(weighted_sat)
data(adtte_sat)
data(pseudo_ipd_sat)

kmplot2(
  weights_object = weighted_sat,
  tte_ipd = adtte_sat,
  tte_pseudo_ipd = pseudo_ipd_sat,
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = NULL,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  km_conf_type = "log-log",
  time_scale = "month",
  break_x_by = 2,
  xlim = c(0, 20)
)
# anchored example using kmplot2
data(weighted_twt)
data(adtte_twt)
data(pseudo_ipd_twt)

# plot by trial
kmplot2(
  weights_object = weighted_twt,
  tte_ipd = adtte_twt,
  tte_pseudo_ipd = pseudo_ipd_twt,
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  km_conf_type = "log-log",
  km_layout = "by_trial",
  time_scale = "month",
  break_x_by = 2
)

# plot by arm
kmplot2(
  weights_object = weighted_twt,
  tte_ipd = adtte_twt,
  tte_pseudo_ipd = pseudo_ipd_twt,
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  km_conf_type = "log-log",
  km_layout = "by_arm",
  time_scale = "month",
  break_x_by = 2
)

# plot all
kmplot2(
  weights_object = weighted_twt,
  tte_ipd = adtte_twt,
  tte_pseudo_ipd = pseudo_ipd_twt,
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Overall Survival",
  km_conf_type = "log-log",
  km_layout = "all",
  time_scale = "month",
  break_x_by = 2,
  xlim = c(0, 20),
  show_risk_set = FALSE
)
</code></pre>

<hr>
<h2 id='maic_anchored'>Anchored MAIC for binary and time-to-event endpoint</h2><span id='topic+maic_anchored'></span>

<h3>Description</h3>

<p>This is a wrapper function to provide adjusted effect estimates and relevant statistics in anchored case (i.e. there
is a common comparator arm in the internal and external trial).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maic_anchored(
  weights_object,
  ipd,
  pseudo_ipd,
  trt_ipd,
  trt_agd,
  trt_common,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  normalize_weights = FALSE,
  endpoint_type = "tte",
  endpoint_name = "Time to Event Endpoint",
  eff_measure = c("HR", "OR", "RR", "RD"),
  boot_ci_type = c("norm", "basic", "stud", "perc", "bca"),
  time_scale = "months",
  km_conf_type = "log-log",
  binary_robust_cov_type = "HC3"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maic_anchored_+3A_weights_object">weights_object</code></td>
<td>
<p>an object returned by <code>estimate_weight</code></p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_ipd">ipd</code></td>
<td>
<p>a data frame that meet format requirements in 'Details', individual patient data (IPD) of internal trial</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_pseudo_ipd">pseudo_ipd</code></td>
<td>
<p>a data frame, pseudo IPD from digitized KM curve of external trial (for time-to-event endpoint) or
from contingency table (for binary endpoint)</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_trt_ipd">trt_ipd</code></td>
<td>
<p>a string, name of the interested investigation arm in internal trial <code>ipd</code> (internal IPD)</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_trt_agd">trt_agd</code></td>
<td>
<p>a string, name of the interested investigation arm in external trial <code>pseudo_ipd</code> (pseudo IPD)</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_trt_common">trt_common</code></td>
<td>
<p>a string, name of the common comparator in internal and external trial</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_trt_var_ipd">trt_var_ipd</code></td>
<td>
<p>a string, column name in <code>ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_trt_var_agd">trt_var_agd</code></td>
<td>
<p>a string, column name in <code>ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_normalize_weights">normalize_weights</code></td>
<td>
<p>logical, default is <code>FALSE</code>. If <code>TRUE</code>,
<code>scaled_weights</code> (normalized weights) in <code>weights_object$data</code> will be used.</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_endpoint_type">endpoint_type</code></td>
<td>
<p>a string, one out of the following &quot;binary&quot;, &quot;tte&quot; (time to event)</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_endpoint_name">endpoint_name</code></td>
<td>
<p>a string, name of time to event endpoint, to be show in the last line of title</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_eff_measure">eff_measure</code></td>
<td>
<p>a string, &quot;RD&quot; (risk difference), &quot;OR&quot; (odds ratio), &quot;RR&quot; (relative risk) for a binary endpoint;
&quot;HR&quot; for a time-to-event endpoint. By default is <code>NULL</code>, &quot;OR&quot; is used for binary case, otherwise &quot;HR&quot; is used.</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_boot_ci_type">boot_ci_type</code></td>
<td>
<p>a string, one of <code>c("norm","basic", "stud", "perc", "bca")</code> to select the type of bootstrap
confidence interval. See <a href="boot.html#topic+boot.ci">boot::boot.ci</a> for more details.</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_time_scale">time_scale</code></td>
<td>
<p>a string, time unit of median survival time, taking a value of 'years', 'months', 'weeks' or
'days'. NOTE: it is assumed that values in TIME column of <code>ipd</code> and <code>pseudo_ipd</code> is in the unit of days</p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_km_conf_type">km_conf_type</code></td>
<td>
<p>a string, pass to <code>conf.type</code> of <code>survfit</code></p>
</td></tr>
<tr><td><code id="maic_anchored_+3A_binary_robust_cov_type">binary_robust_cov_type</code></td>
<td>
<p>a string to pass to argument <code>type</code> of <a href="sandwich.html#topic+vcovHC">sandwich::vcovHC</a>, see possible options in the
documentation of that function. Default is <code>"HC3"</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is required that input <code>ipd</code> and <code>pseudo_ipd</code> to have the following
columns. This function is not sensitive to upper or lower case of letters in column names.
</p>

<ul>
<li><p> USUBJID - character, unique subject ID
</p>
</li>
<li><p> ARM - character or factor, treatment indicator, column name does not have to be 'ARM'. User specify in
<code>trt_var_ipd</code> and <code>trt_var_agd</code>
</p>
</li></ul>

<p>For time-to-event analysis, the follow columns are required:
</p>

<ul>
<li><p> EVENT - numeric, <code>1</code> for censored/death, <code>0</code> otherwise
</p>
</li>
<li><p> TIME - numeric column, observation time of the <code>EVENT</code>; unit in days
</p>
</li></ul>

<p>For binary outcomes:
</p>

<ul>
<li><p> RESPONSE - numeric, <code>1</code> for event occurred, <code>0</code> otherwise
</p>
</li></ul>



<h3>Value</h3>

<p>A list, contains 'descriptive' and 'inferential'
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Anchored example using maic_anchored for time-to-event data
data(weighted_twt)
data(adtte_twt)
data(pseudo_ipd_twt)

result_tte &lt;- maic_anchored(
  weights_object = weighted_twt,
  ipd = adtte_twt,
  pseudo_ipd = pseudo_ipd_twt,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  endpoint_name = "Overall Survival",
  endpoint_type = "tte",
  eff_measure = "HR",
  time_scale = "month",
  km_conf_type = "log-log",
)
result_tte$descriptive$summary
result_tte$inferential$summary
# Anchored example using maic_anchored for binary outcome
data(weighted_twt)
data(adrs_twt)

# Reported summary data
pseudo_adrs &lt;- get_pseudo_ipd_binary(
  binary_agd = data.frame(
    ARM = c("B", "C", "B", "C"),
    RESPONSE = c("YES", "YES", "NO", "NO"),
    COUNT = c(280, 120, 200, 200)
  ),
  format = "stacked"
)

# inferential result
result_binary &lt;- maic_anchored(
  weights_object = weighted_twt,
  ipd = adrs_twt,
  pseudo_ipd = pseudo_adrs,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  endpoint_name = "Binary Event",
  endpoint_type = "binary",
  eff_measure = "OR"
)

result_binary$descriptive$summary
result_binary$inferential$summary
</code></pre>

<hr>
<h2 id='maic_unanchored'>Unanchored MAIC for binary and time-to-event endpoint</h2><span id='topic+maic_unanchored'></span>

<h3>Description</h3>

<p>This is a wrapper function to provide adjusted effect estimates and relevant statistics in unanchored case (i.e.
there is no common comparator arm in the internal and external trial).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maic_unanchored(
  weights_object,
  ipd,
  pseudo_ipd,
  trt_ipd,
  trt_agd,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  normalize_weights = FALSE,
  endpoint_type = "tte",
  endpoint_name = "Time to Event Endpoint",
  eff_measure = c("HR", "OR", "RR", "RD"),
  boot_ci_type = c("norm", "basic", "stud", "perc", "bca"),
  time_scale = "months",
  km_conf_type = "log-log",
  binary_robust_cov_type = "HC3"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maic_unanchored_+3A_weights_object">weights_object</code></td>
<td>
<p>an object returned by <code>estimate_weight</code></p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_ipd">ipd</code></td>
<td>
<p>a data frame that meet format requirements in 'Details', individual patient data (IPD) of internal trial</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_pseudo_ipd">pseudo_ipd</code></td>
<td>
<p>a data frame, pseudo IPD from digitized KM curve of external trial (for time-to-event endpoint) or
from contingency table (for binary endpoint)</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_trt_ipd">trt_ipd</code></td>
<td>
<p>a string, name of the interested investigation arm in internal trial <code>dat_igd</code> (real IPD)</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_trt_agd">trt_agd</code></td>
<td>
<p>a string, name of the interested investigation arm in external trial <code>pseudo_ipd</code> (pseudo IPD)</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_trt_var_ipd">trt_var_ipd</code></td>
<td>
<p>a string, column name in <code>ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_trt_var_agd">trt_var_agd</code></td>
<td>
<p>a string, column name in <code>ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_normalize_weights">normalize_weights</code></td>
<td>
<p>logical, default is <code>FALSE</code>. If <code>TRUE</code>,
<code>scaled_weights</code> (normalized weights) in <code>weights_object$data</code> will be used.</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_endpoint_type">endpoint_type</code></td>
<td>
<p>a string, one out of the following &quot;binary&quot;, &quot;tte&quot; (time to event)</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_endpoint_name">endpoint_name</code></td>
<td>
<p>a string, name of time to event endpoint, to be show in the last line of title</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_eff_measure">eff_measure</code></td>
<td>
<p>a string, &quot;RD&quot; (risk difference), &quot;OR&quot; (odds ratio), &quot;RR&quot; (relative risk) for a binary endpoint;
&quot;HR&quot; for a time-to-event endpoint. By default is <code>NULL</code>, &quot;OR&quot; is used for binary case, otherwise &quot;HR&quot; is used.</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_boot_ci_type">boot_ci_type</code></td>
<td>
<p>a string, one of <code>c("norm","basic", "stud", "perc", "bca")</code> to select the type of bootstrap
confidence interval. See <a href="boot.html#topic+boot.ci">boot::boot.ci</a> for more details.</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_time_scale">time_scale</code></td>
<td>
<p>a string, time unit of median survival time, taking a value of 'years', 'months', 'weeks' or
'days'. NOTE: it is assumed that values in TIME column of <code>ipd</code> and <code>pseudo_ipd</code> is in the unit of days</p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_km_conf_type">km_conf_type</code></td>
<td>
<p>a string, pass to <code>conf.type</code> of <code>survfit</code></p>
</td></tr>
<tr><td><code id="maic_unanchored_+3A_binary_robust_cov_type">binary_robust_cov_type</code></td>
<td>
<p>a string to pass to argument <code>type</code> of <a href="sandwich.html#topic+vcovHC">sandwich::vcovHC</a>, see possible options in the
documentation of that function. Default is <code>"HC3"</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>For time-to-event analysis, it is required that input <code>ipd</code> and <code>pseudo_ipd</code> to have the following
columns. This function is not sensitive to upper or lower case of letters in column names.
</p>

<ul>
<li><p> USUBJID - character, unique subject ID
</p>
</li>
<li><p> ARM - character or factor, treatment indicator, column name does not have to be 'ARM'. User specify in
<code>trt_var_ipd</code> and <code>trt_var_agd</code>
</p>
</li>
<li><p> EVENT - numeric, 1 for censored/death, 0 for otherwise
</p>
</li>
<li><p> TIME - numeric column, observation time of the <code>EVENT</code>; unit in days
</p>
</li></ul>



<h3>Value</h3>

<p>A list, contains 'descriptive' and 'inferential'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#
# unanchored example using maic_unanchored for time-to-event data
#
data(centered_ipd_sat)
data(adtte_sat)
data(pseudo_ipd_sat)

#### derive weights
weighted_data &lt;- estimate_weights(
  data = centered_ipd_sat,
  centered_colnames = grep("_CENTERED$", names(centered_ipd_sat)),
  start_val = 0,
  method = "BFGS"
)

weighted_data2 &lt;- estimate_weights(
  data = centered_ipd_sat,
  centered_colnames = grep("_CENTERED$", names(centered_ipd_sat)),
  start_val = 0,
  method = "BFGS",
  n_boot_iteration = 100,
  set_seed_boot = 1234
)

# inferential result
result &lt;- maic_unanchored(
  weights_object = weighted_data,
  ipd = adtte_sat,
  pseudo_ipd = pseudo_ipd_sat,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  trt_ipd = "A",
  trt_agd = "B",
  endpoint_name = "Overall Survival",
  endpoint_type = "tte",
  eff_measure = "HR",
  time_scale = "month",
  km_conf_type = "log-log"
)
result$descriptive$summary
result$inferential$summary

result_boot &lt;- maic_unanchored(
  weights_object = weighted_data2,
  ipd = adtte_sat,
  pseudo_ipd = pseudo_ipd_sat,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  trt_ipd = "A",
  trt_agd = "B",
  endpoint_name = "Overall Survival",
  endpoint_type = "tte",
  eff_measure = "HR",
  time_scale = "month",
  km_conf_type = "log-log"
)
result$descriptive$summary
result$inferential$summary
#
# unanchored example using maic_unanchored for binary outcome
#

data(centered_ipd_sat)
data(adrs_sat)

centered_ipd_sat
centered_colnames &lt;- grep("_CENTERED$", colnames(centered_ipd_sat), value = TRUE)
weighted_data &lt;- estimate_weights(data = centered_ipd_sat, centered_colnames = centered_colnames)
weighted_data2 &lt;- estimate_weights(
  data = centered_ipd_sat, centered_colnames = centered_colnames,
  n_boot_iteration = 100
)

# get dummy binary IPD
pseudo_adrs &lt;- get_pseudo_ipd_binary(
  binary_agd = data.frame(
    ARM = rep("B", 2),
    RESPONSE = c("YES", "NO"),
    COUNT = c(280, 120)
  ),
  format = "stacked"
)

# unanchored binary MAIC, with CI based on sandwich estimator
maic_unanchored(
  weights_object = weighted_data,
  ipd = adrs_sat,
  pseudo_ipd = pseudo_adrs,
  trt_ipd = "A",
  trt_agd = "B",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_type = "binary",
  endpoint_name = "Binary Endpoint",
  eff_measure = "RR",
  # binary specific args
  binary_robust_cov_type = "HC3"
)

# unanchored binary MAIC, with bootstrapped CI
maic_unanchored(
  weights_object = weighted_data2,
  ipd = adrs_sat,
  pseudo_ipd = pseudo_adrs,
  trt_ipd = "A",
  trt_agd = "B",
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_type = "binary",
  endpoint_name = "Binary Endpoint",
  eff_measure = "RR",
  # binary specific args
  binary_robust_cov_type = "HC3"
)

#---------------------------------
</code></pre>

<hr>
<h2 id='medSurv_makeup'>Helper function to retrieve median survival time from a <code>survival::survfit</code> object</h2><span id='topic+medSurv_makeup'></span>

<h3>Description</h3>

<p>Extract and display median survival time with confidence interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>medSurv_makeup(km_fit, legend = "before matching", time_scale)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="medSurv_makeup_+3A_km_fit">km_fit</code></td>
<td>
<p>returned object from <code>survival::survfit</code></p>
</td></tr>
<tr><td><code id="medSurv_makeup_+3A_legend">legend</code></td>
<td>
<p>a character string, name used in 'type' column in returned data frame</p>
</td></tr>
<tr><td><code id="medSurv_makeup_+3A_time_scale">time_scale</code></td>
<td>
<p>a character string, 'years', 'months', 'weeks' or 'days', time unit of median survival time</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with a index column 'type', median survival time and confidence interval
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(adtte_sat)
data(pseudo_ipd_sat)
library(survival)
combined_data &lt;- rbind(adtte_sat[, c("TIME", "EVENT", "ARM")], pseudo_ipd_sat)
kmobj &lt;- survfit(Surv(TIME, EVENT) ~ ARM, combined_data, conf.type = "log-log")

# Derive median survival time
medSurv &lt;- medSurv_makeup(kmobj, legend = "before matching", time_scale = "day")
medSurv
</code></pre>

<hr>
<h2 id='ph_diagplot'>Diagnosis plot of proportional hazard assumption for anchored and unanchored</h2><span id='topic+ph_diagplot'></span>

<h3>Description</h3>

<p>Diagnosis plot of proportional hazard assumption for anchored and unanchored
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ph_diagplot(
  weights_object,
  tte_ipd,
  tte_pseudo_ipd,
  trt_ipd,
  trt_agd,
  trt_common = NULL,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  endpoint_name = "Time to Event Endpoint",
  time_scale,
  zph_transform = "log",
  zph_log_hazard = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ph_diagplot_+3A_weights_object">weights_object</code></td>
<td>
<p>an object returned by <code>estimate_weight</code></p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_tte_ipd">tte_ipd</code></td>
<td>
<p>a data frame of individual patient data (IPD) of internal trial, contain at least &quot;USUBJID&quot;, &quot;EVENT&quot;,
&quot;TIME&quot; columns and a column indicating treatment assignment</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_tte_pseudo_ipd">tte_pseudo_ipd</code></td>
<td>
<p>a data frame of pseudo IPD by digitized KM curves of external trial (for time-to-event
endpoint), contain at least &quot;EVENT&quot;, &quot;TIME&quot;</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_trt_ipd">trt_ipd</code></td>
<td>
<p>a string, name of the interested investigation arm in internal trial <code>tte_ipd</code> (real IPD)</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_trt_agd">trt_agd</code></td>
<td>
<p>a string, name of the interested investigation arm in external trial
<code>tte_pseudo_ipd</code> (pseudo IPD)</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_trt_common">trt_common</code></td>
<td>
<p>a string, name of the common comparator in internal and external trial, by default is NULL,
indicating unanchored case</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_trt_var_ipd">trt_var_ipd</code></td>
<td>
<p>a string, column name in <code>tte_ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_trt_var_agd">trt_var_agd</code></td>
<td>
<p>a string, column name in <code>tte_pseudo_ipd</code> that contains the treatment assignment</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_endpoint_name">endpoint_name</code></td>
<td>
<p>a string, name of time to event endpoint, to be show in the last line of title</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_time_scale">time_scale</code></td>
<td>
<p>a string, time unit of median survival time, taking a value of 'years', 'months', 'weeks' or 'days'</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_zph_transform">zph_transform</code></td>
<td>
<p>a string, pass to <code>survival::cox.zph</code>, default is &quot;log&quot;</p>
</td></tr>
<tr><td><code id="ph_diagplot_+3A_zph_log_hazard">zph_log_hazard</code></td>
<td>
<p>a logical, if TRUE (default), y axis of the time dependent hazard function is log-hazard,
otherwise, hazard.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 3 by 2 plot, include log-cumulative hazard plot, time dependent hazard function and unscaled Schoenfeld
residual plot, before and after matching
</p>


<h3>Examples</h3>

<pre><code class='language-R'># unanchored example using ph_diagplot
data(weighted_sat)
data(adtte_sat)
data(pseudo_ipd_sat)

ph_diagplot(
  weights_object = weighted_sat,
  tte_ipd = adtte_sat,
  tte_pseudo_ipd = pseudo_ipd_sat,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = NULL,
  endpoint_name = "Overall Survival",
  time_scale = "week",
  zph_transform = "log",
  zph_log_hazard = TRUE
)
# anchored example using ph_diagplot
data(weighted_twt)
data(adtte_twt)
data(pseudo_ipd_twt)

ph_diagplot(
  weights_object = weighted_twt,
  tte_ipd = adtte_twt,
  tte_pseudo_ipd = pseudo_ipd_twt,
  trt_var_ipd = "ARM",
  trt_var_agd = "ARM",
  trt_ipd = "A",
  trt_agd = "B",
  trt_common = "C",
  endpoint_name = "Overall Survival",
  time_scale = "week",
  zph_transform = "log",
  zph_log_hazard = TRUE
)
</code></pre>

<hr>
<h2 id='ph_diagplot_lch'>PH Diagnosis Plot of Log Cumulative Hazard Rate versus time or log-time</h2><span id='topic+ph_diagplot_lch'></span>

<h3>Description</h3>

<p>This plot is also known as log negative log survival rate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ph_diagplot_lch(
  km_fit,
  time_scale,
  log_time = TRUE,
  endpoint_name = "",
  subtitle = "",
  exclude_censor = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ph_diagplot_lch_+3A_km_fit">km_fit</code></td>
<td>
<p>returned object from <code>survival::survfit</code></p>
</td></tr>
<tr><td><code id="ph_diagplot_lch_+3A_time_scale">time_scale</code></td>
<td>
<p>a character string, 'years', 'months', 'weeks' or 'days', time unit of median survival time</p>
</td></tr>
<tr><td><code id="ph_diagplot_lch_+3A_log_time">log_time</code></td>
<td>
<p>logical, TRUE (default) or FALSE</p>
</td></tr>
<tr><td><code id="ph_diagplot_lch_+3A_endpoint_name">endpoint_name</code></td>
<td>
<p>a character string, name of the endpoint</p>
</td></tr>
<tr><td><code id="ph_diagplot_lch_+3A_subtitle">subtitle</code></td>
<td>
<p>a character string, subtitle of the plot</p>
</td></tr>
<tr><td><code id="ph_diagplot_lch_+3A_exclude_censor">exclude_censor</code></td>
<td>
<p>logical, should censored data point be plotted</p>
</td></tr>
</table>


<h3>Details</h3>

<p>a diagnosis plot for proportional hazard assumption, versus log-time (default) or time
</p>


<h3>Value</h3>

<p>a plot of log cumulative hazard rate
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
data(adtte_sat)
data(pseudo_ipd_sat)
combined_data &lt;- rbind(adtte_sat[, c("TIME", "EVENT", "ARM")], pseudo_ipd_sat)
kmobj &lt;- survfit(Surv(TIME, EVENT) ~ ARM, combined_data, conf.type = "log-log")
ph_diagplot_lch(kmobj,
  time_scale = "month", log_time = TRUE,
  endpoint_name = "OS", subtitle = "(Before Matching)"
)
</code></pre>

<hr>
<h2 id='ph_diagplot_schoenfeld'>PH Diagnosis Plot of Schoenfeld residuals for a Cox model fit</h2><span id='topic+ph_diagplot_schoenfeld'></span>

<h3>Description</h3>

<p>PH Diagnosis Plot of Schoenfeld residuals for a Cox model fit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ph_diagplot_schoenfeld(
  coxobj,
  time_scale = "months",
  log_time = TRUE,
  endpoint_name = "",
  subtitle = ""
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ph_diagplot_schoenfeld_+3A_coxobj">coxobj</code></td>
<td>
<p>object returned from <code><a href="survival.html#topic+coxph">coxph</a></code></p>
</td></tr>
<tr><td><code id="ph_diagplot_schoenfeld_+3A_time_scale">time_scale</code></td>
<td>
<p>a character string, 'years', 'months', 'weeks' or 'days', time unit of median survival time</p>
</td></tr>
<tr><td><code id="ph_diagplot_schoenfeld_+3A_log_time">log_time</code></td>
<td>
<p>logical, TRUE (default) or FALSE</p>
</td></tr>
<tr><td><code id="ph_diagplot_schoenfeld_+3A_endpoint_name">endpoint_name</code></td>
<td>
<p>a character string, name of the endpoint</p>
</td></tr>
<tr><td><code id="ph_diagplot_schoenfeld_+3A_subtitle">subtitle</code></td>
<td>
<p>a character string, subtitle of the plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot of Schoenfeld residuals
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
data(adtte_sat)
data(pseudo_ipd_sat)
combined_data &lt;- rbind(adtte_sat[, c("TIME", "EVENT", "ARM")], pseudo_ipd_sat)
unweighted_cox &lt;- coxph(Surv(TIME, EVENT == 1) ~ ARM, data = combined_data)
ph_diagplot_schoenfeld(unweighted_cox,
  time_scale = "month", log_time = TRUE,
  endpoint_name = "OS", subtitle = "(Before Matching)"
)
</code></pre>

<hr>
<h2 id='plot_weights_base'>Plot MAIC weights in a histogram with key statistics in legend</h2><span id='topic+plot_weights_base'></span>

<h3>Description</h3>

<p>Generates a base R histogram of weights. Default is to plot either unscaled or scaled weights and not both.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_weights_base(
  weighted_data,
  bin_col,
  vline_col,
  main_title,
  scaled_weights
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_weights_base_+3A_weighted_data">weighted_data</code></td>
<td>
<p>object returned after calculating weights using <a href="#topic+estimate_weights">estimate_weights</a></p>
</td></tr>
<tr><td><code id="plot_weights_base_+3A_bin_col">bin_col</code></td>
<td>
<p>a string, color for the bins of histogram</p>
</td></tr>
<tr><td><code id="plot_weights_base_+3A_vline_col">vline_col</code></td>
<td>
<p>a string, color for the vertical line in the histogram</p>
</td></tr>
<tr><td><code id="plot_weights_base_+3A_main_title">main_title</code></td>
<td>
<p>title of the plot</p>
</td></tr>
<tr><td><code id="plot_weights_base_+3A_scaled_weights">scaled_weights</code></td>
<td>
<p>an indicator for using scaled weights instead of regular weights</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot of unscaled or scaled weights
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot_weights_base(weighted_sat,
  bin_col = "#6ECEB2",
  vline_col = "#688CE8",
  main_title = c("Scaled Individual Weights", "Unscaled Individual Weights"),
  scaled_weights = TRUE
)
</code></pre>

<hr>
<h2 id='plot_weights_ggplot'>Plot MAIC weights in a histogram with key statistics in legend using <code>ggplot2</code></h2><span id='topic+plot_weights_ggplot'></span>

<h3>Description</h3>

<p>Generates a <code>ggplot</code> histogram of weights. Default is to plot both unscaled and scaled weights on a same graph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_weights_ggplot(weighted_data, bin_col, vline_col, main_title, bins)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_weights_ggplot_+3A_weighted_data">weighted_data</code></td>
<td>
<p>object returned after calculating weights using <a href="#topic+estimate_weights">estimate_weights</a></p>
</td></tr>
<tr><td><code id="plot_weights_ggplot_+3A_bin_col">bin_col</code></td>
<td>
<p>a string, color for the bins of histogram</p>
</td></tr>
<tr><td><code id="plot_weights_ggplot_+3A_vline_col">vline_col</code></td>
<td>
<p>a string, color for the vertical line in the histogram</p>
</td></tr>
<tr><td><code id="plot_weights_ggplot_+3A_main_title">main_title</code></td>
<td>
<p>Name of scaled weights plot and unscaled weights plot, respectively.</p>
</td></tr>
<tr><td><code id="plot_weights_ggplot_+3A_bins">bins</code></td>
<td>
<p>number of bin parameter to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot of unscaled and scaled weights
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2")) {
  plot_weights_ggplot(weighted_sat,
    bin_col = "#6ECEB2",
    vline_col = "#688CE8",
    main_title = c("Scaled Individual Weights", "Unscaled Individual Weights"),
    bins = 50
  )
}
</code></pre>

<hr>
<h2 id='process_agd'>Pre-process aggregate data</h2><span id='topic+process_agd'></span>

<h3>Description</h3>

<p>This function checks the format of the aggregate data.
Data is required to have three columns: STUDY, ARM, and N.
Column names that do not have legal suffixes (MEAN, MEDIAN, SD, COUNT, or PROP) are dropped.
If a variable is a count variable, it is converted to proportions by dividing the sample size (N).
Note, when the count is specified, proportion is always calculated based on the count, that is,
specified proportion will be ignored if applicable.
If the aggregated data comes from multiple sources (i.e. different analysis population) and
sample size differs for each variable, one option is to specify proportion directly instead of count by using suffix
_PROP.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_agd(raw_agd)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="process_agd_+3A_raw_agd">raw_agd</code></td>
<td>
<p>raw aggregate data should contain STUDY, ARM, and N. Variable names should be followed
by legal suffixes (i.e. MEAN, MEDIAN, SD, COUNT, or PROP).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>pre-processed aggregate level data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(agd)
agd &lt;- process_agd(agd)

</code></pre>

<hr>
<h2 id='pseudo_ipd_sat'>Pseudo individual patient survival data from published study</h2><span id='topic+pseudo_ipd_sat'></span>

<h3>Description</h3>

<p>Pseudo individual patient survival data from published study
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pseudo_ipd_sat
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 3 columns:
</p>

<dl>
<dt>TIME</dt><dd><p>Survival time in days.</p>
</dd>
<dt>EVENT</dt><dd><p>Event indicator <code>0</code>/<code>1</code>.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm, <code>"B"</code>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other unanchored datasets: 
<code><a href="#topic+adrs_sat">adrs_sat</a></code>,
<code><a href="#topic+adsl_sat">adsl_sat</a></code>,
<code><a href="#topic+adtte_sat">adtte_sat</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_sat">centered_ipd_sat</a></code>,
<code><a href="#topic+weighted_sat">weighted_sat</a></code>
</p>

<hr>
<h2 id='pseudo_ipd_twt'>Pseudo individual patient survival data from published two arm study</h2><span id='topic+pseudo_ipd_twt'></span>

<h3>Description</h3>

<p>Pseudo individual patient survival data from published two arm study
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pseudo_ipd_twt
</code></pre>


<h3>Format</h3>

<p>A data frame with 800 rows and 3 columns:
</p>

<dl>
<dt>TIME</dt><dd><p>Survival time in days.</p>
</dd>
<dt>EVENT</dt><dd><p>Event indicator <code>0</code>/<code>1</code>.</p>
</dd>
<dt>ARM</dt><dd><p>Assigned treatment arm, <code>"B"</code>, <code>"C"</code>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other anchored datasets: 
<code><a href="#topic+adrs_twt">adrs_twt</a></code>,
<code><a href="#topic+adsl_twt">adsl_twt</a></code>,
<code><a href="#topic+adtte_twt">adtte_twt</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_twt">centered_ipd_twt</a></code>,
<code><a href="#topic+weighted_twt">weighted_twt</a></code>
</p>

<hr>
<h2 id='reformat'>Reformat <code>maicplus_bucher</code> alike object</h2><span id='topic+reformat'></span>

<h3>Description</h3>

<p>Reformat <code>maicplus_bucher</code> alike object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reformat(
  x,
  ci_digits = 2,
  pval_digits = 3,
  show_pval = TRUE,
  exponentiate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reformat_+3A_x">x</code></td>
<td>
<p>a list, structured like a <code>maicplus_bucher</code> object</p>
</td></tr>
<tr><td><code id="reformat_+3A_ci_digits">ci_digits</code></td>
<td>
<p>an integer, number of decimal places for point
estimate and derived confidence limits</p>
</td></tr>
<tr><td><code id="reformat_+3A_pval_digits">pval_digits</code></td>
<td>
<p>an integer, number of decimal places to display
Z-test p-value</p>
</td></tr>
<tr><td><code id="reformat_+3A_show_pval">show_pval</code></td>
<td>
<p>a logical value, default is TRUE. If FALSE, p-value will not
be output as the second element of the character vector</p>
</td></tr>
<tr><td><code id="reformat_+3A_exponentiate">exponentiate</code></td>
<td>
<p>whether the treatment effect and confidence
interval should be exponentiated. This applies to relative
treatment effects. Default is set to false.</p>
</td></tr>
</table>

<hr>
<h2 id='set_time_conversion'>Get and Set Time Conversion Factors</h2><span id='topic+set_time_conversion'></span><span id='topic+get_time_conversion'></span>

<h3>Description</h3>

<p>Get and Set Time Conversion Factors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_time_conversion(
  default = "days",
  days = 1,
  weeks = 7,
  months = 365.25/12,
  years = 365.25
)

get_time_conversion(factor = c("days", "weeks", "months", "years"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_time_conversion_+3A_default">default</code></td>
<td>
<p>The default time scale, commonly whichever has factor = 1</p>
</td></tr>
<tr><td><code id="set_time_conversion_+3A_days">days</code></td>
<td>
<p>Factor to divide data time units to get time in days</p>
</td></tr>
<tr><td><code id="set_time_conversion_+3A_weeks">weeks</code></td>
<td>
<p>Factor to divide data time units to get time in weeks</p>
</td></tr>
<tr><td><code id="set_time_conversion_+3A_months">months</code></td>
<td>
<p>Factor to divide data time units to get time in months</p>
</td></tr>
<tr><td><code id="set_time_conversion_+3A_years">years</code></td>
<td>
<p>Factor to divide data time units to get time in years</p>
</td></tr>
<tr><td><code id="set_time_conversion_+3A_factor">factor</code></td>
<td>
<p>Time factor to get.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value returned. Conversion factors are stored internally and used within functions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The default time scale is days:
set_time_conversion(default = "days", days = 1, weeks = 7, months = 365.25 / 12, years = 365.25)

# Set the default time scale to years
set_time_conversion(
  default = "years",
  days = 1 / 365.25,
  weeks = 1 / 52.17857,
  months = 1 / 12,
  years = 1
)

# Get time scale factors:
get_time_conversion("years")
get_time_conversion("weeks")
</code></pre>

<hr>
<h2 id='survfit_makeup'>Helper function to select set of variables used for Kaplan-Meier plot</h2><span id='topic+survfit_makeup'></span>

<h3>Description</h3>

<p>Helper function to select set of variables used for Kaplan-Meier plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survfit_makeup(km_fit, single_trt_name = "treatment")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survfit_makeup_+3A_km_fit">km_fit</code></td>
<td>
<p>returned object from <code>survival::survfit</code></p>
</td></tr>
<tr><td><code id="survfit_makeup_+3A_single_trt_name">single_trt_name</code></td>
<td>
<p>name of treatment if no strata are specified in <code>km_fit</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of data frames of variables from <code><a href="survival.html#topic+survfit">survival::survfit()</a></code>. Data frame is divided by treatment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
data(adtte_sat)
data(pseudo_ipd_sat)
combined_data &lt;- rbind(adtte_sat[, c("TIME", "EVENT", "ARM")], pseudo_ipd_sat)
kmobj &lt;- survfit(Surv(TIME, EVENT) ~ ARM, combined_data, conf.type = "log-log")
survfit_makeup(kmobj)
</code></pre>

<hr>
<h2 id='weighted_sat'>Weighted object for single arm trial data</h2><span id='topic+weighted_sat'></span>

<h3>Description</h3>

<p>Weighted object for single arm trial data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weighted_sat
</code></pre>


<h3>Format</h3>

<p>A <code>maicplus_estimate_weights</code> object created by <code><a href="#topic+estimate_weights">estimate_weights()</a></code> containing
</p>

<dl>
<dt>data</dt><dd><p>patient level data with weights</p>
</dd>
<dt>centered_colnames</dt><dd><p>Columns used in MAIC</p>
</dd>
<dt>nr_missing</dt><dd><p>Number of observations with missing data</p>
</dd>
<dt>ess</dt><dd><p>Expected sample size</p>
</dd>
<dt>opt</dt><dd><p>Information from <code>optim</code> from weight calculation</p>
</dd>
<dt>boot</dt><dd><p>Parameters and bootstrap sample weights, <code>NULL</code> in this object</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other unanchored datasets: 
<code><a href="#topic+adrs_sat">adrs_sat</a></code>,
<code><a href="#topic+adsl_sat">adsl_sat</a></code>,
<code><a href="#topic+adtte_sat">adtte_sat</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_sat">centered_ipd_sat</a></code>,
<code><a href="#topic+pseudo_ipd_sat">pseudo_ipd_sat</a></code>
</p>

<hr>
<h2 id='weighted_twt'>Weighted object for two arm trial data</h2><span id='topic+weighted_twt'></span>

<h3>Description</h3>

<p>The weighted patient data for a two arm trial generated from the centered patient data (<a href="#topic+centered_ipd_twt">centered_ipd_twt</a>).
It has weights calculated for 100 bootstrap samples.
</p>
<p>The object is generated using the following code:
</p>
<div class="sourceCode"><pre>estimate_weights(
  data = centered_ipd_twt,
  centered_colnames = c(
    "AGE_CENTERED",
    "AGE_MEDIAN_CENTERED",
    "AGE_SQUARED_CENTERED",
    "SEX_MALE_CENTERED",
    "ECOG0_CENTERED",
    "SMOKE_CENTERED"
    ),
  n_boot_iteration = 100
 )
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>weighted_twt
</code></pre>


<h3>Format</h3>

<p>A <code>maicplus_estimate_weights</code> object created by <code><a href="#topic+estimate_weights">estimate_weights()</a></code> containing
</p>

<dl>
<dt>data</dt><dd><p>patient level data with weights</p>
</dd>
<dt>centered_colnames</dt><dd><p>Columns used in MAIC</p>
</dd>
<dt>nr_missing</dt><dd><p>Number of observations with missing data</p>
</dd>
<dt>ess</dt><dd><p>Expected sample size</p>
</dd>
<dt>opt</dt><dd><p>Information from <code>optim</code> from weight calculation</p>
</dd>
<dt>boot</dt><dd><p>Parameters and bootstrap sample weights for the 100 samples</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other anchored datasets: 
<code><a href="#topic+adrs_twt">adrs_twt</a></code>,
<code><a href="#topic+adsl_twt">adsl_twt</a></code>,
<code><a href="#topic+adtte_twt">adtte_twt</a></code>,
<code><a href="#topic+agd">agd</a></code>,
<code><a href="#topic+centered_ipd_twt">centered_ipd_twt</a></code>,
<code><a href="#topic+pseudo_ipd_twt">pseudo_ipd_twt</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package MAZE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MAZE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#DataGen'><p>DataGen</p></a></li>
<li><a href='#MAZE'><p>Mediation Analysis for ZEro-inflated mediators</p></a></li>
<li><a href='#zinb10'><p>Example dataset 'zinb10'</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Mediation Analysis for Zero-Inflated Mediators</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A novel mediation analysis approach to address zero-inflated mediators containing true zeros and false zeros. See Jiang et al (2023) "A Novel Causal Mediation Analysis Approach for Zero-Inflated Mediators" &lt;<a href="https://doi.org/10.48550/arXiv.2301.10064">doi:10.48550/arXiv.2301.10064</a>&gt; for more details.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/meilinjiang/MAZE">https://github.com/meilinjiang/MAZE</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/meilinjiang/MAZE/issues">https://github.com/meilinjiang/MAZE/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0), flexmix, numDeriv, pracma</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, stats, foreach, doParallel, MASS</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-14 18:48:37 UTC; meilinjiang</td>
</tr>
<tr>
<td>Author:</td>
<td>Meilin Jiang [aut, cre],
  Zhigang Li [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Meilin Jiang &lt;meilin.jiang@ufl.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-16 08:20:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='DataGen'>DataGen</h2><span id='topic+DataGen'></span>

<h3>Description</h3>

<p>Generate data under zero-inflated mediation models and calculate the true effects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DataGen(distM, theta, K, num_Z = 0, n, B, x1, x2, zval = NULL, mval = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DataGen_+3A_distm">distM</code></td>
<td>
<p>distribution of the mediator. One of '<code>zilonm</code>', '<code>zinbm</code>', and '<code>zipm</code>' for zero-inflated log-normal, negative binomial, and Poisson mediators respectively</p>
</td></tr>
<tr><td><code id="DataGen_+3A_theta">theta</code></td>
<td>
<p>vector of true parameter values</p>
</td></tr>
<tr><td><code id="DataGen_+3A_k">K</code></td>
<td>
<p>true number of component <code class="reqn">K</code> in the zero-inflated mixture mediators. Default is <code class="reqn">K=1</code> for zero-inflated (non-mixture) mediators</p>
</td></tr>
<tr><td><code id="DataGen_+3A_num_z">num_Z</code></td>
<td>
<p>number of confounder variables</p>
</td></tr>
<tr><td><code id="DataGen_+3A_n">n</code></td>
<td>
<p>number of observations to generate</p>
</td></tr>
<tr><td><code id="DataGen_+3A_b">B</code></td>
<td>
<p>the upper bound value <code class="reqn">B</code> to be used in the probability mechanism of observing false zeros</p>
</td></tr>
<tr><td><code id="DataGen_+3A_x1">x1</code></td>
<td>
<p>the first value of independent variable of interest</p>
</td></tr>
<tr><td><code id="DataGen_+3A_x2">x2</code></td>
<td>
<p>the second value of independent variable of interest</p>
</td></tr>
<tr><td><code id="DataGen_+3A_zval">zval</code></td>
<td>
<p>the value of confounders to be conditional on when calculating true effects</p>
</td></tr>
<tr><td><code id="DataGen_+3A_mval">mval</code></td>
<td>
<p>the fixed value of mediator to be conditional on when calculating true CDE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>true_eff: a vector containing true effects (NIE1, NIE2, NIE, NDE, and CDE)
</p>
<p>dat: a data frame containing variables:
</p>

<ul>
<li> <p><code>X</code>: independent variable,
</p>
</li>
<li> <p><code>Mobs</code>: observed mediator values (with possibly false zeros)
</p>
</li>
<li> <p><code>M</code>: true mediator values,
</p>
</li>
<li> <p><code>Y</code>: outcome,
</p>
</li>
<li> <p><code>Z</code>: confounder variables (if any)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Meilin Jiang <a href="mailto:meilin.jiang@ufl.edu">meilin.jiang@ufl.edu</a> and Zhigang Li <a href="mailto:zhigang.li@ufl.edu">zhigang.li@ufl.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>betas.tr &lt;- c(2, 0.12, -6.6, 6.3, -3.8, 0)
delta.tr &lt;- 1.1
alpha0_k.tr &lt;- c(0.4, 1.1)
alpha1_k.tr &lt;- c(0.1, 0.5)
alphas.tr &lt;- rbind(alpha0_k.tr,alpha1_k.tr)
xi0.tr &lt;- -1.5
psi_km1.tr &lt;- c(0.6)
gammas.tr &lt;- c(-1.8, 0.5)
eta.tr &lt;- 1
theta &lt;- c(betas.tr, delta.tr, alphas.tr,
           xi0.tr, psi_km1.tr, gammas.tr, eta.tr)
out &lt;- DataGen(distM = 'zilonm', theta, K = 2, num_Z=0,
               n = 200, B = 20, x1 = 0, x2 = 1, zval = NULL, mval = 0)
(true_eff &lt;- out$true_eff)
dat &lt;- out$dat
</code></pre>

<hr>
<h2 id='MAZE'>Mediation Analysis for ZEro-inflated mediators</h2><span id='topic+MAZE'></span>

<h3>Description</h3>

<p>A novel mediation modeling approach to address zero-inflated mediators containing true zeros and false zeros.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MAZE(
  data,
  distM = c("zilonm", "zinbm", "zipm"),
  K = 1,
  selection = "AIC",
  X,
  M,
  Y,
  Z = NULL,
  XMint = c(TRUE, FALSE),
  x1,
  x2,
  zval = NULL,
  mval = 0,
  B = 20,
  seed = 1,
  ncore = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MAZE_+3A_data">data</code></td>
<td>
<p>a data frame containing variables: an independent variable <code class="reqn">X</code>, a mediator <code class="reqn">M</code>, an outcome <code class="reqn">Y</code>, and confounder variables <code class="reqn">Z</code> (if any). See example dataset: <code>data(zinb10)</code></p>
</td></tr>
<tr><td><code id="MAZE_+3A_distm">distM</code></td>
<td>
<p>a vector with choices of the distribution of mediator to try with. One or more of '<code>zilonm</code>', '<code>zinbm</code>', and '<code>zipm</code>' for zero-inflated log-normal, negative binomial, and Poisson mediators respectively. Default is <code>c('zilonm', 'zinbm', 'zipm')</code> where all three distributions are fitted and the final mediation model is selected by model selection criterion <code>selection</code></p>
</td></tr>
<tr><td><code id="MAZE_+3A_k">K</code></td>
<td>
<p>a vector with choices of the number of component <code class="reqn">K</code> in the zero-inflated mixture mediators to try with. Default is <code class="reqn">K=1</code> for zero-inflated (non-mixture) mediators</p>
</td></tr>
<tr><td><code id="MAZE_+3A_selection">selection</code></td>
<td>
<p>model selection criterion when more than one model (combination of different values in <code>distM</code> and <code>K</code>) is fitted. Either '<code>AIC</code>' or '<code>BIC</code>'. Default is '<code>AIC</code>'</p>
</td></tr>
<tr><td><code id="MAZE_+3A_x">X</code></td>
<td>
<p>name of the independent variable. Can be continuous or discrete</p>
</td></tr>
<tr><td><code id="MAZE_+3A_m">M</code></td>
<td>
<p>name of the mediator variable. Non-negative values</p>
</td></tr>
<tr><td><code id="MAZE_+3A_y">Y</code></td>
<td>
<p>name of the outcome variable. Continuous values</p>
</td></tr>
<tr><td><code id="MAZE_+3A_z">Z</code></td>
<td>
<p>name(s) of confounder variables (if any)</p>
</td></tr>
<tr><td><code id="MAZE_+3A_xmint">XMint</code></td>
<td>
<p>a logical vector of length 2 indicating whether to include the two exposure-mediator interaction terms between (i) <code class="reqn">X</code> and <code class="reqn">1_{(M&gt;0)}</code> and (ii) <code class="reqn">X</code> and <code class="reqn">M</code>. Default is <code>c(TRUE, FALSE)</code>, which only includes the first</p>
</td></tr>
<tr><td><code id="MAZE_+3A_x1">x1</code></td>
<td>
<p>the first value of independent variable of interest</p>
</td></tr>
<tr><td><code id="MAZE_+3A_x2">x2</code></td>
<td>
<p>the second value of independent variable of interest</p>
</td></tr>
<tr><td><code id="MAZE_+3A_zval">zval</code></td>
<td>
<p>a vector of value(s) of confounders to be conditional on when estimating effects</p>
</td></tr>
<tr><td><code id="MAZE_+3A_mval">mval</code></td>
<td>
<p>the fixed value of mediator to be conditional on when estimating CDE</p>
</td></tr>
<tr><td><code id="MAZE_+3A_b">B</code></td>
<td>
<p>the upper bound value <code class="reqn">B</code> to be used in the probability mechanism of observing false zeros</p>
</td></tr>
<tr><td><code id="MAZE_+3A_seed">seed</code></td>
<td>
<p>an optional seed number to control randomness</p>
</td></tr>
<tr><td><code id="MAZE_+3A_ncore">ncore</code></td>
<td>
<p>number of cores available for parallel computing</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For an independent variable <code class="reqn">X</code>, a zero-inflated mediator <code class="reqn">M</code> and a continuous outcome variable <code class="reqn">Y</code>, the following regression equation is used to model the association between <code class="reqn">Y</code> and <code class="reqn">(X,M)</code>:
</p>
<p style="text-align: center;"><code class="reqn">Y_{xm1_{(m&gt;0)}}=\beta_0+\beta_1m+\beta_2 1_{(m&gt;0)}+\beta_3x+\beta_4x1_{(m&gt;0)}+\beta_5xm+\epsilon</code>
</p>

<p>Users can choose to include either one, both, or none of the two exposure-mediator interaction terms between (i) <code class="reqn">X</code> and <code class="reqn">1_{(M&gt;0)}</code> and (ii) <code class="reqn">X</code> and <code class="reqn">M</code> using the argument <code>XMint</code>.
</p>
<p>For mediators, zero-inflated log-normal, zero-inflated negative binomial, and zero-inflated Poisson distributions are considered and can be specified through the argument <code>distM</code>.
</p>
<p>The indirect and direct effects (NIE1, NIE2, NIE, NDE, and CDE) are estimated for <code class="reqn">X</code> changing from <code>x1</code> to <code>x2</code>. When confounders are present, the conditional effects are estimated given the fixed value <code>zval</code>.
</p>


<h3>Value</h3>

<p>a list containing:
</p>

<ul>
<li> <p><code>results_effects</code>: a data frame for the results of estimated effects (NIE1, NIE2, NIE, NDE, and CDE)
</p>
</li>
<li> <p><code>results_parameters</code>: a data frame for the results of model parameters
</p>
</li>
<li> <p><code>selected_model_name</code>: a string for the distribution of <code class="reqn">M</code> and number of components <code class="reqn">K</code> selected in the final mediation model
</p>
</li>
<li> <p><code>BIC</code>: a numeric value for the BIC of the final mediation model
</p>
</li>
<li> <p><code>AIC</code>: a numeric value for the AIC of the final mediation model
</p>
</li>
<li> <p><code>models</code>: a list with all fitted models
</p>
</li>
<li> <p><code>analysis2_out</code>: a list with output from <code>analysis2()</code> function (used for internal check)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Meilin Jiang <a href="mailto:meilin.jiang@ufl.edu">meilin.jiang@ufl.edu</a> and Zhigang Li <a href="mailto:zhigang.li@ufl.edu">zhigang.li@ufl.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(zinb10)

maze_out &lt;- MAZE(data = zinb10,
                 distM = c('zilonm', 'zinbm', 'zipm'),  K = 1,
                 selection = 'AIC',
                 X = 'X', M = 'Mobs', Y = 'Y', Z = NULL,
                 XMint = c(TRUE, FALSE),
                 x1 = 0, x2 = 1, zval = NULL, mval = 0,
                 B = 20, seed = 1)
## results of selected mediation model
maze_out$results_effects # indirect and direct effects
maze_out$selected_model_name # selected distribution of the mediator and number of components K
maze_out$results_parameters # model parameters
maze_out$BIC; maze_out$AIC # BIC and AIC of the selected mediation model

</code></pre>

<hr>
<h2 id='zinb10'>Example dataset 'zinb10'</h2><span id='topic+zinb10'></span>

<h3>Description</h3>

<p>An example dataset generated from the proposed model with a zero-inflated negative binomial mediator (K=1). The mediator contains 10% zero values in which half are false zeros.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(zinb10)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>'data.frame'</code> with 100 rows and 3 variables:
</p>

<dl>
<dt>X</dt><dd><p>independent variable, continuous data type</p>
</dd>
<dt>Y</dt><dd><p>outcome, continuous data type</p>
</dd>
<dt>Mobs</dt><dd><p>observed mediator values with possibly false zeros, count data type</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(zinb10)
head(zinb10)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package shinyTree</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinyTree}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#depth'><p>Check depth of a list</p></a></li>
<li><a href='#dfrapply'><p>Recursively apply function to all data.frames in a nested list</p></a></li>
<li><a href='#dfToTree'><p>Converts a data.frame  to a data.tree format</p></a></li>
<li><a href='#get_checked'><p>Get the checked nodes from a tree</p></a></li>
<li><a href='#get_selected'><p>Get the selected nodes from a tree</p></a></li>
<li><a href='#renderEmptyTree'><p>Render an empty ShinyTree</p></a></li>
<li><a href='#renderTree'><p>Render a ShinyTree</p></a></li>
<li><a href='#renderTreeAsync'><p>Render an asynchronous ShinyTree</p></a></li>
<li><a href='#set_node_attrs'><p>Tree traversal</p></a></li>
<li><a href='#shinyTree'><p>Create a Shiny Tree</p></a></li>
<li><a href='#treeToDf'><p>Convert tree into data.frame</p></a></li>
<li><a href='#treeToJSON'><p>Converts a data.tree to a JSON format</p></a></li>
<li><a href='#updateTree'><p>Update the tree with new data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>jsTree Bindings for Shiny</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-7-21</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Bell &lt;bell_michael_a@lilly.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Exposes bindings to jsTree &ndash; a JavaScript library
    that supports interactive trees &ndash; to enable a rich, editable trees in
    Shiny.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15.1), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny (&ge; 0.9.0), htmlwidgets, jsonlite, stringr, promises</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, shinytest, data.tree</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/shinyTree/shinyTree/issues">https://github.com/shinyTree/shinyTree/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-07 16:36:45 UTC; c038195</td>
</tr>
<tr>
<td>Author:</td>
<td>Trestle Technology, LLC [aut],
  Jeff Allen [aut],
  Institut de Radioprotection et de Sûreté Nucléaire [cph],
  Ivan Bozhanov [ctb, cph] (jsTree),
  The Dojo Foundation [ctb, cph] (require.js),
  jQuery Foundation, Inc. [ctb, cph],
  Mike Schaffer [ctb],
  Timm Danker [ctb],
  Michael Bell [cre],
  Sebastian Gatscha [ctb],
  Thorn Thaler [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-07 18:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='depth'>Check depth of a list</h2><span id='topic+depth'></span>

<h3>Description</h3>

<p>Check depth of a list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>depth(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="depth_+3A_x">x</code></td>
<td>
<p>list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer
</p>


<h3>Author(s)</h3>

<p>Jasper Schelfhout <a href="mailto:jasper.schelfhout@openanalytics.eu">jasper.schelfhout@openanalytics.eu</a>
</p>

<hr>
<h2 id='dfrapply'>Recursively apply function to all data.frames in a nested list</h2><span id='topic+dfrapply'></span>

<h3>Description</h3>

<p>Recursively apply function to all data.frames in a nested list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dfrapply(list, f, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dfrapply_+3A_list">list</code></td>
<td>
<p>(nested) list containing data.frames</p>
</td></tr>
<tr><td><code id="dfrapply_+3A_f">f</code></td>
<td>
<p>function to apply to each data.frame</p>
</td></tr>
<tr><td><code id="dfrapply_+3A_...">...</code></td>
<td>
<p>extra arguments to f</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>


<h3>Author(s)</h3>

<p>Jasper Schelfhout <a href="mailto:jasper.schelfhout@openanalytics.eu">jasper.schelfhout@openanalytics.eu</a>
</p>

<hr>
<h2 id='dfToTree'>Converts a data.frame  to a data.tree format</h2><span id='topic+dfToTree'></span>

<h3>Description</h3>

<p>Converts a data.frame  to a data.tree format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dfToTree(df, hierarchy = colnames(df))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dfToTree_+3A_df">df</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="dfToTree_+3A_hierarchy">hierarchy</code></td>
<td>
<p>ordered character vector of column names defining the hierarchy</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nested list
</p>


<h3>Author(s)</h3>

<p>Jasper Schelfhout <a href="mailto:jasper.schelfhout@openanalytics.eu">jasper.schelfhout@openanalytics.eu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df &lt;- data.frame(Titanic)
tree &lt;- dfToTree(df, c("Sex", "Class", "Survived"))

## End(Not run)
</code></pre>

<hr>
<h2 id='get_checked'>Get the checked nodes from a tree</h2><span id='topic+get_checked'></span>

<h3>Description</h3>

<p>Extract the nodes from the tree that are checked in a more
convenient format. You can choose which format you prefer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_checked(tree, format = c("names", "slices", "classid"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_checked_+3A_tree">tree</code></td>
<td>
<p>The <code>input$tree</code> shinyTree you want to 
inspect.</p>
</td></tr>
<tr><td><code id="get_checked_+3A_format">format</code></td>
<td>
<p>In which format you want the output. Use 
<code>names</code> to get a simple list of the names (with attributes
describing the node's ancestry), or <code>slices</code> to get a list
of lists, each of which is a slice of the list used to get down
to the selected node.</p>
</td></tr>
</table>

<hr>
<h2 id='get_selected'>Get the selected nodes from a tree</h2><span id='topic+get_selected'></span>

<h3>Description</h3>

<p>Extract the nodes from the tree that are selected in a more
convenient format. You can choose which format you prefer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_selected(tree, format = c("names", "slices", "classid"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_selected_+3A_tree">tree</code></td>
<td>
<p>The <code>input$tree</code> shinyTree you want to 
inspect.</p>
</td></tr>
<tr><td><code id="get_selected_+3A_format">format</code></td>
<td>
<p>In which format you want the output. Use 
<code>names</code> to get a simple list of the names (with attributes
describing the node's ancestry), or <code>slices</code> to get a list
of lists, each of which is a slice of the list used to get down
to the selected node.</p>
</td></tr>
</table>

<hr>
<h2 id='renderEmptyTree'>Render an empty ShinyTree</h2><span id='topic+renderEmptyTree'></span>

<h3>Description</h3>

<p>Renders a tree with no defined nodes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renderEmptyTree()
</code></pre>


<h3>See Also</h3>

<p><code><a href="#topic+shinyTree">shinyTree</a></code>
</p>

<hr>
<h2 id='renderTree'>Render a ShinyTree</h2><span id='topic+renderTree'></span>

<h3>Description</h3>

<p>Should return a list from the given expression which will be converted into a
<code><a href="#topic+shinyTree">shinyTree</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renderTree(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="renderTree_+3A_expr">expr</code></td>
<td>
<p>The expression to be evaluated which should produce a list.</p>
</td></tr>
<tr><td><code id="renderTree_+3A_env">env</code></td>
<td>
<p>The environment in which <code>expr</code> should be evaluated.</p>
</td></tr>
<tr><td><code id="renderTree_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+shinyTree">shinyTree</a></code>
</p>

<hr>
<h2 id='renderTreeAsync'>Render an asynchronous ShinyTree</h2><span id='topic+renderTreeAsync'></span>

<h3>Description</h3>

<p>Should return a list from the given expression which will be converted into a
<code><a href="#topic+shinyTree">shinyTree</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renderTreeAsync(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="renderTreeAsync_+3A_expr">expr</code></td>
<td>
<p>The expression to be evaluated which should produce a list.</p>
</td></tr>
<tr><td><code id="renderTreeAsync_+3A_env">env</code></td>
<td>
<p>The environment in which <code>expr</code> should be evaluated.</p>
</td></tr>
<tr><td><code id="renderTreeAsync_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+shinyTree">shinyTree</a></code>
</p>

<hr>
<h2 id='set_node_attrs'>Tree traversal</h2><span id='topic+set_node_attrs'></span>

<h3>Description</h3>

<p>Traverse through tree/list to set node attributes, e.g. change icons.
Useful for directory structure icons where inner nodes are directories, leafs are files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_node_attrs(tree, attr_name, inner_val, leaf_val)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_node_attrs_+3A_tree">tree</code></td>
<td>
<p>named nested list</p>
</td></tr>
<tr><td><code id="set_node_attrs_+3A_attr_name">attr_name</code></td>
<td>
<p>name of attribute to set</p>
</td></tr>
<tr><td><code id="set_node_attrs_+3A_inner_val">inner_val</code></td>
<td>
<p>value of attribute for inner tree nodes</p>
</td></tr>
<tr><td><code id="set_node_attrs_+3A_leaf_val">leaf_val</code></td>
<td>
<p>value of attribute for outer tree nodes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named nested list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tree &lt;- dfToTree(data.frame(Titanic),  c("Sex", "Survived"))
str(set_node_attrs(tree, attr_name = "sttype", inner_val = "directory", leaf_val = "file"))

</code></pre>

<hr>
<h2 id='shinyTree'>Create a Shiny Tree</h2><span id='topic+shinyTree'></span>

<h3>Description</h3>

<p>This creates a spot in your Shiny UI for a shinyTree which can then be filled
in using <code><a href="#topic+renderTree">renderTree</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shinyTree(
  outputId,
  checkbox = FALSE,
  search = FALSE,
  searchtime = 250,
  dragAndDrop = FALSE,
  types = NULL,
  theme = "default",
  themeIcons = TRUE,
  themeDots = TRUE,
  sort = FALSE,
  unique = FALSE,
  wholerow = FALSE,
  stripes = FALSE,
  multiple = TRUE,
  animation = 200,
  contextmenu = FALSE,
  three_state = TRUE,
  whole_node = TRUE,
  tie_selection = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shinyTree_+3A_outputid">outputId</code></td>
<td>
<p>The ID associated with this element</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_checkbox">checkbox</code></td>
<td>
<p>If <code>TRUE</code>, will enable checkboxes next to each node to 
make the selection of multiple nodes in the tree easier.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_search">search</code></td>
<td>
<p>If <code>TRUE</code>, will enable search functionality in the tree by adding
a search box above the produced tree. Alternatively, you can set the parameter
to the ID of the text input you wish to use as the search field.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_searchtime">searchtime</code></td>
<td>
<p>Determines the reaction time of the search algorithm.
Default is 250ms.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_draganddrop">dragAndDrop</code></td>
<td>
<p>If <code>TRUE</code>, will allow the user to rearrange the nodes in the
tree.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_types">types</code></td>
<td>
<p>enables jstree types functionality when sent proper json (please see the types example)</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_theme">theme</code></td>
<td>
<p>jsTree theme, one of <code>default</code>, <code>default-dark</code>, or <code>proton</code>.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_themeicons">themeIcons</code></td>
<td>
<p>If <code>TRUE</code>, will show theme icons for each item.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_themedots">themeDots</code></td>
<td>
<p>If <code>TRUE</code>, will include level dots.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_sort">sort</code></td>
<td>
<p>If <code>TRUE</code>, will sort the nodes in alphabetical/numerical
order.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_unique">unique</code></td>
<td>
<p>If <code>TRUE</code>, will ensure that no node name exists more
than once.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_wholerow">wholerow</code></td>
<td>
<p>If <code>TRUE</code>, will highlight the whole selected row.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_stripes">stripes</code></td>
<td>
<p>If <code>TRUE</code>, the tree background is striped.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_multiple">multiple</code></td>
<td>
<p>If <code>TRUE</code>, multiple nodes can be selected.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_animation">animation</code></td>
<td>
<p>The open / close animation duration in milliseconds.
Set this to <code>FALSE</code> to disable the animation (default is 200).</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_contextmenu">contextmenu</code></td>
<td>
<p>If <code>TRUE</code>, will enable a contextmenu to 
create/rename/delete/cut/copy/paste nodes.</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_three_state">three_state</code></td>
<td>
<p>If <code>TRUE</code>, a boolean indicating if checkboxes should cascade down and have an undetermined state</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_whole_node">whole_node</code></td>
<td>
<p>If <code>TRUE</code>,a boolean indicating if clicking anywhere on the node should act as clicking on the checkbox</p>
</td></tr>
<tr><td><code id="shinyTree_+3A_tie_selection">tie_selection</code></td>
<td>
<p>If <code>TRUE</code>, controls if checkbox are bound to the general tree selection or to an internal array maintained by the checkbox plugin.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A shinyTree is an output *and* an input element in the same time. While you can 
fill it via <code><a href="#topic+renderTree">renderTree</a></code> you can access its content via <code>input$tree</code> 
(for example after the user rearranged some nodes). By default, <code>input$tree</code> will
return a list similiar to the one you use to fill the tree. This behaviour is controlled
by <code>getOption("shinyTree.defaultParser")</code>. It defaults to <code>"list"</code>, but can be set 
to <code>"tree"</code>, in which case a <code><a href="data.tree.html#topic+data.tree">data.tree</a></code> is returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+renderTree">renderTree</a></code>
</p>

<hr>
<h2 id='treeToDf'>Convert tree into data.frame</h2><span id='topic+treeToDf'></span>

<h3>Description</h3>

<p>Convert tree into data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>treeToDf(tree, hierarchy = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="treeToDf_+3A_tree">tree</code></td>
<td>
<p>named nested list</p>
</td></tr>
<tr><td><code id="treeToDf_+3A_hierarchy">hierarchy</code></td>
<td>
<p>sorted character vector with name for each level of the list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Michael Bell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df &lt;- data.frame(Titanic)
tree &lt;- dfToTree(df, c("Sex", "Class", "Survived"))
newDf &lt;- treeToDf(tree, c("Sex", "Class", "Survived"))

## End(Not run)
</code></pre>

<hr>
<h2 id='treeToJSON'>Converts a data.tree to a JSON format</h2><span id='topic+treeToJSON'></span>

<h3>Description</h3>

<p>Walk through a <code><a href="data.tree.html#topic+data.tree">data.tree</a></code> and constructs a JSON string,
which can be rendered by shinyTree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>treeToJSON(
  tree,
  keepRoot = FALSE,
  topLevelSlots = c("default", "all"),
  createNewId = TRUE,
  pretty = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="treeToJSON_+3A_tree">tree</code></td>
<td>
<p>the data.tree which should be parses</p>
</td></tr>
<tr><td><code id="treeToJSON_+3A_keeproot">keepRoot</code></td>
<td>
<p>logical. If <code>FALSE</code> (default) the root node from the tree
is pruned</p>
</td></tr>
<tr><td><code id="treeToJSON_+3A_toplevelslots">topLevelSlots</code></td>
<td>
<p>determines which slots should be moved to the top level of the 
node. If <code>default</code> or <code>NULL</code> slots 
<a href="https://www.jstree.com/docs/json/">used in the jsTree JSON</a> 
are kept on the top level, while any other atomic / list slots from the tree
are stored in an own slot called &lsquo;data&rsquo;. If <code>all</code> *all* nodes are
stored on the top level. Alternatively, it can be an explicit vector of
slot names which should be kept. In the latter case it is the user's
responsibility to ensure that jsTree slots stay on the top level.</p>
</td></tr>
<tr><td><code id="treeToJSON_+3A_createnewid">createNewId</code></td>
<td>
<p>logical. If <code>TRUE</code> a new id will be generated. Any old &lsquo;id&rsquo; 
will be stored in &lsquo;id.orig&rsquo; and a warning will be issued, If <code>FALSE</code>,
any existing id will be re-used.</p>
</td></tr>
<tr><td><code id="treeToJSON_+3A_pretty">pretty</code></td>
<td>
<p>logical. If <code>TRUE</code> the resulting JSON is prettified</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The JSON string generated follows the 
<a href="https://www.jstree.com/docs/json/">jsTree specifications</a>. In particular 
it encodes children nodes via the &lsquo;children&rsquo; slot. 
</p>
<p>All atomic or list slots of a node in the tree are stored in a data slot in 
the resulting JSON.
</p>
<p>If the user wants to store some slots not in the data slot but on the top 
level of the node, parameter <code>topLevelSlots</code> can be used. This is useful
for additional parameters such as &lsquo;icon&rsquo;, &lsquo;li_attr&rsquo; or 
&lsquo;a_attr&rsquo;, which jsTree expect to be on the top level of the node.
</p>
<p>An example of how to make use of this functionality can be found in the
example folder of this library.
</p>


<h3>Value</h3>

<p>a JSON string representing the data.tree
</p>


<h3>Note</h3>

<p><code><a href="#topic+updateTree">updateTree</a></code> and <code><a href="#topic+renderTree">renderTree</a></code> need an unevaluated JSON 
string. Hence, this function returns a string rather than the JSON object itself.
</p>


<h3>Author(s)</h3>

<p>Thorn Thaler, <a href="mailto:thorn.thaler@thothal.at">thorn.thaler@thothal.at</a>
</p>

<hr>
<h2 id='updateTree'>Update the tree with new data</h2><span id='topic+updateTree'></span>

<h3>Description</h3>

<p>Extract the nodes from the tree that are selected in a more
convenient format. You can choose which format you prefer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateTree(session, treeId, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateTree_+3A_session">session</code></td>
<td>
<p>The current session variable.</p>
</td></tr>
<tr><td><code id="updateTree_+3A_treeid">treeId</code></td>
<td>
<p>The identifier for the shinyTree object</p>
</td></tr>
<tr><td><code id="updateTree_+3A_data">data</code></td>
<td>
<p>JSON data or nested list representing the new tree structure.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

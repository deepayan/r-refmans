<!DOCTYPE html><html><head><title>Help for package rgl.cry</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rgl.cry}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rgl.cry-package'><p>rgl.cry: 'cry' and 'rgl' — Applications in Crystallography</p></a></li>
<li><a href='#align'><p>Align crystal and diffraction pattern</p></a></li>
<li><a href='#cry_demo'><p>Examples of using the cry and rgl packages together.</p></a></li>
<li><a href='#dp_demo'><p>Examples of using the cry and rgl packages together.</p></a></li>
<li><a href='#getCIF'><p>Examples of using the cry and rgl packages together.</p></a></li>
<li><a href='#select'><p>Select atoms or reciprocal lattice points.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>'cry' and 'rgl' — Applications in Crystallography</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Visualizing crystal structures and selected area electron diffraction (SAED) patterns.  It provides functions cry_demo() and dp_demo() to load a file in 'CIF' (Crystallographic Information Framework) formats and display crystal structures and electron diffraction patterns.  The function dp_demo() also performs simple simulation of powder X-ray diffraction (PXRD) patterns, and the results can be saved to a file in the working directory.  The package has been tested on several platforms, including Linux on 'Crostini' with a Core™ m3-8100Y Chromebook, I found that even on this low-powered platform, the performance was acceptable.
    T. Hanashima (2001) <a href="https://www2.kek.jp/imss/pf/tools/sasaki/sinram/sinram.html">https://www2.kek.jp/imss/pf/tools/sasaki/sinram/sinram.html</a>
    Todd Helmenstine (2019) <a href="https://sciencenotes.org/molecule-atom-colors-cpk-colors/">https://sciencenotes.org/molecule-atom-colors-cpk-colors/</a>
    Wikipedia contributors (2023) <a href="https://en.wikipedia.org/w/index.php?title=Atomic_radius&amp;amp;oldid=1179864711">https://en.wikipedia.org/w/index.php?title=Atomic_radius&amp;oldid=1179864711</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>cry, rgl, utils</td>
</tr>
<tr>
<td>Collate:</td>
<td>'zzz.R' 'cry_demo.R' 'dp_demo.R' 'getCIF.R' 'align.R'
'select.R' 'rgl.cry-package.R'</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, spelling, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/SaitouToshihide/rgl.cry/">https://github.com/SaitouToshihide/rgl.cry/</a>,
<a href="https://saitoutoshihide.github.io/rgl.cry/">https://saitoutoshihide.github.io/rgl.cry/</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-27 16:59:05 UTC; saitoutoshihide</td>
</tr>
<tr>
<td>Author:</td>
<td>Toshihide Saitou [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Toshihide Saitou &lt;saitou.toshihide@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-28 18:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rgl.cry-package'>rgl.cry: 'cry' and 'rgl' — Applications in Crystallography</h2><span id='topic+rgl.cry'></span><span id='topic+rgl.cry-package'></span>

<h3>Description</h3>

<p>Visualizing crystal structures and selected area electron diffraction (SAED) patterns. It provides functions cry_demo() and dp_demo() to load a file in 'CIF' (Crystallographic Information Framework) formats and display crystal structures and electron diffraction patterns. The function dp_demo() also performs simple simulation of powder X-ray diffraction (PXRD) patterns, and the results can be saved to a file in the working directory. The package has been tested on several platforms, including Linux on 'Crostini' with a Core™ m3-8100Y Chromebook, I found that even on this low-powered platform, the performance was acceptable. T. Hanashima (2001) <a href="https://www2.kek.jp/imss/pf/tools/sasaki/sinram/sinram.html">https://www2.kek.jp/imss/pf/tools/sasaki/sinram/sinram.html</a> Todd Helmenstine (2019) <a href="https://sciencenotes.org/molecule-atom-colors-cpk-colors/">https://sciencenotes.org/molecule-atom-colors-cpk-colors/</a> Wikipedia contributors (2023) <a href="https://en.wikipedia.org/w/index.php?title=Atomic_radius&amp;oldid=1179864711">https://en.wikipedia.org/w/index.php?title=Atomic_radius&amp;oldid=1179864711</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Toshihide Saitou <a href="mailto:saitou.toshihide@gmail.com">saitou.toshihide@gmail.com</a> [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/SaitouToshihide/rgl.cry/">https://github.com/SaitouToshihide/rgl.cry/</a>
</p>
</li>
<li> <p><a href="https://saitoutoshihide.github.io/rgl.cry/">https://saitoutoshihide.github.io/rgl.cry/</a>
</p>
</li></ul>


<hr>
<h2 id='align'>Align crystal and diffraction pattern</h2><span id='topic+align'></span>

<h3>Description</h3>

<p>Align crystal and diffraction pattern and displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>align(ax, dev = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="align_+3A_ax">ax</code></td>
<td>
<p>An axis to align</p>
</td></tr>
<tr><td><code id="align_+3A_dev">dev</code></td>
<td>
<p>RGL device to apply.  Defaults to current device.</p>
</td></tr>
<tr><td><code id="align_+3A_verbose">verbose</code></td>
<td>
<p>logical: Should the report be suppressed?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There is no z-axis alignment support because the visualization was created
with the analogy of selected area electron diffraction (SAED) on transmission
electron microscope (TEM) which typically have up to two axes.  However you
can rotate around the z-axis by the drag originates near the window edge.
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
 align("a")
 align("rb")
 align("1 1 0")
 align("60 -30")
 align(dev = 123, "a")
}

</code></pre>

<hr>
<h2 id='cry_demo'>Examples of using the cry and rgl packages together.</h2><span id='topic+cry_demo'></span>

<h3>Description</h3>

<p>Read a file in CIF formats, set the parameters, calculates them, and draws
the crystal structure with an axis widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cry_demo(file = NULL, rf = 1, type = "b", zoom = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cry_demo_+3A_file">file</code></td>
<td>
<p>Optional file in CIF formats. The file can also be specified by
URL.</p>
</td></tr>
<tr><td><code id="cry_demo_+3A_rf">rf</code></td>
<td>
<p>A positive value indicating the scale factor of atom radius.</p>
</td></tr>
<tr><td><code id="cry_demo_+3A_type">type</code></td>
<td>
<p>A style of atom displaying such like ball, fill and ball-stick
but ball-stick is not implemented.</p>
</td></tr>
<tr><td><code id="cry_demo_+3A_zoom">zoom</code></td>
<td>
<p>A positive value indicating the current scene magnification.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no file argument is provided, and <code>dp_demo()</code> has been opened without
paired <code>cry_demo()</code>, the CIF parameters of already opened <code>dp_demo()</code> will be
used.
</p>


<h3>Value</h3>

<p>An integer the device number of the currently window.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cry_demo()
cry_demo(system.file("orthorhombic_p.cif", package = "rgl.cry"))


if (interactive()) {
 cry_demo(file, type = "fill", zoom = 0.5)
 cry_demo("https://www.crystallography.net/cod/foo.cif")
}

</code></pre>

<hr>
<h2 id='dp_demo'>Examples of using the cry and rgl packages together.</h2><span id='topic+dp_demo'></span>

<h3>Description</h3>

<p>Read a file in CIF formats, set and the parameters, calculates them, draws
the reciprocal lattice map with a cell widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_demo(file = NULL, reso = 1.2, ews.r = 37, zoom = 0.5, xrd = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dp_demo_+3A_file">file</code></td>
<td>
<p>Optional file in CIF formats.</p>
</td></tr>
<tr><td><code id="dp_demo_+3A_reso">reso</code></td>
<td>
<p>A real number. The highest data resolution, in angstroms.  If the
default value takes a long time to process displaying due to the large number
of lattice points, you can expect to improve performance by increasing the
value.</p>
</td></tr>
<tr><td><code id="dp_demo_+3A_ews.r">ews.r</code></td>
<td>
<p>Ewald sphere radius in angstrom.</p>
</td></tr>
<tr><td><code id="dp_demo_+3A_zoom">zoom</code></td>
<td>
<p>A positive value indicating the current scene magnification.</p>
</td></tr>
<tr><td><code id="dp_demo_+3A_xrd">xrd</code></td>
<td>
<p>A logical value indicating whether to create an X-ray diffraction
pattern simulation result file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no file argument is provided, and <code>cry_demo()</code> has been opened without
paired <code>dp_demo()</code>, the CIF parameters of already opened <code>cry_demo()</code> will be
used.
</p>
<p>Interactive rotation, zooming, and panning of structures are possible using
the 3D graphics library <code>rgl</code>.  When the drag originates near the window
edge (within 5%), perform a Z-axis rotation.
</p>
<p>This function also performs powder diffraction simulation and saves the
results to a file in the working directory.  Currently, it doesn't account
for atomic ionization and uses standard atomic scattering factors.
</p>


<h3>Value</h3>

<p>An integer the device number of the currently window.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dp_demo()
dp_demo(system.file("orthorhombic_p.cif", package = "rgl.cry"))


if (interactive()) {
 dp_demo(file, zoom = 0.5)
 dp_demo("https://www.crystallography.net/cod/foo.cif")
}

</code></pre>

<hr>
<h2 id='getCIF'>Examples of using the cry and rgl packages together.</h2><span id='topic+getCIF'></span>

<h3>Description</h3>

<p>Output a lCIF.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCIF(dev = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCIF_+3A_dev">dev</code></td>
<td>
<p>The device that is used to extract the lCIF.  The default is
current device.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list, the same as that of 'cry::readCIF.'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
getCIF()

</code></pre>

<hr>
<h2 id='select'>Select atoms or reciprocal lattice points.</h2><span id='topic+select'></span>

<h3>Description</h3>

<p>Select one or more atoms or reciprocal lattice points in the window.  The
labels and Miller indices of the selected atoms or lattice points will be
displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select(dev = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_+3A_dev">dev</code></td>
<td>
<p>RGL device to apply.  Defaults to current device.</p>
</td></tr>
<tr><td><code id="select_+3A_verbose">verbose</code></td>
<td>
<p>logical: Should the report be suppressed?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Selecting atoms or lattice points in the window will include all
z-coordinates.  If you do not want to include all z-coordinates, you will
need to modify the code.
</p>


<h3>Value</h3>

<p>List of Miller indices or element labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
 select()
 select(dev = 123)
}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

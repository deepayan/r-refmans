<!DOCTYPE html><html lang="en"><head><title>Help for package bayesMeanScale</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bayesMeanScale}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bayesCountMargEffF'>
<p>Bayesian marginal effects on count probabilities.</p></a></li>
<li><a href='#bayesCountPredsF'>
<p>Bayesian predictions of count probabilities.</p></a></li>
<li><a href='#bayesMargCompareF'>
<p>Comparison of Bayesian marginal effects</p></a></li>
<li><a href='#bayesMargEffF'>
<p>Bayesian marginal effects on the mean scale.</p></a></li>
<li><a href='#bayesOrdinalMargEffF'>
<p>Bayesian marginal effects on the mean scale.</p></a></li>
<li><a href='#bayesOrdinalPredsF'>
<p>Bayesian predictions for ordinal models on the mean scale.</p></a></li>
<li><a href='#bayesPredsF'>
<p>Bayesian predictions on the mean scale.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Post-Estimation on the Mean Scale</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dalenbe2/bayesMeanScale">https://github.com/dalenbe2/bayesMeanScale</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dalenbe2/bayesMeanScale/issues">https://github.com/dalenbe2/bayesMeanScale/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Computes Bayesian posterior distributions of predictions, marginal effects, and differences of marginal effects for various generalized linear models. Importantly, the posteriors are on the mean (response) scale, allowing for more natural interpretation than summaries on the link scale. Also, predictions and marginal effects of the count probabilities for Poisson and negative binomial models can be computed. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>bayestestR (&ge; 0.13.2), data.table (&ge; 1.15.2), magrittr (&ge;
2.0.3), posterior (&ge; 1.5.0)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>flextable (&ge; 0.9.5), knitr (&ge; 1.45), MASS (&ge; 7.3-60.2),
rmarkdown (&ge; 2.26), rstanarm (&ge; 2.32.1), testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-03 14:59:31 UTC; dalenbed</td>
</tr>
<tr>
<td>Author:</td>
<td>David M. Dalenberg [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David M. Dalenberg &lt;dalenbe2@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-08 13:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bayesCountMargEffF'>
Bayesian marginal effects on count probabilities.
</h2><span id='topic+bayesCountMargEffF'></span>

<h3>Description</h3>

<p>Computes Bayesian marginal effects on count probabilities. Models must have a family of &quot;poisson&quot;&quot; or &quot;neg_binomial_2&quot; and be fit using the &quot;rstanarm&quot; package. Marginal effects can be averaged over the values of the covariates in the data (average marginal effects), or the covariates can be held at their means (marginal effects at the means). Also, &quot;at&quot; values can be specified to fix covariates at particular values. The marginal effects can be specified in terms of discrete changes or instantaneous rates of change.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesCountMargEffF(model,
                   counts,
                   marginal_effect,
                   start_value,
                   end_value,
                   n_draws         = 2000,
                   ci              = .95,
                   hdi_interval    = TRUE,
                   centrality      = 'mean',
                   digits          = 4,
                   at              = NULL,
                   at_means        = FALSE,
                   h               = .0001)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bayesCountMargEffF_+3A_model">model</code></td>
<td>

<p>A model object of class &quot;stanreg.&quot;
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_counts">counts</code></td>
<td>

<p>Vector of counts to get the predicted probabilities for.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_marginal_effect">marginal_effect</code></td>
<td>

<p>A character vector of terms that you want to estimate the marginal effect for.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_start_value">start_value</code></td>
<td>

<p>The start value(s) for the marginal effect(s). Must be a list when specifying multiple values. Specify &quot;instantaneous&quot; when you want to calculate an approximate instantaneous rate of change.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_end_value">end_value</code></td>
<td>

<p>The end value(s) for the marginal effect(s). Must be a list when specifying multiple values. Specify &quot;instantaneous&quot; when you want to calculate an approximate instantaneous rate of change.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_n_draws">n_draws</code></td>
<td>

<p>The number of draws to take from the joint posterior distribution.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_ci">ci</code></td>
<td>

<p>The level for the credible intervals.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_hdi_interval">hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_centrality">centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are &quot;mean&quot; or &quot;median&quot;.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_digits">digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_at">at</code></td>
<td>

<p>Optional list of covariate values to estimate the marginal effect at.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_at_means">at_means</code></td>
<td>

<p>If FALSE, the default, the marginal effects are averaged across the rows of the data. If TRUE, the covariate values that are not specified in the &quot;at&quot; argument are held at their means.
</p>
</td></tr>
<tr><td><code id="bayesCountMargEffF_+3A_h">h</code></td>
<td>

<p>Step size for calculating the approximate instantaneous rate of change.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Marginal effects on count probabilities give you useful information to complement post estimation summaries on the mean scale. 
</p>


<h3>Value</h3>

<p>A list of class &quot;bayesmeanscale_marg&quot; with the following components: 
</p>
<table role = "presentation">
<tr><td><code>diffTable</code></td>
<td>

<p>summary table of the marginal effects
</p>
</td></tr>
<tr><td><code>diffDraws</code></td>
<td>

<p>posterior draws of the marginal effects
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Long, J. Scott and Jeremy Freese. 2001. &quot;Predicted Probabilities for Count Models.&quot; <em>Stata Journal</em> 1(1): 51-57.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


if(require(rstanarm)){

crabs &lt;- read.table("https://users.stat.ufl.edu/~aa/cat/data/Crabs.dat", 
                    header = TRUE)

poissonModel  &lt;- stan_glm(sat ~ weight + width, 
                          data    = crabs, 
                          family  = poisson, 
                          refresh = 0,
                          iter    = 500)

# marginal effect holding covariates at their means #

bayesCountMargEffF(poissonModel,
                   counts          = 1,
                   marginal_effect = 'width',
                   start_value     = 25,
                   end_value       = 20,
                   at_means        = TRUE,
                   n_draws         = 500)
                   
}
                   


</code></pre>

<hr>
<h2 id='bayesCountPredsF'>
Bayesian predictions of count probabilities.
</h2><span id='topic+bayesCountPredsF'></span>

<h3>Description</h3>

<p>Computes Bayesian predictions for count probabilities. Models must have a family of &quot;poisson&quot;&quot; or &quot;neg_binomial_2&quot; and be fit using the &quot;rstanarm&quot; package. Predictions can be averaged over the values of the covariates in the data (average marginal predictions), or the covariates can be held at their means (marginal predictions at the means). Also, &quot;at&quot; values must be specified to fix at least one covariate at particular values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesCountPredsF(model,
                 counts,
                 at,
                 n_draws      = 2000,
                 ci           = .95,
                 hdi_interval = TRUE,
                 centrality   = 'mean',
                 digits       = 4,
                 at_means     = FALSE,
                 data_slice   = 'full')
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bayesCountPredsF_+3A_model">model</code></td>
<td>

<p>A model object of class &quot;stanreg.&quot;
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_counts">counts</code></td>
<td>

<p>Vector of counts to get the predicted probabilities for.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_at">at</code></td>
<td>

<p>List of covariate values to estimate the predictions at.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_n_draws">n_draws</code></td>
<td>

<p>The number of draws to take from the joint posterior distribution.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_ci">ci</code></td>
<td>

<p>The level for the credible intervals.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_hdi_interval">hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_centrality">centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are &quot;mean&quot; or &quot;median&quot;.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_digits">digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_at_means">at_means</code></td>
<td>

<p>If FALSE, the default, the predictions are averaged across the rows of the model data for each unique combination of &quot;at&quot; values. If TRUE, the covariate values that are not specified in the &quot;at&quot; argument are held at their means.
</p>
</td></tr>
<tr><td><code id="bayesCountPredsF_+3A_data_slice">data_slice</code></td>
<td>

<p>The number of rows of data to average over for the predictions. Defaults to all rows. This can be useful for very large data sets. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predicted count probabilities give you useful information to complement post estimation summaries of the mean. 
</p>


<h3>Value</h3>

<p>A list of class &quot;bayesmeanscale_pred&quot; with the following components: 
</p>
<table role = "presentation">
<tr><td><code>predTable</code></td>
<td>

<p>summary table of the predictions
</p>
</td></tr>
<tr><td><code>predDraws</code></td>
<td>

<p>posterior draws of the predictions
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Long, J. Scott and Jeremy Freese. 2001. &quot;Predicted Probabilities for Count Models.&quot; <em>Stata Journal</em> 1(1): 51-57.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


if(require(rstanarm)){

crabs &lt;- read.table("https://users.stat.ufl.edu/~aa/cat/data/Crabs.dat", 
                    header = TRUE)

poissonModel  &lt;- stan_glm(sat ~ weight + width, 
                          data    = crabs, 
                          family  = poisson, 
                          refresh = 0,
                          iter    = 500)

bayesCountPredsF(poissonModel,
                 counts  = c(0,1),
                 at      = list(weight=c(2,3)),
                 n_draws = 500)
                 
}
                 


</code></pre>

<hr>
<h2 id='bayesMargCompareF'>
Comparison of Bayesian marginal effects 
</h2><span id='topic+bayesMargCompareF'></span>

<h3>Description</h3>

<p>Tests the differences between all marginal effects in the &quot;bayesmeanscale_marg&quot; object that is passed to it. This is particularly useful for testing non-linear interaction effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesMargCompareF(marg_list,
                  ci           = 0.95,
                  hdi_interval = TRUE,
                  centrality   = 'mean',
                  digits       = 4)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bayesMargCompareF_+3A_marg_list">marg_list</code></td>
<td>

<p>An object of class &quot;bayesmeanscale_marg.&quot;
</p>
</td></tr>
<tr><td><code id="bayesMargCompareF_+3A_ci">ci</code></td>
<td>

<p>The level of the credible interval.
</p>
</td></tr>
<tr><td><code id="bayesMargCompareF_+3A_hdi_interval">hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td></tr>
<tr><td><code id="bayesMargCompareF_+3A_centrality">centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are &quot;mean&quot; or &quot;median&quot;.
</p>
</td></tr>
<tr><td><code id="bayesMargCompareF_+3A_digits">digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Differences of marginal effects contained in the &quot;bayesmeanscale_marg&quot; object are computed.
</p>


<h3>Value</h3>

<p>A list of class &quot;bayesmeanscale_margcompare&quot; with the following components: 
</p>
<table role = "presentation">
<tr><td><code>diffTable</code></td>
<td>

<p>summary table of the differences of the marginal effects
</p>
</td></tr>
<tr><td><code>diffDraws</code></td>
<td>

<p>posterior draws of the differences of the marginal effects
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Mize, Trenton D. 2019. &quot;Best Practices for Estimating, Interpreting, and Presenting Non-linear Interaction Effects.&quot; <em>Sociological Science</em> 6: 81-117. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


## Logit model ##

if(require(rstanarm)){

m1 &lt;- stan_glm(switch ~ dist + educ + arsenic + assoc, 
               data    = rstanarm::wells, 
               family  = binomial, 
               refresh = 0,
               iter    = 500)

m1Marg &lt;- bayesMargEffF(m1, 
                        marginal_effect = 'arsenic', 
                        start_value     = 2.2, 
                        end_value       = .82, 
                        at              = list(educ=c(0, 5)),
                        n_draws         = 500)

bayesMargCompareF(m1Marg)

}



</code></pre>

<hr>
<h2 id='bayesMargEffF'>
Bayesian marginal effects on the mean scale.
</h2><span id='topic+bayesMargEffF'></span>

<h3>Description</h3>

<p>Computes Bayesian marginal effects on the mean scale for models fit using the package &quot;rstanarm&quot;. Marginal effects can be averaged over the values of the covariates in the data (average marginal effects), or the covariates can be held at their means (marginal effects at the means). Also, &quot;at&quot; values can be specified to fix covariates at particular values. The marginal effects can be specified in terms of discrete changes or instantaneous rates of change.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesMargEffF(model,
              n_draws         = 2000,
              marginal_effect,
              start_value,
              end_value,
              ci              = .95,
              hdi_interval    = TRUE,
              centrality      = 'mean',
              digits          = 4,
              at              = NULL,
              at_means        = FALSE,
              h               = .0001)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bayesMargEffF_+3A_model">model</code></td>
<td>

<p>A model object of class &quot;stanreg.&quot;
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_n_draws">n_draws</code></td>
<td>

<p>The number of draws to take from the joint posterior distribution.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_marginal_effect">marginal_effect</code></td>
<td>

<p>A character vector of terms that you want to estimate the marginal effect for.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_start_value">start_value</code></td>
<td>

<p>The start value(s) for the marginal effect(s). Must be a list when specifying multiple values. Specify &quot;instantaneous&quot; when you want to calculate an approximate instantaneous rate of change.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_end_value">end_value</code></td>
<td>

<p>The end value(s) for the marginal effect(s). Must be a list when specifying multiple values. Specify &quot;instantaneous&quot; when you want to calculate an approximate instantaneous rate of change.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_ci">ci</code></td>
<td>

<p>The level for the credible intervals.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_hdi_interval">hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_centrality">centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are &quot;mean&quot; or &quot;median&quot;.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_digits">digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_at">at</code></td>
<td>

<p>Optional list of covariate values to estimate the marginal effect at.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_at_means">at_means</code></td>
<td>

<p>If FALSE, the default, the marginal effects are averaged across the rows of the data. If TRUE, the covariate values that are not specified in the &quot;at&quot; argument are held at their means.
</p>
</td></tr>
<tr><td><code id="bayesMargEffF_+3A_h">h</code></td>
<td>

<p>Step size for calculating the approximate instantaneous rate of change.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following families of fixed-effect models fit using &quot;rstanarm&quot; are supported: 'beta', 'binomial', 'Gamma', 'gaussian', 'neg_binomial_2', and 'poisson.'
</p>


<h3>Value</h3>

<p>A list of class &quot;bayesmeanscale_marg&quot; with the following components: 
</p>
<table role = "presentation">
<tr><td><code>diffTable</code></td>
<td>

<p>summary table of the marginal effects
</p>
</td></tr>
<tr><td><code>diffDraws</code></td>
<td>

<p>posterior draws of the marginal effects
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Agresti, Alan. 2013. <em>Categorical Data Analysis</em>. Third Edition. New York: Wiley
</p>
<p>Long, J. Scott and Sarah A. Mustillo. 2018. &quot;Using Predictions and Marginal Effects to Compare Groups in Regression Models for Binary Outcomes.&quot; <em>Sociological Methods &amp; Research</em> 50(3): 1284-1320.
</p>
<p>Mize, Trenton D. 2019. &quot;Best Practices for Estimating, Interpreting, and Presenting Non-linear Interaction Effects.&quot; <em>Sociological Science</em> 6: 81-117. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


## Logit model ##

if(require(rstanarm)){

m1 &lt;- stan_glm(switch ~ dist + educ + arsenic + assoc, 
               data    = rstanarm::wells, 
               family  = binomial, 
               refresh = 0, 
               iter    = 500)

# marginal effect averaging over sample values of covariates #

bayesMargEffF(m1, 
              marginal_effect = 'arsenic', 
              start_value     = 2.2, 
              end_value       = .82,
              n_draws         = 500)
              
}
              


</code></pre>

<hr>
<h2 id='bayesOrdinalMargEffF'>
Bayesian marginal effects on the mean scale.
</h2><span id='topic+bayesOrdinalMargEffF'></span>

<h3>Description</h3>

<p>Computes Bayesian marginal effects on the probability of outcomes for cumulative link models with a proportional odds structure fit using the package &quot;rstanarm&quot;. Marginal effects can be averaged over the values of the covariates in the data (average marginal effects), or the covariates can be held at their means (marginal effects at the means). Also, &quot;at&quot; values can be specified to fix covariates at particular values. The marginal effects can be specified in terms of discrete changes or instantaneous rates of change.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesOrdinalMargEffF(model,
                     n_draws         = 2000,
                     marginal_effect,
                     start_value,
                     end_value,
                     ci              = .95,
                     hdi_interval    = TRUE,
                     centrality      = 'mean',
                     digits          = 4,
                     at              = NULL,
                     at_means        = FALSE,
                     h               = .0001)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bayesOrdinalMargEffF_+3A_model">model</code></td>
<td>

<p>A model object of class &quot;stanreg&quot; and &quot;polr.&quot;
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_n_draws">n_draws</code></td>
<td>

<p>The number of draws to take from the joint posterior distribution.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_marginal_effect">marginal_effect</code></td>
<td>

<p>A character vector of terms that you want to estimate the marginal effect for.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_start_value">start_value</code></td>
<td>

<p>The start value(s) for the marginal effect(s). Must be a list when specifying multiple values. Specify &quot;instantaneous&quot; when you want to calculate an approximate instantaneous rate of change.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_end_value">end_value</code></td>
<td>

<p>The end value(s) for the marginal effect(s). Must be a list when specifying multiple values. Specify &quot;instantaneous&quot; when you want to calculate an approximate instantaneous rate of change.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_ci">ci</code></td>
<td>

<p>The level for the credible intervals.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_hdi_interval">hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_centrality">centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are &quot;mean&quot; or &quot;median&quot;.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_digits">digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_at">at</code></td>
<td>

<p>Optional list of covariate values to estimate the marginal effect at.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_at_means">at_means</code></td>
<td>

<p>If FALSE, the default, the marginal effects are averaged across the rows of the data. If TRUE, the covariate values that are not specified in the &quot;at&quot; argument are held at their means.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalMargEffF_+3A_h">h</code></td>
<td>

<p>Step size for calculating the approximate instantaneous rate of change.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following links for fixed-effect ordinal models fit using &quot;rstanarm&quot; are supported: logit, probit, and clogclog.
</p>


<h3>Value</h3>

<p>A list of class &quot;bayesmeanscale_marg&quot; with the following components: 
</p>
<table role = "presentation">
<tr><td><code>diffTable</code></td>
<td>

<p>summary table of the marginal effects
</p>
</td></tr>
<tr><td><code>diffDraws</code></td>
<td>

<p>posterior draws of the marginal effects
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Agresti, Alan. 2013. <em>Categorical Data Analysis</em>. Third Edition. New York: Wiley
</p>
<p>Long, J. Scott and Sarah A. Mustillo. 2018. &quot;Using Predictions and Marginal Effects to Compare Groups in Regression Models for Binary Outcomes.&quot; <em>Sociological Methods &amp; Research</em> 50(3): 1284-1320.
</p>
<p>Mize, Trenton D. 2019. &quot;Best Practices for Estimating, Interpreting, and Presenting Non-linear Interaction Effects.&quot; <em>Sociological Science</em> 6: 81-117. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


## Proportional odds logistic regression ##

if(require(rstanarm) &amp; require(MASS)){

m1 &lt;- stan_polr(Sat ~ Infl + Type, 
                data    = MASS::housing, 
                prior   = rstanarm::R2(0.2, 'mean'), 
                refresh = 0, 
                iter    = 500)

# marginal effects holding covariates at means #

bayesOrdinalMargEffF(m1,
                     marginal_effect = "Infl",
                     start_value     = "Low",
                     end_value       = "High",
                     at              = list(Type = c("Tower", "Apartment")), 
                     at_means        = TRUE,
                     n_draws         = 500)
                     
}


</code></pre>

<hr>
<h2 id='bayesOrdinalPredsF'>
Bayesian predictions for ordinal models on the mean scale.
</h2><span id='topic+bayesOrdinalPredsF'></span>

<h3>Description</h3>

<p>Computes Bayesian outcome predictions for cumulative link models with a proportional odds structure fit using the package &quot;rstanarm&quot;. Predictions can be averaged over the values of the covariates in the data (average marginal predictions), or the covariates can be held at their means (marginal predictions at the means). Also, &quot;at&quot; values must be specified to fix at least one covariate at particular values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesOrdinalPredsF(model,
                   at,
                   n_draws      = 2000,
                   ci           = .95,
                   hdi_interval = TRUE,
                   centrality   = 'mean',
                   digits       = 4,
                   at_means     = FALSE,
                   data_slice   = 'full')
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bayesOrdinalPredsF_+3A_model">model</code></td>
<td>

<p>A model object of class &quot;stanreg&quot; and &quot;polr.&quot;
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_at">at</code></td>
<td>

<p>List of covariate values to estimate the predictions at.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_n_draws">n_draws</code></td>
<td>

<p>The number of draws to take from the joint posterior distribution.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_ci">ci</code></td>
<td>

<p>The level for the credible intervals.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_hdi_interval">hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_centrality">centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are &quot;mean&quot; or &quot;median&quot;.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_digits">digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_at_means">at_means</code></td>
<td>

<p>If FALSE, the default, the predictions are averaged across the rows of the model data for each unique combination of &quot;at&quot; values. If TRUE, the covariate values that are not specified in the &quot;at&quot; argument are held at their means.
</p>
</td></tr>
<tr><td><code id="bayesOrdinalPredsF_+3A_data_slice">data_slice</code></td>
<td>

<p>The number of rows of data to average over for the predictions. Defaults to all rows. This can be useful for very large data sets. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following links for fixed-effect ordinal models fit using &quot;rstanarm&quot; are supported: logit, probit, and clogclog.
</p>


<h3>Value</h3>

<p>A list of class &quot;bayesmeanscale_pred&quot; with the following components: 
</p>
<table role = "presentation">
<tr><td><code>predTable</code></td>
<td>

<p>summary table of the predictions
</p>
</td></tr>
<tr><td><code>predDraws</code></td>
<td>

<p>posterior draws of the predictions
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Agresti, Alan. 2013. <em>Categorical Data Analysis</em>. Third Edition. New York: Wiley
</p>
<p>Long, J. Scott and Sarah A. Mustillo. 2018. &quot;Using Predictions and Marginal Effects to Compare Groups in Regression Models for Binary Outcomes.&quot; <em>Sociological Methods &amp; Research</em> 50(3): 1284-1320.
</p>
<p>Mize, Trenton D. 2019. &quot;Best Practices for Estimating, Interpreting, and Presenting Non-linear Interaction Effects.&quot; <em>Sociological Science</em> 6: 81-117. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


## Proportional odds logistic regression ##

if(require(rstanarm) &amp; require(MASS)){

m1 &lt;- stan_polr(Sat ~ Infl + Type, 
                data    = MASS::housing, 
                prior   = rstanarm::R2(0.2, 'mean'), 
                refresh = 0, 
                iter    = 500)

# marginal predictions holding covariates at means #

bayesOrdinalPredsF(m1, 
                   at       = list(Type = c("Tower", "Apartment")), 
                   at_means = TRUE,
                   n_draws  = 500)
 
}           


</code></pre>

<hr>
<h2 id='bayesPredsF'>
Bayesian predictions on the mean scale.
</h2><span id='topic+bayesPredsF'></span>

<h3>Description</h3>

<p>Computes Bayesian predictions on the mean scale for models fit using the package &quot;rstanarm&quot;. Predictions can be averaged over the values of the covariates in the data (average marginal predictions), or the covariates can be held at their means (marginal predictions at the means). Also, &quot;at&quot; values must be specified to fix at least one covariate at particular values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesPredsF(model,
            at,
            n_draws      = 2000,
            ci           = .95,
            hdi_interval = TRUE,
            centrality   = 'mean',
            digits       = 4,
            at_means     = FALSE,
            data_slice   = 'full')
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bayesPredsF_+3A_model">model</code></td>
<td>

<p>A model object of class &quot;stanreg.&quot;
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_at">at</code></td>
<td>

<p>List of covariate values to estimate the predictions at.
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_n_draws">n_draws</code></td>
<td>

<p>The number of draws to take from the joint posterior distribution.
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_ci">ci</code></td>
<td>

<p>The level for the credible intervals.
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_hdi_interval">hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_centrality">centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are &quot;mean&quot; or &quot;median&quot;.
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_digits">digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_at_means">at_means</code></td>
<td>

<p>If FALSE, the default, the predictions are averaged across the rows of the model data for each unique combination of &quot;at&quot; values. If TRUE, the covariate values that are not specified in the &quot;at&quot; argument are held at their means.
</p>
</td></tr>
<tr><td><code id="bayesPredsF_+3A_data_slice">data_slice</code></td>
<td>

<p>The number of rows of data to average over for the predictions. Defaults to all rows. This can be useful for very large data sets. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following families of fixed-effect models fit using &quot;rstanarm&quot; are supported: 'beta', 'binomial', 'Gamma', 'gaussian', 'neg_binomial_2', and 'poisson.'
</p>


<h3>Value</h3>

<p>A list of class &quot;bayesmeanscale_pred&quot; with the following components: 
</p>
<table role = "presentation">
<tr><td><code>predTable</code></td>
<td>

<p>summary table of the predictions
</p>
</td></tr>
<tr><td><code>predDraws</code></td>
<td>

<p>posterior draws of the predictions
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Agresti, Alan. 2013. <em>Categorical Data Analysis</em>. Third Edition. New York: Wiley
</p>
<p>Long, J. Scott and Sarah A. Mustillo. 2018. &quot;Using Predictions and Marginal Effects to Compare Groups in Regression Models for Binary Outcomes.&quot; <em>Sociological Methods &amp; Research</em> 50(3): 1284-1320.
</p>
<p>Mize, Trenton D. 2019. &quot;Best Practices for Estimating, Interpreting, and Presenting Non-linear Interaction Effects.&quot; <em>Sociological Science</em> 6: 81-117. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


## Logit model ##

if(require(rstanarm)){

m1 &lt;- stan_glm(switch ~ dist + educ + arsenic + assoc, 
               data    = rstanarm::wells, 
               family  = binomial, 
               refresh = 0, 
               iter    = 500)

# marginal predictions holding covariates at means #

bayesPredsF(m1, 
            at       = list(arsenic = c(.82, 1.3)), 
            at_means = TRUE,
            n_draws  = 500)
         
}
            


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

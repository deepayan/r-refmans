<!DOCTYPE html><html lang="en"><head><title>Help for package prolific.api</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {prolific.api}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#prolific.api-package'><p>R interface to the Prolific API</p></a></li>
<li><a href='#api_access'><p>Prolific API access</p></a></li>
<li><a href='#prolific_prescreener'><p>Prolific prescreening requirement</p></a></li>
<li><a href='#prolific_study'><p>Prolific study</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A User-Friendly Interface for Accessing the Prolific API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A user-friendly interface for creating and managing empirical crowd-sourcing studies via API access to <a href="https://www.prolific.co">https://www.prolific.co</a>. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table (&ge; 1.14.6), jsonlite (&ge; 1.8.4), methods, utils</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>curl (https://curl.se/)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>htmltools, knitr, reactable, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-25 09:57:21 UTC; simonlenau</td>
</tr>
<tr>
<td>Author:</td>
<td>Simon Lenau [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Lenau &lt;lenau@cispa.de&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-25 10:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='prolific.api-package'>R interface to the Prolific API</h2><span id='topic+prolific.api-package'></span><span id='topic+prolific.api'></span><span id='topic+prolific'></span><span id='topic+api'></span>

<h3>Description</h3>

<p>A set of user-friendly functionalities for creating and managing potentially large numbers of studies on
the <a href="https://www.prolific.co/">Prolific</a> platform via its
<a href="https://docs.prolific.co/docs/api-docs/public/">API</a>.
The platform is designed for recruiting participants for empirical studies via crowd-sourcing,
allowing to apply a number of prescreening characteristics to target specific groups of participants
for a study.
</p>


<h3>Object classes</h3>

<p><code>prolific.api</code> provides three <code><a href="methods.html#topic+ReferenceClasses">ReferenceClasses</a></code> to access the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>,
namely
<code><a href="#topic+api_access">api_access</a></code>, <code><a href="#topic+prolific_study">prolific_study</a></code> and <code><a href="#topic+prolific_prescreener">prolific_prescreener</a></code>.
An overview is provided below.
</p>


<h4>api_access</h4>

<p><code><a href="#topic+api_access">api_access</a></code> objects
provide functionalities for accessing the <a href="https://docs.prolific.co/docs/api-docs/public/">API</a>,
which requires to specify a valid <a href="https://docs.prolific.co/docs/api-docs/public/#section/Authentication">API token</a>.
</p>



<h4>prolific_study</h4>

<p><code><a href="#topic+prolific_study">prolific_study</a></code> objects
represent studies to be created or managed on Prolific.
Users can create new studies, or retrieve existing studies from Prolific and apply updates to them.
</p>



<h4>prolific_prescreener</h4>

<p><code><a href="#topic+prolific_prescreener">prolific_prescreener</a></code> objects
characterize the participants to be selected for a certain <code><a href="#topic+prolific_study">prolific_study</a></code>,
i.e. the requirements that a person needs to meet to be recruited for the <code><a href="#topic+prolific_study">study</a></code>.
</p>



<h3>Authentication</h3>

<p>A researcher account on <a href="https://www.prolific.co/"><code>Prolific</code></a> is required to use the functionalities of this package.
To use this account, a valid <a href="https://docs.prolific.co/docs/api-docs/public/#section/Authentication">Prolific API token</a> must be specified
for authentication. These tokens are <em>workspace-specific</em> and
can be managed in the <code>Settings -&gt; Go to API token page</code> menu<br />
(<a href="https://app.prolific.co/researcher/workspaces/%3Cworkspace_id%3E/settings/tokens">https://app.prolific.co/researcher/workspaces/workspace_id/settings/tokens</a> for an existing <code>workspace_id</code>).
</p>

<hr>
<h2 id='api_access'>Prolific API access</h2><span id='topic+api_access'></span><span id='topic+api_access-class'></span><span id='topic+API_ACCESS'></span><span id='topic+api_accessor'></span><span id='topic+accessors'></span><span id='topic+accessors+3C-'></span><span id='topic+api_token'></span><span id='topic+api_token+3C-'></span><span id='topic+entrypoint'></span><span id='topic+entrypoint+3C-'></span><span id='topic+access'></span><span id='topic+check_authorization'></span><span id='topic+prescreeners-method'></span>

<h3>Description</h3>

<p>This class provides functionalities for accessing the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>.
The core method for this purpose is <code><a href="#topic+api_access">access</a></code>, which can be used
to create, review, change, manage and delete studies on the Prolific platform.<br />
<em>The fields and methods are available as in RefClass or S4 objects (see examples).</em>
</p>


<h3>Fields</h3>


<dl>
<dt><code>accessors</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
The commands for accessing the API.
The command for each type of access method can be altered using this field.
The default is
</p>
<pre>
     accessors = c(
        get    = "curl",
        post   = "curl -X POST",
        put    = "curl -X PUT",
        patch  = "curl -X PATCH",
        delete = "curl -X DELETE"
     )
</pre>
<p><strong>Note:</strong> <em>A value for each of the names <code>(get, post, put, patch and delete)</code> is required, as these represent the methods that can be used when accessing the API.</em></p>
</dd>
<dt><code>api_token</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
The <a href="https://docs.prolific.co/docs/api-docs/public/#section/Authentication">Prolific API token</a>.</p>
</dd>
<dt><code>entrypoint</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
The <a href="https://docs.prolific.co/docs/api-docs/public/#section/Get-started/Conventions">API's entrypoint URL</a>.</p>
</dd>
</dl>


<h3>Methods</h3>



<h4><code>access</code></h4>

<p>Main method for accessing the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>
</p>


<h5><strong>Parameters</strong></h5>


<dl>
<dt><code>endpoint</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):</p>
</dd></dl>
<p><br />
The endpoint to access. If this is a vector, its elements are collapsed by <code>'/'</code>.
</p>
<dl>
<dt><code>method</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):</p>
</dd></dl>
<p><br />
The method to use. One of <code>get, post, place, patch and delete</code>.
The commands associated with each method are defined in the <code><a href="#topic+api_access">accessors</a></code> field of the <code><a href="#topic+api_access">api_access</a></code> object.
</p>
<dl>
<dt><code>data</code></dt><dd><p>(<code><a href="jsonlite.html#topic+toJSON">json string</a></code>, <code><a href="jsonlite.html#topic+toJSON">json file</a></code>, <code><a href="base.html#topic+list">list</a></code>, <code><a href="#topic+prolific_study">prolific_study object</a></code> or <code><a href="base.html#topic+NULL">NULL</a></code>)</p>
</dd></dl>
<p><br />
The data to be transfered in the body of the <a href="https://docs.prolific.co/docs/api-docs/public/">API</a> call.
R-objects are converted to a <code><a href="jsonlite.html#topic+toJSON">json string</a></code> using <code><a href="jsonlite.html#topic+toJSON">jsonlite:toJSON</a></code> .
<code><a href="base.html#topic+NULL">NULL</a></code> means that no data is transfered.
</p>
<dl>
<dt><code>as_list</code></dt><dd><p>(<code><a href="base.html#topic+logical">logical</a></code>):</p>
</dd></dl>
<p><br />
Whether the return of the <a href="https://docs.prolific.co/docs/api-docs/public/">API</a> call should be converted to a list or (if applicable) <a href="#topic+prolific_study">prolific_study</a> object,
rather than returned as the raw <code><a href="jsonlite.html#topic+toJSON">json string</a></code>.

</p>



<h5><strong>Return Value</strong></h5>

<p>A <code><a href="base.html#topic+list">list</a></code> or <code><a href="jsonlite.html#topic+toJSON">json string</a></code>, depending on argument <code>as_list</code>.
</p>



<h5><strong>Usage</strong></h5>

<pre>
     api_access$access(
          endpoint,
          method,
          data,
          as_list
     )
</pre>




<h4><code>check_authorization</code></h4>

<p>Check whether the <a href="https://docs.prolific.co/docs/api-docs/public/#section/Authentication">API authorization</a> works
</p>


<h5><strong>Return Value</strong></h5>

<p>A <code><a href="base.html#topic+logical">logical</a></code> value that indicates whether the <a href="https://docs.prolific.co/docs/api-docs/public/#section/Authentication">API authorization</a> works.
</p>



<h5><strong>Usage</strong></h5>

<pre>
     api_access$check_authorization()
</pre>




<h3>Examples</h3>

<pre><code class='language-R'>library(prolific.api)

# Create API access
prolific_api_access &lt;- api_access(api_token = "&lt;api_token&gt;")

# View fields
## RefClass Methods
prolific_api_access$accessors
prolific_api_access$api_token
prolific_api_access$entrypoint

## S4 Methods
accessors(prolific_api_access)
api_token(prolific_api_access)
entrypoint(prolific_api_access)

# Change fields
# (this is usually only required for the api_token)
# replace &lt;new_token&gt; in the by the actual API token
# before running these lines
## Not run: 
## RefClass Method
prolific_api_access$api_token &lt;- "&lt;new_token&gt;"
## S4 Method
api_token(prolific_api_access) &lt;- "&lt;new_token&gt;"

## End(Not run)


# Note: For the following code to work,
# you have to replace &lt;new_token&gt; in the lines above by the actual API token
## Not run: 
# Check wheter Authorization is working
## RefClass Method
prolific_api_access$check_authorization()
## S4 Method
check_authorization(prolific_api_access)

# Obtain list of existing studies
## RefClass Method
list_of_studies &lt;-
    prolific_api_access$access(
        endpoint = "studies",
        method = "get",
        as_list = TRUE
    )
## S4 Method
list_of_studies2 &lt;-
    access(
        prolific_api_access,
        endpoint = "studies",
        method = "get",
        as_list = TRUE
    )

## End(Not run)

</code></pre>

<hr>
<h2 id='prolific_prescreener'>Prolific prescreening requirement</h2><span id='topic+prolific_prescreener'></span><span id='topic+prolific_prescreener-class'></span><span id='topic+prescreeners'></span><span id='topic+prescreener'></span><span id='topic+prescreening'></span><span id='topic+screening'></span><span id='topic+eligibility_requirements'></span><span id='topic+requirements'></span><span id='topic+validity_check'></span><span id='topic+title'></span><span id='topic+title+3C-'></span><span id='topic+constraints'></span><span id='topic+constraints+3C-'></span><span id='topic+validity_check-prolific_prescreener'></span>

<h3>Description</h3>

<p>Class that represents prescreening requirements to characterize the participants to be selected for a certain <code><a href="#topic+prolific_study">study on Prolific</a></code>,
i.e. the persons to be recruited via Prolific.
<code><a href="#topic+prolific_prescreener">prolific_prescreener objects</a></code> are therefore mainly used in the
<code><a href="#topic+prolific_study">eligibility_requirements</a></code> field of <code><a href="#topic+prolific_study">prolific_studys</a></code>.<br />
<em>The fields and methods are available as in RefClass or S4 objects (see examples).</em>
</p>
<p>The section <em>'Setting up prescreeners for Prolific'</em> below provides an overview and examples of how to specify prescreening requirements.
</p>


<h3>Fields</h3>


<dl>
<dt><code>title</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
A <em>valid</em> title for a single prescreener that is available on the Prolific platform.
To be valid, this title <em>must</em> appear in the list of prescreeners obtainable from the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>.<br />
See the section <em>'Setting up prescreeners for Prolific'</em> as well as the <a href="../doc/prolificapi-package.html">prolific.api package vignette</a>.</p>
</dd>
<dt><code>constraints</code></dt><dd><p>(<code><a href="base.html#topic+list">list</a></code>):<br />
The <em>valid</em> constraints for this particular prescreener.<br />
When creating a <code><a href="#topic+prolific_prescreener">prolific_prescreener object</a></code>,
an arbitrary number of constraints can be specified using <code><a href="base.html#topic+dots">named or unnamed custom arguments</a></code>.
In the <strong>named</strong> case,
</p>
<pre>       name_1 = value_1,...,name_i = value_i,</pre>
<p><code>name = value</code> pairs are used to set the constraints and values.
Using the <strong>unnamed</strong> case
</p>
<pre>       name_1,...,name_i</pre>
<p>allows to ommit the values for prescreeners where <code>value_1 = ... = value_i = TRUE</code>. In that way, users can simply provide the names of the groups to be recruited.
See the section <em>'Setting up prescreeners for Prolific'</em> as well as the <em>examples</em> and <a href="../doc/prolificapi-package.html">prolific.api package vignette</a>.</p>
</dd>
</dl>


<h3>Setting up prescreeners for Prolific</h3>

<p>Prescreeners are used to select participants for a <code><a href="#topic+prolific_study">prolific_study</a></code> that meet certain characteristics.
In most cases, this selection is done with regard to the answers the participants gave in a survey conducted by Prolific across all its members.
</p>


<h4>Choosing a prescreening variable</h4>

<p>At the moment, there are <code>265</code> variables which can be used to recruit specific subgroups from Prolific.
To obtain a list of all available prescreening variables, use
</p>
<pre>
          table_of_prescreeners &lt;-
                    prescreeners(prolific_api_access)
</pre>
<p>where <code>prolific_api_access</code> is an <code><a href="#topic+api_access">api_access object</a></code> with a valid <code><a href="#topic+api_access">api_token</a></code>.
</p>
<p>A prescreening variable is determined by the <code>title</code> field of the <code><a href="#topic+prolific_prescreener">prolific_prescreener object</a></code>.
To be valid, this <code>title</code> <strong>must</strong> appear in the <code>title</code> column
of the resulting <code>table_of_prescreeners</code>.
</p>



<h4>Setting constraints for a particular prescreening variable</h4>

<p>The constraints are specified in the form
</p>
<pre>
         name_1 = value_1,
         ...,
         name_n = value_n
</pre>
<p>or
</p>
<pre>
         name_1,
         ...,
         name_n
</pre>
<p>For most prescreeners, the values
<code>value_1</code> ... <code>value_n</code>
are <code><a href="base.html#topic+logical">logical</a></code> values to select participants that gave a certain answer in some pre-screening question.
In this case, specifying
</p>
<pre>
         name_i = TRUE
</pre>
<p>for the prescreener means that participants who gave answer <code>name_i</code> are eligible for the study.
However, keep in mind there are some prescreeners that work in the opposite way, e.g. to specify a list of participants to be exluded
(see the sections <em>'Ex- or include a list of specific participants'</em> and <em>'Ex- or include all participants from previous studies'</em> below).
</p>
<p>For all cases where the values
<code>value_1</code> ... <code>value_n</code>
are <code><a href="base.html#topic+logical">logical</a></code>,
</p>
<pre>
         name_1,
         ...,
         name_n
</pre>
<p>is an equivalent shortcut for
</p>
<pre>
         name_1 = TRUE,
         ...,
         name_n = TRUE
</pre><p>.
</p>
<p>Yet, the constraint values are not always of type <code><a href="base.html#topic+logical">logical</a></code>.
In particular, there are prescreeners that allow to select participants lying within a certain range of a <code><a href="base.html#topic+numeric">numerical variable</a></code>.
For example, this is the case when selecting participants who are in a certain age bracket, where lower and upper boundary for a person's age are specified in the constraints.
In this case,
<code>value_1</code>, ..., <code>value_n</code>
in the above specification need to be numeric as well, and <b>must be named</b> e.g. as in
</p>
<pre>
         min_age = 50,
         max_age = 60
</pre>
<p>for selecting participants between age 50 and 60 for the study.
</p>
<p>The names
<code>name_1</code>, ..., <code>name_n</code>
are always taken literally. This means that they are not automatically evaluated.
Enclosing a name in an <code><a href="base.html#topic+eval">eval()</a></code> command forces it to be evaluated rather than taken literally.
This is important for example in cases where the categories are stored in a list
(see the section <em>'Examples for prolific_prescreeners'</em> for an example).
</p>
<p>To obtain the list of possible constraints for a particular prescreener with a <em>valid</em> title <code>"the_title"</code> as described above, use
</p>
<pre>
     table_of_constraints &lt;-
               prescreeners(prolific_api_access,
                            filter=expression(title==c("the_title")),
                            show_full=TRUE)
</pre>
<p>The names
<code>name_1</code>, ..., <code>name_n</code>
of the <code>constraints</code> list should come from a single (typically the <em>name</em>) column of the resulting <code>table_of_constraints</code>,
the respective list elements represent the values that participants have to meet.
</p>
<p>To make this a bit clearer, the following section provides examples for setting up prescreening requirements.
</p>



<h4>Examples for <code><a href="#topic+prolific_prescreener">prolific_prescreeners</a></code></h4>


<dl>
<dt>Nationality requirements</dt><dd>
<p>For example, a study can be set to exclusively target participants who currently live in the UK or the USA by using
</p>
<pre>
          residential_prescreener &lt;- prolific_prescreener(
              title = "Current Country of Residence",
              "United Kingdom", "United States"
           )
</pre>
<p>or equivalently
</p>
<pre>
         list_of_countries &lt;- list(
             country_1="United Kingdom",
             country_2="United States")

         residential_prescreener &lt;- prolific_prescreener(
             title = "Current Country of Residence",
             eval(list_of_countries$country_1),
             eval(list_of_countries$country_2)
         )
</pre>
<p>Note that <code>"Current Country of Residence"</code> appears in the <em>title</em> column of <code>table_of_prescreeners</code>, and
<code>"United Kingdom"</code> as well as <code>"United States"</code> appear in the <em>name</em> column
of the resulting <code>table_of_constraints</code> described in the previous sections.
Furthermore, note the use of <code><a href="base.html#topic+eval">eval()</a></code> to force evaluation of <code>list_of_countries$country_1</code> and <code>list_of_countries$country_2</code>.
</p>
</dd>
<dt>Age requirements</dt><dd>
<p>Similarly, selecting participants who fall in the age range between 50 and 60 can be achieved through
</p>
<pre>
          age_prescreener &lt;- prolific_prescreener(
              title = "Age",
              "min_age" = 50,
              "max_age" = 60
          )
</pre>
</dd>
<dt>Ex- or include a list of specific participants</dt><dd>
<p>Specific participants can be in- or excluded from a study, for example if they participated in previous studies.
This can be done in form of black- or whitelists.
</p>
<p>Consider two fictional participants
with Prolific id's
<code>111</code> and <code>222</code>.
These can be specifically excluded by using the exclusion list defined by
</p>
<pre>
          exclude_list_participants &lt;- prolific_prescreener(
              title = "Custom Blacklist",
              "111","222"
          )
</pre>
<p>To exclusively recruit exactly these two participanty, use the include list defined by
</p>
<pre>
          include_list_participants &lt;- prolific_prescreener(
              title = "Custom Whitelist",
              "111","222"
          )
</pre>
</dd>
</dl>
<p><strong>Note:</strong> The IDs for these constraints need to be valid Prolific IDs when creating a study. The above example for fictional IDs <code>111</code> and <code>222</code> will therefore always fail.
</p>
<dl>
<dt>Ex- or include all participants from previous studies</dt><dd>
<p>You can not only blacklist single participants, but also the group(s) of participants who
participated in of one or multiple of your previous studies.
</p>
<p>To exclude all participants from two fictional studies with IDs <code>ABC</code> and <code>DEF</code>, specify the prescreener
</p>
<pre>
          exclude_list_studies &lt;- prolific_prescreener(
              title = "Exclude participants from previous studies",
              "ABC","DEF"
          )
</pre>
<p>To exclusively recruit participants from these studies, use
</p>
<pre>
          include_list_studies &lt;- prolific_prescreener(
              title = "Include participants from previous studies",
              "ABC","DEF"
          )
</pre>
</dd>
</dl>

<p><strong>Note:</strong> The IDs for these constraints need to be valid Study IDs when creating a study. The above example for fictional IDs <code>ABC</code> and <code>DEF</code> will therefore always fail.
</p>



<h3>Methods</h3>



<h4><code>validity_check</code></h4>

<p>Check whether the prescreener is valid in terms of the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>.<br />
<strong>Note:</strong> For checking a prescreener's validity, an <code><a href="#topic+api_access">api_access object</a></code> that passes <code><a href="#topic+api_access">check_authorization()</a></code> needs to be available.
It suffices if any such <code><a href="#topic+api_access">api_access object</a></code> is specified, since the reference to it is determined automatically.
</p>


<h5><strong>Return Value</strong></h5>


<ul>
<li><p>If the prescreener is valid: A <code><a href="base.html#topic+logical">logical</a></code> value indicating that the study is valid
</p>
</li>
<li><p>If the prescreener is not valid: A <code><a href="base.html#topic+character">character</a></code> vector that lists the prescreener's issues.
</p>
</li></ul>




<h5><strong>Usage</strong></h5>

<pre>
     prescreener$validity_check()
</pre>




<h3>Examples</h3>

<pre><code class='language-R'>library("prolific.api")

prolific_api_access &lt;- api_access(api_token = "&lt;api_token&gt;")

# Create a new study with two of the prescreening constraints
#    from the help section 'Examples for prolific_prescreeners'
#    in this package's documentation.
fancy_new_study_with_prescreeners &lt;- prolific_study(
    name = "A fancy study on Prolific",
    description = "Fancy description",
    external_study_url = "https://www.my_fancy_study_url.com",
    completion_code = "123ab456cd78",
    estimated_completion_time = 1,
    reward = 1,
    total_available_places = 1,
    eligibility_requirements = list(
        # Include only persons who live in the UK or the US
        prolific_prescreener(
            title = "Current Country of Residence",
            "United Kingdom", "United States"
        ),
        # Include participants only if they are between
        #    50 and 60 years old
        prolific_prescreener(
            title = "Age",
            "min_age" = 50,
            "max_age" = 60
        )
    )
)

# Note: For the following code to work,
# you have to replace &lt;api_token&gt; in the code above by the actual API token
## Not run: 
# Post the 'fancy_new_study_with_prescreeners' to Prolific,
#    i.e. create it as a draft study on the platform
prolific_api_access$access(
    endpoint = "studies",
    method = "post",
    data = fancy_new_study_with_prescreeners
)

# Success: fancy_new_study_with_prescreeners got an ID - it is now a draft study on Prolific!
# You can also inspect the study and requirements in the Prolific Web UI now.
fancy_new_study_with_prescreeners$id

## End(Not run)

</code></pre>

<hr>
<h2 id='prolific_study'>Prolific study</h2><span id='topic+prolific_study'></span><span id='topic+prolific_study-class'></span><span id='topic+completion_code'></span><span id='topic+completion_code+3C-'></span><span id='topic+completion_option'></span><span id='topic+completion_option+3C-'></span><span id='topic+description'></span><span id='topic+description+3C-'></span><span id='topic+device_compatibility'></span><span id='topic+device_compatibility+3C-'></span><span id='topic+eligibility_requirements-field'></span><span id='topic+eligibility_requirements+3C-'></span><span id='topic+estimated_completion_time'></span><span id='topic+estimated_completion_time+3C-'></span><span id='topic+external_study_url'></span><span id='topic+external_study_url+3C-'></span><span id='topic+further_fields'></span><span id='topic+further_fields+3C-'></span><span id='topic+id'></span><span id='topic+id+3C-'></span><span id='topic+internal_name'></span><span id='topic+internal_name+3C-'></span><span id='topic+maximum_allowed_time'></span><span id='topic+maximum_allowed_time+3C-'></span><span id='topic+naivety_distribution_rate'></span><span id='topic+naivety_distribution_rate+3C-'></span><span id='topic+name'></span><span id='topic+name+3C-'></span><span id='topic+peripheral_requirements'></span><span id='topic+peripheral_requirements+3C-'></span><span id='topic+project'></span><span id='topic+project+3C-'></span><span id='topic+prolific_id_option'></span><span id='topic+prolific_id_option+3C-'></span><span id='topic+reward'></span><span id='topic+reward+3C-'></span><span id='topic+total_available_places'></span><span id='topic+total_available_places+3C-'></span><span id='topic+url_parameters'></span><span id='topic+url_parameters+3C-'></span><span id='topic+validity_check-prolific_study'></span>

<h3>Description</h3>

<p>Class that represents Prolific studies, such that they can be transferred to or from the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>.
This allows to create, review and update studies.<br />
<em>The fields and methods are available as in RefClass or S4 objects (see examples and the <a href="../doc/prolificapi-package.html">prolific.api package vignette</a>).</em>
</p>
<p>API access to interact with the Prolific platform is done by using objects from the <code><a href="#topic+api_access">api_access class</a></code>, i.e.
<code><a href="#topic+prolific_study">prolific_studies</a></code> are intended to be transferred as bodies in calls to the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a> (see examples).
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
The study's ID on Prolific.<br />
<strong>Note: This ID is set by Prolific and can not be changed by the user</strong><br /> (see the '<em>Further (read-only) fields</em>' section below).</p>
</dd>
<dt><code>name</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
Public name or title of the study <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>internal_name</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
Internal name of the study <em>(not shown to participants)</em>.</p>
</dd>
<dt><code>description</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
Description of the study <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>external_study_url</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
URL of the survey or experiment the participants will be redirected to <em>(will be publicly visible when publishing the study).</em><br />
<strong>Note:</strong>
</p>

<ul>
<li><p>The URL must be valid at the time the study is created on the Prolific platform.
</p>
</li>
<li><p>For the use of URL parameters, see field <code>url_parameters</code>.
</p>
</li></ul>
</dd>
<dt><code>url_parameters</code></dt><dd><p>(<code><a href="base.html#topic+list">list</a></code>):<br />
A named list of URL parameters that is appended to <code>external_study_url</code>.
The default
</p>
<pre>list(
     prolific_id = "{%PROLIFIC_PID%}",
     study_id = "{%STUDY_ID%}",
     session_id = "{%SESSION_ID%}"
)
</pre>
<p>is used for passing the participant's, study's and session's ID from Prolific to the data collection website.</p>
</dd>
<dt><code>prolific_id_option</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
This determines the method of passing the respondent's Prolific ID.<br />
<strong>Valid options are:</strong>
</p>

<ul>
<li><p><code>"url_parameters"</code> for passing the ID as URL parameter <code>{%PROLIFIC_PID%}</code>
</p>
</li>
<li><p><code>"question"</code> for letting the respondents enter their ID (e.g. via copy &amp; paste), or
</p>
</li>
<li><p><code>"not_required"</code> if the Prolific ID is not to be passed.
</p>
</li></ul>
</dd>
<dt><code>completion_code</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
The completion code that is provided to participants after completing the study.
This code is used to prove that a participant completed the study.
It is therefore <em>visible for participants after completing the study.</em></p>
</dd>
<dt><code>completion_option</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
This determines the method for passing the <code>completion_code</code>.<br />
<strong>Valid options are:</strong>
</p>

<ul>
<li><p><code>"url"</code>for passing the code as URL parameter when redirecting participants back to Prolific after completing the study, or
</p>
</li>
<li><p><code>"code"</code>for providing a code for copy and paste.
</p>
</li></ul>
</dd>
<dt><code>total_available_places</code></dt><dd><p>(<code><a href="base.html#topic+integer">integer</a></code>):<br />
The number of participant you would like to recruit
in the study <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>estimated_completion_time</code></dt><dd><p>(<code><a href="base.html#topic+integer">integer</a></code>):<br />
The estimated time it takes to complete the study, <em>in minutes</em> <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>maximum_allowed_time</code></dt><dd><p>(<code><a href="base.html#topic+integer">integer</a></code>):<br />
The maximum allowed time for participants to complete the study, <em>in minutes</em>.</p>
</dd>
<dt><code>reward</code></dt><dd><p>(<code><a href="base.html#topic+integer">integer</a></code>):<br />
The amount of money (in pence)
you pay for completing the study <em>(will be publicly visible when publishing the study).</em><br />
<strong>Note:</strong> Compensation...</p>
</dd>
<dt><code>eligibility_requirements</code></dt><dd><p>(<code><a href="base.html#topic+list">list</a></code>):<br />
A list containing <code><a href="#topic+prolific_prescreener">prolific_prescreener objects</a></code> that characterize the participants to be recruited.
<strong>Note:</strong>
</p>

<ul>
<li><p><code><a href="base.html#topic+NULL">NULL</a></code> means that every participant can see and complete the study.
</p>
</li>
<li><p><strong>Only persons fulfiling these requirements will be able to participate in the study.</strong>
</p>
</li></ul>
</dd>
<dt><code>device_compatibility</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
<strong>Note:</strong> <code><a href="base.html#topic+NULL">NULL</a></code> means that all options are available.</p>
</dd>
<dt><code>peripheral_requirements</code></dt><dd><p>(<code><a href="base.html#topic+character">character</a></code>):<br />
A vector of technical requirements that participants have to fulfill to complete the study.
One or multiple values from
</p>
<pre>   c("audio", "camera", "download", "microphone")</pre>
<p><strong>Note:</strong> <code><a href="base.html#topic+NULL">NULL</a></code> means that none of the requirements is needed.</p>
</dd>
<dt><code>naivety_distribution_rate</code></dt><dd><p>(<code><a href="base.html#topic+numeric">numeric</a></code>):<br />
A value between <code>1</code> and <code>0</code> that controls the balance between speed of your study and the naivety of the participants.<br />
Prolific's description of this field is rather vague, but it seems to imply that
</p>

<ul>
<li><p><code>1</code> means that less trained or 'professional' participants will have access to the study.
</p>
</li>
<li><p><code>0</code> means that all eligible participants will have access to the study at the same time.
</p>
</li>
<li><p><code>values between 0 and 1</code> represent a tradeoff between both options.
</p>
</li></ul>
</dd>
<dt><code>further_fields</code></dt><dd><p>(<code><a href="base.html#topic+list">list</a></code>):<br />
Prolific studies can have various further fields, which (if used) are stored in <code><a href="#topic+prolific_study">further_fields</a></code>.
These fields are read-only,  and determined by Prolific.
See the '<em>Further (read-only) fields</em>' section below for a list of these read-only fields.</p>
</dd>
<dt><code>...</code></dt><dd><p>(<a href="base.html#topic+dots">further arguments</a>):<br />
Will be added to the <code><a href="#topic+prolific_study">further_fields</a></code> field of the <code><a href="#topic+prolific_study">prolific_study</a></code>
(see above).</p>
</dd>
</dl>


<h3>Types of fields</h3>


<dl>
<dt>Required fields</dt><dd>
<p>are required for creating a study on Prolific.<br />
<strong>The values for all of these except <code>completion_option</code> and <code>prolific_id_option</code> should be specified before publishing a study. Default values are only placeholders.</strong>
</p>
</dd>
</dl>


<dl>
<dt>Optional fields</dt><dd>
<p>are writable, but optional for Prolific.<br />
The user can but does not have to set these fields when creating a study.<br />
The required and optional fields are:
</p>
</dd>
</dl>


<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;           &#8288;</code></td><td style="text-align: left;"> <strong>Required fields</strong>		</td><td style="text-align: left;">	<strong>Optional fields</strong>		</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>completion_code</code>		</td><td style="text-align: left;">	<code>device_compatibility</code>		</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>completion_option</code>		</td><td style="text-align: left;">	<code>internal_name</code>		</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>description</code>		</td><td style="text-align: left;">	<code>maximum_allowed_time</code>		</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>eligibility_requirements</code>		</td><td style="text-align: left;">	<code>naivety_distribution_rate</code>		</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>estimated_completion_time</code>		</td><td style="text-align: left;">	<code>peripheral_requirements</code>		</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>external_study_url</code>		</td><td style="text-align: left;">	<code>url_parameters</code>		</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>name</code>				</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>prolific_id_option</code>				</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>reward</code>				</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>total_available_places</code>				</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<dl>
<dt>Further (read-only) fields</dt><dd>
<p>contain information that is determined internally by Prolific and read-only.<br />
The <code>id</code>-field
is of particular relevance.
Once a study is created via <a href="https://docs.prolific.co/docs/api-docs/public/">API</a> access, it is <strong>obtained from the <a href="https://docs.prolific.co/docs/api-docs/public/">API</a> and
stored in the <code>prolific_study</code> object</strong>, since it can be used to update, manage or delete a study.<br />
To fully represent the information that is obtainable from the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>,
the <code>further_fields</code> list can contain some or all of the entries listed below.
The corresponding overview provided in the
<a href="https://docs.prolific.co/docs/api-docs/public/#tag/Studies/paths/~1api~1v1~1studies~1%7Bid%7D~1/get">Prolific API documentation</a>
currently seems to be work in progress.
</p>
</dd>
</dl>


<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;           &#8288;</code> </td><td style="text-align: left;"> <code>_links </code>	</td><td style="text-align: left;">	<code>average_reward_per_hour</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>average_reward_per_hour_without_adjustment</code>	</td><td style="text-align: left;">	<code>average_time_taken</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>currency_code</code>	</td><td style="text-align: left;">	<code>date_created</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>device_compatibility</code>	</td><td style="text-align: left;">	<code>discount_from_coupons</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>eligible_participant_count</code>	</td><td style="text-align: left;">	<code>estimated_reward_per_hour</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>fees_per_submission</code>	</td><td style="text-align: left;">	<code>fees_percentage</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>has_had_adjustment</code>	</td><td style="text-align: left;">	<code>internal_name</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>is_pilot</code>	</td><td style="text-align: left;">	<code>is_underpaying</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>last_email_update_sent_datetime</code>	</td><td style="text-align: left;">	<code>maximum_allowed_time</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>minimum_reward_per_hour</code>	</td><td style="text-align: left;">	<code>naivety_distribution_rate</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>number_of_submissions</code>	</td><td style="text-align: left;">	<code>peripheral_requirements</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>pilot_test_steps_state</code>	</td><td style="text-align: left;">	<code>places_taken</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>project</code>	</td><td style="text-align: left;">	<code>publish_at</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>published_at</code>	</td><td style="text-align: left;">	<code>publisher</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>quota_requirements</code>	</td><td style="text-align: left;">	<code>receipt</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>representative_sample</code>	</td><td style="text-align: left;">	<code>representative_sample_fee</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>researcher</code>	</td><td style="text-align: left;">	<code>reward_level</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>share_id</code>	</td><td style="text-align: left;">	<code>stars_remaining</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>status</code>	</td><td style="text-align: left;">	<code>study_type</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>total_cost</code>	</td><td style="text-align: left;">	<code>total_participant_pool</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> <code>vat_percentage</code>	</td><td style="text-align: left;">	<code>workspace</code>			</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Methods</h3>



<h4><code>validity_check</code></h4>

<p>Check whether the study is valid in terms of the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>.<br />
<strong>Note:</strong> For checking the validity of the <code><a href="#topic+prolific_study">eligibility_requirements</a></code>,
an <code><a href="#topic+api_access">api_access object</a></code> that passes <code><a href="#topic+api_access">check_authorization()</a></code> needs to be available.
It suffices if any such <code><a href="#topic+api_access">api_access object</a></code> is specified, since the reference to it is determined automatically.
</p>


<h5><strong>Return Value</strong></h5>


<ul>
<li><p>If the study is valid: A <code><a href="base.html#topic+logical">logical</a></code> value indicating that the study is valid
</p>
</li>
<li><p>If the study is not valid: A <code><a href="base.html#topic+character">character</a></code> vector that lists the studie's issues.
</p>
</li></ul>




<h5><strong>Usage</strong></h5>

<pre>
     prolific_study$validity_check()
</pre>




<h3>Examples</h3>

<pre><code class='language-R'>library(prolific.api)

prolific_api_access &lt;- api_access(api_token = "&lt;api_token&gt;")

# Create a new study
fancy_new_study &lt;- prolific_study(
    name = "A fancy study on Prolific",
    external_study_url = "https://www.my_fancy_study_url.com",
    completion_code = "123ab456cd78",
    eligibility_requirements = list(),
    estimated_completion_time = 1,
    reward = 1,
    total_available_places = 0
)

# Check the study's validity
print(fancy_new_study$validity_check())

# Whoops, better add a description and change the total_available_places,
# using RefClass and S4 methods for illustration
# both are equivalent, so only one of the two commands is required in practice
# RefClass variant
fancy_new_study$total_available_places &lt;- 1L
# S4 variant
total_available_places(fancy_new_study) &lt;- 1L

# RefClass variant
fancy_new_study$description &lt;- "A fancy description"
# S4 variant
description(fancy_new_study) &lt;- "A fancy description"

# Re-Check the study's validity
print(fancy_new_study$validity_check())

# Note: For the following code to work,
# you have to replace &lt;api_token&gt; in the code above by the actual API token

## Not run: 
# Post the 'fancy_new_study' to Prolific - i.e. create it as a draft study on the platform
output_of_post &lt;- prolific_api_access$access(
    endpoint = "studies",
    method = "post",
    data = fancy_new_study
)

# Success: fancy_new_study got an ID - it is now a draft study on Prolific!
fancy_new_study$id

# Note: The output of the access() command with a prolific_study object as `data` argument
# is a pointer to this prolific_study object.
# The prolific_study object is updated by reference
print(tracemem(output_of_post) == tracemem(fancy_new_study))

# Change the study's name
name(fancy_new_study) &lt;- "A NEW name for 'fancy_new_study'"

# Update (patch) the study on Prolific,
# using S4 methods for illustration
output_of_patch &lt;- access(
    prolific_api_access,
    endpoint = c("studies", id(fancy_new_study)),
    method = "patch",
    data = fancy_new_study
)

# Note: As above, the output of the access() command is a pointer to the prolific_study object.
print(tracemem(output_of_post) == tracemem(fancy_new_study))

# Delete fancy_new_study
prolific_api_access$access(
    endpoint = c("studies", id(fancy_new_study)),
    method = "delete",
    as_list = FALSE
)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

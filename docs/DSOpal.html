<!DOCTYPE html><html><head><title>Help for package DSOpal</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {DSOpal}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#DSOpal-package'><p>DSOpal: 'DataSHIELD' Implementation for 'Opal'</p></a></li>
<li><a href='#.datashield.aggregate'><p>Data aggregation</p></a></li>
<li><a href='#.datashield.assign.expr'><p>Data assignment</p></a></li>
<li><a href='#.datashield.assign.resource'><p>Resource data assignment</p></a></li>
<li><a href='#.datashield.assign.table'><p>Table data assignment</p></a></li>
<li><a href='#.datashield.command'><p>Get an asynchronous command</p></a></li>
<li><a href='#.datashield.command_result'><p>Get result of an asynchronous command</p></a></li>
<li><a href='#.datashield.command_rm'><p>Remove an asynchronous command</p></a></li>
<li><a href='#.datashield.commands'><p>List the asynchronous commands</p></a></li>
<li><a href='#.datashield.commands_rm'><p>Remove all asynchronous commands</p></a></li>
<li><a href='#.datashield.methods'><p>List Datashield methods</p></a></li>
<li><a href='#.datashield.profiles'><p>List Datashield profiles</p></a></li>
<li><a href='#.datashield.rm'><p>Remove a R symbol</p></a></li>
<li><a href='#.datashield.symbols'><p>List R symbols</p></a></li>
<li><a href='#.datashield.workspace_restore'><p>Restore a saved workspace in the current DataSHIELD session.</p></a></li>
<li><a href='#.datashield.workspace_rm'><p>Remove a DataSHIELD workspace from a opal.</p></a></li>
<li><a href='#.datashield.workspace_save'><p>Save current session in a DataSHIELD workspace.</p></a></li>
<li><a href='#.datashield.workspaces'><p>Get the DataSHIELD workspaces.</p></a></li>
<li><a href='#.deparse'><p>Turn expression into character strings.</p></a></li>
<li><a href='#.getDatashieldSessionId'><p>Extract R session Id from opal object, create a new Datashield R session if not found.</p></a></li>
<li><a href='#.getPEMFilePath'><p>Extract absolute path to the pem file</p></a></li>
<li><a href='#.newDatashieldSession'><p>Create a new Datashield R session in Opal.</p></a></li>
<li><a href='#.rmDatashieldSession'><p>Remove a Datashield R session in Opal.</p></a></li>
<li><a href='#dsAggregate+2COpalConnection-method'><p>Aggregate data</p></a></li>
<li><a href='#dsAssignExpr+2COpalConnection-method'><p>Assign the result of an expression</p></a></li>
<li><a href='#dsAssignResource+2COpalConnection-method'><p>Assign a resource</p></a></li>
<li><a href='#dsAssignTable+2COpalConnection-method'><p>Assign a table</p></a></li>
<li><a href='#dsConnect+2COpalDriver-method'><p>Connect to a Opal server</p></a></li>
<li><a href='#dsDisconnect+2COpalConnection-method'><p>Disconnect from a Opal server</p></a></li>
<li><a href='#dsFetch+2COpalResult-method'><p>Fetch the result</p></a></li>
<li><a href='#dsGetInfo+2COpalResult-method'><p>Get result info</p></a></li>
<li><a href='#dsHasResource+2COpalConnection-method'><p>Verify Opal resource</p></a></li>
<li><a href='#dsHasTable+2COpalConnection-method'><p>Verify Opal table</p></a></li>
<li><a href='#dsIsAsync+2COpalConnection-method'><p>Opal asynchronous support</p></a></li>
<li><a href='#dsIsCompleted+2COpalResult-method'><p>Get whether the operation is completed</p></a></li>
<li><a href='#dsKeepAlive+2COpalConnection-method'><p>Keep connection with a Opal server alive</p></a></li>
<li><a href='#dsListMethods+2COpalConnection-method'><p>List methods</p></a></li>
<li><a href='#dsListPackages+2COpalConnection-method'><p>List packages</p></a></li>
<li><a href='#dsListProfiles+2COpalConnection-method'><p>List profiles</p></a></li>
<li><a href='#dsListResources+2COpalConnection-method'><p>List Opal resources</p></a></li>
<li><a href='#dsListSymbols+2COpalConnection-method'><p>List R symbols</p></a></li>
<li><a href='#dsListTables+2COpalConnection-method'><p>List Opal tables</p></a></li>
<li><a href='#dsListWorkspaces+2COpalConnection-method'><p>List workspaces</p></a></li>
<li><a href='#dsRestoreWorkspace+2COpalConnection-method'><p>Restore workspace</p></a></li>
<li><a href='#dsRmSymbol+2COpalConnection-method'><p>Remove a R symbol</p></a></li>
<li><a href='#dsRmWorkspace+2COpalConnection-method'><p>Remove a workspace</p></a></li>
<li><a href='#dsSaveWorkspace+2COpalConnection-method'><p>Save workspace</p></a></li>
<li><a href='#logindata.opal.demo'><p>DataSHIELD login data file</p></a></li>
<li><a href='#Opal'><p>Create a Opal driver</p></a></li>
<li><a href='#OpalConnection-class'><p>Class OpalConnection.</p></a></li>
<li><a href='#OpalDriver-class'><p>Class OpalDriver with constructor Opal.</p></a></li>
<li><a href='#OpalResult-class'><p>Class OpalResult.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'DataSHIELD' Implementation for 'Opal'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5), opalr (&ge; 3.0), DSI (&ge; 1.5), methods</td>
</tr>
<tr>
<td>Description:</td>
<td>'DataSHIELD' is an infrastructure and series of R packages that 
    enables the remote and 'non-disclosive' analysis of sensitive research data.
    This package is the 'DataSHIELD' interface implementation for 'Opal', which is
    the data integration application for biobanks by 'OBiBa'. Participant data, once
    collected from any data source, must be integrated and stored in a central
    data repository under a uniform model. 'Opal' is such a central repository.
    It can import, process, validate, query, analyze, report, and export data.
    'Opal' is the reference implementation of the 'DataSHIELD' infrastructure.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a> | <a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a> [expanded from: LGPL (&ge; 2.1)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/datashield/DSOpal/">https://github.com/datashield/DSOpal/</a>,
<a href="https://datashield.github.io/DSOpal/">https://datashield.github.io/DSOpal/</a>, <a href="https://www.obiba.org">https://www.obiba.org</a>,
<a href="https://www.obiba.org/pages/products/opal/">https://www.obiba.org/pages/products/opal/</a>,
<a href="https://www.datashield.org">https://www.datashield.org</a>,
<a href="https://academic.oup.com/ije/article/43/6/1929/707730">https://academic.oup.com/ije/article/43/6/1929/707730</a>,
<a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008880">https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008880</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/datashield/DSOpal/issues/">https://github.com/datashield/DSOpal/issues/</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Collate:</td>
<td>'DSOpal-package.R' 'OpalDriver.R' 'OpalConnection.R'
'OpalResult.R' 'datashield.aggregate.r' 'datashield.assign.r'
'datashield.command.r' 'datashield.method.r'
'datashield.symbol.r' 'datashield.workspace.r' 'logindata.R'
'utils.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-06 09:05:19 UTC; yannick</td>
</tr>
<tr>
<td>Author:</td>
<td>Yannick Marcon <a href="https://orcid.org/0000-0003-0138-2023"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Becca Wilson <a href="https://orcid.org/0000-0003-2294-593X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  OBiBa group [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yannick Marcon &lt;yannick.marcon@obiba.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-06 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='DSOpal-package'>DSOpal: 'DataSHIELD' Implementation for 'Opal'</h2><span id='topic+DSOpal'></span><span id='topic+DSOpal-package'></span>

<h3>Description</h3>

<p>'DataSHIELD' is an infrastructure and series of R packages that enables the remote and 'non-disclosive' analysis of sensitive research data. This package is the 'DataSHIELD' interface implementation for 'Opal', which is the data integration application for biobanks by 'OBiBa'. Participant data, once collected from any data source, must be integrated and stored in a central data repository under a uniform model. 'Opal' is such a central repository. It can import, process, validate, query, analyze, report, and export data. 'Opal' is the reference implementation of the 'DataSHIELD' infrastructure.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Yannick Marcon <a href="mailto:yannick.marcon@obiba.org">yannick.marcon@obiba.org</a> (<a href="https://orcid.org/0000-0003-0138-2023">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Becca Wilson (<a href="https://orcid.org/0000-0003-2294-593X">ORCID</a>) [contributor]
</p>
</li>
<li><p> OBiBa group <a href="mailto:info@obiba.org">info@obiba.org</a> [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/datashield/DSOpal/">https://github.com/datashield/DSOpal/</a>
</p>
</li>
<li> <p><a href="https://datashield.github.io/DSOpal/">https://datashield.github.io/DSOpal/</a>
</p>
</li>
<li> <p><a href="https://www.obiba.org">https://www.obiba.org</a>
</p>
</li>
<li> <p><a href="https://www.obiba.org/pages/products/opal/">https://www.obiba.org/pages/products/opal/</a>
</p>
</li>
<li> <p><a href="https://www.datashield.org">https://www.datashield.org</a>
</p>
</li>
<li> <p><a href="https://academic.oup.com/ije/article/43/6/1929/707730">https://academic.oup.com/ije/article/43/6/1929/707730</a>
</p>
</li>
<li> <p><a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008880">https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008880</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/datashield/DSOpal/issues/">https://github.com/datashield/DSOpal/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='.datashield.aggregate'>Data aggregation</h2><span id='topic+.datashield.aggregate'></span>

<h3>Description</h3>

<p>Aggregates the expression result using the specified aggregation method in the current Datashield session.
This operation is asynchronous and non blocking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.aggregate(opal, expr, async = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.aggregate_+3A_opal">opal</code></td>
<td>
<p>Opal object or list of opal objects.</p>
</td></tr>
<tr><td><code id=".datashield.aggregate_+3A_expr">expr</code></td>
<td>
<p>Expression to evaluate.</p>
</td></tr>
<tr><td><code id=".datashield.aggregate_+3A_async">async</code></td>
<td>
<p>Whether the call should be asynchronous.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The R command ID to be used to retrieve the command result (when async) or the agregated value.
</p>

<hr>
<h2 id='.datashield.assign.expr'>Data assignment</h2><span id='topic+.datashield.assign.expr'></span>

<h3>Description</h3>

<p>Assign a Opal value to a R symbol in the current Datashield session.
This operation is asynchronous and non blocking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.assign.expr(opal, symbol, value, async = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.assign.expr_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.assign.expr_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
<tr><td><code id=".datashield.assign.expr_+3A_value">value</code></td>
<td>
<p>R expression with allowed assign functions calls.</p>
</td></tr>
<tr><td><code id=".datashield.assign.expr_+3A_async">async</code></td>
<td>
<p>Whether the call should be asynchronous.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The R command ID if the async flag is TRUE and if the wait flag is FALSE and if Opal version is at least 2.1, NULL otherwise.
</p>

<hr>
<h2 id='.datashield.assign.resource'>Resource data assignment</h2><span id='topic+.datashield.assign.resource'></span>

<h3>Description</h3>

<p>Assign a Opal value to a R symbol in the current Datashield session.
This operation is asynchronous and non blocking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.assign.resource(opal, symbol, value, async = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.assign.resource_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.assign.resource_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
<tr><td><code id=".datashield.assign.resource_+3A_value">value</code></td>
<td>
<p>Fully qualified name of a resource in Opal.</p>
</td></tr>
<tr><td><code id=".datashield.assign.resource_+3A_async">async</code></td>
<td>
<p>Whether the call should be asynchronous.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The R command ID if the async flag is TRUE and if the wait flag is FALSE and if Opal version is at least 2.1, NULL otherwise.
</p>

<hr>
<h2 id='.datashield.assign.table'>Table data assignment</h2><span id='topic+.datashield.assign.table'></span>

<h3>Description</h3>

<p>Assign a Opal value to a R symbol in the current Datashield session.
This operation is asynchronous and non blocking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.assign.table(
  opal,
  symbol,
  value,
  variables = NULL,
  missings = FALSE,
  identifiers = NULL,
  id.name = NULL,
  tibble = FALSE,
  async = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.assign.table_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_value">value</code></td>
<td>
<p>Fully qualified name of a variable or a table in Opal.</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_variables">variables</code></td>
<td>
<p>List of variable names or Javascript expression that selects the variables of a table (ignored if value does not refere to a table). See javascript documentation: https://opaldoc.obiba.org/en/latest/magma-user-guide/methods.html</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_missings">missings</code></td>
<td>
<p>If TRUE, missing values will be pushed from Opal to R, default is FALSE. Ignored if value is an R expression.</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_identifiers">identifiers</code></td>
<td>
<p>Name of the identifiers mapping to use when assigning entities to R (from Opal 2.0).</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_id.name">id.name</code></td>
<td>
<p>Name of the column that will contain the entity identifiers. If not specified, the identifiers
will be the data frame row names. When specified this column can be used to perform joins between data frames.</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_tibble">tibble</code></td>
<td>
<p>Assign table to a tibble (from tidyverse) instead of a plain data.frame.</p>
</td></tr>
<tr><td><code id=".datashield.assign.table_+3A_async">async</code></td>
<td>
<p>Whether the call should be asynchronous.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The R command ID if the async flag is TRUE and if the wait flag is FALSE and if Opal version is at least 2.1, NULL otherwise.
</p>

<hr>
<h2 id='.datashield.command'>Get an asynchronous command</h2><span id='topic+.datashield.command'></span>

<h3>Description</h3>

<p>Get an asynchronous R commands in the remote Datashield session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.command(opal, id, wait = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.command_+3A_opal">opal</code></td>
<td>
<p>Opal object or list of opal objects.</p>
</td></tr>
<tr><td><code id=".datashield.command_+3A_id">id</code></td>
<td>
<p>R command ID or list of R command IDs (one for each opal object).</p>
</td></tr>
<tr><td><code id=".datashield.command_+3A_wait">wait</code></td>
<td>
<p>Wait for the command to complete.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.command_result'>Get result of an asynchronous command</h2><span id='topic+.datashield.command_result'></span>

<h3>Description</h3>

<p>Get the result of an asynchronous R commands in the remote Datashield session. The command is removed from the
remote Datashield session after this call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.command_result(opal, id, wait = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.command_result_+3A_opal">opal</code></td>
<td>
<p>Opal object or list of opal objects.</p>
</td></tr>
<tr><td><code id=".datashield.command_result_+3A_id">id</code></td>
<td>
<p>R command ID or list of R command IDs (one for each opal object).</p>
</td></tr>
<tr><td><code id=".datashield.command_result_+3A_wait">wait</code></td>
<td>
<p>Wait for the command to complete.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.command_rm'>Remove an asynchronous command</h2><span id='topic+.datashield.command_rm'></span>

<h3>Description</h3>

<p>Remove an asynchronous R commands in the remote Datashield session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.command_rm(opal, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.command_rm_+3A_opal">opal</code></td>
<td>
<p>Opal object or list of opal objects.</p>
</td></tr>
<tr><td><code id=".datashield.command_rm_+3A_id">id</code></td>
<td>
<p>R command ID or list of R command IDs (one for each opal object).</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.commands'>List the asynchronous commands</h2><span id='topic+.datashield.commands'></span>

<h3>Description</h3>

<p>Get the list of asynchronous R commands in the remote Datashield session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.commands(opal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.commands_+3A_opal">opal</code></td>
<td>
<p>Opal object or list of opal objects.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.commands_rm'>Remove all asynchronous commands</h2><span id='topic+.datashield.commands_rm'></span>

<h3>Description</h3>

<p>Remove all asynchronous R commands in the remote Datashield session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.commands_rm(opal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.commands_rm_+3A_opal">opal</code></td>
<td>
<p>Opal object or list of opal objects.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.methods'>List Datashield methods</h2><span id='topic+.datashield.methods'></span>

<h3>Description</h3>

<p>Get available Datashield methods of a given type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.methods(opal, type = "aggregate")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.methods_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.methods_+3A_type">type</code></td>
<td>
<p>Type of the method: &quot;aggregate&quot; (default) or &quot;assign&quot;.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.profiles'>List Datashield profiles</h2><span id='topic+.datashield.profiles'></span>

<h3>Description</h3>

<p>Get available Datashield profiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.profiles(opal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.profiles_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.rm'>Remove a R symbol</h2><span id='topic+.datashield.rm'></span>

<h3>Description</h3>

<p>Remove a symbol from the current Datashield session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.rm(opal, symbol)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.rm_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.rm_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.symbols'>List R symbols</h2><span id='topic+.datashield.symbols'></span>

<h3>Description</h3>

<p>Get the R symbols available after the datashield.assign calls in the current Datashield session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.symbols(opal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.symbols_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.workspace_restore'>Restore a saved workspace in the current DataSHIELD session.</h2><span id='topic+.datashield.workspace_restore'></span>

<h3>Description</h3>

<p>Restore a saved workspace in the current DataSHIELD session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.workspace_restore(opal, ws)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.workspace_restore_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.workspace_restore_+3A_ws">ws</code></td>
<td>
<p>The workspace name</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.workspace_rm'>Remove a DataSHIELD workspace from a opal.</h2><span id='topic+.datashield.workspace_rm'></span>

<h3>Description</h3>

<p>Remove a DataSHIELD workspace from a opal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.workspace_rm(opal, ws)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.workspace_rm_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.workspace_rm_+3A_ws">ws</code></td>
<td>
<p>The workspace name</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.workspace_save'>Save current session in a DataSHIELD workspace.</h2><span id='topic+.datashield.workspace_save'></span>

<h3>Description</h3>

<p>Save current session in a DataSHIELD workspace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.workspace_save(opal, ws)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.workspace_save_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
<tr><td><code id=".datashield.workspace_save_+3A_ws">ws</code></td>
<td>
<p>The workspace name</p>
</td></tr>
</table>

<hr>
<h2 id='.datashield.workspaces'>Get the DataSHIELD workspaces.</h2><span id='topic+.datashield.workspaces'></span>

<h3>Description</h3>

<p>Get the DataSHIELD workspaces.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.datashield.workspaces(opal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".datashield.workspaces_+3A_opal">opal</code></td>
<td>
<p>Opal object.</p>
</td></tr>
</table>

<hr>
<h2 id='.deparse'>Turn expression into character strings.</h2><span id='topic+.deparse'></span>

<h3>Description</h3>

<p>Turn expression into character strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.deparse(expr)
</code></pre>

<hr>
<h2 id='.getDatashieldSessionId'>Extract R session Id from opal object, create a new Datashield R session if not found.</h2><span id='topic+.getDatashieldSessionId'></span>

<h3>Description</h3>

<p>Extract R session Id from opal object, create a new Datashield R session if not found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.getDatashieldSessionId(opal)
</code></pre>

<hr>
<h2 id='.getPEMFilePath'>Extract absolute path to the pem file</h2><span id='topic+.getPEMFilePath'></span>

<h3>Description</h3>

<p>Extract absolute path to the pem file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.getPEMFilePath(pem, directory = "~/.ssh")
</code></pre>

<hr>
<h2 id='.newDatashieldSession'>Create a new Datashield R session in Opal.</h2><span id='topic+.newDatashieldSession'></span>

<h3>Description</h3>

<p>Create a new Datashield R session in Opal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.newDatashieldSession(opal, restore = NULL)
</code></pre>

<hr>
<h2 id='.rmDatashieldSession'>Remove a Datashield R session in Opal.</h2><span id='topic+.rmDatashieldSession'></span>

<h3>Description</h3>

<p>Remove a Datashield R session in Opal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.rmDatashieldSession(opal, save = NULL)
</code></pre>

<hr>
<h2 id='dsAggregate+2COpalConnection-method'>Aggregate data</h2><span id='topic+dsAggregate+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Aggregate some data from the DataSHIELD R session using a valid R expression. The aggregation expression
must satisfy the data repository's DataSHIELD configuration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsAggregate(conn, expr, async = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsAggregate+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> object.</p>
</td></tr>
<tr><td><code id="dsAggregate+2B2COpalConnection-method_+3A_expr">expr</code></td>
<td>
<p>Expression to evaluate.</p>
</td></tr>
<tr><td><code id="dsAggregate+2B2COpalConnection-method_+3A_async">async</code></td>
<td>
<p>Whether the result of the call should be retrieved asynchronously. When TRUE (default) the calls are parallelized over
the connections, when the connection supports that feature, with an extra overhead of requests.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "username", "password", "https://opal.example.org")
dsAssignTable(con, "D", "test.CNSIM")
dsAggregate(con, as.symbol("meanDS(D$WEIGHT)"))
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsAssignExpr+2COpalConnection-method'>Assign the result of an expression</h2><span id='topic+dsAssignExpr+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Assign a result of the execution of an expression in the DataSHIELD R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsAssignExpr(conn, symbol, expr, async = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsAssignExpr+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> object.</p>
</td></tr>
<tr><td><code id="dsAssignExpr+2B2COpalConnection-method_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
<tr><td><code id="dsAssignExpr+2B2COpalConnection-method_+3A_expr">expr</code></td>
<td>
<p>A R expression with allowed assign functions calls.</p>
</td></tr>
<tr><td><code id="dsAssignExpr+2B2COpalConnection-method_+3A_async">async</code></td>
<td>
<p>Whether the result of the call should be retrieved asynchronously. When TRUE (default) the calls are parallelized over
the connections, when the connection supports that feature, with an extra overhead of requests.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+OpalResult-class">OpalResult-class</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignExpr(con, "C", as.symbol("c(1, 2, 3)"))
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsAssignResource+2COpalConnection-method'>Assign a resource</h2><span id='topic+dsAssignResource+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Assign a Opal resource in the DataSHIELD R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsAssignResource(conn, symbol, resource, async = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsAssignResource+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> object.</p>
</td></tr>
<tr><td><code id="dsAssignResource+2B2COpalConnection-method_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
<tr><td><code id="dsAssignResource+2B2COpalConnection-method_+3A_resource">resource</code></td>
<td>
<p>Fully qualified name of a resource in Opal.</p>
</td></tr>
<tr><td><code id="dsAssignResource+2B2COpalConnection-method_+3A_async">async</code></td>
<td>
<p>Whether the result of the call should be retrieved asynchronously. When TRUE (default) the calls are parallelized over
the connections, when the connection supports that feature, with an extra overhead of requests.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+OpalResult-class">OpalResult-class</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignResource(con, "D", "test.CNSIM")
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsAssignTable+2COpalConnection-method'>Assign a table</h2><span id='topic+dsAssignTable+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Assign a Opal table in the DataSHIELD R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsAssignTable(
  conn,
  symbol,
  table,
  variables = NULL,
  missings = FALSE,
  identifiers = NULL,
  id.name = NULL,
  async = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> object.</p>
</td></tr>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_table">table</code></td>
<td>
<p>Fully qualified name of a table in Opal.</p>
</td></tr>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_variables">variables</code></td>
<td>
<p>List of variable names or Javascript expression that selects the variables of a table (ignored if value does not refere to a table). See javascript documentation: https://opaldoc.obiba.org/en/latest/magma-user-guide/methods.html</p>
</td></tr>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_missings">missings</code></td>
<td>
<p>If TRUE, missing values will be pushed from Opal to R, default is FALSE. Ignored if value is an R expression.</p>
</td></tr>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_identifiers">identifiers</code></td>
<td>
<p>Name of the identifiers mapping to use when assigning entities to R (from Opal 2.0).</p>
</td></tr>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_id.name">id.name</code></td>
<td>
<p>Name of the column that will contain the entity identifiers. If not specified, the identifiers
will be the data frame row names. When specified this column can be used to perform joins between data frames.</p>
</td></tr>
<tr><td><code id="dsAssignTable+2B2COpalConnection-method_+3A_async">async</code></td>
<td>
<p>Whether the result of the call should be retrieved asynchronously. When TRUE (default) the calls are parallelized over
the connections, when the connection supports that feature, with an extra overhead of requests.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+OpalResult-class">OpalResult-class</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignTable(con, "D", "test.CNSIM")
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsConnect+2COpalDriver-method'>Connect to a Opal server</h2><span id='topic+dsConnect+2COpalDriver-method'></span>

<h3>Description</h3>

<p>Connect to a Opal server, with provided credentials. Does not create a DataSHIELD R session, only retrieves user profile.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalDriver'
dsConnect(
  drv,
  name,
  restore = NULL,
  username = NULL,
  password = NULL,
  token = NULL,
  url = NULL,
  opts = list(),
  profile = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_drv">drv</code></td>
<td>
<p><code><a href="#topic+OpalDriver-class">OpalDriver-class</a></code> class object.</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_name">name</code></td>
<td>
<p>Name of the connection, which must be unique among all the DataSHIELD connections.</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_restore">restore</code></td>
<td>
<p>Workspace name to be restored in the newly created DataSHIELD R session.</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_username">username</code></td>
<td>
<p>User name in opal(s).</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_password">password</code></td>
<td>
<p>User password in opal(s).</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_token">token</code></td>
<td>
<p>Personal access token (since opal 2.15, ignored if username is specified).</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_url">url</code></td>
<td>
<p>Opal url or list of opal urls. Can be provided by &quot;opal.url&quot; option.</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_opts">opts</code></td>
<td>
<p>Curl options as described by httr (call httr::httr_options() for details). Can be provided by &quot;opal.opts&quot; option.</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_profile">profile</code></td>
<td>
<p>The DataSHIELD R server profile (affects the R packages available and the applied configuration). If not provided or not supported, default profile will be applied.</p>
</td></tr>
<tr><td><code id="dsConnect+2B2COpalDriver-method_+3A_...">...</code></td>
<td>
<p>Unused, needed for compatibility with generic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dsConnect(DSOpal::Opal(), "server1", "username", "password", "https://opal.example.org")
con
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsDisconnect+2COpalConnection-method'>Disconnect from a Opal server</h2><span id='topic+dsDisconnect+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Disconnect from a Opal server and release all R resources. If a workspace ID is provided, the DataSHIELD
R session will be saved before being destroyed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsDisconnect(conn, save = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsDisconnect+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
<tr><td><code id="dsDisconnect+2B2COpalConnection-method_+3A_save">save</code></td>
<td>
<p>Save the DataSHIELD R session with provided ID (must be a character string).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dsConnect(DSOpal::Opal(), "server1", "username", "password", "https://opal.example.org")
con
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsFetch+2COpalResult-method'>Fetch the result</h2><span id='topic+dsFetch+2COpalResult-method'></span>

<h3>Description</h3>

<p>Fetch the DataSHIELD operation result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalResult'
dsFetch(res)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsFetch+2B2COpalResult-method_+3A_res">res</code></td>
<td>
<p><code><a href="#topic+OpalResult-class">OpalResult-class</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if table exists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignExpr(con, "C", as.symbol("c(1, 2, 3)"))
res &lt;- dsAggregate(con, as.symbol("length(C)"))
length &lt;- dsFetch(res)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsGetInfo+2COpalResult-method'>Get result info</h2><span id='topic+dsGetInfo+2COpalResult-method'></span>

<h3>Description</h3>

<p>Get the information about a command (if still available).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalResult'
dsGetInfo(dsObj, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsGetInfo+2B2COpalResult-method_+3A_dsobj">dsObj</code></td>
<td>
<p><code><a href="#topic+OpalResult-class">OpalResult-class</a></code> class object</p>
</td></tr>
<tr><td><code id="dsGetInfo+2B2COpalResult-method_+3A_...">...</code></td>
<td>
<p>Unused, needed for compatibility with generic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result information, including its status.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignExpr(con, "C", as.symbol("c(1, 2, 3)"))
res &lt;- dsAggregate(con, as.symbol("length(C)"))
dsGetInfo(res)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsHasResource+2COpalConnection-method'>Verify Opal resource</h2><span id='topic+dsHasResource+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Verify Opal resource exist and can be accessible for performing DataSHIELD operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsHasResource(conn, resource)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsHasResource+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object.</p>
</td></tr>
<tr><td><code id="dsHasResource+2B2COpalConnection-method_+3A_resource">resource</code></td>
<td>
<p>The fully qualified name of the resource.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the resource exists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsHasResource(con, "test.CNSIM")
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsHasTable+2COpalConnection-method'>Verify Opal table</h2><span id='topic+dsHasTable+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Verify Opal table exist and can be accessible for performing DataSHIELD operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsHasTable(conn, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsHasTable+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object.</p>
</td></tr>
<tr><td><code id="dsHasTable+2B2COpalConnection-method_+3A_table">table</code></td>
<td>
<p>The fully qualified name of the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if table exists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsHasTable(con, "test.CNSIM")
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsIsAsync+2COpalConnection-method'>Opal asynchronous support</h2><span id='topic+dsIsAsync+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List that Opal supports asynchronicity on all DataSHIELD operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsIsAsync(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsIsAsync+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The named list of logicals detailing the asynchronicity support.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsIsAsync(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsIsCompleted+2COpalResult-method'>Get whether the operation is completed</h2><span id='topic+dsIsCompleted+2COpalResult-method'></span>

<h3>Description</h3>

<p>Get the information about a command (if still available) and return TRUE if
the command was completed successfully or not. Always TRUE for synchronous
operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalResult'
dsIsCompleted(res)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsIsCompleted+2B2COpalResult-method_+3A_res">res</code></td>
<td>
<p><code><a href="#topic+OpalResult-class">OpalResult-class</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical indicating the command completion.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignExpr(con, "C", as.symbol("c(1, 2, 3)"))
res &lt;- dsAggregate(con, as.symbol("length(C)"))
dsIsCompleted(res)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsKeepAlive+2COpalConnection-method'>Keep connection with a Opal server alive</h2><span id='topic+dsKeepAlive+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Makes a dummy web service request.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsKeepAlive(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsKeepAlive+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dsConnect(DSOpal::Opal(), "server1", "username", "password", "https://opal.example.org")
dsKeepAlive(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsListMethods+2COpalConnection-method'>List methods</h2><span id='topic+dsListMethods+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List methods defined in the DataSHIELD configuration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsListMethods(conn, type = "aggregate")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsListMethods+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
<tr><td><code id="dsListMethods+2B2COpalConnection-method_+3A_type">type</code></td>
<td>
<p>Type of the method: &quot;aggregate&quot; (default) or &quot;assign&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with columns: name, type ('aggregate' or 'assign'), class ('function' or 'script'), value, package, version.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsListMethods(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsListPackages+2COpalConnection-method'>List packages</h2><span id='topic+dsListPackages+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List packages defined in the DataSHIELD configuration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsListPackages(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsListPackages+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with columns: name, version.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsListPackages(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsListProfiles+2COpalConnection-method'>List profiles</h2><span id='topic+dsListProfiles+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List profiles defined in the DataSHIELD configuration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsListProfiles(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsListProfiles+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the &quot;available&quot; character vector of profile names and the &quot;current&quot; profile (in case a default one was assigned).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsListProfiles(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsListResources+2COpalConnection-method'>List Opal resources</h2><span id='topic+dsListResources+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List Opal resources that may be accessible for performing DataSHIELD operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsListResources(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsListResources+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The fully qualified names of the resources.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsListResources(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsListSymbols+2COpalConnection-method'>List R symbols</h2><span id='topic+dsListSymbols+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List symbols living in the DataSHIELD R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsListSymbols(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsListSymbols+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignTable(con, "D", "test.CNSIM")
dsListSymbols(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsListTables+2COpalConnection-method'>List Opal tables</h2><span id='topic+dsListTables+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List Opal tables that may be accessible for performing DataSHIELD operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsListTables(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsListTables+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The fully qualified names of the tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsListTables(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsListWorkspaces+2COpalConnection-method'>List workspaces</h2><span id='topic+dsListWorkspaces+2COpalConnection-method'></span>

<h3>Description</h3>

<p>List workspaces saved in the data repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsListWorkspaces(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsListWorkspaces+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with columns: name, lastAccessDate, size.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsListWorkspaces(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsRestoreWorkspace+2COpalConnection-method'>Restore workspace</h2><span id='topic+dsRestoreWorkspace+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Restore workspace from the data repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsRestoreWorkspace(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsRestoreWorkspace+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
<tr><td><code id="dsRestoreWorkspace+2B2COpalConnection-method_+3A_name">name</code></td>
<td>
<p>Name of the workspace.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsListWorkspaces(con)
dsRestoreWorkspace(con, "foo")
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsRmSymbol+2COpalConnection-method'>Remove a R symbol</h2><span id='topic+dsRmSymbol+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Remoe a symbol living in the DataSHIELD R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsRmSymbol(conn, symbol)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsRmSymbol+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
<tr><td><code id="dsRmSymbol+2B2COpalConnection-method_+3A_symbol">symbol</code></td>
<td>
<p>Name of the R symbol.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsAssignTable(con, "D", "test.CNSIM")
dsRmSymbol(con, "D")
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsRmWorkspace+2COpalConnection-method'>Remove a workspace</h2><span id='topic+dsRmWorkspace+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Remove a workspace on the data repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsRmWorkspace(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsRmWorkspace+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
<tr><td><code id="dsRmWorkspace+2B2COpalConnection-method_+3A_name">name</code></td>
<td>
<p>Name of the workspace.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsSaveWorkspace(con, "foo")
dsListWorkspaces(con)
dsRmWorkspace(con, "foo")
dsListWorkspaces(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='dsSaveWorkspace+2COpalConnection-method'>Save workspace</h2><span id='topic+dsSaveWorkspace+2COpalConnection-method'></span>

<h3>Description</h3>

<p>Save workspace on the data repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'OpalConnection'
dsSaveWorkspace(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dsSaveWorkspace+2B2COpalConnection-method_+3A_conn">conn</code></td>
<td>
<p><code><a href="#topic+OpalConnection-class">OpalConnection-class</a></code> class object</p>
</td></tr>
<tr><td><code id="dsSaveWorkspace+2B2COpalConnection-method_+3A_name">name</code></td>
<td>
<p>Name of the workspace.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- dbConnect(DSOpal::Opal(), "server1",
  "username", "password", "https://opal.example.org")
dsSaveWorkspace(con, "foo")
dsListWorkspaces(con)
dsDisconnect(con)

## End(Not run)

</code></pre>

<hr>
<h2 id='logindata.opal.demo'>DataSHIELD login data file</h2><span id='topic+logindata.opal.demo'></span>

<h3>Description</h3>

<p>DataSHIELD login data file based on Opal demo server, with CNSIM simulated data. The CNSIM datasets contain
synthetic data based on a model derived from the participants of the 1958 Birth Cohort,
as part of the obesity methodological development project. These datasets do contain some
NA values. Note that the Opal demo server is rebuilt every day and is possibly not accessible.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
   <strong>Field</strong> </td><td style="text-align: left;"> <strong>Description</strong> </td><td style="text-align: left;"> <strong>Type</strong> </td><td style="text-align: left;"> <strong>Note</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   server </td><td style="text-align: left;"> Server/study name </td><td style="text-align: left;"> char </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   url </td><td style="text-align: left;"> Server/study URL </td><td style="text-align: left;"> char </td><td style="text-align: left;"> Opal demo URL </td>
</tr>
<tr>
 <td style="text-align: left;">
   user </td><td style="text-align: left;"> User name </td><td style="text-align: left;"> char </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   password </td><td style="text-align: left;"> User password </td><td style="text-align: left;"> char </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   table </td><td style="text-align: left;"> Table unique name </td><td style="text-align: left;"> char </td><td style="text-align: left;"> CNSIM tables </td>
</tr>
<tr>
 <td style="text-align: left;">
   driver </td><td style="text-align: left;"> Connection driver </td><td style="text-align: left;"> char </td><td style="text-align: left;"> OpalDriver </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>References</h3>

<p><a href="https://opal-demo.obiba.org">https://opal-demo.obiba.org</a>
</p>

<hr>
<h2 id='Opal'>Create a Opal driver</h2><span id='topic+Opal'></span>

<h3>Description</h3>

<p>Convenient function for creating a OpalDriver object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Opal()
</code></pre>

<hr>
<h2 id='OpalConnection-class'>Class OpalConnection.</h2><span id='topic+OpalConnection-class'></span>

<h3>Description</h3>

<p>An Opal connection implementing the DataSHIELD Interface (DSI) <code><a href="DSI.html#topic+DSConnection-class">DSConnection-class</a></code>.
</p>

<hr>
<h2 id='OpalDriver-class'>Class OpalDriver with constructor Opal.</h2><span id='topic+OpalDriver-class'></span>

<h3>Description</h3>

<p>An Opal driver implementing the DataSHIELD Interface (DSI) <code><a href="DSI.html#topic+DSDriver-class">DSDriver-class</a></code>.
This class should always be initialized with the <code><a href="#topic+Opal">Opal</a></code> function.
It returns a singleton that allows you to connect to Opal.
</p>

<hr>
<h2 id='OpalResult-class'>Class OpalResult.</h2><span id='topic+OpalResult-class'></span>

<h3>Description</h3>

<p>An Opal result implementing the DataSHIELD Interface (DSI)  <code><a href="DSI.html#topic+DSResult-class">DSResult-class</a></code>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

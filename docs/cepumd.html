<!DOCTYPE html><html lang="en-US"><head><title>Help for package cepumd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cepumd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cepumd-package'><p>cepumd: Calculate Consumer Expenditure Survey (CE) Annual Estimates</p></a></li>
<li><a href='#ce_hg'><p>Convert a CE heiarchical grouping file to a data frame</p></a></li>
<li><a href='#ce_mean'><p>Calculate a CE weighted mean</p></a></li>
<li><a href='#ce_prepdata'><p>Prepare CE data for calculating an estimated mean or median</p></a></li>
<li><a href='#ce_quantiles'><p>Calculate a CE weighted quantiles</p></a></li>
<li><a href='#ce_uccs'><p>Find UCCs for expenditure categories</p></a></li>
<li><a href='#get_survey_files'><p>Generate tables of the necessary survey data files</p></a></li>
<li><a href='#read.expd'><p>Read in and modify EXPD files</p></a></li>
<li><a href='#read.fmld'><p>Read in and modify FMLD files</p></a></li>
<li><a href='#read.fmli'><p>Read in and modify FMLI files</p></a></li>
<li><a href='#read.mtbi'><p>Read in and modify MTBI files</p></a></li>
<li><a href='#recode_ce_variables'><p>Recode variables in interview and diary data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculate Consumer Expenditure Survey (CE) Annual Estimates</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions and data files to help CE Public-Use
    Microdata (PUMD) users calculate annual estimated expenditure means,
    standard errors, and quantiles according to the methods used by the CE with
    PUMD. For more information on the CE please visit <a href="https://www.bls.gov/cex">https://www.bls.gov/cex</a>.
    For further reading on CE estimate calculations please see the CE
    Calculation section of the U.S. Bureau of Labor Statistics (BLS) Handbook of
    Methods at <a href="https://www.bls.gov/opub/hom/cex/calculation.htm">https://www.bls.gov/opub/hom/cex/calculation.htm</a>. For
    further information about CE PUMD please visit
    <a href="https://www.bls.gov/cex/pumd.htm">https://www.bls.gov/cex/pumd.htm</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://arcenis-r.github.io/cepumd/">https://arcenis-r.github.io/cepumd/</a>,
<a href="https://github.com/arcenis-r/cepumd">https://github.com/arcenis-r/cepumd</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/arcenis-r/cepumd/issues">https://github.com/arcenis-r/cepumd/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), janitor, purrr, readr, readxl, rlang,
stringr, tidyr, tidyselect (&ge; 1.2.0), utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, spelling, testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-17 14:55:20 UTC; arcen</td>
</tr>
<tr>
<td>Author:</td>
<td>Arcenis Rojas [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Arcenis Rojas &lt;arcenis.rojas@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-18 17:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cepumd-package'>cepumd: Calculate Consumer Expenditure Survey (CE) Annual Estimates</h2><span id='topic+cepumd'></span><span id='topic+cepumd-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides functions and data files to help CE Public-Use Microdata (PUMD) users calculate annual estimated expenditure means, standard errors, and quantiles according to the methods used by the CE with PUMD. For more information on the CE please visit <a href="https://www.bls.gov/cex">https://www.bls.gov/cex</a>. For further reading on CE estimate calculations please see the CE Calculation section of the U.S. Bureau of Labor Statistics (BLS) Handbook of Methods at <a href="https://www.bls.gov/opub/hom/cex/calculation.htm">https://www.bls.gov/opub/hom/cex/calculation.htm</a>. For further information about CE PUMD please visit <a href="https://www.bls.gov/cex/pumd.htm">https://www.bls.gov/cex/pumd.htm</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Arcenis Rojas <a href="mailto:arcenis.rojas@gmail.com">arcenis.rojas@gmail.com</a> [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://arcenis-r.github.io/cepumd/">https://arcenis-r.github.io/cepumd/</a>
</p>
</li>
<li> <p><a href="https://github.com/arcenis-r/cepumd">https://github.com/arcenis-r/cepumd</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/arcenis-r/cepumd/issues">https://github.com/arcenis-r/cepumd/issues</a>
</p>
</li></ul>


<hr>
<h2 id='ce_hg'>Convert a CE heiarchical grouping file to a data frame</h2><span id='topic+ce_hg'></span>

<h3>Description</h3>

<p>A CE heiarchical grouping ('HG') file shows the levels of
aggregation for expenditure categories used to produce official CE
expenditure estimates. This function reads in a CE HG file for the given
year and HG type as data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ce_hg(year, survey, hg_zip_path = NULL, hg_file_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ce_hg_+3A_year">year</code></td>
<td>
<p>A year between 1996 and the last year of available CE PUMD.</p>
</td></tr>
<tr><td><code id="ce_hg_+3A_survey">survey</code></td>
<td>
<p>The type of HG file; one of &quot;interview&quot;, &quot;diary&quot;, or
&quot;integrated&quot;. Accepted as a character or symbol.</p>
</td></tr>
<tr><td><code id="ce_hg_+3A_hg_zip_path">hg_zip_path</code></td>
<td>
<p>The path to a zip file containing HG files downloaded
from the CE website. The structure of the zip file must be exactly as it is
when downloaded to be useful to this function.</p>
</td></tr>
<tr><td><code id="ce_hg_+3A_hg_file_path">hg_file_path</code></td>
<td>
<p>The path to a single HG file that has already been
extracted. If this argument is given 'hg_zip_path' is ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Interview and Diary HG files are available starting in 1997 and integrated
files start in 1996. For consistency, this function and other <code>cepumd</code>
functions only work with data starting in 1997.
</p>
<p>The output will contain only expenditure UCCs and not UCCs related
to household characteristics, income, assets, or liabilities. The scope of
the functions in this package is limited to expenditures. Income, for
example, is imputed and calculation of income means goes through a different
process than do expenditure means. Please see
<a href="https://www.bls.gov/cex/csxguide.pdf">User's Guide to Income Imputation in the CE</a>
</p>


<h3>Value</h3>

<p>A data frame containing the following columns:
</p>

<ul>
<li><p> level - hierarchical level of the expenditure category
</p>
</li>
<li><p> title - the title of the expenditure category
</p>
</li>
<li><p> ucc - the Universal Classification Code (UCC) for the expenditure category
</p>
</li>
<li><p> survey - the survey instrument from which the data for a given UCC are
sourced. This is most helpful when data for a type of expenditure
are collected in both the Interview and the Diary.
</p>
</li>
<li><p> factor - the factor by which to multiply the expenditure in the calculation
of estimated means / medians
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# 'survey' can be entered as a string
ce_hg(2016, "integrated", "hg-files.zip")

# 'survey' can also be entered as a symbol
ce_hg(2016, integrated, "hg-files.zip")

## End(Not run)
</code></pre>

<hr>
<h2 id='ce_mean'>Calculate a CE weighted mean</h2><span id='topic+ce_mean'></span>

<h3>Description</h3>

<p>Calculate a weighted mean using the method used to produce
official CE estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ce_mean(ce_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ce_mean_+3A_ce_data">ce_data</code></td>
<td>
<p>A data frame containing at least a finlwt21 column,
44 replicate weight columns (wtrep01-44), a cost column, and a survey
indicator column. All but the survey column must be numeric.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 1-row dataframe containing the following columns:
</p>

<ul>
<li><p> agg_exp - The estimated aggregate expenditure
</p>
</li>
<li><p> mean_exp - The estimated mean expenditure
</p>
</li>
<li><p> se - The estimated standard error of the estimated mean expenditure
</p>
</li>
<li><p> cv - The coefficient of variation of the estimated mean expenditure
</p>
</li></ul>



<h3>Note</h3>

<p>Estimates produced using PUMD, which is topcoded by the CE and has some
records suppressed to protect respondent confidentiality, will not match the
published estimates released by the CE in most cases. The CE's published
estimates are based on confidential data that are not topcoded nor have
records suppressed. You can learn more at
<a href="https://www.bls.gov/cex/pumd_disclosure.htm">CE Protection of Respondent Confidentiality</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ce_quantiles">ce_quantiles()</a></code> <code><a href="#topic+ce_prepdata">ce_prepdata()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Download the HG file keeping the section for expenditures on utilities
## Not run: 
utils_hg &lt;- ce_hg(2017, interview) |&gt;
  ce_uccs("Utilities, fuels, and public services", uccs_only = FALSE)

## End(Not run)

# Download and prepare interview data
## Not run: 
utils_interview &lt;- ce_prepdata(
  2017,
  interview,
  uccs = ce_uccs(utils_hg, "Utilities, fuels, and public services"),
  zp = NULL,
  integrate_data = FALSE,
  hg = utils_hg,
  bls_urbn
)

## End(Not run)

# Calculate the mean expenditure on utilities
## Not run: ce_mean(utils_interview)

# Calculate the mean expenditure on utilities by urbanicity
## Not run: 
utils_interview |&gt;
  tidyr::nest(-bls_urbn) |&gt;
  mutate(mean_utils = purrr::map(data, ce_mean)) |&gt;
  select(-data) |&gt;
  unnest(mean_utils)

## End(Not run)

</code></pre>

<hr>
<h2 id='ce_prepdata'>Prepare CE data for calculating an estimated mean or median</h2><span id='topic+ce_prepdata'></span>

<h3>Description</h3>

<p>Reads in the family characteristics (FMLI/-D) and expenditure
tabulation (MTBI/EXPD) files and merges the relevant data for calculating a
weighted mean or median.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ce_prepdata(
  year,
  survey,
  hg,
  uccs,
  ...,
  int_zp = NULL,
  dia_zp = NULL,
  recode_variables = FALSE,
  dict_path = NULL,
  own_codebook = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ce_prepdata_+3A_year">year</code></td>
<td>
<p>A year between 1997 and the last year of available CE PUMD.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_survey">survey</code></td>
<td>
<p>One of either interview, diary, or integrated as a character or
symbol.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_hg">hg</code></td>
<td>
<p>A data frame that has, at least, the title, level, ucc, and
factor columns of a CE HG file. Calling <code><a href="#topic+ce_hg">ce_hg()</a></code> will generate a
valid HG file.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_uccs">uccs</code></td>
<td>
<p>A character vector of UCCs corresponding to expenditure
categories in the hierarchical grouping (HG) for a given year and survey.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_...">...</code></td>
<td>
<p>Variables to include in the dataset from the family
characteristics file. This is intended to allow the user to calculate
estimates for subsets of the data.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_int_zp">int_zp</code></td>
<td>
<p>String indicating the path of the Interview data zip file(s) if
already stored. If the file(s) does not exist its corresponding zip file will
be stored in that path. The default is <code>NULL</code> which causes the zip file
to be stored in temporary memory during function operation.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_dia_zp">dia_zp</code></td>
<td>
<p>Same as <code>int_zp</code> above, but for Diary data.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_recode_variables">recode_variables</code></td>
<td>
<p>A logical indicating whether to recode all coded
variables except 'UCC' using the codes in the CE's excel dictionary which can
be downloaded from the
<a href="https://www.bls.gov/cex/pumd_doc.htm">CE Documentation Page</a></p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_dict_path">dict_path</code></td>
<td>
<p>A string indicating the path where the CE PUMD dictionary
is stored if already stored. If the file does not exist and
<code>recode_variables = TRUE</code> the dictionary will be stored in this path.
The default is <code>NULL</code> which causes the zip file to be stored in
temporary memory during function operation. Automatically changed to
<code>NULL</code> if a valid input for <code>own_codebook</code> is given.</p>
</td></tr>
<tr><td><code id="ce_prepdata_+3A_own_codebook">own_codebook</code></td>
<td>
<p>An optional data frame containing a user-defined codebook
containing the same columns as the CE Dictionary &quot;Codes &quot; sheet. If the input
is not a data frame or does not have all of the required columns, the
function will give an error message. See details for the required columns.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>CE microdata include 45 weights. The primary weight that is used for
calculating estimated means and medians is finlwt21. The 44 replicate weights
are computed using Balanced Repeated Replication (BRR) and are used for
calculating weighted standard errors.
</p>
<p>&quot;Months in scope&quot; refers to the proportion of the data collection quarter for
which a CU reported expenditures. For the Diary survey the months in scope is
always 3 because the expenditure data collected are meant to be reported for
the quarter in which they are collected. The Interview Survey, on the other
hand, is a quarterly, rolling, recall survey and the CU's report expenditures
for the 3 months previous to the month in which the data are collected. For
example, if a CU was interviewed in February 2017, then they would be
providing data for November 2016, December 2016, and January 2017. If one is
calculating a weighted estimated mean for the 2017 calendar year, then only
the January 2017 data would be &quot;in scope.&quot;
</p>
<p>CE data are reported quarterly, but the sum of the weights (finlwt21) is
for all CU's is meant to represent the total number of U.S. CU's for a given
year. Since a calculating a calendar year estimate requires the use of 4
quarters of data and the sum of the weights in each quarter equals the
number of households in the U.S. for a given year, adding up the sums of the
weights in the 4 quarters of data would yield a total number of households
that is approximately 4 times larger than the actual number of households in
the U.S. in the corresponding year.
</p>
<p>Since some UCC's can appear in both surveys, for the purposes of integration,
the CE has a source selection procedure by which to choose which source data
will be taken from for a given UCC. For example, of the 4 UCC's in the &quot;Pets&quot;
category in 2017 two were sourced for publication from the Diary and two from
the Interview. Please download the CE Source Selection Document for a
complete listing: <a href="https://www.bls.gov/cex/ce_source_integrate.xlsx">https://www.bls.gov/cex/ce_source_integrate.xlsx</a>.
</p>
<p>Family characteristic variables added through &quot;...&quot; will be read in as
character data type.
</p>


<h3>Value</h3>

<p>A data frame containing the following columns:
</p>

<ul>
<li><p> newid - A consumer unit (CU), or household, identifier
</p>
</li>
<li><p> finlwt21 - CU weight variable
</p>
</li>
<li><p> wtrep01 through wtrep44 - CU replicate weight variables (see details)
</p>
</li>
<li><p> ... - Any family characteristics variables that were kept
</p>
</li>
<li><p> mo_scope - Months in scope (see details)
</p>
</li>
<li><p> popwt - An adjusted weight meant to account for the fact that a CUs
value of finlwt21 is meant to be representative of only 1 quarter of
data (see details)
</p>
</li>
<li><p> ucc - The UCC for a given expenditure
</p>
</li>
<li><p> ref_yr - The year in which the corresponding expenditure occurred
</p>
</li>
<li><p> ref_mo - The month in which the corresponding expenditure occurred
</p>
</li>
<li><p> cost - The value of the expenditure (in U.S. Dollars)
</p>
</li>
<li><p> survey - An indicator of which survey the data come from: &quot;I&quot; for
Interview and &quot;D&quot; for Diary.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# The following workflow will prepare a dataset for calculating integrated
# pet expenditures for 2021 keep the "sex_ref" variable in the data to
# potentially calculate means by sex of the reference person.

# First generate an HG file
my_hg &lt;- ce_hg(2021, integrated, "CE-HG-Inter-2021.txt")

# Store a vector of UCC's in the "Pets" category
pet_uccs &lt;- ce_uccs(my_hg, "Pets")

# Store the diary data (not run)
pets_dia &lt;- ce_prepdata(
  year = 2021,
  survey = integrated,
  uccs = pet_uccs,
  integrate_data = FALSE,
  hg = my_hg,
  dia_zip = "diary21.zip"
  sex_ref
)

## End(Not run)
</code></pre>

<hr>
<h2 id='ce_quantiles'>Calculate a CE weighted quantiles</h2><span id='topic+ce_quantiles'></span>

<h3>Description</h3>

<p>Calculate a CE weighted quantiles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ce_quantiles(ce_data, probs = 0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ce_quantiles_+3A_ce_data">ce_data</code></td>
<td>
<p>A data frame containing at least a finlwt21 column and a cost
column. Both columns must be numeric.</p>
</td></tr>
<tr><td><code id="ce_quantiles_+3A_probs">probs</code></td>
<td>
<p>A numeric vector of probabilities between 0 and 1 for which to
compute quantiles. Default is 0.5 (median).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A two-column data frame in which the first column contains the
probabilities for which quantiles were calculated and their corresponding
quantiles in the second column.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ce_mean">ce_mean()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download the HG file keeping the section for expenditures on utilities
utils_hg &lt;- ce_hg(2017, interview) |&gt;
  ce_uccs("Utilities, fuels, and public services", uccs_only = FALSE)

# Download and prepare interview data
utils_interview &lt;- ce_prepdata(
  2017,
  interview,
  uccs = ce_uccs(utils_hg, "Utilities, fuels, and public services"),
  zp = NULL,
  integrate_data = FALSE,
  hg = utils_hg,
  bls_urbn
)

# Calculate the 25%, 50%, and 75% utilities expenditure quantiles
ce_quantiles(utils_interview)

# Calculate the 25%, 50%, and 75% utilities expenditure quantiles by
# urbanicity
utils_interview |&gt;
  tidyr::nest(-bls_urbn) |&gt;
  mutate(quant_utils = purrr::map(data, ce_quantiles, c(0.25, 0.5, 0.75))) |&gt;
  select(-data) |&gt;
  unnest(quant_utils)

## End(Not run)
</code></pre>

<hr>
<h2 id='ce_uccs'>Find UCCs for expenditure categories</h2><span id='topic+ce_uccs'></span>

<h3>Description</h3>

<p>Find UCCs for expenditure categories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ce_uccs(hg, expenditure = NULL, ucc_group = NULL, uccs_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ce_uccs_+3A_hg">hg</code></td>
<td>
<p>A data frame that has, at least, the title, level, and ucc
columns of a CE HG file.</p>
</td></tr>
<tr><td><code id="ce_uccs_+3A_expenditure">expenditure</code></td>
<td>
<p>A string that is an expenditure category contained in a
CE HG file (exact match required). Either expenditure or ucc_group is
required. The default is NULL.</p>
</td></tr>
<tr><td><code id="ce_uccs_+3A_ucc_group">ucc_group</code></td>
<td>
<p>A string indicating an expenditure category by UCC group in
a CE HG file (exact match required). Either expenditure or ucc_group is
required. The default is NULL.</p>
</td></tr>
<tr><td><code id="ce_uccs_+3A_uccs_only">uccs_only</code></td>
<td>
<p>A logical indicating whether to return only the expenditure
category's component ucc's. If TRUE (default), a vector of UCC's will be
returned. If FALSE, a dataframe will be returned containing the section of
the HG file containing the expenditure category and its component sub-
categories</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both a valid expenditure and valid ucc_group are input, ucc_group
will be used.
</p>


<h3>Value</h3>

<p>A vector of Universal Classification Codes (UCC's) corresponding to
the lowest hierarchical level for that category.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# First generate an HG file
my_hg &lt;- ce_hg(2021, interview, hg_file_path = "CE-HG-Inter-2021.txt")

# Store a vector of UCC's in the "Pets" category
pet_uccs &lt;- ce_uccs(my_hg, "Pets")
pet_uccs
# [1] "610320" "620410" "620420"

## End(Not run)
</code></pre>

<hr>
<h2 id='get_survey_files'>Generate tables of the necessary survey data files</h2><span id='topic+get_survey_files'></span>

<h3>Description</h3>

<p>Generate tables of the necessary survey data files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_survey_files(year, survey, file_yrs, qtrs, zp_file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_survey_files_+3A_year">year</code></td>
<td>
<p>A year between 1996 and the last year of available CE PUMD.</p>
</td></tr>
<tr><td><code id="get_survey_files_+3A_survey">survey</code></td>
<td>
<p>One of either interview, diary, or integrated as a character or
symbol.</p>
</td></tr>
<tr><td><code id="get_survey_files_+3A_file_yrs">file_yrs</code></td>
<td>
<p>The substrings of years for which to pull data, i.e., for
some years files have to be pulled from across different files.</p>
</td></tr>
<tr><td><code id="get_survey_files_+3A_qtrs">qtrs</code></td>
<td>
<p>The quarters to be included in the analysis for a given year.</p>
</td></tr>
<tr><td><code id="get_survey_files_+3A_zp_file">zp_file</code></td>
<td>
<p>Character indicating the zip file containing the CE PUMD for a
given year</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a hidden file called only by exported package functions.
</p>

<hr>
<h2 id='read.expd'>Read in and modify EXPD files</h2><span id='topic+read.expd'></span>

<h3>Description</h3>

<p>Read in and modify EXPD files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.expd(fp, zp, year, uccs, integrate_data, hg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.expd_+3A_fp">fp</code></td>
<td>
<p>File to extract from zip file</p>
</td></tr>
<tr><td><code id="read.expd_+3A_zp">zp</code></td>
<td>
<p>Zip file path</p>
</td></tr>
<tr><td><code id="read.expd_+3A_year">year</code></td>
<td>
<p>Year</p>
</td></tr>
<tr><td><code id="read.expd_+3A_uccs">uccs</code></td>
<td>
<p>Vector of UCC's to filter for</p>
</td></tr>
<tr><td><code id="read.expd_+3A_integrate_data">integrate_data</code></td>
<td>
<p>Whether to prepare data for integrated estimates</p>
</td></tr>
<tr><td><code id="read.expd_+3A_hg">hg</code></td>
<td>
<p>Hierarchical grouping data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a hidden file called only by exported package functions.
</p>

<hr>
<h2 id='read.fmld'>Read in and modify FMLD files</h2><span id='topic+read.fmld'></span>

<h3>Description</h3>

<p>Read in and modify FMLD files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.fmld(fp, zp, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.fmld_+3A_fp">fp</code></td>
<td>
<p>File to extract from zip file</p>
</td></tr>
<tr><td><code id="read.fmld_+3A_zp">zp</code></td>
<td>
<p>Zip file path</p>
</td></tr>
<tr><td><code id="read.fmld_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Additional variables to keep
(intended for grouping)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a hidden file called only by exported package functions.
</p>

<hr>
<h2 id='read.fmli'>Read in and modify FMLI files</h2><span id='topic+read.fmli'></span>

<h3>Description</h3>

<p>Read in and modify FMLI files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.fmli(fp, zp, year, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.fmli_+3A_fp">fp</code></td>
<td>
<p>File to extract from zip file</p>
</td></tr>
<tr><td><code id="read.fmli_+3A_zp">zp</code></td>
<td>
<p>Zip file path within ce_dir</p>
</td></tr>
<tr><td><code id="read.fmli_+3A_year">year</code></td>
<td>
<p>Year</p>
</td></tr>
<tr><td><code id="read.fmli_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Additional variables to keep
(intended for grouping)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a hidden file called only by exported package functions.
</p>

<hr>
<h2 id='read.mtbi'>Read in and modify MTBI files</h2><span id='topic+read.mtbi'></span>

<h3>Description</h3>

<p>Read in and modify MTBI files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.mtbi(fp, zp, year, uccs, integrate_data, hg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.mtbi_+3A_fp">fp</code></td>
<td>
<p>File to extract from zip file</p>
</td></tr>
<tr><td><code id="read.mtbi_+3A_zp">zp</code></td>
<td>
<p>Zip file path</p>
</td></tr>
<tr><td><code id="read.mtbi_+3A_year">year</code></td>
<td>
<p>Year</p>
</td></tr>
<tr><td><code id="read.mtbi_+3A_uccs">uccs</code></td>
<td>
<p>Vector of UCC's to filter for</p>
</td></tr>
<tr><td><code id="read.mtbi_+3A_integrate_data">integrate_data</code></td>
<td>
<p>Whether to prepare data for integrated estimates</p>
</td></tr>
<tr><td><code id="read.mtbi_+3A_hg">hg</code></td>
<td>
<p>Hierarchical grouping data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a hidden file called only by exported package functions.
</p>

<hr>
<h2 id='recode_ce_variables'>Recode variables in interview and diary data</h2><span id='topic+recode_ce_variables'></span>

<h3>Description</h3>

<p>Recode variables in interview and diary data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recode_ce_variables(srvy_data, code_file, srvy)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recode_ce_variables_+3A_srvy_data">srvy_data</code></td>
<td>
<p>A data frame containing either Interview or Diary data that
has been prepped</p>
</td></tr>
<tr><td><code id="recode_ce_variables_+3A_code_file">code_file</code></td>
<td>
<p>A dataframe containing variable names, codes,
code descriptions, and other required columns for recoding variables</p>
</td></tr>
<tr><td><code id="recode_ce_variables_+3A_srvy">srvy</code></td>
<td>
<p>The survey instrument to be recoded (this is for filtering
the codebook)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a hidden file called only by exported package functions.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

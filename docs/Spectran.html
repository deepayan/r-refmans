<!DOCTYPE html><html lang="en"><head><title>Help for package Spectran</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Spectran}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Spectran-package'><p>Spectran: Visual and Non-Visual Spectral Analysis of Light</p></a></li>
<li><a href='#ColorP'><p>Hex Color pallets for Spectran</p></a></li>
<li><a href='#examplespectra'><p>Example spectra used by Spectran</p></a></li>
<li><a href='#examplespectra_descriptor'><p>Details on the example spectra used by Spectran</p></a></li>
<li><a href='#Specs'><p><code>Spec</code>ifications for visual and nonvisual data wrangling and plotting</p></a></li>
<li><a href='#Spectran'><p>Unlock the Spectrum: Easy, Educational, and Engaging Analysis of Light Spectra</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Visual and Non-Visual Spectral Analysis of Light</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>
 Analyse light spectra for visual and non-visual (often called
 melanopic) needs, wrapped up in a Shiny App. 'Spectran' allows for the import
 of spectra in various CSV forms but also provides a wide range of example
 spectra and even the creation of own spectral power distributions. The goal of
 the app is to provide easy access and a visual overview of the spectral
 calculations underlying common parameters used in the field. It is thus ideal
 for educational purposes or the creation of presentation ready graphs in
 lighting research and application. 'Spectran' uses equations and action spectra
 described in CIE S026 (2018) &lt;<a href="https://doi.org/10.25039%2FS026.2018">doi:10.25039/S026.2018</a>&gt;, DIN/TS 5031-100 (2021)
 &lt;<a href="https://doi.org/10.31030%2F3287213">doi:10.31030/3287213</a>&gt;, and ISO/CIE 23539 (2023)
 &lt;<a href="https://doi.org/10.25039%2FIS0.CIE.23539.2023">doi:10.25039/IS0.CIE.23539.2023</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>chromote, colorSpec, cowplot, dplyr, gghighlight, ggplot2,
ggrepel, ggridges, ggtext, grid, gt, htmltools, magrittr,
openxlsx, pagedown, patchwork, png, purrr, readr, rlang,
scales, shiny, shinyalert, shinydashboard, shinyFeedback,
shinyjs, shinyWidgets, spacesXYZ, spsComps, stats, stringr,
tibble, tidyr, tidyselect, utils, waiter, webshot2, withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>config, here, magick, pkgload, readxl, rhub, rmarkdown,
rsconnect</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/LiTGde/Spectran">https://github.com/LiTGde/Spectran</a>,
<a href="https://litgde.github.io/Spectran/">https://litgde.github.io/Spectran/</a>,
<a href="https://doi.org/10.5281/zenodo.11518043">https://doi.org/10.5281/zenodo.11518043</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/LiTGde/Spectran/issues">https://github.com/LiTGde/Spectran/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-03 16:53:28 UTC; zauner</td>
</tr>
<tr>
<td>Author:</td>
<td>Johannes Zauner <a href="https://orcid.org/0000-0003-2171-4566"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  LiTG [fnd, cph] (URL: www.litg.de)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Johannes Zauner &lt;spectran@litg.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-04 07:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='Spectran-package'>Spectran: Visual and Non-Visual Spectral Analysis of Light</h2><span id='topic+Spectran-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Analyse light spectra for visual and non-visual (often called melanopic) needs, wrapped up in a Shiny App. 'Spectran' allows for the import of spectra in various CSV forms but also provides a wide range of example spectra and even the creation of own spectral power distributions. The goal of the app is to provide easy access and a visual overview of the spectral calculations underlying common parameters used in the field. It is thus ideal for educational purposes or the creation of presentation ready graphs in lighting research and application. 'Spectran' uses equations and action spectra described in CIE S026 (2018) <a href="https://doi.org/10.25039/S026.2018">doi:10.25039/S026.2018</a>, DIN/TS 5031-100 (2021) <a href="https://doi.org/10.31030/3287213">doi:10.31030/3287213</a>, and ISO/CIE 23539 (2023) <a href="https://doi.org/10.25039/IS0.CIE.23539.2023">doi:10.25039/IS0.CIE.23539.2023</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Johannes Zauner <a href="mailto:spectran@litg.de">spectran@litg.de</a> (<a href="https://orcid.org/0000-0003-2171-4566">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> LiTG (www.litg.de) [funder, copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/LiTGde/Spectran">https://github.com/LiTGde/Spectran</a>
</p>
</li>
<li> <p><a href="https://litgde.github.io/Spectran/">https://litgde.github.io/Spectran/</a>
</p>
</li>
<li> <p><a href="https://doi.org/10.5281/zenodo.11518043">doi:10.5281/zenodo.11518043</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/LiTGde/Spectran/issues">https://github.com/LiTGde/Spectran/issues</a>
</p>
</li></ul>


<hr>
<h2 id='ColorP'>Hex Color pallets for Spectran</h2><span id='topic+ColorP'></span>

<h3>Description</h3>

<p>Contains named vectors of Hex color codes for Spectran's color pallets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ColorP
</code></pre>


<h3>Format</h3>

<p><code>ColorP</code> A list containing 5 elements, each a named vector of colors
</p>

<dl>
<dt>Lang</dt><dd><p>401 colors along the spectrum that make a nice, yet nonaccurate representation of the visible spectrum. Created from a picture provided by <code style="white-space: pre;">&#8288;Dieter Lang&#8288;</code>.</p>
</dd>
<dt>Lang_bright</dt><dd><p>same as <code>Lang</code> but with a slightly brightened version of the picture. Strikes a nice balance between &quot;accuracy&quot; and &quot;nice colors&quot;. Is the default when starting <code><a href="#topic+Spectran">Spectran()</a></code></p>
</dd>
<dt>Dan_Bruton</dt><dd><p>401 colors along the spectrum that were made with the <code>cooltools::wavelength2col()</code> function and are based on Fortran Code by Dan_Bruton. Probably most accurate, but black at both spectral ends, which does not represent the colors themselves but also human sensitivity to them.</p>
</dd>
<dt>Rainbow</dt><dd><p>401 colors along the spectrum that make a vibrant and pleasing, yet nonaccurate representation of the visible spectrum. Created by the <code><a href="grDevices.html#topic+palettes">grDevices::rainbow()</a></code> function.</p>
</dd>
<dt>Color_Rendering</dt><dd><p>14 colors that represent the reference colors used to determine the color rendering index.</p>
</dd>
</dl>



<h3>Source</h3>

<p><code><a href="grDevices.html#topic+palettes">grDevices::rainbow()</a></code>
</p>
<p><a href="https://github.com/obreschkow/cooltools">cooltools</a>
</p>
<p><a href="https://github.com/LiTGde/Spectran/issues/14">https://github.com/LiTGde/Spectran/issues/14</a>
</p>

<hr>
<h2 id='examplespectra'>Example spectra used by Spectran</h2><span id='topic+examplespectra'></span>

<h3>Description</h3>

<p>Contains Measurement and CIE Standard Illuminant Spectra. Additional data to the spectra can be found in the <a href="#topic+examplespectra_descriptor">examplespectra_descriptor</a> dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>examplespectra
</code></pre>


<h3>Format</h3>

<p><code>examplespectra</code> A list of two elements, each containing a table of spectral data
</p>

<dl>
<dt>Measurement</dt><dd><p>Spectral data measured by a spectroradiometer. The unit of the wavelength (Wellenlaenge) is nm, the unit of the spectral data is W/m^2.</p>
</dd>
<dt>CIE</dt><dd><p>Spectral data from the CIE describing Standard Illuminants. The unit of the wavelength (Wellenlaenge) is nm, the unit of the spectral data is W/m^2.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://cie.co.at/data-tables">https://cie.co.at/data-tables</a>
</p>

<hr>
<h2 id='examplespectra_descriptor'>Details on the example spectra used by Spectran</h2><span id='topic+examplespectra_descriptor'></span>

<h3>Description</h3>

<p>Contains additional details on the measurement and CIE Standard Illuminant Spectra collected in <a href="#topic+examplespectra">examplespectra</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>examplespectra_descriptor
</code></pre>


<h3>Format</h3>

<p><code>examplespectra_descriptor</code> A list with an element per language. The following description covers elements within each language element, which is a tibble with 11 rows and 8 columns.
</p>

<dl>
<dt>Name</dt><dd><p>Category of the spectrum (short)</p>
</dd>
<dt>Beschreibung</dt><dd><p>Short description of the category of the spectrum</p>
</dd>
<dt>Identifier</dt><dd><p>A list of character vectors containing the unique identifiers of each spectrum</p>
</dd>
<dt>Button_Name</dt><dd><p>A list of character vectors containing the text to be displayed on the buttons for each spectrum</p>
</dd>
<dt>Dateinamen</dt><dd><p>A list of character vectors containing the text used for the download-filenames</p>
</dd>
<dt>URL</dt><dd><p>A character vector with URLs to videos giving some context to the measurements or NA, in which case nothing will be displayed</p>
</dd>
<dt>embargo</dt><dd><p>A logical vector that indicates whether a special message should be displayed before downloading this spectrum</p>
</dd>
<dt>download</dt><dd><p>A list of named character vectors containing a short description of the spectrum.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://cie.co.at/data-tables">https://cie.co.at/data-tables</a>
</p>

<hr>
<h2 id='Specs'><code>Spec</code>ifications for visual and nonvisual data wrangling and plotting</h2><span id='topic+Specs'></span>

<h3>Description</h3>

<p>Contains vectors and tables that are the main basis for the calculations
Spectran does and also contain basic naming and coloring conventions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Specs
</code></pre>


<h3>Format</h3>

<p><code>Specs</code> A list with 7 elements
</p>

<dl>
<dt>AS_wide</dt><dd><p>A table of action spectra for the 5 human receptor types and V(lambda) from 1924. The table is in the wide format. The unit of the wavelength (Wellenlaenge) is nm, the unit of the action spectrum is 1 (dimensionless).</p>
</dd>
<dt>AS_long</dt><dd><p>A table of action spectra for the 5 human receptor types and V(lambda) from 1924. The table is in the long format. The unit of the wavelength (Wellenlaenge) is nm, the unit of the action spectrum is 1 (dimensionless).</p>
</dd>
<dt>Efficacy</dt><dd><p>A named vector of inverse values of efficacy of luminous radiation for the 5 human receptor types and V(lambda) from 1924. The unit is lm/W.</p>
</dd>
<dt>Alpha</dt><dd><p>A list. <code>names</code> contains the names of the 5 human receptor types. <code>adjectives</code> contains these names in their adjective form for every languages included in Spectran. <code>descriptions</code> contains the descriptions used for tables and plotting. <code>abb</code> contains the abbreviations (if any) used for the equivalent daylight illuminance for that receptor type.</p>
</dd>
<dt>Vlambda</dt><dd><p>A character scalar containing the properly escaped version of V(lambda), used e.g. in Plots</p>
</dd>
<dt>Alpha.ico</dt><dd><p>A character scalar containing the properly escaped version of the sign <code>alpha</code>, used e.g. in Plots</p>
</dd>
<dt>Plot</dt><dd><p>A table of Peak Wavelength (nm) values, Names, Abbreviations, and colors for the 5 human receptor types and V(lambda) from 1924. This table is mainly used for plotting.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://cie.co.at/publications/cie-system-metrology-optical-radiation-iprgc-influenced-responses-light-0">CIE S026</a>
</p>
<p><a href="https://www.dinmedia.de/de/vornorm/din-ts-5031-100/343737176">DIN/TS 5031-100</a>
</p>

<hr>
<h2 id='Spectran'>Unlock the Spectrum: Easy, Educational, and Engaging Analysis of Light Spectra</h2><span id='topic+Spectran'></span>

<h3>Description</h3>

<p>Unlock the Spectrum: Easy, Educational, and Engaging Analysis of Light Spectra
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Spectran(
  lang_setting = "English",
  lang_link = FALSE,
  color_palette = "Lang",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Spectran_+3A_lang_setting">lang_setting</code></td>
<td>
<p>A language for the application. Currently <strong>Deutsch</strong> for German and <strong>English</strong> (default) are implemented. Expects a <em>character</em>.</p>
</td></tr>
<tr><td><code id="Spectran_+3A_lang_link">lang_link</code></td>
<td>
<p>Only relevant for the App deployed on <em>Shinyapps.io</em>. Handles whether a link to the German/English Version of the App is present in the header. Expects a <em>logical</em> (default FALSE)</p>
</td></tr>
<tr><td><code id="Spectran_+3A_color_palette">color_palette</code></td>
<td>
<p>A color palette for the application. Currently <code style="white-space: pre;">&#8288;**Lang**&#8288;</code> (default), <code style="white-space: pre;">&#8288;**Lang_bright**&#8288;</code>, <code style="white-space: pre;">&#8288;**Dan_Bruton**&#8288;</code>, and <code style="white-space: pre;">&#8288;**Rainbow**&#8288;</code> are implemented. Expects a <code style="white-space: pre;">&#8288;*character*&#8288;</code>. In terms of <code style="white-space: pre;">&#8288;color accuracy&#8288;</code>, the decending order is likely <code style="white-space: pre;">&#8288;**Dan_Bruton**&#8288;</code>, <code style="white-space: pre;">&#8288;**Lang**&#8288;</code>, <code style="white-space: pre;">&#8288;**Lang_bright**&#8288;</code>, and <code style="white-space: pre;">&#8288;**Rainbow**&#8288;</code>. However, all of them are wrong in the sense, that monochromatic light can not well be recreated with RGB colors. Look at the documentation for <a href="#topic+ColorP">ColorP</a> for more information about these palettes.</p>
</td></tr>
<tr><td><code id="Spectran_+3A_...">...</code></td>
<td>
<p>Any other settings that get passed to shinyApp</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Open a viewer with the shiny app
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
Spectran()}

#try another language
if(interactive()) {
Spectran(lang_setting = "Deutsch")}

#or try another color palette
if(interactive()) {
Spectran(color_palette = "Dan_Bruton")}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

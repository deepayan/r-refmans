<!DOCTYPE html><html><head><title>Help for package r2spss</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {r2spss}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ANOVA'><p>One-way and Two-way ANOVA</p></a></li>
<li><a href='#box_plot'><p>Box Plots</p></a></li>
<li><a href='#chisq_test'><p><code class="reqn">\chi^{2}</code> Tests</p></a></li>
<li><a href='#descriptives'><p>Descriptive Statistics</p></a></li>
<li><a href='#Eredivisie'><p>Football players of the Dutch Eredivisie season 2013-14</p></a></li>
<li><a href='#Exams'><p>Exam results of an applied statistics course</p></a></li>
<li><a href='#format_SPSS'><p>Format Objects</p></a></li>
<li><a href='#histogram'><p>Histogram</p></a></li>
<li><a href='#kruskal_test'><p>Kruskal-Wallis Test</p></a></li>
<li><a href='#labels_SPSS'><p>Format axis tick labels similar to SPSS</p></a></li>
<li><a href='#line_plot'><p>Line Plots</p></a></li>
<li><a href='#palette_SPSS'><p>SPSS Color Palette and Color Scales</p></a></li>
<li><a href='#r2spss_options'><p>Options for package r2spss</p></a></li>
<li><a href='#r2spss-deprecated'><p>Deprecated plot functions in r2spss</p></a></li>
<li><a href='#r2spss-package'><p>Format R Output to Look Like SPSS</p></a></li>
<li><a href='#r2spss.sty'><p>Create the LaTeX style file for 'r2spss'</p></a></li>
<li><a href='#regression'><p>Linear Regression</p></a></li>
<li><a href='#scatter_plot'><p>Scatter Plot and Scatter Plot Matrix</p></a></li>
<li><a href='#sign_test'><p>Sign Test</p></a></li>
<li><a href='#t_test'><p>t Tests</p></a></li>
<li><a href='#theme_SPSS'><p>Plot theme to mimic the look of SPSS graphs</p></a></li>
<li><a href='#to_latex'><p>Print LaTeX Tables that Mimic the Look of SPSS Output</p></a></li>
<li><a href='#to_SPSS'><p>Convert R Objects to SPSS-Style Tables</p></a></li>
<li><a href='#trimmed_mean'><p>Trimmed mean</p></a></li>
<li><a href='#wilcoxon_test'><p>Wilcoxon Signed Rank and Rank Sum Tests</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Format R Output to Look Like SPSS</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-05-25</td>
</tr>
<tr>
<td>Description:</td>
<td>Create plots and LaTeX tables that look like SPSS output for use in teaching materials.  Rather than copying-and-pasting SPSS output into documents, R code that mocks up SPSS output can be integrated directly into dynamic LaTeX documents with tools such as knitr.  Functionality includes statistical techniques that are typically covered in introductory statistics classes: descriptive statistics, common hypothesis tests, ANOVA, and linear regression, as well as box plots, histograms, scatter plots, and line plots (including profile plots).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/aalfons/r2spss">https://github.com/aalfons/r2spss</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/aalfons/r2spss/issues">https://github.com/aalfons/r2spss/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), ggplot2 (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, scales, stats, car</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Alfons <a href="https://orcid.org/0000-0002-2513-3788"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-25 10:01:22 UTC; andreas</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-25 11:00:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='ANOVA'>One-way and Two-way ANOVA</h2><span id='topic+ANOVA'></span><span id='topic+to_SPSS.ANOVA_SPSS'></span><span id='topic+print.ANOVA_SPSS'></span><span id='topic+plot.ANOVA_SPSS'></span>

<h3>Description</h3>

<p>Perform one-way or two-way ANOVA on variables of a data set.  The output is
printed as a LaTeX table that mimics the look of SPSS output, and a profile
plot of the results mimics the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ANOVA(data, variable, group, conf.level = 0.95)

## S3 method for class 'ANOVA_SPSS'
to_SPSS(
  object,
  statistics = c("test", "variance", "descriptives"),
  version = r2spss_options$get("version"),
  digits = 3,
  ...
)

## S3 method for class 'ANOVA_SPSS'
print(
  x,
  statistics = c("descriptives", "variance", "test"),
  version = r2spss_options$get("version"),
  ...
)

## S3 method for class 'ANOVA_SPSS'
plot(x, y, which = 1, version = r2spss_options$get("version"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ANOVA_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_variable">variable</code></td>
<td>
<p>a character string specifying the numeric variable of
interest.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_group">group</code></td>
<td>
<p>a character vector specifying one or two grouping variables.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_conf.level">conf.level</code></td>
<td>
<p>a number between 0 and 1 giving the confidence level of
the confidence interval.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_object">object</code>, <code id="ANOVA_+3A_x">x</code></td>
<td>
<p>an object of class <code>"ANOVA_SPSS"</code> as returned by
function <code>ANOVA</code>.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_statistics">statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"descriptives"</code> for descriptive
statistics, <code>"variance"</code> for Levene's test on homogeneity of the
variances, and <code>"test"</code> for ANOVA results.  For the <code>to_SPSS</code>
method, only one option is allowed (the default is the table of ANOVA
results), but the <code>print</code> method allows several options (the default
is to print all tables).</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table or plot
should mimic the content and look of recent SPSS versions (<code>"modern"</code>)
or older versions (&lt;24; <code>"legacy"</code>).  For the table, the main
differences in terms of content are that recent versions include different
variations of Levene's test, and that small p-values are displayed
differently.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_digits">digits</code></td>
<td>
<p>an integer giving the number of digits after the comma to be
printed in the SPSS tables.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_...">...</code></td>
<td>
<p>for  the <code>to_SPSS</code> and <code>print</code> methods, additional
arguments to be passed down to <code><a href="#topic+format_SPSS">format_SPSS</a></code>.  For the
<code>plot</code> method, additional arguments to be passed down to
<code><a href="#topic+linesSPSS">linesSPSS</a></code>, in particular graphical parameters.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_y">y</code></td>
<td>
<p>ignored (only included because it is defined for the generic
function <code><a href="graphics.html#topic+plot">plot</a></code>).</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_which">which</code></td>
<td>
<p>for two-way ANOVA, an integer with possible values <code>1</code> or
<code>2</code> indicating whether the first or the second factor should be used on
the <code class="reqn">x</code>-axis.  The other factor will then be used for drawing separate
lines.  For one-way ANOVA, this is not meaningful and ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p><code>ANOVA</code> returns an object of class <code>"ANOVA_SPSS"</code> with the
following components:
</p>

<dl>
<dt><code>descriptives</code></dt><dd><p>a data frame containing per-group descriptive
statistics.</p>
</dd>
<dt><code>levene</code></dt><dd><p>an object as returned by
<code><a href="car.html#topic+leveneTest">leveneTest</a></code> (if <code>version = "legacy"</code>); or a
list of such objects containing different variations of Levene's test
(if <code>version = "modern"</code>).</p>
</dd>
<dt><code>test</code></dt><dd><p>a data frame containing the ANOVA table.</p>
</dd>
<dt><code>variable</code></dt><dd><p>a character string containing the name of the
numeric variable of interest.</p>
</dd>
<dt><code>group</code></dt><dd><p>a character vector containing the name(s) of the
grouping variable(s).</p>
</dd>
<dt><code>i</code></dt><dd><p>an integer giving the number of groups in the (first)
grouping variable.</p>
</dd>
<dt><code>j</code></dt><dd><p>an integer giving the number of groups in the second
grouping variable (only two-way ANOVA).</p>
</dd>
<dt><code>conf.level</code></dt><dd><p>numeric; the confidence level used.</p>
</dd>
<dt><code>type</code></dt><dd><p>a character string giving the type of ANOVA performed
(<code>"one-way"</code> or <code>"two-way"</code>).</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>
<p>The <code>plot</code> method returns an object of class
<code>"<a href="ggplot2.html#topic+ggplot">ggplot</a>"</code>, which produces a profile plot of the ANOVA
results when printed.
</p>


<h3>Note</h3>

<p>The test statistic and p-value for Levene's test based on the trimmed mean
(only returned for <code>version = "modern"</code>) differ slightly from those
returned by SPSS.  Function <code><a href="#topic+trimmed_mean">trimmed_mean</a></code> rounds the number of
observations to be trimmed in a different manner than the base <span class="rlang"><b>R</b></span> function
<code><a href="base.html#topic+mean">mean</a></code>, which brings the results closer to those of SPSS, but
they are still not identical.
</p>
<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)

# one-way ANOVA
oneway &lt;- ANOVA(Eredivisie, "logMarketValue",
                group = "Position")
oneway        # print LaTeX table
plot(oneway)  # create profile plot

# two-way ANOVA
twoway &lt;- ANOVA(Eredivisie, "logMarketValue",
                group = c("Position", "Foreign"))
twoway        # print LaTeX table
plot(twoway)  # create profile plot

</code></pre>

<hr>
<h2 id='box_plot'>Box Plots</h2><span id='topic+box_plot'></span>

<h3>Description</h3>

<p>Draw box plots of variables in a data frame, including box plots for groups
of observations and box plots for separate variables.  The plots thereby
mimic the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_plot(
  data,
  variables,
  group = NULL,
  cut.names = NULL,
  style = c("T", "whiskers"),
  coef = c(1.5, 3),
  outlier.shape = c(1, 42),
  version = r2spss_options$get("version"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="box_plot_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables to be plotted.</p>
</td></tr>
<tr><td><code id="box_plot_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying separate variables to be
plotted.  If <code>group</code> is not <code>NULL</code>, only the first variable is
used and box plots of groups of observations are drawn instead.</p>
</td></tr>
<tr><td><code id="box_plot_+3A_group">group</code></td>
<td>
<p>an character string specifying a grouping variable, or
<code>NULL</code> for no grouping.</p>
</td></tr>
<tr><td><code id="box_plot_+3A_cut.names">cut.names</code></td>
<td>
<p>a logical indicating whether to cut long variable names or
group labels to 8 characters.  The default is <code>TRUE</code> for box plots of
separate variables, but <code>FALSE</code> for box plots of groups of observations
(which mimics SPSS behavior).</p>
</td></tr>
<tr><td><code id="box_plot_+3A_style">style</code></td>
<td>
<p>a character string specifying the box plot style.  Possible
values are <code>"T"</code> for T-bars (the default) or <code>"whiskers"</code> for
simple whiskers.</p>
</td></tr>
<tr><td><code id="box_plot_+3A_coef">coef</code></td>
<td>
<p>a numeric vector of length 2 giving the multipliers of the
interquartile range for determining intermediate and extreme outliers,
respectively.</p>
</td></tr>
<tr><td><code id="box_plot_+3A_outlier.shape">outlier.shape</code></td>
<td>
<p>an integer vector of length 2 giving the plot symbol
for intermediate and extreme outliers, respectively.</p>
</td></tr>
<tr><td><code id="box_plot_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the plot should mimic
the look of recent SPSS versions (<code>"modern"</code>) or older versions (&lt;24;
<code>"legacy"</code>).</p>
</td></tr>
<tr><td><code id="box_plot_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down, in particular
aesthetics (see <code><a href="ggplot2.html#topic+geom_boxplot">geom_boxplot</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"<a href="ggplot2.html#topic+ggplot">ggplot</a>"</code>, which produces
a box plot when printed.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## paired sample
# load data
data("Exams")

# plot grades on regular and resit exams
box_plot(Exams, c("Regular", "Resit"))


## independent samples

# load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)

# plot log market values of Dutch and Foreign players
box_plot(Eredivisie, "logMarketValue", group = "Foreign")

</code></pre>

<hr>
<h2 id='chisq_test'><code class="reqn">\chi^{2}</code> Tests</h2><span id='topic+chisq_test'></span><span id='topic+to_SPSS.chisq_test_SPSS'></span><span id='topic+print.chisq_test_SPSS'></span><span id='topic+chisqTest'></span>

<h3>Description</h3>

<p>Perform a <code class="reqn">\chi^{2}</code> goodness-of-fit test or a
<code class="reqn">\chi^{2}</code> test on independence on variables of
a data set.  The output is printed as a LaTeX table that mimics
the look of SPSS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chisq_test(data, variables, p = NULL)

## S3 method for class 'chisq_test_SPSS'
to_SPSS(
  object,
  statistics = c("test", "frequencies"),
  version = r2spss_options$get("version"),
  digits = c(1, 3),
  ...
)

## S3 method for class 'chisq_test_SPSS'
print(
  x,
  statistics = c("frequencies", "test"),
  version = r2spss_options$get("version"),
  digits = c(1, 3),
  ...
)

chisqTest(data, variables, p = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chisq_test_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="chisq_test_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying the categorical variable(s)
of interest.  If only one variable is specified, a goodness-of-fit test is
performed.  If two variables are specified, a test on independence is
performed (with the first variable used for the rows and the second variable
for the columns of the crosstabulation).</p>
</td></tr>
<tr><td><code id="chisq_test_+3A_p">p</code></td>
<td>
<p>a vector of probabilities for the categories in the
goodness-of-fit test.</p>
</td></tr>
<tr><td><code id="chisq_test_+3A_object">object</code>, <code id="chisq_test_+3A_x">x</code></td>
<td>
<p>an object of class <code>"chisq_test_SPSS"</code> as returned by
function <code>chisq_test</code>.</p>
</td></tr>
<tr><td><code id="chisq_test_+3A_statistics">statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"frequencies"</code> for a table of the
observed and expected frequencies, and <code>"test"</code> for test results.  For
the <code>to_SPSS</code> method, only one option is allowed (the default is the
table of test results), but the <code>print</code> method allows several options
(the default is to print all tables).</p>
</td></tr>
<tr><td><code id="chisq_test_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table should
mimic the content and look of recent SPSS versions (<code>"modern"</code>) or
older versions (&lt;24; <code>"legacy"</code>).  The main difference in terms of
content is that small p-values are displayed differently.</p>
</td></tr>
<tr><td><code id="chisq_test_+3A_digits">digits</code></td>
<td>
<p>an integer vector giving the number of digits after the comma
to be printed in the SPSS tables.  The first element corresponds to the
number of digits for the expected frequencies, and the second element
corresponds to the number of digits in the table for the test.</p>
</td></tr>
<tr><td><code id="chisq_test_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="#topic+format_SPSS">format_SPSS</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"chisq_test_SPSS"</code> with the following components:
</p>

<dl>
<dt><code>chisq</code></dt><dd><p>a list containing the results of the
<code class="reqn">\chi^{2}</code> test.</p>
</dd>
<dt><code>lr</code></dt><dd><p>a list containing the results of a likelihood ratio
test (only test on independence).</p>
</dd>
<dt><code>MH</code></dt><dd><p>a list containing the results of a Mantel-Haenszel test
of linear association (only test on independence).</p>
</dd>
<dt><code>observed</code></dt><dd><p>a table containing the observed frequencies.</p>
</dd>
<dt><code>expected</code></dt><dd><p>a vector or matrix containing the expected
frequencies.</p>
</dd>
<dt><code>n</code></dt><dd><p>an integer giving the number of observations.</p>
</dd>
<dt><code>k</code></dt><dd><p>an integer giving the number of groups (only
goodness-of-fit test).</p>
</dd>
<dt><code>r</code></dt><dd><p>an integer giving the number of groups in the first
variable corresponding to the rows (only test on independence).</p>
</dd>
<dt><code>c</code></dt><dd><p>an integer giving the number of groups in the second
variable corresponding to the columns (only test on independence).</p>
</dd>
<dt><code>variables</code></dt><dd><p>a character vector containing the name(s) of the
categorical variable(s) of interest.</p>
</dd>
<dt><code>type</code></dt><dd><p>a character string giving the type of
<code class="reqn">\chi^{2}</code> test performed (<code>"goodness-of-fit"</code>
or <code>"independence"</code>).</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>


<h3>Note</h3>

<p>The test on independence also reports the results of a likelihood
ratio test.
</p>
<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")

# test whether the traditional Dutch 4-3-3 (total football)
# is still reflected in player composition
chisq_test(Eredivisie, "Position", p = c(1, 4, 3, 3)/11)

# test whether playing position and dummy variable for
# foreign players are independent
chisq_test(Eredivisie, c("Position", "Foreign"))

</code></pre>

<hr>
<h2 id='descriptives'>Descriptive Statistics</h2><span id='topic+descriptives'></span><span id='topic+to_SPSS.descriptives_SPSS'></span><span id='topic+print.descriptives_SPSS'></span>

<h3>Description</h3>

<p>Compute descriptive statistics of numeric variables of a data set (number of
observations, minimum, maximum, mean, standard deviaiton).  The output is
printed as a LaTeX table that mimics the look of SPSS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descriptives(data, variables)

## S3 method for class 'descriptives_SPSS'
to_SPSS(object, digits = 2, ...)

## S3 method for class 'descriptives_SPSS'
print(x, version = r2spss_options$get("version"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="descriptives_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="descriptives_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying numeric variables for which
to compute descriptive statistics.</p>
</td></tr>
<tr><td><code id="descriptives_+3A_object">object</code>, <code id="descriptives_+3A_x">x</code></td>
<td>
<p>an object of class <code>"descriptives_SPSS"</code> as returned
by function <code>descriptives</code>.</p>
</td></tr>
<tr><td><code id="descriptives_+3A_digits">digits</code></td>
<td>
<p>an integer giving the number of digits after the comma to be
printed in the SPSS table.</p>
</td></tr>
<tr><td><code id="descriptives_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="#topic+format_SPSS">format_SPSS</a></code>.</p>
</td></tr>
<tr><td><code id="descriptives_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table should
mimic the look of recent SPSS versions (<code>"modern"</code>) or older versions
(&lt;24; <code>"legacy"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"descriptives_SPSS"</code> with the following components:
</p>

<dl>
<dt><code>classes</code></dt><dd><p>a character vector giving the (first) class of the
variables of interest.</p>
</dd>
<dt><code>descriptives</code></dt><dd><p>a data frame containing the descriptive
statistics.</p>
</dd>
<dt><code>n</code></dt><dd><p>an integer giving the number of observations.</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>


<h3>Note</h3>

<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")

# compute descriptive statistics for market value and age
descriptives(Eredivisie, c("MarketValue", "Age"))

</code></pre>

<hr>
<h2 id='Eredivisie'>Football players of the Dutch Eredivisie season 2013-14</h2><span id='topic+Eredivisie'></span>

<h3>Description</h3>

<p>Data on all football players in the Dutch Eredivisie, the highest men's
football league in the Netherlands, who played at least one match in the
2013-14 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Eredivisie")
</code></pre>


<h3>Format</h3>

<p>A data frame with 417 observations on the following 20 variables.
</p>

<dl>
<dt><code>Player</code></dt><dd><p>the player's name.</p>
</dd>
<dt><code>Team</code></dt><dd><p>the team with which the player was under contract at
the end of the 2013-14 season.</p>
</dd>
<dt><code>MarketValue</code></dt><dd><p>the player's market value after the 2013-14
season.</p>
</dd>
<dt><code>Age</code></dt><dd><p>the player's age in years.</p>
</dd>
<dt><code>Height</code></dt><dd><p>the player's height in centimeters.</p>
</dd>
<dt><code>Foreign</code></dt><dd><p>a dummy variable with value 0 for Dutch players and
value 1 for players without a Dutch nationality.</p>
</dd>
<dt><code>Position</code></dt><dd><p>the primary postion of the player
(<code>"Goalkeeper"</code>, <code>"Defender"</code>, <code>"Midfielder"</code>,
or <code>"Forward"</code>).</p>
</dd>
<dt><code>BothFeet</code></dt><dd><p>a dummy variable with value 0 if the player has one
stronger foot and value 1 if the player is equally strong with both feet.</p>
</dd>
<dt><code>AtClub</code></dt><dd><p>the number of years the player is with the current
team.</p>
</dd>
<dt><code>Contract</code></dt><dd><p>the number of years remaining on the player's
current contract.</p>
</dd>
<dt><code>Matches</code></dt><dd><p>the number of matches played in the 2013-14 season.</p>
</dd>
<dt><code>Goals</code></dt><dd><p>the number of goals scored in the 2013-14 season.</p>
</dd>
<dt><code>OwnGoals</code></dt><dd><p>the number of own goals scored in the 2013-14
season.</p>
</dd>
<dt><code>Assists</code></dt><dd><p>the number of assists given in the 2013-14 season.</p>
</dd>
<dt><code>Yellow</code></dt><dd><p>the number of yellow cards received in the 2013-14
season.</p>
</dd>
<dt><code>YellowRed</code></dt><dd><p>the number of yellow-red cards received in the
2013-14 season.</p>
</dd>
<dt><code>Red</code></dt><dd><p>the number of red cards received in the 2013-14 season.</p>
</dd>
<dt><code>SubOn</code></dt><dd><p>the number of times the player was substituted on the
field in the 2013-14 season.</p>
</dd>
<dt><code>SubOff</code></dt><dd><p>the number of times the player was substituted off
the field in the 2013-14 season.</p>
</dd>
<dt><code>Minutes</code></dt><dd><p>the number of minutes played in the 2013-14 season.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.transfermarkt.de/">https://www.transfermarkt.de/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Eredivisie")
summary(Eredivisie)
</code></pre>

<hr>
<h2 id='Exams'>Exam results of an applied statistics course</h2><span id='topic+Exams'></span>

<h3>Description</h3>

<p>Data on grades for an applied statistics course at Erasmus University
Rotterdam for students who took both the regular exam and the resit.
Grades in the Netherlands are on a scale from 1 to 10, with a higher
grade being better, and a minimum of 5.5 is required to pass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Exams")
</code></pre>


<h3>Format</h3>

<p>A data frame with 45 observations on the following 2 variables.
</p>

<dl>
<dt><code>Regular</code></dt><dd><p>the student's grade based on the regular exam at the
end of the course.</p>
</dd>
<dt><code>Resit</code></dt><dd><p>the student's grade based on the resit exam at the end
of the academic year.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data("Exams")
summary(Exams)

</code></pre>

<hr>
<h2 id='format_SPSS'>Format Objects</h2><span id='topic+format_SPSS'></span><span id='topic+format_SPSS.default'></span><span id='topic+format_SPSS.integer'></span><span id='topic+format_SPSS.numeric'></span><span id='topic+format_SPSS.matrix'></span><span id='topic+format_SPSS.data.frame'></span><span id='topic+formatSPSS'></span>

<h3>Description</h3>

<p>Format an object for printing, mostly used to print numeric data in the same
way as SPSS.  This is mainly for internal use in <code><a href="#topic+to_SPSS">to_SPSS</a></code> and
<code><a href="base.html#topic+print">print</a></code> methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_SPSS(object, ...)

## Default S3 method:
format_SPSS(object, ...)

## S3 method for class 'integer'
format_SPSS(object, ...)

## S3 method for class 'numeric'
format_SPSS(object, digits = 3, p_value = FALSE, check_int = FALSE, ...)

## S3 method for class 'matrix'
format_SPSS(object, digits = 3, p_value = FALSE, check_int = FALSE, ...)

## S3 method for class 'data.frame'
format_SPSS(object, digits = 3, p_value = FALSE, check_int = FALSE, ...)

formatSPSS(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_SPSS_+3A_object">object</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object.  Currently methods are implemented
for vectors, matrices, and data frames.  The default method calls
<code><a href="base.html#topic+as.character">as.character</a></code>.</p>
</td></tr>
<tr><td><code id="format_SPSS_+3A_...">...</code></td>
<td>
<p>additional arguments passed down to methods.</p>
</td></tr>
<tr><td><code id="format_SPSS_+3A_digits">digits</code></td>
<td>
<p>an integer giving the number of digits after the comma to
display.</p>
</td></tr>
<tr><td><code id="format_SPSS_+3A_p_value">p_value</code></td>
<td>
<p>a logical indicating whether small positive values should be
indicated as below the threshold defined by <code>digits</code>, e.g.,
<code>"&lt;.001"</code> if <code>digits = 3</code>.  This is used for formatting p-values
in LaTeX tables that mimic the look of SPSS.  For the <code>"numeric"</code>
method, a logical vector indicates the behavior for each element of
<code>object</code>.  For the <code>"matrix"</code> or <code>"data.frame"</code> methods, a
logical vector indicates the behavior for each column of <code>object</code>.</p>
</td></tr>
<tr><td><code id="format_SPSS_+3A_check_int">check_int</code></td>
<td>
<p>a logical indicating whether to check for integer values
and format them as such, e.g., to format the integer <code>2</code> as <code>"2"</code>
instead of <code>"2.000"</code> if <code>digits = 3</code>.  For the <code>"numeric"</code>
method, a logical vector indicates the behavior for each element of
<code>object</code>.  For the <code>"matrix"</code> or <code>"data.frame"</code> methods, a
logical vector indicates the behavior for each column of <code>object</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector, matrix, or data frame containing the formatted
object.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># note how numbers in the interval (-1, 1) are printed
# without the zero in front of the comma
format_SPSS(c(-1.5, -2/3, 2/3, 1.5))

</code></pre>

<hr>
<h2 id='histogram'>Histogram</h2><span id='topic+histogram'></span>

<h3>Description</h3>

<p>Draw a histogram of a variable in a data frame.  The plot thereby mimics the
look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>histogram(
  data,
  variable,
  bins = NULL,
  normal = FALSE,
  normal.colour = NULL,
  normal.color = NULL,
  normal.linetype = NULL,
  normal.size = NULL,
  normal.alpha = NULL,
  digits = 3,
  limits = NULL,
  expand = 0.05,
  version = r2spss_options$get("version"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="histogram_+3A_data">data</code></td>
<td>
<p>a data frame containing the variable to be plotted.</p>
</td></tr>
<tr><td><code id="histogram_+3A_variable">variable</code></td>
<td>
<p>a character string specifying the variable to be
plotted.</p>
</td></tr>
<tr><td><code id="histogram_+3A_bins">bins</code></td>
<td>
<p>an integer giving the number of bins for the histogram.</p>
</td></tr>
<tr><td><code id="histogram_+3A_normal">normal</code></td>
<td>
<p>a logical indicating whether to add a normal density with the
estimated mean and standard deviation (the default is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="histogram_+3A_normal.colour">normal.colour</code>, <code id="histogram_+3A_normal.color">normal.color</code>, <code id="histogram_+3A_normal.linetype">normal.linetype</code>, <code id="histogram_+3A_normal.size">normal.size</code>, <code id="histogram_+3A_normal.alpha">normal.alpha</code></td>
<td>
<p>aesthetics for the normal density.  In the unlikely event that both US and
UK spellings of color are supplied, the US spelling will take precedence.</p>
</td></tr>
<tr><td><code id="histogram_+3A_digits">digits</code></td>
<td>
<p>an integer giving the number of digits after the comma to be
printed in the summary statistics in the right plot margin.</p>
</td></tr>
<tr><td><code id="histogram_+3A_limits">limits</code></td>
<td>
<p>a list of arguments to be passed to
<code><a href="ggplot2.html#topic+expand_limits">expand_limits</a></code>.  Typically, the list would contain
components <code>x</code> or <code>y</code> to specify values that should be included
in the range of the corresponding axis.</p>
</td></tr>
<tr><td><code id="histogram_+3A_expand">expand</code></td>
<td>
<p>a numeric value specifying the percentage of the range to be
used for padding the axes.  The default is 0.05 to expand the <code class="reqn">x</code>-axis
by 5% on both sides and the <code class="reqn">y</code>-axis by 5% on the upper end.  Note
that there is no padding on lower end of the <code class="reqn">y</code>-axis to mimic SPSS
behavior.</p>
</td></tr>
<tr><td><code id="histogram_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the plot should mimic
the look of recent SPSS versions (<code>"modern"</code>) or older versions (&lt;24;
<code>"legacy"</code>).</p>
</td></tr>
<tr><td><code id="histogram_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down, in particular
aesthetics (see <code><a href="ggplot2.html#topic+geom_histogram">geom_histogram</a></code> and
<code><a href="ggplot2.html#topic+geom_line">geom_line</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"<a href="ggplot2.html#topic+ggplot">ggplot</a>"</code>, which produces
a histogram when printed.
</p>


<h3>Note</h3>

<p>Due to the inner workings of this function to mimic the look
of histograms in SPSS, it is not expected that the user adds
<code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code> or
<code><a href="ggplot2.html#topic+scale_y_continuous">scale_y_continuous</a></code> to the plot.  Instead, axis
limits and padding should be modified via the <code>limits</code> and
<code>expand</code> arguments.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)

# plot histogram of log market values
histogram(Eredivisie, "logMarketValue", normal = TRUE,
          limits = list(x = c(9.5, 17.5)))

</code></pre>

<hr>
<h2 id='kruskal_test'>Kruskal-Wallis Test</h2><span id='topic+kruskal_test'></span><span id='topic+to_SPSS.kruskal_test_SPSS'></span><span id='topic+print.kruskal_test_SPSS'></span><span id='topic+kruskalTest'></span>

<h3>Description</h3>

<p>Perform a Kruskal-Wallis test on variables of a data set.  The output is
printed as a LaTeX table that mimics the look of SPSS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kruskal_test(data, variable, group)

## S3 method for class 'kruskal_test_SPSS'
to_SPSS(
  object,
  statistics = c("test", "ranks"),
  version = r2spss_options$get("version"),
  digits = NULL,
  ...
)

## S3 method for class 'kruskal_test_SPSS'
print(
  x,
  statistics = c("ranks", "test"),
  version = r2spss_options$get("version"),
  digits = 2:3,
  ...
)

kruskalTest(data, variable, group)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kruskal_test_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="kruskal_test_+3A_variable">variable</code></td>
<td>
<p>a character string specifying the numeric variable of
interest.</p>
</td></tr>
<tr><td><code id="kruskal_test_+3A_group">group</code></td>
<td>
<p>a character string specifying a grouping variable.</p>
</td></tr>
<tr><td><code id="kruskal_test_+3A_object">object</code>, <code id="kruskal_test_+3A_x">x</code></td>
<td>
<p>an object of class <code>"kruskal_test_SPSS"</code> as returned
by function <code>kruskal_test</code>.</p>
</td></tr>
<tr><td><code id="kruskal_test_+3A_statistics">statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"ranks"</code> for a summary of the ranks
and <code>"test"</code> for test results.  For the <code>to_SPSS</code> method, only one
option is allowed (the default is the table of test results), but the
<code>print</code> method allows several options (the default is to print all
tables).</p>
</td></tr>
<tr><td><code id="kruskal_test_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table should
mimic the content and look of recent SPSS versions (<code>"modern"</code>) or
older versions (&lt;24; <code>"legacy"</code>).  The main differences in terms of
content are the label of the test statistic and that small p-values are
displayed differently.</p>
</td></tr>
<tr><td><code id="kruskal_test_+3A_digits">digits</code></td>
<td>
<p>for the <code>to_SPSS</code> method, an integer giving the number
of digits after the comma to be printed in the SPSS table.  For the
<code>print</code> method, this should be an integer vector of length 2, with the
first element corresponding to the number of digits in table with the
summary of the ranks, and the second element corresponding to the number of
digits in the table for the test.</p>
</td></tr>
<tr><td><code id="kruskal_test_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="#topic+format_SPSS">format_SPSS</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"kruskal_test_SPSS"</code> with the following components:
</p>

<dl>
<dt><code>statistics</code></dt><dd><p>a data frame containing information on the
per-group mean ranks.</p>
</dd>
<dt><code>test</code></dt><dd><p>a list containing the results of the Kruskal-Wallis
test.</p>
</dd>
<dt><code>variable</code></dt><dd><p>a character string containing the name of the
numeric variable of interest.</p>
</dd>
<dt><code>group</code></dt><dd><p>a character string containing the name of the
grouping variable.</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>


<h3>Note</h3>

<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")

# test whether market values differ by playing position
kruskal_test(Eredivisie, "MarketValue", group = "Position")

</code></pre>

<hr>
<h2 id='labels_SPSS'>Format axis tick labels similar to SPSS</h2><span id='topic+labels_SPSS'></span><span id='topic+number_SPSS'></span><span id='topic+numberSPSS'></span><span id='topic+substr_SPSS'></span><span id='topic+substrSPSS'></span>

<h3>Description</h3>

<p>Format axis tick labels in a similar manner to SPSS to mimic the look of
SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>number_SPSS(x, big.mark = "", ...)

numberSPSS(x, big.mark = "", ...)

substr_SPSS(x, start = 1, stop = 8)

substrSPSS(x, start = 1, stop = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labels_SPSS_+3A_x">x</code></td>
<td>
<p>for <code>number_SPSS</code>, a numeric vector to format.  For
<code>substr_SPSS</code>, a vector of character strings to be cut.</p>
</td></tr>
<tr><td><code id="labels_SPSS_+3A_big.mark">big.mark</code></td>
<td>
<p>a character string to be inserted every 3 digits to
separate thousands.  The default is an empty string for no separation.</p>
</td></tr>
<tr><td><code id="labels_SPSS_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="scales.html#topic+number">number</a></code>.</p>
</td></tr>
<tr><td><code id="labels_SPSS_+3A_start">start</code>, <code id="labels_SPSS_+3A_stop">stop</code></td>
<td>
<p>integers giving the first and last character to remain in
the cut string, respectively.  The default is to cut strings to the first 8
characters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>number_SPSS</code> is a wrapper for <code><a href="scales.html#topic+number">number</a></code> that by
default does not put a separator every 3 digits so separate thousands.  It
mainly exists to prevent scientific notation in axis tick labels, hence it
is typically supplied as the <code>labels</code> argument of
<code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code> or
<code><a href="ggplot2.html#topic+scale_y_continuous">scale_y_continuous</a></code>.
</p>
<p><code>substr_SPSS</code> is a wrapper for <code><a href="base.html#topic+substr">substr</a></code> to cut character
strings by default to the first 8 characters, which is SPSS behavior for
the tick labels of a discrete axis in some (but not all) plots.  It is
typically supplied as the  <code>labels</code> argument of
<code><a href="ggplot2.html#topic+scale_x_discrete">scale_x_discrete</a></code> or
<code><a href="ggplot2.html#topic+scale_y_discrete">scale_y_discrete</a></code>.
</p>


<h3>Value</h3>

<p>A character vector of the same length as <code>x</code>
</p>

<hr>
<h2 id='line_plot'>Line Plots</h2><span id='topic+line_plot'></span>

<h3>Description</h3>

<p>Draw connected lines for variables in a data frame.  The plot thereby mimics
the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>line_plot(
  data,
  variables,
  index = NULL,
  version = r2spss_options$get("version"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="line_plot_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables to be plotted.</p>
</td></tr>
<tr><td><code id="line_plot_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying at least one variable to be
plotted on the <code class="reqn">y</code>-axis.  In case of multiple variables, separate lines
are drawn for each variable and a legend is shown.</p>
</td></tr>
<tr><td><code id="line_plot_+3A_index">index</code></td>
<td>
<p>a character string specifying a variable to be plotted on the
<code class="reqn">x</code>-axis, or <code>NULL</code> to plot the observations against their index.</p>
</td></tr>
<tr><td><code id="line_plot_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the plot should mimic
the look of recent SPSS versions (<code>"modern"</code>) or older versions (&lt;24;
<code>"legacy"</code>).</p>
</td></tr>
<tr><td><code id="line_plot_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="ggplot2.html#topic+geom_line">geom_line</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"<a href="ggplot2.html#topic+ggplot">ggplot</a>"</code>, which produces
a line plot when printed.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)

# aggregate log market values by position
means &lt;- aggregate(Eredivisie[, "logMarketValue", drop = FALSE],
                   Eredivisie[, "Position", drop = FALSE],
                   FUN = mean)

# create profile plot
line_plot(means, "logMarketValue", "Position")

# easier and fancier as the plot method of ANOVA results
oneway &lt;- ANOVA(Eredivisie, "logMarketValue",
                group = "Position")
plot(oneway)

</code></pre>

<hr>
<h2 id='palette_SPSS'>SPSS Color Palette and Color Scales</h2><span id='topic+palette_SPSS'></span><span id='topic+paletteSPSS'></span><span id='topic+SPSS_pal'></span><span id='topic+scale_color_SPSS'></span><span id='topic+scale_colour_SPSS'></span><span id='topic+scale_fill_SPSS'></span>

<h3>Description</h3>

<p>Color palette used by SPSS, and discrete color scales to be used in plots
(e.g., for multiple lines in a plot) to mimic the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palette_SPSS(n = NULL, version = r2spss_options$get("version"))

paletteSPSS(n = NULL, version = r2spss_options$get("version"))

SPSS_pal(version = r2spss_options$get("version"), direction = 1)

scale_color_SPSS(
  ...,
  version = r2spss_options$get("version"),
  direction = 1,
  aesthetics = "color"
)

scale_colour_SPSS(
  ...,
  version = r2spss_options$get("version"),
  direction = 1,
  aesthetics = "colour"
)

scale_fill_SPSS(
  ...,
  version = r2spss_options$get("version"),
  direction = 1,
  aesthetics = "fill"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="palette_SPSS_+3A_n">n</code></td>
<td>
<p>an integer giving the number of colors to select from the palette.
If <code>NULL</code> (the default), all colors of the palette are returned.</p>
</td></tr>
<tr><td><code id="palette_SPSS_+3A_version">version</code></td>
<td>
<p>a character string specifying whether to use the color
palette of recent SPSS versions (<code>"modern"</code>) or older versions (&lt;24;
<code>"legacy"</code>).</p>
</td></tr>
<tr><td><code id="palette_SPSS_+3A_direction">direction</code></td>
<td>
<p>an integer giving the direction to travel through the
palette.  Possible values are 1 for forward (the default) and -1 for
backward.</p>
</td></tr>
<tr><td><code id="palette_SPSS_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="ggplot2.html#topic+discrete_scale">discrete_scale</a></code>.</p>
</td></tr>
<tr><td><code id="palette_SPSS_+3A_aesthetics">aesthetics</code></td>
<td>
<p>a character string or vector listing the names of the
aesthetics with which the scale works.  For example, color settings can be
applied to the <code>color</code> and <code>fill</code> aesthetics by supplying
<code>c("color", "fill")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>palette_SPSS</code> returns a character vector specifying up to 30
colors as used by SPSS.
</p>
<p><code>SPSS_pal</code> returns a function that generates colors from the
specified SPSS color palette, in the specified direction.  It is mainly
used internally by the discrete color scales.
</p>
<p><code>scale_color_SPSS</code>, <code>scale_colour_SPSS</code>, and
<code>scale_fill_SPSS</code> return a discrete color scale to be added to plots.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># data to be plotted
df &lt;- data.frame(x = 1:30, y = 0)

# initialize plot
p &lt;- ggplot(aes(x = x, y = y, fill = factor(x)), data = df) +
  geom_point(shape = 21, size = 3, show.legend = FALSE) +
  theme_SPSS()

# colors of modern SPSS versions
p + theme_SPSS() + scale_fill_SPSS()

# colors of legacy SPSS versions
p + theme_SPSS(version = "legacy") +
  scale_fill_SPSS(version = "legacy")

</code></pre>

<hr>
<h2 id='r2spss_options'>Options for package r2spss</h2><span id='topic+r2spss_options'></span>

<h3>Description</h3>

<p>Retrieve or set global options for package <span class="pkg">r2spss</span> (within the current
<span class="rlang"><b>R</b></span> session) via accessor functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r2spss_options
</code></pre>


<h3>Format</h3>

<p>A list with the following two components:
</p>

<dl>
<dt><code>get(which, drop = TRUE)</code></dt><dd><p>an accessor function to retrieve
current options, which are usually returned as a named list.  Argument
<code>which</code> allows to select which options to retrieve.  If a single
option is selected, argument <code>drop</code> indicates whether only its value
should be returned (<code>TRUE</code>) or a list of length one (<code>FALSE</code>).</p>
</dd>
<dt><code>set(...)</code></dt><dd><p>an accessor function to set certain options using
<code>name = value</code> pairs.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The following options are available:
</p>

<dl>
<dt><code>version</code></dt><dd><p>a character string that controls the default for
whether tables and plots should mimic the content and look of recent SPSS
versions (<code>"modern"</code>) or older versions (&lt;24; <code>"legacy"</code>).</p>
</dd>
<dt><code>minor</code></dt><dd><p>a logical that overrides whether function
<code><a href="#topic+to_latex">to_latex</a></code> should include any supplied minor grid lines
in SPSS tables.  In particular for tables that mimic older SPSS versions,
minor grid lines can be somewhat distracting from the content, so setting
this option to <code>FALSE</code> provides a quick way to suppress them.  The
look of the resulting tables still closely mimics SPSS while being
somewhat cleaner.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># retrieve the list of options
r2spss_options$get()

# retrieve a single option
r2spss_options$get("version")

## Not run: 

# set options
r2spss_options$set(version = "legacy", minor = FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='r2spss-deprecated'>Deprecated plot functions in r2spss</h2><span id='topic+r2spss-deprecated'></span><span id='topic+plotSPSS'></span><span id='topic+linesSPSS'></span><span id='topic+boxplotSPSS'></span><span id='topic+histSPSS'></span>

<h3>Description</h3>

<p>These plot functions are deprecated and may be removed as soon as the
next release of <span class="pkg">r2spss</span>.  The functions <code>plotSPSS</code>,
<code>linesSPSS</code>, <code>boxSPSS</code>, and <code>histSPSS</code> are built around
base <span class="rlang"><b>R</b></span> graphics and have been superseded by functions built on
<code><a href="ggplot2.html#topic+ggplot2-package">ggplot2</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotSPSS(data, variables, xlab = NULL, ylab = NULL, ...)

linesSPSS(data, variables, index = NULL, xlab = NULL, ylab = NULL, ...)

boxplotSPSS(
  data,
  variables,
  group = NULL,
  xlab = NULL,
  ylab = NULL,
  cut.names = NULL,
  ...
)

histSPSS(data, variable, normal = FALSE, xlab = NULL, ylab = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r2spss-deprecated_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables to be plotted.</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_variables">variables</code></td>
<td>
<p>For <code>plotSPSS</code>, a character vector specifying at
least two variables to be plotted.  In case of two variables, a simple
scatter plot is produced with the first variable on the <code class="reqn">x</code>-axis and the
second variable on the <code class="reqn">y</code>-axis.  In case of more than two variables, a
scatter plot matrix is produced.
</p>
<p>For <code>linesSPSS</code>, a character vector specifying at least one variable
to be plotted on the <code class="reqn">y</code>-axis.  In case of multiple variables, separate
lines are drawn for each variable and a legend is shown.
</p>
<p>For <code>boxplotSPSS</code>, a character vector specifying separate variables to
be plotted.  If <code>group</code> is not <code>NULL</code>, only the first variable is
used and box plots of groups of observations are drawn instead.</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_xlab">xlab</code>, <code id="r2spss-deprecated_+3A_ylab">ylab</code></td>
<td>
<p>the axis labels.</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down, in particular
graphical parameters (see <code><a href="graphics.html#topic+boxplot">boxplot</a></code>,
<code><a href="graphics.html#topic+hist">hist</a></code>, and <code><a href="graphics.html#topic+par">par</a></code>).</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_index">index</code></td>
<td>
<p>a character string specifying a variable to be plotted on the
<code class="reqn">x</code>-axis, or <code>NULL</code> to plot the observations against their index.</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_group">group</code></td>
<td>
<p>an character string specifying a grouping variable, or
<code>NULL</code> for no grouping.</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_cut.names">cut.names</code></td>
<td>
<p>a logical indicating whether to cut long variable names or
group labels to 8 characters.  The default is <code>TRUE</code> for box plots of
separate variables, but <code>FALSE</code> for box plots of groups of observations
(which mimics SPSS behavior).</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_variable">variable</code></td>
<td>
<p>a character string specifying the variable to be plotted.</p>
</td></tr>
<tr><td><code id="r2spss-deprecated_+3A_normal">normal</code></td>
<td>
<p>a logical indicating whether to add a normal density with the
estimated mean and standard deviation (the default is <code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>plotSPSS</code> draws a scatter plot or a scatter plot matrix of variables
in a data frame.
</p>
<p><code>linesSPSS</code> draws connected lines for variables in a data frame.
</p>
<p><code>boxplotSPSS</code> draw box plots of variables in a data frame, including
box plots for groups of observations and box plots for separate variables.
</p>
<p><code>histSPSS</code> draws a histogram of a variable in a data frame.
</p>
<p>The plots thereby mimic the look of graphs in older versions of SPSS (&lt;24).
</p>


<h3>Value</h3>

<p><code>plotSPSS</code> and <code>linesSPSS</code> do not return anything but produce a
plot.
</p>
<p><code>boxplotSPSS</code> returns a list containing summary statistics invisibly
(see <code><a href="graphics.html#topic+boxplot">boxplot</a></code>) and produces a plot.
</p>
<p><code>histSPSS</code> returns an object of class <code>"histogram"</code> invisibly (see
<code><a href="graphics.html#topic+hist">hist</a></code>) and produces a plot.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>

<hr>
<h2 id='r2spss-package'>Format R Output to Look Like SPSS</h2><span id='topic+r2spss-package'></span><span id='topic+r2spss'></span>

<h3>Description</h3>

<p>Create plots and LaTeX tables that look like SPSS output for use in teaching materials.  Rather than copying-and-pasting SPSS output into documents, R code that mocks up SPSS output can be integrated directly into dynamic LaTeX documents with tools such as knitr.  Functionality includes statistical techniques that are typically covered in introductory statistics classes: descriptive statistics, common hypothesis tests, ANOVA, and linear regression, as well as box plots, histograms, scatter plots, and line plots (including profile plots).
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> r2spss</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Format R Output to Look Like SPSS</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.3.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-05-25</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Create plots and LaTeX tables that look like SPSS output for use in teaching materials.  Rather than copying-and-pasting SPSS output into documents, R code that mocks up SPSS output can be integrated directly into dynamic LaTeX documents with tools such as knitr.  Functionality includes statistical techniques that are typically covered in introductory statistics classes: descriptive statistics, common hypothesis tests, ANOVA, and linear regression, as well as box plots, histograms, scatter plots, and line plots (including profile plots).</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/aalfons/r2spss</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/aalfons/r2spss/issues</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.5.0),
ggplot2 (&gt;= 3.3.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> graphics,
scales,
stats,
car</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> knitr</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
VignetteBuilder: </td><td style="text-align: left;"> knitr</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> 
    c(person("Andreas", "Alfons", 
             email = "alfons@ese.eur.nl",
             role = c("aut", "cre"),
             comment = c(ORCID = "0000-0002-2513-3788")))</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Andreas Alfons [aut, cre] (&lt;https://orcid.org/0000-0002-2513-3788&gt;)</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 7.2.0</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
ANOVA                   One-way and Two-way ANOVA
Eredivisie              Football players of the Dutch Eredivisie season
                        2013-14
Exams                   Exam results of an applied statistics course
box_plot                Box Plots
chisq_test              Chi-squared Tests
descriptives            Descriptive Statistics
format_SPSS             Format Objects
histogram               Histogram
kruskal_test            Kruskal-Wallis Test
labels_SPSS             Format axis tick labels similar to SPSS
line_plot               Line Plots
palette_SPSS            SPSS Color Palette and Color Scales
r2spss-deprecated       Deprecated plot functions in r2spss
r2spss-package          Format R Output to Look Like SPSS
r2spss.sty              Create the LaTeX style file for 'r2spss'
r2spss_options          Options for package r2spss
regression              Linear Regression
scatter_plot            Scatter Plot and Scatter Plot Matrix
sign_test               Sign Test
t_test                  t Tests
theme_SPSS              Plot theme to mimic the look of SPSS graphs
to_SPSS                 Convert R Objects to SPSS-Style Tables
to_latex                Print LaTeX Tables that Mimic the Look of SPSS
                        Output
trimmed_mean            Trimmed mean
wilcoxon_test           Wilcoxon Signed Rank and Rank Sum Tests
</pre>

<p>Further information is available in the following vignettes:<br /><br />
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>r2spss-intro</code> </td><td style="text-align: left;"> r2spss: Format R Output to Look Like SPSS (source)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Andreas Alfons [aut, cre] (&lt;https://orcid.org/0000-0002-2513-3788&gt;)
</p>
<p>Maintainer: Andreas Alfons &lt;alfons@ese.eur.nl&gt;
</p>

<hr>
<h2 id='r2spss.sty'>Create the LaTeX style file for 'r2spss'</h2><span id='topic+r2spss.sty'></span>

<h3>Description</h3>

<p>Create the LaTeX style file required to compile LaTeX documents that include
tables created by package <span class="pkg">r2spss</span>.  You can put the resulting file
<em>r2spss.sty</em> in the folder containing your LaTeX document, and you
should include </p>
<pre>\usepackage{r2spss}</pre><p> in the preamble of your
LaTeX document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r2spss.sty(path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r2spss.sty_+3A_path">path</code></td>
<td>
<p>a character string specifying the path to the folder in which
to put the style file, or <code>NULL</code> (the default) to print the contents
of the style file to the standard output connection (usually the <span class="rlang"><b>R</b></span>
console).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing is returned, the function is called for its side effects.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># print contents of style file
r2spss.sty()

## Not run: 

  # put file 'r2spss.sty' in the current working directory
  r2spss.sty(".")

## End(Not run)

</code></pre>

<hr>
<h2 id='regression'>Linear Regression</h2><span id='topic+regression'></span><span id='topic+to_SPSS.regression_SPSS'></span><span id='topic+print.regression_SPSS'></span><span id='topic+coef.regression_SPSS'></span><span id='topic+df.residual.regression_SPSS'></span><span id='topic+fitted.regression_SPSS'></span><span id='topic+residuals.regression_SPSS'></span><span id='topic+plot.regression_SPSS'></span>

<h3>Description</h3>

<p>Perform linear regression on variables of a data set.  The output is printed
as a LaTeX table that mimics the look of SPSS output, and plots of the
results mimic the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regression(..., data, labels = NULL)

## S3 method for class 'regression_SPSS'
to_SPSS(
  object,
  statistics = c("estimates", "anova", "summary"),
  change = FALSE,
  version = r2spss_options$get("version"),
  ...
)

## S3 method for class 'regression_SPSS'
print(
  x,
  statistics = c("summary", "anova", "estimates"),
  change = FALSE,
  version = r2spss_options$get("version"),
  ...
)

## S3 method for class 'regression_SPSS'
coef(object, ...)

## S3 method for class 'regression_SPSS'
df.residual(object, ...)

## S3 method for class 'regression_SPSS'
fitted(object, standardized = FALSE, ...)

## S3 method for class 'regression_SPSS'
residuals(object, standardized = FALSE, ...)

## S3 method for class 'regression_SPSS'
plot(
  x,
  y,
  which = c("histogram", "scatter"),
  version = r2spss_options$get("version"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regression_+3A_...">...</code></td>
<td>
<p>for <code>regression</code>, at least one formula specifying a
regression model.  Different models can be compared by supplying multiple
formulas.  For  the <code>to_SPSS</code> and <code>print</code> methods, additional
arguments to be passed down to <code><a href="#topic+format_SPSS">format_SPSS</a></code>.  For the
<code>plot</code> method, additional arguments to be passed down to
<code><a href="#topic+histSPSS">histSPSS</a></code> or <code><a href="#topic+plotSPSS">plotSPSS</a></code>, in particular graphical
parameters.  For other methods, this is currently ignored.</p>
</td></tr>
<tr><td><code id="regression_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="regression_+3A_labels">labels</code></td>
<td>
<p>a character or numeric vector giving labels for the
regression models in the output tables.</p>
</td></tr>
<tr><td><code id="regression_+3A_object">object</code>, <code id="regression_+3A_x">x</code></td>
<td>
<p>an object of class <code>"regression_SPSS"</code> as returned by
function <code>regression</code>.</p>
</td></tr>
<tr><td><code id="regression_+3A_statistics">statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"summary"</code> for model summaries,
<code>"anova"</code> for ANOVA results, and <code>"estimates"</code> for estimated
coefficients.  For the <code>to_SPSS</code> method, only one option is allowed
(the default is the table of ANOVA results), but the <code>print</code> method
allows several options (the default is to print all tables).</p>
</td></tr>
<tr><td><code id="regression_+3A_change">change</code></td>
<td>
<p>a logical indicating whether tests on the
<code class="reqn">R^2</code> change should be included in the table with model
summaries (if <code>statistics = "summary"</code>).  The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="regression_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table or plot
should mimic the content and look of recent SPSS versions (<code>"modern"</code>)
or older versions (&lt;24; <code>"legacy"</code>).  For the table, the main
difference in terms of content is that small p-values are displayed
differently.</p>
</td></tr>
<tr><td><code id="regression_+3A_standardized">standardized</code></td>
<td>
<p>a logical indicating whether to return standardized
residuals and fitted values (<code>TRUE</code>), or residuals and fitted values on
their original scale (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="regression_+3A_y">y</code></td>
<td>
<p>ignored (only included because it is defined for the generic
function <code><a href="graphics.html#topic+plot">plot</a></code>).</p>
</td></tr>
<tr><td><code id="regression_+3A_which">which</code></td>
<td>
<p>a character string specifying which plot to produce.  Possible
values are <code>"histogram"</code> for a histogram of the residuals, or
<code>"scatter"</code> for a scatterplot of the standardized residuals against the
standardized fitted values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"regression_SPSS"</code> with the following
components:
</p>

<dl>
<dt><code>models</code></dt><dd><p>a list in which each component is an ojbect of class
<code>"lm"</code> as returned by function <code><a href="stats.html#topic+lm">lm</a></code>.</p>
</dd>
<dt><code>summaries</code></dt><dd><p>a list in which each component is an ojbect of
class <code>"summary.lm"</code> as returned by the
<code><a href="stats.html#topic+summary.lm">summary</a></code> method for objects of class
<code>"lm"</code>.</p>
</dd>
<dt><code>response</code></dt><dd><p>a character string containing the name of the
response variable.</p>
</dd>
<dt><code>method</code></dt><dd><p>a character string specifying whether the nested
models are increasing in dimension by entering additional variables
(<code>"enter"</code>) or decreasing in dimension by removing variables
(<code>"remove"</code>).</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>
<p>The <code>coef</code>, <code>df.residual</code>, <code>fitted</code> and <code>residuals</code>
methods return the coefficients, residual degrees of freedom, fitted
values and residuals, respectively, of the <em>last</em> model (to mimic
SPSS functionality).
</p>
<p>Similarly, the <code>plot</code> method returns the specified plot for the
<em>last</em> model as an object of class <code>"<a href="ggplot2.html#topic+ggplot">ggplot</a>"</code>,
which produces the plot when printed.
</p>


<h3>Note</h3>

<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)
# squared values of age
Eredivisie$AgeSq &lt;- Eredivisie$Age^2

# simple regression model of log market value on age
fit1 &lt;- regression(logMarketValue ~ Age, data = Eredivisie)
fit1                           # print LaTeX table
plot(fit1, which = "scatter")  # diagnostic plot

# add a squared effect for age
fit2 &lt;- regression(logMarketValue ~ Age + AgeSq,
                   data = Eredivisie, labels = 2)
fit2                           # print LaTeX table
plot(fit2, which = "scatter")  # diagnostic plot

# more complex models with model comparison
fit3 &lt;- regression(logMarketValue ~ Age + AgeSq,
                   logMarketValue ~ Age + AgeSq + Contract +
                                    Foreign,
                   logMarketValue ~ Age + AgeSq + Contract +
                                    Foreign + Position,
                   data = Eredivisie, labels = 2:4)
print(fit3, change  = TRUE)      # print LaTeX table
plot(fit3, which = "histogram")  # diagnostic plot

</code></pre>

<hr>
<h2 id='scatter_plot'>Scatter Plot and Scatter Plot Matrix</h2><span id='topic+scatter_plot'></span>

<h3>Description</h3>

<p>Draw a scatter plot or a scatter plot matrix of variables in a data frame.
The plots thereby mimic the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scatter_plot(data, variables, version = r2spss_options$get("version"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scatter_plot_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables to be plotted.</p>
</td></tr>
<tr><td><code id="scatter_plot_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying at least two variables to be
plotted.  In case of two variables, a simple scatter plot is produced with
the first variable on the <code class="reqn">x</code>-axis and the second variable on the
<code class="reqn">y</code>-axis.  In case of more than two variables, a scatter plot matrix is
produced.</p>
</td></tr>
<tr><td><code id="scatter_plot_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the plot should mimic
the look of recent SPSS versions (<code>"modern"</code>) or older versions (&lt;24;
<code>"legacy"</code>).</p>
</td></tr>
<tr><td><code id="scatter_plot_+3A_...">...</code></td>
<td>
<p>for a simple scatter plot, additional arguments are passed
down to <code><a href="ggplot2.html#topic+geom_point">geom_point</a></code>.  For a scatter plot matrix,
additional arguments to be passed down, in particular base graphics
parameters (see <code><a href="graphics.html#topic+par">par</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>In case of a simple scatter plot, an object of class
<code>"<a href="ggplot2.html#topic+ggplot">ggplot</a>"</code>, which produces the plot when printed.
</p>
<p>In case of a scatter plot matrix, nothing is returned but a plot is produced.
</p>


<h3>Note</h3>

<p>Wile all other plots in <span class="pkg">r2spss</span> are based on
<span class="pkg"><a href="ggplot2.html#topic+ggplot2-package">ggplot2</a></span> (including the simple scatter
plot), the scatter plot matrix is built around base <span class="rlang"><b>R</b></span> graphics.  This is
because <span class="pkg">ggplot2</span> does not provide an implementation of a scatter plot
matrix, and an implementation based on separate scatter plots on a matrix
layout would be slow.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)

# plot log market values against age
scatter_plot(Eredivisie, c("Age", "logMarketValue"))

# scatterplot matrix of age, number of minutes played, and
# log market values
scatter_plot(Eredivisie, c("Age", "Minutes", "logMarketValue"))

</code></pre>

<hr>
<h2 id='sign_test'>Sign Test</h2><span id='topic+sign_test'></span><span id='topic+to_SPSS.sign_test_SPSS'></span><span id='topic+print.sign_test_SPSS'></span><span id='topic+signTest'></span>

<h3>Description</h3>

<p>Perform a sign test for a paired sample on variables of a data set.  The
output is printed as a LaTeX table that mimics the look of SPSS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sign_test(data, variables, exact = FALSE)

## S3 method for class 'sign_test_SPSS'
to_SPSS(
  object,
  statistics = c("test", "frequencies"),
  version = r2spss_options$get("version"),
  ...
)

## S3 method for class 'sign_test_SPSS'
print(
  x,
  statistics = c("frequencies", "test"),
  version = r2spss_options$get("version"),
  ...
)

signTest(data, variables, exact = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sign_test_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="sign_test_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying two numeric variables
containing the paired observations.</p>
</td></tr>
<tr><td><code id="sign_test_+3A_exact">exact</code></td>
<td>
<p>a logical indicating whether or not to include the exact
p-value using the binomial distribution.  Note that the p-value using the
normal approximation is always reported.</p>
</td></tr>
<tr><td><code id="sign_test_+3A_object">object</code>, <code id="sign_test_+3A_x">x</code></td>
<td>
<p>an object of class <code>"sign_test_SPSS"</code> as returned by
function <code>sign_test</code>.</p>
</td></tr>
<tr><td><code id="sign_test_+3A_statistics">statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.   Available options are <code>"frequencies"</code> for a summary of
the frequencies and <code>"test"</code> for test results.  For the <code>to_SPSS</code>
method, only one option is allowed (the default is the table of test
results), but the <code>print</code> method allows several options (the default
is to print all tables).</p>
</td></tr>
<tr><td><code id="sign_test_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table should
mimic the content and look of recent SPSS versions (<code>"modern"</code>) or
older versions (&lt;24; <code>"legacy"</code>).  The main difference in terms of
content is that small p-values are displayed differently.</p>
</td></tr>
<tr><td><code id="sign_test_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="#topic+format_SPSS">format_SPSS</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"sign_test_SPSS"</code> with the following
components:
</p>

<dl>
<dt><code>statistics</code></dt><dd><p>a data frame containing information on the
number of observations with negative and positive differences.</p>
</dd>
<dt><code>asymptotic</code></dt><dd><p>a list containing the results of the test using
the normal approximation.</p>
</dd>
<dt><code>exact</code></dt><dd><p>if requested, a numeric vector containing the exact
two-sided p-value, one-sided p-value, and point probability using the
binomial distribution.</p>
</dd>
<dt><code>variables</code></dt><dd><p>a character vector containing the names of the two
numeric variables with the paired observations.</p>
</dd>
<dt><code>n</code></dt><dd><p>an integer giving the number of observations.</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>


<h3>Note</h3>

<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Exams")

# test whether grades differ between the
# regular exam and the resit
sign_test(Exams, c("Regular", "Resit"))

</code></pre>

<hr>
<h2 id='t_test'>t Tests</h2><span id='topic+t_test'></span><span id='topic+to_SPSS.t_test_SPSS'></span><span id='topic+print.t_test_SPSS'></span><span id='topic+tTest'></span>

<h3>Description</h3>

<p>Perform a one-sample t test, a paired-sample t test or an
independent-samples t test on variables of a data set.  The output
is printed as a LaTeX table that mimics the look of SPSS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>t_test(data, variables, group = NULL, mu = 0, conf.level = 0.95)

## S3 method for class 't_test_SPSS'
to_SPSS(
  object,
  statistics = c("test", "statistics"),
  version = r2spss_options$get("version"),
  digits = 3,
  ...
)

## S3 method for class 't_test_SPSS'
print(
  x,
  statistics = c("statistics", "test"),
  version = r2spss_options$get("version"),
  digits = 3,
  ...
)

tTest(data, variables, group = NULL, mu = 0, conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="t_test_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="t_test_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying numeric variable(s) to be
used for testing the mean(s).  If <code>group</code> is <code>NULL</code>, a one-sample
t test is performed if only one variable is specified, and a paired-sample
t test is performed if two variables are specified.  If a grouping variable
is specified in <code>group</code>, an independent-samples t-test is performed and
this should be a character string specifying the numeric variable of
interest.</p>
</td></tr>
<tr><td><code id="t_test_+3A_group">group</code></td>
<td>
<p>a character string specifying a grouping variable for an
independent-samples t-test, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="t_test_+3A_mu">mu</code></td>
<td>
<p>a number indicating the true value of the mean for a one-sample
t test.</p>
</td></tr>
<tr><td><code id="t_test_+3A_conf.level">conf.level</code></td>
<td>
<p>a number between 0 and 1 giving the confidence level of
the confidence interval.</p>
</td></tr>
<tr><td><code id="t_test_+3A_object">object</code>, <code id="t_test_+3A_x">x</code></td>
<td>
<p>an object of class <code>"t_test_SPSS"</code> as returned by
function <code>t_test</code>.</p>
</td></tr>
<tr><td><code id="t_test_+3A_statistics">statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"statistics"</code> for descriptive
statistics and <code>"test"</code> for test results.  For the <code>to_SPSS</code>
method, only one option is allowed (the default is the table of test
results), but the <code>print</code> method allows several options (the default
is to print all tables).</p>
</td></tr>
<tr><td><code id="t_test_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table should
mimic the content and look of recent SPSS versions (<code>"modern"</code>) or
older versions (&lt;24; <code>"legacy"</code>).  The main differences in terms of
content are that recent SPSS versions show a one-sided p-value in addition
to the two-sided p-value, and that small p-values are displayed differently.
For the paired-sample test, recent versions of SPSS also display a label
<em>Pair 1</em> for the selected pair of variables.</p>
</td></tr>
<tr><td><code id="t_test_+3A_digits">digits</code></td>
<td>
<p>an integer giving the number of digits after the comma to be
printed in the SPSS tables.</p>
</td></tr>
<tr><td><code id="t_test_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="#topic+format_SPSS">format_SPSS</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"t_test_SPSS"</code> with the following
components:
</p>

<dl>
<dt><code>statistics</code></dt><dd><p>a data frame containing the relevant descriptive
statistics.</p>
</dd>
<dt><code>test</code></dt><dd><p>an object of class <code>"htest"</code> as returned by
<code><a href="stats.html#topic+t.test">t.test</a></code> (only one-sample and paired-sample tests).</p>
</dd>
<dt><code>variables</code></dt><dd><p>a character vector containing the name(s) of the
relevant numeric variable(s).</p>
</dd>
<dt><code>n</code></dt><dd><p>an integer giving the number of observations (only
paired-sample test).</p>
</dd>
<dt><code>levene</code></dt><dd><p>an object as returned by
<code><a href="car.html#topic+leveneTest">leveneTest</a></code> (only independent-samples test).</p>
</dd>
<dt><code>pooled</code></dt><dd><p>an object of class <code>"htest"</code> as returned
by <code><a href="stats.html#topic+t.test">t.test</a></code> assuming equal variances (only
independent-samples test).</p>
</dd>
<dt><code>satterthwaite</code></dt><dd><p>an object of class <code>"htest"</code> as returned
by <code><a href="stats.html#topic+t.test">t.test</a></code> not assuming equal variance (only
independent-samples test).</p>
</dd>
<dt><code>group</code></dt><dd><p>a character string containing the name of the
grouping variable (only independent-samples test).</p>
</dd>
<dt><code>type</code></dt><dd><p>a character string giving the type of t test performed
(<code>"one-sample"</code>, <code>"paired"</code>, or <code>"independent"</code>).</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>


<h3>Note</h3>

<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## one-sample and paired-sample t test

# load data
data("Exams")

# test whether the average grade on the resit
# differs from 5.5 (minimum passing grade)
t_test(Exams, "Resit", mu = 5.5)

# test whether average grades differ between the
# regular exam and the resit
t_test(Exams, c("Resit", "Regular"))


## independent-samples t test

# load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)

# test whether average log market values differ between
# Dutch and foreign players
t_test(Eredivisie, "logMarketValue", group = "Foreign")

</code></pre>

<hr>
<h2 id='theme_SPSS'>Plot theme to mimic the look of SPSS graphs</h2><span id='topic+theme_SPSS'></span>

<h3>Description</h3>

<p>Complete theme that controls all non-data display of a plot to mimic the
look of SPSS graphs.  Use <code><a href="ggplot2.html#topic+theme">theme</a></code> after
<code>theme_SPSS</code> to further tweak the display.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_SPSS(
  base_size = 12,
  base_family = "",
  base_line_size = 0.5,
  base_rect_size = 0.5,
  version = r2spss_options$get("version"),
  scales = NULL,
  scale.x = scales,
  scale.y = scales
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_SPSS_+3A_base_size">base_size</code></td>
<td>
<p>an integer giving the base font size in pts.</p>
</td></tr>
<tr><td><code id="theme_SPSS_+3A_base_family">base_family</code></td>
<td>
<p>a character string giving the base font family.</p>
</td></tr>
<tr><td><code id="theme_SPSS_+3A_base_line_size">base_line_size</code></td>
<td>
<p>base size for line elements.</p>
</td></tr>
<tr><td><code id="theme_SPSS_+3A_base_rect_size">base_rect_size</code></td>
<td>
<p>base size for borders of rectangle elements.</p>
</td></tr>
<tr><td><code id="theme_SPSS_+3A_version">version</code></td>
<td>
<p>a character string specifying whether to mimic the look
of recent SPSS versions (<code>"modern"</code>) or older versions (&lt;24;
<code>"legacy"</code>).</p>
</td></tr>
<tr><td><code id="theme_SPSS_+3A_scales">scales</code>, <code id="theme_SPSS_+3A_scale.x">scale.x</code>, <code id="theme_SPSS_+3A_scale.y">scale.y</code></td>
<td>
<p>a character string specifying whether both
or each of the axes are expected to be continuous (<code>"continuous"</code>) or
discrete (<code>"discrete"</code>).  Note that this only controls the appearance
of the tick labels on the axis, as the theme has no control over the
information that is displayed in the plot.  SPSS displays larger tick
labels a for discrete axis than for a continuous axis, hence specifying
this information in the theme adjusts the tick label size accordingly.
The default (<code>NULL</code>) means that the tick labels are of the same size
as for a continuous axis.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># data to be plotted
df &lt;- data.frame(x = 1:30, y = 0)

# initialize plot
p &lt;- ggplot(aes(x = x, y = y, fill = factor(x)), data = df) +
  geom_point(shape = 21, size = 3, show.legend = FALSE) +
  theme_SPSS()

# colors of modern SPSS versions
p + theme_SPSS() + scale_fill_SPSS()

# colors of legacy SPSS versions
p + theme_SPSS(version = "legacy") +
  scale_fill_SPSS(version = "legacy")

</code></pre>

<hr>
<h2 id='to_latex'>Print LaTeX Tables that Mimic the Look of SPSS Output</h2><span id='topic+to_latex'></span><span id='topic+to_latex.SPSS_table'></span><span id='topic+to_latex.data.frame'></span>

<h3>Description</h3>

<p>Use information from an <span class="rlang"><b>R</b></span> object to print a LaTeX table that mimics the
look of SPSS output.  Typically, one would first call <code><a href="#topic+to_SPSS">to_SPSS</a></code>
with an object returned by a function in <span class="pkg">r2spss</span>, and then call
<code>to_latex</code> with the resulting object of class <code>"SPSS_table"</code> to
print the LaTeX table.  Note that the <code>print</code> methods in <span class="pkg">r2spss</span>
perform these two steps at once, but calling <code><a href="#topic+to_SPSS">to_SPSS</a></code> and
<code>to_latex</code> separately can be useful for customization of the LaTeX
table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_latex(object, ...)

## S3 method for class 'SPSS_table'
to_latex(object, version = r2spss_options$get("version"), ...)

## S3 method for class 'data.frame'
to_latex(
  object,
  main = NULL,
  sub = NULL,
  header = TRUE,
  label = NULL,
  row_names = TRUE,
  info = NULL,
  alignment = NULL,
  border = NULL,
  footnotes = NULL,
  major = NULL,
  minor = NULL,
  version = r2spss_options$get("version"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_latex_+3A_object">object</code></td>
<td>
<p>an object of class <code>"SPSS_table"</code> as returned by
<code>to_SPSS</code> methods, or a <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_...">...</code></td>
<td>
<p>for the <code>"data.frame"</code> method, additional arguments to be
passed to <code><a href="#topic+format_SPSS">format_SPSS</a></code>.  For the <code>"SPSS_table"</code> method,
additional arguments are currently ignored.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table should
mimic the look of recent SPSS versions (<code>"modern"</code>) or older versions
(&lt;24; <code>"legacy"</code>).  For the <code>"SPSS_table"</code> method, note that also
the <em>content</em> of some tables generated by functions in <span class="pkg">r2spss</span> is
different for current and older SPSS versions.  These objects contain a
component <code>"version"</code> which will passed to the <code>"data.frame"</code>
method to ensure that the content and look of the table match.  Other
tables have the same content irrespective of the SPSS version, and this
argument controls the look of those tables.  The default is to inherit
from the global option within the current <span class="rlang"><b>R</b></span> session (see
<code><a href="#topic+r2spss_options">r2spss_options</a></code>).</p>
</td></tr>
<tr><td><code id="to_latex_+3A_main">main</code></td>
<td>
<p>a single character string defining the main title of the SPSS
table, or <code>NULL</code> to suppress the main title.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_sub">sub</code></td>
<td>
<p>a single character string defining the sub-title of the SPSS
table, or <code>NULL</code> to suppress the sub-title.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_header">header</code></td>
<td>
<p>a logical indicating whether to include a header in the SPSS
table based on the column names of <code>object</code> (defaults to <code>TRUE</code>).
Alternatively, it is possible to supply a character vector giving the
header of each column, or a list defining a complex header layout with
merged header cells.  In the latter case, the list can have up to three
components, with each component defining one level of the header.  The last
list component should be a character vector giving the bottom-level header
of each column.  The other list components should be data frames with the
following columns:
</p>

<dl>
<dt><code>first</code></dt><dd><p>an integer vecot giving the first column of each
(merged) header cell.</p>
</dd>
<dt><code>last</code></dt><dd><p>an integer vector giving the last column of each
(merged) header cell.</p>
</dd>
<dt><code>text</code></dt><dd><p>a character vector containing the text of each (merged)
header cell.</p>
</dd>
</dl>

<p>Line breaks (character <code>\n</code>) can be included to wrap the text of a
header cell over several rows.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_label">label</code></td>
<td>
<p>a character string giving a label to be added as the first
column of the table, or <code>NULL</code> to suppress such a column.  In many
SPSS tables, this contains the name of a variable used in the analysis.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_row_names">row_names</code></td>
<td>
<p>a logical indicating whether to add the row names of
<code>object</code> as a column in the SPSS table (defaults to <code>TRUE</code>).
Alternatively, it is possible to supply a character vector giving the
row labels to be added as a column.  Line breaks (character <code>\n</code>) can
be included to wrap the text of a row label over several rows.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_info">info</code></td>
<td>
<p>an integer giving the number of columns in the SPSS table
that contain auxiliary information on the results.  This has an effect
of the default formatting, alignment, and borders.  The default is 0 if
<code>row_names</code> is <code>FALSE</code> and 1 otherwise.  Note that a column
defined by <code>label</code> and a column defined by <code>row_names</code> are
always added to <code>info</code> if the former are supplied.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_alignment">alignment</code></td>
<td>
<p>a list with components <code>header</code> and <code>table</code>,
with each component being a character vector that contains the LaTeX
alignment specifiers of the header and table body, respectively, of each
column.  Permissible alignment specifiers are <code>"l"</code> for left-aligned,
<code>"c"</code> for centered, and <code>"r"</code> for right aligned.  The default is
left-aligned for the header and table body of the columns containing
auxiliary information, and centered and right-aligned, respectively, for the
header and table body of the columns containing the actual results.  It
should not be necessary to set the column alignment manually.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_border">border</code></td>
<td>
<p>a logical vector indicating which (outer and inner) vertical
borders should be drawn.  The default is that tables that mimic recent
versions of SPSS (<code>version = "modern"</code>) draw only borders in between
columns that contain the actual results, whereas tables that mimic older
versions of SPSS (<code>version = "legacy"</code>) draw all borders except in
between columns containing auxiliary information.  It should not be
necessary to set the vertical borders manually.</p>
</td></tr>
<tr><td><code id="to_latex_+3A_footnotes">footnotes</code></td>
<td>
<p>a character vector giving footnotes to be added below the
SPSS table, or <code>NULL</code> to suppress footnotes.  Alternatively, it is
possible to supply a data frame with the following columns:
</p>

<dl>
<dt><code>marker</code></dt><dd><p>character vector giving footnote markers to be
included in a cell of the SPSS table.  For footnotes without a marker,
an empty character string can be used.</p>
</dd>
<dt><code>row</code></dt><dd><p>an integer vector specifying the row of the SPSS table
in which to include each footnote marker, or <code>NA</code> for footnotes
without a marker.  In addition, the character strings <code>"main"</code> and
<code>"sub"</code> can be used to include footnote markers in the main title
and sub-title, respectively.</p>
</dd>
<dt><code>column</code></dt><dd><p>an integer vector specifying the column of the SPSS
table in which to include each footnote marker, or <code>NA</code> for footnotes
without a marker or footnote markers in the main title or sub-title.</p>
</dd>
<dt><code>text</code></dt><dd><p>a character vector containing the text of each
footnote.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="to_latex_+3A_major">major</code>, <code id="to_latex_+3A_minor">minor</code></td>
<td>
<p>an integer vector specifying the rows of the SPSS
table after which to draw major or minor grid lines that stretch across
all columns of the table, or <code>NULL</code> to suppress the respective grid
lines.  Alternatively, each of these arguments can be a data frame with
the following columns defining partial grid lines:
</p>

<dl>
<dt><code>row</code></dt><dd><p>an integer vector specifying the rows of the SPSS table
after which to draw grid lines.</p>
</dd>
<dt><code>first</code></dt><dd><p>an integer vector specifying the first column of each
partial line.</p>
</dd>
<dt><code>last</code></dt><dd><p>an integer vector specifying the last column of each
partial line.</p>
</dd>
</dl>

<p>The only difference between the two type of grid lines is that minor grid
lines can also be suppressed globally within the current <span class="rlang"><b>R</b></span> session by
setting <code>r2spss_options$set(minor = FALSE)</code>, see
<code><a href="#topic+r2spss_options">r2spss_options</a></code>.  Also note that these arguments only control
the grid lines in between rows of the table body.  Horizontal table borders
are always drawn.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>"SPSS_table"</code> method takes component <code>table</code> of the object
and supplies it to the <code>data.frame</code> method, with additional components
in the object being passed as additional arguments.
</p>
<p>The <code>"data.frame"</code> method allows to extend the functionality of
<span class="pkg">r2spss</span> with additional LaTeX tables that mimic the look of SPSS
output.
</p>


<h3>Value</h3>

<p>Nothing is returned, the function is called for its side effects.
</p>


<h3>Note</h3>

<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Kruskal-Wallis test example

# load data
data("Eredivisie")

# compute a Kruskual-Wallis test to investigate whether
# market values differ by playing position
kw &lt;- kruskal_test(Eredivisie, "MarketValue",
                   group = "Position")

# convert to an object of class "SPSS_table" that
# contains the table with the test results
kw_spss &lt;- to_SPSS(kw, statistics = "test")
kw_spss

# blank out the number of degrees of freedom to ask
# an assignment question about it
kw_spss$table[2, 1] &lt;- "???"

# print the LaTeX table to be included in the assignment
to_latex(kw_spss)


## t test example

# load data
data("Exams")

# test whether the average grade on the resit
# differs from 5.5 (minimum passing grade)
t &lt;- t_test(Exams, "Resit", mu = 5.5)

# convert to an object of class "SPSS_table" that
# contains the table with the test results
t_spss &lt;- to_SPSS(t, statistics = "test")

# this is an example of a complex header layout
t_spss$header

# add additional line breaks in bottom-level header
t_spss$header[[3]] &lt;- gsub("-", "-\n", t_spss$header[[3]],
                           fixed = TRUE)

# print the LaTeX table
to_latex(t_spss)

</code></pre>

<hr>
<h2 id='to_SPSS'>Convert R Objects to SPSS-Style Tables</h2><span id='topic+to_SPSS'></span><span id='topic+to_spss'></span>

<h3>Description</h3>

<p>Generic function to convert an <span class="rlang"><b>R</b></span> object into an object that contains all
necessary information for printing a LaTeX table that mimics the look of
SPSS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_SPSS(object, ...)

to_spss(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_SPSS_+3A_object">object</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object for which a <code>to_SPSS</code> method exists, such
as objects returned by functions in <span class="pkg">r2spss</span>.</p>
</td></tr>
<tr><td><code id="to_SPSS_+3A_...">...</code></td>
<td>
<p>additional arguments passed down to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>In order to work as expected, methods of <code>to_SPSS</code> should return an
object of class <code>"SPSS_table"</code>.  It should include a component
<code>table</code> that contains a data frame, which can be supplied as the
first argument to <code><a href="#topic+to_latex">to_latex</a></code> to print a LaTeX table that mimics
the look of SPSS output.  Additional components of the returned object
define additional arguments to be passed to the <code>"data.frame"</code> method
of <code><a href="#topic+to_latex">to_latex</a></code>.
</p>


<h3>Note</h3>

<p><code>to_spss</code> is a simple wrapper for <code>to_SPSS</code>, which exists
for convenience.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data("Eredivisie")

# compute a Kruskual-Wallis test to investigate whether
# market values differ by playing position
kw &lt;- kruskal_test(Eredivisie, "MarketValue",
                  group = "Position")

# convert to an object of class "SPSS_table" that
# contains the table with the test results
kw_spss &lt;- to_SPSS(kw, statistics = "test")
kw_spss

# blank out the number of degrees of freedom to ask
# an assignment question about it
kw_spss$table[2, 1] &lt;- "???"

# print the LaTeX table to be included in the assignment
to_latex(kw_spss)

</code></pre>

<hr>
<h2 id='trimmed_mean'>Trimmed mean</h2><span id='topic+trimmed_mean'></span>

<h3>Description</h3>

<p>Compute the trimmed mean.  This function differs from the implementation of
the trimmed mean in the base <span class="rlang"><b>R</b></span> function <code><a href="base.html#topic+mean">mean</a></code> in the following
ways.  While <code>mean</code> always rounds down the number of observations to
be trimmed, this function rounds to the nearest integer.  In addition,
<code>mean</code> implements proper <code>NA</code> handling, whereas this function
assumes that there are no missing values and may fail in their presence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trimmed_mean(x, trim = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trimmed_mean_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="trimmed_mean_+3A_trim">trim</code></td>
<td>
<p>numeric; the fraction of observations to be trimmed from each
tail of <code>x</code> before computing the mean (defaults to 0.05).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The main purpose of this function is to reproduce SPSS results for Levene's
test on homogeneity of the variances based on the trimmed mean (see
<code><a href="#topic+ANOVA">ANOVA</a></code>), which are slightly too far off when using the base
<span class="rlang"><b>R</b></span> function <code><a href="base.html#topic+mean">mean</a></code>.  Rounding the number of observations to be
trimmed to the nearest integer brings the results closer to those of SPSS,
but they are still not identical.
</p>


<h3>Value</h3>

<p>The trimmed mean of the values in <code>x</code> as a single numeric value.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+mean">mean</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(0:10, 50)

# trimmed_mean() rounds number of observations
# to be trimmed to the nearest integer
trimmed_mean(x, trim = 0.05)

# base R function mean() rounds down number of
# observations to be trimmed
mean(x, trim = 0.05)
mean(x)

</code></pre>

<hr>
<h2 id='wilcoxon_test'>Wilcoxon Signed Rank and Rank Sum Tests</h2><span id='topic+wilcoxon_test'></span><span id='topic+to_SPSS.wilcoxon_test_SPSS'></span><span id='topic+print.wilcoxon_test_SPSS'></span><span id='topic+wilcoxonTest'></span>

<h3>Description</h3>

<p>Perform a Wilcoxon signed rank test for a paired sample or a Wilcoxon rank
sum test for independent samples on variables of a data set.  The output
is printed as a LaTeX table that mimics the look of SPSS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wilcoxon_test(data, variables, group = NULL, exact = FALSE)

## S3 method for class 'wilcoxon_test_SPSS'
to_SPSS(
  object,
  statistics = c("test", "ranks"),
  version = r2spss_options$get("version"),
  digits = NULL,
  ...
)

## S3 method for class 'wilcoxon_test_SPSS'
print(
  x,
  statistics = c("ranks", "test"),
  version = r2spss_options$get("version"),
  digits = 2:3,
  ...
)

wilcoxonTest(data, variables, group = NULL, exact = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wilcoxon_test_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_variables">variables</code></td>
<td>
<p>a character vector specifying numeric variable(s) to be
used.  If <code>group</code> is <code>NULL</code>, the Wilcoxon signed rank test is
performed and this should be a character vector specifying two numeric
variables which contain the paired observations.  If a grouping variable is
specified in <code>group</code>, the Wilcoxon rank sum test is performed and this
should be a character string specifying the numeric variable of interest.</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_group">group</code></td>
<td>
<p>a character string specifying a grouping variable for the
Wilcoxon rank sum test, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_exact">exact</code></td>
<td>
<p>a logical indicating whether the Wilcoxon rank sum test
should also return the p-value of the exact test.  The default is
<code>FALSE</code>.  Note that the p-value of the asymptotic test is always
returned.</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_object">object</code>, <code id="wilcoxon_test_+3A_x">x</code></td>
<td>
<p>an object of class <code>"wilcoxon_test_SPSS"</code> as returned
by function <code>wilcoxon_test</code>.</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_statistics">statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"ranks"</code> for a summary of the ranks
and <code>"test"</code> for test results.  For the <code>to_SPSS</code> method, only one
option is allowed (the default is the table of test results), but the
<code>print</code> method allows several options (the default is to print all
tables).</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_version">version</code></td>
<td>
<p>a character string specifying whether the table should
mimic the content and look of recent SPSS versions (<code>"modern"</code>) or
older versions (&lt;24; <code>"legacy"</code>).  The main difference in terms of
content is that small p-values are displayed differently.</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_digits">digits</code></td>
<td>
<p>for the <code>to_SPSS</code> method, an integer giving the number
of digits after the comma to be printed in the SPSS table.  For the
<code>print</code> method, this should be an integer vector of length 2, with the
first element corresponding to the number of digits in table with the
summary of the ranks, and the second element corresponding to the number of
digits in the table for the test.</p>
</td></tr>
<tr><td><code id="wilcoxon_test_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="#topic+format_SPSS">format_SPSS</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code><a href="#topic+to_latex">to_latex</a></code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"wilcoxon_test_SPSS"</code> with the following
components:
</p>

<dl>
<dt><code>statistics</code></dt><dd><p>a data frame containing the relevant information
on the ranks.</p>
</dd>
<dt><code>test</code></dt><dd><p>a list containing the results of the Wilcoxon signed
rank test (only paired-sample test).</p>
</dd>
<dt><code>variables</code></dt><dd><p>a character vector containing the name(s) of the
relevant numeric variable(s).</p>
</dd>
<dt><code>n</code></dt><dd><p>an integer giving the number of observations (only
paired-sample test).</p>
</dd>
<dt><code>u</code></dt><dd><p>numeric; the Mann-Whitney U test statistic (only
independent-samples test).</p>
</dd>
<dt><code>w</code></dt><dd><p>numeric; the Wilcoxon rank sum test statistic (only
independent-samples test).</p>
</dd>
<dt><code>asymptotic</code></dt><dd><p>a list containing the results of the Wilcoxon
rank sum test using the normal approximation (only independent-samples
test).</p>
</dd>
<dt><code>exact</code></dt><dd><p>if requested, the corresponding p-value of the exact
Wilcoxon rank sum test test (only independent-samples test).</p>
</dd>
<dt><code>group</code></dt><dd><p>a character string containing the name of the
grouping variable (only independent-samples test).</p>
</dd>
<dt><code>type</code></dt><dd><p>a character string giving the type of Wilcoxon test
performed <code>"paired"</code> or <code>"independent"</code>).</p>
</dd>
</dl>

<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code><a href="#topic+to_latex">to_latex</a></code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>


<h3>Note</h3>

<p>The Wilcoxon rank sum test also reports the value of the equivalent
Mann-Whitney U test statistic.
</p>
<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## paired sample

# load data
data("Exams")

# test whether grades differ between the
# regular exam and the resit
wilcoxon_test(Exams, c("Regular", "Resit"))


## independent samples

# load data
data("Eredivisie")

# test whether market values differ between Dutch and foreign
# players
wilcoxon_test(Eredivisie, "MarketValue", group = "Foreign")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

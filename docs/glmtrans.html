<!DOCTYPE html><html><head><title>Help for package glmtrans</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {glmtrans}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#glmtrans'><p>Fit a transfer learning generalized linear model (GLM) with elasticnet regularization.</p></a></li>
<li><a href='#glmtrans_inf'><p>Calculate asymptotic confidence intervals based on desparsified Lasso and two-step transfer learning method.</p></a></li>
<li><a href='#models'><p>Generate data from Gaussian, logistic and Poisson models.</p></a></li>
<li><a href='#plot.glmtrans'><p>Visualize the losses of different sources and the threshold to determine transferability.</p></a></li>
<li><a href='#predict.glmtrans'><p>Predict for new data from a &quot;glmtrans&quot; object.</p></a></li>
<li><a href='#print.glmtrans'><p>Print a fitted &quot;glmtrans&quot; object.</p></a></li>
<li><a href='#source_detection'><p>Transferable source detection for GLM transfer learning algorithm.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Transfer Learning under Regularized Generalized Linear Models</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>We provide an efficient implementation for two-step multi-source transfer learning algorithms in high-dimensional generalized linear models (GLMs). The elastic-net penalized GLM with three popular families, including linear, logistic and Poisson regression models, can be fitted. To avoid negative transfer, a transferable source detection algorithm is proposed. We also provides visualization for the transferable source detection results. The relevant paper
    is available on arXiv: &lt;<a href="https://doi.org/10.48550/arXiv.2105.14328">doi:10.48550/arXiv.2105.14328</a>&gt;.</td>
</tr>
<tr>
<td>Imports:</td>
<td>glmnet, ggplot2, foreach, doParallel, caret, assertthat,
formatR, stats</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-02-07 23:31:09 UTC; yetian</td>
</tr>
<tr>
<td>Author:</td>
<td>Ye Tian [aut, cre],
  Yang Feng [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ye Tian &lt;ye.t@columbia.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-08 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='glmtrans'>Fit a transfer learning generalized linear model (GLM) with elasticnet regularization.</h2><span id='topic+glmtrans'></span>

<h3>Description</h3>

<p>Fit a transfer learning generalized linear model through elastic net regularization with target data set and multiple source data sets. It also implements a transferable source detection algorithm, which helps avoid negative transfer in practice. Currently can deal with Gaussian, logistic and Poisson models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glmtrans(
  target,
  source = NULL,
  family = c("gaussian", "binomial", "poisson"),
  transfer.source.id = "auto",
  alpha = 1,
  standardize = TRUE,
  intercept = TRUE,
  nfolds = 10,
  cores = 1,
  valid.proportion = NULL,
  valid.nfolds = 3,
  lambda = c(transfer = "lambda.1se", debias = "lambda.min", detection = "lambda.1se"),
  detection.info = TRUE,
  target.weights = NULL,
  source.weights = NULL,
  C0 = 2,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glmtrans_+3A_target">target</code></td>
<td>
<p>target data. Should be a list with elements x and y, where x indicates a predictor matrix with each row/column as a(n) observation/variable, and y indicates the response vector.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_source">source</code></td>
<td>
<p>source data. Should be a list with some sublists, where each of the sublist is a source data set, having elements x and y with the same meaning as in target data.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_family">family</code></td>
<td>
<p>response type. Can be &quot;gaussian&quot;, &quot;binomial&quot; or &quot;poisson&quot;. Default = &quot;gaussian&quot;.
</p>

<ul>
<li><p> &quot;gaussian&quot;: Gaussian distribution.
</p>
</li>
<li><p> &quot;binomial&quot;: logistic distribution. When <code>family = "binomial"</code>, the input response in both <code>target</code> and <code>source</code> should be 0/1.
</p>
</li>
<li><p> &quot;poisson&quot;: poisson distribution. When <code>family = "poisson"</code>, the input response in both <code>target</code> and <code>source</code> should be non-negative.
</p>
</li></ul>
</td></tr>
<tr><td><code id="glmtrans_+3A_transfer.source.id">transfer.source.id</code></td>
<td>
<p>transferable source indices. Can be either a subset of <code>{1, ..., length(source)}</code>, &quot;all&quot; or &quot;auto&quot;. Default = <code>"auto"</code>.
</p>

<ul>
<li><p> a subset of <code>{1, ..., length(source)}</code>: only transfer sources with the specific indices.
</p>
</li>
<li><p> &quot;all&quot;: transfer all sources.
</p>
</li>
<li><p> &quot;auto&quot;: run transferable source detection algorithm to automatically detect which sources to transfer. For the algorithm, refer to the documentation of function <code>source_detection</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="glmtrans_+3A_alpha">alpha</code></td>
<td>
<p>the elasticnet mixing parameter, with <code class="reqn">0 \leq \alpha \leq 1</code>. The penality is defined as </p>
<p style="text-align: center;"><code class="reqn">(1-\alpha)/2||\beta||_2^2+\alpha ||\beta||_1</code>
</p>
<p>. <code>alpha = 1</code> encodes the lasso penalty while <code>alpha = 0</code> encodes the ridge penalty. Default = 1.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_standardize">standardize</code></td>
<td>
<p>the logical flag for x variable standardization, prior to fitting the model sequence. The coefficients are always returned on the original scale. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_intercept">intercept</code></td>
<td>
<p>the logical indicator of whether the intercept should be fitted or not. Default = <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_nfolds">nfolds</code></td>
<td>
<p>the number of folds. Used in the cross-validation for GLM elastic net fitting procedure. Default = 10. Smallest value allowable is <code>nfolds = 3</code>.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_cores">cores</code></td>
<td>
<p>the number of cores used for parallel computing. Default = 1.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_valid.proportion">valid.proportion</code></td>
<td>
<p>the proportion of target data to be used as validation data when detecting transferable sources. Useful only when <code>transfer.source.id = "auto"</code>. Default = <code>NULL</code>, meaning that the cross-validation will be applied.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_valid.nfolds">valid.nfolds</code></td>
<td>
<p>the number of folds used in cross-validation procedure when detecting transferable sources. Useful only when <code>transfer.source.id = "auto"</code> and <code>valid.proportion = NULL</code>. Default = 3.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_lambda">lambda</code></td>
<td>
<p>a vector indicating the choice of lambdas in transferring, debiasing and detection steps. Should be a vector with names &quot;transfer&quot;, &quot;debias&quot;, and &quot;detection&quot;, each component of which can be either &quot;lambda.min&quot; or &quot;lambda.1se&quot;. Component <code>transfer</code> is the lambda (the penalty parameter) used in transferrring step. Component <code>debias</code> is the lambda used in debiasing step. Component <code>detection</code> is the lambda used in the transferable source detection algorithm. Default choice of <code>lambda.transfer</code> and <code>lambda.detection</code> are &quot;lambda.1se&quot;, while default <code>lambda.debias</code> = &quot;lambda.min&quot;. If the user wants to change the default setting, input a vector with corresponding <code>lambda.transfer</code>/<code>lambda.debias</code>/<code>lambda.detection</code> names and corresponding values. Examples: lambda = list(transfer = &quot;lambda.min&quot;, debias = &quot;lambda.1se&quot;); lambda = list(transfer = &quot;lambda.min&quot;, detection = &quot;lambda.min&quot;).
</p>

<ul>
<li><p> &quot;lambda.min&quot;: value of lambda that gives minimum mean cross-validated error in the sequence of lambda.
</p>
</li>
<li><p> &quot;lambda.1se&quot;: largest value of lambda such that error is within 1 standard error of the minimum.
</p>
</li></ul>
</td></tr>
<tr><td><code id="glmtrans_+3A_detection.info">detection.info</code></td>
<td>
<p>the logistic flag indicating whether to print detection information or not. Useful only when <code>transfer.source.id = "auto"</code>. Default = <code>TURE</code>.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_target.weights">target.weights</code></td>
<td>
<p>weight vector for each target instance. Should be a vector with the same length of target response. Default = <code>NULL</code>, which makes all instances equal-weighted.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_source.weights">source.weights</code></td>
<td>
<p>a list of weight vectors for the instances from each source. Should be a list with the same length of the number of sources. Default = <code>NULL</code>, which makes all instances equal-weighted.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_c0">C0</code></td>
<td>
<p>the constant used in the transferable source detection algorithm. See Algorithm 2 in Tian, Y. and Feng, Y., 2021. Default = 2.</p>
</td></tr>
<tr><td><code id="glmtrans_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with S3 class <code>"glmtrans"</code>.
</p>
<table>
<tr><td><code>beta</code></td>
<td>
<p>the estimated coefficient vector.</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the response type.</p>
</td></tr>
<tr><td><code>transfer.source.id</code></td>
<td>
<p>the transferable souce index. If in the input, <code>transfer.source.id = 1:length(source)</code> or <code>transfer.source.id = "all"</code>, then the outputed <code>transfer.source.id = 1:length(source)</code>. If the inputed <code>transfer.source.id = "auto"</code>, only transferable source detected by the algorithm will be outputed.</p>
</td></tr>
<tr><td><code>fitting.list</code></td>
<td>
<p>a list of other parameters of the fitted model.</p>
</td></tr>
</table>

<ul>
<li><p>w_athe estimator obtained from the transferring step.
</p>
</li>
<li><p>delta_athe estimator obtained from the debiasing step.
</p>
</li>
<li><p>target.valid.lossthe validation (or cross-validation) loss on target data. Only available when <code>transfer.source.id = "auto"</code>.
</p>
</li>
<li><p>source.lossthe loss on each source data. Only available when <code>transfer.source.id = "auto"</code>.
</p>
</li>
<li><p>thresholdthe threshold to determine transferability. Only available when <code>transfer.source.id = "auto"</code>.
</p>
</li></ul>



<h3>References</h3>

<p>Tian, Y. and Feng, Y., 2021. <em>Transfer Learning under High-dimensional Generalized Linear Models. arXiv preprint arXiv:2105.14328.</em>
</p>
<p>Li, S., Cai, T.T. and Li, H., 2020. <em>Transfer learning for high-dimensional linear regression: Prediction, estimation, and minimax optimality. arXiv preprint arXiv:2006.10593.</em>
</p>
<p>Friedman, J., Hastie, T. and Tibshirani, R., 2010. <em>Regularization paths for generalized linear models via coordinate descent. Journal of statistical software, 33(1), p.1.</em>
</p>
<p>Zou, H. and Hastie, T., 2005. <em>Regularization and variable selection via the elastic net. Journal of the royal statistical society: series B (statistical methodology), 67(2), pp.301-320.</em>
</p>
<p>Tibshirani, R., 1996. <em>Regression shrinkage and selection via the lasso. Journal of the Royal Statistical Society: Series B (Methodological), 58(1), pp.267-288.</em>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+predict.glmtrans">predict.glmtrans</a></code>, <code><a href="#topic+source_detection">source_detection</a></code>, <code><a href="#topic+models">models</a></code>, <code><a href="#topic+plot.glmtrans">plot.glmtrans</a></code>, <code><a href="glmnet.html#topic+cv.glmnet">cv.glmnet</a></code>, <code><a href="glmnet.html#topic+glmnet">glmnet</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(0, kind = "L'Ecuyer-CMRG")

# fit a linear regression model
D.training &lt;- models("gaussian", type = "all", n.target = 100, K = 2, p = 500)
D.test &lt;- models("gaussian", type = "target", n.target = 100, p = 500)
fit.gaussian &lt;- glmtrans(D.training$target, D.training$source)
y.pred.glmtrans &lt;- predict(fit.gaussian, D.test$target$x)

# compare the test MSE with classical Lasso fitted on target data
library(glmnet)
fit.lasso &lt;- cv.glmnet(x = D.training$target$x, y = D.training$target$y)
y.pred.lasso &lt;- predict(fit.lasso, D.test$target$x)

mean((y.pred.glmtrans - D.test$target$y)^2)
mean((y.pred.lasso - D.test$target$y)^2)


# fit a logistic regression model
D.training &lt;- models("binomial", type = "all", n.target = 100, K = 2, p = 500)
D.test &lt;- models("binomial", type = "target", n.target = 100, p = 500)
fit.binomial &lt;- glmtrans(D.training$target, D.training$source, family = "binomial")
y.pred.glmtrans &lt;- predict(fit.binomial, D.test$target$x, type = "class")

# compare the test error with classical Lasso fitted on target data
library(glmnet)
fit.lasso &lt;- cv.glmnet(x = D.training$target$x, y = D.training$target$y, family = "binomial")
y.pred.lasso &lt;- as.numeric(predict(fit.lasso, D.test$target$x, type = "class"))

mean(y.pred.glmtrans != D.test$target$y)
mean(y.pred.lasso != D.test$target$y)


# fit a Poisson regression model
D.training &lt;- models("poisson", type = "all", n.target = 100, K = 2, p = 500)
D.test &lt;- models("poisson", type = "target", n.target = 100, p = 500)
fit.poisson &lt;- glmtrans(D.training$target, D.training$source, family = "poisson")
y.pred.glmtrans &lt;- predict(fit.poisson, D.test$target$x, type = "response")

# compare the test MSE with classical Lasso fitted on target data
fit.lasso &lt;- cv.glmnet(x = D.training$target$x, y = D.training$target$y, family = "poisson")
y.pred.lasso &lt;- as.numeric(predict(fit.lasso, D.test$target$x, type = "response"))

mean((y.pred.glmtrans - D.test$target$y)^2)
mean((y.pred.lasso - D.test$target$y)^2)

</code></pre>

<hr>
<h2 id='glmtrans_inf'>Calculate asymptotic confidence intervals based on desparsified Lasso and two-step transfer learning method.</h2><span id='topic+glmtrans_inf'></span>

<h3>Description</h3>

<p>Given the point esimate of the coefficient vector from <code>glmtrans</code>, calculate the asymptotic confidence interval of each component. The detailed inference algorithm can be found as Algorithm 3 in the latest version of Tian, Y. and Feng, Y., 2021. The algorithm is consructed based on a modified version of desparsified Lasso (Van de Geer, S. et al, 2014; Dezeure, R. et al, 2015).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glmtrans_inf(
  target,
  source = NULL,
  family = c("gaussian", "binomial", "poisson"),
  beta.hat = NULL,
  nodewise.transfer.source.id = "all",
  cores = 1,
  level = 0.95,
  intercept = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glmtrans_inf_+3A_target">target</code></td>
<td>
<p>target data. Should be a list with elements x and y, where x indicates a predictor matrix with each row/column as a(n) observation/variable, and y indicates the response vector.</p>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_source">source</code></td>
<td>
<p>source data. Should be a list with some sublists, where each of the sublist is a source data set, having elements x and y with the same meaning as in target data.</p>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_family">family</code></td>
<td>
<p>response type. Can be &quot;gaussian&quot;, &quot;binomial&quot; or &quot;poisson&quot;. Default = &quot;gaussian&quot;.
</p>

<ul>
<li><p> &quot;gaussian&quot;: Gaussian distribution.
</p>
</li>
<li><p> &quot;binomial&quot;: logistic distribution. When <code>family = "binomial"</code>, the input response in both <code>target</code> and <code>source</code> should be 0/1.
</p>
</li>
<li><p> &quot;poisson&quot;: poisson distribution. When <code>family = "poisson"</code>, the input response in both <code>target</code> and <code>source</code> should be non-negative.
</p>
</li></ul>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_beta.hat">beta.hat</code></td>
<td>
<p>initial estimate of the coefficient vector (the intercept should be the first component). Can be from the output of function <code>glmtrans</code>.</p>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_nodewise.transfer.source.id">nodewise.transfer.source.id</code></td>
<td>
<p>transferable source indices in the infernce (the set A in Algorithm 3 of Tian, Y. and Feng, Y., 2021). Can be either a subset of <code>{1, ..., length(source)}</code>, &quot;all&quot; or <code>NULL</code>. Default = <code>"all"</code>.
</p>

<ul>
<li><p> a subset of <code>{1, ..., length(source)}</code>: only transfer sources with the specific indices.
</p>
</li>
<li><p> &quot;all&quot;: transfer all sources.
</p>
</li>
<li><p> NULL: don't transfer any sources and only use target data.
</p>
</li></ul>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_cores">cores</code></td>
<td>
<p>the number of cores used for parallel computing. Default = 1.</p>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_level">level</code></td>
<td>
<p>the level of confidence interval. Default = 0.95. Note that the level here refers to the asymptotic level of confidence interval of a single component rather than the multiple intervals.</p>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_intercept">intercept</code></td>
<td>
<p>whether the model includes the intercept or not. Default = TRUE. Should be set as TRUE if the intercept of <code>beta.hat</code> is not zero.</p>
</td></tr>
<tr><td><code id="glmtrans_inf_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of output. b.hat = b.hat, beta.hat = beta.hat, CI = CI, var.est = var.est
</p>
<table>
<tr><td><code>b.hat</code></td>
<td>
<p>the center of confidence intervals. A <code>p</code>-dimensional vector, where <code>p</code> is the number of predictors.</p>
</td></tr>
<tr><td><code>beta.hat</code></td>
<td>
<p>the initial estimate of the coefficient vector (the same as input).</p>
</td></tr>
<tr><td><code>CI</code></td>
<td>
<p>confidence intervals (CIs) with the specific level. A <code>p</code> by 3 matrix, where three columns indicate the center, lower limit and upper limit of CIs, respectively. Each row represents a coefficient component.</p>
</td></tr>
<tr><td><code>var.est</code></td>
<td>
<p>the estimate of variances in the CLT (Theta transpose times Sigma times Theta, in section 2.5 of Tian, Y. and Feng, Y., 2021). A <code>p</code>-dimensional vector, where <code>p</code> is the number of predictors.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Tian, Y. and Feng, Y., 2021. <em>Transfer Learning under High-dimensional Generalized Linear Models. arXiv preprint arXiv:2105.14328.</em>
</p>
<p>Van de Geer, S., Bühlmann, P., Ritov, Y.A. and Dezeure, R., 2014. <em>On asymptotically optimal confidence regions and tests for high-dimensional models. The Annals of Statistics, 42(3), pp.1166-1202.</em>
</p>
<p>Dezeure, R., Bühlmann, P., Meier, L. and Meinshausen, N., 2015. <em>High-dimensional inference: confidence intervals, p-values and R-software hdi. Statistical science, pp.533-558.</em>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glmtrans">glmtrans</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(0, kind = "L'Ecuyer-CMRG")

# generate binomial data
D.training &lt;- models("binomial", type = "all", K = 2, p = 200)

# fit a logistic regression model via two-step transfer learning method
fit.binomial &lt;- glmtrans(D.training$target, D.training$source, family = "binomial")

# calculate the CI based on the point estimate from two-step transfer learning method
fit.inf &lt;- glmtrans_inf(target = D.training$target, source = D.training$source,
family = "binomial", beta.hat = fit.binomial$beta, cores = 2)

## End(Not run)
</code></pre>

<hr>
<h2 id='models'>Generate data from Gaussian, logistic and Poisson models.</h2><span id='topic+models'></span>

<h3>Description</h3>

<p>Generate data from Gaussian, logistic and Poisson models used in the simulation part of Tian, Y. and Feng, Y., 2021.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>models(
  family = c("gaussian", "binomial", "poisson"),
  type = c("all", "source", "target"),
  cov.type = 1,
  h = 5,
  K = 5,
  n.target = 200,
  n.source = rep(100, K),
  s = 5,
  p = 500,
  Ka = K
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="models_+3A_family">family</code></td>
<td>
<p>response type. Can be &quot;gaussian&quot;, &quot;binomial&quot; or &quot;poisson&quot;. Default = &quot;gaussian&quot;.
</p>

<ul>
<li><p> &quot;gaussian&quot;: Gaussian distribution.
</p>
</li>
<li><p> &quot;binomial&quot;: logistic distribution. When <code>family = "binomial"</code>, the input response in both <code>target</code> and <code>source</code> should be 0/1.
</p>
</li>
<li><p> &quot;poisson&quot;: poisson distribution. When <code>family = "poisson"</code>, the input response in both <code>target</code> and <code>source</code> should be non-negative.
</p>
</li></ul>
</td></tr>
<tr><td><code id="models_+3A_type">type</code></td>
<td>
<p>the type of generated data. Can be &quot;all&quot;, &quot;source&quot; or &quot;target&quot;.</p>
</td></tr>
<tr><td><code id="models_+3A_cov.type">cov.type</code></td>
<td>
<p>the type of covariates. Can be 1 or 2 (numerical). If it equals to 1, the predictors will be generated from the distribution used in Section 4.1.1 (Ah-Trans-GLM) in the latest version of Tian, Y. and Feng, Y., 2021. If it equals to 2, the predictors will be generated from the distribution used in Section 4.1.2 (When transferable sources are unknown).
</p>

<ul>
<li><p> &quot;all&quot;: generate a list with a target data set of size <code>n.target</code> and K source data set of size <code>n.source</code>.
</p>
</li>
<li><p> &quot;source&quot;: generate a list with K source data set of size <code>n.source</code>.
</p>
</li>
<li><p> &quot;target&quot;: generate a list with a target data set of size <code>n.target</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="models_+3A_h">h</code></td>
<td>
<p>measures the deviation (<code class="reqn">l_1</code>-norm) of transferable source coefficient from the target coefficient.</p>
</td></tr>
<tr><td><code id="models_+3A_k">K</code></td>
<td>
<p>the number of source data sets. Default = 5.</p>
</td></tr>
<tr><td><code id="models_+3A_n.target">n.target</code></td>
<td>
<p>the sample size of target data. Should be a positive integer. Default = 100.</p>
</td></tr>
<tr><td><code id="models_+3A_n.source">n.source</code></td>
<td>
<p>the sample size of each source data. Should be a vector of length <code>K</code>. Default is a <code>K</code>-vector with all elements 150.</p>
</td></tr>
<tr><td><code id="models_+3A_s">s</code></td>
<td>
<p>how many components in the target coefficient are non-zero, which controls the sparsity of target problem. Default = 15.</p>
</td></tr>
<tr><td><code id="models_+3A_p">p</code></td>
<td>
<p>the dimension of data. Default = 1000.</p>
</td></tr>
<tr><td><code id="models_+3A_ka">Ka</code></td>
<td>
<p>the number of transferable sources. Should be an integer between 0 and <code>K</code>. Default = K.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of data sets which depend on the value of <code>type</code>.
</p>

<ul>
<li> <p><code>type</code> = &quot;all&quot;: a list of two components named &quot;target&quot; and &quot;source&quot; storing the target and source data, respectively. Component source is a list containing <code>K</code> components with the first <code>Ka</code> ones <code>h</code>-transferable and the remaining ones <code>h</code>-nontransferable. The target data set and each source data set have components &quot;x&quot; and &quot;y&quot;, as the predictors and responses, respectively.
</p>
</li>
<li> <p><code>type</code> = &quot;source&quot;: a list with a signle component &quot;source&quot;. This component contains a list of <code>K</code> components with the first <code>Ka</code> ones <code>h</code>-transferable and the remaining ones <code>h</code>-nontransferable. Each source data set has components &quot;x&quot; and &quot;y&quot;, as the predictors and responses, respectively.
</p>
</li>
<li> <p><code>type</code> = &quot;target&quot;: a list with a signle component &quot;target&quot;. This component contains another list with components &quot;x&quot; and &quot;y&quot;, as the predictors and responses of target data, respectively.
</p>
</li></ul>



<h3>References</h3>

<p>Tian, Y. and Feng, Y., 2021. <em>Transfer Learning under High-dimensional Generalized Linear Models. arXiv preprint arXiv:2105.14328.</em>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glmtrans">glmtrans</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(0, kind = "L'Ecuyer-CMRG")

D.all &lt;- models("binomial", type = "all")
D.target &lt;- models("binomial", type = "target")
D.source &lt;- models("binomial", type = "source")

</code></pre>

<hr>
<h2 id='plot.glmtrans'>Visualize the losses of different sources and the threshold to determine transferability.</h2><span id='topic+plot.glmtrans'></span><span id='topic+plot.glmtrans_source_detection'></span>

<h3>Description</h3>

<p>Plot the losses of different sources and the threshold to determine transferability for object with class &quot;glmtrans&quot; or &quot;glmtrans_source_detection&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glmtrans'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.glmtrans_+3A_x">x</code></td>
<td>
<p>an object from class &quot;glmtrans&quot; or &quot;glmtrans_source_detection&quot;, which are the output of functions <code>glmtrans</code> and <code>source_detection</code>, respectively.</p>
</td></tr>
<tr><td><code id="plot.glmtrans_+3A_...">...</code></td>
<td>
<p>additional arguments that can be passed to <code>ggplot</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a &quot;ggplot&quot; visualization with the transferable threshold and losses of different sources.
</p>


<h3>References</h3>

<p>Tian, Y. and Feng, Y., 2021. <em>Transfer learning with high-dimensional generalized linear models. Submitted.</em>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glmtrans">glmtrans</a></code>, <code><a href="#topic+source_detection">source_detection</a></code>, <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1, kind = "L'Ecuyer-CMRG")

D.training &lt;- models("gaussian", K = 2, p = 500, Ka = 1)

# plot for class "glmtrans"
fit.gaussian &lt;- glmtrans(D.training$target, D.training$source)
plot(fit.gaussian)


# plot for class "glmtrans_source_detection"
detection.gaussian &lt;- source_detection(D.training$target, D.training$source)
plot(detection.gaussian)


</code></pre>

<hr>
<h2 id='predict.glmtrans'>Predict for new data from a &quot;glmtrans&quot; object.</h2><span id='topic+predict.glmtrans'></span>

<h3>Description</h3>

<p>Predict from a &quot;glmtrans&quot; object based on new observation data. There are various types of output available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glmtrans'
predict(
  object,
  newx,
  type = c("link", "response", "class", "integral response"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.glmtrans_+3A_object">object</code></td>
<td>
<p>an object from class &quot;glmtrans&quot;, which comes from the output of function <code>glmtrans</code>.</p>
</td></tr>
<tr><td><code id="predict.glmtrans_+3A_newx">newx</code></td>
<td>
<p>the matrix of new values for predictors at which predictions are to be made. Should be in accordance with the data for training <code>object</code>.</p>
</td></tr>
<tr><td><code id="predict.glmtrans_+3A_type">type</code></td>
<td>
<p>the type of prediction. Default = &quot;link&quot;.</p>
</td></tr>
<tr><td><code id="predict.glmtrans_+3A_...">...</code></td>
<td>
<p>additional arguments.
</p>

<ul>
<li><p>&quot;link&quot;the linear predictors. When <code>family = "gaussian"</code>, it is the same as the predicited responses.
</p>
</li>
<li><p>&quot;response&quot;gives the predicited probabilities when <code>family = "binomial"</code>, the predicited mean when <code>family = "poisson"</code>, and the predicited responses when <code>family = "gaussian"</code>.
</p>
</li>
<li><p>&quot;class&quot;the predicited 0/1 responses for lositic distribution. Applies only when <code>family = "binomial"</code>.
</p>
</li>
<li><p>&quot;integral response&quot;the predicited integral response for Poisson distribution. Applies only when <code>family = "poisson"</code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>the predicted result on new data, which depends on <code>type</code>.
</p>


<h3>References</h3>

<p>Tian, Y. and Feng, Y., 2021. <em>Transfer learning with high-dimensional generalized linear models. Submitted.</em>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glmtrans">glmtrans</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1, kind = "L'Ecuyer-CMRG")

# fit a logistic model
D.training &lt;- models("binomial", type = "all", K = 1, p = 500)
D.test &lt;- models("binomial", type = "target", n.target = 10, p = 500)
fit.binomial &lt;- glmtrans(D.training$target, D.training$source, family = "binomial")

predict(fit.binomial, D.test$target$x, type = "link")
predict(fit.binomial, D.test$target$x, type = "response")
predict(fit.binomial, D.test$target$x, type = "class")


# fit a Poisson model
D.training &lt;- models("poisson", type = "all", K = 1, p = 500)
D.test &lt;- models("poisson", type = "target", n.target = 10, p = 500)
fit.poisson &lt;- glmtrans(D.training$target, D.training$source, family = "poisson")

predict(fit.poisson, D.test$target$x, type = "response")
predict(fit.poisson, D.test$target$x, type = "integral response")

</code></pre>

<hr>
<h2 id='print.glmtrans'>Print a fitted &quot;glmtrans&quot; object.</h2><span id='topic+print.glmtrans'></span>

<h3>Description</h3>

<p>Similar to the usual print methods, this function summarizes results from a fitted <code>"glmtrans"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glmtrans'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.glmtrans_+3A_x">x</code></td>
<td>
<p>fitted <code>"glmtrans"</code> model object.</p>
</td></tr>
<tr><td><code id="print.glmtrans_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glmtrans">glmtrans</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1, kind = "L'Ecuyer-CMRG")

# fit a linear model
D.training &lt;- models("gaussian", K = 2, p = 500)
fit.gaussian &lt;- glmtrans(D.training$target, D.training$source)

fit.gaussian

</code></pre>

<hr>
<h2 id='source_detection'>Transferable source detection for GLM transfer learning algorithm.</h2><span id='topic+source_detection'></span>

<h3>Description</h3>

<p>Detect transferable sources from multiple source data sets. Currently can deal with Gaussian, logistic and Poisson models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_detection(
  target,
  source = NULL,
  family = c("gaussian", "binomial", "poisson"),
  alpha = 1,
  standardize = TRUE,
  intercept = TRUE,
  nfolds = 10,
  cores = 1,
  valid.nfolds = 3,
  lambda = "lambda.1se",
  detection.info = TRUE,
  target.weights = NULL,
  source.weights = NULL,
  C0 = 2,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="source_detection_+3A_target">target</code></td>
<td>
<p>target data. Should be a list with elements x and y, where x indicates a predictor matrix with each row/column as a(n) observation/variable, and y indicates the response vector.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_source">source</code></td>
<td>
<p>source data. Should be a list with some sublists, where each of the sublist is a source data set, having elements x and y with the same meaning as in target data.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_family">family</code></td>
<td>
<p>response type. Can be &quot;gaussian&quot;, &quot;binomial&quot; or &quot;poisson&quot;. Default = &quot;gaussian&quot;.
</p>

<ul>
<li><p> &quot;gaussian&quot;: Gaussian distribution.
</p>
</li>
<li><p> &quot;binomial&quot;: logistic distribution. When <code>family = "binomial"</code>, the input response in both <code>target</code> and <code>source</code> should be 0/1.
</p>
</li>
<li><p> &quot;poisson&quot;: poisson distribution. When <code>family = "poisson"</code>, the input response in both <code>target</code> and <code>source</code> should be non-negative.
</p>
</li></ul>
</td></tr>
<tr><td><code id="source_detection_+3A_alpha">alpha</code></td>
<td>
<p>the elasticnet mixing parameter, with <code class="reqn">0 \leq \alpha \leq 1</code>. The penality is defined as </p>
<p style="text-align: center;"><code class="reqn">(1-\alpha)/2||\beta||_2^2+\alpha ||\beta||_1</code>
</p>
<p>. <code>alpha = 1</code> encodes the lasso penalty while <code>alpha = 0</code> encodes the ridge penalty. Default = 1.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_standardize">standardize</code></td>
<td>
<p>the logical flag for x variable standardization, prior to fitting the model sequence. The coefficients are always returned on the original scale. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_intercept">intercept</code></td>
<td>
<p>the logical indicator of whether the intercept should be fitted or not. Default = <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_nfolds">nfolds</code></td>
<td>
<p>the number of folds. Used in the cross-validation for GLM elastic net fitting procedure. Default = 10. Smallest value allowable is <code>nfolds = 3</code>.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_cores">cores</code></td>
<td>
<p>the number of cores used for parallel computing. Default = 1.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_valid.nfolds">valid.nfolds</code></td>
<td>
<p>the number of folds used in cross-validation procedure when detecting transferable sources. Useful only when <code>transfer.source.id = "auto"</code>. Default = 3.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_lambda">lambda</code></td>
<td>
<p>lambda (the penalty parameter) used in the transferable source detection algorithm. Can be either &quot;lambda.min&quot; or &quot;lambda.1se&quot;. Default = &quot;lambda.1se&quot;.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_detection.info">detection.info</code></td>
<td>
<p>the logistic flag indicating whether to print detection information or not. Useful only when <code>transfer.source.id = "auto"</code>. Default = <code>TURE</code>.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_target.weights">target.weights</code></td>
<td>
<p>weight vector for each target instance. Should be a vector with the same length of target response. Default = <code>NULL</code>, which makes all instances equal-weighted.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_source.weights">source.weights</code></td>
<td>
<p>a list of weight vectors for the instances from each source. Should be a list with the same length of the number of sources. Default = <code>NULL</code>, which makes all instances equal-weighted.</p>
</td></tr>
<tr><td><code id="source_detection_+3A_c0">C0</code></td>
<td>
<p>the constant used in the transferable source detection algorithm. See Algorithm 2 in Tian, Y. and Feng, Y., 2021. Default = 2.
</p>

<ul>
<li><p> &quot;lambda.min&quot;: value of lambda that gives minimum mean cross-validated error in the sequence of lambda.
</p>
</li>
<li><p> &quot;lambda.1se&quot;: largest value of lambda such that error is within 1 standard error of the minimum.
</p>
</li></ul>
</td></tr>
<tr><td><code id="source_detection_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with S3 class <code>"glmtrans_source_detection"</code>.
</p>
<table>
<tr><td><code>target.valid.loss</code></td>
<td>
<p>the validation (or cross-validation) loss on target data. Only available when <code>transfer.source.id = "auto"</code>.</p>
</td></tr>
<tr><td><code>source.loss</code></td>
<td>
<p>the loss on each source data. Only available when <code>transfer.source.id = "auto"</code>.</p>
</td></tr>
<tr><td><code>threshold</code></td>
<td>
<p>the threshold to determine transferability. Only available when <code>transfer.source.id = "auto"</code>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p><code>source.loss</code> and <code>threshold</code> outputed by <code>source_detection</code> can be visualized by function <code>plot.glmtrans</code>.
</p>


<h3>References</h3>

<p>Tian, Y. and Feng, Y., 2021. <em>Transfer Learning under High-dimensional Generalized Linear Models. arXiv preprint arXiv:2105.14328.</em>
</p>
<p>Li, S., Cai, T.T. and Li, H., 2020. <em>Transfer learning for high-dimensional linear regression: Prediction, estimation, and minimax optimality. arXiv preprint arXiv:2006.10593.</em>
</p>
<p>Friedman, J., Hastie, T. and Tibshirani, R., 2010. <em>Regularization paths for generalized linear models via coordinate descent. Journal of statistical software, 33(1), p.1.</em>
</p>
<p>Zou, H. and Hastie, T., 2005. <em>Regularization and variable selection via the elastic net. Journal of the royal statistical society: series B (statistical methodology), 67(2), pp.301-320.</em>
</p>
<p>Tibshirani, R., 1996. <em>Regression shrinkage and selection via the lasso. Journal of the Royal Statistical Society: Series B (Methodological), 58(1), pp.267-288.</em>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glmtrans">glmtrans</a></code>, <code><a href="#topic+predict.glmtrans">predict.glmtrans</a></code>, <code><a href="#topic+models">models</a></code>, <code><a href="#topic+plot.glmtrans">plot.glmtrans</a></code>, <code><a href="glmnet.html#topic+cv.glmnet">cv.glmnet</a></code>, <code><a href="glmnet.html#topic+glmnet">glmnet</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(0, kind = "L'Ecuyer-CMRG")

# study the linear model
D.training &lt;- models("gaussian", type = "all", K = 2, p = 500, Ka = 1, n.target = 100, cov.type = 2)
detection.gaussian &lt;- source_detection(D.training$target, D.training$source)
detection.gaussian$transferable.source.id


# study the logistic model
D.training &lt;- models("binomial", type = "all", K = 2, p = 500, Ka = 1, n.target = 100, cov.type = 2)
detection.binomial &lt;- source_detection(D.training$target, D.training$source,
family = "binomial", cores = 2)
detection.binomial$transferable.source.id


# study Poisson model
D.training &lt;- models("poisson", type = "all", K = 2, p = 500, Ka = 1, n.target = 100, cov.type = 2)
detection.poisson &lt;- source_detection(D.training$target, D.training$source,
family = "poisson", cores = 2)
detection.poisson$transferable.source.id

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package esquisse</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {esquisse}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#esquisse'><p>Explore and Visualize Your Data Interactively</p></a></li>
<li><a href='#bs_theme_esquisse'><p>Bootstrap Theme for Esquisse</p></a></li>
<li><a href='#build_aes'><p>Build aesthetics to use in a plot</p></a></li>
<li><a href='#dragulaInput'><p>Drag And Drop Input Widget</p></a></li>
<li><a href='#dropInput'><p>Dropdown Input</p></a></li>
<li><a href='#esquisse-deprecated'><p>Deprecated functions</p></a></li>
<li><a href='#esquisse-exports'><p>esquisse exported operators and S3 methods</p></a></li>
<li><a href='#esquisse-module'><p>Esquisse module</p></a></li>
<li><a href='#esquisser'><p>An add-in to easily create plots with ggplot2</p></a></li>
<li><a href='#geoms'><p>Potential geometries according to the data</p></a></li>
<li><a href='#ggcall'><p>Generate code to create a <code>ggplot2</code></p></a></li>
<li><a href='#ggplot_to_ppt'><p>Utility to export ggplot objects to PowerPoint</p></a></li>
<li><a href='#ggplot-output'><p>Render <code>ggplot</code> module</p></a></li>
<li><a href='#input-colors'><p>Picker input to select color(s) or palette</p></a></li>
<li><a href='#match_geom_args'><p>Match list of arguments to arguments of geometry</p></a></li>
<li><a href='#safe_ggplot'><p>Safely render a <code>ggplot</code> in Shiny application</p></a></li>
<li><a href='#save-ggplot-module'><p>Save <code>ggplot</code> module</p></a></li>
<li><a href='#save-ggplot-multi-module'><p>Save multiple <code>ggplot</code> module</p></a></li>
<li><a href='#updateDragulaInput'><p>Update Dragula Input</p></a></li>
<li><a href='#updateDropInput'><p>Change the value of a drop input on the client</p></a></li>
<li><a href='#which_pal_scale'><p>Automatically select appropriate color scale</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Explore and Visualize Your Data Interactively</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A 'shiny' gadget to create 'ggplot2' figures interactively with drag-and-drop to map your variables to different aesthetics.
    You can quickly visualize your data accordingly to their type, export in various formats,
    and retrieve the code to reproduce the plot.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://dreamrs.github.io/esquisse/">https://dreamrs.github.io/esquisse/</a>,
<a href="https://github.com/dreamRs/esquisse">https://github.com/dreamRs/esquisse</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dreamRs/esquisse/issues">https://github.com/dreamRs/esquisse/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>bslib, datamods (&ge; 1.5.1), downlit, ggplot2 (&ge; 3.0.0),
grDevices, htmltools (&ge; 0.5.0), jsonlite, phosphoricons (&ge;
0.2.1), rlang (&ge; 0.3.1), rstudioapi, scales, shiny (&ge; 1.1.0),
shinybusy, shinyWidgets (&ge; 0.6.0), zip</td>
</tr>
<tr>
<td>Suggests:</td>
<td>officer, rvg, rio, testthat (&ge; 2.1.0), knitr, rmarkdown,
ggthemes, hrbrthemes, plotly</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-21 09:33:17 UTC; perri</td>
</tr>
<tr>
<td>Author:</td>
<td>Fanny Meyer [aut],
  Victor Perrier [aut, cre],
  Ian Carroll [ctb] (Faceting support),
  Xiangnan Dang [ctb] (Facets rows and cols, X/Y limits),
  Nicolas Bevacqua [cph] (author of dragula JavaScript library),
  Daybrush (Younkue Choi) [cph] (author of moveable JavaScript library),
  Zeno Rocha [cph] (author of clipboard JavaScript library)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Victor Perrier &lt;victor.perrier@dreamrs.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-21 12:30:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='esquisse'>Explore and Visualize Your Data Interactively</h2><span id='topic+esquisse-package'></span><span id='topic+esquisse'></span>

<h3>Description</h3>

<p>A 'shiny' gadget to create 'ggplot2' figures interactively with drag-and-drop to map your variables to different aesthetics.
You can quickly visualize your data accordingly to their type, export in various formats,
and retrieve the code to reproduce the plot.
</p>


<h3>Author(s)</h3>

<p>Fanny Meyer &amp; Victor Perrier (@dreamRs_fr)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://dreamrs.github.io/esquisse/">https://dreamrs.github.io/esquisse/</a>
</p>
</li>
<li> <p><a href="https://github.com/dreamRs/esquisse">https://github.com/dreamRs/esquisse</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/dreamRs/esquisse/issues">https://github.com/dreamRs/esquisse/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

esquisser()

# launch esquisse with specific data:
esquisser(mtcars)


## End(Not run)
</code></pre>

<hr>
<h2 id='bs_theme_esquisse'>Bootstrap Theme for Esquisse</h2><span id='topic+bs_theme_esquisse'></span>

<h3>Description</h3>

<p>Bootstrap Theme for Esquisse
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bs_theme_esquisse()
</code></pre>


<h3>Value</h3>

<p>A <code><a href="bslib.html#topic+bs_theme">bslib::bs_theme()</a></code>.
</p>

<hr>
<h2 id='build_aes'>Build aesthetics to use in a plot</h2><span id='topic+build_aes'></span>

<h3>Description</h3>

<p>Build aesthetics to use in a plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_aes(data, ..., .list = NULL, geom = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="build_aes_+3A_data">data</code></td>
<td>
<p>Data to use in the plot.</p>
</td></tr>
<tr><td><code id="build_aes_+3A_...">...</code></td>
<td>
<p>Named list of aesthetics.</p>
</td></tr>
<tr><td><code id="build_aes_+3A_.list">.list</code></td>
<td>
<p>Alternative to <code>...</code> to use a preexisting named list.</p>
</td></tr>
<tr><td><code id="build_aes_+3A_geom">geom</code></td>
<td>
<p>Geom to use, according to the geom aesthetics may vary.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An expression
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Classic
build_aes(iris, x = "Sepal.Width")
build_aes(iris, x = "Sepal.Width", y = "Sepal.Width")

# Explicit geom : no change
build_aes(iris, x = "Species", geom = "bar")

# Little trick if data is count data
df &lt;- data.frame(
  LET = c("A", "B"),
  VAL = c(4, 7)
)
build_aes(df, x = "LET", y = "VAL", geom = "bar")

# e.g. :
library(ggplot2)
ggplot(df) +
  build_aes(df, x = "LET", y = "VAL", geom = "bar") +
  geom_bar(stat = "summary", fun = "mean")
</code></pre>

<hr>
<h2 id='dragulaInput'>Drag And Drop Input Widget</h2><span id='topic+dragulaInput'></span>

<h3>Description</h3>

<p>Drag And Drop Input Widget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dragulaInput(
  inputId,
  label = NULL,
  sourceLabel,
  targetsLabels,
  targetsIds = NULL,
  choices = NULL,
  choiceNames = NULL,
  choiceValues = NULL,
  selected = NULL,
  status = "primary",
  replace = FALSE,
  copySource = TRUE,
  badge = TRUE,
  ncolSource = "auto",
  ncolGrid = NULL,
  nrowGrid = NULL,
  dragulaOpts = list(),
  boxStyle = NULL,
  targetsHeight = NULL,
  width = NULL,
  height = "100px"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dragulaInput_+3A_inputid">inputId</code></td>
<td>
<p>The <code>input</code> slot that will be used to access the value.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_label">label</code></td>
<td>
<p>Display label for the control, or <code>NULL</code> for no label.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_sourcelabel">sourceLabel</code></td>
<td>
<p>Label display in the source box</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_targetslabels">targetsLabels</code></td>
<td>
<p>Labels for each target element.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_targetsids">targetsIds</code></td>
<td>
<p>Ids for retrieving values server-side, if <code>NULL</code>, the default,
<code>targetsLabels</code> are used after removing all not-alphanumeric characters.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_choices">choices</code></td>
<td>
<p>List of values to select from (if elements of the list are
named then that name rather than the value is displayed to the user).
If this argument is provided, then <code>choiceNames</code> and <code>choiceValues</code> must
not be provided, and vice-versa. The values should be strings; other
types (such as logicals and numbers) will be coerced to strings.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_choicenames">choiceNames</code>, <code id="dragulaInput_+3A_choicevalues">choiceValues</code></td>
<td>
<p>List of names and values, respectively,
that are displayed to the user in the app and correspond to the each
choice (for this reason, <code>choiceNames</code> and <code>choiceValues</code> must have the same length).
If either of these arguments is provided, then the other must be provided and
choices must not be provided. The advantage of using both of these over a named
list for choices is that <code>choiceNames</code> allows any type of UI object to be passed
through (tag objects, icons, HTML code, ...), instead of just simple text.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_selected">selected</code></td>
<td>
<p>Default selected values. Must be a <code>list</code> with <code>targetsIds</code> as names.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_status">status</code></td>
<td>
<p>If choices are displayed into a Bootstrap label, you can use Bootstrap
status to color them, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_replace">replace</code></td>
<td>
<p>When a choice is dragged in a target container already
containing a choice, does the later be replaced by the new one ?</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_copysource">copySource</code></td>
<td>
<p>When <code>replace = TRUE</code>, does elements in source must be copied or moved ?</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_badge">badge</code></td>
<td>
<p>Displays choices inside a Bootstrap badge. Use <code>FALSE</code>
if you want to pass custom appearance with <code>choiceNames</code>.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_ncolsource">ncolSource</code></td>
<td>
<p>Number of columns occupied by the source, default is <code>"auto"</code>, meaning full row.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_ncolgrid">ncolGrid</code>, <code id="dragulaInput_+3A_nrowgrid">nrowGrid</code></td>
<td>
<p>Number of columns / rows used to place source and targets boxes, see examples.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_dragulaopts">dragulaOpts</code></td>
<td>
<p>Options passed to dragula JavaScript library
(see <a href="https://github.com/bevacqua/dragula#dragulacontainers-options">online documentation on GitHub</a>).
Note that options <code>moves</code>, <code>accepts</code> and <code>invalid</code> must be valid JavaScript code as they are evaluated on the client.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_boxstyle">boxStyle</code></td>
<td>
<p>CSS style string to customize source and target container.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_targetsheight">targetsHeight</code></td>
<td>
<p>Height for the target boxes.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_width">width</code></td>
<td>
<p>Width of the input.</p>
</td></tr>
<tr><td><code id="dragulaInput_+3A_height">height</code></td>
<td>
<p>Height of each boxes, the total input height is this parameter X 2 (unless if <code>targetsHeight</code> is set).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a UI definition
</p>


<h3>Note</h3>

<p>The output server-side is a list with two slots: <code>source</code> and <code>targets</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+updateDragulaInput">updateDragulaInput()</a></code> to update choices server-side.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(esquisse)

ui &lt;- fluidPage(
  tags$h2("Demo dragulaInput"),
  tags$br(),
  fluidRow(
    column(
      width = 6,
      
      dragulaInput(
        inputId = "dad1",
        label = "Default:",
        sourceLabel = "Source",
        targetsLabels = c("Target 1", "Target 2"),
        choices = month.abb,
        width = "100%"
      ),
      verbatimTextOutput(outputId = "result1"),
      
      tags$br(),
      
      dragulaInput(
        inputId = "dad3",
        label = "On same row:",
        sourceLabel = "Source",
        targetsLabels = c("Target 1", "Target 2"),
        choices = month.abb,
        width = "100%",
        ncolSource = 1,
        ncolGrid = 3
      ),
      verbatimTextOutput(outputId = "result3")
    ),
    
    column(
      width = 6,
      dragulaInput(
        inputId = "dad2",
        label = "Two rows:",
        sourceLabel = "Source",
        targetsLabels = c("x", "y", "color", "fill", "size", "facet"),
        choices = names(mtcars),
        width = "100%",
        ncolGrid = 3
      ),
      verbatimTextOutput(outputId = "result2"),
      
      tags$br(),
      
      dragulaInput(
        inputId = "dad4",
        label = "Two rows not filled:",
        sourceLabel = "Source",
        targetsLabels = c("x", "y", "color", "fill", "size"),
        choices = names(mtcars),
        width = "100%",
        ncolGrid = 3
      ),
      verbatimTextOutput(outputId = "result4")
    )
  )
)


server &lt;- function(input, output, session) {
  
  output$result1 &lt;- renderPrint(str(input$dad1))
  
  output$result2 &lt;- renderPrint(str(input$dad2))
  
  output$result3 &lt;- renderPrint(str(input$dad3))
  
  output$result4 &lt;- renderPrint(str(input$dad4))
  
}

if (interactive())
  shinyApp(ui = ui, server = server)


</code></pre>

<hr>
<h2 id='dropInput'>Dropdown Input</h2><span id='topic+dropInput'></span>

<h3>Description</h3>

<p>A dropdown menu for selecting a value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dropInput(
  inputId,
  choicesNames,
  choicesValues,
  selected = NULL,
  dropUp = FALSE,
  dropWidth = NULL,
  dropMaxHeight = NULL,
  dropPreScrollable = FALSE,
  btnClass = "btn-link",
  width = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dropInput_+3A_inputid">inputId</code></td>
<td>
<p>The <code>input</code> slot that will be used to access the value.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_choicesnames">choicesNames</code></td>
<td>
<p>A <code>tagList</code> of HTML tags to show in the dropdown menu.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_choicesvalues">choicesValues</code></td>
<td>
<p>Vector corresponding to <code>choicesNames</code>
for retrieving values server-side.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_selected">selected</code></td>
<td>
<p>The initial selected value, must be an element of <code>choicesValues</code>,
default to the first item of <code>choicesValues</code>.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_dropup">dropUp</code></td>
<td>
<p>Open the menu above the button rather than below.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_dropwidth">dropWidth</code></td>
<td>
<p>Width of the dropdown menu.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_dropmaxheight">dropMaxHeight</code></td>
<td>
<p>Maximal height for the menu.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_dropprescrollable">dropPreScrollable</code></td>
<td>
<p>Force scroll bar to appear in the menu.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_btnclass">btnClass</code></td>
<td>
<p>Class for buttons in dropdown menu, default is <code>"btn-link"</code>,
you can use for example <code>"btn-default"</code> to display regular buttons.</p>
</td></tr>
<tr><td><code id="dropInput_+3A_width">width</code></td>
<td>
<p>The width of the input.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+updateDropInput">updateDropInput</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

  library(shiny)
  library(esquisse)

  ui &lt;- fluidPage(
    tags$h2("Drop Input"),
    dropInput(
      inputId = "mydrop",
      choicesNames = tagList(
        list(icon("home"), style = "width: 100px;"),
        list(icon("flash"), style = "width: 100px;"),
        list(icon("cogs"), style = "width: 100px;"),
        list(icon("fire"), style = "width: 100px;"),
        list(icon("users"), style = "width: 100px;"),
        list(icon("info"), style = "width: 100px;")
      ),
      choicesValues = c("home", "flash", "cogs",
                        "fire", "users", "info"),
      dropWidth = "220px"
    ),
    verbatimTextOutput(outputId = "res")
  )

  server &lt;- function(input, output, session) {
    output$res &lt;- renderPrint({
      input$mydrop
    })
  }

  shinyApp(ui, server)

}
</code></pre>

<hr>
<h2 id='esquisse-deprecated'>Deprecated functions</h2><span id='topic+esquisse-deprecated'></span><span id='topic+esquisseContainer'></span>

<h3>Description</h3>

<p>Deprecated functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esquisseContainer(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="esquisse-deprecated_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+esquisse_container">esquisse_container()</a></code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>The following functions are deprecated and will be removed in next release:
</p>

<ul>
<li> <p><code>esquisseContainer</code> : replaced by <code>esquisse_container</code>
</p>
</li></ul>


<hr>
<h2 id='esquisse-exports'>esquisse exported operators and S3 methods</h2><span id='topic+esquisse-exports'></span><span id='topic+i18n'></span><span id='topic+set_i18n'></span><span id='topic+ph'></span>

<h3>Description</h3>

<p>esquisse exported operators and S3 methods
</p>

<hr>
<h2 id='esquisse-module'>Esquisse module</h2><span id='topic+esquisse-module'></span><span id='topic+esquisse_ui'></span><span id='topic+esquisse_server'></span><span id='topic+esquisse_container'></span><span id='topic+esquisse_header'></span>

<h3>Description</h3>

<p>Use esquisse as a module in a Shiny application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esquisse_ui(
  id,
  header = esquisse_header(),
  container = esquisse_container(),
  controls = c("options", "labs", "axes", "geoms", "theme", "filters", "code"),
  insert_code = FALSE,
  play_pause = TRUE,
  layout_sidebar = FALSE,
  downloads = downloads_labels(),
  n_geoms = 8
)

esquisse_server(
  id,
  data_rv = NULL,
  name = "data",
  default_aes = c("fill", "color", "size", "group", "facet"),
  import_from = c("env", "file", "copypaste", "googlesheets", "url"),
  n_geoms = 8,
  drop_ids = TRUE,
  notify_warnings = NULL
)

esquisse_container(width = "100%", height = "700px", fixed = FALSE)

esquisse_header(
  import_data = TRUE,
  show_data = TRUE,
  update_variable = TRUE,
  create_column = TRUE,
  cut_variable = TRUE,
  update_factor = TRUE,
  settings = TRUE,
  close = TRUE,
  .before = NULL,
  .after = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="esquisse-module_+3A_id">id</code></td>
<td>
<p>Module ID.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_header">header</code></td>
<td>
<p>Either <code>TRUE</code> or <code>FALSE</code> to display or not <code>esquisse</code> header, or a named <code>list</code>
where names are : <code>settings</code>, <code>close</code>, <code>import</code> and <code>show_data</code> and values are <code>TRUE</code> or
<code>FALSE</code> to display or not the corresponding button.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_container">container</code></td>
<td>
<p>Container in which display the addin,
default is to use <code><a href="#topic+esquisse_container">esquisse_container()</a></code>, see examples.
Use <code>NULL</code> for no container (behavior in versions &lt;= 0.2.1).
Must be a <code>function</code>.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_controls">controls</code></td>
<td>
<p>Controls menu to be displayed. Use <code>NULL</code> to hide all menus.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_insert_code">insert_code</code></td>
<td>
<p>Logical, Display or not a button to insert the ggplot
code in the current user script (work only in RStudio).</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_play_pause">play_pause</code></td>
<td>
<p>Display or not the play / pause button.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_layout_sidebar">layout_sidebar</code></td>
<td>
<p>Put controls in a sidebar on the left rather than below the chart in dropdowns.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_downloads">downloads</code></td>
<td>
<p>Export options available or <code>NULL</code> for no export. See <code><a href="#topic+downloads_labels">downloads_labels()</a></code>.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_n_geoms">n_geoms</code></td>
<td>
<p>Number of geoms the user can use.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_data_rv">data_rv</code></td>
<td>
<p>Either:
</p>

<ul>
<li><p> A <code><a href="shiny.html#topic+reactiveValues">shiny::reactiveValues()</a></code> with a slot <code>data</code> containing a <code>data.frame</code>
to use in the module and a slot <code>name</code> corresponding to the name of the <code>data.frame</code> used for the generated code.
</p>
</li>
<li><p> A <code><a href="shiny.html#topic+reactive">shiny::reactive()</a></code> function returning a <code>data.frame</code>. See argument <code>name</code> for the name used in generated code.
</p>
</li>
<li><p> A <code>data.frame</code> object.
</p>
</li></ul>
</td></tr>
<tr><td><code id="esquisse-module_+3A_name">name</code></td>
<td>
<p>The default name to use in generated code. Can be a <code>reactive</code> function return a single character.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_default_aes">default_aes</code></td>
<td>
<p>Default aesthetics to be used, can be a <code>character</code>
vector or <code>reactive</code> function returning one.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_import_from">import_from</code></td>
<td>
<p>From where to import data, argument passed
to <code><a href="datamods.html#topic+import-modal">datamods::import_server()</a></code>, use <code>NULL</code> to prevent the modal to appear.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_drop_ids">drop_ids</code></td>
<td>
<p>Argument passed to <a href="datamods.html#topic+filter-data">datamods::filter_data_server</a>. Drop columns containing more than 90% of unique values, or than 50 distinct values.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_notify_warnings">notify_warnings</code></td>
<td>
<p>See <code><a href="#topic+safe_ggplot">safe_ggplot()</a></code>. If <code>NULL</code>, the user can make his or her own choice via the settings menu, default is to show warnings once.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_width">width</code>, <code id="esquisse-module_+3A_height">height</code></td>
<td>
<p>The width and height of the container, e.g. <code>"400px"</code>,
or <code>"100%"</code>; see <code><a href="htmltools.html#topic+validateCssUnit">htmltools::validateCssUnit()</a></code>.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_fixed">fixed</code></td>
<td>
<p>Use a fixed container, e.g. to use use esquisse full page.
If <code>TRUE</code>, width and height are ignored. Default to <code>FALSE</code>.
It's possible to use a vector of CSS unit of length 4 to specify the margins
(top, right, bottom, left).</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_import_data">import_data</code></td>
<td>
<p>Show button to import data.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_show_data">show_data</code></td>
<td>
<p>Show button to display data.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_update_variable">update_variable</code></td>
<td>
<p>Show button to update selected variables and convert them.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_create_column">create_column</code></td>
<td>
<p>Show button to create a new column based on an expression.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_cut_variable">cut_variable</code></td>
<td>
<p>Show button to allow to convert a numeric variable into factor.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_update_factor">update_factor</code></td>
<td>
<p>Show button to open window to reorder factor levels and update them.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_settings">settings</code></td>
<td>
<p>Show button to open settings modal (to select aesthetics to use).</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_close">close</code></td>
<td>
<p>Show button to stop the app and close addin.</p>
</td></tr>
<tr><td><code id="esquisse-module_+3A_.before">.before</code>, <code id="esquisse-module_+3A_.after">.after</code></td>
<td>
<p>Custom content to put in the header, typically buttons.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>reactiveValues</code> with 4 slots :
</p>

<ul>
<li> <p><strong>ggobj</strong>: the ggplot object
</p>
</li>
<li> <p><strong>code_plot</strong>: code to generate plot.
</p>
</li>
<li> <p><strong>code_filters</strong>: a list of length two with code to reproduce filters.
</p>
</li>
<li> <p><strong>data</strong>: <code>data.frame</code> used in plot (with filters applied).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
### Part of a Shiny app ###

library(shiny)
library(esquisse)

ui &lt;- fluidPage(

  theme = bs_theme_esquisse(),

  tags$h1("Use esquisse as a Shiny module"),

  radioButtons(
    inputId = "data",
    label = "Data to use:",
    choices = c("iris", "mtcars"),
    inline = TRUE
  ),
  checkboxGroupInput(
    inputId = "aes",
    label = "Aesthetics to use:",
    choices = c(
      "fill", "color", "size", "shape",
      "weight", "group", "facet", "facet_row", "facet_col"
    ),
    selected = c("fill", "color", "size", "facet"),
    inline = TRUE
  ),
  esquisse_ui(
    id = "esquisse",
    header = FALSE, # dont display gadget title
    container = esquisse_container(height = "700px")
  ),
  tags$b("Output of the module:"),
  verbatimTextOutput("out")
)

server &lt;- function(input, output, session) {

  data_rv &lt;- reactiveValues(data = iris, name = "iris")

  observeEvent(input$data, {
    if (input$data == "iris") {
      data_rv$data &lt;- iris
      data_rv$name &lt;- "iris"
    } else {
      data_rv$data &lt;- mtcars
      data_rv$name &lt;- "mtcars"
    }
  })

  esquisse_out &lt;- esquisse_server(
    id = "esquisse",
    data_rv = data_rv,
    default_aes = reactive(input$aes)
  )

  output$out &lt;- renderPrint({
    str(reactiveValuesToList(esquisse_out), max.level = 1)
  })
}

if (interactive())
  shinyApp(ui, server)


### Whole Shiny app ###

library(shiny)
library(esquisse)


# Load some datasets in app environment
my_data &lt;- data.frame(
  var1 = rnorm(100),
  var2 = sample(letters[1:5], 100, TRUE)
)


ui &lt;- fluidPage(
  theme = bs_theme_esquisse(),
  esquisse_ui(
    id = "esquisse",
    header = esquisse_header(
      close = FALSE, # hide the close button
      .after = actionButton( # custom button
        inputId = "open_modal",
        label = NULL,
        icon = icon("plus")
      )
    ),
    container = esquisse_container(fixed = TRUE),
    play_pause = FALSE,
    controls = c("settings", "labs", "axes", "geoms", "theme", "filters", "code", "export"),
    layout_sidebar = TRUE
  )
)

server &lt;- function(input, output, session) {

  esquisse_server(id = "esquisse")


  observeEvent(input$open_modal, {
    showModal(modalDialog("Some content"))
  })
}

if (interactive())
  shinyApp(ui, server)



## You can also use a vector of margins for the fixed argument,
# useful if you have a navbar for example

library(shiny)
library(esquisse)
library(datamods)

ui &lt;- navbarPage(
  title = "My navbar app",
  theme = bs_theme_esquisse(),
  tabPanel(
    title = "esquisse",
    esquisse_ui(
      id = "esquisse", 
      header = FALSE,
      container = esquisse_container(
        fixed = c(55, 0, 0, 0)
      )
    )
  )
)

server &lt;- function(input, output, session) {
  
  # lauch import data modal
  import_modal(
    id = "import-data",
    from = c("env", "file", "copypaste"),
    title = "Import data"
  )
  data_imported_r &lt;- datamods::import_server("import-data")

  data_rv &lt;- reactiveValues(data = data.frame())
  observeEvent(data_imported_r$data(), {
    data_rv$data &lt;- data_imported_r$data()
    data_rv$name &lt;- data_imported_r$name()
  })
  
  esquisse_server(id = "esquisse", data_rv = data_rv)
  
}

if (interactive())
  shinyApp(ui, server)
</code></pre>

<hr>
<h2 id='esquisser'>An add-in to easily create plots with ggplot2</h2><span id='topic+esquisser'></span>

<h3>Description</h3>

<p>Select data to be used and map variables to aesthetics to produce a chart,
customize common elements and get code to reproduce the chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>esquisser(
  data = NULL,
  controls = c("options", "labs", "axes", "geoms", "theme", "filters", "code"),
  viewer = getOption(x = "esquisse.viewer", default = "dialog")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="esquisser_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code>, you can pass a <code>data.frame</code> explicitly to the function,
otherwise you'll have to choose one in global environment.</p>
</td></tr>
<tr><td><code id="esquisser_+3A_controls">controls</code></td>
<td>
<p>Controls menu to be displayed. Use <code>NULL</code> to hide all menus.</p>
</td></tr>
<tr><td><code id="esquisser_+3A_viewer">viewer</code></td>
<td>
<p>Where to display the gadget: <code>"dialog"</code>,
<code>"pane"</code> or <code>"browser"</code> (see <code><a href="shiny.html#topic+viewer">viewer</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>. You can view code used to produce the chart, copy it or insert it in current script.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
# Launch with :
esquisser(iris)
# If in RStudio it will be launched by default in dialog window
# If not, it will be launched in browser

# Launch esquisse in browser :
esquisser(iris, viewer = "browser")

# You can set this option in .Rprofile :
options("esquisse.viewer" = "viewer")
# or
options("esquisse.viewer" = "browser")

# esquisse use shiny::runApp
# see ?shiny::runApp to see options
# available, example to use custom port:

options("shiny.port" = 8080)
esquisser(iris, viewer = "browser")

}
</code></pre>

<hr>
<h2 id='geoms'>Potential geometries according to the data</h2><span id='topic+geoms'></span><span id='topic+potential_geoms'></span><span id='topic+potential_geoms_ref'></span>

<h3>Description</h3>

<p>From the data and variable used in aesthetics, decide which geometry can be used and which one is used by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>potential_geoms(data, mapping, auto = FALSE)

potential_geoms_ref()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geoms_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code></p>
</td></tr>
<tr><td><code id="geoms_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetic mappings to use with data.</p>
</td></tr>
<tr><td><code id="geoms_+3A_auto">auto</code></td>
<td>
<p>Return only one geometry.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)

# One continuous variable
potential_geoms(
  data = iris,
  mapping = aes(x = Sepal.Length)
)

# Automatic pick a geom
potential_geoms(
  data = iris,
  mapping = aes(x = Sepal.Length),
  auto = TRUE
)

# One discrete variable
potential_geoms(
  data = iris,
  mapping = aes(x = Species)
)

# Two continuous variables
potential_geoms(
  data = iris,
  mapping = aes(x = Sepal.Length, y = Sepal.Width)
)
# Reference used by esquisse to select available geoms
# and decide which one to use by default
potential_geoms_ref()
</code></pre>

<hr>
<h2 id='ggcall'>Generate code to create a <code>ggplot2</code></h2><span id='topic+ggcall'></span>

<h3>Description</h3>

<p>Generate code to create a <code>ggplot2</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggcall(
  data = NULL,
  mapping = NULL,
  geom = NULL,
  geom_args = list(),
  scales = NULL,
  scales_args = list(),
  coord = NULL,
  coord_args = list(),
  labs = list(),
  theme = NULL,
  theme_args = list(),
  facet = NULL,
  facet_row = NULL,
  facet_col = NULL,
  facet_args = list(),
  xlim = NULL,
  ylim = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggcall_+3A_data">data</code></td>
<td>
<p>Character. Name of the <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_mapping">mapping</code></td>
<td>
<p>List. Named list of aesthetics.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_geom">geom</code></td>
<td>
<p>Character. Name of the geom to use (with or without &quot;geom_&quot;).</p>
</td></tr>
<tr><td><code id="ggcall_+3A_geom_args">geom_args</code></td>
<td>
<p>List. Arguments to use in the geom.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_scales">scales</code></td>
<td>
<p>Character vector. Scale(s) to use (with or without &quot;scale_&quot;).</p>
</td></tr>
<tr><td><code id="ggcall_+3A_scales_args">scales_args</code></td>
<td>
<p>List. Arguments to use in scale(s),
if <code>scales</code> is length &gt; 1, must be a named list with <code>scales</code> names.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_coord">coord</code></td>
<td>
<p>Character. Coordinates to use (with or without &quot;coord_&quot;).</p>
</td></tr>
<tr><td><code id="ggcall_+3A_coord_args">coord_args</code></td>
<td>
<p>Arguments for coordinates function.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_labs">labs</code></td>
<td>
<p>List. Named list of labels to use for title, subtitle, x &amp; y axis, legends.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_theme">theme</code></td>
<td>
<p>Character. Name of the theme to use (with or without &quot;theme_&quot;).</p>
</td></tr>
<tr><td><code id="ggcall_+3A_theme_args">theme_args</code></td>
<td>
<p>Named list. Arguments for <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_facet">facet</code></td>
<td>
<p>Character vector. Names of variables to use in <a href="ggplot2.html#topic+facet_wrap">ggplot2::facet_wrap</a>.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_facet_row">facet_row</code></td>
<td>
<p>Character vector. Names of row variables to use in <code><a href="ggplot2.html#topic+facet_grid">ggplot2::facet_grid()</a></code>.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_facet_col">facet_col</code></td>
<td>
<p>Character vector. Names of col variables to use in <code><a href="ggplot2.html#topic+facet_grid">ggplot2::facet_grid()</a></code>.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_facet_args">facet_args</code></td>
<td>
<p>Named list. Arguments for <code><a href="ggplot2.html#topic+facet_wrap">ggplot2::facet_wrap()</a></code>.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_xlim">xlim</code></td>
<td>
<p>A vector of length 2 representing limits on x-axis.</p>
</td></tr>
<tr><td><code id="ggcall_+3A_ylim">ylim</code></td>
<td>
<p>A vector of length 2 representing limits on y-axis.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>call</code> that can be evaluated with <code>eval</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Default:
ggcall()

# With data and aes
ggcall("mtcars", list(x = "mpg", y = "wt"))

# Evaluate the call
library(ggplot2)
eval(ggcall("mtcars", list(x = "mpg", y = "wt")))


# With a geom:
ggcall(
  data = "mtcars",
  mapping = list(x = "mpg", y = "wt"),
  geom = "point"
)

# With options
ggcall(
  data = "mtcars",
  mapping = list(x = "hp", y = "cyl", fill = "color"),
  geom = "bar",
  coord = "flip",
  labs = list(title = "My title"),
  theme = "minimal",
  facet = c("gear", "carb"),
  theme_args = list(legend.position = "bottom")
)

# Theme
ggcall(
  "mtcars", list(x = "mpg", y = "wt"),
  theme = "theme_minimal",
  theme_args = list(
    panel.ontop = TRUE,
    legend.title = rlang::expr(element_text(face = "bold"))
  )
)

# Theme from other package than ggplot2
ggcall(
  "mtcars", list(x = "mpg", y = "wt"),
  theme = "ggthemes::theme_economist"
)


# One scale
ggcall(
  data = "mtcars",
  mapping = list(x = "mpg", y = "wt", color = "qsec"),
  geom = "point",
  scales = "color_distiller",
  scales_args = list(palette = "Blues")
)

# Two scales
ggcall(
  data = "mtcars",
  mapping = list(x = "mpg", y = "wt", color = "qsec", size = "qsec"),
  geom = "point",
  scales = c("color_distiller", "size_continuous"),
  scales_args = list(
    color_distiller = list(palette = "Greens"),
    size_continuous = list(range = c(1, 20))
  )
)


# Coordinates
ggcall(
  data = "mtcars",
  mapping = list(x = "mpg", y = "wt"),
  geom = "point",
  coord = "fixed"
)
ggcall(
  data = "mtcars",
  mapping = list(x = "mpg", y = "wt"),
  geom = "point",
  coord = "fixed",
  coord_args = list(ratio = 5)
)
</code></pre>

<hr>
<h2 id='ggplot_to_ppt'>Utility to export ggplot objects to PowerPoint</h2><span id='topic+ggplot_to_ppt'></span>

<h3>Description</h3>

<p>You can use the RStudio addin to interactively select ggplot objects, or
directly pass their names to the function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot_to_ppt(gg = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggplot_to_ppt_+3A_gg">gg</code></td>
<td>
<p>character. Name(s) of ggplot object(s), if NULL, launch the Shiny gadget.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Path to the temporary PowerPoint file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Shiny gadget
if (interactive()) {

ggplot_to_ppt()



# Or with an object's name
library(ggplot2)
p &lt;- ggplot(iris) +
  geom_point(aes(Sepal.Length, Sepal.Width))

ggplot_to_ppt("p")

}

</code></pre>

<hr>
<h2 id='ggplot-output'>Render <code>ggplot</code> module</h2><span id='topic+ggplot-output'></span><span id='topic+ggplot_output'></span><span id='topic+downloads_labels'></span><span id='topic+render_ggplot'></span>

<h3>Description</h3>

<p>Display a plot on the client and allow to download it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot_output(
  id,
  width = "100%",
  height = "400px",
  downloads = downloads_labels(),
  ...
)

downloads_labels(
  label = ph("download-simple"),
  png = tagList(ph("image"), "PNG"),
  pdf = tagList(ph("file-pdf"), "PDF"),
  svg = tagList(ph("browsers"), "SVG"),
  jpeg = tagList(ph("image"), "JPEG"),
  pptx = tagList(ph("projector-screen"), "PPTX"),
  more = tagList(ph("gear"), i18n("More options"))
)

render_ggplot(
  id,
  expr,
  ...,
  env = parent.frame(),
  quoted = FALSE,
  filename = "export-ggplot",
  resizable = FALSE,
  use_plotly = reactive(FALSE),
  width = reactive(NULL),
  height = reactive(NULL)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggplot-output_+3A_id">id</code></td>
<td>
<p>Module ID.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_width">width</code>, <code id="ggplot-output_+3A_height">height</code></td>
<td>
<p>Width / Height of the plot, in the server it has to be a <code><a href="shiny.html#topic+reactive">shiny::reactive()</a></code> function returning a new width/height for the plot.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_downloads">downloads</code></td>
<td>
<p>Labels for export options, use <code>downloads_labels()</code> or <code>NULL</code> to disable export options.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_...">...</code></td>
<td>
<p>Parameters passed to <code><a href="shiny.html#topic+plotOutput">shiny::plotOutput()</a></code> (<code>ggplot_output</code>) or <code><a href="shiny.html#topic+renderPlot">shiny::renderPlot()</a></code> (<code>render_ggplot</code>).</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_label">label</code></td>
<td>
<p>Main label for export button</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_png">png</code>, <code id="ggplot-output_+3A_pdf">pdf</code>, <code id="ggplot-output_+3A_svg">svg</code>, <code id="ggplot-output_+3A_jpeg">jpeg</code>, <code id="ggplot-output_+3A_pptx">pptx</code></td>
<td>
<p>Labels to display in
export menu, use <code>NULL</code> to disable specific format.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_more">more</code></td>
<td>
<p>Label for &quot;more&quot; button, allowing to launch export modal.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a <code>ggplot</code> object.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate expression.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_filename">filename</code></td>
<td>
<p>A string of the filename to export WITHOUT extension,
it will be added according to type of export.</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_resizable">resizable</code></td>
<td>
<p>Can the chart size be adjusted by the user?</p>
</td></tr>
<tr><td><code id="ggplot-output_+3A_use_plotly">use_plotly</code></td>
<td>
<p>A <code><a href="shiny.html#topic+reactive">shiny::reactive()</a></code> function returning <code>TRUE</code> or <code>FALSE</code> to render
the plot with <code>plotly::ggplotly()</code> or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Server-side, a <code>reactiveValues</code> with the plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(ggplot2)
library(esquisse)


ui &lt;- fluidPage(
  tags$h2("ggplot output"),
  selectInput("var", "Variable:", names(economics)[-1]),
  ggplot_output("MYID", width = "600px")
)

server &lt;- function(input, output, session) {
  
  render_ggplot("MYID", {
    ggplot(economics) + 
      geom_line(aes(date, !!sym(input$var))) + 
      theme_minimal() + 
      labs(
        title = "A cool chart made with ggplot2",
        subtitle = "that you can export in various format"
      )
  })
}

if (interactive())
  shinyApp(ui, server)
</code></pre>

<hr>
<h2 id='input-colors'>Picker input to select color(s) or palette</h2><span id='topic+input-colors'></span><span id='topic+colorPicker'></span><span id='topic+updateColorPicker'></span><span id='topic+palettePicker'></span><span id='topic+updatePalettePicker'></span>

<h3>Description</h3>

<p>Select menu to view and choose a color or a palette of colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colorPicker(
  inputId,
  label,
  choices,
  selected = NULL,
  textColor = "#000",
  plainColor = FALSE,
  multiple = FALSE,
  pickerOpts = list(),
  width = NULL
)

updateColorPicker(
  session = getDefaultReactiveDomain(),
  inputId,
  choices,
  textColor = "#000",
  plainColor = FALSE,
  multiple = FALSE
)

palettePicker(
  inputId,
  label,
  choices,
  selected = NULL,
  textColor = "#000",
  plainColor = FALSE,
  pickerOpts = list(),
  width = NULL
)

updatePalettePicker(
  session = getDefaultReactiveDomain(),
  inputId,
  choices,
  selected = NULL,
  textColor = "#000",
  plainColor = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="input-colors_+3A_inputid">inputId</code></td>
<td>
<p>The <code>input</code> slot that will be used to access the value.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_label">label</code></td>
<td>
<p>Display label for the control, or <code>NULL</code> for no label.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_choices">choices</code></td>
<td>
<p>List of values to select from. Values must be valid Hex colors.
If elements of the list are named then that name rather than the value is displayed to the user.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_selected">selected</code></td>
<td>
<p>The initially selected value (or multiple values if <code>multiple = TRUE</code>).
If not specified then defaults to the first value for single-select lists and no values for multiple select lists.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_textcolor">textColor</code></td>
<td>
<p>Color of the text displayed above colors, can be a vector of the same length as choices.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_plaincolor">plainColor</code></td>
<td>
<p>Color the full space of the choice menu.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_multiple">multiple</code></td>
<td>
<p>Is selection of multiple items allowed?</p>
</td></tr>
<tr><td><code id="input-colors_+3A_pickeropts">pickerOpts</code></td>
<td>
<p>Options for <code><a href="shinyWidgets.html#topic+pickerInput">pickerInput</a></code>.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_width">width</code></td>
<td>
<p>The width of the input : <code>'auto'</code>, <code>'fit'</code>, <code>'100px'</code>, <code>'75%'</code>.</p>
</td></tr>
<tr><td><code id="input-colors_+3A_session">session</code></td>
<td>
<p>Shiny session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A select control that can be added to a UI definition.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# colorPicker -------------------------------------------------------------

library(shiny)
library(esquisse)
library(scales)


ui &lt;- fluidPage(
  tags$h2("colorPicker examples"),
  fluidRow(
    column(
      width = 3,
      colorPicker(
        inputId = "col1",
        label = "With a vector of colors:",
        choices = brewer_pal(palette = "Dark2")(8)
      ),
      verbatimTextOutput("res1"),
      colorPicker(
        inputId = "col5",
        label = "Update colors:",
        choices = brewer_pal(palette = "Blues", direction = -1)(8),
        textColor = "#FFF"
      ),
      verbatimTextOutput("res5"),
      radioButtons(
        "update", "Colors", c("Blues", "Greens", "Reds"),
        inline = TRUE
      )
    ),
    column(
      width = 3,
      colorPicker(
        inputId = "col2",
        label = "Change text color:",
        choices = brewer_pal(palette = "Blues")(8), 
        textColor = c("black", "black", "black", "white",
                      "white", "white", "white", "white")
      ),
      verbatimTextOutput("res2")
    ),
    column(
      width = 3,
      colorPicker(
        inputId = "col3",
        label = "With a list of vector of colors:",
        choices = list(
          "Blues" = brewer_pal(palette = "Blues")(8),
          "Reds" = brewer_pal(palette = "Reds")(8),
          "Greens" = brewer_pal(palette = "Greens")(8)
        )
      ),
      verbatimTextOutput("res3")
    ),
    column(
      width = 3,
      colorPicker(
        inputId = "col4",
        label = "Plain color &amp; multiple choices:",
        choices = brewer_pal(palette = "Paired")(8), 
        plainColor = TRUE, 
        multiple = TRUE, 
        pickerOpts = list(`selected-text-format`= "count &gt; 3")
      ),
      verbatimTextOutput("res4")
    )
  )
)

server &lt;- function(input, output, session) {
  
  output$res1 &lt;- renderPrint(input$col1)
  output$res2 &lt;- renderPrint(input$col2)
  output$res3 &lt;- renderPrint(input$col3)
  output$res4 &lt;- renderPrint(input$col4)
  output$res5 &lt;- renderPrint(input$col5)
  
  observeEvent(input$update, {
    updateColorPicker(
      inputId = "col5",
      choices = brewer_pal(palette = input$update, direction = -1)(8),
      textColor = "#FFF"
    )
  })
  
}

if (interactive()) {
  shinyApp(ui, server)
}

# palettePicker -----------------------------------------------------------

library(shiny)
library(esquisse)
library(scales)

ui &lt;- fluidPage(
  tags$h2("pickerColor examples"),
  
  fluidRow(
    column(
      width = 4,
      palettePicker(
        inputId = "pal1", 
        label = "Select a palette:", 
        choices = list(
          "Blues" = brewer_pal(palette = "Blues")(8),
          "Reds" = brewer_pal(palette = "Reds")(8)
        )
      ),
      verbatimTextOutput("res1"),
      palettePicker(
        inputId = "pal4", 
        label = "Update palette:", 
        choices = list(
          "Blues" = brewer_pal(palette = "Blues")(8),
          "Reds" = brewer_pal(palette = "Reds")(8)
        )
      ),
      verbatimTextOutput("res4"),
      radioButtons(
        "update", "Palettes:", c("default", "viridis", "brewer"),
        inline = TRUE
      )
    ),
    column(
      width = 4,
      palettePicker(
        inputId = "pal2", 
        label = "With a list of palette:", 
        choices = list(
          "Viridis" = list(
            "viridis" = viridis_pal(option = "viridis")(10),
            "magma" = viridis_pal(option = "magma")(10),
            "inferno" = viridis_pal(option = "inferno")(10),
            "plasma" = viridis_pal(option = "plasma")(10),
            "cividis" = viridis_pal(option = "cividis")(10)
          ),
          "Brewer" = list(
            "Blues" = brewer_pal(palette = "Blues")(8),
            "Reds" = brewer_pal(palette = "Reds")(8),
            "Paired" = brewer_pal(palette = "Paired")(8),
            "Set1" = brewer_pal(palette = "Set1")(8)
          )
        ), 
        textColor = c(
          rep("white", 5), rep("black", 4) 
        )
      ),
      verbatimTextOutput("res2")
    ),
    column(
      width = 4,
      palettePicker(
        inputId = "pal3", 
        label = "With plain colors:", 
        choices = list(
          "BrBG" = brewer_pal(palette = "BrBG")(8), 
          "PiYG" = brewer_pal(palette = "PiYG")(8), 
          "PRGn" = brewer_pal(palette = "PRGn")(8), 
          "PuOr" = brewer_pal(palette = "PuOr")(8), 
          "RdBu" = brewer_pal(palette = "RdBu")(8), 
          "RdGy" = brewer_pal(palette = "RdGy")(8), 
          "RdYlBu" = brewer_pal(palette = "RdYlBu")(8), 
          "RdYlGn" = brewer_pal(palette = "RdYlGn")(8), 
          "Spectral" = brewer_pal(palette = "Spectral")(8)
        ), 
        plainColor = TRUE, 
        textColor = "white"
      ),
      verbatimTextOutput("res3")
    )
  )
)

server &lt;- function(input, output, session) {
  
  output$res1 &lt;- renderPrint(input$pal1)
  output$res2 &lt;- renderPrint(input$pal2)
  output$res3 &lt;- renderPrint(input$pal3)
  output$res4 &lt;- renderPrint(input$pal4)
  
  observeEvent(input$update, {
    if (input$update == "default") {
      updatePalettePicker(
        inputId = "pal4",
        choices = list(
          "Blues" = brewer_pal(palette = "Blues")(8),
          "Reds" = brewer_pal(palette = "Reds")(8)
        )
      )
    } else if (input$update == "viridis") {
      updatePalettePicker(
        inputId = "pal4",
        choices = list(
          "viridis" = viridis_pal(option = "viridis")(10),
          "magma" = viridis_pal(option = "magma")(10),
          "inferno" = viridis_pal(option = "inferno")(10),
          "plasma" = viridis_pal(option = "plasma")(10),
          "cividis" = viridis_pal(option = "cividis")(10)
        ),
        textColor = "#FFF"
      )
    } else if (input$update == "brewer") {
      updatePalettePicker(
        inputId = "pal4",
        choices = list(
          "Blues" = brewer_pal(palette = "Blues")(8),
          "Reds" = brewer_pal(palette = "Reds")(8),
          "Paired" = brewer_pal(palette = "Paired")(8),
          "Set1" = brewer_pal(palette = "Set1")(8)
        )
      )
    }
  })
}

if (interactive()) {
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='match_geom_args'>Match list of arguments to arguments of geometry</h2><span id='topic+match_geom_args'></span>

<h3>Description</h3>

<p>Match list of arguments to arguments of geometry
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_geom_args(
  geom,
  args,
  add_aes = TRUE,
  mapping = list(),
  add_mapping = FALSE,
  exclude_args = NULL,
  envir = "ggplot2"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="match_geom_args_+3A_geom">geom</code></td>
<td>
<p>Character. name of the geometry.</p>
</td></tr>
<tr><td><code id="match_geom_args_+3A_args">args</code></td>
<td>
<p>Named list, parameters to be matched to the geometry arguments.</p>
</td></tr>
<tr><td><code id="match_geom_args_+3A_add_aes">add_aes</code></td>
<td>
<p>Add aesthetics parameters (like size, fill, ...).</p>
</td></tr>
<tr><td><code id="match_geom_args_+3A_mapping">mapping</code></td>
<td>
<p>Mapping used in plot, to avoid setting fixed aesthetics parameters.</p>
</td></tr>
<tr><td><code id="match_geom_args_+3A_add_mapping">add_mapping</code></td>
<td>
<p>Add the mapping as an argument.</p>
</td></tr>
<tr><td><code id="match_geom_args_+3A_exclude_args">exclude_args</code></td>
<td>
<p>Character vector of arguments to exclude, default is to exclude aesthetics names.</p>
</td></tr>
<tr><td><code id="match_geom_args_+3A_envir">envir</code></td>
<td>
<p>Package environment to search in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># List of parameters
params &lt;- list(
  bins = 30,
  scale = "width",
  adjust = 2,
  position = "stack",
  size = 1.6,
  fill = "#112246"
)

# Search arguments according to geom
match_geom_args(geom = "histogram", args = params)
match_geom_args(geom = "violin", args = params)
match_geom_args(geom = "bar", args = params, add_aes = FALSE)
match_geom_args(geom = "point", args = params)
match_geom_args(geom = "point", args = params, add_aes = FALSE)
</code></pre>

<hr>
<h2 id='safe_ggplot'>Safely render a <code>ggplot</code> in Shiny application</h2><span id='topic+safe_ggplot'></span>

<h3>Description</h3>

<p>Safely render a <code>ggplot</code> in Shiny application
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safe_ggplot(
  expr,
  data = NULL,
  show_notification = c("always", "once", "never"),
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="safe_ggplot_+3A_expr">expr</code></td>
<td>
<p>Code to produce a <code>ggplot</code> object.</p>
</td></tr>
<tr><td><code id="safe_ggplot_+3A_data">data</code></td>
<td>
<p>Argument passed to <code><a href="rlang.html#topic+eval_tidy">eval_tidy</a></code> to evaluate expression.</p>
</td></tr>
<tr><td><code id="safe_ggplot_+3A_show_notification">show_notification</code></td>
<td>
<p>Strategy for notifications when a warning occurs:
</p>

<ul>
<li> <p><code>"always"</code> : default, show notifications for each warnings
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;"once&#8288;</code> : show notification once per warning
</p>
</li>
<li> <p><code>"never"</code> : do not display notifications.
</p>
</li></ul>
</td></tr>
<tr><td><code id="safe_ggplot_+3A_session">session</code></td>
<td>
<p>Session object to send notification to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output of <code><a href="ggplot2.html#topic+ggplot_build">ggplot_build</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  library(ggplot2)

  ui &lt;- fluidPage(
    fluidRow(
      column(
        width = 3,
        selectInput(
          inputId = "var",
          label = "Var:",
          choices = c("Sepal.Width", "Do.Not.Exist")
        )
      ),
      column(
        width = 9,
        plotOutput(outputId = "plot")
      )
    )
  )

  server &lt;- function(input, output, session) {

    output$plot &lt;- renderPlot({
      p &lt;- ggplot(iris) +
        geom_point(aes_string("Sepal.Length", input$var))
      safe_ggplot(p)
    })

  }

  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='save-ggplot-module'>Save <code>ggplot</code> module</h2><span id='topic+save-ggplot-module'></span><span id='topic+save_ggplot_ui'></span><span id='topic+save_ggplot_modal'></span><span id='topic+save_ggplot_server'></span>

<h3>Description</h3>

<p>Save a <code>ggplot</code> object in various format and resize it before saving.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_ggplot_ui(
  id,
  output_format = c("png", "pdf", "svg", "jpeg", "bmp", "eps", "tiff")
)

save_ggplot_modal(
  id,
  title = NULL,
  output_format = c("png", "pdf", "svg", "jpeg", "bmp", "eps", "tiff")
)

save_ggplot_server(id, plot_rv)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="save-ggplot-module_+3A_id">id</code></td>
<td>
<p>Module ID.</p>
</td></tr>
<tr><td><code id="save-ggplot-module_+3A_output_format">output_format</code></td>
<td>
<p>Output formats offered to the user.</p>
</td></tr>
<tr><td><code id="save-ggplot-module_+3A_title">title</code></td>
<td>
<p>Modal's title.</p>
</td></tr>
<tr><td><code id="save-ggplot-module_+3A_plot_rv">plot_rv</code></td>
<td>
<p>A <code>reactiveValues</code> with a slot <code>plot</code> containing a <code>ggplot</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value. Use in UI &amp; server in shiny application.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(ggplot2)
library(esquisse)


ui &lt;- fluidPage(
  tags$h2("Save a ggplot"),
  selectInput("var", "Variable:", names(economics)[-1]),
  plotOutput("plot", width = "600px"),
  actionButton("save", "Save this plot")
)

server &lt;- function(input, output, session) {
  
  rv &lt;- reactiveValues(plot = NULL)
  
  output$plot &lt;- renderPlot({
    rv$plot &lt;- ggplot(economics) + 
      geom_line(aes(date, !!sym(input$var))) + 
      theme_minimal()
    rv$plot
  })
  
  observeEvent(input$save, {
    save_ggplot_modal("ID", "Save plot")
  })
  save_ggplot_server("ID", rv)
}

if (interactive())
  shinyApp(ui, server)
</code></pre>

<hr>
<h2 id='save-ggplot-multi-module'>Save multiple <code>ggplot</code> module</h2><span id='topic+save-ggplot-multi-module'></span><span id='topic+save_multi_ggplot_ui'></span><span id='topic+save_multi_ggplot_server'></span>

<h3>Description</h3>

<p>Save multiple <code>ggplot</code> objects in various format and retrieve code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_multi_ggplot_ui(
  id,
  output_format = c("png", "pdf", "svg", "jpeg", "pptx")
)

save_multi_ggplot_server(
  id,
  plot_list_r = reactive(NULL),
  filename = "code-ggplot",
  placeholder = "No plots to display",
  code_pre = "library(ggplot2)"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="save-ggplot-multi-module_+3A_id">id</code></td>
<td>
<p>Module ID.</p>
</td></tr>
<tr><td><code id="save-ggplot-multi-module_+3A_output_format">output_format</code></td>
<td>
<p>Output formats offered to the user.</p>
</td></tr>
<tr><td><code id="save-ggplot-multi-module_+3A_plot_list_r">plot_list_r</code></td>
<td>
<p>A <code>reactive</code> function returning a list of plots and codes to export.
Sub list items can have following names:
</p>

<ul>
<li> <p><code>ggobj</code>: the <code>ggplot</code> object producing the plot
</p>
</li>
<li> <p><code>code</code>: code to produce the chart (optional)
</p>
</li>
<li> <p><code>label</code>: a label to identify the plot
</p>
</li></ul>
</td></tr>
<tr><td><code id="save-ggplot-multi-module_+3A_filename">filename</code></td>
<td>
<p>Name for the file exported.</p>
</td></tr>
<tr><td><code id="save-ggplot-multi-module_+3A_placeholder">placeholder</code></td>
<td>
<p>A placeholder message to be displayed if <code>plot_list_r</code> return an empty list.</p>
</td></tr>
<tr><td><code id="save-ggplot-multi-module_+3A_code_pre">code_pre</code></td>
<td>
<p>Some code to put before plots code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value. Use in UI &amp; server in shiny application.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(ggplot2)
library(esquisse)
library(bslib)

ui &lt;- page_fluid(
  theme = bs_theme_esquisse(),
  save_multi_ggplot_ui("mod")
)

server &lt;- function(...) {

  p1 &lt;- ggplot(mtcars) + geom_point(aes(mpg, disp))
  p2 &lt;- ggplot(mtcars) + geom_boxplot(aes(gear, disp, group = gear))
  p3 &lt;- ggplot(mtcars) + geom_smooth(aes(disp, qsec))
  p4 &lt;- ggplot(mtcars) + geom_bar(aes(carb))
  p5 &lt;- ggplot(presidential) +
    geom_segment(aes(y = name, x = start, xend = end)) +
    geom_point(aes(y = name, x = start)) +
    geom_point(aes(y = name, x = end))

  save_multi_ggplot_server(
    id = "mod",
    plot_list_r = reactive(list(
      list(
        ggobj = p1,
        code = "ggplot(mtcars) + geom_point(aes(mpg, disp))",
        label = "Plot 1"
      ),
      list(
        ggobj = p2,
        code = "ggplot(mtcars) + geom_boxplot(aes(gear, disp, group = gear))",
        label = "Plot 2"
      ),
      list(
        ggobj = p3,
        code = "ggplot(mtcars) + geom_smooth(aes(disp, qsec))",
        label = "Plot 3"
      ),
      list(
        ggobj = p4,
        code = "ggplot(mtcars) + geom_bar(aes(carb))",
        label = "Plot 4"
      ),
      list(
        ggobj = p5,
        code = "ggplot(presidential) +
  geom_segment(aes(y = name, x = start, xend = end)) +
  geom_point(aes(y = name, x = start)) +
  geom_point(aes(y = name, x = end))",
        label = "Plot 5"
      )
    ))
  )
}

if (interactive())
  shinyApp(ui, server)


</code></pre>

<hr>
<h2 id='updateDragulaInput'>Update Dragula Input</h2><span id='topic+updateDragulaInput'></span>

<h3>Description</h3>

<p>Update <code><a href="#topic+dragulaInput">dragulaInput()</a></code> widget server-side.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateDragulaInput(
  session,
  inputId,
  choices = NULL,
  choiceNames = NULL,
  choiceValues = NULL,
  selected = NULL,
  selectedNames = NULL,
  selectedValues = NULL,
  badge = TRUE,
  status = "primary"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateDragulaInput_+3A_session">session</code></td>
<td>
<p>The <code>session</code> object passed to function given to <code>shinyServer</code>.</p>
</td></tr>
<tr><td><code id="updateDragulaInput_+3A_inputid">inputId</code></td>
<td>
<p>The <code>input</code> slot that will be used to access the value.</p>
</td></tr>
<tr><td><code id="updateDragulaInput_+3A_choices">choices</code></td>
<td>
<p>List of values to select from (if elements of the list are
named then that name rather than the value is displayed to the user).
If this argument is provided, then <code>choiceNames</code> and <code>choiceValues</code> must
not be provided, and vice-versa. The values should be strings; other
types (such as logicals and numbers) will be coerced to strings.</p>
</td></tr>
<tr><td><code id="updateDragulaInput_+3A_choicenames">choiceNames</code>, <code id="updateDragulaInput_+3A_choicevalues">choiceValues</code></td>
<td>
<p>List of names and values, respectively,
that are displayed to the user in the app and correspond to the each
choice (for this reason, <code>choiceNames</code> and <code>choiceValues</code> must have the same length).
If either of these arguments is provided, then the other must be provided and
choices must not be provided. The advantage of using both of these over a named
list for choices is that <code>choiceNames</code> allows any type of UI object to be passed
through (tag objects, icons, HTML code, ...), instead of just simple text.</p>
</td></tr>
<tr><td><code id="updateDragulaInput_+3A_selected">selected</code></td>
<td>
<p>Default selected values. Must be a <code>list</code> with <code>targetsIds</code> as names.</p>
</td></tr>
<tr><td><code id="updateDragulaInput_+3A_selectednames">selectedNames</code>, <code id="updateDragulaInput_+3A_selectedvalues">selectedValues</code></td>
<td>
<p>Update selected items with custom names and values.</p>
</td></tr>
<tr><td><code id="updateDragulaInput_+3A_badge">badge</code></td>
<td>
<p>Displays choices inside a Bootstrap badge. Use <code>FALSE</code>
if you want to pass custom appearance with <code>choiceNames</code>.</p>
</td></tr>
<tr><td><code id="updateDragulaInput_+3A_status">status</code></td>
<td>
<p>If choices are displayed into a Bootstrap label, you can use Bootstrap
status to color them, or <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {

library("shiny")
library("esquisse")

ui &lt;- fluidPage(
  tags$h2("Update dragulaInput"),
  radioButtons(
    inputId = "update",
    label = "Dataset",
    choices = c("iris", "mtcars")
  ),
  tags$br(),
  dragulaInput(
    inputId = "myDad",
    sourceLabel = "Variables",
    targetsLabels = c("X", "Y", "fill", "color", "size"),
    choices = names(iris),
    replace = TRUE, width = "400px", status = "success"
  ),
  verbatimTextOutput(outputId = "result")
)

server &lt;- function(input, output, session) {

  output$result &lt;- renderPrint(str(input$myDad))

  observeEvent(input$update, {
    if (input$update == "iris") {
      updateDragulaInput(
        session = session,
        inputId = "myDad",
        choices = names(iris),
        status = "success"
      )
    } else {
      updateDragulaInput(
        session = session,
        inputId = "myDad",
        choices = names(mtcars)
      )
    }
  }, ignoreInit = TRUE)

}

shinyApp(ui, server)

}

</code></pre>

<hr>
<h2 id='updateDropInput'>Change the value of a drop input on the client</h2><span id='topic+updateDropInput'></span>

<h3>Description</h3>

<p>Change the value of a drop input on the client
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateDropInput(session, inputId, selected = NULL, disabled = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateDropInput_+3A_session">session</code></td>
<td>
<p>The <code>session</code> object passed to function given to <code>shinyServer</code>.</p>
</td></tr>
<tr><td><code id="updateDropInput_+3A_inputid">inputId</code></td>
<td>
<p>The id of the input object.</p>
</td></tr>
<tr><td><code id="updateDropInput_+3A_selected">selected</code></td>
<td>
<p>The initially selected value.</p>
</td></tr>
<tr><td><code id="updateDropInput_+3A_disabled">disabled</code></td>
<td>
<p>Choices (<code>choicesValues</code>) to disable.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+dropInput">dropInput</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

  library(shiny)
  library(esquisse)

  myChoices &lt;- tagList(
    list(icon("home"), style = "width: 100px;"),
    list(icon("flash"), style = "width: 100px;"),
    list(icon("cogs"), style = "width: 100px;"),
    list(icon("fire"), style = "width: 100px;"),
    list(icon("users"), style = "width: 100px;"),
    list(icon("info"), style = "width: 100px;")
  )


  ui &lt;- fluidPage(
    tags$h2("Update Drop Input"),
    fluidRow(
      column(
        width = 6,
        dropInput(
          inputId = "mydrop",
          choicesNames = myChoices,
          choicesValues = c("home", "flash", "cogs", "fire", "users", "info"),
          dropWidth = "220px"
        ),
        verbatimTextOutput(outputId = "res")
      ),
      column(
        width = 6,
        actionButton("home", "Select home"),
        actionButton("flash", "Select flash"),
        actionButton("cogs", "Select cogs"),
        actionButton("fire", "Select fire"),
        actionButton("users", "Select users"),
        actionButton("info", "Select info"),
        checkboxGroupInput(
          inputId = "disabled",
          label = "Choices to disable",
          choices = c("home", "flash", "cogs", "fire", "users", "info")
        ),
        actionButton("disable", "Disable")
      )
    )
  )

  server &lt;- function(input, output, session) {

    output$res &lt;- renderPrint({
      input$mydrop
    })

    observeEvent(input$home, {
      updateDropInput(session, "mydrop", "home")
    })
    observeEvent(input$flash, {
      updateDropInput(session, "mydrop", "flash")
    })
    observeEvent(input$cogs, {
      updateDropInput(session, "mydrop", "cogs")
    })
    observeEvent(input$fire, {
      updateDropInput(session, "mydrop", "fire")
    })
    observeEvent(input$users, {
      updateDropInput(session, "mydrop", "users")
    })
    observeEvent(input$info, {
      updateDropInput(session, "mydrop", "info")
    })

    observeEvent(input$disable, {
      if (!is.null(input$disabled)) {
        updateDropInput(session, "mydrop", disabled = input$disabled)
      } else {
        updateDropInput(session, "mydrop", disabled = character(0))
      }
    })
  }

  shinyApp(ui, server)

}
</code></pre>

<hr>
<h2 id='which_pal_scale'>Automatically select appropriate color scale</h2><span id='topic+which_pal_scale'></span>

<h3>Description</h3>

<p>Automatically select appropriate color scale
</p>


<h3>Usage</h3>

<pre><code class='language-R'>which_pal_scale(
  mapping,
  palette = "ggplot2",
  data = NULL,
  fill_type = c("continuous", "discrete"),
  color_type = c("continuous", "discrete"),
  reverse = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="which_pal_scale_+3A_mapping">mapping</code></td>
<td>
<p>Aesthetics used in <code>ggplot</code>.</p>
</td></tr>
<tr><td><code id="which_pal_scale_+3A_palette">palette</code></td>
<td>
<p>Color palette.</p>
</td></tr>
<tr><td><code id="which_pal_scale_+3A_data">data</code></td>
<td>
<p>An optional <code>data.frame</code> to choose the right type for variables.</p>
</td></tr>
<tr><td><code id="which_pal_scale_+3A_fill_type">fill_type</code>, <code id="which_pal_scale_+3A_color_type">color_type</code></td>
<td>
<p>Scale to use according to the variable used
in <code>fill</code>/<code>color</code> aesthetic : <code>"discrete"</code> or <code>"continuous"</code>.
Ignored if <code>data</code> is provided: it will be guessed from data.</p>
</td></tr>
<tr><td><code id="which_pal_scale_+3A_reverse">reverse</code></td>
<td>
<p>Reverse colors order or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# Automatic guess according to data
which_pal_scale(
  mapping = aes(fill = Sepal.Length),
  palette = "ggplot2",
  data = iris
)
which_pal_scale(
  mapping = aes(fill = Species),
  palette = "ggplot2",
  data = iris
)


# Explicitly specify type
which_pal_scale(
  mapping = aes(color = variable),
  palette = "Blues",
  color_type = "discrete"
)


# Both scales
which_pal_scale(
  mapping = aes(color = var1, fill = var2),
  palette = "Blues",
  color_type = "discrete",
  fill_type = "continuous"
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

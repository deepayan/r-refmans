<!DOCTYPE html><html><head><title>Help for package leaflegend</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {leaflegend}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addLeafLegends'><p>Add Customizable Color Legends to a 'leaflet' map widget</p></a></li>
<li><a href='#addLegendAwesomeIcon'><p>Add a legend with Awesome Icons</p></a></li>
<li><a href='#addLegendImage'><p>Add a Legend with Images</p></a></li>
<li><a href='#availableShapes'><p>Available shapes for map symbols</p></a></li>
<li><a href='#legendSymbols'><p>Add a legend for the sizing of symbols or the width of lines</p></a></li>
<li><a href='#mapSymbols'><p>Create Map Symbols for 'leaflet' maps</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Add Custom Legends to 'leaflet' Maps</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides extensions to the 'leaflet' package to 
    customize legends with images, text styling, orientation, sizing,
    and symbology and functions to create symbols to plot on maps.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>leaflet, htmltools, stats, base64enc, htmlwidgets</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://leaflegend.roh.engineering">https://leaflegend.roh.engineering</a>,
<a href="https://github.com/tomroh/leaflegend">https://github.com/tomroh/leaflegend</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tomroh/leaflegend/issues">https://github.com/tomroh/leaflegend/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-04 18:34:45 UTC; thoma</td>
</tr>
<tr>
<td>Author:</td>
<td>Thomas Roh [aut, cre],
  Ricardo Rodrigo Basa [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thomas Roh &lt;thomas@roh.engineering&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-10 16:23:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='addLeafLegends'>Add Customizable Color Legends to a 'leaflet' map widget</h2><span id='topic+addLeafLegends'></span><span id='topic+addLegendNumeric'></span><span id='topic+addLegendQuantile'></span><span id='topic+addLegendBin'></span><span id='topic+addLegendFactor'></span>

<h3>Description</h3>

<p>Functions for more control over the styling of 'leaflet' legends.
The 'leaflet'
map is passed through and the output is a 'leaflet' control so that
the legends are integrated with other functionality of the API. Style
the text of the labels, the symbols used, orientation of the legend items,
and sizing of all elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLegendNumeric(
  map,
  pal,
  values,
  title = NULL,
  shape = c("rect", "stadium"),
  orientation = c("vertical", "horizontal"),
  width = 20,
  height = 100,
  bins = 7,
  numberFormat = function(x) {
     prettyNum(x, format = "f", big.mark = ",", digits =
    3, scientific = FALSE)
 },
  tickLength = 4,
  tickWidth = 1,
  decreasing = FALSE,
  fillOpacity = 1,
  group = NULL,
  labels = NULL,
  naLabel = "NA",
  labelStyle = "",
  className = "info legend leaflet-control",
  data = leaflet::getMapData(map),
  ...
)

addLegendQuantile(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  shape = "rect",
  orientation = c("vertical", "horizontal"),
  width = 24,
  height = 24,
  numberFormat = function(x) {
     prettyNum(x, big.mark = ",", scientific = FALSE,
    digits = 1)
 },
  opacity = 1,
  fillOpacity = opacity,
  group = NULL,
  className = "info legend leaflet-control",
  naLabel = "NA",
  between = " - ",
  data = leaflet::getMapData(map),
  ...
)

addLegendBin(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  shape = "rect",
  orientation = c("vertical", "horizontal"),
  width = 24,
  height = 24,
  numberFormat = function(x) {
     format(round(x, 3), big.mark = ",", trim = TRUE,
    scientific = FALSE)
 },
  opacity = 1,
  fillOpacity = opacity,
  group = NULL,
  className = "info legend leaflet-control",
  naLabel = "NA",
  between = " - ",
  data = leaflet::getMapData(map),
  ...
)

addLegendFactor(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  shape = "rect",
  orientation = c("vertical", "horizontal"),
  width = 24,
  height = 24,
  opacity = 1,
  fillOpacity = opacity,
  group = NULL,
  className = "info legend leaflet-control",
  naLabel = "NA",
  data = leaflet::getMapData(map),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addLeafLegends_+3A_map">map</code></td>
<td>
<p>a map widget object created from 'leaflet'</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_pal">pal</code></td>
<td>
<p>the color palette function, generated from <a href="leaflet.html#topic+colorNumeric">colorNumeric</a></p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_values">values</code></td>
<td>
<p>the values used to generate colors from the palette function</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_title">title</code></td>
<td>
<p>the legend title, pass in HTML to style</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_shape">shape</code></td>
<td>
<p>the desired shape of the symbol, See <a href="#topic+availableShapes">availableShapes</a></p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_orientation">orientation</code></td>
<td>
<p>stack the legend items vertically or horizontally</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_width">width</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_height">height</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_bins">bins</code></td>
<td>
<p>an approximate number of tick-marks on the color gradient for the
colorNumeric palette</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_numberformat">numberFormat</code></td>
<td>
<p>formatting functions for numbers that are displayed e.g. format, prettyNum</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_ticklength">tickLength</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_tickwidth">tickWidth</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_decreasing">decreasing</code></td>
<td>
<p>order of numbers in the legend</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_fillopacity">fillOpacity</code></td>
<td>
<p>fill opacity of the legend items</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_group">group</code></td>
<td>
<p>group name of a leaflet layer group</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_labels">labels</code></td>
<td>
<p>labels</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_nalabel">naLabel</code></td>
<td>
<p>the legend label for NAs in values</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_labelstyle">labelStyle</code></td>
<td>
<p>character string of style argument for HTML text</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_classname">className</code></td>
<td>
<p>extra CSS class to append to the control, space separated</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_data">data</code></td>
<td>
<p>a data object. Currently supported objects are matrices, data
frames, spatial objects from the <span class="pkg">sp</span> package
(<code>SpatialPoints</code>, <code>SpatialPointsDataFrame</code>, <code>Polygon</code>,
<code>Polygons</code>, <code>SpatialPolygons</code>, <code>SpatialPolygonsDataFrame</code>,
<code>Line</code>, <code>Lines</code>, <code>SpatialLines</code>, and
<code>SpatialLinesDataFrame</code>), and
spatial data frames from the <span class="pkg">sf</span> package.</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_...">...</code></td>
<td>
<p>arguments to pass to <a href="leaflet.html#topic+addControl">addControl</a></p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_opacity">opacity</code></td>
<td>
<p>opacity of the legend items</p>
</td></tr>
<tr><td><code id="addLeafLegends_+3A_between">between</code></td>
<td>
<p>a separator between legend range labels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object from <a href="leaflet.html#topic+addControl">addControl</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)

data(quakes)

# Numeric Legend

numPal &lt;- colorNumeric('viridis', quakes$depth)
leaflet() %&gt;%
  addTiles() %&gt;%
  addLegendNumeric(
    pal = numPal,
    values = quakes$depth,
    position = 'topright',
    title = 'addLegendNumeric (Horizontal)',
    orientation = 'horizontal',
    shape = 'rect',
    decreasing = FALSE,
    height = 20,
    width = 100
  ) %&gt;%
  addLegendNumeric(
    pal = numPal,
    values = quakes$depth,
    position = 'topright',
    title = htmltools::tags$div('addLegendNumeric (Decreasing)',
    style = 'font-size: 24px; text-align: center; margin-bottom: 5px;'),
    orientation = 'vertical',
    shape = 'stadium',
    decreasing = TRUE,
    height = 100,
    width = 20
  ) %&gt;%
  addLegend(pal = numPal, values = quakes$depth, title = 'addLegend')

# Quantile Legend
# defaults to adding quantile numeric break points

quantPal &lt;- colorQuantile('viridis', quakes$mag, n = 5)
leaflet() %&gt;%
  addTiles() %&gt;%
  addCircleMarkers(data = quakes,
                   lat = ~lat,
                   lng = ~long,
                   color = ~quantPal(mag),
                   opacity = 1,
                   fillOpacity = 1
  ) %&gt;%
  addLegendQuantile(pal = quantPal,
                    values = quakes$mag,
                    position = 'topright',
                    title = 'addLegendQuantile',
                    numberFormat = function(x) {prettyNum(x, big.mark = ',',
                    scientific = FALSE, digits = 2)},
                    shape = 'circle') %&gt;%
  addLegendQuantile(pal = quantPal,
                    values = quakes$mag,
                    position = 'topright',
                    title = htmltools::tags$div('addLegendQuantile',
                                                htmltools::tags$br(),
                                                '(Omit Numbers)'),
                    numberFormat = NULL,
                    shape = 'circle') %&gt;%
  addLegend(pal = quantPal, values = quakes$mag, title = 'addLegend')

# Factor Legend
# Style the title with html tags, several shapes are supported drawn with svg

quakes[['group']] &lt;- sample(c('A', 'B', 'C'), nrow(quakes), replace = TRUE)
factorPal &lt;- colorFactor('Dark2', quakes$group)
leaflet() %&gt;%
  addTiles() %&gt;%
  addCircleMarkers(
    data = quakes,
    lat = ~ lat,
    lng = ~ long,
    color = ~ factorPal(group),
    opacity = 1,
    fillOpacity = 1
  ) %&gt;%
  addLegendFactor(
    pal = factorPal,
    title = htmltools::tags$div('addLegendFactor', style = 'font-size: 24px;
    color: red;'),
    values = quakes$group,
    position = 'topright',
    shape = 'triangle',
    width = 50,
    height = 50
  ) %&gt;%
  addLegend(pal = factorPal,
            values = quakes$group,
            title = 'addLegend')

# Bin Legend
# Restyle the text of the labels, change the legend item orientation

binPal &lt;- colorBin('Set1', quakes$mag)
leaflet(quakes) %&gt;%
  addTiles() %&gt;%
  addCircleMarkers(
    lat = ~ lat,
    lng = ~ long,
    color = ~ binPal(mag),
    opacity = 1,
    fillOpacity = 1
  ) %&gt;%
  addLegendBin(
    pal = binPal,
    position = 'topright',
    values = ~mag,
    title = 'addLegendBin',
    labelStyle = 'font-size: 18px; font-weight: bold;',
    orientation = 'horizontal'
  ) %&gt;%
  addLegend(pal = binPal,
            values = quakes$mag,
            title = 'addLegend')

# Group Layer Control
# Works with baseGroups and overlayGroups

leaflet() %&gt;%
  addTiles() %&gt;%
  addLegendNumeric(
    pal = numPal,
    values = quakes$depth,
    position = 'topright',
    title = 'addLegendNumeric',
    group = 'Numeric Data'
  ) %&gt;%
  addLegendQuantile(
    pal = quantPal,
    values = quakes$mag,
    position = 'topright',
    title = 'addLegendQuantile',
    group = 'Quantile'
  ) %&gt;%
  addLegendBin(
    data = quakes,
    pal = binPal,
    position = 'bottomleft',
    title = 'addLegendBin',
    group = 'Bin',
    values = ~mag
  ) %&gt;%
  addLayersControl(
    baseGroups = c('Numeric Data', 'Quantile'),  overlayGroups = c('Bin'),
    position = 'bottomright'
  )
</code></pre>

<hr>
<h2 id='addLegendAwesomeIcon'>Add a legend with Awesome Icons</h2><span id='topic+addLegendAwesomeIcon'></span>

<h3>Description</h3>

<p>Add a legend with Awesome Icons
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLegendAwesomeIcon(
  map,
  iconSet,
  title = NULL,
  labelStyle = "",
  orientation = c("vertical", "horizontal"),
  marker = TRUE,
  group = NULL,
  className = "info legend leaflet-control",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addLegendAwesomeIcon_+3A_map">map</code></td>
<td>
<p>a map widget object created from 'leaflet'</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_iconset">iconSet</code></td>
<td>
<p>a named list from <a href="leaflet.html#topic+awesomeIconList">awesomeIconList</a>, the names will be the
labels in the legend</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_title">title</code></td>
<td>
<p>the legend title, pass in HTML to style</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_labelstyle">labelStyle</code></td>
<td>
<p>character string of style argument for HTML text</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_orientation">orientation</code></td>
<td>
<p>stack the legend items vertically or horizontally</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_marker">marker</code></td>
<td>
<p>whether to show the marker or only the icon</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_group">group</code></td>
<td>
<p>group name of a leaflet layer group</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_classname">className</code></td>
<td>
<p>extra CSS class to append to the control, space separated</p>
</td></tr>
<tr><td><code id="addLegendAwesomeIcon_+3A_...">...</code></td>
<td>
<p>arguments to pass to <a href="leaflet.html#topic+addControl">addControl</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object from <a href="leaflet.html#topic+addControl">addControl</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)
data(quakes)
iconSet &lt;- awesomeIconList(
  `Font Awesome` = makeAwesomeIcon(icon = "font-awesome", library = "fa",
                                   iconColor = 'gold', markerColor = 'red',
                                   spin = FALSE,
                                   squareMarker = TRUE,
                                   iconRotate = 30,
  ),
  Ionic = makeAwesomeIcon(icon = "ionic", library = "ion",
                          iconColor = '#ffffff', markerColor = 'blue',
                          spin = TRUE,
                          squareMarker = FALSE),
  Glyphicon = makeAwesomeIcon(icon = "plus-sign", library = "glyphicon",
                              iconColor = 'rgb(192, 255, 0)',
                              markerColor = 'darkpurple',
                              spin = TRUE,
                              squareMarker = FALSE)
)
leaflet(quakes[1:3,]) %&gt;%
  addTiles() %&gt;%
  addAwesomeMarkers(lat = ~lat,
                    lng = ~long,
                    icon = iconSet) %&gt;%
  addLegendAwesomeIcon(iconSet = iconSet,
                       orientation = 'horizontal',
                       title = htmltools::tags$div(
                         style = 'font-size: 20px;',
                         'Awesome Icons'),
                       labelStyle = 'font-size: 16px;') %&gt;%
  addLegendAwesomeIcon(iconSet = iconSet,
                       orientation = 'vertical',
                       marker = FALSE,
                       title = htmltools::tags$div(
                         style = 'font-size: 20px;',
                         'Awesome Icons'),
                       labelStyle = 'font-size: 16px;')
</code></pre>

<hr>
<h2 id='addLegendImage'>Add a Legend with Images</h2><span id='topic+addLegendImage'></span>

<h3>Description</h3>

<p>Creates a legend with images that are embedded into a 'leaflet' map so that
images do not need to be packaged when saving a 'leaflet' map as HTML. Full
control over the label and title style. The 'leaflet' map is passed through
and the output is a control so that legend is fully integrated with other
functionalities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLegendImage(
  map,
  images,
  labels,
  title = NULL,
  labelStyle = "font-size: 24px; vertical-align: middle;",
  orientation = c("vertical", "horizontal"),
  width = 20,
  height = 20,
  group = NULL,
  className = "info legend leaflet-control",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addLegendImage_+3A_map">map</code></td>
<td>
<p>a map widget object created from 'leaflet'</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_images">images</code></td>
<td>
<p>path to the image file</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_labels">labels</code></td>
<td>
<p>labels for each image</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_title">title</code></td>
<td>
<p>the legend title, pass in HTML to style</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_labelstyle">labelStyle</code></td>
<td>
<p>character string of style argument for HTML text</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_orientation">orientation</code></td>
<td>
<p>stack the legend items vertically or horizontally</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_width">width</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_height">height</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_group">group</code></td>
<td>
<p>group name of a leaflet layer group</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_classname">className</code></td>
<td>
<p>extra CSS class to append to the control, space separated</p>
</td></tr>
<tr><td><code id="addLegendImage_+3A_...">...</code></td>
<td>
<p>arguments to pass to <a href="leaflet.html#topic+addControl">addControl</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object from <a href="leaflet.html#topic+addControl">addControl</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(leaflet)
data(quakes)

quakes1 &lt;- quakes[1:10,]

colors &lt;- c('blue', 'red', 'yellow', 'green', 'orange', 'purple')
i &lt;- as.integer(cut(quakes$mag, breaks = quantile(quakes$mag, seq(0,1,1/6)),
                    include.lowest = TRUE))
leafImg &lt;- system.file(sprintf('img/leaf-%s.png', colors),
                       package = 'leaflegend')
leafIcons &lt;- icons(
  iconUrl = leafImg[i],
  iconWidth = 133/236 * 50, iconHeight = 50
)
leaflet(data = quakes) %&gt;% addTiles() %&gt;%
  addMarkers(~long, ~lat, icon = leafIcons) %&gt;%
  addLegendImage(images = leafImg,
                 labels = colors,
                 width = 133/236 * 50,
                 height = 50,
                 orientation = 'vertical',
                 title = htmltools::tags$div('Leaf',
                                             style = 'font-size: 24px;
                                             text-align: center;'),
                 position = 'topright')

 # use raster images with size encodings
 height &lt;- sizeNumeric(quakes$depth, baseSize = 40)
 width &lt;- height * 38 / 95
 symbols &lt;- icons(
   iconUrl = leafImg[4],
   iconWidth = width,
   iconHeight = height)
 probs &lt;- c(.2, .4, .6, .8)
 leaflet(quakes) %&gt;%
   addTiles() %&gt;%
   addMarkers(icon = symbols,
              lat = ~lat, lng = ~long) %&gt;%
   addLegendImage(
     images = rep(leafImg[4], 4),
     labels = round(quantile(height, probs = probs), 0),
     width = quantile(height, probs = probs) * 38 / 95,
     height = quantile(height, probs = probs),
     title = htmltools::tags$div(
       'Leaf',
       style = 'font-size: 24px; text-align: center; margin-bottom: 5px;'),
     position = 'topright', orientation = 'vertical')
</code></pre>

<hr>
<h2 id='availableShapes'>Available shapes for map symbols</h2><span id='topic+availableShapes'></span>

<h3>Description</h3>

<p>Available shapes for map symbols
</p>


<h3>Usage</h3>

<pre><code class='language-R'>availableShapes()
</code></pre>


<h3>Value</h3>

<p>list of available shapes
</p>

<hr>
<h2 id='legendSymbols'>Add a legend for the sizing of symbols or the width of lines</h2><span id='topic+legendSymbols'></span><span id='topic+addLegendSize'></span><span id='topic+addLegendLine'></span><span id='topic+addLegendSymbol'></span>

<h3>Description</h3>

<p>Add a legend for the sizing of symbols or the width of lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLegendSize(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  shape = "rect",
  orientation = c("vertical", "horizontal"),
  color,
  fillColor = color,
  strokeWidth = 1,
  opacity = 1,
  fillOpacity = opacity,
  breaks = 5,
  baseSize = 20,
  numberFormat = function(x) {
     prettyNum(x, big.mark = ",", scientific = FALSE,
    digits = 1)
 },
  group = NULL,
  className = "info legend leaflet-control",
  stacked = FALSE,
  data = leaflet::getMapData(map),
  ...
)

addLegendLine(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  orientation = c("vertical", "horizontal"),
  width = 20,
  color,
  opacity = 1,
  fillOpacity = opacity,
  breaks = 5,
  baseSize = 10,
  numberFormat = function(x) {
     prettyNum(x, big.mark = ",", scientific = FALSE,
    digits = 1)
 },
  group = NULL,
  className = "info legend leaflet-control",
  data = leaflet::getMapData(map),
  ...
)

addLegendSymbol(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  shape,
  orientation = c("vertical", "horizontal"),
  color,
  fillColor = color,
  strokeWidth = 1,
  opacity = 1,
  fillOpacity = opacity,
  width = 20,
  height = width,
  group = NULL,
  className = "info legend leaflet-control",
  dashArray = NULL,
  data = leaflet::getMapData(map),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendSymbols_+3A_map">map</code></td>
<td>
<p>a map widget object created from 'leaflet'</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_pal">pal</code></td>
<td>
<p>the color palette function, generated from <a href="leaflet.html#topic+colorNumeric">colorNumeric</a></p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_values">values</code></td>
<td>
<p>the values used to generate sizes and if colorValues is not specified and
pal is given, then the values are used to generate  colors from the palette
function</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_title">title</code></td>
<td>
<p>the legend title, pass in HTML to style</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_labelstyle">labelStyle</code></td>
<td>
<p>character string of style argument for HTML text</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_shape">shape</code></td>
<td>
<p>the desired shape of the symbol, See <a href="#topic+availableShapes">availableShapes</a></p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_orientation">orientation</code></td>
<td>
<p>stack the legend items vertically or horizontally</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_color">color</code></td>
<td>
<p>the color of the legend symbols, if omitted pal is used</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_fillcolor">fillColor</code></td>
<td>
<p>fill color of symbol</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_strokewidth">strokeWidth</code></td>
<td>
<p>width of symbol outline</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_opacity">opacity</code></td>
<td>
<p>opacity of the legend items</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_fillopacity">fillOpacity</code></td>
<td>
<p>fill opacity of the legend items</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_breaks">breaks</code></td>
<td>
<p>an integer specifying the number of breaks or a numeric vector of the breaks</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_basesize">baseSize</code></td>
<td>
<p>re-scaling size in pixels of the mean of the values, the average value will
be this exact size</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_numberformat">numberFormat</code></td>
<td>
<p>formatting functions for numbers that are displayed e.g. format, prettyNum</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_group">group</code></td>
<td>
<p>group name of a leaflet layer group</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_classname">className</code></td>
<td>
<p>extra CSS class to append to the control, space separated</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_stacked">stacked</code></td>
<td>
<p>If <code>TRUE</code>, symbols are overlayed onto each other for a more compact
size legend</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_data">data</code></td>
<td>
<p>a data object. Currently supported objects are matrices, data
frames, spatial objects from the <span class="pkg">sp</span> package
(<code>SpatialPoints</code>, <code>SpatialPointsDataFrame</code>, <code>Polygon</code>,
<code>Polygons</code>, <code>SpatialPolygons</code>, <code>SpatialPolygonsDataFrame</code>,
<code>Line</code>, <code>Lines</code>, <code>SpatialLines</code>, and
<code>SpatialLinesDataFrame</code>), and
spatial data frames from the <span class="pkg">sf</span> package.</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_...">...</code></td>
<td>
<p>arguments to pass to
</p>
<p><a href="leaflet.html#topic+addControl">addControl</a> for addLegendSize
</p>
<p><a href="base.html#topic+pretty">pretty</a> for sizeBreaks
</p>
<p><a href="#topic+makeSymbol">makeSymbol</a> for makeSymbolsSize</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_width">width</code></td>
<td>
<p>width in pixels of the lines</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_height">height</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="legendSymbols_+3A_dasharray">dashArray</code></td>
<td>
<p>a string or vector/list of strings that defines the stroke dash pattern</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object from <a href="leaflet.html#topic+addControl">addControl</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(leaflet)
data("quakes")
quakes &lt;- quakes[1:100,]
numPal &lt;- colorNumeric('viridis', quakes$depth)
sizes &lt;- sizeNumeric(quakes$depth, baseSize = 10)
symbols &lt;- Map(
  makeSymbol,
  shape = 'triangle',
  color = numPal(quakes$depth),
  width = sizes,
  height = sizes
)
leaflet() %&gt;%
  addTiles() %&gt;%
  addMarkers(data = quakes,
             icon = icons(iconUrl = symbols),
             lat = ~lat, lng = ~long) %&gt;%
  addLegendSize(
    values = quakes$depth,
    pal = numPal,
    title = 'Depth',
    labelStyle = 'margin: auto;',
    shape = c('triangle'),
    orientation = c('vertical', 'horizontal'),
    opacity = .7,
    breaks = 5)

# a wrapper for making icons is provided
sizeSymbols &lt;-
makeSymbolsSize(
  quakes$depth,
  shape = 'cross',
  fillColor = numPal(quakes$depth),
  color = 'black',
  strokeWidth = 1,
  opacity = .8,
  fillOpacity = .5,
  baseSize = 20
)
leaflet() %&gt;%
  addTiles() %&gt;%
  addMarkers(data = quakes,
             icon = sizeSymbols,
             lat = ~lat, lng = ~long) %&gt;%
  addLegendSize(
    values = quakes$depth,
    pal = numPal,
    title = 'Depth',
    shape = 'cross',
    orientation = 'horizontal',
    strokeWidth = 1,
    opacity = .8,
    fillOpacity = .5,
    color = 'black',
    baseSize = 20,
    breaks = 5)

# Group layers control
leaflet() %&gt;%
  addTiles() %&gt;%
    addLegendSize(
      values = quakes$depth,
      pal = numPal,
      title = 'Depth',
      labelStyle = 'margin: auto;',
      shape = c('triangle'),
      orientation = c('vertical', 'horizontal'),
      opacity = .7,
      breaks = 5,
      group = 'Depth') %&gt;%
    addLayersControl(overlayGroups = c('Depth'))

# Polyline Legend for Size
baseSize &lt;- 10
lineColor &lt;- '#00000080'
pal &lt;- colorNumeric('Reds', atlStorms2005$MinPress)
leaflet() %&gt;%
  addTiles() %&gt;%
  addPolylines(data = atlStorms2005,
               weight = ~sizeNumeric(values = MaxWind, baseSize = baseSize),
               color = ~pal(MinPress),
               popup = ~as.character(MaxWind)) %&gt;%
  addLegendLine(values = atlStorms2005$MaxWind,
                title = 'MaxWind',
                baseSize = baseSize,
                width = 50,
                color = lineColor) %&gt;%
  addLegendNumeric(pal = pal,
                   title = 'MinPress',
                   values = atlStorms2005$MinPress)

# Stacked Legends
leaflet(quakes) %&gt;%
addTiles() %&gt;%
  addSymbolsSize(values = ~10^(mag),
    lat = ~lat,
    lng = ~long,
    shape = 'circle',
    color = 'black',
    fillColor = 'red',
    opacity = 1,
    baseSize = 5) |&gt;
  addLegendSize(
    values = ~10^(mag),
    title = 'Magnitude',
    baseSize = 5,
    shape = 'circle',
    color = 'black',
    fillColor = 'red',
    labelStyle = 'font-size: 18px;',
    position = 'bottomleft',
    stacked = TRUE,
    breaks = 5)
</code></pre>

<hr>
<h2 id='mapSymbols'>Create Map Symbols for 'leaflet' maps</h2><span id='topic+mapSymbols'></span><span id='topic+makeSymbol'></span><span id='topic+makeSvgUri'></span><span id='topic+makeSymbolIcons'></span><span id='topic+addSymbols'></span><span id='topic+addSymbolsSize'></span><span id='topic+sizeNumeric'></span><span id='topic+sizeBreaks'></span><span id='topic+makeSymbolsSize'></span>

<h3>Description</h3>

<p>Create Map Symbols for 'leaflet' maps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeSymbol(
  shape,
  width,
  height = width,
  color,
  fillColor = color,
  opacity = 1,
  fillOpacity = opacity,
  ...
)

makeSvgUri(svg, width, height, strokeWidth)

makeSymbolIcons(
  shape,
  color,
  fillColor = color,
  opacity,
  fillOpacity = opacity,
  strokeWidth = 1,
  width,
  height = width,
  ...
)

addSymbols(
  map,
  lng,
  lat,
  values,
  shape,
  color,
  fillColor = color,
  opacity = 1,
  fillOpacity = opacity,
  strokeWidth = 1,
  width = 20,
  height = width,
  dashArray = NULL,
  data = leaflet::getMapData(map),
  ...
)

addSymbolsSize(
  map,
  lng,
  lat,
  values,
  shape,
  color,
  fillColor = color,
  opacity = 1,
  fillOpacity = opacity,
  strokeWidth = 1,
  baseSize = 20,
  data = leaflet::getMapData(map),
  ...
)

sizeNumeric(values, baseSize)

sizeBreaks(values, breaks, baseSize, ...)

makeSymbolsSize(
  values,
  shape = "rect",
  color,
  fillColor,
  opacity = 1,
  fillOpacity = opacity,
  strokeWidth = 1,
  baseSize,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapSymbols_+3A_shape">shape</code></td>
<td>
<p>the desired shape of the symbol, See <a href="#topic+availableShapes">availableShapes</a></p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_width">width</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_height">height</code></td>
<td>
<p>in pixels</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_color">color</code></td>
<td>
<p>stroke color</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_fillcolor">fillColor</code></td>
<td>
<p>fill color</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_opacity">opacity</code></td>
<td>
<p>stroke opacity</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_fillopacity">fillOpacity</code></td>
<td>
<p>fill opacity</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_...">...</code></td>
<td>
<p>arguments to pass to <code>pretty</code></p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_svg">svg</code></td>
<td>
<p>inner svg tags for symbol</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_strokewidth">strokeWidth</code></td>
<td>
<p>stroke width in pixels</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_map">map</code></td>
<td>
<p>a map widget object created from 'leaflet'</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_lng">lng</code></td>
<td>
<p>a numeric vector of longitudes, or a one-sided formula of the form <code>~x</code>
where <code>x</code> is a variable in <code>data</code>; by default
(if not explicitly provided), it will be automatically inferred from data
by looking for a column named <code>lng</code>, <code>long</code>, or <code>longitude</code>
(case-insensitively)</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_lat">lat</code></td>
<td>
<p>a vector of latitudes or a formula (similar to the <code>lng</code> argument; the
names <code>lat</code> and <code>latitude</code> are used when guessing the latitude
column from <code>data</code>)</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_values">values</code></td>
<td>
<p>the values used to generate shapes; can be omitted for a single type of
shape</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_dasharray">dashArray</code></td>
<td>
<p>a string or vector/list of strings that defines the stroke dash pattern</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_data">data</code></td>
<td>
<p>the data object from which the argument values are derived; by default, it
is the <code>data</code> object provided to <code>leaflet()</code> initially, but can be
overridden</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_basesize">baseSize</code></td>
<td>
<p>re-scaling size in pixels of the mean of the values, the average value will
be this exact size</p>
</td></tr>
<tr><td><code id="mapSymbols_+3A_breaks">breaks</code></td>
<td>
<p>an integer specifying the number of breaks or a numeric vector of the breaks;
if a named vector then the names are used as labels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>HTML svg element
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

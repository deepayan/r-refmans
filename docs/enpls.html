<!DOCTYPE html><html lang="en"><head><title>Help for package enpls</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {enpls}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#enpls-package'><p>enpls: Ensemble Partial Least Squares Regression</p></a></li>
<li><a href='#alkanes'><p>Methylalkanes Retention Index Dataset</p></a></li>
<li><a href='#cv.enpls'><p>Cross Validation for Ensemble Partial Least Squares Regression</p></a></li>
<li><a href='#cv.enspls'><p>Cross Validation for Ensemble Sparse Partial Least Squares Regression</p></a></li>
<li><a href='#enpls.ad'><p>Ensemble Partial Least Squares for Model Applicability Domain Evaluation</p></a></li>
<li><a href='#enpls.ad.core.fit'><p>core fitting function for enpls.ad</p></a></li>
<li><a href='#enpls.ad.core.pred'><p>core prediction function for enpls.ad</p></a></li>
<li><a href='#enpls.fit'><p>Ensemble Partial Least Squares Regression</p></a></li>
<li><a href='#enpls.fit.core'><p>core function for enpls.fit</p></a></li>
<li><a href='#enpls.fs'><p>Ensemble Partial Least Squares for Measuring Feature Importance</p></a></li>
<li><a href='#enpls.fs.core'><p>core function for enpls.fs</p></a></li>
<li><a href='#enpls.mae'><p>Mean Absolute Error (MAE)</p></a></li>
<li><a href='#enpls.od'><p>Ensemble Partial Least Squares for Outlier Detection</p></a></li>
<li><a href='#enpls.od.core'><p>core function for enpls.od</p></a></li>
<li><a href='#enpls.rmse'><p>Root Mean Squared Error (RMSE)</p></a></li>
<li><a href='#enpls.rmsle'><p>Root Mean Squared Logarithmic Error (RMSLE)</p></a></li>
<li><a href='#enspls.ad'><p>Ensemble Sparse Partial Least Squares for</p>
Model Applicability Domain Evaluation</a></li>
<li><a href='#enspls.ad.core.fit'><p>core fitting function for enspls.ad</p></a></li>
<li><a href='#enspls.ad.core.pred'><p>core prediction function for enspls.ad</p></a></li>
<li><a href='#enspls.fit'><p>Ensemble Sparse Partial Least Squares Regression</p></a></li>
<li><a href='#enspls.fit.core'><p>core function for enspls.fit</p></a></li>
<li><a href='#enspls.fs'><p>Ensemble Sparse Partial Least Squares for Measuring Feature Importance</p></a></li>
<li><a href='#enspls.fs.core'><p>core function for enspls.fs</p></a></li>
<li><a href='#enspls.od'><p>Ensemble Sparse Partial Least Squares for Outlier Detection</p></a></li>
<li><a href='#enspls.od.core'><p>core function for enspls.od</p></a></li>
<li><a href='#logd1k'><p>logD7.4 Data for 1,000 Compounds</p></a></li>
<li><a href='#plot.cv.enpls'><p>Plot cv.enpls object</p></a></li>
<li><a href='#plot.cv.enspls'><p>Plot cv.enspls object</p></a></li>
<li><a href='#plot.enpls.ad'><p>Plot enpls.ad object</p></a></li>
<li><a href='#plot.enpls.fs'><p>Plot enpls.fs object</p></a></li>
<li><a href='#plot.enpls.od'><p>Plot enpls.od object</p></a></li>
<li><a href='#plot.enspls.ad'><p>Plot enspls.ad object</p></a></li>
<li><a href='#plot.enspls.fs'><p>Plot enspls.fs object</p></a></li>
<li><a href='#plot.enspls.od'><p>Plot enspls.od object</p></a></li>
<li><a href='#predict.enpls.fit'><p>Make Predictions from a Fitted Ensemble Partial Least Squares Model</p></a></li>
<li><a href='#predict.enspls.fit'><p>Make Predictions from a Fitted Sparse Ensemble Partial Least Squares Model</p></a></li>
<li><a href='#print.cv.enpls'><p>Print cv.enpls Object</p></a></li>
<li><a href='#print.cv.enspls'><p>Print cv.enspls Object</p></a></li>
<li><a href='#print.enpls.ad'><p>Print enpls.ad Object</p></a></li>
<li><a href='#print.enpls.fit'><p>Print Fitted Ensemble Partial Least Squares Object</p></a></li>
<li><a href='#print.enpls.fs'><p>Print enpls.fs Object</p></a></li>
<li><a href='#print.enpls.od'><p>Print enpls.od Object</p></a></li>
<li><a href='#print.enspls.ad'><p>Print enspls.ad Object</p></a></li>
<li><a href='#print.enspls.fit'><p>Print Fitted Ensemble Sparse Partial Least Squares Object</p></a></li>
<li><a href='#print.enspls.fs'><p>Print enspls.fs Object</p></a></li>
<li><a href='#print.enspls.od'><p>Print enspls.od Object</p></a></li>
<li><a href='#rgb2alpha'><p>Add transparency level to hex colors</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Ensemble Partial Least Squares Regression</td>
</tr>
<tr>
<td>Version:</td>
<td>6.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nan Xiao &lt;me@nanx.me&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An algorithmic framework for measuring feature importance,
    outlier detection, model applicability domain evaluation,
    and ensemble predictive modeling with (sparse)
    partial least squares regressions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://nanx.me/enpls/">https://nanx.me/enpls/</a>, <a href="https://github.com/nanxstats/enpls">https://github.com/nanxstats/enpls</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nanxstats/enpls/issues">https://github.com/nanxstats/enpls/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>pls, spls, foreach, doParallel, ggplot2, reshape2, plotly</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-05-18 00:13:39 UTC; nanx</td>
</tr>
<tr>
<td>Author:</td>
<td>Nan Xiao <a href="https://orcid.org/0000-0002-0250-5673"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Dong-Sheng Cao [aut],
  Miao-Zhu Li [aut],
  Qing-Song Xu [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-05-18 04:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='enpls-package'>enpls: Ensemble Partial Least Squares Regression</h2><span id='topic+enpls'></span><span id='topic+enpls-package'></span>

<h3>Description</h3>

<p>An algorithmic framework for measuring feature importance,
outlier detection, model applicability domain evaluation,
and ensemble predictive modeling with (sparse)
partial least squares regressions.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Nan Xiao <a href="mailto:me@nanx.me">me@nanx.me</a> (0000-0002-0250-5673)
</p>
<p>Authors:
</p>

<ul>
<li><p> Dong-Sheng Cao
</p>
</li>
<li><p> Miao-Zhu Li <a href="mailto:miaozhu.li@duke.edu">miaozhu.li@duke.edu</a>
</p>
</li>
<li><p> Qing-Song Xu <a href="mailto:qsxu@csu.edu.cn">qsxu@csu.edu.cn</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://nanx.me/enpls/">https://nanx.me/enpls/</a>
</p>
</li>
<li> <p><a href="https://github.com/nanxstats/enpls">https://github.com/nanxstats/enpls</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/nanxstats/enpls/issues">https://github.com/nanxstats/enpls/issues</a>
</p>
</li></ul>


<hr>
<h2 id='alkanes'>Methylalkanes Retention Index Dataset</h2><span id='topic+alkanes'></span>

<h3>Description</h3>

<p>Methylalkanes retention index dataset from Liang et, al.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("alkanes")
</code></pre>


<h3>Format</h3>

<p>A list with 2 components:
</p>

<ul>
<li><p> x - data frame with 207 rows (samples) and 21 columns (predictors)
</p>
</li>
<li><p> y - numeric vector of length 207 (response)
</p>
</li></ul>


<h3>Details</h3>

<p>This dataset contains 207 methylalkanes' chromatographic retention index (y)
which have been modeled by 21 molecular descriptors (x).
</p>
<p>Molecular descriptor types:
</p>

<ul>
<li><p> Chi path, cluster and path/cluster indices
</p>
</li>
<li><p> Kappa shape indices
</p>
</li>
<li><p> E-state indices
</p>
</li>
<li><p> Molecular electricity distance vector index
</p>
</li></ul>



<h3>References</h3>

<p>Yi-Zeng Liang, Da-Lin Yuan, Qing-Song Xu, and Olav Martin Kvalheim.
&quot;Modeling based on subspace orthogonal projections for QSAR and
QSPR research.&quot; <em>Journal of Chemometrics</em> 22, no. 1 (2008): 23&ndash;35.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
str(alkanes)
</code></pre>

<hr>
<h2 id='cv.enpls'>Cross Validation for Ensemble Partial Least Squares Regression</h2><span id='topic+cv.enpls'></span>

<h3>Description</h3>

<p>K-fold cross validation for ensemble partial least squares regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.enpls(x, y, nfolds = 5L, verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cv.enpls_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="cv.enpls_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="cv.enpls_+3A_nfolds">nfolds</code></td>
<td>
<p>Number of cross-validation folds, default is <code>5</code>.
Note that this is the CV folds for the ensemble PLS model,
not the individual PLS models. To control the CV folds for
single PLS models, please use the argument <code>cvfolds</code>.</p>
</td></tr>
<tr><td><code id="cv.enpls_+3A_verbose">verbose</code></td>
<td>
<p>Shall we print out the progress of cross-validation?</p>
</td></tr>
<tr><td><code id="cv.enpls_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="#topic+enpls.fit">enpls.fit</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing:
</p>

<ul>
<li> <p><code>ypred</code> - a matrix containing two columns: real y and predicted y
</p>
</li>
<li> <p><code>residual</code> - cross validation result (y.pred - y.real)
</p>
</li>
<li> <p><code>RMSE</code> - RMSE
</p>
</li>
<li> <p><code>MAE</code> - MAE
</p>
</li>
<li> <p><code>Rsquare</code> - Rsquare
</p>
</li></ul>



<h3>Note</h3>

<p>To maximize the probablity that each observation can
be selected in the test set (thus the prediction uncertainty
can be measured), please try setting a large <code>reptimes</code>.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.fit">enpls.fit</a></code> for ensemble
partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
cvfit &lt;- cv.enpls(x, y, reptimes = 10)
print(cvfit)
plot(cvfit)
</code></pre>

<hr>
<h2 id='cv.enspls'>Cross Validation for Ensemble Sparse Partial Least Squares Regression</h2><span id='topic+cv.enspls'></span>

<h3>Description</h3>

<p>K-fold cross validation for ensemble sparse partial least squares regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.enspls(x, y, nfolds = 5L, verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cv.enspls_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="cv.enspls_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="cv.enspls_+3A_nfolds">nfolds</code></td>
<td>
<p>Number of cross-validation folds, default is <code>5</code>.
Note that this is the CV folds for the ensemble sparse PLS model,
not the individual sparse PLS models. To control the CV folds for
single sparse PLS models, please use the argument <code>cvfolds</code>.</p>
</td></tr>
<tr><td><code id="cv.enspls_+3A_verbose">verbose</code></td>
<td>
<p>Shall we print out the progress of cross-validation?</p>
</td></tr>
<tr><td><code id="cv.enspls_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="#topic+enspls.fit">enspls.fit</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing:
</p>

<ul>
<li> <p><code>ypred</code> - a matrix containing two columns: real y and predicted y
</p>
</li>
<li> <p><code>residual</code> - cross validation result (y.pred - y.real)
</p>
</li>
<li> <p><code>RMSE</code> - RMSE
</p>
</li>
<li> <p><code>MAE</code> - MAE
</p>
</li>
<li> <p><code>Rsquare</code> - Rsquare
</p>
</li></ul>



<h3>Note</h3>

<p>To maximize the probablity that each observation can
be selected in the test set (thus the prediction uncertainty
can be measured), please try setting a large <code>reptimes</code>.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.fit">enspls.fit</a></code> for ensemble sparse
partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This example takes one minute to run
## Not run: 
data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
cvfit &lt;- cv.enspls(x, y, reptimes = 10)
print(cvfit)
plot(cvfit)

## End(Not run)

</code></pre>

<hr>
<h2 id='enpls.ad'>Ensemble Partial Least Squares for Model Applicability Domain Evaluation</h2><span id='topic+enpls.ad'></span>

<h3>Description</h3>

<p>Model applicability domain evaluation with ensemble partial least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.ad(x, y, xtest, ytest, maxcomp = NULL, cvfolds = 5L,
  space = c("sample", "variable"), method = c("mc", "boot"),
  reptimes = 500L, ratio = 0.8, parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enpls.ad_+3A_x">x</code></td>
<td>
<p>Predictor matrix of the training set.</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_y">y</code></td>
<td>
<p>Response vector of the training set.</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_xtest">xtest</code></td>
<td>
<p>List, with the i-th component being the i-th test set's
predictor matrix (see example code below).</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_ytest">ytest</code></td>
<td>
<p>List, with the i-th component being the i-th test set's
response vector (see example code below).</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use the maximum number possible (considering
cross-validation and special cases where n is smaller than p).</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_space">space</code></td>
<td>
<p>Space in which to apply the resampling method.
Can be the sample space (<code>"sample"</code>) or
the variable space (<code>"variable"</code>).</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.ad_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing:
</p>

<ul>
<li> <p><code>tr.error.mean</code> -
absolute mean prediction error for training set
</p>
</li>
<li> <p><code>tr.error.median</code> -
absolute median prediction error for training set
</p>
</li>
<li> <p><code>tr.error.sd</code> -
prediction error sd for training set
</p>
</li>
<li> <p><code>tr.error.matrix</code> -
raw prediction error matrix for training set
</p>
</li>
<li> <p><code>te.error.mean</code> -
list of absolute mean prediction error for test set(s)
</p>
</li>
<li> <p><code>te.error.median</code> -
list of absolute median prediction error for test set(s)
</p>
</li>
<li> <p><code>te.error.sd</code> -
list of prediction error sd for test set(s)
</p>
</li>
<li> <p><code>te.error.matrix</code> -
list of raw prediction error matrix for test set(s)
</p>
</li></ul>



<h3>Note</h3>

<p>Note that for <code>space = "variable"</code>, <code>method</code> could
only be <code>"mc"</code>, since bootstrapping in the variable space
will create duplicated variables, and that could cause problems.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

# training set
x.tr &lt;- x[1:100, ]
y.tr &lt;- y[1:100]

# two test sets
x.te &lt;- list(
  "test.1" = x[101:150, ],
  "test.2" = x[151:207, ]
)
y.te &lt;- list(
  "test.1" = y[101:150],
  "test.2" = y[151:207]
)

set.seed(42)
ad &lt;- enpls.ad(
  x.tr, y.tr, x.te, y.te,
  space = "variable", method = "mc",
  ratio = 0.9, reptimes = 50
)
print(ad)
plot(ad)
# the interactive plot requires a HTML viewer
## Not run: 
plot(ad, type = "interactive")

## End(Not run)
</code></pre>

<hr>
<h2 id='enpls.ad.core.fit'>core fitting function for enpls.ad</h2><span id='topic+enpls.ad.core.fit'></span>

<h3>Description</h3>

<p>select the best ncomp with cross-validation and
use it to fit the complete training set. scale = TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.ad.core.fit(trainingset, maxcomp, cvfolds)
</code></pre>


<h3>Value</h3>

<p>the fitted plsr object
</p>

<hr>
<h2 id='enpls.ad.core.pred'>core prediction function for enpls.ad</h2><span id='topic+enpls.ad.core.pred'></span>

<h3>Description</h3>

<p>core prediction function for enpls.ad
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.ad.core.pred(model, testset)
</code></pre>


<h3>Value</h3>

<p>the error vector between predicted and real response
</p>

<hr>
<h2 id='enpls.fit'>Ensemble Partial Least Squares Regression</h2><span id='topic+enpls.fit'></span>

<h3>Description</h3>

<p>Ensemble partial least squares regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.fit(x, y, maxcomp = NULL, cvfolds = 5L, reptimes = 500L,
  method = c("mc", "boot"), ratio = 0.8, parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enpls.fit_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="enpls.fit_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="enpls.fit_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use the maximum number possible (considering
cross-validation and special cases where n is smaller than p).</p>
</td></tr>
<tr><td><code id="enpls.fit_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enpls.fit_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enpls.fit_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.fit_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.fit_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing all partial least squares model objects.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.fs">enpls.fs</a></code> for measuring feature importance
with ensemble partial least squares regressions.
See <code><a href="#topic+enpls.od">enpls.od</a></code> for outlier detection with ensemble
partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
fit &lt;- enpls.fit(x, y, reptimes = 50)
print(fit)
predict(fit, newx = x)
</code></pre>

<hr>
<h2 id='enpls.fit.core'>core function for enpls.fit</h2><span id='topic+enpls.fit.core'></span>

<h3>Description</h3>

<p>select the best ncomp with cross-validation and
use it to fit the complete training set.
scale = TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.fit.core(plsdf, maxcomp, cvfolds)
</code></pre>


<h3>Value</h3>

<p>the coefficients
</p>

<hr>
<h2 id='enpls.fs'>Ensemble Partial Least Squares for Measuring Feature Importance</h2><span id='topic+enpls.fs'></span>

<h3>Description</h3>

<p>Measuring feature importance with ensemble partial least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.fs(x, y, maxcomp = NULL, cvfolds = 5L, reptimes = 500L,
  method = c("mc", "boot"), ratio = 0.8, parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enpls.fs_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="enpls.fs_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="enpls.fs_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use the maximum number possible (considering
cross-validation and special cases where n is smaller than p).</p>
</td></tr>
<tr><td><code id="enpls.fs_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enpls.fs_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enpls.fs_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.fs_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.fs_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two components:
</p>

<ul>
<li> <p><code>variable.importance</code> - a vector of variable importance
</p>
</li>
<li> <p><code>coefficient.matrix</code> - original coefficient matrix
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.od">enpls.od</a></code> for outlier detection with
ensemble partial least squares regressions.
See <code><a href="#topic+enpls.fit">enpls.fit</a></code> for fitting ensemble partial least
squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
fs &lt;- enpls.fs(x, y, reptimes = 50)
print(fs)
plot(fs)
</code></pre>

<hr>
<h2 id='enpls.fs.core'>core function for enpls.fs</h2><span id='topic+enpls.fs.core'></span>

<h3>Description</h3>

<p>select the best ncomp with cross-validation and
use it to fit the complete training set.
scale = FALSE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.fs.core(plsdf, maxcomp, cvfolds)
</code></pre>


<h3>Value</h3>

<p>fitted coefficients
</p>

<hr>
<h2 id='enpls.mae'>Mean Absolute Error (MAE)</h2><span id='topic+enpls.mae'></span>

<h3>Description</h3>

<p>Mean Absolute Error (MAE)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.mae(yreal, ypred)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enpls.mae_+3A_yreal">yreal</code></td>
<td>
<p>true response vector</p>
</td></tr>
<tr><td><code id="enpls.mae_+3A_ypred">ypred</code></td>
<td>
<p>predicted response vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>MAE
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>

<hr>
<h2 id='enpls.od'>Ensemble Partial Least Squares for Outlier Detection</h2><span id='topic+enpls.od'></span>

<h3>Description</h3>

<p>Outlier detection with ensemble partial least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.od(x, y, maxcomp = NULL, cvfolds = 5L, reptimes = 500L,
  method = c("mc", "boot"), ratio = 0.8, parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enpls.od_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="enpls.od_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="enpls.od_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use the maximum number possible (considering
cross-validation and special cases where n is smaller than p).</p>
</td></tr>
<tr><td><code id="enpls.od_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enpls.od_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enpls.od_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.od_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enpls.od_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing four components:
</p>

<ul>
<li> <p><code>error.mean</code> - error mean for all samples (absolute value)
</p>
</li>
<li> <p><code>error.median</code> - error median for all samples
</p>
</li>
<li> <p><code>error.sd</code> - error sd for all samples
</p>
</li>
<li> <p><code>predict.error.matrix</code> - the original prediction error matrix
</p>
</li></ul>



<h3>Note</h3>

<p>To maximize the probablity that each observation can
be selected in the test set (thus the prediction uncertainty
can be measured), please try setting a large <code>reptimes</code>.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.fs">enpls.fs</a></code> for measuring feature importance with
ensemble partial least squares regressions.
See <code><a href="#topic+enpls.fit">enpls.fit</a></code> for fitting ensemble partial least
squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
od &lt;- enpls.od(x, y, reptimes = 50)
print(od)
plot(od)
plot(od, criterion = "sd")
</code></pre>

<hr>
<h2 id='enpls.od.core'>core function for enpls.od</h2><span id='topic+enpls.od.core'></span>

<h3>Description</h3>

<p>select the best ncomp with cross-validation and
use it to fit the complete training set,
then predict on the test set. scale = TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.od.core(plsdf.sample, plsdf.remain, maxcomp, cvfolds)
</code></pre>


<h3>Value</h3>

<p>the error vector between predicted y and real y
</p>

<hr>
<h2 id='enpls.rmse'>Root Mean Squared Error (RMSE)</h2><span id='topic+enpls.rmse'></span>

<h3>Description</h3>

<p>Compute Root Mean Squared Error (RMSE).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.rmse(yreal, ypred)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enpls.rmse_+3A_yreal">yreal</code></td>
<td>
<p>true response vector</p>
</td></tr>
<tr><td><code id="enpls.rmse_+3A_ypred">ypred</code></td>
<td>
<p>predicted response vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>RMSE
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>

<hr>
<h2 id='enpls.rmsle'>Root Mean Squared Logarithmic Error (RMSLE)</h2><span id='topic+enpls.rmsle'></span>

<h3>Description</h3>

<p>Root Mean Squared Logarithmic Error (RMSLE)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enpls.rmsle(yreal, ypred)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enpls.rmsle_+3A_yreal">yreal</code></td>
<td>
<p>true response vector</p>
</td></tr>
<tr><td><code id="enpls.rmsle_+3A_ypred">ypred</code></td>
<td>
<p>predicted response vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>RMSLE
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>

<hr>
<h2 id='enspls.ad'>Ensemble Sparse Partial Least Squares for
Model Applicability Domain Evaluation</h2><span id='topic+enspls.ad'></span>

<h3>Description</h3>

<p>Model applicability domain evaluation with
ensemble sparse partial least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.ad(x, y, xtest, ytest, maxcomp = 5L, cvfolds = 5L,
  alpha = seq(0.2, 0.8, 0.2), space = c("sample", "variable"),
  method = c("mc", "boot"), reptimes = 500L, ratio = 0.8,
  parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enspls.ad_+3A_x">x</code></td>
<td>
<p>Predictor matrix of the training set.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_y">y</code></td>
<td>
<p>Response vector of the training set.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_xtest">xtest</code></td>
<td>
<p>List, with the i-th component being the i-th test set's
predictor matrix (see example code below).</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_ytest">ytest</code></td>
<td>
<p>List, with the i-th component being the i-th test set's
response vector (see example code below).</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use <code>5</code> by default.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_alpha">alpha</code></td>
<td>
<p>Parameter (grid) controlling sparsity of the model.
If not specified, default is <code>seq(0.2, 0.8, 0.2)</code>.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_space">space</code></td>
<td>
<p>Space in which to apply the resampling method.
Can be the sample space (<code>"sample"</code>) or
the variable space (<code>"variable"</code>).</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.ad_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing:
</p>

<ul>
<li> <p><code>tr.error.mean</code> -
absolute mean prediction error for training set
</p>
</li>
<li> <p><code>tr.error.median</code> -
absolute median prediction error for training set
</p>
</li>
<li> <p><code>tr.error.sd</code> -
prediction error sd for training set
</p>
</li>
<li> <p><code>tr.error.matrix</code> -
raw prediction error matrix for training set
</p>
</li>
<li> <p><code>te.error.mean</code> -
list of absolute mean prediction error for test set(s)
</p>
</li>
<li> <p><code>te.error.median</code> -
list of absolute median prediction error for test set(s)
</p>
</li>
<li> <p><code>te.error.sd</code> -
list of prediction error sd for test set(s)
</p>
</li>
<li> <p><code>te.error.matrix</code> -
list of raw prediction error matrix for test set(s)
</p>
</li></ul>



<h3>Note</h3>

<p>Note that for <code>space = "variable"</code>, <code>method</code> could
only be <code>"mc"</code>, since bootstrapping in the variable space
will create duplicated variables, and that could cause problems.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
# remove low variance variables
x &lt;- logd1k$x[, -c(17, 52, 59)]
y &lt;- logd1k$y

# training set
x.tr &lt;- x[1:300, ]
y.tr &lt;- y[1:300]

# two test sets
x.te &lt;- list(
  "test.1" = x[301:400, ],
  "test.2" = x[401:500, ]
)
y.te &lt;- list(
  "test.1" = y[301:400],
  "test.2" = y[401:500]
)

set.seed(42)
ad &lt;- enspls.ad(
  x.tr, y.tr, x.te, y.te,
  maxcomp = 3, alpha = c(0.3, 0.6, 0.9),
  space = "variable", method = "mc",
  ratio = 0.8, reptimes = 10
)
print(ad)
plot(ad)
# the interactive plot requires a HTML viewer
## Not run: 
plot(ad, type = "interactive")

## End(Not run)
</code></pre>

<hr>
<h2 id='enspls.ad.core.fit'>core fitting function for enspls.ad</h2><span id='topic+enspls.ad.core.fit'></span>

<h3>Description</h3>

<p>select the best ncomp and alpha with cross-validation,
then use them to fit the complete training set. scale = TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.ad.core.fit(x.tr, y.tr, maxcomp, cvfolds, alpha)
</code></pre>


<h3>Value</h3>

<p>the fitted spls object
</p>

<hr>
<h2 id='enspls.ad.core.pred'>core prediction function for enspls.ad</h2><span id='topic+enspls.ad.core.pred'></span>

<h3>Description</h3>

<p>core prediction function for enspls.ad
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.ad.core.pred(model, x.te, y.te)
</code></pre>


<h3>Value</h3>

<p>the error vector between predicted and real response
</p>

<hr>
<h2 id='enspls.fit'>Ensemble Sparse Partial Least Squares Regression</h2><span id='topic+enspls.fit'></span>

<h3>Description</h3>

<p>Ensemble sparse partial least squares regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.fit(x, y, maxcomp = 5L, cvfolds = 5L, alpha = seq(0.2, 0.8,
  0.2), reptimes = 500L, method = c("mc", "boot"), ratio = 0.8,
  parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enspls.fit_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use <code>5</code> by default.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_alpha">alpha</code></td>
<td>
<p>Parameter (grid) controlling sparsity of the model.
If not specified, default is <code>seq(0.2, 0.8, 0.2)</code>.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.fit_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing all sparse partial least squares model objects.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.fs">enspls.fs</a></code> for measuring feature importance
with ensemble sparse partial least squares regressions.
See <code><a href="#topic+enspls.od">enspls.od</a></code> for outlier detection with ensemble
sparse partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
fit &lt;- enspls.fit(
  x, y,
  reptimes = 5, maxcomp = 3,
  alpha = c(0.3, 0.6, 0.9)
)
print(fit)
predict(fit, newx = x)
</code></pre>

<hr>
<h2 id='enspls.fit.core'>core function for enspls.fit</h2><span id='topic+enspls.fit.core'></span>

<h3>Description</h3>

<p>select the best ncomp and alpha, then use them to fit
the complete training set.
scale = TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.fit.core(xtmp, ytmp, maxcomp, cvfolds, alpha)
</code></pre>


<h3>Value</h3>

<p>the coefficients
</p>

<hr>
<h2 id='enspls.fs'>Ensemble Sparse Partial Least Squares for Measuring Feature Importance</h2><span id='topic+enspls.fs'></span>

<h3>Description</h3>

<p>Measuring feature importance with ensemble sparse partial least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.fs(x, y, maxcomp = 5L, cvfolds = 5L, alpha = seq(0.2, 0.8,
  0.2), reptimes = 500L, method = c("mc", "boot"), ratio = 0.8,
  parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enspls.fs_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use <code>5</code> by default.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_alpha">alpha</code></td>
<td>
<p>Parameter (grid) controlling sparsity of the model.
If not specified, default is <code>seq(0.2, 0.8, 0.2)</code>.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.fs_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two components:
</p>

<ul>
<li> <p><code>variable.importance</code> - a vector of variable importance
</p>
</li>
<li> <p><code>coefficient.matrix</code> - original coefficient matrix
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.od">enspls.od</a></code> for outlier detection with
ensemble sparse partial least squares regressions.
See <code><a href="#topic+enspls.fit">enspls.fit</a></code> for fitting ensemble sparse
partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
fs &lt;- enspls.fs(x, y, reptimes = 5, maxcomp = 2)
print(fs, nvar = 10)
plot(fs, nvar = 10)
plot(fs, type = "boxplot", limits = c(0.05, 0.95), nvar = 10)
</code></pre>

<hr>
<h2 id='enspls.fs.core'>core function for enspls.fs</h2><span id='topic+enspls.fs.core'></span>

<h3>Description</h3>

<p>select the best ncomp and alpha with cross-validation, then
use it to fit the complete training set.
scale = FALSE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.fs.core(xtmp, ytmp, maxcomp, cvfolds, alpha)
</code></pre>


<h3>Value</h3>

<p>fitted coefficients
</p>

<hr>
<h2 id='enspls.od'>Ensemble Sparse Partial Least Squares for Outlier Detection</h2><span id='topic+enspls.od'></span>

<h3>Description</h3>

<p>Outlier detection with ensemble sparse partial least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.od(x, y, maxcomp = 5L, cvfolds = 5L, alpha = seq(0.2, 0.8,
  0.2), reptimes = 500L, method = c("mc", "boot"), ratio = 0.8,
  parallel = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enspls.od_+3A_x">x</code></td>
<td>
<p>Predictor matrix.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_y">y</code></td>
<td>
<p>Response vector.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_maxcomp">maxcomp</code></td>
<td>
<p>Maximum number of components included within each model.
If not specified, will use <code>5</code> by default.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_cvfolds">cvfolds</code></td>
<td>
<p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_alpha">alpha</code></td>
<td>
<p>Parameter (grid) controlling sparsity of the model.
If not specified, default is <code>seq(0.2, 0.8, 0.2)</code>.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_reptimes">reptimes</code></td>
<td>
<p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_method">method</code></td>
<td>
<p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_ratio">ratio</code></td>
<td>
<p>Sampling ratio used when <code>method = "mc"</code>.</p>
</td></tr>
<tr><td><code id="enspls.od_+3A_parallel">parallel</code></td>
<td>
<p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing four components:
</p>

<ul>
<li> <p><code>error.mean</code> - error mean for all samples (absolute value)
</p>
</li>
<li> <p><code>error.median</code> - error median for all samples
</p>
</li>
<li> <p><code>error.sd</code> - error sd for all samples
</p>
</li>
<li> <p><code>predict.error.matrix</code> - the original prediction error matrix
</p>
</li></ul>



<h3>Note</h3>

<p>To maximize the probablity that each observation can
be selected in the test set (thus the prediction uncertainty
can be measured), please try setting a large <code>reptimes</code>.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.fs">enspls.fs</a></code> for measuring feature importance
with ensemble sparse partial least squares regressions.
See <code><a href="#topic+enspls.fit">enspls.fit</a></code> for fitting ensemble sparse
partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
od &lt;- enspls.od(
  x, y,
  reptimes = 5, maxcomp = 3,
  alpha = c(0.3, 0.6, 0.9)
)
plot(od, prob = 0.1)
plot(od, criterion = "sd", sdtimes = 1)
</code></pre>

<hr>
<h2 id='enspls.od.core'>core function for enspls.od</h2><span id='topic+enspls.od.core'></span>

<h3>Description</h3>

<p>select the best ncomp and alpha with cross-validation,
then use them to fit the complete training set,
and predict on the test set. scale = TRUE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enspls.od.core(x.sample, y.sample, x.remain, y.remain, maxcomp, cvfolds,
  alpha)
</code></pre>


<h3>Value</h3>

<p>the error vector between predicted y and real y
</p>

<hr>
<h2 id='logd1k'>logD7.4 Data for 1,000 Compounds</h2><span id='topic+logd1k'></span>

<h3>Description</h3>

<p>Distribution coefficients at pH 7.4 (logD7.4) dataset from Wang et, al.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(logd1k)
</code></pre>


<h3>Format</h3>

<p>A list with 2 components:
</p>

<ul>
<li><p> x - data frame with 1,000 rows (samples) and 80 columns (predictors)
</p>
</li>
<li><p> y - numeric vector of length 1,000 (response)
</p>
</li></ul>

<p>The first 1000 compounds in the original dataset were selected.</p>


<h3>Details</h3>

<p>This dataset contains distribution coefficients at pH 7.4 (logD7.4)
for 1,000 compounds, and 80 molecular descriptors computed with RDKit.
</p>


<h3>References</h3>

<p>Jian-Bing Wang, Dong-Sheng Cao, Min-Feng Zhu, Yong-Huan Yun, Nan Xiao,
and Yi-Zeng Liang. &quot;In silico evaluation of logD7.4 and comparison with
other prediction methods.&quot;
<em>Journal of Chemometrics</em> 29, no. 7 (2015): 389&ndash;398.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(logd1k)
str(logd1k)
</code></pre>

<hr>
<h2 id='plot.cv.enpls'>Plot cv.enpls object</h2><span id='topic+plot.cv.enpls'></span>

<h3>Description</h3>

<p>Plot cv.enpls object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.enpls'
plot(x, xlim = NULL, ylim = NULL, alpha = 0.8,
  main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.cv.enpls_+3A_x">x</code></td>
<td>
<p>An object of class <code>cv.enpls</code>.</p>
</td></tr>
<tr><td><code id="plot.cv.enpls_+3A_xlim">xlim</code></td>
<td>
<p>x Vector of length 2 - x axis limits of the plot.</p>
</td></tr>
<tr><td><code id="plot.cv.enpls_+3A_ylim">ylim</code></td>
<td>
<p>y Vector of length 2 - y axis limits of the plot.</p>
</td></tr>
<tr><td><code id="plot.cv.enpls_+3A_alpha">alpha</code></td>
<td>
<p>An alpha transparency value for points, a real number in (0, 1].</p>
</td></tr>
<tr><td><code id="plot.cv.enpls_+3A_main">main</code></td>
<td>
<p>Plot title, not used currently.</p>
</td></tr>
<tr><td><code id="plot.cv.enpls_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters, not used currently.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+cv.enpls">cv.enpls</a></code> for cross-validation of
ensemble partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
cvfit &lt;- cv.enpls(x, y, reptimes = 10)
plot(cvfit)
</code></pre>

<hr>
<h2 id='plot.cv.enspls'>Plot cv.enspls object</h2><span id='topic+plot.cv.enspls'></span>

<h3>Description</h3>

<p>Plot cv.enspls object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.enspls'
plot(x, xlim = NULL, ylim = NULL, alpha = 0.8,
  main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.cv.enspls_+3A_x">x</code></td>
<td>
<p>An object of class <code>cv.enspls</code>.</p>
</td></tr>
<tr><td><code id="plot.cv.enspls_+3A_xlim">xlim</code></td>
<td>
<p>x Vector of length 2 - x axis limits of the plot.</p>
</td></tr>
<tr><td><code id="plot.cv.enspls_+3A_ylim">ylim</code></td>
<td>
<p>y Vector of length 2 - y axis limits of the plot.</p>
</td></tr>
<tr><td><code id="plot.cv.enspls_+3A_alpha">alpha</code></td>
<td>
<p>An alpha transparency value for points, a real number in (0, 1].</p>
</td></tr>
<tr><td><code id="plot.cv.enspls_+3A_main">main</code></td>
<td>
<p>Plot title, not used currently.</p>
</td></tr>
<tr><td><code id="plot.cv.enspls_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters, not used currently.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+cv.enspls">cv.enspls</a></code> for cross-validation of
ensemble sparse partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This example takes one minute to run
## Not run: 
data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
cvfit &lt;- cv.enspls(x, y, reptimes = 10)
plot(cvfit)

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.enpls.ad'>Plot enpls.ad object</h2><span id='topic+plot.enpls.ad'></span>

<h3>Description</h3>

<p>Plot enpls.ad object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.ad'
plot(x, type = c("static", "interactive"),
  main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.enpls.ad_+3A_x">x</code></td>
<td>
<p>An object of class <code>enpls.ad</code>.</p>
</td></tr>
<tr><td><code id="plot.enpls.ad_+3A_type">type</code></td>
<td>
<p>Plot type. Can be <code>"static"</code> or <code>"interactive"</code>.</p>
</td></tr>
<tr><td><code id="plot.enpls.ad_+3A_main">main</code></td>
<td>
<p>Plot title, not used currently.</p>
</td></tr>
<tr><td><code id="plot.enpls.ad_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters, not used currently.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.ad">enpls.ad</a></code> for model applicability domain
evaluation with ensemble partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

# training set
x.tr &lt;- x[1:100, ]
y.tr &lt;- y[1:100]

# two test sets
x.te &lt;- list(
  "test.1" = x[101:150, ],
  "test.2" = x[151:207, ]
)
y.te &lt;- list(
  "test.1" = y[101:150],
  "test.2" = y[151:207]
)

set.seed(42)
ad &lt;- enpls.ad(
  x.tr, y.tr, x.te, y.te,
  space = "variable", method = "mc",
  ratio = 0.9, reptimes = 50
)
plot(ad)
# the interactive plot requires a HTML viewer
## Not run: 
plot(ad, type = "interactive")

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.enpls.fs'>Plot enpls.fs object</h2><span id='topic+plot.enpls.fs'></span>

<h3>Description</h3>

<p>Plot enpls.fs object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.fs'
plot(x, nvar = NULL, type = c("dotplot", "boxplot"),
  limits = c(0, 1), main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.enpls.fs_+3A_x">x</code></td>
<td>
<p>An object of class <code>enpls.fs</code>.</p>
</td></tr>
<tr><td><code id="plot.enpls.fs_+3A_nvar">nvar</code></td>
<td>
<p>Number of top variables to show. Ignored if <code>sort = FALSE</code>.</p>
</td></tr>
<tr><td><code id="plot.enpls.fs_+3A_type">type</code></td>
<td>
<p>Plot type. <code>"dotplot"</code> or <code>"boxplot"</code>.</p>
</td></tr>
<tr><td><code id="plot.enpls.fs_+3A_limits">limits</code></td>
<td>
<p>Vector of length 2. Set boxplot limits (in quantile) to
remove the extreme outlier coefficients.</p>
</td></tr>
<tr><td><code id="plot.enpls.fs_+3A_main">main</code></td>
<td>
<p>Plot title, not used currently.</p>
</td></tr>
<tr><td><code id="plot.enpls.fs_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters, not used currently.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.fs">enpls.fs</a></code> for measuring feature importance with
ensemble partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
fs &lt;- enpls.fs(x, y, reptimes = 50)
plot(fs)
plot(fs, nvar = 10)
plot(fs, type = "boxplot")
plot(fs, type = "boxplot", limits = c(0.05, 0.95))
</code></pre>

<hr>
<h2 id='plot.enpls.od'>Plot enpls.od object</h2><span id='topic+plot.enpls.od'></span>

<h3>Description</h3>

<p>Plot enpls.od object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.od'
plot(x, criterion = c("quantile", "sd"),
  prob = 0.05, sdtimes = 3L, alpha = 1, main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.enpls.od_+3A_x">x</code></td>
<td>
<p>An object of class <code>enpls.od</code>.</p>
</td></tr>
<tr><td><code id="plot.enpls.od_+3A_criterion">criterion</code></td>
<td>
<p>Criterion of being classified as an outlier,
can be <code>"quantile"</code> or <code>"sd"</code>.</p>
</td></tr>
<tr><td><code id="plot.enpls.od_+3A_prob">prob</code></td>
<td>
<p>Quantile probability as the cut-off value.</p>
</td></tr>
<tr><td><code id="plot.enpls.od_+3A_sdtimes">sdtimes</code></td>
<td>
<p>Times of standard deviation as the cut-off value.</p>
</td></tr>
<tr><td><code id="plot.enpls.od_+3A_alpha">alpha</code></td>
<td>
<p>An alpha transparency value for points, a real number in (0, 1].</p>
</td></tr>
<tr><td><code id="plot.enpls.od_+3A_main">main</code></td>
<td>
<p>Plot title.</p>
</td></tr>
<tr><td><code id="plot.enpls.od_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters for <code><a href="base.html#topic+plot">plot</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.od">enpls.od</a></code> for outlier detection with
ensemble partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
od &lt;- enpls.od(x, y, reptimes = 50)
plot(od, criterion = "quantile")
plot(od, criterion = "sd")
</code></pre>

<hr>
<h2 id='plot.enspls.ad'>Plot enspls.ad object</h2><span id='topic+plot.enspls.ad'></span>

<h3>Description</h3>

<p>Plot enspls.ad object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.ad'
plot(x, type = c("static", "interactive"),
  main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.enspls.ad_+3A_x">x</code></td>
<td>
<p>An object of class <code>enspls.ad</code>.</p>
</td></tr>
<tr><td><code id="plot.enspls.ad_+3A_type">type</code></td>
<td>
<p>Plot type. Can be <code>"static"</code> or <code>"interactive"</code>.</p>
</td></tr>
<tr><td><code id="plot.enspls.ad_+3A_main">main</code></td>
<td>
<p>Plot title.</p>
</td></tr>
<tr><td><code id="plot.enspls.ad_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters for <code><a href="base.html#topic+plot">plot</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.ad">enspls.ad</a></code> for model applicability domain
evaluation with ensemble sparse partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
# remove low variance variables
x &lt;- logd1k$x[, -c(17, 52, 59)]
y &lt;- logd1k$y

# training set
x.tr &lt;- x[1:300, ]
y.tr &lt;- y[1:300]

# two test sets
x.te &lt;- list(
  "test.1" = x[301:400, ],
  "test.2" = x[401:500, ]
)
y.te &lt;- list(
  "test.1" = y[301:400],
  "test.2" = y[401:500]
)

set.seed(42)
ad &lt;- enspls.ad(
  x.tr, y.tr, x.te, y.te,
  maxcomp = 3, alpha = c(0.3, 0.6, 0.9),
  space = "variable", method = "mc",
  ratio = 0.8, reptimes = 10
)
plot(ad)
# the interactive plot requires a HTML viewer
## Not run: 
plot(ad, type = "interactive")

## End(Not run)

</code></pre>

<hr>
<h2 id='plot.enspls.fs'>Plot enspls.fs object</h2><span id='topic+plot.enspls.fs'></span>

<h3>Description</h3>

<p>Plot enspls.fs object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.fs'
plot(x, nvar = NULL, type = c("dotplot",
  "boxplot"), limits = c(0, 1), main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.enspls.fs_+3A_x">x</code></td>
<td>
<p>An object of class <code>enspls.fs</code>.</p>
</td></tr>
<tr><td><code id="plot.enspls.fs_+3A_nvar">nvar</code></td>
<td>
<p>Number of top variables to show. Ignored if <code>sort = FALSE</code>.</p>
</td></tr>
<tr><td><code id="plot.enspls.fs_+3A_type">type</code></td>
<td>
<p>Plot type, can be <code>"dotplot"</code> or <code>"boxplot"</code>.</p>
</td></tr>
<tr><td><code id="plot.enspls.fs_+3A_limits">limits</code></td>
<td>
<p>Vector of length 2. Set boxplot limits (in quantile) to
remove the extreme outlier coefficients.</p>
</td></tr>
<tr><td><code id="plot.enspls.fs_+3A_main">main</code></td>
<td>
<p>Plot title, not used currently.</p>
</td></tr>
<tr><td><code id="plot.enspls.fs_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters, not used currently.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.fs">enspls.fs</a></code> for measuring feature importance with
ensemble sparse partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
fs &lt;- enspls.fs(x, y, reptimes = 5, maxcomp = 2)
plot(fs, nvar = 10)
plot(fs, type = "boxplot", limits = c(0.05, 0.95), nvar = 10)
</code></pre>

<hr>
<h2 id='plot.enspls.od'>Plot enspls.od object</h2><span id='topic+plot.enspls.od'></span>

<h3>Description</h3>

<p>Plot enspls.od object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.od'
plot(x, criterion = c("quantile", "sd"),
  prob = 0.05, sdtimes = 3L, alpha = 1, main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.enspls.od_+3A_x">x</code></td>
<td>
<p>An object of class <code>enspls.od</code>.</p>
</td></tr>
<tr><td><code id="plot.enspls.od_+3A_criterion">criterion</code></td>
<td>
<p>Criterion of being classified as an outlier,
can be <code>"quantile"</code> or <code>"sd"</code>.</p>
</td></tr>
<tr><td><code id="plot.enspls.od_+3A_prob">prob</code></td>
<td>
<p>Quantile probability as the cut-off value.</p>
</td></tr>
<tr><td><code id="plot.enspls.od_+3A_sdtimes">sdtimes</code></td>
<td>
<p>Times of standard deviation as the cut-off value.</p>
</td></tr>
<tr><td><code id="plot.enspls.od_+3A_alpha">alpha</code></td>
<td>
<p>An alpha transparency value for points, a real number in (0, 1].</p>
</td></tr>
<tr><td><code id="plot.enspls.od_+3A_main">main</code></td>
<td>
<p>Plot title.</p>
</td></tr>
<tr><td><code id="plot.enspls.od_+3A_...">...</code></td>
<td>
<p>Additional graphical parameters for <code><a href="base.html#topic+plot">plot</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.od">enspls.od</a></code> for outlier detection with
ensemble sparse partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
od &lt;- enspls.od(x, y, reptimes = 4, maxcomp = 2)
plot(od, criterion = "quantile", prob = 0.1)
plot(od, criterion = "sd", sdtimes = 1)
</code></pre>

<hr>
<h2 id='predict.enpls.fit'>Make Predictions from a Fitted Ensemble Partial Least Squares Model</h2><span id='topic+predict.enpls.fit'></span>

<h3>Description</h3>

<p>Make predictions on new data by fitted enpls.fit object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.fit'
predict(object, newx, method = c("mean", "median"),
  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.enpls.fit_+3A_object">object</code></td>
<td>
<p>An object of class <code>enpls.fit</code>.</p>
</td></tr>
<tr><td><code id="predict.enpls.fit_+3A_newx">newx</code></td>
<td>
<p>New data to predict with.</p>
</td></tr>
<tr><td><code id="predict.enpls.fit_+3A_method">method</code></td>
<td>
<p>Use <code>"mean"</code> or <code>"median"</code> to create
the final prediction.</p>
</td></tr>
<tr><td><code id="predict.enpls.fit_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="stats.html#topic+predict">predict</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector containing the predicted values.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.fit">enpls.fit</a></code> for fitting ensemble
partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
fit &lt;- enpls.fit(x, y, reptimes = 50)
y.pred &lt;- predict(fit, newx = x)
plot(y, y.pred, xlim = range(y), ylim = range(y))
abline(a = 0L, b = 1L)
y.pred.med &lt;- predict(fit, newx = x, method = "median")
plot(y, y.pred.med, xlim = range(y), ylim = range(y))
abline(a = 0L, b = 1L)
</code></pre>

<hr>
<h2 id='predict.enspls.fit'>Make Predictions from a Fitted Sparse Ensemble Partial Least Squares Model</h2><span id='topic+predict.enspls.fit'></span>

<h3>Description</h3>

<p>Make predictions on new data by fitted enspls.fit object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.fit'
predict(object, newx, method = c("mean", "median"),
  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.enspls.fit_+3A_object">object</code></td>
<td>
<p>An object of class <code>enspls.fit</code>.</p>
</td></tr>
<tr><td><code id="predict.enspls.fit_+3A_newx">newx</code></td>
<td>
<p>New data to predict with.</p>
</td></tr>
<tr><td><code id="predict.enspls.fit_+3A_method">method</code></td>
<td>
<p>Use <code>"mean"</code> or <code>"median"</code> to create
the final prediction.</p>
</td></tr>
<tr><td><code id="predict.enspls.fit_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="stats.html#topic+predict">predict</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector containing the predicted values.
</p>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.fit">enspls.fit</a></code> for fitting ensemble sparse
partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
fit &lt;- enspls.fit(x, y, reptimes = 5, maxcomp = 2)
y.pred &lt;- predict(fit, newx = x)
plot(y, y.pred, xlim = range(y), ylim = range(y))
abline(a = 0L, b = 1L)
y.pred.med &lt;- predict(fit, newx = x, method = "median")
plot(y, y.pred.med, xlim = range(y), ylim = range(y))
abline(a = 0L, b = 1L)
</code></pre>

<hr>
<h2 id='print.cv.enpls'>Print cv.enpls Object</h2><span id='topic+print.cv.enpls'></span>

<h3>Description</h3>

<p>Print cv.enpls object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.enpls'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.cv.enpls_+3A_x">x</code></td>
<td>
<p>An object of class <code>cv.enpls</code>.</p>
</td></tr>
<tr><td><code id="print.cv.enpls_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+cv.enpls">cv.enpls</a></code> for cross-validation of ensemble
partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
cvfit &lt;- cv.enpls(x, y, reptimes = 10)
cvfit
</code></pre>

<hr>
<h2 id='print.cv.enspls'>Print cv.enspls Object</h2><span id='topic+print.cv.enspls'></span>

<h3>Description</h3>

<p>Print cv.enspls object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.enspls'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.cv.enspls_+3A_x">x</code></td>
<td>
<p>An object of class <code>cv.enspls</code>.</p>
</td></tr>
<tr><td><code id="print.cv.enspls_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+cv.enspls">cv.enspls</a></code> for cross-validation of
ensemble sparse partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This example takes one minute to run
## Not run: 
data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
cvfit &lt;- cv.enspls(x, y, reptimes = 10)
print(cvfit)

## End(Not run)
</code></pre>

<hr>
<h2 id='print.enpls.ad'>Print enpls.ad Object</h2><span id='topic+print.enpls.ad'></span>

<h3>Description</h3>

<p>Print enpls.ad object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.ad'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enpls.ad_+3A_x">x</code></td>
<td>
<p>An object of class <code>enpls.ad</code>.</p>
</td></tr>
<tr><td><code id="print.enpls.ad_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.ad">enpls.ad</a></code> for model applicability domain
evaluation with ensemble partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

# training set
x.tr &lt;- x[1:100, ]
y.tr &lt;- y[1:100]

# two test sets
x.te &lt;- list(
  "test.1" = x[101:150, ],
  "test.2" = x[151:207, ]
)
y.te &lt;- list(
  "test.1" = y[101:150],
  "test.2" = y[151:207]
)

set.seed(42)
ad &lt;- enpls.ad(
  x.tr, y.tr, x.te, y.te,
  space = "variable", method = "mc",
  ratio = 0.9, reptimes = 50
)
ad
</code></pre>

<hr>
<h2 id='print.enpls.fit'>Print Fitted Ensemble Partial Least Squares Object</h2><span id='topic+print.enpls.fit'></span>

<h3>Description</h3>

<p>Print coefficients of each model in the enpls.fit object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.fit'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enpls.fit_+3A_x">x</code></td>
<td>
<p>An object of class <code>enpls.fit</code>.</p>
</td></tr>
<tr><td><code id="print.enpls.fit_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.fit">enpls.fit</a></code> for fitting ensemble
partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
fit &lt;- enpls.fit(x, y, reptimes = 50)
fit
</code></pre>

<hr>
<h2 id='print.enpls.fs'>Print enpls.fs Object</h2><span id='topic+print.enpls.fs'></span>

<h3>Description</h3>

<p>Print enpls.fs object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.fs'
print(x, sort = TRUE, nvar = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enpls.fs_+3A_x">x</code></td>
<td>
<p>An object of class <code>enpls.fs</code>.</p>
</td></tr>
<tr><td><code id="print.enpls.fs_+3A_sort">sort</code></td>
<td>
<p>Should the variables be sorted in decreasing order of importance?</p>
</td></tr>
<tr><td><code id="print.enpls.fs_+3A_nvar">nvar</code></td>
<td>
<p>Number of top variables to show. Ignored if <code>sort = FALSE</code>.</p>
</td></tr>
<tr><td><code id="print.enpls.fs_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.fs">enpls.fs</a></code> for measuring feature importance with
ensemble partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
fs &lt;- enpls.fs(x, y, reptimes = 100)
print(fs)
print(fs, nvar = 10L)
</code></pre>

<hr>
<h2 id='print.enpls.od'>Print enpls.od Object</h2><span id='topic+print.enpls.od'></span>

<h3>Description</h3>

<p>Print enpls.od object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enpls.od'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enpls.od_+3A_x">x</code></td>
<td>
<p>An object of class <code>enpls.od</code>.</p>
</td></tr>
<tr><td><code id="print.enpls.od_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enpls.od">enpls.od</a></code> for outlier detection with
ensemble partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("alkanes")
x &lt;- alkanes$x
y &lt;- alkanes$y

set.seed(42)
od &lt;- enpls.od(x, y, reptimes = 40)
od
</code></pre>

<hr>
<h2 id='print.enspls.ad'>Print enspls.ad Object</h2><span id='topic+print.enspls.ad'></span>

<h3>Description</h3>

<p>Print enspls.ad object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.ad'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enspls.ad_+3A_x">x</code></td>
<td>
<p>An object of class <code>enspls.ad</code>.</p>
</td></tr>
<tr><td><code id="print.enspls.ad_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.ad">enspls.ad</a></code> for model applicability domain
evaluation with ensemble sparse partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
# remove low variance variables
x &lt;- logd1k$x[, -c(17, 52, 59)]
y &lt;- logd1k$y

# training set
x.tr &lt;- x[1:300, ]
y.tr &lt;- y[1:300]

# two test sets
x.te &lt;- list(
  "test.1" = x[301:400, ],
  "test.2" = x[401:500, ]
)
y.te &lt;- list(
  "test.1" = y[301:400],
  "test.2" = y[401:500]
)

set.seed(42)
ad &lt;- enspls.ad(
  x.tr, y.tr, x.te, y.te,
  maxcomp = 3, alpha = c(0.3, 0.6, 0.9),
  space = "variable", method = "mc",
  ratio = 0.8, reptimes = 10
)
print(ad)
</code></pre>

<hr>
<h2 id='print.enspls.fit'>Print Fitted Ensemble Sparse Partial Least Squares Object</h2><span id='topic+print.enspls.fit'></span>

<h3>Description</h3>

<p>Print coefficients of each model in the enspls.fit object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.fit'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enspls.fit_+3A_x">x</code></td>
<td>
<p>An object of class <code>enspls.fit</code>.</p>
</td></tr>
<tr><td><code id="print.enspls.fit_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.fit">enspls.fit</a></code> for fitting ensemble sparse
partial least squares regression models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
fit &lt;- enspls.fit(
  x, y,
  reptimes = 5, maxcomp = 3,
  alpha = c(0.3, 0.6, 0.9)
)
print(fit)
</code></pre>

<hr>
<h2 id='print.enspls.fs'>Print enspls.fs Object</h2><span id='topic+print.enspls.fs'></span>

<h3>Description</h3>

<p>Print enspls.fs object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.fs'
print(x, sort = TRUE, nvar = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enspls.fs_+3A_x">x</code></td>
<td>
<p>An object of class <code>enspls.fs</code>.</p>
</td></tr>
<tr><td><code id="print.enspls.fs_+3A_sort">sort</code></td>
<td>
<p>Should the variables be sorted in decreasing order of importance?</p>
</td></tr>
<tr><td><code id="print.enspls.fs_+3A_nvar">nvar</code></td>
<td>
<p>Number of top variables to show. Ignored if <code>sort = FALSE</code>.</p>
</td></tr>
<tr><td><code id="print.enspls.fs_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.fs">enspls.fs</a></code> for measuring feature importance with
ensemble sparse partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
fs &lt;- enspls.fs(
  x, y,
  reptimes = 5, maxcomp = 3,
  alpha = c(0.3, 0.6, 0.9)
)
print(fs, nvar = 10L)
</code></pre>

<hr>
<h2 id='print.enspls.od'>Print enspls.od Object</h2><span id='topic+print.enspls.od'></span>

<h3>Description</h3>

<p>Print enspls.od object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enspls.od'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.enspls.od_+3A_x">x</code></td>
<td>
<p>An object of class <code>enspls.od</code>.</p>
</td></tr>
<tr><td><code id="print.enspls.od_+3A_...">...</code></td>
<td>
<p>Additional parameters for <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nan Xiao &lt;<a href="https://nanx.me">https://nanx.me</a>&gt;
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+enspls.od">enspls.od</a></code> for outlier detection with
ensemble sparse partial least squares regressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("logd1k")
x &lt;- logd1k$x
y &lt;- logd1k$y

set.seed(42)
od &lt;- enspls.od(
  x, y,
  reptimes = 5, maxcomp = 3,
  alpha = c(0.3, 0.6, 0.9)
)
print(od)
</code></pre>

<hr>
<h2 id='rgb2alpha'>Add transparency level to hex colors</h2><span id='topic+rgb2alpha'></span>

<h3>Description</h3>

<p>Add transparency level to hex colors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rgb2alpha(raw_col, alpha)
</code></pre>


<h3>Value</h3>

<p>Color hex value (with transparency)
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

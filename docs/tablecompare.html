<!DOCTYPE html><html lang="en"><head><title>Help for package tablecompare</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tablecompare}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tablecompare-package'><p>tablecompare: Compare Data Frames</p></a></li>
<li><a href='#contents'><p>Show the contents of a data frame</p></a></li>
<li><a href='#count_dupes'><p>Check for duplicate rows</p></a></li>
<li><a href='#count_values'><p>Check for existence of multiple values per group</p></a></li>
<li><a href='#tblcompare'><p>Compare two data frames. Using a key-column common to both tables, see which</p>
rows are common and highlight differing values by column.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Compare Data Frames</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A toolbox for comparing two data frames. This package is defunct. I recommend you use the "versus" package instead.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>glue, magrittr, rlang (&ge; 0.4.3), tidyselect (&ge; 0.4.3), purrr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/eutwt/tablecompare">https://github.com/eutwt/tablecompare</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/eutwt/tablecompare/issues">https://github.com/eutwt/tablecompare/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>data.table (&ge; 1.14.2)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-14 01:03:21 UTC; mbp</td>
</tr>
<tr>
<td>Author:</td>
<td>Ryan Dickerson [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ryan Dickerson &lt;fresh.tent5866@fastmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-14 05:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tablecompare-package'>tablecompare: Compare Data Frames</h2><span id='topic+tablecompare'></span><span id='topic+tablecompare-package'></span>

<h3>Description</h3>

<p>Compare two tables
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Ryan Dickerson <a href="mailto:fresh.tent5866@fastmail.com">fresh.tent5866@fastmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/eutwt/tablecompare">https://github.com/eutwt/tablecompare</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/eutwt/tablecompare/issues">https://github.com/eutwt/tablecompare/issues</a>
</p>
</li></ul>


<hr>
<h2 id='contents'>Show the contents of a data frame</h2><span id='topic+contents'></span>

<h3>Description</h3>

<p>Show the contents of a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contents(.data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="contents_+3A_.data">.data</code></td>
<td>
<p>A data frame or data table</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.table</code> with one row per column in <code>.data</code> and columns
&quot;column&quot;: The name of the column in <code>.data</code>, &quot;class&quot;: the names of classes
the column inherits from (as returned by <code>class()</code>), collapsed into a single string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>contents(ToothGrowth)

</code></pre>

<hr>
<h2 id='count_dupes'>Check for duplicate rows</h2><span id='topic+count_dupes'></span><span id='topic+assert_unique'></span>

<h3>Description</h3>

<p><code>count_dupes()</code> returns values of <code>by</code> variables for which the <code>.data</code> has
multiple rows, along with the number of rows for each combination of values.
</p>
<p><code>assert_unique()</code> throws an error if there are multiple rows for any
combination of <code>by</code> variable values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_dupes(.data, by, setkey = FALSE)

assert_unique(.data, by, data_chr, by_chr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="count_dupes_+3A_.data">.data</code></td>
<td>
<p>A data frame or data table</p>
</td></tr>
<tr><td><code id="count_dupes_+3A_by">by</code></td>
<td>
<p>tidy-select. Columns in <code>.data</code></p>
</td></tr>
<tr><td><code id="count_dupes_+3A_setkey">setkey</code></td>
<td>
<p>Logical. Should the output be keyed by <code>by</code> cols?</p>
</td></tr>
<tr><td><code id="count_dupes_+3A_data_chr">data_chr</code></td>
<td>
<p>optional. character. You can use this argument to manually specify
the name of <code>data</code> shown in error messages. Useful when using these functions
as checks inside other functions.</p>
</td></tr>
<tr><td><code id="count_dupes_+3A_by_chr">by_chr</code></td>
<td>
<p>optional. character. You can use this argument to manually specify
the name of <code>by</code> shown in error messages. Useful when using these functions
as checks inside other functions.</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt><code>count_dupes()</code></dt><dd><p>A <code>data.table</code> with the (filtered) <code>by</code>
columns and an additional column &quot;n_rows&quot; which shows the number of rows in
<code>.data</code> having the combination of <code>by</code> values shown in the output
row.</p>
</dd>
<dt><code>assert_unique()</code></dt><dd><p>No return value. Called to throw an
error depending on the input.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- read.table(text = "
x y z
1 6 1
2 6 2
3 7 3
3 7 4
4 3 5
4 3 6
", header = TRUE)

count_dupes(df, c(x, y))

## Not run: 
assert_unique(df, c(x, y))

## End(Not run)

</code></pre>

<hr>
<h2 id='count_values'>Check for existence of multiple values per group</h2><span id='topic+count_values'></span><span id='topic+assert_single_value'></span>

<h3>Description</h3>

<p><code>count_values()</code> returns values of <code>by</code> variables for which the <code>.data</code> has
multiple unique rows, along with the number of unique rows for each
combination of values, only considering columns in <code>col</code>.
</p>
<p><code>assert_single_value()</code> throws an error if there are multiple unique rows for
any combination of <code>by</code> variable values, only considering columns in <code>col</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_values(.data, col, by, setkey = FALSE)

assert_single_value(.data, col, by)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="count_values_+3A_.data">.data</code></td>
<td>
<p>A data frame or data table</p>
</td></tr>
<tr><td><code id="count_values_+3A_col">col</code></td>
<td>
<p>tidy-select. Columns in <code>.data</code>. When counting the number of unique
rows, only the columns specified in <code>col</code> are considered.</p>
</td></tr>
<tr><td><code id="count_values_+3A_by">by</code></td>
<td>
<p>tidy-select. Columns in <code>.data</code>.</p>
</td></tr>
<tr><td><code id="count_values_+3A_setkey">setkey</code></td>
<td>
<p>Logical. Should the output be keyed by <code>by</code> cols?</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt><code>count_values()</code></dt><dd><p>A <code>data.table</code> with the (filtered)
<code>by</code> columns and an additional column &quot;n_vals&quot; which shows the number of
unique rows in <code>.data</code> having the combination of <code>by</code> values shown
in the output row.</p>
</dd>
<dt><code>assert_single_value()</code></dt><dd><p>No return value. Called to throw an
error depending on the input.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- read.table(text = "
x y z
a 1 3
a 1 3
a 2 4
a 2 4
a 2 2
b 1 1
b 1 2
", header = TRUE)

count_values(df, z, by = c(x, y))

## Not run: 
assert_single_value(df, z, by = c(x, y))

## End(Not run)

</code></pre>

<hr>
<h2 id='tblcompare'>Compare two data frames. Using a key-column common to both tables, see which
rows are common and highlight differing values by column.</h2><span id='topic+tblcompare'></span><span id='topic+value_diffs'></span><span id='topic+value_diffs.tbcmp_compare'></span><span id='topic+all_value_diffs'></span><span id='topic+all_value_diffs.tbcmp_compare'></span>

<h3>Description</h3>

<p>Compare two data frames. Using a key-column common to both tables, see which
rows are common and highlight differing values by column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tblcompare(
  .data_a,
  .data_b,
  by,
  allow_bothNA = TRUE,
  ncol_by_out = 3,
  coerce = TRUE
)

value_diffs(comparison, col)

## S3 method for class 'tbcmp_compare'
value_diffs(comparison, col)

all_value_diffs(comparison)

## S3 method for class 'tbcmp_compare'
all_value_diffs(comparison)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tblcompare_+3A_.data_a">.data_a</code></td>
<td>
<p>A data frame or data table</p>
</td></tr>
<tr><td><code id="tblcompare_+3A_.data_b">.data_b</code></td>
<td>
<p>A data frame or data table</p>
</td></tr>
<tr><td><code id="tblcompare_+3A_by">by</code></td>
<td>
<p>tidy-select. Selection of columns to use when matching rows between
<code>.data_a</code> and <code>.data_b</code>. Both data frames must be unique on <code>by</code>.</p>
</td></tr>
<tr><td><code id="tblcompare_+3A_allow_bothna">allow_bothNA</code></td>
<td>
<p>Logical. If TRUE a missing value in both data frames is
considered as equal</p>
</td></tr>
<tr><td><code id="tblcompare_+3A_ncol_by_out">ncol_by_out</code></td>
<td>
<p>Number of by-columns to include in <code>col_diffs</code> and
<code>unmatched_rows</code> output</p>
</td></tr>
<tr><td><code id="tblcompare_+3A_coerce">coerce</code></td>
<td>
<p>Logical. If False only columns with the same class are compared.</p>
</td></tr>
<tr><td><code id="tblcompare_+3A_comparison">comparison</code></td>
<td>
<p>An object of class &quot;tbcmp_compare&quot; (the output of a
<code>tablecompare::tablecompare()</code> call)</p>
</td></tr>
<tr><td><code id="tblcompare_+3A_col">col</code></td>
<td>
<p>tidy-select. A single column</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt><code>tblcompare()</code></dt><dd><p>A &quot;tbcmp_compare&quot;-class object, which is a list
of <code>data.table</code>'s  having the following elements:
</p>

<dl>
<dt>tables</dt><dd>
<p>A <code>data.table</code> with one row per input table showing the number of rows
and columns in each.
</p>
</dd>
<dt>by</dt><dd>
<p>A <code>data.table</code> with one row per <code>by</code> column showing the class
of the column in each of the input tables.
</p>
</dd>
<dt>summ</dt><dd>
<p>A <code>data.table</code> with one row per column common to <code>.data_a</code> and
<code>.data_b</code> and columns &quot;n_diffs&quot; showing the number of values which
are different between the two tables, &quot;class_a&quot;/&quot;class_b&quot; the class of the
column in each table, and &quot;value_diffs&quot; a (nested) <code>data.table</code> showing
the rows in each input table where values are unequal, the values in each
table, and one column for each of the first <code>ncol_by_out</code> <code>by</code> columns for
the identified rows in the input tables.
</p>
</dd>
<dt>unmatched_cols</dt><dd>
<p>A <code>data.table</code> with one row per column which is in one input table but
not the other and columns &quot;table&quot;: which table the column appears in,
&quot;column&quot;: the name of the column, and &quot;class&quot;: the class of the
column.
</p>
</dd>
<dt>unmatched_rows</dt><dd>
<p>A <code>data.table</code> which, for each row present in one input table but not
the other, contains the columns &quot;table&quot;: which table the row appears in,
&quot;i&quot; the row number of the input row, and one column for each of the first
<code>ncol_by_out</code> <code>by</code> columns for each row.
</p>
</dd>
</dl>

</dd>
<dt><code>value_diffs()</code></dt><dd><p>A <code>data.table</code> with one row for each element
of <code>col</code> found to be unequal between the input tables (
<code>.data_a</code> and <code>.data_b</code> from the original <code>tblcompare()</code> call)
The output table has columns &quot;i_a&quot;/&quot;i_b&quot;: the row number of the element in the input
tables, &quot;val_a&quot;/&quot;val_b&quot;: the value of <code>col</code> in the input tables, and one column for
each of the first <code>ncol_by_out</code> <code>by</code> columns for the identified rows in the
input tables.</p>
</dd>
<dt><code>all_value_diffs()</code></dt><dd><p>A <code>data.table</code> of the <code>value_diffs()</code>
output for all columns having at least one value difference, combined row-wise
into a single table. To facilitate this combination into a single table, the
&quot;val_a&quot; and &quot;val_b&quot; columns are coerced to character.</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

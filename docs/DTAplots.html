<!DOCTYPE html><html><head><title>Help for package DTAplots</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {DTAplots}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Anti_CCP'><p> Anti-CCP dataset</p></a></li>
<li><a href='#Forest'><p>Forest plot for sensitivity and specificity</p></a></li>
<li><a href='#posterior_samples_Bivariate dataset'><p> Samples of the posterior distributions obtained from a Bayesian bivariate meta-analysis model</p></a></li>
<li><a href='#posterior_samples_HSROC dataset'><p> Samples of the posterior distributions obtained from a Bayesian HSROC meta-analysis model</p></a></li>
<li><a href='#posterior_samples_LC dataset'><p> Samples of the posterior distributions obtained from a Bayesian latent class (LC) meta-analysis model</p></a></li>
<li><a href='#SROC_rjags'><p>A function to create a summary plot in Receiver Operating Characteristic (ROC) space</p></a></li>
<li><a href='#Xpert'><p> Xpert dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Creates Plots Accompanying Bayesian Diagnostic Test Accuracy
Meta-Analyses</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-10-15</td>
</tr>
<tr>
<td>Description:</td>
<td>Function to create forest plots. Functions to use posterior samples from Bayesian bivariate meta-analysis model, Bayesian hierarchical summary receiver operating characteristic (HSROC) meta-analysis model or Bayesian latent class (LC) meta-analysis model to create Summary Receiver Operating Characteristic (SROC) plots using methods described by Harbord et al (2007)&lt;<a href="https://doi.org/10.1093%2Fbiostatistics%2Fkxl004">doi:10.1093/biostatistics/kxl004</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-15 19:45:48 UTC; ischiller</td>
</tr>
<tr>
<td>Author:</td>
<td>Ian Schiller [aut, cre],
  Nandini Dendukuri [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ian Schiller &lt;ian.schiller@rimuhc.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-15 20:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Anti_CCP'> Anti-CCP dataset </h2><span id='topic+Anti_CCP'></span>

<h3>Description</h3>

<p>This dataset gives the observed cross-tabulation of the Anti-cyclic citrullinated peptide (Anti-CCP) test for rheumatoid arthritis (test under evaluation) and the 1987 revised American college or Rheumatology (ACR) criteria or clinical diagnosis (reference test) for 37 studies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Anti_CCP)</code></pre>


<h3>Format</h3>

<p>A data frame with 37 observations on the following 5 variables.
</p>

<dl>
<dt><code>Study</code></dt><dd><p>First author and year of publication of the study. </p>
</dd>
<dt><code>TP</code></dt><dd><p>Individuals who tested positive on both tests. </p>
</dd>
<dt><code>FP</code></dt><dd><p>Individuals who tested positive on the test under evaluation and negative on the reference test.</p>
</dd>
<dt><code>FN</code></dt><dd><p>Individuals who tested negative on the test under evaluation and positive on the reference test.</p>
</dd>
<dt><code>TN</code></dt><dd><p>Individuals who tested negative on both tests. </p>
</dd>
</dl>



<h3>References</h3>

<p> Nishimura K, Sugiyama D, Kogata Y, Tsuji G, Nakazawa T, Kawano S, Saigo K, Morinobu A, Koshiba M, Kuntz KM, Kamae I, Kumagai S. Meta-analysis: diagnostic accuracy of anti-cyclic citrullinated peptide antibody and rheumatoid factor for rheumatoid arthritis. Ann Intern Med. 2007 Jun 5;146(11):797-808. doi: 10.7326/0003-4819-146-11-200706050-00008. PMID: 17548411.
</p>

<hr>
<h2 id='Forest'>Forest plot for sensitivity and specificity</h2><span id='topic+Forest'></span>

<h3>Description</h3>

<p>Function to create adjacent forest plots for both sensitivity and specificity also displaying study labels and 2x2 tables</p>


<h3>Usage</h3>

<pre><code class='language-R'>Forest(Data, study = NULL, level = 0.95, conf.int = "Wilson",
se.axis = NULL, sp.axis = NULL, save_plot = NULL, res = 90,
summary = NULL, digits = 2, summary_label = NULL,
study.cex=1, summary.cex=1.1,
col.headers = c("Study", "TP", "FP", "FN", "TN", "Sens (95% CI)",
"Spec (95% CI)", "Sens (95% CI)", "Spec (95% CI)"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Forest_+3A_data">Data</code></td>
<td>
<p>a data frame with the number of rows equal to the number of studies and 4 columns.  Each row consists of the entries of the 2x2 table of the index test (i.e. test under evaluation)
vs. the reference test reported in each study.  The ordering of the columns is ++, +-, -+, &ndash;, where the first entry refers to the result of the test under evaluation and the
second entry refers to the result of the reference test. The header of the data frame must be &quot;TP&quot;, &quot;FP&quot;, &quot;FN&quot; and &quot;TN&quot;, respectively.</p>
</td></tr>
<tr><td><code id="Forest_+3A_study">study</code></td>
<td>
<p>a character vector of study/labels, e.g. Author (and Year) for each study.  If NULL, the function will generate generic labels : &quot;Study 1, Study 2, ...&quot;</p>
</td></tr>
<tr><td><code id="Forest_+3A_level">level</code></td>
<td>
<p>confidence level of the confidence intervals for sensitivity and specificity estimates.</p>
</td></tr>
<tr><td><code id="Forest_+3A_conf.int">conf.int</code></td>
<td>
<p>method used to compute the confidence interval for a biomial proportion.  Either &quot;Normal.approx&quot; or &quot;Wilson&quot; (default).</p>
</td></tr>
<tr><td><code id="Forest_+3A_se.axis">se.axis</code></td>
<td>
<p>x-axis range for sensitivity, based on a vector of 2 components.  The first component should be the minimum of the desired x-axis range, while the
second component should be  the maximum of the desired x-axis range.  If NULL (default), the range is calculated from the Data (min,max) of sensitivity.</p>
</td></tr>
<tr><td><code id="Forest_+3A_sp.axis">sp.axis</code></td>
<td>
<p>x-axis range for specificity, based on a vector of 2 components.  The first component should be the minimum of the desired x-axis range, while the
second component should be  the maximum of the desired x-axis range.  If NULL (default), the range is calculated from the Data (min,max) of specificity.</p>
</td></tr>
<tr><td><code id="Forest_+3A_save_plot">save_plot</code></td>
<td>
<p>character string pointing to the directory where the plot will be saved in .jpeg format.  If NULL, no plot will be saved.</p>
</td></tr>
<tr><td><code id="Forest_+3A_res">res</code></td>
<td>
<p>esolution (dpi) of the jpeg file.</p>
</td></tr>
<tr><td><code id="Forest_+3A_summary">summary</code></td>
<td>
<p>Default is NULL.  This will add summary point estimates that were calculated externaly.  Multiple summary points can be provided.  If provided, summary should be in the form of a matrix with with each row representing one summary point made of 6 columns.  The columns should be (order matters) :
1- summary point estimate for individuals truly positive (i.e. sensitivity). <br />
2- lower bound of the 95% CI for corresponding summary point estimate. <br />
3- upper bound of the 95% CI for corresponding summary point estimate. <br />
4- summary point estimate for individuals truly negative (i.e. specificity). <br />
5- lower bound of the 95% CI for corresponding summary point estimate. <br />
6- upper bound of the 95% CI for corresponding summary point estimate. <br /></p>
</td></tr>
<tr><td><code id="Forest_+3A_digits">digits</code></td>
<td>
<p>number of decimal places to display for sensitivity/specificity point estimates and respective interval limits.  Default = 2.</p>
</td></tr>
<tr><td><code id="Forest_+3A_summary_label">summary_label</code></td>
<td>
<p>To provide names to the summary point estimates provided by summary argument.  Default is NULL</p>
</td></tr>
<tr><td><code id="Forest_+3A_study.cex">study.cex</code></td>
<td>
<p>Change font size of study labels provided by argument study</p>
</td></tr>
<tr><td><code id="Forest_+3A_summary.cex">summary.cex</code></td>
<td>
<p>Change font size of summary labels provided by argument summary_label</p>
</td></tr>
<tr><td><code id="Forest_+3A_col.headers">col.headers</code></td>
<td>
<p>To change the headers of the forest plot sections.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value</p>


<h3>Author(s)</h3>

<p>Ian Schiller and Nandini Dendukuri</p>


<h3>Examples</h3>

<pre><code class='language-R'># FUNCTION USED WITH DEFAULT ARGUMENTS
data(Anti_CCP)
Forest(Anti_CCP)

# CONFIDENCE INTERVAL BASED ON THE NORMAL APPROXIMATION METHOD
Forest(Anti_CCP, conf.int = "Normal.approx")

# SET THE SENSITIVITY &amp; SPECIFICITY X-AXES FROM 0 TO 1 INSTEAD
Forest(Anti_CCP, se.axis = c(0,1), sp.axis = c(0,1)	)

# PROVIDE STUDY LABELS
Forest(Anti_CCP, study=Anti_CCP$Study)

# To display the sensitivity and specificity summary point estimates previously obtained
# from a Bayesian bivariate meta-analysis model.
data(posterior_samples_Bivariate)
Summary_Se = median(posterior_samples_Bivariate[,1])
Summary_Se_low = quantile(posterior_samples_Bivariate[,1], prob=0.025)
Summary_Se_up = quantile(posterior_samples_Bivariate[,1], prob=0.975)
Summary_Sp = median(posterior_samples_Bivariate[,2])
Summary_Sp_low = quantile(posterior_samples_Bivariate[,2], prob=0.025)
Summary_Sp_up = quantile(posterior_samples_Bivariate[,2], prob=0.975)

Forest(Anti_CCP, study=Anti_CCP$Study, summary = cbind(Summary_Se, Summary_Se_low, Summary_Se_up,
      Summary_Sp, Summary_Sp_low, Summary_Sp_up))

# Random summary point estimates generated for illustrative example
n = 5 # Simulate summary point estimates coming from 5 different models
Summary_Se = runif(n, 0.5,0.6)
Summary_Se_low = runif(n, 0.4, 0.5)
Summary_Se_up = runif(n, 0.6,0.7)
Summary_Sp =runif(n, 0.9,0.95)
Summary_Sp_low = runif(n, 0.85,0.9)
Summary_Sp_up = runif(n, 0.95,1)

Forest(Anti_CCP, study=Anti_CCP$Study, summary = cbind(Summary_Se, Summary_Se_low, Summary_Se_up,
      Summary_Sp, Summary_Sp_low, Summary_Sp_up), summary_label=c("Summary estimate 1",
      "Summary estimate 2", "Summary estimate 3", "Summary estimate 4", "Summary estimate 5"))

</code></pre>

<hr>
<h2 id='posterior_samples_Bivariate+20dataset'> Samples of the posterior distributions obtained from a Bayesian bivariate meta-analysis model</h2><span id='topic+posterior_samples_Bivariate'></span>

<h3>Description</h3>

<p>This dataset provides a sample from the posterior distributions of the various parameters resulting from a Bayesian bivariate meta-analysis model, that are needed to create a summary plot in the receiver operating characteristic (ROC) space.
</p>
<p>The posterior samples were obtained by fitting the Bivariate model using the rjags package to data from a systematic review of anti-cyclic citrullinated peptide antibody (anti-CCP) for rheumatoid arthritis.  Overall, 37 studies were meta-analyzed, a total of 3 chains were used with 14,000 burn-in iterations after which we drew 1,000 samples from the posterior distributions for the following parameters:
</p>
<p>&ldquo;mu[1]&rdquo; for the mean logit-transformed sensitivity. <br />
&ldquo;mu[2]&rdquo; for the mean logit-transformed specificity. <br />
&ldquo;tau[1]&rdquo; for the between-study standard deviation in the logit-transformed sensitivity. <br />
&ldquo;tau[2]&rdquo; for the between-study standard deviation in the logit-transformed specificity. <br />
&ldquo;rho&rdquo; for the correlation between the mean logit-transformed  sensitivity and the mean logit-transformed specificity. <br />
&ldquo;se&rdquo; for the logit-transformed sensitivity in individual studies. <br />
&ldquo;sp&rdquo; for the logit-transformed specificity in individual studies. <br />
&ldquo;Mean_Se&rdquo; for the mean sensitivity. <br />
&ldquo;Mean_Sp&rdquo; for the mean specificity. <br /></p>


<h3>Usage</h3>

<pre><code class='language-R'>data(posterior_samples_Bivariate)</code></pre>


<h3>Format</h3>

<p>A matrix with 3,000 samples from the posterior distribution for each of the 81 parameters listed in the description above.
</p>


<h3>References</h3>

<p>Nishimura K, Sugiyama D, Kogata Y, Tsuji G, Nakazawa T, Kawano S, Saigo K, Morinobu A, Koshiba M, Kuntz KM, Kamae I, Kumagai S. Meta-analysis: diagnostic accuracy of anti-cyclic citrullinated peptide antibody and rheumatoid factor for rheumatoid arthritis. Ann Intern Med. 2007 Jun 5;146(11):797-808. doi: 10.7326/0003-4819-146-11-200706050-00008. PMID: 17548411.
</p>

<hr>
<h2 id='posterior_samples_HSROC+20dataset'> Samples of the posterior distributions obtained from a Bayesian HSROC meta-analysis model</h2><span id='topic+posterior_samples_HSROC'></span>

<h3>Description</h3>

<p>This dataset provides a sample from the posterior distributions of the various parameters resulting from a Bayesian hierarchical summary receiver operating characteristic (HSROC) meta-analysis model, that are needed to create a SROC plot in the receiver operating characteristic (ROC) space.
</p>
<p>The posterior samples were obtained by fitting the HSROC model using the rjags package to data from a systematic review of anti-cyclic citrullinated peptide antibody (anti-CCP) for rheumatoid arthritis.  Overall, 37 studies were meta-analyzed, a total of 3 chains were used with 14,000 burn-in iterations after which we drew 1,000 samples from the posterior distributions for the following parameters:
</p>
<p>&ldquo;THETA&rdquo; for the overall mean cut-off value for defining a positive test (threshold parameter). <br />
&ldquo;LAMBDA&rdquo; for the overall difference in means (accuracy parameter). <br />
&ldquo;beta&rdquo; for the logarithm of the ratio of the standard deviation of test results among patients with and without the disease. <br />
&ldquo;tau[1]&rdquo; for the standard deviation of the accuracy parameter. <br />
&ldquo;tau[2]&rdquo; for the standard deviation of the threshold parameter. <br />
&ldquo;se&rdquo; for the individual logit-transformed sensitivity. <br />
&ldquo;sp&rdquo; for the individual logit-transformed specificity. <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(posterior_samples_HSROC)</code></pre>


<h3>Format</h3>

<p>A matrix with 3,000 samples from the posterior distribution for each of the 79 parameters listed in the description above.
</p>


<h3>References</h3>

<p>Nishimura K, Sugiyama D, Kogata Y, Tsuji G, Nakazawa T, Kawano S, Saigo K, Morinobu A, Koshiba M, Kuntz KM, Kamae I, Kumagai S. Meta-analysis: diagnostic accuracy of anti-cyclic citrullinated peptide antibody and rheumatoid factor for rheumatoid arthritis. Ann Intern Med. 2007 Jun 5;146(11):797-808. doi: 10.7326/0003-4819-146-11-200706050-00008. PMID: 17548411.
</p>

<hr>
<h2 id='posterior_samples_LC+20dataset'> Samples of the posterior distributions obtained from a Bayesian latent class (LC) meta-analysis model</h2><span id='topic+posterior_samples_LC'></span>

<h3>Description</h3>

<p>This dataset provides a sample from the posterior distributions of various parameters resulting from an extended Bayesian bivariate meta-analysis model which accounts for the reference test to be imperfect.  These parameters can then be used to create a summary plot in the receiver operating characteristic (ROC) space.
</p>
<p>The posterior samples were obtained by fitting the latent class model using the rjags pacakge to data from a Cochrane Review to assess the accuracy of the GeneXpertTM (Xpert) test for tuberculosis (TB) meningitis in extrapulmonary specimens.  In each study the index test was Xpert and the reference standard was culture. Both tests are known to have sub-optimal sensitivity, therefore the true TB meningitis status is unknown.  Overall, 29 studies were meta-analyzed, a total of 3 chains were used with 14,000 burn-in iterations after which we drew 1,000 samples from the posterior distributions for the following parameters :
</p>
<p>&ldquo;mu[1]&rdquo; for the mean logit-transformed sensitivity. <br />
&ldquo;mu[2]&rdquo; for the mean logit-transformed specificity. <br />
&ldquo;tau[1]&rdquo; for the between-study standard deviation in the logit-transformed sensitivity. <br />
&ldquo;tau[2]&rdquo; for the between-study standard deviation in the logit-transformed specificity. <br />
&ldquo;rho&rdquo; for the correlation between the mean logit-transformed  sensitivity and the mean logit-transformed specificity. <br />
&ldquo;se&rdquo; for the logit-transformed sensitivity in individual studies. <br />
&ldquo;sp&rdquo; for the logit-transformed specificity in individual studies. <br />
&ldquo;Mean_Se&rdquo; for the mean sensitivity. <br />
&ldquo;Mean_Sp&rdquo; for the mean specificity. <br /></p>


<h3>Usage</h3>

<pre><code class='language-R'>data(posterior_samples_Bivariate)</code></pre>


<h3>Format</h3>

<p>A matrix with 3,000 samples from the posterior distribution for each of the 67 parameters listed in the description above.
</p>


<h3>References</h3>

<p>Kohli M, Schiller I, Dendukuri N, et al. Xpert® MTB/RIF assay for extrapulmonary tuberculosis and rifampicin resistance. Cochrane Database Syst Rev. 2018;8(8):CD012768.
</p>

<hr>
<h2 id='SROC_rjags'>A function to create a summary plot in Receiver Operating Characteristic (ROC) space</h2><span id='topic+SROC_rjags'></span>

<h3>Description</h3>

<p>This function creates : 1) a plot of the mean sensitivity and mean specificity together with prediction and credible region resulting from a bivariate meta-analysis model, or 2) a summary ROC curve resulting from a hierarchical summary receiver operating characteristic (HSROC) meta-analysis model.  It uses posterior samples of ? from these meta-analysis models obtained  with rjags package
from a meta-analysis bivariate model for diagnostic test accuracy.  It allows for the possibility that the reference test is not perfect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SROC_rjags(X, n, model = "Bivariate",
dataset = NULL, ref_std=NULL, title = "Summary plot",
xlab = "Specificity", ylab = "Sensitivity",
Se.range=c(0,1), Sp.range=c(0,1),
SROC_curve = FALSE, lwd.curve=3, col.curve="black", lty.curve="solid",
cred_region = TRUE, predict_region = TRUE,
region_level = 0.95, lty.cred.region = "solid",
lty.predict.region = "dotted", trunc_low = 0.025, trunc_up = 0.025,
col.predict.region = "black", col.cred.region = "red",
lwd.cred.region = 2.5, lwd.predict.region = 2.5,
study_col1 = "blue", study_col2 = rgb(0, 0, 1, 0.15),
study_symbol = "circles", summary.point=TRUE,
pch.summary.point = 19, cex.summary.point = 3,
col.summary.point = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SROC_rjags_+3A_x">X</code></td>
<td>
<p>An mcmc.list object.  See details for further explanations.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_n">n</code></td>
<td>
<p>Number of studies in the meta-analysis.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_model">model</code></td>
<td>
<p>specify the model used to create <code>X</code>.  Default is &quot;Bivariate&quot;.  Other option is &quot;HSROC&quot;.  See details for further explanations.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_dataset">dataset</code></td>
<td>
<p>a matrix with the number of rows equal to the number of studies and 4 columns.  Each row consists of the entries of the 2x2 table of the index test (i.e. test under evaluation)
vs. the reference test reported in each study.  The ordering of the columns is ++, +-, -+, &ndash;, where the first entry refers to the result of the test under evaluation and the
second entry refers to the result of the reference test.  If set to NULL (default), individual posterior estimates of test under evaluation characteristics, i.e.  points with
coordinate (sensitivity, (1-specificity)), will not be drawn on the SROC plot.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_ref_std">ref_std</code></td>
<td>
<p>if &quot;dataset&quot; is not set to NULL, then &quot;ref_std&quot; must be set to TRUE if the meta-analysis model assumes a perfect reference standard test or to FALSE if the meta-analysis model assumes an imperfect reference standard test.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_title">title</code></td>
<td>
<p>plot title.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_xlab">xlab</code></td>
<td>
<p>x axis label.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_ylab">ylab</code></td>
<td>
<p>y axis label.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_se.range">Se.range</code></td>
<td>
<p>the y-axis limits of the plot.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_sp.range">Sp.range</code></td>
<td>
<p>the x-axis limits of the plot.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_sroc_curve">SROC_curve</code></td>
<td>
<p>logical. If TRUE, a SROC curve is drawn.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_lwd.curve">lwd.curve</code></td>
<td>
<p>The line width of the SROC curve, a positive number, defaulting to 3.  See &quot;lwd&quot; in &quot;par&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_col.curve">col.curve</code></td>
<td>
<p>A specification for the default color of the SROC curve.  Defaults to &quot;black&quot;.  See &quot;col&quot; in &quot;par&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_lty.curve">lty.curve</code></td>
<td>
<p>The SROC curve line type.  Default to &quot;solid&quot;.  See &quot;lty&quot; in &quot;par&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_cred_region">cred_region</code></td>
<td>
<p>logical. If TRUE (default), a credible region curve is drawn on the plot.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_predict_region">predict_region</code></td>
<td>
<p>logical. If TRUE (default), a prediction region curve is drawn on the plot.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_region_level">region_level</code></td>
<td>
<p>The credible (prediction) level required for the credible (prediction) region. Default value ie 0.95.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_lty.cred.region">lty.cred.region</code></td>
<td>
<p>The credible region line type. Default to &quot;solid&quot;.  See &quot;lty&quot; in &quot;par&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_lty.predict.region">lty.predict.region</code></td>
<td>
<p>The prediction region line type. Default to &quot;dotted&quot;.  See &quot;lty&quot; in &quot;par&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_trunc_low">trunc_low</code></td>
<td>
<p>Quantile to determine lower limit of threshold THETA used for creating the SROC curve. Default to 0.025.  See details for further explanations.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_trunc_up">trunc_up</code></td>
<td>
<p>Quantile to determine upper limit of the threshold THETA used for creating the SROC curve.  Default to 0.025. See details for further explanations.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_col.predict.region">col.predict.region</code></td>
<td>
<p>specification for the default plotting color of the prediction region curve. Defaults to &quot;black&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_col.cred.region">col.cred.region</code></td>
<td>
<p>specification for the default plotting color of the credible region curve. Defaults to &quot;red&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_lwd.cred.region">lwd.cred.region</code></td>
<td>
<p>The line width of the credible region curve, a positive number, defaulting to 2.5.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_lwd.predict.region">lwd.predict.region</code></td>
<td>
<p>line width of the prediction region, a positive number, defaulting to 2.5.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_study_col1">study_col1</code></td>
<td>
<p>specification for the default plotting color of the individual study point perimeter. Defaults to &quot;blue&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_study_col2">study_col2</code></td>
<td>
<p>specification for the default plotting color of the individual study point shading. Defaults to rgb(0, 0, 1, 0.15).</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_study_symbol">study_symbol</code></td>
<td>
<p>specification of the type of symbol to represent the individual study point.  Either &quot;circles&quot; (default) or &quot;squares&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_summary.point">summary.point</code></td>
<td>
<p>logical.  If TRUE (default), a summary point estimate of coordinate (mean specificity, mean sensitivity) is drawn. </p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_pch.summary.point">pch.summary.point</code></td>
<td>
<p>An integer specifying a symbol to represent the joint mean sensitivity and mean specificity summary point estimate.  See &quot;pch&quot; in &quot;par&quot;.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_cex.summary.point">cex.summary.point</code></td>
<td>
<p>The magnification to be used for the symbol to represent the joint mean sensitivity and mean specificity summary point estimate.</p>
</td></tr>
<tr><td><code id="SROC_rjags_+3A_col.summary.point">col.summary.point</code></td>
<td>
<p>A specification for the default color.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If model is set to <code>Bivariate</code>, the function expects that the parameters of the bivariate model have been spelled exactly as follows in the jags model  :
</p>
<p>&ldquo;mu[1]&rdquo; for the mean logit-transformed sensitivity. <br />
&ldquo;mu[2]&rdquo; for the mean logit-transformed specificity. <br />
&ldquo;tau[1]&rdquo; for the between-study standard deviation in the logit-transformed sensitivity. <br />
&ldquo;tau[2]&rdquo; for the between-study standard deviation in the logit-transformed specificity. <br />
&ldquo;rho&rdquo; for the correlation between the logit-transformed sensitivity and the mean logit-transformed specificity. <br />
&ldquo;se&rdquo; for the logit-transformed sensitivity in individual studies. <br />
&ldquo;sp&rdquo; for the logit-transformed specificity in individual studies. <br />
&ldquo;Summary_Se&rdquo; for the sensitivity summary estimate. <br />
&ldquo;Summary_Sp&rdquo; for the specificity summary estimate. <br />
</p>
<p>If model is set to <code>HSROC</code>, the function expects that the parameters of the HSROC model have been spelled exactly as follows in the jags model  :
</p>
<p>&ldquo;THETA&rdquo; for the overall mean cut-off value for defining a positive test (threshold parameter). <br />
&ldquo;LAMBDA&rdquo; for the overall difference in means (accuracy parameter). <br />
&ldquo;beta&rdquo; for the logarithm of the ratio of the standard deviation of test results among patients with and without the disease. <br />
&ldquo;tau[1]&rdquo; for the standard deviation of the accuracy parameter. <br />
&ldquo;tau[2]&rdquo; for the standard deviation of the threshold parameter. <br />
&ldquo;se&rdquo; for the logit-transformed sensitivity in individual studies. <br />
&ldquo;sp&rdquo; for the logit-transformed specificity in individual studies. <br />
</p>
<p>The default values for arguments of the function assume the  posterior densities provided are for parameters of a Bivariate model.  Therefore, it will create a plot with a summary point, credible and prediction region curves.
</p>
<p>If the argument <code>SROC_curve</code> is set to true, the function will plot Sensitivity vs Specificity at the posterior mean values of LAMBDA and beta 	across values of the posterior sample of THETA.  The <code>trunc_low</code> and <code>trunc_up</code> arguments truncate the posterior sample of THETA by (<code>trunc_low</code>)*100 to (<code>trunc_up</code>)*100 to ensure the SROC curve remains within the observed scope of the study points.	</p>


<h3>Value</h3>

<p>No return value</p>


<h3>Author(s)</h3>

<p> Ian Schiller and Nandini Dendukuri </p>


<h3>References</h3>

<p>Rutter, C. M., and Gatsonis, C. A. (2001) <em>A hierarchical regression approach to meta-analysis of diagnostic accuracy evaluations</em>. Statistics in Medicine, 20(19):2865-2884.
</p>
<p>Reitsma, J.B., Glas, A.S., Rutjes, A.W.S., Scholten, R.J.P.M., Bossuyt, P.M. and Zwinderman, A.H. (2005).  <em>Bivariate analysis of sensitivity and specificity produces informative summary measures in diagnostic reviews</em>.  Journal of Clinical Epideiology 58, 982-90
</p>
<p>Harbord, R.M., Deeks, J.J, Egger, M., Whiting, P., and Sterne, J.A. (2007) <em>A unification of models for meta-analysis of diagnostic accuracy studies</em>. Biostatistics 8, 239-251.
</p>
<p>Dendukuri, N., Schiller, I., Joseph, L., and Pai, M. (2012) <em>Bayesian meta-analysis of the accuracy of a test for tuberculosis pleuritis in the absence of a gold-standard reference</em>. Biometrics. doi:10.1111/j. 1541-0420.2012.01773.x
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##############################################################################################
# The example requires the rjags output from a bivariate meta-analysis model.
# We use the posterior_samples_Bivariate dataset which contains the results  of a
# bivariate meta-analysis of Anti_CCP dataset.

#The number of studies
data(Anti_CCP)
n=dim(Anti_CCP)[1]

#We load the samples of the posterior distribution
data(posterior_samples_Bivariate)

# Summary plot
SROC_rjags(X=posterior_samples_Bivariate, model="Bivariate",n=n, study_col1="blue",
           study_col2=rgb(0, 0, 1, 0.15), dataset=Anti_CCP[,2:5], ref_std=TRUE)


##########################################################################################
# The example requires the rjags output from a HSROC meta-analysis model.
# We use the posterior_samples_HSROC dataset which contains the results of a
# HSROC meta-analysis of the Anti_CCP dataset.

#The number of studies
data(Anti_CCP)
n=dim(Anti_CCP)[1]

#We load the samples of the posterior distribution
data(posterior_samples_HSROC)

# Summary plot
SROC_rjags(X=posterior_samples_HSROC, model="HSROC",n=n, study_col1="blue",
           study_col2=rgb(0, 0, 1, 0.15), dataset=Anti_CCP[,2:5], ref_std=TRUE,
           SROC_curve = TRUE, cred_region = FALSE, predict_region = FALSE)

##########################################################################################
# The example requires the rjags output from a Bayesian latent class meta-analysis model.
# We use the posterior_samples_LC dataset which contains the results of a
# latent class meta-analysis of the Xpert dataset.

#The number of studies
data(Xpert)
n=dim(Xpert)[1]

#We load the samples of the posterior distribution
data(posterior_samples_LC)

# Summary plot
SROC_rjags(X=posterior_samples_LC, model="Bivariate",n=n, study_col1="blue",
           study_col2=rgb(0, 0, 1, 0.15), dataset=Xpert[,2:5], ref_std=FALSE)
</code></pre>

<hr>
<h2 id='Xpert'> Xpert dataset </h2><span id='topic+Xpert'></span>

<h3>Description</h3>

<p>This dataset gives the observed cross-tabulation of GeneXpertTM (Xpert) test for tuberculosis (TB) meningitis in extrapulmonary specimens (test under evaluation) and culture (reference test) for 29 studies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Xpert)</code></pre>


<h3>Format</h3>

<p>A data frame with 29 observations on the following 5 variables.
</p>

<dl>
<dt><code>Study</code></dt><dd><p>First author and year of publication of the study. </p>
</dd>
<dt><code>++</code></dt><dd><p>Individuals who tested positive on both tests. </p>
</dd>
<dt><code>+-</code></dt><dd><p>Individuals who tested positive on the test under evaluation and negative on the reference test.</p>
</dd>
<dt><code>-+</code></dt><dd><p>Individuals who tested negative on the test under evaluation and positive on the reference test.</p>
</dd>
<dt><code>--</code></dt><dd><p>Individuals who tested negative on both tests. </p>
</dd>
</dl>



<h3>References</h3>

<p> Kohli M, Schiller I, Dendukuri N, et al. Xpert® MTB/RIF assay for extrapulmonary tuberculosis and rifampicin resistance. Cochrane Database Syst Rev. 2018;8(8):CD012768.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

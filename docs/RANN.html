<!DOCTYPE html><html><head><title>Help for package RANN</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RANN}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RANN-package'><p>Wrapper for Arya and Mount's Approximate Nearest Neighbours (ANN) C++ library</p></a></li>
<li><a href='#nn2'><p>Nearest Neighbour Search</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Fast Nearest Neighbour Search (Wraps ANN Library) Using L2
Metric</td>
</tr>
<tr>
<td>Author:</td>
<td>Sunil Arya and David Mount (for ANN), Samuel E. Kemp, Gregory Jefferis</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gregory Jefferis &lt;jefferis@gmail.com&gt;</td>
</tr>
<tr>
<td>Copyright:</td>
<td>ANN library is copyright University of Maryland and Sunil
Arya and David Mount. See file COPYRIGHT for details.</td>
</tr>
<tr>
<td>Description:</td>
<td>Finds the k nearest neighbours for every point in a given dataset
    in O(N log N) time using Arya and Mount's ANN library (v1.1.3). There is
    support for approximate as well as exact searches, fixed radius searches
    and 'bd' as well as 'kd' trees. The distance is computed using the L2
    (Euclidean) metric. Please see package 'RANN.L1' for the same
    functionality using the L1 (Manhattan, taxicab) metric.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jefferis/RANN">https://github.com/jefferis/RANN</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jefferis/RANN/issues">https://github.com/jefferis/RANN/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Version:</td>
<td>2.6.1</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-01-08 19:24:15 UTC; jefferis</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-01-08 20:00:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='RANN-package'>Wrapper for Arya and Mount's Approximate Nearest Neighbours (ANN) C++ library</h2><span id='topic+RANN-package'></span><span id='topic+RANN'></span>

<h3>Description</h3>

<p>Wrapper for Arya and Mount's Approximate Nearest Neighbours (ANN) C++ library
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nn2">nn2</a></code>
</p>

<hr>
<h2 id='nn2'>Nearest Neighbour Search</h2><span id='topic+nn2'></span>

<h3>Description</h3>

<p>Uses a kd-tree to find the p number of near neighbours for each point in an 
input/output dataset. The advantage of the kd-tree is that it runs in O(M log 
M) time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nn2(data, query = data, k = min(10, nrow(data)), treetype = c("kd",
  "bd"), searchtype = c("standard", "priority", "radius"), radius = 0,
  eps = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nn2_+3A_data">data</code></td>
<td>
<p>An <b>M</b> x <b>d</b> data.frame or matrix, where each of the 
<b>M</b> rows is a point or a (column) vector (where <b>d=1</b>).</p>
</td></tr>
<tr><td><code id="nn2_+3A_query">query</code></td>
<td>
<p>A set of <b>N</b> x <b>d</b> points that will be queried against 
<code>data</code>. <b>d</b>, the number of columns, must be the same as 
<code>data</code>. If missing, defaults to <code>data</code>.</p>
</td></tr>
<tr><td><code id="nn2_+3A_k">k</code></td>
<td>
<p>The maximum number of nearest neighbours to compute. The default 
value is set to the smaller of the number of columnns in data</p>
</td></tr>
<tr><td><code id="nn2_+3A_treetype">treetype</code></td>
<td>
<p>Character vector specifying the standard <code>'kd'</code> tree or a
<code>'bd'</code> (box-decomposition, AMNSW98) tree which may perform better for 
larger point sets</p>
</td></tr>
<tr><td><code id="nn2_+3A_searchtype">searchtype</code></td>
<td>
<p>See details</p>
</td></tr>
<tr><td><code id="nn2_+3A_radius">radius</code></td>
<td>
<p>Radius of search for searchtype='radius'</p>
</td></tr>
<tr><td><code id="nn2_+3A_eps">eps</code></td>
<td>
<p>Error bound: default of 0.0 implies exact nearest neighbour search</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>RANN</code> package utilizes the Approximate Near Neighbor (ANN) C++ 
library, which can give the exact near neighbours or (as the name suggests) 
approximate near neighbours to within a specified error bound.  For more 
information on the ANN library please visit 
<a href="http://www.cs.umd.edu/~mount/ANN/">http://www.cs.umd.edu/~mount/ANN/</a>.
</p>
<p>Search types: <code>priority</code> visits cells in increasing order of distance 
from the query point, and hence, should converge more rapidly on the true 
nearest neighbour, but standard is usually faster for exact searches. 
<code>radius</code> only searches for neighbours within a specified radius of the 
point.  If there are no neighbours then nn.idx will contain 0 and nn.dists 
will contain 1.340781e+154 for that point.
</p>


<h3>Value</h3>

<p>A <code>list</code> of length 2 with elements:
</p>
<table>
<tr><td><code>nn.idx</code></td>
<td>
<p>A <b>N</b> x <b>k</b> integer <code>matrix</code> returning the near
neighbour indices.</p>
</td></tr>
<tr><td><code>nn.dists</code></td>
<td>
<p>A <b>N</b> x <b>k</b> <code>matrix</code> returning the near 
neighbour Euclidean distances.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gregory Jefferis based on earlier code by Samuel E. Kemp (knnFinder 
package)
</p>


<h3>References</h3>

<p>Bentley J. L. (1975), Multidimensional binary search trees used 
for associative search. Communication ACM, 18:309-517.
</p>
<p>Arya S. and Mount D. M. (1993), Approximate nearest neighbor searching, 
Proc. 4th Ann. ACM-SIAM Symposium on Discrete Algorithms (SODA'93), 271-280.
</p>
<p>Arya S., Mount D. M., Netanyahu N. S., Silverman R. and Wu A. Y (1998), An 
optimal algorithm for approximate nearest neighbor searching, Journal of the
ACM, 45, 891-923.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x1 &lt;- runif(100, 0, 2*pi)
x2 &lt;- runif(100, 0,3)
DATA &lt;- data.frame(x1, x2)
nearest &lt;- nn2(DATA,DATA)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

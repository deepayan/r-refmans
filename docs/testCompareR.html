<!DOCTYPE html><html><head><title>Help for package testCompareR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {testCompareR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cass'><p>Coronary Artery Surgery Study data</p></a></li>
<li><a href='#cfpr'><p>US Cystic Fibrosis Patient Registry data</p></a></li>
<li><a href='#compareR'><p>compareR</p></a></li>
<li><a href='#dataframeR'><p>dataframeR</p></a></li>
<li><a href='#interpretR'><p>interpretR</p></a></li>
<li><a href='#summariseR'><p>summariseR</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Comparing Two Diagnostic Tests with Dichotomous Results using
Paired Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kyle J. Wilson &lt;kyle.jordan.wilson@googlemail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a method for comparing the results of two binary diagnostic tests using paired data. 
    Users can rapidly perform descriptive and inferential statistics in a single function call. Options permit users to select which parameters they are interested in comparing and methods for correction for multiple comparisons.
    Confidence intervals are calculated using the methods with the best coverage. Hypothesis tests use the methods with the best asymptotic performance. A summary of the methods is available in Roldán-Nofuentes (2020) &lt;<a href="https://doi.org/10.1186%2Fs12874-020-00988-y">doi:10.1186/s12874-020-00988-y</a>&gt;.
    This package is targeted at clinical researchers who want to rapidly and effectively compare results from binary diagnostic tests.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-15 09:51:10 UTC; kjw</td>
</tr>
<tr>
<td>Author:</td>
<td>Kyle J. Wilson <a href="https://orcid.org/0000-0003-0151-7530"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Marc Henrion <a href="https://orcid.org/0000-0003-1242-839X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  José Antonio Roldán Nofuentes
    <a href="https://orcid.org/0000-0003-0251-5588"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-15 10:12:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='cass'>Coronary Artery Surgery Study data</h2><span id='topic+cass'></span>

<h3>Description</h3>

<p>This data from the Coronary Artery Surgery Study evaluates two tests to
determine the presence or absence of coronary artery disease by comparing to
coronary angiography, the gold standard. Test 1 is an exercise stress test
and Test 2 is a clinical history of chest pain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cass
</code></pre>


<h3>Format</h3>

<p>A data frame with 871 rows and 3 columns:
</p>

<dl>
<dt>exercise</dt><dd><p>Dichotomous result on exercise stress testing.</p>
</dd>
<dt>cp</dt><dd><p>Presence of absence of chest pain based on medical history.</p>
</dd>
<dt>angio</dt><dd><p>Dichotomous result on coronary angiography.</p>
</dd>
</dl>



<h3>Details</h3>

<p>All three variables are dichotomous. 1 indicates a positive result;
0 indicates a negative result.
</p>
<p>This data was originally presented in Weiner et al. (1979).
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.1056/NEJM197908023010502">doi:10.1056/NEJM197908023010502</a>
</p>


<h3>References</h3>

<p>Weiner et al. (1979)) N Engl J Med. 1979;301(5):230-5
<a href="https://doi.org/10.1056/NEJM197908023010502">doi:10.1056/NEJM197908023010502</a>
</p>

<hr>
<h2 id='cfpr'>US Cystic Fibrosis Patient Registry data</h2><span id='topic+cfpr'></span>

<h3>Description</h3>

<p>This data from the Cystic Fibrosis Foundation's Patient Registry (USA)
evaluates risk factors for pulmonary exacerbation in patients with cystic
fibrosis. The two risk factors evaluated are previous pulmonary exacerbation
and previous colonisation with Pseudomonas aeruginosa.
Each of the two risk factors was evaluated using data from 1995. If an
instance occurred at any point in 1995 the 'test' was considered positive.
If negative throughout 1995 the 'test' was considered negative. The gold
standard was evidence of pulmonary exacerbation at any point in 1996.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfpr
</code></pre>


<h3>Format</h3>

<p>A data frame with 11,960 rows and 3 columns:
</p>

<dl>
<dt>pulm.exac</dt><dd><p>Presence or absence of previous pulmonary exacerbation.</p>
</dd>
<dt>pseudomonas</dt><dd><p>Presence or absence of Pseudomonas aeruginosa
infection.</p>
</dd>
<dt>infection</dt><dd><p>Presence or absence of severe infection (gold standard).</p>
</dd>
</dl>



<h3>Details</h3>

<p>All three variables are dichotomous. 1 indicates presence; 0 indicates
absence.
</p>
<p>This data was originally presented in Moskowitz and Pepe (2006).
</p>


<h3>Source</h3>

<p>Data was sourced directly from the referenced paper. For up-to-date data
requests contact:
<a href="https://www.cff.org/researchers/patient-registry-data-requests">Cystic Fibrosis Foundation</a>
</p>


<h3>References</h3>

<p>Moskowitz and Pepe (2006) Clinical Trials. 2006;3(3):272-9.
<a href="https://doi.org/10.1191/1740774506cn147oa">doi:10.1191/1740774506cn147oa</a>
</p>

<hr>
<h2 id='compareR'>compareR</h2><span id='topic+compareR'></span>

<h3>Description</h3>

<p>Calculates descriptive statistics and performs statistical
inference on two binary diagnostic tests in a single function call. Handles
multiple comparisons using methods in 'p.adjust()'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareR(
  df,
  alpha = 0.05,
  margins = FALSE,
  multi_corr = "holm",
  cc = TRUE,
  dp = 1,
  sesp = TRUE,
  ppvnpv = TRUE,
  plrnlr = TRUE,
  test.names = c("Test 1", "Test 2"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compareR_+3A_df">df</code></td>
<td>
<p>A data frame or matrix with 3 columns (test1, test2, gold).
Flexible coding of positive and negative results permitted.</p>
</td></tr>
<tr><td><code id="compareR_+3A_alpha">alpha</code></td>
<td>
<p>An alpha value. Defaults to 0.05.</p>
</td></tr>
<tr><td><code id="compareR_+3A_margins">margins</code></td>
<td>
<p>A Boolean value indicating whether the contingency tables
should have margins containing summed totals of rows and columns.</p>
</td></tr>
<tr><td><code id="compareR_+3A_multi_corr">multi_corr</code></td>
<td>
<p>Method for multiple comparisons. Uses 'p.adjust.methods'.</p>
</td></tr>
<tr><td><code id="compareR_+3A_cc">cc</code></td>
<td>
<p>A Boolean value indicating whether McNemar's test should be applied
with continuity correction.</p>
</td></tr>
<tr><td><code id="compareR_+3A_dp">dp</code></td>
<td>
<p>Number of decimal places of output in summary tables.
Defaults to 1.</p>
</td></tr>
<tr><td><code id="compareR_+3A_sesp">sesp</code></td>
<td>
<p>A Boolean value indicating whether output should include
sensitivity and specificity.</p>
</td></tr>
<tr><td><code id="compareR_+3A_ppvnpv">ppvnpv</code></td>
<td>
<p>A Boolean value indicating whether output should include
positive and negative predictive values.</p>
</td></tr>
<tr><td><code id="compareR_+3A_plrnlr">plrnlr</code></td>
<td>
<p>A Boolean value indicating whether output should include
positive and negative likelihood ratios.</p>
</td></tr>
<tr><td><code id="compareR_+3A_test.names">test.names</code></td>
<td>
<p>A vector of length two giving the names of the two
different binary diagnostic tests. This argument is not relevant when testing
a single binary diagnostic test.</p>
</td></tr>
<tr><td><code id="compareR_+3A_...">...</code></td>
<td>
<p>Rarely needs to be used. Allows additional arguments to be passed
to internal functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Confidence intervals for prevalence, diagnostic accuracies and predictive
values are calculated using the interval for binomial proportions described
by Yu et al. (2014).
Confidence intervals for likelihood ratios are calculated using the methods
recommended by Martín-Andrés and Álvarez-Hernández (2014).
Hypothesis testing for diagnostic accuracies uses different methods depending
on disease prevalence and number of participants or samples as described by
Roldán-Nofuentes and Sidaty-Regad (2019).
Global hypothesis testing for predictive values uses a method described by
Roldán-Nofuentes et al. (2012), with subsequent individual tests (where
indicated) performed using methods described by Kosinksi (2012).
The methods for hypothesis testing- for likelihood ratios are taken from
Roldán-Nofuentes &amp; Luna del Castillo (2007).
</p>
<p>An excellent summary of these methods is provided by Roldán-Nofuentes (2020)
along with an open-source program (compbdt) licensed under GPL-2.
This R package can be considered an extension of this work and is therefore
distributed under the same license.
Please consider citing Roldán-Nofuentes (2020) when you are citing this
package.
</p>


<h3>Value</h3>

<p>A list object summarising all calculated descriptive and
inferential statistics.
</p>


<h3>References</h3>

<p>Yu, Guo &amp; Xu (2014) JSCS. 2014; 84:5,1022-1038
<a href="https://doi.org/10.1080/00949655.2012.738211">doi:10.1080/00949655.2012.738211</a>
</p>
<p>Martín Andrés &amp; Álvarez Hernández (2014) Stat Comput. 2014; 24,65–75
<a href="https://doi.org/10.1007/s11222-012-9353-5">doi:10.1007/s11222-012-9353-5</a>
</p>
<p>Roldán-Nofuentes &amp; Sidaty-Regad (2019) JSCS. 2019; 89:14,2621-2644
<a href="https://doi.org/10.1080/00949655.2019.1628234">doi:10.1080/00949655.2019.1628234</a>
</p>
<p>Roldán-Nofuentes, Luna del Castillo &amp; Montero-Alonso (2012) Comput Stat Data
Anal. 2012; 6,1161–1173.
<a href="https://doi.org/10.1016/j.csda.2011.06.003">doi:10.1016/j.csda.2011.06.003</a>
</p>
<p>Kosinski (2012) Stat Med. 2012; 32,964-977
<a href="https://doi.org/10.1002/sim.5587">doi:10.1002/sim.5587</a>
</p>
<p>Roldán-Nofuentes, Luna del Castillo (2007) Stat Med. 2007; 26:4179–201.
<a href="https://doi.org/10.1002/sim.2850">doi:10.1002/sim.2850</a>
</p>
<p>Roldán-Nofuentes (2020) BMC Med Res Methodol. 2020; 20,143
<a href="https://doi.org/10.1186/s12874-020-00988-y">doi:10.1186/s12874-020-00988-y</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
df &lt;- cfpr

# run compareR function
compareR(df,
  margins = TRUE, multi_corr = "bonf",
  test.names = c("pulm.exac", "pseudomonas")
)

</code></pre>

<hr>
<h2 id='dataframeR'>dataframeR</h2><span id='topic+dataframeR'></span>

<h3>Description</h3>

<p>Produces a data frame which can be used by the compareR function
using values commonly found in published literature. Useful for reviews and
meta-analyses.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataframeR(s11, s10, s01, s00, r11, r10, r01, r00)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataframeR_+3A_s11">s11</code></td>
<td>
<p>Number of cases where Test 1 is positive, Test 2 is positive and
gold standard is positive.</p>
</td></tr>
<tr><td><code id="dataframeR_+3A_s10">s10</code></td>
<td>
<p>Number of cases where Test 1 is positive, Test 2 is negative and
gold standard is positive.</p>
</td></tr>
<tr><td><code id="dataframeR_+3A_s01">s01</code></td>
<td>
<p>Number of cases where Test 1 is negative, Test 2 is positive and
gold standard is positive.</p>
</td></tr>
<tr><td><code id="dataframeR_+3A_s00">s00</code></td>
<td>
<p>Number of cases where Test 1 is negative, Test 2 is negative and
gold standard is positive.</p>
</td></tr>
<tr><td><code id="dataframeR_+3A_r11">r11</code></td>
<td>
<p>Number of cases where Test 1 is positive, Test 2 is positive and
gold standard is negative.</p>
</td></tr>
<tr><td><code id="dataframeR_+3A_r10">r10</code></td>
<td>
<p>Number of cases where Test 1 is positive, Test 2 is negative and
gold standard is negative.</p>
</td></tr>
<tr><td><code id="dataframeR_+3A_r01">r01</code></td>
<td>
<p>Number of cases where Test 1 is negative, Test 2 is positive and
gold standard is negative.</p>
</td></tr>
<tr><td><code id="dataframeR_+3A_r00">r00</code></td>
<td>
<p>Number of cases where Test 1 is negative, Test 2 is negative and
gold standard is negative.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Understanding the parameter names:
s &amp; r represent positive and negative results for the gold standard test,
respectively.
The first digit represents a positive (1) or negative (0) result for Test 1.
The second digit represents a positive (1) or negative (0) result for Test 2.
</p>


<h3>Value</h3>

<p>A data frame populated with zeros and ones indicating positive or
negative test results which can be passed to the compareR function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># build data frame using numbers
dataframeR(3, 3, 3, 3, 3, 3, 3, 3)

</code></pre>

<hr>
<h2 id='interpretR'>interpretR</h2><span id='topic+interpretR'></span>

<h3>Description</h3>

<p>Provides a plain English readout of the results of the compareR
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpretR(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpretR_+3A_result">result</code></td>
<td>
<p>A list object with class 'compareR' output from the compareR
function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plain English summary of the findings produced by the compareR
function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simulate data
test1 &lt;- c(rep(1, 300), rep(0, 100), rep(1, 55), rep(0, 145))
test2 &lt;- c(rep(1, 280), rep(0, 120), rep(1, 45), rep(0, 155))
gold &lt;- c(rep(1, 400), rep(0, 200))
dat &lt;- data.frame(test1, test2, gold)

# compare with compareR
result &lt;- compareR(dat)

# provide a plain English readout with interpretR
interpretR(result)

</code></pre>

<hr>
<h2 id='summariseR'>summariseR</h2><span id='topic+summariseR'></span>

<h3>Description</h3>

<p>Summarises descriptive statistics associated with a single
binary diagnostic test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseR(df, dp = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseR_+3A_df">df</code></td>
<td>
<p>A data frame or matrix with 2 columns (test1, gold). Flexible
coding of positive and negative results permitted.</p>
</td></tr>
<tr><td><code id="summariseR_+3A_dp">dp</code></td>
<td>
<p>Number of decimal places of output in summary tables. Defaults
to 1. Kappa defaults to 3 decimal places unless user selects more.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Confidence intervals for prevalence, diagnostic accuracies and predictive
values are calculated using the interval for binomial proportions described
by Yu et al. (2014).
Confidence intervals for likelihood ratios are calculated using the methods
recommended by Martín-Andrés and Álvarez-Hernández (2014).
Cohen's kappa is a value between -1 and 1 which describes the agreement of
the two tests, taking account of random agreement. A score of zero or less
indicates the agreement could be entirely due to chance.
</p>


<h3>Value</h3>

<p>A summary of the descriptive statistics of a binary diagnostic test,
compared to a gold standard.
</p>


<h3>References</h3>

<p>Yu, Guo &amp; Xu (2014) JSCS. 2014; 84:5,1022-1038
<a href="https://doi.org/10.1080/00949655.2012.738211">doi:10.1080/00949655.2012.738211</a>
</p>
<p>Martín Andrés &amp; Álvarez Hernández (2014) Stat Comput. 2014; 24,65–75
<a href="https://doi.org/10.1007/s11222-012-9353-5">doi:10.1007/s11222-012-9353-5</a>
</p>
<p>Cohen (1960) Educ Psychol Meas. 1960; 20(1),37–46
<a href="https://doi.org/10.1177/001316446002000104">doi:10.1177/001316446002000104</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simulate data
test1 &lt;- c(rep(1, 300), rep(0, 100), rep(1, 55), rep(0, 145))
gold &lt;- c(rep(1, 400), rep(0, 200))
dat &lt;- data.frame(test1, gold)

# summarise descriptive statistics
result &lt;- summariseR(dat, dp = 4)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

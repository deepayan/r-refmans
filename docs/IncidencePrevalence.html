<!DOCTYPE html><html><head><title>Help for package IncidencePrevalence</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {IncidencePrevalence}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#IncidencePrevalence-package'><p>IncidencePrevalence: Estimate Incidence and Prevalence using the OMOP Common Data Model</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#benchmarkIncidencePrevalence'><p>Run benchmark of incidence and prevalence analyses</p></a></li>
<li><a href='#estimateIncidence'><p>Collect population incidence estimates</p></a></li>
<li><a href='#estimatePeriodPrevalence'><p>Estimate period prevalence</p></a></li>
<li><a href='#estimatePointPrevalence'><p>Estimate point prevalence</p></a></li>
<li><a href='#generateDenominatorCohortSet'><p>Identify a set of denominator populations</p></a></li>
<li><a href='#generateTargetDenominatorCohortSet'><p>Identify a set of denominator populations using a target cohort</p></a></li>
<li><a href='#mockIncidencePrevalenceRef'><p>Generate example subset of the OMOP CDM for</p>
estimating incidence and prevalence</a></li>
<li><a href='#optionsTableIncidence'><p>Additional arguments for the functions tableIncidence.</p></a></li>
<li><a href='#optionsTablePrevalence'><p>Additional arguments for the functions tablePrevalence.</p></a></li>
<li><a href='#participants'><p>Participants contributing to an analysis</p></a></li>
<li><a href='#plotIncidence'><p>Plot incidence results</p></a></li>
<li><a href='#plotPrevalence'><p>Plot prevalence results</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Estimate Incidence and Prevalence using the OMOP Common Data
Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate incidence and prevalence using data mapped to the Observational Medical Outcomes Partnership (OMOP) common data model. Incidence and prevalence can be estimated for the total population in a database or for a stratification cohort.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>CDMConnector (&ge; 1.3.0), checkmate (&ge; 2.0.0), cli (&ge; 3.0.0),
clock, dbplyr (&ge; 2.5.0), dplyr (&ge; 1.1.0), glue (&ge; 1.5.0),
omopgenerics (&ge; 0.1.2), lifecycle, lubridate (&ge; 1.0.0),
magrittr (&ge; 2.0.0), PatientProfiles (&ge; 1.1.0), purrr (&ge;
0.3.5), rlang (&ge; 1.0.0), stringr (&ge; 1.5.0), tidyr (&ge; 1.2.0),
visOmopResults</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, RPostgres, duckdb (&ge; 1.0.0), DBI (&ge;
1.0.0), odbc, here, Hmisc, epitools, tictoc, testthat (&ge;
0.3.1), spelling, gt, flextable, ggplot2 (&ge; 3.4.0), scales (&ge;
1.1.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://darwin-eu.github.io/IncidencePrevalence/">https://darwin-eu.github.io/IncidencePrevalence/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-01 20:17:38 UTC; eburn</td>
</tr>
<tr>
<td>Author:</td>
<td>Edward Burn <a href="https://orcid.org/0000-0002-9286-1128"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Berta Raventos <a href="https://orcid.org/0000-0002-4668-2970"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Marti Catala <a href="https://orcid.org/0000-0003-3308-9905"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Mike Du <a href="https://orcid.org/0000-0002-9517-8834"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Yuchen Guo <a href="https://orcid.org/0000-0002-0847-4855"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Adam Black <a href="https://orcid.org/0000-0001-5576-8701"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Ger Inberg <a href="https://orcid.org/0000-0001-8993-8748"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Kim Lopez <a href="https://orcid.org/0000-0002-8462-8668"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Edward Burn &lt;edward.burn@ndorms.ox.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-01 20:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='IncidencePrevalence-package'>IncidencePrevalence: Estimate Incidence and Prevalence using the OMOP Common Data Model</h2><span id='topic+IncidencePrevalence'></span><span id='topic+IncidencePrevalence-package'></span>

<h3>Description</h3>

<p>Calculate incidence and prevalence using data mapped to the Observational Medical Outcomes Partnership (OMOP) common data model. Incidence and prevalence can be estimated for the total population in a database or for a stratification cohort.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Edward Burn <a href="mailto:edward.burn@ndorms.ox.ac.uk">edward.burn@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9286-1128">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Berta Raventos <a href="mailto:braventos@idiapjgol.info">braventos@idiapjgol.info</a> (<a href="https://orcid.org/0000-0002-4668-2970">ORCID</a>)
</p>
</li>
<li><p> Marti Catala <a href="mailto:marti.catalasabate@ndorms.ox.ac.uk">marti.catalasabate@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-3308-9905">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Mike Du <a href="mailto:mike.du@ndorms.ox.ac.uk">mike.du@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9517-8834">ORCID</a>) [contributor]
</p>
</li>
<li><p> Yuchen Guo <a href="mailto:yuchen.guo@ndorms.ox.ac.uk">yuchen.guo@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-0847-4855">ORCID</a>) [contributor]
</p>
</li>
<li><p> Adam Black <a href="mailto:black@ohdsi.org">black@ohdsi.org</a> (<a href="https://orcid.org/0000-0001-5576-8701">ORCID</a>) [contributor]
</p>
</li>
<li><p> Ger Inberg <a href="mailto:g.inberg@erasmusmc.nl">g.inberg@erasmusmc.nl</a> (<a href="https://orcid.org/0000-0001-8993-8748">ORCID</a>) [contributor]
</p>
</li>
<li><p> Kim Lopez <a href="mailto:kim.lopez@spc.ox.ac.uk">kim.lopez@spc.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-8462-8668">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://darwin-eu.github.io/IncidencePrevalence/">https://darwin-eu.github.io/IncidencePrevalence/</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='benchmarkIncidencePrevalence'>Run benchmark of incidence and prevalence analyses</h2><span id='topic+benchmarkIncidencePrevalence'></span>

<h3>Description</h3>

<p>Run benchmark of incidence and prevalence analyses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>benchmarkIncidencePrevalence(
  cdm,
  returnParticipants = FALSE,
  analysisType = "all"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="benchmarkIncidencePrevalence_+3A_cdm">cdm</code></td>
<td>
<p>A CDM reference object</p>
</td></tr>
<tr><td><code id="benchmarkIncidencePrevalence_+3A_returnparticipants">returnParticipants</code></td>
<td>
<p>Whether to return participants</p>
</td></tr>
<tr><td><code id="benchmarkIncidencePrevalence_+3A_analysistype">analysisType</code></td>
<td>
<p>A string of the following: &quot;all&quot;, &quot;only incidence&quot;,
&quot;only prevalence&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble with time taken for different analyses
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(
  sampleSize = 100,
  earliestObservationStartDate = as.Date("2010-01-01"),
  latestObservationStartDate = as.Date("2010-01-01"),
  minDaysToObservationEnd = 364,
  maxDaysToObservationEnd = 364,
  outPre = 0.1
)

timings &lt;- benchmarkIncidencePrevalence(cdm)

</code></pre>

<hr>
<h2 id='estimateIncidence'>Collect population incidence estimates</h2><span id='topic+estimateIncidence'></span>

<h3>Description</h3>

<p>Collect population incidence estimates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimateIncidence(
  cdm,
  denominatorTable,
  outcomeTable,
  denominatorCohortId = NULL,
  outcomeCohortId = NULL,
  interval = "years",
  completeDatabaseIntervals = TRUE,
  outcomeWashout = Inf,
  repeatedEvents = FALSE,
  minCellCount = 5,
  strata = list(),
  includeOverallStrata = TRUE,
  returnParticipants = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimateIncidence_+3A_cdm">cdm</code></td>
<td>
<p>A CDM reference object</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_denominatortable">denominatorTable</code></td>
<td>
<p>A cohort table with a set of denominator cohorts
(for example, created using the <code>generateDenominatorCohortSet()</code>
function).</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_outcometable">outcomeTable</code></td>
<td>
<p>A cohort table in the cdm reference containing
a set of outcome cohorts.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_denominatorcohortid">denominatorCohortId</code></td>
<td>
<p>The cohort definition ids of the denominator
cohorts of interest. If NULL all cohorts will be considered in the
analysis.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_outcomecohortid">outcomeCohortId</code></td>
<td>
<p>The cohort definition ids of the outcome
cohorts of interest. If NULL all cohorts will be considered in the
analysis.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_interval">interval</code></td>
<td>
<p>Time intervals over which incidence is estimated. Can
be &quot;weeks&quot;, &quot;months&quot;, &quot;quarters&quot;, &quot;years&quot;, or &quot;overall&quot;. ISO weeks will
be used for weeks. Calendar months, quarters, or years can be used, or an
overall estimate for the entire time period observed (from earliest cohort
start to last cohort end) can also be estimated. If more than one option is
chosen then results will be estimated for each chosen interval.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_completedatabaseintervals">completeDatabaseIntervals</code></td>
<td>
<p>TRUE/ FALSE. Where TRUE, incidence will
only be estimated for those intervals where the denominator cohort
captures all the interval.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_outcomewashout">outcomeWashout</code></td>
<td>
<p>The number of days used for a 'washout' period
between the end of one outcome and an individual starting to contribute
time at risk. If Inf, no time can be contributed after an event has
occurred.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_repeatedevents">repeatedEvents</code></td>
<td>
<p>TRUE/ FALSE. If TRUE, an individual will be able to
contribute multiple events during the study period (time while they are
present in an outcome cohort and any subsequent washout will be
excluded). If FALSE, an individual will only contribute time up to their
first event.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_mincellcount">minCellCount</code></td>
<td>
<p>The minimum number of events to reported, below which
results will be obscured. If 0, all results will be reported.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_strata">strata</code></td>
<td>
<p>Variables added to the denominator cohort table for which to
stratify estimates.</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_includeoverallstrata">includeOverallStrata</code></td>
<td>
<p>Whether to include an overall result as well as
strata specific results (when strata has been specified).</p>
</td></tr>
<tr><td><code id="estimateIncidence_+3A_returnparticipants">returnParticipants</code></td>
<td>
<p>Either TRUE or FALSE. If TRUE references to
participants from the analysis will be returned allowing for further
analysis. Note, if using permanent tables and returnParticipants is TRUE,
one table per analysis will be kept in the cdm write schema.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Incidence estimates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 1000)
cdm &lt;- generateDenominatorCohortSet(
  cdm = cdm, name = "denominator",
  cohortDateRange = c(as.Date("2008-01-01"), as.Date("2018-01-01"))
)
inc &lt;- estimateIncidence(
  cdm = cdm,
  denominatorTable = "denominator",
  outcomeTable = "outcome"
)

</code></pre>

<hr>
<h2 id='estimatePeriodPrevalence'>Estimate period prevalence</h2><span id='topic+estimatePeriodPrevalence'></span>

<h3>Description</h3>

<p>Estimate period prevalence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimatePeriodPrevalence(
  cdm,
  denominatorTable,
  outcomeTable,
  denominatorCohortId = NULL,
  outcomeCohortId = NULL,
  interval = "years",
  completeDatabaseIntervals = TRUE,
  fullContribution = FALSE,
  strata = list(),
  includeOverallStrata = TRUE,
  minCellCount = 5,
  returnParticipants = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimatePeriodPrevalence_+3A_cdm">cdm</code></td>
<td>
<p>A CDM reference object</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_denominatortable">denominatorTable</code></td>
<td>
<p>A cohort table with a set of denominator cohorts
(for example, created using the <code>generateDenominatorCohortSet()</code>
function).</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_outcometable">outcomeTable</code></td>
<td>
<p>A cohort table in the cdm reference containing
a set of outcome cohorts.</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_denominatorcohortid">denominatorCohortId</code></td>
<td>
<p>The cohort definition ids of the denominator
cohorts of interest. If NULL all cohorts will be considered in the
analysis.</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_outcomecohortid">outcomeCohortId</code></td>
<td>
<p>The cohort definition ids of the outcome
cohorts of interest. If NULL all cohorts will be considered in the
analysis.</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_interval">interval</code></td>
<td>
<p>Time intervals over which period prevalence is estimated.
This can be &quot;weeks&quot;, &quot;months&quot;, &quot;quarters&quot;, &quot;years&quot;, or &quot;overall&quot;.
ISO weeks will be used for weeks. Calendar months, quarters, or
years can be used as the period. If more than one option
is chosen then results will be estimated for each chosen interval.</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_completedatabaseintervals">completeDatabaseIntervals</code></td>
<td>
<p>TRUE/ FALSE. Where TRUE, prevalence will
only be estimated for those intervals where the database
captures all the interval (based on the earliest and latest observation
period start dates, respectively).</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_fullcontribution">fullContribution</code></td>
<td>
<p>TRUE/ FALSE. Where TRUE, individuals will only be
included if they in the database for the entire interval of interest. If
FALSE they are only required to present for one day of the interval in
order to contribute.</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_strata">strata</code></td>
<td>
<p>Variables added to the denominator cohort table for which to
stratify estimates.</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_includeoverallstrata">includeOverallStrata</code></td>
<td>
<p>Whether to include an overall result as well as
strata specific results (when strata has been specified).</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Minimum number of events to report- results
lower than this will be obscured. If NULL all results will be reported.</p>
</td></tr>
<tr><td><code id="estimatePeriodPrevalence_+3A_returnparticipants">returnParticipants</code></td>
<td>
<p>Either TRUE or FALSE. If TRUE references to
participants from the analysis will be returned allowing for further
analysis. Note, if using permanent tables and returnParticipants is TRUE,
one table per analysis will be kept in the cdm write schema.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Period prevalence estimates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 1000)
cdm &lt;- generateDenominatorCohortSet(
  cdm = cdm, name = "denominator",
  cohortDateRange = c(as.Date("2008-01-01"), as.Date("2018-01-01"))
)
estimatePeriodPrevalence(
  cdm = cdm,
  denominatorTable = "denominator",
  outcomeTable = "outcome",
  interval = "months"
)

</code></pre>

<hr>
<h2 id='estimatePointPrevalence'>Estimate point prevalence</h2><span id='topic+estimatePointPrevalence'></span>

<h3>Description</h3>

<p>Estimate point prevalence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimatePointPrevalence(
  cdm,
  denominatorTable,
  outcomeTable,
  denominatorCohortId = NULL,
  outcomeCohortId = NULL,
  interval = "years",
  timePoint = "start",
  strata = list(),
  includeOverallStrata = TRUE,
  minCellCount = 5,
  returnParticipants = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimatePointPrevalence_+3A_cdm">cdm</code></td>
<td>
<p>A CDM reference object</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_denominatortable">denominatorTable</code></td>
<td>
<p>A cohort table with a set of denominator cohorts
(for example, created using the <code>generateDenominatorCohortSet()</code>
function).</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_outcometable">outcomeTable</code></td>
<td>
<p>A cohort table in the cdm reference containing
a set of outcome cohorts.</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_denominatorcohortid">denominatorCohortId</code></td>
<td>
<p>The cohort definition ids of the denominator
cohorts of interest. If NULL all cohorts will be considered in the
analysis.</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_outcomecohortid">outcomeCohortId</code></td>
<td>
<p>The cohort definition ids of the outcome
cohorts of interest. If NULL all cohorts will be considered in the
analysis.</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_interval">interval</code></td>
<td>
<p>Time intervals over which period prevalence is estimated. Can
be &quot;weeks&quot;, &quot;months&quot;, &quot;quarters&quot;, or &quot;years&quot;. ISO weeks will
be used for weeks. Calendar months, quarters, or years can be used as
the period. If more than one option is chosen then results will
be estimated for each chosen interval.</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_timepoint">timePoint</code></td>
<td>
<p>where to compute the point prevalence</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_strata">strata</code></td>
<td>
<p>Variables added to the denominator cohort table for which to
stratify estimates.</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_includeoverallstrata">includeOverallStrata</code></td>
<td>
<p>Whether to include an overall result as well as
strata specific results (when strata has been specified).</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Minimum number of events to report- results
lower than this will be obscured. If NULL all results will be reported.</p>
</td></tr>
<tr><td><code id="estimatePointPrevalence_+3A_returnparticipants">returnParticipants</code></td>
<td>
<p>Either TRUE or FALSE. If TRUE references to
participants from the analysis will be returned allowing for further
analysis. Note, if using permanent tables and returnParticipants is TRUE,
one table per analysis will be kept in the cdm write schema.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Point prevalence estimates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 1000)
cdm &lt;- generateDenominatorCohortSet(
  cdm = cdm, name = "denominator",
  cohortDateRange = c(as.Date("2008-01-01"), as.Date("2018-01-01"))
)
estimatePointPrevalence(
  cdm = cdm,
  denominatorTable = "denominator",
  outcomeTable = "outcome",
  interval = "months"
)

</code></pre>

<hr>
<h2 id='generateDenominatorCohortSet'>Identify a set of denominator populations</h2><span id='topic+generateDenominatorCohortSet'></span>

<h3>Description</h3>

<p><code>generateDenominatorCohortSet()</code> creates a set of cohorts that
can be used for the denominator population in analyses of incidence,
using <code>estimateIncidence()</code>, or prevalence, using <code>estimatePointPrevalence()</code>
or <code>estimatePeriodPrevalence()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateDenominatorCohortSet(
  cdm,
  name,
  cohortDateRange = as.Date(c(NA, NA)),
  ageGroup = list(c(0, 150)),
  sex = "Both",
  daysPriorObservation = 0,
  requirementInteractions = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateDenominatorCohortSet_+3A_cdm">cdm</code></td>
<td>
<p>A CDM reference object</p>
</td></tr>
<tr><td><code id="generateDenominatorCohortSet_+3A_name">name</code></td>
<td>
<p>Name of the cohort table to be created. Note if a table already
exists with this name in the database (give the prefix being used for the
cdm reference) it will be overwritten.</p>
</td></tr>
<tr><td><code id="generateDenominatorCohortSet_+3A_cohortdaterange">cohortDateRange</code></td>
<td>
<p>Two dates. The first indicating the earliest cohort
start date and the second indicating the latest possible cohort end date. If
NULL or the first date is set as missing, the earliest observation_start_date
in the observation_period table will be used for the former. If  NULL or the
second date is set as missing, the latest observation_end_date in the
observation_period table will be used for the latter.</p>
</td></tr>
<tr><td><code id="generateDenominatorCohortSet_+3A_agegroup">ageGroup</code></td>
<td>
<p>A list of age groups for which cohorts will be generated. A
value of <code>list(c(0,17), c(18,30))</code> would, for example, lead to the creation
of cohorts for those aged from 0 to 17, and from 18 to 30. In this example
an individual turning 18 during the time period would appear in both
cohorts (leaving the first cohort the day before their 18th birthday and
entering the second from the day of their 18th birthday).</p>
</td></tr>
<tr><td><code id="generateDenominatorCohortSet_+3A_sex">sex</code></td>
<td>
<p>Sex of the cohorts. This can be one or more of: <code>"Male"</code>,
<code>"Female"</code>, or <code>"Both"</code>.</p>
</td></tr>
<tr><td><code id="generateDenominatorCohortSet_+3A_dayspriorobservation">daysPriorObservation</code></td>
<td>
<p>The number of days of prior observation observed in
the database required for an individual to start contributing time in
a cohort.</p>
</td></tr>
<tr><td><code id="generateDenominatorCohortSet_+3A_requirementinteractions">requirementInteractions</code></td>
<td>
<p>If TRUE, cohorts will be created for
all combinations of ageGroup, sex, and daysPriorObservation. If FALSE, only the
first value specified for the other factors will be used. Consequently,
order of values matters when requirementInteractions is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A cdm reference
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 1000)
cdm &lt;- generateDenominatorCohortSet(
  cdm = cdm,
  name = "denominator",
  cohortDateRange = as.Date(c("2008-01-01", "2020-01-01"))
)
cdm

</code></pre>

<hr>
<h2 id='generateTargetDenominatorCohortSet'>Identify a set of denominator populations using a target cohort</h2><span id='topic+generateTargetDenominatorCohortSet'></span>

<h3>Description</h3>

<p><code>generateTargetDenominatorCohortSet()</code> creates a set of cohorts that
can be used for the denominator population in analyses of incidence,
using <code>estimateIncidence()</code>, or prevalence, using <code>estimatePointPrevalence()</code>
or <code>estimatePeriodPrevalence()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateTargetDenominatorCohortSet(
  cdm,
  name,
  targetCohortTable,
  targetCohortId = NULL,
  cohortDateRange = as.Date(c(NA, NA)),
  ageGroup = list(c(0, 150)),
  sex = "Both",
  daysPriorObservation = 0,
  requirementInteractions = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_cdm">cdm</code></td>
<td>
<p>A CDM reference object</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_name">name</code></td>
<td>
<p>Name of the cohort table to be created.</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_targetcohorttable">targetCohortTable</code></td>
<td>
<p>A cohort table in the cdm reference to use
to limit cohort entry and exit (with individuals only contributing to a
cohort when they are contributing to the cohort in the target table).</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_targetcohortid">targetCohortId</code></td>
<td>
<p>The cohort definition id for the cohort of interest
in the target table. If targetCohortTable is specified, a single targetCohortId
must also be specified.</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_cohortdaterange">cohortDateRange</code></td>
<td>
<p>Two dates. The first indicating the earliest cohort
start date and the second indicating the latest possible cohort end date. If
NULL or the first date is set as missing, the earliest observation_start_date
in the observation_period table will be used for the former. If  NULL or the
second date is set as missing, the latest observation_end_date in the
observation_period table will be used for the latter.</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_agegroup">ageGroup</code></td>
<td>
<p>A list of age groups for which cohorts will be generated. A
value of <code>list(c(0,17), c(18,30))</code> would, for example, lead to the creation
of cohorts for those aged from 0 to 17, and from 18 to 30. In this example
an individual turning 18 during the time period would appear in both
cohorts (leaving the first cohort the day before their 18th birthday and
entering the second from the day of their 18th birthday).</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_sex">sex</code></td>
<td>
<p>Sex of the cohorts. This can be one or more of: <code>"Male"</code>,
<code>"Female"</code>, or <code>"Both"</code>.</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_dayspriorobservation">daysPriorObservation</code></td>
<td>
<p>The number of days of prior observation observed in
the database required for an individual to start contributing time in
a cohort.</p>
</td></tr>
<tr><td><code id="generateTargetDenominatorCohortSet_+3A_requirementinteractions">requirementInteractions</code></td>
<td>
<p>If TRUE, cohorts will be created for
all combinations of ageGroup, sex, and daysPriorObservation. If FALSE, only the
first value specified for the other factors will be used. Consequently,
order of values matters when requirementInteractions is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A cdm reference
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 1000)
cdm &lt;- generateTargetDenominatorCohortSet(
  cdm = cdm,
  name = "denominator",
  targetCohortTable = "target",
  cohortDateRange = as.Date(c("2008-01-01", "2020-01-01"))
)
cdm

</code></pre>

<hr>
<h2 id='mockIncidencePrevalenceRef'>Generate example subset of the OMOP CDM for
estimating incidence and prevalence</h2><span id='topic+mockIncidencePrevalenceRef'></span>

<h3>Description</h3>

<p>Generate example subset of the OMOP CDM for
estimating incidence and prevalence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockIncidencePrevalenceRef(
  personTable = NULL,
  observationPeriodTable = NULL,
  targetCohortTable = NULL,
  outcomeTable = NULL,
  sampleSize = 1,
  outPre = 1,
  seed = 444,
  ageBeta = NULL,
  genderBeta = NULL,
  intercept = NULL,
  earliestDateOfBirth = NULL,
  latestDateOfBirth = NULL,
  earliestObservationStartDate = NULL,
  latestObservationStartDate = NULL,
  minDaysToObservationEnd = NULL,
  maxDaysToObservationEnd = NULL,
  minOutcomeDays = 1,
  maxOutcomeDays = 10,
  maxOutcomes = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_persontable">personTable</code></td>
<td>
<p>A tibble in the format of the person table.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_observationperiodtable">observationPeriodTable</code></td>
<td>
<p>A tibble in the format of the observation
period table.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_targetcohorttable">targetCohortTable</code></td>
<td>
<p>A tibble in the format of a cohort table which can
be used for stratification</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_outcometable">outcomeTable</code></td>
<td>
<p>A tibble in the format of a cohort table which can
be used for outcomes</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_samplesize">sampleSize</code></td>
<td>
<p>The number of unique patients.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_outpre">outPre</code></td>
<td>
<p>The fraction of patients with an event.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_seed">seed</code></td>
<td>
<p>The seed for simulating the data set. Use the same
seed to get same data set.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_agebeta">ageBeta</code></td>
<td>
<p>The beta for the standardised age in a logistic
regression outcome model.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_genderbeta">genderBeta</code></td>
<td>
<p>The beta for the gender flag in a logistic
regression outcome model.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_intercept">intercept</code></td>
<td>
<p>The beta for the intercept in a logistic
regression outcome model.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_earliestdateofbirth">earliestDateOfBirth</code></td>
<td>
<p>The earliest date of birth of a patient in
person table.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_latestdateofbirth">latestDateOfBirth</code></td>
<td>
<p>The latest date of birth of a patient in
person table.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_earliestobservationstartdate">earliestObservationStartDate</code></td>
<td>
<p>The earliest observation start date
for patient format.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_latestobservationstartdate">latestObservationStartDate</code></td>
<td>
<p>The latest observation start date
for patient format.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_mindaystoobservationend">minDaysToObservationEnd</code></td>
<td>
<p>The minimum number of days of
the observational integer.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_maxdaystoobservationend">maxDaysToObservationEnd</code></td>
<td>
<p>The maximum number of days of
the observation period integer.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_minoutcomedays">minOutcomeDays</code></td>
<td>
<p>The minimum number of days of the outcome
period default set to 1.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_maxoutcomedays">maxOutcomeDays</code></td>
<td>
<p>The maximum number of days of the outcome
period default set to 10.</p>
</td></tr>
<tr><td><code id="mockIncidencePrevalenceRef_+3A_maxoutcomes">maxOutcomes</code></td>
<td>
<p>The maximum possible number of outcomes per
person can have default set to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A cdm reference to a duckdb database with mock data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 100)
cdm


</code></pre>

<hr>
<h2 id='optionsTableIncidence'>Additional arguments for the functions tableIncidence.</h2><span id='topic+optionsTableIncidence'></span>

<h3>Description</h3>

<p>It provides a list of allowed inputs for .option argument in tableIncidence,
and their given default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optionsTableIncidence()
</code></pre>


<h3>Value</h3>

<p>The default .options named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
optionsTableIncidence()
}

</code></pre>

<hr>
<h2 id='optionsTablePrevalence'>Additional arguments for the functions tablePrevalence.</h2><span id='topic+optionsTablePrevalence'></span>

<h3>Description</h3>

<p>It provides a list of allowed inputs for .option argument in tablePrevalence,
and their given default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optionsTablePrevalence()
</code></pre>


<h3>Value</h3>

<p>The default .options named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
optionsTablePrevalence()
}

</code></pre>

<hr>
<h2 id='participants'>Participants contributing to an analysis</h2><span id='topic+participants'></span>

<h3>Description</h3>

<p>Participants contributing to an analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>participants(result, analysisId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="participants_+3A_result">result</code></td>
<td>
<p>Result object</p>
</td></tr>
<tr><td><code id="participants_+3A_analysisid">analysisId</code></td>
<td>
<p>ID of a specific analysis to return participants for</p>
</td></tr>
</table>


<h3>Value</h3>

<p>References to tables with the study participants contributing to
a given analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 200)
cdm &lt;- generateDenominatorCohortSet(cdm, name = "denominator")
incidence &lt;- estimateIncidence(
  cdm = cdm,
  denominatorTable = "denominator",
  outcomeTable = "outcome",
  interval = "overall"
)
participants(result = incidence, analysisId = 1)

</code></pre>

<hr>
<h2 id='plotIncidence'>Plot incidence results</h2><span id='topic+plotIncidence'></span>

<h3>Description</h3>

<p>Plot incidence results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotIncidence(
  result,
  x = "incidence_start_date",
  ylim = c(0, NA),
  ribbon = FALSE,
  facet = NULL,
  colour = NULL,
  colour_name = NULL,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotIncidence_+3A_result">result</code></td>
<td>
<p>Incidence results</p>
</td></tr>
<tr><td><code id="plotIncidence_+3A_x">x</code></td>
<td>
<p>Variable to plot on x axis</p>
</td></tr>
<tr><td><code id="plotIncidence_+3A_ylim">ylim</code></td>
<td>
<p>Limits for the Y axis</p>
</td></tr>
<tr><td><code id="plotIncidence_+3A_ribbon">ribbon</code></td>
<td>
<p>If TRUE, the plot will join points using a ribbon</p>
</td></tr>
<tr><td><code id="plotIncidence_+3A_facet">facet</code></td>
<td>
<p>Variables to use for facets</p>
</td></tr>
<tr><td><code id="plotIncidence_+3A_colour">colour</code></td>
<td>
<p>Variables to use for colours</p>
</td></tr>
<tr><td><code id="plotIncidence_+3A_colour_name">colour_name</code></td>
<td>
<p>Colour legend name</p>
</td></tr>
<tr><td><code id="plotIncidence_+3A_options">options</code></td>
<td>
<p>a list of optional plot options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot with the incidence results plotted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 1000)
cdm &lt;- generateDenominatorCohortSet(
  cdm = cdm, name = "denominator",
  cohortDateRange = c(as.Date("2008-01-01"), as.Date("2018-01-01"))
)
inc &lt;- estimateIncidence(
  cdm = cdm,
  denominatorTable = "denominator",
  outcomeTable = "outcome"
)
plotIncidence(inc)

</code></pre>

<hr>
<h2 id='plotPrevalence'>Plot prevalence results</h2><span id='topic+plotPrevalence'></span>

<h3>Description</h3>

<p>Plot prevalence results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotPrevalence(
  result,
  x = "prevalence_start_date",
  ylim = c(0, NA),
  ribbon = FALSE,
  facet = NULL,
  colour = NULL,
  colour_name = NULL,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotPrevalence_+3A_result">result</code></td>
<td>
<p>Prevalence results</p>
</td></tr>
<tr><td><code id="plotPrevalence_+3A_x">x</code></td>
<td>
<p>Variable to plot on x axis</p>
</td></tr>
<tr><td><code id="plotPrevalence_+3A_ylim">ylim</code></td>
<td>
<p>Limits for the Y axis</p>
</td></tr>
<tr><td><code id="plotPrevalence_+3A_ribbon">ribbon</code></td>
<td>
<p>If TRUE, the plot will join points using a ribbon</p>
</td></tr>
<tr><td><code id="plotPrevalence_+3A_facet">facet</code></td>
<td>
<p>Variables to use for facets</p>
</td></tr>
<tr><td><code id="plotPrevalence_+3A_colour">colour</code></td>
<td>
<p>Variables to use for colours</p>
</td></tr>
<tr><td><code id="plotPrevalence_+3A_colour_name">colour_name</code></td>
<td>
<p>Colour legend name</p>
</td></tr>
<tr><td><code id="plotPrevalence_+3A_options">options</code></td>
<td>
<p>a list of optional plot options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot with the prevalence results plotted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockIncidencePrevalenceRef(sampleSize = 1000)
cdm &lt;- generateDenominatorCohortSet(
  cdm = cdm, name = "denominator",
  cohortDateRange = c(as.Date("2014-01-01"), as.Date("2018-01-01"))
)
prev &lt;- estimatePointPrevalence(
  cdm = cdm,
  denominatorTable = "denominator",
  outcomeTable = "outcome"
)
plotPrevalence(prev)

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+cohortCount'></span><span id='topic+cohortCodelist'></span><span id='topic+settings'></span><span id='topic+attrition'></span><span id='topic+suppress'></span><span id='topic+bind'></span><span id='topic+exportSummarisedResult'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>omopgenerics</dt><dd><p><code><a href="omopgenerics.html#topic+attrition">attrition</a></code>, <code><a href="omopgenerics.html#topic+bind">bind</a></code>, <code><a href="omopgenerics.html#topic+cohortCodelist">cohortCodelist</a></code>, <code><a href="omopgenerics.html#topic+cohortCount">cohortCount</a></code>, <code><a href="omopgenerics.html#topic+exportSummarisedResult">exportSummarisedResult</a></code>, <code><a href="omopgenerics.html#topic+settings">settings</a></code>, <code><a href="omopgenerics.html#topic+suppress">suppress</a></code></p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

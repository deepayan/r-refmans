<!DOCTYPE html><html><head><title>Help for package simplermarkdown</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {simplermarkdown}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#file_subs_ext'><p>Replace file extension by another file extension</p></a></li>
<li><a href='#format_traditional'><p>Format the result of running a block of code</p></a></li>
<li><a href='#get_extensions'><p>Get the extensions that are needed when converting from json to markdown by</p>
pandoc.</a></li>
<li><a href='#markdown_block'><p>Return a code block object that can be included in the pandoc parse tree</p></a></li>
<li><a href='#md_figure'><p>Generate a figure and generate the markdown to include the figure</p></a></li>
<li><a href='#md_table'><p>Generate a markdown table from a data.frame</p></a></li>
<li><a href='#mdtangle'><p>Extract code from the code blocks in a markdown file</p></a></li>
<li><a href='#mdweave'><p>Run the code in a markdown file and generate a new markdown file</p></a></li>
<li><a href='#mdweave_to_pdf'><p>Run the code in a markdown file and generate a new document</p></a></li>
<li><a href='#output_table'><p>Output filters for code blocks in markdown</p></a></li>
<li><a href='#raw_block'><p>Return a raw chunk of text that can be included in the pandoc parse tree</p></a></li>
<li><a href='#run_and_capture'><p>Run code and capture the output</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Simple Engine for Generating Reports using R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Runs R-code present in a pandoc markdown file and 
  includes the resulting output in the resulting markdown file. This
  file can then be converted into any of the output formats 
  supported by pandoc. The package can also be used as an engine
  for writing package vignettes. </td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/djvanderlaan/simplermarkdown/issues">https://github.com/djvanderlaan/simplermarkdown/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/djvanderlaan/simplermarkdown">https://github.com/djvanderlaan/simplermarkdown</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>rjson, tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>MASS</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>simplermarkdown</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Pandoc (http://pandoc.org) needs to installed and
available in the search path.</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-24 07:55:56 UTC; eoos</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan van der Laan <a href="https://orcid.org/0000-0002-0693-1514"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jan van der Laan &lt;r@eoos.dds.nl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-24 15:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='file_subs_ext'>Replace file extension by another file extension</h2><span id='topic+file_subs_ext'></span>

<h3>Description</h3>

<p>Replace file extension by another file extension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_subs_ext(fn, new_ext, check = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_subs_ext_+3A_fn">fn</code></td>
<td>
<p>character vector with file names</p>
</td></tr>
<tr><td><code id="file_subs_ext_+3A_new_ext">new_ext</code></td>
<td>
<p>character vector of length one with the new extension (when
it does not start with a period a period is added).</p>
</td></tr>
<tr><td><code id="file_subs_ext_+3A_check">check</code></td>
<td>
<p>check if the new file name is not equal to the original
filename. If so, generate an error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character vector of the same length of <code>fn</code> with the
extension of the file names in <code>fn</code> replaced by <code>new_ext</code>.
</p>

<hr>
<h2 id='format_traditional'>Format the result of running a block of code</h2><span id='topic+format_traditional'></span><span id='topic+format_copypaste'></span>

<h3>Description</h3>

<p>Format the result of running a block of code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_traditional(x)

format_copypaste(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_traditional_+3A_x">x</code></td>
<td>
<p>the result of running the code. See 'details' for the format.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input vector <code>x</code> should be a list. Each element of this list should
be a list with two elements: <code>input</code> and <code>output</code>. <code>input</code>
should contain the evaluated expression; this can be more than one line.
<code>output</code> should contain the output of the evaluation. When there is no
output this is character vector of length 0.
</p>


<h3>Value</h3>

<p>A character vector of length 1 with the formatted code.
</p>

<hr>
<h2 id='get_extensions'>Get the extensions that are needed when converting from json to markdown by
pandoc.</h2><span id='topic+get_extensions'></span>

<h3>Description</h3>

<p>Get the extensions that are needed when converting from json to markdown by
pandoc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_extensions()
</code></pre>


<h3>Details</h3>

<p>Checks which extensions are available in pandoc and returns a character
string disabling extensions that interfere with the conversion of the
processed document (in json format) back to markdown. At the moment only one
extension is disabled.
</p>

<dl>
<dt><code>raw_attribute</code></dt><dd><p> This extension is disabled. Some of the output
functions write raw markdown blocks. This extension only recognises html
and tex raw blocks. Raw markdown blocks are ignored when converting to
other formats. </p>
</dd>
</dl>



<h3>Value</h3>

<p>Returns a character vector of the form <code>"+extension1-extension2"</code> with
the extensions that are to be enabled (<code>+</code>) or disables (<code>-</code>).
The function calls <code>pandoc</code> to check which extensions are available.
</p>

<hr>
<h2 id='markdown_block'>Return a code block object that can be included in the pandoc parse tree</h2><span id='topic+markdown_block'></span>

<h3>Description</h3>

<p>Return a code block object that can be included in the pandoc parse tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>markdown_block(content, language, id = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="markdown_block_+3A_content">content</code></td>
<td>
<p>a character vector containing the code</p>
</td></tr>
<tr><td><code id="markdown_block_+3A_language">language</code></td>
<td>
<p>language of the code in the code block</p>
</td></tr>
<tr><td><code id="markdown_block_+3A_id">id</code></td>
<td>
<p>optional id of the code block</p>
</td></tr>
<tr><td><code id="markdown_block_+3A_...">...</code></td>
<td>
<p>additional arguments should be named. These are added to the
markdown block as additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>list</code> with the correct structure for a code block in
the pandoc parse tree.
</p>

<hr>
<h2 id='md_figure'>Generate a figure and generate the markdown to include the figure</h2><span id='topic+md_figure'></span>

<h3>Description</h3>

<p>Will evaluate the expressions in <code>expr</code> and capture the output on the
given plotting device in the given file. It will then generate the markdown
needed to include that figure in a markdown document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>md_figure(
  expr,
  name,
  caption = "",
  id = "",
  dir = file.path(Sys.getenv("MDOUTDIR", "."), "figures"),
  device = c("png", "pdf"),
  ...,
  as_character = FALSE,
  echo = FALSE,
  results = FALSE,
  formatter = getOption("md_formatter", default = format_traditional),
  capture_warnings = FALSE,
  capture_messages = results,
  muffle_warnings = FALSE,
  muffle_messages = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="md_figure_+3A_expr">expr</code></td>
<td>
<p>the expressions to evaluate. Will generally contain plotting
commands. The expressions are evaluated in the global environment.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_name">name</code></td>
<td>
<p>the name of the figure.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_caption">caption</code></td>
<td>
<p>text of the caption. When omitted no caption is added to the
figure.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_id">id</code></td>
<td>
<p>id of the figure. When omitted or equal to NULL or an empty
character, no id is added to the figure.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_dir">dir</code></td>
<td>
<p>name of the directory in which to store the file.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_device">device</code></td>
<td>
<p>the graphics device to use for creating the image.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_...">...</code></td>
<td>
<p>passed on to the graphics device.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_as_character">as_character</code></td>
<td>
<p>return the figure as a character vector. If <code>FALSE</code>
the figure will be written to the standard output.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_echo">echo</code></td>
<td>
<p>the code in <code>code</code> is repeated in the output.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_results">results</code></td>
<td>
<p>include the results of running the code in the output. The
output of code that explicitly writes to standard output is always
included.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_formatter">formatter</code></td>
<td>
<p>function that will format the R-code and resulting output
(if requested). See <code><a href="#topic+format_traditional">format_traditional</a></code> for possible options.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_capture_warnings">capture_warnings</code></td>
<td>
<p>include warnings in the output.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_capture_messages">capture_messages</code></td>
<td>
<p>include messages in the output.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_muffle_warnings">muffle_warnings</code></td>
<td>
<p>do not show warnings in the console.</p>
</td></tr>
<tr><td><code id="md_figure_+3A_muffle_messages">muffle_messages</code></td>
<td>
<p>do not show messages in the console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The image is stored in the file <code>dir/name.device</code>.
</p>


<h3>Value</h3>

<p>When <code>as_character = FALSE</code> a character vector with the markdown needed
to include the generated figure in a markdown file is returned. Otherwise,
nothing is returned; the markdown is written to the console.
</p>

<hr>
<h2 id='md_table'>Generate a markdown table from a data.frame</h2><span id='topic+md_table'></span>

<h3>Description</h3>

<p>Generate a markdown table from a data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>md_table(tab, caption, as_character = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="md_table_+3A_tab">tab</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="md_table_+3A_caption">caption</code></td>
<td>
<p>text of the caption. When omitted no caption is added to the
table.</p>
</td></tr>
<tr><td><code id="md_table_+3A_as_character">as_character</code></td>
<td>
<p>return the table as a character vector. If <code>FALSE</code>
the table will be written to the standard output.</p>
</td></tr>
<tr><td><code id="md_table_+3A_...">...</code></td>
<td>
<p>unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Then <code>as_character = FALSE</code> a character vector with the markdown
containing the table is returned.  Otherwise,
nothing is returned; the markdown is then written to the console.
</p>

<hr>
<h2 id='mdtangle'>Extract code from the code blocks in a markdown file</h2><span id='topic+mdtangle'></span>

<h3>Description</h3>

<p>Extract code from the code blocks in a markdown file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mdtangle(
  fn,
  ofn = file_subs_ext(basename(fn), ".R"),
  extra_arguments = "",
  cmd = "pandoc %3$s -s \"%1$s\" -t json -o \"%2$s\"",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mdtangle_+3A_fn">fn</code></td>
<td>
<p>filename of the markdown file (should use pandoc markdown).</p>
</td></tr>
<tr><td><code id="mdtangle_+3A_ofn">ofn</code></td>
<td>
<p>name of the resulting R-script</p>
</td></tr>
<tr><td><code id="mdtangle_+3A_extra_arguments">extra_arguments</code></td>
<td>
<p>extra arguments passed on to pandoc. Should be a length 1
character vector.</p>
</td></tr>
<tr><td><code id="mdtangle_+3A_cmd">cmd</code></td>
<td>
<p>command used to run pandoc. See details.</p>
</td></tr>
<tr><td><code id="mdtangle_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>mdtangle</code> calls pandoc. Pandoc will parse the markdown document and
write the parsed file to temporary file. This file is read by
<code>mdtangle</code> and the code is extracted from it and written to <code>ofn</code>.
</p>
<p>Using the <code>cmd</code> argument the exact command used to run pandoc can be
modified. It is passed on to <code><a href="base.html#topic+sprintf">sprintf</a></code> and uses positional
arguments: (1) name of the input file, (2) location of the temporary file
to which the parsed document is written, (3) the value of
<code>extra_arguments</code>.
</p>


<h3>Value</h3>

<p>Returns the filename of the generated file.
</p>

<hr>
<h2 id='mdweave'>Run the code in a markdown file and generate a new markdown file</h2><span id='topic+mdweave'></span>

<h3>Description</h3>

<p>Run the code in a markdown file and generate a new markdown file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mdweave(
  fn,
  ofn = file_subs_ext(basename(fn), ".md", FALSE),
  cmd1 = "pandoc -s \"%1$s\" -t json -o \"%2$s\"",
  cmd2 = "pandoc -s \"%1$s\" -t markdown%3$s -o \"%2$s\"",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mdweave_+3A_fn">fn</code></td>
<td>
<p>filename of the markdown file (should use pandoc markdown).</p>
</td></tr>
<tr><td><code id="mdweave_+3A_ofn">ofn</code></td>
<td>
<p>name of the resulting markdown file.</p>
</td></tr>
<tr><td><code id="mdweave_+3A_cmd1">cmd1</code></td>
<td>
<p>command used to run pandoc. See details.</p>
</td></tr>
<tr><td><code id="mdweave_+3A_cmd2">cmd2</code></td>
<td>
<p>command used to run pandoc. See details.</p>
</td></tr>
<tr><td><code id="mdweave_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>mdweave</code> calls pandoc twice. In the first call the markdown file is
parsed by pandoc and the parse tree is written to a temporary file. This
parse tree is the read by mdweave and any R-code in the tree is executed
resulting in a modified parse tree. This file is then stored to a new
temporary file. Pandoc is the called a second time to convert the new
parse tree to a markdown file.
</p>
<p>The arguments <code>cmd1</code> and <code>cmd2</code> contain the calls used to run
pandoc. The arguments can be used to, for example pas additional arguments
to pandoc. They use positional arguments. In <code>cmd1</code>, the first argument
(<code>%1$s</code>) is the input file name and the second (<code>%2$s</code>) the
temporary file containing the parsed tree. In <code>cmd2</code>, the first argument
is the temporary file with the modified parse tree and the second argument
the output file.
</p>
<p><code>cmd2</code> also has a third argument (<code>%3$s</code>) that contains a list of
extensions that are enabled or disabled. This is because some extensions
interfere with the conversion of the parsed tree to markdown. See
<code><a href="#topic+get_extensions">get_extensions</a></code> to see which extensions are disabled.
</p>


<h3>Value</h3>

<p>Returns the file name of the file generated (<code>ofn</code>). Called mainly for the
side effect of parsing and generating a markdown file (and possibly secondary
files such as figures).
</p>

<hr>
<h2 id='mdweave_to_pdf'>Run the code in a markdown file and generate a new document</h2><span id='topic+mdweave_to_pdf'></span><span id='topic+mdweave_to_tex'></span><span id='topic+mdweave_to_html'></span>

<h3>Description</h3>

<p>Run the code in a markdown file and generate a new document
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mdweave_to_pdf(
  fn,
  ofn = file_subs_ext(basename(fn), ".pdf", FALSE),
  extra_arguments2 = "--self-contained",
  run_in_temp = TRUE,
  cmd2 = "pandoc %3$s -s \"%1$s\" -t latex -o \"%2$s\"",
  ...
)

mdweave_to_tex(
  fn,
  ofn = file_subs_ext(basename(fn), ".tex", FALSE),
  extra_arguments2 = "--self-contained",
  run_in_temp = TRUE,
  cmd2 = "pandoc %3$s -s \"%1$s\" -t latex -o \"%2$s\"",
  ...
)

mdweave_to_html(
  fn,
  ofn = file_subs_ext(basename(fn), ".html", FALSE),
  extra_arguments2 = "--self-contained",
  run_in_temp = TRUE,
  cmd2 = "pandoc %3$s -s \"%1$s\" -t html -o \"%2$s\"",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mdweave_to_pdf_+3A_fn">fn</code></td>
<td>
<p>filename of the markdown file (should use pandoc markdown).</p>
</td></tr>
<tr><td><code id="mdweave_to_pdf_+3A_ofn">ofn</code></td>
<td>
<p>name of the resulting file.</p>
</td></tr>
<tr><td><code id="mdweave_to_pdf_+3A_extra_arguments2">extra_arguments2</code></td>
<td>
<p>extra arguments passed on to pandoc. Should be a length 1
character vector.</p>
</td></tr>
<tr><td><code id="mdweave_to_pdf_+3A_run_in_temp">run_in_temp</code></td>
<td>
<p>When TRUE the intermediary markdown file and generated figures (when
not using custom paths) are created in a temporary directory. Otherwise these will be
generated in the same directory as the output file.</p>
</td></tr>
<tr><td><code id="mdweave_to_pdf_+3A_cmd2">cmd2</code></td>
<td>
<p>command used to run pandoc. See details.</p>
</td></tr>
<tr><td><code id="mdweave_to_pdf_+3A_...">...</code></td>
<td>
<p>additional arguments are passed on to <code><a href="#topic+mdweave">mdweave</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions first call <code><a href="#topic+mdweave">mdweave</a></code> to run the code in the original
file and convert the original markdown file to a new markdown file. This second
markdown file is then converted to the desired output format using a second run
of <code>pandoc</code>.
</p>
<p>In case of converting to pdf the file is required to have the extension
<code>.pdf</code>. In case of converting to LaTeX, the file cannot have the extension
<code>.pdf</code>. That is because in both cases the file is first converted to
LaTeX. In case of a file with the extension <code>.pdf</code> the file is than
further converted to PDF.
</p>


<h3>Value</h3>

<p>Returns the name of the resulting outout file.
</p>

<hr>
<h2 id='output_table'>Output filters for code blocks in markdown</h2><span id='topic+output_table'></span><span id='topic+output_figure'></span><span id='topic+output_eval'></span><span id='topic+output_raw'></span><span id='topic+output_str'></span><span id='topic+output_shell'></span>

<h3>Description</h3>

<p>Output filters for code blocks in markdown
</p>


<h3>Usage</h3>

<pre><code class='language-R'>output_table(code, language = "R", id = "", ...)

output_figure(code, language = "R", id = "", ...)

output_eval(
  code,
  language = "R",
  id = "",
  echo = TRUE,
  results = TRUE,
  drop_empty = TRUE,
  eval = TRUE,
  formatter = getOption("md_formatter", default = format_traditional),
  capture_warnings = FALSE,
  capture_messages = results,
  muffle_warnings = FALSE,
  muffle_messages = TRUE,
  ...
)

output_raw(code, language = "R", id = "", ...)

output_str(code, language = "R", id = "", ...)

output_shell(
  code,
  language,
  id = "",
  cmd = language,
  echo = TRUE,
  results = TRUE,
  comment_char = "# ",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="output_table_+3A_code">code</code></td>
<td>
<p>character vector containing the code of the code block</p>
</td></tr>
<tr><td><code id="output_table_+3A_language">language</code></td>
<td>
<p>the language in which the code is written (as specified in
the markdown file).</p>
</td></tr>
<tr><td><code id="output_table_+3A_id">id</code></td>
<td>
<p>the identifier of the code block.</p>
</td></tr>
<tr><td><code id="output_table_+3A_...">...</code></td>
<td>
<p>additional arguments specified as arguments in the code block are
passed on to the filter function. Often these are ignored, or they are
passed on to other functions (see 'Details').</p>
</td></tr>
<tr><td><code id="output_table_+3A_echo">echo</code></td>
<td>
<p>the code in <code>code</code> is repeated in the output.</p>
</td></tr>
<tr><td><code id="output_table_+3A_results">results</code></td>
<td>
<p>include the results of running the code in the output. The
output of code that explicitly writes to standard output is always
included.</p>
</td></tr>
<tr><td><code id="output_table_+3A_drop_empty">drop_empty</code></td>
<td>
<p>do not include any output if the resulting code block
would be empty.</p>
</td></tr>
<tr><td><code id="output_table_+3A_eval">eval</code></td>
<td>
<p>if FALSE do not run the code and just include the code in the
output.</p>
</td></tr>
<tr><td><code id="output_table_+3A_formatter">formatter</code></td>
<td>
<p>function that will format the R-code and resulting output
(if requested). See <code><a href="#topic+format_traditional">format_traditional</a></code> for possible options.</p>
</td></tr>
<tr><td><code id="output_table_+3A_capture_warnings">capture_warnings</code></td>
<td>
<p>include warnings in the output.</p>
</td></tr>
<tr><td><code id="output_table_+3A_capture_messages">capture_messages</code></td>
<td>
<p>include messages in the output.</p>
</td></tr>
<tr><td><code id="output_table_+3A_muffle_warnings">muffle_warnings</code></td>
<td>
<p>do not show warnings in the console.</p>
</td></tr>
<tr><td><code id="output_table_+3A_muffle_messages">muffle_messages</code></td>
<td>
<p>do not show messages in the console.</p>
</td></tr>
<tr><td><code id="output_table_+3A_cmd">cmd</code></td>
<td>
<p>the command to use in the <code><a href="base.html#topic+system2">system2</a></code> call. Only needed
when different than the language.</p>
</td></tr>
<tr><td><code id="output_table_+3A_comment_char">comment_char</code></td>
<td>
<p>string prepended to output of commands run by
<code>output_shell</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The filter functions <code>output_table</code> and <code>output_figure</code> call
<code><a href="#topic+md_table">md_table</a></code> and <code><a href="#topic+md_figure">md_figure</a></code> respectively; additional
arguments are passed on to those functions. Other filter functions ignore the
additional arguments.
</p>
<p>It is also possible to write custom output filter. An output filter should have
<code>code</code>, <code>language</code> and <code>id</code> as its first three arguments. It
should either return a character vector containing the markdown that should be
included in the resulting markdown file or an object that can be directly
included in the pandoc parse tree. If the function does not return a character
vector it is assumed the latter is returned. <code>simplermarkdown</code> defines a
small number of valid object constructors: <code><a href="#topic+raw_block">raw_block</a></code> and
<code><a href="#topic+markdown_block">markdown_block</a></code>.
</p>
<p>The custom function should be available when running the markdown document
through pandoc. The easiest way is to <code><a href="base.html#topic+source">source</a></code> or define the
function in the markdown document before using it.
</p>
<p>The filter function <code>output_shell</code> can be used to process chunks of code
from other languages than R. These chunks of code are written to a temporary
file which is then ran using the <code>cmd</code> using a call to
<code><a href="base.html#topic+system2">system2</a></code>. The output of that is captured and when <code>results
= TRUE</code> included in the output. The output lines are prepended by
<code>comment_char</code>. When <code>echo = TRUE</code> the code is also included before
the output.
</p>


<h3>Value</h3>

<p>The functions either return a character vector with markdown,
or return a list with the correct structure to include in the pandoc parse
tree.
</p>

<hr>
<h2 id='raw_block'>Return a raw chunk of text that can be included in the pandoc parse tree</h2><span id='topic+raw_block'></span>

<h3>Description</h3>

<p>Return a raw chunk of text that can be included in the pandoc parse tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raw_block(content, language = "markdown")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="raw_block_+3A_content">content</code></td>
<td>
<p>a character vector containing the content to include
in the final document.</p>
</td></tr>
<tr><td><code id="raw_block_+3A_language">language</code></td>
<td>
<p>language of the content</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A raw block is included as is into the final markdown document. This can
be used for example to include raw chunks of markdown.
</p>


<h3>Value</h3>

<p>Returns a <code>list</code> with the correct structure for a <code>RawBlock</code> in
the pandoc parse tree.
</p>

<hr>
<h2 id='run_and_capture'>Run code and capture the output</h2><span id='topic+run_and_capture'></span>

<h3>Description</h3>

<p>Run code and capture the output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_and_capture(
  code,
  echo = TRUE,
  results = TRUE,
  output = results,
  capture_warnings = FALSE,
  capture_messages = results,
  muffle_warnings = FALSE,
  muffle_messages = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_and_capture_+3A_code">code</code></td>
<td>
<p>character vector or expression with the code to run</p>
</td></tr>
<tr><td><code id="run_and_capture_+3A_echo">echo</code></td>
<td>
<p>the code in <code>code</code> is repeated in the output.</p>
</td></tr>
<tr><td><code id="run_and_capture_+3A_results">results</code></td>
<td>
<p>include the results of running the code in the output.</p>
</td></tr>
<tr><td><code id="run_and_capture_+3A_output">output</code></td>
<td>
<p>include output that is explicitly written to the output, for
example using <code>print</code> statements.</p>
</td></tr>
<tr><td><code id="run_and_capture_+3A_capture_warnings">capture_warnings</code></td>
<td>
<p>include warnings in the output.</p>
</td></tr>
<tr><td><code id="run_and_capture_+3A_capture_messages">capture_messages</code></td>
<td>
<p>include messages in the output.</p>
</td></tr>
<tr><td><code id="run_and_capture_+3A_muffle_warnings">muffle_warnings</code></td>
<td>
<p>do not show warnings in the console.</p>
</td></tr>
<tr><td><code id="run_and_capture_+3A_muffle_messages">muffle_messages</code></td>
<td>
<p>do not show messages in the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list. Each item of the list contains a list with elements
<code>input</code> and <code>output</code>. <code>input</code> contains the command/code and
<code>output</code> the corresponding output. These are empty vectors when there is
no output or when input and output are suppressed using one of the
<code>echo</code>/<code>results</code>/<code>output</code> statements.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package pcnetmeta</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pcnetmeta}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pcnetmeta-package'>
<p>Patient-Centered Network Meta-Analysis</p></a></li>
<li><a href='#absolute.plot'>
<p>Plotting Treatment-Specific 95% Credible Intervals</p></a></li>
<li><a href='#contrast.plot'>
<p>Contrast Plot of Relative Effect Measures</p></a></li>
<li><a href='#diabetes'>
<p>Network Meta-Ananlysis on Diabetes</p></a></li>
<li><a href='#dietaryfat'>
<p>Network Meta-Ananlysis on Dietary Fat</p></a></li>
<li><a href='#nma.ab.bin'>
<p>Arm-Based Network Meta-Analysis for Binary Outcomes</p></a></li>
<li><a href='#nma.ab.cont'>
<p>Arm-Based Network Meta-Analysis for Continuous Outcomes</p></a></li>
<li><a href='#nma.ab.followup'>
<p>Arm-Based Network Meta-Analysis for Binary Outcomes with Follow-Up Times Reported</p></a></li>
<li><a href='#nma.ab.py'>
<p>Arm-Based Network Meta-Analysis for Count Datasets with Exposure Time in Person-Years Reported</p></a></li>
<li><a href='#nma.networkplot'>
<p>Plotting Treatment Network</p></a></li>
<li><a href='#parkinson'>
<p>Network Meta-Ananlysis on Parkinson's Disease</p></a></li>
<li><a href='#rank.prob'>
<p>Plotting Treatment Rank Probabilities</p></a></li>
<li><a href='#smoke'>
<p>Network Meta-Analysis on Smoking Cessation Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Patient-Centered Network Meta-Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>2.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-08-29</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lifeng Lin &lt;lifenglin@arizona.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.14.0), rjags (&ge; 4-6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>coda, grDevices, methods</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>JAGS 4.x.y (http://mcmc-jags.sourceforge.net)</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs Bayesian arm-based network meta-analysis for datasets with binary, continuous, and count outcomes
 (Zhang et al., 2014 &lt;<a href="https://doi.org/10.1177%2F1740774513498322">doi:10.1177/1740774513498322</a>&gt;;
  Lin et al., 2017 &lt;<a href="https://doi.org/10.18637%2Fjss.v080.i05">doi:10.18637/jss.v080.i05</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-29 20:44:12 UTC; lifen</td>
</tr>
<tr>
<td>Author:</td>
<td>Lifeng Lin <a href="https://orcid.org/0000-0002-3562-9816"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Jing Zhang [aut],
  Haitao Chu <a href="https://orcid.org/0000-0003-0932-598X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-31 08:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pcnetmeta-package'>
Patient-Centered Network Meta-Analysis
</h2><span id='topic+pcnetmeta-package'></span><span id='topic+pcnetmeta'></span>

<h3>Description</h3>

<p>Provides functions to perform Bayesian arm-based network meta-analysis for datasets with binary, continuous, and count outcomes.
</p>


<h3>Details</h3>

<p>Much effort in the current literature of network meta-analysis has been devoted to contrast-based methods, which focus on modeling the relative treatment effects, such as log odds ratios. In some situations, patient-centered treatment-specific parameters, such as absolute risks, may be preferred. For example, when the outcome is binary, consider two scenarios comparing treatments A and B according to one-year survival rates: (i) <code class="reqn">\pi_{A} = 0.8</code> vs. <code class="reqn">\pi_{B} = 0.5</code> and (ii) <code class="reqn">\pi_{A} = 0.004</code> vs. <code class="reqn">\pi_{B} = 0.001</code>. Both scenarios yield an odds ratio of 4.0, but patients would prefer treatment A in scenario (i) more strongly than in scenario (ii). The contrast-based network meta-analysis requires external data sources or separate modeling to estimate treatment-specific parameters.
</p>
<p>Alternatively, the arm-based network meta-analysis focuses on estimating treatment-specific parameters, and relative effects can be subsequently obtained. The arm-based models for binary outcomes are discussed in Salanti et al. (2008) and Zhang et al. (2014).
</p>
<p>This package provides user-friendly functions for the arm-based network meta-analysis. The function <code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code> uses the model in Zhang et al. (2014) for binary outcomes; it provides estimates for the absolute risk (AR), risk ratio (RR), risk difference (RD), odds ratio (OR), log RR, log OR, as well as rank probabilities. This package also handles continuous outcomes and count data. A detailed instruction of using this package is provided in Lin et al. (2017).
</p>
<p>Parameter estimation in the arm-based Bayesian hierarchical models is performed through JAGS. Note that this package does not include a copy of JAGS library, so users must install JAGS separately. Please refer to the JAGS home page at <a href="http://mcmc-jags.sourceforge.net/">http://mcmc-jags.sourceforge.net/</a> for instructions on downloading and installing JAGS.
</p>


<h3>Author(s)</h3>

<p>Lifeng Lin, Jing Zhang, and Haitao Chu
</p>
<p>Maintainer: Lifeng Lin &lt;linl@stat.fsu.edu&gt;
</p>


<h3>References</h3>

<p>Dias S, Sutton AJ, Ades AE, Welton NJ (2013). &quot;Evidence synthesis for decision making 2: a generalized linear modeling framework for pairwise and network meta-analysis of randomized controlled trials.&quot; <em>Medical Decision Making</em>, <b>33</b>(5), 607&ndash;617. &lt;doi: <a href="https://doi.org/10.1177/0272989X12458724">10.1177/0272989X12458724</a>&gt;
</p>
<p>Lin L, Zhang J, Hodges JS, Chu H (2017). &quot;Performing arm-based network meta-analysis in R with the pcnetmeta package.&quot; <em>Journal of Statistical Software</em>, <b>80</b>(5), 1&ndash;25. &lt;doi: <a href="https://doi.org/10.18637/jss.v080.i05">10.18637/jss.v080.i05</a>&gt;
</p>
<p>Lu G, Ades AE (2004). &quot;Combination of direct and indirect evidence in mixed treatment comparisons.&quot; <em>Statistics in Medicine</em>, <b>23</b>(20), 3105&ndash;3124. &lt;doi: <a href="https://doi.org/10.1002/sim.1875">10.1002/sim.1875</a>&gt;
</p>
<p>Salanti G, Higgins JPT, Ades AE, Ioannidis JPA (2008). &quot;Evaluation of networks of randomized trials.&quot; <em>Statistical Methods in Medical Research</em> <b>17</b>(3), 279&ndash;301. &lt;doi: <a href="https://doi.org/10.1177/0962280207080643">10.1177/0962280207080643</a>&gt;
</p>
<p>Zhang J, Carlin BP, Neaton JD, Soon GG, Nie L, Kane R, Virnig BA, Chu H (2014). &quot;Network meta-analysis of randomized clinical trials: Reporting the proper summaries.&quot; <em>Clinical Trials</em>, <b>11</b>(2), 246&ndash;262. &lt;doi: <a href="https://doi.org/10.1177/1740774513498322">10.1177/1740774513498322</a>&gt;
</p>

<hr>
<h2 id='absolute.plot'>
Plotting Treatment-Specific 95% Credible Intervals
</h2><span id='topic+absolute.plot'></span>

<h3>Description</h3>

<p>Generates a plot of 95% credible intervals (CIs) for the treatment-specific effect sizes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>absolute.plot(nma.obj, alphabetic = TRUE, digits = 2,
              save = TRUE, width = 5, height, network.name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="absolute.plot_+3A_nma.obj">nma.obj</code></td>
<td>

<p>a list object obtained by function <code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>, <code><a href="#topic+nma.ab.cont">nma.ab.cont</a></code>, <code><a href="#topic+nma.ab.py">nma.ab.py</a></code>, or <code><a href="#topic+nma.ab.followup">nma.ab.followup</a></code>.
</p>
</td></tr>
<tr><td><code id="absolute.plot_+3A_alphabetic">alphabetic</code></td>
<td>

<p>a logical value indicating whether to sort the CIs according to treatment names alphabetically. The default is <code>TRUE</code>. If <code>FALSE</code>, the CIs are plotted in the order of treatment IDs specified in <code>nma.obj</code>.
</p>
</td></tr>
<tr><td><code id="absolute.plot_+3A_digits">digits</code></td>
<td>

<p>an integer specifying the number of decimal places to be used for the point estimates and 95% CIs. The default is 2.
</p>
</td></tr>
<tr><td><code id="absolute.plot_+3A_save">save</code></td>
<td>

<p>a logical value indicating whether to save the plot as a .pdf file. If <code>FALSE</code>, a plot window will be displayed. The following arguments are only used when <code>save</code> = <code>TRUE</code>.
</p>
</td></tr>
<tr><td><code id="absolute.plot_+3A_width">width</code></td>
<td>

<p>a positive number specifying the plot width. The default is 5.
</p>
</td></tr>
<tr><td><code id="absolute.plot_+3A_height">height</code></td>
<td>

<p>a positive number specifying the plot height. The default is the treatment number minus 1.
</p>
</td></tr>
<tr><td><code id="absolute.plot_+3A_network.name">network.name</code></td>
<td>

<p>a character string indicating the network name to be used for the produced .pdf file name.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("smoke")
# increase n.iter to reach convergence
set.seed(1234)
nma.out &lt;- nma.ab.bin(s.id, t.id, r, n, data = smoke,
  trtname = c("NC", "SH", "IC", "GC"), param= "AR",
  model = "het_cor", n.adapt = 1000, n.iter = 100, n.chains = 1)
absolute.plot(nma.out, save = FALSE)
#absolute.plot(nma.out)
absolute.plot(nma.out, alphabetic = FALSE, save = FALSE)
</code></pre>

<hr>
<h2 id='contrast.plot'>
Contrast Plot of Relative Effect Measures
</h2><span id='topic+contrast.plot'></span>

<h3>Description</h3>

<p>Generates a plot that shows 95% credible intervals (CIs) for relative effect measures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrast.plot(nma.obj, effect.measure, reference, digits = 2,
              save = TRUE, width = 5, height, network.name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contrast.plot_+3A_nma.obj">nma.obj</code></td>
<td>

<p>a list object obtained by function <code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>, <code><a href="#topic+nma.ab.cont">nma.ab.cont</a></code>, <code><a href="#topic+nma.ab.py">nma.ab.py</a></code>, or <code><a href="#topic+nma.ab.followup">nma.ab.followup</a></code>.
</p>
</td></tr>
<tr><td><code id="contrast.plot_+3A_effect.measure">effect.measure</code></td>
<td>

<p>a character string specifying the relative effect measure to be shown in the contrast plot. If <code>nma.obj</code> is obtained from <code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>, this argument can be <code>"OR"</code> (the default), <code>"LOR"</code>, <code>"RR"</code>, <code>"LRR"</code>, or <code>"RD"</code>; it can be also <code>"OR.med"</code> or <code>"LOR.med"</code> if they are specified in <code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code> with <code>link</code> = <code>"logit"</code>. If <code>nma.obj</code> is obtained from <code><a href="#topic+nma.ab.cont">nma.ab.cont</a></code>, this argument should be <code>"diff"</code> (the default). If <code>nma.obj</code> is obtained from <code><a href="#topic+nma.ab.py">nma.ab.py</a></code> or <code><a href="#topic+nma.ab.followup">nma.ab.followup</a></code>, this argument can be <code>"ratio"</code> (the default) or <code>"logratio"</code>. Note that the specified effect measures (or its logarithm/exponential) must have been estimated in <code>nma.obj</code>.
</p>
</td></tr>
<tr><td><code id="contrast.plot_+3A_reference">reference</code></td>
<td>

<p>a character string specifying the reference treatment name to be compared against.
</p>
</td></tr>
<tr><td><code id="contrast.plot_+3A_digits">digits</code></td>
<td>

<p>an integer specifying the number of decimal places to be used for the point estimates and 95% CIs. The default is 2.
</p>
</td></tr>
<tr><td><code id="contrast.plot_+3A_save">save</code></td>
<td>

<p>a logical value indicating whether to save the plot as a .pdf file. If <code>FALSE</code>, a plot window will be displayed. The following arguments are only used when <code>save</code> = <code>TRUE</code>.
</p>
</td></tr>
<tr><td><code id="contrast.plot_+3A_width">width</code></td>
<td>

<p>a positive number specifying the plot width. The default is 5.
</p>
</td></tr>
<tr><td><code id="contrast.plot_+3A_height">height</code></td>
<td>

<p>a positive number specifying the plot height. The default is the treatment number minus 1.
</p>
</td></tr>
<tr><td><code id="contrast.plot_+3A_network.name">network.name</code></td>
<td>

<p>a character string indicating the network name to be used for the produced .pdf file name.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("smoke")
# increase n.iter to reach convergence
set.seed(1234)
nma.out &lt;- nma.ab.bin(s.id, t.id, r, n, data = smoke,
  trtname = c("NC", "SH", "IC", "GC"), param = "LOR",
  model = "het_cor", n.adapt = 1000, n.iter = 100, n.chains = 1)
contrast.plot(nma.out, save = FALSE)
#contrast.plot(nma.out)
</code></pre>

<hr>
<h2 id='diabetes'>
Network Meta-Ananlysis on Diabetes
</h2><span id='topic+diabetes'></span>

<h3>Description</h3>

<p>An example of network meta-analysis for binary outcomes with follow-up times reported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("diabetes")</code></pre>


<h3>Format</h3>

<p>A data frame containing 22 studies which compare a total of 6 treatments. The outcome is binary; the mean follow-up time in each study is collected.
</p>

<dl>
<dt><code>s.id</code></dt><dd><p>a numeric vector of study IDs.</p>
</dd>
<dt><code>folup</code></dt><dd><p>a numeric vector of follow-up time (in years) for each study.</p>
</dd>
<dt><code>t.id</code></dt><dd><p>a numeric vector of treatment IDs.</p>
</dd>
<dt><code>r</code></dt><dd><p>a numeric vector of the total mortality in each treatment group in each study.</p>
</dd>
<dt><code>n</code></dt><dd><p>a numeric vector of the total number of participants in each treatment group in each study.</p>
</dd>
</dl>



<h3>Details</h3>

<p>This network meta-analysis is reported by Elliott and Meyer (2007) to assess the effects of anti-hypertensive agents on incident diabetes. Treatment IDs represent 1) diuretic; 2) placebo; 3) <code class="reqn">\beta</code>-blocker; 4) calcium-channel blocker (CCB); 5) angiotensin-converting-enzyme (ACE) inhibitor; and 6) angiotensin-receptor blocker (ARB).
</p>


<h3>Source</h3>

<p>Elliott WJ, Meyer PM (2007). &quot;Incident diabetes in clinical trials of antihypertensive drugs: a network meta-analysis.&quot; <em>Lancet</em>, <b>369</b>(9557), 201&ndash;207. &lt;doi: <a href="https://doi.org/10.1016/S0140-6736(07)60108-1">10.1016/S0140-6736(07)60108-1</a>&gt;
</p>

<hr>
<h2 id='dietaryfat'>
Network Meta-Ananlysis on Dietary Fat
</h2><span id='topic+dietaryfat'></span>

<h3>Description</h3>

<p>An example of network meta-analysis for binary outcomes with exposure times in person-years reported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("dietaryfat")</code></pre>


<h3>Format</h3>

<p>A data frame containing 10 studies which compare 2 treatments. The total number of person-years at risk are reported for each treatment group in each study.
</p>

<dl>
<dt><code>s.id</code></dt><dd><p>a numeric vector of study IDs.</p>
</dd>
<dt><code>t.id</code></dt><dd><p>a numeric vector of treatment IDs.</p>
</dd>
<dt><code>py</code></dt><dd><p>a numeric vector of the total person-years in each treatment group in each study.</p>
</dd>
<dt><code>r</code></dt><dd><p>a numeric vector of the total mortality in each treatment group in each study.</p>
</dd>
<dt><code>n</code></dt><dd><p>a numeric vector of the total number of participants in each treatment group in each study.</p>
</dd>
</dl>



<h3>Details</h3>

<p>This network meta-analysis is reported by Hooper et al. (2000) to assess the effects of change in dietary fats on cardiovascular mortality. Treatment 1 is a control diet and treatment 2 is a reduced fat diet. Originally, study 2 compares three treatments, which include treatments 1 and 2, and another diet. Here, we treat these two different types of diet as the same treatment, but keep the treatment arms separate.
</p>


<h3>Source</h3>

<p>Hooper L, Summerbell CD, Higgins JPT, Thompson RL, Clements G, Capps N, Davey Smith G, Riemersma R, Ebrahim S (2000). &quot;Reduced or modified dietary fat for preventing cardiovascular disease.&quot; <em>The Cochrane Database of Systematic Reviews</em>, <b>2</b>, Art. No.: CD002137. &lt;doi: <a href="https://doi.org/10.1002/14651858.CD002137">10.1002/14651858.CD002137</a>&gt;
</p>

<hr>
<h2 id='nma.ab.bin'>
Arm-Based Network Meta-Analysis for Binary Outcomes
</h2><span id='topic+nma.ab.bin'></span>

<h3>Description</h3>

<p>Performs the arm-based network meta-analysis proposed by Zhang et al. (2014), including estimating the absolute risk (AR), risk difference (RD), odds ratio (OR), risk ratio (RR), log odds ratio (LOR), and log risk ratio (LRR).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nma.ab.bin(s.id, t.id, event.n, total.n, data, trtname,
           param = c("AR", "LOR", "LRR", "RD", "rank.prob"),
           model = "het_cor", link = "probit",
           prior.type, a = 0.001, b = 0.001, c = 10,
           higher.better = FALSE, digits = 4, n.adapt = 5000,
           n.iter = 100000, n.burnin = floor(n.iter/2), n.chains = 3,
           n.thin = max(1, floor((n.iter - n.burnin)/100000)),
           conv.diag = FALSE, trace = NULL, dic = FALSE, postdens = FALSE,
           mcmc.samples = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nma.ab.bin_+3A_s.id">s.id</code></td>
<td>

<p>a numeric or character vector specifying study ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_t.id">t.id</code></td>
<td>

<p>a numeric or character vector specifying treatment ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_event.n">event.n</code></td>
<td>

<p>a numeric vector of non-negative integers, specifying event number for a certain treatment in the corresponding study, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_total.n">total.n</code></td>
<td>

<p>a numeric vector of positive integers, specifying total number of participants for a certain treatment in the corresponding study, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_data">data</code></td>
<td>

<p>an optional data frame containing the dataset for network meta-analysis. If <code>data</code> is specified, the previous arguments, <code>s.id</code>, <code>t.id</code>, <code>event.n</code>, and <code>total.n</code>, should be specified as the corresponding column names in <code>data</code>; otherwise, the previous arguments use environment variables.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_trtname">trtname</code></td>
<td>

<p>a vector of character strings specifying the treatment names for the corresponding treatment IDs according to their order in <code>t.id</code>. If not specified, <code>t.id</code> is used as treatment names.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_param">param</code></td>
<td>

<p>a vector of character strings specifying the effect measures to be estimated. The default includes <code>"AR"</code> (absolute risk), <code>"LOR"</code> (log odds ratio), <code>"LRR"</code> (log risk ratio), <code>"RD"</code> (risk difference), <code>"rank.prob"</code> (treatment rank probability). <code>"AR"</code> is automatically added into <code>param</code> even if it is not specified. In addition to the default measures, <code>"OR"</code> (odds ratio) and <code>"RR"</code> (risk ratio) can be added into <code>param</code>. If the logit link is used (<code>link</code> = <code>"logit"</code>), <code>"OR.med"</code> (overall median odds ratio), <code>"LOR.med"</code> (overall median log odds ratio), and <code>"rank.prob.med"</code> (treatment rank probability based on overall median odds ratio) can be also added; see &quot;Details&quot;. If <code>model</code> is <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>, <code>param</code> can also include <code>"\rho"</code> (the common correlation coefficient between treatments).
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_model">model</code></td>
<td>

<p>a character string specifying which Bayesian hierarchical model to be applied in the arm-based network meta-analysis. This argument can be set as <code>"hom_eqcor"</code>, <code>"het_eqcor"</code>, or <code>"het_cor"</code> (the default). See &quot;Details&quot; for the models.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_link">link</code></td>
<td>

<p>a character string specifying the link function in the Bayesian hierarchical model for binary outcomes. It can be either <code>"probit"</code> (the default) or <code>"logit"</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_prior.type">prior.type</code></td>
<td>

<p>prior distribution of variances and/or covariances of random effects. If <code>model</code> is <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>, it can be set as <code>"unif"</code> (uniform prior for standard deviations, the default) or <code>"invgamma"</code> (inverse gamma prior for variances). If <code>model</code> is <code>"het_cor"</code>, <code>prior.type</code> can be <code>"invwishart"</code> (the default) or <code>"chol"</code>. Specifying <code>"invwishart"</code> yields an inverse-Wishart prior for the variance-covariance matrix of random effects; by specifying <code>"chol"</code>, non-informative priors are assigned to variance and correlation components using the separation strategy by Cholesky decomposition. See &quot;Details&quot;.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_a">a</code>, <code id="nma.ab.bin_+3A_b">b</code></td>
<td>

<p>positive numbers, specifying the shape and scale parameters of inverse gamma priors for variance(s) of random effects if using <code>prior.type</code> as <code>"invgamma"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default values for both parameters are 0.001.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_c">c</code></td>
<td>

<p>positive number, specifying the upper bound of uniform prior for standard deviation(s) of random effects if using <code>prior.type</code> as <code>"unif"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default is 10.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_higher.better">higher.better</code></td>
<td>

<p>an optional logical value which needs to be specified when estimating the treatment rank probabilities (i.e., <code>"rank.prob"</code> is included in the argument <code>param</code>). <code>TRUE</code> indicates that a higher event rate implies a better treatment, and vice versa. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_digits">digits</code></td>
<td>

<p>a positive integer specifying the digits after the decimal point for the effect measure estimates. The default is 4.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_n.adapt">n.adapt</code></td>
<td>

<p>the number of iterations for adaptation in Markov chain Monte Carlo (MCMC) algorithm. The default is 5,000. If a warning &quot;adaptation incomplete&quot; appears, users may increase <code>n.adapt</code>. This argument and the following <code>n.iter</code>, <code>n.burnin</code>, <code>n.chains</code>, and <code>n.thin</code> are passed to the functions in R package <span class="pkg">rjags</span>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_n.iter">n.iter</code></td>
<td>

<p>the total number of iterations in each MCMC chain. The default is 100,000.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_n.burnin">n.burnin</code></td>
<td>

<p>the number of iterations for burn-in period. The default is <code>n.iter/2</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_n.chains">n.chains</code></td>
<td>

<p>the number of MCMC chains. The default is 3.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_n.thin">n.thin</code></td>
<td>

<p>a positive integer specifying the thinning rate. The default is the thinning rate which yields no more than 100,000 iterations remaining in each chain.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_conv.diag">conv.diag</code></td>
<td>

<p>a logical value indicating whether to perform MCMC convergence diagnostic. The default is <code>FALSE</code>. If <code>TRUE</code>, <code>n.chains</code> must be greater than 1, and a .txt file, which contains the point estimates of the potential scale reduction factor and their upper confidence limits (see Gelman and Rubin 1992), will be written in users' current working directory.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_trace">trace</code></td>
<td>

<p>a vector of character strings of effect measures. The character strings should be selected from those specified in <code>param</code> (except <code>"rank.prob"</code>), and trace plots of the specified effect measures will be saved in users' current working directory. The default is not drawing trace plots (<code>NULL</code>).
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_dic">dic</code></td>
<td>

<p>a logical value indicating whether to calculate the deviance information criterion (DIC) value. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_postdens">postdens</code></td>
<td>

<p>a logical value indicating whether to draw the posterior density plots for treatment-specific absolue risks (ARs). If <code>TRUE</code>, a .pdf file containing the density plot will be saved in users' current working directory. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.bin_+3A_mcmc.samples">mcmc.samples</code></td>
<td>

<p>a logical value indicating whether to save MCMC posterior samples in the output object. The default is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Suppose that a network meta-analysis collects <code class="reqn">I</code> studies on <code class="reqn">K</code> treatments, where each study investigates a subset of the <code class="reqn">K</code> treatments. Label the studies from <code class="reqn">i = 1</code> to <code class="reqn">I</code> and the treatments from <code class="reqn">k = 1</code> to <code class="reqn">K</code>. Let <code class="reqn">T_{i}</code> be the subset of the <code class="reqn">K</code> treatments that is compared in the <code class="reqn">i</code>th study. Also, in the <code class="reqn">i</code>th study, let <code class="reqn">n_{ik}</code> be the number of participants allocated to treatment group <code class="reqn">k</code> (<code class="reqn">k \in T_{i}</code>), and <code class="reqn">y_{ik}</code> be the number of events. The arm-based model is constructed as (Zhang et al. 2014):
</p>
<p style="text-align: center;"><code class="reqn">y_{ik} \sim Bin (n_{ik}, p_{ik}) \qquad k \in T_{i};</code>
</p>

<p style="text-align: center;"><code class="reqn">\Phi^{-1} (p_{ik}) = \mu_{k} + \nu_{ik};</code>
</p>

<p style="text-align: center;"><code class="reqn">(\nu_{i1}, \nu_{i2}, \ldots, \nu_{iK})^{T} \sim N (\boldsymbol{0}, \mathbf{\Sigma}_{K}),</code>
</p>

<p>where <code class="reqn">\Phi (\cdot)</code> is the standard normal cumulative distribution function, and <code class="reqn">\mathbf{\Sigma}_{K}</code> is a <code class="reqn">K \times K</code> positive definite covariance matrix. The <code class="reqn">\mu_{k}</code>'s are treatment-specific fixed effects, and the random effects <code class="reqn">\nu_{ik}</code> are correlated within each study with the covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code>. The marginal absolute risk of treatment <code class="reqn">k</code> is <code class="reqn">p_{k} = E[p_{ik}]</code>; other effect measures are calculated based on these absolute risks.
</p>
<p>An unstructured covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code> in the model above corresponds to <code>model</code> = <code>"het_cor"</code>. The inverse-Wishart prior can be assigned to <code class="reqn">\mathbf{\Sigma}_{K}</code>. Alternatively, using the separation strategy by Cholesky decomposition (<code>prior.type</code> = <code>"chol"</code>), uniform priors <code class="reqn">U(0, c)</code> are assigned to the standard deviations in <code class="reqn">\mathbf{\Sigma}_{K}</code> and non-informative priors are assigned to the correlation components (Barnard et al., 2000; Lu and Ades, 2009; Wei and Higgins, 2013; Lin and Chu, 2018). Denote <code class="reqn">\sigma_{k}</code> as the standard deviation of <code class="reqn">\nu_{ik}</code> and <code class="reqn">\mathbf{D} = diag(\sigma_{1}, \ldots, \sigma_{K})</code>, then the correlation matrix is <code class="reqn">\mathbf{R}_{K} = \mathbf{D}^{-1} \mathbf{\Sigma}_{K} \mathbf{D}^{-1}</code>.  If we assume that all of the off-diagonal elements in <code class="reqn">\mathbf{R}_{K}</code> are equal, say to <code class="reqn">\rho</code>, then this model corresponds to <code>model</code> = <code>"het_eqcor"</code>. If we further assume the homogeneity of variances of the random effects, that is, <code class="reqn">\sigma_{k} = \sigma</code> for <code class="reqn">k = 1, 2, \ldots, K</code>, then the model is <code>"hom_eqcor"</code>. In addition, for the models <code>"hom_eqcor"</code> and <code>"het_eqcor"</code>, setting <code>prior.type</code> as <code>"invgamma"</code> implies using inverse-gamma priors with shape and scale parameters, <code class="reqn">a</code> and <code class="reqn">b</code>, for <code class="reqn">\sigma_{k}^2</code> or <code class="reqn">\sigma^2</code>, and <code>"unif"</code> implies uniform priors <code class="reqn">U(0, c)</code> for <code class="reqn">\sigma_{k}</code> or <code class="reqn">\sigma</code>.
</p>
<p>In addition to the probit link as used in the model above, one may also use the logit link (Chu et al., 2012), which is adopted more commonly in contrast-based models. Using the logit link, <code class="reqn">\mu_k</code> represents the overall median log odds across studies; thus, <code class="reqn">\mu_k - \mu_h</code> is the overall median log odds ratio between treatments <code class="reqn">h</code> and <code class="reqn">k</code>, <code class="reqn">\exp(\mu_k - \mu_h)</code> is the overall median odds ratio, and they futher yield the rank probabilities. The contrast-based models usually report such overall median (log) odds ratios, rather than the marginal effect measures obtained from the arm-based models. When the argument <code>link</code> is <code>"logit"</code>, users can additionally specify <code>"LOR.med"</code>, <code>"OR.med"</code>, and <code>"rank.prob.med"</code> to obtain these results based on the overall median odds ratios.
</p>


<h3>Value</h3>

<p><code>nma.ab.bin</code> returns a list with estimates of effect measures specified in <code>param</code>. If the argument <code>dic</code> = <code>TRUE</code>, the deviance information criterion (DIC) statistic will be returned in the output list. In addition, if <code>conv.diag</code> = <code>TRUE</code>, a .txt file containing the point estimates of the potential scale reduction factor and their upper confidence limits by Gelman and Rubin (1992) will be saved in users' current working directory. If <code>postdens</code> = <code>TRUE</code>, the posterior densities of treatment-specific absolute risks will be saved as a .pdf file. If <code>trace</code> is specified, the trace plots are saved as .png files.
</p>


<h3>Note</h3>

<p>If there exists a treatment that has no event in all studies, errors may occur. To avoid such errors, users may set the zero event as a small positive number (say 0.5).
</p>
<p>Earlier versions (&lt; 4.0.0) of JAGS do not guarantee exact reproducibility of the results. We recommend users to install the latest version (&gt;= 4.0.0) of JAGS so that exact reproducibility can be ensured by specifying certain seeds.
</p>


<h3>References</h3>

<p>Barnard J, McCulloch R, Meng XL (2000). &quot;Modeling covariance matrices in terms of standard deviations and correlations, with application to shrinkage.&quot; <em>Statistica Sinica</em>, <b>10</b>(4), 1281&ndash;1311.
</p>
<p>Chu H, Nie L, Chen Y, Huang Y, Sun W (2012). &quot;Bivariate random effects models for meta-analysis of comparative studies with binary outcomes: methods for the absolute risk difference and relative risk.&quot; <em>Statistical Methods in Medical Research</em>, <b>21</b>(6), 621&ndash;633. &lt;doi: <a href="https://doi.org/10.1177/0962280210393712">10.1177/0962280210393712</a>&gt;
</p>
<p>Gelman A, Rubin DB (1992). &quot;Inference from iterative simulation using multiple sequences.&quot; <em>Statistical Science</em>, <b>7</b>(4), 457&ndash;472. &lt;doi: <a href="https://doi.org/10.1214/ss/1177011136">10.1214/ss/1177011136</a>&gt;
</p>
<p>Lin L, Chu H (2018). &quot;Bayesian multivariate meta-analysis of multiple factors.&quot; <em>Research Synthesis Methods</em>, <b>9</b>(2), 261&ndash;272. &lt;doi: <a href="https://doi.org/10.1002/jrsm.1293">10.1002/jrsm.1293</a>&gt;
</p>
<p>Lin L, Zhang J, Hodges JS, Chu H (2017). &quot;Performing arm-based network meta-analysis in R with the pcnetmeta package.&quot; <em>Journal of Statistical Software</em>, <b>80</b>(5), 1&ndash;25. &lt;doi: <a href="https://doi.org/10.18637/jss.v080.i05">10.18637/jss.v080.i05</a>&gt;
</p>
<p>Lu G, Ades AE (2004). &quot;Combination of direct and indirect evidence in mixed treatment comparisons.&quot; <em>Statistics in Medicine</em>, <b>23</b>(20), 3105&ndash;3124. &lt;doi: <a href="https://doi.org/10.1002/sim.1875">10.1002/sim.1875</a>&gt;
</p>
<p>Lu G, Ades AE (2009). &quot;Modeling between-trial variance structure in mixed treatment comparisons.&quot; <em>Biostatistics</em>, <b>10</b>(4), 792&ndash;805. &lt;doi: <a href="https://doi.org/10.1093/biostatistics/kxp032">10.1093/biostatistics/kxp032</a>&gt;
</p>
<p>Spiegelhalter DJ, Best NG, Carlin BP, Van Der Linde A (2002). &quot;Bayesian measures of model complexity and fit.&quot; <em>Journal of the Royal Statistical Society, Series B (Statistical Methodology)</em>, <b>64</b>(4), 583&ndash;639. &lt;doi: <a href="https://doi.org/10.1111/1467-9868.00353">10.1111/1467-9868.00353</a>&gt;
</p>
<p>Wei Y, Higgins JPT (2013). &quot;Bayesian multivariate meta-analysis with multiple outcomes.&quot; <em>Statistics in Medicine</em>, <b>32</b>(17), 2911&ndash;2934. &lt;doi: <a href="https://doi.org/10.1002/sim.5745">10.1002/sim.5745</a>&gt;
</p>
<p>Zhang J, Carlin BP, Neaton JD, Soon GG, Nie L, Kane R, Virnig BA, Chu H (2014). &quot;Network meta-analysis of randomized clinical trials: Reporting the proper summaries.&quot; <em>Clinical Trials</em>, <b>11</b>(2), 246&ndash;262. &lt;doi: <a href="https://doi.org/10.1177/1740774513498322">10.1177/1740774513498322</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nma.ab.cont">nma.ab.cont</a></code>, <code><a href="#topic+nma.ab.py">nma.ab.py</a></code>, <code><a href="#topic+nma.ab.followup">nma.ab.followup</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("smoke")

# For the smoke cessation data,
# higher event rate indicates better treatment

# use the model = "het_cor"
#set.seed(1234)
#het.cor.out &lt;- nma.ab.bin(s.id, t.id, r, n, data = smoke,
#  trtname = c("NC", "SH", "IC", "GC"), param = c("AR", "OR", "RR", "LOR",
#  "LRR", "RD", "rank.prob"), model = "het_cor", higher.better = TRUE,
#  n.iter = 200000, n.thin = 1, conv.diag = TRUE, dic = TRUE,
#  trace = c("AR", "LOR"), postdens = TRUE)

# use the model = "hom_eqcor"
# increase n.iter to reach convergence
set.seed(123)
hom.eqcor.out &lt;- nma.ab.bin(s.id, t.id, r, n, data = smoke,
  param = c("AR", "LRR"), model = "hom_eqcor", prior.type = "unif", c = 10,
  higher.better = TRUE, n.adapt = 1000, n.iter = 100, n.chains = 1)

# use the logit link
set.seed(1234)
hom.eqcor.out2 &lt;- nma.ab.bin(s.id, t.id, r, n, data = smoke,
  param = c("AR", "OR", "OR.med", "rank.prob", "rank.prob.med"),
  model = "hom_eqcor", link = "logit", prior.type = "unif", c = 10,
  higher.better = TRUE, n.adapt = 1000, n.iter = 100, n.chains = 1)
</code></pre>

<hr>
<h2 id='nma.ab.cont'>
Arm-Based Network Meta-Analysis for Continuous Outcomes
</h2><span id='topic+nma.ab.cont'></span>

<h3>Description</h3>

<p>Performs the arm-based network meta-analysis for continuous outcomes, which estimates the treatment-specific effects and effect differences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nma.ab.cont(s.id, t.id, mean, sd, total.n, data, trtname,
            param = c("mu", "diff", "rank.prob"),model = "het_cor",
            prior.type, a = 0.001, b = 0.001, c = 10,
            higher.better = FALSE, digits = 4, n.adapt = 5000,
            n.iter = 100000, n.burnin = floor(n.iter/2), n.chains = 3,
            n.thin = max(1, floor((n.iter - n.burnin)/100000)),
            conv.diag = FALSE, trace = NULL, dic = FALSE, postdens = FALSE,
            mcmc.samples = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nma.ab.cont_+3A_s.id">s.id</code></td>
<td>

<p>a numeric or character vector specifying study ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_t.id">t.id</code></td>
<td>

<p>a numeric or character vector specifying treatment ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_mean">mean</code></td>
<td>

<p>a numeric vector specifying the sample mean of the continuous outcomes for a certain treatment group in the corresponding study, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_sd">sd</code></td>
<td>

<p>a numeric vector specifying the sample standard deviation of the continuous outcomes for a certain treatment group in the corresponding study, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_total.n">total.n</code></td>
<td>

<p>a numeric vector of positive integers, indicating total number of participants for a certain treatment in the corresponding study, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_data">data</code></td>
<td>

<p>an optional data frame containing the dataset of the network meta-analysis. If <code>data</code> is specified, the previous arguments, <code>s.id</code>, <code>t.id</code>, <code>mean</code>, <code>sd</code>, and <code>total.n</code>, should be specified as the corresponding column names in <code>data</code>; otherwise, the previous arguments use environment variables.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_trtname">trtname</code></td>
<td>

<p>a vector of character strings specifying the treatment names for the corresponding treatment IDs according to their order in <code>t.id</code>. If not specified, <code>t.id</code> is used as treatment names.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_param">param</code></td>
<td>

<p>a vector of character strings specifying the effect measures to be estimated. The default includes treatment-specific effects (<code>"mu"</code>), effect differences (<code>"diff"</code>), and treatment rank probabilities (<code>"rank.prob"</code>). <code>"mu"</code> is automatically added into <code>param</code> even if it is not specified.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_model">model</code></td>
<td>

<p>a character string specifying which Bayesian hierarchical model to be applied in the arm-based network meta-analysis. This argument can be set as <code>"hom_eqcor"</code>, <code>"het_eqcor"</code>, or <code>"het_cor"</code> (the default). See &quot;Details&quot; for the models.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_prior.type">prior.type</code></td>
<td>

<p>prior distribution of variances and/or covariances of random effects. If <code>model</code> is <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>, it can be set as <code>"unif"</code> (uniform prior for standard deviations, the default) or <code>"invgamma"</code> (inverse gamma prior for variances). If <code>model</code> is <code>"het_cor"</code>, <code>prior.type</code> can be <code>"invwishart"</code> (the default) or <code>"chol"</code>. Specifying <code>"invwishart"</code> yields an inverse-Wishart prior for the variance-covariance matrix of random effects; by specifying <code>"chol"</code>, non-informative priors are assigned to variance and correlation components using the separation strategy by Cholesky decomposition. See &quot;Details&quot;.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_a">a</code>, <code id="nma.ab.cont_+3A_b">b</code></td>
<td>

<p>positive numbers, specifying the shape and scale parameters of inverse gamma priors for variance(s) of random effects if using <code>prior.type</code> as <code>"invgamma"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default values for both parameters are 0.001.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_c">c</code></td>
<td>

<p>positive number, specifying the upper bound of uniform prior for standard deviation(s) of random effects if using <code>prior.type</code> as <code>"unif"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default is 10.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_higher.better">higher.better</code></td>
<td>

<p>an optional logical value which needs to be specified when estimating the treatment rank probabilities (i.e., <code>"rank.prob"</code> is included in the argument <code>param</code>). <code>TRUE</code> indicates that a higher sample mean of the continuous outcomes implies a better treatment, and vice versa. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_digits">digits</code></td>
<td>

<p>a positive integer specifying the digits after the decimal point for the effect measure estimates. The default is 4.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_n.adapt">n.adapt</code></td>
<td>

<p>the number of iterations for adaptation in Markov chain Monte Carlo (MCMC) algorithm. The default is 5,000. If a warning &quot;adaptation incomplete&quot; appears, users may increase <code>n.adapt</code>. This argument and the following <code>n.iter</code>, <code>n.burnin</code>, <code>n.chains</code>, and <code>n.thin</code> are passed to the functions in R package <span class="pkg">rjags</span>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_n.iter">n.iter</code></td>
<td>

<p>the total number of iterations in each MCMC chain. The default is 100,000.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_n.burnin">n.burnin</code></td>
<td>

<p>the number of iterations for burn-in period. The default is <code>n.iter/2</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_n.chains">n.chains</code></td>
<td>

<p>the number of MCMC chains. The default is 3.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_n.thin">n.thin</code></td>
<td>

<p>a positive integer specifying the thinning rate. The default is the thinning rate which yields no more than 100,000 iterations remaining in each chain.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_conv.diag">conv.diag</code></td>
<td>

<p>a logical value indicating whether to perform MCMC convergence diagnostic. The default is <code>FALSE</code>. If <code>TRUE</code>, <code>n.chains</code> must be greater than 1, and a .txt file, which contains the point estimates of the potential scale reduction factor and their upper confidence limits (see Gelman and Rubin 1992), will be written in users' current working directory.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_trace">trace</code></td>
<td>

<p>a vector of character strings of effect measures. The character strings should be selected from those specified in <code>param</code> (except <code>"rank.prob"</code>), and trace plots of the specified effect measures will be saved in users' current working directory. The default is not drawing trace plots (<code>NULL</code>).
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_dic">dic</code></td>
<td>

<p>a logical value indicating whether to calculate the deviance information criterion (DIC) value. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_postdens">postdens</code></td>
<td>

<p>a logical value indicating whether to draw the posterior density plots for treatment-specific effects. If <code>TRUE</code>, a .pdf file containing the density plot will be saved in users' current working directory. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.cont_+3A_mcmc.samples">mcmc.samples</code></td>
<td>

<p>a logical value indicating whether to save MCMC posterior samples in the output object. The default is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Suppose that a network meta-analysis collects <code class="reqn">I</code> studies on <code class="reqn">K</code> treatments, where each study investigates a subset of the <code class="reqn">K</code> treatments with continuous outcomes. Label the studies from <code class="reqn">i = 1</code> to <code class="reqn">I</code> and the treatments from <code class="reqn">k = 1</code> to <code class="reqn">K</code>. Let <code class="reqn">T_{i}</code> be the subset of the <code class="reqn">K</code> treatments that is compared in the <code class="reqn">i</code>th study. Also, in the <code class="reqn">i</code>th study, let <code class="reqn">n_{ik}</code> be the number of participants allocated to treatment group <code class="reqn">k</code> (<code class="reqn">k \in T_{i}</code>), and <code class="reqn">\bar{y}_{ik}</code> and <code class="reqn">s_{ik}^{2}</code> be the sample mean and sample standard deviation of the continuous outcome measures. The arm-based model is constructed as:
</p>
<p style="text-align: center;"><code class="reqn">\bar{y}_{ik} \sim N (\theta_{ik}, s^{2}_{ik}/n_{ik}) \qquad k \in T_{i};</code>
</p>

<p style="text-align: center;"><code class="reqn">\theta_{ik} = \mu_{k} + \nu_{ik};</code>
</p>

<p style="text-align: center;"><code class="reqn">(\nu_{i1}, \nu_{i2}, \ldots, \nu_{iK})^{T} \sim N (\boldsymbol{0}, \mathbf{\Sigma}_{K}),</code>
</p>

<p>where <code class="reqn">\mathbf{\Sigma}_{K}</code> is a <code class="reqn">K \times K</code> positive definite correlation matrix. The <code class="reqn">\mu_{k}</code>'s are treatment-specific fixed effects, and the random effects <code class="reqn">\nu_{ik}</code> are correlated within each study with the covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code>.
</p>
<p>An unstructured covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code> in the model above corresponds to <code>model</code> = <code>"het_cor"</code>. The inverse-Wishart prior can be assigned to <code class="reqn">\mathbf{\Sigma}_{K}</code>. Alternatively, using the separation strategy by Cholesky decomposition (<code>prior.type</code> = <code>"chol"</code>), uniform priors <code class="reqn">U(0, c)</code> are assigned to the standard deviations in <code class="reqn">\mathbf{\Sigma}_{K}</code> and non-informative priors are assigned to the correlation components (Barnard et al., 2000; Lu and Ades, 2009; Wei and Higgins, 2013; Lin and Chu, 2018). Denote <code class="reqn">\sigma_{k}</code> as the standard deviation of <code class="reqn">\nu_{ik}</code> and <code class="reqn">\mathbf{D} = diag(\sigma_{1}, \ldots, \sigma_{K})</code>, then the correlation matrix is <code class="reqn">\mathbf{R}_{K} = \mathbf{D}^{-1} \mathbf{\Sigma}_{K} \mathbf{D}^{-1}</code>.  If we assume that all of the off-diagonal elements in <code class="reqn">\mathbf{R}_{K}</code> are equal, say to <code class="reqn">\rho</code>, then this model corresponds to <code>model</code> = <code>"het_eqcor"</code>. If we further assume the homogeneity of variances of the random effects, that is, <code class="reqn">\sigma_{k} = \sigma</code> for <code class="reqn">k = 1, 2, \ldots, K</code>, then the model is <code>"hom_eqcor"</code>. In addition, for the models <code>"hom_eqcor"</code> and <code>"het_eqcor"</code>, setting <code>prior.type</code> as <code>"invgamma"</code> implies using inverse-gamma priors with shape and scale parameters, <code class="reqn">a</code> and <code class="reqn">b</code>, for <code class="reqn">\sigma_{k}^2</code> or <code class="reqn">\sigma^2</code>, and <code>"unif"</code> implies uniform priors <code class="reqn">U(0, c)</code> for <code class="reqn">\sigma_{k}</code> or <code class="reqn">\sigma</code>.
</p>


<h3>Value</h3>

<p><code>nma.ab.cont</code> returns a list with estimates of effect measures specified in <code>param</code>. If the argument <code>dic</code> = <code>TRUE</code>, the deviance information criterion (DIC) statistic will be returned in the output list. In addition, if <code>conv.diag</code> = <code>TRUE</code>, a .txt file containing the point estimates of the potential scale reduction factor and their upper confidence limits by Gelman and Rubin (1992) will be saved in users' current working directory. If <code>postdens</code> = <code>TRUE</code>, the posterior densities of treatment-specific absolute risks will be saved as a .pdf file. If <code>trace</code> is specified, the trace plots are saved as .png files.
</p>


<h3>Note</h3>

<p>Earlier versions (&lt; 4.0.0) of JAGS do not guarantee exact reproducibility of the results. We recommend users to install the latest version (&gt;= 4.0.0) of JAGS so that exact reproducibility can be ensured by specifying certain seeds.
</p>


<h3>References</h3>

<p>Barnard J, McCulloch R, Meng XL (2000). &quot;Modeling covariance matrices in terms of standard deviations and correlations, with application to shrinkage.&quot; <em>Statistica Sinica</em>, <b>10</b>(4), 1281&ndash;1311.
</p>
<p>Dias S, Sutton AJ, Ades AE, Welton NJ (2013). &quot;Evidence synthesis for decision making 2: a generalized linear modeling framework for pairwise and network meta-analysis of randomized controlled trials.&quot; <em>Medical Decision Making</em>, <b>33</b>(5), 607&ndash;617. &lt;doi: <a href="https://doi.org/10.1177/0272989X12458724">10.1177/0272989X12458724</a>&gt;
</p>
<p>Gelman A, Rubin DB (1992). &quot;Inference from iterative simulation using multiple sequences.&quot; <em>Statistical Science</em>, <b>7</b>(4), 457&ndash;472. &lt;doi: <a href="https://doi.org/10.1214/ss/1177011136">10.1214/ss/1177011136</a>&gt;
</p>
<p>Lin L, Chu H (2018). &quot;Bayesian multivariate meta-analysis of multiple factors.&quot; <em>Research Synthesis Methods</em>, <b>9</b>(2), 261&ndash;272. &lt;doi: <a href="https://doi.org/10.1002/jrsm.1293">10.1002/jrsm.1293</a>&gt;
</p>
<p>Lin L, Zhang J, Hodges JS, Chu H (2017). &quot;Performing arm-based network meta-analysis in R with the pcnetmeta package.&quot; <em>Journal of Statistical Software</em>, <b>80</b>(5), 1&ndash;25. &lt;doi: <a href="https://doi.org/10.18637/jss.v080.i05">10.18637/jss.v080.i05</a>&gt;
</p>
<p>Lu G, Ades AE (2004). &quot;Combination of direct and indirect evidence in mixed treatment comparisons.&quot; <em>Statistics in Medicine</em>, <b>23</b>(20), 3105&ndash;3124. &lt;doi: <a href="https://doi.org/10.1002/sim.1875">10.1002/sim.1875</a>&gt;
</p>
<p>Lu G, Ades AE (2009). &quot;Modeling between-trial variance structure in mixed treatment comparisons.&quot; <em>Biostatistics</em>, <b>10</b>(4), 792&ndash;805. &lt;doi: <a href="https://doi.org/10.1093/biostatistics/kxp032">10.1093/biostatistics/kxp032</a>&gt;
</p>
<p>Spiegelhalter DJ, Best NG, Carlin BP, Van Der Linde A (2002). &quot;Bayesian measures of model complexity and fit.&quot; <em>Journal of the Royal Statistical Society, Series B (Statistical Methodology)</em>, <b>64</b>(4), 583&ndash;639. &lt;doi: <a href="https://doi.org/10.1111/1467-9868.00353">10.1111/1467-9868.00353</a>&gt;
</p>
<p>Wei Y, Higgins JPT (2013). &quot;Bayesian multivariate meta-analysis with multiple outcomes.&quot; <em>Statistics in Medicine</em>, <b>32</b>(17), 2911&ndash;2934. &lt;doi: <a href="https://doi.org/10.1002/sim.5745">10.1002/sim.5745</a>&gt;
</p>
<p>Zhang J, Carlin BP, Neaton JD, Soon GG, Nie L, Kane R, Virnig BA, Chu H (2014). &quot;Network meta-analysis of randomized clinical trials: Reporting the proper summaries.&quot; <em>Clinical Trials</em>, <b>11</b>(2), 246&ndash;262. &lt;doi: <a href="https://doi.org/10.1177/1740774513498322">10.1177/1740774513498322</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>, <code><a href="#topic+nma.ab.py">nma.ab.py</a></code>, <code><a href="#topic+nma.ab.followup">nma.ab.followup</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("parkinson")
# increase n.iter to reach convergence of MCMC
# increase n.adapt to enhance efficiency
set.seed(1234)
cont.out &lt;- nma.ab.cont(s.id, t.id, mean, sd, n, data = parkinson,
  param = c("mu", "diff"), model = "hom_eqcor", prior.type = "unif",
  n.adapt = 200, n.iter = 100, n.chains = 1)
</code></pre>

<hr>
<h2 id='nma.ab.followup'>
Arm-Based Network Meta-Analysis for Binary Outcomes with Follow-Up Times Reported
</h2><span id='topic+nma.ab.followup'></span>

<h3>Description</h3>

<p>Performs the arm-based network meta-analysis for binary outcomes when the follow-up time of each study is reported, which estimates the treatment-specific rate, rate ratio between treatments, and their logarithms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nma.ab.followup(s.id, t.id, event.n, total.n, followup, data, trtname,
                param = c("lograte", "logratio", "rank.prob"),
                model = "het_cor", prior.type, a = 0.001, b = 0.001,
                c = 10, higher.better = FALSE, digits = 4, n.adapt = 5000,
                n.iter = 100000, n.burnin = floor(n.iter/2), n.chains = 3,
                n.thin = max(1, floor((n.iter - n.burnin)/100000)),
                conv.diag = FALSE, trace = NULL, dic = FALSE,
                postdens = FALSE, mcmc.samples = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nma.ab.followup_+3A_s.id">s.id</code></td>
<td>

<p>a numeric or character vector specifying study ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_t.id">t.id</code></td>
<td>

<p>a numeric or character vector specifying treatment ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_event.n">event.n</code></td>
<td>

<p>a numeric vector of non-negative integers, specifying number of events in each study's treatment group, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_total.n">total.n</code></td>
<td>

<p>a numeric vector of non-negative integers, specifying total number of participants in each study's treatment group, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_followup">followup</code></td>
<td>

<p>a numeric vector of positive numbers, specifying follow-up times for different studies, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_data">data</code></td>
<td>

<p>an optional data frame containing the dataset of the network meta-analysis. If <code>data</code> is specified, the previous arguments, <code>s.id</code>, <code>t.id</code>, <code>event.n</code>, <code>total.n</code>, and <code>followup</code>, should be specified as the corresponding column names in <code>data</code>; otherwise, the previous arguments use environment variables.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_trtname">trtname</code></td>
<td>

<p>a vector of character strings specifying the treatment names for the corresponding treatment IDs according to their order in <code>t.id</code>. If not specified, <code>t.id</code> is used as treatment names.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_param">param</code></td>
<td>

<p>a vector of character strings specifying the effect measures to be estimated. The default includes log treatment-specific rate (<code>"lograte"</code>), log rate ratio (<code>"logratio"</code>), and treatment rank probability (<code>"rank.prob"</code>). <code>"lograte"</code> is automatically added into <code>param</code> even if it is not specified. In addition to the default measures, treatment-specific rate (<code>"rate"</code>) and rate ratio (<code>"ratio"</code>) can be added into the argument <code>param</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_model">model</code></td>
<td>

<p>a character string specifying which Bayesian hierarchical model to be applied in the arm-based network meta-analysis. This argument can be set as <code>"hom_eqcor"</code>, <code>"het_eqcor"</code>, or <code>"het_cor"</code> (the default). See &quot;Details&quot; for the models.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_prior.type">prior.type</code></td>
<td>

<p>prior distribution of variances and/or covariances of random effects. If <code>model</code> is <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>, it can be set as <code>"unif"</code> (uniform prior for standard deviations, the default) or <code>"invgamma"</code> (inverse gamma prior for variances). If <code>model</code> is <code>"het_cor"</code>, <code>prior.type</code> can be <code>"invwishart"</code> (the default) or <code>"chol"</code>. Specifying <code>"invwishart"</code> yields an inverse-Wishart prior for the variance-covariance matrix of random effects; by specifying <code>"chol"</code>, non-informative priors are assigned to variance and correlation components using the separation strategy by Cholesky decomposition. See &quot;Details&quot;.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_a">a</code>, <code id="nma.ab.followup_+3A_b">b</code></td>
<td>

<p>positive numbers, specifying the shape and scale parameters of inverse gamma priors for variance(s) of random effects if using <code>prior.type</code> as <code>"invgamma"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default values for both parameters are 0.001.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_c">c</code></td>
<td>

<p>positive number, specifying the upper bound of uniform prior for standard deviation(s) of random effects if using <code>prior.type</code> as <code>"unif"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default is 10.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_higher.better">higher.better</code></td>
<td>

<p>an optional logical value which needs to be specified when estimating the treatment rank probabilities (i.e., &quot;rank.prob&quot; is included in argument <code>param</code>). <code>TRUE</code> indicates that a higher treatment-specific rate implies a better treatment, and vice versa. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_digits">digits</code></td>
<td>

<p>a positive integer specifying the digits after the decimal point for the effect measure estimates. The default is 4.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_n.adapt">n.adapt</code></td>
<td>

<p>the number of iterations for adaptation in Markov chain Monte Carlo (MCMC) algorithm. The default is 5,000. If a warning &quot;adaptation incomplete&quot; appears, users may increase <code>n.adapt</code>. This argument and the following <code>n.iter</code>, <code>n.burnin</code>, <code>n.chains</code>, and <code>n.thin</code> are passed to the functions in R package <span class="pkg">rjags</span>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_n.iter">n.iter</code></td>
<td>

<p>the total number of iterations in each MCMC chain. The default is 100,000.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_n.burnin">n.burnin</code></td>
<td>

<p>the number of iterations for burn-in period. The default is <code>n.iter/2</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_n.chains">n.chains</code></td>
<td>

<p>the number of MCMC chains. The default is 3.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_n.thin">n.thin</code></td>
<td>

<p>a positive integer specifying the thinning rate. The default is the thinning rate which yields no more than 100,000 iterations remaining in each chain.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_conv.diag">conv.diag</code></td>
<td>

<p>a logical value indicating whether to perform MCMC convergence diagnostic. The default is <code>FALSE</code>. If <code>TRUE</code>, <code>n.chains</code> must be greater than 1, and a .txt file, which contains the point estimates of the potential scale reduction factor and their upper confidence limits (see Gelman and Rubin 1992), will be written in users' current working directory.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_trace">trace</code></td>
<td>

<p>a vector of character strings of effect measures. The character strings should be selected from those specified in <code>param</code> (except <code>"rank.prob"</code>), and trace plots of the specified effect measures will be saved in users' current working directory. The default is not drawing trace plots (<code>NULL</code>).
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_dic">dic</code></td>
<td>

<p>a logical value indicating whether to calculate the deviance information criterion (DIC) value. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_postdens">postdens</code></td>
<td>

<p>a logical value indicating whether to draw the posterior density plots for treatment-specific rates. If <code>TRUE</code>, a .pdf file containing the density plot will be saved in users' current working directory. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.followup_+3A_mcmc.samples">mcmc.samples</code></td>
<td>

<p>a logical value indicating whether to save MCMC posterior samples in the output object. The default is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Suppose that a network meta-analysis collects <code class="reqn">I</code> studies on <code class="reqn">K</code> treatments, where each study investigates a subset of the <code class="reqn">K</code> treatments. The outcome is binary, and the follow-up time for each study is reported. Label the studies from <code class="reqn">i = 1</code> to <code class="reqn">I</code> and the treatments from <code class="reqn">k = 1</code> to <code class="reqn">K</code>. Let <code class="reqn">T_{i}</code> be the subset of the <code class="reqn">K</code> treatments that is compared in the <code class="reqn">i</code>th study. Also, in the <code class="reqn">i</code>th study, let <code class="reqn">y_{ik}</code> and <code class="reqn">n_{ik}</code> be the number of events and the total number of participants in treatment group <code class="reqn">k</code>. Denote <code class="reqn">f_{i}</code> as the follow-up time of the <code class="reqn">i</code>th study. The arm-based network meta-analysis model for these settings is constructed as:
</p>
<p style="text-align: center;"><code class="reqn">y_{ik} \sim Bin (n_{ik}, p_{ik}) \qquad k \in T_{i};</code>
</p>

<p style="text-align: center;"><code class="reqn">cloglog (p_{ik}) = \log (f_{i}) + \log (\lambda_{ik});</code>
</p>

<p style="text-align: center;"><code class="reqn">\log (\lambda_{ik}) = \mu_{k} + \nu_{ik};</code>
</p>

<p style="text-align: center;"><code class="reqn">(\nu_{i1}, \nu_{i2}, \ldots, \nu_{iK})^{T} \sim N (\boldsymbol{0}, \mathbf{\Sigma}_{K}),</code>
</p>

<p>where <code class="reqn">cloglot (t) = \log (-\log(1 - t))</code> is the complementary log-log link function, and <code class="reqn">\mathbf{\Sigma}_{K}</code> is a <code class="reqn">K \times K</code> positive definite covariance matrix. The <code class="reqn">\mu_{k}</code>'s are treatment-specific fixed effects, and the random effects <code class="reqn">\nu_{ik}</code> are correlated within each study with the covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code>.
</p>
<p>An unstructured covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code> in the model above corresponds to <code>model</code> = <code>"het_cor"</code>. The inverse-Wishart prior can be assigned to <code class="reqn">\mathbf{\Sigma}_{K}</code>. Alternatively, using the separation strategy by Cholesky decomposition (<code>prior.type</code> = <code>"chol"</code>), uniform priors <code class="reqn">U(0, c)</code> are assigned to the standard deviations in <code class="reqn">\mathbf{\Sigma}_{K}</code> and non-informative priors are assigned to the correlation components (Barnard et al., 2000; Lu and Ades, 2009; Wei and Higgins, 2013; Lin and Chu, 2018). Denote <code class="reqn">\sigma_{k}</code> as the standard deviation of <code class="reqn">\nu_{ik}</code> and <code class="reqn">\mathbf{D} = diag(\sigma_{1}, \ldots, \sigma_{K})</code>, then the correlation matrix is <code class="reqn">\mathbf{R}_{K} = \mathbf{D}^{-1} \mathbf{\Sigma}_{K} \mathbf{D}^{-1}</code>.  If we assume that all of the off-diagonal elements in <code class="reqn">\mathbf{R}_{K}</code> are equal, say to <code class="reqn">\rho</code>, then this model corresponds to <code>model</code> = <code>"het_eqcor"</code>. If we further assume the homogeneity of variances of the random effects, that is, <code class="reqn">\sigma_{k} = \sigma</code> for <code class="reqn">k = 1, 2, \ldots, K</code>, then the model is <code>"hom_eqcor"</code>. In addition, for the models <code>"hom_eqcor"</code> and <code>"het_eqcor"</code>, setting <code>prior.type</code> as <code>"invgamma"</code> implies using inverse-gamma priors with shape and scale parameters, <code class="reqn">a</code> and <code class="reqn">b</code>, for <code class="reqn">\sigma_{k}^2</code> or <code class="reqn">\sigma^2</code>, and <code>"unif"</code> implies uniform priors <code class="reqn">U(0, c)</code> for <code class="reqn">\sigma_{k}</code> or <code class="reqn">\sigma</code>.
</p>


<h3>Value</h3>

<p><code>nma.ab.followup</code> returns a list with estimates of effect measures specified in <code>param</code>. If the argument <code>dic</code> = <code>TRUE</code>, the deviance information criterion (DIC) statistic will be returned in the output list. In addition, if <code>conv.diag</code> = <code>TRUE</code>, a .txt file containing the point estimates of the potential scale reduction factor and their upper confidence limits by Gelman and Rubin (1992) will be saved in users' current working directory. If <code>postdens</code> = <code>TRUE</code>, the posterior densities of treatment-specific absolute risks will be saved as a .pdf file. If <code>trace</code> is specified, the trace plots are saved as .png files.
</p>


<h3>Note</h3>

<p>Earlier versions (&lt; 4.0.0) of JAGS do not guarantee exact reproducibility of the results. We recommend users to install the latest version (&gt;= 4.0.0) of JAGS so that exact reproducibility can be ensured by specifying certain seeds.
</p>


<h3>References</h3>

<p>Barnard J, McCulloch R, Meng XL (2000). &quot;Modeling covariance matrices in terms of standard deviations and correlations, with application to shrinkage.&quot; <em>Statistica Sinica</em>, <b>10</b>(4), 1281&ndash;1311.
</p>
<p>Dias S, Sutton AJ, Ades AE, Welton NJ (2013). &quot;Evidence synthesis for decision making 2: a generalized linear modeling framework for pairwise and network meta-analysis of randomized controlled trials.&quot; <em>Medical Decision Making</em>, <b>33</b>(5), 607&ndash;617. &lt;doi: <a href="https://doi.org/10.1177/0272989X12458724">10.1177/0272989X12458724</a>&gt;
</p>
<p>Gelman A, Rubin DB (1992). &quot;Inference from iterative simulation using multiple sequences.&quot; <em>Statistical Science</em>, <b>7</b>(4), 457&ndash;472. &lt;doi: <a href="https://doi.org/10.1214/ss/1177011136">10.1214/ss/1177011136</a>&gt;
</p>
<p>Lin L, Chu H (2018). &quot;Bayesian multivariate meta-analysis of multiple factors.&quot; <em>Research Synthesis Methods</em>, <b>9</b>(2), 261&ndash;272. &lt;doi: <a href="https://doi.org/10.1002/jrsm.1293">10.1002/jrsm.1293</a>&gt;
</p>
<p>Lin L, Zhang J, Hodges JS, Chu H (2017). &quot;Performing arm-based network meta-analysis in R with the pcnetmeta package.&quot; <em>Journal of Statistical Software</em>, <b>80</b>(5), 1&ndash;25. &lt;doi: <a href="https://doi.org/10.18637/jss.v080.i05">10.18637/jss.v080.i05</a>&gt;
</p>
<p>Lu G, Ades AE (2004). &quot;Combination of direct and indirect evidence in mixed treatment comparisons.&quot; <em>Statistics in Medicine</em>, <b>23</b>(20), 3105&ndash;3124. &lt;doi: <a href="https://doi.org/10.1002/sim.1875">10.1002/sim.1875</a>&gt;
</p>
<p>Lu G, Ades AE (2009). &quot;Modeling between-trial variance structure in mixed treatment comparisons.&quot; <em>Biostatistics</em>, <b>10</b>(4), 792&ndash;805. &lt;doi: <a href="https://doi.org/10.1093/biostatistics/kxp032">10.1093/biostatistics/kxp032</a>&gt;
</p>
<p>Spiegelhalter DJ, Best NG, Carlin BP, Van Der Linde A (2002). &quot;Bayesian measures of model complexity and fit.&quot; <em>Journal of the Royal Statistical Society, Series B (Statistical Methodology)</em>, <b>64</b>(4), 583&ndash;639. &lt;doi: <a href="https://doi.org/10.1111/1467-9868.00353">10.1111/1467-9868.00353</a>&gt;
</p>
<p>Wei Y, Higgins JPT (2013). &quot;Bayesian multivariate meta-analysis with multiple outcomes.&quot; <em>Statistics in Medicine</em>, <b>32</b>(17), 2911&ndash;2934. &lt;doi: <a href="https://doi.org/10.1002/sim.5745">10.1002/sim.5745</a>&gt;
</p>
<p>Zhang J, Carlin BP, Neaton JD, Soon GG, Nie L, Kane R, Virnig BA, Chu H (2014). &quot;Network meta-analysis of randomized clinical trials: Reporting the proper summaries.&quot; <em>Clinical Trials</em>, <b>11</b>(2), 246&ndash;262. &lt;doi: <a href="https://doi.org/10.1177/1740774513498322">10.1177/1740774513498322</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>, <code><a href="#topic+nma.ab.cont">nma.ab.cont</a></code>, <code><a href="#topic+nma.ab.py">nma.ab.py</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#data("diabetes")
# increase n.iter to reach convergence of MCMC
# increase n.adapt to enhance efficiency
#set.seed(1234)
#followup.out &lt;- nma.ab.followup(s.id, t.id, r, n, folup, data = diabetes,
#  model = "het_cor", n.adapt = 500, n.iter = 100, n.chains = 1)
</code></pre>

<hr>
<h2 id='nma.ab.py'>
Arm-Based Network Meta-Analysis for Count Datasets with Exposure Time in Person-Years Reported
</h2><span id='topic+nma.ab.py'></span>

<h3>Description</h3>

<p>Performs the arm-based network meta-analysis for count datasets when the exposure times (in person-years) are reported, which estimates the treatment-specific rate, rate ratio between treatments, and their logarithms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nma.ab.py(s.id, t.id, event.n, py, data, trtname,
          param = c("lograte", "logratio", "rank.prob"), model = "het_cor",
          prior.type, a = 0.001, b = 0.001, c = 10, higher.better = FALSE,
          digits = 4, n.adapt = 5000, n.iter = 100000,
          n.burnin = floor(n.iter/2), n.chains = 3,
          n.thin = max(1, floor((n.iter - n.burnin)/100000)),
          conv.diag = FALSE, trace = NULL, dic = FALSE, postdens = FALSE,
          mcmc.samples = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nma.ab.py_+3A_s.id">s.id</code></td>
<td>

<p>a numeric or character vector specifying study ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_t.id">t.id</code></td>
<td>

<p>a numeric or character vector specifying treatment ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_event.n">event.n</code></td>
<td>

<p>a numeric vector of non-negative integers, specifying number of events in each study's treatment group, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_py">py</code></td>
<td>

<p>a numeric vector of non-negative numbers, specifying exposure time in person-years in each study's treatment group, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_data">data</code></td>
<td>

<p>an optional data frame containing the dataset of the network meta-analysis. If <code>data</code> is specified, the previous arguments, <code>s.id</code>, <code>t.id</code>, <code>event.n</code>, and <code>py</code>, should be specified as the corresponding column names in <code>data</code>; otherwise, the previous arguments use environment variables.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_trtname">trtname</code></td>
<td>

<p>a vector of character strings specifying the treatment names for the corresponding treatment IDs according to their order in <code>t.id</code>. If not specified, <code>t.id</code> is used as treatment names.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_param">param</code></td>
<td>

<p>a vector of character strings specifying the effect measures to be estimated. The default includes log treatment-specific rate (<code>"lograte"</code>), log rate ratio (<code>"logratio"</code>), and treatment rank probability (<code>"rank.prob"</code>). <code>"lograte"</code> is automatically added into <code>param</code> even if it is not specified. In addition to the default measures, treatment-specific rate (<code>"rate"</code>) and rate ratio (<code>"ratio"</code>) can be added into the argument <code>param</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_model">model</code></td>
<td>

<p>a character string specifying which Bayesian hierarchical model to be applied in the arm-based network meta-analysis. This argument can be set as <code>"hom_eqcor"</code>, <code>"het_eqcor"</code>, or <code>"het_cor"</code> (the default). See &quot;Details&quot; for the models.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_prior.type">prior.type</code></td>
<td>

<p>prior distribution of variances and/or covariances of random effects. If <code>model</code> is <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>, it can be set as <code>"unif"</code> (uniform prior for standard deviations, the default) or <code>"invgamma"</code> (inverse gamma prior for variances). If <code>model</code> is <code>"het_cor"</code>, <code>prior.type</code> can be <code>"invwishart"</code> (the default) or <code>"chol"</code>. Specifying <code>"invwishart"</code> yields an inverse-Wishart prior for the variance-covariance matrix of random effects; by specifying <code>"chol"</code>, non-informative priors are assigned to variance and correlation components using the separation strategy by Cholesky decomposition. See &quot;Details&quot;.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_a">a</code>, <code id="nma.ab.py_+3A_b">b</code></td>
<td>

<p>positive numbers, specifying the shape and scale parameters of inverse gamma priors for variance(s) of random effects if using <code>prior.type</code> as <code>"invgamma"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default values for both parameters are 0.001.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_c">c</code></td>
<td>

<p>positive number, specifying the upper bound of uniform prior for standard deviation(s) of random effects if using <code>prior.type</code> as <code>"unif"</code> for model <code>"hom_eqcor"</code> or <code>"het_eqcor"</code>. The default is 10.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_higher.better">higher.better</code></td>
<td>

<p>an optional logical value which needs to be specified when estimating the treatment rank probabilities (i.e., &quot;rank.prob&quot; is included in argument <code>param</code>). <code>TRUE</code> indicates that a higher treatment-specific rate implies a better treatment, and vice versa. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_digits">digits</code></td>
<td>

<p>a positive integer specifying the digits after the decimal point of the effect measures estimates. The default is 4.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_n.adapt">n.adapt</code></td>
<td>

<p>the number of iterations for adaptation in Markov chain Monte Carlo (MCMC) algorithm. The default is 5,000. If a warning &quot;adaptation incomplete&quot; appears, users may increase <code>n.adapt</code>. This argument and the following <code>n.iter</code>, <code>n.burnin</code>, <code>n.chains</code>, and <code>n.thin</code> are passed to the functions in R package <span class="pkg">rjags</span>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_n.iter">n.iter</code></td>
<td>

<p>the total number of iterations in each MCMC chain. The default is 100,000.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_n.burnin">n.burnin</code></td>
<td>

<p>the number of iterations for burn-in period. The default is <code>n.iter/2</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_n.chains">n.chains</code></td>
<td>

<p>the number of MCMC chains. The default is 3.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_n.thin">n.thin</code></td>
<td>

<p>a positive integer specifying the thinning rate. The default is the thinning rate which yields no more than 100,000 iterations remaining in each chain.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_conv.diag">conv.diag</code></td>
<td>

<p>a logical value indicating whether to perform MCMC convergence diagnostic. The default is <code>FALSE</code>. If <code>TRUE</code>, <code>n.chains</code> must be greater than 1, and a .txt file, which contains the point estimates of the potential scale reduction factor and their upper confidence limits (see Gelman and Rubin 1992), will be written in users' current working directory.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_trace">trace</code></td>
<td>

<p>a vector of character strings of effect measures. The character strings should be selected from those specified in <code>param</code> (except <code>"rank.prob"</code>), and trace plots of the specified effect measures will be saved in users' current working directory. The default is not drawing trace plots (<code>NULL</code>).
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_dic">dic</code></td>
<td>

<p>a logical value indicating whether to calculate the deviance information criterion (DIC) value. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_postdens">postdens</code></td>
<td>

<p>a logical value indicating whether to draw the posterior density plots for treatment-specific rates. If <code>TRUE</code>, a .pdf file containing the density plot will be saved in users' current working directory. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="nma.ab.py_+3A_mcmc.samples">mcmc.samples</code></td>
<td>

<p>a logical value indicating whether to save MCMC posterior samples in the output object. The default is <code>FALSE</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Suppose that a network meta-analysis collects <code class="reqn">I</code> studies on <code class="reqn">K</code> treatments, where each study investigates a subset of the <code class="reqn">K</code> treatments. The exposure time in person-years and the count of events in each treatment group are reported. Label the studies from <code class="reqn">i = 1</code> to <code class="reqn">I</code> and the treatments from <code class="reqn">k = 1</code> to <code class="reqn">K</code>. Let <code class="reqn">T_{i}</code> be the subset of the <code class="reqn">K</code> treatments that is compared in the <code class="reqn">i</code>th study. Also, in the <code class="reqn">i</code>th study, let <code class="reqn">y_{ik}</code> be the number of events in treatment group <code class="reqn">k</code>, and <code class="reqn">E_{ik}</code> be the corresponding exposure time in person-years. The arm-based network meta-analysis model for these settings is constructed as:
</p>
<p style="text-align: center;"><code class="reqn">y_{ik} \sim Pois (E_{ik} \lambda_{ik}) \qquad k \in T_{i};</code>
</p>

<p style="text-align: center;"><code class="reqn">\log (\lambda_{ik}) = \mu_{k} + \nu_{ik};</code>
</p>

<p style="text-align: center;"><code class="reqn">(\nu_{i1}, \nu_{i2}, \ldots, \nu_{iK})^{T} \sim N (\boldsymbol{0}, \mathbf{\Sigma}_{K}),</code>
</p>

<p>where <code class="reqn">\mathbf{\Sigma}_{K}</code> is a <code class="reqn">K \times K</code> positive definite correlation matrix. The <code class="reqn">\mu_{k}</code>'s are treatment-specific fixed effects, and the random effects <code class="reqn">\nu_{ik}</code> are correlated within each study with the covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code>.
</p>
<p>An unstructured covariance matrix <code class="reqn">\mathbf{\Sigma}_{K}</code> in the model above corresponds to <code>model</code> = <code>"het_cor"</code>. The inverse-Wishart prior can be assigned to <code class="reqn">\mathbf{\Sigma}_{K}</code>. Alternatively, using the separation strategy by Cholesky decomposition (<code>prior.type</code> = <code>"chol"</code>), uniform priors <code class="reqn">U(0, c)</code> are assigned to the standard deviations in <code class="reqn">\mathbf{\Sigma}_{K}</code> and non-informative priors are assigned to the correlation components (Barnard et al., 2000; Lu and Ades, 2009; Wei and Higgins, 2013; Lin and Chu, 2018). Denote <code class="reqn">\sigma_{k}</code> as the standard deviation of <code class="reqn">\nu_{ik}</code> and <code class="reqn">\mathbf{D} = diag(\sigma_{1}, \ldots, \sigma_{K})</code>, then the correlation matrix is <code class="reqn">\mathbf{R}_{K} = \mathbf{D}^{-1} \mathbf{\Sigma}_{K} \mathbf{D}^{-1}</code>.  If we assume that all of the off-diagonal elements in <code class="reqn">\mathbf{R}_{K}</code> are equal, say to <code class="reqn">\rho</code>, then this model corresponds to <code>model</code> = <code>"het_eqcor"</code>. If we further assume the homogeneity of variances of the random effects, that is, <code class="reqn">\sigma_{k} = \sigma</code> for <code class="reqn">k = 1, 2, \ldots, K</code>, then the model is <code>"hom_eqcor"</code>. In addition, for the models <code>"hom_eqcor"</code> and <code>"het_eqcor"</code>, setting <code>prior.type</code> as <code>"invgamma"</code> implies using inverse-gamma priors with shape and scale parameters, <code class="reqn">a</code> and <code class="reqn">b</code>, for <code class="reqn">\sigma_{k}^2</code> or <code class="reqn">\sigma^2</code>, and <code>"unif"</code> implies uniform priors <code class="reqn">U(0, c)</code> for <code class="reqn">\sigma_{k}</code> or <code class="reqn">\sigma</code>.
</p>


<h3>Value</h3>

<p><code>nma.ab.py</code> returns a list with estimates of effect measures specified in <code>param</code>. If the argument <code>dic</code> = <code>TRUE</code>, the deviance information criterion (DIC) statistic will be returned in the output list. In addition, if <code>conv.diag</code> = <code>TRUE</code>, a .txt file containing the point estimates of the potential scale reduction factor and their upper confidence limits by Gelman and Rubin (1992) will be saved in users' current working directory. If <code>postdens</code> = <code>TRUE</code>, the posterior densities of treatment-specific absolute risks will be saved as a .pdf file. If <code>trace</code> is specified, the trace plots are saved as .png files.
</p>


<h3>Note</h3>

<p>Earlier versions (&lt; 4.0.0) of JAGS do not guarantee exact reproducibility of the results. We recommend users to install the latest version (&gt;= 4.0.0) of JAGS so that exact reproducibility can be ensured by specifying certain seeds.
</p>


<h3>References</h3>

<p>Barnard J, McCulloch R, Meng XL (2000). &quot;Modeling covariance matrices in terms of standard deviations and correlations, with application to shrinkage.&quot; <em>Statistica Sinica</em>, <b>10</b>(4), 1281&ndash;1311.
</p>
<p>Dias S, Sutton AJ, Ades AE, Welton NJ (2013). &quot;Evidence synthesis for decision making 2: a generalized linear modeling framework for pairwise and network meta-analysis of randomized controlled trials.&quot; <em>Medical Decision Making</em>, <b>33</b>(5), 607&ndash;617. &lt;doi: <a href="https://doi.org/10.1177/0272989X12458724">10.1177/0272989X12458724</a>&gt;
</p>
<p>Gelman A, Rubin DB (1992). &quot;Inference from iterative simulation using multiple sequences.&quot; <em>Statistical Science</em>, <b>7</b>(4), 457&ndash;472. &lt;doi: <a href="https://doi.org/10.1214/ss/1177011136">10.1214/ss/1177011136</a>&gt;
</p>
<p>Lin L, Chu H (2018). &quot;Bayesian multivariate meta-analysis of multiple factors.&quot; <em>Research Synthesis Methods</em>, <b>9</b>(2), 261&ndash;272. &lt;doi: <a href="https://doi.org/10.1002/jrsm.1293">10.1002/jrsm.1293</a>&gt;
</p>
<p>Lin L, Zhang J, Hodges JS, Chu H (2017). &quot;Performing arm-based network meta-analysis in R with the pcnetmeta package.&quot; <em>Journal of Statistical Software</em>, <b>80</b>(5), 1&ndash;25. &lt;doi: <a href="https://doi.org/10.18637/jss.v080.i05">10.18637/jss.v080.i05</a>&gt;
</p>
<p>Lu G, Ades AE (2004). &quot;Combination of direct and indirect evidence in mixed treatment comparisons.&quot; <em>Statistics in Medicine</em>, <b>23</b>(20), 3105&ndash;3124. &lt;doi: <a href="https://doi.org/10.1002/sim.1875">10.1002/sim.1875</a>&gt;
</p>
<p>Lu G, Ades AE (2009). &quot;Modeling between-trial variance structure in mixed treatment comparisons.&quot; <em>Biostatistics</em>, <b>10</b>(4), 792&ndash;805. &lt;doi: <a href="https://doi.org/10.1093/biostatistics/kxp032">10.1093/biostatistics/kxp032</a>&gt;
</p>
<p>Spiegelhalter DJ, Best NG, Carlin BP, Van Der Linde A (2002). &quot;Bayesian measures of model complexity and fit.&quot; <em>Journal of the Royal Statistical Society, Series B (Statistical Methodology)</em>, <b>64</b>(4), 583&ndash;639. &lt;doi: <a href="https://doi.org/10.1111/1467-9868.00353">10.1111/1467-9868.00353</a>&gt;
</p>
<p>Wei Y, Higgins JPT (2013). &quot;Bayesian multivariate meta-analysis with multiple outcomes.&quot; <em>Statistics in Medicine</em>, <b>32</b>(17), 2911&ndash;2934. &lt;doi: <a href="https://doi.org/10.1002/sim.5745">10.1002/sim.5745</a>&gt;
</p>
<p>Zhang J, Carlin BP, Neaton JD, Soon GG, Nie L, Kane R, Virnig BA, Chu H (2014). &quot;Network meta-analysis of randomized clinical trials: Reporting the proper summaries.&quot; <em>Clinical Trials</em>, <b>11</b>(2), 246&ndash;262. &lt;doi: <a href="https://doi.org/10.1177/1740774513498322">10.1177/1740774513498322</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>, <code><a href="#topic+nma.ab.cont">nma.ab.cont</a></code>, <code><a href="#topic+nma.ab.followup">nma.ab.followup</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#data("dietaryfat")
# increase n.iter to reach convergence of MCMC
# increase n.adapt to enhance efficiency
#set.seed(1234)
#py.out &lt;- nma.ab.py(s.id, t.id, r, py, data = dietaryfat, model = "het_cor",
#  n.adapt = 300, n.iter = 100, n.chains = 1)
</code></pre>

<hr>
<h2 id='nma.networkplot'>
Plotting Treatment Network
</h2><span id='topic+nma.networkplot'></span>

<h3>Description</h3>

<p>Visualizes the network of treatment comparisons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nma.networkplot(s.id, t.id, n, data, title = "", title.cex = 1, trtname,
                alphabetic = TRUE, multi.show = FALSE, multi.col,
                weight.edge = TRUE, adjust.thick = 5, weight.node = TRUE,
                weight.node.ss = FALSE, adjust.node.size = 10,
                node.col = "gray", edge.col = "black", text.cex = 1,
                adjust.figsizex = 1.1, adjust.figsizey = 1.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nma.networkplot_+3A_s.id">s.id</code></td>
<td>

<p>a numeric or character vector specifying study ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_t.id">t.id</code></td>
<td>

<p>a numeric or character vector specifying treatment ID, or the corresponding column name in the argument <code>data</code>.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_n">n</code></td>
<td>

<p>a numeric or character vector specifying sample size, or the corresponding column name in the argument <code>data</code>. It is used only when the node size is proportional to the total sample size of the corresponding treatment (<code>weight.node.ss</code> = <code>TRUE</code>).
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_data">data</code></td>
<td>

<p>an optional data frame containing the dataset of the network meta-analysis. If <code>data</code> is specified, the previous arguments, <code>s.id</code>, <code>t.id</code>, and <code>n</code>, should be specified as the corresponding column names in <code>data</code>; otherwise, the previous arguments use environment variables.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_title">title</code></td>
<td>

<p>a character string indicating the plot title.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_title.cex">title.cex</code></td>
<td>

<p>the size of the plot title.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_trtname">trtname</code></td>
<td>

<p>a vector of character strings specifying the treatment names for the corresponding treatment IDs according to their order in <code>t.id</code>. If not specified, <code>t.id</code> is used as treatment names.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_alphabetic">alphabetic</code></td>
<td>

<p>a logical value indicating whether to sort treatment nodes alphabetically in the network plot. The default is <code>TRUE</code>. If <code>FALSE</code>, treatment nodes are sorted by the treatment IDs specified in <code>t.id</code>.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_multi.show">multi.show</code></td>
<td>

<p>a logical value indicating whether to show multi-arm studies (if any). Multi-arm studies with different treatment sets are visualized by shaded treatment loops in different colors.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_multi.col">multi.col</code></td>
<td>

<p>an optional vector of colors for visualizing multi-arm studies.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_weight.edge">weight.edge</code></td>
<td>

<p>a logical value indicating whether to draw the edges proportionally to the number of direct treatment comparisons. The default is <code>TRUE</code>.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_adjust.thick">adjust.thick</code></td>
<td>

<p>a positive integer specifying the maximum thickness of the edge when <code>weight</code> is <code>TRUE</code>. The default is 5.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_weight.node">weight.node</code></td>
<td>

<p>a logical value indicating whether the node size is weighted by the total sample size or the total number of direct treatment comparisons of the corresponding treatment (<code>TRUE</code>, the default) or all treatment nodes have equal sizes (<code>FALSE</code>).
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_weight.node.ss">weight.node.ss</code></td>
<td>

<p>a logical value indicating whether the node size is proportional to the total sample size (<code>TRUE</code>) or the total number of direct treatment comparisons (<code>FALSE</code>, the default) of the corresponding treatment.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_adjust.node.size">adjust.node.size</code></td>
<td>

<p>a positive number to adjust the node sizes when <code>weight.node</code> is <code>TRUE</code>. The default is 10.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_node.col">node.col</code></td>
<td>

<p>a character string specifying the color of treatment nodes. The default is <code>"gray"</code>.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_edge.col">edge.col</code></td>
<td>

<p>a character string specifying the color of edges between treatments nodes. The default is <code>"black"</code>.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_text.cex">text.cex</code></td>
<td>

<p>a positive integer specifying the sizes of treatment names placed around/on the corresponding nodes. The default is 1.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_adjust.figsizex">adjust.figsizex</code></td>
<td>

<p>a positive number used to adjust the plot width. The default is 1.1.
</p>
</td></tr>
<tr><td><code id="nma.networkplot_+3A_adjust.figsizey">adjust.figsizey</code></td>
<td>

<p>a positive number used to adjust the plot height. The default is 1.1.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A network plot is generated. Each node represents a treatment, and the edges indicate the direct comparisons between the two treatments.
</p>


<h3>References</h3>

<p>Lin L, Zhang J, Hodges JS, Chu H (2017). &quot;Performing arm-based network meta-analysis in R with the pcnetmeta package.&quot; <em>Journal of Statistical Software</em>, <b>80</b>(5), 1&ndash;25. &lt;doi: <a href="https://doi.org/10.18637/jss.v080.i05">10.18637/jss.v080.i05</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("smoke")
# NC: No contact; SH: Self-help
# IC: individual counseling; GC: group counseling
nma.networkplot(s.id, t.id, data = smoke, title = "Smoke Cessation",
  trtname = c("NC", "SH", "IC", "GC"))
nma.networkplot(s.id, t.id, n, data = smoke, title = "Smoke Cessation",
  trtname = c("NC", "SH", "IC", "GC"),
  weight.node.ss = TRUE, multi.show = TRUE)

data("diabetes")
nma.networkplot(s.id, t.id, data = diabetes, title = "Diabetes",
  trtname = c("Diuretic", "Placebo", "b-blocker", "CCB", "ACE inhibitor",
  "ARB"))
nma.networkplot(s.id, t.id, data = diabetes, title = "Diabetes",
  trtname = c("Diuretic", "Placebo", "b-blocker", "CCB", "ACE inhibitor",
  "ARB"), multi.show = TRUE)
nma.networkplot(s.id, t.id, n, data = diabetes, title = "",
  weight.node.ss = TRUE, multi.show = TRUE)
mtext(text = "Diabetes", side = 3, line = 0, font = 1, cex = 2)
</code></pre>

<hr>
<h2 id='parkinson'>
Network Meta-Ananlysis on Parkinson's Disease
</h2><span id='topic+parkinson'></span>

<h3>Description</h3>

<p>An example of network meta-analysis for continuous outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("parkinson")</code></pre>


<h3>Format</h3>

<p>A data frame containing 7 studies which compare 5 treatments.
</p>

<dl>
<dt><code>s.id</code></dt><dd><p>a numeric vector of study IDs.</p>
</dd>
<dt><code>t.id</code></dt><dd><p>a numeric vector of treatment IDs.</p>
</dd>
<dt><code>mean</code></dt><dd><p>a numeric vector of the mean of continuous outcomes in each treatment group in each study.</p>
</dd>
<dt><code>sd</code></dt><dd><p>a numeric vector of the standard deviance of continuous outcomes in each treatment group in each study.</p>
</dd>
<dt><code>n</code></dt><dd><p>a numeric vector of the total number of participants in each treatment group in each study.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The continuous outcome measures the off-time reduction in patients given dopamine agonists as adjunct therapy in Parkinson's disease. Treatment 1 is placebo and treatments 2 to 5 are active drugs.
</p>


<h3>Source</h3>

<p>Dias S, Sutton AJ, Ades AE, Welton NJ (2013). &quot;Evidence synthesis for decision making 2: a generalized linear modeling framework for pairwise and network meta-analysis of randomized controlled trials.&quot; <em>Medical Decision Making</em>, <b>33</b>(5), 607&ndash;617. &lt;doi: <a href="https://doi.org/10.1177/0272989X12458724">10.1177/0272989X12458724</a>&gt;
</p>

<hr>
<h2 id='rank.prob'>
Plotting Treatment Rank Probabilities
</h2><span id='topic+rank.prob'></span>

<h3>Description</h3>

<p><code>rank.prob</code> generates a plot for treatment rank probabilities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rank.prob(nma.obj, cex.axis = 1, cex.lab = 1, median = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rank.prob_+3A_nma.obj">nma.obj</code></td>
<td>

<p>a list object obtained by function <code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>, <code><a href="#topic+nma.ab.cont">nma.ab.cont</a></code>, <code><a href="#topic+nma.ab.py">nma.ab.py</a></code>, or <code><a href="#topic+nma.ab.followup">nma.ab.followup</a></code>.
</p>
</td></tr>
<tr><td><code id="rank.prob_+3A_cex.axis">cex.axis</code></td>
<td>

<p>a numeric value specifying the size of the tick label numbers/text.
</p>
</td></tr>
<tr><td><code id="rank.prob_+3A_cex.lab">cex.lab</code></td>
<td>

<p>a numeric value specifying the size of the axis label text.
</p>
</td></tr>
<tr><td><code id="rank.prob_+3A_median">median</code></td>
<td>

<p>a logical value indicating whether the rank probabilities are based on the marginal effect measures (<code>FALSE</code>, the default) or the overall median odds ratios. This argument is only used when <code>link</code> = <code>"logit"</code> in <code><a href="#topic+nma.ab.bin">nma.ab.bin</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A plot of treatment rank probabilities is generated. Each vertical bar represents probabilities of being different ranks for a specific treatment. A darker area indicates the probability of being a higher rank. The black area indicates the probability of being the best treatment.
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("smoke")
# increase n.iter to reach convergence
set.seed(1234)
nma.out &lt;- nma.ab.bin(s.id, t.id, r, n, data = smoke,
  trtname = c("NC", "SH", "IC", "GC"), param = "rank.prob", model = "het_cor",
  higher.better = TRUE, n.adapt = 1000, n.iter = 100, n.chains = 1)
rank.prob(nma.out)
</code></pre>

<hr>
<h2 id='smoke'>
Network Meta-Analysis on Smoking Cessation Data
</h2><span id='topic+smoke'></span>

<h3>Description</h3>

<p>An example of network meta-analysis for binary outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("smoke")</code></pre>


<h3>Format</h3>

<p>A data frame containing 24 studies on smoking cessation, comparing four treatments.
</p>

<dl>
<dt><code>s.id</code></dt><dd><p>a numeric vector of study IDs.</p>
</dd>
<dt><code>t.id</code></dt><dd><p>a numeric vector of treatment IDs.</p>
</dd>
<dt><code>r</code></dt><dd><p>a numeric vector of the event count for a certain treatment in the corresponding study.</p>
</dd>
<dt><code>n</code></dt><dd><p>a numeric vector of the total number of participants for a certain treatment in the corresponding study.</p>
</dd>
</dl>



<h3>Details</h3>

<p>Treatment IDs stand for 1) no contact; 2) self-help; 3) individual counseling; and 4) group counseling.
</p>


<h3>Source</h3>

<p>Hasselblad V (1998) &quot;Meta-analysis of multitreatment studies.&quot; <em>Medical Decision Making</em>, <b>18</b>(1), 37&ndash;43. &lt;doi: <a href="https://doi.org/10.1177/0272989X9801800110">10.1177/0272989X9801800110</a>&gt;
</p>
<p>Lu G, Ades AE (2006) &quot;Assessing evidence inconsistency in mixed treatment comparisons.&quot; <em>Journal of the American Statistical Association</em> <b>101</b>(474), 447&ndash;459. &lt;doi: <a href="https://doi.org/10.1198/016214505000001302">10.1198/016214505000001302</a>&gt;
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

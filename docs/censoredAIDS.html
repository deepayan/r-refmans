<!DOCTYPE html><html lang="en"><head><title>Help for package censoredAIDS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {censoredAIDS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aidsCalculate'><p>Calculate the demand share equations of a AI or QUAI demand system, including demographic variable.</p></a></li>
<li><a href='#censoredaidsLoglike'><p>Calculates the truncated (censored) log-likehood function of a share system of equations of a AI or QUAI demand system.</p></a></li>
<li><a href='#censoredElasticity'><p>Numerical approximation to censored AI or QUAI demand system elasticities, including demographic variable.</p></a></li>
<li><a href='#MexicanHH_foodConsumption'><p>National Survey of Household Income and Expenditures (ENIGH)</p></a></li>
<li><a href='#muaidsCalculate'><p>Calculate the demand share equations of a AI or QUAI demand system, including demographic variable, using point estimates (e.g., mean, median, percentiles).</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Estimation of Censored AI/QUAI Demand System via Maximum
Likelihood Estimation (MLE)</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for estimating censored Almost Ideal (AI) and Quadratic Almost Ideal (QUAI) demand systems using Maximum Likelihood Estimation (MLE). It includes functions for calculating demand share equations and the truncated log-likelihood function for a system of equations, incorporating demographic variables. The package is designed to handle censored data, where some observations may be zero due to non-purchase of certain goods. Package also contains a procedure to approximate demand elasticities numerically and estimate standard errors via Delta Method. It is particularly useful for applied researchers analyzing household consumption data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, mnormt, mvtnorm, stats, matrixcalc</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-18 12:14:49 UTC; Noe.Nava</td>
</tr>
<tr>
<td>Author:</td>
<td>Noé J Nava [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Noé J Nava &lt;noejnava2@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-18 13:00:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='aidsCalculate'>Calculate the demand share equations of a AI or QUAI demand system, including demographic variable.</h2><span id='topic+aidsCalculate'></span>

<h3>Description</h3>

<p>Calculate the demand share equations of a AI or QUAI demand system, including demographic variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aidsCalculate(
  Prices = matrix(),
  Budget = matrix(),
  ShareNames = NULL,
  Demographics = matrix(),
  DemographicNames = NULL,
  Params = matrix(),
  quaids = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aidsCalculate_+3A_prices">Prices</code></td>
<td>
<p>A matrix of logged prices with (nxm) dimensions where n is the number of observations and m the number of shares.</p>
</td></tr>
<tr><td><code id="aidsCalculate_+3A_budget">Budget</code></td>
<td>
<p>A matrix of logged total expenditure/budget with (nx1) dimensions where n is the number of observations.</p>
</td></tr>
<tr><td><code id="aidsCalculate_+3A_sharenames">ShareNames</code></td>
<td>
<p>A vector of strings containing the share names with (mx1) dimensions where m is the number of shares.</p>
</td></tr>
<tr><td><code id="aidsCalculate_+3A_demographics">Demographics</code></td>
<td>
<p>A matrix of demographic variables with (nxt) dimensions where n is the number of observations and t the number of demographic variables.</p>
</td></tr>
<tr><td><code id="aidsCalculate_+3A_demographicnames">DemographicNames</code></td>
<td>
<p>A vector of strings containing the demographic names with (tx1) dimensions where t is the number of demographic variables.</p>
</td></tr>
<tr><td><code id="aidsCalculate_+3A_params">Params</code></td>
<td>
<p>A vector containing the parameters alpha, beta, gamma, and theta and lambda if elected.</p>
</td></tr>
<tr><td><code id="aidsCalculate_+3A_quaids">quaids</code></td>
<td>
<p>Logical. Should quadratic form be used instead?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of estimated shares with (nxm) dimensions where n is the number of observations and m the number of shares.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
testing_data &lt;- censoredAIDS::MexicanHH_foodConsumption

# Organizing the data for comfort
s1 &lt;- testing_data$s1
s2 &lt;- testing_data$s2
s3 &lt;- testing_data$s3
s4 &lt;- testing_data$s4
s5 &lt;- testing_data$s5
s6 &lt;- testing_data$s6

lnp1 &lt;- testing_data$lnp1
lnp2 &lt;- testing_data$lnp2
lnp3 &lt;- testing_data$lnp3
lnp4 &lt;- testing_data$lnp4
lnp5 &lt;- testing_data$lnp5
lnp6 &lt;- testing_data$lnp6

age &lt;- testing_data$age
size &lt;- testing_data$size
sex &lt;- testing_data$sex
educ &lt;- testing_data$educ

# Alpha
b0 &lt;- rep(0, 5)

# Beta
b0 &lt;- c(b0, rep(0.003, 5))

# Gamma
b0 &lt;- c(b0,0.01,0,0.01,0,0, 0.01,0,0,0,0.01,0,0,0,0,0.01)

# Demos
b0 &lt;- c(b0,rep(0.002, 20))

# Sigma
b0 &lt;- c(b0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,1)

li1 &lt;- censoredaidsLoglike(
  Params = b0,
  Shares = matrix(c(s1, s2, s3, s4, s5, s6), ncol = 6),
  Prices = matrix(c(lnp1, lnp2, lnp3, lnp4, lnp5, lnp6), ncol = 6),
  Budget = matrix(testing_data$lnw),
  Demographics = matrix(c(age, size, educ, sex), ncol = 4),
  quaids = FALSE
)


## End(Not run)





</code></pre>

<hr>
<h2 id='censoredaidsLoglike'>Calculates the truncated (censored) log-likehood function of a share system of equations of a AI or QUAI demand system.</h2><span id='topic+censoredaidsLoglike'></span>

<h3>Description</h3>

<p>Calculates the truncated (censored) log-likehood function of a share system of equations of a AI or QUAI demand system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censoredaidsLoglike(
  Shares = matrix(),
  Prices = matrix(),
  Budget = matrix(),
  ShareNames = NULL,
  Demographics = matrix(),
  DemographicNames = NULL,
  Params = matrix(),
  quaids = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censoredaidsLoglike_+3A_shares">Shares</code></td>
<td>
<p>A matrix of shares with (nxm) dimensions where n is the number of observations and m the number of shares.</p>
</td></tr>
<tr><td><code id="censoredaidsLoglike_+3A_prices">Prices</code></td>
<td>
<p>A matrix of logged prices with (nxm) dimensions where n is the number of observations and m the number of shares.</p>
</td></tr>
<tr><td><code id="censoredaidsLoglike_+3A_budget">Budget</code></td>
<td>
<p>A matrix of logged total expenditure/budget with (nx1) dimensions where n is the number of observations.</p>
</td></tr>
<tr><td><code id="censoredaidsLoglike_+3A_sharenames">ShareNames</code></td>
<td>
<p>A vector of strings containing the share names with (mx1) dimensions where m is the number of shares.</p>
</td></tr>
<tr><td><code id="censoredaidsLoglike_+3A_demographics">Demographics</code></td>
<td>
<p>A matrix of demographic variables with (nxt) dimensions where n is the number of observations and t the number of demographic variables.</p>
</td></tr>
<tr><td><code id="censoredaidsLoglike_+3A_demographicnames">DemographicNames</code></td>
<td>
<p>A vector of strings containing the demographic names with (tx1) dimensions where t is the number of demographic variables.</p>
</td></tr>
<tr><td><code id="censoredaidsLoglike_+3A_params">Params</code></td>
<td>
<p>A vector containing the parameters alpha, beta, gamma, and theta and lambda if elected.</p>
</td></tr>
<tr><td><code id="censoredaidsLoglike_+3A_quaids">quaids</code></td>
<td>
<p>Logical. Should quadratic form be used instead?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector for individual loglikehood contributions with dimensions (nx1) where n is the number of observations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
testing_data &lt;- censoredAIDS::MexicanHH_foodConsumption

# Organizing the data for comfort
s1 &lt;- testing_data$s1
s2 &lt;- testing_data$s2
s3 &lt;- testing_data$s3
s4 &lt;- testing_data$s4
s5 &lt;- testing_data$s5
s6 &lt;- testing_data$s6

lnp1 &lt;- testing_data$lnp1
lnp2 &lt;- testing_data$lnp2
lnp3 &lt;- testing_data$lnp3
lnp4 &lt;- testing_data$lnp4
lnp5 &lt;- testing_data$lnp5
lnp6 &lt;- testing_data$lnp6

age &lt;- testing_data$age
size &lt;- testing_data$size
sex &lt;- testing_data$sex
educ &lt;- testing_data$educ

# Alpha
b0 &lt;- rep(0, 5)

# Beta
b0 &lt;- c(b0, rep(0.003, 5))

# Gamma
b0 &lt;- c(b0,0.01,0,0.01,0,0, 0.01,0,0,0,0.01,0,0,0,0,0.01)

# Demos
b0 &lt;- c(b0,rep(0.002, 20))

# Sigma
b0 &lt;- c(b0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,1)

  f &lt;- censoredaidsLoglike(
Params = b0,
Shares = matrix(c(s1, s2, s3, s4, s5, s6), ncol = 6),
Prices = matrix(c(lnp1, lnp2, lnp3, lnp4, lnp5, lnp6), ncol = 6),
Budget = matrix(testing_data$lnw),
Demographics = matrix(c(age, size, educ, sex), ncol = 4),
quaids = FALSE
)

## End(Not run)



</code></pre>

<hr>
<h2 id='censoredElasticity'>Numerical approximation to censored AI or QUAI demand system elasticities, including demographic variable.</h2><span id='topic+censoredElasticity'></span>

<h3>Description</h3>

<p>Numerical approximation to censored AI or QUAI demand system elasticities, including demographic variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censoredElasticity(
  Prices = matrix(),
  Budget = matrix(),
  ShareNames = NULL,
  Demographics = matrix(),
  DemographicNames = NULL,
  Params = matrix(),
  quaids = FALSE,
  vcov = matrix(),
  func,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censoredElasticity_+3A_prices">Prices</code></td>
<td>
<p>A matrix of logged prices with (nxm) dimensions where n is the number of observations and m the number of shares.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_budget">Budget</code></td>
<td>
<p>A matrix of logged total expenditure/budget with (nx1) dimensions where n is the number of observations.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_sharenames">ShareNames</code></td>
<td>
<p>A vector of strings containing the share names with (mx1) dimensions where m is the number of shares.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_demographics">Demographics</code></td>
<td>
<p>A matrix of demographic variables with (nxt) dimensions where n is the number of observations and t the number of demographic variables.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_demographicnames">DemographicNames</code></td>
<td>
<p>A vector of strings containing the demographic names with (tx1) dimensions where t is the number of demographic variables.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_params">Params</code></td>
<td>
<p>A vector containing the parameters alpha, beta, gamma, and theta and lambda if elected.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_quaids">quaids</code></td>
<td>
<p>Logical. Should quadratic form be used instead?</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_vcov">vcov</code></td>
<td>
<p>A variance-covariance matrix of the parameters. Must be positive semi-definite and symmetric.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_func">func</code></td>
<td>
<p>A function to be applied to the data at which point estimate elasticities are being evaluated.</p>
</td></tr>
<tr><td><code id="censoredElasticity_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to func.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a matrix of price and income elasticities, a matrix with their respective standard errors approximated using the delta method, and a matrix of expected shares that can serve to run further post-estimation analyses.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

testing_data &lt;- censoredAIDS::MexicanHH_foodConsumption

# Organizing the data for comfort
s1 &lt;- testing_data$s1
s2 &lt;- testing_data$s2
s3 &lt;- testing_data$s3
s4 &lt;- testing_data$s4
s5 &lt;- testing_data$s5
s6 &lt;- testing_data$s6

lnp1 &lt;- testing_data$lnp1
lnp2 &lt;- testing_data$lnp2
lnp3 &lt;- testing_data$lnp3
lnp4 &lt;- testing_data$lnp4
lnp5 &lt;- testing_data$lnp5
lnp6 &lt;- testing_data$lnp6

age &lt;- testing_data$age
size &lt;- testing_data$size
sex &lt;- testing_data$sex
educ &lt;- testing_data$educ

# Alpha
b0 &lt;- rep(0, 5)

# Beta
b0 &lt;- c(b0, rep(0.003, 5))

# Gamma
b0 &lt;- c(b0,0.01,0,0.01,0,0, 0.01,0,0,0,0.01,0,0,0,0,0.01)

# Demos
b0 &lt;- c(b0,rep(0.002, 20))

# Sigma
b0 &lt;- c(b0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,1)

vcov &lt;- matrix(0, nrow = length(b0), ncol = length(b0))
vcov[upper.tri(vcov, diag = TRUE)] &lt;- runif(.5*length(b0)*(1+length(b0)))
vcov &lt;- t(vcov) %*% vcov

list_etas &lt;- censoredElasticity(
Params = b0,
Shares = matrix(c(s1, s2, s3, s4, s5, s6), ncol = 6),
Prices = matrix(c(lnp1, lnp2, lnp3, lnp4, lnp5, lnp6), ncol = 6),
Budget = matrix(testing_data$lnw),
Demographics = matrix(c(age, size, educ, sex), ncol = 4),
quaids = FALSE,
func = mean,
na.rm = TRUE,
vcov = vcov
)

## End(Not run)


</code></pre>

<hr>
<h2 id='MexicanHH_foodConsumption'>National Survey of Household Income and Expenditures (ENIGH)</h2><span id='topic+MexicanHH_foodConsumption'></span>

<h3>Description</h3>

<p>MexicanHH_foodConsumption is a 10 percent sample of the data described in Beckman et al. (2024)'s Land Competition and Welfare Effects from Mexico's Proposal to Ban Genetically Modified Corn. An overview of the data construction and assessment is further discussed in the study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MexicanHH_foodConsumption
</code></pre>


<h3>Format</h3>

<p>## 'MexicanHH_foodConsumption'
A data frame with 8,777 rows and 17 columns:
</p>

<dl>
<dt>s1</dt><dd><p>Share of tortilla consumption by household.</p>
</dd>
<dt>s2</dt><dd><p>Share of cereal consumption by household.</p>
</dd>
<dt>s3</dt><dd><p>Share of meat consumption by household.</p>
</dd>
<dt>s4</dt><dd><p>Share of dairy consumption by household.</p>
</dd>
<dt>s5</dt><dd><p>Share of fruits and vegetables consumption by household.</p>
</dd>
<dt>s6</dt><dd><p>Share of other consumption by household.</p>
</dd>
<dt>lnp1</dt><dd><p>Logged price of tortilla.</p>
</dd>
<dt>lnp2</dt><dd><p>Logged price of cereal.</p>
</dd>
<dt>lnp3</dt><dd><p>Logged price of meat.</p>
</dd>
<dt>lnp4</dt><dd><p>Logged price of dairy.</p>
</dd>
<dt>lnp5</dt><dd><p>Logged price of fruits and vegetables.</p>
</dd>
<dt>lnp6</dt><dd><p>Logged price of other.</p>
</dd>
<dt>lnw</dt><dd><p>Logged food expenditure by household .</p>
</dd>
<dt>age</dt><dd><p>Logged age of head of household.</p>
</dd>
<dt>size</dt><dd><p>Inverse (1/x) of size of household.</p>
</dd>
<dt>sex</dt><dd><p>Sex (female == 1) of head of household.</p>
</dd>
<dt>educ</dt><dd><p>Educational attaintment of head of household.</p>
</dd>
</dl>

<p>' @source &lt;https://en.www.inegi.org.mx/programas/enigh/nc/2022/&gt;
</p>

<hr>
<h2 id='muaidsCalculate'>Calculate the demand share equations of a AI or QUAI demand system, including demographic variable, using point estimates (e.g., mean, median, percentiles).</h2><span id='topic+muaidsCalculate'></span>

<h3>Description</h3>

<p>Calculate the demand share equations of a AI or QUAI demand system, including demographic variable, using point estimates (e.g., mean, median, percentiles).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>muaidsCalculate(
  muPrices = numeric(),
  muBudget = numeric(),
  muDemographics = numeric(),
  Params = matrix(),
  quaids = FALSE,
  m = numeric(),
  t = numeric(),
  dems = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="muaidsCalculate_+3A_muprices">muPrices</code></td>
<td>
<p>A matrix of logged muPrices with (1xm) dimensions where n is the number of observations and m the number of shares.</p>
</td></tr>
<tr><td><code id="muaidsCalculate_+3A_mubudget">muBudget</code></td>
<td>
<p>A matrix of logged total expenditure/muBudget with (1x1) dimensions where n is the number of observations.</p>
</td></tr>
<tr><td><code id="muaidsCalculate_+3A_mudemographics">muDemographics</code></td>
<td>
<p>A matrix of demographic variables with (1xt) dimensions where n is the number of observations and t the number of demographic variables.</p>
</td></tr>
<tr><td><code id="muaidsCalculate_+3A_params">Params</code></td>
<td>
<p>A vector containing the parameters alpha, beta, gamma, and theta and lambda if elected.</p>
</td></tr>
<tr><td><code id="muaidsCalculate_+3A_quaids">quaids</code></td>
<td>
<p>Logical. Should quadratic form be used instead?</p>
</td></tr>
<tr><td><code id="muaidsCalculate_+3A_m">m</code></td>
<td>
<p>Number of shares.</p>
</td></tr>
<tr><td><code id="muaidsCalculate_+3A_t">t</code></td>
<td>
<p>Number of demographic variables.</p>
</td></tr>
<tr><td><code id="muaidsCalculate_+3A_dems">dems</code></td>
<td>
<p>Bolean. Should demographic variables be included?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of estimated shares with (1xm) dimensions where n is the number of observations and m the number of shares.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

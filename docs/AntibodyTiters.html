<!DOCTYPE html><html lang="en"><head><title>Help for package AntibodyTiters</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {AntibodyTiters}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AntibodyTiters-package'>
<p>Antibody Titer Analysis of Vaccinated Patients.</p></a></li>
<li><a href='#emptyABT'>
<p>Production of an empty xlsx file</p>
in which experimental results should be recorded.</a></li>
<li><a href='#groupAttribABT'>
<p>Grouping of patients by scores.</p></a></li>
<li><a href='#halfLifeABT'>
<p>Calculating half-life from an ABT class object.</p></a></li>
<li><a href='#idABT'>
<p>Extracting patient IDs from an ABT class object.</p></a></li>
<li><a href='#plotAllABT'>
<p>Plotting antibody titers of All patients.</p></a></li>
<li><a href='#plotEachABT'>
<p>Plotting antibody titers of each patient.</p></a></li>
<li><a href='#readABT'>
<p>Reading an xlsx file</p>
and examining the validity of the dataset.</a></li>
<li><a href='#toyABT'>
<p>Production of an xlsx file with toy data.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.1.24</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-05-24</td>
</tr>
<tr>
<td>Title:</td>
<td>Antibody Titer Analysis of Vaccinated Patients</td>
</tr>
<tr>
<td>Author:</td>
<td>Yuuki Mizumoto [aut],
  Hiroaki Kato <a href="https://orcid.org/0000-0001-9591-1875"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Takeshi Urano [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hiroaki Kato &lt;hkato@med.shimane-u.ac.jp&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>openxlsx (&ge; 4.2.4), R (&ge; 3.3.0), DescTools (&ge; 0.99.43)</td>
</tr>
<tr>
<td>Description:</td>
<td>Visualization of antibody titer scores is valuable for examination of vaccination 
    effects. 'AntibodyTiters' visualizes antibody titers of all or selected patients. This 
    package also produces empty excel files in a specified format, in which users can fill in 
    experimental data for visualization. Excel files with toy data can also be produced, so that 
    users can see how it is visualized before obtaining real data. The data should contain 
    titer scores at pre-vaccination, after-1st shot, after-2nd shot, and at least one 
    additional sampling points. Patients with missing values can be included. The first two 
    sampling points (pre-vaccination and after-1st shot) will be plotted discretely, whereas 
    those following will be plotted on a continuous time scale that starts from the day of 
    second shot. Half-life of titer can also be calculated for each pair of sampling points.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-24 03:25:52 UTC; hrk_kato</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-24 04:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='AntibodyTiters-package'>
Antibody Titer Analysis of Vaccinated Patients.
</h2><span id='topic+AntibodyTiters-package'></span><span id='topic+AntibodyTiters'></span>

<h3>Description</h3>

<p>Visualization of antibody titer scores is valuable for examination of vaccination effects. <span class="pkg">AntibodyTiters</span> visualizes antibody titers of all or selected patients. This package also produces empty excel files in a specified format, in which users can fill in experimental data for visualization. Excel files with toy data can also be produced, so that users can see how it is visualized before obtaining real data. The data should contain titer scores at pre-vaccination, after-1st shot, after-2nd shot, and at least one additional sampling points. Patients with missing values can be included. The first two sampling points (pre-vaccination and after-1st shot) will be plotted discretely, whereas those following will be plotted on a continuous time scale that starts from the day of second shot. Half-life of titer can also be calculated for each pair of sampling points.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
    Package: </td><td style="text-align: left;"> AntibodyTiters</td>
</tr>
<tr>
 <td style="text-align: left;">
    Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
    Version: </td><td style="text-align: left;"> 0.1.24</td>
</tr>
<tr>
 <td style="text-align: left;">
    Date: </td><td style="text-align: left;"> 2022-05-24</td>
</tr>
<tr>
 <td style="text-align: left;">
    License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p><code><a href="#topic+emptyABT">emptyABT</a></code>: Production of an empty xlsx file 
in which experimental results should be recorded.
</p>
<p><code><a href="#topic+groupAttribABT">groupAttribABT</a></code>: Addition of a new attribute that 
categorizes patients in specified groups to an ABT class object. 
</p>
<p><code><a href="#topic+idABT">idABT</a></code>: Extracting patient IDs from an ABT class object.
</p>
<p><code><a href="#topic+plotAllABT">plotAllABT</a></code>: Plotting antibody titers of All 
patients.
</p>
<p><code><a href="#topic+plotEachABT">plotEachABT</a></code>: Plotting antibody titers of each 
patient.
</p>
<p><code><a href="#topic+readABT">readABT</a></code>: Reading an xlsx file 
and examining the validity of the dataset.
</p>
<p><code><a href="#topic+halfLifeABT">halfLifeABT</a></code>: Calculating half-life from an ABT class object.
</p>
<p><code><a href="#topic+toyABT">toyABT</a></code>: Production of an xlsx file with toy data. 
</p>


<h3>Author(s)</h3>

<p>Yuuki Mizumoto, Hiroaki Kato, Takeshi Urano<br />
Maintainer: Hiroaki Kato &lt;hkato@med.shimane-u.ac.jp&gt;
</p>

<hr>
<h2 id='emptyABT'>
Production of an empty xlsx file 
in which experimental results should be recorded.
</h2><span id='topic+emptyABT'></span>

<h3>Description</h3>

<p><span class="pkg">AntibodyTiters</span> requires the input xlsx files be 
in a specific format. This function produces an empty 
xlsx file in the format. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>emptyABT(fileName = "empty.xlsx", pmax = 7, returnDF = FALSE, 
	Attrib = c("Sex", "Age", "VeryLow"), 
	attribFactors = list(c("F", "M"), c(18, 80), c(TRUE, FALSE)))
	</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="emptyABT_+3A_filename">fileName</code></td>
<td>
<p>a file name to be produced.</p>
</td></tr>
<tr><td><code id="emptyABT_+3A_pmax">pmax</code></td>
<td>
<p>an integer (&gt;=4 &amp; &lt;18) for specifying 
the maximam sampling point.</p>
</td></tr>
<tr><td><code id="emptyABT_+3A_returndf">returnDF</code></td>
<td>
<p>a logical value indicating 
whether a data.frame is returned 
instead of being stored as an xlsx file.</p>
</td></tr>
<tr><td><code id="emptyABT_+3A_attrib">Attrib</code></td>
<td>
<p>a character vector for the names of Attrib.</p>
</td></tr>
<tr><td><code id="emptyABT_+3A_attribfactors">attribFactors</code></td>
<td>
<p>a list determining the values of Attrib. 
If the names of Attrib contained &quot;Age&quot;, 
two numbers provided here are used as lower and upper limits.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>When the argument <code>returnDF</code> is <code>FALSE</code> (default), an xlsx file will be stored in the current directory. When <code>returnDF</code> is <code>TRUE</code>, a data.frame will be returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># emptyABT(fileName = "empty.xlsx", pmax = 7, returnDF = FALSE, 
# 	Attrib = c("Sex", "Age", "VeryLow"), 
# 	attribFactors = list(c("F", "M"), c(18, 80), c(TRUE, FALSE)))
# The above command will create an empty excel file named empty.xlsx 
# in the current directory. 
</code></pre>

<hr>
<h2 id='groupAttribABT'>
Grouping of patients by scores.
</h2><span id='topic+groupAttribABT'></span>

<h3>Description</h3>

<p>Addition of a new attribute that categorizes patients in specified groups to an ABT class object. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>groupAttribABT(objName = "inData", sourceAttrib = "Age", 
    newAttribName = "AgeGroup", groupNames = c("young", "middle", "elderly"),
    groupLimmits = list(c(0, 39), c(40, 64), c(65, 200)))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="groupAttribABT_+3A_objname">objName</code></td>
<td>
<p>a character specifying the name of an ABT class object produced by readABT.</p>
</td></tr>
<tr><td><code id="groupAttribABT_+3A_sourceattrib">sourceAttrib</code></td>
<td>
<p>a character specifying the name of source attribute. The contents of
this attribute must be integer of numeric.</p>
</td></tr>
<tr><td><code id="groupAttribABT_+3A_newattribname">newAttribName</code></td>
<td>
<p>a character specifying the name of the new attribute.</p>
</td></tr>
<tr><td><code id="groupAttribABT_+3A_groupnames">groupNames</code></td>
<td>
<p>a character vector specifying the names of categories.</p>
</td></tr>
<tr><td><code id="groupAttribABT_+3A_grouplimmits">groupLimmits</code></td>
<td>
<p>a list of two value integers specifying the lower and upper limmits of scores. 
The order of values in this list must correspond to the order of values in <code>groupNames</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an ABT class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inData &lt;- readABT(fileName = system.file("extdata","toy.xlsx",package="AntibodyTiters"))
inDataA &lt;- groupAttribABT(objName = "inData", sourceAttrib = "Age", 
    newAttribName = "AgeGroup", groupNames = c("young", "middle", "elderly"),
    groupLimmits = list(c(0, 39), c(40, 64), c(65, 200)))
plotAllABT("inDataA", lineAttrib = "AgeGroup", addPoints = TRUE, savePDF = FALSE, 
    orderOfCategories = c("young", "middle", "elderly"), type = "weeks")
plotAllABT("inDataA", lineAttrib = "AgeGroup", addPoints = TRUE, savePDF = FALSE, 
    orderOfCategories = c("young", "middle", "elderly"), type = "M1", geometricMean = TRUE)
</code></pre>

<hr>
<h2 id='halfLifeABT'>
Calculating half-life from an ABT class object.
</h2><span id='topic+halfLifeABT'></span>

<h3>Description</h3>

<p>This function calculates T1/2 for each set of sampling points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>halfLifeABT(x, output = "list", OutFileName = "Thalf.xlsx")</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="halfLifeABT_+3A_x">x</code></td>
<td>
<p>an ABT class object.</p>
</td></tr>
<tr><td><code id="halfLifeABT_+3A_output">output</code></td>
<td>
<p>a character specifying the type of output; &quot;list&quot;, &quot;data.frame&quot; or &quot;xlsx&quot;.</p>
</td></tr>
<tr><td><code id="halfLifeABT_+3A_outfilename">OutFileName</code></td>
<td>
<p>a character specifying the file name to be stored in the current directory when <code>output = "xlsx"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list, a data.frame or an xlsx file depending on the <code>output</code> argument. The list object (produced with <code>output="list"</code>) contains data.frame objects for each patients, whereas the data.frame object (produced with <code>output="data.frame"</code>) is a combined form derived from the list (simply produced with rbind). The data.frames contain columns named <code>ID</code> (patient ID), <code>START</code> (starting point), <code>END</code> (end point), <code>SPAN</code> (t), <code>MID</code> (mid point), <code>C0</code> (initial titer), <code>Ct</code> (titer at t) and <code>Thalf</code> (T1/2).  
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inData &lt;- readABT(fileName = system.file("extdata","toy.xlsx",package="AntibodyTiters"))
inDataVL &lt;- subset(inData, VeryLow == TRUE)
halfLifeABT(inDataVL, output = "data.frame")
</code></pre>

<hr>
<h2 id='idABT'>
Extracting patient IDs from an ABT class object.
</h2><span id='topic+idABT'></span>

<h3>Description</h3>

<p>With this function, patient IDs in the ABT class object 
can be extracted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>idABT(objName = "inData")</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="idABT_+3A_objname">objName</code></td>
<td>
<p>a character specifying the name of an ABT class object produced by readABT.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inData &lt;- readABT(fileName = system.file("extdata","toy.xlsx",package="AntibodyTiters"))
idABT(objName = "inData")[1:6]
</code></pre>

<hr>
<h2 id='plotAllABT'>
Plotting antibody titers of All patients.
</h2><span id='topic+plotAllABT'></span>

<h3>Description</h3>

<p>This function plots antibody titers of all the patients 
in the ABT class object produced by <code><a href="#topic+readABT">readABT</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotAllABT(objName = "inData", prefix = "", 
    dayStart = as.integer(NA), dayEnd = as.integer(NA), 
    type = "weeks", rainbow = FALSE, ylab = "Titer (AU/ml)", savePDF = FALSE, 
    alphaFactor = 10, lwd = 2, lineAttrib = "", addPoints = FALSE, 
    orderOfCategories = "", lowessSmooth = FALSE, geometricMean = FALSE,
    lineForPre = FALSE, lineFor1st = FALSE, logY = TRUE, PDFwidth = 8, PDFheight = 5, 
    main = NULL, omitPreVac = FALSE, lineColDark = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotAllABT_+3A_objname">objName</code></td>
<td>
<p>a character specifying the name of an ABT class object produced by readABT.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_prefix">prefix</code></td>
<td>
<p>a character to be atattched to the file name. This is active when <code>savePDF==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_daystart">dayStart</code></td>
<td>
<p>an integer specifying the start day, from which scores are plotted.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_dayend">dayEnd</code></td>
<td>
<p>an integer specifying the end day, to which scores are plotted.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_type">type</code></td>
<td>
<p>a character determining the time scale; &quot;weeks&quot;, &quot;days&quot;, &quot;M1&quot;, &quot;M2&quot;, &quot;M3&quot;, &quot;M4&quot;, &quot;M6&quot;. 
When &quot;weeks&quot; or &quot;days&quot; is chosen, plotting will be done on a continuous time scale. 
In contrast, when &quot;M1&quot; or other &quot;M-&quot; is chosen, time scale will be discrete. 
Bin sizes are one month (M1), two (M2), three (M3), four (M4), and six (M6) months.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_rainbow">rainbow</code></td>
<td>
<p>a logical indicating wether the line color is rainbow.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_ylab">ylab</code></td>
<td>
<p>a character for the y-axix label.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_savepdf">savePDF</code></td>
<td>
<p>a logical indicating wether a PDF file is stored in the current directory.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_alphafactor">alphaFactor</code></td>
<td>
<p>an integer for controlling the transparency of lines.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_lwd">lwd</code></td>
<td>
<p>an integer for controlling the width of lines.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_lineattrib">lineAttrib</code></td>
<td>
<p>a character specifying the name of attribute for which lowess or geometric mean lines are drawn for each group.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_addpoints">addPoints</code></td>
<td>
<p>a logical indicating wether points are plotted. This is active when <code>lineAttrib!=""</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_orderofcategories">orderOfCategories</code></td>
<td>
<p>a character vector specifying the order of categories listed as legends. This is active when <code>lineAttrib!=""</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_lowesssmooth">lowessSmooth</code></td>
<td>
<p>a logical indicating wether lowess lines are plotted. This is active when <code>lineAttrib!=""</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_geometricmean">geometricMean</code></td>
<td>
<p>a logical indicating wether geometric mean lines are plotted. This is active when <code>lineAttrib!=""</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_lineforpre">lineForPre</code></td>
<td>
<p>a logical indicating wether lines that connects the pre-vaccination sampling point to others are plotted. This is active when <code>lineAttrib!="" &amp; geometricMean==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_linefor1st">lineFor1st</code></td>
<td>
<p>a logical indicating wether lines that connects the after-1st shot sampling point to others are plotted. This is active when <code>lineAttrib!="" &amp; geometricMean==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_logy">logY</code></td>
<td>
<p>a logical indicating whether Y-axis is in log scale.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_pdfwidth">PDFwidth</code></td>
<td>
<p>an integer specifying the width of PDF. This is active when <code>savePDF==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_pdfheight">PDFheight</code></td>
<td>
<p>an integer specifying the height of PDF. This is active when <code>savePDF==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_main">main</code></td>
<td>
<p>a character for the main title. When not specified, <code>objName</code> will be used as the title.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_omitprevac">omitPreVac</code></td>
<td>
<p>a logical indicating whether pre-vaccination will be omitted.</p>
</td></tr>
<tr><td><code id="plotAllABT_+3A_linecoldark">lineColDark</code></td>
<td>
<p>a logical indicating whether line colors will be darkened.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No object will be returned. Instead, this function will drow a plot in a graphic device, or save a PDF file in the current directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inData &lt;- readABT(fileName = system.file("extdata","toy.xlsx",package="AntibodyTiters"))

# logY
plotAllABT(objName = "inData", type = "weeks", rainbow = TRUE, logY = TRUE)
plotAllABT(objName = "inData", type = "weeks", rainbow = TRUE, logY = FALSE)

# lineAttrib, lowessSmooth, addPoints
plotAllABT(objName = "inData", type = "weeks", rainbow = FALSE, 
    lineAttrib = "Sex")
plotAllABT(objName = "inData", type = "weeks", rainbow = FALSE, 
    lineAttrib = "Sex", lowessSmooth = TRUE)
plotAllABT(objName = "inData", type = "weeks", rainbow = FALSE, 
    lineAttrib = "Sex", lowessSmooth = TRUE, addPoints = TRUE)
plotAllABT(objName = "inData", type = "weeks", rainbow = FALSE, 
    lineAttrib = "VeryLow", lowessSmooth = TRUE, addPoints = TRUE)
    
# Discrete mode, geometricMean
plotAllABT(objName = "inData", 
    type = "M1", lineAttrib = "Sex", geometricMean = TRUE)
plotAllABT(objName = "inData", 
    type = "M3", lineAttrib = "Sex", geometricMean = TRUE)

# alphaFactor, lwd
plotAllABT(objName = "inData", type = "weeks", rainbow = TRUE)
plotAllABT(objName = "inData", type = "weeks", rainbow = TRUE, alphaFactor = 20)
plotAllABT(objName = "inData", type = "weeks", rainbow = TRUE, lwd = 4)

# dayStart, dayEnd
plotAllABT(objName = "inData", dayStart = as.integer(NA), dayEnd = as.integer(NA), 
    type = "weeks", rainbow = TRUE)
plotAllABT(objName = "inData", dayStart = 140, dayEnd = 350, 
    type = "weeks", rainbow = TRUE)
plotAllABT(objName = "inData", dayStart = 140, dayEnd = 350, 
    type = "days", rainbow = TRUE)

# orderOfCategories, lowessSmooth
inDataA &lt;- groupAttribABT(objName = "inData")
plotAllABT(objName = "inDataA", 
    type = "weeks", lineAttrib = "AgeGroup", addPoints = TRUE, lowessSmooth = TRUE)
plotAllABT(objName = "inDataA", 
    type = "weeks", lineAttrib = "AgeGroup", addPoints = TRUE, lowessSmooth = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"))

# lineForPre, lineFor1st
plotAllABT(objName = "inDataA", 
    type = "M1", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), geometricMean = TRUE, 
    lineForPre = FALSE, lineFor1st = FALSE)
plotAllABT(objName = "inDataA", 
    type = "M1", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), geometricMean = TRUE, 
    lineForPre = TRUE, lineFor1st = TRUE)
    
# omitPreVac (type = "days")
plotAllABT(objName = "inDataA", 
    type = "days", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), omitPreVac = FALSE)
plotAllABT(objName = "inDataA", 
    type = "days", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), omitPreVac = TRUE)
    
# omitPreVac (type = "M1")
plotAllABT(objName = "inDataA", 
    type = "M1", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), geometricMean = TRUE, 
    lineForPre = TRUE, lineFor1st = TRUE, omitPreVac = FALSE)
plotAllABT(objName = "inDataA", 
    type = "M1", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), geometricMean = TRUE, 
    lineForPre = FALSE, lineFor1st = TRUE, omitPreVac = TRUE)
    
# lineColDark (type = "days")
plotAllABT(objName = "inDataA", 
    type = "days", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), lineColDark = FALSE)
plotAllABT(objName = "inDataA", 
    type = "days", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), lineColDark = TRUE)
    
# lineColDark (type = "M1")
plotAllABT(objName = "inDataA", 
    type = "M1", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), geometricMean = TRUE, 
    lineForPre = TRUE, lineFor1st = TRUE, lineColDark = FALSE)
plotAllABT(objName = "inDataA", 
    type = "M1", lineAttrib = "AgeGroup", addPoints = TRUE, 
    orderOfCategories = c("young", "middle", "elderly"), geometricMean = TRUE, 
    lineForPre = TRUE, lineFor1st = TRUE, lineColDark = TRUE)
</code></pre>

<hr>
<h2 id='plotEachABT'>
Plotting antibody titers of each patient.
</h2><span id='topic+plotEachABT'></span>

<h3>Description</h3>

<p>This function plots antibody titers of one specified patient 
in the ABT class object produced by <code><a href="#topic+readABT">readABT</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotEachABT(patientID = "patient A", objName = "inData", 
    prefix = "", dayStart = as.integer(NA), dayEnd = as.integer(NA), 
    type = "weeks", ylab = "Titer (AU/ml)", savePDF = FALSE, addPoints = FALSE, lwd = 2, 
    logY = TRUE, PDFwidth = 8, PDFheight = 5, main = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotEachABT_+3A_patientid">patientID</code></td>
<td>
<p>a character specifying the patient to be plotted.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_objname">objName</code></td>
<td>
<p>a character specifying the name of an ABT class object produced by readABT.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_prefix">prefix</code></td>
<td>
<p>a character to be atattched to the file name. This is active when <code>savePDF==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_daystart">dayStart</code></td>
<td>
<p>an integer specifying the start day, from which scores are plotted.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_dayend">dayEnd</code></td>
<td>
<p>an integer specifying the end day, to which scores are plotted.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_type">type</code></td>
<td>
<p>a character determining the time scale; &quot;weeks&quot; or &quot;days&quot;. There is no discrete mode (e.g. M1) for this function.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_ylab">ylab</code></td>
<td>
<p>a character for the y-axix label.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_savepdf">savePDF</code></td>
<td>
<p>a logical indicating whether a PDF file is stored in the current directory.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_addpoints">addPoints</code></td>
<td>
<p>a logical indicating whether points are added.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_lwd">lwd</code></td>
<td>
<p>an integer for controlling the width of lines.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_logy">logY</code></td>
<td>
<p>a logical indicating whether Y-axis is in log scale.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_pdfwidth">PDFwidth</code></td>
<td>
<p>an integer specifying the width of PDF. This is active when <code>savePDF==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_pdfheight">PDFheight</code></td>
<td>
<p>an integer specifying the height of PDF. This is active when <code>savePDF==TRUE</code>.</p>
</td></tr>
<tr><td><code id="plotEachABT_+3A_main">main</code></td>
<td>
<p>a character for the main title. When not specified, <code>patientID</code> and <code>objName</code> will be used as the title.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No object will be returned. Instead, this function will drow a plot in a graphic device, or save a PDF file in the current directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inData &lt;- readABT(fileName = system.file("extdata","toy.xlsx",package="AntibodyTiters"))
plotEachABT(patientID = "patient 2", objName = "inData", 
    dayStart = as.integer(NA), dayEnd = as.integer(NA), type = "weeks", savePDF = FALSE)
plotEachABT(patientID = "patient 2", objName = "inData", 
    dayStart = as.integer(NA), dayEnd = as.integer(NA), type = "weeks", savePDF = FALSE, 
    lwd = 2)
plotEachABT(patientID = "patient 2", objName = "inData", 
    dayStart = as.integer(NA), dayEnd = as.integer(NA), type = "weeks", savePDF = FALSE, 
    addPoints = TRUE)
plotEachABT(patientID = "patient 2", objName = "inData", 
    dayStart = as.integer(NA), dayEnd = as.integer(NA), type = "days", savePDF = FALSE)
plotEachABT(patientID = "patient 2", objName = "inData", 
    dayStart = 140, dayEnd = 350, type = "weeks", savePDF = FALSE)
plotEachABT(patientID = "patient 2", objName = "inData", 
    dayStart = 140, dayEnd = 350, type = "days", savePDF = FALSE)
</code></pre>

<hr>
<h2 id='readABT'>
Reading an xlsx file 
and examining the validity of the dataset.
</h2><span id='topic+readABT'></span>

<h3>Description</h3>

<p>With this function, a specifically formatted xlsx file 
can be loaded. After validation of the file, 
'pmax' and other key values were examined for 
the following analysis. The output is an ABT object. 
An object of this class is a list with four contents named 
<code>DATA</code>, <code>pmax</code>, <code>longestFromSecond</code> and 
<code>shortestFromSecond</code>. <code>DATA</code> is a data.frame. 
The other three are integer objects. 
These values are used for the plotting functions 
<a href="#topic+plotAllABT">plotAllABT</a> and <a href="#topic+plotEachABT">plotEachABT</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readABT(fileName = "xxx.xlsx", attribNumeric = "Age")</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readABT_+3A_filename">fileName</code></td>
<td>
<p>a file name to be read.</p>
</td></tr>
<tr><td><code id="readABT_+3A_attribnumeric">attribNumeric</code></td>
<td>
<p>a character vector specifying attribute columns to have numeric values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an ABT-class object: see the Description above for the detail of this class.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># inData &lt;- readABT(fileName = "xxx.xlsx")
</code></pre>

<hr>
<h2 id='toyABT'>
Production of an xlsx file with toy data.
</h2><span id='topic+toyABT'></span>

<h3>Description</h3>

<p><span class="pkg">AntibodyTiters</span> requires the input xlsx files be 
in a specific format. This function produces a toy 
xlsx file in the format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toyABT(fileName = "toy.xlsx", pmax = 7, patients = 20, 
    outsiderPercent = 2, NaPercent = 10, 
	Attrib = c("Sex", "Age", "VeryLow"), 
	attribFactors = list(c("F", "M"), c(18, 80), c(TRUE, FALSE)))
	</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toyABT_+3A_filename">fileName</code></td>
<td>
<p>a file name to be produced.</p>
</td></tr>
<tr><td><code id="toyABT_+3A_pmax">pmax</code></td>
<td>
<p>an integer (&gt;=4 &amp; &lt;18) for specifying 
the maximam sampling point.</p>
</td></tr>
<tr><td><code id="toyABT_+3A_patients">patients</code></td>
<td>
<p>an integer specifying the number of patients.</p>
</td></tr>
<tr><td><code id="toyABT_+3A_outsiderpercent">outsiderPercent</code></td>
<td>
<p>an integer specifying the percentage 
of patients with outsider values.</p>
</td></tr>
<tr><td><code id="toyABT_+3A_napercent">NaPercent</code></td>
<td>
<p>an integer specifying the percentage 
of patients with NA values.</p>
</td></tr>
<tr><td><code id="toyABT_+3A_attrib">Attrib</code></td>
<td>
<p>a character vector for the names of Attrib.</p>
</td></tr>
<tr><td><code id="toyABT_+3A_attribfactors">attribFactors</code></td>
<td>
<p>a list determining the values of Attrib. 
If the names of Attrib contained &quot;Age&quot;, 
two numbers provided here are used as lower and upper limits.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An xlsx file will be stored in the current directory. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'># toyABT(fileName = "toy.xlsx", pmax = 9, patients = 120, 
# 	outsiderPercent = 2, NaPercent = 10, 
# 	Attrib = c("Sex", "Age", "VeryLow"), 
# 	attribFactors = list(c("F", "M"), c(18, 80), c(TRUE, FALSE)))
# The above command will create an excel file with toy data in the current directory. 
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package CALIBERrfimpute</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CALIBERrfimpute}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CALIBERrfimpute-package'>
<p>Imputation in MICE using Random Forest</p></a></li>
<li><a href='#makemar'>
<p>Creates artificial missing at random missingness</p></a></li>
<li><a href='#mice.impute.rfcat'>
<p>Impute categorical variables using Random Forest within MICE</p></a></li>
<li><a href='#mice.impute.rfcont'>
<p>Impute continuous variables using Random Forest within MICE</p></a></li>
<li><a href='#setRFoptions'>
<p>Set Random Forest options for imputation using MICE</p></a></li>
<li><a href='#simdata'>
<p>Simulate multivariate data for testing</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Multiple Imputation Using MICE and Random Forest</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0-7</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-11-17</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to impute using random forest under full conditional specifications (multivariate imputation by chained equations). The methods are described in Shah and others (2014) &lt;<a href="https://doi.org/10.1093%2Faje%2Fkwt312">doi:10.1093/aje/kwt312</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>mice (&ge; 2.20)</td>
</tr>
<tr>
<td>Imports:</td>
<td>mvtnorm, randomForest</td>
</tr>
<tr>
<td>Suggests:</td>
<td>missForest, rpart, survival, xtable, ranger</td>
</tr>
<tr>
<td>Author:</td>
<td>Anoop Shah [aut, cre],
  Jonathan Bartlett [ctb],
  Harry Hemingway [ths],
  Owen Nicholas [ths],
  Aroon Hingorani [ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Anoop Shah &lt;anoop@doctors.org.uk&gt;</td>
</tr>
<tr>
<td>BuildVignettes:</td>
<td>TRUE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-12-04 20:46:54 UTC; anoop</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-12-04 21:02:32 UTC</td>
</tr>
</table>
<hr>
<h2 id='CALIBERrfimpute-package'>
Imputation in MICE using Random Forest
</h2><span id='topic+CALIBERrfimpute-package'></span><span id='topic+CALIBERrfimpute'></span>

<h3>Description</h3>

<p>Multivariate Imputation by Chained Equations (MICE) is commonly used to impute
missing values in analysis datasets using full conditional specifications. However,
it requires that the predictor models are specified correctly, including interactions
and nonlinearities. Random Forest is a regression and classification method which can
accommodate interactions and non-linearities without requiring a particular
statistical model to be specified.
</p>
<p>The mice package provides the mice.impute.rf function for imputation using Random Forest, as of version 2.20. The CALIBERrfimpute package provides different, independently developed imputation functions using Random Forest in MICE.
</p>
<p>This package contains reports of two simulation studies:
</p>
<p><a href="../doc/simstudy.pdf">Simulation study</a> is a comparison of Random Forest and parametric MICE in a linear regression example.
</p>
<p><a href="../doc/simstudy_survival_large.pdf">Vignette for survival analysis with interactions - large sample</a> compares the Random Forest MICE algorithm for continuous variables (<code><a href="#topic+mice.impute.rfcont">mice.impute.rfcont</a></code>) with parametric MICE and the algorithm of Doove et al. in the mice package (<code><a href="mice.html#topic+mice.impute.cart">mice.impute.cart</a></code> and <code><a href="mice.html#topic+mice.impute.rf">mice.impute.rf</a></code>).
</p>
<p><a href="../doc/simstudy_survival.pdf">Vignette for survival analysis with interactions - small sample</a> is a small sample example of the above, created during compilation of the package.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> CALIBERrfimpute</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0-7</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-11-17</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Anoop Shah
</p>
<p>Maintainer: anoop@doctors.org.uk
</p>


<h3>References</h3>

<p>Shah AD, Bartlett JW, Carpenter J, Nicholas O, Hemingway H.
Comparison of Random Forest and parametric imputation models for imputing missing
data using MICE: a CALIBER study. American Journal of Epidemiology 2014; 179(6): 764&ndash;774.
doi:10.1093/aje/kwt312
<a href="https://academic.oup.com/aje/article/179/6/764/107562">https://academic.oup.com/aje/article/179/6/764/107562</a>
</p>
<p>Doove LL, van Buuren S, Dusseldorp E.
Recursive partitioning for missing data imputation in the presence of interaction
effects. Computational Statistics and Data Analysis 2014; 72: 92&ndash;104.
doi:10.1016/j.csda.2013.10.025
<a href="https://www.sciencedirect.com/science/article/abs/pii/S0167947313003939">https://www.sciencedirect.com/science/article/abs/pii/S0167947313003939</a>
</p>


<h3>See Also</h3>

<p><code><a href="mice.html#topic+mice">mice</a></code>,
<code><a href="randomForest.html#topic+randomForest">randomForest</a></code>,
<code><a href="#topic+mice.impute.rfcont">mice.impute.rfcont</a></code>,
<code><a href="#topic+mice.impute.rfcat">mice.impute.rfcat</a></code>,
<code><a href="mice.html#topic+mice.impute.rf">mice.impute.rf</a></code>
</p>

<hr>
<h2 id='makemar'>
Creates artificial missing at random missingness
</h2><span id='topic+makemar'></span>

<h3>Description</h3>

<p>Introduces missingness into x1 and x2 into a data.frame of the format produced by <code><a href="#topic+simdata">simdata</a></code>,
for use in the <a href="../doc/simstudy.pdf">simulation study</a>.
The probability of missingness depends on the logistic of the fully observed variables y and x3;
hence it is missing at random but not missing completely at random.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemar(simdata, prop = 0.2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="makemar_+3A_simdata">simdata</code></td>
<td>

<p>simulated dataset created by <code><a href="#topic+simdata">simdata</a></code>.
</p>
</td></tr>
<tr><td><code id="makemar_+3A_prop">prop</code></td>
<td>

<p>proportion of missing values to be introduced in x1 and x2.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used for simulation and testing.
</p>


<h3>Value</h3>

<p>A data.frame with columns:
</p>
<table role = "presentation">
<tr><td><code>y</code></td>
<td>
<p>dependent variable, based on the model y = x1 + x2 + x3 + normal error</p>
</td></tr>
<tr><td><code>x1</code></td>
<td>
<p>partially observed continuous variable</p>
</td></tr>
<tr><td><code>x2</code></td>
<td>
<p>partially observed continuous or binary (factor) variable</p>
</td></tr>
<tr><td><code>x3</code></td>
<td>
<p>fully observed continuous variable</p>
</td></tr>
<tr><td><code>x4</code></td>
<td>
<p>variable not in the model to predict y, but associated with x1, x2 and x3;
used as an auxiliary variable in imputation</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+simdata">simdata</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
mydata &lt;- simdata(n=100)
mymardata &lt;- makemar(mydata, prop=0.1)
# Count the number of missing values
sapply(mymardata, function(x){sum(is.na(x))})
# y x1 x2 x3 x4 
# 0 11 10  0  0 
</code></pre>

<hr>
<h2 id='mice.impute.rfcat'>
Impute categorical variables using Random Forest within MICE
</h2><span id='topic+mice.impute.rfcat'></span>

<h3>Description</h3>

<p>This method can be used to impute logical or factor variables
(binary or &gt;2 levels) in MICE by specifying
method = 'rfcat'. It was developed independently from the
<code><a href="mice.html#topic+mice.impute.rf">mice.impute.rf</a></code> algorithm of Doove et al.,
and differs from it in some respects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mice.impute.rfcat(y, ry, x, ntree_cat = NULL,
    nodesize_cat = NULL, maxnodes_cat = NULL, ntree = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mice.impute.rfcat_+3A_y">y</code></td>
<td>

<p>a logical or factor vector of observed values and missing values of the variable to be imputed.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcat_+3A_ry">ry</code></td>
<td>

<p>a logical vector stating whether y is observed or not.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcat_+3A_x">x</code></td>
<td>

<p>a matrix of predictors to impute y.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcat_+3A_ntree_cat">ntree_cat</code></td>
<td>

<p>number of trees, default = 10.
</p>
<p>A global option can be set thus: <code>setRFoptions(ntree_cat=10)</code>.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcat_+3A_nodesize_cat">nodesize_cat</code></td>
<td>

<p>minimum size of nodes, default = 1.
</p>
<p>A global option can be set thus: <code>setRFoptions(nodesize_cat=1)</code>.
Smaller values of nodesize create finer, more precise trees but increase the computation time.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcat_+3A_maxnodes_cat">maxnodes_cat</code></td>
<td>

<p>maximum number of nodes, default NULL. If NULL the number of nodes is determined by number of observations and nodesize_cat.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcat_+3A_ntree">ntree</code></td>
<td>

<p>an alternative argument for specifying the number of trees, over-ridden by <code>ntree_cat</code>. This is for consistency with the <code>mice.impute.rf</code> function.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcat_+3A_...">...</code></td>
<td>

<p>other arguments to pass to randomForest.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This Random Forest imputation algorithm has been developed as an alternative to logistic or
polytomous regression, and can accommodate non-linear relations and interactions among the
predictor variables without requiring them to be specified in the model. The algorithm takes
a bootstrap sample of the data to simulate sampling variability, fits a set of classification
trees, and chooses each imputed value as the prediction of a randomly chosen tree.
</p>


<h3>Value</h3>

<p>A vector of imputed values of y.
</p>


<h3>Note</h3>

<p>This algorithm has been tested on simulated data and in survival analysis of real data
with artificially introduced missingness completely at random. There was slight bias in
hazard ratios compared to polytomous regression, but coverage of confidence intervals was
correct.
</p>


<h3>Author(s)</h3>

<p>Anoop Shah
</p>


<h3>References</h3>

<p>Shah AD, Bartlett JW, Carpenter J, Nicholas O, Hemingway H.
Comparison of Random Forest and parametric imputation models for imputing missing
data using MICE: a CALIBER study. American Journal of Epidemiology 2014; 179(6): 764&ndash;774. doi:10.1093/aje/kwt312
<a href="https://academic.oup.com/aje/article/179/6/764/107562">https://academic.oup.com/aje/article/179/6/764/107562</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setRFoptions">setRFoptions</a></code>,
<code><a href="#topic+mice.impute.rfcont">mice.impute.rfcont</a></code>,
<code><a href="mice.html#topic+mice">mice</a></code>,
<code><a href="mice.html#topic+mice.impute.rf">mice.impute.rf</a></code>,
<code><a href="mice.html#topic+mice.impute.cart">mice.impute.cart</a></code>,
<code><a href="randomForest.html#topic+randomForest">randomForest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)

# A small sample dataset 
mydata &lt;- data.frame(
    x1 = as.factor(c('this', 'this', NA, 'that', 'this')),
    x2 = 1:5,
    x3 = c(TRUE, FALSE, TRUE, NA, FALSE))
mice(mydata, method = c('logreg', 'norm', 'logreg'), m = 2, maxit = 2)
mice(mydata[, 1:2], method = c('rfcat', 'rfcont'), m = 2, maxit = 2)
mice(mydata, method = c('rfcat', 'rfcont', 'rfcat'), m = 2, maxit = 2)

# A larger simulated dataset
mydata &lt;- simdata(100, x2binary = TRUE)
mymardata &lt;- makemar(mydata)

cat('\nNumber of missing values:\n')
print(sapply(mymardata, function(x){sum(is.na(x))}))

# Test imputation of a single column in a two-column dataset
cat('\nTest imputation of a simple dataset')
print(mice(mymardata[, c('y', 'x2')], method = 'rfcat', m = 2, maxit = 2))

# Analyse data
cat('\nFull data analysis:\n')
print(summary(lm(y ~ x1 + x2 + x3, data = mydata)))

cat('\nMICE normal and logistic:\n')
print(summary(pool(with(mice(mymardata,
    method = c('', 'norm', 'logreg', '', ''), m = 2, maxit = 2),
    lm(y ~ x1 + x2 + x3)))))

# Set options for Random Forest
setRFoptions(ntree_cat = 10)

cat('\nMICE using Random Forest:\n')
print(summary(pool(with(mice(mymardata,
    method = c('', 'rfcont', 'rfcat', '', ''), m = 2, maxit = 2),
    lm(y ~ x1 + x2 + x3)))))

cat('\nDataset with unobserved levels of a factor\n')
data3 &lt;- data.frame(x1 = 1:100, x2 = factor(c(rep('A', 25),
    rep('B', 25), rep('C', 25), rep('D', 25))))
data3$x2[data3$x2 == 'D'] &lt;- NA
mice(data3, method = c('', 'rfcat'), m = 2, maxit = 2)
</code></pre>

<hr>
<h2 id='mice.impute.rfcont'>
Impute continuous variables using Random Forest within MICE
</h2><span id='topic+mice.impute.rfcont'></span>

<h3>Description</h3>

<p>This method can be used to impute continuous variables in MICE by specifying
method = 'rfcont'. It was developed independently from the
<code><a href="mice.html#topic+mice.impute.rf">mice.impute.rf</a></code> algorithm of Doove et al.,
and differs from it in drawing imputed values from a normal distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mice.impute.rfcont(y, ry, x, ntree_cont = NULL,
    nodesize_cont = NULL, maxnodes_cont = NULL, ntree = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mice.impute.rfcont_+3A_y">y</code></td>
<td>

<p>a vector of observed values and missing values of the variable to be imputed.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcont_+3A_ry">ry</code></td>
<td>

<p>a logical vector stating whether y is observed or not.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcont_+3A_x">x</code></td>
<td>

<p>a matrix of predictors to impute y.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcont_+3A_ntree_cont">ntree_cont</code></td>
<td>

<p>number of trees, default = 10. 
</p>
<p>A global option can be set thus: <code>setRFoptions(ntree_cont=10)</code>.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcont_+3A_nodesize_cont">nodesize_cont</code></td>
<td>

<p>minimum size of nodes, default = 5.
</p>
<p>A global option can be set thus: <code>setRFoptions(nodesize_cont=5)</code>.
Smaller values of nodesize create finer, more precise trees but increase the computation time.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcont_+3A_maxnodes_cont">maxnodes_cont</code></td>
<td>

<p>maximum number of nodes, default NULL. If NULL the number of nodes is determined by number of observations and nodesize_cont.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcont_+3A_ntree">ntree</code></td>
<td>

<p>an alternative argument for specifying the number of trees, over-ridden by <code>ntree_cont</code>. This is for consistency with the <code>mice.impute.rf</code> function.
</p>
</td></tr>
<tr><td><code id="mice.impute.rfcont_+3A_...">...</code></td>
<td>

<p>other arguments to pass to randomForest.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This Random Forest imputation algorithm has been developed as an alternative to normal-based
linear regression, and can accommodate non-linear relations and interactions among the
predictor variables without requiring them to be specified in the model. The algorithm takes
a bootstrap sample of the data to simulate sampling variability, fits a regression forest
trees and calculates the out-of-bag mean squared error. Each value is imputed as a random draw
from a normal distribution with mean defined by the Random Forest prediction and variance equal
to the out-of-bag mean squared error.
</p>
<p>If only one tree is used (not recommended), a bootstrap sample is not taken in the first stage
because the Random Forest algorithm performs an internal bootstrap sample before fitting the tree.
</p>


<h3>Value</h3>

<p>A vector of imputed values of y.
</p>


<h3>Note</h3>

<p>This algorithm has been tested on simulated data with linear regression,
and in survival analysis of real data with artificially introduced missingness at random.
On the simulated data there was slight bias if the distribution of missing values was
very different from observed values, because imputed values were closer to the centre of
the data than the missing values. However in the survival analysis the hazard ratios
were unbiased and coverage of confidence intervals more conservative than normal-based MICE,
but the mean length of confidence intervals was shorter with mice.impute.rfcont.
</p>


<h3>Author(s)</h3>

<p>Anoop Shah
</p>


<h3>References</h3>

<p>Shah AD, Bartlett JW, Carpenter J, Nicholas O, Hemingway H.
Comparison of Random Forest and parametric imputation models for imputing missing
data using MICE: a CALIBER study. American Journal of Epidemiology 2014; 179(6): 764&ndash;774. doi:10.1093/aje/kwt312
<a href="https://academic.oup.com/aje/article/179/6/764/107562">https://academic.oup.com/aje/article/179/6/764/107562</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setRFoptions">setRFoptions</a></code>, <code><a href="#topic+mice.impute.rfcat">mice.impute.rfcat</a></code>,
<code><a href="mice.html#topic+mice">mice</a></code>,
<code><a href="mice.html#topic+mice.impute.rf">mice.impute.rf</a></code>,
<code><a href="mice.html#topic+mice.impute.cart">mice.impute.cart</a></code>,
<code><a href="randomForest.html#topic+randomForest">randomForest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)

# A small dataset with a single row to be imputed
mydata &lt;- data.frame(x1 = c(2, 3, NA, 4, 5, 1, 6, 8, 7, 9), x2 = 1:10,
    x3 = c(1, 3, NA, 4, 2, 8, 7, 9, 6, 5))
mice(mydata, method = c('norm', 'norm', 'norm'), m = 2, maxit = 2)
mice(mydata[, 1:2], method = c('rfcont', 'rfcont'), m = 2, maxit = 2)
mice(mydata, method = c('rfcont', 'rfcont', 'rfcont'), m = 2, maxit = 2)

# A larger simulated dataset
mydata &lt;- simdata(100)
cat('\nSimulated multivariate normal data:\n')
print(data.frame(mean = colMeans(mydata), sd = sapply(mydata, sd)))

# Apply missingness pattern
mymardata &lt;- makemar(mydata)
cat('\nNumber of missing values:\n')
print(sapply(mymardata, function(x){sum(is.na(x))}))

# Test imputation of a single column in a two-column dataset
cat('\nTest imputation of a simple dataset')
print(mice(mymardata[, c('y', 'x1')], method = 'rfcont'))

# Analyse data
cat('\nFull data analysis:\n')
print(summary(lm(y ~ x1 + x2 + x3, data=mydata)))

cat('\nMICE using normal-based linear regression:\n')
print(summary(pool(with(mice(mymardata,
    method = 'norm'), lm(y ~ x1 + x2 + x3)))))

# Set options for Random Forest
setRFoptions(ntree_cont = 10)

cat('\nMICE using Random Forest:\n')
print(summary(pool(with(mice(mymardata,
    method = 'rfcont'), lm(y ~ x1 + x2 + x3)))))
</code></pre>

<hr>
<h2 id='setRFoptions'>
Set Random Forest options for imputation using MICE
</h2><span id='topic+setRFoptions'></span>

<h3>Description</h3>

<p>A convenience function to set global options for number of trees or number of nodes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setRFoptions(ntree_cat = NULL, ntree_cont = NULL,
    nodesize_cat = NULL, nodesize_cont = NULL,
    maxnodes_cat = NULL, maxnodes_cont = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setRFoptions_+3A_ntree_cat">ntree_cat</code></td>
<td>

<p>number of trees to be used for imputing categorical variables
(each imputed value is the prediction of a randomly chosen tree), default = 10.
</p>
</td></tr>
<tr><td><code id="setRFoptions_+3A_ntree_cont">ntree_cont</code></td>
<td>

<p>number of trees in the forest for imputing continuous variables, default = 10.
</p>
</td></tr>
<tr><td><code id="setRFoptions_+3A_nodesize_cat">nodesize_cat</code></td>
<td>

<p>minimum node size for trees for imputing categorical variables, default = 1. 
A higher value can be used on larger datasets in order to save time.
</p>
</td></tr>
<tr><td><code id="setRFoptions_+3A_nodesize_cont">nodesize_cont</code></td>
<td>

<p>minimum node size for trees for imputing continuous variables, default = 5.
A higher value can be used on larger datasets in order to save time.
</p>
</td></tr>
<tr><td><code id="setRFoptions_+3A_maxnodes_cat">maxnodes_cat</code></td>
<td>

<p>maximum number of nodes in trees for imputing categorical variables.
By default the size limit is set by the number of observations and nodesize_cat.
</p>
</td></tr>
<tr><td><code id="setRFoptions_+3A_maxnodes_cont">maxnodes_cont</code></td>
<td>

<p>maximum number of nodes in trees for imputing continuous variables.
By default the size limit is set by the number of observations and nodesize_cont.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function sets the global options which have the prefix 'CALIBERrfimpute_'.
</p>


<h3>Value</h3>

<p>No return value. The function prints a message stating the new option setting.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mice.impute.rfcat">mice.impute.rfcat</a></code>, <code><a href="#topic+mice.impute.rfcont">mice.impute.rfcont</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set option using setRFoptions
setRFoptions(ntree_cat=15)
options()$CALIBERrfimpute_ntree_cat

# Set option directly
options(CALIBERrfimpute_ntree_cat=20)
options()$CALIBERrfimpute_ntree_cat
</code></pre>

<hr>
<h2 id='simdata'>
Simulate multivariate data for testing
</h2><span id='topic+simdata'></span>

<h3>Description</h3>

<p>Creates multivariate normal or normal and binary data, as used in the <a href="../doc/simstudy.pdf">simulation study</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdata(n = 2000, mymean = rep(0, 4), mysigma = matrix(
	c( 1,   0.2, 0.1, -0.7,
	   0.2, 1,   0.3,  0.1,
	   0.1, 0.3, 1,    0.2,
	  -0.7, 0.1, 0.2,  1), byrow = TRUE, nrow = 4, ncol = 4),
	residsd = 1, x2binary = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simdata_+3A_n">n</code></td>
<td>

<p>number of observations to create.
</p>
</td></tr>
<tr><td><code id="simdata_+3A_mymean">mymean</code></td>
<td>

<p>vector of length 4, giving the mean of each variable.
</p>
</td></tr>
<tr><td><code id="simdata_+3A_mysigma">mysigma</code></td>
<td>

<p>variance-covariance matrix of multivariate normal distribution from which x1-x4 are to be drawn.
</p>
</td></tr>
<tr><td><code id="simdata_+3A_residsd">residsd</code></td>
<td>

<p>residual standard deviation.
</p>
</td></tr>
<tr><td><code id="simdata_+3A_x2binary">x2binary</code></td>
<td>

<p>if TRUE, x2 is converted to a binary factor variable (1, 2) with probability equal
to the logistic of the underlying normally distributed variable.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with 5 columns:
</p>
<table role = "presentation">
<tr><td><code>y</code></td>
<td>
<p>continuous, generated by
y = x1 + x2 + x3 + normal error if x2 is continuous,
or 
y = x1 + x2 + x3 - 1 + normal error if x2 is a factor with values 1 or 2</p>
</td></tr>
<tr><td><code>x1</code></td>
<td>
<p>continuous</p>
</td></tr>
<tr><td><code>x2</code></td>
<td>
<p>continuous or binary (factor) with value 1 or 2</p>
</td></tr>
<tr><td><code>x3</code></td>
<td>
<p>continuous</p>
</td></tr>
<tr><td><code>x4</code></td>
<td>
<p>continuous</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+makemar">makemar</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
simdata(n=4, x2binary=TRUE)
#             y          x1 x2         x3        x4
# 1 -0.06399616 -1.23307320  2 -0.6521442 1.6141842
# 2  1.00822173 -0.05167026  1  0.4659907 0.5421826
# 3  2.87886825  0.43816687  1  1.5217240 0.2808691
# 4  0.79129101 -0.72510640  1  0.7342611 0.1820001
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

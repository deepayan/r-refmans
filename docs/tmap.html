<!DOCTYPE html><html><head><title>Help for package tmap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tmap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tmap-package'><p>Thematic Map Visualization</p></a></li>
<li><a href='#+2B.tmap'><p>Stacking of tmap elements</p></a></li>
<li><a href='#deprecated_functions'><p>Deprecated tmap functions</p></a></li>
<li><a href='#land'><p>Spatial data of global land cover</p></a></li>
<li><a href='#metro'><p>Spatial data of metropolitan areas</p></a></li>
<li><a href='#print.tmap'><p>Draw thematic map</p></a></li>
<li><a href='#qtm'><p>Quick thematic map plot</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#renderTmap'><p>Wrapper functions for using tmap in shiny</p></a></li>
<li><a href='#rivers'><p>Spatial data of rivers</p></a></li>
<li><a href='#theme_ps'><p>ggplot2 theme for proportional symbols</p></a></li>
<li><a href='#tm_add_legend'><p>Add manual legend</p></a></li>
<li><a href='#tm_basemap'><p>Draw a tile layer</p></a></li>
<li><a href='#tm_compass'><p>Map compass</p></a></li>
<li><a href='#tm_credits'><p>Credits text</p></a></li>
<li><a href='#tm_facets'><p>Small multiples</p></a></li>
<li><a href='#tm_fill'><p>Draw polygons</p></a></li>
<li><a href='#tm_grid'><p>Coordinate grid / graticule lines</p></a></li>
<li><a href='#tm_iso'><p>Draw iso (contour) lines with labels</p></a></li>
<li><a href='#tm_layout'><p>Layout of cartographic maps</p></a></li>
<li><a href='#tm_lines'><p>Draw spatial lines</p></a></li>
<li><a href='#tm_logo'><p>Logo</p></a></li>
<li><a href='#tm_minimap'><p>Minimap</p></a></li>
<li><a href='#tm_mouse_coordinates'><p>Mouse coordinates</p></a></li>
<li><a href='#tm_raster'><p>Draw a raster</p></a></li>
<li><a href='#tm_scale_bar'><p>Scale bar</p></a></li>
<li><a href='#tm_sf'><p>Draw simple features</p></a></li>
<li><a href='#tm_shape'><p>Specify the shape object</p></a></li>
<li><a href='#tm_symbols'><p>Draw symbols</p></a></li>
<li><a href='#tm_text'><p>Add text labels</p></a></li>
<li><a href='#tm_view'><p>Options for the interactive tmap viewer</p></a></li>
<li><a href='#tm_xlab'><p>Axis labels</p></a></li>
<li><a href='#tmap_animation'><p>Create animation</p></a></li>
<li><a href='#tmap_arrange'><p>Arrange small multiples in grid layout</p></a></li>
<li><a href='#tmap_design_mode'><p>Set the design mode</p></a></li>
<li><a href='#tmap_format'><p>Get or add format options</p></a></li>
<li><a href='#tmap_grob'><p>Export to grob object</p></a></li>
<li><a href='#tmap_icons'><p>Specify icons</p></a></li>
<li><a href='#tmap_last'><p>Retrieve the last map to be modified or created</p></a></li>
<li><a href='#tmap_leaflet'><p>Create a leaflet widget from a tmap object</p></a></li>
<li><a href='#tmap_mode'><p>Set tmap mode to static plotting or interactive viewing</p></a></li>
<li><a href='#tmap_options'><p>Options for tmap</p></a></li>
<li><a href='#tmap_save'><p>Save tmap</p></a></li>
<li><a href='#tmap_style'><p>Set or get the default tmap style</p></a></li>
<li><a href='#tmap_style_catalogue'><p>Create a style catalogue</p></a></li>
<li><a href='#tmap_tip'><p>Get a tip about tmap</p></a></li>
<li><a href='#tmap-element'><p>tmap element</p></a></li>
<li><a href='#World'><p>World and Netherlands map</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Title:</td>
<td>Thematic Maps</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Description:</td>
<td>Thematic maps are geographical maps in which spatial data distributions are visualized. This package offers a flexible, layer-based, and easy to use approach to create thematic maps, such as choropleths and bubble maps.</td>
</tr>
<tr>
<td>Version:</td>
<td>3.3-4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-12</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>tmaptools (&ge; 3.1), sf (&ge; 0.9-7), stars (&ge; 0.5-0), units (&ge;
0.6-1), grid, RColorBrewer, viridisLite, classInt (&ge; 0.4-3),
htmltools, htmlwidgets, widgetframe, leaflet (&ge; 2.0.2),
leafsync, leafem (&ge; 0.1), stats, abind, rlang, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmapshaper, rmarkdown, knitr, png, cartogram, osmdata,
ggplot2, dplyr, tidyr, shiny, testthat, covr, av, gifski, s2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-tmap.github.io/tmap/">https://r-tmap.github.io/tmap/</a>, <a href="https://github.com/r-tmap/tmap">https://github.com/r-tmap/tmap</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-tmap/tmap/issues">https://github.com/r-tmap/tmap/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-12 14:21:04 UTC; mtes</td>
</tr>
<tr>
<td>Author:</td>
<td>Martijn Tennekes [aut, cre],
  Jakub Nowosad [ctb],
  Joel Gombin [ctb],
  Sebastian Jeworutzki [ctb],
  Kent Russell [ctb],
  Richard Zijdeman [ctb],
  John Clouse [ctb],
  Robin Lovelace [ctb],
  Jannes Muenchow [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Martijn Tennekes &lt;mtennekes@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-12 21:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tmap-package'>Thematic Map Visualization</h2><span id='topic+tmap-package'></span><span id='topic+tmap'></span>

<h3>Description</h3>

<p>Thematic maps are geographical maps in which spatial data distributions are visualized. This package offers a flexible, layer-based, and easy to use approach to create thematic maps, such as choropleths and bubble maps. It is based on the grammar of graphics, and resembles the syntax of ggplot2.
</p>


<h3>Details</h3>

<p>This page provides a brief overview of all package functions. See <a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a> for a short introduction with examples.
</p>


<h3>Quick plotting method</h3>


<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+qtm">qtm</a></code></td><td style="text-align: left;"> Plot a thematic map </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Main plotting method</h3>

<p>Shape specification:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_shape">tm_shape</a></code></td><td style="text-align: left;"> Specify a shape object </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Aesthetics base layers:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_polygons">tm_polygons</a></code></td><td style="text-align: left;"> Create a polygon layer (with borders) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_symbols">tm_symbols</a></code></td><td style="text-align: left;"> Create a layer of symbols </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_lines">tm_lines</a></code></td><td style="text-align: left;"> Create a layer of lines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_raster">tm_raster</a></code></td><td style="text-align: left;"> Create a raster layer </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_text">tm_text</a></code></td><td style="text-align: left;"> Create a layer of text labels </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_basemap">tm_basemap</a></code></td><td style="text-align: left;"> Create a layer of basemap tiles </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_tiles">tm_tiles</a></code></td><td style="text-align: left;"> Create a layer of overlay tiles </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Aesthetics derived layers:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_fill">tm_fill</a></code></td><td style="text-align: left;"> Create a polygon layer (without borders) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_borders">tm_borders</a></code></td><td style="text-align: left;"> Create polygon borders </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_bubbles">tm_bubbles</a></code></td><td style="text-align: left;"> Create a layer of bubbles </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_squares">tm_squares</a></code></td><td style="text-align: left;"> Create a layer of squares </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_dots">tm_dots</a></code></td><td style="text-align: left;"> Create a layer of dots </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_markers">tm_markers</a></code></td><td style="text-align: left;"> Create a layer of markers </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_iso">tm_iso</a></code></td><td style="text-align: left;"> Create a layer of iso/contour lines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_rgb">tm_rgb</a></code></td><td style="text-align: left;"> Create a raster layer of an image </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Faceting (small multiples)
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_facets">tm_facets</a></code></td><td style="text-align: left;"> Define facets </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Attributes:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_grid">tm_grid</a></code></td><td style="text-align: left;"> Create grid lines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_scale_bar">tm_scale_bar</a></code></td><td style="text-align: left;"> Create a scale bar </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_compass">tm_compass</a></code></td><td style="text-align: left;"> Create a map compass </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_credits">tm_credits</a></code></td><td style="text-align: left;"> Create a text for credits </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_logo">tm_logo</a></code></td><td style="text-align: left;"> Create a logo </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_xlab">tm_xlab</a> and <a href="#topic+tm_ylab">tm_ylab</a></code></td><td style="text-align: left;"> Create axis labels </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_minimap">tm_minimap</a></code></td><td style="text-align: left;"> Create a minimap (view mode only) </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Layout element:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_layout">tm_layout</a></code></td><td style="text-align: left;"> Adjust the layout (main function)</td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_legend">tm_legend</a></code></td><td style="text-align: left;"> Adjust the legend </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_view">tm_view</a></code></td><td style="text-align: left;"> Configure the interactive view mode </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_style">tm_style</a></code></td><td style="text-align: left;"> Apply a predefined style </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_format">tm_format</a></code></td><td style="text-align: left;"> Apply a predefined format </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Change options:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_mode">tmap_mode</a></code></td><td style="text-align: left;"> Set the tmap mode: <code>"plot"</code> or <code>"view"</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+ttm">ttm</a></code></td><td style="text-align: left;"> Toggle between the modes </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_options">tmap_options</a></code></td><td style="text-align: left;"> Set global tmap options (from <code><a href="#topic+tm_layout">tm_layout</a></code>, <code><a href="#topic+tm_view">tm_view</a></code>, and a couple of others) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_style">tmap_style</a></code></td><td style="text-align: left;"> Set the default style </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Create icons:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_icons">tmap_icons</a></code></td><td style="text-align: left;"> Specify icons for markers or proportional symbols </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Output functions</h3>


<table>
<tr>
 <td style="text-align: left;">
<code><a href="base.html#topic+print">print</a></code></td><td style="text-align: left;"> Plot in graphics device or view interactively in web browser or RStudio's viewer pane </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_last">tmap_last</a></code></td><td style="text-align: left;"> Redraw the last map </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_leaflet">tmap_leaflet</a></code></td><td style="text-align: left;"> Obtain a leaflet widget object </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_animation">tmap_animation</a></code></td><td style="text-align: left;"> Create an animation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_arrange">tmap_arrange</a></code></td><td style="text-align: left;"> Create small multiples of separate maps </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tmap_save">tmap_save</a></code></td><td style="text-align: left;"> Save thematic maps (either as image or HTML file) </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Spatial datasets</h3>


<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+World">World</a></code></td><td style="text-align: left;"> World country data (<code><a href="sf.html#topic+sf">sf</a></code> object of polygons) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+NLD_prov">NLD_prov</a></code></td><td style="text-align: left;"> Netherlands province data (<code><a href="sf.html#topic+sf">sf</a></code> object of  polygons) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+NLD_muni">NLD_muni</a></code></td><td style="text-align: left;"> Netherlands municipal data (<code><a href="sf.html#topic+sf">sf</a></code> object of  polygons) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+metro">metro</a></code></td><td style="text-align: left;"> Metropolitan areas (<code><a href="sf.html#topic+sf">sf</a></code> object of points) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+rivers">rivers</a></code></td><td style="text-align: left;"> Rivers (<code><a href="sf.html#topic+sf">sf</a></code> object of lines) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+land">land</a></code></td><td style="text-align: left;"> Global land cover (<code><a href="stars.html#topic+st_as_stars">stars</a></code> object)</td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Martijn Tennekes <a href="mailto:mtennekes@gmail.com">mtennekes@gmail.com</a>
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>

<hr>
<h2 id='+2B.tmap'>Stacking of tmap elements</h2><span id='topic++2B.tmap'></span>

<h3>Description</h3>

<p>The plus operator allows you to stack <code><a href="#topic+tmap-element">tmap-element</a>s</code>, and groups of <code><a href="#topic+tmap-element">tmap-element</a>s</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tmap'
e1 + e2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B2B.tmap_+3A_e1">e1</code></td>
<td>
<p>first <code><a href="#topic+tmap-element">tmap-element</a></code></p>
</td></tr>
<tr><td><code id="+2B2B.tmap_+3A_e2">e2</code></td>
<td>
<p>second <code><a href="#topic+tmap-element">tmap-element</a></code></p>
</td></tr>
</table>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code> and <a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>

<hr>
<h2 id='deprecated_functions'>Deprecated tmap functions</h2><span id='topic+deprecated_functions'></span>

<h3>Description</h3>

<p>Since version 2.0, tmap function names are prefixed with a tm_ or tmap_. Therefore, function names used by tmap 1.x such as <code>animation_tmap</code> have been renamed to <code>tmap_animation</code>.
</p>


<h3>Details</h3>


<ul>
<li> <p><code>animation_tmap</code>: replaced by <code><a href="#topic+tmap_animation">tmap_animation</a></code>
</p>
</li>
<li> <p><code>save_tmap</code>: replaced by <code><a href="#topic+tmap_save">tmap_save</a></code>
</p>
</li>
<li> <p><code>style_catalogue</code>: replaced by <code><a href="#topic+tmap_style_catalogue">tmap_style_catalogue</a></code>
</p>
</li>
<li> <p><code>style_catalog</code>: replaced by <code><a href="#topic+tmap_style_catalog">tmap_style_catalog</a></code>
</p>
</li>
<li> <p><code>last_map</code>: replaced by <code><a href="#topic+tmap_last">tmap_last</a></code>
</p>
</li>
<li> <p><code>tm_style_white</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("white")</code>
</p>
</li>
<li> <p><code>tm_style_gray</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("gray")</code>
</p>
</li>
<li> <p><code>tm_style_grey</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("grey")</code>
</p>
</li>
<li> <p><code>tm_style_natural</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("natural")</code>
</p>
</li>
<li> <p><code>tm_style_cobalt</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("cobalt")</code>
</p>
</li>
<li> <p><code>tm_style_col_blind</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("col_blind")</code>
</p>
</li>
<li> <p><code>tm_style_albatross</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("albatross")</code>
</p>
</li>
<li> <p><code>tm_style_beaver</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("beaver")</code>
</p>
</li>
<li> <p><code>tm_style_bw</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("bw")</code>
</p>
</li>
<li> <p><code>tm_style_classic</code>: replaced by <code><a href="#topic+tm_style">tm_style</a>("classic")</code>
</p>
</li>
<li> <p><code>tm_format_World</code>: replaced by <code><a href="#topic+tm_format">tm_format</a>("World")</code>
</p>
</li>
<li> <p><code>tm_format_World_wide</code>: replaced by <code><a href="#topic+tm_format">tm_format</a>("World_wide")</code>
</p>
</li>
<li> <p><code>tm_format_NLD</code>: replaced by <code><a href="#topic+tm_format">tm_format</a>("NLD")</code>
</p>
</li>
<li> <p><code>tm_format_NLD_wide</code>: replaced by <code><a href="#topic+tm_format">tm_format</a>("NLD_wide")</code>
</p>
</li>
<li> <p><code>tm_format_Europe</code>: not used anymore, since the dataset Europe is no longer maintained
</p>
</li>
<li> <p><code>tm_format_Europe2</code>: not used anymore, since the dataset Europe is no longer maintained
</p>
</li>
<li> <p><code>tm_format_Europe_wide</code>: not used anymore, since the dataset Europe is no longer maintained
</p>
</li></ul>


<hr>
<h2 id='land'>Spatial data of global land cover</h2><span id='topic+land'></span>

<h3>Description</h3>

<p>Spatial data of global land cover, percent tree cover, and elevation of class <code><a href="stars.html#topic+st_as_stars">stars</a></code>. 
Two attributes in this object relates to global land cover.
The cover layer classifies the status of land cover of the whole globe into 20 categories, while 
the cover_cls layer uses 8 simplified categories.
Percent Tree Cover (trees) represents the density of trees on the ground, and the last attribute represents elevation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(land)
</code></pre>


<h3>Details</h3>

<p><strong>Important:</strong> publication of these maps is only allowed when cited to Tateishi et al. (2014), and when &quot;Geospatial Information Authority of Japan, Chiba University and collaborating organizations.&quot; is shown.
</p>


<h3>References</h3>

<p>Production of Global Land Cover Data - GLCNMO2008, Tateishi, R., Thanh Hoan, N., Kobayashi, T., Alsaaideh, B., Tana, G., Xuan Phong, D. (2014), Journal of Geography and Geology, 6 (3).
</p>

<hr>
<h2 id='metro'>Spatial data of metropolitan areas</h2><span id='topic+metro'></span>

<h3>Description</h3>

<p>Spatial data of metropolitan areas, of class <code><a href="sf.html#topic+sf">sf</a></code>. The data includes a population times series from 1950 to (forecasted) 2030. All metro areas with over 1 million inhabitants in 2010 are included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(metro)
</code></pre>


<h3>Source</h3>

<p><a href="https://population.un.org/wup/">https://population.un.org/wup/</a>
</p>


<h3>References</h3>

<p>United Nations, Department of Economic and Social Affairs, Population Division (2014). World Urbanization Prospects: The 2014 Revision, CD-ROM Edition.
</p>

<hr>
<h2 id='print.tmap'>Draw thematic map</h2><span id='topic+print.tmap'></span><span id='topic+knit_print.tmap'></span>

<h3>Description</h3>

<p>Draw thematic map. If the tmap mode is set to <code>"plot"</code> (see <code><a href="#topic+tmap_mode">tmap_mode</a></code>), the map is plot in the current graphics device. If the mode is set to <code>"view"</code>, the map is shown interactively as an htmlwidget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tmap'
print(
  x,
  vp = NULL,
  return.asp = FALSE,
  mode = getOption("tmap.mode"),
  show = TRUE,
  knit = FALSE,
  options = NULL,
  ...
)

knit_print.tmap(x, ..., options = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.tmap_+3A_x">x</code></td>
<td>
<p>tmap object. A tmap object is created with <code><a href="#topic+qtm">qtm</a></code> or by stacking <code><a href="#topic+tmap-element">tmap-element</a></code>s.</p>
</td></tr>
<tr><td><code id="print.tmap_+3A_vp">vp</code></td>
<td>
<p><code><a href="grid.html#topic+viewport">viewport</a></code> to draw the plot in. This is particularly useful for insets.</p>
</td></tr>
<tr><td><code id="print.tmap_+3A_return.asp">return.asp</code></td>
<td>
<p>Logical that determines whether the aspect ratio of the map is returned. In that case, <code><a href="grid.html#topic+grid.newpage">grid.newpage()</a></code> will be called, but without plotting of the map. This is used by <code><a href="#topic+tmap_save">tmap_save</a></code> to determine the aspect ratio of the map.</p>
</td></tr>
<tr><td><code id="print.tmap_+3A_mode">mode</code></td>
<td>
<p>the mode of tmap: <code>"plot"</code> (static) or <code>"view"</code> (interactive). See <code><a href="#topic+tmap_mode">tmap_mode</a></code> for details.</p>
</td></tr>
<tr><td><code id="print.tmap_+3A_show">show</code></td>
<td>
<p>logical that determines whether to show to map. Obviously <code>TRUE</code> by default, but <code>show=FALSE</code> can be useful for just obtaining the returned objects.</p>
</td></tr>
<tr><td><code id="print.tmap_+3A_knit">knit</code></td>
<td>
<p>should <code><a href="knitr.html#topic+knit_print">knit_print</a></code> be enabled, or the normal <code><a href="base.html#topic+print">print</a></code> function?</p>
</td></tr>
<tr><td><code id="print.tmap_+3A_options">options</code></td>
<td>
<p>options passed on to knitprint</p>
</td></tr>
<tr><td><code id="print.tmap_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>mode=="plot"</code>, then a list is returned with the processed shapes and the metadata. If <code>mode=="view"</code>, a <code><a href="leaflet.html#topic+leaflet">leaflet</a></code> object is returned (see also <code><a href="#topic+tmap_leaflet">tmap_leaflet</a></code>)
</p>

<hr>
<h2 id='qtm'>Quick thematic map plot</h2><span id='topic+qtm'></span>

<h3>Description</h3>

<p>Draw a thematic map quickly. This function is a convenient wrapper of the main plotting method of stacking <code><a href="#topic+tmap-element">tmap-element</a></code>s. Without arguments or with a search term, this functions draws an interactive map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qtm(
  shp,
  fill = NA,
  symbols.size = NULL,
  symbols.col = NULL,
  symbols.shape = NULL,
  dots.col = NULL,
  text = NULL,
  text.size = 1,
  text.col = NA,
  lines.lwd = NULL,
  lines.col = NULL,
  raster = NA,
  borders = NA,
  by = NULL,
  scale = NA,
  title = NA,
  projection = NULL,
  bbox = NULL,
  basemaps = NA,
  overlays = NA,
  style = NULL,
  format = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qtm_+3A_shp">shp</code></td>
<td>
<p>One of
</p>

<ul>
<li><p> shape object, which is an object from a class defined by the <code><a href="sf.html#topic+sf">sf</a></code> or <code><a href="stars.html#topic+st_as_stars">stars</a></code> package. Objects from the packages <code>sp</code> and <code>raster</code> are also supported, but discouraged.
</p>
</li>
<li><p> Not specified, i.e. <code>qtm()</code> is executed. In this case a plain interactive map is shown.
</p>
</li>
<li><p> A OSM search string, e.g. <code>qtm("Amsterdam")</code>. In this case a plain interactive map is shown positioned according to the results of the search query (from OpenStreetMap nominatim)
</p>
</li></ul>
</td></tr>
<tr><td><code id="qtm_+3A_fill">fill</code></td>
<td>
<p>either a color to fill the polygons, or name of the data variable in <code>shp</code> to draw a choropleth. Only applicable when <code>shp</code> contains polygons.  Set <code>fill = NULL</code> to draw only polygon borders. See also argument <code>borders</code>.</p>
</td></tr>
<tr><td><code id="qtm_+3A_symbols.size">symbols.size</code></td>
<td>
<p>either the size of the symbols or a name of the data variable in <code>shp</code> that specifies the sizes of the symbols.  See also the <code>size</code> argument of <code><a href="#topic+tm_symbols">tm_symbols</a></code>. Only applicable when <code>shp</code> contains spatial points, lines, or polygons.</p>
</td></tr>
<tr><td><code id="qtm_+3A_symbols.col">symbols.col</code></td>
<td>
<p>either the color of the symbols or a name of the data variable in <code>shp</code> that specifies the colors of the symbols. See also the <code>col</code> arugment of <code><a href="#topic+tm_symbols">tm_symbols</a></code>. Only applicable when <code>shp</code> contains spatial points, lines, or polygons.</p>
</td></tr>
<tr><td><code id="qtm_+3A_symbols.shape">symbols.shape</code></td>
<td>
<p>either the shape of the symbols or a name of the data variable in <code>shp</code> that specifies the shapes of the symbols. See also the <code>shape</code> arugment of <code><a href="#topic+tm_symbols">tm_symbols</a></code>. Only applicable when <code>shp</code> contains spatial points, lines, or polygons.</p>
</td></tr>
<tr><td><code id="qtm_+3A_dots.col">dots.col</code></td>
<td>
<p>name of the data variable in <code>shp</code> for the dot map that specifies the colors of the dots. If <code>dots.col</code> is specified instead <code>symbols.col</code>, dots instead of bubbles are drawn (unless <code>symbols.shape</code> is specified).</p>
</td></tr>
<tr><td><code id="qtm_+3A_text">text</code></td>
<td>
<p>Name of the data variable that contains the text labels. Only applicable when <code>shp</code> contains spatial points, lines, or polygons.</p>
</td></tr>
<tr><td><code id="qtm_+3A_text.size">text.size</code></td>
<td>
<p>Font size of the text labels. Either a constant value, or the name of a numeric data variable. Only applicable when <code>shp</code> contains spatial points, lines, or polygons.</p>
</td></tr>
<tr><td><code id="qtm_+3A_text.col">text.col</code></td>
<td>
<p>name of the data variable in <code>shp</code> for the that specifies the colors of the text labels. Only applicable when <code>shp</code> contains spatial points, lines, or polygons.</p>
</td></tr>
<tr><td><code id="qtm_+3A_lines.lwd">lines.lwd</code></td>
<td>
<p>either a line width or a name of the data variable that specifies the line width. Only applicable when <code>shp</code> contains spatial lines.</p>
</td></tr>
<tr><td><code id="qtm_+3A_lines.col">lines.col</code></td>
<td>
<p>either a line color or a name of the data variable that specifies the line colors. Only applicable when <code>shp</code> contains spatial lines.</p>
</td></tr>
<tr><td><code id="qtm_+3A_raster">raster</code></td>
<td>
<p>either a color or a name of the data variable that specifices the raster colors. Only applicable when <code>shp</code> is a spatial raster.</p>
</td></tr>
<tr><td><code id="qtm_+3A_borders">borders</code></td>
<td>
<p>color of the polygon borders. Use <code>NULL</code> to omit the borders.</p>
</td></tr>
<tr><td><code id="qtm_+3A_by">by</code></td>
<td>
<p>data variable name by which the data is split, or a vector of two variable names to split the data by two variables (where the first is used for the rows and the second for the columns). See also <code><a href="#topic+tm_facets">tm_facets</a></code></p>
</td></tr>
<tr><td><code id="qtm_+3A_scale">scale</code></td>
<td>
<p>numeric value that serves as the global scale parameter. All font sizes, symbol sizes, border widths, and line widths are controlled by this value. The parameters <code>symbols.size</code>, <code>text.size</code>, and <code>lines.lwd</code> can be scaled seperately with respectively <code>symbols.scale</code>, <code>text.scale</code>, and <code>lines.scale</code>. See also <code>...</code>.</p>
</td></tr>
<tr><td><code id="qtm_+3A_title">title</code></td>
<td>
<p>main title. For legend titles, use <code>X.style</code>, where X is the layer name (see <code>...</code>).</p>
</td></tr>
<tr><td><code id="qtm_+3A_projection">projection</code></td>
<td>
<p>Either a <code><a href="sf.html#topic+st_crs">crs</a></code> object or a character value (<code>PROJ.4</code> character string). By default, the projection is used that is defined in the <code>shp</code> object itself.</p>
</td></tr>
<tr><td><code id="qtm_+3A_bbox">bbox</code></td>
<td>
<p>bounding box. Arugment passed on to <code><a href="#topic+tm_shape">tm_shape</a></code></p>
</td></tr>
<tr><td><code id="qtm_+3A_basemaps">basemaps</code></td>
<td>
<p>name(s) of the provider or an URL of a tiled basemap. It is a shortcut to <code><a href="#topic+tm_basemap">tm_basemap</a></code>. Set to <code>NULL</code> to disable basemaps. By default, it is set to the tmap option <code>basemaps</code>.</p>
</td></tr>
<tr><td><code id="qtm_+3A_overlays">overlays</code></td>
<td>
<p>name(s) of the provider or an URL of a tiled overlay map. It is a shortcut to <code><a href="#topic+tm_tiles">tm_tiles</a></code>.</p>
</td></tr>
<tr><td><code id="qtm_+3A_style">style</code></td>
<td>
<p>Layout options (see <code><a href="#topic+tm_layout">tm_layout</a></code>) that define the style. See <code><a href="#topic+tmap_style">tmap_style</a></code> for details.</p>
</td></tr>
<tr><td><code id="qtm_+3A_format">format</code></td>
<td>
<p>Layout options (see <code><a href="#topic+tm_layout">tm_layout</a></code>) that define the format. See <code><a href="#topic+tmap_format">tmap_format</a></code> for details.</p>
</td></tr>
<tr><td><code id="qtm_+3A_...">...</code></td>
<td>
<p>arguments passed on to the <code>tm_*</code> functions. The prefix of these arguments should be with the layer function name without <code>"tm_"</code> and a period. For instance, the palette for polygon fill color is called <code>fill.palette</code>. The following prefixes are supported: <code>shape.</code>, <code>fill.</code>, <code>borders.</code>, <code>polygons.</code>, <code>symbols.</code>, <code>dots.</code>, <code>lines.</code>, <code>raster.</code>, <code>text.</code>, <code>layout.</code>, <code>grid.</code>, <code>facets.</code>, and <code>view.</code>. Arguments that have a unique name, i.e. that does not exist in any other layer function, e.g. <code>convert2density</code>, can also be called without prefix.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The first argument is a shape object (normally specified by <code><a href="#topic+tm_shape">tm_shape</a></code>). The next arguments, from <code>fill</code> to <code>raster</code>, are the aesthetics from the main layers. The remaining arguments are related to the map layout. Any argument from any main layer function, such as <code><a href="#topic+tm_polygons">tm_polygons</a></code>, can be specified (see <code>...</code>). It is also possible to stack <code><a href="#topic+tmap-element">tmap-element</a></code>s on a <code>qtm</code> plot. See examples.
</p>
<p>By default, a scale bar is shown. This option can be set with <code><a href="#topic+tmap_options">tmap_options</a></code> (argument <code>qtm.scalebar</code>). A minimap is shown by default when <code>qtm</code> is called without arguments of with a search term. This option can be set with <code><a href="#topic+tmap_options">tmap_options</a></code> (argument <code>qtm.minimap</code>).
</p>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World, rivers, metro)

# just the map
qtm(World)

# choropleth
qtm(World, fill = "economy", format = "World", style = "col_blind", projection = "+proj=eck4")

# choropleth with more specifications
qtm(World, fill="HPI", fill.n = 9, fill.palette = "div",
    fill.title = "Happy Planet Index", fill.id = "name", 
    style = "gray", format = "World", projection = "+proj=eck4")
# this map can also be created with the main plotting method,
# which is recommended in this case.
## Not run: 
tm_shape(World, projection = "+proj=eck4") +
    tm_polygons("HPI", n = 9, palette = "div",
        title = "Happy Planet Index", id = "name") +
tm_style("gray") +
tm_format("World")

## End(Not run)

# bubble map
## Not run: 
qtm(World, borders = NULL) + 
qtm(metro, symbols.size = "pop2010", 
    symbols.title.size= "Metropolitan Areas", 
    symbols.id= "name",
    format = "World")

## End(Not run)

# dot map
## Not run: 
current.mode &lt;- tmap_mode("view")
qtm(metro, bbox = "China")
tmap_mode(current.mode) # restore mode

## End(Not run)

## Not run: 
# without arguments, a plain interactive map is shown (the mode is set to view)
qtm()

# search query for OpenStreetMap nominatim
qtm("Amsterdam")

## End(Not run)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+providers'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>leaflet</dt><dd><p><code><a href="leaflet.html#topic+providers">providers</a></code></p>
</dd>
</dl>

<hr>
<h2 id='renderTmap'>Wrapper functions for using tmap in shiny</h2><span id='topic+renderTmap'></span><span id='topic+tmapOutput'></span><span id='topic+tmapProxy'></span><span id='topic+tm_remove_layer'></span>

<h3>Description</h3>

<p>Use <code>tmapOutput</code> to create a UI element, and <code>renderTmap</code> to render the tmap map. To update the map (more specifically, to add and remove layers) use <code>tmapProxy</code>. Adding layers is as usual, removing layers can be done with the function <code>tm_remove_layer</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renderTmap(expr, env = parent.frame(), quoted = FALSE)

tmapOutput(outputId, width = "100%", height = 400)

tmapProxy(mapId, session = shiny::getDefaultReactiveDomain(), x)

tm_remove_layer(zindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="renderTmap_+3A_expr">expr</code></td>
<td>
<p>A tmap object. A tmap object is created with <code><a href="#topic+qtm">qtm</a></code> or by stacking <code><a href="#topic+tmap-element">tmap-element</a></code>s.</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate expr</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_quoted">quoted</code></td>
<td>
<p>Is expr a quoted expression (with quote())? This is useful if you want to save an expression in a variable</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_outputid">outputId</code></td>
<td>
<p>Output variable to read from</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_width">width</code>, <code id="renderTmap_+3A_height">height</code></td>
<td>
<p>the width and height of the map</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_mapid">mapId</code></td>
<td>
<p>single-element character vector indicating the output ID of the map to modify (if invoked from a Shiny module, the namespace will be added automatically)</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_session">session</code></td>
<td>
<p>the Shiny session object to which the map belongs; usually the default value will suffice</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_x">x</code></td>
<td>
<p>the tmap object that specifies the added and removed layers.</p>
</td></tr>
<tr><td><code id="renderTmap_+3A_zindex">zindex</code></td>
<td>
<p>the z index of the pane in which the layer is contained that is going to be removed. It is recommended to specify the zindex for this layer when creating the map (inside <code>renderTmap</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two features from tmap are not (yet) supported in Shiny: small multiples (facets) and colored backgrounds (argument bg.color of <code><a href="#topic+tm_layout">tm_layout</a></code>). Workarounds for small multiples: create multiple independent maps or specify as.layers = TRUE in <code><a href="#topic+tm_facets">tm_facets</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("shiny")) {
	
	
	data(World)
	world_vars &lt;- setdiff(names(World), c("iso_a3", "name", "sovereignt", "geometry"))
	
	
	ui &lt;- fluidPage(
		tmapOutput("map"),
		selectInput("var", "Variable", world_vars)
	)
	
	server &lt;- function(input, output, session) {
		output$map &lt;- renderTmap({
			tm_shape(World) +
				tm_polygons(world_vars[1], zindex = 401)
		})
		
		observe({
			var &lt;- input$var
			tmapProxy("map", session, {
				tm_remove_layer(401) +
				tm_shape(World) +
					tm_polygons(var, zindex = 401)
			})
		})
	}	
	
	
	app &lt;- shinyApp(ui, server)
	if (interactive()) app
}
</code></pre>

<hr>
<h2 id='rivers'>Spatial data of rivers</h2><span id='topic+rivers'></span>

<h3>Description</h3>

<p>Spatial data of rivers, of class <code><a href="sf.html#topic+sf">sf</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(rivers)
</code></pre>


<h3>Source</h3>

<p><a href="https://www.naturalearthdata.com">https://www.naturalearthdata.com</a>
</p>

<hr>
<h2 id='theme_ps'>ggplot2 theme for proportional symbols</h2><span id='topic+theme_ps'></span>

<h3>Description</h3>

<p>ggplot2 theme for proportional symbols. By default, this theme only shows the plotting area, so without titles, axes, and legend
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_ps(
  base_size = 12,
  base_family = "",
  plot.axes = FALSE,
  plot.legend = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_ps_+3A_base_size">base_size</code></td>
<td>
<p>base size</p>
</td></tr>
<tr><td><code id="theme_ps_+3A_base_family">base_family</code></td>
<td>
<p>base family</p>
</td></tr>
<tr><td><code id="theme_ps_+3A_plot.axes">plot.axes</code></td>
<td>
<p>should the axes be shown?</p>
</td></tr>
<tr><td><code id="theme_ps_+3A_plot.legend">plot.legend</code></td>
<td>
<p>should the legend(s) be shown?</p>
</td></tr>
</table>

<hr>
<h2 id='tm_add_legend'>Add manual legend</h2><span id='topic+tm_add_legend'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that adds a manual legend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_add_legend(
  type = c("fill", "symbol", "text", "line", "title"),
  labels = NULL,
  col = NULL,
  size = NULL,
  shape = NULL,
  lwd = NULL,
  lty = NULL,
  text = NULL,
  alpha = NA,
  border.col = "black",
  border.lwd = 1,
  border.alpha = NA,
  title = "",
  is.portrait = TRUE,
  legend.format = list(),
  reverse = FALSE,
  z = NA,
  zindex = NA,
  group = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_add_legend_+3A_type">type</code></td>
<td>
<p>type of legend. One of <code>"fill"</code>, <code>"symbol"</code>, <code>"text"</code>, <code>"line"</code>, or <code>"title"</code>. The last option only displays a title.</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_labels">labels</code></td>
<td>
<p>legend labels</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_col">col</code></td>
<td>
<p>legend colors</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_size">size</code></td>
<td>
<p>legend symbol sizes (if <code>type=="symbol"</code>). See example how to replicate the sizes of symbols created with <code><a href="#topic+tm_symbols">tm_symbols</a></code>. If not specified, the symbols will have the same size as when calling <code><a href="#topic+tm_symbols">tm_symbols</a></code> without specifying the <code>size</code> argument.</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_shape">shape</code></td>
<td>
<p>legend symbol shapes (if <code>type=="symbol"</code>)</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_lwd">lwd</code></td>
<td>
<p>legend line widths (if <code>type=="line"</code>)</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_lty">lty</code></td>
<td>
<p>legend line types (if <code>type=="line"</code>)</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_text">text</code></td>
<td>
<p>legend texts (if <code>type=="text"</code>)</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_alpha">alpha</code></td>
<td>
<p>legend fill transparency</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_border.col">border.col</code></td>
<td>
<p>legend border col (if <code>type</code> is <code>"fill"</code> or <code>"symbol"</code>)</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_border.lwd">border.lwd</code></td>
<td>
<p>legend border width (if <code>type</code> is <code>"fill"</code> or <code>"symbol"</code>)</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_border.alpha">border.alpha</code></td>
<td>
<p>legend border alpha (if <code>type</code> is <code>"fill"</code> or <code>"symbol"</code>)</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_title">title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_is.portrait">is.portrait</code></td>
<td>
<p>is legend portrait (<code>TRUE</code>) or landscape (<code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_legend.format">legend.format</code></td>
<td>
<p>options to format the legend, see <code><a href="#topic+tm_symbols">tm_symbols</a></code> (the description of the argument <code>legend.format</code>) for details. Note that many of these arguments are not applicable for <code>tm_add_legend</code> since <code>labels</code> should be a character vector. However, some options could still be handy, e.g. <code>list(text.align = "right")</code>.</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_reverse">reverse</code></td>
<td>
<p>are the legend items reversed (by default <code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_z">z</code></td>
<td>
<p>legend stack position</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode to which the legend belongs (if any).</p>
</td></tr>
<tr><td><code id="tm_add_legend_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. By default <code>NULL</code>, which means that the legend will not be shown in the layer control item.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tm_symbols">tm_symbols</a></code> for another example
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This example adds a manual legend that combines the tm_symbols color and size legend.
## Not run: 
data(World)
data(metro)

# legend bubble size (10, 20, 30, 40 million) are
# - are normlized by upper limit (40e6),
# - square rooted (see argument perceptual of tm_symbols), and 
# - scaled by 2:
bubble_sizes &lt;- ((c(10, 20, 30, 40) * 1e6) / 40e6) ^ 0.5 * 2 

tm_shape(World) + 
	tm_polygons() + 
tm_shape(metro) +
	tm_symbols(col='pop2020', 
		breaks = c(0, 15, 25, 35, 40) * 1e6,
		n=4,
		palette = 'YlOrRd',
		size='pop2020',
		sizes.legend = c(10, 20, 30, 40) * 1e6,
		size.lim = c(0, 40e6),
		scale = 2,
		legend.size.show = FALSE,    # comment this line to see the original size legend
		legend.col.show = FALSE,     # comment this line to see the original color legend
		legend.size.is.portrait = TRUE) + 
tm_add_legend('symbol', 
	col = RColorBrewer::brewer.pal(4, "YlOrRd"),
	border.col = "grey40",
	size = bubble_sizes,
	labels = c('0-15 mln','15-25 mln','25-35 mln','35-40 mln'),
	title="Population Estimate")

## End(Not run)

# See also the documentation of tm_symbols for another example
</code></pre>

<hr>
<h2 id='tm_basemap'>Draw a tile layer</h2><span id='topic+tm_basemap'></span><span id='topic+tm_tiles'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that draws a tile layer. This feature is only available in view mode. For plot mode, a tile image can be retrieved by <code><a href="tmaptools.html#topic+read_osm">read_osm</a></code>. The function <code>tm_basemap</code> draws the tile layer as basemap (i.e. as bottom layer), whereas <code>tm_tiles</code> draws the tile layer as overlay layer (where the stacking order corresponds to the order in which this layer is called). Note that basemaps are shown by default (see details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_basemap(server = NA, group = NA, alpha = NA, tms = FALSE)

tm_tiles(server, group = NA, alpha = 1, zindex = NA, tms = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_basemap_+3A_server">server</code></td>
<td>
<p>name of the provider or an URL. The list of available providers can be obtained with <code>providers</code> (tip: in RStudio, type <code>providers$</code> to see the options). See <a href="https://leaflet-extras.github.io/leaflet-providers/preview/">https://leaflet-extras.github.io/leaflet-providers/preview/</a> for a preview of those. When a URL is provided, it should be in template format, e.g. <code>"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"</code>. Use <code>NULL</code> in <code>tm_basemap</code> to disable the basemaps.</p>
</td></tr>
<tr><td><code id="tm_basemap_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>). Tile layers generated with <code>tm_basemap</code> will be base groups whereas tile layers generated with <code>tm_tiles</code> will be overlay groups.</p>
</td></tr>
<tr><td><code id="tm_basemap_+3A_alpha">alpha</code></td>
<td>
<p>alpha</p>
</td></tr>
<tr><td><code id="tm_basemap_+3A_tms">tms</code></td>
<td>
<p>is the provided tile server defined according to the TMS protocol? By default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tm_basemap_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode. By default, it is set to the layer number plus 400. By default, the tmap layers will therefore be placed in the custom panes <code>"tmap401"</code>, <code>"tmap402"</code>, etc., except for the base tile layers, which are placed in the standard <code>"tile"</code>. This parameter determines both the name of the pane and the z-index, which determines the pane order from bottom to top. For instance, if <code>zindex</code> is set to 500, the pane will be named <code>"tmap500"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>tm_basemap</code> is not specified, the default basemaps are shown, which can be configured by the <code>basemaps</code> arugument in <code><a href="#topic+tmap_options">tmap_options</a></code>. By default (for style <code>"white"</code>) three basemaps are drawn: <code>c("Esri.WorldGrayCanvas", "OpenStreetMap", "Esri.WorldTopoMap")</code>. To disable basemaps, add <code>tm_basemap(NULL)</code> to the plot, or set <code>tmap_options(basemaps = NULL)</code>. Similarly, when <code>tm_tiles</code> is not specified, the overlay maps specified by the <code>overlays</code> argument in in <code><a href="#topic+tmap_options">tmap_options</a></code> are shown as front layer. By default, this argument is set to <code>NULL</code>, so no overlay maps are shown by default. See examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
current.mode &lt;- tmap_mode("view")

data(World, metro)

tm_basemap(leaflet::providers$Stamen.Watercolor) +
tm_shape(metro, bbox = "India") + tm_dots(col = "red", group = "Metropolitan areas") +
tm_tiles(paste0("http://services.arcgisonline.com/arcgis/rest/services/Canvas/",
    "World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}"), group = "Labels")


# Use tmap options to set the basemap and overlay map permanently during the R session:
opts &lt;- tmap_options(basemaps = c(Canvas = "Esri.WorldGrayCanvas", Imagery = "Esri.WorldImagery"),
    overlays = c(Labels = paste0("http://services.arcgisonline.com/arcgis/rest/services/Canvas/",
                                 "World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}")))
	
	qtm(World, fill = "HPI", fill.palette = "RdYlGn")

# restore options
tmap_options(opts)

# restore current mode
tmap_mode(current.mode)

## End(Not run)
</code></pre>

<hr>
<h2 id='tm_compass'>Map compass</h2><span id='topic+tm_compass'></span>

<h3>Description</h3>

<p>Creates a map compass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_compass(
  north = 0,
  type = NA,
  text.size = 0.8,
  size = NA,
  show.labels = 1,
  cardinal.directions = c("N", "E", "S", "W"),
  text.color = NA,
  color.dark = NA,
  color.light = NA,
  lwd = 1,
  position = NA,
  bg.color = NA,
  bg.alpha = NA,
  just = NA,
  fontsize = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_compass_+3A_north">north</code></td>
<td>
<p>north direction in degrees: 0 means up, 90 right, etc.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_type">type</code></td>
<td>
<p>compass type, one of: <code>"arrow"</code>, <code>"4star"</code>, <code>"8star"</code>, <code>"radar"</code>, <code>"rose"</code>. The default is controlled by <code><a href="#topic+tm_layout">tm_layout</a></code> (which uses <code>"arrow"</code> for the default style)</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_text.size">text.size</code></td>
<td>
<p>relative font size</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_size">size</code></td>
<td>
<p>size of the compass in number of text lines. The default values depend on the <code>type</code>: for <code>"arrow"</code> it is 2, for <code>"4star"</code> and <code>"8star"</code> it is 4, and for <code>"radar"</code> and <code>"rose"</code> it is 6.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_show.labels">show.labels</code></td>
<td>
<p>number that specifies which labels are shown: 0 means no labels, 1 (default) means only north, 2 means all four cardinal directions, and 3 means the four cardinal directions and the four intercardinal directions (e.g. north-east).</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_cardinal.directions">cardinal.directions</code></td>
<td>
<p>labels that are used for the cardinal directions north, east, south, and west.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_text.color">text.color</code></td>
<td>
<p>color of the text. By default equal to the argument <code>attr.color</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_color.dark">color.dark</code></td>
<td>
<p>color of the dark parts of the compass, typically (and by default) black.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_color.light">color.light</code></td>
<td>
<p>color of the light parts of the compass, typically (and by default) white.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_lwd">lwd</code></td>
<td>
<p>line width of the compass</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_position">position</code></td>
<td>
<p>position of the compass. Vector of two values, specifying the x and y coordinates. Either this vector contains &quot;left&quot;, &quot;LEFT&quot;, &quot;center&quot;, &quot;right&quot;, or &quot;RIGHT&quot; for the first value and &quot;top&quot;, &quot;TOP&quot;, &quot;center&quot;, &quot;bottom&quot;, or &quot;BOTTOM&quot; for the second value, or this vector contains two numeric values between 0 and 1 that specifies the x and y value of the left bottom corner of the compass. The uppercase values correspond to the position without margins (so tighter to the frame). The default value is controlled by the argument <code>"attr.position"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_bg.color">bg.color</code></td>
<td>
<p>Background color</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_bg.alpha">bg.alpha</code></td>
<td>
<p>Transparency of the background color. Number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>bg.color</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_just">just</code></td>
<td>
<p>Justification of the attribute relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left/bottom alignment and 1 right/top alignment. This option is only used, if <code>position</code> is specified by numeric coordinates. The default value is controlled by the argument <code>"attr.just"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_compass_+3A_fontsize">fontsize</code></td>
<td>
<p>deprecated: renamed to text.size</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>current.mode &lt;- tmap_mode("plot")

data(NLD_muni)

qtm(NLD_muni, theme = "NLD") + tm_compass()
qtm(NLD_muni, theme = "NLD") + tm_compass(type="radar", position=c("left", "top"), show.labels = 3)

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_credits'>Credits text</h2><span id='topic+tm_credits'></span>

<h3>Description</h3>

<p>Creates a text annotation that could be used for credits or acknowledgements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_credits(
  text,
  size = 0.7,
  col = NA,
  alpha = NA,
  align = "left",
  bg.color = NA,
  bg.alpha = NA,
  fontface = NA,
  fontfamily = NA,
  position = NA,
  width = NA,
  just = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_credits_+3A_text">text</code></td>
<td>
<p>text. Multiple lines can be created with the line break symbol <code>"\n"</code>. Facets can have different texts: in that case a vector of characters is required. Use <code>""</code> to omit the credits for specific facets.</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_size">size</code></td>
<td>
<p>relative text size</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_col">col</code></td>
<td>
<p>color of the text. By default equal to the argument <code>attr.color</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_alpha">alpha</code></td>
<td>
<p>transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of <code>col</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_align">align</code></td>
<td>
<p>horizontal alignment: <code>"left"</code> (default), <code>"center"</code>, or <code>"right"</code>. Only applicable if <code>text</code> contains multiple lines</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_bg.color">bg.color</code></td>
<td>
<p>background color for the text</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_bg.alpha">bg.alpha</code></td>
<td>
<p>Transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>bg.color</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_fontface">fontface</code></td>
<td>
<p>font face of the text. By default, determined by the fontface argument of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_fontfamily">fontfamily</code></td>
<td>
<p>font family of the text. By default, determined by the fontfamily argument of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_position">position</code></td>
<td>
<p>position of the text. Vector of two values, specifying the x and y coordinates. Either this vector contains &quot;left&quot;, &quot;LEFT&quot;, &quot;center&quot;, &quot;right&quot;, or &quot;RIGHT&quot; for the first value and &quot;top&quot;, &quot;TOP&quot;, &quot;center&quot;, &quot;bottom&quot;, or &quot;BOTTOM&quot; for the second value, or this vector contains two numeric values between 0 and 1 that specifies the x and y value of the center of the text. The uppercase values correspond to the position without margins (so tighter to the frame). The default value is controlled by the argument <code>"attr.position"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_width">width</code></td>
<td>
<p>the width of the credits text box, a numeric value that is relative to the map area (so 1 means the whole map width). By default (<code>NA</code>), it is determined by the width of the text. Tip: set <code>bg.color</code> to see the result.</p>
</td></tr>
<tr><td><code id="tm_credits_+3A_just">just</code></td>
<td>
<p>Justification of the attribute relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left/bottom alignment and 1 right/top alignment. This option is only used, if <code>position</code> is specified by numeric coordinates. The default value is controlled by the argument <code>"attr.just"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tm_xlab">tm_xlab</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>current.mode &lt;- tmap_mode("plot")

data(NLD_muni, NLD_prov)

tm_shape(NLD_muni) +
    tm_fill(col="population", convert2density=TRUE, 
        style="kmeans", title = expression("Population (per " * km^2 * ")")) +
    tm_borders("grey25", alpha=.5) + 
    tm_shape(NLD_prov) +
    tm_borders("grey40", lwd=2) +
tm_format("NLD", bg.color="white", frame = TRUE) +
tm_credits("(c) Statistics Netherlands (CBS) and\nKadaster Nederland", position=c("left", "bottom"))

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_facets'>Small multiples</h2><span id='topic+tm_facets'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that specifies facets (small multiples). Small multiples can be created in two ways: 1) by specifying the <code>by</code> argument with one or two variable names, by which the data is grouped, 2) by specifying multiple variable names in any of the aesthetic argument of the layer functions (for instance, the argument <code>col</code> in <code><a href="#topic+tm_fill">tm_fill</a></code>). This function further specifies the facets, for instance number of rows and columns, and whether the coordinate and scales are fixed or free (i.e. independent of each other). An overview of the different approaches to create facets is provided in the examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_facets(
  by = NULL,
  along = NULL,
  as.layers = FALSE,
  ncol = NA,
  nrow = NA,
  free.coords = !as.layers,
  drop.units = TRUE,
  drop.empty.facets = TRUE,
  drop.NA.facets = FALSE,
  sync = NA,
  showNA = NA,
  textNA = "Missing",
  free.scales = NULL,
  free.scales.fill = NULL,
  free.scales.symbol.size = NULL,
  free.scales.symbol.col = NULL,
  free.scales.symbol.shape = NULL,
  free.scales.text.size = NULL,
  free.scales.text.col = NULL,
  free.scales.line.col = NULL,
  free.scales.line.lwd = NULL,
  free.scales.raster = NULL,
  inside.original.bbox = FALSE,
  scale.factor = 2,
  drop.shapes = drop.units
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_facets_+3A_by">by</code></td>
<td>
<p>data variable name by which the data is split, or a vector of two variable names to split the data by two variables (where the first is used for the rows and the second for the columns).</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_along">along</code></td>
<td>
<p>data variable name by which the data is split and plotted on separate pages. This is especially useful for animations made with <code><a href="#topic+tmap_animation">tmap_animation</a></code>. The <code>along</code> argument can be used in combination with the <code>by</code> argument. It is only supported in <code>"plot"</code> mode (so not in <code>"view"</code> mode).</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_as.layers">as.layers</code></td>
<td>
<p>logical that determines whether facets are shown as different layers in <code>"view"</code> mode. By default <code>FALSE</code>, i.e. facets are drawn as small multiples.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_ncol">ncol</code></td>
<td>
<p>number of columns of the small multiples grid. Not applicable if <code>by</code> contains two variable names.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_nrow">nrow</code></td>
<td>
<p>number of rows of the small multiples grid. Not applicable if <code>by</code> contains two variable names.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.coords">free.coords</code></td>
<td>
<p>logical. If the <code>by</code> argument is specified, should each map has its own coordinate ranges? By default <code>TRUE</code>, unless facets are shown in as different layers (<code>as.layers = TRUE</code>)</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_drop.units">drop.units</code></td>
<td>
<p>logical. If the <code>by</code> argument is specified, should non-selected spatial units be dropped? If <code>FALSE</code>, they are plotted where mapped aesthetics are regarded as missing values. Not applicable for raster shapes. By default <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_drop.empty.facets">drop.empty.facets</code></td>
<td>
<p>logical. If the <code>by</code> argument is specified, should empty facets be dropped? Empty facets occur when the <code>by</code>-variable contains unused levels. When <code>TRUE</code> and two <code>by</code>-variables are specified, empty rows and columns are dropped.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_drop.na.facets">drop.NA.facets</code></td>
<td>
<p>logical. If the <code>by</code> argument is specified, and all values of the defined aesthetic variables (e.g. <code>col</code> from <code><a href="#topic+tm_fill">tm_fill</a></code>) for specific facets, should these facets be dropped? <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_sync">sync</code></td>
<td>
<p>logical. Should the navigation in view mode (zooming and panning) be synchronized? By default <code>TRUE</code> if the facets have the same bounding box. This is generally the case when rasters are plotted, or when free.coords is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_showna">showNA</code></td>
<td>
<p>If the <code>by</code> argument is specified, should missing values of the <code>by</code>-variable be shown in a facet? If two <code>by</code>-variables are specified, should missing values be shown in an additional row and column? If <code>NA</code>, missing values only are shown if they exist. Similar to the <code>useNA</code> argument of <code><a href="base.html#topic+table">table</a></code>, where <code>TRUE</code>, <code>FALSE</code>, and <code>NA</code> correspond to <code>"always"</code>, <code>"no"</code>, and <code>"ifany"</code> respectively.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_textna">textNA</code></td>
<td>
<p>text used for facets of missing values.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales">free.scales</code></td>
<td>
<p>logical. Should all scales of the plotted data variables be free, i.e. independent of each other? Specific scales can be set with <code>free.scales.x</code>, where <code>x</code> is the name of the aesthetic, e.g. <code>"symbol.col"</code>. By default, <code>free.scales</code> is <code>TRUE</code>, unless the <code>by</code> argument is used, the <code>along</code> argument is used, or a <code>stars</code> object with a third dimension is shown.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.fill">free.scales.fill</code></td>
<td>
<p>logical. Should the color scale for the choropleth be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.symbol.size">free.scales.symbol.size</code></td>
<td>
<p>logical. Should the symbol size scale for the symbol map be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.symbol.col">free.scales.symbol.col</code></td>
<td>
<p>logical. Should the color scale for the symbol map be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.symbol.shape">free.scales.symbol.shape</code></td>
<td>
<p>logical. Should the symbol shape scale for the symbol map be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.text.size">free.scales.text.size</code></td>
<td>
<p>logical. Should the text size scale be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.text.col">free.scales.text.col</code></td>
<td>
<p>logical. Should the text color scale be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.line.col">free.scales.line.col</code></td>
<td>
<p>Should the line color scale be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.line.lwd">free.scales.line.lwd</code></td>
<td>
<p>Should the line width scale be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_free.scales.raster">free.scales.raster</code></td>
<td>
<p>Should the color scale for raster layers be free?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_inside.original.bbox">inside.original.bbox</code></td>
<td>
<p>If <code>free.coords</code>, should the bounding box of each small multiple be inside the original bounding box?</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_scale.factor">scale.factor</code></td>
<td>
<p>Number that determines how the elements (e.g. font sizes, symbol sizes, line widths) of the small multiples are scaled in relation to the scaling factor of the shapes. The elements are scaled to the <code>scale.factor</code>th root of the scaling factor of the shapes. So, for <code>scale.factor=1</code>, they are scaled proportional to the scaling of the shapes. Since elements, especially text, are often too small to read, a higher value is recommended. By default, <code>scale.factor=2</code>.</p>
</td></tr>
<tr><td><code id="tm_facets_+3A_drop.shapes">drop.shapes</code></td>
<td>
<p>deprecated: renamed to <code>drop.units</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The global option <code>limits</code> controls the limit of the number of facets that are plotted. By default, <code>tmap_options(limits=c(facets.plot=64, facets.view=4))</code>. The maximum number of interactive facets is set to four since otherwise it may become very slow.
</p>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World, NLD_muni, NLD_prov, land, metro)

current.mode &lt;- tmap_mode("plot")

# CASE 1: Facets defined by constant values
tm_shape(World) +
    tm_fill(c("forestgreen", "goldenrod")) +
tm_format("World", title=c("A green world", "A dry world"), bg.color="lightskyblue2", 
    title.position=c("left", "bottom"))

# CASE 2: Facets defined by multiple variables
tm_shape(World) +
    tm_polygons(c("well_being", "life_exp"),
    	style=c("pretty", "fixed"), breaks=list(NULL, seq(45, 85, by = 5)),
    	palette=list("Oranges", "Purples"),
    	border.col = "black",
        title=c("Well-Being Index", "Life Expectancy")) +
tm_format("World")

## Not run: 
tm_shape(NLD_muni) +
    tm_fill(c("pop_0_14", "pop_15_24", "pop_25_44", "pop_45_64", "pop_65plus"),
        style="kmeans", 
        palette=list("Oranges", "Greens", "Blues", "Purples", "Greys"),
        title=c("Population 0 to 14", "Population 15 to 24", "Population 25 to 44",
            "Population 45 to 64", "Population 65 and older")) +
tm_shape(NLD_prov) +
    tm_borders() +
tm_format("NLD", frame = TRUE, asp=0)

## End(Not run)

# CASE 3: Facets defined by group-by variable(s)
# A group-by variable that divides the objects spatially
tm_shape(NLD_prov) +
    tm_polygons("gold2") +
    tm_facets(by="name")

## Not run: 
tm_shape(NLD_muni) +
    tm_borders() +
    tm_facets(by="province") +
    tm_fill("population", style="kmeans", convert2density = TRUE) +
tm_shape(NLD_prov) +
    tm_borders(lwd=4) +
    tm_facets(by="name")

## End(Not run)

# The objects are divided by a non-spatial variable (e.g. date/time)
if (require(dplyr) &amp;&amp; require(tidyr)) {
	metro_long &lt;- metro %&gt;% 
		gather(year, population, -name, -name_long, -iso_a3, -geometry) %&gt;% 
		mutate(year = as.integer(substr(year, 4, 7)))
	
	tm_shape(metro_long) +
		tm_bubbles("population") +
		tm_facets(by = "year")
}
## Not run: 
tm_shape(land) +
	tm_raster("black") +
	tm_facets(by="cover_cls", free.coords = FALSE)

## End(Not run)

# Facets defined by two group-by variables
## Not run: 
World$HPI3 &lt;- cut(World$HPI, breaks = c(20, 35, 50, 65), 
    labels = c("HPI low", "HPI medium", "HPI high"))
World$GDP3 &lt;- cut(World$gdp_cap_est, breaks = c(0, 5000, 20000, Inf), 
    labels = c("GDP low", "GDP medium", "GDP high"))

tm_shape(World) + 
	tm_fill("HPI3", palette="Dark2", colorNA="grey90", legend.show = FALSE) + 
	tm_facets(c("HPI3", "GDP3"), showNA=FALSE, free.coords = FALSE, drop.units = FALSE)

metro_edited &lt;- metro %&gt;% 
	mutate(pop1950cat = cut(pop1950, breaks=c(0.5, 1, 1.5, 2, 3, 5, 10, 40)*1e6),
		   pop2020cat = cut(pop2020, breaks=c(0.5, 1, 1.5, 2, 3, 5, 10, 40)*1e6))

tm_shape(World) +
	tm_fill() +
tm_shape(metro_edited) +
tm_dots("red", size = .5) +
	tm_facets(c("pop1950cat", "pop2020cat"), free.coords = FALSE) +
tm_layout(panel.label.rot = c(0, 90), panel.label.size = 2)

## End(Not run)

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_fill'>Draw polygons</h2><span id='topic+tm_fill'></span><span id='topic+tm_borders'></span><span id='topic+tm_polygons'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that draws the polygons. <code>tm_fill</code> fills the polygons. Either a fixed color is used, or a color palette is mapped to a data variable. <code>tm_borders</code> draws the borders of the polygons. <code>tm_polygons</code> fills the polygons and draws the polygon borders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_fill(
  col = NA,
  alpha = NA,
  palette = NULL,
  convert2density = FALSE,
  area = NULL,
  n = 5,
  style = ifelse(is.null(breaks), "pretty", "fixed"),
  style.args = list(),
  as.count = NA,
  breaks = NULL,
  interval.closure = "left",
  labels = NULL,
  drop.levels = FALSE,
  midpoint = NULL,
  stretch.palette = TRUE,
  contrast = NA,
  colorNA = NA,
  textNA = "Missing",
  showNA = NA,
  colorNULL = NA,
  thres.poly = 0,
  title = NA,
  legend.show = TRUE,
  legend.format = list(),
  legend.is.portrait = TRUE,
  legend.reverse = FALSE,
  legend.hist = FALSE,
  legend.hist.title = NA,
  legend.z = NA,
  legend.hist.z = NA,
  id = NA,
  interactive = TRUE,
  popup.vars = NA,
  popup.format = list(),
  zindex = NA,
  group = NA,
  auto.palette.mapping = NULL,
  max.categories = NULL,
  ...
)

tm_borders(
  col = NA,
  lwd = 1,
  lty = "solid",
  alpha = NA,
  zindex = NA,
  group = NA
)

tm_polygons(
  col = NA,
  alpha = NA,
  border.col = NA,
  border.alpha = NA,
  zindex = NA,
  group = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_fill_+3A_col">col</code></td>
<td>
<p>For <code>tm_fill</code>, it is one of
</p>

<ul>
<li><p> a single color value
</p>
</li>
<li><p> the name of a data variable that is contained in <code>shp</code>. Either the data variable contains color values, or values (numeric or categorical) that will be depicted by a color palette (see <code>palette</code>. In the latter case, a choropleth is drawn. 
</p>
</li>
<li> <p><code>"MAP_COLORS"</code>. In this case polygons will be colored such that adjacent polygons do not get the same color. See the underlying function <code><a href="tmaptools.html#topic+map_coloring">map_coloring</a></code> for details.</p>
</li></ul>

<p>For <code>tm_borders</code>, it is a single color value that specifies the border line color. If multiple values are specified, small multiples are drawn (see details).</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_alpha">alpha</code></td>
<td>
<p>transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>col</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_palette">palette</code></td>
<td>
<p>a palette name or a vector of colors. See <code>tmaptools::palette_explorer()</code> for the named palettes. Use a <code>"-"</code> as prefix to reverse the palette. The default palette is taken from <code><a href="#topic+tm_layout">tm_layout</a></code>'s argument <code>aes.palette</code>, which typically depends on the style. The type of palette from <code>aes.palette</code> is automatically determined, but can be overwritten: use <code>"seq"</code> for sequential, <code>"div"</code> for diverging, and <code>"cat"</code> for categorical.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_convert2density">convert2density</code></td>
<td>
<p>boolean that determines whether <code>col</code> is converted to a density variable. Should be <code>TRUE</code> when <code>col</code> consists of absolute numbers. The area size is either approximated from the shape object, or given by the argument <code>area</code>.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_area">area</code></td>
<td>
<p>Name of the data variable that contains the area sizes in squared kilometer.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_n">n</code></td>
<td>
<p>preferred number of classes (in case <code>col</code> is a numeric variable).</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_style">style</code></td>
<td>
<p>method to process the color scale when <code>col</code> is a numeric variable. Discrete gradient options are <code>"cat"</code>, <code>"fixed"</code>, <code>"sd"</code>, <code>"equal"</code>, <code>"pretty"</code>, <code>"quantile"</code>, <code>"kmeans"</code>, <code>"hclust"</code>, <code>"bclust"</code>, <code>"fisher"</code>, <code>"jenks"</code>, <code>"dpih"</code>, <code>"headtails"</code>, and <code>"log10_pretty"</code>. A numeric variable is processed as a categorical variable when using <code>"cat"</code>, i.e. each unique value will correspond to a distinct category. For the other discrete gradient options (except <code>"log10_pretty"</code>), see the details in <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> (extra arguments can be passed on via <code>style.args</code>). Continuous gradient options are <code>"cont"</code>, <code>"order"</code>, and <code>"log10"</code>. The first maps the values of <code>col</code> to a smooth gradient, the second maps the order of values of <code>col</code> to a smooth gradient, and the third uses a logarithmic transformation. The numeric variable can be either regarded as a continuous variable or a count (integer) variable. See <code>as.count</code>.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_style.args">style.args</code></td>
<td>
<p>arguments passed on to <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>, the function that determine color classes (see also <code>style</code>).</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_as.count">as.count</code></td>
<td>
<p>when <code>col</code> is a numeric variable, should it be processed as a count variable? For instance, if <code>style = "pretty"</code>, <code>n = 2</code>, and the value range of the variable is 0 to 10, then the column classes for <code>as.count = TRUE</code> are 0; 1 to 5; 6 to 10 (note that 0 is regarded as an own category) whereas for <code>as.count = FALSE</code> they are 0 to 5; 5 to 10. Only applicable if <code>style</code> is <code>"pretty"</code>, <code>"fixed"</code>, or <code>"log10_pretty"</code>. By default, <code>TRUE</code> if <code>style</code> is one of these, and the variable is an integer.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_breaks">breaks</code></td>
<td>
<p>in case <code>style=="fixed"</code>, breaks should be specified. The <code>breaks</code> argument can also be used when <code>style="cont"</code>. In that case, the breaks are mapped evenly to the sequential or diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_interval.closure">interval.closure</code></td>
<td>
<p>value that determines whether where the intervals are closed: <code>"left"</code> or <code>"right"</code>. Only applicable if <code>col</code> is a numeric variable. If <code>as.count = TRUE</code>, <code>inverval.closure</code> is always set to <code>"left"</code>.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_labels">labels</code></td>
<td>
<p>labels of the classes.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_drop.levels">drop.levels</code></td>
<td>
<p>should unused classes be omitted? <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_midpoint">midpoint</code></td>
<td>
<p>The value mapped to the middle color of a diverging palette. By default it is set to 0 if negative and positive values are present. In that case, the two sides of the color palette are assigned to negative respectively positive values. If all values are positive or all values are negative, then the midpoint is set to <code>NA</code>, which means that the value that corresponds to the middle color class (see <code>style</code>) is mapped to the middle color. Only applies when <code>col</code> is a numeric variable. If it is specified for sequential color palettes (e.g. <code>"Blues"</code>), then this color palette will be treated as a diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_stretch.palette">stretch.palette</code></td>
<td>
<p>Logical that determines whether the categorical color palette should be stretched if there are more categories than colors. If <code>TRUE</code> (default), interpolated colors are used (like a rainbow). If <code>FALSE</code>, the palette is repeated.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_contrast">contrast</code></td>
<td>
<p>vector of two numbers that determine the range that is used for sequential and diverging palettes (applicable when <code>auto.palette.mapping=TRUE</code>). Both numbers should be between 0 and 1. The first number determines where the palette begins, and the second number where it ends. For sequential palettes, 0 means the brightest color, and 1 the darkest color. For diverging palettes, 0 means the middle color, and 1 both extremes. If only one number is provided, this number is interpreted as the endpoint (with 0 taken as the start).</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_colorna">colorNA</code></td>
<td>
<p>color used for missing values. Use <code>NULL</code> for transparency.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_textna">textNA</code></td>
<td>
<p>text used for missing values.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_showna">showNA</code></td>
<td>
<p>logical that determines whether missing values are named in the legend. By default (<code>NA</code>), this depends on the presence of missing values.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_colornull">colorNULL</code></td>
<td>
<p>colour for polygons that are shown on the map that are out of scope</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_thres.poly">thres.poly</code></td>
<td>
<p>number that specifies the threshold at which polygons are taken into account. The number itself corresponds to the proportion of the area sizes of the polygons to the total polygon size. By default, all polygons are drawn. To ignore polygons that are not visible in a normal plot, a value like <code>1e-05</code> is recommended.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_title">title</code></td>
<td>
<p>title of the legend element</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.show">legend.show</code></td>
<td>
<p>logical that determines whether the legend is shown</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.format">legend.format</code></td>
<td>
<p>list of formatting options for the legend numbers. Only applicable if <code>labels</code> is undefined. Parameters are:
</p>

<dl>
<dt>fun</dt><dd><p>Function to specify the labels. It should take a numeric vector, and should return a character vector of the same size. By default it is not specified. If specified, the list items <code>scientific</code>, <code>format</code>, and <code>digits</code> (see below) are not used.</p>
</dd>
<dt>scientific</dt><dd><p>Should the labels be formatted scientifically? If so, square brackets are used, and the <code>format</code> of the numbers is <code>"g"</code>. Otherwise, <code>format="f"</code>, and <code>text.separator</code>, <code>text.less.than</code>, and <code>text.or.more</code> are used. Also, the numbers are automatically  rounded to millions or billions if applicable.</p>
</dd>
<dt>format</dt><dd><p>By default, <code>"f"</code>, i.e. the standard notation <code>xxx.xxx</code>, is used. If <code>scientific=TRUE</code> then <code>"g"</code>, which means that numbers are formatted scientifically, i.e. <code>n.dddE+nn</code> if needed to save space.</p>
</dd>
<dt>digits</dt><dd><p>Number of digits after the decimal point if <code>format="f"</code>, and the number of significant digits otherwise.</p>
</dd>
<dt>big.num.abbr</dt><dd><p>Vector that defines whether and which abbrevations are used for large numbers. It is a named numeric vector, where the name indicated the abbreviation, and the number the magnitude (in terms on numbers of zero). Numbers are only abbrevation when they are large enough. Set it to <code>NA</code> to disable abbrevations.  The default is <code>c("mln" = 6, "bln" = 9)</code>. For layers where <code>style</code> is set to <code>log10</code> or <code>log10_pretty</code>, the default is <code>NA</code>.</p>
</dd>
<dt>prefix</dt><dd><p>Prefix of each number</p>
</dd>
<dt>suffix</dt><dd><p>Suffix of each number</p>
</dd>
<dt>text.separator</dt><dd><p>Character string to use to separate numbers in the legend (default: &quot;to&quot;).</p>
</dd>
<dt>text.less.than</dt><dd><p>Character value(s) to use to translate &quot;Less than&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.or.more</dt><dd><p>Character value(s) to use to translate &quot;or more&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.align</dt><dd><p>Value that determines how the numbers are aligned, <code>"left"</code>, <code>"center"</code> or <code>"right"</code>. By default <code>"left"</code> for legends in portrait format (<code>legend.is.protrait = TRUE</code>), and <code>"center"</code> otherwise.</p>
</dd>
<dt>text.to.columns</dt><dd><p>Logical that determines whether the text is aligned to three columns (from, text.separator, to). By default <code>FALSE</code>.</p>
</dd>
<dt>html.escape</dt><dd><p>Logical that determins whther HTML code is escaped in the popups in view mode. By default <code>TRUE</code>. If set to <code>FALSE</code> HTML code can be added, e.g. to added white space via <code>&amp;nbsp;</code>.</p>
</dd>
<dt>...</dt><dd><p>Other arguments passed on to <code><a href="base.html#topic+formatC">formatC</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.is.portrait">legend.is.portrait</code></td>
<td>
<p>logical that determines whether the legend is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.reverse">legend.reverse</code></td>
<td>
<p>logical that determines whether the items are shown in reverse order, i.e. from bottom to top when <code>legend.is.portrait = TRUE</code> and from right to left when <code>legend.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.hist">legend.hist</code></td>
<td>
<p>logical that determines whether a histogram is shown</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.hist.title">legend.hist.title</code></td>
<td>
<p>title for the histogram. By default, one title is used for both the histogram and the normal legend.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.z">legend.z</code></td>
<td>
<p>index value that determines the position of the legend element with respect to other legend elements. The legend elements are stacked according to their z values. The legend element with the lowest z value is placed on top.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_legend.hist.z">legend.hist.z</code></td>
<td>
<p>index value that determines the position of the histogram legend element</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_id">id</code></td>
<td>
<p>name of the data variable that specifies the indices of the polygons. Only used for <code>"view"</code> mode (see <code><a href="#topic+tmap_mode">tmap_mode</a></code>).</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_interactive">interactive</code></td>
<td>
<p>logical that determines whether this layer is interactive in view mode (e.g. hover text, popup, and click event in shiny apps)</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_popup.vars">popup.vars</code></td>
<td>
<p>names of data variables that are shown in the popups in <code>"view"</code> mode. If <code>convert2density=TRUE</code>, the derived density variable name is suffixed with <code>_density</code>. If <code>NA</code> (default), only aesthetic variables (i.e. specified by <code>col</code> and <code>lwd</code>) are shown). If they are not specified, all variables are shown. Set popup.vars to <code>FALSE</code> to disable popups. When a vector of variable names is provided, the names (if specified) are printed in the popups.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_popup.format">popup.format</code></td>
<td>
<p>list of formatting options for the popup values. See the argument <code>legend.format</code> for options. Only applicable for numeric data variables. If one list of formatting options is provided, it is applied to all numeric variables of <code>popup.vars</code>. Also, a (named) list of lists can be provided. In that case, each list of formatting options is applied to the named variable.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode. By default, it is set to the layer number plus 400. By default, the tmap layers will therefore be placed in the custom panes <code>"tmap401"</code>, <code>"tmap402"</code>, etc., except for the base tile layers, which are placed in the standard <code>"tile"</code>. This parameter determines both the name of the pane and the z-index, which determines the pane order from bottom to top. For instance, if <code>zindex</code> is set to 500, the pane will be named <code>"tmap500"</code>.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>).</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_auto.palette.mapping">auto.palette.mapping</code></td>
<td>
<p>deprecated. It has been replaced by <code>midpoint</code> for numeric variables and <code>stretch.palette</code> for categorical variables.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_max.categories">max.categories</code></td>
<td>
<p>deprecated. It has moved to <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_...">...</code></td>
<td>
<p>for <code>tm_polygons</code>, these arguments passed to either <code>tm_fill</code> or <code>tm_borders</code>. For <code>tm_fill</code>, these arguments are passed on to <code><a href="tmaptools.html#topic+map_coloring">map_coloring</a></code>.</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_lwd">lwd</code></td>
<td>
<p>border line width (see <code><a href="graphics.html#topic+par">par</a></code>)</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_lty">lty</code></td>
<td>
<p>border line type (see <code><a href="graphics.html#topic+par">par</a></code>)</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_border.col">border.col</code></td>
<td>
<p>border line color</p>
</td></tr>
<tr><td><code id="tm_fill_+3A_border.alpha">border.alpha</code></td>
<td>
<p>transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>col</code> is used (normally 1).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Small multiples can be drawn in two ways: either by specifying the <code>by</code> argument in <code><a href="#topic+tm_facets">tm_facets</a></code>, or by defining multiple variables in the aesthetic arguments. The aesthetic argument of <code>tm_fill</code> (and <code>tm_polygons</code>) is <code>col</code>. In the latter case, the arguments, except for <code>thres.poly</code>, and the ones starting with <code>legend.</code>, can be specified for small multiples as follows. If the argument normally only takes a single value, such as <code>n</code>, then a vector of those values can be specified, one for each small multiple. If the argument normally can take a vector, such as <code>palette</code>, then a list of those vectors (or values) can be specified, one for each small multiple.
</p>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World)

# Constant fill
tm_shape(World) + tm_fill("darkolivegreen3") + tm_format("World", title="A green World")

# Borders only
tm_shape(World) + tm_borders()

# Data variable containing colours values
World$isNLD &lt;- ifelse(World$name=="Netherlands", "darkorange", "darkolivegreen3")
tm_shape(World) +
    tm_fill("isNLD") +
tm_layout("Find the Netherlands!")

tm_shape(World, projection = "+proj=eck4") +
	tm_polygons("economy", title="Economy", id="name") +
	tm_text("iso_a3", size="AREA", scale=1.5) +
	tm_format("World")

# Numeric data variable
tm_shape(World, projection = "+proj=eck4") +
	tm_polygons("HPI", palette="RdYlGn", style="cont", n=8,
		title="Happy Planet Index", id="name") +
	tm_text("iso_a3", size="AREA", scale=1.5) +
tm_style("grey") +
tm_format("World")

## Not run: 
data(NLD_prov, NLD_muni)	
# Map coloring algorithm
tm_shape(NLD_prov) +
    tm_fill("name", legend.show = FALSE) +
tm_shape(NLD_muni) +
    tm_polygons("MAP_COLORS", palette="Greys", alpha = .25) +
tm_shape(NLD_prov) +
    tm_borders(lwd=2) +
    tm_text("name", shadow=TRUE) +
tm_format("NLD", title="Dutch provinces and\nmunicipalities", bg.color="white")

# Cartogram
if (require(cartogram)) {
	NLD_prov_pop &lt;- cartogram(NLD_prov, "population")
	tm_shape(NLD_prov_pop) +
		tm_polygons("origin_non_west", title = "Non-western origin (%)")
}

## End(Not run)

# TIP: check out these examples in view mode, enabled with tmap_mode("view")
</code></pre>

<hr>
<h2 id='tm_grid'>Coordinate grid / graticule lines</h2><span id='topic+tm_grid'></span><span id='topic+tm_graticules'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that draws coordinate grid lines. It serves as a layer that can be drawn anywhere between other layers. By default, <code>tm_grid</code> draws horizontal and vertical lines acording to the coordinate system of the (master) shape object. Latitude and longitude graticules are drawn with <code>tm_graticules</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_grid(
  x = NA,
  y = NA,
  n.x = NA,
  n.y = NA,
  projection = NA,
  col = NA,
  lwd = 1,
  alpha = NA,
  labels.show = TRUE,
  labels.size = 0.6,
  labels.col = NA,
  labels.rot = c(0, 0),
  labels.format = list(big.mark = ","),
  labels.cardinal = FALSE,
  labels.margin.x = 0,
  labels.margin.y = 0,
  labels.space.x = NA,
  labels.space.y = NA,
  labels.inside.frame = FALSE,
  ticks = labels.show &amp; !labels.inside.frame,
  lines = TRUE,
  ndiscr = 100,
  zindex = NA
)

tm_graticules(
  x = NA,
  y = NA,
  n.x = NA,
  n.y = NA,
  projection = 4326,
  labels.format = list(suffix = intToUtf8(176)),
  labels.cardinal = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_grid_+3A_x">x</code></td>
<td>
<p>x coordinates for vertical grid lines. If <code>NA</code>, it is specified with a pretty scale and <code>n.x</code>.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_y">y</code></td>
<td>
<p>y coordinates for horizontal grid lines. If <code>NA</code>, it is specified with a pretty scale and <code>n.y</code>.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_n.x">n.x</code></td>
<td>
<p>preferred number of grid lines for the x axis. For the labels, a <code><a href="base.html#topic+pretty">pretty</a></code> sequence is used, so the number of actual labels may be different than <code>n.x</code>.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_n.y">n.y</code></td>
<td>
<p>preferred number of grid lines for the y axis. For the labels, a <code><a href="base.html#topic+pretty">pretty</a></code> sequence is used, so the number of actual labels may be different than <code>n.y</code>.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_projection">projection</code></td>
<td>
<p>projection character. If specified, the grid lines are projected accordingly. Many world maps are projected, but still have latitude longitude (epsg 4326) grid lines.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_col">col</code></td>
<td>
<p>color of the grid lines.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_lwd">lwd</code></td>
<td>
<p>line width of the grid lines</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_alpha">alpha</code></td>
<td>
<p>alpha transparency of the grid lines. Number between 0 and 1. By default, the alpha transparency of <code>col</code> is taken.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.show">labels.show</code></td>
<td>
<p>show tick labels. Either one value for both <code>x</code> and <code>y</code> axis, or a vector two: the first for <code>x</code> and latter for <code>y</code>.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.size">labels.size</code></td>
<td>
<p>font size of the tick labels</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.col">labels.col</code></td>
<td>
<p>font color of the tick labels</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.rot">labels.rot</code></td>
<td>
<p>Rotation angles of the labels. Vector of two values: the first is the rotation angle (in degrees) of the tick labels on the x axis and the second is the rotation angle of the tick labels on the y axis. Only <code>0</code>, <code>90</code>, <code>180</code>, and <code>270</code> are valid values.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.format">labels.format</code></td>
<td>
<p>list of formatting options for the grid labels. Parameters are:
</p>

<dl>
<dt>fun</dt><dd><p>Function to specify the labels. It should take a numeric vector, and should return a character vector of the same size. By default it is not specified. If specified, the list items <code>scientific</code>, <code>format</code>, and <code>digits</code> (see below) are not used.</p>
</dd>
<dt>scientific</dt><dd><p>Should the labels be formatted scientifically? If so, square brackets are used, and the <code>format</code> of the numbers is <code>"g"</code>. Otherwise, <code>format="f"</code>, and <code>text.separator</code>, <code>text.less.than</code>, and <code>text.or.more</code> are used. Also, the numbers are automatically  rounded to millions or billions if applicable.</p>
</dd>
<dt>format</dt><dd><p>By default, <code>"f"</code>, i.e. the standard notation <code>xxx.xxx</code>, is used. If <code>scientific=TRUE</code> then <code>"g"</code>, which means that numbers are formatted scientifically, i.e. <code>n.dddE+nn</code> if needed to save space.</p>
</dd>
<dt>digits</dt><dd><p>Number of digits after the decimal point if <code>format="f"</code>, and the number of significant digits otherwise.</p>
</dd>
<dt>...</dt><dd><p>Other arguments passed on to <code><a href="base.html#topic+formatC">formatC</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.cardinal">labels.cardinal</code></td>
<td>
<p>add the four cardinal directions (N, E, S, W) to the labels, instead of using negative coordiantes for west and south (so it assumes that the coordinates are positive in the north-east direction).</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.margin.x">labels.margin.x</code></td>
<td>
<p>margin between tick labels of x axis and the frame. Note that when <code>labels.inside.frame == FALSE</code> and <code>ticks == TRUE</code>, the ticks will be adjusted accordingly.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.margin.y">labels.margin.y</code></td>
<td>
<p>margin between tick labels of y axis and the frame. Note that when <code>labels.inside.frame == FALSE</code> and <code>ticks == TRUE</code>, the ticks will be adjusted accordingly.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.space.x">labels.space.x</code></td>
<td>
<p>space that is used for the labels and ticks for the x-axis when <code>labels.inside.frame == FALSE</code>. By default, it is determined automatically using the widths and heights of the tick labels. The unit of this parameter is text line height.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.space.y">labels.space.y</code></td>
<td>
<p>space that is used for the labels and ticks for the y-axis when <code>labels.inside.frame == FALSE</code>. By default, it is determined automatically using the widths and heights of the tick labels. The unit of this parameter is text line height.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_labels.inside.frame">labels.inside.frame</code></td>
<td>
<p>Show labels inside the frame? By default <code>FALSE</code></p>
</td></tr>
<tr><td><code id="tm_grid_+3A_ticks">ticks</code></td>
<td>
<p>If <code>labels.inside.frame = FALSE</code>, should ticks can be drawn between the labels and the frame? Either one value for both <code>x</code> and <code>y</code> axis, or a vector two: the first for <code>x</code> and latter for <code>y</code>.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_lines">lines</code></td>
<td>
<p>If <code>labels.inside.frame = FALSE</code>, should grid lines can be drawn?</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_ndiscr">ndiscr</code></td>
<td>
<p>number of points to discretize a parallel or meridian (only applicable for curved grid lines)</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode. By default, it is set to the layer number plus 400. By default, the tmap layers will therefore be placed in the custom panes <code>"tmap401"</code>, <code>"tmap402"</code>, etc., except for the base tile layers, which are placed in the standard <code>"tile"</code>. This parameter determines both the name of the pane and the z-index, which determines the pane order from bottom to top. For instance, if <code>zindex</code> is set to 500, the pane will be named <code>"tmap500"</code>.</p>
</td></tr>
<tr><td><code id="tm_grid_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code>tm_grid</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>current.mode &lt;- tmap_mode("plot")

data(NLD_muni, World)

tmap_arrange(
	qtm(NLD_muni, borders = NULL) + tm_grid(),
	qtm(NLD_muni, borders = NULL) + tm_graticules()
)

qtm(World, shape.projection = "+proj=robin", style = "natural") +
	tm_graticules(ticks = FALSE) +
	tm_layout(frame=FALSE)

tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_iso'>Draw iso (contour) lines with labels</h2><span id='topic+tm_iso'></span>

<h3>Description</h3>

<p>This function is a wrapper of <code><a href="#topic+tm_lines">tm_lines</a></code> and <code><a href="#topic+tm_text">tm_text</a></code> aimed to draw isopleths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_iso(
  col = NA,
  text = "level",
  size = 0.5,
  remove.overlap = TRUE,
  along.lines = TRUE,
  overwrite.lines = TRUE,
  bg.color = tmap_options()$bg.color,
  group = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_iso_+3A_col">col</code></td>
<td>
<p>line color. See <code><a href="#topic+tm_lines">tm_lines</a></code>.</p>
</td></tr>
<tr><td><code id="tm_iso_+3A_text">text</code></td>
<td>
<p>text to display.</p>
</td></tr>
<tr><td><code id="tm_iso_+3A_size">size</code></td>
<td>
<p>text size (see <code><a href="#topic+tm_text">tm_text</a></code>)</p>
</td></tr>
<tr><td><code id="tm_iso_+3A_remove.overlap">remove.overlap</code></td>
<td>
<p>see <code><a href="#topic+tm_text">tm_text</a></code></p>
</td></tr>
<tr><td><code id="tm_iso_+3A_along.lines">along.lines</code></td>
<td>
<p>see <code><a href="#topic+tm_text">tm_text</a></code></p>
</td></tr>
<tr><td><code id="tm_iso_+3A_overwrite.lines">overwrite.lines</code></td>
<td>
<p>see <code><a href="#topic+tm_text">tm_text</a></code></p>
</td></tr>
<tr><td><code id="tm_iso_+3A_bg.color">bg.color</code></td>
<td>
<p>background color of the labels. Note: in tmap &lt;= 3.2, the iso lines were cut to make space for labels. In tmap &gt;= 3.3, this is changed: the iso lines remain unchanged, but the labels are printed with a background color by default.</p>
</td></tr>
<tr><td><code id="tm_iso_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>).</p>
</td></tr>
<tr><td><code id="tm_iso_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="#topic+tm_lines">tm_lines</a></code> or <code><a href="#topic+tm_text">tm_text</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='tm_layout'>Layout of cartographic maps</h2><span id='topic+tm_layout'></span><span id='topic+tm_legend'></span><span id='topic+tm_style'></span><span id='topic+tm_format'></span>

<h3>Description</h3>

<p>This element specifies the map layout. The main function <code>tm_layout</code> controls title, margins, aspect ratio, colors, frame, legend, among many other things. The function <code>tm_legend</code> is a shortcut to access all <code>legend.</code> arguments without this prefix. The other functions are wrappers for two purposes: <code>tm_format</code> specifies position related layout settings such as margins, and <code>tm_style</code> specifies general styling related layout settings such as colors and font. Typically, the former functions are shape dependent, and the latter functions are shape independent. See details for predefined styles and formats. With <code>tmap.style</code>, a default style can be specified. Multiple <code>tm_layout</code> elements (or wrapper functions) can be stacked: called arguments will be overwritten.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_layout(
  title,
  scale,
  title.size,
  bg.color,
  aes.color,
  aes.palette,
  attr.color,
  sepia.intensity,
  saturation,
  frame,
  frame.lwd,
  frame.double.line,
  asp,
  outer.margins,
  inner.margins,
  between.margin,
  outer.bg.color,
  fontface,
  fontfamily,
  compass.type,
  earth.boundary,
  earth.boundary.color,
  earth.boundary.lwd,
  earth.datum,
  space.color,
  legend.show,
  legend.only,
  legend.outside,
  legend.outside.position,
  legend.outside.size,
  legend.position,
  legend.stack,
  legend.just,
  legend.width,
  legend.height,
  legend.hist.height,
  legend.hist.width,
  legend.title.color,
  legend.title.size,
  legend.title.fontface,
  legend.title.fontfamily,
  legend.text.color,
  legend.text.size,
  legend.text.fontface,
  legend.text.fontfamily,
  legend.hist.size,
  legend.format,
  legend.frame,
  legend.frame.lwd,
  legend.bg.color,
  legend.bg.alpha,
  legend.hist.bg.color,
  legend.hist.bg.alpha,
  title.snap.to.legend,
  title.position,
  title.color,
  title.fontface,
  title.fontfamily,
  title.bg.color,
  title.bg.alpha,
  panel.show,
  panel.labels,
  panel.label.size,
  panel.label.color,
  panel.label.fontface,
  panel.label.fontfamily,
  panel.label.bg.color,
  panel.label.height,
  panel.label.rot,
  main.title,
  main.title.size,
  main.title.color,
  main.title.fontface,
  main.title.fontfamily,
  main.title.position,
  attr.outside,
  attr.outside.position,
  attr.outside.size,
  attr.position,
  attr.just,
  design.mode
)

tm_legend(...)

tm_style(style, ...)

tm_format(format, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_layout_+3A_title">title</code></td>
<td>
<p>Global title of the map. For small multiples, multiple titles can be specified. The title is drawn inside the map. Alternatively, use <code>panel.labels</code> to print the map as a panel, with the title inside the panel header (especially useful for small multiples). Another alternative is the <code>main.title</code> which prints a title above the map. Titles for the legend items are specified at the layer functions (e.g. <code><a href="#topic+tm_fill">tm_fill</a></code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_scale">scale</code></td>
<td>
<p>numeric value that serves as the global scale parameter. All font sizes, symbol sizes, border widths, and line widths are controlled by this value. Each of these elements can be scaled independently with the <code>scale</code>, <code>lwd</code>, or <code>size</code> arguments provided by the <code><a href="#topic+tmap-element">tmap-element</a>s</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.size">title.size</code></td>
<td>
<p>Relative size of the title</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_bg.color">bg.color</code></td>
<td>
<p>Background color. By default it is <code>"white"</code>. A recommended alternative for choropleths is light grey (e.g., <code>"grey85"</code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_aes.color">aes.color</code></td>
<td>
<p>Default color values for the aesthetics layers. Should be a named vector with the names chosen from: <code>fill</code>, <code>borders</code>, <code>symbols</code>, <code>dots</code>, <code>lines</code>, <code>text</code>, <code>na</code>. Use <code>"#00000000"</code> for transparency.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_aes.palette">aes.palette</code></td>
<td>
<p>Default color palettes for the aesthetics. It takes a list of three items: <code>seq</code> for sequential palettes, <code>div</code> for diverging palettes, and <code>cat</code> for categorical palettes. By default, Color Brewer palettes (see <code>tmaptools::palette_explorer()</code>) are used. It is also possible provide a vector of colors for any of these items.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_attr.color">attr.color</code></td>
<td>
<p>Default color value for map attributes</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_sepia.intensity">sepia.intensity</code></td>
<td>
<p>Number between 0 and 1 that defines the amount of sepia effect, which gives the map a brown/yellowish flavour. By default this effect is disabled (<code>sepia.intensity=0</code>). All colored used in the map are adjusted with this effect.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_saturation">saturation</code></td>
<td>
<p>Number that determines how much saturation (also known as chroma) is used: <code>saturation=0</code> is greyscale and <code>saturation=1</code> is normal. A number larger than 1 results in very saturated maps. All colored used in the map are adjusted with this effect. Hacking tip: use a negative number.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_frame">frame</code></td>
<td>
<p>Either a boolean that determines whether a frame is drawn, or a color value that specifies the color of the frame.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_frame.lwd">frame.lwd</code></td>
<td>
<p>width of the frame</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_frame.double.line">frame.double.line</code></td>
<td>
<p>draw a double frame line border?</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_asp">asp</code></td>
<td>
<p>Aspect ratio. The aspect ratio of the map (width/height). If <code>NA</code>, it is determined by the bounding box (see argument <code>bbox</code> of <code><a href="#topic+tm_shape">tm_shape</a></code>), the <code>outer.margins</code>, and the <code>inner.margins</code>. If <code>0</code>, then the aspect ratio is adjusted to the aspect ratio of the device.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_outer.margins">outer.margins</code></td>
<td>
<p>Relative margins between device and frame. Vector of four values specifying the bottom, left, top, and right margin. Values are between 0 and 1. When facets are created, the outer margins are the margins between the outer panels and the device borders (see also <code>between.margin</code>)</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_inner.margins">inner.margins</code></td>
<td>
<p>Relative margins inside the frame. Vector of four values specifying the bottom, left, top, and right margin. Values are between 0 and 1. By default, 0 for each side if master shape is a raster, otherwise 0.02.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_between.margin">between.margin</code></td>
<td>
<p>Margin between facets (small multiples) in number of text line heights. The height of a text line is automatically scaled down based on the number of facets.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_outer.bg.color">outer.bg.color</code></td>
<td>
<p>Background color outside the frame.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_fontface">fontface</code></td>
<td>
<p>global font face for the text in the map. It can also be set locally per element (see e.g. <code>title.fontface</code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_fontfamily">fontfamily</code></td>
<td>
<p>global font family for the text in the map. It can also be set locally per  (see e.g. <code>title.fontfamily</code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_compass.type">compass.type</code></td>
<td>
<p>type of compass, one of: <code>"arrow"</code>, <code>"4star"</code>, <code>"8star"</code>, <code>"radar"</code>, <code>"rose"</code>. Of course, only applicable if a compass is shown. The compass type can also be set within <code><a href="#topic+tm_compass">tm_compass</a></code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_earth.boundary">earth.boundary</code></td>
<td>
<p>Logical that determines whether the boundaries of the earth are shown or a bounding box that specifies the boundaries (an <code><a href="sf.html#topic+sf">sf</a></code> bbox object, see <code><a href="sf.html#topic+st_bbox">st_bbox</a></code>, or any object that can be read by <code><a href="tmaptools.html#topic+bb">bb</a></code>). By default, the boundaries are <code>c(-180, -90, 180, 90)</code>. Useful for projected world maps. Often, it is useful to crop both poles (e.g., with <code>c(-180, -88, 180, 88)</code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_earth.boundary.color">earth.boundary.color</code></td>
<td>
<p>Color of the earth boundary.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_earth.boundary.lwd">earth.boundary.lwd</code></td>
<td>
<p>Line width of the earth boundary.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_earth.datum">earth.datum</code></td>
<td>
<p>Geodetic datum to determine the earth boundary. By default epsg <code>4326</code> (long/lat).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_space.color">space.color</code></td>
<td>
<p>Color of the space, i.e. the region inside the frame, and outside the earth boundary.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.show">legend.show</code></td>
<td>
<p>Logical that determines whether the legend is shown.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.only">legend.only</code></td>
<td>
<p>logical. Only draw the legend (without map)? Particularly useful for small multiples with a common legend.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.outside">legend.outside</code></td>
<td>
<p>Logical that determines whether the legend is plot outside of the map/facets. Especially useful when using facets that have a common legend (i.e. with <code>free.scales=FALSE</code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.outside.position">legend.outside.position</code></td>
<td>
<p>Character that determines the outside position of the legend. Only applicable when <code>legend.outside=TRUE</code>. One of: <code>"right"</code>, <code>"left"</code>, <code>"top"</code>, or <code>"bottom"</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.outside.size">legend.outside.size</code></td>
<td>
<p>Numeric value that determines the relative size of the legend, when <code>legend.outside=TRUE</code>. If the first value of <code>legend.outside.position</code> is <code>"top"</code> or <code>"bottom"</code>, then it is the width of the legend, else it is the height of the legend. Note that the actual height or width of the legend is determined by the content of the legend (and the used font sizes). This argument specifies the upperbound of the width or height.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.position">legend.position</code></td>
<td>
<p>Position of the legend. Vector of two values, specifying the x and y coordinates. Either this vector contains <code>"left"</code>, <code>"LEFT"</code>, <code>"center"</code>, <code>"right"</code>, or <code>"RIGHT"</code> for the first value and <code>"top"</code>, <code>"TOP"</code>, <code>"center"</code>, <code>"bottom"</code>, or <code>"BOTTOM"</code> for the second value, or this vector contains two numeric values between 0 and 1 that specifies the x and y coordinates of the left bottom corner of the legend. The uppercase values correspond to the position without margins (so tighter to the frame). By default, it is automatically placed in the corner with most space based on the (first) shape object. If <code>legend.outside=TRUE</code>, this argument specifies the legend position within the outside panel.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.stack">legend.stack</code></td>
<td>
<p>Value that determines how different legends are stacked: <code>"vertical"</code> or <code>"horizontal"</code>. To stack items within a same legend, look at <code>"legend.is.portrait"</code> in the specific layer calls.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.just">legend.just</code></td>
<td>
<p>Justification of the legend relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left/bottom alignment and 1 right/top alignment. This option is only used, if <code>legend.position</code> is specified by numeric coordinates.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.width">legend.width</code></td>
<td>
<p>width of the legend. This number is relative to the map area (so 1 means the whole map width). If it is a negative number, it will be the exact legend width. If it is a positive number (by default), it will be the maximum legend width; the actual legend width will be decreased automatically based on the legend content and font sizes.or Default color value for map attributes</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.height">legend.height</code></td>
<td>
<p>height of the legend. If it is a negative number, it will be the exact legend height. If it is a positive number (by default), it will be the maximum legend height; the actual legend height will be decreased automatically based on the legend content and font sizes.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.hist.height">legend.hist.height</code></td>
<td>
<p>height of the histogram. This height is initial. If the total legend is downscaled to <code>legend.height</code>, the histogram is downscaled as well.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.hist.width">legend.hist.width</code></td>
<td>
<p>width of the histogram. By default, it is equal to the <code>legend.width</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.title.color">legend.title.color</code></td>
<td>
<p>color of the legend titles</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.title.size">legend.title.size</code></td>
<td>
<p>Relative font size for the legend title</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.title.fontface">legend.title.fontface</code></td>
<td>
<p>font face for the legend title. By default, set to the global parameter <code>fontface</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.title.fontfamily">legend.title.fontfamily</code></td>
<td>
<p>font family for the legend title. By default, set to the global parameter <code>fontfamily</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.text.color">legend.text.color</code></td>
<td>
<p>color of the legend text</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.text.size">legend.text.size</code></td>
<td>
<p>Relative font size for the legend text elements</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.text.fontface">legend.text.fontface</code></td>
<td>
<p>font face for the legend text labels. By default, set to the global parameter <code>fontface</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.text.fontfamily">legend.text.fontfamily</code></td>
<td>
<p>font family for the legend text labels. By default, set to the global parameter <code>fontfamily</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.hist.size">legend.hist.size</code></td>
<td>
<p>Relative font size for the choropleth histogram</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.format">legend.format</code></td>
<td>
<p>list of formatting options for the legend numbers. Only applicable for layer functions (such as <code><a href="#topic+tm_fill">tm_fill</a></code>) where <code>labels</code> is undefined. Parameters are:
</p>

<dl>
<dt>fun</dt><dd><p>Function to specify the labels. It should take a numeric vector, and should return a character vector of the same size. By default it is not specified. If specified, the list items <code>scientific</code>, <code>format</code>, and <code>digits</code> (see below) are not used.</p>
</dd>
<dt>scientific</dt><dd><p>Should the labels be formatted scientifically? If so, square brackets are used, and the <code>format</code> of the numbers is <code>"g"</code>. Otherwise, <code>format="f"</code>, and <code>text.separator</code>, <code>text.less.than</code>, <code>text.or.more</code>, and <code>big.num.abbr</code> are used. Also, the numbers are automatically  rounded to millions or billions if applicable.</p>
</dd>
<dt>format</dt><dd><p>By default, <code>"f"</code>, i.e. the standard notation <code>xxx.xxx</code>, is used. If <code>scientific=TRUE</code> then <code>"g"</code>, which means that numbers are formatted scientifically, i.e. <code>n.dddE+nn</code> if needed to save space.</p>
</dd>
<dt>digits</dt><dd><p>Number of digits after the decimal point if <code>format="f"</code>, and the number of significant digits otherwise.</p>
</dd>
<dt>big.num.abbr</dt><dd><p>Vector that defines whether and which abbrevations are used for large numbers. It is a named numeric vector, where the name indicated the abbreviation, and the number the magnitude (in terms on numbers of zero). Numbers are only abbrevation when they are large enough. Set it to <code>NA</code> to disable abbrevations.  The default is <code>c("mln" = 6, "bln" = 9)</code>. For layers where <code>style</code> is set to <code>log10</code> or <code>log10_pretty</code>, the default is <code>NA</code>.</p>
</dd>
<dt>text.separator</dt><dd><p>Character string to use to separate numbers in the legend (default: &quot;to&quot;).</p>
</dd>
<dt>text.less.than</dt><dd><p>Character value(s) to use to translate &quot;Less than&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.or.more</dt><dd><p>Character value(s) to use to translate &quot;or more&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.align</dt><dd><p>Value that determines how the numbers are aligned, <code>"left"</code>, <code>"center"</code> or <code>"right"</code></p>
</dd></dl>
<p>. By default <code>"left"</code> for legends in portrait format (<code>legend.is.protrait = TRUE</code>), and <code>"center"</code> otherwise.
</p>
<dl>
<dt>text.to.columns</dt><dd><p>Logical that determines whether the text is aligned to three columns (from, text.separator, to). By default <code>FALSE</code>.</p>
</dd>
<dt>text.align</dt><dd><p>Value that determines how the numbers are aligned, <code>"left"</code>, <code>"center"</code> or <code>"right"</code></p>
</dd></dl>
<p>. By default <code>"left"</code> for legends in portrait format (<code>legend.is.protrait = TRUE</code>), and <code>"center"</code> otherwise.
</p>
<dl>
<dt>text.to.columns</dt><dd><p>Logical that determines whether the text is aligned to three columns (from, text.separator, to). By default <code>FALSE</code>.</p>
</dd>
<dt>html.escape</dt><dd><p>Logical that determins whther HTML code is escaped in the popups in view mode. By default <code>TRUE</code>. If set to <code>FALSE</code> HTML code can be added, e.g. to added white space via <code>&amp;nbsp;</code>.</p>
</dd>
<dt>...</dt><dd><p>Other arguments passed on to <code><a href="base.html#topic+formatC">formatC</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.frame">legend.frame</code></td>
<td>
<p>either a logical that determines whether the legend is placed inside a frame, or a color that directly specifies the frame border color.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.frame.lwd">legend.frame.lwd</code></td>
<td>
<p>line width of the legend frame (applicable if <code>legend.frame</code> is <code>TRUE</code> or a color)</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.bg.color">legend.bg.color</code></td>
<td>
<p>Background color of the legend. Use <code>TRUE</code> to match with the overall background color <code>bg.color</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.bg.alpha">legend.bg.alpha</code></td>
<td>
<p>Transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>legend.bg.color</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.hist.bg.color">legend.hist.bg.color</code></td>
<td>
<p>Background color of the histogram</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_legend.hist.bg.alpha">legend.hist.bg.alpha</code></td>
<td>
<p>Transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>legend.hist.bg.color</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.snap.to.legend">title.snap.to.legend</code></td>
<td>
<p>Logical that determines whether the title is part of the legend. By default <code>FALSE</code>, unless the legend is drawn outside the map (see <code>legend.outside</code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.position">title.position</code></td>
<td>
<p>Position of the title. Vector of two values, specifying the x and y coordinates. Either this vector contains &quot;left&quot;, &quot;LEFT&quot;, &quot;center&quot;, &quot;right&quot;, or &quot;RIGHT&quot; for the first value and &quot;top&quot;, &quot;TOP&quot;, &quot;center&quot;, &quot;bottom&quot;, or &quot;BOTTOM&quot; for the second value, or this vector contains two numeric values between 0 and 1 that specifies the x and y coordinates of the tile. The uppercase values correspond to the position without margins (so tighter to the frame). 
By default the title is placed on top of the legend (determined by <code>legend.position</code>).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.color">title.color</code></td>
<td>
<p>color of the title</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.fontface">title.fontface</code></td>
<td>
<p>font face for the title. By default, set to the global parameter <code>fontface</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.fontfamily">title.fontfamily</code></td>
<td>
<p>font family for the title. By default, set to the global parameter <code>fontfamily</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.bg.color">title.bg.color</code></td>
<td>
<p>background color of the title. Use <code>TRUE</code> to match with the overall background color <code>bg.color</code>. By default, it is <code>TRUE</code> if <code>legend.frame</code> is <code>TRUE</code> or a color.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_title.bg.alpha">title.bg.alpha</code></td>
<td>
<p>Transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>title.bg.color</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.show">panel.show</code></td>
<td>
<p>Logical that determines if the map(s) are shown as panels. If <code>TRUE</code>, the title will be placed in the panel header instead of inside the map. By default, it is <code>TRUE</code> when small multiples are created with the <code>by</code> variable. (See <code><a href="#topic+tm_facets">tm_facets</a></code>)</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.labels">panel.labels</code></td>
<td>
<p>Panel labels. Only applicable when <code>panel.show</code> is <code>TRUE</code>. For cross tables facets, it should be a list containing the row names in the first, and column names in the second item.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.label.size">panel.label.size</code></td>
<td>
<p>Relative font size of the panel labels</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.label.color">panel.label.color</code></td>
<td>
<p>Font color of the panel labels</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.label.fontface">panel.label.fontface</code></td>
<td>
<p>font face for the panel labels. By default, set to the global parameter <code>fontface</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.label.fontfamily">panel.label.fontfamily</code></td>
<td>
<p>font family for the panel labels. By default, set to the global parameter <code>fontfamily</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.label.bg.color">panel.label.bg.color</code></td>
<td>
<p>Background color of the panel labels</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.label.height">panel.label.height</code></td>
<td>
<p>Height of the labels in number of text line heights.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_panel.label.rot">panel.label.rot</code></td>
<td>
<p>Rotation angles of the panel labels. Vector of two values: the first is the rotation angle (in degrees) of the row panels, which are only used in cross-table facets (when <code><a href="#topic+tm_facets">tm_facets</a></code>'s <code>by</code> is specified with two variables). The second is the rotation angle of the column panels.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_main.title">main.title</code></td>
<td>
<p>Title that is printed above the map (or small multiples). When multiple pages are generated (see <code>along</code> argument of <code><a href="#topic+tm_facets">tm_facets</a></code>), a vector can be provided. By default, the main title is only printed when this <code>along</code> argument is specified.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_main.title.size">main.title.size</code></td>
<td>
<p>Size of the main title</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_main.title.color">main.title.color</code></td>
<td>
<p>Color of the main title</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_main.title.fontface">main.title.fontface</code></td>
<td>
<p>font face for the main title. By default, set to the global parameter <code>fontface</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_main.title.fontfamily">main.title.fontfamily</code></td>
<td>
<p>font family for the main title. By default, set to the global parameter <code>fontfamily</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_main.title.position">main.title.position</code></td>
<td>
<p>Position of the main title. Either a numeric value between 0 (left) and 1 (right), or a character value: <code>"left"</code>, <code>"center"</code>, or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_attr.outside">attr.outside</code></td>
<td>
<p>Logical that determines whether the attributes are plot outside of the map/facets.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_attr.outside.position">attr.outside.position</code></td>
<td>
<p>Character that determines the outside position of the attributes: <code>"top"</code> or <code>"bottom"</code>. Only applicable when <code>attr.outside=TRUE</code>. If the legend is also drawn outside (with <code>legend.outside=TRUE</code>) and on the same side of the map (e.g. also <code>"top"</code> or <code>"bottom"</code>), the attributes are placed between the map and the legend. This can be changed by setting <code>attr.outside.position</code> to <code>"TOP"</code> or <code>"BOTTOM"</code>: in this case, the attributes are placed above respectively below the legend.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_attr.outside.size">attr.outside.size</code></td>
<td>
<p>Numeric value that determines the relative height of the attribute viewport, when <code>attr.outside=TRUE</code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_attr.position">attr.position</code></td>
<td>
<p>Position of the map attributes, which are <code><a href="#topic+tm_credits">tm_credits</a></code>, <code><a href="#topic+tm_scale_bar">tm_scale_bar</a></code>, <code><a href="#topic+tm_compass">tm_compass</a></code>, and <code><a href="#topic+tm_minimap">tm_minimap</a></code>. Vector of two values, specifying the x and y coordinates. The first value is <code>"left"</code>, <code>"LEFT"</code>, <code>"center"</code>, <code>"right"</code>, or <code>"RIGHT"</code>, and the second value <code>"top"</code>, <code>"TOP"</code>, <code>"center"</code>, <code>"bottom"</code>, or <code>"BOTTOM"</code>. The uppercase values correspond to the position without margins (so tighter to the frame). Positions can also be set separately in the map attribute functions. If <code>attr.outside=TRUE</code>, this argument specifies the position of the attributes within the outside panel.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_attr.just">attr.just</code></td>
<td>
<p>Justification of the attributes relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left/bottom alignment and 1 right/top alignment. This option is only used, if <code>attr.position</code> is specified by numeric coordinates. It can also be specified per attribute function.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_design.mode">design.mode</code></td>
<td>
<p>Not used anymore, since it is now only a tmap option: see <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_...">...</code></td>
<td>
<p>other arguments from <code>tm_layout</code></p>
</td></tr>
<tr><td><code id="tm_layout_+3A_style">style</code></td>
<td>
<p>name of the style</p>
</td></tr>
<tr><td><code id="tm_layout_+3A_format">format</code></td>
<td>
<p>name of the format</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predefined styles:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>"white"</code></td><td style="text-align: left;"> White background, commonly used colors (default) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"gray"</code>/<code>"grey"</code></td><td style="text-align: left;"> Grey background, useful to highlight sequential palettes (e.g. in choropleths) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"natural"</code></td><td style="text-align: left;"> Emulation of natural view: blue waters and green land </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"bw"</code></td><td style="text-align: left;"> Greyscale, obviously useful for greyscale printing </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"classic"</code></td><td style="text-align: left;"> Classic styled maps (recommended) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"cobalt"</code></td><td style="text-align: left;"> Inspired by latex beamer style cobalt </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"albatross"</code></td><td style="text-align: left;"> Inspired by latex beamer style albatross </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"beaver"</code></td><td style="text-align: left;"> Inspired by latex beamer style beaver </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Predefined formats
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>"World"</code></td><td style="text-align: left;"> Format specified for world maps </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"World_wide"</code></td><td style="text-align: left;"> Format specified for world maps with more space for the legend </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"NLD"</code></td><td style="text-align: left;"> Format specified for maps of the Netherlands </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"NLD_wide"</code></td><td style="text-align: left;"> Format specified for maps of the Netherlands with more space for the legend </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World, land)

tm_shape(World) + 
    tm_fill("pop_est_dens", style="kmeans", title="Population density") +
tm_style("albatross", frame.lwd=10) + tm_format("World", title="The World")

## Not run: 
tm_shape(land) +
	tm_raster("elevation", breaks=c(-Inf, 250, 500, 1000, 1500, 2000, 2500, 3000, 4000, Inf),  
		palette = terrain.colors(9), title="Elevation", midpoint = NA) +
tm_shape(World, is.master=TRUE, projection = "+proj=eck4") +
	tm_borders("grey20") +
	tm_graticules(labels.size = .5) +
	tm_text("name", size="AREA") +
tm_compass(position = c(.65, .15), color.light = "grey90") +
tm_credits("Eckert IV projection", position = c("right", "BOTTOM")) +
tm_style("classic") +
tm_layout(bg.color="lightblue",
	inner.margins=c(.04,.03, .02, .01), 
	earth.boundary = TRUE, 
	space.color="grey90") +
tm_legend(position = c("left", "bottom"), 
	frame = TRUE,
	bg.color="lightblue")

## End(Not run)
	
tm_shape(World, projection="+proj=robin") +
	tm_polygons("HPI", palette="div", n=7, 
			title = "Happy Planet Index") +
tm_credits("Robinson projection", position = c("right", "BOTTOM")) +
tm_style("natural", earth.boundary = c(-180, -87, 180, 87), inner.margins = .05) +
tm_legend(position=c("left", "bottom"), bg.color="grey95", frame=TRUE)

# Example to illustrate the type of titles
tm_shape(World) +
	tm_polygons(c("income_grp", "economy"), title = c("Legend Title 1", "Legend Title 2")) +
	tm_layout(main.title = "Main Title",
		main.title.position = "center",
		main.title.color = "blue",
		title = c("Title 1", "Title 2"),
		title.color = "red",
		panel.labels = c("Panel Label 1", "Panel Label 2"),
		panel.label.color = "purple",
		legend.text.color = "brown")

## Not run: 
# global option tmap.style demo
	
# get current style
current.style &lt;- tmap_style() 
	
qtm(World, fill = "economy", format = "World")

tmap_style("col_blind")
qtm(World, fill = "economy", format = "World")

tmap_style("cobalt")
qtm(World, fill = "economy", format = "World")

# set to current style
tmap_style(current.style)

## End(Not run)

# TIP: check out these examples in view mode, enabled with tmap_mode("view")
</code></pre>

<hr>
<h2 id='tm_lines'>Draw spatial lines</h2><span id='topic+tm_lines'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that draw spatial lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_lines(
  col = NA,
  lwd = 1,
  lty = "solid",
  alpha = NA,
  scale = 1,
  lwd.legend = NULL,
  lwd.legend.labels = NULL,
  lwd.legend.col = NA,
  n = 5,
  style = ifelse(is.null(breaks), "pretty", "fixed"),
  style.args = list(),
  as.count = NA,
  breaks = NULL,
  interval.closure = "left",
  palette = NULL,
  labels = NULL,
  drop.levels = FALSE,
  midpoint = NULL,
  stretch.palette = TRUE,
  contrast = NA,
  colorNA = NA,
  textNA = "Missing",
  showNA = NA,
  colorNULL = NA,
  title.col = NA,
  title.lwd = NA,
  legend.col.show = TRUE,
  legend.lwd.show = TRUE,
  legend.format = list(),
  legend.col.is.portrait = TRUE,
  legend.lwd.is.portrait = FALSE,
  legend.col.reverse = FALSE,
  legend.lwd.reverse = FALSE,
  legend.hist = FALSE,
  legend.hist.title = NA,
  legend.col.z = NA,
  legend.lwd.z = NA,
  legend.hist.z = NA,
  id = NA,
  interactive = TRUE,
  popup.vars = NA,
  popup.format = list(),
  zindex = NA,
  group = NA,
  auto.palette.mapping = NULL,
  max.categories = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_lines_+3A_col">col</code></td>
<td>
<p>color of the lines. Either a color value or a data variable name. If multiple values are specified, small multiples are drawn (see details).</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_lwd">lwd</code></td>
<td>
<p>line width. Either a numeric value or a data variable. In the latter case, the class of the highest values (see <code>style</code>) will get the line width defined by <code>scale</code>. If multiple values are specified, small multiples are drawn (see details).</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_lty">lty</code></td>
<td>
<p>line type.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_alpha">alpha</code></td>
<td>
<p>transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>col</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_scale">scale</code></td>
<td>
<p>line width multiplier number.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_lwd.legend">lwd.legend</code></td>
<td>
<p>vector of line widths that are shown in the legend. By default, this is determined automatically.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_lwd.legend.labels">lwd.legend.labels</code></td>
<td>
<p>vector of labels for that correspond to <code>lwd.legend</code>.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_lwd.legend.col">lwd.legend.col</code></td>
<td>
<p>color of lines that are shown in the legend for the lwd aesthetic. By default, the middle color of the <code>palette</code> is taken.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_n">n</code></td>
<td>
<p>preferred number of color scale classes. Only applicable when <code>lwd</code> is the name of a numeric variable.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_style">style</code></td>
<td>
<p>method to process the color scale when <code>col</code> is a numeric variable. Discrete gradient options are <code>"cat"</code>, <code>"fixed"</code>, <code>"sd"</code>, <code>"equal"</code>, <code>"pretty"</code>, <code>"quantile"</code>, <code>"kmeans"</code>, <code>"hclust"</code>, <code>"bclust"</code>, <code>"fisher"</code>, <code>"jenks"</code>, <code>"dpih"</code>, <code>"headtails"</code>, and <code>"log10_pretty"</code>. A numeric variable is processed as a categorical variable when using <code>"cat"</code>, i.e. each unique value will correspond to a distinct category. For the other discrete gradient options (except <code>"log10_pretty"</code>), see the details in <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> (extra arguments can be passed on via <code>style.args</code>). Continuous gradient options are <code>"cont"</code>, <code>"order"</code>, and <code>"log10"</code>. The first maps the values of <code>col</code> to a smooth gradient, the second maps the order of values of <code>col</code> to a smooth gradient, and the third uses a logarithmic transformation. The numeric variable can be either regarded as a continuous variable or a count (integer) variable. See <code>as.count</code>.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_style.args">style.args</code></td>
<td>
<p>arguments passed on to <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>, the function that determine color classes (see also <code>style</code>).</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_as.count">as.count</code></td>
<td>
<p>when <code>col</code> is a numeric variable, should it be processed as a count variable? For instance, if <code>style = "pretty"</code>, <code>n = 2</code>, and the value range of the variable is 0 to 10, then the column classes for <code>as.count = TRUE</code> are 0; 1 to 5; 6 to 10 (note that 0 is regarded as an own category) whereas for <code>as.count = FALSE</code> they are 0 to 5; 5 to 10. Only applicable if <code>style</code> is <code>"pretty"</code>, <code>"fixed"</code>, or <code>"log10_pretty"</code>. By default, <code>TRUE</code> if <code>style</code> is one of these, and the variable is an integer.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_breaks">breaks</code></td>
<td>
<p>in case <code>style=="fixed"</code>, breaks should be specified. The <code>breaks</code> argument can also be used when <code>style="cont"</code>. In that case, the breaks are mapped evenly to the sequential or diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_interval.closure">interval.closure</code></td>
<td>
<p>value that determines whether where the intervals are closed: <code>"left"</code> or <code>"right"</code>. Only applicable if <code>col</code> is a numeric variable. If <code>as.count = TRUE</code>, <code>inverval.closure</code> is always set to <code>"left"</code>.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_palette">palette</code></td>
<td>
<p>a palette name or a vector of colors. See <code>tmaptools::palette_explorer()</code> for the named palettes. Use a <code>"-"</code> as prefix to reverse the palette. The default palette is taken from <code><a href="#topic+tm_layout">tm_layout</a></code>'s argument <code>aes.palette</code>, which typically depends on the style. The type of palette from <code>aes.palette</code> is automatically determined, but can be overwritten: use <code>"seq"</code> for sequential, <code>"div"</code> for diverging, and <code>"cat"</code> for categorical.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_labels">labels</code></td>
<td>
<p>labels of the classes</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_drop.levels">drop.levels</code></td>
<td>
<p>should unused classes be omitted? <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_midpoint">midpoint</code></td>
<td>
<p>The value mapped to the middle color of a diverging palette. By default it is set to 0 if negative and positive values are present. In that case, the two sides of the color palette are assigned to negative respectively positive values. If all values are positive or all values are negative, then the midpoint is set to <code>NA</code>, which means that the value that corresponds to the middle color class (see <code>style</code>) is mapped to the middle color. Only applies when <code>col</code> is a numeric variable. If it is specified for sequential color palettes (e.g. <code>"Blues"</code>), then this color palette will be treated as a diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_stretch.palette">stretch.palette</code></td>
<td>
<p>Logical that determines whether the categorical color palette should be stretched if there are more categories than colors. If <code>TRUE</code> (default), interpolated colors are used (like a rainbow). If <code>FALSE</code>, the palette is repeated.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_contrast">contrast</code></td>
<td>
<p>vector of two numbers that determine the range that is used for sequential and diverging palettes (applicable when <code>auto.palette.mapping=TRUE</code>). Both numbers should be between 0 and 1. The first number determines where the palette begins, and the second number where it ends. For sequential palettes, 0 means the brightest color, and 1 the darkest color. For diverging palettes, 0 means the middle color, and 1 both extremes. If only one number is provided, this number is interpreted as the endpoint (with 0 taken as the start).</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_colorna">colorNA</code></td>
<td>
<p>color used for missing values. Use <code>NULL</code> for transparency.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_textna">textNA</code></td>
<td>
<p>text used for missing values.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_showna">showNA</code></td>
<td>
<p>logical that determines whether missing values are named in the legend. By default (<code>NA</code>), this depends on the presence of missing values.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_colornull">colorNULL</code></td>
<td>
<p>colour for polygons that are shown on the map that are out of scope</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_title.col">title.col</code></td>
<td>
<p>title of the legend element regarding the line colors</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_title.lwd">title.lwd</code></td>
<td>
<p>title of the legend element regarding the line widths</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.col.show">legend.col.show</code></td>
<td>
<p>logical that determines whether the legend for the line colors is shown</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.lwd.show">legend.lwd.show</code></td>
<td>
<p>logical that determines whether the legend for the line widths is shown</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.format">legend.format</code></td>
<td>
<p>list of formatting options for the legend numbers. Only applicable if <code>labels</code> is undefined. Parameters are:
</p>

<dl>
<dt>fun</dt><dd><p>Function to specify the labels. It should take a numeric vector, and should return a character vector of the same size. By default it is not specified. If specified, the list items <code>scientific</code>, <code>format</code>, and <code>digits</code> (see below) are not used.</p>
</dd>
<dt>scientific</dt><dd><p>Should the labels be formatted scientifically? If so, square brackets are used, and the <code>format</code> of the numbers is <code>"g"</code>. Otherwise, <code>format="f"</code>, and <code>text.separator</code>, <code>text.less.than</code>, and <code>text.or.more</code> are used. Also, the numbers are automatically  rounded to millions or billions if applicable.</p>
</dd>
<dt>format</dt><dd><p>By default, <code>"f"</code>, i.e. the standard notation <code>xxx.xxx</code>, is used. If <code>scientific=TRUE</code> then <code>"g"</code>, which means that numbers are formatted scientifically, i.e. <code>n.dddE+nn</code> if needed to save space.</p>
</dd>
<dt>digits</dt><dd><p>Number of digits after the decimal point if <code>format="f"</code>, and the number of significant digits otherwise.</p>
</dd>
<dt>big.num.abbr</dt><dd><p>Vector that defines whether and which abbrevations are used for large numbers. It is a named numeric vector, where the name indicated the abbreviation, and the number the magnitude (in terms on numbers of zero). Numbers are only abbrevation when they are large enough. Set it to <code>NA</code> to disable abbrevations.  The default is <code>c("mln" = 6, "bln" = 9)</code>. For layers where <code>style</code> is set to <code>log10</code> or <code>log10_pretty</code>, the default is <code>NA</code>.</p>
</dd>
<dt>prefix</dt><dd><p>Prefix of each number</p>
</dd>
<dt>suffix</dt><dd><p>Suffix of each number</p>
</dd>
<dt>text.separator</dt><dd><p>Character string to use to separate numbers in the legend (default: &quot;to&quot;).</p>
</dd>
<dt>text.less.than</dt><dd><p>Character value(s) to use to translate &quot;Less than&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.or.more</dt><dd><p>Character value(s) to use to translate &quot;or more&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.align</dt><dd><p>Value that determines how the numbers are aligned, <code>"left"</code>, <code>"center"</code> or <code>"right"</code>. By default <code>"left"</code> for legends in portrait format (<code>legend.is.protrait = TRUE</code>), and <code>"center"</code> otherwise.</p>
</dd>
<dt>text.to.columns</dt><dd><p>Logical that determines whether the text is aligned to three columns (from, text.separator, to). By default <code>FALSE</code>.</p>
</dd>
<dt>html.escape</dt><dd><p>Logical that determins whther HTML code is escaped in the popups in view mode. By default <code>TRUE</code>. If set to <code>FALSE</code> HTML code can be added, e.g. to added white space via <code>&amp;nbsp;</code>.</p>
</dd>
<dt>...</dt><dd><p>Other arguments passed on to <code><a href="base.html#topic+formatC">formatC</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.col.is.portrait">legend.col.is.portrait</code></td>
<td>
<p>logical that determines whether the legend element regarding the line colors is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.lwd.is.portrait">legend.lwd.is.portrait</code></td>
<td>
<p>logical that determines whether the legend element regarding the line widths is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.col.reverse">legend.col.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the line colors sizes are shown in reverse order, i.e. from bottom to top when <code>legend.col.is.portrait = TRUE</code> and from right to left when <code>legend.col.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.lwd.reverse">legend.lwd.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the line widths are shown in reverse order, i.e. from bottom to top when <code>legend.lwd.is.portrait = TRUE</code> and from right to left when <code>legend.lwd.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.hist">legend.hist</code></td>
<td>
<p>logical that determines whether a histogram is shown regarding the line colors</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.hist.title">legend.hist.title</code></td>
<td>
<p>title for the histogram. By default, one title is used for both the histogram and the normal legend for line colors.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.col.z">legend.col.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the line colors with respect to other legend elements. The legend elements are stacked according to their z values. The legend element with the lowest z value is placed on top.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.lwd.z">legend.lwd.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the line widths. (See <code>legend.col.z</code>)</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_legend.hist.z">legend.hist.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the histogram. (See <code>legend.col.z</code>)</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_id">id</code></td>
<td>
<p>name of the data variable that specifies the indices of the lines. Only used for <code>"view"</code> mode (see <code><a href="#topic+tmap_mode">tmap_mode</a></code>).</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_interactive">interactive</code></td>
<td>
<p>logical that determines whether this layer is interactive in view mode (e.g. hover text, popup, and click event in shiny apps)</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_popup.vars">popup.vars</code></td>
<td>
<p>names of data variables that are shown in the popups in <code>"view"</code> mode. If <code>NA</code> (default), only aesthetic variables (i.e. specified by <code>col</code> and <code>lwd</code>) are shown). If they are not specified, all variables are shown. Set popup.vars to <code>FALSE</code> to disable popups. When a vector of variable names is provided, the names (if specified) are printed in the popups.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_popup.format">popup.format</code></td>
<td>
<p>list of formatting options for the popup values. See the argument <code>legend.format</code> for options. Only applicable for numeric data variables. If one list of formatting options is provided, it is applied to all numeric variables of <code>popup.vars</code>. Also, a (named) list of lists can be provided. In that case, each list of formatting options is applied to the named variable.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode. By default, it is set to the layer number plus 400. By default, the tmap layers will therefore be placed in the custom panes <code>"tmap401"</code>, <code>"tmap402"</code>, etc., except for the base tile layers, which are placed in the standard <code>"tile"</code>. This parameter determines both the name of the pane and the z-index, which determines the pane order from bottom to top. For instance, if <code>zindex</code> is set to 500, the pane will be named <code>"tmap500"</code>.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>).</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_auto.palette.mapping">auto.palette.mapping</code></td>
<td>
<p>deprecated. It has been replaced by <code>midpoint</code> for numeric variables and <code>stretch.palette</code> for categorical variables.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_max.categories">max.categories</code></td>
<td>
<p>deprecated. It has moved to <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
<tr><td><code id="tm_lines_+3A_...">...</code></td>
<td>
<p>these arguments are passed on to <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>, the function that determine color classes (see also <code>style</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Small multiples can be drawn in two ways: either by specifying the <code>by</code> argument in <code><a href="#topic+tm_facets">tm_facets</a></code>, or by defining multiple variables in the aesthetic arguments. The aesthetic arguments of <code>tm_lines</code> are <code>col</code> and <code>lwd</code>. In the latter case, the arguments, except for the ones starting with <code>legend.</code>, can be specified for small multiples as follows. If the argument normally only takes a single value, such as <code>n</code>, then a vector of those values can be specified, one for each small multiple. If the argument normally can take a vector, such as <code>palette</code>, then a list of those vectors (or values) can be specified, one for each small multiple.
</p>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World, rivers)

qtm(rivers)

## Not run: 
tm_shape(World) +
    tm_fill() +
tm_shape(rivers) +
    tm_lines(col="black", lwd="scalerank", scale=2, legend.lwd.show = FALSE) +
tm_style("cobalt", title = "Rivers of the World") +
tm_format("World")

## End(Not run)
</code></pre>

<hr>
<h2 id='tm_logo'>Logo</h2><span id='topic+tm_logo'></span>

<h3>Description</h3>

<p>Creates a map logo. Multiple logos can be specified which are shown next to each other. Logos placed on top of each other can be specified with stacking <code>tm_logo</code> elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_logo(
  file,
  height = 3,
  halign = "center",
  margin = 0.2,
  position = NA,
  just = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_logo_+3A_file">file</code></td>
<td>
<p>either a filename or url of a png image. If multiple files/urls are provided with a character vector, the logos are placed near each other. To specify logos for small multiples use a list of character values/vectors. In order to stack logos vertically, multiple <code>tm_logo</code> elements can be stacked.</p>
</td></tr>
<tr><td><code id="tm_logo_+3A_height">height</code></td>
<td>
<p>height of the logo in number of text line heights. The width is scaled based the height and the aspect ratio of the logo. If multiple logos are specified by a vector or list, the heights can be specified accordingly.</p>
</td></tr>
<tr><td><code id="tm_logo_+3A_halign">halign</code></td>
<td>
<p>if logos in one row have different heights, <code>halign</code> specifies the vertical alignment. Possible values are <code>"top"</code>, <code>"center"</code> and <code>"bottom"</code>.</p>
</td></tr>
<tr><td><code id="tm_logo_+3A_margin">margin</code></td>
<td>
<p>margin around the logo in number of text line heights.</p>
</td></tr>
<tr><td><code id="tm_logo_+3A_position">position</code></td>
<td>
<p>position of the logo. Vector of two values, specifying the x and y coordinates. Either this vector contains &quot;left&quot;, &quot;LEFT&quot;, &quot;center&quot;, &quot;right&quot;, or &quot;RIGHT&quot; for the first value and &quot;top&quot;, &quot;TOP&quot;, &quot;center&quot;, &quot;bottom&quot;, or &quot;BOTTOM&quot; for the second value, or this vector contains two numeric values between 0 and 1 that specifies the x and y value of the center of the text. The uppercase values correspond to the position without margins (so tighter to the frame). The default value is controlled by the argument <code>"attr.position"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_logo_+3A_just">just</code></td>
<td>
<p>Justification of the attribute relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left/bottom alignment and 1 right/top alignment. This option is only used, if <code>position</code> is specified by numeric coordinates. The default value is controlled by the argument <code>"attr.just"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(NLD_muni, NLD_prov)

tm_shape(NLD_muni) +
	tm_polygons("origin_native", border.alpha=0.5, style="cont", title="Native Dutch (%)") +
	tm_logo("http://statline.cbs.nl/Statweb/Images/cbs_logo.png", 
        position=c("left", "bottom"), height = 2) +
	tm_layout(bg.color="gray98")

data(World)

tm_shape(World) +
	tm_polygons("HPI", palette="RdYlGn") +
	tm_logo(c("https://www.r-project.org/logo/Rlogo.png", 
        system.file("img/tmap.png", package="tmap"))) +
	tm_logo("http://blog.kulikulifoods.com/wp-content/uploads/2014/10/logo.png", 
        height=5, position = c("left", "top")) +
	tm_format("World")

## End(Not run)
</code></pre>

<hr>
<h2 id='tm_minimap'>Minimap</h2><span id='topic+tm_minimap'></span>

<h3>Description</h3>

<p>Creates a minimap in view mode. See <code><a href="leaflet.html#topic+addMiniMap">addMiniMap</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_minimap(server = NA, position = c("left", "bottom"), toggle = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_minimap_+3A_server">server</code></td>
<td>
<p>name of the provider or an URL (see <code><a href="#topic+tm_tiles">tm_tiles</a></code>). By default, it shows the same map as the basemap, and moreover, it will automatically change when the user switches basemaps. Note the latter does not happen when <code>server</code> is specified.</p>
</td></tr>
<tr><td><code id="tm_minimap_+3A_position">position</code></td>
<td>
<p>position of the scale bar Vector of two values, specifying the x and y coordinates. The first is either &quot;left&quot; or &quot;right&quot;, the second either &quot;top&quot; or &quot;bottom&quot;.</p>
</td></tr>
<tr><td><code id="tm_minimap_+3A_toggle">toggle</code></td>
<td>
<p>should the minimap have a button to minimise it? By default <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tm_minimap_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="leaflet.html#topic+addMiniMap">addMiniMap</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="leaflet.html#topic+addMiniMap">addMiniMap</a></code>
</p>

<hr>
<h2 id='tm_mouse_coordinates'>Mouse coordinates</h2><span id='topic+tm_mouse_coordinates'></span>

<h3>Description</h3>

<p>Adds mouse coordinates in view mode. See <code><a href="leafem.html#topic+addMouseCoordinates">addMouseCoordinates</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_mouse_coordinates()
</code></pre>


<h3>See Also</h3>

<p><code><a href="leafem.html#topic+addMouseCoordinates">addMouseCoordinates</a></code>
</p>

<hr>
<h2 id='tm_raster'>Draw a raster</h2><span id='topic+tm_raster'></span><span id='topic+tm_rgb'></span><span id='topic+tm_rgba'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that draws a raster. For coloring, there are three options: 1) a fixed color is used, 2) a color palette is mapped to a data variable, 3) RGB values are used. The function <code>tm_raster</code> is designed for options 1 and 2, while <code>tm_rgb</code> is used for option 3.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_raster(
  col = NA,
  alpha = NA,
  palette = NULL,
  n = 5,
  style = ifelse(is.null(breaks), "pretty", "fixed"),
  style.args = list(),
  as.count = NA,
  breaks = NULL,
  interval.closure = "left",
  labels = NULL,
  drop.levels = FALSE,
  midpoint = NULL,
  stretch.palette = TRUE,
  contrast = NA,
  saturation = 1,
  interpolate = NA,
  colorNA = NULL,
  textNA = "Missing",
  showNA = NA,
  colorNULL = NULL,
  title = NA,
  legend.show = TRUE,
  legend.format = list(),
  legend.is.portrait = TRUE,
  legend.reverse = FALSE,
  legend.hist = FALSE,
  legend.hist.title = NA,
  legend.z = NA,
  legend.hist.z = NA,
  zindex = NA,
  group = NA,
  auto.palette.mapping = NULL,
  max.categories = NULL,
  max.value = 255
)

tm_rgb(
  r = 1,
  g = 2,
  b = 3,
  alpha = NA,
  saturation = 1,
  interpolate = TRUE,
  max.value = 255,
  ...
)

tm_rgba(
  r = 1,
  g = 2,
  b = 3,
  a = 4,
  alpha = NA,
  saturation = 1,
  interpolate = TRUE,
  max.value = 255,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_raster_+3A_col">col</code></td>
<td>
<p>three options: the name of a data variable that is contained in <code>shp</code>, the name of a variable in <code>shp</code> that contain color values, a single color value. In the first case the values (numeric or categorical) that will be depicted by a color palette (see <code>palette</code>. If multiple values are specified, small multiples are drawn (see details). By default, it is a vector of the names of all data variables unless the <code>by</code> argument of <code><a href="#topic+tm_facets">tm_facets</a></code> is defined (in that case, the default color of dots is taken from the tmap option <code>aes.color</code>). If the shape (stars object) contains a third dimension, small multiples are created per 3rd dimension value). Note that the number of small multiples is limited by <code>tmap_options("limits")</code>).</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_alpha">alpha</code></td>
<td>
<p>transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>col</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_palette">palette</code></td>
<td>
<p>a palette name or a vector of colors. See <code>tmaptools::palette_explorer()</code> for the named palettes. Use a <code>"-"</code> as prefix to reverse the palette. The default palette is taken from <code><a href="#topic+tm_layout">tm_layout</a></code>'s argument <code>aes.palette</code>, which typically depends on the style. The type of palette from <code>aes.palette</code> is automatically determined, but can be overwritten: use <code>"seq"</code> for sequential, <code>"div"</code> for diverging, and <code>"cat"</code> for categorical.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_n">n</code></td>
<td>
<p>preferred number of classes (in case <code>col</code> is a numeric variable)</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_style">style</code></td>
<td>
<p>method to process the color scale when <code>col</code> is a numeric variable. Discrete gradient options are <code>"cat"</code>, <code>"fixed"</code>, <code>"sd"</code>, <code>"equal"</code>, <code>"pretty"</code>, <code>"quantile"</code>, <code>"kmeans"</code>, <code>"hclust"</code>, <code>"bclust"</code>, <code>"fisher"</code>, <code>"jenks"</code>, <code>"dpih"</code>, <code>"headtails"</code>, and <code>"log10_pretty"</code>. A numeric variable is processed as a categorical variable when using <code>"cat"</code>, i.e. each unique value will correspond to a distinct category. For the other discrete gradient options (except <code>"log10_pretty"</code>), see the details in <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> (extra arguments can be passed on via <code>style.args</code>). Continuous gradient options are <code>"cont"</code>, <code>"order"</code>, and <code>"log10"</code>. The first maps the values of <code>col</code> to a smooth gradient, the second maps the order of values of <code>col</code> to a smooth gradient, and the third uses a logarithmic transformation. The numeric variable can be either regarded as a continuous variable or a count (integer) variable. See <code>as.count</code>.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_style.args">style.args</code></td>
<td>
<p>arguments passed on to <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>, the function that determine color classes (see also <code>style</code>).</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_as.count">as.count</code></td>
<td>
<p>when <code>col</code> is a numeric variable, should it be processed as a count variable? For instance, if <code>style = "pretty"</code>, <code>n = 2</code>, and the value range of the variable is 0 to 10, then the column classes for <code>as.count = TRUE</code> are 0; 1 to 5; 6 to 10 (note that 0 is regarded as an own category) whereas for <code>as.count = FALSE</code> they are 0 to 5; 5 to 10. Only applicable if <code>style</code> is <code>"pretty"</code>, <code>"fixed"</code>, or <code>"log10_pretty"</code>. By default, <code>TRUE</code> if <code>style</code> is one of these, and the variable is an integer.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_breaks">breaks</code></td>
<td>
<p>in case <code>style=="fixed"</code>, breaks should be specified. The <code>breaks</code> argument can also be used when <code>style="cont"</code>. In that case, the breaks are mapped evenly to the sequential or diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_interval.closure">interval.closure</code></td>
<td>
<p>value that determines whether where the intervals are closed: <code>"left"</code> or <code>"right"</code>. Only applicable if <code>col</code> is a numeric variable. If <code>as.count = TRUE</code>, <code>inverval.closure</code> is always set to <code>"left"</code>.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_labels">labels</code></td>
<td>
<p>labels of the classes</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_drop.levels">drop.levels</code></td>
<td>
<p>should unused classes be omitted? <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_midpoint">midpoint</code></td>
<td>
<p>The value mapped to the middle color of a diverging palette. By default it is set to 0 if negative and positive values are present. In that case, the two sides of the color palette are assigned to negative respectively positive values. If all values are positive or all values are negative, then the midpoint is set to <code>NA</code>, which means that the value that corresponds to the middle color class (see <code>style</code>) is mapped to the middle color. Only applies when <code>col</code> is a numeric variable. If it is specified for sequential color palettes (e.g. <code>"Blues"</code>), then this color palette will be treated as a diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_stretch.palette">stretch.palette</code></td>
<td>
<p>Logical that determines whether the categorical color palette should be stretched if there are more categories than colors. If <code>TRUE</code> (default), interpolated colors are used (like a rainbow). If <code>FALSE</code>, the palette is repeated.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_contrast">contrast</code></td>
<td>
<p>vector of two numbers that determine the range that is used for sequential and diverging palettes (applicable when <code>auto.palette.mapping=TRUE</code>). Both numbers should be between 0 and 1. The first number determines where the palette begins, and the second number where it ends. For sequential palettes, 0 means the brightest color, and 1 the darkest color. For diverging palettes, 0 means the middle color, and 1 both extremes. If only one number is provided, this number is interpreted as the endpoint (with 0 taken as the start).</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_saturation">saturation</code></td>
<td>
<p>Number that determines how much saturation (also known as chroma) is used: <code>saturation=0</code> is greyscale and <code>saturation=1</code> is normal. This saturation value is multiplied by the overall saturation of the map (see <code><a href="#topic+tm_layout">tm_layout</a></code>).</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_interpolate">interpolate</code></td>
<td>
<p>Should the raster image be interpolated? By default <code>FALSE</code> for <code>tm_raster</code> and <code>TRUE</code> for <code>tm_rgb</code>.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_colorna">colorNA</code></td>
<td>
<p>color used for missing values. Use <code>NULL</code> for transparency.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_textna">textNA</code></td>
<td>
<p>text used for missing values.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_showna">showNA</code></td>
<td>
<p>logical that determines whether missing values are named in the legend. By default (<code>NA</code>), this depends on the presence of missing values.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_colornull">colorNULL</code></td>
<td>
<p>colour for polygons that are shown on the map that are out of scope</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_title">title</code></td>
<td>
<p>title of the legend element</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.show">legend.show</code></td>
<td>
<p>logical that determines whether the legend is shown</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.format">legend.format</code></td>
<td>
<p>list of formatting options for the legend numbers. Only applicable if <code>labels</code> is undefined. Parameters are:
</p>

<dl>
<dt>fun</dt><dd><p>Function to specify the labels. It should take a numeric vector, and should return a character vector of the same size. By default it is not specified. If specified, the list items <code>scientific</code>, <code>format</code>, and <code>digits</code> (see below) are not used.</p>
</dd>
<dt>scientific</dt><dd><p>Should the labels be formatted scientifically? If so, square brackets are used, and the <code>format</code> of the numbers is <code>"g"</code>. Otherwise, <code>format="f"</code>, and <code>text.separator</code>, <code>text.less.than</code>, and <code>text.or.more</code> are used. Also, the numbers are automatically  rounded to millions or billions if applicable.</p>
</dd>
<dt>format</dt><dd><p>By default, <code>"f"</code>, i.e. the standard notation <code>xxx.xxx</code>, is used. If <code>scientific=TRUE</code> then <code>"g"</code>, which means that numbers are formatted scientifically, i.e. <code>n.dddE+nn</code> if needed to save space.</p>
</dd>
<dt>digits</dt><dd><p>Number of digits after the decimal point if <code>format="f"</code>, and the number of significant digits otherwise.</p>
</dd>
<dt>big.num.abbr</dt><dd><p>Vector that defines whether and which abbrevations are used for large numbers. It is a named numeric vector, where the name indicated the abbreviation, and the number the magnitude (in terms on numbers of zero). Numbers are only abbrevation when they are large enough. Set it to <code>NA</code> to disable abbrevations.  The default is <code>c("mln" = 6, "bln" = 9)</code>. For layers where <code>style</code> is set to <code>log10</code> or <code>log10_pretty</code>, the default is <code>NA</code>.</p>
</dd>
<dt>prefix</dt><dd><p>Prefix of each number</p>
</dd>
<dt>suffix</dt><dd><p>Suffix of each number</p>
</dd>
<dt>text.separator</dt><dd><p>Character string to use to separate numbers in the legend (default: &quot;to&quot;).</p>
</dd>
<dt>text.less.than</dt><dd><p>Character value(s) to use to translate &quot;Less than&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.or.more</dt><dd><p>Character value(s) to use to translate &quot;or more&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.align</dt><dd><p>Value that determines how the numbers are aligned, <code>"left"</code>, <code>"center"</code> or <code>"right"</code>. By default <code>"left"</code> for legends in portrait format (<code>legend.is.protrait = TRUE</code>), and <code>"center"</code> otherwise.</p>
</dd>
<dt>text.to.columns</dt><dd><p>Logical that determines whether the text is aligned to three columns (from, text.separator, to). By default <code>FALSE</code>.</p>
</dd>
<dt>html.escape</dt><dd><p>Logical that determins whther HTML code is escaped in the popups in view mode. By default <code>TRUE</code>. If set to <code>FALSE</code> HTML code can be added, e.g. to added white space via <code>&amp;nbsp;</code>.</p>
</dd>
<dt>...</dt><dd><p>Other arguments passed on to <code><a href="base.html#topic+formatC">formatC</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.is.portrait">legend.is.portrait</code></td>
<td>
<p>logical that determines whether the legend is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.reverse">legend.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the text sizes are shown in reverse order, i.e. from bottom to top when <code>legend.is.portrait = TRUE</code> and from right to left when <code>legend.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.hist">legend.hist</code></td>
<td>
<p>logical that determines whether a histogram is shown</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.hist.title">legend.hist.title</code></td>
<td>
<p>title for the histogram. By default, one title is used for both the histogram and the normal legend.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.z">legend.z</code></td>
<td>
<p>index value that determines the position of the legend element with respect to other legend elements. The legend elements are stacked according to their z values. The legend element with the lowest z value is placed on top.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_legend.hist.z">legend.hist.z</code></td>
<td>
<p>index value that determines the position of the histogram legend element</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode. By default, it is set to the layer number plus 400. By default, the tmap layers will therefore be placed in the custom panes <code>"tmap401"</code>, <code>"tmap402"</code>, etc., except for the base tile layers, which are placed in the standard <code>"tile"</code>. This parameter determines both the name of the pane and the z-index, which determines the pane order from bottom to top. For instance, if <code>zindex</code> is set to 500, the pane will be named <code>"tmap500"</code>.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>).</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_auto.palette.mapping">auto.palette.mapping</code></td>
<td>
<p>deprecated. It has been replaced by <code>midpoint</code> for numeric variables and <code>stretch.palette</code> for categorical variables.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_max.categories">max.categories</code></td>
<td>
<p>deprecated. It has moved to <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_max.value">max.value</code></td>
<td>
<p>for <code>tm_rgb</code>, what is the maximum value per layer? By default 255.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_r">r</code></td>
<td>
<p>raster band for the red channel. It should be an integer between 1 and the number of raster layers.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_g">g</code></td>
<td>
<p>raster band for the green channel. It should be an integer between 1 and the number of raster layers.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_b">b</code></td>
<td>
<p>raster band for the blue channel. It should be an integer between 1 and the number of raster layers.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_...">...</code></td>
<td>
<p>arguments passed on from <code>tm_rgb</code> and <code>tm_rgba</code> to <code>tm_raster</code>.</p>
</td></tr>
<tr><td><code id="tm_raster_+3A_a">a</code></td>
<td>
<p>raster band for the alpha channel. It should be an integer between 1 and the number of raster layers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Small multiples can be drawn in two ways: either by specifying the <code>by</code> argument in <code><a href="#topic+tm_facets">tm_facets</a></code>, or by defining multiple variables in the aesthetic arguments. The aesthetic argument of <code>tm_raster</code> is <code>col</code>. In the latter case, the arguments, except for the ones starting with <code>legend.</code>, can be specified for small multiples as follows. If the argument normally only takes a single value, such as <code>n</code>, then a vector of those values can be specified, one for each small multiple. If the argument normally can take a vector, such as <code>palette</code>, then a list of those vectors (or values) can be specified, one for each small multiple.
</p>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World, land, metro)

pal8 &lt;- c("#33A02C", "#B2DF8A", "#FDBF6F", "#1F78B4", "#999999", "#E31A1C", "#E6E6E6", "#A6CEE3")
tm_shape(land, ylim = c(-88,88)) +
    tm_raster("cover_cls", palette = pal8, title = "Global Land Cover") +
tm_shape(metro) + tm_dots(col = "#E31A1C") +
tm_shape(World) +
    tm_borders(col = "black") +
tm_layout(scale = .8, 
	legend.position = c("left","bottom"),
    legend.bg.color = "white", legend.bg.alpha = .2, 
    legend.frame = "gray50")

## Not run: 
pal20 &lt;- c("#003200", "#3C9600", "#006E00", "#556E19", "#00C800", "#8CBE8C",
		   "#467864", "#B4E664", "#9BC832", "#EBFF64", "#F06432", "#9132E6",
		   "#E664E6", "#9B82E6", "#B4FEF0", "#646464", "#C8C8C8", "#FF0000",
		   "#FFFFFF", "#5ADCDC")
tm_shape(land) +
	tm_raster("cover", palette = pal20, title = "Global Land Cover") + 
	tm_layout(scale=.8, legend.position = c("left","bottom"))

## End(Not run)


tm_shape(land, ylim = c(-88,88)) +
    tm_raster("trees", palette = "Greens", title = "Percent Tree Cover") +
tm_shape(World) +
    tm_borders() +
tm_layout(legend.position = c("left", "bottom"), bg.color = "lightblue")

## Not run: 
tm_shape(land) +
	tm_raster("black") +
	tm_facets(by="cover_cls")

## End(Not run)

# TIP: check out these examples in view mode, enabled with tmap_mode("view")
</code></pre>

<hr>
<h2 id='tm_scale_bar'>Scale bar</h2><span id='topic+tm_scale_bar'></span>

<h3>Description</h3>

<p>Creates a scale bar. By default, the coordinate units are assumed to be meters, and the map units in kilometers. This can be changed in <code><a href="#topic+tm_shape">tm_shape</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_scale_bar(
  breaks = NULL,
  width = NA,
  text.size = 0.5,
  text.color = NA,
  color.dark = "black",
  color.light = "white",
  lwd = 1,
  position = NA,
  bg.color = NA,
  bg.alpha = NA,
  just = NA,
  size = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_scale_bar_+3A_breaks">breaks</code></td>
<td>
<p>breaks of the scale bar. If not specified, breaks will be automatically be chosen given the prefered <code>width</code> of the scale bar. Not available for view mode.</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_width">width</code></td>
<td>
<p>(preferred) width of the scale bar. Only applicable when <code>breaks=NULL</code>. In plot mode, it corresponds the relative width; the default is 0.25 so one fourth of the map width. In view mode, it corresponds to the width in pixels; the default is 100.</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_text.size">text.size</code></td>
<td>
<p>relative text size (which is upperbound by the available label width)</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_text.color">text.color</code></td>
<td>
<p>color of the text. By default equal to the argument <code>attr.color</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_color.dark">color.dark</code></td>
<td>
<p>color of the dark parts of the scale bar, typically (and by default) black.</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_color.light">color.light</code></td>
<td>
<p>color of the light parts of the scale bar, typically (and by default) white.</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_lwd">lwd</code></td>
<td>
<p>line width of the scale bar</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_position">position</code></td>
<td>
<p>position of the scale bar Vector of two values, specifying the x and y coordinates. Either this vector contains &quot;left&quot;, &quot;LEFT&quot;, &quot;center&quot;, &quot;right&quot;, or &quot;RIGHT&quot; for the first value and &quot;top&quot;, &quot;TOP&quot;, &quot;center&quot;, &quot;bottom&quot;, or &quot;BOTTOM&quot; for the second value, or this vector contains two numeric values between 0 and 1 that specifies the x and y value of the left bottom corner of the scale bar. The uppercase values correspond to the position without margins (so tighter to the frame). The default value is controlled by the argument <code>"attr.position"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_bg.color">bg.color</code></td>
<td>
<p>Background color</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_bg.alpha">bg.alpha</code></td>
<td>
<p>Transparency of the background color. Number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>bg.color</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_just">just</code></td>
<td>
<p>Justification of the attribute relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left/bottom alignment and 1 right/top alignment. This option is only used, if <code>position</code> is specified by numeric coordinates. The default value is controlled by the argument <code>"attr.just"</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_scale_bar_+3A_size">size</code></td>
<td>
<p>deprecated: renamed to text.size</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>current.mode &lt;- tmap_mode("plot")

data(NLD_muni)
qtm(NLD_muni, theme = "NLD") + tm_scale_bar(position=c("left", "bottom"))

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_sf'>Draw simple features</h2><span id='topic+tm_sf'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that draws simple features. Basically, it is a stack of <code><a href="#topic+tm_polygons">tm_polygons</a></code>, <code><a href="#topic+tm_lines">tm_lines</a></code> and <code><a href="#topic+tm_dots">tm_dots</a></code>. In other words, polygons are plotted as polygons, lines as lines and points as dots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_sf(
  col = NA,
  size = 0.02,
  shape = 19,
  lwd = 1,
  lty = "solid",
  alpha = NA,
  palette = NULL,
  border.col = NA,
  border.lwd = 1,
  border.lty = "solid",
  border.alpha = NA,
  group = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_sf_+3A_col">col</code></td>
<td>
<p>color of the simple features. See the <code>col</code> argument of <code><a href="#topic+tm_polygons">tm_polygons</a></code>, <code><a href="#topic+tm_lines">tm_lines</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code>.</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_size">size</code></td>
<td>
<p>size of the dots. See the <code>size</code> argument <code><a href="#topic+tm_symbols">tm_symbols</a></code>. By default, the size is similar to dot size (see <code><a href="#topic+tm_dots">tm_dots</a></code>)</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_shape">shape</code></td>
<td>
<p>shape of the dots. See the <code>shape</code> argument <code><a href="#topic+tm_symbols">tm_symbols</a></code>. By default, dots are shown.</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_lwd">lwd</code></td>
<td>
<p>width of the lines. See the <code>lwd</code> argument of <code><a href="#topic+tm_lines">tm_lines</a></code></p>
</td></tr>
<tr><td><code id="tm_sf_+3A_lty">lty</code></td>
<td>
<p>type of the lines. See the <code>lty</code> argument of <code><a href="#topic+tm_lines">tm_lines</a></code></p>
</td></tr>
<tr><td><code id="tm_sf_+3A_alpha">alpha</code></td>
<td>
<p>transparency number. See <code>alpha</code> argument of <code><a href="#topic+tm_polygons">tm_polygons</a></code>, <code><a href="#topic+tm_lines">tm_lines</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code></p>
</td></tr>
<tr><td><code id="tm_sf_+3A_palette">palette</code></td>
<td>
<p>palette. See <code>palette</code> argument of <code><a href="#topic+tm_polygons">tm_polygons</a></code>, <code><a href="#topic+tm_lines">tm_lines</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code></p>
</td></tr>
<tr><td><code id="tm_sf_+3A_border.col">border.col</code></td>
<td>
<p>color of the borders. See <code>border.col</code> argument of <code><a href="#topic+tm_polygons">tm_polygons</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code>.</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_border.lwd">border.lwd</code></td>
<td>
<p>line width of the borders. See <code>border.lwd</code> argument of <code><a href="#topic+tm_polygons">tm_polygons</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code>.</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_border.lty">border.lty</code></td>
<td>
<p>line type of the borders. See <code>border.lwd</code> argument of <code><a href="#topic+tm_polygons">tm_polygons</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code>.</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_border.alpha">border.alpha</code></td>
<td>
<p>transparency of the borders. See <code>border.alpha</code> argument of <code><a href="#topic+tm_polygons">tm_polygons</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code>.</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>).</p>
</td></tr>
<tr><td><code id="tm_sf_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="#topic+tm_polygons">tm_polygons</a></code>, <code><a href="#topic+tm_lines">tm_lines</a></code> and <code><a href="#topic+tm_symbols">tm_symbols</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World)

World$geometry[World$continent == "Africa"] &lt;- 
  sf::st_centroid(World$geometry[World$continent == "Africa"])
World$geometry[World$continent == "South America"] &lt;- 
  sf::st_cast(World$geometry[World$continent == "South America"], 
    "MULTILINESTRING", group_or_split = FALSE)

tm_shape(World) + 
	tm_sf()
</code></pre>

<hr>
<h2 id='tm_shape'>Specify the shape object</h2><span id='topic+tm_shape'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that specifies a spatial data object, which we refer to as shape. Also the projection and covered area (bounding box) can be set. It is possible to use multiple shape objects within one plot (see <code><a href="#topic+tmap-element">tmap-element</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_shape(
  shp,
  name = NULL,
  is.master = NA,
  projection = NULL,
  bbox = NULL,
  unit = NULL,
  simplify = 1,
  point.per = NA,
  line.center = "midpoint",
  filter = NULL,
  raster.downsample = TRUE,
  raster.warp = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_shape_+3A_shp">shp</code></td>
<td>
<p>shape object, which is an object from a class defined by the <code><a href="sf.html#topic+sf">sf</a></code> or <code><a href="stars.html#topic+st_as_stars">stars</a></code> package. Objects from the packages <code>sp</code> and <code>raster</code> are also supported, but discouraged.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_name">name</code></td>
<td>
<p>name of the shape object (character) as it appears in the legend in <code>"view"</code> mode. Default value is the name of <code>shp</code>.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_is.master">is.master</code></td>
<td>
<p>logical that determines whether this <code>tm_shape</code> is the master shape element. The bounding box, projection settings, and the unit specifications of the resulting thematic map are taken from the <code>tm_shape</code> element of the master shape object. By default, the first master shape element with a raster shape is the master, and if there are no raster shapes used, then the first <code>tm_shape</code> is the master shape element.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_projection">projection</code></td>
<td>
<p>Map projection (CRS). Either a <code><a href="sf.html#topic+st_crs">crs</a></code> object or a character value (<code>PROJ.4</code> character string). By default, the projection is used that is defined in the <code>shp</code> object itself.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_bbox">bbox</code></td>
<td>
<p>bounding box. One of the following:
</p>

<ul>
<li><p> A bounding box (an <code><a href="sf.html#topic+sf">sf</a></code> bbox object, see <code><a href="sf.html#topic+st_bbox">st_bbox</a></code>, or any object that can be read by <code><a href="tmaptools.html#topic+bb">bb</a></code>. 
</p>
</li>
<li><p> Open Street Map search query. The bounding is automatically generated by querying <code>q</code> from Open Street Map Nominatim. See <a href="https://wiki.openstreetmap.org/wiki/Nominatim">https://wiki.openstreetmap.org/wiki/Nominatim</a>.
</p>
</li>
<li><p> Another shape object, from which the bounding box is extracted.</p>
</li></ul>

<p>If unspecified, the current bounding box of <code>shp</code> is taken. The bounding box is feed to <code><a href="tmaptools.html#topic+bb">bb</a></code> (as argument <code>x</code>. The other arguments of <code><a href="tmaptools.html#topic+bb">bb</a></code> can be specified directly as well (see <code>..</code>).</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_unit">unit</code></td>
<td>
<p>desired units of the map. One of <code>"metric"</code> (default), <code>"imperial"</code>, <code>"km"</code>, <code>"m"</code>, <code>"mi"</code> and <code>"ft"</code>. Used to specify the scale bar (see <code><a href="#topic+tm_scale_bar">tm_scale_bar</a></code>) and to calculate densities for choropleths (see argument <code>convert2density</code> in <code><a href="#topic+tm_fill">tm_fill</a></code>).</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_simplify">simplify</code></td>
<td>
<p>simplification factor for spatial polygons and spatial lines. A number between 0 and 1 that indicates how many coordinates are kept. See the underlying function <code><a href="tmaptools.html#topic+simplify_shape">simplify_shape</a></code>, from which the arguments <code>keep.units</code> and <code>keep.subunits</code> can be passed on (see <code>...</code>). This requires the suggested package <code>rmapshaper</code>.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_point.per">point.per</code></td>
<td>
<p>specification of how points or text labels are plotted when the geometry is a multi line or a multi polygon. One of <code>"feature"</code>, <code>"segment"</code> or <code>"largest"</code>. The first generates a point/label for every feature, the second for every segment (i.e. subfeature), the third only for the largest segment (subfeature). Note that the last two options can be significant slower. By default, it is set to <code>"segment"</code> if the geometry of shp is a (multi)points geometry or a geometrycollection, and <code>"feature"</code> otherwise.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_line.center">line.center</code></td>
<td>
<p>specification of where points are placed for (multi)line geometries. Either <code>"midpoint"</code> or <code>"centroid"</code>. The former places a point at the middle of the line, the latter at the controid.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_filter">filter</code></td>
<td>
<p>logical vector which indicated per feature whether it should be included. Features for which filter is <code>FALSE</code> will be colored light gray (see the <code>colorNULL</code> argument in the layer functions)</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_raster.downsample">raster.downsample</code></td>
<td>
<p>Should a raster shape (i.e. <code>stars</code> object) be downsampled when it is loo large? What is too large is determined by the tmap option <code>max.raster</code> (see <code><a href="#topic+tmap_options">tmap_options</a></code>). If it is downsampled, it will be downsampled to approximately <code>max.raster</code> cells. A message will be shown with the exact size.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_raster.warp">raster.warp</code></td>
<td>
<p>Should a raster shape (i.e. <code>stars</code> object) be warped when the map is shown in different map projection (CRS)? If <code>TRUE</code> (default) the raster is warped to a regular grid in the new projection. Otherwise, the raster shape is transformed where the original raster cells are kept intact. Warping a raster is much faster than transforming. Note that any raster shape with a projection other than 4326 will have to be warped or transformed in view mode.</p>
</td></tr>
<tr><td><code id="tm_shape_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="tmaptools.html#topic+bb">bb</a></code> (e.g. <code>ext</code> can be used to enlarge or shrinke a bounding box), and <code><a href="tmaptools.html#topic+simplify_shape">simplify_shape</a></code> (the arguments <code>keep.units</code> and <code>keep.subunits</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>current.mode &lt;- tmap_mode("plot")

data(World, metro, rivers)

tm_shape(World) + 
    tm_polygons() + 
tm_layout("Long lat coordinates (WGS84)", inner.margins=c(0,0,.1,0), title.size=.8)

World$highlighted &lt;- ifelse(World$iso_a3 %in% c("GRL", "AUS"), "gold", "gray75")
tm_shape(World, projection=3857, ylim=c(.1, 1), relative = TRUE) + 
    tm_polygons("highlighted") + 
tm_layout("Web Mercator projection. Although widely used, it is discouraged for
statistical purposes. In reality, Australia is 3 times larger than Greenland!",
    inner.margins=c(0,0,.1,0), title.size=.6)

tm_shape(World, projection="+proj=robin") + 
    tm_polygons() +
tm_layout(
"Winkel-Tripel projection, adapted as default by the National Geographic Society for world maps.",
    inner.margins=c(0,0,.1,0), title.size=.8)

tm_shape(World, projection="+proj=eck4") +
    tm_polygons() + 
tm_layout("Eckhart IV projection. Recommended in statistical maps for its equal-area property.",
    inner.margins=c(0,0,.1,0), title.size=.8)


# different levels of simplification
## Not run: 
tm1 &lt;- tm_shape(World, projection="+proj=eck4", simplify = 0.05) + tm_polygons() + 
    tm_layout("Simplification: 0.05")
tm2 &lt;- tm_shape(World, projection="+proj=eck4", simplify = 0.1) + tm_polygons() + 
    tm_layout("Simplification: 0.1")
tm3 &lt;- tm_shape(World, projection="+proj=eck4", simplify = 0.25) + tm_polygons() + 
    tm_layout("Simplification: 0.25")
tm4 &lt;- tm_shape(World, projection="+proj=eck4", simplify = 0.5) + tm_polygons() + 
    tm_layout("Simplification: 0.5")

require(tmaptools)
tmap_arrange(tm1, tm2, tm3, tm4)

## End(Not run)

# three groups of layers, each starting with tm_shape
## Not run: 
tm_shape(World, projection="+proj=eck4") +
    tm_fill("darkolivegreen3") +
tm_shape(metro) +
    tm_bubbles("pop2010", col = "grey30", scale=.5) +
tm_shape(rivers) +
    tm_lines("lightcyan1") +
tm_layout(bg.color="lightcyan1", inner.margins=c(0,0,.02,0), legend.show = FALSE)

## End(Not run)

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_symbols'>Draw symbols</h2><span id='topic+tm_symbols'></span><span id='topic+tm_squares'></span><span id='topic+tm_bubbles'></span><span id='topic+tm_dots'></span><span id='topic+tm_markers'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that draws symbols, including symbols and dots. The color, size, and shape of the symbols can be mapped to data variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_symbols(
  size = 1,
  col = NA,
  shape = 21,
  alpha = NA,
  border.col = NA,
  border.lwd = 1,
  border.alpha = NA,
  scale = 1,
  perceptual = FALSE,
  clustering = FALSE,
  size.max = NA,
  size.lim = NA,
  sizes.legend = NULL,
  sizes.legend.labels = NULL,
  n = 5,
  style = ifelse(is.null(breaks), "pretty", "fixed"),
  style.args = list(),
  as.count = NA,
  breaks = NULL,
  interval.closure = "left",
  palette = NULL,
  labels = NULL,
  drop.levels = FALSE,
  midpoint = NULL,
  stretch.palette = TRUE,
  contrast = NA,
  colorNA = NA,
  textNA = "Missing",
  showNA = NA,
  colorNULL = NA,
  shapes = 21:25,
  shapes.legend = NULL,
  shapes.legend.fill = NA,
  shapes.labels = NULL,
  shapes.drop.levels = FALSE,
  shapeNA = 4,
  shape.textNA = "Missing",
  shape.showNA = NA,
  shapes.n = 5,
  shapes.style = ifelse(is.null(shapes.breaks), "pretty", "fixed"),
  shapes.style.args = list(),
  shapes.as.count = NA,
  shapes.breaks = NULL,
  shapes.interval.closure = "left",
  legend.max.symbol.size = 0.8,
  just = NA,
  jitter = 0,
  xmod = 0,
  ymod = 0,
  icon.scale = 3,
  grob.dim = c(width = 48, height = 48, render.width = 256, render.height = 256),
  title.size = NA,
  title.col = NA,
  title.shape = NA,
  legend.size.show = TRUE,
  legend.col.show = TRUE,
  legend.shape.show = TRUE,
  legend.format = list(),
  legend.size.is.portrait = FALSE,
  legend.col.is.portrait = TRUE,
  legend.shape.is.portrait = TRUE,
  legend.size.reverse = FALSE,
  legend.col.reverse = FALSE,
  legend.shape.reverse = FALSE,
  legend.hist = FALSE,
  legend.hist.title = NA,
  legend.size.z = NA,
  legend.col.z = NA,
  legend.shape.z = NA,
  legend.hist.z = NA,
  id = NA,
  interactive = TRUE,
  popup.vars = NA,
  popup.format = list(),
  zindex = NA,
  group = NA,
  auto.palette.mapping = NULL,
  max.categories = NULL
)

tm_squares(size = 1, col = NA, shape = 22, scale = 4/3, ...)

tm_bubbles(
  size = 1,
  col = NA,
  shape = 21,
  scale = 4/3,
  legend.max.symbol.size = 1,
  ...
)

tm_dots(
  col = NA,
  size = 0.02,
  shape = 19,
  title = NA,
  legend.show = TRUE,
  legend.is.portrait = TRUE,
  legend.z = NA,
  ...
)

tm_markers(
  shape = marker_icon(),
  col = NA,
  border.col = NULL,
  clustering = TRUE,
  text = NULL,
  text.just = "top",
  markers.on.top.of.text = TRUE,
  group = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_symbols_+3A_size">size</code></td>
<td>
<p>a single value or a <code>shp</code> data variable that determines the symbol sizes. The reference value <code>size=1</code> corresponds to the area of symbols that have the same height as one line of text. If a data variable (which should be numeric) is provided, the symbol area sizes are scaled proportionally (or perceptually, see <code>perceptual</code>) where by default the symbol with the largest data value will get <code>size=1</code> (see also <code>size.max</code>). If multiple values are specified, small multiples are drawn (see details).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_col">col</code></td>
<td>
<p>color(s) of the symbol. Either a color (vector), or categorical variable name(s). If multiple values are specified, small multiples are drawn (see details).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shape">shape</code></td>
<td>
<p>shape(s) of the symbol. Either direct shape specification(s) or a data variable name(s) that is mapped to the symbols specified by the <code>shapes</code> argument. Note that the default shapes (specified by <code>shapes</code>) is not supported in <code>"view"</code> mode. See details for the shape specification.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_alpha">alpha</code></td>
<td>
<p>transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>col</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_border.col">border.col</code></td>
<td>
<p>color of the symbol borders.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_border.lwd">border.lwd</code></td>
<td>
<p>line width of the symbol borders. If <code>NA</code>, no symbol borders are drawn.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_border.alpha">border.alpha</code></td>
<td>
<p>transparency number, regarding the symbol borders, between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>col</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_scale">scale</code></td>
<td>
<p>symbol size multiplier number.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_perceptual">perceptual</code></td>
<td>
<p>by default (with <code>perceptual = FALSE</code>), the symbol area sizes are scaled proportionally to the data variables. This is done by taking the square root of the (normalized) data variable, since the plotting system (<code>grid</code> package) expects size in radius rather than area. However, the perceived area of larger symbols is often underestimated. Flannery (1971) experimentally derived a method to compensate this for symbols, which is enabled by this argument; if <code>perceptual = TRUE</code>, not the suqare root (power exponent 0.5) is taken, but power exponent 0.5716.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_clustering">clustering</code></td>
<td>
<p>value that determines whether the symbols are clustered in <code>"view"</code> mode. It does not work proportional bubbles (i.e. <code>tm_bubbles</code>). One of: <code>TRUE</code>, <code>FALSE</code>, or the output of <code><a href="leaflet.html#topic+markerClusterOptions">markerClusterOptions</a></code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_size.max">size.max</code></td>
<td>
<p>value that is mapped to <code>size=1</code>. By default (<code>NA</code>), the maximum data value is chosen. Only applicable when <code>size</code> is the name of a numeric variable of <code>shp</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_size.lim">size.lim</code></td>
<td>
<p>vector of two limit values of the <code>size</code> variable. Only symbols are drawn whose value is greater than or equal to the first value. Symbols whose values exceed the second value are drawn at the size of the second value. Only applicable when <code>size</code> is the name of a numeric variable of <code>shp</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_sizes.legend">sizes.legend</code></td>
<td>
<p>vector of symbol sizes that are shown in the legend. By default, this is determined automatically.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_sizes.legend.labels">sizes.legend.labels</code></td>
<td>
<p>vector of labels for that correspond to <code>sizes.legend</code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_n">n</code></td>
<td>
<p>preferred number of color scale classes. Only applicable when <code>col</code> is a numeric variable name.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_style">style</code></td>
<td>
<p>method to process the color scale when <code>col</code> is a numeric variable. Discrete gradient options are <code>"cat"</code>, <code>"fixed"</code>, <code>"sd"</code>, <code>"equal"</code>, <code>"pretty"</code>, <code>"quantile"</code>, <code>"kmeans"</code>, <code>"hclust"</code>, <code>"bclust"</code>, <code>"fisher"</code>, <code>"jenks"</code>, <code>"dpih"</code>, <code>"headtails"</code>, and <code>"log10_pretty"</code>. A numeric variable is processed as a categorical variable when using <code>"cat"</code>, i.e. each unique value will correspond to a distinct category. For the other discrete gradient options (except <code>"log10_pretty"</code>), see the details in <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> (extra arguments can be passed on via <code>style.args</code>). Continuous gradient options are <code>"cont"</code>, <code>"order"</code>, and <code>"log10"</code>. The first maps the values of <code>col</code> to a smooth gradient, the second maps the order of values of <code>col</code> to a smooth gradient, and the third uses a logarithmic transformation. The numeric variable can be either regarded as a continuous variable or a count (integer) variable. See <code>as.count</code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_style.args">style.args</code></td>
<td>
<p>arguments passed on to <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>, the function that determine color classes (see also <code>style</code>).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_as.count">as.count</code></td>
<td>
<p>when <code>col</code> is a numeric variable, should it be processed as a count variable? For instance, if <code>style = "pretty"</code>, <code>n = 2</code>, and the value range of the variable is 0 to 10, then the column classes for <code>as.count = TRUE</code> are 0; 1 to 5; 6 to 10 (note that 0 is regarded as an own category) whereas for <code>as.count = FALSE</code> they are 0 to 5; 5 to 10. Only applicable if <code>style</code> is <code>"pretty"</code>, <code>"fixed"</code>, or <code>"log10_pretty"</code>. By default, <code>TRUE</code> if <code>style</code> is one of these, and the variable is an integer.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_breaks">breaks</code></td>
<td>
<p>in case <code>style=="fixed"</code>, breaks should be specified. The <code>breaks</code> argument can also be used when <code>style="cont"</code>. In that case, the breaks are mapped evenly to the sequential or diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_interval.closure">interval.closure</code></td>
<td>
<p>value that determines whether where the intervals are closed: <code>"left"</code> or <code>"right"</code>. Only applicable if <code>col</code> is a numeric variable. If <code>as.count = TRUE</code>, <code>inverval.closure</code> is always set to <code>"left"</code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_palette">palette</code></td>
<td>
<p>a palette name or a vector of colors. See <code>tmaptools::palette_explorer()</code> for the named palettes. Use a <code>"-"</code> as prefix to reverse the palette. The default palette is taken from <code><a href="#topic+tm_layout">tm_layout</a></code>'s argument <code>aes.palette</code>, which typically depends on the style. The type of palette from <code>aes.palette</code> is automatically determined, but can be overwritten: use <code>"seq"</code> for sequential, <code>"div"</code> for diverging, and <code>"cat"</code> for categorical.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_labels">labels</code></td>
<td>
<p>labels of the classes</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_drop.levels">drop.levels</code></td>
<td>
<p>should unused classes be omitted? <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_midpoint">midpoint</code></td>
<td>
<p>The value mapped to the middle color of a diverging palette. By default it is set to 0 if negative and positive values are present. In that case, the two sides of the color palette are assigned to negative respectively positive values. If all values are positive or all values are negative, then the midpoint is set to <code>NA</code>, which means that the value that corresponds to the middle color class (see <code>style</code>) is mapped to the middle color. Only applies when <code>col</code> is a numeric variable. If it is specified for sequential color palettes (e.g. <code>"Blues"</code>), then this color palette will be treated as a diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_stretch.palette">stretch.palette</code></td>
<td>
<p>Logical that determines whether the categorical color palette should be stretched if there are more categories than colors. If <code>TRUE</code> (default), interpolated colors are used (like a rainbow). If <code>FALSE</code>, the palette is repeated.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_contrast">contrast</code></td>
<td>
<p>vector of two numbers that determine the range that is used for sequential and diverging palettes (applicable when <code>auto.palette.mapping=TRUE</code>). Both numbers should be between 0 and 1. The first number determines where the palette begins, and the second number where it ends. For sequential palettes, 0 means the brightest color, and 1 the darkest color. For diverging palettes, 0 means the middle color, and 1 both extremes. If only one number is provided, this number is interpreted as the endpoint (with 0 taken as the start).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_colorna">colorNA</code></td>
<td>
<p>colour for missing values. Use <code>NULL</code> for transparency.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_textna">textNA</code></td>
<td>
<p>text used for missing values of the color variable.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_showna">showNA</code></td>
<td>
<p>logical that determines whether missing values are named in the legend. By default (<code>NA</code>), this depends on the presence of missing values.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_colornull">colorNULL</code></td>
<td>
<p>colour for polygons that are shown on the map that are out of scope</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes">shapes</code></td>
<td>
<p>palette of symbol shapes. Only applicable if <code>shape</code> is a (vector of) categorical variable(s). See details for the shape specification. By default, the filled symbols 21 to 25 are taken.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.legend">shapes.legend</code></td>
<td>
<p>symbol shapes that are used in the legend (instead of the symbols specified with <code>shape</code>). These shapes will be used in the legends regarding the <code>size</code> and <code>col</code> of the symbols. Especially useful when <code>shapes</code> consist of grobs that have to be represented by neutrally colored shapes. See also <code>shapes.legend.fill</code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.legend.fill">shapes.legend.fill</code></td>
<td>
<p>Fill color of legend shapes. These colors will be used in the legends regarding the <code>size</code> and <code>shape</code> of the symbols. See also <code>shapes.legend</code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.labels">shapes.labels</code></td>
<td>
<p>Legend labels for the symbol shapes</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.drop.levels">shapes.drop.levels</code></td>
<td>
<p>should unused symbol classes be omitted? <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapena">shapeNA</code></td>
<td>
<p>the shape (a number or grob) for missing values. By default a cross (number 4). Set to <code>NA</code> to hide symbols for missing values.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shape.textna">shape.textNA</code></td>
<td>
<p>text used for missing values of the shape variable.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shape.showna">shape.showNA</code></td>
<td>
<p>logical that determines whether missing values are named in the legend. By default (<code>NA</code>), this depends on the presence of missing values.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.n">shapes.n</code></td>
<td>
<p>preferred number of shape classes. Only applicable when <code>shape</code> is a numeric variable name.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.style">shapes.style</code></td>
<td>
<p>method to process the shape scale when <code>shape</code> is a numeric variable. See <code>style</code> argument for options.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.style.args">shapes.style.args</code></td>
<td>
<p>arguments passed on to <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> (see also <code>shapes.tyle</code>).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.as.count">shapes.as.count</code></td>
<td>
<p>when <code>shape</code> is a numeric variable, should it be processed as a count variable? See <code>as.count</code> argument for options.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.breaks">shapes.breaks</code></td>
<td>
<p>in case <code>shapes.style=="fixed"</code>, breaks should be specified</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_shapes.interval.closure">shapes.interval.closure</code></td>
<td>
<p>value that determines whether where the intervals are closed: <code>"left"</code> or <code>"right"</code>. Only applicable if <code>shape</code> is a numeric variable.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.max.symbol.size">legend.max.symbol.size</code></td>
<td>
<p>Maximum size of the symbols that are drawn in the legend. For circles and bubbles, a value larger than one is recommended (and used for <code>tm_bubbles</code>)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_just">just</code></td>
<td>
<p>justification of the symbols relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left alignment and 1 right alignment. The default value is <code>c("center", "center")</code>. For icons, this value may already be speficied (see <code><a href="#topic+tmap_icons">tmap_icons</a></code>). The <code>just</code>, if specified, will overrides this.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_jitter">jitter</code></td>
<td>
<p>number that determines the amount of jittering, i.e. the random noise added to the position of the symbols. 0 means no jittering is applied, any positive number means that the random noise has a standard deviation of <code>jitter</code> times the height of one line of text line.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_xmod">xmod</code></td>
<td>
<p>horizontal position modification of the symbols, in terms of the height of one line of text. Either a single number for all polygons, or a numeric variable in the shape data specifying a number for each polygon. Together with <code>ymod</code>, it determines position modification of the symbols. See also <code>jitter</code> for random position modifications. In most coordinate systems (projections), the origin is located at the bottom left, so negative <code>xmod</code> move the symbols to the left, and negative <code>ymod</code> values to the bottom.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_ymod">ymod</code></td>
<td>
<p>vertical position modification. See xmod.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_icon.scale">icon.scale</code></td>
<td>
<p>scaling number that determines how large the icons (or grobs) are in plot mode in comparison to proportional symbols (such as bubbles). In view mode, the size is determined by the icon specification (see <code><a href="#topic+tmap_icons">tmap_icons</a></code>) or, if grobs are specified by <code>grob.width</code> and <code>grob.heigth</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_grob.dim">grob.dim</code></td>
<td>
<p>vector of four values that determine how grob objects (see details) are shown in view mode. The first and second value are the width and height of the displayed icon. The third and fourth value are the width and height of the rendered png image that is used for the icon. Generally, the third and fourth value should be large enough to render a ggplot2 graphic successfully. Only needed for the view mode.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_title.size">title.size</code></td>
<td>
<p>title of the legend element regarding the symbol sizes</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_title.col">title.col</code></td>
<td>
<p>title of the legend element regarding the symbol colors</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_title.shape">title.shape</code></td>
<td>
<p>title of the legend element regarding the symbol shapes</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.size.show">legend.size.show</code></td>
<td>
<p>logical that determines whether the legend for the symbol sizes is shown</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.col.show">legend.col.show</code></td>
<td>
<p>logical that determines whether the legend for the symbol colors is shown</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.shape.show">legend.shape.show</code></td>
<td>
<p>logical that determines whether the legend for the symbol shapes is shown</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.format">legend.format</code></td>
<td>
<p>list of formatting options for the legend numbers. Only applicable if <code>labels</code> is undefined. Parameters are:
</p>

<dl>
<dt>fun</dt><dd><p>Function to specify the labels. It should take a numeric vector, and should return a character vector of the same size. By default it is not specified. If specified, the list items <code>scientific</code>, <code>format</code>, and <code>digits</code> (see below) are not used.</p>
</dd>
<dt>scientific</dt><dd><p>Should the labels be formatted scientifically? If so, square brackets are used, and the <code>format</code> of the numbers is <code>"g"</code>. Otherwise, <code>format="f"</code>, and <code>text.separator</code>, <code>text.less.than</code>, and <code>text.or.more</code> are used. Also, the numbers are automatically  rounded to millions or billions if applicable.</p>
</dd>
<dt>format</dt><dd><p>By default, <code>"f"</code>, i.e. the standard notation <code>xxx.xxx</code>, is used. If <code>scientific=TRUE</code> then <code>"g"</code>, which means that numbers are formatted scientifically, i.e. <code>n.dddE+nn</code> if needed to save space.</p>
</dd>
<dt>digits</dt><dd><p>Number of digits after the decimal point if <code>format="f"</code>, and the number of significant digits otherwise.</p>
</dd>
<dt>big.num.abbr</dt><dd><p>Vector that defines whether and which abbrevations are used for large numbers. It is a named numeric vector, where the name indicated the abbreviation, and the number the magnitude (in terms on numbers of zero). Numbers are only abbreviation when they are large enough. Set it to <code>NA</code> to disable abbrevations.  The default is <code>c("mln" = 6, "bln" = 9)</code>. For layers where <code>style</code> is set to <code>log10</code> or <code>log10_pretty</code>, the default is <code>NA</code>.</p>
</dd>
<dt>prefix</dt><dd><p>Prefix of each number</p>
</dd>
<dt>suffix</dt><dd><p>Suffix of each number</p>
</dd>
<dt>text.separator</dt><dd><p>Character string to use to separate numbers in the legend (default: &quot;to&quot;).</p>
</dd>
<dt>text.less.than</dt><dd><p>Character value(s) to use to translate &quot;Less than&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.or.more</dt><dd><p>Character value(s) to use to translate &quot;or more&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.align</dt><dd><p>Value that determines how the numbers are aligned, <code>"left"</code>, <code>"center"</code> or <code>"right"</code>. By default <code>"left"</code> for legends in portrait format (<code>legend.is.protrait = TRUE</code>), and <code>"center"</code> otherwise.</p>
</dd>
<dt>text.to.columns</dt><dd><p>Logical that determines whether the text is aligned to three columns (from, text.separator, to). By default <code>FALSE</code>.</p>
</dd>
<dt>html.escape</dt><dd><p>Logical that determins whther HTML code is escaped in the popups in view mode. By default <code>TRUE</code>. If set to <code>FALSE</code> HTML code can be added, e.g. to added white space via <code>&amp;nbsp;</code>.</p>
</dd>
<dt>...</dt><dd><p>Other arguments passed on to <code><a href="base.html#topic+formatC">formatC</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.size.is.portrait">legend.size.is.portrait</code></td>
<td>
<p>logical that determines whether the legend element regarding the symbol sizes is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.col.is.portrait">legend.col.is.portrait</code></td>
<td>
<p>logical that determines whether the legend element regarding the symbol colors is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.shape.is.portrait">legend.shape.is.portrait</code></td>
<td>
<p>logical that determines whether the legend element regarding the symbol shapes is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.size.reverse">legend.size.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the symbol sizes are shown in reverse order, i.e. from bottom to top when <code>legend.size.is.portrait = TRUE</code> and from right to left when <code>legend.size.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.col.reverse">legend.col.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the symbol colors are shown in reverse order, i.e. from bottom to top when <code>legend.col.is.portrait = TRUE</code> and from right to left when <code>legend.col.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.shape.reverse">legend.shape.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the symbol shapes are shown in reverse order, i.e. from bottom to top when <code>legend.shape.is.portrait = TRUE</code> and from right to left when <code>legend.shape.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.hist">legend.hist</code></td>
<td>
<p>logical that determines whether a histogram is shown regarding the symbol colors</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.hist.title">legend.hist.title</code></td>
<td>
<p>title for the histogram. By default, one title is used for both the histogram and the normal legend for symbol colors.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.size.z">legend.size.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the symbol sizes with respect to other legend elements. The legend elements are stacked according to their z values. The legend element with the lowest z value is placed on top.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.col.z">legend.col.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the symbol colors. (See <code>legend.size.z</code>)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.shape.z">legend.shape.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the symbol shapes. (See <code>legend.size.z</code>)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.hist.z">legend.hist.z</code></td>
<td>
<p>index value that determines the position of the histogram legend element. (See <code>legend.size.z</code>)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_id">id</code></td>
<td>
<p>name of the data variable that specifies the indices of the symbols. Only used for <code>"view"</code> mode (see <code><a href="#topic+tmap_mode">tmap_mode</a></code>).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_interactive">interactive</code></td>
<td>
<p>logical that determines whether this layer is interactive in view mode (e.g. hover text, popup, and click event in shiny apps)</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_popup.vars">popup.vars</code></td>
<td>
<p>names of data variables that are shown in the popups in <code>"view"</code> mode. If <code>NA</code> (default), only aesthetic variables (i.e. specified by <code>col</code> and <code>lwd</code>) are shown). If they are not specified, all variables are shown. Set popup.vars to <code>FALSE</code> to disable popups. When a vector of variable names is provided, the names (if specified) are printed in the popups.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_popup.format">popup.format</code></td>
<td>
<p>list of formatting options for the popup values. See the argument <code>legend.format</code> for options. Only applicable for numeric data variables. If one list of formatting options is provided, it is applied to all numeric variables of <code>popup.vars</code>. Also, a (named) list of lists can be provided. In that case, each list of formatting options is applied to the named variable.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode. By default, it is set to the layer number plus 400. By default, the tmap layers will therefore be placed in the custom panes <code>"tmap401"</code>, <code>"tmap402"</code>, etc., except for the base tile layers, which are placed in the standard <code>"tile"</code>. This parameter determines both the name of the pane and the z-index, which determines the pane order from bottom to top. For instance, if <code>zindex</code> is set to 500, the pane will be named <code>"tmap500"</code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>).</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_auto.palette.mapping">auto.palette.mapping</code></td>
<td>
<p>deprecated. It has been replaced by <code>midpoint</code> for numeric variables and <code>stretch.palette</code> for categorical variables.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_max.categories">max.categories</code></td>
<td>
<p>deprecated. It has moved to <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code>tm_symbols</code>. For <code>tm_markers</code>, arguments can also be passed on to <code>tm_text</code>. In that case, they have to be prefixed with <code>text.</code>, e.g. the <code>col</code> argument should be names <code>text.col</code>.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_title">title</code></td>
<td>
<p>shortcut for <code>title.col</code> for <code>tm_dots</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.show">legend.show</code></td>
<td>
<p>shortcut for <code>legend.col.show</code> for <code>tm_dots</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.is.portrait">legend.is.portrait</code></td>
<td>
<p>shortcut for <code>legend.col.is.portrait</code> for <code>tm_dots</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_legend.z">legend.z</code></td>
<td>
<p>shortcut for <code>legend.col.z shortcut</code> for <code>tm_dots</code></p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_text">text</code></td>
<td>
<p>text of the markers. Shown in plot mode, and as popup text in view mode.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_text.just">text.just</code></td>
<td>
<p>justification of marker text (see <code>just</code> argument of <code><a href="#topic+tm_text">tm_text</a></code>). Only applicable in plot mode.</p>
</td></tr>
<tr><td><code id="tm_symbols_+3A_markers.on.top.of.text">markers.on.top.of.text</code></td>
<td>
<p>For <code>tm_markers</code>, should the markers be drawn on top of the text labels?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Small multiples can be drawn in two ways: either by specifying the <code>by</code> argument in <code><a href="#topic+tm_facets">tm_facets</a></code>, or by defining multiple variables in the aesthetic arguments, which are <code>size</code>, <code>col</code>, and <code>shape</code>. In the latter case, the arguments, except for the ones starting with <code>legend.</code>, can be specified for small multiples as follows. If the argument normally only takes a single value, such as <code>n</code>, then a vector of those values can be specified, one for each small multiple. If the argument normally can take a vector, such as <code>palette</code>, then a list of those vectors (or values) can be specified, one for each small multiple.
</p>
<p>A  shape specification is one of the following three options.
</p>

<ol>
<li><p>A numeric value that specifies the plotting character of the symbol. See parameter <code>pch</code> of <code><a href="graphics.html#topic+points">points</a></code> and the last example to create a plot with all options. Note that this is not supported for the <code>"view" mode.</code>
</p>
</li>
<li><p>A <code><a href="grid.html#topic+grid.grob">grob</a></code> object, which can be a ggplot2 plot object created with <code><a href="ggplot2.html#topic+ggplotGrob">ggplotGrob</a></code>. To specify multiple shapes, a list of grob objects is required. See example of a proportional symbol map with ggplot2 plots.
</p>
</li>
<li><p>An icon specification, which can be created with <code><a href="#topic+tmap_icons">tmap_icons</a></code>.
</p>
</li></ol>

<p>To specify multiple shapes (needed for the <code>shapes</code> argument), a vector or list of these shape specification is required. The shape specification options can also be mixed. For the <code>shapes</code> argument, it is possible to use a named vector or list, where the names correspond to the value of the variable specified by the <code>shape</code> argument.
For small multiples, a list of these shape specification(s) should be provided.
</p>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>References</h3>

<p>Flannery J (1971). The Relative Effectiveness of Some Common Graduated Point Symbols in the Presentation of Quantitative Data. Canadian Cartographer, 8(2), 96-109.
</p>
<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World, metro)
metro$growth &lt;- (metro$pop2020 - metro$pop2010) / (metro$pop2010 * 10) * 100

tm_shape(World) +
    tm_fill("grey70") +
tm_shape(metro) +
    tm_bubbles("pop2010", col = "growth", 
        border.col = "black", border.alpha = .5, 
        style="fixed", breaks=c(-Inf, seq(0, 6, by=2), Inf),
        palette="-RdYlBu", contrast=1, 
        title.size="Metro population", 
        title.col="Growth rate (%)") + 
tm_format("World")

tm_shape(metro) +
	tm_symbols(size = "pop2010", col="pop2010", shape="pop2010",
		legend.format = list(text.align="right", text.to.columns = TRUE)) +
tm_legend(outside = TRUE, outside.position = "bottom", stack = "horizontal")


if (require(ggplot2) &amp;&amp; require(dplyr) &amp;&amp; require(tidyr) &amp;&amp; require(tmaptools) &amp;&amp; require(sf)) {
data(NLD_prov)

origin_data &lt;- NLD_prov %&gt;% 
	st_set_geometry(NULL) %&gt;% 
mutate(FID= factor(1:n())) %&gt;% 
select(FID, origin_native, origin_west, origin_non_west) %&gt;% 
gather(key=origin, value=perc, origin_native, origin_west, origin_non_west, factor_key=TRUE)

origin_cols &lt;- get_brewer_pal("Dark2", 3)

grobs &lt;- lapply(split(origin_data, origin_data$FID), function(x) {
ggplotGrob(ggplot(x, aes(x="", y=-perc, fill=origin)) +
	geom_bar(width=1, stat="identity") +
	scale_y_continuous(expand=c(0,0)) +
	scale_fill_manual(values=origin_cols) +
	theme_ps(plot.axes = FALSE))
})

names(grobs) &lt;- NLD_prov$name

tm_shape(NLD_prov) +
tm_polygons(group = "Provinces") +
tm_symbols(size="population", shape="name", 
	shapes=grobs, 
	sizes.legend=c(.5, 1,3)*1e6, 
	scale=1, 
	legend.shape.show = FALSE, 
	legend.size.is.portrait = TRUE, 
	shapes.legend = 22, 
	title.size = "Population",
	group = "Charts",
	id = "name",
	popup.vars = c("population", "origin_native",
				   "origin_west", "origin_non_west")) +
tm_add_legend(type="fill", 
	group = "Charts",
	col=origin_cols, 
	labels=c("Native", "Western", "Non-western"), 
	title="Origin") +
tm_format("NLD")
}



# TIP: check out these examples in view mode, enabled with tmap_mode("view")

## Not run: 
if (require(rnaturalearth)) {

airports &lt;- ne_download(scale=10, type="airports", returnclass = "sf")
airplane &lt;- tmap_icons(system.file("img/airplane.png", package = "tmap"))

current.mode &lt;- tmap_mode("view")
tm_shape(airports) +
	tm_symbols(shape=airplane, size="natlscale",
        legend.size.show = FALSE, scale=1, border.col = NULL, id="name", popup.vars = TRUE) +
tm_view(set.view = c(lon = 15, lat = 48, zoom = 4))
tmap_mode(current.mode)
}

## End(Not run)

#####################################################################################

## Not run: 
# plot all available symbol shapes:
if (require(ggplot2)) {
	ggplot(data.frame(p=c(0:25,32:127))) +
	geom_point(aes(x=p%%16, y=-(p%/%16), shape=p), size=5, fill="red") +
	geom_text(mapping=aes(x=p%%16, y=-(p%/%16+0.25), label=p), size=3) +
	scale_shape_identity() +
	theme(axis.title=element_blank(),
		  axis.text=element_blank(),
		  axis.ticks=element_blank(),
		  panel.background=element_blank())
}

## End(Not run)
</code></pre>

<hr>
<h2 id='tm_text'>Add text labels</h2><span id='topic+tm_text'></span>

<h3>Description</h3>

<p>Creates a <code><a href="#topic+tmap-element">tmap-element</a></code> that adds text labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_text(
  text,
  size = 1,
  col = NA,
  root = 3,
  clustering = FALSE,
  size.lim = NA,
  sizes.legend = NULL,
  sizes.legend.labels = NULL,
  sizes.legend.text = "Abc",
  n = 5,
  style = ifelse(is.null(breaks), "pretty", "fixed"),
  style.args = list(),
  as.count = NA,
  breaks = NULL,
  interval.closure = "left",
  palette = NULL,
  labels = NULL,
  drop.levels = FALSE,
  labels.text = NA,
  midpoint = NULL,
  stretch.palette = TRUE,
  contrast = NA,
  colorNA = NA,
  textNA = "Missing",
  showNA = NA,
  colorNULL = NA,
  fontface = NA,
  fontfamily = NA,
  alpha = NA,
  case = NA,
  shadow = FALSE,
  bg.color = NA,
  bg.alpha = NA,
  size.lowerbound = 0.4,
  print.tiny = FALSE,
  scale = 1,
  auto.placement = FALSE,
  remove.overlap = FALSE,
  along.lines = FALSE,
  overwrite.lines = FALSE,
  just = "center",
  xmod = 0,
  ymod = 0,
  title.size = NA,
  title.col = NA,
  legend.size.show = TRUE,
  legend.col.show = TRUE,
  legend.format = list(),
  legend.size.is.portrait = FALSE,
  legend.col.is.portrait = TRUE,
  legend.size.reverse = FALSE,
  legend.col.reverse = FALSE,
  legend.hist = FALSE,
  legend.hist.title = NA,
  legend.size.z = NA,
  legend.col.z = NA,
  legend.hist.z = NA,
  id = NA,
  zindex = NA,
  group = NA,
  auto.palette.mapping = NULL,
  max.categories = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_text_+3A_text">text</code></td>
<td>
<p>name of the variable in the shape object that contains the text labels</p>
</td></tr>
<tr><td><code id="tm_text_+3A_size">size</code></td>
<td>
<p>relative size of the text labels (see note). Either one number, a name of a numeric variable in the shape data that is used to scale the sizes proportionally, or the value <code>"AREA"</code>, where the text size is proportional to the area size of the polygons.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_col">col</code></td>
<td>
<p>color of the text labels. Either a color value or a data variable name. If multiple values are specified, small multiples are drawn (see details).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_root">root</code></td>
<td>
<p>root number to which the font sizes are scaled. Only applicable if <code>size</code> is a variable name or <code>"AREA"</code>. If <code>root=2</code>, the square root is taken, if <code>root=3</code>, the cube root etc.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_clustering">clustering</code></td>
<td>
<p>value that determines whether the text labels are clustered in <code>"view"</code> mode. One of: <code>TRUE</code>, <code>FALSE</code>, or the output of <code><a href="leaflet.html#topic+markerClusterOptions">markerClusterOptions</a></code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_size.lim">size.lim</code></td>
<td>
<p>vector of two limit values of the <code>size</code> variable. Only text labels are drawn whose value is greater than or equal to the first value. Text labels whose values exceed the second value are drawn at the size of the second value. Only applicable when <code>size</code> is the name of a numeric variable of <code>shp</code>. See also <code>size.lowerbound</code> which is a threshold of the relative font size.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_sizes.legend">sizes.legend</code></td>
<td>
<p>vector of text sizes that are shown in the legend. By default, this is determined automatically.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_sizes.legend.labels">sizes.legend.labels</code></td>
<td>
<p>vector of labels for that correspond to <code>sizes.legend</code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_sizes.legend.text">sizes.legend.text</code></td>
<td>
<p>vector of example text to show in the legend next to sizes.legend.labels. By default &quot;Abc&quot;. When <code>NA</code>, examples from the data variable whose sizes are close to the sizes.legend are taken and <code>"NA"</code> for classes where no match is found.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_n">n</code></td>
<td>
<p>preferred number of color scale classes. Only applicable when <code>col</code> is a numeric variable name.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_style">style</code></td>
<td>
<p>method to process the color scale when <code>col</code> is a numeric variable. Discrete gradient options are <code>"cat"</code>, <code>"fixed"</code>, <code>"sd"</code>, <code>"equal"</code>, <code>"pretty"</code>, <code>"quantile"</code>, <code>"kmeans"</code>, <code>"hclust"</code>, <code>"bclust"</code>, <code>"fisher"</code>, <code>"jenks"</code>, <code>"dpih"</code>, <code>"headtails"</code>, and <code>"log10_pretty"</code>. A numeric variable is processed as a categorical variable when using <code>"cat"</code>, i.e. each unique value will correspond to a distinct category. For the other discrete gradient options (except <code>"log10_pretty"</code>), see the details in <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> (extra arguments can be passed on via <code>style.args</code>). Continuous gradient options are <code>"cont"</code>, <code>"order"</code>, and <code>"log10"</code>. The first maps the values of <code>col</code> to a smooth gradient, the second maps the order of values of <code>col</code> to a smooth gradient, and the third uses a logarithmic transformation. The numeric variable can be either regarded as a continuous variable or a count (integer) variable. See <code>as.count</code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_style.args">style.args</code></td>
<td>
<p>arguments passed on to <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>, the function that determine color classes (see also <code>style</code>).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_as.count">as.count</code></td>
<td>
<p>when <code>col</code> is a numeric variable, should it be processed as a count variable? For instance, if <code>style = "pretty"</code>, <code>n = 2</code>, and the value range of the variable is 0 to 10, then the column classes for <code>as.count = TRUE</code> are 0; 1 to 5; 6 to 10 (note that 0 is regarded as an own category) whereas for <code>as.count = FALSE</code> they are 0 to 5; 5 to 10. Only applicable if <code>style</code> is <code>"pretty"</code>, <code>"fixed"</code>, or <code>"log10_pretty"</code>. By default, <code>TRUE</code> if <code>style</code> is one of these, and the variable is an integer.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_breaks">breaks</code></td>
<td>
<p>in case <code>style=="fixed"</code>, breaks should be specified. The <code>breaks</code> argument can also be used when <code>style="cont"</code>. In that case, the breaks are mapped evenly to the sequential or diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_interval.closure">interval.closure</code></td>
<td>
<p>value that determines whether where the intervals are closed: <code>"left"</code> or <code>"right"</code>. Only applicable if <code>col</code> is a numeric variable. If <code>as.count = TRUE</code>, <code>inverval.closure</code> is always set to <code>"left"</code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_palette">palette</code></td>
<td>
<p>a palette name or a vector of colors. See <code>tmaptools::palette_explorer()</code> for the named palettes. Use a <code>"-"</code> as prefix to reverse the palette. The default palette is taken from <code><a href="#topic+tm_layout">tm_layout</a></code>'s argument <code>aes.palette</code>, which typically depends on the style. The type of palette from <code>aes.palette</code> is automatically determined, but can be overwritten: use <code>"seq"</code> for sequential, <code>"div"</code> for diverging, and <code>"cat"</code> for categorical.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_labels">labels</code></td>
<td>
<p>labels of the color classes, applicable if <code>col</code> is a data variable name</p>
</td></tr>
<tr><td><code id="tm_text_+3A_drop.levels">drop.levels</code></td>
<td>
<p>should unused color classes be omitted? <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_labels.text">labels.text</code></td>
<td>
<p>Example text to show in the legend next to the <code>labels</code>. When <code>NA</code> (default), examples from the data variable are taken and <code>"NA"</code> for classes where they don't exist.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_midpoint">midpoint</code></td>
<td>
<p>The value mapped to the middle color of a diverging palette. By default it is set to 0 if negative and positive values are present. In that case, the two sides of the color palette are assigned to negative respectively positive values. If all values are positive or all values are negative, then the midpoint is set to <code>NA</code>, which means that the value that corresponds to the middle color class (see <code>style</code>) is mapped to the middle color. Only applies when <code>col</code> is a numeric variable. If it is specified for sequential color palettes (e.g. <code>"Blues"</code>), then this color palette will be treated as a diverging color palette.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_stretch.palette">stretch.palette</code></td>
<td>
<p>Logical that determines whether the categorical color palette should be stretched if there are more categories than colors. If <code>TRUE</code> (default), interpolated colors are used (like a rainbow). If <code>FALSE</code>, the palette is repeated.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_contrast">contrast</code></td>
<td>
<p>vector of two numbers that determine the range that is used for sequential and diverging palettes (applicable when <code>auto.palette.mapping=TRUE</code>). Both numbers should be between 0 and 1. The first number determines where the palette begins, and the second number where it ends. For sequential palettes, 0 means the brightest color, and 1 the darkest color. For diverging palettes, 0 means the middle color, and 1 both extremes. If only one number is provided, this number is interpreted as the endpoint (with 0 taken as the start).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_colorna">colorNA</code></td>
<td>
<p>colour for missing values. Use <code>NULL</code> for transparency.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_textna">textNA</code></td>
<td>
<p>text used for missing values.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_showna">showNA</code></td>
<td>
<p>logical that determines whether missing values are named in the legend. By default (<code>NA</code>), this depends on the presence of missing values.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_colornull">colorNULL</code></td>
<td>
<p>colour for polygons that are shown on the map that are out of scope</p>
</td></tr>
<tr><td><code id="tm_text_+3A_fontface">fontface</code></td>
<td>
<p>font face of the text labels. By default, determined by the fontface argument of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_fontfamily">fontfamily</code></td>
<td>
<p>font family of the text labels. By default, determined by the fontfamily argument of <code><a href="#topic+tm_layout">tm_layout</a></code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_alpha">alpha</code></td>
<td>
<p>transparency number between 0 (totally transparent) and 1 (not transparent). By default, the alpha value of the <code>fontcolor</code> is used (normally 1).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_case">case</code></td>
<td>
<p>case of the font. Use &quot;upper&quot; to generate upper-case text, &quot;lower&quot; to generate lower-case text, and <code>NA</code> to leave the text as is.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_shadow">shadow</code></td>
<td>
<p>logical that determines whether a shadow is depicted behind the text. The color of the shadow is either white or yellow, depending of the <code>fontcolor</code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_bg.color">bg.color</code></td>
<td>
<p>background color of the text labels. By default, <code>bg.color=NA</code>, so no background is drawn.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_bg.alpha">bg.alpha</code></td>
<td>
<p>number between 0 and 1 that specifies the transparency of the text background (0 is totally transparent, 1 is solid background).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_size.lowerbound">size.lowerbound</code></td>
<td>
<p>lowerbound for <code>size</code>. Only applicable when <code>size</code> is not a constant. If <code>print.tiny</code> is <code>TRUE</code>, then all text labels which relative text is smaller than <code>size.lowerbound</code> are depicted at relative size <code>size.lowerbound</code>. If <code>print.tiny</code> is <code>FALSE</code>, then text labels are only depicted if their relative sizes are at least <code>size.lowerbound</code> (in other words, tiny labels are omitted).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_print.tiny">print.tiny</code></td>
<td>
<p>boolean, see <code>size.lowerbound</code></p>
</td></tr>
<tr><td><code id="tm_text_+3A_scale">scale</code></td>
<td>
<p>text size multiplier, useful in case <code>size</code> is variable or <code>"AREA"</code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_auto.placement">auto.placement</code></td>
<td>
<p>logical (or numeric) that determines whether the labels are placed automatically. If <code>TRUE</code>, the labels are placed next to the coordinate points with as little overlap as possible using the simulated annealing algorithm. Therefore, it is recommended for labeling spatial dots or symbols. If a numeric value is provided, this value acts as a parameter that specifies the distance between the coordinate points and the text labels in terms of text line heights.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_remove.overlap">remove.overlap</code></td>
<td>
<p>logical that determines whether the overlapping labels are removed</p>
</td></tr>
<tr><td><code id="tm_text_+3A_along.lines">along.lines</code></td>
<td>
<p>logical that determines whether labels are rotated along the spatial lines. Only applicable if a spatial lines shape is used.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_overwrite.lines">overwrite.lines</code></td>
<td>
<p>logical that determines whether the part of the lines below the text labels is removed. Only applicable if a spatial lines shape is used.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_just">just</code></td>
<td>
<p>justification of the text relative to the point coordinates. Either one of the following values: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>, or a vector of two values where first value specifies horizontal and the second value vertical justification. Besides the mentioned values, also numeric values between 0 and 1 can be used. 0 means left justification for the first value and bottom justification for the second value. Note that in view mode, only one value is used.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_xmod">xmod</code></td>
<td>
<p>horizontal position modification of the text (relatively): 0 means no modification, and 1 corresponds to the height of one line of text. Either a single number for all polygons, or a numeric variable in the shape data specifying a number for each polygon. Together with <code>ymod</code>, it determines position modification of the text labels. In most coordinate systems (projections), the origin is located at the bottom left, so negative <code>xmod</code> move the text to the left, and negative <code>ymod</code> values to the bottom.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_ymod">ymod</code></td>
<td>
<p>vertical position modification. See xmod.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_title.size">title.size</code></td>
<td>
<p>title of the legend element regarding the text sizes</p>
</td></tr>
<tr><td><code id="tm_text_+3A_title.col">title.col</code></td>
<td>
<p>title of the legend element regarding the text colors</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.size.show">legend.size.show</code></td>
<td>
<p>logical that determines whether the legend for the text sizes is shown</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.col.show">legend.col.show</code></td>
<td>
<p>logical that determines whether the legend for the text colors is shown</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.format">legend.format</code></td>
<td>
<p>list of formatting options for the legend numbers. Only applicable if <code>labels</code> is undefined. Parameters are:
</p>

<dl>
<dt>fun</dt><dd><p>Function to specify the labels. It should take a numeric vector, and should return a character vector of the same size. By default it is not specified. If specified, the list items <code>scientific</code>, <code>format</code>, and <code>digits</code> (see below) are not used.</p>
</dd>
<dt>scientific</dt><dd><p>Should the labels be formatted scientifically? If so, square brackets are used, and the <code>format</code> of the numbers is <code>"g"</code>. Otherwise, <code>format="f"</code>, and <code>text.separator</code>, <code>text.less.than</code>, and <code>text.or.more</code> are used. Also, the numbers are automatically  rounded to millions or billions if applicable.</p>
</dd>
<dt>format</dt><dd><p>By default, <code>"f"</code>, i.e. the standard notation <code>xxx.xxx</code>, is used. If <code>scientific=TRUE</code> then <code>"g"</code>, which means that numbers are formatted scientifically, i.e. <code>n.dddE+nn</code> if needed to save space.</p>
</dd>
<dt>digits</dt><dd><p>Number of digits after the decimal point if <code>format="f"</code>, and the number of significant digits otherwise.</p>
</dd>
<dt>big.num.abbr</dt><dd><p>Vector that defines whether and which abbrevations are used for large numbers. It is a named numeric vector, where the name indicated the abbreviation, and the number the magnitude (in terms on numbers of zero). Numbers are only abbrevation when they are large enough. Set it to <code>NA</code> to disable abbrevations.  The default is <code>c("mln" = 6, "bln" = 9)</code>. For layers where <code>style</code> is set to <code>log10</code> or <code>log10_pretty</code>, the default is <code>NA</code>.</p>
</dd>
<dt>prefix</dt><dd><p>Prefix of each number</p>
</dd>
<dt>suffix</dt><dd><p>Suffix of each number</p>
</dd>
<dt>prefix</dt><dd><p>Prefix of each number</p>
</dd>
<dt>suffix</dt><dd><p>Suffix of each number</p>
</dd>
<dt>text.separator</dt><dd><p>Character string to use to separate numbers in the legend (default: &quot;to&quot;).</p>
</dd>
<dt>text.less.than</dt><dd><p>Character value(s) to use to translate &quot;Less than&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.or.more</dt><dd><p>Character value(s) to use to translate &quot;or more&quot;. When a character vector of length 2 is specified, one for each word, these words are aligned when <code>text.to.columns = TRUE</code></p>
</dd>
<dt>text.align</dt><dd><p>Value that determines how the numbers are aligned, <code>"left"</code>, <code>"center"</code> or <code>"right"</code>. By default <code>"left"</code> for legends in portrait format (<code>legend.is.portrait = TRUE</code>), and <code>"center"</code> otherwise.</p>
</dd>
<dt>text.to.columns</dt><dd><p>Logical that determines whether the text is aligned to three columns (from, text.separator, to). By default <code>FALSE</code>.</p>
</dd>
<dt>html.escape</dt><dd><p>Logical that determins whther HTML code is escaped in the popups in view mode. By default <code>TRUE</code>. If set to <code>FALSE</code> HTML code can be added, e.g. to added white space via <code>&amp;nbsp;</code>.</p>
</dd>
<dt>...</dt><dd><p>Other arguments passed on to <code><a href="base.html#topic+formatC">formatC</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.size.is.portrait">legend.size.is.portrait</code></td>
<td>
<p>logical that determines whether the legend element regarding the text sizes is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.col.is.portrait">legend.col.is.portrait</code></td>
<td>
<p>logical that determines whether the legend element regarding the text colors is in portrait mode (<code>TRUE</code>) or landscape (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.size.reverse">legend.size.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the text sizes are shown in reverse order, i.e. from bottom to top when <code>legend.size.is.portrait = TRUE</code> and from right to left when <code>legend.size.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.col.reverse">legend.col.reverse</code></td>
<td>
<p>logical that determines whether the items of the legend regarding the text colors are shown in reverse order, i.e. from bottom to top when <code>legend.col.is.portrait = TRUE</code> and from right to left when <code>legend.col.is.portrait = FALSE</code></p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.hist">legend.hist</code></td>
<td>
<p>logical that determines whether a histogram is shown regarding the text colors</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.hist.title">legend.hist.title</code></td>
<td>
<p>title for the histogram. By default, one title is used for both the histogram and the normal legend for text colors.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.size.z">legend.size.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the text sizes with respect to other legend elements. The legend elements are stacked according to their z values. The legend element with the lowest z value is placed on top.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.col.z">legend.col.z</code></td>
<td>
<p>index value that determines the position of the legend element regarding the text colors. (See <code>legend.size.z</code>)</p>
</td></tr>
<tr><td><code id="tm_text_+3A_legend.hist.z">legend.hist.z</code></td>
<td>
<p>index value that determines the position of the histogram legend element. (See <code>legend.size.z</code>)</p>
</td></tr>
<tr><td><code id="tm_text_+3A_id">id</code></td>
<td>
<p>name of the data variable that specifies the indices of the text labels. Only used for <code>"view"</code> mode (see <code><a href="#topic+tmap_mode">tmap_mode</a></code>).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_zindex">zindex</code></td>
<td>
<p>zindex of the pane in view mode. By default, it is set to the layer number plus 400. By default, the tmap layers will therefore be placed in the custom panes <code>"tmap401"</code>, <code>"tmap402"</code>, etc., except for the base tile layers, which are placed in the standard <code>"tile"</code>. This parameter determines both the name of the pane and the z-index, which determines the pane order from bottom to top. For instance, if <code>zindex</code> is set to 500, the pane will be named <code>"tmap500"</code>.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_group">group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. Set <code>group = NULL</code> to hide the layer in the layer control item. By default, it will be set to the name of the shape (specified in <code><a href="#topic+tm_shape">tm_shape</a></code>).</p>
</td></tr>
<tr><td><code id="tm_text_+3A_auto.palette.mapping">auto.palette.mapping</code></td>
<td>
<p>deprecated. It has been replaced by <code>midpoint</code> for numeric variables and <code>stretch.palette</code> for categorical variables.</p>
</td></tr>
<tr><td><code id="tm_text_+3A_max.categories">max.categories</code></td>
<td>
<p>deprecated. It has moved to <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+tmap-element">tmap-element</a></code>
</p>


<h3>Note</h3>

<p>The absolute fontsize (in points) is determined by the (ROOT) viewport, which may depend on the graphics device.
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>current.mode &lt;- tmap_mode("plot")

data(World, metro)

tm_shape(World) +
    tm_text("name", size="AREA")

tm_shape(World) +
	tm_text("name", size="pop_est", col="continent", palette="Dark2",
			title.size = "Population", title.col="Continent") +
	tm_legend(outside = TRUE)

tmap_mode("view")

## Not run: 
require(tmaptools)
metro_aus &lt;- crop_shape(metro, bb("Australia"))

tm_shape(metro_aus) +
	tm_dots() +
	tm_text("name", just = "top")

# alternative
tm_shape(metro_aus) +
	tm_markers(text = "name")

## End(Not run)

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_view'>Options for the interactive tmap viewer</h2><span id='topic+tm_view'></span>

<h3>Description</h3>

<p>Set the options for the interactive tmap viewer. Some of these options can also be set with <code><a href="#topic+tm_layout">tm_layout</a></code>, since they are style dependent (e.g., the choice of basemaps). The function <code>tm_view</code> overrides these options when specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_view(
  alpha,
  colorNA,
  projection,
  symbol.size.fixed,
  dot.size.fixed,
  text.size.variable,
  bbox,
  set.bounds,
  set.view,
  set.zoom.limits,
  view.legend.position,
  control.position,
  legend.position,
  leaflet.options
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_view_+3A_alpha">alpha</code></td>
<td>
<p>transparency (opacity) parameter applied to whole map. By default, it is set to <code>0.7</code> if basemaps are used, and <code>1</code> otherwise.</p>
</td></tr>
<tr><td><code id="tm_view_+3A_colorna">colorNA</code></td>
<td>
<p>default color for missing values in interactive mode. If the color of missing values is not defined in the layer functions (e.g. <code><a href="#topic+tm_fill">tm_fill</a></code>), then the default color is taken from the <code>na</code> value of the <code>aes.color</code> argument in <code><a href="#topic+tm_layout">tm_layout</a></code>. This <code>colorNA</code> argument (if not <code>NA</code> itself) overrides that default value. For interactive maps, it can be useful to set <code>colorNA</code> to <code>NULL</code>, which means transparent.</p>
</td></tr>
<tr><td><code id="tm_view_+3A_projection">projection</code></td>
<td>
<p>projection. Either a EPSG number, or a <code>leaflet_crs</code> object created with <code><a href="leaflet.html#topic+leafletCRS">leafletCRS</a></code>. By default, the Web Mercator (3857) is used, since the vast majority of basemaps are rendered accordingly. Other standards are EPSG numbers 4326 (WGS84) and 3395 (Mercator). If set to 0, the projection of the master shape is used (see <code><a href="#topic+tm_shape">tm_shape</a></code>) provided that a EPSG number can be extracted.</p>
</td></tr>
<tr><td><code id="tm_view_+3A_symbol.size.fixed">symbol.size.fixed</code></td>
<td>
<p>should symbol sizes be fixed while zooming?</p>
</td></tr>
<tr><td><code id="tm_view_+3A_dot.size.fixed">dot.size.fixed</code></td>
<td>
<p>should dot sizes be fixed while zooming?</p>
</td></tr>
<tr><td><code id="tm_view_+3A_text.size.variable">text.size.variable</code></td>
<td>
<p>should text size variables be allowed in view mode? By default <code>FALSE</code>, since in many applications, the main reason to vary text size is to prevent occlusion in plot mode, which is often not a problem in view mode due to the ability to zoom in.</p>
</td></tr>
<tr><td><code id="tm_view_+3A_bbox">bbox</code></td>
<td>
<p>bounding box. One of the following:
</p>

<ul>
<li><p> A bounding box (an <code><a href="sf.html#topic+sf">sf</a></code> bbox object, see <code><a href="sf.html#topic+st_bbox">st_bbox</a></code>, or object that can be read by <code><a href="tmaptools.html#topic+bb">bb</a></code>. 
</p>
</li>
<li><p> Open Street Map search query. The bounding is automatically generated by querying <code>q</code> from Open Street Map Nominatim. See <a href="https://wiki.openstreetmap.org/wiki/Nominatim">https://wiki.openstreetmap.org/wiki/Nominatim</a>.</p>
</li></ul>

<p>If set, it overrides <code>set.view</code> and all bbox arguments of <code><a href="#topic+tm_shape">tm_shape</a></code>.</p>
</td></tr>
<tr><td><code id="tm_view_+3A_set.bounds">set.bounds</code></td>
<td>
<p>logical that determines whether maximum bounds are set, or a numeric vector of four values that specify the lng1, lat1, lng2, and lat2 coordinates (see <code><a href="leaflet.html#topic+setMaxBounds">setMaxBounds</a></code>).</p>
</td></tr>
<tr><td><code id="tm_view_+3A_set.view">set.view</code></td>
<td>
<p>numeric vector that determines the view. Either a vector of three: lng, lat, and zoom, or a single value: zoom. See <code><a href="leaflet.html#topic+setView">setView</a></code>. Only applicable if <code>bbox</code> is not specified</p>
</td></tr>
<tr><td><code id="tm_view_+3A_set.zoom.limits">set.zoom.limits</code></td>
<td>
<p>numeric vector of two that set the minimum and maximum zoom levels (see <code><a href="leaflet.html#topic+tileOptions">tileOptions</a></code>).</p>
</td></tr>
<tr><td><code id="tm_view_+3A_view.legend.position">view.legend.position</code></td>
<td>
<p>Character vector of two values, specifying the position of the legend. Use &quot;left&quot; or &quot;right&quot; for the first value and &quot;top&quot; or &quot;bottom&quot; for the second value. It overrides the value of <code>legend.position</code> of <code><a href="#topic+tm_layout">tm_layout</a></code>, unless set to <code>NA</code>.</p>
</td></tr>
<tr><td><code id="tm_view_+3A_control.position">control.position</code></td>
<td>
<p>Character vector of two values, specifying the position of the layer control UI. Use &quot;left&quot; or &quot;right&quot; for the first value and &quot;top&quot; or &quot;bottom&quot; for the second value.</p>
</td></tr>
<tr><td><code id="tm_view_+3A_legend.position">legend.position</code></td>
<td>
<p>not used anymore, renamed to view.legend.position</p>
</td></tr>
<tr><td><code id="tm_view_+3A_leaflet.options">leaflet.options</code></td>
<td>
<p>other options passed on via <code><a href="leaflet.html#topic+leaflet">leafletOptions</a></code> to leaflet.js map creation (see <a href="https://leafletjs.com/">leaflet</a>, follow Docs, Map, Creation). Named list, where the names correspond to the variable names. Tip: use <code>zoomSnap</code> and <code>zoomDelta</code> for fractional zooming.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># world choropleth/bubble map of the world
data(World, metro)
metro$growth &lt;- (metro$pop2020 - metro$pop2010) / (metro$pop2010 * 10) * 100

map1 &lt;- tm_shape(metro) +
	tm_bubbles("pop2010", col = "growth", 
		border.col = "black", border.alpha = .5, 
		style="fixed", breaks=c(-Inf, seq(0, 6, by=2), Inf),
		palette="-RdYlBu", contrast=1, 
		title.size="Metro population", 
		title.col="Growth rate (%)", id="name", 
		    popup.vars=c("pop2010", "pop2020", "growth")) + 
	tm_legend(outside=TRUE)

current.mode &lt;- tmap_mode("plot")

# plot map
map1

# view map with default view options
tmap_mode("view")
map1

# view map with changed view options
map1 + tm_view(set.view = c(7, 51, 4)) # longitude 7, latitude 51, zoom 4

# interactive world map in original CRS
tm_shape(World) +tm_polygons("HPI") + tm_view(projection = 0) + tm_basemap(NULL)

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tm_xlab'>Axis labels</h2><span id='topic+tm_xlab'></span><span id='topic+tm_ylab'></span>

<h3>Description</h3>

<p>Add axis labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm_xlab(text, size = 0.8, rotation = 0, space = 0)

tm_ylab(text, size = 0.8, rotation = 90, space = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tm_xlab_+3A_text">text</code></td>
<td>
<p>text for the axis</p>
</td></tr>
<tr><td><code id="tm_xlab_+3A_size">size</code></td>
<td>
<p>fontsize, by default 0.8</p>
</td></tr>
<tr><td><code id="tm_xlab_+3A_rotation">rotation</code></td>
<td>
<p>rotation angle in degrees. By default, 0 for the x axis label and 90 for the y axis label.</p>
</td></tr>
<tr><td><code id="tm_xlab_+3A_space">space</code></td>
<td>
<p>space between labels and the map in numbers of line heights. By default, it is 0, unless grid labels are plotted outside the frame (i.e., <code><a href="#topic+tm_grid">tm_grid</a></code> is called with <code>labels.inside.frame = FALSE</code>). In that case, <code>space</code> corresponds to the height of one line, taking the grid label size into account.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data(World)

qtm(World, fill="#FFF8DC", projection=4326, inner.margins=0) +
	tm_grid(x = seq(-180, 180, by=20), y=seq(-90,90,by=10), col = "gray70") +
	tm_xlab("Longitude") +
	tm_ylab("Latitude")
</code></pre>

<hr>
<h2 id='tmap_animation'>Create animation</h2><span id='topic+tmap_animation'></span>

<h3>Description</h3>

<p>Create a gif animation or video from a tmap plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_animation(
  tm,
  filename = NULL,
  width = NA,
  height = NA,
  dpi = NA,
  delay = 40,
  fps = NA,
  loop = TRUE,
  outer.margins = NA,
  asp = NULL,
  scale = NA,
  restart.delay = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_animation_+3A_tm">tm</code></td>
<td>
<p>tmap or a list of tmap objects. If <code>tm</code> is a tmap object, facets should be created, where nrow and ncol in <code><a href="#topic+tm_facets">tm_facets</a></code> have to be set to 1 in order to create one map per frame.</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_filename">filename</code></td>
<td>
<p>filename. If omitted (default), the animation will be shown in the viewer or browser. If specified, it should be a gif file or a video file (i.e. mp4). The package <code>gifski</code> is required to create a gif animation. The package <code>av</code> (which uses the <code>FFmpeg</code> library) is required for video formats. The mp4 format is recommended but many other video formats are supported, such as wmv, avi, and mkv.</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_width">width</code>, <code id="tmap_animation_+3A_height">height</code></td>
<td>
<p>width and height of the animation file (in pixels). Required when <code>tm</code> is a list, and recommended to specify in advance when <code>tm</code> is a <code>tmap</code> object. If not specified in the latter case, it will be determined by the aspect ratio of the map.</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_dpi">dpi</code></td>
<td>
<p>dots per inch. By default 100, but this can be set with the option <code>output.dpi.animation</code> in <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_delay">delay</code></td>
<td>
<p>delay time between images (in 1/100th of a second). See also <code>fps</code></p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_fps">fps</code></td>
<td>
<p>frames per second, calculated as <code>100 / delay</code>. If <code>fps</code> is specified, the <code>delay</code> will be set to <code>100/fps</code>.</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_loop">loop</code></td>
<td>
<p>logical that determined whether the animation is looped, or an integer value that determines how many times the animation is looped.</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_outer.margins">outer.margins</code></td>
<td>
<p>(passed on to <code><a href="#topic+tmap_save">tmap_save</a></code>) overrides the outer.margins argument of <code><a href="#topic+tm_layout">tm_layout</a></code> (unless set to <code>NA</code>)</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_asp">asp</code></td>
<td>
<p>(passed on to <code><a href="#topic+tmap_save">tmap_save</a></code>) if specified, it overrides the asp argument of <code><a href="#topic+tm_layout">tm_layout</a></code>. Tip: set to <code>0</code> if map frame should be placed on the edges of the image.</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_scale">scale</code></td>
<td>
<p>(passed on to <code><a href="#topic+tmap_save">tmap_save</a></code>) overrides the scale argument of <code><a href="#topic+tm_layout">tm_layout</a></code> (unless set to <code>NA</code>)</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_restart.delay">restart.delay</code></td>
<td>
<p>not used anymore</p>
</td></tr>
<tr><td><code id="tmap_animation_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="av.html#topic+av_encode_video">av_encode_video</a></code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>Not only tmap plots are supported, but any series of R plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(NLD_prov)

m1 &lt;- tm_shape(NLD_prov) + 
	      tm_polygons("yellow") +
	  tm_facets(along = "name")

tmap_animation(m1, delay=40)

data(World, metro)

m2 &lt;- tm_shape(World, projection = "+proj=eck4", simplify = 0.5) +
          tm_fill() +
      tm_shape(metro) + 
          tm_bubbles(size = paste0("pop", seq(1970, 2030, by=10)),
          		   col = "purple",
          		   border.col = "black", border.alpha = .5,
          		   scale = 2) +
      tm_facets(free.scales.symbol.size = FALSE, nrow=1,ncol=1) + 
      tm_format("World")

tmap_animation(m2, delay=100, outer.margins = 0)

m3 &lt;- lapply(seq(50, 85, by = 5), function(age) {
	World$at_most &lt;- World$life_exp &lt;= age
	World_sel &lt;- World[which((World$life_exp &lt;= age) &amp; (World$life_exp &gt; (age - 5))), ]
	tm_shape(World) +
		tm_polygons("at_most", palette = c("gray95", "gold"), legend.show = FALSE) +
		tm_shape(World_sel) +
		tm_text("name", size = "AREA", root = 5, remove.overlap = TRUE) +
		tm_layout(main.title = paste0("Life expectency at most ", age), frame = FALSE)
})

tmap_animation(m3, width = 1200, height = 600, delay = 100)

m4 &lt;- tm_shape(World) +
	tm_polygons() +
tm_shape(metro) +
	tm_bubbles(col = "red") +
	tm_text("name", ymod = -1) +
tm_facets(by = "name", free.coords = F, nrow = 1, ncol = 1) +
	tm_layout(panel.show = FALSE, frame = FALSE)

tmap_animation(m4, filename = "World_cities.mp4", 
    width=1200, height = 600, fps = 2, outer.margins = 0)

## End(Not run)
</code></pre>

<hr>
<h2 id='tmap_arrange'>Arrange small multiples in grid layout</h2><span id='topic+tmap_arrange'></span><span id='topic+knit_print.tmap_arrange'></span><span id='topic+print.tmap_arrange'></span>

<h3>Description</h3>

<p>Arrange small multiples in a grid layout. Normally, small multiples are created by specifying multiple variables for one aesthetic or by specifying the by argument (see <code><a href="#topic+tm_facets">tm_facets</a></code>). This function can be used to arrange custom small multiples in a grid layout.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_arrange(
  ...,
  ncol = NA,
  nrow = NA,
  widths = NA,
  heights = NA,
  sync = FALSE,
  asp = 0,
  outer.margins = 0.02
)

knit_print.tmap_arrange(x, ..., options = NULL)

## S3 method for class 'tmap_arrange'
print(x, knit = FALSE, ..., options = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_arrange_+3A_...">...</code></td>
<td>
<p><code><a href="#topic+tmap">tmap</a></code> objects or one list of <code><a href="#topic+tmap">tmap</a></code> objects. The number of multiples that can be plot is limited (see details).</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_ncol">ncol</code></td>
<td>
<p>number of columns</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_nrow">nrow</code></td>
<td>
<p>number of rows</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_widths">widths</code></td>
<td>
<p>vector of column widths. It should add up to 1 and the length should be equal to <code>ncol</code></p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_heights">heights</code></td>
<td>
<p>vector of row heights. It should add up to 1 and the length should be equal to <code>nrow</code></p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_sync">sync</code></td>
<td>
<p>logical. Should the navigation in view mode (zooming and panning) be synchronized? By default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_asp">asp</code></td>
<td>
<p>aspect ratio. The aspect ratio of each map. Normally, this is controlled by the <code>asp</code> argument from <code><a href="#topic+tm_layout">tm_layout</a></code> (also a tmap option). This argument will overwrite it, unless set to <code>NULL</code>. The default value for <code>asp</code> is 0, which means that the aspect ratio is adjusted to the size of the device divided by the number of columns and rows. When <code>asp</code> is set to <code>NA</code>, which is also the default value for <code><a href="#topic+tm_layout">tm_layout</a></code>, the aspect ratio will be adjusted to the used shapes.</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_outer.margins">outer.margins</code></td>
<td>
<p>outer.margins, numeric vector four or a single value. If defines the outer margins for each multiple. If will overwrite the <code>outer.margins</code> argument from <code><a href="#topic+tm_layout">tm_layout</a></code>, unless set to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_x">x</code></td>
<td>
<p>a <code>tmap_arrange</code> object (returned from <code>tmap_arrange</code>)</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_options">options</code></td>
<td>
<p>options passed on to knitprint</p>
</td></tr>
<tr><td><code id="tmap_arrange_+3A_knit">knit</code></td>
<td>
<p>should <code><a href="knitr.html#topic+knit_print">knit_print</a></code> be enabled, or the normal <code><a href="base.html#topic+print">print</a></code> function?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The global option <code>tmap.limits</code> controls the limit of the number of facets that are plotted. By default, <code>tmap_options(tmap.limits=c(facets.view=4, facets.plot=64))</code>. The maximum number of interactive facets is set to four since otherwise it may become very slow.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(World)
w1 &lt;- qtm(World, projection = "+proj=eck4", title="Eckert IV")
w2 &lt;- qtm(World, projection = 3857, title="Mercator")
w3 &lt;- qtm(World, projection = "+proj=gall", title="Gall stereographic")
w4 &lt;- qtm(World, projection = "+proj=robin", title="Robinsin")

current.mode &lt;- tmap_mode("plot")
tmap_arrange(w1, w2, w3, w4, widths = c(.25, .75))
tmap_mode(current.mode)

## End(Not run)
</code></pre>

<hr>
<h2 id='tmap_design_mode'>Set the design mode</h2><span id='topic+tmap_design_mode'></span>

<h3>Description</h3>

<p>When the so-called &quot;design mode&quot; is enabled, inner and outer margins, legend position, and aspect ratio are shown explicitly in plot mode. Also, information about aspect ratios is printed in the console. This function sets the global option 'tmap.design.mode'. It can be used as toggle function without arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_design_mode(design.mode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_design_mode_+3A_design.mode">design.mode</code></td>
<td>
<p>logical value that determines the design mode. If omitted then the design mode is toggled.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tmap_options">tmap_options</a></code>
</p>

<hr>
<h2 id='tmap_format'>Get or add format options</h2><span id='topic+tmap_format'></span><span id='topic+tmap_format_add'></span>

<h3>Description</h3>

<p>Format options are tmap options that are shape dependent. With <code>tmap_format()</code> the predefined formats can be retrieved. The values for a specific format can be retrieved with <code>tmap_format(format)</code>, where format is the name of the format. The function <code>tmap_format_add</code> is used to add a format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_format(format)

tmap_format_add(..., name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_format_+3A_format">format</code></td>
<td>
<p>name of the format. Run <code>tmap_format()</code> to see the choices.</p>
</td></tr>
<tr><td><code id="tmap_format_+3A_...">...</code></td>
<td>
<p>options from <code><a href="#topic+tm_layout">tm_layout</a></code> or <code><a href="#topic+tm_view">tm_view</a></code>. Can also be a list of those options.</p>
</td></tr>
<tr><td><code id="tmap_format_+3A_name">name</code></td>
<td>
<p>name of the new format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the function <code>tmap_format()</code> returns the names of the available formats. When <code>format</code> is defined, it returns the option list corresponding the that format.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tm_layout">tm_layout</a></code> for predefined styles, <code><a href="#topic+tmap_style_catalogue">tmap_style_catalogue</a></code> to create a style catalogue of all available styles, and <code><a href="#topic+tmap_options">tmap_options</a></code> for tmap options.
</p>
<p><code><a href="#topic+tmap_options">tmap_options</a></code> for tmap options
</p>


<h3>Examples</h3>

<pre><code class='language-R'># available formats
tmap_format()

# create option list to be used as a new format
World_small &lt;- tmap_format("World")
World_small$scale &lt;- 2

# add format
tmap_format_add(World_small, name = "World_small")

# observe that World_small is successfully added:
tmap_format()

data(World)

qtm(World, fill="HPI", format="World_small")
</code></pre>

<hr>
<h2 id='tmap_grob'>Export to grob object</h2><span id='topic+tmap_grob'></span>

<h3>Description</h3>

<p>Export a tmap plot object to a grob object (from the grid package).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_grob(tm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_grob_+3A_tm">tm</code></td>
<td>
<p>tmap object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grob object when one page is generated, or a list of grob objects when multiple pages are generated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
	
data(World)
m &lt;- tm_shape(World) +
	tm_fill("well_being", id="name", title="Well-being")

grb = tmap_grob(m)

library(grid)

grid.newpage()
pushViewport(viewport(x = 0.1, y = 0.1, width = 0.2, height = 0.2))
grid.draw(grb)
upViewport()
pushViewport(viewport(x = 0.6, y = 0.6, width = 0.8, height = 0.8))
grid.draw(grb)
	

## End(Not run)
</code></pre>

<hr>
<h2 id='tmap_icons'>Specify icons</h2><span id='topic+tmap_icons'></span><span id='topic+marker_icon'></span>

<h3>Description</h3>

<p>Specifies icons from a png images, which can be used as markers in thematic maps. The function <code>marker_icon</code> is the specification of the default marker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_icons(
  file,
  width = 48,
  height = 48,
  keep.asp = TRUE,
  just = c("center", "center"),
  as.local = TRUE,
  ...
)

marker_icon()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_icons_+3A_file">file</code></td>
<td>
<p>character value/vector containing the file path(s) or url(s).</p>
</td></tr>
<tr><td><code id="tmap_icons_+3A_width">width</code></td>
<td>
<p>width of the icon. If <code>keep.asp</code>, this is interpreted as the maximum width.</p>
</td></tr>
<tr><td><code id="tmap_icons_+3A_height">height</code></td>
<td>
<p>height of the icon. If <code>keep.asp</code>, this is interpreted as the maximum height.</p>
</td></tr>
<tr><td><code id="tmap_icons_+3A_keep.asp">keep.asp</code></td>
<td>
<p>keep the aspect ratio of the png image. If <code>TRUE</code> and the aspect ratio differs from <code>width/height</code> either <code>width</code> or <code>height</code> is adjusted accordingly.</p>
</td></tr>
<tr><td><code id="tmap_icons_+3A_just">just</code></td>
<td>
<p>justification of the icons relative to the point coordinates.  The first value specifies horizontal and the second value vertical justification. Possible values are: <code>"left"</code> , <code>"right"</code>, <code>"center"</code>, <code>"bottom"</code>, and <code>"top"</code>. Numeric values of 0 specify left alignment and 1 right alignment. The default value of <code>just</code> is <code>c("center", "center")</code>.</p>
</td></tr>
<tr><td><code id="tmap_icons_+3A_as.local">as.local</code></td>
<td>
<p>if the <code>file</code> is a url, should it be saved to local temporary file?</p>
</td></tr>
<tr><td><code id="tmap_icons_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="leaflet.html#topic+icons">icons</a></code>. When <code>iconWidth</code>, <code>iconHeight</code>, <code>iconAnchorX</code> and <code>iconAnchorY</code> are specified, they override <code>width</code> and <code>height</code>, and <code>just</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>icon data (see <code><a href="leaflet.html#topic+icons">icons</a></code>)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tm_symbols">tm_symbols</a></code>
</p>

<hr>
<h2 id='tmap_last'>Retrieve the last map to be modified or created</h2><span id='topic+tmap_last'></span>

<h3>Description</h3>

<p>Retrieve the last map to be modified or created. Works in the same way as <code>ggplot2</code>'s <code><a href="ggplot2.html#topic+last_plot">last_plot</a></code>, although there is a difference: <code>last_map</code> returns the last call instead of the stacked <code><a href="#topic+tmap-element">tmap-element</a>s</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_last()
</code></pre>


<h3>Value</h3>

<p>call
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tmap_save">tmap_save</a></code>
</p>

<hr>
<h2 id='tmap_leaflet'>Create a leaflet widget from a tmap object</h2><span id='topic+tmap_leaflet'></span>

<h3>Description</h3>

<p>Create a leaflet widget from a tmap object. An interactive map (see <code><a href="#topic+tmap_mode">tmap_mode</a></code>) is an automatically generated leaflet widget. With this function, this leaflet widget is obtained, which can then be changed or extended by using leaflet's own methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_leaflet(
  x,
  mode = "view",
  show = FALSE,
  add.titles = TRUE,
  in.shiny = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_leaflet_+3A_x">x</code></td>
<td>
<p>tmap object. A tmap object is created with <code><a href="#topic+qtm">qtm</a></code> or by stacking <code><a href="#topic+tmap-element">tmap-element</a></code>s.</p>
</td></tr>
<tr><td><code id="tmap_leaflet_+3A_mode">mode</code></td>
<td>
<p>the mode of tmap, which is set to <code>"view"</code> in order to obtain the leaflet object. See <code><a href="#topic+tmap_mode">tmap_mode</a></code> for details.</p>
</td></tr>
<tr><td><code id="tmap_leaflet_+3A_show">show</code></td>
<td>
<p>should the leaflet map be shown? <code>FALSE</code> by default</p>
</td></tr>
<tr><td><code id="tmap_leaflet_+3A_add.titles">add.titles</code></td>
<td>
<p>add titles to leaflet object</p>
</td></tr>
<tr><td><code id="tmap_leaflet_+3A_in.shiny">in.shiny</code></td>
<td>
<p>is the leaflet output going to be used in shiny? If so, two features are not supported and therefore disabled: facets and colored backgrounds.</p>
</td></tr>
<tr><td><code id="tmap_leaflet_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="#topic+print.tmap">print.tmap</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="leaflet.html#topic+leaflet">leaflet</a></code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tmapOutput">tmapOutput</a></code> for tmap in Shiny, <code><a href="#topic+tmap_mode">tmap_mode</a></code>, <code><a href="#topic+tm_view">tm_view</a></code>, <code><a href="#topic+print.tmap">print.tmap</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># world choropleth/bubble map of the world
data(World, metro)
metro$growth &lt;- (metro$pop2020 - metro$pop2010) / (metro$pop2010 * 10) * 100

map1 &lt;- tm_shape(metro) +
	tm_bubbles("pop2010", col = "growth", 
			   border.col = "black", border.alpha = .5, 
			   style="fixed", breaks=c(-Inf, seq(0, 6, by=2), Inf),
			   palette="-RdYlBu", contrast=1, 
			   title.size="Metro population", 
			   title.col="Growth rate (%)", id="name") + 
	tm_layout(legend.bg.color = "grey90", legend.bg.alpha=.5, legend.frame=TRUE)


lf &lt;- tmap_leaflet(map1)

# show leaflet widget
lf

# add marker
require(leaflet)
lf %&gt;% leaflet::addMarkers(2.2945, 48.8582, popup = "Eiffel tower")

## Not run: 
# alternative
eiffelTower &lt;- geocode_OSM("Eiffel Tower, Paris", as.SPDF = TRUE)

map1 + 
tm_shape(eiffelTower) +
	tm_markers()

## End(Not run)
</code></pre>

<hr>
<h2 id='tmap_mode'>Set tmap mode to static plotting or interactive viewing</h2><span id='topic+tmap_mode'></span><span id='topic+ttm'></span><span id='topic+ttmp'></span>

<h3>Description</h3>

<p>Set tmap mode to static plotting or interactive viewing. The global option <code>tmap.mode</code> determines the whether thematic maps are plot in the graphics device, or shown as an interactive leaflet map (see also <code><a href="#topic+tmap_options">tmap_options</a></code>. The function <code>tmap_mode</code> is a wrapper to set this global option. The convenient function <code>ttm</code>, which stands for toggle thematic map, is a toggle switch between the two modes. The function <code>ttmp</code> stands for toggle thematic map and print last map: it does the same as <code>ttm</code> followed by <code>tmap_last</code>; in order words, it shows the last map in the other mode. It is recommended to use <code>tmap_mode</code> in scripts and <code>ttm</code>/<code>ttmp</code> in the console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_mode(mode = c("plot", "view"))

ttm()

ttmp()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_mode_+3A_mode">mode</code></td>
<td>
<p>one of
</p>

<dl>
<dt><code>"plot"</code></dt><dd><p>Thematic maps are shown in the graphics device. This is the default mode, and supports all tmap's features, such as small multiples (see <code><a href="#topic+tm_facets">tm_facets</a></code>) and extensive layout settings (see <code><a href="#topic+tm_layout">tm_layout</a></code>). It is recommended for saving static maps (see <code><a href="#topic+tmap_save">tmap_save</a></code>).</p>
</dd> 
<dt><code>"view"</code></dt><dd><p>Thematic maps are viewed interactively in the web browser or RStudio's Viewer pane. Maps are fully interactive with tiles from OpenStreetMap or other map providers (see <code><a href="#topic+tm_tiles">tm_tiles</a></code>). See also <code><a href="#topic+tm_view">tm_view</a></code> for options related to the <code>"view"</code> mode. This mode generates a <code><a href="leaflet.html#topic+leaflet">leaflet</a></code> widget, which can also be directly obtained with <code><a href="#topic+tmap_leaflet">tmap_leaflet</a></code>. With RMarkdown, it is possible to publish it to an HTML page. 
There are a couple of constraints in comparison to <code>"plot"</code>:
</p>

<ul>
<li><p> The map is always projected according to the Web Mercator projection. Although this projection is the de facto standard for interactive web-based mapping, it lacks the equal-area property, which is important for many thematic maps, especially choropleths (see examples from <code><a href="#topic+tm_shape">tm_shape</a></code>).
</p>
</li>
<li><p> Small multiples are not supported
</p>
</li>
<li><p> The legend cannot be made for aesthetics regarding size, which are symbol size and line width.
</p>
</li>
<li><p> Text labels are not supported (yet)
</p>
</li>
<li><p> The layout options set with <code><a href="#topic+tm_layout">tm_layout</a></code>) regarding map format are not used. However, the styling options still apply.</p>
</li></ul>

</dd></dl>
</td></tr>
</table>


<h3>Value</h3>

<p>the mode before changing
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>, <code><a href="#topic+tmap_last">tmap_last</a></code> to show the last map, <code><a href="#topic+tm_view">tm_view</a></code> for viewing options, and <code><a href="#topic+tmap_leaflet">tmap_leaflet</a></code> for obtaining a leaflet widget, and <code><a href="#topic+tmap_options">tmap_options</a></code> for tmap options.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># world choropleth/bubble map of the world
data(World, metro)
metro$growth &lt;- (metro$pop2020 - metro$pop2010) / (metro$pop2010 * 10) * 100

map1 &lt;- tm_shape(World) +
	tm_polygons("income_grp", palette="-Blues", contrast=.7, id="name", title="Income group") +
	tm_shape(metro) +
	tm_bubbles("pop2010", col = "growth", 
		border.col = "black", border.alpha = .5, 
		style="fixed", breaks=c(-Inf, seq(0, 6, by=2), Inf),
		palette="-RdYlBu", contrast=1, 
		title.size="Metro population", 
		title.col="Growth rate (%)", id="name",
		popup.vars = c("pop2010", "pop2020", "growth")) + 
	tm_layout(legend.bg.color = "grey90", legend.bg.alpha=.5, legend.frame=TRUE)

# initial mode: "plot"
current.mode &lt;- tmap_mode("plot")

# plot map
map1

# switch to other mode: "view"
ttm()

# view map
map1

## Not run: 
# choropleth of the Dutch population in interactive mode:
require(tmaptools)
data(NLD_muni, NLD_prov)
NLD_muni$pop_dens &lt;- calc_densities(NLD_muni, var = "population")

tm_shape(NLD_muni) +
	tm_fill(col="pop_dens", 
		style="kmeans", 
		title = "Population (per km^2)", id = "name") +
	tm_borders("grey25", alpha=.5) + 
	tm_shape(NLD_prov) +
	tm_borders("grey40", lwd=2)

## End(Not run)

# restore current mode
tmap_mode(current.mode)
</code></pre>

<hr>
<h2 id='tmap_options'>Options for tmap</h2><span id='topic+tmap_options'></span><span id='topic+tmap_options_diff'></span><span id='topic+tmap_options_reset'></span><span id='topic+tmap_options_save'></span>

<h3>Description</h3>

<p>Get or set global options for tmap. The behaviour of <code>tmap_options</code> is similar to <code><a href="base.html#topic+options">options</a></code>: all tmap options are retrieved when this function is called without arguments. When arguments are specified, the corresponding options are set, and the old values are silently returned as a list. The function <code>tmap_options_reset</code> is used to reset all options back to the default values (also the <code>style</code> is reset to <code>"white"</code>). Differences with the default values can be shown with <code>tmap_options_diff</code>. The function <code>tmap_options_save</code> can be used to save the current options as a new style. See details below on how to create a new style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_options(
  ...,
  unit,
  limits,
  max.categories,
  max.raster,
  basemaps,
  basemaps.alpha,
  overlays,
  overlays.alpha,
  qtm.scalebar,
  qtm.minimap,
  qtm.mouse.coordinates,
  show.messages,
  show.warnings,
  output.format,
  output.size,
  output.dpi,
  output.dpi.animation,
  design.mode = NULL,
  check.and.fix
)

tmap_options_diff()

tmap_options_reset()

tmap_options_save(style)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_options_+3A_...">...</code></td>
<td>
<p>options from <code><a href="#topic+tm_layout">tm_layout</a></code> or <code><a href="#topic+tm_view">tm_view</a></code>. Note that the difference with using <code><a href="#topic+tm_layout">tm_layout</a></code> or <code><a href="#topic+tm_view">tm_view</a></code> directly, is that options set with <code>tmap_options</code> remain for the entire session (unless changed with <code>tmap_options</code> or <code><a href="#topic+tmap_style">tmap_style</a></code>). It can also be a single unnamed argument which is a named list of options (similar behaviour as <code><a href="base.html#topic+options">options</a></code>).</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_unit">unit</code></td>
<td>
<p>this is the default value for the <code>unit</code> argument of <code><a href="#topic+tm_shape">tm_shape</a></code>. It specifies the unit of measurement, which is used in the scale bar and the calculation of density values. By default (when loading the package), it is <code>"metric"</code>. Other valid values are <code>"imperial"</code>, <code>"km"</code>, <code>"m"</code>, <code>"mi"</code>, and <code>"ft"</code>.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_limits">limits</code></td>
<td>
<p>this option determines how many facets (small multiples) are allowed for per mode. It should be a vector of two numeric values named <code>facets.view</code> and <code>facets.plot</code>. By default (i.e. when loading the package), it is set to <code>c(facets.view = 4, facets.plot = 64)</code></p>
</td></tr>
<tr><td><code id="tmap_options_+3A_max.categories">max.categories</code></td>
<td>
<p>in case <code>col</code> is the name of a categorical variable in the layer functions (e.g. <code><a href="#topic+tm_polygons">tm_polygons</a></code>), this value determines how many categories (levels) it can have maximally. If the number of levels is higher than <code>max.categories</code>, then levels are combined.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_max.raster">max.raster</code></td>
<td>
<p>the maximum size of rasters, in terms of number of raster cells. It should be a vector of two numeric values named <code>plot</code> and <code>view</code>, which determines the size in plotting and viewing mode. The default values are <code>c(plot = 1e7, view = 1e6)</code>. Rasters that are larger will be shown at a decreased resolution.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_basemaps">basemaps</code></td>
<td>
<p>default basemaps. Basemaps are normally configured with <code><a href="#topic+tm_basemap">tm_basemap</a></code>. When this is not done, the basemaps specified by this option are shown (in view mode). Vector of one or more names of baselayer maps, or <code>NULL</code> if basemaps should be omitted. For options see the list <code>leaflet::providers</code>, which can be previewed at <a href="https://leaflet-extras.github.io/leaflet-providers/preview/">https://leaflet-extras.github.io/leaflet-providers/preview/</a>. Also supports URL's for tile servers, such as <code>"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"</code>. If a named vector is provided, the names are used in the layer control legend (similar to the <code>group</code> argument of <code><a href="#topic+tm_basemap">tm_basemap</a></code>. See also <code>overlays</code>, which is the default option for overlay tiles.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_basemaps.alpha">basemaps.alpha</code></td>
<td>
<p>default transparency (opacity) value for the basemaps. Can be a vector of values, one for each basemap.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_overlays">overlays</code></td>
<td>
<p>default overlay tilemaps. Overlays tilemaps are shown as front layer (in contrast to basemaps, which are background layers), so they are only useful when they are semi-transparent. Like basemaps, a vector of tilemaps is expected, or <code>NULL</code> is overlays should be omitted.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_overlays.alpha">overlays.alpha</code></td>
<td>
<p>default transparency (opacity) value for the overlay maps. Can be a vector of values, one for each overlay map.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_qtm.scalebar">qtm.scalebar</code></td>
<td>
<p>should a scale bar be added to interactive maps created with <code><a href="#topic+qtm">qtm</a></code>. In other words, should <code>tm_scale_bar()</code> be added automatically? The value <code>NA</code> means that the scale bar is only added when <code><a href="#topic+qtm">qtm</a></code> is called without arguments or with a search term. The default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_qtm.minimap">qtm.minimap</code></td>
<td>
<p>should a minimap be added to interactive maps created with <code><a href="#topic+qtm">qtm</a></code>. In other words, should <code>tm_minimap()</code> be added automatically? The default value is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_qtm.mouse.coordinates">qtm.mouse.coordinates</code></td>
<td>
<p>should mouse coordinates (and zoom level) be shown in view mode with <code><a href="#topic+qtm">qtm</a></code>? In other words, should <code>tm_mouse_coordinates()</code> be added automatically? <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_show.messages">show.messages</code></td>
<td>
<p>should messages be shown?</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_show.warnings">show.warnings</code></td>
<td>
<p>should warnings be shown?</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_output.format">output.format</code></td>
<td>
<p>The format of the static maps saved with <code><a href="#topic+tmap_save">tmap_save</a></code> without specification of the filename. The default is <code>"png"</code>.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_output.size">output.size</code></td>
<td>
<p>The size of the static maps saved with <code><a href="#topic+tmap_save">tmap_save</a></code> without specification of width and height. The unit is squared inch and the default is 49. This means that square maps (so with aspect ratio 1) will be saved as 7 by 7 inch images and a map with aspect ratio 2 (e.g. most world maps) will be saved as approximately 10 by 5 inch.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_output.dpi">output.dpi</code></td>
<td>
<p>The default number of dots per inch for <code><a href="#topic+tmap_save">tmap_save</a></code>.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_output.dpi.animation">output.dpi.animation</code></td>
<td>
<p>The default number of dots per inch for <code><a href="#topic+tmap_animation">tmap_animation</a></code>.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_design.mode">design.mode</code></td>
<td>
<p>Not used anymore; the design mode can now be set with <code><a href="#topic+tmap_design_mode">tmap_design_mode</a></code></p>
</td></tr>
<tr><td><code id="tmap_options_+3A_check.and.fix">check.and.fix</code></td>
<td>
<p>Logical that determines whether shapes (<code>sf</code> objects) are checked for validity with <code><a href="sf.html#topic+st_is_valid">st_is_valid</a></code> and fixed with <code><a href="sf.html#topic+st_make_valid">st_make_valid</a></code> if needed.</p>
</td></tr>
<tr><td><code id="tmap_options_+3A_style">style</code></td>
<td>
<p>style name</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The options can be divided into three parts: one part contains the arguments from <code><a href="#topic+tm_layout">tm_layout</a></code>, one part contains the arguments from <code><a href="#topic+tm_view">tm_view</a></code>, and one part contains options that can only be set with <code>tmap_options</code>. Observe that the options from <code><a href="#topic+tm_layout">tm_layout</a></code> and <code><a href="#topic+tm_view">tm_view</a></code> can also be set with those functions. It is recommended to use <code>tmap_options</code> when setting specific options during global session. However, options that are only relevant for a specific map can better be set with <code><a href="#topic+tm_layout">tm_layout</a></code> or <code><a href="#topic+tm_view">tm_view</a></code>.
</p>
<p>A new style can be created in two ways. The first approach is to use the function <code>tmap_options_save</code>, which takes a snapshot of the current tmap options. E.g., <code>tmap_options_save("my_style")</code> will save the current tmap options as a style called <code>"my_style"</code>. See the examples in which a style called <code>"red"</code> is created. The second way to create a style is to create a list with tmap options and with a attribute called style. This approach is illustrated in the last example, in which a style called <code>"black"</code> is created.
</p>
<p>The newly created style, say <code>"my_style"</code>, will be accessible globally via <code>tmap_style("my_style")</code> and <code>+ tm_style("my_style")</code> until the R session is restarted or <code>tmap</code> is reloaded. In order to save the style for future use or sharing, obtain the option list as follows: <code>my_style &lt;- tmap_options()</code> and save the object <code>my_style</code> in the usual way. Next time, the style can be loaded simply by running <code>tmap_options(my_style)</code>, which corresponds to the second way to create a style (see the paragraph above).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tm_layout">tm_layout</a></code>, <code><a href="#topic+tm_view">tm_view</a></code>, and <code><a href="#topic+tmap_style">tmap_style</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load data
data(World)

# get current options
str(tmap_options())

# get current style
tmap_style()

# plot map (with default options)
tm_shape(World) + tm_polygons("HPI")

# change style to cobalt
tmap_style("cobalt")

# observe the changed options
tmap_options_diff()

# plot the map again
tm_shape(World) + tm_polygons("HPI")

##############################
# define red style
##############################

# change the background color
tmap_options(bg.color = "red")

# note that the current style is modified
tmap_style()

# observe the changed options
tmap_options_diff()

# save the current options as style "red"
tmap_options_save("red")

# plot the map again
tm_shape(World) + tm_polygons("HPI")

# the specified arguments of tm_layout and tm_view will override the options temporarily:
tm_shape(World) + tm_polygons("HPI") + tm_layout(bg.color="purple")

# when tm_style_ is called, it will override all options temporarily:
tm_shape(World) + tm_polygons("HPI") + tm_layout(bg.color="purple") + tm_style("classic")

# reset all options
tmap_options_reset()

# check style and options
tmap_style()
tmap_options_diff()

##############################
# define black style
##############################

# create style list with style attribute
black_style  &lt;- structure(
    list(
		bg.color = "black",
		aes.color = c(fill = "grey40", borders = "grey40", 
					  symbols = "grey80", dots = "grey80", 
		              lines = "white", text = "white", 
					  na = "grey30", null = "grey15"),
		aes.palette = list(seq = "plasma", div = "PiYG", cat = "Dark2"),
		attr.color = "white",
		panel.label.color = "white",
		panel.label.bg.color = "grey40",
		main.title.color = "white"
	),
	style = "black"
)

# assign the style
tmap_options(black_style)

# observe that "black" is a new style
tmap_style()

# plot the world map again, this time with the newly created black style
tm_shape(World) +
	tm_polygons("HPI")

# reset all options
tmap_options_reset()
</code></pre>

<hr>
<h2 id='tmap_save'>Save tmap</h2><span id='topic+tmap_save'></span>

<h3>Description</h3>

<p>Save tmap to a file. This can be either a static plot (e.g. png) or an interactive map (html).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_save(
  tm = NULL,
  filename = NA,
  device = NULL,
  width = NA,
  height = NA,
  units = NA,
  dpi = NA,
  outer.margins = NA,
  asp = NULL,
  scale = NA,
  insets_tm = NULL,
  insets_vp = NULL,
  add.titles = TRUE,
  in.iframe = FALSE,
  selfcontained = !in.iframe,
  verbose = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_save_+3A_tm">tm</code></td>
<td>
<p>tmap object</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_filename">filename</code></td>
<td>
<p>filename including extension, and optionally the path. The extensions pdf, eps, svg, wmf (Windows only), png, jpg, bmp, tiff, and html are supported. If the extension is missing, the file will be saved as a static plot in <code>"plot"</code> mode and as an interactive map (html) in <code>"view"</code> mode (see details). The default format for static plots is png, but this can be changed using the option <code>"output.format"</code> in <code><a href="#topic+tmap_options">tmap_options</a></code>. If <code>NA</code> (the default), the file is saved as &quot;tmap01&quot; in the default format, and the number incremented if the file already exists.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_device">device</code></td>
<td>
<p>graphic device to use. Either a device function (e.g., <code><a href="grDevices.html#topic+png">png</a></code> or <code><a href="grDevices.html#topic+cairo_pdf">cairo_pdf</a></code>) or a text indicating selected graphic device: &quot;pdf&quot;, &quot;eps&quot;, &quot;svg&quot;, &quot;wmf&quot; (Windows only), &quot;png&quot;, &quot;jpg&quot;, &quot;bmp&quot;, &quot;tiff&quot;. If NULL, the graphic device is guessed based on the <code>filename</code> argument.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_height">height</code>, <code id="tmap_save_+3A_width">width</code></td>
<td>
<p>The width and height of the plot (not applicable for html files). Units are set with the argument <code>units</code>. If one of them is not specified, this is calculated using the formula asp = width / height, where asp is the estimated aspect ratio of the map. If both are missing, they are set such that width * height is equal to the option <code>"output.size"</code> in <code><a href="#topic+tmap_options">tmap_options</a></code>. This is by default 49, meaning that is the map is a square (so aspect ratio of 1) both width and height are set to 7.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_units">units</code></td>
<td>
<p>units for width and height (<code>"in"</code>, <code>"cm"</code>, or <code>"mm"</code>). By default, pixels (<code>"px"</code>) are used if either width or height is set to a value greater than 50. Else, the units are inches (<code>"in"</code>)</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_dpi">dpi</code></td>
<td>
<p>dots per inch. Only applicable for raster graphics. By default it is set to 300, but this can be changed using the option <code>"output.dpi"</code> in <code><a href="#topic+tmap_options">tmap_options</a></code>.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_outer.margins">outer.margins</code></td>
<td>
<p>overrides the outer.margins argument of <code><a href="#topic+tm_layout">tm_layout</a></code> (unless set to <code>NA</code>)</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_asp">asp</code></td>
<td>
<p>if specified, it overrides the asp argument of <code><a href="#topic+tm_layout">tm_layout</a></code>. Tip: set to <code>0</code> if map frame should be placed on the edges of the image.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_scale">scale</code></td>
<td>
<p>overrides the scale argument of <code><a href="#topic+tm_layout">tm_layout</a></code> (unless set to <code>NA</code>)</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_insets_tm">insets_tm</code></td>
<td>
<p>tmap object of an inset map, or a list of tmap objects of multiple inset maps. The number of tmap objects should be equal to the number of viewports specified with <code>insets_vp</code>.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_insets_vp">insets_vp</code></td>
<td>
<p><code><a href="grid.html#topic+viewport">viewport</a></code> of an inset map, or a list of <code><a href="grid.html#topic+viewport">viewport</a></code>s of multiple inset maps. The number of viewports should be equal to the number of tmap objects specified with <code>insets_tm</code>.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_add.titles">add.titles</code></td>
<td>
<p>add titles to leaflet object</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_in.iframe">in.iframe</code></td>
<td>
<p>should an interactive map be saved as an iframe? If so, two HTML files will be saved; one small parent HTML file with the iframe container, and one large child HTML file with the actual widget. See <code><a href="widgetframe.html#topic+saveWidgetframe">saveWidgetframe</a></code> for details. By default <code>FALSE</code> which means that one large HTML file is saved (see <code><a href="htmlwidgets.html#topic+saveWidget">saveWidget</a></code>).</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_selfcontained">selfcontained</code></td>
<td>
<p>when an interactive map is saved, should the resources (e.g. Javascript libraries) be contained in the HTML file? If <code>FALSE</code>, they are placed in an adjacent directory (see also <code><a href="htmlwidgets.html#topic+saveWidget">saveWidget</a></code>). Note that the HTML file will often still be large when <code>selfcontained = FALSE</code>, since the map data (polygons and popups), which are also contained in the HTML file, usually take more space then the map resources.</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_verbose">verbose</code></td>
<td>
<p>Deprecated. It is now controlled by the tmap option <code>show.messages</code> (see <code><a href="#topic+tmap_options">tmap_options</a></code>)</p>
</td></tr>
<tr><td><code id="tmap_save_+3A_...">...</code></td>
<td>
<p>arguments passed on to device functions or to <code><a href="htmlwidgets.html#topic+saveWidget">saveWidget</a></code> or <code><a href="widgetframe.html#topic+saveWidgetframe">saveWidgetframe</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
	data(NLD_muni, NLD_prov)
	m &lt;- tm_shape(NLD_muni) +
		     tm_fill(col="population", convert2density=TRUE, 
                 style="kmeans", 
                 title=expression("Population (per " * km^2 * ")")) +
		     tm_borders("black", alpha=.5) + 
		 tm_shape(NLD_prov) +
		     tm_borders("grey25", lwd=2) +
		tm_style("classic") +
		tm_format("NLD", inner.margins = c(.02, .15, .06, .15)) + 
	    tm_scale_bar(position = c("left", "bottom")) +
	    tm_compass(position=c("right", "bottom"))
	
	tmap_save(m, "choropleth.png", height = 7) # height interpreted in inches
	tmap_save(m, "choropleth_icon.png", height = 100, scale = .1) # height interpreted in pixels
	
	data(World)
	m2 &lt;- tm_shape(World) +
		tm_fill("well_being", id="name", title="Well-being") +
		tm_format("World")

	# save image
	tmap_save(m2, "World_map.png", width=1920, height=1080, asp=0)

	# cut left inner margin to make sure Antarctica is snapped to frame
	tmap_save(m2 + tm_layout(inner.margins = c(0, -.1, 0.05, 0.01)), 
        "World_map2.png", width=1920, height=1080, asp=0)
	
	# save interactive plot
	tmap_save(m2, "World_map.html")

## End(Not run)
</code></pre>

<hr>
<h2 id='tmap_style'>Set or get the default tmap style</h2><span id='topic+tmap_style'></span>

<h3>Description</h3>

<p>Set or get the default tmap style. Without arguments, the current style is returned. Also the available styles are displayed. When a style is set, the corresponding tmap options  (see <code><a href="#topic+tmap_options">tmap_options</a></code>) will be set accordingly. The default style (i.e. when loading the package) is <code>"white"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_style(style)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_style_+3A_style">style</code></td>
<td>
<p>name of the style. When omitted, <code>tmap_style</code> returns the current style and also shows all available styles. When the style is specified, <code>tmap_style</code> sets the style accordingly. Note that in that case, all tmap options (see <code><a href="#topic+tmap_options">tmap_options</a></code>) will be reset according to the style definition. See <code><a href="#topic+tm_layout">tm_layout</a></code> for predefined styles, and <code><a href="#topic+tmap_style_catalogue">tmap_style_catalogue</a></code> for creating a catalogue.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that <code><a href="#topic+tm_style">tm_style</a></code> is used within a plot call (so it only affects that plot), whereas <code>tmap_style</code> sets the style globally.
</p>
<p>After loading a style, the options that defined this style (i.e. the difference with the default <code>"white"</code> style) can be obtained by <code><a href="#topic+tmap_options_diff">tmap_options_diff</a></code>.
</p>
<p>The documentation of <code><a href="#topic+tmap_options">tmap_options</a></code> (details and the examples) shows how a new style is created.
</p>


<h3>Value</h3>

<p>the style before changing
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tmap_options">tmap_options</a></code> for tmap options, and <code><a href="#topic+tmap_style_catalogue">tmap_style_catalogue</a></code> to create a style catalogue of all available styles.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(World)

current.style &lt;- tmap_style("classic")
qtm(World, fill="life_exp", fill.title="Life expectancy")

tmap_style("cobalt")
qtm(World, fill="life_exp", fill.title="Life expectancy")

# restore current style
tmap_style(current.style)
</code></pre>

<hr>
<h2 id='tmap_style_catalogue'>Create a style catalogue</h2><span id='topic+tmap_style_catalogue'></span><span id='topic+tmap_style_catalog'></span>

<h3>Description</h3>

<p>Create a style catalogue for each predefined tmap style. The result is a set of png images, one for each style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_style_catalogue(path = "./tmap_style_previews", styles = NA)

tmap_style_catalog(path = "./tmap_style_previews", styles = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_style_catalogue_+3A_path">path</code></td>
<td>
<p>path where the png images are stored</p>
</td></tr>
<tr><td><code id="tmap_style_catalogue_+3A_styles">styles</code></td>
<td>
<p>vector of styles function names (see <code><a href="#topic+tmap_style">tmap_style</a></code>) for which a preview is generated. By default, a preview is generated for all loaded styles.</p>
</td></tr>
</table>

<hr>
<h2 id='tmap_tip'>Get a tip about tmap</h2><span id='topic+tmap_tip'></span>

<h3>Description</h3>

<p>Generates a tip with an example. The tip and example code are printed, and the example itself is executed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tmap_tip(from.version = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tmap_tip_+3A_from.version">from.version</code></td>
<td>
<p>version number. Only tips regarding features from this version are shown.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tmap_tip()
tmap_tip(from.version = "3.0")
</code></pre>

<hr>
<h2 id='tmap-element'>tmap element</h2><span id='topic+tmap-element'></span>

<h3>Description</h3>

<p>Building block for drawing thematic maps. All element functions have the prefix <code>tm_</code>.
</p>


<h3>Details</h3>

<p>The fundamental, and hence required element is <code><a href="#topic+tm_shape">tm_shape</a></code>, which specifies the shape object, and also specifies the projection and bounding box.
</p>
<p>The elements that serve as aesthetics layers are
</p>
<p>Base layers:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_polygons">tm_polygons</a></code></td><td style="text-align: left;"> Create a polygon layer (with borders) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_symbols">tm_symbols</a></code></td><td style="text-align: left;"> Create a layer of symbols </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_lines">tm_lines</a></code></td><td style="text-align: left;"> Create a layer of lines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_raster">tm_raster</a></code></td><td style="text-align: left;"> Create a raster layer </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_text">tm_text</a></code></td><td style="text-align: left;"> Create a layer of text labels </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_basemap">tm_basemap</a></code></td><td style="text-align: left;"> Create a layer of basemap tiles </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_tiles">tm_tiles</a></code></td><td style="text-align: left;"> Create a layer of overlay tiles </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Derived layers:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_fill">tm_fill</a></code></td><td style="text-align: left;"> Create a polygon layer (without borders) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_borders">tm_borders</a></code></td><td style="text-align: left;"> Create polygon borders </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_bubbles">tm_bubbles</a></code></td><td style="text-align: left;"> Create a layer of bubbles </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_squares">tm_squares</a></code></td><td style="text-align: left;"> Create a layer of squares </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_dots">tm_dots</a></code></td><td style="text-align: left;"> Create a layer of dots </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_markers">tm_markers</a></code></td><td style="text-align: left;"> Create a layer of markers </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_iso">tm_iso</a></code></td><td style="text-align: left;"> Create a layer of iso/contour lines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_rgb">tm_rgb</a></code></td><td style="text-align: left;"> Create a raster layer of an image </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The layers can be stacked by simply adding them with the + symbol. The combination of the elements described above form one group. Multiple groups can be stacked. Each group should start with <code><a href="#topic+tm_shape">tm_shape</a></code>.
</p>
<p>Attributes layers:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_grid">tm_grid</a></code></td><td style="text-align: left;"> Create grid lines </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_scale_bar">tm_scale_bar</a></code></td><td style="text-align: left;"> Create a scale bar </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_compass">tm_compass</a></code></td><td style="text-align: left;"> Create a map compass </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_credits">tm_credits</a></code></td><td style="text-align: left;"> Create a text for credits </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_logo">tm_logo</a></code></td><td style="text-align: left;"> Create a logo </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_xlab">tm_xlab</a> and <a href="#topic+tm_ylab">tm_ylab</a></code></td><td style="text-align: left;"> Create axis labels </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_minimap">tm_minimap</a></code></td><td style="text-align: left;"> Create a minimap (view mode only) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Layout element:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_layout">tm_layout</a></code></td><td style="text-align: left;"> Adjust the layout (main function)</td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_legend">tm_legend</a></code></td><td style="text-align: left;"> Adjust the legend </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_view">tm_view</a></code></td><td style="text-align: left;"> Configure the interactive view mode </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_style">tm_style</a></code></td><td style="text-align: left;"> Apply a predefined style </td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+tm_format">tm_format</a></code></td><td style="text-align: left;"> Apply a predefined format </td>
</tr>
<tr>
 <td style="text-align: left;">
--------------------------- </td><td style="text-align: left;"> --------------------------------------------------------------------------------------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>
</p>
<p>The examples in each of the element functions
</p>

<hr>
<h2 id='World'>World and Netherlands map</h2><span id='topic+World'></span><span id='topic+NLD_prov'></span><span id='topic+NLD_muni'></span>

<h3>Description</h3>

<p>Maps of the world and the Netherlands (province and municipality level), class <code><a href="sf.html#topic+sf">sf</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(World)

data(NLD_prov)

data(NLD_muni)
</code></pre>


<h3>Details</h3>

<p>The default projections for these maps are Eckhart IV (World) and Rijksdriehoekstelsel (Netherlands). See below. The projection can be changed temporarily for plotting purposes by using the projection argument of <code><a href="#topic+tm_shape">tm_shape</a></code> (or <code><a href="#topic+qtm">qtm</a></code>).
</p>
<p><code>World</code> World map. The default projection for this world map is Eckhart IV since area sizes are preserved, which is a very important property for choropleths.
</p>
<p><code>NLD_prov</code> and <code>NLD_muni</code>, maps of the Netherlands at province and municipality level of 2013. The used projection is the Rijksdriehoekstelsel projection. <strong>Important:</strong> publication of these maps is only allowed when cited to Statistics Netherlands (CBS) and Kadaster Nederland as source.
</p>


<h3>Source</h3>

<p><a href="https://www.naturalearthdata.com/">https://www.naturalearthdata.com/</a> for <code>World</code>
</p>
<p><a href="https://happyplanetindex.org/">https://happyplanetindex.org/</a> for <code>World</code>
</p>
<p><a href="https://www.cbs.nl/">https://www.cbs.nl/</a> for <code>NLD_prov</code> and <code>NLD_muni</code>.
</p>


<h3>References</h3>

<p>Statistics Netherlands (2014), The Hague/Heerlen, Netherlands, <a href="https://www.cbs.nl/">https://www.cbs.nl/</a>.
</p>
<p>Kadaster, the Netherlands' Cadastre, Land Registry, and Mapping Agency (2014), Apeldoorn, Netherlands, <a href="https://www.kadaster.nl/">https://www.kadaster.nl/</a>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ILSM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ILSM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#build_net'><p>Generating tripartite network</p></a></li>
<li><a href='#coid'><p>Correlation of Interaction Degree: CoID</p></a></li>
<li><a href='#cois'><p>Correlation of Interaction Similarity for Shared species: CoIS</p></a></li>
<li><a href='#hc'><p>Counting the degree hub of multilayer network</p></a></li>
<li><a href='#icmotif_count'><p>Calculating the number of 48 motifs</p></a></li>
<li><a href='#icmotif_role'><p>Analyzing role of interconnecting node in motifs</p></a></li>
<li><a href='#igraph_from_matrices'><p>Transforming matrices into network</p></a></li>
<li><a href='#Multi_motif'><p>Defined multilayer motifs</p></a></li>
<li><a href='#node_cv'><p>Measuring node versatility of multilayer network</p></a></li>
<li><a href='#null_model'><p>Null model of multilayer network</p></a></li>
<li><a href='#pc'><p>Participation ratio of interconnecting code</p></a></li>
<li><a href='#poc'><p>Proportion of interconnection</p></a></li>
<li><a href='#PPH_Coltparkmeadow'><p>A pollinator-plant-herbivore network from Villa-Galaviz et. al. 2020. Journal of Animal Ecology</p></a></li>
<li><a href='#role_sim'><p>Similarity of roles of interconnecting species</p></a></li>
<li><a href='#subnet_cor'><p>Correlation of the Structural indices between Subnetworks</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Analyze Interconnection Structure of Multilayer Interaction
Networks</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3.2</td>
</tr>
<tr>
<td>Description:</td>
<td>
    In view of the analysis of the structural characteristics of the multilayer network has been complete, however, there is still a lack of a unified operation that can quickly obtain the corresponding characteristics of the multilayer network. 
    To solve this insufficiency, 'ILSM' was designed for supporting calculating such metrics of multilayer networks by functions of this R package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, Matrix, igraph</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-04 07:28:42 UTC; Admin</td>
</tr>
<tr>
<td>Author:</td>
<td>WeiCheng Sun [aut, cre],
  Chuan Yan [aut],
  Yangyang Zhao [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>WeiCheng Sun &lt;sunwch2023@lzu.edu.cn&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-04 08:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='build_net'>Generating tripartite network</h2><span id='topic+build_net'></span>

<h3>Description</h3>

<p>Generating a network of three layers. All layers of network contain <code>lay_0</code>, <code>lay_1</code> and <code>lay_2</code> nodes respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_net(lay_0, lay_1, lay_2, C_lay, asmatrices = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="build_net_+3A_lay_0">lay_0</code></td>
<td>
<p>The number of nodes in the first layer.</p>
</td></tr>
<tr><td><code id="build_net_+3A_lay_1">lay_1</code></td>
<td>
<p>The number of nodes in the second layer.</p>
</td></tr>
<tr><td><code id="build_net_+3A_lay_2">lay_2</code></td>
<td>
<p>The number of nodes in the third layer.</p>
</td></tr>
<tr><td><code id="build_net_+3A_c_lay">C_lay</code></td>
<td>
<p>The probability of each node interact with the other one. It ranges from 0 to 1.</p>
</td></tr>
<tr><td><code id="build_net_+3A_asmatrices">asmatrices</code></td>
<td>
<p>Logical. whether to output the overall adjacency matrix of the network and the corresponding interaction matrix of the respective subnetworks. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return a tripatite network of direction. The network contains three groups of species and interactions within layers, and there is no link among each group of nodes within one layer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,15,16,0.2)
plot(d)

set.seed(12)
N &lt;- build_net(11,15,16,0.2,asmatrices=FALSE)
N

</code></pre>

<hr>
<h2 id='coid'>Correlation of Interaction Degree: CoID</h2><span id='topic+coid'></span>

<h3>Description</h3>

<p>Calculating correlation of interaction degree among subnetworks (&quot;CoID_~&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coid(network.or.subnet_mat1, subnet_mat2 = NULL, weighted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coid_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="coid_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
<tr><td><code id="coid_+3A_weighted">weighted</code></td>
<td>
<p>Logical. should elements of matrix be fractional? Default to FALSE. Generally, 'igraph' network represent a spare matrix, so <code>weighted</code> is FALSE. While elements of matrix represent interaction strength, <code>weighted</code> is TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>weighted</strong>
</p>
<p>If the <code>weighted</code> = FALSE, the input for the parameter can be:
</p>
<ul>
<li><p><code>network.or.subnet_mat1</code>: input a 'igraph' of network data independently or input sparse matrix together with <code>subnet_mat2</code>.</p>
</li></ul>

<p>If the <code>weighted</code> = TRUE, the input for the parameter can be:
</p>
<ul>
<li><p><code>network.or.subnet_mat1</code>: must input matrix(or data.frame) together with <code>subnet_mat2</code>. the matrix can be sparse matrix and matrix of interaction strength.</p>
</li></ul>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>When the two matrices can have different numbers of rows:
</p>

<ul>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li></ul>

</li>
<li><p>When the two matrices can have the same numbers of rows:
</p>

<ul>
<li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).
</p>
</li></ul>

</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Return a numeric value representing correlation of interaction degree: CoID.
</p>
<p>If <code>weighted</code> = FALSE, the results will show &quot;CoID= ;&quot; and If <code>weighted</code> = TRUE, the results will show &quot;CoID_weight= ;&quot;
</p>


<h3>References</h3>

<p>Sauve, A. M., Thébault, E., Pocock, M. J., &amp; Fontaine, C. (2016). How plants connect pollination and herbivory networks and their contribution to community stability. Ecology, 97(4), 908-917.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,15,17,0.2)
coid(d)

md1&lt;-matrix(sample(c(0,1),110,replace=TRUE),10,11)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
coid(md1,md2)
coid(md1,md2,weighted=TRUE)

md1&lt;-matrix(sample(c(0,1),80,replace=TRUE),8,10)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
coid(md1,md2)

mdw1&lt;-matrix(runif(110,0,1),10,11)
mdw2&lt;-matrix(runif(120,0,1),10,12)
coid(mdw1,mdw2,weighted=TRUE)

set.seed(1)
mdw1&lt;-matrix(runif(80,0,1),8,10)
mdw2&lt;-matrix(runif(120,0,1),10,12)
coid(mdw1,mdw2,weighted=TRUE)


</code></pre>

<hr>
<h2 id='cois'>Correlation of Interaction Similarity for Shared species: CoIS</h2><span id='topic+cois'></span>

<h3>Description</h3>

<p>Calculating correlation of interaction similarity for shared species(&quot;COis_ ~&quot;) in two subnetworks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cois(network.or.subnet_mat1, subnet_mat2 = NULL, weighted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cois_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="cois_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
<tr><td><code id="cois_+3A_weighted">weighted</code></td>
<td>
<p>Logical. should elements of matrix be fractional? Default to FALSE. Generally, 'igraph' network represent a spare matrix, so <code>weighted</code> is FALSE. While elements of matrix represent interaction strength, <code>weighted</code> is TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>weighted</strong>
</p>
<p>If the <code>weighted</code> = FALSE, the input for the parameter can be:
</p>
<ul>
<li><p><code>network.or.subnet_mat1</code>: input a 'igraph' of network data independently or input sparse matrix together with <code>subnet_mat2</code>.</p>
</li></ul>

<p>If the <code>weighted</code> = TRUE, the input for the parameter can be:
</p>
<ul>
<li><p><code>network.or.subnet_mat1</code>: must input matrix(or data.frame) together with <code>subnet_mat2</code>. the matrix can be sparse matrix and matrix of interaction strength.</p>
</li></ul>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>When the two matrices can have different numbers of rows:
</p>

<ul>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li></ul>

</li>
<li><p>When the two matrices can have the same numbers of rows:
</p>

<ul>
<li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).
</p>
</li></ul>

</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Return a numeric value representing correlation of interaction similarity for shared species among subnetworks .
</p>
<p>If <code>weighted</code> = FALSE, the results will show &quot;CoIS= ;&quot; and If <code>weighted</code> = TRUE, the results will show &quot;CoIS_weight= ;&quot;
</p>


<h3>References</h3>

<p>Sauve, A. M., Thébault, E., Pocock, M. J., &amp; Fontaine, C. (2016). How plants connect pollination and herbivory networks and their contribution to community stability. Ecology, 97(4), 908-917.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,15,17,0.2)
cois(d)

md1&lt;-matrix(sample(c(0,1),110,replace=TRUE),10,11)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
cois(md1,md2)
cois(md1,md2,weighted=TRUE)

md1&lt;-matrix(sample(c(0,1),80,replace=TRUE),8,10)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
cois(md1,md2)

mdw1&lt;-matrix(runif(110,0,1),10,11)
mdw2&lt;-matrix(runif(120,0,1),10,12)
cois(mdw1,mdw2,weighted=TRUE)

set.seed(1)
mdw1&lt;-matrix(runif(80,0,1),8,10)
mdw2&lt;-matrix(runif(120,0,1),10,12)
cois(mdw1,mdw2,weighted=TRUE)


</code></pre>

<hr>
<h2 id='hc'>Counting the degree hub of multilayer network</h2><span id='topic+hc'></span>

<h3>Description</h3>

<p>This function counts degree hub that the proportion of interconnecting species serving as the core node of the network degree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hc(network.or.subnet_mat1, subnet_mat2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hc_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="hc_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Print a &quot;hc= ;&quot; and Return a numeric value representing the degree hub of network.
</p>


<h3>References</h3>

<p>Battiston, F., Nicosia, V. &amp; Latora, V. (2014) Structural measures for multiplex networks. Physical Review E, 89, 032804.
</p>
<p>Domínguez-García, V., &amp; Kéfi, S. (2024). The structure and robustness of ecological networks with two interaction types. PLOS Computational Biology, 20(1), e1011770.
</p>
<p>Guimera, R. &amp; Amaral, L.A.N. (2005) Cartography of complex networks: modules and universal roles. Journal of Statistical Mechanics: Theory and Experiment, 2005, P02001.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(15)
d &lt;- build_net(11,15,17,0.2)
hc(d)

md1&lt;-matrix(sample(c(0,1),80,replace=TRUE),8,10)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
hc(md1,md2)

mdw1&lt;-matrix(sample(c(rep(0,60),runif(60,0,1))),12,10)
mdw2&lt;-matrix(sample(c(rep(0,40),runif(80,0,1))),10,12)
hc(mdw1,mdw2)

</code></pre>

<hr>
<h2 id='icmotif_count'>Calculating the number of 48 motifs</h2><span id='topic+icmotif_count'></span>

<h3>Description</h3>

<p>Calculating the number of 48 motifs from a tripartite interaction network.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icmotif_count(network.or.subnet_mat1, subnet_mat2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icmotif_count_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="icmotif_count_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>When the two matrices can have different numbers of rows:
</p>

<ul>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li></ul>

</li>
<li><p>When the two matrices can have the same numbers of rows:
</p>

<ul>
<li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).
</p>
</li></ul>

</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Return a numeric vector with the number of 48 motifs: M111, M112, M113, M114, M211, M212, M213, M311, M312, M411, M121_1, M122_1, M122_2, M122_3,
M123_1, M123_2, M123_3, M123_4, M123_5, M221_1, M221_2, M221_3, M222_1, M222_2, M222_3, M222_4, M222_5, M222_6, M222_7, M222_8, M222_8, M321_1, M321_2,
M321_3, M321_4, M321_5, M131, M132-1, M132-2, M132-3, M132-4, M132-5, M231-1, M231-2, M231-3, M231-4, M231-5, M141.
</p>


<h3>References</h3>

<p>Pilosof, S., Porter, M. A., Pascual, M., &amp; Kéfi, S. (2017). The multilayer nature of ecological networks. Nature Ecology &amp; Evolution, 1(4), 0101.
</p>
<p>Simmons, B. I., Sweering, M. J., Schillinger, M., Dicks, L. V., Sutherland, W. J., &amp; Di Clemente, R. (2019). bmotif: A package for motif analyses of bipartite networks. Methods in Ecology and Evolution, 10(5), 695-701.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,22,21,0.2)
m &lt;- icmotif_count(d)
m

set.seed(12)
d &lt;- build_net(11,22,21,0.2,asmatrices=TRUE)

MAT&lt;-d
icmotif_count(MAT[[3]],MAT[[4]])

md1&lt;-matrix(sample(c(0,1),120,replace=TRUE),8,15)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
icmotif_count(md1,md2)

R&lt;-rownames(MAT[[4]])[12]
MR&lt;-MAT[[4]][12,]
MAT[[4]]&lt;-MAT[[4]][-12,]
MAT[[4]]&lt;-rbind(MAT[[4]],MR)
rownames(MAT[[4]])[22]&lt;-R

icmotif_count(MAT[[3]],MAT[[4]])


</code></pre>

<hr>
<h2 id='icmotif_role'>Analyzing role of interconnecting node in motifs</h2><span id='topic+icmotif_role'></span>

<h3>Description</h3>

<p>Counting the number of 70 roles about interconnecting species in multilayer network motifs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icmotif_role(network.or.subnet_mat1, subnet_mat2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icmotif_role_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="icmotif_role_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>When the two matrices can have different numbers of rows:
</p>

<ul>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li></ul>

</li>
<li><p>When the two matrices can have the same numbers of rows:
</p>

<ul>
<li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).
</p>
</li></ul>

</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Returns a matrix of 70 columns representing the roles of interconnecting species in the motifs. Columns names are Role1, Role2, Role3 ... Role70.
</p>
<p>Each row of matrix corresponds to a interconnecting species in the second layer of network. If a interconnecting species is linked to both the second and third level species, the elements in this row are not all zero, otherwise the elements are all zero.
</p>


<h3>References</h3>

<p>Simmons, B. I., Sweering, M. J., Schillinger, M., Dicks, L. V., Sutherland, W. J., &amp; Di Clemente, R. (2019). bmotif: A package for motif analyses of bipartite networks. Methods in Ecology and Evolution, 10(5), 695-701.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,22,21,0.2)
icmotif_role(d)

set.seed(12)
MAT &lt;- build_net(11,22,21,0.2,asmatrices=TRUE)

icmotif_role(MAT[[3]],MAT[[4]])

md1&lt;-matrix(sample(c(0,1),88,replace=TRUE),8,11)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
icmotif_role(md1,md2)

R&lt;-rownames(MAT[[4]])[12]
MR&lt;-MAT[[4]][12,]
MAT[[4]]&lt;-MAT[[4]][-12,]
MAT[[4]]&lt;-rbind(MAT[[4]],MR)
rownames(MAT[[4]])[22]&lt;-R

icmotif_role(MAT[[3]],MAT[[4]])


</code></pre>

<hr>
<h2 id='igraph_from_matrices'>Transforming matrices into network</h2><span id='topic+igraph_from_matrices'></span>

<h3>Description</h3>

<p>Two matrices contain three groups of tropical level species. A multilayer network can be transformed from existing matrices data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>igraph_from_matrices(mat1, mat2, isDirected1 = TRUE, isDirected2 = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="igraph_from_matrices_+3A_mat1">mat1</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="igraph_from_matrices_+3A_mat2">mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="igraph_from_matrices_+3A_isdirected1">isDirected1</code></td>
<td>
<p>Logical. Whether the interaction between the two groups of species in <code>mat1</code> is unidirectional.Default to TRUE, such as Predation and Herbivory. Otherwise it is bidirectional, such as Mutualism.</p>
</td></tr>
<tr><td><code id="igraph_from_matrices_+3A_isdirected2">isDirected2</code></td>
<td>
<p>Logical. Whether the interaction between the two groups of species in <code>mat2</code> is unidirectional.Default to TRUE, such as Predation and Herbivory. Otherwise it is bidirectional, such as Mutualism.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>mat1</strong> and <strong>mat2</strong>
</p>
<p>The type of inputting is data frame or matrix, please make sure the row of <code>mat1</code> and <code>mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>When the two matrices can have different numbers of rows:
</p>

<ul>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li></ul>

</li>
<li><p>When the two matrices can have the same numbers of rows:
</p>

<ul>
<li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).
</p>
</li></ul>

</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>The columns of <code>mat1</code> and <code>mat2</code> could be empty. If empty, the function also defaults to the suggested assignment.
</p>


<h3>Value</h3>

<p>Return a network of type &quot;igraph&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
MAT &lt;- build_net(11,22,21,0.2,asmatrices=TRUE)
MAT[[1]]

tmat&lt;-t(MAT[[3]])
colnames(tmat)&lt;-NULL
igraph_from_matrices(MAT[[3]],MAT[[4]])
M &lt;- igraph_from_matrices(tmat,MAT[[4]])
M
</code></pre>

<hr>
<h2 id='Multi_motif'>Defined multilayer motifs</h2><span id='topic+Multi_motif'></span>

<h3>Description</h3>

<p>Acquiring each or all of 48 motifs of definition of multilayer network.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Multi_motif(
  type = c("M111", "M112", "M113", "M114", "M211", "M212", "M213", "M311", "M312",
    "M411", "M121", "M122-1", "M122-2", "M122-3", "M123-1", "M123-2", "M123-3", "M123-4",
    "M123-5", "M221-1", "M221-2", "M221-3", "M222-1", "M222-2", "M222-3", "M222-4",
    "M222-5", "M222-6", "M222-7", "M222-8", "M222-9", "M321-1", "M321-2", "M321-3",
    "M321-4", "M321-5", "M131", "M132-1", "M132-2", "M132-3", "M132-4", "M132-5",
    "M231-1", "M231-2", "M231-3", "M231-4", "M231-5", "M141", "all")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Multi_motif_+3A_type">type</code></td>
<td>
<p>Character. 49 values representing each and all types of multilayer motifs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>type</code> is one of 48 motifs of definition, function returns a corresponding motif of &quot;igraph&quot;.
</p>
<p>If <code>type</code> is &quot;all&quot;, function returns a list containing 48 corresponding motifs of &quot;igraph&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
type&lt;-c("M111","M112","M113","M114","M211","M212","M213","M311",
"M312","M411","M121","M122-1","M122-2","M122-3","M123-1",
"M123-2","M123-3","M123-4","M123-5","M221-1","M221-2",
"M221-3","M222-1","M222-2","M222-3","M222-4","M222-5",
"M222-6","M222-7","M222-8","M222-9","M321-1","M321-2",
"M321-3","M321-4","M321-5","M131","M132-1","M132-2",
"M132-3","M132-4","M132-5","M231-1","M231-2","M231-3",
"M231-4","M231-5","M141")

m&lt;-Multi_motif("M222-4")
plot(m,main="M222-4")

mr &lt;- par(mfrow=c(6,8),mar=c(1,1,3,1))
for(i in 1:48){
    plot(Multi_motif("all")[[i]],
    vertex.size=30, vertex.label=NA,
    vertex.color="blue",main=type[i])
}
par(mr)

</code></pre>

<hr>
<h2 id='node_cv'>Measuring node versatility of multilayer network</h2><span id='topic+node_cv'></span>

<h3>Description</h3>

<p>The versatility of nodes is revealed by several centrality measures that have now been applied to multilayer networks, such as Degree, Pagerank, Hub, Authority, Katz, Eigenvector, and Closeness centrality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>node_cv(
  network.or.subnet_mat1,
  subnet_mat2 = NULL,
  isDirected1 = TRUE,
  isDirected2 = TRUE,
  type = c("degree", "pagerank", "hub", "authority", "katz", "eigenvector", "closeness",
    "all")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="node_cv_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="node_cv_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
<tr><td><code id="node_cv_+3A_isdirected1">isDirected1</code></td>
<td>
<p>Logical. Whether the interaction between the two groups of species in <code>mat1</code> is unidirectional.Default to TRUE, such as Predation and Herbivory. Otherwise it is bidirectional, such as Mutualism.</p>
</td></tr>
<tr><td><code id="node_cv_+3A_isdirected2">isDirected2</code></td>
<td>
<p>Logical. Whether the interaction between the two groups of species in <code>mat2</code> is unidirectional.Default to TRUE, such as Predation and Herbivory. Otherwise it is bidirectional, such as Mutualism.</p>
</td></tr>
<tr><td><code id="node_cv_+3A_type">type</code></td>
<td>
<p>Character. Including &quot;degree&quot;, &quot;pagerank&quot;, &quot;hub&quot;, &quot;authority&quot;, &quot;katz&quot;, &quot;eigenvector&quot;, &quot;closeness&quot;, and &quot;all&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>When the two matrices can have different numbers of rows:
</p>

<ul>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li></ul>

</li>
<li><p>When the two matrices can have the same numbers of rows:
</p>

<ul>
<li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).
</p>
</li></ul>

</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>
<p><strong>type</strong>
</p>
<p><code>type</code> &quot;degree&quot;, &quot;pagerank&quot;, &quot;hub&quot;, &quot;authority&quot;, &quot;katz&quot;, &quot;eigenvector&quot;, and &quot;closeness&quot; correspond to Degree, PageRank, Hub, Authority, Katz, Eigenvector, and Closeness centrality.
<code>type</code> &quot;all&quot; integrates the above centrality.
</p>


<h3>Value</h3>

<p>Return a data frame with the first row &quot;node&quot; for each node of network representing each species.
</p>

<ul>
<li><p>If <code>type</code> is either of &quot;degree&quot;, &quot;pagerank&quot;, &quot;hub&quot;, &quot;authority&quot;, &quot;katz&quot;, &quot;eigenvector&quot;, &quot;closeness&quot;, the data frame has two columns, and the second column corresponds to either of &quot;Degree&quot;, &quot;Pagerank_versatility&quot;,
&quot;Hub_versatility&quot;, &quot;Authority_versatility&quot;, &quot;Katz_versatility&quot;, &quot;Eigenvector_versatility&quot;, &quot;Closeness_versatility&quot;.
</p>
</li>
<li><p>If <code>type</code> is &quot;all&quot;, the data frame has eight columns, and columns form the second to the eighth correspond to &quot;Degree&quot;, &quot;Pagerank_versatility&quot;,
&quot;Hub_versatility&quot;, &quot;Authority_versatility&quot;, &quot;Katz_versatility&quot;, &quot;Eigenvector_versatility&quot;, &quot;Closeness_versatility&quot;.</p>
</li></ul>



<h3>References</h3>

<p>De Domenico, M., Nicosia, V., Arenas, A., &amp; Latora, V. (2015). Structural reducibility of multilayer networks. Nature communications, 6(1), 6864.
</p>
<p>De Domenico, M., Solé-Ribalta, A., Omodei, E., Gómez, S., &amp; Arenas, A. (2013). Centrality in interconnected multilayer networks. arXiv preprint arXiv:1311.2906.
</p>
<p>De Domenico, M. (2022). Multilayer Networks: Analysis and Visualization. Introduction to muxViz with R. Cham: Springer.
</p>
<p>Page, L., Brin, S., Motwani, R., &amp; Winograd, T. (1999). The pagerank citation ranking: Bringing order to the web.
</p>
<p>Magnani, M., Micenkova, B., &amp; Rossi, L. (2013). Combinatorial analysis of multiple networks. arXiv preprint arXiv:1303.4986.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,22,21,0.2,asmatrices=TRUE)
d
node_cv(d[[1]])

MAT&lt;-d
tmat&lt;-t(MAT[[3]])
colnames(tmat)&lt;-NULL
node_cv(MAT[[3]],MAT[[4]])
node_cv(tmat,MAT[[4]])
node_cv(MAT[[3]],MAT[[4]],type="pagerank")

node_cv(MAT[[3]],MAT[[4]],isDirected2=FALSE)



</code></pre>

<hr>
<h2 id='null_model'>Null model of multilayer network</h2><span id='topic+null_model'></span>

<h3>Description</h3>

<p>The null model could be generated according to different matrix scrambling algorithms for interconnection patterns in the multilayer network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>null_model(
  network,
  number = NULL,
  null_type = c("subnetwork1", "subnetwork2", "all", "Savue")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="null_model_+3A_network">network</code></td>
<td>
<p>A multilayer(tripartite) network of 'igraph' class. The network contains three groups of species and interactions within layers without interactions between each group of species.</p>
</td></tr>
<tr><td><code id="null_model_+3A_number">number</code></td>
<td>
<p>A numeric value. The number of null model.  Default to NULL representing number 1.</p>
</td></tr>
<tr><td><code id="null_model_+3A_null_type">null_type</code></td>
<td>
<p>Logical. Four matrix scrambling algorithms. If null_type = NULL, default to &quot;all&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>null_type</strong>
</p>

<ul>
<li><p>For each of the four types of null models, there are corresponding algorithms. The first type, “subnetwork1”, involved scrambling the adjacency matrix of the first and second groups of the multilayer network.
</p>
</li>
<li><p>The second type, “subnetwork2”, focused on scrambling the adjacency matrix of the second and third groups. 
</p>
</li>
<li><p>Comprehensively, the third type, “all”, blended the approaches of the first two to disarrange the entire network's adjacency matrix, achieving a thorough perturbation of the network's structure. 
</p>
</li>
<li><p>The last type named “Savue” that disarranged inherent structure in terms of the groups of species connected by each interconnecting species of every subnetworks, thus exhibiting different interconnection patterns.</p>
</li></ul>

<p><strong>network</strong>
</p>
<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>
</p>


<h3>Value</h3>

<p>Return a list contains one or more elements. Each element represent a null model of multilayer network.
</p>


<h3>References</h3>

<p>Vázquez, D. P., C. J. Melian, N. M. Williams, N. Blüthgen, B. R. Krasnov, and R. Poulin. 2007. Species abundance and asymmetric interaction strength in ecological networks. Oikos 116: 1120-1127.
</p>
<p>Sauve, A. M., Thébault, E., Pocock, M. J., &amp; Fontaine, C. (2016). How plants connect pollination and herbivory networks and their contribution to community stability. Ecology, 97(4), 908-917.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,22,21,0.2)

set.seed(123)
null_model(d)
set.seed(123)
null_model(d,null_type="subnetwork1")
set.seed(123)
null_model(d,null_type="Savue")
set.seed(123)
null_model(d,number=2,null_type="Savue")
</code></pre>

<hr>
<h2 id='pc'>Participation ratio of interconnecting code</h2><span id='topic+pc'></span>

<h3>Description</h3>

<p>Counting participation ratio that the difference in the degree of interconnecting nodes within two subnetworks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pc(network.or.subnet_mat1, subnet_mat2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pc_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="pc_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Print a &quot;pc= ;&quot; and Return a numeric value representing difference in the degree of interconnecting nodes within two subnetworks of multialyer network.
</p>


<h3>References</h3>

<p>Battiston, F., Nicosia, V. &amp; Latora, V. (2014) Structural measures for multiplex networks. Physical Review E, 89, 032804.
</p>
<p>Domínguez-García, V., &amp; Kéfi, S. (2024). The structure and robustness of ecological networks with two interaction types. PLOS Computational Biology, 20(1), e1011770.
</p>
<p>Guimera, R. &amp; Amaral, L.A.N. (2005) Cartography of complex networks: modules and universal roles. Journal of Statistical Mechanics: Theory and Experiment, 2005, P02001.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(15)
d &lt;- build_net(11,15,17,0.2)
pc(d)

md1&lt;-matrix(sample(c(0,1),80,replace=TRUE),8,10)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
pc(md1,md2)

mdw1&lt;-matrix(sample(c(rep(0,60),runif(60,0,1))),12,10)
mdw2&lt;-matrix(sample(c(rep(0,40),runif(80,0,1))),10,12)
pc(mdw1,mdw2)

</code></pre>

<hr>
<h2 id='poc'>Proportion of interconnection</h2><span id='topic+poc'></span>

<h3>Description</h3>

<p>Calculating the proportion of species sharing with other species of two subnetworks in intermediate layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poc(network.or.subnet_mat1, subnet_mat2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="poc_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="poc_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Print a &quot;poc= ;&quot; and Return a numeric value representing the proportion of sharing species in intermediate layer.
</p>


<h3>References</h3>

<p>Battiston, F., Nicosia, V. &amp; Latora, V. (2014) Structural measures for multiplex networks. Physical Review E, 89, 032804.
</p>
<p>Domínguez-García, V., &amp; Kéfi, S. (2024). The structure and robustness of ecological networks with two interaction types. PLOS Computational Biology, 20(1), e1011770.
</p>
<p>Guimera, R. &amp; Amaral, L.A.N. (2005) Cartography of complex networks: modules and universal roles. Journal of Statistical Mechanics: Theory and Experiment, 2005, P02001.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(15)
d &lt;- build_net(11,15,17,0.2)
poc(d)

md1&lt;-matrix(sample(c(0,1),80,replace=TRUE),8,10)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
poc(md1,md2)

mdw1&lt;-matrix(sample(c(rep(0,40),runif(60,0,1))),10,10)
mdw2&lt;-matrix(sample(c(rep(0,40),runif(80,0,1))),10,12)
poc(mdw1,mdw2)

mdw1&lt;-matrix(sample(c(rep(0,60),runif(60,0,1))),12,10)
mdw2&lt;-matrix(sample(c(rep(0,40),runif(80,0,1))),10,12)
poc(mdw1,mdw2)


</code></pre>

<hr>
<h2 id='PPH_Coltparkmeadow'>A pollinator-plant-herbivore network from Villa-Galaviz et. al. 2020. Journal of Animal Ecology</h2><span id='topic+PPH_Coltparkmeadow'></span>

<h3>Description</h3>

<p>A pollinator-plant-herbivore network from Villa-Galaviz et. al. 2020. Journal of Animal Ecology
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(PPH_Coltparkmeadow)
</code></pre>


<h3>Details</h3>

<p>A list with &quot;igraph&quot;. This is a classical example of multilayer interaction network.
</p>


<h3>References</h3>

<p>Villa‐Galaviz, E., S. M. Smart, E. L. Clare, S. E. Ward, and J. Memmott. 2021. Differential effects of fertilisers on pollination and parasitoid interaction networks. Journal of animal ecology 90:404-414.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(PPH_Coltparkmeadow)

</code></pre>

<hr>
<h2 id='role_sim'>Similarity of roles of interconnecting species</h2><span id='topic+role_sim'></span>

<h3>Description</h3>

<p>The average of Similarity of 65 roles of interconnecting species of multilayer network.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>role_sim(spe_role_mat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="role_sim_+3A_spe_role_mat">spe_role_mat</code></td>
<td>
<p>A matrix of 65 columns representing the roles of interconnecting species in the motifs. Columns names are Role1, Role2, Role3 ... Role70.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>spe_role_mat</strong>
</p>
<p>Should acquire from function <code>motif_role</code>.
</p>


<h3>Value</h3>

<p>Return a numeric value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,22,21,0.2)
mr &lt;- icmotif_role(d)
role_sim(mr)

set.seed(1)
D &lt;- build_net(11,22,21,0.2)
role_sim(icmotif_role(D))

</code></pre>

<hr>
<h2 id='subnet_cor'>Correlation of the Structural indices between Subnetworks</h2><span id='topic+subnet_cor'></span>

<h3>Description</h3>

<p>Calculating correlation of interconnecting species generalism among Subnetworks (&quot;general_'~'cor&quot;) and correlation between similarities of interconnecing species interaction partners in two subnetworks (&quot;similar_'~'cor&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subnet_cor(network.or.subnet_mat1, subnet_mat2 = NULL, weighted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subnet_cor_+3A_network.or.subnet_mat1">network.or.subnet_mat1</code></td>
<td>
<p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p>
</td></tr>
<tr><td><code id="subnet_cor_+3A_subnet_mat2">subnet_mat2</code></td>
<td>
<p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is &quot;igraph&quot;, <code>subnet_mat2</code> defaults to NULL.</p>
</td></tr>
<tr><td><code id="subnet_cor_+3A_weighted">weighted</code></td>
<td>
<p>Logical. should elements of matrix be fractional? Default to FALSE. Generally, 'igraph' network represent a spare matrix, so <code>weighted</code> is FALSE. While elements of matrix represent interaction strength, <code>weighted</code> is TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>weighted</strong>
</p>
<p>If the <code>weighted</code> = FALSE, the input for the parameter can be:
</p>
<ul>
<li><p><code>network.or.subnet_mat1</code>: input a 'igraph' of network data independently or input sparse matrix together with <code>subnet_mat2</code>.</p>
</li></ul>

<p>If the <code>weighted</code> = TRUE, the input for the parameter can be:
</p>
<ul>
<li><p><code>network.or.subnet_mat1</code>: must input matrix(or data.frame) together with <code>subnet_mat2</code>. the matrix can be sparse matrix and matrix of interaction strength.</p>
</li></ul>

<p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong>
</p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:
</p>

<ul>
<li><p>(1). Input in a network of type &quot;igraph&quot; alone.
</p>
</li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.
</p>
</li></ul>

<p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.
</p>

<ul>
<li><p>Try to make the rows of both matrices have the same attributes. Or we default:
</p>
</li>
<li><p>When the two matrices can have different numbers of rows:
</p>

<ul>
<li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.
</p>
</li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.
</p>
</li></ul>

</li>
<li><p>When the two matrices can have the same numbers of rows:
</p>

<ul>
<li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).
</p>
</li></ul>

</li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!
</p>
</li></ul>

<p>About a network of type &quot;igraph&quot;, It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.
</p>


<h3>Value</h3>

<p>Return a numeric vector of two elements representing correlation of interconnecting species generalism among Subnetworks and correlation between similarities of interconnecing species interaction partners in two subnetworks.
</p>
<p>If <code>weighted</code> = FALSE, the results will show &quot;general_cor=  ;similar_cor=  ;&quot; and If <code>weighted</code> = TRUE, the results will show &quot;general_weight_cor=  ;similar_weight_cor=  ;&quot;
</p>


<h3>References</h3>

<p>Sauve, A. M., Thébault, E., Pocock, M. J., &amp; Fontaine, C. (2016). How plants connect pollination and herbivory networks and their contribution to community stability. Ecology, 97(4), 908-917.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12)
d &lt;- build_net(11,15,17,0.2)
subnet_cor(d)

md1&lt;-matrix(sample(c(0,1),110,replace=TRUE),10,11)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
subnet_cor(md1,md2)
subnet_cor(md1,md2,weighted=TRUE)

md1&lt;-matrix(sample(c(0,1),80,replace=TRUE),8,10)
md2&lt;-matrix(sample(c(0,1),120,replace=TRUE),10,12)
subnet_cor(md1,md2)

mdw1&lt;-matrix(runif(110,0,1),10,11)
mdw2&lt;-matrix(runif(120,0,1),10,12)
subnet_cor(mdw1,mdw2,weighted=TRUE)

set.seed(1)
mdw1&lt;-matrix(runif(80,0,1),8,10)
mdw2&lt;-matrix(runif(120,0,1),10,12)
subnet_cor(mdw1,mdw2,weighted=TRUE)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

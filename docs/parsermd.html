<!DOCTYPE html><html lang="en"><head><title>Help for package parsermd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {parsermd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#parsermd-package'><p>parsermd: Formal Parser and Related Tools for R Markdown Documents</p></a></li>
<li><a href='#as_ast'><p>Convert an object into an <code>rmd_ast</code>.</p></a></li>
<li><a href='#as_document'><p>Convert an <code>rmd_ast</code>, <code>rmd_tibble</code>, or any ast node into text.</p></a></li>
<li><a href='#chunk_options'><p>Get and set code chunk options</p></a></li>
<li><a href='#parse_rmd'><p>Parse an R Markdown document</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#render'><p>Render <code>parsermd</code> objects using <code>rmarkdown::render()</code></p></a></li>
<li><a href='#rmd_check_template'><p>Check an Rmd against a template</p></a></li>
<li><a href='#rmd_node'><p>rmd node utility functions</p></a></li>
<li><a href='#rmd_node_sections'><p>Find the sections for each rmd object node</p></a></li>
<li><a href='#rmd_select'><p>Select nodes of an Rmd ast</p></a></li>
<li><a href='#rmd_select_helpers'><p>Rmd selection helper functions</p></a></li>
<li><a href='#rmd_source'><p>Source the code chunks of an Rmd document</p></a></li>
<li><a href='#rmd_subset'><p>Subset the nodes of an rmd object</p></a></li>
<li><a href='#rmd_subset_util'><p>rmd_subset utility functions</p></a></li>
<li><a href='#rmd_template'><p>Create a template from an <code>rmd</code> object.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Formal Parser and Related Tools for R Markdown Documents</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of a formal grammar and parser for R Markdown documents
    using the Boost Spirit X3 library. It also includes a collection of high level
    functions for working with the resulting abstract syntax tree.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>purrr, Rcpp, cli (&ge; 2.5.0), checkmate, readr, tidyr, dplyr,
tibble, yaml, withr, rmarkdown, pillar, rlang, magrittr,
tidyselect (&ge; 1.2.0), lifecycle</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.0</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++17</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, BH</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rundel.github.io/parsermd/">https://rundel.github.io/parsermd/</a>,
<a href="https://github.com/rundel/parsermd">https://github.com/rundel/parsermd</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rundel/parsermd/issues">https://github.com/rundel/parsermd/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-16 15:49:23 UTC; rundel</td>
</tr>
<tr>
<td>Author:</td>
<td>Colin Rundel [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Colin Rundel &lt;rundel@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-16 16:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='parsermd-package'>parsermd: Formal Parser and Related Tools for R Markdown Documents</h2><span id='topic+parsermd'></span><span id='topic+parsermd-package'></span>

<h3>Description</h3>

<p>An implementation of a formal grammar and parser for R Markdown documents using the Boost Spirit X3 library. It also includes a collection of high level functions for working with the resulting abstract syntax tree.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Colin Rundel <a href="mailto:rundel@gmail.com">rundel@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rundel.github.io/parsermd/">https://rundel.github.io/parsermd/</a>
</p>
</li>
<li> <p><a href="https://github.com/rundel/parsermd">https://github.com/rundel/parsermd</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rundel/parsermd/issues">https://github.com/rundel/parsermd/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_ast'>Convert an object into an <code>rmd_ast</code>.</h2><span id='topic+as_ast'></span>

<h3>Description</h3>

<p>Currently only supports conversion of <code>rmd_tibble</code> objects back to <code>rmd_ast</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_ast(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_ast_+3A_x">x</code></td>
<td>
<p>Object to convert</p>
</td></tr>
<tr><td><code id="as_ast_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an <code>rmd_ast</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parse_rmd(system.file("hw01.Rmd", package="parsermd")) %&gt;%
  as_tibble() %&gt;%
  as_ast()

</code></pre>

<hr>
<h2 id='as_document'>Convert an <code>rmd_ast</code>, <code>rmd_tibble</code>, or any ast node into text.</h2><span id='topic+as_document'></span>

<h3>Description</h3>

<p>Convert an <code>rmd_ast</code>, <code>rmd_tibble</code>, or any ast node into text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_document(x, padding = "", collapse = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_document_+3A_x">x</code></td>
<td>
<p><code>rmd_ast</code>, <code>rmd_tibble</code>, or parsermd node object.</p>
</td></tr>
<tr><td><code id="as_document_+3A_padding">padding</code></td>
<td>
<p>Padding to add between nodes when assembling the text.</p>
</td></tr>
<tr><td><code id="as_document_+3A_collapse">collapse</code></td>
<td>
<p>If not <code>NULL</code>, use value to collapse lines.</p>
</td></tr>
<tr><td><code id="as_document_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character vector.
</p>

<hr>
<h2 id='chunk_options'>Get and set code chunk options</h2><span id='topic+chunk_options'></span><span id='topic+rmd_set_options'></span><span id='topic+rmd_get_options'></span>

<h3>Description</h3>

<p>Helper functions for obtaining or changing chunk options
within an rmd object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_set_options(x, ...)

rmd_get_options(x, ..., defaults = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chunk_options_+3A_x">x</code></td>
<td>
<p>An <code>rmd_ast</code>, <code>rmd_tibble</code>, or any rmd ast node object.</p>
</td></tr>
<tr><td><code id="chunk_options_+3A_...">...</code></td>
<td>
<p>Either a collection of named values for the setter or a character values
of the option names for the getter.</p>
</td></tr>
<tr><td><code id="chunk_options_+3A_defaults">defaults</code></td>
<td>
<p>A named list of default values for the options.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>rmd_set_options</code> returns the modified version of the original object.
</p>
<p><code>rmd_get_options</code> returns a list of the requested options (or all options if none
are specified). Non-chunk nodes return <code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rmd = parse_rmd(system.file("minimal.Rmd", package = "parsermd"))

str(rmd_get_options(rmd))
str(rmd_get_options(rmd), "include")

rmd_set_options(rmd, include = TRUE)

</code></pre>

<hr>
<h2 id='parse_rmd'>Parse an R Markdown document</h2><span id='topic+parse_rmd'></span>

<h3>Description</h3>

<p>Documents are parse into an <code>rmd_ast</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_rmd(rmd, allow_incomplete = FALSE, parse_yaml = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_rmd_+3A_rmd">rmd</code></td>
<td>
<p>Either the path to an <code>Rmd</code> file or a character vector containing the contents
of a R Markdown document.</p>
</td></tr>
<tr><td><code id="parse_rmd_+3A_allow_incomplete">allow_incomplete</code></td>
<td>
<p>Allow incomplete parsing of the document.</p>
</td></tr>
<tr><td><code id="parse_rmd_+3A_parse_yaml">parse_yaml</code></td>
<td>
<p>Use the <a href="yaml.html#topic+read_yaml">yaml</a> package to parse the document's yaml.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>rmd_ast</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parse_rmd(system.file("hw01.Rmd", package="parsermd"))

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+as_tibble'></span><span id='topic+type_sum'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic+pipe">%&gt;%</a></code></p>
</dd>
<dt>pillar</dt><dd><p><code><a href="pillar.html#topic+type_sum">type_sum</a></code></p>
</dd>
<dt>tibble</dt><dd><p><code><a href="tibble.html#topic+as_tibble">as_tibble</a></code></p>
</dd>
</dl>

<hr>
<h2 id='render'>Render <code>parsermd</code> objects using <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code></h2><span id='topic+render'></span>

<h3>Description</h3>

<p>Object contents are converted to a character vector and written to a
temporary directory before rendering.
</p>
<p>Note that this function has the potential to overwrite existing output
files (e.g. <code>.html</code>, <code>.pdf</code>, etc).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render(x, name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="render_+3A_x">x</code></td>
<td>
<p>Object to render, e.g. a <code>rmd_ast</code>, <code>rmd_tibble</code>, <code>character</code> vector, etc.</p>
</td></tr>
<tr><td><code id="render_+3A_name">name</code></td>
<td>
<p>Name of the output file, if not given it will be inferred from the
name of <code>x</code>.</p>
</td></tr>
<tr><td><code id="render_+3A_...">...</code></td>
<td>
<p>Any additional arguments to be passed to <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the results of <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code>.
</p>

<hr>
<h2 id='rmd_check_template'>Check an Rmd against a template</h2><span id='topic+rmd_check_template'></span>

<h3>Description</h3>

<p>This function compares the provided Rmd against a template and reports on
discrepancies (e.g. missing or unmodified components).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_check_template(rmd, template, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_check_template_+3A_rmd">rmd</code></td>
<td>
<p>The rmd to be check, can be an <code>rmd_ast</code>, <code>rmd_tibble</code>, or text
that can be handled by <code>parse_rmd</code>.</p>
</td></tr>
<tr><td><code id="rmd_check_template_+3A_template">template</code></td>
<td>
<p><code>rmd_template</code> object from <code><a href="#topic+rmd_template">rmd_template()</a></code>.</p>
</td></tr>
<tr><td><code id="rmd_check_template_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns <code>TRUE</code> if the rmd matches the template, <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmpl = parse_rmd(system.file("hw01.Rmd", package = "parsermd")) %&gt;%
  rmd_select(by_section(c("Exercise *", "Solution"))) %&gt;%
  rmd_template(keep_content = TRUE)

rmd_check_template(
  system.file("hw01-student.Rmd", package = "parsermd"),
  tmpl
)

</code></pre>

<hr>
<h2 id='rmd_node'>rmd node utility functions</h2><span id='topic+rmd_node'></span><span id='topic+rmd_node_label'></span><span id='topic+rmd_node_type'></span><span id='topic+rmd_node_length'></span><span id='topic+rmd_node_content'></span><span id='topic+rmd_node_attr'></span><span id='topic+rmd_node_engine'></span><span id='topic+rmd_node_options'></span><span id='topic+rmd_node_code'></span>

<h3>Description</h3>

<p>Functions for extracting information for Rmd nodes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_node_label(x, ...)

rmd_node_type(x, ...)

rmd_node_length(x, ...)

rmd_node_content(x, ...)

rmd_node_attr(x, attr, ...)

rmd_node_engine(x, ...)

rmd_node_options(x, ...)

rmd_node_code(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_node_+3A_x">x</code></td>
<td>
<p>An rmd object, e.g. <code>rmd_ast</code> or <code>rmd_tibble</code>.</p>
</td></tr>
<tr><td><code id="rmd_node_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
<tr><td><code id="rmd_node_+3A_attr">attr</code></td>
<td>
<p>Attribute name to extract.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>rmd_node_label()</code> - returns a character vector of node labels,
nodes without labels return <code>NA</code>.
</p>
</li>
<li> <p><code>rmd_node_type()</code> - returns a character vector of node types.
</p>
</li>
<li> <p><code>rmd_node_length()</code> - returns an integer vector of node lengths (i.e. lines of code, lines of text, etc.),
nodes without a length return <code>NA</code>.
</p>
</li>
<li> <p><code>rmd_node_content()</code> - returns a character vector of node textual content, nodes without content return <code>NA</code>.
</p>
</li>
<li> <p><code>rmd_node_attr()</code> - returns a list of node attribute values.
</p>
</li>
<li> <p><code>rmd_node_engine()</code> - returns a character vector of chunk engines,
<code>NA</code> for all other node types.
</p>
</li>
<li> <p><code>rmd_node_options()</code> - returns a list of chunk node options (named list), <code>MULL</code> for all other node types.
</p>
</li>
<li> <p><code>rmd_node_code()</code> - returns a list of chunk node code (character vector),
<code>NULL</code> for all other node types.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
rmd = parse_rmd(system.file("hw01.Rmd", package="parsermd"))

rmd_node_label(rmd)
rmd_node_type(rmd)
rmd_node_content(rmd)
rmd_node_attr(rmd, "level")
rmd_node_engine(rmd)
rmd_node_options(rmd)
rmd_node_code(rmd)

</code></pre>

<hr>
<h2 id='rmd_node_sections'>Find the sections for each rmd object node</h2><span id='topic+rmd_node_sections'></span>

<h3>Description</h3>

<p>Uses the section headings of an rmd object to identify the hierarchical
structure of the document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_node_sections(x, levels = 1:6, drop_na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_node_sections_+3A_x">x</code></td>
<td>
<p>An rmd object, e.g. <code>rmd_ast</code> or <code>rmd_tibble</code>.</p>
</td></tr>
<tr><td><code id="rmd_node_sections_+3A_levels">levels</code></td>
<td>
<p>Limit which section heading levels to return.</p>
</td></tr>
<tr><td><code id="rmd_node_sections_+3A_drop_na">drop_na</code></td>
<td>
<p>Should <code>NA</code> sections be dropped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of section names for each node.
</p>

<hr>
<h2 id='rmd_select'>Select nodes of an Rmd ast</h2><span id='topic+rmd_select'></span>

<h3>Description</h3>

<p>This function is implemented using <code><a href="tidyselect.html#topic+eval_select">tidyselect::eval_select()</a></code> which enables
a variety of useful syntax for selecting nodes from the ast.
</p>
<p>Additionally, a number of additional <code>parsermd</code> specific selection helpers are available:
<code><a href="#topic+by_section">by_section()</a></code>, <code><a href="#topic+has_type">has_type()</a></code>, <code><a href="#topic+has_label">has_label()</a></code>, and <code><a href="#topic+has_option">has_option()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_select(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_select_+3A_x">x</code></td>
<td>
<p>Rmd object, e.g. <code>rmd_ast</code> or <code>rmd_tibble</code>.</p>
</td></tr>
<tr><td><code id="rmd_select_+3A_...">...</code></td>
<td>
<p>One or more unquoted expressions separated by commas. Chunk labels can be used
as if they were positions in the data frame, so expressions like x:y can be used to
select a range of nodes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a subset Rmd object (either <code>rmd_ast</code> or <code>rmd_tibble</code> depending on input).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rmd = parse_rmd(system.file("hw01.Rmd", package = "parsermd"))

rmd_select(rmd, "plot-dino", "cor-dino")
rmd_select(rmd, "plot-dino":"cor-dino")
rmd_select(rmd, `plot-dino`:`cor-dino`)

rmd_select(rmd, has_type("rmd_chunk"))

rmd_select(rmd, by_section(c("Exercise *", "Solution")))

</code></pre>

<hr>
<h2 id='rmd_select_helpers'>Rmd selection helper functions</h2><span id='topic+rmd_select_helpers'></span><span id='topic+has_type'></span><span id='topic+by_section'></span><span id='topic+has_label'></span><span id='topic+has_option'></span>

<h3>Description</h3>

<p>These functions are used in conjunction with <code><a href="#topic+rmd_select">rmd_select()</a></code> to
select nodes from an Rmd ast.
</p>

<ul>
<li> <p><code>by_section()</code> - uses section selectors to select nodes.
</p>
</li>
<li> <p><code>has_type()</code> - selects all nodes that have the given type(s).
</p>
</li>
<li> <p><code>has_label()</code> - selects nodes with labels matching the given glob.
</p>
</li>
<li> <p><code>has_option()</code> - selects nodes that have the given option(s) set.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>has_type(types)

by_section(sec_ref, keep_parents = TRUE)

has_label(label)

has_option(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_select_helpers_+3A_types">types</code></td>
<td>
<p>Vector of character type names, e.g. <code>rmd_chunk</code>, <code>rmd_heading</code>, etc.</p>
</td></tr>
<tr><td><code id="rmd_select_helpers_+3A_sec_ref">sec_ref</code></td>
<td>
<p>character vector, a section reference selector. See details below
for further details on how these are constructed.</p>
</td></tr>
<tr><td><code id="rmd_select_helpers_+3A_keep_parents">keep_parents</code></td>
<td>
<p>Logical, retain the parent headings of selected sections.
Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="rmd_select_helpers_+3A_label">label</code></td>
<td>
<p>character vector, glob patterns for matching chunk labels.</p>
</td></tr>
<tr><td><code id="rmd_select_helpers_+3A_...">...</code></td>
<td>
<p>Either option names represented by a scalar string or a named argument with the form
<code>opt = value</code> where <code>opt</code> is the option name and <code>value</code> is the value to be checked. For example
<code>eval = TRUE</code> would check for the option <code>eval</code> being set to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Section reference selectors</h4>

<p>Section reference selectors are a simplified version of CSS selectors that
are designed to enable the selection nodes in a way that respects the implied
hierarchy of a document's section headings.
</p>
<p>They consist of a character vector of heading names where each subsequent value
is assumed to be nested within the preceding value. For example, the section
selector <code>c("Sec 1", "Sec 2")</code> would select all nodes that are contained within
a section named <code style="white-space: pre;">&#8288;Sec 2&#8288;</code> that is in turn contained within a section named <code style="white-space: pre;">&#8288;Sec 1&#8288;</code>
(or a section contained within a section named <code style="white-space: pre;">&#8288;Sec 1&#8288;</code>, and so on).
</p>
<p>The individual section names can be specified using wildcards (aka globbing
patterns), which may match one or more sections within the document, e.g.
<code>c("Sec 1", "Sec *")</code>. See <code><a href="utils.html#topic+glob2rx">utils::glob2rx()</a></code> or
<a href="https://en.wikipedia.org/wiki/Glob_(programming)">wikipedia</a>
for more details on the syntax for these patterns.
</p>



<h3>Value</h3>

<p>All helper functions return an integer vector of selected indexes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
rmd = parse_rmd(system.file("hw01.Rmd", package="parsermd"))

rmd_select(rmd, has_type("rmd_chunk"))

rmd_select(rmd, has_label("*dino"))

rmd_select(rmd, has_option("message"))
rmd_select(rmd, has_option(message = FALSE))
rmd_select(rmd, has_option(message = TRUE))


</code></pre>

<hr>
<h2 id='rmd_source'>Source the code chunks of an Rmd document</h2><span id='topic+rmd_source'></span>

<h3>Description</h3>

<p>This is the equivalent of the <code><a href="base.html#topic+source">source()</a></code> function for Rmd files or
their resulting asts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_source(x, local = FALSE, ..., label_comment = TRUE, use_eval = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_source_+3A_x">x</code></td>
<td>
<p>An Rmd document (e.g. <code>rmd_ast</code>, <code>rmd_tibble</code>, Rmd file path, etc.)</p>
</td></tr>
<tr><td><code id="rmd_source_+3A_local">local</code></td>
<td>
<p><code>TRUE</code>, <code>FALSE</code> or an environment, determining where the parsed
expressions are evaluated. <code>FALSE</code> (the default) corresponds to the user's
workspace (the global environment) and <code>TRUE</code> to the environment from which
source is called.</p>
</td></tr>
<tr><td><code id="rmd_source_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+source">source</a></code>.</p>
</td></tr>
<tr><td><code id="rmd_source_+3A_label_comment">label_comment</code></td>
<td>
<p>Attach chunk labels as comment before each code block.</p>
</td></tr>
<tr><td><code id="rmd_source_+3A_use_eval">use_eval</code></td>
<td>
<p>Use the <code>eval</code> chunk option to determine if code is included.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the result of <code><a href="base.html#topic+source">source()</a></code> for any R code chunks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
rmd_source(system.file("minimal.Rmd", package = "parsermd"), echo=TRUE)

</code></pre>

<hr>
<h2 id='rmd_subset'>Subset the nodes of an rmd object</h2><span id='topic+rmd_subset'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
Subset an rmd object based on sections, node types, or names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_subset(
  x,
  sec_refs = NULL,
  type_refs = NULL,
  name_refs = NULL,
  exclude = FALSE,
  keep_yaml = TRUE,
  keep_setup = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_subset_+3A_x">x</code></td>
<td>
<p>rmd object, e.g. <code>rmd_ast</code> or <code>rmd_tibble</code>.</p>
</td></tr>
<tr><td><code id="rmd_subset_+3A_sec_refs">sec_refs</code></td>
<td>
<p>Section references, TODO - add details.</p>
</td></tr>
<tr><td><code id="rmd_subset_+3A_type_refs">type_refs</code></td>
<td>
<p>Node type references, TODO - add details.</p>
</td></tr>
<tr><td><code id="rmd_subset_+3A_name_refs">name_refs</code></td>
<td>
<p>Name references, TODO - add details.</p>
</td></tr>
<tr><td><code id="rmd_subset_+3A_exclude">exclude</code></td>
<td>
<p>Should the matching nodes be excluded.</p>
</td></tr>
<tr><td><code id="rmd_subset_+3A_keep_yaml">keep_yaml</code></td>
<td>
<p>Should the document yaml be kept.</p>
</td></tr>
<tr><td><code id="rmd_subset_+3A_keep_setup">keep_setup</code></td>
<td>
<p>Should the document setup chunk be kept.</p>
</td></tr>
<tr><td><code id="rmd_subset_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a subset Rmd object (either <code>rmd_ast</code> or <code>rmd_tibble</code> depending on input).
</p>

<hr>
<h2 id='rmd_subset_util'>rmd_subset utility functions</h2><span id='topic+rmd_subset_util'></span><span id='topic+rmd_get_node'></span><span id='topic+rmd_get_chunk'></span><span id='topic+rmd_get_markdown'></span><span id='topic+rmd_has_node'></span><span id='topic+rmd_has_chunk'></span><span id='topic+rmd_has_markdown'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Tools for selecting or checking a single node using <code><a href="#topic+rmd_subset">rmd_subset()</a></code> selection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_get_node(x, sec_refs = NULL, type_refs = NULL, name_refs = NULL, ...)

rmd_get_chunk(x, sec_refs = NULL, name_refs = NULL)

rmd_get_markdown(x, sec_refs = NULL)

rmd_has_node(x, sec_refs = NULL, type_refs = NULL, name_refs = NULL, ...)

rmd_has_chunk(x, sec_refs = NULL, name_refs = NULL, ...)

rmd_has_markdown(x, sec_refs = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_subset_util_+3A_x">x</code></td>
<td>
<p>rmd object, e.g. <code>rmd_ast</code> or <code>rmd_tibble</code>.</p>
</td></tr>
<tr><td><code id="rmd_subset_util_+3A_sec_refs">sec_refs</code></td>
<td>
<p>Section references, TODO - add details.</p>
</td></tr>
<tr><td><code id="rmd_subset_util_+3A_type_refs">type_refs</code></td>
<td>
<p>Node type references, TODO - add details.</p>
</td></tr>
<tr><td><code id="rmd_subset_util_+3A_name_refs">name_refs</code></td>
<td>
<p>Name references, TODO - add details.</p>
</td></tr>
<tr><td><code id="rmd_subset_util_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code style="white-space: pre;">&#8288;rmd_get_*()&#8288;</code> functions returns a single Rmd node object (e.g. <code>rmd_heading</code>, <code>rmd_chunk</code>, <code>rmd_markdown</code>, etc.)
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;rmd_has_*()&#8288;</code> functions return <code>TRUE</code> if a matching node exists, <code>FALSE</code> otherwise.
</p>
</li></ul>


<hr>
<h2 id='rmd_template'>Create a template from an <code>rmd</code> object.</h2><span id='topic+rmd_template'></span>

<h3>Description</h3>

<p>Templates are objects which are meant to capture the structure of an R Markdown document and facilitate the
comparison between the template and new Rmd documents, usually to ensure the structure and/or content matches
sufficiently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmd_template(
  rmd,
  keep_content = FALSE,
  keep_labels = TRUE,
  keep_headings = FALSE,
  keep_yaml = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmd_template_+3A_rmd">rmd</code></td>
<td>
<p>R Markdown document in the form of an <code>rmd_ast</code> or <code>rmd_tibble</code>.</p>
</td></tr>
<tr><td><code id="rmd_template_+3A_keep_content">keep_content</code></td>
<td>
<p>Should the template keep the document's content (markdown text and chunk code).</p>
</td></tr>
<tr><td><code id="rmd_template_+3A_keep_labels">keep_labels</code></td>
<td>
<p>Should the template keep the document's code chunk labels.</p>
</td></tr>
<tr><td><code id="rmd_template_+3A_keep_headings">keep_headings</code></td>
<td>
<p>Should the template keep the document's headings.</p>
</td></tr>
<tr><td><code id="rmd_template_+3A_keep_yaml">keep_yaml</code></td>
<td>
<p>Should the template keep the document's yaml.</p>
</td></tr>
<tr><td><code id="rmd_template_+3A_...">...</code></td>
<td>
<p>Unused, for extensibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an <code>rmd_template</code> object, which is a derived tibble containing relevant structural
details of the document.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rmd = parse_rmd(system.file("hw01.Rmd", package="parsermd"))

rmd_select(rmd, by_section(c("Exercise *", "Solution"))) %&gt;%
  rmd_template()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package rWCVP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rWCVP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#get_area_name'><p>Get area description from vector of area codes</p></a></li>
<li><a href='#get_wgsrpd3_codes'><p>Extract WGSRPD Level 3 (area) codes.</p></a></li>
<li><a href='#powo_map'><p>Plot a POWO style map for given range and range centroids.</p></a></li>
<li><a href='#powo_pal'><p>POWO colour palette for range maps</p></a></li>
<li><a href='#redlist_example'><p>Example dataset for name matching</p></a></li>
<li><a href='#taxonomic_mapping'><p>Data for mapping plant family to order or higher classification</p></a></li>
<li><a href='#wcvp_checklist'><p>Generate a species checklist from WCVP</p></a></li>
<li><a href='#wcvp_distribution'><p>Generate spatial distribution objects for species, genera or families</p></a></li>
<li><a href='#wcvp_distribution_map'><p>Plot distribution maps for species, genera or families</p></a></li>
<li><a href='#wcvp_match_exact'><p>Exact matching to WCVP.</p></a></li>
<li><a href='#wcvp_match_fuzzy'><p>Fuzzy (approximate) matching to the WCVP.</p></a></li>
<li><a href='#wcvp_match_names'><p>Match names to the WCVP.</p></a></li>
<li><a href='#wcvp_occ_mat'><p>Generate occurrence matrix for taxa and areas</p></a></li>
<li><a href='#wcvp_reformat'><p>Reformat local versions of WCVP</p></a></li>
<li><a href='#wcvp_summary'><p>Generate a summary table from the WCVP</p></a></li>
<li><a href='#wcvp_summary_gt'><p>Render a summary table from wcvp_summary</p></a></li>
<li><a href='#wgsrpd_mapping'><p>Data for mapping WGSRPD geography to other levels</p></a></li>
<li><a href='#wgsrpd3'><p>Biodiversity Information Standards (TDWG) World Geographical Scheme for</p>
Recording Plant Distributions (WGSRPD)</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generating Summaries, Reports and Plots from the World Checklist
of Vascular Plants</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matilda Brown &lt;m.brown2@kew.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A companion to the World Checklist of 
    Vascular Plants (WCVP). It includes functions to generate maps and species lists, as 
    well as match names to the WCVP. For more details and to cite the package, see: 
    Brown M.J.M., Walker B.E., Black N., Govaerts R., Ondo I., Turner R., Nic Lughadha E. (in press). 
    "rWCVP: A companion R package to the World Checklist of Vascular Plants". New Phytologist.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, ggplot2, gt, htmltools, magrittr, phonics, purrr,
RecordLinkage, rlang, rmarkdown, sf, stringr, tibble, tidyr,
withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rWCVPdata (&ge; 0.1.0), knitr, testthat (&ge; 3.0.0), spdep</td>
</tr>
<tr>
<td>Additional_repositories:</td>
<td><a href="https://matildabrown.github.io/drat">https://matildabrown.github.io/drat</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/matildabrown/rWCVP">https://github.com/matildabrown/rWCVP</a>,
<a href="https://matildabrown.github.io/rWCVP/">https://matildabrown.github.io/rWCVP/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/matildabrown/rWCVP/issues">https://github.com/matildabrown/rWCVP/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-15 14:21:54 UTC; mbr10kg</td>
</tr>
<tr>
<td>Author:</td>
<td>Matilda Brown [aut, cre],
  Barnaby Walker [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-16 15:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='get_area_name'>Get area description from vector of area codes</h2><span id='topic+get_area_name'></span>

<h3>Description</h3>

<p>Get area description from vector of area codes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_area_name(area_codes)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_area_name_+3A_area_codes">area_codes</code></td>
<td>
<p>Character vector containing the set of codes to be mapped to a name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Usually used as an inverse function for <code>get_wgsrpd3_codes</code>. Useful for condensing sets of codes for e.g. file names, plotting and table formatting.
</p>


<h3>Value</h3>

<p>Character. Either a vector of length one, with a name for the set of
Level 3 areas, or (if no name exists for that set of areas) the input vector of codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_area_name(get_wgsrpd3_codes("Brazil"))
</code></pre>

<hr>
<h2 id='get_wgsrpd3_codes'>Extract WGSRPD Level 3 (area) codes.</h2><span id='topic+get_wgsrpd3_codes'></span>

<h3>Description</h3>

<p>Extract WGSRPD Level 3 (area) codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wgsrpd3_codes(geography, include_equatorial = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_wgsrpd3_codes_+3A_geography">geography</code></td>
<td>
<p>Character. The geography to convert into Level 3 codes. May be a WGSRPD area (Level 3), region (Level 2) or continent (Level 1), country (political) or hemisphere (&quot;Northern Hemisphere&quot;, &quot;Southern Hemisphere&quot; or &quot;Equatorial&quot;)</p>
</td></tr>
<tr><td><code id="get_wgsrpd3_codes_+3A_include_equatorial">include_equatorial</code></td>
<td>
<p>Logical. Include Level 3 areas that span the equator? Defaults to <code>NULL</code>, which generates a message and includes these areas. Ignored if geography is not a hemisphere.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Country mapping follows Gallagher et al. (2020). Importantly, this means that some overseas territories are not considered part of the country in this system, e.g. the Canary Islands are designated as their own Level 3 area, rather than part of Spain in this mapping. Where this is ambiguous, the mapping can be explored using <code>View(wgsrpd_mapping)</code>.
</p>
<p>Gallagher, R. V., Allen, S., Rivers, M. C., Allen, A. P., Butt, N., Keith, D., &amp; Adams, V. M. (2020). Global shortfalls in extinction risk assessments for endemic flora. bioRxiv, 2020.2003.2012.984559. https://doi.org/10.1101/2020.03.12.984559
</p>


<h3>Value</h3>

<p>Character with area codes (Level 3) that fall within the geography.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_wgsrpd3_codes("Brazil")

</code></pre>

<hr>
<h2 id='powo_map'>Plot a POWO style map for given range and range centroids.</h2><span id='topic+powo_map'></span>

<h3>Description</h3>

<p>Plot a POWO style map for given range and range centroids.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>powo_map(range_sf, centroids_sf)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="powo_map_+3A_range_sf">range_sf</code></td>
<td>
<p>A simple features (<code>sf</code>) data frame of range polygons</p>
</td></tr>
<tr><td><code id="powo_map_+3A_centroids_sf">centroids_sf</code></td>
<td>
<p>A simple features (<code>sf</code>) data frame of range centroids</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot map of the range
</p>

<hr>
<h2 id='powo_pal'>POWO colour palette for range maps</h2><span id='topic+powo_pal'></span><span id='topic+scale_color_powo'></span><span id='topic+scale_colour_powo'></span><span id='topic+scale_fill_powo'></span>

<h3>Description</h3>

<p>Range maps displayed on the <a href="https://powo.science.kew.org/">POWO</a> website have a fixed,
discrete colour palette based on the type of taxon occurrence
in a region.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>powo_pal()

scale_color_powo(...)

scale_colour_powo(...)

scale_fill_powo(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="powo_pal_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+discrete_scale">discrete_scale</a></code>
</p>

<dl>
<dt><code>palette</code></dt><dd><p>A palette function that when called with a single integer
argument (the number of levels in the scale) returns the values that
they should take (e.g., <code><a href="scales.html#topic+hue_pal">scales::hue_pal()</a></code>).</p>
</dd>
<dt><code>limits</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale values
</p>
</li>
<li><p> A character vector that defines possible values of the scale and their
order
</p>
</li>
<li><p> A function that accepts the existing (automatic) values and returns
new ones. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>drop</code></dt><dd><p>Should unused factor levels be omitted from the scale?
The default, <code>TRUE</code>, uses the levels that appear in the data;
<code>FALSE</code> uses all the levels in the factor.</p>
</dd>
<dt><code>na.translate</code></dt><dd><p>Unlike continuous scales, discrete scales can easily show
missing values, and do so by default. If you want to remove missing values
from a discrete scale, specify <code>na.translate = FALSE</code>.</p>
</dd>
<dt><code>scale_name</code></dt><dd><p>The name of the scale that should be used for error messages
associated with this scale.</p>
</dd>
<dt><code>name</code></dt><dd><p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</dd>
<dt><code>labels</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>guide</code></dt><dd><p>A function used to create a guide or its name. See
<code><a href="ggplot2.html#topic+guides">guides()</a></code> for more information.</p>
</dd>
<dt><code>super</code></dt><dd><p>The super class to use for the constructed scale</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>Character. Vector of names and HEX values to match those of <a href="https://powo.science.kew.org/">POWO</a>.
</p>

<hr>
<h2 id='redlist_example'>Example dataset for name matching</h2><span id='topic+redlist_example'></span>

<h3>Description</h3>

<p>A dataset containing 20 sampled Red List assessments for name-matching
</p>


<h3>Usage</h3>

<pre><code class='language-R'>redlist_example
</code></pre>


<h3>Format</h3>

<p>A data frame with 20 rows and 4 variables:
</p>

<dl>
<dt>assessmentId</dt><dd><p>Red List identifier</p>
</dd>
<dt>scientificName</dt><dd><p>Taxon name.</p>
</dd>
<dt>redlistCategory</dt><dd><p>Red List threat category</p>
</dd>
<dt>authority</dt><dd><p>Taxon author/s.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Downloaded and sampled from <a href="https://www.iucnredlist.org/">https://www.iucnredlist.org/</a>
</p>

<hr>
<h2 id='taxonomic_mapping'>Data for mapping plant family to order or higher classification</h2><span id='topic+taxonomic_mapping'></span>

<h3>Description</h3>

<p>A dataset containing the higher classification (Angiosperms, Gymnosperms, Ferns and Lycophytes) and Order for each family in the WCVP.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxonomic_mapping
</code></pre>


<h3>Format</h3>

<p>A data frame with 457 rows and 3 variables: <code>family, order</code> and <code>higher_classification</code>
</p>


<h3>Source</h3>

<p>Fern and lycophyte taxonomy from PPG I (2016; <a href="https://doi.org/10.1111/jse.12229">doi:10.1111/jse.12229</a>). Angiosperm taxonomy from APG IV (2016; <a href="https://doi.org/10.1111/boj.12385">doi:10.1111/boj.12385</a>). Gymnosperm taxonomy from Forest et al (2018; <a href="https://doi.org/10.1038/s41598-018-24365-4">doi:10.1038/s41598-018-24365-4</a>)
</p>

<hr>
<h2 id='wcvp_checklist'>Generate a species checklist from WCVP</h2><span id='topic+wcvp_checklist'></span>

<h3>Description</h3>

<p>Generate a species checklist from WCVP
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_checklist(
  taxon = NULL,
  taxon_rank = c("species", "genus", "family", "order", "higher"),
  area_codes = NULL,
  synonyms = TRUE,
  render_report = FALSE,
  native = TRUE,
  introduced = TRUE,
  extinct = TRUE,
  location_doubtful = TRUE,
  hybrids = FALSE,
  infraspecies = TRUE,
  report_filename = NULL,
  report_dir = NULL,
  report_type = c("alphabetical", "taxonomic"),
  wcvp_names = NULL,
  wcvp_distributions = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_checklist_+3A_taxon">taxon</code></td>
<td>
<p>Character. Taxon to be included. Defaults to NULL (no taxonomic filter; all taxa).</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_taxon_rank">taxon_rank</code></td>
<td>
<p>Character. One of &quot;species&quot;, &quot;genus&quot;, &quot;family&quot;, &quot;order&quot; or &quot;higher&quot;, giving the rank of the value/s in <code>taxon</code>. Must be specified unless taxon is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_area_codes">area_codes</code></td>
<td>
<p>Character. One or many WGSPRD level 3 region codes. Defaults to <code>NULL</code> (global).</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_synonyms">synonyms</code></td>
<td>
<p>Logical. Include synonyms in checklist (see Details)? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_render_report">render_report</code></td>
<td>
<p>Logical. Render the checklist as a markdown report? Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_native">native</code></td>
<td>
<p>Logical. Include species occurrences not flagged as introduced, extinct or doubtful? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_introduced">introduced</code></td>
<td>
<p>Logical. Include species occurrences flagged as introduced? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_extinct">extinct</code></td>
<td>
<p>Logical. Include species occurrences flagged as extinct? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_location_doubtful">location_doubtful</code></td>
<td>
<p>Logical. Include species occurrences flagged as <code>location_doubtful</code>? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_hybrids">hybrids</code></td>
<td>
<p>Logical. Include hybrid species in checklist? Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_infraspecies">infraspecies</code></td>
<td>
<p>Logical. Include hybrid species in checklist? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_report_filename">report_filename</code></td>
<td>
<p>Character. Name for the HTML file. Defaults to taxon_area_type.html</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_report_dir">report_dir</code></td>
<td>
<p>Character. Directory for the HTML file to be saved in. Must be provided by user.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_report_type">report_type</code></td>
<td>
<p>Character; one of &quot;alphabetical&quot; (the default) or &quot;taxonomic&quot;. Should the generated checklist be sorted alphabetically, or by taxonomic status?</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_wcvp_names">wcvp_names</code></td>
<td>
<p>A data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code> (the default), names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td></tr>
<tr><td><code id="wcvp_checklist_+3A_wcvp_distributions">wcvp_distributions</code></td>
<td>
<p>A data frame of distributions from WCVP version 7 or later.
If <code>NULL</code> (the default), distributions will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>synonyms</code> argument can be used to limit names to those that are Accepted. If <code>synonyms = TRUE</code> then invalid, illegitimate and other non-accepted names are also included (i.e., the checklist is not limited to names for which <code>taxon_status == "Synonym"</code>).
Two styles of checklist are supported in <code>rWCVP</code> - alphabetical and taxonomic.
In an alphabetical checklist, all names are arranged alphabetically with accepted names in bold, and synonyms are followed by their accepted name.
For a taxonomic checklist, names are grouped by their accepted names, and synonyms are listed beneath. Both types of checklist include author, publication and distribution information, though note that family headings are only supported in alphabetical checklists (due to the additional grouping requirement of the taxonomic format).
</p>


<h3>Value</h3>

<p>Data frame with filtered data and, if <code>render_report=TRUE</code>. a report HTML file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples take &gt;10 seconds to run and require 'rWCVPdata'

if(requireNamespace("rWCVPdata")){
wcvp_checklist(taxon = "Myrtaceae", taxon_rank = "family", area = get_wgsrpd3_codes("Brazil"))
wcvp_checklist(taxon = "Ferns", taxon_rank = "higher", area = get_wgsrpd3_codes("New Zealand"))
}

</code></pre>

<hr>
<h2 id='wcvp_distribution'>Generate spatial distribution objects for species, genera or families</h2><span id='topic+wcvp_distribution'></span>

<h3>Description</h3>

<p>Generate spatial distribution objects for species, genera or families
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_distribution(
  taxon,
  taxon_rank = c("species", "genus", "family", "order", "higher"),
  native = TRUE,
  introduced = TRUE,
  extinct = TRUE,
  location_doubtful = TRUE,
  wcvp_names = NULL,
  wcvp_distributions = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_distribution_+3A_taxon">taxon</code></td>
<td>
<p>Character. The taxon to be mapped. Must be provided.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_+3A_taxon_rank">taxon_rank</code></td>
<td>
<p>Character. One of &quot;species&quot;, &quot;genus&quot;, &quot;family&quot;, &quot;order&quot; or &quot;higher&quot;, giving the rank of the value in <code>taxon</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_+3A_native">native</code></td>
<td>
<p>Logical. Include native range? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_+3A_introduced">introduced</code></td>
<td>
<p>Logical. Include introduced range? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_+3A_extinct">extinct</code></td>
<td>
<p>Logical. Include extinct range? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_+3A_location_doubtful">location_doubtful</code></td>
<td>
<p>Logical. Include occurrences that are thought to be
doubtful? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_+3A_wcvp_names">wcvp_names</code></td>
<td>
<p>A data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code> (the default), names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_+3A_wcvp_distributions">wcvp_distributions</code></td>
<td>
<p>A data frame of distributions from WCVP version 7 or later.
If <code>NULL</code> (the default), distributions will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Where <code>taxon_rank</code> is higher than species, the distribution of the whole
group will be returned, not individual species within that group. This also applies when
toggling options - for example, introduced occurrences will only be included if they are
outside the native range, regardless of whether <code>native=TRUE</code> or <code>native=FALSE</code>.
To identify extinctions, introductions or doubtful occurrences within the native range,
the <code>wcvp_summary</code> and <code>wcvp_occ_mat</code> functions can be used.
</p>


<h3>Value</h3>

<p>Simple features (<code>sf</code>) data frame containing the range polygon/s of the taxon.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # this example requires 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
r &lt;- wcvp_distribution("Callitris", taxon_rank = "genus")
p &lt;- wcvp_distribution_map(r)
p
}

</code></pre>

<hr>
<h2 id='wcvp_distribution_map'>Plot distribution maps for species, genera or families</h2><span id='topic+wcvp_distribution_map'></span>

<h3>Description</h3>

<p>Plot distribution maps for species, genera or families
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_distribution_map(
  range,
  crop_map = FALSE,
  native = TRUE,
  introduced = TRUE,
  extinct = TRUE,
  location_doubtful = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_distribution_map_+3A_range">range</code></td>
<td>
<p>Simple features (<code>sf</code>) data frame of the type output by <code><a href="#topic+wcvp_distribution">wcvp_distribution()</a></code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_map_+3A_crop_map">crop_map</code></td>
<td>
<p>Logical. Crop map extent to distribution? Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_map_+3A_native">native</code></td>
<td>
<p>Logical. Include native range? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_map_+3A_introduced">introduced</code></td>
<td>
<p>Logical. Include introduced range? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_map_+3A_extinct">extinct</code></td>
<td>
<p>Logical. Include extinct range? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="wcvp_distribution_map_+3A_location_doubtful">location_doubtful</code></td>
<td>
<p>Logical. Include occurrences that are thought to be
doubtful? Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The colour scheme mirrors that used by Plants of the World (POWO;
https://powo.science.kew.org/), where green is native, purple is introduced, red is extinct and orange is doubtful. See Examples for how to use custom colours.
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot</a></code> of the distribution.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # these examples require 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
p &lt;- wcvp_distribution_map(wcvp_distribution("Callitris", taxon_rank = "genus"))
p
# now only the native range, and cropped to range extent
p &lt;- wcvp_distribution_map(wcvp_distribution("Callitris", taxon_rank = "genus"),
  introduced = FALSE, crop_map = TRUE
)
p
# now with different colours
# note that this taxon only has native and introduced occurrences, so only two colours are needed
p &lt;- wcvp_distribution_map(wcvp_distribution("Callitris", taxon_rank = "genus"))
p +
  # for polygons
  ggplot2::scale_fill_manual(values = c("red", "blue")) +
  # for points (islands)
  ggplot2::scale_colour_manual(values = c("red", "blue"))
  }
  

</code></pre>

<hr>
<h2 id='wcvp_match_exact'>Exact matching to WCVP.</h2><span id='topic+wcvp_match_exact'></span>

<h3>Description</h3>

<p>Exact matching of names to the WCVP, optionally using the author string to
refine results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_match_exact(names_df, wcvp_names, name_col, author_col = NULL, id_col)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_match_exact_+3A_names_df">names_df</code></td>
<td>
<p>Data frame of names for matching.</p>
</td></tr>
<tr><td><code id="wcvp_match_exact_+3A_wcvp_names">wcvp_names</code></td>
<td>
<p>Data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code> (the default), names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td></tr>
<tr><td><code id="wcvp_match_exact_+3A_name_col">name_col</code></td>
<td>
<p>Character. The column in <code>names_df</code> that has the taxon name
for matching.</p>
</td></tr>
<tr><td><code id="wcvp_match_exact_+3A_author_col">author_col</code></td>
<td>
<p>the column in <code>names_df</code> that has the name authority, to aid
matching. Set to <code>NULL</code> to match with no author string.</p>
</td></tr>
<tr><td><code id="wcvp_match_exact_+3A_id_col">id_col</code></td>
<td>
<p>the column in <code>names_df</code> that has the observation id.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Match results from WCVP bound to the original data from <code>names_df</code>.
</p>


<h3>See Also</h3>

<p>Other name matching functions: 
<code><a href="#topic+wcvp_match_fuzzy">wcvp_match_fuzzy</a>()</code>,
<code><a href="#topic+wcvp_match_names">wcvp_match_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # these examples require 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
wcvp_names &lt;- rWCVPdata::wcvp_names

# including author string
wcvp_match_exact(redlist_example, wcvp_names, "scientificName",
  author_col = "authority",
  id_col = "assessmentId"
)

# without author string
wcvp_match_exact(redlist_example, wcvp_names, "scientificName", id_col = "assessmentId")
}


</code></pre>

<hr>
<h2 id='wcvp_match_fuzzy'>Fuzzy (approximate) matching to the WCVP.</h2><span id='topic+wcvp_match_fuzzy'></span><span id='topic+phonetic_match'></span><span id='topic+edit_match'></span>

<h3>Description</h3>

<p>Fuzzy matching to names in the WCVP using phonetic matching and edit distance.
The WCVP can be loaded for matching from <a href="https://matildabrown.github.io/rWCVPdata/">rWCVPdata::wcvp_names</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_match_fuzzy(names_df, wcvp_names, name_col, progress_bar = TRUE)

phonetic_match(names_df, wcvp_names, name_col)

edit_match(names_df, wcvp_names, name_col)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_match_fuzzy_+3A_names_df">names_df</code></td>
<td>
<p>Data frame of names for matching.</p>
</td></tr>
<tr><td><code id="wcvp_match_fuzzy_+3A_wcvp_names">wcvp_names</code></td>
<td>
<p>Data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code> (the default), names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td></tr>
<tr><td><code id="wcvp_match_fuzzy_+3A_name_col">name_col</code></td>
<td>
<p>Character. The column in <code>names_df</code> that has the taxon name
for matching.</p>
</td></tr>
<tr><td><code id="wcvp_match_fuzzy_+3A_progress_bar">progress_bar</code></td>
<td>
<p>Logical. Show progress bar when matching? Defaults to
<code>TRUE</code>; should be changed to <code>FALSE</code> if used in a markdown report.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>wcvp_match_fuzzy</code> function uses phonetic matching first and then finds
the closest match based on edit distance for any remaining names.
</p>
<p>Phonetic matching uses <a href="phonics.html#topic+metaphone">phonics::metaphone</a> encoding with a maximum
code length of 20.
</p>
<p>Edit distance matching finds the closest match based on Levenshtein similarity,
calculated by <a href="RecordLinkage.html#topic+strcmp">RecordLinkage::levenshteinSim</a>.
</p>


<h3>Value</h3>

<p>Match results from WCVP bound to the original data from <code>names_df</code>.
</p>


<h3>See Also</h3>

<p>Other name matching functions: 
<code><a href="#topic+wcvp_match_exact">wcvp_match_exact</a>()</code>,
<code><a href="#topic+wcvp_match_names">wcvp_match_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # this example requires 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
wcvp_names &lt;- rWCVPdata::wcvp_names
wcvp_match_fuzzy(redlist_example, wcvp_names, "scientificName")
}


 # this example requires 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
wcvp_names &lt;- rWCVPdata::wcvp_names
phonetic_match(redlist_example, wcvp_names, "scientificName")
}


 # this example requires 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
wcvp_names &lt;- rWCVPdata::wcvp_names
edit_match(redlist_example, wcvp_names, "scientificName")
}


</code></pre>

<hr>
<h2 id='wcvp_match_names'>Match names to the WCVP.</h2><span id='topic+wcvp_match_names'></span>

<h3>Description</h3>

<p>Match names to WCVP, first using exact matching and then using fuzzy matching
on any remaining unmatched names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_match_names(
  names_df,
  wcvp_names = NULL,
  name_col = NULL,
  id_col = NULL,
  author_col = NULL,
  join_cols = NULL,
  fuzzy = TRUE,
  progress_bar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_match_names_+3A_names_df">names_df</code></td>
<td>
<p>Data frame of names for matching.</p>
</td></tr>
<tr><td><code id="wcvp_match_names_+3A_wcvp_names">wcvp_names</code></td>
<td>
<p>Data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code> (the default), names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td></tr>
<tr><td><code id="wcvp_match_names_+3A_name_col">name_col</code></td>
<td>
<p>Character. The column in <code>names_df</code> that has the taxon name
for matching.</p>
</td></tr>
<tr><td><code id="wcvp_match_names_+3A_id_col">id_col</code></td>
<td>
<p>Character. A column in <code>names_df</code> with a unique ID for each
name. Will be created from the row number if not provided.</p>
</td></tr>
<tr><td><code id="wcvp_match_names_+3A_author_col">author_col</code></td>
<td>
<p>the column in <code>names_df</code> that has the name authority, to aid
matching. Set to <code>NULL</code> to match with no author string.</p>
</td></tr>
<tr><td><code id="wcvp_match_names_+3A_join_cols">join_cols</code></td>
<td>
<p>Character. A vector of name parts to make the taxon name,
if <code>name_col</code> is not provided.</p>
</td></tr>
<tr><td><code id="wcvp_match_names_+3A_fuzzy">fuzzy</code></td>
<td>
<p>Logical; whether or not fuzzy matching should be used for names
that could not be matched exactly.</p>
</td></tr>
<tr><td><code id="wcvp_match_names_+3A_progress_bar">progress_bar</code></td>
<td>
<p>Logical. Show progress bar when matching? Defaults to
<code>TRUE</code>; should be changed to <code>FALSE</code> if used in a markdown report.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, exact matching uses only the taxon name (supplied by <code>name_col</code>)
unless a column specifying the author string is provided (as <code>author_col</code>).
</p>
<p>Columns setting out name parts can be supplied as <code>join_cols</code> in place of a
taxon name, but must be supplied in the order you want them joined
(e.g. <code>c("genus", "species", "infra_rank", "infra")</code>).
</p>
<p>Fuzzy matching uses a combination of phonetic and edit distance matching,
and can optionally be turned off using <code>fuzzy=FALSE</code>.
</p>
<p>The WCVP can be loaded for matching from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.
</p>
<p>See <a href="https://matildabrown.github.io/rWCVP/articles/redlist-name-matching.html">here</a> for an example workflow.
</p>


<h3>Value</h3>

<p>Match results from WCVP bound to the original data from <code>names_df</code>.
</p>


<h3>See Also</h3>

<p>Other name matching functions: 
<code><a href="#topic+wcvp_match_exact">wcvp_match_exact</a>()</code>,
<code><a href="#topic+wcvp_match_fuzzy">wcvp_match_fuzzy</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # these examples require 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
wcvp_names &lt;- rWCVPdata::wcvp_names

# without author
wcvp_match_names(redlist_example, wcvp_names,
  name_col = "scientificName",
  id_col = "assessmentId"
)

# with author
wcvp_match_names(redlist_example, wcvp_names,
  name_col = "scientificName",
  id_col = "assessmentId", author_col = "authority"
)
}


</code></pre>

<hr>
<h2 id='wcvp_occ_mat'>Generate occurrence matrix for taxa and areas</h2><span id='topic+wcvp_occ_mat'></span>

<h3>Description</h3>

<p>Generate occurrence matrix for taxa and areas
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_occ_mat(
  taxon = NULL,
  taxon_rank = c("species", "genus", "family", "order", "higher"),
  area_codes = NULL,
  native = TRUE,
  introduced = TRUE,
  extinct = TRUE,
  location_doubtful = TRUE,
  wcvp_names = NULL,
  wcvp_distributions = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_occ_mat_+3A_taxon">taxon</code></td>
<td>
<p>Character. One or many taxa to be included. Defaults to NULL (all species)</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_taxon_rank">taxon_rank</code></td>
<td>
<p>Character. One of &quot;species&quot;, &quot;genus&quot;, &quot;family&quot;, &quot;order&quot; or &quot;higher&quot;, giving the rank of the value/s in <code>taxon</code>. Must be specified unless taxon is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_area_codes">area_codes</code></td>
<td>
<p>Character. One or many WGSPRD level 3 region codes. Defaults to <code>NULL</code> (global).</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_native">native</code></td>
<td>
<p>Logical. Include species occurrences not flagged as introduced, extinct or doubtful? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_introduced">introduced</code></td>
<td>
<p>Logical. Include species occurrences flagged as introduced? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_extinct">extinct</code></td>
<td>
<p>Logical. Include species occurrences flagged as extinct? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_location_doubtful">location_doubtful</code></td>
<td>
<p>Logical. Include species occurrences flagged as location doubtful? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_wcvp_names">wcvp_names</code></td>
<td>
<p>A data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code>, names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/">rWCVPdata::wcvp_names</a>.</p>
</td></tr>
<tr><td><code id="wcvp_occ_mat_+3A_wcvp_distributions">wcvp_distributions</code></td>
<td>
<p>A data frame of distributions from WCVP version 7 or later.
If <code>NULL</code>, distributions will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/">rWCVPdata::wcvp_names</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://matildabrown.github.io/rWCVP/articles/occurrence-matrices.html">here</a> for an example of how this output can be formatted for publication.
</p>


<h3>Value</h3>

<p>A data.frame containing the <code>taxon_name</code> and <code>plant_name_id</code>
of all species that are present in the <code>area</code>, plus one variable for each WGSPRD level 3 region in <code>area</code>, with species presences marked as 1 and absences marked as 0.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # this example requires 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
wcvp_occ_mat(
  taxon = "Poa", taxon_rank = "genus",
  area = c("TAS", "VIC", "NSW"), introduced = FALSE
)
}


</code></pre>

<hr>
<h2 id='wcvp_reformat'>Reformat local versions of WCVP</h2><span id='topic+wcvp_reformat'></span>

<h3>Description</h3>

<p>Reformat local versions of WCVP
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_reformat(wcvp_local, version = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_reformat_+3A_wcvp_local">wcvp_local</code></td>
<td>
<p>Data.frame. Local copy of the WCVP.</p>
</td></tr>
<tr><td><code id="wcvp_reformat_+3A_version">version</code></td>
<td>
<p>Either 9 or &quot;v9&quot;. We will add support for other versions as needed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that not all of the original variables are preserved during reformatting.
For example, publication is a single variable in v9, but split over multiple in
the data package. It is therefore not possible to simply rename this variable.
Variables that are present in the data package but not in v9 are filled with <code>NA</code>.
</p>


<h3>Value</h3>

<p>A data.frame with the same variable structure as the WCVP that is
included in the data package <code>rWCVPdata</code>.
</p>

<hr>
<h2 id='wcvp_summary'>Generate a summary table from the WCVP</h2><span id='topic+wcvp_summary'></span>

<h3>Description</h3>

<p>Generate a summary table from the WCVP
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_summary(
  taxon = NULL,
  taxon_rank = c("species", "genus", "family", "order", "higher"),
  area_codes = NULL,
  grouping_var = c("area_code_l3", "genus", "family", "order", "higher"),
  hybrids = FALSE,
  wcvp_names = NULL,
  wcvp_distributions = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_summary_+3A_taxon">taxon</code></td>
<td>
<p>Character. Taxon to be included. Defaults to NULL (no taxonomic filter; all taxa).</p>
</td></tr>
<tr><td><code id="wcvp_summary_+3A_taxon_rank">taxon_rank</code></td>
<td>
<p>Character. One of &quot;genus&quot;, &quot;family&quot;, &quot;order&quot; or &quot;higher&quot;, giving the rank of the value/s in <code>taxon</code>. Must be specified unless taxon is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="wcvp_summary_+3A_area_codes">area_codes</code></td>
<td>
<p>Character. One or many WGSPRD level 3 region codes. Defaults to <code>NULL</code> (global).</p>
</td></tr>
<tr><td><code id="wcvp_summary_+3A_grouping_var">grouping_var</code></td>
<td>
<p>Character; one of <code>"area_code_l3", "genus", "family","order"</code> or <code>"higher"</code> specifying how the summary should be arranged. Defaults to <code>area_code_l3</code>.</p>
</td></tr>
<tr><td><code id="wcvp_summary_+3A_hybrids">hybrids</code></td>
<td>
<p>Logical. Include hybrid species in counts? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="wcvp_summary_+3A_wcvp_names">wcvp_names</code></td>
<td>
<p>A data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code>, names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/">rWCVPdata::wcvp_names</a>.</p>
</td></tr>
<tr><td><code id="wcvp_summary_+3A_wcvp_distributions">wcvp_distributions</code></td>
<td>
<p>A data frame of distributions from WCVP version 7 or later.
If <code>NULL</code>, distributions will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/">rWCVPdata::wcvp_names</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Valid values for rank 'higher' are 'Angiosperms', 'Gymnosperms', 'Ferns' and 'Lycophytes'.
Note that grouping variable (if taxonomic) should be of a lower level than <code>taxon</code> and <code>taxon_rank</code> to produce a meaningful summary (i.e., it does not make sense to group a genus by genus, family or higher classification).
Additionally, if the grouping variable is taxonomic then species occurrences are aggregated across the input area. This means that if a species is native to any of the input area (even if it is introduced or extinct in other parts) it is counted as 'Native'. Similarly, introduced occurrences take precedence over extinct occurrences. Note that in this type of summary table, 'Endemic' means endemic to the input area, not necessarily to a single WGSRPD Level 3 Area within the input area.
</p>


<h3>Value</h3>

<p>Data.frame with filtered data, or a <code>gt</code> table
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # this example requires 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
ferns &lt;- wcvp_summary("Ferns", "higher", get_wgsrpd3_codes("New Zealand"), grouping_var = "family")
wcvp_summary_gt(ferns)
}


</code></pre>

<hr>
<h2 id='wcvp_summary_gt'>Render a summary table from <a href="#topic+wcvp_summary">wcvp_summary</a></h2><span id='topic+wcvp_summary_gt'></span>

<h3>Description</h3>

<p>Render a summary table from <a href="#topic+wcvp_summary">wcvp_summary</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcvp_summary_gt(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wcvp_summary_gt_+3A_x">x</code></td>
<td>
<p>List.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="gt.html#topic+gt">gt</a> table
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # this example requires 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
ferns &lt;- wcvp_summary("Ferns", "higher", get_wgsrpd3_codes("New Zealand"), grouping_var = "family")
wcvp_summary_gt(ferns)
}

</code></pre>

<hr>
<h2 id='wgsrpd_mapping'>Data for mapping WGSRPD geography to other levels</h2><span id='topic+wgsrpd_mapping'></span>

<h3>Description</h3>

<p>A dataset containing the area (Level 3), #' region (Level 2),
continent (Level 1), country (political) and hemisphere category
for each Level 3 area. Country mapping follows Gallagher et al. (2020).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wgsrpd_mapping
</code></pre>


<h3>Format</h3>

<p>A data frame with 370 rows and 7 variables:
</p>

<dl>
<dt>HEMISPHERE</dt><dd><p>Northern, Southern or Equatorial (spanning the equator).</p>
</dd>
<dt>LEVEL1_COD</dt><dd><p>Continent code.</p>
</dd>
<dt>LEVEL1_NAM</dt><dd><p>Continent.</p>
</dd>
<dt>LEVEL2_COD</dt><dd><p>Region code.</p>
</dd>
<dt>LEVEL2_NAM</dt><dd><p>Region.</p>
</dd>
<dt>COUNTRY</dt><dd><p>Country (political; from Gallagher et al., 2020)</p>
</dd>
<dt>LEVEL3_COD</dt><dd><p>Area code.</p>
</dd>
<dt>LEVEL3_NAM</dt><dd><p>Area.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Modified from data available at <a href="https://github.com/tdwg/wgsrpd">https://github.com/tdwg/wgsrpd</a>
</p>

<hr>
<h2 id='wgsrpd3'>Biodiversity Information Standards (TDWG) World Geographical Scheme for
Recording Plant Distributions (WGSRPD)</h2><span id='topic+wgsrpd3'></span>

<h3>Description</h3>

<p>Spatial data for WGSRPD Level 3, for plotting maps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wgsrpd3
</code></pre>


<h3>Format</h3>

<p>An 'sf' object with 20 rows and 4 variables:
</p>

<dl>
<dt>LEVEL3_NAM</dt><dd><p>Region name</p>
</dd>
<dt>LEVEL3_COD</dt><dd><p>Region code</p>
</dd>
<dt>LEVEL2_COD</dt><dd><p>Level 2 code</p>
</dd>
<dt>LEVEL1_COD</dt><dd><p>Level 1 code (continent)</p>
</dd>
<dt>geometry</dt><dd><p>sf geometry</p>
</dd>
<dt>fillcol</dt><dd><p>Used for mapping.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/tdwg/wgsrpd/tree/master/level3">https://github.com/tdwg/wgsrpd/tree/master/level3</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

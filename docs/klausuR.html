<!DOCTYPE html><html><head><title>Help for package klausuR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {klausuR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#klausuR-package'><p>Multiple Choice Test Evaluation</p></a></li>
<li><a href='#antworten'>
<p>Sample dataset: antworten</p></a></li>
<li><a href='#antworten.mufo'>
<p>Sample dataset: antworten.mufo</p></a></li>
<li><a href='#compare'><p>Comparison of data sets</p></a></li>
<li><a href='#grand.table'><p>Export results to a table</p></a></li>
<li><a href='#klausur'><p>Evaluate multiple choice tests</p></a></li>
<li><a href='#klausuR,-class'><p>Class klausuR</p></a></li>
<li><a href='#klausuR.answ,-class'><p>Class klausuR.answ</p></a></li>
<li><a href='#klausur.data'><p>A function to create data objects with given and correct answers to a test.</p></a></li>
<li><a href='#klausur.gen'><p>Generate empty data sets for the use with klausur</p></a></li>
<li><a href='#klausur.gen.corr'><p>A function to generate a vector with correct answers</p></a></li>
<li><a href='#klausur.gen.marks'><p>Generate mark assignments</p></a></li>
<li><a href='#klausur.mufo'><p>Evaluate multiple choice tests with several test forms</p></a></li>
<li><a href='#klausuR.mult-class'><p>Class klausuR.mult</p></a></li>
<li><a href='#klausur.report'><p>Generate individual reports on multipe choice test results</p></a></li>
<li><a href='#klausuR.test,-class'><p>Class klausuR.test</p></a></li>
<li><a href='#nret.rescale'><p>Rescale test evaluation results</p></a></li>
<li><a href='#nret.translator'><p>Convert NRET/ET data between klausuR and other software</p></a></li>
<li><a href='#plot'><p>Plot methods for S4 objects of class klausuR and klausuR.mult</p></a></li>
<li><a href='#show,klausuR-method'><p>Show methods for S4 objects of classes klausuR and klausuR.mult</p></a></li>
<li><a href='#sort'><p>Sort method for S4 objects of class klausuR</p></a></li>
<li><a href='#spss.data'>
<p>Sample dataset: spss.data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Multiple Choice Test Evaluation</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of functions designed to quickly generate results of a multiple choice
          test. Generates detailed global results, lists for anonymous feedback and
          personalised result feedback (in LaTeX and/or PDF format), as well as item
          statistics like Cronbach's alpha or disciminatory power. 'klausuR' also
          includes a plugin for the R GUI and IDE RKWard, providing graphical dialogs for
          its basic features. The respective R package 'rkward' cannot be installed
          directly from a repository, as it is a part of RKWard. To make full use of this
          feature, please install RKWard from <a href="https://rkward.kde.org">https://rkward.kde.org</a> (plugins are
          detected automatically). Due to some restrictions on CRAN, the full package
          sources are only available from the project homepage.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.9.0), xtable</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, graphics, tools, utils, stats, grDevices, psych</td>
</tr>
<tr>
<td>Enhances:</td>
<td>rkward</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://reaktanz.de/?c=hacking&amp;s=klausuR">https://reaktanz.de/?c=hacking&amp;s=klausuR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/unDocUMeantIt/klausuR/issues">https://github.com/unDocUMeantIt/klausuR/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.12-14</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-04</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Collate:</td>
<td>'00_class_01_klausuR.test.R' '00_class_02_klausuR.R'
'00_class_03_klausuR.answ.R' '00_class_04_klausuR.mult.R'
'01_method_plot.klausuR.R' '01_method_show.klausuR.R'
'01_method_sort.klausuR.R' 'compare.R' 'grand.table.R'
'klausuR-internal.R' 'klausuR-internal_LaTeX_report.R'
'klausuR-package.R' 'klausur.R' 'klausur.data.R'
'klausur.gen.R' 'klausur.gen.corr.R' 'klausur.gen.marks.R'
'klausur.mufo.R' 'klausur.report.R' 'nret.rescale.R'
'nret.translator.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-04 16:48:54 UTC; m</td>
</tr>
<tr>
<td>Author:</td>
<td>m.eik michalke [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>m.eik michalke &lt;meik.michalke@hhu.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-04 21:40:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='klausuR-package'>Multiple Choice Test Evaluation</h2><span id='topic+klausuR'></span><span id='topic+klausuR-package'></span>

<h3>Description</h3>

<p>A set of functions designed to quickly generate results of a multiple choice
          test. Generates detailed global results, lists for anonymous feedback and
          personalised result feedback (in LaTeX and/or PDF format), as well as item
          statistics like Cronbach's alpha or disciminatory power. 'klausuR' also
          includes a plugin for the R GUI and IDE RKWard, providing graphical dialogs for
          its basic features. The respective R package 'rkward' cannot be installed
          directly from a repository, as it is a part of RKWard. To make full use of this
          feature, please install RKWard from &lt;https://rkward.kde.org&gt; (plugins are
          detected automatically). Due to some restrictions on CRAN, the full package
          sources are only available from the project homepage.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> klausuR</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.12-14</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-04-04</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 2.9.0), xtable</td>
</tr>
<tr>
 <td style="text-align: left;">
Enhances: </td><td style="text-align: left;"> rkward</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://reaktanz.de/?c=hacking&amp;s=klausuR</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>NA
</p>
<p>Maintainer: NA
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://reaktanz.de/?c=hacking&amp;s=klausuR">https://reaktanz.de/?c=hacking&amp;s=klausuR</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/unDocUMeantIt/klausuR/issues">https://github.com/unDocUMeantIt/klausuR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='antworten'>
Sample dataset: antworten
</h2><span id='topic+antworten'></span>

<h3>Description</h3>

<p>Sample data of a multiple choice test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(antworten)</code></pre>


<h3>Format</h3>

<p>A data.frame with 20 observations of the following 37 variables.
</p>

<dl>
<dt><code>No</code></dt><dd><p>Serial number for each subject (numeric vector)</p>
</dd>
<dt><code>Name</code></dt><dd><p>Family name (character vector)</p>
</dd>
<dt><code>FirstName</code></dt><dd><p>First name (character vector)</p>
</dd>
<dt><code>MatrNo</code></dt><dd><p>Matriculation number (numeric vector)</p>
</dd>
<dt><code>Pseudonym</code></dt><dd><p>Pseudonym for anonymous feedback (character)</p>
</dd>
<dt><code>Item01</code> to <code>Item30</code></dt><dd><p>given answers,
only one answer per item (numeric vector)</p>
</dd>
<dt><code>Item31</code> to <code>Item32</code></dt><dd><p>given answers,
several answers per item (numeric vector)</p>
</dd>
</dl>



<h3>Details</h3>

<p>This data was anonymised and Items 31 and 32 modified,
to demonstrate items with multiple answers as well.
</p>


<h3>Source</h3>

<p>The data was taken from a final exam test in differential psychology at the Institute for Experimental
Psychology of the Heinrich-Heine-University Düsseldorf, summer term 2009.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(antworten)
</code></pre>

<hr>
<h2 id='antworten.mufo'>
Sample dataset: antworten.mufo
</h2><span id='topic+antworten.mufo'></span><span id='topic+corr.key'></span>

<h3>Description</h3>

<p>Sample data of a multiple choice test with two test forms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(antworten.mufo)</code></pre>


<h3>Format</h3>

<p>A data.frame with 20 observations of the following 38 variables.
</p>

<dl>
<dt><code>No</code></dt><dd><p>Serial number for each subject (numeric vector)</p>
</dd>
<dt><code>Name</code></dt><dd><p>Family name (character vector)</p>
</dd>
<dt><code>FirstName</code></dt><dd><p>First name (character vector)</p>
</dd>
<dt><code>MatrNo</code></dt><dd><p>Matriculation number (numeric vector)</p>
</dd>
<dt><code>Pseudonym</code></dt><dd><p>Pseudonym for anonymous feedback (character)</p>
</dd>
<dt><code>Item01</code> to <code>Item30</code></dt><dd><p>given answers,
only one answer per item (numeric vector)</p>
</dd>
<dt><code>Item31</code> to <code>Item32</code></dt><dd><p>given answers,
several answers per item (numeric vector)</p>
</dd>
<dt><code>Form</code></dt><dd><p>Test form (character vector)</p>
</dd>
</dl>

<p>And a matrix called <code>corr.key</code> with indices for all items in the two test forms.
</p>


<h3>Details</h3>

<p>The data is actually the same as <code>antworten</code>. But in this object the items of the last 10 test
subjects were reversed, hence this is test form &rdquo;b&rdquo;. As a convenience,
a matrix called <code>corr.key</code>
is also included. This data can be used to test <code>klausur.mufo</code>.
</p>


<h3>Source</h3>

<p>The data was taken from a final exam test in differential psychology at the Institute for Experimental
Psychology of the Heinrich-Heine-University Düsseldorf, summer term 2009.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(antworten.mufo)
</code></pre>

<hr>
<h2 id='compare'>Comparison of data sets</h2><span id='topic+compare'></span>

<h3>Description</h3>

<p>The function <code>compare</code> will take two data.frames (or objects of class <code><a href="#topic+klausuR.answ-class">klausuR.answ-class</a></code>)
and compare them for equality. This is useful to check for typos before you calculate the results with
<code><a href="#topic+klausur">klausur</a></code>. If you need to type in the given answers by hand,
errors 
easily occur,
so it is advisable to input all data at least twice (perhaps by different persons) and check for differences
with this function,
which can then be corrected by looking up the original answer in the test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare(
  set1,
  set2,
  select = NULL,
  ignore = NULL,
  new.set = FALSE,
  rename = c(),
  trim = FALSE,
  id = list(No = "No", Name = c("FirstName", "Name"))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_+3A_set1">set1</code>, <code id="compare_+3A_set2">set2</code></td>
<td>
<p>The data sets to be compared. Can be two data.frames or objects of class <code><a href="#topic+klausuR.answ-class">klausuR.answ-class</a></code>.
If the latter, their slots <code>id</code> and <code>items</code> will be compared.</p>
</td></tr>
<tr><td><code id="compare_+3A_select">select</code></td>
<td>
<p>A vector with variables that should be compared,
all others are omitted. At least all the values given in <code>id</code> are needed for the output!
If <code>NULL</code>, all variables are examined.</p>
</td></tr>
<tr><td><code id="compare_+3A_ignore">ignore</code></td>
<td>
<p>A vector with variables that should be dropped from both sets. See also <code>select</code>.</p>
</td></tr>
<tr><td><code id="compare_+3A_new.set">new.set</code></td>
<td>
<p>Logical. If <code>TRUE</code>, a data.frame of the compared sets is returned,
with all unequal cells set to NA.</p>
</td></tr>
<tr><td><code id="compare_+3A_rename">rename</code></td>
<td>
<p>A named vector defining if variables in <code>set1</code> and <code>set2</code> need to be renamed into the klausuR name scheme. Accepts elements
named <code>No</code>, <code>Name</code>, <code>FirstName</code>, <code>MatrNo</code>,
<code>Pseudonym</code> and <code>Form</code>. The values of these elements
represent the variable names of the input data.</p>
</td></tr>
<tr><td><code id="compare_+3A_trim">trim</code></td>
<td>
<p>Logical. Indicates wheter whitespace in character variables should be trimmed.</p>
</td></tr>
<tr><td><code id="compare_+3A_id">id</code></td>
<td>
<p>A named list of character vectors to help identify differing cases in the input data. The element names of this list will become column names in the
generated output table,
their values define the respective column names of the input data. If a value has more than one element, they will be collapsed into
one string for the output.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you don't want to compare all variables but only a subset,
you can use the <code>select</code> option (see examples below).
But be careful with this,
at least all the values given in <code>id</code> are needed to produce the output table.
</p>
<p>If <code>new.set=TRUE</code>, a new data.frame will be returned,
that is identical in both sets compared, but all dubious values
will be replaced by <code>NA</code>.
</p>


<h3>Value</h3>

<p>If <code>new.set=FALSE</code>, a data.frame of the differences, if found (if not,
just a message is returned). Otherwise returns a combined data.frame (see details).
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(antworten)

# create some differences
antworten2 &lt;- antworten[-3, -7]
antworten2[4,6] &lt;- NA
antworten2[8,8:10] &lt;- antworten2[8,8:10] + 1

# default comparison
compare(antworten, antworten2)

# compare only variables 1 to 12
compare(antworten, antworten2, select=c(1:12))

# omit variables 3 to 8 and create a new set called "antworten.comp"
# from the results
antworten.comp &lt;- compare(antworten, antworten2, select=-c(3:8), new.set=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='grand.table'>Export results to a table</h2><span id='topic+grand.table'></span>

<h3>Description</h3>

<p>Try this function to combine results from an evaluated test into a matrix and export it to a table,
e.g. to import
in other software products. It can be particularily helpful for ET/NRET coded tests,
if you want to compare the results of
different valid scoring functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grand.table(
  NR.res = NULL,
  NRET.res = NULL,
  NRETp.res = NULL,
  ET.res = NULL,
  rescale = TRUE,
  file = NULL,
  csv2 = TRUE,
  encoding = "CP1252",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grand.table_+3A_nr.res">NR.res</code></td>
<td>
<p>An object of class <code>klausuR</code> which was evaluated according to the NR scoring policy.
Usual MC tests must be given as <code>NR.res</code>, too.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_nret.res">NRET.res</code></td>
<td>
<p>An object of class <code>klausuR</code> which was evaluated according to the NRET scoring policy.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_nretp.res">NRETp.res</code></td>
<td>
<p>An object of class <code>klausuR</code> which was evaluated according to the NRET+ scoring policy.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_et.res">ET.res</code></td>
<td>
<p>An object of class <code>klausuR</code> which was evaluated according to the ET scoring policy.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_rescale">rescale</code></td>
<td>
<p>Logical,
whether ET/NRET scaled results should be rescaled by <code><a href="#topic+nret.rescale">nret.rescale</a></code>.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_file">file</code></td>
<td>
<p>A character string giving a file name to save to. If <code>NULL</code>,
no file will be written.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_csv2">csv2</code></td>
<td>
<p>Logical. If <code>FALSE</code>,
<code>write.csv</code> will be used instead of <code>write.csv2</code>.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_encoding">encoding</code></td>
<td>
<p>Encoding of the exported table.</p>
</td></tr>
<tr><td><code id="grand.table_+3A_...">...</code></td>
<td>
<p>Additional options for <code>write.csv</code>/<code>write.csv2</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame.
</p>


<h3>Note</h3>

<p>For obvious reasons At least one of <code>NR.res</code>, <code>NRET.res</code>,
<code>NRETp.res</code> or <code>ET.res</code>,
or any combination of those, must be specified.
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>

<hr>
<h2 id='klausur'>Evaluate multiple choice tests</h2><span id='topic+klausur'></span>

<h3>Description</h3>

<p>The function <code>klausur</code> expects an object of class <code><a href="#topic+klausuR.answ-class">klausuR.answ-class</a></code>,
containing some
identification data on all subjects and their answers to the test items,
a vector with the correct answers, and optionally a vector with
marks assigned to the points achieved. It will compute global test results as well as some item analysis (including Cronbach's alpha,
discriminatory power and Lienert's selection index of the test items),
and anonymous feedback for the test subjects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>klausur(
  data,
  marks = NULL,
  mark.labels = NULL,
  items = NULL,
  wght = NULL,
  score = "solved",
  matn = NULL,
  na.rm = TRUE,
  cronbach = TRUE,
  item.analysis = TRUE,
  sort.by = "Name",
  maxp = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="klausur_+3A_data">data</code></td>
<td>
<p>An object of class <code><a href="#topic+klausuR.answ-class">klausuR.answ-class</a></code>.</p>
</td></tr>
<tr><td><code id="klausur_+3A_marks">marks</code></td>
<td>
<p>A vector assigning marks to points achieved (see details). Alternatively,
set it to <code>"suggest"</code> to let
<code><a href="#topic+klausur.gen.marks">klausur.gen.marks</a></code> calculate suggestions under the assumption of normal distribution.
If <code>NULL</code>, this value must be set in the <code>data</code> object.</p>
</td></tr>
<tr><td><code id="klausur_+3A_mark.labels">mark.labels</code></td>
<td>
<p>If <code>marks="suggest"</code>, use these as the marks you want to give.</p>
</td></tr>
<tr><td><code id="klausur_+3A_items">items</code></td>
<td>
<p>Indices of a subset of variables in <code>data</code> to be taken as items.</p>
</td></tr>
<tr><td><code id="klausur_+3A_wght">wght</code></td>
<td>
<p>A vector with weights for each item (named also according to <code>Item###</code>). If <code>NULL</code>,
the value from the <code>data</code> object
will be used.</p>
</td></tr>
<tr><td><code id="klausur_+3A_score">score</code></td>
<td>
<p>Specify the scoring policy, must be one of <code>"solved"</code> (default),
<code>"partial"</code>, <code>"liberal"</code>, <code>"pick-n"</code>,
<code>"NR"</code>, <code>"ET"</code>, <code>"NRET"</code>, or <code>"NRET+"</code>.</p>
</td></tr>
<tr><td><code id="klausur_+3A_matn">matn</code></td>
<td>
<p>A matriculation number of a subject,
to receive detailed results for that subject.</p>
</td></tr>
<tr><td><code id="klausur_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical,
whether cases with NAs should be ignored in <code>data</code>. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="klausur_+3A_cronbach">cronbach</code></td>
<td>
<p>Logical. If TRUE, Cronbach's alpha will be calculated.</p>
</td></tr>
<tr><td><code id="klausur_+3A_item.analysis">item.analysis</code></td>
<td>
<p>Logical. If TRUE, some usual item statistics like difficulty,
discriminatory power and distractor analysis will be calculated.</p>
</td></tr>
<tr><td><code id="klausur_+3A_sort.by">sort.by</code></td>
<td>
<p>A character string naming the variable to sort the results by. Set to <code>c()</code> to skip any re-ordering.
If <code>cronbach</code> is TRUE, too,
it will include the alpha values if each item was deleted.</p>
</td></tr>
<tr><td><code id="klausur_+3A_maxp">maxp</code></td>
<td>
<p>Optional numeric value,
if set will be forced as the maximum number of points achievable. This should actually not be needed,
if your test has no strange errors. But if for example it later turns out you need to adjust one item because it has two instead of
one correct answers,
this option can become handy in combination with &quot;partial&quot; scoring and item weights.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For details on the ecpected data structure refer to <code><a href="#topic+klausur.data">klausur.data</a></code>,
</p>
<p><strong>Scoring functions</strong>
</p>
<p>In combination with multiple (correct) answers for certain items you can specify one of six scoring policies via the <code>score</code>-parameter.
If you set it to something othe than <code>"solved"</code>,
as the names may suggest you <strong>allow partially given answers</strong> under the condition that the test subject didn't
check more alternatives than there are correct ones (that is,
if you checked four alternatives where three correct ones were possible, you're out):
</p>

<ul>
<li><p><code>"solved"</code> Multiple Choice: Check all correct alternatives. This is the default,
which means that one will only get any points for an
item if the answer was 100% correct (that is, all or nothing).
</p>
</li>
<li><p><code>"partial"</code> Multiple Choice: Check all correct alternatives,
allow partially given answers, but none of the distractors must be checked.
</p>
</li>
<li><p><code>"liberal"</code> Multiple Choice: Check all correct alternatives,
allow partially given answers, even distractors can be checked.
</p>
</li>
<li><p><code>"pick-n"</code> Multiple Choice: Check all correct alternatives,
allow partially given answers, even distractors can be checked. Difference to <code>"liberal"</code> is
that you will also get points for unchecked distractors.
</p>
</li>
<li><p><code>"ET"</code> Elimination Testing: In contrast to the usual MC procedure,
eliminate/strike all <em>wrong</em> alternatives.
</p>
</li>
<li><p><code>"NRET"</code> Number Right Elimination Testing: Like ET+MC,
eliminate/strike all <em>wrong</em> alternatives <em>and</em> check the correct one.
</p>
</li>
<li><p><code>"NRET+"</code> Number Right Elimination Testing, more strict: Like NRET,
but if more alternatives are checked right than there are right anwers,
it will automatically yield to 0 points for that item.
</p>
</li>
<li><p><code>"NR"</code> Number Right: The usual MC scoring,
but works with ET/NRET data. It was implemented for completeness, e.g. to compare results
of different scoring techniques.
</p>
</li></ul>

<p>An example for <code>"solved"</code>,
<code>"partial"</code> and <code>"liberal"</code>: If an item has five answer alternatives, the correct answer is &quot;134&quot; and a subject checked &quot;15&quot;,
<code>"solved"</code> will give no point (because &quot;15&quot; is not equal to &quot;134&quot;),
as will <code>"partial"</code> (because &quot;5&quot; is wrong),
but <code>"liberal"</code> will give 1/3 (because &quot;1&quot; is correct),
and <code>"pick-n"</code> will give 2/5 (because &quot;1&quot; was correctly checked and &quot;2&quot; correctly unchecked).
</p>
<p><strong>(Number Right) Elimination Testing</strong>
</p>
<p>Note that <code>"ET"</code>,
<code>"NRET"</code>/<code>"NRET+"</code> and <code>"NR"</code> will disable <code>wght</code> as of now,
and <strong>need the data in different format</strong> than the other scoring functions (see <code><a href="#topic+klausur.data">klausur.data</a></code> for details).
<code>klausur</code> will evaluate each answer individually and sum up the points for each item. The alternative-wise evaluations will be documented in the
<code>trfls</code> slot of the results.
Therefore, in these cases that matrix is not boolean,
but more complex. For each item and each subject, a character string represents
the evaluated answer alternatives, with the following elements:
</p>

<ul>
<li><p><code>P</code> True positive: Alternative was checked as right and is right. <em>Points: +1 (+ constant)</em>
</p>
</li>
<li><p><code>p</code> False positive: Alternative was checked as right but is wrong. <em>Points: 0 (+ constant)</em>
</p>
</li>
<li><p><code>N</code> True negative: Alternative was checked as wrong and is wrong. <em>Points: +1 (+ constant)</em>
</p>
</li>
<li><p><code>n</code> False negative: Alternative was checked as wrong but is right. <em>Points: -(alternatives-1) (+ constant)</em>
</p>
</li>
<li><p><code>0</code> Missing: Alternative wasn't checked at all. <em>Points: 0 (+ constant)</em>
</p>
</li>
<li><p><code>*</code> Error: Alternative was checked both wrong and right. <em>Points NRET+: 0 (+ constant);
NR scores 1 point if this was the correct alternative,
ET 1 point if it hit a wrong one,
and NRET sums up the points for both the positive and negative answer (all + constant)</em>
</p>
</li></ul>

<p>An example: If we have an item with four alternatives, and the third one is right (i.e.,
&quot;<code>--+-</code>&quot;), and a test subject considered the first alternative
to be correct and eliminated all others (i.e., &quot;<code>+---</code>&quot;),
it would be evaluated as &quot;<code>pNnN</code>&quot;, that is 0+1-3+1=-1 point, not considering the constant.
As you can see,
it would be possible to end up with a negative sum of points. If you consider how in the end a mark will be assigned to the achieved points,
this would be a problem,
because a vactor cannot have negative indices. To circumvent this issue, klausuR automatically adds a constant to all results, so
that the worst possible result is not negative but 0. This constant is simply (alternatives-1),
i.e. 3 for the example. In other words, if our test had 10
such items,
the results minus 30 would be equivalent to scoring without that constant. You can use <code><a href="#topic+nret.rescale">nret.rescale</a></code> to remove
the constant from the results afterwards.
</p>
<p><strong>Marks</strong>
</p>
<p>The <strong>assigned marks</strong> are expected to be in a certain format as well (see <code><a href="#topic+klausur.data">klausur.data</a></code> for details),
as long as you don't want <code>klausur</code> to suggest them itself. If you want to let klausuR make a suggestion,
set <code>marks="suggest"</code>,
and <code><a href="#topic+klausur.gen.marks">klausur.gen.marks</a></code> kicks in and takes either the <code>mark.labels</code> you have defined here or will
ask you step by step. See the documentation of that function for details. To see the suggested result in detail,
have a look at the slot
<code>marks</code> of the returned object.
</p>
<p>To calculate Cronbach's alpha and item analysis methods from the package <code><a href="psych.html#topic+psych">psych</a></code> are used. Lienert's selction index
(&quot;Selektionskennwert&quot;) aims to consider both discriminatory power (correlation of an item with the test results) and difficulty to determine the
quality of an item. It is defined as
</p>
<p style="text-align: center;"><code class="reqn">S = \frac{r_{it}}{2 \times{} \sqrt{Difficulty \times{} (1-Difficulty)}}</code>
</p>

<p>Item analysis also includes item discrimination.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+klausuR-class">klausuR-class</a></code> with the following slots.
</p>
<table>
<tr><td><code>results</code></td>
<td>
<p>A data.frame with global results</p>
</td></tr>
<tr><td><code>answ</code></td>
<td>
<p>A data.frame with all given answers</p>
</td></tr>
<tr><td><code>corr</code></td>
<td>
<p>A vector with the correct answers</p>
</td></tr>
<tr><td><code>wght</code></td>
<td>
<p>A vector with the weights of items</p>
</td></tr>
<tr><td><code>points</code></td>
<td>
<p>A data.frame with resulting points given for the answers</p>
</td></tr>
<tr><td><code>marks</code></td>
<td>
<p>A vector with assignments of marks to achieved score</p>
</td></tr>
<tr><td><code>marks.sum</code></td>
<td>
<p>A more convenient matrix with summary information on the defined marks</p>
</td></tr>
<tr><td><code>trfls</code></td>
<td>
<p>A data.frame of TRUE/FALSE values,
whether a subject was able to solve an item or not</p>
</td></tr>
<tr><td><code>anon</code></td>
<td>
<p>A data.frame for anonymous feedback</p>
</td></tr>
<tr><td><code>mean</code></td>
<td>
<p>A table with mean, median and quartiles of the test results</p>
</td></tr>
<tr><td><code>sd</code></td>
<td>
<p>Standard deviation of the test results</p>
</td></tr>
<tr><td><code>cronbach</code></td>
<td>
<p>Internal consistency, a list of three elements &quot;alpha&quot;,
&quot;ci&quot; (confidence interval 95%) and &quot;deleted&quot; (alpha if item was removed)</p>
</td></tr>
<tr><td><code>item.analysis</code></td>
<td>
<p>A data.frame with information on difficulty, discriminatory power,
discriminant factor and Lienert's selection index of all items.</p>
</td></tr>
<tr><td><code>distractor.analysis</code></td>
<td>
<p>A list with information on the selected answer alternatives for each individual item (only calculated if <code>item.analysis=TRUE</code>).
Also lists the discriminatory power of each alternative,
being the point-biserial (a.k.a Pearson) correlation of it with the global outcome.</p>
</td></tr>
<tr><td><code>misc</code></td>
<td>
<p>Anything that was stored in the <code>misc</code> slot of the input data.</p>
</td></tr>
</table>
<p>Not all slots are shown by default (refer to <code><a href="#topic+show-methods">show</a></code> and <code><a href="#topic+plot">plot</a></code>).
</p>


<h3>Note</h3>

<p><code>klausur</code> allows some tweaks that are probably not as useful as they seem. For instance,
having items with more than one correct answer doesn't
necessarily yield more diagnostic information,
allowing for those being answered partially adds to that, and binding marks blindly to a normal distribution can
give quite unfair test results! In addition,
please do <strong>always check a sample of the results</strong> to make sure no errors accurred.
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur.data">klausur.data</a></code>,
<code><a href="#topic+klausur.report">klausur.report</a></code>,
<code><a href="#topic+compare">compare</a></code>,
<code><a href="#topic+klausur.gen">klausur.gen</a></code>,
<code><a href="#topic+klausur.gen.marks">klausur.gen.marks</a></code>,
<code><a href="#topic+klausur.gen.corr">klausur.gen.corr</a></code>,
<code><a href="#topic+plot">plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(antworten)

# vector with correct answers:
richtig &lt;- c(Item01=3, Item02=2, Item03=2, Item04=2, Item05=4,
 Item06=3, Item07=4, Item08=1, Item09=2, Item10=2, Item11=4,
 Item12=4, Item13=2, Item14=3, Item15=2, Item16=3, Item17=4,
 Item18=4, Item19=3, Item20=5, Item21=3, Item22=3, Item23=1,
 Item24=3, Item25=1, Item26=3, Item27=5, Item28=3, Item29=4,
 Item30=4, Item31=13, Item32=234)

# vector with assignement of marks:
notenschluessel &lt;- c()
# scheme of assignments: marks[points_from:to] &lt;- mark
notenschluessel[0:12]  &lt;- 5.0
notenschluessel[13:15] &lt;- 4.0
notenschluessel[16:18] &lt;- 3.7
notenschluessel[19:20] &lt;- 3.3
notenschluessel[21]    &lt;- 3.0
notenschluessel[22]    &lt;- 2.7
notenschluessel[23]    &lt;- 2.3
notenschluessel[24]    &lt;- 2.0
notenschluessel[25:26] &lt;- 1.7
notenschluessel[27:29] &lt;- 1.3
notenschluessel[30:32] &lt;- 1.0

# now combine all test data into one object of class klausur.answ
data.obj &lt;- klausur.data(answ=antworten, corr=richtig, marks=notenschluessel)

# if that went well, get the test results
klsr.obj &lt;- klausur(data.obj)

# to try pick-n scoring, we must also define all distractors
falsch &lt;- c(Item01=1245, Item02=1345, Item03=1345, Item04=1345, Item05=1235,
 Item06=1245, Item07=1235, Item08=2345, Item09=1345, Item10=1345, Item11=1235,
 Item12=1235, Item13=1345, Item14=1245, Item15=1345, Item16=1245, Item17=1235,
 Item18=1235, Item19=1245, Item20=1234, Item21=1245, Item22=1245, Item23=2345,
 Item24=1245, Item25=2345, Item26=1245, Item27=1234, Item28=1245, Item29=1235,
 Item30=1235, Item31=245, Item32=15)

data.obj &lt;- klausur.data(answ=antworten, corr=richtig, wrong=falsch,
      marks=notenschluessel)
klsr.obj &lt;- klausur(data.obj, score="pick-n")

############################
 # example for an NRET test
############################
# load sampla data in SPSS format
data(spss.data)
# define correct answers
spss.corr &lt;- c(
   item01=2, item02=3, item03=3, item04=3, item05=2,
   item06=2, item07=3, item08=1, item09=1, item10=2)

# convert into klausuR type coding
klausuR.data &lt;- nret.translator(spss.data, spss="in")
klausuR.corr &lt;- nret.translator(spss.corr, spss="in", corr=TRUE,
  num.alt=3, spss.prefix=c(corr="item"))
# now create the data object; "Nickname" must be renamed
data.obj &lt;- klausur.data(answ=klausuR.data, corr=klausuR.corr,
  rename=c(Pseudonym="Nickname"))

 # finally, the test can be evaluated, using the scoring functions available
NRET.results &lt;- klausur(data.obj, marks="suggest", mark.labels=11, score="NRET")
NRETplus.results &lt;- klausur(data.obj, marks="suggest", mark.labels=11, score="NRET+")
NR.results &lt;- klausur(data.obj, marks="suggest", mark.labels=11, score="NR")
ET.results &lt;- klausur(data.obj, marks="suggest", mark.labels=11, score="ET")
</code></pre>

<hr>
<h2 id='klausuR+2C-class'>Class klausuR</h2><span id='topic+klausuR+2C-class'></span><span id='topic+klausuR-class'></span>

<h3>Description</h3>

<p>This class is used for objects that are returned by <code><a href="#topic+klausur">klausur</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>results</code></dt><dd><p>A data.frame with global results</p>
</dd>
<dt><code>answ</code></dt><dd><p>A data.frame with all given answers</p>
</dd>
<dt><code>corr</code></dt><dd><p>A vector with the correct answers</p>
</dd>
<dt><code>wght</code></dt><dd><p>A vector with the weights of items</p>
</dd>
<dt><code>points</code></dt><dd><p>A data.frame with resulting points given for the answers</p>
</dd>
<dt><code>marks</code></dt><dd><p>A vector with assignments of marks to achieved score</p>
</dd>
<dt><code>marks.sum</code></dt><dd><p>A more convenient matrix with summary information on the defined marks</p>
</dd>
<dt><code>trfls</code></dt><dd><p>A data.frame of TRUE/FALSE values,
whether a subject was able to solve an item or not</p>
</dd>
<dt><code>anon</code></dt><dd><p>A data.frame for anonymous feedback</p>
</dd>
<dt><code>mean</code></dt><dd><p>A table with mean, median and quartiles of the test results</p>
</dd>
<dt><code>sd</code></dt><dd><p>Standard deviation of the test results</p>
</dd>
<dt><code>cronbach</code></dt><dd><p>Internal consistency, a list of three elements &quot;alpha&quot;,
&quot;ci&quot; (confidence interval 95%) and &quot;deleted&quot; (alpha if item was removed)</p>
</dd>
<dt><code>item.analysis</code></dt><dd><p>A data.frame with information on difficulty,
discriminant power, discriminant factor and selection index of all items.</p>
</dd>
<dt><code>distractor.analysis</code></dt><dd><p>A list with information on the selected answer alternatives for each individual item.</p>
</dd>
<dt><code>test</code></dt><dd><p>Currently an empty placeholder. Planned to hold the actual test items in future releases.</p>
</dd>
<dt><code>misc</code></dt><dd><p>Anything that was stored in the <code>misc</code> slot of the input data.</p>
</dd>
</dl>

<hr>
<h2 id='klausuR.answ+2C-class'>Class klausuR.answ</h2><span id='topic+klausuR.answ+2C-class'></span><span id='topic+klausuR.answ-class'></span>

<h3>Description</h3>

<p>This class is used for objects needed by <code><a href="#topic+klausur">klausur</a></code>.
They contain all relevant data to calculate test results.
</p>


<h3>Slots</h3>


<dl>
<dt><code>corr</code></dt><dd><p>Contains three elements:
</p>

<ul>
<li><p><code>corr</code> The correct answers to each item.
</p>
</li>
<li><p><code>corr.key</code> An optional data.frame or matrix for test with multiple test forms,
indicating the positions
of all items (columns) in all forms (rows). Must have a column called <code>Form</code> (like in <code>id</code>),
and the
item columns must follow the usual name scheme <code>Item###</code>. <code>NULL</code> if not needed.
</p>
</li>
<li><p><code>wrong</code> For pick-n scoring, this is the inverse of <code>corr</code>, i.e.,
all wrong item alternatives.
</p>
</li></ul>
</dd>
<dt><code>id</code></dt><dd><p>Contains the columns <code>No</code>, <code>Name</code>, <code>FirstName</code>,
<code>MatrNo</code>, <code>Pseudonym</code> and <code>Form</code>.</p>
</dd>
<dt><code>items</code></dt><dd><p>Contains a copy of <code>id$MatrNo</code> and all answers to the test items (one item per column).</p>
</dd>
<dt><code>score</code></dt><dd><p>Contains three elements:
</p>

<ul>
<li><p><code>marks</code> The assigned marks for achieved points (<code>NULL</code> if none)
</p>
</li>
<li><p><code>wght</code> Weights for each item (<code>NULL</code> if none)
</p>
</li>
<li><p><code>maxp</code> Optional,
to force a certain maximum points value (<code>NULL</code> if none)
</p>
</li></ul>
</dd>
<dt><code>test</code></dt><dd><p>Currently an empty placeholder. Planned to hold the actual test items in future releases.</p>
</dd>
<dt><code>misc</code></dt><dd><p>Any additional data you'd like to be stored along with <code>id</code> and <code>items</code>,
e.g. table data from/for other software products. Won't be used for anything.</p>
</dd>
</dl>


<h3>Note</h3>

<p>The slots , <code>id</code>, <code>items</code> and <code>misc</code>,
must have the same number of rows and contain copies of the colum <code>MatrNo</code>
for identification.
</p>

<hr>
<h2 id='klausur.data'>A function to create data objects with given and correct answers to a test.</h2><span id='topic+klausur.data'></span>

<h3>Description</h3>

<p><code>klausur.data</code> automatically parses the variable names in <code>answ</code>to decide <strong>which variables are actual test items</strong>,
if they are named according to the given scheme <code>Item###</code>. To help in constructing a data.frame with correct column names one can call the
<code><a href="#topic+klausur.gen">klausur.gen</a></code> utility to generate an empty data object of a given number of items and test subjects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>klausur.data(
  answ,
  corr,
  items = NULL,
  marks = NULL,
  wght = NULL,
  corr.key = NULL,
  rename = c(),
  dummies = c(),
  disc.misc = FALSE,
  na.rm = TRUE,
  item.prefix = c(),
  sort.by = "Name",
  maxp = NULL,
  wrong = NULL,
  keep.cases = NULL,
  recode.na = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="klausur.data_+3A_answ">answ</code></td>
<td>
<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> which has to include at least these variables:
<code>No</code>, <code>Name</code>, <code>FirstName</code>, <code>MatrNo</code>,
as well as <code>Pseudonym</code> (optional)
and variables for the answered items (according to the scheme <code>Item###</code>,
where ### is a number with leading zeros, if needed).</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_corr">corr</code></td>
<td>
<p>A vector with the correct answers to all items in <code>answ</code> (named also according to <code>Item###</code>).</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_items">items</code></td>
<td>
<p>Indices of a subset of variables in <code>answ</code> to be taken as items.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_marks">marks</code></td>
<td>
<p>A vector assigning marks to points achieved (see details). Leave <code>NULL</code> if not available.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_wght">wght</code></td>
<td>
<p>A vector with weights for each item (named also according to <code>Item###</code>). Leave <code>NULL</code> if not available.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_corr.key">corr.key</code></td>
<td>
<p>If test has several test forms: A data.frame or matrix indicating the positions of all items (columns) in all
forms (rows). Must have a column called <code>Form</code> (like <code>answ</code>),
and the item columns must follow the explained name
scheme <code>Item###</code>. <code>NULL</code> if not needed.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_rename">rename</code></td>
<td>
<p>A named vector defining if variables in <code>answ</code> need to be renamed into the klausuR name scheme. Accepts elements
named <code>No</code>, <code>Name</code>, <code>FirstName</code>, <code>MatrNo</code>,
<code>Pseudonym</code> and <code>Form</code>. The values of these elements
represent the variable names of the input data.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_dummies">dummies</code></td>
<td>
<p>A vector of dummy variables to be created,
e.g. if you don't need/want actual data in the <code>id</code> slot.
Can include <code>"No"</code>, <code>"Name"</code>, <code>"FirstName"</code>,
<code>"MatrNo"</code> and <code>"Pseudonym"</code>. Columns will just be filled
with increasing integers.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_disc.misc">disc.misc</code></td>
<td>
<p>Logical. If <code>TRUE</code>,
left over columns from <code>answ</code> will not be stored in slot <code>misc</code> but silently discarded.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical,
whether cases with NAs should be ignored in <code>answ</code>. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_item.prefix">item.prefix</code></td>
<td>
<p>A named character vector with two optional elements,
<code>item</code> and <code>corr</code>, defining the name prefix
used for the items in the test data and the vector with correct answers,
respectively. Defaults to <code>item="Item"</code> and <code>corr="Item"</code>.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_sort.by">sort.by</code></td>
<td>
<p>A character string naming the variable to sort the <code>answ</code> data by. Set to <code>c()</code> to skip any re-ordering.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_maxp">maxp</code></td>
<td>
<p>Optional numeric value,
if set will be forced as the maximum number of points achievable. This should actually not be needed,
if your test has no strange errors. But if for example it later turns out you need to adjust one item because it has two instead of
one correct answers,
this option can become handy in combination with &quot;partial&quot; scoring and item weights.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_wrong">wrong</code></td>
<td>
<p>If you want full pick-n scoring: A vector similar to <code>corr</code>,
but this time listing all alternatives that are wrong.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_keep.cases">keep.cases</code></td>
<td>
<p>A vector of <code>MatrNo</code> values,
if you want to prevent these cases from being dropped even if they contain missing data.
If not <code>NULL</code>,
missing values in all test items are replaced by the value given to <code>recode.na</code>, before <code>na.rm</code> is evaluated.</p>
</td></tr>
<tr><td><code id="klausur.data_+3A_recode.na">recode.na</code></td>
<td>
<p>A value to replace missing data with in all cases specified by <code>keep.cases</code>. Ignored if <code>keep.cases=NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you have <strong>items with multiple correct answers</strong> you can easily code these as one single item: All alternatives a subject has marked should be combined
to a single value without spaces. The vector with correct answers will have to be coded accordingly,
of course. An example: If someone marked the first,
third and fourth answer,
you would code this as &quot;134&quot;. See <code><a href="#topic+klausur.gen.corr">klausur.gen.corr</a></code> for a helpful function to create such an
answer vector. Internally <code>klausur</code> checks for equality of given answers and correct values,
that is,
it will only give that person a point if the correct answer was coded as &quot;134&quot; as well.
</p>
<p><strong>Data for (Number Right) Elimination Testing</strong>
</p>
<p>If your test is to be evaluated according to elimination testing (ET),
number right elimination testing (NRET) or number right (NR, which is actually
multiple choice) scoring,
the data has to be in a different format: In contrast to the usual MC procedure, ET items are answered
by eliminating all alternatives a subject considers <em>wrong</em>; in an NRET test subjects are asked to eliminate all wrong alternatives
<em>and</em> mark the one they consider the correct answer. That is,
for both scoring functions, you need to know for each answer alternative whether
a subject saw it as right, wrong or was not sure and left it open.
</p>
<p>In this implementation,
these answers are to be coded as a plus sign &quot;<code>+</code>&quot; (right answer), a minus sign &quot;<code>-</code>&quot; (wrong answer) or a zero
&quot;<code>0</code>&quot; (missing). If you need to code errors (like both &quot;right&quot; and &quot;wrong&quot; have been marked),
use the asterisk &quot;<code>*</code>&quot; for these cases.
All answers to <strong>one item</strong> belong into <strong>one column</strong>. E.g.,
if you have four answer alternatives, a subject thought the second one to be the correct
answer and eliminated the rest,
you'd have to code this item as &quot;<code>-+--</code>&quot;. The same is true for the vector of correct answers, of course.
</p>
<p><strong>Marks</strong>
</p>
<p>The <strong>assigned marks</strong> are expected to be in a certain format as well,
as long as you don't want <code>klausur</code> to suggest them itself.
Just create an empty vector to start with (say <code>your.marks &lt;- c()</code>) and fill it according to the scheme <code>your.marks[&lt;points from&gt;:&lt;points to&gt;] &lt;- &lt;mark&gt;</code>.
For example: Should one get a 1.7 if in sum 27 to 30 points were achieved,
you'd assign these points as indices to the vector with
<code>your.marks[27:30] &lt;- "1.7"</code> (see example section below). It is crucial to assign marks to the whole range of points that can be achieved in the test.
On the other hand, it's irrelevant wheter you assign decimal marks as in the example,
only integer values, a 15 marks scheme or whatever. The convenience
function <code><a href="#topic+klausur.gen.marks">klausur.gen.marks</a></code> can assist you in creating such a valid vector.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+klausuR.answ-class">klausuR.answ-class</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(antworten)

# vector with correct answers:
richtig &lt;- c(Item01=3, Item02=2, Item03=2, Item04=2, Item05=4,
 Item06=3, Item07=4, Item08=1, Item09=2, Item10=2, Item11=4,
 Item12=4, Item13=2, Item14=3, Item15=2, Item16=3, Item17=4,
 Item18=4, Item19=3, Item20=5, Item21=3, Item22=3, Item23=1,
 Item24=3, Item25=1, Item26=3, Item27=5, Item28=3, Item29=4,
 Item30=4, Item31=13, Item32=234)

# vector with assignement of marks:
notenschluessel &lt;- c()
# scheme of assignments: marks[points_from:to] &lt;- mark
notenschluessel[0:12]  &lt;- 5.0
notenschluessel[13:15] &lt;- 4.0
notenschluessel[16:18] &lt;- 3.7
notenschluessel[19:20] &lt;- 3.3
notenschluessel[21]    &lt;- 3.0
notenschluessel[22]    &lt;- 2.7
notenschluessel[23]    &lt;- 2.3
notenschluessel[24]    &lt;- 2.0
notenschluessel[25:26] &lt;- 1.7
notenschluessel[27:29] &lt;- 1.3
notenschluessel[30:32] &lt;- 1.0

# now combine all test data into one object of class klausur.answ
data.obj &lt;- klausur.data(answ=antworten, corr=richtig, marks=notenschluessel)

# if that went well, get the test results
klsr.obj &lt;- klausur(data.obj)
</code></pre>

<hr>
<h2 id='klausur.gen'>Generate empty data sets for the use with klausur</h2><span id='topic+klausur.gen'></span>

<h3>Description</h3>

<p>Generate empty data sets for the use with klausur
</p>


<h3>Usage</h3>

<pre><code class='language-R'>klausur.gen(items = NULL, obs = 1, items.char = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="klausur.gen_+3A_items">items</code></td>
<td>
<p>An integer declaring the number of items to be created</p>
</td></tr>
<tr><td><code id="klausur.gen_+3A_obs">obs</code></td>
<td>
<p>Integer, numer ob observations</p>
</td></tr>
<tr><td><code id="klausur.gen_+3A_items.char">items.char</code></td>
<td>
<p>Logical,
will the answers be coded as characters or integer numbers (default)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the variables &quot;No&quot;, &quot;Name&quot;, &quot;FirstName&quot;, &quot;MatrNo&quot;, &quot;Pseudonym&quot;,
&quot;Form&quot; and the number of items as needed.
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>, <code><a href="#topic+compare">compare</a></code>,
<code><a href="#topic+klausur.gen.marks">klausur.gen.marks</a></code>,
<code><a href="#topic+klausur.gen.corr">klausur.gen.corr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>antworten2 &lt;- klausur.gen(items=20,obs=40)
</code></pre>

<hr>
<h2 id='klausur.gen.corr'>A function to generate a vector with correct answers</h2><span id='topic+klausur.gen.corr'></span>

<h3>Description</h3>

<p>Create a vector of correct answers to be used by <code><a href="#topic+klausur">klausur</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>klausur.gen.corr(answ = NULL, items.char = FALSE, test.forms = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="klausur.gen.corr_+3A_answ">answ</code></td>
<td>
<p>Either an object with item names in klausuR scheme (see <code><a href="#topic+klausur">klausur</a></code>),
e.g. your observation data,
or an integer representing the maximum score of the test. If NULL, you will
be asked for the maximum score.</p>
</td></tr>
<tr><td><code id="klausur.gen.corr_+3A_items.char">items.char</code></td>
<td>
<p>Logical,
will the answers be coded as characters or integer numbers (default)?</p>
</td></tr>
<tr><td><code id="klausur.gen.corr_+3A_test.forms">test.forms</code></td>
<td>
<p>An integer value specifying how many parallel test forms are available</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default answers are expected to be numeric values. You can change that to character with <code>items.char=TRUE</code>.
</p>
<p>The parameter <code>answ</code> is quite versatile. You can just feed it your observation data,
if it complies
with the naming scheme for items (<code>Item###</code>,
see also <code><a href="#topic+klausur.gen">klausur.gen</a></code>), and
<code>klausur.gen.corr</code> will use all of its items automatically. Or you assign the number of items directly
as an integer value. If you leave <code>answ=NULL</code>,
you will be asked for the number of items.
</p>


<h3>Value</h3>

<p>A numeric or character vector (depending on the parameter <code>items.char</code>).
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
richtig &lt;- klausur.gen.corr(answ=antworten)

## End(Not run)
</code></pre>

<hr>
<h2 id='klausur.gen.marks'>Generate mark assignments</h2><span id='topic+klausur.gen.marks'></span>

<h3>Description</h3>

<p>Create a vector of marks to be used by <code><a href="#topic+klausur">klausur</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>klausur.gen.marks(
  mark.labels = NULL,
  answ = NULL,
  wght = NULL,
  suggest = list(mean = NULL, sd = NULL),
  minp = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="klausur.gen.marks_+3A_mark.labels">mark.labels</code></td>
<td>
<p>Either a vector with labels (names) for all marks that should be assigned to certain test scores,
or one of the arguments 6, 11, 16, &quot;DIHK&quot;, &quot;UK&quot;, &quot;USA&quot; or &quot;A&quot; (see Details). If NULL,
you will be asked to type in labels.</p>
</td></tr>
<tr><td><code id="klausur.gen.marks_+3A_answ">answ</code></td>
<td>
<p>Either an object with item names in klausuR scheme (see <code><a href="#topic+klausur">klausur</a></code>),
e.g. your observation data,
or an integer representing the maximum score of the test. If NULL, you will
be asked for the maximum score.</p>
</td></tr>
<tr><td><code id="klausur.gen.marks_+3A_wght">wght</code></td>
<td>
<p>A vector with weights for each item. If NULL,
the number of items is used as maximum score, that is,
each item gives a point.</p>
</td></tr>
<tr><td><code id="klausur.gen.marks_+3A_suggest">suggest</code></td>
<td>
<p>A list with the elements <code>mean</code> and <code>sd</code>. If both are not NULL,
this function will suggest marks for achieved points
assuming normal distribution. That is,
&quot;mean&quot; and &quot;sd&quot; should be set to the corresponding values of the test's results.</p>
</td></tr>
<tr><td><code id="klausur.gen.marks_+3A_minp">minp</code></td>
<td>
<p>An integer value,
in case there is a minimum score no-one can fall below (which can happen, e.g., with ET/NRET scoring and
different numbers of answer alternatives). Should be left as is in most cases.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>mark.labels</code> is set to one of the arguments 6, 11, 16, &quot;DIHK&quot;, &quot;UK&quot;,
&quot;USA&quot; or &quot;A&quot;, often used schemes for marks will be used as
a preset. In case of <code>mark.labels=6</code>, marks will go from 1 (best) to 6 (failed),
as widely used in German schools.
In case of <code>mark.labels=11</code>, marks will range from 1.0 (best) to 5.0 (failed),
with the marks 1 through 3 being
split into three decimal steps .0, .3 and .7,
as is often used in academic institutions. In case of <code>mark.labels=16</code>,
marks will be a range of points from 15 (best) to 0 (failed),
as often used in German gymnasiums. If <code>mark.labels="A"</code>,
marks A to F are given.
</p>
<p>For the other cases some more probably useful assumptions are being made,
which percentage of achieved points leads to which mark.
If <code>mark.labels="DIHK"</code>, marks will be 1 through 6,
and  calculated according to usual standards of the Deutsche Industrie- und Handelskammer
(1 &gt; 92%, 2 &gt; 81%, 3 &gt; 67%, 4 &gt; 50%, 5 &gt; 30%, 6 below that).
If <code>mark.labels="UK"</code>, marks are A &gt; 90%, B &gt; 65%, C &gt; 35%,
D &gt; 10% and E below that, and for <code>mark.labels="USA"</code> it's
A &gt; 90%, B &gt; 80%, C &gt; 70%,
D &gt; 60% and F below that. Please note that the percentages indicate individual test results
and not &quot;the best X percent of the sample&quot;.
If you'd rather use your own system, either declare it as a vector, or leave as NULL,
and you'll be
asked (be sure to <strong>begin with the worst</strong> mark!).
</p>
<p>The parameter <code>answ</code> is quite versatile as well. You can just feed it your observation data,
if it complies
with the naming scheme for items (<code>Item###</code>,
see also <code><a href="#topic+klausur.gen">klausur.gen</a></code>), and
<code>klausur.gen.marks</code> will calculate the maximum score automatically. Or you assign the maximum directly as an integer
value.
</p>
<p>Another feature can be toggled with the parameter <code>suggest</code>. If you feed it with the mean and standard deviation values of your test's
results,
marks are automatically assigned to the achieved score under the assumption of normal distribution. Please understand that
the naming &quot;suggest&quot; is not an accident! This is only a suggestion, please review it,
tweak it, revise it, until it fits your needs.
However, this feature can directly be called by <code><a href="#topic+klausur">klausur</a></code>.
</p>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
notenschluessel &lt;- klausur.gen.marks(mark.labels=11,answ=antworten)

## End(Not run)
</code></pre>

<hr>
<h2 id='klausur.mufo'>Evaluate multiple choice tests with several test forms</h2><span id='topic+klausur.mufo'></span>

<h3>Description</h3>

<p>This function can be used to evaluate tests that have several test forms. Please be aware that its results only make sense
if each test form uses the same items, only in a different order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>klausur.mufo(
  data,
  marks = NULL,
  mark.labels = NULL,
  items = NULL,
  wght = NULL,
  score = "solved",
  matn = NULL,
  na.rm = TRUE,
  cronbach = TRUE,
  item.analysis = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="klausur.mufo_+3A_data">data</code></td>
<td>
<p>An object of class <code><a href="#topic+klausuR.answ-class">klausuR.answ-class</a></code>.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_marks">marks</code></td>
<td>
<p>A vector assigning marks to points achieved (see details). Alternatively,
set it to <code>"suggest"</code> to let
<code><a href="#topic+klausur.gen.marks">klausur.gen.marks</a></code> calculate suggestions under the assumption of normal distribution.
If <code>NULL</code>, this value must be set in the <code>data</code> object.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_mark.labels">mark.labels</code></td>
<td>
<p>If <code>marks="suggest"</code>, use these as the marks you want to give.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_items">items</code></td>
<td>
<p>Indices of a subset of variables in <code>answ</code> to be taken as items.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_wght">wght</code></td>
<td>
<p>A vector with weights for each item (named also according to <code>Item###</code>). If <code>NULL</code>,
the value from the <code>data</code> object
will be used.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_score">score</code></td>
<td>
<p>Specify the scoring policy, must be one of <code>"solved"</code> (default),
<code>"partial"</code>, <code>"liberal"</code>,
<code>"NR"</code>, <code>"ET"</code>, <code>"NRET"</code>, or <code>"NRET+"</code>.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_matn">matn</code></td>
<td>
<p>A matriculation number of a subject,
to receive detailed results for that subject.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical,
whether cases with NAs should be ignored in <code>data</code>. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_cronbach">cronbach</code></td>
<td>
<p>Logical. If TRUE, Cronbach's alpha will be calculated.</p>
</td></tr>
<tr><td><code id="klausur.mufo_+3A_item.analysis">item.analysis</code></td>
<td>
<p>Logical. If TRUE,
some usual item statistics like difficulty and discriminatory power will be calculated.
If <code>cronbach</code> is TRUE, too,
it will include the alpha values if each item was deleted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Firstly, <code>klausur.mufo</code> will compute partial results for each parallel form,
and in the end combine these to global
results. Cronbach alpha and item analysis will be calculated for all subjects accordingly,
therefore the test items of
all tests will be re-ordered to fit the order of the first given test form (this does not apply to the partial results).
</p>
<p>The parameters are mostly the same as those for <code><a href="#topic+klausur">klausur</a></code>. However,
in the <code>data</code> object the
slot <code>corr</code> must also contain <code>corr.key</code>,
to communicate the order of items in each test form, and the slot <code>id</code>
needs one additional variable called <code>Form</code>.
</p>
<p>An example: You have prepared a test in two different parallel forms &quot;A&quot; an &quot;B&quot;,
So in addition to the variables in <code>data@id</code>
you need to create a variable called <code>Form</code>,
to document which test subject was given which test form. Since form &quot;B&quot; holds the same
items as form &quot;A&quot;, only in a different order,
we only need to define these positions and we're done. Therefore <code>corr.key</code> must
be a matrix or data.frame, again with a column called &quot;Form&quot;, one column for each item,
and one row of data for each test form. That is, you'd need
one row for test form &quot;A&quot; and one for test form &quot;B&quot;,
giving an index for each item where it is placed in the form. For &quot;A&quot; this is
simply ascending numbers from 1 to how many questions you asked,
but for row &quot;B&quot; each number indicates at which position an item
of &quot;A&quot; is to be found. See the example below.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+klausuR.mult-class">klausuR.mult-class</a></code> with the following slots.
</p>
<table>
<tr><td><code>forms</code></td>
<td>
<p>A character vector naming all test forms</p>
</td></tr>
<tr><td><code>results.part</code></td>
<td>
<p>A list of objects of class <code>klausuR</code>,
holding all partial results</p>
</td></tr>
<tr><td><code>results.glob</code></td>
<td>
<p>An object of class <code>klausuR</code> with the global results</p>
</td></tr>
</table>
<p>Not all slots are shown by default (refer to <code><a href="#topic+show-methods">show</a></code>).
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>, <code><a href="#topic+klausur.data">klausur.data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># this will create the data.frame "antworten.mufo"
# and the matrix "corr.key"
data(antworten.mufo)

# vector with correct answers:
richtig &lt;- c(Item01=3, Item02=2, Item03=2, Item04=2, Item05=4,
 Item06=3, Item07=4, Item08=1, Item09=2, Item10=2, Item11=4,
 Item12=4, Item13=2, Item14=3, Item15=2, Item16=3, Item17=4,
 Item18=4, Item19=3, Item20=5, Item21=3, Item22=3, Item23=1,
 Item24=3, Item25=1, Item26=3, Item27=5, Item28=3, Item29=4,
 Item30=4, Item31=13, Item32=234)

# vector with assignement of marks:
notenschluessel &lt;- c()
# scheme of assignments: marks[points_from:to] &lt;- mark
notenschluessel[0:12]  &lt;- 5.0
notenschluessel[13:15] &lt;- 4.0
notenschluessel[16:18] &lt;- 3.7
notenschluessel[19:20] &lt;- 3.3
notenschluessel[21]    &lt;- 3.0
notenschluessel[22]    &lt;- 2.7
notenschluessel[23]    &lt;- 2.3
notenschluessel[24]    &lt;- 2.0
notenschluessel[25:26] &lt;- 1.7
notenschluessel[27:29] &lt;- 1.3
notenschluessel[30:32] &lt;- 1.0

# now combine all test data into one object of class klausur.answ
mufo.data.obj &lt;- klausur.data(answ=antworten.mufo, corr=richtig, marks=notenschluessel,
      corr.key=corr.key)
# expect some warnings here, because some items have no variance
# in their subtest results, hence item analysis fails on them
klsr.mufo.obj &lt;- klausur.mufo(mufo.data.obj)
</code></pre>

<hr>
<h2 id='klausuR.mult-class'>Class klausuR.mult</h2><span id='topic+klausuR.mult-class'></span><span id='topic+klausuR.mult+2C-class'></span>

<h3>Description</h3>

<p>This class is used for objects that are returned by <code><a href="#topic+klausur.mufo">klausur.mufo</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>forms</code></dt><dd><p>A vector with the names of all test forms.</p>
</dd>
<dt><code>results.part</code></dt><dd><p>A list with the partial results of each test form</p>
</dd>
<dt><code>results.glob</code></dt><dd><p>An object of class klausuR-class with overall results</p>
</dd>
</dl>

<hr>
<h2 id='klausur.report'>Generate individual reports on multipe choice test results</h2><span id='topic+klausur.report'></span>

<h3>Description</h3>

<p><code>klausur.report</code> takes (at least) an object of class klausuR (or klausuR.mult) and a matriculation number to generate personal test results
in LaTeX and/or PDF format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>klausur.report(
  klsr,
  matn,
  save = FALSE,
  pdf = FALSE,
  path = NULL,
  file.name = "matn",
  hist = list(points = FALSE, marks = FALSE),
  hist.merge = list(),
  hist.points = "hist_points.pdf",
  hist.marks = "hist_marks.pdf",
  descr = list(title = NULL, name = NULL, date = NULL),
  marks.info = list(points = FALSE, percent = FALSE),
  lang = "en",
  alt.candy = TRUE,
  anon.glob.file = "anon.tex",
  decreasing = TRUE,
  sort.by = "Points",
  NRET.legend = FALSE,
  table.size = "auto",
  merge = FALSE,
  quiet = FALSE,
  fancyhdr = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="klausur.report_+3A_klsr">klsr</code></td>
<td>
<p>An object of class klausuR or klausuR.mult. To create reports from more than one object with the same configuration,
you can
also give them in one list here,
which will cause the function to call itself recursively.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_matn">matn</code></td>
<td>
<p>Matriculation number, &quot;all&quot; (produces individuall documents for all subjects),
&quot;anon&quot; (produces anonymous feedback)
or &quot;glob&quot; (produces a global results document).</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_save">save</code></td>
<td>
<p>Logical: If TRUE,
files are saved to disk (scheme: &quot;<code>path</code>/<code>matn</code>.tex&quot;).</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_pdf">pdf</code></td>
<td>
<p>Logical: If TRUE, LaTeX reports will be converted to PDF automatically,
using <code><a href="tools.html#topic+texi2dvi">texi2dvi</a></code>.
If <code>save</code> is FALSE, a temporary directory is used,
that is only the PDF files will be saved.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_path">path</code></td>
<td>
<p>Path for <code>save</code> and <code>hist</code> files.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_file.name">file.name</code></td>
<td>
<p>File name scheme for the reports,
either &quot;matn&quot; (matriculation number) or &quot;name&quot; (name and firstname).</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_hist">hist</code></td>
<td>
<p>A list with the logical elements <code>points</code> and <code>marks</code>: If TRUE,
the reports will include histograms
of the distribution of points and/or marks. The needed PDF files will be created by <code><a href="#topic+plot">plot</a></code> and saved as well.
(see <code>path</code>, <code>hist.points</code> and <code>hist.marks</code>).</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_hist.merge">hist.merge</code></td>
<td>
<p>If you need/want to combine results from several <code>klausuR</code> class objects for the histograms,
provide them all in a list here.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_hist.points">hist.points</code></td>
<td>
<p>File name for the histogram of points.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_hist.marks">hist.marks</code></td>
<td>
<p>File name for the histogram of marks.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_descr">descr</code></td>
<td>
<p>Details on the test: List with the elements <code>title</code> (title of the test),
<code>name</code> (your name) and <code>date</code>.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_marks.info">marks.info</code></td>
<td>
<p>A list with the logical elements <code>points</code> and <code>percent</code>: If TRUE,
the reports will include a table showing
how marks were assigned to points achieved and/or percent solved, respectively.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_lang">lang</code></td>
<td>
<p>Set to &quot;de&quot; for reports in German, English is the default.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_alt.candy">alt.candy</code></td>
<td>
<p>If TRUE,
a comma will be inserted for items with multiple alternatives (&quot;235&quot; becomes &quot;2, 3, 5&quot; in the printout)</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_anon.glob.file">anon.glob.file</code></td>
<td>
<p>If <code>matn="anon"</code> or <code>matn="glob"</code>,
you can specify a filename for this particular report.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_decreasing">decreasing</code></td>
<td>
<p>Logical,
whether sorting of output should be done increasing or decreasing (only relevant for <code>matn="anon"</code> or
<code>matn="glob"</code>).</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_sort.by">sort.by</code></td>
<td>
<p>Character string naming a variable to sort the results by. Defaults to <code>"Marks"</code> (only relevant for <code>matn="anon"</code> or
<code>matn="glob"</code>).</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_nret.legend">NRET.legend</code></td>
<td>
<p>Logical, If ET/NRET data is reported,
you can demand a legend in the table caption by setting this to true.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_table.size">table.size</code></td>
<td>
<p>Character string to shrink the tables, must be one of <code>"auto"</code>,
<code>"normalsize"</code>, <code>"small"</code>,
<code>"footnotesize"</code>,
<code>"scriptsize"</code> or <code>"tiny"</code>. The default <code>table.size="auto"</code> tries to decide between
<code>"normalsize"</code> and <code>"footnotesize"</code> to avoid pages with only one or two rows. If that fails,
try to manually set the size.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_merge">merge</code></td>
<td>
<p>Logical, if <code>TRUE</code> no individual PDFs will be saved,
but one large file with all reports. Uses the &quot;pdfpages&quot; package,
and only useful if <code>pdf=TRUE</code> as well.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_quiet">quiet</code></td>
<td>
<p>Logical,
if <code>TRUE</code> no feedback messages on the current status are given.</p>
</td></tr>
<tr><td><code id="klausur.report_+3A_fancyhdr">fancyhdr</code></td>
<td>
<p>Logical,
if <code>TRUE</code> additional information is printed in the header and footer of the LaTeX/PDF files.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The report contains, next to the individual results,
a table with all given and correct  answers (using <code><a href="xtable.html#topic+xtable">xtable</a></code>),
as well as nice histograms showing the distribution of the test results (points and/or marks are supportet). If the matriculation numer
is set to &quot;all&quot;,
reports for all subjects are produced. Setting it to &quot;anon&quot; will get you a printable version of the anonymized results.
</p>
<p>By default output is sent to standard out. To save them to disk in LaTeX format a &quot;save&quot; parameter is provided. Alternatively,
the reports
can be converted to PDF format as well. <code>klausur.report</code> is calling <code><a href="tools.html#topic+texi2dvi">texi2dvi</a></code> from the <code>tools</code> package for that.
</p>
<p>If the object is of class klausuR.mult,
only the global results for tests with several test forms are evaluated. In case you'd rather like
reports on each test form,
call <code>klausur.report</code> with the single slots from that object accordingly.
</p>


<h3>Value</h3>

<p>One or several LaTeX and/or PDF documents. If defined two histograms will be plotted.
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>, <code><a href="xtable.html#topic+xtable">xtable</a></code>,
<code><a href="tools.html#topic+texi2dvi">texi2dvi</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(antworten)

# vector with correct answers:
richtig &lt;- c(Item01=3, Item02=2, Item03=2, Item04=2, Item05=4,
 Item06=3, Item07=4, Item08=1, Item09=2, Item10=2, Item11=4,
 Item12=4, Item13=2, Item14=3, Item15=2, Item16=3, Item17=4,
 Item18=4, Item19=3, Item20=5, Item21=3, Item22=3, Item23=1,
 Item24=3, Item25=1, Item26=3, Item27=5, Item28=3, Item29=4,
 Item30=4, Item31=13, Item32=234)

# vector with assignement of marks:
notenschluessel &lt;- c()
# scheme of assignments: marks[points_from:to] &lt;- mark
notenschluessel[0:12]  &lt;- 5.0
notenschluessel[13:15] &lt;- 4.0
notenschluessel[16:18] &lt;- 3.7
notenschluessel[19:20] &lt;- 3.3
notenschluessel[21]    &lt;- 3.0
notenschluessel[22]    &lt;- 2.7
notenschluessel[23]    &lt;- 2.3
notenschluessel[24]    &lt;- 2.0
notenschluessel[25:26] &lt;- 1.7
notenschluessel[27:29] &lt;- 1.3
notenschluessel[30:32] &lt;- 1.0

data.obj &lt;- klausur.data(answ=antworten, corr=richtig, marks=notenschluessel)
klsr.obj &lt;- klausur(data.obj)

## Not run: 
klausur.report(klsr=klsr.obj, matn="all", descr=list(title="Klausur Tatort",
  name="Dr. T. Aeter", date="24.09.2010"))

## End(Not run)
</code></pre>

<hr>
<h2 id='klausuR.test+2C-class'>Class klausuR.test</h2><span id='topic+klausuR.test+2C-class'></span><span id='topic+klausuR.test-class'></span>

<h3>Description</h3>

<p>This class is currently an empty placeholder. In future releases,
it is planned to contain the actual test items in a list
like format.
</p>


<h3>Slots</h3>


<dl>
<dt><code>items</code></dt><dd><p>Empty dummy.</p>
</dd>
</dl>

<hr>
<h2 id='nret.rescale'>Rescale test evaluation results</h2><span id='topic+nret.rescale'></span>

<h3>Description</h3>

<p>By default <code>klausur</code> adds a constant to results of ET/NRET type tests. This ensures that the minimum value of
points can't fall below zero. If you'd rather like to see the results without this constant,
i.e. results can be negative,
you can rescale them with this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nret.rescale(
  res.obj,
  score = "NRET",
  points = TRUE,
  percent = TRUE,
  marks = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nret.rescale_+3A_res.obj">res.obj</code></td>
<td>
<p>An object of class <code>klausuR</code> with results of an ET/NRET coded test.</p>
</td></tr>
<tr><td><code id="nret.rescale_+3A_score">score</code></td>
<td>
<p>Either <code>"NR"</code>, <code>"ET"</code>, <code>"NRET"</code> or <code>"NRET+"</code>,
defining the scoring function used.</p>
</td></tr>
<tr><td><code id="nret.rescale_+3A_points">points</code></td>
<td>
<p>Logical, whether point values should be rescaled.</p>
</td></tr>
<tr><td><code id="nret.rescale_+3A_percent">percent</code></td>
<td>
<p>Logical, whether the percentage of received points should be rescaled,
so that 0 points are 0 percent.</p>
</td></tr>
<tr><td><code id="nret.rescale_+3A_marks">marks</code></td>
<td>
<p>Logical,
whether the assigned marks should be rescaled to fit the rescaled points (probably a good idea).
However, this will removed the attached mark assignment vecor,
since its indices can't be negative.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>klausuR</code> with rescaled results.
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>

<hr>
<h2 id='nret.translator'>Convert NRET/ET data between klausuR and other software</h2><span id='topic+nret.translator'></span>

<h3>Description</h3>

<p>This function should help to interchange answer data between R and other statistical software packages &ndash; especially
SPSS, but it's probably useful for other products as well.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nret.translator(
  dat,
  items = NULL,
  spss = "out",
  corr = FALSE,
  num.alt = NULL,
  klausuR.alt = c(is.true = "+", is.false = "-", missing = "0", err = "*"),
  spss.alt = c(is.true = "2", is.false = "1", missing = "0", err = "3"),
  rm.old.vars = TRUE,
  items.only = FALSE,
  klausuR.prefix = c(),
  spss.prefix = c()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nret.translator_+3A_dat">dat</code></td>
<td>
<p>A data.frame, the object to convert.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_items">items</code></td>
<td>
<p>Optional vector defining the columns to convert. If <code>NULL</code>,
the function will try to autodetect
Items: <code>klausuR</code> type items are expected to be named <code>"ItemXXX"</code>,
with XXX indicating the item number,
SPSS type items <code>"itemXXXaYY"</code>,
with XXX indicating the item number and YY the number of the answer alternative.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_spss">spss</code></td>
<td>
<p>Either &quot;in&quot; or &quot;out&quot;, depending on the direction of conversion.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_corr">corr</code></td>
<td>
<p>Logical. Set to <code>TRUE</code> if <code>dat</code> is a vector with the correct answers. If <code>corr=TRUE</code> and
<code>spss="in"</code>, you must also set <code>num.alt</code> accordingly!</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_num.alt">num.alt</code></td>
<td>
<p>A numeric value definig the number of answer alternatives for each item. Can be a vector,
if items
have different numbers of options. If it is shorter than the number of items,
it will be repeated for all items.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_klausur.alt">klausuR.alt</code></td>
<td>
<p>A named vector defining the codes for <code>klausuR</code> type of answers.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_spss.alt">spss.alt</code></td>
<td>
<p>A named vector defining the codes for SPSS type of answers.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_rm.old.vars">rm.old.vars</code></td>
<td>
<p>Logical. If <code>TRUE</code>,
the converted columns will not be returned. Only relevant if <code>corr=FALSE</code>.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_items.only">items.only</code></td>
<td>
<p>Logical. If <code>TRUE</code>,
only the converted columns will be returned. Only relevant if <code>corr=FALSE</code>.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_klausur.prefix">klausuR.prefix</code></td>
<td>
<p>A named character vector with two optional elements,
<code>item</code> and <code>corr</code>, defining the name prefix
used for the items in the test data and the vector with correct answers,
respectively. Defaults to <code>item="Item"</code> and <code>corr="Item"</code>.</p>
</td></tr>
<tr><td><code id="nret.translator_+3A_spss.prefix">spss.prefix</code></td>
<td>
<p>Like <code>klausuR.prefix</code>,
but for the SPSS data. Defaults to <code>item="item"</code> and <code>corr="corr"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+klausur">klausur</a></code> expects data in a special format if it should be evaluated according to (Number Right) Elimination
Testing (NRET/ET),
only one variable per item. Other software products might not be able to process this rather
condensed format. In that case, you will most likely need several variables for each item,
i.e. one per answer alternative.
Adding to that, the coding of answers is by default done with &quot;+&quot;, &quot;-&quot;,
&quot;0&quot; and &quot;*&quot; in <code>klausuR</code>, again a
solution that might confuse other products.
</p>
<p>This function translates data in both directions,
and does also convert vectors giving the correct answer. The latter
will turn a <code>klausuR</code> type answer string into a number indicating the correct alternative (and the other way round).
This means that it will only work if there's exactly one valid answer to each item. If you convert towards SPSS,
the resulting list will also include SPSS syntax to define variables respectively.
</p>


<h3>Value</h3>

<p>If <code>corr=FALSE</code>,
a data.frame with more or less columns (depending on <code>rm.old.vars</code> and <code>items.only</code>).
If <code>corr=TRUE</code>,
returns a named vector if <code>spss="in"</code> and a list if <code>spss="out"</code> (containing SPSS syntax
in the element <code>syntax</code> and also a named vector, called <code>answ</code>).
</p>


<h3>Note</h3>

<p>The conversion is done on an object basis, that is,
<code>nret.translator</code> will not open or write files,
but take and return R objects. The function should ignore any other columns/variables in the object.
</p>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# from SPSS to R
data(spss.data)
klausuR.data &lt;- nret.translator(spss.data, spss="in")
spss.corr &lt;- c(
   item01=2, item02=3, item03=3, item04=3, item05=2,
   item06=2, item07=3, item08=1, item09=1, item10=2)
klausuR.corr &lt;- nret.translator(spss.corr, spss="in", corr=TRUE, num.alt=3)

# from R to SPSS
spss.data &lt;- nret.translator(klausuR.data)
spss.corr &lt;- nret.translator(klausuR.corr, corr=TRUE, num.alt=3)
# if you find the syntax useful
cat(spss.corr$syntax, file="~/somewhere/NRET.sps")

## End(Not run)
</code></pre>

<hr>
<h2 id='plot'>Plot methods for S4 objects of class klausuR and klausuR.mult</h2><span id='topic+plot'></span><span id='topic+plot+2C-methods'></span><span id='topic+plot+2CklausuR-method'></span><span id='topic+plot+2CklausuR+2Cmissing-method'></span><span id='topic+plot+2CklausuR.mult-method'></span><span id='topic+plot+2CklausuR.mult+2Cmissing-method'></span><span id='topic+plot+2CklausuR+2Cmissing+2CANY-method'></span><span id='topic+plot+2CklausuR.mult+2Cmissing+2CANY-method'></span>

<h3>Description</h3>

<p>These plot methods are beeing called by <code><a href="#topic+klausur.report">klausur.report</a></code>.
If <code>x</code> is of class <code>klausuR.mult</code>, only the global results will be plotted.
Should you rather like plots on each test form,
call <code>plot</code> with the single slots from that object accordingly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot(x, y, ...)

## S4 method for signature 'klausuR,missing'
plot(x, marks = FALSE, sd.lines = FALSE, plot.normal = TRUE,
      na.rm = TRUE, ...)

## S4 method for signature 'klausuR.mult,missing'
plot(x, marks = FALSE, sd.lines = FALSE,
      plot.normal = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_+3A_x">x</code></td>
<td>
<p>An S4 object of class <code>klausuR</code> or <code>klausuR.mult</code></p>
</td></tr>
<tr><td><code id="plot_+3A_y">y</code></td>
<td>
<p>From the generic <code>plot</code> function, ignored for klausuR class objects.</p>
</td></tr>
<tr><td><code id="plot_+3A_...">...</code></td>
<td>
<p>Any other argument suitable for plot()</p>
</td></tr>
<tr><td><code id="plot_+3A_marks">marks</code></td>
<td>
<p>Logical,
whether the histogram should show the distribution of points (default) or marks</p>
</td></tr>
<tr><td><code id="plot_+3A_sd.lines">sd.lines</code></td>
<td>
<p>Logical, whether standard deviation lines should be plotted</p>
</td></tr>
<tr><td><code id="plot_+3A_plot.normal">plot.normal</code></td>
<td>
<p>Logical,
whether normal distribution should be plotted (according to mean and Sd of the results)</p>
</td></tr>
<tr><td><code id="plot_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical, whether NA values should be ignored. Defaults to TRUE,
because plotting would fail otherwise</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>, <code><a href="#topic+klausur.mufo">klausur.mufo</a></code>,
<code><a href="#topic+klausur.report">klausur.report</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(antworten)

# vector with correct answers:
richtig &lt;- c(Item01=3, Item02=2, Item03=2, Item04=2, Item05=4,
 Item06=3, Item07=4, Item08=1, Item09=2, Item10=2, Item11=4,
 Item12=4, Item13=2, Item14=3, Item15=2, Item16=3, Item17=4,
 Item18=4, Item19=3, Item20=5, Item21=3, Item22=3, Item23=1,
 Item24=3, Item25=1, Item26=3, Item27=5, Item28=3, Item29=4,
 Item30=4, Item31=13, Item32=234)

# vector with assignement of marks:
notenschluessel &lt;- c()
# scheme of assignments: marks[points_from:to] &lt;- mark
notenschluessel[0:12]  &lt;- 5.0
notenschluessel[13:15] &lt;- 4.0
notenschluessel[16:18] &lt;- 3.7
notenschluessel[19:20] &lt;- 3.3
notenschluessel[21]    &lt;- 3.0
notenschluessel[22]    &lt;- 2.7
notenschluessel[23]    &lt;- 2.3
notenschluessel[24]    &lt;- 2.0
notenschluessel[25:26] &lt;- 1.7
notenschluessel[27:29] &lt;- 1.3
notenschluessel[30:32] &lt;- 1.0

data.obj &lt;- klausur.data(answ=antworten, corr=richtig, marks=notenschluessel)
klsr.obj &lt;- klausur(data.obj)
plot(klsr.obj, marks=TRUE)
</code></pre>

<hr>
<h2 id='show+2CklausuR-method'>Show methods for S4 objects of classes klausuR and klausuR.mult</h2><span id='topic+show+2CklausuR-method'></span><span id='topic+show+2C-methods'></span><span id='topic+show+2CklausuR.mult-method'></span>

<h3>Description</h3>

<p>Print a nice summary of the slots <code>results</code>, <code>anon</code>,
<code>cronbach</code> and <code>item.analysis</code>.
If object is of class klausuR.mult,
the global results for tests with several test forms are evaluated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'klausuR'
show(object)

## S4 method for signature 'klausuR.mult'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show+2B2CklausuR-method_+3A_object">object</code></td>
<td>
<p>An object of class <code>klausuR</code> or <code>klausuR.mult</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>, <code><a href="#topic+klausur.mufo">klausur.mufo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
klausur(data.obj)

# multiple test forms
klausur.mufo(data.obj, marks=notenschluessel)

## End(Not run)
</code></pre>

<hr>
<h2 id='sort'>Sort method for S4 objects of class klausuR</h2><span id='topic+sort'></span><span id='topic+sort+2CklausuR-method'></span><span id='topic+sort+2C-methods'></span><span id='topic+sort.klausuR+2CklausuR-method'></span>

<h3>Description</h3>

<p>Returns the given object,
with global results and anonymized results sorted by the given variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sort(x, decreasing = FALSE, ...)

## S4 method for signature 'klausuR'
sort(x, decreasing = FALSE, sort.by = c())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sort_+3A_x">x</code></td>
<td>
<p>An object of class <code>klausuR</code></p>
</td></tr>
<tr><td><code id="sort_+3A_decreasing">decreasing</code></td>
<td>
<p>Logical, whether sorting should be sone increasing or decreasing.</p>
</td></tr>
<tr><td><code id="sort_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
<tr><td><code id="sort_+3A_sort.by">sort.by</code></td>
<td>
<p>An optional character string naming a variable to sort the results by. Defaults to <code>c()</code>,
i.e. no re-ordering.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>m.eik michalke <a href="mailto:meik.michalke@uni-duesseldorf.de">meik.michalke@uni-duesseldorf.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+klausur">klausur</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
klsr.obj &lt;- klausur(data.obj)
sort(klsr.obj, sort.by="Points")

## End(Not run)
</code></pre>

<hr>
<h2 id='spss.data'>
Sample dataset: spss.data
</h2><span id='topic+spss.data'></span>

<h3>Description</h3>

<p>Sample data of a test with NRET data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(spss.data)</code></pre>


<h3>Format</h3>

<p>A data.frame with 17 observations of the following 35 variables.
</p>

<dl>
<dt><code>No</code></dt><dd><p>Serial number for each subject (numeric vector)</p>
</dd>
<dt><code>MatrNo</code></dt><dd><p>Matriculation number (character vector)</p>
</dd>
<dt><code>FirstName</code></dt><dd><p>First name (character vector)</p>
</dd>
<dt><code>Name</code></dt><dd><p>Family name (character vector)</p>
</dd>
<dt><code>Nickname</code></dt><dd><p>Pseudonym for anonymous feedback,
needs to be renamed (character vector)</p>
</dd>
<dt><code>item01a1</code> to <code>item10a3</code></dt><dd><p>Given answers, three answers for each item,
i.e. one for each alternative (numeric vector)</p>
</dd>
</dl>



<h3>Details</h3>

<p>This data was anonymised and combined from originally 51 observations. See <code><a href="#topic+nret.translator">nret.translator</a></code> on details
how the answers are coded.
</p>


<h3>Source</h3>

<p>The data was taken from a final exam test in diagnostic methods at the Institute for Experimental
Psychology of the Heinrich-Heine-University Düsseldorf, summer term 2011.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(spss.data)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

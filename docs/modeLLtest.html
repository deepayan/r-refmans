<!DOCTYPE html><html><head><title>Help for package modeLLtest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {modeLLtest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cvdm'><p>Cross-Validated Difference in Means (CVDM) Test</p></a></li>
<li><a href='#cvdm_object'><p>Cross-Validated Difference in Means (CVDM) Object</p></a></li>
<li><a href='#cvll'><p>Cross-Validated Log Likelihood (CVLL)</p></a></li>
<li><a href='#cvll_object'><p>Cross-Validated Log-Likelihood (CVLL) Object</p></a></li>
<li><a href='#cvlldiff'><p>Cross-Validated Difference in Means (CVDM) Test with Vector Imputs</p></a></li>
<li><a href='#cvlldiff_object'><p>Cross-Validated Difference in Means (CVDM) Object from General <code>cvlldiff</code> Function</p></a></li>
<li><a href='#cvmf'><p>Cross-Validated Median Fit (CVMF) Test</p></a></li>
<li><a href='#cvmf_object'><p>Cross-Validated Median Fit (CVMF) Object</p></a></li>
<li><a href='#govtform'><p>Data from Golder (2010) on government formation in Western Europe</p></a></li>
<li><a href='#modeLLtest'><p>modeLLtest Overview</p></a></li>
<li><a href='#nepaldem'><p>Data from Joshi and Mason (2008) on voter turnout in Nepal</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Compare Models with Cross-Validated Log-Likelihood</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-05-04</td>
</tr>
<tr>
<td>Author:</td>
<td>Shana Scogin &lt;shanarscogin@gmail.com&gt;, Sarah Petersen &lt;sarahllpetersen@gmail.com&gt;, Jeff Harden &lt;jeff.harden@nd.edu&gt;, Bruce A. Desmarais &lt;bdesmarais@psu.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shana Scogin &lt;shanarscogin@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of the cross-validated difference in means (CVDM) test by Desmarais and Harden (2014) &lt;<a href="https://doi.org/10.1007%2Fs11135-013-9884-7">doi:10.1007/s11135-013-9884-7</a>&gt; (see also Harden and Desmarais, 2011 &lt;<a href="https://doi.org/10.1177%2F1532440011408929">doi:10.1177/1532440011408929</a>&gt;) and the cross-validated median fit (CVMF) test by Desmarais and Harden (2012) &lt;<a href="https://doi.org/10.1093%2Fpan%2Fmpr042">doi:10.1093/pan/mpr042</a>&gt;. These tests use leave-one-out cross-validated log-likelihoods to assist in selecting among model estimations. You can also utilize data from Golder (2010) &lt;<a href="https://doi.org/10.1177%2F0010414009341714">doi:10.1177/0010414009341714</a>&gt; and Joshi &amp; Mason (2008) &lt;<a href="https://doi.org/10.1177%2F0022343308096155">doi:10.1177/0022343308096155</a>&gt; that are included to facilitate examples from real-world analysis.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ShanaScogin/modeLLtest">https://github.com/ShanaScogin/modeLLtest</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ShanaScogin/modeLLtest/issues">https://github.com/ShanaScogin/modeLLtest/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, quantreg, survival, coxrobust, MASS, Rcpp</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.3)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-05 20:36:55 UTC; shanascogin</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-05 23:20:17 UTC</td>
</tr>
</table>
<hr>
<h2 id='cvdm'>Cross-Validated Difference in Means (CVDM) Test</h2><span id='topic+cvdm'></span>

<h3>Description</h3>

<p>Applies cross-validated log-likelihood difference in means test to
compare two methods of estimating a formula. The output identifies the more
appropriate model.
</p>
<p>In choosing between OLS and MR, please cite:
</p>

<ul>
<li><p> Harden, J. J., &amp; Desmarais, B. A. (2011). Linear Models with Outliers:
Choosing between Conditional-Mean and Conditional-Median Methods.
State Politics &amp; Policy Quarterly, 11(4), 371-389.
doi: <a href="https://doi.org/10.1177/1532440011408929">10.1177/1532440011408929</a>
</p>
</li></ul>

<p>For other applications of the CVDM test, please cite:
</p>

<ul>
<li><p> Desmarais, B. A., &amp; Harden, J. J. (2014). An Unbiased Model Comparison Test Using
Cross-Validation. Quality &amp; Quantity, 48(4), 2155-2173.
doi: <a href="https://doi.org/10.1007/s11135-013-9884-7">10.1007/s11135-013-9884-7</a>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>cvdm(
  formula,
  data,
  method1 = c("OLS", "MR", "RLM", "RLM-MM"),
  method2 = c("OLS", "MR", "RLM", "RLM-MM"),
  subset,
  na.action,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvdm_+3A_formula">formula</code></td>
<td>
<p>A formula object, with the dependent variable on the
left of a ~ operator, and the independent variables on the right.</p>
</td></tr>
<tr><td><code id="cvdm_+3A_data">data</code></td>
<td>
<p>A data frame, list or environment (or object coercible by
as.data.frame to a data frame) containing the variables in the model.</p>
</td></tr>
<tr><td><code id="cvdm_+3A_method1">method1</code></td>
<td>
<p>A method to estimate the model. Currently takes
Ordinary Least Squares (&quot;OLS&quot;), Median Regression (&quot;MR&quot;), Robust Linear
Regression (&quot;RLM&quot;) using M-estimation, and Robust Linear Regression using
MM-estimation (&quot;RLM-MM&quot;). The algorithm method used to compute the fit for the
median regression is the modified version of the Barrodale and Roberts algorithm
for l1-regression, which is the <code><a href="quantreg.html#topic+rq">rq</a></code> default by R package quantreg.
See quantreg <code><a href="quantreg.html#topic+rq">rq</a></code> function documentation for more details.
Fitting for the robust regressions is done by iterated re-weighted least squares
(IWLS) and is taken from the MASS package <code><a href="MASS.html#topic+rlm">rlm</a></code> function.
The MM-estimation is the M-estimation with Tukey's biweight initialized by a specific
S-estimate. The M-estimation, which can be achieved in this package with the
option &quot;RLM&quot;, is the default for the MASS <code><a href="MASS.html#topic+rlm">rlm</a></code>
function. See MASS package <code><a href="MASS.html#topic+rlm">rlm</a></code> documentation for details.</p>
</td></tr>
<tr><td><code id="cvdm_+3A_method2">method2</code></td>
<td>
<p>A method to estimate the model. Options
are same as for method1.</p>
</td></tr>
<tr><td><code id="cvdm_+3A_subset">subset</code></td>
<td>
<p>Expression indicating which subset of the rows of data should be
used in the fit. All observations are included by default.</p>
</td></tr>
<tr><td><code id="cvdm_+3A_na.action">na.action</code></td>
<td>
<p>A missing-data filter function, applied to the model.frame,
after any subset argument has been used.</p>
</td></tr>
<tr><td><code id="cvdm_+3A_...">...</code></td>
<td>
<p>Optional arguments, currently unsupported.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the cross-validated difference in means (CVDM)
test between two methods of estimating a formula. The function takes
a formula and two methods and computes a vector of cross-validated log-
likelihoods (CVLLs) for each method using the leave-one-out method. These
output test score is the cross-validated Johnson's t-test. A positive test
statistic supports the first method and a negative test statistic supports
the second. Singular matrices during the leave-one-out cross-validation process
are skipped.
</p>


<h3>Value</h3>

<p>An object of class <code>cvdm</code> computed by the cross-validated log likelihood
difference in means test (CVDM). The object is the Cross-Validated Johnson's t-test.
A positive test statistic supports the first method and a negative test statistic supports
the second. See <code><a href="#topic+cvdm_object">cvdm_object</a></code> for more details.
</p>


<h3>References</h3>


<ul>
<li><p> Harden, J. J., &amp; Desmarais, B. A. (2011). Linear Models with Outliers:
Choosing between Conditional-Mean and Conditional-Median Methods.
State Politics &amp; Policy Quarterly, 11(4), 371-389.
doi: <a href="https://doi.org/10.1177/1532440011408929">10.1177/1532440011408929</a>
</p>
</li>
<li><p> Desmarais, B. A., &amp; Harden, J. J. (2014). An Unbiased Model Comparison Test Using
Cross-Validation. Quality &amp; Quantity, 48(4), 2155-2173.
doi: <a href="https://doi.org/10.1007/s11135-013-9884-7">10.1007/s11135-013-9884-7</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>

  set.seed(123456)
  b0 &lt;- .2 # True value for the intercept
  b1 &lt;- .5 # True value for the slope
  n &lt;- 500 # Sample size
  X &lt;- runif(n, -1, 1)

  Y &lt;- b0 + b1 * X + rnorm(n, 0, 1) # N(0, 1 error)

  obj_cvdm &lt;- cvdm(Y ~ X, data.frame(cbind(Y, X)), method1 = "OLS", method2 = "MR")


</code></pre>

<hr>
<h2 id='cvdm_object'>Cross-Validated Difference in Means (CVDM) Object</h2><span id='topic+cvdm_object'></span>

<h3>Description</h3>

<p>This class of objects is returned by the <code><a href="#topic+cvdm">cvdm</a></code> function to compare two methods of estimating a formula.
</p>


<h3>Value</h3>

<p>The following components must be included in a legitimate <code>cvdm</code> object.
</p>
<table>
<tr><td><code>best</code></td>
<td>
<p>name of the estimation method favored by the cvdm test.</p>
</td></tr>
<tr><td><code>test_stat</code></td>
<td>
<p>object returned by the bias-corrected Johnson's t-test. A positive test statistic supports method 1 and a negative test statistic supports method 2.</p>
</td></tr>
<tr><td><code>p_value</code></td>
<td>
<p>p-value for the test statistic.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>number of observations.</p>
</td></tr>
<tr><td><code>df</code></td>
<td>
<p>degrees of freedom.</p>
</td></tr>
</table>
<p>The object also contain the following: <code>call</code>, <code>x</code>, and <code>y</code>. See <code><a href="stats.html#topic+lm">lm</a></code> documentation for more.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cvdm">cvdm</a></code>
</p>

<hr>
<h2 id='cvll'>Cross-Validated Log Likelihood (CVLL)</h2><span id='topic+cvll'></span>

<h3>Description</h3>

<p>Extracts the leave-one-out cross-validated log-likelihoods
from a method of estimating a formula.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cvll(
  formula,
  data,
  method = c("OLS", "MR", "RLM", "RLM-MM"),
  subset,
  na.action,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvll_+3A_formula">formula</code></td>
<td>
<p>A formula object, with the dependent variable on the
left of a ~ operator, and the independent variables on the right.</p>
</td></tr>
<tr><td><code id="cvll_+3A_data">data</code></td>
<td>
<p>A data frame, list or environment (or object coercible by
as.data.frame to a data frame) containing the variables in the model.</p>
</td></tr>
<tr><td><code id="cvll_+3A_method">method</code></td>
<td>
<p>A method to estimate the model. Currently takes
Ordinary Least Squares (&quot;OLS&quot;), Median Regression (&quot;MR&quot;), Robust Linear
Regression (&quot;RLM&quot;) using M-estimation, and Robust Linear Regression using
MM-estimation (&quot;RLM-MM&quot;). The algorithm method used to compute the fit for the
median regression is the modified version of the Barrodale and Roberts algorithm
for l1-regression, which is the <code><a href="quantreg.html#topic+rq">rq</a></code> default by R package quantreg.
See quantreg <code><a href="quantreg.html#topic+rq">rq</a></code> function documentation for more details.
Fitting for the robust regressions is done by iterated re-weighted least squares
(IWLS) and is taken from the MASS package <code><a href="MASS.html#topic+rlm">rlm</a></code> function.
The MM-estimation is the M-estimation with Tukey's biweight initialized by a specific
S-estimate. The M-estimation, which can be achieved in this package with the
option &quot;RLM&quot;, is the default for the MASS <code><a href="MASS.html#topic+rlm">rlm</a></code>
function. See MASS package <code><a href="MASS.html#topic+rlm">rlm</a></code> documentation for details.</p>
</td></tr>
<tr><td><code id="cvll_+3A_subset">subset</code></td>
<td>
<p>Expression indicating which subset of the rows of data should be
used in the fit. All observations are included by default.</p>
</td></tr>
<tr><td><code id="cvll_+3A_na.action">na.action</code></td>
<td>
<p>A missing-data filter function, applied to the model.frame,
after any subset argument has been used.</p>
</td></tr>
<tr><td><code id="cvll_+3A_...">...</code></td>
<td>
<p>Optional arguments, currently unsupported.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extracts a vector of leave-one-out cross-validated
log likelihoods (CVLLs) from a method of estimating a formula.
Singular matrices during the leave-one-out cross-validation process
are skipped.
</p>


<h3>Value</h3>

<p>An object of class <code>cvll</code> computed by the cross-validated log likelihood
(CVLL). See <code><a href="#topic+cvdm_object">cvdm_object</a></code> for more details.
</p>


<h3>References</h3>


<ul>
<li><p> Harden, J. J., &amp; Desmarais, B. A. (2011). Linear Models with Outliers:
Choosing between Conditional-Mean and Conditional-Median Methods.
State Politics &amp; Policy Quarterly, 11(4), 371-389.
doi: <a href="https://doi.org/10.1177/1532440011408929">10.1177/1532440011408929</a>
</p>
</li>
<li><p> Desmarais, B. A., &amp; Harden, J. J. (2014). An Unbiased Model Comparison Test Using
Cross-Validation. Quality &amp; Quantity, 48(4), 2155-2173.
doi: <a href="https://doi.org/10.1007/s11135-013-9884-7">10.1007/s11135-013-9884-7</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>

  set.seed(123456)
  b0 &lt;- .2 # True value for the intercept
  b1 &lt;- .5 # True value for the slope
  n &lt;- 500 # Sample size
  X &lt;- runif(n, -1, 1)

  Y &lt;- b0 + b1 * X + rnorm(n, 0, 1) # N(0, 1 error)

  obj_cvll &lt;- cvll(Y ~ X, data.frame(cbind(Y, X)), method = "OLS")


</code></pre>

<hr>
<h2 id='cvll_object'>Cross-Validated Log-Likelihood (CVLL) Object</h2><span id='topic+cvll_object'></span>

<h3>Description</h3>

<p>This class of objects is returned by the <code><a href="#topic+cvll">cvll</a></code> function.
</p>


<h3>Value</h3>

<p>The following components must be included in a legitimate <code>cvll</code> object.
</p>
<table>
<tr><td><code>cvll</code></td>
<td>
<p>vector of cross-validated log-likelihood values using the leave-one-out method.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>number of observations.</p>
</td></tr>
<tr><td><code>df</code></td>
<td>
<p>degrees of freedom.</p>
</td></tr>
<tr><td><code>method</code></td>
<td>
<p>method of estimation.</p>
</td></tr>
</table>
<p>The object also contain the following: <code>call</code>, <code>x</code>, and <code>y</code>. See <code><a href="stats.html#topic+lm">lm</a></code> documentation for more.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cvll">cvll</a></code>
</p>

<hr>
<h2 id='cvlldiff'>Cross-Validated Difference in Means (CVDM) Test with Vector Imputs</h2><span id='topic+cvlldiff'></span>

<h3>Description</h3>

<p>Applies cross-validated log-likelihood to test between
two methods of estimating a formula. The output identifies the vector
from the more appropriate model.
</p>
<p>Please cite:
</p>
<p>Desmarais, B. A., &amp; Harden, J. J. (2014). An Unbiased Model Comparison Test Using
Cross-Validation. Quality &amp; Quantity, 48(4), 2155-2173.
doi: <a href="https://doi.org/10.1007/s11135-013-9884-7">10.1007/s11135-013-9884-7</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cvlldiff(vector1, vector2, df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvlldiff_+3A_vector1">vector1</code></td>
<td>
<p>A numeric vector of cross-validated log-likelihoods.</p>
</td></tr>
<tr><td><code id="cvlldiff_+3A_vector2">vector2</code></td>
<td>
<p>A numeric vector of cross-validated log-likelihoods.</p>
</td></tr>
<tr><td><code id="cvlldiff_+3A_df">df</code></td>
<td>
<p>A value of the degrees of freedom in the models.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the cross-validated difference in means (CVDM)
test between two vectors of cross-validated log-likelihoods. A positive test
statistic supports the method that produced the first vector and a negative
test statistic supports the second.
</p>


<h3>Value</h3>

<p>An object of class <code>cvlldiff</code> computed by the cross-validated log likelihood
difference in means test (CVDM). The test statistic object is the Cross-Validated
Johnson's t-test. A positive test statistic supports the first method and a negative test
statistic supports the second.See <code><a href="#topic+cvdm_object">cvdm_object</a></code> for more details.
</p>


<h3>References</h3>

<p>Desmarais, B. A., &amp; Harden, J. J. (2014). An Unbiased Model Comparison Test Using
Cross-Validation. Quality &amp; Quantity, 48(4), 2155-2173.
doi: <a href="https://doi.org/10.1007/s11135-013-9884-7">10.1007/s11135-013-9884-7</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

  set.seed(123456)
  b0 &lt;- .2 # True value for the intercept
  b1 &lt;- .5 # True value for the slope
  n &lt;- 500 # Sample size
  X &lt;- runif(n, -1, 1)

  Y &lt;- b0 + b1 * X + rnorm(n, 0, 1) # N(0, 1 error)
  cvll_ols &lt;- cvll(Y ~ X, data.frame(cbind(Y, X)), method = "OLS")
  cvll_mr &lt;- cvll(Y ~ X, data.frame(cbind(Y, X)), method = "MR")
  obj_compare &lt;- cvlldiff(cvll_ols$cvll, cvll_mr$cvll, cvll_ols$df)


</code></pre>

<hr>
<h2 id='cvlldiff_object'>Cross-Validated Difference in Means (CVDM) Object from General <code><a href="#topic+cvlldiff">cvlldiff</a></code> Function</h2><span id='topic+cvlldiff_object'></span>

<h3>Description</h3>

<p>This class of objects is returned by the <code><a href="#topic+cvlldiff">cvlldiff</a></code> function to compare vectors of cross-validated log-likelihood values.
</p>


<h3>Value</h3>

<p>The following components must be included in a legitimate <code>cvlldiff</code> object.
</p>
<table>
<tr><td><code>best</code></td>
<td>
<p>name of the estimation method favored by the cvdm test.</p>
</td></tr>
<tr><td><code>test_stat</code></td>
<td>
<p>object returned by the bias-corrected Johnson's t-test. A positive test statistic supports the method that generated the first vector of cross-validated log-likelihood values and a negative test statistic supports the method that generated the second vector.</p>
</td></tr>
<tr><td><code>p_value</code></td>
<td>
<p>p-value for the test statistic.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+cvlldiff">cvlldiff</a></code>
</p>

<hr>
<h2 id='cvmf'>Cross-Validated Median Fit (CVMF) Test</h2><span id='topic+cvmf'></span>

<h3>Description</h3>

<p>Applies cross-validated log-likelihood to test between
partial likelihood maximization (PLM) and the iteratively reweighted
robust (IRR) method of estimation for a given application of the Cox model.
For more, see: Desmarais, B. A., &amp; Harden, J. J. (2012). Comparing partial
likelihood and robust estimation methods for the Cox regression model.
Political Analysis, 20(1), 113-135.
doi: <a href="https://doi.org/10.1093/pan/mpr042">10.1093/pan/mpr042</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cvmf(
  formula,
  data,
  method = c("exact", "approximate", "efron", "breslow"),
  trunc = 0.95,
  subset,
  na.action,
  f.weight = c("linear", "quadratic", "exponential"),
  weights,
  singular.ok = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cvmf_+3A_formula">formula</code></td>
<td>
<p>A formula object, with the response on the left of a ~
operator, and the terms on the right. The response must be a survival
object as returned by the <code><a href="survival.html#topic+Surv">Surv</a></code> function from the survival package.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_data">data</code></td>
<td>
<p>A data frame, list or environment (or object coercible by
as.data.frame to a data frame) containing the variables in the model
or in the subset and the weights argument.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_method">method</code></td>
<td>
<p>A character string specifying the method for tie handling in coxph().
If there are no tied death times all the methods are equivalent.
Following the <code><a href="survival.html#topic+coxph">coxph</a></code> function in the survival package, the Efron
approximation is used as the default. The survival package justifies this
due to the Efron method being is more accurate when dealing with tied death
times, and is as efficient computationally than the common Breslow method.
The &quot;exact partial likelihood&quot; is equivalent to a 'conditional logistic model,
and is appropriate when the times are a small set of discrete values.
This argument does not exist in the <code><a href="coxrobust.html#topic+coxr">coxr</a></code> function in the
coxrobust package. For <code><a href="coxrobust.html#topic+coxr">coxr</a></code>, method is based on a smooth
modification of the partial likelihood. See documentation from survival package
for more on <code><a href="survival.html#topic+coxph">coxph</a></code> method and coxrobust package for
<code><a href="coxrobust.html#topic+coxr">coxr</a></code> method.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_trunc">trunc</code></td>
<td>
<p>A value that determines the trimming level for the robust
estimator. The default is 0.95. Roughly, quantile of the sample
<code class="reqn">T_i exp(\beta'Z_i)</code>. It is an argument in the <code><a href="coxrobust.html#topic+coxr">coxr</a></code> function
in the coxrobust package.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_subset">subset</code></td>
<td>
<p>Expression indicating which subset of the rows of data should be
used in the fit. All observations are included by default.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_na.action">na.action</code></td>
<td>
<p>A missing-data filter function, applied to the model.frame,
after any subset argument has been used.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_f.weight">f.weight</code></td>
<td>
<p>A type of weighting function for <code><a href="coxrobust.html#topic+coxr">coxr</a></code> in the coxrobust package.
The default is <code>quadratic</code>. See <code><a href="coxrobust.html#topic+coxr">coxr</a></code> documentation for more.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_weights">weights</code></td>
<td>
<p>A vector of case weights for <code><a href="survival.html#topic+coxph">coxph</a></code> in the survival package.
See <code><a href="survival.html#topic+coxph">coxph</a></code> documentation for more.</p>
</td></tr>
<tr><td><code id="cvmf_+3A_singular.ok">singular.ok</code></td>
<td>
<p>Logical value indicating how to handle collinearity in the
model matrix. If <code>TRUE</code>, the program will automatically skip over columns
of the X matrix that are linear combinations of earlier columns. In this case
the coefficients for such columns will be NA, and the variance matrix will contain
zeros. For ancillary calculations, such as the linear predictor, the missing
coefficients are treated as zeros.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the cross-validated median fit (CVMF) test.
The function cvmf() tests between the partial
likelihood maximization (PLM) and the iteratively reweighted robust
(IRR) method of estimation for a given application of the Cox model.
The Cox model is a partial parametric model that does not make assumptions
about the baseline hazard. It can be estimated via PLM, the standard
estimator, or IRR, a robust estimator that identifies and downweights
outliers. The choice between the two methods involves a trade-off
between bias and efficiency. PLM is more efficient, but biased under
specification problems. IRR reduces bias, but results in high
variance due to the loss of efficiency. The cvmf() function returns an
object to identify the prefered estimation method.
</p>
<p>See also <code><a href="survival.html#topic+coxph">coxph</a></code>, <code><a href="coxrobust.html#topic+coxr">coxr</a></code>,
<code><a href="survival.html#topic+Surv">Surv</a></code>
</p>


<h3>Value</h3>

<p>An object of class <code>cvmf</code> computed by the cross-validated median fit test
(CVMF) to test between the PLM and IRR methods of estimating the Cox model.
See <code><a href="#topic+cvmf_object">cvmf_object</a></code> for more details.
</p>


<h3>References</h3>

<p>Desmarais, B. A., &amp; Harden, J. J. (2012). Comparing partial
likelihood and robust estimation methods for the Cox regression model.
Political Analysis, 20(1), 113-135.
doi: <a href="https://doi.org/10.1093/pan/mpr042">10.1093/pan/mpr042</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

  set.seed(12345)
  x1 &lt;- rnorm(100)
  x2 &lt;- rnorm(100)

  x2e &lt;- x2 + rnorm(100, 0, 0.5)

  y &lt;- rexp(100, exp(x1 + x2))
  y &lt;- survival::Surv(y)

  dat &lt;- data.frame(y, x1, x2e)
  form &lt;- y ~ x1 + x2e

  results &lt;- cvmf(formula = form, data = dat)
  

</code></pre>

<hr>
<h2 id='cvmf_object'>Cross-Validated Median Fit (CVMF) Object</h2><span id='topic+cvmf_object'></span>

<h3>Description</h3>

<p>This class of objects is returned by the <code><a href="#topic+cvmf">cvmf</a></code> function to test between the partial likelihood maximization (PLM) and the iteratively reweighted robust (IRR) method of estimation for a given application of the Cox model.
</p>


<h3>Value</h3>

<p>The following components must be included in a legitimate <code>cvmf</code> object.
</p>
<table>
<tr><td><code>best</code></td>
<td>
<p>name of the model of estimation favored by the cvmf test.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>p-value of the binomial test used to test between estimation models.</p>
</td></tr>
<tr><td><code>cvmf</code></td>
<td>
<p>full output of the binomial test used to test between estimation methods. See documentation for <code><a href="stats.html#topic+binom.test">binom.test</a></code> for more information.</p>
</td></tr>
<tr><td><code>coef_names</code></td>
<td>
<p>names of the coefficients.</p>
</td></tr>
<tr><td><code>irr</code></td>
<td>
<p>full output for the iteratively reweighted robust (IRR) method of estimating the Cox model. See documentation for <code><a href="coxrobust.html#topic+coxr">coxr</a></code> in the package coxrobust for more information.</p>
</td></tr>
<tr><td><code>plm</code></td>
<td>
<p>full output for the partial likelihood maximization (PLM) method of estimating the Cox model. See documentation for <code><a href="survival.html#topic+coxph">coxph</a></code> in the package survival for more information.</p>
</td></tr>
<tr><td><code>irr_coefs</code></td>
<td>
<p>estimates obtained from IRR method of estimating the Cox model. See documentation for <code><a href="coxrobust.html#topic+coxr">coxr</a></code> in the package coxrobust for more information.</p>
</td></tr>
<tr><td><code>plm_coefs</code></td>
<td>
<p>estimates obtained from PLM method of estimating the Cox model. See documentation for <code><a href="survival.html#topic+coxph">coxph</a></code> in the package survival for more information.</p>
</td></tr>
<tr><td><code>cvpl_irr</code></td>
<td>
<p>observation-wise contributions to the log-partial likelihood for IRR method of estimating the Cox model. See Desmarais and Hardin (Political Analysis 20:113-135, 2012) for more about the test and Verweij and Houwelingen (Statistics in Medicine 12(24): 2305–14, 1993) for more about the measure</p>
</td></tr>
<tr><td><code>cvpl_plm</code></td>
<td>
<p>observation-wise contributions to the log-partial likelihood for PLM method of estimating the Cox model. See Desmarais and Hardin (Political Analysis 20:113-135, 2012) for more about the test and Verweij and Houwelingen (Statistics in Medicine 12(24): 2305–14, 1993) for more about the measure</p>
</td></tr>
</table>
<p>The object also contain the following: <code>call</code>, <code>x</code>, and <code>y</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cvmf">cvmf</a></code>
</p>

<hr>
<h2 id='govtform'>Data from Golder (2010) on government formation in Western Europe</h2><span id='topic+govtform'></span>

<h3>Description</h3>

<p>Data from a study on Western European government formation
duration. Data is at the country-level (N = 409). Variable names are
taken directly from original dataset. The data is publicly available
and has been included here with the endorsement of the author. Please
see the original codebook for a more detailed description of the
variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(govtform)
</code></pre>


<h3>Format</h3>

<p>A data frame with 410 rows and 18 variables. The following are taken
from the codebook at
doi: <a href="https://doi.org/10.7910/DVN/BUWZBA">10.7910/DVN/BUWZBA</a>.
</p>

<dl>
<dt>countryname</dt><dd><p>names of countries used in analysis</p>
</dd>
<dt>country</dt><dd><p>unique number identifying each country</p>
</dd>
<dt>cabinet</dt><dd><p>unique number identifying each country.
Begins with country code, followed by cabinets 1 - n</p>
</dd>
<dt>bargainingdays</dt><dd><p>the number of days between either an election
or the resignation of the previous government and the day on
which the new government is officially inaugurated</p>
</dd>
<dt>datein</dt><dd><p>date on which a government took office. Format is YYMMDD</p>
</dd>
<dt>dateout</dt><dd><p>date on which a government left office. Format is YYMMDD</p>
</dd>
<dt>postelection</dt><dd><p>dichotomous variable that equals 1 if a government
is the first to form after an election (more uncertainty) and 0 if it
forms in an interelection period (less uncertainty)</p>
</dd>
<dt>nonpartisan</dt><dd><p>dichotomous variable that equals 1 if the government
is nonpartisan and 0 otherwise</p>
</dd>
<dt>legislative_parties</dt><dd><p>a fraction representing the number of parties that
have won legislative seats. See codebook for more detail</p>
</dd>
<dt>inconclusive</dt><dd><p>the number of inconclusive bargaining rounds prior to
a new government successfully forming</p>
</dd>
<dt>cabinetname</dt><dd><p>cabinet name identified by surname
of prime minister (followed by a number if the PM presided
over more than one cabinet)</p>
</dd>
<dt>singleparty_majority</dt><dd><p>dichotomous variable that equals 1 if a single
party controls a majority of the legislative seats, 0 otherwise</p>
</dd>
<dt>polarization</dt><dd><p>measures the level of ideological polarization in the party
system. See codebook for more detail</p>
</dd>
<dt>continuation</dt><dd><p>dichotomous variable that equals 1 if the outgoing
government or formateur gets the first opportunity to form a new
government, 0 otherwise. See codebook for more detail</p>
</dd>
<dt>positive_parl</dt><dd><p>dichotomous variable that equals 1 if a new government
requires the explicit support of a legislative majority in order to take
office, 0 otherwise. See codebook for more detail</p>
</dd>
<dt>post_legislative_parties</dt><dd><p>interaction term made by multiplying the postelection
variable with the legislative_parties variable</p>
</dd>
<dt>post_polariz</dt><dd><p>interaction term made by multiplying the postelection
variable with the polarization variable</p>
</dd>
<dt>post_positive</dt><dd><p>interaction term made by multiplying the postelection
variable with the positive_parl variable</p>
</dd>
</dl>



<h3>Source</h3>

<p>doi: <a href="https://doi.org/10.7910/DVN/BUWZBA">10.7910/DVN/BUWZBA</a>
</p>


<h3>References</h3>

<p>Golder, S. N. (2010). Bargaining delays in the government
formation process. Comparative Political Studies, 43(1), 3-32.
doi: <a href="https://doi.org/10.1177/0010414009341714">10.1177/0010414009341714</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


data(govtform)

library(survival)
library(coxrobust)
library(modeLLtest)

# Survival models with data from Golder (2010)
golder_surv &lt;- Surv(govtform$bargainingdays)
golder_x &lt;- cbind(govtform$postelection, govtform$legislative_parties,
   govtform$polarization, govtform$positive_parl, govtform$post_legislative_parties,
   govtform$post_polariz, govtform$post_positive, govtform$continuation,
   govtform$singleparty_majority)
colnames(golder_x) &lt;- c("govtform$postelection", "govtform$legislative_parties",
   "govtform$polarization", "govtform$positive_parl", "govtform$post_legislative_parties",
   "govtform$post_polariz", "govtform$post_positive", "govtform$continuation",
   "govtform$singleparty_majority")
golder_cox &lt;- coxph(golder_surv ~ golder_x, method = "efron",
   data = govtform)
golder_robust &lt;- coxr(golder_surv ~ golder_x, data = govtform)

# Comparing PLM to IRR methods of estimating the survival model
obj_cvmf_golder &lt;- cvmf(golder_surv ~ golder_x, method = "efron",
   data = govtform)

obj_cvmf_golder



</code></pre>

<hr>
<h2 id='modeLLtest'>modeLLtest Overview</h2><span id='topic+modeLLtest'></span>

<h3>Description</h3>

<p>modeLLtest has three main functions to implement cross validated log likelihood
tests. To use this package, decide which specification(s) of a model
and distributions you wish compare. The function cvdm()
compares the fits of one model specification between a median
regression and ordinary least squares. The function cvmf() compares between
the fits of one model specification between two estimations of a Cox model.
The function cvll() extracts the leave-one-out cross-validated log-likelihoods
from a method of estimating a formula.
</p>

<hr>
<h2 id='nepaldem'>Data from Joshi and Mason (2008) on voter turnout in Nepal</h2><span id='topic+nepaldem'></span>

<h3>Description</h3>

<p>Data from a study on the relationship between land tenure and
voter turnout in the three rounds of parliamentary elections
in Nepal from the restoration of democracy in 1990 to 1999.
Data is at the district-level (N = 75). Variable names are
taken directly from original dataset. The data is publicly available
and has been included here with the endorsement of the authors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(nepaldem)
</code></pre>


<h3>Format</h3>

<p>A data frame with 76 rows and 73 variables:
</p>

<dl>
<dt>sn</dt><dd><p>a column of identifiers. This column is not a variable</p>
</dd>
<dt>district</dt><dd><p>names of the district in Nepal used in analysis</p>
</dd>
<dt>householdsize</dt><dd><p>average size of household in district</p>
</dd>
<dt>total_holding</dt><dd><p>total land holding</p>
</dd>
<dt>noown_single_tenure</dt><dd><p>number of households that own and cultivate
land under single tenure</p>
</dd>
<dt>norent_single_ten</dt><dd><p>number of households that rent for service
and cultivate land under single tenure</p>
</dd>
<dt>noother_single_ten</dt><dd><p>number of households that cultivate
under single tenure and have another set up other than those above</p>
</dd>
<dt>nomore1_ten_hold</dt><dd><p>number of households with more than one tenure</p>
</dd>
<dt>noholding_below1_pa</dt><dd><p>number of households that hold less than
1.0 hectares of land</p>
</dd>
<dt>noholding_2to3_pa</dt><dd><p>number of households that hold 2 to 3
hectares of land</p>
</dd>
<dt>noholding_4to5_pa</dt><dd><p>number of households that hold 4 to 5
hectares of land</p>
</dd>
<dt>noholding_6to9_pa</dt><dd><p>number of households that hold 6 to 9
hectares of land</p>
</dd>
<dt>noholding_10_pa</dt><dd><p>number of households with more than 10
parcels of land</p>
</dd>
<dt>total_ha</dt><dd><p>total hectares of land</p>
</dd>
<dt>total_parcel</dt><dd><p>total parcels of land</p>
</dd>
<dt>no_hold_fixmoney2</dt><dd><p>subsection of number of households with fixed
cash rent</p>
</dd>
<dt>no_hold_fixproduct2</dt><dd><p>subsection of households with fixed
product rent</p>
</dd>
<dt>no_hold_share2</dt><dd><p>subsection of households participating
in sharecropping</p>
</dd>
<dt>no_hold_services2</dt><dd><p>subsection of households participating
in sharecropping</p>
</dd>
<dt>no_hold_mortgage2</dt><dd><p>subsection of households with a mortgage</p>
</dd>
<dt>no_hold_fixmoney1</dt><dd><p>subsection of households with fixed
cash rent</p>
</dd>
<dt>no_hold_fixproduct1</dt><dd><p>subsection of households with fixed
product rent</p>
</dd>
<dt>no_hold_share1</dt><dd><p>subsection of households participating
in sharecropping</p>
</dd>
<dt>no_hold_services1</dt><dd><p>subsection of households with rent for
service</p>
</dd>
<dt>no_hold_mortgage1</dt><dd><p>subsection of households with a mortgage</p>
</dd>
<dt>totalhouseholds</dt><dd><p>total number of households</p>
</dd>
<dt>landless</dt><dd><p>number of landless households</p>
</dd>
<dt>totalvoters1991</dt><dd><p>total number of voters in 1991</p>
</dd>
<dt>totalcastedvote1991</dt><dd><p>total number of votes cast in 1991</p>
</dd>
<dt>totalvalidvote1991</dt><dd><p>total number of valid votes in 1991</p>
</dd>
<dt>constituency1991</dt><dd><p>constituency in 1991</p>
</dd>
<dt>totalcontestants1991</dt><dd><p>total number of candidates contesting
elections in 1991</p>
</dd>
<dt>totalvoters1994</dt><dd><p>total number of voters in 1994</p>
</dd>
<dt>totalcastedvote1994</dt><dd><p>total number of votes cast in 1994</p>
</dd>
<dt>totalvalidvote1994</dt><dd><p>total number of valid votes in 1994</p>
</dd>
<dt>constituency1994</dt><dd><p>constituency in 1994</p>
</dd>
<dt>totalcontestants1994</dt><dd><p>total number of candidates contesting
elections in 1994</p>
</dd>
<dt>togalvoters1999</dt><dd><p>total number of voters in 1999</p>
</dd>
<dt>totalcastedvote1999</dt><dd><p>total number of votes cast in 1999</p>
</dd>
<dt>totalvalidvote1999</dt><dd><p>total number of valid votes in 1999</p>
</dd>
<dt>constituency1999</dt><dd><p>constituency in 1999</p>
</dd>
<dt>totalcontestants1999</dt><dd><p>total number of candidates contesting
elections in 1999</p>
</dd>
<dt>pop_2001</dt><dd><p>population in 2001</p>
</dd>
<dt>hdi_1996</dt><dd><p>HDI 1996 (index 0 to 1)</p>
</dd>
<dt>per_without_instcredit</dt><dd><p>percent without access to institutional
credit</p>
</dd>
<dt>access_instutional_credit</dt><dd><p>access to institutional credit</p>
</dd>
<dt>total_hh_sharecrop</dt><dd><p>total number of households participating
in sharecropping</p>
</dd>
<dt>total_hh_fixmoney</dt><dd><p>total number of households with fixed
cash rent</p>
</dd>
<dt>total_hh_fixproduct</dt><dd><p>total number of households with fixed
product rent</p>
</dd>
<dt>total_hh_service</dt><dd><p>total number of households with rent for
service</p>
</dd>
<dt>total_hh_mortgage</dt><dd><p>total number of households with a mortgage</p>
</dd>
<dt>total_killed</dt><dd><p>total number of people killed. This serves as
a measure of political violence during the insurgency</p>
</dd>
<dt>percent_regvote1991</dt><dd><p>election turnout for 1991 as measured
by the percentage of registered voters who voted in the national
parliamentary election</p>
</dd>
<dt>percent_regvote1994</dt><dd><p>election turnout for 1994 as measured
by the percentage of registered voters who voted in the national
parliamentary election</p>
</dd>
<dt>percent_regvote1999</dt><dd><p>election turnout for 1999 as measured
by the percentage of registered voters who voted in the national
parlimentary election</p>
</dd>
<dt>per_total_hold_sharecrop</dt><dd><p>percent of sharecropping households</p>
</dd>
<dt>per_total_hold_fixmoney</dt><dd><p>percent of households that have a
fixed cash rent</p>
</dd>
<dt>per_total_hold_fixproduct</dt><dd><p>percent of households that have a
fixed product rent</p>
</dd>
<dt>per_total_hold_service</dt><dd><p>percent of households that have rent
for service</p>
</dd>
<dt>per_total_hold_mortgage</dt><dd><p>percent of households with a mortgage</p>
</dd>
<dt>per_noholding_below1_pa</dt><dd></dd>
<dt>landless_1000</dt><dd><p>landless households (in 1,000s)</p>
</dd>
<dt>totoalkilled_1000</dt><dd><p>total number of people killed (in 1,000s). This
serves as a measure of political violence during the insurgency</p>
</dd>
<dt>cast_eth_fract</dt><dd><p>caste and ethnic fractionalization</p>
</dd>
<dt>languistic_fract</dt><dd><p>linguistic fractionalization</p>
</dd>
<dt>landless_gap</dt><dd><p>landless households (in 1,000s) gap</p>
</dd>
<dt>below1pa_gap</dt><dd><p>percent smallholder households gap</p>
</dd>
<dt>sharecrop_gap</dt><dd><p>percent sharecropping households gap</p>
</dd>
<dt>service_gap</dt><dd><p>percent rent for service households gap</p>
</dd>
<dt>fixmoney_gap</dt><dd><p>percent fixed cash rent households gap</p>
</dd>
<dt>fixprod_gap</dt><dd><p>percent fixed product rent households gap</p>
</dd>
<dt>hdi_gap</dt><dd><p>HDI 1996 (index 0 to 1) gap</p>
</dd>
<dt>ln_pop2001</dt><dd><p>population in 2001 (logged)</p>
</dd>
<dt>hdi_gap1</dt><dd><p>HDI 1996 (index 0 to 1) gap (positive values)</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.prio.org/JPR/Datasets/">Journal of Peace Research Replication Datasets</a>
</p>


<h3>References</h3>

<p>Joshi, M., &amp; Mason, T. D. (2008). Between democracy and
revolution: peasant support for insurgency versus democracy in Nepal.
Journal of Peace Research, 45(6), 765-782.
doi: <a href="https://doi.org/10.1177/0022343308096155">10.1177/0022343308096155</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

data(nepaldem)

library(MASS)
library(modeLLtest)

# Models from Joshi and Mason (2008)
model_1991 &lt;- rlm(percent_regvote1991 ~ landless_gap +
   below1pa_gap + sharecrop_gap + service_gap + fixmoney_gap +
   fixprod_gap + per_without_instcredit + hdi_gap1 + ln_pop2001 +
   totalcontestants1991 + cast_eth_fract, data = nepaldem)

model_1994 &lt;- rlm(percent_regvote1994 ~ landless_gap +
   below1pa_gap + sharecrop_gap + service_gap + fixmoney_gap +
   fixprod_gap +  per_without_instcredit + hdi_gap1 + ln_pop2001 +
   totalcontestants1994 + cast_eth_fract, data = nepaldem)

model_1999a &lt;- rlm(percent_regvote1999 ~ landless_gap +
   below1pa_gap + sharecrop_gap + service_gap + fixmoney_gap +
   fixprod_gap + per_without_instcredit + hdi_gap1 + ln_pop2001 +
   totalcontestants1999 + cast_eth_fract, data = nepaldem)

model_1999b &lt;- rlm(percent_regvote1999 ~ landless_gap +
   below1pa_gap + sharecrop_gap + service_gap + fixmoney_gap +
   fixprod_gap + per_without_instcredit + totoalkilled_1000 +
   hdi_gap1 + ln_pop2001 + totalcontestants1999 + cast_eth_fract,
   data = nepaldem)

# Comparing OLS to RR fit for model_1999b
obj_cvdm_jm &lt;- cvdm(percent_regvote1999 ~ landless_gap +
   below1pa_gap + sharecrop_gap + service_gap + fixmoney_gap +
   fixprod_gap + per_without_instcredit + totoalkilled_1000 +
   hdi_gap1 + ln_pop2001 + totalcontestants1999 + cast_eth_fract,
   data = nepaldem, method1 = "OLS", method2 = "RLM-MM")

obj_cvdm_jm



</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

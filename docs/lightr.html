<!DOCTYPE html><html><head><title>Help for package lightr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lightr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dispatch_parser'><p>Internal function to dispatch files to the correct parser</p></a></li>
<li><a href='#lightr-package'><p>lightr: Read Spectrometric Data and Metadata</p></a></li>
<li><a href='#lr_compute_processed'><p>Compute processed spectral data</p></a></li>
<li><a href='#lr_convert_tocsv'><p>Convert spectral data files to csv files</p></a></li>
<li><a href='#lr_get_metadata'><p>Extract metadata from spectra files</p></a></li>
<li><a href='#lr_get_spec'><p>Extract spectral data from spectra files</p></a></li>
<li><a href='#lr_parse_generic'><p>Generic function to parse spectra files that don't have a specific parser</p></a></li>
<li><a href='#lr_parse_jaz'><p>Parse OceanInsight converted file</p></a></li>
<li><a href='#lr_parse_jdx'><p>Parse OceanInsight JCAMP-DX (.jdx) file</p></a></li>
<li><a href='#lr_parse_procspec'><p>Parse OceanInsight ProcSpec file</p></a></li>
<li><a href='#lr_parse_spc'><p>Parse SPC binary file</p></a></li>
<li><a href='#lr_parse_trm'><p>Parse Avantes binary file</p></a></li>
<li><a href='#lr_parse_ttt'><p>Parse Avantes converted file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Read Spectrometric Data and Metadata</td>
</tr>
<tr>
<td>Version:</td>
<td>1.7.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Parse various reflectance/transmittance/absorbance spectra file
    formats to extract spectral data and metadata, as described in Gruson, White
    &amp; Maia (2019) &lt;<a href="https://doi.org/10.21105%2Fjoss.01857">doi:10.21105/joss.01857</a>&gt;. Among other formats, it can import
    files from 'Avantes' <a href="https://www.avantes.com/">https://www.avantes.com/</a>, 'CRAIC' 
    <a href="https://www.microspectra.com/">https://www.microspectra.com/</a>, and 'OceanInsight' (formerly 'OceanOptics') 
    <a href="https://www.oceaninsight.com/">https://www.oceaninsight.com/</a> brands.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>future.apply, progressr, xml2 (&ge; 1.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>digest, knitr, lintr, pavo, rmarkdown, spelling, testthat (&ge;
3.0.0), withr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/lightr/">https://docs.ropensci.org/lightr/</a>,
<a href="https://github.com/ropensci/lightr">https://github.com/ropensci/lightr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/lightr/issues">https://github.com/ropensci/lightr/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-21 19:43:11 UTC; hugo</td>
</tr>
<tr>
<td>Author:</td>
<td>Hugo Gruson <a href="https://orcid.org/0000-0002-4094-1476"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre,
    aut, cph],
  Rafael Maia <a href="https://orcid.org/0000-0002-7563-9795"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cph],
  Thomas White <a href="https://orcid.org/0000-0002-3976-1734"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph],
  Kotya Karapetyan [ctb, cph] (Author of the MATLAB script to read
    AvaSoft7 binary files (CC-BY))</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hugo Gruson &lt;hugo.gruson+R@normalesup.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-21 21:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='dispatch_parser'>Internal function to dispatch files to the correct parser</h2><span id='topic+dispatch_parser'></span>

<h3>Description</h3>

<p>Internal function to dispatch files to the correct parser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dispatch_parser(filename, decimal = ".", sep = NULL, specnum = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dispatch_parser_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
<tr><td><code id="dispatch_parser_+3A_specnum">specnum</code></td>
<td>
<p>Integer representing the position of the spectrum to read in
the file. This option only makes sense for AvaSoft8 files and is ignored
in the other cases.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>


<hr>
<h2 id='lightr-package'>lightr: Read Spectrometric Data and Metadata</h2><span id='topic+lightr'></span><span id='topic+lightr-package'></span>

<h3>Description</h3>

<p>Parse various reflectance/transmittance/absorbance spectra file formats to extract spectral data and metadata, as described in Gruson, White &amp; Maia (2019) <a href="https://doi.org/10.21105/joss.01857">doi:10.21105/joss.01857</a>. Among other formats, it can import files from 'Avantes' <a href="https://www.avantes.com/">https://www.avantes.com/</a>, 'CRAIC' <a href="https://www.microspectra.com/">https://www.microspectra.com/</a>, and 'OceanInsight' (formerly 'OceanOptics') <a href="https://www.oceaninsight.com/">https://www.oceaninsight.com/</a> brands.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Hugo Gruson <a href="mailto:hugo.gruson+R@normalesup.org">hugo.gruson+R@normalesup.org</a> (<a href="https://orcid.org/0000-0002-4094-1476">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Rafael Maia (<a href="https://orcid.org/0000-0002-7563-9795">ORCID</a>) [copyright holder]
</p>
</li>
<li><p> Thomas White (<a href="https://orcid.org/0000-0002-3976-1734">ORCID</a>) [copyright holder]
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Kotya Karapetyan (Author of the MATLAB script to read AvaSoft7 binary files (CC-BY)) [contributor, copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/lightr/">https://docs.ropensci.org/lightr/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/lightr">https://github.com/ropensci/lightr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/lightr/issues">https://github.com/ropensci/lightr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='lr_compute_processed'>Compute processed spectral data</h2><span id='topic+lr_compute_processed'></span>

<h3>Description</h3>

<p>Compute processed spectral data, from the raw count/scope data, counts from
a dark reference, and from a white reference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_compute_processed(spdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_compute_processed_+3A_spdata">spdata</code></td>
<td>
<p>data.frame containing the spectral data with the columns
'scope', 'dark', and 'white'</p>
</td></tr>
</table>

<hr>
<h2 id='lr_convert_tocsv'>Convert spectral data files to csv files</h2><span id='topic+lr_convert_tocsv'></span>

<h3>Description</h3>

<p>Convert spectral data files to csv files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_convert_tocsv(
  where = NULL,
  ext = "txt",
  decimal = ".",
  sep = NULL,
  subdir = FALSE,
  ignore.case = TRUE,
  overwrite = FALSE,
  metadata = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_convert_tocsv_+3A_where">where</code></td>
<td>
<p>Folder in which files are located (defaults to current working
directory).</p>
</td></tr>
<tr><td><code id="lr_convert_tocsv_+3A_ext">ext</code></td>
<td>
<p>File extension to be searched for, without the &quot;.&quot; (defaults to
<code>txt</code>). You can also use a character vector to specify multiple file
extensions.</p>
</td></tr>
<tr><td><code id="lr_convert_tocsv_+3A_decimal">decimal</code></td>
<td>
<p>Character to be used to identify decimal plates
(defaults to <code>.</code>).</p>
</td></tr>
<tr><td><code id="lr_convert_tocsv_+3A_sep">sep</code></td>
<td>
<p>Column delimiting characters to be considered in addition to the
default (which are: tab, space, and &quot;;&quot;)</p>
</td></tr>
<tr><td><code id="lr_convert_tocsv_+3A_subdir">subdir</code></td>
<td>
<p>Should subdirectories within the <code>where</code> folder be included in
the search? (defaults to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lr_convert_tocsv_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Should the extension search be case insensitive? (defaults
to <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="lr_convert_tocsv_+3A_overwrite">overwrite</code></td>
<td>
<p>logical. Should the function overwrite existing files with
the same name? (defaults to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lr_convert_tocsv_+3A_metadata">metadata</code></td>
<td>
<p>logical (defaults to <code>TRUE</code>). Should metadata be exported as
well? They will be exported in csv files will the <code style="white-space: pre;">&#8288;_metadata.csv&#8288;</code> suffix.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can customise the type of parallel processing used by this function with
the <code><a href="future.html#topic+plan">future::plan()</a></code> function. This works on all operating systems, as well
as high performance computing (HPC) environment. Similarly, you can customise
the way progress is shown with the <code><a href="progressr.html#topic+handlers">progressr::handlers()</a></code> functions
(progress bar, acoustic feedback, nothing, etc.)
</p>


<h3>Value</h3>

<p>Convert input files to csv and invisibly return the list of created
file paths
</p>


<h3>Warning</h3>

<p>When <code>metadata = TRUE</code>, if <strong>either</strong> the data <strong>or</strong> metadata export fails,
nothing will be returned for this file.
</p>

<hr>
<h2 id='lr_get_metadata'>Extract metadata from spectra files</h2><span id='topic+lr_get_metadata'></span>

<h3>Description</h3>

<p>Finds and imports metadata from spectra files in a given location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_get_metadata(
  where = getwd(),
  ext = "ProcSpec",
  sep = NULL,
  subdir = FALSE,
  subdir.names = FALSE,
  ignore.case = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_get_metadata_+3A_where">where</code></td>
<td>
<p>Folder in which files are located (defaults to current working
directory).</p>
</td></tr>
<tr><td><code id="lr_get_metadata_+3A_ext">ext</code></td>
<td>
<p>File extension to be searched for, without the &quot;.&quot; (defaults to
<code>txt</code>). You can also use a character vector to specify multiple file
extensions.</p>
</td></tr>
<tr><td><code id="lr_get_metadata_+3A_sep">sep</code></td>
<td>
<p>Column delimiting characters to be considered in addition to the
default (which are: tab, space, and &quot;;&quot;)</p>
</td></tr>
<tr><td><code id="lr_get_metadata_+3A_subdir">subdir</code></td>
<td>
<p>Should subdirectories within the <code>where</code> folder be included in
the search? (defaults to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lr_get_metadata_+3A_subdir.names">subdir.names</code></td>
<td>
<p>Should subdirectory path be included in the name of the
spectra? (defaults to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lr_get_metadata_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Should the extension search be case insensitive? (defaults
to <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can customise the type of parallel processing used by this function with
the <code><a href="future.html#topic+plan">future::plan()</a></code> function. This works on all operating systems, as well
as high performance computing (HPC) environment. Similarly, you can customise
the way progress is shown with the <code><a href="progressr.html#topic+handlers">progressr::handlers()</a></code> functions
(progress bar, acoustic feedback, nothing, etc.)
</p>


<h3>Value</h3>

<p>A data.frame containing one file per row and the following columns:
</p>

<ul>
<li> <p><code>name</code>: File name (without the extension)
</p>
</li>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording (ISO 8601 format)
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>



<h3>Warning</h3>

<p><code>white_inttime</code>, <code>dark_inttime</code> and <code>sample_inttime</code> should be equal. The
normalised data may be inaccurate otherwise.
</p>


<h3>References</h3>

<p>White TE, Dalrymple RL, Noble DWA, O'Hanlon JC, Zurek DB,
Umbers KDL. Reproducible research in the study of biological coloration.
Animal Behaviour. 2015 Aug 1;106:51-7 (<a href="https://doi.org/10.1016/j.anbehav.2015.05.007">doi:10.1016/j.anbehav.2015.05.007</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lr_get_metadata(system.file("testdata", "procspec_files",
                            package = "lightr"),
                ext = "ProcSpec")

</code></pre>

<hr>
<h2 id='lr_get_spec'>Extract spectral data from spectra files</h2><span id='topic+lr_get_spec'></span>

<h3>Description</h3>

<p>Finds and imports reflectance/transmittance/absorbance data from spectra
files in a given location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_get_spec(
  where = getwd(),
  ext = "txt",
  lim = c(300, 700),
  decimal = ".",
  sep = NULL,
  subdir = FALSE,
  subdir.names = FALSE,
  ignore.case = TRUE,
  interpolate = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_get_spec_+3A_where">where</code></td>
<td>
<p>Folder in which files are located (defaults to current working
directory).</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_ext">ext</code></td>
<td>
<p>File extension to be searched for, without the &quot;.&quot; (defaults to
<code>txt</code>). You can also use a character vector to specify multiple file
extensions.</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_lim">lim</code></td>
<td>
<p>A vector with two numbers determining the wavelength limits to be
considered (defaults to <code>c(300, 700)</code>).</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_decimal">decimal</code></td>
<td>
<p>Character to be used to identify decimal plates
(defaults to <code>.</code>).</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_sep">sep</code></td>
<td>
<p>Column delimiting characters to be considered in addition to the
default (which are: tab, space, and &quot;;&quot;)</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_subdir">subdir</code></td>
<td>
<p>Should subdirectories within the <code>where</code> folder be included in
the search? (defaults to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_subdir.names">subdir.names</code></td>
<td>
<p>Should subdirectory path be included in the name of the
spectra? (defaults to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_ignore.case">ignore.case</code></td>
<td>
<p>Should the extension search be case insensitive? (defaults
to <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="lr_get_spec_+3A_interpolate">interpolate</code></td>
<td>
<p>Boolean indicated whether spectral data should be
interpolated and pruned at every nanometre. Note that this option can only
work if all input data samples the same wavelengths. Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can customise the type of parallel processing used by this function with
the <code><a href="future.html#topic+plan">future::plan()</a></code> function. This works on all operating systems, as well
as high performance computing (HPC) environment. Similarly, you can customise
the way progress is shown with the <code><a href="progressr.html#topic+handlers">progressr::handlers()</a></code> functions
(progress bar, acoustic feedback, nothing, etc.)
</p>


<h3>Value</h3>

<p>A data.frame, containing the wavelengths in the first column and
individual imported spectral files in the subsequent columns.
</p>


<h3>See Also</h3>

<p><code><a href="pavo.html#topic+getspec">pavo::getspec()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spcs &lt;- lr_get_spec(system.file("testdata", package = "lightr"), ext = "jdx")
head(spcs)

</code></pre>

<hr>
<h2 id='lr_parse_generic'>Generic function to parse spectra files that don't have a specific parser</h2><span id='topic+lr_parse_generic'></span>

<h3>Description</h3>

<p>Generic function to parse spectra files that don't have a specific parser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_parse_generic(filename, decimal = ".", sep = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_parse_generic_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
<tr><td><code id="lr_parse_generic_+3A_decimal">decimal</code></td>
<td>
<p>Character to be used to identify decimal plates
(defaults to <code>.</code>).</p>
</td></tr>
<tr><td><code id="lr_parse_generic_+3A_sep">sep</code></td>
<td>
<p>Column delimiting characters to be considered in addition to the
default (which are: tab, space, and &quot;;&quot;)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'processed' column computed by official software and provided as is.
</p>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>res_csv &lt;- lr_parse_generic(
  system.file("testdata", "spec.csv", package = "lightr"),
  sep = ","
)
head(res_csv$data)
# No metadata is extracted with this parser
res_csv$metadata

res_craic &lt;- lr_parse_generic(
  system.file("testdata", "CRAIC_export.txt", package = "lightr")
)
head(res_craic$data)
# No metadata is extracted with this parser
res_craic$metadata

</code></pre>

<hr>
<h2 id='lr_parse_jaz'>Parse OceanInsight converted file</h2><span id='topic+lr_parse_jaz'></span><span id='topic+lr_parse_jazirrad'></span>

<h3>Description</h3>

<p>Parse OceanInsight (formerly OceanOptics) converted file.
<a href="https://www.oceaninsight.com/">https://www.oceaninsight.com/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_parse_jaz(filename)

lr_parse_jazirrad(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_parse_jaz_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'processed' column computed by official software and provided as is.
</p>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>res_jaz &lt;- lr_parse_jaz(system.file("testdata", "jazspec.jaz",
                        package = "lightr"))
head(res_jaz$data)
res_jaz$metadata

res_jazirrad &lt;- lr_parse_jazirrad(system.file("testdata", "irrad.JazIrrad",
                                  package = "lightr"))
head(res_jazirrad$data)
res_jazirrad$metadata

res_usb4000 &lt;- lr_parse_jaz(system.file("testdata", "OOusb4000.txt",
                            package = "lightr"))
head(res_usb4000$data)
res_usb4000$metadata

res_transmission &lt;- lr_parse_jaz(
  system.file("testdata", "FMNH6834.00000001.Master.Transmission",
               package = "lightr")
)
head(res_transmission$data)
res_transmission$metadata

</code></pre>

<hr>
<h2 id='lr_parse_jdx'>Parse OceanInsight JCAMP-DX (.jdx) file</h2><span id='topic+lr_parse_jdx'></span>

<h3>Description</h3>

<p>Parse OceanInsight (formerly OceanOptics) JCAMP-DX (.jdx) file.
<a href="https://www.oceaninsight.com/">https://www.oceaninsight.com/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_parse_jdx(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_parse_jdx_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'processed' column computed by <span class="pkg">lightr</span> with the function
<code><a href="#topic+lr_compute_processed">lr_compute_processed()</a></code>.
</p>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>



<h3>References</h3>

<p>McDonald RS, Wilks PA. JCAMP-DX: A Standard Form for Exchange of
Infrared Spectra in Computer Readable Form. Applied Spectroscopy.
1988;42(1):151-62.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res_jdx &lt;- lr_parse_jdx(system.file("testdata", "OceanOptics_period.jdx",
                                    package = "lightr"))
head(res_jdx$data)
res_jdx$metadata

</code></pre>

<hr>
<h2 id='lr_parse_procspec'>Parse OceanInsight ProcSpec file</h2><span id='topic+lr_parse_procspec'></span>

<h3>Description</h3>

<p>Parse OceanInsight (formerly OceanOptics) ProcSpec file.
<a href="https://www.oceaninsight.com/">https://www.oceaninsight.com/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_parse_procspec(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_parse_procspec_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'processed' column computed by official software and provided as is.
</p>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>



<h3>References</h3>

<p><a href="https://www.oceaninsight.com/support/faqs/software/">https://www.oceaninsight.com/support/faqs/software/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- lr_parse_procspec(system.file("testdata", "procspec_files",
                                     "OceanOptics_Linux.ProcSpec",
                                     package = "lightr"))
head(res$data)
res$metadata

</code></pre>

<hr>
<h2 id='lr_parse_spc'>Parse SPC binary file</h2><span id='topic+lr_parse_spc'></span>

<h3>Description</h3>

<p>Parse SPC binary file. (Used by CRAIC <a href="https://www.microspectra.com/">https://www.microspectra.com/</a> and
OceanInsight <a href="https://www.oceaninsight.com/">https://www.oceaninsight.com/</a>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_parse_spc(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_parse_spc_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'processed' column computed by official software and provided as is.
</p>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>



<h3>In development</h3>

<p>Metadata parsing has not yet been implemented for this file format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- lr_parse_spc(system.file("testdata", "compare", "CRAIC", "CRAIC.spc",
                                package = "lightr"))
head(res$data)
res$metadata

</code></pre>

<hr>
<h2 id='lr_parse_trm'>Parse Avantes binary file</h2><span id='topic+lr_parse_trm'></span><span id='topic+lr_parse_abs'></span><span id='topic+lr_parse_roh'></span><span id='topic+lr_parse_rfl8'></span><span id='topic+lr_parse_raw8'></span><span id='topic+lr_parse_irr8'></span>

<h3>Description</h3>

<p>Parse Avantes binary file (TRM, ABS, ROH, DRK, REF, RAW8, RFL8 file
extensions). <a href="https://www.avantes.com/products/spectrometers/">https://www.avantes.com/products/spectrometers/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_parse_trm(filename)

lr_parse_abs(filename)

lr_parse_roh(filename)

lr_parse_rfl8(filename, specnum = 1L)

lr_parse_raw8(filename, specnum = 1L)

lr_parse_irr8(filename, specnum = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_parse_trm_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
<tr><td><code id="lr_parse_trm_+3A_specnum">specnum</code></td>
<td>
<p>Integer representing the position of the spectrum to read in
the file. This option only makes sense for AvaSoft8 files and is ignored
in the other cases.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'processed' column computed by <span class="pkg">lightr</span> with the function
<code><a href="#topic+lr_compute_processed">lr_compute_processed()</a></code>.
</p>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>res_trm &lt;- lr_parse_trm(
  system.file("testdata", "avantes_trans.TRM", package = "lightr")
)
head(res_trm$data)
res_trm$metadata

res_roh &lt;- lr_parse_roh(
  system.file("testdata", "avantes_reflect.ROH", package = "lightr")
)
head(res_roh$data)
res_roh$metadata

# This parser has a unique `specnum` argument
res_rfl8_1 &lt;- lr_parse_rfl8(
  system.file("testdata", "compare", "Avantes", "feather.RFL8", package = "lightr"),
  specnum = 1
)
head(res_rfl8_1$data)
res_rfl8_1$metadata

res_rfl8_2 &lt;- lr_parse_rfl8(
  system.file("testdata", "compare", "Avantes", "feather.RFL8", package = "lightr"),
  specnum = 2
)
head(res_rfl8_2$data)
res_rfl8_2$metadata

</code></pre>

<hr>
<h2 id='lr_parse_ttt'>Parse Avantes converted file</h2><span id='topic+lr_parse_ttt'></span><span id='topic+lr_parse_trt'></span>

<h3>Description</h3>

<p>Parse Avantes converted file.
<a href="https://www.avantes.com/products/spectrometers/">https://www.avantes.com/products/spectrometers/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_parse_ttt(filename)

lr_parse_trt(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lr_parse_ttt_+3A_filename">filename</code></td>
<td>
<p>Path of the file to parse</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'processed' column computed by official software and provided as is.
</p>


<h3>Value</h3>

<p>A named list of two elements:
</p>

<ul>
<li> <p><code>data</code>: a dataframe with columns &quot;wl&quot;, &quot;dark&quot;, &quot;white&quot;, &quot;scope&quot; and
&quot;processed&quot;, in this order.
</p>
</li>
<li> <p><code>metadata</code>: a character vector with metadata including:
</p>

<ul>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording in format '%Y-%m-%d %H:%M:%S'
and UTC timezone. If timezone is missing in source file, UTC time will
be assumed (for reproducibility purposes across computers with different
localtimes).
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>res_ttt &lt;- lr_parse_ttt(
  system.file("testdata", "avantes_export.ttt", package = "lightr")
)
head(res_ttt$data)
res_ttt$metadata

res_trt &lt;- lr_parse_trt(
  system.file("testdata", "avantes_export2.trt", package = "lightr")
)
head(res_trt$data)
res_trt$metadata

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package TwoArmSurvSim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {TwoArmSurvSim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#censor_surv'><p>censor survival event</p></a></li>
<li><a href='#censordata'><p>Censor Events Given a Fixed Dropout Rate</p></a></li>
<li><a href='#column_freq'><p>Calculate the Combination Frequency of Several Columns within a Data Frame</p></a></li>
<li><a href='#cov_simu'><p>Simulate Covariates Matrix Based on User Provided Factor Information</p></a></li>
<li><a href='#dummy_convert'><p>Convert Categorical Data to Dummy Variables</p></a></li>
<li><a href='#LambdaCensor'><p>Find the Censor Hazard Function Parameter for Proportional Hazard Model Given a Fixed Dropout Rate</p></a></li>
<li><a href='#LambdaCensor_betapw'><p>Find the Censor Hazard Function Parameter for Nonproportional Hazard Model Given a Fixed Dropout Rate</p></a></li>
<li><a href='#linear_accrual'><p>Simulate Accrual Time Where the Accrual Rate is Linearly Increased</p></a></li>
<li><a href='#objfunction'><p>Objective Function for the Finding of Censor Hazard Function Parameter for Proportional Hazard Model</p></a></li>
<li><a href='#objfunction_betpw'><p>Objective Function for The Finding of Censor Hazard Function Parameter for Nonproportional Hazard Model</p></a></li>
<li><a href='#projection'><p>Event and Trial Projection</p></a></li>
<li><a href='#projection_simulation'><p>Project Final Event Numbers or Trial Stop Time Based on Interim Analysis Data</p></a></li>
<li><a href='#randomize_trt'><p>Generate Block Randomized Treatment Label Based on Covariates Matrix</p></a></li>
<li><a href='#randomize_trt2'><p>Generate Block Randomized Treatment Label Based on Covariates Matrix for Two Arm Trial</p></a></li>
<li><a href='#run_simulation'><p>Run Clinical Trial Simulations Based on User Defined Trial Settings</p></a></li>
<li><a href='#run_simulation_simsurv'><p>Run Clinical Trial Simulations Based on survival data generated by simsurv package</p></a></li>
<li><a href='#self_blockrand'><p>Block Randomization</p></a></li>
<li><a href='#step_accrual'><p>Simulate Accrual Time</p></a></li>
<li><a href='#surv_data_simulation'><p>Simulate Survival Data</p></a></li>
<li><a href='#trial_data_simulation'><p>Simulate Clinical Trial with Accrual Time and Trial Stop Rules</p></a></li>
<li><a href='#weibullsim'><p>Simulate Event Time with weibull Hazard Function</p></a></li>
<li><a href='#weibullsim_betapw'><p>Simulate Event Time with weibull Hazard Function and Piecewise Hazard Ratios</p></a></li>
<li><a href='#weibullsim_pw'><p>Simulate event time with weibull hazard function. The parameters can be piecewise.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Simulate Survival Data for Randomized Clinical Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A system to simulate clinical trials with time to event endpoints. Event simulation is based on Cox models allowing for covariates in addition to the treatment or group factor. Specific drop-out rates (separate from administrative censoring) can be controlled in the simulation. Other features include stratified randomization, non-proportional hazards, different accrual patterns, and event projection (timing to reach the target event) based on interim data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0),blockrand,dplyr,survival,simsurv</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-26 07:52:06 UTC; bzhang</td>
</tr>
<tr>
<td>Author:</td>
<td>Bo Zhang [cre, aut],
  Yi Zhong [aut, ctb],
  Ginny Peng [aut, ctb],
  Bin Yao [aut, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bo Zhang &lt;bzhang@pumabiotechnology.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-26 08:50:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='censor_surv'>censor survival event</h2><span id='topic+censor_surv'></span>

<h3>Description</h3>

<p>censor event time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censor_surv(eventtime,censortime, x)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censor_surv_+3A_eventtime">eventtime</code></td>
<td>
<p>vector of event times </p>
</td></tr>
<tr><td><code id="censor_surv_+3A_censortime">censortime</code></td>
<td>
<p>vector of censor time</p>
</td></tr>
<tr><td><code id="censor_surv_+3A_x">x</code></td>
<td>
<p>covariates matrix</p>
</td></tr>
</table>

<hr>
<h2 id='censordata'>Censor Events Given a Fixed Dropout Rate</h2><span id='topic+censordata'></span>

<h3>Description</h3>

<p>Censor events given a fixed dropout rate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censordata(simdata,lambda,gamma, dropoutrate,ebx=1,gammac=1,groupfreq=1,
censordist='exponential',timeinterval=NULL,HRPW=FALSE)
  

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censordata_+3A_simdata">simdata</code></td>
<td>
<p>Simulated event dataset</p>
</td></tr>
<tr><td><code id="censordata_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function</p>
</td></tr>
<tr><td><code id="censordata_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="censordata_+3A_dropoutrate">dropoutrate</code></td>
<td>
<p>Patient dropout rate with range [0,1).  If dropoutrate contains only one number. The program will control the dropout rate at population level(treatment + control).  If dropoutrate contains two numbers (ie. c(0.2,0.1)), the program will control the dropout rate of control and treatment arm seperately, with the first dropout rate number for control and the second number for treatment. Default value is &quot;0&quot; (no dropout)</p>
</td></tr>
<tr><td><code id="censordata_+3A_ebx">ebx</code></td>
<td>
<p>exp(beta*x), if there's no covariates, ebx=1.</p>
</td></tr>
<tr><td><code id="censordata_+3A_groupfreq">groupfreq</code></td>
<td>
<p>frequence of each level of ebx value</p>
</td></tr>
<tr><td><code id="censordata_+3A_timeinterval">timeinterval</code></td>
<td>
<p>time intervals for piecewise baseline hazard function</p>
</td></tr>
<tr><td><code id="censordata_+3A_gammac">gammac</code></td>
<td>
<p>gamma for censor hazard function. Default is 1 (exponential)</p>
</td></tr>
<tr><td><code id="censordata_+3A_censordist">censordist</code></td>
<td>
<p>censor hazard distribution. Default is exponential</p>
</td></tr>
<tr><td><code id="censordata_+3A_hrpw">HRPW</code></td>
<td>
<p>Indicator of piecewise hazard ratios. TURE for piecewise. FALSE for non piecewise </p>
</td></tr>
</table>

<hr>
<h2 id='column_freq'>Calculate the Combination Frequency of Several Columns within a Data Frame</h2><span id='topic+column_freq'></span>

<h3>Description</h3>

<p>Calculate the combination frequency of several columns in a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>column_freq(x,namelist,keepID=FALSE)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="column_freq_+3A_x">x</code></td>
<td>
<p>Input data as a data frame.</p>
</td></tr>
<tr><td><code id="column_freq_+3A_namelist">namelist</code></td>
<td>
<p>A list of column names that need to be counted.</p>
</td></tr>
<tr><td><code id="column_freq_+3A_keepid">keepID</code></td>
<td>
<p>If TRUE, the output will keep the unique ID for the column combination.</p>
</td></tr>
</table>

<hr>
<h2 id='cov_simu'>Simulate Covariates Matrix Based on User Provided Factor Information</h2><span id='topic+cov_simu'></span>

<h3>Description</h3>

<p>simulate covariates matrix based on user provided factor information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cov_simu(sample_size = sample_size,factors=factors)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cov_simu_+3A_sample_size">sample_size</code></td>
<td>
<p>Total number of patients </p>
</td></tr>
<tr><td><code id="cov_simu_+3A_factors">factors</code></td>
<td>
<p>A list contains basic information about the covariate factors. Each element should have factor's name, number of levels and their frequency, as well as the hazard ratio to the reference group. Factors should be categorical data.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
f1&lt;-list(name='Region', N_level=3, prevalence=c(0.1,0.2,0.7), HR=c(1,1,1), strata=TRUE)
f2&lt;-list(name='Gender', N_level=2, prevalence=c(0.5,0.5), HR=c(1,0.9), strata=TRUE)
factors&lt;-list(f1,f2)
cov_simu(sample_size=300,factors=factors)

</code></pre>

<hr>
<h2 id='dummy_convert'>Convert Categorical Data to Dummy Variables</h2><span id='topic+dummy_convert'></span>

<h3>Description</h3>

<p>Convert Categorical Data to Dummy Variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dummy_convert(dataset,column_names)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dummy_convert_+3A_dataset">dataset</code></td>
<td>
<p>Data frame that contains the categorical columns</p>
</td></tr>
<tr><td><code id="dummy_convert_+3A_column_names">column_names</code></td>
<td>
<p>A list of column names that need to be converted to dummy variables.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
x&lt;-data.frame(trt=as.factor(rbinom(100,1,0.5)), Gender=as.factor(rbinom(100,1,0.5)))

dummy_convert(x,c("trt","Gender"))

</code></pre>

<hr>
<h2 id='LambdaCensor'>Find the Censor Hazard Function Parameter for Proportional Hazard Model Given a Fixed Dropout Rate</h2><span id='topic+LambdaCensor'></span>

<h3>Description</h3>

<p>calculate censor hazard function parameter for a given dropout rate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LambdaCensor(lambda=lambda,gamma=gamma,theta=theta,ebx=1,gammac=1,
  groupfreq=1,censordist='exponential',timeinterval=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LambdaCensor_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function</p>
</td></tr>
<tr><td><code id="LambdaCensor_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="LambdaCensor_+3A_gammac">gammac</code></td>
<td>
<p>gamma for censor hazard function. This is required if the censoring hazard function is weibull</p>
</td></tr>
<tr><td><code id="LambdaCensor_+3A_theta">theta</code></td>
<td>
<p>Dropout rate</p>
</td></tr>
<tr><td><code id="LambdaCensor_+3A_ebx">ebx</code></td>
<td>
<p>exp(beta*x), if there's no covariates, ebx=1.</p>
</td></tr>
<tr><td><code id="LambdaCensor_+3A_groupfreq">groupfreq</code></td>
<td>
<p>frequence of each level of ebx value</p>
</td></tr>
<tr><td><code id="LambdaCensor_+3A_censordist">censordist</code></td>
<td>
<p>censor hazard function distribution</p>
</td></tr>
<tr><td><code id="LambdaCensor_+3A_timeinterval">timeinterval</code></td>
<td>
<p>time intervals for piecewise baseline hazard function</p>
</td></tr>
</table>


<h3>References</h3>

<p>Wan F. (2017) <em>Simulating survival data with predefined censoring rates for proportional hazards models. Statist. Med. 2017; 36(5): 838-854</em>
</p>
<p>Martinez EZ, Achcar JA, de Oliveira Peres MV, de Queiroz JAM (2016) <em> A brief note on the simulation of survival data with a desired percentage of right-censored data. Journal of Data Science . 2016, Vol. 14 Issue 4, p701-712. 12p</em>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lambdac&lt;-LambdaCensor(lambda=0.03,gamma=1,theta=0.2)

</code></pre>

<hr>
<h2 id='LambdaCensor_betapw'>Find the Censor Hazard Function Parameter for Nonproportional Hazard Model Given a Fixed Dropout Rate</h2><span id='topic+LambdaCensor_betapw'></span>

<h3>Description</h3>

<p>calculate censor hazard function parameter for a given dropout rate.  (for piecewise hazard ratios)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LambdaCensor_betapw(lambda=lambda,gamma=gamma,theta=theta,ebx=1,
  gammac=1,groupfreq=1,censordist='exponential',timeinterval=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LambdaCensor_betapw_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function</p>
</td></tr>
<tr><td><code id="LambdaCensor_betapw_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="LambdaCensor_betapw_+3A_gammac">gammac</code></td>
<td>
<p>gamma for censor hazard function. This is required if the censoring hazard function is weibull</p>
</td></tr>
<tr><td><code id="LambdaCensor_betapw_+3A_theta">theta</code></td>
<td>
<p>Dropout rate</p>
</td></tr>
<tr><td><code id="LambdaCensor_betapw_+3A_ebx">ebx</code></td>
<td>
<p>exp(beta*x), if there's no covariates, ebx=1.</p>
</td></tr>
<tr><td><code id="LambdaCensor_betapw_+3A_groupfreq">groupfreq</code></td>
<td>
<p>frequence of each level of ebx value</p>
</td></tr>
<tr><td><code id="LambdaCensor_betapw_+3A_censordist">censordist</code></td>
<td>
<p>censor hazard function distribution</p>
</td></tr>
<tr><td><code id="LambdaCensor_betapw_+3A_timeinterval">timeinterval</code></td>
<td>
<p>time intervals for piecewise baseline hazard function</p>
</td></tr>
</table>


<h3>References</h3>

<p>Wan F. (2017) <em>Simulating survival data with predefined censoring rates for proportional hazards models. Statist. Med. 2017; 36(5): 838-854</em>
</p>
<p>Martinez EZ, Achcar JA, de Oliveira Peres MV, de Queiroz JAM (2016) <em> A brief note on the simulation of survival data with a desired percentage of right-censored data. Journal of Data Science . 2016, Vol. 14 Issue 4, p701-712. 12p</em>
</p>

<hr>
<h2 id='linear_accrual'>Simulate Accrual Time Where the Accrual Rate is Linearly Increased</h2><span id='topic+linear_accrual'></span>

<h3>Description</h3>

<p>simulate accrual time where the accrual rate is linearly increased
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
linear_accrual(np,rampupt,acceleration)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="linear_accrual_+3A_np">np</code></td>
<td>
<p>Total number of patients </p>
</td></tr>
<tr><td><code id="linear_accrual_+3A_rampupt">rampupt</code></td>
<td>
<p>The length of the ramp up period.</p>
</td></tr>
<tr><td><code id="linear_accrual_+3A_acceleration">acceleration</code></td>
<td>
<p>The acceleration of the accrual rate (increase of each time unit).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
linear_accrual(np=200,rampupt=10,acceleration=5)

</code></pre>

<hr>
<h2 id='objfunction'>Objective Function for the Finding of Censor Hazard Function Parameter for Proportional Hazard Model</h2><span id='topic+objfunction'></span>

<h3>Description</h3>

<p>objective function for the finding of censor hazard function parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>objfunction(x,lambda,gamma,gammac,theta,ebx,groupfreq,censordist,timeinterval)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="objfunction_+3A_x">x</code></td>
<td>
<p>Censor hazard function parameter. For exponential or weibull censor hazard, x is lambda, for uniform hazard,  x is the maximum time of the censoring window.</p>
</td></tr>
<tr><td><code id="objfunction_+3A_lambda">lambda</code></td>
<td>
<p>lamda for event hazard function</p>
</td></tr>
<tr><td><code id="objfunction_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="objfunction_+3A_gammac">gammac</code></td>
<td>
<p>gamma for censor hazard function. THis is required if the censoring hazard function is weibull</p>
</td></tr>
<tr><td><code id="objfunction_+3A_theta">theta</code></td>
<td>
<p>Dropout rate</p>
</td></tr>
<tr><td><code id="objfunction_+3A_ebx">ebx</code></td>
<td>
<p>exp(beta*x), if there's no covariates, ebx=1.</p>
</td></tr>
<tr><td><code id="objfunction_+3A_groupfreq">groupfreq</code></td>
<td>
<p>frequence of each level of ebx value</p>
</td></tr>
<tr><td><code id="objfunction_+3A_censordist">censordist</code></td>
<td>
<p>censor hazard function distribution</p>
</td></tr>
<tr><td><code id="objfunction_+3A_timeinterval">timeinterval</code></td>
<td>
<p>time intervals for piecewise baseline hazard function</p>
</td></tr>
</table>

<hr>
<h2 id='objfunction_betpw'>Objective Function for The Finding of Censor Hazard Function Parameter for Nonproportional Hazard Model</h2><span id='topic+objfunction_betapw'></span>

<h3>Description</h3>

<p>objective function for the finding of censor hazard function parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>objfunction_betapw(x,lambda,gamma,gammac,theta,ebx,groupfreq,censordist,timeinterval)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="objfunction_betpw_+3A_x">x</code></td>
<td>
<p>Censor hazard function parameter. For exponential or weibull censor hazard, x is lambda, for uniform hazard,  x is the maximum time of the censoring window.</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_lambda">lambda</code></td>
<td>
<p>lamda for event hazard function</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_gammac">gammac</code></td>
<td>
<p>gamma for censor hazard function. THis is required if the censoring hazard function is weibull</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_theta">theta</code></td>
<td>
<p>Dropout rate</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_ebx">ebx</code></td>
<td>
<p>exp(beta*x), if there's no covariates, ebx=1.</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_groupfreq">groupfreq</code></td>
<td>
<p>frequence of each level of ebx value</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_censordist">censordist</code></td>
<td>
<p>censor hazard function distribution</p>
</td></tr>
<tr><td><code id="objfunction_betpw_+3A_timeinterval">timeinterval</code></td>
<td>
<p>time intervals for piecewise baseline hazard function</p>
</td></tr>
</table>

<hr>
<h2 id='projection'>Event and Trial Projection</h2><span id='topic+projection'></span>

<h3>Description</h3>

<p>Trial projection given current snapshot dataset. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>projection(snapshot_data, enroll_continue=FALSE, samplesize=0, rand_ratio=c(1,1), 
blocksize=1,accrual_interval=NULL, accrual_rate=NULL, lambda=NULL, 
trtHR=NULL, dropoutrate=NULL,eventtarget=0,maxlpfollowup=NULL)
  

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="projection_+3A_snapshot_data">snapshot_data</code></td>
<td>
<p>Snapshot dataset in data frame. Data frame must include column &quot;time&quot;,&quot;status&quot; and &quot;accrual&quot;. Optional column &quot;onstudy&quot; is indicator of patients are still on study.</p>
</td></tr>
<tr><td><code id="projection_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>randomization ratio: control vs treatment</p>
</td></tr>
<tr><td><code id="projection_+3A_enroll_continue">enroll_continue</code></td>
<td>
<p>Indicate whether trial is still enrolling new patients. Default is FALSE.  if TRUE, user needs provide &quot;samplesize&quot;, &quot;rand_ratio&quot;,&quot;blocksize&quot;, &quot;accrual_interval&quot;,&quot;accrual_rate&quot;.</p>
</td></tr>
<tr><td><code id="projection_+3A_samplesize">samplesize</code></td>
<td>
<p>Total sample size of the trial. only needed if &quot;enroll_continue=TRUE&quot;</p>
</td></tr>
<tr><td><code id="projection_+3A_blocksize">blocksize</code></td>
<td>
<p>Randomization blocksize, only needed if &quot;enroll_continue=TRUE&quot;</p>
</td></tr>
<tr><td><code id="projection_+3A_accrual_interval">accrual_interval</code></td>
<td>
<p>accrual time windows. only needed if &quot;enroll_continue=TRUE&quot;</p>
</td></tr>
<tr><td><code id="projection_+3A_accrual_rate">accrual_rate</code></td>
<td>
<p>accrual rate for each time window. only needed if &quot;enroll_continue=TRUE&quot;</p>
</td></tr>
<tr><td><code id="projection_+3A_lambda">lambda</code></td>
<td>
<p>Baseline hazard function parameter for exponential distribution</p>
</td></tr>
<tr><td><code id="projection_+3A_trthr">trtHR</code></td>
<td>
<p>hazard ratio between treatment and control</p>
</td></tr>
<tr><td><code id="projection_+3A_dropoutrate">dropoutrate</code></td>
<td>
<p>Dropout rate</p>
</td></tr>
<tr><td><code id="projection_+3A_eventtarget">eventtarget</code></td>
<td>
<p>Total target event number</p>
</td></tr>
<tr><td><code id="projection_+3A_maxlpfollowup">maxlpfollowup</code></td>
<td>
<p>Maximum followup time for last enrolled patient</p>
</td></tr>
</table>

<hr>
<h2 id='projection_simulation'>Project Final Event Numbers or Trial Stop Time Based on Interim Analysis Data</h2><span id='topic+projection_simulation'></span>

<h3>Description</h3>

<p>Project final event numbers or trial stop time based on interim analysis data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
projection_simulation(snapshot_data,  rand_ratio=c(1,1), enroll_continue=FALSE, 
samplesize=0, blocksize=1,accrual_interval=NULL, accrual_rate=NULL, lambda=NULL,
trtHR=NULL, dropoutrate=NULL,eventtarget=NULL,maxlpfollowup=NULL,N_simulation=1)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="projection_simulation_+3A_snapshot_data">snapshot_data</code></td>
<td>
<p>Snapshot dataset or interim analysis dataset</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>Randomization ratio between control and treatment</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_blocksize">blocksize</code></td>
<td>
<p>The value of this parameter is used to define the size of the randomization blocks. The actual blocksize is number of treatment levels mutiplied by this parameter. Please refer to &quot;blockrand&quot; package for detailed usage.</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_enroll_continue">enroll_continue</code></td>
<td>
<p>True if trial is still in the enrollment period</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_samplesize">samplesize</code></td>
<td>
<p>if enroll_continue=TRUE, please provide the total sample size of the trial.</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_trthr">trtHR</code></td>
<td>
<p>Hazard ratio between treatment groups (treatment vs control)</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_accrual_interval">accrual_interval</code></td>
<td>
<p>Time windows for accrual</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_accrual_rate">accrual_rate</code></td>
<td>
<p>accrual rate for each accrual time window</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function (exponential)</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_dropoutrate">dropoutrate</code></td>
<td>
<p>Patient dropout rate with range [0,1).  If dropoutrate contains only one number. The program will control the dropout rate at population level(treatment + control).  If dropoutrate contains two numbers (ie. c(0.2,0.1)), the program will control the dropout rate of control and treatment arm seperately, with the first dropout rate number for control and the second number for treatment. Default value is &quot;0&quot; (no dropout)</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_eventtarget">eventtarget</code></td>
<td>
<p>Number of target events</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_maxlpfollowup">maxlpfollowup</code></td>
<td>
<p>maximum follow up time for the last enrolled patient</p>
</td></tr>
<tr><td><code id="projection_simulation_+3A_n_simulation">N_simulation</code></td>
<td>
<p>number of simulations to run</p>
</td></tr>
</table>

<hr>
<h2 id='randomize_trt'>Generate Block Randomized Treatment Label Based on Covariates Matrix</h2><span id='topic+randomize_trt'></span>

<h3>Description</h3>

<p>Generate block randomized treatment label based on covariates matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
randomize_trt(cov_mat=cov_mat,blocksize=blocksize,trtHR=trtHR,rand_ratio=c(1,1))


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomize_trt_+3A_cov_mat">cov_mat</code></td>
<td>
<p>Covariates matrix. </p>
</td></tr>
<tr><td><code id="randomize_trt_+3A_blocksize">blocksize</code></td>
<td>
<p>Randomization block size</p>
</td></tr>
<tr><td><code id="randomize_trt_+3A_trthr">trtHR</code></td>
<td>
<p>Hazard ratio between treatment arms.</p>
</td></tr>
<tr><td><code id="randomize_trt_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>Randomization ratio between control and treatment</p>
</td></tr>
</table>

<hr>
<h2 id='randomize_trt2'>Generate Block Randomized Treatment Label Based on Covariates Matrix for Two Arm Trial</h2><span id='topic+randomize_trt2'></span>

<h3>Description</h3>

<p>Generate block randomized treatment label based on covariates matrix for two arm trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
randomize_trt2(cov_mat=cov_mat,blocksize=blocksize,rand_ratio=c(1,1))


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomize_trt2_+3A_cov_mat">cov_mat</code></td>
<td>
<p>Covariates matrix. </p>
</td></tr>
<tr><td><code id="randomize_trt2_+3A_blocksize">blocksize</code></td>
<td>
<p>Randomization block size</p>
</td></tr>
<tr><td><code id="randomize_trt2_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>Randomization ratio between control and treatment</p>
</td></tr>
</table>

<hr>
<h2 id='run_simulation'>Run Clinical Trial Simulations Based on User Defined Trial Settings</h2><span id='topic+run_simulation'></span>

<h3>Description</h3>

<p>Runs single or mutiple clinical trial (Time to event endpoint) simulations based on the clinical trial settings. Trial data summary will be provied for each simulation. Cox model will be fitted afther trial simulation. If stratification factors were provided, stratified cox model results will also be provided. If &quot;N_simulation&quot; is set to 1, one simulation dataset will be generated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_simulation(samplesize, rand_ratio=c(1,1), blocksize, factors=NULL,trtHR=trtHR, 
trt_timeinterval=NULL, accrual_interval=NULL, accrual_rate=NULL, rampuptime=NULL,
acceleration=NULL, lambda, gamma, timeinterval=NULL, dropoutrate=0,gammac=1,
censordist='exponential', eventtarget=NULL,maxlpfollowup=NULL, N_simulation=1,
alpha=0.05)
  

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_simulation_+3A_samplesize">samplesize</code></td>
<td>
<p>Total number of patients in the simulated clinical trial</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>Randomization ratio between control and treatment</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_blocksize">blocksize</code></td>
<td>
<p>The value of this parameter is used to define the size of the randomizaiton blocks. The actual blocksize is number of treatment levels mutipled by this parameter. Please refer to &quot;blockrand&quot; package for detailed usage.</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_factors">factors</code></td>
<td>
<p>stratification factors. Default is NULL</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_trthr">trtHR</code></td>
<td>
<p>Hazard ratio between treatment groups (treatment vs control)</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_trt_timeinterval">trt_timeinterval</code></td>
<td>
<p>Time windows for trtHR when trtHR is piecewise. Always start with time 0. Example: c(0,10,30)</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_accrual_interval">accrual_interval</code></td>
<td>
<p>Time windows for accrual</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_accrual_rate">accrual_rate</code></td>
<td>
<p>accrual rate for each accrual time window</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_rampuptime">rampuptime</code></td>
<td>
<p>rampup time for linear increased accrual</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_acceleration">acceleration</code></td>
<td>
<p>acceleration rate for linear increased accrual</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_timeinterval">timeinterval</code></td>
<td>
<p>time intervals for piecewise baseline hazard function</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_dropoutrate">dropoutrate</code></td>
<td>
<p>Patient dropout rate with range [0,1).  If dropoutrate contains only one number. The program will control the dropout rate at population level(treatment + control).  If dropoutrate contains two numbers (ie. c(0.2,0.1)), the program will control the dropout rate of control and treatment arm seperately, with the first dropout rate number for control and the second number for treatment. Default value is &quot;0&quot; (no dropout)</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_gammac">gammac</code></td>
<td>
<p>gamma for censor hazard function. Default is 1 (exponential)</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_censordist">censordist</code></td>
<td>
<p>censor hazard distribution. Can be &quot;weibull&quot;, &quot;exponential&quot; or &quot;uniform&quot;. Default is exponential</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_eventtarget">eventtarget</code></td>
<td>
<p>Number of target events</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_maxlpfollowup">maxlpfollowup</code></td>
<td>
<p>maximum follow up time for the last enrolled patient</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_n_simulation">N_simulation</code></td>
<td>
<p>number of simulations to run</p>
</td></tr>
<tr><td><code id="run_simulation_+3A_alpha">alpha</code></td>
<td>
<p>Two sided alpha for testing power calculation</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>TrilInfo</code></td>
<td>
<p>Summary of the simulated trial data</p>
</td></tr>
<tr><td><code>ModelResult</code></td>
<td>
<p>Cox model results comparing treatment vs control</p>
</td></tr>
<tr><td><code>StraModelResult</code></td>
<td>
<p>Stratified Cox model results comparing treatment vs control</p>
</td></tr>
<tr><td><code>Data</code></td>
<td>
<p>simulated dataset only if &quot;N_simulateion&quot; is set to 1</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

f1&lt;-list(name='Region', N_level=3, prevalence=c(0.1,0.2,0.7), HR=c(1,0.7,0.9), strata=TRUE)
f2&lt;-list(name='Gender', N_level=2, prevalence=c(0.5,0.5), HR=c(1,0.9), strata=TRUE)
f3&lt;-list(name='Stage', N_level=4, prevalence=c(0.2,0.25,0.3,0.25), HR=c(1,1.05,1.3,1.5),
strata=TRUE)

factors&lt;-list(f1,f2,f3)

samplesize&lt;-400
blocksize&lt;-2
accrual_interval&lt;-c(0,5,10)
accrual_rate&lt;-c(5,10,20)
trtHR&lt;-0.7
lambda&lt;-0.03
gamma&lt;-1.2
dropoutrate&lt;-0.2
eventtarget&lt;-240
N_simulation&lt;-10


out&lt;-run_simulation(samplesize=samplesize,blocksize=blocksize,factors=factors,
accrual_interval=accrual_interval,accrual_rate=accrual_rate, trtHR=trtHR, lambda=lambda,
gamma=gamma,dropoutrate=dropoutrate,eventtarget=eventtarget,N_simulation=N_simulation)


</code></pre>

<hr>
<h2 id='run_simulation_simsurv'>Run Clinical Trial Simulations Based on survival data generated by simsurv package</h2><span id='topic+run_simulation_simsurv'></span>

<h3>Description</h3>

<p>Runs single or mutiple clinical trial (Time to event endpoint) simulations based survival time generated by simsurv package. Trial data summary will be provied for each simulation. Cox model will be fitted afther trial simulation. If stratification factors were provided, stratified cox model results will also be provided. If &quot;N_simulation&quot; is set to 1, one simulation dataset will be generated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_simulation_simsurv(samplesize, rand_ratio=c(1,1), blocksize, factors=NULL, 
accrual_interval=NULL,accrual_rate=NULL,  eventtarget=NULL,maxlpfollowup=NULL, 
N_simulation=1,alpha=0.05,simsurv1=NULL, simsurv2=NULL)

  

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_simulation_simsurv_+3A_samplesize">samplesize</code></td>
<td>
<p>Total number of patients in the simulated clinical trial</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>Randomization ratio between control and treatment</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_blocksize">blocksize</code></td>
<td>
<p>The value of this parameter is used to define the size of the randomizaiton blocks. The actual blocksize is number of treatment levels mutipled by this parameter. Please refer to &quot;blockrand&quot; package for detailed usage.</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_factors">factors</code></td>
<td>
<p>stratification factors. Default is NULL</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_accrual_interval">accrual_interval</code></td>
<td>
<p>Time windows for accrual</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_accrual_rate">accrual_rate</code></td>
<td>
<p>accrual rate for each accrual time window</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_eventtarget">eventtarget</code></td>
<td>
<p>Number of target events</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_maxlpfollowup">maxlpfollowup</code></td>
<td>
<p>maximum follow up time for the last enrolled patient</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_n_simulation">N_simulation</code></td>
<td>
<p>number of simulations to run</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_alpha">alpha</code></td>
<td>
<p>Two sided alpha for testing power calculation</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_simsurv1">simsurv1</code></td>
<td>
<p>simsurv command to generate survival time. Design matrix should set to &quot;x&quot;. Please refer to examples.</p>
</td></tr>
<tr><td><code id="run_simulation_simsurv_+3A_simsurv2">simsurv2</code></td>
<td>
<p>simsurv command to gendrate dropout time.</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>TrilInfo</code></td>
<td>
<p>Summary of the simulated trial data</p>
</td></tr>
<tr><td><code>ModelResult</code></td>
<td>
<p>Cox model results comparing treatment vs control</p>
</td></tr>
<tr><td><code>StraModelResult</code></td>
<td>
<p>Stratified Cox model results comparing treatment vs control</p>
</td></tr>
<tr><td><code>Data</code></td>
<td>
<p>simulated dataset only if &quot;N_simulateion&quot; is set to 1</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

# Example 1, compare simsurv and TwoArmSurvSim, trtHR=0.7 eventtarget=247, power should be 0.8 

f1&lt;-list(name='Gender', N_level=2, prevalence=c(0.5,0.5), HR=c(1,0.9), strata=TRUE)
factors=list(f1)


samplesize = 400
blocksize = 2
accrual_interval = c(0,5,10)
accrual_rate = c(5,10,20)
eventtarget = 247
N_simulation = 1


# Simsurv

simsurv1 &lt;- "simsurv(lambdas = 0.03, gammas = 1, 
betas = c(trt = log(0.7),Gender.1=log(0.9)),x = x)"
simsurv2 &lt;-NULL

out&lt;-run_simulation_simsurv(samplesize=samplesize,blocksize=blocksize,factors=factors,
accrual_interval=accrual_interval,accrual_rate=accrual_rate, eventtarget=eventtarget,
N_simulation=N_simulation,simsurv1=simsurv1,simsurv2=simsurv2)

# example 2,  Time dependent treatment effect. 
# h(t)=h0(t)*exp(beta0*x+beta1*x*log(t)).  beta0=log(0.7), beta1=0.15

simsurv1 &lt;- "simsurv( lambdas = 0.1, gammas = 1.5,betas = c(trt = log(0.7)),
x = x, tde = c(trt = 0.15),tdefunction = \"log\")"
simsurv2 &lt;-NULL





</code></pre>

<hr>
<h2 id='self_blockrand'>Block Randomization</h2><span id='topic+self_blockrand'></span>

<h3>Description</h3>

<p>Block randomization
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
self_blockrand(N=N,trt_levels=trt_levels,blocksize=blocksize,rand_ratio=rand_ratio)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="self_blockrand_+3A_n">N</code></td>
<td>
<p>Total number of patients </p>
</td></tr>
<tr><td><code id="self_blockrand_+3A_trt_levels">trt_levels</code></td>
<td>
<p>treatment levels in vector. for example, c(0,1) for control vs treatment trial.</p>
</td></tr>
<tr><td><code id="self_blockrand_+3A_blocksize">blocksize</code></td>
<td>
<p>Randomization block size</p>
</td></tr>
<tr><td><code id="self_blockrand_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>Randomization ratio between control and treatment</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
self_blockrand(N=100,trt_levels=c(0,1),blocksize=2,rand_ratio=c(1,1))

</code></pre>

<hr>
<h2 id='step_accrual'>Simulate Accrual Time</h2><span id='topic+step_accrual'></span>

<h3>Description</h3>

<p>Simulate accrual time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>step_accrual(np,tt,arate)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="step_accrual_+3A_np">np</code></td>
<td>
<p>Total number of patients </p>
</td></tr>
<tr><td><code id="step_accrual_+3A_tt">tt</code></td>
<td>
<p>Time windows</p>
</td></tr>
<tr><td><code id="step_accrual_+3A_arate">arate</code></td>
<td>
<p>accrual rate for each time windows</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
timeinterval&lt;-c(0,5,10)
accrualrate&lt;-c(10,15,20)
N&lt;-200
accrual&lt;-step_accrual(N,timeinterval,accrualrate)


</code></pre>

<hr>
<h2 id='surv_data_simulation'>Simulate Survival Data</h2><span id='topic+surv_data_simulation'></span>

<h3>Description</h3>

<p>Simulate survival data given design matrix and covariates (betas).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surv_data_simulation(lambda,gamma,x,betas=NULL, dropoutrate=0,
gammac=1,censordist='exponential',timeinterval=NULL,trt_timeinterval=NULL)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="surv_data_simulation_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_x">x</code></td>
<td>
<p>design matrix</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_betas">betas</code></td>
<td>
<p>coefficients for the covariates. The length of betas should be the same of number of columns of x</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_dropoutrate">dropoutrate</code></td>
<td>
<p>Patient dropout rate with range [0,1).  If dropoutrate contains only one number. The program will control the dropout rate at population level(treatment + control).  If dropoutrate contains two numbers (ie. c(0.2,0.1)), the program will control the dropout rate of control and treatment arm seperately, with the first dropout rate number for control and the second number for treatment. Default value is &quot;0&quot; (no dropout)</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_gammac">gammac</code></td>
<td>
<p>gamma for censor hazard function. Default is 1 (exponential)</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_censordist">censordist</code></td>
<td>
<p>censor hazard distribution. Default is exponential</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_timeinterval">timeinterval</code></td>
<td>
<p>time intervals if the baseline hazard function is piecewise.</p>
</td></tr>
<tr><td><code id="surv_data_simulation_+3A_trt_timeinterval">trt_timeinterval</code></td>
<td>
<p>Time windows for piecewise hazard ratios</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>N&lt;-400
x&lt;-data.frame(arm=rbinom(N,1,0.5), factor1=rbinom(N,1,0.7), factor2=rbinom(N,1,0.8))
betas&lt;-c(arm=-0.35667,factor1=0.3,factor2=-0.1)

data&lt;-surv_data_simulation(lambda=0.2,gamma=2,x=x,betas=betas,dropoutrate=0.2)




</code></pre>

<hr>
<h2 id='trial_data_simulation'>Simulate Clinical Trial with Accrual Time and Trial Stop Rules</h2><span id='topic+trial_data_simulation'></span>

<h3>Description</h3>

<p>Simulate clinical trial by adding accrual time to the simulated survival data. And cut the trial at the target event time or at the maximum follow up time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
trial_data_simulation(simdata,accrual,eventtarget=NULL,maxlpfollowup=NULL)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trial_data_simulation_+3A_simdata">simdata</code></td>
<td>
<p>A data frame contains simulated survival time and censor status.</p>
</td></tr>
<tr><td><code id="trial_data_simulation_+3A_accrual">accrual</code></td>
<td>
<p>Simulated accrual time.</p>
</td></tr>
<tr><td><code id="trial_data_simulation_+3A_eventtarget">eventtarget</code></td>
<td>
<p>Target number of events of the trial</p>
</td></tr>
<tr><td><code id="trial_data_simulation_+3A_maxlpfollowup">maxlpfollowup</code></td>
<td>
<p>The maximum follow up time for the last enrolled patient.</p>
</td></tr>
</table>

<hr>
<h2 id='weibullsim'>Simulate Event Time with weibull Hazard Function</h2><span id='topic+weibullsim'></span>

<h3>Description</h3>

<p>Simulate event time with weibull hazard function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weibullsim(N=NULL,lambda,gamma,x=NULL,betas=NULL)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="weibullsim_+3A_n">N</code></td>
<td>
<p>Total number of patients </p>
</td></tr>
<tr><td><code id="weibullsim_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function</p>
</td></tr>
<tr><td><code id="weibullsim_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="weibullsim_+3A_x">x</code></td>
<td>
<p>design matrix</p>
</td></tr>
<tr><td><code id="weibullsim_+3A_betas">betas</code></td>
<td>
<p>covariates for design matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
data&lt;-weibullsim(N=300,lambda=0.03,gamma=0.9)


</code></pre>

<hr>
<h2 id='weibullsim_betapw'>Simulate Event Time with weibull Hazard Function and Piecewise Hazard Ratios</h2><span id='topic+weibullsim_betapw'></span>

<h3>Description</h3>

<p>Simulate event time with weibull hazard function for piecewise hazard ratios
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weibullsim_betapw(lambda,gamma,t,x,betas)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="weibullsim_betapw_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function</p>
</td></tr>
<tr><td><code id="weibullsim_betapw_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function</p>
</td></tr>
<tr><td><code id="weibullsim_betapw_+3A_x">x</code></td>
<td>
<p>design matrix</p>
</td></tr>
<tr><td><code id="weibullsim_betapw_+3A_betas">betas</code></td>
<td>
<p>covariates for design matrix</p>
</td></tr>
<tr><td><code id="weibullsim_betapw_+3A_t">t</code></td>
<td>
<p>TIme windows for piecewise hazard ratios</p>
</td></tr>
</table>

<hr>
<h2 id='weibullsim_pw'>Simulate event time with weibull hazard function. The parameters can be piecewise.</h2><span id='topic+weibullsim_pw'></span>

<h3>Description</h3>

<p>Simulate event time with weibull hazard function given the piecewise parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weibullsim_pw(lambda,gamma,t,x,betas=NULL)


</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="weibullsim_pw_+3A_lambda">lambda</code></td>
<td>
<p>lambda for event hazard function. It will be a vector for piecewise hazard function.</p>
</td></tr>
<tr><td><code id="weibullsim_pw_+3A_gamma">gamma</code></td>
<td>
<p>gamma for event hazard function. It will be a vector for piecewise hazard function.</p>
</td></tr>
<tr><td><code id="weibullsim_pw_+3A_x">x</code></td>
<td>
<p>design matrix</p>
</td></tr>
<tr><td><code id="weibullsim_pw_+3A_betas">betas</code></td>
<td>
<p>covariates for desing matrix</p>
</td></tr>
<tr><td><code id="weibullsim_pw_+3A_t">t</code></td>
<td>
<p>time intervals for piecewise weibull parameters.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

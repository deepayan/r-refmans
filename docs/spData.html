<!DOCTYPE html><html><head><title>Help for package spData</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {spData}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#afcon'><p>Spatial patterns of conflict in Africa 1966-78</p></a></li>
<li><a href='#alaska'><p>Alaska multipolygon</p></a></li>
<li><a href='#auckland'><p>Marshall's infant mortality in Auckland dataset</p></a></li>
<li><a href='#baltimore'><p>House sales prices, Baltimore, MD 1978</p></a></li>
<li><a href='#boston'><p>Corrected Boston Housing Data</p></a></li>
<li><a href='#coffee_data'><p>World coffee production data</p></a></li>
<li><a href='#columbus'><p>Columbus OH spatial analysis data set</p></a></li>
<li><a href='#congruent'><p>Datasets to illustrate the concept of spatial congruence</p></a></li>
<li><a href='#cycle_hire'><p>Cycle hire points in London</p></a></li>
<li><a href='#cycle_hire_osm'><p>Cycle hire points in London from OSM</p></a></li>
<li><a href='#depmunic'><p>Municipality departments of Athens (Sf)</p></a></li>
<li><a href='#eire'><p>Eire data sets</p></a></li>
<li><a href='#elect80'><p>1980 Presidential election results</p></a></li>
<li><a href='#elev.tif'><p>Artificial elevation raster data set</p></a></li>
<li><a href='#getisord'><p>Getis-Ord remote sensing example data</p></a></li>
<li><a href='#grain.tif'><p>Artificial raster dataset representing grain sizes</p></a></li>
<li><a href='#hawaii'><p>Hawaii multipolygon</p></a></li>
<li><a href='#hopkins'><p>Hopkins burnt savanna herb remains</p></a></li>
<li><a href='#house'><p>Lucas county OH housing</p></a></li>
<li><a href='#huddersfield'><p>Prevalence of respiratory symptoms</p></a></li>
<li><a href='#jenks71'><p>Illinois 1959 county gross farm product value per acre</p></a></li>
<li><a href='#lnd'><p>The boroughs of London</p></a></li>
<li><a href='#nc.sids'><p>North Carolina SIDS data</p></a></li>
<li><a href='#nydata'><p>New York leukemia data</p></a></li>
<li><a href='#nz'><p>Regions in New Zealand</p></a></li>
<li><a href='#nz_height'><p>High points in New Zealand</p></a></li>
<li><a href='#properties'><p>Dataset of properties in the municipality of Athens (sf)</p></a></li>
<li><a href='#seine'><p>Small river network in France</p></a></li>
<li><a href='#SplashDams'><p>Data for Splash Dams in western Oregon</p></a></li>
<li><a href='#state.vbm'><p>US State Visibility Based Map</p></a></li>
<li><a href='#urban_agglomerations'><p>Major urban areas worldwide</p></a></li>
<li><a href='#us_states'><p>US states polygons</p></a></li>
<li><a href='#us_states_df'><p>the American Community Survey (ACS) data</p></a></li>
<li><a href='#used.cars'><p>US 1960 used car prices</p></a></li>
<li><a href='#wheat'><p>Mercer and Hall wheat yield data</p></a></li>
<li><a href='#world'><p>World country polygons</p></a></li>
<li><a href='#worldbank_df'><p>World Bank data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Datasets for Spatial Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>2.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Diverse spatial datasets for demonstrating, benchmarking and teaching spatial data analysis. 
    It includes R data of class sf (defined by the package 'sf'), Spatial ('sp'), and nb ('spdep').
    Unlike other spatial data packages such as 'rnaturalearth' and 'maps', 
    it also contains data stored in a range of file formats including GeoJSON, ESRI Shapefile and GeoPackage. 
    Some of the datasets are designed to illustrate specific analysis techniques.
    cycle_hire() and cycle_hire_osm(), for example, is designed to illustrate point pattern analysis techniques.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>sp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>foreign, sf (&ge; 0.9-1), spDataLarge (&ge; 0.4.0), spdep,
spatialreg,</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://jakubnowosad.com/spData/">https://jakubnowosad.com/spData/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Nowosad/spData/issues">https://github.com/Nowosad/spData/issues</a></td>
</tr>
<tr>
<td>Additional_repositories:</td>
<td><a href="https://jakubnowosad.com/drat">https://jakubnowosad.com/drat</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-04 16:04:41 UTC; jn</td>
</tr>
<tr>
<td>Author:</td>
<td>Roger Bivand <a href="https://orcid.org/0000-0003-2392-6140"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Jakub Nowosad <a href="https://orcid.org/0000-0002-1057-3721"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Robin Lovelace <a href="https://orcid.org/0000-0001-5679-6536"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Angelos Mimis [ctb],
  Mark Monmonier [ctb] (author of the state.vbm dataset),
  Greg Snow [ctb] (author of the state.vbm dataset)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jakub Nowosad &lt;nowosad.jakub@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-06 00:10:24 UTC</td>
</tr>
</table>
<hr>
<h2 id='afcon'>Spatial patterns of conflict in Africa 1966-78</h2><span id='topic+afcon'></span><span id='topic+africa.rook.nb'></span><span id='topic+afxy'></span><span id='topic+paper.nb'></span>

<h3>Description</h3>

<p>The <code>afcon</code> data frame has 42 rows and 5 columns, for 42 African countries, exclusing then South West Africa and Spanish Equatorial Africa and Spanish Sahara. The dataset is used in Anselin (1995), and downloaded from  before adaptation. The neighbour list object <code>africa.rook.nb</code> is the SpaceStat &lsquo;<span class="file">rook.GAL</span>&rsquo;, but is not the list used in Anselin (1995) - <code>paper.nb</code> reconstructs the list used in the paper, with inserted links between Mauritania and Morocco, South Africa and Angola and Zambia, Tanzania and Zaire, and Botswana and Zambia. <code>afxy</code> is the coordinate matrix for the centroids of the countries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>afcon
</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>x an easting in decimal degrees (taken as centroid of shapefile polygon)
</p>
</li>
<li><p>y an northing in decimal degrees (taken as centroid of shapefile polygon)
</p>
</li>
<li><p>totcon index of total conflict 1966-78
</p>
</li>
<li><p>name country name
</p>
</li>
<li><p>id country id number as in paper
</p>
</li></ul>



<h3>Note</h3>

<p>All source data files prepared by Luc Anselin, Spatial Analysis Laboratory, Department of Agricultural and Consumer Economics, University of Illinois, Urbana-Champaign.
</p>


<h3>Source</h3>

<p>Anselin, L. and John O'Loughlin. 1992. Geography of international conflict and cooperation: spatial dependence and regional context in Africa.  In The New Geopolitics, ed. M. Ward, pp. 39-75.  Philadelphia, PA: Gordon and Breach. 
also: 
Anselin, L. 1995. Local indicators of spatial association, Geographical Analysis, 27, Table 1, p. 103.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(afcon)
if (requireNamespace("spdep", quietly = TRUE)) {
  library(spdep)
  plot(africa.rook.nb, afxy)
  plot(diffnb(paper.nb, africa.rook.nb), afxy, col="red", add=TRUE)
  text(afxy, labels=attr(africa.rook.nb, "region.id"), pos=4, offset=0.4)
  moran.test(afcon$totcon, nb2listw(africa.rook.nb))
  moran.test(afcon$totcon, nb2listw(paper.nb))
  geary.test(afcon$totcon, nb2listw(paper.nb))
}
</code></pre>

<hr>
<h2 id='alaska'>Alaska multipolygon</h2><span id='topic+alaska'></span>

<h3>Description</h3>

<p>The object loaded is a <code>sf</code> object containing the state of 
Alaska from the US Census Bureau
with a few variables from American Community Survey (ACS)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alaska
</code></pre>


<h3>Format</h3>

<p>Formal class 'sf' [package &quot;sf&quot;]; the data contains a data.frame with 1 obs. of 7 variables:
</p>

<ul>
<li><p>GEOID character vector of geographic identifiers
</p>
</li>
<li><p>NAME character vector of state names
</p>
</li>
<li><p>REGION character vector of region names
</p>
</li>
<li><p>AREA area in square kilometers of units class
</p>
</li>
<li><p>total_pop_10 numerical vector of total population in 2010
</p>
</li>
<li><p>total_pop_15 numerical vector of total population in 2015
</p>
</li>
<li><p>geometry sfc_MULTIPOLYGON
</p>
</li></ul>

<p>The object is in projected coordinates using Alaska Albers (EPSG:3467).
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html">https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html</a>
</p>


<h3>See Also</h3>

<p>See the tigris package: https://cran.r-project.org/package=tigris
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(alaska)

  plot(alaska["total_pop_15"])
}
</code></pre>

<hr>
<h2 id='auckland'>Marshall's infant mortality in Auckland dataset</h2><span id='topic+auckland'></span><span id='topic+auckland.nb'></span><span id='topic+auckpolys'></span>

<h3>Description</h3>

<p>(Use <code>example(auckland)</code> to load the data from shapefile and generate neighbour list on the fly).  The <code>auckland</code> data frame has 167 rows (census area units &mdash; CAU) and 4 columns. The dataset also includes the &quot;nb&quot; object <code>auckland.nb</code> of neighbour relations based on contiguity, and the &quot;polylist&quot; object <code>auckpolys</code> of polygon boundaries for the CAU. The <code>auckland</code> data frame includes the following columns:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auckland
</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>Easting a numeric vector of x coordinates in an unknown spatial reference system
</p>
</li>
<li><p>Northing a numeric vector of y coordinates in an unknown spatial reference system
</p>
</li>
<li><p>M77_85 a numeric vector of counts of infant (under 5 years of age) deaths in Auckland, 1977-1985
</p>
</li>
<li><p>Und5_81 a numeric vector of population under 5 years of age at the 1981 Census
</p>
</li></ul>



<h3>Details</h3>

<p>The contiguous neighbours object does not completely replicate results in the sources, and was reconstructed from <code>auckpolys</code>; examination of figures in the sources suggests that there are differences in detail, although probably not in substance.
</p>


<h3>Source</h3>

<p>Marshall R M (1991) Mapping disease and mortality rates using Empirical Bayes Estimators, Applied Statistics, 40, 283&ndash;294; Bailey T, Gatrell A (1995) Interactive Spatial Data Analysis, Harlow: Longman &mdash; INFOMAP data set used with permission.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sp)
  auckland &lt;- sf::st_read(system.file("shapes/auckland.shp", package="spData")[1])
  auckland &lt;- as(auckland, "Spatial")
  plot(auckland)
  if (requireNamespace("spdep", quietly = TRUE)) {
    library(spdep)
    auckland.nb &lt;- poly2nb(auckland)
  }
}

</code></pre>

<hr>
<h2 id='baltimore'>House sales prices, Baltimore, MD 1978</h2><span id='topic+baltimore'></span>

<h3>Description</h3>

<p>House sales price and characteristics for a spatial hedonic regression, Baltimore, MD 1978. X,Y on Maryland grid, projection type unknown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>baltimore
</code></pre>


<h3>Format</h3>

<p>A data frame with 211 observations on the following 17 variables.
</p>

<ul>
<li><p>STATION a numeric vector
</p>
</li>
<li><p>PRICE a numeric vector
</p>
</li>
<li><p>NROOM a numeric vector
</p>
</li>
<li><p>DWELL a numeric vector
</p>
</li>
<li><p>NBATH a numeric vector
</p>
</li>
<li><p>PATIO a numeric vector
</p>
</li>
<li><p>FIREPL a numeric vector
</p>
</li>
<li><p>AC a numeric vector
</p>
</li>
<li><p>BMENT a numeric vector
</p>
</li>
<li><p>NSTOR a numeric vector
</p>
</li>
<li><p>GAR a numeric vector
</p>
</li>
<li><p>AGE a numeric vector
</p>
</li>
<li><p>CITCOU a numeric vector
</p>
</li>
<li><p>LOTSZ a numeric vector
</p>
</li>
<li><p>SQFT a numeric vector
</p>
</li>
<li><p>X a numeric vector
</p>
</li>
<li><p>Y a numeric vector
</p>
</li></ul>



<h3>Source</h3>

<p>Prepared by Luc Anselin. Original data made available by Robin Dubin, Weatherhead School of Management, Case Western Research University, Cleveland, OH. http://sal.agecon.uiuc.edu/datasets/baltimore.zip
</p>


<h3>References</h3>

<p>Dubin, Robin A. (1992). Spatial autocorrelation and neighborhood quality. Regional Science and Urban Economics 22(3), 433-452.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(baltimore)
str(baltimore)

if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  baltimore_sf &lt;- baltimore %&gt;% st_as_sf(., coords = c("X","Y"))
  plot(baltimore_sf["PRICE"])
}
</code></pre>

<hr>
<h2 id='boston'>Corrected Boston Housing Data</h2><span id='topic+boston'></span><span id='topic+boston.c'></span><span id='topic+boston.soi'></span><span id='topic+boston.utm'></span>

<h3>Description</h3>

<p>The <code>boston.c</code> data frame has 506 rows and 20 columns. It contains the Harrison and Rubinfeld (1978) data corrected for a few minor errors and augmented with the latitude and longitude of the observations. Gilley and Pace also point out that MEDV is censored, in that median values at or over USD 50,000 are set to USD 50,000. The original data set without the corrections is also included in package <code>mlbench</code> as <code>BostonHousing</code>. In addition, a matrix of tract point coordinates projected to UTM zone 19 is included as <code>boston.utm</code>, and a sphere of influence neighbours list as <code>boston.soi</code>.
</p>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>TOWN a factor with levels given by town names
</p>
</li>
<li><p>TOWNNO a numeric vector corresponding to TOWN
</p>
</li>
<li><p>TRACT a numeric vector of tract ID numbers
</p>
</li>
<li><p>LON a numeric vector of tract point longitudes in decimal degrees
</p>
</li>
<li><p>LAT a numeric vector of tract point latitudes in decimal degrees
</p>
</li>
<li><p>MEDV a numeric vector of median values of owner-occupied housing
in USD 1000
</p>
</li>
<li><p>CMEDV a numeric vector of corrected median values of
owner-occupied housing in USD 1000
</p>
</li>
<li><p>CRIM a numeric vector of per capita crime
</p>
</li>
<li><p>ZN a numeric vector of proportions of residential land zoned
for lots over 25000 sq. ft per town (constant for all Boston tracts)
</p>
</li>
<li><p>INDUS a numeric vector of proportions of non-retail business
acres per town (constant for all Boston tracts)
</p>
</li>
<li><p>CHAS a factor with levels 1 if tract borders Charles River;
0 otherwise
</p>
</li>
<li><p>NOX a numeric vector of nitric oxides concentration (parts per
10 million) per town
</p>
</li>
<li><p>RM a numeric vector of average numbers of rooms per dwelling
</p>
</li>
<li><p>AGE a numeric vector of proportions of owner-occupied units
built prior to 1940
</p>
</li>
<li><p>DIS a numeric vector of weighted distances to five Boston
employment centres
</p>
</li>
<li><p>RAD a numeric vector of an index of accessibility to radial
highways per town (constant for all Boston tracts)
</p>
</li>
<li><p>TAX a numeric vector full-value property-tax rate per USD
10,000 per town (constant for all Boston tracts)
</p>
</li>
<li><p>PTRATIO a numeric vector of pupil-teacher ratios per town
(constant for all Boston tracts)
</p>
</li>
<li><p>B a numeric vector of <code>1000*(Bk - 0.63)^2</code> where Bk is the
proportion of blacks
</p>
</li>
<li><p>LSTAT a numeric vector of percentage values of lower status
population
</p>
</li></ul>



<h3>Note</h3>

<p>Details of the creation of the tract shapefile given in final don't run block; tract boundaries for 1990 (formerly at: http://www.census.gov/geo/cob/bdy/tr/tr90shp/tr25_d90_shp.zip, counties in the BOSTON SMSA http://www.census.gov/population/metro/files/lists/historical/63mfips.txt); tract conversion table 1980/1970 (formerly at : https://www.icpsr.umich.edu/icpsrweb/ICPSR/studies/7913?q=07913&amp;permit[0]=AVAILABLE, http://www.icpsr.umich.edu/cgi-bin/bob/zipcart2?path=ICPSR&amp;study=7913&amp;bundle=all&amp;ds=1&amp;dups=yes). The shapefile contains corrections and extra variables (tract 3592 is corrected to 3593; the extra columns are:
</p>

<ul>
<li><p>unitsnumber of single family houses
</p>
</li>
<li><p>cu5kcount of units under USD 5,000
</p>
</li>
<li><p>c5_7_5counts USD 5,000 to 7,500
</p>
</li>
<li><p>C*_*interval counts
</p>
</li>
<li><p>co50kcount of units over USD 50,000
</p>
</li>
<li><p>medianrecomputed median values
</p>
</li>
<li><p>BBrecomputed black population proportion
</p>
</li>
<li><p>censoredwhether censored or not
</p>
</li>
<li><p>NOXIDNOX model zone ID
</p>
</li>
<li><p>POPtract population
</p>
</li></ul>



<h3>Source</h3>

<p><a href="http://lib.stat.cmu.edu/datasets/boston_corrected.txt">http://lib.stat.cmu.edu/datasets/boston_corrected.txt</a>
</p>


<h3>References</h3>

<p>Harrison, David, and Daniel L. Rubinfeld, Hedonic Housing Prices and the Demand for Clean Air, <em>Journal of Environmental Economics and Management</em>, Volume 5, (1978), 81-102. Original data.
</p>
<p>Gilley, O.W., and R. Kelley Pace, On the Harrison and Rubinfeld Data, <em>Journal of Environmental Economics and Management</em>, 31 (1996),403-405. Provided corrections and examined censoring.
</p>
<p>Pace, R. Kelley, and O.W. Gilley, Using the Spatial Configuration of the Data to Improve Estimation,  <em>Journal of the Real Estate Finance and Economics</em>, 14 (1997), 333-340.
</p>
<p>Bivand, Roger. Revisiting the Boston data set - Changing the units of observation affects estimated willingness to pay for clean air. REGION, v. 4, n. 1, p. 109-127, 2017. <a href="https://openjournals.wu.ac.at/ojs/index.php/region/article/view/107">https://openjournals.wu.ac.at/ojs/index.php/region/article/view/107</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("spdep", quietly = TRUE)) {
  library(spdep)
  data(boston)
  hr0 &lt;- lm(log(MEDV) ~ CRIM + ZN + INDUS + CHAS + I(NOX^2) + I(RM^2) +
                    AGE + log(DIS) + log(RAD) + TAX + PTRATIO + B + log(LSTAT), data = boston.c)
  summary(hr0)
  logLik(hr0)
  gp0 &lt;- lm(log(CMEDV) ~ CRIM + ZN + INDUS + CHAS + I(NOX^2) + I(RM^2) +
                    AGE + log(DIS) + log(RAD) + TAX + PTRATIO + B + log(LSTAT), data = boston.c)
  summary(gp0)
  logLik(gp0)
  lm.morantest(hr0, nb2listw(boston.soi))
}
## Not run: 
boston.tr &lt;- sf::st_read(system.file("shapes/boston_tracts.shp",
                           package="spData")[1])
boston.tr &lt;- as(boston.tr, "Spatial")                           
boston_nb &lt;- poly2nb(boston.tr)

## End(Not run)
## Not run: 
if (requireNamespace("spatialreg", quietly = TRUE)) {
  library(spatialreg)
  gp1 &lt;- errorsarlm(log(CMEDV) ~ CRIM + ZN + INDUS + CHAS + I(NOX^2)
                             + I(RM^2) +  AGE + log(DIS) + log(RAD) +
                              TAX + PTRATIO + B + log(LSTAT),
                             data=boston.c, nb2listw(boston.soi), method="Matrix", 
                             control=list(tol.opt = .Machine$double.eps^(1/4)))
  summary(gp1)
  gp2 &lt;- lagsarlm(log(CMEDV) ~ CRIM + ZN + INDUS + CHAS + I(NOX^2) + I(RM^2)
                  +  AGE + log(DIS) + log(RAD) + TAX + PTRATIO + B + log(LSTAT),
                  data=boston.c, nb2listw(boston.soi), method="Matrix")
  summary(gp2)
}

## End(Not run)

</code></pre>

<hr>
<h2 id='coffee_data'>World coffee production data</h2><span id='topic+coffee_data'></span>

<h3>Description</h3>

<p>A tiny dataset containing estimates of global coffee in thousands of 60 kg bags produced by country.
Purpose: teaching **not** research.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coffee_data
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) with 58 for the following 12 variables:
</p>

<ul>
<li><p>name_long name of country or coffee variety
</p>
</li>
<li><p>coffee_production_2016 production in 2016
</p>
</li>
<li><p>coffee_production_2017 production in 2017
</p>
</li></ul>



<h3>Details</h3>

<p>The examples section shows how this can be joined with spatial data to create a simple map.
</p>


<h3>Source</h3>

<p>The International Coffee Organization (ICO). See http://www.ico.org/ and
http://www.ico.org/prices/m1-exports.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(coffee_data)
## Not run: 
library(dplyr)
library(sf)
# found by searching for "global coffee data"
u = "http://www.ico.org/prices/m1-exports.pdf"
download.file(u, "data.pdf", mode = "wb")
install.packages("pdftables") # requires api key
pdftables::convert_pdf(input_file = "data.pdf", output_file = "coffee-data-messy.csv")
d = read_csv("coffee-data-messy.csv")
file.remove("coffee-data-messy.csv")
file.remove("data.pdf")
coffee_data = slice(d, -c(1:9)) %&gt;% 
        select(name_long = 1, coffee_production_2016 = 2, coffee_production_2017 = 3) %&gt;% 
        filter(!is.na(coffee_production_2016)) %&gt;% 
        mutate_at(2:3, str_replace, " ", "") %&gt;% 
        mutate_at(2:3, as.integer)
world_coffee = left_join(world, coffee_data)
plot(world_coffee[c("coffee_production_2016", "coffee_production_2017")])
b = c(0, 500, 1000, 2000, 3000)
library(tmap)
tm_shape(world_coffee) +
  tm_fill("coffee_production_2017", title = "Thousand 60kg bags", breaks = b,
          textNA = "No data", colorNA = NULL)
tmap_mode("view") # for an interactive version

## End(Not run)
</code></pre>

<hr>
<h2 id='columbus'>Columbus OH spatial analysis data set</h2><span id='topic+columbus'></span><span id='topic+col.gal.nb'></span><span id='topic+coords'></span><span id='topic+polys'></span><span id='topic+bbs'></span>

<h3>Description</h3>

<p>The <code>columbus</code> data frame has 49 rows and 22 columns. Unit of analysis: 49 neighbourhoods in Columbus, OH, 1980 data. In addition the data set includes a <code>polylist</code> object <code>polys</code> with the boundaries of the neighbourhoods, a matrix of polygon centroids <code>coords</code>, and <code>col.gal.nb</code>, the neighbours list from an original GAL-format file. The matrix <code>bbs</code> is DEPRECATED, but retained for other packages using this data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>columbus
</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>AREA computed by ArcView
</p>
</li>
<li><p>PERIMETER computed by ArcView
</p>
</li>
<li><p>COLUMBUS_ internal polygon ID (ignore)
</p>
</li>
<li><p>COLUMBUS_I another internal polygon ID (ignore)
</p>
</li>
<li><p>POLYID yet another polygon ID
</p>
</li>
<li><p>NEIG neighborhood id value (1-49);
conforms to id value used in Spatial Econometrics book.
</p>
</li>
<li><p>HOVAL housing value (in 1,000 USD)
</p>
</li>
<li><p>INC household income (in 1,000 USD)
</p>
</li>
<li><p>CRIME residential burglaries and vehicle thefts per thousand
households in the neighborhood
</p>
</li>
<li><p>OPEN open space in neighborhood
</p>
</li>
<li><p>PLUMB percentage housing units without plumbing
</p>
</li>
<li><p>DISCBD distance to CBD
</p>
</li>
<li><p>X x coordinate (in arbitrary digitizing units, not polygon coordinates)
</p>
</li>
<li><p>Y y coordinate (in arbitrary digitizing units, not polygon coordinates)
</p>
</li>
<li><p>NSA north-south dummy (North=1)
</p>
</li>
<li><p>NSB north-south dummy (North=1)
</p>
</li>
<li><p>EW east-west dummy (East=1)
</p>
</li>
<li><p>CP core-periphery dummy (Core=1)
</p>
</li>
<li><p>THOUS constant=1,000
</p>
</li>
<li><p>NEIGNO NEIG+1,000, alternative neighborhood id value
</p>
</li></ul>



<h3>Details</h3>

<p>The row names of <code>columbus</code> and the <code>region.id</code> attribute of <code>polys</code> are set to <code>columbus$NEIGNO</code>.
</p>


<h3>Note</h3>

<p>All source data files prepared by Luc Anselin, Spatial Analysis Laboratory, Department of Agricultural and Consumer Economics, University of Illinois, Urbana-Champaign, http://sal.agecon.uiuc.edu/datasets/columbus.zip.
</p>


<h3>Source</h3>

<p>Anselin, Luc.  1988.  Spatial econometrics: methods and models.  Dordrecht: Kluwer Academic, Table 12.1 p. 189.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sp)
  columbus &lt;- sf::st_read(system.file("shapes/columbus.shp", package="spData")[1])
  columbus &lt;- as(columbus, "Spatial")
  plot(columbus)
}

if (requireNamespace("spdep", quietly = TRUE)) {
  library(spdep)
  col.gal.nb &lt;- read.gal(system.file("weights/columbus.gal", package="spData")[1])
}
</code></pre>

<hr>
<h2 id='congruent'>Datasets to illustrate the concept of spatial congruence</h2><span id='topic+congruent'></span><span id='topic+incongruent'></span><span id='topic+aggregating_zones'></span>

<h3>Description</h3>

<p>Sample of old (incongruent) and new (congruent) administrative zones
from UK statistical agencies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>congruent
</code></pre>


<h3>Format</h3>

<p>Simple feature geographic data in a projected CRS (OSGB) with random values assigned
for teaching purposes.
</p>


<h3>Source</h3>

<p><a href="https://en.wikipedia.org/wiki/ONS_coding_system">https://en.wikipedia.org/wiki/ONS_coding_system</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  plot(aggregating_zones$geometry, lwd = 5)
  plot(congruent$geometry, add = TRUE, border = "green", lwd = 2)
  plot(incongruent$geometry, add = TRUE, border = "blue", col = NA)
  rbind(congruent, incongruent)
}
# Code used to download the data:
## Not run: 
devtools::install_github("robinlovelace/ukboundaries")
library(sf)
library(tmap)
library(dplyr)
library(ukboundaries)
sel = grepl("003|004", msoa2011_lds$geo_label)
aggregating_zones = st_transform(msoa2011_lds[sel, ], 27700)
# find lsoas in the aggregating_zones
lsoa_touching = st_transform(lsoa2011_lds, 27700)[aggregating_zones, ]
lsoa_cents = st_centroid(lsoa_touching)
lsoa_cents = lsoa_cents[aggregating_zones, ]
sel = lsoa_touching$geo_code %in% lsoa_cents$geo_code
# same for ed zones
ed_touching = st_transform(ed1981, 27700)[aggregating_zones, ]
ed_cents = st_centroid(ed_touching)
ed_cents = ed_cents[aggregating_zones, ]
incongruent_agg_ed = ed_touching[ed_cents, ]
set.seed(2017)
incongruent_agg_ed$value = rnorm(nrow(incongruent_agg_ed), mean = 5)
congruent = aggregate(incongruent_agg_ed["value"], lsoa_touching[sel, ], mean)
congruent$level = "Congruent"
congruent = congruent[c("level", "value")]
incongruent_cents = st_centroid(incongruent_agg_ed)
aggregating_value = st_join(incongruent_cents, congruent)$value.y
incongruent_agg = aggregate(incongruent_agg_ed["value"], list(aggregating_value), FUN = mean)
incongruent_agg$level = "Incongruent"
incongruent = incongruent_agg[c("level", "value")]
summary(st_geometry_type(congruent))
summary(st_geometry_type(incongruent))
incongruent = st_cast(incongruent, "MULTIPOLYGON")
summary(st_geometry_type(incongruent))
summary(st_geometry_type(aggregating_zones))
devtools::use_data(congruent, overwrite = TRUE)
devtools::use_data(incongruent, overwrite = TRUE)
devtools::use_data(aggregating_zones, overwrite = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='cycle_hire'>Cycle hire points in London</h2><span id='topic+cycle_hire'></span>

<h3>Description</h3>

<p>Points
representing cycle hire points accross London.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cycle_hire
</code></pre>


<h3>Format</h3>

<p>FORMAT:
</p>

<ul>
<li><p>id Id of the hire point
</p>
</li>
<li><p>name Name of the point
</p>
</li>
<li><p>area Area they are in
</p>
</li>
<li><p>nbikes The number of bikes currently parked there
</p>
</li>
<li><p>nempty The number of empty places
</p>
</li>
<li><p>geometry sfc_POINT
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.data.gov.uk/">https://www.data.gov.uk/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(cycle_hire)
  # or
  cycle_hire &lt;- st_read(system.file("shapes/cycle_hire.geojson", package="spData"))
  
  plot(cycle_hire)
}

## Not run: 
# Download the data
cycle_hire = readr::read_csv("http://cyclehireapp.com/cyclehirelive/cyclehire.csv", 
  col_names = FALSE, skip = TRUE)
cycle_hire = cycle_hire[c_names]
c_names = c("id", "name", "area", "lat", "lon", "nbikes", "nempty")
cycle_hire = st_sf(cycle_hire, st_multipoint(c_names[c("lon", "lat")]))

## End(Not run)
</code></pre>

<hr>
<h2 id='cycle_hire_osm'>Cycle hire points in London from OSM</h2><span id='topic+cycle_hire_osm'></span>

<h3>Description</h3>

<p>Dataset downloaded using the osmdata package
representing cycle hire points accross London.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cycle_hire_osm
</code></pre>


<h3>Format</h3>


<ul>
<li><p>osm_id The OSM ID
</p>
</li>
<li><p>name The name of the cycle point
</p>
</li>
<li><p>capacity How many bikes it can take
</p>
</li>
<li><p>cyclestreets_id The ID linked to cyclestreets' photomap
</p>
</li>
<li><p>description Additional description of points
</p>
</li>
<li><p>geometry sfc_POINT
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.openstreetmap.org">https://www.openstreetmap.org</a>
</p>


<h3>See Also</h3>

<p>See the osmdata package: https://cran.r-project.org/package=osmdata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(cycle_hire_osm)
  # or
  cycle_hire_osm &lt;- st_read(system.file("shapes/cycle_hire_osm.geojson", package="spData"))
  
  plot(cycle_hire_osm)
}

# Code used to download the data:
## Not run: 
library(osmdata)
library(dplyr)
library(sf)
q = add_osm_feature(opq = opq("London"), key = "network", value = "tfl_cycle_hire")
lnd_cycle_hire = osmdata_sf(q)
cycle_hire_osm = lnd_cycle_hire$osm_points
nrow(cycle_hire_osm)
plot(cycle_hire_osm)
cycle_hire_osm = dplyr::select(cycle_hire_osm, osm_id, name, capacity, 
                               cyclestreets_id, description) %&gt;%
  mutate(capacity = as.numeric(capacity))
names(cycle_hire_osm)
nrow(cycle_hire_osm)

## End(Not run)
</code></pre>

<hr>
<h2 id='depmunic'>Municipality departments of Athens (Sf)</h2><span id='topic+depmunic'></span>

<h3>Description</h3>

<p>The geographic boundaries of departments (sf) of the municipality of Athens. This is accompanied by various characteristics in these areas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>depmunic
</code></pre>


<h3>Format</h3>

<p>An sf object of 7 polygons with the following 7 variables.
</p>

<ul>
<li><p>num_depAn unique identifier for each municipality department.
</p>
</li>
<li><p>airbnb The number of airbnb properties in 2017
</p>
</li>
<li><p>museums The number of museums
</p>
</li>
<li><p>population The population recorded in census at 2011.
</p>
</li>
<li><p>pop_rest The number of citizens that the origin is a non european country.
</p>
</li>
<li><p>greenspThe area of green spaces (unit: square meters).
</p>
</li>
<li><p>areaThe area of the polygon (unit: square kilometers). 
</p>
</li></ul>



<h3>See Also</h3>

<p>properties
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(depmunic)
  
  depmunic$foreigners &lt;- 100*depmunic$pop_rest/depmunic$population
  plot(depmunic["foreigners"], key.pos=1)
}
</code></pre>

<hr>
<h2 id='eire'>Eire data sets</h2><span id='topic+eire'></span><span id='topic+eire.df'></span><span id='topic+eire.polys.utm'></span><span id='topic+eire.coords.utm'></span><span id='topic+eire.nb'></span>

<h3>Description</h3>

<p>The Eire data set has been converted to shapefile format and placed in the etc/shapes directory. The initial data objects are now stored as a SpatialPolygonsDataFrame object, from which the contiguity neighbour list is recreated. For purposes of record, the original data set is retained. 
The <code>eire.df</code> data frame has 26 rows and 9 columns. In addition, polygons of the 26 counties are provided as a multipart polylist in eire.polys.utm (coordinates in km, projection UTM zone 30). Their centroids are in eire.coords.utm. The original Cliff and Ord binary contiguities are in eire.nb.
</p>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>A Percentage of sample with blood group A
</p>
</li>
<li><p>towns Towns/unit area
</p>
</li>
<li><p>pale Beyond the Pale 0, within the Pale 1
</p>
</li>
<li><p>size number of blood type samples
</p>
</li>
<li><p>ROADACC arterial road network accessibility in 1961
</p>
</li>
<li><p>OWNCONS percentage in value terms of gross agricultural output of each county consumed by itself
</p>
</li>
<li><p>POPCHG 1961 population as percentage of 1926
</p>
</li>
<li><p>RETSALE value of retail sales British Pound000
</p>
</li>
<li><p>INCOME total personal income British Pound000
</p>
</li>
<li><p>names County names
</p>
</li></ul>



<h3>Source</h3>

<p>Upton and Fingleton 1985, - Bailey and Gatrell 1995, ch. 1 for blood group data, Cliff and Ord (1973), p. 107 for remaining variables (also after O'Sullivan, 1968). Polygon borders and Irish data sourced from Michael Tiefelsdorf's SPSS Saddlepoint bundle, originally hosted at: http://geog-www.sbs.ohio-state.edu/faculty/tiefelsdorf/GeoStat.htm.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(maptools)
library(spdep)
eire &lt;- sf::st_read(system.file("shapes/eire.shp", package="spData")[1])
eire &lt;- as(eire, "Spatial")
eire.nb &lt;- poly2nb(eire)

data(eire)
# Eire physical anthropology blood group data
summary(eire$A)
brks &lt;- round(fivenum(eire$A), digits=2)
cols &lt;- rev(heat.colors(4))
plot(eire, col=cols[findInterval(eire$A, brks, all.inside=TRUE)])
title(main="Percentage with blood group A in Eire")
legend(x=c(-50, 70), y=c(6120, 6050), 
  c("under 27.91", "27.91 - 29.26", "29.26 - 31.02", "over 31.02"),
  fill=cols, bty="n")

plot(eire)
plot(eire.nb, coordinates(eire), add=TRUE)

lA &lt;- lag.listw(nb2listw(eire.nb), eire$A)
summary(lA)
moran.test(eire$A, nb2listw(eire.nb))
geary.test(eire$A, nb2listw(eire.nb))
cor(lA, eire$A)
moran.plot(eire$A, nb2listw(eire.nb), labels=eire$names)
A.lm &lt;- lm(A ~ towns + pale, data=eire)
summary(A.lm)
res &lt;- residuals(A.lm)
brks &lt;- c(min(res),-2,-1,0,1,2,max(res))
cols &lt;- rev(cm.colors(6))

plot(eire, col=cols[findInterval(res, brks, all.inside=TRUE)])
title(main="Regression residuals")
legend(x=c(-50, 70), y=c(6120, 6050),
  legend=c("under -2", "-2 - -1", "-1 - 0", "0 - 1", "1 - 2", "over 2"),
  fill=cols, bty="n")

lm.morantest(A.lm, nb2listw(eire.nb))
lm.morantest.sad(A.lm, nb2listw(eire.nb))
lm.LMtests(A.lm, nb2listw(eire.nb), test="LMerr")

# Eire agricultural data
brks &lt;- round(fivenum(eire$OWNCONS), digits=2)
cols &lt;- grey(4:1/5)
plot(eire, col=cols[findInterval(eire$OWNCONS, brks, all.inside=TRUE)])
title(main="Percentage own consumption of agricultural produce")
legend(x=c(-50, 70), y=c(6120, 6050),
  legend=c("under 9", "9 - 12.2", "12.2 - 19", "over 19"), fill=cols, bty="n")

moran.plot(eire$OWNCONS, nb2listw(eire.nb))
moran.test(eire$OWNCONS, nb2listw(eire.nb))
e.lm &lt;- lm(OWNCONS ~ ROADACC, data=eire)
res &lt;- residuals(e.lm)
brks &lt;- c(min(res),-2,-1,0,1,2,max(res))
cols &lt;- rev(cm.colors(6))
plot(eire, col=cols[findInterval(res, brks, all.inside=TRUE)])
title(main="Regression residuals")
legend(x=c(-50, 70), y=c(6120, 6050),
  legend=c("under -2", "-2 - -1", "-1 - 0", "0 - 1", "1 - 2", "over 2"),
  fill=cm.colors(6), bty="n")

lm.morantest(e.lm, nb2listw(eire.nb))
lm.morantest.sad(e.lm, nb2listw(eire.nb))
lm.LMtests(e.lm, nb2listw(eire.nb), test="LMerr")
print(localmoran.sad(e.lm, eire.nb, select=1:length(slot(eire, "polygons"))))

## End(Not run)
</code></pre>

<hr>
<h2 id='elect80'>1980 Presidential election results</h2><span id='topic+elect80'></span><span id='topic+elect80_lw'></span><span id='topic+k4'></span><span id='topic+dll'></span><span id='topic+e80_queen'></span>

<h3>Description</h3>

<p>A data set for 1980 Presidential election results covering 3,107 US counties using geographical coordinates. In addition, three spatial neighbour objects, <code>k4</code> not using Great Circle distances, <code>dll</code> using Great Circle distances, and <code>e80_queen</code> of Queen contiguities for equivalent County polygons taken from file <code>co1980p020.tar.gz</code> on the USGS National Atlas site, and a spatial weights object imported from <code>elect.ford</code> - a 4-nearest neighbour non-GC row-standardised object, but with coercion to symmetry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elect80
</code></pre>


<h3>Format</h3>

<p>A SpatialPointsDataFrame with 3107 observations on the following 7 variables.
</p>

<ul>
<li><p>FIPS a factor of county FIPS codes
</p>
</li>
<li><p>long a numeric vector of longitude values
</p>
</li>
<li><p>lat a numeric vector of latitude values
</p>
</li>
<li><p>pc_turnout Votes cast as proportion of population over age 19 eligible to vote
</p>
</li>
<li><p>pc_college Population with college degrees as proportion of population over age 19 eligible to vote
</p>
</li>
<li><p>pc_homeownership Homeownership as proportion of population over age 19 eligible to vote
</p>
</li>
<li><p>pc_income Income per capita of population over age 19 eligible to vote
</p>
</li></ul>



<h3>Source</h3>

<p>Pace, R. Kelley and Ronald Barry. 1997. &quot;Quick Computation of Spatial Autoregressive Estimators&quot;, in Geographical Analysis; sourced from the data folder in the Spatial Econometrics Toolbox for Matlab, <a href="http://www.spatial-econometrics.com/html/jplv7.zip">http://www.spatial-econometrics.com/html/jplv7.zip</a>, files <code>elect.dat</code> and <code>elect.ford</code> (with the final line dropped).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sp", quietly = TRUE)) {
  library(sp)
  data(elect80)
  summary(elect80)
  plot(elect80)
}
</code></pre>

<hr>
<h2 id='elev.tif'>Artificial elevation raster data set</h2><span id='topic+elev.tif'></span>

<h3>Description</h3>

<p>The raster data represents elevation in meters and uses WGS84 as
a coordinate reference system.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>system.file("raster/elev.tif", package = "spData")
</code></pre>

<hr>
<h2 id='getisord'>Getis-Ord remote sensing example data</h2><span id='topic+getisord'></span><span id='topic+go_x'></span><span id='topic+go_y'></span><span id='topic+go_xyz'></span>

<h3>Description</h3>

<p>The <code>go_xyz</code> data frame has 256 rows and 3 columns. Vectors <code>go_x</code> and <code>go_y</code> are of length 16 and give the centres of the grid rows and columns, 30m apart. The data start from the bottom left, Getis and Ord start from the top left - so their 136th grid cell is our 120th.
</p>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>x grid eastings
</p>
</li>
<li><p>y grid northings
</p>
</li>
<li><p>val remote sensing values
</p>
</li></ul>



<h3>Source</h3>

<p>Getis, A. and Ord, J. K. 1996 Local spatial statistics: an overview. In P. Longley and M. Batty (eds) <em>Spatial analysis: modelling in a GIS environment</em> (Cambridge: Geoinformation International), 266.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(getisord)
image(go_x, go_y, t(matrix(go_xyz$val, nrow = 16, ncol=16, byrow = TRUE)), asp = 1)
text(go_xyz$x, go_xyz$y, go_xyz$val, cex = 0.7)
polygon(c(195, 225, 225, 195), c(195, 195, 225, 225), lwd = 2)
title(main = "Getis-Ord 1996 remote sensing data")

</code></pre>

<hr>
<h2 id='grain.tif'>Artificial raster dataset representing grain sizes</h2><span id='topic+grain.tif'></span>

<h3>Description</h3>

<p>The ratified raster dataset represents grain sizes with the
three classes clay, silt and sand, and WGS84 as a coordinate reference
system.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>system.file("raster/grain.tif", package = "spData")
</code></pre>

<hr>
<h2 id='hawaii'>Hawaii multipolygon</h2><span id='topic+hawaii'></span>

<h3>Description</h3>

<p>The object loaded is a <code>sf</code> object containing the state of 
Hawaii from the US Census Bureau
with a few variables from American Community Survey (ACS)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hawaii
</code></pre>


<h3>Format</h3>

<p>Formal class 'sf' [package &quot;sf&quot;]; the data contains a data.frame with 1 obs. of 7 variables:
</p>

<ul>
<li><p>GEOID character vector of geographic identifiers
</p>
</li>
<li><p>NAME character vector of state names
</p>
</li>
<li><p>REGION character vector of region names
</p>
</li>
<li><p>AREA area in square kilometers of units class
</p>
</li>
<li><p>total_pop_10 numerical vector of total population in 2010
</p>
</li>
<li><p>total_pop_15 numerical vector of total population in 2015
</p>
</li>
<li><p>geometry sfc_MULTIPOLYGON
</p>
</li></ul>

<p>The object is in projected coordinates using Hawaii Albers Equal Area Conic (ESRI:102007).
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html">https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html</a>
</p>


<h3>See Also</h3>

<p>See the tigris package: https://cran.r-project.org/package=tigris
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(hawaii)

  plot(hawaii["total_pop_15"])
}
</code></pre>

<hr>
<h2 id='hopkins'>Hopkins burnt savanna herb remains</h2><span id='topic+hopkins'></span>

<h3>Description</h3>

<p>A 20m square is divided into 40 by 40 0.5m quadrats. Observations are in tens of grams of herb remains, 0 being from 0g to less than 10g, and so on. Analysis was mostly conducted using the interior 32 by 32 grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hopkins
</code></pre>


<h3>Format</h3>

<p>num [1:40, 1:40] 0 0 0 0 0 0 0 0 0 1 ...
</p>


<h3>Source</h3>

<p>Upton, G., Fingleton, B. 1985 Spatial data analysis by example: point pattern and quatitative data, Wiley, pp. 38&ndash;39.
</p>


<h3>References</h3>

<p>Hopkins, B., 1965 Observations on savanna burning in the Olokemeji Forest Reserve, Nigeria. Journal of Applied Ecology, 2, 367&ndash;381.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(hopkins)
image(1:32, 1:32, hopkins[5:36,36:5], breaks=c(-0.5, 3.5, 20),
      col=c("white", "black"))
</code></pre>

<hr>
<h2 id='house'>Lucas county OH housing</h2><span id='topic+house'></span><span id='topic+LO_nb'></span><span id='topic+trMat'></span>

<h3>Description</h3>

<p>Data on 25,357 single family homes sold in Lucas County, Ohio, 1993-1998 from the county auditor, together with an <code>nb</code> neighbour object constructed as a sphere of influence graph from projected coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>house
</code></pre>


<h3>Format</h3>

<p>Formal class 'SpatialPointsDataFrame' [package &quot;sp&quot;] with 5 slots. The data slot is a data frame with 25357 observations on the following 24 variables.
</p>

<ul>
<li><p>price a numeric vector
</p>
</li>
<li><p>yrbuilt a numeric vector
</p>
</li>
<li><p>stories a factor with levels <code>one</code> <code>bilevel</code> <code>multilvl</code> <code>one+half</code> <code>two</code>     <code>two+half</code> <code>three</code>
</p>
</li>
<li><p>TLA a numeric vector
</p>
</li>
<li><p>wall a factor with levels <code>stucdrvt</code> <code>ccbtile</code> <code>metlvnyl</code> <code>brick</code> <code>stone</code> <code>wood</code> <code>partbrk</code>
</p>
</li>
<li><p>beds a numeric vector
</p>
</li>
<li><p>baths a numeric vector
</p>
</li>
<li><p>halfbaths a numeric vector
</p>
</li>
<li><p>frontage a numeric vector
</p>
</li>
<li><p>depth a numeric vector
</p>
</li>
<li><p>garage a factor with levels <code>no garage</code> <code>basement</code> <code>attached</code> <code>detached</code> <code>carport</code>
</p>
</li>
<li><p>garagesqft a numeric vector
</p>
</li>
<li><p>rooms a numeric vector
</p>
</li>
<li><p>lotsize a numeric vector
</p>
</li>
<li><p>sdate a numeric vector
</p>
</li>
<li><p>avalue a numeric vector
</p>
</li>
<li><p>s1993 a numeric vector
</p>
</li>
<li><p>s1994 a numeric vector
</p>
</li>
<li><p>s1995 a numeric vector
</p>
</li>
<li><p>s1996 a numeric vector
</p>
</li>
<li><p>s1997 a numeric vector
</p>
</li>
<li><p>s1998 a numeric vector
</p>
</li>
<li><p>syear a factor with levels <code>1993</code> <code>1994</code> <code>1995</code> <code>1996</code> <code>1997</code> <code>1998</code>
</p>
</li>
<li><p>age a numeric vector
</p>
</li></ul>

<p>Its projection is <code>CRS(+init=epsg:2834)</code>, the Ohio North State Plane.
</p>


<h3>Source</h3>

<p>Dataset included in the Spatial Econometrics toolbox for Matlab, <a href="http://www.spatial-econometrics.com/html/jplv7.zip">http://www.spatial-econometrics.com/html/jplv7.zip</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sp", quietly = TRUE)) {
  library(sp)
  data(house)
  str(house)
  plot(house)
}
</code></pre>

<hr>
<h2 id='huddersfield'>Prevalence of respiratory symptoms</h2><span id='topic+huddersfield'></span>

<h3>Description</h3>

<p>Prevalence of respiratory symptoms in 71 school catchment areas in Huddersfield, Northern England
</p>


<h3>Usage</h3>

<pre><code class='language-R'>huddersfield
</code></pre>


<h3>Format</h3>

<p>A data frame with 71 observations on the following 2 variables.
</p>

<ul>
<li><p><code>cases</code> Prevalence of at least mild conditions
</p>
</li>
<li><p><code>total</code> Number of questionnaires returned
</p>
</li></ul>



<h3>Source</h3>

<p>Martuzzi M, Elliott P (1996) Empirical Bayes estimation of small area prevalence of non-rare conditions, Statistics in Medicine 15, 1867&ndash;1873, pp. 1870&ndash;1871.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(huddersfield)
str(huddersfield)
</code></pre>

<hr>
<h2 id='jenks71'>Illinois 1959 county gross farm product value per acre</h2><span id='topic+jenks71'></span>

<h3>Description</h3>

<p>Classic data set for the choice of class intervals for choropleth maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jenks71
</code></pre>


<h3>Format</h3>

<p>A data frame with 102 observations on the following 2 variables.
</p>

<ul>
<li><p><code>jenks71</code> a numeric vector: Per acre value of gross farm products in dollars by county for Illinois in #' 1959
</p>
</li>
<li><p><code>area</code> a numeric vector: county area in square miles
</p>
</li></ul>



<h3>Source</h3>

<p>Jenks, G. F., Caspall, F. C., 1971. &quot;Error on choroplethic maps: definition, measurement, reduction&quot;. Annals, Association of American Geographers, 61 (2), 217&ndash;244
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(jenks71)
jenks71
</code></pre>

<hr>
<h2 id='lnd'>The boroughs of London</h2><span id='topic+lnd'></span>

<h3>Description</h3>

<p>Polygons representing large administrative zones in London
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lnd
</code></pre>


<h3>Format</h3>


<ul>
<li><p>NAME Borough name
</p>
</li>
<li><p>GSS_CODE Official code
</p>
</li>
<li><p>HECTARES How many hectares
</p>
</li>
<li><p>NONLD_AREA Area outside London
</p>
</li>
<li><p>ONS_INNER Office for national statistics code
</p>
</li>
<li><p>SUB_2009 Empty column
</p>
</li>
<li><p>SUB_2006 Empty column
</p>
</li>
<li><p>geometry sfc_MULTIPOLYGON
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://github.com/Robinlovelace/Creating-maps-in-R">https://github.com/Robinlovelace/Creating-maps-in-R</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(lnd)
  summary(lnd)
  plot(st_geometry(lnd))
}
</code></pre>

<hr>
<h2 id='nc.sids'>North Carolina SIDS data</h2><span id='topic+nc.sids'></span><span id='topic+ncCR85.nb'></span><span id='topic+ncCC89.nb'></span><span id='topic+sidspolys'></span><span id='topic+sidscents'></span>

<h3>Description</h3>

<p>(Use <code>example(nc.sids)</code> to read the data set from shapefile, together with import of two different list of neighbours). 
The <code>nc.sids</code> data frame has 100 rows and 21 columns. It contains data given in Cressie (1991, pp. 386-9), Cressie and Read (1985) and Cressie and Chan (1989) on sudden infant deaths in North Carolina for 1974-78 and 1979-84. The data set also contains the neighbour list given by Cressie and Chan (1989) omitting self-neighbours (ncCC89.nb), and the neighbour list given by Cressie and Read (1985) for contiguities (ncCR85.nb). The data are ordered by county ID number, not alphabetically as in the source tables <code>sidspolys</code> is a &quot;polylist&quot; object of polygon boundaries, and <code>sidscents</code> is a matrix of their centroids.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nc.sids
</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>SP_ID SpatialPolygons ID
</p>
</li>
<li><p>CNTY_ID county ID
</p>
</li>
<li><p>east eastings, county seat, miles, local projection
</p>
</li>
<li><p>north northings, county seat, miles, local projection
</p>
</li>
<li><p>L_id Cressie and Read (1985) L index
</p>
</li>
<li><p>M_id Cressie and Read (1985) M index
</p>
</li>
<li><p>names County names
</p>
</li>
<li><p>AREA County polygon areas in degree units
</p>
</li>
<li><p>PERIMETER County polygon perimeters in degree units
</p>
</li>
<li><p>CNTY_ Internal county ID
</p>
</li>
<li><p>NAME County names
</p>
</li>
<li><p>FIPS County ID
</p>
</li>
<li><p>FIPSNO County ID
</p>
</li>
<li><p>CRESS_ID Cressie papers ID
</p>
</li>
<li><p>BIR74 births, 1974-78
</p>
</li>
<li><p>SID74 SID deaths, 1974-78
</p>
</li>
<li><p>NWBIR74 non-white births, 1974-78
</p>
</li>
<li><p>BIR79 births, 1979-84
</p>
</li>
<li><p>SID79 SID deaths, 1979-84
</p>
</li>
<li><p>NWBIR79 non-white births, 1979-84
</p>
</li></ul>



<h3>Source</h3>

<p>Cressie, N (1991), <em>Statistics for spatial data</em>. New York: Wiley, pp. 386&ndash;389; Cressie, N, Chan NH (1989) Spatial modelling of regional variables. <em>Journal of the American Statistical Association</em>, 84, 393&ndash;401; Cressie, N, Read, TRC (1985) Do sudden infant deaths come in clusters? <em>Statistics and Decisions</em> Supplement Issue 2, 333&ndash;349; http://sal.agecon.uiuc.edu/datasets/sids.zip.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  if (requireNamespace("spdep", quietly = TRUE)) {
    library(spdep)
    nc.sids &lt;- sf::st_read(system.file("shapes/sids.shp", package="spData")[1])
    nc.sids &lt;- as(nc.sids, "Spatial")
    sp::proj4string(nc.sids) &lt;- sp::CRS("+proj=longlat +ellps=clrk66")
    row.names(nc.sids) &lt;- as.character(nc.sids$FIPS)
    rn &lt;- row.names(nc.sids)
    ncCC89_nb &lt;- read.gal(system.file("weights/ncCC89.gal", package="spData")[1],
                          region.id=rn)
    ncCR85_nb &lt;- read.gal(system.file("weights/ncCR85.gal", package="spData")[1],
                          region.id=rn)
                          
    sp::plot(nc.sids, border="grey")
    plot(ncCR85_nb, sp::coordinates(nc.sids), add=TRUE, col="blue")
    sp::plot(nc.sids, border="grey")
    plot(ncCC89_nb, sp::coordinates(nc.sids), add=TRUE, col="blue")
  }
}
</code></pre>

<hr>
<h2 id='nydata'>New York leukemia data</h2><span id='topic+nydata'></span><span id='topic+NY_data'></span><span id='topic+listw_NY'></span>

<h3>Description</h3>

<p>New York leukemia data taken from the data sets supporting Waller and Gotway 2004 (the data should be loaded by running <code>example(NY_data)</code> to demonstrate spatial data import techniques)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nydata
</code></pre>


<h3>Format</h3>

<p>A data frame with 281 observations on the following 12 variables, and the binary coded spatial weights used in the source.
</p>

<ul>
<li><p>AREANAME name of census tract
</p>
</li>
<li><p>AREAKEY unique FIPS code for each tract
</p>
</li>
<li><p>X x-coordinate of tract centroid (in km)
</p>
</li>
<li><p>Y y-coordinate of tract centroid (in km)
</p>
</li>
<li><p>POP8 population size (1980 U.S. Census)
</p>
</li>
<li><p>TRACTCAS number of cases 1978-1982
</p>
</li>
<li><p>PROPCAS proportion of cases per tract
</p>
</li>
<li><p>PCTOWNHOME percentage of people in each tract owning their own home
</p>
</li>
<li><p>PCTAGE65P percentage of people in each tract aged 65 or more
</p>
</li>
<li><p>Z ransformed propoprtions
</p>
</li>
<li><p>AVGIDIST average distance between centroid and TCE sites
</p>
</li>
<li><p>PEXPOSURE &quot;exposure potential&quot;: inverse distance between each census tract centroid and the nearest TCE site, IDIST, transformed via log(100*IDIST)
</p>
</li></ul>



<h3>Details</h3>

<p>The examples section shows how the DBF files from the book website for Chapter 9 were converted into the <code>nydata</code> data frame and the <code>listw_NY</code> spatial weights list. The <code>shapes</code> directory includes the original version of the UTM18 census tract boundaries imported from BNA format (http://sedac.ciesin.columbia.edu/ftpsite/pub/census/usa/tiger/ny/bna_st/t8_36.zip) before the OGR/GDAL BNA driver was available. The <code>NY8_utm18</code> shapefile was constructed using a bna2mif converter and converted to shapefile format after adding data using <code>writeOGR</code>. The new file <code>NY8_bna_utm18.gpkg</code> has been constructed from the original BNA file, but read using the OGR BNA driver with GEOS support. The NY8 shapefile includes invalid polygons, but because the OGR BNA driver may have GEOS support (used here), the tract polygon objects are valid.
</p>


<h3>Source</h3>

<p>http://www.sph.emory.edu/~lwaller/ch9index.htm
</p>


<h3>References</h3>

<p>Waller, L. and C. Gotway (2004) <em>Applied Spatial Statistics for Public Health Data</em>. New York: John Wiley and Sons.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## NY leukemia
## Not run: 
library(foreign)
nydata &lt;- read.dbf(system.file("misc/nydata.dbf", package="spData")[1])
library(sp)
coordinates(nydata) &lt;- c("X", "Y")
plot(nydata)

nyadjmat &lt;- as.matrix(read.dbf(system.file("misc/nyadjwts.dbf",
                                           package="spData")[1])[-1])
ID &lt;- as.character(names(read.dbf(system.file("misc/nyadjwts.dbf",
                                              package="spData")[1]))[-1])
identical(substring(ID, 2, 10), substring(as.character(nydata$AREAKEY), 2, 10))

library(spdep)
nyadjlw &lt;- mat2listw(nyadjmat, as.character(nydata$AREAKEY))
listw_NY &lt;- nb2listw(nyadjlw$neighbours, style="B")

## End(Not run)
</code></pre>

<hr>
<h2 id='nz'>Regions in New Zealand</h2><span id='topic+nz'></span><span id='topic+new_zealand'></span>

<h3>Description</h3>

<p>Polygons representing the 16 regions of New Zealand (2018).
See <a href="https://en.wikipedia.org/wiki/Regions_of_New_Zealand">https://en.wikipedia.org/wiki/Regions_of_New_Zealand</a> for a description of these regions
and <a href="https://www.stats.govt.nz">https://www.stats.govt.nz</a> for information on the data source
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nz
</code></pre>


<h3>Format</h3>

<p>FORMAT:
</p>

<ul>
<li><p>Name Name
</p>
</li>
<li><p>Island Island
</p>
</li>
<li><p>Land_area Land area
</p>
</li>
<li><p>Population Population
</p>
</li>
<li><p>Median_income Median income (NZD)
</p>
</li>
<li><p>Sex_ratio Sex ratio (male/female)
</p>
</li>
<li><p>geom sfc_MULTIPOLYGON
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.stats.govt.nz">https://www.stats.govt.nz</a>
</p>
<p><a href="https://en.wikipedia.org/wiki/Regions_of_New_Zealand">https://en.wikipedia.org/wiki/Regions_of_New_Zealand</a>
</p>


<h3>See Also</h3>

<p>See the nzcensus package: https://github.com/ellisp/nzelect
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  summary(nz)
  plot(nz)
}
## Not run: 
# Find "Regional Council 2018 Clipped (generalised)"
# select the GeoPackage option in the "Vectors/tables" dropdown
# at https://datafinder.stats.govt.nz/data/ (requires registration)
# Save the result as:
unzip("statsnzregional-council-2018-clipped-generalised-GPKG.zip")
library(sf)
library(tidyverse)
nz_full = st_read("regional-council-2018-clipped-generalised.gpkg")
print(object.size(nz_full), units = "Kb") # 14407.2 Kb
nz = rmapshaper::ms_simplify(nz_full, keep = 0.001, sys = TRUE)
print(object.size(nz), units = "Kb") # 39.9 Kb
names(nz)
nz$REGC2018_V1_00_NAME
nz = filter(nz, REGC2018_V1_00_NAME != "Area Outside Region") %&gt;%
        select(Name = REGC2018_V1_00_NAME, `Land_area` = LAND_AREA_SQ_KM)
# regions basic info
# devtools::install_github("hadley/rvest")
library(rvest)
doc = read_html("https://en.wikipedia.org/wiki/Regions_of_New_Zealand") %&gt;%
        html_nodes("div table")
tab = doc[[3]] %&gt;% html_table()
tab = tab %&gt;% select(Name = Region, Population = `Population[20]`, Island)
tab = tab %&gt;% mutate(Population = str_replace_all(Population, ",", "")) %&gt;%
        mutate(Population = as.numeric(Population)) %&gt;%
        mutate(Name = str_remove_all(Name, " \\([1-9]\\)?.+"))
nz$Name = as.character(nz$Name)
nz$Name = str_remove(nz$Name, " Region")
nz$Name %in% tab$Name
# regions additional info
library(nzcensus)
nz_add_data = REGC2013 %&gt;% 
        select(Name = REGC2013_N, Median_income = MedianIncome2013, 
               PropFemale2013, PropMale2013) %&gt;% 
        mutate(Sex_ratio = PropMale2013 / PropFemale2013) %&gt;% 
        mutate(Name = gsub(" Region", "", Name)) %&gt;% 
        select(Name, Median_income, Sex_ratio)
# data join
nz = left_join(nz, tab, by = "Name") %&gt;% 
        left_join(nz_add_data, by = "Name") %&gt;% 
        select(Name, Island, Land_area, Population, Median_income, Sex_ratio)

## End(Not run)
</code></pre>

<hr>
<h2 id='nz_height'>High points in New Zealand</h2><span id='topic+nz_height'></span>

<h3>Description</h3>

<p>Top 101 heighest points in New Zealand (2017).
See <a href="https://data.linz.govt.nz/layer/50284-nz-height-points-topo-150k/">https://data.linz.govt.nz/layer/50284-nz-height-points-topo-150k/</a> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nz_height
</code></pre>


<h3>Format</h3>

<p>FORMAT:
</p>

<ul>
<li><p>t50_fid ID
</p>
</li>
<li><p>elevation Height above sea level in m
</p>
</li>
<li><p>geometry sfc_POINT
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://data.linz.govt.nz">https://data.linz.govt.nz</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  summary(nz_height)
  plot(nz$geom)
  plot(nz_height$geom, add = TRUE)
}
## Not run: 
library(dplyr)
# After downloading data
unzip("lds-nz-height-points-topo-150k-SHP.zip")
nz_height = st_read("nz-height-points-topo-150k.shp") %&gt;% 
  top_n(n = 100, wt = elevation)
library(tmap)
tmap_mode("view")
qtm(nz) +
  qtm(nz_height)
f = list.files(pattern = "*nz-height*")
file.remove(f)

## End(Not run)
</code></pre>

<hr>
<h2 id='properties'>Dataset of properties in the municipality of Athens (sf)</h2><span id='topic+properties'></span>

<h3>Description</h3>

<p>A dataset of apartments in the municipality of Athens for 2017. Point location of the properties is given together with their main characteristics and the distance to the closest metro/train station.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>properties
</code></pre>


<h3>Format</h3>

<p>An sf object of 1000 points with the following 6 variables.
</p>

<ul>
<li><p>idAn unique identifier for each property.
</p>
</li>
<li><p>size The size of the property (unit: square meters)
</p>
</li>
<li><p>price The asking price (unit: euros) 
</p>
</li>
<li><p>prpsqm The asking price per squre meter (unit: euroes/square meter).
</p>
</li>
<li><p>age Age of property in 2017 (unit: years).
</p>
</li>
<li><p>dist_metroThe distance to closest train/metro station (unit: meters).
</p>
</li></ul>



<h3>See Also</h3>

<p>depmunic
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  if (requireNamespace("spdep", quietly = TRUE)) {
    library(sf)
    library(spdep)
    
    data(properties)
    
    summary(properties$prpsqm)
    
    pr.nb.800 &lt;- dnearneigh(properties, 0, 800)
    pr.listw &lt;- nb2listw(pr.nb.800)
    
    moran.test(properties$prpsqm, pr.listw)
    moran.plot(properties$prpsqm, pr.listw, xlab = "Price/m^2", ylab = "Lagged")
  }
}
</code></pre>

<hr>
<h2 id='seine'>Small river network in France</h2><span id='topic+seine'></span><span id='topic+rivers'></span>

<h3>Description</h3>

<p>Lines representing the Seine, Marne and Yonne rivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seine
</code></pre>


<h3>Format</h3>

<p>FORMAT:
</p>

<ul>
<li><p>name name
</p>
</li>
<li><p>geometry sfc_MULTILINESTRING
</p>
</li></ul>

<p>The object is in the RGF93 / Lambert-93 CRS.
</p>


<h3>Source</h3>

<p><a href="https://www.naturalearthdata.com/">https://www.naturalearthdata.com/</a>
</p>


<h3>See Also</h3>

<p>See the rnaturalearth package: https://cran.r-project.org/package=rnaturalearth
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  seine
  plot(seine)
}
## Not run: 
library(sf)
library(rnaturalearth)
library(tidyverse)

seine = ne_download(scale = 10, type = "rivers_lake_centerlines", 
                    category = "physical", returnclass = "sf") %&gt;% 
        filter(name %in% c("Yonne", "Seine", "Marne")) %&gt;% 
        select(name = name_en) %&gt;% 
        st_transform(2154)

## End(Not run)
</code></pre>

<hr>
<h2 id='SplashDams'>Data for Splash Dams in western Oregon</h2><span id='topic+SplashDams'></span>

<h3>Description</h3>

<p>Data for Splash Dams in western Oregon
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SplashDams
</code></pre>


<h3>Format</h3>

<p>Formal class 'SpatialPointsDataFrame with 232 obs. of  6 variables:
</p>

<ul>
<li><p>streamName 
</p>
</li>
<li><p>locationCode 
</p>
</li>
<li><p>height 
</p>
</li>
<li><p>lastDate 
</p>
</li>
<li><p>owner 
</p>
</li>
<li><p>datesUsed 
</p>
</li></ul>



<h3>Source</h3>

<p>R. R. Miller (2010) Is the Past Present? Historical Splash-dam Mapping and Stream Disturbance Detection in the Oregon Coastal Province. MSc. thesis, Oregon State University; packaged by Jonathan Callahan
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sp", quietly = TRUE)) {
  library(sp)
  data(SplashDams)
  plot(SplashDams, axes=TRUE)
}
</code></pre>

<hr>
<h2 id='state.vbm'>US State Visibility Based Map</h2><span id='topic+state.vbm'></span>

<h3>Description</h3>

<p>A SpatialPolygonsDataFrame object to plot a Visibility Based Map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>state.vbm
</code></pre>


<h3>Format</h3>

<p>An object of class <code>SpatialPolygonsDataFrame</code> with 50 rows and 2 columns.
</p>


<h3>Details</h3>

<p>A SpatialPolygonsDataFrame object to plot a map of the US states where the sizes of the states have been adjusted to be more equal. 
This map can be useful for plotting state data using colors patterns without the larger states dominating and the smallest states being lost.
The original map is copyrighted by Mark Monmonier.  Official publications based on this map should acknowledge him. Comercial publications of maps based on this probably need permission from him to use.
</p>


<h3>Author(s)</h3>

<p>Greg Snow <a href="mailto:greg.snow@imail.org">greg.snow@imail.org</a> (of this compilation)
</p>


<h3>Source</h3>

<p>The data was converted from the maps library for S-PLUS.  S-PLUS uses the map with permission from the author. This version of the data has not received permission from the author (no attempt made, not that it was refused), most of my uses I feel fall under fair use and do not violate copyright, but you will need to decide for yourself and your applications.
</p>


<h3>References</h3>

<p><a href="http://www.markmonmonier.com/index.htm">http://www.markmonmonier.com/index.htm</a>,
<a href="http://euclid.psych.yorku.ca/SCS/Gallery/bright-ideas.html">http://euclid.psych.yorku.ca/SCS/Gallery/bright-ideas.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sp", quietly = TRUE)) {
  library(sp)
  data(state.vbm)
  plot(state.vbm)

  tmp &lt;- state.x77[, 'HS Grad']
  tmp2 &lt;- cut(tmp, seq(min(tmp), max(tmp), length.out=11),
            include.lowest=TRUE)
  plot(state.vbm, col=cm.colors(10)[tmp2])
}
</code></pre>

<hr>
<h2 id='urban_agglomerations'>Major urban areas worldwide</h2><span id='topic+urban_agglomerations'></span>

<h3>Description</h3>

<p>Dataset in a 'long' form from the United Nations
population division with projections up to 2050.
Includes only the top 30 largest areas by population at 5 year intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>urban_agglomerations
</code></pre>


<h3>Format</h3>

<p>Selected variables:
</p>

<ul>
<li><p>year Year of population estimate
</p>
</li>
<li><p>country_code Code of country
</p>
</li>
<li><p>urban_agglomeration Name of the urban agglomeration
</p>
</li>
<li><p>population_millions Estimated human population
</p>
</li>
<li><p>geometry sfc_POINT
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  plot(urban_agglomerations)
}
# Code used to download the data:
## Not run: 
f = "WUP2018-F11b-30_Largest_Cities_in_2018_by_time.xls"
download.file(
  destfile = f,
  url = paste0("https://population.un.org/wup/Download/Files/", f)
 )
library(dplyr)
library(sf)
urban_agglomerations = readxl::read_excel(f, skip = 16) %&gt;%
    st_as_sf(coords = c("Longitude", "Latitude"), crs = 4326)
names(urban_agglomerations)
names(urban_agglomerations) &lt;- gsub(" |\\n", "_", tolower(names(urban_agglomerations)) ) %&gt;% 
        gsub("\\(|\\)", "", .)
names(urban_agglomerations)
urban_agglomerations
usethis::use_data(urban_agglomerations, overwrite = TRUE)
file.remove("WUP2018-F11b-30_Largest_Cities_in_2018_by_time.xls")

## End(Not run)
</code></pre>

<hr>
<h2 id='us_states'>US states polygons</h2><span id='topic+us_states'></span>

<h3>Description</h3>

<p>The object loaded is a <code>sf</code> object containing the contiguous United States data from the US Census Bureau
with a few variables from American Community Survey (ACS)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_states
</code></pre>


<h3>Format</h3>

<p>Formal class 'sf' [package &quot;sf&quot;]; the data contains a data.frame with 49 obs. of 7 variables:
</p>

<ul>
<li><p>GEOID character vector of geographic identifiers
</p>
</li>
<li><p>NAME character vector of state names
</p>
</li>
<li><p>REGION character vector of region names
</p>
</li>
<li><p>AREA area in square kilometers of units class
</p>
</li>
<li><p>total_pop_10 numerical vector of total population in 2010
</p>
</li>
<li><p>total_pop_15 numerical vector of total population in 2015
</p>
</li>
<li><p>geometry sfc_MULTIPOLYGON
</p>
</li></ul>

<p>The object is in geographical coordinates using the NAD83 datum.
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html">https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html</a>
</p>


<h3>See Also</h3>

<p>See the tigris package: https://cran.r-project.org/package=tigris
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(us_states)

  plot(us_states["REGION"])
}
</code></pre>

<hr>
<h2 id='us_states_df'>the American Community Survey (ACS) data</h2><span id='topic+us_states_df'></span>

<h3>Description</h3>

<p>The object loaded is a <code>data.frame</code> object containing the US states data from the American Community Survey (ACS)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_states_df
</code></pre>


<h3>Format</h3>

<p>Formal class 'data.frame'; the data contains a data.frame with 51 obs. of 5 variables:
</p>

<ul>
<li><p>state character vector of state names
</p>
</li>
<li><p>median_income_10 numerical vector of median income in 2010
</p>
</li>
<li><p>median_income_15 numerical vector of median income in 2010
</p>
</li>
<li><p>poverty_level_10 numerical vector of number of people with income below poverty level in 2010
</p>
</li>
<li><p>poverty_level_15 numerical vector of number of people with income below poverty level in 2015
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.census.gov/programs-surveys/acs/">https://www.census.gov/programs-surveys/acs/</a>
</p>


<h3>See Also</h3>

<p>See the tidycensus package: https://cran.r-project.org/package=tidycensus
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(us_states_df)

summary(us_states_df)

</code></pre>

<hr>
<h2 id='used.cars'>US 1960 used car prices</h2><span id='topic+used.cars'></span><span id='topic+usa48.nb'></span>

<h3>Description</h3>

<p>The <code>used.cars</code> data frame has 48 rows and 2 columns. The data set includes a neighbours list for the 48 states excluding DC from poly2nb().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>used.cars
</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<ul>
<li><p>tax.charges taxes and delivery charges for 1955-9 new cars
</p>
</li>
<li><p>price.1960 1960 used car prices by state
</p>
</li></ul>



<h3>Source</h3>

<p>Hanna, F. A. 1966 Effects of regional differences in taxes and transport charges on automobile consumption, in Ostry, S., Rhymes, J. K. (eds) Papers on regional statistical studies, Toronto: Toronto University Press, pp. 199-223.
</p>


<h3>References</h3>

<p>Hepple, L. W. 1976 A maximum likelihood model for econometric estimation with spatial series, in Masser, I (ed) Theory and practice in regional science, London: Pion, pp. 90-104.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("spdep", quietly = TRUE)) {
  library(spdep)
  data(used.cars)
  moran.test(used.cars$price.1960, nb2listw(usa48.nb))
  moran.plot(used.cars$price.1960, nb2listw(usa48.nb),
           labels=rownames(used.cars))
  uc.lm &lt;- lm(price.1960 ~ tax.charges, data=used.cars)
  summary(uc.lm)

  lm.morantest(uc.lm, nb2listw(usa48.nb))
  lm.morantest.sad(uc.lm, nb2listw(usa48.nb))
  lm.LMtests(uc.lm, nb2listw(usa48.nb))
  #if (requireNamespace("spatialreg", quietly = TRUE)) {
  #  library(spatialreg)
  #  uc.err &lt;- errorsarlm(price.1960 ~ tax.charges, data=used.cars,
  #                     nb2listw(usa48.nb), tol.solve=1.0e-13, 
  #                     control=list(tol.opt=.Machine$double.eps^0.3))
  #  summary(uc.err)
  #  uc.lag &lt;- lagsarlm(price.1960 ~ tax.charges, data=used.cars,
  #                   nb2listw(usa48.nb), tol.solve=1.0e-13, 
  #                   control=list(tol.opt=.Machine$double.eps^0.3))
  #  summary(uc.lag)
  #  uc.lag1 &lt;- lagsarlm(price.1960 ~ 1, data=used.cars,
  #                    nb2listw(usa48.nb), tol.solve=1.0e-13, 
  #                    control=list(tol.opt=.Machine$double.eps^0.3))
  #  summary(uc.lag1)
  #  uc.err1 &lt;- errorsarlm(price.1960 ~ 1, data=used.cars,
  #                      nb2listw(usa48.nb), tol.solve=1.0e-13, 
  #                      control=list(tol.opt=.Machine$double.eps^0.3))
  #  summary(uc.err1)
  #}
}
</code></pre>

<hr>
<h2 id='wheat'>Mercer and Hall wheat yield data</h2><span id='topic+wheat'></span>

<h3>Description</h3>

<p>Mercer and Hall wheat yield data, based on version in Cressie (1993), p. 455.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wheat
</code></pre>


<h3>Format</h3>

<p>The format of the object generated by running <code>data(wheat)</code> is a three column data frame made available by Hongfei Li. The example section shows how to convert this to the object used in demonstrating the <code>aple</code> function, and is a formal class 'SpatialPolygonsDataFrame' [package &quot;sp&quot;] with 5 slots; the data slot is a data frame with 500 observations on the following 6 variables.
</p>

<ul>
<li><p>lat local coordinates northings ordered north to south
</p>
</li>
<li><p>yield Mercer and Hall wheat yield data
</p>
</li>
<li><p>r rows south to north; levels in distance units of plot centres
</p>
</li>
<li><p>c columns west to east; levels in distance units of plot centres
</p>
</li>
<li><p>lon local coordinates eastings
</p>
</li>
<li><p>lat1 local coordinates northings ordered south to north
</p>
</li></ul>



<h3>Note</h3>

<p>The value of 4.03 was changed to 4.33 (wheat[71,]) 13 January 2014; thanks to Sandy Burden; cross-checked with http://www.itc.nl/personal/rossiter/teach/R/mhw.csv, which agrees.
</p>


<h3>Source</h3>

<p>Cressie, N. A. C. (1993) Statistics for Spatial Data. Wiley, New York, p. 455.
</p>


<h3>References</h3>

<p>Mercer, W. B. and Hall, A. D. (1911) The experimental error of field trials. Journal of Agricultural Science 4, 107-132.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(wheat)
wheat$lat1 &lt;- 69 - wheat$lat
wheat$r &lt;- factor(wheat$lat1)
wheat$c &lt;- factor(wheat$lon)
wheat_sp &lt;- wheat
coordinates(wheat_sp) &lt;- c("lon", "lat1")
wheat_spg &lt;- wheat_sp

gridded(wheat_spg) &lt;- TRUE
wheat_spl &lt;- as(wheat_spg, "SpatialPolygons")
df &lt;- as(wheat_spg, "data.frame")
row.names(df) &lt;- sapply(slot(wheat_spl, "polygons"),
                        function(x) slot(x, "ID"))
wheat &lt;- SpatialPolygonsDataFrame(wheat_spl, data=df)

## End(Not run)

if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  wheat &lt;- st_read(system.file("shapes/wheat.shp", package="spData"))
  plot(wheat)
}
</code></pre>

<hr>
<h2 id='world'>World country polygons</h2><span id='topic+world'></span><span id='topic+wrld'></span>

<h3>Description</h3>

<p>The object loaded is a <code>sf</code> object containing a world map data from Natural Earth with a few variables from World Bank
</p>


<h3>Usage</h3>

<pre><code class='language-R'>world
</code></pre>


<h3>Format</h3>

<p>Formal class 'sf' [package &quot;sf&quot;]; the data contains a data.frame with 177 obs. of 11 variables:
</p>

<ul>
<li><p>iso_a2 character vector of ISO 2 character country codes
</p>
</li>
<li><p>name_long character vector of country names
</p>
</li>
<li><p>continent character vector of continent names
</p>
</li>
<li><p>region_un character vector of region names
</p>
</li>
<li><p>subregion character vector of subregion names
</p>
</li>
<li><p>type character vector of type names
</p>
</li>
<li><p>area_km2 integer vector of area values
</p>
</li>
<li><p>pop integer vector of population in 2014
</p>
</li>
<li><p>lifeExp integer vector of life expectancy at birth in 2014
</p>
</li>
<li><p>gdpPercap integer vector of per-capita GDP in 2014
</p>
</li>
<li><p>geom sfc_MULTIPOLYGON
</p>
</li></ul>

<p>The object is in geographical coordinates using the WGS84 datum.
</p>


<h3>Source</h3>

<p><a href="https://www.naturalearthdata.com/">https://www.naturalearthdata.com/</a>
</p>
<p><a href="https://data.worldbank.org/">https://data.worldbank.org/</a>
</p>


<h3>See Also</h3>

<p>See the rnaturalearth package: https://cran.r-project.org/package=rnaturalearth
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  data(world)
  # or
  world &lt;- st_read(system.file("shapes/world.gpkg", package="spData"))

  plot(world)
}
</code></pre>

<hr>
<h2 id='worldbank_df'>World Bank data</h2><span id='topic+worldbank_df'></span>

<h3>Description</h3>

<p>The object loaded is a <code>data.frame</code> object containing data from World Bank
</p>


<h3>Usage</h3>

<pre><code class='language-R'>worldbank_df
</code></pre>


<h3>Format</h3>

<p>Formal class 'data.frame'; the data contains a data.frame with 177 obs. of 7 variables:
</p>

<ul>
<li><p>name character vector of country names
</p>
</li>
<li><p>iso_a2 character vector of ISO 2 character country codes
</p>
</li>
<li><p>HDI human development index (HDI)
</p>
</li>
<li><p>urban_pop urban population
</p>
</li>
<li><p>unemployment unemployment, total (% of total labor force)
</p>
</li>
<li><p>pop_growth population growth (annual %)
</p>
</li>
<li><p>literacy adult literacy rate, population 15+ years, both sexes (%)
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://data.worldbank.org/">https://data.worldbank.org/</a>
</p>


<h3>See Also</h3>

<p>See the wbstats package: https://cran.r-project.org/web/packages/wbstats
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(worldbank_df)
# or
worldbank_df &lt;- read.csv(system.file("misc/worldbank_df.csv", package="spData"))

summary(worldbank_df)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

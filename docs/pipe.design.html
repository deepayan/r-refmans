<!DOCTYPE html><html><head><title>Help for package pipe.design</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pipe.design}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pipe.design'>
<p>Dual-Agent Dose Escalation for Phase I Trials using the PIPE Design</p></a></li>
<li><a href='#plot.pipe'>
<p>Plot escalation or operating characteristics for trials conducted using the Product of Independent Beta Probabilities Escalation design</p></a></li>
<li><a href='#print.pipe'>
<p>Print information regarding a trial conducted using the Product of Independent Beta Probabilities Escalation design</p></a></li>
<li><a href='#runShinyPIPE'>
<p>A Shiny GUI implementation of the PIPE design</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Dual-Agent Dose Escalation for Phase I Trials using the PIPE
Design</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-06-16</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Sweeting </td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Sweeting &lt;mjs212@medschl.cam.ac.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements the Product of Independent beta Probabilities dose Escalation (PIPE) design for dual-agent Phase I trials as described in Mander AP, Sweeting MJ (2015) &lt;<a href="https://doi.org/10.1002%2Fsim.6434">doi:10.1002/sim.6434</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 1.0.1), gtools, xtable</td>
</tr>
<tr>
<td>Suggests:</td>
<td>shiny</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-06-16 11:17:24 UTC; mjs212</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-06-16 17:57:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='pipe.design'>
Dual-Agent Dose Escalation for Phase I Trials using the PIPE Design
</h2><span id='topic+pipe.design'></span>

<h3>Description</h3>

<p>Implements the Product of Independent beta Probabilities dose Escalation (PIPE) design for dual-agent Phase I trials as described in Mander A.P. and Sweeting M.J (2015) Statistics in Medicine. &lt;doi: 10.1002/sim.6434&gt;</p>


<h3>Usage</h3>

<pre><code class='language-R'>pipe.design(N=dim(data)[1]+1, S=1, c, theta, pi=NULL,  prior.med=NULL,	
	prior.ss=NULL, strategy, admis, constraint="none", 	epsilon=NULL, 
	mode="sim", data=matrix(nrow=0,ncol=0), a=NULL, b=NULL, 
	alternate=FALSE, 	uppertox.constraint=NULL, stop=NULL, 
	non.admissible=NULL, seed=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pipe.design_+3A_n">N</code></td>
<td>

<p>Sample size for the trial. If not specified this is assumed to be one greater than the sample size of the patients recruited thus far (i.e. the number of rows of <code>data</code> plus one)
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_s">S</code></td>
<td>

<p>Number of simulations to conduct. If set to 1 then a single trial is run and invokes different output from <code><a href="#topic+print.pipe">print.pipe</a></code> and <code><a href="#topic+plot.pipe">plot.pipe</a></code> 
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_c">c</code></td>
<td>

<p>Cohort size. Must be divisible by <code>N</code>
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_theta">theta</code></td>
<td>

<p>The target toxicity probability
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_pi">pi</code></td>
<td>

<p>A matrix with rows denoting levels of drug A and columns denoting levels of drug B. Each element gives the true probability of the outcome (dose-limiting toxicity) for that dose combination. If omitted then the trial will recommend only for the next dose combination
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_prior.med">prior.med</code></td>
<td>

<p>A matrix with rows denoting levels of drug A and columns denoting levels of drug B. Each element gives the prior median probability of the outcome (dose-limiting toxicity) for that dose combination. Should be specified in combination with <code>prior.ss</code>
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_prior.ss">prior.ss</code></td>
<td>

<p>A matrix with rows denoting levels of drug A and columns levels of drug B. Each element gives the prior sample size for that dose combination. Should be specified in combination with <code>prior.med</code>
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_strategy">strategy</code></td>
<td>

<p>A string detailing the dose escalation strategy. Options are &quot;ss&quot; (sample size) and &quot;ss-random&quot; (weighted randomisation by sample size). See details below
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_admis">admis</code></td>
<td>

<p>A string detailing how to choose admissible doses around the maximum tolerated contour (MTC). Options are &quot;adjacent&quot; and &quot;closest&quot;. See details below
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_constraint">constraint</code></td>
<td>

<p>A string detailing any dose-skipping constraint to be applied. Options are &quot;neighbouring&quot; or &quot;no.dose.skip&quot; (see details below). In addition, to prevent diagonal escalation the option &quot;-nodiag&quot; can be appended, i.e. &quot;neighbouring-nodiag&quot; or &quot;no.dose.skip-nodiag&quot;. Defaults to no constraint (constraint=&quot;none&quot;).
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_epsilon">epsilon</code></td>
<td>

<p>Any number between 0 and 1 giving a safety threshold. Doses whose (weighted) posterior probability(dose&gt;MTC)&gt;epsilon will not be experimented on. See details below
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_mode">mode</code></td>
<td>

<p>A string indicating the running mode of the program. Options are &quot;sim&quot; (the default, used for simulations), &quot;nodlt&quot; (every patient recruited is assumed to be DLT free), or &quot;alldlt&quot; (every patient recruited is assumed to suffer a DLT). 
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_data">data</code></td>
<td>

<p>An optional named data frame giving information about dose and toxicity from previously recruited patients. If missing then it is assumed that no data have thus far been collected. Contains the following variables: 
</p>

<dl>
<dt><code>patient</code></dt><dd><p> Recruited patient numbers, <code>1,...,n</code></p>
</dd>
<dt><code>doseA</code></dt><dd><p> Dose levels of recruited patients for drug A</p>
</dd>
<dt><code>doseB</code></dt><dd><p> Dose levels of recruited patients for drug B</p>
</dd>
<dt><code>tox</code></dt><dd><p> An indicator variable for each patient (1=toxicity, 0=no toxicity)</p>
</dd>   
</dl>
 
</td></tr>
<tr><td><code id="pipe.design_+3A_a">a</code></td>
<td>

<p>(Optional). A matrix with rows denoting levels of drug A and columns levels of drug B. Each element gives the <code>shape1</code> parameter (a) from a prior Beta(a,b) distribution. Can be used as an alternative to specifying <code>prior.med</code> and <code>prior.ss</code> and must be used in conjunction with <code>b</code>
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_b">b</code></td>
<td>

<p>(Optional). A matrix with rows denoting levels of drug A and columns levels of drug B. Each element gives the <code>shape2</code> parameter (b) from a prior Beta(a,b) distribution. Can be used as an alternative to specifying <code>prior.med</code> and <code>prior.ss</code> and must be used in conjunction with <code>a</code>
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_alternate">alternate</code></td>
<td>

<p>Logical variable (defaults to FALSE). Should the design always deescalate if above the MTC and escalate if below (subject to admissibility, safety and dose skipping constraints)?
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_uppertox.constraint">uppertox.constraint</code></td>
<td>

<p>Any number between 0 and 1 giving the upper toxicity safety constraint. No dose combination that lies above the most likely contour for this constraint may be dosed. Defaults to NULL
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_stop">stop</code></td>
<td>

<p>(Optional). Value of a stopping threshold. An alternative stopping rule to a fixed sample size specification (through <code>N</code>) or termination of a trial due to safety constraints (<code>epsilon</code> or <code>uppertox.constraint</code>). The trial is stopped if the posterior probability of being &gt; <code>theta</code> at the lowest dose combination is greater than <code>stop</code>
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_non.admissible">non.admissible</code></td>
<td>

<p>(Optional) A matrix with rows denoting levels of drug A and columns denoting levels of drug B. Each element is logical indicating whether the dose combination is non-admissible (TRUE) or not. Non-admissible doses can never be experimented on in during the trial.
</p>
</td></tr>
<tr><td><code id="pipe.design_+3A_seed">seed</code></td>
<td>

<p>(Optional) Starting seed to allow replication of the trial or simulation.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements a Product of Independent Beta Probabilities (PIPE) Phase I dose-escalation design for a dual-agent trial. An independent Beta prior is placed on the probability of dose limiting toxicity (DLT) for each dose combination. Simple conjugate Bayesian analysis is used to obtain the posterior at each dose combination. This model is considered a 'working model' only as it does not account for monotonically increasing toxicity by dose. 
</p>
<p>The dose combination assigned to the next cohort of patients is, however, obtained by calculating a maximum tolerated contour (MTC) that bisects the dose space and respects monotonicity. Admissible dose combinations considered for the next cohort are those that are either &lsquo;adjacent&rsquo; or &lsquo;closest&rsquo; to the MTC (see Mander A.P. and Sweeting M.J., Statistics in Medicine 2015) and can be specified using the <code>admis</code> argument. If there is more than one dose combination then either the one with the smallest sample size (least experimented on) is chosen, by specifying <code>strategy="ss"</code>, or admissible doses are chosen at random, weighted by the inverse of the sample size (<code>strategy="ss-random"</code>).
</p>
<p>Admissible doses can be constrained to be within a set of neighbouring doses to the current dose combination (<code>constraint="neighbouring"</code>) or within the set of doses consisting of up to one dose level above any previously experimented drug A and drug B level (<code>constraint="no.dose.skip"</code>). To additionally prevent diagonal escalation (e.g. where both drugs are escalated together), use either (<code>constraint="neighbouring-nodiag"</code>) or (<code>constraint="no.dose.skip-nodiag"</code>).
</p>
<p>In addition, a safety constraint can be added, to avoid potential overdosing. Dose combinations whose expected probability of being above the MTC is greater than a threshold <code>epsilon</code> are excluded from the admissible doses for the next cohort. The expected probability is calculated by averaging over all possible MTCs, weighted by their posterior probabilities. An alternative safety constraint can be used by specifying <code>uppertox.constraint=c</code>, where c is the upper toxicity level from which a contour is derived (e.g. c=0.6 calculates the most likely contour for a 60% chance of DLT). No doses above this contour will be used. 
</p>
<p>The program will either run as a simulation (the default), or by using a deterministic set of outcomes (all DLTs / no DLTs) specified using <code>mode="alldlt"</code> and <code>mode="nodlt"</code>, respectively. 
</p>
<p>If the user specifies a data-frame using the <code>data</code> argument, then every simulated trial will begin with the specified doses and DLT outcomes. This option is useful for assess operating characteristics mid-way through the trial, or just to obtain the dose for the next cohort.
</p>
<p>A trial of size <code>N</code> is generally run, except if no doses are deemed safe according to one of the two safety constraints described above, at which point the trial will stop. Users may additionally specify a stopping rule using <code>stop=s</code>, where the trial is stopped if the posterior probability that the lowest dose combination is above the target toxicity probability is greater than s. Note, this stopping rule relies only on the prior and data collected for the first dose combination and does not borrow strength from other doses. Hence it should be used with caution.
</p>
<p>One can force deescalation if above the MTC and escalation if below (subject to meeting other specified constraints) by specifying <code>alternate=TRUE</code>. This constraint ensures the design follows the properties of 'coherence' (Cheung YK. Biometrika 2005). 
</p>
<p>If a single trial is specified by <code>S=1</code> then by additionally specifying <code>densities=TRUE</code> the returned object will include calculations of the probability of toxicity densities for each dose-combination after each cohort (with cohort 0 representing the prior). The densities are calculated over a grid of probabilities <code class="reqn">\alpha_1,...,\alpha_K</code> through weighting by the contour probabilities for each <code class="reqn">\alpha_k</code>:
</p>
<p style="text-align: center;"><code class="reqn">p(\alpha_k&lt; \pi_{i,j} \le \alpha_{k+1}) = \sum_{C_s \in \mathcal{C}} C_s[i,j] P_{C_s}(\alpha_{k+1})- \sum_{C_s \in \mathcal{C}} C_s[i,j] P_{C_s}(\alpha_{k}) </code>
</p>

<p>Further details regarding the notation can be found in Mander A.P. and Sweeting M.J. (2015) Statistics in Medicine. &lt;doi: 10.1002/sim.6434&gt;
</p>


<h3>Value</h3>

<p><code>pipe.design</code> returns an object of class &quot;pipe&quot; or &quot;pipe.sim&quot;; the latter occuring when more than one simulation has been conducted.
The function <code><a href="base.html#topic+print">print</a></code> (i.e. <code><a href="#topic+print.pipe">print.pipe</a></code> or <code><a href="#topic+print.pipe.sim">print.pipe.sim</a></code>) can be used to obtain summary information about the design used, the data observed, the maximum tolerated contour estimate, and the next recommended dose level. 
</p>
<p>An object of class &quot;pipe&quot; (when N=1) or &quot;pipe.sim&quot; (when N&gt;1) is a list with the following components:
</p>

<dl>
<dt><code>r.sim</code></dt><dd><p>A list of matrices showing the number of DLTs for each dose combination in each simulation</p>
</dd>
<dt><code>n.sim</code></dt><dd><p>A list of matrices showing the number of patients dosed at each combination in each simulation</p>
</dd>
<dt><code>rec.i.sim</code></dt><dd><p>An S x (N/c) matrix with elements representing the level of drug A for each cohort</p>
</dd>
<dt><code>rec.j.sim</code></dt><dd><p>An S x (N/c) matrix with elements representing the level of drug B for each cohort</p>
</dd>
<dt><code>exp</code></dt><dd><p>A matrix showing the experimentation proportions for each dose combination averaged across simulations</p>
</dd>
<dt><code>rec</code></dt><dd><p>A matrix showing the proportion of times each dose combination is recommended, where the denominator is the total number of recommended phase II doses over the simulations</p>
</dd>
<dt><code>dlts</code></dt><dd><p>A vector giving the average number of DLTs occuring in each simulated trial</p>
</dd>
<dt><code>mat.list</code></dt><dd><p>A list of binary matrices showing the most likely MTC before each cohort is recruited. Output only if <code>S=1</code></p>
</dd>
<dt><code>uppermat.list</code></dt><dd><p>A list of binary matrices showing the most likely contour for <code>uppertox.constraint</code> before each cohort is recruited. Output only if <code>S=1</code> and <code>uppertox.constraint</code> is used</p>
</dd>
<dt><code>uppermat2.list</code></dt><dd><p>A list of binary matrices showing the doses that fail the constraint imposed by <code>epsilon</code>. Output only if <code>S=1</code> and <code>epsilon</code> is used</p>
</dd>
<dt><code>r.list</code></dt><dd><p>A list of matrices showing the cumulative number of DLTs for each dose combination before each cohort is recruited. Output only if <code>S=1</code></p>
</dd>
<dt><code>n.list</code></dt><dd><p>A list of matrices showing the cumulative number of patients at each dose combination before each cohort is recruited. Output only if <code>S=1</code></p>
</dd>
<dt><code>n.rpII</code></dt><dd><p>A vector listing the number of doses recommended for Phase II from each simulated trial</p>
</dd>
<dt><code>no.not.treated</code></dt><dd><p>The total number of patients not treated (in the trial) accumulated across the simulated trials due to a trial stopping early</p>
</dd>
<dt><code>pi</code></dt><dd><p>The true probability of DLT for each dose combination, as specified in the input argument</p>
</dd>
<dt><code>theta</code></dt><dd><p>The target toxicity probability, as specified in the input argument</p>
</dd>
<dt><code>rpII.list</code></dt><dd><p>A list giving the recommended Phase II dose combinations for each simulation</p>
</dd>
<dt><code>a</code></dt><dd><p>A matrix with rows denoting levels of drug A and columns levels of drug B. Each element gives the <code>shape1</code> parameter (a) from a prior Beta(a,b) distribution</p>
</dd>
<dt><code>b</code></dt><dd><p>A matrix with rows denoting levels of drug A and columns levels of drug B. Each element gives the <code>shape2</code> parameter (b) from a prior Beta(a,b) distribution</p>
</dd>
<dt><code>plot.density</code></dt><dd><p>A list of objects of length <code>c</code>+1. The kth element is a ggplot object giving the toxicity density plots for each dose-combination after the (k-1)st cohort has been recruited</p>
</dd>
</dl>



<h3>Note</h3>

<p>The use of the <code>uppertox.constraint</code> safety constraint is not documented in Mander and Sweeting, Statistics in Medicine 2015, and some preliminary investigations have shown that this constraint can cause rigidity in the escalation process, and therefore should be used with caution.
</p>


<h3>Author(s)</h3>

<p>Michael Sweeting <a href="mailto:mjs212@medschl.cam.ac.uk">mjs212@medschl.cam.ac.uk</a> (University of Cambridge, UK)
</p>


<h3>References</h3>

<p>Mander A.P., Sweeting M.J. A product of independent beta probabilities dose escalation design for dual-agent phase I trials. <em>Statistics in Medicine</em> (2015) 34(8): 1261&ndash;1276. &lt;doi: 10.1002/sim.6434&gt;
</p>
<p>Cheung Y.K. Coherence principles in dose-finding studies. <em>Biometrika</em> (2005) 92(4): 863&ndash;873.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.pipe">print.pipe</a></code>, <code><a href="#topic+print.pipe.sim">print.pipe.sim</a></code>, <code><a href="#topic+plot.pipe">plot.pipe</a></code>, <code><a href="#topic+plot.pipe.sim">plot.pipe.sim</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Reproducing Figure 5 from Mander and Sweeting, Statistics in Medicine 2015.
## The true probability of DLT for a 6x6 grid of dose combinations 
## (Scenario 3 from Mander and Sweeting, Statistics in Medicine 2015)
pi &lt;-matrix(c(0.02,0.10,0.20,0.30,0.35,0.45,0.06,0.14,0.24,0.34,0.39,0.49,0.12,0.20,
0.30,0.40,0.45,0.55,0.17,0.25,0.35,0.45,0.50,0.60,0.22,0.30,0.40,0.50,0.60,0.70,0.30,
0.38,0.48,0.58,0.68,0.78),nrow=6,ncol=6)
## Using a weak prior with prior sample size 1/36 for each dose combination and prior
## median of Scenario 1
prior.med&lt;-matrix(c(0.02,0.03,0.06,0.10,0.18,0.23,0.03,0.05,0.09,0.13,0.21,0.27,0.06,
0.09,0.14,0.18,0.26,0.30,0.11,0.14,0.18,0.23,0.30,0.36,0.18,0.21,0.26,0.30,0.39,0.44,
0.23,0.27,0.3,0.36,0.44,0.49),nrow=6,ncol=6)
## Using a neighbouring escalation constraint
## Selecting the closest admissible doses
## Using a safety constraint with epsilon = 0.8

## Obtain dose recommendations for first cohort
cohort1&lt;-pipe.design(N=2,S=1,c=2,theta=0.3,prior.med=prior.med,
prior.ss=matrix(1/36,ncol=6,nrow=6),strategy="ss",constraint="neighbouring",
epsilon=0.8,admis="closest",alternate=FALSE)
cohort1 ## Recommends starting at (1,1)
## Second cohort
## Assume no toxicities are seen in first cohort
data1&lt;-data.frame(patient=1:2,doseA=rep(1,2),doseB=rep(1,2),tox=rep(0,2))
cohort2&lt;-pipe.design(data=data1,S=1,c=2,theta=0.3,prior.med=prior.med,
prior.ss=matrix(1/36,ncol=6,nrow=6),strategy="ss",constraint="neighbouring",
epsilon=0.8,admis="closest",alternate=FALSE)
cohort2 ## Recommends dosing at (2,2)
## Third cohort
## Assume one toxicity is seen in second cohort
data2&lt;-rbind(data1,data.frame(patient=3:4,doseA=rep(2,2),doseB=rep(2,2),tox=c(1,0)))
cohort3&lt;-pipe.design(data=data2,S=1,c=2,theta=0.3,prior.med=prior.med,
   prior.ss=matrix(1/36,ncol=6,nrow=6),strategy="ss",constraint="neighbouring",
   epsilon=0.8,admis="closest",alternate=FALSE)
cohort3 ## Recommends dosing at (1,3)


## Simulating a single trial with sample size of 40, cohort size 2 
## and target toxicity of 0.3, using true probabilities of toxicity pi
## Not run: 
set.seed(700)
example&lt;-pipe.design(N=40,S=1,c=2,theta=0.3,pi=pi,prior.med=prior.med,
prior.ss=matrix(1/36,ncol=6,nrow=6),strategy="ss",constraint="neighbouring",
epsilon=0.8,admis="closest",alternate=FALSE)
example
plot(example)

## End(Not run)



## Not run: 
## Run a Shiny GUI version of pipe.design
runShinyPIPE()

## End(Not run)


## Not run: 
## Conducting a simulation study (1000 trials) to investigate 
## operating characteristics for Scenario 3 
## (as reported in Table III in Mander and Sweeting, Statistics in Medicine 2015)
set.seed(262)
scen3&lt;-pipe.design(N=40,S=1000,c=2,theta=0.3,pi=pi,prior.med=prior.med,
prior.ss=matrix(1/36,ncol=6,nrow=6),strategy="ss",constraint="neighbouring",
epsilon=0.8,admis="closest",alternate=FALSE)
scen3

## End(Not run)


</code></pre>

<hr>
<h2 id='plot.pipe'>
Plot escalation or operating characteristics for trials conducted using the Product of Independent Beta Probabilities Escalation design 
</h2><span id='topic+plot.pipe'></span><span id='topic+plot.pipe.sim'></span>

<h3>Description</h3>

<p>Plot method for a trial or series of trials conducted using a <code><a href="#topic+pipe.design">pipe.design</a></code> model. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pipe'
plot(x, type = "b", pi = x$pi, theta = x$theta, epsilon.line = TRUE, 
    uppertox.constraint.line = FALSE, add.empirical.data = FALSE, ...)
## S3 method for class 'pipe.sim'
plot(x, pi = x$pi, theta = x$theta, plot = "both", ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.pipe_+3A_x">x</code></td>
<td>

<p>An object of class &quot;pipe&quot; or &quot;pipe.sim&quot; as returned by <code><a href="#topic+pipe.design">pipe.design</a></code>
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_type">type</code></td>
<td>

<p>The type of information to be plotted for a single PIPE trial. Options are &quot;r&quot; (number of outcomes only), &quot;n&quot; (number of patients only), or &quot;b&quot; (both number of outcomes and patients). The default is to plot both the number of outcomes and patients for each dose combination, by using symbols and colour filling, respectively.
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_pi">pi</code></td>
<td>

<p>A matrix with rows denoting levels of drug A and columns denoting levels of drug B. Each element gives the true probability of the outcome (dose-limiting toxicity) for that dose combination. If omitted then the true probabilities of the outcome will be taken from that used when creating the <code>x</code> object.
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_theta">theta</code></td>
<td>

<p>The target toxicity probability. If omitted then <code>theta</code> is taken from that used when creating the <code>x</code> object.
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_epsilon.line">epsilon.line</code></td>
<td>

<p>Should the toxicity safety contour specified by <code>epsilon</code> in <code><a href="#topic+pipe.design">pipe.design</a></code> be shown? Defaults to TRUE.
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_uppertox.constraint.line">uppertox.constraint.line</code></td>
<td>

<p>Should the toxicity safety contour specified by <code>uppertox.constraint</code> in <code><a href="#topic+pipe.design">pipe.design</a></code> be shown? Defaults to FALSE.
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_add.empirical.data">add.empirical.data</code></td>
<td>

<p>Should an extra plot be produced with the empirical posterior median toxicity probabilities (from the independent beta distributions), and 95
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_plot">plot</code></td>
<td>

<p>The type of operating characteristics to plot for a series of simulated PIPE trials. Options are &quot;exp&quot; (experimentation percentages), &quot;rec&quot; (recommendation percentages), or &quot;both&quot; (both experimentation and recommendation percentages side-by-side). The default is &quot;both&quot;.
</p>
</td></tr>
<tr><td><code id="plot.pipe_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a single trial is conducted, then the <code><a href="graphics.html#topic+plot">plot</a></code> function currently produces a series of matrix plots by cohort showing the cumulative outcome and sample size information for each dose combination. Also shown as a solid black line is the most likely MTC before outcomes from each cohort are observed and, if specified, one or more toxicity safety contours shown in red. The final cohort shows the most likely MTC at the end of the trial together with the true MTC (green dashed line) and the recommended Phase II doses (blue squares), which are always doses below the most likely MTC that have been experimented on (see Mander and Sweeting, Statistics in Medicine 2015 for more details).
</p>
<p>If multiple PIPE trials have been simulated then experimentation and recommendation percentages are shown as a heat plot over the dose space together with the true MTC (green dashed line).
</p>


<h3>Author(s)</h3>

<p>Michael Sweeting <a href="mailto:mjs212@medschl.cam.ac.uk">mjs212@medschl.cam.ac.uk</a>
</p>


<h3>References</h3>

<p>Mander A.P., Sweeting M.J. A product of independent beta probabilities dose escalation design for dual-agent phase I trials. <em>Statistics in Medicine</em> (2015) 34(8): 1261&ndash;1276.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pipe.design">pipe.design</a></code>, <code><a href="#topic+print.pipe">print.pipe</a></code>
</p>

<hr>
<h2 id='print.pipe'>
Print information regarding a trial conducted using the Product of Independent Beta Probabilities Escalation design
</h2><span id='topic+print.pipe'></span><span id='topic+print.pipe.sim'></span>

<h3>Description</h3>

<p>Print method for a trial or series of trials conducted using a <code><a href="#topic+pipe.design">pipe.design</a></code> model. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pipe'
print(x, ...)
## S3 method for class 'pipe.sim'
print(x, pi = x$pi, 
  cut.points = unique(c(0,pmin(1,pmax(0,seq(x$theta-0.15,x$theta+0.15,by=0.1))),1)), 
  digits = 1, print = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.pipe_+3A_x">x</code></td>
<td>

<p>An object of class &quot;pipe&quot; or &quot;pipe.sim&quot; as returned by <code><a href="#topic+pipe.design">pipe.design</a></code>
</p>
</td></tr>
<tr><td><code id="print.pipe_+3A_pi">pi</code></td>
<td>

<p>A matrix with rows denoting levels of drug A and columns denoting levels of drug B. Each element gives the true probability of the outcome (dose-limiting toxicity) for that dose combination. If omitted then the true probabilities of the outcome will be taken from that used when creating the <code>x</code> object.
</p>
</td></tr>
<tr><td><code id="print.pipe_+3A_cut.points">cut.points</code></td>
<td>

<p>Cutpoints of toxicity for which the operating characteristics are to be categorised. Default is [0,x$theta-0.1) [x$theta-0.1,x$theta+0.1) [x$theta+0.1,1]
</p>
</td></tr>
<tr><td><code id="print.pipe_+3A_digits">digits</code></td>
<td>

<p>The number of decimal places to print the operating characteristics 
</p>
</td></tr>
<tr><td><code id="print.pipe_+3A_print">print</code></td>
<td>
<p>If TRUE then the experimentation and recommendation percentages are printed to the output</p>
</td></tr>
<tr><td><code id="print.pipe_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a single trial is conducted, then the <code><a href="base.html#topic+print">print</a></code> function currently produces summary information about the data observed, current best estimate of the MTC and the upper toxicity constraint contour. 
If a simulation study is conducted, then the following operating characteristics are printed:
</p>

<dl>
<dt>Experimentation percentages</dt><dd><p>Percentage of patients recruited to each true region of toxicity (as specified by <code>cut.points</code>), across the simulated trials</p>
</dd>
<dt>Recommendation percentages</dt><dd><p>Percentage of times that recommend doses lie within each true region of toxicity (as specified by <code>cut.points</code>). As more than one dose combination can be recommended in any trial, the denominator is the total number of recommended phase II doses over the simulations</p>
</dd>
<dt>Percentage of times a trial recommends k doses for Phase II</dt><dd><p>Provides the percentage of time that each trial recommends 0, 1, ..., k doses for Phase II experimentation. 0 doses indicates that the trial stopped early and recommended no doses.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Michael Sweeting <a href="mailto:mjs212@medschl.cam.ac.uk">mjs212@medschl.cam.ac.uk</a>
</p>


<h3>References</h3>

<p>Mander A.P., Sweeting M.J. A product of independent beta probabilities dose escalation design for dual-agent phase I trials. <em>Statistics in Medicine</em> (2015) 34(8): 1261&ndash;1276.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pipe.design">pipe.design</a></code>, <code><a href="#topic+plot.pipe">plot.pipe</a></code>
</p>

<hr>
<h2 id='runShinyPIPE'>
A Shiny GUI implementation of the PIPE design
</h2><span id='topic+runShinyPIPE'></span>

<h3>Description</h3>

<p>Runs a Shiny web browser interface of the Product of Independent beta Probabilities dose Escalation (PIPE) design</p>


<h3>Usage</h3>

<pre><code class='language-R'>runShinyPIPE()
</code></pre>


<h3>Details</h3>

<p>This function implements a GUI web browser version of pipe.design, thus allowing easy usage and communication of the design to researchers.
</p>


<h3>Author(s)</h3>

<p>Chris Habron (Roche) and 
Michael Sweeting <a href="mailto:mjs212@medschl.cam.ac.uk">mjs212@medschl.cam.ac.uk</a> (University of Cambridge, UK) 
</p>


<h3>References</h3>

<p>Mander A.P., Sweeting M.J. A product of independent beta probabilities dose escalation design for dual-agent phase I trials. <em>Statistics in Medicine</em> (2015) 34(8): 1261&ndash;1276.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pipe.design">pipe.design</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package esback</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {esback}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#esback'><p>esback: A package for backtesting expected shortfall forecasts</p></a></li>
<li><a href='#cc_backtest'><p>Conditional Calibration Backtest</p></a></li>
<li><a href='#er_backtest'><p>Exceedance Residuals Backtest</p></a></li>
<li><a href='#esr_backtest'><p>Expected Shortfall Regression Backtest</p></a></li>
<li><a href='#parameter_definition'><p>Parameter Definitions</p></a></li>
<li><a href='#risk_forecasts'><p>Returns and risk forecasts for the S&amp;P 500 index</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Expected Shortfall Backtesting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-02</td>
</tr>
<tr>
<td>Description:</td>
<td>Implementations of the expected shortfall backtests of Bayer and Dimitriadis (2020) &lt;<a href="https://doi.org/10.1093%2Fjjfinec%2Fnbaa013">doi:10.1093/jjfinec/nbaa013</a>&gt; 
    as well as other well known backtests from the literature. Can be used to assess the correctness of forecasts of the 
    expected shortfall risk measure which is e.g. used in the banking and finance industry for quantifying the market risk 
    of investments. A special feature of the backtests of  Bayer and Dimitriadis (2020) &lt;<a href="https://doi.org/10.1093%2Fjjfinec%2Fnbaa013">doi:10.1093/jjfinec/nbaa013</a>&gt; 
    is that they only require forecasts of  the expected shortfall, which is in striking contrast to all other existing 
    backtests, making them particularly attractive for practitioners.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 2.10.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>esreg</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-03 18:58:24 UTC; sebastian</td>
</tr>
<tr>
<td>Author:</td>
<td>Sebastian Bayer [aut, cre],
  Timo Dimitriadis [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sebastian Bayer &lt;sebastian.bayer@uni-konstanz.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-03 19:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='esback'>esback: A package for backtesting expected shortfall forecasts</h2><span id='topic+esback'></span><span id='topic+esback-package'></span>

<h3>Description</h3>

<p>The esback package contains functions for backtesting expected shortfall forecasts.
</p>


<h3>Available backtest functions</h3>


<ul>
<li> <p><a href="#topic+er_backtest">Exceedance Residuals Backtest (McNeil &amp; Frey, 2000)</a>
</p>
</li>
<li> <p><a href="#topic+cc_backtest">Conditional Calibration Backtest (Nolde &amp; Ziegel, 2017)</a>
</p>
</li>
<li> <p><a href="#topic+esr_backtest">Expeced Shortfall Regression Backtests (Bayer &amp; Dimitriadis, 2018)</a>
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Sebastian Bayer <a href="mailto:sebastian.bayer@uni-konstanz.de">sebastian.bayer@uni-konstanz.de</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Timo Dimitriadis <a href="mailto:timo.dimitriadis@awi.uni-heidelberg.de">timo.dimitriadis@awi.uni-heidelberg.de</a>
</p>
</li></ul>


<hr>
<h2 id='cc_backtest'>Conditional Calibration Backtest</h2><span id='topic+cc_backtest'></span>

<h3>Description</h3>

<p>The simple and general conditional calibration backtests of Nolde &amp; Ziegel (2007).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cc_backtest(r, q, e, s = NULL, alpha, hommel = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cc_backtest_+3A_r">r</code></td>
<td>
<p>A vector of returns.</p>
</td></tr>
<tr><td><code id="cc_backtest_+3A_q">q</code></td>
<td>
<p>A vector of Value-at-Risk forecasts.</p>
</td></tr>
<tr><td><code id="cc_backtest_+3A_e">e</code></td>
<td>
<p>A vector of Expected Shortfall forecasts.</p>
</td></tr>
<tr><td><code id="cc_backtest_+3A_s">s</code></td>
<td>
<p>A vector of volatility forecasts.</p>
</td></tr>
<tr><td><code id="cc_backtest_+3A_alpha">alpha</code></td>
<td>
<p>Scalar probability level in (0, 1).</p>
</td></tr>
<tr><td><code id="cc_backtest_+3A_hommel">hommel</code></td>
<td>
<p>If TRUE, use Hommels correction,
otherwise use the classical Bonferroni correction.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following components:
</p>

<ul>
<li><p> pvalue_twosided_simple
</p>
</li>
<li><p> pvalue_onesided_simple
</p>
</li>
<li><p> pvalue_twosided_general
</p>
</li>
<li><p> pvalue_onesided_general
</p>
</li></ul>



<h3>References</h3>

<p>Nolde &amp; Ziegel (2007) <a href="https://doi.org/10.1214/17-AOAS1041">doi:10.1214/17-AOAS1041</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(risk_forecasts)
r &lt;- risk_forecasts$r
q &lt;- risk_forecasts$q
e &lt;- risk_forecasts$e
s &lt;- risk_forecasts$s
cc_backtest(r = r, q = q, e = e, s = s, alpha = 0.025)
</code></pre>

<hr>
<h2 id='er_backtest'>Exceedance Residuals Backtest</h2><span id='topic+er_backtest'></span>

<h3>Description</h3>

<p>Tests whether the mean of the exceedance residuals, respectively the
mean of the standardized exceedance residuals is zero.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>er_backtest(r, q, e, s = NULL, B = 1000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="er_backtest_+3A_r">r</code></td>
<td>
<p>A vector of returns.</p>
</td></tr>
<tr><td><code id="er_backtest_+3A_q">q</code></td>
<td>
<p>A vector of Value-at-Risk forecasts.</p>
</td></tr>
<tr><td><code id="er_backtest_+3A_e">e</code></td>
<td>
<p>A vector of Expected Shortfall forecasts.</p>
</td></tr>
<tr><td><code id="er_backtest_+3A_s">s</code></td>
<td>
<p>A vector of volatility forecasts.</p>
</td></tr>
<tr><td><code id="er_backtest_+3A_b">B</code></td>
<td>
<p>Number of bootstrap iterations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following components:
</p>

<ul>
<li><p> pvalue_twosided_simple
</p>
</li>
<li><p> pvalue_onesided_simple
</p>
</li>
<li><p> pvalue_twosided_standardized
</p>
</li>
<li><p> pvalue_onesided_standardized
</p>
</li></ul>



<h3>References</h3>

<p>McNeil &amp; Frey (2000) <a href="https://doi.org/10.1016/S0927-5398%2800%2900012-8">doi:10.1016/S0927-5398(00)00012-8</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(risk_forecasts)
r &lt;- risk_forecasts$r
q &lt;- risk_forecasts$q
e &lt;- risk_forecasts$e
s &lt;- risk_forecasts$s
er_backtest(r = r, q = q, e = e, s = s)
</code></pre>

<hr>
<h2 id='esr_backtest'>Expected Shortfall Regression Backtest</h2><span id='topic+esr_backtest'></span>

<h3>Description</h3>

<p>This function implements multiple expected shortfall regression (esreg)
based backtests.
Using the <code>version</code> argument, the following backtests are available:
</p>

<ol>
<li><p> (&quot;Strict ESR&quot;) Regresses the returns on the expected shortfall forecasts
and tests the ES coefficients for (0, 1).
</p>
</li>
<li><p> (&quot;Auxiliary ESR&quot;) Regresses the returns on the quantile and the expected shortfall forecasts
and tests the ES coefficients for (0, 1).
</p>
</li>
<li><p> (&quot;Strict Intercept&quot;) Tests whether the expected shortfall of the forecast error r - e is zero.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>esr_backtest(
  r,
  q,
  e,
  alpha,
  version,
  B = 0,
  cov_config = list(sparsity = "nid", sigma_est = "scl_sp", misspec = TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="esr_backtest_+3A_r">r</code></td>
<td>
<p>A vector of returns.</p>
</td></tr>
<tr><td><code id="esr_backtest_+3A_q">q</code></td>
<td>
<p>A vector of Value-at-Risk forecasts.</p>
</td></tr>
<tr><td><code id="esr_backtest_+3A_e">e</code></td>
<td>
<p>A vector of Expected Shortfall forecasts.</p>
</td></tr>
<tr><td><code id="esr_backtest_+3A_alpha">alpha</code></td>
<td>
<p>Scalar probability level in (0, 1).</p>
</td></tr>
<tr><td><code id="esr_backtest_+3A_version">version</code></td>
<td>
<p>Version of the backtest to be used</p>
</td></tr>
<tr><td><code id="esr_backtest_+3A_b">B</code></td>
<td>
<p>Number of bootstrap samples. Set to 0 to disable bootstrapping.</p>
</td></tr>
<tr><td><code id="esr_backtest_+3A_cov_config">cov_config</code></td>
<td>
<p>a list with three components: sparsity, sigma_est, and misspec, see <a href="esreg.html#topic+vcovA">vcovA</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following components:
</p>

<ul>
<li><p> pvalue_two_sided_asymptotic
</p>
</li>
<li><p> pvalue_one_sided_asymptotic (for version 3)
</p>
</li>
<li><p> pvalue_two_sided_bootstrap
</p>
</li>
<li><p> pvalue_one_sided_bootstrap (for version 3)
</p>
</li></ul>



<h3>References</h3>

<p>Bayer &amp; Dimitriadis (2020) <a href="https://doi.org/10.1093/jjfinec/nbaa013">doi:10.1093/jjfinec/nbaa013</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(risk_forecasts)
r &lt;- risk_forecasts$r
q &lt;- risk_forecasts$q
e &lt;- risk_forecasts$e
esr_backtest(r = r, q = q, e = e, alpha = 0.025, version = 1)
</code></pre>

<hr>
<h2 id='parameter_definition'>Parameter Definitions</h2><span id='topic+parameter_definition'></span>

<h3>Description</h3>

<p>Defines commonly used parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parameter_definition(r, q, e, s, alpha, B)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parameter_definition_+3A_r">r</code></td>
<td>
<p>A vector of returns.</p>
</td></tr>
<tr><td><code id="parameter_definition_+3A_q">q</code></td>
<td>
<p>A vector of Value-at-Risk forecasts.</p>
</td></tr>
<tr><td><code id="parameter_definition_+3A_e">e</code></td>
<td>
<p>A vector of Expected Shortfall forecasts.</p>
</td></tr>
<tr><td><code id="parameter_definition_+3A_s">s</code></td>
<td>
<p>A vector of volatility forecasts.</p>
</td></tr>
<tr><td><code id="parameter_definition_+3A_alpha">alpha</code></td>
<td>
<p>Scalar probability level in (0, 1).</p>
</td></tr>
<tr><td><code id="parameter_definition_+3A_b">B</code></td>
<td>
<p>Number of bootstrap samples. Set to 0 to disable bootstrapping.</p>
</td></tr>
</table>

<hr>
<h2 id='risk_forecasts'>Returns and risk forecasts for the S&amp;P 500 index</h2><span id='topic+risk_forecasts'></span>

<h3>Description</h3>

<p>A dataset containing the daily log returns and risk forecasts for the S&amp;P 500 index.
The quantile and expected shortfall forecasts are for the probability level 2.5%.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(risk_forecasts)
</code></pre>


<h3>Format</h3>

<p>A data.frame with 4396 rows and 4 variables
</p>


<h3>Details</h3>

<p>Description of the variables:
</p>

<dl>
<dt>r</dt><dd><p>Daily log returns from January 3, 2000 to September 29, 2017 (4465 days)</p>
</dd>
<dt>q</dt><dd><p>Value-at-Risk forecasts of the Historical Simulation approach</p>
</dd>
<dt>e</dt><dd><p>Expected shortfall forecasts of the Historical Simulation approach</p>
</dd>
<dt>s</dt><dd><p>Volatility forecasts of the Historical Simulation approach</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

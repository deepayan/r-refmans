<!DOCTYPE html><html><head><title>Help for package treemapify</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {treemapify}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#draw_key_rrect'><p>Round rect key glyph for legend</p></a></li>
<li><a href='#G20'><p>Statistics on the G-20 group of major world economies.</p></a></li>
<li><a href='#geom_treemap'><p>A 'ggplot2' geom to draw a treemap.</p></a></li>
<li><a href='#geom_treemap_subgroup_border'><p>'ggplot2' geoms to draw a border around a subgroup of treemap tiles.</p></a></li>
<li><a href='#geom_treemap_subgroup_text'><p>'ggplot2' geoms to add text labels to treemap subgroups.</p></a></li>
<li><a href='#geom_treemap_text'><p>A 'ggplot2' geom to add text labels to treemap tiles.</p></a></li>
<li><a href='#treemapify'><p>Generate a treemap layout.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Draw Treemaps in 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>2.5.6</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://wilkox.org/treemapify/">https://wilkox.org/treemapify/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wilkox/treemapify/issues/">https://github.com/wilkox/treemapify/issues/</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Provides 'ggplot2' geoms for drawing treemaps.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 2.2.1), ggfittext (&ge; 0.5.0), grid (&ge; 3.1), cli
(&ge; 3.6.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, vdiffr, spelling</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-30 07:12:19 UTC; wilkox</td>
</tr>
<tr>
<td>Author:</td>
<td>David Wilkins <a href="https://orcid.org/0000-0002-3385-8981"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Bob Rudis <a href="https://orcid.org/0000-0001-5670-2640"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Wilkins &lt;david@wilkox.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-30 07:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='draw_key_rrect'>Round rect key glyph for legend</h2><span id='topic+draw_key_rrect'></span>

<h3>Description</h3>

<p>Round rect key glyph for legend
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_key_rrect(data, params, size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_key_rrect_+3A_data">data</code></td>
<td>
<p>A single row data frame containing the scaled aesthetics to
display in this key</p>
</td></tr>
<tr><td><code id="draw_key_rrect_+3A_params">params</code></td>
<td>
<p>A list of additional parameters supplied to the geom.</p>
</td></tr>
<tr><td><code id="draw_key_rrect_+3A_size">size</code></td>
<td>
<p>Width and height of key in mm.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Bob Rudis (bob@rud.is)
</p>

<hr>
<h2 id='G20'>Statistics on the G-20 group of major world economies.</h2><span id='topic+G20'></span>

<h3>Description</h3>

<p>A dataset containing economic and demographic statistics about members of the
G-20 group of major world economies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>G20
</code></pre>


<h3>Format</h3>

<p>A data frame with 20 rows and five variables:
</p>

<dl>
<dt>region</dt><dd><p>the country's region</p>
</dd>
<dt>country</dt><dd><p>the country</p>
</dd>
<dt>gdp_mil_usd</dt><dd><p>the country's GDP, in millions of US dollars</p>
</dd>
<dt>hdi</dt><dd><p>the country's Human Development Index</p>
</dd>
<dt>econ_classification</dt><dd><p>the country's economic classification</p>
</dd>
<dt>hemisphere</dt><dd><p>the hemisphere in which the majority of the country's
landmass lies</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://en.wikipedia.org/wiki/G-20_major_economies">https://en.wikipedia.org/wiki/G-20_major_economies</a>
</p>

<hr>
<h2 id='geom_treemap'>A 'ggplot2' geom to draw a treemap.</h2><span id='topic+geom_treemap'></span>

<h3>Description</h3>

<p>A treemap is a rectangular plot divided into tiles, each of which represents
a single observation. The relative area of each tile expresses a continuous
variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_treemap(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  fixed = NULL,
  layout = "squarified",
  start = "bottomleft",
  radius = grid::unit(0, "pt"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_treemap_+3A_mapping">mapping</code>, <code id="geom_treemap_+3A_data">data</code>, <code id="geom_treemap_+3A_stat">stat</code>, <code id="geom_treemap_+3A_position">position</code>, <code id="geom_treemap_+3A_na.rm">na.rm</code>, <code id="geom_treemap_+3A_show.legend">show.legend</code>, <code id="geom_treemap_+3A_inherit.aes">inherit.aes</code>, <code id="geom_treemap_+3A_...">...</code></td>
<td>
<p>Standard
geom arguments as for <code>ggplot2::geom_rect()</code>.</p>
</td></tr>
<tr><td><code id="geom_treemap_+3A_fixed">fixed</code></td>
<td>
<p>Deprecated. Use <code>layout = "fixed"</code> instead. Will be removed in
later versions.</p>
</td></tr>
<tr><td><code id="geom_treemap_+3A_layout">layout</code></td>
<td>
<p>The layout algorithm, one of either 'squarified' (the
default), 'scol', 'srow' or 'fixed'. See Details for full details on the
different layout algorithms.</p>
</td></tr>
<tr><td><code id="geom_treemap_+3A_start">start</code></td>
<td>
<p>The corner in which to start placing the tiles. One of
'bottomleft' (the default), 'topleft', 'topright' or 'bottomright'.</p>
</td></tr>
<tr><td><code id="geom_treemap_+3A_radius">radius</code></td>
<td>
<p>corner radius (default 0pt)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>geom_treemap()</code> requires an <code>area</code> aesthetic. It will ignore any aesthetics
relating to the x and y axes (e.g. <code>xmin</code> or <code>y</code>), as the x and y axes are
not meaningful in a treemap. Several other standard 'ggplot2' aesthetics are
supported (see Aesthetics). To add text labels to tiles, see
<code>geom_treemap_text()</code>.
</p>
<p>An optional <code>subgroup</code> aesthetic will cause the tiles to be clustered in
subgroups within the treemap. See <code>geom_treemap_subgroup_border()</code> and
<code>geom_treemap_subgroup_text()</code> to draw borders around subgroups and label
them, respectively. Up to three nested levels of subgrouping are supported,
with <code>subgroup2</code> and <code>subgroup3</code> aesthetics and respective
<code>geom_treemap_subgroup2_border()</code> etc. geoms.
</p>
<p>Four layout algorithms are provided. With the default 'squarified' algorithm
(<code>layout = "squarified"</code>), the priority is ensuring the tiles have an
aesthetically pleasing aspect ratio; that is, they are not too narrow or too
short. In this algorithm, tile placement proceeds from one corner, placing
the tiles in either rows or columns until all the tiles are placed. See
Bruls et al. (1999) for the full algorithm.
</p>
<p>There are two variants on the 'squarified' algorithm. 'scol' forces tile
placement to begin with a column, regardless of the effect on aspect ratio;
'srow' forces tile placement to been with a row. This will also apply to all
subgroups. After the first row or column, the remaining tiles will be placed
so as to optimise aspect ratios, as with the default algorithm.
</p>
<p>With the 'fixed' layout algorithm (<code>layout = "fixed"</code>), the plot area is
divided into vertical columns, which are each filled  with an equal number
of tiles beginning at the starting corner. Unlike the 'squarified'
algorithm, with the 'fixed' algorithm the relative positions of the tiles
are fixed by their order in the input data frame. This can result in
aesthetically unpleasing layouts, but it allows side-by-side comparisons or
animations to be created.
</p>
<p>All 'treemapify' geoms added to a plot should have the same value for
<code>layout</code> and <code>start</code>, or they will not share a common layout.
</p>


<h3>Aesthetics</h3>


<ul>
<li><p> area (required)
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> colour
</p>
</li>
<li><p> fill
</p>
</li>
<li><p> linetype
</p>
</li>
<li><p> subgroup
</p>
</li>
<li><p> subgroup2
</p>
</li>
<li><p> subgroup3
</p>
</li></ul>



<h3>Author(s)</h3>

<p>David Wilkins (david@wilkox.org)
</p>
<p>Bob Rudis (bob@rud.is)
</p>


<h3>References</h3>

<p>Bruls, M., Huizing, K., &amp; van Wijk, J. (1999). Squarified Treemaps (pp.
33-42). Proceedings of the Joint Eurographics and IEEE TCVG Symposium on
Visualization. <a href="https://www.win.tue.nl/~vanwijk/stm.pdf">https://www.win.tue.nl/~vanwijk/stm.pdf</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_treemap_text">geom_treemap_text()</a></code>, <code><a href="#topic+geom_treemap_subgroup_border">geom_treemap_subgroup_border()</a></code>,
<code><a href="#topic+geom_treemap_subgroup_text">geom_treemap_subgroup_text()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ggplot2::ggplot(G20, ggplot2::aes(area = gdp_mil_usd, fill = region)) +
 geom_treemap()

</code></pre>

<hr>
<h2 id='geom_treemap_subgroup_border'>'ggplot2' geoms to draw a border around a subgroup of treemap tiles.</h2><span id='topic+geom_treemap_subgroup_border'></span><span id='topic+geom_treemap_subgroup2_border'></span><span id='topic+geom_treemap_subgroup3_border'></span>

<h3>Description</h3>

<p>When <code>geom_treemap()</code> is used with a <code>subgroup</code>, <code>subgroup2</code> or <code>subgroup3</code>
aesthetic to subgroup treemap tiles, <code>geom_treemap_subgroup_border</code>,
<code>geom_treemap_subgroup2_border()</code> or <code>geom_treemap_subgroup3_border()</code> can
be used to draw a border around each subgroup at the appropriate level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_treemap_subgroup_border(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  fixed = NULL,
  layout = "squarified",
  start = "bottomleft",
  level = "subgroup",
  ...
)

geom_treemap_subgroup2_border(...)

geom_treemap_subgroup3_border(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_treemap_subgroup_border_+3A_mapping">mapping</code>, <code id="geom_treemap_subgroup_border_+3A_data">data</code>, <code id="geom_treemap_subgroup_border_+3A_stat">stat</code>, <code id="geom_treemap_subgroup_border_+3A_position">position</code>, <code id="geom_treemap_subgroup_border_+3A_na.rm">na.rm</code>, <code id="geom_treemap_subgroup_border_+3A_show.legend">show.legend</code>, <code id="geom_treemap_subgroup_border_+3A_inherit.aes">inherit.aes</code>, <code id="geom_treemap_subgroup_border_+3A_...">...</code></td>
<td>
<p>Standard
geom arguments as for <code>ggplot2::geom_rect()</code>.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_border_+3A_fixed">fixed</code></td>
<td>
<p>Deprecated. Use <code>layout = 'fixed'</code> instead. Will be removed in
later versions.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_border_+3A_layout">layout</code></td>
<td>
<p>The layout algorithm, one of either 'squarified' (the
default), 'scol', 'srow' or 'fixed'. See Details for full details on the
different layout algorithms.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_border_+3A_start">start</code></td>
<td>
<p>The corner in which to start placing the tiles. One of
'bottomleft' (the default), 'topleft', 'topright' or 'bottomright'.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_border_+3A_level">level</code></td>
<td>
<p>One of 'subgroup', 'subgroup2' or 'subgroup3', giving the
subgrouping level for which to draw borders. It is recommended to use the
aliases <code>geom_treemap_subgroup2_border()</code> and <code>geom_treemap_subgroup3_border()</code>
instead of this argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>geom_treemap_subgroup_border()</code> geoms require <code>area</code> and <code>subgroup</code> (or
<code style="white-space: pre;">&#8288;subgroup2, &#8288;</code>subgroup3&lsquo;) aesthetics. Several other standard &rsquo;ggplot2'
aesthetics are supported (see Aesthetics).
</p>
<p>Note that 'ggplot2' draws plot layers in the order they are added to the
plot. This means that if you add a <code>geom_treemap_subgroup_border()</code> layer
followed by a <code>geom_treemap_subgroup2_border()</code> layer, the second layer will
be drawn on top of the first and may hide it.
</p>
<p>The <code>layout</code> argument is used to set the treemap layout algorithm. All
'treemapify' geoms added to a plot should have the same value for <code>layout</code>
and <code>start</code>, or they will not share a common layout (see <code>geom_treemap()</code> for
details on the layout algorithms).
</p>


<h3>Aesthetics</h3>


<ul>
<li><p> area (required)
</p>
</li>
<li><p> subgroup, subgroup2 or subgroup3 (required)
</p>
</li>
<li><p> colour
</p>
</li>
<li><p> size
</p>
</li>
<li><p> linetype
</p>
</li>
<li><p> alpha
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+geom_treemap">geom_treemap()</a></code>, <code><a href="#topic+geom_treemap_subgroup_text">geom_treemap_subgroup_text()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ggplot2::ggplot(G20, ggplot2::aes(area = gdp_mil_usd, fill = hdi,
                                  subgroup = hemisphere, subgroup2 = region)) +
  geom_treemap() +
  geom_treemap_subgroup2_border(colour = "white") +
  geom_treemap_subgroup_border()

</code></pre>

<hr>
<h2 id='geom_treemap_subgroup_text'>'ggplot2' geoms to add text labels to treemap subgroups.</h2><span id='topic+geom_treemap_subgroup_text'></span><span id='topic+geom_treemap_subgroup2_text'></span><span id='topic+geom_treemap_subgroup3_text'></span>

<h3>Description</h3>

<p>When <code>geom_treemap()</code> is used with the <code>subgroup</code>, <code>subgroup2</code> or
<code>subgroup3</code> aesthetic to subgroup treemap tiles,
<code>geom_treemap_subgroup_text()</code>, <code>geom_treemap_subgroup2_text()</code> or
<code>geom_treemap_subgroup3_text()</code> can be used to add a text label to each
subgroup at the appropriate level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_treemap_subgroup_text(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE,
  padding.x = grid::unit(1, "mm"),
  padding.y = grid::unit(1, "mm"),
  place = "bottom",
  min.size = 4,
  grow = FALSE,
  reflow = FALSE,
  fixed = NULL,
  layout = "squarified",
  start = "bottomleft",
  level = "subgroup",
  ...
)

geom_treemap_subgroup2_text(...)

geom_treemap_subgroup3_text(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_treemap_subgroup_text_+3A_mapping">mapping</code>, <code id="geom_treemap_subgroup_text_+3A_data">data</code>, <code id="geom_treemap_subgroup_text_+3A_stat">stat</code>, <code id="geom_treemap_subgroup_text_+3A_position">position</code>, <code id="geom_treemap_subgroup_text_+3A_na.rm">na.rm</code>, <code id="geom_treemap_subgroup_text_+3A_show.legend">show.legend</code>, <code id="geom_treemap_subgroup_text_+3A_inherit.aes">inherit.aes</code>, <code id="geom_treemap_subgroup_text_+3A_...">...</code></td>
<td>
<p>Standard
geom arguments as for <code>ggplot2::geom_text</code>.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_padding.x">padding.x</code>, <code id="geom_treemap_subgroup_text_+3A_padding.y">padding.y</code></td>
<td>
<p><code>grid::unit()</code> object, giving horizontal or
vertical padding between text and edge of tile. Defaults to 1 mm.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_place">place</code></td>
<td>
<p>Where inside the box to place the text. Default is <code>bottom</code>;
other options are <code>topleft</code>, <code>top</code>, <code>topright</code>, etc.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_min.size">min.size</code></td>
<td>
<p>Minimum font size, in points. If provided, text that would
need to be shrunk below this size to fit the box will not be drawn. Defaults
to 4 pt.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_grow">grow</code></td>
<td>
<p>If <code>TRUE</code>, text will be grown as well as shrunk to fill the box.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_reflow">reflow</code></td>
<td>
<p>If <code>TRUE</code>, text will be reflowed (wrapped) to better fit the
box.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_fixed">fixed</code></td>
<td>
<p>Deprecated. Use <code>layout = "fixed"</code> instead. Will be removed in
later versions.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_layout">layout</code></td>
<td>
<p>The layout algorithm, one of either 'squarified' (the
default), 'scol', 'srow' or 'fixed'. See Details for full details on the
different layout algorithms.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_start">start</code></td>
<td>
<p>The corner in which to start placing the tiles. One of
'bottomleft' (the default), 'topleft', 'topright' or 'bottomright'.</p>
</td></tr>
<tr><td><code id="geom_treemap_subgroup_text_+3A_level">level</code></td>
<td>
<p>One of 'subgroup', 'subgroup2' or 'subgroup3', giving the
subgrouping level for which to draw text labels. It is recommended to use
the aliases <code>geom_treemap_subgroup2_text()</code> and
<code>geom_treemap_subgroup3_text()</code> instead of this argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>geom_treemap_subgroup_text()</code> geoms require <code>area</code>, <code>label</code> and <code>subgroup</code>
(or <code>subgroup2</code>, <code>subgroup3</code>) aesthetics. Several other standard 'ggplot2'
aesthetics are supported (see Aesthetics).
</p>
<p><code>geom_treemap_subgroup_text()</code> geoms use the 'ggfittext' package to fit text
to the subgroup. All text drawing options available in
<code>ggfittext::geom_fit_text()</code> (growing, reflowing, etc.) are also available
here. For full details on how these options work, see the documentation for
<code>ggfittext::geom_fit_text()</code>.
</p>
<p>The <code>layout</code> argument is used to set the treemap layout algorithm. All
'treemapify' geoms added to a plot should have the same value for <code>layout</code>
and <code>start</code>, or they will not share a common layout (see <code>geom_treemap()</code>
for details on the layout algorithms).
</p>


<h3>Aesthetics</h3>


<ul>
<li><p> area (required)
</p>
</li>
<li><p> subgroup, subgroup2 or subgroup3 (required; the value of this variable
will be the text label)
</p>
</li>
<li><p> colour
</p>
</li>
<li><p> size
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> family
</p>
</li>
<li><p> fontface
</p>
</li>
<li><p> angle
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+geom_treemap">geom_treemap()</a></code>, <code><a href="#topic+geom_treemap_subgroup_border">geom_treemap_subgroup_border()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ggplot2::ggplot(G20, ggplot2::aes(area = gdp_mil_usd, fill = hdi,
                                  subgroup = hemisphere, subgroup2 = region)) +
  geom_treemap() +
  geom_treemap_subgroup_text(place = "centre", grow = TRUE, alpha = 0.5) +
  geom_treemap_subgroup2_text()

</code></pre>

<hr>
<h2 id='geom_treemap_text'>A 'ggplot2' geom to add text labels to treemap tiles.</h2><span id='topic+geom_treemap_text'></span>

<h3>Description</h3>

<p><code>geom_treemap_text()</code> can be used to add a text label to each tile in a
treemap created with <code>geom_treemap()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_treemap_text(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE,
  padding.x = grid::unit(1, "mm"),
  padding.y = grid::unit(1, "mm"),
  place = "topleft",
  min.size = 4,
  grow = FALSE,
  reflow = FALSE,
  fixed = NULL,
  layout = "squarified",
  start = "bottomleft",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_treemap_text_+3A_mapping">mapping</code>, <code id="geom_treemap_text_+3A_data">data</code>, <code id="geom_treemap_text_+3A_stat">stat</code>, <code id="geom_treemap_text_+3A_position">position</code>, <code id="geom_treemap_text_+3A_na.rm">na.rm</code>, <code id="geom_treemap_text_+3A_show.legend">show.legend</code>, <code id="geom_treemap_text_+3A_inherit.aes">inherit.aes</code>, <code id="geom_treemap_text_+3A_...">...</code></td>
<td>
<p>Standard
geom arguments as for <code>ggplot2::geom_text()</code>.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_padding.x">padding.x</code>, <code id="geom_treemap_text_+3A_padding.y">padding.y</code></td>
<td>
<p><code>grid::unit()</code> object, giving horizontal or
vertical padding between text and edge of tile. Defaults to 1 mm.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_place">place</code></td>
<td>
<p>Where inside the box to place the text. Default is 'bottom';
other options are 'topleft', 'top', 'topright', etc.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_min.size">min.size</code></td>
<td>
<p>Minimum font size, in points. If provided, text that would
need to be shrunk below this size to fit the box will not be drawn. Defaults
to 4 pt.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_grow">grow</code></td>
<td>
<p>If <code>TRUE</code>, text will be grown as well as shrunk to fill the box.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_reflow">reflow</code></td>
<td>
<p>If <code>TRUE</code>, text will be reflowed (wrapped) to better fit the
box.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_fixed">fixed</code></td>
<td>
<p>Deprecated. Use <code>layout = "fixed"</code> instead. Will be removed in
later versions.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_layout">layout</code></td>
<td>
<p>The layout algorithm, one of either 'squarified' (the
default), 'scol', 'srow' or 'fixed'. See Details for full details on the
different layout algorithms.</p>
</td></tr>
<tr><td><code id="geom_treemap_text_+3A_start">start</code></td>
<td>
<p>The corner in which to start placing the tiles. One of
'bottomleft' (the default), 'topleft', 'topright' or 'bottomright'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>geom_treemap_text()</code> requires <code>area</code> and <code>label</code> aesthetics. Several other
standard 'ggplot2' aesthetics are supported (see Aesthetics).
</p>
<p><code>geom_treemap_text()</code> uses the 'ggfittext' package to fit text to tiles. All
text drawing options available in <code>ggfittext::geom_fit_text()</code> (growing,
reflowing, etc.) are also available here. For full details on how these
options work, see the documentation for <code>ggfittext::geom_fit_text()</code>.
</p>
<p>The <code>layout</code> argument is used to set the treemap layout algorithm. All
'treemapify' geoms added to a plot should have the same value for <code>layout</code>
and <code>start</code>, or they will not share a common layout (see <code>geom_treemap()</code>
for details on the layout algorithms).
</p>


<h3>Aesthetics</h3>


<ul>
<li><p> area (required)
</p>
</li>
<li><p> label (required)
</p>
</li>
<li><p> subgroup, subgroup2 or subgroup3
</p>
</li>
<li><p> colour
</p>
</li>
<li><p> size
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> family
</p>
</li>
<li><p> fontface
</p>
</li>
<li><p> angle
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+geom_treemap">geom_treemap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ggplot2::ggplot(G20, ggplot2::aes(area = gdp_mil_usd,
                                  fill = econ_classification,
                                  label = country)) +
  geom_treemap() +
  geom_treemap_text()

</code></pre>

<hr>
<h2 id='treemapify'>Generate a treemap layout.</h2><span id='topic+treemapify'></span><span id='topic+treemapify_fixed'></span>

<h3>Description</h3>

<p><code>treemapify()</code> returns a data frame of tile coordinates for a treemap layout
of a set of observations. This is only useful if you wish to draw the
treemap without the help of the <code>ggplot2</code> geoms, or for some edge cases such
as creating interactive treemaps with 'R Shiny' (see e.g.
<a href="https://stackoverflow.com/q/45021775">https://stackoverflow.com/q/45021775</a>). The easiest way to draw a treemap
with the 'treemapify' package is to use the provided 'ggplot2' geoms, such
as <code>geom_treemap()</code>.
</p>
<p><code>data</code> must be a tidy data frame, i.e. each row must represent a single
observation and each column a single variable. You must provide the name of
the variable that will be represented by the area of each treemap tile with
<code>area</code>. Optionally, you can also select up to three variables (with
<code>subgroup</code>, <code>subgroup2</code> and <code>subgroup3</code>) to generate a layout in which the
tiles are clustered into subgroups nested up to three levels deep.
</p>
<p>Four layout algorithms are provided. With the default 'squarified' algorithm
(<code>layout = "squarified"</code>), the priority is ensuring the tiles have an
aesthetically pleasing aspect ratio; that is, they are not too narrow or too
short. In this algorithm, tile placement proceeds from one corner, placing
the tiles in either rows or columns until all the tiles are placed. See
Bruls et al. (1999) for the full algorithm.
</p>
<p>There are two variants on the 'squarified' algorithm. 'scol' forces tile
placement to begin with a column, regardless of the effect on aspect ratio;
'srow' forces tile placement to been with a row. This will also apply to all
subgroups. After the first row or column, the remaining tiles will be placed
so as to optimise aspect ratios, as with the default algorithm.
</p>
<p>With the 'fixed' layout algorithm (<code>layout = "fixed"</code>), the plot area is
divided into vertical columns, which are each filled  with an equal number
of tiles beginning at the starting corner. Unlike the 'squarified'
algorithm, with the 'fixed' algorithm the relative positions of the tiles
are fixed by their order in the input data frame. This can result in
aesthetically unpleasing layouts, but it allows side-by-side comparisons or
animations to be created.
</p>
<p><code>treemapify_fixed</code> is an alias for <code>treemapify(layout = "fixed")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>treemapify(
  data,
  area,
  subgroup,
  subgroup2,
  subgroup3,
  layout = "squarified",
  start = "bottomleft",
  fill = NULL,
  label = NULL,
  group = NULL,
  fixed = NULL,
  xlim = c(0, 1),
  ylim = c(0, 1)
)

treemapify_fixed(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="treemapify_+3A_data">data</code></td>
<td>
<p>A tidy data frame.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_area">area</code></td>
<td>
<p>Name of the variable (a column in <code>data</code>) to be mapped to the
area of treemap tiles.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_subgroup">subgroup</code>, <code id="treemapify_+3A_subgroup2">subgroup2</code>, <code id="treemapify_+3A_subgroup3">subgroup3</code></td>
<td>
<p>Optionally, names of variables (columns
in <code>data</code>) by which the tiles should be grouped, at up to three nested
levels.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_layout">layout</code></td>
<td>
<p>The layout algorithm, one of either 'squarified' (the
default), 'scol', 'srow' or 'fixed'. See Details for full details on the
different layout algorithms.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_start">start</code></td>
<td>
<p>The corner in which to start placing the tiles. One of
'bottomleft' (the default), 'topleft', 'topright' or 'bottomright'.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_label">label</code>, <code id="treemapify_+3A_fill">fill</code></td>
<td>
<p>Deprecated. Will be removed in later versions.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_group">group</code></td>
<td>
<p>Deprecated. Use <code>subgroup</code> instead. Will be removed in later
versions.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_fixed">fixed</code></td>
<td>
<p>Deprecated. Use <code>layout = "fixed"</code> instead. Will be removed in
later versions.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_xlim">xlim</code>, <code id="treemapify_+3A_ylim">ylim</code></td>
<td>
<p>The boundaries of the treemap in the x and y dimensions.
Must be a numeric vector of length two; both default to <code>c(0, 1)</code>.</p>
</td></tr>
<tr><td><code id="treemapify_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code>treemapify()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>treemapify</code> is for generating a data frame of raw treemap coordinates. If
you want to draw a treemap with 'ggplot2', use <code>geom_treemap()</code> instead.
</p>


<h3>References</h3>

<p>Bruls, M., Huizing, K., &amp; van Wijk, J. (1999). Squarified Treemaps (pp.
33-42).Proceedings of the Joint Eurographics and IEEE TCVG Symposium on
Visualization. <a href="https://www.win.tue.nl/~vanwijk/stm.pdf">https://www.win.tue.nl/~vanwijk/stm.pdf</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_treemap">geom_treemap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
treemapify(G20, area = "gdp_mil_usd")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

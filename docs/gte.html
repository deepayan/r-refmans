<!DOCTYPE html><html lang="en"><head><title>Help for package gte</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gte}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gte-package'><p>Generalized Turnbull's Estimator</p></a></li>
<li><a href='#gte'><p>Generalized Turnbull's Estimator</p></a></li>
<li><a href='#simul'><p>Simulated Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generalized Turnbull's Estimator</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2-3</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-13</td>
</tr>
<tr>
<td>Author:</td>
<td>Mohammad Hossein Dehghan, Thierry Duchesne and Sophie Baillargeon</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thierry Duchesne &lt;thierry.duchesne@mat.ulaval.ca&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Generalized Turnbull's estimator proposed by Dehghan and Duchesne
    (2011).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>survival</td>
</tr>
<tr>
<td>Suggests:</td>
<td>interval</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-13 18:26:24 UTC; Sophie</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-16 14:52:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='gte-package'>Generalized Turnbull's Estimator</h2><span id='topic+gte-package'></span>

<h3>Description</h3>

<p>The <code>gte</code> function computes the generalized Turnbull's estimator proposed by Dehghan and Duchesne (2011).
It is a nonparametric estimator of a conditional survival function given a vector of continuous covariates 
that can handle interval-censored lifetimes.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;"> 
Package: </td><td style="text-align: left;"> gte</td>
</tr>
<tr>
 <td style="text-align: left;"> 
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;"> 
Version: </td><td style="text-align: left;"> 1.2-3</td>
</tr>
<tr>
 <td style="text-align: left;"> 
Date: </td><td style="text-align: left;"> 2022-04-13</td>
</tr>
<tr>
 <td style="text-align: left;"> 
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;"> 
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Mohammad Hossein Dehghan, Thierry Duchesne and Sophie Baillargeon
</p>
<p>Maintainer: Thierry Duchesne &lt;thierry.duchesne@mat.ulaval.ca&gt;
</p>


<h3>References</h3>

<p>Dehghan, M. H. and Duchesne, T. (2011). A generalization of Turnbull's estimator for 
nonparametric estimation of the conditional survival function with interval-censored data.
<em>Lifetime Data Analysis</em>, <b>17</b>, 234-255.
</p>

<hr>
<h2 id='gte'>Generalized Turnbull's Estimator</h2><span id='topic+gte'></span><span id='topic+print.gte'></span><span id='topic+plot.gte'></span>

<h3>Description</h3>

<p>The <code>gte</code> function computes the generalized Turnbull's Estimator (GTE) proposed by Dehghan and Duchesne (2011).
It is a nonparametric estimator of a conditional survival function given a vector of continuous covariates 
that can handle interval-censored lifetimes.<br />
The <code>print</code> method for objects obtained from <code>gte</code> only prints the output value <code>surv.summary</code>.<br />
The <code>plot</code> method for objects obtained from <code>gte</code> plots the estimate of the conditional survival
function, by default overlaying curves if more than one estimate is present and shading the innermost interval,
in which the GTE is indeterminate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gte(formula, data, z, h = NULL, itermax = 1e+05, tole = 5e-04)

## S3 method for class 'gte'
print(x, ...)

## S3 method for class 'gte'
plot(
  x,
  overlay = TRUE,
  shade = TRUE,
  xlab = "time",
  ylab = "survival",
  xleg = "bottomleft",
  yleg = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gte_+3A_formula">formula</code></td>
<td>
<p>A formula object with the response on the left of a ~ operator, and the covariates on the right. 
The response must be a survival object as returned by the <code>Surv</code> function from the package 
<span class="pkg">survival</span> (see <b>Details</b>).</p>
</td></tr>
<tr><td><code id="gte_+3A_data">data</code></td>
<td>
<p>An optional data frame, list or environment
containing the variables in the model formula. If not found in data, the variables are taken from 
<code>environment(formula)</code>, typically the environment from which <code>gte</code> is called.</p>
</td></tr>
<tr><td><code id="gte_+3A_z">z</code></td>
<td>
<p>A matrix: each row contains the values of a covariate vector at which an estimate of the 
conditional survival function is requested.
If there is only one covariate, it can be a vector (possibly of length 1).</p>
</td></tr>
<tr><td><code id="gte_+3A_h">h</code></td>
<td>
<p>A vector: the values of the bandwidth parameter <code class="reqn">h</code> for each covariate
(default = equation 7 of Dehghan and Duchesne (2011)).</p>
</td></tr>
<tr><td><code id="gte_+3A_itermax">itermax</code></td>
<td>
<p>maximal number of iterations for the algorithm (default=100000).</p>
</td></tr>
<tr><td><code id="gte_+3A_tole">tole</code></td>
<td>
<p>maximal distance between successive iterations tolerated
before declaring convergence (default=0.0005).</p>
</td></tr>
<tr><td><code id="gte_+3A_x">x</code></td>
<td>
<p>An object, produced by the <code>gte</code> function, to print or to plot.</p>
</td></tr>
<tr><td><code id="gte_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to <code>print.default</code> or <code>plot.default</code>.</p>
</td></tr>
<tr><td><code id="gte_+3A_overlay">overlay</code></td>
<td>
<p>A logical: Should the curves be overlayed when there is more than one estimate 
of the conditional survival function in the <code>gte</code> object <code>x</code>? (default=<code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="gte_+3A_shade">shade</code></td>
<td>
<p>A logical: Should the rectangles of indeterminate NPMLE (innermost interval) 
be shaded? (default=<code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="gte_+3A_xlab">xlab</code></td>
<td>
<p>A label for the x-axis, by defaut <code>xlab = "time"</code>.</p>
</td></tr>
<tr><td><code id="gte_+3A_ylab">ylab</code></td>
<td>
<p>A label for the y-axis, by defaut <code>ylab = "survival"</code>.</p>
</td></tr>
<tr><td><code id="gte_+3A_xleg">xleg</code></td>
<td>
<p>x location for legend, &quot;bottomleft&quot; by default (see <code><a href="graphics.html#topic+legend">legend</a></code>).</p>
</td></tr>
<tr><td><code id="gte_+3A_yleg">yleg</code></td>
<td>
<p>y location for legend, NULL by default (see <code><a href="graphics.html#topic+legend">legend</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For interval-censored data, the <code><a href="survival.html#topic+Surv">Surv</a></code> function should be called with the argument 
<code>type="interval"</code> or <code>type="interval2"</code>. If <code>type="interval"</code>, the <code>event</code> argument
is mandatory. Therefore, in addition to the left and right endpoints of the censoring interval (called, respectively,
<code>left</code> and right for illustrative purpose), one would need a third variable (<code>status</code>) taking the value 0 
for right censored data, 1 for an event at exact time, 2 for left censored data and 3 for interval censored data. 
The <code><a href="survival.html#topic+Surv">Surv</a></code> function would be called as follows:<br />
<code>Surv(time=left, time2=right, event=status, type="interval")</code>.
</p>
<p>If <code>type="interval2"</code>, the <code>event</code> argument cannot be given. 
The value of <code>event</code> is derived from the <code>time</code> and <code>time2</code> argument as follows:<br /> 
if <code>time</code> takes the value <code>NA</code>, <code>event=2</code> (left censored data);<br /> 
if <code>time2</code> takes the value <code>NA</code>, <code>event=0</code> (right censored data);<br />
if <code>time=time2</code>, <code>event=1</code> (exact time);<br /> 
otherwise, <code>event=3</code> (interval censored data).<br />
See the help page of the <code><a href="survival.html#topic+Surv">Surv</a></code> function for more details.<br />
</p>
<p>In the <code>gte</code> function, the data must be given through the <code><a href="survival.html#topic+Surv">Surv</a></code> function
but it is internally transformed in two vectors : <code>L</code> and <code>R</code> for the left and right endpoints of 
the censoring interval, respectively.<br />     
If <code>event=0</code> (right censored data), then <code>L=time</code> and <code>R=Inf</code>;<br />     
if <code>event=1</code> (exact time), then <code>L=time</code> and <code>R=time</code>;<br />     
if <code>event=2</code> (left censored data), then <code>L=0</code> and <code>R=time</code>;<br />     
and if <code>event=3</code> (interval censored data), then <code>L=time</code> and <code>R=time2</code>;<br />
If one has vectors <code>L</code> and <code>R</code> respecting this convention, they can be given directly to <code>gte</code>
by calling <code><a href="survival.html#topic+Surv">Surv</a></code> as follows:<br />
<code>Surv(L, R, type="interval2")</code>.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>time</code></td>
<td>
<p> A vector: the ordered distinct values of the left and right endpoints of the censoring 
interval (omitting the smallest value, but always including time 0).</p>
</td></tr>
<tr><td><code>surv</code></td>
<td>
<p> A matrix: the estimates of the conditional survival function at time <code>time</code>. 
The <code class="reqn">i</code>th column refers to the <code class="reqn">i</code>th value of the covariate vector given 
in <code>z</code> (row <code class="reqn">i</code> of <code>z</code>). </p>
</td></tr>
<tr><td><code>intmap</code></td>
<td>
<p>A matrix : The intervals of the potential steps in the conditional survival function,
called innermost interval, over which the GTE is indeterminate. The left endpoints of
the intervals are in the first row, and the rigth endpoints in the second. The object
attribute LRin denotes whether to include each of the endpoints or not. This matrix
is computed with an internal function derived from function <code>Aintmap</code> of the
<span class="pkg">interval</span> package.</p>
</td></tr>
<tr><td><code>surv.summary</code></td>
<td>
<p>A summary of <code>surv</code>: the estimates of the conditional survival function 
only for the intervals of the potential steps in the function (innermost 
intervals). The row names describe the intervals, which are detailed in 
<code>intmap</code>. </p>
</td></tr>
<tr><td><code>Call</code></td>
<td>
<p> The function call.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mohammad Hossein Dehghan, Thierry Duchesne and Sophie Baillargeon
</p>


<h3>References</h3>

<p>Dehghan, M. H. and Duchesne, T. (2011). A generalization of Turnbull's estimator for 
nonparametric estimation of the conditional survival function with interval-censored data.
<em>Lifetime Data Analysis</em>, <b>17</b>, 234-255.
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+Surv">Surv</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Calling Surv() with type="interval2"
Fit &lt;- gte(Surv(L, R, type="interval2") ~ Z, data=simul, z=c(10, 20))
Fit

## Calling Surv() with type="interval"
event &lt;- ifelse(is.na(simul$R), 0,
                ifelse(is.na(simul$L), 2,
                       ifelse(simul$R==simul$L, 1, 3)))
time &lt;- ifelse(event==2, simul$R, simul$L)
time2 &lt;- ifelse(event==3, simul$R, NA)
simul_event &lt;- cbind(simul, time, time2, event)

Fit_event &lt;- gte(Surv(time, time2, event, type="interval") ~ Z, data=simul_event, z=c(10, 20))
Fit_event

# The results are the same
all.equal(Fit_event$time, Fit$time)
all.equal(Fit_event$surv, Fit$surv)

## Plotting the results
plot(Fit, xleg="topright")

</code></pre>

<hr>
<h2 id='simul'>Simulated Data</h2><span id='topic+simul'></span>

<h3>Description</h3>

<p>Simulated Interval-censored data
</p>


<h3>Format</h3>

<p>A data frame with 100 observations on the following 3 variables.
</p>
 
<dl>
<dt>L</dt><dd><p>the left endpoints of the censoring interval</p>
</dd>
<dt>R</dt><dd><p>the right endpoints of the censoring interval</p>
</dd> 
<dt>Z</dt><dd><p>a continuous covariate</p>
</dd> 
</dl>



<h3>Details</h3>

<p>The value <code>R = NA</code> means that the observation is right censored (occurs 2 times). 
If <code>L = NA</code>, then the observation is left censored (occurs 26 times).
An observation with <code>R = L</code> means that the time of occurence of the event
is known exactly (occurs 3 times).
</p>


<h3>References</h3>

<p>Dehghan, M. H. and Duchesne, T. (2011). A generalization of Turnbull's estimator for 
nonparametric estimation of the conditional survival function with interval-censored data.
<em>Lifetime Data Analysis</em>, <b>17</b>, 234-255.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Fit &lt;- gte(Surv(L, R, type="interval2") ~ Z, data=simul, z=15)
plot(Fit)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package randomForestVIP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {randomForestVIP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#boston'><p>Housing Values in Suburbs of Boston</p></a></li>
<li><a href='#ggvip'><p>Variable Importance GGPlot</p></a></li>
<li><a href='#lichen'><p>Lichen data from the Current Vegetation Survey</p></a></li>
<li><a href='#mtry_compare'><p>Mtry Tune via VIPs</p></a></li>
<li><a href='#partial_cor'><p>Partial Correlations</p></a></li>
<li><a href='#robust_vifs'><p>Non-linear Variance Inflation Factors</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tune Random Forests Based on Variable Importance &amp; Plot Results</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for assessing variable relations and associations 
    prior to modeling with a Random Forest algorithm (although these are 
    relevant for any predictive model).
    Metrics such as partial correlations and variance inflation factors
    are tabulated as well as plotted for the user. A function is available
    for tuning the main Random Forest hyper-parameter based on model performance 
    and variable importance metrics. This grid-search technique provides
    tables and plots showing the effect of the main hyper-parameter on each 
    of the assessment metrics. It also returns each of the evaluated models 
    to the user. The package also provides superior variable importance plots 
    for individual models. All of the plots are developed so that the 
    user has the ability to edit and improve further upon the 
    plots. Derivations and methodology are described in Bladen (2022) 
    <a href="https://digitalcommons.usu.edu/etd/8587/">https://digitalcommons.usu.edu/etd/8587/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/KelvynBladen/randomForestVIP">https://github.com/KelvynBladen/randomForestVIP</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>car, dplyr, ggplot2, gridExtra, minerva, randomForest, stats,
tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>EZtune, e1071, knitr, MASS, rmarkdown, rpart, testthat (&ge;
3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-18 16:31:50 UTC; kelvy</td>
</tr>
<tr>
<td>Author:</td>
<td>Kelvyn Bladen [aut, cre],
  D. Richard Cutler [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kelvyn Bladen &lt;kelvyn.bladen@usu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-19 11:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='boston'>Housing Values in Suburbs of Boston</h2><span id='topic+boston'></span>

<h3>Description</h3>

<p>The Boston data frame has 506 rows and 14 columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boston
</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>crim</dt><dd><p>per capita crime rate by town.</p>
</dd>
<dt>zn</dt><dd><p>proportion of residential land zoned for lots over 25,000 sq.ft.</p>
</dd>
<dt>indus</dt><dd><p>proportion of non-retail business acres per town.</p>
</dd>
<dt>chas</dt><dd><p>Charles River dummy variable (= 1 if tract bounds river;
0 otherwise).</p>
</dd>
<dt>nox</dt><dd><p>nitrogen oxides concentration (parts per 10 million).</p>
</dd>
<dt>rm</dt><dd><p>average number of rooms per dwelling.</p>
</dd>
<dt>age</dt><dd><p>proportion of owner-occupied units built prior to 1940.</p>
</dd>
<dt>dis</dt><dd><p>weighted mean of distances to five Boston employment centres.</p>
</dd>
<dt>rad</dt><dd><p>index of accessibility to radial highways.</p>
</dd>
<dt>tax</dt><dd><p>full-value property-tax rate per $10,000.</p>
</dd>
<dt>ptratio</dt><dd><p>pupil-teacher ratio by town.</p>
</dd>
<dt>black</dt><dd><p><code class="reqn">1000(Bk-0.63)^2</code> where <code class="reqn">Bk</code> is the
proportion of blacks by town.</p>
</dd>
<dt>lstat</dt><dd><p>lower status of the population (percent).</p>
</dd>
<dt>medv</dt><dd><p>median value of owner-occupied homes in $1000s.</p>
</dd>
</dl>



<h3>Source</h3>

<p>https://www.stats.ox.ac.uk/pub/MASS4/
</p>

<hr>
<h2 id='ggvip'>Variable Importance GGPlot</h2><span id='topic+ggvip'></span>

<h3>Description</h3>

<p>A ggplot of variable importance as measured by a Random Forest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggvip(x, scale = FALSE, sqrt = TRUE, type = "both", num_var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggvip_+3A_x">x</code></td>
<td>
<p>An object of class randomForest.</p>
</td></tr>
<tr><td><code id="ggvip_+3A_scale">scale</code></td>
<td>
<p>For permutation based measures such as MSE or Accuracy, should
the measures be divided by their &quot;standard errors&quot;? Default is False.</p>
</td></tr>
<tr><td><code id="ggvip_+3A_sqrt">sqrt</code></td>
<td>
<p>Boolean value indicating whether importance metrics should be
adjusted via a square root transformation. Default is True.</p>
</td></tr>
<tr><td><code id="ggvip_+3A_type">type</code></td>
<td>
<p>either 1 or 2, specifying the type of importance measure
(1=mean decrease in accuracy or 
node impurity or mean decrease in gini). Default is &quot;both&quot;.</p>
</td></tr>
<tr><td><code id="ggvip_+3A_num_var">num_var</code></td>
<td>
<p>Optional argument for reducing the number of variables to the
top 'num_var'. Must be an integer between 1 and the total number of
predictor variables in the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot dotchart showing the importance of the variables that were
plotted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rf &lt;- randomForest::randomForest(factor(Species) ~ .,
  importance = TRUE,
  data = iris
)
ggvip(rf, scale = FALSE, sqrt = TRUE, type = "both")
</code></pre>

<hr>
<h2 id='lichen'>Lichen data from the Current Vegetation Survey</h2><span id='topic+lichen'></span>

<h3>Description</h3>

<p>Data were collected between 1993 and 1999 as part of the Lichen Air
Quality surveys on public lands in Oregon and southern Washington.
Observations were obtained from 1-acre (0.4 ha) plots at Current
Vegetation Survey (CVS) sites. Indicator variables denote the presences
and absences of 7 lichen species. Data for each sampled plot include
the topographic variables elevation, aspect, and slope; bioclimatic
predictors including maximum, minimum, daily, and average temperatures,
relative humidity precipitation, evapotranspiration, and vapor
pressure; and vegetation variables including the average age of
the dominant conifer and percent conifer cover. The data in lichenTest
were collected from half-acre plots at CVS sites in the same
geographical region and contains many of the same variables,
including presences and absences for the 7 lichen species. As such,
it is a good test dataset for predictive methods applied to the Lichen
Air Quality data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lichen
</code></pre>


<h3>Format</h3>

<p>A data frame with 840 observations and 40 variables. One variable is
a location identifier, 7 (coded as 0 and 1) identify the presence or
absence of a type of lichen species, and 32 are characteristics of
the survey site where the data were collected.
</p>
<p>There were 12 monthly values in the original data for each of the
bioclimatic predictors. Principal components analyses suggested
that for each of these predictors 2 principal components explained
the vast majority (95.0%-99.5%) of the total variability. Based on
these analyses, indices were created for each set of bioclimatic
predictors. The variables with the suffix Ave in the variable name
are the average of 12 monthly variables. The variables with the
suffix Diff are contrasts between the sum of the April-September
monthly values and the sum of the October-December and January-March
monthly values, divided by 12. Roughly speaking, these are
summer-to-winter contrasts.
</p>
<p>The variables are summarized as follows:
</p>

<dl>
<dt>LobaOreg</dt><dd><p>Lobaria oregana (Absent = 0, Present = 1)</p>
</dd>
<dt>EvapoTransAve</dt><dd><p>Average monthly potential evapotranspiration in mm</p>
</dd>
<dt>EvapoTransDiff</dt><dd><p>Summer-to-winter difference in monthly potential
evapotranspiration in mm</p>
</dd>
<dt>MoistIndexAve</dt><dd><p>Average monthly moisture index in cm</p>
</dd>
<dt>MoistIndexDiff</dt><dd><p>Summer-to-winter difference in monthly monthly
moisture index in cm</p>
</dd>
<dt>PrecipAve</dt><dd><p>Average monthly precipitation in cm</p>
</dd>
<dt>PrecipDiff</dt><dd><p>Summer-to-winter difference in monthly precipitation
in cm</p>
</dd>
<dt>RelHumidAve</dt><dd><p>Average monthly relative humidity in percent</p>
</dd>
<dt>RelHumidDiff</dt><dd><p>Summer-to-winter difference in monthly relative
humidity in percent</p>
</dd>
<dt>PotGlobRadAve</dt><dd><p>Average monthly potential global radiation in kJ</p>
</dd>
<dt>PotGlobRadDiff</dt><dd><p>Summer-to-winter difference in monthly potential
global radiation in kJ</p>
</dd>
<dt>AveTempAve</dt><dd><p>Average monthly average temperature in degrees Celsius</p>
</dd>
<dt>AveTempDiff</dt><dd><p>Summer-to-winter difference in monthly average
temperature in degrees Celsius</p>
</dd>
<dt>MaxTempAve</dt><dd><p>Average monthly maximum temperature in degrees Celsius</p>
</dd>
<dt>MaxTempDiff</dt><dd><p>Summer-to-winter difference in monthly maximum
temperature in degrees Celsius</p>
</dd>
<dt>MinTempAve</dt><dd><p>Average monthly minimum temperature in degrees Celsius</p>
</dd>
<dt>MinTempDiff</dt><dd><p>Summer-to-winter difference in monthly minimum
temperature in degrees Celsius</p>
</dd>
<dt>DayTempAve</dt><dd><p>Mean average daytime temperature in degrees Celsius</p>
</dd>
<dt>DayTempDiff</dt><dd><p>Summer-to-winter difference in average daytime
temperature in degrees Celsius</p>
</dd>
<dt>AmbVapPressAve</dt><dd><p>Average monthly average ambient vapor pressure in Pa</p>
</dd>
<dt>AmbVapPressDiff</dt><dd><p>Summer-to-winter difference in monthly average
ambient vapor pressure in Pa</p>
</dd>
<dt>SatVapPressAve</dt><dd><p>Average monthly average saturated vapor pressure
in Pa</p>
</dd>
<dt>SatVapPressDiff</dt><dd><p>Summer-to-winter difference in monthly average
saturated vapor pressure in Pa</p>
</dd>
<dt>Aspect</dt><dd><p>Aspect in degrees</p>
</dd>
<dt>TransAspect</dt><dd><p>Transformed Aspect: TransAspect=(1-cos(Aspect))/2</p>
</dd>
<dt>Elevation</dt><dd><p>Elevation in meters</p>
</dd>
<dt>Slope</dt><dd><p>Percent slope</p>
</dd>
<dt>ReserveStatus</dt><dd><p>Reserve Status (Reserve, Matrix)</p>
</dd>
<dt>StandAgeClass</dt><dd><p>Stand Age Class (&lt; 80 years, 80+ years)</p>
</dd>
<dt>ACONIF</dt><dd><p>Average age of the dominant conifer in years</p>
</dd>
<dt>PctVegCov</dt><dd><p>Percent vegetation cover</p>
</dd>
<dt>PctConifCov</dt><dd><p>Percent conifer cover</p>
</dd>
<dt>PctBroadLeafCov</dt><dd><p>Percent broadleaf cover</p>
</dd>
<dt>TreeBiomass</dt><dd><p>Live tree (&gt; 1inch DBH) biomass, above ground,
dry weight</p>
</dd>
</dl>



<h3>Source</h3>

<p>Cutler, D. Richard., Thomas C. Edwards Jr., Karen H. Beard, Adele Cutler,
Kyle T. Hess, Jacob Gibson, and Joshua J. Lawler. 2007. Random Forests
for Classification in Ecology. Ecology 88(11): 2783-2792.
</p>
<p>https://CRAN.R-project.org/package=EZtune/
</p>

<hr>
<h2 id='mtry_compare'>Mtry Tune via VIPs</h2><span id='topic+mtry_compare'></span>

<h3>Description</h3>

<p>A list of data.frames and useful plots for user evaluations of
the randomForest hyperparameter mtry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mtry_compare(
  formula,
  data = NULL,
  scale = FALSE,
  sqrt = TRUE,
  num_var,
  mvec,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mtry_compare_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;<a href="stats.html#topic+formula">formula</a>&quot; (or one that can be
coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="mtry_compare_+3A_data">data</code></td>
<td>
<p>an optional data frame containing the variables in the model.
By default the variables are taken from the environment which randomForest
is called from.</p>
</td></tr>
<tr><td><code id="mtry_compare_+3A_scale">scale</code></td>
<td>
<p>For permutation based measures such as MSE or Accuracy, should
the measures be divided by their &quot;standard errors&quot;? Default is False.</p>
</td></tr>
<tr><td><code id="mtry_compare_+3A_sqrt">sqrt</code></td>
<td>
<p>Boolean value indicating whether importance metrics should be
adjusted via a square root transformation. Default is True.</p>
</td></tr>
<tr><td><code id="mtry_compare_+3A_num_var">num_var</code></td>
<td>
<p>Optional integer argument for reducing the number of
variables to the top 'num_var'. Should be an integer between 1 and the
total number of predictor variables in the model or it should be a
positive proportion of variables desired.</p>
</td></tr>
<tr><td><code id="mtry_compare_+3A_mvec">mvec</code></td>
<td>
<p>Optional vector argument for defining choices of mtry to have the
function consider. Should be a vector of integers between 1 and the total
number of predictor variables in the model. Or it can be a vector of
proportions (strictly less than 1) of the number of predictor variables.</p>
</td></tr>
<tr><td><code id="mtry_compare_+3A_...">...</code></td>
<td>
<p>Other parameters to pass to the randomForest function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data.frames, useful plots, and forest objects for user
evaluations of the randomForest hyperparameter mtry.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- mtry_compare(factor(Species) ~ ., data = iris, sqrt = TRUE)
m
</code></pre>

<hr>
<h2 id='partial_cor'>Partial Correlations</h2><span id='topic+partial_cor'></span>

<h3>Description</h3>

<p>A list of data.frames and useful plots for user evaluations of
correlations and partial correlations of predictors with a given response.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>partial_cor(formula, data = NULL, model = lm, num_var, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="partial_cor_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;<a href="stats.html#topic+formula">formula</a>&quot; (or one that can be
coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="partial_cor_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables in the model.
By default the variables are taken from the environment which the model
is called from.</p>
</td></tr>
<tr><td><code id="partial_cor_+3A_model">model</code></td>
<td>
<p>Model to use for extraction partial correlations. Possible
model choices are lm, rpart, randomForest, and svm. Default is lm.</p>
</td></tr>
<tr><td><code id="partial_cor_+3A_num_var">num_var</code></td>
<td>
<p>Optional integer argument for reducing the number of
variables to the top 'num_var'. Should be an integer between 1 and the
total number of predictor variables in the model or it should be a
positive proportion of variables desired.</p>
</td></tr>
<tr><td><code id="partial_cor_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to model as needed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data.frames and useful plots for user evaluations of
partial correlations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pcs &lt;- partial_cor(Petal.Length ~ ., data = iris[-5], model = lm)
pcs$plot_y_part_cors
</code></pre>

<hr>
<h2 id='robust_vifs'>Non-linear Variance Inflation Factors</h2><span id='topic+robust_vifs'></span>

<h3>Description</h3>

<p>A list of data.frames and useful plots for user evaluations of
the randomForest hyperparameter mtry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>robust_vifs(formula, data, model = randomForest, log10 = TRUE, num_var, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="robust_vifs_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;<a href="stats.html#topic+formula">formula</a>&quot; (or one that can be
coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="robust_vifs_+3A_data">data</code></td>
<td>
<p>an optional data frame containing the variables in the model.
By default the variables are taken from the environment which the model
is called from.</p>
</td></tr>
<tr><td><code id="robust_vifs_+3A_model">model</code></td>
<td>
<p>Model to use for extraction partial correlations. Possible
model choices are rpart.</p>
</td></tr>
<tr><td><code id="robust_vifs_+3A_log10">log10</code></td>
<td>
<p>Applies a log10 transformation to VIFs when True. Default is
True.</p>
</td></tr>
<tr><td><code id="robust_vifs_+3A_num_var">num_var</code></td>
<td>
<p>Optional integer argument for reducing the number of
variables to the top 'num_var'. Should be an integer between 1 and the
total number of predictor variables in the model or it should be a
positive proportion of variables desired.</p>
</td></tr>
<tr><td><code id="robust_vifs_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to models as needed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data.frames and useful plots for user evaluations of
VIFs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rv &lt;- robust_vifs(Petal.Length ~ ., data = iris[-5], model = lm)
rv
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

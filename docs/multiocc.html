<!DOCTYPE html><html lang="en"><head><title>Help for package multiocc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {multiocc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#multiocc-package'><p>multiocc: Fits Multivariate Spatio-Temporal Occupancy Model</p></a></li>
<li><a href='#coords'><p>Coords</p></a></li>
<li><a href='#detection'><p>Detection</p></a></li>
<li><a href='#GibbsSampler'><p>This function runs the MCMC.</p></a></li>
<li><a href='#MakeBasis'><p>This function constructs basis functions.  It assumes coordinates form a metric.</p></a></li>
<li><a href='#multioccbuild'><p>This function creates model.input for the GibbsSampler() function</p></a></li>
<li><a href='#occupancy'><p>Occupancy</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Fits Multivariate Spatio-Temporal Occupancy Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0), MASS, tmvtnorm, truncnorm, coda</td>
</tr>
<tr>
<td>Description:</td>
<td>Spatio-temporal multivariate occupancy models can handle multiple species in occupancy models.  This method for fitting such models is described in Hepler and Erhardt (2021) "A spatiotemporal model for multivariate occupancy data" <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/env.2657">https://onlinelibrary.wiley.com/doi/abs/10.1002/env.2657</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, fields, rmarkdown, MCMCpack, corrplot, testthat (&ge;
3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-30 15:46:33 UTC; erhardrj</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, interp</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Author:</td>
<td>Staci Hepler [aut, cre],
  Rob Erhardt [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Staci Hepler &lt;heplersa@wfu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-31 08:00:16 UTC</td>
</tr>
</table>
<hr>
<h2 id='multiocc-package'>multiocc: Fits Multivariate Spatio-Temporal Occupancy Model</h2><span id='topic+multiocc'></span><span id='topic+multiocc-package'></span>

<h3>Description</h3>

<p>Spatio-temporal multivariate occupancy models can handle multiple species in occupancy models. This method for fitting such models is described in Hepler and Erhardt (2021) &quot;A spatiotemporal model for multivariate occupancy data&quot; <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/env.2657">https://onlinelibrary.wiley.com/doi/abs/10.1002/env.2657</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Staci Hepler <a href="mailto:heplersa@wfu.edu">heplersa@wfu.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Rob Erhardt
</p>
</li></ul>


<hr>
<h2 id='coords'>Coords</h2><span id='topic+coords'></span>

<h3>Description</h3>

<p>site by x coordinate by y coordinate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(coords)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 267 rows and 3 columns.
</p>

<hr>
<h2 id='detection'>Detection</h2><span id='topic+detection'></span>

<h3>Description</h3>

<p>site by season by survey, for six species.
Also contains the standardized covariate duration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(detection)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 8010 rows and 10 columns.
</p>

<hr>
<h2 id='GibbsSampler'>This function runs the MCMC.</h2><span id='topic+GibbsSampler'></span>

<h3>Description</h3>

<p>This function runs the MCMC.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GibbsSampler(
  M.iter,
  M.burn = NULL,
  M.thin = NULL,
  model.input,
  q = NULL,
  sv = FALSE,
  every = 1000,
  WAIC = FALSE,
  param2keep = c("alpha", "beta", "gamma", "rho", "sigma", "psi")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GibbsSampler_+3A_m.iter">M.iter</code></td>
<td>
<p>The total number of iterations in MCMC</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_m.burn">M.burn</code></td>
<td>
<p>The length of the burn in</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_m.thin">M.thin</code></td>
<td>
<p>The number to thin the chain.  Thinning by 10 only stores every 10th run.</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_model.input">model.input</code></td>
<td>
<p>A list of output created by running the create.data.R function</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_q">q</code></td>
<td>
<p>Desired number of Moran's I basis functions in the restricted spatial regression model</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_sv">sv</code></td>
<td>
<p>A TRUE/FALSE on whether or not the MCMC output should be saved as 'MCMC.Rdata' and overwritten every 1000 iterations.  Defaults to false.</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_every">every</code></td>
<td>
<p>A number to determine how frequently MCMC output is saved along the chain.  Defaults to 1000.</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_waic">WAIC</code></td>
<td>
<p>A TRUE/FALSE on whether or not the MCMC should compute and save WAIC.  Defaults to false.</p>
</td></tr>
<tr><td><code id="GibbsSampler_+3A_param2keep">param2keep</code></td>
<td>
<p>A character vector that governs which outputs are saved.  Permissible entries are &quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;, &quot;rho&quot;, &quot;sigma&quot;, &quot;psi&quot;, &quot;z&quot;, &quot;p&quot;, and &quot;loglik&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with all standard MCMC output
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(detection)
head(occupancy)
head(coords)
DataNames = list("species"=colnames(detection)[4:9],
"detection"=c("duration"),"occupancy"=c("forest","elev"))
model.input = multioccbuild(detection, occupancy, coords, DataNames, threshold = 15000)
out = GibbsSampler(M.iter=3, M.burn=1, M.thin=1, model.input, q=10, sv=FALSE)
</code></pre>

<hr>
<h2 id='MakeBasis'>This function constructs basis functions.  It assumes coordinates form a metric.</h2><span id='topic+MakeBasis'></span>

<h3>Description</h3>

<p>This function constructs basis functions.  It assumes coordinates form a metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MakeBasis(q = q, model.input)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MakeBasis_+3A_q">q</code></td>
<td>
<p>The desired number of basis functions.  Must be an integer greater than or equal to 1.</p>
</td></tr>
<tr><td><code id="MakeBasis_+3A_model.input">model.input</code></td>
<td>
<p>A list of output created by running the create.data.R function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with
</p>

<ul>
<li><p> K spatial basis functions
</p>
</li>
<li><p> KtQK which is literally the matrix operation transpose(K) times Q times K, and is the variance of the multivariate #' random effect gamma.
</p>
</li></ul>


<hr>
<h2 id='multioccbuild'>This function creates model.input for the GibbsSampler() function</h2><span id='topic+multioccbuild'></span>

<h3>Description</h3>

<p>This function creates model.input for the GibbsSampler() function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multioccbuild(detection, occupancy, coords, DataNames, threshold)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multioccbuild_+3A_detection">detection</code></td>
<td>
<p>A data frame that has one row for every site X season X survey combination.
Must contain columns exactly named 'site', 'season', and 'survey' within season.
Must also contain all covariates in the detection process of the model, and binary indicators of detections for all species
to be modeled.  It is permissible for this data frame to have columns for species and/or variables
that will not be used in model.</p>
</td></tr>
<tr><td><code id="multioccbuild_+3A_occupancy">occupancy</code></td>
<td>
<p>A data frame that is one row for every site x season combination.
Must contain columns for the 'site' and 'season', and these must be named 'site' and 'season' exactly.
Also must contain all covariates to be used in the latent occupancy process of the model.
It is permissible for this data frame to have columns for species and/or variables
that will not be used in model.</p>
</td></tr>
<tr><td><code id="multioccbuild_+3A_coords">coords</code></td>
<td>
<p>A data frame that is one row for every site included in the study.
Contains columns for the 'site', and location coordinates x and y.
These are used to output the adjacency matrix A based on Euclidean distance threshold the user provides
as an input in the 'DataNames' argument.</p>
</td></tr>
<tr><td><code id="multioccbuild_+3A_datanames">DataNames</code></td>
<td>
<p>A list with elements &quot;species&quot;, &quot;detection&quot;, and &quot;occupancy&quot;
DataNames$species is a vector with the name of every species to be included in the model.  Must be a subset of names of columns of 'detection'.
DataNames$detection is a vector with the names of the detection covariates to be included in the model.  These names must be a subset of column names of 'detection'.
DataNames$occupancy is a vector with the names of the occupancy covariates to be included in the model.  These names must be a subset of column names of 'occupancy'.
</p>
<p>This list 'DataNames' is required because it:
(1) allows for modeling subsets of species and/or variables in varioys input data frames, which means the user does not need to modify either data frame for different runs of the model.
(2) this list also determines the order of covariates in X and W.</p>
</td></tr>
<tr><td><code id="multioccbuild_+3A_threshold">threshold</code></td>
<td>
<p>The distance which determines if two locations are neighbors
in the adjacency matrix or not.  This threshold is the Euclidean distance based on the x and y coordinates input in 'coords'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>model.input a list with
</p>

<ul>
<li><p> DataNames, the list with elements &quot;species&quot;, &quot;detection&quot;, and &quot;occupancy&quot;.
</p>
</li>
<li><p> X, the design matrix for occupancy.  Contains a column of 1s for the intercept, and one column for each variable in names$occupancy.
</p>
</li>
<li><p> W, design matrix for detection.  Contains a column of 1s for the intercept, and one column for each variable in names$detection.
</p>
</li>
<li><p> y, observed occupancy data.  Contains one column for each species listed in names$species.
</p>
</li>
<li><p> A, the adjacency matrix containing either a 0 or 1 indicating if two locations are neighbors based on their distances and the 'threshold' argument.
</p>
</li>
<li><p> detection.info, details for detection.
</p>
</li>
<li><p> occupancy.info, details for occupancy.
</p>
</li></ul>


<hr>
<h2 id='occupancy'>Occupancy</h2><span id='topic+occupancy'></span>

<h3>Description</h3>

<p>site by season with covariate forest (standardized percentage forest cover)
and elevation (standardized).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(occupancy)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 2670 rows and 4 columns.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-US"><head><title>Help for package stRoke</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stRoke}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#stRoke-package'><p>stRoke: Clinical Stroke Research</p></a></li>
<li><a href='#add_padding'><p>MOVED Add padding to string</p></a></li>
<li><a href='#age_calc'><p>Calculate age in years, months, or days</p></a></li>
<li><a href='#chunks_of_n'><p>MOVED Split to chunks of size n</p></a></li>
<li><a href='#ci_plot'><p>Confidence interval plot with point estimate</p></a></li>
<li><a href='#color_plot'><p>Plot color examples with contrasting text</p></a></li>
<li><a href='#contrast_text'><p>MOVED Contrast Text Color</p></a></li>
<li><a href='#cpr_check'><p>CPR check</p></a></li>
<li><a href='#cpr_dob'><p>Extracting date of birth from CPR</p></a></li>
<li><a href='#cpr_female'><p>Determine female sex from CPR</p></a></li>
<li><a href='#cprs'><p>Data frame of 200 cpr numbers</p></a></li>
<li><a href='#ds2dd'><p><em>DEPRECATED</em> Moved to REDCapCAST::ds2dd() | Data set to data dictionary function</p></a></li>
<li><a href='#files_filter'><p>MOVED Filter files in a folder</p></a></li>
<li><a href='#generic_stroke'><p>Generic stroke study outcome</p></a></li>
<li><a href='#index_plot'><p>Plot multidimensional cognitive test scores</p></a></li>
<li><a href='#label_select'><p>Helper function for labels in gtsummary</p></a></li>
<li><a href='#metadata_names'><p>Vector of REDCap metadata headers</p></a></li>
<li><a href='#mfi_domains'><p>MFI domain score calculator</p></a></li>
<li><a href='#multi_rev'><p>Reverses relevant MFI subscores</p></a></li>
<li><a href='#n_chunks'><p>Splits in n chunks</p></a></li>
<li><a href='#pase'><p>Data frame with sample data of PASE score questionnaire</p></a></li>
<li><a href='#pase_calc'><p>PASE score calculator</p></a></li>
<li><a href='#print.win_Prob'><p>Prints win_prob results</p></a></li>
<li><a href='#quantile_cut'><p>MOVED Easy function for splitting numeric variable in quantiles</p></a></li>
<li><a href='#score'><p>Data frame with sample data of cognitive testing score</p></a></li>
<li><a href='#source_lines'><p>Source Lines from a File</p></a></li>
<li><a href='#str_extract'><p>Extract string based on regex pattern</p></a></li>
<li><a href='#talos'><p>Data frame with sample of TALOS data</p></a></li>
<li><a href='#win_prob'><p>Calculates the probability of winning</p></a></li>
<li><a href='#write_ical'><p>MOVED Write ical object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Clinical Stroke Research</td>
</tr>
<tr>
<td>Version:</td>
<td>24.10.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of tools for clinical trial data management and 
    analysis in research and teaching.
    The package is mainly collected for personal use, but any use beyond that is encouraged.
    This package has migrated functions from 'agdamsbo/daDoctoR', and new functions has been added.
    Version follows months and year. See NEWS/Changelog for release notes.
    This package includes sampled data from the TALOS trial (Kraglund et al (2018) &lt;<a href="https://doi.org/10.1161%2FSTROKEAHA.117.020067">doi:10.1161/STROKEAHA.117.020067</a>&gt;).
    The win_prob() function is based on work by Zou et al (2022) &lt;<a href="https://doi.org/10.1161%2FSTROKEAHA.121.037744">doi:10.1161/STROKEAHA.121.037744</a>&gt;.
    The age_calc() function is based on work by Becker (2020) &lt;<a href="https://doi.org/10.18637%2Fjss.v093.i02">doi:10.18637/jss.v093.i02</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://agdamsbo.github.io/stRoke/">https://agdamsbo.github.io/stRoke/</a>,
<a href="https://github.com/agdamsbo/stRoke">https://github.com/agdamsbo/stRoke</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/agdamsbo/stRoke/issues">https://github.com/agdamsbo/stRoke/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, here, spelling, usethis, pak,
roxygen2, devtools</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>calendar, dplyr, ggplot2, grDevices, gtsummary, lubridate,
MASS, rankinPlot, stats, tidyr, utils, tibble, tidyselect</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-25 06:34:55 UTC; au301842</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Gammelgaard Damsbo
    <a href="https://orcid.org/0000-0002-7559-1154"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Gammelgaard Damsbo &lt;agdamsbo@clin.au.dk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-25 06:50:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='stRoke-package'>stRoke: Clinical Stroke Research</h2><span id='topic+stRoke'></span><span id='topic+stRoke-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>A collection of tools for clinical trial data management and analysis in research and teaching. The package is mainly collected for personal use, but any use beyond that is encouraged. This package has migrated functions from 'agdamsbo/daDoctoR', and new functions has been added. Version follows months and year. See NEWS/Changelog for release notes. This package includes sampled data from the TALOS trial (Kraglund et al (2018) <a href="https://doi.org/10.1161/STROKEAHA.117.020067">doi:10.1161/STROKEAHA.117.020067</a>). The win_prob() function is based on work by Zou et al (2022) <a href="https://doi.org/10.1161/STROKEAHA.121.037744">doi:10.1161/STROKEAHA.121.037744</a>. The age_calc() function is based on work by Becker (2020) <a href="https://doi.org/10.18637/jss.v093.i02">doi:10.18637/jss.v093.i02</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Andreas Gammelgaard Damsbo <a href="mailto:agdamsbo@clin.au.dk">agdamsbo@clin.au.dk</a> (<a href="https://orcid.org/0000-0002-7559-1154">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://agdamsbo.github.io/stRoke/">https://agdamsbo.github.io/stRoke/</a>
</p>
</li>
<li> <p><a href="https://github.com/agdamsbo/stRoke">https://github.com/agdamsbo/stRoke</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/agdamsbo/stRoke/issues">https://github.com/agdamsbo/stRoke/issues</a>
</p>
</li></ul>


<hr>
<h2 id='add_padding'>MOVED Add padding to string</h2><span id='topic+add_padding'></span>

<h3>Description</h3>

<p>MOVED Add padding to string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_padding(
  d,
  length = NULL,
  after = FALSE,
  pad = "0",
  lead = NULL,
  tail = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_padding_+3A_d">d</code></td>
<td>
<p>vector of strings or numbers</p>
</td></tr>
<tr><td><code id="add_padding_+3A_length">length</code></td>
<td>
<p>final string length</p>
</td></tr>
<tr><td><code id="add_padding_+3A_after">after</code></td>
<td>
<p>if padding should be added after as opposed to default before</p>
</td></tr>
<tr><td><code id="add_padding_+3A_pad">pad</code></td>
<td>
<p>padding string of length 1</p>
</td></tr>
<tr><td><code id="add_padding_+3A_lead">lead</code></td>
<td>
<p>leading string for all. Number or character vector. Cycled.</p>
</td></tr>
<tr><td><code id="add_padding_+3A_tail">tail</code></td>
<td>
<p>tailing string for all. Number or character vector. Cycled.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector or character strings of same length.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>add_padding(sample(1:200,5),tail="AA",lead=c(2,3,"e"))
</code></pre>

<hr>
<h2 id='age_calc'>Calculate age in years, months, or days</h2><span id='topic+age_calc'></span>

<h3>Description</h3>

<p>Calculate age in years, months, or days
</p>


<h3>Usage</h3>

<pre><code class='language-R'>age_calc(dob, enddate = Sys.Date(), units = "years", precise = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="age_calc_+3A_dob">dob</code></td>
<td>
<p>Date of birth</p>
</td></tr>
<tr><td><code id="age_calc_+3A_enddate">enddate</code></td>
<td>
<p>End date for age calculation (default is Sys.Date())</p>
</td></tr>
<tr><td><code id="age_calc_+3A_units">units</code></td>
<td>
<p>Units for age calculation (default is &quot;years&quot;).
Can be c(&quot;days&quot;, &quot;months&quot;, &quot;years&quot;)</p>
</td></tr>
<tr><td><code id="age_calc_+3A_precise">precise</code></td>
<td>
<p>Option to calculate age precisely (default is TRUE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector length 1
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.18637/jss.v093.i02">doi:10.18637/jss.v093.i02</a>
</p>


<h3>References</h3>

<p>Becker, J.P. (2020). eeptools: An R Package for Teaching and Learning
Ecology and Evolutionary Biology. Journal of Statistical Software,
93(2), 1-27.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trunc(age_calc(as.Date("1945-10-23"),as.Date("2018-09-30")))

</code></pre>

<hr>
<h2 id='chunks_of_n'>MOVED Split to chunks of size n</h2><span id='topic+chunks_of_n'></span>

<h3>Description</h3>

<p>MOVED Split to chunks of size n
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chunks_of_n(d, n, label = NULL, even = FALSE, pattern = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chunks_of_n_+3A_d">d</code></td>
<td>
<p>data. Can be vector or data frame.</p>
</td></tr>
<tr><td><code id="chunks_of_n_+3A_n">n</code></td>
<td>
<p>number of chunks</p>
</td></tr>
<tr><td><code id="chunks_of_n_+3A_label">label</code></td>
<td>
<p>naming prefix for chunk names</p>
</td></tr>
<tr><td><code id="chunks_of_n_+3A_even">even</code></td>
<td>
<p>boolean to set if size of chunks should be evenly distributed.</p>
</td></tr>
<tr><td><code id="chunks_of_n_+3A_pattern">pattern</code></td>
<td>
<p>regex pattern to extract names from provided vector. If data
frame, will assume first column is name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of length n
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tail(chunks_of_n(seq_len(100),7),3)
tail(chunks_of_n(seq_len(100),7,even=TRUE),3)
ds &lt;- data.frame(nm=paste0("Sub",
add_padding(rownames(stRoke::talos))),stRoke::talos)
head(chunks_of_n(ds,7,pattern="Sub[0-9]{3}",label="grp"),2)
## Please notice that no sorting is performed. This is on purpose to preserve
## original sorting. If sorting is intended, try something like this:
ds[order(ds$nm),] |&gt; chunks_of_n(7,pattern="Sub[0-9]{3}",label="grp") |&gt; 
head(2)
</code></pre>

<hr>
<h2 id='ci_plot'>Confidence interval plot with point estimate</h2><span id='topic+ci_plot'></span>

<h3>Description</h3>

<p>Horizontal forest plot of point estimate with confidence intervals.
Includes dichotomous or olr, depending on number of levels in &quot;x&quot;.
Title and axis labels can be added to the ggplot afterwards.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ci_plot(
  ds,
  x = NULL,
  y = NULL,
  vars = NULL,
  dec = 3,
  lbls = NULL,
  title = NULL,
  method = "auto"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ci_plot_+3A_ds">ds</code></td>
<td>
<p>main input, either data set or logistic model</p>
</td></tr>
<tr><td><code id="ci_plot_+3A_x">x</code></td>
<td>
<p>text string of main exposure variable</p>
</td></tr>
<tr><td><code id="ci_plot_+3A_y">y</code></td>
<td>
<p>text string of outcome variable</p>
</td></tr>
<tr><td><code id="ci_plot_+3A_vars">vars</code></td>
<td>
<p>variables for multivariate analysis.</p>
</td></tr>
<tr><td><code id="ci_plot_+3A_dec">dec</code></td>
<td>
<p>Decimals in labels</p>
</td></tr>
<tr><td><code id="ci_plot_+3A_lbls">lbls</code></td>
<td>
<p>Labels for variable names</p>
</td></tr>
<tr><td><code id="ci_plot_+3A_title">title</code></td>
<td>
<p>Plot title. Can be specified later.</p>
</td></tr>
<tr><td><code id="ci_plot_+3A_method">method</code></td>
<td>
<p>Character vector. The method for the regression.
Can be c(&quot;auto&quot;, &quot;model&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot element
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Auto plot
data(talos)
talos[,"mrs_1"]&lt;-factor(talos[,"mrs_1"],ordered=TRUE)
ci_plot(ds = talos, x = "rtreat", y = "mrs_1", 
vars = c("hypertension","diabetes"))
## Model plot
# iris$ord&lt;-factor(sample(1:3,size=nrow(iris),replace=TRUE),ordered=TRUE)
# lm &lt;- MASS::polr(ord~., data=iris, Hess=TRUE, method="logistic")
# ci_plot(ds = lm, method="model")
</code></pre>

<hr>
<h2 id='color_plot'>Plot color examples with contrasting text</h2><span id='topic+color_plot'></span>

<h3>Description</h3>

<p>Plots color examples with contrasting text. Parameters are passed to
contrast_text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>color_plot(
  colors,
  labels = TRUE,
  borders = NULL,
  cex_label = 1,
  ncol = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="color_plot_+3A_colors">colors</code></td>
<td>
<p>Vector of colors to plot</p>
</td></tr>
<tr><td><code id="color_plot_+3A_labels">labels</code></td>
<td>
<p>Show color names. Default is TRUE</p>
</td></tr>
<tr><td><code id="color_plot_+3A_borders">borders</code></td>
<td>
<p>Border parameter for 'rect()' function. Default is NULL</p>
</td></tr>
<tr><td><code id="color_plot_+3A_cex_label">cex_label</code></td>
<td>
<p>Label size. Default is 1.</p>
</td></tr>
<tr><td><code id="color_plot_+3A_ncol">ncol</code></td>
<td>
<p>Desired number of columns. Default is ceiling of square root to
the length of 'colors' vector provided.</p>
</td></tr>
<tr><td><code id="color_plot_+3A_...">...</code></td>
<td>
<p>Parameters for the</p>
</td></tr>
</table>


<h3>Value</h3>

<p>base plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>par(bg=NULL)
colors &lt;- sample(colors(),size = 20)
color_plot(colors, method="relative")

</code></pre>

<hr>
<h2 id='contrast_text'>MOVED Contrast Text Color</h2><span id='topic+contrast_text'></span>

<h3>Description</h3>

<p>Calculates the best contrast text color for a given
background color.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrast_text(
  background,
  light_text = "white",
  dark_text = "black",
  threshold = 0.5,
  method = "perceived_2",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="contrast_text_+3A_background">background</code></td>
<td>
<p>A hex/named color value that represents the background.</p>
</td></tr>
<tr><td><code id="contrast_text_+3A_light_text">light_text</code></td>
<td>
<p>A hex/named color value that represents the light text
color.</p>
</td></tr>
<tr><td><code id="contrast_text_+3A_dark_text">dark_text</code></td>
<td>
<p>A hex/named color value that represents the dark text color.</p>
</td></tr>
<tr><td><code id="contrast_text_+3A_threshold">threshold</code></td>
<td>
<p>A numeric value between 0 and 1 that is used to determine
the luminance threshold of the background color for text color.</p>
</td></tr>
<tr><td><code id="contrast_text_+3A_method">method</code></td>
<td>
<p>A character string that specifies the method for calculating
the luminance. Three different methods are available:
c(&quot;relative&quot;,&quot;perceived&quot;,&quot;perceived_2&quot;)</p>
</td></tr>
<tr><td><code id="contrast_text_+3A_...">...</code></td>
<td>
<p>parameter overflow. Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function aids in deciding the font color to print on a given background.
The function is based on the example provided by teppo:
https://stackoverflow.com/a/66669838/21019325.
The different methods provided are based on the methods outlined in the
StackOverflow thread:
https://stackoverflow.com/questions/596216/formula-to-determine-perceived-brightness-of-rgb-color
</p>


<h3>Value</h3>

<p>A character string that contains the best contrast text color.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>contrast_text(c("#F2F2F2", "blue"))

contrast_text(c("#F2F2F2", "blue"), method="relative")
</code></pre>

<hr>
<h2 id='cpr_check'>CPR check</h2><span id='topic+cpr_check'></span>

<h3>Description</h3>

<p>Checking validity of cpr number. Vectorised.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cpr_check(cpr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cpr_check_+3A_cpr">cpr</code></td>
<td>
<p>cpr-numbers as ddmmyy&quot;-.&quot;xxxx or ddmmyyxxxx.
Also mixed formatting. Vector or data frame column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector of cpr validity
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fsd&lt;-c("2310450637", "010190-2000", "010115-4000",
"300450-1030","010150-4021")
cpr_check("2310450637")
cpr_check(fsd)
all(cpr_check(fsd))
</code></pre>

<hr>
<h2 id='cpr_dob'>Extracting date of birth from CPR</h2><span id='topic+cpr_dob'></span>

<h3>Description</h3>

<p>For easy calculation. Does not handle cprs with letters (interim cpr)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cpr_dob(cpr, format = "%d-%m-%Y")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cpr_dob_+3A_cpr">cpr</code></td>
<td>
<p>cpr-numbers as ddmmyy&quot;-.&quot;xxxx or ddmmyyxxxx.
Also mixed formatting. Vector or data frame column.</p>
</td></tr>
<tr><td><code id="cpr_dob_+3A_format">format</code></td>
<td>
<p>character string of dob date format. Default is &quot;%d-%m-%Y&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cpr_dob("231045-0637")
fsd&lt;-c("2310450637", "010190-2000", "010115-4000",
"300450-1030","010150-4021")
cpr_dob(fsd)
</code></pre>

<hr>
<h2 id='cpr_female'>Determine female sex from CPR</h2><span id='topic+cpr_female'></span>

<h3>Description</h3>

<p>Just checking if last number of a string is equal or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cpr_female(cpr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cpr_female_+3A_cpr">cpr</code></td>
<td>
<p>Vector. cpr-numbers as ddmmyy&quot;-.&quot;xxxx or ddmmyyxxxx.
Also mixed formatting. Vector or data frame column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cpr_female(stRoke::cprs[,1])
</code></pre>

<hr>
<h2 id='cprs'>Data frame of 200 cpr numbers</h2><span id='topic+cprs'></span>

<h3>Description</h3>

<p>This is just a repeated sample of 8 synthesized cpr-numbers
for testing purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(cprs)
</code></pre>


<h3>Format</h3>

<p>A data frame with 200 rows and 1 variable:
</p>

<dl>
<dt>cpr</dt><dd><p>Mixed format cpr-numbers, characters</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="https://da.wikipedia.org/wiki/231045-0637">https://da.wikipedia.org/wiki/231045-0637</a>
</p>

<hr>
<h2 id='ds2dd'><em>DEPRECATED</em> Moved to REDCapCAST::ds2dd() | Data set to data dictionary function</h2><span id='topic+ds2dd'></span>

<h3>Description</h3>

<p><em>DEPRECATED</em> Moved to REDCapCAST::ds2dd() | Data set to data dictionary function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ds2dd(
  ds,
  record.id = "record_id",
  form.name = "basis",
  field.type = "text",
  field.label = NULL,
  include.column.names = FALSE,
  metadata = stRoke::metadata_names
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ds2dd_+3A_ds">ds</code></td>
<td>
<p>data set</p>
</td></tr>
<tr><td><code id="ds2dd_+3A_record.id">record.id</code></td>
<td>
<p>name or column number of id variable, moved to first row of
data dictionary, character of integer. Default is &quot;record_id&quot;.</p>
</td></tr>
<tr><td><code id="ds2dd_+3A_form.name">form.name</code></td>
<td>
<p>vector of form names, character string, length 1 or length
equal to number of variables. Default is &quot;basis&quot;.</p>
</td></tr>
<tr><td><code id="ds2dd_+3A_field.type">field.type</code></td>
<td>
<p>vector of field types, character string, length 1 or length
equal to number of variables. Default is &quot;text.</p>
</td></tr>
<tr><td><code id="ds2dd_+3A_field.label">field.label</code></td>
<td>
<p>vector of form names, character string, length 1 or length
equal to number of variables. Default is NULL and is then identical to field
names.</p>
</td></tr>
<tr><td><code id="ds2dd_+3A_include.column.names">include.column.names</code></td>
<td>
<p>Flag to give detailed output including new
column names for original data set for upload.</p>
</td></tr>
<tr><td><code id="ds2dd_+3A_metadata">metadata</code></td>
<td>
<p>Metadata dataframe. Default is the included
stRoke::metadata_names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame or list of data.frame and vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>talos$id &lt;- seq_len(nrow(talos))
ds2dd(talos, record.id="id",include.column.names=FALSE)
</code></pre>

<hr>
<h2 id='files_filter'>MOVED Filter files in a folder</h2><span id='topic+files_filter'></span>

<h3>Description</h3>

<p>This function filters files in a folder based on the
provided filter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>files_filter(folder.path, filter.by, full.names = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="files_filter_+3A_folder.path">folder.path</code></td>
<td>
<p>character. Path of the folder to be filtered</p>
</td></tr>
<tr><td><code id="files_filter_+3A_filter.by">filter.by</code></td>
<td>
<p>character. Filter to be applied on the files</p>
</td></tr>
<tr><td><code id="files_filter_+3A_full.names">full.names</code></td>
<td>
<p>logical. Whether to return full file names or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector. Filtered files
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Gives path to files/folders with "tests" in the name in the 
# working directory
files_filter(getwd(),"tests")
</code></pre>

<hr>
<h2 id='generic_stroke'>Generic stroke study outcome</h2><span id='topic+generic_stroke'></span>

<h3>Description</h3>

<p>Includes table 1, grotta bars and ordinal logistic regression plot.
Please just use this function for illustration purposes.
To dos: modify grottaBar and include as own function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generic_stroke(df, group, score, strata = NULL, variables = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generic_stroke_+3A_df">df</code></td>
<td>
<p>Data set as data frame</p>
</td></tr>
<tr><td><code id="generic_stroke_+3A_group">group</code></td>
<td>
<p>Variable to group by</p>
</td></tr>
<tr><td><code id="generic_stroke_+3A_score">score</code></td>
<td>
<p>Outcome measure variable</p>
</td></tr>
<tr><td><code id="generic_stroke_+3A_strata">strata</code></td>
<td>
<p>Optional variable to stratify by</p>
</td></tr>
<tr><td><code id="generic_stroke_+3A_variables">variables</code></td>
<td>
<p>String of variable names to include in adjusted OLR-analysis</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns list with three elements
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generic_stroke(df = stRoke::talos, group = "rtreat", score = "mrs_6", 
# variables = c("hypertension","diabetes","civil"))
</code></pre>

<hr>
<h2 id='index_plot'>Plot multidimensional cognitive test scores</h2><span id='topic+index_plot'></span>

<h3>Description</h3>

<p>Plot index scores from five dimensional cognitive testing.
Includes option to facet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index_plot(
  ds,
  id = "id",
  sub_plot = "_is",
  scores = c("_is", "_lo", "_up", "_per"),
  dom_names = c("immediate", "visuospatial", "verbal", "attention", "delayed", "total"),
  facet.by = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="index_plot_+3A_ds">ds</code></td>
<td>
<p>complete data frame</p>
</td></tr>
<tr><td><code id="index_plot_+3A_id">id</code></td>
<td>
<p>colname of id column. Base for colouring</p>
</td></tr>
<tr><td><code id="index_plot_+3A_sub_plot">sub_plot</code></td>
<td>
<p>main outcome scores variable to plot</p>
</td></tr>
<tr><td><code id="index_plot_+3A_scores">scores</code></td>
<td>
<p>variables to subset for plotting. Has to follow standard
naming (is to be changed)</p>
</td></tr>
<tr><td><code id="index_plot_+3A_dom_names">dom_names</code></td>
<td>
<p>domain names for axis naming</p>
</td></tr>
<tr><td><code id="index_plot_+3A_facet.by">facet.by</code></td>
<td>
<p>variable to base facet_grid on</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot element
</p>


<h3>Examples</h3>

<pre><code class='language-R'>index_plot(stRoke::score[score$event=="A",])
</code></pre>

<hr>
<h2 id='label_select'>Helper function for labels in gtsummary</h2><span id='topic+label_select'></span>

<h3>Description</h3>

<p>Function to select labels from list of label pairs (format: <code>age~"Age"</code>).
Alternative is to use attributes, eg from <code>library(Hmisc)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_select(lst, vec)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="label_select_+3A_lst">lst</code></td>
<td>
<p>List of variables and labels (format: <code>age~"Age"</code>)</p>
</td></tr>
<tr><td><code id="label_select_+3A_vec">vec</code></td>
<td>
<p>Vector of variables to be subset from the list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of labels ordered like vec, formatted like lst
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vars&lt;-c("hypertension", "diabetes", "mrs_1")
labels_all&lt;-list(rtreat~"Trial treatment",
civil~"Cohabitation",
diabetes~"Known diabetes", 
hypertension~"Known hypertension", 
mrs_1~"One month mRS", 
mrs_6~"Six months mRS", 
'[Intercept]'~"Intercept")
label_select(labels_all,vars)

## With gtsummary::tbl_summary()
#stRoke::talos[vars] |&gt; 
#gtsummary::tbl_summary(label = label_select(labels_all,vars))
</code></pre>

<hr>
<h2 id='metadata_names'>Vector of REDCap metadata headers</h2><span id='topic+metadata_names'></span>

<h3>Description</h3>

<p>Vector of REDCap metadata headers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(metadata_names)
</code></pre>


<h3>Format</h3>

<p>Vector of length 18 with REDCap metadata headers:
</p>

<dl>
<dt>metadata_names</dt><dd><p>characterstrings</p>
</dd>
</dl>



<h3>See Also</h3>

<p>project-redcap(dot)org (currently the certificate is broken)
</p>

<hr>
<h2 id='mfi_domains'>MFI domain score calculator</h2><span id='topic+mfi_domains'></span>

<h3>Description</h3>

<p>MFI domain score calculator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mfi_domains(
  ds,
  reverse = TRUE,
  reverse.vars = c(2, 5, 9, 10, 13, 14, 16, 17, 18, 19)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mfi_domains_+3A_ds">ds</code></td>
<td>
<p>data set of MFI scores, 20 columns</p>
</td></tr>
<tr><td><code id="mfi_domains_+3A_reverse">reverse</code></td>
<td>
<p>reverse scoring</p>
</td></tr>
<tr><td><code id="mfi_domains_+3A_reverse.vars">reverse.vars</code></td>
<td>
<p>variables/columns to reverse</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble of domain scores
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mfi_mess &lt;- data.frame(matrix(
sample(c(" 1. ", "2. -A", "3.", " 4  ", "5.", NA),200,replace=TRUE),ncol=20))
mfi_mess |&gt; mfi_domains()
</code></pre>

<hr>
<h2 id='multi_rev'>Reverses relevant MFI subscores</h2><span id='topic+multi_rev'></span>

<h3>Description</h3>

<p>Reverses relevant MFI subscores
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_rev(d, var)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multi_rev_+3A_d">d</code></td>
<td>
<p>data frame or tibble</p>
</td></tr>
<tr><td><code id="multi_rev_+3A_var">var</code></td>
<td>
<p>numeric vector of indices of columns to reverse</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame or tibble depending on input
</p>


<h3>Examples</h3>

<pre><code class='language-R'># rep_len(sample(1:5),length.out = 100) |&gt; matrix(ncol=10) |&gt; multi_rev(2:4)
</code></pre>

<hr>
<h2 id='n_chunks'>Splits in n chunks</h2><span id='topic+n_chunks'></span>

<h3>Description</h3>

<p>Splits in n chunks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_chunks(d, n, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n_chunks_+3A_d">d</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="n_chunks_+3A_n">n</code></td>
<td>
<p>number of chunks</p>
</td></tr>
<tr><td><code id="n_chunks_+3A_...">...</code></td>
<td>
<p>arguments passed to internal <code>chunks_of_n()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of chunks
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lengths(n_chunks(d=seq_len(100),n=7,even=TRUE))
lengths(n_chunks(d=seq_len(100),n=7,even=FALSE))
</code></pre>

<hr>
<h2 id='pase'>Data frame with sample data of PASE score questionnaire</h2><span id='topic+pase'></span>

<h3>Description</h3>

<p>Contains non-identifiable organic trial data.
Sample data labels are in Danish.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(pase)
</code></pre>


<h3>Format</h3>

<p>A data frame with 200 rows and 21 variables:
</p>

<dl>
<dt>sample_pase01</dt><dd><p>item 01, factor</p>
</dd>
<dt>sample_pase01b</dt><dd><p>item 01b, factor</p>
</dd>
<dt>sample_pase02</dt><dd><p>item 02, factor</p>
</dd>
<dt>sample_pase02a</dt><dd><p>item 02a, factor</p>
</dd>
<dt>sample_pase03</dt><dd><p>item 03, factor</p>
</dd>
<dt>sample_pase03b</dt><dd><p>item 03b, factor</p>
</dd>
<dt>sample_pase04</dt><dd><p>item 04, factor</p>
</dd>
<dt>sample_pase04b</dt><dd><p>item 04b, factor</p>
</dd>
<dt>sample_pase05</dt><dd><p>item 05, factor</p>
</dd>
<dt>sample_pase05b</dt><dd><p>item 05b, factor</p>
</dd>
<dt>sample_pase06</dt><dd><p>item 06, factor</p>
</dd>
<dt>sample_pase06b</dt><dd><p>item 06b, factor</p>
</dd>
<dt>sample_pase07</dt><dd><p>item 07, factor</p>
</dd>
<dt>sample_pase08</dt><dd><p>item 08, factor</p>
</dd>
<dt>sample_pase09a</dt><dd><p>item 09a, factor</p>
</dd>
<dt>sample_pase09b</dt><dd><p>item 09b, factor</p>
</dd>
<dt>sample_pase09c</dt><dd><p>item 09c, factor</p>
</dd>
<dt>sample_pase09d</dt><dd><p>item 09d, factor</p>
</dd>
<dt>sample_pase10</dt><dd><p>item 10, factor</p>
</dd>
<dt>sample_pase10a</dt><dd><p>item 10a, numeric</p>
</dd>
<dt>sample_pase10b</dt><dd><p>item 10b, factor</p>
</dd>
</dl>


<hr>
<h2 id='pase_calc'>PASE score calculator</h2><span id='topic+pase_calc'></span>

<h3>Description</h3>

<p>Calculates PASE score from raw questionnaire data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pase_calc(ds, adjust_work = FALSE, consider.missing = c("Not available"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pase_calc_+3A_ds">ds</code></td>
<td>
<p>data set</p>
</td></tr>
<tr><td><code id="pase_calc_+3A_adjust_work">adjust_work</code></td>
<td>
<p>flag to set whether to include 10b type 1.</p>
</td></tr>
<tr><td><code id="pase_calc_+3A_consider.missing">consider.missing</code></td>
<td>
<p>character vector of values considered missing.
Default is TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Labelling should be as defined by the questionnaire.
02-06 should start with 0:3, 02a-06b should start with 1:4.
</p>


<h4>Regarding work scoring</h4>

<p>The score calculation manual available for the PASE questionnaire, all types
of work should be included. According to the article by
Washburn RA. et al (1999) sitting work is not included in the item 10 score.
This differentiation is added with the option to set <code>adjust_work</code> to
exclude item 10b category 1 work (set <code>TRUE</code>).
</p>



<h4>Regarding output</h4>

<p>Output includes sub scores as well as sums, but also to columns assessing data
quality and completeness. If any field has not been filled, <code>score_incompletes</code>
will return <code>TRUE</code>. If all measures are missing <code>score_missings</code> is <code>TRUE</code>.
If <code>adjust_work==TRUE</code>, 10b has to be filled, or <code>score_incompletes</code> will be
set <code>TRUE</code>.
</p>



<h3>Value</h3>

<p>data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>summary(pase_calc(stRoke::pase)[,13])
str(pase_calc(stRoke::pase))

</code></pre>

<hr>
<h2 id='print.win_Prob'>Prints win_prob results</h2><span id='topic+print.win_Prob'></span>

<h3>Description</h3>

<p>Prints win_prob results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'win_Prob'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.win_Prob_+3A_x">x</code></td>
<td>
<p>win_prob results.</p>
</td></tr>
<tr><td><code id="print.win_Prob_+3A_...">...</code></td>
<td>
<p>ignored for now</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints win_prob statistics.
</p>

<hr>
<h2 id='quantile_cut'>MOVED Easy function for splitting numeric variable in quantiles</h2><span id='topic+quantile_cut'></span>

<h3>Description</h3>

<p>Using base/stats functions cut() and quantile().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quantile_cut(
  x,
  groups,
  y = NULL,
  na.rm = TRUE,
  group.names = NULL,
  ordered.f = FALSE,
  inc.outs = FALSE,
  detail.list = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="quantile_cut_+3A_x">x</code></td>
<td>
<p>Variable to cut.</p>
</td></tr>
<tr><td><code id="quantile_cut_+3A_groups">groups</code></td>
<td>
<p>Number of groups.</p>
</td></tr>
<tr><td><code id="quantile_cut_+3A_y">y</code></td>
<td>
<p>alternative vector to draw quantile cuts from. Limits has
to be within x. Default is NULL.</p>
</td></tr>
<tr><td><code id="quantile_cut_+3A_na.rm">na.rm</code></td>
<td>
<p>Remove NA's. Default is TRUE.</p>
</td></tr>
<tr><td><code id="quantile_cut_+3A_group.names">group.names</code></td>
<td>
<p>Names of groups to split to. Default is NULL,
giving intervals as names.</p>
</td></tr>
<tr><td><code id="quantile_cut_+3A_ordered.f">ordered.f</code></td>
<td>
<p>Set resulting vector as ordered. Default is FALSE.</p>
</td></tr>
<tr><td><code id="quantile_cut_+3A_inc.outs">inc.outs</code></td>
<td>
<p>Flag to include min(x) and max(x)
as borders in case of y!=NULL.</p>
</td></tr>
<tr><td><code id="quantile_cut_+3A_detail.list">detail.list</code></td>
<td>
<p>flag to include details or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector or list with vector and details (length 2)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aa &lt;- as.numeric(sample(1:1000,2000,replace = TRUE))
x &lt;- 1:450
y &lt;- 6:750
summary(quantile_cut(aa,groups=4,detail.list=FALSE)) ## Cuts quartiles
</code></pre>

<hr>
<h2 id='score'>Data frame with sample data of cognitive testing score</h2><span id='topic+score'></span>

<h3>Description</h3>

<p>Contains non-identifiable organic trial data from a
five-dimensional cognitive test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(score)
</code></pre>


<h3>Format</h3>

<p>A data frame with 20 rows and 26 variables:
</p>

<dl>
<dt>id</dt><dd><p>id</p>
</dd>
<dt>event</dt><dd><p>event</p>
</dd>
<dt>a_is</dt><dd><p>domain a index score</p>
</dd>
<dt>b_is</dt><dd><p>domain b index score</p>
</dd>
<dt>c_is</dt><dd><p>domain c index score</p>
</dd>
<dt>d_is</dt><dd><p>domain d index score</p>
</dd>
<dt>e_is</dt><dd><p>domain e index score</p>
</dd>
<dt>i_is</dt><dd><p>total index score</p>
</dd>
<dt>a_lo</dt><dd><p>domain a lower ci</p>
</dd>
<dt>b_lo</dt><dd><p>domain b lower ci</p>
</dd>
<dt>c_lo</dt><dd><p>domain c lower ci</p>
</dd>
<dt>d_lo</dt><dd><p>domain d lower ci</p>
</dd>
<dt>e_lo</dt><dd><p>domain e lower ci</p>
</dd>
<dt>i_lo</dt><dd><p>total lower ci</p>
</dd>
<dt>a_up</dt><dd><p>domain a upper ci</p>
</dd>
<dt>b_up</dt><dd><p>domain b upper ci</p>
</dd>
<dt>c_up</dt><dd><p>domain c upper ci</p>
</dd>
<dt>d_up</dt><dd><p>domain d upper ci</p>
</dd>
<dt>e_up</dt><dd><p>domain e upper ci</p>
</dd>
<dt>i_up</dt><dd><p>total upper ci</p>
</dd>
<dt>a_per</dt><dd><p>domain a percentile</p>
</dd>
<dt>b_per</dt><dd><p>domain b percentile</p>
</dd>
<dt>c_per</dt><dd><p>domain c percentile</p>
</dd>
<dt>d_per</dt><dd><p>domain d percentile</p>
</dd>
<dt>e_per</dt><dd><p>domain e percentile</p>
</dd>
<dt>i_per</dt><dd><p>total percentile</p>
</dd>
</dl>


<hr>
<h2 id='source_lines'>Source Lines from a File</h2><span id='topic+source_lines'></span>

<h3>Description</h3>

<p>Sources specific lines from a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_lines(file, lines, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="source_lines_+3A_file">file</code></td>
<td>
<p>A character string giving the path to the file to be sourced.</p>
</td></tr>
<tr><td><code id="source_lines_+3A_lines">lines</code></td>
<td>
<p>A numeric vector of line numbers to be sourced.</p>
</td></tr>
<tr><td><code id="source_lines_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code><a href="base.html#topic+source">source</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of <code><a href="base.html#topic+source">source</a></code>.
</p>


<h3>See Also</h3>

<p>This function is borrowed from a
<a href="https://gist.github.com/christophergandrud/1eb4e095974204b12af9">gist</a>
by christophergandrud.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_file &lt;- tempfile(fileext = ".R")
writeLines(c("# Line 1", "2+2", "# Line 3"), test_file)
source_lines(test_file, 1:2, echo=TRUE)

</code></pre>

<hr>
<h2 id='str_extract'>Extract string based on regex pattern</h2><span id='topic+str_extract'></span>

<h3>Description</h3>

<p>DEPRECATION: moved to <code>agdamsbo/project.aid</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_extract(d, pattern)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="str_extract_+3A_d">d</code></td>
<td>
<p>vector of character strings</p>
</td></tr>
<tr><td><code id="str_extract_+3A_pattern">pattern</code></td>
<td>
<p>regex pattern to match</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use base::strsplit to
</p>


<h3>Value</h3>

<p>vector of character strings
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ls &lt;- do.call(c,lapply(sample(4:8,20,TRUE),function(i){
paste(sample(letters,i,TRUE),collapse = "")}))
ds &lt;- do.call(c,lapply(1:20,function(i){
paste(sample(ls,1),i,sample(ls,1),"23",sep = "_")}))
str_extract(ds,"([0-9]+)")
</code></pre>

<hr>
<h2 id='talos'>Data frame with sample of TALOS data</h2><span id='topic+talos'></span>

<h3>Description</h3>

<p>Contains of non-identifiable subset of data from the TALOS trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(talos)
</code></pre>


<h3>Format</h3>

<p>A data frame with 200 rows and 6 variables:
</p>

<dl>
<dt>rtreat</dt><dd><p>Randomisation</p>
</dd>
<dt>mrs_1</dt><dd><p>Modified Rankin scale score at follow-up</p>
</dd>
<dt>mrs_6</dt><dd><p>Modified Rankin scale score at end of study</p>
</dd>
<dt>hypertension</dt><dd><p>Known hypertension</p>
</dd>
<dt>diabetes</dt><dd><p>Known diabetes</p>
</dd>
<dt>civil</dt><dd><p>Cohabitation status</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://doi.org/10.1161/STROKEAHA.117.020067">doi:10.1161/STROKEAHA.117.020067</a>
</p>

<hr>
<h2 id='win_prob'>Calculates the probability of winning</h2><span id='topic+win_prob'></span>

<h3>Description</h3>

<p>Calculates the probability of winning (winP). In the referenced
article Zou et al (2022) proposes a method for calculating probability of
winning with a confidence interval an p-value testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>win_prob(
  data,
  response = NULL,
  group = NULL,
  alpha = 0.05,
  beta = 0.2,
  group.ratio = 1,
  sample.size = FALSE,
  print.tables = FALSE,
  dec = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="win_prob_+3A_data">data</code></td>
<td>
<p>A data frame containing the response and group variable.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_response">response</code></td>
<td>
<p>The name of the response variable.
Takes first column if empty.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_group">group</code></td>
<td>
<p>The name of the group variable.
Takes second column if empty.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_alpha">alpha</code></td>
<td>
<p>The alpha level for the hypothesis test. Default is 0.05.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_beta">beta</code></td>
<td>
<p>The beta level for the sample size calculation. Default is 0.2.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_group.ratio">group.ratio</code></td>
<td>
<p>The ratio of group sizes. Default is 1.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_sample.size">sample.size</code></td>
<td>
<p>Flag to include sample size calculation. Default is FALSE.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_print.tables">print.tables</code></td>
<td>
<p>Flag to print cumulative tables. Default is FALSE.</p>
</td></tr>
<tr><td><code id="win_prob_+3A_dec">dec</code></td>
<td>
<p>Numeric for decimals to print. Default is 3.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the win_prob statistics.
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.1161/STROKEAHA.121.037744">doi:10.1161/STROKEAHA.121.037744</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>win_prob(data=stRoke::talos,response="mrs_6",group="rtreat")
</code></pre>

<hr>
<h2 id='write_ical'>MOVED Write ical object</h2><span id='topic+write_ical'></span>

<h3>Description</h3>

<p>This function creates an ical file based on a data frame with mixed events.
Export as .ics file using <code>calendar::ic_write()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_ical(
  df,
  date = "date",
  date.end = NA,
  title = "title",
  time.start = "start",
  time.end = "end",
  place = NA,
  place.def = NA,
  time.def = "10:00:00",
  time.dur = 60,
  descr = NA,
  link = NA,
  t.zone = "CET"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_ical_+3A_df">df</code></td>
<td>
<p>A data frame with the calendar data</p>
</td></tr>
<tr><td><code id="write_ical_+3A_date">date</code></td>
<td>
<p>The name of the event date column in the data frame</p>
</td></tr>
<tr><td><code id="write_ical_+3A_date.end">date.end</code></td>
<td>
<p>The name of the end date column in the data frame</p>
</td></tr>
<tr><td><code id="write_ical_+3A_title">title</code></td>
<td>
<p>The name of the title column in the data frame</p>
</td></tr>
<tr><td><code id="write_ical_+3A_time.start">time.start</code></td>
<td>
<p>The name of the start time column in the data frame</p>
</td></tr>
<tr><td><code id="write_ical_+3A_time.end">time.end</code></td>
<td>
<p>The name of the end time column in the data frame</p>
</td></tr>
<tr><td><code id="write_ical_+3A_place">place</code></td>
<td>
<p>The name of the place column in the data frame</p>
</td></tr>
<tr><td><code id="write_ical_+3A_place.def">place.def</code></td>
<td>
<p>Default location to use when place is NA</p>
</td></tr>
<tr><td><code id="write_ical_+3A_time.def">time.def</code></td>
<td>
<p>Default start time to use when time.start is NA</p>
</td></tr>
<tr><td><code id="write_ical_+3A_time.dur">time.dur</code></td>
<td>
<p>Default duration of the event in minutes, if time.end is NA</p>
</td></tr>
<tr><td><code id="write_ical_+3A_descr">descr</code></td>
<td>
<p>Name of description/notes column if any.</p>
</td></tr>
<tr><td><code id="write_ical_+3A_link">link</code></td>
<td>
<p>Name of link column, if any.</p>
</td></tr>
<tr><td><code id="write_ical_+3A_t.zone">t.zone</code></td>
<td>
<p>A character string of time zone for events. The string must be
a time zone that is recognized by the user's OS.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ical object
</p>


<h3>See Also</h3>

<p><a href="https://github.com/ATFutures/calendar/">calendar package</a>
<a href="https://icalendar.org">icalendar standard webpage</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(
  date = c("2020-02-10", "2020-02-11"),
  date.end = c("2020-02-13",NA),
  title = c("Conference", "Lunch"),
  start = c("12:00:00", NA),
  time.end = c("13:00:00", NA),
  note = c("Hi there","Remember to come"),
  link = c("https://icalendar.org","https://agdamsbo.github.io/stRoke/")
)

write_ical(
  df,
  date = "date",
  date.end = "date.end",
  title = "title",
  time.start = "start",
  time.end = "time.end",
  place.def = "Conference Room",
  descr = "note",
  link = "link"
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package PlotFTIR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PlotFTIR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PlotFTIR-package'><p>PlotFTIR: Plot FTIR Spectra</p></a></li>
<li><a href='#-.gg'><p>Add GGPlot Layer below others</p></a></li>
<li><a href='#add_band'><p>Add Band</p></a></li>
<li><a href='#add_subtract_scalar'><p>Add or Subtract Scalar Value</p></a></li>
<li><a href='#add_wavenumber_marker'><p>Add a Marker at a Wavenumber</p></a></li>
<li><a href='#average_spectra'><p>Average FTIR Spectra</p></a></li>
<li><a href='#biodiesel'><p>FTIR Bio-diesel data</p></a></li>
<li><a href='#check_ftir_data'><p>Check FTIR Data</p></a></li>
<li><a href='#chemospec_to_plotftir'><p>'ChemoSec' to 'PlotFTIR' conversions</p></a></li>
<li><a href='#compress_low_energy'><p>Compress Low-Energy Region</p></a></li>
<li><a href='#compress_trans'><p>Compression Transformation</p></a></li>
<li><a href='#conversion'><p>Convert Between Absorbance and Transmittance</p></a></li>
<li><a href='#get_plot_sample_ids'><p>Get Plot Sample IDs</p></a></li>
<li><a href='#highlight_sample'><p>Highlight Sample Spectra</p></a></li>
<li><a href='#intensity_type'><p>Intensity Type</p></a></li>
<li><a href='#ir_to_plotftir'><p>Convert 'ir' to 'PlotFTIR' data format</p></a></li>
<li><a href='#move_plot_legend'><p>Move Plot Legend</p></a></li>
<li><a href='#normalize_spectra'><p>Normalize FTIR spectra</p></a></li>
<li><a href='#plot_ftir'><p>Plot FTIR Spectra Overlaid</p></a></li>
<li><a href='#plot_ftir_core'><p>PlotFTIR core plot generator</p></a></li>
<li><a href='#plot_ftir_stacked'><p>Plot FTIR in stacked format</p></a></li>
<li><a href='#plotftir_to_chemospec'><p>Convert 'PlotFTIR' data to 'ChemoSpec' format</p></a></li>
<li><a href='#plotftir_to_ir'><p>Convert 'PlotFTIR' data to 'ir'</p></a></li>
<li><a href='#read_ftir'><p>Read FTIR file</p></a></li>
<li><a href='#read_ftir_directory'><p>Read FTIR file</p></a></li>
<li><a href='#recalculate_baseline'><p>Recalculate Baseline</p></a></li>
<li><a href='#rename_plot_sample_ids'><p>Rename Sample IDs in Plot</p></a></li>
<li><a href='#sample_spectra'><p>FTIR example data</p></a></li>
<li><a href='#save_plot'><p>Save FTIR Plot</p></a></li>
<li><a href='#zoom_in_on_range'><p>Zoom in on a spectral range</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Plot FTIR Spectra</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The goal of 'PlotFTIR' is to easily and quickly kick-start the production of journal-quality Fourier Transform Infra-Red (FTIR) spectral plots in R using 'ggplot2'. The produced plots can be published directly or further modified by 'ggplot2' functions.
    L'objectif de 'PlotFTIR' est de démarrer facilement et rapidement la production des tracés spectraux de spectroscopie infrarouge à transformée de Fourier (IRTF) de qualité journal dans R à l'aide de 'ggplot2'. Les tracés produits peuvent être publiés directement ou modifiés davantage par les fonctions 'ggplot2'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, rlang, scales</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), withr, ggplot2 (&ge; 3.0.0), gghighlight,
ggthemes, knitr, rmarkdown, ir, ChemoSpec, R.utils</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/NRCan/PlotFTIR/issues">https://github.com/NRCan/PlotFTIR/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/NRCan/PlotFTIR">https://github.com/NRCan/PlotFTIR</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-05 14:41:21 UTC; pbulsink</td>
</tr>
<tr>
<td>Author:</td>
<td>Philip Bulsink <a href="https://orcid.org/0000-0001-9668-2429"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Ulrich Makanda [trl] (Translated documentation to French/Traduire la
    documentation en français),
  His Majesty the King in Right of Canada, as represented by the Minister
    of Natural Resources [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philip Bulsink &lt;philip.bulsink@nrcan-rncan.gc.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-05 15:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='PlotFTIR-package'>PlotFTIR: Plot FTIR Spectra</h2><span id='topic+PlotFTIR'></span><span id='topic+PlotFTIR-package'></span>

<h3>Description</h3>

<p>The goal of 'PlotFTIR' is to easily and quickly kick-start the production of journal-quality Fourier Transform Infra-Red (FTIR) spectral plots in R using 'ggplot2'. The produced plots can be published directly or further modified by 'ggplot2' functions. L'objectif de 'PlotFTIR' est de démarrer facilement et rapidement la production des tracés spectraux de spectroscopie infrarouge à transformée de Fourier (IRTF) de qualité journal dans R à l'aide de 'ggplot2'. Les tracés produits peuvent être publiés directement ou modifiés davantage par les fonctions 'ggplot2'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Philip Bulsink <a href="mailto:philip.bulsink@nrcan-rncan.gc.ca">philip.bulsink@nrcan-rncan.gc.ca</a> (<a href="https://orcid.org/0000-0001-9668-2429">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Ulrich Makanda <a href="mailto:ulrich.makanda@nrcan-rncan.gc.ca">ulrich.makanda@nrcan-rncan.gc.ca</a> (Translated documentation to French/Traduire la documentation en français) [translator]
</p>
</li>
<li><p> His Majesty the King in Right of Canada, as represented by the Minister of Natural Resources [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/NRCan/PlotFTIR">https://github.com/NRCan/PlotFTIR</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/NRCan/PlotFTIR/issues">https://github.com/NRCan/PlotFTIR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='-.gg'>Add GGPlot Layer below others</h2><span id='topic+-.gg'></span>

<h3>Description</h3>

<p>Inserts a layer <em>underneath</em> the existing layers on a ggplot
object simply by calling <code>plot</code> - <code>layer</code> instead of the usual <code>plot</code> +
<code>layer</code>.
</p>
<p>Insère un calque <em>sous</em> les calques existants sur un objet ggplot
simplement en appelant <code>plot</code> - <code>layer</code> au lieu de l'habituel <code>plot</code> +
<code>layer</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gg'
plot - layer
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="-.gg_+3A_plot">plot</code></td>
<td>
<p>The plot to which the layer should be added.
</p>
<p>Le tracé auquel le calque doit être ajouté.</p>
</td></tr>
<tr><td><code id="-.gg_+3A_layer">layer</code></td>
<td>
<p>The layer to add to the plot.
</p>
<p>La couche à ajouter au tracé.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The ggplot2 <code>plot</code> object, with layer <code>layer</code> added underneath.
</p>
<p>L'objet ggplot2 <code>plot</code>, avec le calque <code>layer</code> ajouté en dessous.
</p>


<h3>References</h3>

<p>From https://stackoverflow.com/a/64011534
</p>

<hr>
<h2 id='add_band'>Add Band</h2><span id='topic+add_band'></span>

<h3>Description</h3>

<p>Add a shaded band (with optional text overlay) to a FTIR spectral region, to visually highlight an area.
</p>
<p>Ajoutez une bande ombrée (avec un texte en option) à une région spectrale FTIR, pour mettre visuellement en évidence une zone.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_band(
  ftir_spectra_plot,
  wavenumber_range,
  text = NULL,
  colour = NULL,
  label_aesthetics = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_band_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by <code><a href="#topic+plot_ftir">plot_ftir()</a></code> or
<code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.
</p>
<p>Un tracé généré par <code><a href="#topic+plot_ftir">plot_ftir()</a></code> ou <code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.</p>
</td></tr>
<tr><td><code id="add_band_+3A_wavenumber_range">wavenumber_range</code></td>
<td>
<p>A vector of length two, with the wavenumber range of the shaded band.
Order of provided limits is not important.
</p>
<p>Un vecteur de longueur deux, avec la gamme de nombres d'ondes de la bande ombrée.
L'ordre des limites fournies n'est pas important.</p>
</td></tr>
<tr><td><code id="add_band_+3A_text">text</code></td>
<td>
<p>The text of the label over the band (optional).
</p>
<p>Le texte de l'étiquette au-dessus du bande (facultatif).</p>
</td></tr>
<tr><td><code id="add_band_+3A_colour">colour</code></td>
<td>
<p>A colour for the shaded band. Note that alpha will be set to 0.5.
A default blue band will be added if not provided.
See <code>vignette("ggplot2-specs", "ggplot2")</code> for more information on aesthetics in graphics.
</p>
<p>Une couleur pour la bande ombrée. Notez que la valeur alpha est fixée à 0,5.
Une bande bleue sera ajoutée par défaut si aucune valeur n'est fournie.
Voir <code style="white-space: pre;">&#8288;vignette(« ggplot2-specs », « ggplot2 »)&#8288;</code> pour plus d'informations sur l'esthétique dans les graphiques.</p>
</td></tr>
<tr><td><code id="add_band_+3A_label_aesthetics">label_aesthetics</code></td>
<td>
<p>A named <code>list</code> of aesthetics to pass to ggplot for
creating the label. See <code style="white-space: pre;">&#8288;[ggplot2::geom_text()]&#8288;</code>'s aesthetics section for
more info. Specifically, <code>alpha</code>, <code style="white-space: pre;">&#8288;colo(u)r&#8288;</code>, <code>family</code>, <code>fill</code>, <code>fontface</code> and
<code>size</code>are permitted. Positioning aesthetics will be removed.
</p>
<p>Une <code>list</code> nommée d'esthétiques à transmettre à ggplot pour créer
l'étiquette. Voir la section esthétique de <code style="white-space: pre;">&#8288;[ggplot2::geom_text()]&#8288;</code> pour
plus d'informations. Plus précisément, <code>alpha</code>, <code style="white-space: pre;">&#8288;colo(u)r&#8288;</code>, <code>family</code>, <code>fill</code>,
<code>fontface</code> et <code>size</code> sont autorisés. Les aspects esthétiques du
positionnement seront supprimés.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the FTIR plot as a ggplot2 object, with the shaded band added.
</p>
<p>le tracé FTIR en tant qu'objet ggplot2, avec la bande ombrée ajoutée.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_wavenumber_marker">add_wavenumber_marker()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Generate a plot
  p &lt;- plot_ftir(sample_spectra)

  # Add a band to -OH region:
  add_band(p, c(3600, 3100), "-OH Stretch")
}
</code></pre>

<hr>
<h2 id='add_subtract_scalar'>Add or Subtract Scalar Value</h2><span id='topic+add_subtract_scalar'></span><span id='topic+add_scalar_value'></span><span id='topic+subtract_scalar_value'></span>

<h3>Description</h3>

<p>Add or subtract a constant (scalar) value to each data point in
a FTIR spectra. Shifts the plot up or down on the y axis by the specified
amount without any other change.
</p>
<p>Ajoute ou soustrait une valeur constante (scalaire) à chaque point de données
d'un spectre IRTF. Décale le tracé vers le haut ou vers le bas sur l'axe des
y de la valeur spécifiée sans aucune autre modification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_scalar_value(ftir, value, sample_ids = NA)

subtract_scalar_value(ftir, value, sample_ids = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_subtract_scalar_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame of FTIR spectral data including spectra to be
shifted.
</p>
<p>Un data.frame de données spectrales IRTF comprenant les spectres à décalés.</p>
</td></tr>
<tr><td><code id="add_subtract_scalar_+3A_value">value</code></td>
<td>
<p>The numeric value to add or subtract.
</p>
<p>Le valeur numerique d'ajute ou soustrait.</p>
</td></tr>
<tr><td><code id="add_subtract_scalar_+3A_sample_ids">sample_ids</code></td>
<td>
<p>A vector of sample IDs to be shifted. All sample IDs must
be present in the 'ftir' data.frame. If modifying all spectra, provide NA
or NULL.
</p>
<p>Un vecteur d'identifiants d'échantillons dont la moyenne doit être décalée.
Tous les identifiants des échantillons doivent être présents dans le
data.frame 'ftir'. Si modifiez tous les spectres, indiquez NA ou NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the adjusted FTIR spectra.
</p>
<p>Un data.frame contenant les spectres IRTF ajustee.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Add 0.1 to each spectra in biodiesel
add_scalar_value(biodiesel, 0.1)

# Subtract 0.05 from biodiesel_0 and biodiesel_0_25
subtract_scalar_value(biodiesel, 0.05, sample_ids = c("biodiesel_0", "biodiesel_0_25"))

</code></pre>

<hr>
<h2 id='add_wavenumber_marker'>Add a Marker at a Wavenumber</h2><span id='topic+add_wavenumber_marker'></span>

<h3>Description</h3>

<p>Add a vertical line marker, at a given wavenumber, to an FTIR
plot, and label at the top of the plot with a provided text (or by default
the wavenumber of the marker). This is useful for noting important
wavenumbers.
</p>
<p>This function can be called repeatedly. Note that older labels will be
covered by newer labels if they overlap.
</p>
<p>Ajoutez un marqueur de ligne verticale, à un nombre d'ondes donné, à un
tracé FTIR, et l'étiquette en haut du tracé avec un texte fourni (ou par
défaut le nombre d'ondes du marqueur). Cette fonction est utile pour noter
les nombres d'ondes importants. Cette fonction peut être appelée plusieurs
fois.
</p>
<p>Notez que les vieux labels seront couverts par les nouveaux s'ils se
chevauchent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_wavenumber_marker(
  ftir_spectra_plot,
  wavenumber,
  text = NULL,
  line_aesthetics = NULL,
  label_aesthetics = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_wavenumber_marker_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by <code><a href="#topic+plot_ftir">plot_ftir()</a></code> or
<code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.
</p>
<p>Un tracé généré par <code><a href="#topic+plot_ftir">plot_ftir()</a></code> ou <code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.</p>
</td></tr>
<tr><td><code id="add_wavenumber_marker_+3A_wavenumber">wavenumber</code></td>
<td>
<p>the wavenumber at which the marker should be placed.
</p>
<p>le nombre d'ondes auquel le marqueur doit être placé.</p>
</td></tr>
<tr><td><code id="add_wavenumber_marker_+3A_text">text</code></td>
<td>
<p>The text of the label over the marker (optional). If no text is
provided, the label will show the wavenumber (rounded to the nearest whole
number).
</p>
<p>Le texte de l'étiquette au-dessus du marqueur (facultatif). Si aucun texte
n'est fourni, l'étiquette indiquera le nombre d'ondes (arrondi au nombre
entier le plus proche).</p>
</td></tr>
<tr><td><code id="add_wavenumber_marker_+3A_line_aesthetics">line_aesthetics</code></td>
<td>
<p>A named <code>list</code> of aesthetics to pass to ggplot for
creating the vertical line. See <code style="white-space: pre;">&#8288;[ggplot2::geom_path()]&#8288;</code>'s aesthetics
section for more info. Specifically, <code>alpha</code>, <code style="white-space: pre;">&#8288;colo(u)r&#8288;</code>, <code>linetype</code> and
<code>linewidth</code> are permitted. Positioning aesthetics will be removed.
</p>
<p>Une <code>list</code> nommée d'esthétiques à transmettre à ggplot pour créer la ligne
verticale. Voir la section esthétique de <code style="white-space: pre;">&#8288;[ggplot2::geom_path()]&#8288;</code> pour plus
d'informations. Plus précisément, <code>alpha</code>, <code style="white-space: pre;">&#8288;colo(u)r&#8288;</code>, <code>linetype</code> et
'linewidth&ldquo; sont autorisés. Les aspects esthétiques du positionnement
seront supprimés.</p>
</td></tr>
<tr><td><code id="add_wavenumber_marker_+3A_label_aesthetics">label_aesthetics</code></td>
<td>
<p>A named <code>list</code> of aesthetics to pass to ggplot for
creating the label. See <code style="white-space: pre;">&#8288;[ggplot2::geom_text()]&#8288;</code>'s aesthetics section for
more info. Specifically, <code>alpha</code>, <code style="white-space: pre;">&#8288;colo(u)r&#8288;</code>, <code>family</code>, <code>fill</code>, <code>fontface</code> and
<code>size</code>are permitted. Positioning aesthetics will be removed.
</p>
<p>Une <code>list</code> nommée d'esthétiques à transmettre à ggplot pour créer
l'étiquette. Voir la section esthétique de <code style="white-space: pre;">&#8288;[ggplot2::geom_text()]&#8288;</code> pour
plus d'informations. Plus précisément, <code>alpha</code>, <code style="white-space: pre;">&#8288;colo(u)r&#8288;</code>, <code>family</code>, <code>fill</code>,
<code>fontface</code> et <code>size</code> sont autorisés. Les aspects esthétiques du
positionnement seront supprimés.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the FTIR plot as a ggplot2 object, with a marker added at the
specified wavenumber.
</p>
<p>le tracé IRTF en tant qu'objet ggplot2, avec un marqueur ajouté au nombre
d'ondes spécifié.
</p>


<h3>See Also</h3>

<p>See <code>vignette("ggplot2-specs")</code> for more information on setting
aesthetics.
</p>
<p>Voir <code>vignette("ggplot2-specs")</code> pour plus d'informations sur la définition
de l'esthétique.
</p>
<p><code><a href="#topic+add_band">add_band()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Generate a plot
  biodiesel_plot &lt;- plot_ftir(biodiesel)

  # Add a marker at 1742 cm^-1 for the carbonyl C=O Stretch
  p &lt;- add_wavenumber_marker(biodiesel_plot, 1742, text = "C=O Stretch")
  p

  # Add a second marker and use a dashed line for the C-H aliphatic stretch
  add_wavenumber_marker(p, 2920,
    text = "C-H Stretch",
    line_aesthetics = list("linetype" = "dashed")
  )
}
</code></pre>

<hr>
<h2 id='average_spectra'>Average FTIR Spectra</h2><span id='topic+average_spectra'></span>

<h3>Description</h3>

<p>Calculates an average of two or more spectra.
</p>
<p>Calcule la moyenne de deux spectres ou plus.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>average_spectra(ftir, sample_ids = NA, average_id = "averaged_spectra")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="average_spectra_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame of FTIR spectral data including spectra to be
converted.
</p>
<p>Un data.frame de données spectrales IRTF comprenant les spectres à
convertir.</p>
</td></tr>
<tr><td><code id="average_spectra_+3A_sample_ids">sample_ids</code></td>
<td>
<p>A vector of sample IDs to be averaged together. All sample
IDs must be present in the <code>ftir</code> data.frame. If averaging all spectra,
provide <code>NA</code> or <code>NULL.</code>
</p>
<p>Un vecteur d'identifiants d'échantillons dont la moyenne doit être
calculée.. Tous les identifiants des échantillons doivent être présents
dans le data.frame <code>ftir</code>. Si la moyenne est calculée pour tous les
spectres, indiquez <code>NA</code> ou <code>NULL.</code></p>
</td></tr>
<tr><td><code id="average_spectra_+3A_average_id">average_id</code></td>
<td>
<p>The name to be used as <code>sample_id</code> for the averaged
spectra.
</p>
<p>Le nom à utiliser en tant que <code>sample_id</code> pour les spectres moyennés.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the averaged FTIR spectra, with <code>sample_id</code>
corresponding to the provided <code>average_id</code>.
</p>
<p>Un data.frame contenant les spectres IRTF moyennés, avec <code>sample_id</code>
correspondant à l'identifiant <code>average_id</code> fourni.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate the average of biodiesel B5 spectra and the unknown spectra

average_spectra(biodiesel, c("biodiesel_5_0", "biodiesel_B5", "diesel_unknown"))
</code></pre>

<hr>
<h2 id='biodiesel'>FTIR Bio-diesel data</h2><span id='topic+biodiesel'></span>

<h3>Description</h3>

<p>This dataset holds example data from an 5-Bounce ZnSe Attenuated
Total Reflectance (ATR) FTIR instrument collected for biodiesel analysis.
The biodiesel samples were purchased calibration standards or available on
the Canadian commercial market in 2024.
</p>
<p>The samples included in this data set are:
* 'biodiesel_0' A calibration sample with 0.0 
* 'biodiesel_0_25' A calibration sample with 0.25 
* 'biodiesel_0_50' A calibration sample with 0.50 
* 'biodiesel_1_0' A calibration sample with 1.0 
* 'biodiesel_2_5' A calibration sample with 2.5 
* 'biodiesel_5_0' A calibration sample with 5.0 
* 'biodiesel_7_5' A calibration sample with 7.5 
* 'biodiesel_10_0' A calibration sample with 10.0 
* 'biodiesel_B0_5' A commercially available sample with approximately 0.5 
* 'biodiesel_B5' A commercially available sample with approximately 5.0 
* 'diesel_unknown' A commercially available sample with unknown biodiesel content.
</p>
<p>Ce donnée contient des exemples de données provenant d'un
instrument IRTF à réflectance totale atténuée (RTA) ZnSe à 5 rebonds
collectées pour l'analyse du biodiesel. Les échantillons de biodiesel
étaient des étalons d'étalonnage achetés ou disponibles sur le marché
commercial canadien en 2024.
</p>
<p>Les échantillons inclus dans cet ensemble de données sont :
* &lsquo;biodiesel_0' Un échantillon d&rsquo;étalonnage avec 0,0 
* &lsquo;biodiesel_0_25' Un échantillon d&rsquo;étalonnage avec 0,25 
* &lsquo;biodiesel_0_50' Un échantillon d&rsquo;étalonnage avec 0,50 
* &lsquo;biodiesel_1_0' Un échantillon d&rsquo;étalonnage avec 1,0 
* &lsquo;biodiesel_2_5' Un échantillon d&rsquo;étalonnage avec 2,5 
* &lsquo;biodiesel_5_0' Un échantillon d&rsquo;étalonnage avec 5,0 
* &lsquo;biodiesel_7_5' Un échantillon d&rsquo;étalonnage avec 7,5 
* &lsquo;biodiesel_10_0' Un échantillon d&rsquo;étalonnage avec 10,0 
* 'biodiesel_B0_5' Un échantillon disponible dans le commerce contenant environ 0,5 
* 'biodiesel_B5' Un échantillon disponible dans le commerce contenant environ 5,0 
* 'diesel_unknown' Un échantillon disponible dans le commerce avec une teneur en biodiesel inconnue.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biodiesel
</code></pre>


<h3>Format</h3>

<p>The data is in a long format data.frame, ready for use, and with the
following variables:
</p>
<p>* 'wavenumber' wavenumber (x axis) value for each point. In units of wavenumbers (cm^-1).
* 'absorbance' the absorbance of the sample at each specified wavenumber.
* 'sample_id' the sample identity of the various included spectra.
</p>
<p>Les données sont dans un format long data.frame, prêt à l'emploi, et avec les variables suivantes:
</p>
<p>* &lsquo;wavenmber' valeur du nombre d&rsquo;onde (axe x) pour chaque point. En unités de nombres d'ondes (cm^-1).
* &lsquo;absorbance' l&rsquo;absorbance de l'échantillon à chaque nombre d'onde spécifié.
* &lsquo;sample_id' identité d&rsquo;échantillon des différents spectres inclus.
</p>

<hr>
<h2 id='check_ftir_data'>Check FTIR Data</h2><span id='topic+check_ftir_data'></span>

<h3>Description</h3>

<p>Check provided FTIR dataframe is appropriate for manipulation or plotting
Not typically called directly, but as a function in data integrity check process before
further calculation or plotting happens. Sets dataframe attribute &quot;intensity&quot; to
&quot;transmittance&quot; or &quot;absorbance&quot; if not previously set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_ftir_data(ftir)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_ftir_data_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame of FTIR spectral data including column to be
converted. Can't contain both 'absorbance' and 'transmittance' column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible ftir data if ok
</p>

<hr>
<h2 id='chemospec_to_plotftir'>'ChemoSec' to 'PlotFTIR' conversions</h2><span id='topic+chemospec_to_plotftir'></span>

<h3>Description</h3>

<p>Converts 'ChemoSpec' data to that ready to use by 'PlotFTIR'.
</p>
<p>Convertit les données 'ChemoSpec' en données prêtes à être utilisées par 'PlotFTIR'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chemospec_to_plotftir(csdata)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chemospec_to_plotftir_+3A_csdata">csdata</code></td>
<td>
<p>'ChemoSpec' data to convert to 'PlotFTIR.'
Données 'ChemoSpec' a convertir à 'PlotFTIR'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame compatible with 'PlotFTIR' functions
</p>
<p>un data.frame compatible avec les fonctions 'PlotFTIR'.
</p>


<h3>See Also</h3>

<p>[ChemoSpec::files2SpectraObject()] for import requirements, and [chemospec_to_plotftir()] for converting to 'PlotFTIR' format.
</p>
<p>[ChemoSpec::files2SpectraObject()] pour les conditions d'importation, et [chemospec_to_plotftir()] pour la conversion au format 'PlotFTIR'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ChemoSpec", quietly = TRUE)) {
  # convert `chemospec` to PlotFTIR data
  data("SrE.IR", package = "ChemoSpec", envir = environment())
  chemospec_to_plotftir(SrE.IR)
}
</code></pre>

<hr>
<h2 id='compress_low_energy'>Compress Low-Energy Region</h2><span id='topic+compress_low_energy'></span>

<h3>Description</h3>

<p>Compress the lower energy region of a FTIR plot (on the x axis) to
leave more space for the higher-energy region. This is commonly done for
wavenumbers higher than 2000 cm^-1 as the more complex spectra at higher
energy (lower wavenumber) is harder to see clearly.
</p>
<p>Compressez la région de basse énergie d'un tracé d'IRTF (sur l'axe des x) pour
laisser plus d'espace à la région de haute énergie. Cette opération
généralement réalisée pour les nombres d'onde supérieurs à 2000 cm^-1, car
les spectres plus complexes à houte énergie (nombre d'onde
plus faible) sont plus difficiles à voir clairement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compress_low_energy(ftir_spectra_plot, cutoff = 2000, compression_ratio = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compress_low_energy_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by [plot_ftir()] or
[plot_ftir_stacked()].
</p>
<p>Un tracé généré par [plot_ftir()] ou [plot_ftir_stacked()].</p>
</td></tr>
<tr><td><code id="compress_low_energy_+3A_cutoff">cutoff</code></td>
<td>
<p>The wavenumber whereat those at lower energy will be
compressed, but those above will be shown normally.
</p>
<p>Le nombre d'ondes où celles à faible énergie seront comprimées,
mais celles au-dessus seront affichées normalement.</p>
</td></tr>
<tr><td><code id="compress_low_energy_+3A_compression_ratio">compression_ratio</code></td>
<td>
<p>A numeric value indicating the ratio by which to
squeeze the data
</p>
<p>Une valeur numérique indiquant le rapport selon lequel compresser les
données</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the FTIR plot as a ggplot2 object, with x axis compressed for some
wavenumber range
</p>
<p>le tracé IRTF en tant qu'objet ggplot2, avec l'axe des x comprimé pour
une certaine gamme de nombres d'ondes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Generate a plot
  biodiesel_plot &lt;- plot_ftir(biodiesel)

  # Compress below 2000 cm^-1 by a factor of 5
  compress_low_energy(biodiesel_plot, cutoff = 2000, compression_ratio = 5)
}
</code></pre>

<hr>
<h2 id='compress_trans'>Compression Transformation</h2><span id='topic+compress_trans'></span>

<h3>Description</h3>

<p>used in 'compress_low_energy()'
utilisé en 'compress_low_energy'()'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compress_trans(intercept = 2000, ratio = 5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compress_trans_+3A_intercept">intercept</code></td>
<td>
<p>the wavenumber at which compression starts
le nombre d'onde auquel la compression commence</p>
</td></tr>
<tr><td><code id="compress_trans_+3A_ratio">ratio</code></td>
<td>
<p>the rate of compression (larger numbers are more compressed)
le taux de compression (des nombres plus grands sont plus compressés)</p>
</td></tr>
</table>


<h3>References</h3>

<p>From https://stackoverflow.com/a/43321639 &amp; https://stackoverflow.com/a/78360580
</p>

<hr>
<h2 id='conversion'>Convert Between Absorbance and Transmittance</h2><span id='topic+conversion'></span><span id='topic+absorbance_to_transmittance'></span><span id='topic+transmittance_to_absorbance'></span>

<h3>Description</h3>

<p>These functions allow for the convenient conversion between
%Transmittance and Absorbance units for the Y axis.
</p>
<p>Converting between %Transmittance and absorbance units for the Y axis is
not a simple flipping of axis or inversion. Instead, the two are related by
the following formulas:
</p>
<p style="text-align: center;"><code class="reqn">
 A=-log_{10}(\tfrac{\%T}{100})
</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">
 \%T=10^{-A}\cdot 100
</code>
</p>
<p>.
</p>
<p>Ces fonctions permettent une conversion pratique entre les unités
%Transmittance et Absorbance pour l'axe Y. La conversion entre les unités
%Transmittance et Absorbance pour l'axe Y n'est pas un simple retournement
d'axe ou une inversion. Au lieu de cela, les deux sont liés par les
formules suivantes :
</p>
<p style="text-align: center;"><code class="reqn">
 A=-log_{10}(\tfrac{\%T}{100})
</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">
 \%T=10^{-A}\cdot 100
</code>
</p>



<h3>Usage</h3>

<pre><code class='language-R'>absorbance_to_transmittance(ftir)

transmittance_to_absorbance(ftir)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conversion_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame of FTIR spectral data including column to be
converted. Can't contain both 'absorbance' and 'transmittance' column as
the receiving column would be overwritten
</p>
<p>Un data.frame de données spectrales IRTF incluant la colonne à convertir.
Ne peut pas contenir les colonnes 'absorbance' et 'transmittance' car la
colonne de réception serait écrasée.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame of FTIR spectral data with conversion between absorbance
or transmittance as requested. Note the original data column is removed
since FTIR spectral data frames can't be fed into plotting functions with
both transmittance and absorbance data included.
</p>
<p>un data.frame de données spectrales IRTF avec conversion entre l'absorbance
ou la transmittance comme demandé. Notez que la colonne de données
d'origine est supprimée car les trames de données spectrales IRTF ne
peuvent pas être introduites dans les fonctions de tracé avec les données
de transmittance et d'absorbance incluses.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Convert from absorbance to transmittance
sample_spectra_transmittance &lt;- absorbance_to_transmittance(sample_spectra)

# Convert back to absorbance
sample_spectra_absorbance &lt;- transmittance_to_absorbance(sample_spectra_transmittance)

</code></pre>

<hr>
<h2 id='get_plot_sample_ids'>Get Plot Sample IDs</h2><span id='topic+get_plot_sample_ids'></span>

<h3>Description</h3>

<p>Get the sample IDs from a prepared plot. Useful if renaming in
the plot legend.
</p>
<p>Obtenez les ID d’échantillon à partir d’un tracé préparé. Utile si vous
renommez dans la légende de le tracé
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_plot_sample_ids(ftir_spectra_plot)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_plot_sample_ids_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by [plot_ftir()] or
[plot_ftir_stacked()].
</p>
<p>Un tracé généré par [plot_ftir()] ou [plot_ftir_stacked()].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of factors corresponding to the sample IDs in the plot.
</p>
<p>unvecteur de facteurs correspondant aux ID d'échantillon dans le tracé
</p>


<h3>See Also</h3>

<p>[rename_plot_sample_ids()]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Prepare a plot
  p &lt;- plot_ftir(biodiesel)

  # Get the Sample IDs
  get_plot_sample_ids &lt;- (p)
}
</code></pre>

<hr>
<h2 id='highlight_sample'>Highlight Sample Spectra</h2><span id='topic+highlight_sample'></span>

<h3>Description</h3>

<p>Highlight one or more sample spectra on a spectral image. Changes all un-selected <code>sample_id</code>s to grey lines. Requires <code><a href="gghighlight.html#topic+gghighlight">gghighlight::gghighlight()</a></code> to function.
</p>
<p>Surligne un ou plusieurs spectres d'échantillons sur une image spectrale. Change tous les spectres <code>sample_id</code>s non sélectionnés en lignes grises. Nécessite <code><a href="gghighlight.html#topic+gghighlight">gghighlight::gghighlight()</a></code> pour fonctionner.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>highlight_sample(ftir_spectra_plot, sample_ids, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="highlight_sample_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by <code><a href="#topic+plot_ftir">plot_ftir()</a></code> or
<code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.
</p>
<p>Un tracé généré par <code><a href="#topic+plot_ftir">plot_ftir()</a></code> ou <code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.</p>
</td></tr>
<tr><td><code id="highlight_sample_+3A_sample_ids">sample_ids</code></td>
<td>
<p>A vector of one or more <code>sample_id</code>s from the <code>ftir_spectra_plot</code> to highlight.
</p>
<p>Un vecteur d'un ou plusieurs <code>sample_id</code>s du <code>ftir_spectra_plot</code> à souligner.</p>
</td></tr>
<tr><td><code id="highlight_sample_+3A_...">...</code></td>
<td>
<p>Additional parameters to pass to <code><a href="gghighlight.html#topic+gghighlight">gghighlight::gghighlight()</a></code>.
</p>
<p>Paramètres supplémentaires à passer à <code><a href="gghighlight.html#topic+gghighlight">gghighlight::gghighlight()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the FTIR plot as a ggplot2 object, with selected sample spectra highlighted.
</p>
<p>le tracé FTIR en tant qu'objet ggplot2, avec les spectres de l'échantillon sélectionné soulignier.
</p>


<h3>See Also</h3>

<p><code><a href="gghighlight.html#topic+gghighlight">gghighlight::gghighlight()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE) &amp; requireNamespace("gghighlight", quietly = TRUE)) {
  # Generate a plot
  p &lt;- plot_ftir(sample_spectra)

  # Highlight one sample:
  highlight_sample(p, "isopropanol")
}
</code></pre>

<hr>
<h2 id='intensity_type'>Intensity Type</h2><span id='topic+intensity_type'></span>

<h3>Description</h3>

<p>Determines if the provided data has intensity type of absorbance or transmittance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>intensity_type(ftir)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="intensity_type_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame of FTIR spectral data including column to be
converted. Can't contain both 'absorbance' and 'transmittance' column as
the receiving column would be overwritten
</p>
<p>Un data.frame de données spectrales IRTF incluant la colonne à convertir.
Ne peut pas contenir les colonnes 'absorbance' et 'transmittance' car la
colonne de réception serait écrasée.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character value 'absorbance' or 'transmittance'
</p>

<hr>
<h2 id='ir_to_plotftir'>Convert 'ir' to 'PlotFTIR' data format</h2><span id='topic+ir_to_plotftir'></span>

<h3>Description</h3>

<p>convert data from the 'ir' package to a structure that will work with 'PlotFTIR'.
</p>
<p>convertir les données du paquet 'ir' en une structure qui fonctionnera avec 'PlotFTIR'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ir_to_plotftir(ir_data, what = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ir_to_plotftir_+3A_ir_data">ir_data</code></td>
<td>
<p>data of class 'ir' from 'ir' package
</p>
<p>données de la classe 'ir' du paquet 'ir'.</p>
</td></tr>
<tr><td><code id="ir_to_plotftir_+3A_what">what</code></td>
<td>
<p>which samples to convert to 'PlotFTIR' format. Defaults to all available spectra.
</p>
<p>les échantillons à convertir au format 'PlotFTIR'. Par défaut, tous les spectres disponibles</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame compatible with 'PlotFTIR' functions
</p>
<p>un data.frame compatible avec les fonctions 'PlotFTIR'.
</p>


<h3>See Also</h3>

<p>[ir::ir_get_spectrum()] for information on how ir passes out data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ir", quietly = TRUE)) {
  # Convert samples 1 &amp; 4 to PlotFTIR format
  ir_to_plotftir(ir::ir_sample_data, c(1, 4))
}

</code></pre>

<hr>
<h2 id='move_plot_legend'>Move Plot Legend</h2><span id='topic+move_plot_legend'></span>

<h3>Description</h3>

<p>A shortcut to basic plot legend modifications. The plot legend
can be moved to different locations, justifieid in those locations, and/or
changed from vertical to horizontal. By default, legends are positioned
with 'position = &quot;right&quot;', 'justification = &quot;center&quot;', and
'direction = &quot;vertical&quot;'.
</p>
<p>For more complex legend manipulation please perform using [ggplot::theme()]
controls directly on the plot object. More information at
[https://ggplot2.tidyverse.org/reference/theme.html](https://ggplot2.tidyverse.org/reference/theme.html#examples).
</p>
<p>Un raccourci vers les modifications de base de la légende du tracé. La
légende du tracé peut être déplacée à différents emplacements, justifiée à
ces endroits et/ou modifiée de verticale à horizontale. Par défaut, les
légendes sont positionnées avec 'position = &quot;right&quot;',
'justification = &quot;center&quot;' et 'direction = &quot;vertical&quot;'.
</p>
<p>Pour une manipulation plus complexe de légende, veuillez utiliser les
contrôles [ggplot::theme()] directement sur l'objet de tracé. Pour plus
d'informations, voir
[https://ggplot2.tidyverse.org/reference/theme.html](https://ggplot2.tidyverse.org/reference/theme.html#examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>move_plot_legend(
  ftir_spectra_plot,
  position = NULL,
  justification = NULL,
  direction = NULL,
  legend_title_position = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="move_plot_legend_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by [plot_ftir()] or
[plot_ftir_stacked()].
</p>
<p>Un tracé généré par [plot_ftir()] ou [plot_ftir_stacked()].</p>
</td></tr>
<tr><td><code id="move_plot_legend_+3A_position">position</code></td>
<td>
<p>Position for the legend. One of '&quot;none&quot;', '&quot;left&quot;',
'&quot;right&quot;', '&quot;bottom&quot;', or '&quot;top&quot;'.
</p>
<p>Position pour la légende. Un des '&quot;none&quot;', '&quot;left&quot;', '&quot;right&quot;', '&quot;bottom&quot;',
ou '&quot;top&quot;'.</p>
</td></tr>
<tr><td><code id="move_plot_legend_+3A_justification">justification</code></td>
<td>
<p>Justification for the legend. One of '&quot;top&quot;',
'&quot;bottom&quot;', '&quot;center&quot;', '&quot;left&quot;', or '&quot;right&quot;'.
</p>
<p>Justification de la légende. Un des '&quot;top&quot;', '&quot;bottom&quot;', '&quot;center&quot;',
'&quot;left&quot;', ou '&quot;right&quot;'.</p>
</td></tr>
<tr><td><code id="move_plot_legend_+3A_direction">direction</code></td>
<td>
<p>Direction for the legend. One of '&quot;horizontal&quot;' or
'&quot;vertical&quot;'.
</p>
<p>Direction de la légende. L'un des '&quot;horizontal&quot;' ou '&quot;vertical&quot;'.</p>
</td></tr>
<tr><td><code id="move_plot_legend_+3A_legend_title_position">legend_title_position</code></td>
<td>
<p>A position for the legend title relative to the
legend items. One of '&quot;top&quot;', '&quot;right&quot;', '&quot;left&quot;', or '&quot;bottom&quot;'.
</p>
<p>Une position pour le titre de la légende par rapport aux éléments de
légende. Un des '&quot;top&quot;', '&quot;right&quot;', '&quot;left&quot;', ou '&quot;bottom&quot;'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the FTIR plot as a ggplot2 object, with legend relocated as required.
</p>
<p>le tracé IRTF en tant qu'objet ggplot2, avec la légende déplacée si
nécessaire
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Generate a plot
  p &lt;- plot_ftir(sample_spectra)

  # Move legend to bottom:
  move_plot_legend(p, position = "bottom", direction = "horizontal")
}
</code></pre>

<hr>
<h2 id='normalize_spectra'>Normalize FTIR spectra</h2><span id='topic+normalize_spectra'></span>

<h3>Description</h3>

<p>Normalizing spectra restricts the range of absorbance values from
0 to 1 inclusive. This function shifts and scales spectra to achieve this
absorbance range. It can be applied to a whole spectral set or just one
sample, and across the entire spectra or by normalizing within a wavenumber
region. This function does not operate on transmittance data, it will return
an error.
</p>
<p>La normalisation des spectres restreint la gamme des valeurs d'absorbance de 0
à 1 inclus. Cette fonction décale et met à l'échelle les spectres pour
atteindre cette gamme d'absorbance. Elle peut être appliquée à un ensemble de
spectres ou à un seul échantillon, et sur l'ensemble des spectres ou en
normalisant dans une région de nombre d'ondes. Cette fonction ne fonctionne
pas sur les données de transmittance, elle renverra une erreur.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalize_spectra(ftir, sample_ids = NA, wavenumber_range = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="normalize_spectra_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame of FTIR spectral data including spectra to be
baseline adjusted.
</p>
<p>Un data.frame de données spectrales IRTF comprenant les spectres à ajuster
à la ligne de base.</p>
</td></tr>
<tr><td><code id="normalize_spectra_+3A_sample_ids">sample_ids</code></td>
<td>
<p>A vector of sample IDs to be adjusted. All sample IDs must
be present in the <code>ftir</code> data.frame. If adjusting all spectra, provide NA
or NULL. Unlisted <code>sample_id</code> from <code>ftir</code> will be left alone.
</p>
<p>Un vecteur d'ID d'échantillons à ajuster Tous les ID d'échantillons doivent
être présents dans la base de données <code>ftir</code> data.frame. Si l'ajustement
concerne tous les spectres, fournir NA ou NULL. Les <code>sample_id</code> non listés
de <code>ftir</code> seront laissés seuls.</p>
</td></tr>
<tr><td><code id="normalize_spectra_+3A_wavenumber_range">wavenumber_range</code></td>
<td>
<p>If specifying a single point wavenumber; a single
numeric value. If specifying a wavenumber range, then a vector of two
numeric values.
</p>
<p>Si l'on spécifie un nombre d'ondes ponctuel, une seule valeur numérique. Si
l'on spécifie un nombre d'ondes, alors un vecteur de deux valeurs
numériques.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the adjusted FTIR spectra.
</p>
<p>Un data.frame contenant les spectres IRTF ajustee.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Normalize all samples in `biodiesel`
normalize_spectra(biodiesel)

# Normalize just `paper` and `isopropanol` spectra from 4000 to 3100 cm^-1^
normalize_spectra(sample_spectra,
  sample_ids = c("paper", "isopropanol"),
  wavenumber_range = c(4000, 3100)
)
</code></pre>

<hr>
<h2 id='plot_ftir'>Plot FTIR Spectra Overlaid</h2><span id='topic+plot_ftir'></span>

<h3>Description</h3>

<p>Produce a basic spectra overlay plot for all samples found in
the FTIR dataset provided.
</p>
<p>Produisez un tracé de base de superposition de spectres pour tous les
échantillons trouvés dans l'ensemble de données IRTF fourni.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ftir(
  ftir,
  plot_title = "FTIR Spectra",
  legend_title = "Sample ID",
  lang = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_ftir_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame in long format with columns 'sample_id',
'wavenumber', and 'absorbance'. The 'absorbance' column may be replaced by
a 'transmittance' column for transmittance plots. The code determines the
correct y axis units and labels the plot/adjusts the margins appropriately.
</p>
<p>Un data.frame au format long avec les colonnes 'sample_id', 'wavenumber',
et 'absorbance'. La colonne 'absorbance' peut être remplacée par une
colonne 'transmittance' pour les tracés de transmission. Le code détermine
les unités correctes de l'axe y et étiquette le tracé/ajuste les marges de
manière appropriée.</p>
</td></tr>
<tr><td><code id="plot_ftir_+3A_plot_title">plot_title</code></td>
<td>
<p>A title for a plot. Defaults to &quot;FTIR Spectra&quot;. If a vector
length two, the second element will be used for a subtitle.
</p>
<p>Un titre pour une trace. La valeur par défaut est «FTIR Spectra». Si un
vecteur mesure deux, le deuxième élément sera utilisé pour un sous-titre.</p>
</td></tr>
<tr><td><code id="plot_ftir_+3A_legend_title">legend_title</code></td>
<td>
<p>A title for the legend. Defaults to &quot;Sample ID&quot;.
</p>
<p>Un titre pour la légende. La valeur par défaut est «Sample ID».</p>
</td></tr>
<tr><td><code id="plot_ftir_+3A_lang">lang</code></td>
<td>
<p>An optional argument for language. If set to one of 'fr',
'french', 'francais', or 'français' the axis and default plot and legend
titles will change to french. If non-default legend or plot titles are
provided they are used as-is. You can also provide 'en', 'english' or
'anglais', or (the default) 'NA' will use the default language from user
options. To set a permanent default, set 'options(&quot;PlotFTIR.lang&quot; = &quot;en&quot;)'
or 'options(&quot;PlotFTIR.lang&quot; = &quot;fr&quot;)' for English or French, respectively.
</p>
<p>Un argument optionnel pour la langue. S'il vaut 'Fr', 'French', 'Francais',
ou &lsquo;Français', l&rsquo;axe et les titres par défaut de le tracé et du légende
seront en français. Si des titres du légende ou de tracé autres que ceux
par défaut sont fournis, ils seront utilisés tels quels. Vous pouvez aussi
fournir 'en', 'english' ou 'anglais', ou (le défaut) 'NA' qui utilisera le
langue par défaut des options de l'utilisateur. Pour définir une valeur
par défaut permanente, mettez 'options(&quot;PlotFTIR.lang&quot; = &quot;en&quot;)' ou
&lsquo;options(&quot;PlotFTIR.lang&quot; = &quot;fr&quot;)' pour l&rsquo;anglais ou le français,
respectivement.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object containing a  FTIR spectral plot. The plot and legend
titles are as provided, with each sample provided a different default
color. Because this is a ggplot object, any other ggplot modifiers, layers,
or changes can be applied to the returned object. Further manipulations can
be performed by this package. Peut également fournir 'en', 'english' ou
'anglais'.
</p>
<p>un objet ggplot contenant un tracé spectral IRTF. Les titres de le tracé et
de la légende sont tels que fournis, avec une couleur par défaut différente
pour chaque échantillon. Puisqu'il s'agit d'un objet ggplot, tous les
autres modificateurs, calques ou changements ggplot peuvent être appliqués
à l'objet retourné. D'autres manipulations peuvent être effectuées par ce
package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Plot a basic FTIR Spectra overlay from the `sample_spectra` data set with default titles
  plot_ftir(sample_spectra)
}
</code></pre>

<hr>
<h2 id='plot_ftir_core'>PlotFTIR core plot generator</h2><span id='topic+plot_ftir_core'></span>

<h3>Description</h3>

<p>Plot the FTIR spectra in a journal prepared format. Call
[plot_ftir()] for basic (overlaid) plots and [plot_ftir_stacked()] for
stacked and offset plots.
</p>
<p>Tracez les spectres IRTF dans un format préparé par un journal. Appelez
[plot_ftir()] pour les tracés de base (superposés) et [plot_ftir_stacked()]
pour les tracés empilés et décalés.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ftir_core(
  ftir,
  plot_title = "FTIR Spectra",
  legend_title = "Sample ID",
  lang = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_ftir_core_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame in long format with columns 'sample_id',
'wavenumber', and 'absorbance'. The 'absorbance' column may be replaced by
a 'transmittance' column for transmittance plots. The code determines the
correct y axis units and labels the plot/adjusts the margins appropriately.
</p>
<p>Un data.frame au format long avec les colonnes 'sample_id', 'wavenumber',
et 'absorbance'. La colonne 'absorbance' peut être remplacée par une
colonne 'transmittance' pour les tracés de transmission. Le code détermine
les unités correctes de l'axe y et étiquette le tracé/ajuste les marges de
manière appropriée.</p>
</td></tr>
<tr><td><code id="plot_ftir_core_+3A_plot_title">plot_title</code></td>
<td>
<p>A title for a plot. Defaults to &quot;FTIR Spectra&quot;. If a vector
length two, the second element will be used for a subtitle.
</p>
<p>Un titre pour une trace. La valeur par défaut est «FTIR Spectra». Si un
vecteur mesure deux, le deuxième élément sera utilisé pour un sous-titre.</p>
</td></tr>
<tr><td><code id="plot_ftir_core_+3A_legend_title">legend_title</code></td>
<td>
<p>A title for the legend. Defaults to &quot;Sample ID&quot;.
</p>
<p>Un titre pour la légende. La valeur par défaut est «Sample ID».</p>
</td></tr>
<tr><td><code id="plot_ftir_core_+3A_lang">lang</code></td>
<td>
<p>An optional argument for language. If set to one of 'fr',
'french', 'francais', or 'français' the axis and default plot and legend
titles will change to french. If non-default legend or plot titles are
provided they are used as-is. You can also provide 'en', 'english' or
'anglais', or (the default) 'NA' will use the default language from user
options. To set a permanent default, set 'options(&quot;PlotFTIR.lang&quot; = &quot;en&quot;)'
or 'options(&quot;PlotFTIR.lang&quot; = &quot;fr&quot;)' for English or French, respectively.
</p>
<p>Un argument optionnel pour la langue. S'il vaut 'Fr', 'French', 'Francais',
ou &lsquo;Français', l&rsquo;axe et les titres par défaut de le tracé et du légende
seront en français. Si des titres du légende ou de tracé autres que ceux
par défaut sont fournis, ils seront utilisés tels quels. Vous pouvez aussi
fournir 'en', 'english' ou 'anglais', ou (le défaut) 'NA' qui utilisera le
langue par défaut des options de l'utilisateur. Pour définir une valeur
par défaut permanente, mettez 'options(&quot;PlotFTIR.lang&quot; = &quot;en&quot;)' ou
&lsquo;options(&quot;PlotFTIR.lang&quot; = &quot;fr&quot;)' pour l&rsquo;anglais ou le français,
respectivement.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object containing a  FTIR spectral plot. The plot and legend
titles are as provided, with each sample provided a different default
color. Because this is a ggplot object, any other ggplot modifiers, layers,
or changes can be applied to the returned object. Further manipulations can
be performed by this package. Peut également fournir 'en', 'english' ou
'anglais'.
</p>
<p>un objet ggplot contenant un tracé spectral IRTF. Les titres de le tracé et
de la légende sont tels que fournis, avec une couleur par défaut différente
pour chaque échantillon. Puisqu'il s'agit d'un objet ggplot, tous les
autres modificateurs, calques ou changements ggplot peuvent être appliqués
à l'objet retourné. D'autres manipulations peuvent être effectuées par ce
package.
</p>


<h3>See Also</h3>

<p>[zoom_in_on_range()] to 'zoom' into a specified range,
[compress_low_energy()] to make the x axis non-linear (compressing lower
energy regions), [add_wavenumber_marker()] to add markers to highlight
important wavenumbers, and [move_plot_legend()] to modify the legend
position.
</p>
<p>[zoom_in_on_range()] pour 'zoomer' sur une gamme spécifiée,
[compress_low_energy()] pour rendre l'axe x non linéaire (en compression
les régions à basse énergie), [add_wavenumber_marker()] pour ajouter des
marqueurs afin de mettre en évidence les nombres d'ondes importants, et
[move_plot_legend()] pour modifier la position de la légende.
</p>

<hr>
<h2 id='plot_ftir_stacked'>Plot FTIR in stacked format</h2><span id='topic+plot_ftir_stacked'></span>

<h3>Description</h3>

<p>Plot the FTIR spectra in a journal prepared format. It may be
desirable to plot spectra 'stacked and offset' by a certain amount. In this
case the y axis becomes non-labelled and each charts baseline (0 for
absorbance or 100 for transmittance) is offset by a certain amount.
</p>
<p>Tracez les spectres IRTF dans un format préparé par un journal. Il peut être
souhaitable de tracer les spectres 'empilés et décalés' d'une
certaine quantité. Dans ce cas l'axe y devient non étiqueté et
chaque ligne de base du graphique (0 pour absorbance ou 100 pour la
transmittance) est décalée d'une certaine quantité.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ftir_stacked(
  ftir,
  plot_title = "FTIR Spectra",
  legend_title = "Sample ID",
  stack_offset = 10,
  lang = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_ftir_stacked_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame in long format with columns 'sample_id',
'wavenumber', and 'absorbance'. The 'absorbance' column may be replaced by
a 'transmittance' column for transmittance plots. The code determines the
correct y axis units and labels the plot/adjusts the margins appropriately.
</p>
<p>Un data.frame au format long avec les colonnes 'sample_id', 'wavenumber',
et 'absorbance'. La colonne 'absorbance' peut être remplacée par une
colonne 'transmittance' pour les tracés de transmission. Le code détermine
les unités correctes de l'axe y et étiquette le tracé/ajuste les marges de
manière appropriée.</p>
</td></tr>
<tr><td><code id="plot_ftir_stacked_+3A_plot_title">plot_title</code></td>
<td>
<p>A title for a plot. Defaults to &quot;FTIR Spectra&quot;. If a vector
length two, the second element will be used for a subtitle.
</p>
<p>Un titre pour une trace. La valeur par défaut est «FTIR Spectra». Si un
vecteur mesure deux, le deuxième élément sera utilisé pour un sous-titre.</p>
</td></tr>
<tr><td><code id="plot_ftir_stacked_+3A_legend_title">legend_title</code></td>
<td>
<p>A title for the legend. Defaults to &quot;Sample ID&quot;.
</p>
<p>Un titre pour la légende. La valeur par défaut est «Sample ID».</p>
</td></tr>
<tr><td><code id="plot_ftir_stacked_+3A_stack_offset">stack_offset</code></td>
<td>
<p>The amount in percentage of stacking offset to use. For
transmittance this is directly linked to the units of Y axis, for absorbance
this is about 0.2 absorbance units.
</p>
<p>Le montant en pourcentage de décalage d'empilement à utiliser. Pour
transmittance, cette valeur est directement liée aux unités de l'axe y, pour
l'absorbance cela représente environ 0,2 unités d'absorbance.</p>
</td></tr>
<tr><td><code id="plot_ftir_stacked_+3A_lang">lang</code></td>
<td>
<p>An optional argument for language. If set to one of 'fr',
'french', 'francais', or 'français' the axis and default plot and legend
titles will change to french. If non-default legend or plot titles are
provided they are used as-is. You can also provide 'en', 'english' or
'anglais', or (the default) 'NA' will use the default language from user
options. To set a permanent default, set 'options(&quot;PlotFTIR.lang&quot; = &quot;en&quot;)'
or 'options(&quot;PlotFTIR.lang&quot; = &quot;fr&quot;)' for English or French, respectively.
</p>
<p>Un argument optionnel pour la langue. S'il vaut 'Fr', 'French', 'Francais',
ou &lsquo;Français', l&rsquo;axe et les titres par défaut de le tracé et du légende
seront en français. Si des titres du légende ou de tracé autres que ceux
par défaut sont fournis, ils seront utilisés tels quels. Vous pouvez aussi
fournir 'en', 'english' ou 'anglais', ou (le défaut) 'NA' qui utilisera le
langue par défaut des options de l'utilisateur. Pour définir une valeur
par défaut permanente, mettez 'options(&quot;PlotFTIR.lang&quot; = &quot;en&quot;)' ou
&lsquo;options(&quot;PlotFTIR.lang&quot; = &quot;fr&quot;)' pour l&rsquo;anglais ou le français,
respectivement.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object containing a  FTIR spectral plot. The plot and legend
titles are as provided, with each sample provided a different default
color. Because this is a ggplot object, any other ggplot modifiers, layers,
or changes can be applied to the returned object. Further manipulations can
be performed by this package. Peut également fournir 'en', 'english' ou
'anglais'.
</p>
<p>un objet ggplot contenant un tracé spectral IRTF. Les titres de le tracé et
de la légende sont tels que fournis, avec une couleur par défaut différente
pour chaque échantillon. Puisqu'il s'agit d'un objet ggplot, tous les
autres modificateurs, calques ou changements ggplot peuvent être appliqués
à l'objet retourné. D'autres manipulations peuvent être effectuées par ce
package.
</p>


<h3>See Also</h3>

<p>[zoom_in_on_range()] to 'zoom' into a specified range,
[compress_low_energy()] to make the x axis non-linear (compressing lower
energy regions), [add_wavenumber_marker()] to add markers to highlight
important wavenumbers, and [move_plot_legend()] to modify the legend
position.
</p>
<p>[zoom_in_on_range()] pour 'zoomer' sur une gamme spécifiée,
[compress_low_energy()] pour rendre l'axe x non linéaire (en compression
les régions à basse énergie), [add_wavenumber_marker()] pour ajouter des
marqueurs afin de mettre en évidence les nombres d'ondes importants, et
[move_plot_legend()] pour modifier la position de la légende.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Plot FTIR spectras stacked showing the differences in the `biodiesel` dataset
  plot_ftir_stacked(biodiesel)
}
</code></pre>

<hr>
<h2 id='plotftir_to_chemospec'>Convert 'PlotFTIR' data to 'ChemoSpec' format</h2><span id='topic+plotftir_to_chemospec'></span>

<h3>Description</h3>

<p>Converts 'PlotFTIR' data to that ready to use by the 'ChemoSpec' package.
</p>
<p>Convertit les données 'PlotFTIR' en données prêtes à être utilisées par le paquet 'ChemoSpec'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotftir_to_chemospec(
  ftir,
  group_crit = NA,
  group_colours = "auto",
  description = "FTIR Study"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotftir_to_chemospec_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame in long format with columns 'sample_id',
'wavenumber', and 'absorbance'. The 'absorbance' column may be replaced by
a 'transmittance' column for transmittance plots. The code determines the
correct y axis units and labels the plot/adjusts the margins appropriately.
</p>
<p>Un data.frame au format long avec les colonnes 'sample_id', 'wavenumber',
et 'absorbance'. La colonne 'absorbance' peut être remplacée par une
colonne 'transmittance' pour les tracés de transmission. Le code détermine
les unités correctes de l'axe y et étiquette le tracé/ajuste les marges de
manière appropriée.</p>
</td></tr>
<tr><td><code id="plotftir_to_chemospec_+3A_group_crit">group_crit</code></td>
<td>
<p>A vector of character strings. Corresponds to [ChemoSpec::files2SpectraObject()] 'gr.crit' parameter.
</p>
<p>Un vecteur de chaînes de caractères. Correspond au paramètre 'gr.crit' de [ChemoSpec::files2SpectraObject()].</p>
</td></tr>
<tr><td><code id="plotftir_to_chemospec_+3A_group_colours">group_colours</code></td>
<td>
<p>Group colours. Corresponds to [ChemoSpec::files2SpectraObject()] 'gr.cols' parameter.
</p>
<p>Couleurs du groupe. Correspond au paramètre 'gr.cols' de [ChemoSpec::files2SpectraObject()].</p>
</td></tr>
<tr><td><code id="plotftir_to_chemospec_+3A_description">description</code></td>
<td>
<p>A description of the experiment. Corresponds to [ChemoSpec::files2SpectraObject()] 'descrip' parameter.
</p>
<p>Description de l'expérience. Correspond au paramètre 'descrip' de [ChemoSpec::files2SpectraObject()].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'ChemoSpec' data object
</p>
<p>Un objet de données 'ChemoSpec'
</p>


<h3>See Also</h3>

<p>[ChemoSpec::files2SpectraObject()] for import requirements, and [chemospec_to_plotftir()] for converting to 'PlotFTIR' format.
</p>
<p>[ChemoSpec::files2SpectraObject()] pour les conditions d'importation, et [chemospec_to_plotftir()] pour la conversion au format 'PlotFTIR'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ChemoSpec", quietly = TRUE) &amp;&amp; interactive()) {
  # convert biodiesel to a `chemospec` object
  plotftir_to_chemospec(biodiesel)
}
</code></pre>

<hr>
<h2 id='plotftir_to_ir'>Convert 'PlotFTIR' data to 'ir'</h2><span id='topic+plotftir_to_ir'></span>

<h3>Description</h3>

<p>Converts 'PlotFTIR' data to that ready to use by the 'ir' package.
</p>
<p>Convertit les données 'PlotFTIR' en données prêtes à être utilisées par le paquet 'ir'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotftir_to_ir(ftir, metadata = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotftir_to_ir_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame in long format with columns 'sample_id',
'wavenumber', and 'absorbance'. The 'absorbance' column may be replaced by
a 'transmittance' column for transmittance plots. The code determines the
correct y axis units and labels the plot/adjusts the margins appropriately.
</p>
<p>Un data.frame au format long avec les colonnes 'sample_id', 'wavenumber',
et 'absorbance'. La colonne 'absorbance' peut être remplacée par une
colonne 'transmittance' pour les tracés de transmission. Le code détermine
les unités correctes de l'axe y et étiquette le tracé/ajuste les marges de
manière appropriée.</p>
</td></tr>
<tr><td><code id="plotftir_to_ir_+3A_metadata">metadata</code></td>
<td>
<p>Additional data to pass to 'ir' to include as metadata. Should be structured
as a data.frame.
</p>
<p>Données supplémentaires à transmettre à 'ir' pour les inclure dans les métadonnées.
Doit être structuré comme un data.frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an 'ir' classed data.frame structured for use in that package.
</p>
<p>un data.frame de classe 'ir' structuré pour être utilisé dans ce paquet.
</p>


<h3>See Also</h3>

<p>[ir::ir_new_ir()] for information on how ir takes in data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ir", quietly = TRUE)) {
  # convert biodiesel to a `ir` object
  plotftir_to_ir(biodiesel,
    metadata = data.frame("Biodiesel_Content" = c(0, 0.25, 0.5, 1, 2.5, 5, 7.5, 10, 0.5, 5, NA))
  )
}
</code></pre>

<hr>
<h2 id='read_ftir'>Read FTIR file</h2><span id='topic+read_ftir'></span>

<h3>Description</h3>

<p>Reads a provided file and returns a data.frame in the proper format for PlotFTIR functions.
</p>
<p>Lit un fichier fourni et renvoie un data.frame dans le format approprié pour les fonctions PlotFTIR.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_ftir(path = ".", file = NA, sample_name = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_ftir_+3A_path">path</code></td>
<td>
<p>Path to the file. Default is the current working directory, as <code>"."</code>. Can include the filename, in which case provide <code>NA</code> as the filename.
</p>
<p>Chemin d'accès au fichier. Par défaut, il s'agit du répertoire de travail actuel, sous la forme <code>"."</code>. Peut inclure le nom du fichier, auquel cas il faut fournir <code>NA</code> comme nom de fichier.</p>
</td></tr>
<tr><td><code id="read_ftir_+3A_file">file</code></td>
<td>
<p>File name, required. If the file and path are provided together as <code>path</code>, then <code>NA</code> is accepted.
</p>
<p>Nom du fichier, obligatoire. Si le fichier et le chemin sont fournis ensemble en tant que <code>chemin</code>, alors <code>NA</code> est accepté.</p>
</td></tr>
<tr><td><code id="read_ftir_+3A_sample_name">sample_name</code></td>
<td>
<p>Name for sample_id column in the returned data.frame. If not provided, the file name is used without the extension.
</p>
<p>Nom de la colonne sample_id dans le data.frame renvoyé. S'il n'est pas fourni, le nom du fichier est utilisé sans l'extension.</p>
</td></tr>
<tr><td><code id="read_ftir_+3A_...">...</code></td>
<td>
<p>Additional parameters to pass to the file reading function. For CSV files, see <code><a href="utils.html#topic+read.table">utils::read.csv()</a></code>, it may be wise to pass <code>col.names</code> to disambiguate the input data.
</p>
<p>Paramètres supplémentaires à transmettre à la fonction de lecture de fichier. Pour les fichiers CSV, voir <code><a href="utils.html#topic+read.table">utils::read.csv()</a></code>, il peut être judicieux de passer <code>col.names</code> pour désambiguïser les données d'entrée.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame containing the spectral data from the file.
</p>
<p>un data.frame contenant les données spectrales du fichier.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_ftir_directory">read_ftir_directory()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Writing a temporary file to read later
tf &lt;- tempfile(fileext = ".csv")
write.csv(sample_spectra[sample_spectra$sample_id == "paper", c("wavenumber", "absorbance")],
  file = tf, row.names = FALSE
)

# Read the .csv file and call the sample `sample1`
read_ftir(tf, sample_name = "sample1")
</code></pre>

<hr>
<h2 id='read_ftir_directory'>Read FTIR file</h2><span id='topic+read_ftir_directory'></span>

<h3>Description</h3>

<p>Reads provided files and returns a data.frame in the proper format for PlotFTIR functions.
</p>
<p>Lit les fichiers fournis et renvoie un data.frame au format approprié pour les fonctions PlotFTIR.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_ftir_directory(path, files, sample_names = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_ftir_directory_+3A_path">path</code></td>
<td>
<p>Path to the file. Default is the current working directory, as <code>"."</code>.
</p>
<p>Chemin d'accès au fichier. Par défaut, il s'agit du répertoire de travail actuel, sous la forme <code>"."</code>.</p>
</td></tr>
<tr><td><code id="read_ftir_directory_+3A_files">files</code></td>
<td>
<p>File names, required.
</p>
<p>Noms de fichiers, obligatoires.</p>
</td></tr>
<tr><td><code id="read_ftir_directory_+3A_sample_names">sample_names</code></td>
<td>
<p>Name for sample_id column in the returned data.frame. If not provided, the file names are used without the extension.
</p>
<p>Nom de la colonne sample_id dans le data.frame renvoyé. S'il n'est pas fourni, les noms de fichiers sont utilisés sans l'extension.</p>
</td></tr>
<tr><td><code id="read_ftir_directory_+3A_...">...</code></td>
<td>
<p>Additional parameters to pass to the file reading function. For CSV files, see <code><a href="utils.html#topic+read.table">utils::read.csv()</a></code>, it may be wise to pass <code>col.names</code> to disambiguate the input data.
</p>
<p>Paramètres supplémentaires à transmettre à la fonction de lecture de fichier. Pour les fichiers CSV, voir <code><a href="utils.html#topic+read.table">utils::read.csv()</a></code>, il peut être judicieux de passer <code>col.names</code> pour désambiguïser les données d'entrée.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame containing the spectral data from the files.
</p>
<p>un data.frame contenant les données spectrales des fichiers.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_ftir">read_ftir()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Putting some files in a temp dir to read back into PlotFTIR:
td &lt;- tempdir()
write.csv(sample_spectra[sample_spectra$sample_id == "paper", c("wavenumber", "absorbance")],
  file = file.path(td, "ftir_sample_1.csv"), row.names = FALSE
)
write.csv(sample_spectra[sample_spectra$sample_id == "toluene", c("wavenumber", "absorbance")],
  file = file.path(td, "ftir_sample_2.csv"), row.names = FALSE
)

# Read .csv files from the temp directory and call them `sample-1` and `sample-2`
read_ftir_directory(td, c("ftir_sample_1.csv", "ftir_sample_2.csv"), c("sample-1", "sample-2"))

</code></pre>

<hr>
<h2 id='recalculate_baseline'>Recalculate Baseline</h2><span id='topic+recalculate_baseline'></span>

<h3>Description</h3>

<p>It may be desired to shift the baseline signal (0 for absorbance
or 100 for transmittance) to aid in plotting the spectra. This can be done
for all samples or a subset, using the same shift for all adjusted samples
or calculated individually.
</p>
<p>Recalculate or shift to baseline/max transmittance can be done following
one of a few methods:
</p>

<ul>
<li><p> To shift baseline based on the value at a given wavenumber:
<code style="white-space: pre;">&#8288;recalculate_baseline(ftir, wavenumber_range = [numeric], method =   'point')&#8288;</code>
</p>
</li>
<li><p> To shift baseline based on the average value across a provided wavenumber range:
<code style="white-space: pre;">&#8288;recalculate_baseline(ftir, wavenumber_range = c([numeric], [numeric]),   method = 'average')&#8288;</code>
</p>
</li>
<li><p> To shift baseline based on the value at the single lowest point of absorbance
(or highest point of transmittance) across the whole spectra
<code>recalculate_baseline(ftir, method = 'minimum')</code>
</p>
</li>
<li><p> To shift baseline based on the value at the single lowest point of absorbance
(or highest point of transmittance) in a given range
<code style="white-space: pre;">&#8288;recalculate_baseline(ftir, wavenumber_range = c([numeric], [numeric]),   method = 'minimum')&#8288;</code>
</p>
</li></ul>

<p>To perform the exact same baseline adjustment on all samples, specify
<code>individually = FALSE</code>. To adjust with a unique determination for each
sample, specify <code>individualy = TRUE</code>.
</p>
<p>Il peut être souhaitable de décaler le signal de la ligne de base (0 pour
l'absorbance ou 100 pour la transmittance) pour faciliter le tracé des
spectres. Cela peut être fait pour tous les échantillons ou un
sous-ensemble, en utilisant le même décalage pour tous les échantillons
ajustés ou calculés individuellement.
</p>
<p>Le recalcul ou le décalage de la ligne de base/transmittance maximale peut
être effectué en suivant l'une des méthodes suivantes :
</p>

<ul>
<li><p> Pour décaler la ligne de base en fonction de la valeur à un nombre d'ondes donné :
<code style="white-space: pre;">&#8288;recalculate_baseline(ftir, wavenumber_range = [numeric], method = 'point')&#8288;</code>
</p>
</li>
<li><p> Pour décaler la ligne de base en fonction de la valeur moyenne sur un nombre
d'ondes donné : #' <code style="white-space: pre;">&#8288;recalculate_baseline(ftir) = [numerique], method = 'point') &#8288;</code>recalculate_baseline(ftir, wavenumber_range = c(<a href="base.html#topic+numeric">numeric</a>, <a href="base.html#topic+numeric">numeric</a>),
method = 'average')'
</p>
</li>
<li><p> Pour décaler la ligne de base en fonction de la valeur du point d'absorbance
le plus bas (ou du point de transmittance le plus élevé) sur l'ensemble des spectres.
<code>recalculate_baseline(ftir, method = 'minimum')</code>
</p>
</li>
<li><p> Décaler la ligne de base en fonction de la valeur du point d'absorbance le
plus bas (ou du point de transmittance le plus élevé) dans une gamme donnée.
<code style="white-space: pre;">&#8288;recalculate_baseline(ftir, wavenumber_range = c([numeric], [numeric]), method = 'minimum')&#8288;</code>
</p>
<p>Pour effectuer exactement le même ajustement de la ligne de base sur tous
les échantillons, spécifiez <code>individually = FALSE</code>. Pour ajuster avec une
détermination unique pour chaque échantillon, spécifiez <code>individualy = TRUE</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>recalculate_baseline(
  ftir,
  sample_ids = NA,
  wavenumber_range = NA,
  method = "average",
  individually = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recalculate_baseline_+3A_ftir">ftir</code></td>
<td>
<p>A data.frame of FTIR spectral data including spectra to be
baseline adjusted.
</p>
<p>Un data.frame de données spectrales IRTF comprenant les spectres à ajuster
à la ligne de base.</p>
</td></tr>
<tr><td><code id="recalculate_baseline_+3A_sample_ids">sample_ids</code></td>
<td>
<p>A vector of sample IDs to be adjusted. All sample IDs must
be present in the <code>ftir</code> data.frame. If adjusting all spectra, provide NA
or NULL. Unlisted <code>sample_id</code> from <code>ftir</code> will be left alone.
</p>
<p>Un vecteur d'ID d'échantillons à ajuster Tous les ID d'échantillons doivent
être présents dans la base de données <code>ftir</code> data.frame. Si l'ajustement
concerne tous les spectres, fournir NA ou NULL. Les <code>sample_id</code> non listés
de <code>ftir</code> seront laissés seuls.</p>
</td></tr>
<tr><td><code id="recalculate_baseline_+3A_wavenumber_range">wavenumber_range</code></td>
<td>
<p>If specifying a single point wavenumber; a single
numeric value. If specifying a wavenumber range, then a vector of two
numeric values.
</p>
<p>Si l'on spécifie un nombre d'ondes ponctuel, une seule valeur numérique. Si
l'on spécifie un nombre d'ondes, alors un vecteur de deux valeurs
numériques.</p>
</td></tr>
<tr><td><code id="recalculate_baseline_+3A_method">method</code></td>
<td>
<p>One of three values:
</p>

<ul>
<li><p> If adjusting by the value from a specific wavenumber, provide <code>"point"</code>,
</p>
</li>
<li><p> If adjusting by the average from a range, provide <code>"average"</code>.
</p>
</li>
<li><p> If adjusting by the minimum (for absorbance) or maximum (for transmittance) from a range or spectra, provide <code>"minimum"</code> or <code>"maximum"</code>, the appropriate transformation will be performed based on spectra type.
</p>
<p>Une des trois valeurs :
</p>
</li>
<li><p> Si l'ajustement se fait par la valeur d'un nombre d'ondes spécifique, fournir <code>"point"</code>,
</p>
</li>
<li><p> Si l'ajustement se fait par la moyenne d'une gamme, fournir <code>"average"</code>.
</p>
</li>
<li><p> Si l'ajustement se fait par le minimum (pour l'absorbance) ou le maximum (pour la transmittance) d'une gamme ou de spectres, indiquez <code>"minimum"</code> ou <code>"maximum"</code>, la transformation appropriée sera effectuée en fonction du type de spectre.
</p>
</li></ul>
</td></tr>
<tr><td><code id="recalculate_baseline_+3A_individually">individually</code></td>
<td>
<p>If adjusting all samples by the same amount, specify
<code>TRUE</code>, else specify <code>FALSE</code> for unique adjustments. When <code>TRUE</code>, the
smallest absolute individual sample adjustment to achieve baseline will be
applied to all named samples.
</p>
<p>Si vous ajustez tous les échantillons de la même manière, spécifiez <code>TRUE</code>,
sinon spécifiez <code>FALSE</code> pour des ajustements uniques. Si <code>TRUE</code>, le plus
petit ajustement absolu d'un échantillon individuel pour atteindre la ligne
de base sera appliqué à tous les échantillons nommés.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the adjusted FTIR spectra.
</p>
<p>Un data.frame contenant les spectres IRTF ajustee.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Adjust the biodiesel spectra to minimum for each sample
recalculate_baseline(biodiesel, method = "minimum", individually = TRUE)
</code></pre>

<hr>
<h2 id='rename_plot_sample_ids'>Rename Sample IDs in Plot</h2><span id='topic+rename_plot_sample_ids'></span>

<h3>Description</h3>

<p>This function permits renaming Sample IDs as shown in the legend
of a plot. While typically having proper names assigned in the data is
preferred, this function allows for names to be modified after plot
creation.
</p>
<p>Cette fonction permet de renommer les identifiants des échantillons dans la
légende d'un tracé. Bien qu'il soit préférable d'attribuer les noms
appropriés dans les données, cette fonction permet de modifier les noms
après la création du tracé.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_plot_sample_ids(ftir_spectra_plot, sample_ids)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_plot_sample_ids_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by <code><a href="#topic+plot_ftir">plot_ftir()</a></code> or
<code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.
</p>
<p>Un tracé généré par <code><a href="#topic+plot_ftir">plot_ftir()</a></code> ou <code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.</p>
</td></tr>
<tr><td><code id="rename_plot_sample_ids_+3A_sample_ids">sample_ids</code></td>
<td>
<p>A named vector of format <code>"new name" = "old name"</code>. Must
include <em>all</em> sample ID old names (a pair of <code>"old name" = "old name"</code> is
permissible and results in no renaming for that sample).
</p>
<p>Un vecteur nommé du format <code>"nouveau nom" = "ancien nom"</code>. Doit inclure
<em>tous</em> les anciens noms d'ID d'échantillon (une paire de <code>"ancien nom" = "ancien nom"</code> est autorisée et n'entraîne aucun changement de nom pour cet
échantillon).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the FTIR plot as a ggplot2 object, with samples renamed in the
legend.
</p>
<p>le tracé IRTF en tant qu'objet ggplot2, avec les échantillons renommés dans
la légende.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Generate a plot
  p &lt;- plot_ftir(sample_spectra)

  # Rename Samples in Legend:
  new_ids &lt;- c(
    "Toluene" = "toluene", "C7 Alkanes" = "heptanes", "IPA" = "isopropanol",
    "White Paper" = "paper", "PS Film" = "polystyrene"
  )
  rename_plot_sample_ids(p, new_ids)
}
</code></pre>

<hr>
<h2 id='sample_spectra'>FTIR example data</h2><span id='topic+sample_spectra'></span>

<h3>Description</h3>

<p>This dataset holds example data from Attenuated Total
Reflectance (ATR) type FTIR instruments. Solvents were collected on
5-Bounce ZnSe ATR-FTIR and solids were collected on a 1-Bounce Diamond
ATR-FTIR.
</p>
<p>The samples included in this data set are:
* 'toluene' a FTIR spectra of toluene.
* 'isopropanol' a FTIR spectra of isopropanol.
* 'heptanes' a FTIR spectra of heptanes.
* 'paper' a FTIR spectra of a commercially available white paper.
* 'polystyrene' a FTIR spectra of polystyrene film.
</p>
<p>Ce donnée contient des exemples de données provenant
d'instruments IRTF de type réflectance totale atténuée (RTA). Les solvants
ont été collectés sur un RTA-IRTF ZnSe à 5 rebonds et les solides ont été
collectés sur un RTA-IRTF diamant à 1 rebond.
</p>
<p>Les échantillons inclus dans cet ensemble de données sont :
* 'toluene' un spectre IRTF du toluène.
* &lsquo;isopropanol' un spectre IRTF de l&rsquo;isopropanol.
* &lsquo;heptanes' un spectre IRTF d&rsquo;heptanes.
* &lsquo;paper' un spectre IRTF d&rsquo;un livre blanc disponible dans le commerce.
* &lsquo;polystyrene' un spectre IRTF d&rsquo;un film de polystyrène
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_spectra
</code></pre>


<h3>Format</h3>

<p>The data is in a long format data.frame, ready for use, and with the
following variables:
</p>
<p>* 'wavenumber' wavenumber (x axis) value for each point. In units of wavenumbers (cm^-1).
* 'absorbance' the absorbance of the sample at each specified wavenumber.
* 'sample_id' the sample identity of the various included spectra.
</p>
<p>Les données sont dans un format long data.frame, prêt à l'emploi, et avec les variables suivantes:
</p>
<p>* &lsquo;wavenmber' valeur du nombre d&rsquo;onde (axe x) pour chaque point. En unités de nombres d'ondes (cm^-1).
* &lsquo;absorbance' l&rsquo;absorbance de l'échantillon à chaque nombre d'onde spécifié.
* &lsquo;sample_id' identité d&rsquo;échantillon des différents spectres inclus.
</p>

<hr>
<h2 id='save_plot'>Save FTIR Plot</h2><span id='topic+save_plot'></span>

<h3>Description</h3>

<p>Save FTIR plot object to file. Uses [ggplot2::ggsave()] to save to disk. Specify a filename ending with '.svg' for vector graphics, if requeste by a journal.
</p>
<p>Enregistrer l'objet de tracé IRTF dans un fichier. Utilise [ggplot2::ggsave()] pour enregistrer sur le disque. Spécifier un nom de fichier se terminant par '.svg' pour les graphiques vectoriels, si un journal le demande.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_plot(ftir_spectra_plot, filename, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="save_plot_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by [plot_ftir()] or
[plot_ftir_stacked()].
</p>
<p>Un tracé généré par [plot_ftir()] ou [plot_ftir_stacked()].</p>
</td></tr>
<tr><td><code id="save_plot_+3A_filename">filename</code></td>
<td>
<p>Name and directory of the file you wish to create. If it includes a extension the function will produce a file of that type. Options for filetypes include &quot;eps&quot;, &quot;ps&quot;, &quot;tex&quot; (pictex), &quot;pdf&quot;, &quot;jpeg&quot;, &quot;tiff&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;svg&quot; or &quot;wmf&quot; (on windows only).
</p>
<p>Nom et répertoire du fichier que vous souhaitez créer. S'il contient une extension, la fonction produira un fichier de ce type. Les options pour les types de fichiers incluent &quot;eps&quot;, &quot;ps&quot;, &quot;tex&quot; (pictex), &quot;pdf&quot;, &quot;jpeg&quot;, &quot;tiff&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;svg&quot; ou &quot;wmf&quot; (sur Windows uniquement).</p>
</td></tr>
<tr><td><code id="save_plot_+3A_...">...</code></td>
<td>
<p>Additional arguements to pass to [ggplot2::ggsave()].
</p>
<p>Arguments supplémentaires à passer à [ggplot2::ggsave()].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible 'TRUE'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  td &lt;- tempdir()
  save_plot(plot_ftir(biodiesel), filename = file.path(td, "biodiesel_plot.png"))
}
</code></pre>

<hr>
<h2 id='zoom_in_on_range'>Zoom in on a spectral range</h2><span id='topic+zoom_in_on_range'></span>

<h3>Description</h3>

<p>It's common to be interested in only a small portion of the FTIR
range. In these cases, this function will zoom the spectral plot to the
range provided.
</p>
<p>Il est courant de s'intéresser uniquement à une petite partie de la gamme
IRTF. Dans ces cas, cette fonction permet de zoomer sur le tracé spectral
sur la gamme fournie.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zoom_in_on_range(ftir_spectra_plot, zoom_range = c(1000, 1900))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zoom_in_on_range_+3A_ftir_spectra_plot">ftir_spectra_plot</code></td>
<td>
<p>A plot generated by <code><a href="#topic+plot_ftir">plot_ftir()</a></code> or
<code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.
</p>
<p>Un tracé généré par <code><a href="#topic+plot_ftir">plot_ftir()</a></code> ou <code><a href="#topic+plot_ftir_stacked">plot_ftir_stacked()</a></code>.</p>
</td></tr>
<tr><td><code id="zoom_in_on_range_+3A_zoom_range">zoom_range</code></td>
<td>
<p>A vector of length two, with the wavenumber range of
interest. Order of provided limits is not important.
</p>
<p>Un vecteur de longueur deux, avec la gamme de nombres d'ondes de d'intérêt.
L'ordre des limites fournies n'est pas important.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the FTIR plot as a ggplot2 object, with x axis limits as those supplied by
<code>zoom_range</code>.
</p>
<p>le tracé IRTF en tant qu'objet ggplot2, avec des limites d'axe x comme
celles fournies par <code>zoom_range</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly = TRUE)) {
  # Generate a plot
  biodiesel_plot &lt;- plot_ftir(biodiesel)

  # Zoom to a specified range of 1850 to 1650 cm^-1
  zoom_in_on_range(biodiesel_plot, c(1650, 1850))
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

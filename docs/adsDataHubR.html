<!DOCTYPE html><html lang="en"><head><title>Help for package adsDataHubR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {adsDataHubR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_query'><p>create_query</p></a></li>
<li><a href='#get_adh_links'><p>get_adh_links</p></a></li>
<li><a href='#get_customers'><p>get_customers</p></a></li>
<li><a href='#get_query'><p>get_query</p></a></li>
<li><a href='#google_auth'><p>google_auth</p></a></li>
<li><a href='#list_queries'><p>list_queries</p></a></li>
<li><a href='#start_query'><p>start_query</p></a></li>
<li><a href='#validate_query'><p>validate_query</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Google Ads Data Hub API Client</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Pankaj Bhatlawande</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Pankaj Bhatlawande &lt;pbhatlawande@merkleinc.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Interact with Google Ads Data Hub API <a href="https://developers.google.com/ads-data-hub/reference/rest">https://developers.google.com/ads-data-hub/reference/rest</a>. The functionality allows to fetch customer details, submit queries to ADH. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite, lubridate</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-02 16:51:21 UTC; pbhatlawande</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-08 10:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_query'>create_query</h2><span id='topic+create_query'></span>

<h3>Description</h3>

<p>Creates an analysis query for later execution. No query validation is performed at this time. Reference: &lt;https://developers.google.com/ads-data-hub/reference/rest/v1/customers.analysisQueries/create&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_query(customer_id, query_title, query_text, token)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_query_+3A_customer_id">customer_id</code></td>
<td>
<p>ADH Customer ID e.g. customers/123</p>
</td></tr>
<tr><td><code id="create_query_+3A_query_title">query_title</code></td>
<td>
<p>Query title, which is unique within a single Ads Data Hub customer and query type. e.g.RnF Analysis</p>
</td></tr>
<tr><td><code id="create_query_+3A_query_text">query_text</code></td>
<td>
<p>Query text written in Standard SQL.</p>
</td></tr>
<tr><td><code id="create_query_+3A_token">token</code></td>
<td>
<p>Access token retrived from function google_auth()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If successful, the response body contains a newly created instance of the query
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(adsDataHubR)
token &lt;- google_auth(client_id = client_id, client_secret=client_secret)
create_query(customer_id, query_title, query_text, token)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_adh_links'>get_adh_links</h2><span id='topic+get_adh_links'></span>

<h3>Description</h3>

<p>Lists links between the specified customer and other Google advertising entities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_adh_links(customer_id, token)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_adh_links_+3A_customer_id">customer_id</code></td>
<td>
<p>ADH Customer ID e.g. customers/123</p>
</td></tr>
<tr><td><code id="get_adh_links_+3A_token">token</code></td>
<td>
<p>Access token retrived from function google_auth()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of ad data links.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(adsDataHubR)
token &lt;- google_auth(client_id = client_id, client_secret=client_secret)
total_customers &lt;- get_customers(token)
customer_id &lt;- "customers/123456"
get_adh_links(customer_id, token)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_customers'>get_customers</h2><span id='topic+get_customers'></span>

<h3>Description</h3>

<p>Fetch Ads Data Hub customers to which the current user has access. Reference: &lt;https://developers.google.com/ads-data-hub/reference/rest/v1/customers.adsDataLinks/list&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_customers(token)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_customers_+3A_token">token</code></td>
<td>
<p>Access token retrived from function google_auth()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of all customers along with IDs to which authenticated user has access
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(adsDataHubR)
total_customers &lt;- get_customers(token)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_query'>get_query</h2><span id='topic+get_query'></span>

<h3>Description</h3>

<p>Retrieves the requested analysis query. Reference: &lt;https://developers.google.com/ads-data-hub/reference/rest/v1/customers.analysisQueries/get&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_query(query_name, token)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_query_+3A_query_name">query_name</code></td>
<td>
<p>e.g.customers/123/analysisQueries/abcd1234</p>
</td></tr>
<tr><td><code id="get_query_+3A_token">token</code></td>
<td>
<p>Access token retrived from function google_auth()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of query details
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(adsDataHubR)
token &lt;- google_auth(client_id = client_id, client_secret=client_secret)
get_query(query_name, token)

## End(Not run)
</code></pre>

<hr>
<h2 id='google_auth'>google_auth</h2><span id='topic+google_auth'></span>

<h3>Description</h3>

<p>Function to login and create a token to be used in all the funtions Reference: &lt;https://developers.google.com/ads-data-hub/guides/quickstart-api&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_auth(client_id, client_secret)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="google_auth_+3A_client_id">client_id</code></td>
<td>
<p>Client ID</p>
</td></tr>
<tr><td><code id="google_auth_+3A_client_secret">client_secret</code></td>
<td>
<p>Client Secret</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Environment token that can be used in all other functions
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/ads-data-hub/guides/quickstart-api">https://developers.google.com/ads-data-hub/guides/quickstart-api</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
token &lt;- google_auth(client_id = client_id, client_secret=client_secret)

## End(Not run)
</code></pre>

<hr>
<h2 id='list_queries'>list_queries</h2><span id='topic+list_queries'></span>

<h3>Description</h3>

<p>Lists links between the specified customer and other Google advertising entities. Reference: &lt;https://developers.google.com/ads-data-hub/reference/rest/v1/customers.analysisQueries/list&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_queries(customer_id, token)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_queries_+3A_customer_id">customer_id</code></td>
<td>
<p>ADH Customer ID e.g. customers/123</p>
</td></tr>
<tr><td><code id="list_queries_+3A_token">token</code></td>
<td>
<p>Access token retrived from function google_auth()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis queries run on the ADH customer account.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(adsDataHubR)
token &lt;- google_auth(client_id = client_id, client_secret=client_secret)
total_customers &lt;- get_customers(token)
customer_id &lt;- "customers/123456"
list_queries(customer_id, token)

## End(Not run)
</code></pre>

<hr>
<h2 id='start_query'>start_query</h2><span id='topic+start_query'></span>

<h3>Description</h3>

<p>Starts execution on a stored analysis query. The results will be written to the specified BigQuery destination table. The returned operation name can be used to poll for query completion status.. Reference: &lt;https://developers.google.com/ads-data-hub/reference/rest/v1/customers.analysisQueries/start&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>start_query(
  query_name,
  ads_data_customer_id,
  bq_destination_table,
  start_date,
  end_date,
  token
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="start_query_+3A_query_name">query_name</code></td>
<td>
<p>e.g. customers/123/analysisQueries/abcd1234'</p>
</td></tr>
<tr><td><code id="start_query_+3A_ads_data_customer_id">ads_data_customer_id</code></td>
<td>
<p>#Enter the &quot;From&quot; ADH account on which we want to run the query</p>
</td></tr>
<tr><td><code id="start_query_+3A_bq_destination_table">bq_destination_table</code></td>
<td>
<p>BigQuery destination table ID e.g. &quot;project.dataset.table_name&quot; If specified, the project must be explicitly whitelisted for the customer's ADH account. If project is not specified, uses default project for the provided customer. If neither project nor dataset is specified, uses the default project and dataset.</p>
</td></tr>
<tr><td><code id="start_query_+3A_start_date">start_date</code></td>
<td>
<p>Start Date e.g. 2021-01-31  format: YYYY-MM-DD</p>
</td></tr>
<tr><td><code id="start_query_+3A_end_date">end_date</code></td>
<td>
<p>End Date e.g. 2021-01-31 format: YYYY-MM-DD</p>
</td></tr>
<tr><td><code id="start_query_+3A_token">token</code></td>
<td>
<p>Access token retrived from function google_auth()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If successful, the response body contains an instance of the submitted job.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(adsDataHubR)
token &lt;- google_auth(client_id = client_id, client_secret=client_secret)
start_query(query_name, ads_data_customer_id, bq_destination_table, start_date, end_date, token)

## End(Not run)
</code></pre>

<hr>
<h2 id='validate_query'>validate_query</h2><span id='topic+validate_query'></span>

<h3>Description</h3>

<p>Performs static validation checks on the provided analysis query. Reference: &lt;https://developers.google.com/ads-data-hub/reference/rest/v1/customers.analysisQueries/validate&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_query(customer_id, query_instance, token)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_query_+3A_customer_id">customer_id</code></td>
<td>
<p>ADH Customer ID e.g. customers/123</p>
</td></tr>
<tr><td><code id="validate_query_+3A_query_instance">query_instance</code></td>
<td>
<p>Query instance returned by create_query function</p>
</td></tr>
<tr><td><code id="validate_query_+3A_token">token</code></td>
<td>
<p>Access token retrived from function google_auth()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If successful, the response body contains a validation queryPerformanceInfo object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(adsDataHubR)
token &lt;- google_auth(client_id = client_id, client_secret=client_secret)
validate_query(customer_id, query_instance, token)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

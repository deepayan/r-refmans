<!DOCTYPE html><html><head><title>Help for package bysykkel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bysykkel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dl_trips_data'><p>Download historical bike trips data in Norway</p></a></li>
<li><a href='#fread_trips_data'><p>Fast read historical bike trips data in Norway to R</p></a></li>
<li><a href='#get_api_data'><p>Get real-time data from the city bike APIs in Norway</p></a></li>
<li><a href='#read_trips_data'><p>Read historical bike trips data in Norway to R</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Get City Bike Data from Norway</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to get and download city bike data from 
    the website and API service of each city bike service in Norway. The
    package aims to reduce time spent on getting Norwegian city bike data,
    and lower barriers to start analyzing it. The data is retrieved from
    Oslo City Bike, Bergen City Bike, and Trondheim City Bike. The data is 
    made available under NLOD 2.0 <a href="https://data.norge.no/nlod/en/2.0">https://data.norge.no/nlod/en/2.0</a>.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://github.com/imangR/bysykkel">http://github.com/imangR/bysykkel</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="http://github.com/imangR/bysykkel/issues">http://github.com/imangR/bysykkel/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>glue (&ge; 1.3.0), httr, jsonlite, lubridate, tibble</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>data.table, testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-19 13:54:56 UTC; imang</td>
</tr>
<tr>
<td>Author:</td>
<td>Iman Ghayoornia [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Iman Ghayoornia &lt;ghayoornia.iman@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-19 14:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='dl_trips_data'>Download historical bike trips data in Norway</h2><span id='topic+dl_trips_data'></span>

<h3>Description</h3>

<p><code>dl_trips_data</code> downloads a file of anonymized historical bike
trips data in Norway for the city of Oslo, Bergen, and Trondheim.
</p>
<p>The data is provided according to the Norwegian License for Open Government
Data 2.0 <a href="https://data.norge.no/nlod/en/2.0">NLOD 2.0</a>.
</p>
<p>The data is downloaded from:
</p>

<ul>
<li> <p><a href="https://oslobysykkel.no/en/open-data/historical">Oslo City Bike</a>
</p>
</li>
<li> <p><a href="https://bergenbysykkel.no/en/open-data/historical">Bergen City Bike</a>
</p>
</li>
<li> <p><a href="https://trondheimbysykkel.no/en/open-data/historical">Trondheim City Bike</a>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>dl_trips_data(year, month, city, filetype = "CSV")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dl_trips_data_+3A_year">year</code></td>
<td>
<p>A number. The year that you want to download data for.</p>
</td></tr>
<tr><td><code id="dl_trips_data_+3A_month">month</code></td>
<td>
<p>A number. The month that you want to download data for.</p>
</td></tr>
<tr><td><code id="dl_trips_data_+3A_city">city</code></td>
<td>
<p>A string. The city that you want to download data for. The options are
&quot;Oslo&quot;, &quot;Bergen&quot;, and &quot;Trondheim&quot;.</p>
</td></tr>
<tr><td><code id="dl_trips_data_+3A_filetype">filetype</code></td>
<td>
<p>A string. The filetype that you want to download data for. The options are
&quot;CSV&quot; (default) and &quot;JSON&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function downloads a CSV-file to your current working directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Download bike trip data for the month of January, 2019, in Bergen
# as CSV or JSON
dl_trips_data(year = 2019, month = 01, city = "Bergen", filetype = "CSV)

dl_trips_data(year = 2019, month = 01, city = "Bergen", filetype = "JSON)

# Download bike trips data for the month of October, 2018, in Trondheim
dl_trips_data(2018, 10, "Trondheim")

# Use "lapply()" to download bike trips data for several months in Oslo
lapply(06:08, dl_trips_data, year = 2018, city = "Oslo")


## End(Not run)

</code></pre>

<hr>
<h2 id='fread_trips_data'>Fast read historical bike trips data in Norway to R</h2><span id='topic+fread_trips_data'></span>

<h3>Description</h3>

<p><code>fread_trips_data()</code> imports anonymized historical bike trips data for
the city of Oslo, Bergen, and Trondheim, in Norway, directly to R.
</p>
<p><code>fread_trips_data()</code> utilizes the
<code><a href="data.table.html#topic+fread">fread()</a></code> function from the <code>data.table</code>
package to fast read the CSV-files. Hence, it is much faster than
<code>read_trips_data</code>. <code>fread_trips_data()</code> requires that you
have the <code>data.table</code> package installed.
</p>
<p>The data is provided according to the Norwegian License for Open Government
Data 2.0 (<a href="https://data.norge.no/nlod/en/2.0">NLOD 2.0</a>).
</p>
<p>The data is read from:
</p>

<ul>
<li> <p><a href="https://oslobysykkel.no/en/open-data/historical">Oslo City Bike</a>
</p>
</li>
<li> <p><a href="https://bergenbysykkel.no/en/open-data/historical">Bergen City Bike</a>
</p>
</li>
<li> <p><a href="https://trondheimbysykkel.no/en/open-data/historical">Trondheim City Bike</a>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fread_trips_data(year, month, city)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fread_trips_data_+3A_year">year</code></td>
<td>
<p>A number. The year that you want to download data for.</p>
</td></tr>
<tr><td><code id="fread_trips_data_+3A_month">month</code></td>
<td>
<p>A number. The month that you want to download data for.</p>
</td></tr>
<tr><td><code id="fread_trips_data_+3A_city">city</code></td>
<td>
<p>A string. The city you want to download data from. The options are
&quot;Oslo&quot;, &quot;Bergen&quot;, and &quot;Trondheim&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function reads in bike trips data for the specified year, month, and city
to R as a tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Fast read bike trips data for the month of January 2019 in Bergen
bergen_trips &lt;- fread_trips_data(year = 2019, month = 1, city = "Bergen")

# Fast read bike trips data for the month of October 2018 in Trondheim
trondheim_trips &lt;- fread_trips_data(2018, 10, "Trondheim")


## End(Not run)

</code></pre>

<hr>
<h2 id='get_api_data'>Get real-time data from the city bike APIs in Norway</h2><span id='topic+get_api_data'></span>

<h3>Description</h3>

<p><code>get_api_data</code> gets real-time data on bike availability, stations, and
system from the API for
</p>

<ul>
<li> <p><a href="https://oslobysykkel.no/en/open-data/realtime">Oslo City Bike</a>,
</p>
</li>
<li> <p><a href="https://bergenbysykkel.no/en/open-data/realtime">Bergen City Bike</a>
</p>
</li>
<li> <p><a href="https://trondheimbysykkel.no/en/open-data/realtime">Trondheim City Bike</a>
</p>
</li></ul>

<p>Please read the API documentation for each City Bike API before using
this function.
</p>
<p>The real-time data is provided in the GBFS (General Bikeshare Feed
Specification) format, which you can read more about on
<a href="https://github.com/NABSA/gbfs/blob/master/gbfs.md">here</a>.
</p>
<p>The data is provided according to the Norwegian License for Open Government
Data 2.0 <a href="https://data.norge.no/nlod/en/2.0">NLOD 2.0</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_api_data(client_id, data, city, return_df = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_api_data_+3A_client_id">client_id</code></td>
<td>
<p>A string. The string should represent a client identifier to access the
API. The client identifier must be of the form <code>"myname-myapp"</code> or
<code>"mycompany-myservice"</code>, such that the city bike service knows
who is accessing the API, and for what purpose(s). Please visit the website
of the API service that you want to access to learn how to correctly specify
the <code>client_id</code>.</p>
</td></tr>
<tr><td><code id="get_api_data_+3A_data">data</code></td>
<td>
<p>A string. The data that you want to get from the API. The options are
&quot;availability&quot;, &quot;stations&quot;, and &quot;system&quot;.</p>
</td></tr>
<tr><td><code id="get_api_data_+3A_city">city</code></td>
<td>
<p>A string. The city, or city bike service API, that you want to get data
from. The options are &quot;Oslo&quot;, &quot;Bergen&quot;, or &quot;Trondheim&quot;.</p>
</td></tr>
<tr><td><code id="get_api_data_+3A_return_df">return_df</code></td>
<td>
<p>Either <code>TRUE</code> or <code>FALSE</code>. Instructs the function on whether to
return only a tibble (if set to <code>TRUE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>return_df = FALSE</code>, then the function returns a <code>list</code> that
contains two elements: a data frame with the
&quot;main&quot; data, and the datetime (POSIX) for the API request. If
<code>return_df = TRUE</code>, then the function returns only a tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Get data on bike "availability"
oslo_api_data &lt;- get_api_data(client_id = "mycompany-myservice",
                              data      = "availability",
                              city      = "Oslo")

# Get data on bike "availability", but return a tibble
oslo_winter_bike &lt;- get_api_data(client_id = "myname-myapp",
                                 data      = "availability",
                                 city      = "Oslo",
                                 return_df = TRUE)


## End(Not run)

</code></pre>

<hr>
<h2 id='read_trips_data'>Read historical bike trips data in Norway to R</h2><span id='topic+read_trips_data'></span>

<h3>Description</h3>

<p><code>read_trips_data</code> imports anonymized historical bike trips data in
Norway for the city of Oslo, Bergen, and Trondheim directly to R.
</p>
<p>The data is provided according to the Norwegian License for Open Government
Data 2.0 <a href="https://data.norge.no/nlod/en/2.0">NLOD 2.0</a>.
</p>
<p>The data is read from:
</p>

<ul>
<li> <p><a href="https://oslobysykkel.no/en/open-data/historical">Oslo City Bike</a>
</p>
</li>
<li> <p><a href="https://bergenbysykkel.no/en/open-data/historical">Bergen City Bike</a>
</p>
</li>
<li> <p><a href="https://trondheimbysykkel.no/en/open-data/historical">Trondheim City Bike</a>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>read_trips_data(year, month, city)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_trips_data_+3A_year">year</code></td>
<td>
<p>A number. The year that you want to download data for.</p>
</td></tr>
<tr><td><code id="read_trips_data_+3A_month">month</code></td>
<td>
<p>A number. The month that you want to download data for.</p>
</td></tr>
<tr><td><code id="read_trips_data_+3A_city">city</code></td>
<td>
<p>A string. The city you want to download data from. The options are
&quot;Oslo&quot;, &quot;Bergen&quot;, and &quot;Trondheim&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function reads in bike trips data for the specified year, month, and city
to R as a tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Read bike trips data for the month of January 2019 in Bergen
bergen_trips &lt;- read_trips_data(2019, 1, "Bergen")

# Read bike trips data for the month of October 2018 in Trondheim
trondheim_trips &lt;- read_trips_data(2018, 10, "Trondheim")


## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package semPlot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {semPlot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#semPlot-package'>
<p>semPlot</p></a></li>
<li><a href='#cvregsem'>
<p>Bridge between cv_regsem output and sempaths</p></a></li>
<li><a href='#Imin'>
<p>Helper function to substract matrix from identity matrix and take inverse.</p></a></li>
<li><a href='#lisrelModel'>
<p>Construct SEM model using LISREL matrix specification.</p></a></li>
<li><a href='#modelMatrices'>
<p>Extract SEM model matrices</p></a></li>
<li><a href='#ramModel'>
<p>Construct SEM model using RAM matrix specification.</p></a></li>
<li><a href='#regsem'>
<p>Bridge between regsem output and sempaths</p></a></li>
<li><a href='#semCors'>
<p>Visually inspect implied and observed correlations</p></a></li>
<li><a href='#semMatrixAlgebra'>
<p>Extract or calculate with model matrices</p></a></li>
<li><a href='#semPaths'>
<p>Plot path diagram for SEM models.</p></a></li>
<li><a href='#semPlot-tricks'>
<p>Tricks that can be used in semPlot.</p></a></li>
<li><a href='#semPlotModel'>
<p>SEM model representation</p></a></li>
<li><a href='#semPlotModel_S4-methods'><p> S4 methods for semPlotModel</p></a></li>
<li><a href='#semPlotModel-class'><p>Class <code>"semPlotModel"</code></p></a></li>
<li><a href='#semPlotModel-edit'>
<p>Functions to facilitate editting 'semPlotModel' objects.</p></a></li>
<li><a href='#semSyntax'>
<p>Produce model syntax for various SEM software</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Path Diagrams and Visual Analysis of Various SEM Packages'
Output</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.6</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>MplusAutomation (&ge; 0.5-3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>qgraph (&ge; 1.2.4), lavaan (&ge; 0.5-11), sem (&ge; 3.1-0), plyr,
XML, igraph (&ge; 0.6-3), lisrelToR, rockchalk, colorspace,
corpcor, methods, OpenMx</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>Description:</td>
<td>Path diagrams and visual analysis of various SEM packages' output.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/SachaEpskamp/semPlot">https://github.com/SachaEpskamp/semPlot</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-10 03:42:52 UTC; sachaepskamp</td>
</tr>
<tr>
<td>Author:</td>
<td>Sacha Epskamp [aut, cre],
  Simon Stuber [ctb],
  Jason Nak [ctb],
  Myrthe Veenman [ctb],
  Terrence D. Jorgensen
    <a href="https://orcid.org/0000-0001-5111-6773"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-10 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='semPlot-package'>
semPlot
</h2><span id='topic+semPlot-package'></span><span id='topic+semPlot'></span>

<h3>Description</h3>

<p>Path diagrams and visual analysis of various SEM packages' output. Path diagrams including visualizations of the parameter estimates can be plotted with <code><a href="#topic+semPaths">semPaths</a></code> and visualizations of the implied and observed correlation structures can be plotted using <code><a href="#topic+semCors">semCors</a></code>. Finally, SEM syntax can be generated using<code><a href="#topic+semSyntax">semSyntax</a></code>.
</p>
<p>For plotting the graphs the <code><a href="qgraph.html#topic+qgraph">qgraph</a></code> package is used.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp (mail@sachaepskamp.com)
</p>
<p>Maintainer: Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>References</h3>

<p>github.com/SachaEpskamp/semPlot
</p>

<hr>
<h2 id='cvregsem'>
Bridge between cv_regsem output and sempaths
</h2><span id='topic+semPlotModel.cvregsem'></span>

<h3>Description</h3>

<p>The package regsem (Jacobucci, 2017) is designed for a specific type of SEM called regularized structural equation modelling (RegSEM). For more information about RegSEM and the implementation in R we refer to the manual written by Jacobucci (2017).This function creates a bridge between the regsem and semplot packages, making it possible to use output from the regsem() and cv_regsem() functions to create models in sempaths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cvregsem'
semPlotModel(object,model,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cvregsem_+3A_object">object</code></td>
<td>

<p>The regsem output
</p>
</td></tr>
<tr><td><code id="cvregsem_+3A_model">model</code></td>
<td>

<p>The cfa output used as input for the cv_regsem function
</p>
</td></tr>
<tr><td><code id="cvregsem_+3A_...">...</code></td>
<td>

<p>Arguments sent to 'lisrelModel', not used in other methods.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'semPlotModel' object.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
Jason Nak &lt;jasonnak@hotmail.com&gt;
Myrthe Veenman &lt;myrthe.veenman@hotmail.com&gt;
</p>


<h3>References</h3>

<p>Jacobucci, R. (2017). regsem: Regularized Structural Equation Modeling. arXiv preprint  arXiv:1703.08489. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPaths">semPaths</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example of fitting and plotting a cv_regsem model in semPaths

#library(psych)
#library(lavaan)
#library(regsem)

# use a subset of the BFI
#bfi2 &lt;- bfi[1:250,c(1:5,18,22)]
#bfi2[,1] &lt;- reverse.code(-1,bfi2[,1])

# specify a SEM model
#mod &lt;- "
#f1 =~ NA*A1+A2+A3+A4+A5+O2+N3
#f1~~1*f1
#"

# fit the model
#fit &lt;- cfa(mod, bfi2)
#out.reg &lt;- cv_regsem(fit, type="lasso", pars_pen=c(1:7), n.lambda=23, jump =.05)

# plot the model
#semPaths(semPlotModel.cvregsemplot(object = out.reg, model = fit))
</code></pre>

<hr>
<h2 id='Imin'>
Helper function to substract matrix from identity matrix and take inverse.
</h2><span id='topic+Imin'></span>

<h3>Description</h3>

<p>This function can be used to more easilly compute I - X or (I - X)^(-1), which are common in SEM models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Imin(x, inverse = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Imin_+3A_x">x</code></td>
<td>

<p>A matrix
</p>
</td></tr>
<tr><td><code id="Imin_+3A_inverse">inverse</code></td>
<td>

<p>Logical, should the inverse be taken?
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>

<hr>
<h2 id='lisrelModel'>
Construct SEM model using LISREL matrix specification.
</h2><span id='topic+lisrelModel'></span>

<h3>Description</h3>

<p>This function creates a 'semPlotModel' object using matrices of the extended LISREL model (Joreskog &amp; Sorbom, 1996). This function has two main purposes. First, it can be used to easilly create path diagrams of arbitrary SEM models without having to run an actual analysis. And second, it is specifically designed to work with the output of the 'lisrelToR' package (using <code>do.call(lisrelModel,output$matrices)</code>). Using  <code><a href="#topic+semPaths">semPaths</a></code> or  <code><a href="#topic+semPlotModel">semPlotModel</a></code> on the file path of a LISREL output file will automatically first run <code><a href="lisrelToR.html#topic+readLisrel">readLisrel</a></code> and then this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lisrelModel(LY, PS, BE, TE, TY, AL, manNamesEndo, latNamesEndo, LX, PH, GA, TD, 
  TX, KA, manNamesExo, latNamesExo, ObsCovs, ImpCovs, setExo, modelLabels = FALSE, 
  reduce)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lisrelModel_+3A_ly">LY</code></td>
<td>

<p>Specification of the Lambda-Y matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_ps">PS</code></td>
<td>

<p>Specification of the Psi matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_be">BE</code></td>
<td>

<p>Specification of the Beta matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_te">TE</code></td>
<td>

<p>Specification of the Theta-Epsilon matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_ty">TY</code></td>
<td>

<p>Specification of the Tau-Y matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_al">AL</code></td>
<td>

<p>Specification of the Alpha matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_mannamesendo">manNamesEndo</code></td>
<td>

<p>Character vector of names for the endogenous manifests.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_latnamesendo">latNamesEndo</code></td>
<td>

<p>Character vector of names for the endogenous latents.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_lx">LX</code></td>
<td>

<p>Specification of the Lambda-X matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_ph">PH</code></td>
<td>

<p>Specification of the Phi matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_ga">GA</code></td>
<td>

<p>Specification of the Gamma matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_td">TD</code></td>
<td>

<p>Specification of the Theta-Delta matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_tx">TX</code></td>
<td>

<p>Specification of the Tau-X matrix. See details.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_ka">KA</code></td>
<td>

<p>Kappa
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_mannamesexo">manNamesExo</code></td>
<td>

<p>Character vector of names for the exogenous manifests.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_latnamesexo">latNamesExo</code></td>
<td>

<p>Character vector of names for the exogenous latents.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_obscovs">ObsCovs</code></td>
<td>

<p>The observed covariance matrix, or a list of such matrices for each group.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_impcovs">ImpCovs</code></td>
<td>

<p>The implied covariance matrix, or a list of such matrices for each group.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_setexo">setExo</code></td>
<td>

<p>Logical. If TRUE the 'exogenous' variable in the Variables data frame is specified. This forces <code><a href="#topic+semPaths">semPaths</a></code> to not attempt to identify which variables are endogenous and exogenous.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_modellabels">modelLabels</code></td>
<td>

<p>Logical. If TRUE all labels are set to the LISREL model matrix terms, as expressions. When plotted with <code><a href="#topic+semPaths">semPaths</a></code> this requires the argument <code>as.expression=c("nodes","edges")</code>.
</p>
</td></tr>
<tr><td><code id="lisrelModel_+3A_reduce">reduce</code></td>
<td>
<p> Logical indicating if the variable number should be reduced if multiple variables are named exactly the same. If TRUE (default) directed edges between nodes that are named the same are removed and the manifest node is kept, as this usually indicates a way to include manifest variables in regressions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The LISREL matrices can be assigned in various ways, depending on the amount of information that should be stored in the resulting model.
</p>
<p>First, the a single matrix can be used. The values of this matrix correspond to the parameter estimates in the 'semPlotModel'. For multiple groups, a list of such matrices can be used.
</p>
<p>to store more information, a named list of multiple matrices of the same dimensions can be used. Included in this list can be the following (but only estimates is nessesary):
</p>

<dl>
<dt><code>est</code></dt><dd><p>Parameter estimates</p>
</dd> 
<dt><code>std</code></dt><dd><p>standardized parameter estimates</p>
</dd> 
<dt><code>par</code></dt><dd><p>Parameter numbers. 0 indicating fixed variables and parameters with the same parameter number are constrained to be equal.</p>
</dd> 
<dt><code>fixed</code></dt><dd><p>Logical matrix indicating if the parameter is fixed.</p>
</dd>
</dl>

<p>If <code>std</code> is missing the function tries to compute standardized solutions (not yet working for intercepts). If <code>fixed</code> is missing it is computed from the <code>par</code> matrix. For multiple groups, a list containing such lists can be used.
</p>
<p>The number of variables is extracted from the assigned matrices. Matrices that are not assigned are assumed to be empty matrices of the appropriate dimensions. e.g., Lambda-Y is assumed to be a 0 by 0 matrix if there are no endogenous variables.
</p>


<h3>Value</h3>

<p>A 'semPlotModel' object.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>References</h3>

<p>Joreskog, K. G., &amp; Sorbom, D. (1996). LISREL 8 user's reference guide. Scientific Software.
</p>
<p>https://github.com/SachaEpskamp/lisrelToR
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semCors">semCors</a></code>
<code><a href="#topic+semPaths">semPaths</a></code>
<code><a href="#topic+ramModel">ramModel</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example of a Full LISREL model path diagram with the same number of exgenous 
## and endogenous variables:

# Lambda matrices:
Loadings &lt;- rbind(diag(1,2,2),diag(1,2,2),diag(1,2,2))

# Phi and Psi matrices:
LatVar &lt;- diag(1,2,2)

# Beta matrix:
Beta &lt;- matrix(0,2,2)
Beta[1,2] &lt;- 1

# Theta matrices:
ManVar &lt;- diag(1,nrow(Loadings),nrow(Loadings))

# Gamma matrix:
Gamma &lt;- diag(1,2,2)

# Tau matrices:
ManInts &lt;- rep(1,6)

# Alpha and Kappa matrices:
LatInts &lt;- rep(1,2)

# Combine model:
mod &lt;- lisrelModel(LY=Loadings,PS=LatVar,BE=Beta,TE=ManVar,
                   LX=Loadings,PH=LatVar,GA=Gamma,TD=ManVar,
                   TY=ManInts,TX=ManInts,AL=LatInts,KA=LatInts)

# Plot path diagram:
semPaths(mod, as.expression=c("nodes","edges"), sizeMan = 3, sizeInt = 1, 
  sizeLat = 4)

# Plot path diagram with more graphical options:
semPaths(mod, as.expression=c("nodes","edges"), sizeMan = 3, sizeInt = 1, 
  sizeLat = 4, label.prop=0.5, curve=0.5, bg="black", groups="latents", 
    intercepts=FALSE, borders=FALSE, label.norm="O")

</code></pre>

<hr>
<h2 id='modelMatrices'>
Extract SEM model matrices
</h2><span id='topic+modelMatrices'></span>

<h3>Description</h3>

<p>Create a <code>"semMatriModel"</code> object. Use <code><a href="#topic+semMatrixAlgebra">semMatrixAlgebra</a></code> to extract or compute with these models. The structure of <code>"semMatriModel"</code> objects is chosen such that they can be used to create a <code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code> object using <code>do.call</code> in combination with <code><a href="#topic+ramModel">ramModel</a></code>, <code><a href="#topic+lisrelModel">lisrelModel</a></code> or <code>mplusModel</code> (not yet implemented). See details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modelMatrices(object, model = "ram", endoOnly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modelMatrices_+3A_object">object</code></td>
<td>

<p>A <code>"semPlotModel"</code> object or any of the input types that can be used in <code><a href="#topic+semPlotModel">semPlotModel</a></code> directly. 
</p>
</td></tr>
<tr><td><code id="modelMatrices_+3A_model">model</code></td>
<td>

<p>Model to be used, <code>"mplus"</code>, <code>"ram"</code> or <code>"lisrel"</code>
</p>
</td></tr>
<tr><td><code id="modelMatrices_+3A_endoonly">endoOnly</code></td>
<td>

<p>Only needed when the model is <code>"lisrel"</code>, sets all variables to endogenous.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>"lisrel"</code> model uses the following matrix names: <code>LY</code>, <code>TE</code>, <code>PS</code>, <code>BE</code>, <code>LX</code>, <code>TD</code>, <code>PH</code>, <code>GA</code>, <code>TY</code>, <code>TX</code>, <code>AL</code> and <code>KA</code>. Regressions on manifest variables will cause dummy latents to be included in the model.
</p>
<p>The <code>"mplus"</code> model uses the following matrix names: <code>Lambda</code>, <code>Nu</code>, <code>Theta</code>, <code>Kappa</code>, <code>Alpha</code>, <code>Beta</code>, <code>Gamma</code> and <code>Psi</code>.
</p>
<p>The <code>"ram"</code> model uses the following matrix names: <code>F</code>, <code>A</code> and <code>S</code>.
</p>


<h3>Value</h3>

<p>a <code>"semMatriModel"</code> object
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code>
<code><a href="#topic+semMatrixAlgebra">semMatrixAlgebra</a></code>
<code><a href="#topic+lisrelModel">lisrelModel</a></code>
<code><a href="#topic+ramModel">ramModel</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Mplus user guide SEM example:
outfile &lt;- tempfile(fileext=".out")
tryres &lt;- try({
  download.file("http://www.statmodel.com/usersguide/chap5/ex5.11.html",outfile)
})

if (!is(tryres,"try-error")){
  # Plot model:
  semPaths(outfile, intercepts = FALSE)

  # Extract RAM:
  RAM &lt;- modelMatrices(outfile, "ram")
  semPaths(do.call(ramModel, RAM), as.expression = "edges", intercepts = FALSE)

  # Extract LISREL:
  LISREL &lt;- modelMatrices(outfile, "lisrel")
  semPaths(do.call(lisrelModel, LISREL), as.expression = "edges", intercepts = FALSE)
}
</code></pre>

<hr>
<h2 id='ramModel'>
Construct SEM model using RAM matrix specification.
</h2><span id='topic+ramModel'></span>

<h3>Description</h3>

<p>This function creates a 'semPlotModel' object using matrices of the RAM model (McArdle &amp; McDonald, 1984). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ramModel(A, S, F, M, manNames, latNames, Names, ObsCovs, ImpCovs, modelLabels = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ramModel_+3A_a">A</code></td>
<td>

<p>Specification of the assymmetric (A) matrix, see details.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_s">S</code></td>
<td>

<p>Specification of the symmetric (S) matrix, see details.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_f">F</code></td>
<td>

<p>Specification of the filter (F) matrix, see details.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_m">M</code></td>
<td>

<p>Specification of the means (M) vector, see details.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_mannames">manNames</code></td>
<td>

<p>Character vector of the manifest names.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_latnames">latNames</code></td>
<td>

<p>Character vector of the latent names.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_names">Names</code></td>
<td>

<p>Character vector containing all names. Defaults to <code>c(manNames,latNames)</code>.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_obscovs">ObsCovs</code></td>
<td>

<p>Observed covariancem matrix.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_impcovs">ImpCovs</code></td>
<td>

<p>Implied covariancem matrix.
</p>
</td></tr>
<tr><td><code id="ramModel_+3A_modellabels">modelLabels</code></td>
<td>

<p>Logical. If <code>TRUE</code> all latents are named <code>l1, l2, ...</code> and all manifests <code>m1, m2, ...</code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The matrices can be assigned in various ways, depending on the amount of information that should be stored in the resulting model.
</p>
<p>First, the a single matrix can be used. The values of this matrix correspond to the parameter estimates in the 'semPlotModel'. For multiple groups, a list of such matrices can be used.
</p>
<p>to store more information, a named list of multiple matrices of the same dimensions can be used. Included in this list can be the following (but only estimates is nessesary):
</p>

<dl>
<dt><code>est</code></dt><dd><p>Parameter estimates</p>
</dd> 
<dt><code>std</code></dt><dd><p>standardized parameter estimates</p>
</dd> 
<dt><code>par</code></dt><dd><p>Parameter numbers. 0 indicating fixed variables and parameters with the same parameter number are constrained to be equal.</p>
</dd> 
<dt><code>fixed</code></dt><dd><p>Logical matrix indicating if the parameter is fixed.</p>
</dd>
</dl>

<p>If <code>std</code> is missing the function tries to compute standardized solutions (not yet working for intercepts). If <code>fixed</code> is missing it is computed from the <code>par</code> matrix. For multiple groups, a list containing such lists can be used.
</p>
<p>The number of variables is extracted from the assigned matrices.
</p>


<h3>Value</h3>

<p>A 'semPlotModel' object.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>References</h3>

<p>McArdle, J. J., &amp; McDonald, R. P. (1984). Some algebraic properties of the reticular action model for moment structures. British Journal of Mathematical and Statistical Psychology, 37(2), 234-251.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semCors">semCors</a></code>
<code><a href="#topic+semPaths">semPaths</a></code>
<code><a href="#topic+lisrelModel">lisrelModel</a></code>
</p>

<hr>
<h2 id='regsem'>
Bridge between regsem output and sempaths
</h2><span id='topic+semPlotModel.regsem'></span>

<h3>Description</h3>

<p>The package regsem (Jacobucci, 2017) is designed for a specific type of SEM called regularized structural equation modelling (RegSEM). For more information about RegSEM and the implementation in R we refer to the manual written by Jacobucci (2017).This function creates a bridge between the regsem and semplot packages, making it possible to use output from the regsem() and cv_regsem() functions to create models in sempaths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regsem'
semPlotModel(object,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="regsem_+3A_object">object</code></td>
<td>

<p>The regsem output
</p>
</td></tr>
<tr><td><code id="regsem_+3A_...">...</code></td>
<td>
<p>Arguments sent to 'lisrelModel', not used in other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'semPlotModel' object.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
Myrthe Veenman &lt;myrthe.veenman@hotmail.com&gt;
Jason Nak &lt;jasonnak@hotmail.com&gt;
</p>


<h3>References</h3>

<p>Jacobucci, R. (2017). regsem: Regularized Structural Equation Modeling. arXiv preprint  arXiv:1703.08489. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPaths">semPaths</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Example of fitting and plotting a regsem model in semPaths
library(psych)
library(lavaan)
library(regsem)

# use a subset of the BFI
bfi2 &lt;- bfi[1:250,c(1:5,18,22)]
bfi2[,1] &lt;- reverse.code(-1,bfi2[,1])

# specify a SEM model
mod &lt;- "
f1 =~ NA*A1+A2+A3+A4+A5+O2+N3
f1~~1*f1
"

# fit the model
fit &lt;- cfa(mod, bfi2)
out.reg &lt;- regsem(fit, type="lasso", pars_pen=c(1:7))

# plot the model
semPaths(semPlotModel.regsem(object = out.reg))

## End(Not run)
</code></pre>

<hr>
<h2 id='semCors'>
Visually inspect implied and observed correlations
</h2><span id='topic+semCors'></span>

<h3>Description</h3>

<p>This function is still in devellopment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>semCors(object, include, vertical = TRUE, titles = FALSE, layout, maximum, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="semCors_+3A_object">object</code></td>
<td>

<p>A <code>semPlotModel</code> object
</p>
</td></tr>
<tr><td><code id="semCors_+3A_include">include</code></td>
<td>

<p>What to include? Can be <code>"observed"</code>, <code>"implied"</code> or <code>"difference"</code>, or a vector containing both. Defaults to showing observed and implied covariances.
</p>
</td></tr>
<tr><td><code id="semCors_+3A_vertical">vertical</code></td>
<td>

<p>Should the layout be vertical or horizontal?
</p>
</td></tr>
<tr><td><code id="semCors_+3A_titles">titles</code></td>
<td>

<p>Logical, should titles indicating the group and observed/implied correlations be plotted?
</p>
</td></tr>
<tr><td><code id="semCors_+3A_layout">layout</code></td>
<td>

<p>An optional layout matrix send to <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>.
</p>
</td></tr>
<tr><td><code id="semCors_+3A_maximum">maximum</code></td>
<td>

<p>The maximum values as used in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. Defaults to 1 for observed and implied covariances and 0.1 for difference graph. Important to note: Setting this lower than any of the covariances when comparing observed and implied correlations makes these graphs NOT interpretable.
</p>
</td></tr>
<tr><td><code id="semCors_+3A_...">...</code></td>
<td>

<p>Arguments sent to <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>

<hr>
<h2 id='semMatrixAlgebra'>
Extract or calculate with model matrices
</h2><span id='topic+semMatrixAlgebra'></span>

<h3>Description</h3>

<p>This function can be used to extract or calculate with model matrices given a <code>"semMatriModel"</code> object (from <code><a href="#topic+modelMatrices">modelMatrices</a></code>) or a <code>"semPlotModel"</code> object or any of the input types that can be used in <code><a href="#topic+semPlotModel">semPlotModel</a></code> directly.
</p>
<p>If the model is not specified it is attempted to be identified by the given algebra.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>semMatrixAlgebra(object, algebra, group, simplify = TRUE, model, endoOnly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="semMatrixAlgebra_+3A_object">object</code></td>
<td>

<p>A <code>"semMatriModel"</code> object (from <code><a href="#topic+modelMatrices">modelMatrices</a></code>) or a <code>"semPlotModel"</code> object or any of the input types that can be used in <code><a href="#topic+semPlotModel">semPlotModel</a></code> directly.
</p>
</td></tr>
<tr><td><code id="semMatrixAlgebra_+3A_algebra">algebra</code></td>
<td>

<p>An R expression to use.
</p>
</td></tr>
<tr><td><code id="semMatrixAlgebra_+3A_group">group</code></td>
<td>

<p>Groups the algebra should be used on. If more than one a list is returned with the result for each group.
</p>
</td></tr>
<tr><td><code id="semMatrixAlgebra_+3A_simplify">simplify</code></td>
<td>

<p>If TRUE and only one group is used, return output as is instead of in a list.
</p>
</td></tr>
<tr><td><code id="semMatrixAlgebra_+3A_model">model</code></td>
<td>

<p>Model to be used in <code><a href="#topic+modelMatrices">modelMatrices</a></code>, <code>"mplus"</code>, <code>"ram"</code> or <code>"lisrel"</code>
</p>
</td></tr>
<tr><td><code id="semMatrixAlgebra_+3A_endoonly">endoOnly</code></td>
<td>

<p>Only needed when the model is <code>"lisrel"</code>, sets all variables to endogenous.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>"lisrel"</code> model uses the following matrix names: <code>LY</code>, <code>TE</code>, <code>PS</code>, <code>BE</code>, <code>LX</code>, <code>TD</code>, <code>PH</code>, <code>GA</code>, <code>TY</code>, <code>TX</code>, <code>AL</code> and <code>KA</code>.
</p>
<p>The <code>"mplus"</code> model uses the following matrix names: <code>Lambda</code>, <code>Nu</code>, <code>Theta</code>, <code>Kappa</code>, <code>Alpha</code>, <code>Beta</code>, <code>Gamma</code> and <code>Psi</code>.
</p>
<p>The <code>"ram"</code> model uses the following matrix names: <code>F</code>, <code>A</code> and <code>S</code>.
</p>


<h3>Value</h3>

<p>A list containing output per group
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code>
<code><a href="#topic+modelMatrices">modelMatrices</a></code>
<code><a href="#topic+lisrelModel">lisrelModel</a></code>
<code><a href="#topic+ramModel">ramModel</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Mplus user guide SEM example:
outfile &lt;- tempfile(fileext=".out")
tryres &lt;- try({
  download.file("http://www.statmodel.com/usersguide/chap5/ex5.11.html",outfile)
})

if (!is(tryres,"try-error")){
# Plot model:
semPaths(outfile,intercepts=FALSE)

# Obtain latent regressions (mplus)
semMatrixAlgebra(outfile, Beta)

# mplus model implied covariance:
mat1 &lt;- semMatrixAlgebra(outfile, 
  Lambda %*% Imin(Beta, TRUE) %*% Psi %*% t(Imin(Beta, TRUE)) %*% t(Lambda) + Theta)

# Lisrel model implied covariance:
mat2 &lt;- semMatrixAlgebra(outfile, 
  LY %*% Imin(BE, TRUE) %*% PS %*% t(Imin(BE, TRUE)) %*% t(LY) + TE, endoOnly = TRUE)

# RAM model implied covariance:
mat3 &lt;- semMatrixAlgebra(outfile, 
                 F %*% Imin(A,TRUE) %*% S %*% t(Imin(A, TRUE)) %*% t(F))

## Not run: 
# Plot:
library("qgraph")

pdf("Models.pdf",width=15,height=5)
layout(t(1:3))
qgraph(round(cov2cor(mat1),5), maximum=1, edge.labels=TRUE, layout = "spring", 
  cut = 0.4, minimum = 0.1)
title("Mplus model")
qgraph(round(cov2cor(mat2),5), maximum=1, edge.labels=TRUE, layout = "spring", 
  cut = 0.4, minimum = 0.1)
title("LISREL model")
qgraph(round(cov2cor(mat3),5), maximum=1, edge.labels=TRUE, layout = "spring", 
  cut = 0.4, minimum = 0.1)
title("RAM model")
dev.off()

## End(Not run)
# They are the same.
}
</code></pre>

<hr>
<h2 id='semPaths'>
Plot path diagram for SEM models.
</h2><span id='topic+semPaths'></span>

<h3>Description</h3>

<p>This function creates a path diagram of a SEM model (or general linear model), which is then plotted using <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. Currently many different SEM programs and packages are supported. Please see my website (www.sachaepskamp.com) for more details on which packages are supported and what is supported for each package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>semPaths(object, what = "paths", whatLabels, style, layout = "tree", 
  intercepts = TRUE, residuals = TRUE, thresholds = TRUE, intStyle = "multi", 
  rotation = 1, curve, curvature = 1, nCharNodes = 3, nCharEdges = 3, sizeMan = 5,
   sizeLat = 8,  sizeInt = 2, sizeMan2, sizeLat2, sizeInt2, shapeMan, shapeLat, 
  shapeInt = "triangle", ask, mar, title, title.color = "black", title.adj = 0.1, 
  title.line = -1, title.cex = 0.8, include, combineGroups = FALSE, manifests, 
  latents, groups, color, residScale, gui = FALSE, allVars = FALSE, edge.color, 
  reorder = TRUE, structural = FALSE, ThreshAtSide = FALSE, thresholdColor, 
  thresholdSize = 0.5, fixedStyle = 2, freeStyle = 1, 
  as.expression = character(0), optimizeLatRes = FALSE, inheritColor = TRUE, 
  levels, nodeLabels, edgeLabels, pastel = FALSE, rainbowStart = 0, intAtSide, 
  springLevels = FALSE, nDigits = 2, exoVar, exoCov = TRUE, centerLevels = TRUE, 
  panelGroups = FALSE, layoutSplit = FALSE, measurementLayout = "tree", subScale, 
  subScale2, subRes = 4, subLinks, modelOpts = list(mplusStd = "std"), 
  curveAdjacent = '&lt;-&gt;', edge.label.cex = 0.6,  cardinal = "none", 
  equalizeManifests = FALSE, covAtResiduals = TRUE, bifactor, optimPoints = 1:8 * (pi/4), 
  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="semPaths_+3A_object">object</code></td>
<td>

<p>A <code>"semPlotModel"</code> object or any of the input types that can be used in <code><a href="#topic+semPlotModel">semPlotModel</a></code> directly. 
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_what">what</code></td>
<td>

<p>What should the edges indicate in the path diagram? This function uses <code><a href="base.html#topic+grepl">grepl</a></code> to allow fuzzy matching and is not case sensitive. E.g., <code>par</code> will also match <code>Parameters</code>.
</p>

<dl>
<dt><code>path</code>, <code>diagram</code> or <code>mod</code></dt><dd><p>This will display the model as an unweighted network (gray edges by default).</p>
</dd> 
<dt><code>est</code> or <code>par</code></dt><dd><p>This will display the parameter estimates as weighted edges.</p>
</dd>
<dt><code>stand</code> or <code>std</code></dt><dd><p>This will display the standardized parameter estimates, if available, as weighted edges.</p>
</dd>
<dt><code>eq</code> or <code>cons</code></dt><dd><p>This is the same graph as <code>path</code>. except that parameters with equality constraints are now colored. Parameters with the same color are constrained to be equal.</p>
</dd>
<dt><code>col</code></dt><dd><p>This will create an unweighted graph of the path diagram, where edges are colored with a mix of the colors of connected nodes.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="semPaths_+3A_whatlabels">whatLabels</code></td>
<td>

<p>What should the edge labels indicate in the path diagram? This function uses <code><a href="base.html#topic+grepl">grepl</a></code> to allow fuzzy matching and is not case sensitive. E.g., <code>par</code> will also match <code>Parameters</code>. Default depends on the <code>what</code> argument, defaulting to the respective elements in the list below for values of <code>what</code> in the list above.
</p>

<dl>
<dt><code>name</code>, <code>label</code>, <code>path</code> or <code>diagram</code></dt><dd><p>This will display the edge names as labels.</p>
</dd> 
<dt><code>est</code> or <code>par</code></dt><dd><p>This will display the parameter estimate in edge labels.</p>
</dd>
<dt><code>stand</code> or <code>std</code></dt><dd><p>This will display the standardized parameter estimate in edge labels.</p>
</dd>
<dt><code>eq</code> or <code>cons</code></dt><dd><p>This will display the parameter number in edge labels. 0 indicates the parameter is fixed, parameters with the same parameter number are constrained to be equal.</p>
</dd>
<dt><code>no</code>, <code>omit</code>, <code>hide</code> or <code>invisible</code></dt><dd><p>Hides edge labels.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="semPaths_+3A_style">style</code></td>
<td>

<p>The style to use. Currently only indicates what the (residual) variances look like. Use <code>"ram"</code>, <code>"mx"</code> or <code>"OpenMx"</code> for double headed selfloops and <code>"lisrel"</code> for single headed edges with no node as origin. Defaults to <code>"ram"</code> unless the input is a lisrel model.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_layout">layout</code></td>
<td>

<p>A string indicating how the nodes should be placed. Similar to the 'layout' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. Can be one of the following strings.
</p>

<dl>
<dt>tree</dt><dd><p>The integrated tree-like layout. Places exogenous variables at the top and endogenous variables at the bottom. See 'details' for more details.</p>
</dd>
<dt>circle</dt><dd><p>The same layout as &quot;tree&quot;, except that afterwards the horizontal levels of the layout are placed in circles. Especially useful for models with a large number of manifest variables and a relatively small number of latent variables.</p>
</dd>
<dt>spring</dt><dd><p>Calls the &quot;spring&quot; layout in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>, which uses the Fruchterman-reingold algorithm (Fruchterman &amp; Reingold, 1991).</p>
</dd>
<dt>tree2</dt><dd><p>Calls the <code>layout.reingold.tilford</code> function from the igraph package (Csardi &amp; Nepusz, 2006), which uses the Reingold-Tilford algorithm (Reingold &amp; Tilford, 1981). Before calling the algorithm roots are chosen and a slightly modified version of the graph is used to produce consistent results. See 'details'.</p>
</dd>
<dt>circle2</dt><dd><p>The same layout as &quot;tree2&quot;, except that afterwards the horizontal levels of the layout are placed in circles.</p>
</dd>
<dt>Other options</dt><dd><p>If the assigned value is not in this list it is sent to <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. This allows for manual specification of the layout as well as using functions found in the 'igraph;  library.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="semPaths_+3A_intercepts">intercepts</code></td>
<td>

<p>Logical, should intercepts be included in the path diagram?
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_residuals">residuals</code></td>
<td>

<p>Logical, should residuals (and variances) be included in the path diagram?
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_thresholds">thresholds</code></td>
<td>

<p>Logical, should thresholds be included in the path diagram?
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_intstyle">intStyle</code></td>
<td>

<p>Style of the intercepts. <code>"multi"</code> plots a separate unit vector node for each intercept and <code>"single"</code> plots a single unit vector node. Currently, <code>"single"</code> is not well supported and might lead to unexpected results.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_rotation">rotation</code></td>
<td>

<p>An integer indicating the rotation of the layout when &quot;tree&quot; or &quot;tree2&quot; layout is used. 1, 2, 3 and 4 indicate that exogenous variables are placed at the top, left side, bottom and right side respectively.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_curve">curve</code></td>
<td>

<p>The curvature of the edges. In tree layouts this argument only curves the edges that are between nodes on the same level. e.g., correlations between exogenous manifest variables.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_curvature">curvature</code></td>
<td>
<p>Sets the strength of scaling in curvature for curved edges at the same horizontal level in tree layouts. The curve will be set to <code>curve + curvature * n / max(n)</code>, where <code>n</code> is the number of nodes in between the two connected nodes.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_ncharnodes">nCharNodes</code></td>
<td>

<p>Number of characters to abbreviate node labels to (using <code><a href="base.html#topic+abbreviate">abbreviate</a></code>). Set to 0 to omit abbreviation.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_ncharedges">nCharEdges</code></td>
<td>

<p>Number of characters to abbreviate edge labels to (using <code><a href="base.html#topic+abbreviate">abbreviate</a></code>). Set to 0 to omit abbreviation.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_sizeman">sizeMan</code></td>
<td>

<p>Width of the manifest nodes, sent to the 'vsize' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_sizelat">sizeLat</code></td>
<td>

<p>Width of the latent nodes, sent to the 'vsize' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_sizeint">sizeInt</code></td>
<td>

<p>Width of the unit vector nodes, sent to the 'vsize' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_sizeman2">sizeMan2</code></td>
<td>

<p>Height of the manifest nodes, sent to the 'vsize2' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_sizelat2">sizeLat2</code></td>
<td>

<p>Height of the latent nodes, sent to the 'vsize2' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_sizeint2">sizeInt2</code></td>
<td>

<p>Height of the unit vector nodes, sent to the 'vsize2' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_shapeman">shapeMan</code></td>
<td>

<p>Shape of the manifest nodes, sent to the 'shape' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. Defaults to <code>"square"</code> or <code>"rectangle"</code> if width and height differ.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_shapelat">shapeLat</code></td>
<td>

<p>Shape of the latent nodes, sent to the 'shape' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. Defaults to <code>"circle"</code> or <code>"ellipse"</code> if width and height differ.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_shapeint">shapeInt</code></td>
<td>

<p>Shape of the constant nodes, sent to the 'shape' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. Defaults to <code>"triangle"</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_ask">ask</code></td>
<td>

<p>Specifies the 'ask' parameter in <code><a href="graphics.html#topic+par">par</a></code>. Defaults to TRUE if multiple groups are in the model.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_mar">mar</code></td>
<td>

<p>Same as the 'mar' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. By default this argument is based on the values of 'rotation', 'style' and 'title'.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_title">title</code></td>
<td>

<p>Logical, should titles be plotted of the group names above each plot?
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_title.color">title.color</code></td>
<td>

<p>Color of the titles.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_title.adj">title.adj</code></td>
<td>

<p>Adjustment of title as used by <code>'adj'</code> in <code>par</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_title.line">title.line</code></td>
<td>

<p>Line of title as used by <code>'line'</code> in <code>title</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_title.cex">title.cex</code></td>
<td>

<p>Size of title as used by <code>'cex.main'</code> in <code>par</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_include">include</code></td>
<td>

<p>Integer vector indicating which groups should be included in the output. e.g., to only plot a diagram for the first group use <code>include = 1</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_combinegroups">combineGroups</code></td>
<td>

<p>Logical. If TRUE all groups are combined in the same path diagram.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_manifests">manifests</code></td>
<td>

<p>A character vector in which every element is the name of a manifest variable in the model. This argument can be used to overwrite the order in which nodes are plotted in the graph if <code>reorder = FALSE</code>
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_latents">latents</code></td>
<td>

<p>A character vector in which every element is the name of a latent variable in the model. This argument can be used to overwrite the order in which nodes are plotted in the graph if <code>reorder = FALSE</code>
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_groups">groups</code></td>
<td>

<p>Groups nodes that should be colored the same, similar to the 'groups' argument in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code> with a few exceptions. Should be a list containing in each element the names (instead of numbers as in qgraph) of nodes that belong together. Nodes that are indicated to belong to a group will be assigned the same color, as given by the 'color' argument. Nodes not belonging to a group will be assigned the color &quot;&quot;, which indicates that they will inherit a mix of the colors of connected nodes (or white, if no connected nodes are colored.)
</p>
<p>In addition, this argument can be assigned a single character: &quot;manifests&quot;, &quot;latents&quot; or &quot;both&quot; to make a single group for each manifest, latent or both manifest and latent variables. e.g., <code>groups = "latents"</code> will color each latent variable uniquely, and color all manifest variables a mixture of the colors of latents they load on.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_color">color</code></td>
<td>

<p>Controls the color of nodes. Similar to 'color' in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. A color vector indicating the color for each group, a single color character indicating the color for all nodes or a color vector indicating the color for each node separately. Can also be a list contaning one or more of the following elements (using fuzzy matching):
</p>

<dl>
<dt>man</dt><dd><p>The colors for manifest nodes</p>
</dd>
<dt>lat</dt><dd><p>The colors for latent nodes</p>
</dd>
<dt>int</dt><dd><p>The color for intercepts</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="semPaths_+3A_residscale">residScale</code></td>
<td>

<p>The size of residual edges if <code>style = "lisrel"</code>. Defaults to two times the value of 'sizeMan'.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_gui">gui</code></td>
<td>

<p>Not yet implemented.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_allvars">allVars</code></td>
<td>

<p>Logical. If TRUE all variables are plotted in the path diagrams for each group. If FALSE only variables are plotted that are used in the group.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_edge.color">edge.color</code></td>
<td>

<p>A value indicating the color of all edges or a vector indicating the color of each edge. Useful for manually overwriting edge colors. 
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_reorder">reorder</code></td>
<td>

<p>Logical. Should manifest variables be reordered to be near latent factors they are most connected to in the &quot;tree&quot; layout? If FALSE manifest variables are placed in the order they appear in the Pars.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_structural">structural</code></td>
<td>

<p>Logical. Set this to TRUE to only show the structural model (omit all manifest variables.)
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_threshatside">ThreshAtSide</code></td>
<td>

<p>Logical. If TRUE, thresholds are plotted as small lines at the side of manifest nodes, otherwise they are plotted as lines inside the nodes.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_thresholdcolor">thresholdColor</code></td>
<td>

<p>Color of the threshold lines. Defaults to &quot;black&quot;
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_thresholdsize">thresholdSize</code></td>
<td>

<p>Size of threshold bars relative to the size of the node. 
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_fixedstyle">fixedStyle</code></td>
<td>

<p>A vector of length one or two specifying the color and line type (same as 'lty' in <code><a href="graphics.html#topic+par">par</a></code>) of fixed parameters. Can be both character and numeric. If one of the elements encodes a color it is used to overwrite the color of fixed edges, and if an element can be coerced to a numeric it is used to encode the line type.
</p>
<p>For example, <code> fixedStyle = c("red",3)</code> specifies that all fixed parameters should be visualized with a red edge with <code>lty=3</code>
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_freestyle">freeStyle</code></td>
<td>

<p>Same as 'fixedStyle' but for free parameters instead.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_as.expression">as.expression</code></td>
<td>

<p>A character vector indicating which labels should be treated as an <code><a href="base.html#topic+expression">expression</a></code>, so that mathematical notation and Greek letters can be used in the path diagram. If this vector contains <code>"nodes"</code> all node labels are converted to expressions, and if this vector contains <code>"edges"</code> all node labels are converted to expressions. Defaults to <code>"edges"</code> only if the input is a Lisrel model.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_optimizelatres">optimizeLatRes</code></td>
<td>

<p>Logical. If this is TRUE, the angle of the incoming residuals on latent variables is attempted to be optimally chosen so its position conflicts with the least amount of connected edges.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_inheritcolor">inheritColor</code></td>
<td>

<p>Logical, should uncolored nodes obtain a mix of connected colored nodes? Defaults to <code>TRUE</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_levels">levels</code></td>
<td>
<p>A numeric vector usually of length 4. Controls the relative vertical position of variable levels (exogenous and endogenous latents and manifests) under default rotation in tree and circle layouts. This can be used to control the spacing between these levels. e.g., <code>c(1,5,6,7)</code> will create more space between endogenous manifests and latents.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_nodelabels">nodeLabels</code></td>
<td>
<p>A vector or list to manually overwrite the node labels. Can include expressions.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_edgelabels">edgeLabels</code></td>
<td>
<p>A vector or list to manually overwrite the edge labels. Can include expressions.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_pastel">pastel</code></td>
<td>
<p>Logical, should default colors (for groups or edge equality constraints) be chosen from pastel colors? If TRUE then <code><a href="colorspace.html#topic+rainbow_hcl">rainbow_hcl</a></code> is used.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_rainbowstart">rainbowStart</code></td>
<td>
<p>A number between 0 and 1 indicating the offset used in rainbow functions for default node coloring.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_exovar">exoVar</code></td>
<td>

<p>Should variances of truely exogenous variables (no incomming directed edge) be plotted? Defaults to <code>TRUE</code> unless <code>style = "lisrel"</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_intatside">intAtSide</code></td>
<td>

<p>Logical to control if intercepts should be plotted to the side of manifest nodes or at the bottom/top. Defaults only to FALSE if 'residuals=FALSE'.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_springlevels">springLevels</code></td>
<td>

<p>Logical indicating if the placement on horizontal levels with <code>tree3</code> layout should be determined by a force embedded algorithm.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_ndigits">nDigits</code></td>
<td>

<p>Number of digits to round numeric values to.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_exocov">exoCov</code></td>
<td>

<p>Should covariances between truely exogenous variables (no incomming directed edge) be plotted? Defaults to <code>TRUE</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_centerlevels">centerLevels</code></td>
<td>

<p>Only used if <code>layout</code> is set to <code>"tree2"</code>, should each level be centered? Defaults to <code>TRUE</code>
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_panelgroups">panelGroups</code></td>
<td>

<p>Logical to automatically create a panel plot of multiple group models. Defaults to FALSE.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_layoutsplit">layoutSplit</code></td>
<td>

<p>Logical that can be used to split computing of layout between structural and measurment models. This is very useful in more complicated models where the structural part is best shown by using a spring layout.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_measurementlayout">measurementLayout</code></td>
<td>

<p>Logical indicating the layout algorithm to use for measurement models if <code>layoutSplit = TRUE</code> (the structural model will obtain a layout given by the <code>layout</code> argument).
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_subscale">subScale</code></td>
<td>

<p>Width of submodels (measurment models) if <code>layoutSplit = TRUE</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_subscale2">subScale2</code></td>
<td>

<p>Height of submodels (measurment models) if <code>layoutSplit = TRUE</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_subres">subRes</code></td>
<td>

<p>Integer indicating the resolution of which measurment models can be rotated around their corresponding latent variable. The default, 4, indicates that they can be placed only to polar coordinates. Set to 360 to allow every angle of rotation.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_sublinks">subLinks</code></td>
<td>

<p>Vector of variables to link to. Currently not well supported so avoid using this argument.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_modelopts">modelOpts</code></td>
<td>

<p>A lists containing arguments sent to <code><a href="#topic+semPlotModel">semPlotModel</a></code> in case the input is not of class <code>semPlotModel</code>.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_curveadjacent">curveAdjacent</code></td>
<td>
<p>What edges between adjacent horizontal nodes be curved? Can be <code>'&lt;-&gt;'</code> or <code>'cov'</code> to indicate bidirectional covariances, <code>'-&gt;'</code> or <code>'reg'</code> for directed regressions or a vector containing both.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_edge.label.cex">edge.label.cex</code></td>
<td>
<p>Controls the font size of the edge labels. Same as in <code><a href="qgraph.html#topic+qgraph">qgraph</a></code> except that the default is now 0.8.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_cardinal">cardinal</code></td>
<td>
<p>Should edges in a tree layout connect to the four cardinal points of one of the borders of the node rather than point to the center of the node? Can be set to <code>TRUE</code> or <code>"all"</code> to enamble this behavior for all edges and <code>FALSE</code> or <code>"none"</code> to disable this behavior for all edges. Alternatively a vector with strings can be specified in which each string specifies a certain group of edges. Fuzzy matching is used on the strings <code>"exo"</code> for edges with the first node being exogenous (or indicator of exogenous latent), <code>endo</code> for edges with first node being endogeonous, <code>manifest</code> for edges connected to any manifest node, <code>latent</code> for edges connected to any latent node, <code>cov</code> for covariances, <code>reg</code> for regressions, <code>load</code> for factor-loadings, <code>source</code> for only the start of an edge and <code>end</code> for only the end of a node. These strings can be combined at will. For example, <code>cardinal = c("exo cov","load end")</code> (the default) or equivelantly <code>cardinal = c("exogenous covariances","source of loadings")</code> will only cardenalize the edges that repressent exogenous covariances or the end of factor loadings. </p>
</td></tr>
<tr><td><code id="semPaths_+3A_equalizemanifests">equalizeManifests</code></td>
<td>
<p>Logical. Should the distances between manifest nodes in the <code>tree1</code> layout be equalized? Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="semPaths_+3A_covatresiduals">covAtResiduals</code></td>
<td>
<p>Logical, should covariances be drawn at the start of residuals when <code>style="lisrel"</code> is used? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="semPaths_+3A_bifactor">bifactor</code></td>
<td>

<p>A string vector containing the name(s) of the general bifactor(s). This will automatically create a bifactor plot.
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_optimpoints">optimPoints</code></td>
<td>

<p>A vector of radians residuals can optimize to if <code>optimizeLatRes = TRUE</code>
</p>
</td></tr>
<tr><td><code id="semPaths_+3A_...">...</code></td>
<td>

<p>Arguments sent to the <code><a href="qgraph.html#topic+qgraph">qgraph</a></code> function. These arguments can further control the output of the graph. Some usefull arguments in drawing path diagrams are:
</p>

<dl>
<dt>edge.width</dt><dd>
<p>Scales the edge width and arrow size of the plot. These can also be manually set using 'esize' and 'asize'.
</p>
</dd>
<dt>node.width</dt><dd>
<p>Scales the width of nodes and also the height if shapes circle and square are used. Can also be a vector with scalar for each node.
</p>
</dd>
<dt>node.height</dt><dd>
<p>Scales the height of nodes. Can also be a vector with scalar for each node. Not used with circle and square shapes.
</p>
</dd>
<dt>esize</dt><dd><p>Size of the largest edge (or what it would be if there was an edge with weight maximum). Defaults to: max((-1/72)*(nNodes)+5.35,1) for weighted graphs and 2 for unweighted graphs. In directed graphs these values are halved.</p>
</dd>
<dt>asize</dt><dd><p>Size of the arrowhead. Defaults to 2 for graphs with more than 10 nodes and 2 to smaller graphs.</p>
</dd>
<dt>minimum</dt><dd><p>Edges with absolute weights under this value are omitted. Defaults to 0 for graphs with less than 50 nodes or 0.1 for larger graphs.</p>
</dd>
<dt>maximum</dt><dd><p>qgraph regards the highest of the maximum or highest absolute edge weight as the highest weight to scale the edge widths too. To compare several graphs, set this argument to a higher value than any edge weight in the graphs (typically 1 for correlations).</p>
</dd>
<dt>cut</dt><dd><p>In weighted graphs, this argument can be used to cut the scaling of edges in width and color saturation. Edges with absolute weights over this value will have the strongest color intensity and become wider the stronger they are, and edges with absolute weights under this value will have the smallest width and become vaguer the weaker the weight. If this is set to NULL, no cutoff is used and all edges vary in width and color. Defaults to NULL for graphs with less then 50 nodes and 0.3 to larger graphs.</p>
</dd>
<dt>details</dt><dd><p>Logical indicating if minimum, maximum and cutoff score should be printed under the graph. Defaults to FALSE.</p>
</dd>
<dt>mar</dt><dd><p>A vector of the form c(bottom, left, top, right) which gives the margins. Works similar to the argument in par(). Defaults to c(3,3,3,3)</p>
</dd>
<dt>filetype</dt><dd><p>A character containing the file type to save the output in. &quot;R&quot; outputs in a new R window, &quot;pdf&quot; creates a pdf file. &quot;svg&quot; creates a svg file (requires RSVGTipsDevice). &quot;tex&quot; creates LaTeX code for the graph (requires tikzDevice). 'jpg', 'tiff' and 'png' can also be used. If this is given any other string (e.g. filetype=&quot;&quot;) no device is opened. Defaults to 'R' if the current device is the NULL-device or no new device if there already is an open device. A function such as <code>x11</code> can also be used</p>
</dd>
<dt>filename</dt><dd><p>Name of the file without extension</p>
</dd>
<dt>width</dt><dd><p>Width of the plot, in inches</p>
</dd>
<dt>height</dt><dd><p>Height of the plot, in inches</p>
</dd>
<dt>normalize</dt><dd><p>Logical, should the plot be normalized to the plot size. If TRUE (default) border width, vertex size, edge width and arrow sizes are adjusted to look the same for all sizes of the plot, corresponding to what they would look in a 7 by 7 inches plot if normalize is FALSE.</p>
</dd>
<dt>DoNotPlot</dt><dd><p>Runs qgraph but does not plot. Useful for saving the output (i.e. layout) without plotting</p>
</dd>
<dt>plot</dt><dd><p>Logical. Should a new plot be made? Defaults to TRUE. Set to FALSE to add the graph to the existing plot.</p>
</dd>
<dt>rescale</dt><dd><p>Logical. Defines if the layout should be rescaled to fit the -1 to 1 x and y area. Defaults to TRUE. Can best be used in combination with plot=FALSE.</p>
</dd>
<dt>label.cex</dt><dd><p>Scalar on the label size.</p>
</dd>
<dt>label.color</dt><dd><p>Character containing the color of the labels, defaults to &quot;black&quot;</p>
</dd>
<dt>borders</dt><dd><p>Logical indicating if borders should be plotted, defaults to TRUE.</p>
</dd>
<dt>border.color</dt><dd><p>Color vector indicating colors of the borders. Is repeated if length is equal to 1. Defaults to &quot;black&quot;</p>
</dd>
<dt>border.width</dt><dd><p>Controls the width of the border. Defaults to 2 and is comparable to 'lwd' argument in 'points'.</p>
</dd>
<dt>polygonList</dt><dd><p> A list contaning named lists for each element to include polygons to lookup in the <code>shape</code> arguments. Each element must be named as they are used in <code>shape</code> and contain a list with elements <code>x</code> and <code>y</code> contaning the coordinates of the polygon. By default <code>ellipse</code> and <code>heart</code> are added to this list. These polygons are scaled according to <code>vsize</code> and <code>vsize2</code></p>
</dd>
<dt>vTrans</dt><dd><p>Transparency of the nodes, must be an integer between 0 and 255, 255 indicating no transparency. Defaults to 255</p>
</dd>
<dt>label.prop</dt><dd><p>Controls the proportion of the width of the node that the label rescales to. Defaults to 0.
9.</p>
</dd>
<dt>label.norm</dt><dd><p>A single string that is used to normalize label size. If the width of the label is lower than the width of the hypothetical label given by this argument the width of label given by this argument is used instead. Defaults to &quot;OOO&quot; so that every label up to three characters has the same fontsize.</p>
</dd>
<dt>label.scale</dt><dd><p>Logical indicating if labels should be scaled to fit the node. Defaults to TRUE.</p>
</dd>
<dt>label.font</dt><dd><p>Integer specifying the label font of nodes. Can be a vector with value for each node</p>
</dd>
<dt>posCol</dt><dd><p>Color of positive edges. Can be a vector of two to indicate color of edges under 'cut' value and color of edges over 'cut' value. If 'fade is set to TRUE the first color will be faded the weaker the edge weight is. If this is only one element this color will also be used for edges stronger than the 'cut' value. Defaults to c(&quot;#009900&quot;,&quot;darkgreen&quot;)</p>
</dd>
<dt>negCol</dt><dd><p>Color of negative edges. Can be a vector of two to indicate color of edges under 'cut' value and color of edges over 'cut' value. If 'fade is set to TRUE the first color will be faded the weaker the edge weight is. If this is only one element this color will also be used for edges stronger than the 'cut' value. Defaults to c(&quot;#BF0000&quot;,&quot;red&quot;)</p>
</dd>
<dt>unCol</dt><dd><p>Color to indicate the default edge color of unweighted graphs. Defaults to &quot;#808080&quot;.</p>
</dd>
<dt>colFactor</dt><dd><p>Exponent of transformation in color intensity of relative strength. Defaults to 1 for linear behavior.</p>
</dd>
<dt>trans</dt><dd><p>In weighted graphs: logical indicating if the edges should fade to white (FALSE) or become more transparent (TRUE; use this only if you use a background). In directed graphs this is a value between 0 and 1 indicating the level of transparency. (also used as 'transparency')</p>
</dd>
<dt>fade</dt><dd><p>if TRUE (default) and if 'edge.color' is assigned, transparency will be added to edges that are not transparent (or for which no transparency has been assigned) relative to the edge strength, similar if 'trans' is set to TRUE.</p>
</dd>
<dt>loop</dt><dd><p>This can be used to scale the size of the loop. defaults to 1.</p>
</dd>
<dt>curvePivot</dt><dd><p>Quantile to pivot curves on. This can be used to, rather than round edges, make straight edges as curves with &quot;knicks&quot; in them. Can be logical or numeric. <code>FALSE</code> (default) indicates no pivoting in the curved edges, a number indicates the quantile (and one minus this value as quantile) on which to pivot curved edges and <code>TRUE</code> indicates a value of 0.1.</p>
</dd>
<dt>curvePivotShape</dt><dd><p>The shape of the curve around the pivots, as used in <code>xspline</code>. Defaults to <code>0.25</code>.</p>
</dd>
<dt>edge.label.bg</dt><dd><p>Either a logical or character vector/matrix. Indicates the background behind edge labels. If TRUE (default) a white background is plotted behind each edge label. If FALSE no background is plotted behind edge labels. Can also be a single color character, a vector or matrix of color vectors for each edge.</p>
</dd>
<dt>edge.label.position</dt><dd><p>Vetor of numbers between 0 and 1 controlling the relative position of each edge label. Defaults to 0.5 for placing edge labels at the middle of the edge.</p>
</dd>
<dt>edge.label.font</dt><dd><p>Integer specifying the label font of edges. Can be a vector or matrix with value for each node</p>
</dd>
<dt>layout.par</dt><dd><p>A list of arguments passed to <code><a href="qgraph.html#topic+qgraph.layout.fruchtermanreingold">qgraph.layout.fruchtermanreingold</a></code> when layout=&quot;spring&quot; or to an igraph function when such a function is assigned to 'layout'</p>
</dd>
<dt>bg</dt><dd><p>If this is TRUE, a background is plotted in which node colors cast a light of that color on a black background. Can also be a character containing the color of the background Defaults to FALSE</p>
</dd>
<dt>bgcontrol</dt><dd><p>The higher this is, the less light each node gives if bg=TRUE. Defaults to 6.</p>
</dd>
<dt>bgres</dt><dd><p>square root of the number of pixels used in bg=TRUE, defaults to 100.</p>
</dd>
<dt>pty</dt><dd><p>See 'par'</p>
</dd>
<dt>font</dt><dd><p>Integer specifying the default font for node and edge labels</p>
</dd>
<dt>arrows</dt><dd><p>A logical indicating if arrows should be drawn, or a number indicating how much arrows should be drawn on each edge. If this is TRUE, a simple arrow is plotted, if this is a number, arrows are put in the middle of the edges.</p>
</dd>
<dt>arrowAngle</dt><dd><p>Angle of the arrowhead, in radians. Defaults to pi/8 for unweighted graphs and pi/4 for weighted graphs.</p>
</dd>
<dt>asize</dt><dd><p>Size of the arrowhead. Defaults to 2 for graphs with more than 10 nodes and 2 to smaller graphs.</p>
</dd>
<dt>open</dt><dd><p>Logical indicating if open (TRUE) or closed (FALSE) arrowheads should be drawn.</p>
</dd>
<dt>weighted</dt><dd><p>Logical that can be used to force either a weighted graph (TRUE) or an unweighted graph(FALSE).</p>
</dd>
<dt>XKCD</dt><dd><p>If set to TRUE the graph is plotted in XKCD style based on http://stackoverflow.com/a/12680841/567015.</p>
</dd>
</dl>

</td></tr>
</table>


<h3>Details</h3>

<p>The default <code>"tree"</code> layout under default rotation places the nodes in one of four horizontal levels. At the top the exogenous manifest variables, under that the exogenous latent variables, under that the endogenous latent variables and at the bottom the endogenous manifest variables. If one of these kinds of variables does not exist its level is omitted. Afterwards, the <code>rotation</code> argument will rotate the graph and the <code>"circle"</code> layout will make the layout circular using these levels as nested circles.
</p>
<p>If not manually set (see <code><a href="#topic+semPlotModel-edit">semPlotModel-edit</a></code>), <code>semPath</code> will automatically try to set the endogenous and exogenous variables, such that the resulting layout looks good. A latent variable is identified as <em>exogenous</em> if it is not on the right hand side of a directed edge (<code>-&gt;</code> or <code>~&gt;</code>) with another latent variable as node of origin. A manifest variable is set as <em>exogenous</em> if it is only connected, in any way, to exogenous latent variables and if it is not the right hand side (dependent variable) of a regression edge (<code>~&gt;</code>). If all variables are set to exogenous this way, they are all set to endogenous for consistency in the layouts. Afterwards, manifest variables only used in formative measurement models (only outgoing directed edges to latents) are set to exogenous again so that MIMIC models are displayed properly.
</p>
<p>Intercepts are placed on the same level as the variable, either on the left or right side of the node (pointing outward from the center). Residuals for manifest variables are placed at the top or bottom (for exogenous and endogenous manifests respectively). Residuals of latents are placed at the bottom or top respectively for exogenous and endogenous variables, but is switched if the latent is not connected to a manifest. Residuals for the leftmost and rightmost latent are placed at the left and right side respectively, or diagonal if the latent is connected to an intercept.
</p>
<p>The <code>"tree2"</code> and <code>"circle2"</code> layouts call the <code>layout.reingold.tilford</code> function from the <code>igraph</code> package. As roots are used the first available variables of the following list:
</p>

<ul>
<li><p> Intercepts of exogenous manifests
</p>
</li>
<li><p> Exogenous manifest
</p>
</li>
<li><p> Intercepts of exogenous latents
</p>
</li>
<li><p> Exogenous latents
</p>
</li>
<li><p> Interceots of endogenous latents
</p>
</li>
<li><p> Endogenous latents
</p>
</li>
<li><p> Intercepts of endogenous manifests
</p>
</li>
<li><p> The endogenous manifest with the most outgoing edges (this should not be possible by default, but can be manually set)
</p>
</li>
<li><p> The most connected endogenous manigest.
</p>
</li></ul>

<p>To compute an optimal layout <code>layout.reingold.tilford</code> is run on a slightly altered version of the path diagram. In this version, the direction of edges from all intercepts that are not roots is reversed, the direction of all edges leading to exogenous manifests is reversed and all bidirectional edges are removed.
</p>


<h3>Value</h3>

<p>A <code>"qgraph"</code> object as returned by <code><a href="qgraph.html#topic+qgraph">qgraph</a></code>. This object can be used to alter the graph (such as manually redefining the layout) and to plot the graph again with different arguments.
</p>
<p>If there are multiple groups a list is returned with a &quot;qgraph&quot; object for each path diagram that has been produced.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>References</h3>

<p>Fruchterman, T. &amp; Reingold, E. (1991). Graph drawing by force-directed placement. Software - Pract. Exp. 21, 1129-1164.
</p>
<p>Reingold, E and Tilford, J (1981). Tidier drawing of trees. IEEE Trans. on Softw. Eng., SE-7(2):223-228.
</p>
<p>Csardi G, Nepusz T (2006). The igraph software package for complex network research, InterJournal, Complex Systems 1695. http://igraph.sf.net
</p>


<h3>See Also</h3>

<p><code><a href="qgraph.html#topic+qgraph">qgraph</a></code>
<code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code>
<code><a href="#topic+semCors">semCors</a></code>
<code><a href="#topic+lisrelModel">lisrelModel</a></code>
<code><a href="#topic+semSyntax">semSyntax</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # Regression analysis with interaction effects ----------------------------

# A silly dataset:
X &lt;- rnorm(100)
Y &lt;- rnorm(100)
Z &lt;- rnorm(1)*X + rnorm(1)*Y + rnorm(1)*X*Y
DF &lt;- data.frame(X,Y,Z)

# Regression including interaction:
res &lt;- lm(Z ~ X*Y, data = DF)

# Path diagram:
semPaths(res, intAtSide=TRUE)

# Standardized estimates:
semPaths(res,"std","hide", intAtSide=TRUE)

# Simple CFA -------------------------------------------
library("lavaan")
example(cfa)

semPaths(fit, 'std', 'est', curveAdjacent = TRUE, style = "lisrel")


# MIMIC model ----------------------------------------------------
## Lavaan
## Not run: 
library("lavaan")

# Example 5.8 from mplus user guide:
Data &lt;- read.table("http://www.statmodel.com/usersguide/chap5/ex5.8.dat")
names(Data) &lt;- c(paste("y", 1:6, sep=""),
                 paste("x", 1:3, sep=""))

# Model:
model.Lavaan &lt;- 'f1 =~ y1 + y2 + y3
f2 =~ y4 + y5 + y6
f1 + f2 ~ x1 + x2 + x3 '

# Run Lavaan:
library("lavaan")
fit &lt;- lavaan:::cfa(model.Lavaan, data=Data, std.lv=TRUE)

# Plot path diagram:
semPaths(fit,title=FALSE)

# Omit exogenous covariances:
semPaths(fit,title=FALSE, exoVar = FALSE, exoCov = FALSE)

# Standardized parameters:
semPaths(fit,"std", edge.label.cex = 0.5, exoVar = FALSE, 
  exoCov = FALSE)

## Mplus

# Same model, now using mplus output:
outfile &lt;- tempfile(fileext=".out")
download.file("http://www.statmodel.com/usersguide/chap5/ex5.8.html",outfile)

# Plot model:
semPaths(outfile,intercepts=FALSE)
# Note that mplus did not report the fixed variances of the exogenous variables.




# Thresholds  -----------------------------------------------------
## Lavaan

# Example 5.8 from mplus user guide:
Data &lt;- read.table("http://www.statmodel.com/usersguide/chap5/ex5.2.dat")
names(Data) &lt;- c("u1","u2","u3","u4","u5","u6")
Data &lt;- as.data.frame(lapply(Data, ordered))

# Lavaan model:
model &lt;- ' f1 =~ u1 + u2 + u3; f2 =~ u4 + u5 + u6 '

# Run Lavaan:
fit &lt;- lavaan::cfa(model, data=Data)

# Plot path diagram:
semPaths(fit,intercepts=FALSE)

## Mplus

# Same model, now using mplus output:
outfile &lt;- tempfile(fileext=".out")
download.file("http://www.statmodel.com/usersguide/chap5/ex5.2.html",outfile)

# Plot model:
semPaths(outfile)




# OpenMx ----------------------------------------------------------
# To install OpenMx see:
# http://openmx.psyc.virginia.edu/

library("OpenMx")

# Example from mxRun help page:
# Create and run the 1-factor CFA on the openmx.psyc.virginia.edu front page
data(demoOneFactor)  # load the demoOneFactor dataframe
manifests &lt;- names(demoOneFactor) # set the manifest to the 5 demo variables
latents   &lt;- c("G")  # define 1 latent variable
model &lt;- mxModel("One Factor", type="RAM",
  manifestVars = manifests,
	latentVars   = latents,
	mxPath(from=latents  , to=manifests),
	mxPath(from=manifests, arrows=2),
	mxPath(from=latents  , arrows=2, free=FALSE, values=1.0),
	mxData(cov(demoOneFactor), type="cov", numObs=500)
)
model &lt;- mxRun(model) #run model, returning the result

# Plot with colors from OpenMx front page:
semPaths(model, color = list(
              lat = rgb(245, 253, 118, maxColorValue = 255), 
              man = rgb(155, 253, 175, maxColorValue = 255)),
          mar = c(10, 5, 10, 5))

## Factor Analysis:
source("http://openmx.ssri.psu.edu/docs/OpenMx/latest/_static/demo/TwoFactorModel_PathCov.R")
semPaths(twoFactorFit, layout = "tree2")

# Multi-group analysis -------------------------------------------
## LISREL:
# Download measurment invariance example:
modFile &lt;- tempfile(fileext=".OUT")
download.file("http://sachaepskamp.com/files/mi1.OUT",modFile)
layout(t(1:2))
semPaths(modFile,"eq",ask=FALSE, intAtSide = TRUE, mar = c(8, 1, 5, 1))
# Color indicates equality constraints.

## End(Not run)
</code></pre>

<hr>
<h2 id='semPlot-tricks'>
Tricks that can be used in semPlot.
</h2><span id='topic++2B.semPlotModel'></span><span id='topic+semPlotModel.list'></span>

<h3>Description</h3>

<p>Use a list contaning several SEM objects (from any source) to plot them as the same model. Also, the '+' operator can be used to combine two models, including in calls in <code><a href="#topic+semPaths">semPaths</a></code> and <code><a href="#topic+semPlotModel">semPlotModel</a></code>. See examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'semPlotModel'
x + y
## S3 method for class 'list'
semPlotModel(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="semPlot-tricks_+3A_x">x</code></td>
<td>

<p>A <code>"semPlotModel"</code> object
</p>
</td></tr>
<tr><td><code id="semPlot-tricks_+3A_y">y</code></td>
<td>

<p>A <code>"semPlotModel"</code> object
</p>
</td></tr>
<tr><td><code id="semPlot-tricks_+3A_object">object</code></td>
<td>

<p>An object contaning the result of a SEM or GLM analysis, or a string contaning the file path to the output file of a sEM program.
</p>
</td></tr>
<tr><td><code id="semPlot-tricks_+3A_...">...</code></td>
<td>

<p>Not used.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPaths">semPaths</a></code>
<code><a href="#topic+semCors">semCors</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A silly dataset:
A &lt;- rnorm(100)
B &lt;- A + rnorm(100)
C &lt;- B + rnorm(100)
DF &lt;- data.frame(A,B,C)

# Two regressions:
res1 &lt;- lm(B ~ C, data = DF)
res2 &lt;- lm(A ~ B + C, data = DF)

# Plot both in the same path diagram in two ways:
semPaths(res1 + res2, "model", "est", intercepts=FALSE)
semPaths(list(res1,res2), "model", "est", intercepts=FALSE)
</code></pre>

<hr>
<h2 id='semPlotModel'>
SEM model representation
</h2><span id='topic+semPlotModel'></span><span id='topic+semPlotModel.default'></span><span id='topic+semPlotModel.lm'></span><span id='topic+semPlotModel.principal'></span><span id='topic+semPlotModel.princomp'></span><span id='topic+semPlotModel.loadings'></span><span id='topic+semPlotModel.factanal'></span><span id='topic+semPlotModel.lisrel'></span><span id='topic+semPlotModel.mplus.model'></span><span id='topic+semPlotModel.sem'></span><span id='topic+semPlotModel.msem'></span><span id='topic+semPlotModel.msemObjectiveML'></span><span id='topic+semPlotModel_Amos'></span><span id='topic+semPlotModel_Onyx'></span><span id='topic+semPlotModel_lavaanModel'></span>

<h3>Description</h3>

<p>Methods to read a SEM object and return a <code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
semPlotModel(object, ...)
## S3 method for class 'lm'
semPlotModel(object, ...)
## S3 method for class 'principal'
semPlotModel(object, ...)
## S3 method for class 'princomp'
semPlotModel(object, ...)
## S3 method for class 'loadings'
semPlotModel(object, ...)
## S3 method for class 'factanal'
semPlotModel(object, ...)
## S3 method for class 'lisrel'
semPlotModel(object, ...)
## S3 method for class 'mplus.model'
semPlotModel(object, mplusStd = c("std", "stdy", "stdyx"), ...)
## S3 method for class 'sem'
semPlotModel(object, ...)
## S3 method for class 'msem'
semPlotModel(object, ...)
## S3 method for class 'msemObjectiveML'
semPlotModel(object, ...)
semPlotModel_Amos(object)
semPlotModel_Onyx(object)
semPlotModel_lavaanModel(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="semPlotModel_+3A_object">object</code></td>
<td>

<p>An object contaning the result of a SEM or GLM analysis, or a string contaning the file path to the output file of a SEM program. Or a Lavaan model.
</p>
</td></tr>
<tr><td><code id="semPlotModel_+3A_mplusstd">mplusStd</code></td>
<td>

<p>What standardization to use in Mplus models?
</p>
</td></tr>
<tr><td><code id="semPlotModel_+3A_model">model</code></td>
<td>

<p>The original sem model (used in cvregsem)
</p>
</td></tr>
<tr><td><code id="semPlotModel_+3A_...">...</code></td>
<td>
<p>Arguments sent to 'lisrelModel', not used in other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A detailed overview of which packages are supported and what is supported for each of them will soon be on my website.
</p>


<h3>Value</h3>

<p>A <code>"semPlotModel"</code> object. See <code>link{semPlotModel-class}</code>
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPaths">semPaths</a></code>
<code><a href="#topic+semCors">semCors</a></code>
<code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code>
</p>

<hr>
<h2 id='semPlotModel_S4-methods'> S4 methods for semPlotModel </h2><span id='topic+semPlotModel_S4-methods'></span><span id='topic+semPlotModel_S4+2Clavaan-method'></span><span id='topic+semPlotModel_S4'></span>

<h3>Description</h3>

<p>S4 generic used only for the <code><a href="lavaan.html#topic+lavaan-class">lavaan-class</a></code> class. See <code><a href="#topic+semPlotModel">semPlotModel</a></code> for more information and <code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code> for the resulting object.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(object = "lavaan")</code></dt><dd>
<p>A <code><a href="lavaan.html#topic+lavaan-class">lavaan-class</a></code> object.
</p>
</dd>
</dl>

<hr>
<h2 id='semPlotModel-class'>Class <code>"semPlotModel"</code></h2><span id='topic+semPlotModel-class'></span>

<h3>Description</h3>

<p>Representation of SEM models, can be used by <code><a href="#topic+semPaths">semPaths</a></code>, <code><a href="#topic+semCors">semCors</a></code> and <code><a href="#topic+semSyntax">semSyntax</a>.</code> See <code><a href="#topic+semPlotModel-edit">semPlotModel-edit</a></code> for utility functions on how to edit this model.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("semPlotModel", ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>Pars</code>:</dt><dd><p>Object of class <code>"data.frame"</code> indicating the parameters used in the SEM model. this must contain the following elements, in order:
</p>

<dl>
<dt><code>label</code></dt><dd><p>The name of the parameter, used as edge label in the graph.</p>
</dd>
<dt><code>lhs</code></dt><dd><p>Name of the variable on the left hand side of the path.</p>
</dd>
<dt><code>edge</code></dt><dd><p>String as indicator of the edge. This can be one of the following:
</p>

<dl>
<dt><code>-&gt;</code></dt><dd><p>Factor loading</p>
</dd>
<dt><code>~&gt;</code></dt><dd><p>Regression. The same as <code>'-&gt;'</code> in that it results in a directed edge from the left hand side to the right hand side, but <code>'~&gt;'</code> differs in that if the right hand side is manifest and the left hand side is an exogenous latent the right hand side is interpreted as an endogenous variable rather than an exogenous variable.</p>
</dd>
<dt><code>&lt;-&gt;</code></dt><dd><p>(co)variance</p>
</dd>
<dt><code>int</code></dt><dd><p>intercept, The left hand side should be &quot;&quot; and the right hand side indicates the variable to which the intercept belongs.</p>
</dd>
<dt><code>--</code></dt><dd><p>Undirected edge. Only used as dummy encoding and in cases the parameter can not be interpreted (usually this indicates something that is not yet supported)</p>
</dd>
</dl>
</dd>
<dt><code>rhs</code></dt><dd><p>Name of the variable on the left hand side of the path.</p>
</dd>
<dt><code>est</code></dt><dd><p>Parameter estimate.</p>
</dd>
<dt><code>est</code></dt><dd><p>Standardized parameter estimate.</p>
</dd>
<dt><code>group</code></dt><dd><p>Character of the name of the group the parameter belongs to.</p>
</dd>
<dt><code>fixed</code></dt><dd><p>Logical indicating if the parameter is fixed.</p>
</dd>
<dt><code>par</code></dt><dd><p>Parameter number. 0 indicates the parameter is fixed and parameters with the same parameter number are constrained to be equal.</p>
</dd>
<dt><code>knot</code></dt><dd><p>Knot number. 0 indicates the edge is not knotted and edges with the same knot number are knotted together. Only used to indicate interactions in 'lm' models and can be omitted.</p>
</dd>
</dl>

</dd>
<dt><code>Vars</code>:</dt><dd><p>Object of class <code>"data.frame"</code> indicating the variables used in the SEM model. Must have the following elements:
</p>

<dl>
<dt>name</dt><dd><p>Name of the variable</p>
</dd>
<dt>manifest</dt><dd><p>Logical indicating if the variable is manifest</p>
</dd>
<dt>exogenous</dt><dd><p>Logical indicating if the variable is exogenous. If <code>NA</code></p>
</dd></dl>
<p> (the default) <code><a href="#topic+semPaths">semPaths</a></code> will attempt to detect which variables are exogenous.
</p>
</dd>
<dt><code>Thresholds</code>:</dt><dd><p>Object of class <code>"data.frame"</code> indicating the thresholds in the SEM model. It is the same as <code>Pars</code> except it does not have the elements <code>'edge'</code> and <code>'rhs'</code>.</p>
</dd>
<dt><code>Computed</code>:</dt><dd><p>Object of class <code>"logical"</code> indicating if the SEM model was computed or if the object only indicates a structure.</p>
</dd>
<dt><code>ObsCovs</code>:</dt><dd><p>Object of class <code>"list"</code> containing observed covariance matrices for each group. If available.</p>
</dd>
<dt><code>ImpCovs</code>:</dt><dd><p>Object of class <code>"list"</code> containing implied covariance matrices for each group. If available.</p>
</dd>
<dt><code>Original</code>:</dt><dd><p>Object of class <code>"list"</code> containing the original object used as input (or multiple objects if the <code>'+'</code> operator was used to combine objects.) </p>
</dd>
</dl>



<h3>Methods</h3>

<p>No methods defined with class &quot;semPlotModel&quot; in the signature.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPaths">semPaths</a></code>
<code><a href="#topic+semCors">semCors</a></code>
<code><a href="#topic+semSyntax">semSyntax</a></code>
<code><a href="#topic+semPlotModel-edit">semPlotModel-edit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("semPlotModel")
</code></pre>

<hr>
<h2 id='semPlotModel-edit'>
Functions to facilitate editting 'semPlotModel' objects.
</h2><span id='topic+semPlotModel-edit'></span><span id='topic+exo'></span><span id='topic+exo+3C-'></span><span id='topic+endo'></span><span id='topic+endo+3C-'></span><span id='topic+man'></span><span id='topic+man+3C-'></span><span id='topic+lat'></span><span id='topic+lat+3C-'></span>

<h3>Description</h3>

<p>These functions can be used to easilly call and edit parts of a <code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code> object. Currently only manifest/latent and endgenous/exogenous node properties can be set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exo(x)
endo(x)
man(x)
lat(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="semPlotModel-edit_+3A_x">x</code></td>
<td>

<p>A <code>"semPlotModel"</code> object
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
</p>

<hr>
<h2 id='semSyntax'>
Produce model syntax for various SEM software
</h2><span id='topic+semSyntax'></span>

<h3>Description</h3>

<p>This function produces a model object or model syntax for SEM software based on a <code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code> object. If the input is not a <code>"semPlotModel"</code> object the <code><a href="#topic+semPlotModel">semPlotModel</a></code> function is run on the input. This allows to create model syntax for one program based on the output of another program.
</p>
<p>Currently only the R packages 'lavaan'  (Rosseel, 2012) and 'sem' (Fox, Nie &amp; Byrnes, 2012) are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>semSyntax(object, syntax = "lavaan", allFixed = FALSE, file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="semSyntax_+3A_object">object</code></td>
<td>

<p>A &quot;semPlotModel&quot; object or any of the input possibilities for <code><a href="#topic+semPlotModel">semPlotModel</a></code>.
</p>
</td></tr>
<tr><td><code id="semSyntax_+3A_syntax">syntax</code></td>
<td>

<p>A string indicating which syntax to be used for the output. Currently supported are <code>'lavaan'</code> and <code>'sem'</code>.
</p>
</td></tr>
<tr><td><code id="semSyntax_+3A_allfixed">allFixed</code></td>
<td>

<p>Logical, should all parameters be fixed to their estimate. Useful for simulating data.
</p>
</td></tr>
<tr><td><code id="semSyntax_+3A_file">file</code></td>
<td>

<p>Path of a file the model should be written to. 
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing the <code>lavaan</code> model syntax or a <code>"semmod"</code> object for the <code>sem</code> package.
</p>


<h3>Author(s)</h3>

<p>Sacha Epskamp &lt;mail@sachaepskamp.com&gt;
</p>


<h3>References</h3>

<p>Yves Rosseel (2012). lavaan: An R Package for Structural
Equation Modeling. Journal of Statistical Software, 48(2),
1-36. URL http://www.jstatsoft.org/v48/i02/.
</p>
<p>John Fox, Zhenghua Nie and Jarrett Byrnes (2012). sem:
Structural Equation Models. R package version 3.0-0.
http://CRAN.R-project.org/package=sem  
</p>


<h3>See Also</h3>

<p><code><a href="#topic+semPlotModel">semPlotModel</a></code>
<code><a href="#topic+semPlotModel-class">semPlotModel-class</a></code>
<code><a href="#topic+semPaths">semPaths</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># MIMIC model, example 5.8 from mplus user guide:
tryres &lt;- try({
 Data &lt;- read.table("http://www.statmodel.com/usersguide/chap5/ex5.8.dat")
})

if (!is(tryres,"try-error")){


names(Data) &lt;- c(paste("y", 1:6, sep=""),
                 paste("x", 1:3, sep=""))

# Data &lt;- Data[,c(7:9,1:6)]

# Model:
model.Lavaan &lt;- 'f1 =~ y1 + y2 + y3
f2 =~ y4 + y5 + y6
f1 + f2 ~ x1 + x2 + x3 '

# Run Lavaan:
library("lavaan")
fit.Lavaan &lt;- lavaan:::cfa(model.Lavaan, data=Data, std.lv=TRUE)

# Obtain Lavaan syntax:
model.Lavaan2 &lt;- semSyntax(fit.Lavaan, "lavaan")

# Run Lavaan again:
fit.Lavaan2 &lt;- lavaan:::lavaan(model.Lavaan2, data=Data)

# Compare models:
layout(t(1:2))
semPaths(fit.Lavaan,"std",title=FALSE)
title("Lavaan model 1",line=3)
semPaths(fit.Lavaan2, "std",title=FALSE)
title("Lavaan model 2",line=3)

# Convert to sem model:
model.sem &lt;- semSyntax(fit.Lavaan, "sem")

# Run sem:
library("sem")
fit.sem &lt;- sem:::sem(model.sem, data = Data)

# Compare models:
layout(t(1:2))
semPaths(fit.Lavaan,"std",title=FALSE)
title("Lavaan",line=3)
semPaths(fit.sem, "std",title=FALSE)
title("sem",line=3)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

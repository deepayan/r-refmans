<!DOCTYPE html><html><head><title>Help for package bodsr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bodsr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#count_nodes'><p>Search an xml file for a specific named node and count the number of instances</p></a></li>
<li><a href='#extract_line_level_data'><p>Open data from a single line metadata table where it's zip or xml format</p></a></li>
<li><a href='#find_node_value'><p>Search an xml file for a specific named mode and return the value(s) stored in it</p></a></li>
<li><a href='#get_fares_metadata'><p>Return fares metadata from the 'BODS' API</p></a></li>
<li><a href='#get_location_gtfs'><p>Return GTFS-RT location data from the 'BODS' API</p></a></li>
<li><a href='#get_location_xml'><p>Return XML vehicle location data from the 'BODS' API</p></a></li>
<li><a href='#get_timetable_data'><p>Extract line-level timetable data from all rows of the provided metadata table</p></a></li>
<li><a href='#get_timetable_metadata'><p>Return timetable metadata from the 'BODS' API</p></a></li>
<li><a href='#line_level_xml'><p>Pull a table of relevant values from specified nodes in the xml</p></a></li>
<li><a href='#noc_lookup'><p>Lookup between operator names and national operator code ('NOC') lookup</p></a></li>
<li><a href='#not_null'><p>Join together a value and an associated API string if the value</p>
is not NULL</a></li>
<li><a href='#not_null_date'><p>Join together a date value and an associated API string if the value</p>
is not NULL</a></li>
<li><a href='#open_all_xml'><p>Open every xml file within a zip object and extract data of interest from it using a given function</p></a></li>
<li><a href='#poss_xml'><p>Try to read an xml file using read_xml; where this fails, quietly return a NULL value</p></a></li>
<li><a href='#xml_file_counter'><p>Count the number of xml files included within a provided metadata dataframe, whether the provided file links are xml or zip</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Call the Bus Open Data Service ('BODS') API Through R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A wrapper to allow users to download Bus Open Data Service 'BODS' transport information from the API (<a href="https://www.bus-data.dft.gov.uk/">https://www.bus-data.dft.gov.uk/</a>).
    This includes timetable and fare metadata (including links for full datasets), timetable data at line level,
    and real-time location data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite, xml2, dplyr, purrr, tibble, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-10 09:30:32 UTC; fbryden</td>
</tr>
<tr>
<td>Author:</td>
<td>Francesca Bryden [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Francesca Bryden &lt;francesca.bryden@dft.gov.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-11 15:20:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='count_nodes'>Search an xml file for a specific named node and count the number of instances</h2><span id='topic+count_nodes'></span>

<h3>Description</h3>

<p>Search an xml file for a specific named node and count the number of instances
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_nodes(x, xpath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count_nodes_+3A_x">x</code></td>
<td>
<p>An xml object</p>
</td></tr>
<tr><td><code id="count_nodes_+3A_xpath">xpath</code></td>
<td>
<p>string. The node name to search for within the xpath.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a numeric count value
</p>

<hr>
<h2 id='extract_line_level_data'>Open data from a single line metadata table where it's zip or xml format</h2><span id='topic+extract_line_level_data'></span>

<h3>Description</h3>

<p>Open data from a single line metadata table where it's zip or xml format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_line_level_data(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_line_level_data_+3A_file">file</code></td>
<td>
<p>A single row of table metadata extracted using get_timetable_metadata()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a dataframe of information extracted from the given xml or zip url
</p>

<hr>
<h2 id='find_node_value'>Search an xml file for a specific named mode and return the value(s) stored in it</h2><span id='topic+find_node_value'></span>

<h3>Description</h3>

<p>Search an xml file for a specific named mode and return the value(s) stored in it
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_node_value(x, xpath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_node_value_+3A_x">x</code></td>
<td>
<p>An xml object</p>
</td></tr>
<tr><td><code id="find_node_value_+3A_xpath">xpath</code></td>
<td>
<p>string. The node name to search for within the xpath.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a single string of values from the specified node
</p>

<hr>
<h2 id='get_fares_metadata'>Return fares metadata from the 'BODS' API</h2><span id='topic+get_fares_metadata'></span>

<h3>Description</h3>

<p>Return fares metadata from the 'BODS' API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fares_metadata(
  api_key = Sys.getenv("BODS_KEY"),
  limit = 25,
  noc = NULL,
  status = NULL,
  bounding_box = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_fares_metadata_+3A_api_key">api_key</code></td>
<td>
<p>API key for the 'BODS' dataset passed as a string.
Can be obtained from <a href="https://data.bus-data.dft.gov.uk/api/">the 'BODS' API login</a></p>
</td></tr>
<tr><td><code id="get_fares_metadata_+3A_limit">limit</code></td>
<td>
<p>integer. Maximum number of records to return for a query. Defaults to 25</p>
</td></tr>
<tr><td><code id="get_fares_metadata_+3A_noc">noc</code></td>
<td>
<p>string or vector of strings. Limit results to fares data sets for specified National Operator Codes.
A full lookup of NOC to bus operator names can be seen using noc_lookup().
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_fares_metadata_+3A_status">status</code></td>
<td>
<p>string. Limit results to fares data sets for specified status,
accepted values are &quot;published&quot; or &quot;inactive&quot;. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_fares_metadata_+3A_bounding_box">bounding_box</code></td>
<td>
<p>vector of four numerics. Limit results to fares data sets
that contain information for the area within the rectangular boundingBox
you set using co-ordinates [minLatitude, maxLatitude, minLongitude, maxLongitude].
Defaults to NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame of fares metadata including links to data from the 'BODS' API.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#Before running these examples, ensure you have an API key saved
#Return the first 25 results of fares metadata with no filters
get_fares_metadata()

#Return fares metadata for National Express
get_fares_metadata(noc = "NATX")

#Return only published fares metadata for Go Ahead
get_fares_metadata(noc = "BHBC", status = "published")

#Return fares metadata for the specified bounding box
get_fares_metadata(bounding_box = c(51.401, 51.509, 0.01, 0.201))

## End(Not run)
</code></pre>

<hr>
<h2 id='get_location_gtfs'>Return GTFS-RT location data from the 'BODS' API</h2><span id='topic+get_location_gtfs'></span>

<h3>Description</h3>

<p>Return GTFS-RT location data from the 'BODS' API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_location_gtfs(
  api_key = Sys.getenv("BODS_KEY"),
  bounding_box = NULL,
  route_id = NULL,
  start_time_after = NULL,
  start_time_before = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_location_gtfs_+3A_api_key">api_key</code></td>
<td>
<p>API key for the 'BODS' dataset passed as a string. Can be obtained from <a href="https://data.bus-data.dft.gov.uk/api/">the 'BODS' API login</a></p>
</td></tr>
<tr><td><code id="get_location_gtfs_+3A_bounding_box">bounding_box</code></td>
<td>
<p>vector of four numerics. Limit results to location data
for vehicles within the rectangular boundingBox you set using co-ordinates
[minLatitude, maxLatitude, minLongitude, maxLongitude].
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_gtfs_+3A_route_id">route_id</code></td>
<td>
<p>string or vector of strings. Limit results to bus location data with the specified routeId.
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_gtfs_+3A_start_time_after">start_time_after</code></td>
<td>
<p>integer. Limit results to bus location data with a
start time after the specified Unix timestamp. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_gtfs_+3A_start_time_before">start_time_before</code></td>
<td>
<p>integer. Limit results to bus location data with a
start time before the specified Unix timestamp. Defaults to NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns bus location data in GTFS-RT format. More detail on this format can be found <a href="https://data.bus-data.dft.gov.uk/guidance/requirements/?section=dataformats">the 'BODS' data formats documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#Before running these examples, ensure you have an API key saved


#Return data for specified route ID
get_location_gtfs(route_id = "45")

#Return data within a specified bounding box
get_location_gtfs(bounding_box = c(51.401, 51.509, 0.01, 0.201))


## End(Not run)
</code></pre>

<hr>
<h2 id='get_location_xml'>Return XML vehicle location data from the 'BODS' API</h2><span id='topic+get_location_xml'></span>

<h3>Description</h3>

<p>Return XML vehicle location data from the 'BODS' API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_location_xml(
  api_key = Sys.getenv("BODS_KEY"),
  bounding_box = NULL,
  noc = NULL,
  vehicle_ref = NULL,
  line_ref = NULL,
  producer_ref = NULL,
  origin_ref = NULL,
  destination_ref = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_location_xml_+3A_api_key">api_key</code></td>
<td>
<p>API key for the 'BODS' dataset passed as a string. Can be obtained from <a href="https://data.bus-data.dft.gov.uk/api/">the 'BODS' API login</a></p>
</td></tr>
<tr><td><code id="get_location_xml_+3A_bounding_box">bounding_box</code></td>
<td>
<p>vector of four numerics. Limit results to location data
for vehicles within the rectangular boundingBox
you set using co-ordinates [minLatitude, maxLatitude, minLongitude, maxLongitude].
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_xml_+3A_noc">noc</code></td>
<td>
<p>string or vector of strings. Limit results to fares data sets for specified National Operator Codes.
A full lookup of NOC to bus operator names can be seen using noc_lookup().
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_xml_+3A_vehicle_ref">vehicle_ref</code></td>
<td>
<p>string. Limit results to bus location data with the
specified vehicle_ref. This is a unique reference for the vehicle that is
consistent and is generated by the vehicle equipment. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_xml_+3A_line_ref">line_ref</code></td>
<td>
<p>string. Limit results to bus location data with the
specified line_ref. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_xml_+3A_producer_ref">producer_ref</code></td>
<td>
<p>string. Limit results to bus location data with the
specified producer_ref. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_xml_+3A_origin_ref">origin_ref</code></td>
<td>
<p>string. Limit results to bus location data with the
specified origin reference. Accepts any National Public Transport Access Nodes (NaPTAN) value,
which can be found <a href="https://www.data.gov.uk/dataset/ff93ffc1-6656-47d8-9155-85ea0b8f2251/national-public-transport-access-nodes-naptan">the NaPTAN access nodes dataset</a>.
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_location_xml_+3A_destination_ref">destination_ref</code></td>
<td>
<p>string. Limit results to bus location data with the
specified destination reference. Accepts any National Public Transport Access Nodes (NaPTAN) value,
which can be found <a href="https://www.data.gov.uk/dataset/ff93ffc1-6656-47d8-9155-85ea0b8f2251/national-public-transport-access-nodes-naptan">the NaPTAN access nodes dataset</a>.
Defaults to NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns bus location data in XML SIRI-VM format. More detail on this format can be found <a href="https://data.bus-data.dft.gov.uk/guidance/requirements/?section=dataformats">the 'BODS' data formats documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#Before running these examples, ensure you have an API key saved

##Return unfiltered data from XML API
get_location_xml()

#Return data for vehicle reference "BUSC" only
get_location_xml(vehicle_ref = "BUSC")

#Return data for specified origin
get_location_xml(origin_ref = "21024515")


## End(Not run)
</code></pre>

<hr>
<h2 id='get_timetable_data'>Extract line-level timetable data from all rows of the provided metadata table</h2><span id='topic+get_timetable_data'></span>

<h3>Description</h3>

<p>Extract line-level timetable data from all rows of the provided metadata table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_timetable_data(timetable_metadata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_timetable_data_+3A_timetable_metadata">timetable_metadata</code></td>
<td>
<p>A single row of table metadata extracted using get_timetable_metadata()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns list of timetable dataframes, with each dataframe corresponding to a
row on the provided timetable metadata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#Before running these examples, ensure you have an API key saved
#Return the first 5 results of timetable metadata with no filters
metadata &lt;- get_timetable_metadata(limit = 5)



## End(Not run)

</code></pre>

<hr>
<h2 id='get_timetable_metadata'>Return timetable metadata from the 'BODS' API</h2><span id='topic+get_timetable_metadata'></span>

<h3>Description</h3>

<p>Return timetable metadata from the 'BODS' API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_timetable_metadata(
  api_key = Sys.getenv("BODS_KEY"),
  limit = 25,
  search = NULL,
  noc = NULL,
  admin_area = NULL,
  status = NULL,
  end_date_start = NULL,
  end_date_end = NULL,
  modified_date = NULL,
  start_date_start = NULL,
  start_date_end = NULL,
  dq_rag = NULL,
  bods_compliance = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_timetable_metadata_+3A_api_key">api_key</code></td>
<td>
<p>API key for the 'BODS' dataset passed as a string. Can be obtained from <a href="https://data.bus-data.dft.gov.uk/api/">the BODS API login</a></p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_limit">limit</code></td>
<td>
<p>integer. Maximum number of records to return for a query. Defaults to 25</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_search">search</code></td>
<td>
<p>string to search records on; can be a value or partial value to
match the data set name, data set description, organisation name, or admin
area name. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_noc">noc</code></td>
<td>
<p>string or vector of strings. Limit results to fares data sets for specified National Operator Codes.
A full lookup of NOC to bus operator names can be seen using noc_lookup().
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_admin_area">admin_area</code></td>
<td>
<p>string or vector of strings. Limit results to datasets with services that stop
within the specified area(s).  'ATCO' Area Codes are as specified in the <a href="https://www.data.gov.uk/dataset/3b1766bf-04a3-44f5-bea9-5c74cf002e1d/national-public-transport-gazetteer-nptg">NPTG area codes</a>
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_status">status</code></td>
<td>
<p>string. Limit results to data sets with the specified status,
accepted values are &quot;published&quot; or &quot;inactive&quot;. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_end_date_start">end_date_start</code></td>
<td>
<p>datetime. Limit results to data sets with services with
end dates after this date. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_end_date_end">end_date_end</code></td>
<td>
<p>datetime. Limit results to data sets with services with
end dates before this date. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_modified_date">modified_date</code></td>
<td>
<p>datetime. Limit results to data sets that have been
created or updated since the specified date. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_start_date_start">start_date_start</code></td>
<td>
<p>datetime. Limit results to data sets with services
with start dates after this date. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_start_date_end">start_date_end</code></td>
<td>
<p>datetime. Limit results to data sets with services
with start dates before this date. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_dq_rag">dq_rag</code></td>
<td>
<p>string. Limit results to data sets with the specified RAG status.
Accepted options are &quot;red&quot;, &quot;amber&quot; and &quot;green&quot;. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_timetable_metadata_+3A_bods_compliance">bods_compliance</code></td>
<td>
<p>logical. Limit results to datasets with the specified
BODS compliance status. Defaults to NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame of timetable metadata including links to data from the 'BODS' API.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#Before running these examples, ensure you have an API key saved
#Return the first 25 results of timetable metadata with no filters
get_timetable_metadata()

#Return timetable metadata for National Express
get_timetable_metadata(noc = "NATX")

#Return only published timetable metadata for Go Ahead with a green RAG status
get_timetable_metadata(noc = "BHBC", status = "published", dq_rag = "green")

#Return timetable metadata for the Devon admin area and search string
get_timetable_metadata(admin_area = "110", search = "Plymouth Citybus")

## End(Not run)
</code></pre>

<hr>
<h2 id='line_level_xml'>Pull a table of relevant values from specified nodes in the xml</h2><span id='topic+line_level_xml'></span>

<h3>Description</h3>

<p>Pull a table of relevant values from specified nodes in the xml
</p>


<h3>Usage</h3>

<pre><code class='language-R'>line_level_xml(x, count = 1, total_count = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="line_level_xml_+3A_x">x</code></td>
<td>
<p>An xml object</p>
</td></tr>
<tr><td><code id="line_level_xml_+3A_count">count</code></td>
<td>
<p>numeric. Where the xml file is taken from a zip collection, the number file it is. Defaults to 1.</p>
</td></tr>
<tr><td><code id="line_level_xml_+3A_total_count">total_count</code></td>
<td>
<p>numeric. Where the xml file is taken from a zip collection, the total number of files in the zip. Defaults to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a table of values extracted from specified nodes of
an xml document
</p>

<hr>
<h2 id='noc_lookup'>Lookup between operator names and national operator code ('NOC') lookup</h2><span id='topic+noc_lookup'></span>

<h3>Description</h3>

<p>Lookup between operator names and national operator code ('NOC') lookup
</p>


<h3>Usage</h3>

<pre><code class='language-R'>noc_lookup()
</code></pre>


<h3>Value</h3>

<p>Returns a data frame of operator names and their corresponding national
operator code from the 'BODS' API.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Check operator name lookup
## Not run: 
noc_lookup()

## End(Not run)
</code></pre>

<hr>
<h2 id='not_null'>Join together a value and an associated API string if the value
is not NULL</h2><span id='topic+not_null'></span>

<h3>Description</h3>

<p>Join together a value and an associated API string if the value
is not NULL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>not_null(obj, string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="not_null_+3A_obj">obj</code></td>
<td>
<p>R object to check whether it is NULL or not</p>
</td></tr>
<tr><td><code id="not_null_+3A_string">string</code></td>
<td>
<p>API string to append to R object</p>
</td></tr>
</table>

<hr>
<h2 id='not_null_date'>Join together a date value and an associated API string if the value
is not NULL</h2><span id='topic+not_null_date'></span>

<h3>Description</h3>

<p>Join together a date value and an associated API string if the value
is not NULL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>not_null_date(date, string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="not_null_date_+3A_date">date</code></td>
<td>
<p>R object to check whether it is NULL or not</p>
</td></tr>
<tr><td><code id="not_null_date_+3A_string">string</code></td>
<td>
<p>API string to append to R object</p>
</td></tr>
</table>

<hr>
<h2 id='open_all_xml'>Open every xml file within a zip object and extract data of interest from it using a given function</h2><span id='topic+open_all_xml'></span>

<h3>Description</h3>

<p>Open every xml file within a zip object and extract data of interest from it using a given function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>open_all_xml(url, fun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="open_all_xml_+3A_url">url</code></td>
<td>
<p>A url pointing towards a zip object</p>
</td></tr>
<tr><td><code id="open_all_xml_+3A_fun">fun</code></td>
<td>
<p>name of a data extracting function to apply to the zip folder</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a dataframe of information extracted from xml documents
</p>

<hr>
<h2 id='poss_xml'>Try to read an xml file using read_xml; where this fails, quietly return a NULL value</h2><span id='topic+poss_xml'></span>

<h3>Description</h3>

<p>Try to read an xml file using read_xml; where this fails, quietly return a NULL value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poss_xml(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="poss_xml_+3A_...">...</code></td>
<td>
<p>arguments to pass to the read_xml function</p>
</td></tr>
</table>

<hr>
<h2 id='xml_file_counter'>Count the number of xml files included within a provided metadata dataframe, whether the provided file links are xml or zip</h2><span id='topic+xml_file_counter'></span>

<h3>Description</h3>

<p>Count the number of xml files included within a provided metadata dataframe, whether the provided file links are xml or zip
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xml_file_counter(timetable_metadata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xml_file_counter_+3A_timetable_metadata">timetable_metadata</code></td>
<td>
<p>A table of metadata extracted using get_timetable_metadata()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a numeric vector of number of xml files by row of the provided metadata
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

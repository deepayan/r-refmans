<!DOCTYPE html><html lang="en"><head><title>Help for package RweaveExtra</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RweaveExtra}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RweaveExtra-package'>
<p>Sweave Drivers with Extra Tricks Up their Sleeve</p></a></li>
<li><a href='#RtangleExtra'><p>R Driver for Stangle with Additional Options</p></a></li>
<li><a href='#RweaveExtraLatex'><p>R/LaTeX Driver for Sweave with Additional Options</p></a></li>
<li><a href='#RweaveExtraLatexUtils'><p>RweaveExtra Driver Utilities</p></a></li>
<li><a href='#SweaveGetSourceName'><p>File Processed by Sweave or Stangle</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sweave Drivers with Extra Tricks Up their Sleeve</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2-0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-03-14</td>
</tr>
<tr>
<td>Description:</td>
<td>Weave and tangle drivers for Sweave extending the
  standard drivers. RweaveExtraLatex and RtangleExtra provide options
  to completely ignore code chunks on weaving, tangling, or both.
  Chunks ignored on weaving are not parsed, yet are written out
  verbatim on tangling. Chunks ignored on tangling may be evaluated as
  usual on weaving, but are completely left out of the tangled
  scripts. The driver RtangleExtra also provides options to control
  the separation between code chunks in the tangled script, and to
  specify the extension of the file name (or remove it entirely) when
  splitting is selected.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1-0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gitlab.com/vigou3/rweaveextra">https://gitlab.com/vigou3/rweaveextra</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://gitlab.com/vigou3/rweaveextra/-/issues">https://gitlab.com/vigou3/rweaveextra/-/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-14 16:36:55 UTC; vincent</td>
</tr>
<tr>
<td>Author:</td>
<td>Vincent Goulet [cre, aut],
  R Core Team [aut] (Code from the original Sweave drivers)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Vincent Goulet &lt;vincent.goulet@act.ulaval.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-14 18:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='RweaveExtra-package'>
Sweave Drivers with Extra Tricks Up their Sleeve
</h2><span id='topic+RweaveExtra-package'></span><span id='topic+RweaveExtra'></span>

<h3>Description</h3>

<p>Weave and tangle drivers for Sweave extending the
  standard drivers. RweaveExtraLatex and RtangleExtra provide options
  to completely ignore code chunks on weaving, tangling, or both.
  Chunks ignored on weaving are not parsed, yet are written out
  verbatim on tangling. Chunks ignored on tangling may be evaluated as
  usual on weaving, but are completely left out of the tangled
  scripts. The driver RtangleExtra also provides options to control
  the separation between code chunks in the tangled script, and to
  specify the extension of the file name (or remove it entirely) when
  splitting is selected.
</p>


<h3>Details</h3>

<p>The <code><a href="#topic+RweaveExtraLatex">RweaveExtraLatex</a></code> and <code><a href="#topic+RtangleExtra">RtangleExtra</a></code>
drivers extend the standard <code><a href="utils.html#topic+Sweave">Sweave</a></code> drivers
<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code> and
<code><a href="utils.html#topic+Rtangle">Rtangle</a></code>, respectively. They are selected
through the <code>driver</code> argument of <code><a href="utils.html#topic+Sweave">Sweave</a></code>.
</p>
<p>The drivers provide additional options to completely ignore code
chunks on weaving, tangling, or both. Chunks ignored on weaving are
not parsed and are written out verbatim on tangling. Chunks ignored on
tangling are processed as usual on weaving, but completely left out of
the tangled scripts. The driver <code><a href="#topic+RtangleExtra">RtangleExtra</a></code> furthermore
provides two additional options: <code>chunk.sep</code> to control the
separation (or remove it entirely) between code chunks in the tangled
script; <code>extension</code> to specify the extension of the file name (or
remove it entirely) when splitting is selected.
</p>
<p>In a literate programming workflow, the additional options allow
to include code chunks in a file such as:
</p>

<ul>
<li><p>code that is not parsable by R (say, because of errors
inserted for educational purposes);
</p>
</li>
<li><p>code in another programming language entirely (say, a shell
script to start an analysis);
</p>
</li>
<li><p>code for a Shiny app.
</p>
</li></ul>

<p>With the standard drivers, using option <code>eval = FALSE</code> results in
code being commented out in tangled scripts files. Chunks may be
omitted on tangling with <code>drop.evalFALSE = TRUE</code>, but only
provided the chunk is not evaluated on weaving. Therefore, the
standard drivers have no provision to either omit a chunk on weaving
and tangle it as is, or to process a chunk on weaving but omit it
on tangling.  
</p>


<h3>Author(s)</h3>

<p>Vincent Goulet [cre, aut],
  R Core Team [aut] (Code from the original Sweave drivers)
</p>
<p>Maintainer: Vincent Goulet &lt;vincent.goulet@act.ulaval.ca&gt;
</p>

<hr>
<h2 id='RtangleExtra'>R Driver for Stangle with Additional Options</h2><span id='topic+RtangleExtra'></span><span id='topic+RtangleExtraSetup'></span>

<h3>Description</h3>

<p>A driver for <code><a href="utils.html#topic+Sweave">Sweave</a></code> extending the standard driver
<code><a href="utils.html#topic+Rtangle">Rtangle</a></code> with additional code chunk options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RtangleExtra()

RtangleExtraSetup(file, syntax, output = NULL, annotate = TRUE,
                  split = FALSE, quiet = FALSE, drop.evalFALSE = FALSE,
                  ignore.on.tangle = FALSE, ignore = FALSE,
                  extension = TRUE, chunk.sep = "\n\n", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="RtangleExtra_+3A_file">file</code></td>
<td>
<p>Name of Sweave source file. See the description of the
corresponding argument of <code><a href="utils.html#topic+Sweave">Sweave</a></code>.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_syntax">syntax</code></td>
<td>
<p>An object of class <code>SweaveSyntax</code>. See
<code><a href="utils.html#topic+Rtangle">Rtangle</a></code>.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_output">output</code></td>
<td>
<p>Name of output file used unless <code>split = TRUE</code>.
See <code><a href="utils.html#topic+Rtangle">Rtangle</a></code>.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_annotate">annotate</code></td>
<td>
<p>A logical or <code><a href="base.html#topic+function">function</a></code>. See
<code><a href="utils.html#topic+Rtangle">Rtangle</a></code>.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_split">split</code></td>
<td>
<p>Split output into a file for each code chunk?</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_quiet">quiet</code></td>
<td>
<p>Logical to suppress all progress messages.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_drop.evalfalse">drop.evalFALSE</code></td>
<td>
<p>See <code><a href="utils.html#topic+Rtangle">Rtangle</a></code>.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_ignore.on.tangle">ignore.on.tangle</code></td>
<td>
<p>If <code>TRUE</code>, the code chunk is ignored
entirely.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_ignore">ignore</code></td>
<td>
<p>An alternative way to set both <code>ignore.on.weave</code>
of <code><a href="#topic+RweaveExtraLatex">RweaveExtraLatex</a></code> and <code>ignore.on.tangle</code>.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_extension">extension</code></td>
<td>
<p>Extension to use for the file name, without the
leading dot, when splitting is selected. If <code>TRUE</code>, the default
extension of <code><a href="utils.html#topic+Rtangle">Rtangle</a></code> is used (the
&lsquo;engine&rsquo;, usually &lsquo;<span class="file">R</span>&rsquo;). If <code>FALSE</code>, no extension
is added to the file name.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_chunk.sep">chunk.sep</code></td>
<td>
<p>Text to use as separator between code chunks. The
default value reproduces the output of the standard
<code><a href="utils.html#topic+Rtangle">Rtangle</a></code> driver. If <code>FALSE</code>, no separator
is added between chunks.</p>
</td></tr>
<tr><td><code id="RtangleExtra_+3A_...">...</code></td>
<td>
<p>See <code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Chunks ignored on tangling are not written out to script files, but
they are processed normally on weaving (unless <code>ignore = TRUE</code>).
Therefore, chunks may still use <code>eval = TRUE</code> for weaving
purposes, yet not be tangled.
</p>
<p>The argument <code>extension</code> is specially useful with
<code>ignore.on.weave = TRUE</code> of <code><a href="#topic+RweaveExtraLatex">RweaveExtraLatex</a></code> to
include code or text that the engine would not be able to parse.
</p>
<p>The argument <code>chunk.sep</code> offers control over the chunk separator
that the standard <code><a href="utils.html#topic+Rtangle">Rtangle</a></code> driver does not. The
chunk separator is added <em>before</em> all chunks, except the first
one. Therefore, no chunk separator follows the last chunk. No newline
(aka &lsquo;line feed&rsquo;) is added to the value of the argument. Using
control characters (e.g. &lsquo;<span class="samp">&#8288;\n&#8288;</span>&rsquo;) in a code chunk option is not
supported.  
</p>


<h3>Value</h3>

<p>Named <code>list</code> of five functions; see <code><a href="utils.html#topic+Sweave">Sweave</a></code>
or the &lsquo;Sweave User Manual&rsquo; vignette in the <span class="pkg">utils</span>
package.
</p>


<h3>Author(s)</h3>

<p>Vincent Goulet, based on work by Friedrich Leisch and R-core.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RweaveExtraLatex">RweaveExtraLatex</a></code>, <code><a href="utils.html#topic+Rtangle">Rtangle</a></code>,
<code><a href="utils.html#topic+Sweave">Sweave</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>testfile &lt;- system.file("examples", "example-extra.Rnw",
                        package = "RweaveExtra")


## Check the contents of the file
if (interactive()) file.show(testfile)

## Tangle the file in the current working directory
Stangle(testfile, driver = RtangleExtra())

## View tangled file
if (interactive()) file.show("example-extra.R")

## Reduce to spacing between code chunks to a single
## blank line
Stangle(testfile, driver = RtangleExtra(), chunk.sep = "\n")
if (interactive()) file.show("example-extra.R")

## The effect of 'chunk.sep=FALSE' in the second chunk
## is more interesting without the annotations
Stangle(testfile, driver = RtangleExtra(),
        annotate = FALSE, chunk.sep = "\n")
if (interactive()) file.show("example-extra.R")

## Use 'extension=sh' with 'ignore.on.weave=TRUE', and
## the options 'split=TRUE' and 'prefix=FALSE' of Stangle
## to extract the shell script to a file 'hello.sh'
Stangle(testfile, driver = RtangleExtra(),
        split = TRUE, annotate = FALSE)
if (interactive()) file.show("hello.sh")

</code></pre>

<hr>
<h2 id='RweaveExtraLatex'>R/LaTeX Driver for Sweave with Additional Options</h2><span id='topic+RweaveExtraLatex'></span><span id='topic+RweaveExtraLatexSetup'></span>

<h3>Description</h3>

<p>A driver for <code><a href="utils.html#topic+Sweave">Sweave</a></code> extending the standard driver
<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code> with additional code chunk options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RweaveExtraLatex()

RweaveExtraLatexSetup(file, syntax, output = NULL, quiet = FALSE,
                      debug = FALSE, stylepath, ignore.on.weave = FALSE,
                      ignore = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="RweaveExtraLatex_+3A_file">file</code></td>
<td>
<p>Name of Sweave source file. See the description of the
corresponding argument of <code><a href="utils.html#topic+Sweave">Sweave</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_syntax">syntax</code></td>
<td>
<p>An object of class <code>SweaveSyntax</code>. See
<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_output">output</code></td>
<td>
<p>Name of output file. See
<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_quiet">quiet</code></td>
<td>
<p>If <code>TRUE</code> all progress messages are suppressed. See
<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_debug">debug</code></td>
<td>
<p>If <code>TRUE</code>, input and output of all code
chunks is copied to the console. See
<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_stylepath">stylepath</code></td>
<td>
<p>See <code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_ignore.on.weave">ignore.on.weave</code></td>
<td>
<p>If <code>TRUE</code>, the code chunk is ignored
entirely, i.e., neither parsed nor evaluated.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_ignore">ignore</code></td>
<td>
<p>An alternative way to set both <code>ignore.on.weave</code>
and <code>ignore.on.tangle</code> of <code><a href="#topic+RtangleExtra">RtangleExtra</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveExtraLatex_+3A_...">...</code></td>
<td>
<p>See <code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Chunks ignored on weaving are not parsed and are not evaluated, but
they are written out on tangling as normal code chunks (unless
<code>ignore=TRUE</code>).
</p>
<p>If <code>ignore.on.weave</code> or <code>ignore</code> is <code>FALSE</code>, the code
chunk is processed using the standard driver
<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code> with its options.
</p>


<h3>Value</h3>

<p>Named <code>list</code> of five functions; see <code><a href="utils.html#topic+Sweave">Sweave</a></code>
or the &lsquo;Sweave User Manual&rsquo; vignette in the <span class="pkg">utils</span>
package.
</p>


<h3>Author(s)</h3>

<p>Vincent Goulet, based on work by Friedrich Leisch and R-core.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RtangleExtra">RtangleExtra</a></code>, <code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>,
<code><a href="utils.html#topic+Sweave">Sweave</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>testfile &lt;- system.file("examples", "example-extra.Rnw", package = "RweaveExtra")

## Check the contents of the file
if(interactive()) file.show(testfile)

## Weave, then tangle the file in the current working directory
Sweave(testfile, driver = RweaveExtraLatex())
Stangle(testfile, driver = RtangleExtra())

## View weaved and tangled files
if(interactive()) file.show("example-extra.tex")
if(interactive()) file.show("example-extra.R")


</code></pre>

<hr>
<h2 id='RweaveExtraLatexUtils'>RweaveExtra Driver Utilities</h2><span id='topic+RweaveExtraLatexRuncode'></span><span id='topic+RtangleExtraRuncode'></span>

<h3>Description</h3>

<p>These functions are considered internal and hence not documented. The
first mostly calls <code>makeRweaveLatexCodeRunner</code>, whereas the
second is a modified version of <code>RtangleRuncode</code>, both from
package <span class="pkg">utils</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RweaveExtraLatexRuncode(object, chunk, options)
RtangleExtraRuncode(object, chunk, options)
</code></pre>


<h3>Value</h3>

<p>No return value; called for their side effects.
</p>


<h3>Author(s)</h3>

<p>Vincent Goulet, based on work by Friedrich Leisch, R-core and
Seth Falcon.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+Sweave">Sweave</a></code>, <code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>,
<code><a href="utils.html#topic+Rtangle">Rtangle</a></code>.
</p>

<hr>
<h2 id='SweaveGetSourceName'>File Processed by Sweave or Stangle</h2><span id='topic+SweaveGetSourceName'></span>

<h3>Description</h3>

<p>Extract the name of the file currently processed by
<code><a href="utils.html#topic+Sweave">Sweave</a></code> or <code><a href="utils.html#topic+Stangle">Stangle</a></code> in a
non-interactive session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SweaveGetSourceName()
</code></pre>


<h3>Details</h3>

<p>The function returns the name of the source file being processed by
<code>Sweave</code> or <code>Stangle</code> when the tool is invoked from the
command line through either:
</p>

<ol>
<li><p> an expression passed to <code>R -e</code> or
<code><a href="utils.html#topic+Rscript">Rscript</a></code>;
</p>
</li>
<li> <p><code>R CMD Sweave</code> or <code>R CMD Stangle</code>.
</p>
</li></ol>

<p>In the first scenario, the filename must be the first, unnamed
argument to <code>Sweave</code> or <code>Stangle</code>.
</p>
<p>This function cannot be used from an interactive R session.
</p>


<h3>Value</h3>

<p>Filename as a character string.
</p>


<h3>Author(s)</h3>

<p>Vincent Goulet
</p>


<h3>Examples</h3>

<pre><code class='language-R'>testfile &lt;- system.file("examples", "example-source.Rnw",
                        package = "RweaveExtra")

## Check the contents of the file
if (interactive()) file.show(testfile)

## Sweave the file in a separate process
expr &lt;- paste0("Sweave('", testfile, "', ",
               "encoding = 'utf-8')")
system2("R", c("-e", paste0("\"", expr, "\"")))

## View woven file
if (interactive()) file.show("example-source.tex")

## Stangle was called from within Sweave in the file
if (interactive()) file.show("example-source.R")

## Repeat using 'R CMD Sweave'
system2("R", c("CMD", "Sweave", testfile, "--encoding=utf-8"))
if (interactive()) file.show("example-source.tex")
if (interactive()) file.show("example-source.R")

## Do not use the function interactively
## Not run: SweaveGetSourceName()


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

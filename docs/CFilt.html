<!DOCTYPE html><html><head><title>Help for package CFilt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CFilt}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CF-class'><p>A Reference Class to represent a object CF</p></a></li>
<li><a href='#CFbuilder'><p>A function to create and build a CF class object</p></a></li>
<li><a href='#CFilt'><p>CFilt: A package about Collaborative Filtering by RC in R.</p></a></li>
<li><a href='#movies'><p>Movie ratings by users</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Collaborative Filtering by Reference Classes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Thiago Lima, Jessica Kubrusly</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thiago Lima &lt;thiagoaugusto@id.uff.br&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The collaborative Filtering methodology has been widely used in recommendation systems, which
    uses similarities between users or items to make recommendations. A class called CF was implemented,
    where it is structured by matrices and composed of recommendation and database manipulation functions.
    See Aggarwal (2016) &lt;<a href="https://doi.org/10.1007%2F978-3-319-29659-3">doi:10.1007/978-3-319-29659-3</a>&gt; for an overview. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, utils</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-10-14 12:47:23 UTC; thiag</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-10-14 13:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='CF-class'>A Reference Class to represent a object CF</h2><span id='topic+CF-class'></span><span id='topic+CF'></span>

<h3>Description</h3>

<p>A class of objects created structured with the following objects: the MU - Utility Matrix, the SU1 and SU2 - Matrices of Similarity
between Users, the SI1 e SI2 - Matrices of Similarity between Items, and the vectors averages_u, averages_i, n_aval_u and n_aval_i. The class
contains methods, general functions with the objectives of manipulating the data and making recommendations, from the structures
present in the class. The data manipulation methods comprise addsimilarity, addnewuser, addnewemptyuser, deleteuser, addnewitem, addnewemptyitem, deleteitem, newrating and deleterating,
while the recommendations methods recommend, kclosestitems, topkusers, topkitems are created through choices available in the
Collaborative Filtering methodology. All objects and methods are accessed through the &quot;$&quot; character. A CF class object is created through
the CFbuilder function.
</p>


<h3>Fields</h3>


<dl>
<dt><code>MU</code></dt><dd><p>A utility matrix, matrix that contains all the users ratings. The rows comprise users and the columns, itens.</p>
</dd>
<dt><code>SU1</code></dt><dd><p>A superior triangular user similarity matrix that contains the similarities between users, calculated using Cosine similarity</p>
</dd>
<dt><code>SU2</code></dt><dd><p>A superior triangular user similarity matrix that contains the similarities between users, calculated  using Pearson Correlation.</p>
</dd>
<dt><code>SI1</code></dt><dd><p>A superior triangular item similarity matrix that contains the similarities between items, calculated  using Cosine similarity.</p>
</dd>
<dt><code>SI2</code></dt><dd><p>A superior triangular item similarity matrix that contains the similarities between items, calculated using Adjusted Cosine similarity.</p>
</dd>
<dt><code>averages_u</code></dt><dd><p>A vector that contains the averages of users ratings.</p>
</dd>
<dt><code>averages_i</code></dt><dd><p>A vector that contains the averages of item ratings.</p>
</dd>
<dt><code>n_aval_u</code></dt><dd><p>A vector that contains the numbers of ratings performed by each user.</p>
</dd>
<dt><code>n_aval_i</code></dt><dd><p>A vector that contains the numbers of ratings received for each item.</p>
</dd>
</dl>


<h3>Methods</h3>


<dl>
<dt><code>addnewemptyitem(Id_i)</code></dt><dd><p>Adds a new item without ratings. The object CF matrices and vectors will be updated. Id_i : a character, an item ID.
If you want to add more items, you can use lists where Id_i is a list of characters.</p>
</dd>
<dt><code>addnewemptyuser(Id_u)</code></dt><dd><p>Adds a new user without ratings. The object CF matrices and vectors will be updated. Id_u : a character, a user ID.
If you want to add more users, you can use lists, where Id_u is a list of characters.</p>
</dd>
<dt><code>addnewitem(Id_i, Ids_u, r)</code></dt><dd><p>Adds a new item that has been rated by one or more users. The object CF matrices and vectors will be updated. Id_i : a character, an item ID; Ids_u : a character vector, a user IDs; r : a vector with its respective ratings.
If you want to add more items, you can use lists, where Id_i is a list of characters; Ids_u is a list of vectors of characters; r is a list of vectors of ratings. </p>
</dd>
<dt><code>addnewuser(Id_u, Ids_i, r)</code></dt><dd><p>Adds a new user who rated one or more items. The object CF matrices and vectors will be updated. Id_u : a character, a user ID; Ids_i : a character vector, item IDs; r : a vector with its respective ratings.
If you want to add more users, you can use lists, where Id_u: list of characters; Ids_i: list of vectors of characters; r: list of vectors of ratings. </p>
</dd>
<dt><code>addsimilarity(sim_user = "none", sim_item = "none")</code></dt><dd><p>Adds new methodologies even after the construction and modification of the CF object used. The matrices of similarities representing each requested methodology will be added.
sim_user: a methodology used to estimate the rating by users similarity. Can be 'cos','pearson','both' or 'none'. If it equals 'cos' (Cosine Similarity), the SU1 will be built.
If it equals 'pearson' (Pearson Similarity), the SU2 will be built. If it equals 'both', the SU1 and SU2 will be built. If it equals 'none', nothing will be built. sim_item: A
methodology used to estimate the rating by itens similarity. Can be 'cos','adjcos','both' or 'none'. If it equals 'cos' (Cosine Similarity), the SI1 will be built. If it equals
'adjcos' (Adjusted Cosine Similarity), the SI2 will be built. If it equals 'both', the SI1 and SI2 will be built. If it equals 'none', nothing will be built.</p>
</dd>
<dt><code>changerating(Id_u, Id_i, r)</code></dt><dd><p>Changes the rating from user Id_u to item Id_i. The object CF matrices and vectors will be updated. Id_u : A character, a user ID; Id_i : A character, an item ID; r : The new rating.
If you want to change more ratings, you can use lists where Id_u and Id_i are lists of characters and r is a list of ratings.</p>
</dd>
<dt><code>deleteitem(Id_i)</code></dt><dd><p>Deletes an already registered item. The object CF matrices and vectors will be updated. Id_i : a character, a item ID that will be deleted.
If you want to delete more items, you can use lists, where Id_i is a list of characters.</p>
</dd>
<dt><code>deleterating(Id_u, Id_i)</code></dt><dd><p>Deletes the rating from user Id_u to item Id_i. The object CF matrices and vectors will be updated. Id_u : A character, a user ID; Id_i : A character, an item ID.
If you want to delete more ratings, you can use lists, where Id_u and Id_i are lists of characters.</p>
</dd>
<dt><code>deleteuser(Id_u)</code></dt><dd><p>Deletes an already registered user. The object CF matrices and vectors will be updated. Id_u : A character, a user ID that will be deleted.
If you want to delete more users, you can use lists where Id_u is a list of characters.</p>
</dd>
<dt><code>estimaterating(
  Id_u,
  Id_i,
  type,
  neighbors = 5,
  similarity = ifelse(type == "user", "pearson", "adjcos")
)</code></dt><dd><p>A function that returns the estimated rating for the evaluation of item Id_i by user Id_u. The recommendation can be made through similarity between users, when type = 'user', and also through the similarity between items, when type = 'item'.
Id_u: A character, a user ID; Id_i: A character, an item ID; type: A character string, 'user' or 'item'; neighbors: Number of similarities used for the estimates.(default=5); similarity: the methodology used to estimate the rating. If type = 'user', must be one of 'cos', for cosine similarity, or 'pearson' (default), for pearson similarity. If type='item', must be one of 'cos', for cosine similarity, or 'adjcos' (default), for adjusted cosine similarity. This choice can alter the way the
estimate is calculated.</p>
</dd>
<dt><code>kclosestitems(Id_i, k = 5, similarity = "adjcos")</code></dt><dd><p>A function that returns the k items most similar to an item. Id_i : A Character, a Item ID; k : Number of items most similar to item Id_i (deafult = 5);
similarity:  the methodology used to estimate the rating. Must be one of 'cos', for cosine similarity, or 'adjcos' (default), for adjusted cosine similarity. This choice can alter the way the
estimate is calculated.</p>
</dd>
<dt><code>newrating(Id_u, Id_i, r)</code></dt><dd><p>Adds a new rating from user Id_u to item Id_i.The object CF matrices and vectors will be updated. Id_u : a character, a user ID; Id_i : a character, an item ID; r : the rating.
If you want to add more ratings, you can use lists, where Id_u and Id_i are lists of characters and r is a list of ratings.</p>
</dd>
<dt><code>recommend(
  Id_u,
  Id_i,
  type,
  neighbors = 5,
  cuts = 3.5,
  similarity = ifelse(type == "user", "pearson", "adjcos")
)</code></dt><dd><p>A function that returns True if user Id_u will like item Id_i or returns FALSE, otherwise. The recommendation can be made through similarity between users, when type = 'user', as well as through the similarity between items, when type = 'item'.
Id_u : a  character, a User ID; Id_i : a character, an Item ID; type: a character string, 'user' or 'item'; neighbors: number of similarities used for to estimates (default = 5); cuts: cut score designated to determine if it is recommended (default=3.5);
similarity: the methodology used to estimate the rating. If type = 'user', must be one of 'cos', for cosine similarity, or 'pearson' (default), for pearson similarity. If type='item', must be one of 'cos', for cosine similarity, or 'adjcos' (default), for adjusted cosine similarity. This choice can alter the way the
estimate is calculated.</p>
</dd>
<dt><code>topkitems(
  Id_u,
  k = 5,
  type,
  neighbors = 5,
  cuts = 3.5,
  similarity = ifelse(type == "user", "pearson", "adjcos")
)</code></dt><dd><p>A function that recommends k items for an Id_u user. The recommendation can be made through similarity between users, when type = 'user', as well as through similarity between items,
when type = 'item'. Id_u : a character, a User ID; k : number of recommendations (default=5); type: a character string, 'user' or 'item'; neighbors: number of similarities used for the estimates(default=5);
cuts: cut score designated to determine if it is recommended (default = 3.5); similarity: the methodology used to estimate the rating. If type = 'user', must be one of 'cos', for cosine similarity,
or 'pearson' (default), for pearson similarity. If type='item', must be one of 'cos', for cosine similarity, or 'adjcos' (default), for adjusted cosine similarity. This choice can alter the way the
estimate is calculated.</p>
</dd>
<dt><code>topkusers(
  Id_i,
  k = 5,
  type,
  neighbors = 5,
  cuts = 3.5,
  similarity = ifelse(type == "user", "pearson", "adjcos")
)</code></dt><dd><p>A function that indicates the k users who will like the item Id_i.The recommendation can be made through similarity between users, when type = 'user', as well as through similarity between
items, when type = 'item'. Id_i : A Character, a Item ID; k : Number of recommendations (default=5); type: A character string, 'user' or 'item'; neighbors: Number of similarities used for
the estimates (default=5); cuts: Cut score designated to determine if it is recommended (default=3.5);   similarity: the methodology used to estimate the rating. If type = 'user', must be one of 'cos', for cosine similarity, or 'pearson' (default), for pearson similarity. If type='item', must be one of 'cos', for cosine similarity, or 'adjcos' (default), for adjusted cosine similarity. This choice can alter the way the
estimate is calculated.</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Thiago Lima, Jessica Kubrusly.
</p>


<h3>References</h3>


<ul>
<li><p> LINDEN, G.; SMITH, B.; YORK, J. Amazon. com recommendations: Item-toitem collaborative filtering. Internet Computing, IEEE, v. 7, n. 1, p. 76-80,2003
</p>
</li>
<li><p> Aggarwal, C. C. (2016). Recommender systems (Vol. 1). Cham: Springer International Publishing.
</p>
</li>
<li><p> Leskovec, J., Rajaraman, A., &amp; Ullman, J. D. (2020). Mining of massive data sets. Cambridge university press.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+CFbuilder">CFbuilder</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings&lt;-movies[1:1000,]
objectCF&lt;-CFbuilder(Data = ratings, sim_user="pearson", sim_item="adjcos")
objectCF$addsimilarity(sim_user="cos",sim_item="cos")
objectCF$MU
objectCF$SU1
objectCF$SU2
objectCF$SI1
objectCF$SI2
objectCF$averages_u
objectCF$averages_i
objectCF$n_aval_u
objectCF$n_aval_i
objectCF$addnewuser(Id_u = "Thiago",Ids_i = "The Hunger Games: Catching Fire",r = 5)
objectCF$addnewemptyuser(Id_u = "Jessica")
objectCF$deleteuser(Id_u = "Jessica")
objectCF$addnewitem(Id_i = "Avengers: Endgame",Ids_u = c("1","2"),r = c(5,3))
objectCF$addnewemptyitem(Id_i = "Star Wars")
objectCF$deleteitem(Id_i="Star Wars")
objectCF$newrating(Id_u = "1", Id_i = "Till Luck Do Us Part 2",r = 2)
objectCF$recommend(Id_u = "2", Id_i = "Iron Man 3", type = "user")
objectCF$kclosestitems(Id_i = "Iron Man 3", k = 3)
objectCF$topkitems(Id_u = "3",k = 3, type = "user")
objectCF$topkusers(Id_i = "Thor: The Dark World", k = 3,type = "item")
objectCF$estimaterating(Id_u = "2",Id_i = "Iron Man 3", type = "user")
objectCF$deleterating("1","Brazilian Western")
objectCF$changerating("1","Wreck-It Ralph",2)
</code></pre>

<hr>
<h2 id='CFbuilder'>A function to create and build a CF class object</h2><span id='topic+CFbuilder'></span>

<h3>Description</h3>

<p>A CF class object constructor. This function can perform two procedures: If Data is a data frame, style: User Id - Item Id - Ratings, it creates
and builds an FC class object from the data frame, containing a Utility Matrix, a User Similarity Matrix, an Item Similarity Matrix, a vector with
the number of user ratings, a vector with the number of ratings received for the items, a vector with the average ratings of each user and another
vector with the average ratings received from each item. If Data is the Utility Matrix, it also constructs all matrices and vectors. When building
the object, the progress percentage is shown. Step 1: Building the MU and vectors. Step 2: Building the SU. Step 3: Building the SI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CFbuilder(Data, sim_user, sim_item)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CFbuilder_+3A_data">Data</code></td>
<td>
<p>A data frame by style: User ID - Item ID - Ratings, or a Utility Matrix.</p>
</td></tr>
<tr><td><code id="CFbuilder_+3A_sim_user">sim_user</code></td>
<td>
<p>A methodology used to estimate the rating by users similarity. Can be 'cos','pearson','both' or 'none'. If it equals 'cos', the SU1 will be built. If it equals 'pearson', the SU2 will be built. If it equals 'both', the SU1 and SU2 will be built. If it equals 'none', nothing will be built.</p>
</td></tr>
<tr><td><code id="CFbuilder_+3A_sim_item">sim_item</code></td>
<td>
<p>A methodology used to estimate the rating by itens similarity. Can be 'cos','adjcos','both' or 'none'. If it equals 'cos', the SI1 will be built. If it equals 'adjcos', the SI2 will be built. If it equals 'both', the SI1 and SI2 will be built. If it equals 'none', nothing will be built.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a CF class object.
</p>


<h3>Author(s)</h3>

<p>Thiago Lima, Jessica Kubrusly.
</p>


<h3>References</h3>

<p>LINDEN, G.; SMITH, B.; YORK, J. Amazon. com recommendations: Item-to-item collaborative filtering. Internet Computing, IEEE, v. 7, n. 1, p. 76-80,2003
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CF-class">CF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings&lt;-movies[1:1000,]
objectCF&lt;-CFbuilder(Data = ratings, sim_user = "pearson", sim_item = "adjcos")
</code></pre>

<hr>
<h2 id='CFilt'>CFilt: A package about Collaborative Filtering by RC in R.</h2><span id='topic+CFilt'></span>

<h3>Description</h3>

<p>The CFilt package provides one builder function CFbuilder and one class CF with methods that serve to change objects and recommend items or users.
</p>


<h3>Details</h3>

<p>Two main goals:
</p>

<ul>
<li><p> Structure the database so that changes can be made in a practical way through object-oriented programming.
</p>
</li>
<li><p> Make recommendations through choices by the Collaborative Filtering methodology in a practical, fast and efficient manner.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Authors:
</p>

<ul>
<li><p> Jessica Quintanilha Kubrusly - jessicakubrusly@id.uff.br
</p>
</li>
<li><p> Thiago Augusto Santos Lima - thiagoaugusto@id.uff.br
</p>
</li></ul>


<hr>
<h2 id='movies'>Movie ratings by users</h2><span id='topic+movies'></span>

<h3>Description</h3>

<p>A dataset containing 7276 ratings for 50 movies by 526 users. This database was created by Giglio (2014).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>movies
</code></pre>


<h3>Format</h3>

<p>A data frame with 7276 rows and 3 variables:
</p>

<dl>
<dt>Id Users</dt><dd><p>Users identifier. Numbers 1 to 526. </p>
</dd>
<dt>Id Items</dt><dd>
<p>Movies identifier. Movies list:
</p>

<ol>
<li><p> Iron Man 3
</p>
</li>
<li><p> Despicable Me 2
</p>
</li>
<li><p> My Mom Is a Character
</p>
</li>
<li><p> Fast &amp; Furious 6
</p>
</li>
<li><p> The Wolverine
</p>
</li>
<li><p> Thor: The Dark World
</p>
</li>
<li><p> Hansel &amp; Gretel: Witch Hunters
</p>
</li>
<li><p> Wreck-It Ralph
</p>
</li>
<li><p> Monsters University
</p>
</li>
<li><p> The Hangover Part III
</p>
</li>
<li><p> Vai Que Dá Certo
</p>
</li>
<li><p> Meu Passado me Condena
</p>
</li>
<li><p> We’re So Young
</p>
</li>
<li><p> Brazilian Western
</p>
</li>
<li><p> O Concurso
</p>
</li>
<li><p> Mato sem Cachorro
</p>
</li>
<li><p> Cine Holliudy
</p>
</li>
<li><p> Odeio o Dia dos Namorados
</p>
</li>
<li><p> Argo
</p>
</li>
<li><p> Django Unchained
</p>
</li>
<li><p> Life of Pi
</p>
</li>
<li><p> Lincoln
</p>
</li>
<li><p> Zero Dark Thirty
</p>
</li>
<li><p> Les Miserables
</p>
</li>
<li><p> Silver Linings Playbook
</p>
</li>
<li><p> Beasts of the Southern Wild
</p>
</li>
<li><p> Amour
</p>
</li>
<li><p> A Royal Affair
</p>
</li>
<li><p> American Hustle
</p>
</li>
<li><p> Capitain Phillips
</p>
</li>
<li><p> 12 Years a Slave
</p>
</li>
<li><p> Dallas Buyers Club
</p>
</li>
<li><p> Gravity
</p>
</li>
<li><p> Her
</p>
</li>
<li><p> Philomena
</p>
</li>
<li><p> The Wolf of Wall Street
</p>
</li>
<li><p> The Hunt
</p>
</li>
<li><p> Frozen
</p>
</li>
<li><p> Till Luck Do Us Part 2
</p>
</li>
<li><p> Muita Calma Nessa Hora 2
</p>
</li>
<li><p> Paranormal Activity: The Marked Ones
</p>
</li>
<li><p> I, Frankenstein,
</p>
</li>
<li><p> The Legend of Tarzan
</p>
</li>
<li><p> The Book Thief
</p>
</li>
<li><p> The Lego Movie, , ,
</p>
</li>
<li><p> Walking With Dinosaurs
</p>
</li>
<li><p> The Hunger Games: Catching Fire
</p>
</li>
<li><p> Blue Is The Warmest Color
</p>
</li>
<li><p> Reaching for the Moon
</p>
</li>
<li><p> The Hobbit: The Desolation of Smaug
</p>
</li></ol>

</dd>
<dt>Ratings</dt><dd><p>Movie ratings by users. The ratings follows the Likert scale: 1 to 5.</p>
</dd>
</dl>



<h3>References</h3>

<p>Giglio , J. C. (2014). Recomendação de Filmes Utilizando Filtragem Colaborativa [Recommending Films Using Collaborative Filtering]. Undergraduate thesis - Universidade Federal Fluminense.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

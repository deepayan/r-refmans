<!DOCTYPE html><html><head><title>Help for package traveltimeR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {traveltimeR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_coords_for_error'><p>Validates location coordinates</p></a></li>
<li><a href='#distance_map'><p>Distance Map</p></a></li>
<li><a href='#geocoding'><p>Geocoding (Search)</p></a></li>
<li><a href='#geocoding_reverse'><p>Reverse Geocoding</p></a></li>
<li><a href='#make_location'><p>Location objects constructor</p></a></li>
<li><a href='#make_search'><p>Search objects constructor</p></a></li>
<li><a href='#make_union_intersect'><p>Set objects constructor</p></a></li>
<li><a href='#map_info'><p>Map Info</p></a></li>
<li><a href='#routes'><p>Routes</p></a></li>
<li><a href='#supported_locations'><p>Supported Locations</p></a></li>
<li><a href='#time_filter'><p>Distance Matrix (Time Filter)</p></a></li>
<li><a href='#time_filter_fast'><p>Time Filter (Fast)</p></a></li>
<li><a href='#time_filter_fast_proto'><p>Time Filter (Fast) with Protobuf</p></a></li>
<li><a href='#time_filter_postcode_districts'><p>Time Filter (Postcode Districts)</p></a></li>
<li><a href='#time_filter_postcode_sectors'><p>Time Filter (Postcode Sectors)</p></a></li>
<li><a href='#time_filter_postcodes'><p>Time Filter (Postcodes)</p></a></li>
<li><a href='#time_map'><p>Isochrones (Time Map)</p></a></li>
<li><a href='#time_map_fast'><p>Isochrones (Time Map) Fast</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interface to 'Travel Time' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>'Travel Time' API <a href="https://docs.traveltime.com/api/overview/introduction">https://docs.traveltime.com/api/overview/introduction</a> helps users find locations by journey time rather than using ‘as the crow flies’ distance.
  Time-based searching gives users more opportunities for personalisation and delivers a more relevant search.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>TravelTime &lt;frontend@traveltime.com&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, httr, jsonlite, RProtoBuf</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/traveltime-dev/traveltime-sdk-r">https://github.com/traveltime-dev/traveltime-sdk-r</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/traveltime-dev/traveltime-sdk-r/issues">https://github.com/traveltime-dev/traveltime-sdk-r/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-09 07:14:24 UTC; eivydaskocinas</td>
</tr>
<tr>
<td>Author:</td>
<td>TravelTime [aut, cre] (https://github.com/traveltime-dev)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-09 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_coords_for_error'>Validates location coordinates</h2><span id='topic+check_coords_for_error'></span>

<h3>Description</h3>

<p>Validates location coordinates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_coords_for_error(coords)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_coords_for_error_+3A_coords">coords</code></td>
<td>
<p>Location coordinates. Must use this format: list(lat = 0, lng = 0)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if coords are valid, FALSE otherwise
</p>

<hr>
<h2 id='distance_map'>Distance Map</h2><span id='topic+distance_map'></span>

<h3>Description</h3>

<p>Given origin coordinates, find shapes of zones reachable within corresponding travel distance.
Find unions/intersections between different searches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distance_map(
  departure_searches = NULL,
  arrival_searches = NULL,
  unions = NULL,
  intersections = NULL,
  format = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distance_map_+3A_departure_searches">departure_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="distance_map_+3A_arrival_searches">arrival_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="distance_map_+3A_unions">unions</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_union_intersect">make_union_intersect</a></code></p>
</td></tr>
<tr><td><code id="distance_map_+3A_intersections">intersections</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_union_intersect">make_union_intersect</a></code></p>
</td></tr>
<tr><td><code id="distance_map_+3A_format">format</code></td>
<td>
<p>distance-map response format. See <a href="https://docs.traveltime.com/api/reference/distance-map#Response-Body">https://docs.traveltime.com/api/reference/distance-map#Response-Body</a> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/distance-map/">https://docs.traveltime.com/api/reference/distance-map/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

dateTime &lt;- strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ")

departure_search &lt;-
  make_search(id = "driving from Trafalgar Square",
              departure_time = dateTime,
              travel_distance = 900,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "driving"))

arrival_search &lt;-
  make_search(id = "driving to Trafalgar Square",
              arrival_time = dateTime,
              travel_distance = 900,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "driving"),
              range = list(enabled = TRUE, width = 3600))

union &lt;- make_union_intersect(id = "union of driving to and from Trafalgar Square",
                               search_ids = list('driving from Trafalgar Square',
                                                 'driving to Trafalgar Square'))
intersection &lt;- make_union_intersect(id = "intersection of driving to and from Trafalgar Square",
                               search_ids = list('driving from Trafalgar Square',
                                                 'driving to Trafalgar Square'))
result &lt;-
  distance_map(
    departure_searches = departure_search,
    arrival_searches = arrival_search,
    unions = union,
    intersections = intersection
  )

## End(Not run)
</code></pre>

<hr>
<h2 id='geocoding'>Geocoding (Search)</h2><span id='topic+geocoding'></span>

<h3>Description</h3>

<p>Match a query string to geographic coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geocoding(
  query,
  within.country = NA,
  format.name = NA,
  format.exclude.country = NA,
  bounds = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geocoding_+3A_query">query</code></td>
<td>
<p>A query to geocode. Can be an address, a postcode or a venue.</p>
</td></tr>
<tr><td><code id="geocoding_+3A_within.country">within.country</code></td>
<td>
<p>Only return the results that are within the specified country.
If no results are found it will return the country itself. Optional. Format:ISO 3166-1 alpha-2 or alpha-3</p>
</td></tr>
<tr><td><code id="geocoding_+3A_format.name">format.name</code></td>
<td>
<p>Format the name field of the response to a well formatted, human-readable address of the location. Experimental. Optional.</p>
</td></tr>
<tr><td><code id="geocoding_+3A_format.exclude.country">format.exclude.country</code></td>
<td>
<p>Exclude the country from the formatted name field (used only if format.name is equal true). Optional.</p>
</td></tr>
<tr><td><code id="geocoding_+3A_bounds">bounds</code></td>
<td>
<p>Used to limit the results to a bounding box. Expecting a character vector with four floats,
marking a south-east and north-west corners of a rectangle: min-latitude,min-longitude,max-latitude,max-longitude.
e.g. bounds for Scandinavia c(54.16243,4.04297,71.18316,31.81641). Optional.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/geocoding-search/">https://docs.traveltime.com/api/reference/geocoding-search/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
geocoding('Parliament square')

## End(Not run)
</code></pre>

<hr>
<h2 id='geocoding_reverse'>Reverse Geocoding</h2><span id='topic+geocoding_reverse'></span>

<h3>Description</h3>

<p>Attempt to match a latitude, longitude pair to an address.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geocoding_reverse(lat, lng)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geocoding_reverse_+3A_lat">lat</code></td>
<td>
<p>Latitude of the point to reverse geocode.</p>
</td></tr>
<tr><td><code id="geocoding_reverse_+3A_lng">lng</code></td>
<td>
<p>Longitude of the point to reverse geocode.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/geocoding-reverse/">https://docs.traveltime.com/api/reference/geocoding-reverse/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
geocoding_reverse(lat=51.507281, lng=-0.132120)

## End(Not run)
</code></pre>

<hr>
<h2 id='make_location'>Location objects constructor</h2><span id='topic+make_location'></span>

<h3>Description</h3>

<p>Define your locations to use later in departure_searches or arrival_searches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_location(id, coords)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_location_+3A_id">id</code></td>
<td>
<p>You will have to reference this id in your searches.
It will also be used in the response body. MUST be unique among all locations.</p>
</td></tr>
<tr><td><code id="make_location_+3A_coords">coords</code></td>
<td>
<p>Location coordinates. Must use this format: list(lat = 0, lng = 0)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/distance-matrix">https://docs.traveltime.com/api/reference/distance-matrix</a> for details
</p>


<h3>Value</h3>

<p>A data.frame wrapped in a list.
It is constructed in a way that allows jsonlite::toJSON to correctly transform it into a valid request body
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+time_filter">time_filter</a></code> for usage examples
</p>

<hr>
<h2 id='make_search'>Search objects constructor</h2><span id='topic+make_search'></span>

<h3>Description</h3>

<p>Searches based on departure or arrival times.
Departure: Leave departure location at no earlier than given time. You can define a maximum of 10 searches
Arrival: Arrive at destination location at no later than given time. You can define a maximum of 10 searches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_search(
  id,
  travel_time = NA,
  coords = NA,
  departure_time = NA,
  arrival_time = NA,
  transportation = list(type = "driving"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_search_+3A_id">id</code></td>
<td>
<p>Used to identify this specific search in the results array. MUST be unique among all searches.</p>
</td></tr>
<tr><td><code id="make_search_+3A_travel_time">travel_time</code></td>
<td>
<p>Travel time in seconds. Maximum value is 14400 (4 hours)</p>
</td></tr>
<tr><td><code id="make_search_+3A_coords">coords</code></td>
<td>
<p>The coordinates of the location we should start the search from. Must use this format: list(lat = 0, lng = 0)</p>
</td></tr>
<tr><td><code id="make_search_+3A_departure_time">departure_time</code></td>
<td>
<p>Date in extended ISO-8601 format</p>
</td></tr>
<tr><td><code id="make_search_+3A_arrival_time">arrival_time</code></td>
<td>
<p>Date in extended ISO-8601 format</p>
</td></tr>
<tr><td><code id="make_search_+3A_transportation">transportation</code></td>
<td>
<p>Transportation mode and related parameters.</p>
</td></tr>
<tr><td><code id="make_search_+3A_...">...</code></td>
<td>
<p>Any additional parameters to pass. Some functions require extra parameters to work. Check their API documentation for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame wrapped in a list.
It is constructed in a way that allows jsonlite::toJSON to correctly transform it into a valid request body
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+time_map">time_map</a></code> for usage examples
</p>

<hr>
<h2 id='make_union_intersect'>Set objects constructor</h2><span id='topic+make_union_intersect'></span>

<h3>Description</h3>

<p>Allows you to define unions or intersections of shapes that are results of previously defined searches.
You can define a maximum of 10 unions/intersections
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_union_intersect(id, search_ids)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_union_intersect_+3A_id">id</code></td>
<td>
<p>Used to identify this specific search in the results array. MUST be unique among all searches.</p>
</td></tr>
<tr><td><code id="make_union_intersect_+3A_search_ids">search_ids</code></td>
<td>
<p>An unnamed list of search ids which results will formulate this union.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/isochrones">https://docs.traveltime.com/api/reference/isochrones</a> for details
</p>


<h3>Value</h3>

<p>A data.frame wrapped in a list.
It is constructed in a way that allows jsonlite::toJSON to correctly transform it into a valid request body
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+time_map">time_map</a></code> for usage examples
</p>

<hr>
<h2 id='map_info'>Map Info</h2><span id='topic+map_info'></span>

<h3>Description</h3>

<p>Returns information about currently supported countries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_info()
</code></pre>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/map-info/">https://docs.traveltime.com/api/reference/map-info/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
map_info()

## End(Not run)
</code></pre>

<hr>
<h2 id='routes'>Routes</h2><span id='topic+routes'></span>

<h3>Description</h3>

<p>Returns routing information between source and destinations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>routes(locations, departure_searches = NULL, arrival_searches = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="routes_+3A_locations">locations</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_location">make_location</a></code></p>
</td></tr>
<tr><td><code id="routes_+3A_departure_searches">departure_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="routes_+3A_arrival_searches">arrival_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/routes/">https://docs.traveltime.com/api/reference/routes/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
locations &lt;- c(
  make_location(
    id = 'London center',
    coords = list(lat = 51.508930, lng = -0.131387)),
  make_location(
    id = 'Hyde Park',
    coords = list(lat = 51.508824, lng = -0.167093)),
  make_location(
    id = 'ZSL London Zoo',
    coords = list(lat = 51.536067, lng = -0.153596))
)

departure_search &lt;-
  make_search(id = "departure search example",
              departure_location_id = "London center",
              arrival_location_ids = list("Hyde Park", "ZSL London Zoo"),
              departure_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              transportation = list(type = "driving"),
              properties = list("travel_time", "distance", "route"))

arrival_search &lt;-
  make_search(id = "arrival  search example",
              arrival_location_id = "London center",
              departure_location_ids = list("Hyde Park", "ZSL London Zoo"),
              arrival_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              transportation = list(type = "public_transport"),
              properties = list('travel_time', "distance", "route", "fares"),
              range = list(enabled = TRUE, width = 1800, max_results = 1))

result &lt;-
  routes(
    departure_searches = departure_search,
    arrival_searches = arrival_search,
    locations = locations
  )

## End(Not run)
</code></pre>

<hr>
<h2 id='supported_locations'>Supported Locations</h2><span id='topic+supported_locations'></span>

<h3>Description</h3>

<p>Find out what points are supported by the api.
The returned map name for a point can be used to determine what features are supported.
See also the <code><a href="#topic+map_info">map_info</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>supported_locations(locations)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="supported_locations_+3A_locations">locations</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_location">make_location</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/supported-locations/">https://docs.traveltime.com/api/reference/supported-locations/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
locationsDF &lt;- data.frame(
  id = c('Kaunas', 'London', 'Bangkok', 'Lisbon'),
  lat = c(54.900008, 51.506756, 13.761866, 38.721869),
  lng = c(23.957734, -0.128050, 100.544818, -9.138549)
)
locations &lt;- apply(locationsDF, 1, function(x)
  make_location(id = x['id'], coords = list(lat = as.numeric(x["lat"]),
                                            lng = as.numeric(x["lng"]))))
supported_locations(unlist(locations, recursive = FALSE))

## End(Not run)
</code></pre>

<hr>
<h2 id='time_filter'>Distance Matrix (Time Filter)</h2><span id='topic+time_filter'></span>

<h3>Description</h3>

<p>Given origin and destination points filter out points that cannot be reached within specified time limit.
Find out travel times, distances and costs between an origin and up to 2,000 destination points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_filter(locations, departure_searches = NULL, arrival_searches = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_filter_+3A_locations">locations</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_location">make_location</a></code></p>
</td></tr>
<tr><td><code id="time_filter_+3A_departure_searches">departure_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_filter_+3A_arrival_searches">arrival_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/travel-time-distance-matrix/">https://docs.traveltime.com/api/reference/travel-time-distance-matrix/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
locationsDF &lt;- data.frame(
  id = c('London center', 'Hyde Park', 'ZSL London Zoo'),
  lat = c(51.508930, 51.508824, 51.536067),
  lng = c(-0.131387, -0.167093, -0.153596)
  )
locations &lt;- apply(locationsDF, 1, function(x)
  make_location(id = x['id'], coords = list(lat = as.numeric(x["lat"]),
                                            lng = as.numeric(x["lng"]))))
locations &lt;- unlist(locations, recursive = FALSE)

departure_search &lt;-
  make_search(id = "forward search example",
              departure_location_id = "London center",
              arrival_location_ids = list("Hyde Park", "ZSL London Zoo"),
              departure_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              travel_time = 1800,
              transportation = list(type = "bus"),
              properties = list('travel_time'),
              range = list(enabled = TRUE, width = 600, max_results = 3))

arrival_search &lt;-
  make_search(id = "backward search example",
              arrival_location_id = "London center",
              departure_location_ids = list("Hyde Park", "ZSL London Zoo"),
              arrival_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              travel_time = 1800,
              transportation = list(type = "public_transport"),
              properties = list('travel_time', "distance", "distance_breakdown", "fares"),
              range = list(enabled = TRUE, width = 600, max_results = 3))

result &lt;-
  time_filter(
    departure_searches = departure_search,
    arrival_searches = arrival_search,
    locations = locations
  )

## End(Not run)
</code></pre>

<hr>
<h2 id='time_filter_fast'>Time Filter (Fast)</h2><span id='topic+time_filter_fast'></span>

<h3>Description</h3>

<p>A very fast version of <code><a href="#topic+time_filter">time_filter</a></code>. However, the request parameters are much more limited.
Currently only supports UK and Ireland.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_filter_fast(
  locations,
  arrival_many_to_one = NULL,
  arrival_one_to_many = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_filter_fast_+3A_locations">locations</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_location">make_location</a></code></p>
</td></tr>
<tr><td><code id="time_filter_fast_+3A_arrival_many_to_one">arrival_many_to_one</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_filter_fast_+3A_arrival_one_to_many">arrival_one_to_many</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/time-filter-fast/">https://docs.traveltime.com/api/reference/time-filter-fast/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

locations &lt;- c(
  make_location(
    id = 'London center',
    coords = list(lat = 51.508930, lng = -0.131387)),
  make_location(
    id = 'Hyde Park',
    coords = list(lat = 51.508824, lng = -0.167093)),
  make_location(
    id = 'ZSL London Zoo',
    coords = list(lat = 51.536067, lng = -0.153596))
  )
arrival_many_to_one &lt;- make_search(id = "arrive-at many-to-one search example",
                                   arrival_location_id = "London center",
                                   departure_location_ids = list("Hyde Park", "ZSL London Zoo"),
                                   travel_time = 1900,
                                   transportation = list(type = "public_transport"),
                                   properties = list('travel_time', "fares"),
                                   arrival_time_period = "weekday_morning")

arrival_one_to_many &lt;- make_search(id = "arrive-at one-to-many search example",
                                   departure_location_id = "London center",
                                   arrival_location_ids = list("Hyde Park", "ZSL London Zoo"),
                                   travel_time = 1900,
                                   transportation = list(type = "public_transport"),
                                   properties = list('travel_time', "fares"),
                                   arrival_time_period = "weekday_morning")

result &lt;- time_filter_fast(locations, arrival_many_to_one, arrival_one_to_many)

## End(Not run)
</code></pre>

<hr>
<h2 id='time_filter_fast_proto'>Time Filter (Fast) with Protobuf</h2><span id='topic+time_filter_fast_proto'></span>

<h3>Description</h3>

<p>The Travel Time Matrix (Fast) endpoint is available with even higher performance through a
version using Protocol Buffers.
The endpoint takes as inputs a single origin location, multiple destination locations, a mode of transport,
and a maximum travel time.
The endpoint returns the travel times to each destination location, so long as it is within the maximum travel time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_filter_fast_proto(
  departureLat,
  departureLng,
  country = c("uk", "ireland"),
  travelTime,
  destinationCoordinates,
  transportation = names(protoTransport),
  useDistance = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_filter_fast_proto_+3A_departurelat">departureLat</code></td>
<td>
<p>origin latitude</p>
</td></tr>
<tr><td><code id="time_filter_fast_proto_+3A_departurelng">departureLng</code></td>
<td>
<p>origin longitude</p>
</td></tr>
<tr><td><code id="time_filter_fast_proto_+3A_country">country</code></td>
<td>
<p>Origin country. Only UK and Ireland are supported.</p>
</td></tr>
<tr><td><code id="time_filter_fast_proto_+3A_traveltime">travelTime</code></td>
<td>
<p>Maximum journey time (in seconds).</p>
</td></tr>
<tr><td><code id="time_filter_fast_proto_+3A_destinationcoordinates">destinationCoordinates</code></td>
<td>
<p>data.frame with pairs of coordinates. Coordinates columns must be named 'lat' and 'lng'</p>
</td></tr>
<tr><td><code id="time_filter_fast_proto_+3A_transportation">transportation</code></td>
<td>
<p>One of supported transportation methods: 'pt', 'driving+ferry', 'cycling+ferry', 'walking+ferry'.</p>
</td></tr>
<tr><td><code id="time_filter_fast_proto_+3A_usedistance">useDistance</code></td>
<td>
<p>return distance information</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/start/travel-time-distance-matrix-proto">https://docs.traveltime.com/api/start/travel-time-distance-matrix-proto</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
time_filter_fast_proto(
departureLat = 51.508930,
departureLng = -0.131387,
destinationCoordinates = data.frame(
  lat = c(51.508824, 51.536067),
  lng = c(-0.167093, -0.153596)
),
transportation = 'driving+ferry',
travelTime = 7200,
country = "uk",
useDistance = FALSE
)

## End(Not run)
</code></pre>

<hr>
<h2 id='time_filter_postcode_districts'>Time Filter (Postcode Districts)</h2><span id='topic+time_filter_postcode_districts'></span>

<h3>Description</h3>

<p>Find districts that have a certain coverage from origin (or to destination) and get statistics about postcodes within such districts.
Currently only supports United Kingdom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_filter_postcode_districts(
  departure_searches = NULL,
  arrival_searches = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_filter_postcode_districts_+3A_departure_searches">departure_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_filter_postcode_districts_+3A_arrival_searches">arrival_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/postcode-district-filter/">https://docs.traveltime.com/api/reference/postcode-district-filter/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
departure_search &lt;-
  make_search(id = "public transport from Trafalgar Square",
              departure_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              travel_time = 1800,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "public_transport"),
              reachable_postcodes_threshold = 0.1,
              properties = list("coverage", "travel_time_reachable", "travel_time_all"))

arrival_search &lt;-
  make_search(id = "public transport to Trafalgar Square",
              arrival_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              travel_time = 1800,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "public_transport"),
              reachable_postcodes_threshold = 0.1,
              properties = list("coverage", "travel_time_reachable", "travel_time_all"))

result &lt;-
  time_filter_postcode_districts(
    departure_searches = departure_search,
    arrival_searches = arrival_search
  )

## End(Not run)
</code></pre>

<hr>
<h2 id='time_filter_postcode_sectors'>Time Filter (Postcode Sectors)</h2><span id='topic+time_filter_postcode_sectors'></span>

<h3>Description</h3>

<p>Find sectors that have a certain coverage from origin (or to destination) and get statistics about postcodes within such sectors.
Currently only supports United Kingdom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_filter_postcode_sectors(
  departure_searches = NULL,
  arrival_searches = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_filter_postcode_sectors_+3A_departure_searches">departure_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_filter_postcode_sectors_+3A_arrival_searches">arrival_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/postcode-sector-filter/">https://docs.traveltime.com/api/reference/postcode-sector-filter/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
departure_search &lt;-
  make_search(id = "public transport from Trafalgar Square",
              departure_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              travel_time = 1800,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "public_transport"),
              reachable_postcodes_threshold = 0.1,
              properties = list("coverage", "travel_time_reachable", "travel_time_all"))

arrival_search &lt;-
  make_search(id = "public transport to Trafalgar Square",
              arrival_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              travel_time = 1800,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "public_transport"),
              reachable_postcodes_threshold = 0.1,
              properties = list("coverage", "travel_time_reachable", "travel_time_all"))

result &lt;-
  time_filter_postcode_sectors(
    departure_searches = departure_search,
    arrival_searches = arrival_search
  )

## End(Not run)
</code></pre>

<hr>
<h2 id='time_filter_postcodes'>Time Filter (Postcodes)</h2><span id='topic+time_filter_postcodes'></span>

<h3>Description</h3>

<p>Find reachable postcodes from origin (or to destination) and get statistics about such postcodes.
Currently only supports United Kingdom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_filter_postcodes(departure_searches = NULL, arrival_searches = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_filter_postcodes_+3A_departure_searches">departure_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_filter_postcodes_+3A_arrival_searches">arrival_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/postcode-search/">https://docs.traveltime.com/api/reference/postcode-search/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
departure_search &lt;-
 make_search(id = "public transport from Trafalgar Square",
             departure_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
             travel_time = 1800,
             coords = list(lat = 51.507609, lng = -0.128315),
             transportation = list(type = "public_transport"),
             properties = list('travel_time', 'distance'))

arrival_search &lt;-
  make_search(id = "public transport to Trafalgar Square",
              arrival_time = strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ"),
              travel_time = 1800,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "public_transport"),
              properties = list('travel_time', 'distance'))

result &lt;-
  time_filter_postcodes(
    departure_searches = departure_search,
    arrival_searches = arrival_search
  )

## End(Not run)
</code></pre>

<hr>
<h2 id='time_map'>Isochrones (Time Map)</h2><span id='topic+time_map'></span>

<h3>Description</h3>

<p>Given origin coordinates, find shapes of zones reachable within corresponding travel time.
Find unions/intersections between different searches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_map(
  departure_searches = NULL,
  arrival_searches = NULL,
  unions = NULL,
  intersections = NULL,
  format = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_map_+3A_departure_searches">departure_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_map_+3A_arrival_searches">arrival_searches</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_map_+3A_unions">unions</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_union_intersect">make_union_intersect</a></code></p>
</td></tr>
<tr><td><code id="time_map_+3A_intersections">intersections</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_union_intersect">make_union_intersect</a></code></p>
</td></tr>
<tr><td><code id="time_map_+3A_format">format</code></td>
<td>
<p>time-map response format. See <a href="https://docs.traveltime.com/api/reference/isochrones#Response-Body">https://docs.traveltime.com/api/reference/isochrones#Response-Body</a> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/isochrones/">https://docs.traveltime.com/api/reference/isochrones/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

dateTime &lt;- strftime(as.POSIXlt(Sys.time(), "UTC"), "%Y-%m-%dT%H:%M:%SZ")

departure_search1 &lt;-
  make_search(id = "public transport from Trafalgar Square",
              departure_time = dateTime,
              travel_time = 900,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "public_transport"),
              properties = list('is_only_walking'))

departure_search2 &lt;-
  make_search(id = "driving from Trafalgar Square",
              departure_time = dateTime,
              travel_time = 900,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "driving"))

arrival_search &lt;-
  make_search(id = "public transport to Trafalgar Square",
              arrival_time = dateTime,
              travel_time = 900,
              coords = list(lat = 51.507609, lng = -0.128315),
              transportation = list(type = "public_transport"),
              range = list(enabled = TRUE, width = 3600))

union &lt;- make_union_intersect(id = "union of driving and public transport",
                               search_ids = list('driving from Trafalgar Square',
                                                 'public transport from Trafalgar Square'))
intersection &lt;- make_union_intersect(id = "intersection of driving and public transport",
                               search_ids = list('driving from Trafalgar Square',
                                                 'public transport from Trafalgar Square'))
result &lt;-
  time_map(
    departure_searches = c(departure_search1, departure_search2),
    arrival_searches = arrival_search,
    unions = union,
    intersections = intersection
  )

## End(Not run)
</code></pre>

<hr>
<h2 id='time_map_fast'>Isochrones (Time Map) Fast</h2><span id='topic+time_map_fast'></span>

<h3>Description</h3>

<p>A very fast version of Isochrone API. However, the request parameters are much more limited.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_map_fast(
  arrival_many_to_one = NULL,
  arrival_one_to_many = NULL,
  format = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_map_fast_+3A_arrival_many_to_one">arrival_many_to_one</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_map_fast_+3A_arrival_one_to_many">arrival_one_to_many</code></td>
<td>
<p>One or more objects created by <code><a href="#topic+make_search">make_search</a></code></p>
</td></tr>
<tr><td><code id="time_map_fast_+3A_format">format</code></td>
<td>
<p>time-map response format. See <a href="https://docs.traveltime.com/api/reference/isochrones-fast#Response-Body">https://docs.traveltime.com/api/reference/isochrones-fast#Response-Body</a> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://docs.traveltime.com/api/reference/isochrones-fast/">https://docs.traveltime.com/api/reference/isochrones-fast/</a> for details
</p>


<h3>Value</h3>

<p>API response parsed as a list and as a raw json
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

arrival_search &lt;-
  make_search(id = "public transport to Trafalgar Square",
              travel_time = 900,
              coords = list(lat = 51.507609, lng = -0.128315),
              arrival_time_period = "weekday_morning",
              transportation = list(type = "public_transport"))

result &lt;-
  time_map_fast(
    arrival_many_to_one = arrival_search
  )

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

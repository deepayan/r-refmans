<!DOCTYPE html><html><head><title>Help for package ExplodeLayout</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ExplodeLayout}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#example_incidmat'><p>Sample dataset of a bipartite network..</p></a></li>
<li><a href='#example_nodelist'><p>Example nodelist file of a bipartite network.</p></a></li>
<li><a href='#explode_coordinates'><p>Explode the old coordinates using cluster membership</p></a></li>
<li><a href='#get_edgelist_from_incidmat'><p>Generate edgelist from incidence matrix of a bipartite network</p></a></li>
<li><a href='#get_explode_nodelist'><p>Explode the old coordinates using cluster membership and generate nodelist for plotting</p></a></li>
<li><a href='#get_nodelist_for_plotting'><p>Format a nodelist for plotting using the new coordinates found by ExplodeLayout</p></a></li>
<li><a href='#plot_binet_ggplot2'><p>Plot bipartite network given node list (label, coordinates, shape, color) and incidence matrix.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculate Exploded Coordinates Based on Original Node
Coordinates and Node Clustering Membership</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Suresh K. Bhavnani [aut],
  Weibin Zhang [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Weibin Zhang  &lt;weibzhan@utmb.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Current layout algorithms such as Kamada Kawai do not take into consideration disjoint clusters in a network, often resulting in a high overlap among the clusters, resulting in a visual “hairball” that often is uninterpretable. The ExplodeLayout algorithm takes as input (1) an edge list of a unipartite or bipartite network, (2) node layout coordinates (x, y) generated by a layout algorithm such as Kamada Kawai, (3) node cluster membership generated from a clustering algorithm such as modularity maximization, and (4) a radius to enable the node clusters to be “exploded” to reduce their overlap. The algorithm uses these inputs to generate new layout coordinates of the nodes which “explodes” the clusters apart, such that the edge lengths within the clusters are preserved, while the edge lengths between clusters are recalculated. The modified network layout with nodes and edges are displayed in two dimensions. The user can experiment with different explode radii to generate a layout which has sufficient separation of clusters, while reducing the overall layout size of the network. This package is a basic version of an earlier version called [epl]<a href="https://github.com/UTMB-DIVA-Lab/epl">https://github.com/UTMB-DIVA-Lab/epl</a> that searched for an optimal explode radius, and offered multiple ways to separate clusters in a network (Bhavnani et al(2017) &lt;PMID: 28815099&gt;). The example dataset is for a bipartite network, but the algorithm can work also for unipartite networks.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, utils</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-30 21:00:01 UTC; weibzhan</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-07-01 08:50:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='example_incidmat'>Sample dataset of a bipartite network..</h2><span id='topic+example_incidmat'></span>

<h3>Description</h3>

<p>The sample dataset consists of a simulated data consisting of patients (n=798) and symptoms (d=8), where each patient has one or more symptoms referred to here as an incidence matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_incidmat
</code></pre>


<h3>Format</h3>

<p>A data frame with 798 rows and 8 binary variables:
</p>

<dl>
<dt>Symptom_1</dt><dd></dd>
<dt>Symptom_2</dt><dd></dd>
<dt>Symptom_3</dt><dd></dd>
<dt>Symptom_4</dt><dd></dd>
<dt>Symptom_5</dt><dd></dd>
<dt>Symptom_6</dt><dd></dd>
<dt>Symptom_7</dt><dd></dd>
<dt>Symptom_8</dt><dd></dd>
</dl>


<hr>
<h2 id='example_nodelist'>Example nodelist file of a bipartite network.</h2><span id='topic+example_nodelist'></span>

<h3>Description</h3>

<p>A dataset consisting of anonymized patients (n=798) and symptoms (d=8), where each patient has one or more symptoms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_nodelist
</code></pre>


<h3>Format</h3>

<p>A data frame with 806 rows and 5 columns:
</p>

<dl>
<dt>Label</dt><dd><p>Node ID of patients and symptoms.</p>
</dd>
<dt>Cluster</dt><dd><p>Cluster membership found by BipartiteModularityMaximization. Can be changed to any customized cluster membership.</p>
</dd>
<dt>X</dt><dd><p>X coordinates found by Fruchterman &amp; Reingold layout. Can be changed to any customized coordinates. </p>
</dd>
<dt>Y</dt><dd><p>Y coordinates found by Fruchterman &amp; Reingold layout. Can be changed to any customized coordinates. </p>
</dd>
<dt>Entity</dt><dd><p>Indicating whether a node is a patient (assigned 1) or a symptom (assigned 2).</p>
</dd>
</dl>


<hr>
<h2 id='explode_coordinates'>Explode the old coordinates using cluster membership</h2><span id='topic+explode_coordinates'></span>

<h3>Description</h3>

<p>Takes the nodelist of a network and return an updated nodelist with the exploded coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>explode_coordinates(nodelist, radius = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="explode_coordinates_+3A_nodelist">nodelist</code></td>
<td>
<p>A nodelist is a dataframe including at least 4 columns: Label, X, Y, Cluster. Label is the node ID. They must be unique character strings. X and Y are the original coordinates. Cluster is the node clustering membership. They must be integers ranging from 1 to the number of clusters.</p>
</td></tr>
<tr><td><code id="explode_coordinates_+3A_radius">radius</code></td>
<td>
<p>The radius of the used to explode the clusters, which defaults to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A nodelist with new node layout coordinates generated from the algorithm. This is a new dataframe with 4 colums: Label, newX, newY, Cluster.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exploded_coords=explode_coordinates(example_nodelist,radius=1.2)
</code></pre>

<hr>
<h2 id='get_edgelist_from_incidmat'>Generate edgelist from incidence matrix of a bipartite network</h2><span id='topic+get_edgelist_from_incidmat'></span>

<h3>Description</h3>

<p>Generate edgelist from incidence matrix of a bipartite network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_edgelist_from_incidmat(incidence_matrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_edgelist_from_incidmat_+3A_incidence_matrix">incidence_matrix</code></td>
<td>
<p>A matrix where row names and column names are the node ID of a bipartite network. An element of the i-th row and j-th column of the matrix is 0 if node on row i is not connected to node on column j, and edge weight if they are connected.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with 3 columns: nodesR, nodesC, values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>example_edgelist=get_edgelist_from_incidmat(example_incidmat)
</code></pre>

<hr>
<h2 id='get_explode_nodelist'>Explode the old coordinates using cluster membership and generate nodelist for plotting</h2><span id='topic+get_explode_nodelist'></span>

<h3>Description</h3>

<p>Takes the nodelist of a network and return an updated nodelist with the exploded coordinates based on radius, node color based on cluster, and node shape based on entity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_explode_nodelist(nodelist, radius = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_explode_nodelist_+3A_nodelist">nodelist</code></td>
<td>
<p>A nodelist is a dataframe including at least 5 columns: Label, X, Y, Cluster, Entity. Label is the node ID. They must be unique character strings. X and Y are the original coordinates. Cluster is the node clustering membership. They must be integers ranging from 1 to the number of clusters. Entity indicates which part of the bipartite network a node belongs to. (Can be either 1 or 2.)</p>
</td></tr>
<tr><td><code id="get_explode_nodelist_+3A_radius">radius</code></td>
<td>
<p>The explode radius of the projecting circle. Default to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new nodelist with exploded coordinates, which is a dataframe including 5 columns: Label, X, Y, Color, baseShape.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exploded_nodelist=get_explode_nodelist(example_nodelist,radius=1.2)
</code></pre>

<hr>
<h2 id='get_nodelist_for_plotting'>Format a nodelist for plotting using the new coordinates found by ExplodeLayout</h2><span id='topic+get_nodelist_for_plotting'></span>

<h3>Description</h3>

<p>Format a nodelist for plotting using the new coordinates found by ExplodeLayout
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_nodelist_for_plotting(nodelist, new_coordinates)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_nodelist_for_plotting_+3A_nodelist">nodelist</code></td>
<td>
<p>A dataframe including at least 3 columns: Label, Cluster, Entity. Entity is either 1 or 2, indicating which part of the bipartite network a node is in.</p>
</td></tr>
<tr><td><code id="get_nodelist_for_plotting_+3A_new_coordinates">new_coordinates</code></td>
<td>
<p>A dataframe including at least 3 columns: Label, newX, newY.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe including 5 columns: Label, X, Y, Color, baseShape.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exploded_coords=explode_coordinates(example_nodelist,radius=1.2)
plotting_nodelist=get_nodelist_for_plotting(example_nodelist,exploded_coords)
</code></pre>

<hr>
<h2 id='plot_binet_ggplot2'>Plot bipartite network given node list (label, coordinates, shape, color) and incidence matrix.</h2><span id='topic+plot_binet_ggplot2'></span>

<h3>Description</h3>

<p>Plot bipartite network given node list (label, coordinates, shape, color) and incidence matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_binet_ggplot2(nodelist, incidence_matrix, plotlabel = "c")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_binet_ggplot2_+3A_nodelist">nodelist</code></td>
<td>
<p>A dataframe of at least 5 columns: Label, X, Y, Color, baseShape.</p>
</td></tr>
<tr><td><code id="plot_binet_ggplot2_+3A_incidence_matrix">incidence_matrix</code></td>
<td>
<p>A matrix where row names and column names are the node ID of a bipartite network. An element of the i-th row and j-th column of the matrix is 0 if node on row i is not connected to node on column j, and edge weight if they are connected.</p>
</td></tr>
<tr><td><code id="plot_binet_ggplot2_+3A_plotlabel">plotlabel</code></td>
<td>
<p>A string indicating whether to add node label text. 'r' for rows, 'c' for columns, and 'rc' for both rows and columns of the incidence_matrix. All other strings will be ignored. Default to 'c'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 object p which can be shown using print(p).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exploded_nodelist=get_explode_nodelist(example_nodelist,radius=1.2)
p=plot_binet_ggplot2(exploded_nodelist,example_incidmat)
print(p)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-US"><head><title>Help for package CirceR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CirceR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CirceR-package'><p>CirceR: Construct Cohort Inclusion and Restriction Criteria Expressions</p></a></li>
<li><a href='#buildCohortQuery'><p>Build cohort SQL</p></a></li>
<li><a href='#buildConceptSetQuery'><p>Build conceptset SQL</p></a></li>
<li><a href='#cohortDefinitionJson'><p>An example cohort definition</p></a></li>
<li><a href='#cohortExpressionFromJson'><p>Render read JSON into a CohortExpression instance</p></a></li>
<li><a href='#cohortPrintFriendly'><p>Render cohort print-friendly</p></a></li>
<li><a href='#conceptSetExpressionFromJson'><p>Render read JSON into a ConceptSetExpression instance</p></a></li>
<li><a href='#conceptSetJson'><p>An example concept set</p></a></li>
<li><a href='#conceptSetListJson'><p>An example concept set list</p></a></li>
<li><a href='#conceptSetListPrintFriendly'><p>Render conceptSet array for print-friendly</p></a></li>
<li><a href='#conceptSetPrintFriendly'><p>Render conceptSet array for print-friendly</p></a></li>
<li><a href='#createGenerateOptions'><p>Create Generation Options</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Construct Cohort Inclusion and Restriction Criteria Expressions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-20</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chris Knoll &lt;cknoll@ohdsi.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Wraps the 'CIRCE' (<a href="https://github.com/ohdsi/circe-be">https://github.com/ohdsi/circe-be</a>) 'Java'
  library allowing cohort definition expressions to be edited and converted to 
  'Markdown' or 'SQL'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ohdsi.github.io/CirceR/">https://ohdsi.github.io/CirceR/</a>, <a href="https://github.com/OHDSI/CirceR/">https://github.com/OHDSI/CirceR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/OHDSI/CirceR/issues/">https://github.com/OHDSI/CirceR/issues/</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Java (&gt;= 8)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rJava, RJSONIO</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-18 16:42:02 UTC; cknoll1</td>
</tr>
<tr>
<td>Author:</td>
<td>Chris Knoll [aut, cre],
  Martijn Schuemie [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-18 19:42:49 UTC</td>
</tr>
</table>
<hr>
<h2 id='CirceR-package'>CirceR: Construct Cohort Inclusion and Restriction Criteria Expressions</h2><span id='topic+CirceR'></span><span id='topic+CirceR-package'></span>

<h3>Description</h3>

<p>Wraps the 'CIRCE' (<a href="https://github.com/ohdsi/circe-be">https://github.com/ohdsi/circe-be</a>) 'Java' library allowing cohort definition expressions to be edited, and converted to 'Markdown' or 'SQL'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Chris Knoll <a href="mailto:cknoll@ohdsi.org">cknoll@ohdsi.org</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Martijn Schuemie
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ohdsi.github.io/CirceR/">https://ohdsi.github.io/CirceR/</a>
</p>
</li>
<li> <p><a href="https://github.com/OHDSI/CirceR/">https://github.com/OHDSI/CirceR/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/OHDSI/CirceR/issues/">https://github.com/OHDSI/CirceR/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='buildCohortQuery'>Build cohort SQL</h2><span id='topic+buildCohortQuery'></span>

<h3>Description</h3>

<p>Generates the OMOP CDM Sql to generate the cohort expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildCohortQuery(expression, options)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="buildCohortQuery_+3A_expression">expression</code></td>
<td>
<p>result of cohortExpressionFromJson containing the cohort expression.</p>
</td></tr>
<tr><td><code id="buildCohortQuery_+3A_options">options</code></td>
<td>
<p>The options built using createGenerateOptions()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing the OHDSI Sql for the cohort expression
</p>

<hr>
<h2 id='buildConceptSetQuery'>Build conceptset SQL</h2><span id='topic+buildConceptSetQuery'></span>

<h3>Description</h3>

<p>Generates the OMOP CDM Sql to resolve the concept set expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildConceptSetQuery(conceptSetJSON)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="buildConceptSetQuery_+3A_conceptsetjson">conceptSetJSON</code></td>
<td>
<p>a string containing the JSON for the conceptset expression.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing the OHDSI Sql for the conceptset expression
</p>

<hr>
<h2 id='cohortDefinitionJson'>An example cohort definition</h2><span id='topic+cohortDefinitionJson'></span>

<h3>Description</h3>

<p>An example cohort definition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(cohortDefinitionJson)
</code></pre>


<h3>Format</h3>

<p>A character vector containing a JSON string
</p>


<h3>Details</h3>

<p>An example cohort expression in JSON format
</p>

<hr>
<h2 id='cohortExpressionFromJson'>Render read JSON into a CohortExpression instance</h2><span id='topic+cohortExpressionFromJson'></span>

<h3>Description</h3>

<p>Reads a String (json) and deserializes it into a org.ohdsi.circe.cohortdefinition.CohortExpression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cohortExpressionFromJson(expressionJson)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cohortExpressionFromJson_+3A_expressionjson">expressionJson</code></td>
<td>
<p>A character vector containing the cohort expression.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A java instance of org.ohdsi.circe.cohortdefinition.CohortExpression.
</p>

<hr>
<h2 id='cohortPrintFriendly'>Render cohort print-friendly</h2><span id='topic+cohortPrintFriendly'></span>

<h3>Description</h3>

<p>Generates a print-friendly (human-readable) representation of the cohort definition. This can for example 
be used in a study protocol.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cohortPrintFriendly(expression)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cohortPrintFriendly_+3A_expression">expression</code></td>
<td>
<p>A character vector or result of cohortExpressionFromJson containing the cohort expression.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing the markdown.
</p>

<hr>
<h2 id='conceptSetExpressionFromJson'>Render read JSON into a ConceptSetExpression instance</h2><span id='topic+conceptSetExpressionFromJson'></span>

<h3>Description</h3>

<p>Reads a String (json) and deserializes it into a org.ohdsi.circe.vocabulary.CohortExpression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conceptSetExpressionFromJson(expressionJson)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conceptSetExpressionFromJson_+3A_expressionjson">expressionJson</code></td>
<td>
<p>A character vector containing the cohort expression.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A java instance of org.ohdsi.circe.cohortdefinition.CohortExpression.
</p>

<hr>
<h2 id='conceptSetJson'>An example concept set</h2><span id='topic+conceptSetJson'></span>

<h3>Description</h3>

<p>An example concept set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(conceptSetJson)
</code></pre>


<h3>Format</h3>

<p>A character vector containing a JSON string
</p>


<h3>Details</h3>

<p>An example concept set in JSON format
</p>

<hr>
<h2 id='conceptSetListJson'>An example concept set list</h2><span id='topic+conceptSetListJson'></span>

<h3>Description</h3>

<p>An example concept set list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(conceptSetListJson)
</code></pre>


<h3>Format</h3>

<p>A character vector containing a JSON string
</p>


<h3>Details</h3>

<p>An example concept set list in JSON format
</p>

<hr>
<h2 id='conceptSetListPrintFriendly'>Render conceptSet array for print-friendly</h2><span id='topic+conceptSetListPrintFriendly'></span>

<h3>Description</h3>

<p>Generates a print-friendly (human-readable) representation of an array of concept sets. This can for example 
be used in a study protocol.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conceptSetListPrintFriendly(conceptSetList)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conceptSetListPrintFriendly_+3A_conceptsetlist">conceptSetList</code></td>
<td>
<p>A ConceptSet[] (from cohortExpression.conceptSets), a JSON string, or a list from RJSONIO::fromJson</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing the markdown.
</p>

<hr>
<h2 id='conceptSetPrintFriendly'>Render conceptSet array for print-friendly</h2><span id='topic+conceptSetPrintFriendly'></span>

<h3>Description</h3>

<p>Generates a print-friendly (human-readable) representation of a single concept set. This can for example 
be used in a study protocol.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conceptSetPrintFriendly(conceptSet)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conceptSetPrintFriendly_+3A_conceptset">conceptSet</code></td>
<td>
<p>A ConceptSet (from cohortExpression.conceptSets[i]), a JSON string, or a list from RJSONIO::fromJson</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing the markdown.
</p>

<hr>
<h2 id='createGenerateOptions'>Create Generation Options</h2><span id='topic+createGenerateOptions'></span>

<h3>Description</h3>

<p>Creates the generation options object for use in generateSql()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createGenerateOptions(
  cohortIdFieldName,
  cohortId,
  cdmSchema,
  targetTable,
  resultSchema,
  vocabularySchema,
  generateStats
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createGenerateOptions_+3A_cohortidfieldname">cohortIdFieldName</code></td>
<td>
<p>The field that contains the cohortId in the cohort table.</p>
</td></tr>
<tr><td><code id="createGenerateOptions_+3A_cohortid">cohortId</code></td>
<td>
<p>The generated cohort ID.</p>
</td></tr>
<tr><td><code id="createGenerateOptions_+3A_cdmschema">cdmSchema</code></td>
<td>
<p>The value of the CDM schema.</p>
</td></tr>
<tr><td><code id="createGenerateOptions_+3A_targettable">targetTable</code></td>
<td>
<p>the cohort table name.</p>
</td></tr>
<tr><td><code id="createGenerateOptions_+3A_resultschema">resultSchema</code></td>
<td>
<p>the schema the cohort table belongs to.</p>
</td></tr>
<tr><td><code id="createGenerateOptions_+3A_vocabularyschema">vocabularySchema</code></td>
<td>
<p>the schema of the vocabulary tables (defaults to cdmSchema)</p>
</td></tr>
<tr><td><code id="createGenerateOptions_+3A_generatestats">generateStats</code></td>
<td>
<p>a boolean representing if the query should include inclusion rule statistics calculation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A jObj that can be passed to generateSql().
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

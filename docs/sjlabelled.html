<!DOCTYPE html><html lang="en"><head><title>Help for package sjlabelled</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sjlabelled}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sjlabelled-package'><p>Labelled Data Utility Functions</p></a></li>
<li><a href='#add_labels'><p>Add, replace or remove value labels of variables</p></a></li>
<li><a href='#as_character'><p>Convert variable into factor with associated value labels</p></a></li>
<li><a href='#as_factor'><p>Convert variable into factor and keep value labels</p></a></li>
<li><a href='#as_labelled'><p>Convert vector to labelled class</p></a></li>
<li><a href='#as_numeric'><p>Convert factors to numeric variables</p></a></li>
<li><a href='#convert_case'><p>Generic case conversion for labels</p></a></li>
<li><a href='#copy_labels'><p>Copy value and variable labels to (subsetted) data frames</p></a></li>
<li><a href='#drop_labels'><p>Drop, add or convert (non-)labelled values</p></a></li>
<li><a href='#efc'><p>Sample dataset from the EUROFAMCARE project</p></a></li>
<li><a href='#get_label'><p>Retrieve variable label(s) of labelled data</p></a></li>
<li><a href='#get_labels'><p>Retrieve value labels of labelled data</p></a></li>
<li><a href='#get_na'><p>Retrieve tagged NA values of labelled variables</p></a></li>
<li><a href='#get_values'><p>Retrieve values of labelled variables</p></a></li>
<li><a href='#is_labelled'><p>Check whether object is of class &quot;labelled&quot;</p></a></li>
<li><a href='#label_to_colnames'><p>Use variable labels as column names</p></a></li>
<li><a href='#read_spss'><p>Import data from other statistical software packages</p></a></li>
<li><a href='#remove_all_labels'><p>Remove value and variable labels from vector or data frame</p></a></li>
<li><a href='#remove_label'><p>Remove variable labels from variables</p></a></li>
<li><a href='#set_label'><p>Add variable label(s) to variables</p></a></li>
<li><a href='#set_labels'><p>Add value labels to variables</p></a></li>
<li><a href='#set_na'><p>Replace specific values in vector with NA</p></a></li>
<li><a href='#term_labels'><p>Retrieve labels of model terms from regression models</p></a></li>
<li><a href='#tidy_labels'><p>Repair value labels</p></a></li>
<li><a href='#unlabel'><p>Convert labelled vectors into normal classes</p></a></li>
<li><a href='#write_spss'><p>Write data to other statistical software packages</p></a></li>
<li><a href='#zap_na_tags'><p>Convert tagged NA values into regular NA</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Title:</td>
<td>Labelled Data Utility Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Lüdecke &lt;d.luedecke@uke.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Collection of functions dealing with labelled data, like reading and 
    writing data between R and other statistical software packages like 'SPSS',
    'SAS' or 'Stata', and working with labelled data. This includes easy ways 
    to get, set or change value and variable label attributes, to convert 
    labelled vectors into factors or numeric (and vice versa), or to deal with 
    multiple declared missing values.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>insight, datawizard, stats, tools, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, haven (&ge; 1.1.2), magrittr, sjmisc, sjPlot, knitr,
rlang, rmarkdown, snakecase, testthat</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://strengejacke.github.io/sjlabelled/">https://strengejacke.github.io/sjlabelled/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/strengejacke/sjlabelled/issues">https://github.com/strengejacke/sjlabelled/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-10 09:09:11 UTC; DL</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Lüdecke <a href="https://orcid.org/0000-0002-8895-3206"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  avid Ranzolin [ctb],
  Jonathan De Troye [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-10 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sjlabelled-package'>Labelled Data Utility Functions</h2><span id='topic+sjlabelled-package'></span><span id='topic+sjlabelled'></span>

<h3>Description</h3>

<p><strong>Purpose of this package</strong>
</p>
<p>Collection of miscellaneous utility functions (especially intended for people coming from other statistical software packages like 'SPSS', and/or who are new to R), supporting following common tasks when working with labelled data:
</p>

<ul>
<li><p> Reading and writing data between R and other statistical software packages like 'SPSS', 'SAS' or 'Stata'
</p>
</li>
<li><p> Easy ways to get, set and change value and variable label attributes, to convert labelled vectors into factors (and vice versa), or to deal with multiple declared missing values etc.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Daniel Lüdecke <a href="mailto:d.luedecke@uke.de">d.luedecke@uke.de</a>
</p>

<hr>
<h2 id='add_labels'>Add, replace or remove value labels of variables</h2><span id='topic+add_labels'></span><span id='topic+replace_labels'></span><span id='topic+remove_labels'></span>

<h3>Description</h3>

<p>These functions add, replace or remove value labels to or from variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_labels(x, ..., labels)

replace_labels(x, ..., labels)

remove_labels(x, ..., labels)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_labels_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="add_labels_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
<tr><td><code id="add_labels_+3A_labels">labels</code></td>
<td>

<dl>
<dt>For <code>add_labels()</code></dt><dd><p>A named (numeric) vector of labels
that will be added to <code>x</code> as label attribute.</p>
</dd>
<dt>For <code>remove_labels()</code></dt><dd><p>Either a numeric vector, indicating
the position of one or more label attributes that should be removed;
a character vector with names of label attributes that should be
removed; or a <code><a href="haven.html#topic+tagged_na">tagged_na()</a></code> to remove the labels
from specific NA values.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p><code>add_labels()</code> adds <code>labels</code> to the existing value
labels of <code>x</code>, however, unlike <code><a href="#topic+set_labels">set_labels</a></code>, it
does <em>not</em> remove labels that were <em>not</em> specified in
<code>labels</code>. <code>add_labels()</code> also replaces existing
value labels, but preserves the remaining labels.
<br /> <br />
<code>remove_labels()</code> is the counterpart to <code>add_labels()</code>.
It removes labels from a label attribute of <code>x</code>.
<br /> <br />
<code>replace_labels()</code> is an alias for <code>add_labels()</code>.
</p>


<h3>Value</h3>

<p><code>x</code> with additional or removed value labels. If <code>x</code>
is a data frame, the complete data frame <code>x</code> will be returned,
with removed or added to variables specified in <code>...</code>;
if <code>...</code> is not specified, applies to all variables in the
data frame.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_label">set_label</a></code> to manually set variable labels or
<code><a href="#topic+get_label">get_label</a></code> to get variable labels; <code><a href="#topic+set_labels">set_labels</a></code> to
add value labels, replacing the existing ones (and removing non-specified
value labels).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># add_labels()
data(efc)
get_labels(efc$e42dep)

x &lt;- add_labels(efc$e42dep, labels = c(`nothing` = 5))
get_labels(x)

if (require("dplyr")) {
  x &lt;- efc %&gt;%
    # select three variables
    dplyr::select(e42dep, c172code, c161sex) %&gt;%
    # only add new label to two of those
    add_labels(e42dep, c172code, labels = c(`nothing` = 5))
  # see data frame, with selected variables having new labels
  get_labels(x)
}

x &lt;- add_labels(efc$e42dep, labels = c(`nothing` = 5, `zero value` = 0))
get_labels(x, values = "p")

# replace old value labels
x &lt;- add_labels(
  efc$e42dep,
  labels = c(`not so dependent` = 4, `lorem ipsum` = 5)
)
get_labels(x, values = "p")

# replace specific missing value (tagged NA)
if (require("haven")) {
  x &lt;- labelled(c(1:3, tagged_na("a", "c", "z"), 4:1),
                c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
                  "Refused" = tagged_na("a"), "Not home" = tagged_na("z")))
  # get current NA values
  x
  # tagged NA(c) has currently the value label "First", will be
  # replaced by "Second" now.
  replace_labels(x, labels = c("Second" = tagged_na("c")))
}


# remove_labels()

x &lt;- remove_labels(efc$e42dep, labels = 2)
get_labels(x, values = "p")

x &lt;- remove_labels(efc$e42dep, labels = "independent")
get_labels(x, values = "p")

if (require("haven")) {
  x &lt;- labelled(c(1:3, tagged_na("a", "c", "z"), 4:1),
                c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
                  "Refused" = tagged_na("a"), "Not home" = tagged_na("z")))
  # get current NA values
  get_na(x)
  get_na(remove_labels(x, labels = tagged_na("c")))
}
</code></pre>

<hr>
<h2 id='as_character'>Convert variable into factor with associated value labels</h2><span id='topic+as_character'></span><span id='topic+to_character'></span><span id='topic+as_character.data.frame'></span><span id='topic+as_label'></span><span id='topic+to_label'></span><span id='topic+as_label.data.frame'></span>

<h3>Description</h3>

<p><code>as_label()</code> converts (replaces) values of a variable (also of factors
or character vectors) with their associated value labels. Might
be helpful for factor variables.
For instance, if you have a Gender variable with 0/1 value, and associated
labels are male/female, this function would convert all 0 to male and
all 1 to female and returns the new variable as factor.
<code>as_character()</code> does the same as <code>as_label()</code>, but returns
a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_character(x, ...)

to_character(x, ...)

## S3 method for class 'data.frame'
as_character(
  x,
  ...,
  add.non.labelled = FALSE,
  prefix = FALSE,
  var.label = NULL,
  drop.na = TRUE,
  drop.levels = FALSE,
  keep.labels = FALSE
)

as_label(x, ...)

to_label(x, ...)

## S3 method for class 'data.frame'
as_label(
  x,
  ...,
  add.non.labelled = FALSE,
  prefix = FALSE,
  var.label = NULL,
  drop.na = TRUE,
  drop.levels = FALSE,
  keep.labels = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_character_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="as_character_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
<tr><td><code id="as_character_+3A_add.non.labelled">add.non.labelled</code></td>
<td>
<p>Logical, if <code>TRUE</code>, values without associated
value label will also be converted to labels (as is). See 'Examples'.</p>
</td></tr>
<tr><td><code id="as_character_+3A_prefix">prefix</code></td>
<td>
<p>Logical, if <code>TRUE</code>, the value labels used as factor levels
or character values will be prefixed with their associated values. See 'Examples'.</p>
</td></tr>
<tr><td><code id="as_character_+3A_var.label">var.label</code></td>
<td>
<p>Optional string, to set variable label attribute for the
returned variable (see vignette <a href="../doc/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>).
If <code>NULL</code> (default), variable label attribute of <code>x</code> will
be used (if present). If empty, variable label attributes will be removed.</p>
</td></tr>
<tr><td><code id="as_character_+3A_drop.na">drop.na</code></td>
<td>
<p>Logical, if <code>TRUE</code>, tagged <code>NA</code> values with value labels
will be converted to regular NA's. Else, tagged <code>NA</code> values will be replaced
with their value labels. See 'Examples' and <code><a href="#topic+get_na">get_na</a></code>.</p>
</td></tr>
<tr><td><code id="as_character_+3A_drop.levels">drop.levels</code></td>
<td>
<p>Logical, if <code>TRUE</code>, unused factor levels will be
dropped (i.e. <code><a href="base.html#topic+droplevels">droplevels</a></code> will be applied before returning
the result).</p>
</td></tr>
<tr><td><code id="as_character_+3A_keep.labels">keep.labels</code></td>
<td>
<p>Logical, if <code>TRUE</code>, value labels are preserved This
allows users to quickly convert back factors to numeric vectors with
<code>as_numeric()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See 'Details' in <code><a href="#topic+get_na">get_na</a></code>.
</p>


<h3>Value</h3>

<p>A factor with the associated value labels as factor levels. If <code>x</code>
is a data frame, the complete data frame <code>x</code> will be returned,
where variables specified in <code>...</code> are coerced to factors;
if <code>...</code> is not specified, applies to all variables in the
data frame. <code>as_character()</code> returns a character vector.
</p>


<h3>Note</h3>

<p>Value label attributes (see <code><a href="#topic+get_labels">get_labels</a></code>)
will be removed when converting variables to factors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(efc)
print(get_labels(efc)['c161sex'])
head(efc$c161sex)
head(as_label(efc$c161sex))

print(get_labels(efc)['e42dep'])
table(efc$e42dep)
table(as_label(efc$e42dep))

head(efc$e42dep)
head(as_label(efc$e42dep))

# structure of numeric values won't be changed
# by this function, it only applies to labelled vectors
# (typically categorical or factor variables)

str(efc$e17age)
str(as_label(efc$e17age))


# factor with non-numeric levels
as_label(factor(c("a", "b", "c")))

# factor with non-numeric levels, prefixed
x &lt;- factor(c("a", "b", "c"))
x &lt;- set_labels(x, labels = c("ape", "bear", "cat"))
as_label(x, prefix = TRUE)


# create vector
x &lt;- c(1, 2, 3, 2, 4, NA)
# add less labels than values
x &lt;- set_labels(
  x,
  labels = c("yes", "maybe", "no"),
  force.labels = FALSE,
  force.values = FALSE
)

# convert to label w/o non-labelled values
as_label(x)

# convert to label, including non-labelled values
as_label(x, add.non.labelled = TRUE)


# create labelled integer, with missing flag
if (require("haven")) {
  x &lt;- labelled(
    c(1:3, tagged_na("a", "c", "z"), 4:1, 2:3),
    c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
      "Refused" = tagged_na("a"), "Not home" = tagged_na("z"))
  )

  # to labelled factor, with missing labels
  as_label(x, drop.na = FALSE)

  # to labelled factor, missings removed
  as_label(x, drop.na = TRUE)

  # keep missings, and use non-labelled values as well
  as_label(x, add.non.labelled = TRUE, drop.na = FALSE)
}

# convert labelled character to factor
dummy &lt;- c("M", "F", "F", "X")
dummy &lt;- set_labels(
  dummy,
  labels = c(`M` = "Male", `F` = "Female", `X` = "Refused")
)
get_labels(dummy,, "p")
as_label(dummy)

# drop unused factor levels, but preserve variable label
x &lt;- factor(c("a", "b", "c"), levels = c("a", "b", "c", "d"))
x &lt;- set_labels(x, labels = c("ape", "bear", "cat"))
set_label(x) &lt;- "A factor!"
x
as_label(x, drop.levels = TRUE)

# change variable label
as_label(x, var.label = "New variable label!", drop.levels = TRUE)


# convert to numeric and back again, preserving label attributes
# *and* values in numeric vector
x &lt;- c(0, 1, 0, 4)
x &lt;- set_labels(x, labels = c(`null` = 0, `one` = 1, `four` = 4))

# to factor
as_label(x)

# to factor, back to numeric - values are 1, 2 and 3,
# instead of original 0, 1 and 4
as_numeric(as_label(x))

# preserve label-attributes when converting to factor, use these attributes
# to restore original numeric values when converting back to numeric
as_numeric(as_label(x, keep.labels = TRUE), use.labels = TRUE)


# easily coerce specific variables in a data frame to factor
# and keep other variables, with their class preserved
as_label(efc, e42dep, e16sex, c172code)
</code></pre>

<hr>
<h2 id='as_factor'>Convert variable into factor and keep value labels</h2><span id='topic+as_factor'></span><span id='topic+to_factor'></span><span id='topic+as_factor.data.frame'></span>

<h3>Description</h3>

<p>This function converts a variable into a factor, but preserves
variable and value label attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_factor(x, ...)

to_factor(x, ...)

## S3 method for class 'data.frame'
as_factor(x, ..., add.non.labelled = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_factor_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="as_factor_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
<tr><td><code id="as_factor_+3A_add.non.labelled">add.non.labelled</code></td>
<td>
<p>Logical, if <code>TRUE</code>, non-labelled values also
get value labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>as_factor</code> converts numeric values into a factor with numeric
levels. <code><a href="#topic+as_label">as_label</a></code>, however, converts a vector into
a factor and uses value labels as factor levels.
</p>


<h3>Value</h3>

<p>A factor, including variable and value labels. If <code>x</code>
is a data frame, the complete data frame <code>x</code> will be returned,
where variables specified in <code>...</code> are coerced
to factors (including variable and value labels);
if <code>...</code> is not specified, applies to all variables in the
data frame.
</p>


<h3>Note</h3>

<p>This function is intended for use with vectors that have value and variable
label attributes. Unlike <code><a href="base.html#topic+as.factor">as.factor</a></code>, <code>as_factor</code> converts
a variable into a factor and preserves the value and variable label attributes.
<br /> <br />
Adding label attributes is automatically done by importing data sets
with one of the <code>read_*</code>-functions, like <code><a href="#topic+read_spss">read_spss</a></code>.
Else, value and variable labels can be manually added to vectors
with <code><a href="#topic+set_labels">set_labels</a></code> and <code><a href="#topic+set_label">set_label</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("sjmisc") &amp;&amp; require("magrittr")) {
  data(efc)
  # normal factor conversion, loses value attributes
  x &lt;- as.factor(efc$e42dep)
  frq(x)

  # factor conversion, which keeps value attributes
  x &lt;- as_factor(efc$e42dep)
  frq(x)

  # create partially labelled vector
  x &lt;- set_labels(
    efc$e42dep,
    labels = c(
      `1` = "independent",
      `4` = "severe dependency",
      `9` = "missing value"
   ))

  # only copy existing value labels
  as_factor(x) %&gt;% head()
  get_labels(as_factor(x), values = "p")

  # also add labels to non-labelled values
  as_factor(x, add.non.labelled = TRUE) %&gt;% head()
  get_labels(as_factor(x, add.non.labelled = TRUE), values = "p")


  # easily coerce specific variables in a data frame to factor
  # and keep other variables, with their class preserved
  as_factor(efc, e42dep, e16sex, c172code) %&gt;% head()

  # use select-helpers from dplyr-package
  if (require("dplyr")) {
    as_factor(efc, contains("cop"), c161sex:c175empl) %&gt;% head()
  }
}
</code></pre>

<hr>
<h2 id='as_labelled'>Convert vector to labelled class</h2><span id='topic+as_labelled'></span>

<h3>Description</h3>

<p>Converts a (labelled) vector of any class into a <code>labelled</code>
class vector, resp. adds a <code>labelled</code> class-attribute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_labelled(
  x,
  add.labels = FALSE,
  add.class = FALSE,
  skip.strings = FALSE,
  tag.na = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_labelled_+3A_x">x</code></td>
<td>
<p>Variable (vector), <code>data.frame</code> or <code>list</code> of variables
that should be converted to <code><a href="haven.html#topic+labelled">labelled()</a></code>-class
objects.</p>
</td></tr>
<tr><td><code id="as_labelled_+3A_add.labels">add.labels</code></td>
<td>
<p>Logical, if <code>TRUE</code>, non-labelled values will be
labelled with the corresponding value.</p>
</td></tr>
<tr><td><code id="as_labelled_+3A_add.class">add.class</code></td>
<td>
<p>Logical, if <code>TRUE</code>, <code>x</code> preserves its former
<code>class</code>-attribute and <code>labelled</code> is added as additional
attribute. If <code>FALSE</code> (default), all former <code>class</code>-attributes
will be removed and the class-attribute of <code>x</code> will only
be <code>labelled</code>.</p>
</td></tr>
<tr><td><code id="as_labelled_+3A_skip.strings">skip.strings</code></td>
<td>
<p>Logical, if <code>TRUE</code>, character vector are not converted
into labelled-vectors. Else, character vectors are converted to factors
vector and the associated values are used as value labels.</p>
</td></tr>
<tr><td><code id="as_labelled_+3A_tag.na">tag.na</code></td>
<td>
<p>Logical, if <code>TRUE</code>, tagged <code>NA</code> values are replaced
by their associated values. This is required, for instance, when writing
data back to SPSS.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, as <code>labelled</code>-class object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(efc)
str(efc$e42dep)

x &lt;- as_labelled(efc$e42dep)
str(x)

x &lt;- as_labelled(efc$e42dep, add.class = TRUE)
str(x)

a &lt;- c(1, 2, 4)
x &lt;- as_labelled(a, add.class = TRUE)
str(x)

data(efc)
x &lt;- set_labels(efc$e42dep,
                labels = c(`1` = "independent", `4` = "severe dependency"))
x1 &lt;- as_labelled(x, add.labels = FALSE)
x2 &lt;- as_labelled(x, add.labels = TRUE)

str(x1)
str(x2)

get_values(x1)
get_values(x2)
</code></pre>

<hr>
<h2 id='as_numeric'>Convert factors to numeric variables</h2><span id='topic+as_numeric'></span><span id='topic+to_numeric'></span><span id='topic+as_numeric.data.frame'></span>

<h3>Description</h3>

<p>This function converts (replaces) factor levels with the
related factor level index number, thus the factor is converted to
a numeric variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_numeric(x, ...)

to_numeric(x, ...)

## S3 method for class 'data.frame'
as_numeric(x, ..., start.at = NULL, keep.labels = TRUE, use.labels = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_numeric_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="as_numeric_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
<tr><td><code id="as_numeric_+3A_start.at">start.at</code></td>
<td>
<p>Starting index, i.e. the lowest numeric value of the variable's
value range. By default, this argument is <code>NULL</code>, hence the lowest
value of the returned numeric variable corresponds to the lowest factor
level (if factor levels are numeric) or to <code>1</code> (if factor levels
are not numeric).</p>
</td></tr>
<tr><td><code id="as_numeric_+3A_keep.labels">keep.labels</code></td>
<td>
<p>Logical, if <code>TRUE</code>, former factor levels will be added as
value labels. For numeric factor levels, values labels will be used,
if present. See 'Examples' and <code><a href="#topic+set_labels">set_labels</a></code> for more details.</p>
</td></tr>
<tr><td><code id="as_numeric_+3A_use.labels">use.labels</code></td>
<td>
<p>Logical, if <code>TRUE</code> and <code>x</code> has numeric value labels,
the values defined in the labels (right-hand side of <code>labels</code>, for instance
<code>labels = c(null = 0, one = 1)</code>) will be set as numeric values (instead
of consecutive factor level numbers). See 'Examples'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric variable with values ranging either from <code>start.at</code> to
<code>start.at</code> + length of factor levels, or to the corresponding
factor levels (if these were numeric). If <code>x</code> is a data frame,
the complete data frame <code>x</code> will be returned, where variables
specified in <code>...</code> are coerced to numeric; if <code>...</code> is
not specified, applies to all variables in the data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(efc)
test &lt;- as_label(efc$e42dep)
table(test)

table(as_numeric(test))
hist(as_numeric(test, start.at = 0))

# set lowest value of new variable to "5".
table(as_numeric(test, start.at = 5))

# numeric factor keeps values
dummy &lt;- factor(c("3", "4", "6"))
table(as_numeric(dummy))

# do not drop unused factor levels
dummy &lt;- ordered(c(rep("No", 5), rep("Maybe", 3)),
                 levels = c("Yes", "No", "Maybe"))
as_numeric(dummy)

# non-numeric factor is converted to numeric
# starting at 1
dummy &lt;- factor(c("D", "F", "H"))
table(as_numeric(dummy))

# for numeric factor levels, value labels will be used, if present
dummy1 &lt;- factor(c("3", "4", "6"))
dummy1 &lt;- set_labels(dummy1, labels = c("first", "2nd", "3rd"))
dummy1
as_numeric(dummy1)

# for non-numeric factor levels, these will be used.
# value labels will be ignored
dummy2 &lt;- factor(c("D", "F", "H"))
dummy2 &lt;- set_labels(dummy2, labels = c("first", "2nd", "3rd"))
dummy2
as_numeric(dummy2)


# easily coerce specific variables in a data frame to numeric
# and keep other variables, with their class preserved
data(efc)
efc$e42dep &lt;- as.factor(efc$e42dep)
efc$e16sex &lt;- as.factor(efc$e16sex)
efc$e17age &lt;- as.factor(efc$e17age)

# convert back "sex" and "age" into numeric
head(as_numeric(efc, e16sex, e17age))

x &lt;- factor(c("None", "Little", "Some", "Lots"))
x &lt;- set_labels(x,
  labels = c(None = "0.5", Little = "1.3", Some = "1.8", Lots = ".2")
)
x
as_numeric(x)
as_numeric(x, use.labels = TRUE)
as_numeric(x, use.labels = TRUE, keep.labels = FALSE)
</code></pre>

<hr>
<h2 id='convert_case'>Generic case conversion for labels</h2><span id='topic+convert_case'></span>

<h3>Description</h3>

<p>This function wraps <code>to_any_case()</code> from the <span class="pkg">snakecase</span>
package with certain defaults for the <code>sep_in</code> and
<code>sep_out</code> arguments, used for instance to convert cases in
<code><a href="#topic+term_labels">term_labels</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_case(lab, case = NULL, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_case_+3A_lab">lab</code></td>
<td>
<p>Character vector that should be case converted.</p>
</td></tr>
<tr><td><code id="convert_case_+3A_case">case</code></td>
<td>
<p>Desired target case. Labels will automatically converted into the
specified character case. See <code><a href="snakecase.html#topic+to_any_case">to_any_case()</a></code> for
more details on this argument.</p>
</td></tr>
<tr><td><code id="convert_case_+3A_verbose">verbose</code></td>
<td>
<p>Toggle warnings and messages on or off.</p>
</td></tr>
<tr><td><code id="convert_case_+3A_...">...</code></td>
<td>
<p>Further arguments passed down to <code>to_any_case()</code>,
like <code>sep_in</code> or <code>sep_out</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When calling <code>to_any_case()</code> from <span class="pkg">snakecase</span>, the
<code>sep_in</code> argument is set to <code>"(?&lt;!\\d)\\."</code>, and the
<code>sep_out</code> to <code>" "</code>. This gives feasible results from variable
labels for plot annotations.
</p>


<h3>Value</h3>

<p><code>lab</code>, with converted case.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)
convert_case(colnames(iris))
convert_case(colnames(iris), case = "snake")
</code></pre>

<hr>
<h2 id='copy_labels'>Copy value and variable labels to (subsetted) data frames</h2><span id='topic+copy_labels'></span>

<h3>Description</h3>

<p>Subsetting-functions usually drop value and variable labels from
subsetted data frames (if the original data frame has value and variable
label attributes). This function copies these value and variable
labels back to subsetted data frames that have been subsetted, for instance,
with <code><a href="base.html#topic+subset">subset</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>copy_labels(df_new, df_origin = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="copy_labels_+3A_df_new">df_new</code></td>
<td>
<p>The new, subsetted data frame.</p>
</td></tr>
<tr><td><code id="copy_labels_+3A_df_origin">df_origin</code></td>
<td>
<p>The original data frame where the subset (<code>df_new</code>) stems from;
use <code>NULL</code>, if value and variable labels from <code>df_new</code> should be removed.</p>
</td></tr>
<tr><td><code id="copy_labels_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>df_new</code> with either removed value and variable label attributes
(if <code>df_origin = NULL</code>) or with copied value and variable label
attributes (if <code>df_origin</code> was the original subsetted data frame).
</p>


<h3>Note</h3>

<p>In case <code>df_origin = NULL</code>, all possible label attributes
from <code>df_new</code> are removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(efc)

# create subset - drops label attributes
efc.sub &lt;- subset(efc, subset = e16sex == 1, select = c(4:8))
str(efc.sub)

# copy back attributes from original dataframe
efc.sub &lt;- copy_labels(efc.sub, efc)
str(efc.sub)

# remove all labels
efc.sub &lt;- copy_labels(efc.sub)
str(efc.sub)

# create subset - drops label attributes
efc.sub &lt;- subset(efc, subset = e16sex == 1, select = c(4:8))
if (require("dplyr")) {
  # create subset with dplyr's select - attributes are preserved
  efc.sub2 &lt;- select(efc, c160age, e42dep, neg_c_7, c82cop1, c84cop3)
  # copy labels from those columns that are available
  copy_labels(efc.sub, efc.sub2) %&gt;% str()
}

# copy labels from only some columns
str(copy_labels(efc.sub, efc, e42dep))
str(copy_labels(efc.sub, efc, -e17age))
</code></pre>

<hr>
<h2 id='drop_labels'>Drop, add or convert (non-)labelled values</h2><span id='topic+drop_labels'></span><span id='topic+fill_labels'></span><span id='topic+zap_labels'></span><span id='topic+zap_unlabelled'></span>

<h3>Description</h3>

<p>For (partially) labelled vectors, <code>zap_labels()</code> will replace
all values that have a value label attribute with <code>NA</code>;
<code>zap_unlabelled()</code>, as counterpart, will replace all values
that <em>don't</em> have a value label attribute with <code>NA</code>.
<br /> <br />
<code>drop_labels()</code> drops all value labels for unused values,
i.e. values that are not present in a vector. <code>fill_labels()</code> is the
counterpart to <code>drop_labels()</code> and adds value labels to
a partially labelled vector, i.e. if not all values are
labelled, non-labelled values get labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_labels(x, ..., drop.na = TRUE)

fill_labels(x, ...)

zap_labels(x, ...)

zap_unlabelled(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop_labels_+3A_x">x</code></td>
<td>
<p>(partially) <code><a href="haven.html#topic+labelled">labelled()</a></code> vector or a data frame
with such vectors.</p>
</td></tr>
<tr><td><code id="drop_labels_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
<tr><td><code id="drop_labels_+3A_drop.na">drop.na</code></td>
<td>
<p>Logical, whether existing value labels of tagged NA values
(see <code><a href="haven.html#topic+tagged_na">tagged_na</a></code>) should be removed (<code>drop.na = TRUE</code>,
the default) or preserved (<code>drop.na = FALSE</code>).
See <code><a href="#topic+get_na">get_na</a></code> for more details on tagged NA values.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> For <code>zap_labels()</code>, <code>x</code>, where all labelled values are converted to <code>NA</code>.
</p>
</li>
<li><p> For <code>zap_unlabelled()</code>, <code>x</code>, where all non-labelled values are converted to <code>NA</code>.
</p>
</li>
<li><p> For <code>drop_labels()</code>, <code>x</code>, where value labels for non-existing values are removed.
</p>
</li>
<li><p> For <code>fill_labels()</code>, <code>x</code>, where labels for non-labelled values are added.
</p>
</li></ul>

<p>If <code>x</code> is a data frame, the complete data frame <code>x</code> will be
returned, with variables specified in <code>...</code> being converted;
if <code>...</code> is not specified, applies to all variables in the
data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("sjmisc") &amp;&amp; require("dplyr")) {

  # zap_labels() ----

  data(efc)
  str(efc$e42dep)

  x &lt;- set_labels(
    efc$e42dep,
    labels = c("independent" = 1, "severe dependency" = 4)
  )
  table(x)
  get_values(x)
  str(x)

  # zap all labelled values
  table(zap_labels(x))
  get_values(zap_labels(x))
  str(zap_labels(x))

  # zap all unlabelled values
  table(zap_unlabelled(x))
  get_values(zap_unlabelled(x))
  str(zap_unlabelled(x))

  # in a pipe-workflow
  efc %&gt;%
    select(c172code, e42dep) %&gt;%
    set_labels(
      e42dep,
      labels = c("independent" = 1, "severe dependency" = 4)
    ) %&gt;%
    zap_labels()


  # drop_labels() ----

  rp &lt;- rec_pattern(1, 100)
  rp

  # sample data
  data(efc)
  # recode carers age into groups of width 5
  x &lt;- rec(efc$c160age, rec = rp$pattern)
  # add value labels to new vector
  x &lt;- set_labels(x, labels = rp$labels)

  # watch result. due to recode-pattern, we have age groups with
  # no observations (zero-counts)
  frq(x)
  # now, let's drop zero's
  frq(drop_labels(x))

  # drop labels, also drop NA value labels, then also zap tagged NA
  if (require("haven")) {
    x &lt;- labelled(c(1:3, tagged_na("z"), 4:1),
                  c("Agreement" = 1, "Disagreement" = 4, "Unused" = 5,
                    "Not home" = tagged_na("z")))
    x
    drop_labels(x, drop.na = FALSE)
    drop_labels(x)
    zap_na_tags(drop_labels(x))

    # fill_labels() ----

    # create labelled integer, with tagged missings
    x &lt;- labelled(
      c(1:3, tagged_na("a", "c", "z"), 4:1),
      c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
        "Refused" = tagged_na("a"), "Not home" = tagged_na("z"))
      )
    # get current values and labels
    x
    get_labels(x)

    fill_labels(x)
    get_labels(fill_labels(x))
    # same as
    get_labels(x, non.labelled = TRUE)
  }
}
</code></pre>

<hr>
<h2 id='efc'>Sample dataset from the EUROFAMCARE project</h2><span id='topic+efc'></span>

<h3>Description</h3>

<p>A SPSS sample data set, imported with the <code><a href="#topic+read_spss">read_spss</a></code> function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Attach EFC-data
data(efc)

# Show structure
str(efc)

# show first rows
head(efc)

# show variables
## Not run: 
library(sjPlot)
view_df(efc)

# show variable labels
get_label(efc)

# plot efc-data frame summary
sjt.df(efc, altr.row.col = TRUE)
## End(Not run)

</code></pre>

<hr>
<h2 id='get_label'>Retrieve variable label(s) of labelled data</h2><span id='topic+get_label'></span>

<h3>Description</h3>

<p>This function returns the variable labels of labelled data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_label(x, ..., def.value = NULL, case = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_label_+3A_x">x</code></td>
<td>
<p>A data frame with variables that have label attributes (e.g.
from an imported SPSS, SAS or STATA data set, via <code><a href="#topic+read_spss">read_spss</a></code>,
<code><a href="#topic+read_sas">read_sas</a></code> or <code><a href="#topic+read_stata">read_stata</a></code>); a variable
(vector) with variable label attribute; or a <code>list</code> of variables
with variable label attributes. See 'Examples'.</p>
</td></tr>
<tr><td><code id="get_label_+3A_...">...</code></td>
<td>
<p>Optional, names of variables, where labels should be retrieved.
Required, if either data is a data frame and no vector, or if only
selected variables from <code>x</code> should be used in the function.
Convenient argument to work with pipe-chains (see 'Examples').</p>
</td></tr>
<tr><td><code id="get_label_+3A_def.value">def.value</code></td>
<td>
<p>Optional, a character string which will be returned as label
if <code>x</code> has no label attribute. By default, <code>NULL</code> is returned.</p>
</td></tr>
<tr><td><code id="get_label_+3A_case">case</code></td>
<td>
<p>Desired target case. Labels will automatically converted into the
specified character case. See <code><a href="snakecase.html#topic+to_any_case">to_any_case()</a></code> for
more details on this argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named character vector with all variable labels from the data frame or list;
or a simple character vector (of length 1) with the variable label, if <code>x</code> is a variable.
If <code>x</code> is a single vector and has no label attribute, the value
of <code>def.value</code> will be returned (which is by default <code>NULL</code>).
</p>


<h3>Note</h3>

<p><code><a href="#topic+var_labels">var_labels</a></code> is an alternative way to set variable labels,
which follows the philosophy of tidyvers API design (data as first argument,
dots as value pairs indicating variables)
</p>


<h3>See Also</h3>

<p>See vignette <a href="../doc/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>
for more details; <code><a href="#topic+set_label">set_label</a></code> to manually set variable labels or <code><a href="#topic+get_labels">get_labels</a></code>
to get value labels; <code><a href="#topic+var_labels">var_labels</a></code> to set multiple variable
labels at once.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># import SPSS data set
# mydat &lt;- read_spss("my_spss_data.sav", enc="UTF-8")

# retrieve variable labels
# mydat.var &lt;- get_label(mydat)

# retrieve value labels
# mydat.val &lt;- get_labels(mydat)

data(efc)

# get variable lable
get_label(efc$e42dep)

# alternative way
get_label(efc)["e42dep"]

# 'get_label()' also works within pipe-chains
library(magrittr)
efc %&gt;% get_label(e42dep, e16sex)

# set default values
get_label(mtcars, mpg, cyl, def.value = "no var labels")

# simple barplot
barplot(table(efc$e42dep))
# get value labels to annotate barplot
barplot(table(efc$e42dep),
        names.arg = get_labels(efc$e42dep),
        main = get_label(efc$e42dep))

# get labels from multiple variables
get_label(list(efc$e42dep, efc$e16sex, efc$e15relat))

# use case conversion for human-readable labels
data(iris)
get_label(iris, def.value = colnames(iris))
get_label(iris, def.value = colnames(iris), case = "parsed")
</code></pre>

<hr>
<h2 id='get_labels'>Retrieve value labels of labelled data</h2><span id='topic+get_labels'></span>

<h3>Description</h3>

<p>This function returns the value labels of labelled data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_labels(
  x,
  attr.only = FALSE,
  values = NULL,
  non.labelled = FALSE,
  drop.na = TRUE,
  drop.unused = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_labels_+3A_x">x</code></td>
<td>
<p>A data frame with variables that have value label attributes (e.g.
from an imported SPSS, SAS or STATA data set, via <code><a href="#topic+read_spss">read_spss</a></code>,
<code><a href="#topic+read_sas">read_sas</a></code> or <code><a href="#topic+read_stata">read_stata</a></code>); a variable
(vector) with value label attributes; or a <code>list</code> of variables
with values label attributes. If <code>x</code> has no label attributes,
factor levels are returned. See 'Examples'.</p>
</td></tr>
<tr><td><code id="get_labels_+3A_attr.only">attr.only</code></td>
<td>
<p>Logical, if <code>TRUE</code>, labels are only searched for
in the the vector's <code>attributes</code>; else, if <code>attr.only = FALSE</code>
and <code>x</code> has no label attributes, factor levels or string values
are returned. See 'Examples'.</p>
</td></tr>
<tr><td><code id="get_labels_+3A_values">values</code></td>
<td>
<p>String, indicating whether the values associated with the
value labels are returned as well. If <code>values = "as.name"</code>
(or <code>values = "n"</code>), values are set as <code>names</code>
attribute of the returned object. If <code>values = "as.prefix"</code>
(or <code>values = "p"</code>), values are included as prefix
to each label. See 'Examples'.</p>
</td></tr>
<tr><td><code id="get_labels_+3A_non.labelled">non.labelled</code></td>
<td>
<p>Logical, if <code>TRUE</code>, values without labels will
also be included in the returned labels (see <code><a href="#topic+fill_labels">fill_labels</a></code>).</p>
</td></tr>
<tr><td><code id="get_labels_+3A_drop.na">drop.na</code></td>
<td>
<p>Logical, whether labels of tagged NA values (see <code><a href="haven.html#topic+tagged_na">tagged_na()</a></code>)
should be included in the return value or not. By default, labelled
(tagged) missing values are not returned. See <code><a href="#topic+get_na">get_na</a></code>
for more details on tagged NA values.</p>
</td></tr>
<tr><td><code id="get_labels_+3A_drop.unused">drop.unused</code></td>
<td>
<p>Logical, if <code>TRUE</code>, unused labels will be removed from
the return value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a list with all value labels from all variables if <code>x</code>
is a <code>data.frame</code> or <code>list</code>; a string with the value
labels, if <code>x</code> is a variable;
or <code>NULL</code> if no value label attribute was found.
</p>


<h3>See Also</h3>

<p>See vignette <a href="../doc/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>
for more details; <code><a href="#topic+set_labels">set_labels</a></code> to manually set value
labels, <code><a href="#topic+get_label">get_label</a></code> to get variable labels and
<code><a href="#topic+get_values">get_values</a></code> to retrieve the values associated
with value labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># import SPSS data set
# mydat &lt;- read_spss("my_spss_data.sav")

# retrieve variable labels
# mydat.var &lt;- get_label(mydat)

# retrieve value labels
# mydat.val &lt;- get_labels(mydat)

data(efc)
get_labels(efc$e42dep)

# simple barplot
barplot(table(efc$e42dep))
# get value labels to annotate barplot
barplot(table(efc$e42dep),
        names.arg = get_labels(efc$e42dep),
        main = get_label(efc$e42dep))

# include associated values
get_labels(efc$e42dep, values = "as.name")

# include associated values
get_labels(efc$e42dep, values = "as.prefix")

# get labels from multiple variables
get_labels(list(efc$e42dep, efc$e16sex, efc$e15relat))


# create a dummy factor
f1 &lt;- factor(c("hi", "low", "mid"))
# search for label attributes only
get_labels(f1, attr.only = TRUE)
# search for factor levels as well
get_labels(f1)

# same for character vectors
c1 &lt;- c("higher", "lower", "mid")
# search for label attributes only
get_labels(c1, attr.only = TRUE)
# search for string values as well
get_labels(c1)


# create vector
x &lt;- c(1, 2, 3, 2, 4, NA)
# add less labels than values
x &lt;- set_labels(x, labels = c("yes", "maybe", "no"), force.values = FALSE)
# get labels for labelled values only
get_labels(x)
# get labels for all values
get_labels(x, non.labelled = TRUE)


# get labels, including tagged NA values
library(haven)
x &lt;- labelled(c(1:3, tagged_na("a", "c", "z"), 4:1),
              c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
                "Refused" = tagged_na("a"), "Not home" = tagged_na("z")))
# get current NA values
x
get_labels(x, values = "n", drop.na = FALSE)


# create vector with unused labels
data(efc)
efc$e42dep &lt;- set_labels(
  efc$e42dep,
  labels = c("independent" = 1, "dependent" = 4, "not used" = 5)
)
get_labels(efc$e42dep)
get_labels(efc$e42dep, drop.unused = TRUE)
get_labels(efc$e42dep, non.labelled = TRUE, drop.unused = TRUE)
</code></pre>

<hr>
<h2 id='get_na'>Retrieve tagged NA values of labelled variables</h2><span id='topic+get_na'></span>

<h3>Description</h3>

<p>This function retrieves tagged NA values and their associated
value labels from a labelled vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_na(x, as.tag = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_na_+3A_x">x</code></td>
<td>
<p>Variable (vector) with value label attributes, including
tagged missing values (see <code><a href="haven.html#topic+tagged_na">tagged_na()</a></code>);
or a data frame or list with such variables.</p>
</td></tr>
<tr><td><code id="get_na_+3A_as.tag">as.tag</code></td>
<td>
<p>Logical, if <code>TRUE</code>, the returned values are not tagged NA's,
but their string representative including the tag value. See 'Examples'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Other statistical software packages (like 'SPSS' or 'SAS') allow to define
multiple missing values, e.g. <em>not applicable</em>, <em>refused answer</em>
or &quot;real&quot; missing. These missing types may be assigned with
different values, so it is possible to distinguish between these
missing types. In R, multiple declared missings cannot be represented
in a similar way with the regular missing values. However,
<code>tagged_na()</code> values can do this.
Tagged <code>NA</code>s work exactly like regular R missing values
except that they store one additional byte of information: a tag,
which is usually a letter (&quot;a&quot; to &quot;z&quot;) or character number (&quot;0&quot; to &quot;9&quot;).
This allows to indicate different missings.
<br /> <br />
Furthermore, see 'Details' in <code><a href="#topic+get_values">get_values</a></code>.
</p>


<h3>Value</h3>

<p>The tagged missing values and their associated value labels from <code>x</code>,
or <code>NULL</code> if <code>x</code> has no tagged missing values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(haven)
x &lt;- labelled(c(1:3, tagged_na("a", "c", "z"), 4:1),
              c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
                "Refused" = tagged_na("a"), "Not home" = tagged_na("z")))
# get current NA values
x
get_na(x)
# which NA has which tag?
get_na(x, as.tag = TRUE)

# replace only the NA, which is tagged as NA(c)
if (require("sjmisc")) {
  replace_na(x, value = 2, tagged.na = "c")
  get_na(replace_na(x, value = 2, tagged.na = "c"))

  # data frame as input
  y &lt;- labelled(c(2:3, 3:1, tagged_na("y"), 4:1),
                c("Agreement" = 1, "Disagreement" = 4, "Why" = tagged_na("y")))
  get_na(data.frame(x, y))
}
</code></pre>

<hr>
<h2 id='get_values'>Retrieve values of labelled variables</h2><span id='topic+get_values'></span>

<h3>Description</h3>

<p>This function retrieves the values associated with value labels
from <code><a href="haven.html#topic+labelled">labelled</a></code> vectors. Data is also labelled
when imported from SPSS, SAS or STATA via <code><a href="#topic+read_spss">read_spss</a></code>,
<code><a href="#topic+read_sas">read_sas</a></code> or <code><a href="#topic+read_stata">read_stata</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_values(x, sort.val = TRUE, drop.na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_values_+3A_x">x</code></td>
<td>
<p>Variable (vector) with value label attributes; or a data frame or
list with such variables.</p>
</td></tr>
<tr><td><code id="get_values_+3A_sort.val">sort.val</code></td>
<td>
<p>Logical, if <code>TRUE</code> (default), values of associated value labels
are sorted.</p>
</td></tr>
<tr><td><code id="get_values_+3A_drop.na">drop.na</code></td>
<td>
<p>Logical, if <code>TRUE</code>, tagged NA values are excluded from
the return value. See 'Examples' and <code><a href="#topic+get_na">get_na</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="haven.html#topic+labelled">labelled</a></code> vectors are numeric by default (when imported with read-functions
like <code><a href="#topic+read_spss">read_spss</a></code>) and have variable and value labels attributes.
The value labels are associated with the values from the labelled vector.
This function returns the values associated with the vector's value labels,
which may differ from actual values in the vector (e.g. if not all
values have a related label).
</p>


<h3>Value</h3>

<p>The values associated with value labels from <code>x</code>,
or <code>NULL</code> if <code>x</code> has no label attributes.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_labels">get_labels</a></code> for getting value labels and <code><a href="#topic+get_na">get_na</a></code>
to get values for missing values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(efc)
str(efc$e42dep)
get_values(efc$e42dep)
get_labels(efc$e42dep)

library(haven)
x &lt;- labelled(c(1:3, tagged_na("a", "c", "z"), 4:1),
              c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
                "Refused" = tagged_na("a"), "Not home" = tagged_na("z")))
# get all values
get_values(x)
# drop NA
get_values(x, drop.na = TRUE)

# data frame as input
y &lt;- labelled(c(2:3, 3:1, tagged_na("y"), 4:1),
              c("Agreement" = 1, "Disagreement" = 4, "Why" = tagged_na("y")))
get_values(data.frame(x, y))

</code></pre>

<hr>
<h2 id='is_labelled'>Check whether object is of class &quot;labelled&quot;</h2><span id='topic+is_labelled'></span>

<h3>Description</h3>

<p>This function checks whether <code>x</code> is of class <code>labelled</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_labelled(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_labelled_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical, <code>TRUE</code> if <code>x</code> inherits from class <code>labelled</code>,
<code>FALSE</code> otherwise.
</p>

<hr>
<h2 id='label_to_colnames'>Use variable labels as column names</h2><span id='topic+label_to_colnames'></span>

<h3>Description</h3>

<p>This function sets variable labels as column names, to use &quot;labelled
data&quot; also for those functions that cannot cope with labelled data by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_to_colnames(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="label_to_colnames_+3A_x">x</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="label_to_colnames_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> with variable labels as column names. For variables without
variable labels, the column name is left unchanged.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)

iris &lt;- var_labels(
  iris,
  Petal.Length = "Petal length (cm)",
  Petal.Width = "Petal width (cm)"
)

colnames(iris)
plot(iris)

colnames(label_to_colnames(iris))
plot(label_to_colnames(iris))
</code></pre>

<hr>
<h2 id='read_spss'>Import data from other statistical software packages</h2><span id='topic+read_spss'></span><span id='topic+read_sas'></span><span id='topic+read_stata'></span><span id='topic+read_data'></span>

<h3>Description</h3>

<p>Import data from SPSS, SAS or Stata, including NA's, value and variable
labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_spss(
  path,
  convert.factors = TRUE,
  drop.labels = FALSE,
  tag.na = FALSE,
  encoding = NULL,
  verbose = FALSE,
  atomic.to.fac = convert.factors
)

read_sas(
  path,
  path.cat = NULL,
  convert.factors = TRUE,
  drop.labels = FALSE,
  encoding = NULL,
  verbose = FALSE,
  atomic.to.fac = convert.factors
)

read_stata(
  path,
  convert.factors = TRUE,
  drop.labels = FALSE,
  encoding = NULL,
  verbose = FALSE,
  atomic.to.fac = convert.factors
)

read_data(
  path,
  convert.factors = TRUE,
  drop.labels = FALSE,
  encoding = NULL,
  verbose = FALSE,
  atomic.to.fac = convert.factors
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_spss_+3A_path">path</code></td>
<td>
<p>File path to the data file.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_convert.factors">convert.factors</code></td>
<td>
<p>Logical, if <code>TRUE</code>, categorical variables imported
from the dataset (which are imported as <code>atomic</code>) will be
converted to factors. Variables are considered as categorical if they have
at least the same number of value labels as unique values. This prevents
that ranges of continuous variables, where - for instance - the minimum and
maximum values are labelled only, will also be converted to factors.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_drop.labels">drop.labels</code></td>
<td>
<p>Logical, if <code>TRUE</code>, unused value labels are removed. See
<code><a href="#topic+drop_labels">drop_labels</a></code>.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_tag.na">tag.na</code></td>
<td>
<p>Logical, if <code>TRUE</code>, missing values are imported
as <code><a href="haven.html#topic+tagged_na">tagged_na</a></code> values; else, missing values are
converted to regular <code>NA</code> (default behaviour).</p>
</td></tr>
<tr><td><code id="read_spss_+3A_encoding">encoding</code></td>
<td>
<p>The character encoding used for the file. This defaults to the encoding
specified in the file, or UTF-8. Use this argument to override the default
encoding stored in the file.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_verbose">verbose</code></td>
<td>
<p>Logical, if <code>TRUE</code>, a progress bar is displayed that indicates
the progress of converting the imported data.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_atomic.to.fac">atomic.to.fac</code></td>
<td>
<p>Deprecated, please use 'convert.factors' instead.</p>
</td></tr>
<tr><td><code id="read_spss_+3A_path.cat">path.cat</code></td>
<td>
<p>Optional, the file path to the SAS catalog file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These read-functions behave slightly differently from <span class="pkg">haven</span>'s
read-functions:
</p>

<ul>
<li><p> The vectors in the returned data frame are of class <code>atomic</code>, not of class <code>labelled</code>. The labelled-class might cause issues with other packages.
</p>
</li>
<li><p> When importing SPSS data, variables with user defined missings <em>won't</em> be read into <code>labelled_spss</code> objects, but imported as <em>tagged NA values</em>.
</p>
</li></ul>

<p>The <code>convert.factors</code> option only
converts those variables into factors that are of class <code>atomic</code> and
which have value labels after import. Atomic vectors without value labels
are considered as continuous and not converted to factors.
</p>


<h3>Value</h3>

<p>A data frame containing the imported, labelled data. Retrieve value labels with
<code><a href="#topic+get_labels">get_labels</a></code> and variable labels with <code><a href="#topic+get_label">get_label</a></code>.
</p>


<h3>Note</h3>

<p>These are wrapper functions for <a href="https://CRAN.R-project.org/package=haven"><span class="pkg">haven</span></a>'s <code>read_*</code>-functions.
</p>


<h3>See Also</h3>

<p>Vignette <a href="../doc/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# import SPSS data set. uses haven's read function
mydat &lt;- read_spss("my_spss_data.sav")

# use haven's read function, convert atomic to factor
mydat &lt;- read_spss("my_spss_data.sav", convert.factors = TRUE)

# retrieve variable labels
mydat.var &lt;- get_label(mydat)

# retrieve value labels
mydat.val &lt;- get_labels(mydat)
## End(Not run)
</code></pre>

<hr>
<h2 id='remove_all_labels'>Remove value and variable labels from vector or data frame</h2><span id='topic+remove_all_labels'></span>

<h3>Description</h3>

<p>This function removes value and variable label attributes
from a vector or data frame. These attributes are typically
added to variables when importing foreign data (see
<code><a href="#topic+read_spss">read_spss</a></code>) or manually adding label attributes
with <code><a href="#topic+set_labels">set_labels</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_all_labels(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remove_all_labels_+3A_x">x</code></td>
<td>
<p>Vector or <code>data.frame</code> with variable and/or value label attributes</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> with removed value and variable label attributes.
</p>


<h3>See Also</h3>

<p>See vignette <a href="../doc/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>,
and <code><a href="#topic+copy_labels">copy_labels</a></code> for adding label attributes
(subsetted) data frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(efc)
str(efc)
str(remove_all_labels(efc))
</code></pre>

<hr>
<h2 id='remove_label'>Remove variable labels from variables</h2><span id='topic+remove_label'></span>

<h3>Description</h3>

<p>Remove variable labels from variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_label(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remove_label_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="remove_label_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> with removed variable labels
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_label">set_label</a></code> to manually set variable labels or
<code><a href="#topic+get_label">get_label</a></code> to get variable labels; <code><a href="#topic+set_labels">set_labels</a></code> to
add value labels, replacing the existing ones (and removing non-specified
value labels).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(efc)
x &lt;- efc[, 1:5]
get_label(x)
str(x)

x &lt;- remove_label(x)
get_label(x)
str(x)
</code></pre>

<hr>
<h2 id='set_label'>Add variable label(s) to variables</h2><span id='topic+set_label'></span><span id='topic+set_label+3C-'></span><span id='topic+var_labels'></span>

<h3>Description</h3>

<p>This function adds variable labels as attribute
(named <code>"label"</code>) to the variable <code>x</code>, resp. to a
set of variables in a data frame or a list-object. <code>var_labels()</code>
is intended for use within pipe-workflows and has a tidyverse-consistent
syntax, including support for quasi-quotation (see 'Examples').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_label(x, label)

set_label(x) &lt;- value

var_labels(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_label_+3A_x">x</code></td>
<td>
<p>Variable (vector), list of variables or a data frame where variables
labels should be added as attribute. For <code>var_labels()</code>, <code>x</code>
must be a data frame only.</p>
</td></tr>
<tr><td><code id="set_label_+3A_label">label</code></td>
<td>
<p>If <code>x</code> is a vector (single variable), use a single character string with
the variable label for <code>x</code>. If <code>x</code> is a data frame, use a
vector with character labels of same length as <code>ncol(x)</code>.
Use <code>label = ""</code> to remove labels-attribute from <code>x</code>, resp.
set any value of vector <code>label</code> to <code>""</code> to remove specific variable
label attributes from a data frame's variable.</p>
</td></tr>
<tr><td><code id="set_label_+3A_value">value</code></td>
<td>
<p>See <code>label</code>.</p>
</td></tr>
<tr><td><code id="set_label_+3A_...">...</code></td>
<td>
<p>Pairs of named vectors, where the name equals the variable name,
which should be labelled, and the value is the new variable label.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, with variable label attribute(s), which contains the
variable name(s); or with removed label-attribute if
<code>label = ""</code>.
</p>


<h3>See Also</h3>

<p>See vignette <a href="../doc/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>
for more details; <code><a href="#topic+set_labels">set_labels</a></code> to manually set value labels or <code><a href="#topic+get_label">get_label</a></code>
to get variable labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># manually set value and variable labels
dummy &lt;- sample(1:4, 40, replace = TRUE)
dummy &lt;- set_labels(dummy, labels = c("very low", "low", "mid", "hi"))
dummy &lt;- set_label(dummy, label = "Dummy-variable")

# or use:
# set_label(dummy) &lt;- "Dummy-variable"

# auto-detection of value labels by default, auto-detection of
# variable labels if argument "title" set to NULL.
## Not run: 
library(sjPlot)
sjp.frq(dummy, title = NULL)
## End(Not run)

# Set variable labels for data frame
dummy &lt;- data.frame(
  a = sample(1:4, 10, replace = TRUE),
  b = sample(1:4, 10, replace = TRUE),
  c = sample(1:4, 10, replace = TRUE)
)
dummy &lt;- set_label(dummy, c("Variable A", "Variable B", "Variable C"))
str(dummy)

# remove one variable label
dummy &lt;- set_label(dummy, c("Variable A", "", "Variable C"))
str(dummy)

# setting same variable labels to multiple vectors

# create a set of dummy variables
dummy1 &lt;- sample(1:4, 40, replace = TRUE)
dummy2 &lt;- sample(1:4, 40, replace = TRUE)
dummy3 &lt;- sample(1:4, 40, replace = TRUE)
# put them in list-object
dummies &lt;- list(dummy1, dummy2, dummy3)
# and set variable labels for all three dummies
dummies &lt;- set_label(dummies, c("First Dummy", "2nd Dummy", "Third dummy"))
# see result...
get_label(dummies)


# use 'var_labels()' to set labels within a pipe-workflow, and
# when you need "tidyverse-consistent" api.
# Set variable labels for data frame
dummy &lt;- data.frame(
  a = sample(1:4, 10, replace = TRUE),
  b = sample(1:4, 10, replace = TRUE),
  c = sample(1:4, 10, replace = TRUE)
)

library(magrittr)
dummy %&gt;%
  var_labels(a = "First variable", c = "third variable") %&gt;%
  get_label()

# with quasi-quotation
library(rlang)
v1 &lt;- "First variable"
v2 &lt;- "Third variable"
dummy %&gt;%
  var_labels(a = !!v1, c = !!v2) %&gt;%
  get_label()

x1 &lt;- "a"
x2 &lt;- "c"
dummy %&gt;%
  var_labels(!!x1 := !!v1, !!x2 := !!v2) %&gt;%
  get_label()

</code></pre>

<hr>
<h2 id='set_labels'>Add value labels to variables</h2><span id='topic+set_labels'></span><span id='topic+val_labels'></span>

<h3>Description</h3>

<p>This function adds labels as attribute (named <code>"labels"</code>)
to a variable or vector <code>x</code>, resp. to a set of variables in a
data frame or a list-object. A use-case is, for instance, the
<span class="pkg">sjPlot</span>-package, which supports labelled data and automatically
assigns labels to axes or legends in plots or to be used in tables.
<code>val_labels()</code> is intended for use within pipe-workflows and has a
tidyverse-consistent syntax, including support for quasi-quotation
(see 'Examples').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_labels(
  x,
  ...,
  labels,
  force.labels = FALSE,
  force.values = TRUE,
  drop.na = TRUE
)

val_labels(x, ..., force.labels = FALSE, force.values = TRUE, drop.na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_labels_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="set_labels_+3A_...">...</code></td>
<td>
<p>For <code>set_labels()</code>, Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's
select-helpers. <br /> <br /> For <code>val_labels()</code>,
pairs of named vectors, where the name equals the variable name, which
should be labelled, and the value is the new variable label. <code>val_labels()</code>
also supports quasi-quotation (see 'Examples').</p>
</td></tr>
<tr><td><code id="set_labels_+3A_labels">labels</code></td>
<td>
<p>(Named) character vector of labels that will be added to <code>x</code> as
<code>"labels"</code> or <code>"value.labels"</code> attribute.
</p>

<ul>
<li><p> if <code>labels</code> is <strong>not</strong> a <em>named vector</em>, its length must equal the value range of <code>x</code>, i.e. if <code>x</code> has values from 1 to 3, <code>labels</code> should have a length of 3;
</p>
</li>
<li><p> if length of <code>labels</code> is intended to differ from length of unique values of <code>x</code>, a warning is given. You can still add missing labels with the <code>force.labels</code> or <code>force.values</code> arguments; see 'Note'.
</p>
</li>
<li><p> if <code>labels</code> <strong>is</strong> a <em>named vector</em>, value labels will be set accordingly, even if <code>x</code> has a different length of unique values. See 'Note' and 'Examples'.
</p>
</li>
<li><p> if <code>x</code> is a data frame, <code>labels</code> may also be a <code>list</code> of (named) character vectors;
</p>
</li>
<li><p> if <code>labels</code> is a <code>list</code>, it must have the same length as number of columns of <code>x</code>;
</p>
</li>
<li><p> if <code>labels</code> is a vector and <code>x</code> is a data frame, <code>labels</code> will be applied to each column of <code>x</code>.
</p>
</li></ul>

<p>Use <code>labels = ""</code> to remove labels-attribute from <code>x</code>.</p>
</td></tr>
<tr><td><code id="set_labels_+3A_force.labels">force.labels</code></td>
<td>
<p>Logical; if <code>TRUE</code>, all <code>labels</code> are added as value label
attribute, even if <code>x</code> has less unique values then length of <code>labels</code>
or if <code>x</code> has a smaller range then length of <code>labels</code>. See 'Examples'.
This parameter will be ignored, if <code>labels</code> is a named vector.</p>
</td></tr>
<tr><td><code id="set_labels_+3A_force.values">force.values</code></td>
<td>
<p>Logical, if <code>TRUE</code> (default) and <code>labels</code> has less
elements than unique values of <code>x</code>, additional values not covered
by <code>labels</code> will be added as label as well. See 'Examples'.
This parameter will be ignored, if <code>labels</code> is a named vector.</p>
</td></tr>
<tr><td><code id="set_labels_+3A_drop.na">drop.na</code></td>
<td>
<p>Logical, whether existing value labels of tagged NA values
(see <code><a href="haven.html#topic+tagged_na">tagged_na</a></code>) should be removed (<code>drop.na = TRUE</code>,
the default) or preserved (<code>drop.na = FALSE</code>).
See <code><a href="#topic+get_na">get_na</a></code> for more details on tagged NA values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> with value label attributes; or with removed label-attributes if
<code>labels = ""</code>. If <code>x</code> is a data frame, the complete data
frame <code>x</code> will be returned, with removed or added to variables
specified in <code>...</code>; if <code>...</code> is not specified, applies
to all variables in the data frame.
</p>


<h3>Note</h3>


<ul>
<li><p> if <code>labels</code> is a named vector, <code>force.labels</code> and <code>force.values</code> will be ignored, and only values defined in <code>labels</code> will be labelled;
</p>
</li>
<li><p> if <code>x</code> has less unique values than <code>labels</code>, redundant labels will be dropped, see <code>force.labels</code>;
</p>
</li>
<li><p> if <code>x</code> has more unique values than <code>labels</code>, only matching values will be labelled, other values remain unlabelled, see <code>force.values</code>;
</p>
</li></ul>

<p>If you only want to change partial value labels, use <code><a href="#topic+add_labels">add_labels</a></code> instead.
Furthermore, see 'Note' in <code><a href="#topic+get_labels">get_labels</a></code>.
</p>


<h3>See Also</h3>

<p>See vignette <a href="../doc/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>
for more details; <code><a href="#topic+set_label">set_label</a></code> to manually set variable labels or
<code><a href="#topic+get_label">get_label</a></code> to get variable labels; <code><a href="#topic+add_labels">add_labels</a></code> to
add additional value labels without replacing the existing ones.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("sjmisc")) {
  dummy &lt;- sample(1:4, 40, replace = TRUE)
  frq(dummy)

  dummy &lt;- set_labels(dummy, labels = c("very low", "low", "mid", "hi"))
  frq(dummy)

  # assign labels with named vector
  dummy &lt;- sample(1:4, 40, replace = TRUE)
  dummy &lt;- set_labels(dummy, labels = c("very low" = 1, "very high" = 4))
  frq(dummy)

  # force using all labels, even if not all labels
  # have associated values in vector
  x &lt;- c(2, 2, 3, 3, 2)
  # only two value labels
  x &lt;- set_labels(x, labels = c("1", "2", "3"))
  x
  frq(x)

  # all three value labels
  x &lt;- set_labels(x, labels = c("1", "2", "3"), force.labels = TRUE)
  x
  frq(x)

  # create vector
  x &lt;- c(1, 2, 3, 2, 4, NA)
  # add less labels than values
  x &lt;- set_labels(x, labels = c("yes", "maybe", "no"), force.values = FALSE)
  x
  # add all necessary labels
  x &lt;- set_labels(x, labels = c("yes", "maybe", "no"), force.values = TRUE)
  x

  # set labels and missings
  x &lt;- c(1, 1, 1, 2, 2, -2, 3, 3, 3, 3, 3, 9)
  x &lt;- set_labels(x, labels = c("Refused", "One", "Two", "Three", "Missing"))
  x
  set_na(x, na = c(-2, 9))
}


if (require("haven") &amp;&amp; require("sjmisc")) {
  x &lt;- labelled(
    c(1:3, tagged_na("a", "c", "z"), 4:1),
    c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
      "Refused" = tagged_na("a"), "Not home" = tagged_na("z"))
  )
  # get current NA values
  x
  get_na(x)
  # lose value labels from tagged NA by default, if not specified
  set_labels(x, labels = c("New Three" = 3))
  # do not drop na
  set_labels(x, labels = c("New Three" = 3), drop.na = FALSE)


  # set labels via named vector,
  # not using all possible values
  data(efc)
  get_labels(efc$e42dep)

  x &lt;- set_labels(
    efc$e42dep,
    labels = c(`independent` = 1,
               `severe dependency` = 2,
               `missing value` = 9)
    )
  get_labels(x, values = "p")
  get_labels(x, values = "p", non.labelled = TRUE)

  # labels can also be set for tagged NA value
  # create numeric vector
  x &lt;- c(1, 2, 3, 4)
  # set 2 and 3 as missing, which will automatically set as
  # tagged NA by 'set_na()'
  x &lt;- set_na(x, na = c(2, 3))
  x
  # set label via named vector just for tagged NA(3)
  set_labels(x, labels = c(`New Value` = tagged_na("3")))

  # setting same value labels to multiple vectors
  dummies &lt;- data.frame(
    dummy1 = sample(1:4, 40, replace = TRUE),
    dummy2 = sample(1:4, 40, replace = TRUE),
    dummy3 = sample(1:4, 40, replace = TRUE)
  )

  # and set same value labels for two of three variables
  test &lt;- set_labels(
    dummies, dummy1, dummy2,
    labels = c("very low", "low", "mid", "hi")
  )
  # see result...
  get_labels(test)
}

# using quasi-quotation
if (require("rlang") &amp;&amp; require("dplyr")) {
  dummies &lt;- data.frame(
    dummy1 = sample(1:4, 40, replace = TRUE),
    dummy2 = sample(1:4, 40, replace = TRUE),
    dummy3 = sample(1:4, 40, replace = TRUE)
  )

  x1 &lt;- "dummy1"
  x2 &lt;- c("so low", "rather low", "mid", "very hi")

  dummies %&gt;%
    val_labels(
      !!x1 := c("really low", "low", "a bit mid", "hi"),
      dummy3 = !!x2
    ) %&gt;%
    get_labels()

  # ... and named vectors to explicitly set value labels
  x2 &lt;- c("so low" = 4, "rather low" = 3, "mid" = 2, "very hi" = 1)
  dummies %&gt;%
    val_labels(
      !!x1 := c("really low" = 1, "low" = 3, "a bit mid" = 2, "hi" = 4),
      dummy3 = !!x2
    ) %&gt;% get_labels(values = "p")
}
</code></pre>

<hr>
<h2 id='set_na'>Replace specific values in vector with NA</h2><span id='topic+set_na'></span>

<h3>Description</h3>

<p>This function replaces specific values of variables with <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_na(x, ..., na, drop.levels = TRUE, as.tag = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_na_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="set_na_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
<tr><td><code id="set_na_+3A_na">na</code></td>
<td>
<p>Numeric vector with values that should be replaced with NA values,
or a character vector if values of factors or character vectors should be
replaced. For labelled vectors, may also be the name of a value label. In
this case, the associated values for the value labels in each vector
will be replaced with <code>NA</code>. <code>na</code> can also be a named vector.
If <code>as.tag = FALSE</code>, values will be replaced only in those variables
that are indicated by the value names (see 'Examples').</p>
</td></tr>
<tr><td><code id="set_na_+3A_drop.levels">drop.levels</code></td>
<td>
<p>Logical, if <code>TRUE</code>, factor levels of values that have
been replaced with <code>NA</code> are dropped. See 'Examples'.</p>
</td></tr>
<tr><td><code id="set_na_+3A_as.tag">as.tag</code></td>
<td>
<p>Logical, if <code>TRUE</code>, values in <code>x</code> will be replaced
by <code>tagged_na</code>, else by usual <code>NA</code> values. Use a named
vector to assign the value label to the tagged NA value (see 'Examples').</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>set_na()</code> converts all values defined in <code>na</code> with
a related <code>NA</code> or tagged NA value (see <code><a href="haven.html#topic+tagged_na">tagged_na()</a></code>).
Tagged <code>NA</code>s work exactly like regular R missing values
except that they store one additional byte of information: a tag,
which is usually a letter (&quot;a&quot; to &quot;z&quot;) or character number (&quot;0&quot; to &quot;9&quot;).
<br /> <br />
<strong>Different NA values for different variables</strong>
<br /> <br />
If <code>na</code> is a named vector <em>and</em> <code>as.tag = FALSE</code>, the names
indicate variable names, and the associated values indicate those values
that should be replaced by <code>NA</code> in the related variable. For instance,
<code>set_na(x, na = c(v1 = 4, v2 = 3))</code> would replace all 4 in <code>v1</code>
with <code>NA</code> and all 3 in <code>v2</code> with <code>NA</code>.
<br /> <br />
If <code>na</code> is a named list <em>and</em> <code>as.tag = FALSE</code>, it is possible
to replace different multiple values by <code>NA</code> for different variables
separately. For example, <code>set_na(x, na = list(v1 = c(1, 4), v2 = 5:7))</code>
would replace all 1 and 4 in <code>v1</code> with <code>NA</code> and all 5 to 7 in
<code>v2</code> with <code>NA</code>.
<br /> <br />
Furthermore, see also 'Details' in <code><a href="#topic+get_na">get_na</a></code>.
</p>


<h3>Value</h3>

<p><code>x</code>, with all values in <code>na</code> being replaced by <code>NA</code>.
If <code>x</code> is a data frame, the complete data frame <code>x</code> will
be returned, with NA's set for variables specified in <code>...</code>;
if <code>...</code> is not specified, applies to all variables in the
data frame.
</p>


<h3>Note</h3>

<p>Labels from values that are replaced with NA and no longer used will be
removed from <code>x</code>, however, other value and variable label
attributes are preserved. For more details on labelled data,
see vignette <a href="https://cran.r-project.org/package=sjlabelled/vignettes/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("sjmisc") &amp;&amp; require("dplyr") &amp;&amp; require("haven")) {
  # create random variable
  dummy &lt;- sample(1:8, 100, replace = TRUE)
  # show value distribution
  table(dummy)
  # set value 1 and 8 as missings
  dummy &lt;- set_na(dummy, na = c(1, 8))
  # show value distribution, including missings
  table(dummy, useNA = "always")

  # add named vector as further missing value
  set_na(dummy, na = c("Refused" = 5), as.tag = TRUE)

  # see different missing types
  print_tagged_na(set_na(dummy, na = c("Refused" = 5), as.tag = TRUE))


  # create sample data frame
  dummy &lt;- data.frame(var1 = sample(1:8, 100, replace = TRUE),
                      var2 = sample(1:10, 100, replace = TRUE),
                      var3 = sample(1:6, 100, replace = TRUE))
  # set value 2 and 4 as missings
  dummy %&gt;% set_na(na = c(2, 4)) %&gt;% head()
  dummy %&gt;% set_na(na = c(2, 4), as.tag = TRUE) %&gt;% get_na()
  dummy %&gt;% set_na(na = c(2, 4), as.tag = TRUE) %&gt;% get_values()

  data(efc)
  dummy &lt;- data.frame(
    var1 = efc$c82cop1,
    var2 = efc$c83cop2,
    var3 = efc$c84cop3
  )
  # check original distribution of categories
  lapply(dummy, table, useNA = "always")
  # set 3 to NA for two variables
  lapply(set_na(dummy, var1, var3, na = 3), table, useNA = "always")


  # if 'na' is a named vector *and* 'as.tag = FALSE', different NA-values
  # can be specified for each variable
  set.seed(1)
  dummy &lt;- data.frame(
    var1 = sample(1:8, 10, replace = TRUE),
    var2 = sample(1:10, 10, replace = TRUE),
    var3 = sample(1:6, 10, replace = TRUE)
  )
  dummy

  # Replace "3" in var1 with NA, "5" in var2 and "6" in var3
  set_na(dummy, na = c(var1 = 3, var2 = 5, var3 = 6))

  # if 'na' is a named list *and* 'as.tag = FALSE', for each
  # variable different multiple NA-values can be specified
  set_na(dummy, na = list(var1 = 1:3, var2 = c(7, 8), var3 = 6))


  # drop unused factor levels when being set to NA
  x &lt;- factor(c("a", "b", "c"))
  x
  set_na(x, na = "b", as.tag = TRUE)
  set_na(x, na = "b", drop.levels = FALSE, as.tag = TRUE)

  # set_na() can also remove a missing by defining the value label
  # of the value that should be replaced with NA. This is in particular
  # helpful if a certain category should be set as NA, however, this category
  # is assigned with different values accross variables
  x1 &lt;- sample(1:4, 20, replace = TRUE)
  x2 &lt;- sample(1:7, 20, replace = TRUE)
  x1 &lt;- set_labels(x1, labels = c("Refused" = 3, "No answer" = 4))
  x2 &lt;- set_labels(x2, labels = c("Refused" = 6, "No answer" = 7))

  tmp &lt;- data.frame(x1, x2)
  get_labels(tmp)
  table(tmp, useNA = "always")

  get_labels(set_na(tmp, na = "No answer"))
  table(set_na(tmp, na = "No answer"), useNA = "always")

  # show values
  tmp
  set_na(tmp, na = c("Refused", "No answer"))
}
</code></pre>

<hr>
<h2 id='term_labels'>Retrieve labels of model terms from regression models</h2><span id='topic+term_labels'></span><span id='topic+get_term_labels'></span><span id='topic+response_labels'></span><span id='topic+get_dv_labels'></span>

<h3>Description</h3>

<p>This function retrieves variable labels from model terms. In case
of categorical variables, where one variable has multiple dummies,
variable name and category value is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>term_labels(
  models,
  mark.cat = FALSE,
  case = NULL,
  prefix = c("none", "varname", "label"),
  ...
)

get_term_labels(
  models,
  mark.cat = FALSE,
  case = NULL,
  prefix = c("none", "varname", "label"),
  ...
)

response_labels(models, case = NULL, multi.resp = FALSE, mv = FALSE, ...)

get_dv_labels(models, case = NULL, multi.resp = FALSE, mv = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="term_labels_+3A_models">models</code></td>
<td>
<p>One or more fitted regression models. May also be glm's or
mixed models.</p>
</td></tr>
<tr><td><code id="term_labels_+3A_mark.cat">mark.cat</code></td>
<td>
<p>Logical, if <code>TRUE</code>, the returned vector has an
attribute with logical values, which indicate whether a label indicates
the value from a factor category (attribute value is <code>TRUE</code>) or
a term's variable labels (attribute value is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="term_labels_+3A_case">case</code></td>
<td>
<p>Desired target case. Labels will automatically converted into the
specified character case. See <code><a href="snakecase.html#topic+to_any_case">to_any_case()</a></code> for
more details on this argument.</p>
</td></tr>
<tr><td><code id="term_labels_+3A_prefix">prefix</code></td>
<td>
<p>Indicates whether the value labels of categorical variables
should be prefixed, e.g. with the variable name or variable label.
May be abbreviated. See 'Examples',</p>
</td></tr>
<tr><td><code id="term_labels_+3A_...">...</code></td>
<td>
<p>Further arguments passed down to <code>to_any_case()</code>,
like <code>preprocess</code> or <code>postprocess</code>.</p>
</td></tr>
<tr><td><code id="term_labels_+3A_mv">mv</code>, <code id="term_labels_+3A_multi.resp">multi.resp</code></td>
<td>
<p>Logical, if <code>TRUE</code> and <code>models</code> is a multivariate
response model from a <code>brmsfit</code> object, then the labels for each
dependent variable (multiple responses) are returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Typically, the variable labels from model terms are returned. However,
for categorical terms that have estimates for each category, the
value labels are returned as well. As the return value is a named
vector, you can easily use it with <span class="pkg">ggplot2</span>'s <code>scale_*()</code>
functions to annotate plots.
</p>


<h3>Value</h3>

<p>For <code>term_labels()</code>, a (named) character vector with
variable labels of all model terms, which can be used, for instance,
as axis labels to annotate plots. <br /> <br /> For <code>response_labels()</code>,
a character vector with variable labels from all dependent variables
of <code>models</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use data set with labelled data
data(efc)

fit &lt;- lm(barthtot ~ c160age + c12hour + c161sex + c172code, data = efc)
term_labels(fit)

# make "education" categorical
if (require("sjmisc")) {
  efc$c172code &lt;- to_factor(efc$c172code)
  fit &lt;- lm(barthtot ~ c160age + c12hour + c161sex + c172code, data = efc)
  term_labels(fit)

  # prefix value of categorical variables with variable name
  term_labels(fit, prefix = "varname")

  # prefix value of categorical variables with value label
  term_labels(fit, prefix = "label")

  # get label of dv
  response_labels(fit)
}
</code></pre>

<hr>
<h2 id='tidy_labels'>Repair value labels</h2><span id='topic+tidy_labels'></span>

<h3>Description</h3>

<p>Duplicated value labels in variables may cause troubles when
saving labelled data, or computing cross tabs (cf.
<code>sjmisc::flat_table()</code> or <code>sjPlot::plot_xtab()</code>).
<code>tidy_labels()</code> repairs duplicated value labels by suffixing
them with the associated value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_labels(x, ..., sep = "_", remove = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tidy_labels_+3A_x">x</code></td>
<td>
<p>A vector or data frame.</p>
</td></tr>
<tr><td><code id="tidy_labels_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
<tr><td><code id="tidy_labels_+3A_sep">sep</code></td>
<td>
<p>String that will be used to separate the suffixed value from the
old label when creating the new value label.</p>
</td></tr>
<tr><td><code id="tidy_labels_+3A_remove">remove</code></td>
<td>
<p>Logical, if <code>TRUE</code>, the original, duplicated value label will
be replaced by the value (i.e. the value is not the suffix of the
value label, but will become the value label itself). The
<code>sep</code>-argument will be ignored in such cases.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, with &quot;repaired&quot; (unique) value labels for each variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("sjmisc")) {
  set.seed(123)
  x &lt;- set_labels(
    sample(1:5, size = 20, replace = TRUE),
    labels = c("low" = 1, ".." = 2, ".." = 3, ".." = 4, "high" = 5)
  )
  frq(x)

  z &lt;- tidy_labels(x)
  frq(z)

  z &lt;- tidy_labels(x, sep = ".")
  frq(z)

  z &lt;- tidy_labels(x, remove = TRUE)
  frq(z)
}
</code></pre>

<hr>
<h2 id='unlabel'>Convert labelled vectors into normal classes</h2><span id='topic+unlabel'></span>

<h3>Description</h3>

<p>This function converts <code>labelled</code> class vectors
into a generic data format, which means that simply all <code>labelled</code>
class attributes will be removed, so all vectors / variables will most
likely become <code>atomic</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unlabel(x, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unlabel_+3A_x">x</code></td>
<td>
<p>A data frame, which contains <code>labelled</code> class
vectors or a single vector of class <code>labelled</code>.</p>
</td></tr>
<tr><td><code id="unlabel_+3A_verbose">verbose</code></td>
<td>
<p>Logical, if <code>TRUE</code>, a progress bar is displayed that indicates
the progress of converting the imported data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame or single vector (depending on <code>x</code>) with common object classes.
</p>


<h3>Note</h3>

<p>This function is currently only used to avoid possible compatibility issues
with <code><a href="haven.html#topic+labelled">labelled</a></code> class vectors. Some known issues with
<code>labelled</code> class vectors have already been fixed, so
it might be that this function will become redundant in the future.
</p>

<hr>
<h2 id='write_spss'>Write data to other statistical software packages</h2><span id='topic+write_spss'></span><span id='topic+write_stata'></span><span id='topic+write_sas'></span>

<h3>Description</h3>

<p>These functions write the content of a data frame to an SPSS, SAS or
Stata-file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_spss(x, path, drop.na = FALSE, compress = FALSE)

write_stata(x, path, drop.na = FALSE, version = 14)

write_sas(x, path, drop.na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_spss_+3A_x">x</code></td>
<td>
<p>A data frame that should be saved as file.</p>
</td></tr>
<tr><td><code id="write_spss_+3A_path">path</code></td>
<td>
<p>File path of the output file.</p>
</td></tr>
<tr><td><code id="write_spss_+3A_drop.na">drop.na</code></td>
<td>
<p>Logical, if <code>TRUE</code>, tagged <code>NA</code> values with value labels
will be converted to regular NA's. Else, tagged <code>NA</code> values will be replaced
with their value labels. See 'Examples' and <code><a href="#topic+get_na">get_na</a></code>.</p>
</td></tr>
<tr><td><code id="write_spss_+3A_compress">compress</code></td>
<td>
<p>Logical, if <code>TRUE</code> and a SPSS-file should be created,
saves <code>x</code> in <code>zsav</code> (i.e. compressed SPSS) format.</p>
</td></tr>
<tr><td><code id="write_spss_+3A_version">version</code></td>
<td>
<p>File version to use. Supports versions 8-14.</p>
</td></tr>
</table>

<hr>
<h2 id='zap_na_tags'>Convert tagged NA values into regular NA</h2><span id='topic+zap_na_tags'></span>

<h3>Description</h3>

<p>Replaces all <code><a href="haven.html#topic+tagged_na">tagged_na()</a></code> values with
regular <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zap_na_tags(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zap_na_tags_+3A_x">x</code></td>
<td>
<p>A <code><a href="haven.html#topic+labelled">labelled()</a></code> vector with <code>tagged_na</code>
values, or a data frame with such vectors.</p>
</td></tr>
<tr><td><code id="zap_na_tags_+3A_...">...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's select-helpers.
See 'Examples'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, where all <code>tagged_na</code> values are converted to <code>NA</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("haven")) {
  x &lt;- labelled(
    c(1:3, tagged_na("a", "c", "z"), 4:1),
    c("Agreement" = 1, "Disagreement" = 4, "First" = tagged_na("c"),
      "Refused" = tagged_na("a"), "Not home" = tagged_na("z"))
  )
  # get current NA values
  x
  get_na(x)
  zap_na_tags(x)
  get_na(zap_na_tags(x))

  # also works with non-labelled vector that have tagged NA values
  x &lt;- c(1:5, tagged_na("a"), tagged_na("z"), NA)
  haven::print_tagged_na(x)
  haven::print_tagged_na(zap_na_tags(x))
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

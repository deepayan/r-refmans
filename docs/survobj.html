<!DOCTYPE html><html lang="en-US"><head><title>Help for package survobj</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {survobj}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#survobj-package'><p>survobj: Objects to Simulate Survival Times</p></a></li>
<li><a href='#censor_event'><p>Censor of events</p></a></li>
<li><a href='#fx_h_time'><p>Functions to help in time conversion</p></a></li>
<li><a href='#is_single_number'><p>Confirm is a single number</p></a></li>
<li><a href='#nhpp'><p>Generate random recurrent episodes under a non homogeneous Poisson process</p></a></li>
<li><a href='#renewal'><p>Generate random recurrent episodes under a renewal Poisson process</p></a></li>
<li><a href='#s_exponential'><p>Factory of SURVIVAL objects with Exponential distributions</p></a></li>
<li><a href='#s_factory'><p>Factory of objects of class SURVIVAL</p></a></li>
<li><a href='#s_gompertz'><p>Factory of SURVIVAL objects with Gompertz distributions</p></a></li>
<li><a href='#s_loglogistic'><p>Factory of SURVIVAL objects with Log Logistic distributions</p></a></li>
<li><a href='#s_lognormal'><p>Factory of SURVIVAL objects with Log Normal distributions</p></a></li>
<li><a href='#s_piecewise'><p>Factory of SURVIVAL objects with Piecewise Exponential distributions</p></a></li>
<li><a href='#s_weibull'><p>Factory of SURVIVAL objects with Weibull distributions</p></a></li>
<li><a href='#sfx'><p>Functions for SURVIVAL objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Objects to Simulate Survival Times</td>
</tr>
<tr>
<td>Version:</td>
<td>3.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Generate objects that simulate survival times. Random values for the distributions are generated using the method described by Bender (2003) <a href="https://epub.ub.uni-muenchen.de/id/eprint/1716">https://epub.ub.uni-muenchen.de/id/eprint/1716</a> and Leemis (1987) in Operations Research, 35(6), 892–894.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, spelling, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, tidyr, ggplot2, survival</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://johnaponte.github.io/survobj/">https://johnaponte.github.io/survobj/</a>,
<a href="https://github.com/johnaponte/survobj">https://github.com/johnaponte/survobj</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/johnaponte/survobj/issues">https://github.com/johnaponte/survobj/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-16 16:29:50 UTC; master</td>
</tr>
<tr>
<td>Author:</td>
<td>Aponte John <a href="https://orcid.org/0000-0002-3014-3673"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Aponte John &lt;john.j.aponte@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-16 16:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='survobj-package'>survobj: Objects to Simulate Survival Times</h2><span id='topic+survobj'></span><span id='topic+survobj-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Generate objects that simulate survival times. Random values for the distributions are generated using the method described by Bender (2003) <a href="https://epub.ub.uni-muenchen.de/id/eprint/1716">https://epub.ub.uni-muenchen.de/id/eprint/1716</a> and Leemis (1987) in Operations Research, 35(6), 892–894.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Aponte John <a href="mailto:john.j.aponte@gmail.com">john.j.aponte@gmail.com</a> (<a href="https://orcid.org/0000-0002-3014-3673">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://johnaponte.github.io/survobj/">https://johnaponte.github.io/survobj/</a>
</p>
</li>
<li> <p><a href="https://github.com/johnaponte/survobj">https://github.com/johnaponte/survobj</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/johnaponte/survobj/issues">https://github.com/johnaponte/survobj/issues</a>
</p>
</li></ul>


<hr>
<h2 id='censor_event'>Censor of events</h2><span id='topic+censor_event'></span><span id='topic+censor_time'></span>

<h3>Description</h3>

<p>if censor_time &lt; time, event is change to 0, otherwise not changed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censor_event(censor_time, time, event)

censor_time(censor_time, time)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censor_event_+3A_censor_time">censor_time</code></td>
<td>
<p>the time to censor</p>
</td></tr>
<tr><td><code id="censor_event_+3A_time">time</code></td>
<td>
<p>the time variable where the censor_time is applied</p>
</td></tr>
<tr><td><code id="censor_event_+3A_event">event</code></td>
<td>
<p>the variable with the event. It can be initialized in the
call with a value for all times.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>if censor_time &lt; time, time is changed to censor_time, otherwise no change
</p>
<p>Be careful and do not overwrite the time variable with the censor time variable
to not loose track of the events
</p>


<h3>Value</h3>

<p>censored time or event
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>censor_time()</code>: Censor time
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>

# Typical workflow in a simulation of survival time.
# Simulate time to event (sim_t_event)
# and simulates the time to lost to follow up (tim_t_ltof)
# the simulation time frame is 1, so everything after 1 is censored

require(dplyr)
data.frame(
  sim_t_event = c(0.5,0.6,1,10,20),
  sim_t_ltof = c(2,0.5,2,2,0.8)
 ) |&gt;
 mutate(sevent = censor_event(1,sim_t_event,sim_event=1)) |&gt;
 mutate(stime = censor_time(1,sim_t_event)) |&gt;
 mutate(event = censor_event(sim_t_ltof, stime, sevent)) |&gt;
 mutate(timeto = censor_time(sim_t_ltof, stime))

</code></pre>

<hr>
<h2 id='fx_h_time'>Functions to help in time conversion</h2><span id='topic+fx_h_time'></span><span id='topic+dtom'></span><span id='topic+mtod'></span><span id='topic+dtoy'></span><span id='topic+ytod'></span><span id='topic+mtoy'></span><span id='topic+ytom'></span>

<h3>Description</h3>

<p>This set of functions help in the time conversion, taking into account
generic times and not specific times. The conversions are based on the
assumption that 1 year is 365.25 days and is 12 months. There is no
adjustment for lap days or ours or difference of days between months
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dtom(x)

mtod(x)

dtoy(x)

ytod(x)

mtoy(x)

ytom(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fx_h_time_+3A_x">x</code></td>
<td>
<p>the time to convert</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the converted time
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>dtom()</code>: convert days to months
</p>
</li>
<li> <p><code>mtod()</code>: convert months to days
</p>
</li>
<li> <p><code>dtoy()</code>: convert days to years
</p>
</li>
<li> <p><code>ytod()</code>: convert years to days
</p>
</li>
<li> <p><code>mtoy()</code>: convert months to year
</p>
</li>
<li> <p><code>ytom()</code>: convert years to months
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>dtom(365.25)
mtod(12)
dtoy(165.25)
ytod(1)
mtoy(12)
ytom(365.25)
</code></pre>

<hr>
<h2 id='is_single_number'>Confirm is a single number</h2><span id='topic+is_single_number'></span>

<h3>Description</h3>

<p>Evaluates if the argument is a single number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_single_number(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_single_number_+3A_x">x</code></td>
<td>
<p>a variable to evaluate</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if is a single number, <code>FALSE</code> otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_single_number(3)  #TRUE
is_single_number(c(3,3,3)) #FALSE
is_single_number(list(a=3)) #FALSE
is_single_number("3") #FALSE
</code></pre>

<hr>
<h2 id='nhpp'>Generate random recurrent episodes under a non homogeneous Poisson process</h2><span id='topic+nhpp'></span><span id='topic+nhpphr'></span><span id='topic+nhppaft'></span>

<h3>Description</h3>

<p>Generate a random draws from the distribution of recurrent set of survival
times under a a non homogeneous Poisson process following Leemis (1987)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhpphr(SURVIVAL, hr, prevtime)

nhppaft(SURVIVAL, aft, prevtime)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nhpp_+3A_survival">SURVIVAL</code></td>
<td>
<p>Object of survival class</p>
</td></tr>
<tr><td><code id="nhpp_+3A_hr">hr</code></td>
<td>
<p>Vector of hazard ratios</p>
</td></tr>
<tr><td><code id="nhpp_+3A_prevtime">prevtime</code></td>
<td>
<p>Vector of previous survival times</p>
</td></tr>
<tr><td><code id="nhpp_+3A_aft">aft</code></td>
<td>
<p>Vector of accelerated failure ratios</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of survival times
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>nhpphr()</code>: Recurrent episodes under a proportional hazard model
</p>
</li>
<li> <p><code>nhppaft()</code>: Recurrent episodes under an accelerated failure time model
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>s_obj &lt;- s_exponential(fail = 0.4, t = 1)
hr &lt;- c(1,1,0.5,0.5)
time1 &lt;- rsurvhr(s_obj, hr)
time2 &lt;- nhpphr(s_obj,hr, time1)

s_obj &lt;- s_exponential(fail = 0.4, t = 1)
aft &lt;- c(1,1,0.5,0.5)
timea &lt;- rsurvaft(s_obj, aft)
timeb &lt;- nhppaft(s_obj, aft, timea)
</code></pre>

<hr>
<h2 id='renewal'>Generate random recurrent episodes under a renewal Poisson process</h2><span id='topic+renewal'></span><span id='topic+renewhr'></span><span id='topic+renewaft'></span>

<h3>Description</h3>

<p>Generate a random draws from the distribution of recurrent set of survival
times under a renewal Poisson process following Leemis (1987)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renewhr(SURVIVAL, hr, prevtime)

renewaft(SURVIVAL, prevtime, aft)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="renewal_+3A_survival">SURVIVAL</code></td>
<td>
<p>Object of survival class</p>
</td></tr>
<tr><td><code id="renewal_+3A_hr">hr</code></td>
<td>
<p>Vector of hazard ratios</p>
</td></tr>
<tr><td><code id="renewal_+3A_prevtime">prevtime</code></td>
<td>
<p>Vector of previous survival times</p>
</td></tr>
<tr><td><code id="renewal_+3A_aft">aft</code></td>
<td>
<p>Vector of accelerated failure time ratios</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of survival times
</p>
<p>Vector of survival times
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>renewhr()</code>: Recurrent episodes under a proportional hazard model
</p>
</li>
<li> <p><code>renewaft()</code>: Recurrent episodes under an accelerated failure time model
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>s_obj &lt;- s_exponential(fail = 0.4, t = 1)
hr &lt;- c(1,1,0.5,0.5)
time1 &lt;- rsurvhr(s_obj, hr)
time2 &lt;- renewhr(s_obj, hr, time1)

s_obj2 &lt;- s_exponential(fail = 0.4, t = 1)
aft &lt;- c(1,1,0.5,0.5)
timea &lt;- rsurvaft(s_obj2, aft)
timeb &lt;- renewaft(s_obj2, aft, timea)
</code></pre>

<hr>
<h2 id='s_exponential'>Factory of SURVIVAL objects with Exponential distributions</h2><span id='topic+s_exponential'></span>

<h3>Description</h3>

<p>Creates a SURVIVAL object with an Exponential distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_exponential(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s_exponential_+3A_...">...</code></td>
<td>
<p>Parameters to define the distribution. See the Parameters for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SURVIVAL object of the exponential distribution family. See the
documentation of <code>s_factory</code> for the methods available for SURVIVAL objects
</p>


<h3>Parameters</h3>

<p>To create an exponential survival object the following
options are available:
</p>
<p><em><code>lambda</code></em> to specify the canonical parameter of the distribution, or
</p>
<p><em><code>surv</code></em> and <em><code>t</code></em> for the proportion surviving (no events) at time t, or
</p>
<p><em><code>fail</code></em> and <em><code>t</code></em> for the proportion failing (events) at time t
</p>
<p>lambda = -log(surv)/t
</p>
<p>lambda = -log(1-fail)/t
</p>
<p>The parameters should be spell correctly as partial matching is not available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>s_exponential(lambda = 3)
s_exponential(surv = 0.4, t = 2)
s_exponential(fail = 0.6, t = 2)
</code></pre>

<hr>
<h2 id='s_factory'>Factory of objects of class SURVIVAL</h2><span id='topic+s_factory'></span>

<h3>Description</h3>

<p>Create objects of the class SURVIVAL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_factory(s_family, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s_factory_+3A_s_family">s_family</code></td>
<td>
<p>a factory for a specific distribution</p>
</td></tr>
<tr><td><code id="s_factory_+3A_...">...</code></td>
<td>
<p>parameters to define the survival distribution</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The objects of the class SURVIVAL define different distributions of
survival times. Each class has its own set of parameters but once the
SURVIVAL object is defined, they have access to the same functions to
calculate:
</p>

<ul>
<li><p> survival time function: <code>sfx()</code>,
</p>
</li>
<li><p> hazard time function: <code>hfx()</code>,
</p>
</li>
<li><p> cumulative hazard function: <code>Cum_Hfx()</code>
</p>
</li>
<li><p> the inverse of the cumulative hazard function: <code>invCum_Hfx()</code>.
</p>
</li>
<li><p> generate random survival times: <code>rsurv()</code>
</p>
</li>
<li><p> generate random survival times under proportional hazard ratio: <code>rsurvhr()</code>.
</p>
</li></ul>

<p>There several functions to plot the distributions
</p>

<ul>
<li><p> generic S3:  <code>plot.SURVIVAL()</code>
</p>
</li>
<li> <p><code>plot_survival()</code>: to plot the functions
</p>
</li>
<li> <p><code>ggplot_survival_random()</code>: to ggplot random draws from the distribution
</p>
</li>
<li> <p><code>compare_survival()</code>:  to compare the functions of two SURVIVAL objects
</p>
</li></ul>



<h3>Value</h3>

<p>a SURVIVAL object
</p>


<h3>Distributions</h3>

<p>The current factories are implemented:
</p>

<ul>
<li> <p><code>s_exponential()</code>: for Exponential distributions
</p>
</li>
<li> <p><code>s_weibull()</code>: for Weibull distributions
</p>
</li>
<li> <p><code>s_gompertz()</code>: for Gompertz distributions
</p>
</li>
<li> <p><code>s_picewise()</code>: for Piecewise exponential distributions
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Define a SURVIVAL object
obj &lt;- s_factory(s_exponential, lambda = 2)

# Survival, Hazard and Cumulative hazard at time 0.4
sfx(SURVIVAL = obj, t= 0.4)
hfx(SURVIVAL = obj, t = 0.4)
Cum_Hfx(SURVIVAL = obj, t = 0.4)

# Time when the Cumulative hazard is 0.8
invCum_Hfx(SURVIVAL = obj, H = 0.8)

# Draw one random survival time from the distribution
rsurv(SURVIVAL = obj, n = 1)

# Draw one random survival time from the distribution, with hazard ratio 0.5
rsurvhr(SURVIVAL = obj, hr = 0.5)

# Plot the survival functions
plot(obj)
</code></pre>

<hr>
<h2 id='s_gompertz'>Factory of SURVIVAL objects with Gompertz distributions</h2><span id='topic+s_gompertz'></span>

<h3>Description</h3>

<p>Creates a SURVIVAL object with an Gompertz distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_gompertz(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s_gompertz_+3A_...">...</code></td>
<td>
<p>Parameters to define the distribution. See the Parameters for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SURVIVAL object of the Gompertz distribution family. See the
documentation of <code>s_factory</code> for the methods available for SURVIVAL objects
</p>


<h3>Parameters</h3>

<p>To create an exponential survival object the following
options are available:
</p>
<p><em><code>scale</code></em> and <em><code>shape</code></em> to specify the canonical parameter of the distribution, or
</p>
<p><em><code>surv</code></em>, <em><code>t</code></em> and <em><code>shape</code></em>  for the proportion surviving (no events) at time t and shape, or
</p>
<p><em><code>fail</code></em> and <em><code>t</code></em> and <em><code>shape</code></em> for the proportion failing (events) at time t and shape.
</p>
<p>scale = -log(surv)·shape/(exp(shape·t))
</p>
<p>scale = -log(1-fail)·shape/(exp(shape·t))
</p>
<p>The parameters should be spell correctly as partial matching is not available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>s_gompertz(scale = 1, shape = 1.5)
s_gompertz(surv = 0.4, t = 2, shape = 1.5)
s_gompertz(fail = 0.6, t = 2, shape = 1.5)
</code></pre>

<hr>
<h2 id='s_loglogistic'>Factory of SURVIVAL objects with Log Logistic distributions</h2><span id='topic+s_loglogistic'></span>

<h3>Description</h3>

<p>Creates a SURVIVAL object with a Log Logistic distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_loglogistic(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s_loglogistic_+3A_...">...</code></td>
<td>
<p>Parameters to define the distribution. See the Parameters for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SURVIVAL object of the log-logistic distribution family. See the
documentation of <code>s_factory</code> for the methods available for SURVIVAL objects
</p>


<h3>Parameters</h3>

<p>To create an exponential survival object the following
options are available:
</p>
<p><em><code>scale</code></em> and <em><code>shape</code></em> to specify the canonical parameters of the distribution, or
</p>
<p><em><code>surv</code></em>, <em><code>t</code></em> and <em><code>shape</code></em> for the proportion surviving (no events) at time t and the shape parameter, or
</p>
<p><em><code>fail</code></em>, <em><code>t</code></em> and <em><code>shape</code></em> for the proportion failing (events) at time t and the shape parameter or
</p>
<p><em><code>intercept</code></em> and <em><code>scale</code></em> for the parameters returned by <code>survreg(.., dist = "loglogistic")</code> models.
</p>
<p>The parameters should be spell correctly as partial matching is not available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>s_loglogistic(scale = 2,shape = 2)
s_loglogistic(surv = 0.6, t= 12, shape = 0.5)
s_loglogistic(fail = 0.4, t = 12, shape =0.5)
s_loglogistic(intercept = 0.4, scale = 0.5)
</code></pre>

<hr>
<h2 id='s_lognormal'>Factory of SURVIVAL objects with Log Normal distributions</h2><span id='topic+s_lognormal'></span>

<h3>Description</h3>

<p>Creates a SURVIVAL object with a Log Normal distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_lognormal(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s_lognormal_+3A_...">...</code></td>
<td>
<p>Parameters to define the distribution. See the Parameters for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SURVIVAL object of the log-normal distribution family. See the
documentation of <code>s_factory</code> for the methods available for SURVIVAL objects
</p>


<h3>Parameters</h3>

<p>To create an exponential survival object the following
options are available:
</p>
<p><em><code>scale</code></em> and <em><code>shape</code></em> to specify the canonical parameters of the distribution, or
</p>
<p><em><code>surv</code></em>, <em><code>t</code></em> and <em><code>shape</code></em> for the proportion surviving (no events) at time t and the shape parameter, or
</p>
<p><em><code>fail</code></em>, <em><code>t</code></em> and <em><code>shape</code></em> for the proportion failing (events) at time t and the shape parameter or
</p>
<p><em><code>intercept</code></em> and <em><code>shape</code></em> for the parameters returned by <code>survreg(.., dist = "lognormal")</code> models.
</p>
<p>The scale parameter is the median value of the distribution, and the shape is the log standard deviation
</p>
<p>The parameters should be spell correctly as partial matching is not available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>s_lognormal(scale = 2,shape = 2)
s_lognormal(surv = 0.6, t= 12, shape = 0.5)
s_lognormal(fail = 0.4, t = 12, shape =0.5)
s_lognormal(intercept = 0.4, scale = 0.5)
</code></pre>

<hr>
<h2 id='s_piecewise'>Factory of SURVIVAL objects with Piecewise Exponential distributions</h2><span id='topic+s_piecewise'></span>

<h3>Description</h3>

<p>Creates a SURVIVAL object with an Piecewise Exponential distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_piecewise(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s_piecewise_+3A_...">...</code></td>
<td>
<p>Parameters to define the distribution. See the Parameters for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SURVIVAL object of the piecewise exponential distribution family. See the
documentation of <code>s_factory</code> for the methods available for SURVIVAL objects
</p>


<h3>Parameters</h3>

<p>To create an piecewise exponential survival object the following
options are available:
</p>
<p><em><code>breaks</code></em> and <em><code>hazards</code></em> to specify the exponential (constant) hazard until each break, or
</p>
<p><em><code>surv</code></em>, <em><code>breaks</code></em> and <em><code>segments</code></em> for the proportion surviving (no events) at the end of last segment or
</p>
<p><em><code>fail</code></em>, <em><code>breaks</code></em> and <em><code>segments</code></em> for the proportion failing (events) at the end of last segment
</p>
<p>If <em><code>surv</code></em> or <em><code>fail</code></em> parameters are indicated, the <em><code>segments</code></em> are scaled to hazards in order
to mach the surviving or failing proportion at the end of the last segment.
</p>
<p>Define the last break point as <code>Inf</code> to fully define the distribution, otherwise
an error will be produce if function after the last break is requested
</p>
<p>The parameters should be spell correctly as partial matching is not available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>s_piecewise(breaks = c(1,2,3,Inf), hazards = c(0.5,0.6,0.5,0.1))
s_piecewise(surv = 0.4, breaks = c(1,2,3,Inf), segments = c(1,2,1,2))
s_piecewise(fail = 0.6, breaks = c(1,2,3,Inf), segments = c(1,2,1,2))
</code></pre>

<hr>
<h2 id='s_weibull'>Factory of SURVIVAL objects with Weibull distributions</h2><span id='topic+s_weibull'></span>

<h3>Description</h3>

<p>Creates a SURVIVAL object with a Weibull distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_weibull(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="s_weibull_+3A_...">...</code></td>
<td>
<p>Parameters to define the distribution. See the Parameters for details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SURVIVAL object of the Weibull distribution family. See the
documentation of <code>s_factory</code> for the methods available for SURVIVAL objects
</p>


<h3>Parameters</h3>

<p>To create an exponential survival object the following
options are available:
</p>
<p><em><code>scale</code></em> and <em><code>shape</code></em> to specify the canonical parameters of the distribution, or
</p>
<p><em><code>surv</code></em>, <em><code>t</code></em> and <em><code>shape</code></em> for the proportion surviving (no events) at time t and the shape parameter, or
</p>
<p><em><code>fail</code></em>, <em><code>t</code></em> and <em><code>shape</code></em> for the proportion failing (events) at time t and the shape parameter or
</p>
<p><em><code>intercept</code></em> and <em><code>scale</code></em> for the parameters returned by <code>survreg(.., dist = "weibull")</code> models.
</p>
<p>scale = -log(surv)/(t^shape)
</p>
<p>scale = -log(1-fail)/(t^shape)
</p>
<p>The parameters should be spell correctly as partial matching is not available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>s_weibull(scale = 2,shape = 2)
s_weibull(surv = 0.6, t= 12, shape = 0.5)
s_weibull(fail = 0.4, t = 12, shape =0.5)
s_weibull(intercept = 0.4, scale = 0.5)
</code></pre>

<hr>
<h2 id='sfx'>Functions for SURVIVAL objects</h2><span id='topic+sfx'></span><span id='topic+hfx'></span><span id='topic+Cum_Hfx'></span><span id='topic+invCum_Hfx'></span><span id='topic+rsurv'></span><span id='topic+rsurvhr'></span><span id='topic+rsurvaft'></span><span id='topic+rsurvah'></span><span id='topic+plot_survival'></span><span id='topic+ggplot_survival_random'></span><span id='topic+compare_survival'></span><span id='topic+ggplot_survival_hr'></span><span id='topic+ggplot_survival_aft'></span><span id='topic+ggplot_survival_ah'></span>

<h3>Description</h3>

<p>All the SURVIVAL objects have access to the functions described here
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sfx(SURVIVAL, t)

hfx(SURVIVAL, t)

Cum_Hfx(SURVIVAL, t)

invCum_Hfx(SURVIVAL, H)

rsurv(SURVIVAL, n)

rsurvhr(SURVIVAL, hr)

rsurvaft(SURVIVAL, aft)

rsurvah(SURVIVAL, aft, hr)

plot_survival(SURVIVAL, timeto, main)

ggplot_survival_random(SURVIVAL, timeto, subjects, nsim, alpha = 0.1)

compare_survival(SURVIVAL1, SURVIVAL2, timeto, main)

ggplot_survival_hr(SURVIVAL, hr, timeto, subjects, nsim, alpha = 0.1)

ggplot_survival_aft(SURVIVAL, aft, timeto, subjects, nsim, alpha = 0.1)

ggplot_survival_ah(SURVIVAL, aft, hr, timeto, subjects, nsim, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sfx_+3A_survival">SURVIVAL</code></td>
<td>
<p>a SURVIVAL object</p>
</td></tr>
<tr><td><code id="sfx_+3A_t">t</code></td>
<td>
<p>Time</p>
</td></tr>
<tr><td><code id="sfx_+3A_h">H</code></td>
<td>
<p>cumulative hazard</p>
</td></tr>
<tr><td><code id="sfx_+3A_n">n</code></td>
<td>
<p>number of observations</p>
</td></tr>
<tr><td><code id="sfx_+3A_hr">hr</code></td>
<td>
<p>hazard ratio</p>
</td></tr>
<tr><td><code id="sfx_+3A_aft">aft</code></td>
<td>
<p>accelerated failure time</p>
</td></tr>
<tr><td><code id="sfx_+3A_timeto">timeto</code></td>
<td>
<p>plot the distribution up to timeto</p>
</td></tr>
<tr><td><code id="sfx_+3A_main">main</code></td>
<td>
<p>title of the graph</p>
</td></tr>
<tr><td><code id="sfx_+3A_subjects">subjects</code></td>
<td>
<p>number of subjects per group to simulate in each simulation</p>
</td></tr>
<tr><td><code id="sfx_+3A_nsim">nsim</code></td>
<td>
<p>number of simulations</p>
</td></tr>
<tr><td><code id="sfx_+3A_alpha">alpha</code></td>
<td>
<p>alpha value for the graph</p>
</td></tr>
<tr><td><code id="sfx_+3A_survival1">SURVIVAL1</code></td>
<td>
<p>a SURVIVAL object</p>
</td></tr>
<tr><td><code id="sfx_+3A_survival2">SURVIVAL2</code></td>
<td>
<p>a SURVIVAL object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on the function a proportion surviving, hazard,
cumulative hazard, inverse of the cumulative hazard, a random draw or a plot
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>sfx()</code>: Survival function
</p>
</li>
<li> <p><code>hfx()</code>: Hazard function
</p>
</li>
<li> <p><code>Cum_Hfx()</code>: Cumulative Hazard function
</p>
</li>
<li> <p><code>invCum_Hfx()</code>: Inverse of the Cumulative Hazard function
</p>
</li>
<li> <p><code>rsurv()</code>: Generate random values from the distribution
</p>
</li>
<li> <p><code>rsurvhr()</code>: Generate random values from the distribution under proportional hazard ratios
</p>
</li>
<li> <p><code>rsurvaft()</code>: Generate random values from the distribution under accelerated failure time ratios
</p>
</li>
<li> <p><code>rsurvah()</code>: Generate random values from the distribution under accelerated hazard ratios
</p>
</li>
<li> <p><code>plot_survival()</code>: Plot of the survival functions
</p>
</li>
<li> <p><code>ggplot_survival_random()</code>: ggplot of the simulation of survival times
</p>
</li>
<li> <p><code>compare_survival()</code>: Compare graphically two survival distributions
</p>
</li>
<li> <p><code>ggplot_survival_hr()</code>: ggplot of the simulation of survival times with hazard ratios
</p>
</li>
<li> <p><code>ggplot_survival_aft()</code>: ggplot of the simulation of survival times with accelerated time failures
</p>
</li>
<li> <p><code>ggplot_survival_ah()</code>: ggplot of the simulation of survival times with accelerated hazard
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>#' # Define a SURVIVAL object
obj &lt;- s_factory(s_weibull, surv = 0.8, t = 2, shape = 1.2)

# Survival, Hazard and Cumulative hazard at time 0.4
sfx(SURVIVAL = obj, t= 0.4)
hfx(SURVIVAL = obj, t = 0.4)
Cum_Hfx(SURVIVAL = obj, t = 0.4)

# Time when the Cumulative hazard is 0.8
invCum_Hfx(SURVIVAL = obj, H = 0.8)

# Draw one random survival time from the distribution
rsurv(SURVIVAL = obj, n = 1)

# Draw one random survival time from the distribution under Proportional
# hazard, Accelerated time failure or Accelerated hazard.
rsurvhr(SURVIVAL = obj, hr = 0.5)
rsurvaft(SURVIVAL = obj, aft = 2)
rsurvah(SURVIVAL = obj, aft = 2, hr = 0.5)

# Plot the survival functions
plot_survival(SURVIVAL = obj, timeto = 2, main = "Example of Weibull distribution" )

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

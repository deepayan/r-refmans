<!DOCTYPE html><html lang="en"><head><title>Help for package rebus.datetimes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rebus.datetimes}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_weekdays'><p>Get the days of the week or months of the year</p></a></li>
<li><a href='#IsoClasses'><p>ISO 8601 date-time classes</p></a></li>
<li><a href='#OPT_LEADING_0'><p>Date-time regexes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Date and Time Extensions for the 'rebus' Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-10-16</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Cotton [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Cotton &lt;richierocks@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Build regular expressions piece by piece using human readable code.
    This package contains date and time functionality, and is primarily intended
    to be used by package developers.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rebus.base</td>
</tr>
<tr>
<td>Suggests:</td>
<td>stats, testthat</td>
</tr>
<tr>
<td>License:</td>
<td>Unlimited</td>
</tr>
<tr>
<td>Collate:</td>
<td>'imports.R' 'datetime-constants.R' 'datetime.R'
'iso-classes.R'</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-03 20:16:48 UTC; richie</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-03 20:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_weekdays'>Get the days of the week or months of the year</h2><span id='topic+get_weekdays'></span><span id='topic+get_months'></span>

<h3>Description</h3>

<p>Get the names of the days of the week in a given locale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_weekdays(abbreviate = FALSE, locale = NULL, from = Sys.Date())

get_months(abbreviate = FALSE, locale = NULL, from = Sys.Date())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_weekdays_+3A_abbreviate">abbreviate</code></td>
<td>
<p>A logical value indicating whether or not to return
abbreviated names (if they are available).</p>
</td></tr>
<tr><td><code id="get_weekdays_+3A_locale">locale</code></td>
<td>
<p>A string denoting the name of the locale to retrieve names in,
or <code>NULL</code> to use the current locale.</p>
</td></tr>
<tr><td><code id="get_weekdays_+3A_from">from</code></td>
<td>
<p>Date to use for the first day/month.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing a regular expression of the names of the days of
the week, separated by pipes.  The first day of the week will be the current
day.
</p>


<h3>Note</h3>

<p>See <code><a href="base.html#topic+Sys.setlocale">Sys.setlocale</a></code> and
<a href="https://stackoverflow.com/q/20960821/134830">https://stackoverflow.com/q/20960821/134830</a> and
<a href="https://stackoverflow.com/q/26603564/134830">https://stackoverflow.com/q/26603564/134830</a> for how to specify
the locale.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_weekdays()
get_weekdays(TRUE)
get_months()
get_months(TRUE)
## Not run: 
if(.Platform$OS.type == "windows")
{
  get_weekdays(locale = "French_France")
  get_weekdays(TRUE, locale = "French_France")
  get_weekdays(locale = "Arabic_Qatar")
  get_weekdays(TRUE, locale = "Arabic_Qatar")
} else
{
  get_weekdays(locale = "fr_FR.utf8")
  get_weekdays(TRUE, locale = "fr_FR.utf8")
  get_weekdays(locale = "ar_QA.utf8")
  get_weekdays(TRUE, locale = "ar_QA.utf8")
}

## End(Not run)
</code></pre>

<hr>
<h2 id='IsoClasses'>ISO 8601 date-time classes</h2><span id='topic+IsoClasses'></span><span id='topic+iso_date'></span><span id='topic+IsoDateTime'></span><span id='topic+iso_time'></span><span id='topic+iso_datetime'></span>

<h3>Description</h3>

<p>Match ISO 8601 date and time classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iso_date(lo, hi, char_class = TRUE)

iso_time(lo, hi, char_class = TRUE)

iso_datetime(lo, hi, char_class = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="IsoClasses_+3A_lo">lo</code></td>
<td>
<p>A non-negative integer. Minimum number of repeats, when grouped.</p>
</td></tr>
<tr><td><code id="IsoClasses_+3A_hi">hi</code></td>
<td>
<p>positive integer. Maximum number of repeats, when grouped.</p>
</td></tr>
<tr><td><code id="IsoClasses_+3A_char_class">char_class</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>. Should the values be wrapped
into a character class?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector representing part or all of a regular expression.
</p>


<h3>References</h3>

<p><a href="http://www.iso.org/iso/iso8601">http://www.iso.org/iso/iso8601</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>iso_date()
iso_time()
iso_datetime()

# With repetition
iso_date(3, 6)
iso_time(1, Inf)
iso_datetime(0, Inf)

# Without a class wrapper
iso_date(char_class = FALSE)
</code></pre>

<hr>
<h2 id='OPT_LEADING_0'>Date-time regexes</h2><span id='topic+OPT_LEADING_0'></span><span id='topic+DTSEP'></span><span id='topic+CENTURY'></span><span id='topic+CENTURY_IN'></span><span id='topic+YEAR'></span><span id='topic+YEAR2'></span><span id='topic+YEAR4'></span><span id='topic+MONTH'></span><span id='topic+MONTH_IN'></span><span id='topic+WEEK_OF_YEAR'></span><span id='topic+WEEK_OF_YEAR_IN'></span><span id='topic+DAY'></span><span id='topic+DAY_IN'></span><span id='topic+DAY_SINGLE'></span><span id='topic+DAY_OF_YEAR'></span><span id='topic+DAY_OF_YEAR_IN'></span><span id='topic+WEEKDAY1'></span><span id='topic+WEEKDAY0'></span><span id='topic+HOUR24'></span><span id='topic+HOUR24_SINGLE'></span><span id='topic+HOUR24_IN'></span><span id='topic+HOUR12'></span><span id='topic+HOUR12_SINGLE'></span><span id='topic+HOUR12_IN'></span><span id='topic+MINUTE'></span><span id='topic+MINUTE_IN'></span><span id='topic+SECOND'></span><span id='topic+SECOND_IN'></span><span id='topic+FRACTIONAL_SECOND'></span><span id='topic+FRACTIONAL_SECOND_IN'></span><span id='topic+AM_PM'></span><span id='topic+TIMEZONE_OFFSET'></span><span id='topic+TIMEZONE'></span><span id='topic+ISO_DATE'></span><span id='topic+ISO_DATE_IN'></span><span id='topic+ISO_TIME'></span><span id='topic+ISO_TIME_IN'></span><span id='topic+ISO_DATETIME'></span><span id='topic+ISO_DATETIME_IN'></span><span id='topic+YMD'></span><span id='topic+YMD_IN'></span><span id='topic+YDM'></span><span id='topic+YDM_IN'></span><span id='topic+MYD'></span><span id='topic+MYD_IN'></span><span id='topic+MDY'></span><span id='topic+MDY_IN'></span><span id='topic+DYM'></span><span id='topic+DYM_IN'></span><span id='topic+DMY'></span><span id='topic+DMY_IN'></span><span id='topic+HMS'></span><span id='topic+HMS_IN'></span><span id='topic+HM'></span><span id='topic+HM_IN'></span><span id='topic+MS'></span><span id='topic+MS_IN'></span><span id='topic+DateTime'></span><span id='topic+datetime'></span>

<h3>Description</h3>

<p>Compound regex constants for matching ISO 8601 dates and times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OPT_LEADING_0

DTSEP

CENTURY

CENTURY_IN

YEAR

YEAR2

YEAR4

MONTH

MONTH_IN

WEEK_OF_YEAR

WEEK_OF_YEAR_IN

DAY

DAY_IN

DAY_SINGLE

DAY_OF_YEAR

DAY_OF_YEAR_IN

WEEKDAY1

WEEKDAY0

HOUR24

HOUR24_SINGLE

HOUR24_IN

HOUR12

HOUR12_SINGLE

HOUR12_IN

MINUTE

MINUTE_IN

SECOND

SECOND_IN

FRACTIONAL_SECOND

FRACTIONAL_SECOND_IN

AM_PM

TIMEZONE_OFFSET

TIMEZONE

ISO_DATE

ISO_DATE_IN

ISO_TIME

ISO_TIME_IN

ISO_DATETIME

ISO_DATETIME_IN

YMD

YMD_IN

YDM

YDM_IN

MYD

MYD_IN

MDY

MDY_IN

DYM

DYM_IN

DMY

DMY_IN

HMS

HMS_IN

HM

HM_IN

MS

MS_IN

datetime(x, locale = NULL, io = c("output", "input"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="OPT_LEADING_0_+3A_x">x</code></td>
<td>
<p>A <code><a href="base.html#topic+strptime">strptime</a></code>-style date-time format string.</p>
</td></tr>
<tr><td><code id="OPT_LEADING_0_+3A_locale">locale</code></td>
<td>
<p>A string specifying a locale.</p>
</td></tr>
<tr><td><code id="OPT_LEADING_0_+3A_io">io</code></td>
<td>
<p>Are you trying to match output or input?  The latter is less
strict about leading zeroes and spaces.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>
<p>An object of class <code>regex</code> (inherits from <code>character</code>) of length 1.
</p>


<h3>Value</h3>

<p>A character vector representing part or all of a regular expression.
</p>


<h3>Note</h3>

<p><code>"%O[dHImMUVwWy]"</code>, <code>"%E[cCyYxX]"</code>, <code>"%x"</code>, <code>"%X"</code>
and <code>"%+"</code> are supposed to be locale-dependent upon output,
but implementing this in an OS-portable way seems to be much more effort
than it's worth.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+strptime">strptime</a></code> that describes formatting codes,
<code><a href="rebus.base.html#topic+ClassGroups">ClassGroups</a></code>, <code><a href="base.html#topic+Sys.setlocale">Sys.setlocale</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datetime("%m/%d/%Y")             # match US style dates
twelve_or_twentyfour &lt;- rebus.base::or("%H", "%I%p")
datetime(twelve_or_twentyfour) # match hours in 24h or 12h format

## Not run: 
# week days and months can be matched in any locale
if(.Platform$OS.type == "windows")
{
  fr_FR &lt;- "French_France"
  ar_QA &lt;- "Arabic_Qatar"
} else if(Sys.info()["sysname"] != "Darwin") # mac
{
  fr_FR &lt;- "fr_FR"
  ar_QA &lt;- "ar_QA"
} else if(Sys.info()["sysname"] != "Linux")
{
  fr_FR &lt;- "fr_FR.utf8"
  ar_QA &lt;- "ar_QA.utf8"
}
datetime("%a %A %b %B", fr_FR)
datetime("%a %A %b %B", ar_QA)

# All letter tokens.  Lots of output.
x &lt;- paste0("%", c(letters, LETTERS))
stats::setNames(datetime(x), x)

## End(Not run)

# Individual date-time components
DTSEP             # optional selected punctuation or space
CENTURY           # exactly two digits
YEAR              # one to four digits
YEAR2             # exactly two digits
YEAR4             # exactly four digits
MONTH             # number from 1 to 12, leading zero
WEEK_OF_YEAR      # number from 0 to 53, leading zero
DAY               # number from 1 to 31, leading zero
DAY_SINGLE        # leading space
HOUR24            # 24 hour clock, leading zero
HOUR12            # 12 hour clock, leading zero
HOUR24_SINGLE     # 24 hour clock, leading space
HOUR12_SINGLE     # 12 hour clock, leading space
MINUTE            # number from 0 to 59, leading zero
SECOND            # number from 0 to 61 (leap seconds), leading zero
FRACTIONAL_SECOND # a second optional decimal point and up to 6 digits
AM_PM             # AM or PM, any case
TIMEZONE_OFFSET   # optional plus or minus, then four digits
TIMEZONE          # Any value returned by OlsonNames()
# ISO 8601 formats
ISO_DATE          # %Y-%m-%d
ISO_TIME          # %H:%M:%S
ISO_DATETIME      # ISO_DATE followed by ISO_TIME, separated by space or "T".
# Compound forms, separated by DTSEP
YMD
YDM
MYD
MDY
DYM
DMY
HMS
HM
MS

# Some forms have less strict alternatives for input (with an '_IN' suffix).
CENTURY_IN
MONTH_IN
WEEK_OF_YEAR_IN
DAY_IN
HOUR24_IN
HOUR12_IN
MINUTE_IN
SECOND_IN
FRACTIONAL_SECOND_IN
ISO_DATE_IN
ISO_TIME_IN
ISO_DATETIME_IN
YMD_IN
YDM_IN
MYD_IN
MDY_IN
DYM_IN
DMY_IN
HMS_IN
HM_IN
MS_IN

dates &lt;- seq(as.Date("2000-01-01"), as.Date("2001-01-01"), "1 day")
datetimes &lt;- seq(as.POSIXct(Sys.Date()), as.POSIXct(Sys.Date() + 1), "1 sec")
times &lt;- substring(format(datetimes), 12, 19)
stopifnot(
  all(grepl(ISO_DATE, dates)),
  all(grepl(ISO_TIME, times)),
  all(grepl(ISO_DATETIME, datetimes))
)
non_dates &lt;- c(
  "2000-13-01", "2000-01-32", "2000-00-01", "2000-01-00"
)
non_times &lt;- c(
  "24:00:00", "23:60:59", "23:59:62", "23 59 59"
)
stopifnot(
  all(!grepl(ISO_DATE, non_dates)),
  all(!grepl(ISO_TIME, non_times))
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

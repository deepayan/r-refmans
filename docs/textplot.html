<!DOCTYPE html><html lang="en"><head><title>Help for package textplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {textplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#example_btm'><p>Example Biterm Topic Model</p></a></li>
<li><a href='#example_embedding'><p>Example word embedding matrix</p></a></li>
<li><a href='#example_embedding_clusters'><p>Example words emitted in a ETM text clustering model</p></a></li>
<li><a href='#example_udpipe'><p>Example annotation of text using udpipe</p></a></li>
<li><a href='#plot.BTM'><p>Plot function for a BTM object</p></a></li>
<li><a href='#textplot_bar'><p>Barplot of a frequency table using lattice</p></a></li>
<li><a href='#textplot_bitermclusters'><p>Plot biterm cluster groups</p></a></li>
<li><a href='#textplot_cooccurrence'><p>Plot term cooccurrences as a network</p></a></li>
<li><a href='#textplot_correlation_glasso'><p>Plot sparse term correlations as a graph structure</p></a></li>
<li><a href='#textplot_correlation_lines'><p>Document/Term Correlation Plot</p></a></li>
<li><a href='#textplot_correlation_lines_attrs'><p>Document/Term Correlation Plot graphical attributes</p></a></li>
<li><a href='#textplot_dependencyparser'><p>Plot output of a dependency parser</p></a></li>
<li><a href='#textplot_embedding_2d'><p>Plot word embeddings in 2D</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Text Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jan Wijffels &lt;jwijffels@bnosac.be&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Visualise complex relations in texts. This is done by providing functionalities for displaying 
    text co-occurrence networks, text correlation networks, dependency relationships as well as text clustering and semantic text 'embeddings'. 
    Feel free to join the effort of providing interesting text visualisations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bnosac/textplot">https://github.com/bnosac/textplot</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, methods, lattice, stats, Matrix, graphics, data.table
(&ge; 1.9.6)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, udpipe, BTM, igraph, graph, Rgraphviz, qgraph, glasso,
ggplot2, ggraph, ggforce, concaveman, ggrepel, ggalt, uwot</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-07-17 19:09:33 UTC; jwijf</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan Wijffels [aut, cre, cph],
  BNOSAC [cph],
  Sacha Epskamp [ctb, cph] (code in R/matrix_reduction.R adapted from the
    qgraph package version 1.4.0 which is GPL-2 licensed),
  Ingo Feinerer and Kurt Hornik [ctb, cph] (partial code in
    R/textplot_corlines.R adapted from the tm package version 0.4 which
    is GPL-2 licensed)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-07-17 20:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='example_btm'>Example Biterm Topic Model</h2><span id='topic+example_btm'></span>

<h3>Description</h3>

<p>The object is a BTM topic model created with the BTM package.
It was created on a subset of all CRAN packages, namely package which
are part of the NaturalLanguageProcessing and MachineLearning task views.<br />
Timepoint of creation was 2020-04-10.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(BTM)
data(example_btm, package = 'textplot')
example_btm
str(example_btm)

</code></pre>

<hr>
<h2 id='example_embedding'>Example word embedding matrix</h2><span id='topic+example_embedding'></span>

<h3>Description</h3>

<p>A matrix with 25-dimensional word embeddings, constructed upon the be_parliament_2020 dataset in the doc2vec R package
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(example_embedding, package = 'textplot')
head(example_embedding)
</code></pre>

<hr>
<h2 id='example_embedding_clusters'>Example words emitted in a ETM text clustering model</h2><span id='topic+example_embedding_clusters'></span>

<h3>Description</h3>

<p>Example words emitted in a ETM text clustering model constructed upon the be_parliament_2020 dataset in the doc2vec R package
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(example_embedding_clusters, package = 'textplot')
head(example_embedding_clusters)
terminology &lt;- split(example_embedding_clusters, example_embedding_clusters$cluster)
lapply(terminology, head, n = 5)
</code></pre>

<hr>
<h2 id='example_udpipe'>Example annotation of text using udpipe</h2><span id='topic+example_udpipe'></span>

<h3>Description</h3>

<p>The object is a data.frame of the annotation of the text:
&quot;UDPipe provides tokenization, tagging, lemmatization and dependency parsing of raw text&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(example_udpipe)
str(example_udpipe)
</code></pre>

<hr>
<h2 id='plot.BTM'>Plot function for a BTM object</h2><span id='topic+plot.BTM'></span>

<h3>Description</h3>

<p>Plot biterms as a clustered graph.
The graph is constructed by assigning each word to a topic and within a topic of words biterm frequencies are shown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'BTM'
plot(
  x,
  biterms = terms(x, type = "biterms")$biterms,
  top_n = 7,
  which,
  labels = seq_len(x$K),
  title = "Biterm topic model",
  subtitle = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.BTM_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="BTM.html#topic+BTM">BTM</a></code> with a biterm topic model</p>
</td></tr>
<tr><td><code id="plot.BTM_+3A_biterms">biterms</code></td>
<td>
<p>a data.frame with columns term1, term2, topic with all biterms and the topic these were assigned to. Defaults to the biterms used to construct the model.</p>
</td></tr>
<tr><td><code id="plot.BTM_+3A_top_n">top_n</code></td>
<td>
<p>integer indicating to limit to displaying the top_n terms for each topic. Defaults to 7.</p>
</td></tr>
<tr><td><code id="plot.BTM_+3A_which">which</code></td>
<td>
<p>integer vector indicating to display only these topics. See the examples.</p>
</td></tr>
<tr><td><code id="plot.BTM_+3A_labels">labels</code></td>
<td>
<p>a character vector of names. Should be of the same length as the number of topics in the data.</p>
</td></tr>
<tr><td><code id="plot.BTM_+3A_title">title</code></td>
<td>
<p>character string with the title to use in the plot</p>
</td></tr>
<tr><td><code id="plot.BTM_+3A_subtitle">subtitle</code></td>
<td>
<p>character string with the subtitle to use in the plot</p>
</td></tr>
<tr><td><code id="plot.BTM_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class ggplot
</p>


<h3>See Also</h3>

<p><code><a href="BTM.html#topic+BTM">BTM</a></code>, <code><a href="#topic+textplot_bitermclusters.default">textplot_bitermclusters.default</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(igraph)
library(BTM)
library(ggraph)
library(ggforce)
library(concaveman)
data(example_btm, package = 'textplot')

model &lt;- example_btm

plot(model, title = "BTM model", top_n = 3)
plot(model, title = "BTM model", top_n = 3, labels = 1:model$K)
plot(model, title = "BTM model", which = 7:15)
plot(model, title = "BTM model", subtitle = "First 5 topics",
     which = 1:5, top_n = 10)
plot(model, title = "Biterm topic model", subtitle = "First 8 topics",
     which = 1:8, top_n = 7)


topiclabels &lt;- c("Garbage",
  "Data Mining", "Gradient descent", "API's",
  "Random Forests", "Stat models", "Text Mining / NLP",
  "GLM / GAM / Bayesian", "Machine learning", "Variable selection",
  "Regularisation techniques", "Optimisation", "Fuzzy logic",
  "Classification/Regression trees", "Text frequencies",
  "Neural / Deep learning", "Variable selection",
  "Text file handling", "Text matching", "Topic modelling")
plot(model, title = "Biterm topic model", subtitle = "some topics",
     top_n = 7,
     which = c(3, 4, 5, 6, 7, 9, 12, 16, 20),
     labels = topiclabels)


library(BTM)
library(data.table)
library(udpipe)
## Annotate text with parts of speech tags
data("brussels_reviews", package = "udpipe")
anno &lt;- subset(brussels_reviews, language %in% "nl")
anno &lt;- data.frame(doc_id = anno$id, text = anno$feedback, stringsAsFactors = FALSE)
anno &lt;- udpipe(anno, "dutch", trace = 10)
## Get cooccurrences of nouns / adjectives and proper nouns
biterms &lt;- as.data.table(anno)
biterms &lt;- biterms[, cooccurrence(x = lemma,
                                  relevant = upos %in% c("NOUN", "PROPN", "ADJ"),
                                  skipgram = 2),
                     by = list(doc_id)]
## Build the BTM model
set.seed(123456)
x &lt;- subset(anno, upos %in% c("NOUN", "PROPN", "ADJ"))
x &lt;- x[, c("doc_id", "lemma")]
model &lt;- BTM(x, k = 5, beta = 0.01, iter = 2000, background = TRUE,
             biterms = biterms, trace = 100)
plot(model)



</code></pre>

<hr>
<h2 id='textplot_bar'>Barplot of a frequency table using lattice</h2><span id='topic+textplot_bar'></span><span id='topic+textplot_bar.default'></span>

<h3>Description</h3>

<p>Barplot of a frequency table using lattice
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_bar(x, ...)

## Default S3 method:
textplot_bar(
  x,
  panel = "Effect",
  total = sum(x),
  top = 40,
  col.panel = "lightgrey",
  col.line = "lightblue",
  lwd = 3,
  cextext = 0.5,
  addpct = FALSE,
  cexpct = 0.75,
  textpos = 3,
  pctpos = 1,
  v = NULL,
  col.abline = "red",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_bar_+3A_x">x</code></td>
<td>
<p>a table to plot or a data.frame with the first column the label and the second column the frequency</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>lattice::dotplot</code></p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_panel">panel</code></td>
<td>
<p>character string what to put into the panel</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_total">total</code></td>
<td>
<p>integer with the total. Defaults to sum(x). Is used to plot the table counts as a percentage. In which case this is divided by the total.</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_top">top</code></td>
<td>
<p>integer indicating to plot only the first 'top' table elements. Defaults to 40.</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_col.panel">col.panel</code></td>
<td>
<p>color of the panel. Defaults to lightgrey.</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_col.line">col.line</code></td>
<td>
<p>color of the line. Passed on to the col argument in <code>lattice::panel.lines</code></p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_lwd">lwd</code></td>
<td>
<p>width of the line. Passed on to the lwd argument in <code>lattice::panel.lines</code></p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_cextext">cextext</code></td>
<td>
<p>numeric with the cex of the text with the counts plotted. Passed on to <code>lattice::panel.text</code>.</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_addpct">addpct</code></td>
<td>
<p>logical indicating to add the percent with <code>lattice::panel.text</code></p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_cexpct">cexpct</code></td>
<td>
<p>numeric with the cex of the text plotted when using addpct. Passed on to <code>lattice::panel.text</code>.</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_textpos">textpos</code></td>
<td>
<p>passed on to the pos argument of panel.text to indicate where to put the text of the frequencies</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_pctpos">pctpos</code></td>
<td>
<p>passed on to the pos argument of panel.text to indicate where to put the text of the percentages</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_v">v</code></td>
<td>
<p>passed on to <code>lattice::panel.abline</code> to draw a vertical line</p>
</td></tr>
<tr><td><code id="textplot_bar_+3A_col.abline">col.abline</code></td>
<td>
<p>passed on to <code>lattice::panel.abline</code> to draw a vertical line</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the result of a call to <code>lattice::dotplot</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(brussels_listings, package = 'udpipe')
x &lt;- table(brussels_listings$neighbourhood)
x &lt;- sort(x)
textplot_bar(x,
 panel = "Locations", col.panel = "darkgrey", xlab = "Listings",
 cextext = 0.75, addpct = TRUE, cexpct = 0.5)


x &lt;- sample(LETTERS, 1000, replace = TRUE)
textplot_bar(sort(table(x)), panel = "Frequencies", xlab = "Frequency",
   cextext = 0.75, main = "Freq stats")
textplot_bar(sort(table(x)), panel = "Frequencies", addpct = TRUE, top = 15)

## x can also be a data.frame where the first column
## is the label and the second column the frequency
x &lt;- data.frame(l = LETTERS, amount = rnorm(26))
textplot_bar(x)
textplot_bar(x, v = 0)
</code></pre>

<hr>
<h2 id='textplot_bitermclusters'>Plot biterm cluster groups</h2><span id='topic+textplot_bitermclusters'></span><span id='topic+textplot_bitermclusters.default'></span>

<h3>Description</h3>

<p>Plot biterms as a clustered graph.
The graph is constructed by assigning each word to a topic and within a topic of words biterm frequencies are shown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_bitermclusters(x, ...)

## Default S3 method:
textplot_bitermclusters(
  x,
  biterms,
  which,
  labels = seq_len(length(table(biterms$topic))),
  title = "Biterm topic model",
  subtitle = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_bitermclusters_+3A_x">x</code></td>
<td>
<p>a list of data.frames, each containing the columns token and probability corresponding to how good a token is emitted by a topic. The list index is assumed to be the topic number</p>
</td></tr>
<tr><td><code id="textplot_bitermclusters_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
<tr><td><code id="textplot_bitermclusters_+3A_biterms">biterms</code></td>
<td>
<p>a data.frame with columns term1, term2, topic with all biterms and the topic these were assigned to</p>
</td></tr>
<tr><td><code id="textplot_bitermclusters_+3A_which">which</code></td>
<td>
<p>integer vector indicating to display only these topics. See the examples.</p>
</td></tr>
<tr><td><code id="textplot_bitermclusters_+3A_labels">labels</code></td>
<td>
<p>a character vector of names. Should be of the same length as the number of topics in the data.</p>
</td></tr>
<tr><td><code id="textplot_bitermclusters_+3A_title">title</code></td>
<td>
<p>character string with the title to use in the plot</p>
</td></tr>
<tr><td><code id="textplot_bitermclusters_+3A_subtitle">subtitle</code></td>
<td>
<p>character string with the subtitle to use in the plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(igraph)
library(ggraph)
library(concaveman)
library(ggplot2)
library(BTM)
data(example_btm, package = 'textplot')
group_terms   &lt;- terms(example_btm, top_n = 3)
group_biterms &lt;- example_btm$biterms$biterms


textplot_bitermclusters(x = group_terms, biterms = group_biterms)
textplot_bitermclusters(x = group_terms, biterms = group_biterms,
                        title = "BTM model", subtitle = "Topics 7-15",
                        which = 7:15, labels = seq_len(example_btm$K))

group_terms   &lt;- terms(example_btm, top_n = 10)
textplot_bitermclusters(x = group_terms, biterms = group_biterms,
                        title = "BTM model", subtitle = "Topics 1-5",
                        which = 1:5, labels = seq_len(example_btm$K))

group_terms   &lt;- terms(example_btm, top_n = 7)
topiclabels &lt;- c("Garbage",
  "Data Mining", "Gradient descent", "API's",
  "Random Forests", "Stat models", "Text Mining / NLP",
  "GLM / GAM / Bayesian", "Machine learning", "Variable selection",
  "Regularisation techniques", "Optimisation", "Fuzzy logic",
  "Classification/Regression trees", "Text frequencies",
  "Neural / Deep learning", "Variable selection",
  "Text file handling", "Text matching", "Topic modelling")
textplot_bitermclusters(x = group_terms, biterms = group_biterms,
                        title = "Biterm topic model", subtitle = "some topics",
                        which = c(3, 4, 5, 6, 7, 9, 12, 16, 20),
                        labels = topiclabels)


</code></pre>

<hr>
<h2 id='textplot_cooccurrence'>Plot term cooccurrences as a network</h2><span id='topic+textplot_cooccurrence'></span><span id='topic+textplot_cooccurrence.default'></span>

<h3>Description</h3>

<p>Plot term cooccurrences in a graph structure
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_cooccurrence(x, ...)

## Default S3 method:
textplot_cooccurrence(
  x,
  terms,
  top_n = 50,
  title = "Term cooccurrences",
  subtitle = list(),
  vertex_color = "darkgreen",
  edge_color = "grey",
  base_family = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_cooccurrence_+3A_x">x</code></td>
<td>
<p>a data.frame with columns term1, term2 and cooc indicating how many times 2 terms are occurring together</p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_...">...</code></td>
<td>
<p>other parameters passed on to <code>ggraph::geom_node_text</code></p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_terms">terms</code></td>
<td>
<p>a character vector with terms to only plot. Prevails compared to using <code>top_n</code></p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_top_n">top_n</code></td>
<td>
<p>integer indicating to show only the top n occurrences as in <code>head(x, n = top_n)</code></p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_title">title</code></td>
<td>
<p>character string with the title to use in the plot</p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_subtitle">subtitle</code></td>
<td>
<p>character string with the subtitle to use in the plot</p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_vertex_color">vertex_color</code></td>
<td>
<p>character with the color of the label of each node. Defaults to darkgreen.</p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_edge_color">edge_color</code></td>
<td>
<p>character with the color of the edges between the nodes. Defaults to grey.</p>
</td></tr>
<tr><td><code id="textplot_cooccurrence_+3A_base_family">base_family</code></td>
<td>
<p>character passed on to <code>theme_void</code> setting the base font family</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(udpipe)
library(igraph)
library(ggraph)
library(ggplot2)
data(brussels_reviews_anno, package = 'udpipe')
x &lt;- subset(brussels_reviews_anno, xpos %in% "JJ" &amp; language %in% "fr")
x &lt;- cooccurrence(x, group = "doc_id", term = "lemma")

textplot_cooccurrence(x, top_n = 25, subtitle = "showing only top 25")
textplot_cooccurrence(x, top_n = 25, title = "Adjectives",
                      vertex_color = "orange", edge_color = "black",
                      fontface = "bold")


</code></pre>

<hr>
<h2 id='textplot_correlation_glasso'>Plot sparse term correlations as a graph structure</h2><span id='topic+textplot_correlation_glasso'></span><span id='topic+textplot_correlation_glasso.default'></span>

<h3>Description</h3>

<p>Plot sparse term correlations as a graph structure.
Uses the glasso procedure (<code>glasso::glassopath</code>) to reduce the correlation matrix to retain only the
relevant correlations and next visualises these sparse correlations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_correlation_glasso(x, ...)

## Default S3 method:
textplot_correlation_glasso(
  x,
  n = 1000,
  exclude_zero = TRUE,
  label.cex = 1,
  node.width = 0.5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_correlation_glasso_+3A_x">x</code></td>
<td>
<p>a correlation matrix</p>
</td></tr>
<tr><td><code id="textplot_correlation_glasso_+3A_...">...</code></td>
<td>
<p>further arguments passed on to <code>qgraph::qgraph</code>,
except layout which is set to 'spring', labels (taken from the colnames of <code>x</code>),
and borders which is set to FALSE.</p>
</td></tr>
<tr><td><code id="textplot_correlation_glasso_+3A_n">n</code></td>
<td>
<p>sample size used in computing the sparse correlation matrix. Defaults to 1000.</p>
</td></tr>
<tr><td><code id="textplot_correlation_glasso_+3A_exclude_zero">exclude_zero</code></td>
<td>
<p>logical indicating to exclude zero-correlations from the graph</p>
</td></tr>
<tr><td><code id="textplot_correlation_glasso_+3A_label.cex">label.cex</code></td>
<td>
<p>passed on to <code>qgraph::qgraph</code></p>
</td></tr>
<tr><td><code id="textplot_correlation_glasso_+3A_node.width">node.width</code></td>
<td>
<p>passed on to <code>qgraph::qgraph</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(udpipe)
library(qgraph)
library(glasso)
data(brussels_reviews_anno, package = 'udpipe')
x &lt;- subset(brussels_reviews_anno, xpos %in% "NN" &amp; language %in% "fr" &amp; !is.na(lemma))
x &lt;- document_term_frequencies(x, document = "doc_id", term = "lemma")
dtm &lt;- document_term_matrix(x)
dtm &lt;- dtm_remove_lowfreq(dtm, maxterms = 60)

m &lt;- dtm_cor(dtm)
textplot_correlation_glasso(m, exclude_zero = TRUE)

textplot_correlation_glasso(m, exclude_zero = FALSE)



</code></pre>

<hr>
<h2 id='textplot_correlation_lines'>Document/Term Correlation Plot</h2><span id='topic+textplot_correlation_lines'></span><span id='topic+textplot_correlation_lines.default'></span>

<h3>Description</h3>

<p>Plots the highest occurring correlations among terms. <br />
This is done by plotting the terms into nodes and the correlations between the terms as lines between the nodes.
Lines of the edges are proportional to the correlation height.
This uses the plot function for graphNEL objects (using the Rgraphviz package)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_correlation_lines(x, ...)

## Default S3 method:
textplot_correlation_lines(
  x,
  terms = colnames(x),
  threshold = 0.05,
  top_n,
  attrs = textplot_correlation_lines_attrs(),
  terms_highlight,
  label = FALSE,
  cex.label = 1,
  col.highlight = "red",
  lwd = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_correlation_lines_+3A_x">x</code></td>
<td>
<p>a document-term matrix of class dgCMatrix</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_...">...</code></td>
<td>
<p>other arguments passed on to plot</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_terms">terms</code></td>
<td>
<p>a character vector with terms present in the columns of <code>x</code> indicating terms to focus on</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_threshold">threshold</code></td>
<td>
<p>a threshold to show only correlations between the terms with absolute values above this threshold. Defaults to 0.05.</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_top_n">top_n</code></td>
<td>
<p>an integer indicating to show only the top top_n correlations. This can be set to plot only the top correlations. E.g. set it to 20 to show only the top 20 correlations
with the highest absolute value.</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_attrs">attrs</code></td>
<td>
<p>a list of attributes with graph visualisation elements passed on to the plot function of an object of class graphNEL.
Defaults to <code><a href="#topic+textplot_correlation_lines_attrs">textplot_correlation_lines_attrs</a></code>.</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_terms_highlight">terms_highlight</code></td>
<td>
<p>a vector of character <code>terms</code> to highlight or a vector of numeric values in the 0-1 range indicating
how much (in percentage) to increase the node font size. See the examples.</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_label">label</code></td>
<td>
<p>logical indicating to draw the label with the correlation size between the nodes</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_cex.label">cex.label</code></td>
<td>
<p>cex of the label of the correlation size</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_col.highlight">col.highlight</code></td>
<td>
<p>color to use for highlighted terms specified in <code>terms_highlight</code>. Defaults to red.</p>
</td></tr>
<tr><td><code id="textplot_correlation_lines_+3A_lwd">lwd</code></td>
<td>
<p>numeric value - graphical parameter used to increase the edge thickness which indicates the correlation strength. Defaults to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisibly the plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Construct document/frequency/matrix
library(graph)
library(Rgraphviz)
library(udpipe)
data(brussels_reviews_anno, package = 'udpipe')
exclude &lt;- c(32337682L, 27210436L, 26820445L, 37658826L, 33661134L, 48756422L,
  23454554L, 30461127L, 23292176L, 32850277L, 30566303L, 21595142L,
  20441279L, 38097066L, 28651065L, 29011387L, 37316020L, 22135291L,
  40169379L, 38627667L, 29470172L, 24071827L, 40478869L, 36825304L,
  21597085L, 21427658L, 7890178L, 32322472L, 39874379L, 32581310L,
  43865675L, 31586937L, 32454912L, 34861703L, 31403168L, 35997324L,
  29002317L, 33546304L, 47677695L)
dtm &lt;- brussels_reviews_anno
dtm &lt;- subset(dtm, !doc_id %in% exclude)
dtm &lt;- subset(dtm, xpos %in% c("NN") &amp; language == "nl" &amp; !is.na(lemma))
dtm &lt;- document_term_frequencies(dtm, document = "doc_id", term = "lemma")
dtm &lt;- document_term_matrix(dtm)
dtm &lt;- dtm_remove_lowfreq(dtm, minfreq = 5)
dtm &lt;- dtm_remove_tfidf(dtm, top = 500)

## Plot top 20 correlations, having at least a correlation of 0.01
textplot_correlation_lines(dtm, top_n = 25, threshold = 0.01)

## Plot top 20 correlations
textplot_correlation_lines(dtm, top_n = 25, label = TRUE, lwd = 5)

## Plot top 20 correlations and highlight some terms
textplot_correlation_lines(dtm, top_n = 25, label = TRUE, lwd = 5,
                           terms_highlight = c("prijs", "privacy"),
                           main = "Top correlations in topic xyz")

## Plot top 20 correlations and highlight + increase some terms
textplot_correlation_lines(dtm, top_n = 25, label = TRUE, lwd=5,
                           terms_highlight = c(prijs = 0.8, privacy = 0.1),
                           col.highlight = "red")

## Plot correlations between specific terms
w &lt;- dtm_colsums(dtm)
w &lt;- head(sort(w, decreasing = TRUE), 100)
textplot_correlation_lines(dtm, terms = names(w), top_n = 20, label = TRUE)

attrs &lt;- textplot_correlation_lines_attrs()
attrs$node$shape &lt;- "rectangle"
attrs$edge$color &lt;- "steelblue"
textplot_correlation_lines(dtm, top_n = 20, label = TRUE,
                           attrs = attrs)


</code></pre>

<hr>
<h2 id='textplot_correlation_lines_attrs'>Document/Term Correlation Plot graphical attributes</h2><span id='topic+textplot_correlation_lines_attrs'></span>

<h3>Description</h3>

<p>Document/Term Correlation Plot graphical attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_correlation_lines_attrs(fontsize = 25)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_correlation_lines_attrs_+3A_fontsize">fontsize</code></td>
<td>
<p>size of the font. Defaults to 25</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with graph visualisation elements used by <code><a href="#topic+textplot_correlation_lines">textplot_correlation_lines</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
textplot_correlation_lines_attrs()

</code></pre>

<hr>
<h2 id='textplot_dependencyparser'>Plot output of a dependency parser</h2><span id='topic+textplot_dependencyparser'></span><span id='topic+textplot_dependencyparser.default'></span>

<h3>Description</h3>

<p>Plot output of a dependency parser.
This plot takes one sentence and shows for the sentence,
the words, the parts of speech tag and the dependency relationship between the words.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_dependencyparser(x, ...)

## Default S3 method:
textplot_dependencyparser(
  x,
  title = "Dependency Parser",
  subtitle = "tokenisation, parts of speech tagging &amp; dependency relations",
  vertex_color = "darkgreen",
  edge_color = "red",
  size = 3,
  base_family = "",
  layout = "linear",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_dependencyparser_+3A_x">x</code></td>
<td>
<p>a data.frame as returned by a call to <code><a href="udpipe.html#topic+udpipe">udpipe</a></code> containing 1 sentence</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_...">...</code></td>
<td>
<p>not used yet</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_title">title</code></td>
<td>
<p>character string with the title to use in the plot</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_subtitle">subtitle</code></td>
<td>
<p>character string with the title to use in the plot</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_vertex_color">vertex_color</code></td>
<td>
<p>character with the color of the label of each node. Defaults to darkgreen.</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_edge_color">edge_color</code></td>
<td>
<p>character with the color of the edges between the nodes. Defaults to red.</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_size">size</code></td>
<td>
<p>size of the labels in the plot. Defaults to 3.</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_base_family">base_family</code></td>
<td>
<p>character passed on to <code>theme_void</code> setting the base font family</p>
</td></tr>
<tr><td><code id="textplot_dependencyparser_+3A_layout">layout</code></td>
<td>
<p>the type of layout, defaults to 'linear', passed on to <code><a href="ggraph.html#topic+ggraph">ggraph</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class ggplot
</p>


<h3>See Also</h3>

<p><code><a href="udpipe.html#topic+udpipe">udpipe</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(udpipe)
library(ggraph)
library(ggplot2)
library(igraph)

x &lt;- udpipe("The economy is weak but the outlook is bright", "english")
textplot_dependencyparser(x)

x &lt;- udpipe("His speech about marshmallows in New York is utter bullshit", "english")
textplot_dependencyparser(x, size = 4)

x &lt;- udpipe("UDPipe provides tokenization, tagging, lemmatization and
             dependency parsing of raw text", "english")
textplot_dependencyparser(x, size = 4)


data("example_udpipe", package = "textplot")
textplot_dependencyparser(example_udpipe, size = 4)


</code></pre>

<hr>
<h2 id='textplot_embedding_2d'>Plot word embeddings in 2D</h2><span id='topic+textplot_embedding_2d'></span><span id='topic+textplot_embedding_2d.default'></span>

<h3>Description</h3>

<p>This plot displays words in 2 dimensions, optionally grouped by cluster.<br />
This allows to visualise embeddings which are reduced by dimensionality reduction techniques like UMAP, t-SNE, PCA or similar techniques.
It allows to highlight the words by groups and is a good way to visualise a small sets of word or topic embeddings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textplot_embedding_2d(x, ...)

## Default S3 method:
textplot_embedding_2d(
  x,
  title = "Embedding plot in 2D",
  subtitle = list(),
  encircle = FALSE,
  points = FALSE,
  alpha = 0.4,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="textplot_embedding_2d_+3A_x">x</code></td>
<td>
<p>a data.frame with columns 'x', 'y', 'term' and optionally 'group' (color by group), 'weight' (size of the text / point shown), 'type' (pch used for the type of point)</p>
</td></tr>
<tr><td><code id="textplot_embedding_2d_+3A_...">...</code></td>
<td>
<p>not used yet</p>
</td></tr>
<tr><td><code id="textplot_embedding_2d_+3A_title">title</code></td>
<td>
<p>character string with the title to use in the plot</p>
</td></tr>
<tr><td><code id="textplot_embedding_2d_+3A_subtitle">subtitle</code></td>
<td>
<p>character string with the subtitle to use in the plot</p>
</td></tr>
<tr><td><code id="textplot_embedding_2d_+3A_encircle">encircle</code></td>
<td>
<p>logical indicating to encircle all the points belonging to a group using <code><a href="ggalt.html#topic+geom_encircle">geom_encircle</a></code></p>
</td></tr>
<tr><td><code id="textplot_embedding_2d_+3A_points">points</code></td>
<td>
<p>logical indicating to add points. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="textplot_embedding_2d_+3A_alpha">alpha</code></td>
<td>
<p>transparancy level passed on to <code><a href="ggalt.html#topic+geom_encircle">geom_encircle</a></code> in case <code>encircle</code> is set to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
library(ggrepel)
library(ggalt)
##
## Generate some fake embeddings
##   probably you want to use word2vec::word2vec(...) + uwot::umap(...)
embeddings &lt;- matrix(runif(26 * 2), nrow = 26, ncol = 2, dimnames = list(letters))
x &lt;- data.frame(term = rownames(embeddings), x = embeddings[, 1], y = embeddings[, 2])

## 2D plot
textplot_embedding_2d(x)

## 2D plot with groups
x$group &lt;- sample(c("clustera", "clusterb", "clusterc"), size = 26, replace = TRUE)
textplot_embedding_2d(x)

## 2D plot with groups and weights for each word
x$weight &lt;- runif(nrow(x))
textplot_embedding_2d(x)
textplot_embedding_2d(x, points = TRUE)

## 2D plot with groups and weights for each word and different types of points
x$type &lt;- sample(c("word", "center"), size = 26, replace = TRUE)
x$type &lt;- factor(x$type, levels = c("word", "center"))
textplot_embedding_2d(x, points = TRUE)
textplot_embedding_2d(x, title = "Embedding plot in 2D", subtitle = "example")

## Encircle the words belonging to each group
textplot_embedding_2d(x, title = "Embedding plot in 2D", subtitle = "example",
                      encircle = TRUE, alpha = 0.2)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package gander</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gander}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gander-package'><p>gander: High Performance, Low Friction Large Language Model Chat</p></a></li>
<li><a href='#gander_addin'><p>Run the gander addin</p></a></li>
<li><a href='#gander_options'><p>Options used by the gander package</p></a></li>
<li><a href='#gander_peek'><p>Interface with the previous gander</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>High Performance, Low Friction Large Language Model Chat</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Introduces a 'Copilot'-like completion experience, but it knows how
    to talk to the objects in your R environment. 'ellmer' chats are integrated 
    directly into your 'RStudio' and 'Positron' sessions, automatically 
    incorporating relevant context from surrounding lines of code and your
    global environment (like data frame columns and types). Open the package 
    dialog box with a keyboard shortcut, type your request, and the assistant 
    will stream its response directly into your documents.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/simonpcouch/gander">https://github.com/simonpcouch/gander</a>,
<a href="https://simonpcouch.github.io/gander/">https://simonpcouch.github.io/gander/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/simonpcouch/gander/issues">https://github.com/simonpcouch/gander/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.6.3), glue (&ge; 1.8.0), ellmer (&ge; 0.1.0), miniUI (&ge;
0.1.1.1), rlang (&ge; 1.1.4), rstudioapi (&ge; 0.17.1), shiny (&ge;
1.9.1), streamy, treesitter, treesitter.r</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gt, knitr, rmarkdown, testthat (&ge; 3.0.0), tibble, withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-18 15:20:37 UTC; simoncouch</td>
</tr>
<tr>
<td>Author:</td>
<td>Simon Couch <a href="https://orcid.org/0000-0001-5676-5107"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Couch &lt;simon.couch@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-19 15:00:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='gander-package'>gander: High Performance, Low Friction Large Language Model Chat</h2><span id='topic+gander'></span><span id='topic+gander-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Introduces a 'Copilot'-like completion experience, but it knows how to talk to the objects in your R environment. 'ellmer' chats are integrated directly into your 'RStudio' and 'Positron' sessions, automatically incorporating relevant context from surrounding lines of code and your global environment (like data frame columns and types). Open the package dialog box with a keyboard shortcut, type your request, and the assistant will stream its response directly into your documents.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Simon Couch <a href="mailto:simon.couch@posit.co">simon.couch@posit.co</a> (<a href="https://orcid.org/0000-0001-5676-5107">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/simonpcouch/gander">https://github.com/simonpcouch/gander</a>
</p>
</li>
<li> <p><a href="https://simonpcouch.github.io/gander/">https://simonpcouch.github.io/gander/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/simonpcouch/gander/issues">https://github.com/simonpcouch/gander/issues</a>
</p>
</li></ul>


<hr>
<h2 id='gander_addin'>Run the gander addin</h2><span id='topic+gander_addin'></span>

<h3>Description</h3>

<p>The gander addin is intended to be called using the RStudio addin rather
than explicitly by the user. See <code>vignette("gander", package = "gander")</code>
to learn more about using the gander addin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gander_addin()
</code></pre>


<h3>Value</h3>

<p>The underlying ellmer Chat, invisibly. Primarily called for its side effects,
modifying the current RStudio editor based on user input. Will error if
no text is entered in the dialog.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Requires an interactive session, access to the RStudio API,
# and an active connection to an LLM API.
gander_addin()

## End(Not run)

</code></pre>

<hr>
<h2 id='gander_options'>Options used by the gander package</h2><span id='topic+gander_options'></span><span id='topic+.gander_fn'></span><span id='topic+.gander_args'></span><span id='topic+.gander_chat'></span><span id='topic+.gander_dims'></span><span id='topic+.gander_style'></span>

<h3>Description</h3>

<p>The gander package makes use of a few notable user-facing options.
</p>


<h3>Choosing models</h3>

<p>gander uses the <code>.gander_chat</code> option to configure which model powers the
addin. <code>.gander_chat</code> is an ellmer Chat object.
For example, to use OpenAI's GPT-4o-mini, you might write
</p>
<div class="sourceCode"><pre>options(.gander_chat = ellmer::chat_claude())
</pre></div>
<p>Paste that code in your <code>.Rprofile</code> via <code>usethis::edit_r_profile()</code> to
always use the same model every time you start an R session.
</p>
<p>The gander package used to use options <code>.gander_fn</code> and <code>.gander_args</code>,
but those are deprecated in favor of <code>.gander_chat</code>.
</p>


<h3>Style/taste</h3>

<p>By default, gander responses use the following style
conventions: &quot;Use tidyverse style and, when relevant, tidyverse packages. For example, when asked to plot something, use ggplot2, or when asked to transform data, using dplyr and/or tidyr unless explicitly instructed otherwise. &quot; Set the <code>.gander_style</code> option to
some other string to tailor responses to your own taste, e.g.:
</p>
<div class="sourceCode r"><pre>options(.gander_style = "Use base R.")
</pre></div>
<p>Paste that code in your
<code>.Rprofile</code> via <code>usethis::edit_r_profile()</code> to always use the same style (or
even always begin with some base set of knowledge about frameworks you
work with often) every time you start an R session.
</p>


<h3>Data context</h3>

<p>By default, gander will show the first 5 rows and 100 columns of every
relevant data frame, allowing for models to pick up on the names, types, and
distributions of the variables it may work with while also keeping the number
of tokens submitted per chat to a minimum. The option <code>.gander_dims</code> allows
you to adjust how many rows and columns to supply to gander addin.
</p>

<ul>
<li><p> For richer context but increasing token usage, increase the number of rows
and columns. For example, to supply the first 50 rows and all columns of
datasets supplied to the model, you could use
<code>options(.gander_dims = c(50, Inf))</code>.
</p>
</li>
<li><p> To decrease token usage, decrease the number of rows and columns, e.g.
<code>options(.gander_dims = c(0, 10))</code> to just show the names and types of the
first 10 columns. One could make the argument that setting the number of rows
to 0 is privacy-preserving, but do note that the model may pick up on the
values of specific cells based on code context alone.
</p>
</li></ul>

<p>Set that option in your <code style="white-space: pre;">&#8288;~/.Rprofile&#8288;</code> to always use that setting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Running the following will adjust R options, so don't run by default:
## Not run: 
# Describe the first 100 rows and every column in relevant data
# frames rather than the first 5 rows and 100 columns (this can
# increase token usage greatly):
options(.gander_dims = c(100, Inf))

# Only describe relevant data frame columns and their types, but don't
# provide any rows:
options(.gander_dims = c(0, Inf))

# Override default tidyverse style to tell the model to prefer another style:
options(.gander_style = "Use base R.")

# Configure gander to use its recommended model, Anthropic's Claude Sonnet
# 3.5. Set this option in your `~/.Rprofile` to always use this setting.
# Note that this requires an `ANTHROPIC_API_KEY` envvar:
options(.gander_chat = ellmer::chat_claude())

## End(Not run)

</code></pre>

<hr>
<h2 id='gander_peek'>Interface with the previous gander</h2><span id='topic+gander_peek'></span>

<h3>Description</h3>

<p><code>gander_peek()</code> returns the ellmer <code>Chat</code> object from the most recent call
to the gander assistant so that you can see what happened under-the-hood.
</p>
<p>Note that gander initializes a new chat every time you invoke the addin,
so the token count and conversation history only describes the most recent
interaction with the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gander_peek()
</code></pre>


<h3>Value</h3>

<p>The ellmer <code>Chat</code> object from the last assistant interaction,
or <code>NULL</code> if no previous interaction exists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# First, run the addin to generate a response.
gander_addin()

# Then, use this function to examine what happened under-the-hood:
gander_peek()

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

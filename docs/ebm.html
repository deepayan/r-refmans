<!DOCTYPE html><html lang="en"><head><title>Help for package ebm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ebm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ebm-package'><p>ebm: Explainable Boosting Machines</p></a></li>
<li><a href='#as.ebm'><p>Coerce to an EBM object</p></a></li>
<li><a href='#ebm'><p>Explainable Boosting Machine (EBM)</p></a></li>
<li><a href='#geom_stepribbon'><p>Step ribbons and area plots</p></a></li>
<li><a href='#install_interpret'><p>Install interpret</p></a></li>
<li><a href='#merge.EBM'><p>Merge method for EBM objects</p></a></li>
<li><a href='#plot.EBM'><p>Interpret plots for fitted EBM objects</p></a></li>
<li><a href='#predict.EBM'><p>Predict method for EBM objects</p></a></li>
<li><a href='#print.EBM'><p>Print model summary</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Explainable Boosting Machines</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An interface to the 'Python' 'InterpretML' framework for fitting explainable boosting machines (EBMs); see Nori et al. (2019) &lt;<a href="https://doi.org/10.48550%2FarXiv.1909.09223">doi:10.48550/arXiv.1909.09223</a>&gt; for details. EBMs are a modern type of generalized additive model that use tree-based, cyclic gradient boosting with automatic interaction detection. They are often as accurate as state-of-the-art blackbox models while remaining completely interpretable.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>reticulate, ggplot2 (&ge; 0.9.0), lattice</td>
</tr>
<tr>
<td>Suggests:</td>
<td>htmltools, ISLR2, knitr, rmarkdown, rstudioapi</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bgreenwell/ebm">https://github.com/bgreenwell/ebm</a>,
<a href="https://bgreenwell.github.io/ebm/">https://bgreenwell.github.io/ebm/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-04 01:32:39 UTC; bgreenwell</td>
</tr>
<tr>
<td>Author:</td>
<td>Brandon M. Greenwell
    <a href="https://orcid.org/0000-0002-8120-0084"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Brandon M. Greenwell &lt;greenwell.brandon@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-05 15:50:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='ebm-package'>ebm: Explainable Boosting Machines</h2><span id='topic+ebm-package'></span>

<h3>Description</h3>

<p>An interface to the 'Python' 'InterpretML' framework for fitting explainable boosting machines (EBMs); see Nori et al. (2019) <a href="https://doi.org/10.48550/arXiv.1909.09223">doi:10.48550/arXiv.1909.09223</a> for details. EBMs are a modern type of generalized additive model that use tree-based, cyclic gradient boosting with automatic interaction detection. They are often as accurate as state-of-the-art blackbox models while remaining completely interpretable.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Brandon M. Greenwell <a href="mailto:greenwell.brandon@gmail.com">greenwell.brandon@gmail.com</a> (<a href="https://orcid.org/0000-0002-8120-0084">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/bgreenwell/ebm">https://github.com/bgreenwell/ebm</a>
</p>
</li>
<li> <p><a href="https://bgreenwell.github.io/ebm/">https://bgreenwell.github.io/ebm/</a>
</p>
</li></ul>


<hr>
<h2 id='as.ebm'>Coerce to an EBM object</h2><span id='topic+as.ebm'></span>

<h3>Description</h3>

<p>If possible, coerces its input to an <a href="#topic+ebm">ebm</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.ebm(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.ebm_+3A_x">x</code></td>
<td>
<p>An object that inherits from class
<code>"interpret.glassbox._ebm._ebm.ExplainableBoostingClassifier"</code> or
<code>"interpret.glassbox._ebm._ebm.ExplainableBoostingRegressor"</code>. For instance,
the result of calling <code>fit$copy()</code> where <code>fit</code> is a fitted <code><a href="#topic+ebm">ebm()</a></code> object.</p>
</td></tr>
<tr><td><code id="as.ebm_+3A_...">...</code></td>
<td>
<p>Additional optional arguments. (Currently ignored.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <a href="#topic+ebm">ebm</a> object that can be used with the associated methods
<code>plot()</code> and so forth.
</p>

<hr>
<h2 id='ebm'>Explainable Boosting Machine (EBM)</h2><span id='topic+ebm'></span>

<h3>Description</h3>

<p>This function is an R wrapper for the explainable boosting functions in the
Python <a href="https://github.com/interpretml/interpret">interpret</a> library. It
trains an Explainable Boosting Machine (EBM) model, which is a tree-based,
cyclic gradient boosting generalized additive model with automatic
interaction detection. EBMs are often as accurate as state-of-the-art
blackbox models while remaining completely interpretable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ebm(
  formula,
  data,
  max_bins = 1024L,
  max_interaction_bins = 64L,
  interactions = 0.9,
  exclude = NULL,
  validation_size = 0.15,
  outer_bags = 16L,
  inner_bags = 0L,
  learning_rate = 0.04,
  greedy_ratio = 10,
  cyclic_progress = FALSE,
  smoothing_rounds = 500L,
  interaction_smoothing_rounds = 100L,
  max_rounds = 25000L,
  early_stopping_rounds = 100L,
  early_stopping_tolerance = 1e-05,
  min_samples_leaf = 4L,
  min_hessian = 0,
  reg_alpha = 0,
  reg_lambda = 0,
  max_delta_step = 0,
  gain_scale = 5,
  min_cat_samples = 10L,
  cat_smooth = 10,
  missing = "separate",
  max_leaves = 2L,
  monotone_constraints = NULL,
  objective = c("auto", "log_loss", "rmse", "poisson_deviance",
    "tweedie_deviance:variance_power=1.5", "gamma_deviance", "pseudo_huber:delta=1.0",
    "rmse_log"),
  n_jobs = -1L,
  random_state = 42L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ebm_+3A_formula">formula</code></td>
<td>
<p>A <a href="stats.html#topic+formula">formula</a> of the form <code>y ~ x1 + x2 + ...</code>.</p>
</td></tr>
<tr><td><code id="ebm_+3A_data">data</code></td>
<td>
<p>A data frame containing the variables in the model.</p>
</td></tr>
<tr><td><code id="ebm_+3A_max_bins">max_bins</code></td>
<td>
<p>Max number of bins per feature for the main effects stage.
Default is 1024.</p>
</td></tr>
<tr><td><code id="ebm_+3A_max_interaction_bins">max_interaction_bins</code></td>
<td>
<p>Max number of bins per feature for interaction
terms. Default is 64.</p>
</td></tr>
<tr><td><code id="ebm_+3A_interactions">interactions</code></td>
<td>
<p>Interaction terms to be included in the model. Default is
0.9. Current options include:
</p>

<ul>
<li><p> Integer (1 &lt;= interactions): Count of interactions to be automatically
selected.
</p>
</li>
<li><p> Percentage (interactions &lt; 1.0): Determine the integer count of
interactions by multiplying the number of features by this percentage.
</p>
</li>
<li><p> List of numeric pairs: The pairs contain the indices of the features within
each additive term. In addition to pairs, the interactions parameter accepts
higher order interactions. It also accepts univariate terms which will cause
the algorithm to boost the main terms at the same time as the interactions.
When boosting mains at the same time as interactions, the <code>exclude</code> parameter
should be set to <code>"mains"</code> and currently <code>max_bins</code> needs to be equal to
<code>max_interaction_bins</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="ebm_+3A_exclude">exclude</code></td>
<td>
<p>Features or terms to be excluded. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ebm_+3A_validation_size">validation_size</code></td>
<td>
<p>Validation set size. Used for early stopping during
boosting, and is needed to create outer bags. Default is 0.15. Options are:
</p>

<ul>
<li><p> Integer (1 &lt;= <code>validation_size</code>): Count of samples to put in the validation
sets.
</p>
</li>
<li><p> Percentage (<code>validation_size</code> &lt; 1.0): Percentage of the data to put in the
validation sets.
</p>
</li>
<li><p> 0: Turns off early stopping. Outer bags have no utility. Error bounds will
</p>
</li></ul>
</td></tr>
<tr><td><code id="ebm_+3A_outer_bags">outer_bags</code></td>
<td>
<p>Number of outer bags. Outer bags are used to generate error bounds and help with smoothing the graphs.</p>
</td></tr>
<tr><td><code id="ebm_+3A_inner_bags">inner_bags</code></td>
<td>
<p>Number of inner bags. Default is 0 which turns off inner
bagging.</p>
</td></tr>
<tr><td><code id="ebm_+3A_learning_rate">learning_rate</code></td>
<td>
<p>Learning rate for boosting. Deafult is 0.04.</p>
</td></tr>
<tr><td><code id="ebm_+3A_greedy_ratio">greedy_ratio</code></td>
<td>
<p>The proportion of greedy boosting steps relative to
cyclic boosting steps. A value of 0 disables greedy boosting, effectively
turning it off. Default is 10.</p>
</td></tr>
<tr><td><code id="ebm_+3A_cyclic_progress">cyclic_progress</code></td>
<td>
<p>This parameter specifies the proportion of the
boosting cycles that will actively contribute to improving the model's
performance. It is expressed as a logical or numeric between 0 and 1, with
the default set to <code>TRUE</code> (1.0), meaning 100% of the cycles are expected to
make forward progress. If forward progress is not achieved during a cycle,
that cycle will not be wasted; instead, it will be used to update internal
gain calculations related to how effective each feature is in predicting the
target variable. Setting this parameter to a value less than 1.0 can be
useful for preventing overfitting. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ebm_+3A_smoothing_rounds">smoothing_rounds</code></td>
<td>
<p>Number of initial highly regularized rounds to set
the basic shape of the main effect feature graphs. Default is 500.</p>
</td></tr>
<tr><td><code id="ebm_+3A_interaction_smoothing_rounds">interaction_smoothing_rounds</code></td>
<td>
<p>Number of initial highly regularized
rounds to set the basic shape of the interaction effect feature graphs during
fitting. Default is 100.</p>
</td></tr>
<tr><td><code id="ebm_+3A_max_rounds">max_rounds</code></td>
<td>
<p>Total number of boosting rounds with <code>n_terms</code> boosting
steps per round. Default is 25000.</p>
</td></tr>
<tr><td><code id="ebm_+3A_early_stopping_rounds">early_stopping_rounds</code></td>
<td>
<p>Number of rounds with no improvement to trigger
early stopping. 0 turns off early stopping and boosting will occur for
exactly <code>max_rounds</code>. Default is 100.</p>
</td></tr>
<tr><td><code id="ebm_+3A_early_stopping_tolerance">early_stopping_tolerance</code></td>
<td>
<p>Tolerance that dictates the smallest delta
required to be considered an improvement which prevents the algorithm from
early stopping. <code>early_stopping_tolerance</code> is expressed as a percentage of
the early stopping metric. Negative values indicate that the individual
models should be overfit before stopping. EBMs are a bagged ensemble of
models. Setting the <code>early_stopping_tolerance</code> to zero (or even negative),
allows learning to overfit each of the individual models a little, which can
improve the accuracy of the ensemble as a whole. Overfitting each of the
individual models reduces the bias of each model at the expense of increasing
the variance (due to overfitting) of the individual models. But averaging the
models in the ensemble reduces variance without much change in bias. Since
the goal is to find the optimum bias-variance tradeoff for the ensemble of
models&mdash;not the individual models&mdash;a small amount of overfitting of the
individual models can improve the accuracy of the ensemble as a whole.
Default is 1e-05.</p>
</td></tr>
<tr><td><code id="ebm_+3A_min_samples_leaf">min_samples_leaf</code></td>
<td>
<p>Minimum number of samples allowed in the leaves.
Default is 4.</p>
</td></tr>
<tr><td><code id="ebm_+3A_min_hessian">min_hessian</code></td>
<td>
<p>Minimum hessian required to consider a potential split
valid. Default is 0.0.</p>
</td></tr>
<tr><td><code id="ebm_+3A_reg_alpha">reg_alpha</code></td>
<td>
<p>L1 regularization. Default is 0.0.</p>
</td></tr>
<tr><td><code id="ebm_+3A_reg_lambda">reg_lambda</code></td>
<td>
<p>L2 regularization. Default is 0.0.</p>
</td></tr>
<tr><td><code id="ebm_+3A_max_delta_step">max_delta_step</code></td>
<td>
<p>Used to limit the max output of tree leaves; &lt;=0.0
means no constraint. Default is 0.0.</p>
</td></tr>
<tr><td><code id="ebm_+3A_gain_scale">gain_scale</code></td>
<td>
<p>Scale factor to apply to nominal categoricals. A scale
factor above 1.0 will cause the algorithm focus more on the nominal
categoricals. Default is 5.0.</p>
</td></tr>
<tr><td><code id="ebm_+3A_min_cat_samples">min_cat_samples</code></td>
<td>
<p>Minimum number of samples in order to treat a category
separately. If lower than this threshold the category is combined with other
categories that have low numbers of samples. Default is 10.</p>
</td></tr>
<tr><td><code id="ebm_+3A_cat_smooth">cat_smooth</code></td>
<td>
<p>Used for the categorical features. This can reduce the
effect of noises in categorical features, especially for categories with
limited data. Default is 10.0.</p>
</td></tr>
<tr><td><code id="ebm_+3A_missing">missing</code></td>
<td>
<p>Method for handling missing values during boosting. Default is
<code>"separate"</code>. The placement of the missing value bin can influence the
resulting model graphs. For example, placing the bin on the &quot;low&quot; side may
cause missing values to affect lower bins, and vice versa. This parameter
does not affect the final placement of the missing bin in the model (the
missing bin will remain at index 0 in the <code>term_scores_</code> attribute). Possible
values for missing are:
</p>

<ul>
<li> <p><code>"low"</code>: Place the missing bin on the left side of the graphs.
</p>
</li>
<li> <p><code>"high"</code>: Place the missing bin on the right side of the graphs.
</p>
</li>
<li> <p><code>"separate"</code>: Place the missing bin in its own leaf during each boosting
step, effectively making it location-agnostic. This can lead to overfitting,
especially when the proportion of missing values is small.
</p>
</li>
<li> <p><code>"gain"</code>: Choose the best leaf for the missing value contribution at each
boosting step, based on gain.
</p>
</li></ul>
</td></tr>
<tr><td><code id="ebm_+3A_max_leaves">max_leaves</code></td>
<td>
<p>Maximum number of leaves allowed in each tree.
Default is 2.</p>
</td></tr>
<tr><td><code id="ebm_+3A_monotone_constraints">monotone_constraints</code></td>
<td>
<p>Default is NULL. This parameter allows you to
specify monotonic constraints for each feature's relationship with the target
variable during model fitting. However, it is generally recommended to apply
monotonic constraints post-fit using the <code>monotonize()</code> attribute rather than
setting them during the fitting process. This recommendation is based on the
observation that, during fitting, the boosting algorithm may compensate for a
monotone constraint on one feature by utilizing another correlated feature,
potentially obscuring any monotonic violations. If you choose to define
monotone constraints, <code>monotone_constraints</code> should be a numeric vector with
a length equal to the number of features. Each element in the list
corresponds to a feature and should take one of the following values:
</p>

<ul>
<li><p> 0: No monotonic constraint is imposed on the corresponding feature's
partial response.
</p>
</li>
<li><p> +1: The partial response of the corresponding feature should be
monotonically increasing with respect to the target.
</p>
</li>
<li><p> -1: The partial response of the corresponding feature should be
monotonically decreasing with respect to the target.
</p>
</li></ul>
</td></tr>
<tr><td><code id="ebm_+3A_objective">objective</code></td>
<td>
<p>The objective function to optimize. Current options include:
</p>

<ul>
<li> <p><code>"auto"</code> (try to determine automatically between <code>"log_loss"</code> and <code>"rmse"</code>).
</p>
</li>
<li> <p><code>"rmse"</code> (root mean squared error).
</p>
</li>
<li> <p><code>"poisson_deviance"</code> (e.g., for counts or non-negative integers).
</p>
</li>
<li> <p><code>"tweedie_deviance:variance_power=1.5"</code> (e.g., for modeling total loss in
insurance applications).
</p>
</li>
<li> <p><code>"gamma_deviance"</code> (e.g., for positive continuous response).
</p>
</li>
<li> <p><code>"pseudo_huber:delta=1.0"</code> (e.g., for robust regression).
</p>
</li>
<li> <p><code>"rmse_log"</code> (<code>"rmse"</code> with a log link function).
</p>
</li></ul>

<p>Default is <code>"auto"</code> which assumes <code>"log_loss"</code> if the response is a factor or
character string and <code>"rmse"</code> otherwise. It's a good idea to always
explicitly set this argument.</p>
</td></tr>
<tr><td><code id="ebm_+3A_n_jobs">n_jobs</code></td>
<td>
<p>Number of jobs to run in parallel. Default is -1. Negative
integers are interpreted as following
<a href="https://github.com/joblib/joblib">joblib</a>'s formula (<code>n_cpus + 1 + n_jobs</code>),
just like <a href="https://scikit-learn.org/stable/">scikit-learn</a>. For example,
<code>n_jobs = -2</code> means using all threads except 1.</p>
</td></tr>
<tr><td><code id="ebm_+3A_random_state">random_state</code></td>
<td>
<p>Random state. Setting to <code>NULL</code> generates non-repeatable
sequences. Default is 42 to remain consistent with the corresponding Python
module.</p>
</td></tr>
<tr><td><code id="ebm_+3A_...">...</code></td>
<td>
<p>Additional optional argument. (Currently ignored.)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In short, EBMs have the general form
</p>
<p style="text-align: center;"><code class="reqn">E\left[g\left(Y|\boldsymbol{x}\right)\right] = \theta_0 + \sum_if_i\left(x_i\right) + \sum_{ij}f_{ij}\left(x_i, x_j\right) \quad \left(i \ne j\right),</code>
</p>

<p>where,
</p>

<ul>
<li> <p><code class="reqn">g</code> is a link function that allows the model to handle various response
types (e.g., the logit link for logistic regression or Poisson deviance for
modeling counts and rates);
</p>
</li>
<li> <p><code class="reqn">\theta_0</code> is a constant intercept (or bias term);
?
</p>
</li>
<li> <p><code class="reqn">f_i</code> is the term contribution (or shape function) for predictor
<code class="reqn">x_i</code> (i.e., it captures the main effect of <code class="reqn">x_i</code> on
<code class="reqn">E\left[Y|\boldsymbol{x}\right]</code>);
</p>
</li>
<li> <p><code class="reqn">f_{ij}</code> is the term contribution for the pair of predictors <code class="reqn">x_i</code>
and <code class="reqn">x_j</code> (i.e., it captures the joint effect, or pairwise interaction
effect of <code class="reqn">x_i</code> and <code class="reqn">x_j</code> on <code class="reqn">E\left[Y|\boldsymbol{x}\right]</code>).
</p>
</li></ul>



<h3>Value</h3>

<p>An object of class <code>"EBM"</code> for which there are <a href="#topic+print.EBM">print</a>,
<a href="#topic+predict.EBM">predict</a>, <a href="#topic+plot.EBM">plot</a>, and <a href="#topic+merge.EBM">merge</a> methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  #
  # Regression example
  #

  # Fit a default EBM regressor
  fit &lt;- ebm(mpg ~ ., data = mtcars, objective = "rmse")

  # Generate some predictions
  head(predict(fit, newdata = mtcars))
  head(predict(fit, newdata = mtcars, se_fit = TRUE))

  # Show global summary and GAM shape functions
  plot(fit)  # term importance scores
  plot(fit, term = "cyl")
  plot(fit, term = "cyl", interactive = TRUE)

  # Explain prediction for first observation
  plot(fit, local = TRUE, X = subset(mtcars, select = -mpg)[1L, ])

## End(Not run)

</code></pre>

<hr>
<h2 id='geom_stepribbon'>Step ribbons and area plots</h2><span id='topic+geom_stepribbon'></span><span id='topic+GeomStepribbon'></span>

<h3>Description</h3>

<p>A combination of <a href="ggplot2.html#topic+geom_ribbon">geom_ribbon()</a> and
<a href="ggplot2.html#topic+geom_path">geom_step()</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_stepribbon(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_stepribbon_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_stepribbon_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_stepribbon_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_stepribbon_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_stepribbon_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_stepribbon_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_stepribbon_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_stepribbon_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Taken from <a href="https://github.com/adibender/ldatools/tree/master">ldatools</a>.
</p>

<hr>
<h2 id='install_interpret'>Install interpret</h2><span id='topic+install_interpret'></span>

<h3>Description</h3>

<p>This function will install interpret along with all of its dependencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_interpret(
  envname = "r-ebm",
  ...,
  extra_packages = c("plotly&gt;=3.8.1"),
  python_version = "&gt;=3.9,&lt;=3.12",
  restart_session = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="install_interpret_+3A_envname">envname</code></td>
<td>
<p>Name of or path to a Python virtual environment.</p>
</td></tr>
<tr><td><code id="install_interpret_+3A_...">...</code></td>
<td>
<p>Additional optional arguments. (Currently ignored.)</p>
</td></tr>
<tr><td><code id="install_interpret_+3A_extra_packages">extra_packages</code></td>
<td>
<p>Additional Python packages to install alongside
interpret.</p>
</td></tr>
<tr><td><code id="install_interpret_+3A_python_version">python_version</code></td>
<td>
<p>Passed on to
<a href="reticulate.html#topic+virtualenv-tools">virtualenv_starter()</a>.</p>
</td></tr>
<tr><td><code id="install_interpret_+3A_restart_session">restart_session</code></td>
<td>
<p>Whether to restart the R session after installing
(note this will only occur within RStudio).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='merge.EBM'>Merge method for EBM objects</h2><span id='topic+merge.EBM'></span>

<h3>Description</h3>

<p>Merge multiple EBMs together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'EBM'
merge(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="merge.EBM_+3A_x">x</code>, <code id="merge.EBM_+3A_y">y</code></td>
<td>
<p>Fitted <a href="#topic+ebm">ebm</a> objects that have been trained on similar data sets
that have the same set of features.</p>
</td></tr>
<tr><td><code id="merge.EBM_+3A_...">...</code></td>
<td>
<p>Additional <a href="#topic+ebm">ebm</a> objects to be merged.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A merged <a href="#topic+ebm">ebm</a> object.
</p>


<h3>Note</h3>

<p>As of right now, the <code>merge()</code> function produces the following error
message:
</p>
<div class="sourceCode"><pre>Error in py_repr(x) :
  AttributeError: 'ExplainableBoostingRegressor' object has no attribute 'cat_smooth'
Run `reticulate::py_last_error()` for details.
</pre></div>
<p>This seems to be a bug in the underlying
<a href="https://github.com/interpretml/interpret/">interpret</a>
library and does not prevent this function from working. The error message is
seemingly just a side effect.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Generate list of EBMs with different random seeds
ebms &lt;- lapply(1:3, FUN = function(i) {
  ebm(mpg ~ ., data = mtcars, outer_bags = 1, random_state = i, obj = "rmse")
})

# Merge EBMs into one and plot term contribution for `cyl`
merged &lt;- do.call(merge, args = ebms)
plot(merged, term = "cyl")

## End(Not run)


</code></pre>

<hr>
<h2 id='plot.EBM'>Interpret plots for fitted EBM objects</h2><span id='topic+plot.EBM'></span>

<h3>Description</h3>

<p>Provides an interactive visualization for a given explanation(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'EBM'
plot(
  x,
  term = NULL,
  local = FALSE,
  X = NULL,
  y = NULL,
  init_score = NULL,
  interactive = FALSE,
  n_terms = NULL,
  geom = c("point", "col", "bar"),
  mapping = NULL,
  aesthetics = list(),
  horizontal = FALSE,
  uncertainty = TRUE,
  width = 0.5,
  alpha = 0.5,
  fill = "grey",
  display = c("viewer", "markdown", "url"),
  viewer = c("browser", "rstudio"),
  full_dashboard = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.EBM_+3A_x">x</code></td>
<td>
<p>A fitted <code><a href="#topic+ebm">ebm()</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_term">term</code></td>
<td>
<p>Character string specifying which term to plot. For interaction
effect, you can supply a pair (e.g., <code>term = c("x1", "x2")</code>). Default is
<code>NULL</code> which will just display the overall importance of each term.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_local">local</code></td>
<td>
<p>Logocial indicating whether to display local explanations
(<code>TRUE</code>) or global explanations (<code>FALSE</code>). Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_x">X</code></td>
<td>
<p>Data frame or matrix of samples. Unless <code>display = "url"</code> or
<code>full_dashboard = TRUE</code>, then <code>X</code> can only contain a single row.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_y">y</code></td>
<td>
<p>Optional vector of response values corresponding to <code>X</code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_init_score">init_score</code></td>
<td>
<p>Optional. Either a model that can generate scores or
per-sample initialization score. If samples scores it should be the same
length as <code>X</code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_interactive">interactive</code></td>
<td>
<p>Logical indicating whether to produce an interactive plot
based on HTML. Default is <code>FALSE</code>. Currently, only interactive graphics
(i.e., <code>interactive = TRUE</code>) are available for multiclass outcomes.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_n_terms">n_terms</code></td>
<td>
<p>Integer specifying the maximum number of variable
importance scores to plot. Default is <code>NULL</code> which corresponds to all
terms in the fitted model.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_geom">geom</code></td>
<td>
<p>Character string specifying which type of plot to construct for
terms associated with categorical features. Current options are:
</p>

<ul>
<li> <p><code>geom = "bar"</code> (or <code>"col"</code>) uses <a href="ggplot2.html#topic+geom_bar">geom_col</a> to
construct a bar chart of the scores.
</p>
</li>
<li> <p><code>geom = "point"</code> uses <a href="ggplot2.html#topic+geom_point">geom_point</a> to construct a
Cleveland dot plot of the term scores.
</p>
</li></ul>

<p>Default is <code>"point"</code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by
<a href="ggplot2.html#topic+aes">aes</a>-related functions and/or tidy eval helpers. See example
usage below.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_aesthetics">aesthetics</code></td>
<td>
<p>List specifying additional arguments passed on to
<a href="ggplot2.html#topic+layer">layer</a>. These are often aesthetics, used to set an aesthetic
to a fixed value, like<code>colour = "red"</code> or <code>size = 3</code>. See example usage
below.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_horizontal">horizontal</code></td>
<td>
<p>Logical indicating whether or not term plots for
categorical features should be flipped horzintally. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_uncertainty">uncertainty</code></td>
<td>
<p>Logical indicating whether or not to also display
uncertainty via error bars on the main effect plots. Default is <code>TRUE</code>.
Not very useful unless <code>outer_bags &gt; 1</code> when calling <code><a href="#topic+ebm">ebm()</a></code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_width">width</code></td>
<td>
<p>Numeric specifying the width of the error bars displayed in bar/
dot plots for categorical features. Default is 0.5.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_alpha">alpha</code></td>
<td>
<p>Numeric between 0 and 1 specifying the level of transparency to
use when displaying uncertainty in plots for continuous features. Default is
0.5.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_fill">fill</code></td>
<td>
<p>Character string specifying the fill color to use when displaying
uncertainty in plots for continuous features. Default is <code>"grey"</code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_display">display</code></td>
<td>
<p>Character string specifying how the results should be
displayed whenever <code>interactive = TRUE</code>. Available options are <code>"viewer"</code>
(e.g., RStudio viewer browser),
<code>"markdown"</code> (e.g., for vingettes, Quarto, or Rmarkdown documents), or
<code>"url"</code> (e.g., to print a URL which can be pasted into a browser). When
<code>display = "url"</code>, a URL for viewing the entire interpret dashboard is
provided (i.e., the <code>term</code> and <code>full_dashboard</code> arguments are ignored).</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_viewer">viewer</code></td>
<td>
<p>Character string specifying how the results should be viewed.
Current choices are <code>"broswer"</code>, which calls <code>utils::browseURL()</code> to display
the results in an HTML browser, or <code>"rstudio"</code> for displaying the results
within the Viewer pane in an active RStudio session. Also works in VS Code.
Default is <code>"browser"</code>.</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_full_dashboard">full_dashboard</code></td>
<td>
<p>Logical indicating whether or not to display the full
interpret dashboard. Default is <code>FALSE</code>. Only works when <code>display = "viewer"</code>
or <code>display = "url"</code> (e.g., paste the resulting URL in your browser).</p>
</td></tr>
<tr><td><code id="plot.EBM_+3A_...">...</code></td>
<td>
<p>Additional optional arguments. Currently only passed onto
<a href="lattice.html#topic+levelplot">levelplot()</a> for heatmaps of interaction effects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>When <code>interactive = FALSE</code> (the default), the output is either a
<a href="ggplot2.html#topic+ggplot">ggplot</a> object when visualizing term importance scores or
main effects, or a <a href="lattice.html#topic+levelplot">trellis</a> object when visualizing
pairwise interaction effects. When <code>interactive = TRUE</code>, the return value
depends on <code>display</code> argument. When <code>display = "url"</code>, a character string
is returned giving the URL for displaying the HTML-based visualization.
Otherwise, the results are viewed as requested (i.e., in a browser, built-in
viewer, or displayed in rendered HTML output).
</p>

<hr>
<h2 id='predict.EBM'>Predict method for EBM objects</h2><span id='topic+predict.EBM'></span>

<h3>Description</h3>

<p>Compute predicted values from a fitted explainable boosting machine.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'EBM'
predict(
  object,
  newdata,
  type = c("response", "link", "class", "terms"),
  se_fit = FALSE,
  init_score = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.EBM_+3A_object">object</code></td>
<td>
<p>A fitted <a href="#topic+ebm">ebm</a> object.</p>
</td></tr>
<tr><td><code id="predict.EBM_+3A_newdata">newdata</code></td>
<td>
<p>A data frame in which to look for variables with which to
predict.</p>
</td></tr>
<tr><td><code id="predict.EBM_+3A_type">type</code></td>
<td>
<p>The type of prediction required. Current options include:
</p>

<ul>
<li> <p><code>"response"</code>: Returns predictions on the scale of the response variable.
Thus, for a categorical outcome (i.e., binary or multiclass), a matrix of
predicted probabilities is returned.
</p>
</li>
<li> <p><code>"link"</code>: Returns predictions on the link scale. For a binary outcome with
logit link, for example, this results in a vector of logits. For a multiclass
outcome, this will return a matrix with one column for each class. Ignored
for regression problems.
</p>
</li>
<li> <p><code>"class"</code>: Returns a vector predicted class label for categorical outcomes.
</p>
</li>
<li> <p><code>"terms"</code>: Returns a matrix (or list of matrices for multiclass outcomes)
of the individual term contributions (e.g., the <code>f(x)</code>'s). Note that term
contributions are on the link scale, where they are additive.
</p>
</li></ul>
</td></tr>
<tr><td><code id="predict.EBM_+3A_se_fit">se_fit</code></td>
<td>
<p>Logical indicating whether or not standard errors are required.
Ignored for multiclass outcomes. Note that standard errors are only available
on the link scale.</p>
</td></tr>
<tr><td><code id="predict.EBM_+3A_init_score">init_score</code></td>
<td>
<p>Optional. Either a model that can generate scores or
per-sample initialization score. If samples scores it should be the same
length as <code>newdata</code>.</p>
</td></tr>
<tr><td><code id="predict.EBM_+3A_...">...</code></td>
<td>
<p>Additional optional arguments. (Currently ignored.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a vector, matrix, or list of results. See the <code>type</code> argument
for details.
</p>

<hr>
<h2 id='print.EBM'>Print model summary</h2><span id='topic+print.EBM'></span>

<h3>Description</h3>

<p>Display basic information about a fitted <a href="#topic+ebm">ebm</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'EBM'
print(x, digits = max(3L, getOption("digits") - 3L), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.EBM_+3A_x">x</code></td>
<td>
<p>A fitted <a href="#topic+ebm">ebm</a> object.</p>
</td></tr>
<tr><td><code id="print.EBM_+3A_digits">digits</code></td>
<td>
<p>The number of significant digits to be passed to <code><a href="base.html#topic+format">format()</a></code>
when <a href="base.html#topic+print">print</a>ing.</p>
</td></tr>
<tr><td><code id="print.EBM_+3A_...">...</code></td>
<td>
<p>Additional optional arguments to be passed to <code><a href="base.html#topic+print.default">print.default()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the printed <a href="#topic+ebm">ebm</a> object.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

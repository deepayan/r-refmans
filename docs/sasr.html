<!DOCTYPE html><html><head><title>Help for package sasr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sasr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sasr-package'><p><code>sasr</code> Package</p></a></li>
<li><a href='#.onLoad'><p>onLoad Function</p></a></li>
<li><a href='#.sasr_env'><p>sasr Environment</p></a></li>
<li><a href='#df2sd'><p>Transfer data.frame to SAS</p></a></li>
<li><a href='#get_sas_cfg'><p>Obtain the SAS Configuration File</p></a></li>
<li><a href='#get_sas_session'><p>Get the Last or Default SAS Session</p></a></li>
<li><a href='#install_saspy'><p>Install <code>saspy</code> Module</p></a></li>
<li><a href='#run_sas'><p>Run SAS code with SAS Session</p></a></li>
<li><a href='#sas_session_ssh'><p>Create SAS ssh Session Based on Configuration File</p></a></li>
<li><a href='#sascfg'><p>Create SAS Session Configuration File</p></a></li>
<li><a href='#saspy'><p>saspy package</p></a></li>
<li><a href='#sd2df'><p>Transfer SAS Data to R</p></a></li>
<li><a href='#validate_data'><p>Validate and Process <code>data.frame</code> for SAS</p></a></li>
<li><a href='#validate_sascfg'><p>Validate SAS Configuration File Exist</p></a></li>
<li><a href='#validate_ssh_with_tunnel'><p>Validate the SAS ssh Session Has Tunnels</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'SAS' Interface</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-04-26</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a 'SAS' interface, through 'SASPy'(<a href="https://sassoftware.github.io/saspy/">https://sassoftware.github.io/saspy/</a>) and 'reticulate'(<a href="https://rstudio.github.io/reticulate/">https://rstudio.github.io/reticulate/</a>).
  This package helps you create 'SAS' sessions, execute 'SAS' code in remote 'SAS' servers, retrieve execution results and log, and exchange datasets between 'SAS' and 'R'.
  It also helps you to install 'SASPy' and create a configuration file for the connection. Please review the 'SASPy' license file as instructed so that you comply with its separate and independent license.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/insightsengineering/sasr/">https://github.com/insightsengineering/sasr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/insightsengineering/sasr/issues">https://github.com/insightsengineering/sasr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, reticulate</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, mockery, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-23 06:48:15 UTC; root</td>
</tr>
<tr>
<td>Author:</td>
<td>Liming Li [aut, cre],
  Daniel Sabanes Bove [aut],
  Isaac Gravestock [aut],
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Liming Li &lt;liming.li@roche.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-24 07:50:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='sasr-package'><code>sasr</code> Package</h2><span id='topic+sasr-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p><code>sasr</code> provides interface to SAS through <code>saspy</code> and <code>reticulate</code> in R.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Liming Li <a href="mailto:liming.li@roche.com">liming.li@roche.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Daniel Sabanes Bove <a href="mailto:daniel.sabanes_bove@roche.com">daniel.sabanes_bove@roche.com</a>
</p>
</li>
<li><p> Isaac Gravestock <a href="mailto:isaac.gravestock@roche.com">isaac.gravestock@roche.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/insightsengineering/sasr/">https://github.com/insightsengineering/sasr/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/insightsengineering/sasr/issues">https://github.com/insightsengineering/sasr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.onLoad'>onLoad Function</h2><span id='topic+.onLoad'></span>

<h3>Description</h3>

<p>onLoad Function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.onLoad(libname, pkgname)
</code></pre>

<hr>
<h2 id='.sasr_env'>sasr Environment</h2><span id='topic+.sasr_env'></span>

<h3>Description</h3>

<p>sasr Environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.sasr_env
</code></pre>


<h3>Format</h3>

<p>An object of class <code>environment</code> of length 0.
</p>

<hr>
<h2 id='df2sd'>Transfer data.frame to SAS</h2><span id='topic+df2sd'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Transfer <code>data.frame</code> object from R environment to SAS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df2sd(df, table = "_df", libref = "", ..., sas_session = get_sas_session())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="df2sd_+3A_df">df</code></td>
<td>
<p>(<code>data.frame</code>)<br /> data frame to be transferred.</p>
</td></tr>
<tr><td><code id="df2sd_+3A_table">table</code></td>
<td>
<p>(<code>character</code>)<br /> table name in SAS.</p>
</td></tr>
<tr><td><code id="df2sd_+3A_libref">libref</code></td>
<td>
<p>(<code>character</code>)<br /> library name in SAS.</p>
</td></tr>
<tr><td><code id="df2sd_+3A_...">...</code></td>
<td>
<p>additional arguments for <code>saspy.sasbase.SASsession.df2sd</code></p>
</td></tr>
<tr><td><code id="df2sd_+3A_sas_session">sas_session</code></td>
<td>
<p>(<code>saspy.sasbase.SASsession</code>) SAS session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>&quot;saspy.sasdata.SASdata&quot; object.
</p>

<hr>
<h2 id='get_sas_cfg'>Obtain the SAS Configuration File</h2><span id='topic+get_sas_cfg'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Obtain the file path of the SAS configuration file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sas_cfg()
</code></pre>


<h3>Details</h3>

<p>Obtain the default sas configuration file. By default, it will search
the <code>sascfg_personal.py</code> file under current directory. If it does not exist, it will
search this file under home directory. If this file does not exist, NULL will be returned.
</p>


<h3>Value</h3>

<p>The file path of default SAS configuration file, or NULL if not found.
</p>

<hr>
<h2 id='get_sas_session'>Get the Last or Default SAS Session</h2><span id='topic+get_sas_session'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Obtain the last session or default session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sas_session()
</code></pre>


<h3>Details</h3>

<p>this function is designed to facilitate the R users programming practice
of function oriented programming instead of object oriented programmings.
</p>


<h3>Value</h3>

<p>A new SAS session if there are no previous SAS session, or the last SAS session created.
</p>

<hr>
<h2 id='install_saspy'>Install <code>saspy</code> Module</h2><span id='topic+install_saspy'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Install <code>saspy</code> module in <code>reticulate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_saspy(method = "auto", conda = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_saspy_+3A_method">method</code></td>
<td>
<p>(<code>character</code>)<br /> method to install <code>saspy</code>.</p>
</td></tr>
<tr><td><code id="install_saspy_+3A_conda">conda</code></td>
<td>
<p>(<code>character</code>)<br /> path to <code>conda</code> executable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value.
</p>

<hr>
<h2 id='run_sas'>Run SAS code with SAS Session</h2><span id='topic+run_sas'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Run SAS code with a SAS session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_sas(sas_code, results = c("TEXT", "HTML"), sas_session = get_sas_session())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_sas_+3A_sas_code">sas_code</code></td>
<td>
<p>(<code>character</code>)<br /> sas code to be executed.</p>
</td></tr>
<tr><td><code id="run_sas_+3A_results">results</code></td>
<td>
<p>(<code>character</code>)<br /> sas code execution results type.</p>
</td></tr>
<tr><td><code id="run_sas_+3A_sas_session">sas_session</code></td>
<td>
<p>(<code>saspy.sasbase.SASsession</code>) SAS session.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>run_sas</code> will run sas code through SAS session.
The results is a named list of <code>LST</code> and <code>LOG</code>.
The result part will be stored in <code>LST</code>, and log will be stored in <code>LOG</code>.
If <code>results</code> argument is &quot;TEXT&quot;, then results are in text format;
if <code>results</code> argument is &quot;HTML&quot;, then results are in html format.
</p>


<h3>Value</h3>

<p>Named list with following elements:
</p>

<ul>
<li> <p><code>LOG</code>: <code>string</code> of SAS execution log.
</p>
</li>
<li> <p><code>LST</code>: <code>string</code> of SAS execution result, in html or txt format.
</p>
</li></ul>


<hr>
<h2 id='sas_session_ssh'>Create SAS ssh Session Based on Configuration File</h2><span id='topic+sas_session_ssh'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Create a SAS ssh session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sas_session_ssh(sascfg = get_sas_cfg())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sas_session_ssh_+3A_sascfg">sascfg</code></td>
<td>
<p>(<code>character</code>)<br /> SAS session configuration.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SAS session.
</p>

<hr>
<h2 id='sascfg'>Create SAS Session Configuration File</h2><span id='topic+sascfg'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Create SAS session configuration file based on argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sascfg(
  name = "default",
  host,
  saspath,
  ssh = system("which ssh", intern = TRUE),
  encoding = "latin1",
  options = list("-fullstimer"),
  ...,
  sascfg = "sascfg_personal.py"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sascfg_+3A_name">name</code></td>
<td>
<p>(<code>character</code>)<br /> name of the configuration.</p>
</td></tr>
<tr><td><code id="sascfg_+3A_host">host</code></td>
<td>
<p>(<code>character</code>)<br /> host name of remote server.</p>
</td></tr>
<tr><td><code id="sascfg_+3A_saspath">saspath</code></td>
<td>
<p>(<code>character</code>)<br /> SAS executable path on remote server.</p>
</td></tr>
<tr><td><code id="sascfg_+3A_ssh">ssh</code></td>
<td>
<p>(<code>character</code>)<br /> executable path of ssh.</p>
</td></tr>
<tr><td><code id="sascfg_+3A_encoding">encoding</code></td>
<td>
<p>(<code>character</code>)<br /> encoding of the SAS session.</p>
</td></tr>
<tr><td><code id="sascfg_+3A_options">options</code></td>
<td>
<p>(<code>list</code>)<br /> additional list of arguments to pass to <code>ssh</code> command.</p>
</td></tr>
<tr><td><code id="sascfg_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
<tr><td><code id="sascfg_+3A_sascfg">sascfg</code></td>
<td>
<p>(<code>character</code>)<br /> target file of configuration.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>host</code> and <code>saspath</code> are required to connect to remote SAS server. Other arguments can follow default.
If transferring datasets is needed, then tunnelling is required.
Use <code style="white-space: pre;">&#8288;tunnel = &#8288;</code>, <code style="white-space: pre;">&#8288;rtunnel = &#8288;</code> to specify tunnels and reverse tunnels.
The values should be length 1 integer.
</p>


<h3>Value</h3>

<p>No return value.
</p>

<hr>
<h2 id='saspy'>saspy package</h2><span id='topic+saspy'></span>

<h3>Description</h3>

<p>saspy package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saspy
</code></pre>


<h3>Format</h3>

<p>An object of class <code>python.builtin.module</code> (inherits from <code>python.builtin.object</code>) of length 0.
</p>

<hr>
<h2 id='sd2df'>Transfer SAS Data to R</h2><span id='topic+sd2df'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Transfer the table in SAS session to R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd2df(table, libref = "", ..., sas_session = get_sas_session())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sd2df_+3A_table">table</code></td>
<td>
<p>(<code>character</code>)<br /> table name in SAS.</p>
</td></tr>
<tr><td><code id="sd2df_+3A_libref">libref</code></td>
<td>
<p>(<code>character</code>)<br /> library name in SAS.</p>
</td></tr>
<tr><td><code id="sd2df_+3A_...">...</code></td>
<td>
<p>additional arguments for <code>saspy.sasbase.SASsession.sd2df</code></p>
</td></tr>
<tr><td><code id="sd2df_+3A_sas_session">sas_session</code></td>
<td>
<p>(<code>saspy.sasbase.SASsession</code>) SAS session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> object.
</p>

<hr>
<h2 id='validate_data'>Validate and Process <code>data.frame</code> for SAS</h2><span id='topic+validate_data'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Validate if data contains validate variable names in SAS, and
remove possible row names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_data(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_data_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br /> data.frame to be checked.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In SAS, the variable names should be consist of letters, numbers and underscore.
Other characters are not allowed.
In addition, in SAS, row names(index) are not allowed.
</p>


<h3>Value</h3>

<p><code>data.frame</code><br />
</p>

<hr>
<h2 id='validate_sascfg'>Validate SAS Configuration File Exist</h2><span id='topic+validate_sascfg'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Validate if SAS configuration file exist.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_sascfg(sascfg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_sascfg_+3A_sascfg">sascfg</code></td>
<td>
<p>(<code>character</code>)<br /> file path of configuration.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently, only the file existence check is conducted and the rest
is checked at python side.
</p>

<hr>
<h2 id='validate_ssh_with_tunnel'>Validate the SAS ssh Session Has Tunnels</h2><span id='topic+validate_ssh_with_tunnel'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Validate if the SAS session has tunnels enabled.
</p>
<p>SAS session must enable tunnels to transfer datasets. If not used, a error will pop up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_ssh_with_tunnel(
  session,
  msg = "SAS session through ssh must use tunnels to transfer datasets!"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_ssh_with_tunnel_+3A_session">session</code></td>
<td>
<p>(<code>saspy.sasbase.SASsession</code>) SAS session.</p>
</td></tr>
<tr><td><code id="validate_ssh_with_tunnel_+3A_msg">msg</code></td>
<td>
<p>(<code>character</code>)<br /> message to display.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

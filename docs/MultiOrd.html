<!DOCTYPE html><html lang="en"><head><title>Help for package MultiOrd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MultiOrd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#MultiOrd-package'>
<p>Generation of multivariate ordinal data.</p></a></li>
<li><a href='#BinToOrd'>
<p>Converts multivariate binary data to multivariate ordinal data</p></a></li>
<li><a href='#compute.sigma.star'>
<p>Computes the tetrachoric correlation matrix. If it is non-positive definite, a nearest positive definite matrix is used.</p></a></li>
<li><a href='#conformity.Check'>
<p>Checks whether the dimension of marginal probability matrix matches the dimension of correlation matrix.</p></a></li>
<li><a href='#find.binary.prob'>
<p>Collapses the ordinal categories to binary ones</p></a></li>
<li><a href='#generate.binary'>
<p>Generates multivariate binary data given marginal probabilities and correlation.</p></a></li>
<li><a href='#genOrd'>
<p>Generates multivariate ordinal data from binary parameters</p></a></li>
<li><a href='#simBinCorr'>
<p>Calculates intermediate binary correlation matrix</p></a></li>
<li><a href='#validation.CorrMat'>
<p>Validates input correlation matrix</p></a></li>
<li><a href='#validation.ordPmat'>
<p>Validates matrix of ordinal probabilities</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generation of Multivariate Ordinal Variates</td>
</tr>
<tr>
<td>Version:</td>
<td>2.4.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-03-05</td>
</tr>
<tr>
<td>Author:</td>
<td>Anup Amatya, Hakan Demirtas, Ran Gao</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ran Gao &lt;rgao8@uic.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>mvtnorm, corpcor, Matrix, psych</td>
</tr>
<tr>
<td>Description:</td>
<td>A method for multivariate ordinal data generation given marginal distributions and correlation matrix based on the methodology proposed by Demirtas (2006) &lt;<a href="https://doi.org/10.1080%2F10629360600569246">doi:10.1080/10629360600569246</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-03-05 17:43:42 UTC; rangao</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-03-05 18:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='MultiOrd-package'>
Generation of multivariate ordinal data.
</h2><span id='topic+MultiOrd-package'></span><span id='topic+MultiOrd'></span>

<h3>Description</h3>

<p>A package for multivariate ordinal data generation given marginal distributions and 
correlation matrix based on the methodology proposed by Demirtas (2006).
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> MultiOrd</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 2.4.3</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-03-05</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2
</td>
</tr>

</table>

<p>This package can be used to generate multivariate ordinal data. Two main input required are the matrix of marginal probabilities of each variable and the correlation matrix of the ordinal variables. Due to the limitation on the magnitude of the binary correlations which depends on the marginal probabilities, off-diagonal entries of ordinal correlation matrix are not free to vary between -1 and 1.  
</p>
<p>The main function in this package is <code><a href="#topic+genOrd">genOrd</a></code> which generates the multivariate ordinal data. Another important function is <code><a href="#topic+simBinCorr">simBinCorr</a></code> which calculates the intermediate binary correlation.
</p>


<h3>Author(s)</h3>

<p>Anup Amatya, Hakan Demirtas, Ran Gao
</p>
<p>Maintainer: Ran Gao &lt;rgao8@uic.edu&gt;
</p>


<h3>References</h3>


<ul>
<li><p> Demirtas, H. (2006). A method for multivariate ordinal data generation given marginal distributions and correlations. Journal of Statistical Computation and Simulation, Volume 76, Issue 11, 1017-1025.
</p>
</li>
<li><p> Emrich, L.J. and Piedmonte, M.R. (1991). A method for generating high-dimensional multivariate binary variates. The American Statistician, Volume 45, Issue 4, 302-304.
</p>
</li></ul>


<hr>
<h2 id='BinToOrd'>
Converts multivariate binary data to multivariate ordinal data
</h2><span id='topic+BinToOrd'></span>

<h3>Description</h3>

<p>Converts multivariate binary data to multivariate ordinal data using original ordinal probabilities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BinToOrd(prop.vec.bin, ordPmat, Mlocation, bin.data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="BinToOrd_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Vector of marginal probabilities. It is usually a first component of the 
list returned by <code><a href="#topic+find.binary.prob">find.binary.prob</a></code>
</p>
</td></tr>
<tr><td><code id="BinToOrd_+3A_ordpmat">ordPmat</code></td>
<td>

<p>Input matrix of ordinal marginal probabilities
</p>
</td></tr>
<tr><td><code id="BinToOrd_+3A_mlocation">Mlocation</code></td>
<td>

<p>Vector of locations where dichotomization is done. It is usually a second component of the list 
returned by <code><a href="#topic+find.binary.prob">find.binary.prob</a></code>
</p>
</td></tr>
<tr><td><code id="BinToOrd_+3A_bin.data">bin.data</code></td>
<td>

<p>Matrix of binary data generated using <code><a href="#topic+generate.binary">generate.binary</a></code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As a part of the multivariate ordinal data generation, intermediate multivariate binary data are generated. 
This function converts multivariate binary data generated by  <code><a href="#topic+generate.binary">generate.binary</a></code> to the 
multivariate ordinal data.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>y</code></td>
<td>
<p>Matrix of multivariate ordinal data</p>
</td></tr>
<tr><td><code>Corr</code></td>
<td>
<p>Correlation matrix of <code>y</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 	nObs = 1000; no.rows = 100000 
## Not run: 	ordPmat1 = matrix( c(0.15,0.70,0.40,
					0.55,0.10,0.25,
					0.25,0.10,0.15,
					0.05,0.10,0.20),4,3,byrow=TRUE) 
## End(Not run)
					
## Not run: \	cmat1= matrix( 	c(1,0.2,0.2,
				0.2,1,0.2,
				0.2,0.2,1),3,3,byrow=TRUE) 
## End(Not run)
				
## Not run: 	binObj = simBinCorr(ordPmat1, cmat1, no.rows) 
## Not run: 	ep0 = generate.binary( nObs, binObj$pvec, binObj$del.next) 
## Not run: 	Mydata= BinToOrd(binObj$pvec, ordPmat1, binObj$Mlocation, ep0) 	
</code></pre>

<hr>
<h2 id='compute.sigma.star'>
Computes the tetrachoric correlation matrix. If it is non-positive definite, a nearest positive definite matrix is used.
</h2><span id='topic+compute.sigma.star'></span>

<h3>Description</h3>

<p>It computes the tetrachoric correlation matrix using the algorithm described in Emrich and Piedmonte
(1991). If the resulting matrix is non-positive definite, a nearest positive definite matrix is
returned and the warning message will be printed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute.sigma.star(prop.vec.bin, corr.mat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compute.sigma.star_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Vector of marginal probabilities
</p>
</td></tr>
<tr><td><code id="compute.sigma.star_+3A_corr.mat">corr.mat</code></td>
<td>

<p>Correlation matrix of the binary data
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tetrachoric correlation matrix
</p>


<h3>See Also</h3>

<p><code><a href="psych.html#topic+phi2tetra">phi2tetra</a></code> and <code><a href="Matrix.html#topic+nearPD">nearPD</a></code>
</p>

<hr>
<h2 id='conformity.Check'>
Checks whether the dimension of marginal probability matrix matches the dimension of correlation matrix.
</h2><span id='topic+conformity.Check'></span>

<h3>Description</h3>

<p>Checks whether the dimension of marginal probability matrix matches the dimension of correlation matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conformity.Check(ordPmat, CorrMat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conformity.Check_+3A_ordpmat">ordPmat</code></td>
<td>

<p>Input matrix of ordinal marginal probabilities
</p>
</td></tr>
<tr><td><code id="conformity.Check_+3A_corrmat">CorrMat</code></td>
<td>

<p>Correlation matrix of the multivariate ordinal data.
</p>
</td></tr>
</table>

<hr>
<h2 id='find.binary.prob'>
Collapses the ordinal categories to binary ones
</h2><span id='topic+find.binary.prob'></span>

<h3>Description</h3>

<p>Collapses the ordinal categories to binary ones and counts the number of categories in each variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.binary.prob(ordPmat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.binary.prob_+3A_ordpmat">ordPmat</code></td>
<td>

<p>Input matrix of ordinal marginal probabilities.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>p</code></td>
<td>
<p>Vector of binary probabilities</p>
</td></tr> 
<tr><td><code>Mlocation</code></td>
<td>
<p>Vector of points where ordinal variables will be dichotomized</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+validation.ordPmat">validation.ordPmat</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ordPmat1 = matrix( c(0.15,0.70,0.40,
					0.55,0.10,0.25,
					0.25,0.10,0.15,
					0.05,0.10,0.20),4,3,byrow=TRUE)
find.binary.prob(ordPmat1)

## End(Not run)
 
</code></pre>

<hr>
<h2 id='generate.binary'>
Generates multivariate binary data given marginal probabilities and correlation.
</h2><span id='topic+generate.binary'></span>

<h3>Description</h3>

<p>Generates multivariate binary data given marginal probabilities and correlation based on the algorithm described in Emrich and Piedmonte (1991).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate.binary(nObs, prop.vec.bin, corr.mat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate.binary_+3A_nobs">nObs</code></td>
<td>

<p>Number of observations
</p>
</td></tr>
<tr><td><code id="generate.binary_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Vector of binary marginal probabilities
</p>
</td></tr>
<tr><td><code id="generate.binary_+3A_corr.mat">corr.mat</code></td>
<td>

<p>correlation matrix of the binary data
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It generates multivariate binary data from the marginal probabilities and correlation matrix. It uses
the algorithm described in Emrich and Piedmonte (1991). In the process, if the tetrachoric correlation
matrix is non-positive definite, a nearest positive definite matrix is used.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>data</code></td>
<td>
<p>Matrix of multivariate binary data</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="Matrix.html#topic+nearPD">nearPD</a></code>,  <code><a href="#topic+compute.sigma.star">compute.sigma.star</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ordPmat1 = matrix( c(0.15,0.70,0.40,
					0.55,0.10,0.25,
					0.25,0.10,0.15,
					0.05,0.10,0.20),4,3,byrow=TRUE)
## End(Not run)
## Not run: cmat1= matrix( 	c(1,0.2,0.2,
				0.2,1,0.2,
				0.2,0.2,1),3,3,byrow=TRUE)
## End(Not run)
## Not run: p=find.binary.prob(ordPmat1) 
## Not run: finalCorr = simBinCorr(ordPmat1, cmat1, no.rows=100000)
## Not run: y=generate.binary( 1000, p$p, finalCorr$del.next)
</code></pre>

<hr>
<h2 id='genOrd'>
Generates multivariate ordinal data from binary parameters
</h2><span id='topic+genOrd'></span>

<h3>Description</h3>

<p>Generates multivariate ordinal data from the ordinal marginal probabilities and a list returned 
by the <code><a href="#topic+simBinCorr">simBinCorr</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genOrd(no.rows, ordPmat, binObj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="genOrd_+3A_no.rows">no.rows</code></td>
<td>

<p>Number of rows
</p>
</td></tr>
<tr><td><code id="genOrd_+3A_ordpmat">ordPmat</code></td>
<td>

<p>Input matrix of ordinal marginal probabilities
</p>
</td></tr>
<tr><td><code id="genOrd_+3A_binobj">binObj</code></td>
<td>

<p>A list returned by the <code><a href="#topic+simBinCorr">simBinCorr</a></code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It generates multivariate ordinal data. The argument <strong>binObj</strong> must be obtained using <code><a href="#topic+simBinCorr">simBinCorr</a></code> before executing this function.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>Mydata</code></td>
<td>
<p>A list with two components. Two components are a matrix of multivariate 
ordinal data (y) and its correlation matrix (Corr)</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+simBinCorr">simBinCorr</a></code>, <code><a href="#topic+BinToOrd">BinToOrd</a></code>,  <code><a href="#topic+generate.binary">generate.binary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ordPmat1 = matrix( c(0.15,0.70,0.40,
					0.55,0.10,0.25,
					0.25,0.10,0.15,
					0.05,0.10,0.20),4,3,byrow=TRUE)
## End(Not run)
## Not run: cmat1= matrix( 	c(1,0.2,0.2,
				0.2,1,0.2,
				0.2,0.2,1),3,3,byrow=TRUE) 
## End(Not run)
## Not run: binObj=simBinCorr(ordPmat1, cmat1, no.rows=100000, steps=0.025)		
## Not run: myData = genOrd( 1000, ordPmat1, binObj)		
</code></pre>

<hr>
<h2 id='simBinCorr'>
Calculates intermediate binary correlation matrix
</h2><span id='topic+simBinCorr'></span>

<h3>Description</h3>

<p>Calculates intermediate binary correlation matrix via simulation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simBinCorr(ordPmat, CorrMat, no.rows, steps = 0.025)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simBinCorr_+3A_ordpmat">ordPmat</code></td>
<td>

<p>Input matrix of ordinal marginal probabilities
</p>
</td></tr>
<tr><td><code id="simBinCorr_+3A_corrmat">CorrMat</code></td>
<td>

<p>Correlation matrix of the multivariate ordinal data
</p>
</td></tr>
<tr><td><code id="simBinCorr_+3A_no.rows">no.rows</code></td>
<td>

<p>Number of rows to use to calculate intermediate binary correlation matrix
</p>
</td></tr>
<tr><td><code id="simBinCorr_+3A_steps">steps</code></td>
<td>

<p>Fraction of difference between the current and target matrix to be added in each iteration.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>del.next</code></td>
<td>
<p>Calculated binary correlation matrix</p>
</td></tr>
<tr><td><code>Mlocation</code></td>
<td>
<p>Cutoff point for converting ordinal probabilities to binary ones.</p>
</td></tr>
<tr><td><code>pvec</code></td>
<td>
<p>Vector of binary probabilities</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+generate.binary">generate.binary</a></code>,   <code><a href="#topic+BinToOrd">BinToOrd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ordPmat1 = matrix( c(0.15,0.70,0.40,
					0.55,0.10,0.25,
					0.25,0.10,0.15,
					0.05,0.10,0.20),4,3,byrow=TRUE)
## End(Not run)
## Not run: cmat1= matrix( 	c(1,0.2,0.2,
				0.2,1,0.2,
				0.2,0.2,1),3,3,byrow=TRUE)
## End(Not run)
## Not run: simBinCorr(ordPmat1, cmat1, no.rows=100000, steps = 0.025)
				
</code></pre>

<hr>
<h2 id='validation.CorrMat'>
Validates input correlation matrix
</h2><span id='topic+validation.CorrMat'></span>

<h3>Description</h3>

<p>Checks symmetry, positive definiteness, conformity and range of the correlation matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validation.CorrMat(prop.vec.bin, CorrMat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validation.CorrMat_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Vector of binary (converted from ordinal) marginal probabilities
</p>
</td></tr>
<tr><td><code id="validation.CorrMat_+3A_corrmat">CorrMat</code></td>
<td>

<p>Correlation matrix to be validated
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks the correlation matrix for basic properties of correlation matrix, such as symmetry and positive definiteness. In addition it verifies that all the correlations are in valid range for the calculated binary marginal probabilities. Range violation error message indicates that ordinal data with the specified correlations cannot be generated due to distributional constraints.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+find.binary.prob">find.binary.prob</a></code>
</p>

<hr>
<h2 id='validation.ordPmat'>
Validates matrix of ordinal probabilities
</h2><span id='topic+validation.ordPmat'></span>

<h3>Description</h3>

<p>Validates the range of input matrix of marginal probabilities. It also counts the ordinal categories for each variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validation.ordPmat(ordPmat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validation.ordPmat_+3A_ordpmat">ordPmat</code></td>
<td>
<p>Matrix of marginal probabilities.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Number of columns of input matrix is the number of variables and each column contains probability
of each category within each variable. Any probability with 0 value must be entered at the end of corresponding column.
For example if a column contains c(0.3,0.5,0.2,0), then it is assumed that particular variable has only
3 (1, 2 and 3) categories.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>J</code></td>
<td>
<p>Number of ordinal variables</p>
</td></tr>
<tr><td><code>K</code></td>
<td>
<p>Vector of number of categories for each variable</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# 3 outcomes with 3, 4 and 4 categories.
ordPmat1 = matrix( c(0.15,0.70,0.40,
					0.55,0.10,0.25,
					0.30,0.10,0.15,
					0,0.10,0.20),4,3,byrow=TRUE)
validation.ordPmat(ordPmat1)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

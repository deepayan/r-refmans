<!DOCTYPE html><html><head><title>Help for package cities</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cities}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#colSD'><p>colSD</p></a></li>
<li><a href='#data_generator'><p>data_generator</p></a></li>
<li><a href='#data_generator_loop'><p>data_generator_loop</p></a></li>
<li><a href='#line_parameters'><p>line_parameters</p></a></li>
<li><a href='#p_ae_poisson'><p>p_ae_poisson</p></a></li>
<li><a href='#p_loe_ee_function'><p>p_loe_ee_function</p></a></li>
<li><a href='#pacf_vec_to_acf'><p>pacf_vec_to_acf</p></a></li>
<li><a href='#plot_dc'><p>plot_dc</p></a></li>
<li><a href='#plot_estimates'><p>plot_estimates</p></a></li>
<li><a href='#plot_loe_ee'><p>plot_loe_ee</p></a></li>
<li><a href='#plot_means'><p>plot_means</p></a></li>
<li><a href='#rep_col'><p>rep_rcol</p></a></li>
<li><a href='#rep_row'><p>rep_row</p></a></li>
<li><a href='#simulated_data_output'><p>simulated_data_output</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Clinical Trials with Intercurrent Events Simulator</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ahmad Hakeem Abdul Wahab &lt;hakeemwahab00@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Simulates clinical trials and summarizes causal effects and treatment policy estimands in the presence of intercurrent events in a transparent and intuitive manner.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://hakeemwahabapp.shinyapps.io/cities/">https://hakeemwahabapp.shinyapps.io/cities/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, plotly, tidyr, ggthemes</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-27 19:03:41 UTC; aabdulw1</td>
</tr>
<tr>
<td>Author:</td>
<td>Ahmad Hakeem Abdul Wahab
    <a href="https://orcid.org/0000-0002-7376-0006"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Yongming Qu [aut],
  Hege Michiels [aut],
  Junxiang Luo [aut],
  Run Zhuang [aut],
  Dominique McDaniel [aut],
  Dong Xi [aut],
  Elena Polverejan [aut],
  Steven Gilbert [aut],
  Stephen Ruberg [aut],
  Arman Sabbagh [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-08 07:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='colSD'>colSD</h2><span id='topic+colSD'></span>

<h3>Description</h3>

<p>Helper function to calculate standard deviation of matrix by columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colSD(data_in)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colSD_+3A_data_in">data_in</code></td>
<td>
<p>matrix of numeric values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of standard deivations of columns of data_in.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
colSD(matrix(rnorm(100), ncol=5))
</code></pre>

<hr>
<h2 id='data_generator'>data_generator</h2><span id='topic+data_generator'></span>

<h3>Description</h3>

<p>Helper function to simulate single clinical trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_generator(
  n_patient_vector,
  p_loe_max,
  z_l_loe,
  z_u_loe,
  p_ee_max,
  z_l_ee,
  z_u_ee,
  timepoints,
  pacf_list,
  sigma_ar_vec,
  mean_list,
  beta_list,
  p_admin,
  rate_dc_ae,
  prob_ae,
  seed_val,
  reference_id,
  plot_po = FALSE,
  up_good = "Up",
  threshold,
  delta_adjustment_in,
  covariate_df
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_generator_+3A_n_patient_vector">n_patient_vector</code></td>
<td>
<p>Vector of number of patients</p>
</td></tr>
<tr><td><code id="data_generator_+3A_p_loe_max">p_loe_max</code></td>
<td>
<p>The maximum probability of discontinuing due to LoE</p>
</td></tr>
<tr><td><code id="data_generator_+3A_z_l_loe">z_l_loe</code></td>
<td>
<p>The lower (or left) threshold of the LoE curve</p>
</td></tr>
<tr><td><code id="data_generator_+3A_z_u_loe">z_u_loe</code></td>
<td>
<p>The upper (or right) threshold of the LoE curve</p>
</td></tr>
<tr><td><code id="data_generator_+3A_p_ee_max">p_ee_max</code></td>
<td>
<p>The maximum probability of discontinuing due to EE</p>
</td></tr>
<tr><td><code id="data_generator_+3A_z_l_ee">z_l_ee</code></td>
<td>
<p>The lower (or left) threshold of the EE curve</p>
</td></tr>
<tr><td><code id="data_generator_+3A_z_u_ee">z_u_ee</code></td>
<td>
<p>The upper (or right) threshold of the EE curve</p>
</td></tr>
<tr><td><code id="data_generator_+3A_timepoints">timepoints</code></td>
<td>
<p>Vector of timepoints (e.g. weeks, days, time indices)</p>
</td></tr>
<tr><td><code id="data_generator_+3A_pacf_list">pacf_list</code></td>
<td>
<p>List of pacf vectors</p>
</td></tr>
<tr><td><code id="data_generator_+3A_sigma_ar_vec">sigma_ar_vec</code></td>
<td>
<p>Vector of variances per arm associated with list of pacf vectors</p>
</td></tr>
<tr><td><code id="data_generator_+3A_mean_list">mean_list</code></td>
<td>
<p>List of vectors of means per arm</p>
</td></tr>
<tr><td><code id="data_generator_+3A_beta_list">beta_list</code></td>
<td>
<p>List of vectors of beta coefficients per arm.
All vectors must have the same length and must be the same
as the number of columns for the covariate_df.</p>
</td></tr>
<tr><td><code id="data_generator_+3A_p_admin">p_admin</code></td>
<td>
<p>Vector of probabilities of discontinuing due to admin reasons</p>
</td></tr>
<tr><td><code id="data_generator_+3A_rate_dc_ae">rate_dc_ae</code></td>
<td>
<p>Vector of probabilities of observing at least one adverse
event</p>
</td></tr>
<tr><td><code id="data_generator_+3A_prob_ae">prob_ae</code></td>
<td>
<p>Vector of proportions of discontinuing due to adverse event</p>
</td></tr>
<tr><td><code id="data_generator_+3A_seed_val">seed_val</code></td>
<td>
<p>Starting seed value</p>
</td></tr>
<tr><td><code id="data_generator_+3A_reference_id">reference_id</code></td>
<td>
<p>ID for pairwise comparisons, e.g. for three arms,
if reference_id=1, then arms 2 and 3 will be compared only to arm 1</p>
</td></tr>
<tr><td><code id="data_generator_+3A_plot_po">plot_po</code></td>
<td>
<p>TRUE, if plotting data only. Otherwise, set to FALSE</p>
</td></tr>
<tr><td><code id="data_generator_+3A_up_good">up_good</code></td>
<td>
<p>&quot;Up&quot; if higher outcome values indicate better responses</p>
</td></tr>
<tr><td><code id="data_generator_+3A_threshold">threshold</code></td>
<td>
<p>Value to dichotomize continuous outcomes on</p>
</td></tr>
<tr><td><code id="data_generator_+3A_delta_adjustment_in">delta_adjustment_in</code></td>
<td>
<p>Vector of delta adjustment values or NA if none.
E.g. (2,3,1) when reference_id = 1 means no delta adjustment on arm 1
(even though 2 was supplied, but since arm 1 is the reference arm, this will
be defaulted to 0 regardless), 3 on arm 2 and 1 on arm 3.</p>
</td></tr>
<tr><td><code id="data_generator_+3A_covariate_df">covariate_df</code></td>
<td>
<p>Matrix or dataframe of covariates. Set NA if using default
covariates, which comprises one continuous (standard normal) and binary
(bernoulli with prob 0.5) covariates. Rows correspond to the total number of
subjects. Order matters. For instance, if you want to simulate a trial
with 3 arms, each of size 30,50 and 80, then covariate_df would have 30+50+80
rows such that the first 30 rows are covariates for arm 1, the next 50 rows
are covariates for arm 2 and the last 80 rows are covariates for arm 3.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of dataframes of estimands and simulated data, including delta
adjusted ones if requested:
</p>
<table>
<tr><td><code>estimand_mean</code></td>
<td>
<p>List of means of the FULL, S_++, S_*+ and
PP estimands</p>
</td></tr>
<tr><td><code>estimand_sd</code></td>
<td>
<p>List of standard deviations of the FULL, S_++, S_*+
and PP estimands</p>
</td></tr>
<tr><td><code>dc_mean_list</code></td>
<td>
<p>List of proportions of discontinuations</p>
</td></tr>
<tr><td><code>observed_df</code></td>
<td>
<p>Dataframe of the observed outcomes</p>
</td></tr>
<tr><td><code>po_df</code></td>
<td>
<p>Dataframe of the potential outcomes</p>
</td></tr>
<tr><td><code>ir_df</code></td>
<td>
<p>Dataframe of the outcomes that have been adjusted via
immediate reference (IR) or delta adjustment (Delta) for treatment policy
estimands. The IR outcomes are labelled as ir_data while the delta
adjusted outcomes are labelled as delta_data. The delta adjusted outcomes
will only be available if the correct inputs for delta_adjustment_in are
provided</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>total_data = 3
reference_id = 1
threshold = NA
timepoints = c(0,24,48,72,96,120,144)
IR_display = TRUE
delta_adjustment_in = c(0,1)

n_patient_ctrl = 120
n_patient_expt = 150
n_patient_vector = c(n_patient_ctrl, n_patient_expt)
n_total = sum(n_patient_vector)

mean_control = c(0,0,0,0,0,0,0)
mean_treatment = c(0,0.1,0.2,0.4,0.6,0.8,1)
mean_list = list(mean_control, mean_treatment)

sigma_ar_vec = c(1, 1)
pacf_list = list(c(-0.2, 0.4),
                 c(-0.2, 0.4))

beta_list = list(c(1.25, 1.25),
                 c(1.25, 1.25))
covariate_df = NA

# LoE &amp; EE
up_good = "Up"
p_loe_max = 0.75
z_l_loe = -7
z_u_loe = -1
p_ee_max = 0.1
z_l_ee = 4
z_u_ee = 10

# Admin &amp; AE

p_admin_ctrl = 0.02
p_admin_expt = 0.02
p_admin = c(p_admin_ctrl, p_admin_expt)

prob_ae_ctrl = 0.7
prob_ae_expt = 0.9
prob_ae = c(prob_ae_ctrl, prob_ae_expt)

rate_dc_ae_ctrl = 0.1
rate_dc_ae_expt = 0.1
rate_dc_ae = c(rate_dc_ae_ctrl, rate_dc_ae_expt)

starting_seed_val = 1
static_output = TRUE

mean_out = plot_means(n_patient_vector = n_patient_vector, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, reference_id = reference_id, seed_val = starting_seed_val,
total_data = total_data, threshold = threshold, covariate_df = covariate_df,
static_output = static_output)

plot_loe_ee (mean_list = mean_list, ref_grp = reference_id,
stdev_vec = sigma_ar_vec, p_loe_max = p_loe_max, z_l_loe = z_l_loe,
z_u_loe = z_u_loe, p_ee_max = p_ee_max, z_l_ee = z_l_ee, z_u_ee = z_u_ee,
up_good = up_good, greyscale = FALSE, static_output = static_output)

data_out = data_generator(n_patient_vector = n_patient_vector,
p_loe_max = p_loe_max, z_l_loe = z_l_loe, z_u_loe = z_u_loe,
p_ee_max = p_ee_max, z_l_ee = z_l_ee, z_u_ee = z_u_ee, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, p_admin = p_admin, rate_dc_ae = rate_dc_ae,
prob_ae = prob_ae, seed_val = starting_seed_val, reference_id = reference_id,
plot_po = FALSE, up_good = up_good, threshold = threshold,
delta_adjustment_in = delta_adjustment_in,
covariate_df = covariate_df)
</code></pre>

<hr>
<h2 id='data_generator_loop'>data_generator_loop</h2><span id='topic+data_generator_loop'></span>

<h3>Description</h3>

<p>Simulate multiple or single clinical trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_generator_loop(
  n_patient_vector,
  p_loe_max,
  z_l_loe,
  z_u_loe,
  p_ee_max,
  z_l_ee,
  z_u_ee,
  timepoints,
  pacf_list,
  sigma_ar_vec,
  mean_list,
  beta_list,
  p_admin,
  rate_dc_ae,
  prob_ae,
  seed_val,
  reference_id,
  plot_po = FALSE,
  up_good,
  threshold,
  total_data,
  delta_adjustment_in,
  covariate_df
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_generator_loop_+3A_n_patient_vector">n_patient_vector</code></td>
<td>
<p>Vector of number of patients</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_p_loe_max">p_loe_max</code></td>
<td>
<p>The maximum probability of discontinuing due to LoE</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_z_l_loe">z_l_loe</code></td>
<td>
<p>The lower (or left) threshold of the LoE curve</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_z_u_loe">z_u_loe</code></td>
<td>
<p>The upper (or right) threshold of the LoE curve</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_p_ee_max">p_ee_max</code></td>
<td>
<p>The maximum probability of discontinuing due to EE</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_z_l_ee">z_l_ee</code></td>
<td>
<p>The lower (or left) threshold of the EE curve</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_z_u_ee">z_u_ee</code></td>
<td>
<p>The upper (or right) threshold of the EE curve</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_timepoints">timepoints</code></td>
<td>
<p>Vector of timepoints (e.g. weeks, days, time indices)</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_pacf_list">pacf_list</code></td>
<td>
<p>List of pacf vectors</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_sigma_ar_vec">sigma_ar_vec</code></td>
<td>
<p>Vector of variances per arm associated with list of pacf vectors</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_mean_list">mean_list</code></td>
<td>
<p>List of vectors of means per arm</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_beta_list">beta_list</code></td>
<td>
<p>List of vectors of beta coefficients per arm.
All vectors must have the same length and must be the same
as the number of columns for the covariate_df</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_p_admin">p_admin</code></td>
<td>
<p>Vector of probabilities of discontinuing due to admin reasons</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_rate_dc_ae">rate_dc_ae</code></td>
<td>
<p>Vector of probabilities of observing at least one adverse
event</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_prob_ae">prob_ae</code></td>
<td>
<p>Vector of proportions of discontinuing due to adverse event</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_seed_val">seed_val</code></td>
<td>
<p>Starting seed value</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_reference_id">reference_id</code></td>
<td>
<p>ID for pairwise comparisons, e.g. for three arms,
if reference_id=1, then arms 2 and 3 will be compared only to arm 1</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_plot_po">plot_po</code></td>
<td>
<p>TRUE, if plotting data only. Otherwise, set to FALSE</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_up_good">up_good</code></td>
<td>
<p>&quot;Up&quot; if higher outcome values indicate better responses</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_threshold">threshold</code></td>
<td>
<p>Value to dichotomize continuous outcomes on</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_total_data">total_data</code></td>
<td>
<p>Total number of clinical trials to simulate</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_delta_adjustment_in">delta_adjustment_in</code></td>
<td>
<p>Vector of delta adjustment values or NA if none.
E.g. (2,3,1) when reference_id = 1 means no delta adjustment on arm 1
(even though 2 was supplied, but since arm 1 is the reference arm, this will
be defaulted to 0 regardless), 3 on arm 2 and 1 on arm 3.</p>
</td></tr>
<tr><td><code id="data_generator_loop_+3A_covariate_df">covariate_df</code></td>
<td>
<p>Matrix or dataframe of covariates. Set NA if using default
covariates, which comprises one continuous (standard normal) and binary
(bernoulli with prob 0.5) covariates. Rows correspond to the total number of
subjects. Order matters. For instance, if you want to simulate a trial
with 3 arms, each of size 30,50 and 80, then covariate_df would have 30+50+80
rows such that the first 30 rows are covariates for arm 1, the next 50 rows
are covariates for arm 2 and the last 80 rows are covariates for arm 3.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of dataframes of estimands and simulated data, including delta
adjusted ones if requested:
</p>
<table>
<tr><td><code>estimand_mean</code></td>
<td>
<p>List of means of the FULL, S_++, S_*+ and
PP estimands</p>
</td></tr>
<tr><td><code>estimand_sd</code></td>
<td>
<p>List of standard deviations of the FULL, S_++,
S_*+ and PP estimands</p>
</td></tr>
<tr><td><code>dc_mean_list</code></td>
<td>
<p>List of proportions of discontinuations</p>
</td></tr>
<tr><td><code>observed_df</code></td>
<td>
<p>Dataframe of the observed outcomes</p>
</td></tr>
<tr><td><code>po_df</code></td>
<td>
<p>Dataframe of the potential outcomes</p>
</td></tr>
<tr><td><code>ir_df</code></td>
<td>
<p>Dataframe of the outcomes that have been adjusted via
immediate reference (IR) or delta adjustment (Delta) for treatment policy
estimands. The IR outcomes are labelled as ir_data while the delta
adjusted outcomes are labelled as delta_data.The delta adjusted outcomes
will only be available if the correct inputs for delta_adjustment_in
are provided.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>total_data = 3
reference_id = 1
threshold = NA
timepoints = c(0,24,48,72,96,120,144)
IR_display = TRUE
delta_adjustment_in = c(0,1)

n_patient_ctrl = 120
n_patient_expt = 150
n_patient_vector = c(n_patient_ctrl, n_patient_expt)
n_total = sum(n_patient_vector)

mean_control = c(0,0,0,0,0,0,0)
mean_treatment = c(0,0.1,0.2,0.4,0.6,0.8,1)
mean_list = list(mean_control, mean_treatment)

sigma_ar_vec = c(1, 1)
pacf_list = list(c(-0.2, 0.4),
                 c(-0.2, 0.4))

beta_list = list(c(1.25, 1.25),
                 c(1.25, 1.25))
covariate_df = NA

# LoE &amp; EE
up_good = "Up"
p_loe_max = 0.75
z_l_loe = -7
z_u_loe = -1
p_ee_max = 0.1
z_l_ee = 4
z_u_ee = 10

# Admin &amp; AE

p_admin_ctrl = 0.02
p_admin_expt = 0.02
p_admin = c(p_admin_ctrl, p_admin_expt)

prob_ae_ctrl = 0.7
prob_ae_expt = 0.9
prob_ae = c(prob_ae_ctrl, prob_ae_expt)

rate_dc_ae_ctrl = 0.1
rate_dc_ae_expt = 0.1
rate_dc_ae = c(rate_dc_ae_ctrl, rate_dc_ae_expt)

starting_seed_val = 1
static_output = TRUE

mean_out = plot_means(n_patient_vector = n_patient_vector, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, reference_id = reference_id, seed_val = starting_seed_val,
total_data = total_data, threshold = threshold, covariate_df = covariate_df,
static_output = static_output)

plot_loe_ee (mean_list = mean_list, ref_grp = reference_id,
stdev_vec = sigma_ar_vec, p_loe_max = p_loe_max, z_l_loe = z_l_loe,
z_u_loe = z_u_loe, p_ee_max = p_ee_max, z_l_ee = z_l_ee, z_u_ee = z_u_ee,
up_good = up_good, greyscale = FALSE, static_output = static_output)

data_out = data_generator_loop(n_patient_vector = n_patient_vector,
p_loe_max = p_loe_max, z_l_loe = z_l_loe, z_u_loe = z_u_loe,
p_ee_max = p_ee_max, z_l_ee = z_l_ee, z_u_ee = z_u_ee, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, p_admin = p_admin, rate_dc_ae = rate_dc_ae,
prob_ae = prob_ae, seed_val = starting_seed_val, reference_id = reference_id,
plot_po = FALSE, up_good = up_good, threshold = threshold,
total_data = total_data, delta_adjustment_in = delta_adjustment_in,
covariate_df = covariate_df)
</code></pre>

<hr>
<h2 id='line_parameters'>line_parameters</h2><span id='topic+line_parameters'></span>

<h3>Description</h3>

<p>Helper function that returns slope and intercept for line
equation using two points in the cartesian plot: (x1, x2) and (y1, y2)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>line_parameters(x1, y1, x2, y2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="line_parameters_+3A_x1">x1</code></td>
<td>
<p>first value of the point (x1, x2) in the cartesian plot</p>
</td></tr>
<tr><td><code id="line_parameters_+3A_y1">y1</code></td>
<td>
<p>first value of the point (y1, y2) in the cartesian plot</p>
</td></tr>
<tr><td><code id="line_parameters_+3A_x2">x2</code></td>
<td>
<p>second value of the point (x1, x2) in the cartesian plot</p>
</td></tr>
<tr><td><code id="line_parameters_+3A_y2">y2</code></td>
<td>
<p>second value of the point (y1, y2) in the cartesian plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of slope and intercept for equation of line.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>line_parameters(1,2,4,2)
</code></pre>

<hr>
<h2 id='p_ae_poisson'>p_ae_poisson</h2><span id='topic+p_ae_poisson'></span>

<h3>Description</h3>

<p>Helper function that returns probability of discontinuing due
to adverse events (AE)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>p_ae_poisson(rate_dc_ae, prob_ae)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="p_ae_poisson_+3A_rate_dc_ae">rate_dc_ae</code></td>
<td>
<p>Probability of observing at least one AE</p>
</td></tr>
<tr><td><code id="p_ae_poisson_+3A_prob_ae">prob_ae</code></td>
<td>
<p>Proportion of discontinuation due to AE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Probabilities of discontinuing due to AE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p_ae_poisson(c(0.9, 0.8), c(0.1, 0.1))
</code></pre>

<hr>
<h2 id='p_loe_ee_function'>p_loe_ee_function</h2><span id='topic+p_loe_ee_function'></span>

<h3>Description</h3>

<p>Helper function that returns probability of discontinuing due
to lack of efficacy (LoE) or excess efficacy (EE) via a piecewise linear
function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>p_loe_ee_function(z, p_max, z_l, p_min = 0, z_u, up_good = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="p_loe_ee_function_+3A_z">z</code></td>
<td>
<p>Vector of numeric values, i.e. change from baseline values</p>
</td></tr>
<tr><td><code id="p_loe_ee_function_+3A_p_max">p_max</code></td>
<td>
<p>Maximum probability of discontinuing</p>
</td></tr>
<tr><td><code id="p_loe_ee_function_+3A_z_l">z_l</code></td>
<td>
<p>The lower (or left) threshold of the piecewise linear function</p>
</td></tr>
<tr><td><code id="p_loe_ee_function_+3A_p_min">p_min</code></td>
<td>
<p>Maximum probability of discontinuing (set to 0)</p>
</td></tr>
<tr><td><code id="p_loe_ee_function_+3A_z_u">z_u</code></td>
<td>
<p>The upper (or right) threshold of the piecewise linear function</p>
</td></tr>
<tr><td><code id="p_loe_ee_function_+3A_up_good">up_good</code></td>
<td>
<p>TRUE if higher outcome values indicate better responses</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Probabilities of discontinuing due to LoE or EE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>line_parameters(1,2,4,2)
</code></pre>

<hr>
<h2 id='pacf_vec_to_acf'>pacf_vec_to_acf</h2><span id='topic+pacf_vec_to_acf'></span>

<h3>Description</h3>

<p>Generate correlation matrix from partial autocorrelations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacf_vec_to_acf(pacf_vec, n_repeat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pacf_vec_to_acf_+3A_pacf_vec">pacf_vec</code></td>
<td>
<p>Vector of partial autocorrelations</p>
</td></tr>
<tr><td><code id="pacf_vec_to_acf_+3A_n_repeat">n_repeat</code></td>
<td>
<p>number of repeat measures (must be longer than length of pacf_vec)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Correlation matrix from partial autocorrelations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pacf_vec_to_acf(c(0.5, -0.1), 5)
</code></pre>

<hr>
<h2 id='plot_dc'>plot_dc</h2><span id='topic+plot_dc'></span>

<h3>Description</h3>

<p>Plots the discontinuation rates by timepoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_dc(
  data_out,
  total_data,
  timepoints,
  normal_output = TRUE,
  static_output = FALSE,
  greyscale = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_dc_+3A_data_out">data_out</code></td>
<td>
<p>The output from data_generator_loop()</p>
</td></tr>
<tr><td><code id="plot_dc_+3A_total_data">total_data</code></td>
<td>
<p>Total number of clinical trials to simulate</p>
</td></tr>
<tr><td><code id="plot_dc_+3A_timepoints">timepoints</code></td>
<td>
<p>Vector of timepoints (e.g. weeks, days, time indices)</p>
</td></tr>
<tr><td><code id="plot_dc_+3A_normal_output">normal_output</code></td>
<td>
<p>TRUE if both plots and numeric values of estimands are
requested. FALSE if only plots are requested</p>
</td></tr>
<tr><td><code id="plot_dc_+3A_static_output">static_output</code></td>
<td>
<p>TRUE if static mode requested and FALSE if dynamic plot
is requested</p>
</td></tr>
<tr><td><code id="plot_dc_+3A_greyscale">greyscale</code></td>
<td>
<p>TRUE if greyscale requested and FALSE for color</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot and dataframe of proportion of discontinuations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>total_data = 3
reference_id = 1
threshold = NA
timepoints = c(0,24,48,72,96,120,144)
IR_display = TRUE
delta_adjustment_in = c(0,1)
n_patient_ctrl = 120
n_patient_expt = 150
n_patient_vector = c(n_patient_ctrl, n_patient_expt)
n_total = sum(n_patient_vector)
mean_control = c(0,0,0,0,0,0,0)
mean_treatment = c(0,0.1,0.2,0.4,0.6,0.8,1)
mean_list = list(mean_control, mean_treatment)
sigma_ar_vec = c(1, 1)
pacf_list = list(c(-0.2, 0.4),
                c(-0.2, 0.4))
beta_list = list(c(1.25, 1.25),
                c(1.25, 1.25))
covariate_df = NA
up_good = "Up"
p_loe_max = 0.75
z_l_loe = -7
z_u_loe = -1
p_ee_max = 0.1
z_l_ee = 4
z_u_ee = 10
p_admin_ctrl = 0.02
p_admin_expt = 0.02
p_admin = c(p_admin_ctrl, p_admin_expt)
prob_ae_ctrl = 0.7
prob_ae_expt = 0.9
prob_ae = c(prob_ae_ctrl, prob_ae_expt)
rate_dc_ae_ctrl = 0.1
rate_dc_ae_expt = 0.1
rate_dc_ae = c(rate_dc_ae_ctrl, rate_dc_ae_expt)
starting_seed_val = 1
static_output = TRUE
data_out = data_generator_loop(n_patient_vector = n_patient_vector,
p_loe_max = p_loe_max, z_l_loe = z_l_loe, z_u_loe = z_u_loe,
p_ee_max = p_ee_max, z_l_ee = z_l_ee, z_u_ee = z_u_ee, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, p_admin = p_admin, rate_dc_ae = rate_dc_ae,
prob_ae = prob_ae, seed_val = starting_seed_val, reference_id = reference_id,
plot_po = FALSE, up_good = up_good, threshold = threshold,
total_data = total_data, delta_adjustment_in = delta_adjustment_in,
covariate_df = covariate_df)

estimates_out = plot_estimates(data_out = data_out, total_data = total_data,
timepoints = timepoints, reference_id = reference_id, IR_display = IR_display,
normal_output = TRUE, static_output = static_output)

dc_out = plot_dc(data_out = data_out, total_data = total_data,
timepoints = timepoints, static_output = static_output)

</code></pre>

<hr>
<h2 id='plot_estimates'>plot_estimates</h2><span id='topic+plot_estimates'></span>

<h3>Description</h3>

<p>Plots the estimates of the estimands
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_estimates(
  data_out,
  total_data,
  timepoints,
  reference_id,
  IR_display = TRUE,
  delta_display = TRUE,
  normal_output = TRUE,
  static_output = FALSE,
  greyscale = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_estimates_+3A_data_out">data_out</code></td>
<td>
<p>The output from data_generator_loop()</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_total_data">total_data</code></td>
<td>
<p>Total number of clinical trials to simulate</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_timepoints">timepoints</code></td>
<td>
<p>Vector of timepoints (e.g. weeks, days, time indices)</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_reference_id">reference_id</code></td>
<td>
<p>ID for pairwise comparisons, e.g. for three arms,
if reference_id=1, then arms 2 and 3 will be compared only to arm 1</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_ir_display">IR_display</code></td>
<td>
<p>TRUE if requested to display Immediate Reference estimand.
FALSE otherwise</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_delta_display">delta_display</code></td>
<td>
<p>TRUE if requested to display Delta estimand.
FALSE otherwise</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_normal_output">normal_output</code></td>
<td>
<p>TRUE if both plots and numeric values of estimands are
requested. FALSE if only plots are requested</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_static_output">static_output</code></td>
<td>
<p>TRUE if static mode requested and FALSE if dynamic plot
is requested</p>
</td></tr>
<tr><td><code id="plot_estimates_+3A_greyscale">greyscale</code></td>
<td>
<p>TRUE if greyscale requested and FALSE for color</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot and dataframe of estimands.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>total_data = 3
reference_id = 1
threshold = NA
timepoints = c(0,24,48,72,96,120,144)
IR_display = TRUE
delta_adjustment_in = c(0,1)
delta_display = TRUE
n_patient_ctrl = 120
n_patient_expt = 150
n_patient_vector = c(n_patient_ctrl, n_patient_expt)
n_total = sum(n_patient_vector)
mean_control = c(0,0,0,0,0,0,0)
mean_treatment = c(0,0.1,0.2,0.4,0.6,0.8,1)
mean_list = list(mean_control, mean_treatment)
sigma_ar_vec = c(1, 1)
pacf_list = list(c(-0.2, 0.4),
                c(-0.2, 0.4))
beta_list = list(c(1.25, 1.25),
                c(1.25, 1.25))
covariate_df = NA
up_good = "Up"
p_loe_max = 0.75
z_l_loe = -7
z_u_loe = -1
p_ee_max = 0.1
z_l_ee = 4
z_u_ee = 10
p_admin_ctrl = 0.02
p_admin_expt = 0.02
p_admin = c(p_admin_ctrl, p_admin_expt)
prob_ae_ctrl = 0.7
prob_ae_expt = 0.9
prob_ae = c(prob_ae_ctrl, prob_ae_expt)
rate_dc_ae_ctrl = 0.1
rate_dc_ae_expt = 0.1
rate_dc_ae = c(rate_dc_ae_ctrl, rate_dc_ae_expt)
starting_seed_val = 1
static_output = TRUE
data_out = data_generator_loop(n_patient_vector = n_patient_vector,
p_loe_max = p_loe_max, z_l_loe = z_l_loe, z_u_loe = z_u_loe,
p_ee_max = p_ee_max, z_l_ee = z_l_ee, z_u_ee = z_u_ee, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, p_admin = p_admin, rate_dc_ae = rate_dc_ae,
prob_ae = prob_ae, seed_val = starting_seed_val, reference_id = reference_id,
plot_po = FALSE, up_good = up_good, threshold = threshold,
total_data = total_data, delta_adjustment_in = delta_adjustment_in,
covariate_df = covariate_df)

estimates_out = plot_estimates(data_out = data_out, total_data = total_data,
timepoints = timepoints, reference_id = reference_id, IR_display = IR_display,
delta_display = delta_display, normal_output = TRUE, static_output = static_output)

</code></pre>

<hr>
<h2 id='plot_loe_ee'>plot_loe_ee</h2><span id='topic+plot_loe_ee'></span>

<h3>Description</h3>

<p>Plots the lack of efficacy (LoE) and excess efficacy (EE) graphs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_loe_ee(
  mean_list,
  ref_grp,
  stdev_vec,
  p_loe_max,
  z_l_loe,
  z_u_loe,
  p_ee_max,
  z_l_ee,
  z_u_ee,
  up_good,
  greyscale,
  static_output = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_loe_ee_+3A_mean_list">mean_list</code></td>
<td>
<p>List of vectors of means per arm</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_ref_grp">ref_grp</code></td>
<td>
<p>ID for pairwise comparisons, e.g. for three arms,
if reference_id=1, then arms 2 and 3 will be compared only to arm 1</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_stdev_vec">stdev_vec</code></td>
<td>
<p>Vector of standard deviations per arm.
This is used to adjust the x-axis for display</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_p_loe_max">p_loe_max</code></td>
<td>
<p>The maximum probability of discontinuing due to LoE</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_z_l_loe">z_l_loe</code></td>
<td>
<p>The lower (or left) threshold of the LoE curve</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_z_u_loe">z_u_loe</code></td>
<td>
<p>The upper (or right) threshold of the LoE curve</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_p_ee_max">p_ee_max</code></td>
<td>
<p>The maximum probability of discontinuing due to EE</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_z_l_ee">z_l_ee</code></td>
<td>
<p>The lower (or left) threshold of the EE curve</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_z_u_ee">z_u_ee</code></td>
<td>
<p>The upper (or right) threshold of the EE curve</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_up_good">up_good</code></td>
<td>
<p>&quot;Up&quot; if higher outcome values indicate better responses
and &quot;Down&quot; otherwise</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_greyscale">greyscale</code></td>
<td>
<p>TRUE for greyscale setting and FALSE for color setting</p>
</td></tr>
<tr><td><code id="plot_loe_ee_+3A_static_output">static_output</code></td>
<td>
<p>TRUE, if static and FALSE if dynamic plot is requested</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The plot for LoE and EE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>total_data = 3
reference_id = 1
threshold = NA
timepoints = c(0,24,48,72,96,120,144)
IR_display = TRUE
delta_adjustment_in = c(0,1)

n_patient_ctrl = 120
n_patient_expt = 150
n_patient_vector = c(n_patient_ctrl, n_patient_expt)
n_total = sum(n_patient_vector)

mean_control = c(0,0,0,0,0,0,0)
mean_treatment = c(0,0.1,0.2,0.4,0.6,0.8,1)
mean_list = list(mean_control, mean_treatment)

sigma_ar_vec = c(1, 1)
pacf_list = list(c(-0.2, 0.4),
                 c(-0.2, 0.4))

beta_list = list(c(1.25, 1.25),
                 c(1.25, 1.25))
covariate_df = NA

# LoE &amp; EE
up_good = "Up"
p_loe_max = 0.75
z_l_loe = -7
z_u_loe = -1
p_ee_max = 0.1
z_l_ee = 4
z_u_ee = 10

# Admin &amp; AE

p_admin_ctrl = 0.02
p_admin_expt = 0.02
p_admin = c(p_admin_ctrl, p_admin_expt)

prob_ae_ctrl = 0.7
prob_ae_expt = 0.9
prob_ae = c(prob_ae_ctrl, prob_ae_expt)

rate_dc_ae_ctrl = 0.1
rate_dc_ae_expt = 0.1
rate_dc_ae = c(rate_dc_ae_ctrl, rate_dc_ae_expt)

starting_seed_val = 1
static_output = TRUE

mean_out = plot_means(n_patient_vector = n_patient_vector, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, reference_id = reference_id, seed_val = starting_seed_val,
total_data = total_data, threshold = threshold, covariate_df = covariate_df,
static_output = static_output)

plot_loe_ee (mean_list = mean_list, ref_grp = reference_id,
stdev_vec = sigma_ar_vec, p_loe_max = p_loe_max, z_l_loe = z_l_loe,
z_u_loe = z_u_loe, p_ee_max = p_ee_max, z_l_ee = z_l_ee, z_u_ee = z_u_ee,
up_good = up_good, greyscale = FALSE, static_output = static_output)
</code></pre>

<hr>
<h2 id='plot_means'>plot_means</h2><span id='topic+plot_means'></span>

<h3>Description</h3>

<p>Plots the means of simulation parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_means(
  n_patient_vector,
  timepoints,
  pacf_list,
  sigma_ar_vec,
  mean_list,
  beta_list,
  reference_id,
  seed_val,
  threshold,
  total_data,
  covariate_df,
  static_output = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_means_+3A_n_patient_vector">n_patient_vector</code></td>
<td>
<p>Vector of number of patients</p>
</td></tr>
<tr><td><code id="plot_means_+3A_timepoints">timepoints</code></td>
<td>
<p>Vector of timepoints (e.g. weeks, days, time indices)</p>
</td></tr>
<tr><td><code id="plot_means_+3A_pacf_list">pacf_list</code></td>
<td>
<p>List of pacf vectors</p>
</td></tr>
<tr><td><code id="plot_means_+3A_sigma_ar_vec">sigma_ar_vec</code></td>
<td>
<p>Vector of variances per arm associated with list of pacf vectors</p>
</td></tr>
<tr><td><code id="plot_means_+3A_mean_list">mean_list</code></td>
<td>
<p>List of vectors of means per arm</p>
</td></tr>
<tr><td><code id="plot_means_+3A_beta_list">beta_list</code></td>
<td>
<p>List of vectors of beta coefficients per arm.
All vectors must have the same length and must be the same
as the number of columns for the covariate_df.</p>
</td></tr>
<tr><td><code id="plot_means_+3A_reference_id">reference_id</code></td>
<td>
<p>ID for pairwise comparisons, e.g. for three arms,
if reference_id=1, then arms 2 and 3 will be compared only to arm 1</p>
</td></tr>
<tr><td><code id="plot_means_+3A_seed_val">seed_val</code></td>
<td>
<p>Starting seed value</p>
</td></tr>
<tr><td><code id="plot_means_+3A_threshold">threshold</code></td>
<td>
<p>Value to dichotomize continuous outcomes on</p>
</td></tr>
<tr><td><code id="plot_means_+3A_total_data">total_data</code></td>
<td>
<p>Total number of clinical trials to simulate</p>
</td></tr>
<tr><td><code id="plot_means_+3A_covariate_df">covariate_df</code></td>
<td>
<p>Matrix or dataframe of covariates.
Rows correspond to the total number of subjects. Order matters,
For instance, if you want to simulate a trial with 3 arms, each of size 30,50 and 80,
then covariate_df would have 30+50+80 rows such that the first 30 rows are
covariates for arm 1, the next 50 rows are covariates for arm 2
and the last 80 rows are covariates for arm 3.</p>
</td></tr>
<tr><td><code id="plot_means_+3A_static_output">static_output</code></td>
<td>
<p>TRUE, if static and FALSE if dynamic plot is requested</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The plot of raw means.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>total_data = 3
reference_id = 1
threshold = NA
timepoints = c(0,24,48,72,96,120,144)
IR_display = TRUE
delta_adjustment_in = c(0,1)

n_patient_ctrl = 120
n_patient_expt = 150
n_patient_vector = c(n_patient_ctrl, n_patient_expt)
n_total = sum(n_patient_vector)

mean_control = c(0,0,0,0,0,0,0)
mean_treatment = c(0,0.1,0.2,0.4,0.6,0.8,1)
mean_list = list(mean_control, mean_treatment)

sigma_ar_vec = c(1, 1)
pacf_list = list(c(-0.2, 0.4),
                 c(-0.2, 0.4))

beta_list = list(c(1.25, 1.25),
                 c(1.25, 1.25))
covariate_df = NA

# LoE &amp; EE
up_good = "Up"
p_loe_max = 0.75
z_l_loe = -7
z_u_loe = -1
p_ee_max = 0.1
z_l_ee = 4
z_u_ee = 10

# Admin &amp; AE

p_admin_ctrl = 0.02
p_admin_expt = 0.02
p_admin = c(p_admin_ctrl, p_admin_expt)

prob_ae_ctrl = 0.7
prob_ae_expt = 0.9
prob_ae = c(prob_ae_ctrl, prob_ae_expt)

rate_dc_ae_ctrl = 0.1
rate_dc_ae_expt = 0.1
rate_dc_ae = c(rate_dc_ae_ctrl, rate_dc_ae_expt)

starting_seed_val = 1
static_output = TRUE

mean_out = plot_means(n_patient_vector = n_patient_vector, timepoints = timepoints,
pacf_list = pacf_list, sigma_ar_vec = sigma_ar_vec, mean_list = mean_list,
beta_list = beta_list, reference_id = reference_id, seed_val = starting_seed_val,
total_data = total_data, threshold = threshold, covariate_df = covariate_df,
static_output = static_output)
</code></pre>

<hr>
<h2 id='rep_col'>rep_rcol</h2><span id='topic+rep_col'></span>

<h3>Description</h3>

<p>Helper function to repeat a matrix by column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rep_col(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rep_col_+3A_x">x</code></td>
<td>
<p>vector to repeat</p>
</td></tr>
<tr><td><code id="rep_col_+3A_n">n</code></td>
<td>
<p>number of repetions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>matrix with vector x repeated n-times by columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
rep_col(rnorm(5), 5)
</code></pre>

<hr>
<h2 id='rep_row'>rep_row</h2><span id='topic+rep_row'></span>

<h3>Description</h3>

<p>Helper function to repeat a matrix by row
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rep_row(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rep_row_+3A_x">x</code></td>
<td>
<p>vector to repeat</p>
</td></tr>
<tr><td><code id="rep_row_+3A_n">n</code></td>
<td>
<p>number of repetions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix with vector x repeated n-times by rows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
rep_row(rnorm(5), 5)
</code></pre>

<hr>
<h2 id='simulated_data_output'>simulated_data_output</h2><span id='topic+simulated_data_output'></span>

<h3>Description</h3>

<p>Helper function to combine simulated data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulated_data_output(
  n_patient_cumsum,
  i,
  first_patient,
  data_in,
  covariate_df,
  timepoints,
  beta_list,
  seed_val,
  potential_outcomes = FALSE,
  observed_indicator = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulated_data_output_+3A_n_patient_cumsum">n_patient_cumsum</code></td>
<td>
<p>Vector of number of patients</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_i">i</code></td>
<td>
<p>Index for arm</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_first_patient">first_patient</code></td>
<td>
<p>Index for first patient of arm</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_data_in">data_in</code></td>
<td>
<p>Simulated data from data_generator()</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_covariate_df">covariate_df</code></td>
<td>
<p>Matrix or dataframe of covariates.
Rows correspond to the total number of subjects. Order matters,
For instance, if you want to simulate a trial with 3 arms, each of size 30,50 and 80,
then covariate_df would have 30+50+80 rows such that the first 30 rows are
covariates for arm 1, the next 50 rows are covariates for arm 2
and the last 80 rows are covariates for arm 3.</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_timepoints">timepoints</code></td>
<td>
<p>Vector of timepoints (e.g. weeks, days, time indices)</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_beta_list">beta_list</code></td>
<td>
<p>List of vectors of beta coefficients per arm.
All vectors must have the same length and must be the same
as the number of columns for the covariate_df.</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_seed_val">seed_val</code></td>
<td>
<p>Current seed value</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_potential_outcomes">potential_outcomes</code></td>
<td>
<p>TRUE if data to be combined is for potential
outcomes, and FALSE otherwise</p>
</td></tr>
<tr><td><code id="simulated_data_output_+3A_observed_indicator">observed_indicator</code></td>
<td>
<p>Dataframe containing which subjects/arms/timepoints
were observed (necessary for potential outcomes), else default to NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe of for either potential outcomes, observed outcomes,
outcomes with immediate reference assumption or delta adjustment assumption
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n_patient_ctrl = 120
n_patient_expt = 150
n_patient_vector = c(n_patient_ctrl, n_patient_expt)
n_patient_cumsum = cumsum(n_patient_vector)
total_patients = sum(n_patient_vector)
timepoints = c(0,24,48,72,96,120,144)
data_in = matrix(rnorm(length(timepoints)*n_patient_ctrl), ncol = length(timepoints))
i = 1
first_patient = 1
covariate_df = data.frame(continuous  = rnorm(n = total_patients, mean = 0, sd = 1),
binary = rbinom(n = total_patients, size = 1, prob = 0.5))
beta_list = NA
seed_val = 1
potential_outcomes = FALSE
observed_indicator = NA
simulated_data_output(n_patient_cumsum = n_patient_cumsum, i = i,
first_patient = first_patient, data_in = data_in, covariate_df = covariate_df,
timepoints = timepoints, beta_list = beta_list, seed_val = seed_val,
potential_outcomes = FALSE, observed_indicator = NA)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

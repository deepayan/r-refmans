<!DOCTYPE html><html lang="en"><head><title>Help for package EQUALrepeat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {EQUALrepeat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#function.Measurement_Error'>
<p>Calculate Measurement Error</p></a></li>
<li><a href='#function.rbind_different_column_numbers'>
<p>Combine Multiple Dataframes with Different Column Numbers</p></a></li>
<li><a href='#function.read_data'>
<p>Read a CSV File and Classify Variable Type</p></a></li>
<li><a href='#function.Repeated_Measures'>
<p>Compare Differences between Repeated Measurements</p></a></li>
<li><a href='#function.Time_Series'>
<p>Analysis Time Series Data</p></a></li>
<li><a href='#round_near'>
<p>Rounds a Variable to the Nearest Pretty Number</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Algorithm Driven Time Series Analysis for Researchers without
Coding Skills</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-09-05</td>
</tr>
<tr>
<td>Author:</td>
<td>Kurinchi Gurusamy [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kurinchi Gurusamy &lt;k.gurusamy@ucl.ac.uk&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>stringr, stats, ggplot2, DescTools</td>
</tr>
<tr>
<td>Imports:</td>
<td>zip, cowplot, rstatix, irr, forecast, tseries, urca, vars,
viridisLite</td>
</tr>
<tr>
<td>Description:</td>
<td>Support functions for R-based 'EQUAL-STATS' software which automatically classifies the data and performs appropriate statistical tests. 'EQUAL-STATS' software is a shiny application with an user-friendly interface to perform complex statistical analysis. Gurusamy,K (2024)&lt;<a href="https://doi.org/10.5281%2Fzenodo.13354162">doi:10.5281/zenodo.13354162</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://sites.google.com/view/equal-group/home">https://sites.google.com/view/equal-group/home</a></td>
</tr>
<tr>
<td>Note:</td>
<td>This update fixes bugs noted because of global variables not
being recognised as global variables in some environments.</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-06 15:14:50 UTC; kurin</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-06 16:10:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='function.Measurement_Error'>
Calculate Measurement Error
</h2><span id='topic+function.Measurement_Error'></span>

<h3>Description</h3>

<p>Calculates the intra-rater reliability for categorical data using <span class="pkg">irr</span> and the concordance correlation coefficient and the information required for creating Bland-Altman plots using <span class="pkg">DescTools</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>function.Measurement_Error(Predefined_lists, rv)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="function.Measurement_Error_+3A_predefined_lists">Predefined_lists</code></td>
<td>
<p>A list supplied by 'EQUAL-STATS' application</p>
</td></tr>
<tr><td><code id="function.Measurement_Error_+3A_rv">rv</code></td>
<td>
<p>A list supplied by 'EQUAL-STATS' application based on user input</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>analysis_outcome</code></td>
<td>
<p>Whether the analysis was performed successfullly</p>
</td></tr>
<tr><td><code>plan</code></td>
<td>
<p>Plan used for analysis</p>
</td></tr>
<tr><td><code>code</code></td>
<td>
<p>Part of code generated for performing the analysis in a standalone version of R</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>Analysis results</p>
</td></tr>
<tr><td><code>results_display</code></td>
<td>
<p>In order to present a single table, multiple results are combined. This results in some numbers stored as text and can cause very wide tables in the shiny output. This issue is fixed wth some modifications to the results table for display purposes.</p>
</td></tr>
<tr><td><code>plots_list</code></td>
<td>
<p>A list of plots generated. Returns &quot;&quot; if no plots are generated.</p>
</td></tr>
<tr><td><code>plots_list_display</code></td>
<td>
<p>In the shiny application, only one figure is displayed. Therefore, a composite image is created from the plots for display purposes. Some analysis functions may return <code>NULL</code>.</p>
</td></tr>
<tr><td><code>selections</code></td>
<td>
<p>Selections made by the user for display.</p>
</td></tr>
<tr><td><code>display_table</code></td>
<td>
<p>Whether the results table should be displayed in the shiny app.</p>
</td></tr>
<tr><td><code>display_plot</code></td>
<td>
<p>Whether the plot should be displayed in the shiny app.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This is part of a suite of functions required to allow 'EQUAL-STATS' program to run. This is unlikely to be used as a stand alone function.
</p>


<h3>Author(s)</h3>

<p>Kurinchi Gurusamy
</p>


<h3>References</h3>

<p><a href="https://sites.google.com/view/equal-group/home">https://sites.google.com/view/equal-group/home</a>
</p>


<h3>See Also</h3>

<p>function.submit_choices
<code><a href="irr.html#topic+kendall">irr::kendall()</a></code>
<code><a href="irr.html#topic+kappa2">irr::kappa2()</a></code>
<code><a href="irr.html#topic+kappam.fleiss">irr::kappam.fleiss()</a></code>
<code><a href="DescTools.html#topic+CCC">DescTools::CCC()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- cbind.data.frame(
  `Subject ID` = c(
    "S0001", "S0002", "S0003", "S0004", "S0005",
    "S0006", "S0007", "S0008", "S0009", "S0010",
    "S0011", "S0012", "S0013", "S0014", "S0015",
    "S0016", "S0017", "S0018", "S0019", "S0020",
    "S0021", "S0022", "S0023", "S0024", "S0025",
    "S0026", "S0027", "S0028", "S0029", "S0030"),
  `Centre` = c(
    "C_0001", "C_0002", "C_0002", "C_0002", "C_0002",
    "C_0001", "C_0001", "C_0003", "C_0001", "C_0003",
    "C_0001", "C_0002", "C_0002", "C_0001", "C_0003",
    "C_0002", "C_0002", "C_0003", "C_0001", "C_0002",
    "C_0002", "C_0002", "C_0002", "C_0003", "C_0002",
    "C_0001", "C_0003", "C_0001", "C_0001", "C_0001"),
  `Treatment` = c(
    "Intensive rehabilitation", "Intensive rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Standard rehabilitation", "Intensive rehabilitation", "Standard rehabilitation",
    "Standard rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation"),
  `Obesity status` = c(
    "Obese", "Non-obese", "Obese", "Non-obese", "Non-obese",
    "Obese", "Obese", "Obese", "Non-obese", "Obese",
    "Non-obese", "Non-obese", "Obese", "Non-obese", "Obese",
    "Obese", "Non-obese", "Obese", "Obese", "Obese",
    "Non-obese", "Non-obese", "Non-obese", "Obese", "Obese",
    "Non-obese", "Obese", "Obese", "Obese", "Obese"),
  `Unable to walk independently at 6 weeks` = c(
    "unable", "able", "able", "unable", "able",
    "able", "unable", "unable", "unable", "unable",
    "able", "unable", "able", "unable", "unable",
    "able", "unable", "unable", "unable", "unable",
    "able", "able", "able", "able", "unable",
    "able", "able", "unable", "able", "unable"),
  `Mobility score at 6 months` = c(
    86, 65.1, 48, 99.8, 73.4, 70, 74.7, 36.5, 64.6, 85.4,
    41.7, 60.1, 73.3, 42.4, 55.3, 47.3, 85.9, 63, 64.6, 101.8,
    108.1, 72.3, 96.4, 87.5, 66.2, 92.9, 47.7, 55.8, 56.4, 133.8),
  `Pain at 6 weeks` = c(
    "3_severe", "1_mild", "1_mild", "2_moderate", "1_mild",
    "1_mild", "2_moderate", "2_moderate", "1_mild", "3_severe",
    "1_mild", "2_moderate", "1_mild", "3_severe", "3_severe",
    "1_mild", "2_moderate", "3_severe", "2_moderate", "2_moderate",
    "1_mild", "1_mild", "1_mild", "1_mild", "2_moderate",
    "1_mild", "1_mild", "2_moderate", "1_mild", "2_moderate"),
  `Number of falls within 6 months` = c(
    3, 2, 3, 2, 2, 1, 4, 2, 2, 5,
    3, 2, 2, 2, 5, 3, 2, 2, 3, 4,
    3, 1, 2, 2, 2, 7, 2, 1, 1, 8),
  `Mobility score at 12 months` = c(
    90, 69.1, 52, 103.8, 77.4, 74, 78.7, 40.5, 68.6, 89.4,
    45.7, 64.1, 77.3, 46.4, 59.3, 51.3, 89.9, 67, 68.6, 105.8,
    112.1, 76.3, 100.4, 91.5, 70.2, 96.9, 51.7, 59.8, 60.4, 137.8) ,
  `Admission to care home` = c(
    "Not admitted", "Not admitted", "Admitted", "Not admitted", "Admitted",
    "Admitted", "Not admitted", "Admitted", "Admitted", "Not admitted",
    "Admitted", "Admitted", "Not admitted", "Not admitted", "Not admitted",
    "Not admitted", "Admitted", "Admitted", "Not admitted", "Not admitted",
    "Not admitted", "Admitted", "Not admitted", "Admitted", "Admitted",
    "Admitted", "Admitted", "Admitted", "Admitted", "Not admitted"),
  `Follow-up` = c(
    10, 8, 8, 8, 12, 12, 11, 10, 8, 7,
    8, 6, 9, 6, 9, 8, 10, 8, 11, 9,
    6, 9, 12, 9, 8, 11, 12, 9, 10, 11)
)
# Simulate lists provided by EQUAL-STATS
Predefined_lists &lt;- list(
  main_menu = c(
    'Calculate summary measures',
    'Create plots',
    'Check distribution',
    'Compare sample mean versus population mean',
    'Compare groups/variables (independent samples)',
    'Compare groups/variables (paired samples or repeated measures)',
    'Find the correlation (quantitative variables)',
    'Calculate measurement error',
    'Find the diagnostic accuracy (primary data)',
    'Perform sample size and power calculations (primary data)',
    'Perform survival analysis',
    'Perform regression analysis',
    'Analyse time series',
    'Perform mixed-effects regression',
    'Perform multivariate regression',
    'Generate hypothesis',
    'Perform sample size and power calculations (effect size approach)',
    'Make correct conclusions (effect size approach)',
    'Find the diagnostic accuracy (tabulated data)'
  ),
  menu_short = c(
    'Summary_Measures',
    'Create_Plots',
    'Check_Distribution',
    'Compare_Sample_Pop_Means',
    'Compare_Groups',
    'Repeated_Measures',
    'Correlation',
    'Measurement_Error',
    'Diagnostic_Accuracy_Primary',
    'Sample_Size_Calculations_Primary',
    'Survival_Analysis',
    'Regression_Analysis',
    'Time_Series',
    'Mixed_Effects_Regression',
    'Multivariate_Regression',
    'Generate_Hypothesis',
    'Sample_Size_Calculations_Effect_size',
    'Make_Conclusions_Effect_size',
    'Diagnostic_Accuracy_Tables'
  )
)
entry &lt;- list()
entry &lt;- lapply(1:15, function(x) entry[[x]] &lt;- '')
rv &lt;- list(
  StorageFolder = tempdir(),
  first_menu_choice = NA,
  second_menu_choice = NA,
  entry = entry,
  import_data = NULL,
  same_row_different_row = NA,
  submit_button_to_appear = FALSE,
  summary_measures_choices = c("EQUAL-STATS choice", "Total observations",
  "Missing observations", "Available observations"),
  analysis_outcome = list(),
  code = list(),
  plan = list(),
  results = list(),
  plots_list = list(),
  reports = list()
)
# Store the data in the a folder
data_file_path = paste0(tempdir(), "/data.csv")
write.csv(data, file = data_file_path, row.names = FALSE, na = "")
# Load the necessary packages and functions ####
library(stringr)
library(irr)
library(DescTools)
library(ggplot2)
rv$import_data &lt;- function.read_data(data_file_path)
# Update choices ####
rv$first_menu_choice &lt;- "Measurement_Error"
rv$second_menu_choice &lt;- "EQUAL-STATS choice"
rv$entry[[1]] &lt;- "Mobility score at 6 months"
rv$entry[[2]] &lt;- "Mobility score at 12 months"
# Final function ####
Results &lt;- function.Measurement_Error(Predefined_lists, rv)
</code></pre>

<hr>
<h2 id='function.rbind_different_column_numbers'>
Combine Multiple Dataframes with Different Column Numbers
</h2><span id='topic+function.rbind_different_column_numbers'></span>

<h3>Description</h3>

<p><span class="pkg">Base</span> function <code>rbind.data.frame</code> requires that the multiple data frames to be combined must have the same column numbers and names. For producing reports for 'EQUAL-STATS', data frames with different column numbers and names are required. This function allows this combination.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>function.rbind_different_column_numbers(list, include_columns)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="function.rbind_different_column_numbers_+3A_list">list</code></td>
<td>
<p>A list of data frames to be combined provided as a <code>list</code> object.</p>
</td></tr>
<tr><td><code id="function.rbind_different_column_numbers_+3A_include_columns">include_columns</code></td>
<td>
<p>Whether the column names of each data frame should be included as the first row indicated as <code>"Yes"</code> or <code>"No"</code>. Default is <code>"Yes"</code>. It is unsual to require <code>"No"</code> in this function.</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>output</code></td>
<td>
<p>A data frame with the multiple rows combined.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This is part of a suite of functions required to allow 'EQUAL-STATS' program to run. This is unlikely to be used as a stand alone function.
</p>


<h3>Author(s)</h3>

<p>Kurinchi Gurusamy
</p>


<h3>References</h3>

<p><a href="https://sites.google.com/view/equal-group/home">https://sites.google.com/view/equal-group/home</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+rbind.data.frame">base::rbind.data.frame()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a simulated data frames
df &lt;- cbind.data.frame(
  Age = rnorm(3000, 40, 10),
  Height = rnorm(3000,165,15),
  `Length of hospital stay` = rpois(3000, 8),
  `Number of infections` = rpois(3000, 3)
)
# Calculate means and standard deviations for normally distributed variables
# and median and upper and lower quartiles for non-normally distributed variables
summary_measures &lt;- lapply(1:ncol(df), function(y) {
  if (y&lt;=2) {
    output &lt;- cbind.data.frame(
      Variable = colnames(df)[y],
      Mean = mean(df[,y]),
      `Standard deviation` = sd(df[,y])
    )
  } else {
    output &lt;- cbind.data.frame(
      Variable = colnames(df)[y],
      Median = quantile(df[,y], probs = 0.5),
      `Lower quartile` = quantile(df[,y], probs = 0.25),
      `Upper quartile` = quantile(df[,y], probs = 0.75)
    )
  }
  return(output)
})
# Combine the normally and non-normally distributed variables
normally_distributed_variables &lt;- rbind.data.frame(summary_measures[[1]], summary_measures[[2]])
non_normally_distributed_variables &lt;- rbind.data.frame(summary_measures[[3]], summary_measures[[4]])
# Combining the variables in a single data frame using
# rbind.data.frame causes error
combined_data_frame &lt;- try(rbind.data.frame(normally_distributed_variables,
non_normally_distributed_variables))
combined_data_frame
# Combining the variables in a single data_frame using
# function.rbind_different_column_numbers does not cause error
# Note that data frames must be supplied as a list
# (any number of data frames can be present in the list)
# Final function ####
combined_data_frame_new_function &lt;- function.rbind_different_column_numbers(
list(normally_distributed_variables, non_normally_distributed_variables)
)
combined_data_frame_new_function
</code></pre>

<hr>
<h2 id='function.read_data'>
Read a CSV File and Classify Variable Type
</h2><span id='topic+function.read_data'></span>

<h3>Description</h3>

<p>When an user uploads a file in 'EQUAL-STATS' program, the program can automatically classify the variable types based on the nature of the data uploaded. The data and data types are stored in memory. This then determines the options available for questions and the analysis performed. The variable types can be altered using function.read_metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>function.read_data(data_file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="function.read_data_+3A_data_file_path">data_file_path</code></td>
<td>
<p>The path to the data file.</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>outcome</code></td>
<td>
<p>Whether the import was successful.</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>The message displayed to the user after the processing. This message also contains the reason for failure if the import was unsuccessful.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>Imported data</p>
</td></tr>
<tr><td><code>any_type</code></td>
<td>
<p>All variables in the data</p>
</td></tr>
<tr><td><code>quantitative</code></td>
<td>
<p>Quantitative variables in the data</p>
</td></tr>
<tr><td><code>counts</code></td>
<td>
<p>Count variables in the data</p>
</td></tr>
<tr><td><code>categorical</code></td>
<td>
<p>Categorical variables in the data</p>
</td></tr>
<tr><td><code>nominal</code></td>
<td>
<p>Categorical variables without any order in the data</p>
</td></tr>
<tr><td><code>binary</code></td>
<td>
<p>Categorical variables with only two possible categories (factors/levels) in the data</p>
</td></tr>
<tr><td><code>ordinal</code></td>
<td>
<p>Ordered categorical variables</p>
</td></tr>
<tr><td><code>date</code></td>
<td>
<p>Any variables that appear like date</p>
</td></tr>
<tr><td><code>time</code></td>
<td>
<p>Any variables that appear like time</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This is part of a suite of functions required to allow 'EQUAL-STATS' program to run. This is unlikely to be used as a stand alone function.
</p>


<h3>Author(s)</h3>

<p>Kurinchi Gurusamy
</p>


<h3>References</h3>

<p><a href="https://sites.google.com/view/equal-group/home">https://sites.google.com/view/equal-group/home</a>
</p>


<h3>See Also</h3>

<p>function.read_metadata
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create simulated data ####
data &lt;- cbind.data.frame(
  `Subject ID` = c(
    "S0001", "S0002", "S0003", "S0004", "S0005",
    "S0006", "S0007", "S0008", "S0009", "S0010",
    "S0011", "S0012", "S0013", "S0014", "S0015",
    "S0016", "S0017", "S0018", "S0019", "S0020",
    "S0021", "S0022", "S0023", "S0024", "S0025",
    "S0026", "S0027", "S0028", "S0029", "S0030"),
  `Centre` = c(
    "C_0001", "C_0002", "C_0002", "C_0002", "C_0002",
    "C_0001", "C_0001", "C_0003", "C_0001", "C_0003",
    "C_0001", "C_0002", "C_0002", "C_0001", "C_0003",
    "C_0002", "C_0002", "C_0003", "C_0001", "C_0002",
    "C_0002", "C_0002", "C_0002", "C_0003", "C_0002",
    "C_0001", "C_0003", "C_0001", "C_0001", "C_0001"),
  `Treatment` = c(
    "Intensive rehabilitation", "Intensive rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Standard rehabilitation", "Intensive rehabilitation", "Standard rehabilitation",
    "Standard rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation"),
  `Obesity status` = c(
    "Obese", "Non-obese", "Obese", "Non-obese", "Non-obese",
    "Obese", "Obese", "Obese", "Non-obese", "Obese",
    "Non-obese", "Non-obese", "Obese", "Non-obese", "Obese",
    "Obese", "Non-obese", "Obese", "Obese", "Obese",
    "Non-obese", "Non-obese", "Non-obese", "Obese", "Obese",
    "Non-obese", "Obese", "Obese", "Obese", "Obese"),
  `Unable to walk independently at 6 weeks` = c(
    "unable", "able", "able", "unable", "able",
    "able", "unable", "unable", "unable", "unable",
    "able", "unable", "able", "unable", "unable",
    "able", "unable", "unable", "unable", "unable",
    "able", "able", "able", "able", "unable",
    "able", "able", "unable", "able", "unable"),
  `Mobility score at 6 months` = c(
    86, 65.1, 48, 99.8, 73.4, 70, 74.7, 36.5, 64.6, 85.4,
    41.7, 60.1, 73.3, 42.4, 55.3, 47.3, 85.9, 63, 64.6, 101.8,
    108.1, 72.3, 96.4, 87.5, 66.2, 92.9, 47.7, 55.8, 56.4, 133.8),
  `Pain at 6 weeks` = c(
    "3_severe", "1_mild", "1_mild", "2_moderate", "1_mild",
    "1_mild", "2_moderate", "2_moderate", "1_mild", "3_severe",
    "1_mild", "2_moderate", "1_mild", "3_severe", "3_severe",
    "1_mild", "2_moderate", "3_severe", "2_moderate", "2_moderate",
    "1_mild", "1_mild", "1_mild", "1_mild", "2_moderate",
    "1_mild", "1_mild", "2_moderate", "1_mild", "2_moderate"),
  `Number of falls within 6 months` = c(
    3, 2, 3, 2, 2, 1, 4, 2, 2, 5,
    3, 2, 2, 2, 5, 3, 2, 2, 3, 4,
    3, 1, 2, 2, 2, 7, 2, 1, 1, 8),
  `Mobility score at 12 months` = c(
    90, 69.1, 52, 103.8, 77.4, 74, 78.7, 40.5, 68.6, 89.4,
    45.7, 64.1, 77.3, 46.4, 59.3, 51.3, 89.9, 67, 68.6, 105.8,
    112.1, 76.3, 100.4, 91.5, 70.2, 96.9, 51.7, 59.8, 60.4, 137.8)
)
# Store this in a folder
data_file_path = paste0(tempdir(), "/data.csv")
write.csv(data, file = data_file_path, row.names = FALSE, na = "")
# Load the necessary packages
library(stringr)
# Final function ####
imported_data_types &lt;- function.read_data(data_file_path)
</code></pre>

<hr>
<h2 id='function.Repeated_Measures'>
Compare Differences between Repeated Measurements
</h2><span id='topic+function.Repeated_Measures'></span>

<h3>Description</h3>

<p>Calculates the skewness and kurtosis and results of Shapiro-Wilk test and Kolmogrov-Smirnov tests using <span class="pkg">DescTools</span> and <span class="pkg">stats</span> to determine normality. It uses the the appropriate tests from <span class="pkg">stats</span>, <span class="pkg">DescTools</span>, and <span class="pkg">rstatix</span> to compare differences over time. For quantitative data, it is also possible to perform ANCOVA, i.e., compare the differences in change in measurements over time between groups. It uses <span class="pkg">ggplot2</span> to create plots and <span class="pkg">cowplot</span> to combine multiple plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>function.Repeated_Measures(Predefined_lists, rv)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="function.Repeated_Measures_+3A_predefined_lists">Predefined_lists</code></td>
<td>
<p>A list supplied by 'EQUAL-STATS' application</p>
</td></tr>
<tr><td><code id="function.Repeated_Measures_+3A_rv">rv</code></td>
<td>
<p>A list supplied by 'EQUAL-STATS' application based on user input</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>analysis_outcome</code></td>
<td>
<p>Whether the analysis was performed successfullly</p>
</td></tr>
<tr><td><code>plan</code></td>
<td>
<p>Plan used for analysis</p>
</td></tr>
<tr><td><code>code</code></td>
<td>
<p>Part of code generated for performing the analysis in a standalone version of R</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>Analysis results</p>
</td></tr>
<tr><td><code>results_display</code></td>
<td>
<p>In order to present a single table, multiple results are combined. This results in some numbers stored as text and can cause very wide tables in the shiny output. This issue is fixed wth some modifications to the results table for display purposes.</p>
</td></tr>
<tr><td><code>plots_list</code></td>
<td>
<p>A list of plots generated. Returns &quot;&quot; if no plots are generated.</p>
</td></tr>
<tr><td><code>plots_list_display</code></td>
<td>
<p>In the shiny application, only one figure is displayed. Therefore, a composite image is created from the plots for display purposes. Some analysis functions may return <code>NULL</code>.</p>
</td></tr>
<tr><td><code>selections</code></td>
<td>
<p>Selections made by the user for display.</p>
</td></tr>
<tr><td><code>display_table</code></td>
<td>
<p>Whether the results table should be displayed in the shiny app.</p>
</td></tr>
<tr><td><code>display_plot</code></td>
<td>
<p>Whether the plot should be displayed in the shiny app.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This is part of a suite of functions required to allow 'EQUAL-STATS' program to run. This is unlikely to be used as a stand alone function.
</p>


<h3>Author(s)</h3>

<p>Kurinchi Gurusamy
</p>


<h3>References</h3>

<p><a href="https://sites.google.com/view/equal-group/home">https://sites.google.com/view/equal-group/home</a>
</p>


<h3>See Also</h3>

<p>function.submit_choices
<code><a href="stats.html#topic+shapiro.test">stats::shapiro.test()</a></code>
<code><a href="stats.html#topic+ks.test">stats::ks.test()</a></code>
<code><a href="DescTools.html#topic+Kurt">DescTools::Kurt()</a></code>
<code><a href="DescTools.html#topic+Skew">DescTools::Skew()</a></code>
<code><a href="stats.html#topic+mcnemar.test">stats::mcnemar.test()</a></code>
<code><a href="DescTools.html#topic+CochranQTest">DescTools::CochranQTest()</a></code>
<code><a href="stats.html#topic+t.test">stats::t.test()</a></code>
<code><a href="rstatix.html#topic+get_anova_table">rstatix::get_anova_table()</a></code>
<code><a href="stats.html#topic+wilcox.test">stats::wilcox.test()</a></code>
<code><a href="stats.html#topic+friedman.test">stats::friedman.test()</a></code>
<code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create simulated data ####
data &lt;- cbind.data.frame(
  `Subject ID` = c(
    "S0001", "S0002", "S0003", "S0004", "S0005",
    "S0006", "S0007", "S0008", "S0009", "S0010",
    "S0011", "S0012", "S0013", "S0014", "S0015",
    "S0016", "S0017", "S0018", "S0019", "S0020",
    "S0021", "S0022", "S0023", "S0024", "S0025",
    "S0026", "S0027", "S0028", "S0029", "S0030"),
  `Centre` = c(
    "C_0001", "C_0002", "C_0002", "C_0002", "C_0002",
    "C_0001", "C_0001", "C_0003", "C_0001", "C_0003",
    "C_0001", "C_0002", "C_0002", "C_0001", "C_0003",
    "C_0002", "C_0002", "C_0003", "C_0001", "C_0002",
    "C_0002", "C_0002", "C_0002", "C_0003", "C_0002",
    "C_0001", "C_0003", "C_0001", "C_0001", "C_0001"),
  `Treatment` = c(
    "Intensive rehabilitation", "Intensive rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Standard rehabilitation", "Intensive rehabilitation", "Standard rehabilitation",
    "Standard rehabilitation", "Intensive rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Standard rehabilitation",
    "Intensive rehabilitation", "Standard rehabilitation", "Intensive rehabilitation"),
  `Obesity status` = c(
    "Obese", "Non-obese", "Obese", "Non-obese", "Non-obese",
    "Obese", "Obese", "Obese", "Non-obese", "Obese",
    "Non-obese", "Non-obese", "Obese", "Non-obese", "Obese",
    "Obese", "Non-obese", "Obese", "Obese", "Obese",
    "Non-obese", "Non-obese", "Non-obese", "Obese", "Obese",
    "Non-obese", "Obese", "Obese", "Obese", "Obese"),
  `Unable to walk independently at 6 weeks` = c(
    "unable", "able", "able", "unable", "able",
    "able", "unable", "unable", "unable", "unable",
    "able", "unable", "able", "unable", "unable",
    "able", "unable", "unable", "unable", "unable",
    "able", "able", "able", "able", "unable",
    "able", "able", "unable", "able", "unable"),
  `Mobility score at 6 months` = c(
    86, 65.1, 48, 99.8, 73.4, 70, 74.7, 36.5, 64.6, 85.4,
    41.7, 60.1, 73.3, 42.4, 55.3, 47.3, 85.9, 63, 64.6, 101.8,
    108.1, 72.3, 96.4, 87.5, 66.2, 92.9, 47.7, 55.8, 56.4, 133.8),
  `Pain at 6 weeks` = c(
    "3_severe", "1_mild", "1_mild", "2_moderate", "1_mild",
    "1_mild", "2_moderate", "2_moderate", "1_mild", "3_severe",
    "1_mild", "2_moderate", "1_mild", "3_severe", "3_severe",
    "1_mild", "2_moderate", "3_severe", "2_moderate", "2_moderate",
    "1_mild", "1_mild", "1_mild", "1_mild", "2_moderate",
    "1_mild", "1_mild", "2_moderate", "1_mild", "2_moderate"),
  `Number of falls within 6 months` = c(
    3, 2, 3, 2, 2, 1, 4, 2, 2, 5,
    3, 2, 2, 2, 5, 3, 2, 2, 3, 4,
    3, 1, 2, 2, 2, 7, 2, 1, 1, 8),
  `Mobility score at 12 months` = c(
    90, 69.1, 52, 103.8, 77.4, 74, 78.7, 40.5, 68.6, 89.4,
    45.7, 64.1, 77.3, 46.4, 59.3, 51.3, 89.9, 67, 68.6, 105.8,
    112.1, 76.3, 100.4, 91.5, 70.2, 96.9, 51.7, 59.8, 60.4, 137.8) ,
  `Admission to care home` = c(
    "Not admitted", "Not admitted", "Admitted", "Not admitted", "Admitted",
    "Admitted", "Not admitted", "Admitted", "Admitted", "Not admitted",
    "Admitted", "Admitted", "Not admitted", "Not admitted", "Not admitted",
    "Not admitted", "Admitted", "Admitted", "Not admitted", "Not admitted",
    "Not admitted", "Admitted", "Not admitted", "Admitted", "Admitted",
    "Admitted", "Admitted", "Admitted", "Admitted", "Not admitted"),
  `Follow-up` = c(
    10, 8, 8, 8, 12, 12, 11, 10, 8, 7,
    8, 6, 9, 6, 9, 8, 10, 8, 11, 9,
    6, 9, 12, 9, 8, 11, 12, 9, 10, 11)
)
# Simulate lists provided by EQUAL-STATS
Predefined_lists &lt;- list(
  main_menu = c(
    'Calculate summary measures',
    'Create plots',
    'Check distribution',
    'Compare sample mean versus population mean',
    'Compare groups/variables (independent samples)',
    'Compare groups/variables (paired samples or repeated measures)',
    'Find the correlation (quantitative variables)',
    'Calculate measurement error',
    'Find the diagnostic accuracy (primary data)',
    'Perform sample size and power calculations (primary data)',
    'Perform survival analysis',
    'Perform regression analysis',
    'Analyse time series',
    'Perform mixed-effects regression',
    'Perform multivariate regression',
    'Generate hypothesis',
    'Perform sample size and power calculations (effect size approach)',
    'Make correct conclusions (effect size approach)',
    'Find the diagnostic accuracy (tabulated data)'
  ),
  menu_short = c(
    'Summary_Measures',
    'Create_Plots',
    'Check_Distribution',
    'Compare_Sample_Pop_Means',
    'Compare_Groups',
    'Repeated_Measures',
    'Correlation',
    'Measurement_Error',
    'Diagnostic_Accuracy_Primary',
    'Sample_Size_Calculations_Primary',
    'Survival_Analysis',
    'Regression_Analysis',
    'Time_Series',
    'Mixed_Effects_Regression',
    'Multivariate_Regression',
    'Generate_Hypothesis',
    'Sample_Size_Calculations_Effect_size',
    'Make_Conclusions_Effect_size',
    'Diagnostic_Accuracy_Tables'
  )
)
entry &lt;- list()
entry &lt;- lapply(1:15, function(x) entry[[x]] &lt;- '')
rv &lt;- list(
  StorageFolder = tempdir(),
  first_menu_choice = NA,
  second_menu_choice = NA,
  entry = entry,
  import_data = NULL,
  same_row_different_row = NA,
  submit_button_to_appear = FALSE,
  summary_measures_choices = c("EQUAL-STATS choice", "Total observations",
  "Missing observations", "Available observations"),
  analysis_outcome = list(),
  code = list(),
  plan = list(),
  results = list(),
  plots_list = list(),
  reports = list()
)
# Store the data in a folder
data_file_path = paste0(tempdir(), "/data.csv")
write.csv(data, file = data_file_path, row.names = FALSE, na = "")
# Load the necessary packages and functions ####
library(stringr)
library(DescTools)
library(ggplot2)
library(cowplot)
rv$import_data &lt;- function.read_data(data_file_path)
# Update choices ####
rv$first_menu_choice &lt;- "Repeated_Measures"
rv$second_menu_choice &lt;- "EQUAL-STATS choice"
rv$entry[[1]] &lt;- "Subject ID"
rv$entry[[2]] &lt;- "Mobility score at 6 months"
rv$entry[[3]] &lt;- "Mobility score at 12 months"
rv$entry[[4]] &lt;- ""
rv$entry[[5]] &lt;- "0.05"
rv$same_row_different_row &lt;- "Same row"
# Final function ####
Results &lt;- function.Repeated_Measures(Predefined_lists, rv)
</code></pre>

<hr>
<h2 id='function.Time_Series'>
Analysis Time Series Data
</h2><span id='topic+function.Time_Series'></span>

<h3>Description</h3>

<p>Performs analysis of time series data and predict the variables over time. It takes into account the seasonality and trend of data and uses <span class="pkg">forecast</span>, <span class="pkg">vars</span>, <span class="pkg">urca</span> to make the predictions. It uses <span class="pkg">ggplot2</span> to create plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>function.Time_Series(Predefined_lists, rv)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="function.Time_Series_+3A_predefined_lists">Predefined_lists</code></td>
<td>
<p>A list supplied by 'EQUAL-STATS' application</p>
</td></tr>
<tr><td><code id="function.Time_Series_+3A_rv">rv</code></td>
<td>
<p>A list supplied by 'EQUAL-STATS' application based on user input</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>analysis_outcome</code></td>
<td>
<p>Whether the analysis was performed successfullly</p>
</td></tr>
<tr><td><code>plan</code></td>
<td>
<p>Plan used for analysis</p>
</td></tr>
<tr><td><code>code</code></td>
<td>
<p>Part of code generated for performing the analysis in a standalone version of R</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>Analysis results</p>
</td></tr>
<tr><td><code>results_display</code></td>
<td>
<p>In order to present a single table, multiple results are combined. This results in some numbers stored as text and can cause very wide tables in the shiny output. This issue is fixed wth some modifications to the results table for display purposes.</p>
</td></tr>
<tr><td><code>plots_list</code></td>
<td>
<p>A list of plots generated. Returns &quot;&quot; if no plots are generated.</p>
</td></tr>
<tr><td><code>plots_list_display</code></td>
<td>
<p>In the shiny application, only one figure is displayed. Therefore, a composite image is created from the plots for display purposes. Some analysis functions may return <code>NULL</code>.</p>
</td></tr>
<tr><td><code>selections</code></td>
<td>
<p>Selections made by the user for display.</p>
</td></tr>
<tr><td><code>display_table</code></td>
<td>
<p>Whether the results table should be displayed in the shiny app.</p>
</td></tr>
<tr><td><code>display_plot</code></td>
<td>
<p>Whether the plot should be displayed in the shiny app.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This is part of a suite of functions required to allow 'EQUAL-STATS' program to run. This is unlikely to be used as a stand alone function.
</p>


<h3>Author(s)</h3>

<p>Kurinchi Gurusamy
</p>


<h3>References</h3>

<p><a href="https://sites.google.com/view/equal-group/home">https://sites.google.com/view/equal-group/home</a>
</p>


<h3>See Also</h3>

<p>function.submit_choices
<code><a href="stats.html#topic+ts">stats::ts()</a></code>
<code><a href="forecast.html#topic+auto.arima">forecast::auto.arima()</a></code>
<code><a href="forecast.html#topic+forecast.fracdiff">forecast::forecast.fracdiff()</a></code>
<code><a href="forecast.html#topic+findfrequency">forecast::findfrequency()</a></code>
<code><a href="forecast.html#topic+ndiffs">forecast::ndiffs()</a></code>
<code><a href="tseries.html#topic+adf.test">tseries::adf.test()</a></code>
<code><a href="urca.html#topic+ca.jo">urca::ca.jo()</a></code>
<code><a href="vars.html#topic+vec2var">vars::vec2var()</a></code>
<code><a href="vars.html#topic+VAR">vars::VAR()</a></code>
<code><a href="viridisLite.html#topic+viridis">viridisLite::viridis()</a></code>
<code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>
<code><a href="cowplot.html#topic+plot_grid">cowplot::plot_grid()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create simulated data ####
data &lt;- cbind.data.frame(
  Date = as.Date("2023-04-01") + 0:99,
  `Currency exchange rate`= rnorm(100, mean = 95, sd = 5)
)
# Simulate lists provided by EQUAL-STATS
Predefined_lists &lt;- list(
  main_menu = c(
    'Calculate summary measures',
    'Create plots',
    'Check distribution',
    'Compare sample mean versus population mean',
    'Compare groups/variables (independent samples)',
    'Compare groups/variables (paired samples or repeated measures)',
    'Find the correlation (quantitative variables)',
    'Calculate measurement error',
    'Find the diagnostic accuracy (primary data)',
    'Perform sample size and power calculations (primary data)',
    'Perform survival analysis',
    'Perform regression analysis',
    'Analyse time series',
    'Perform mixed-effects regression',
    'Perform multivariate regression',
    'Generate hypothesis',
    'Perform sample size and power calculations (effect size approach)',
    'Make correct conclusions (effect size approach)',
    'Find the diagnostic accuracy (tabulated data)'
  ),
  menu_short = c(
    'Summary_Measures',
    'Create_Plots',
    'Check_Distribution',
    'Compare_Sample_Pop_Means',
    'Compare_Groups',
    'Repeated_Measures',
    'Correlation',
    'Measurement_Error',
    'Diagnostic_Accuracy_Primary',
    'Sample_Size_Calculations_Primary',
    'Survival_Analysis',
    'Regression_Analysis',
    'Time_Series',
    'Mixed_Effects_Regression',
    'Multivariate_Regression',
    'Generate_Hypothesis',
    'Sample_Size_Calculations_Effect_size',
    'Make_Conclusions_Effect_size',
    'Diagnostic_Accuracy_Tables'
  )
)
entry &lt;- list()
entry &lt;- lapply(1:15, function(x) entry[[x]] &lt;- '')
rv &lt;- list(
  StorageFolder = tempdir(),
  first_menu_choice = NA,
  second_menu_choice = NA,
  entry = entry,
  import_data = NULL,
  same_row_different_row = NA,
  submit_button_to_appear = FALSE,
  summary_measures_choices = c("EQUAL-STATS choice", "Total observations",
  "Missing observations", "Available observations"),
  analysis_outcome = list(),
  code = list(),
  plan = list(),
  results = list(),
  plots_list = list(),
  reports = list()
)
# Store the data in a folder
data_file_path = paste0(tempdir(), "/data.csv")
write.csv(data, file = data_file_path, row.names = FALSE, na = "")
# Load the necessary packages and functions ####
library(stringr)
library(forecast)
library(viridisLite)
library(cowplot)
library(ggplot2)
rv$import_data &lt;- function.read_data(data_file_path)
rv$first_menu_choice &lt;- "Time_Series"
rv$second_menu_choice &lt;- NA
rv$entry[[1]] &lt;- "Currency exchange rate"
rv$entry[[2]] &lt;- "Date"
rv$entry[[3]] &lt;- ""
rv$entry[[4]] &lt;- ""
rv$entry[[5]] &lt;- "Univariate"
rv$entry[[6]] &lt;- 10
# Final function ####
Results &lt;- function.Time_Series(Predefined_lists, rv)
</code></pre>

<hr>
<h2 id='round_near'>
Rounds a Variable to the Nearest Pretty Number
</h2><span id='topic+round_near'></span>

<h3>Description</h3>

<p>For some graphs, <span class="pkg">Base</span> <code>pretty</code> function may not provide the correct rounding. This is a different algorithm suitable for the graphs produced in 'EQUAL-STATS' software.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round_near(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="round_near_+3A_x">x</code></td>
<td>
<p>A numeric variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A &quot;pretty number&quot; suitable for use in graphs.
</p>


<h3>Note</h3>

<p>This is part of a suite of functions required to allow 'EQUAL-STATS' program to run. This is unlikely to be used as a stand alone function.
</p>


<h3>Author(s)</h3>

<p>Kurinchi Gurusamy
</p>


<h3>References</h3>

<p><a href="https://sites.google.com/view/equal-group/home">https://sites.google.com/view/equal-group/home</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+pretty">base::pretty()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 7
round_near(x)

x &lt;- 754
round_near(x)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

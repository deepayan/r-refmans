<!DOCTYPE html><html><head><title>Help for package mctq</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mctq}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#assign_date'><p>Assign dates to two sequential hours</p></a></li>
<li><a href='#cycle_time'><p>Cycle time objects</p></a></li>
<li><a href='#fd'><p>Compute MCTQ work-free days</p></a></li>
<li><a href='#gu'><p>Compute MCTQ local time of getting out of bed</p></a></li>
<li><a href='#le_week'><p>Compute MCTQ average weekly light exposure</p></a></li>
<li><a href='#mctq-package'><p>mctq: Tools to Process the Munich ChronoType Questionnaire (MCTQ)</p></a></li>
<li><a href='#micro_mctq'><p>A fictional <code class="reqn">\mu</code>MCTQ dataset</p></a></li>
<li><a href='#msf_sc'><p>Compute MCTQ sleep-corrected local time of mid-sleep on work-free days</p></a></li>
<li><a href='#msl'><p>Compute MCTQ local time of mid-sleep</p></a></li>
<li><a href='#napd'><p>Compute MCTQ nap duration (only for MCTQ<code class="reqn">^{Shift}</code>)</p></a></li>
<li><a href='#pretty_mctq'><p>Make an MCTQ dataset more presentable</p></a></li>
<li><a href='#qplot_walk'><p>Walk through distribution plots</p></a></li>
<li><a href='#random_mctq'><p>Build a random MCTQ case</p></a></li>
<li><a href='#raw_data'><p>Get paths to <code>mctq</code> raw datasets</p></a></li>
<li><a href='#round_time'><p>Round time objects</p></a></li>
<li><a href='#sd_overall'><p>Compute MCTQ overall sleep duration (only for MCTQ<code class="reqn">^{Shift}</code>)</p></a></li>
<li><a href='#sd_week'><p>Compute MCTQ average weekly sleep duration</p></a></li>
<li><a href='#sd24'><p>Compute MCTQ 24 hours sleep duration (only for MCTQ<code class="reqn">^{Shift}</code>)</p></a></li>
<li><a href='#sdu'><p>Compute MCTQ sleep duration</p></a></li>
<li><a href='#shift_mctq'><p>A fictional MCTQ<code class="reqn">^{Shift}</code> dataset</p></a></li>
<li><a href='#shorter_interval'><p>Find the shorter or longer interval between two hours</p></a></li>
<li><a href='#sjl'><p>Compute MCTQ social jetlag</p></a></li>
<li><a href='#sjl_sc'><p>Compute Jankowski's MCTQ sleep-corrected social jetlag</p></a></li>
<li><a href='#sjl_weighted'><p>Compute MCTQ absolute social jetlag across all shifts</p></a></li>
<li><a href='#sloss_week'><p>Compute MCTQ weekly sleep loss</p></a></li>
<li><a href='#so'><p>Compute MCTQ local time of sleep onset</p></a></li>
<li><a href='#std_mctq'><p>A fictional standard MCTQ dataset</p></a></li>
<li><a href='#sum_time'><p>Sum time objects</p></a></li>
<li><a href='#tbt'><p>Compute MCTQ total time in bed</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools to Process the Munich ChronoType Questionnaire (MCTQ)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A complete toolkit to process the Munich ChronoType 
    Questionnaire (MCTQ) for its three versions (standard, micro, and shift). 
    MCTQ is a quantitative and validated tool to assess chronotypes using 
    peoples' sleep behavior, originally presented by Till Roenneberg, Anna 
    Wirz-Justice, and Martha Merrow (2003, &lt;<a href="https://doi.org/10.1177%2F0748730402239679">doi:10.1177/0748730402239679</a>&gt;).</td>
</tr>
<tr>
<td>biocViews:</td>
<td>Infrastructure, Preprocessing, Visualization</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/mctq/">https://docs.ropensci.org/mctq/</a>, <a href="https://github.com/ropensci/mctq/">https://github.com/ropensci/mctq/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/mctq/issues/">https://github.com/ropensci/mctq/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate (&ge; 2.1.0), cli (&ge; 3.6.0), dplyr (&ge; 1.1.0),
ggplot2 (&ge; 3.4.1), hms (&ge; 1.1.2), lifecycle (&ge; 1.0.3),
lubridate (&ge; 1.9.2)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr (&ge; 3.6.1), datasets (&ge; 4.1.0), grDevices (&ge; 4.1.0),
knitr (&ge; 1.42), mockr (&ge; 0.2.1), readr (&ge; 2.1.4), rlang (&ge;
1.0.6), rmarkdown (&ge; 2.20), spelling (&ge; 2.2), stats (&ge;
4.1.0), testthat (&ge; 3.1.6), usethis (&ge; 2.1.6), utils (&ge;
4.1.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-19 23:32:41 UTC; Daniel</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Vartanian <a href="https://orcid.org/0000-0001-7782-759X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, ccp, cph],
  Ana Amelia Benedito-Silva
    <a href="https://orcid.org/0000-0003-4976-2623"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [sad],
  Mario Pedrazzoli <a href="https://orcid.org/0000-0002-5257-591X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [sad],
  Jonathan Keane <a href="https://orcid.org/0000-0001-7087-9776"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev],
  Mario Andre Leocadio-Miguel
    <a href="https://orcid.org/0000-0002-7248-3529"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [rev],
  University of Sao Paulo (USP) [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Vartanian &lt;danvartan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-20 10:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='assign_date'>Assign dates to two sequential hours</h2><span id='topic+assign_date'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>This function will be removed on the next <code>mctq</code> version. You can still find
it in the <a href="https://github.com/giperbio/lubritime"><code>lubritime</code></a> package.
</p>
<p><code>assign_date()</code> assign dates to two sequential hours. It can facilitate
time arithmetic by locating time values without a date reference on a
timeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assign_date(start, end, ambiguity = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assign_date_+3A_start">start</code>, <code id="assign_date_+3A_end">end</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> or <code><a href="base.html#topic+as.POSIXlt">POSIXt</a></code>
object indicating the start or end hour.</p>
</td></tr>
<tr><td><code id="assign_date_+3A_ambiguity">ambiguity</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+numeric">numeric</a></code> or <code>NA</code> value to
instruct <code>assign_date()</code> on how to deal with ambiguities. See the Details
section to learn more (default: <code>0</code>).</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4><code>ambiguity</code> argument</h4>

<p>In cases when <code>start</code> is equal to <code>end</code>, there are two possibilities of
intervals between the two hours (ambiguity). That's because <code>start</code> and <code>end</code>
can be at the same point in time or they can distance themselves by one day,
considering a two-day timeline.
</p>
<div class="sourceCode"><pre> start,end       start,end       start,end       start,end
   start            end            start            end
   10:00           10:00           10:00           10:00
-----|---------------|---------------|---------------|-----&gt;
    0h              0h              0h              0h
            24h             24h             24h
</pre></div>
<p>You must instruct <code>assign_date()</code> on how to deal with this problem if it
occurs. There are three options to choose.
</p>

<ul>
<li> <p><code>ambiguity = 0</code>: to consider the interval between <code>start</code> and <code>end</code> as 0
hours, i.e., <code>start</code> and <code>end</code> are located at the same point in time
(default).
</p>
</li>
<li> <p><code>ambiguity = 24</code>: to consider the interval between <code>start</code> and <code>end</code> as 24
hours, i.e., <code>start</code> and <code>end</code> distance themselves by one day.
</p>
</li>
<li> <p><code>ambiguity = NA</code>: to disregard these cases, assigning <code>NA</code> as value.
</p>
</li></ul>




<h4>Base date and timezone</h4>

<p><code>assign_date()</code> uses the
<a href="https://en.wikipedia.org/wiki/Unix_time">Unix epoch</a> (1970-01-01) date as
the start date for creating intervals.
</p>
<p>The output will always have <code>"UTC"</code> set as timezone. Learn more about
time zones in <code><a href="base.html#topic+timezones">?timezone</a></code>.
</p>



<h4><code>POSIXt</code> objects</h4>

<p><code><a href="base.html#topic+as.POSIXlt">POSIXt</a></code> objects passed as argument to <code>start</code> or <code>end</code>
will be stripped of their dates. Only the time will be considered.
</p>
<p>Both <code><a href="base.html#topic+as.POSIXlt">POSIXct</a></code> and <code><a href="base.html#topic+as.POSIXlt">POSIXlt</a></code> are
objects that inherits the class <code>POSIXt</code>. Learn more about it in
<code><a href="base.html#topic+DateTimeClasses">?DateTimeClasses</a></code>.
</p>



<h4><code>NA</code> values</h4>

<p><code>assign_date()</code> will return an <code><a href="lubridate.html#topic+interval">Interval</a></code> <code>NA</code>-<code>NA</code>
if <code>start</code> or <code>end</code> are <code>NA</code>.
</p>



<h3>Value</h3>

<p>A <code>start</code>&ndash;<code>end</code> <code><a href="lubridate.html#topic+interval">Interval</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

start &lt;- hms::parse_hms("23:11:00")
end &lt;- hms::parse_hms("05:30:00")
assign_date(start, end)
#&gt; [1] 1970-01-01 23:11:00 UTC--1970-01-02 05:30:00 UTC # Expected

start &lt;- hms::parse_hms("10:15:00")
end &lt;- hms::parse_hms("13:25:00")
assign_date(start, end)
#&gt; [1] 1970-01-01 10:15:00 UTC--1970-01-01 13:25:00 UTC # Expected

start &lt;- hms::parse_hms("05:42:00")
end &lt;- hms::as_hms(NA)
assign_date(start, end)
#&gt; [1] NA--NA # Expected

## Vector example

start &lt;- c(hms::parse_hm("09:45"), hms::parse_hm("20:30"))
end &lt;- c(hms::parse_hm("21:15"), hms::parse_hm("04:30"))
assign_date(start, end)
#&gt; [1] 1970-01-01 09:45:00 UTC--1970-01-01 21:15:00 UTC # Expected
#&gt; [2] 1970-01-01 20:30:00 UTC--1970-01-02 04:30:00 UTC # Expected

## To assign a 24 hours interval to ambiguities

start &lt;- lubridate::as_datetime("1985-01-15 12:00:00")
end &lt;- lubridate::as_datetime("2020-09-10 12:00:00")
assign_date(start, end, ambiguity = 24)
#&gt; [1] 1970-01-01 12:00:00 UTC--1970-01-02 12:00:00 UTC # Expected
</code></pre>

<hr>
<h2 id='cycle_time'>Cycle time objects</h2><span id='topic+cycle_time'></span><span id='topic+cycle_time.numeric'></span><span id='topic+cycle_time.Duration'></span><span id='topic+cycle_time.difftime'></span><span id='topic+cycle_time.hms'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>This function will be removed on the next <code>mctq</code> version. You can still find
it in the <a href="https://github.com/giperbio/lubritime"><code>lubritime</code></a> package.
</p>
<p><code>cycle_time()</code> cycles time span objects in a predetermined cycle length,
adapting linear time objects into a circular time frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cycle_time(time, cycle, reverse = TRUE)

## S3 method for class 'numeric'
cycle_time(time, cycle, reverse = TRUE)

## S3 method for class 'Duration'
cycle_time(time, cycle, reverse = TRUE)

## S3 method for class 'difftime'
cycle_time(time, cycle, reverse = TRUE)

## S3 method for class 'hms'
cycle_time(time, cycle, reverse = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cycle_time_+3A_time">time</code></td>
<td>
<p>An object belonging to one of the following classes:
<code><a href="base.html#topic+numeric">numeric</a></code>, <code><a href="lubridate.html#topic+duration">Duration</a></code>,
<code><a href="base.html#topic+difftime">difftime</a></code>, or <code><a href="hms.html#topic+hms">hms</a></code>.</p>
</td></tr>
<tr><td><code id="cycle_time_+3A_cycle">cycle</code></td>
<td>
<p>A <code><a href="base.html#topic+numeric">numeric</a></code> or
<code><a href="lubridate.html#topic+duration">Duration</a></code> object of length <code>1</code>, equal or greater
than <code>0</code>, indicating the cycle length in seconds. See the Details section
to learn more.</p>
</td></tr>
<tr><td><code id="cycle_time_+3A_reverse">reverse</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+logical">logical</a></code> value indicating if the
function must use a reverse cycle for negative values in <code>time</code>. See
the Details section to learn more (default: <code>TRUE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Linear versus circular time</h4>

<p>Time can have different &quot;shapes&quot;.
</p>
<p>If the objective is to measure the duration (time span) of an event, time is
usually measured considering a linear frame, with a fixed point of
<a href="https://en.wikipedia.org/wiki/Origin_(mathematics)">origin</a>. In this
context, the time value distance itself to infinity in relation to the
origin.
</p>
<div class="sourceCode"><pre>                                   B
                             |----------|
                                        A
                             |---------------------|
 - inf                                                inf +
&lt;----------------------------|----------|----------|-------&gt;
 s                           0          5          10     s
                           origin

A + B = 10 + 5 = 15s
</pre></div>
<p>But that's not the only possible &quot;shape&quot; of time, as it can also be measured
in other contexts.
</p>
<p>In a &quot;time of day&quot; context, the time will be linked to the rotation of the
earth, &quot;resetting&quot; when a new rotation cycle starts. That brings a different
kind of shape to time: a circular shape. With this shape the time value
encounters the origin at the beginning and end of each cycle.
</p>
<div class="sourceCode"><pre>               - &lt;--- h ---&gt; +
                    origin
                . . . 0 . . .
             .                 .
            .                   .
           .                     .
          .                       .
         .                         .
         18                        6
         .                         .
          .                       .
           .                     .
            .                   .
             .                 .
                . . . 12 . . .

18 + 6 = 0h
</pre></div>
<p>If we transpose this circular time frame to a linear one, it would look like
this:
</p>
<div class="sourceCode"><pre>&lt;----|---------------|---------------|---------------|-----&gt;
    0h              12h              0h             12h
  origin                           origin
</pre></div>
<p>Note that now the origin is not fix, but cyclical.
</p>
<p><code>cycle_time()</code> operates by converting linear time objects using a circular
approach relative to the cycle length (e.g, <code>cycle = 86400</code> (1 day)).
</p>



<h4>Fractional time</h4>

<p><code>cycle_time()</code> uses the <code><a href="base.html#topic+Arithmetic">%%</a></code> operator to cycle values.
Hence, it can be subject to catastrophic loss of accuracy if <code>time</code> is
fractional and much larger than <code>cycle</code>. A warning is given if this is
detected.
</p>
<p><code><a href="base.html#topic+Arithmetic">%%</a></code> is a <code>builtin</code> R function that operates like this:
</p>
<div class="sourceCode"><pre>function(a, b) {
    a - floor(a / b) * b
}
</pre></div>



<h4>Negative time cycling</h4>

<p>If <code>time</code> have a negative value and <code>reverse == FALSE</code>, <code>cycle_time()</code> will
perform the cycle considering the absolute value of <code>time</code> and return the
result with a negative signal.
</p>
<p>However, If <code>time</code> have a negative value and <code>reverse == TRUE</code> (default),
<code>cycle_time()</code> will perform the cycle in reverse, relative to its origin.
</p>
<p>Example: If you have a -30h time span in a reversed cycle of 24h, the result
will be 18h. By removing the full cycles of -30h you will get -6h (-30 + 24),
and -6h relative to the origin will be 18h.
</p>
<div class="sourceCode"><pre>               - &lt;--- h ---&gt; +
                    origin
                . . . 0 . . .
              .                 .
            .                   .
           .                     .
          .                       .
         .                         .
    (-6) 18                        6 (-18)
         .                         .
          .                       .
           .                     .
            .                   .
             .                 .
                . . . 12 . . .
                    (-12)
</pre></div>



<h4><code>Period</code> objects</h4>

<p><code><a href="lubridate.html#topic+period">Period</a></code> objects are a special type of object
developed by the <a href="lubridate.html#topic+lubridate-package">lubridate</a> team that
represents &quot;human units&quot;, ignoring possible timeline irregularities. That is
to say that 1 day as <code><a href="lubridate.html#topic+period">Period</a></code> can have different time
spans, when looking to a timeline after a irregularity event.
</p>
<p>Since the time span of a <code><a href="lubridate.html#topic+period">Period</a></code> object can
fluctuate, <code>cycle_time()</code> don't accept this kind of object. You can transform
it to a <code><a href="lubridate.html#topic+duration">Duration</a></code> object and still use the
function, but beware that this can produce errors.
</p>
<p>Learn more about <code><a href="lubridate.html#topic+period">Period</a></code> objects in the <a href="https://r4ds.had.co.nz/dates-and-times.html#periods">Dates and times</a> chapter of
Wickham &amp; Grolemund book (n.d.).
</p>



<h3>Value</h3>

<p>The same type of object of <code>time</code> cycled with the <code>cycle</code> parameter.
</p>


<h3>References</h3>

<p>Wickham, H., &amp; Grolemund, G. (n.d.). <em>R for data science</em>. (n.p.).
<a href="https://r4ds.had.co.nz">https://r4ds.had.co.nz</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

time &lt;- lubridate::dhours(25)
cycle &lt;- lubridate::ddays(1)
cycle_time(time, cycle)
#&gt; [1] "3600s (~1 hours)" # Expected

time &lt;- lubridate::dhours(-25)
cycle &lt;- lubridate::ddays(1)
reverse &lt;- FALSE
cycle_time(time, cycle, reverse)
#&gt; [1] "-3600s (~-1 hours)" # Expected

time &lt;- lubridate::dhours(-25)
cycle &lt;- lubridate::ddays(1)
reverse &lt;- TRUE
cycle_time(time, cycle, reverse)
#&gt; [1] "82800s (~23 hours)" # Expected

## Vector example

time &lt;- c(lubridate::dmonths(24), lubridate::dmonths(13))
cycle &lt;- lubridate::dyears(1)
cycle_time(time, cycle)
#&gt; [1] "0s"                     "2629800s (~4.35 weeks)" # Expected

time &lt;- c(lubridate::dmonths(24), lubridate::dmonths(-13))
cycle &lt;- lubridate::dyears(1)
reverse &lt;- FALSE
cycle_time(time, cycle, reverse)
#&gt; [1] "0s"                       "-2629800s (~-4.35 weeks)" # Expected

time &lt;- c(lubridate::dmonths(24), lubridate::dmonths(-13))
cycle &lt;- lubridate::dyears(1)
reverse &lt;- TRUE
cycle_time(time, cycle, reverse)
#&gt; [1] "0s"                       "28927800s (~47.83 weeks)" # Expected
</code></pre>

<hr>
<h2 id='fd'>Compute MCTQ work-free days</h2><span id='topic+fd'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>fd()</code> computes the <strong>number of work-free days per week</strong> for standard
and micro versions of the Munich ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fd(wd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fd_+3A_wd">wd</code></td>
<td>
<p>An <a href="checkmate.html#topic+checkIntegerish">integerish</a>
<code><a href="base.html#topic+numeric">numeric</a></code> object or an <code><a href="base.html#topic+integer">integer</a></code>
object corresponding to the <strong>number of workdays per week</strong> from a standard
or micro version of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h3>Value</h3>

<p>An <code><a href="base.html#topic+integer">integer</a></code> object corresponding to the
difference between the number of days in a week (7) and the number of
workdays (<code>wd</code>).
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012) and The Worldwide
Experimental Platform (n.d.) guidelines for <code>fd()</code> (<code class="reqn">FD</code>) computation are
as follows.
</p>
<p style="text-align: center;"><code class="reqn">FD = 7 - WD</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">FD</code> = Number of work-free days per week.
</p>
</li>
<li> <p><code class="reqn">WD</code> = Number of workdays per week (&quot;I have a regular work schedule and
work ___ days per week&quot;).
</p>
</li></ul>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

fd(5)
#&gt; [1] 2 # Expected
fd(4)
#&gt; [1] 3 # Expected
fd(as.numeric(NA))
#&gt; [1] NA # Expected

## Vector example

fd(0:7)
#&gt; [1] 7 6 5 4 3 2 1 0 # Expected
fd(c(1, NA))
#&gt; [1]  6 NA # Expected
</code></pre>

<hr>
<h2 id='gu'>Compute MCTQ local time of getting out of bed</h2><span id='topic+gu'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>gu()</code> computes the <strong>local time of getting out of bed</strong> for standard and
shift versions of the Munich ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gu(se, si)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gu_+3A_se">se</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
sleep end</strong> from a standard or shift version of the MCTQ questionnaire.</p>
</td></tr>
<tr><td><code id="gu_+3A_si">si</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
&quot;<strong>sleep inertia</strong>&quot; or <strong>time to get up</strong> from a standard or shift version
of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the vectorized sum of
<code>se</code> and <code>si</code> in a circular time frame of 24 hours.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Juda, Vetter, &amp; Roenneberg
(2013), and The Worldwide Experimental Platform (n.d.) guidelines for <code>gu()</code>
(<code class="reqn">GU</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire.
</p>
</li>
<li><p> MCTQ<code class="reqn">^{Shift}</code> uses <code class="reqn">TGU</code> (time to get up) instead of
<code class="reqn">SI</code> (sleep inertia). For the purpose of this computation, both represent
the same thing.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">GU_{W/F} = SE_{W/F} + SI_{W/F}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">GU_{W/F}</code> = Local time of getting out of bed on work <strong>or</strong> work-free
days.
</p>
</li>
<li> <p><code class="reqn">SE_{W/F}</code> = Local time of sleep end on work <strong>or</strong> work-free
days.
</p>
</li>
<li> <p><code class="reqn">SI_{W/F}</code> = Sleep inertia on work <strong>or</strong> work-free days
(&quot;after ___ min, I get up&quot;).
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">GU_{W/F}^{M/E/N} = SE_{W/F}^{M/E/N} + TGU_{W/F}^{M/E/N}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">GU_{W/F}^{M/E/N}</code> = Local time of getting out of bed between two days
in a particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SE_{W/F}^{M/E/N}</code> = Local time of sleep end between two days in a
particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">TGU_{W/F}^{M/E/N}</code> = Time to get up after sleep end between two days
in a particular shift <strong>or</strong> between two free days after a particular shift
(&quot;after ___ min, I get up&quot;).
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

gu(hms::parse_hm("08:00"), lubridate::dminutes(10))
#&gt; 08:10:00 # Expected
gu(hms::parse_hm("11:45"), lubridate::dminutes(90))
#&gt; 13:15:00 # Expected
gu(hms::as_hms(NA), lubridate::dminutes(90))
#&gt; NA # Expected

## Vector example

se &lt;- c(hms::parse_hm("12:30"), hms::parse_hm("23:45"))
si &lt;- c(lubridate::dminutes(10), lubridate::dminutes(70))
gu(se, si)
#&gt; 12:40:00 # Expected
#&gt; 00:55:00 # Expected
</code></pre>

<hr>
<h2 id='le_week'>Compute MCTQ average weekly light exposure</h2><span id='topic+le_week'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>le_week()</code> computes the <strong>average weekly light exposure</strong> for the standard
version of the Munich ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>le_week(le_w, le_f, wd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="le_week_+3A_le_w">le_w</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>light exposure on workdays</strong> from a standard version of the MCTQ
questionnaire.</p>
</td></tr>
<tr><td><code id="le_week_+3A_le_f">le_f</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>light exposure on work-free days</strong> from a standard version of the MCTQ
questionnaire.</p>
</td></tr>
<tr><td><code id="le_week_+3A_wd">wd</code></td>
<td>
<p>An <a href="checkmate.html#topic+checkIntegerish">integerish</a>
<code><a href="base.html#topic+numeric">numeric</a></code> object or an <code><a href="base.html#topic+integer">integer</a></code>
object corresponding to the <strong>number of workdays per week</strong> from a standard
version of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
vectorized weighted mean of <code>le_w</code> and <code>le_f</code> with <code>wd</code> and <code>fd(wd)</code> as
weights.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012) and The Worldwide
Experimental Platform (n.d.) guidelines for <code>le_week()</code>
(<code class="reqn">LE_{week}</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> The average weekly light exposure (<code class="reqn">LE_{week}</code>) is the
weighted average of the light exposure on work and work-free days in a week.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>Computation</h4>

<p style="text-align: center;"><code class="reqn">LE_{week} = \frac{(LE_W \times WD) + (LE_F \times FD)}{7}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">LE_{week}</code> = Average weekly light exposure.
</p>
</li>
<li> <p><code class="reqn">LE_W</code> = Light exposure on workdays.
</p>
</li>
<li> <p><code class="reqn">LE_F</code> = Light exposure on work-free days.
</p>
</li>
<li> <p><code class="reqn">WD</code> = Number of workdays per week (&quot;I have a regular work schedule and
work ___ days per week&quot;).
</p>
</li>
<li> <p><code class="reqn">FD</code> = Number of work-free days per week.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

le_w &lt;- lubridate::dhours(1.5)
le_f &lt;- lubridate::dhours(3.7)
wd &lt;- 5
le_week(le_w, le_f, wd)
#&gt; [1] "7662.85714285714s (~2.13 hours)" # Expected

le_w &lt;- lubridate::dhours(3)
le_f &lt;- lubridate::dhours(1.5)
wd &lt;- 6
le_week(le_w, le_f, wd)
#&gt; [1] "10028.5714285714s (~2.79 hours)" # Expected

le_w &lt;- lubridate::dhours(5.6)
le_f &lt;- lubridate::as.duration(NA)
wd &lt;- 3
le_week(le_w, le_f, wd)
#&gt; [1] NA # Expected

## Vector example

le_w &lt;- c(lubridate::dhours(3), lubridate::dhours(2.45))
le_f &lt;- c(lubridate::dhours(3), lubridate::dhours(3.75))
wd &lt;- c(4, 5)
le_week(le_w, le_f, wd)
#&gt; [1] "10800s (~3 hours)" # Expected
#&gt; [2] "10157.1428571429s (~2.82 hours)" # Expected

## Checking second output from vector example

if (requireNamespace("stats", quietly = TRUE)) {
    i &lt;- 2
    x &lt;- c(le_w[i], le_f[i])
    w &lt;- c(wd[i], fd(wd[i]))
    lubridate::as.duration(stats::weighted.mean(x, w))
}
#&gt; [1] "10157.1428571429s (~2.82 hours)" # Expected

## Converting the output to `hms`

le_w &lt;- lubridate::dhours(1.25)
le_f &lt;- lubridate::dhours(6.23)
wd &lt;- 3
le_week(le_w, le_f, wd)
#&gt; [1] "14744.5714285714s (~4.1 hours)" # Expected

hms::hms(as.numeric(le_week(le_w, le_f, wd)))
#&gt; 04:05:44.571429 # Expected

## Rounding the output at the seconds level

le_w &lt;- lubridate::dhours(3.4094)
le_f &lt;- lubridate::dhours(6.2345)
wd &lt;- 2
le_week(le_w, le_f, wd)
#&gt; [1] "19538.3828571429s (~5.43 hours)" # Expected

round_time(le_week(le_w, le_f, wd))
#&gt; [1] "19538s (~5.43 hours)" # Expected
</code></pre>

<hr>
<h2 id='mctq-package'>mctq: Tools to Process the Munich ChronoType Questionnaire (MCTQ)</h2><span id='topic+mctq'></span><span id='topic+mctq-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>A complete toolkit to process the Munich ChronoType Questionnaire (MCTQ) for its three versions (standard, micro, and shift). MCTQ is a quantitative and validated tool to assess chronotypes using peoples' sleep behavior, originally presented by Till Roenneberg, Anna Wirz-Justice, and Martha Merrow (2003, <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel Vartanian <a href="mailto:danvartan@gmail.com">danvartan@gmail.com</a> (<a href="https://orcid.org/0000-0001-7782-759X">ORCID</a>) [conceptor, copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Ana Amelia Benedito-Silva <a href="mailto:aamelia@usp.br">aamelia@usp.br</a> (<a href="https://orcid.org/0000-0003-4976-2623">ORCID</a>) [scientific advisor]
</p>
</li>
<li><p> Mario Pedrazzoli <a href="mailto:pedrazzo@usp.br">pedrazzo@usp.br</a> (<a href="https://orcid.org/0000-0002-5257-591X">ORCID</a>) [scientific advisor]
</p>
</li>
<li><p> Jonathan Keane <a href="mailto:jkeane@gmail.com">jkeane@gmail.com</a> (<a href="https://orcid.org/0000-0001-7087-9776">ORCID</a>) [reviewer]
</p>
</li>
<li><p> Mario Andre Leocadio-Miguel <a href="mailto:miguel.ml.mario@gmail.com">miguel.ml.mario@gmail.com</a> (<a href="https://orcid.org/0000-0002-7248-3529">ORCID</a>) [reviewer]
</p>
</li>
<li><p> University of Sao Paulo (USP) [funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/mctq/">https://docs.ropensci.org/mctq/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/mctq/">https://github.com/ropensci/mctq/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/mctq/issues/">https://github.com/ropensci/mctq/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='micro_mctq'>A fictional <code class="reqn">\mu</code>MCTQ dataset</h2><span id='topic+micro_mctq'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p>A fictional dataset, <strong>for testing and learning purposes</strong>, composed of
basic/measurable and computed variables of the Munich ChronoType
Questionnaire (MCTQ) micro (<code class="reqn">\mu</code>) version.
</p>
<p>This data was created following the guidelines in Ghotbi et al. (2020), in
addition to the guidelines in Roenneberg, Wirz-Justice, &amp; Merrow (2003),
Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Jankowski (2017), and The
Worldwide Experimental Platform (n.d.). See the References and Details
sections to learn more.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>micro_mctq
</code></pre>


<h3>Format</h3>

<p>A <code><a href="dplyr.html#topic+reexports">tibble</a></code> with 19 columns and 50 rows:
</p>

<dl>
<dt>id</dt><dd>
<p>A unique <code><a href="base.html#topic+integer">integer</a></code> value to identify each respondent in
the dataset.
<br /> <br />
Type: Control.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>shift_work</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code><code style="white-space: pre;">&#8288; value indicating if the respondent has been a shift- or night-worker in the past three months. \cr \cr Statement (&#8288;</code>EN<code style="white-space: pre;">&#8288;): "I have been a shift- or night-worker in the past three months: Yes ( ___ ) No ( ___ )". \cr \cr Type: Basic. \cr \cr R class: [&#8288;</code>logical']<code><a href="base.html#topic+logical">base::logical()</a></code>.
</p>
</dd>
<dt>wd</dt><dd>
<p>Number of <strong>workdays</strong> per week.
<br /> <br />
Statement (<code>EN</code>): &quot;Normally, I work ___ days/week&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>fd</dt><dd>
<p>Number of <strong>work-free days</strong> per week.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>so_w</dt><dd>
<p>Local time of sleep onset on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;On WORKDAYS ... I normally fall asleep at ___ : ___
AM/PM (this is NOT when you get into bed, but rather when you fall
asleep)&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>se_w</dt><dd>
<p>Local time of sleep end on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;On WORKDAYS ... I normally wake up at ___ : ___ AM/PM
(this is NOT when you get out of bed, but rather when you wake up)&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sd_w</dt><dd>
<p>Sleep duration on <strong>workdays</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msw</dt><dd>
<p>Local time of mid-sleep on <strong>workdays</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>so_f</dt><dd>
<p>Local time of sleep onset on <strong>work-free days</strong> when the respondent
<strong>doesn't</strong> use an alarm clock to wake up.
<br /> <br />
Statement (<code>EN</code>): &quot;On WORK-FREE DAYS when I DON'T use an alarm clock ... I
normally fall asleep at ___ : ___ AM/PM (this is NOT when you get into bed,
but rather when you fall asleep)&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>se_f</dt><dd>
<p>Local time of sleep end on <strong>work-free days</strong> when the respondent
<strong>doesn't</strong> use an alarm clock to wake up.
<br /> <br />
Statement (<code>EN</code>): &quot;On WORK-FREE DAYS when I DON'T use an alarm clock ... I
normally wake up at ___ : ___ AM/PM (this is NOT when you get out of bed,
but rather when you wake up)&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sd_f</dt><dd>
<p>Sleep duration on <strong>work-free days</strong> when the respondent <strong>doesn't</strong> use an
alarm clock to wake up.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msf</dt><dd>
<p>Local time of mid-sleep on <strong>work-free days</strong> when the respondent
<strong>doesn't</strong> use an alarm clock to wake up.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sd_week</dt><dd>
<p>Average weekly sleep duration.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sloss_week</dt><dd>
<p>Weekly sleep loss.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msf_sc</dt><dd>
<p>Sleep-corrected local time of mid-sleep on <strong>work-free days</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sjl_rel</dt><dd>
<p>Relative social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl</dt><dd>
<p>Absolute social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl_sc_rel</dt><dd>
<p>Jankowski's relative sleep-corrected social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl_sc</dt><dd>
<p>Jankowski's sleep-corrected social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
</dl>



<h3>Details</h3>

<p><code>micro_mctq</code> is a tidied, validated, and transformed version of
<code>raw_data("micro_mctq.csv")</code>.
</p>


<h4>Guidelines</h4>

<p>To learn more about the Munich ChronoType Questionnaire (MCTQ),
see Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt,
Merrow, &amp; Vetter (2012), Roenneberg et al. (2015), and Roenneberg, Pilz,
Zerbini, &amp; Winnebeck (2019).
</p>
<p>To know about different MCTQ versions, see Juda, Vetter, &amp; Roenneberg
(2013) and Ghotbi et.al (2020).
</p>
<p>To learn about the sleep-corrected social jetlag, see Jankowski (2017).
</p>
<p>If you're curious about the variable computations and want to have access to
the full questionnaire, see The Worldwide Experimental Platform (n.d.).
</p>



<h4>Data building and data wrangling</h4>

<p>This dataset was created by randomized sampling (see
<code><a href="#topic+random_mctq">random_mctq()</a></code>) and by manual insertions of special
cases. Its purpose is to demonstrate common cases and data issues that
researchers may find in their MCTQ data, in addition to be a suggested data
structure for MCTQ data.
</p>
<p>You can see the <code>micro_mctq</code> build and data wrangling processes
<a href="https://github.com/ropensci/mctq/blob/main/data-raw/micro_mctq.R">here</a>.
</p>



<h4>Variable naming</h4>

<p>The naming of the variables took into account the naming scheme used in MCTQ
publications, in addition to the guidelines of the <a href="https://style.tidyverse.org/">tidyverse style guide</a>.
</p>



<h4>Variable classes</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the <a href="hms.html#topic+hms-package">hms</a>
and <a href="lubridate.html#topic+lubridate-package">lubridate</a> package.
</p>



<h4><code>Duration</code> objects</h4>

<p>If you prefer to view <code><a href="lubridate.html#topic+duration">Duration</a></code> objects as
<code><a href="hms.html#topic+hms">hms</a></code> objects, run
<code><a href="#topic+pretty_mctq">pretty_mctq(micro_mctq)</a></code>.
</p>



<h3>Source</h3>

<p>Created by Daniel Vartanian (package author).
</p>


<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Jankowski K. S. (2017). Social jet lag: sleep-corrected formula.
<em>Chronobiology International</em>, <em>34</em>(4), 531-535.
<a href="https://doi.org/10.1080/07420528.2017.1299162">doi:10.1080/07420528.2017.1299162</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Keller, L. K., Fischer, D., Matera, J. L., Vetter, C., &amp;
Winnebeck, E. C. (2015). Human activity and rest in situ. In A. Sehgal (Ed.),
<em>Methods in Enzymology</em> (Vol. 552, pp. 257-283). Academic Press.
<a href="https://doi.org/10.1016/bs.mie.2014.11.028">doi:10.1016/bs.mie.2014.11.028</a>
</p>
<p>Roenneberg, T., Pilz, L. K., Zerbini, G., &amp; Winnebeck, E. C. (2019).
Chronotype and social jetlag: a (self-) critical review. <em>Biology</em>, <em>8</em>(3),
54. <a href="https://doi.org/10.3390/biology8030054">doi:10.3390/biology8030054</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+shift_mctq">shift_mctq</a></code>,
<code><a href="#topic+std_mctq">std_mctq</a></code>
</p>

<hr>
<h2 id='msf_sc'>Compute MCTQ sleep-corrected local time of mid-sleep on work-free days</h2><span id='topic+msf_sc'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>msf_sc()</code> computes the <strong>sleep-corrected local time of mid-sleep on
work-free days</strong> for standard, micro, and shift versions of the Munich
ChronoType Questionnaire (MCTQ).
</p>
<p>When using the shift version of the MCTQ, replace the value of <code>sd_week</code> to
<code>sd_overall</code>, as instructed in the Arguments section.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msf_sc(msf, sd_w, sd_f, sd_week, alarm_f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msf_sc_+3A_msf">msf</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
mid-sleep on work-free days</strong> from a standard, micro, or shift version of
the MCTQ questionnaire. You can use <code><a href="#topic+msl">msl()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="msf_sc_+3A_sd_w">sd_w</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration on work days</strong> from a standard, micro, or shift version of
the MCTQ questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="msf_sc_+3A_sd_f">sd_f</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration on work-free days</strong> from a standard, micro, or shift
version of the MCTQ questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to
compute it.</p>
</td></tr>
<tr><td><code id="msf_sc_+3A_sd_week">sd_week</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to
the <strong>average weekly sleep duration</strong> from a standard or micro version of
the MCTQ questionnaire (you can use <code><a href="#topic+sd_week">sd_week()</a></code> to
compute it) <strong>or</strong> the <strong>overall sleep duration of a particular shift</strong>
from a shift version of the MCTQ questionnaire (you can use
<code><a href="#topic+sd_overall">sd_overall()</a></code> to compute it).</p>
</td></tr>
<tr><td><code id="msf_sc_+3A_alarm_f">alarm_f</code></td>
<td>
<p>A <code><a href="base.html#topic+logical">logical</a></code> object corresponding to the
<strong>alarm clock use on work-free days</strong> from a standard, micro, or shift
version of the MCTQ questionnaire. Note that, if <code>alarm_f == TRUE</code>,
<code>msf_sc</code> cannot be computed, <code>msf_sc()</code> will return <code>NA</code> for these cases.
For the <code class="reqn">\mu</code>MCTQ, this value must be set as <code>FALSE</code> all times, since
the questionnaire considers only the work-free days when the respondent
does not use an alarm (e.g., <code>alarm_f = rep(FALSE, length(msf))</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the MCTQ chronotype or
sleep-corrected local time of mid-sleep on work-free days.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Ghotbi et al. (2020), Juda,
Vetter, &amp; Roenneberg (2013), and The Worldwide Experimental Platform (n.d.)
guidelines for <code>msf_sc()</code> (<code class="reqn">MSF_{sc}</code>) computation are as
follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> For all cases, <code class="reqn">MSF_{sc}</code> cannot be computed if the participant
wakes up with an alarm clock on work-free days (<code class="reqn">Alarm_F</code>).
</p>
</li>
<li><p> For MCTQ<code class="reqn">^{Shift}</code>, the computation below must be applied to
each shift section of the questionnaire.
</p>
</li>
<li> <p><code class="reqn">MSF_{sc}</code> is a proxy for the subject chronotype in
standard and micro versions of the MCTQ.
</p>
</li>
<li><p> The basis for estimating chronotype in shift-workers is the mid-sleep on
work-free days after evening shifts (<code class="reqn">MSF^E</code>). In case work
schedules do not comprise evening shifts, Juda, Vetter, &amp; Roenneberg (2013)
propose to derive it from the <code class="reqn">MSF_{sc}</code> of other shifts (e.g.,
by using a linear model). Unfortunately, the <code>mctq</code> package can't help you
with that, as it requires a closer look at your data.
</p>
</li>
<li> <p><code class="reqn">MSF_{sc}</code> depends on developmental and environmental
conditions (e.g., age, light exposure). For epidemiological and genetic
studies, <code class="reqn">MSF_{sc}</code> must be normalized for age and sex to make
populations of different age and sex compositions comparable (Roenneberg,
Allebrandt, Merrow, &amp; Vetter, 2012).
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">\textrm{If } Alarm_{F} = True \; , \; MSF_{sc} =
\textrm{Not Available (NA)}</code>
</p>

<p style="text-align: center;"><code class="reqn">\textrm{Else if } SD_F \leq SD_W \; , \; MSF_{sc} = MSF</code>
</p>

<p style="text-align: center;"><code class="reqn">\textrm{Else } \; , \; MSF_{sc} = MSF - \frac{SD_F - SD_{week}}{2}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">MSF_{sc}</code> = Sleep-corrected local time of mid-sleep on work-free days.
</p>
</li>
<li> <p><code class="reqn">Alarm_{F}</code> = A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the
respondent uses an alarm clock to wake up on work-free days.
</p>
</li>
<li> <p><code class="reqn">MSF</code> = Local time of mid-sleep on work-free days.
</p>
</li>
<li> <p><code class="reqn">SD_W</code> = Sleep duration on workdays.
</p>
</li>
<li> <p><code class="reqn">SD_F</code> = Sleep duration on work-free days.
</p>
</li>
<li> <p><code class="reqn">SD_{week}</code> = Average weekly sleep duration.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>
<p>Note that, since:
</p>
<p style="text-align: center;"><code class="reqn">MSF = SO_{F} + \frac{SD_{F}}{2}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">MSF</code> = Local time of mid-sleep on work-free days.
</p>
</li>
<li> <p><code class="reqn">SO_{F}</code> = Local time of sleep onset on work-free days.
</p>
</li>
<li> <p><code class="reqn">SD_{F}</code> = Sleep duration on work-free days.
</p>
</li></ul>

<p>The last condition of the <code class="reqn">MSF_{sc}</code> computation can be
simplified to:
</p>
<p style="text-align: center;"><code class="reqn">MSF_{sc} = SO_{F} + \frac{SD_{F}}{2} -
\frac{SD_{F} - SD_{week}}{2}</code>
</p>

<p style="text-align: center;"><code class="reqn">MSF_{sc} = SO_{F} + \frac{SD_{F}}{2} - \frac{SD_{F}}{2} +
\frac{SD_{week}}{2}</code>
</p>

<p style="text-align: center;"><code class="reqn">MSF_{sc} = SO_{F} + \frac{SD_{week}}{2}</code>
</p>




<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">\textrm{If } Alarm_{F}^{M/E/N} = True \; , \; MSF_{sc}^{M/E/N} =
\textrm{Not Available (NA)}</code>
</p>

<p style="text-align: center;"><code class="reqn">\textrm{Else if } SD_{F}^{M/E/N} \leq SD_{W}^{M/E/N} \; , \;
MSF_{sc}^{M/E/N} = MSF^{M/E/N}</code>
</p>

<p style="text-align: center;"><code class="reqn">\textrm{Else } \; , \; MSF_{sc}^{M/E/N} = MSF^{M/E/N} -
\frac{SD_{F}^{M/E/N} - \emptyset SD^{M/E/N}}{2}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">MSF_{sc}^{M/E/N}</code> = Sleep-corrected local time of mid-sleep between
two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">Alarm_{F}^{M/E/N}</code> = A <code><a href="base.html#topic+logical">logical</a></code> value indicating
if the respondent uses an alarm clock to wake up between two free days after
a particular shift.
</p>
</li>
<li> <p><code class="reqn">MSF^{M/E/N}</code> = Local time of mid-sleep between two free
days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SD_{W}^{M/E/N}</code> = Sleep duration between two days in a
particular shift.
</p>
</li>
<li> <p><code class="reqn">SD_{F}^{M/E/N}</code> = Sleep duration between two free days
after a particular shift.
</p>
</li>
<li> <p><code class="reqn">\emptyset SD^{M/E/N}</code> = Overall sleep duration of a
particular shift.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>
<p>Note that, since:
</p>
<p style="text-align: center;"><code class="reqn">MSF^{M/E/N} = SO_{F}^{M/E/N} + \frac{SD_{F}^{M/E/N}}{2}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">MSF^{M/E/N}</code> = Local time of mid-sleep between two free
days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SO_{F}^{M/E/N}</code> = Local time of sleep onset between two free days
after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SD_{F}^{M/E/N}</code> = Sleep duration between two free days after a
particular shift.
</p>
</li></ul>

<p>The last condition of the <code class="reqn">MSF_{sc}^{M/E/N}</code> computation
can be simplified to:
</p>
<p style="text-align: center;"><code class="reqn">MSF_{sc}^{M/E/N} = SO_{F}^{M/E/N} + \frac{SD_{F}^{M/E/N}}{2} -
\frac{SD_{F}^{M/E/N} - \emptyset SD^{M/E/N}}{2}</code>
</p>

<p style="text-align: center;"><code class="reqn">MSF_{sc}^{M/E/N} = SO_{F}^{M/E/N} + \frac{SD_{F}^{M/E/N}}{2} -
\frac{SD_{F}^{M/E/N}}{2} + \frac{\emptyset SD^{M/E/N}}{2}</code>
</p>

<p style="text-align: center;"><code class="reqn">MSF_{sc}^{M/E/N} = SO_{F}^{M/E/N} + \frac{\emptyset SD^{M/E/N}}{2}</code>
</p>




<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

msf &lt;- hms::parse_hms("04:00:00")
sd_w &lt;- lubridate::dhours(6)
sd_f &lt;- lubridate::dhours(7)
sd_week &lt;- lubridate::dhours(6.29)
alarm_f &lt;- FALSE
msf_sc(msf, sd_w, sd_f, sd_week, alarm_f)
#&gt; 03:38:42 # Expected

msf &lt;- hms::parse_hm("01:00:00")
sd_w &lt;- lubridate::dhours(5.5)
sd_f &lt;- lubridate::dhours(9)
sd_week &lt;- lubridate::dhours(6.75)
alarm_f &lt;- FALSE
msf_sc(msf, sd_w, sd_f, sd_week, alarm_f)
#&gt; 23:52:30 # Expected

msf &lt;- hms::parse_hms("05:40:00")
sd_w &lt;- lubridate::dhours(7.5)
sd_f &lt;- lubridate::dhours(10)
sd_week &lt;- lubridate::dhours(8.5)
alarm_f &lt;- TRUE
msf_sc(msf, sd_w, sd_f, sd_week, alarm_f)
#&gt; NA # Expected (`msf_sc` cannot be computed if `alarm_f == TRUE`)

## Vector example

msf &lt;- c(hms::parse_hms("03:45:00"), hms::parse_hm("04:45:00"))
sd_w &lt;- c(lubridate::dhours(9), lubridate::dhours(6.45))
sd_f &lt;- c(lubridate::dhours(5), lubridate::dhours(10))
sd_week &lt;- c(lubridate::dhours(8.5), lubridate::dhours(9.2))
alarm_f &lt;- c(FALSE, FALSE)
msf_sc(msf, sd_w, sd_f, sd_week, alarm_f)
#&gt; 03:45:00 # Expected
#&gt; 04:21:00 # Expected

## Rounding the output at the seconds level

msf &lt;- hms::parse_hms("05:40:00")
sd_w &lt;- lubridate::dhours(5.43678)
sd_f &lt;- lubridate::dhours(9.345111)
sd_week &lt;- lubridate::dhours(7.5453)
alarm_f &lt;- FALSE
msf_sc(msf, sd_w, sd_f, sd_week, alarm_f)
#&gt; 04:46:00.3402 # Expected

round_time(msf_sc(msf, sd_w, sd_f, sd_week, alarm_f))
#&gt; 04:46:00 # Expected
</code></pre>

<hr>
<h2 id='msl'>Compute MCTQ local time of mid-sleep</h2><span id='topic+msl'></span><span id='topic+msw'></span><span id='topic+msf'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>msl()</code> computes the <strong>local time of mid-sleep</strong> for standard, micro, and
shift versions of the Munich ChronoType Questionnaire (MCTQ).
</p>
<p>Please note that, although we tried to preserve the original authors' naming
pattern for the MCTQ functions, the name <code>ms</code> provokes a dangerous name
collision with the <code><a href="lubridate.html#topic+hms">ms()</a></code> function (a function for parsing
minutes and seconds components). That's why we named it <code>msl</code>. <code>msl()</code> and
<code><a href="#topic+sdu">sdu()</a></code> are the only exceptions, all the other <code>mctq</code>
functions maintain a strong naming resemblance with the original authors'
naming pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msl(so, sd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msl_+3A_so">so</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
sleep onset</strong> from a standard, micro, or shift version of the MCTQ
questionnaire. You can use <code><a href="#topic+so">so()</a></code> to compute it for the
standard or shift version.</p>
</td></tr>
<tr><td><code id="msl_+3A_sd">sd</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration</strong> from a standard, micro, or shift version of the MCTQ
questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to compute it for any
MCTQ version.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the vectorized sum of
<code>so</code> and <code>(sd / 2)</code> in a circular time frame of 24 hours.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Ghotbi et al. (2020), Juda,
Vetter, &amp; Roenneberg (2013), and The Worldwide Experimental Platform (n.d.)
guidelines for <code>msl()</code> (<code class="reqn">MSW</code> or <code class="reqn">MSF</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">MS_{W/F} = SO_{W/F} + \frac{SD_{W/F}}{2}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">MS_{W/F}</code> = Local time of mid-sleep on work <strong>or</strong> work-free days.
</p>
</li>
<li> <p><code class="reqn">SO_{W/F}</code> = Local time of sleep onset on work <strong>or</strong> work-free
days.
</p>
</li>
<li> <p><code class="reqn">SD_{W/F}</code> = Sleep duration on work <strong>or</strong> work-free days.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">MS_{W/F}^{M/E/N} = SO_{W/F}^{M/E/N} + \frac{SD_{W/F}^{M/E/N}}{2}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">MS_{W/F}^{M/E/N}</code> = Local time of mid-sleep between
two days in a particular shift <strong>or</strong> between two free days after a
particular shift.
</p>
</li>
<li> <p><code class="reqn">SO_{W/F}^{M/E/N}</code> = Local time of sleep onset between
two days in a particular shift <strong>or</strong> between two free days after a
particular shift.
</p>
</li>
<li> <p><code class="reqn">SD_{W/F}^{M/E/N}</code> = Sleep duration between two days in a
particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

so &lt;- hms::parse_hm("23:30")
sd &lt;- lubridate::dhours(8)
msl(so, sd)
#&gt; 03:30:00 # Expected

so &lt;- hms::parse_hm("01:00")
sd &lt;- lubridate::dhours(10)
msl(so, sd)
#&gt; 06:00:00 # Expected

so &lt;- hms::as_hms(NA)
sd &lt;- lubridate::dhours(7.5)
msl(so, sd)
#&gt; NA # Expected

## Vector example

so &lt;- c(hms::parse_hm("00:10"), hms::parse_hm("01:15"))
sd &lt;- c(lubridate::dhours(9.25), lubridate::dhours(5.45))
msl(so, sd)
#&gt; [1] 04:47:30 # Expected
#&gt; [1] 03:58:30 # Expected
</code></pre>

<hr>
<h2 id='napd'>Compute MCTQ nap duration (only for MCTQ<code class="reqn">^{Shift}</code>)</h2><span id='topic+napd'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>napd()</code> computes the <strong>nap duration</strong> for the shift version of the Munich
ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>napd(napo, nape)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="napd_+3A_napo">napo</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time
of nap onset</strong> from the shift version of the MCTQ questionnaire.</p>
</td></tr>
<tr><td><code id="napd_+3A_nape">nape</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time
of nap end</strong> from the shift version of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
vectorized difference between <code>nape</code> and <code>napo</code> in a circular time frame of
24 hours.
</p>


<h3>Guidelines</h3>

<p>Juda, Vetter &amp; Roenneberg (2013) and The Worldwide Experimental Platform
(n.d.) guidelines for <code>napd()</code> (<code class="reqn">NapD</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>Computation</h4>

<p style="text-align: center;"><code class="reqn">NapD_{W/F}^{M/E/N} = NapE_{W/F}^{M/E/N} - NapO_{W/F}^{M/E/N}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">NapD_{W/F}^{M/E/N}</code> = Nap duration between two days in a particular
shift <strong>or</strong> between two free days after a particular shift (&quot;I take a nap
from ___ o'clock [...]&quot;).
</p>
</li>
<li> <p><code class="reqn">NapO_{W/F}^{M/E/N}</code> = Local time of nap onset between two days in a
particular shift <strong>or</strong> between two free days after a particular shift (&quot;I
take a nap from ___ o'clock [...]&quot;).
</p>
</li>
<li> <p><code class="reqn">NapE_{W/F}^{M/E/N}</code> = Local time of nap end between two days in a
particular shift <strong>or</strong> between two free days after a particular shift
(&quot;[...] to ___ o'clock&quot;).
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

napo &lt;- hms::parse_hm("12:30")
nape &lt;- hms::parse_hm("14:20")
napd(napo, nape)
#&gt; [1] "6600s (~1.83 hours)"" # Expected

napo &lt;- hms::parse_hm("23:45")
nape &lt;- hms::parse_hm("00:30")
napd(napo, nape)
#&gt; [1] "2700s (~45 minutes)" # Expected

napo &lt;- hms::parse_hm("10:20")
nape &lt;- hms::as_hms(NA)
napd(napo, nape)
#&gt; [1] NA # Expected

## Vector example

napo &lt;- c(hms::parse_hm("01:25"), hms::parse_hm("23:50"))
nape &lt;- c(hms::parse_hm("03:10"), hms::parse_hm("01:10"))
napd(napo, nape)
#&gt; [1] "6300s (~1.75 hours)" "4800s (~1.33 hours)"  # Expected
</code></pre>

<hr>
<h2 id='pretty_mctq'>Make an MCTQ dataset more presentable</h2><span id='topic+pretty_mctq'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>pretty_mctq()</code> helps you to transform your Munich ChronoType Questionnaire
(MCTQ) data in many ways. See the Arguments and Details section to learn
more.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pretty_mctq(data, round = TRUE, hms = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pretty_mctq_+3A_data">data</code></td>
<td>
<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> object.</p>
</td></tr>
<tr><td><code id="pretty_mctq_+3A_round">round</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+logical">logical</a></code> value indicating if
<code><a href="lubridate.html#topic+duration">Duration</a></code> and <code><a href="hms.html#topic+hms">hms</a></code> objects must be
rounded at the seconds level (default: <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="pretty_mctq_+3A_hms">hms</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+logical">logical</a></code> value indicating if
<code><a href="lubridate.html#topic+duration">Duration</a></code> and <code><a href="base.html#topic+difftime">difftime</a></code>
objects must be converted to <code><a href="hms.html#topic+hms">hms</a></code> (default: <code>TRUE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Rounding</h4>

<p>Please note that by rounding MCTQ values you discard data. That is to say
that if you need to redo a computation, or do new ones, your values can be
off by a couple of seconds (see
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off error</a>).
</p>
<p>Round your values only if and when you want to present them more clearly,
like in graphical representations. You can also round values to facilitate
data exporting to text formats (like <code>.csv</code>), but note that this will come
with a precision cost.
</p>
<p>Note also that <code>pretty_mctq()</code> uses <code><a href="base.html#topic+Round">round()</a></code> for rounding,
which uses uses the IEC 60559 standard (<em>&quot;go to the even digit&quot;</em>) for
rounding off a 5. Therefore, <code>round(0.5)</code> is equal to 0 and <code>round(-1.5)</code> is
equal to -2. See <code><a href="base.html#topic+Round">?round</a></code> to learn more.
</p>



<h3>Value</h3>

<p>A transformed <code><a href="base.html#topic+data.frame">data.frame</a></code> object, as indicated
in the arguments.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+random_mctq">random_mctq</a>()</code>,
<code><a href="#topic+raw_data">raw_data</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- data.frame(
    a = 1,
    b = lubridate::duration(1.12345),
    c = hms::hms(1.12345)
    )

## Rounding time objects from `data`

pretty_mctq(data, round = TRUE, hms = FALSE)

## Converting non-'hms' time objects from 'data' to 'hms'

pretty_mctq(data, round = FALSE, hms = TRUE)
</code></pre>

<hr>
<h2 id='qplot_walk'>Walk through distribution plots</h2><span id='topic+qplot_walk'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>This function will be removed on the next <code>mctq</code> version. You can still find
it in the <a href="https://github.com/giperbio/gutils"><code>gutils</code></a> package.
</p>
<p><code>qplot_walk()</code> helps you to visually assess the distribution of your data. It
uses <code><a href="ggplot2.html#topic+geom_bar">geom_bar()</a></code> (for non <code><a href="base.html#topic+double">double</a></code>
variables) or <code><a href="ggplot2.html#topic+geom_histogram">geom_histogram()</a></code> (for
<code><a href="base.html#topic+double">double</a></code> variables) to walk through each selected variable
from a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qplot_walk(
  data,
  ...,
  cols = NULL,
  pattern = NULL,
  ignore = "character",
  remove_id = TRUE,
  midday_change = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qplot_walk_+3A_data">data</code></td>
<td>
<p>An <code><a href="base.html#topic+is.recursive">atomic</a></code> or a
<code><a href="base.html#topic+data.frame">data.frame</a></code> object.</p>
</td></tr>
<tr><td><code id="qplot_walk_+3A_...">...</code></td>
<td>
<p>(optional) additional arguments to be passed to
<code><a href="ggplot2.html#topic+geom_bar">geom_bar()</a></code> (for non <code><a href="base.html#topic+double">double</a></code>
variables) or <code><a href="ggplot2.html#topic+geom_histogram">geom_histogram()</a></code> (for
<code><a href="base.html#topic+double">double</a></code> variables).</p>
</td></tr>
<tr><td><code id="qplot_walk_+3A_cols">cols</code></td>
<td>
<p>(optional) (only for data frames) a
<code><a href="base.html#topic+character">character</a></code> object indicating column names in <code>data</code>
for plotting. If <code>NULL</code>, <code>qplot_walk()</code> will use all columns in <code>data</code>.
This setting only works if <code>pattern = NULL</code> (default: <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="qplot_walk_+3A_pattern">pattern</code></td>
<td>
<p>(optional) (only for data frames) a string with a regular
expression to select column names in <code>data</code> for plotting. This setting
only works if <code>cols = NULL</code> (default: <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="qplot_walk_+3A_ignore">ignore</code></td>
<td>
<p>(optional) (only for data frames) a
<code><a href="base.html#topic+character">character</a></code> object indicating which object classes the
function must ignore. This setting can be used with <code>cols</code> and <code>pattern</code>.
Assign <code>NULL</code> to disable this behavior (default: <code>"character"</code>).</p>
</td></tr>
<tr><td><code id="qplot_walk_+3A_remove_id">remove_id</code></td>
<td>
<p>(optional) (only for data frames) a
<code><a href="base.html#topic+logical">logical</a></code> value indicating if the function must ignore
column names in <code>data</code> that match with the regular expression
<code>"^id$|[\\._-]id$"</code> (default: <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="qplot_walk_+3A_midday_change">midday_change</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+logical">logical</a></code> value
indicating if the function must apply a midday change for
<code><a href="hms.html#topic+hms">hms</a></code> variables with values greater than <code>22:00:00</code> (see
the Details section to learn more) (default: <code>TRUE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Requirements</h4>

<p>This function requires the <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2</a></code>,
<code><a href="grDevices.html#topic+grDevices-package">grDevices</a></code>, and
<code><a href="utils.html#topic+utils-package">utils</a></code> packages and can only run in
interactive mode. The <code><a href="utils.html#topic+utils-package">utils</a></code> and
<code><a href="grDevices.html#topic+grDevices-package">grDevices</a></code> packages comes with a standard R
installation and is typically loaded by default. Most people also run R
interactively.
</p>
<p>If you don't have any or one of the packages mentioned above, you can install
them with <code>install.packages("ggplot2", "grDevices", "utils")</code>.
</p>



<h4>Plot recover</h4>

<p><code>qplot_walk()</code> clears all plots after it runs. For that reason, the function
first emits a dialog message warning the user of this behavior before it
runs. If you want to recover a single distribution plot, assign the variable
vector to the <code>data</code> argument.
</p>



<h4>Additional arguments to <code>geom_bar()</code> or <code>geom_histogram()</code></h4>

<p><code>qplot_walk()</code> uses <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2</a></code>
<code><a href="ggplot2.html#topic+geom_bar">geom_bar()</a></code> (for non <code><a href="base.html#topic+double">double</a></code>
variables) or <code><a href="ggplot2.html#topic+geom_histogram">geom_histogram()</a></code> (for
<code><a href="base.html#topic+double">double</a></code> variables) to generate plots. If you are familiar
with these functions, you can pass additional arguments to the them using
the ellipsis argument (<code>...</code>).
</p>
<p>Note that <code>x</code>, <code>y</code>, and <code>data</code> arguments are reserved for <code>qplot_walk()</code>.
</p>



<h4><code>Duration</code>, <code>Period</code>, and <code>difftime</code> objects</h4>

<p>To help with the visualization, <code>qplot_walk()</code> automatically converts
<code><a href="lubridate.html#topic+duration">Duration</a></code>, <code><a href="lubridate.html#topic+period">Period</a></code>, and
<code><a href="base.html#topic+difftime">difftime</a></code> objects to <code><a href="hms.html#topic+hms">hms</a></code>.
</p>



<h4>Midday change</h4>

<p>Time variables with values greater than <code>22:00:00</code> will automatically be
converted to <a href="base.html#topic+as.POSIXlt">POSIXct'</a> and be attached to a two-day
timeline using the midday hour as a cutting point, i.e., all values with 12
hours or more will be placed on day 1, and all the rest will be placed on day
2.
</p>
<p>This is made to better represent time vectors that cross the midnight hour.
You can disable this behavior by using <code>midday_change = FALSE</code>.
</p>
<p>Example: Say you have a vector of time values that cross the midnight hour
(e.g., an <code><a href="hms.html#topic+hms">hms</a></code> vector with <code>22:00</code>, <code>23:00</code>, <code>00:00</code>, <code>01:00</code>
values). If you use <code>midday_change = FALSE</code>, your data will be represented
linearly.
</p>
<div class="sourceCode"><pre>00:00 01:00                                22:00 23:00
  |-----|------------------------------------|-----|-------&gt;
</pre></div>
<p>By using <code>midday_change = TRUE</code> (default), <code>qplot_walk()</code> will fit your data
to a circular time frame of 24 hours.
</p>
<div class="sourceCode"><pre>             day 1                         day 2
                22:00 23:00 00:00 01:00
------------------|-----|-----|-----|----------------------&gt;
</pre></div>



<h4><code>id</code> variables</h4>

<p><code>qplot_walk()</code> will ignore any variable with the follow name pattern
<code>"^id$|[\\._-]id$"</code>, i.e., any variable named <code>id</code> or that ends with
<code>.id</code>, <code style="white-space: pre;">&#8288;_id&#8288;</code>, or <code>-id</code>.
</p>
<p>You can disable this behavior using <code>remove_id = FALSE</code>.
</p>



<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function don't aim to return values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

## Ploting a single column from 'data'

qplot_walk(mctq::std_mctq$bt_w)

## Ploting all columns from 'data'

qplot_walk(mctq::std_mctq)

## Ploting selected columns from 'data'

qplot_walk(mctq::std_mctq, cols = c("bt_w", "msf_sc"))

## Ploting selected columns from 'data' using a name pattern

qplot_walk(mctq::std_mctq, pattern = "_w$")

## Examples using other datasets

if (requireNamespace("datasets", quietly = TRUE)) {
    qplot_walk(datasets::iris)
}
}
</code></pre>

<hr>
<h2 id='random_mctq'>Build a random MCTQ case</h2><span id='topic+random_mctq'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>random_mctq</code> builds a fictional Munich ChronoType Questionnaire (MCTQ) case
composed of MCTQ basic/measurable variables.
</p>
<p>This function is <strong>for testing and learning purposes only</strong>. Please don't
misuse it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random_mctq(model = "standard")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="random_mctq_+3A_model">model</code></td>
<td>
<p>A string indicating the data model to return. Valid values are:
<code>"standard"</code>, &quot;<code style="white-space: pre;">&#8288;shift"&#8288;</code>, and <code>"micro"</code> (default: <code>"standard"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The case structure (variable names and classes) are the same as the datasets
provided by the <code>mctq</code> package. See <code><a href="#topic+std_mctq">?std_mctq</a></code>,
<code><a href="#topic+micro_mctq">?micro_mctq</a></code> and <code><a href="#topic+shift_mctq">?shift_mctq</a></code> to
learn more.
</p>


<h4>Requirements</h4>

<p>This function requires the <code><a href="stats.html#topic+stats-package">stats</a></code> package. This
won't be an issue for most people since the package comes with a standard R
installation.
</p>
<p>If you don't have the <code><a href="stats.html#topic+stats-package">stats</a></code> package, you can
install it with <code>install.packages("stats")</code>.
</p>



<h4>Cases</h4>

<p>Random standard and micro MCTQ cases were created with the general
population in mind. The data was set to resemble the distribution parameters
shown in Roenneberg, Wirz-Justice, &amp; Merrow (2003).
</p>
<p>MCTQ<code class="reqn">^{Shift}</code> random cases were created based on the shift
configuration from &quot;Study Site 1&quot; shown in Vetter, Juda, &amp; Roenneberg (2012).
The data was set to resemble the distribution parameters shown in Juda,
Vetter, &amp; Roenneberg (2013).
</p>
<p>You can see more about the distribution parameters used
<a href="https://github.com/ropensci/mctq/blob/main/data-raw/random_mctq.R">here</a>.
</p>



<h3>Value</h3>

<p>A named <code><a href="base.html#topic+list">list</a></code> with elements representing each MCTQ
basic/measurable variable of the model indicated in the <code>model</code> argument.
</p>


<h3>References</h3>

<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>Vetter, C., Juda, M., &amp; Roenneberg, T. (2012). The influence of internal time,
time awake, and sleep duration on cognitive performance in shiftworkers.
<em>Chronobiology International</em>, <em>29</em>(8), 1127-1138.
<a href="https://doi.org/10.3109/07420528.2012.707999">doi:10.3109/07420528.2012.707999</a>
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pretty_mctq">pretty_mctq</a>()</code>,
<code><a href="#topic+raw_data">raw_data</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
random_mctq("standard")
random_mctq("micro")
random_mctq("shift")

## End(Not run)
</code></pre>

<hr>
<h2 id='raw_data'>Get paths to <code>mctq</code> raw datasets</h2><span id='topic+raw_data'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>mctq</code> comes bundled with raw fictional datasets for testing and learning
purposes. <code>raw_data()</code> makes it easy to access their paths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raw_data(file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="raw_data_+3A_file">file</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+character">character</a></code> object indicating the raw
data file name(s). If <code>NULL</code>, all raw data file names will be returned
(default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>file == NULL</code>, a <code><a href="base.html#topic+character">character</a></code> object with all file
names available. Else, a string with the file name path.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pretty_mctq">pretty_mctq</a>()</code>,
<code><a href="#topic+random_mctq">random_mctq</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## To list all raw data file names available

raw_data()

## To get the file path from a specific raw data

raw_data("std_mctq.csv")
## End(Not run)
</code></pre>

<hr>
<h2 id='round_time'>Round time objects</h2><span id='topic+round_time'></span><span id='topic+round_time.Duration'></span><span id='topic+round_time.difftime'></span><span id='topic+round_time.hms'></span><span id='topic+round_time.POSIXct'></span><span id='topic+round_time.POSIXlt'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>This function will be removed on the next <code>mctq</code> version. You can still find
it in the <a href="https://github.com/giperbio/lubritime"><code>lubritime</code></a> package.
</p>
<p><code>round_time()</code> takes a <code><a href="lubridate.html#topic+duration">Duration</a></code>,
<code><a href="base.html#topic+difftime">difftime</a></code>, <code><a href="hms.html#topic+hms">hms</a></code>,
<code><a href="base.html#topic+as.POSIXlt">POSIXct</a></code>, or <code><a href="base.html#topic+as.POSIXlt">POSIXlt</a></code> object
and round it at the seconds level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round_time(x)

## S3 method for class 'Duration'
round_time(x)

## S3 method for class 'difftime'
round_time(x)

## S3 method for class 'hms'
round_time(x)

## S3 method for class 'POSIXct'
round_time(x)

## S3 method for class 'POSIXlt'
round_time(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="round_time_+3A_x">x</code></td>
<td>
<p>An object belonging to one of the following classes:
<code><a href="lubridate.html#topic+duration">Duration</a></code>, <code><a href="base.html#topic+difftime">difftime</a></code>,
<code><a href="hms.html#topic+hms">hms</a></code>, <code><a href="base.html#topic+as.POSIXlt">POSIXct</a></code>, or
<code><a href="base.html#topic+as.POSIXlt">POSIXlt</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Round standard</h4>

<p><code>round_time()</code> uses <code><a href="base.html#topic+Round">base::round()</a></code> for rounding. That is to say that
<code>round_time()</code> uses the same IEC 60559 standard (<em>&quot;go to the even digit&quot;</em>)
for rounding off a 5. Therefore, <code>round(0.5)</code> is equal to 0 and <code>round(-1.5)</code>
is equal to -2. See <code><a href="base.html#topic+Round">?round</a></code> to learn more.
</p>



<h4><code>Period</code> objects</h4>

<p><code><a href="lubridate.html#topic+period">Period</a></code> objects are special type of objects
developed by the <a href="lubridate.html#topic+lubridate-package">lubridate</a> team that
represents &quot;human units&quot;, ignoring possible timeline irregularities. That is
to say that 1 day as <code>Period</code> can have different time spans, when looking to
a timeline after a irregularity event.
</p>
<p>Since the time span of a <code><a href="lubridate.html#topic+period">Period</a></code> object can
fluctuate, <code>round_time()</code> don't accept this kind of object. You can transform
it to a <code><a href="lubridate.html#topic+duration">Duration</a></code> object and still use the
function, but beware that this can produce errors.
</p>
<p>Learn more about <code><a href="lubridate.html#topic+period">Period</a></code> objects in the <a href="https://r4ds.had.co.nz/dates-and-times.html#periods">Dates and times</a> chapter of
Wickham &amp; Grolemund book (n.d.).
</p>



<h3>Value</h3>

<p>An object of the same class of <code>x</code> rounded at the seconds level.
</p>


<h3>References</h3>

<p>Wickham, H., &amp; Grolemund, G. (n.d.). <em>R for data science</em>. (n.p.).
<a href="https://r4ds.had.co.nz">https://r4ds.had.co.nz</a>
</p>


<h3>See Also</h3>

<p>Other date-time rounding functions:
<code><a href="hms.html#topic+round_hms">round_hms()</a></code> <code><a href="hms.html#topic+round_hms">trunc_hms()</a></code>
<code><a href="lubridate.html#topic+round_date">round_date()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

lubridate::dmilliseconds(123456789)
#&gt; [1] "123456.789s (~1.43 days)" # Expected
round_time(lubridate::dmilliseconds(123456789))
#&gt; [1] "123457s (~1.43 days)" # Expected

as.difftime(12345.6789, units = "secs")
#&gt; Time difference of 12345.68 secs # Expected
round_time(as.difftime(12345.6789, units = "secs"))
#&gt; Time difference of 12346 secs # Expected

hms::as_hms(12345.6789)
#&gt; 03:25:45.6789 # Expected
round_time(hms::as_hms(12345.6789))
#&gt; 03:25:46 # Expected

lubridate::as_datetime(12345.6789, tz = "EST")
#&gt; [1] "1969-12-31 22:25:45 EST" # Expected
as.numeric(lubridate::as_datetime(12345.6789, tz = "EST"))
#&gt; [1] 12345.68 # Expected
round_time(lubridate::as_datetime(12345.6789, tz = "EST"))
#&gt; [1] "1969-12-31 22:25:46 EST" # Expected
as.numeric(round_time(lubridate::as_datetime(12345.6789, tz = "EST")))
#&gt; [1] 12346 # Expected

## Vector example

c(lubridate::dhours(5.6987), lubridate::dhours(2.6875154))
#&gt; [1] "20515.32s (~5.7 hours)"    "9675.05544s (~2.69 hours)" # Expected
round_time(c(lubridate::dhours(5.6987), lubridate::dhours(2.6875154)))
#&gt; [1] "20515s (~5.7 hours)" "9675s (~2.69 hours)" # Expected
</code></pre>

<hr>
<h2 id='sd_overall'>Compute MCTQ overall sleep duration (only for MCTQ<code class="reqn">^{Shift}</code>)</h2><span id='topic+sd_overall'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sd_overall()</code> computes the <strong>overall sleep duration in a particular shift</strong>
for the shift version of the Munich ChronoType Questionnaire (MCTQ).
</p>
<p>See <code><a href="#topic+sd_week">sd_week()</a></code> to compute the average weekly sleep
duration for the standard and micro versions of the MCTQ.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_overall(sd_w, sd_f, n_w, n_f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sd_overall_+3A_sd_w">sd_w</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration between two days in a particular shift</strong> from a shift
version of the MCTQ questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sd_overall_+3A_sd_f">sd_f</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration between two free days after a particular shift</strong> from a
shift version of the MCTQ questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code>
to compute it.</p>
</td></tr>
<tr><td><code id="sd_overall_+3A_n_w">n_w</code></td>
<td>
<p>An <a href="checkmate.html#topic+checkIntegerish">integerish</a>
<code><a href="base.html#topic+numeric">numeric</a></code> object or an <code><a href="base.html#topic+integer">integer</a></code>
object corresponding to the <strong>number of days worked in a particular shift
within a shift cycle</strong> from a shift version of the MCTQ questionnaire.</p>
</td></tr>
<tr><td><code id="sd_overall_+3A_n_f">n_f</code></td>
<td>
<p>An <a href="checkmate.html#topic+checkIntegerish">integerish</a>
<code><a href="base.html#topic+numeric">numeric</a></code> object or an <code><a href="base.html#topic+integer">integer</a></code>
object corresponding to the <strong>number of free days after a particular shift
within a shift cycle</strong> from a shift version of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
vectorized weighted mean of <code>sd_w</code> and <code>sd_f</code> with <code>n_w</code> and <code>n_f</code> as
weights.
</p>


<h3>Guidelines</h3>

<p>Juda, Vetter, &amp; Roenneberg (2013) and The Worldwide Experimental Platform
(n.d.) guidelines for <code>sd_overall()</code> (<code class="reqn">\emptyset SD</code>) computation
are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire. If
you're using the three-shift design proposed by the MCTQ authors, you need to
compute three overall sleep duration (e.g., <code class="reqn">\emptyset SD^M</code>;
<code class="reqn">\emptyset SD^E</code>; <code class="reqn">\emptyset SD^N</code>).
</p>
</li>
<li><p> The overall sleep duration is the weighted average of the shift-specific
mean sleep durations.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>Computation</h4>

<p style="text-align: center;"><code class="reqn">\emptyset SD^{M/E/N} = \frac{(SD_{W}^{M/E/N} \times n_{W}^{M/E/N}) +
(SD_{F}^{M/E/N} \times n_{F}^{M/E/N})}{n_W^{M/E/N} + n_{F}^{M/E/N}}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">\emptyset SD^{M/E/N}</code> = Overall sleep duration in a particular shift.
</p>
</li>
<li> <p><code class="reqn">SD_W^{M/E/N}</code> = Sleep duration between two days in a particular shift.
</p>
</li>
<li> <p><code class="reqn">SD_F^{M/E/N}</code> = Sleep duration between two free days after a
particular shift.
</p>
</li>
<li> <p><code class="reqn">n_W^{M/E/N}</code> = Number of days worked in a particular shift within a
shift cycle.
</p>
</li>
<li> <p><code class="reqn">n_F^{M/E/N}</code> = Number of free days after a particular shift within a
shift cycle.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

sd_w &lt;- lubridate::dhours(5)
sd_f &lt;- lubridate::dhours(9)
n_w &lt;- 2
n_f &lt;- 2
sd_overall(sd_w, sd_f, n_w, n_f)
#&gt; [1] "25200s (~7 hours)" # Expected

sd_w &lt;- lubridate::dhours(3.45)
sd_f &lt;- lubridate::dhours(10)
n_w &lt;- 3
n_f &lt;- 1
sd_overall(sd_w, sd_f, n_w, n_f)
#&gt; [1] "18315s (~5.09 hours)" # Expected

sd_w &lt;- lubridate::as.duration(NA)
sd_f &lt;- lubridate::dhours(12)
n_w &lt;- 4
n_f &lt;- 4
sd_overall(sd_w, sd_f, n_w, n_f)
#&gt; [1] NA # Expected

## Vector example

sd_w &lt;- c(lubridate::dhours(4), lubridate::dhours(7))
sd_f &lt;- c(lubridate::dhours(12), lubridate::dhours(9))
n_w &lt;- c(3, 4)
n_f &lt;- c(2, 4)
sd_overall(sd_w, sd_f, n_w, n_f)
#&gt; [1] "25920s (~7.2 hours)" "28800s (~8 hours)"  # Expected

## Checking second output from vector example

if (requireNamespace("stats", quietly = TRUE)) {
    i &lt;- 2
    x &lt;- c(sd_w[i], sd_f[i])
    w &lt;- c(n_w[i], n_f[i])
    lubridate::as.duration(stats::weighted.mean(x, w))
}
#&gt; [1] "28800s (~8 hours)" # Expected

## Converting the output to 'hms'

sd_w &lt;- lubridate::dhours(4.75)
sd_f &lt;- lubridate::dhours(10)
n_w &lt;- 5
n_f &lt;- 2
sd_overall(sd_w, sd_f, n_w, n_f)
#&gt; [1] "22500s (~6.25 hours)" # Expected

hms::as_hms(as.numeric(sd_overall(sd_w, sd_f, n_w, n_f)))
#&gt; 06:15:00 # Expected

## Rounding the output at the seconds level

sd_w &lt;- lubridate::dhours(5.9874)
sd_f &lt;- lubridate::dhours(9.3)
n_w &lt;- 3
n_f &lt;- 2
sd_overall(sd_w, sd_f, n_w, n_f)
#&gt; [1] "26324.784s (~7.31 hours)" # Expected

round_time(sd_overall(sd_w, sd_f, n_w, n_f))
#&gt; [1] "26325s (~7.31 hours)" # Expected
</code></pre>

<hr>
<h2 id='sd_week'>Compute MCTQ average weekly sleep duration</h2><span id='topic+sd_week'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sd_week()</code> computes the <strong>average weekly sleep duration</strong> for the standard
and micro versions of the Munich ChronoType Questionnaire (MCTQ).
</p>
<p>See <code><a href="#topic+sd_overall">sd_overall()</a></code> to compute the overall sleep
duration of a particular shift for the shift version of the MCTQ.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_week(sd_w, sd_f, wd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sd_week_+3A_sd_w">sd_w</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration on workdays</strong> from a standard or micro version of the MCTQ
questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sd_week_+3A_sd_f">sd_f</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration on work-free days</strong> from a standard or micro version of
the MCTQ questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sd_week_+3A_wd">wd</code></td>
<td>
<p>An <a href="checkmate.html#topic+checkIntegerish">integerish</a>
<code><a href="base.html#topic+numeric">numeric</a></code> object or an <code><a href="base.html#topic+integer">integer</a></code>
object corresponding to the <strong>number of workdays per week</strong> from a standard
or micro version of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
vectorized weighted mean of <code>sd_w</code> and <code>sd_f</code> with <code>wd</code> and <code>fd(wd)</code> as
weights.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Ghotbi et al. (2020), and
The Worldwide Experimental Platform (n.d.) guidelines for <code>sd_week()</code>
(<code class="reqn">SD_{week}</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> The average weekly sleep duration is the weighted average of the sleep
durations on work and work-free days in a week.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>Computation</h4>

<p style="text-align: center;"><code class="reqn">SD_{week} = \frac{(SD_{W} \times WD) + (SD_{F} \times FD)}{7}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SD_{week}</code> = Average weekly sleep duration.
</p>
</li>
<li> <p><code class="reqn">SD_{W}</code> = Sleep duration on workdays.
</p>
</li>
<li> <p><code class="reqn">SD_{F}</code> = Sleep duration on work-free days.
</p>
</li>
<li> <p><code class="reqn">WD</code> = Number of workdays per week (&quot;I have a regular work schedule and
work ___ days per week&quot;).
</p>
</li>
<li> <p><code class="reqn">FD</code> = Number of work-free days per week.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

sd_w &lt;- lubridate::dhours(4)
sd_f &lt;- lubridate::dhours(8)
wd &lt;- 5
sd_week(sd_w, sd_f, wd)
#&gt; [1] "18514.2857142857s (~5.14 hours)" # Expected

sd_w &lt;- lubridate::dhours(7)
sd_f &lt;- lubridate::dhours(7)
wd &lt;- 4
sd_week(sd_w, sd_f, wd)
#&gt; [1] "25200s (~7 hours)" # Expected

sd_w &lt;- lubridate::as.duration(NA)
sd_f &lt;- lubridate::dhours(10)
wd &lt;- 6
sd_week(sd_w, sd_f, wd)
#&gt; [1] NA # Expected

## Vector example

sd_w &lt;- c(lubridate::dhours(4.5), lubridate::dhours(5.45))
sd_f &lt;- c(lubridate::dhours(8), lubridate::dhours(7.3))
wd &lt;- c(3, 7)
sd_week(sd_w, sd_f, wd)
#&gt; [1] "23400s (~6.5 hours)"  "19620s (~5.45 hours)" # Expected

## Checking second output from vector example

if (requireNamespace("stats", quietly = TRUE)) {
    i &lt;- 2
    x &lt;- c(sd_w[i], sd_f[i])
    w &lt;- c(wd[i], fd(wd[i]))
    lubridate::as.duration(stats::weighted.mean(x, w))
}
#&gt; [1] "19620s (~5.45 hours)" # Expected

## Converting the output to 'hms'

sd_w &lt;- lubridate::dhours(5.45)
sd_f &lt;- lubridate::dhours(9.5)
wd &lt;- 5
x &lt;- sd_week(sd_w, sd_f, wd)
x
#&gt; [1] "23785.7142857143s (~6.61 hours)" # Expected
hms::as_hms(as.numeric(x))
#&gt; 06:36:25.714286 # Expected

## Rounding the output at the seconds level

sd_w &lt;- lubridate::dhours(4.5)
sd_f &lt;- lubridate::dhours(7.8)
wd &lt;- 3
sd_week(sd_w, sd_f, wd)
#&gt; [1] "22988.5714285714s (~6.39 hours)" # Expected

round_time(sd_week(sd_w, sd_f, wd))
#&gt; [1] "22989s (~6.39 hours)" # Expected
</code></pre>

<hr>
<h2 id='sd24'>Compute MCTQ 24 hours sleep duration (only for MCTQ<code class="reqn">^{Shift}</code>)</h2><span id='topic+sd24'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sd24()</code> computes the <strong>24 hours sleep duration</strong> for the shift version of
the Munich ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd24(sd, napd, nap)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sd24_+3A_sd">sd</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration</strong> from the shift version of the MCTQ questionnaire. You
can use <code><a href="#topic+sdu">sdu()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sd24_+3A_napd">napd</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>nap duration</strong> from the shift version of the MCTQ questionnaire. You can
use <code><a href="#topic+napd">napd()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sd24_+3A_nap">nap</code></td>
<td>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value corresponding to the <strong>&quot;I
usually take a nap&quot;</strong> response from the shift version of the MCTQ
questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>


<ul>
<li><p> If <code>nap == TRUE</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object
corresponding to the vectorized sum of <code>sd</code> and <code>napd</code> in a circular time
frame of 24 hours.
</p>
</li>
<li><p> If <code>nap == FALSE</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object equal to
<code>sd</code>.
</p>
</li></ul>



<h3>Guidelines</h3>

<p>Juda, Vetter &amp; Roenneberg (2013) and The Worldwide Experimental Platform
(n.d.) guidelines for <code>sd24()</code> (<code class="reqn">SD24</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire.
</p>
</li>
<li><p> If the respondent don't usually take a nap in a particular shift <strong>or</strong>
between two free days after a particular shift, <code>sd24()</code> will return only
<code class="reqn">SD_{W/F}^{M/E/N}</code>.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>Computation</h4>

<p style="text-align: center;"><code class="reqn">SD24_{W/F}^{M/E/N} = SD_{W/F}^{M/E/N} + NapD_{W/F}^{M/E/N}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SD24_{W/F}^{M/E/N}</code> = 24 hours sleep duration between two days in a
particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SD_{W/F}^{M/E/N}</code> = Sleep duration between two days in a particular
shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">NapD_{W/F}^{M/E/N}</code> = Nap duration between two days in a particular
shift <strong>or</strong> between two free days after a particular shift.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

sd &lt;- lubridate::dhours(6)
napd &lt;- lubridate::dhours(0.5)
nap &lt;- TRUE
sd24(sd, napd, nap)
#&gt; [1] "23400s (~6.5 hours)" # Expected

sd &lt;- lubridate::dhours(9)
napd &lt;- lubridate::dhours(1.5)
nap &lt;- TRUE
sd24(sd, napd, nap)
#&gt; [1] "37800s (~10.5 hours)" # Expected

sd &lt;- lubridate::dhours(6.5)
napd &lt;- lubridate::as.duration(NA)
nap &lt;- FALSE
sd24(sd, napd, nap)
#&gt; [1] "23400s (~6.5 hours)" # Expected

sd &lt;- lubridate::as.duration(NA)
napd &lt;- lubridate::dhours(2.3)
nap &lt;- TRUE
sd24(sd, napd, nap)
#&gt; [1] NA # Expected

## Vector example

sd &lt;- c(lubridate::dhours(7.5), lubridate::dhours(8))
napd &lt;- c(lubridate::dhours(0.75), lubridate::dhours(1))
nap &lt;- c(TRUE, TRUE)
sd24(sd, napd, nap)
#&gt; [1] "29700s (~8.25 hours)" "32400s (~9 hours)" # Expected
</code></pre>

<hr>
<h2 id='sdu'>Compute MCTQ sleep duration</h2><span id='topic+sdu'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sdu()</code> computes the <strong>sleep duration</strong> for standard, micro, and shift
versions of the Munich ChronoType Questionnaire (MCTQ).
</p>
<p>Please note that, although we tried to preserve the original authors' naming
pattern for the MCTQ functions, the name <code>sd</code> provokes a dangerous name
collision with the widely used <code><a href="stats.html#topic+sd">sd()</a></code> function (standard
deviation). That's why we named it <code>sdu</code>. <code>sdu()</code> and <code><a href="#topic+msl">msl()</a></code>
are the only exceptions, all the other <code>mctq</code> functions maintain a strong
naming resemblance with the original authors' naming pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sdu(so, se)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sdu_+3A_so">so</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
sleep onset</strong> from a standard, micro, or shift version of the MCTQ
questionnaire. You can use <code><a href="#topic+so">so()</a></code> to compute it for the
standard or shift version.</p>
</td></tr>
<tr><td><code id="sdu_+3A_se">se</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
sleep end</strong> from a standard, micro, or shift version of the MCTQ
questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
vectorized difference between <code>se</code> and <code>so</code> in a circular time frame of 24
hours.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Ghotbi et al. (2020), Juda,
Vetter, &amp; Roenneberg (2013), and The Worldwide Experimental Platform (n.d.)
guidelines for <code>sdu()</code> (<code class="reqn">SD</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">SD_{W/F} = SE_{W/F} - SO_{W/F}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SD_{W/F}</code> = Sleep duration on work <strong>or</strong> work-free days.
</p>
</li>
<li> <p><code class="reqn">SE_{W/F}</code> = Local time of sleep end on work <strong>or</strong> work-free days.
</p>
</li>
<li> <p><code class="reqn">SO_{W/F}</code>  = Local time of sleep onset on work <strong>or</strong> work-free days.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">SD_{W/F}^{M/E/N} = SE_{W/F}^{M/E/N} - SO_{W/F}^{M/E/N}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SD_{W/F}^{M/E/N}</code> = Sleep duration between two days in a particular
shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SE_{W/F}^{M/E/N}</code> = Local time of sleep end between two days in a
particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SO_{W/F}^{M/E/N}</code> = Local time of sleep onset between two days in a
particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

so &lt;- hms::parse_hm("23:00")
se &lt;- hms::parse_hm("08:00")
sdu(so, se)
#&gt; [1] "32400s (~9 hours)" # Expected

so &lt;- hms::parse_hm("02:00")
se &lt;- hms::parse_hm("12:30")
sdu(so, se)
#&gt; [1] "37800s (~10.5 hours)" # Expected

so &lt;- hms::parse_hm("03:15")
se &lt;- hms::as_hms(NA)
sdu(so, se)
#&gt; [1] NA # Expected

## Vector example

so &lt;- c(hms::parse_hm("04:12"), hms::parse_hm("21:20"))
se &lt;- c(hms::parse_hm("14:30"), hms::parse_hm("03:45"))
sdu(so, se)
#&gt; [1] "37080s (~10.3 hours)" "23100s (~6.42 hours)" # Expected
</code></pre>

<hr>
<h2 id='shift_mctq'>A fictional MCTQ<code class="reqn">^{Shift}</code> dataset</h2><span id='topic+shift_mctq'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p>A fictional dataset, for <strong>testing and learning purposes</strong>, composed of
basic/measurable and computed variables of the Munich ChronoType
Questionnaire (MCTQ) shift version.
</p>
<p>This data was created following the guidelines in Juda, Vetter, &amp; Roenneberg
(2013), in addition to the guidelines found in Roenneberg, Wirz-Justice, &amp;
Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Jankowski
(2017), and The Worldwide Experimental Platform (n.d.). See the References
and Details sections to learn more.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shift_mctq
</code></pre>


<h3>Format</h3>

<p>A <code><a href="dplyr.html#topic+reexports">tibble</a></code> with 135 columns and 50 rows:
</p>

<dl>
<dt>id</dt><dd>
<p>A unique <code><a href="base.html#topic+integer">integer</a></code> value to identify each respondent in
the dataset.
<br /> <br />
Type: Control.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>n_w_m</dt><dd>
<p>Number of days <strong>worked in morning shifts</strong> within a shift cycle.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>bt_w_m</dt><dd>
<p>Local time of going to bed on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I go to bed at ___ o'clock'&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sprep_w_m</dt><dd>
<p>Local time of preparing to sleep on workdays <strong>between two morning
shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I actually get ready to fall asleep at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>slat_w_m</dt><dd>
<p>Sleep latency or time to fall asleep after preparing to sleep on workdays
<strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I need ___ minutes to fall asleep&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>so_w_m</dt><dd>
<p>Local time of sleep onset on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>se_w_m</dt><dd>
<p>Local time of sleep end on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I wake up at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>tgu_w_m</dt><dd>
<p>Time to get up on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I get up after ___ minutes&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>gu_w_m</dt><dd>
<p>Local time of getting out of bed on workdays <strong>between two morning
shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>alarm_w_m</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent uses an
alarm clock to wake up on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I wake up at ___ o'clock: ( ___ ) with alarm ( ___ )
without alarm&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>reasons_w_m</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent has any
particular reasons for why they <strong>cannot</strong> freely choose their sleep times
on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;There are particular reasons why I <strong>cannot</strong> freely
choose my sleep times on morning shifts: Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>reasons_why_w_m</dt><dd>
<p>Particular reasons for why the respondent cannot freely choose their sleep
times on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: Child(ren)/pet(s) ( ___ ) Hobbies ( ___ )
Others, for example: ___&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+character">character</a></code>.
</p>
</dd>
<dt>sd_w_m</dt><dd>
<p>Sleep duration on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>tbt_w_m</dt><dd>
<p>Total time in bed on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msw_m</dt><dd>
<p>Local time of mid-sleep on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>nap_w_m</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent usually
takes a nap on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I usually take a nap: Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>napo_w_m</dt><dd>
<p>Local time of nap onset on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: I take a nap from ___ o'clock to ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>nape_w_m</dt><dd>
<p>Local time of nap end on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: I take a nap from ___ o'clock to ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>napd_w_m</dt><dd>
<p>Nap duration on workdays <strong>between two morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sd24_w_m</dt><dd>
<p>24 hours sleep duration (sleep duration + nap duration) on workdays
<strong>between two morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>n_f_m</dt><dd>
<p>Number of free days <strong>after working in morning shifts</strong> within a shift
cycle.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>bt_f_m</dt><dd>
<p>Local time of going to bed on work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I go to bed at ___ o'clock'&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sprep_f_m</dt><dd>
<p>Local time of preparing to sleep on work-free days <strong>between two free days
after morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I actually get ready to fall asleep at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>slat_f_m</dt><dd>
<p>Sleep latency or time to fall asleep after preparing to sleep on work-free
days <strong>between two free days after morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I need ___ minutes to fall asleep&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>so_f_m</dt><dd>
<p>Local time of sleep onset on work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>se_f_m</dt><dd>
<p>Local time of sleep end on work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I wake up at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>tgu_f_m</dt><dd>
<p>Time to get up on work-free days <strong>between two free days after morning
shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I get up after ___ minutes&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>gu_f_m</dt><dd>
<p>Local time of getting out of bed on work-free days <strong>between two free days
after morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>alarm_f_m</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent uses an
alarm clock to wake up on work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I wake up at ___ o'clock: ( ___ ) with alarm ( ___ )
without alarm&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>reasons_f_m</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent has any
particular reasons for why they <strong>cannot</strong> freely choose their sleep times
on work-free days <strong>between two free days after morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;There are particular reasons why I <strong>cannot</strong> freely
choose my sleep times on morning shifts: Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>reasons_why_f_m</dt><dd>
<p>Particular reasons for why the respondent cannot freely choose their sleep
times on work-free days <strong>between two free days after morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: Child(ren)/pet(s) ( ___ ) Hobbies ( ___ )
Others, for example: ___&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+character">character</a></code>.
</p>
</dd>
<dt>sd_f_m</dt><dd>
<p>Sleep duration on work-free days <strong>between two free days after morning
shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>tbt_f_m</dt><dd>
<p>Total time in bed on work-free days <strong>between two free days after morning
shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msf_m</dt><dd>
<p>Local time of mid-sleep on work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>nap_f_m</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent usually
takes a nap on work-free days <strong>between two free days after morning
shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I usually take a nap: Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>napo_f_m</dt><dd>
<p>Local time of nap onset on work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: I take a nap from ___ o'clock to ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>nape_f_m</dt><dd>
<p>Local time of nap end on work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: I take a nap from ___ o'clock to ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>napd_f_m</dt><dd>
<p>Nap duration on work-free days <strong>between two free days after morning
shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sd24_f_m</dt><dd>
<p>24 hours sleep duration (sleep duration + nap duration) on work-free days
<strong>between two free days after morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sd_overall_m</dt><dd>
<p>Overall sleep duration considering workdays <strong>between two morning shifts</strong>
and work-free days <strong>between two free days after morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msf_sc_m</dt><dd>
<p>Corrected local time of mid-sleep on work-free days <strong>between two free days
after morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sjl_rel_m</dt><dd>
<p>Relative social jetlag considering workdays <strong>between two morning shifts</strong>
and work-free days <strong>between two free days after morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl_m</dt><dd>
<p>Absolute social jetlag considering workdays <strong>between two morning shifts</strong>
and work-free days <strong>between two free days after morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl_sc_rel_m</dt><dd>
<p>Jankowski's relative sleep-corrected social jetlag considering workdays
<strong>between two morning shifts</strong> and work-free days <strong>between two free days
after morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl_sc_m</dt><dd>
<p>Jankowski's sleep-corrected social jetlag considering workdays <strong>between
two morning shifts</strong> and work-free days <strong>between two free days after
morning shifts</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>...</dt><dd>
<p>For brevity, the subsequent variables, except for <strong>sjl_weighted</strong> and
<strong>sjl_sc_weighted</strong> (described below), are not shown here. That's because
they have the same configurations of the variables shown above, differing
only by shift (<strong>evening shift</strong> (<code style="white-space: pre;">&#8288;_e&#8288;</code>) and <strong>night shift</strong> (<code style="white-space: pre;">&#8288;_n&#8288;</code>)).</p>
</dd>
<dt>sjl_weighted</dt><dd>
<p>Absolute social jetlag across all shifts.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
</dl>
<p>#'   </p>
<dl>
<dt>sjl_sc_weighted</dt><dd>
<p>Jankowski's sleep-corrected social jetlag across all shifts.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
</dl>



<h3>Details</h3>

<p><code>shift_mctq</code> is a tidied, validated, and transformed version of
<code>raw_data("shift_mctq.csv")</code>.
</p>


<h4>Guidelines</h4>

<p>To learn more about the Munich ChronoType Questionnaire (MCTQ),
see Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt,
Merrow, &amp; Vetter (2012), Roenneberg et al. (2015), and Roenneberg, Pilz,
Zerbini, &amp; Winnebeck (2019).
</p>
<p>To know about different MCTQ versions, see Juda, Vetter, &amp; Roenneberg
(2013) and Ghotbi et al. (2020).
</p>
<p>To learn about the sleep-corrected social jetlag, see Jankowski (2017).
</p>
<p>If you're curious about the variable computations and want to have access to
the full questionnaire, see The Worldwide Experimental Platform (n.d.).
</p>



<h4>Data building and data wrangling</h4>

<p>This dataset was created by randomized sampling (see
<code><a href="#topic+random_mctq">random_mctq()</a></code>) and by manual insertions of special
cases. Its purpose is to demonstrate common cases and data issues that
researchers may find in their MCTQ data, in addition to be a suggested data
structure for MCTQ data.
</p>
<p>You can see the <code>shift_mctq</code> build and data wrangling processes
<a href="https://github.com/ropensci/mctq/blob/main/data-raw/shift_mctq.R">here</a>.
</p>



<h4>Variable naming</h4>

<p>The naming of the variables took into account the naming scheme used in MCTQ
publications, in addition to the guidelines of the <a href="https://style.tidyverse.org/">tidyverse style guide</a>.
</p>



<h4>Variable classes</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the <a href="hms.html#topic+hms-package">hms</a>
and <a href="lubridate.html#topic+lubridate-package">lubridate</a> package.
</p>



<h4><code>Duration</code> objects</h4>

<p>If you prefer to view <code><a href="lubridate.html#topic+duration">Duration</a></code> objects as
<code><a href="hms.html#topic+hms">hms</a></code> objects, run
<code><a href="#topic+pretty_mctq">pretty_mctq(shift_mctq)</a></code>.
</p>



<h3>Source</h3>

<p>Created by Daniel Vartanian (package author).
</p>


<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Jankowski K. S. (2017). Social jet lag: sleep-corrected formula.
<em>Chronobiology International</em>, <em>34</em>(4), 531-535.
<a href="https://doi.org/10.1080/07420528.2017.1299162">doi:10.1080/07420528.2017.1299162</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Keller, L. K., Fischer, D., Matera, J. L., Vetter, C., &amp;
Winnebeck, E. C. (2015). Human activity and rest in situ. In A. Sehgal (Ed.),
<em>Methods in Enzymology</em> (Vol. 552, pp. 257-283). Academic Press.
<a href="https://doi.org/10.1016/bs.mie.2014.11.028">doi:10.1016/bs.mie.2014.11.028</a>
</p>
<p>Roenneberg, T., Pilz, L. K., Zerbini, G., &amp; Winnebeck, E. C. (2019).
Chronotype and social jetlag: a (self-) critical review. <em>Biology</em>, <em>8</em>(3),
54. <a href="https://doi.org/10.3390/biology8030054">doi:10.3390/biology8030054</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+micro_mctq">micro_mctq</a></code>,
<code><a href="#topic+std_mctq">std_mctq</a></code>
</p>

<hr>
<h2 id='shorter_interval'>Find the shorter or longer interval between two hours</h2><span id='topic+shorter_interval'></span><span id='topic+longer_interval'></span><span id='topic+shorter_duration'></span><span id='topic+longer_duration'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>These functions will be removed on the next <code>mctq</code> version. You can still
find them in the <a href="https://github.com/giperbio/lubritime"><code>lubritime</code></a>
package.
</p>
<p><code>shorter_interval()</code> returns the shorter interval between two
<code><a href="hms.html#topic+hms">hms</a></code> or <code><a href="base.html#topic+DateTimeClasses">POSIXt</a></code> object hours.
</p>
<p><code>longer_interval()</code> do the inverse of <code>shorter_interval()</code>, i.e., returns the
longer interval between two hours.
</p>
<p><code>shorter_duration()</code> and <code>longer_duration()</code> return the interval time span
of <code>shorter_interval()</code> and <code>longer_interval()</code> as
<code><a href="lubridate.html#topic+duration">Duration</a></code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shorter_interval(x, y)

longer_interval(x, y)

shorter_duration(x, y)

longer_duration(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shorter_interval_+3A_x">x</code>, <code id="shorter_interval_+3A_y">y</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> or <code><a href="base.html#topic+DateTimeClasses">POSIXt</a></code>
object.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>The two intervals problem</h4>

<p>Given two hours, <code>x</code> and <code>y</code>, in a two-day timeline, without date references,
there will be always two possible intervals between them, as illustrated
below.
</p>
<p>To figure out what interval is the  shorter or the longer,
<code>shorter_interval()</code> and <code>longer_interval()</code> verify two scenarios: 1. When
<code>x</code> comes before <code>y</code>; and 2. when <code>x</code> comes after <code>y</code>. This only works if <code>x</code>
value is smaller than <code>y</code>, therefore, the function will make sure to swap <code>x</code>
and <code>y</code> values if the latter assumption is not true.
</p>
<p>Because <code>shorter_interval()</code> objective is to find the shorter interval, if
<code>x</code> and <code>y</code> are equal, the shorter interval will have a length of 0 hours,
resulting in an interval from <code>x</code> to <code>x</code>. But, if <code>longer_interval()</code> is used
instead, the latter condition will return a interval with 24 hours of length
(from <code>x</code> to <code>x</code> + 1 day).
</p>
<p>In cases when <code>x</code> and <code>y</code> distance themselves by 12 hours, there will be no
shorter or longer interval (they will have equal length). In these cases,
<code>shorter_interval()</code> and <code>longer_interval()</code> will return the same value
(an interval of 12 hours).
</p>
<div class="sourceCode"><pre>             day 1                        day 2
     x                  y         x                  y
   06:00              22:00     06:00              22:00
-----|------------------|---------|------------------|-----&gt;
              16h           8h             16h
          longer int.  shorter int.   longer int.

              day 1                      day 2
     y                   x       y                   x
   13:00               08:00   13:00               08:00
-----|-------------------|-------|-------------------|-----&gt;
              19h           5h            19h
          longer int.  shorter int.  longer int.

    x,y             x,y             x,y             x,y
     x               y               x               y
   10:00           10:00           10:00           10:00
-----|---------------|---------------|---------------|-----&gt;
    0h              0h              0h              0h
            24h             24h             24h

              day 1                      day 2
     y               x               y               x
   12:00           00:00           12:00           00:00
-----|---------------|---------------|---------------|-----&gt;
            12h             12h             12h
</pre></div>



<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the <a href="hms.html#topic+hms-package">hms</a>
and <a href="lubridate.html#topic+lubridate-package">lubridate</a> package.
</p>



<h4>Base date and timezone</h4>

<p><code>shorter_interval()</code> and <code>longer_interval()</code> use the
<a href="https://en.wikipedia.org/wiki/Unix_time">Unix epoch</a> (1970-01-01) date as
the start date for creating intervals.
</p>
<p>The output will always have <code>"UTC"</code> set as timezone. Learn more about
time zones in <code><a href="base.html#topic+timezones">?timezone</a></code>.
</p>



<h4><code>POSIXt</code> objects</h4>

<p><code><a href="base.html#topic+DateTimeClasses">POSIXt</a></code> objects passed as argument to <code>x</code> or <code>y</code>
will be stripped of their dates. Only the time will be considered.
</p>
<p>Both <code><a href="base.html#topic+as.POSIXlt">POSIXct</a></code> and <code><a href="base.html#topic+as.POSIXlt">POSIXlt</a></code> are
objects that inherits the class <code><a href="base.html#topic+DateTimeClasses">POSIXt</a></code>. Learn more
about it in <code><a href="base.html#topic+DateTimeClasses">?DateTimeClasses</a></code>.
</p>



<h4><code>NA</code> values</h4>

<p><code>shorter_interval()</code> or <code>longer_interval()</code> will return an
<code><a href="lubridate.html#topic+interval">Interval</a></code> <code>NA</code>-<code>NA</code> if <code>x</code> or <code>y</code> are <code>NA</code>.
</p>
<p><code>shorter_duration()</code> or <code>longer_duration()</code> will return a
<code><a href="lubridate.html#topic+duration">Duration</a></code> <code>NA</code>  if <code>x</code> or <code>y</code> are <code>NA</code>.
</p>



<h3>Value</h3>


<ul>
<li><p> For <code>shorter_interval()</code> or <code>longer_interval()</code>, an
<code><a href="lubridate.html#topic+interval">Interval</a></code> object with the shorter or longer
interval between <code>x</code> and <code>y</code>.
</p>
</li>
<li><p> For <code>shorter_duration()</code> or <code>longer_duration()</code>, a
<code><a href="lubridate.html#topic+duration">Duration</a></code> object with the shorter or longer
duration between <code>x</code> and <code>y</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

x &lt;- hms::parse_hm("23:00")
y &lt;- hms::parse_hm("01:00")

shorter_interval(x, y)
#&gt; [1] 1970-01-01 23:00:00 UTC--1970-01-02 01:00:00 UTC # Expected
shorter_duration(x, y)
#&gt; [1] "7200s (~2 hours)" # Expected
longer_interval(x, y)
#&gt; [1] 1970-01-01 01:00:00 UTC--1970-01-01 23:00:00 UTC # Expected
longer_duration(x, y)
#&gt; [1] "79200s (~22 hours)" # Expected

x &lt;- lubridate::as_datetime("1985-01-15 12:00:00")
y &lt;- lubridate::as_datetime("2020-09-10 12:00:00")

shorter_interval(x, y)
#&gt; [1] 1970-01-01 12:00:00 UTC--1970-01-01 12:00:00 UTC # Expected
shorter_duration(x, y)
#&gt; [1] "0s" # Expected
longer_interval(x, y)
#&gt; [1] 1970-01-01 12:00:00 UTC--1970-01-02 12:00:00 UTC # Expected
longer_duration(x, y)
#&gt; [1] "86400s (~1 days)" # Expected

## Vector example

x &lt;- c(hms::parse_hm("15:30"), hms::parse_hm("21:30"))
y &lt;- c(hms::parse_hm("19:30"), hms::parse_hm("04:00"))

shorter_interval(x, y)
#&gt; [1] 1970-01-01 15:30:00 UTC--1970-01-01 19:30:00 UTC # Expected
#&gt; [2] 1970-01-01 21:30:00 UTC--1970-01-02 04:00:00 UTC # Expected
shorter_duration(x, y)
#&gt; [1] [1] "14400s (~4 hours)"   "23400s (~6.5 hours)" # Expected
longer_interval(x, y)
#&gt; [1] 1970-01-01 19:30:00 UTC--1970-01-02 15:30:00 UTC # Expected
#&gt; [2] 1970-01-01 04:00:00 UTC--1970-01-01 21:30:00 UTC # Expected
longer_duration(x, y)
#&gt; [1] "72000s (~20 hours)"   "63000s (~17.5 hours)" # Expected
</code></pre>

<hr>
<h2 id='sjl'>Compute MCTQ social jetlag</h2><span id='topic+sjl'></span><span id='topic+sjl_rel'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sjl()</code> computes the <strong>relative or absolute social jetlag</strong> for standard,
micro, and shift versions of the Munich ChronoType Questionnaire (MCTQ).
</p>
<p><code>sjl_rel()</code> is just a wrapper for <code>sjl()</code> with <code>abs = FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sjl(msw, msf, abs = TRUE, method = "shorter")

sjl_rel(msw, msf, method = "shorter")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sjl_+3A_msw">msw</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
mid-sleep on workdays</strong> from a standard, micro, or shift version of the
MCTQ questionnaire. You can use <code><a href="#topic+msl">msl()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sjl_+3A_msf">msf</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
mid-sleep on work-free days</strong> from a standard, micro, or shift version of
the MCTQ questionnaire. You can use <code><a href="#topic+msl">msl()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sjl_+3A_abs">abs</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+logical">logical</a></code> object indicating if the
function must return an absolute value (default: <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="sjl_+3A_method">method</code></td>
<td>
<p>(optional) a string indicating which method the function must
use to compute the social jetlag. See the Methods section to learn
more (default: <code>"shorter"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>


<ul>
<li><p> If <code>abs = TRUE</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding
to the absolute social jetlag.
</p>
</li>
<li><p> If <code>abs = FALSE</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object
corresponding to the relative social jetlag.
</p>
</li></ul>

<p>The output may also vary depending on the <code>method</code> used.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Juda, Vetter, &amp; Roenneberg
(2013), and The Worldwide Experimental Platform (n.d.) guidelines for <code>sjl()</code>
(<code class="reqn">SJL_{rel}</code> and <code class="reqn">SJL</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> For MCTQ<code class="reqn">^{Shift}</code>, the computation below must be applied to
each shift section of the questionnaire.
</p>
</li>
<li><p> Due to time arithmetic issues, <code>sjl()</code> does a slightly different
computation by default than those proposed by the authors mentioned above.
See <code>vignette("sjl-computation", package = "mctq")</code> for more details.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">SJL_{rel} = MSF - MSW</code>
</p>

<p style="text-align: center;"><code class="reqn">SJL = | MSF - MSW |</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SJL_{rel}</code> = Relative social jetlag.
</p>
</li>
<li> <p><code class="reqn">SJL</code> = Absolute social jetlag.
</p>
</li>
<li> <p><code class="reqn">MSW</code> = Local time of mid-sleep on workdays.
</p>
</li>
<li> <p><code class="reqn">MSF</code> = Local time of mid-sleep on work-free days.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">SJL_{rel}^{M/E/N} = MSF^{M/E/N} - MSW^{M/E/N}</code>
</p>

<p style="text-align: center;"><code class="reqn">SJL^{M/E/N} = | MSF^{M/E/N} - MSW^{M/E/N} |</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SJL_{rel}^{M/E/N}</code> = Relative social jetlag in a particular shift.
</p>
</li>
<li> <p><code class="reqn">SJL^{M/E/N}</code> = Absolute social jetlag in a particular shift.
</p>
</li>
<li> <p><code class="reqn">MSW^{M/E/N}</code> = Local time of mid-sleep between two days in a
particular shift.
</p>
</li>
<li> <p><code class="reqn">MSF^{M/E/N}</code> = Local time of mid-sleep between two free days after a
particular shift.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>Methods for computing the social jetlag</h3>

<p>There are different approaches to compute the social jetlag (<code class="reqn">SJL</code>). By
default, <code>sjl()</code> uses an approach that we call &quot;the shorter interval
approach&quot; (<code>"shorter"</code>).
</p>
<p>The topics below provide a simple explanation of each method supported by
<code>sjl()</code>. To get a detail understating of this methods, see
<code>vignette("sjl-computation", package = "mctq")</code>.
</p>

<ul>
<li> <p><code>"difference"</code>
</p>
</li></ul>

<p>By using <code>method = "difference"</code>, <code>sjl()</code> will do the exact computation
proposed by the MCTQ authors, i.e., <code class="reqn">SJL</code> will be computed as the linear
difference between <code class="reqn">MSF</code> and <code class="reqn">MSW</code> (see the Guidelines section).
</p>
<p><strong>We do not recommend using this method</strong>, as it has many limitations.
</p>

<ul>
<li> <p><code>"shorter"</code>
</p>
</li></ul>

<p>This is the default method for <code>sjl()</code>. It's based on the shorter
interval between <code class="reqn">MSW</code> and <code class="reqn">MSF</code>, solving most of the issues
relating to <code class="reqn">SJL</code> computation.
</p>

<ul>
<li> <p><code>"longer"</code>
</p>
</li></ul>

<p>The <code>"longer"</code> method uses the same logic of the <code>"shorter"</code> method, but,
instead of using the shorter interval between <code class="reqn">MSW</code> and <code class="reqn">MSF</code>, it
uses the longer interval between the two, considering a two-day window.
</p>
<p>This method may help in special contexts, like when dealing with
shift-workers that have a greater than 12 hours distance between their
mid-sleep hours.
</p>


<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Jankowski K. S. (2017). Social jet lag: sleep-corrected formula.
<em>Chronobiology International</em>, <em>34</em>(4), 531-535.
<a href="https://doi.org/10.1080/07420528.2017.1299162">doi:10.1080/07420528.2017.1299162</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Pilz, L. K., Zerbini, G., &amp; Winnebeck, E. C. (2019).
Chronotype and social jetlag: a (self-) critical review. <em>Biology</em>, <em>8</em>(3),
54. <a href="https://doi.org/10.3390/biology8030054">doi:10.3390/biology8030054</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

msw &lt;- hms::parse_hm("03:30")
msf &lt;- hms::parse_hm("05:00")

sjl(msw, msf)
#&gt; [1] "5400s (~1.5 hours)" # Expected
sjl(msw, msf, abs = FALSE)
#&gt; [1] "5400s (~1.5 hours)" # Expected
sjl_rel(msw, msf) # Wrapper function
#&gt; [1] "5400s (~1.5 hours)" # Expected

msw &lt;- hms::parse_hm("04:30")
msf &lt;- hms::parse_hm("23:30")

sjl(msw, msf)
#&gt; [1] "18000s (~5 hours)" # Expected
sjl(msw, msf, abs = FALSE)
#&gt; [1] "18000s (~-5 hours)" # Expected
sjl_rel(msw, msf) # Wrapper function
#&gt; [1] "18000s (~-5 hours)" # Expected

msw &lt;- hms::as_hms(NA)
msf &lt;- hms::parse_hm("05:15")

sjl(msw, msf)
#&gt; [1] NA # Expected

## Vector example

msw &lt;- c(hms::parse_hm("02:05"), hms::parse_hm("04:05"))
msf &lt;- c(hms::parse_hm("23:05"), hms::parse_hm("04:05"))

sjl(msw, msf)
#&gt; [1] "10800s (~3 hours)" "0s" # Expected
sjl(msw, msf, abs = FALSE)
#&gt; [1] "-10800s (~-3 hours)" "0s" # Expected
sjl_rel(msw, msf) # Wrapper function
#&gt; [1] "-10800s (~-3 hours)" "0s" # Expected

## Using different methods

msw &lt;- hms::parse_hm("19:15")
msf &lt;- hms::parse_hm("02:30")

sjl(msw, msf, abs = FALSE, method = "difference")
#&gt; [1] "-60300s (~-16.75 hours)" # Expected
sjl(msw, msf, abs = FALSE, method = "shorter") # Default method
#&gt; [1] "26100s (~7.25 hours)" # Expected
sjl(msw, msf, abs = FALSE, method = "longer")
#&gt; [1] "-60300s (~-16.75 hours)" # Expected

msw &lt;- hms::parse_hm("02:45")
msf &lt;- hms::parse_hm("04:15")

sjl(msw, msf, abs = FALSE, method = "difference")
#&gt; [1] "5400s (~1.5 hours)" # Expected
sjl(msw, msf, abs = FALSE, method = "shorter") # Default method
#&gt; [1] "5400s (~1.5 hours)" # Expected
sjl(msw, msf, abs = FALSE, method = "longer")
#&gt; [1] "-81000s (~-22.5 hours)" # Expected

## Converting the output to 'hms'

msw &lt;- hms::parse_hm("01:15")
msf &lt;- hms::parse_hm("03:25")
sjl(msw, msf)
#&gt; [1] "7800s (~2.17 hours)" # Expected

hms::as_hms(as.numeric(sjl(msw, msf)))
#&gt; 02:10:00 # Expected

## Rounding the output at the seconds level

msw &lt;- hms::parse_hms("04:19:33.1234")
msf &lt;- hms::parse_hms("02:55:05")
sjl(msw, msf)
#&gt; [1] "5068.12339997292s (~1.41 hours)" # Expected

round_time(sjl(msw, msf))
#&gt; [1] "5068s (~1.41 hours)" # Expected
</code></pre>

<hr>
<h2 id='sjl_sc'>Compute Jankowski's MCTQ sleep-corrected social jetlag</h2><span id='topic+sjl_sc'></span><span id='topic+sjl_sc_rel'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sjl_sc()</code> computes the <strong>Jankowski's (2017) sleep-corrected social jetlag</strong>
for standard, micro, and shift versions of the Munich ChronoType
Questionnaire (MCTQ).
</p>
<p><code>sjl_sc_rel()</code> is just a wrapper for <code>sjl_sc()</code> with <code>abs = FALSE</code>.
</p>
<p>Please note that the Jankowski (2017) did not proposed a &quot;relative&quot;
sleep-corrected social jetlag, but the user may consider using it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sjl_sc(so_w, se_w, so_f, se_f, abs = TRUE, method = "shorter")

sjl_sc_rel(so_w, se_w, so_f, se_f, method = "shorter")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sjl_sc_+3A_so_w">so_w</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time
of sleep onset on workdays</strong> from a standard, micro, or shift version of
the MCTQ questionnaire. You can use <code><a href="#topic+so">so()</a></code> to compute it for
the standard or shift version.</p>
</td></tr>
<tr><td><code id="sjl_sc_+3A_se_w">se_w</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time
of sleep end on workdays</strong> from a standard, micro, or shift version of the
MCTQ questionnaire.</p>
</td></tr>
<tr><td><code id="sjl_sc_+3A_so_f">so_f</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time
of sleep onset on work-free days</strong> from a standard, micro, or shift version
of the MCTQ questionnaire. You can use <code><a href="#topic+so">so()</a></code> to compute it
for the standard or shift version.</p>
</td></tr>
<tr><td><code id="sjl_sc_+3A_se_f">se_f</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time
of sleep end on work-free days</strong> from a standard, micro, or shift version
of the MCTQ questionnaire.</p>
</td></tr>
<tr><td><code id="sjl_sc_+3A_abs">abs</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+logical">logical</a></code> object indicating if the
function must return an absolute value (default: <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="sjl_sc_+3A_method">method</code></td>
<td>
<p>(optional) a string indicating which method the function must
use to compute the social jetlag. See the Methods section to learn
more (default: <code>"shorter"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>


<ul>
<li><p> If <code>abs = TRUE</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding
to the absolute sleep-corrected social jetlag.
</p>
</li>
<li><p> If <code>abs = FALSE</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object
corresponding to the relative sleep-corrected social jetlag.
</p>
</li></ul>

<p>The output may also vary depending on the <code>method</code> used.
</p>


<h3>Guidelines</h3>

<p>In an article published in 2017, Konrad S. Jankowski argued that the original
formula for computing the social jetlag (<code class="reqn">SJL</code>) captures not only the
misalignment between social and biological time, but also the sleep debt
resulting from sleep deprivation during workdays. Jankowski then proposed the
following guideline for a sleep-corrected social jetlag
(<code class="reqn">SJL_{sc}</code>) computation.
</p>


<h4>Notes</h4>


<ul>
<li><p> The Jankowski's alternative is disputed. We recommend seeing
Roenneberg, Pilz, Zerbini, &amp; Winnebeck (2019) discussion about it
(see item 3.4.2).
</p>
</li>
<li><p> For MCTQ<code class="reqn">^{Shift}</code>, the computation below must be applied to
each shift section of the questionnaire.
</p>
</li>
<li><p> Due to time arithmetic issues, <code>sjl_sc()</code> does a slightly different
computation by default than those proposed by the author mentioned above.
See <code>vignette("sjl-computation", package = "mctq")</code> for more details.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">\textrm{If } SD_{W} &gt; SD_{F} \; \&amp; \; SE_{W} \leq SE_{F} \; , \;
SJL_{sc} = | SE_{F} - SE_{W} |</code>
</p>

<p style="text-align: center;"><code class="reqn">\textrm{Else } \; , \; SJL_{sc} = | SO_{F} - SO_{W} |</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SJL_{sc}</code> = Jankowski's sleep-corrected social jetlag.
</p>
</li>
<li> <p><code class="reqn">SO_{W}</code> = Local time of sleep onset on workdays.
</p>
</li>
<li> <p><code class="reqn">SE_{W}</code> = Local time of sleep end on workdays.
</p>
</li>
<li> <p><code class="reqn">SO_{F}</code> = Local time of sleep onset on work-free days.
</p>
</li>
<li> <p><code class="reqn">SE_{F}</code> = Local time of sleep end on work-free days.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">\textrm{If } SD_W^{M/E/N} &gt; SD_F^{M/E/N} \; \&amp; \; SE_W^{M/E/N}
\leq SE_F^{M/E/N} \; , \; SJL_{sc}^{M/E/N} = | SE_F^{M/E/N} -
SE_W^{M/E/N} |</code>
</p>

<p style="text-align: center;"><code class="reqn">\textrm{Else } \; , \; | SJL_{sc}^{M/E/N} = SO_F^{M/E/N} -
SO_W^{M/E/N} |</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SJL_{sc}^{M/E/N}</code> = Jankowski's sleep-corrected social jetlag in a
particular shift.
</p>
</li>
<li> <p><code class="reqn">SO_W^{M/E/N}</code> = Local time of sleep onset between two days in a
particular shift.
</p>
</li>
<li> <p><code class="reqn">SE_W^{M/E/N}</code> = Local time of sleep end between two days in a
particular shift.
</p>
</li>
<li> <p><code class="reqn">SO_F^{M/E/N}</code> = Local time of sleep onset between two free days after
a particular shift.
</p>
</li>
<li> <p><code class="reqn">SE_F^{M/E/N}</code> = Local time of sleep end between two free days after a
particular shift.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>Methods for computing the sleep-corrected social jetlag</h3>

<p>There are different approaches to compute the sleep-corrected social jetlag
(<code class="reqn">SJL_{sc}</code>). By default, <code>sjl_sc()</code> uses an approach that we
call &quot;the shorter interval approach&quot; (<code>"shorter"</code>).
</p>
<p>The topics below provide a simple explanation of each method supported by
<code>sjl_sc()</code>. To get a detail understating of this methods, see
<code>vignette("sjl-computation", package = "mctq")</code>.
</p>

<ul>
<li> <p><code>"difference"</code>
</p>
</li></ul>

<p>By using <code>method = "difference"</code>, <code>sjl_sc()</code> will do the exact computation
proposed by Jankowski, i.e., <code class="reqn">SJL_{sc}</code> will be computed as the
linear difference between <code class="reqn">SO_f</code>/<code class="reqn">SE_f</code> and <code class="reqn">SO_W</code>/<code class="reqn">SE_W</code>
(see the
Guidelines section).
</p>
<p><strong>We do not recommend using this method</strong>, as it has many limitations.
</p>

<ul>
<li> <p><code>"shorter"</code>
</p>
</li></ul>

<p>This is the default method for <code>sjl_sc()</code>. It's based on the shorter interval
between <code class="reqn">SO_f</code>/<code class="reqn">SE_f</code> and <code class="reqn">SO_W</code>/<code class="reqn">SE_W</code>, solving most of the
issues relating to <code class="reqn">SJL_{sc}</code> computation.
</p>

<ul>
<li> <p><code>"longer"</code>
</p>
</li></ul>

<p>The <code>"longer"</code> method uses the same logic of the <code>"shorter"</code> method, but,
instead of using the shorter interval between <code class="reqn">SO_f</code>/<code class="reqn">SE_f</code> and
<code class="reqn">SO_W</code>/<code class="reqn">SE_W</code>, it uses the longer interval between the two,
considering a two-day window.
</p>
<p>This method may help in special contexts, like when dealing with
shift-workers that have a greater than 12 hours distance between their
sleep hours.
</p>


<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Jankowski K. S. (2017). Social jet lag: sleep-corrected formula.
<em>Chronobiology International</em>, <em>34</em>(4), 531-535.
<a href="https://doi.org/10.1080/07420528.2017.1299162">doi:10.1080/07420528.2017.1299162</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Pilz, L. K., Zerbini, G., &amp; Winnebeck, E. C. (2019).
Chronotype and social jetlag: a (self-) critical review. <em>Biology</em>, <em>8</em>(3),
54. <a href="https://doi.org/10.3390/biology8030054">doi:10.3390/biology8030054</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

so_w &lt;- hms::parse_hm("02:00")
se_w &lt;- hms::parse_hm("10:00")
so_f &lt;- hms::parse_hm("01:00")
se_f &lt;- hms::parse_hm("08:00")

sjl_sc(so_w, se_w, so_f, se_f)
#&gt; [1] "3600s (~1 hours)" # Expected
sjl_sc(so_w, se_w, so_f, se_f, abs = FALSE)
#&gt; [1] "-3600s (~-1 hours)" # Expected (negative sjl_sc)
sjl_sc_rel(so_w, se_w, so_f, se_f) # Wrapper function
#&gt; [1] "-3600s (~-1 hours)" # Expected (negative sjl_sc)
sjl(msl(so_w, sdu(so_w, se_w)), msl(so_f, sdu(so_f, se_f)))
#&gt; [1] "5400s (~1.5 hours)" # Expected

so_w &lt;- hms::parse_hm("22:00")
se_w &lt;- hms::parse_hm("06:00")
so_f &lt;- hms::parse_hm("01:00")
se_f &lt;- hms::parse_hm("06:00") # sd_w &gt; sd_f &amp; se_w &lt;= se_f

sjl_sc(so_w, se_w, so_f, se_f) # sjl_sc = | se_f - se_w |
#&gt; [1] "0s" # Expected
sjl_sc(so_w, se_w, so_f, se_f, abs = FALSE)
#&gt; [1] "0s" # Expected
sjl_sc_rel(so_w, se_w, so_f, se_f) # Wrapper function
#&gt; [1] "0s" # Expected
sjl(msl(so_w, sdu(so_w, se_w)), msl(so_f, sdu(so_f, se_f)))
#&gt; [1] "5400s (~1.5 hours)" # Expected

so_f &lt;- hms::as_hms(NA)

sjl_sc(so_w, se_w, so_f, se_f)
#&gt; [1] NA # Expected

## Vector example

so_w &lt;- c(hms::parse_hm("00:00"), hms::parse_hm("01:00"))
se_w &lt;- c(hms::parse_hm("08:00"), hms::parse_hm("07:00"))
so_f &lt;- c(hms::parse_hm("01:00"), hms::parse_hm("01:00"))
se_f &lt;- c(hms::parse_hm("09:00"), hms::parse_hm("09:00"))

sjl_sc(so_w, se_w, so_f, se_f)
#&gt; [1] "3600s (~1 hours)" "0s" # Expected
sjl_sc(so_w, se_w, so_f, se_f, abs = FALSE)
#&gt; [1] "3600s (~1 hours)" "0s" # Expected
sjl_sc_rel(so_w, se_w, so_f, se_f) # Wrapper function
#&gt; [1] "3600s (~1 hours)" "0s" # Expected
sjl(msl(so_w, sdu(so_w, se_w)), msl(so_f, sdu(so_f, se_f)))
#&gt; [1] "3600s (~1 hours)" "3600s (~1 hours)" # Expected

## See other examples in '?sjl()'
</code></pre>

<hr>
<h2 id='sjl_weighted'>Compute MCTQ absolute social jetlag across all shifts</h2><span id='topic+sjl_weighted'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sjl_weighted()</code> computes the <strong>absolute social jetlag across all shifts</strong>
for the shift version of the Munich ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sjl_weighted(sjl, n_w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sjl_weighted_+3A_sjl">sjl</code></td>
<td>
<p>A <code><a href="base.html#topic+list">list</a></code> object with
<code><a href="lubridate.html#topic+duration">Duration</a></code> elements corresponding to the <strong>social
jetlag in each shift</strong> from a shift version of the MCTQ questionnaire (you
can use <code><a href="#topic+sjl">sjl()</a></code> to compute it). <code>sjl</code> elements and values must be
paired with <code>n</code> elements and values.</p>
</td></tr>
<tr><td><code id="sjl_weighted_+3A_n_w">n_w</code></td>
<td>
<p>A <code><a href="base.html#topic+list">list</a></code> object with
<a href="checkmate.html#topic+checkIntegerish">integerish</a> <code><a href="base.html#topic+integer">integer</a></code> or
<code><a href="base.html#topic+double">double</a></code> elements corresponding to the <strong>number of days
worked in each shift within a shift cycle</strong> from a shift version of the
MCTQ questionnaire. <code>n</code> elements and values must be paired with <code>sjl</code>
elements and values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
vectorized weighted mean of <code>sjl</code> with <code>n_w</code> as weights.
</p>


<h3>Operation</h3>

<p>The shift version of the MCTQ was developed for shift-workers rotating
through morning-, evening-, and night-shifts, but it also allows adaptations
to other shift schedules (Juda, Vetter, &amp; Roenneberg, 2013). For this reason,
<code>sjl_weighted()</code> must operate with any shift combination.
</p>
<p>Considering the requirement above, <code>sjl_weighted()</code> was developed to only
accept <code><a href="base.html#topic+list">list</a></code> objects as arguments. For this approach to
work, both <code>sjl</code> and <code>n_w</code> arguments must be lists with paired elements and
values, i.e., the first element of <code>sjl</code> (e.g., <code>sjl_m</code>) must be paired with
the first element of <code>n_w</code> (e.g., <code>n_w_m</code>). The function will do the work of
combining them and output a weighted mean.
</p>


<h3>Guidelines</h3>

<p>Juda, Vetter, &amp; Roenneberg (2013) and The Worldwide Experimental Platform
(n.d.) guidelines for <code>sjl_weighted()</code> (<code class="reqn">\emptyset
SJL_{weighted}</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> The absolute social jetlag across all shifts (<code class="reqn">\emptyset
SJL_{weighted}</code>) is the weighted average of all absolute
social jetlags.
</p>
</li>
<li><p> The authors describe an equation for a three-shift schedule, but this may
not be your case. That's why this function works a little bit differently
(see the Operation section), allowing you to compute a weighted average with
any shift combination.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>Computation</h4>

<p style="text-align: center;"><code class="reqn">\emptyset SJL_{weighted} = \frac{(| SJL^{M} | \times n_{W}^{M}) +
(| SJL^{E} | \times n_{W}^{E}) + (| SJL^{N} | \times n_{W}^{N})}{n_{W}^{M} +
n_{W}^{E} + n_{W}^{N}}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">\emptyset SJL_{weighted}</code> = Absolute social jetlag across all shifts.
</p>
</li>
<li> <p><code class="reqn">SJL^{M/E/N}</code> = Absolute social jetlag in each shift.
</p>
</li>
<li> <p><code class="reqn">n_{W}^{M/E/N}</code> = Number of days worked in each shift within a shift
cycle.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

sjl &lt;- list(sjl_m = lubridate::dhours(1.25),
            sjl_e = lubridate::dhours(0.5),
            sjl_n = lubridate::dhours(3))
n_w &lt;- list(n_w_m = 3, n_w_e = 1, n_w_n = 4)
sjl_weighted(sjl, n_w)
#&gt; [1] "7312.5s (~2.03 hours)" # Expected

sjl &lt;- list(sjl_m = lubridate::dhours(1.25),
            sjl_e = lubridate::as.duration(NA),
            sjl_n = lubridate::dhours(3))
n_w &lt;- list(n_w_m = 3, n_w_e = 1, n_w_n = 4)
sjl_weighted(sjl, n_w)
#&gt; [1] NA # Expected

## Vector example

sjl &lt;- list(sjl_m = c(lubridate::dhours(2), lubridate::dhours(2.45)),
            sjl_e = c(lubridate::dhours(3.21), lubridate::as.duration(NA)),
            sjl_n = c(lubridate::dhours(1.2), lubridate::dhours(5.32)))
n_w &lt;- list(n_w_m = c(1, 3), n_w_e = c(4, 1), n_w_n = c(3, 3))
sjl_weighted(sjl, n_w)
#&gt; [1] "8298s (~2.31 hours)" NA # Expected

## Checking the first output from vector example

if (requireNamespace("stats", quietly = TRUE)) {
    i &lt;- 1
    x &lt;- c(sjl[["sjl_m"]][i], sjl[["sjl_e"]][i], sjl[["sjl_n"]][i])
    w &lt;- c(n_w[["n_w_m"]][i], n_w[["n_w_e"]][i], n_w[["n_w_n"]][i])
    lubridate::as.duration(stats::weighted.mean(x, w))
}
#&gt; [1] "8298s (~2.31 hours)" # Expected

## Converting the output to hms

sjl &lt;- list(sjl_m = lubridate::dhours(0.25),
            sjl_e = lubridate::dhours(1.2),
            sjl_n = lubridate::dhours(4.32))
n_w &lt;- list(n_w_m = 4, n_w_e = 2, n_w_n = 1)

sjl_weighted(sjl, n_w)
#&gt; [1] "3970.28571428571s (~1.1 hours)" # Expected

hms::as_hms(as.numeric(sjl_weighted(sjl, n_w)))
#&gt; 01:06:10.285714 # Expected

## Rounding the output at the seconds level

round_time(sjl_weighted(sjl, n_w))
#&gt; [1] "3970s (~1.1 hours)" # Expected

round_time(hms::as_hms(as.numeric(sjl_weighted(sjl, n_w))))
#&gt; 01:06:10 # Expected
</code></pre>

<hr>
<h2 id='sloss_week'>Compute MCTQ weekly sleep loss</h2><span id='topic+sloss_week'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>sloss_week()</code> computes the <strong>weekly sleep loss</strong> for the standard and micro
versions of the Munich ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sloss_week(sd_w, sd_f, wd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sloss_week_+3A_sd_w">sd_w</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration on workdays</strong> from a standard or micro version of the MCTQ
questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sloss_week_+3A_sd_f">sd_f</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep duration on work-free days</strong> from a standard or micro version of
the MCTQ questionnaire. You can use <code><a href="#topic+sdu">sdu()</a></code> to compute it.</p>
</td></tr>
<tr><td><code id="sloss_week_+3A_wd">wd</code></td>
<td>
<p>An <a href="checkmate.html#topic+checkIntegerish">integerish</a>
<code><a href="base.html#topic+numeric">numeric</a></code> object or an <code><a href="base.html#topic+integer">integer</a></code>
object corresponding to the <strong>number of workdays per week</strong> from a standard
or micro version of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
weekly sleep loss.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012) and The Worldwide
Experimental Platform (n.d.) guidelines for <code>sloss_week()</code>
(<code class="reqn">SLoss_{week}</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>Computation</h4>

<p style="text-align: center;"><code class="reqn">\textrm{If } SD_{week} &gt; SD_W \; , \; SLoss_{week} =
(SD_{week} - SD_W) \times WD</code>
</p>

<p style="text-align: center;"><code class="reqn">\textrm{Else } \; , \; SLoss_{week} = (SD_{week} - SD_F) \times FD</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SLoss_{week}</code>: Weekly sleep loss.
</p>
</li>
<li> <p><code class="reqn">SD_W</code> = Sleep duration on workdays.
</p>
</li>
<li> <p><code class="reqn">SD_F</code> = Sleep duration on work-free days.
</p>
</li>
<li> <p><code class="reqn">SD_{week}</code> = Average weekly sleep duration.
</p>
</li>
<li> <p><code class="reqn">WD</code> = Number of workdays per week (&quot;I have a regular work schedule and
work ___ days per week&quot;).
</p>
</li>
<li> <p><code class="reqn">FD</code> = Number of work-free days per week.
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

sd_w &lt;- lubridate::dhours(6.5)
sd_f &lt;- lubridate::dhours(7)
wd &lt;- 4
sloss_week(sd_w, sd_f, wd)
#&gt; [1] "3085.71428571429s (~51.43 minutes)" # Expected

sd_w &lt;- lubridate::dhours(7)
sd_f &lt;- lubridate::dhours(8)
wd &lt;- 5
sloss_week(sd_w, sd_f, wd)
#&gt; [1] "5142.85714285714s (~1.43 hours)" # Expected

sd_w &lt;- lubridate::dhours(NA)
sd_f &lt;- lubridate::dhours(9.45)
wd &lt;- 7
sloss_week(sd_w, sd_f, wd)
#&gt; [1] NA # Expected

## Vector example

sd_w &lt;- c(lubridate::dhours(7), lubridate::dhours(8))
sd_f &lt;- c(lubridate::dhours(6.5), lubridate::dhours(8))
wd &lt;- c(2, 0)
sloss_week(sd_w, sd_f, wd)
#&gt; [1] "2571.42857142857s (~42.86 minutes)" "0s" # Expected

## Converting the output to 'hms'

sd_w &lt;- lubridate::dhours(4)
sd_f &lt;- lubridate::dhours(5)
wd &lt;- 3
sloss_week(sd_w, sd_f, wd)
#&gt; [1] "6171.42857142858s (~1.71 hours)" # Expected

hms::as_hms(as.numeric(sloss_week(sd_w, sd_f, wd)))
#&gt; 01:42:51.428571 # Expected

## Rounding the output at the seconds level

sd_w &lt;- lubridate::dhours(5.8743)
sd_f &lt;- lubridate::dhours(7.4324)
wd &lt;- 6
sloss_week(sd_w, sd_f, wd)
#&gt; [1] "4807.85142857144s (~1.34 hours)" # Expected

round_time(sloss_week(sd_w, sd_f, wd))
#&gt; [1] "4808s (~1.34 hours)" # Expected
</code></pre>

<hr>
<h2 id='so'>Compute MCTQ local time of sleep onset</h2><span id='topic+so'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>so()</code> computes the <strong>local time of sleep onset</strong> for standard and shift
versions of the Munich ChronoType Questionnaire (MCTQ).
</p>
<p>Note that this value is collected directly from the questionnaire if you're
using the <code class="reqn">\mu</code>MCTQ.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>so(sprep, slat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="so_+3A_sprep">sprep</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time
of preparing to sleep</strong> from a standard or shift version of the MCTQ
questionnaire.</p>
</td></tr>
<tr><td><code id="so_+3A_slat">slat</code></td>
<td>
<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
<strong>sleep latency or time to fall asleep after preparing to sleep</strong> from a
standard or shift version of the MCTQ questionnaire.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the vectorized sum of
<code>sprep</code> and <code>slat</code> in a circular time frame of 24 hours.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Juda, Vetter, &amp; Roenneberg
(2013), and The Worldwide Experimental Platform (n.d.) guidelines for <code>so()</code>
(<code class="reqn">SO</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">SO_{W/F} = SPrep_{W/F} + SLat_{W/F}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SO_{W/F}</code> = Local time of sleep onset on work <strong>or</strong> work-free days.
</p>
</li>
<li> <p><code class="reqn">SPrep_{W/F}</code> = Local time of preparing to sleep on work <strong>or</strong>
work-free days (&quot;I actually get ready to fall asleep at ___ o'clock&quot;).
</p>
</li>
<li> <p><code class="reqn">SLat_{W/F}</code> = Sleep latency or time to fall asleep after preparing to
sleep on work <strong>or</strong> work-free days (&quot;I need ___ min to fall asleep&quot;).
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">SO_{W/F}^{M/E/N} = SPrep_{W/F}^{M/E/N} + SLat_{W/F}^{M/E/N}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">SO_{W/F}^{M/E/N}</code> = Local time of sleep onset between two days in a
particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">SPrep_{W/F}^{M/E/N}</code> = Local time of preparing to sleep between two
days in a particular shift <strong>or</strong> between two free days after a particular
shift (&quot;I actually get ready to fall asleep at ___ o'clock&quot;).
</p>
</li>
<li> <p><code class="reqn">SLat_{W/F}^{M/E/N}</code> = Sleep latency or time to fall asleep after
preparing to sleep between two days in a particular shift <strong>or</strong> between two
free days after a particular shift (&quot;I need ___ min to fall asleep&quot;).
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+tbt">tbt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

sprep &lt;- hms::parse_hm("22:00")
slat &lt;- lubridate::dminutes(15)
so(sprep, slat)
#&gt; 22:15:00 # Expected

sprep &lt;- hms::parse_hm("23:30")
slat &lt;- lubridate::dminutes(45)
so(sprep, slat)
#&gt; 00:15:00 # Expected

sprep &lt;- hms::parse_hm("20:45")
slat &lt;- lubridate::as.duration(NA)
so(sprep, slat)
#&gt; NA # Expected

## Vector example

sprep &lt;- c(hms::parse_hm("21:30"), hms::parse_hm("22:15"))
slat &lt;- c(lubridate::dminutes(45), lubridate::dminutes(5))
so(sprep, slat)
#&gt; 22:15:00 # Expected
#&gt; 22:20:00 # Expected
</code></pre>

<hr>
<h2 id='std_mctq'>A fictional standard MCTQ dataset</h2><span id='topic+std_mctq'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p>A fictional dataset, <strong>for testing and learning purposes</strong>, composed of
basic/measurable and computed variables of the Munich ChronoType
Questionnaire (MCTQ) standard version.
</p>
<p>This data was created following the guidelines in Roenneberg, Wirz-Justice, &amp;
Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Jankowski
(2017), and The Worldwide Experimental Platform (n.d.). See the References
and Details sections to learn more.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>std_mctq
</code></pre>


<h3>Format</h3>

<p>A <code><a href="dplyr.html#topic+reexports">tibble</a></code> with 39 columns and 50 rows:
</p>

<dl>
<dt>id</dt><dd>
<p>A unique <code><a href="base.html#topic+integer">integer</a></code> value to identify each respondent in
the dataset.
<br /> <br />
Type: Control.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>work</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent has a
regular work schedule.
<br /> <br />
Statement (<code>EN</code>): &quot;I have a regular work schedule (this includes being, for
example, a housewife or househusband): Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>wd</dt><dd>
<p>Number of <strong>workdays</strong> per week.
<br /> <br />
Statement (<code>EN</code>): &quot;I have a regular work schedule and work ___ days per
week&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>fd</dt><dd>
<p>Number of <strong>work-free days</strong> per week.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="base.html#topic+integer">integer</a></code>.
</p>
</dd>
<dt>bt_w</dt><dd>
<p>Local time of going to bed on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I go to bed at ___ o'clock'&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sprep_w</dt><dd>
<p>Local time of preparing to sleep on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I actually get ready to fall asleep at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>slat_w</dt><dd>
<p>Sleep latency or time to fall asleep after preparing to sleep on
<strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I need ___ minutes to fall asleep&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>so_w</dt><dd>
<p>Local time of sleep onset on <strong>workdays</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>se_w</dt><dd>
<p>Local time of sleep end on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I wake up at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>si_w</dt><dd>
<p>&quot;Sleep inertia&quot; on <strong>workdays</strong>.
<br /> <br />
Despite the name, this variable represents the time the respondent takes to
get up after sleep end.
<br /> <br />
Statement (<code>EN</code>): &quot;After ___ minutes, I get up&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>gu_w</dt><dd>
<p>Local time of getting out of bed on <strong>workdays</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>alarm_w</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent uses an
alarm clock to wake up on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I use an alarm clock on workdays: Yes ( ___ ) No ( ___
)&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>wake_before_w</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent regularly
wakes up <strong>before</strong> the alarm rings on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: I regularly wake up BEFORE the alarm rings:
Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>sd_w</dt><dd>
<p>Sleep duration on <strong>workdays</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>tbt_w</dt><dd>
<p>Total time in bed on <strong>workdays</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>le_w</dt><dd>
<p>Light exposure on <strong>workdays</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;On average, I spend the following amount of time
outdoors in daylight (without a roof above my head)&quot;.
<br /> <br />
Type: Extra.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msw</dt><dd>
<p>Local time of mid-sleep on <strong>workdays</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>bt_f</dt><dd>
<p>Local time of going to bed on <strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I go to bed at ___ o'clock'&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sprep_f</dt><dd>
<p>Local time of preparing to sleep on <strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I actually get ready to fall asleep at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>slat_f</dt><dd>
<p>Sleep latency or time to fall asleep after preparing to sleep on
<strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I need ___ minutes to fall asleep&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>so_f</dt><dd>
<p>Local time of sleep onset on <strong>work-free days</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>se_f</dt><dd>
<p>Local time of sleep end on <strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;I wake up at ___ o'clock&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>si_f</dt><dd>
<p>&quot;Sleep inertia&quot; on <strong>work-free days</strong>.
<br /> <br />
Despite the name, this variable represents the time the respondent takes to
get up after sleep end.
<br /> <br />
Statement (<code>EN</code>): &quot;After ___ minutes, I get up&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>gu_f</dt><dd>
<p>Local time of getting out of bed on <strong>work-free days</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>alarm_f</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent uses an
alarm clock to wake up on <strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;My wake-up time is due to the use of an alarm
clock: Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>reasons_f</dt><dd>
<p>A <code><a href="base.html#topic+logical">logical</a></code> value indicating if the respondent has any
particular reasons for why they <strong>cannot</strong> freely choose their sleep times
on <strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;There are particular reasons why I <strong>cannot</strong> freely
choose my sleep times on free days: Yes ( ___ ) No ( ___ )&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code><a href="base.html#topic+logical">logical</a></code>.
</p>
</dd>
<dt>reasons_why_f</dt><dd>
<p>Particular reasons for why the respondent cannot freely choose their sleep
times on <strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;If &quot;Yes&quot;: Child(ren)/pet(s) ( ___ ) Hobbies ( ___ )
Others ( ___ ), for example: ___&quot;.
<br /> <br />
Type: Basic.
<br /> <br />
R class: <code>character</code>.
</p>
</dd>
<dt>sd_f</dt><dd>
<p>Sleep duration on <strong>work-free days</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>tbt_f</dt><dd>
<p>Total time in bed on <strong>work-free days</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>le_f</dt><dd>
<p>Light exposure on <strong>work-free days</strong>.
<br /> <br />
Statement (<code>EN</code>): &quot;On average, I spend the following amount of time
outdoors in daylight (without a roof above my head)&quot;.
<br /> <br />
Type: Extra.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msf</dt><dd>
<p>Local time of mid-sleep on <strong>work-free days</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sd_week</dt><dd>
<p>Average weekly sleep duration.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sloss_week</dt><dd>
<p>Weekly sleep loss.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>le_week</dt><dd>
<p>Average weekly light exposure.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>msf_sc</dt><dd>
<p>Sleep-corrected local time of mid-sleep on <strong>work-free days</strong>.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="hms.html#topic+hms">hms</a></code>.
</p>
</dd>
<dt>sjl_rel</dt><dd>
<p>Relative social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl</dt><dd>
<p>Absolute social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl_sc_rel</dt><dd>
<p>Jankowski's relative sleep-corrected social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
<dt>sjl_sc</dt><dd>
<p>Jankowski's sleep-corrected social jetlag.
<br /> <br />
Type: Computed.
<br /> <br />
R class: <code><a href="lubridate.html#topic+duration">Duration</a></code>.
</p>
</dd>
</dl>



<h3>Details</h3>

<p><code>std_mctq</code> is a tidied, validated, and transformed version of
<code>raw_data("std_mctq.csv")</code>.
</p>


<h4>Guidelines</h4>

<p>To learn more about the Munich ChronoType Questionnaire (MCTQ),
see Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt,
Merrow, &amp; Vetter (2012), Roenneberg et al. (2015), and Roenneberg, Pilz,
Zerbini, &amp; Winnebeck (2019).
</p>
<p>To know about different MCTQ versions, see Juda, Vetter, &amp; Roenneberg
(2013) and Ghotbi et al. (2020).
</p>
<p>To learn about the sleep-corrected social jetlag, see Jankowski (2017).
</p>
<p>If you're curious about the variable computations and want to have access to
the full questionnaire, see The Worldwide Experimental Platform (n.d.).
</p>



<h4>Data building and data wrangling</h4>

<p>This dataset was created by randomized sampling (see
<code><a href="#topic+random_mctq">random_mctq()</a></code>) and by manual insertions of special
cases. Its purpose is to demonstrate common cases and data issues that
researchers may find in their MCTQ data, in addition to be a suggested data
structure for MCTQ data.
</p>
<p>You can see the <code>std_mctq</code> build and data wrangling processes
<a href="https://github.com/ropensci/mctq/blob/main/data-raw/std_mctq.R">here</a>.
</p>



<h4>Variable naming</h4>

<p>The naming of the variables took into account the naming scheme used in MCTQ
publications, in addition to the guidelines of the <a href="https://style.tidyverse.org/">tidyverse style guide</a>.
</p>



<h4>Variable classes</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the <a href="hms.html#topic+hms-package">hms</a>
and <a href="lubridate.html#topic+lubridate-package">lubridate</a> package.
</p>



<h4><code>Duration</code> objects</h4>

<p>If you prefer to view <code><a href="lubridate.html#topic+duration">Duration</a></code> objects as
<code><a href="hms.html#topic+hms">hms</a></code> objects, run
<code><a href="#topic+pretty_mctq">pretty_mctq(std_mctq)</a></code>.
</p>



<h3>Source</h3>

<p>Created by Daniel Vartanian (package author).
</p>


<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Jankowski K. S. (2017). Social jet lag: sleep-corrected formula.
<em>Chronobiology International</em>, <em>34</em>(4), 531-535.
<a href="https://doi.org/10.1080/07420528.2017.1299162">doi:10.1080/07420528.2017.1299162</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Keller, L. K., Fischer, D., Matera, J. L., Vetter, C., &amp;
Winnebeck, E. C. (2015). Human activity and rest in situ. In A. Sehgal (Ed.),
<em>Methods in Enzymology</em> (Vol. 552, pp. 257-283). Academic Press.
<a href="https://doi.org/10.1016/bs.mie.2014.11.028">doi:10.1016/bs.mie.2014.11.028</a>
</p>
<p>Roenneberg, T., Pilz, L. K., Zerbini, G., &amp; Winnebeck, E. C. (2019).
Chronotype and social jetlag: a (self-) critical review. <em>Biology</em>, <em>8</em>(3),
54. <a href="https://doi.org/10.3390/biology8030054">doi:10.3390/biology8030054</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+micro_mctq">micro_mctq</a></code>,
<code><a href="#topic+shift_mctq">shift_mctq</a></code>
</p>

<hr>
<h2 id='sum_time'>Sum time objects</h2><span id='topic+sum_time'></span><span id='topic+vct_sum_time'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>These functions will be removed on the next <code>mctq</code> version. You can still
find them in the <a href="https://github.com/giperbio/lubritime"><code>lubritime</code></a>
package.
</p>
<p><code>sum_time()</code> returns the sum of the time from different kinds of date/time
objects.
</p>
<p><code>vct_sum_time()</code> returns the vectorized sum of the time from different kinds
of date/time objects.
</p>
<p>Both functions can be set to work with a circular time frame (see Details to
learn more).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sum_time(..., cycle = NULL, reverse = TRUE, na_rm = FALSE)

vct_sum_time(..., cycle = NULL, reverse = TRUE, na_rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sum_time_+3A_...">...</code></td>
<td>
<p>Objects belonging to one of the following classes:
<code><a href="lubridate.html#topic+duration">Duration</a></code>, <code><a href="base.html#topic+difftime">difftime</a></code>, or
<code><a href="hms.html#topic+hms">hms</a></code>, <code><a href="base.html#topic+as.POSIXlt">POSIXct</a></code>,
<code><a href="base.html#topic+as.POSIXlt">POSIXlt</a></code>, or <code><a href="lubridate.html#topic+interval">Interval</a></code>.</p>
</td></tr>
<tr><td><code id="sum_time_+3A_cycle">cycle</code></td>
<td>
<p>(optional) A <code><a href="base.html#topic+numeric">numeric</a></code> or
<code><a href="lubridate.html#topic+duration">Duration</a></code> object of length 1, equal or greater
than 0, indicating the cycle length in seconds. If <code>NULL</code> the function will
perform a linear sum (see Details to learn more) (default: <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="sum_time_+3A_reverse">reverse</code></td>
<td>
<p>(optional) A <code><a href="base.html#topic+logical">logical</a></code> value indicating if
the function must use a reverse cycle for negative sums (see Details to
learn more) (default: <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="sum_time_+3A_na_rm">na_rm</code></td>
<td>
<p>(optional) a <code><a href="base.html#topic+logical">logical</a></code> value indicating if
the function must remove <code>NA</code> values while performing the sum (default:
<code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>



<h4><code>sum_time()</code> versus <code>vct_sum_time()</code></h4>

<p><code>sum_time()</code> behaves similar to <code><a href="base.html#topic+sum">sum()</a></code>, in the sense that it
aggregates the time lengths of values in <code>...</code> into a single data point. For
example, <code>sum_time(c(x, y), z)</code> will have the same output as <code>sum_time(x, y, z)</code>.
</p>
<p><code>vct_sum_time()</code> performs a different type of sum (a vectorized one). Instead
of aggregating the time lengths, the function perform a paired sum between
elements. For example, <code>vct_sum_time(c(x, y), c(w, z))</code> will return a vector
like <code>c(sum_time(x, w), sum_time(y, z))</code>. Because of that, <code>vct_sum_time()</code>
requires that all objects in <code>...</code> have the same length.
</p>



<h4>Linear versus circular time</h4>

<p>Time can have different &quot;shapes&quot;.
</p>
<p>If the objective is to measure the duration (time span) of an event, time is
usually measured considering a linear frame, with a fixed point of
<a href="https://en.wikipedia.org/wiki/Origin_(mathematics)">origin</a>. In this
context, the time value distance itself to infinity in relation to the
origin.
</p>
<div class="sourceCode"><pre>                                   B
                             |----------|
                                        A
                             |---------------------|
 - inf                                                inf +
&lt;----------------------------|----------|----------|-------&gt;
 s                           0          5          10     s
                           origin

A + B = 10 + 5 = 15s
</pre></div>
<p>But that's not the only possible &quot;shape&quot; of time, as it can also be measured
in other contexts.
</p>
<p>In a &quot;time of day&quot; context, time will be linked to the rotation of the
earth, &quot;resetting&quot; when a new rotation cycle starts. That brings a different
kind of shape to time: a circular shape. With this shape the time value
encounters the origin at the end of each cycle.
</p>
<div class="sourceCode"><pre>               - &lt;--- h ---&gt; +
                    origin
                . . . 0 . . .
             .                 .
            .                   .
           .                     .
          .                       .
         .                         .
         18                        6
         .                         .
          .                       .
           .                     .
            .                   .
             .                 .
                . . . 12 . . .

18 + 6 = 0h
</pre></div>
<p>If we transpose this circular time frame to a linear one, it would look like
this:
</p>
<div class="sourceCode"><pre>&lt;----|---------------|---------------|---------------|-----&gt;
    0h              12h              0h             12h
  origin                           origin
</pre></div>
<p>Note that now the origin is not fix, but cyclical.
</p>
<p><code>sum_time()</code> and <code>vct_sum_time()</code> can both operate in either a linear or a
circular fashion. If <code>cycle = NULL</code> (default), the function will use a
linear approach. Else, the function will use a circular approach relative to
the cycle length (e.g, <code>cycle = 86400</code> (1 day)).
</p>



<h4>Fractional time</h4>

<p><code>sum_time()</code> uses the <code><a href="base.html#topic+Arithmetic">%%</a></code> operator to cycle values.
Hence, it can be subject to catastrophic loss of accuracy if values in <code>...</code>
are fractional and much larger than <code>cycle</code>. A warning is given if this is
detected.
</p>
<p><code><a href="base.html#topic+Arithmetic">%%</a></code> is a <code>builtin</code> R function that operates like this:
</p>
<div class="sourceCode"><pre>function(a, b) {
    a - floor(a / b) * b
}
</pre></div>



<h4>Negative time cycling</h4>

<p>If the sum of the time is negative, with a <code>cycle</code> assigned and
<code>reverse = FALSE</code>, <code>sum_time()</code> and <code>vtc_sum_time()</code> will perform the cycle
considering the absolute value of the sum and return the result with a
negative signal.
</p>
<p>However, If the sum of the time have a negative value, with a <code>cycle</code>
assigned and <code>reverse = TRUE</code> (default), <code>sum_time()</code> and <code>vtc_sum_time()</code>
will perform the cycle in reverse, relative to its origin.
</p>
<p>Example: If the sum of the time have a -30h time span in a reversed cycle of
24h, the result will be 18h. By removing the full cycles of -30h you will
get -6h (-30 + 24), and -6h relative to the origin will be 18h.
</p>
<div class="sourceCode"><pre>               - &lt;--- h ---&gt; +
                    origin
                . . . 0 . . .
              .                 .
            .                   .
           .                     .
          .                       .
         .                         .
    (-6) 18                        6 (-18)
         .                         .
          .                       .
           .                     .
            .                   .
             .                 .
                . . . 12 . . .
                    (-12)
</pre></div>



<h4><code>Period</code> objects</h4>

<p><code><a href="lubridate.html#topic+period">Period</a></code> objects are special type of objects
developed by the <a href="lubridate.html#topic+lubridate-package">lubridate</a> team that
represents &quot;human units&quot;, ignoring possible timeline irregularities. That is
to say that 1 day as <code>Period</code> can have different time spans, when looking to
a timeline after a irregularity event.
</p>
<p>Since the time span of a <code><a href="lubridate.html#topic+period">Period</a></code> object can
fluctuate, <code>sum_time()</code> and <code>vct_sum_time()</code> don't accept this kind of
object. You can transform it to a <code><a href="lubridate.html#topic+duration">Duration</a></code> object
and still use the functions, but beware that this can produce errors.
</p>
<p>Learn more about <code><a href="lubridate.html#topic+period">Period</a></code> objects in the <a href="https://r4ds.had.co.nz/dates-and-times.html#periods">Dates and times</a> chapter of
Wickham &amp; Grolemund book (n.d.).
</p>



<h4><code>POSIXt</code> objects</h4>

<p><code><a href="base.html#topic+DateTimeClasses">POSIXt</a></code> objects in <code>...</code> will be stripped of their
dates. Only the time will be considered.
</p>
<p>Both <code><a href="base.html#topic+as.POSIXlt">POSIXct</a></code> and <code><a href="base.html#topic+as.POSIXlt">POSIXlt</a></code> are
objects that inherits the class <code><a href="base.html#topic+DateTimeClasses">POSIXt</a></code>. Learn more
about it in <code><a href="base.html#topic+DateTimeClasses">?DateTimeClasses</a></code>.
</p>



<h4><code>Interval</code> objects</h4>

<p>By using <code><a href="lubridate.html#topic+interval">Interval</a></code> objects in <code>...</code>, <code>sum_time()</code>
and <code>vct_sum_time()</code> will consider only their time spans. That is, the
amount of seconds of the intervals.
</p>
<p>Learn more about <code><a href="lubridate.html#topic+interval">Interval</a></code> objects in the <a href="https://r4ds.had.co.nz/dates-and-times.html#periods">Dates and times</a> chapter of
Wickham &amp; Grolemund (n.d.).
</p>



<h4>Timeline irregularities</h4>

<p>This function does not take into account timeline irregularities (e.g.,
leap years, DST, leap seconds). This may not be an issue for most people, but
it must be considered when doing time arithmetic.
</p>



<h3>Value</h3>


<ul>
<li><p> If <code>cycle = NULL</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object with a
linear sum of the time from objects in <code>...</code>.
</p>
</li>
<li><p> If <code>cycle != NULL</code>, a <code><a href="lubridate.html#topic+duration">Duration</a></code> object with a
circular sum of the time from objects in <code>...</code>.
</p>
</li></ul>



<h3>References</h3>

<p>Wickham, H., &amp; Grolemund, G. (n.d.). <em>R for data science</em>. (n.p.).
<a href="https://r4ds.had.co.nz">https://r4ds.had.co.nz</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Non-vectorized sum in an linear time frame

x &lt;- c(as.POSIXct("2020-01-01 15:00:00"), as.POSIXct("1999-05-04 17:30:00"))
y &lt;- lubridate::as.interval(lubridate::dhours(7), as.Date("1970-05-08"))
sum_time(x, y)
#&gt; [1] "142200s (~1.65 days)" # 39:30:00 # Expected

## Non-vectorized sum in a circular time frame of 24 hours

x &lt;- c(lubridate::dhours(25), lubridate::dhours(5), lubridate::dminutes(50))
sum_time(x, cycle = lubridate::ddays())
#&gt; [1] "24600s (~6.83 hours)" # 06:50:00 # Expected

x &lt;- c(hms::parse_hm("00:15"), hms::parse_hm("02:30"), hms::as_hms(NA))
sum_time(x, cycle = lubridate::ddays())
#&gt; NA # Expected
sum_time(x, cycle = lubridate::ddays(), na_rm = TRUE)
#&gt; [1] "9900s (~2.75 hours)" # 02:45:00 # Expected

x &lt;- c(lubridate::dhours(-12), lubridate::dhours(-13))
sum_time(x, cycle = lubridate::ddays(), reverse = FALSE)
#&gt; [1] "-3600s (~-1 hours)" # -01:00:00 # Expected

x &lt;- c(lubridate::dhours(-12), lubridate::dhours(-13))
sum_time(x, cycle = lubridate::ddays(), reverse = TRUE)
#&gt; [1] "82800s (~23 hours)" # 23:00:00 # Expected

## Vectorized sum in an linear time frame

x &lt;- c(lubridate::dhours(6), NA)
y &lt;- c(hms::parse_hm("23:00"), hms::parse_hm("10:00"))
vct_sum_time(x, y)
#&gt; [1] "104400s (~1.21 days)" NA # 29:00:00 NA # Expected
vct_sum_time(x, y, na_rm = TRUE)
#&gt; [1] "104400s (~1.21 days)" "36000s (~10 hours)" # Expected

## Vectorized sum in a circular time frame of 24 hours

x &lt;- c(lubridate::dhours(6), NA)
y &lt;- c(hms::parse_hm("23:00"), hms::parse_hm("10:00"))
vct_sum_time(x, y, cycle = lubridate::ddays())
#&gt; [1] "18000s (~5 hours)" NA  # Expected
vct_sum_time(x, y, cycle = lubridate::ddays(), na_rm = TRUE)
#&gt; [1] "18000s (~5 hours)"  "36000s (~10 hours)" # Expected

x &lt;- c(lubridate::dhours(-49), lubridate::dhours(-24))
y &lt;- c(hms::parse_hm("24:00"), - hms::parse_hm("06:00"))
vct_sum_time(x, y, cycle = lubridate::ddays(), reverse = FALSE)
#&gt; [1] "-3600s (~-1 hours)"  "-21600s (~-6 hours)" # Expected

x &lt;- c(lubridate::dhours(-49), lubridate::dhours(-24))
y &lt;- c(hms::parse_hm("24:00"), - hms::parse_hm("06:00"))
vct_sum_time(x, y, cycle = lubridate::ddays(), reverse = TRUE)
#&gt; [1] "82800s (~23 hours)" "64800s (~18 hours)" # Expected
</code></pre>

<hr>
<h2 id='tbt'>Compute MCTQ total time in bed</h2><span id='topic+tbt'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt='[Maturing]' /></a>
</p>
<p><code>tbt()</code> computes the <strong>total time in bed</strong> for standard and shift versions of
the Munich ChronoType Questionnaire (MCTQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbt(bt, gu)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbt_+3A_bt">bt</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
going to bed</strong> from a standard or shift version of the MCTQ questionnaire.</p>
</td></tr>
<tr><td><code id="tbt_+3A_gu">gu</code></td>
<td>
<p>An <code><a href="hms.html#topic+hms">hms</a></code> object corresponding to the <strong>local time of
getting out of bed</strong> from a standard or shift version of the MCTQ
questionnaire. You can use <code><a href="#topic+gu">gu()</a></code> to compute it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Standard MCTQ</strong> functions were created following the guidelines in
Roenneberg, Wirz-Justice, &amp; Merrow (2003), Roenneberg, Allebrandt, Merrow, &amp;
Vetter (2012), and from The Worldwide Experimental Platform (theWeP, n.d.).
</p>
<p><strong><code class="reqn">\mu</code>MCTQ</strong> functions were created following the guidelines in Ghotbi
et al. (2020), in addition to the guidelines used for the standard MCTQ.
</p>
<p><strong>MCTQ<code class="reqn">^{Shift}</code></strong> functions were created following the
guidelines in Juda, Vetter, &amp; Roenneberg (2013), in addition to the
guidelines used for the standard MCTQ.
</p>
<p>See the References section to learn more.
</p>


<h4>Class requirements</h4>

<p>The <code>mctq</code> package works with a set of object classes specially created to
hold time values. These classes can be found in the
<a href="lubridate.html#topic+lubridate-package">lubridate</a> and <a href="hms.html#topic+hms-package">hms</a>
packages. Please refer to those package documentations to learn more about
them.
</p>



<h4>Rounding and fractional time</h4>

<p>Some operations may produce an output with fractional time (e.g.,
<code>"19538.3828571429s (~5.43 hours)"</code>, <code>01:15:44.505</code>). If you want, you
can round it with <code><a href="#topic+round_time">round_time()</a></code>.
</p>
<p>Our recommendation is to avoid rounding, but, if you do, make sure that you
only round your values after all computations are done. That way you avoid
<a href="https://en.wikipedia.org/wiki/Round-off_error">round-off errors</a>.
</p>



<h3>Value</h3>

<p>A <code><a href="lubridate.html#topic+duration">Duration</a></code> object corresponding to the
vectorized difference between <code>gu</code> and <code>bt</code> in a circular time frame of 24
hours.
</p>


<h3>Guidelines</h3>

<p>Roenneberg, Allebrandt, Merrow, &amp; Vetter (2012), Juda, Vetter, &amp; Roenneberg
(2013), and The Worldwide Experimental Platform (n.d.) guidelines for <code>tbt()</code>
(<code class="reqn">TBT</code>) computation are as follows.
</p>


<h4>Notes</h4>


<ul>
<li><p> This computation must be applied to each section of the questionnaire.
</p>
</li>
<li><p> If you are visualizing this documentation in plain text, you may have some
trouble understanding the equations. You can see this documentation on the
package <a href="https://docs.ropensci.org/mctq/reference/">website</a>.
</p>
</li></ul>




<h4>For standard and micro versions of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">TBT_{W/F} = GU_{W/F} - BT_{W/F}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">TBT_{W/F}</code> = Total time in bed on work <strong>or</strong> work-free days.
</p>
</li>
<li> <p><code class="reqn">GU_{W/F}</code> = Local time of getting out of bed on work <strong>or</strong> work-free
days.
</p>
</li>
<li> <p><code class="reqn">BT_{W/F}</code> = Local time of going to bed on work <strong>or</strong> work-free days
(&quot;I go to bed at ___ o'clock&quot;).
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days.
</p>



<h4>For the shift version of the MCTQ</h4>

<p style="text-align: center;"><code class="reqn">TBT_{W/F}^{M/E/N} = GU_{W/F}^{M/E/N} - BT_{W/F}^{M/E/N}</code>
</p>

<p>Where:
</p>

<ul>
<li> <p><code class="reqn">TBT_{W/F}^{M/E/N}</code> = Total time in bed between two days in a
particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">GU_{W/F}^{M/E/N}</code> = Local time of getting out of bed between two days
in a particular shift <strong>or</strong> between two free days after a particular shift.
</p>
</li>
<li> <p><code class="reqn">BT_{W/F}^{M/E/N}</code> = Local time of going to bed between two days in a
particular shift <strong>or</strong> between two free days after a particular shift  (&quot;I
go to bed at ___ o'clock&quot;).
</p>
</li></ul>

<p><strong>*</strong> <code class="reqn">W</code> = Workdays; <code class="reqn">F</code> = Work-free days, <code class="reqn">M</code> =
Morning shift; <code class="reqn">E</code> = Evening shift; <code class="reqn">N</code> = Night shift.
</p>



<h3>References</h3>

<p>Ghotbi, N., Pilz, L. K., Winnebeck, E. C., Vetter, C., Zerbini, G., Lenssen,
D., Frighetto, G., Salamanca, M., Costa, R., Montagnese, S., &amp; Roenneberg, T.
(2020). The <code class="reqn">\mu</code>MCTQ: an ultra-short version of the Munich ChronoType
Questionnaire. <em>Journal of Biological Rhythms</em>, <em>35</em>(1), 98-110.
<a href="https://doi.org/10.1177/0748730419886986">doi:10.1177/0748730419886986</a>
</p>
<p>Juda, M., Vetter, C., &amp; Roenneberg, T. (2013). The Munich ChronoType
Questionnaire for shift-workers (MCTQ<code class="reqn">^{Shift}</code>). <em>Journal of
Biological Rhythms</em>, <em>28</em>(2), 130-140. <a href="https://doi.org/10.1177/0748730412475041">doi:10.1177/0748730412475041</a>
</p>
<p>Roenneberg T., Allebrandt K. V., Merrow M., &amp; Vetter C. (2012). Social jetlag
and obesity. <em>Current Biology</em>, <em>22</em>(10), 939-43.
<a href="https://doi.org/10.1016/j.cub.2012.03.038">doi:10.1016/j.cub.2012.03.038</a>
</p>
<p>Roenneberg, T., Wirz-Justice, A., &amp; Merrow, M. (2003). Life between clocks:
daily temporal patterns of human chronotypes. <em>Journal of Biological
Rhythms</em>, <em>18</em>(1), 80-90. <a href="https://doi.org/10.1177/0748730402239679">doi:10.1177/0748730402239679</a>
</p>
<p>The Worldwide Experimental Platform (n.d.). MCTQ.
<a href="https://www.thewep.org/documentations/mctq/">https://www.thewep.org/documentations/mctq/</a>
</p>


<h3>See Also</h3>

<p>Other MCTQ functions: 
<code><a href="#topic+fd">fd</a>()</code>,
<code><a href="#topic+gu">gu</a>()</code>,
<code><a href="#topic+le_week">le_week</a>()</code>,
<code><a href="#topic+msf_sc">msf_sc</a>()</code>,
<code><a href="#topic+msl">msl</a>()</code>,
<code><a href="#topic+napd">napd</a>()</code>,
<code><a href="#topic+sd24">sd24</a>()</code>,
<code><a href="#topic+sd_overall">sd_overall</a>()</code>,
<code><a href="#topic+sd_week">sd_week</a>()</code>,
<code><a href="#topic+sdu">sdu</a>()</code>,
<code><a href="#topic+sjl_sc">sjl_sc</a>()</code>,
<code><a href="#topic+sjl_weighted">sjl_weighted</a>()</code>,
<code><a href="#topic+sjl">sjl</a>()</code>,
<code><a href="#topic+so">so</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Scalar example

bt &lt;- hms::parse_hm("22:10")
gu &lt;- hms::parse_hm("06:15")
tbt(bt, gu)
#&gt; [1] "29100s (~8.08 hours)" # Expected

bt &lt;- hms::parse_hm("01:20")
gu &lt;- hms::parse_hm("14:00")
tbt(bt, gu)
#&gt; [1] "45600s (~12.67 hours)" # Expected

bt &lt;- hms::as_hms(NA)
gu &lt;- hms::parse_hm("07:20")
tbt(bt, gu)
#&gt; [1] NA # Expected

## Vector example

bt &lt;- c(hms::parse_hm("23:50"), hms::parse_hm("02:30"))
gu &lt;- c(hms::parse_hm("09:30"), hms::parse_hm("11:25"))
tbt(bt, gu)
#&gt; [1] "34800s (~9.67 hours)" "32100s (~8.92 hours)" # Expected
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package rStrava</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rStrava}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#achievement_fun'><p>Get recent achievements</p></a></li>
<li><a href='#athl_fun'><p>Get data for an athlete</p></a></li>
<li><a href='#athlind_fun'><p>Get data for a single athlete</p></a></li>
<li><a href='#chk_nopolyline'><p>Remove activities with no geographic data</p></a></li>
<li><a href='#compile_activities'><p>converts a list of activities into a dataframe</p></a></li>
<li><a href='#compile_activity'><p>convert a single activity list into a dataframe</p></a></li>
<li><a href='#compile_activity_streams'><p>Convert a set of streams of a single activity into a dataframe</p></a></li>
<li><a href='#compile_club_activities'><p>converts a list of club activities into a dataframe</p></a></li>
<li><a href='#compile_seg_effort'><p>Compile the efforts of a segment</p></a></li>
<li><a href='#compile_seg_efforts'><p>Compile the efforts of multiple segments</p></a></li>
<li><a href='#compile_segment'><p>Compile information on a segment</p></a></li>
<li><a href='#filter.actframe'><p>Filter</p></a></li>
<li><a href='#follow_fun'><p>Get athlete follow data</p></a></li>
<li><a href='#get_activity'><p>Get detailed data of an activity</p></a></li>
<li><a href='#get_activity_list'><p>Get an activities list</p></a></li>
<li><a href='#get_activity_streams'><p>Retrieve streams for activities, and convert to a dataframe</p></a></li>
<li><a href='#get_athlete'><p>Get basic data for an athlete</p></a></li>
<li><a href='#get_basic'><p>Get basic Strava data</p></a></li>
<li><a href='#get_club'><p>Get club data</p></a></li>
<li><a href='#get_dists'><p>Get distance from longitude and latitude points</p></a></li>
<li><a href='#get_efforts_list'><p>Get all the efforts in a segment if no queries are specified</p></a></li>
<li><a href='#get_elev_prof'><p>Create elevation profiles from activity data</p></a></li>
<li><a href='#get_explore'><p>Explore segments within a bounded area</p></a></li>
<li><a href='#get_gear'><p>Get gear details from its identifier</p></a></li>
<li><a href='#get_heat_map'><p>Makes a heat map from your activity data</p></a></li>
<li><a href='#get_KOMs'><p>Get KOMs/QOMs/CRs of an athlete</p></a></li>
<li><a href='#get_laps'><p>Retrieve the laps of an activity</p></a></li>
<li><a href='#get_latlon'><p>get latitude and longitude from Google polyline</p></a></li>
<li><a href='#get_leaderboard'><p>Retrieve the leaderboard of a segment</p></a></li>
<li><a href='#get_pages'><p>Get several pages of one type of request</p></a></li>
<li><a href='#get_segment'><p>Retrieve details about a specific segment</p></a></li>
<li><a href='#get_spdsplits'><p>Get speed splits in a dataframe</p></a></li>
<li><a href='#get_starred'><p>Retrieve a summary of the segments starred by an athlete</p></a></li>
<li><a href='#get_streams'><p>Retrieve a Strava data stream for a single activity</p></a></li>
<li><a href='#location_fun'><p>Get athlete location</p></a></li>
<li><a href='#monthly_fun'><p>Get distance and time for current month</p></a></li>
<li><a href='#mutate.actframe'><p>Mutate</p></a></li>
<li><a href='#plot_spdsplits'><p>Plot speed by splits</p></a></li>
<li><a href='#ratelimit'><p>Generate the ratelimit indicator</p></a></li>
<li><a href='#recent_fun'><p>Get last three recent activities</p></a></li>
<li><a href='#seltime_fun'><p>Format before and after arguments for API query</p></a></li>
<li><a href='#strava_oauth'><p>Generata Strava API authentication token</p></a></li>
<li><a href='#trophy_fun'><p>Get athlete trophies</p></a></li>
<li><a href='#url_activities'><p>Set the url of activities for different activity lists</p></a></li>
<li><a href='#url_athlete'><p>Set the url of the athlete to get data</p></a></li>
<li><a href='#url_clubs'><p>Set the url of the clubs for the different requests</p></a></li>
<li><a href='#url_gear'><p>Set the url of the equipment item to get data</p></a></li>
<li><a href='#url_segment'><p>Set the url for the different segment requests</p></a></li>
<li><a href='#url_streams'><p>Set the url for stream requests</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access the 'Strava' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-26</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to access data from the 'Strava v3 API' <a href="https://developers.strava.com/">https://developers.strava.com/</a>.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/fawda123/rStrava/issues">https://github.com/fawda123/rStrava/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, geosphere, ggplot2, ggspatial, googleway, httr,
magrittr, maptiles, RCurl, rvest, tidyr, tidyterra, XML, xml2,
purrr, tibble</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-26 17:16:39 UTC; MarcusBeck</td>
</tr>
<tr>
<td>Author:</td>
<td>Marcus W. Beck [cre],
  Pedro Villarroel [aut],
  Daniel Padfield [aut],
  Lorenzo Gaborini [aut],
  Niklas von Maltzahn [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marcus W. Beck &lt;mbafs2012@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-26 18:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='achievement_fun'>Get recent achievements</h2><span id='topic+achievement_fun'></span>

<h3>Description</h3>

<p>Get recent achievements, used internally in <code><a href="#topic+athl_fun">athl_fun</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>achievement_fun(prsd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="achievement_fun_+3A_prsd">prsd</code></td>
<td>
<p>parsed input list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of recent achievements for the athlete.  An empty list is returned if none found.
</p>

<hr>
<h2 id='athl_fun'>Get data for an athlete</h2><span id='topic+athl_fun'></span>

<h3>Description</h3>

<p>Get data for an athlete by web scraping, does not require authentication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>athl_fun(athl_num, trace = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="athl_fun_+3A_athl_num">athl_num</code></td>
<td>
<p>numeric vector of athlete id(s) used by Strava</p>
</td></tr>
<tr><td><code id="athl_fun_+3A_trace">trace</code></td>
<td>
<p>logical indicating if output is returned to console</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The athlete id is assigned to the user during registration with Strava and this must be known to use the function.  Some users may have privacy settings that prevent public access to account information (a message indicating as such will be returned by the function). The function scrapes data using the following URL with the appended athlete id, e.g., <a href="https://www.strava.com/athletes/2837007">https://www.strava.com/athletes/2837007</a>.  Opening the URL in a web browser can verify if the data can be scraped.  Logging in to the Strava account on the website may also be required before using this function.
</p>


<h3>Value</h3>

<p>A list for each athlete, where each element is an additional list with elements for the athlete's information.  The list elements are named using the athlete id numbers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## single athlete
athl_fun(2837007)

## multiple athletes
athl_fun(c(2837007, 2527465))
</code></pre>

<hr>
<h2 id='athlind_fun'>Get data for a single athlete</h2><span id='topic+athlind_fun'></span>

<h3>Description</h3>

<p>Get data for a single athlete by web scraping, does not require authentication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>athlind_fun(athl_num)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="athlind_fun_+3A_athl_num">athl_num</code></td>
<td>
<p>numeric athlete id used by Strava</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with elements for the athlete's information.
</p>

<hr>
<h2 id='chk_nopolyline'>Remove activities with no geographic data</h2><span id='topic+chk_nopolyline'></span><span id='topic+chk_nopolyline.actframe'></span>

<h3>Description</h3>

<p>Remove activities with no geographic data, usually manual entries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chk_nopolyline(act_data, ...)

## S3 method for class 'actframe'
chk_nopolyline(act_data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chk_nopolyline_+3A_act_data">act_data</code></td>
<td>
<p>a <code>data.frame</code> returned by <code><a href="#topic+compile_activities">compile_activities</a></code></p>
</td></tr>
<tr><td><code id="chk_nopolyline_+3A_...">...</code></td>
<td>
<p>arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used internally within <code><a href="#topic+get_elev_prof">get_elev_prof</a></code> and <code><a href="#topic+get_heat_map">get_heat_map</a></code> to remove activities that cannot be plotted because they have no geographic information.  This usually applies to activities that were manually entered.
</p>


<h3>Value</h3>

<p><code>act_data</code> with rows removed where no polylines were available, the original dataseset is returned if none were found. A warning is also returned indicating the row numbers that were removed if applicable.
</p>


<h3>Author(s)</h3>

<p>Marcus Beck
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get my activities
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))
my_acts &lt;- get_activity_list(stoken)
act_data &lt;- compile_activities(my_acts)
chk_nopolyline(act_data)

## End(Not run)
</code></pre>

<hr>
<h2 id='compile_activities'>converts a list of activities into a dataframe</h2><span id='topic+compile_activities'></span>

<h3>Description</h3>

<p>converts a list of activities into a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_activities(actlist, acts = NULL, id = NULL, units = "metric")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_activities_+3A_actlist">actlist</code></td>
<td>
<p>an activities list returned by <code><a href="#topic+get_activity_list">get_activity_list</a></code></p>
</td></tr>
<tr><td><code id="compile_activities_+3A_acts">acts</code></td>
<td>
<p>numeric indicating which activities to compile starting with most recent, defaults to all</p>
</td></tr>
<tr><td><code id="compile_activities_+3A_id">id</code></td>
<td>
<p>optional numeric vector to specify the id(s) of the activity/activities to plot, <code>acts</code> is ignored if provided</p>
</td></tr>
<tr><td><code id="compile_activities_+3A_units">units</code></td>
<td>
<p>chr string indicating metric or imperial</p>
</td></tr>
</table>


<h3>Details</h3>

<p>each activity has a value for every column present across all activities, with NAs populating empty values
</p>


<h3>Value</h3>

<p>An activities frame object (<code>actframe</code> that includes a data frame for the data and attributes for the distance, speed, and elevation units
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compile_club_activities">compile_club_activities</a></code> for compiling an activities list for club activities
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
## Not run: 
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

my_acts &lt;- get_activity_list(stoken)

acts_data &lt;- compile_activities(my_acts)

# show attributes
attr(acts_data, 'unit_type')
attr(acts_data, 'unit_vals')

## End(Not run)
</code></pre>

<hr>
<h2 id='compile_activity'>convert a single activity list into a dataframe</h2><span id='topic+compile_activity'></span>

<h3>Description</h3>

<p>convert a single activity list into a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_activity(x, columns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_activity_+3A_x">x</code></td>
<td>
<p>a list containing details of a single Strava activity</p>
</td></tr>
<tr><td><code id="compile_activity_+3A_columns">columns</code></td>
<td>
<p>a character vector of all the columns in the list of Strava activities. Produced automatically in <code><a href="#topic+compile_activities">compile_activities</a></code>. Leave blank if running for a single activity list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>used internally in <code><a href="#topic+compile_activities">compile_activities</a></code>
</p>


<h3>Value</h3>

<p>dataframe where every column is an item from a list. Any missing columns rom the total number of columns
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

acts &lt;- get_activity_list(stoken)

compile_activity(acts[1])
## End(Not run)
</code></pre>

<hr>
<h2 id='compile_activity_streams'>Convert a set of streams of a single activity into a dataframe</h2><span id='topic+compile_activity_streams'></span>

<h3>Description</h3>

<p>Convert a set of streams of a single activity into a dataframe, with the retrieved columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_activity_streams(streams, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_activity_streams_+3A_streams">streams</code></td>
<td>
<p>a list containing details of the Strava streams of a single activity (output of <code><a href="#topic+get_streams">get_streams</a></code>)</p>
</td></tr>
<tr><td><code id="compile_activity_streams_+3A_id">id</code></td>
<td>
<p>if not missing, the activity id of the stream (will be appended to the data.frame, if non-empty)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>used internally in <code><a href="#topic+get_activity_streams">get_activity_streams</a></code>
</p>


<h3>Value</h3>

<p>data frame where every column is the stream data for the retrieved types.
</p>


<h3>Author(s)</h3>

<p>Lorenzo Gaborini
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

act_id &lt;- 351217692
streams &lt;- get_streams(stoken, id = act_id, types = list('distance', 'latlng'))

compile_activity_streams(streams, id = act_id)
## End(Not run)
</code></pre>

<hr>
<h2 id='compile_club_activities'>converts a list of club activities into a dataframe</h2><span id='topic+compile_club_activities'></span>

<h3>Description</h3>

<p>converts a list of club activities into a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_club_activities(actlist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_club_activities_+3A_actlist">actlist</code></td>
<td>
<p>a club activities list returned by <code><a href="#topic+get_activity_list">get_activity_list</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>each activity has a value for every column present across all activities, with NAs populating empty values
</p>


<h3>Value</h3>

<p>An <code>data.frame</code> of the compiled activities from <code>actlist</code>
</p>


<h3>Author(s)</h3>

<p>Marcus Beck
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
## Not run: 
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

club_acts &lt;- get_activity_list(stoken, id = 13502, club = TRUE)

acts_data &lt;- compile_club_activities(club_acts)


## End(Not run)
</code></pre>

<hr>
<h2 id='compile_seg_effort'>Compile the efforts of a segment</h2><span id='topic+compile_seg_effort'></span>

<h3>Description</h3>

<p>Cleans up the output of get_efforts_list() into a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_seg_effort(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_seg_effort_+3A_x">x</code></td>
<td>
<p>A list object produced by <code><a href="#topic+get_efforts_list">get_efforts_list</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Used internally in <code><a href="#topic+compile_seg_efforts">compile_seg_efforts</a></code>. Can be used on the output of <code><a href="#topic+get_efforts_list">get_efforts_list</a></code> to compile the segment efforts of a single segment. Each call to <code><a href="#topic+get_efforts_list">get_efforts_list</a></code> returns a large list. This function returns a subset of this information.
</p>


<h3>Value</h3>

<p>A dataframe containing all of the efforts of a specific segment. The columns returned are <code>athlete.id</code>, <code>distance</code>, <code>elapsed_time</code>, <code>moving_time</code>, <code>name</code>, <code>start_date</code> and <code>start_date_local</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# set token
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

# segments to get efforts from - use some parkruns
segment &lt;- 2269028

# get segment efforts
efforts &lt;- get_efforts_list(stoken, segment)

# compile efforts
efforts &lt;- compile_seg_effort(efforts)

## End(Not run)
</code></pre>

<hr>
<h2 id='compile_seg_efforts'>Compile the efforts of multiple segments</h2><span id='topic+compile_seg_efforts'></span>

<h3>Description</h3>

<p>Compiles the information of athletes from multiple segments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_seg_efforts(segment_ids, stoken)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_seg_efforts_+3A_segment_ids">segment_ids</code></td>
<td>
<p>A vector of segment ids from which to compile efforts</p>
</td></tr>
<tr><td><code id="compile_seg_efforts_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses <code><a href="#topic+get_elev_prof">get_elev_prof</a></code> and <code><a href="#topic+compile_seg_effort">compile_seg_effort</a></code> internally to compile efforts of multiple segments
</p>


<h3>Value</h3>

<p>A dataframe of the details of each segment effort
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# set token
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

# segments to get efforts from - use some parkruns
segments &lt;- c(2269028, 5954625)

# compile segment efforts
segments %&gt;% purrr::map_df(., .f = compile_seg_efforts, stoken = my_token, .id = 'id')

## End(Not run)
</code></pre>

<hr>
<h2 id='compile_segment'>Compile information on a segment</h2><span id='topic+compile_segment'></span>

<h3>Description</h3>

<p>Compile generation information on a segment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_segment(seglist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_segment_+3A_seglist">seglist</code></td>
<td>
<p>a Strava segment list returned by <code><a href="#topic+get_segment">get_segment</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>compiles information for a segment
</p>


<h3>Value</h3>

<p>dataframe of all information given in a call from <code><a href="#topic+get_segment">get_segment</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

# compile segment info
get_segment(stoken, id = 229781) %&gt;% compile_segment

# compile top ten leaderboard for the segment
get_segment(stoken, id = 229781, request = "leaderboard") %&gt;% compile_segment

# compile all efforts for the authenticated user on the segment
get_segment(stoken, id = 4483903, request = 'all_efforts') %&gt;% compile_segment

# compile the starred segments for the user
get_segment(stoken, request = 'starred') %&gt;% compile_segment

## End(Not run)
</code></pre>

<hr>
<h2 id='filter.actframe'>Filter</h2><span id='topic+filter.actframe'></span>

<h3>Description</h3>

<p>This is a wrapper function to dplyr::filter which can be applied to an actframe object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'actframe'
filter(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter.actframe_+3A_.data">.data</code></td>
<td>
<p>an actframe object</p>
</td></tr>
<tr><td><code id="filter.actframe_+3A_...">...</code></td>
<td>
<p>Logical predicates defined in terms of the variables in .data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an actframe object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)

# get actframe, all activities
stoken &lt;- httr::config(
  token = strava_oauth(
    app_name, 
    app_client_id, 
    app_secret, 
    app_scope="activity:read_all"
  )
)
my_acts &lt;- get_activity_list(stoken)
act_data &lt;- compile_activities(my_acts)

# mutate
act_data %&gt;% filter(name %in% 'Morning Ride')

## End(Not run)
</code></pre>

<hr>
<h2 id='follow_fun'>Get athlete follow data</h2><span id='topic+follow_fun'></span>

<h3>Description</h3>

<p>Get athlete follow data, used internally in <code><a href="#topic+athl_fun">athl_fun</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>follow_fun(prsd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="follow_fun_+3A_prsd">prsd</code></td>
<td>
<p>parsed input list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of counts of followers and following for the athlete. An empty list is returned if none found.
</p>

<hr>
<h2 id='get_activity'>Get detailed data of an activity</h2><span id='topic+get_activity'></span>

<h3>Description</h3>

<p>Get detailed data of an activity, including segment efforts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_activity(id, stoken)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_activity_+3A_id">id</code></td>
<td>
<p>numeric for id of the activity</p>
</td></tr>
<tr><td><code id="get_activity_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>
<p>The id for each activity can be viewed using results from <code><a href="#topic+get_activity_list">get_activity_list</a></code>.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_activity(75861631, stoken)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_activity_list'>Get an activities list</h2><span id='topic+get_activity_list'></span>

<h3>Description</h3>

<p>Get an activities list of the desired type (club, user)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_activity_list(stoken, id = NULL, before = NULL, after = NULL, club = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_activity_list_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_activity_list_+3A_id">id</code></td>
<td>
<p>numeric for id of the activity or club if <code>club = TRUE</code>, leave blank to retrieve all activities</p>
</td></tr>
<tr><td><code id="get_activity_list_+3A_before">before</code></td>
<td>
<p>date object for filtering activities before the indicated date</p>
</td></tr>
<tr><td><code id="get_activity_list_+3A_after">after</code></td>
<td>
<p>date object for filtering activities after the indicated date</p>
</td></tr>
<tr><td><code id="get_activity_list_+3A_club">club</code></td>
<td>
<p>logical if you want the activities of a club</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.  If retrieving activities using individual <code>id</code> values, the output list returned contains additional information from the API and the results have not been tested with the functions in this package.  It is better practice to retrieve all activities (as in the example below), use <code><a href="#topic+compile_activities">compile_activities</a></code>, and then filter by individual activities.
</p>
<p>If retrieving club activities, the user for the API must be a member of the club.
</p>


<h3>Value</h3>

<p>A list of activities for further processing or plotting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_activity_list(stoken)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_activity_streams'>Retrieve streams for activities, and convert to a dataframe</h2><span id='topic+get_activity_streams'></span><span id='topic+get_activity_streams.list'></span><span id='topic+get_activity_streams.actframe'></span>

<h3>Description</h3>

<p>Retrieve streams for activities, and convert to a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_activity_streams(act_data, ...)

## S3 method for class 'list'
get_activity_streams(
  act_data,
  stoken,
  acts = NULL,
  id = NULL,
  types = NULL,
  resolution = "high",
  series_type = "distance",
  ...
)

## S3 method for class 'actframe'
get_activity_streams(
  act_data,
  stoken,
  types = NULL,
  resolution = "high",
  series_type = "distance",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_activity_streams_+3A_act_data">act_data</code></td>
<td>
<p>an <code>list</code> object returned by <code><a href="#topic+get_activity_list">get_activity_list</a></code> or a <code>data.frame</code> returned by <code><a href="#topic+compile_activities">compile_activities</a></code></p>
</td></tr>
<tr><td><code id="get_activity_streams_+3A_...">...</code></td>
<td>
<p>arguments passed to or from other methods</p>
</td></tr>
<tr><td><code id="get_activity_streams_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_activity_streams_+3A_acts">acts</code></td>
<td>
<p>numeric indicating which activities to compile starting with most recent, defaults to all</p>
</td></tr>
<tr><td><code id="get_activity_streams_+3A_id">id</code></td>
<td>
<p>optional numeric vector to specify the id(s) of the activity/activities to plot, <code>acts</code> is ignored if provided</p>
</td></tr>
<tr><td><code id="get_activity_streams_+3A_types">types</code></td>
<td>
<p>list indicating which streams to get for each activity, defaults to all available, see details.</p>
</td></tr>
<tr><td><code id="get_activity_streams_+3A_resolution">resolution</code></td>
<td>
<p>chr string for the data resolution to retrieve, can be &quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, defaults to all</p>
</td></tr>
<tr><td><code id="get_activity_streams_+3A_series_type">series_type</code></td>
<td>
<p>chr string for merging the data if <code>resolution</code> is not equal to &quot;all&quot;. Accepted values are &quot;distance&quot; (default) or &quot;time&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each activity has a value for every column present across all activities, with NAs populating missing values.
</p>
<p>For the <code>types</code> argument, the default is <code>type = NULL</code> which will retrieve all available stream types.  The available stream types can be any of <code>time</code>, <code>latlng</code>, <code>distance</code>, <code>altitude</code>, <code>velocity_smooth</code>, <code>heartrate</code>, <code>cadence</code>, <code>watts</code>, <code>temp</code>, <code>moving</code>, or <code>grade_smooth</code>.  To retrieve only a subset of the types, pass a list argument with the appropriate character strings to <code>type</code>, e.g., <code>type = list("time", "latlng", "distance")</code>.
</p>


<h3>Value</h3>

<p>A stream frame object (<code>strframe</code> that includes a data frame for the stream data along with the units
</p>


<h3>Author(s)</h3>

<p>Lorenzo Gaborini
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
## Not run: 
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

my_acts &lt;- get_activity_list(stoken) 

strms_data &lt;- get_activity_streams(my_acts, stoken, acts = 1:2)


## End(Not run)
</code></pre>

<hr>
<h2 id='get_athlete'>Get basic data for an athlete</h2><span id='topic+get_athlete'></span>

<h3>Description</h3>

<p>Get basic athlete data for an athlete using an API request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_athlete(stoken, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_athlete_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_athlete_+3A_id">id</code></td>
<td>
<p>string or integer of athlete</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>A list of athlete information including athlete name, location, followers, etc. as described here: <a href="https://strava.github.io/api/v3/athlete/">https://strava.github.io/api/v3/athlete/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_athlete(stoken, id = '2527465')

## End(Not run)
</code></pre>

<hr>
<h2 id='get_basic'>Get basic Strava data</h2><span id='topic+get_basic'></span>

<h3>Description</h3>

<p>Get basic Strava data with requests that don't require pagination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_basic(url_, stoken, queries = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_basic_+3A_url_">url_</code></td>
<td>
<p>string of url for the request to the API</p>
</td></tr>
<tr><td><code id="get_basic_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_basic_+3A_queries">queries</code></td>
<td>
<p>list of additional queries or parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

# get basic user info
get_basic('https://strava.com/api/v3/athlete', stoken)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_club'>Get club data</h2><span id='topic+get_club'></span>

<h3>Description</h3>

<p>Get club data for a given request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_club(stoken, id = NULL, request = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_club_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_club_+3A_id">id</code></td>
<td>
<p>numeric for id of the club, defaults to authenticated club of the athlete</p>
</td></tr>
<tr><td><code id="get_club_+3A_request">request</code></td>
<td>
<p>chr string, must be &quot;members&quot;, &quot;activities&quot; or <code>NULL</code> for club details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_club(stoken)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_dists'>Get distance from longitude and latitude points</h2><span id='topic+get_dists'></span>

<h3>Description</h3>

<p>Get distance from longitude and latitude points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dists(lon, lat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dists_+3A_lon">lon</code></td>
<td>
<p>chr string indicating name of longitude column in <code>dat_in</code></p>
</td></tr>
<tr><td><code id="get_dists_+3A_lat">lat</code></td>
<td>
<p>chr string indicating name of latitude column in <code>dat_in</code> in <code>dat_in</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Used internally in <code><a href="#topic+get_elev_prof">get_elev_prof</a></code> on objects returned by <code><a href="#topic+get_latlon">get_latlon</a></code>
</p>


<h3>Value</h3>

<p>A vector of distances with the length as the number of rows in <code>dat_in</code>
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get activity data
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))
my_acts &lt;- get_activity_list(stoken)

# get the latest activity
acts_data &lt;- compile_activities(my_acts)[1, ]

# get lat, lon
polyline &lt;- acts_data$map.summary_polyline
latlon &lt;- get_latlon(polyline, key = mykey)

# get distance
get_dists(latlon$lon, latlon$lat)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_efforts_list'>Get all the efforts in a segment if no queries are specified</h2><span id='topic+get_efforts_list'></span>

<h3>Description</h3>

<p>Get all the efforts in a segment if no queries are specified
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_efforts_list(
  stoken,
  id,
  athlete_id = NULL,
  start_date_local = NULL,
  end_date_local = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_efforts_list_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_efforts_list_+3A_id">id</code></td>
<td>
<p>numeric for id of the segment</p>
</td></tr>
<tr><td><code id="get_efforts_list_+3A_athlete_id">athlete_id</code></td>
<td>
<p>numeric for the athlete id for filtering the results</p>
</td></tr>
<tr><td><code id="get_efforts_list_+3A_start_date_local">start_date_local</code></td>
<td>
<p>the start date for filtering the results</p>
</td></tr>
<tr><td><code id="get_efforts_list_+3A_end_date_local">end_date_local</code></td>
<td>
<p>the end date for filtering the results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_efforts_list(stoken, id = 229781)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_elev_prof'>Create elevation profiles from activity data</h2><span id='topic+get_elev_prof'></span><span id='topic+get_elev_prof.list'></span><span id='topic+get_elev_prof.actframe'></span><span id='topic+get_elev_prof.strframe'></span>

<h3>Description</h3>

<p>Create elevation profiles from activity data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_elev_prof(act_data, ...)

## S3 method for class 'list'
get_elev_prof(
  act_data,
  acts = 1,
  id = NULL,
  key,
  total = FALSE,
  expand = 10,
  units = "metric",
  fill = "darkblue",
  ...
)

## S3 method for class 'actframe'
get_elev_prof(
  act_data,
  key,
  total = FALSE,
  expand = 10,
  fill = "darkblue",
  ...
)

## S3 method for class 'strframe'
get_elev_prof(act_data, total = FALSE, expand = 10, fill = "darkblue", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_elev_prof_+3A_act_data">act_data</code></td>
<td>
<p>an activities list object returned by <code><a href="#topic+get_activity_list">get_activity_list</a></code> or a <code>data.frame</code> returned by <code><a href="#topic+compile_activities">compile_activities</a></code></p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_...">...</code></td>
<td>
<p>arguments passed to or from other methods</p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_acts">acts</code></td>
<td>
<p>numeric value indicating which elements of <code>act_data</code> to plot, defaults to most recent</p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_id">id</code></td>
<td>
<p>optional numeric vector to specify the id(s) of the activity/activities to plot, <code>acts</code> is ignored if provided</p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_key">key</code></td>
<td>
<p>chr string of Google API key for elevation data, passed to <code><a href="googleway.html#topic+google_elevation">google_elevation</a></code>, see details</p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_total">total</code></td>
<td>
<p>logical indicating if elevations are plotted as cumulative climbed by distance</p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_expand">expand</code></td>
<td>
<p>a numeric multiplier for expanding the number of lat/lon points on straight lines.  This can create a smoother elevation profile. Set <code>expand = 1</code> to suppress this behavior.</p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_units">units</code></td>
<td>
<p>chr string indicating plot units as either metric or imperial, this has no effect if input data are already compiled with <code><a href="#topic+compile_activities">compile_activities</a></code></p>
</td></tr>
<tr><td><code id="get_elev_prof_+3A_fill">fill</code></td>
<td>
<p>chr string of fill color for profile</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Google API key is easy to obtain, follow instructions here: https://developers.google.com/maps/documentation/elevation/#api_key
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> of elevation profiles, facetted by activity id, date
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield, Marcus Beck
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_dists">get_dists</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get my activities
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))
my_acts &lt;- get_activity_list(stoken)

# your unique key
mykey &lt;- 'Get Google API key'
get_elev_prof(my_acts, acts = 1:2, key = mykey)

# compile first, change units
my_acts &lt;- compile_activities(my_acts, acts = c(1:2), units = 'imperial')
get_elev_prof(my_acts, key = mykey)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_explore'>Explore segments within a bounded area</h2><span id='topic+get_explore'></span>

<h3>Description</h3>

<p>Explore segments within a bounded area
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_explore(
  stoken,
  bounds,
  activity_type = "riding",
  max_cat = NULL,
  min_cat = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_explore_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_explore_+3A_bounds">bounds</code></td>
<td>
<p>chr string representing the comma separated list of bounding box corners 'sw.lat,sw.lng,ne.lat,ne.lng' or 'south, west, north, east', see the example</p>
</td></tr>
<tr><td><code id="get_explore_+3A_activity_type">activity_type</code></td>
<td>
<p>chr string indicating activity type, &quot;riding&quot; or &quot;running&quot;</p>
</td></tr>
<tr><td><code id="get_explore_+3A_max_cat">max_cat</code></td>
<td>
<p>numeric indicating the maximum climbing category</p>
</td></tr>
<tr><td><code id="get_explore_+3A_min_cat">min_cat</code></td>
<td>
<p>numeric indicating the minimum climbing category</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

bnds &lt;- "37.821362, -122.505373, 37.842038, -122.465977"
get_explore(stoken, bnds)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_gear'>Get gear details from its identifier</h2><span id='topic+get_gear'></span>

<h3>Description</h3>

<p>Get gear details from its identifier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_gear(id, stoken)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_gear_+3A_id">id</code></td>
<td>
<p>string, identifier of the equipment item</p>
</td></tr>
<tr><td><code id="get_gear_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_gear("g2275365", stoken)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_heat_map'>Makes a heat map from your activity data</h2><span id='topic+get_heat_map'></span><span id='topic+get_heat_map.list'></span><span id='topic+get_heat_map.actframe'></span><span id='topic+get_heat_map.strframe'></span>

<h3>Description</h3>

<p>Makes a heat map from your activity data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_heat_map(act_data, ...)

## S3 method for class 'list'
get_heat_map(
  act_data,
  key,
  acts = 1,
  id = NULL,
  alpha = NULL,
  add_elev = FALSE,
  as_grad = FALSE,
  distlab = TRUE,
  distval = 0,
  size = 0.5,
  col = "red",
  expand = 10,
  maptype = "CartoDB.Positron",
  zoom = 14,
  units = "metric",
  ...
)

## S3 method for class 'actframe'
get_heat_map(
  act_data,
  key,
  alpha = NULL,
  add_elev = FALSE,
  as_grad = FALSE,
  distlab = TRUE,
  distval = 0,
  size = 0.5,
  col = "red",
  expand = 10,
  maptype = "CartoDB.Positron",
  zoom = 14,
  ...
)

## S3 method for class 'strframe'
get_heat_map(
  act_data,
  alpha = NULL,
  filltype = "elevation",
  distlab = TRUE,
  distval = 0,
  size = 0.5,
  col = "red",
  expand = 10,
  maptype = "CartoDB.Positron",
  zoom = 14,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_heat_map_+3A_act_data">act_data</code></td>
<td>
<p>an activities list object returned by <code><a href="#topic+get_activity_list">get_activity_list</a></code>, an <code>actframe</code> returned by <code><a href="#topic+compile_activities">compile_activities</a></code>, or a <code>strfame</code> returned by <code><a href="#topic+get_activity_streams">get_activity_streams</a></code></p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_...">...</code></td>
<td>
<p>arguments passed to or from other methods</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_key">key</code></td>
<td>
<p>chr string of Google API key for elevation data, passed to <code><a href="googleway.html#topic+google_elevation">google_elevation</a></code> for polyline decoding, see details</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_acts">acts</code></td>
<td>
<p>numeric indicating which activities to plot based on index in the activities list, defaults to most recent</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_id">id</code></td>
<td>
<p>optional numeric vector to specify the id(s) of the activity/activities to plot, <code>acts</code> is ignored if provided</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_alpha">alpha</code></td>
<td>
<p>the opacity of the line desired. A single activity should be 1. Defaults to 0.5</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_add_elev">add_elev</code></td>
<td>
<p>logical indicating if elevation is shown by color shading on the activity lines</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_as_grad">as_grad</code></td>
<td>
<p>logical indicating if elevation is plotted as percent gradient, applies only if <code>add_elev = TRUE</code></p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_distlab">distlab</code></td>
<td>
<p>logical if distance labels are plotted along the route</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_distval">distval</code></td>
<td>
<p>numeric indicating rounding factor for distance labels which has direct control on label density, see details</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_size">size</code></td>
<td>
<p>numeric indicating width of activity lines</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_col">col</code></td>
<td>
<p>chr string indicating either a single color of the activity lines if <code>add_grad = FALSE</code> or a color palette passed to <code><a href="ggplot2.html#topic+scale_fill_distiller">scale_fill_distiller</a></code> if <code>add_grad = TRUE</code></p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_expand">expand</code></td>
<td>
<p>a numeric multiplier for expanding the number of lat/lon points on straight lines.  This can create a smoother elevation gradient if <code>add_grad = TRUE</code>.  Set <code>expand = 1</code> to suppress this behavior.</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_maptype">maptype</code></td>
<td>
<p>chr string indicating the provider for the basemap, see details</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_zoom">zoom</code></td>
<td>
<p>numeric indicating zoom factor for map tiles, higher numbers increase resolution</p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_units">units</code></td>
<td>
<p>chr string indicating plot units as either metric or imperial, this has no effect if input data are already compiled with <code><a href="#topic+compile_activities">compile_activities</a></code></p>
</td></tr>
<tr><td><code id="get_heat_map_+3A_filltype">filltype</code></td>
<td>
<p>chr string specifying which stream variable to use for filling line segments, applies only to <code>strframe</code> objects, acceptable values are <code>"elevation"</code>, <code>"distance"</code>, <code>"slope"</code>, or <code>"speed"</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>uses <code><a href="#topic+get_latlon">get_latlon</a></code> to produce a dataframe of latitudes and longitudes to use in the map. Uses ggspatial to produce the map and ggplot2 to plot the route.
</p>
<p>A Google API key is needed for the elevation data and must be included with function execution.  The API key can be obtained following the instructions here: https://developers.google.com/maps/documentation/elevation/#api_key
</p>
<p>The <code>distval</code> argument is passed to the <code>digits</code> argument of <code>round</code>. This controls the density of the distance labels, e.g., 1 will plot all distances in sequence of 0.1, 0 will plot all distances in sequence of one, -1 will plot all distances in sequence of 10, etc. 
</p>
<p>The base map type is selected with the <code>maptype</code> argument.  The <code>zoom</code> value specifies the resolution of the map.  Use higher values to download map tiles with greater resolution, although this increases the download time.  Acceptable options for <code>maptype</code> include <code>"OpenStreetMap"</code>, <code>"OpenStreetMap.DE"</code>, <code>"OpenStreetMap.France"</code>, <code>"OpenStreetMap.HOT"</code>, <code>"OpenTopoMap"</code>, <code>"Esri.WorldStreetMap"</code>, <code>"Esri.DeLorme"</code>, <code>"Esri.WorldTopoMap"</code>, <code>"Esri.WorldImagery"</code>, <code>"Esri.WorldTerrain"</code>, <code>"Esri.WorldShadedRelief"</code>, <code>"Esri.OceanBasemap"</code>, <code>"Esri.NatGeoWorldMap"</code>, <code>"Esri.WorldGrayCanvas"</code>, <code>"CartoDB.Positron"</code>, <code>"CartoDB.PositronNoLabels"</code>, <code>"CartoDB.PositronOnlyLabels"</code>, <code>"CartoDB.DarkMatter"</code>, <code>"CartoDB.DarkMatterNoLabels"</code>, <code>"CartoDB.DarkMatterOnlyLabels"</code>, <code>"CartoDB.Voyager"</code>, <code>"CartoDB.VoyagerNoLabels"</code>, or <code>"CartoDB.VoyagerOnlyLabels"</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object showing a map with activity locations.
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield, Marcus Beck
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get my activities
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))
my_acts &lt;- get_activity_list(stoken)

# default, requires Google key
mykey &lt;- 'Get Google API key'
get_heat_map(my_acts, acts = 1, alpha = 1, key = mykey)

# plot elevation on locations, requires key
get_heat_map(my_acts, acts = 1, alpha = 1, key = mykey, add_elev = TRUE, col = 'Spectral', size = 2)

# compile first, change units
my_acts &lt;- compile_activities(my_acts, acts = 156, units = 'imperial')
get_heat_map(my_acts, key = mykey, alpha = 1, add_elev = T, col = 'Spectral', size = 2)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_KOMs'>Get KOMs/QOMs/CRs of an athlete</h2><span id='topic+get_KOMs'></span>

<h3>Description</h3>

<p>Get KOMs/QOMs/CRs of an athlete
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_KOMs(id, stoken)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_KOMs_+3A_id">id</code></td>
<td>
<p>string or integer of athlete</p>
</td></tr>
<tr><td><code id="get_KOMs_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_KOMs(2837007, stoken)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_laps'>Retrieve the laps of an activity</h2><span id='topic+get_laps'></span>

<h3>Description</h3>

<p>Retrieve the laps of an activity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_laps(stoken, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_laps_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_laps_+3A_id">id</code></td>
<td>
<p>numeric for id of the activity with the laps to request</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_laps(stoken, id = 351217692)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_latlon'>get latitude and longitude from Google polyline</h2><span id='topic+get_latlon'></span>

<h3>Description</h3>

<p>get latitude and longitude from Google polyline
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_latlon(polyline, key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_latlon_+3A_polyline">polyline</code></td>
<td>
<p>a map polyline returned for an activity from the API</p>
</td></tr>
<tr><td><code id="get_latlon_+3A_key">key</code></td>
<td>
<p>chr string of Google API key for elevation data, passed to <code><a href="googleway.html#topic+google_elevation">google_elevation</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe of latitude and longitudes with a column for the unique identifier
</p>


<h3>Author(s)</h3>

<p>Daniel Padfield, Marcus Beck
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))

my_acts &lt;- get_activity_list(stoken)
acts_data &lt;- compile_activities(my_acts)

# get lat and lon for a single activity
polyline &lt;- acts_data$map.summary_polyline[[1]]
get_latlon(polyline, key = mykey)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_leaderboard'>Retrieve the leaderboard of a segment</h2><span id='topic+get_leaderboard'></span>

<h3>Description</h3>

<p>Retrieve the leaderboard of a segment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_leaderboard(stoken, id, nleaders = 10, All = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_leaderboard_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_leaderboard_+3A_id">id</code></td>
<td>
<p>numeric for id of the segment</p>
</td></tr>
<tr><td><code id="get_leaderboard_+3A_nleaders">nleaders</code></td>
<td>
<p>numeric for number of leaders to retrieve</p>
</td></tr>
<tr><td><code id="get_leaderboard_+3A_all">All</code></td>
<td>
<p>logical to retrieve all of the list</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_leaderboard(stoken, id = 229781)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_pages'>Get several pages of one type of request</h2><span id='topic+get_pages'></span>

<h3>Description</h3>

<p>Get several pages of one type of request to the API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pages(
  url_,
  stoken,
  per_page = 30,
  page_id = 1,
  page_max = 1,
  before = NULL,
  after = NULL,
  queries = NULL,
  All = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_pages_+3A_url_">url_</code></td>
<td>
<p>string of url for the request to the API</p>
</td></tr>
<tr><td><code id="get_pages_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_pages_+3A_per_page">per_page</code></td>
<td>
<p>numeric indicating number of items retrieved per page (maximum 200)</p>
</td></tr>
<tr><td><code id="get_pages_+3A_page_id">page_id</code></td>
<td>
<p>numeric indicating page id</p>
</td></tr>
<tr><td><code id="get_pages_+3A_page_max">page_max</code></td>
<td>
<p>numeric indicating maximum number of pages to return</p>
</td></tr>
<tr><td><code id="get_pages_+3A_before">before</code></td>
<td>
<p>date object for filtering activities before the indicated date</p>
</td></tr>
<tr><td><code id="get_pages_+3A_after">after</code></td>
<td>
<p>date object for filtering activities after the indicated date</p>
</td></tr>
<tr><td><code id="get_pages_+3A_queries">queries</code></td>
<td>
<p>list of additional queries to pass to the API</p>
</td></tr>
<tr><td><code id="get_pages_+3A_all">All</code></td>
<td>
<p>logical if you want all possible pages within the ratelimit constraint</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

# get basic user info
# returns 30 activities
get_pages('https://strava.com/api/v3/activities', stoken)


## End(Not run)
</code></pre>

<hr>
<h2 id='get_segment'>Retrieve details about a specific segment</h2><span id='topic+get_segment'></span>

<h3>Description</h3>

<p>Retreive details about a specific segment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_segment(stoken, id = NULL, request = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_segment_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_segment_+3A_id">id</code></td>
<td>
<p>numeric for id of the segment</p>
</td></tr>
<tr><td><code id="get_segment_+3A_request">request</code></td>
<td>
<p>chr string, must be &quot;starred&quot;, &quot;leaderboard&quot;, &quot;all_efforts&quot;, or NULL for segment details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.  The authenticated user must have an entry for a segment to return all efforts if <code>request = "all_efforts"</code>. For <code>request = "starred"</code>, set <code>id = NULL</code>.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compile_segment">compile_segment</a></code> for converting the <code>list</code> output to <code>data.frame</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

# get segment info
get_segment(stoken, id = 229781)

# get top ten leaderboard for the segment
get_segment(stoken, id = 229781, request = "leaderboard")

# get all efforts for the authenticated user on the segment
get_segment(stoken, id = 4483903, request = 'all_efforts')

# get the starred segments for the user
get_segment(stoken, request = 'starred') 

## End(Not run)
</code></pre>

<hr>
<h2 id='get_spdsplits'>Get speed splits in a dataframe</h2><span id='topic+get_spdsplits'></span>

<h3>Description</h3>

<p>Allows the return of speed splits of multiple rides.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_spdsplits(act_id, stoken, units = "metric")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_spdsplits_+3A_act_id">act_id</code></td>
<td>
<p>a vector of activity IDs. These are easily found in the <code>data.frame</code> returned by <code><a href="#topic+compile_activities">compile_activities</a></code></p>
</td></tr>
<tr><td><code id="get_spdsplits_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_spdsplits_+3A_units">units</code></td>
<td>
<p>chr string indicating plot units as either metric or imperial</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame containing the splits of the activity or activities selected.
</p>


<h3>Author(s)</h3>

<p>Marcus Beck
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get my activities
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))
my_acts &lt;- get_activity_list(stoken)

# compile activities
acts_data &lt;- compile_activities(my_acts)

# get spdsplits for all activities
spd_splits &lt;- purrr::map_df(acts_data$id, get_spdsplits, stoken = stoken, 
     units = 'metric', .id = 'id')

## End(Not run)
</code></pre>

<hr>
<h2 id='get_starred'>Retrieve a summary of the segments starred by an athlete</h2><span id='topic+get_starred'></span>

<h3>Description</h3>

<p>Retrieve a summary of the segments starred by an athlete
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_starred(stoken, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_starred_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_starred_+3A_id">id</code></td>
<td>
<p>numeric for id of the athlete, defaults to authenticated athlete</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_starred(stoken)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_streams'>Retrieve a Strava data stream for a single activity</h2><span id='topic+get_streams'></span>

<h3>Description</h3>

<p>Retrieve a Strava data stream for a single activity.
Internally called by <code><a href="#topic+get_activity_streams">get_activity_streams</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_streams(
  stoken,
  id,
  request = "activities",
  types = NULL,
  resolution = NULL,
  series_type = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_streams_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="get_streams_+3A_id">id</code></td>
<td>
<p>numeric for id of the request</p>
</td></tr>
<tr><td><code id="get_streams_+3A_request">request</code></td>
<td>
<p>chr string defining the stream type, must be &quot;activities&quot;, &quot;segment_efforts&quot;, &quot;segments&quot;</p>
</td></tr>
<tr><td><code id="get_streams_+3A_types">types</code></td>
<td>
<p>list of chr strings with any combination of &quot;time&quot; (seconds), &quot;latlng&quot;, &quot;distance&quot; (meters), &quot;altitude&quot; (meters), &quot;velocity_smooth&quot; (meters per second), &quot;heartrate&quot; (bpm), &quot;cadence&quot; (rpm), &quot;watts&quot;, &quot;temp&quot; (degrees Celsius), &quot;moving&quot; (boolean), or &quot;grade_smooth&quot; (percent)</p>
</td></tr>
<tr><td><code id="get_streams_+3A_resolution">resolution</code></td>
<td>
<p>chr string for the data resolution to retrieve, can be &quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, defaults to all</p>
</td></tr>
<tr><td><code id="get_streams_+3A_series_type">series_type</code></td>
<td>
<p>chr string for merging the data if <code>resolution</code> is not equal to &quot;all&quot;.  Accepted values are &quot;distance&quot; or &quot;time&quot;. If omitted, no merging is performed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requires authentication stoken using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function and a user-created API on the strava website. From the API documentation, 'streams' is the Strava term for the raw data associated with an activity.
</p>


<h3>Value</h3>

<p>Data from an API request.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

get_streams(stoken, id = 351217692, types = list('distance', 'latlng'))

## End(Not run)
</code></pre>

<hr>
<h2 id='location_fun'>Get athlete location</h2><span id='topic+location_fun'></span>

<h3>Description</h3>

<p>Get athlete location, used internally in <code><a href="#topic+athl_fun">athl_fun</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>location_fun(prsd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="location_fun_+3A_prsd">prsd</code></td>
<td>
<p>parsed input list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string of the athlete location
</p>

<hr>
<h2 id='monthly_fun'>Get distance and time for current month</h2><span id='topic+monthly_fun'></span>

<h3>Description</h3>

<p>Get distance and time for current month, used internally in <code><a href="#topic+athl_fun">athl_fun</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>monthly_fun(prsd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="monthly_fun_+3A_prsd">prsd</code></td>
<td>
<p>parsed input list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of the current monthly distance and time for the athlete. An empty list is returned if none found.
</p>

<hr>
<h2 id='mutate.actframe'>Mutate</h2><span id='topic+mutate.actframe'></span>

<h3>Description</h3>

<p>This is a wrapper function to dplyr::mutate which can be applied to an actframe object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'actframe'
mutate(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mutate.actframe_+3A_.data">.data</code></td>
<td>
<p>an actframe object</p>
</td></tr>
<tr><td><code id="mutate.actframe_+3A_...">...</code></td>
<td>
<p>Name-value pairs of expressions. Use NULL to drop a variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an actframe object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)

# get actframe, all activities
stoken &lt;- httr::config(
  token = strava_oauth(
    app_name, 
    app_client_id, 
    app_secret, 
    app_scope="activity:read_all"
  )
)
my_acts &lt;- get_activity_list(stoken)
act_data &lt;- compile_activities(my_acts)

# mutate
act_data %&gt;% mutate(is_run=type=='Run')

## End(Not run)
</code></pre>

<hr>
<h2 id='plot_spdsplits'>Plot speed by splits</h2><span id='topic+plot_spdsplits'></span><span id='topic+plot_spdsplits.list'></span><span id='topic+plot_spdsplits.default'></span>

<h3>Description</h3>

<p>Plot average speed by splits for a single activity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_spdsplits(act_data, ...)

## S3 method for class 'list'
plot_spdsplits(
  act_data,
  stoken,
  acts = 1,
  id = NULL,
  units = "metric",
  fill = "darkblue",
  ...
)

## Default S3 method:
plot_spdsplits(act_data, stoken, units = "metric", fill = "darkblue", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_spdsplits_+3A_act_data">act_data</code></td>
<td>
<p>an activities list object returned by <code><a href="#topic+get_activity_list">get_activity_list</a></code> or a <code>data.frame</code> returned by <code><a href="#topic+compile_activities">compile_activities</a></code></p>
</td></tr>
<tr><td><code id="plot_spdsplits_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
<tr><td><code id="plot_spdsplits_+3A_stoken">stoken</code></td>
<td>
<p>A <code><a href="httr.html#topic+config">config</a></code> object created using the <code><a href="#topic+strava_oauth">strava_oauth</a></code> function</p>
</td></tr>
<tr><td><code id="plot_spdsplits_+3A_acts">acts</code></td>
<td>
<p>numeric indicating which activity to plot based on index in the activities list, defaults to most recent</p>
</td></tr>
<tr><td><code id="plot_spdsplits_+3A_id">id</code></td>
<td>
<p>optional numeric vector to specify the id(s) of the activity/activities to plot, <code>acts</code> is ignored if provided</p>
</td></tr>
<tr><td><code id="plot_spdsplits_+3A_units">units</code></td>
<td>
<p>chr string indicating plot units as either metric or imperial</p>
</td></tr>
<tr><td><code id="plot_spdsplits_+3A_fill">fill</code></td>
<td>
<p>chr string of fill color for profile</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The average speed per split is plotted, including a dashed line for the overall average.  The final split is typically not a complete km or mile.
</p>


<h3>Value</h3>

<p>plot of average distance for each split value in the activity
</p>


<h3>Author(s)</h3>

<p>Marcus Beck
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get my activities
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, cache = TRUE))
my_acts &lt;- get_activity_list(stoken)

# default
plot_spdsplits(my_acts, stoken, acts = 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='ratelimit'>Generate the ratelimit indicator</h2><span id='topic+ratelimit'></span>

<h3>Description</h3>

<p>Checks the ratelimit values after the last request and stores the left requests in a global variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ratelimit(req)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ratelimit_+3A_req">req</code></td>
<td>
<p>value returned from the <code><a href="httr.html#topic+GET">GET</a></code> function, used internally in other functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Requests to the Strava API are rate-limited. The default rate limit allows 600 requests every 15 minutes, with up to 30,000 requests per day.  See the documentation at <a href="https://strava.github.io/api/#access">https://strava.github.io/api/#access</a>.
</p>


<h3>Value</h3>

<p>A variable for the current limits.
</p>

<hr>
<h2 id='recent_fun'>Get last three recent activities</h2><span id='topic+recent_fun'></span>

<h3>Description</h3>

<p>Get last three recent activities, used internally in <code><a href="#topic+athl_fun">athl_fun</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recent_fun(prsd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recent_fun_+3A_prsd">prsd</code></td>
<td>
<p>parsed input list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of recent activities for the athlete.  An empty list is returned if none found.
</p>

<hr>
<h2 id='seltime_fun'>Format before and after arguments for API query</h2><span id='topic+seltime_fun'></span>

<h3>Description</h3>

<p>Format before and after arguments for API query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seltime_fun(dtin, before = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seltime_fun_+3A_dtin">dtin</code></td>
<td>
<p>Date object for <code>before</code> or <code>after</code> inputs</p>
</td></tr>
<tr><td><code id="seltime_fun_+3A_before">before</code></td>
<td>
<p>logical indicattng if input is <code>before</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric object as an epoch timestamp
</p>


<h3>Examples</h3>

<pre><code class='language-R'># convert to epoch timestamp
seltime_fun(Sys.Date())

# back to original 
as.POSIXct(seltime_fun(Sys.Date(), before = FALSE), tz = Sys.timezone(), origin = '1970-01-01')
</code></pre>

<hr>
<h2 id='strava_oauth'>Generata Strava API authentication token</h2><span id='topic+strava_oauth'></span>

<h3>Description</h3>

<p>Generate a token for the user and the desired scope. The user is sent to the strava authentication page if he/she hasn't given permission to the app yet, else, is sent to the app webpage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strava_oauth(
  app_name,
  app_client_id,
  app_secret,
  app_scope = "public",
  cache = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strava_oauth_+3A_app_name">app_name</code></td>
<td>
<p>chr string for name of the app</p>
</td></tr>
<tr><td><code id="strava_oauth_+3A_app_client_id">app_client_id</code></td>
<td>
<p>chr string for ID received when the app was registered</p>
</td></tr>
<tr><td><code id="strava_oauth_+3A_app_secret">app_secret</code></td>
<td>
<p>chr string for secret received when the app was registered</p>
</td></tr>
<tr><td><code id="strava_oauth_+3A_app_scope">app_scope</code></td>
<td>
<p>chr string for scope of authentication, Must be &quot;read&quot; , &quot;read_all&quot;, &quot;profile:read_all&quot;, &quot;profile:write&quot;, &quot;activity:read&quot;, &quot;activity:read_all&quot; or &quot;activity:write&quot;</p>
</td></tr>
<tr><td><code id="strava_oauth_+3A_cache">cache</code></td>
<td>
<p>logical to cache the token</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>app_name</code>, <code>app_client_id</code>, and <code>app_secret</code> are specific to the user and can be obtained by registering an app on the Strava API authentication page: <a href="http://strava.github.io/api/v3/oauth/">http://strava.github.io/api/v3/oauth/</a>.  This requires a personal Strava account.
</p>


<h3>Value</h3>

<p>A <code>Token2.0</code> object returned by <code><a href="httr.html#topic+oauth2.0_token">oauth2.0_token</a></code> to be used with API function calls
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
app_name &lt;- 'myappname' # chosen by user
app_client_id  &lt;- 'myid' # an integer, assigned by Strava
app_secret &lt;- 'xxxxxxxx' # an alphanumeric secret, assigned by Strava

# create the authentication token
stoken &lt;- httr::config(
  token = strava_oauth(
    app_name, 
    app_client_id, 
    app_secret, 
    app_scope="activity:read_all"
  )
)

# use authentication token
get_athlete(stoken, id = '2837007')

## End(Not run)
</code></pre>

<hr>
<h2 id='trophy_fun'>Get athlete trophies</h2><span id='topic+trophy_fun'></span>

<h3>Description</h3>

<p>Get athlete trophies, used internally in <code><a href="#topic+athl_fun">athl_fun</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trophy_fun(prsd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trophy_fun_+3A_prsd">prsd</code></td>
<td>
<p>parsed input list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of trophies for the athlete. An empty list is returned if none found.
</p>

<hr>
<h2 id='url_activities'>Set the url of activities for different activity lists</h2><span id='topic+url_activities'></span>

<h3>Description</h3>

<p>Set the url of activities for different activity lists
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url_activities(id = NULL, club = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url_activities_+3A_id">id</code></td>
<td>
<p>string for id of the activity or club if <code>club = TRUE</code></p>
</td></tr>
<tr><td><code id="url_activities_+3A_club">club</code></td>
<td>
<p>logical if you want the activities of a club</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function concatenates appropriate strings so no authentication token is required.  This is used internally by other functions.
</p>


<h3>Value</h3>

<p>The set url.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create authentication token
# requires user created app name, id, and secret from Strava website
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, 
	app_secret, cache = TRUE))

url_activities(2837007)

## End(Not run)
</code></pre>

<hr>
<h2 id='url_athlete'>Set the url of the athlete to get data</h2><span id='topic+url_athlete'></span>

<h3>Description</h3>

<p>Set the url of the athlete to get data using an ID
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url_athlete(id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url_athlete_+3A_id">id</code></td>
<td>
<p>str or integer of athlete id assigned by Strava, NULL will set the authenticated user URL</p>
</td></tr>
</table>


<h3>Details</h3>

<p>used by other functions
</p>


<h3>Value</h3>

<p>A character string of the athlete URL used for API requests
</p>

<hr>
<h2 id='url_clubs'>Set the url of the clubs for the different requests</h2><span id='topic+url_clubs'></span>

<h3>Description</h3>

<p>Set the url of the clubs for the different requests
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url_clubs(id = NULL, request = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url_clubs_+3A_id">id</code></td>
<td>
<p>numeric for id of the club, defaults to authenticated club of the athlete</p>
</td></tr>
<tr><td><code id="url_clubs_+3A_request">request</code></td>
<td>
<p>chr string, must be &quot;members&quot;, &quot;activities&quot; or <code>NULL</code> for club details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function is used internally within <code><a href="#topic+get_club">get_club</a></code>
</p>


<h3>Value</h3>

<p>A url string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>url_clubs()

url_clubs(123, request = 'members')
</code></pre>

<hr>
<h2 id='url_gear'>Set the url of the equipment item to get data</h2><span id='topic+url_gear'></span>

<h3>Description</h3>

<p>Set the url of the equipment item to get data using an ID
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url_gear(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url_gear_+3A_id">id</code></td>
<td>
<p>string of gear id assigned by Strava</p>
</td></tr>
</table>


<h3>Details</h3>

<p>used by other functions
</p>


<h3>Value</h3>

<p>A character string of the gear URL used for API requests
</p>

<hr>
<h2 id='url_segment'>Set the url for the different segment requests</h2><span id='topic+url_segment'></span>

<h3>Description</h3>

<p>Set the url for the different segment requests
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url_segment(id = NULL, request = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url_segment_+3A_id">id</code></td>
<td>
<p>numeric for id of the segment if <code>request = "all_efforts"</code> or <code>"leaderboard"</code>, or id of the athlete if <code>request = "starred"</code>, or NULL if using <code>request = "explore"</code> or <code>"starred"</code> of the athenticated user</p>
</td></tr>
<tr><td><code id="url_segment_+3A_request">request</code></td>
<td>
<p>chr string, must be &quot;starred&quot;, &quot;all_efforts&quot;, &quot;leaderboard&quot;, &quot;explore&quot; or NULL for segment details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function is used internally within <code><a href="#topic+get_segment">get_segment</a></code>, <code><a href="#topic+get_starred">get_starred</a></code>, <code><a href="#topic+get_leaderboard">get_leaderboard</a></code>, <code><a href="#topic+get_efforts_list">get_efforts_list</a></code>, and <code><a href="#topic+get_explore">get_explore</a></code>
</p>


<h3>Value</h3>

<p>A url string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>url_segment()

url_segment(id = 123, request = 'leaderboard')
</code></pre>

<hr>
<h2 id='url_streams'>Set the url for stream requests</h2><span id='topic+url_streams'></span>

<h3>Description</h3>

<p>Set the url for stream requests
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url_streams(id, request = "activities", types = list("latlng"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url_streams_+3A_id">id</code></td>
<td>
<p>numeric for id of the request</p>
</td></tr>
<tr><td><code id="url_streams_+3A_request">request</code></td>
<td>
<p>chr string defining the stream type, must be &quot;activities&quot;, &quot;segment_efforts&quot;, &quot;segments&quot;</p>
</td></tr>
<tr><td><code id="url_streams_+3A_types">types</code></td>
<td>
<p>list of chr strings with any combination of &quot;time&quot;, &quot;latlng&quot;, &quot;distance&quot;, &quot;altitude&quot;, &quot;velocity_smooth&quot;, &quot;heartrate&quot;, &quot;cadence&quot;, &quot;watts&quot;, &quot;temp&quot;, &quot;moving&quot;, or &quot;grade_smooth&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function is used internally within <code><a href="#topic+get_streams">get_streams</a></code>. From the API documentation, 'streams' is the Strava term for the raw data associated with an activity.
</p>


<h3>Value</h3>

<p>A url string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>url_streams(123)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package denim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {denim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#denim-package'><p>denim</p></a></li>
<li><a href='#constant'><p>Fixed transition</p></a></li>
<li><a href='#d_exponential'><p>Discrete exponential distribution</p></a></li>
<li><a href='#d_gamma'><p>Discrete gamma distribution</p></a></li>
<li><a href='#d_lognormal'><p>Discrete log-normal distribution</p></a></li>
<li><a href='#d_weibull'><p>Discrete Weibull distribution</p></a></li>
<li><a href='#mathexpr'><p>Mathematical expression</p></a></li>
<li><a href='#multinomial'><p>Multinomial</p></a></li>
<li><a href='#nonparametric'><p>Nonparametric distribution</p></a></li>
<li><a href='#sim'><p>Simulator for deterministic discrete time model with memory</p></a></li>
<li><a href='#transprob'><p>Transition probability</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generate and Simulate Deterministic Discrete-Time Compartmental
Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-05-28</td>
</tr>
<tr>
<td>Description:</td>
<td>R package to build and simulate deterministic discrete-time compartmental models that can be non-Markov. Length of stay in each compartment can be defined to follow a parametric distribution (d_exponential(), d_gamma(), d_weibull(), d_lognormal()) or a non-parametric distribution (nonparametric()). Other supported types of transition from one compartment to another includes fixed transition (constant()), multinomial (multinomial()), fixed transition probability (transprob()).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://drthinhong.com/denim/">https://drthinhong.com/denim/</a>, <a href="https://github.com/thinhong/denim">https://github.com/thinhong/denim</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/thinhong/denim/issues">https://github.com/thinhong/denim/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.6), viridisLite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat (&ge; 3.0.0), xml2, deSolve,
DiagrammeR</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-05 04:02:13 UTC; anhptq</td>
</tr>
<tr>
<td>Author:</td>
<td>Thinh Ong <a href="https://orcid.org/0000-0001-6772-9291"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cph],
  Anh Phan [aut, cre],
  Marc Choisy <a href="https://orcid.org/0000-0002-5187-6390"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Niels Lohman [ctb],
  Bjoern Hoehrmann [ctb],
  Florian Loitsch [ctb],
  Ingo Berg [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Anh Phan &lt;anhptq@oucru.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-05 19:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='denim-package'>denim</h2><span id='topic+denim'></span><span id='topic+denim-package'></span>

<h3>Description</h3>

<p>Simulate deterministic discrete time model
</p>


<h3>Details</h3>

<p>Imports
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Anh Phan <a href="mailto:anhptq@oucru.org">anhptq@oucru.org</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Thinh Ong <a href="mailto:thinhop@oucru.org">thinhop@oucru.org</a> (<a href="https://orcid.org/0000-0001-6772-9291">ORCID</a>) [copyright holder]
</p>
</li>
<li><p> Marc Choisy <a href="mailto:mchoisy@oucru.org">mchoisy@oucru.org</a> (<a href="https://orcid.org/0000-0002-5187-6390">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Niels Lohman [contributor]
</p>
</li>
<li><p> Bjoern Hoehrmann <a href="mailto:bjoern@hoehrmann.de">bjoern@hoehrmann.de</a> [contributor]
</p>
</li>
<li><p> Florian Loitsch [contributor]
</p>
</li>
<li><p> Ingo Berg [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://drthinhong.com/denim/">https://drthinhong.com/denim/</a>
</p>
</li>
<li> <p><a href="https://github.com/thinhong/denim">https://github.com/thinhong/denim</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/thinhong/denim/issues">https://github.com/thinhong/denim/issues</a>
</p>
</li></ul>


<hr>
<h2 id='constant'>Fixed transition</h2><span id='topic+constant'></span>

<h3>Description</h3>

<p>Define a fixed number of individuals of the left compartment transit to the
right compartment at every time step
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constant(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constant_+3A_x">x</code></td>
<td>
<p>number of individuals who move from one compartment to another</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("S-&gt;I" = constant(10))
</code></pre>

<hr>
<h2 id='d_exponential'>Discrete exponential distribution</h2><span id='topic+d_exponential'></span>

<h3>Description</h3>

<p>Discrete exponential distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_exponential(rate)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d_exponential_+3A_rate">rate</code></td>
<td>
<p>rate parameter of an exponential distribution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("I -&gt; D" = d_exponential(0.3))


</code></pre>

<hr>
<h2 id='d_gamma'>Discrete gamma distribution</h2><span id='topic+d_gamma'></span>

<h3>Description</h3>

<p>Discrete gamma distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_gamma(scale, shape)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d_gamma_+3A_scale">scale</code></td>
<td>
<p>scale parameter of a gamma distribution</p>
</td></tr>
<tr><td><code id="d_gamma_+3A_shape">shape</code></td>
<td>
<p>shape parameter of a gamma distribution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("S -&gt; I" = d_gamma(1, 5))
</code></pre>

<hr>
<h2 id='d_lognormal'>Discrete log-normal distribution</h2><span id='topic+d_lognormal'></span>

<h3>Description</h3>

<p>Discrete log-normal distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_lognormal(mu, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d_lognormal_+3A_mu">mu</code></td>
<td>
<p>location parameter or the ln mean</p>
</td></tr>
<tr><td><code id="d_lognormal_+3A_sigma">sigma</code></td>
<td>
<p>scale parameter or ln standard deviation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("I -&gt; D" = d_lognormal(3, 0.6))
</code></pre>

<hr>
<h2 id='d_weibull'>Discrete Weibull distribution</h2><span id='topic+d_weibull'></span>

<h3>Description</h3>

<p>Discrete Weibull distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_weibull(scale, shape)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d_weibull_+3A_scale">scale</code></td>
<td>
<p>scale parameter of a Weibull distribution</p>
</td></tr>
<tr><td><code id="d_weibull_+3A_shape">shape</code></td>
<td>
<p>shape parameter of a Weibull distribution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("I -&gt; D" = d_weibull(0.6, 2))
</code></pre>

<hr>
<h2 id='mathexpr'>Mathematical expression</h2><span id='topic+mathexpr'></span>

<h3>Description</h3>

<p>Mathematical expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mathexpr(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mathexpr_+3A_expr">expr</code></td>
<td>
<p>User defined mathematial expression. he expression will be processed by
muparser library which offers a wide variety of operators. Visit
muparser website (https://beltoforion.de/en/muparser/features.php)
to see full list of available operators.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("S-&gt;I"=mathexpr("beta*S/N"))
# definition for parameters in the expression required
params &lt;- c(N = 1000, beta = 0.3)
</code></pre>

<hr>
<h2 id='multinomial'>Multinomial</h2><span id='topic+multinomial'></span>

<h3>Description</h3>

<p>Define a set of probabilities of transition from one compartment to multiple
compartments
</p>
<div class="sourceCode"><pre>"I -&gt; R, D" = multinomial(0.9, 0.1),
"I -&gt; R" = d_gamma(3, 2),
"I -&gt; D" = d_lognormal(2, 0.5)
</pre></div>
<p>is equal to
</p>
<div class="sourceCode"><pre>"0.9 * I -&gt; R" = d_gamma(3, 2),
"0.1 * I -&gt; D" = d_lognormal(2, 0.5)
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>multinomial(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multinomial_+3A_...">...</code></td>
<td>
<p>a vector of probabilities, must add up to 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>

<hr>
<h2 id='nonparametric'>Nonparametric distribution</h2><span id='topic+nonparametric'></span>

<h3>Description</h3>

<p>Convert a vector of frequencies, percentages... into a distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nonparametric(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nonparametric_+3A_...">...</code></td>
<td>
<p>a vector of values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("S-&gt;I"=nonparametric(0.1, 0.2, 0.5, 0.2))
</code></pre>

<hr>
<h2 id='sim'>Simulator for deterministic discrete time model with memory</h2><span id='topic+sim'></span>

<h3>Description</h3>

<p>Simulation function that call the C++ simulator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim(
  transitions,
  initialValues,
  parameters = NULL,
  simulationDuration,
  timeStep = 1,
  errorTolerance = 0.001
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_+3A_transitions">transitions</code></td>
<td>
<p>a list of transitions follows this format <code>"transition" = distribution()</code></p>
</td></tr>
<tr><td><code id="sim_+3A_initialvalues">initialValues</code></td>
<td>
<p>a vector contains the initial values of all compartments defined
in the <strong>transitions</strong>, follows this format <code>compartment_name = initial_value</code></p>
</td></tr>
<tr><td><code id="sim_+3A_parameters">parameters</code></td>
<td>
<p>a vector contains values of any parameters that are not compartments,
usually parameters used in <code>mathexp()</code> functions</p>
</td></tr>
<tr><td><code id="sim_+3A_simulationduration">simulationDuration</code></td>
<td>
<p>duration of time to be simulate</p>
</td></tr>
<tr><td><code id="sim_+3A_timestep">timeStep</code></td>
<td>
<p>set the output time interval. For example, if <code>simulationDuration = 10</code>
means 10 days and <code>timeStep = 0.1</code>, the output will display results for each 0.1 daily interval</p>
</td></tr>
<tr><td><code id="sim_+3A_errortolerance">errorTolerance</code></td>
<td>
<p>set the threshold so that a cumulative distribution function
can be rounded to 1. For example, if we want a cumulative probability of 0.999 to
be rounded as 1, we set <code>errorTolerance = 0.001</code> (1 - 0.999 = 0.001). Default is 0.001</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with class <code>denim</code> that can be plotted with a <code>plot()</code> method
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list(
   "S -&gt; I" = "beta * S * I / N",
   "I -&gt; R" = d_gamma(3, 2)
)

initialValues &lt;- c(
   S = 999, 
   I = 1, 
   R = 0
)

parameters &lt;- c(
   beta = 0.012,
   N = 1000
)

simulationDuration &lt;- 30
timeStep &lt;- 0.01

mod &lt;- sim(transitions = transitions, 
           initialValues = initialValues, 
           parameters = parameters, 
           simulationDuration = simulationDuration, 
           timeStep = timeStep)
</code></pre>

<hr>
<h2 id='transprob'>Transition probability</h2><span id='topic+transprob'></span>

<h3>Description</h3>

<p>A fixed percentage of the left compartment transit to the right compartment
at every time step
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transprob(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transprob_+3A_x">x</code></td>
<td>
<p>a float number between 0 to 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Distribution object for simulator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>transitions &lt;- list("S-&gt;I"=transprob(0.8))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

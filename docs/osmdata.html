<!DOCTYPE html><html><head><title>Help for package osmdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {osmdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#add_osm_feature'><p>Add a feature to an Overpass query</p></a></li>
<li><a href='#add_osm_features'><p>Add multiple features to an Overpass query</p></a></li>
<li><a href='#available_features'><p>List recognized features in OSM</p></a></li>
<li><a href='#available_tags'><p>List tags associated with a feature</p></a></li>
<li><a href='#bbox_to_string'><p>Convert a named matrix or a named or unnamed vector or data.frame to a string</p></a></li>
<li><a href='#get_overpass_url'><p>get_overpass_url</p></a></li>
<li><a href='#getbb'><p>Get bounding box for a given place name</p></a></li>
<li><a href='#opq'><p>Build an Overpass query</p></a></li>
<li><a href='#opq_around'><p>opq_around</p></a></li>
<li><a href='#opq_csv'><p>Transform an Overpass query to return the result in a csv format</p></a></li>
<li><a href='#opq_enclosing'><p>opq_enclosing</p></a></li>
<li><a href='#opq_osm_id'><p>Add a feature specified by OSM ID to an Overpass query</p></a></li>
<li><a href='#opq_string'><p>Convert an overpass query into a text string</p></a></li>
<li><a href='#osm_elevation'><p>osm_elevation</p></a></li>
<li><a href='#osm_lines'><p>Extract all <code>osm_lines</code> from an osmdata object</p></a></li>
<li><a href='#osm_multilines'><p>Extract all <code>osm_multilines</code> from an osmdata object</p></a></li>
<li><a href='#osm_multipolygons'><p>Extract all <code>osm_multipolygons</code> from an osmdata object</p></a></li>
<li><a href='#osm_points'><p>Extract all <code>osm_points</code> from an osmdata object</p></a></li>
<li><a href='#osm_poly2line'><p>Convert osmdata polygons into lines</p></a></li>
<li><a href='#osm_polygons'><p>Extract all <code>osm_polygons</code> from an osmdata object</p></a></li>
<li><a href='#osmdata'><p>osmdata class def</p></a></li>
<li><a href='#osmdata_data_frame'><p>Return an OSM Overpass query as a data.frame object.</p></a></li>
<li><a href='#osmdata_sc'><p>Return an OSM Overpass query as an osmdata object in</p>
<code>silicate</code> (<code>SC</code>) format.</a></li>
<li><a href='#osmdata_sf'><p>Return an OSM Overpass query as an osmdata object in <span class="pkg">sf</span></p>
format.</a></li>
<li><a href='#osmdata_sp'><p>Return an OSM Overpass query as an osmdata object in <span class="pkg">sp</span></p>
format.</a></li>
<li><a href='#osmdata_xml'><p>Return an OSM Overpass query in XML format</p>
Read an (XML format) OSM Overpass response from a string, a connection,
or a raw vector.</a></li>
<li><a href='#overpass_status'><p>Retrieve status of the Overpass API</p></a></li>
<li><a href='#set_overpass_url'><p>set_overpass_url</p></a></li>
<li><a href='#trim_osmdata'><p>trim_osmdata</p></a></li>
<li><a href='#unique_osmdata'><p>unique_osmdata</p></a></li>
<li><a href='#unname_osmdata_sf'><p>unname_osmdata_sf</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Import 'OpenStreetMap' Data as Simple Features or Spatial
Objects</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.5</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mark Padgham &lt;mark.padgham@email.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Download and import of 'OpenStreetMap' ('OSM') data as 'sf'
    or 'sp' objects.  'OSM' data are extracted from the 'Overpass' web
    server (<a href="https://overpass-api.de/">https://overpass-api.de/</a>) and processed with very fast 'C++'
    routines for return to 'R'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/osmdata/">https://docs.ropensci.org/osmdata/</a> (website)
<a href="https://github.com/ropensci/osmdata/">https://github.com/ropensci/osmdata/</a> (devel)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/osmdata/issues">https://github.com/ropensci/osmdata/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, httr2, lubridate, magrittr, methods, Rcpp (&ge; 0.12.4),
reproj, rvest, tibble, utils, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>httptest2, jsonlite, knitr, markdown, raster, rmarkdown, sf,
sp, testthat</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>Data Access</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>https://ropensci.org</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>open0street0map, openstreetmap, overpass0API,
OSM</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-14 10:34:40 UTC; smexus</td>
</tr>
<tr>
<td>Author:</td>
<td>Mark Padgham [aut, cre],
  Bob Rudis [aut],
  Robin Lovelace [aut],
  MaÃ«lle Salmon [aut],
  Joan Maspons <a href="https://orcid.org/0000-0003-2286-8727"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Andrew Smith [ctb],
  James Smith [ctb],
  Andrea Gilardi [ctb],
  Enrico Spinielli [ctb],
  Anthony North [ctb],
  Martin Machyna [ctb],
  Marcin Kalicinski [ctb, cph] (Author of included RapidXML code),
  Eli Pousson <a href="https://orcid.org/0000-0001-8280-1706"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-14 11:40:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>Pipe operator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='add_osm_feature'>Add a feature to an Overpass query</h2><span id='topic+add_osm_feature'></span>

<h3>Description</h3>

<p>Add a feature to an Overpass query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_osm_feature(
  opq,
  key,
  value,
  key_exact = TRUE,
  value_exact = TRUE,
  match_case = TRUE,
  bbox = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_osm_feature_+3A_opq">opq</code></td>
<td>
<p>An <code>overpass_query</code> object</p>
</td></tr>
<tr><td><code id="add_osm_feature_+3A_key">key</code></td>
<td>
<p>feature key; can be negated with an initial exclamation mark,
<code>key = "!this"</code>, and can also be a vector if <code>value</code> is missing.</p>
</td></tr>
<tr><td><code id="add_osm_feature_+3A_value">value</code></td>
<td>
<p>value for feature key; can be negated with an initial
exclamation mark, <code>value = "!this"</code>, and can also be a vector,
<code>value = c ("this", "that")</code>.</p>
</td></tr>
<tr><td><code id="add_osm_feature_+3A_key_exact">key_exact</code></td>
<td>
<p>If FALSE, <code>key</code> is not interpreted exactly; see
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API">https://wiki.openstreetmap.org/wiki/Overpass_API</a></p>
</td></tr>
<tr><td><code id="add_osm_feature_+3A_value_exact">value_exact</code></td>
<td>
<p>If FALSE, <code>value</code> is not interpreted exactly</p>
</td></tr>
<tr><td><code id="add_osm_feature_+3A_match_case">match_case</code></td>
<td>
<p>If FALSE, matching for both <code>key</code> and <code>value</code> is
not sensitive to case</p>
</td></tr>
<tr><td><code id="add_osm_feature_+3A_bbox">bbox</code></td>
<td>
<p>optional bounding box for the feature query; must be set if no
opq query bbox has been set</p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="#topic+opq">opq</a> object
</p>


<h3><code>add_osm_feature</code> vs <code>add_osm_features</code></h3>

<p>Features defined within an <a href="#topic+add_osm_features">add_osm_features</a> call are combined with a
logical OR.
</p>
<p>Chained calls to either <a href="#topic+add_osm_feature">add_osm_feature</a> or <code>add_osm_features()</code> combines
features from these calls in a logical AND; this is analagous to chaining
<code>dplyr::filter()</code> on a data frame.
</p>
<p><code>add_osm_features()</code> with only one feature is logically equivalent to
<code>add_osm_feature()</code>.
</p>


<h3>Note</h3>

<p><code>key_exact</code> should generally be <code>TRUE</code>, because OSM uses a
reasonably well defined set of possible keys, as returned by
<a href="#topic+available_features">available_features</a>. Setting <code>key_exact = FALSE</code> allows matching
of regular expressions on OSM keys, as described in Section 6.1.5 of
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL">https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL</a>. The actual
query submitted to the overpass API can be obtained from
<a href="#topic+opq_string">opq_string</a>.
</p>


<h3>References</h3>

<p><a href="https://wiki.openstreetmap.org/wiki/Map_Features">https://wiki.openstreetmap.org/wiki/Map_Features</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+add_osm_features">add_osm_features</a>
</p>
<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
q &lt;- opq ("portsmouth usa") %&gt;%
    add_osm_feature (
        key = "amenity",
        value = "restaurant"
    ) %&gt;%
    add_osm_feature (key = "amenity", value = "pub")
osmdata_sf (q) # all objects that are restaurants AND pubs (there are none!)
q1 &lt;- opq ("portsmouth usa") %&gt;%
    add_osm_feature (
        key = "amenity",
        value = "restaurant"
    )
q2 &lt;- opq ("portsmouth usa") %&gt;%
    add_osm_feature (key = "amenity", value = "pub")
c (osmdata_sf (q1), osmdata_sf (q2)) # all restaurants OR pubs
# Use of negation to extract all non-primary highways
q &lt;- opq ("portsmouth uk") %&gt;%
    add_osm_feature (key = "highway", value = "!primary")

# key negation without warnings
q3 &lt;- opq ("VinÃ§Ã ", osm_type="node") %&gt;%
    add_osm_feature (key = c("name", "!name:ca"))
q4 &lt;- opq ("el Carxe", osm_type="node") %&gt;%
    add_osm_feature (key = "natural", value = "peak") %&gt;%
    add_osm_feature (key = "!ele")

## End(Not run)
</code></pre>

<hr>
<h2 id='add_osm_features'>Add multiple features to an Overpass query</h2><span id='topic+add_osm_features'></span>

<h3>Description</h3>

<p>Alternative version of <a href="#topic+add_osm_feature">add_osm_feature</a> for creating single queries
with multiple features. Key-value matching may be controlled by using the
filter symbols described in
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_tag_.28has-kv.29">https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_tag_.28has-kv.29</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_osm_features(
  opq,
  features,
  bbox = NULL,
  key_exact = TRUE,
  value_exact = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_osm_features_+3A_opq">opq</code></td>
<td>
<p>An <code>overpass_query</code> object</p>
</td></tr>
<tr><td><code id="add_osm_features_+3A_features">features</code></td>
<td>
<p>A named list or vector with the format <code>list("&lt;key&gt;" = "&lt;value&gt;")</code> or <code>c("&lt;key&gt;" = "&lt;value&gt;")</code> or a character vector of
key-value pairs with keys and values enclosed in escape-formatted
quotations. See examples for details.</p>
</td></tr>
<tr><td><code id="add_osm_features_+3A_bbox">bbox</code></td>
<td>
<p>optional bounding box for the feature query; must be set if no
opq query bbox has been set.</p>
</td></tr>
<tr><td><code id="add_osm_features_+3A_key_exact">key_exact</code></td>
<td>
<p>If FALSE, <code>key</code> is not interpreted exactly; see
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API">https://wiki.openstreetmap.org/wiki/Overpass_API</a></p>
</td></tr>
<tr><td><code id="add_osm_features_+3A_value_exact">value_exact</code></td>
<td>
<p>If FALSE, <code>value</code> is not interpreted exactly</p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="#topic+opq">opq</a> object
</p>


<h3><code>add_osm_feature</code> vs <code>add_osm_features</code></h3>

<p>Features defined within an <a href="#topic+add_osm_features">add_osm_features</a> call are combined with a
logical OR.
</p>
<p>Chained calls to either <a href="#topic+add_osm_feature">add_osm_feature</a> or <code>add_osm_features()</code> combines
features from these calls in a logical AND; this is analagous to chaining
<code>dplyr::filter()</code> on a data frame.
</p>
<p><code>add_osm_features()</code> with only one feature is logically equivalent to
<code>add_osm_feature()</code>.
</p>


<h3>References</h3>

<p><a href="https://wiki.openstreetmap.org/wiki/Map_Features">https://wiki.openstreetmap.org/wiki/Map_Features</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+add_osm_feature">add_osm_feature</a>
</p>
<p>Other queries: 
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
q &lt;- opq ("portsmouth usa") %&gt;%
    add_osm_features (features = list (
        "amenity" = "restaurant",
        "amenity" = "pub"
    ))

q &lt;- opq ("portsmouth usa") %&gt;%
    add_osm_features (features = c (
        "\"amenity\"=\"restaurant\"",
        "\"amenity\"=\"pub\""
    ))
# This extracts in a single query the same result as the following:
q1 &lt;- opq ("portsmouth usa") %&gt;%
    add_osm_feature (
        key = "amenity",
        value = "restaurant"
    )
q2 &lt;- opq ("portsmouth usa") %&gt;%
    add_osm_feature (key = "amenity", value = "pub")
c (osmdata_sf (q1), osmdata_sf (q2)) # all restaurants OR pubs

## End(Not run)
</code></pre>

<hr>
<h2 id='available_features'>List recognized features in OSM</h2><span id='topic+available_features'></span>

<h3>Description</h3>

<p>List recognized features in OSM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_features()
</code></pre>


<h3>Value</h3>

<p>character vector of all known features
</p>


<h3>Note</h3>

<p>requires internet access
</p>


<h3>References</h3>

<p><a href="https://wiki.openstreetmap.org/wiki/Map_Features">https://wiki.openstreetmap.org/wiki/Map_Features</a>
</p>


<h3>See Also</h3>

<p>Other osminfo: 
<code><a href="#topic+available_tags">available_tags</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
available_features ()

## End(Not run)
</code></pre>

<hr>
<h2 id='available_tags'>List tags associated with a feature</h2><span id='topic+available_tags'></span>

<h3>Description</h3>

<p>List tags associated with a feature
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_tags(feature)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="available_tags_+3A_feature">feature</code></td>
<td>
<p>feature to retrieve</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector of all known tags for a feature
</p>


<h3>Note</h3>

<p>requires internet access
</p>


<h3>References</h3>

<p><a href="https://wiki.openstreetmap.org/wiki/Map_Features">https://wiki.openstreetmap.org/wiki/Map_Features</a>
</p>


<h3>See Also</h3>

<p>Other osminfo: 
<code><a href="#topic+available_features">available_features</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
available_tags ("aerialway")

## End(Not run)
</code></pre>

<hr>
<h2 id='bbox_to_string'>Convert a named matrix or a named or unnamed vector or data.frame to a string</h2><span id='topic+bbox_to_string'></span>

<h3>Description</h3>

<p>This function converts a bounding box into a string for use in web apis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bbox_to_string(bbox)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bbox_to_string_+3A_bbox">bbox</code></td>
<td>
<p>bounding box as character, matrix, vector or a data.frame with
<code>osm_type</code> and <code>osm_id</code> columns.
If character, the bbox will be found (geocoded) and extracted with
<a href="#topic+getbb">getbb</a>. Unnamed vectors will be sorted appropriately and must merely be
in the order (x, y, x, y).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string representing min x, min y, max x, and max y
bounds. For example: <code>"15.3152361,76.4406446,15.3552361,76.4806446"</code> is
the bounding box for Hampi, India. For data.frames with OSM objects, a
character string representing a set of OSM objects in overpass query
language. For example: <code>"relation(id:11747082)"</code> represents the area of
the Catalan Countries. A set of objects can also be represented for multirow
data.frames (e.g. <code>"relation(id:11747082,307833); way(id:22422490)"</code>).
</p>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
bbox_to_string (getbb ("ValÃ¨ncia"))
bbox_to_string (getbb ("ValÃ¨ncia", format_out = "data.frame"))

## End(Not run)
</code></pre>

<hr>
<h2 id='get_overpass_url'>get_overpass_url</h2><span id='topic+get_overpass_url'></span>

<h3>Description</h3>

<p>Return the URL of the specified overpass API. Default is
<a href="https://overpass-api.de/api/interpreter/">https://overpass-api.de/api/interpreter/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_overpass_url()
</code></pre>


<h3>Value</h3>

<p>The overpass API URL
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_overpass_url">set_overpass_url()</a></code>
</p>
<p>Other overpass: 
<code><a href="#topic+set_overpass_url">set_overpass_url</a>()</code>
</p>

<hr>
<h2 id='getbb'>Get bounding box for a given place name</h2><span id='topic+getbb'></span>

<h3>Description</h3>

<p>This function uses the free Nominatim API provided by OpenStreetMap to find
the bounding box (bb) associated with place names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getbb(
  place_name,
  display_name_contains = NULL,
  viewbox = NULL,
  format_out = "matrix",
  base_url = "https://nominatim.openstreetmap.org",
  featuretype = "settlement",
  limit = 10,
  key = NULL,
  silent = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getbb_+3A_place_name">place_name</code></td>
<td>
<p>The name of the place you're searching for</p>
</td></tr>
<tr><td><code id="getbb_+3A_display_name_contains">display_name_contains</code></td>
<td>
<p>Text string to match with display_name field
returned by <a href="https://wiki.openstreetmap.org/wiki/Nominatim">https://wiki.openstreetmap.org/wiki/Nominatim</a></p>
</td></tr>
<tr><td><code id="getbb_+3A_viewbox">viewbox</code></td>
<td>
<p>The bounds in which you're searching</p>
</td></tr>
<tr><td><code id="getbb_+3A_format_out">format_out</code></td>
<td>
<p>Character string indicating output format: <code>matrix</code>
(default), <code>string</code> (see <code><a href="#topic+bbox_to_string">bbox_to_string()</a></code>), <code>data.frame</code> (all 'hits' returned
by Nominatim), <code>sf_polygon</code> (for polygons that work with the sf package),
<code>polygon</code> (full polygonal bounding boxes for each match) or <code>osm_type_id</code> (
string for quering inside deffined OSM areas <code><a href="#topic+bbox_to_string">bbox_to_string()</a></code>).</p>
</td></tr>
<tr><td><code id="getbb_+3A_base_url">base_url</code></td>
<td>
<p>Base website from where data is queried</p>
</td></tr>
<tr><td><code id="getbb_+3A_featuretype">featuretype</code></td>
<td>
<p>The type of OSM feature (settlement is default; see Note)</p>
</td></tr>
<tr><td><code id="getbb_+3A_limit">limit</code></td>
<td>
<p>How many results should the API return?</p>
</td></tr>
<tr><td><code id="getbb_+3A_key">key</code></td>
<td>
<p>The API key to use for services that require it</p>
</td></tr>
<tr><td><code id="getbb_+3A_silent">silent</code></td>
<td>
<p>Should the API be printed to screen? TRUE by default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It was inspired by the functions
<code>bbox</code> from the <span class="pkg">sp</span> package,
<code>bb</code> from the <span class="pkg">tmaptools</span> package and
<code>bb_lookup</code> from the github package <span class="pkg">nominatim</span> package,
which can be found at <a href="https://github.com/hrbrmstr/nominatim">https://github.com/hrbrmstr/nominatim</a>.
</p>
<p>See <a href="https://wiki.openstreetmap.org/wiki/Nominatim">https://wiki.openstreetmap.org/wiki/Nominatim</a> for details.
</p>


<h3>Value</h3>

<p>Defaults to a matrix in the form:
<code>
  min   max
x ...   ...
y ...   ...
</code>
</p>
<p>If <code>format_out = "polygon"</code>, one or more two-columns matrices of polygonal
longitude-latitude points. Where multiple <code>place_name</code> occurrences are found
within <code>nominatim</code>, each item of the list of coordinates may itself contain
multiple coordinate matrices where multiple exact matches exist. If one
exact match exists with potentially multiple polygonal boundaries (for
example, &quot;london uk&quot; is an exact match, but can mean either greater London or
the City of London), only the first is returned. See examples below for
illustration.
</p>
<p>For <code>format_out = "osm_type_id"</code>, a character string representing an OSM object in overpass query
language. For example: <code>"relation(id:11747082)"</code> represents the area of
the Catalan Countries. If one exact match exists with potentially multiple
polygonal boundaries, only the first relation or way is returned. A set of
objects can also be represented for multiple results (e.g.
<code style="white-space: pre;">&#8288;relation(id:11747082,307833); way(id:22422490)&#8288;</code>). See examples below for
illustration. The OSM objects that can be used as
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Map_way/relation_to_area_(map_to_area)">areas in overpass queries</a>
<em>must be closed rings</em> (ways or relations).
</p>


<h3>Note</h3>

<p>Specific values of <code>featuretype</code> include &quot;street&quot;, &quot;city&quot;,
<a href="https://wiki.openstreetmap.org/wiki/Nominatim">https://wiki.openstreetmap.org/wiki/Nominatim</a> for details). The default
<code>featuretype = "settlement"</code> combines results from all intermediate
levels below &quot;country&quot; and above &quot;streets&quot;. If the bounding box or polygon of
a city is desired, better results will usually be obtained with
<code>featuretype = "city"</code>.
</p>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getbb ("Salzburg")
# select based on display_name, print query url
getbb ("Hereford", display_name_contains = "United States", silent = FALSE)
# top 3 matches as data frame
getbb ("Hereford", format_out = "data.frame", limit = 3)

# Examples of polygonal boundaries
bb &lt;- getbb ("london uk", format_out = "polygon") # single match
dim (bb [[1]] [[1]]) # matrix of longitude/latitude pairs
bb_sf &lt;- getbb ("kathmandu", format_out = "sf_polygon")
# sf:::plot.sf(bb_sf) # can be plotted if sf is installed
getbb ("london", format_out = "sf_polygon")
getbb ("accra", format_out = "sf_polygon") # rectangular bb

area &lt;- getbb ("ValÃ¨ncia", format_out = "osm_type_id")
# select multiple areas with format_out = "osm_type_id"
areas &lt;- getbb ("ValÃ¨ncia", format_out = "data.frame")
bbox_to_string (areas [areas$osm_type != "node", ])

# Using an alternative service (locationiq requires an API key)
# add LOCATIONIQ=type_your_api_key_here to .Renviron:
key &lt;- Sys.getenv ("LOCATIONIQ")
if (nchar (key) == 32) {
    getbb (place_name,
        base_url = "https://locationiq.org/v1/search.php",
        key = key
    )
}

## End(Not run)
</code></pre>

<hr>
<h2 id='opq'>Build an Overpass query</h2><span id='topic+opq'></span>

<h3>Description</h3>

<p>Build an Overpass query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opq(
  bbox = NULL,
  nodes_only = FALSE,
  osm_types = c("node", "way", "relation"),
  out = c("body", "tags", "meta", "skel", "tags center", "ids"),
  datetime = NULL,
  datetime2 = NULL,
  adiff = FALSE,
  timeout = 25,
  memsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opq_+3A_bbox">bbox</code></td>
<td>
<p>Either (i) four numeric values specifying the maximal and minimal
longitudes and latitudes, in the form <code>c(xmin, ymin, xmax, ymax)</code>
or (ii) a character string in the form <code>xmin,ymin,xmax,ymax</code>. These
will be passed to <a href="#topic+getbb">getbb</a> to be converted to a numerical bounding
box. Can also be (iii) a matrix representing a bounding polygon as
returned from <code>getbb(..., format_out = "polygon")</code>. To search in an
area, (iv) a character string with a relation or a (closed) way id in
the format <code>"way(id:1)"</code>, <code>"relation(id:1, 2)"</code> or <code>"relation(id:1, 2, 3); way(id:2)"</code> as returned by <code>getbb(..., format_out = "osm_type_id")</code>
or <a href="#topic+bbox_to_string">bbox_to_string</a> with a <code>data.frame</code> from <code>getbb(..., format_out = "data.frame")</code> to select all areas combined (relations and ways).</p>
</td></tr>
<tr><td><code id="opq_+3A_nodes_only">nodes_only</code></td>
<td>
<p>WARNING: this parameter is equivalent to
<code>osm_types = "node"</code> and will be DEPRECATED. If <code>TRUE</code>, query OSM nodes
only. Some OSM structures such as <code>place = "city"</code> or
<code>highway = "traffic_signals"</code> are represented by nodes only. Queries are
built by default to return all nodes, ways, and relation, but this can
be very inefficient for node-only queries. Setting this value to <code>TRUE</code>
for such cases makes queries more efficient, with data returned in the
<code>osm_points</code> list item.</p>
</td></tr>
<tr><td><code id="opq_+3A_osm_types">osm_types</code></td>
<td>
<p>A character vector with several OSM types to query: <code>node</code>,
<code>way</code> and <code>relation</code> is the default. <code>nwr</code>, <code>nw</code>, <code>wr</code>, <code>nr</code> and <code>rel</code>
are also valid types. Ignored if <code>nodes_only = TRUE</code>.
<code>osm_types = "node"</code> is equivalent to <code>nodes_only = TRUE</code>.</p>
</td></tr>
<tr><td><code id="opq_+3A_out">out</code></td>
<td>
<p>The level of verbosity of the overpass result: <code>body</code> (geometries
and tags, the default), <code>tags</code> (tags without geometry), <code>meta</code> (like
body + Timestamp, Version, Changeset, User, User ID of the last
edition), <code>skel</code> (geometries only), <code style="white-space: pre;">&#8288;tags center&#8288;</code> (tags without geometry
+ the coordinates of the center of the bounding box) and <code>ids</code> (type and
id of the objects only).</p>
</td></tr>
<tr><td><code id="opq_+3A_datetime">datetime</code></td>
<td>
<p>If specified, a date and time to extract data from the OSM
database as it was up to the specified date and time, as described at
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#date">https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#date</a>.
This <em>must</em> be in ISO8601 format (&quot;YYYY-MM-DDThh:mm:ssZ&quot;), where
both the &quot;T&quot; and &quot;Z&quot; characters must be present.</p>
</td></tr>
<tr><td><code id="opq_+3A_datetime2">datetime2</code></td>
<td>
<p>If specified, return the <em>difference</em> in the OSM
database between <code>datetime</code> and <code>datetime2</code>, where
<code>datetime2 &gt; datetime</code>. See
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Difference_between_two_dates_(diff)">https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Difference_between_two_dates_(diff)</a>.</p>
</td></tr>
<tr><td><code id="opq_+3A_adiff">adiff</code></td>
<td>
<p>If <code>TRUE</code>, query for <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Augmented-difference_between_two_dates_(adiff)">augmented difference</a>.
The result indicates what happened to the modified and deleted OSM
objects. Requires <code style="white-space: pre;">&#8288;datetime(2)*&#8288;</code>.</p>
</td></tr>
<tr><td><code id="opq_+3A_timeout">timeout</code></td>
<td>
<p>It may be necessary to increase this value for large queries,
because the server may time out before all data are delivered.</p>
</td></tr>
<tr><td><code id="opq_+3A_memsize">memsize</code></td>
<td>
<p>The default memory size for the 'overpass' server in <em>bytes</em>;
may need to be increased in order to handle large queries.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>out</code> statement for <code>tags</code>, <code style="white-space: pre;">&#8288;tags center&#8288;</code>and <code>id</code>, do not return
geometries. Neither <code>out = "meta"</code> nor <code>adiff = TRUE</code> options are implemented
for all <code style="white-space: pre;">&#8288;osmdata_*&#8288;</code> functions yet. Use <a href="#topic+osmdata_xml">osmdata_xml</a> or <a href="#topic+osmdata_data_frame">osmdata_data_frame</a>
to get the result of these queries. See the documentation of the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#out">out statement</a>
and <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Augmented-difference_between_two_dates_(adiff)">augmented difference</a>
for more details about these options.
</p>


<h3>Value</h3>

<p>An <code>overpass_query</code> object
</p>


<h3>Note</h3>

<p>See
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API#Resource_management_options_.28osm-script.29">https://wiki.openstreetmap.org/wiki/Overpass_API#Resource_management_options_.28osm-script.29</a>
for explanation of <code>timeout</code> and <code>memsize</code> (or <code>maxsize</code> in overpass terms).
Note in particular the comment that queries with arbitrarily large <code>memsize</code>
are likely to be rejected.
</p>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
q &lt;- getbb ("portsmouth", display_name_contains = "United States") %&gt;%
    opq () %&gt;%
    add_osm_feature ("amenity", "restaurant") %&gt;%
    add_osm_feature ("amenity", "pub")
osmdata_sf (q) # all objects that are restaurants AND pubs (there are none!)
q1 &lt;- getbb ("portsmouth", display_name_contains = "United States") %&gt;%
    opq () %&gt;%
    add_osm_feature ("amenity", "restaurant")
q2 &lt;- getbb ("portsmouth", display_name_contains = "United States") %&gt;%
    opq () %&gt;%
    add_osm_feature ("amenity", "pub")
c (osmdata_sf (q1), osmdata_sf (q2)) # all restaurants OR pubs

# Use nodes_only to retrieve single point data only, such as for central
# locations of cities.
opq &lt;- opq (bbox, nodes_only = TRUE) %&gt;%
    add_osm_feature (key = "place", value = "city") %&gt;%
    osmdata_sf (quiet = FALSE)

# Filter by a search area
qa1 &lt;- getbb ("Catalan Countries", format_out = "osm_type_id") %&gt;%
    opq (nodes_only = TRUE) %&gt;%
    add_osm_feature (key = "capital", value = "4")
opqa1 &lt;- osmdata_sf (qa1)
# Filter by a multiple search areas
bb &lt;- getbb ("Vilafranca", format_out = "data.frame")
qa2 &lt;- bbox_to_string (bb [bb$osm_type != "node", ]) %&gt;%
    opq (nodes_only = TRUE) %&gt;%
    add_osm_feature (key = "place")
opqa2 &lt;- osmdata_sf (qa2)

## End(Not run)
</code></pre>

<hr>
<h2 id='opq_around'>opq_around</h2><span id='topic+opq_around'></span>

<h3>Description</h3>

<p>Find all features around a given point, and optionally match specific
'key'-'value' pairs. This function is <em>not</em> intended to be combined with
<a href="#topic+add_osm_feature">add_osm_feature</a>, rather is only to be used in the sequence
<a href="#topic+opq_around">opq_around</a> -&gt; <a href="#topic+osmdata_xml">osmdata_xml</a> (or other extraction function). See
examples for how to use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opq_around(lon, lat, radius = 15, key = NULL, value = NULL, timeout = 25)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opq_around_+3A_lon">lon</code></td>
<td>
<p>Longitude of desired point</p>
</td></tr>
<tr><td><code id="opq_around_+3A_lat">lat</code></td>
<td>
<p>Latitude of desired point</p>
</td></tr>
<tr><td><code id="opq_around_+3A_radius">radius</code></td>
<td>
<p>Radius in metres around the point for which data should be
extracted. Queries with  large values for this parameter may fail.</p>
</td></tr>
<tr><td><code id="opq_around_+3A_key">key</code></td>
<td>
<p>(Optional) OSM key of enclosing data</p>
</td></tr>
<tr><td><code id="opq_around_+3A_value">value</code></td>
<td>
<p>(Optional) OSM value matching 'key' of enclosing data</p>
</td></tr>
<tr><td><code id="opq_around_+3A_timeout">timeout</code></td>
<td>
<p>It may be necessary to increase this value for large queries,
because the server may time out before all data are delivered.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get all benches ("amenity=bench") within 100m of a particular point
lat &lt;- 53.94542
lon &lt;- -2.52017
key &lt;- "amenity"
value &lt;- "bench"
radius &lt;- 100
x &lt;- opq_around (lon, lat, radius, key, value) %&gt;%
    osmdata_sf ()

## End(Not run)
</code></pre>

<hr>
<h2 id='opq_csv'>Transform an Overpass query to return the result in a csv format</h2><span id='topic+opq_csv'></span>

<h3>Description</h3>

<p>Transform an Overpass query to return the result in a csv format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opq_csv(q, fields, header = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opq_csv_+3A_q">q</code></td>
<td>
<p>A opq string or an object of class <code>overpass_query</code> constructed with
<a href="#topic+opq">opq</a> or alternative opq builders (+ <a href="#topic+add_osm_feature">add_osm_feature</a>/s).</p>
</td></tr>
<tr><td><code id="opq_csv_+3A_fields">fields</code></td>
<td>
<p>a character vector with the field names.</p>
</td></tr>
<tr><td><code id="opq_csv_+3A_header">header</code></td>
<td>
<p>if <code>FALSE</code>, do not ask for column names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The output format <code>csv</code>, ask for results in csv. See
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#CSV_output_mode">CSV output mode</a>
for details. To get the data, use <a href="#topic+osmdata_data_frame">osmdata_data_frame</a>.
</p>


<h3>Value</h3>

<p>The <code>overpass_query</code> or string with the prefix changed to
return a csv.
</p>


<h3>Note</h3>

<p>csv queries that reach the timeout will return a 0 row data.frame
without any warning. Increase <code>timeout</code> in <code>q</code> if you don't see the
expected result.
</p>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
q &lt;- getbb ("Catalan Countries", format_out = "osm_type_id") %&gt;%
    opq (out = "tags center", osm_type = "relation", timeout = 100) %&gt;%
    add_osm_feature ("admin_level", "7") %&gt;%
    add_osm_feature ("boundary", "administrative") %&gt;%
    opq_csv (fields = c("name", "::type", "::id", "::lat", "::lon"))
comarques &lt;- osmdata_data_frame (q) # without timeout parameter, 0 rows

qid&lt;- opq_osm_id (
    type = "relation",
    id = c ("341530", "1809102", "1664395", "343124"),
    out = "tags"
) %&gt;%
    opq_csv (fields = c ("name", "name:ca"))
cities &lt;- osmdata_data_frame (qid)

## End(Not run)
</code></pre>

<hr>
<h2 id='opq_enclosing'>opq_enclosing</h2><span id='topic+opq_enclosing'></span>

<h3>Description</h3>

<p>Find all features which enclose a given point, and optionally match specific
'key'-'value' pairs. This function is <em>not</em> intended to be combined with
<a href="#topic+add_osm_feature">add_osm_feature</a>, rather is only to be used in the sequence
<a href="#topic+opq_enclosing">opq_enclosing</a> -&gt; <a href="#topic+opq_string">opq_string</a> -&gt; <a href="#topic+osmdata_xml">osmdata_xml</a> (or other
extraction function). See examples for how to use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opq_enclosing(
  lon = NULL,
  lat = NULL,
  key = NULL,
  value = NULL,
  enclosing = "relation",
  timeout = 25
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opq_enclosing_+3A_lon">lon</code></td>
<td>
<p>Longitude of desired point</p>
</td></tr>
<tr><td><code id="opq_enclosing_+3A_lat">lat</code></td>
<td>
<p>Latitude of desired point</p>
</td></tr>
<tr><td><code id="opq_enclosing_+3A_key">key</code></td>
<td>
<p>(Optional) OSM key of enclosing data</p>
</td></tr>
<tr><td><code id="opq_enclosing_+3A_value">value</code></td>
<td>
<p>(Optional) OSM value matching 'key' of enclosing data</p>
</td></tr>
<tr><td><code id="opq_enclosing_+3A_enclosing">enclosing</code></td>
<td>
<p>Either 'relation' or 'way' for whether to return enclosing
objects of those respective types (where generally 'relation' will correspond
to multipolygon objects, and 'way' to polygon objects).</p>
</td></tr>
<tr><td><code id="opq_enclosing_+3A_timeout">timeout</code></td>
<td>
<p>It may be necessary to increase this value for large queries,
because the server may time out before all data are delivered.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get water body surrounding a particular point:
lat &lt;- 54.33601
lon &lt;- -3.07677
key &lt;- "natural"
value &lt;- "water"
x &lt;- opq_enclosing (lon, lat, key, value) %&gt;%
    opq_string () %&gt;%
    osmdata_sf ()

## End(Not run)
</code></pre>

<hr>
<h2 id='opq_osm_id'>Add a feature specified by OSM ID to an Overpass query</h2><span id='topic+opq_osm_id'></span>

<h3>Description</h3>

<p>Add a feature specified by OSM ID to an Overpass query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opq_osm_id(
  id = NULL,
  type = NULL,
  open_url = FALSE,
  out = "body",
  datetime = NULL,
  datetime2 = NULL,
  adiff = FALSE,
  timeout = 25,
  memsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opq_osm_id_+3A_id">id</code></td>
<td>
<p>One or more official OSM identifiers (long-form integers), which
must be entered as either a character or <em>numeric</em> value (because R does
not support long-form integers). id can also be a character string
prefixed with the id type, e.g. &quot;relation/11158003&quot;</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_type">type</code></td>
<td>
<p>Type of objects (recycled); must be either <code>node</code>, <code>way</code>, or
<code>relation</code>. Optional if id is prefixed with the type.</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_open_url">open_url</code></td>
<td>
<p>If <code>TRUE</code>, open the OSM page of the specified object in web
browser. Multiple objects (<code>id</code> values) will be opened in multiple
pages.</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_out">out</code></td>
<td>
<p>The level of verbosity of the overpass result: <code>body</code> (geometries
and tags, the default), <code>tags</code> (tags without geometry), <code>meta</code> (like
body + Timestamp, Version, Changeset, User, User ID of the last
edition), <code>skel</code> (geometries only), <code style="white-space: pre;">&#8288;tags center&#8288;</code> (tags without geometry
+ the coordinates of the center of the bounding box) and <code>ids</code> (type and
id of the objects only).</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_datetime">datetime</code></td>
<td>
<p>If specified, a date and time to extract data from the OSM
database as it was up to the specified date and time, as described at
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#date">https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#date</a>.
This <em>must</em> be in ISO8601 format (&quot;YYYY-MM-DDThh:mm:ssZ&quot;), where
both the &quot;T&quot; and &quot;Z&quot; characters must be present.</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_datetime2">datetime2</code></td>
<td>
<p>If specified, return the <em>difference</em> in the OSM
database between <code>datetime</code> and <code>datetime2</code>, where
<code>datetime2 &gt; datetime</code>. See
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Difference_between_two_dates_(diff)">https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Difference_between_two_dates_(diff)</a>.</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_adiff">adiff</code></td>
<td>
<p>If <code>TRUE</code>, query for <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Augmented-difference_between_two_dates_(adiff)">augmented difference</a>.
The result indicates what happened to the modified and deleted OSM
objects. Requires <code style="white-space: pre;">&#8288;datetime(2)*&#8288;</code>.</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_timeout">timeout</code></td>
<td>
<p>It may be necessary to increase this value for large queries,
because the server may time out before all data are delivered.</p>
</td></tr>
<tr><td><code id="opq_osm_id_+3A_memsize">memsize</code></td>
<td>
<p>The default memory size for the 'overpass' server in <em>bytes</em>;
may need to be increased in order to handle large queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="#topic+opq">opq</a> object
</p>


<h3>Note</h3>

<p>Extracting elements by ID requires explicitly specifying the type of
element. Only elements of one of the three given types can be extracted in a
single query, but the results of multiple types can nevertheless be combined
with the <a href="base.html#topic+c">c</a> operation of <a href="#topic+osmdata">osmdata</a>.
</p>


<h3>References</h3>

<p><a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_element_id">https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_element_id</a>
</p>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
id &lt;- c (1489221200, 1489221321, 1489221491)
dat1 &lt;- opq_osm_id (type = "node", id = id) %&gt;%
    opq_string () %&gt;%
    osmdata_sf ()
dat1$osm_points # the desired nodes
id &lt;- c (136190595, 136190596)
dat2 &lt;- opq_osm_id (type = "way", id = id) %&gt;%
    opq_string () %&gt;%
    osmdata_sf ()
dat2$osm_lines # the desired ways
dat &lt;- c (dat1, dat2) # The node and way data combined
# All in one (same result as dat)
id &lt;- c (1489221200, 1489221321, 1489221491, 136190595, 136190596)
type &lt;- c ("node", "node", "node", "way", "way")
datAiO &lt;- opq_osm_id (id = id, type = type) %&gt;%
    opq_string () %&gt;%
    osmdata_sf ()

## End(Not run)
</code></pre>

<hr>
<h2 id='opq_string'>Convert an overpass query into a text string</h2><span id='topic+opq_string'></span><span id='topic+opq_to_string'></span>

<h3>Description</h3>

<p>Convert an osmdata query of class opq to a character string query to
be submitted to the overpass API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opq_string(opq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opq_string_+3A_opq">opq</code></td>
<td>
<p>An <code>overpass_query</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character string to be submitted to the overpass API
</p>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>,
<code><a href="#topic+overpass_status">overpass_status</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
q &lt;- opq ("hampi india")
opq_string (q)

## End(Not run)
</code></pre>

<hr>
<h2 id='osm_elevation'>osm_elevation</h2><span id='topic+osm_elevation'></span>

<h3>Description</h3>

<p>Add elevation data to a previously-extracted OSM data set, using a
pre-downloaded global elevation file from
<a href="https://srtm.csi.cgiar.org/srtmdata/">https://srtm.csi.cgiar.org/srtmdata/</a>. Currently only works for
<code>SC</code>-class objects returned from <a href="#topic+osmdata_sc">osmdata_sc</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osm_elevation(dat, elev_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osm_elevation_+3A_dat">dat</code></td>
<td>
<p>An <code>SC</code> object produced by <a href="#topic+osmdata_sc">osmdata_sc</a>.</p>
</td></tr>
<tr><td><code id="osm_elevation_+3A_elev_file">elev_file</code></td>
<td>
<p>A vector of one or more character strings specifying paths
to <code>.tif</code> files containing global elevation data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified version of the input <code>dat</code> with an additional <code>z_</code> column
appended to the vertices.
</p>


<h3>See Also</h3>

<p>Other transform: 
<code><a href="#topic+osm_poly2line">osm_poly2line</a>()</code>,
<code><a href="#topic+trim_osmdata">trim_osmdata</a>()</code>,
<code><a href="#topic+unique_osmdata">unique_osmdata</a>()</code>,
<code><a href="#topic+unname_osmdata_sf">unname_osmdata_sf</a>()</code>
</p>

<hr>
<h2 id='osm_lines'>Extract all <code>osm_lines</code> from an osmdata object</h2><span id='topic+osm_lines'></span>

<h3>Description</h3>

<p>If <code>id</code> is of a point object, <code>osm_lines</code> will return all lines
containing that point. If <code>id</code> is of a line or polygon object,
<code>osm_lines</code> will return all lines which intersect the given line or
polygon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osm_lines(dat, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osm_lines_+3A_dat">dat</code></td>
<td>
<p>An object of class <a href="#topic+osmdata">osmdata</a></p>
</td></tr>
<tr><td><code id="osm_lines_+3A_id">id</code></td>
<td>
<p>OSM identification of one or more objects for which lines are to be
extracted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <span class="pkg">sf</span> Simple Features Collection of linestrings
</p>


<h3>See Also</h3>

<p>Other search: 
<code><a href="#topic+osm_multilines">osm_multilines</a>()</code>,
<code><a href="#topic+osm_multipolygons">osm_multipolygons</a>()</code>,
<code><a href="#topic+osm_points">osm_points</a>()</code>,
<code><a href="#topic+osm_polygons">osm_polygons</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dat &lt;- opq ("hengelo nl") %&gt;%
    add_osm_feature (key = "highway") %&gt;%
    osmdata_sf ()
bus &lt;- dat$osm_points [which (dat$osm_points$highway == "bus_stop"), ] %&gt;%
    rownames () # all OSM IDs of bus stops
osm_lines (dat, bus) # all highways containing bus stops

# All lines which intersect with Piccadilly Circus in London, UK
dat &lt;- opq ("Fitzrovia London") %&gt;%
    add_osm_feature (key = "highway") %&gt;%
    osmdata_sf ()
i &lt;- which (dat$osm_polygons$name == "Piccadilly Circus")
id &lt;- rownames (dat$osm_polygons [i, ])
osm_lines (dat, id)

## End(Not run)
</code></pre>

<hr>
<h2 id='osm_multilines'>Extract all <code>osm_multilines</code> from an osmdata object</h2><span id='topic+osm_multilines'></span>

<h3>Description</h3>

<p><code>id</code> must be of an <code>osm_points</code> or <code>osm_lines</code> object (and can
not be the <code>id</code> of an <code>osm_polygons</code> object because multilines by
definition contain no polygons.  <code>osm_multilines</code> returns any multiline
object(s) which contain the object specified by <code>id</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osm_multilines(dat, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osm_multilines_+3A_dat">dat</code></td>
<td>
<p>An object of class <a href="#topic+osmdata">osmdata</a></p>
</td></tr>
<tr><td><code id="osm_multilines_+3A_id">id</code></td>
<td>
<p>OSM identification of one of more objects for which multilines are
to be extracted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <span class="pkg">sf</span> Simple Features Collection of multilines
</p>


<h3>See Also</h3>

<p>Other search: 
<code><a href="#topic+osm_lines">osm_lines</a>()</code>,
<code><a href="#topic+osm_multipolygons">osm_multipolygons</a>()</code>,
<code><a href="#topic+osm_points">osm_points</a>()</code>,
<code><a href="#topic+osm_polygons">osm_polygons</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dat &lt;- opq ("London UK") %&gt;%
    add_osm_feature (key = "name", value = "Thames", exact = FALSE) %&gt;%
    osmdata_sf ()
# Get ids of lines called "The Thames":
id &lt;- rownames (dat$osm_lines [which (dat$osm_lines$name == "The Thames"), ])
# and find all multilinestring objects which include those lines:
osm_multilines (dat, id)
# Now note that
nrow (dat$osm_multilines) # = 24 multiline objects
nrow (osm_multilines (dat, id)) # = 1 - the recursive search selects the
# single multiline containing "The Thames"

## End(Not run)
</code></pre>

<hr>
<h2 id='osm_multipolygons'>Extract all <code>osm_multipolygons</code> from an osmdata object</h2><span id='topic+osm_multipolygons'></span>

<h3>Description</h3>

<p><code>id</code> must be of an <code>osm_points</code>, <code>osm_lines</code>, or
<code>osm_polygons</code> object. <code>osm_multipolygons</code> returns any multipolygon
object(s) which contain the object specified by <code>id</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osm_multipolygons(dat, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osm_multipolygons_+3A_dat">dat</code></td>
<td>
<p>An object of class <a href="#topic+osmdata">osmdata</a></p>
</td></tr>
<tr><td><code id="osm_multipolygons_+3A_id">id</code></td>
<td>
<p>OSM identification of one or more objects for which multipolygons
are to be extracted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <span class="pkg">sf</span> Simple Features Collection of multipolygons
</p>


<h3>See Also</h3>

<p>Other search: 
<code><a href="#topic+osm_lines">osm_lines</a>()</code>,
<code><a href="#topic+osm_multilines">osm_multilines</a>()</code>,
<code><a href="#topic+osm_points">osm_points</a>()</code>,
<code><a href="#topic+osm_polygons">osm_polygons</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# find all multipolygons which contain the single polygon called
# "Chiswick Eyot" (which is an island).
dat &lt;- opq ("London UK") %&gt;%
    add_osm_feature (key = "name", value = "Thames", exact = FALSE) %&gt;%
    osmdata_sf ()
index &lt;- which (dat$osm_multipolygons$name == "Chiswick Eyot")
id &lt;- rownames (dat$osm_polygons [id, ])
osm_multipolygons (dat, id)
# That multipolygon is the Thames itself, but note that
nrow (dat$osm_multipolygons) # = 14 multipolygon objects
nrow (osm_multipolygons (dat, id)) # = 1 - the main Thames multipolygon

## End(Not run)
</code></pre>

<hr>
<h2 id='osm_points'>Extract all <code>osm_points</code> from an osmdata object</h2><span id='topic+osm_points'></span>

<h3>Description</h3>

<p>Extract all <code>osm_points</code> from an osmdata object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osm_points(dat, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osm_points_+3A_dat">dat</code></td>
<td>
<p>An object of class <a href="#topic+osmdata">osmdata</a></p>
</td></tr>
<tr><td><code id="osm_points_+3A_id">id</code></td>
<td>
<p>OSM identification of one or more objects for which points are to
be extracted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <span class="pkg">sf</span> Simple Features Collection of points
</p>


<h3>See Also</h3>

<p>Other search: 
<code><a href="#topic+osm_lines">osm_lines</a>()</code>,
<code><a href="#topic+osm_multilines">osm_multilines</a>()</code>,
<code><a href="#topic+osm_multipolygons">osm_multipolygons</a>()</code>,
<code><a href="#topic+osm_polygons">osm_polygons</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tr &lt;- opq ("trentham australia") %&gt;% osmdata_sf ()
coliban &lt;- tr$osm_lines [which (tr$osm_lines$name == "Coliban River"), ]
pts &lt;- osm_points (tr, rownames (coliban)) # all points of river
# the waterfall point:
waterfall &lt;- pts [which (pts$waterway == "waterfall"), ]

## End(Not run)
</code></pre>

<hr>
<h2 id='osm_poly2line'>Convert osmdata polygons into lines</h2><span id='topic+osm_poly2line'></span>

<h3>Description</h3>

<p>Street networks downloaded with <code>add_osm_object(key = "highway")</code> will
store any circular highways in <code>osm_polygons</code>. this function combines
those with the <code>osm_lines</code> component to yield a single <span class="pkg">sf</span>
<code>data.frame</code> of all highways, whether polygonal or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osm_poly2line(osmdat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osm_poly2line_+3A_osmdat">osmdat</code></td>
<td>
<p>An <a href="#topic+osmdata">osmdata</a> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Modified version of same object with all <code>osm_polygons</code>
objects merged into <code>osm_lines</code>.
</p>


<h3>Note</h3>

<p>The <code>osm_polygons</code> field is retained, with those features also
repeated as <code>LINESTRING</code> objects in <code>osm_lines</code>.
</p>


<h3>See Also</h3>

<p>Other transform: 
<code><a href="#topic+osm_elevation">osm_elevation</a>()</code>,
<code><a href="#topic+trim_osmdata">trim_osmdata</a>()</code>,
<code><a href="#topic+unique_osmdata">unique_osmdata</a>()</code>,
<code><a href="#topic+unname_osmdata_sf">unname_osmdata_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dat &lt;- opq ("colchester uk") %&gt;%
    add_osm_feature (key = "highway") %&gt;%
    osmdata_sf ()
# colchester has lots of roundabouts, and these are stored in 'osm_polygons'
# rather than 'osm_lines'. The former can be merged with the latter by:
dat2 &lt;- osm_poly2line (dat)
# 'dat2' will have more lines than 'dat', but the same number of polygons
# (they are left unchanged.)

## End(Not run)
</code></pre>

<hr>
<h2 id='osm_polygons'>Extract all <code>osm_polygons</code> from an osmdata object</h2><span id='topic+osm_polygons'></span>

<h3>Description</h3>

<p>If <code>id</code> is of a point object, <code>osm_polygons</code> will return all
polygons containing that point. If <code>id</code> is of a line or polygon object,
<code>osm_polygons</code> will return all polygons which intersect the given line
or polygon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osm_polygons(dat, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osm_polygons_+3A_dat">dat</code></td>
<td>
<p>An object of class <a href="#topic+osmdata">osmdata</a></p>
</td></tr>
<tr><td><code id="osm_polygons_+3A_id">id</code></td>
<td>
<p>OSM identification of one or more objects for which polygons are to
be extracted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <span class="pkg">sf</span> Simple Features Collection of polygons
</p>


<h3>See Also</h3>

<p>Other search: 
<code><a href="#topic+osm_lines">osm_lines</a>()</code>,
<code><a href="#topic+osm_multilines">osm_multilines</a>()</code>,
<code><a href="#topic+osm_multipolygons">osm_multipolygons</a>()</code>,
<code><a href="#topic+osm_points">osm_points</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Extract polygons which intersect Conway Street in London
dat &lt;- opq ("Marylebone London") %&gt;%
    add_osm_feature (key = "highway") %&gt;%
    osmdata_sf ()
conway &lt;- which (dat$osm_lines$name == "Conway Street")
id &lt;- rownames (dat$osm_lines [conway, ])
osm_polygons (dat, id)

## End(Not run)
</code></pre>

<hr>
<h2 id='osmdata'>osmdata class def</h2><span id='topic+osmdata'></span>

<h3>Description</h3>

<p>Imports OpenStreetMap (OSM) data into R as 'sf', 'SC', 'sp', 'data.frame' or
'xml_document' objects. OSM data are extracted from the overpass API and
processed with very fast C++ routines for return to R. The package enables
simple overpass queries to be constructed without the user necessarily
understanding the syntax of the overpass query language, while retaining the
ability to handle arbitrarily complex queries. Functions are also provided to
enable recursive searching between different kinds of OSM data (for example,
to find all lines which intersect a given point).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osmdata(
  bbox = NULL,
  overpass_call = NULL,
  meta = NULL,
  osm_points = NULL,
  osm_lines = NULL,
  osm_polygons = NULL,
  osm_multilines = NULL,
  osm_multipolygons = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osmdata_+3A_bbox">bbox</code></td>
<td>
<p>bounding box</p>
</td></tr>
<tr><td><code id="osmdata_+3A_overpass_call">overpass_call</code></td>
<td>
<p>overpass_call</p>
</td></tr>
<tr><td><code id="osmdata_+3A_meta">meta</code></td>
<td>
<p>metadata of overpass query, including timestamps and version
numbers</p>
</td></tr>
<tr><td><code id="osmdata_+3A_osm_points">osm_points</code></td>
<td>
<p>OSM nodes as <span class="pkg">sf</span> Simple Features Collection of points
or <span class="pkg">sp</span> SpatialPointsDataFrame</p>
</td></tr>
<tr><td><code id="osmdata_+3A_osm_lines">osm_lines</code></td>
<td>
<p>OSM ways <span class="pkg">sf</span> Simple Features Collection of linestrings
or <span class="pkg">sp</span> SpatialLinesDataFrame</p>
</td></tr>
<tr><td><code id="osmdata_+3A_osm_polygons">osm_polygons</code></td>
<td>
<p>OSM ways as <span class="pkg">sf</span> Simple Features Collection of
polygons or <span class="pkg">sp</span> SpatialPolygonsDataFrame</p>
</td></tr>
<tr><td><code id="osmdata_+3A_osm_multilines">osm_multilines</code></td>
<td>
<p>OSM relations as <span class="pkg">sf</span> Simple Features Collection
of multilinestrings or <span class="pkg">sp</span> SpatialLinesDataFrame</p>
</td></tr>
<tr><td><code id="osmdata_+3A_osm_multipolygons">osm_multipolygons</code></td>
<td>
<p>OSM relations as <span class="pkg">sf</span> Simple Features
Collection of multipolygons or <span class="pkg">sp</span>
SpatialPolygonsDataFrame</p>
</td></tr>
</table>


<h3>Functions to Prepare Queries</h3>


<ul>
<li> <p><a href="#topic+getbb">getbb</a>: Get bounding box for a given place name
</p>
</li>
<li> <p><a href="#topic+bbox_to_string">bbox_to_string</a>: Convert a named matrix or a named vector
(or an unnamed vector) return a string
</p>
</li>
<li> <p><a href="#topic+overpass_status">overpass_status</a>: Retrieve status of the overpass API
</p>
</li>
<li> <p><a href="#topic+opq">opq</a>: Build an overpass query
</p>
</li>
<li> <p><a href="#topic+add_osm_feature">add_osm_feature</a>: Add a feature to an overpass query
</p>
</li>
<li> <p><a href="#topic+opq_string">opq_string</a>: Convert an osmdata query to overpass API
string
</p>
</li></ul>



<h3>Functions to Get Additional OSM Information</h3>


<ul>
<li> <p><a href="#topic+available_features">available_features</a>: List recognised features in OSM
</p>
</li>
<li> <p><a href="#topic+available_tags">available_tags</a>: List tags associated with a feature
</p>
</li></ul>



<h3>Functions to Extract OSM Data</h3>


<ul>
<li> <p><a href="#topic+osmdata_data_frame">osmdata_data_frame</a>: Return OSM data in <code><a href="base.html#topic+data.frame">data.frame</a></code>
format
</p>
</li>
<li> <p><a href="#topic+osmdata_sc">osmdata_sc</a>: Return OSM data in <span class="pkg">silicate</span> format
</p>
</li>
<li> <p><a href="#topic+osmdata_sf">osmdata_sf</a>: Return OSM data in <span class="pkg">sf</span> format
</p>
</li>
<li> <p><a href="#topic+osmdata_sp">osmdata_sp</a>: Return OSM data in <span class="pkg">sp</span> format
</p>
</li>
<li> <p><a href="#topic+osmdata_xml">osmdata_xml</a>: Return OSM data in <span class="pkg">xml2</span> format
</p>
</li></ul>



<h3>Functions to Search Data</h3>


<ul>
<li> <p><code>osm_points</code>: Extract all <code>osm_points</code> objects
</p>
</li>
<li> <p><code>osm_lines</code>: Extract all <code>osm_lines</code> objects
</p>
</li>
<li> <p><code>osm_polygons</code>: Extract all <code>osm_polygons</code> objects
</p>
</li>
<li> <p><code>osm_multilines</code>: Extract all <code>osm_multilines</code> objects
</p>
</li>
<li> <p><code>osm_multipolygons</code>: Extract all <code>osm_multipolygons</code> objects
</p>
</li></ul>



<h3>Note</h3>

<p>Class constructor should never be used directly, and is only exported
to provide access to the print method
</p>


<h3>Author(s)</h3>

<p>Mark Padgham, Bob Rudis, Robin Lovelace, MaÃ«lle Salmon, Joan Maspons
</p>

<hr>
<h2 id='osmdata_data_frame'>Return an OSM Overpass query as a <a href="base.html#topic+data.frame">data.frame</a> object.</h2><span id='topic+osmdata_data_frame'></span>

<h3>Description</h3>

<p>Return an OSM Overpass query as a <a href="base.html#topic+data.frame">data.frame</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osmdata_data_frame(q, doc, quiet = TRUE, stringsAsFactors = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osmdata_data_frame_+3A_q">q</code></td>
<td>
<p>An object of class <code>overpass_query</code> constructed with
<a href="#topic+opq">opq</a> and <a href="#topic+add_osm_feature">add_osm_feature</a>. May be be omitted,
in which case the attributes of the <a href="base.html#topic+data.frame">data.frame</a> will not include
the query.</p>
</td></tr>
<tr><td><code id="osmdata_data_frame_+3A_doc">doc</code></td>
<td>
<p>If missing, <code>doc</code> is obtained by issuing the overpass query,
<code>q</code>, otherwise either the name of a file from which to read data,
or an object of class <span class="pkg">xml2</span> returned from
<a href="#topic+osmdata_xml">osmdata_xml</a>.</p>
</td></tr>
<tr><td><code id="osmdata_data_frame_+3A_quiet">quiet</code></td>
<td>
<p>suppress status messages.</p>
</td></tr>
<tr><td><code id="osmdata_data_frame_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>Should character strings in the 'data.frame' be
coerced to factors?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you are not interested in the geometries of the results, it's a
good option to query for objects that match the features only and forget
about members of the ways and relations. You can achieve this by passing
the parameter <code>body = "tags"</code> to <code><a href="#topic+opq">opq</a></code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with id, type and tags of the the objects from the
query.
</p>


<h3>See Also</h3>

<p>Other extract: 
<code><a href="#topic+osmdata_sc">osmdata_sc</a>()</code>,
<code><a href="#topic+osmdata_sf">osmdata_sf</a>()</code>,
<code><a href="#topic+osmdata_sp">osmdata_sp</a>()</code>,
<code><a href="#topic+osmdata_xml">osmdata_xml</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hampi_df &lt;- opq ("hampi india") %&gt;%
    add_osm_feature (key = "historic", value = "ruins") %&gt;%
    osmdata_data_frame ()
attr (hampi_df, "bbox")
attr (hampi_df, "overpass_call")
attr (hampi_df, "meta")

## End(Not run)
</code></pre>

<hr>
<h2 id='osmdata_sc'>Return an OSM Overpass query as an <a href="#topic+osmdata">osmdata</a> object in
<code>silicate</code> (<code>SC</code>) format.</h2><span id='topic+osmdata_sc'></span>

<h3>Description</h3>

<p>Return an OSM Overpass query as an <a href="#topic+osmdata">osmdata</a> object in
<code>silicate</code> (<code>SC</code>) format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osmdata_sc(q, doc, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osmdata_sc_+3A_q">q</code></td>
<td>
<p>An object of class <code>overpass_query</code> constructed with
<a href="#topic+opq">opq</a> and <a href="#topic+add_osm_feature">add_osm_feature</a>. May be be omitted,
in which case the <a href="#topic+osmdata">osmdata</a> object will not include the
query.</p>
</td></tr>
<tr><td><code id="osmdata_sc_+3A_doc">doc</code></td>
<td>
<p>If missing, <code>doc</code> is obtained by issuing the overpass query,
<code>q</code>, otherwise either the name of a file from which to read data,
or an object of class <span class="pkg">xml2</span> returned from
<a href="#topic+osmdata_xml">osmdata_xml</a>.</p>
</td></tr>
<tr><td><code id="osmdata_sc_+3A_quiet">quiet</code></td>
<td>
<p>suppress status messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>osmdata_sc</code> representing the original OSM hierarchy
of nodes, ways, and relations.
</p>


<h3>Note</h3>

<p>The <code>silicate</code> format is currently highly experimental, and
recommended for use only if you really know what you're doing.
</p>


<h3>See Also</h3>

<p>Other extract: 
<code><a href="#topic+osmdata_data_frame">osmdata_data_frame</a>()</code>,
<code><a href="#topic+osmdata_sf">osmdata_sf</a>()</code>,
<code><a href="#topic+osmdata_sp">osmdata_sp</a>()</code>,
<code><a href="#topic+osmdata_xml">osmdata_xml</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hampi_sf &lt;- opq ("hampi india") %&gt;%
    add_osm_feature (key = "historic", value = "ruins") %&gt;%
    osmdata_sc ()

## End(Not run)
</code></pre>

<hr>
<h2 id='osmdata_sf'>Return an OSM Overpass query as an <a href="#topic+osmdata">osmdata</a> object in <span class="pkg">sf</span>
format.</h2><span id='topic+osmdata_sf'></span>

<h3>Description</h3>

<p>Return an OSM Overpass query as an <a href="#topic+osmdata">osmdata</a> object in <span class="pkg">sf</span>
format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osmdata_sf(q, doc, quiet = TRUE, stringsAsFactors = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osmdata_sf_+3A_q">q</code></td>
<td>
<p>An object of class <code>overpass_query</code> constructed with
<a href="#topic+opq">opq</a> and <a href="#topic+add_osm_feature">add_osm_feature</a>. May be be omitted,
in which case the <a href="#topic+osmdata">osmdata</a> object will not include the
query.</p>
</td></tr>
<tr><td><code id="osmdata_sf_+3A_doc">doc</code></td>
<td>
<p>If missing, <code>doc</code> is obtained by issuing the overpass query,
<code>q</code>, otherwise either the name of a file from which to read data,
or an object of class <span class="pkg">xml2</span> returned from
<a href="#topic+osmdata_xml">osmdata_xml</a>.</p>
</td></tr>
<tr><td><code id="osmdata_sf_+3A_quiet">quiet</code></td>
<td>
<p>suppress status messages.</p>
</td></tr>
<tr><td><code id="osmdata_sf_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>Should character strings in 'sf' 'data.frame' be
coerced to factors?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>osmdata</code> with the OSM components (points, lines,
and polygons) represented in <span class="pkg">sf</span> format.
</p>


<h3>See Also</h3>

<p>Other extract: 
<code><a href="#topic+osmdata_data_frame">osmdata_data_frame</a>()</code>,
<code><a href="#topic+osmdata_sc">osmdata_sc</a>()</code>,
<code><a href="#topic+osmdata_sp">osmdata_sp</a>()</code>,
<code><a href="#topic+osmdata_xml">osmdata_xml</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hampi_sf &lt;- opq ("hampi india") %&gt;%
    add_osm_feature (key = "historic", value = "ruins") %&gt;%
    osmdata_sf ()

## End(Not run)
</code></pre>

<hr>
<h2 id='osmdata_sp'>Return an OSM Overpass query as an <a href="#topic+osmdata">osmdata</a> object in <span class="pkg">sp</span>
format.</h2><span id='topic+osmdata_sp'></span>

<h3>Description</h3>

<p>Return an OSM Overpass query as an <a href="#topic+osmdata">osmdata</a> object in <span class="pkg">sp</span>
format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osmdata_sp(q, doc, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osmdata_sp_+3A_q">q</code></td>
<td>
<p>An object of class <code>overpass_query</code> constructed with
<a href="#topic+opq">opq</a> and <a href="#topic+add_osm_feature">add_osm_feature</a>. May be be omitted,
in which case the <a href="#topic+osmdata">osmdata</a> object will not include the
query.</p>
</td></tr>
<tr><td><code id="osmdata_sp_+3A_doc">doc</code></td>
<td>
<p>If missing, <code>doc</code> is obtained by issuing the overpass query,
<code>q</code>, otherwise either the name of a file from which to read data,
or an object of class <span class="pkg">xml2</span> returned from
<a href="#topic+osmdata_xml">osmdata_xml</a>.</p>
</td></tr>
<tr><td><code id="osmdata_sp_+3A_quiet">quiet</code></td>
<td>
<p>suppress status messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>osmdata</code> with the OSM components (points, lines,
and polygons) represented in <span class="pkg">sp</span> format.
</p>


<h3>See Also</h3>

<p>Other extract: 
<code><a href="#topic+osmdata_data_frame">osmdata_data_frame</a>()</code>,
<code><a href="#topic+osmdata_sc">osmdata_sc</a>()</code>,
<code><a href="#topic+osmdata_sf">osmdata_sf</a>()</code>,
<code><a href="#topic+osmdata_xml">osmdata_xml</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hampi_sp &lt;- opq ("hampi india") %&gt;%
    add_osm_feature (key = "historic", value = "ruins") %&gt;%
    osmdata_sp ()

## End(Not run)
</code></pre>

<hr>
<h2 id='osmdata_xml'>Return an OSM Overpass query in XML format
Read an (XML format) OSM Overpass response from a string, a connection,
or a raw vector.</h2><span id='topic+osmdata_xml'></span>

<h3>Description</h3>

<p>Return an OSM Overpass query in XML format
Read an (XML format) OSM Overpass response from a string, a connection,
or a raw vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osmdata_xml(q, filename, quiet = TRUE, encoding)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osmdata_xml_+3A_q">q</code></td>
<td>
<p>An object of class <code>overpass_query</code> constructed with
<a href="#topic+opq">opq</a> and <a href="#topic+add_osm_feature">add_osm_feature</a>.</p>
</td></tr>
<tr><td><code id="osmdata_xml_+3A_filename">filename</code></td>
<td>
<p>If given, OSM data are saved to the named file</p>
</td></tr>
<tr><td><code id="osmdata_xml_+3A_quiet">quiet</code></td>
<td>
<p>suppress status messages.</p>
</td></tr>
<tr><td><code id="osmdata_xml_+3A_encoding">encoding</code></td>
<td>
<p>Unless otherwise specified XML documents are assumed to be
encoded as UTF-8 or UTF-16. If the document is not UTF-8/16, and lacks
an explicit encoding directive, this allows you to supply a default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>xml2::xml_document</code> containing the result of the
overpass API query.
</p>


<h3>Note</h3>

<p>Objects of class <code>xml_document</code> can be saved as <code>.xml</code> or
<code>.osm</code> files with <code>xml2::write_xml</code>.
</p>


<h3>See Also</h3>

<p>Other extract: 
<code><a href="#topic+osmdata_data_frame">osmdata_data_frame</a>()</code>,
<code><a href="#topic+osmdata_sc">osmdata_sc</a>()</code>,
<code><a href="#topic+osmdata_sf">osmdata_sf</a>()</code>,
<code><a href="#topic+osmdata_sp">osmdata_sp</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
q &lt;- opq ("hampi india")
q &lt;- add_osm_feature (q, key = "historic", value = "ruins")
osmdata_xml (q, filename = "hampi.osm")

## End(Not run)
</code></pre>

<hr>
<h2 id='overpass_status'>Retrieve status of the Overpass API</h2><span id='topic+overpass_status'></span>

<h3>Description</h3>

<p>Retrieve status of the Overpass API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overpass_status(quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="overpass_status_+3A_quiet">quiet</code></td>
<td>
<p>if <code>FALSE</code> display a status message</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an invisible list of whether the API is available along with the
text of the message from Overpass and the timestamp of the
next available slot
</p>


<h3>See Also</h3>

<p>Other queries: 
<code><a href="#topic+add_osm_features">add_osm_features</a>()</code>,
<code><a href="#topic+add_osm_feature">add_osm_feature</a>()</code>,
<code><a href="#topic+bbox_to_string">bbox_to_string</a>()</code>,
<code><a href="#topic+getbb">getbb</a>()</code>,
<code><a href="#topic+opq_around">opq_around</a>()</code>,
<code><a href="#topic+opq_csv">opq_csv</a>()</code>,
<code><a href="#topic+opq_enclosing">opq_enclosing</a>()</code>,
<code><a href="#topic+opq_osm_id">opq_osm_id</a>()</code>,
<code><a href="#topic+opq_string">opq_string</a>()</code>,
<code><a href="#topic+opq">opq</a>()</code>
</p>

<hr>
<h2 id='set_overpass_url'>set_overpass_url</h2><span id='topic+set_overpass_url'></span>

<h3>Description</h3>

<p>Set the URL of the specified overpass API. Possible APIs with global coverage
are:
</p>

<ul>
<li><p> &quot;https://overpass-api.de/api/interpreter&quot; (default)
</p>
</li>
<li><p> &quot;https://overpass.kumi.systems/api/interpreter&quot;
</p>
</li>
<li><p> &quot;https://overpass.osm.rambler.ru/cgi/interpreter&quot;
</p>
</li>
<li><p> &quot;https://api.openstreetmap.fr/oapi/interpreter&quot;
</p>
</li>
<li><p> &quot;https://overpass.osm.vi-di.fr/api/interpreter&quot;
</p>
</li></ul>

<p>Additional APIs with limited local coverage include:
</p>

<ul>
<li><p> &quot;https://overpass.osm.ch/api/interpreter&quot; (Switzerland)
</p>
</li>
<li><p> &quot;https://overpass.openstreetmap.ie/api/interpreter&quot; (Ireland)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>set_overpass_url(overpass_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_overpass_url_+3A_overpass_url">overpass_url</code></td>
<td>
<p>The desired overpass API URL</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For further details, see
<a href="https://wiki.openstreetmap.org/wiki/Overpass_API">https://wiki.openstreetmap.org/wiki/Overpass_API</a>
</p>


<h3>Value</h3>

<p>The overpass API URL
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_overpass_url">get_overpass_url()</a></code>
</p>
<p>Other overpass: 
<code><a href="#topic+get_overpass_url">get_overpass_url</a>()</code>
</p>

<hr>
<h2 id='trim_osmdata'>trim_osmdata</h2><span id='topic+trim_osmdata'></span>

<h3>Description</h3>

<p>Trim an <a href="#topic+osmdata">osmdata</a> object to within a bounding polygon
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_osmdata(dat, bb_poly, exclude = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_osmdata_+3A_dat">dat</code></td>
<td>
<p>An <a href="#topic+osmdata">osmdata</a> object returned from <a href="#topic+osmdata_sf">osmdata_sf</a> or
<a href="#topic+osmdata_sp">osmdata_sp</a>.</p>
</td></tr>
<tr><td><code id="trim_osmdata_+3A_bb_poly">bb_poly</code></td>
<td>
<p>A matrix representing a bounding polygon obtained with
<code>getbb (..., format_out = "polygon")</code> (and possibly selected from
resultant list where multiple polygons are returned).</p>
</td></tr>
<tr><td><code id="trim_osmdata_+3A_exclude">exclude</code></td>
<td>
<p>If TRUE, objects are trimmed exclusively, only retaining those
strictly within the bounding polygon; otherwise all objects which partly
extend within the bounding polygon are retained.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A trimmed version of <code>dat</code>, reduced only to those components
lying within the bounding polygon.
</p>


<h3>Note</h3>

<p>It will generally be necessary to pre-load the <span class="pkg">sf</span> package for
this function to work correctly.
</p>
<p>Caution is advised when using polygons obtained from Nominatim via
<code>getbb(..., format_out = "polygon"|"sf_polygon")</code>. These shapes can be
outdated and thus could cause the trimming operation to not give results
expected based on the current state of the OSM data.
</p>


<h3>See Also</h3>

<p>Other transform: 
<code><a href="#topic+osm_elevation">osm_elevation</a>()</code>,
<code><a href="#topic+osm_poly2line">osm_poly2line</a>()</code>,
<code><a href="#topic+unique_osmdata">unique_osmdata</a>()</code>,
<code><a href="#topic+unname_osmdata_sf">unname_osmdata_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dat &lt;- opq ("colchester uk") %&gt;%
    add_osm_feature (key = "highway") %&gt;%
    osmdata_sf (quiet = FALSE)
bb &lt;- getbb ("colchester uk", format_out = "polygon")
library (sf) # required for this function to work
dat_tr &lt;- trim_osmdata (dat, bb)
bb &lt;- getbb ("colchester uk", format_out = "sf_polygon")
class (bb) # sf data.frame
dat_tr &lt;- trim_osmdata (dat, bb)
bb &lt;- as (bb, "Spatial")
class (bb) # SpatialPolygonsDataFrame
dat_tr &lt;- trim_osmdata (dat, bb)

## End(Not run)
</code></pre>

<hr>
<h2 id='unique_osmdata'>unique_osmdata</h2><span id='topic+unique_osmdata'></span>

<h3>Description</h3>

<p>Reduce the components of an <a href="#topic+osmdata">osmdata</a> object to only unique items of
each type. That is, reduce <code style="white-space: pre;">&#8288;$osm_points&#8288;</code> to only those points not
present in other objects (lines, polygons, etc.); reduce <code style="white-space: pre;">&#8288;$osm_lines&#8288;</code> to
only those lines not present in multiline objects; and reduce
<code style="white-space: pre;">&#8288;$osm_polygons&#8288;</code> to only those polygons not present in multipolygon
objects. This renders an <a href="#topic+osmdata">osmdata</a> object more directly compatible with
typical output of <span class="pkg">sf</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unique_osmdata(dat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unique_osmdata_+3A_dat">dat</code></td>
<td>
<p>An <a href="#topic+osmdata">osmdata</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Equivalent object reduced to only unique objects of each type
</p>


<h3>See Also</h3>

<p>Other transform: 
<code><a href="#topic+osm_elevation">osm_elevation</a>()</code>,
<code><a href="#topic+osm_poly2line">osm_poly2line</a>()</code>,
<code><a href="#topic+trim_osmdata">trim_osmdata</a>()</code>,
<code><a href="#topic+unname_osmdata_sf">unname_osmdata_sf</a>()</code>
</p>

<hr>
<h2 id='unname_osmdata_sf'>unname_osmdata_sf</h2><span id='topic+unname_osmdata_sf'></span>

<h3>Description</h3>

<p>Remove names from <code>osmdata</code> geometry objects, for cases in which these cause
issues, particularly with plotting, such as
<a href="https://github.com/rstudio/leaflet/issues/631">https://github.com/rstudio/leaflet/issues/631</a>, or
<a href="https://github.com/r-spatial/sf/issues/1177">https://github.com/r-spatial/sf/issues/1177</a>. Note that removing these
names also removes any ability to inter-relate the different components of an
<code>osmdata</code> object, so use of this function is only recommended to resolve
issues such as those linked to above.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unname_osmdata_sf(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unname_osmdata_sf_+3A_x">x</code></td>
<td>
<p>An 'osmdata_sf' object returned from function of same name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Same object, yet with no row names on geometry objects.
</p>


<h3>See Also</h3>

<p>Other transform: 
<code><a href="#topic+osm_elevation">osm_elevation</a>()</code>,
<code><a href="#topic+osm_poly2line">osm_poly2line</a>()</code>,
<code><a href="#topic+trim_osmdata">trim_osmdata</a>()</code>,
<code><a href="#topic+unique_osmdata">unique_osmdata</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hampi_sf &lt;- opq ("hampi india") %&gt;%
    add_osm_feature (key = "historic", value = "ruins") %&gt;%
    osmdata_sf ()
hampi_clean &lt;- unname_osmdata_sf (hampi_sf)

# All coordinate matrices include rownames with OSM ID values:
head (as.matrix (hampi_sf$osm_lines$geometry [[1]]))
# But 'unname_osmdata_sf' removes both row and column names:
head (as.matrix (hampi_clean$osm_lines$geometry [[1]]))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

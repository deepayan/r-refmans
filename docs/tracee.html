<!DOCTYPE html><html><head><title>Help for package tracee</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tracee}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#canvasSize'><p>Get predefined canvas sizes</p></a></li>
<li><a href='#createStamp'><p>Create a stamp with script path, output file path and time stamp</p>
in it.</a></li>
<li><a href='#ftstamp'><p>Stamp and write flextab objects to one or multiple formats</p></a></li>
<li><a href='#ftwrite'><p>Stamp and write flextab objects to one or multiple formats</p></a></li>
<li><a href='#ggstamp'><p>Always stamp your plots with script name</p></a></li>
<li><a href='#ggwater'><p>Add watermarks to ggplots</p></a></li>
<li><a href='#ggwrite'><p>Export plots created with ggplot (and more) or tables to files</p>
(png or pdf) - or show them on screen.</a></li>
<li><a href='#stampFlextab'><p>Stamp and write flextab objects to one or multiple formats</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Easily Save Output and Trace it Back to Code</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philip Delff &lt;philip@delff.dk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Write output (plots and tables) ensuring traceability back to code. Includes a graphics saver with simple automation of stamping with source, destination and creation time. A list of plots can be saved at once. A user-friendly selection of output dimensions for presentations, on-screen inspections, and more available.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>NMdata (&ge; 0.0.14), data.table, ggplot2, grid, gridExtra,
flextable</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-08 14:35:39 UTC; philipde</td>
</tr>
<tr>
<td>Author:</td>
<td>Philip Delff [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-08 21:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='canvasSize'>Get predefined canvas sizes</h2><span id='topic+canvasSize'></span>

<h3>Description</h3>

<p>Get predefined canvas sizes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>canvasSize(canvas, scale = 1, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="canvasSize_+3A_canvas">canvas</code></td>
<td>
<p>Can either be a character with one of the values
</p>

<ul>
<li><p>&quot;standard&quot; A powerpoint standard size, and
two can be shown side by side - 7.2 by 5.4 in (WxH).
</p>
</li>
<li><p>&quot;wide&quot; For a single wide plot on a powerpoint slide - 9.6 by 5.4 in
</p>
</li>
<li><p>&quot;A4&quot; A full A4 page - 5.4 by 7.2 in
</p>
</li>
<li><p>&quot;square&quot; As reads - 5.4 by 5.4 in
</p>
</li>
<li><p>&quot;wide-screen&quot; For full screen display - 18.6 by 9 in
</p>
</li></ul>

<p>or it can be a list with elements
width and height with single values (unit is inches). Example:
canvas=list(height=5,width=9).</p>
</td></tr>
<tr><td><code id="canvasSize_+3A_scale">scale</code></td>
<td>
<p>A scale to apply to both directions of the canvas
size. This can be useful in combination with the pre-defined
canvas sizes.</p>
</td></tr>
<tr><td><code id="canvasSize_+3A_simplify">simplify</code></td>
<td>
<p>If only one canvas returned and simplify=TRUE, the
result will not be wrapped in a list. For programming, you
most likely want simplify=FALSE to be sure to always get the
same format back.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with numerical elements width and height as used by
ggwrite.
</p>


<h3>See Also</h3>

<p>Other Plotting: 
<code><a href="#topic+ggstamp">ggstamp</a>()</code>,
<code><a href="#topic+ggwater">ggwater</a>()</code>,
<code><a href="#topic+ggwrite">ggwrite</a>()</code>
</p>

<hr>
<h2 id='createStamp'>Create a stamp with script path, output file path and time stamp
in it.</h2><span id='topic+createStamp'></span>

<h3>Description</h3>

<p>Create a stamp with script path, output file path and time stamp
in it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createStamp(script, file, time, addto)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createStamp_+3A_script">script</code></td>
<td>
<p>The script path</p>
</td></tr>
<tr><td><code id="createStamp_+3A_file">file</code></td>
<td>
<p>the output file path</p>
</td></tr>
<tr><td><code id="createStamp_+3A_time">time</code></td>
<td>
<p>The default is to insert a time stamp taken from
result of Sys.time(). Using the time argument you can overrule
this by setting a fixed string instead. Use &quot;&quot; to omit.</p>
</td></tr>
<tr><td><code id="createStamp_+3A_addto">addto</code></td>
<td>
<p>An existing caption to keep above the caption created
by this function.</p>
</td></tr>
</table>

<hr>
<h2 id='ftstamp'>Stamp and write flextab objects to one or multiple formats</h2><span id='topic+ftstamp'></span>

<h3>Description</h3>

<p>Stamp and write flextab objects to one or multiple formats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ftstamp(ft, file, script, bg = "#ffffff", time)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ftstamp_+3A_ft">ft</code></td>
<td>
<p>a flextable object</p>
</td></tr>
<tr><td><code id="ftstamp_+3A_file">file</code></td>
<td>
<p>The file that the flextable will be written to (no
file is written by this function)</p>
</td></tr>
<tr><td><code id="ftstamp_+3A_script">script</code></td>
<td>
<p>path to script - will be pasted as caption.</p>
</td></tr>
<tr><td><code id="ftstamp_+3A_bg">bg</code></td>
<td>
<p>Default bacground colour is #ffffff.</p>
</td></tr>
<tr><td><code id="ftstamp_+3A_time">time</code></td>
<td>
<p>The default is to insert a time stamp taken from result of
Sys.time(). Using the time argument you can overrule this by
setting a fixed string instead. Use &quot;&quot; to omit.</p>
</td></tr>
</table>

<hr>
<h2 id='ftwrite'>Stamp and write flextab objects to one or multiple formats</h2><span id='topic+ftwrite'></span><span id='topic+writeFlextab'></span>

<h3>Description</h3>

<p>Stamp and write flextab objects to one or multiple formats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ftwrite(ft, file, script, time, formats, save, quiet = FALSE, ...)

writeFlextab(ft, file, script, formats, save, quiet = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ftwrite_+3A_ft">ft</code></td>
<td>
<p>A flextab object.</p>
</td></tr>
<tr><td><code id="ftwrite_+3A_file">file</code></td>
<td>
<p>to save to. See formats to generate multiple files.</p>
</td></tr>
<tr><td><code id="ftwrite_+3A_script">script</code></td>
<td>
<p>path to script - will be pasted as caption. If
provided, a stamp will be included on the plot when writng
file(s).</p>
</td></tr>
<tr><td><code id="ftwrite_+3A_time">time</code></td>
<td>
<p>The default behavior is to include a time stamp if
<code>script</code> is provided. You can pass any string as <code>time</code> if you
prefer a different format or a completely different string
here instead (like model name?). Use <code>time=""</code> to omit.</p>
</td></tr>
<tr><td><code id="ftwrite_+3A_formats">formats</code></td>
<td>
<p>One or more of png, docx, pptx, html. As a
character vector.</p>
</td></tr>
<tr><td><code id="ftwrite_+3A_save">save</code></td>
<td>
<p>Save the table to the given file or just show?
Defaults to TRUE. Hint, if you use an &quot;exportFlag&quot;, use
save=exportFlag.</p>
</td></tr>
<tr><td><code id="ftwrite_+3A_quiet">quiet</code></td>
<td>
<p>Default is false but use TRUE to suppress messages
about what was saved.</p>
</td></tr>
<tr><td><code id="ftwrite_+3A_...">...</code></td>
<td>
<p>Arguments passed to stampFlextab.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>writeFlextab</code>: Deprecated function name. Use ftwrite.
</p>
</li></ul>

<hr>
<h2 id='ggstamp'>Always stamp your plots with script name</h2><span id='topic+ggstamp'></span>

<h3>Description</h3>

<p>This function is used to stamp ggplot type plots with datetime and
script name. User must provide the script name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggstamp(plot, script = "", file, time = Sys.time())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggstamp_+3A_plot">plot</code></td>
<td>
<p>The plot to be stamped.</p>
</td></tr>
<tr><td><code id="ggstamp_+3A_script">script</code></td>
<td>
<p>the script name. Date and time will be added
automatically.</p>
</td></tr>
<tr><td><code id="ggstamp_+3A_file">file</code></td>
<td>
<p>An optional output filename to be included in the stamp.</p>
</td></tr>
<tr><td><code id="ggstamp_+3A_time">time</code></td>
<td>
<p>The timestamp to be included.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The stamp is adding using the caption label. If a caption
is already in the plot, the stamp will be added in a new
line.
</p>
<p>The caption is derived as
caption=paste(c(plot$label$caption,stamp,paste(date.txt,file)),collapse=&quot;\n&quot;)
</p>
<p>ggplot 2.2.1 (which is years old) or newer is required.
</p>


<h3>Value</h3>

<p>the plot with a stamp
</p>
<p>A plot object with the stamp added as caption
</p>


<h3>See Also</h3>

<p>Other Plotting: 
<code><a href="#topic+canvasSize">canvasSize</a>()</code>,
<code><a href="#topic+ggwater">ggwater</a>()</code>,
<code><a href="#topic+ggwrite">ggwrite</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
data(ChickWeight)
p1 &lt;- ggplot(ChickWeight,aes(Time,weight,group=Chick,colour=factor(Diet)))+geom_line()
script &lt;- "note"
ggstamp(p1,script)
## Or use ggwrite which will call ggstamp when the `script` argument is provided.
ggwrite(p1,script=script,canvas="wide")
</code></pre>

<hr>
<h2 id='ggwater'>Add watermarks to ggplots</h2><span id='topic+ggwater'></span>

<h3>Description</h3>

<p>Add watermarks to ggplots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggwater(text = "Not validated", scale = 1, rot = 30, col = "grey", alpha = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggwater_+3A_text">text</code></td>
<td>
<p>What should be written on the plot</p>
</td></tr>
<tr><td><code id="ggwater_+3A_scale">scale</code></td>
<td>
<p>the size</p>
</td></tr>
<tr><td><code id="ggwater_+3A_rot">rot</code></td>
<td>
<p>rotation of the mark. Don't remember the unit.</p>
</td></tr>
<tr><td><code id="ggwater_+3A_col">col</code></td>
<td>
<p>the colour (a value, not an expression) of the
watermark. Default is grey.</p>
</td></tr>
<tr><td><code id="ggwater_+3A_alpha">alpha</code></td>
<td>
<p>alpha value for the watermark. Default is 0.5.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This used to be based on
https://www.r-bloggers.com/adding-watermarks-to-plots/ That
solution stopped working, and this new solution is simpler and
based on ggplot2 alone.
</p>


<h3>Value</h3>

<p>a layer with a watermark that can be added to a plot
</p>


<h3>See Also</h3>

<p>Other Plotting: 
<code><a href="#topic+canvasSize">canvasSize</a>()</code>,
<code><a href="#topic+ggstamp">ggstamp</a>()</code>,
<code><a href="#topic+ggwrite">ggwrite</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
ff &lt;- qplot(1:10, 11:20) + ggwater()
</code></pre>

<hr>
<h2 id='ggwrite'>Export plots created with ggplot (and more) or tables to files
(png or pdf) - or show them on screen.</h2><span id='topic+ggwrite'></span>

<h3>Description</h3>

<p>Export plots created with ggplot (and more) or tables to files
(png or pdf) - or show them on screen.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggwrite(
  plot,
  file,
  script,
  time,
  canvas = "standard",
  formats,
  onefile = FALSE,
  res = 200,
  paper = "special",
  save = TRUE,
  show = !save,
  useNames = FALSE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggwrite_+3A_plot">plot</code></td>
<td>
<p>A plot object or a list of plots. Normally generated
with ggplot or qplot. But it can also be from grid.arrange or
arrangeGrob with class gtable. That is experimental
though. Not sure exactly what classes are supported.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_file">file</code></td>
<td>
<p>A file to export to. Must end in .png or .pdf. If plot
is a list, see onefile. If missing, plot is shown on screen.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_script">script</code></td>
<td>
<p>This should normally be the path to your
script. Requires ggplot &gt;=2.2.1.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_time">time</code></td>
<td>
<p>Passed to ggwrite.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_canvas">canvas</code></td>
<td>
<p>Either a list of height and width or a shortname of
predefined canvas size. See ?canvasSize.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_formats">formats</code></td>
<td>
<p>File formats to write to as a character
vector. Must be a subset of c(&quot;png&quot;,&quot;pdf&quot;). Default is to only
write to the format matching the file name extension of
<code>file</code>.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_onefile">onefile</code></td>
<td>
<p>Only applicable if plot is a list. If plot is a
list and onefile=TRUE, all plots will be put in a pdf (file
must end in pdf) with one plot per page. If plot is a list and
onefile=FALSE, numbered files will be created - one per list
element.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_res">res</code></td>
<td>
<p>Resolution. Passed to png.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_paper">paper</code></td>
<td>
<p>Only used with pdf device. See ?pdf.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_save">save</code></td>
<td>
<p>Save the plot to the given file or just show? Defaults
to TRUE. If a variable is used to control whether a script
generates outputs (say <code>writeOutputs=TRUE/FALSE</code>), if you use
<code>save=writeOutputs</code> to comply with this.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_show">show</code></td>
<td>
<p>Print the plot to the screen? Defaults to the opposite
of save. Hint, combining save and show in knitr can give you
both a high quality plot in your pdf and a png optimized for
powerpoint.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_usenames">useNames</code></td>
<td>
<p>If length(plot)&gt;1 use names(plot) in the file
names? Default is to use 1:length(plot). Only used if save is
TRUE, and length(plot)&gt;1.</p>
</td></tr>
<tr><td><code id="ggwrite_+3A_quiet">quiet</code></td>
<td>
<p>Default is false but use TRUE to suppress messages
about what was saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. Files written and/or plots shown, depending on
argument values.
</p>


<h3>See Also</h3>

<p>Other Plotting: 
<code><a href="#topic+canvasSize">canvasSize</a>()</code>,
<code><a href="#topic+ggstamp">ggstamp</a>()</code>,
<code><a href="#topic+ggwater">ggwater</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
writeOutput &lt;- FALSE
data(ChickWeight)
p1 &lt;- ggplot(ChickWeight,aes(Time,weight,group=Chick,colour=factor(Diet)))+geom_line()
ggwrite(p1)  ## view plot on screen
script &lt;- "note"
ggwrite(p1,script=script,canvas="wide",file="myplot1.png",save=writeOutput)
</code></pre>

<hr>
<h2 id='stampFlextab'>Stamp and write flextab objects to one or multiple formats</h2><span id='topic+stampFlextab'></span>

<h3>Description</h3>

<p>Stamp and write flextab objects to one or multiple formats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stampFlextab(ft, file, script, bg = "#ffffff", time)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stampFlextab_+3A_ft">ft</code></td>
<td>
<p>a flextable object</p>
</td></tr>
<tr><td><code id="stampFlextab_+3A_file">file</code></td>
<td>
<p>The file that the flextable will be written to (no
file is written by this function)</p>
</td></tr>
<tr><td><code id="stampFlextab_+3A_script">script</code></td>
<td>
<p>path to script - will be pasted as caption.</p>
</td></tr>
<tr><td><code id="stampFlextab_+3A_bg">bg</code></td>
<td>
<p>Default bacground colour is #ffffff.</p>
</td></tr>
<tr><td><code id="stampFlextab_+3A_time">time</code></td>
<td>
<p>The default is to insert a time stamp taken from result of
Sys.time(). Using the time argument you can overrule this by
setting a fixed string instead. Use &quot;&quot; to omit.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

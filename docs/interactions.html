<!DOCTYPE html><html lang="en"><head><title>Help for package interactions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {interactions}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_huxtable.sim_margins'><p>Create tabular output for simple margins analysis</p></a></li>
<li><a href='#as_huxtable.sim_slopes'><p>Create tabular output for simple slopes analysis</p></a></li>
<li><a href='#cat_plot'><p>Plot interaction effects between categorical predictors.</p></a></li>
<li><a href='#interact_plot'><p>Plot interaction effects in regression models</p></a></li>
<li><a href='#johnson_neyman'><p>Calculate Johnson-Neyman intervals for 2-way interactions</p></a></li>
<li><a href='#plot.sim_margins'><p>Plot coefficients from simple slopes analysis</p></a></li>
<li><a href='#plot.sim_slopes'><p>Plot coefficients from simple slopes analysis</p></a></li>
<li><a href='#probe_interaction'><p>Probe interaction effects via simple slopes and plotting</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#sim_margins'><p>Perform a simple margins analysis.</p></a></li>
<li><a href='#sim_slopes'><p>Perform a simple slopes analysis.</p></a></li>
<li><a href='#tidy.sim_margins'><p>Tidiers for <code>sim_margins()</code> objects.</p></a></li>
<li><a href='#tidy.sim_slopes'><p>Tidiers for <code>sim_slopes()</code> objects.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Comprehensive, User-Friendly Toolkit for Probing Interactions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A suite of functions for conducting and interpreting analysis 
  of statistical interaction in regression models that was formerly part of the 
  'jtools' package. Functionality includes visualization of two- and three-way
  interactions among continuous and/or categorical variables as well as 
  calculation of "simple slopes" and Johnson-Neyman intervals (see e.g., 
  Bauer &amp; Curran, 2005 &lt;<a href="https://doi.org/10.1207%2Fs15327906mbr4003_5">doi:10.1207/s15327906mbr4003_5</a>&gt;). These
  capabilities are implemented for generalized linear models in addition to the 
  standard linear regression context.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://interactions.jacob-long.com">https://interactions.jacob-long.com</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jacob-long/interactions/issues">https://github.com/jacob-long/interactions/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 3.4.0), cli, generics, broom, jtools (&ge; 2.0.3),
rlang (&ge; 0.3.0), tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>cowplot, broom.mixed, glue, huxtable (&ge; 3.0.0), lme4,
margins, sandwich, survey, knitr, rmarkdown, testthat, vdiffr</td>
</tr>
<tr>
<td>Enhances:</td>
<td>brms, rstanarm</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2.9000</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-29 14:54:50 UTC; jacoblong</td>
</tr>
<tr>
<td>Author:</td>
<td>Jacob A. Long <a href="https://orcid.org/0000-0002-1582-6214"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jacob A. Long &lt;jacob.long@sc.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-29 21:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_huxtable.sim_margins'>Create tabular output for simple margins analysis</h2><span id='topic+as_huxtable.sim_margins'></span>

<h3>Description</h3>

<p>This function converts a <code>sim_margins</code> object into a
<code>huxtable</code> object, making it suitable for use in external documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_huxtable.sim_margins(
  x,
  format = "{estimate} ({std.error})",
  sig.levels = c(`***` = 0.001, `**` = 0.01, `*` = 0.05, `#` = 0.1),
  digits = getOption("jtools-digits", 2),
  conf.level = 0.95,
  intercept = attr(x, "cond.int"),
  int.format = format,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_huxtable.sim_margins_+3A_x">x</code></td>
<td>
<p>A <code>sim_margins</code> object.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_margins_+3A_format">format</code></td>
<td>
<p>The method for sharing the slope and associated uncertainty.
Default is <code>"{estimate} ({std.error})"</code>. See the instructions for the
<code>error_format</code> argument of <code><a href="jtools.html#topic+export_summs">jtools::export_summs()</a></code> for more on your
options.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_margins_+3A_sig.levels">sig.levels</code></td>
<td>
<p>A named vector in which the values are potential p value
thresholds and the names are significance markers (e.g., &quot;*&quot;) for when
p values are below the threshold. Default is
<code>c(`***` = .001, `**` = .01, `*` = .05, `#` = .1)</code>.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_margins_+3A_digits">digits</code></td>
<td>
<p>How many digits should the outputted table round to? Default
is 2.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_margins_+3A_conf.level">conf.level</code></td>
<td>
<p>How wide the confidence interval should be, if it
is used. .95 (95% interval) is the default.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_margins_+3A_intercept">intercept</code></td>
<td>
<p>Should conditional intercepts be included? Default is
whatever the <code>cond.int</code> argument to <code>x</code> was.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_margins_+3A_int.format">int.format</code></td>
<td>
<p>If conditional intercepts were requested, how should
they be formatted? Default is the same as <code>format</code>.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_margins_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more on what you can do with a <code>huxtable</code>, see <span class="pkg">huxtable</span>.
</p>

<hr>
<h2 id='as_huxtable.sim_slopes'>Create tabular output for simple slopes analysis</h2><span id='topic+as_huxtable.sim_slopes'></span>

<h3>Description</h3>

<p>This function converts a <code>sim_slopes</code> object into a
<code>huxtable</code> object, making it suitable for use in external documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_huxtable.sim_slopes(
  x,
  format = "{estimate} ({std.error})",
  sig.levels = c(`***` = 0.001, `**` = 0.01, `*` = 0.05, `#` = 0.1),
  digits = getOption("jtools-digits", 2),
  conf.level = 0.95,
  intercept = attr(x, "cond.int"),
  int.format = format,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_huxtable.sim_slopes_+3A_x">x</code></td>
<td>
<p>The <code><a href="#topic+sim_slopes">sim_slopes()</a></code> object.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_slopes_+3A_format">format</code></td>
<td>
<p>The method for sharing the slope and associated uncertainty.
Default is <code>"{estimate} ({std.error})"</code>. See the instructions for the
<code>error_format</code> argument of <code><a href="jtools.html#topic+export_summs">jtools::export_summs()</a></code> for more on your
options.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_slopes_+3A_sig.levels">sig.levels</code></td>
<td>
<p>A named vector in which the values are potential p value
thresholds and the names are significance markers (e.g., &quot;*&quot;) for when
p values are below the threshold. Default is
<code>c(`***` = .001, `**` = .01, `*` = .05, `#` = .1)</code>.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_slopes_+3A_digits">digits</code></td>
<td>
<p>How many digits should the outputted table round to? Default
is 2.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_slopes_+3A_conf.level">conf.level</code></td>
<td>
<p>How wide the confidence interval should be, if it
is used. .95 (95% interval) is the default.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_slopes_+3A_intercept">intercept</code></td>
<td>
<p>Should conditional intercepts be included? Default is
whatever the <code>cond.int</code> argument to <code>x</code> was.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_slopes_+3A_int.format">int.format</code></td>
<td>
<p>If conditional intercepts were requested, how should
they be formatted? Default is the same as <code>format</code>.</p>
</td></tr>
<tr><td><code id="as_huxtable.sim_slopes_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more on what you can do with a <code>huxtable</code>, see <span class="pkg">huxtable</span>.
</p>

<hr>
<h2 id='cat_plot'>Plot interaction effects between categorical predictors.</h2><span id='topic+cat_plot'></span>

<h3>Description</h3>

<p><code>cat_plot</code> is a complementary function to <code><a href="#topic+interact_plot">interact_plot()</a></code> that is designed
for plotting interactions when both predictor and moderator(s) are
categorical (or, in R terms, factors).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat_plot(
  model,
  pred,
  modx = NULL,
  mod2 = NULL,
  data = NULL,
  geom = c("point", "line", "bar"),
  pred.values = NULL,
  modx.values = NULL,
  mod2.values = NULL,
  interval = TRUE,
  plot.points = FALSE,
  point.shape = FALSE,
  vary.lty = FALSE,
  centered = "all",
  int.type = c("confidence", "prediction"),
  int.width = 0.95,
  line.thickness = 1.1,
  point.size = 1.5,
  pred.point.size = 3.5,
  jitter = 0.1,
  geom.alpha = NULL,
  dodge.width = NULL,
  errorbar.width = NULL,
  interval.geom = c("errorbar", "linerange"),
  outcome.scale = "response",
  robust = FALSE,
  cluster = NULL,
  vcov = NULL,
  pred.labels = NULL,
  modx.labels = NULL,
  mod2.labels = NULL,
  set.offset = 1,
  x.label = NULL,
  y.label = NULL,
  main.title = NULL,
  legend.main = NULL,
  colors = NULL,
  partial.residuals = FALSE,
  point.alpha = 0.6,
  color.class = NULL,
  at = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cat_plot_+3A_model">model</code></td>
<td>
<p>A regression model. The function is tested with <code>lm</code>,
<code>glm</code>, <code><a href="survey.html#topic+svyglm">svyglm</a></code>, <code><a href="lme4.html#topic+merMod">merMod</a></code>,
<code><a href="quantreg.html#topic+rq">rq</a></code>, <code><a href="brms.html#topic+brmsfit">brmsfit</a></code>,
<code>stanreg</code> models.
Models from other classes may work as well but are not officially
supported. The model should include the interaction of interest.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_pred">pred</code></td>
<td>
<p>A categorical predictor variable that will appear on the x-axis.
Note that it is evaluated using <code>rlang</code>, so programmers can use the <code style="white-space: pre;">&#8288;!!&#8288;</code>
syntax to pass variables instead of the verbatim names.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_modx">modx</code></td>
<td>
<p>A categorical moderator variable.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_mod2">mod2</code></td>
<td>
<p>For three-way interactions, the second categorical moderator.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_data">data</code></td>
<td>
<p>Optional, default is NULL. You may provide the data used to
fit the model. This can be a better way to get mean values for centering
and can be crucial for models with variable transformations in the formula
(e.g., <code>log(x)</code>) or polynomial terms (e.g., <code>poly(x, 2)</code>). You will
see a warning if the function detects problems that would likely be
solved by providing the data with this argument and the function will
attempt to retrieve the original data from the global environment.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_geom">geom</code></td>
<td>
<p>What type of plot should this be? There are several options
here since the best way to visualize categorical interactions varies by
context. Here are the options:
</p>

<ul>
<li> <p><code>"point"</code>: The default. Simply plot the point estimates. You may want to
use <code>point.shape = TRUE</code> with this and you should also consider
<code>interval = TRUE</code> to visualize uncertainty.
</p>
</li>
<li> <p><code>"line"</code>: This connects observations across levels of the <code>pred</code>
variable with a line. This is a good option when the <code>pred</code> variable
is ordinal (ordered). You may still consider <code>point.shape = TRUE</code> and
<code>interval = TRUE</code> is still a good idea.
</p>
</li>
<li> <p><code>"bar"</code>: A bar chart. Some call this a &quot;dynamite plot.&quot;
Many applied researchers advise against this type of plot because it
does not represent the distribution of the observed data or the
uncertainty of the predictions very well. It is best to at least use the
<code>interval = TRUE</code> argument with this geom.
</p>
</li></ul>
</td></tr>
<tr><td><code id="cat_plot_+3A_pred.values">pred.values</code></td>
<td>
<p>Which values of the predictor should be included in the
plot? By default, all levels are included.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_modx.values">modx.values</code></td>
<td>
<p>For which values of the moderator should lines be
plotted? There are two basic options:
</p>

<ul>
<li><p> A vector of values (e.g., <code>c(1, 2, 3)</code>)
</p>
</li>
<li><p> A single argument asking to calculate a set of values. See details
below.
</p>
</li></ul>

<p>Default is <code>NULL</code>. If <code>NULL</code> (or <code>mean-plus-minus</code>),
then the customary +/- 1 standard
deviation from the mean as well as the mean itself are used for continuous
moderators. If <code>"plus-minus"</code>, plots lines when the moderator is at
+/- 1 standard deviation without the mean. You may also choose <code>"terciles"</code>
to split the data into equally-sized groups and choose the point at the
mean of each of those groups.
</p>
<p>If the moderator is a factor variable and <code>modx.values</code> is
<code>NULL</code>, each level of the factor is included. You may specify
any subset of the factor levels (e.g., <code>c("Level 1", "Level 3")</code>) as long
as there is more than 1. The levels will be plotted in the order you
provide them, so this can be used to reorder levels as well.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_mod2.values">mod2.values</code></td>
<td>
<p>For which values of the second moderator should the plot
be
facetted by? That is, there will be a separate plot for each level of this
moderator. Defaults are the same as <code>modx.values</code>.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_interval">interval</code></td>
<td>
<p>Logical. If <code>TRUE</code>, plots confidence/prediction
intervals.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_plot.points">plot.points</code></td>
<td>
<p>Logical. If <code>TRUE</code>, plots the actual data points as a
scatterplot on top of the interaction lines. Note that if
<code>geom = "bar"</code>, this will cause the bars to become transparent so you can
see the points.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_point.shape">point.shape</code></td>
<td>
<p>For plotted points&mdash;either of observed data or predicted
values with the &quot;point&quot; or &quot;line&quot; geoms&mdash;should the shape of the points
vary by the values of the factor? This is especially useful if you aim to
be black and white printing- or colorblind-friendly.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_vary.lty">vary.lty</code></td>
<td>
<p>Should the resulting plot have different shapes for each
line in addition to colors? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_centered">centered</code></td>
<td>
<p>A vector of quoted variable names that are to be
mean-centered. If <code>"all"</code>, all non-focal predictors are centered. You
may instead pass a character vector of variables to center. User can
also use &quot;none&quot; to base all predictions on variables set at 0.
The response variable, <code>pred</code>, <code>modx</code>, and <code>mod2</code> variables are never
centered.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_int.type">int.type</code></td>
<td>
<p>Type of interval to plot. Options are &quot;confidence&quot; or
&quot;prediction&quot;. Default is confidence interval.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_int.width">int.width</code></td>
<td>
<p>How large should the interval be, relative to the standard
error? The default, .95, corresponds to roughly 1.96 standard errors and
a .05 alpha level for values outside the range. In other words, for a
confidence interval, .95 is analogous to a 95% confidence interval.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_line.thickness">line.thickness</code></td>
<td>
<p>How thick should the plotted lines be? Default is 1.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_point.size">point.size</code></td>
<td>
<p>What size should be used for observed data when
<code>plot.points</code> is TRUE? Default is 1.5.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_pred.point.size">pred.point.size</code></td>
<td>
<p>If TRUE and <code>geom</code> is <code>"point"</code> or <code>"line"</code>,
sets the size of the predicted points. Default is 3.5.
Note the distinction from <code>point.size</code>, which refers to the
observed data points.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_jitter">jitter</code></td>
<td>
<p>How much should <code>plot.points</code> observed values be &quot;jittered&quot;
via <code><a href="ggplot2.html#topic+position_jitter">ggplot2::position_jitter()</a></code>? When there are many points near each
other, jittering moves them a small amount to keep them from
totally overlapping. In some cases, though, it can add confusion since
it may make points appear to be outside the boundaries of observed
values or cause other visual issues. Default is 0.1, but increase as
needed if your points are overlapping too much or set to 0 for no jitter.
If the argument is a vector with two values, then the first is assumed to
be the jitter for width and the second for the height.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_geom.alpha">geom.alpha</code></td>
<td>
<p>What should the alpha aesthetic be for the plotted
lines/bars? Default is NULL, which means it is set depending on the value
of <code>geom</code> and <code>plot.points</code>.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_dodge.width">dodge.width</code></td>
<td>
<p>What should the <code>width</code> argument to
<code><a href="ggplot2.html#topic+position_dodge">ggplot2::position_dodge()</a></code> be? Default is NULL, which means it is set
depending on the value of <code>geom</code>.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_errorbar.width">errorbar.width</code></td>
<td>
<p>How wide should the error bars be? Default is NULL,
meaning it is set depending on the value <code>geom</code>. Ignored if <code>interval</code>
is FALSE.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_interval.geom">interval.geom</code></td>
<td>
<p>For categorical by categorical interactions.
One of &quot;errorbar&quot; or &quot;linerange&quot;. If the former,
<code><a href="ggplot2.html#topic+geom_linerange">ggplot2::geom_errorbar()</a></code> is used. If the latter,
<code><a href="ggplot2.html#topic+geom_linerange">ggplot2::geom_linerange()</a></code> is used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_outcome.scale">outcome.scale</code></td>
<td>
<p>For nonlinear models (i.e., GLMs), should the outcome
variable be plotted on the link scale (e.g., log odds for logit models) or
the original scale (e.g., predicted probabilities for logit models)? The
default is <code>"response"</code>, which is the original scale. For the link
scale, which will show straight lines rather than curves, use
<code>"link"</code>.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_robust">robust</code></td>
<td>
<p>Should robust standard errors be used to find confidence
intervals for supported models? Default is FALSE, but you should specify
the type of sandwich standard errors if you'd like to use them (i.e.,
<code>"HC0"</code>, <code>"HC1"</code>, and so on). If <code>TRUE</code>, defaults to <code>"HC3"</code> standard
errors.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_cluster">cluster</code></td>
<td>
<p>For clustered standard errors, provide the column name of
the cluster variable in the input data frame (as a string). Alternately,
provide a vector of clusters.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_vcov">vcov</code></td>
<td>
<p>Optional. You may supply the variance-covariance matrix of the
coefficients yourself. This is useful if you are using some method for
robust standard error calculation not supported by the <span class="pkg">sandwich</span>
package.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_pred.labels">pred.labels</code></td>
<td>
<p>A character vector of equal length to the number of
factor levels of the predictor (or number specified in <code>predvals</code>). If
<code>NULL</code>, the default, the factor labels are used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_modx.labels">modx.labels</code></td>
<td>
<p>A character vector of labels for each level of the
moderator values, provided in the same order as the <code>modx.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>modx,values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_mod2.labels">mod2.labels</code></td>
<td>
<p>A character vector of labels for each level of the 2nd
moderator values, provided in the same order as the <code>mod2.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>mod2.values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_set.offset">set.offset</code></td>
<td>
<p>For models with an offset (e.g., Poisson models), sets an
offset for the predicted values. All predicted values will have the same
offset. By default, this is set to 1, which makes the predicted values a
proportion. See details for more about offset support.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_x.label">x.label</code></td>
<td>
<p>A character object specifying the desired x-axis label. If
<code>NULL</code>, the variable name is used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_y.label">y.label</code></td>
<td>
<p>A character object specifying the desired x-axis label. If
<code>NULL</code>, the variable name is used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_main.title">main.title</code></td>
<td>
<p>A character object that will be used as an overall title
for the plot. If <code>NULL</code>, no main title is used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_legend.main">legend.main</code></td>
<td>
<p>A character object that will be used as the title that
appears above the legend. If <code>NULL</code>, the name of the moderating
variable is used.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_colors">colors</code></td>
<td>
<p>Any palette argument accepted by <code><a href="jtools.html#topic+get_colors">jtools::get_colors()</a></code>.
Default is &quot;CUD Bright&quot; for factor moderators and &quot;blue&quot; for continuous
moderators. You may also simply supply a vector of colors accepted by
<code>ggplot2</code> and of equal length to the number of moderator levels.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_partial.residuals">partial.residuals</code></td>
<td>
<p>Instead of plotting the observed data, you may plot
the partial residuals (controlling for the effects of variables besides
<code>pred</code>).</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_point.alpha">point.alpha</code></td>
<td>
<p>What should the <code>alpha</code> aesthetic for plotted points of
observed data be? Default is 0.6, and it can range from 0 (transparent) to
1 (opaque).</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_color.class">color.class</code></td>
<td>
<p>Deprecated. Now known as <code>colors</code>.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_at">at</code></td>
<td>
<p>If you want to manually set the values of other variables in the
model, do so by providing a named list where the names are the variables
and the list values are vectors of the values. This can be useful
especially when you are exploring interactions or other conditional
predictions.</p>
</td></tr>
<tr><td><code id="cat_plot_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code>make_predictions</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a means for plotting conditional effects
for the purpose of exploring interactions in the context of regression.
You must have the
package <code>ggplot2</code> installed to benefit from these plotting functions.
</p>
<p>The function is designed for two and three-way interactions. For
additional terms, the
<code>effects</code> package may be better suited to the task.
</p>
<p>This function supports nonlinear and generalized linear models and by
default will plot them on
their original scale (<code>outcome.scale = "response"</code>).
</p>
<p>While mixed effects models from <code>lme4</code> are supported, only the fixed
effects are plotted. <code>lme4</code> does not provide confidence intervals,
so they are not supported with this function either.
</p>
<p>Note: to use transformed predictors, e.g., <code>log(variable)</code>,
provide only the variable name to <code>pred</code>, <code>modx</code>, or <code>mod2</code> and supply
the original data separately to the <code>data</code> argument.
</p>
<p><em>Info about offsets:</em>
</p>
<p>Offsets are partially supported by this function with important
limitations. First of all, only a single offset per model is supported.
Second, it is best in general to specify offsets with the offset argument
of the model fitting function rather than in the formula. You are much
more likely to have success if you provide the data used to fit the model
with the <code>data</code> argument.
</p>


<h3>Value</h3>

<p>The functions returns a <code>ggplot</code> object, which can be treated
like a user-created plot and expanded upon as such.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
fit &lt;- lm(price ~ cut * color, data = diamonds)
cat_plot(fit, pred = color, modx = cut, interval = TRUE)

# 3-way interaction

## Will first create a couple dichotomous factors to ensure full rank
mpg2 &lt;- mpg
mpg2$auto &lt;- "auto"
mpg2$auto[mpg2$trans %in% c("manual(m5)", "manual(m6)")] &lt;- "manual"
mpg2$auto &lt;- factor(mpg2$auto)
mpg2$fwd &lt;- "2wd"
mpg2$fwd[mpg2$drv == "4"] &lt;- "4wd"
mpg2$fwd &lt;- factor(mpg2$fwd)
## Drop the two cars with 5 cylinders (rest are 4, 6, or 8)
mpg2 &lt;- mpg2[mpg2$cyl != "5",]
mpg2$cyl &lt;- factor(mpg2$cyl)
## Fit the model
fit3 &lt;- lm(cty ~ cyl * fwd * auto, data = mpg2)

# The line geom looks good for an ordered factor predictor
cat_plot(fit3, pred = cyl, modx = fwd, mod2 = auto, geom = "line",
 interval = TRUE)

</code></pre>

<hr>
<h2 id='interact_plot'>Plot interaction effects in regression models</h2><span id='topic+interact_plot'></span>

<h3>Description</h3>

<p><code>interact_plot</code> plots regression lines at user-specified levels of a
moderator variable to explore interactions. The plotting is done with
<code>ggplot2</code> rather than base graphics, which some similar functions use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interact_plot(
  model,
  pred,
  modx,
  modx.values = NULL,
  mod2 = NULL,
  mod2.values = NULL,
  centered = "all",
  data = NULL,
  at = NULL,
  plot.points = FALSE,
  interval = FALSE,
  int.type = c("confidence", "prediction"),
  int.width = 0.95,
  outcome.scale = "response",
  linearity.check = FALSE,
  facet.modx = FALSE,
  robust = FALSE,
  cluster = NULL,
  vcov = NULL,
  set.offset = 1,
  x.label = NULL,
  y.label = NULL,
  pred.labels = NULL,
  modx.labels = NULL,
  mod2.labels = NULL,
  main.title = NULL,
  legend.main = NULL,
  colors = NULL,
  line.thickness = 1,
  vary.lty = TRUE,
  point.size = 1.5,
  point.shape = FALSE,
  jitter = 0,
  rug = FALSE,
  rug.sides = "b",
  partial.residuals = FALSE,
  point.alpha = 0.6,
  color.class = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="interact_plot_+3A_model">model</code></td>
<td>
<p>A regression model. The function is tested with <code>lm</code>,
<code>glm</code>, <code><a href="survey.html#topic+svyglm">svyglm</a></code>, <code><a href="lme4.html#topic+merMod">merMod</a></code>,
<code><a href="quantreg.html#topic+rq">rq</a></code>, <code><a href="brms.html#topic+brmsfit">brmsfit</a></code>,
<code>stanreg</code> models.
Models from other classes may work as well but are not officially
supported. The model should include the interaction of interest.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_pred">pred</code></td>
<td>
<p>The name of the predictor variable involved
in the interaction. This can be a bare name or string. Note that it
is evaluated using <code>rlang</code>, so programmers can use the <code style="white-space: pre;">&#8288;!!&#8288;</code> syntax
to pass variables instead of the verbatim names.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_modx">modx</code></td>
<td>
<p>The name of the moderator variable involved
in the interaction. This can be a bare name or string. The same
<code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_modx.values">modx.values</code></td>
<td>
<p>For which values of the moderator should lines be
plotted? There are two basic options:
</p>

<ul>
<li><p> A vector of values (e.g., <code>c(1, 2, 3)</code>)
</p>
</li>
<li><p> A single argument asking to calculate a set of values. See details
below.
</p>
</li></ul>

<p>Default is <code>NULL</code>. If <code>NULL</code> (or <code>mean-plus-minus</code>),
then the customary +/- 1 standard
deviation from the mean as well as the mean itself are used for continuous
moderators. If <code>"plus-minus"</code>, plots lines when the moderator is at
+/- 1 standard deviation without the mean. You may also choose <code>"terciles"</code>
to split the data into equally-sized groups and choose the point at the
mean of each of those groups.
</p>
<p>If the moderator is a factor variable and <code>modx.values</code> is
<code>NULL</code>, each level of the factor is included. You may specify
any subset of the factor levels (e.g., <code>c("Level 1", "Level 3")</code>) as long
as there is more than 1. The levels will be plotted in the order you
provide them, so this can be used to reorder levels as well.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_mod2">mod2</code></td>
<td>
<p>Optional. The name of the second moderator
variable involved in the interaction. This can be a bare name or string.
The same <code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_mod2.values">mod2.values</code></td>
<td>
<p>For which values of the second moderator should the plot
be
facetted by? That is, there will be a separate plot for each level of this
moderator. Defaults are the same as <code>modx.values</code>.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_centered">centered</code></td>
<td>
<p>A vector of quoted variable names that are to be
mean-centered. If <code>"all"</code>, all non-focal predictors are centered. You
may instead pass a character vector of variables to center. User can
also use &quot;none&quot; to base all predictions on variables set at 0.
The response variable, <code>pred</code>, <code>modx</code>, and <code>mod2</code> variables are never
centered.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_data">data</code></td>
<td>
<p>Optional, default is NULL. You may provide the data used to
fit the model. This can be a better way to get mean values for centering
and can be crucial for models with variable transformations in the formula
(e.g., <code>log(x)</code>) or polynomial terms (e.g., <code>poly(x, 2)</code>). You will
see a warning if the function detects problems that would likely be
solved by providing the data with this argument and the function will
attempt to retrieve the original data from the global environment.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_at">at</code></td>
<td>
<p>If you want to manually set the values of other variables in the
model, do so by providing a named list where the names are the variables
and the list values are vectors of the values. This can be useful
especially when you are exploring interactions or other conditional
predictions.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_plot.points">plot.points</code></td>
<td>
<p>Logical. If <code>TRUE</code>, plots the actual data points as
a scatterplot on top of the interaction lines. The color of the dots will
be based on their moderator value.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_interval">interval</code></td>
<td>
<p>Logical. If <code>TRUE</code>, plots confidence/prediction
intervals around the line using <code><a href="ggplot2.html#topic+geom_ribbon">geom_ribbon</a></code>.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_int.type">int.type</code></td>
<td>
<p>Type of interval to plot. Options are &quot;confidence&quot; or
&quot;prediction&quot;. Default is confidence interval.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_int.width">int.width</code></td>
<td>
<p>How large should the interval be, relative to the standard
error? The default, .95, corresponds to roughly 1.96 standard errors and
a .05 alpha level for values outside the range. In other words, for a
confidence interval, .95 is analogous to a 95% confidence interval.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_outcome.scale">outcome.scale</code></td>
<td>
<p>For nonlinear models (i.e., GLMs), should the outcome
variable be plotted on the link scale (e.g., log odds for logit models) or
the original scale (e.g., predicted probabilities for logit models)? The
default is <code>"response"</code>, which is the original scale. For the link
scale, which will show straight lines rather than curves, use
<code>"link"</code>.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_linearity.check">linearity.check</code></td>
<td>
<p>For two-way interactions only. If <code>TRUE</code>, plots a
pane for each level of the moderator and superimposes a loess smoothed
line (in gray) over the plot. This enables you to see if the effect is
linear through the span of the moderator. See Hainmueller et al. (2016) in
the references for more details on the intuition behind this. It is
recommended that you also set <code>plot.points = TRUE</code> and use
<code>modx.values = "terciles"</code> with this option.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_facet.modx">facet.modx</code></td>
<td>
<p>Create separate panels for each level of the moderator?
Default is FALSE, except when <code>linearity.check</code> is TRUE.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_robust">robust</code></td>
<td>
<p>Should robust standard errors be used to find confidence
intervals for supported models? Default is FALSE, but you should specify
the type of sandwich standard errors if you'd like to use them (i.e.,
<code>"HC0"</code>, <code>"HC1"</code>, and so on). If <code>TRUE</code>, defaults to <code>"HC3"</code> standard
errors.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_cluster">cluster</code></td>
<td>
<p>For clustered standard errors, provide the column name of
the cluster variable in the input data frame (as a string). Alternately,
provide a vector of clusters.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_vcov">vcov</code></td>
<td>
<p>Optional. You may supply the variance-covariance matrix of the
coefficients yourself. This is useful if you are using some method for
robust standard error calculation not supported by the <span class="pkg">sandwich</span>
package.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_set.offset">set.offset</code></td>
<td>
<p>For models with an offset (e.g., Poisson models), sets an
offset for the predicted values. All predicted values will have the same
offset. By default, this is set to 1, which makes the predicted values a
proportion. See details for more about offset support.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_x.label">x.label</code></td>
<td>
<p>A character object specifying the desired x-axis label. If
<code>NULL</code>, the variable name is used.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_y.label">y.label</code></td>
<td>
<p>A character object specifying the desired x-axis label. If
<code>NULL</code>, the variable name is used.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_pred.labels">pred.labels</code></td>
<td>
<p>A character vector of 2 labels for the predictor if it is
a 2-level factor or a continuous variable with only 2 values. If
<code>NULL</code>, the default, the factor labels are used.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_modx.labels">modx.labels</code></td>
<td>
<p>A character vector of labels for each level of the
moderator values, provided in the same order as the <code>modx.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>modx,values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_mod2.labels">mod2.labels</code></td>
<td>
<p>A character vector of labels for each level of the 2nd
moderator values, provided in the same order as the <code>mod2.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>mod2.values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_main.title">main.title</code></td>
<td>
<p>A character object that will be used as an overall title
for the plot. If <code>NULL</code>, no main title is used.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_legend.main">legend.main</code></td>
<td>
<p>A character object that will be used as the title that
appears above the legend. If <code>NULL</code>, the name of the moderating
variable is used.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_colors">colors</code></td>
<td>
<p>See <code><a href="jtools.html#topic+jtools_colors">jtools_colors</a></code> for details on the
types of arguments accepted. Default is &quot;CUD Bright&quot; for factor
moderators, &quot;Blues&quot; for +/- SD and user-specified <code>modx.values</code>
values.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_line.thickness">line.thickness</code></td>
<td>
<p>How thick should the plotted lines be? Default is 1.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_vary.lty">vary.lty</code></td>
<td>
<p>Should the resulting plot have different shapes for each
line in addition to colors? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_point.size">point.size</code></td>
<td>
<p>What size should be used for observed data when
<code>plot.points</code> is TRUE? Default is 1.5.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_point.shape">point.shape</code></td>
<td>
<p>For plotted points&mdash;either of observed data or predicted
values with the &quot;point&quot; or &quot;line&quot; geoms&mdash;should the shape of the points
vary by the values of the factor? This is especially useful if you aim to
be black and white printing- or colorblind-friendly.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_jitter">jitter</code></td>
<td>
<p>How much should <code>plot.points</code> observed values be &quot;jittered&quot;
via <code><a href="ggplot2.html#topic+position_jitter">ggplot2::position_jitter()</a></code>? When there are many points near each
other, jittering moves them a small amount to keep them from
totally overlapping. In some cases, though, it can add confusion since
it may make points appear to be outside the boundaries of observed
values or cause other visual issues. Default is 0, but try various
small values (e.g., 0.1) and increase as needed if your points are
overlapping too much. If the argument is a vector with two values,
then the first is assumed to be the jitter for width and the second
for the height.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_rug">rug</code></td>
<td>
<p>Show a rug plot in the margins? This uses <code><a href="ggplot2.html#topic+geom_rug">ggplot2::geom_rug()</a></code>
to show the distribution of the predictor (top/bottom) and/or
response variable (left/right) in the original data. Default is
FALSE.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_rug.sides">rug.sides</code></td>
<td>
<p>On which sides should rug plots appear? Default is &quot;b&quot;,
meaning bottom. &quot;t&quot; and/or &quot;b&quot; show the distribution of the predictor
while &quot;l&quot; and/or &quot;r&quot; show the distribution of the response. &quot;bl&quot; is
a good option to show both the predictor and response.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_partial.residuals">partial.residuals</code></td>
<td>
<p>Instead of plotting the observed data, you may plot
the partial residuals (controlling for the effects of variables besides
<code>pred</code>).</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_point.alpha">point.alpha</code></td>
<td>
<p>What should the <code>alpha</code> aesthetic for plotted points of
observed data be? Default is 0.6, and it can range from 0 (transparent) to
1 (opaque).</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_color.class">color.class</code></td>
<td>
<p>Deprecated. Now known as <code>colors</code>.</p>
</td></tr>
<tr><td><code id="interact_plot_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code>make_predictions</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a means for plotting conditional effects
for the purpose of exploring interactions in regression models.
</p>
<p>The function is designed for two and three-way interactions. For
additional terms, the <span class="pkg">effects</span> package may be better suited to the
task.
</p>
<p>This function supports nonlinear and generalized linear models and by
default will plot them on their original scale
(<code>outcome.scale = "response"</code>). To plot them on the linear scale,
use &quot;link&quot; for <code>outcome.scale</code>.
</p>
<p>While mixed effects models from <code>lme4</code> are supported, only the fixed
effects are plotted. <code>lme4</code> does not provide confidence intervals,
so they are not supported with this function either.
</p>
<p>Note: to use transformed predictors, e.g., <code>log(variable)</code>,
put its name in quotes or backticks in the argument.
</p>
<p><em>Details on how observed data are split in multi-pane plots</em>:
</p>
<p>If you set <code>plot.points = TRUE</code> and request a multi-pane (facetted) plot
either with a second moderator, <code>linearity.check = TRUE</code>, or
<code>facet.modx = TRUE</code>, the observed
data are split into as many groups as there  are panes and plotted
separately. If the moderator is a factor, then the way this happens will
be very intuitive since it's obvious which values go in which pane. The
rest of this section will address the case of continuous moderators.
</p>
<p>My recommendation is that you use <code>modx.values = "terciles"</code> or
<code>mod2.values = "terciles"</code> when you want to plot observed data on
multi-pane
plots. When you do, the data are split into three approximately
equal-sized groups with the lowest third, middle third, and highest third
of the data split accordingly. You can replicate this procedure using
<code><a href="Hmisc.html#topic+cut2">Hmisc::cut2()</a></code> with <code>g = 3</code> from the <code>Hmisc</code> package. Sometimes, the
groups will not be equal in size because the number of observations is
not divisible by 3 and/or there are multiple observations with the same
value at one of the cut points.
</p>
<p>Otherwise, a more ad hoc procedure is used to split the data. Quantiles
are found for each <code>mod2.values</code> or <code>modx.values</code> value. These are not the
quantiles used to split the data, however, since we want the plotted lines
to represent the slope at a typical value in the group. The next step,
then, is to take the mean of each pair of neighboring quantiles and use
these as the cut points.
</p>
<p>For example, if the <code>mod2.values</code> are at the 25th, 50th, and 75th
percentiles
of the distribution of the moderator, the data will be split at the
37.5th and and 62.5th percentiles. When the variable is
normally distributed, this will correspond fairly closely to using
terciles.
</p>
<p><em>Info about offsets:</em>
</p>
<p>Offsets are partially supported by this function with important
limitations. First of all, only a single offset per model is supported.
Second, it is best in general to specify offsets with the offset argument
of the model fitting function rather than in the formula. You are much
more likely to have success if you provide the data used to fit the model
with the <code>data</code> argument.
</p>


<h3>Value</h3>

<p>The functions returns a <code>ggplot</code> object, which can be treated
like a user-created plot and expanded upon as such.
</p>


<h3>Author(s)</h3>

<p>Jacob Long <a href="mailto:jacob.long@sc.edu">jacob.long@sc.edu</a>
</p>


<h3>References</h3>

<p>Bauer, D. J., &amp; Curran, P. J. (2005). Probing interactions in fixed and
multilevel regression: Inferential and graphical techniques.
<em>Multivariate Behavioral
Research</em>, <em>40</em>(3), 373-400.
<a href="https://doi.org/10.1207/s15327906mbr4003_5">doi:10.1207/s15327906mbr4003_5</a>
</p>
<p>Cohen, J., Cohen, P., West, S. G., &amp; Aiken, L. S. (2003). <em>Applied
multiple
regression/correlation analyses for the behavioral sciences</em> (3rd ed.).
Mahwah, NJ: Lawrence Erlbaum Associates, Inc.
</p>
<p>Hainmueller, J., Mummolo, J., &amp; Xu, Y. (2016). How much should we trust
estimates from multiplicative interaction models? Simple tools to improve
empirical practice. SSRN Electronic Journal.
<a href="https://doi.org/10.2139/ssrn.2739221">doi:10.2139/ssrn.2739221</a>
</p>


<h3>See Also</h3>

<p><code>plotSlopes</code> from <code>rockchalk</code> performs a
similar function, but
with R's base graphics&mdash;this function is meant, in part, to emulate
its features.
</p>
<p>Functions from the <code>margins</code> and <code>sjPlot</code> packages may also be useful
if this one isn't working for you.
</p>
<p><code><a href="#topic+sim_slopes">sim_slopes</a></code> performs a simple slopes analysis with a similar
argument syntax to this function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using a fitted lm model
states &lt;- as.data.frame(state.x77)
states$HSGrad &lt;- states$`HS Grad`
fit &lt;- lm(Income ~ HSGrad + Murder * Illiteracy, data = states)
interact_plot(model = fit, pred = Murder, modx = Illiteracy)

# Using interval feature
fit &lt;- lm(accel ~ mag * dist, data = attenu)
interact_plot(fit, pred = mag, modx = dist, interval = TRUE,
  int.type = "confidence", int.width = .8)

# Using second moderator
fit &lt;- lm(Income ~ HSGrad * Murder * Illiteracy, data = states)
interact_plot(model = fit, pred = Murder, modx = Illiteracy, mod2 = HSGrad)

# With svyglm
if (requireNamespace("survey")) {
library(survey)
data(api)
dstrat &lt;- svydesign(id = ~1, strata = ~stype, weights = ~pw,
                    data = apistrat, fpc = ~fpc)
regmodel &lt;- svyglm(api00 ~ ell * meals, design = dstrat)
interact_plot(regmodel, pred = ell, modx = meals)
}

# With lme4
## Not run: 
library(lme4)
data(VerbAgg)
mv &lt;- glmer(r2 ~ Anger * mode + (1 | item), data = VerbAgg,
            family = binomial,
            control = glmerControl("bobyqa"))
interact_plot(mv, pred = Anger, modx = mode)

## End(Not run)

</code></pre>

<hr>
<h2 id='johnson_neyman'>Calculate Johnson-Neyman intervals for 2-way interactions</h2><span id='topic+johnson_neyman'></span>

<h3>Description</h3>

<p><code>johnson_neyman</code> finds so-called &quot;Johnson-Neyman&quot; intervals for
understanding where simple slopes are significant in the context of
interactions in multiple linear regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>johnson_neyman(
  model,
  pred,
  modx,
  vmat = NULL,
  alpha = 0.05,
  plot = TRUE,
  control.fdr = FALSE,
  line.thickness = 0.5,
  df = "residual",
  digits = getOption("jtools-digits", 2),
  critical.t = NULL,
  sig.color = "#00BFC4",
  insig.color = "#F8766D",
  mod.range = NULL,
  title = "Johnson-Neyman plot",
  y.label = NULL,
  modx.label = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="johnson_neyman_+3A_model">model</code></td>
<td>
<p>A regression model. It is tested with <code>lm</code>, <code>glm</code>, and
<code>svyglm</code> objects, but others may work as well. It should contain the
interaction of interest. Be aware that just because the computations
work, this does not necessarily mean the procedure is appropriate for
the type of model you have.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_pred">pred</code></td>
<td>
<p>The predictor variable involved in the interaction.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_modx">modx</code></td>
<td>
<p>The moderator variable involved in the interaction.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_vmat">vmat</code></td>
<td>
<p>Optional. You may supply the variance-covariance matrix of the
coefficients yourself. This is useful if you are using robust standard
errors, as you could if using the <span class="pkg">sandwich</span> package.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_alpha">alpha</code></td>
<td>
<p>The alpha level. By default, the standard 0.05.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_plot">plot</code></td>
<td>
<p>Should a plot of the results be printed? Default is <code>TRUE</code>.
The <code>ggplot2</code> object is returned either way.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_control.fdr">control.fdr</code></td>
<td>
<p>Logical. Use the procedure described in Esarey &amp; Sumner
(2017) to limit the false discovery rate? Default is FALSE. See details
for more on this method.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_line.thickness">line.thickness</code></td>
<td>
<p>How thick should the predicted line be? This is
passed to <code>geom_path</code> as the <code>size</code> argument, but because of the way the
line is created, you cannot use <code>geom_path</code> to modify the output plot
yourself.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_df">df</code></td>
<td>
<p>How should the degrees of freedom be calculated for the critical
test statistic? Previous versions used the large sample approximation; if
alpha was .05, the critical test statistic was 1.96 regardless of sample
size and model complexity. The default is now &quot;residual&quot;, meaning the same
degrees of freedom used to calculate p values for regression coefficients.
You may instead choose any number or &quot;normal&quot;, which reverts to the
previous behavior. The argument is not used if <code>control.fdr = TRUE</code>.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_digits">digits</code></td>
<td>
<p>An integer specifying the number of digits past the decimal to
report in the output. Default is 2. You can change the default number of
digits for all jtools functions with
<code>options("jtools-digits" = digits)</code> where digits is the desired
number.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_critical.t">critical.t</code></td>
<td>
<p>If you want to provide the critical test statistic instead
relying on a normal or <em>t</em> approximation, or the <code>control.fdr</code> calculation,
you can give that value here. This allows you to use other methods for
calculating it.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_sig.color">sig.color</code></td>
<td>
<p>Sets the color for areas of the Johnson-Neyman plot where
the slope of the moderator is significant at the specified level. <code>"black"</code>
can be a good choice for greyscale publishing.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_insig.color">insig.color</code></td>
<td>
<p>Sets the color for areas of the Johnson-Neyman plot where
the slope of the moderator is insignificant at the specified level. <code>"grey"</code>
can be a good choice for greyscale publishing.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_mod.range">mod.range</code></td>
<td>
<p>The range of values of the moderator (the x-axis) to plot.
By default, this goes from one standard deviation below the observed range
to one standard deviation above the observed range and the observed range
is highlighted on the plot. You could instead choose to provide the
actual observed minimum and maximum, in which case the range of the
observed data is not highlighted in the plot. Provide the range as a vector,
e.g., <code>c(0, 10)</code>.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_title">title</code></td>
<td>
<p>The plot title. <code>"Johnson-Neyman plot"</code> by default.</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_y.label">y.label</code></td>
<td>
<p>If you prefer to override the automatic labelling of the
y axis, you can specify your own label here. The y axis represents a
<em>slope</em> so it is recommended that you do not simply give the name of the
predictor variable but instead make clear that it is a slope. By default,
&quot;Slope of [pred]&quot; is used (with whatever <code>pred</code> is).</p>
</td></tr>
<tr><td><code id="johnson_neyman_+3A_modx.label">modx.label</code></td>
<td>
<p>If you prefer to override the automatic labelling of
the x axis, you can specify your own label here. By default, the name
<code>modx</code> is used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The interpretation of the values given by this function is important and not
always immediately intuitive. For an interaction between a predictor variable
and moderator variable, it is often the case that the slope of the predictor
is statistically significant at only some values of the moderator. For
example, perhaps the effect of your predictor is only significant when the
moderator is set at some high value.
</p>
<p>The Johnson-Neyman interval provides the two values of the moderator at
which the slope of the predictor goes from non-significant to significant.
Usually, the predictor's slope is only significant <em>outside</em> of the
range given by the function. The output of this function will make it clear
either way.
</p>
<p>One weakness of this method of probing interactions is that it is analogous
to making multiple comparisons without any adjustment to the alpha level.
Esarey &amp; Sumner (2017) proposed a method for addressing this, which is
implemented in the <code>interactionTest</code> package. This function implements that
procedure with modifications to the <code>interactionTest</code> code (that package is
not required to use this function). If you set <code>control.fdr = TRUE</code>, an
alternative <em>t</em> statistic will be calculated based on your specified alpha
level and the data. This will always be a more conservative test than when
<code>control.fdr = FALSE</code>. The printed output will report the calculated
critical <em>t</em> statistic.
</p>
<p>This technique is not easily ported to 3-way interaction contexts. You could,
however, look at the J-N interval at two different levels of a second
moderator. This does forgo a benefit of the J-N technique, which is not
having to pick arbitrary points. If you want to do this, just use the
<code><a href="#topic+sim_slopes">sim_slopes</a></code> function's ability to handle 3-way interactions
and request Johnson-Neyman intervals for each.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>bounds</code></td>
<td>
<p>The two numbers that make up the interval.</p>
</td></tr>
<tr><td><code>cbands</code></td>
<td>
<p>A dataframe with predicted values of the predictor's slope
and lower/upper bounds of confidence bands if you would like to make your
own plots</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>The <code>ggplot</code> object used for plotting. You can tweak the
plot like you could any other from <code>ggplot</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jacob Long <a href="mailto:jacob.long@sc.edu">jacob.long@sc.edu</a>
</p>


<h3>References</h3>

<p>Bauer, D. J., &amp; Curran, P. J. (2005). Probing interactions in fixed and
multilevel regression: Inferential and graphical techniques.
<em>Multivariate Behavioral Research</em>, <em>40</em>(3), 373-400.
<a href="https://doi.org/10.1207/s15327906mbr4003_5">doi:10.1207/s15327906mbr4003_5</a>
</p>
<p>Esarey, J., &amp; Sumner, J. L. (2017). Marginal effects in interaction models:
Determining and controlling the false positive rate. Comparative Political
Studies, 133. Advance online publication.
<a href="https://doi.org/10.1177/0010414017730080">doi:10.1177/0010414017730080</a>
</p>
<p>Johnson, P.O. &amp; Fay, L.C. (1950). The Johnson-Neyman technique, its theory
and application. <em>Psychometrika</em>, <em>15</em>, 349-367.
<a href="https://doi.org/10.1007/BF02288864">doi:10.1007/BF02288864</a>
</p>


<h3>See Also</h3>

<p>Other interaction tools: 
<code><a href="#topic+probe_interaction">probe_interaction</a>()</code>,
<code><a href="#topic+sim_margins">sim_margins</a>()</code>,
<code><a href="#topic+sim_slopes">sim_slopes</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using a fitted lm model
states &lt;- as.data.frame(state.x77)
states$HSGrad &lt;- states$`HS Grad`
fit &lt;- lm(Income ~ HSGrad + Murder*Illiteracy,
  data = states)
johnson_neyman(model = fit, pred = Murder,
  modx = Illiteracy)

</code></pre>

<hr>
<h2 id='plot.sim_margins'>Plot coefficients from simple slopes analysis</h2><span id='topic+plot.sim_margins'></span>

<h3>Description</h3>

<p>This creates a coefficient plot to visually summarize the
results of simple slopes analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sim_margins'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.sim_margins_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+sim_margins">sim_margins()</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.sim_margins_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="jtools.html#topic+plot_summs">jtools::plot_coefs()</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='plot.sim_slopes'>Plot coefficients from simple slopes analysis</h2><span id='topic+plot.sim_slopes'></span>

<h3>Description</h3>

<p>This creates a coefficient plot to visually summarize the
results of simple slopes analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sim_slopes'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.sim_slopes_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+sim_slopes">sim_slopes()</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.sim_slopes_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="jtools.html#topic+plot_summs">jtools::plot_coefs()</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='probe_interaction'>Probe interaction effects via simple slopes and plotting</h2><span id='topic+probe_interaction'></span>

<h3>Description</h3>

<p><code>probe_interaction</code> is a convenience function that allows users to call
both <code><a href="#topic+sim_slopes">sim_slopes</a></code> and <code><a href="#topic+interact_plot">interact_plot</a></code> with a single
call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>probe_interaction(model, pred, modx, mod2 = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="probe_interaction_+3A_model">model</code></td>
<td>
<p>A regression model. The function is tested with <code>lm</code>,
<code>glm</code>, <code><a href="survey.html#topic+svyglm">svyglm</a></code>, <code><a href="lme4.html#topic+merMod">merMod</a></code>,
<code><a href="quantreg.html#topic+rq">rq</a></code>, <code><a href="brms.html#topic+brmsfit">brmsfit</a></code>,
<code>stanreg</code> models.
Models from other classes may work as well but are not officially
supported. The model should include the interaction of interest.</p>
</td></tr>
<tr><td><code id="probe_interaction_+3A_pred">pred</code></td>
<td>
<p>The name of the predictor variable involved
in the interaction. This can be a bare name or string. Note that it
is evaluated using <code>rlang</code>, so programmers can use the <code style="white-space: pre;">&#8288;!!&#8288;</code> syntax
to pass variables instead of the verbatim names.</p>
</td></tr>
<tr><td><code id="probe_interaction_+3A_modx">modx</code></td>
<td>
<p>The name of the moderator variable involved
in the interaction. This can be a bare name or string. The same
<code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="probe_interaction_+3A_mod2">mod2</code></td>
<td>
<p>Optional. The name of the second moderator
variable involved in the interaction. This can be a bare name or string.
The same <code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="probe_interaction_+3A_...">...</code></td>
<td>
<p>Other arguments accepted by <code><a href="#topic+sim_slopes">sim_slopes</a></code> and
<code><a href="#topic+interact_plot">interact_plot</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function simply merges the nearly-equivalent arguments needed to call
both <code><a href="#topic+sim_slopes">sim_slopes</a></code> and <code><a href="#topic+interact_plot">interact_plot</a></code> without the
need for re-typing their common arguments. Note that each function is called
separately and they re-fit a separate model for each level of each
moderator; therefore, the runtime may be considerably longer than the
original model fit. For larger models, this is worth keeping in mind.
</p>
<p>Sometimes, you may want different parameters when doing simple slopes
analysis compared to when plotting interaction effects. For instance, it is
often easier to interpret the regression output when variables are
standardized; but plots are often easier to understand when the variables
are in their original units of measure.
</p>
<p><code>probe_interaction</code> does not
support providing different arguments to each function. If that is needed,
use <code>sim_slopes</code> and <code>interact_plot</code> directly.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>simslopes</code></td>
<td>
<p>The <code>sim_slopes</code> object created.</p>
</td></tr>
<tr><td><code>interactplot</code></td>
<td>
<p>The <code>ggplot</code> object created by
<code>interact_plot</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jacob Long <a href="mailto:jacob.long@sc.edu">jacob.long@sc.edu</a>
</p>


<h3>See Also</h3>

<p>Other interaction tools: 
<code><a href="#topic+johnson_neyman">johnson_neyman</a>()</code>,
<code><a href="#topic+sim_margins">sim_margins</a>()</code>,
<code><a href="#topic+sim_slopes">sim_slopes</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Using a fitted model as formula input
fiti &lt;- lm(Income ~ Frost + Murder * Illiteracy,
  data=as.data.frame(state.x77))
probe_interaction(model = fiti, pred = Murder, modx = Illiteracy,
                  modx.values = "plus-minus")
# 3-way interaction
fiti3 &lt;- lm(Income ~ Frost * Murder * Illiteracy,
  data=as.data.frame(state.x77))
probe_interaction(model = fiti3, pred = Murder, modx = Illiteracy,
                  mod2 = Frost, mod2.values = "plus-minus")

# With svyglm
if (requireNamespace("survey")) {
library(survey)
data(api)
dstrat &lt;- svydesign(id = ~1, strata = ~stype, weights = ~pw,
                    data = apistrat, fpc = ~fpc)
regmodel &lt;- svyglm(api00 ~ ell * meals + sch.wide, design = dstrat)
probe_interaction(model = regmodel, pred = ell, modx = meals,
                  modx.values = "plus-minus", cond.int = TRUE)

# 3-way with survey and factor input
regmodel3 &lt;- svyglm(api00 ~ ell * meals * sch.wide, design = dstrat)
probe_interaction(model = regmodel3, pred = ell, modx = meals,
                  mod2 = sch.wide)
# Can try different configurations of 1st vs 2nd mod
probe_interaction(model = regmodel3, pred = ell, modx = sch.wide,
                  mod2 = meals)
}

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+tidy'></span><span id='topic+glance'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+glance">glance</a></code>, <code><a href="generics.html#topic+tidy">tidy</a></code></p>
</dd>
</dl>

<hr>
<h2 id='sim_margins'>Perform a simple margins analysis.</h2><span id='topic+sim_margins'></span>

<h3>Description</h3>

<p><code>sim_margins</code> conducts a simple margins analysis for the purposes of
understanding two- and three-way interaction effects in linear regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_margins(
  model,
  pred,
  modx,
  mod2 = NULL,
  modx.values = NULL,
  mod2.values = NULL,
  data = NULL,
  cond.int = FALSE,
  vce = c("delta", "simulation", "bootstrap", "none"),
  iterations = 1000,
  digits = getOption("jtools-digits", default = 2),
  pvals = TRUE,
  confint = FALSE,
  ci.width = 0.95,
  cluster = NULL,
  modx.labels = NULL,
  mod2.labels = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sim_margins_+3A_model">model</code></td>
<td>
<p>A regression model. The function is tested with <code>lm</code>,
<code>glm</code>, <code><a href="survey.html#topic+svyglm">svyglm</a></code>, <code><a href="lme4.html#topic+merMod">merMod</a></code>,
<code><a href="quantreg.html#topic+rq">rq</a></code>, <code><a href="brms.html#topic+brmsfit">brmsfit</a></code>,
<code>stanreg</code> models.
Models from other classes may work as well but are not officially
supported. The model should include the interaction of interest.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_pred">pred</code></td>
<td>
<p>The name of the predictor variable involved
in the interaction. This can be a bare name or string. Note that it
is evaluated using <code>rlang</code>, so programmers can use the <code style="white-space: pre;">&#8288;!!&#8288;</code> syntax
to pass variables instead of the verbatim names.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_modx">modx</code></td>
<td>
<p>The name of the moderator variable involved
in the interaction. This can be a bare name or string. The same
<code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_mod2">mod2</code></td>
<td>
<p>Optional. The name of the second moderator
variable involved in the interaction. This can be a bare name or string.
The same <code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_modx.values">modx.values</code></td>
<td>
<p>For which values of the moderator should lines be
plotted? There are two basic options:
</p>

<ul>
<li><p> A vector of values (e.g., <code>c(1, 2, 3)</code>)
</p>
</li>
<li><p> A single argument asking to calculate a set of values. See details
below.
</p>
</li></ul>

<p>Default is <code>NULL</code>. If <code>NULL</code> (or <code>mean-plus-minus</code>),
then the customary +/- 1 standard
deviation from the mean as well as the mean itself are used for continuous
moderators. If <code>"plus-minus"</code>, plots lines when the moderator is at
+/- 1 standard deviation without the mean. You may also choose <code>"terciles"</code>
to split the data into equally-sized groups and choose the point at the
mean of each of those groups.
</p>
<p>If the moderator is a factor variable and <code>modx.values</code> is
<code>NULL</code>, each level of the factor is included. You may specify
any subset of the factor levels (e.g., <code>c("Level 1", "Level 3")</code>) as long
as there is more than 1. The levels will be plotted in the order you
provide them, so this can be used to reorder levels as well.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_mod2.values">mod2.values</code></td>
<td>
<p>For which values of the second moderator should the plot
be
facetted by? That is, there will be a separate plot for each level of this
moderator. Defaults are the same as <code>modx.values</code>.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_data">data</code></td>
<td>
<p>Optional, default is NULL. You may provide the data used to
fit the model. This can be a better way to get mean values for centering
and can be crucial for models with variable transformations in the formula
(e.g., <code>log(x)</code>) or polynomial terms (e.g., <code>poly(x, 2)</code>). You will
see a warning if the function detects problems that would likely be
solved by providing the data with this argument and the function will
attempt to retrieve the original data from the global environment.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_cond.int">cond.int</code></td>
<td>
<p>Should conditional intercepts be printed in addition to the
slopes? Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_vce">vce</code></td>
<td>
<p>A character string indicating the type of estimation procedure to use for estimating variances. The default (&ldquo;delta&rdquo;) uses the delta method. Alternatives are &ldquo;bootstrap&rdquo;, which uses bootstrap estimation, or &ldquo;simulation&rdquo;, which averages across simulations drawn from the joint sampling distribution of model coefficients. The latter two are extremely time intensive.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_iterations">iterations</code></td>
<td>
<p>If <code>vce = "bootstrap"</code>, the number of bootstrap iterations. If <code>vce = "simulation"</code>, the number of simulated effects to draw. Ignored otherwise.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_digits">digits</code></td>
<td>
<p>An integer specifying the number of digits past the decimal to
report in the output. Default is 2. You can change the default number of
digits for all jtools functions with
<code>options("jtools-digits" = digits)</code> where digits is the desired
number.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_pvals">pvals</code></td>
<td>
<p>Show p values? If <code>FALSE</code>, these
are not printed. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_confint">confint</code></td>
<td>
<p>Show confidence intervals instead of standard errors? Default
is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_ci.width">ci.width</code></td>
<td>
<p>A number between 0 and 1 that signifies the width of the
desired confidence interval. Default is <code>.95</code>, which corresponds
to a 95% confidence interval. Ignored if <code>confint = FALSE</code>.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_cluster">cluster</code></td>
<td>
<p>For clustered standard errors, provide the column name of
the cluster variable in the input data frame (as a string). Alternately,
provide a vector of clusters.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_modx.labels">modx.labels</code></td>
<td>
<p>A character vector of labels for each level of the
moderator values, provided in the same order as the <code>modx.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>modx,values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_mod2.labels">mod2.labels</code></td>
<td>
<p>A character vector of labels for each level of the 2nd
moderator values, provided in the same order as the <code>mod2.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>mod2.values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="sim_margins_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This allows the user to perform a simple margins analysis for the
purpose of probing interaction effects in a linear regression. Two- and
three-way interactions are supported, though one should be warned that
three-way interactions are not easy to interpret in this way.
</p>
<p>The function is tested with <code>lm</code>, <code>glm</code>, <code>svyglm</code>, and <code>merMod</code> inputs.
Others may work as well, but are not tested. In all but the linear model
case, be aware that not all the assumptions applied to simple slopes
analysis apply.
</p>


<h3>Value</h3>

<p>A list object with the following components:
</p>
<table role = "presentation">
<tr><td><code>slopes</code></td>
<td>
<p>A table of coefficients for the focal predictor at each
value of the moderator</p>
</td></tr>
<tr><td><code>ints</code></td>
<td>
<p>A table of coefficients for the intercept at each value of the
moderator</p>
</td></tr>
<tr><td><code>modx.values</code></td>
<td>
<p>The values of the moderator used in the analysis</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jacob Long <a href="mailto:jacob.long@sc.edu">jacob.long@sc.edu</a>
</p>


<h3>References</h3>

<p>Bauer, D. J., &amp; Curran, P. J. (2005). Probing interactions in fixed and
multilevel regression: Inferential and graphical techniques.
<em>Multivariate Behavioral Research</em>, <em>40</em>(3), 373-400.
<a href="https://doi.org/10.1207/s15327906mbr4003_5">doi:10.1207/s15327906mbr4003_5</a>
</p>
<p>Cohen, J., Cohen, P., West, S. G., &amp; Aiken, L. S. (2003). <em>Applied
multiple regression/correlation analyses for the behavioral sciences</em> (3rd
ed.). Mahwah, NJ: Lawrence Erlbaum Associates, Inc.
</p>
<p>Hanmer, M. J., &amp; Kalkan, K. O. (2013). Behind the curve: Clarifying the best
approach to calculating predicted probabilities and marginal effects from
limited dependent variable models. <em>American Journal of Political Science</em>,
<em>57</em>, 263277. <a href="https://doi.org/10.1111/j.1540-5907.2012.00602.x">doi:10.1111/j.1540-5907.2012.00602.x</a>
</p>


<h3>See Also</h3>

<p><code><a href="margins.html#topic+margins">margins::margins()</a></code>
</p>
<p>Other interaction tools: 
<code><a href="#topic+johnson_neyman">johnson_neyman</a>()</code>,
<code><a href="#topic+probe_interaction">probe_interaction</a>()</code>,
<code><a href="#topic+sim_slopes">sim_slopes</a>()</code>
</p>

<hr>
<h2 id='sim_slopes'>Perform a simple slopes analysis.</h2><span id='topic+sim_slopes'></span>

<h3>Description</h3>

<p><code>sim_slopes</code> conducts a simple slopes analysis for the purposes of
understanding two- and three-way interaction effects in linear regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_slopes(
  model,
  pred,
  modx,
  mod2 = NULL,
  modx.values = NULL,
  mod2.values = NULL,
  centered = "all",
  at = NULL,
  data = NULL,
  cond.int = FALSE,
  johnson_neyman = TRUE,
  jnplot = FALSE,
  jnalpha = 0.05,
  robust = FALSE,
  digits = getOption("jtools-digits", default = 2),
  pvals = TRUE,
  confint = FALSE,
  ci.width = 0.95,
  cluster = NULL,
  modx.labels = NULL,
  mod2.labels = NULL,
  v.cov = NULL,
  v.cov.args = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sim_slopes_+3A_model">model</code></td>
<td>
<p>A regression model. The function is tested with <code>lm</code>,
<code>glm</code>, <code><a href="survey.html#topic+svyglm">svyglm</a></code>, <code><a href="lme4.html#topic+merMod">merMod</a></code>,
<code><a href="quantreg.html#topic+rq">rq</a></code>, <code><a href="brms.html#topic+brmsfit">brmsfit</a></code>,
<code>stanreg</code> models.
Models from other classes may work as well but are not officially
supported. The model should include the interaction of interest.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_pred">pred</code></td>
<td>
<p>The name of the predictor variable involved
in the interaction. This can be a bare name or string. Note that it
is evaluated using <code>rlang</code>, so programmers can use the <code style="white-space: pre;">&#8288;!!&#8288;</code> syntax
to pass variables instead of the verbatim names.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_modx">modx</code></td>
<td>
<p>The name of the moderator variable involved
in the interaction. This can be a bare name or string. The same
<code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_mod2">mod2</code></td>
<td>
<p>Optional. The name of the second moderator
variable involved in the interaction. This can be a bare name or string.
The same <code>rlang</code> proviso applies as with <code>pred</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_modx.values">modx.values</code></td>
<td>
<p>For which values of the moderator should lines be
plotted? There are two basic options:
</p>

<ul>
<li><p> A vector of values (e.g., <code>c(1, 2, 3)</code>)
</p>
</li>
<li><p> A single argument asking to calculate a set of values. See details
below.
</p>
</li></ul>

<p>Default is <code>NULL</code>. If <code>NULL</code> (or <code>mean-plus-minus</code>),
then the customary +/- 1 standard
deviation from the mean as well as the mean itself are used for continuous
moderators. If <code>"plus-minus"</code>, plots lines when the moderator is at
+/- 1 standard deviation without the mean. You may also choose <code>"terciles"</code>
to split the data into equally-sized groups and choose the point at the
mean of each of those groups.
</p>
<p>If the moderator is a factor variable and <code>modx.values</code> is
<code>NULL</code>, each level of the factor is included. You may specify
any subset of the factor levels (e.g., <code>c("Level 1", "Level 3")</code>) as long
as there is more than 1. The levels will be plotted in the order you
provide them, so this can be used to reorder levels as well.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_mod2.values">mod2.values</code></td>
<td>
<p>For which values of the second moderator should the plot
be
facetted by? That is, there will be a separate plot for each level of this
moderator. Defaults are the same as <code>modx.values</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_centered">centered</code></td>
<td>
<p>A vector of quoted variable names that are to be
mean-centered. If <code>"all"</code>, all non-focal predictors as well as
the <code>pred</code> variable are centered. You
may instead pass a character vector of variables to center. User can
also use &quot;none&quot; to base all predictions on variables set at 0.
The response variable, <code>modx</code>, and <code>mod2</code> variables are never
centered.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_at">at</code></td>
<td>
<p>If you want to manually set the values of other variables in the
model, do so by providing a named list where the names are the variables and
the list values are vectors of the values. Note that you cannot alter the
values of the <code>pred</code>, <code>modx</code>, or <code>mod2</code> variables and this will take
precedence over the <code>centered</code> argument (but any variables unmentioned by
<code>at</code> will be centered as specified by <code>centered</code>). For linear models,
this will only change the output of the conditional intercepts.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_data">data</code></td>
<td>
<p>Optional, default is NULL. You may provide the data used to
fit the model. This can be a better way to get mean values for centering
and can be crucial for models with variable transformations in the formula
(e.g., <code>log(x)</code>) or polynomial terms (e.g., <code>poly(x, 2)</code>). You will
see a warning if the function detects problems that would likely be
solved by providing the data with this argument and the function will
attempt to retrieve the original data from the global environment.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_cond.int">cond.int</code></td>
<td>
<p>Should conditional intercepts be printed in addition to the
slopes? Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_johnson_neyman">johnson_neyman</code></td>
<td>
<p>Should the Johnson-Neyman interval be calculated?
Default is <code>TRUE</code>. This can be performed separately with
<code><a href="#topic+johnson_neyman">johnson_neyman</a></code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_jnplot">jnplot</code></td>
<td>
<p>Should the Johnson-Neyman interval be plotted as well? Default
is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_jnalpha">jnalpha</code></td>
<td>
<p>What should the alpha level be for the Johnson-Neyman
interval? Default is .05, which corresponds to a 95% confidence interval.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_robust">robust</code></td>
<td>
<p>Should robust standard errors be used to find confidence
intervals for supported models? Default is FALSE, but you should specify
the type of sandwich standard errors if you'd like to use them (i.e.,
<code>"HC0"</code>, <code>"HC1"</code>, and so on). If <code>TRUE</code>, defaults to <code>"HC3"</code> standard
errors.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_digits">digits</code></td>
<td>
<p>An integer specifying the number of digits past the decimal to
report in the output. Default is 2. You can change the default number of
digits for all jtools functions with
<code>options("jtools-digits" = digits)</code> where digits is the desired
number.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_pvals">pvals</code></td>
<td>
<p>Show p values? If <code>FALSE</code>, these
are not printed. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_confint">confint</code></td>
<td>
<p>Show confidence intervals instead of standard errors? Default
is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_ci.width">ci.width</code></td>
<td>
<p>A number between 0 and 1 that signifies the width of the
desired confidence interval. Default is <code>.95</code>, which corresponds
to a 95% confidence interval. Ignored if <code>confint = FALSE</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_cluster">cluster</code></td>
<td>
<p>For clustered standard errors, provide the column name of
the cluster variable in the input data frame (as a string). Alternately,
provide a vector of clusters.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_modx.labels">modx.labels</code></td>
<td>
<p>A character vector of labels for each level of the
moderator values, provided in the same order as the <code>modx.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>modx,values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_mod2.labels">mod2.labels</code></td>
<td>
<p>A character vector of labels for each level of the 2nd
moderator values, provided in the same order as the <code>mod2.values</code>
argument. If <code>NULL</code>, the values themselves are used as labels unless
<code>mod2.values</code> is also <code>NULL</code>. In that case, &quot;+1 SD&quot; and &quot;-1 SD&quot;
are used.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_v.cov">v.cov</code></td>
<td>
<p>A function to calculate variances for the model. Examples
could be <code><a href="sandwich.html#topic+vcovPC">sandwich::vcovPC()</a></code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_v.cov.args">v.cov.args</code></td>
<td>
<p>A list of arguments for the <code>v.cov</code> function. For
whichever argument should be the fitted model, put <code>"model"</code>.</p>
</td></tr>
<tr><td><code id="sim_slopes_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="#topic+johnson_neyman">johnson_neyman</a></code> and
<code>summ</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This allows the user to perform a simple slopes analysis for the
purpose of probing interaction effects in a linear regression. Two- and
three-way interactions are supported, though one should be warned that
three-way interactions are not easy to interpret in this way.
</p>
<p>For more about Johnson-Neyman intervals, see <code><a href="#topic+johnson_neyman">johnson_neyman</a></code>.
</p>
<p>The function is tested with <code>lm</code>, <code>glm</code>, <code>svyglm</code>, and <code>merMod</code> inputs.
Others may work as well, but are not tested. In all but the linear model
case, be aware that not all the assumptions applied to simple slopes
analysis apply.
</p>


<h3>Value</h3>

<p>A list object with the following components:
</p>
<table role = "presentation">
<tr><td><code>slopes</code></td>
<td>
<p>A table of coefficients for the focal predictor at each
value of the moderator</p>
</td></tr>
<tr><td><code>ints</code></td>
<td>
<p>A table of coefficients for the intercept at each value of the
moderator</p>
</td></tr>
<tr><td><code>modx.values</code></td>
<td>
<p>The values of the moderator used in the analysis</p>
</td></tr>
<tr><td><code>mods</code></td>
<td>
<p>A list containing each regression model created to estimate
the conditional coefficients.</p>
</td></tr>
<tr><td><code>jn</code></td>
<td>
<p>If <code>johnson_neyman = TRUE</code>, a list of <code>johnson_neyman</code>
objects from <code><a href="#topic+johnson_neyman">johnson_neyman</a></code>. These contain the values of the
interval and the plots. If a 2-way interaction, the list will be of length
</p>

<ol>
<li><p> Otherwise, there will be 1 <code>johnson_neyman</code> object for each value of
the
2nd moderator for 3-way interactions.</p>
</li></ol>

</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jacob Long <a href="mailto:jacob.long@sc.edu">jacob.long@sc.edu</a>
</p>


<h3>References</h3>

<p>Bauer, D. J., &amp; Curran, P. J. (2005). Probing interactions in fixed and
multilevel regression: Inferential and graphical techniques.
<em>Multivariate Behavioral Research</em>, <em>40</em>(3), 373-400.
<a href="https://doi.org/10.1207/s15327906mbr4003_5">doi:10.1207/s15327906mbr4003_5</a>
</p>
<p>Cohen, J., Cohen, P., West, S. G., &amp; Aiken, L. S. (2003). <em>Applied
multiple regression/correlation analyses for the behavioral sciences</em> (3rd
ed.). Mahwah, NJ: Lawrence Erlbaum Associates, Inc.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+interact_plot">interact_plot</a></code> accepts similar syntax and will plot the
results with <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>.
</p>
<p><code>testSlopes()</code> from <code>rockchalk</code> performs a hypothesis test of
differences and provides Johnson-Neyman intervals.
</p>
<p><code>simpleSlope()</code> from <code>pequod</code> performs a similar analysis.
</p>
<p>Other interaction tools: 
<code><a href="#topic+johnson_neyman">johnson_neyman</a>()</code>,
<code><a href="#topic+probe_interaction">probe_interaction</a>()</code>,
<code><a href="#topic+sim_margins">sim_margins</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Using a fitted model as formula input
fiti &lt;- lm(Income ~ Frost + Murder * Illiteracy,
  data = as.data.frame(state.x77))
sim_slopes(model = fiti, pred = Murder, modx = Illiteracy)

# With svyglm
if (requireNamespace("survey")) {
library(survey)
data(api)
dstrat &lt;- svydesign(id = ~1, strata = ~stype, weights = ~pw,
                    data = apistrat, fpc = ~fpc)
regmodel &lt;- svyglm(api00 ~ ell * meals, design = dstrat)
sim_slopes(regmodel, pred = ell, modx = meals)

# 3-way with survey and factor input
regmodel &lt;- svyglm(api00 ~ ell * meals * sch.wide, design = dstrat)
sim_slopes(regmodel, pred = ell, modx = meals, mod2 = sch.wide)
}

</code></pre>

<hr>
<h2 id='tidy.sim_margins'>Tidiers for <code><a href="#topic+sim_margins">sim_margins()</a></code> objects.</h2><span id='topic+tidy.sim_margins'></span><span id='topic+glance.sim_margins'></span>

<h3>Description</h3>

<p>You can use <code><a href="broom.html#topic+reexports">broom::tidy()</a></code> and <code><a href="broom.html#topic+reexports">broom::glance()</a></code> for &quot;tidy&quot;
methods of storing <code>sim_margins</code> output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sim_margins'
tidy(x, conf.level = 0.95, ...)

## S3 method for class 'sim_margins'
glance(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tidy.sim_margins_+3A_x">x</code></td>
<td>
<p>The <code>sim_margins</code> object</p>
</td></tr>
<tr><td><code id="tidy.sim_margins_+3A_conf.level">conf.level</code></td>
<td>
<p>The width of confidence intervals. Default is .95 (95%).</p>
</td></tr>
<tr><td><code id="tidy.sim_margins_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>

<hr>
<h2 id='tidy.sim_slopes'>Tidiers for <code><a href="#topic+sim_slopes">sim_slopes()</a></code> objects.</h2><span id='topic+tidy.sim_slopes'></span><span id='topic+glance.sim_slopes'></span>

<h3>Description</h3>

<p>You can use <code><a href="broom.html#topic+reexports">broom::tidy()</a></code> and <code><a href="broom.html#topic+reexports">broom::glance()</a></code> for &quot;tidy&quot;
methods of storing <code>sim_slopes</code> output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sim_slopes'
tidy(x, conf.level = 0.95, ...)

## S3 method for class 'sim_slopes'
glance(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tidy.sim_slopes_+3A_x">x</code></td>
<td>
<p>The <code>sim_slopes</code> object</p>
</td></tr>
<tr><td><code id="tidy.sim_slopes_+3A_conf.level">conf.level</code></td>
<td>
<p>The width of confidence intervals. Default is .95 (95%).</p>
</td></tr>
<tr><td><code id="tidy.sim_slopes_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

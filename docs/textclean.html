<!DOCTYPE html><html lang="en"><head><title>Help for package textclean</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {textclean}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#textclean'><p>Text Cleaning Tools</p></a></li>
<li><a href='#add_comma_space'><p>Ensure Space After Comma</p></a></li>
<li><a href='#add_missing_endmark'><p>Add Missing Endmarks</p></a></li>
<li><a href='#check_text'><p>Check Text For Potential Problems</p></a></li>
<li><a href='#DATA'><p>Fictitious Classroom Dialogue</p></a></li>
<li><a href='#drop_element'><p>Filter Elements in a Vetor</p></a></li>
<li><a href='#drop_row'><p>Filter Rows That Contain Markers</p></a></li>
<li><a href='#fgsub'><p>Replace a Regex with an Functional Operation on the Regex Match</p></a></li>
<li><a href='#filter_element'><p>Remove Elements in a Vetor</p></a></li>
<li><a href='#filter_row'><p>Remove Rows That Contain Markers</p></a></li>
<li><a href='#has_endmark'><p>Test for Incomplete Sentences</p></a></li>
<li><a href='#make_plural'><p>Make Plural (or Verb to Singular) Versions of Words</p></a></li>
<li><a href='#match_tokens'><p>Find Tokens that Match a Regex</p></a></li>
<li><a href='#mgsub'><p>Multiple <code>gsub</code></p></a></li>
<li><a href='#print.check_text'><p>Prints a check_text Object</p></a></li>
<li><a href='#print.sub_holder'><p>Prints a sub_holder object</p></a></li>
<li><a href='#print.which_are_locs'><p>Prints a which_are_locs Object</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#replace_contraction'><p>Replace Contractions</p></a></li>
<li><a href='#replace_date'><p>Replace Dates With Words</p></a></li>
<li><a href='#replace_email'><p>Replace Email Addresses</p></a></li>
<li><a href='#replace_emoji'><p>Replace Emojis With Words/Identifier</p></a></li>
<li><a href='#replace_emoticon'><p>Replace Emoticons With Words</p></a></li>
<li><a href='#replace_grade'><p>Replace Grades With Words</p></a></li>
<li><a href='#replace_hash'><p>Replace Hashes</p></a></li>
<li><a href='#replace_html'><p>Replace HTML Markup</p></a></li>
<li><a href='#replace_incomplete'><p>Denote Incomplete End Marks With &quot;|&quot;</p></a></li>
<li><a href='#replace_internet_slang'><p>Replace Internet Slang</p></a></li>
<li><a href='#replace_kern'><p>Replace Kerned (Spaced) with No Space Version</p></a></li>
<li><a href='#replace_money'><p>Replace Money With Words</p></a></li>
<li><a href='#replace_names'><p>Replace First/Last Names</p></a></li>
<li><a href='#replace_non_ascii'><p>Replace Common Non-ASCII Characters</p></a></li>
<li><a href='#replace_number'><p>Replace Numbers With Text Representation</p></a></li>
<li><a href='#replace_ordinal'><p>Replace Mixed Ordinal Numbers With Text Representation</p></a></li>
<li><a href='#replace_rating'><p>Replace Ratings With Words</p></a></li>
<li><a href='#replace_symbol'><p>Replace Symbols With Word Equivalents</p></a></li>
<li><a href='#replace_tag'><p>Replace Handle Tags</p></a></li>
<li><a href='#replace_time'><p>Replace Time Stamps With Words</p></a></li>
<li><a href='#replace_to'><p>Grab Begin/End of String to/from Character</p></a></li>
<li><a href='#replace_tokens'><p>Replace Tokens</p></a></li>
<li><a href='#replace_url'><p>Replace URLs</p></a></li>
<li><a href='#replace_white'><p>Remove Escaped Characters</p></a></li>
<li><a href='#replace_word_elongation'><p>Replace Word Elongations</p></a></li>
<li><a href='#strip'><p>Strip Text</p></a></li>
<li><a href='#sub_holder'><p>Hold the Place of Characters Prior to Subbing</p></a></li>
<li><a href='#swap'><p>Swap Two Patterns Simultaneously</p></a></li>
<li><a href='#which_are'><p>Detect/Locate Potential Non-Normalized Text</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Text Cleaning Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tyler Rinker &lt;tyler.rinker@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to clean and process text.  Tools are geared at checking for substrings that
          are not optimal for analysis and replacing or removing them (normalizing) with more
          analysis friendly substrings (see Sproat, Black, Chen, Kumar, Ostendorf, &amp; Richards
          (2001) &lt;<a href="https://doi.org/10.1006%2Fcsla.2001.0169">doi:10.1006/csla.2001.0169</a>&gt;) or extracting them into new variables. For
          example, emoticons are often used in text but not always easily handled by analysis
          algorithms.  The replace_emoticon() function replaces emoticons with word
          equivalents.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, english(&ge; 1.0-2), glue (&ge; 1.3.0), lexicon (&ge;
1.0.0), mgsub (&ge; 1.5.0), qdapRegex, stringi, textshape(&ge;
1.0.1), utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/trinker/textclean">https://github.com/trinker/textclean</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/trinker/textclean/issues">https://github.com/trinker/textclean/issues</a></td>
</tr>
<tr>
<td>Collate:</td>
<td>'add_comma_space.R' 'add_missing_endmark.R' 'utils.R'
'replace_html.R' 'check_text_logicals.R' 'check_text.R'
'drop_element.R' 'drop_row.R' 'fgsub.R' 'filter_element.R'
'filter_row.R' 'glue-reexports.R' 'has_endmark.R'
'make_plural.R' 'match_tokens.R' 'mgsub.R'
'replace_contraction.R' 'replace_date.R' 'replace_email.R'
'replace_emoji.R' 'replace_emoticon.R' 'replace_grade.R'
'replace_hash.R' 'replace_incomplete.R'
'replace_internet_slang.R' 'replace_kerning.R'
'replace_money.R' 'replace_names.R' 'replace_non_ascii.R'
'replace_number.R' 'replace_ordinal.R' 'replace_rating.R'
'replace_symbol.R' 'replace_tag.R' 'replace_time.R'
'replace_to.R' 'replace_tokens.R' 'replace_url.R'
'replace_white.R' 'replace_word_elongation.R' 'strip.R'
'sub_holder.R' 'swap.R' 'textclean-package.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-07-23 15:57:55 UTC; trinker</td>
</tr>
<tr>
<td>Author:</td>
<td>Tyler Rinker [aut, cre],
  ctwheels StackOverflow [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-07-23 16:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='textclean'>Text Cleaning Tools</h2><span id='topic+textclean'></span><span id='topic+package-textclean'></span><span id='topic+textclean-package'></span>

<h3>Description</h3>

<p>Tools to clean and process text.
</p>

<hr>
<h2 id='add_comma_space'>Ensure Space After Comma</h2><span id='topic+add_comma_space'></span>

<h3>Description</h3>

<p>Adds a space after a comma as <code>strip</code> and many other functions may consider a 
comma separated string as one word (i.e., <code>"one,two,three"</code> becomes 
<code>"onetwothree"</code>  rather than <code>"one two three"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_comma_space(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_comma_space_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of strings with commas that have a space after them.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- c("the,  dog,went", "I,like,it", "where are you", NA, "why", ",", ",f")
add_comma_space(x)

## End(Not run)
</code></pre>

<hr>
<h2 id='add_missing_endmark'>Add Missing Endmarks</h2><span id='topic+add_missing_endmark'></span>

<h3>Description</h3>

<p>Detect missing endmarks and replace with the desired symbol.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_missing_endmark(x, replacement = "|", endmarks = c("?", ".", "!"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_missing_endmark_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="add_missing_endmark_+3A_replacement">replacement</code></td>
<td>
<p>Character string equal in length to pattern or of length 
one which are  a replacement for matched pattern.</p>
</td></tr>
<tr><td><code id="add_missing_endmark_+3A_endmarks">endmarks</code></td>
<td>
<p>The potential ending punctuation marks.</p>
</td></tr>
<tr><td><code id="add_missing_endmark_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to 
<code><a href="#topic+has_endmark">has_endmark</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with missing endmarks added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "This in a", 
    "I am funny!", 
    "An ending of sorts%", 
    "What do you want?"
)

add_missing_endmark(x)
</code></pre>

<hr>
<h2 id='check_text'>Check Text For Potential Problems</h2><span id='topic+check_text'></span><span id='topic+available_checks'></span>

<h3>Description</h3>

<p><code>check_text</code> - Uncleaned text may result in errors, warnings, and 
incorrect results in subsequent analysis.  <code>check_text</code> checks text for 
potential problems and suggests possible fixes.  Potential text anomalies 
that are detected include: factors, missing ending punctuation, empty cells, 
double punctuation, non-space after comma, no alphabetic characters, 
non-ASCII, missing value, and potentially misspelled words.
</p>
<p><code>available_check</code> - Provide a data.frame view of all the available 
checks in the <code>check_text</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_text(x, file = NULL, checks = NULL, n = 10, ...)

available_checks()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_text_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="check_text_+3A_file">file</code></td>
<td>
<p>A connection, or a character string naming the file to print to.
If <code>NULL</code> prints to the console.  Note that this is assigned as an 
attribute and passed to <code>print</code>.</p>
</td></tr>
<tr><td><code id="check_text_+3A_checks">checks</code></td>
<td>
<p>A vector of checks to include from <code>which_are</code>.  If 
<code>checks = NULL</code>, all checks from <code>which_are</code> which be used.  Note
that all meta checks will be conducted (see <code>which_are</code> for details on
meta checks).</p>
</td></tr>
<tr><td><code id="check_text_+3A_n">n</code></td>
<td>
<p>The number of affected elements to print out (the rest are truncated).</p>
</td></tr>
<tr><td><code id="check_text_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following potential text faults report:<br />
</p>

<ul>
<li><p>contraction- Text elements that contain contractions
</p>
</li>
<li><p>date- Text elements that contain dates
</p>
</li>
<li><p>digit- Text elements that contain digits/numbers
</p>
</li>
<li><p>email- Text elements that contain email addresses
</p>
</li>
<li><p>emoticon- Text elements that contain emoticons
</p>
</li>
<li><p>empty- Text elements that contain empty text cells (all white space)
</p>
</li>
<li><p>escaped- Text elements that contain escaped back spaced characters
</p>
</li>
<li><p>hash- Text elements that contain Twitter style hash tags (e.g., #rstats)
</p>
</li>
<li><p>html- Text elements that contain HTML markup
</p>
</li>
<li><p>incomplete- Text elements that contain incomplete sentences (e.g., uses ending punctuation like ...)
</p>
</li>
<li><p>kern- Text elements that contain kerning (e.g., 'The B O M B!')
</p>
</li>
<li><p>list_column- Text variable that is a list column
</p>
</li>
<li><p>missing_value- Text elements that contain missing values
</p>
</li>
<li><p>misspelled- Text elements that contain potentially misspelled words
</p>
</li>
<li><p>no_alpha- Text elements that contain elements with no alphabetic (a-z) letters
</p>
</li>
<li><p>no_endmark- Text elements that contain elements with missing ending punctuation
</p>
</li>
<li><p>no_space_after_comma- Text elements that contain commas with no space afterwards
</p>
</li>
<li><p>non_ascii- Text elements that contain non-ASCII text
</p>
</li>
<li><p>non_character- Text variable that is not a character column (likely <code>factor</code>)
</p>
</li>
<li><p>non_split_sentence- Text elements that contain unsplit sentences (more than one sentence per element)
</p>
</li>
<li><p>tag- Text elements that contain Twitter style handle tags (e.g., @trinker)
</p>
</li>
<li><p>time- Text elements that contain timestamps
</p>
</li>
<li><p>url- Text elements that contain URLs
</p>
</li></ul>



<h3>Note</h3>

<p>The output is a list containing meta checks and elemental checks
but prints as a pretty formatted output with potential problem elements, the 
accompanying text, and possible suggestions to fix the text.
</p>

<hr>
<h2 id='DATA'>Fictitious Classroom Dialogue</h2><span id='topic+DATA'></span>

<h3>Description</h3>

<p>A fictitious dataset useful for small demonstrations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(DATA)
</code></pre>


<h3>Format</h3>

<p>A data frame with 11 rows and 5 variables</p>


<h3>Details</h3>


<ul>
<li><p> person. Speaker
</p>
</li>
<li><p> sex. Gender
</p>
</li>
<li><p> adult. Dummy coded adult (0-no; 1-yes)
</p>
</li>
<li><p> state. Statement (dialogue)
</p>
</li>
<li><p> code. Dialogue coding scheme
</p>
</li></ul>


<hr>
<h2 id='drop_element'>Filter Elements in a Vetor</h2><span id='topic+drop_element'></span><span id='topic+drop_element_regex'></span><span id='topic+drop_element_fixed'></span><span id='topic+keep_element'></span><span id='topic+keep_element_fixed'></span><span id='topic+keep_element_regex'></span>

<h3>Description</h3>

<p><code>drop_element</code> - Filter to drop the matching elements of a vector.
</p>
<p><code>keep_element</code> - Filter to keep the matching elements of a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_element(x, pattern, regex = TRUE, ...)

drop_element_regex(x, pattern, ...)

drop_element_fixed(x, ...)

keep_element(x, pattern, regex = TRUE, ...)

keep_element_fixed(x, ...)

keep_element_regex(x, pattern, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop_element_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="drop_element_+3A_pattern">pattern</code></td>
<td>
<p>A regex pattern to match for exclusion.</p>
</td></tr>
<tr><td><code id="drop_element_+3A_regex">regex</code></td>
<td>
<p>logical.  If setting this to <code>TRUE</code> please use 
<code>drop_element_regex</code> or <code>keep_element_regex</code> directly as this will
provide better control and optimization.</p>
</td></tr>
<tr><td><code id="drop_element_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+grep">grep</a></code> if 
<code>regex</code>.  If <code>fixed</code>, then elements to drop/keep.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with matching elements removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c('dog', 'cat', 'bat', 'dingo', 'dragon', 'dino')
drop_element(x, '^d.+?g')
keep_element(x, '^d.+?g')
drop_element(x, 'at$')
drop_element(x, '^d')
drop_element(x, '\\b(dog|cat)\\b')

drop_element_fixed(x, 'bat', 'cat')
drops &lt;- c('bat', 'cat')
drop_element_fixed(x, drops)
</code></pre>

<hr>
<h2 id='drop_row'>Filter Rows That Contain Markers</h2><span id='topic+drop_row'></span><span id='topic+keep_row'></span><span id='topic+drop_empty_row'></span><span id='topic+drop_NA'></span>

<h3>Description</h3>

<p><code>drop_row</code> - Remove rows from a data set that contain a given 
marker/term.
</p>
<p><code>keep_row</code> - Keep rows from a data set that contain a given marker/term.
</p>
<p><code>drop_empty_row</code> - Removes the empty rows of a data set that are common in 
reading in data.
</p>
<p><code>drop_NA</code> - Removes the <code>NA</code> rows of a data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_row(dataframe, column, terms, ...)

keep_row(dataframe, column, terms, ...)

drop_empty_row(dataframe)

drop_NA(dataframe, column = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop_row_+3A_dataframe">dataframe</code></td>
<td>
<p>A dataframe object.</p>
</td></tr>
<tr><td><code id="drop_row_+3A_column">column</code></td>
<td>
<p>Column name to search for markers/terms.</p>
</td></tr>
<tr><td><code id="drop_row_+3A_terms">terms</code></td>
<td>
<p>The regex terms/markers of the rows that are to be removed from 
the dataframe.</p>
</td></tr>
<tr><td><code id="drop_row_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+grepl">grepl</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>drop_row</code> - returns a dataframe with the termed/markered rows 
removed.
</p>
<p><code>drop_empty_row</code> - returns a dataframe with empty rows removed.
</p>
<p><code>drop_NA</code> - returns a dataframe with <code>NA</code> rows removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## drop_row EXAMPLE:
drop_row(DATA, "person", c("sam", "greg"))
keep_row(DATA, "person", c("sam", "greg"))
drop_row(DATA, 1, c("sam", "greg"))
drop_row(DATA, "state", c("Comp"))
drop_row(DATA, "state", c("I "))
drop_row(DATA, "state", c("you"), ignore.case=TRUE)

## drop_empty_row EXAMPLE:
(dat &lt;- rbind.data.frame(DATA[, c(1, 4)], matrix(rep(" ", 4), 
   ncol =2, dimnames=list(12:13, colnames(DATA)[c(1, 4)]))))
drop_empty_row(dat)

## drop_NA EXAMPLE:
DATA[1:3, "state"] &lt;- NA
drop_NA(DATA)

## End(Not run)
</code></pre>

<hr>
<h2 id='fgsub'>Replace a Regex with an Functional Operation on the Regex Match</h2><span id='topic+fgsub'></span>

<h3>Description</h3>

<p>This is a stripped down version of <code>gsubfn</code> from the <span class="pkg">gsubfn</span> 
package.  It finds a regex match, and then uses a function to operate on
these matches and uses them to replace the original matches.  Note that
the <span class="pkg">stringi</span> packages is used for matching and extracting the regex 
matches.  For more powerful or flexible needs please see the <span class="pkg">gsubfn</span> 
package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fgsub(x, pattern, fun, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fgsub_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="fgsub_+3A_pattern">pattern</code></td>
<td>
<p>Character string to be matched in the given character vector.</p>
</td></tr>
<tr><td><code id="fgsub_+3A_fun">fun</code></td>
<td>
<p>A function to operate on the extracted matches.</p>
</td></tr>
<tr><td><code id="fgsub_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with the pattern replaced.
</p>


<h3>See Also</h3>

<p><code><a href="gsubfn.html#topic+gsubfn">gsubfn</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## In this example the regex looks for words that contain a lower case letter 
## followed by the same letter at least 2 more times.  It then extracts these
## words, splits them appart into letters, reverses the string, pastes them
## back together, wraps them with double angle braces, and then puts them back 
## at the original locations.
fgsub(
    x = c(NA, 'df dft sdf', 'sd fdggg sd dfhhh d', 'ddd'),
    pattern = "\\b\\w*([a-z])(\\1{2,})\\w*\\b",
    fun = function(x) {
        paste0('&lt;&lt;', paste(rev(strsplit(x, '')[[1]]), collapse =''), '&gt;&gt;')
    }    
)

## In this example we extract numbers, strip out non-digits, coerce them to 
## numeric, cut them in half, round up to the closest integer, add the commas 
## back, and replace back into the original locations.
fgsub(
    x = c(NA, 'I want 32 grapes', 'he wants 4 ice creams', 
        'they want 1,234,567 dollars'
    ),
    pattern = "[\\d,]+",
    fun = function(x) {
        prettyNum(
            ceiling(as.numeric(gsub('[^0-9]', '', x))/2), 
            big.mark = ','
        )
    }    
)

## In this example we extract leading zeros, convert to an equal number of 
## spaces. 
fgsub(
    x = c(NA, "00:04", "00:08", "00:01", "06:14", "00:02", "00:04"),
    pattern = '^0+',
    fun = function(x) {gsub('0', ' ', x)}
)
</code></pre>

<hr>
<h2 id='filter_element'>Remove Elements in a Vetor</h2><span id='topic+filter_element'></span>

<h3>Description</h3>

<p>Removes the matching elements of a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_element(x, pattern, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_element_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="filter_element_+3A_pattern">pattern</code></td>
<td>
<p>A regex pattern to match for exclusion.</p>
</td></tr>
<tr><td><code id="filter_element_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+grep">grep</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with matching elements removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c('dog', 'cat', 'bat', 'dingo', 'dragon', 'dino')
filter_element(x, '^d.+?g')
filter_element(x, 'at$')
filter_element(x, '^d')
filter_element(x, '\\b(dog|cat)\\b')
</code></pre>

<hr>
<h2 id='filter_row'>Remove Rows That Contain Markers</h2><span id='topic+filter_row'></span><span id='topic+filter_empty_row'></span><span id='topic+filter_NA'></span>

<h3>Description</h3>

<p><code>filter_row</code> - Remove rows from a data set that contain a given marker/term.
</p>
<p><code>filter_empty_row</code> - Removes the empty rows of a data set that are common in 
reading in data.
</p>
<p><code>filter_NA</code> - Removes the <code>NA</code> rows of a data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_row(dataframe, column, terms, ...)

filter_empty_row(dataframe)

filter_NA(dataframe, column = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_row_+3A_dataframe">dataframe</code></td>
<td>
<p>A dataframe object.</p>
</td></tr>
<tr><td><code id="filter_row_+3A_column">column</code></td>
<td>
<p>Column name to search for markers/terms.</p>
</td></tr>
<tr><td><code id="filter_row_+3A_terms">terms</code></td>
<td>
<p>The regex terms/markers of the rows that are to be removed from 
the dataframe.</p>
</td></tr>
<tr><td><code id="filter_row_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+grepl">grepl</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>filter_row</code> - returns a dataframe with the termed/markered rows 
removed.
</p>
<p><code>filter_empty_row</code> - returns a dataframe with empty rows removed.
</p>
<p><code>filter_NA</code> - returns a dataframe with <code>NA</code> rows removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## filter_row EXAMPLE:
filter_row(DATA, "person", c("sam", "greg"))
filter_row(DATA, 1, c("sam", "greg"))
filter_row(DATA, "state", c("Comp"))
filter_row(DATA, "state", c("I "))
filter_row(DATA, "state", c("you"), ignore.case=TRUE)

## filter_empty_row EXAMPLE:
(dat &lt;- rbind.data.frame(DATA[, c(1, 4)], matrix(rep(" ", 4), 
   ncol =2, dimnames=list(12:13, colnames(DATA)[c(1, 4)]))))
filter_empty_row(dat)

## filter_NA EXAMPLE:
DATA[1:3, "state"] &lt;- NA
filter_NA(DATA)

## End(Not run)
</code></pre>

<hr>
<h2 id='has_endmark'>Test for Incomplete Sentences</h2><span id='topic+has_endmark'></span>

<h3>Description</h3>

<p>A logical test of missing sentence ending punctuation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_endmark(x, endmarks = c("?", ".", "!"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_endmark_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="has_endmark_+3A_endmarks">endmarks</code></td>
<td>
<p>The potential ending punctuation marks,</p>
</td></tr>
<tr><td><code id="has_endmark_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "I like it.", 
    "Et tu?",  
    "Not so much", 
    "Oh, I understand.",  
    "At 3 p.m., we go",
    NA
)
has_endmark(x)
</code></pre>

<hr>
<h2 id='make_plural'>Make Plural (or Verb to Singular) Versions of Words</h2><span id='topic+make_plural'></span>

<h3>Description</h3>

<p>Add -s, -es, or -ies to words.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_plural(x, keep.original = FALSE,
  irregular = lexicon::pos_df_irregular_nouns)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_plural_+3A_x">x</code></td>
<td>
<p>A vector of words to make plural.</p>
</td></tr>
<tr><td><code id="make_plural_+3A_keep.original">keep.original</code></td>
<td>
<p>logical.  If <code>TRUE</code> the original words are kept in 
the return vector.</p>
</td></tr>
<tr><td><code id="make_plural_+3A_irregular">irregular</code></td>
<td>
<p>A <code>data.frame</code> of singular and plural conversions for 
irregular nouns.  The first column should be singular and the second plural 
form of the irregular noun.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of plural words.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c('fox', 'sky', 'dog', 'church', 'fish', 'miss', 'match', 'deer', 'block')
make_plural(x)
</code></pre>

<hr>
<h2 id='match_tokens'>Find Tokens that Match a Regex</h2><span id='topic+match_tokens'></span>

<h3>Description</h3>

<p>Given a text, find all the tokens that match a regex(es).  This function is
particularly useful with <code><a href="#topic+replace_tokens">replace_tokens</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_tokens(x, pattern, ignore.case = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="match_tokens_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="match_tokens_+3A_pattern">pattern</code></td>
<td>
<p>Character string(s) to be matched in the given character vector.</p>
</td></tr>
<tr><td><code id="match_tokens_+3A_ignore.case">ignore.case</code></td>
<td>
<p>logical.  If <code>TRUE</code> the case of the tokens/patterns 
will be ignored.</p>
</td></tr>
<tr><td><code id="match_tokens_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of tokens from a text matching a specific regex 
pattern.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+replace_tokens">replace_tokens</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>with(DATA, match_tokens(state, c('^li', 'ou')))

with(DATA, match_tokens(state, c('^Th', '^I'), ignore.case = TRUE))
with(DATA, match_tokens(state, c('^Th', '^I'), ignore.case = FALSE))
</code></pre>

<hr>
<h2 id='mgsub'>Multiple <code><a href="base.html#topic+gsub">gsub</a></code></h2><span id='topic+mgsub'></span><span id='topic+mgsub_fixed'></span><span id='topic+mgsub_regex'></span><span id='topic+mgsub_regex_safe'></span>

<h3>Description</h3>

<p><code>mgsub</code> - A wrapper for <code><a href="base.html#topic+gsub">gsub</a></code> that takes a vector 
of search terms and a vector or single value of replacements.
</p>
<p><code>mgsub_fixed</code> - An alias for <code>mgsub</code>.
</p>
<p><code>mgsub_regex</code> - An wrapper for <code>mgsub</code> with <code>fixed = FALSE</code>.
</p>
<p><code>mgsub_regex_safe</code> - An wrapper for <code><a href="mgsub.html#topic+mgsub">mgsub</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mgsub(x, pattern, replacement, leadspace = FALSE, trailspace = FALSE,
  fixed = TRUE, trim = FALSE, order.pattern = fixed, safe = FALSE, ...)

mgsub_fixed(x, pattern, replacement, leadspace = FALSE, trailspace = FALSE,
  fixed = TRUE, trim = FALSE, order.pattern = fixed, safe = FALSE, ...)

mgsub_regex(x, pattern, replacement, leadspace = FALSE, trailspace = FALSE,
  fixed = FALSE, trim = FALSE, order.pattern = fixed, ...)

mgsub_regex_safe(x, pattern, replacement, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mgsub_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_pattern">pattern</code></td>
<td>
<p>Character string to be matched in the given character vector.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_replacement">replacement</code></td>
<td>
<p>Character string equal in length to pattern or of length 
one which are a replacement for matched pattern.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_leadspace">leadspace</code></td>
<td>
<p>logical.  If <code>TRUE</code> inserts a leading space in the 
replacements.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_trailspace">trailspace</code></td>
<td>
<p>logical.  If <code>TRUE</code> inserts a trailing space in the 
replacements.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_fixed">fixed</code></td>
<td>
<p>logical. If <code>TRUE</code>, pattern is a string to be matched as 
is. 
Overrides all conflicting arguments.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_trim">trim</code></td>
<td>
<p>logical.  If <code>TRUE</code> leading and trailing white spaces are 
removed and multiple white spaces are reduced to a single white space.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_order.pattern">order.pattern</code></td>
<td>
<p>logical.  If <code>TRUE</code> and <code>fixed = TRUE</code>, the 
<code>pattern</code> string is sorted by number of characters to prevent substrings 
replacing meta strings (e.g., <code>pattern = c("the", "then")</code> resorts to 
search for &quot;then&quot; first).</p>
</td></tr>
<tr><td><code id="mgsub_+3A_safe">safe</code></td>
<td>
<p>logical.  If <code>TRUE</code> then the <span class="pkg">mgsub</span> package is used as
the backend and performs safe substitutions.  The trade-off is that this mode
will slow the replacements down considerably.</p>
</td></tr>
<tr><td><code id="mgsub_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+gsub">gsub</a></code>. In 
<code>mgsub_regex_safe</code> this is other arguments passed to 
<code><a href="mgsub.html#topic+mgsub">mgsub</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>mgsub</code> - Returns a vector with the pattern replaced.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+replace_tokens">replace_tokens</a></code>
<code><a href="base.html#topic+gsub">gsub</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mgsub(DATA$state, c("it's", "I'm"), c("it is", "I am"))
mgsub(DATA$state, "[[:punct:]]", "PUNC", fixed = FALSE)
## Not run: 
library(textclean)
hunthou &lt;- replace_number(seq_len(1e5)) 

textclean::mgsub(
    "'twenty thousand three hundred five' into 20305", 
    hunthou, 
    seq_len(1e5)
)
## "'20305' into 20305"

## Larger example from: https://stackoverflow.com/q/18332463/1000343
## A slower approach
fivehunthou &lt;- replace_number(seq_len(5e5)) 

testvect &lt;- c("fifty seven", "four hundred fifty seven", 
    "six thousand four hundred fifty seven", 
    "forty six thousand four hundred fifty seven", 
    "forty six thousand four hundred fifty seven", 
    "three hundred forty six thousand four hundred fifty seven"
)

textclean::mgsub(testvect, fivehunthou, seq_len(5e5))

## Safe substitution: Uses the mgsub package as the backend
dubious_string &lt;- "Dopazamine is a fake chemical"
pattern &lt;- c("dopazamin","do.*ne")
replacement &lt;- c("freakout","metazamine")

mgsub(dubious_string, pattern, replacement, ignore.case = TRUE, fixed = FALSE)
mgsub(dubious_string, pattern, replacement, safe = TRUE, fixed = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='print.check_text'>Prints a check_text Object</h2><span id='topic+print.check_text'></span>

<h3>Description</h3>

<p>Prints a check_text object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'check_text'
print(x, include.text = TRUE, file = NULL, n = NULL,
  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.check_text_+3A_x">x</code></td>
<td>
<p>The check_text object.</p>
</td></tr>
<tr><td><code id="print.check_text_+3A_include.text">include.text</code></td>
<td>
<p>logical.  If <code>TRUE</code> the offending text is printed as 
well.</p>
</td></tr>
<tr><td><code id="print.check_text_+3A_file">file</code></td>
<td>
<p>A connection, or a character string naming the file to print to.
If <code>NULL</code> prints to the console.</p>
</td></tr>
<tr><td><code id="print.check_text_+3A_n">n</code></td>
<td>
<p>The number of affected elements to print out (the rest are 
truncated)</p>
</td></tr>
<tr><td><code id="print.check_text_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='print.sub_holder'>Prints a sub_holder object</h2><span id='topic+print.sub_holder'></span>

<h3>Description</h3>

<p>Prints a sub_holder object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sub_holder'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.sub_holder_+3A_x">x</code></td>
<td>
<p>The sub_holder object</p>
</td></tr>
<tr><td><code id="print.sub_holder_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='print.which_are_locs'>Prints a which_are_locs Object</h2><span id='topic+print.which_are_locs'></span>

<h3>Description</h3>

<p>Prints a which_are_locs object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'which_are_locs'
print(x, n = 100, file = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.which_are_locs_+3A_x">x</code></td>
<td>
<p>A which_are_locs object</p>
</td></tr>
<tr><td><code id="print.which_are_locs_+3A_n">n</code></td>
<td>
<p>The number of affected elements to print out (the rest are 
truncated)</p>
</td></tr>
<tr><td><code id="print.which_are_locs_+3A_file">file</code></td>
<td>
<p>Path to an external file to print to</p>
</td></tr>
<tr><td><code id="print.which_are_locs_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+glue'></span><span id='topic+glue_collapse'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>glue</dt><dd><p><code><a href="glue.html#topic+glue">glue</a></code>, <code><a href="glue.html#topic+glue_collapse">glue_collapse</a></code></p>
</dd>
</dl>

<hr>
<h2 id='replace_contraction'>Replace Contractions</h2><span id='topic+replace_contraction'></span>

<h3>Description</h3>

<p>This function replaces contractions with long form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_contraction(x, contraction.key = lexicon::key_contractions,
  ignore.case = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_contraction_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_contraction_+3A_contraction.key">contraction.key</code></td>
<td>
<p>A two column hash of contractions (column 1) and 
expanded form replacements (column 2).  Default is to use 
<code><a href="lexicon.html#topic+key_contractions">key_contractions</a></code> data set.</p>
</td></tr>
<tr><td><code id="replace_contraction_+3A_ignore.case">ignore.case</code></td>
<td>
<p>logical.  Should case be ignored?</p>
</td></tr>
<tr><td><code id="replace_contraction_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with contractions replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- c("Mr. Jones isn't going.",  
    "Check it out what's going on.",
    "He's here but didn't go.",
    "the robot at t.s. wasn't nice", 
    "he'd like it if i'd go away")

replace_contraction(x)

## End(Not run)
</code></pre>

<hr>
<h2 id='replace_date'>Replace Dates With Words</h2><span id='topic+replace_date'></span>

<h3>Description</h3>

<p>Replaces dates with word equivalents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_date(x, pattern = NULL, replacement = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_date_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_date_+3A_pattern">pattern</code></td>
<td>
<p>Character date regex string to be matched in the given 
character vector.</p>
</td></tr>
<tr><td><code id="replace_date_+3A_replacement">replacement</code></td>
<td>
<p>A function to operate on the extracted matches or a 
character string which is a replacement for the matched pattern.</p>
</td></tr>
<tr><td><code id="replace_date_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with the pattern replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    NA, '11-16-1980 and 11/16/1980', 
    "and 2017-02-08 but then there's 2/8/2017 too"
)

replace_date(x)
replace_date(x, replacement = '&lt;&lt;DATE&gt;&gt;')
</code></pre>

<hr>
<h2 id='replace_email'>Replace Email Addresses</h2><span id='topic+replace_email'></span>

<h3>Description</h3>

<p>Replaces email addresses.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_email(x, pattern = qdapRegex::grab("rm_email"), replacement = "",
  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_email_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_email_+3A_pattern">pattern</code></td>
<td>
<p>Character time regex string to be matched in the given 
character vector.</p>
</td></tr>
<tr><td><code id="replace_email_+3A_replacement">replacement</code></td>
<td>
<p>A function to operate on the extracted matches or a 
character string which is a replacement for the matched pattern.</p>
</td></tr>
<tr><td><code id="replace_email_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with email addresses replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "fred is fred@foo.com and joe is joe@example.com - but @this is a", 
    "twitter handle for twit@here.com or foo+bar@google.com/fred@foo.fnord", 
    "hello world", 
    NA
)

replace_email(x)
replace_email(x, replacement = '&lt;&lt;EMAIL&gt;&gt;')
replace_email(x, replacement = '&lt;a href="mailto:$1" target="_blank"&gt;$1&lt;/a&gt;')

## Replacement with a function
replace_email(x, 
    replacement = function(x){
        sprintf('&lt;a href="mailto:%s" target="_blank"&gt;%s&lt;/a&gt;', x, x)
    }
)


replace_email(x, 
    replacement = function(x){
        gsub('@.+$', ' {{at domain}}', x)
    }
)
</code></pre>

<hr>
<h2 id='replace_emoji'>Replace Emojis With Words/Identifier</h2><span id='topic+replace_emoji'></span><span id='topic+replace_emoji_identifier'></span>

<h3>Description</h3>

<p>Replaces emojis with word equivalents or a token identifier for use in the
<span class="pkg">sentimentr</span> package.  Not that this function will coerce the text to 
ASCII using 
<code>Encoding(x) &lt;- "latin1"; iconv(x, "latin1", "ASCII", "byte")</code>.
The function <code>replace_emoji</code> replaces emojis with text representations
while <code>replace_emoji_identifier</code> replaces with a unique identifier that
corresponds to <code>lexicon::hash_sentiment_emoji</code> for use in the 
<span class="pkg">sentimentr</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_emoji(x, emoji_dt = lexicon::hash_emojis, ...)

replace_emoji_identifier(x, emoji_dt = lexicon::hash_emojis_identifier, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_emoji_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_emoji_+3A_emoji_dt">emoji_dt</code></td>
<td>
<p>A <span class="pkg">data.table</span> of emojis (ASCII byte representations)
and corresponding word/identifier meanings.</p>
</td></tr>
<tr><td><code id="replace_emoji_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code>.mgsub</code> (see
<code>textclean:::.mgsub</code> for details).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of strings with emojis replaced with word
equivalents.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fls &lt;- system.file("docs/emoji_sample.txt", package = "textclean")
x &lt;- readLines(fls)[1]
replace_emoji(x)
replace_emoji_identifier(x)
</code></pre>

<hr>
<h2 id='replace_emoticon'>Replace Emoticons With Words</h2><span id='topic+replace_emoticon'></span>

<h3>Description</h3>

<p>Replaces emoticons with word equivalents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_emoticon(x, emoticon_dt = lexicon::hash_emoticons, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_emoticon_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_emoticon_+3A_emoticon_dt">emoticon_dt</code></td>
<td>
<p>A <span class="pkg">data.table</span> of emoticons (graphical representations)
and corresponding word meanings.</p>
</td></tr>
<tr><td><code id="replace_emoticon_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code>.mgsub</code> (see
<code>textclean:::.mgsub</code> for details).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of strings with emoticons replaced with word
equivalents.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    paste(
        "text from:", 
        "http://www.webopedia.com/quick_ref/textmessageabbreviations_02.asp"
    ),
    "... understanding what different characters used in smiley faces mean:",
    "The close bracket represents a sideways smile  )",
    "Add in the colon and you have sideways eyes   :",
    "Put them together to make a smiley face  :)",
    "Use the dash -  to add a nose   :-)",
    paste(
        "Change the colon to a semi-colon ;", 
        "and you have a winking face ;)  with a nose  ;-)"
    ),
    paste(
        "Put a zero 0 (halo) on top and now you have a winking,", 
        "smiling angel 0;) with a nose 0;-)"
    ),
    "Use the letter 8 in place of the colon for sunglasses 8-)",
    "Use the open bracket ( to turn the smile into a frown  :-("
)

replace_emoticon(x)
</code></pre>

<hr>
<h2 id='replace_grade'>Replace Grades With Words</h2><span id='topic+replace_grade'></span>

<h3>Description</h3>

<p>Replaces grades with word equivalents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_grade(x, grade_dt = lexicon::key_grade, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_grade_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_grade_+3A_grade_dt">grade_dt</code></td>
<td>
<p>A <span class="pkg">data.table</span> of grades and corresponding word meanings.</p>
</td></tr>
<tr><td><code id="replace_grade_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of strings with grades replaced with word
equivalents.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(text &lt;- replace_grade(c(
    "I give an A+",
    "He deserves an F",
    "It's C+ work",
    "A poor example deserves a C!"
)))
</code></pre>

<hr>
<h2 id='replace_hash'>Replace Hashes</h2><span id='topic+replace_hash'></span>

<h3>Description</h3>

<p>Replaces Twitter style hash tags (e.g., '#rstats').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_hash(x, pattern = qdapRegex::grab("rm_hash"), replacement = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_hash_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_hash_+3A_pattern">pattern</code></td>
<td>
<p>Character time regex string to be matched in the given 
character vector.</p>
</td></tr>
<tr><td><code id="replace_hash_+3A_replacement">replacement</code></td>
<td>
<p>A function to operate on the extracted matches or a 
character string which is a replacement for the matched pattern.</p>
</td></tr>
<tr><td><code id="replace_hash_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with hashes replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("@hadley I like #rstats for #ggplot2 work.",
    "Difference between #magrittr and #pipeR, both implement pipeline operators for #rstats: 
        http://renkun.me/r/2014/07/26/difference-between-magrittr-and-pipeR.html @timelyportfolio",
    "Slides from great talk: @ramnath_vaidya: Interactive slides from Interactive Visualization 
        presentation #user2014. http://ramnathv.github.io/user2014-rcharts/#1"
)

replace_hash(x)
replace_hash(x, replacement = '&lt;&lt;HASH&gt;&gt;')
replace_hash(x, replacement = '$3')

## Replacement with a function
replace_hash(x, 
    replacement = function(x){
        paste0('{{', gsub('^#', 'TOPIC: ', x), '}}')
    }
)
</code></pre>

<hr>
<h2 id='replace_html'>Replace HTML Markup</h2><span id='topic+replace_html'></span>

<h3>Description</h3>

<p>Replaces HTML markup.  The angle braces are removed and the HTML symbol 
markup is replaced with equivalent symbols.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_html(x, symbol = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_html_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_html_+3A_symbol">symbol</code></td>
<td>
<p>logical.  If codeTRUE the symbols are retained with appropriate
replacements.  If <code>FALSE</code> they are removed.</p>
</td></tr>
<tr><td><code id="replace_html_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Replacements for symbols are as follows:
</p>

<table>
<tr>
 <td style="text-align: left;">
 <b>html</b> </td><td style="text-align: right;">  <b>symbol</b> </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;copy;   </td><td style="text-align: right;"> (c) </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;reg;   </td><td style="text-align: right;"> (r) </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;trade;   </td><td style="text-align: right;"> tm </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;ldquo;   </td><td style="text-align: right;"> " </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;rdquo;   </td><td style="text-align: right;"> " </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;lsquo;   </td><td style="text-align: right;"> ' </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;rsquo;   </td><td style="text-align: right;"> ' </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;bull;   </td><td style="text-align: right;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;middot;   </td><td style="text-align: right;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;sdot;   </td><td style="text-align: right;"> [] </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;ndash;   </td><td style="text-align: right;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;mdash;   </td><td style="text-align: right;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;cent;   </td><td style="text-align: right;"> cents </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;pound;   </td><td style="text-align: right;"> pounds </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;euro;   </td><td style="text-align: right;"> euro </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;ne;   </td><td style="text-align: right;"> != </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;frac12;   </td><td style="text-align: right;"> half </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;frac14;   </td><td style="text-align: right;"> quarter </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;frac34;   </td><td style="text-align: right;"> three fourths </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;deg;   </td><td style="text-align: right;"> degrees </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;larr;   </td><td style="text-align: right;"> &lt;- </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;rarr;   </td><td style="text-align: right;"> -&gt; </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;hellip;   </td><td style="text-align: right;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;nbsp;   </td><td style="text-align: right;">   </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;lt;   </td><td style="text-align: right;"> &lt; </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;gt;   </td><td style="text-align: right;"> &gt; </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;amp;   </td><td style="text-align: right;"> &amp; </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;quot;   </td><td style="text-align: right;"> " </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;apos;   </td><td style="text-align: right;"> ' </td>
</tr>
<tr>
 <td style="text-align: left;">
  &amp;yen;   </td><td style="text-align: right;"> yen </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>Returns a vector with HTML markup replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "&lt;bold&gt;Random&lt;/bold&gt; text with symbols: &amp;nbsp; &amp;lt; &amp;gt; &amp;amp; &amp;quot; &amp;apos;",
    "&lt;p&gt;More text&lt;/p&gt; &amp;cent; &amp;pound; &amp;yen; &amp;euro; &amp;copy; &amp;reg;"
)

replace_html(x)
replace_html(x, FALSE)
replace_white(replace_html(x, FALSE))
</code></pre>

<hr>
<h2 id='replace_incomplete'>Denote Incomplete End Marks With &quot;|&quot;</h2><span id='topic+replace_incomplete'></span>

<h3>Description</h3>

<p>Replaces incomplete sentence end marks (.., ..., .?, ..?, en &amp; em dash etc.)
with <code>"|"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_incomplete(x, replacement = "|", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_incomplete_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_incomplete_+3A_replacement">replacement</code></td>
<td>
<p>A string to replace incomplete punctuation marks with.</p>
</td></tr>
<tr><td><code id="replace_incomplete_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a text variable (character sting) with incomplete sentence 
marks (.., ..., .?, ..?, en &amp; em dash etc.) replaced with &quot;|&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("the...",  "I.?", "you.", "threw..", "we?")
replace_incomplete(x)
replace_incomplete(x, '...')
</code></pre>

<hr>
<h2 id='replace_internet_slang'>Replace Internet Slang</h2><span id='topic+replace_internet_slang'></span>

<h3>Description</h3>

<p>Replaces Internet slang.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_internet_slang(x, slang = paste0("\\b",
  lexicon::hash_internet_slang[[1]], "\\b"),
  replacement = lexicon::hash_internet_slang[[2]], ignore.case = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_internet_slang_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_internet_slang_+3A_slang">slang</code></td>
<td>
<p>A vector of slang strings to replace.</p>
</td></tr>
<tr><td><code id="replace_internet_slang_+3A_replacement">replacement</code></td>
<td>
<p>A vector of string to replace slang with.</p>
</td></tr>
<tr><td><code id="replace_internet_slang_+3A_ignore.case">ignore.case</code></td>
<td>
<p>logical.  If <code>TRUE</code> the case of <code>slang</code> will be 
ignored (replacement regardless of case).</p>
</td></tr>
<tr><td><code id="replace_internet_slang_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="#topic+replace_tokens">replace_tokens</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with names replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "Marc the n00b needs to RTFM otherwise ymmv.",
    "TGIF and a big w00t!  The weekend is GR8!",
    "Will will do it",
    'w8...this PITA needs me to say LMGTFY...lmao.',
    NA
)

replace_internet_slang(x)
replace_internet_slang(x, ignore.case = FALSE)
replace_internet_slang(x, replacement = '&lt;&lt;SLANG&gt;&gt;')
replace_internet_slang(
    x, 
    replacement = paste0('{{ ', lexicon::hash_internet_slang[[2]], ' }}')
)
</code></pre>

<hr>
<h2 id='replace_kern'>Replace Kerned (Spaced) with No Space Version</h2><span id='topic+replace_kern'></span>

<h3>Description</h3>

<p>In typography kerning is the adjustment of spacing.  Often, in informal 
writing, adding manual spaces (a form of kerning) coupled with all capital 
letters is used for emphasis.  This tool looks for 3 or more consecutive 
capital letters with spaces in between and removes the spaces.  Essentially, 
the capitalized, kerned version is replaced with the word equivalent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_kern(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_kern_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_kern_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with kern spaces removed.
</p>


<h3>Author(s)</h3>

<p>StackOverflow user @ctwheels
</p>


<h3>References</h3>

<p><a href="https://stackoverflow.com/a/47438305/1000343">https://stackoverflow.com/a/47438305/1000343</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "Welcome to A I: the best W O R L D!",
    "Hi I R is the B O M B for sure: we A G R E E indeed.",
    "A sort C A T indeed!",
    NA
)

replace_kern(x)
</code></pre>

<hr>
<h2 id='replace_money'>Replace Money With Words</h2><span id='topic+replace_money'></span>

<h3>Description</h3>

<p>Replaces money with word equivalents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_money(x, pattern = "(-?)([$])([0-9,]+)(\\.\\d{2})?",
  replacement = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_money_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_money_+3A_pattern">pattern</code></td>
<td>
<p>Character money regex string to be matched in the given 
character vector.</p>
</td></tr>
<tr><td><code id="replace_money_+3A_replacement">replacement</code></td>
<td>
<p>A function to operate on the extracted matches or a 
character string which is a replacement for the matched pattern.</p>
</td></tr>
<tr><td><code id="replace_money_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with the pattern replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    NA, 
    '$3.16 into "three dollars, sixteen cents"', 
    "-$20,333.18 too", 'fff'
)

replace_money(x)
replace_money(x, replacement = '&lt;&lt;MONEY&gt;&gt;')
</code></pre>

<hr>
<h2 id='replace_names'>Replace First/Last Names</h2><span id='topic+replace_names'></span>

<h3>Description</h3>

<p>Replaces first/last names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_names(x, names = textclean::drop_element(gsub("(^.)(.*)",
  "\\U\\1\\L\\2", c(lexicon::freq_last_names[[1]],
  lexicon::common_names), perl = TRUE), "^([AIU]n|[TSD]o|H[ea]Pa|Oh)$"),
  replacement = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_names_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_names_+3A_names">names</code></td>
<td>
<p>A vector of names to replace.  This may be made more custom 
through a vector provided from a named entity extractor.</p>
</td></tr>
<tr><td><code id="replace_names_+3A_replacement">replacement</code></td>
<td>
<p>A string to replace names with.</p>
</td></tr>
<tr><td><code id="replace_names_+3A_...">...</code></td>
<td>
<p>Other arguments passed to 
<code><a href="#topic+replace_tokens">replace_tokens</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with names replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "Mary Smith is not here",
    "Karen is not a nice person",
    "Will will do it",
    NA
) 

replace_names(x)
replace_names(x, replacement = '&lt;&lt;NAME&gt;&gt;')
</code></pre>

<hr>
<h2 id='replace_non_ascii'>Replace Common Non-ASCII Characters</h2><span id='topic+replace_non_ascii'></span><span id='topic+replace_curly_quote'></span>

<h3>Description</h3>

<p><code>replace_non_ascii</code> - Replaces common non-ASCII characters.
</p>
<p><code>replace_curly_quote</code> - Replaces curly single and double quotes.  This 
provides a subset of functionality found in <code>replace_non_ascii</code> specific 
to quotes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_non_ascii(x, replacement = "", remove.nonconverted = TRUE, ...)

replace_curly_quote(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_non_ascii_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_non_ascii_+3A_replacement">replacement</code></td>
<td>
<p>Character string equal in length to pattern or of length 
one which are a replacement for matched pattern.</p>
</td></tr>
<tr><td><code id="replace_non_ascii_+3A_remove.nonconverted">remove.nonconverted</code></td>
<td>
<p>logical.  If <code>TRUE</code> unmapped encodings are
deleted from the string.</p>
</td></tr>
<tr><td><code id="replace_non_ascii_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a text variable (character sting) with non-ASCII characters 
replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "Hello World", "6 Ekstr\xf8m", "J\xf6reskog", "bi\xdfchen Z\xfcrcher",
    'This is a \xA9 but not a \xAE', '6 \xF7 2 = 3', 
    'fractions \xBC, \xBD, \xBE', 'cows go \xB5', '30\xA2'
)
Encoding(x) &lt;- "latin1"
x

replace_non_ascii(x)
replace_non_ascii(x, remove.nonconverted = FALSE)

z &lt;- '\x95He said, \x93Gross, I am going to!\x94'
Encoding(z) &lt;- "latin1"
z

replace_curly_quote(z)
replace_non_ascii(z)
</code></pre>

<hr>
<h2 id='replace_number'>Replace Numbers With Text Representation</h2><span id='topic+replace_number'></span>

<h3>Description</h3>

<p>Replaces numeric represented numbers with words (e.g., 1001 becomes one 
thousand one).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_number(x, num.paste = FALSE, remove = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_number_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_number_+3A_num.paste">num.paste</code></td>
<td>
<p>logical.  If <code>FALSE</code> the elements of larger numbers are 
separated with spaces.  If <code>TRUE</code> the elements will be joined without 
spaces.</p>
</td></tr>
<tr><td><code id="replace_number_+3A_remove">remove</code></td>
<td>
<p>logical.  If <code>TRUE</code> numbers are removed from the text.</p>
</td></tr>
<tr><td><code id="replace_number_+3A_...">...</code></td>
<td>
<p>Other arguments passed to  <code><a href="english.html#topic+as.english">as.english</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with numbers replaced.
</p>


<h3>Note</h3>

<p>The user may want to use <code><a href="#topic+replace_ordinal">replace_ordinal</a></code> 
first to remove ordinal number notation.  For example 
<code><a href="#topic+replace_number">replace_number</a></code> would turn &quot;21st&quot; into 
&quot;twenty onest&quot;, whereas <code><a href="#topic+replace_ordinal">replace_ordinal</a></code> would 
generate &quot;twenty first&quot;.
</p>


<h3>References</h3>

<p>Fox, J. (2005). Programmer's niche: How do you spell that number? 
R News. Vol. 5(1), pp. 51-55.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    NA, 
    'then .456 good', 
    'none', 
    "I like 346,457 ice cream cones.", 
    "I like 123456789 cashes.",     
    "They are 99 percent good and 45678.2345667"
)
replace_number(x)
replace_number(x, num.paste = TRUE)
replace_number(x, remove=TRUE)
## Not run: 
library(textclean)
hunthou &lt;- replace_number(seq_len(1e5)) 

textclean::mgsub(
    "'twenty thousand three hundred five' into 20305", 
    hunthou, 
    seq_len(1e5)
)
## "'20305' into 20305"

## Larger example from: https://stackoverflow.com/q/18332463/1000343
## A slower approach
fivehunthou &lt;- replace_number(seq_len(5e5)) 

testvect &lt;- c("fifty seven", "four hundred fifty seven", 
    "six thousand four hundred fifty seven", 
    "forty six thousand four hundred fifty seven", 
    "forty six thousand four hundred fifty seven", 
    "three hundred forty six thousand four hundred fifty seven"
)

textclean::mgsub(testvect, fivehunthou, seq_len(5e5))

## End(Not run)
</code></pre>

<hr>
<h2 id='replace_ordinal'>Replace Mixed Ordinal Numbers With Text Representation</h2><span id='topic+replace_ordinal'></span>

<h3>Description</h3>

<p>Replaces mixed text/numeric represented ordinal numbers with words (e.g., 
&quot;1st&quot; becomes &quot;first&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_ordinal(x, num.paste = FALSE, remove = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_ordinal_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_ordinal_+3A_num.paste">num.paste</code></td>
<td>
<p>logical.  If <code>TRUE</code> a the elements of larger numbers are 
separated with spaces.  If <code>FALSE</code> the elements will be joined without 
spaces.</p>
</td></tr>
<tr><td><code id="replace_ordinal_+3A_remove">remove</code></td>
<td>
<p>logical.  If <code>TRUE</code> ordinal numbers are removed from the text.</p>
</td></tr>
<tr><td><code id="replace_ordinal_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Currently only implemented for ordinal values 1 through 100
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    "I like the 1st one not the 22nd one.", 
    "For the 100th time stop!"
)
replace_ordinal(x)
replace_ordinal(x, TRUE)
replace_ordinal(x, remove = TRUE)
replace_number(replace_ordinal("I like the 1st 1 not the 22nd 1."))
</code></pre>

<hr>
<h2 id='replace_rating'>Replace Ratings With Words</h2><span id='topic+replace_rating'></span>

<h3>Description</h3>

<p>Replaces ratings with word equivalents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_rating(x, rating_dt = lexicon::key_rating, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_rating_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_rating_+3A_rating_dt">rating_dt</code></td>
<td>
<p>A <span class="pkg">data.table</span> of ratings and corresponding word meanings.</p>
</td></tr>
<tr><td><code id="replace_rating_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of strings with ratings replaced with word
equivalents.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("This place receives 5 stars for their APPETIZERS!!!",
     "Four stars for the food &amp; the guy in the blue shirt for his great vibe!",
     "10 out of 10 for both the movie and trilogy.",
     "* Both the Hot &amp; Sour &amp; the Egg Flower Soups were absolutely 5 Stars!",
     "For service, I give them no stars.", "This place deserves no stars.",
     "10 out of 10 stars.",
     "My rating: just 3 out of 10.",
     "If there were zero stars I would give it zero stars.",
     "Rating: 1 out of 10.",
     "I gave it 5 stars because of the sound quality.",
     "If it were possible to give them 0/10, they'd have it."
)

replace_rating(x)
</code></pre>

<hr>
<h2 id='replace_symbol'>Replace Symbols With Word Equivalents</h2><span id='topic+replace_symbol'></span>

<h3>Description</h3>

<p>This function replaces symbols with word equivalents (e.g., <code>@</code> becomes 
<code>"at"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_symbol(x, dollar = TRUE, percent = TRUE, pound = TRUE,
  at = TRUE, and = TRUE, with = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_symbol_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="replace_symbol_+3A_dollar">dollar</code></td>
<td>
<p>logical.  If <code>TRUE</code> replaces dollar sign ($) with 
<code>"dollar"</code>.</p>
</td></tr>
<tr><td><code id="replace_symbol_+3A_percent">percent</code></td>
<td>
<p>logical.  If <code>TRUE</code> replaces percent sign (%) with 
<code>"percent"</code>.</p>
</td></tr>
<tr><td><code id="replace_symbol_+3A_pound">pound</code></td>
<td>
<p>logical.  If <code>TRUE</code> replaces pound sign (#) with 
<code>"number"</code>.</p>
</td></tr>
<tr><td><code id="replace_symbol_+3A_at">at</code></td>
<td>
<p>logical.  If <code>TRUE</code> replaces at sign (@) with <code>"at"</code>.</p>
</td></tr>
<tr><td><code id="replace_symbol_+3A_and">and</code></td>
<td>
<p>logical.  If <code>TRUE</code> replaces and sign (&amp;) with <code>"and"</code>.</p>
</td></tr>
<tr><td><code id="replace_symbol_+3A_with">with</code></td>
<td>
<p>logical.  If <code>TRUE</code> replaces with sign (w/) with 
<code>"with"</code>.</p>
</td></tr>
<tr><td><code id="replace_symbol_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character vector with symbols replaced..
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("I am @ Jon's &amp; Jim's w/ Marry", 
    "I owe $41 for food", 
    "two is 10% of a #"
)
replace_symbol(x)
</code></pre>

<hr>
<h2 id='replace_tag'>Replace Handle Tags</h2><span id='topic+replace_tag'></span>

<h3>Description</h3>

<p>Replaces Twitter style handle tags (e.g., '@trinker').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_tag(x, pattern = qdapRegex::grab("rm_tag"), replacement = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_tag_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_tag_+3A_pattern">pattern</code></td>
<td>
<p>Character time regex string to be matched in the given 
character vector.</p>
</td></tr>
<tr><td><code id="replace_tag_+3A_replacement">replacement</code></td>
<td>
<p>A function to operate on the extracted matches or a 
character string which is a replacement for the matched pattern.</p>
</td></tr>
<tr><td><code id="replace_tag_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with tags replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("@hadley I like #rstats for #ggplot2 work.",
    "Difference between #magrittr and #pipeR, both implement pipeline operators for #rstats: 
        http://renkun.me/r/2014/07/26/difference-between-magrittr-and-pipeR.html @timelyportfolio",
    "Slides from great talk: @ramnath_vaidya: Interactive slides from Interactive Visualization 
        presentation #user2014. http://ramnathv.github.io/user2014-rcharts/#1"
)

replace_tag(x)
replace_tag(x, replacement = '&lt;&lt;TAG&gt;&gt;')
replace_tag(x, replacement = '$3')

## Replacement with a function
replace_tag(x, 
    replacement = function(x){
        gsub('@', ' &lt;&lt;TO&gt;&gt; ', x)
    }
)
</code></pre>

<hr>
<h2 id='replace_time'>Replace Time Stamps With Words</h2><span id='topic+replace_time'></span>

<h3>Description</h3>

<p>Replaces time stamps with word equivalents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_time(x,
  pattern = "(2[0-3]|[01]?[0-9]):([0-5][0-9])[.:]?([0-5]?[0-9])?",
  replacement = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_time_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_time_+3A_pattern">pattern</code></td>
<td>
<p>Character time regex string to be matched in the given 
character vector.</p>
</td></tr>
<tr><td><code id="replace_time_+3A_replacement">replacement</code></td>
<td>
<p>A function to operate on the extracted matches or a 
character string which is a replacement for the matched pattern.</p>
</td></tr>
<tr><td><code id="replace_time_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with the pattern replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
    NA, '12:47 to "twelve forty-seven" and also 8:35:02', 
    'what about 14:24.5', 'And then 99:99:99?'
)

## Textual: Word version
replace_time(x)

## Normalization: &lt;&lt;TIME&gt;&gt;
replace_time(x, replacement = '&lt;&lt;TIME&gt;&gt;')

## Normalization: hh:mm:ss or hh:mm
replace_time(x, replacement = function(y){
        z &lt;- unlist(strsplit(y, '[:.]'))
        z[1] &lt;- 'hh'
        z[2] &lt;- 'mm'
        if(!is.na(z[3])) z[3] &lt;- 'ss'
        glue_collapse(z, ':')
    }
)

## Textual: Word version (forced seconds)
replace_time(x, replacement = function(y){
        z &lt;- replace_number(unlist(strsplit(y, '[:.]')))
        z[3] &lt;- paste0('and ', ifelse(is.na(z[3]), '0', z[3]), ' seconds')
        paste(z, collapse = ' ')
    }
)
 
## Normalization: hh:mm:ss
replace_time(x, replacement = function(y){
        z &lt;- unlist(strsplit(y, '[:.]'))
        z[1] &lt;- 'hh'
        z[2] &lt;- 'mm'
        z[3] &lt;- 'ss'
        glue_collapse(z, ':')
    }
)
</code></pre>

<hr>
<h2 id='replace_to'>Grab Begin/End of String to/from Character</h2><span id='topic+replace_to'></span><span id='topic+replace_from'></span>

<h3>Description</h3>

<p><code>replace_to</code> - Grab from beginning of string to a character(s).
</p>
<p><code>replace_from</code> - Grab from character(s) to end of string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_to(x, char = " ", n = 1, include = FALSE, ...)

replace_from(x, char = " ", n = 1, include = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_to_+3A_x">x</code></td>
<td>
<p>A character string</p>
</td></tr>
<tr><td><code id="replace_to_+3A_char">char</code></td>
<td>
<p>The character from which to grab until/from.</p>
</td></tr>
<tr><td><code id="replace_to_+3A_n">n</code></td>
<td>
<p>Number of times the character appears before the grab.</p>
</td></tr>
<tr><td><code id="replace_to_+3A_include">include</code></td>
<td>
<p>logical.  If <code>TRUE</code> includes the character in the grab.</p>
</td></tr>
<tr><td><code id="replace_to_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a vector of text with begin/end of string to/from character removed.
</p>


<h3>Author(s)</h3>

<p>Josh O'Brien and Tyler Rinker &lt;tyler.rinker@gmail.com&gt;.
</p>


<h3>References</h3>

<p><a href="http://stackoverflow.com/q/15909626/1000343">http://stackoverflow.com/q/15909626/1000343</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- c("a_b_c_d", "1_2_3_4", "&lt;_?_._:")
replace_to(x, "_")
replace_to(x, "_", 2)
replace_to(x, "_", 3)
replace_to(x, "_", 4)
replace_to(x, "_", 3, include=TRUE)

replace_from(x, "_")
replace_from(x, "_", 2)
replace_from(x, "_", 3)
replace_from(x, "_", 4)
replace_from(x, "_", 3, include=TRUE)

x2 &lt;- gsub("_", " ", x)
replace_from(x2, " ", 2)
replace_to(x2, " ", 2)

x3 &lt;- gsub("_", "\\^", x)
replace_from(x3, "^", 2)
replace_to(x3, "^", 2)

x4 &lt;- c("_a_b", "a__b")
replace_from(x4, "_", 1)
replace_to(x4, "_", 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='replace_tokens'>Replace Tokens</h2><span id='topic+replace_tokens'></span>

<h3>Description</h3>

<p>Replace tokens with a single substring.  This is much faster than 
<code><a href="#topic+mgsub">mgsub</a></code> if one wants to replace fixed tokens
with a single value or remove them all together.  This can be useful
for quickly replacing tokens like names in string with a single
value in order to reduce noise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_tokens(x, tokens, replacement = NULL, ignore.case = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_tokens_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="replace_tokens_+3A_tokens">tokens</code></td>
<td>
<p>A vector of token to be replaced.</p>
</td></tr>
<tr><td><code id="replace_tokens_+3A_replacement">replacement</code></td>
<td>
<p>A single character string to replace the tokens with.
The default, <code>NULL</code>, replaces the tokens with nothing.</p>
</td></tr>
<tr><td><code id="replace_tokens_+3A_ignore.case">ignore.case</code></td>
<td>
<p>logical.  If <code>TRUE</code> the case of the tokens will 
be ignored.</p>
</td></tr>
<tr><td><code id="replace_tokens_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of strings with tokens replaced.
</p>


<h3>Note</h3>

<p>The function splits the string apart into tokens for speed
optimization.  After the replacement occurs the strings are pasted back
together.  The strings are not guaranteed to retain exact spacing of the
original.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mgsub">mgsub</a></code>, <code><a href="#topic+match_tokens">match_tokens</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>replace_tokens(DATA$state, c('No', 'what', "it's"))
replace_tokens(DATA$state, c('No', 'what', "it's"), "&lt;&lt;TOKEN&gt;&gt;")
replace_tokens(
    DATA$state, 
    c('No', 'what', "it's"), 
    "&lt;&lt;TOKEN&gt;&gt;", 
    ignore.case = TRUE
)

## Not run: 
## Now let's see the speed
## Set up data
library(textshape)
data(hamlet)
set.seed(11)
tokens &lt;- sample(unique(unlist(split_token(hamlet$dialogue))), 2000)

tic &lt;- Sys.time()
head(replace_tokens(hamlet$dialogue, tokens))
(toc &lt;- Sys.time() - tic)


tic &lt;- Sys.time()
head(mgsub(hamlet$dialogue, tokens, ""))
(toc &lt;- Sys.time() - tic)


## Amp it up 20x more data
tic &lt;- Sys.time()
head(replace_tokens(rep(hamlet$dialogue, 20), tokens))
(toc &lt;- Sys.time() - tic)

## Replace names example

library(lexicon)
library(textshape)
nms &lt;- gsub("(^.)(.*)", "\\U\\1\\L\\2", common_names, perl = TRUE)
x &lt;- split_portion(
    sample(c(sample(grady_augmented, 5000), sample(nms, 10000, TRUE))), 
    n.words = 12
)
x$text.var &lt;- paste0(
    x$text.var, 
    sample(c('.', '!', '?'), length(x$text.var), TRUE)
 )
replace_tokens(x$text.var, nms, 'NAME')

## End(Not run)
</code></pre>

<hr>
<h2 id='replace_url'>Replace URLs</h2><span id='topic+replace_url'></span>

<h3>Description</h3>

<p>Replaces URLs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_url(x, pattern = qdapRegex::grab("rm_url"), replacement = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_url_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_url_+3A_pattern">pattern</code></td>
<td>
<p>Character time regex string to be matched in the given 
character vector.</p>
</td></tr>
<tr><td><code id="replace_url_+3A_replacement">replacement</code></td>
<td>
<p>A function to operate on the extracted matches or a 
character string which is a replacement for the matched pattern.</p>
</td></tr>
<tr><td><code id="replace_url_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with URLs replaced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("@hadley I like #rstats for #ggplot2 work. ftp://cran.r-project.org/incoming/",
    "Difference between #magrittr and #pipeR, both implement pipeline operators for #rstats: 
        http://renkun.me/r/2014/07/26/difference-between-magrittr-and-pipeR.html @timelyportfolio",
    "Slides from great talk: @ramnath_vaidya: Interactive slides from Interactive Visualization 
        presentation #user2014. https://ramnathv.github.io/user2014-rcharts/#1",
    NA 
)

replace_url(x)
replace_url(x, replacement = '&lt;&lt;URL&gt;&gt;')

## Not run: 
## Replacement with a function
library(urltools)
replace_url(x, 
    replacement = function(x){
        sprintf('{{%s}}', urltools::url_parse(x)$domain)
    }
)

## End(Not run)
</code></pre>

<hr>
<h2 id='replace_white'>Remove Escaped Characters</h2><span id='topic+replace_white'></span>

<h3>Description</h3>

<p>Pre-process data to replace one or more white space character with a single 
space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_white(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_white_+3A_x">x</code></td>
<td>
<p>The character vector.</p>
</td></tr>
<tr><td><code id="replace_white_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of character strings with escaped characters removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- "I go \r
    to   the \tnext line"
x
replace_white(x)
</code></pre>

<hr>
<h2 id='replace_word_elongation'>Replace Word Elongations</h2><span id='topic+replace_word_elongation'></span>

<h3>Description</h3>

<p>In informal writing people may use a form of text embellishment to emphasize 
or alter word meanings called elongation (a.k.a. &quot;word lengthening&quot;).  For 
example, the use of &quot;Whyyyyy&quot; conveys frustration.  Other times the usage may 
be to be more sexy (e.g., &quot;Heyyyy there&quot;).  Other times it may be used for 
emphasis (e.g., &quot;This is so gooood&quot;).  This function uses an augmented form
of Armstrong &amp; Fogarty's (2007) algorithm.  The algorithm first attempts to
replace the elongation with known semantic replacements (optional; default is
<code>FALSE</code>).  After this the algorithm locates all places were the same 
letter (case insensitive) appears 3 times consecutively.  These elements are
then further processed.  The matches are replaced via <code>fgsub</code> by first
taking the elongation to it's canonical form (drop all &gt; 1 consecutive 
letters to a single letter) and then replacing with the most common word 
used in 2008 in Google's ngram data set that takes the canonical form.  If 
the canonical form is not found in the Google data set then the canonical 
form is used as the replacement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_word_elongation(x, impart.meaning = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_word_elongation_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="replace_word_elongation_+3A_impart.meaning">impart.meaning</code></td>
<td>
<p>logical.  If <code>TRUE</code>, known elongation semantics
are used as replacements (see <code>textclean:::meaning_elongations</code> for 
known elongation semantics and replacements).</p>
</td></tr>
<tr><td><code id="replace_word_elongation_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with word elongations replaced.
</p>


<h3>References</h3>

<p>Armstrong, D. B., Fogarty, G. J., &amp; Dingsdag, D. (2007). Scales measuring 
characteristics of small business information systems. Proceedings of the 
2011 Conference on Empirical Methods in Natural Language Processing (pp. 
562-570). Edinburgh, Scotland. Retrieved from 
http://www.aclweb.org/anthology/D11-1052 <br /> <br />
<a href="http://storage.googleapis.com/books/ngrams/books/datasetsv2.html">http://storage.googleapis.com/books/ngrams/books/datasetsv2.html</a> <br /> <br />
<a href="https://www.theatlantic.com/magazine/archive/2013/03/dragging-it-out/309220">https://www.theatlantic.com/magazine/archive/2013/03/dragging-it-out/309220</a> <br /> <br />
<a href="https://english.stackexchange.com/questions/189517/is-there-a-name-term-for-multiplied-vowels">https://english.stackexchange.com/questions/189517/is-there-a-name-term-for-multiplied-vowels</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c('look', 'noooooo!', 'real coooool!', "it's sooo goooood", 'fsdfds', 
    'fdddf', 'as', "aaaahahahahaha", "aabbccxccbbaa", 'I said heyyy!',
    "I'm liiiike whyyyyy me?", "Wwwhhatttt!", NA)

replace_word_elongation(x)
replace_word_elongation(x, impart.meaning = TRUE)
</code></pre>

<hr>
<h2 id='strip'>Strip Text</h2><span id='topic+strip'></span><span id='topic+strip.character'></span><span id='topic+strip.factor'></span><span id='topic+strip.default'></span><span id='topic+strip.list'></span>

<h3>Description</h3>

<p>Strip text of unwanted characters.
</p>
<p><code>strip.character</code> - factor method for <code>strip</code>.
</p>
<p><code>strip.factor</code> - factor method for <code>strip</code>.
</p>
<p><code>strip.default</code> - factor method for <code>strip</code>.
</p>
<p><code>strip.list</code> - factor method for <code>strip</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strip(x, char.keep = "~~", digit.remove = TRUE, apostrophe.remove = FALSE,
  lower.case = TRUE)

## S3 method for class 'character'
strip(x, char.keep = "~~", digit.remove = TRUE,
  apostrophe.remove = FALSE, lower.case = TRUE)

## S3 method for class 'factor'
strip(x, char.keep = "~~", digit.remove = TRUE,
  apostrophe.remove = TRUE, lower.case = TRUE)

## Default S3 method:
strip(x, char.keep = "~~", digit.remove = TRUE,
  apostrophe.remove = TRUE, lower.case = TRUE)

## S3 method for class 'list'
strip(x, char.keep = "~~", digit.remove = TRUE,
  apostrophe.remove = TRUE, lower.case = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="strip_+3A_x">x</code></td>
<td>
<p>The text variable.</p>
</td></tr>
<tr><td><code id="strip_+3A_char.keep">char.keep</code></td>
<td>
<p>A character vector of symbols (i.e., punctuation) that 
<code><a href="#topic+strip">strip</a></code> should keep.  The default is to strip every 
symbol except apostrophes and a double tilde <code>"~~"</code>.  The double tilde 
<code>"~~"</code> is included for a convenient means of keeping word groups 
together in functions that split text apart based on spaces.  To remove 
double tildes <code>"~~"</code> set <code>char.keep</code> to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="strip_+3A_digit.remove">digit.remove</code></td>
<td>
<p>logical.  If <code>TRUE</code> strips digits from the text.</p>
</td></tr>
<tr><td><code id="strip_+3A_apostrophe.remove">apostrophe.remove</code></td>
<td>
<p>logical.  If <code>TRUE</code> removes apostrophes from 
the output.</p>
</td></tr>
<tr><td><code id="strip_+3A_lower.case">lower.case</code></td>
<td>
<p>logical.  If <code>TRUE</code> forces all alpha characters to 
lower case.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of text that has been stripped of unwanted 
characters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
DATA$state #no strip applied
strip(DATA$state)
strip(DATA$state, apostrophe.remove=TRUE)
strip(DATA$state, char.keep = c("?", "."))

## End(Not run)
</code></pre>

<hr>
<h2 id='sub_holder'>Hold the Place of Characters Prior to Subbing</h2><span id='topic+sub_holder'></span>

<h3>Description</h3>

<p>This function holds the place for particular character values, allowing the 
user to manipulate the vector and then revert the place holders back to the 
original values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub_holder(x, pattern, alpha.type = TRUE, holder.prefix = "zzzplaceholder",
  holder.suffix = "zzz", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sub_holder_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="sub_holder_+3A_pattern">pattern</code></td>
<td>
<p>Character string to be matched in the given character vector.</p>
</td></tr>
<tr><td><code id="sub_holder_+3A_alpha.type">alpha.type</code></td>
<td>
<p>logical.  If <code>TRUE</code> alpha (lower case letters) are 
used for the key.  If <code>FALSE</code> numbers are used as the key.</p>
</td></tr>
<tr><td><code id="sub_holder_+3A_holder.prefix">holder.prefix</code></td>
<td>
<p>The prefix to use before the alpha key in the palce 
holder when <code>alpha.type = TRUE</code>; this ensures uniqueness.</p>
</td></tr>
<tr><td><code id="sub_holder_+3A_holder.suffix">holder.suffix</code></td>
<td>
<p>The suffix to use after the alpha key in the palce 
holder when <code>alpha.type = TRUE</code>; this ensures uniqueness.</p>
</td></tr>
<tr><td><code id="sub_holder_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+gsub">gsub</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following:
</p>
<table role = "presentation">
<tr><td><code>output</code></td>
<td>
<p>keyed place holder character vector</p>
</td></tr> 
<tr><td><code>unhold</code></td>
<td>
<p>A function used to revert back to the original values</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The <code>unhold</code> function for <code>sub_holder</code> will only work on keys
that have not been disturbed by subsequent alterations.  The key follows the 
pattern of holder.prefix ('zzzplaceholder') followed by lower case letter 
keys followed by holder.suffix ('zzz') when <code>alpha.type = TRUE</code>, 
otherwise the holder is numeric.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## `alpha.type` as TRUE
library(lexicon); library(textshape)
(fake_dat &lt;- paste(hash_emoticons[1:11, 1, with=FALSE][[1]], DATA$state))
(m &lt;- sub_holder(fake_dat, hash_emoticons[[1]]))
m$unhold(strip(m$output))

## `alpha.type` as FALSE (numeric keys)
vowels &lt;- LETTERS[c(1, 5, 9, 15, 21)]
(m2 &lt;- sub_holder(toupper(DATA$state), vowels, alpha.type = FALSE))
m2$unhold(gsub("[^0-9]", "", m2$output))
mtabulate(strsplit(m2$unhold(gsub("[^0-9]", "", m2$output)), ""))
</code></pre>

<hr>
<h2 id='swap'>Swap Two Patterns Simultaneously</h2><span id='topic+swap'></span>

<h3>Description</h3>

<p>Swap pattern x for pattern y and pattern y for pattern x in one fell swoop.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swap(x, pattern1, pattern2, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="swap_+3A_x">x</code></td>
<td>
<p>A text variable.</p>
</td></tr>
<tr><td><code id="swap_+3A_pattern1">pattern1</code></td>
<td>
<p>Character string to be matched in the given character vector.
This will be replaced by <code>pattern2</code>.</p>
</td></tr>
<tr><td><code id="swap_+3A_pattern2">pattern2</code></td>
<td>
<p>Character string to be matched in the given character vector.
This will be replaced by <code>pattern1</code>.</p>
</td></tr>
<tr><td><code id="swap_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with patterns 1 &amp; 2 swapped.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("hash_abbreviation", "hash_contractions", "hash_grade", "key_emoticons", 
    "key_power", "key_sentiment", "key_sentiment_nrc", "key_strength", 
    "key_syllable", "key_valence_shifters")

x
swap(x, 'hash_', 'key_')
</code></pre>

<hr>
<h2 id='which_are'>Detect/Locate Potential Non-Normalized Text</h2><span id='topic+which_are'></span><span id='topic+is_it'></span>

<h3>Description</h3>

<p>Detect/Locate potential issues with text data.  This family of functions 
generates a list of detections/location functions that can be accessed via 
the dollar sign or square bracket operators.  Accessible functions include:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>which_are()

is_it()
</code></pre>


<h3>Details</h3>


<dl>
<dt>contraction</dt><dd><p>Contains contractions</p>
</dd>
<dt>date</dt><dd><p>Contains dates</p>
</dd>
<dt>digit</dt><dd><p>Contains digits</p>
</dd>
<dt>email</dt><dd><p>Contains email addresses</p>
</dd>
<dt>emoticon</dt><dd><p>Contains emoticons</p>
</dd>
<dt>empty</dt><dd><p>Contains just white space</p>
</dd>
<dt>escaped</dt><dd><p>Contains escaped backslash character</p>
</dd>
<dt>hash</dt><dd><p>Contains Twitter style hash tags</p>
</dd>
<dt>html</dt><dd><p>Contains html mark-up</p>
</dd>
<dt>incomplete</dt><dd><p>Contains incomplete sentences (e.g., ends with ...)</p>
</dd>
<dt>kern</dt><dd><p>Contains kerning (e.g. &quot;The B O M B!&quot;)</p>
</dd>
<dt>list_column</dt><dd><p>Is a list of atomic vectors (Not provided by <code>which_are</code>))</p>
</dd>
<dt>misspelled</dt><dd><p>Contains potentially misspelled words</p>
</dd>
<dt>no_endmark</dt><dd><p>Contains a sentence with no ending punctuation</p>
</dd>
<dt>no_space_after_comma</dt><dd><p>Contains commas with no space after them</p>
</dd>
<dt>non_ascii</dt><dd><p>Contains non-ASCII characters</p>
</dd>
<dt>non_character</dt><dd><p>Is a non-character vector (Not provided by <code>which_are</code>))</p>
</dd>
<dt>non_split_sentence</dt><dd><p>Contains non split sentences</p>
</dd>
<dt>tag</dt><dd><p>Contains a Twitter style handle used to tag others (use of the at symbol)</p>
</dd>
<dt>time</dt><dd><p>Contains a time stamp</p>
</dd>
<dt>url</dt><dd><p>Contains a URL</p>
</dd>
</dl>

<p>The functions above that have a description starting with 'is' rather than 'contains'
are meta functions that describe the attribute of the column/vector being passed
rather than attributes about the individual elements of the column/vector.  The
meta functions will return a logical of length one and are not available under
<code>which_are</code>.
</p>


<h3>Value</h3>

<p><code>which_are</code> returns an environment of functions that can be used to 
locate and return the integer locations of the particular non-normalized text
named by the function.
</p>
<p><code>is_it</code> returns an environment of functions that can be used to 
detect and return a logical atomic vector of equal length to the input vector
(except for meta functions) of the particular non-normalized text
named by the function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>wa &lt;- which_are()
it &lt;- is_it()
wa$digit(c('The dog',  "I like 2", NA))
it$digit(c('The dog',  "I like 2", NA))

is_it()$list_column(c('the dog', 'ate the chicken'))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

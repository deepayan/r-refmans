<!DOCTYPE html><html><head><title>Help for package GCPM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {GCPM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#GCPM-package'>
<p>Generalized Credit Portfolio Model</p></a></li>
<li><a href='#alpha.max-methods'><p>Maximum CDF Level</p></a></li>
<li><a href='#analyze-methods'><p>Analyze a Credit Portfolio</p></a></li>
<li><a href='#business-methods'><p>Counterparty Business Line</p></a></li>
<li><a href='#CDF-methods'><p>Cumulative Distribution Function of Portfolio Loss</p></a></li>
<li><a href='#country-methods'><p>Country Information</p></a></li>
<li><a href='#default-methods'><p>Default Distribution</p></a></li>
<li><a href='#EAD-methods'><p>Exposure at Default</p></a></li>
<li><a href='#EC-methods'><p>Economic Capital</p></a></li>
<li><a href='#EC.cont-methods'><p>Risk Contributions to Economic Capital</p></a></li>
<li><a href='#EL-methods'><p>Expected Loss (from Loss Distribution)</p></a></li>
<li><a href='#EL.analyt-methods'><p>Expected Loss (analytical)</p></a></li>
<li><a href='#ES-methods'><p>Expected Shortfall</p></a></li>
<li><a href='#ES.cont-methods'><p>Risk Contributions to Expected Shortfall</p></a></li>
<li><a href='#export-methods'><p>Export Main Results</p></a></li>
<li><a href='#GCPM-class'><p>Class <code>"GCPM"</code></p></a></li>
<li><a href='#idiosyncr-methods'><p>Idiosyncratic Risk Weights</p></a></li>
<li><a href='#init'>
<p>Initialize an Object of Class <code>GCPM</code></p></a></li>
<li><a href='#LGD-methods'><p>Loss Given Default</p></a></li>
<li><a href='#LHR-methods'><p>Likelihood Ratio</p></a></li>
<li><a href='#link.function-methods'><p>Model Link Function</p></a></li>
<li><a href='#loss-methods'><p>Loss Levels</p></a></li>
<li><a href='#loss.thr-methods'><p>Threshold of Saved Portfolio Loss</p></a></li>
<li><a href='#loss.unit-methods'><p>Loss Unit</p></a></li>
<li><a href='#model.type-methods'><p>Model Type</p></a></li>
<li><a href='#N-methods'><p>Number of Simulations</p></a></li>
<li><a href='#name-methods'><p>Counterparty Names</p></a></li>
<li><a href='#NC-methods'><p>Number of Counterparties</p></a></li>
<li><a href='#NR-methods'><p>Counterparty IDs</p></a></li>
<li><a href='#NS-methods'><p>Number of Sectors</p></a></li>
<li><a href='#PD-methods'><p>Counterparty Probability of Default</p></a></li>
<li><a href='#PDF-methods'><p>Probability Density Function</p></a></li>
<li><a href='#PL-methods'><p>Counterparty Potential Loss</p></a></li>
<li><a href='#plot-methods'><p>Plot of the Portfolio Loss Distribution</p></a></li>
<li><a href='#portfolio.pois'>
<p>Example Portfolio Data with Poisson Default Mode</p></a></li>
<li><a href='#portfolio.pool'>
<p>Pooled Portfolio</p></a></li>
<li><a href='#portfolios'>
<p>Example Portfolios for GCPM Package</p></a></li>
<li><a href='#random.numbers-methods'><p>Sector Drawings</p></a></li>
<li><a href='#SD-methods'><p>Standard Deviation (Loss Distribution)</p></a></li>
<li><a href='#SD.analyt-methods'><p>Standard Deviation (from Portfolio Data)</p></a></li>
<li><a href='#SD.cont-methods'><p>Risk Contributions to Portfolio Standard Deviation</p></a></li>
<li><a href='#SD.div-methods'><p>Diversifiable Risk (Standard Deviation)</p></a></li>
<li><a href='#SD.syst-methods'><p>Systemic Risk (Standard Deviation)</p></a></li>
<li><a href='#sec.var-methods'><p>Sector Variances</p></a></li>
<li><a href='#sector.names-methods'><p>Sector Names</p></a></li>
<li><a href='#seed-methods'><p>Random Number Seed</p></a></li>
<li><a href='#show-methods'><p>Show Parameters of Credit Portfolio Model</p></a></li>
<li><a href='#summary-methods'><p>Model summary</p></a></li>
<li><a href='#VaR-methods'><p>Portfolio Value at Risk</p></a></li>
<li><a href='#VaR.cont-methods'><p>Risk Contributions to Portfolio Value at Risk</p></a></li>
<li><a href='#W-methods'><p>Sector Weights</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generalized Credit Portfolio Model</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-12-29</td>
</tr>
<tr>
<td>Author:</td>
<td>Kevin Jakob</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kevin Jakob &lt;Kevin.Jakob.Research@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Analyze the default risk of credit portfolios. Commonly known models, 
		like CreditRisk+ or the CreditMetrics model are implemented in their very basic settings.
		The portfolio loss distribution can be achieved either by simulation or analytically 
		in case of the classic CreditRisk+ model. Models are only implemented to respect losses
		caused by defaults, i.e. migration risk is not included. The package structure is kept
		flexible especially with respect to distributional assumptions in order to quantify the
		sensitivity of risk figures with respect to several assumptions. Therefore the package
		can be used to determine the credit risk of a given portfolio as well as to quantify
		model sensitivities.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.11.2), methods, RcppProgress(&ge; 0.1), parallel</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppProgress</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Windows, Linux, OS X</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-12-29 14:12:11 UTC; Kevin</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-12-30 00:34:04</td>
</tr>
</table>
<hr>
<h2 id='GCPM-package'>
Generalized Credit Portfolio Model
</h2><span id='topic+GCPM-package'></span><span id='topic+GCPM'></span>

<h3>Description</h3>

<p>The package helps to analyze the default risk of credit portfolios. Commonly known models, 
like CreditRisk+ or the CreditMetrics model are implemented in their very basic settings.
The portfolio loss distribution can be achieved either by simulation or analytically 
in case of the classic CreditRisk+ model. Models are only implemented to respect losses
caused by defaults, i.e. migration risk is not included. The package structure is kept
flexible especially with respect to distributional assumptions in order to quantify the
sensitivity of risk figures with respect to several assumptions. Therefore the package
can be used to determine the credit risk of a given portfolio as well as to quantify
model sensitivities.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> GCPM</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.2.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-12-29</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Kevin Jakob
</p>
<p>Maintainer: Kevin Jakob &lt;Kevin.Jakob.Research@gmail.com&gt;
</p>


<h3>References</h3>

<p>Jakob, K. &amp; Fischer, M. &quot;GCPM: A flexible package to explore credit portfolio risk&quot; Austrian Journal of Statistics 45.1 (2016): 25:44<br />
Morgan, J. P. &quot;CreditMetrics-technical document.&quot; JP Morgan, New York, 1997<br /> 
First Boston Financial Products, &quot;CreditRisk+&quot;, 1997 <br />
Gundlach &amp; Lehrbass, &quot;CreditRisk+ in the Banking Industry&quot;, Springer, 2003<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+GCPM-class">GCPM-class</a></code>, <code><a href="#topic+init">init</a></code>, <code><a href="#topic+analyze">analyze</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#create a random portfolio with NC counterparties
NC=100
#assign business lines and countries randomly
business.lines=c("A","B","C")
CP.business=business.lines[ceiling(runif(NC,0,length(business.lines)))] 
countries=c("A","B","C","D","E")
CP.country=countries[ceiling(runif(NC,0,length(countries)))]

#create matrix with sector weights (CreditRisk+ setting)
#according to business lines
NS=length(business.lines)
W=matrix(0,nrow = NC,ncol = length(business.lines),
dimnames = list(1:NC,business.lines)) 
for(i in 1:NC){W[i,CP.business[i]]=1}

#create portfolio data frame
portfolio=data.frame(Number=1:NC,Name=paste("Name ",1:NC),Business=CP.business,
                     Country=CP.country,EAD=runif(NC,1e3,1e6),LGD=runif(NC),
                     PD=runif(NC,0,0.3),Default=rep("Bernoulli",NC),W)

#draw sector variances randomly
sec.var=runif(NS,0.5,1.5)
names(sec.var)=business.lines

#draw N sector realizations (independent gamma distributed sectors)
N=5e4
random.numbers=matrix(NA,ncol=NS,nrow=N,dimnames=list(1:N,business.lines))
for(i in 1:NS){
random.numbers[,i]=rgamma(N,shape = 1/sec.var[i],scale=sec.var[i])}

#create a portfolio model and analyze the portfolio
TestModel=init(model.type = "simulative",link.function = "CRP",N = N,
loss.unit = 1e3, random.numbers = random.numbers,LHR=rep(1,N),loss.thr=5e6,
max.entries=2e4)
TestModel=analyze(TestModel,portfolio)

#plot of pdf of portfolio loss (in million) with indicators for EL, VaR and ES
alpha=c(0.995,0.999)
plot(TestModel,1e6,alpha=alpha)

#calculate portfolio VaR and ES
VaR=VaR(TestModel,alpha)
ES=ES(TestModel,alpha)

#Calculate risk contributions to VaR and ES 
risk.cont=cbind(VaR.cont(TestModel,alpha = alpha),
ES.cont(TestModel,alpha = alpha))
</code></pre>

<hr>
<h2 id='alpha.max-methods'>Maximum CDF Level</h2><span id='topic+alpha.max-methods'></span><span id='topic+alpha.max+2CGCPM'></span><span id='topic+alpha.max'></span>

<h3>Description</h3>

<p>Get the maximum value of the model's CDF. For simulative models,
the value should be equal to 1. For an analytical model,
the value depends on the value specified during initiation of the model (see <code><a href="#topic+init">init</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  alpha.max(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alpha.max-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='analyze-methods'>Analyze a Credit Portfolio</h2><span id='topic+analyze-methods'></span><span id='topic+analyze+2CGCPM-method'></span><span id='topic+analyze+2CGCPM+2Cdata.frame+2Cmissing+2Cmissing-method'></span><span id='topic+analyze+2CGCPM+2Cdata.frame+2Cnumeric+2Cmissing-method'></span><span id='topic+analyze+2CGCPM+2Cdata.frame+2Cmissing+2Cnumeric-method'></span><span id='topic+analyze+2CGCPM+2Cdata.frame+2Cnumeric+2Cnumeric-method'></span><span id='topic+analyze'></span>

<h3>Description</h3>

<p>The method analyzes a given portfolio with a predefined portfolio model
(i.e. a <code>GCPM</code> object). Portfolio key numbers such as the number of portfolio
positions, sum of EAD and PL or the expected loss are calculated. Afterwards the
loss distribution is estimated according to <code>model.type</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze(this,portfolio,alpha,Ncores)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze-methods_+3A_this">this</code></td>
<td>
<p>object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="analyze-methods_+3A_portfolio">portfolio</code></td>
<td>
<p>data frame containing portfolio data. The following columns
have to be defined (please be aware of the correct spelling of the column names):<br />
<code>Number</code>: identification number for each portfolio position (numeric)<br />
<code>Name</code>: counterparty name (character)<br />
<code>Business</code>: business information (character/factor)<br />
<code>Country</code>: country information (character/factor)<br />
<code>EAD</code>: exposure at default (numeric)<br />
<code>LGD</code>: loss given default (numeric in [0,1])<br />
<code>PD</code>: probability of default (numeric in [0,1])<br />
<code>Default</code>: default distribution either &ldquo;Bernoulli&rdquo; or
&ldquo;Poisson&rdquo; (employable for pools)<br />
sectors: starting with the 9th column, the sector weights have to be defined..
</p>
</td></tr>
<tr><td><code id="analyze-methods_+3A_alpha">alpha</code></td>
<td>
<p>loss levels for risk measures economic capital, value at risk
and expected shortfall (optional)</p>
</td></tr>
<tr><td><code id="analyze-methods_+3A_ncores">Ncores</code></td>
<td>
<p>number of (virtual) cores used to perfom Monte Carlo simulation
(requires package <span class="pkg">parallel</span>, default=1)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In case of an analytical CreditRisk+ model, a modified version of the
algorithm described in Gundlach &amp; Lehrbass (2003) is used. For a simulative
model, the loss distribution is estimated based on <code>N</code> simulations with
sector drawings specified by <code>random.numbers</code> (see <code><a href="#topic+init">init</a></code>).
The sector names (column names) should not include any white spaces. In case of a
CreditMetrics type model, the values of R (not R^2) have to be provided as sector
weights. In the standard CreditMetrics or CreditRisk+ framework a counterparty can
be assigned to more than one sector. Within a analytical CreditRisk+ model, the
sector names have to match the names of <code>sec.var</code> or in a simulative model
the column names of <code>random.numbers</code> (see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Value</h3>

<p>object of class <code>GCPM</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(this = "GCPM", portfolio = "data.frame",
alpha = "missing")</code></dt><dd>
<p>If loss levels <code>alpha</code> are not provided, risk measures such as economic
capital, value at risk and expected shortfall are not calculated by default.
However, they can be calculated afterwards by calling the corresponding methods
(see <code><a href="#topic+VaR">VaR</a></code>, <code><a href="#topic+ES">ES</a></code>, <code><a href="#topic+EC">EC</a></code>)
</p>
</dd>
<dt><code>signature(this = "GCPM", portfolio = "data.frame",
alpha = "numeric")</code></dt><dd>
<p>If loss levels <code>alpha</code> are provided, risk measures such as economic
capital, value at risk and expected shortfall are calculated and printed.
To extract these risk measures into a separate variable you can use the
corresponding methods.
</p>
</dd>
</dl>


<h3>References</h3>

<p>Jakob, K. &amp; Fischer, M. &quot;GCPM: A flexible package to explore credit portfolio risk&quot; Austrian Journal of Statistics 45.1 (2016): 25:44<br />
Morgan, J. P. &quot;CreditMetrics-technical document.&quot; JP Morgan, New York, 1997<br /> 
First Boston Financial Products, &quot;CreditRisk+&quot;, 1997 <br />
Gundlach &amp; Lehrbass, &quot;CreditRisk+ in the Banking Industry&quot;, Springer, 2003<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>#create a random portfolio with NC counterparties
NC=100
#assign business lines and countries randomly
business.lines=c("A","B","C")
CP.business=business.lines[ceiling(runif(NC,0,length(business.lines)))]
countries=c("A","B","C","D","E")
CP.country=countries[ceiling(runif(NC,0,length(countries)))]

#create matrix with sector weights (CreditRisk+ setting)
#according to business lines
NS=length(business.lines)
W=matrix(0,nrow = NC,ncol = length(business.lines),
dimnames = list(1:NC,business.lines))
for(i in 1:NC){W[i,CP.business[i]]=1}

#create portfolio data frame
portfolio=data.frame(Number=1:NC,Name=paste("Name ",1:NC),Business=CP.business,
                     Country=CP.country,EAD=runif(NC,1e3,1e6),LGD=runif(NC),
                     PD=runif(NC,0,0.3),Default=rep("Bernoulli",NC),W)

#draw sector variances randomly
sec.var=runif(NS,0.5,1.5)
names(sec.var)=business.lines

#draw N sector realizations (independent gamma distributed sectors)
N=5e4
random.numbers=matrix(NA,ncol=NS,nrow=N,dimnames=list(1:N,business.lines))
for(i in 1:NS){
random.numbers[,i]=rgamma(N,shape = 1/sec.var[i],scale=sec.var[i])}

#create a portfolio model and analyze the portfolio
TestModel=init(model.type = "simulative",link.function = "CRP",N = N,
loss.unit = 1e3, random.numbers = random.numbers,LHR=rep(1,N),loss.thr=5e6,
max.entries=2e4)
TestModel=analyze(TestModel,portfolio)

#plot of pdf of portfolio loss (in million) with indicators for EL, VaR and ES
alpha=c(0.995,0.999)
plot(TestModel,1e6,alpha=alpha)

#calculate portfolio VaR and ES
VaR=VaR(TestModel,alpha)
ES=ES(TestModel,alpha)

#Calculate risk contributions to VaR and ES
risk.cont=cbind(VaR.cont(TestModel,alpha = alpha),
ES.cont(TestModel,alpha = alpha))

#Use parallel computing for Monte Carlo simulation
TestModel=analyze(TestModel,portfolio,Ncores=2)
</code></pre>

<hr>
<h2 id='business-methods'>Counterparty Business Line</h2><span id='topic+business-methods'></span><span id='topic+business+2CGCPM-method'></span><span id='topic+business'></span>

<h3>Description</h3>

<p>Get the business information for each counterparty defined in the portfolio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  business(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="business-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>factor of length equal to number of portfolio positions</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='CDF-methods'>Cumulative Distribution Function of Portfolio Loss</h2><span id='topic+CDF-methods'></span><span id='topic+CDF'></span><span id='topic+CDF+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the CDF of the portfolio loss, available after execution of <code>analyze</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  CDF(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CDF-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector</p>


<h3>See Also</h3>

<p><code><a href="#topic+analyze">analyze</a></code></p>

<hr>
<h2 id='country-methods'>Country Information</h2><span id='topic+country-methods'></span><span id='topic+country'></span><span id='topic+country+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the country information of each counterparty defined in the portfolio.</p>


<h3>Usage</h3>

<pre><code class='language-R'>  country(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="country-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>factor of length equal to number of portfolio positions</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='default-methods'>Default Distribution</h2><span id='topic+default-methods'></span><span id='topic+default'></span><span id='topic+default+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the default distribution of each portfolio position. Using &ldquo;Poisson&rdquo;
as default distribution one can simulate the standard CR+ model or group
smaller counterparties into a pool and simulate their defaults.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  default(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="default-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character of length equal to number of portfolio positions</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='EAD-methods'>Exposure at Default</h2><span id='topic+EAD-methods'></span><span id='topic+EAD'></span><span id='topic+EAD+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the counterparties' exposure at default defined in the portfolio data. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  EAD(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EAD-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length equal to the number of counterparties</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='EC-methods'>Economic Capital</h2><span id='topic+EC-methods'></span><span id='topic+EC'></span><span id='topic+EC+2CGCPM+2Cmissing-method'></span><span id='topic+EC+2CGCPM+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Get the value of economic capital for the portfolio on level(s)
<code>alpha</code></p>


<h3>Usage</h3>

<pre><code class='language-R'>EC(this,alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EC-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="EC-methods_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector of loss levels between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of length equal to <code>length(alpha)</code>.
</p>

<hr>
<h2 id='EC.cont-methods'>Risk Contributions to Economic Capital</h2><span id='topic+EC.cont-methods'></span><span id='topic+EC.cont'></span><span id='topic+EC.cont+2CGCPM-method'></span><span id='topic+EC.cont+2CGCPM+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Calculate contributions to the economic capital on portfolio level for each
portfolio position. In case of a simulative model, the risk contributions are
calculated as contributions to expected shortfall on a lower loss level
<code class="reqn">\tau</code>, such that ES(<code class="reqn">\tau</code>) is as close as possible to EC(<code class="reqn">\alpha</code>).
Furthermore, in case of a simulative model, loss scenarios above a predefined
threshold (<code>loss.thr</code>) are analyzed in order to calculate the risk
contributions. If <code>loss.thr</code> is too high (depending on value of <code>alpha</code>)
the calculation will be not possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EC.cont(this,alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EC.cont-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="EC.cont-methods_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector of loss levels between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric matrix with number of rows equal to number of counterparties within the portfolio and number of columns equal to <code>length(alpha)</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+loss.thr">loss.thr</a></code></p>

<hr>
<h2 id='EL-methods'>Expected Loss (from Loss Distribution)</h2><span id='topic+EL-methods'></span><span id='topic+EL'></span><span id='topic+EL+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the expected loss (EL) calculated from the portfolio loss distribution.
Because of the discretization and/or simulation errors, this is not equal to
the analytical EL (see <code><a href="#topic+EL.analyt">EL.analyt</a></code>). Please also note, that in case
of a simulative model (with Bernoulli default distribution) of the CreditRisk+
type the simulated EL tends to be smaller than the analytical one because the
conditional PD <code class="reqn">\overline{PD}=PD\cdot (w^Tx)</code> has to be truncated (if <code class="reqn">\overline{PD}&gt;1</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EL(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EL-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+EL.analyt">EL.analyt</a></code></p>

<hr>
<h2 id='EL.analyt-methods'>Expected Loss (analytical)</h2><span id='topic+EL.analyt-methods'></span><span id='topic+EL.analyt'></span><span id='topic+EL.analyt+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the expected loss (EL) calculated from the portfolio data. Because of the
discretization and/or simulation errors, this is not equal to the EL calculated
from the portfolio loss distribution (see <code><a href="#topic+EL">EL</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EL.analyt(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EL.analyt-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+EL">EL</a></code></p>

<hr>
<h2 id='ES-methods'>Expected Shortfall</h2><span id='topic+ES-methods'></span><span id='topic+ES'></span><span id='topic+ES+2CGCPM+2Cmissing-method'></span><span id='topic+ES+2CGCPM+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Get the value of the expected shortfall for the portfolio on level(s)
<code>alpha</code></p>


<h3>Usage</h3>

<pre><code class='language-R'>ES(this,alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ES-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="ES-methods_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector of loss levels between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of length equal to <code>length(alpha)</code>.
</p>

<hr>
<h2 id='ES.cont-methods'>Risk Contributions to Expected Shortfall</h2><span id='topic+ES.cont-methods'></span><span id='topic+ES.cont'></span><span id='topic+ES.cont+2CGCPM-method'></span><span id='topic+ES.cont+2CGCPM+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Calculate contributions to the expected shortfall on portfolio level for each
portfolio position. In case of a simulative model, loss scenarios above a
predefined threshold (<code>loss.thr</code>) are analyzed in order to calculate the
risk contributions. If <code>loss.thr</code> is too high, calculation may be not
possible (depending on value of <code>alpha</code>). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ES.cont(this,alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ES.cont-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="ES.cont-methods_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector of loss levels between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric matrix with number of rows equal to number of counterparties within the portfolio and number of columns equal to <code>length(alpha)</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+loss.thr">loss.thr</a></code></p>

<hr>
<h2 id='export-methods'>Export Main Results</h2><span id='topic+export-methods'></span><span id='topic+export'></span><span id='topic+export+2CGCPM-method'></span><span id='topic+export+2CGCPM+2Ccharacter+2Ccharacter+2Cnumeric-method'></span><span id='topic+export+2CGCPM+2Ccharacter+2Ccharacter+2Cmissing-method'></span><span id='topic+export+2CGCPM+2Ccharacter+2Cmissing+2Cnumeric-method'></span><span id='topic+export+2CGCPM+2Ccharacter+2Cmissing+2Cmissing-method'></span><span id='topic+export+2CGCPM+2Cmissing+2Ccharacter+2Cnumeric-method'></span><span id='topic+export+2CGCPM+2Cmissing+2Cmissing+2Cnumeric-method'></span><span id='topic+export+2CGCPM+2Cmissing+2Cmissing+2Cmissing-method'></span><span id='topic+export+2CGCPM+2Cmissing+2Ccharacter+2Cmissing-method'></span>

<h3>Description</h3>

<p>This method provides an easy way to export the main results of the portfolio
(i.e. after running <code>analyze</code>). A summary file and the portfolio loss
distribution (PDF and CDF) are exported to <code>path.out</code>. With the help of
<code>file.format</code> one can specify the csv format (&ldquo;csv1&rdquo; or
&ldquo;csv2&rdquo;). If a vector <code>alpha</code> of loss levels is specified,
risk contributions to EC, VaR and ES are also exported according to level(s)
<code>alpha</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>export(this,path.out,file.format,alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="export-methods_+3A_path.out">path.out</code></td>
<td>
<p>string specifying the output path</p>
</td></tr>
<tr><td><code id="export-methods_+3A_file.format">file.format</code></td>
<td>
<p>string specifying the file format (i.e &ldquo;csv1&rdquo; or
&ldquo;csv2&rdquo;)</p>
</td></tr>
<tr><td><code id="export-methods_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector with loss levels between 0 and 1</p>
</td></tr>
</table>

<hr>
<h2 id='GCPM-class'>Class <code>"GCPM"</code></h2><span id='topic+GCPM-class'></span>

<h3>Description</h3>

<p>The class represents a generalized credit portfolio framework. Users which are
not familiar with credit portfolio models in general and the CreditRisk+ model
as well as the CreditMetrics model in particular should refer to the references
given below. Models can be simulative or analytical (in case of a CreditRisk+
type model). The link function can be chosen to be either of the CreditRisk+ or
the CreditMetrics type. Counterparties' default distribution can be specified
to be either Bernoulli or Poisson, which is the default
distribution in the basic CreditRisk+ framework. 
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created via the <code>init</code> function (see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Slots</h3>


<dl>
<dt><code>model.type</code>:</dt><dd><p>Character value, specifying the model type.
One can choose between &ldquo;simulative&rdquo; and &ldquo;CRP&rdquo; which
corresponds to the analytical version of the CreditRisk+ model
(see First Boston Financial Products, 1997)</p>
</dd>
<dt><code>default</code>:</dt><dd><p>Character vector specifying the counterparties'
default distribution (either &ldquo;Bernoulli&rdquo; or &ldquo;Poisson&rdquo;)</p>
</dd>
<dt><code>link.function</code>:</dt><dd><p>character value, specifying the type of the
link function. One can choose between &ldquo;CRP&rdquo;, which corresponds to
<code class="reqn">\overline{PD}=PD\cdot (w^Tx)</code> and &ldquo;CM&rdquo; which corresponds to
<code class="reqn">\overline{PD}=\Phi\left(\frac{\Phi^{-1}PD-w^Tx}{\sqrt{1-w^T\Sigma w}}\right)</code>,
where PD is the original PD from portfolio data, x is the vector of sector
drawings, <code class="reqn">\Phi</code> is the CDF of the standard normal distribution, w is
the vector of sector weights given in the portfolio data and <code class="reqn">\Sigma</code>
is the correlation matrix of the sector variables estimated from
<code>random.numbers</code>. &ldquo;CRP&rdquo; will be used automatically if
<code>model.type</code> == &quot;CRP&quot;.
</p>
</dd>
<dt><code>loss.unit</code>:</dt><dd><p>numeric value used to discretize potential losses.</p>
</dd>
<dt><code>NS</code>:</dt><dd><p>number of sectors</p>
</dd>
<dt><code>NC</code>:</dt><dd><p>number of counterparties</p>
</dd>
<dt><code>name</code>:</dt><dd><p>counterparties' names defined in the portfolio</p>
</dd>
<dt><code>NR</code>:</dt><dd><p>counterparties' identification numbers defined in the
portfolio</p>
</dd>
<dt><code>EAD</code>:</dt><dd><p>counterparties' exposure at default defined in the
portfolio</p>
</dd>
<dt><code>LGD</code>:</dt><dd><p>counterparties' loss given default defined in the
portfolio</p>
</dd>
<dt><code>PL</code>:</dt><dd><p>counterparties' potential loss (<code class="reqn">EAD*LGD</code>)</p>
</dd>
<dt><code>PD</code>:</dt><dd><p>counterparties' probability of default defined in the
portfolio</p>
</dd>
<dt><code>business</code>:</dt><dd><p>counterparties' business line defined in the
portfolio</p>
</dd>
<dt><code>country</code>:</dt><dd><p>counterparties' country defined in the portfolio</p>
</dd>
<dt><code>EL.analyt</code>:</dt><dd><p>Expected loss calculated from portfolio data
(without discretization)</p>
</dd>
<dt><code>EL</code>:</dt><dd><p>Expected loss derived from loss distribution</p>
</dd>
<dt><code>nu</code>:</dt><dd><p>multiples of <code>loss unit</code> representing discretized
potential losses within an analytical CreditRisk+ type model</p>
</dd>
<dt><code>PL.disc</code>:</dt><dd><p>counterparties' potential loss (<code class="reqn">EAD*LGD</code>)
after discretization</p>
</dd>
<dt><code>PD.disc</code>:</dt><dd><p>counterparties' probability of default defined in
the portfolio after discretization</p>
</dd>
<dt><code>sec.var</code>:</dt><dd><p>sector variances within an analytical CreditRisk+
type model</p>
</dd>
<dt><code>sector.names</code>:</dt><dd><p>sector names</p>
</dd>
<dt><code>SD.div</code>:</dt><dd><p>diversifiable part of portfolio risk (measured by
standard deviation) in case of a CreditRisk+ type model</p>
</dd>
<dt><code>SD.syst</code>:</dt><dd><p>Non-diversifiable part of portfolio risk (measured
by standard deviation) in case of a CreditRisk+ type model</p>
</dd>
<dt><code>SD.analyt</code>:</dt><dd><p>portfolio standard deviation derived from
portfolio data in case of a CreditRisk+ type model</p>
</dd>
<dt><code>SD</code>:</dt><dd><p>portfolio standard deviation derived from loss
distribution</p>
</dd>
<dt><code>W</code>:</dt><dd><p>counterparties' sector weights</p>
</dd>
<dt><code>idiosyncr</code>:</dt><dd><p>counterparties idiosyncratic weight in case of a
CreditRisk+ type model</p>
</dd>
<dt><code>alpha.max</code>:</dt><dd><p>maximum level of CDF of the loss distribution
within an analytical CreditRisk+ type model</p>
</dd>
<dt><code>a</code>:</dt><dd><p>internal parameter used to calculate risk contributions
in case of an analytical CreditRisk+ type model</p>
</dd>
<dt><code>PDF</code>:</dt><dd><p>probability density function of portfolio losses</p>
</dd>
<dt><code>CDF</code>:</dt><dd><p>cumulative distribution function of portfolio losses</p>
</dd>
<dt><code>B</code>:</dt><dd><p>internal parameter used to calculate risk contributions
in case of an analytical CreditRisk+ type model</p>
</dd>
<dt><code>loss</code>:</dt><dd><p>portfolio losses corresponding to <code>PDF</code> and
<code>CDF</code></p>
</dd>
<dt><code>random.numbers</code>:</dt><dd><p>sector drawing in case of a simulative model</p>
</dd>
<dt><code>LHR</code>:</dt><dd><p>likelihood ration of sector drawing in case of a
simulative model</p>
</dd>
<dt>max.entries</dt><dd>
<p>numeric value defining the maximum number of loss scenarios stored to
calculate risk contributions.</p>
</dd>
<dt><code>N</code>:</dt><dd><p>number of simulations in case of a simulative model</p>
</dd>
<dt><code>scenarios</code>:</dt><dd><p>scenarios (rows) of <code>random.numbers</code> used
within the simulation of portfolio losses</p>
</dd>
<dt><code>seed</code>:</dt><dd><p>parameter used to initialize the random number
generator. If <code>seed</code> is not provided a value based on current system 
time will be used.</p>
</dd>
<dt><code>loss.thr</code>:</dt><dd><p>specifies a lower bound for portfolio losses to be
stored in order to derive risk contributions on counterparty level. Using
a lower value needs a lot of memory but will be necessary in order to
calculate risk contributions on lower CDF levels. This parameter is used
only if <code>model.type</code> == &quot;simulative&quot;.</p>
</dd>
<dt><code>sim.losses</code>:</dt><dd><p>simulated portfolio losses in case of a
simulative model</p>
</dd>
<dt><code>CP.sim.losses</code>:</dt><dd><p>simulated losses on counterparty level when
the overall portfolio loss is greater or equal to <code>loss.thr</code></p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Kevin Jakob
</p>


<h3>References</h3>

<p>Jakob, K. &amp; Fischer, M. &quot;GCPM: A flexible package to explore credit portfolio risk&quot; Austrian Journal of Statistics 45.1 (2016): 25:44<br />
Morgan, J. P. &quot;CreditMetrics-technical document.&quot; JP Morgan, New York, 1997<br /> 
First Boston Financial Products, &quot;CreditRisk+&quot;, 1997 <br />
Gundlach &amp; Lehrbass, &quot;CreditRisk+ in the Banking Industry&quot;, Springer, 2003<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+GCPM-package">GCPM-package</a></code>, <code><a href="#topic+init">init</a></code>, <code><a href="#topic+analyze">analyze</a></code>
</p>

<hr>
<h2 id='idiosyncr-methods'>Idiosyncratic Risk Weights</h2><span id='topic+idiosyncr-methods'></span><span id='topic+idiosyncr'></span><span id='topic+idiosyncr+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the idiosyncratic risk weights (i.e. risk weights which are not assigned
to any sector). Currently only available if <code>model.type</code> == &quot;CRP&quot;.</p>


<h3>Usage</h3>

<pre><code class='language-R'>idiosyncr(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="idiosyncr-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of length equal to number of counterparties</p>

<hr>
<h2 id='init'>
Initialize an Object of Class <code>GCPM</code> 
</h2><span id='topic+init'></span>

<h3>Description</h3>

<p>The function helps to create a new object of class <code>GCPM</code>. The arguments 
of the function are passed to the object after performing some plausibility checks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>init(model.type = "CRP", link.function = "CRP", N, seed,
loss.unit, alpha.max = 0.9999, loss.thr = Inf, sec.var,
random.numbers = matrix(), LHR, max.entries=1e3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="init_+3A_model.type">model.type</code></td>
<td>
<p>Character value, specifying the model type. One can choose
between &ldquo;simulative&rdquo; and &ldquo;CRP&rdquo; which corresponds to the
analytical version of the CreditRisk+ model (see First Boston Financial
Products, 1997)</p>
</td></tr>
<tr><td><code id="init_+3A_link.function">link.function</code></td>
<td>

<p>character value, specifying the type of the link function. One can choose
between &ldquo;CRP&rdquo;, which corresponds to <code class="reqn">\overline{PD}=PD\cdot (w^Tx)</code>
and &ldquo;CM&rdquo; which corresponds to
<code class="reqn">\overline{PD}=\Phi\left(\frac{\Phi^{-1}PD-w^Tx}{\sqrt{1-w^T\Sigma w}}\right)</code>,
where PD is the original PD from portfolio data, x is the vector of sector
drawings, <code class="reqn">\Phi</code> is the CDF of the standard normal distribution, w is the
vector of sector weights given in the portfolio data and <code class="reqn">\Sigma</code> is the
correlation matrix of the sector variables estimated from <code>random.numbers</code>.
&ldquo;CRP&rdquo; will be used automatically if <code>model.type</code> == &quot;CRP&quot;.
</p>
</td></tr>
<tr><td><code id="init_+3A_n">N</code></td>
<td>

<p>numeric value, defining the number of simulations if
<code>model.type</code> == &quot;simulative&quot;. If <code>N</code> is greater than the number of
scenarios provided via <code>random.numbers</code>, scenarios are reused.
This parameter is used only if <code>model.type</code> == &quot;simulative&quot;.
</p>
</td></tr>
<tr><td><code id="init_+3A_seed">seed</code></td>
<td>

<p>numeric value used to initialize the random number generator. If <code>seed</code> is 
not provided a value based on current system time will be used. This parameter 
is used only if <code>model.type</code> == &quot;simulative&quot;.
</p>
</td></tr>
<tr><td><code id="init_+3A_loss.unit">loss.unit</code></td>
<td>

<p>numeric positive value used to discretize potential losses.
</p>
</td></tr>
<tr><td><code id="init_+3A_alpha.max">alpha.max</code></td>
<td>

<p>numeric value between 0 and 1 defining the maximum CDF-level which will be
computed in case of an analytical CreditRisk+ type model.
</p>
</td></tr>
<tr><td><code id="init_+3A_loss.thr">loss.thr</code></td>
<td>

<p>numeric value specifying a lower bound for portfolio losses to be stored in
order to derive risk contributions on counterparty level. Using a lower value
needs a lot of memory but will be necessary in order to calculate risk
contributions on lower CDF levels. This parameter is used only if
<code>model.type</code> == &quot;simulative&quot;.</p>
</td></tr>
<tr><td><code id="init_+3A_sec.var">sec.var</code></td>
<td>

<p>named numeric vector defining the sector variances in case of a CreditRisk+
type model. The names have to correspond to the sector names given in the
portfolio. This parameter is used only if <code>model.type</code> == &quot;CRP&quot;.
</p>
</td></tr>
<tr><td><code id="init_+3A_random.numbers">random.numbers</code></td>
<td>

<p>matrix with sector drawings. The columns represent the sectors,
whereas the rows represent the scenarios (number of different simulations).
The column names must correspond to the names used in the portfolio data
(see <code><a href="#topic+analyze">analyze</a></code>) and to the names of <code>sec.var</code> if
<code>model.type</code> == &quot;CRP&quot;. This parameter is used only if
<code>model.type</code> == &quot;simulative&quot;.
</p>
</td></tr>
<tr><td><code id="init_+3A_lhr">LHR</code></td>
<td>

<p>numeric vector of length equal to <code>nrow(random.numbers)</code> defining the
likelihood ratio of each scenario. If not provided, all scenarios are assumed
to be equally likely.  This parameter is used only if
<code>model.type</code> == &quot;simulative&quot;.
</p>
</td></tr>
<tr><td><code id="init_+3A_max.entries">max.entries</code></td>
<td>

<p>numeric value defining the maximum number of loss scenarios stored to
calculate risk contributions.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>GCPM</code>
</p>


<h3>Author(s)</h3>

<p>Kevin Jakob
</p>


<h3>References</h3>

<p>Jakob, K. &amp; Fischer, M. &quot;GCPM: A flexible package to explore credit portfolio risk&quot; Austrian Journal of Statistics 45.1 (2016): 25:44<br />
Morgan, J. P. &quot;CreditMetrics-technical document.&quot; JP Morgan, New York, 1997<br /> 
First Boston Financial Products, &quot;CreditRisk+&quot;, 1997 <br />
Gundlach &amp; Lehrbass, &quot;CreditRisk+ in the Banking Industry&quot;, Springer, 2003<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+GCPM">GCPM</a></code>, <code><a href="#topic+GCPM-class">GCPM-class</a></code>, <code><a href="#topic+analyze">analyze</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#create a random portfolio with NC counterparties
NC=100
#assign business lines and countries randomly
business.lines=c("A","B","C")
CP.business=business.lines[ceiling(runif(NC,0,length(business.lines)))] 
countries=c("A","B","C","D","E")
CP.country=countries[ceiling(runif(NC,0,length(countries)))]

#create matrix with sector weights (CreditRisk+ setting)
#according to business lines
NS=length(business.lines)
W=matrix(0,nrow = NC,ncol = length(business.lines),
dimnames = list(1:NC,business.lines)) 
for(i in 1:NC){W[i,CP.business[i]]=1}

#create portfolio data frame
portfolio=data.frame(Number=1:NC,Name=paste("Name ",1:NC),Business=CP.business,
                     Country=CP.country,EAD=runif(NC,1e3,1e6),LGD=runif(NC),
                     PD=runif(NC,0,0.3),Default=rep("Bernoulli",NC),W)

#draw sector variances randomly
sec.var=runif(NS,0.5,1.5)
names(sec.var)=business.lines

#draw N sector realizations (independent gamma distributed sectors)
N=5e4
random.numbers=matrix(NA,ncol=NS,nrow=N,dimnames=list(1:N,business.lines))
for(i in 1:NS){
random.numbers[,i]=rgamma(N,shape = 1/sec.var[i],scale=sec.var[i])}

#create a portfolio model and analyze the portfolio
TestModel=init(model.type = "simulative",link.function = "CRP",N = N,
loss.unit = 1e3, random.numbers = random.numbers,LHR=rep(1,N),loss.thr=5e6,
max.entries=2e4)
TestModel=analyze(TestModel,portfolio)

#plot of pdf of portfolio loss (in million) with indicators for EL, VaR and ES
alpha=c(0.995,0.999)
plot(TestModel,1e6,alpha=alpha)

#calculate portfolio VaR and ES
VaR=VaR(TestModel,alpha)
ES=ES(TestModel,alpha)

#Calculate risk contributions to VaR and ES 
risk.cont=cbind(VaR.cont(TestModel,alpha = alpha),
ES.cont(TestModel,alpha = alpha))
</code></pre>

<hr>
<h2 id='LGD-methods'>Loss Given Default</h2><span id='topic+LGD-methods'></span><span id='topic+LGD'></span><span id='topic+LGD+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the values of LGD, defined within the portfolio</p>


<h3>Usage</h3>

<pre><code class='language-R'>LGD(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LGD-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of length equal to number of counterparties</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='LHR-methods'>Likelihood Ratio</h2><span id='topic+LHR-methods'></span><span id='topic+LHR'></span><span id='topic+LHR+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the likelihood ratio for each scenario defined in <code>random.numbers</code> 
(see <code><a href="#topic+init">init</a></code>)</p>


<h3>Usage</h3>

<pre><code class='language-R'>LHR(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LHR-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of length equal to <code>nrow(random.numbers)</code></p>

<hr>
<h2 id='link.function-methods'>Model Link Function</h2><span id='topic+link.function-methods'></span><span id='topic+link.function'></span><span id='topic+link.function+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the models link function (see <code><a href="#topic+init">init</a></code>)</p>


<h3>Usage</h3>

<pre><code class='language-R'>link.function(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="link.function-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='loss-methods'>Loss Levels</h2><span id='topic+loss-methods'></span><span id='topic+loss'></span><span id='topic+loss+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the loss levels of the portfolio loss distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loss(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loss-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector</p>

<hr>
<h2 id='loss.thr-methods'>Threshold of Saved Portfolio Loss</h2><span id='topic+loss.thr-methods'></span><span id='topic+loss.thr'></span><span id='topic+loss.thr+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>loss.thr</code> (see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loss.thr(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loss.thr-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='loss.unit-methods'>Loss Unit</h2><span id='topic+loss.unit-methods'></span><span id='topic+loss.unit'></span><span id='topic+loss.unit+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the loss unit used for potential loss discretization of the model</p>


<h3>Usage</h3>

<pre><code class='language-R'>loss.unit(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loss.unit-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='model.type-methods'>Model Type</h2><span id='topic+model.type-methods'></span><span id='topic+model.type'></span><span id='topic+model.type+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>model.type</code> (see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model.type(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model.type-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='N-methods'>Number of Simulations</h2><span id='topic+N-methods'></span><span id='topic+N'></span><span id='topic+N+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>N</code> (number of simulations, see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>N(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="N-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='name-methods'>Counterparty Names</h2><span id='topic+name-methods'></span><span id='topic+name'></span><span id='topic+name+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>name</code>, i.e. the counterparties' names, defined in the 
portfolio (see <code><a href="#topic+analyze">analyze</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>name(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="name-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character value of length equal to number of counterparties</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='NC-methods'>Number of Counterparties</h2><span id='topic+NC-methods'></span><span id='topic+NC'></span><span id='topic+NC+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>NC</code>, representing the number of counterparties within 
the portfolio (see <code><a href="#topic+analyze">analyze</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NC(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NC-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+analyze">analyze</a></code></p>

<hr>
<h2 id='NR-methods'>Counterparty IDs</h2><span id='topic+NR-methods'></span><span id='topic+NR'></span><span id='topic+NR+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>NR</code>, the counterparties' identification numbers within the 
portfolio (see <code><a href="#topic+analyze">analyze</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NR(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NR-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length equal to number of counterparties</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='NS-methods'>Number of Sectors</h2><span id='topic+NS-methods'></span><span id='topic+NS'></span><span id='topic+NS+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>NS</code>, the number of sectors within the model 
(see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NS(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NS-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='PD-methods'>Counterparty Probability of Default</h2><span id='topic+PD-methods'></span><span id='topic+PD'></span><span id='topic+PD+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>PD</code>, the counterparties default probabilities within the 
portfolio (see <code><a href="#topic+analyze">analyze</a></code>. Please note, that these PDs are adjusted 
because of discretization in order to preserve the expected loss.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PD(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PD-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length equal to the number of counterparties</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code></p>

<hr>
<h2 id='PDF-methods'>Probability Density Function</h2><span id='topic+PDF-methods'></span><span id='topic+PDF'></span><span id='topic+PDF+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>PDF</code>, representing the pdf of the estimated portfolio 
loss distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PDF(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PDF-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector</p>

<hr>
<h2 id='PL-methods'>Counterparty Potential Loss</h2><span id='topic+PL-methods'></span><span id='topic+PL'></span><span id='topic+PL+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>PL</code>, the potential losses of counterparties 
(see <code><a href="#topic+GCPM-class">GCPM-class</a></code>). Please note, that the potential losses are 
discretized according to <code>loss.unit</code> (see <code><a href="#topic+init">init</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PL(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PL-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length equal to the number of counterparties</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code>,<code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='plot-methods'>Plot of the Portfolio Loss Distribution</h2><span id='topic+plot-methods'></span><span id='topic+plot'></span><span id='topic+plot+2CANY-method'></span><span id='topic+plot+2CGCPM-method'></span>

<h3>Description</h3>

<p>Plot of the estimated pdf of the portfolio loss distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot(x,y,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot-methods_+3A_x">x</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="plot-methods_+3A_y">y</code></td>
<td>
<p>plot unit for losses (x-axis), default value = 1</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_...">...</code></td>
<td>
<p>Further arguments such as:<br /> 
<code>alpha</code> If provided vertical lines are added, representing value 
at risk and expected shortfall on level(s) <code>alpha</code> or <br />
<code>nbins</code> number of supporting points, default value = 100
</p>
</td></tr>
</table>

<hr>
<h2 id='portfolio.pois'>
Example Portfolio Data with Poisson Default Mode</h2><span id='topic+portfolio.pois'></span>

<h3>Description</h3>

<p>The dataset contains an example portfolio in the structure needed by the <code><a href="#topic+analyze">analyze</a></code> function.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("portfolio.pois")</code></pre>


<h3>Format</h3>

<p>A data frame with 3000 counterparties and the following variables.
</p>

<dl>
<dt><code>Number</code></dt><dd><p>Counterparty ID (numeric)</p>
</dd>
<dt><code>Name</code></dt><dd><p>Counterparty name (character)</p>
</dd>
<dt><code>Business</code></dt><dd><p>Business line (character)</p>
</dd>
<dt><code>Country</code></dt><dd><p>Country (character)</p>
</dd>
<dt><code>EAD</code></dt><dd><p>Exposure at default (numeric)</p>
</dd>
<dt><code>LGD</code></dt><dd><p>Loss given dafault (numeric)</p>
</dd>
<dt><code>PD</code></dt><dd><p>Probability of default (numeric)</p>
</dd>
<dt><code>Default</code></dt><dd><p>Default mode (&lsquo;Poisson&rsquo; or &lsquo;Benroulli&rsquo;)</p>
</dd>
<dt><code>A</code></dt><dd><p>sector weights for sector A</p>
</dd>
<dt><code>B</code></dt><dd><p>sector weights for sector B</p>
</dd>
<dt><code>C</code></dt><dd><p>sector weights for sector C</p>
</dd>
</dl>


<hr>
<h2 id='portfolio.pool'>
Pooled Portfolio</h2><span id='topic+portfolio.pool'></span>

<h3>Description</h3>

<p>In order to speed up calculations, counterparties of <code><a href="#topic+portfolio.pois">portfolio.pois</a></code> with EAD*LGD &lt; 200,000 are grouped together (pooled).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("portfolio.pool")</code></pre>


<h3>Format</h3>

<p>A data frame with 1400 counterparties and 3 pools (each per sector) and the following variables.
</p>

<dl>
<dt><code>Number</code></dt><dd><p>Counterparty ID (numeric)</p>
</dd>
<dt><code>Name</code></dt><dd><p>Counterparty name (character)</p>
</dd>
<dt><code>Business</code></dt><dd><p>Business line (character)</p>
</dd>
<dt><code>Country</code></dt><dd><p>Country (character)</p>
</dd>
<dt><code>EAD</code></dt><dd><p>Exposure at default (numeric); pool: average EAD per counterparty</p>
</dd>
<dt><code>LGD</code></dt><dd><p>Loss given dafault (numeric); pool: EAD-weighted average LGD per counterparty</p>
</dd>
<dt><code>PD</code></dt><dd><p>Probability of default (numeric); pool: expectation of number of defaults</p>
</dd>
<dt><code>Default</code></dt><dd><p>Default mode (&lsquo;Poisson&rsquo; for pools or &lsquo;Benroulli&rsquo;)</p>
</dd>
<dt><code>A</code></dt><dd><p>sector weights for sector A</p>
</dd>
<dt><code>B</code></dt><dd><p>sector weights for sector B</p>
</dd>
<dt><code>C</code></dt><dd><p>sector weights for sector C</p>
</dd>
</dl>


<hr>
<h2 id='portfolios'>
Example Portfolios for GCPM Package</h2><span id='topic+portfolios'></span>

<h3>Description</h3>

<p>The workspace contain the example portfolio (with Poisson default mode) in the structure needed by the <code><a href="#topic+analyze">analyze</a></code> function as well as a pooled version. </p>


<h3>Usage</h3>

<pre><code class='language-R'>data("portfolios")</code></pre>


<h3>Format</h3>

<p>Two data frames containing the portfolios.</p>


<h3>See Also</h3>

<p><code><a href="#topic+portfolio.pois">portfolio.pois</a></code>, <code><a href="#topic+portfolio.pool">portfolio.pool</a></code>, <code><a href="#topic+analyze">analyze</a></code>
</p>

<hr>
<h2 id='random.numbers-methods'>Sector Drawings</h2><span id='topic+random.numbers-methods'></span><span id='topic+random.numbers'></span><span id='topic+random.numbers+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the content of <code>random.numbers</code>, representing the sector drawings 
(see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random.numbers(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="random.numbers-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric matrix</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='SD-methods'>Standard Deviation (Loss Distribution)</h2><span id='topic+SD-methods'></span><span id='topic+SD'></span><span id='topic+SD+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>SD</code>, the portfolio standard deviation derived from the 
loss distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SD(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SD-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>

<hr>
<h2 id='SD.analyt-methods'>Standard Deviation (from Portfolio Data)</h2><span id='topic+SD.analyt-methods'></span><span id='topic+SD.analyt'></span><span id='topic+SD.analyt+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>SD.analyt</code>, the portfolio standard deviation derived 
from the portfolio data (see <code><a href="#topic+GCPM-class">GCPM-class</a></code>). This value is only 
available in case of an analytical model. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SD.analyt(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SD.analyt-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>

<hr>
<h2 id='SD.cont-methods'>Risk Contributions to Portfolio Standard Deviation</h2><span id='topic+SD.cont-methods'></span><span id='topic+SD.cont'></span><span id='topic+SD.cont+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the counterparties' contributions to portfolio standard deviation
(see <code><a href="#topic+GCPM-class">GCPM-class</a></code>). These values are only available in case of an
analytical model. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SD.cont(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SD.cont-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length equal to number of counterparties</p>

<hr>
<h2 id='SD.div-methods'>Diversifiable Risk (Standard Deviation)</h2><span id='topic+SD.div-methods'></span><span id='topic+SD.div'></span><span id='topic+SD.div+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>SD.div</code>, the diversifiable part of portfolio standard
deviation (see <code><a href="#topic+GCPM-class">GCPM-class</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SD.div(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SD.div-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>

<hr>
<h2 id='SD.syst-methods'>Systemic Risk (Standard Deviation)</h2><span id='topic+SD.syst-methods'></span><span id='topic+SD.syst'></span><span id='topic+SD.syst+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>SD.syst</code>, the non-diversifiable part of portfolio
standard deviation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SD.syst(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SD.syst-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>

<hr>
<h2 id='sec.var-methods'>Sector Variances</h2><span id='topic+sec.var-methods'></span><span id='topic+sec.var'></span><span id='topic+sec.var+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>sec.var</code>, the sector variances in case of an analytical CreditRisk+ 
like model (see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sec.var(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sec.var-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length equal to number of sectors</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='sector.names-methods'>Sector Names</h2><span id='topic+sector.names-methods'></span><span id='topic+sector.names'></span><span id='topic+sector.names+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>sector.names</code>, the sector names (see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sector.names(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sector.names-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>factor of length equal to number of sectors</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='seed-methods'>Random Number Seed</h2><span id='topic+seed-methods'></span><span id='topic+seed'></span><span id='topic+seed+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>seed</code> (see <code><a href="#topic+init">init</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seed(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seed-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length 1</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

<hr>
<h2 id='show-methods'>Show Parameters of Credit Portfolio Model</h2><span id='topic+show-methods'></span><span id='topic+show+2CGCPM-method'></span>

<h3>Description</h3>

<p>Displays the most important parameters and portfolio statistics (if available).</p>

<hr>
<h2 id='summary-methods'>Model summary</h2><span id='topic+summary-methods'></span><span id='topic+summary'></span><span id='topic+summary+2CANY-method'></span><span id='topic+summary+2CGCPM-method'></span>

<h3>Description</h3>

<p>Create a Summary List with Model Parameters.</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary(object,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary-methods_+3A_object">object</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="summary-methods_+3A_...">...</code></td>
<td>
<p>No further arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list</p>

<hr>
<h2 id='VaR-methods'>Portfolio Value at Risk</h2><span id='topic+VaR-methods'></span><span id='topic+VaR'></span><span id='topic+VaR+2CGCPM-method'></span><span id='topic+VaR+2CGCPM+2Cnumeric-method'></span><span id='topic+VaR+2CGCPM+2Cmissing-method'></span>

<h3>Description</h3>

<p>Calculate the portfolio value at risk on level(s) <code>alpha</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VaR(this,alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VaR-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="VaR-methods_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector with entries between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of length equal to length of <code>alpha</code></p>

<hr>
<h2 id='VaR.cont-methods'>Risk Contributions to Portfolio Value at Risk</h2><span id='topic+VaR.cont-methods'></span><span id='topic+VaR.cont'></span><span id='topic+VaR.cont+2CGCPM-method'></span><span id='topic+VaR.cont+2CGCPM+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Get the counterparties' contributions to portfolio value at risk
(see <code><a href="#topic+GCPM-class">GCPM-class</a></code>). In case of a simulative model, these values are
calculated from individual losses greater or equal <code>loss.thr</code>
(see <code><a href="#topic+init">init</a></code>). Contributions are not available if <code>loss.thr</code> is too high.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VaR.cont(this,alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VaR.cont-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
<tr><td><code id="VaR.cont-methods_+3A_alpha">alpha</code></td>
<td>
<p>numeric vector with entries between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric matrix</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code>,<code><a href="#topic+loss.thr">loss.thr</a></code></p>

<hr>
<h2 id='W-methods'>Sector Weights</h2><span id='topic+W-methods'></span><span id='topic+W'></span><span id='topic+W+2CGCPM-method'></span>

<h3>Description</h3>

<p>Get the value of <code>W</code>, the matrix of counterparties' sector weights defined 
within the portfolio (see <code><a href="#topic+analyze">analyze</a></code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>W(this)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="W-methods_+3A_this">this</code></td>
<td>
<p>Object of class <code>GCPM</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric matrix</p>


<h3>See Also</h3>

<p><code><a href="#topic+init">init</a></code></p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

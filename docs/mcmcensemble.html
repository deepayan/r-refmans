<!DOCTYPE html><html lang="en"><head><title>Help for package mcmcensemble</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mcmcensemble}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#mcmcensemble-package'><p>MCMCEnsembleSampler</p></a></li>
<li><a href='#MCMCEnsemble'><p>MCMC ensemble sampler</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Ensemble Sampler for Affine-Invariant MCMC</td>
</tr>
<tr>
<td>Version:</td>
<td>3.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides ensemble samplers for
    affine-invariant Monte Carlo Markov Chain, which allow a faster
    convergence for badly scaled estimation problems. Two samplers are
    proposed: the 'differential.evolution' sampler from ter Braak and
    Vrugt (2008) &lt;<a href="https://doi.org/10.1007%2Fs11222-008-9104-9">doi:10.1007/s11222-008-9104-9</a>&gt; and the 'stretch' sampler
    from Goodman and Weare (2010) &lt;<a href="https://doi.org/10.2140%2Fcamcos.2010.5.65">doi:10.2140/camcos.2010.5.65</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://hugogruson.fr/mcmcensemble/">https://hugogruson.fr/mcmcensemble/</a>,
<a href="https://github.com/Bisaloo/mcmcensemble">https://github.com/Bisaloo/mcmcensemble</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Bisaloo/mcmcensemble/issues">https://github.com/Bisaloo/mcmcensemble/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>future.apply, progressr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bayesplot, coda, mockery, testthat (&ge; 3.0.0), knitr,
rmarkdown</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>r-for-educators/flair, spacefillr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-20 16:28:45 UTC; hugo</td>
</tr>
<tr>
<td>Author:</td>
<td>Hugo Gruson <a href="https://orcid.org/0000-0002-4094-1476"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre,
    aut, cph],
  Sanda Dejanic [aut, cph],
  Andreas Scheidegger
    <a href="https://orcid.org/0000-0003-2575-2172"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hugo Gruson &lt;hugo.gruson+R@normalesup.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-20 16:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='mcmcensemble-package'>MCMCEnsembleSampler</h2><span id='topic+mcmcensemble'></span><span id='topic+mcmcensemble-package'></span>

<h3>Description</h3>

<p>This package implements a particle Monte Carlo Markov Chain sampler
with two different ways of creating proposals.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Hugo Gruson <a href="mailto:hugo.gruson+R@normalesup.org">hugo.gruson+R@normalesup.org</a> (<a href="https://orcid.org/0000-0002-4094-1476">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Sanda Dejanic [copyright holder]
</p>
</li>
<li><p> Andreas Scheidegger (<a href="https://orcid.org/0000-0003-2575-2172">ORCID</a>) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://hugogruson.fr/mcmcensemble/">https://hugogruson.fr/mcmcensemble/</a>
</p>
</li>
<li> <p><a href="https://github.com/Bisaloo/mcmcensemble">https://github.com/Bisaloo/mcmcensemble</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Bisaloo/mcmcensemble/issues">https://github.com/Bisaloo/mcmcensemble/issues</a>
</p>
</li></ul>


<hr>
<h2 id='MCMCEnsemble'>MCMC ensemble sampler</h2><span id='topic+MCMCEnsemble'></span>

<h3>Description</h3>

<p>Ensemble Markov Chain Monte Carlo sampler with different strategies to
generate proposals. Either the <em>stretch move</em> as proposed by Goodman and
Weare (2010), or a <em>differential evolution jump move</em> similar to Braak and
Vrugt (2008).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MCMCEnsemble(
  f,
  inits,
  max.iter,
  n.walkers = 10 * ncol(inits),
  method = c("stretch", "differential.evolution"),
  coda = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MCMCEnsemble_+3A_f">f</code></td>
<td>
<p>function that returns a single scalar value proportional to the log
probability density to sample from.</p>
</td></tr>
<tr><td><code id="MCMCEnsemble_+3A_inits">inits</code></td>
<td>
<p>A matrix (or data.frame) containing the starting values for the
walkers. Each column is a variable to estimate and each row is a walker</p>
</td></tr>
<tr><td><code id="MCMCEnsemble_+3A_max.iter">max.iter</code></td>
<td>
<p>maximum number of function evaluations</p>
</td></tr>
<tr><td><code id="MCMCEnsemble_+3A_n.walkers">n.walkers</code></td>
<td>
<p>number of walkers (ensemble size). An integer greater or
equal than 2.</p>
</td></tr>
<tr><td><code id="MCMCEnsemble_+3A_method">method</code></td>
<td>
<p>method for proposal generation, either <code>"stretch"</code>, or
<code>"differential.evolution"</code>. This argument will be saved as an attribute
in the output (see examples).</p>
</td></tr>
<tr><td><code id="MCMCEnsemble_+3A_coda">coda</code></td>
<td>
<p>logical. Should the samples be returned as <a href="coda.html#topic+mcmc.list">coda::mcmc.list</a>
object? (defaults to <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="MCMCEnsemble_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code>f</code></p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> if <code>coda = FALSE</code> a list with:
</p>

<ul>
<li> <p><em>samples</em>: A three dimensional array of samples with dimensions <code>walker</code>
x <code>generation</code> x <code>parameter</code>
</p>
</li>
<li> <p><em>log.p</em>: A matrix with the log density evaluate for each walker at each
generation.
</p>
</li></ul>

</li>
<li><p> if <code>coda = TRUE</code> a list with:
</p>

<ul>
<li> <p><em>samples</em>: A object of class <a href="coda.html#topic+mcmc.list">coda::mcmc.list</a> containing all samples.
</p>
</li>
<li> <p><em>log.p</em>: A matrix with the log density evaluate for each walker at each
generation.
</p>
</li></ul>

</li></ul>

<p>In both cases, there is an additional attribute (accessible via
<code>attr(res, "ensemble.sampler")</code>) recording which ensemble sampling algorithm
was used.
</p>


<h3>References</h3>


<ul>
<li><p> ter Braak, C. J. F. and Vrugt, J. A. (2008) Differential Evolution Markov
Chain with snooker updater and fewer chains. Statistics and Computing, 18(4),
435–446, <a href="https://doi.org/10.1007/s11222-008-9104-9">doi:10.1007/s11222-008-9104-9</a>
</p>
</li>
<li><p> Goodman, J. and Weare, J. (2010) Ensemble samplers with affine invariance.
Communications in Applied Mathematics and Computational Science, 5(1), 65–80,
<a href="https://doi.org/10.2140/camcos.2010.5.65">doi:10.2140/camcos.2010.5.65</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## a log-pdf to sample from
p.log &lt;- function(x) {
    B &lt;- 0.03                              # controls 'bananacity'
    -x[1]^2/200 - 1/2*(x[2]+B*x[1]^2-100*B)^2
}

## set options and starting point
n_walkers &lt;- 10
unif_inits &lt;- data.frame(
  "a" = runif(n_walkers, 0, 1),
  "b" = runif(n_walkers, 0, 1)
)


## use stretch move
res1 &lt;- MCMCEnsemble(p.log, inits = unif_inits,
                     max.iter = 300, n.walkers = n_walkers,
                     method = "stretch")

attr(res1, "ensemble.sampler")

str(res1)


## use stretch move, return samples as 'coda' object
res2 &lt;- MCMCEnsemble(p.log, inits = unif_inits,
                     max.iter = 300, n.walkers = n_walkers,
                     method = "stretch", coda = TRUE)

attr(res2, "ensemble.sampler")

summary(res2$samples)
plot(res2$samples)


## use different evolution move, return samples as 'coda' object
res3 &lt;- MCMCEnsemble(p.log, inits = unif_inits,
                     max.iter = 300, n.walkers = n_walkers,
                     method = "differential.evolution", coda = TRUE)

attr(res3, "ensemble.sampler")

summary(res3$samples)
plot(res3$samples)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

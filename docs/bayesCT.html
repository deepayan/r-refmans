<!DOCTYPE html><html lang="en"><head><title>Help for package bayesCT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bayesCT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#analysis'><p>Analysis wrapper function</p></a></li>
<li><a href='#beta_prior'><p>Beta prior for for control and treatment group</p></a></li>
<li><a href='#binomial_analysis'><p>Analyzing Bayesian trial for binomial counts</p></a></li>
<li><a href='#binomial_outcome'><p>Proportion of an event in control and treatment</p></a></li>
<li><a href='#binomialBACT'><p>Binomial counts for Bayesian Adaptive Trials</p></a></li>
<li><a href='#binomialdata'><p>Binomial dataset for analyzing adaptive Bayesian trials</p></a></li>
<li><a href='#data_binomial'><p>Data file for binomial analysis</p></a></li>
<li><a href='#data_normal'><p>Data file for normal analysis</p></a></li>
<li><a href='#data_survival'><p>Data file for survival analysis</p></a></li>
<li><a href='#enrollment'><p>Simulating enrollment dates</p></a></li>
<li><a href='#enrollment_rate'><p>Enrollment rate wrapper</p></a></li>
<li><a href='#gamma_prior'><p>Gamma prior for for control and treatment group</p></a></li>
<li><a href='#historical_binomial'><p>Historical data for binomial distribution</p></a></li>
<li><a href='#historical_normal'><p>Historical data for normal distribution</p></a></li>
<li><a href='#historical_survival'><p>Historical data for survival analysis</p></a></li>
<li><a href='#hypothesis'><p>Hypothesis wrapper</p></a></li>
<li><a href='#impute'><p>Imputation wrapper</p></a></li>
<li><a href='#normal_analysis'><p>Analyzing Bayesian trial for normal mean data</p></a></li>
<li><a href='#normal_outcome'><p>Parameters for treatment and control in normal case</p></a></li>
<li><a href='#normalBACT'><p>Normal distribution for Bayesian Adaptive Trials</p></a></li>
<li><a href='#normaldata'><p>Gaussian dataset for analyzing adaptive Bayesian trials</p></a></li>
<li><a href='#pw_exp_impute'><p>Imputes time-to-event outcomes.</p></a></li>
<li><a href='#pw_exp_sim'><p>Simulates time-to-event outcomes.</p></a></li>
<li><a href='#randomization'><p>Randomization allocation</p></a></li>
<li><a href='#randomize'><p>Randomization scheme wrapper</p></a></li>
<li><a href='#simulate'><p>Simulation wrapper for binomial and normal.</p></a></li>
<li><a href='#study_details'><p>Details of the clinical study</p></a></li>
<li><a href='#survival_analysis'><p>Analyzing Bayesian trial for time-to-event data</p></a></li>
<li><a href='#survival_outcome'><p>Piecewise constant hazard rates and the cutpoint for control and treatment group</p></a></li>
<li><a href='#survivalBACT'><p>Time-to-event outcome for Bayesian Adaptive Trials</p></a></li>
<li><a href='#survivaldata'><p>Time-to-event dataset for analyzing adaptive Bayesian trials</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Simulation and Analysis of Adaptive Bayesian Clinical Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>0.99.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Simulation and analysis of Bayesian adaptive clinical trials for binomial, Gaussian, and time-to-event data types, 
      incorporates historical data and allows early stopping for futility or early success. The package uses novel 
      and efficient Monte Carlo methods for estimating Bayesian posterior probabilities, evaluation of loss to follow up, 
      and imputation of incomplete data. The package has the functionality for dynamically incorporating historical data 
      into the analysis via the power prior or non-informative priors.</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/thevaachandereng/bayesCT/">https://github.com/thevaachandereng/bayesCT/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/thevaachandereng/bayesCT/issues/">https://github.com/thevaachandereng/bayesCT/issues/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, rmarkdown, pkgdown, devtools, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>bayesDP, dplyr, purrr, survival, magrittr (&ge; 1.5)</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-30 17:24:41 UTC; thevaasiinenchandereng</td>
</tr>
<tr>
<td>Author:</td>
<td>Thevaa Chandereng <a href="https://orcid.org/0000-0003-4078-9176"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Donald Musgrove [aut, cph],
  Tarek Haddad [aut, cph],
  Graeme Hickey [aut, cph],
  Timothy Hanson [aut, cph],
  Theodore Lystig [aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thevaa Chandereng &lt;chandereng@wisc.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-07-01 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>Pipe operator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='analysis'>Analysis wrapper function</h2><span id='topic+analysis'></span>

<h3>Description</h3>

<p>Wrapper function to analyze bayesian trials.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analysis(input, type = "binomial", .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="analysis_+3A_input">input</code></td>
<td>
<p>list. Input function for all the analysis.</p>
</td></tr>
<tr><td><code id="analysis_+3A_type">type</code></td>
<td>
<p>character. Type of analysis to be ran (binomial (default),
normal. etc.).</p>
</td></tr>
<tr><td><code id="analysis_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the all the details, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with results of the analysis of bayesian trial.
</p>

<dl>
<dt><code>prob_of_accepting_alternative</code></dt><dd>
<p>scalar. The input parameter of probability of accepting the alternative.</p>
</dd>
<dt><code>margin</code></dt><dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt><dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>N_treatment</code></dt><dd>
<p>scalar. The number of patients enrolled in the experimental group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt><dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt><dd>
<p>scalar. The number of patients who completed the trial and had no
loss to follow-up.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
</dl>


<hr>
<h2 id='beta_prior'>Beta prior for for control and treatment group</h2><span id='topic+beta_prior'></span>

<h3>Description</h3>

<p>Wrapper function for beta prior <code>beta(a0, b0)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beta_prior(a0 = 1, b0 = 1, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="beta_prior_+3A_a0">a0</code></td>
<td>
<p>numeric. The first shape parameter in the beta distribution
(<code>beta(a0, b0)</code>).</p>
</td></tr>
<tr><td><code id="beta_prior_+3A_b0">b0</code></td>
<td>
<p>numeric. The second shape parameter in the beta distribution
(<code>beta(a0, b0)</code>).</p>
</td></tr>
<tr><td><code id="beta_prior_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the beta prior rate, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with vector of beta rate for the beta prior for treatment and control group.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>beta_prior(a0 = 1, b0 = 1)
</code></pre>

<hr>
<h2 id='binomial_analysis'>Analyzing Bayesian trial for binomial counts</h2><span id='topic+binomial_analysis'></span>

<h3>Description</h3>

<p>Function to analyze Bayesian trial for binomial count data
which allows early stopping and incorporation of historical data using
the discount function approach
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binomial_analysis(
  treatment,
  outcome,
  complete = NULL,
  y0_treatment = NULL,
  N0_treatment = NULL,
  y0_control = NULL,
  N0_control = NULL,
  alternative = "greater",
  N_impute = 10,
  h0 = 0,
  number_mcmc = 10000,
  prob_ha = 0.95,
  futility_prob = 0.1,
  expected_success_prob = 0.9,
  prior = c(1, 1),
  discount_function = "identity",
  fix_alpha = FALSE,
  alpha_max = 1,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="binomial_analysis_+3A_treatment">treatment</code></td>
<td>
<p>vector. treatment assignment for patients, 1 for treatment group and
0 for control group</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_outcome">outcome</code></td>
<td>
<p>vector. binomial outcome of the trial, 1 for response (success or
failure), 0 for no response.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_complete">complete</code></td>
<td>
<p>vector. similar length as treatment and outcome variable,
1 for complete outcome, 0 for loss to follow up. If complete is not provided,
the dataset is assumed to be complete.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_y0_treatment">y0_treatment</code></td>
<td>
<p>scalar. Number of events for the historical treatment
arm.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_n0_treatment">N0_treatment</code></td>
<td>
<p>scalar. Number of observations of the historical treatment group.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_y0_control">y0_control</code></td>
<td>
<p>scalar. Number of events for the historical control arm.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_n0_control">N0_control</code></td>
<td>
<p>scalar. Number of observations of the historical control group.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_alternative">alternative</code></td>
<td>
<p>character. The string specifying the alternative
hypothesis, must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_n_impute">N_impute</code></td>
<td>
<p>scalar. Number of imputations for Monte Carlo simulation of
missing data.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_h0">h0</code></td>
<td>
<p>scalar. Threshold for comparing two mean values. Default is
<code>h0=0</code>.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_number_mcmc">number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws in
sampling posterior.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_prob_ha">prob_ha</code></td>
<td>
<p>scalar. Probability of alternative hypothesis.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_futility_prob">futility_prob</code></td>
<td>
<p>scalar. Probability of stopping early for futility.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_expected_success_prob">expected_success_prob</code></td>
<td>
<p>scalar. Probability of stopping early for success.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_prior">prior</code></td>
<td>
<p>vector. Prior values of beta rate, Beta(a0, b0). The default is
set to Beta(1, 1).</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="binomial_analysis_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of output for the Bayesian trial for binomial count.
</p>

<dl>
<dt><code>prob_of_accepting_alternative</code></dt><dd>
<p>scalar. The input parameter of probability of accepting the alternative.</p>
</dd>
<dt><code>margin</code></dt><dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt><dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>N_treatment</code></dt><dd>
<p>scalar. The number of patients enrolled in the experimental group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt><dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt><dd>
<p>scalar. The number of patients who completed the trial and had no
loss to follow-up.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
</dl>


<hr>
<h2 id='binomial_outcome'>Proportion of an event in control and treatment</h2><span id='topic+binomial_outcome'></span>

<h3>Description</h3>

<p>Wrapper function for proportion of an event in control and treatment group with binomial outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binomial_outcome(p_treatment = NULL, p_control = NULL, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="binomial_outcome_+3A_p_treatment">p_treatment</code></td>
<td>
<p>numeric. The proportion of an event in the treatment group, 0 &lt; $p_treatment$ &lt; 1.</p>
</td></tr>
<tr><td><code id="binomial_outcome_+3A_p_control">p_control</code></td>
<td>
<p>numeric. The proportion of an event in the control group, 0 &lt; $p_control$ &lt; 1.</p>
</td></tr>
<tr><td><code id="binomial_outcome_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the proportion of control and treatment, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with proportion of control and treatment group.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>binomial_outcome(p_control = 0.12, p_treatment = 0.08)
</code></pre>

<hr>
<h2 id='binomialBACT'>Binomial counts for Bayesian Adaptive Trials</h2><span id='topic+binomialBACT'></span>

<h3>Description</h3>

<p>Simulation for binomial counts for Bayesian Adaptive trial with
different inputs to control for power, sample size, type 1 error rate, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binomialBACT(
  p_treatment,
  p_control = NULL,
  y0_treatment = NULL,
  N0_treatment = NULL,
  y0_control = NULL,
  N0_control = NULL,
  N_total,
  lambda = 0.3,
  lambda_time = NULL,
  interim_look = NULL,
  EndofStudy,
  prior = c(1, 1),
  block = 2,
  rand_ratio = c(1, 1),
  prop_loss_to_followup = 0.1,
  alternative = "greater",
  h0 = 0,
  futility_prob = 0.05,
  expected_success_prob = 0.9,
  prob_ha = 0.95,
  N_impute = 10,
  number_mcmc = 10000,
  discount_function = "identity",
  alpha_max = 1,
  fix_alpha = FALSE,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="binomialBACT_+3A_p_treatment">p_treatment</code></td>
<td>
<p>scalar. Proportion of events under the treatment arm.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_p_control">p_control</code></td>
<td>
<p>scalar. Proportion of events under the control arm.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_y0_treatment">y0_treatment</code></td>
<td>
<p>scalar. Number of events for the historical treatment
arm.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_n0_treatment">N0_treatment</code></td>
<td>
<p>scalar. Sample size of the historical treatment arm.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_y0_control">y0_control</code></td>
<td>
<p>scalar. Number of events for the historical control arm.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_n0_control">N0_control</code></td>
<td>
<p>scalar. Sample size of the historical control arm.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_n_total">N_total</code></td>
<td>
<p>scalar. Total sample size.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_lambda">lambda</code></td>
<td>
<p>vector. Enrollment rates across simulated enrollment times. See
<code><a href="#topic+enrollment">enrollment</a></code> for more details.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_lambda_time">lambda_time</code></td>
<td>
<p>vector. Enrollment time(s) at which the enrollment rates
change. Must be same length as lambda. See <code><a href="#topic+enrollment">enrollment</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_interim_look">interim_look</code></td>
<td>
<p>vector. Sample size for each interim look. Note: the
maximum sample size should not be included.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_endofstudy">EndofStudy</code></td>
<td>
<p>scalar. Length of the study.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_prior">prior</code></td>
<td>
<p>vector. Prior values of beta rate, Beta(a0, b0). The default is
set to Beta(1, 1).</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_block">block</code></td>
<td>
<p>scalar. Block size for generating the randomization schedule.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>vector. Randomization allocation for the ratio of control
to treatment. Integer values mapping the size of the block. See
<code><a href="#topic+randomization">randomization</a></code> for more details.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_prop_loss_to_followup">prop_loss_to_followup</code></td>
<td>
<p>scalar. Overall oroportion of subjects lost to
follow-up.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_alternative">alternative</code></td>
<td>
<p>character. The string specifying the alternative
hypothesis, must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_h0">h0</code></td>
<td>
<p>scalar. Threshold for comparing two mean values. Default is
<code>h0=0</code>.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_futility_prob">futility_prob</code></td>
<td>
<p>scalar. Probability of stopping early for futility.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_expected_success_prob">expected_success_prob</code></td>
<td>
<p>scalar. Probability of stopping early for success.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_prob_ha">prob_ha</code></td>
<td>
<p>scalar. Probability of alternative hypothesis.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_n_impute">N_impute</code></td>
<td>
<p>scalar. Number of imputations for Monte Carlo simulation of
missing data.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_number_mcmc">number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws in
sampling posterior.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="binomialBACT_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of output for a single trial simulation.
</p>

<dl>
<dt><code>p_treatment</code></dt><dd>
<p>scalar. The input parameter of proportion of events in the
treatment group.</p>
</dd>
<dt><code>p_control</code></dt><dd>
<p>scalar. The input parameter of proportion of events in the
control group.</p>
</dd>
<dt><code>prob_of_accepting_alternative</code></dt><dd>
<p>scalar. The input parameter of probability threshold of accepting the
alternative.</p>
</dd>
<dt><code>margin</code></dt><dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt><dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>interim_look</code></dt><dd>
<p>vector. The sample size for each interim look.</p>
</dd>
<dt><code>N_treatment</code></dt><dd>
<p>scalar. The number of patients enrolled in the experimental group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt><dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt><dd>
<p>scalar. The number of patients who completed the trial and had no
loss to follow-up.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>est_interim</code></dt><dd>
<p>scalar. The interim estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
</dl>


<hr>
<h2 id='binomialdata'>Binomial dataset for analyzing adaptive Bayesian trials</h2><span id='topic+binomialdata'></span>

<h3>Description</h3>

<p>A dataset containing the results of 300 patients with binomial outcome,
the dataset is filled with loss to follow up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(binomialdata)
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient ID in the trial</p>
</dd>
<dt>treatment</dt><dd><p>treatment assignment for patients, 1 for treatment group
0 for control group</p>
</dd>
<dt>outcome</dt><dd><p>binomial outcome of the trial, 1
for response (success or failure), 0 for no response</p>
</dd>
<dt>complete</dt><dd><p>1 for complete outcome, 0 for loss to follow up</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(binomialdata)
</code></pre>

<hr>
<h2 id='data_binomial'>Data file for binomial analysis</h2><span id='topic+data_binomial'></span>

<h3>Description</h3>

<p>Wrapper function for data file in binomial analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_binomial(treatment, outcome, complete, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="data_binomial_+3A_treatment">treatment</code></td>
<td>
<p>vector. treatment assignment for patients, 1 for treatment group and
0 for control group</p>
</td></tr>
<tr><td><code id="data_binomial_+3A_outcome">outcome</code></td>
<td>
<p>vector. binomial outcome of the trial, 1 for response (success or
failure), 0 for no response.</p>
</td></tr>
<tr><td><code id="data_binomial_+3A_complete">complete</code></td>
<td>
<p>vector. similar length as treatment and outcome variable,
1 for complete outcome, 0 for loss to follow up. If complete is not provided,
the dataset is assumed to be complete.</p>
</td></tr>
<tr><td><code id="data_binomial_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the binomial data for analysis, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with treatment, outcome and loss to follow up vector with binomial
outcome.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_binomial(treatment = c(0, 1), outcome = c(1, 1), complete = c(1, 1))
</code></pre>

<hr>
<h2 id='data_normal'>Data file for normal analysis</h2><span id='topic+data_normal'></span>

<h3>Description</h3>

<p>Wrapper function for data file in normal analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_normal(treatment, outcome, complete, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="data_normal_+3A_treatment">treatment</code></td>
<td>
<p>vector. treatment assignment for patients, 1 for treatment group and
0 for control group</p>
</td></tr>
<tr><td><code id="data_normal_+3A_outcome">outcome</code></td>
<td>
<p>vector. normal outcome of the trial.</p>
</td></tr>
<tr><td><code id="data_normal_+3A_complete">complete</code></td>
<td>
<p>vector. similar length as treatment and outcome variable,
1 for complete outcome, 0 for loss to follow up. If complete is not provided,
the dataset is assumed to be complete.</p>
</td></tr>
<tr><td><code id="data_normal_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the normal data for analysis, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with treatment, outcome and loss to follow up vector with normal
outcome.
</p>

<hr>
<h2 id='data_survival'>Data file for survival analysis</h2><span id='topic+data_survival'></span>

<h3>Description</h3>

<p>Wrapper function for data file in survival analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_survival(time, treatment, event, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="data_survival_+3A_time">time</code></td>
<td>
<p>vector. exposure time for the subjects. It must be the same length
as the treatment variable.</p>
</td></tr>
<tr><td><code id="data_survival_+3A_treatment">treatment</code></td>
<td>
<p>vector. treatment assignment for patients, 1 for treatment group and
0 for control group</p>
</td></tr>
<tr><td><code id="data_survival_+3A_event">event</code></td>
<td>
<p>vector. The status indicator, normally 0=alive, 1=dead.
Other choices are TRUE/FALSE (TRUE = death) or 1/2 (2=death).
For censored data, the status indicator is 0=right censored, 1 = event at time.
Although unusual, the event indicator can be omitted, in which case
all subjects are assumed to have an event.</p>
</td></tr>
<tr><td><code id="data_survival_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the survival data for analysis, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with time, treatment, and event with time-to-event
outcome.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_survival(time       = c(6.2, 8.2, 8.0, 2.3),
                        treatment  = c(0, 1, 0, 1),
                        event      = c(1, 1, 1, 1))

</code></pre>

<hr>
<h2 id='enrollment'>Simulating enrollment dates</h2><span id='topic+enrollment'></span>

<h3>Description</h3>

<p>This function simulates enrollment dates using either poisson distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enrollment(param, N_total, time = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enrollment_+3A_param">param</code></td>
<td>
<p>a vector of lambda in poisson</p>
</td></tr>
<tr><td><code id="enrollment_+3A_n_total">N_total</code></td>
<td>
<p>a numeric value of total sample size</p>
</td></tr>
<tr><td><code id="enrollment_+3A_time">time</code></td>
<td>
<p>a vector of the <code>length(param)</code> - 1 indicating end of time when a specific lambda is used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of enrollment dates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>enrollment(param = c(0.003, 0.7), 100, time = 10)
enrollment(param = c(0.3, 0.5, 0.9, 1.2, 2.1), 200, c(20, 30, 40, 60))

</code></pre>

<hr>
<h2 id='enrollment_rate'>Enrollment rate wrapper</h2><span id='topic+enrollment_rate'></span>

<h3>Description</h3>

<p>Wrapper function for enrollment rate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enrollment_rate(lambda = 0.3, time = NULL, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enrollment_rate_+3A_lambda">lambda</code></td>
<td>
<p>vector. Vector with different enrollment rate parameters.</p>
</td></tr>
<tr><td><code id="enrollment_rate_+3A_time">time</code></td>
<td>
<p>vector. Vector with different cut-off times for lambda.</p>
</td></tr>
<tr><td><code id="enrollment_rate_+3A_.data">.data</code></td>
<td>
<p>NULL. This should not be changed by the user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with enrollment rate information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>enrollment_rate(lambda = c(0.3, 1), time = 25)
</code></pre>

<hr>
<h2 id='gamma_prior'>Gamma prior for for control and treatment group</h2><span id='topic+gamma_prior'></span>

<h3>Description</h3>

<p>Wrapper function for gamma prior <code>Gamma(a0, b0)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gamma_prior(a0 = 0.1, b0 = 0.1, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gamma_prior_+3A_a0">a0</code></td>
<td>
<p>numeric. The shape parameter in the gamma distribution
(<code>beta(a0, b0)</code>).</p>
</td></tr>
<tr><td><code id="gamma_prior_+3A_b0">b0</code></td>
<td>
<p>numeric. The scale parameter in the beta distribution
(<code>beta(a0, b0)</code>).</p>
</td></tr>
<tr><td><code id="gamma_prior_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the gamma prior rate, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with vector of gamma rate for the gamma prior for treatment and control group.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gamma_prior(a0 = .1, b0 = .1)
</code></pre>

<hr>
<h2 id='historical_binomial'>Historical data for binomial distribution</h2><span id='topic+historical_binomial'></span>

<h3>Description</h3>

<p>Wrapper function for historical data from binomial outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>historical_binomial(
  y0_treatment = NULL,
  N0_treatment = NULL,
  discount_function = "identity",
  y0_control = NULL,
  N0_control = NULL,
  alpha_max = 1,
  fix_alpha = FALSE,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed",
  .data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="historical_binomial_+3A_y0_treatment">y0_treatment</code></td>
<td>
<p>scalar. Number of events for the historical treatment
arm.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_n0_treatment">N0_treatment</code></td>
<td>
<p>scalar. Number of observations of the historical treatment group.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_y0_control">y0_control</code></td>
<td>
<p>scalar. Number of events for the historical control arm.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_n0_control">N0_control</code></td>
<td>
<p>scalar. Number of observations of the historical control group.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
<tr><td><code id="historical_binomial_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the proportion of control and treatment, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with historical data for control and treatment group with the discount function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>historical_binomial(y0_treatment = 5, N0_treatment = 10, y0_control = 15, N0_control = 23)
historical_binomial(y0_treatment = 5, N0_treatment = 10, y0_control = 15, N0_control = 23,
                     discount_function = "weibull", alpha_max = 1, fix_alpha = FALSE,
                     weibull_scale = 0.135, weibull_shape = 3)
</code></pre>

<hr>
<h2 id='historical_normal'>Historical data for normal distribution</h2><span id='topic+historical_normal'></span>

<h3>Description</h3>

<p>Wrapper function for historical data from normal outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>historical_normal(
  mu0_treatment = NULL,
  sd0_treatment = NULL,
  N0_treatment = NULL,
  mu0_control = NULL,
  sd0_control = NULL,
  N0_control = NULL,
  discount_function = "identity",
  alpha_max = 1,
  fix_alpha = FALSE,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed",
  .data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="historical_normal_+3A_mu0_treatment">mu0_treatment</code></td>
<td>
<p>scalar. Mean of the historical treatment group.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_sd0_treatment">sd0_treatment</code></td>
<td>
<p>scalar. Standard deviation of the historical treatment group.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_n0_treatment">N0_treatment</code></td>
<td>
<p>scalar. Number of observations of the historical treatment group.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_mu0_control">mu0_control</code></td>
<td>
<p>scalar. Mean of the historical control group.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_sd0_control">sd0_control</code></td>
<td>
<p>scalar. Standard deviation of the historical control group.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_n0_control">N0_control</code></td>
<td>
<p>scalar. Number of observations of the historical control group.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
<tr><td><code id="historical_normal_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the proportion of control and treatment, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with historical data for control and treatment group with the discount function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>historical_normal(mu0_treatment = 15, sd0_treatment = 2, N0_treatment = 10,
                            mu0_control = 17, sd0_control = 3, N0_control = 20)
</code></pre>

<hr>
<h2 id='historical_survival'>Historical data for survival analysis</h2><span id='topic+historical_survival'></span>

<h3>Description</h3>

<p>Wrapper function for historical data from time-to-event outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>historical_survival(
  time = NULL,
  treatment = NULL,
  event = NULL,
  discount_function = "identity",
  alpha_max = 1,
  fix_alpha = FALSE,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed",
  .data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="historical_survival_+3A_time">time</code></td>
<td>
<p>vector. exposure time for the subjects. It must be the same length
as the treatment variable.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_treatment">treatment</code></td>
<td>
<p>vector. treatment assignment for patients, 1 for treatment group and
0 for control group</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_event">event</code></td>
<td>
<p>vector. The status indicator, normally 0=alive, 1=dead.
Other choices are TRUE/FALSE (TRUE = death) or 1/2 (2=death).
For censored data, the status indicator is 0=right censored, 1 = event at time.
Although unusual, the event indicator can be omitted, in which case
all subjects are assumed to have an event.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
<tr><td><code id="historical_survival_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the historical time, treatment and event , please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with historical data for time-to-event outcome with the discount function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>historical_survival(time      = rexp(10, 0.01),
                    treatment = rep(10, 1),
                    event     = rep(10, 1))

</code></pre>

<hr>
<h2 id='hypothesis'>Hypothesis wrapper</h2><span id='topic+hypothesis'></span>

<h3>Description</h3>

<p>Wrapper function for the hypothesis in the trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hypothesis(
  delta = 0,
  futility_prob = 0.05,
  prob_accept_ha = 0.95,
  expected_success_prob = 0.9,
  alternative = "greater",
  .data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hypothesis_+3A_delta">delta</code></td>
<td>
<p>numeric. Threshold set for margin in null hypothesis. The default
is set to 0.</p>
</td></tr>
<tr><td><code id="hypothesis_+3A_futility_prob">futility_prob</code></td>
<td>
<p>numeric. Probability of futility. The default is 0.05.</p>
</td></tr>
<tr><td><code id="hypothesis_+3A_prob_accept_ha">prob_accept_ha</code></td>
<td>
<p>numeric. Posterior probability of accepting alternative
hypothesis. The default is 0.95.</p>
</td></tr>
<tr><td><code id="hypothesis_+3A_expected_success_prob">expected_success_prob</code></td>
<td>
<p>numeric. Probability of expected success.</p>
</td></tr>
<tr><td><code id="hypothesis_+3A_alternative">alternative</code></td>
<td>
<p>character. The string specifying the alternative hypothesis,
must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="hypothesis_+3A_.data">.data</code></td>
<td>
<p>NULL. This should not be changed by the user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with information of hypothesis testing (threshold, futility
probability, probability of accepting the alternative hypothesis, and probability of
expected success).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hypothesis(delta = 0, futility_prob = 0.05, prob_accept_ha = 0.95,
           expected_success_prob = 0.90, alternative = "greater")
hypothesis(delta= 0.2, futility_prob = 0.1, prob_accept_ha = 0.975,
           expected_success_prob = 0.80, alternative = "less")
</code></pre>

<hr>
<h2 id='impute'>Imputation wrapper</h2><span id='topic+impute'></span>

<h3>Description</h3>

<p>Wrapper function for no_of_impute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute(no_of_impute = 10000, number_mcmc = 10000, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="impute_+3A_no_of_impute">no_of_impute</code></td>
<td>
<p>integer. Number of Monte Carlo imputation for missing
data.</p>
</td></tr>
<tr><td><code id="impute_+3A_number_mcmc">number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws from
posterior distribution.</p>
</td></tr>
<tr><td><code id="impute_+3A_.data">.data</code></td>
<td>
<p>NULL. This should not be changed by the user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with number of imputation
</p>


<h3>Examples</h3>

<pre><code class='language-R'>impute(no_of_impute = 100, number_mcmc = 1000)
</code></pre>

<hr>
<h2 id='normal_analysis'>Analyzing Bayesian trial for normal mean data</h2><span id='topic+normal_analysis'></span>

<h3>Description</h3>

<p>Function to analyze Bayesian trial for normal mean data
which allows early stopping and incorporation of historical data using
the discount function approach
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normal_analysis(
  treatment,
  outcome,
  complete = NULL,
  mu0_treatment = NULL,
  sd0_treatment = NULL,
  N0_treatment = NULL,
  mu0_control = NULL,
  sd0_control = NULL,
  N0_control = NULL,
  alternative = "greater",
  N_impute = 100,
  h0 = 0,
  number_mcmc = 10000,
  prob_ha = 0.95,
  futility_prob = 0.1,
  expected_success_prob = 0.9,
  discount_function = "identity",
  fix_alpha = FALSE,
  alpha_max = 1,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="normal_analysis_+3A_treatment">treatment</code></td>
<td>
<p>vector. treatment assignment for patients, 1 for treatment group and
0 for control group</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_outcome">outcome</code></td>
<td>
<p>vector. normal outcome of the trial.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_complete">complete</code></td>
<td>
<p>vector. similar length as treatment and outcome variable,
1 for complete outcome, 0 for loss to follow up. If complete is not provided,
the dataset is assumed to be complete.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_mu0_treatment">mu0_treatment</code></td>
<td>
<p>scalar. Mean of the historical treatment group.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_sd0_treatment">sd0_treatment</code></td>
<td>
<p>scalar. Standard deviation of the historical treatment group.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_n0_treatment">N0_treatment</code></td>
<td>
<p>scalar. Number of observations of the historical treatment group.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_mu0_control">mu0_control</code></td>
<td>
<p>scalar. Mean of the historical control group.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_sd0_control">sd0_control</code></td>
<td>
<p>scalar. Standard deviation of the historical control group.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_n0_control">N0_control</code></td>
<td>
<p>scalar. Number of observations of the historical control group.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_alternative">alternative</code></td>
<td>
<p>character. The string specifying the alternative
hypothesis, must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_n_impute">N_impute</code></td>
<td>
<p>scalar. Number of imputations for Monte Carlo simulation of
missing data.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_h0">h0</code></td>
<td>
<p>scalar. Threshold for comparing two mean values. Default is
<code>h0=0</code>.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_number_mcmc">number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws in
sampling posterior.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_prob_ha">prob_ha</code></td>
<td>
<p>scalar. Probability of alternative hypothesis.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_futility_prob">futility_prob</code></td>
<td>
<p>scalar. Probability of stopping early for futility.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_expected_success_prob">expected_success_prob</code></td>
<td>
<p>scalar. Probability of stopping early for success.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="normal_analysis_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of output for the analysis of Bayesian trial for normal mean.
</p>

<dl>
<dt><code>prob_of_accepting_alternative</code></dt><dd>
<p>scalar. The input parameter of probability of accepting the alternative.</p>
</dd>
<dt><code>margin</code></dt><dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt><dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>N_treatment</code></dt><dd>
<p>scalar. The number of patients enrolled in the experimental group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt><dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt><dd>
<p>scalar. The number of patients who completed the trial and had no
loss to follow-up.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
</dl>


<hr>
<h2 id='normal_outcome'>Parameters for treatment and control in normal case</h2><span id='topic+normal_outcome'></span>

<h3>Description</h3>

<p>Wrapper function for mean and standard deviation with normal outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normal_outcome(
  mu_control = NULL,
  sd_control = NULL,
  mu_treatment = NULL,
  sd_treatment = NULL,
  data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="normal_outcome_+3A_mu_control">mu_control</code></td>
<td>
<p>numeric. The mean for the control group.</p>
</td></tr>
<tr><td><code id="normal_outcome_+3A_sd_control">sd_control</code></td>
<td>
<p>numeric. The standard deviation for the control group.</p>
</td></tr>
<tr><td><code id="normal_outcome_+3A_mu_treatment">mu_treatment</code></td>
<td>
<p>numeric. The mean for the treatment group.</p>
</td></tr>
<tr><td><code id="normal_outcome_+3A_sd_treatment">sd_treatment</code></td>
<td>
<p>numeric. The standard deviation for the treatment group.</p>
</td></tr>
<tr><td><code id="normal_outcome_+3A_data">data</code></td>
<td>
<p>NULL. stores the proportion of control and treatment, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with proportion of control and treatment group.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>normal_outcome(mu_control = 12, mu_treatment = 8, sd_treatment = 2.2, sd_control = 1.6)
</code></pre>

<hr>
<h2 id='normalBACT'>Normal distribution for Bayesian Adaptive Trials</h2><span id='topic+normalBACT'></span>

<h3>Description</h3>

<p>Simulation of normally distributed data for Bayesian adaptive
trials with various inputs to control for power, sample size, type I error
rate, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalBACT(
  mu_treatment,
  sd_treatment,
  mu_control = NULL,
  sd_control = NULL,
  mu0_treatment = NULL,
  sd0_treatment = NULL,
  N0_treatment = NULL,
  mu0_control = NULL,
  sd0_control = NULL,
  N0_control = NULL,
  N_total,
  lambda = 0.3,
  lambda_time = NULL,
  interim_look = NULL,
  EndofStudy,
  block = 2,
  rand_ratio = c(1, 1),
  discount_function = "identity",
  alternative = "greater",
  prop_loss_to_followup = 0.15,
  h0 = 0,
  futility_prob = 0.05,
  expected_success_prob = 0.9,
  prob_ha = 0.95,
  N_impute = 10,
  number_mcmc = 10000,
  alpha_max = 1,
  fix_alpha = FALSE,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="normalBACT_+3A_mu_treatment">mu_treatment</code></td>
<td>
<p>scalar. Mean outcome in the treatment arm.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_sd_treatment">sd_treatment</code></td>
<td>
<p>scalar. Standard deviation of outcome in the treatment</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_mu_control">mu_control</code></td>
<td>
<p>scalar. Mean outcome in the control arm.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_sd_control">sd_control</code></td>
<td>
<p>scalar. Standard deviation of outcome in the control arm.
arm.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_mu0_treatment">mu0_treatment</code></td>
<td>
<p>scalar. Mean of the historical treatment group.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_sd0_treatment">sd0_treatment</code></td>
<td>
<p>scalar. Standard deviation of the historical treatment group.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_n0_treatment">N0_treatment</code></td>
<td>
<p>scalar. Number of observations of the historical treatment group.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_mu0_control">mu0_control</code></td>
<td>
<p>scalar. Mean of the historical control group.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_sd0_control">sd0_control</code></td>
<td>
<p>scalar. Standard deviation of the historical control group.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_n0_control">N0_control</code></td>
<td>
<p>scalar. Number of observations of the historical control group.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_n_total">N_total</code></td>
<td>
<p>scalar. Total sample size.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_lambda">lambda</code></td>
<td>
<p>vector. Enrollment rates across simulated enrollment times. See
<code><a href="#topic+enrollment">enrollment</a></code> for more details.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_lambda_time">lambda_time</code></td>
<td>
<p>vector. Enrollment time(s) at which the enrollment rates
change. Must be same length as lambda. See <code><a href="#topic+enrollment">enrollment</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_interim_look">interim_look</code></td>
<td>
<p>vector. Sample size for each interim look. Note: the
maximum sample size should not be included.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_endofstudy">EndofStudy</code></td>
<td>
<p>scalar. Length of the study.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_block">block</code></td>
<td>
<p>scalar. Block size for generating the randomization schedule.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>vector. Randomization allocation for the ratio of control
to treatment. Integer values mapping the size of the block. See
<code><a href="#topic+randomization">randomization</a></code> for more details.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_alternative">alternative</code></td>
<td>
<p>character. The string specifying the alternative
hypothesis, must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_prop_loss_to_followup">prop_loss_to_followup</code></td>
<td>
<p>scalar. Overall oroportion of subjects lost to
follow-up.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_h0">h0</code></td>
<td>
<p>scalar. Threshold for comparing two mean values. Default is
<code>h0=0</code>.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_futility_prob">futility_prob</code></td>
<td>
<p>scalar. Probability of stopping early for futility.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_expected_success_prob">expected_success_prob</code></td>
<td>
<p>scalar. Probability of stopping early for success.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_prob_ha">prob_ha</code></td>
<td>
<p>scalar. Probability of alternative hypothesis.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_n_impute">N_impute</code></td>
<td>
<p>scalar. Number of imputations for Monte Carlo simulation of
missing data.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_number_mcmc">number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws in
sampling posterior.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="normalBACT_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of output for a single trial simulation.
</p>

<dl>
<dt><code>mu_treatment</code></dt><dd>
<p>scalar. The input parameter of mean value of the outcome in the
treatment group.</p>
</dd>
<dt><code>p_control</code></dt><dd>
<p>scalar. The input parameter of mean value of the outcome in the
control group.</p>
</dd>
<dt><code>sd_treatment</code></dt><dd>
<p>scalar. The input parameter of standard deviation of the outcome
in the control group.</p>
</dd>
<dt><code>sd_control</code></dt><dd>
<p>scalar. The input parameter of standard deviation of the outcome
in the control group.</p>
</dd>
<dt><code>prob_of_accepting_alternative</code></dt><dd>
<p>scalar. The input parameter of probability threshold of accepting the
alternative.</p>
</dd>
<dt><code>margin</code></dt><dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt><dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>interim_look</code></dt><dd>
<p>vector. The sample size for each interim look.</p>
</dd>
<dt><code>N_treatment</code></dt><dd>
<p>scalar. The number of patients enrolled in the experimental group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt><dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt><dd>
<p>scalar. The number of patients who completed the trial and had no
loss to follow-up.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>est_interim</code></dt><dd>
<p>scalar. The interim estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
</dl>


<hr>
<h2 id='normaldata'>Gaussian dataset for analyzing adaptive Bayesian trials</h2><span id='topic+normaldata'></span>

<h3>Description</h3>

<p>A dataset containing the results of 300 patients with continuous (normal) outcome,
the dataset is filled with loss to follow up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(normaldata)
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient ID in the trial</p>
</dd>
<dt>treatment</dt><dd><p>treatment assignment for patients, 1 for treatment group
0 for control group</p>
</dd>
<dt>outcome</dt><dd><p>continuous outcome of the trial (gaussian distribution)</p>
</dd>
<dt>complete</dt><dd><p>1 for complete outcome, 0 for loss to follow up</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(normaldata)
</code></pre>

<hr>
<h2 id='pw_exp_impute'>Imputes time-to-event outcomes.</h2><span id='topic+pw_exp_impute'></span>

<h3>Description</h3>

<p>Imputation of time-to-event outcomes using
the piecewise constant hazard exponential function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pw_exp_impute(time, hazard, maxtime = NULL, cutpoint = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pw_exp_impute_+3A_time">time</code></td>
<td>
<p>vector. The observed time for patient that have had no event or passed maxtime.</p>
</td></tr>
<tr><td><code id="pw_exp_impute_+3A_hazard">hazard</code></td>
<td>
<p>vector. The constant hazard rates for exponential failures.</p>
</td></tr>
<tr><td><code id="pw_exp_impute_+3A_maxtime">maxtime</code></td>
<td>
<p>scalar. maximum time before end of study.</p>
</td></tr>
<tr><td><code id="pw_exp_impute_+3A_cutpoint">cutpoint</code></td>
<td>
<p>vector. The change-point vector indicating time when the hazard rates change.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataset with simulated follow-up time (time) and respective event indicator (1 = event,
0 = censoring)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pw_exp_impute(time = c(120), c(0.005, 0.001), 110, 40)
          pw_exp_impute(time = c(10, 20, 30), c(0.005, 0.01, 0.02), 100, c(40, 80))
          pw_exp_impute(time = c(40, 30), c(0.005, 0.01), 120, c(50))


</code></pre>

<hr>
<h2 id='pw_exp_sim'>Simulates time-to-event outcomes.</h2><span id='topic+pw_exp_sim'></span>

<h3>Description</h3>

<p>Simulation of time-to-event outcomes using
the piecewise constant hazard exponential function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pw_exp_sim(hazard, n, maxtime = NULL, cutpoint = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pw_exp_sim_+3A_hazard">hazard</code></td>
<td>
<p>vector. The constant hazard rates for exponential failures.</p>
</td></tr>
<tr><td><code id="pw_exp_sim_+3A_n">n</code></td>
<td>
<p>scalar. The number of outcomes for simulation.</p>
</td></tr>
<tr><td><code id="pw_exp_sim_+3A_maxtime">maxtime</code></td>
<td>
<p>scalar. maximum time before end of study.</p>
</td></tr>
<tr><td><code id="pw_exp_sim_+3A_cutpoint">cutpoint</code></td>
<td>
<p>vector. The change-point vector indicating time when the hazard rates change.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataset with simulated follow-up time (time) and respective event indicator (1 = event,
0 = censoring)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pw_exp_sim(c(0.02, 0.01, 0.005), 100, 100, c(10, 20))
          pw_exp_sim(0.015, 100, 100)


</code></pre>

<hr>
<h2 id='randomization'>Randomization allocation</h2><span id='topic+randomization'></span>

<h3>Description</h3>

<p>Implements a randomization allocation for control and treatment arms with different randomization ratios and block sizes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomization(N_total, block = 2, allocation = c(1, 1))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomization_+3A_n_total">N_total</code></td>
<td>
<p>an integer value of total sample size for randomization allocation.</p>
</td></tr>
<tr><td><code id="randomization_+3A_block">block</code></td>
<td>
<p>a vector value of the block size for randomization. Note that it needs to be a multiple of the sum of <code>allocation</code>.</p>
</td></tr>
<tr><td><code id="randomization_+3A_allocation">allocation</code></td>
<td>
<p>a numeric vector of the randomization allocation in the order <code>c(control, treatment)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the randomization allocation with 0, 1 for control and treatment
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Implementing treatment allocation for control to treatment with 1:1.5 randomization ratio
randomization(N_total = 100, block = 5, allocation = c(2, 3))

# Treatment allocation with 2:1 for control to treatment
randomization(N_total = 70, block = 9, allocation = c(2, 1))

# Treatment allocation for control to treatment with 1:2 for control to treatment with
# multiple block sizes c(3, 9, 6)
randomization(N_total = 100, block = c(3, 9, 6), allocation = c(1, 2))

# For complete randomization set the N_total to block size
randomization(N_total = 100, block = 100, allocation = c(1, 1))

</code></pre>

<hr>
<h2 id='randomize'>Randomization scheme wrapper</h2><span id='topic+randomize'></span>

<h3>Description</h3>

<p>Wrapper function for the randomization scheme in the trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomize(block_size = 2, randomization_ratio = c(1, 1), .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomize_+3A_block_size">block_size</code></td>
<td>
<p>integer. Block size for the complete randomization in a
block.</p>
</td></tr>
<tr><td><code id="randomize_+3A_randomization_ratio">randomization_ratio</code></td>
<td>
<p>vector. The randomization allocation for control to
treatment.</p>
</td></tr>
<tr><td><code id="randomize_+3A_.data">.data</code></td>
<td>
<p>NULL. This should not be changed by the user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with randomization details (block size and ratio).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>randomize(block_size = 100, randomization_ratio = c(2, 3))
randomize(block_size = 10, randomization_ratio = c(1, 4))
</code></pre>

<hr>
<h2 id='simulate'>Simulation wrapper for binomial and normal.</h2><span id='topic+simulate'></span>

<h3>Description</h3>

<p>Wrapper function for complete binomial and normal function to compute power and type 1 error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate(input, no_of_sim = 10000, .data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simulate_+3A_input">input</code></td>
<td>
<p>list. Input function for all inputs in binomial and normal .</p>
</td></tr>
<tr><td><code id="simulate_+3A_no_of_sim">no_of_sim</code></td>
<td>
<p>numeric. Number of simulations to run</p>
</td></tr>
<tr><td><code id="simulate_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the proportion of control and treatment, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with results of the simulation (power and type I error) and the input.
</p>

<dl>
<dt><code>input</code></dt><dd>
<p>A list of input values used in the trial simulation.</p>
</dd>
<dt><code>power</code></dt><dd>
<p>data_frame. A data frame with the interim look and power at each look.</p>
</dd>
<dt><code>type1_error</code></dt><dd>
<p>scalar. The type 1 error or the number of times the trial rejects the null
when the parameters are simulated under the null hypothesis.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>vector. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group for all the
simulation.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative for the
simulations.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation.)</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>vector. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>vector. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
</dl>


<hr>
<h2 id='study_details'>Details of the clinical study</h2><span id='topic+study_details'></span>

<h3>Description</h3>

<p>Wrapper function for details of the clinical trial simulation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>study_details(
  total_sample_size,
  study_period,
  interim_look = NULL,
  prop_loss_to_followup = 0.1,
  .data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="study_details_+3A_total_sample_size">total_sample_size</code></td>
<td>
<p>integer. The number of sample size needed.</p>
</td></tr>
<tr><td><code id="study_details_+3A_study_period">study_period</code></td>
<td>
<p>integer. The length of the study.</p>
</td></tr>
<tr><td><code id="study_details_+3A_interim_look">interim_look</code></td>
<td>
<p>vector. Vector with interim looks.</p>
</td></tr>
<tr><td><code id="study_details_+3A_prop_loss_to_followup">prop_loss_to_followup</code></td>
<td>
<p>integer. The proportion of loss to follow up.</p>
</td></tr>
<tr><td><code id="study_details_+3A_.data">.data</code></td>
<td>
<p>NULL. This should not be changed by the user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with sample size, length of the study, interim looks and proportion loss to follow up
</p>


<h3>Examples</h3>

<pre><code class='language-R'>study_details(total_sample_size = 300, study_period = 50, interim_look = c(210, 240, 270))
</code></pre>

<hr>
<h2 id='survival_analysis'>Analyzing Bayesian trial for time-to-event data</h2><span id='topic+survival_analysis'></span>

<h3>Description</h3>

<p>Function to analyze Bayesian trial for time-to-event data
which allows early stopping and incorporation of historical data using
the discount function approach
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survival_analysis(
  time,
  treatment,
  event = NULL,
  time0 = NULL,
  treatment0 = NULL,
  event0 = NULL,
  surv_time = NULL,
  h0 = 0,
  breaks = NULL,
  alternative = "greater",
  N_impute = 10,
  number_mcmc = 10000,
  prob_ha = 0.95,
  futility_prob = 0.1,
  expected_success_prob = 0.9,
  prior = c(0.1, 0.1),
  discount_function = "identity",
  fix_alpha = FALSE,
  alpha_max = 1,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survival_analysis_+3A_time">time</code></td>
<td>
<p>vector. exposure time for the subjects. It must be the same length
as the treatment variable.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_treatment">treatment</code></td>
<td>
<p>vector. treatment assignment for patients, 1 for treatment group and
0 for control group</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_event">event</code></td>
<td>
<p>vector. The status indicator, normally 0=alive, 1=dead.
Other choices are TRUE/FALSE (TRUE = death) or 1/2 (2=death).
For censored data, the status indicator is 0=right censored, 1 = event at time.
Although unusual, the event indicator can be omitted, in which case
all subjects are assumed to have an event.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_time0">time0</code></td>
<td>
<p>vector. Historical exposure time for the subjects. It must be the same length
as the treatment variable.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_treatment0">treatment0</code></td>
<td>
<p>vector. the historical treatment assignment for patients,
1 for treatment group and 0 for control group.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_event0">event0</code></td>
<td>
<p>vector. Historical status indicator, normally 0=alive, 1=dead.
Other choices are TRUE/FALSE (TRUE = death) or 1/2 (2=death).
For censored data, the status indicator is 0=right censored, 1 = event at time.
Although unusual, the event indicator can be omitted, in which case
all subjects are assumed to have an event.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_surv_time">surv_time</code></td>
<td>
<p>scalar. scalar. Survival time of interest for computing the probability
of survival for a single arm (OPC) trial. Default is overall, i.e.,
current+historical, median survival time.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_h0">h0</code></td>
<td>
<p>scalar. Threshold for comparing two mean values. Default is
<code>h0=0</code>.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_breaks">breaks</code></td>
<td>
<p>vector. Breaks (interval starts) used to compose the breaks of the piecewise
exponential model. Do not include zero. Default breaks are the quantiles of the input
times.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_alternative">alternative</code></td>
<td>
<p>character. The string specifying the alternative
hypothesis, must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_n_impute">N_impute</code></td>
<td>
<p>scalar. Number of imputations for Monte Carlo simulation of
missing data.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_number_mcmc">number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws in
sampling posterior.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_prob_ha">prob_ha</code></td>
<td>
<p>scalar. Probability of alternative hypothesis.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_futility_prob">futility_prob</code></td>
<td>
<p>scalar. Probability of stopping early for futility.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_expected_success_prob">expected_success_prob</code></td>
<td>
<p>scalar. Probability of stopping early for success.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_prior">prior</code></td>
<td>
<p>vector. Prior values of the gamma rate, Gamma(a0, b0). The default is
set to Gamma(.1, .1).</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="survival_analysis_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of output for the Bayesian trial for time-to-event.
</p>

<dl>
<dt><code>prob_of_accepting_alternative</code></dt><dd>
<p>scalar. The input parameter of probability of accepting the alternative.</p>
</dd>
<dt><code>margin</code></dt><dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt><dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>alpha_max</code></dt><dd>
<p>scalar. The alpha_max input. </p>
</dd>
<dt><code>N_treatment</code></dt><dd>
<p>scalar. The number of patients enrolled in the experimental group for
each simulation.</p>
</dd>
<dt><code>event_treatment</code></dt><dd>
<p>scalar. The number of events in the experimental group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt><dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>event_control</code></dt><dd>
<p>scalar. The number of events in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>scalar. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt><dd>
<p>scalar. The number of patients whose time passes the surv_time.</p>
</dd>
<dt><code>alpha_discount</code></dt><dd>
<p>vector. The alpha discount funtion used for control and treatment.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
</dl>


<hr>
<h2 id='survival_outcome'>Piecewise constant hazard rates and the cutpoint for control and treatment group</h2><span id='topic+survival_outcome'></span>

<h3>Description</h3>

<p>Wrapper function for the piecewise constant hazard rates and the cutpoint
for control and treatment group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survival_outcome(
  hazard_treatment = NULL,
  cutpoint = NULL,
  hazard_control = NULL,
  .data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survival_outcome_+3A_hazard_treatment">hazard_treatment</code></td>
<td>
<p>vector. Constant hazard rates under the treatment arm.</p>
</td></tr>
<tr><td><code id="survival_outcome_+3A_cutpoint">cutpoint</code></td>
<td>
<p>vector. The change-point vector indicating time when the hazard rates change.</p>
</td></tr>
<tr><td><code id="survival_outcome_+3A_hazard_control">hazard_control</code></td>
<td>
<p>vector. Constant hazard rates under the control arm.</p>
</td></tr>
<tr><td><code id="survival_outcome_+3A_.data">.data</code></td>
<td>
<p>NULL. stores the hazard rates and cutpoint, please do not fill it in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with hazard rates and cutpoint for control and treatment group.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survival_outcome(hazard_treatment = 0.06,
                           hazard_control   = 0.08,
                           cutpoint         = NULL )
</code></pre>

<hr>
<h2 id='survivalBACT'>Time-to-event outcome for Bayesian Adaptive Trials</h2><span id='topic+survivalBACT'></span>

<h3>Description</h3>

<p>Simulation for time-to-event outcome for Bayesian Adaptive trial with
different inputs to control for power, sample size, type 1 error rate, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survivalBACT(
  hazard_treatment,
  cutpoint = NULL,
  hazard_control = NULL,
  N_total,
  breaks = NULL,
  time0 = NULL,
  treatment0 = NULL,
  event0 = NULL,
  lambda = 0.3,
  lambda_time = NULL,
  interim_look = NULL,
  EndofStudy,
  prior = c(0.1, 0.1),
  block = 2,
  rand_ratio = c(1, 1),
  prop_loss_to_followup = 0.1,
  alternative = "greater",
  h0 = 0,
  futility_prob = 0.05,
  expected_success_prob = 0.9,
  prob_ha = 0.95,
  N_impute = 10,
  number_mcmc = 10000,
  discount_function = "identity",
  alpha_max = 1,
  fix_alpha = FALSE,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survivalBACT_+3A_hazard_treatment">hazard_treatment</code></td>
<td>
<p>vector. Constant hazard rates under the treatment arm.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_cutpoint">cutpoint</code></td>
<td>
<p>vector. The change-point vector indicating time when the hazard rates change.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_hazard_control">hazard_control</code></td>
<td>
<p>vector. Constant hazard rates under the control arm.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_n_total">N_total</code></td>
<td>
<p>scalar. Total sample size.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_breaks">breaks</code></td>
<td>
<p>vector. Breaks (interval starts) used to compose the breaks of the piecewise
exponential model. Do not include zero. Default breaks are the quantiles of the input
times.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_time0">time0</code></td>
<td>
<p>vector. Historical exposure time for the subjects. It must be the same length
as the treatment variable.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_treatment0">treatment0</code></td>
<td>
<p>vector. the historical treatment assignment for patients,
1 for treatment group and 0 for control group.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_event0">event0</code></td>
<td>
<p>vector. Historical status indicator, normally 0=alive, 1=dead.
Other choices are TRUE/FALSE (TRUE = death) or 1/2 (2=death).
For censored data, the status indicator is 0=right censored, 1 = event at time.
Although unusual, the event indicator can be omitted, in which case
all subjects are assumed to have an event.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_lambda">lambda</code></td>
<td>
<p>vector. Enrollment rates across simulated enrollment times. See
<code><a href="#topic+enrollment">enrollment</a></code> for more details.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_lambda_time">lambda_time</code></td>
<td>
<p>vector. Enrollment time(s) at which the enrollment rates
change. Must be same length as lambda. See <code><a href="#topic+enrollment">enrollment</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_interim_look">interim_look</code></td>
<td>
<p>vector. Sample size for each interim look. Note: the
maximum sample size should not be included.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_endofstudy">EndofStudy</code></td>
<td>
<p>scalar. Length of the study.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_prior">prior</code></td>
<td>
<p>vector. Prior values of the gamma rate, Gamma(a0, b0). The default is
set to Gamma(.1, .1).</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_block">block</code></td>
<td>
<p>scalar. Block size for generating the randomization schedule.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_rand_ratio">rand_ratio</code></td>
<td>
<p>vector. Randomization allocation for the ratio of control
to treatment. Integer values mapping the size of the block. See
<code><a href="#topic+randomization">randomization</a></code> for more details.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_prop_loss_to_followup">prop_loss_to_followup</code></td>
<td>
<p>scalar. Overall oroportion of subjects lost to
follow-up.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_alternative">alternative</code></td>
<td>
<p>character. The string specifying the alternative
hypothesis, must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_h0">h0</code></td>
<td>
<p>scalar. Threshold for comparing two mean values. Default is
<code>h0=0</code>.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_futility_prob">futility_prob</code></td>
<td>
<p>scalar. Probability of stopping early for futility.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_expected_success_prob">expected_success_prob</code></td>
<td>
<p>scalar. Probability of stopping early for success.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_prob_ha">prob_ha</code></td>
<td>
<p>scalar. Probability of alternative hypothesis.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_n_impute">N_impute</code></td>
<td>
<p>scalar. Number of imputations for Monte Carlo simulation of
missing data.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_number_mcmc">number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws in
sampling posterior.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_discount_function">discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_alpha_max">alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_fix_alpha">fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_weibull_scale">weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
&quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_weibull_shape">weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = &quot;identity&quot;.</p>
</td></tr>
<tr><td><code id="survivalBACT_+3A_method">method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method &quot;<code>mc</code>&quot; estimates alpha for each
Monte Carlo iteration. Alternate value &quot;<code>fixed</code>&quot; estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br />
<code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of output for a single trial simulation.
</p>

<dl>
<dt><code>lambda_treatment</code></dt><dd>
<p>vector. The input parameter of constant hazard rates in the
treatment group.</p>
</dd>
<dt><code>cutpoint_treatment</code></dt><dd>
<p>vector. The change-point vector when the constant hazard rate(s) changes for
the treatment group.</p>
</dd>
<dt><code>lambda_control</code></dt><dd>
<p>vector. The input parameter of constant hazard rates in the
control group.</p>
</dd>
<dt><code>cutpoint_control</code></dt><dd>
<p>vector. The change-point vector when the constant hazard rate(s) changes for
the control group.</p>
</dd>
<dt><code>prob_of_accepting_alternative</code></dt><dd>
<p>scalar. The input parameter of probability threshold of accepting the
alternative.</p>
</dd>
<dt><code>margin</code></dt><dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt><dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>interim_look</code></dt><dd>
<p>vector. The sample size for each interim look.</p>
</dd>
<dt><code>N_treatment</code></dt><dd>
<p>scalar. The number of patients enrolled in the treatment group for
each simulation.</p>
</dd>
<dt><code>event_treatment</code></dt><dd>
<p>scalar. The number of events in the treatment group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt><dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>event_control</code></dt><dd>
<p>scalar. The number of events in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt><dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt><dd>
<p>scalar. The number of patients who completed the trial and had no
loss to follow-up.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt><dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt><dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt><dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt><dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>est_interim</code></dt><dd>
<p>scalar. The interim estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
</dl>


<hr>
<h2 id='survivaldata'>Time-to-event dataset for analyzing adaptive Bayesian trials</h2><span id='topic+survivaldata'></span>

<h3>Description</h3>

<p>A dataset containing the results of 100 patients with time-to-event outcome,
the dataset is filled with treatment assignment and status (0 = censored,
1 = not censored).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(survivaldata)
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient ID in the trial</p>
</dd>
<dt>treatment</dt><dd><p>treatment assignment for patients, 1 for treatment group
0 for control group</p>
</dd>
<dt>time</dt><dd><p>the follow up time for patients</p>
</dd>
<dt>event</dt><dd><p>The status indicator, normally 0=alive, 1=dead or
0 = no event, 1 = event occurred</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(survivaldata)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

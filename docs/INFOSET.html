<!DOCTYPE html><html lang="en"><head><title>Help for package INFOSET</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {INFOSET}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#asset.label'><p>Data for clustering and labeling ETFs</p></a></li>
<li><a href='#create_overlapping_windows'><p>Function to create overlapping windows.</p></a></li>
<li><a href='#g_ret'><p>Function to compute gross returns.</p></a></li>
<li><a href='#infoset'><p>Procedure to find the most-left distribution set.</p></a></li>
<li><a href='#LR_cp'><p>Function to compute Left risk measure.</p></a></li>
<li><a href='#plot_LR_cp'><p>Plot methods for a LR_cp object</p></a></li>
<li><a href='#plot_ptf'><p>Plot methods for a ptf_construction object</p></a></li>
<li><a href='#ptf_construction'><p>Function to compute portfolio values</p></a></li>
<li><a href='#sample.data'><p>Data for infoset function</p></a></li>
<li><a href='#sample.data.ts'><p>Data with time points for portfolio construction using the LR_cp measure</p></a></li>
<li><a href='#summary_ptf'><p>Plot methods for a ptf_construction object</p></a></li>
<li><a href='#tail_mixture'><p>Function to find the most-left distribution set.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Computing a New Informative Distribution Set of Asset Returns</td>
</tr>
<tr>
<td>Version:</td>
<td>4.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Gloria Polinesi [aut, cre],
  Francesca Mariani [aut],
  Maria Cristina Recchioni [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gloria Polinesi &lt;g.polinesi@staff.univpm.it&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimation of the most-left informative set of gross returns 
             (i.e., the informative set).
             The procedure to compute the informative set adjusts the method 
             proposed by 
             Mariani et al. (2022a) &lt;<a href="https://doi.org/10.1007%2Fs11205-020-02440-6">doi:10.1007/s11205-020-02440-6</a>&gt; 
             and 
             Mariani et al. (2022b) &lt;<a href="https://doi.org/10.1007%2Fs10287-022-00422-2">doi:10.1007/s10287-022-00422-2</a>&gt; 
             to gross returns of financial assets. 
             This is accomplished through an adaptive algorithm
             that identifies sub-groups of gross returns in 
             each iteration by approximating their distribution with a
             sequence of two-component log-normal mixtures. 
             These sub-groups emerge when a significant change
             in the distribution occurs below the median of the 
             financial returns, with their boundary termed as
             the â€œchange point" of the mixture. 
             The process concludes when no further change points are detected.
             The outcome encompasses parameters of the leftmost mixture 
             distributions and change points of the
             analyzed financial time series.
             The functionalities of the INFOSET package include: (i) modelling asset distribution
             detecting the parameters which describe left tail behaviour (infoset function), (ii) clustering, (iii) labeling of the financial
             series for predictive and classification purposes through a Left Risk measure based on the first change point (LR_cp function)
             (iv) portfolio construction (ptf_construction function).
             The package also provide a specific function to construct rolling windows of different length size and overlapping time.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, colorspace, dendextend, quadprog, mixtools, stats,
graphics</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-23 09:48:17 UTC; Utente</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-23 15:20:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='asset.label'>Data for clustering and labeling ETFs</h2><span id='topic+asset.label'></span>

<h3>Description</h3>

<p>Contains asset class of ETFs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asset.label
</code></pre>


<h3>Format</h3>

<p>A data frame with 44 observations (rows) on 3 variables (columns)
</p>

<dl>
<dt>id</dt><dd><p>name of ETF</p>
</dd>
<dt>label</dt><dd><p>from 1 to 5 according to the specific asset class</p>
</dd>
<dt>class</dt><dd><p>specific asset class (5 categories)</p>
</dd>
</dl>



<h3>Source</h3>

<p>Created in-house to serve as an example
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(asset.label)
</code></pre>

<hr>
<h2 id='create_overlapping_windows'>Function to create overlapping windows.</h2><span id='topic+create_overlapping_windows'></span>

<h3>Description</h3>

<p>Function to create overlapping windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_overlapping_windows(data, FT = 1290, ov = 125)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_overlapping_windows_+3A_data">data</code></td>
<td>
<p>vector or data frame</p>
</td></tr>
<tr><td><code id="create_overlapping_windows_+3A_ft">FT</code></td>
<td>
<p>Window size. By default set to 1290 training days (five years).</p>
</td></tr>
<tr><td><code id="create_overlapping_windows_+3A_ov">ov</code></td>
<td>
<p>Number of different days for two consecutive time windows.. By default set to 125 training days (six months).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing the rolling windows
</p>

<hr>
<h2 id='g_ret'>Function to compute gross returns.</h2><span id='topic+g_ret'></span>

<h3>Description</h3>

<p>Calculate gross returns from prices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g_ret(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="g_ret_+3A_x">x</code></td>
<td>
<p>data object containing ordered price observations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as x with the gross returns
</p>

<hr>
<h2 id='infoset'>Procedure to find the most-left distribution set.</h2><span id='topic+infoset'></span>

<h3>Description</h3>

<p>Estimation of the vector of unknown parameters for the density functions associated with the
two mixture components.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>infoset(y, plot_cp)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="infoset_+3A_y">y</code></td>
<td>
<p>object of class &quot;g_ret&quot;</p>
</td></tr>
<tr><td><code id="infoset_+3A_plot_cp">plot_cp</code></td>
<td>
<p>option</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;infoset&quot; is a list containing the following components for the firse two iterations (k=2):
</p>

<dl>
<dt>change.points</dt><dd><p>a vector of change points.</p>
</dd>
<dt>prior.probability</dt><dd><p>the a priori probabilities.</p>
</dd>
<dt>first.type.errors</dt><dd><p>the cumulative distribution functions associated with the leftmost component of the mixture.</p>
</dd>
<dt>second.type.errors</dt><dd><p>the cumulative distribution functions associated with the rightmost component of the mixture.</p>
</dd>
<dt>mean</dt><dd><p>the parameters (drift) of the left-hand component of the log-normal mixture.</p>
</dd>
<dt>sd</dt><dd><p>the parameters (volatility) of the left-hand component of the log-normal mixture.</p>
</dd>
</dl>



<h3>References</h3>

<p>Mariani, F., Polinesi, G., Recchioni, M. C. (2022). A tail-revisited Markowitz mean-variance approach and a portfolio network centrality. Computational Management Science, 19(3), 425-455.
</p>
<p>Mariani, F., Ciommi, M., Chelli, F. M., Recchioni, M. C. (2020). An iterative approach to stratification: Poverty at regional level in Italy. Social Indicators Research, 1-31.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gross.ret&lt;-as.data.frame(lapply(sample.data, g_ret))
infoset(gross.ret$ETF_1, plot_cp = "T")

############################################################
## EXAMPLE 1: Clustering ETFs
############################################################


gross.ret&lt;-as.data.frame(lapply(sample.data, g_ret))
result&lt;-NULL
for(i in 1:ncol(gross.ret)){
 result[[i]]&lt;-infoset(gross.ret[,i], plot_cp = "F")
}
output&lt;-matrix(unlist(result),12,ncol=ncol(gross.ret)) # output contains the information set
output&lt;-t(output)
rownames(output)&lt;-colnames(gross.ret)
colnames(output)&lt;-c("ch_1","ch_2","priori_1","priori_2","first_1",
                   "first_2","second_1","second_2","mean_1","mean_2","dev_1", "dev_2")
output&lt;- as.data.frame(output)
group_label &lt;- as.factor(asset.label$label)
d &lt;- dist(output, method = 'euclidean')
hc_SIMS &lt;- hclust(d, method = 'complete')
library(dendextend)
library(colorspace)
dend_SIMS &lt;- as.dendrogram(hc_SIMS)
dend_SIMS &lt;- color_branches(dend_SIMS, k = 4, col = c(1:4))
labels_colors(dend_SIMS) &lt;-
       rainbow_hcl(5)[sort_levels_values(as.numeric(group_label)[order.dendrogram(dend_SIMS)])]
labels(dend_SIMS) &lt;- paste(as.character(group_label)[order.dendrogram(dend_SIMS)],
       '(', labels(dend_SIMS), ')', sep = '')
dend_SIMS &lt;- hang.dendrogram(dend_SIMS, hang_height = 0.001)
dend_SIMS &lt;- assign_values_to_leaves_nodePar(dend_SIMS, 0.5, 'lab.cex')
dev.new()
old_par &lt;- par(no.readonly = TRUE)
on.exit(par(old_par))
par(mar = c(1.8, 1.8, 1.8, 1))
plot(dend_SIMS, main = 'Complete linkage (the labels give the true ETF class)',
     horiz = TRUE, nodePar = list(cex = 0.007))
legend('topleft', legend = c('emerging equity Asia', 'emerging equity America',
                           'corporate bond', 'commodities', 'aggregate bond'),
             fill = c('#BDAB66', '#65BC8C', '#C29DDE', '#E495A5', '#55B8D0'), border = 'white')


</code></pre>

<hr>
<h2 id='LR_cp'>Function to compute Left risk measure.</h2><span id='topic+LR_cp'></span>

<h3>Description</h3>

<p>Function to compute Left risk measure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LR_cp(data, FT, ov)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LR_cp_+3A_data">data</code></td>
<td>
<p>A (T x N) matrix or data.frame containing the N time series over period T</p>
</td></tr>
<tr><td><code id="LR_cp_+3A_ft">FT</code></td>
<td>
<p>Window size.</p>
</td></tr>
<tr><td><code id="LR_cp_+3A_ov">ov</code></td>
<td>
<p>umber of different days for two consecutive time windows.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A (N x T) data.frame containing the LR_cp measure for the N time series over time windows
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

LR &lt;- LR_cp(sample.data, FT= 1290, ov = 125)
df &lt;- as.data.frame(matrix(unlist(LR), nrow = length(LR), ncol = ncol(sample.data)))
colnames(df) &lt;- c(paste("tw", rep(1:16)))
plot(df[,1], pch=19, col=asset.label$label, ylab="LR_cp", xlab="ETFs")


</code></pre>

<hr>
<h2 id='plot_LR_cp'>Plot methods for a LR_cp object</h2><span id='topic+plot_LR_cp'></span>

<h3>Description</h3>

<p>Plot methods for a LR_cp object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_LR_cp(LR_cp_measure, asset_label)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_LR_cp_+3A_lr_cp_measure">LR_cp_measure</code></td>
<td>
<p>object of class LR_cp</p>
</td></tr>
<tr><td><code id="plot_LR_cp_+3A_asset_label">asset_label</code></td>
<td>
<p>vector containing asset label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot of LR_cp measures by asset classes
</p>

<hr>
<h2 id='plot_ptf'>Plot methods for a ptf_construction object</h2><span id='topic+plot_ptf'></span>

<h3>Description</h3>

<p>Plot methods for a ptf_construction object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ptf(ptf.oos.values)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_ptf_+3A_ptf.oos.values">ptf.oos.values</code></td>
<td>
<p>object of class ptf_construction</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot oos portfolio values
</p>

<hr>
<h2 id='ptf_construction'>Function to compute portfolio values</h2><span id='topic+ptf_construction'></span>

<h3>Description</h3>

<p>Function to compute portfolio values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ptf_construction(
  data,
  FT,
  ov,
  LR_cp_measure,
  ptf = c("M", "C_M", "EDC", "C_EDC")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ptf_construction_+3A_data">data</code></td>
<td>
<p>A (T x N) matrix or data.frame containing the N time series over period T</p>
</td></tr>
<tr><td><code id="ptf_construction_+3A_ft">FT</code></td>
<td>
<p>Window size.</p>
</td></tr>
<tr><td><code id="ptf_construction_+3A_ov">ov</code></td>
<td>
<p>Overlap.</p>
</td></tr>
<tr><td><code id="ptf_construction_+3A_lr_cp_measure">LR_cp_measure</code></td>
<td>
<p>object of class LR_cp (only for &quot;C_M&quot; and &quot;C_EDC&quot; asset allocation strategies)</p>
</td></tr>
<tr><td><code id="ptf_construction_+3A_ptf">ptf</code></td>
<td>
<p>Type of portfolio to be computed. Asset allocation strategies available are:
&quot;M&quot; is the Markowitz portfolio, &quot;C_M&quot; is the combined Markowitz portfolio,
&quot;EDC&quot; uses the extreme downside correlation and &quot;C_EDC&quot; is the combined  extreme downside correlation portfolio</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ptf_construction&quot; is a list containing the following components for all the time windows considered:
</p>

<dl>
<dt>ptf oos value</dt><dd><p>a vector of out of sample returns.</p>
</dd>
<dt>weigths</dt><dd><p>portfolio weights.</p>
</dd>
</dl>


<hr>
<h2 id='sample.data'>Data for infoset function</h2><span id='topic+sample.data'></span>

<h3>Description</h3>

<p>Contains daily prices of ETFs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample.data
</code></pre>


<h3>Format</h3>

<p>A data frame with 3174 rows and 44 columns
</p>


<h3>Source</h3>

<p>Created in-house to serve as an example
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sample.data)
</code></pre>

<hr>
<h2 id='sample.data.ts'>Data with time points for portfolio construction using the LR_cp measure</h2><span id='topic+sample.data.ts'></span>

<h3>Description</h3>

<p>Contains daily prices of ETFs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample.data.ts
</code></pre>


<h3>Format</h3>

<p>A data frame with 3175 rows and 45 columns
</p>


<h3>Source</h3>

<p>Created in-house to serve as an example
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sample.data.ts)
</code></pre>

<hr>
<h2 id='summary_ptf'>Plot methods for a ptf_construction object</h2><span id='topic+summary_ptf'></span>

<h3>Description</h3>

<p>Plot methods for a ptf_construction object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_ptf(ptf.oos.values)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary_ptf_+3A_ptf.oos.values">ptf.oos.values</code></td>
<td>
<p>object of class ptf_construction</p>
</td></tr>
</table>


<h3>Value</h3>

<p>summary of oos portfolio values
</p>

<hr>
<h2 id='tail_mixture'>Function to find the most-left distribution set.</h2><span id='topic+tail_mixture'></span>

<h3>Description</h3>

<p>An adaptive clustering algorithm identifies sub-groups of gross returns at each iteration by approximating their distribution with a
sequence of two-component log-normal mixtures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tail_mixture(y, shift, n_it, plot)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tail_mixture_+3A_y">y</code></td>
<td>
<p>vector or data frame</p>
</td></tr>
<tr><td><code id="tail_mixture_+3A_shift">shift</code></td>
<td>
<p>double</p>
</td></tr>
<tr><td><code id="tail_mixture_+3A_n_it">n_it</code></td>
<td>
<p>integer</p>
</td></tr>
<tr><td><code id="tail_mixture_+3A_plot">plot</code></td>
<td>
<p>option</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data object
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

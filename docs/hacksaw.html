<!DOCTYPE html><html><head><title>Help for package hacksaw</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hacksaw}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#%&lt;-%'><p>Assign values to names</p></a></li>
<li><a href='#cast_character'><p>Cast columns to a specified data type</p></a></li>
<li><a href='#filter_pattern'><p>Grep and filter a data frame by pattern</p></a></li>
<li><a href='#filter_split'><p>Perform various operations before splitting</p></a></li>
<li><a href='#keep_na'><p>Keep rows containing missing values</p></a></li>
<li><a href='#keep_pattern'><p>Grep, keep or discard a list or vector by pattern</p></a></li>
<li><a href='#pluck_when'><p>Pluck a value based on other criteria</p></a></li>
<li><a href='#shift_row_values'><p>Shift row values left or right</p></a></li>
<li><a href='#var_max'><p>Return the indices of n max values of a variable</p></a></li>
<li><a href='#var_min'><p>Return the indices of n min values of a variable</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Additional Tools for Splitting and Cleaning Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Move between data frames and lists more efficiently with precision 
  splitting via 'dplyr' verbs. Easily cast variables to different data types. Keep 
  rows with NAs. Shift row values.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, purrr, rlang, utils, tidyselect, tibble, zeallot,
magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, tidyr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-12-15 00:20:17 UTC; davidranzolin</td>
</tr>
<tr>
<td>Author:</td>
<td>David Ranzolin [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Ranzolin &lt;daranzolin@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-12-15 05:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code><a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='+25+26lt+3B-+25'>Assign values to names</h2><span id='topic++25+3C-+25'></span><span id='topic++25-+3E+25'></span>

<h3>Description</h3>

<p>See <code><a href="zeallot.html#topic++25+3C-+25">%&lt;-%</a></code> for more details.
</p>
<p>See <code><a href="zeallot.html#topic++25-+3E+25">%-&gt;%</a></code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %&lt;-% value

value %-&gt;% x
</code></pre>

<hr>
<h2 id='cast_character'>Cast columns to a specified data type</h2><span id='topic+cast_character'></span><span id='topic+cast_numeric'></span><span id='topic+cast_logical'></span>

<h3>Description</h3>

<p>Cast columns to a specified data type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cast_character(.data, ...)

cast_numeric(.data, ...)

cast_logical(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cast_character_+3A_.data">.data</code></td>
<td>
<p>a table of data.</p>
</td></tr>
<tr><td><code id="cast_character_+3A_...">...</code></td>
<td>
<p>A selection of columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df &lt;- tibble(x = 1:3, y = as.character(1:3), z = c(0, 0, 1))
df %&gt;% cast_character(x)
df %&gt;% cast_numeric(y)
df %&gt;% cast_logical(z)
</code></pre>

<hr>
<h2 id='filter_pattern'>Grep and filter a data frame by pattern</h2><span id='topic+filter_pattern'></span>

<h3>Description</h3>

<p>Grep and filter a data frame by pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_pattern(.data, col, pattern, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_pattern_+3A_.data">.data</code></td>
<td>
<p>a table of data.</p>
</td></tr>
<tr><td><code id="filter_pattern_+3A_col">col</code></td>
<td>
<p>a variable.</p>
</td></tr>
<tr><td><code id="filter_pattern_+3A_pattern">pattern</code></td>
<td>
<p>string containing a regular expression to be matched in the given character vector.</p>
</td></tr>
<tr><td><code id="filter_pattern_+3A_...">...</code></td>
<td>
<p>additional arguments passed to grepl</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
starwars %&gt;% filter_pattern(homeworld, "oo")
</code></pre>

<hr>
<h2 id='filter_split'>Perform various operations before splitting</h2><span id='topic+filter_split'></span><span id='topic+select_split'></span><span id='topic+count_split'></span><span id='topic+mutate_split'></span><span id='topic+distinct_split'></span><span id='topic+transmute_split'></span><span id='topic+slice_split'></span><span id='topic+pull_split'></span><span id='topic+group_by_split'></span><span id='topic+eval_split'></span><span id='topic+precision_split'></span>

<h3>Description</h3>

<p>Evaluate expressions over a data frame, resulting in a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_split(.data, ...)

select_split(.data, ...)

count_split(.data, ...)

mutate_split(.data, ...)

distinct_split(.data, ..., simplify = TRUE)

transmute_split(.data, ..., simplify = TRUE)

slice_split(.data, ...)

pull_split(.data, ...)

group_by_split(.data, ...)

eval_split(.data, ...)

precision_split(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_split_+3A_.data">.data</code></td>
<td>
<p>A table of data.</p>
</td></tr>
<tr><td><code id="filter_split_+3A_...">...</code></td>
<td>
<p>Expressions to be evaluated.</p>
</td></tr>
<tr><td><code id="filter_split_+3A_simplify">simplify</code></td>
<td>
<p>Boolean, whether to unlist the returned split.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
mtcars %&gt;% filter_split(cyl == 4, cyl == 6)
iris %&gt;% select_split(starts_with("Sepal"), starts_with("Petal"))
mtcars %&gt;% count_split(gear, carb, across(c(cyl, gear)))
mtcars %&gt;% mutate_split(mpg2 = mpg^2, mpg3 = mpg^3)
mtcars %&gt;% distinct_split(cyl, carb)
mtcars %&gt;% transmute_split(mpg^2, sqrt(mpg))
mtcars %&gt;% slice_split(1:10, 11:20)
mtcars %&gt;% pull_split(mpg, hp)
mtcars %&gt;% group_by_split(cyl, gear, across(c(cyl, gear)))
mtcars %&gt;% eval_split(select(mpg, hp), filter(mpg&gt;25), mutate(mpg2 = mpg^2))
mtcars %&gt;% precision_split(mpg &gt; 25)
</code></pre>

<hr>
<h2 id='keep_na'>Keep rows containing missing values</h2><span id='topic+keep_na'></span>

<h3>Description</h3>

<p>Keep rows containing missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keep_na(.data, ..., .logic = "AND")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keep_na_+3A_.data">.data</code></td>
<td>
<p>A table of data.</p>
</td></tr>
<tr><td><code id="keep_na_+3A_...">...</code></td>
<td>
<p>A selection of columns. If empty, all columns are selected.</p>
</td></tr>
<tr><td><code id="keep_na_+3A_.logic">.logic</code></td>
<td>
<p>boolean, either 'AND' or 'OR'. Logic for keeping NAs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df &lt;- tibble(x = c(1, 2, NA, NA), y = c("a", NA, "b", NA))
df %&gt;% keep_na()
df %&gt;% keep_na(x)

vars &lt;- "y"
df %&gt;% keep_na(x, any_of(vars))
</code></pre>

<hr>
<h2 id='keep_pattern'>Grep, keep or discard a list or vector by pattern</h2><span id='topic+keep_pattern'></span><span id='topic+discard_pattern'></span>

<h3>Description</h3>

<p>Grep, keep or discard a list or vector by pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keep_pattern(x, pattern, ...)

discard_pattern(x, pattern, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keep_pattern_+3A_x">x</code></td>
<td>
<p>a list or vector.</p>
</td></tr>
<tr><td><code id="keep_pattern_+3A_pattern">pattern</code></td>
<td>
<p>string containing a regular expression to be matched in the given character vector.</p>
</td></tr>
<tr><td><code id="keep_pattern_+3A_...">...</code></td>
<td>
<p>additional arguments passed to grepl.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>l &lt;- list("David", "Daniel", "Damien", "Eric", "Jared", "Zach")
l %&gt;% keep_pattern("^D")
l %&gt;% discard_pattern("^D")
</code></pre>

<hr>
<h2 id='pluck_when'>Pluck a value based on other criteria</h2><span id='topic+pluck_when'></span>

<h3>Description</h3>

<p>Pluck a value based on other criteria
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pluck_when(.x, .p, .i = 1, .else = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pluck_when_+3A_.x">.x</code></td>
<td>
<p>Vector from which to select value.</p>
</td></tr>
<tr><td><code id="pluck_when_+3A_.p">.p</code></td>
<td>
<p>Logical expression.</p>
</td></tr>
<tr><td><code id="pluck_when_+3A_.i">.i</code></td>
<td>
<p>First TRUE index to return.</p>
</td></tr>
<tr><td><code id="pluck_when_+3A_.else">.else</code></td>
<td>
<p>If no matches from .p, value to return.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df &lt;- tibble(
id = c(1, 1, 1, 2, 2, 2, 3, 3),
tested = c("no", "no", "yes", "no", "no", "no", "yes", "yes"),
year = c(2015:2017, 2010:2012, 2019:2020)
)
df %&gt;%
 group_by(id) %&gt;%
 mutate(year_first_tested = pluck_when(year, tested == "yes"))
</code></pre>

<hr>
<h2 id='shift_row_values'>Shift row values left or right</h2><span id='topic+shift_row_values'></span>

<h3>Description</h3>

<p>Shift row values left or right
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shift_row_values(.data, .dir = "left", at = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shift_row_values_+3A_.data">.data</code></td>
<td>
<p>a table of data.</p>
</td></tr>
<tr><td><code id="shift_row_values_+3A_.dir">.dir</code></td>
<td>
<p>the shift direction as a string, one of &quot;left&quot; or &quot;right&quot;.</p>
</td></tr>
<tr><td><code id="shift_row_values_+3A_at">at</code></td>
<td>
<p>the row indices at which to shift.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df &lt;- tibble(
    s = c(NA, 1, NA, NA),
    t = c(NA, NA, 1, NA),
    u = c(NA, NA, 2, 5),
    v = c(5, 1, 9, 2),
    x = c(1, 5, 6, 7),
    y = c(NA, NA, 8, NA),
    z = 1:4
)
df %&gt;% shift_row_values()
df %&gt;% shift_row_values(at = 1:3)
df %&gt;% shift_row_values(at = 1:2, .dir = "right")
</code></pre>

<hr>
<h2 id='var_max'>Return the indices of n max values of a variable</h2><span id='topic+var_max'></span>

<h3>Description</h3>

<p>Return the indices of n max values of a variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_max(var, n = 6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_max_+3A_var">var</code></td>
<td>
<p>the variable to use.</p>
</td></tr>
<tr><td><code id="var_max_+3A_n">n</code></td>
<td>
<p>number of rows to return.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>var_max(1:10)
</code></pre>

<hr>
<h2 id='var_min'>Return the indices of n min values of a variable</h2><span id='topic+var_min'></span>

<h3>Description</h3>

<p>Return the indices of n min values of a variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_min(var, n = 6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_min_+3A_var">var</code></td>
<td>
<p>the variable to use.</p>
</td></tr>
<tr><td><code id="var_min_+3A_n">n</code></td>
<td>
<p>number of rows to return.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>var_min(1:10)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

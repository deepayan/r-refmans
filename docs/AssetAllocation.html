<!DOCTYPE html><html><head><title>Help for package AssetAllocation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {AssetAllocation}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#asset_allocations'><p>Pre-loaded Static and Tactical Asset Allocations</p></a></li>
<li><a href='#backtest_allocation'><p>Backtesting of asset allocation strategies</p></a></li>
<li><a href='#constant_weights'><p>Returns constant weights for static asset allocations</p></a></li>
<li><a href='#daily_account_calc'><p>Calculation of account value for backtesting asset allocation strategies</p></a></li>
<li><a href='#ETFs'><p>Daily prices and total returns for 24 ETFs.</p></a></li>
<li><a href='#get_data_from_tickers'><p>Downloads prices in xts format from a list of tickers from Yahoo Finance (&lt;https://finance.yahoo.com/&gt;).</p></a></li>
<li><a href='#get_rebalance_dates'><p>Portfolio rebalancing dates</p></a></li>
<li><a href='#min_variance'><p>Returns minimum variance portfolio weights on a given date</p></a></li>
<li><a href='#risk_parity'><p>Returns risk parity weights on a given date</p></a></li>
<li><a href='#tactical_AAA'><p>Returns allocations for the Adaptive Asset Allocation strategy on a given</p>
date</a></li>
<li><a href='#tactical_DualMomentum'><p>Returns allocations for the dual momentum strategy on a given date</p></a></li>
<li><a href='#tactical_ivy'><p>Returns allocations for the Ivy Portfolio on a given date</p></a></li>
<li><a href='#tactical_JPM5'><p>Calculates asset allocations for the JPMorgan ETF EfficienteÂ® 5 portfolio.</p></a></li>
<li><a href='#tactical_RAA'><p>Returns allocations for the Robust Asset Allocation on a given date</p></a></li>
<li><a href='#tactical_TrendFriend'><p>Returns allocations for the Ivy Portfolio on a given date</p></a></li>
<li><a href='#tactical_TrendFriend_RP'><p>Returns allocations for the Ivy Portfolio on a given date</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Backtesting Simple Asset Allocation Strategies</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexandre Rubesam</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexandre Rubesam &lt;alexandre.rubesam@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Easy and quick testing of customizable asset allocation strategies.
    Users can rely on their own data, or have the package automatically
    download data from Yahoo Finance (<a href="https://finance.yahoo.com/">https://finance.yahoo.com/</a>). Several 
    pre-loaded portfolios with data are available, including some which are 
    discussed in Faber (2015, ISBN:9780988679924). </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>PerformanceAnalytics, quantmod, RiskPortfolios, xts, zoo,
NMOF, riskParityPortfolio, curl</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rubetron/AssetAllocation">https://github.com/rubetron/AssetAllocation</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rubetron/AssetAllocation/issues">https://github.com/rubetron/AssetAllocation/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-13 16:36:20 UTC; rubesam</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-14 07:50:20 UTC</td>
</tr>
</table>
<hr>
<h2 id='asset_allocations'>Pre-loaded Static and Tactical Asset Allocations
</h2><span id='topic+asset_allocations'></span>

<h3>Description</h3>

<p>Basic static and tactical asset allocation strategies that work with the pre-loaded data in the object <code>ETFs</code>. Each element is itself a list with the following fields: name, tickers, default_weights, rebalance_frequency, portfolio_rule_fn.
</p>
<p>The static allocations included are:
</p>

<ul>
<li><p> United States 60/40 portfolio
</p>
</li>
<li><p> Golden Butterfly portfolio
</p>
</li>
<li><p> Rob Arnott Portfolio
</p>
</li>
<li><p> Global Asset Allocation
</p>
</li>
<li><p> Permanent Portfolio
</p>
</li>
<li><p> Desert Portfolio
</p>
</li>
<li><p> Larry Portfolio
</p>
</li>
<li><p> Big Rocks Portfolio
</p>
</li>
<li><p> Sandwich Portfolio
</p>
</li>
<li><p> Balanced Tax Aware Portfolio
</p>
</li>
<li><p> Balanced Portfolio
</p>
</li>
<li><p> Income with Growth Portfolio
</p>
</li>
<li><p> Income with Growth Tax Aware Portfolio
</p>
</li>
<li><p> Conservative Income
</p>
</li>
<li><p> Conservative Income Tax Aware
</p>
</li>
<li><p> All Weather Portfolio
</p>
</li></ul>

<p>The tactical asset allocations included are:
</p>

<ul>
<li><p> Ivy Portfolio
</p>
</li>
<li><p> Robust Asset Allocation
</p>
</li>
<li><p> Dual Momentum
</p>
</li>
<li><p> Adaptive Asset Allocation
</p>
</li>
<li><p> The Trend is Your Friend (original)
</p>
</li>
<li><p> The Trend is Your Friend (real risk parity)
</p>
</li>
<li><p> JPMorgan Efficiente 5
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data("asset_allocations")</code></pre>


<h3>Format</h3>

<p>Object of class <code>"List"</code> with two fields containing static and tactical
asset allocations, respectively. Each asset allocation is represented by a list
with the following fields:
..$ name               : chr
..$ tickers            : chr
..$ default_weights    : num
..$ rebalance_frequency: chr (default is &quot;month&quot;)
..$ portfolio_rule_fn  : chr (default is &quot;identity&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(asset_allocations)
# basic static allocation is the U.S. 60/40 portfolio:
us_60_40 &lt;- asset_allocations$static$us_60_40

# basic tactical allocation is the Ivy portfolio:
ivy &lt;- asset_allocations$tactical$ivy
</code></pre>

<hr>
<h2 id='backtest_allocation'>Backtesting of asset allocation strategies</h2><span id='topic+backtest_allocation'></span>

<h3>Description</h3>

<p><code>backtest_allocation</code> computes a backtest of a given portfolio
allocation rule.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>backtest_allocation(strat, P, R, risk_free = 0, start_date = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="backtest_allocation_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="backtest_allocation_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="backtest_allocation_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="backtest_allocation_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
<tr><td><code id="backtest_allocation_+3A_start_date">start_date</code></td>
<td>
<p>Optional starting date</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function first determines the rebalancing dates based
on <code>strat$rebalance_frequency</code>. Then, it cycles through intermediate
dates and calculates daily returns based on the allocation. If the optional
parameter <code>start_date</code> is provided, the backtest will start on that
date. Otherwise, it will start from the date from which data on all assets
becomes available.
</p>


<h3>Value</h3>

<p>An object of class <code>"List"</code> with the following elements:
</p>
<table>
<tr><td><code>strat</code></td>
<td>
<p>The strat provided to the function</p>
</td></tr>
<tr><td><code>returns</code></td>
<td>
<p>An xts object with the daily returns of the strategy</p>
</td></tr>
<tr><td><code>table_performance</code></td>
<td>
<p>A table with performance metrics</p>
</td></tr>
<tr><td><code>rebalance_dates</code></td>
<td>
<p>Vector of rebalancing dates</p>
</td></tr>
<tr><td><code>rebalance_weights</code></td>
<td>
<p>Vector of rebalancing dates</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1: backtesting one of the asset allocations in the package
us_60_40 &lt;- asset_allocations$static$us_60_40
bt_us_60_40 &lt;- backtest_allocation(us_60_40,
                                  ETFs$Prices,
                                  ETFs$Returns,
                                  ETFs$risk_free)

# show table with performance metrics
bt_us_60_40$table_performance
# Example 2: creating and backtesting an asset allocation from scratch

# create a strategy that invests equally in momentum (MTUM), value (VLUE),
# low volatility (USMV) and quality (QUAL) ETFs.

factor_strat  &lt;- list(name = "EW Factors",
                      tickers = c("MTUM", "VLUE", "USMV", "QUAL"),
                      default_weights = c(0.25, 0.25, 0.25, 0.25),
                      rebalance_frequency = "month",
                      portfolio_rule_fn = "constant_weights")

# get data for tickers using getSymbols
factor_ETFs &lt;- get_data_from_tickers(factor_strat$tickers,
                                     starting_date = "2020-01-01")
# backtest the strategy
bt_factor_strat &lt;- backtest_allocation(factor_strat,
                                       factor_ETFs$P,
                                       factor_ETFs$R)
# show table with performance metrics
bt_factor_strat$table_performance
</code></pre>

<hr>
<h2 id='constant_weights'>Returns constant weights for static asset allocations</h2><span id='topic+constant_weights'></span>

<h3>Description</h3>

<p><code>constant_weights</code> applies the identity function to the default weights
in a strategy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constant_weights(strat, reb_date = NULL, P, R, risk_free)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constant_weights_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="constant_weights_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="constant_weights_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="constant_weights_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="constant_weights_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>us_60_40  &lt;- asset_allocations$static$us_60_40
reb_date &lt;- as.Date("2022-03-31")
constant_weights(us_60_40,
                 reb_date,
                 ETFs$Prices[, us_60_40$tickers],
                 ETFs$Returns[, us_60_40$tickers],
                 ETFs$risk_free)
</code></pre>

<hr>
<h2 id='daily_account_calc'>Calculation of account value for backtesting asset allocation strategies</h2><span id='topic+daily_account_calc'></span>

<h3>Description</h3>

<p><code>daily_account_calc</code> is a helper function used by
<code>backtest_allocation</code> to calculate theoretical the theoretical account
value given an initial allocation to assets. It is not intended to be called
directly by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>daily_account_calc(w, R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="daily_account_calc_+3A_w">w</code></td>
<td>
<p>A vector of weights</p>
</td></tr>
<tr><td><code id="daily_account_calc_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function simulates the value of a theoretical account from the initial
weights and the daily returns of a set of assets.
</p>


<h3>Value</h3>

<p>A numeric vector with the daily value of the account.
</p>

<hr>
<h2 id='ETFs'>Daily prices and total returns for 24 ETFs.</h2><span id='topic+ETFs'></span>

<h3>Description</h3>

<p>Data set containing daily prices and total returns for 37 exchange-traded
funds (ETFs) as well as daily returns for U.S. Treasury bills
(risk-free asset).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ETFs)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"list"</code>
</p>

<dl>
<dt>Prices</dt><dd><p><code>xts</code> object with daily prices</p>
</dd>
<dt>Returns</dt><dd><p><code>xts</code> object with daily total returns</p>
</dd>
<dt>Description</dt><dd><p><code>data.frame</code> with information about the ETFs</p>
</dd>
<dt>risk_free</dt><dd><p><code>xts</code> object with daily returns of U.S. Treasury bills</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
data(ETFs)
head(ETFs$Prices)
ETFs$Description

</code></pre>

<hr>
<h2 id='get_data_from_tickers'>Downloads prices in xts format from a list of tickers from Yahoo Finance (&lt;https://finance.yahoo.com/&gt;).</h2><span id='topic+get_data_from_tickers'></span>

<h3>Description</h3>

<p><code>get_data_from_tickers</code> retrieves adjusted closing prices from Yahoo Finance
for a set of tickers and returns the prices and returns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_data_from_tickers(tickers, starting_date = "2007-01-01")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_data_from_tickers_+3A_tickers">tickers</code></td>
<td>
<p>A vector containing a tickers.</p>
</td></tr>
<tr><td><code id="get_data_from_tickers_+3A_starting_date">starting_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function retrieves data from Yahoo Finance (&lt;https://finance.yahoo.com/&gt;)
using the getSymbols function from the <code>quantmod</code> package. It calculates
returns from adjusted prices. The ticker names must correspond to those found
in Yahoo Finance.
</p>


<h3>Value</h3>

<p>An object of class <code>"List"</code> containing two objects of class
<code>"xts"</code> with respectively the prices and returns of the assets,
with column names corresponding to the tickers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## download data for the following exchange-traded-funds: MTUM, VLUE, USMV, and QUAL.
factor_ETFs &lt;- get_data_from_tickers(c("MTUM", "VLUE", "USMV", "QUAL"),
                                     starting_date = "2020-01-01")
</code></pre>

<hr>
<h2 id='get_rebalance_dates'>Portfolio rebalancing dates</h2><span id='topic+get_rebalance_dates'></span>

<h3>Description</h3>

<p><code>get_rebalance_dates</code> determines rebalancing dates based on rebalancing
frequency chosen by the user. This is a helper function used by
<code>backtest_allocation</code> and  is not intended to be called directly by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rebalance_dates(dates, reb_freq, k = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_rebalance_dates_+3A_dates">dates</code></td>
<td>
<p>A vector of dates</p>
</td></tr>
<tr><td><code id="get_rebalance_dates_+3A_reb_freq">reb_freq</code></td>
<td>
<p>Character with rebalancing frequency. Options are
<code>"days"</code>, <code>"weeks"</code>, <code>"months"</code>, <code>"quarters"</code>,
and <code>"years"</code></p>
</td></tr>
<tr><td><code id="get_rebalance_dates_+3A_k">k</code></td>
<td>
<p>An integer with number of periods to skip.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of dates.
</p>

<hr>
<h2 id='min_variance'>Returns minimum variance portfolio weights on a given date</h2><span id='topic+min_variance'></span>

<h3>Description</h3>

<p><code>min_variance</code> determines asset allocations that minimize the variance
of aportfolio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>min_variance(strat, reb_date, P, R, risk_free = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="min_variance_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="min_variance_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="min_variance_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="min_variance_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="min_variance_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates the covariance matrix of returns using the last two
years (or minimum of one year) of daily returns. It relies on the
<code>minvar</code> function from the <code>NMOF</code> package.
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ivy  &lt;- asset_allocations$tactical$ivy
reb_date &lt;- as.Date("2022-03-31")
risk_parity(ivy, reb_date, ETFs$Prices[, ivy$tickers], ETFs$Returns[, ivy$tickers])
</code></pre>

<hr>
<h2 id='risk_parity'>Returns risk parity weights on a given date</h2><span id='topic+risk_parity'></span>

<h3>Description</h3>

<p><code>risk_parity</code> determines asset allocations using a risk parity rule.
It obtains the weights such that all assets provide the same risk
contribution to the risk of the portfolio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>risk_parity(strat, reb_date, P, R, risk_free = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="risk_parity_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="risk_parity_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="risk_parity_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="risk_parity_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="risk_parity_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates the covariance matrix of returns using the last two
years (or minimum of one year) of daily returns.
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ivy  &lt;- asset_allocations$tactical$ivy
reb_date &lt;- as.Date("2022-03-31")
risk_parity(ivy, reb_date, ETFs$Prices[, ivy$tickers], ETFs$Returns[, ivy$tickers])
</code></pre>

<hr>
<h2 id='tactical_AAA'>Returns allocations for the Adaptive Asset Allocation strategy on a given
date</h2><span id='topic+tactical_AAA'></span>

<h3>Description</h3>

<p><code>tactical_AAA</code> determines asset allocations according to the Adaptive
Asset Allocation approach described in Butler, Philbrick, Gordillo, and
Varadi (2012) &lt;https://dx.doi.org/10.2139/ssrn.2328254&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactical_AAA(strat, reb_date, P, R, risk_free)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tactical_AAA_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy. For this
particular strategy, <code>strat$asset_class</code> must contain a character vector
containing the corresponding asset classes.</p>
</td></tr>
<tr><td><code id="tactical_AAA_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="tactical_AAA_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_AAA_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_AAA_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Adaptive Asset Allocation strategy sorts a specific list of assets
based on 6-month momentum, selects the top 5 assets, and then calculates
weights that yield the minimum portfolio variance. The parameters controlling
the number of months for the momentum calculation (<code>n_months_mom</code>,
default = 6), number of months of daily data used to estimate the covariance
matrix (<code>n_months_mom</code>, default value = 1), and the number of assets to
select using the momentum rule (<code>n_assets</code>, default = 5) can be changed
by adding them to a list called <code>param</code> in the <code>strat</code> object. This
allows the user to apply the simple principle of the strategy (momentum and
minimum variance) to any set of assets.
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>

<hr>
<h2 id='tactical_DualMomentum'>Returns allocations for the dual momentum strategy on a given date</h2><span id='topic+tactical_DualMomentum'></span>

<h3>Description</h3>

<p><code>tactical_DualMomentum</code> determines asset allocations for a strategy
according to the dual momentum approach described in Antonacci (2016)
&lt;https://dx.doi.org/10.2139/ssrn.2042750&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactical_DualMomentum(strat, reb_date, P, R, risk_free)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tactical_DualMomentum_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy. For this
particular strategy, <code>strat$asset_class</code> must contain a character vector
containing the corresponding asset classes.</p>
</td></tr>
<tr><td><code id="tactical_DualMomentum_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="tactical_DualMomentum_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_DualMomentum_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_DualMomentum_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Dual momentum sorts assets within each asset class described in <code>strat</code>
on a relative basis (i.e. which asset outperforms others within the same
asset class) over the last 12 months, as well as whether an asset has
positive excess return over the last 12 months. Dual momentum invests in the
top performing asset within the asset class, as long as it also has positive
excess return over the risk-free rate. Otherwise, the allocation is shifted
to the risk-free asset.
Any amounts not allocated to risky assets are allocated to the risk-free
asset as implemented in the <code>backtest_allocation</code> function.
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dual_mom  &lt;- asset_allocations$tactical$dual_mom
reb_date &lt;- as.Date("2022-03-31")
tactical_DualMomentum(dual_mom,
             reb_date,
             ETFs$Prices[, dual_mom$tickers],
             ETFs$Returns[, dual_mom$tickers],
             ETFs$risk_free)
</code></pre>

<hr>
<h2 id='tactical_ivy'>Returns allocations for the Ivy Portfolio on a given date</h2><span id='topic+tactical_ivy'></span>

<h3>Description</h3>

<p><code>tactical_ivy</code> determines asset allocations for a strategy according to
the Ivy Portfolio rule of Faber (2013,  ISBN:978-1118008850).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactical_ivy(strat, reb_date, P, R, risk_free = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tactical_ivy_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="tactical_ivy_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="tactical_ivy_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_ivy_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_ivy_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function compares prices at the end of a month to their moving averages.
If the price of an asset is below its moving average, the corresponding
allocation in <code>strat$default_weights</code> is set to zero.
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ivy  &lt;- asset_allocations$tactical$ivy
reb_date &lt;- as.Date("2022-03-31")
tactical_ivy(ivy, reb_date, ETFs$Prices[, ivy$tickers], ETFs$Returns[, ivy$tickers])
</code></pre>

<hr>
<h2 id='tactical_JPM5'>Calculates asset allocations for the JPMorgan ETF EfficienteÂ® 5 portfolio.</h2><span id='topic+tactical_JPM5'></span>

<h3>Description</h3>

<p><code>tactical_JPM5</code> determines asset allocations using a replication
of the JPMorgan ETF EfficienteÂ® 5 index methodology described in publicly
available documentation (&lt;https://sp.jpmorgan.com/spweb/content/307403.pdf&gt;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactical_JPM5(strat, reb_date, P, R, risk_free = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tactical_JPM5_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="tactical_JPM5_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="tactical_JPM5_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_JPM5_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_JPM5_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The strategy uses a window of six months of daily data to compute inputs to
perform a constrained mean-variance optimization. It relies on the
<code>mvFrontier</code> function from the <code>NMOF</code> package.
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>JPM_Eff5  &lt;- asset_allocations$tactical$JPM_Eff5
reb_date &lt;- as.Date("2022-03-31")
tactical_JPM5(JPM_Eff5, reb_date, ETFs$Prices[, JPM_Eff5$tickers], ETFs$Returns[, JPM_Eff5$tickers])
</code></pre>

<hr>
<h2 id='tactical_RAA'>Returns allocations for the Robust Asset Allocation on a given date</h2><span id='topic+tactical_RAA'></span>

<h3>Description</h3>

<p><code>tactical_RAA</code> determines asset allocations for a strategy according to
the Robust Asset Allocation (RAA) approach of Gray and Vogel (2015,
ISBN:978-1119071501).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactical_RAA(strat, reb_date, P, R, risk_free)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tactical_RAA_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="tactical_RAA_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="tactical_RAA_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_RAA_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_RAA_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free
asset, or a scalar numeric with the annual risk-free rate in decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>RAA uses two trend-following rules. The first one is based on comparing the
current price of assets with their 12-month moving average. The second one
compares returns with the returns of the risk-free asset. The allocation rule
keeps either 100
if both rules provide a positive signal, only one rule provided a positive
signal, or both rules provide a negative signal, respectively. Any amounts
not allocated to risky assets are allocated to the risk-free asset as
implemented in the <code>backtest_allocation</code> function.
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>raa  &lt;- asset_allocations$tactical$raa
reb_date &lt;- as.Date("2022-03-31")
tactical_RAA(raa,
             reb_date,
             ETFs$Prices[, raa$tickers],
             ETFs$Returns[, raa$tickers],
             ETFs$risk_free)
</code></pre>

<hr>
<h2 id='tactical_TrendFriend'>Returns allocations for the Ivy Portfolio on a given date</h2><span id='topic+tactical_TrendFriend'></span>

<h3>Description</h3>

<p><code>tactical_TrendFriend</code> determines asset allocations for a strategy
according to the strategy in Clare et al (2016,
&lt;https://doi.org/10.1016/j.jbef.2016.01.002)&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactical_TrendFriend(strat, reb_date, P, R, risk_free = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tactical_TrendFriend_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The allocation strategy proposed in the paper is based on using a a time
series momentum rule to select assets from a universe, and an allocation
rule which gives weights proportional to the inverse volatility of the assets.
The time-series (trend) momentum rule is based on whether the price of the
asset on the rebalancing date is above its 10-month moving average. If not,
the corresponding allocation in <code>strat$default_weights</code> is set to zero (
and is therefore allocated to the risk-free asset).
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trend_friend  &lt;- asset_allocations$tactical$trend_friend
reb_date &lt;- as.Date("2022-03-31")
tactical_TrendFriend(trend_friend,
                     reb_date,
                     ETFs$Prices[, trend_friend$tickers],
                     ETFs$Returns[, trend_friend$tickers]
                    )
</code></pre>

<hr>
<h2 id='tactical_TrendFriend_RP'>Returns allocations for the Ivy Portfolio on a given date</h2><span id='topic+tactical_TrendFriend_RP'></span>

<h3>Description</h3>

<p><code>tactical_TrendFriend_RP</code> determines asset allocations for a strategy
according to a modified version of the the strategy in Clare et al (2016,
&lt;https://doi.org/10.1016/j.jbef.2016.01.002)&gt;. The modified version uses full
risk parity instead of the inverse-volatility rule in the paper.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactical_TrendFriend_RP(strat, reb_date, P, R, risk_free = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tactical_TrendFriend_RP_+3A_strat">strat</code></td>
<td>
<p>A list representing an asset allocation strategy.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_RP_+3A_reb_date">reb_date</code></td>
<td>
<p>A date on which the allocation rule is applied.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_RP_+3A_p">P</code></td>
<td>
<p>An xts object with daily prices of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_RP_+3A_r">R</code></td>
<td>
<p>An xts object with daily returns of the tickers in strat.</p>
</td></tr>
<tr><td><code id="tactical_TrendFriend_RP_+3A_risk_free">risk_free</code></td>
<td>
<p>Either an xts object with daily returns of the risk-free</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The allocation strategy proposed in the paper is based on using a a time
series momentum rule to select assets from a universe, and an allocation
rule which gives weights proportional to the inverse volatility of the assets.
The time-series (trend) momentum rule is based on whether the price of the
asset on the rebalancing date is above its 10-month moving average. If not,
the corresponding allocation in <code>strat$default_weights</code> is set to zero (
and is therefore allocated to the risk-free asset).
</p>


<h3>Value</h3>

<p>A numeric vector of weights after applying the rule.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trend_friend  &lt;- asset_allocations$tactical$trend_friend
reb_date &lt;- as.Date("2022-03-31")
tactical_TrendFriend_RP(trend_friend,
                        reb_date,
                        ETFs$Prices[, trend_friend$tickers],
                        ETFs$Returns[, trend_friend$tickers]
                        )
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

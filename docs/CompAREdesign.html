<!DOCTYPE html><html lang="en"><head><title>Help for package CompAREdesign</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CompAREdesign}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CompAREdesign-package'><p>CompAREdesign: Statistical Functions for the Design of Studies with Composite Endpoints</p></a></li>
<li><a href='#ARE_cbe'><p>ARE method for composite binary endpoints</p></a></li>
<li><a href='#ARE_tte'><p>ARE method for composite time to event endpoints</p></a></li>
<li><a href='#CopulaSelection'><p>Copula object</p></a></li>
<li><a href='#dClayton'><p>Clayton's copula</p></a></li>
<li><a href='#dFGM'><p>FGM copula</p></a></li>
<li><a href='#dFrank'><p>Frank's copula</p></a></li>
<li><a href='#dGumbel'><p>Gumbel's copula</p></a></li>
<li><a href='#dNormal'><p>Normal copula</p></a></li>
<li><a href='#effectsize_cbe'><p>Effect for composite binary endpoints</p></a></li>
<li><a href='#effectsize_tte'><p>Effect for composite time-to-event endpoints</p></a></li>
<li><a href='#f_sim'><p>Simulation 1-arm</p></a></li>
<li><a href='#freedman_formula'><p>Freedman's formula</p></a></li>
<li><a href='#get_prob1'><p>Probability of observing the event</p></a></li>
<li><a href='#lower_corr'><p>Lower bound for Pearson's Correlation</p></a></li>
<li><a href='#MarginalsSelection'><p>Marginal distributions for both components</p></a></li>
<li><a href='#plot_tte'><p>Plot graphics related to the composite endpoint.</p></a></li>
<li><a href='#prob_cbe'><p>Probability of composite binary endpoints</p></a></li>
<li><a href='#samplesize_cbe'><p>Sample size for composite binary endpoints</p></a></li>
<li><a href='#samplesize_tte'><p>Sample size for composite time to event endpoints</p></a></li>
<li><a href='#schoenfeld_formula'><p>Schoenfeld's formula</p></a></li>
<li><a href='#simula_cbe'><p>Simulation of binary composite endpoints</p></a></li>
<li><a href='#simula_tte'><p>Simulation of composite time-to-event endpoints</p></a></li>
<li><a href='#Sstar'><p>Survival function for composite endpoint</p></a></li>
<li><a href='#Sstar_func_perc'><p>Difference between survival function and a given percentile</p></a></li>
<li><a href='#surv_tte'><p>Survival function for composite time-to-event endpoints</p></a></li>
<li><a href='#upper_corr'><p>Upper bound for Pearson's Correlation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Statistical Functions for the Design of Studies with Composite
Endpoints</td>
</tr>
<tr>
<td>Version:</td>
<td>2.4.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Marta Bofill Roig [aut, cre],
  Jordi Cortes Martinez [aut],
  Guadalupe Gomez Melis [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marta Bofill Roig &lt;marta.bofill.roig@upc.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>It has been designed to calculate the required sample size in randomized clinical trials with composite endpoints. It also calculates the expected effect and the probability of observing the composite endpoint, among others. The methodology can be found in Bofill &amp; Gómez (2019) &lt;<a href="https://doi.org/10.1002%2Fsim.8092">doi:10.1002/sim.8092</a>&gt; and Gómez &amp; Lagakos (2013) &lt;<a href="https://doi.org/10.1002%2Fsim.5547">doi:10.1002/sim.5547</a>&gt;. </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://compare-composite.github.io/compare/">https://compare-composite.github.io/compare/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, copula, ggplot2, ggpubr, rootSolve, numDeriv</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-04 14:18:51 UTC; jcortes</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-05 03:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='CompAREdesign-package'>CompAREdesign: Statistical Functions for the Design of Studies with Composite Endpoints</h2><span id='topic+CompAREdesign'></span><span id='topic+CompAREdesign-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>It has been designed to calculate the required sample size in randomized clinical trials with composite endpoints. It also calculates the expected effect and the probability of observing the composite endpoint, among others. The methodology can be found in Bofill &amp; Gómez (2019) <a href="https://doi.org/10.1002/sim.8092">doi:10.1002/sim.8092</a> and Gómez &amp; Lagakos (2013) <a href="https://doi.org/10.1002/sim.5547">doi:10.1002/sim.5547</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Marta Bofill Roig <a href="mailto:marta.bofill.roig@upc.edu">marta.bofill.roig@upc.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Jordi Cortes Martinez
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Guadalupe Gomez Melis [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://compare-composite.github.io/compare/">https://compare-composite.github.io/compare/</a>
</p>
</li></ul>


<hr>
<h2 id='ARE_cbe'>ARE method for composite binary endpoints</h2><span id='topic+ARE_cbe'></span>

<h3>Description</h3>

<p>The composite endpoint is assumed to be a binary endpoint formed by a combination of two events (E1 and E2). We assume that the endpoint 1 is more relevant for the clinical question than endpoint 2. 
This function calculates the ARE method for binary endpoints. The method quantifies the differences in efficiency of using the composite or the relevant as primary endpoint to lead the trial and, moreover, provides a decision rule to choose the primary endpoint. If the ARE is larger than 1, the composite endpoint may be considered the best option as primary endpoint. Otherwise, the relevant endpoint is preferred.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ARE_cbe(
  p0_e1,
  p0_e2,
  eff_e1,
  effm_e1 = "or",
  eff_e2,
  effm_e2 = "or",
  effm_ce = "or",
  rho
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ARE_cbe_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="ARE_cbe_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="ARE_cbe_+3A_eff_e1">eff_e1</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E1</p>
</td></tr>
<tr><td><code id="ARE_cbe_+3A_effm_e1">effm_e1</code></td>
<td>
<p>Effect measure used for the event E1  (effm_e1 = &quot;diff&quot; for difference of proportions, effm_e1 = &quot;rr&quot; for risk ratio, effm_e1 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="ARE_cbe_+3A_eff_e2">eff_e2</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E2</p>
</td></tr>
<tr><td><code id="ARE_cbe_+3A_effm_e2">effm_e2</code></td>
<td>
<p>Effect measure used for the event E2  (effm_e2 = &quot;diff&quot; for difference of proportions, effm_e2 = &quot;rr&quot; for risk ratio, effm_e2 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="ARE_cbe_+3A_effm_ce">effm_ce</code></td>
<td>
<p>Effect measure used for the composite endpoint (effm_ce = &quot;diff&quot; for difference of proportions, effm_ce = &quot;rr&quot; for risk ratio, effm_ce = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="ARE_cbe_+3A_rho">rho</code></td>
<td>
<p>numeric parameter, Pearson's correlation between the two events E1 and E2</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input parameters stand for the probability of the composite components and Pearson's correlation between the two components.
Note that Pearson's correlation takes values between two bounds that depend on the probabilities p0_e1 and p0_e2.
To calculate the correlation bounds you can use the R functions lower_corr and upper_corr, available in this package.
</p>


<h3>Value</h3>

<p>Returns the ARE value. If the ARE value is larger than 1 then the composite endpoint is preferred over the relevant endpoint. Otherwise, the endpoint 1 is preferred as the primary endpoint of the study.
</p>


<h3>References</h3>

<p>Bofill Roig, M., &amp; Gomez Melis, G. (2018). Selection of composite binary endpoints in clinical trials. Biometrical Journal, 60(2), 246-261. https://doi.org/10.1002/bimj.201600229
</p>

<hr>
<h2 id='ARE_tte'>ARE method for composite time to event endpoints</h2><span id='topic+ARE_tte'></span>

<h3>Description</h3>

<p>The composite endpoint is assumed to be a time to event endpoint formed by a combination of two events (E1 and E2). We assume that the endpoint 1 is more relevant for the clinical question than endpoint 2. 
This function calculates the ARE (Asymptotic Relative Efficiency) method for time to event endpoints. The method quantifies the differences in efficiency of using the composite or the relevant as primary endpoint to lead the trial and, moreover, provides a decision rule to choose the primary endpoint. If the ARE is larger than 1, the composite endpoint may be considered the best option as primary endpoint. Otherwise, the relevant endpoint is preferred.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ARE_tte(
  p0_e1,
  p0_e2,
  HR_e1,
  HR_e2,
  beta_e1 = 1,
  beta_e2 = 1,
  case,
  copula = "Frank",
  rho = 0.3,
  rho_type = "Spearman",
  subdivisions = 50,
  plot_print = FALSE,
  plot_save = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ARE_tte_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E1</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E2</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_hr_e1">HR_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E1</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_hr_e2">HR_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E2</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_beta_e1">beta_e1</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_1</code>) for a Weibull distribution for the endpoint E1 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_beta_e2">beta_e2</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_2</code>) for a Weibull distribution for the endpoint E2 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_case">case</code></td>
<td>
<p>integer parameter in {1,2,3,4}: (1) none of the endpoints is death; (2) endpoint 2 is death; (3) endpoint 1 is death; (4) both endpoints are death by different causes.</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_copula">copula</code></td>
<td>
<p>character indicating the copula to be used: &quot;Frank&quot; (default), &quot;Gumbel&quot; or &quot;Clayton&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_rho">rho</code></td>
<td>
<p>numeric parameter between -1 and 1, Spearman's correlation coefficient o Kendall Tau between the marginal distribution of the times to the two events E1 and E2. See details for more info.</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_rho_type">rho_type</code></td>
<td>
<p>character indicating the type of correlation to be used: &quot;Spearman&quot; (default) or &quot;Kendall&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_subdivisions">subdivisions</code></td>
<td>
<p>integer parameter greater than or equal to 10. Number of points used to plot the ARE according to correlation. The default is 50. Ignored if plot_print=FALSE and plot_save=FALSE.</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_plot_print">plot_print</code></td>
<td>
<p>logical indicating if the ARE according to the correlation should be displayed. The default is FALSE</p>
</td></tr>
<tr><td><code id="ARE_tte_+3A_plot_save">plot_save</code></td>
<td>
<p>logical indicating if the plot of ARE according to the correlation is stored for future customization. The default is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some parameters might be difficult to anticipate, especially the shape parameters of Weibull distributions and those referred to the relationship between the marginal distributions. 
For the shape parameters (beta_e1, beta_e2) of the Weibull distribution, we recommend to use <code class="reqn">\beta_j=0.5</code>, <code class="reqn">\beta_j=1</code> or <code class="reqn">\beta_j=2</code> if a decreasing, constant or increasing rates over time are expected, respectively.
For the correlation (rho) between both endpoints, generally a positive value is expected as it has no sense to design an study with two endpoints negatively correlated. We recommend to use <code class="reqn">\rho=0.1</code>, <code class="reqn">\rho=0.3</code> or <code class="reqn">\rho=0.5</code> for weak, mild and moderate correlations, respectively.
For the type of correlation (rho_type), although two different type of correlations are implemented, we recommend the use of the Spearman's correlation.
In any case, if no information is available on these parameters, we recommend to use the default values provided by the function.
</p>


<h3>Value</h3>

<p>Returns the ARE value along with the fixed correlation. If the ARE 
value is larger than 1 then the composite endpoint is preferred over the 
relevant endpoint. Otherwise, the endpoint 1 is preferred as the primary 
endpoint of the study. In addition, if <code>plot_save=TRUE</code> an object of 
class <code>ggplot</code> with the ARE according to the correlation is stored in the output.
</p>


<h3>References</h3>

<p>Gomez Melis, G. and Lagakos, S.W. (2013). Statistical considerations when using a composite endpoint for comparing treatment groups. Statistics in Medicine. Vol 32(5), pp. 719-738. https://doi.org/10.1002/sim.5547
</p>


<h3>Examples</h3>

<pre><code class='language-R'># ARE for a specific study where the composite endpoint is recommended
ARE_tte(p0_e1=0.1, p0_e2=0.1, HR_e1=0.9, HR_e2=0.8, beta_e1 = 1, beta_e2 = 1, 
case=1, copula = "Frank", rho = 0.3, rho_type = "Spearman")
# ARE for a specific study where the composite endpoint is not recommended
ARE_tte(p0_e1=0.1, p0_e2=0.05, HR_e1=0.6, HR_e2=0.8, beta_e1 = 1, beta_e2 = 1, 
case=1, copula = "Frank", rho = 0.3, rho_type = "Spearman")
</code></pre>

<hr>
<h2 id='CopulaSelection'>Copula object</h2><span id='topic+CopulaSelection'></span>

<h3>Description</h3>

<p>Build a copula class object from the given family and the corresponding dependence parameter from the given correlation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CopulaSelection(copula, rho, rho_type = "Spearman")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CopulaSelection_+3A_copula">copula</code></td>
<td>
<p>Copula given from the following list: &quot;Frank&quot; (default), &quot;Gumbel&quot; , &quot;Clayton&quot;, &quot;Normal&quot; , &quot;T&quot;,
, &quot;Galambos&quot;, &quot;HuslerReiss&quot;, &quot;Tawn&quot;, &quot;Tev&quot;, &quot;FGM&quot; or &quot;Plackett&quot;</p>
</td></tr>
<tr><td><code id="CopulaSelection_+3A_rho">rho</code></td>
<td>
<p>Spearman's coefficient between the 2 marginal distributions</p>
</td></tr>
<tr><td><code id="CopulaSelection_+3A_rho_type">rho_type</code></td>
<td>
<p>Type of correlation: &quot;Spearman&quot; (default) or &quot;Kendall&quot;</p>
</td></tr>
</table>

<hr>
<h2 id='dClayton'>Clayton's copula</h2><span id='topic+dClayton'></span>

<h3>Description</h3>

<p>returns the density function of Clayton's copula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dClayton(u, v, theta)
</code></pre>

<hr>
<h2 id='dFGM'>FGM copula</h2><span id='topic+dFGM'></span>

<h3>Description</h3>

<p>returns the density function of the copulaFGM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dFGM(u, v, theta)
</code></pre>

<hr>
<h2 id='dFrank'>Frank's copula</h2><span id='topic+dFrank'></span>

<h3>Description</h3>

<p>returns the density function of Frank's copula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dFrank(u, v, theta)
</code></pre>

<hr>
<h2 id='dGumbel'>Gumbel's copula</h2><span id='topic+dGumbel'></span>

<h3>Description</h3>

<p>returns the density function of Gumbel's copula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dGumbel(u, v, theta)
</code></pre>

<hr>
<h2 id='dNormal'>Normal copula</h2><span id='topic+dNormal'></span>

<h3>Description</h3>

<p>returns the density function of Normal copula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dNormal(u, v, theta)
</code></pre>

<hr>
<h2 id='effectsize_cbe'>Effect for composite binary endpoints</h2><span id='topic+effectsize_cbe'></span>

<h3>Description</h3>

<p>This function calculates different effect measures for binary composite outcomes. 
The composite endpoint is assumed to be a binary endpoint formed by a combination of two events (E1 and E2).
The effect size is calculated on the basis of anticipated information on the composite components and the correlation between them. The function allows to compute the effect size in terms of the risk difference, risk ratio and odds ratio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effectsize_cbe(
  p0_e1,
  p0_e2,
  eff_e1,
  effm_e1,
  eff_e2,
  effm_e2,
  effm_ce = "diff",
  rho
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="effectsize_cbe_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="effectsize_cbe_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="effectsize_cbe_+3A_eff_e1">eff_e1</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E1</p>
</td></tr>
<tr><td><code id="effectsize_cbe_+3A_effm_e1">effm_e1</code></td>
<td>
<p>Effect measure used for the event E1  (effm_e1 = &quot;diff&quot; for difference of proportions, effm_e1 = &quot;rr&quot; for risk ratio, effm_e1 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="effectsize_cbe_+3A_eff_e2">eff_e2</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E2</p>
</td></tr>
<tr><td><code id="effectsize_cbe_+3A_effm_e2">effm_e2</code></td>
<td>
<p>Effect measure used for the event E2  (effm_e2 = &quot;diff&quot; for difference of proportions, effm_e2 = &quot;rr&quot; for risk ratio, effm_e2 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="effectsize_cbe_+3A_effm_ce">effm_ce</code></td>
<td>
<p>Effect measure used for the composite endpoint (effm_ce = &quot;diff&quot; for difference of proportions, effm_ce = &quot;rr&quot; for risk ratio, effm_ce = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="effectsize_cbe_+3A_rho">rho</code></td>
<td>
<p>numeric parameter, Pearson's correlation between the two events E1 and E2</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input parameters stand for the probability of the composite components and Pearson's correlation between the two components.
Note that Pearson's correlation takes values between two bounds that depend on the probabilities p0_e1 and p0_e2.
To calculate the correlation bounds you can use the R functions lower_corr and upper_corr, available in this package.
</p>


<h3>Value</h3>

<p>Returns the effect for the composite binary endpoint and the effects for the composite components.
</p>


<h3>References</h3>

<p>Bofill Roig, M., &amp; Gómez Melis, G. (2019). A new approach for sizing trials with composite binary endpoints using anticipated marginal values and accounting for the correlation between components. Statistics in Medicine, 38(11), 1935-1956. https://doi.org/10.1002/sim.8092
</p>

<hr>
<h2 id='effectsize_tte'>Effect for composite time-to-event endpoints</h2><span id='topic+effectsize_tte'></span>

<h3>Description</h3>

<p>This function calculates different effect measures for time-to-event composite outcomes. 
The composite endpoint is assumed to be a time-to-event endpoint formed by a combination of two events (E1 and E2).
The effect size is calculated on the basis of anticipated information on the composite components and the correlation between them.
Marginal distributions are assumed weibull for both endpoints.
The function allows to compute the effect size in terms of the geometric average hazard ratio, the average hazard ratio, 
the ratio of restricted mean survival times and the median survival time ratio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effectsize_tte(
  p0_e1,
  p0_e2,
  HR_e1,
  HR_e2,
  beta_e1 = 1,
  beta_e2 = 1,
  case,
  copula = "Frank",
  rho = 0.3,
  rho_type = "Spearman",
  followup_time = 1,
  subdivisions = 1000,
  plot_print = FALSE,
  plot_save = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="effectsize_tte_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E1</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E2</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_hr_e1">HR_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E1</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_hr_e2">HR_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E2</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_beta_e1">beta_e1</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_1</code>) for a Weibull distribution for the endpoint E1 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_beta_e2">beta_e2</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_2</code>) for a Weibull distribution for the endpoint E2 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_case">case</code></td>
<td>
<p>integer parameter in {1,2,3,4}: (1) none of the endpoints is death; (2) endpoint 2 is death; (3) endpoint 1 is death; (4) both endpoints are death by different causes.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_copula">copula</code></td>
<td>
<p>character indicating the copula to be used: &quot;Frank&quot; (default), &quot;Gumbel&quot; or &quot;Clayton&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_rho">rho</code></td>
<td>
<p>numeric parameter between -1 and 1, Spearman's correlation coefficient o Kendall Tau between the marginal distribution of the times to the two events E1 and E2. See details for more info.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_rho_type">rho_type</code></td>
<td>
<p>character indicating the type of correlation to be used: &quot;Spearman&quot; (default) or &quot;Kendall&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_followup_time">followup_time</code></td>
<td>
<p>numeric parameter indicating the maximum follow up time (in any unit). Default is 1.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_subdivisions">subdivisions</code></td>
<td>
<p>integer parameter greater than or equal to 10. Number of subintervals to estimate the effect size. The default is 1000.</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_plot_print">plot_print</code></td>
<td>
<p>logical indicating if the HR over time should be displayed. The default is FALSE</p>
</td></tr>
<tr><td><code id="effectsize_tte_+3A_plot_save">plot_save</code></td>
<td>
<p>logical indicating if the plot of HR over time should is stored for future customization. The default is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some parameters might be difficult to anticipate, especially the shape parameters of Weibull distributions and those referred to the relationship between the marginal distributions. 
For the shape parameters (beta_e1, beta_e2) of the Weibull distribution, we recommend to use <code class="reqn">\beta_j=0.5</code>, <code class="reqn">\beta_j=1</code> or <code class="reqn">\beta_j=2</code> if a decreasing, constant or increasing rates over time are expected, respectively.
For the correlation (rho) between both endpoints, generally a positive value is expected as it has no sense to design an study with two endpoints negatively correlated. We recommend to use <code class="reqn">\rho=0.1</code>, <code class="reqn">\rho=0.3</code> or <code class="reqn">\rho=0.5</code> for weak, mild and moderate correlations, respectively.
For the type of correlation (rho_type), although two different type of correlations are implemented, we recommend the use of the Spearman's correlation.
In any case, if no information is available on these parameters, we recommend to use the default values provided by the function.
</p>
<p>All returned expected effect sizes for the composite endpoint should be interpreted in relative terms (treated to control). 
gAHR and AHR represent the risk reduction that will be achieved with the new therapy, while RMST_ratio and Median_ratio represent the gain in time gain terms until the event.
</p>


<h3>Value</h3>

<p>A list formed by two lists: <code>effect_size</code>, which contains the 
expected treatment effect measures and <code>measures_by_group</code>, which contains 
some relevant measures for each group
</p>
<p><code>effect_size</code> list:
</p>

<dl>
<dt><code>gAHR</code></dt><dd><p>geometric Average Hazard Ratio</p>
</dd>
<dt><code>AHR</code></dt><dd><p>Average Hazard Ratio</p>
</dd>
<dt><code>RMST_ratio</code></dt><dd><p>Restricted Mean Survival Time Ratio</p>
</dd>
<dt><code>Median_ratio</code></dt><dd><p>Median Survival Time Ratio</p>
</dd>
</dl>

<p><code>measures_by_group</code> list:
</p>

<dl>
<dt><code>pstar</code></dt><dd><p>array with the probability of observing the composite event for each group</p>
</dd>
<dt><code>p1</code></dt><dd><p>array with the probability of observing the first event for each group</p>
</dd>
<dt><code>p2</code></dt><dd><p>array with the probability of observing the second event for each group</p>
</dd>
<dt><code>RMST</code></dt><dd><p>array with the restricted mean survival time for each group</p>
</dd>
<dt><code>Median</code></dt><dd><p>array with the median surival time for each group</p>
</dd>
</dl>

<p>In addition, if <code>plot_save=TRUE</code> an object of class <code>ggplot</code> with
the HR over time for composite endpoint is stored in the list.
</p>


<h3>References</h3>

<p>Schemper, M., Wakounig, S., Heinze, G. (2009). The estimation of average hazard ratios by weighted Cox regression. Stat. in Med. 28(19): 2473&ndash;2489. doi:10.1002/sim.3623
</p>


<h3>Examples</h3>

<pre><code class='language-R'>effectsize_tte(p0_e1   = .59, p0_e2   = .74, 
               HR_e1   = .91, HR_e2   = .77, 
               beta_e1 = 1,   beta_e2 = 2, 
               case    = 3,   rho     = .5,
               copula  = 'Frank', rho_type   = 'Spearman',
               plot_print = TRUE, plot_save = FALSE) 
</code></pre>

<hr>
<h2 id='f_sim'>Simulation 1-arm</h2><span id='topic+f_sim'></span>

<h3>Description</h3>

<p>Simulation of a trial with a composite endpoint
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_sim(samplesize, p_e1, p_e2, p_ce)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_sim_+3A_samplesize">samplesize</code></td>
<td>
<p>sample size per arm</p>
</td></tr>
<tr><td><code id="f_sim_+3A_p_e1">p_e1</code></td>
<td>
<p>numeric parameter, probability of the event E1</p>
</td></tr>
<tr><td><code id="f_sim_+3A_p_e2">p_e2</code></td>
<td>
<p>numeric parameter, probability of the event E2</p>
</td></tr>
<tr><td><code id="f_sim_+3A_p_ce">p_ce</code></td>
<td>
<p>probability of the composite endpoint</p>
</td></tr>
</table>


<h3>Value</h3>

<p>simulated data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data=f_sim(samplesize=100,p_e1=0.1,p_e2=0.5,p_ce=0.6)
head(data)
</code></pre>

<hr>
<h2 id='freedman_formula'>Freedman's formula</h2><span id='topic+freedman_formula'></span>

<h3>Description</h3>

<p>Freedman's formula to calculate the number of events required
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freedman_formula(alpha, power, HR)
</code></pre>

<hr>
<h2 id='get_prob1'>Probability of observing the event</h2><span id='topic+get_prob1'></span>

<h3>Description</h3>

<p>Returns the probability of observing a single endpoint
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_prob1(
  beta1,
  beta2,
  b11,
  b21,
  case,
  rho,
  copula = "Frank",
  endpoint,
  seed = 12345
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_prob1_+3A_beta1">beta1</code></td>
<td>
<p>Shape parameter for a Weibull law for the relevant event</p>
</td></tr>
<tr><td><code id="get_prob1_+3A_beta2">beta2</code></td>
<td>
<p>Shape parameter for a Weibull law for the additional event</p>
</td></tr>
<tr><td><code id="get_prob1_+3A_b11">b11</code></td>
<td>
<p>Scale parameter of the Weibull distribution in treated arm for the relevant event</p>
</td></tr>
<tr><td><code id="get_prob1_+3A_b21">b21</code></td>
<td>
<p>Scale parameter of the Weibull distribution in treated arm for the additional event</p>
</td></tr>
<tr><td><code id="get_prob1_+3A_case">case</code></td>
<td>
<p>Censoring case: 1, 2, 3 or 4</p>
</td></tr>
<tr><td><code id="get_prob1_+3A_rho">rho</code></td>
<td>
<p>Spearman's coefficient between the 2 marginal distributions</p>
</td></tr>
<tr><td><code id="get_prob1_+3A_copula">copula</code></td>
<td>
<p>Copula to use</p>
</td></tr>
<tr><td><code id="get_prob1_+3A_endpoint">endpoint</code></td>
<td>
<p>Endpoint from which it is wanted to obtain the probability of being observed</p>
</td></tr>
</table>

<hr>
<h2 id='lower_corr'>Lower bound for Pearson's Correlation</h2><span id='topic+lower_corr'></span>

<h3>Description</h3>

<p>Pearson's correlation between two binary outcomes takes values between two bounds defined according to the probabilities of the binary outcomes.
This function calculates the lower bound of the correlation based on the probabilities of two binary outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lower_corr(p_e1, p_e2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lower_corr_+3A_p_e1">p_e1</code></td>
<td>
<p>numeric parameter, probability of the event E1</p>
</td></tr>
<tr><td><code id="lower_corr_+3A_p_e2">p_e2</code></td>
<td>
<p>numeric parameter, probability of the event E2</p>
</td></tr>
</table>


<h3>Details</h3>

<p>lower_corr returns a numeric value between -1 and 0.
</p>


<h3>Value</h3>

<p>Returns the minimum value that the correlation between the two outcomes can take.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>CompAREdesign::lower_corr(p_e1=0.1, p_e2=0.6)

</code></pre>

<hr>
<h2 id='MarginalsSelection'>Marginal distributions for both components</h2><span id='topic+MarginalsSelection'></span>

<h3>Description</h3>

<p>Returns the distribution and parameters of the marginal Weibull distributions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MarginalsSelection(
  beta1,
  beta2,
  HR1,
  HR2,
  p1,
  p2,
  case,
  rho,
  theta,
  copula = "Frank",
  seed = 12345
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MarginalsSelection_+3A_beta1">beta1</code></td>
<td>
<p>Shape parameter for a Weibull law for the relevant event</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_beta2">beta2</code></td>
<td>
<p>Shape parameter for a Weibull law for the additional event</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_hr1">HR1</code></td>
<td>
<p>Hazard Ratio for a Weibull law for the relevant event</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_hr2">HR2</code></td>
<td>
<p>Hazard Ratio for a Weibull law for the additional event</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_p1">p1</code></td>
<td>
<p>Proportion of the relevant event expected in group zero</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_p2">p2</code></td>
<td>
<p>Proportion of the additional event expected in group zero</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_case">case</code></td>
<td>
<p>Censoring case</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_theta">theta</code></td>
<td>
<p>Dependence parameter for the bivariate distribution in control group</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_copula">copula</code></td>
<td>
<p>Copula to use</p>
</td></tr>
<tr><td><code id="MarginalsSelection_+3A_seed">seed</code></td>
<td>
<p>Seed for obtaining the probabilities of observing the events by simulation</p>
</td></tr>
</table>

<hr>
<h2 id='plot_tte'>Plot graphics related to the composite endpoint.</h2><span id='topic+plot_tte'></span>

<h3>Description</h3>

<p>Plot the survival function and the HR for composite endpoint over time and the ARE (Assymptotic Relative Efficiency) and sample size
size according to the correlation.The composite endpoint is assumed to be a time to event endpoint formed by a combination of two events (E1 and E2). We assume that the endpoint 1 is more relevant for the clinical question than endpoint 2.
#'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_tte(
  p0_e1,
  p0_e2,
  HR_e1,
  HR_e2,
  beta_e1 = 1,
  beta_e2 = 1,
  case,
  copula = "Frank",
  rho = 0.3,
  rho_type = "Spearman",
  followup_time = 1,
  alpha = 0.05,
  power = 0.8,
  ss_formula = "schoenfeld",
  summary = FALSE,
  type = "survival"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_tte_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E1</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E2</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_hr_e1">HR_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E1</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_hr_e2">HR_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E2</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_beta_e1">beta_e1</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_1</code>) for a Weibull distribution for the endpoint E1 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_beta_e2">beta_e2</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_2</code>) for a Weibull distribution for the endpoint E2 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_case">case</code></td>
<td>
<p>integer parameter in {1,2,3,4}: (1) none of the endpoints is death; (2) endpoint 2 is death; (3) endpoint 1 is death; (4) both endpoints are death by different causes.</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_copula">copula</code></td>
<td>
<p>character indicating the copula to be used: &quot;Frank&quot; (default), &quot;Gumbel&quot; or &quot;Clayton&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_rho">rho</code></td>
<td>
<p>numeric parameter between -1 and 1, Spearman's correlation coefficient o Kendall Tau between the marginal distribution of the times to the two events E1 and E2. See details for more info.</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_rho_type">rho_type</code></td>
<td>
<p>character indicating the type of correlation to be used: &quot;Spearman&quot; (default) or &quot;Kendall&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_followup_time">followup_time</code></td>
<td>
<p>numeric parameter indicating the maximum follow up time (in any unit). Default is 1.</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_alpha">alpha</code></td>
<td>
<p>numeric parameter. The probability of type I error. By default <code class="reqn">\alpha=0.05</code></p>
</td></tr>
<tr><td><code id="plot_tte_+3A_power">power</code></td>
<td>
<p>numeric parameter. The power to detect the treatment effect. By default <code class="reqn">1-\beta=0.80</code></p>
</td></tr>
<tr><td><code id="plot_tte_+3A_ss_formula">ss_formula</code></td>
<td>
<p>character indicating the formula to be used for the sample size calculation on the single components: 'schoenfeld' (default) or 'freedman'</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_summary">summary</code></td>
<td>
<p>logical. TRUE if you want all the relevant plots for the trial design</p>
</td></tr>
<tr><td><code id="plot_tte_+3A_type">type</code></td>
<td>
<p>character indicating the type of plot: 'survival', 'effect', 'ARE', 'samplesize'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some parameters might be difficult to anticipate, especially the shape parameters of Weibull distributions and those referred to the relationship between the marginal distributions.
For the shape parameters (beta_e1, beta_e2) of the Weibull distribution, we recommend to use <code class="reqn">\beta_j=0.5</code>, <code class="reqn">\beta_j=1</code> or <code class="reqn">\beta_j=2</code> if a decreasing, constant or increasing rates over time are expected, respectively.
For the correlation (rho) between both endpoints, generally a positive value is expected as it has no sense to design an study with two endpoints negatively correlated. We recommend to use <code class="reqn">\rho=0.1</code>, <code class="reqn">\rho=0.3</code> or <code class="reqn">\rho=0.5</code> for weak, mild and moderate correlations, respectively.
For the type of correlation (rho_type), although two different type of correlations are implemented, we recommend the use of the Spearman's correlation.
In any case, if no information is available on these parameters, we recommend to use the default values provided by the function.
</p>


<h3>Value</h3>

<p>Four plots related to composite endpoint are returned:
</p>

<dl>
<dt>S</dt><dd><p>Survival curve for the composite endpoint over time</p>
</dd>
<dt>HR</dt><dd><p>Hazard Ratio for the composite endpoint over time</p>
</dd>
<dt>ARE</dt><dd><p>ARE according to correlation (<code class="reqn">\rho</code>)</p>
</dd>
<dt>SS</dt><dd><p>Sample size for the composite endpoint according to correlation (<code class="reqn">\rho</code>)</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
plot_tte(p0_e1   = .59, p0_e2   = .74, 
         HR_e1   = .91, HR_e2   = .77, 
         beta_e1 = 1,   beta_e2 = 2, 
         case    = 3,   rho     = .5,
         copula  = 'Frank', rho_type = 'Spearman',
         summary = FALSE,   type = 'effect', 
         followup_time=1) + theme_bw()
</code></pre>

<hr>
<h2 id='prob_cbe'>Probability of composite binary endpoints</h2><span id='topic+prob_cbe'></span>

<h3>Description</h3>

<p>This function calculates the probability of the composite binary endpoint formed by a combination of two events (E1 and E2).
This probability is calculated by means of the probabilities of the composite components (E1 and E2) and the correlation between them in terms of Pearson's correlation coefficient.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prob_cbe(p_e1, p_e2, rho)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prob_cbe_+3A_p_e1">p_e1</code></td>
<td>
<p>numeric parameter, probability of the event E1</p>
</td></tr>
<tr><td><code id="prob_cbe_+3A_p_e2">p_e2</code></td>
<td>
<p>numeric parameter, probability of the event E2</p>
</td></tr>
<tr><td><code id="prob_cbe_+3A_rho">rho</code></td>
<td>
<p>numeric parameter, Pearson's correlation between E1 and E2</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input parameters stand for the probability of the composite components and Pearson's correlation between the two components.
Note that Pearson's correlation takes values between two bounds that depend on the probabilities p0_e1 and p0_e2.
To calculate the correlation bounds you can use the R functions lower_corr and upper_corr, available in this package.
</p>


<h3>Value</h3>

<p>Returns the probability of the composite endpoint (E1 or E2).
</p>


<h3>References</h3>

<p>Bofill Roig, M., &amp; Gomez Melis, G. (2019). A new approach for sizing trials with composite binary endpoints using anticipated marginal values and accounting for the correlation between components. Statistics in Medicine, 38(11), 1935-1956. https://doi.org/10.1002/sim.8092
</p>


<h3>Examples</h3>

<pre><code class='language-R'>CompAREdesign::prob_cbe(p_e1=0.1, p_e2=0.2, rho=0)

</code></pre>

<hr>
<h2 id='samplesize_cbe'>Sample size for composite binary endpoints</h2><span id='topic+samplesize_cbe'></span>

<h3>Description</h3>

<p>This function calculates the required sample size for trials with a composite binary endpoint as primary endpoint.
The primary endpoint is assumed to be a composite binary endpoint formed by a combination of two events (E1 and E2).
The sample size is computed to evaluate differences between two groups  in terms of the risk difference, risk ratio or odds ratio.
The sample size is calculated on the basis of anticipated information on the composite components and the correlation between them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>samplesize_cbe(
  p0_e1,
  p0_e2,
  eff_e1,
  effm_e1,
  eff_e2,
  effm_e2,
  effm_ce = "diff",
  rho,
  alpha = 0.05,
  beta = 0.2,
  unpooled = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="samplesize_cbe_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_eff_e1">eff_e1</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E1</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_effm_e1">effm_e1</code></td>
<td>
<p>Effect measure used for the event E1  (effm_e1 = &quot;diff&quot; for difference of proportions, effm_e1 = &quot;rr&quot; for risk ratio, effm_e1 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_eff_e2">eff_e2</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E2</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_effm_e2">effm_e2</code></td>
<td>
<p>Effect measure used for the event E2  (effm_e2 = &quot;diff&quot; for difference of proportions, effm_e2 = &quot;rr&quot; for risk ratio, effm_e2 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_effm_ce">effm_ce</code></td>
<td>
<p>Effect measure used for the composite endpoint (effm_ce = &quot;diff&quot; for difference of proportions, effm_ce = &quot;rr&quot; for risk ratio, effm_ce = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_rho">rho</code></td>
<td>
<p>numeric parameter, Pearson's correlation between the two events E1 and E2</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_alpha">alpha</code></td>
<td>
<p>Type I error</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_beta">beta</code></td>
<td>
<p>Type II error</p>
</td></tr>
<tr><td><code id="samplesize_cbe_+3A_unpooled">unpooled</code></td>
<td>
<p>Variance estimate used for the sample size calculation (&quot;TRUE&quot; for unpooled variance estimate, and &quot;FALSE&quot; for pooled variance estimate).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input parameters stand for the probability of the composite components and Pearson's correlation between the two components.
Note that Pearson's correlation takes values between two bounds that depend on the probabilities p0_e1 and p0_e2.
To calculate the correlation bounds you can use the R functions lower_corr and upper_corr, available in this package.
</p>


<h3>Value</h3>

<p>Return the total sample size for composite binary endpoints based on the anticipated values of the composite components
and the association between them in terms of Pearson's correlation.
</p>


<h3>References</h3>

<p>Bofill Roig, M., &amp; Gomez Melis, G. (2019). A new approach for sizing trials with composite binary endpoints using anticipated marginal values and accounting for the correlation between components. Statistics in Medicine, 38(11), 1935-1956. https://doi.org/10.1002/sim.8092
</p>

<hr>
<h2 id='samplesize_tte'>Sample size for composite time to event endpoints</h2><span id='topic+samplesize_tte'></span>

<h3>Description</h3>

<p>This function calculates the required sample size for trials with a composite time to event endpoint as primary endpoint.
The primary endpoint is assumed to be a composite time to event endpoint formed by a combination of two events (E1 and E2).
The sample size is computed to evaluate differences between two groups based on the log rank test.
The sample size is calculated on the basis of anticipated information on the composite components and the correlation between them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>samplesize_tte(
  p0_e1,
  p0_e2,
  HR_e1,
  HR_e2,
  beta_e1 = 1,
  beta_e2 = 1,
  case,
  copula = "Frank",
  rho = 0.3,
  rho_type = "Spearman",
  alpha = 0.05,
  power = 0.8,
  ss_formula = "schoenfeld",
  subdivisions = 50,
  plot_print = FALSE,
  plot_save = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="samplesize_tte_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E1</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E2</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_hr_e1">HR_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E1</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_hr_e2">HR_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E2</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_beta_e1">beta_e1</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_1</code>) for a Weibull distribution for the endpoint E1 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_beta_e2">beta_e2</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_2</code>) for a Weibull distribution for the endpoint E2 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_case">case</code></td>
<td>
<p>integer parameter in {1,2,3,4}: (1) none of the endpoints is death; (2) endpoint 2 is death; (3) endpoint 1 is death; (4) both endpoints are death by different causes.</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_copula">copula</code></td>
<td>
<p>character indicating the copula to be used: &quot;Frank&quot; (default), &quot;Gumbel&quot; or &quot;Clayton&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_rho">rho</code></td>
<td>
<p>numeric parameter between -1 and 1, Spearman's correlation coefficient o Kendall Tau between the marginal distribution of the times to the two events E1 and E2. See details for more info.</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_rho_type">rho_type</code></td>
<td>
<p>character indicating the type of correlation to be used: &quot;Spearman&quot; (default) or &quot;Kendall&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_alpha">alpha</code></td>
<td>
<p>numeric parameter. The probability of type I error. By default <code class="reqn">\alpha=0.05</code></p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_power">power</code></td>
<td>
<p>numeric parameter. The power to detect the treatment effect. By default <code class="reqn">1-\beta=0.80</code></p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_ss_formula">ss_formula</code></td>
<td>
<p>character indicating the formula to be used for the sample size calculation on the single components: 'schoenfeld' (default) or 'freedman'</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_subdivisions">subdivisions</code></td>
<td>
<p>integer parameter greater than or equal to 10. Number of points used to plot the sample size according to correlation. The default is 50. Ignored if plot_print=FALSE and plot_save=FALSE.</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_plot_print">plot_print</code></td>
<td>
<p>logical indicating if the sample size according to the correlation should be displayed. The default is FALSE</p>
</td></tr>
<tr><td><code id="samplesize_tte_+3A_plot_save">plot_save</code></td>
<td>
<p>logical indicating if the plot of sample size according to the correlation is stored for future customization. The default is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some parameters might be difficult to anticipate, especially the shape parameters of Weibull distributions and those referred to the relationship between the marginal distributions. 
For the shape parameters (beta_e1, beta_e2) of the Weibull distribution, we recommend to use <code class="reqn">\beta_j=0.5</code>, <code class="reqn">\beta_j=1</code> or <code class="reqn">\beta_j=2</code> if a decreasing, constant or increasing rates over time are expected, respectively.
For the correlation (rho) between both endpoints, generally a positive value is expected as it has no sense to design an study with two endpoints negatively correlated. We recommend to use <code class="reqn">\rho=0.1</code>, <code class="reqn">\rho=0.3</code> or <code class="reqn">\rho=0.5</code> for weak, mild and moderate correlations, respectively.
For the type of correlation (rho_type), although two different type of correlations are implemented, we recommend the use of the Spearman's correlation.
In any case, if no information is available on these parameters, we recommend to use the default values provided by the function.
</p>
<p>The user can choose between the two most common formulae (Schoenfeld and Freedman) for the sample size calculation for the single components. 
Schoenfeld formula always be used for the composite endpoint. Both Freedman's and Schoenfeld's formulas are nearly correct when the number of events, 
is large and the groups are balanced. Schoenfeld's formula generally yields a lower required number of events. From a parsimonious perspective, 
Schoenfeld's formula is preferable when minimizing the sample size is the main criterion.
</p>


<h3>Value</h3>

<p>A list containing the following components:
</p>

<dl>
<dt><code>ss_E1</code></dt><dd><p>Total sample size (both groups) for a trial using endpoint 1 as primary endpoint</p>
</dd>
<dt><code>ss_E2</code></dt><dd><p>Total sample size (both groups) for a trial using endpoint 2 as primary endpoint</p>
</dd>
<dt><code>ss_Ec</code></dt><dd><p>Total sample size (both groups) for a trial using composite endpoint as primary endpoint</p>
</dd>
</dl>
 
<p>In addition, if <code>plot_save=TRUE</code> an object of class <code>ggplot</code> with
the sample size for composite endpoint according to correlation is stored 
in the list.
</p>


<h3>References</h3>

<p>Friedman L.M., Furberg C.D., DeMets D.L. Fundamentals of Clinical Trials. 3rd ed. New York: Springer; 1998.
Cortés Martínez, J., Geskus, R.B., Kim, K. et al. Using the geometric average hazard ratio in sample size calculation for time-to-event data with composite endpoints. BMC Med Res Methodol 21, 99 (2021). https://doi.org/10.1186/s12874-021-01286-x
</p>


<h3>Examples</h3>

<pre><code class='language-R'>samplesize_tte(p0_e1   = .59, p0_e2   = .74, 
               HR_e1   = .91, HR_e2   = .77, 
               beta_e1 = 1,   beta_e2 = 2, 
               case    = 3,   rho     = .5,
               copula  = 'Frank', rho_type   = 'Spearman',
               plot_print = FALSE, plot_save = FALSE)
</code></pre>

<hr>
<h2 id='schoenfeld_formula'>Schoenfeld's formula</h2><span id='topic+schoenfeld_formula'></span>

<h3>Description</h3>

<p>Schoenfeld's formula to calculate the number of events required
</p>


<h3>Usage</h3>

<pre><code class='language-R'>schoenfeld_formula(alpha, power, HR)
</code></pre>

<hr>
<h2 id='simula_cbe'>Simulation of binary composite endpoints</h2><span id='topic+simula_cbe'></span>

<h3>Description</h3>

<p>This simulates two-arm randomised controlled trials with binary composite endpoints. The composite endpoint is assumed to be an endpoint formed by a combination of two events (E1 and E2).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simula_cbe(p0_e1, p0_e2, eff_e1, effm_e1, eff_e2, effm_e2, rho, samplesize)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simula_cbe_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter, probability of occurrence E1 in the control group</p>
</td></tr>
<tr><td><code id="simula_cbe_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter, probability of occurrence E2 in the control group</p>
</td></tr>
<tr><td><code id="simula_cbe_+3A_eff_e1">eff_e1</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E1</p>
</td></tr>
<tr><td><code id="simula_cbe_+3A_effm_e1">effm_e1</code></td>
<td>
<p>Effect measure used for the event E1  (effm_e1 = &quot;diff&quot; for difference of proportions, effm_e1 = &quot;rr&quot; for risk ratio, effm_e1 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="simula_cbe_+3A_eff_e2">eff_e2</code></td>
<td>
<p>numeric parameter, anticipated effect for the composite component E2</p>
</td></tr>
<tr><td><code id="simula_cbe_+3A_effm_e2">effm_e2</code></td>
<td>
<p>Effect measure used for the event E2  (effm_e2 = &quot;diff&quot; for difference of proportions, effm_e2 = &quot;rr&quot; for risk ratio, effm_e2 = &quot;or&quot; for odds ratio)</p>
</td></tr>
<tr><td><code id="simula_cbe_+3A_rho">rho</code></td>
<td>
<p>numeric parameter, Pearson's correlation between the two events E1 and E2</p>
</td></tr>
<tr><td><code id="simula_cbe_+3A_samplesize">samplesize</code></td>
<td>
<p>sample size per arm</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input parameters stand for the probability of the composite components and Pearson's correlation between the two components.
Note that Pearson's correlation takes values between two bounds that depend on the probabilities p0_e1 and p0_e2.
To calculate the correlation bounds you can use the R functions lower_corr and upper_corr, available in this package.
</p>


<h3>Value</h3>

<p>Simulated data
</p>

<hr>
<h2 id='simula_tte'>Simulation of composite time-to-event endpoints</h2><span id='topic+simula_tte'></span>

<h3>Description</h3>

<p>This function simulates time-to-event components and their pertinent composite 
endpoint via copulas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simula_tte(
  p0_e1,
  p0_e2,
  HR_e1,
  HR_e2,
  beta_e1 = 1,
  beta_e2 = 1,
  case,
  copula = "Frank",
  rho = 0.3,
  rho_type = "Spearman",
  followup_time = 1,
  sample_size
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simula_tte_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E1</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E2</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_hr_e1">HR_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E1</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_hr_e2">HR_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E2</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_beta_e1">beta_e1</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_1</code>) for a Weibull distribution for the endpoint E1 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_beta_e2">beta_e2</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_2</code>) for a Weibull distribution for the endpoint E2 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_case">case</code></td>
<td>
<p>integer parameter in {1,2,3,4}: (1) none of the endpoints is death; (2) endpoint 2 is death; (3) endpoint 1 is death; (4) both endpoints are death by different causes.</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_copula">copula</code></td>
<td>
<p>character indicating the copula to be used: &quot;Frank&quot; (default), &quot;Gumbel&quot; or &quot;Clayton&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_rho">rho</code></td>
<td>
<p>numeric parameter between -1 and 1, Spearman's correlation coefficient o Kendall Tau between the marginal distribution of the times to the two events E1 and E2. See details for more info.</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_rho_type">rho_type</code></td>
<td>
<p>character indicating the type of correlation to be used: &quot;Spearman&quot; (default) or &quot;Kendall&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_followup_time">followup_time</code></td>
<td>
<p>numeric parameter indicating the maximum follow up time (in any unit). Default is 1.</p>
</td></tr>
<tr><td><code id="simula_tte_+3A_sample_size">sample_size</code></td>
<td>
<p>sample size for each arm (treated and control)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>sample_size</code> is not an integer, it is rounded to the nearest integer.
</p>


<h3>Value</h3>

<p>A data.frame with 7 colums: 
</p>

<dl>
<dt><code>time_e1</code></dt><dd><p>time to event for endpoint 1</p>
</dd>
<dt><code>status_e1</code></dt><dd><p>The status indicator of endpoint 1, 0=censored, 1=event</p>
</dd>
<dt><code>time_e2</code></dt><dd><p>time to event for endpoint 2</p>
</dd>
<dt><code>status_e2</code></dt><dd><p>The status indicator of endpoint 2, 0=censored, 1=event</p>
</dd>
<dt><code>time_ce</code></dt><dd><p>time to event for composite endpoint</p>
</dd>
<dt><code>status_ce</code></dt><dd><p>The status indicator of the composite endpoint, 0=censored, 1=event</p>
</dd>
<dt><code>treated</code></dt><dd><p>0 if control arm and 1, otherwise</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Simulate 10 times and censoring indicators for each arm
simula_tte(p0_e1   = .59, p0_e2   = .74, 
           HR_e1   = .91, HR_e2   = .77, 
           beta_e1 = 1,   beta_e2 = 2, 
           case    = 3,   rho     = .5,
           copula  = 'Frank', rho_type  = 'Spearman',
           sample_size = 10, followup_time = 2)
</code></pre>

<hr>
<h2 id='Sstar'>Survival function for composite endpoint</h2><span id='topic+Sstar'></span>

<h3>Description</h3>

<p>Returns the value of the survival function of S* at point x given the marginal distributions 
and the bivariate distributions via copula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sstar(x, dist1, dist2, param1, param2, dist_biv)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Sstar_+3A_x">x</code></td>
<td>
<p>Point in which to be evaluated</p>
</td></tr>
<tr><td><code id="Sstar_+3A_dist1">dist1</code></td>
<td>
<p>Distribution function of the marginal T1 (pweibull)</p>
</td></tr>
<tr><td><code id="Sstar_+3A_dist2">dist2</code></td>
<td>
<p>Distribution function of the marginal T2 (pweibull)</p>
</td></tr>
<tr><td><code id="Sstar_+3A_param1">param1</code></td>
<td>
<p>Parameters of the marginal distribution function T1 (pweibull)</p>
</td></tr>
<tr><td><code id="Sstar_+3A_param2">param2</code></td>
<td>
<p>Parameters of the marginal distribution function T2 (pweibull)</p>
</td></tr>
<tr><td><code id="Sstar_+3A_dist_biv">dist_biv</code></td>
<td>
<p>Distribution function of the bivariate distribution via copula</p>
</td></tr>
</table>

<hr>
<h2 id='Sstar_func_perc'>Difference between survival function and a given percentile</h2><span id='topic+Sstar_func_perc'></span>

<h3>Description</h3>

<p>Given a percentile perc, returns the difference between this percentile and the value of survival function
Useful for uniroot function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sstar_func_perc(z, perc, ...)
</code></pre>

<hr>
<h2 id='surv_tte'>Survival function for composite time-to-event endpoints</h2><span id='topic+surv_tte'></span>

<h3>Description</h3>

<p>It provides the survival function for time-to-event composite outcomes.
The composite endpoint is assumed to be a time-to-event endpoint formed by a combination of two events (E1 and E2).
The effect size is calculated on the basis of anticipated information on the composite components and the correlation between them.
Marginal distributions are assumed weibull for both endpoints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surv_tte(
  p0_e1,
  p0_e2,
  HR_e1,
  HR_e2,
  beta_e1 = 1,
  beta_e2 = 1,
  case,
  copula = "Frank",
  rho = 0.3,
  rho_type = "Spearman",
  followup_time = 1,
  plot_print = TRUE,
  plot_save = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="surv_tte_+3A_p0_e1">p0_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E1</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_p0_e2">p0_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E2</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_hr_e1">HR_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E1</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_hr_e2">HR_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E2</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_beta_e1">beta_e1</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_1</code>) for a Weibull distribution for the endpoint E1 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_beta_e2">beta_e2</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_2</code>) for a Weibull distribution for the endpoint E2 in the control group. See details for more info.</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_case">case</code></td>
<td>
<p>integer parameter in {1,2,3,4}: (1) none of the endpoints is death; (2) endpoint 2 is death; (3) endpoint 1 is death; (4) both endpoints are death by different causes.</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_copula">copula</code></td>
<td>
<p>character indicating the copula to be used: &quot;Frank&quot; (default), &quot;Gumbel&quot; or &quot;Clayton&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_rho">rho</code></td>
<td>
<p>numeric parameter between -1 and 1, Spearman's correlation coefficient o Kendall Tau between the marginal distribution of the times to the two events E1 and E2. See details for more info.</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_rho_type">rho_type</code></td>
<td>
<p>character indicating the type of correlation to be used: &quot;Spearman&quot; (default) or &quot;Kendall&quot;. See details for more info.</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_followup_time">followup_time</code></td>
<td>
<p>numeric parameter indicating the maximum follow up time (in any unit). Default is 1.</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_plot_print">plot_print</code></td>
<td>
<p>logical indicating if the survival curves should be displayed. The default is TRUE</p>
</td></tr>
<tr><td><code id="surv_tte_+3A_plot_save">plot_save</code></td>
<td>
<p>logical indicating if the plot of the survival curve for composite endpoint is stored for future customization. The default is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some parameters might be difficult to anticipate, especially the shape parameters of Weibull distributions and those referred to the relationship between the marginal distributions.
For the shape parameters (beta_e1, beta_e2) of the Weibull distribution, we recommend to use <code class="reqn">\beta_j=0.5</code>, <code class="reqn">\beta_j=1</code> or <code class="reqn">\beta_j=2</code> if a decreasing, constant or increasing rates over time are expected, respectively.
For the correlation (rho) between both endpoints, generally a positive value is expected as it has no sense to design an study with two endpoints negatively correlated. We recommend to use <code class="reqn">\rho=0.1</code>, <code class="reqn">\rho=0.3</code> or <code class="reqn">\rho=0.5</code> for weak, mild and moderate correlations, respectively.
For the type of correlation (rho_type), although two different type of correlations are implemented, we recommend the use of the Spearman's correlation.
In any case, if no information is available on these parameters, we recommend to use the default values provided by the function.
</p>


<h3>Value</h3>

<p>For each group, if  <code>plot_print=TRUE</code>, the function returns a plot
of the survival functions for composite endpoint as well as the plots of the
survival function for each component.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>surv_tte(p0_e1   = .59, p0_e2   = .74, 
         HR_e1   = .91, HR_e2   = .77, 
         beta_e1 = 1,   beta_e2 = 2, 
         case    = 3,   rho     = .5,
         copula  = 'Frank', rho_type   = 'Spearman',
         plot_print = TRUE, plot_save = FALSE,
         followup_time = 2)
</code></pre>

<hr>
<h2 id='upper_corr'>Upper bound for Pearson's Correlation</h2><span id='topic+upper_corr'></span>

<h3>Description</h3>

<p>Pearson's correlation between two binary outcomes takes values between two bounds defined according to the probabilities of the binary outcomes.
This function calculates the upper bound of the correlation based on the probabilities of two binary outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>upper_corr(p_e1, p_e2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="upper_corr_+3A_p_e1">p_e1</code></td>
<td>
<p>numeric parameter, probability of the event E1</p>
</td></tr>
<tr><td><code id="upper_corr_+3A_p_e2">p_e2</code></td>
<td>
<p>numeric parameter, probability of the event E2</p>
</td></tr>
</table>


<h3>Details</h3>

<p>upper_corr returns a numeric value between 0 and 1.
</p>


<h3>Value</h3>

<p>Returns the maximum value that the correlation between the two outcomes can take.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>CompAREdesign::upper_corr(p_e1=0.3, p_e2=0.6)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

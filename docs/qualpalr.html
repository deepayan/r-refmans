<!DOCTYPE html><html><head><title>Help for package qualpalr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {qualpalr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#qualpalr-package'><p>qualpalr: Automatic Generation of Qualitative Color Palettes</p></a></li>
<li><a href='#autopal'><p>Optimize color palette for color vision deficiency</p></a></li>
<li><a href='#pairs.qualpal'><p>Scatterplot matrix of qualitative color palette</p></a></li>
<li><a href='#plot.qualpal'><p>Multidimensional scaling map of qualitative color palette</p></a></li>
<li><a href='#print.qualpal'><p>Print qualpal palette</p></a></li>
<li><a href='#qualpal'><p>Generate qualitative color palettes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Automatic Generation of Qualitative Color Palettes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Automatic generation of maximally distinct qualitative color palettes,
    optionally tailored to color deficiency. A list of colors or a subspace
    of a color space is used as input and then projected to the DIN99d color space,
    where colors that are maximally distinct are chosen algorithmically.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>randtoolbox (&ge; 1.17), graphics, stats, grDevices, utils,
assertthat, Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, maps, rmarkdown, rgl, spelling, covr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://jolars.github.io/qualpalr/">https://jolars.github.io/qualpalr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jolars/qualpalr/issues">https://github.com/jolars/qualpalr/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp (&ge; 0.12.9), RcppArmadillo (&ge; 0.7.600.1.0)</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-12 13:51:28 UTC; gerd-jln</td>
</tr>
<tr>
<td>Author:</td>
<td>Johan Larsson <a href="https://orcid.org/0000-0002-4029-5945"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Johan Larsson &lt;johanlarsson@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-13 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='qualpalr-package'>qualpalr: Automatic Generation of Qualitative Color Palettes</h2><span id='topic+qualpalr'></span><span id='topic+qualpalr-package'></span>

<h3>Description</h3>

<p>Automatic generation of maximally distinct qualitative color palettes, optionally tailored to color deficiency. A list of colors or a subspace of a color space is used as input and then projected to the DIN99d color space, where colors that are maximally distinct are chosen algorithmically.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Johan Larsson <a href="mailto:johanlarsson@outlook.com">johanlarsson@outlook.com</a> (<a href="https://orcid.org/0000-0002-4029-5945">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://jolars.github.io/qualpalr/">https://jolars.github.io/qualpalr/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/jolars/qualpalr/issues">https://github.com/jolars/qualpalr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='autopal'>Optimize color palette for color vision deficiency</h2><span id='topic+autopal'></span>

<h3>Description</h3>

<p>This function adapts color palettes to color vision deficiency (CVD) by
optimizing the CVD severity to try reach a target color difference (DIN99d
<code class="reqn">\delta E</code>) of the user's choosing. Basically, it will choose a color
palette that is as close as possible to the target <code class="reqn">\delta E</code> by
tweaking the CVD severity option in <code><a href="#topic+qualpal">qualpal</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>autopal(
  n,
  colorspace = "pretty",
  cvd = c("protan", "deutan", "tritan"),
  target = 20
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autopal_+3A_n">n</code></td>
<td>
<p>Number of colors to generate.</p>
</td></tr>
<tr><td><code id="autopal_+3A_colorspace">colorspace</code></td>
<td>
<p>Either 1) a list of three named numeric vectors: <code>h</code>
(hue), <code>s</code> (saturation), and <code>l</code> (lightness), all of length 2
specifying a min and max value for the range. The values has to be in the
range -360 to 360 for <code>h</code>, and 0 to 1 for <code>s</code> and <code>l</code> 2), or
2) a <em>character vector</em> specifying one of the predefined color spaces
(see below).</p>
</td></tr>
<tr><td><code id="autopal_+3A_cvd">cvd</code></td>
<td>
<p>Color vision deficiency adaptation to adapt the color palette to.</p>
</td></tr>
<tr><td><code id="autopal_+3A_target">target</code></td>
<td>
<p>Target color difference.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The rationale for this function is that when there are few colors in a color
palette, there is no cost involved in adapting colors to CVD &ndash; the colors
will still remain distinct. As more an more colors are added to the palette,
however, adapting the color palette to CVD will eventually lead to colors
that are too similar. This function gradually loosens the adaptation to CVDs
by lowering the severity of CVD to simulate to before picking colors (the
<code>cvd_severity</code> argument in <code><a href="#topic+qualpal">qualpal</a></code>)
</p>


<h3>Value</h3>

<p>A list of class <code>qualpal</code> with the following
components.
</p>
<table>
<tr><td><code>HSL</code></td>
<td>

<p>A matrix of the colors in the HSL color space.
</p>
</td></tr>
<tr><td><code>DIN99d</code></td>
<td>

<p>A matrix of the colors in the DIN99d color space (after power
transformations).
</p>
</td></tr>
<tr><td><code>RGB</code></td>
<td>

<p>A matrix of the colors in the sRGB color space.</p>
</td></tr> <tr><td><code>hex</code></td>
<td>
<p>A
character vector of the colors in hex notation.</p>
</td></tr> <tr><td><code>de_DIN99d</code></td>
<td>
<p>A
distance matrix of color differences according to delta E DIN99d.
</p>
</td></tr>
<tr><td><code>min_de_DIN99d</code></td>
<td>

<p>The smallest pairwise DIN99d color difference.
</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>pal &lt;- autopal(3, cvd = "protan", target = 15)
plot(pal)

</code></pre>

<hr>
<h2 id='pairs.qualpal'>Scatterplot matrix of qualitative color palette</h2><span id='topic+pairs.qualpal'></span>

<h3>Description</h3>

<p>Plots the colors in an object of class  <code>"qualpal"</code> as a scatterplot
matrix on either the DIN99d (the default) or HSL color space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'qualpal'
pairs(x, colorspace = c("DIN99d", "HSL", "RGB"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pairs.qualpal_+3A_x">x</code></td>
<td>
<p>A list object of class <code>"qualpal"</code> generated from
<code><a href="#topic+qualpal">qualpal</a></code>.</p>
</td></tr>
<tr><td><code id="pairs.qualpal_+3A_colorspace">colorspace</code></td>
<td>
<p>The color space in which to plot the colors (&quot;DIN99d&quot;,
&quot;HSL&quot;, or &quot;RGB&quot;).</p>
</td></tr>
<tr><td><code id="pairs.qualpal_+3A_...">...</code></td>
<td>
<p>Arguments to pass on to <code><a href="graphics.html#topic+pairs">pairs</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+qualpal">qualpal</a></code>,
<code><a href="#topic+plot.qualpal">plot.qualpal</a></code>,
<code><a href="graphics.html#topic+pairs">pairs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>col_pal &lt;- qualpal(3)
pairs(col_pal)
pairs(col_pal, colorspace = "HSL")
</code></pre>

<hr>
<h2 id='plot.qualpal'>Multidimensional scaling map of qualitative color palette</h2><span id='topic+plot.qualpal'></span>

<h3>Description</h3>

<p>Uses the colors in a <a href="#topic+qualpal">qualpal</a> object to compute and plot a
multidimensional scaling (MDS) map using <code><a href="stats.html#topic+cmdscale">cmdscale</a></code> on the
Delta E DIN99d distance matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'qualpal'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.qualpal_+3A_x">x</code></td>
<td>
<p>An object of class <code>"qualpal"</code> generated from
<code><a href="#topic+qualpal">qualpal</a></code>.</p>
</td></tr>
<tr><td><code id="plot.qualpal_+3A_...">...</code></td>
<td>
<p>Arguments to pass on to <code><a href="graphics.html#topic+plot">plot</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+qualpal">qualpal</a></code>, <code><a href="#topic+pairs.qualpal">pairs.qualpal</a></code>,
<code><a href="graphics.html#topic+plot">plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>col_pal &lt;- qualpal(3)
plot(col_pal)
</code></pre>

<hr>
<h2 id='print.qualpal'>Print qualpal palette</h2><span id='topic+print.qualpal'></span>

<h3>Description</h3>

<p>Print the result from a call to <code><a href="#topic+qualpal">qualpal</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'qualpal'
print(x, colorspace = c("HSL", "DIN99d", "RGB"), digits = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.qualpal_+3A_x">x</code></td>
<td>
<p>An object of class <code>"qualpal"</code>.</p>
</td></tr>
<tr><td><code id="print.qualpal_+3A_colorspace">colorspace</code></td>
<td>
<p>Color space to print colors in.</p>
</td></tr>
<tr><td><code id="print.qualpal_+3A_digits">digits</code></td>
<td>
<p>Number of significant digits for the output.
(See <a href="base.html#topic+print.default">print.default</a>.) Setting it to <code>NULL</code> uses
<code><a href="base.html#topic+getOption">getOption</a>("digits")</code>.</p>
</td></tr>
<tr><td><code id="print.qualpal_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints the colors as a matrix in the specified color space as well
as a distance matrix of the color differences. Invisibly returns x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- qualpal(3)
print(f, colorspace = "DIN99d", digits = 3)
</code></pre>

<hr>
<h2 id='qualpal'>Generate qualitative color palettes</h2><span id='topic+qualpal'></span>

<h3>Description</h3>

<p>Given a color space or collection of colors, <code>qualpal()</code> projects
these colors to the DIN99d color space, where it generates a color palette
from the most visually distinct colors, optionally taking color vision
deficiency into account.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qualpal(
  n,
  colorspace = "pretty",
  cvd = c("protan", "deutan", "tritan"),
  cvd_severity = 0,
  n_threads
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qualpal_+3A_n">n</code></td>
<td>
<p>The number of colors to generate.</p>
</td></tr>
<tr><td><code id="qualpal_+3A_colorspace">colorspace</code></td>
<td>
<p>A color space to generate colors from. Can be any of the
following:
</p>

<ul>
<li><p>A <code><a href="base.html#topic+list">list</a></code> with the following <em>named</em> vectors,
each of length two, giving a range for each item.
</p>

<dl>
<dt><code>h</code></dt><dd><p>Hue, in the range [-360, 360]</p>
</dd>
<dt><code>s</code></dt><dd><p>Saturation, in the range [0, 1]</p>
</dd>
<dt><code>l</code></dt><dd><p>Lightness, in the range [0, 1]</p>
</dd>
</dl>


</li>
<li><p>A <code><a href="base.html#topic+character">character</a></code> vector of length one specifying one of
these predefined color spaces:
</p>

<dl>
<dt><code>pretty</code></dt><dd>
<p>Tries to provide aesthetically pleasing,
but still distinct color palettes. Hue ranges from 0 to 360,
saturation from 0.1 to 0.5, and lightness from 0.5 to 0.85. This
palette is not suitable for high <code>n</code></p>
</dd>
<dt><code>pretty_dark</code></dt><dd>
<p>Like <code>pretty</code> but darker. Hue ranges from 0 to 360, saturation
from 0.1 to 0.5, and lightness from 0.2 to 0.4.
</p>
</dd>
<dt><code>rainbow</code></dt><dd>
<p>Uses all hues, chromas, and most of the lightness range. Provides
distinct but not aesthetically pleasing colors.
</p>
</dd>
<dt><code>pastels</code></dt><dd>
<p>Pastel colors from the complete range of hues (0-360), with
saturation between 0.2 and 0.4, and lightness between 0.8 and 0.9.
</p>
</dd>
</dl>


</li>
<li><p>A <code><a href="base.html#topic+matrix">matrix</a></code> of colors from the sRGB color space, each
row representing a unique color.
</p>
</li>
<li><p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> that can be converted to a matrix via
<a href="base.html#topic+data.matrix">data.matrix</a>
</p>
</li></ul>
</td></tr>
<tr><td><code id="qualpal_+3A_cvd">cvd</code></td>
<td>
<p>Color vision deficiency adaptation. Use <code>cvd_severity</code>
to set the severity of color vision deficiency to adapt to. Permissible
values are <code>"protan", "deutan",</code> and <code>"tritan"</code>.</p>
</td></tr>
<tr><td><code id="qualpal_+3A_cvd_severity">cvd_severity</code></td>
<td>
<p>Severity of color vision deficiency to adapt to. Can take
any value from 0, for normal vision (the default), and 1, for dichromatic
vision.</p>
</td></tr>
<tr><td><code id="qualpal_+3A_n_threads">n_threads</code></td>
<td>
<p>Previously the number of threads to use, but this argument
is now deprecated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes a color subspace in the HSL color space, where lightness
and saturation take values from 0 to 1. Hue take values from -360 to 360,
although negative values are brought to lie in the range {0, 360}; this
behavior exists to enable color subspaces that span all hues being that the
hue space is circular.
</p>
<p>The HSL color subspace that the user provides is projected into the DIN99d
color space, which is approximately perceptually uniform, i.e. color
difference is proportional to the euclidean distance between two colors. A
distance matrix is computed and, as an additional step, is transformed using
power transformations discovered by Huang 2015 in order to fine tune
differences.
</p>
<p><code>qualpal</code> then searches the distance matrix for the most
distinct colors; it does this iteratively by first selecting a random set of
colors and then iterates over each color, putting colors back into the total
set and replaces it with a new color until it has gone through the whole
range without changing any of the colors.
</p>
<p>Optionally, <code>qualpal</code> can adapt palettes to cater to color vision
deficiency (cvd). This is accomplished by taking the colors
provided by the user and transforming them to colors that someone with cvd
would see, that is, simulating cvd. qualpal then chooses colors from
these new colors.
</p>
<p><code>qualpal</code> currently only supports the sRGB color space with the D65
white point reference.
</p>


<h3>Value</h3>

<p>A list of class <code>qualpal</code> with the following
components.
</p>
<table>
<tr><td><code>HSL</code></td>
<td>

<p>A matrix of the colors in the HSL color space.
</p>
</td></tr>
<tr><td><code>DIN99d</code></td>
<td>

<p>A matrix of the colors in the DIN99d color space (after power
transformations).
</p>
</td></tr>
<tr><td><code>RGB</code></td>
<td>

<p>A matrix of the colors in the sRGB color space.</p>
</td></tr> <tr><td><code>hex</code></td>
<td>
<p>A
character vector of the colors in hex notation.</p>
</td></tr> <tr><td><code>de_DIN99d</code></td>
<td>
<p>A
distance matrix of color differences according to delta E DIN99d.
</p>
</td></tr>
<tr><td><code>min_de_DIN99d</code></td>
<td>

<p>The smallest pairwise DIN99d color difference.
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+plot.qualpal">plot.qualpal</a></code>, <code><a href="#topic+pairs.qualpal">pairs.qualpal</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate 3 distinct colors from the default color space
qualpal(3)

# Provide a custom color space
qualpal(n = 3, list(h = c(35, 360), s = c(0.5, 0.7), l = c(0, 0.45)))

qualpal(3, "pretty")

# Adapt palette to deuteranopia
qualpal(5, colorspace = "pretty_dark", cvd = "deutan", cvd_severity = 1)

# Adapt palette to protanomaly with severity 0.4
qualpal(8, colorspace = "pretty_dark", cvd = "protan", cvd_severity = 0.4)

## Not run: 
# The range of hue cannot exceed 360
qualpal(3, list(h = c(-20, 360), s = c(0.5, 0.7), l = c(0, 0.45)))

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

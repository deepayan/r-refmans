<!DOCTYPE html><html lang="en"><head><title>Help for package musicXML</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {musicXML}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#duration'><p>duration constructor.</p></a></li>
<li><a href='#durationMapping'><p>Duration Mapping.</p></a></li>
<li><a href='#getMeasures'><p>Get measures</p></a></li>
<li><a href='#getNotes'><p>Get notes.</p></a></li>
<li><a href='#loudnessMapping'><p>Loudness Mapping.</p></a></li>
<li><a href='#measure'><p>Measure constructor.</p></a></li>
<li><a href='#MXLDurationToType'><p>MXL duration to (type-dot-triplet)</p></a></li>
<li><a href='#note'><p>Note constructor.</p></a></li>
<li><a href='#pitch'><p>Pitch constructor.</p></a></li>
<li><a href='#pitchMapping'><p>Pitch Mapping.</p></a></li>
<li><a href='#score'><p>Score constructor.</p></a></li>
<li><a href='#tieNotes'><p>Tie notes.</p></a></li>
<li><a href='#toMXL'><p>Generic toMXL function</p></a></li>
<li><a href='#toMXL.duration'><p>Duration to MXL (MusicXML)</p></a></li>
<li><a href='#toMXL.measure'><p>Measure to MXL (MusicXML)</p></a></li>
<li><a href='#toMXL.note'><p>Note to MXL (MusicXML)</p></a></li>
<li><a href='#toMXL.pitch'><p>Pitch to MXL (MusicXML)</p></a></li>
<li><a href='#toMXL.score'><p>Score to MXL (MusicXML)</p></a></li>
<li><a href='#typeToMXLDuration'><p>(type-dot-triplet) to MXL duration</p></a></li>
<li><a href='#WaggaWagga'><p>Wagga-Wagga dataset</p></a></li>
<li><a href='#writeMXL'><p>writeMXL function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Data Sonification using 'musicXML'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of tools to facilitate data sonification and handle the 'musicXML' format <a href="https://usermanuals.musicxml.com/MusicXML/Content/XS-MusicXML.htm">https://usermanuals.musicxml.com/MusicXML/Content/XS-MusicXML.htm</a>.
    Several classes are defined for basic musical objects such as note pitch, note duration, note, measure and score. 
    Moreover, sonification utilities functions are provided, e.g. to map data into musical attributes such as pitch, loudness or duration.
    A typical sonification workflow hence looks like: get data; map them to musical attributes; create and write the 'musicXML' score, 
    which can then be further processed using specialized music software (e.g. 'MuseScore', 'GuitarPro', etc.).
    Examples can be found in the blog <a href="https://globxblog.github.io/">https://globxblog.github.io/</a>, the presentation by Renard and Le Bescond (2022, <a href="https://hal.science/hal-03710340v1">https://hal.science/hal-03710340v1</a>) or the poster by Renard et al. (2023, <a href="https://hal.inrae.fr/hal-04388845v1">https://hal.inrae.fr/hal-04388845v1</a>).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, tidyr, gganimate, av</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-17 18:07:18 UTC; brenard</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin Renard <a href="https://orcid.org/0000-0001-8447-5430"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  INRAE [fnd],
  European Commission [fnd] (This project has received funding from the
    European Unionâ€™s Horizon 2020 research and innovation programme
    under the Marie Sklodowska-Curie grant agreement No 835496)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benjamin Renard &lt;benjamin.renard@inrae.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-18 11:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='duration'>duration constructor.</h2><span id='topic+duration'></span>

<h3>Description</h3>

<p>Creates a new instance of a 'duration' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>duration(
  type,
  dot = FALSE,
  triplet = FALSE,
  mxlDivision = 96,
  mxlDuration = typeToMXLDuration(type, dot, triplet)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="duration_+3A_type">type</code></td>
<td>
<p>Integer in 2^(0:6), note type (longest 1=whole, shortest 64=64th).
1 = whole, 2 = half, 4 = quarter, 8 = eighth, etc. down to 64 = 64th</p>
</td></tr>
<tr><td><code id="duration_+3A_dot">dot</code></td>
<td>
<p>Logical, is note dotted?</p>
</td></tr>
<tr><td><code id="duration_+3A_triplet">triplet</code></td>
<td>
<p>Logical, is note triplet? (play 3 for 2)</p>
</td></tr>
<tr><td><code id="duration_+3A_mxldivision">mxlDivision</code></td>
<td>
<p>Positive integer, musicXML &quot;division&quot; defining the
time resolution, i.e. the shortest possible note.
It is expressed as a fraction of a quarter note.
The value of 96 allows allows using 64th notes and their triplet/dotted versions.</p>
</td></tr>
<tr><td><code id="duration_+3A_mxlduration">mxlDuration</code></td>
<td>
<p>Positive integer, music XML &quot;duration&quot; expressed in
number of mxlDivision's. In general, mxlDivision/mxlDuration should not be modified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'duration'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- duration(8,dot=TRUE)
</code></pre>

<hr>
<h2 id='durationMapping'>Duration Mapping.</h2><span id='topic+durationMapping'></span>

<h3>Description</h3>

<p>Map a series of values into a series of durations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>durationMapping(x, expMin = 0, expMax = 6, qtrans = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="durationMapping_+3A_x">x</code></td>
<td>
<p>Vector or data frame, series to be mapped</p>
</td></tr>
<tr><td><code id="durationMapping_+3A_expmin">expMin</code></td>
<td>
<p>Integer, minimum type is 2^expMin (default: 1 &lt;=&gt; whole note)</p>
</td></tr>
<tr><td><code id="durationMapping_+3A_expmax">expMax</code></td>
<td>
<p>Integer, maximum type is 2^expMax (default: 64 &lt;=&gt; 16th note)</p>
</td></tr>
<tr><td><code id="durationMapping_+3A_qtrans">qtrans</code></td>
<td>
<p>function, quantile transformation to be applied before mapping
For instance data can be &quot;normalized&quot; by using qnorm.</p>
</td></tr>
<tr><td><code id="durationMapping_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to qtrans.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of duration objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- durationMapping(x=rnorm(100))
</code></pre>

<hr>
<h2 id='getMeasures'>Get measures</h2><span id='topic+getMeasures'></span>

<h3>Description</h3>

<p>Create a series of measure objects from a series of notes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMeasures(notes, beats = 4, beatType = 4, mxlDivision = 96, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMeasures_+3A_notes">notes</code></td>
<td>
<p>list of notes (typically created by function getNotes).</p>
</td></tr>
<tr><td><code id="getMeasures_+3A_beats">beats</code></td>
<td>
<p>number of beats (defaut signature is 4/4).</p>
</td></tr>
<tr><td><code id="getMeasures_+3A_beattype">beatType</code></td>
<td>
<p>beat type (defaut signature is 4/4).</p>
</td></tr>
<tr><td><code id="getMeasures_+3A_mxldivision">mxlDivision</code></td>
<td>
<p>Positive integer, musicXML &quot;division&quot; defining the
time resolution, i.e. the shortest possible note.
It is expressed as a fraction of a quarter note.
The value of 96 allows allows using 64th notes and their triplet/dotted versions.</p>
</td></tr>
<tr><td><code id="getMeasures_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to function measure (typically, keySignature)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of measure objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- getMeasures(notes=getNotes(pitches=pitchMapping(x=rnorm(100))))
</code></pre>

<hr>
<h2 id='getNotes'>Get notes.</h2><span id='topic+getNotes'></span>

<h3>Description</h3>

<p>Create a series of note objects from lists of pitches / durations / loudnesses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNotes(
  pitches,
  durations = durationMapping(rep(0, length(pitches)), expMin = 4, expMax = 4),
  loudnesses = loudnessMapping(rep(0, length(pitches)), lMin = 89, lMax = 89)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getNotes_+3A_pitches">pitches</code></td>
<td>
<p>list of pitches (typically created by function pitchMapping)</p>
</td></tr>
<tr><td><code id="getNotes_+3A_durations">durations</code></td>
<td>
<p>list of durations (typically created by function durationMapping)</p>
</td></tr>
<tr><td><code id="getNotes_+3A_loudnesses">loudnesses</code></td>
<td>
<p>list of loudnesses (typically created by function loudnessMapping)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of note objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- getNotes(pitches=pitchMapping(x=rnorm(100)))
</code></pre>

<hr>
<h2 id='loudnessMapping'>Loudness Mapping.</h2><span id='topic+loudnessMapping'></span>

<h3>Description</h3>

<p>Map a series of values into a series of loudnesses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loudnessMapping(x, lMin = 18, lMax = 141, qtrans = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loudnessMapping_+3A_x">x</code></td>
<td>
<p>Vector or data frame, series to be mapped</p>
</td></tr>
<tr><td><code id="loudnessMapping_+3A_lmin">lMin</code></td>
<td>
<p>Integer, minimum loudness (default corresponds to ppp)</p>
</td></tr>
<tr><td><code id="loudnessMapping_+3A_lmax">lMax</code></td>
<td>
<p>Integer, maximum loudness (default corresponds to fff)</p>
</td></tr>
<tr><td><code id="loudnessMapping_+3A_qtrans">qtrans</code></td>
<td>
<p>function, quantile transformation to be applied before mapping
For instance data can be &quot;normalized&quot; by using qnorm.</p>
</td></tr>
<tr><td><code id="loudnessMapping_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to qtrans.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of numerics representing loudnesses.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>l &lt;- loudnessMapping(x=rnorm(100))
</code></pre>

<hr>
<h2 id='measure'>Measure constructor.</h2><span id='topic+measure'></span>

<h3>Description</h3>

<p>Creates a new instance of a 'measure' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>measure(
  number,
  notes,
  beats = 4,
  beatType = 4,
  keySignature = 0,
  mode = "major"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="measure_+3A_number">number</code></td>
<td>
<p>Integer (&gt;0), measure number.</p>
</td></tr>
<tr><td><code id="measure_+3A_notes">notes</code></td>
<td>
<p>List of 'note' objects. Sum of notes durations should be compatible
with the measure time signature</p>
</td></tr>
<tr><td><code id="measure_+3A_beats">beats</code></td>
<td>
<p>Integer (&gt;0), time signature is beats/beatType (default 4/4).</p>
</td></tr>
<tr><td><code id="measure_+3A_beattype">beatType</code></td>
<td>
<p>Integer (&gt;0), time signature is beats/beatType (default 4/4).</p>
</td></tr>
<tr><td><code id="measure_+3A_keysignature">keySignature</code></td>
<td>
<p>Integer, representing the number of flats (&lt;0) or sharps (&gt;0).</p>
</td></tr>
<tr><td><code id="measure_+3A_mode">mode</code></td>
<td>
<p>Character, mode. Can be one of  major, minor, dorian, phrygian, lydian,
mixolydian, aeolian, ionian, locrian, and none.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'measure'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>notes=list(note(p=pitch('Db5'),d=duration(2)),note(p=pitch('B5'),d=duration(2)))
m &lt;- measure(number=1,notes=notes)
</code></pre>

<hr>
<h2 id='MXLDurationToType'>MXL duration to (type-dot-triplet)</h2><span id='topic+MXLDurationToType'></span>

<h3>Description</h3>

<p>Convert a MusicXML duration into a (type-dot-triplet),
or a list of (type-dot-triplet) summing up to the requested duration.
The requested MusicXML duration may be trimmed if it cannot be expressed
as a multiple of the smallest available duration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MXLDurationToType(mxlDuration, mxlDivision = 96)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MXLDurationToType_+3A_mxlduration">mxlDuration</code></td>
<td>
<p>Positive integer, music XML &quot;duration&quot; expressed in
number of mxlDivision's.</p>
</td></tr>
<tr><td><code id="MXLDurationToType_+3A_mxldivision">mxlDivision</code></td>
<td>
<p>Positive integer, musicXML &quot;division&quot; defining the
time resolution, i.e. the shortest possible note.
It is expressed as a fraction of a quarter note.
The value of 96 allows allows using 64th notes and their triplet/dotted versions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following fields:
</p>

<ol>
<li><p> type, numeric vector of types
</p>
</li>
<li><p> dot, logical vector of dot flags
</p>
</li>
<li><p> triplet, logical vector of triplet flags
</p>
</li>
<li><p> exact, logical, FALSE if the requested duration had to be trimmed
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>MXLDurationToType(972)
</code></pre>

<hr>
<h2 id='note'>Note constructor.</h2><span id='topic+note'></span>

<h3>Description</h3>

<p>Creates a new instance of a 'note' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>note(p, d = duration(4), l = 89, tie2next = FALSE, tie2previous = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="note_+3A_p">p</code></td>
<td>
<p>Pitch object (step, alter, octave).</p>
</td></tr>
<tr><td><code id="note_+3A_d">d</code></td>
<td>
<p>Duration object (type, dot, triplet).</p>
</td></tr>
<tr><td><code id="note_+3A_l">l</code></td>
<td>
<p>Numeric (&gt;0), loudness expressed in percentage of a MIDI velocity of 90.
Effective range 0-141 (larger values are clipped).
37: pp, 54: p, 71: mp, 89: mf, 107: f, 124: ff</p>
</td></tr>
<tr><td><code id="note_+3A_tie2next">tie2next</code></td>
<td>
<p>Logical, is note tied with next note?.</p>
</td></tr>
<tr><td><code id="note_+3A_tie2previous">tie2previous</code></td>
<td>
<p>Logical, is note tied with previous note?.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'note'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- note(p=pitch('Db5'))
</code></pre>

<hr>
<h2 id='pitch'>Pitch constructor.</h2><span id='topic+pitch'></span>

<h3>Description</h3>

<p>Creates a new instance of a 'pitch' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pitch(string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pitch_+3A_string">string</code></td>
<td>
<p>character string comprising:
(i)   one letter in ABCDEFG (step)
(ii)  'b' (flat), '#' (sharp) or &rdquo; (no alteration)
(iii) one integer in 0:9 (octave).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'pitch'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- pitch('Db5')
</code></pre>

<hr>
<h2 id='pitchMapping'>Pitch Mapping.</h2><span id='topic+pitchMapping'></span>

<h3>Description</h3>

<p>Map a series of values into a series of pitches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pitchMapping(
  x,
  pitches = c("A4", "C5", "D5", "E5", "G5", "A5"),
  qtrans = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pitchMapping_+3A_x">x</code></td>
<td>
<p>Vector or data frame, series to be mapped</p>
</td></tr>
<tr><td><code id="pitchMapping_+3A_pitches">pitches</code></td>
<td>
<p>Vector of string, pitch scale (default: A minor pentatonic)</p>
</td></tr>
<tr><td><code id="pitchMapping_+3A_qtrans">qtrans</code></td>
<td>
<p>function, quantile transformation to be applied before mapping
For instance data can be &quot;normalized&quot; by using qnorm.</p>
</td></tr>
<tr><td><code id="pitchMapping_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to qtrans.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of pitch objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- pitchMapping(x=rnorm(100))
</code></pre>

<hr>
<h2 id='score'>Score constructor.</h2><span id='topic+score'></span>

<h3>Description</h3>

<p>Creates a new instance of a 'score' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>score(parts)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="score_+3A_parts">parts</code></td>
<td>
<p>List, either a list of measures for a single-part score
or a list of 'parts' (lists of mesures) for a multi-part score</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'score'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m1 &lt;- measure(number=1,notes=list(note(p=pitch('Db5'),d=duration(2)),
                                  note(p=pitch('B5'),d=duration(2))))
m2 &lt;- measure(number=2,notes=list(note(p=pitch('A5'),d=duration(2)),
                                  note(p=pitch('B5'),d=duration(2))))
s &lt;- score(list(m1,m2))
</code></pre>

<hr>
<h2 id='tieNotes'>Tie notes.</h2><span id='topic+tieNotes'></span>

<h3>Description</h3>

<p>Add ties to successive notes having the same pitch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tieNotes(notes)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tieNotes_+3A_notes">notes</code></td>
<td>
<p>list of notes (typically created by function getNotes)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of note objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- tieNotes(getNotes(pitches=pitchMapping(x=rnorm(100))))
</code></pre>

<hr>
<h2 id='toMXL'>Generic toMXL function</h2><span id='topic+toMXL'></span>

<h3>Description</h3>

<p>Generic toMXL function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toMXL(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toMXL_+3A_x">x</code></td>
<td>
<p>Object (note, measure or score)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MusicXML string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toMXL(note(p=pitch('C5'),d=duration(1),l=107))
</code></pre>

<hr>
<h2 id='toMXL.duration'>Duration to MXL (MusicXML)</h2><span id='topic+toMXL.duration'></span>

<h3>Description</h3>

<p>Convert an object of class 'duration' into the corresponding MusicXML chunk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'duration'
toMXL(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toMXL.duration_+3A_x">x</code></td>
<td>
<p>Duration to be converted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MXL string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toMXL(duration(8,dot=TRUE))
</code></pre>

<hr>
<h2 id='toMXL.measure'>Measure to MXL (MusicXML)</h2><span id='topic+toMXL.measure'></span>

<h3>Description</h3>

<p>Convert an object of class 'measure' into the corresponding MusicXML chunk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'measure'
toMXL(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toMXL.measure_+3A_x">x</code></td>
<td>
<p>measure to be converted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MusicXML string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>notes=list(note(p=pitch('Db5'),d=duration(2)),note(p=pitch('B5'),d=duration(2)))
m &lt;- measure(number=1,notes=notes)
toMXL(m)
</code></pre>

<hr>
<h2 id='toMXL.note'>Note to MXL (MusicXML)</h2><span id='topic+toMXL.note'></span>

<h3>Description</h3>

<p>Convert an object of class 'note' into the corresponding MusicXML chunk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'note'
toMXL(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toMXL.note_+3A_x">x</code></td>
<td>
<p>Note to be converted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MusicXML string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toMXL(note(p=pitch('Db5')))
</code></pre>

<hr>
<h2 id='toMXL.pitch'>Pitch to MXL (MusicXML)</h2><span id='topic+toMXL.pitch'></span>

<h3>Description</h3>

<p>Convert an object of class 'pitch' into the corresponding MusicXML chunk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pitch'
toMXL(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toMXL.pitch_+3A_x">x</code></td>
<td>
<p>Pitch to be converted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MusicXML string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toMXL(pitch('Db5'))
</code></pre>

<hr>
<h2 id='toMXL.score'>Score to MXL (MusicXML)</h2><span id='topic+toMXL.score'></span>

<h3>Description</h3>

<p>Convert an object of class 'score' into the corresponding MusicXML chunk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'score'
toMXL(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toMXL.score_+3A_x">x</code></td>
<td>
<p>score to be converted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MusicXML string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m1 &lt;- measure(number=1,notes=list(note(p=pitch('Db5'),d=duration(2)),
                                  note(p=pitch('B5'),d=duration(2))))
m2 &lt;- measure(number=2,notes=list(note(p=pitch('A5'),d=duration(2)),
                                  note(p=pitch('B5'),d=duration(2))))
s &lt;- score(list(m1,m2))
toMXL(s)
</code></pre>

<hr>
<h2 id='typeToMXLDuration'>(type-dot-triplet) to MXL duration</h2><span id='topic+typeToMXLDuration'></span>

<h3>Description</h3>

<p>Convert a (type-dot-triplet) into a MusicXML duration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>typeToMXLDuration(type, dot = FALSE, triplet = FALSE, mxlDivision = 96)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="typeToMXLDuration_+3A_type">type</code></td>
<td>
<p>Integer in 2^(0:6), note type (longest 1=whole, shortest 64=64th).
1 = whole, 2 = half, 4 = quarter, 8 = eighth, etc. down to 64 = 64th</p>
</td></tr>
<tr><td><code id="typeToMXLDuration_+3A_dot">dot</code></td>
<td>
<p>Logical, is note dotted?</p>
</td></tr>
<tr><td><code id="typeToMXLDuration_+3A_triplet">triplet</code></td>
<td>
<p>Logical, is note triplet? (play 3 for 2)</p>
</td></tr>
<tr><td><code id="typeToMXLDuration_+3A_mxldivision">mxlDivision</code></td>
<td>
<p>Positive integer, musicXML &quot;division&quot; defining the
time resolution, i.e. the shortest possible note.
It is expressed as a fraction of a quarter note.
The value of 96 allows allows using 64th notes and their triplet/dotted versions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer representing the mxl duration expressed in number of mxlDivision
</p>


<h3>Examples</h3>

<pre><code class='language-R'>typeToMXLDuration(type=8,dot=TRUE)
</code></pre>

<hr>
<h2 id='WaggaWagga'>Wagga-Wagga dataset</h2><span id='topic+WaggaWagga'></span>

<h3>Description</h3>

<p>Times series of monthly temperatures and precipitations
recorded at Wagga-Wagga, New South Wales, Australia, 1940-2018
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WaggaWagga
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 79 rows and 3 columns.
</p>


<h3>Source</h3>

<p>http://www.bom.gov.au/cgi-bin/climate/hqsites/site_data.cgi?period=annual&amp;variable=meanT&amp;station=072150
</p>
<p>http://www.bom.gov.au/cgi-bin/climate/hqsites/site_data.cgi?period=annual&amp;variable=rain&amp;station=072150
</p>

<hr>
<h2 id='writeMXL'>writeMXL function</h2><span id='topic+writeMXL'></span>

<h3>Description</h3>

<p>Write a score to a musicXML-formatted file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeMXL(s, file, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="writeMXL_+3A_s">s</code></td>
<td>
<p>Score, score object to be written</p>
</td></tr>
<tr><td><code id="writeMXL_+3A_file">file</code></td>
<td>
<p>Character, destination file</p>
</td></tr>
<tr><td><code id="writeMXL_+3A_...">...</code></td>
<td>
<p>additional arguments passed to method xml2::write_xml</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- getMeasures(notes=getNotes(pitches=pitchMapping(x=rnorm(100))))
s &lt;- score(m)
tfile= file.path(tempdir(),'myMusicXML.xml')
writeMXL(s,tfile)
file.remove(tfile)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

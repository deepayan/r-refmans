<!DOCTYPE html><html><head><title>Help for package gh</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gh}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gh'><p>Query the GitHub API</p></a></li>
<li><a href='#gh_gql'><p>A simple interface for the GitHub GraphQL API v4.</p></a></li>
<li><a href='#gh_next'><p>Get the next, previous, first or last page of results</p></a></li>
<li><a href='#gh_rate_limit'><p>Return GitHub user's current rate limits</p></a></li>
<li><a href='#gh_token'><p>Return the local user's GitHub Personal Access Token (PAT)</p></a></li>
<li><a href='#gh_tree_remote'><p>Find the GitHub remote associated with a path</p></a></li>
<li><a href='#gh_whoami'><p>Info on current GitHub user and token</p></a></li>
<li><a href='#gh-package'><p>gh: 'GitHub' 'API'</p></a></li>
<li><a href='#print.gh_response'><p>Print the result of a GitHub API call</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>'GitHub' 'API'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Minimal client to access the 'GitHub' 'API'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gh.r-lib.org/">https://gh.r-lib.org/</a>, <a href="https://github.com/r-lib/gh#readme">https://github.com/r-lib/gh#readme</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/gh/issues">https://github.com/r-lib/gh/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.0.1), gitcreds, glue, httr2, ini, jsonlite,
lifecycle, rlang (&ge; 1.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, mockery, rmarkdown, rprojroot, spelling,
testthat (&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1.9000</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-28 12:17:15 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>Gábor Csárdi [cre, ctb],
  Jennifer Bryan [aut],
  Hadley Wickham [aut],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gábor Csárdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-28 16:40:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='gh'>Query the GitHub API</h2><span id='topic+gh'></span>

<h3>Description</h3>

<p>This is an extremely minimal client. You need to know the API
to be able to use this client. All this function does is:
</p>

<ul>
<li><p> Try to substitute each listed parameter into <code>endpoint</code>, using the
<code>{parameter}</code> notation.
</p>
</li>
<li><p> If a GET request (the default), then add all other listed parameters
as query parameters.
</p>
</li>
<li><p> If not a GET request, then send the other parameters in the request
body, as JSON.
</p>
</li>
<li><p> Convert the response to an R list using <code><a href="jsonlite.html#topic+fromJSON">jsonlite::fromJSON()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>gh(
  endpoint,
  ...,
  per_page = NULL,
  .per_page = NULL,
  .token = NULL,
  .destfile = NULL,
  .overwrite = FALSE,
  .api_url = NULL,
  .method = "GET",
  .limit = NULL,
  .accept = "application/vnd.github.v3+json",
  .send_headers = NULL,
  .progress = TRUE,
  .params = list(),
  .max_wait = 600,
  .max_rate = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_+3A_endpoint">endpoint</code></td>
<td>
<p>GitHub API endpoint. Must be one of the following forms:
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;METHOD path&#8288;</code>, e.g. <code>GET /rate_limit</code>,
</p>
</li>
<li> <p><code>path</code>, e.g. <code style="white-space: pre;">&#8288;/rate_limit&#8288;</code>,
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;METHOD url&#8288;</code>, e.g. <code style="white-space: pre;">&#8288;GET https://api.github.com/rate_limit&#8288;</code>,
</p>
</li>
<li> <p><code>url</code>, e.g. <code style="white-space: pre;">&#8288;https://api.github.com/rate_limit&#8288;</code>.
</p>
</li></ul>

<p>If the method is not supplied, will use <code>.method</code>, which defaults
to <code>"GET"</code>.</p>
</td></tr>
<tr><td><code id="gh_+3A_...">...</code></td>
<td>
<p>Name-value pairs giving API parameters. Will be matched into
<code>endpoint</code> placeholders, sent as query parameters in GET requests, and as a
JSON body of POST requests. If there is only one unnamed parameter, and it
is a raw vector, then it will not be JSON encoded, but sent as raw data, as
is. This can be used for example to add assets to releases. Named <code>NULL</code>
values are silently dropped. For GET requests, named <code>NA</code> values trigger an
error. For other methods, named <code>NA</code> values are included in the body of the
request, as JSON <code>null</code>.</p>
</td></tr>
<tr><td><code id="gh_+3A_per_page">per_page</code>, <code id="gh_+3A_.per_page">.per_page</code></td>
<td>
<p>Number of items to return per page. If omitted,
will be substituted by <code>max(.limit, 100)</code> if <code>.limit</code> is set,
otherwise determined by the API (never greater than 100).</p>
</td></tr>
<tr><td><code id="gh_+3A_.token">.token</code></td>
<td>
<p>Authentication token. Defaults to <code>GITHUB_PAT</code> or
<code>GITHUB_TOKEN</code> environment variables, in this order if any is set.
See <code><a href="#topic+gh_token">gh_token()</a></code> if you need more flexibility, e.g. different tokens
for different GitHub Enterprise deployments.</p>
</td></tr>
<tr><td><code id="gh_+3A_.destfile">.destfile</code></td>
<td>
<p>Path to write response to disk. If <code>NULL</code> (default),
response will be processed and returned as an object. If path is given,
response will be written to disk in the form sent. gh writes the
response to a temporary file, and renames that file to <code>.destfile</code>
after the request was successful. The name of the temporary file is
created by adding a <code style="white-space: pre;">&#8288;-&lt;random&gt;.gh-tmp&#8288;</code> suffix to it, where <code style="white-space: pre;">&#8288;&lt;random&gt;&#8288;</code>
is an ASCII string with random characters. gh removes the temporary
file on error.</p>
</td></tr>
<tr><td><code id="gh_+3A_.overwrite">.overwrite</code></td>
<td>
<p>If <code>.destfile</code> is provided, whether to overwrite an
existing file.  Defaults to <code>FALSE</code>. If an error happens the original
file is kept.</p>
</td></tr>
<tr><td><code id="gh_+3A_.api_url">.api_url</code></td>
<td>
<p>Github API url (default: <a href="https://api.github.com">https://api.github.com</a>). Used
if <code>endpoint</code> just contains a path. Defaults to <code>GITHUB_API_URL</code>
environment variable if set.</p>
</td></tr>
<tr><td><code id="gh_+3A_.method">.method</code></td>
<td>
<p>HTTP method to use if not explicitly supplied in the
<code>endpoint</code>.</p>
</td></tr>
<tr><td><code id="gh_+3A_.limit">.limit</code></td>
<td>
<p>Number of records to return. This can be used
instead of manual pagination. By default it is <code>NULL</code>,
which means that the defaults of the GitHub API are used.
You can set it to a number to request more (or less)
records, and also to <code>Inf</code> to request all records.
Note, that if you request many records, then multiple GitHub
API calls are used to get them, and this can take a potentially
long time.</p>
</td></tr>
<tr><td><code id="gh_+3A_.accept">.accept</code></td>
<td>
<p>The value of the <code>Accept</code> HTTP header. Defaults to
<code>"application/vnd.github.v3+json"</code> . If <code>Accept</code> is given in
<code>.send_headers</code>, then that will be used. This parameter can be used to
provide a custom media type, in order to access a preview feature of
the API.</p>
</td></tr>
<tr><td><code id="gh_+3A_.send_headers">.send_headers</code></td>
<td>
<p>Named character vector of header field values
(except <code>Authorization</code>, which is handled via <code>.token</code>). This can be
used to override or augment the default <code>User-Agent</code> header:
<code>"https://github.com/r-lib/gh"</code>.</p>
</td></tr>
<tr><td><code id="gh_+3A_.progress">.progress</code></td>
<td>
<p>Whether to show a progress indicator for calls that
need more than one HTTP request.</p>
</td></tr>
<tr><td><code id="gh_+3A_.params">.params</code></td>
<td>
<p>Additional list of parameters to append to <code>...</code>.
It is easier to use this than <code>...</code> if you have your parameters in
a list already.</p>
</td></tr>
<tr><td><code id="gh_+3A_.max_wait">.max_wait</code></td>
<td>
<p>Maximum number of seconds to wait if rate limited.
Defaults to 10 minutes.</p>
</td></tr>
<tr><td><code id="gh_+3A_.max_rate">.max_rate</code></td>
<td>
<p>Maximum request rate in requests per second. Set
this to automatically throttle requests.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Answer from the API as a <code>gh_response</code> object, which is also a
<code>list</code>. Failed requests will generate an R error. Requests that
generate a raw response will return a raw vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gh_gql">gh_gql()</a></code> if you want to use the GitHub GraphQL API,
<code><a href="#topic+gh_whoami">gh_whoami()</a></code> for details on GitHub API token management.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Repositories of a user, these are equivalent
gh("/users/hadley/repos", .limit = 2)
gh("/users/{username}/repos", username = "hadley", .limit = 2)

## Starred repositories of a user
gh("/users/hadley/starred", .limit = 2)
gh("/users/{username}/starred", username = "hadley", .limit = 2)


## Create a repository, needs a token in GITHUB_PAT (or GITHUB_TOKEN)
## environment variable
gh("POST /user/repos", name = "foobar")


## Issues of a repository
gh("/repos/hadley/dplyr/issues")
gh("/repos/{owner}/{repo}/issues", owner = "hadley", repo = "dplyr")

## Automatic pagination
users &lt;- gh("/users", .limit = 50)
length(users)


## Access developer preview of Licenses API (in preview as of 2015-09-24)
gh("/licenses") # used to error code 415
gh("/licenses", .accept = "application/vnd.github.drax-preview+json")


## Access Github Enterprise API
## Use GITHUB_API_URL environment variable to change the default.
gh("/user/repos", type = "public", .api_url = "https://github.foobar.edu/api/v3")


## Use I() to force body part to be sent as an array, even if length 1
## This works whether assignees has length 1 or &gt; 1
assignees &lt;- "gh_user"
assignees &lt;- c("gh_user1", "gh_user2")
gh("PATCH /repos/OWNER/REPO/issues/1", assignees = I(assignees))


## There are two ways to send JSON data. One is that you supply one or
## more objects that will be converted to JSON automatically via
## jsonlite::toJSON(). In this case sometimes you need to use
## jsonlite::unbox() because fromJSON() creates lists from scalar vectors
## by default. The Content-Type header is automatically added in this
## case. For example this request turns on GitHub Pages, using this
## API: https://docs.github.com/v3/repos/pages/#enable-a-pages-site

gh::gh(
  "POST /repos/{owner}/{repo}/pages",
  owner = "r-lib",
  repo = "gh",
  source = list(
    branch = jsonlite::unbox("gh-pages"),
    path = jsonlite::unbox("/")
  ),
  .send_headers = c(Accept = "application/vnd.github.switcheroo-preview+json")
)

## The second way is to handle the JSON encoding manually, and supply it
## as a raw vector in an unnamed argument, and also a Content-Type header:

body &lt;- '{ "source": { "branch": "gh-pages", "path": "/" } }'
gh::gh(
  "POST /repos/{owner}/{repo}/pages",
  owner = "r-lib",
  repo = "gh",
  charToRaw(body),
  .send_headers = c(
    Accept = "application/vnd.github.switcheroo-preview+json",
    "Content-Type" = "application/json"
  )
)


## Pass along a query to the search/code endpoint via the ... argument
x &lt;- gh::gh(
            "/search/code",
            q = "installation repo:r-lib/gh",
            .send_headers = c("X-GitHub-Api-Version" = "2022-11-28")
            )
 str(x, list.len = 3, give.attr = FALSE)


</code></pre>

<hr>
<h2 id='gh_gql'>A simple interface for the GitHub GraphQL API v4.</h2><span id='topic+gh_gql'></span>

<h3>Description</h3>

<p>See more about the GraphQL API here:
<a href="https://docs.github.com/graphql">https://docs.github.com/graphql</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_gql(query, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_gql_+3A_query">query</code></td>
<td>
<p>The GraphQL query, as a string.</p>
</td></tr>
<tr><td><code id="gh_gql_+3A_...">...</code></td>
<td>
<p>Name-value pairs giving API parameters. Will be matched into
<code>endpoint</code> placeholders, sent as query parameters in GET requests, and as a
JSON body of POST requests. If there is only one unnamed parameter, and it
is a raw vector, then it will not be JSON encoded, but sent as raw data, as
is. This can be used for example to add assets to releases. Named <code>NULL</code>
values are silently dropped. For GET requests, named <code>NA</code> values trigger an
error. For other methods, named <code>NA</code> values are included in the body of the
request, as JSON <code>null</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: pagination and the <code>.limit</code> argument does not work currently,
as pagination in the GraphQL API is different from the v3 API.
If you need pagination with GraphQL, you'll need to do that manually.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gh">gh()</a></code> for the GitHub v3 API.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gh_gql("query { viewer { login }}")

# Get rate limit
ratelimit_query &lt;- "query {
  viewer {
    login
  }
  rateLimit {
    limit
    cost
    remaining
    resetAt
  }
}"

gh_gql(ratelimit_query)

</code></pre>

<hr>
<h2 id='gh_next'>Get the next, previous, first or last page of results</h2><span id='topic+gh_next'></span><span id='topic+gh_prev'></span><span id='topic+gh_first'></span><span id='topic+gh_last'></span>

<h3>Description</h3>

<p>Get the next, previous, first or last page of results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_next(gh_response)

gh_prev(gh_response)

gh_first(gh_response)

gh_last(gh_response)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_next_+3A_gh_response">gh_response</code></td>
<td>
<p>An object returned by a <code><a href="#topic+gh">gh()</a></code> call.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that these are not always defined. E.g. if the first
page was queried (the default), then there are no first and previous
pages defined. If there is no next page, then there is no
next page defined, etc.
</p>
<p>If the requested page does not exist, an error is thrown.
</p>


<h3>Value</h3>

<p>Answer from the API.
</p>


<h3>See Also</h3>

<p>The <code>.limit</code> argument to <code><a href="#topic+gh">gh()</a></code> supports fetching more than
one page.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- gh("/users")
vapply(x, "[[", character(1), "login")
x2 &lt;- gh_next(x)
vapply(x2, "[[", character(1), "login")

</code></pre>

<hr>
<h2 id='gh_rate_limit'>Return GitHub user's current rate limits</h2><span id='topic+gh_rate_limit'></span><span id='topic+gh_rate_limits'></span>

<h3>Description</h3>

<p><code>gh_rate_limits()</code> reports on all rate limits for the authenticated user.
<code>gh_rate_limit()</code> reports on rate limits for previous successful request.
</p>
<p>Further details on GitHub's API rate limit policies are available at
<a href="https://docs.github.com/v3/#rate-limiting">https://docs.github.com/v3/#rate-limiting</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_rate_limit(
  response = NULL,
  .token = NULL,
  .api_url = NULL,
  .send_headers = NULL
)

gh_rate_limits(.token = NULL, .api_url = NULL, .send_headers = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_rate_limit_+3A_response">response</code></td>
<td>
<p><code>gh_response</code> object from a previous <code>gh</code> call, rate
limit values are determined from values in the response header.
Optional argument, if missing a call to &quot;GET /rate_limit&quot; will be made.</p>
</td></tr>
<tr><td><code id="gh_rate_limit_+3A_.token">.token</code></td>
<td>
<p>Authentication token. Defaults to <code>GITHUB_PAT</code> or
<code>GITHUB_TOKEN</code> environment variables, in this order if any is set.
See <code><a href="#topic+gh_token">gh_token()</a></code> if you need more flexibility, e.g. different tokens
for different GitHub Enterprise deployments.</p>
</td></tr>
<tr><td><code id="gh_rate_limit_+3A_.api_url">.api_url</code></td>
<td>
<p>Github API url (default: <a href="https://api.github.com">https://api.github.com</a>). Used
if <code>endpoint</code> just contains a path. Defaults to <code>GITHUB_API_URL</code>
environment variable if set.</p>
</td></tr>
<tr><td><code id="gh_rate_limit_+3A_.send_headers">.send_headers</code></td>
<td>
<p>Named character vector of header field values
(except <code>Authorization</code>, which is handled via <code>.token</code>). This can be
used to override or augment the default <code>User-Agent</code> header:
<code>"https://github.com/r-lib/gh"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> object containing the overall <code>limit</code>, <code>remaining</code> limit, and the
limit <code>reset</code> time.
</p>

<hr>
<h2 id='gh_token'>Return the local user's GitHub Personal Access Token (PAT)</h2><span id='topic+gh_token'></span>

<h3>Description</h3>

<p>If gh can find a personal access token (PAT) via <code>gh_token()</code>, it includes
the PAT in its requests. Some requests succeed without a PAT, but many
require a PAT to prove the request is authorized by a specific GitHub user. A
PAT also helps with rate limiting. If your gh use is more than casual, you
want a PAT.
</p>
<p>gh calls <code><a href="gitcreds.html#topic+gitcreds_get">gitcreds::gitcreds_get()</a></code> with the <code>api_url</code>, which checks session
environment variables and then the local Git credential store for a PAT
appropriate to the <code>api_url</code>. Therefore, if you have previously used a PAT
with, e.g., command line Git, gh may retrieve and re-use it. You can call
<code><a href="gitcreds.html#topic+gitcreds_get">gitcreds::gitcreds_get()</a></code> directly, yourself, if you want to see what is
found for a specific URL. If no matching PAT is found,
<code><a href="gitcreds.html#topic+gitcreds_get">gitcreds::gitcreds_get()</a></code> errors, whereas <code>gh_token()</code> does not and,
instead, returns <code>""</code>.
</p>
<p>See GitHub's documentation on <a href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token">Creating a personal access token</a>,
or use <code>usethis::create_github_token()</code> for a guided experience, including
pre-selection of recommended scopes. Once you have a PAT, you can use
<code><a href="gitcreds.html#topic+gitcreds_get">gitcreds::gitcreds_set()</a></code> to add it to the Git credential store. From that
point on, gh (via <code><a href="gitcreds.html#topic+gitcreds_get">gitcreds::gitcreds_get()</a></code>) should be able to find it
without further effort on your part.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_token(api_url = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_token_+3A_api_url">api_url</code></td>
<td>
<p>GitHub API URL. Defaults to the <code>GITHUB_API_URL</code> environment
variable, if set, and otherwise to <a href="https://api.github.com">https://api.github.com</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of characters, if a PAT is found, or the empty
string, otherwise. For convenience, the return value has an S3 class in
order to ensure that simple printing strategies don't reveal the entire
PAT.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
gh_token()

format(gh_token())

str(gh_token())

## End(Not run)
</code></pre>

<hr>
<h2 id='gh_tree_remote'>Find the GitHub remote associated with a path</h2><span id='topic+gh_tree_remote'></span>

<h3>Description</h3>

<p>This is handy helper if you want to make gh requests related to the
current project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_tree_remote(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_tree_remote_+3A_path">path</code></td>
<td>
<p>Path that is contained within a git repo.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the repo has a github remote, a list containing <code>username</code>
and <code>repo</code>. Otherwise, an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gh_tree_remote()

</code></pre>

<hr>
<h2 id='gh_whoami'>Info on current GitHub user and token</h2><span id='topic+gh_whoami'></span>

<h3>Description</h3>

<p>Reports wallet name, GitHub login, and GitHub URL for the current
authenticated user, the first bit of the token, and the associated scopes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_whoami(.token = NULL, .api_url = NULL, .send_headers = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_whoami_+3A_.token">.token</code></td>
<td>
<p>Authentication token. Defaults to <code>GITHUB_PAT</code> or
<code>GITHUB_TOKEN</code> environment variables, in this order if any is set.
See <code><a href="#topic+gh_token">gh_token()</a></code> if you need more flexibility, e.g. different tokens
for different GitHub Enterprise deployments.</p>
</td></tr>
<tr><td><code id="gh_whoami_+3A_.api_url">.api_url</code></td>
<td>
<p>Github API url (default: <a href="https://api.github.com">https://api.github.com</a>). Used
if <code>endpoint</code> just contains a path. Defaults to <code>GITHUB_API_URL</code>
environment variable if set.</p>
</td></tr>
<tr><td><code id="gh_whoami_+3A_.send_headers">.send_headers</code></td>
<td>
<p>Named character vector of header field values
(except <code>Authorization</code>, which is handled via <code>.token</code>). This can be
used to override or augment the default <code>User-Agent</code> header:
<code>"https://github.com/r-lib/gh"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Get a personal access token for the GitHub API from
<a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a> and select the scopes necessary for your
planned tasks. The <code>repo</code> scope, for example, is one many are likely to need.
</p>
<p>On macOS and Windows it is best to store the token in the git credential
store, where most GitHub clients, including gh, can access it. You can
use the gitcreds package to add your token to the credential store:
</p>
<div class="sourceCode r"><pre>gitcreds::gitcreds_set()
</pre></div>
<p>See <a href="https://gh.r-lib.org/articles/managing-personal-access-tokens.html">https://gh.r-lib.org/articles/managing-personal-access-tokens.html</a>
and <a href="https://usethis.r-lib.org/articles/articles/git-credentials.html">https://usethis.r-lib.org/articles/articles/git-credentials.html</a>
for more about managing GitHub (and generic git) credentials.
</p>
<p>On other systems, including Linux, the git credential store is
typically not as convenient, and you might want to store your token in
the <code>GITHUB_PAT</code> environment variable, which you can set in your
<code>.Renviron</code> file.
</p>


<h3>Value</h3>

<p>A <code>gh_response</code> object, which is also a <code>list</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gh_whoami()


## explicit token + use with GitHub Enterprise
gh_whoami(
  .token = "8c70fd8419398999c9ac5bacf3192882193cadf2",
  .api_url = "https://github.foobar.edu/api/v3"
)

</code></pre>

<hr>
<h2 id='gh-package'>gh: 'GitHub' 'API'</h2><span id='topic+gh-package'></span>

<h3>Description</h3>

<p>Minimal client to access the 'GitHub' 'API'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gábor Csárdi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a> [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Jennifer Bryan
</p>
</li>
<li><p> Hadley Wickham
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gh.r-lib.org/">https://gh.r-lib.org/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/gh#readme">https://github.com/r-lib/gh#readme</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/gh/issues">https://github.com/r-lib/gh/issues</a>
</p>
</li></ul>


<hr>
<h2 id='print.gh_response'>Print the result of a GitHub API call</h2><span id='topic+print.gh_response'></span>

<h3>Description</h3>

<p>Print the result of a GitHub API call
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gh_response'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.gh_response_+3A_x">x</code></td>
<td>
<p>The result object.</p>
</td></tr>
<tr><td><code id="print.gh_response_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The JSON result.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

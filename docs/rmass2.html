<!DOCTYPE html><html lang="en"><head><title>Help for package rmass2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rmass2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rmass2'><p>Repeated Measures with Attrition: Sample Sizes for 2 Groups</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Repeated Measures with Attrition: Sample Sizes and Power Levels
for 2 Groups</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.0.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>stats (&ge; 3.6.2)</td>
</tr>
<tr>
<td>Description:</td>
<td>For the calculation of sample size or power in a two-group repeated measures design, accounting for attrition and accommodating a variety of correlation structures for the repeated measures; details of the method can be found in the scientific paper: Donald Hedeker, Robert D. Gibbons, Christine Waternaux (1999) &lt;<a href="https://doi.org/10.3102%2F10769986024001070">doi:10.3102/10769986024001070</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), utils (&ge; 4.3.1)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-19 19:34:31 UTC; Soumya Sahu</td>
</tr>
<tr>
<td>Author:</td>
<td>Yiheng Wei <a href="https://orcid.org/0009-0007-2211-8850"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Soumya Sahu [aut, cre],
  Donald Hedeker [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Soumya Sahu &lt;ssahu6@uic.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-20 01:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rmass2'>Repeated Measures with Attrition: Sample Sizes for 2 Groups</h2><span id='topic+rmass2'></span>

<h3>Description</h3>

<p>RMASS2 calculates the sample size or power for a two-group repeated measures design.
It allows for attrition and a variety of correlation structures for the repeated measures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmass2(mode = 1, n = 2, N11 = NULL, alpha = 0.05,
nside = 2, power = NULL, ratio = 1,
attrit = 0, estype = 0, es = 0.5,
ctype = 1, corr = 0.5, sigma = rep(1, n))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmass2_+3A_mode">mode</code></td>
<td>
<p>an integer indicating mode of use.
If mode = 1, one must provide the power level and the sample size is estimated.
if mode = 2, one must provide the sample size and the power level is estimated.
(default=1)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_n">n</code></td>
<td>
<p>an integer giving the number of timepoints (default=2)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_n11">N11</code></td>
<td>
<p>the number of subjects in group 1 at the first timepoint.
If mode = 1, N11 is not necessary and any value entered for N11 will not be used to calculate the sample size.
If the mode = 2, N11 is required to estimate the power level.
(default=100)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_alpha">alpha</code></td>
<td>
<p>an optional numerical value giving the alpha level for statistical test. Should be a numeric value between 0 and 1. (default=0.05)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_nside">nside</code></td>
<td>
<p>an optional integer indicating 1- or 2-sided test. Should be 1 or 2. (default=2)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_power">power</code></td>
<td>
<p>an optional numerical value giving the level of power. Should be a numeric value between 0 and 1.
If mode = 1, power is required to estimate the sample size.
If mode = 2, power is not necessary and any value entered for power will not be used to calculate the power level.
(default=0.9)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_ratio">ratio</code></td>
<td>
<p>an optional numerical value giving the ratio of sample sizes of group 1 to group 2. (default=1)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_attrit">attrit</code></td>
<td>
<p>an optional vector giving the attrition rates between each timepoint. If 0 is entered, no attrition is assumed. (default=0)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_estype">estype</code></td>
<td>
<p>an optional value indicating the type of expected group differences over time. Three types are possible: 0=constant, 1=linear trend, 2=user defined. (default=0)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_es">es</code></td>
<td>
<p>an optional numerical value or vector giving the effect size (mean difference divided by a common standard deviation) of expected group difference(s).
If estype=0, the value of the expected constant group effect size is given.
If estype=1, the value of the expected group effect size at the last timepoint is given.  The program assumes a 0 effect size at the first timepoint that changes linearly to the effect size at the last timepoint.
If estype=2, a vector of the expected group effect size at each of the n timepoints is given.
(default=0.5)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_ctype">ctype</code></td>
<td>
<p>an integer indicating the correlation structure of the repeated measures. Can only take values of 1, 2, or 3 (1 = all correlations equal; 2 = AR1 structure; 3 = toeplitz or banded correlation matrix). (default=1)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_corr">corr</code></td>
<td>
<p>a numerical value or vector giving the values of correlations for different correlation structures.
If ctype = 1, a numerical value of the assumed equal value of all pairwise correlations is given.
If ctype = 2, a numerical value of first-lag correlation is given.
If ctype = 3, a vector of n-1 lag correlations is given.
(default=0.5)</p>
</td></tr>
<tr><td><code id="rmass2_+3A_sigma">sigma</code></td>
<td>
<p>an optional vector of size n giving the variance for each timepoint.
(default: sigma=1 at all timepoints)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This package utilizes a longitudinal design that accommodates subject attrition, enabling the estimation of sample sizes based on specified levels of statistical power for significance tests.
Conversely, it can also estimate the power levels for significance tests based on different sample sizes set by the user.
The package allows for the modification of attrition rates, expected group differences over time, effect sizes, and covariance structure, which influence the estimated sample sizes and power levels.
For more details on estimation formulas used, please refer to Hedeker, Gibbons, &amp; Waternaux (1999).
</p>


<h3>Value</h3>

<p><strong>When mode = 1 (estimate the sample size), the following information will be printed row by row:</strong>
</p>
<p>1.Correlation matrix of the repeated outcome across time, determined by the type of correlation structure (ctype) and values of correlations (corr).
</p>
<p>2.Number of timepoints, alpha level, power levels (without attrition and with attrition), sample size ratio, input by the function's arguments.
</p>
<p>3.Retention rates across time, calculated by the input attrition rate (attrit).
</p>
<p>4.Effect sizes across time, determined by the type of expected group differences over time (estype) and values of effect sizes for each timepoint (es).
</p>
<p>5.Standard deviations for each timepoint (sigma).
</p>
<p>6.Time-related contrasts for statistical tests across time, based on the effect size. If the type of effect size is constant (estype = 0), the contrasts across time will be set as a constant unit vector. If the type of effect size is linear (estype = 1), the contrasts across time will be set as a linear unit vector. If the type of effect size is user-defined (estype = 2), the contrasts will be set as 1 for all the timepoints.
</p>
<p>7.Mean differences across time, determined by the effect size and standard deviation.  If the standard deviations vary across time, these mean differences incorporate this heterogeneity.
</p>
<p>8.Calculated composite mean difference and composite variances (without attrition and with attrition).
</p>
<p>9.Estimated sample sizes (without attrition and with attrition) for two groups.
</p>
<p><strong>When mode = 2 (estimate the level of power), the following information will be printed row by row:</strong>
</p>
<p>1.Correlation matrix of each subject across time, determined by the type of correlation structure (ctype) and values of correlations (corr).
</p>
<p>2.Number of timepoints, alpha level, sample size ratio, input by the function's arguments.
</p>
<p>3.Estimated power levels (without attrition and with attrition)
</p>
<p>4.Retention rates across time, calculated by the input attrition rate (attrit).
</p>
<p>5.Effect sizes across time, determined by the type of expected group differences over time (estype) and values of effect sizes for each timepoint (es).
</p>
<p>6.Standard deviations for each timepoint (sigma).
</p>
<p>7.Time-related contrasts for statistical tests across time, based on the effect size. If the type of effect size is constant (estype = 0), the contrasts across time will be set as a constant unit vector. If the type of effect size is linear (estype = 1), the contrasts across time will be set as a linear unit vector. If the type of effect size is user-defined (estype = 2), the contrasts will be set as 1 for all the timepoints.
</p>
<p>8.Mean differences across time, determined by the effect size and standard deviation.  If the standard deviations vary across time, these mean differences incorporate this heterogeneity.
</p>
<p>9.Calculated composite mean difference and composite variances (without attrition and with attrition).
</p>
<p>10.Sample sizes (without attrition and with attrition) for two groups, determined by the number of subjects in group 1 at the first timepoint (N11), the ratio of sample sizes of group 1 to group 2 (ratio), and the attrition rates between each timepoint (attrit).
</p>
<p>rmass2 can also return a list which allows users to extract some arguments. This list contains the following components:
</p>

<dl>
<dt><code>corr.matrix</code></dt><dd><p>the correlation matrix of the repeated outcome across time</p>
</dd>
<dt><code>power</code></dt><dd><p>a dataframe of the inputted power level (mode = 1); a dataframe of the estimated power level without attrition and the estimated power level with attrition (mode = 2)</p>
</dd>
<dt><code>retention.rate</code></dt><dd><p>a vector of the retention rates across time</p>
</dd>
<dt><code>effect.size</code></dt><dd><p>a vector of the effect sizes across time</p>
</dd>
<dt><code>stand.dev</code></dt><dd><p>a vector of the standard deviations across time</p>
</dd>
<dt><code>contrast</code></dt><dd><p>a vector of the contrasts across time</p>
</dd>
<dt><code>mean.diff</code></dt><dd><p>a vector of the mean differences across time</p>
</dd>
<dt><code>composite.mean.diff</code></dt><dd><p>a value of the composite mean difference</p>
</dd>
<dt><code>composite.var</code></dt><dd><p>a dataframe of the composite variance without attrition and the composite variance with attrition</p>
</dd>
<dt><code>composite.effect.size</code></dt><dd><p>a dataframe of the composite effect size without attrition and the composite effect size with attrition</p>
</dd>
<dt><code>N11</code></dt><dd><p>a dataframe of the estimated sample size for group 1 at the first timepoint without attrition and the estimated sample size for group 1 at the first timepoint with attrition (mode = 1); a dataframe of the calculated sample size for group 1 at the first timepoint without attrition and the calculated sample size for group 1 at the first timepoint with attrition (mode = 2)</p>
</dd>
<dt><code>sample.size.group1</code></dt><dd><p>a dataframe of the estimated sample sizes for group 1 without attrition and the estimated sample sizes for group 1 with attrition (mode = 1); a dataframe of the calculated sample size for group 1 without attrition and the calculated sample size for group 1 with attrition (mode = 2)</p>
</dd>
<dt><code>sample.size.group2</code></dt><dd><p>a dataframe of the estimated sample sizes for group 2 without attrition and the estimated sample sizes for group 2 with attrition (mode = 1); a dataframe of the calculated sample size for group 1 without attrition and the calculated sample size for group 1 with attrition (mode = 2)</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>This R implementation of RMASS2 was written by Yiheng Wei and Soumya Sahu. The design was based on the FORTRAN program by Donald Hedeker with the same name.
</p>


<h3>References</h3>

<p>Hedeker, Gibbons, &amp; Waternaux (1999). Sample size estimation for longitudinal designs with attrition. Journal of Educational and Behavioral Statistics, 24:70-93
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Estimate the sample size for four timepoints.
#Use the default values for other variables.
#Extract the estimated sample sizes for the first group at the first timepoint.
output &lt;- rmass2(n = 4)
output$N11
#Estimate the sample size for two timepoints.
#Set the level of power as 0.8.
#Set the attrition rate between the 1st timepoint and the 2nd timepoint as 0.2.
#Set the correlation between the 1st timepoint and the 2nd timepoint as 0.6.
#Use the default values for other variables.
rmass2(power = 0.8, attrit = c(0.2), corr = 0.6)
#Estimate the power level with a sample size of 60 subjects in group 1 at the 1st timepoint.
#Set the attrition rate between the 1st timepoint and the 2nd timepoint as 0.2.
#Use the default values for other variables.
rmass2(mode = 2, N = 60, attrit = c(0.2))


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package vctsfr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {vctsfr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_time_series_collection'><p>Check that a collection of time series is properly formatted</p></a></li>
<li><a href='#GUI_collection'><p>Launches the web-based GUI for visualizing time series</p></a></li>
<li><a href='#pi_info'><p>Create a prediction interval object</p></a></li>
<li><a href='#plot_collection'><p>Create a <code>ggplot</code> object associated with a time series belonging to a</p>
collection.</a></li>
<li><a href='#plot_predictions'><p>Creates a ggplot object with a time series and some forecasts</p></a></li>
<li><a href='#plot_ts'><p>Create a ggplot object with a time series and forecast</p></a></li>
<li><a href='#prediction_info'><p>Create an object with a prediction about the future values of a time series</p></a></li>
<li><a href='#ts_info'><p>Create an object with information about a time series</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Visualizing Collections of Time Series Forecasts</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A way of visualizing collections of time series and, optionally
    their future values, forecasts for their future values and prediction
    intervals for the forecasts. A web-based GUI can be used to display the
    information in a collection of time series.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Francisco Martinez &lt;fmartin@ujaen.es&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>forecast, knitr, Mcomp, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, methods, shiny</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/franciscomartinezdelrio/vctsfr">https://github.com/franciscomartinezdelrio/vctsfr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/franciscomartinezdelrio/vctsfr/issues">https://github.com/franciscomartinezdelrio/vctsfr/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-07 18:35:18 UTC; UJA</td>
</tr>
<tr>
<td>Author:</td>
<td>Maria Pilar Frias-Bustamante
    <a href="https://orcid.org/0000-0001-6886-0953"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Francisco Martinez
    <a href="https://orcid.org/0000-0002-5206-1898"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre,
    cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-07 18:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_time_series_collection'>Check that a collection of time series is properly formatted</h2><span id='topic+check_time_series_collection'></span>

<h3>Description</h3>

<p>This function checks that an object holding a collection of time series,
their future values and their forecasts has the correct format. This kind of
objects are used in function <code><a href="#topic+plot_collection">plot_collection()</a></code>. A collection of time series
should be a list compounded of objects of class <code>ts_info</code>, which are built
using the <code><a href="#topic+ts_info">ts_info()</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_time_series_collection(collection)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_time_series_collection_+3A_collection">collection</code></td>
<td>
<p>a list representing a collection of time series as
described in <code><a href="#topic+plot_collection">plot_collection()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character string with value <code>"OK"</code> if the object is properly
formatted. Otherwise, the character string indicates the first error found
in the object's format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>c &lt;- list(ts_info(USAccDeaths), ts_info(ldeaths))
check_time_series_collection(c)
</code></pre>

<hr>
<h2 id='GUI_collection'>Launches the web-based GUI for visualizing time series</h2><span id='topic+GUI_collection'></span>

<h3>Description</h3>

<p>Launches the web-based GUI for visualizing a collection of time series in a
web browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GUI_collection(collection)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GUI_collection_+3A_collection">collection</code></td>
<td>
<p>a list with the collection of time series. Each component
of the list must have been built with the <code><a href="#topic+ts_info">ts_info()</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <strong>vctsfr</strong> package provides a Shiny-based GUI to visualize collections of
time series and their forecasts. The main features of the GUI are:
</p>

<ul>
<li><p> It allows you to easily navigate through the different series.
</p>
</li>
<li><p> You can select which forecasting methods are displayed.
</p>
</li>
<li><p> In the case you display a single forecasting method with associated
prediction intervals, you can select the prediction interval to display.
</p>
</li>
<li><p> Forecasting accuracy measures are displayed.
</p>
</li></ul>



<h3>Value</h3>

<p>Nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# create a collection of two time series and visualize them
c &lt;- list(ts_info(USAccDeaths), ts_info(ldeaths))
GUI_collection(c)

</code></pre>

<hr>
<h2 id='pi_info'>Create a prediction interval object</h2><span id='topic+pi_info'></span>

<h3>Description</h3>

<p>The object created represents a prediction interval for the forecast of the
future values of a time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pi_info(level, lpi, upi)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pi_info_+3A_level">level</code></td>
<td>
<p>a number in the interval (0, 100) indicating the level of the
prediction interval.</p>
</td></tr>
<tr><td><code id="pi_info_+3A_lpi">lpi</code></td>
<td>
<p>a time series of class <code>ts</code> or a vector. Lower limit of a
prediction interval.</p>
</td></tr>
<tr><td><code id="pi_info_+3A_upi">upi</code></td>
<td>
<p>a time series of class <code>ts</code> or a vector. Upper limit of a
prediction interval.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>pi_info</code>. It is a list containing all the
information supplied to the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prediction_info">prediction_info()</a></code> which uses this function to specify prediction
intervals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("forecast")) {
  time_series &lt;- ts(rnorm(40))
  f &lt;- meanf(time_series, level = 95)
  info &lt;- pi_info(95, f$lower, f$upper)
}
</code></pre>

<hr>
<h2 id='plot_collection'>Create a <code>ggplot</code> object associated with a time series belonging to a
collection.</h2><span id='topic+plot_collection'></span>

<h3>Description</h3>

<p>Apart from the time series, future values and forecasts for the
future values form part of the <code>ggplot</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_collection(collection, number, methods = NULL, level = NULL, sdp = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_collection_+3A_collection">collection</code></td>
<td>
<p>a list with the collection of time series. Each component
of the list must have been built with the <code><a href="#topic+ts_info">ts_info()</a></code> function.</p>
</td></tr>
<tr><td><code id="plot_collection_+3A_number">number</code></td>
<td>
<p>an integer. The number of the time series. It should be a value
between 1 and <code>length(collection)</code>.</p>
</td></tr>
<tr><td><code id="plot_collection_+3A_methods">methods</code></td>
<td>
<p>NULL (default) or a character vector indicating the names of
the forecasting methods to be displayed.</p>
</td></tr>
<tr><td><code id="plot_collection_+3A_level">level</code></td>
<td>
<p>NULL (default) or a number in the interval (0, 100) indicating
the level of the prediction interval to be shown. This parameter in
considered only when just one forecasting method is plotted and the
forecasting method has a prediction interval with the specified level.</p>
</td></tr>
<tr><td><code id="plot_collection_+3A_sdp">sdp</code></td>
<td>
<p>logical. Should data points be shown in the plot? (default value
<code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>collection</code> parameter must be a list. Each component of the list stores
a time series and, optionally, its future values, forecasts for the future
values and prediction intervals for the forecasts. Each component should have
been created using the <code><a href="#topic+ts_info">ts_info()</a></code> function.
</p>
<p>In the example section you can see an example of a collection of time series.
If the <code>collection</code> parameter is not specified correctly, a proper message is
shown.
</p>


<h3>Value</h3>

<p>The <code>ggplot</code> object representing the time series and its forecast.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ts_info">ts_info()</a></code> function to see how to build the components of the
<code>collection</code> parameter.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a collection of two time series and plot both time series
c &lt;- list(ts_info(USAccDeaths), ts_info(ldeaths))
plot_collection(c, number = 1)
plot_collection(c, number = 2, sdp = FALSE)

# create a collection of one time series with future values and forecasts
if (require(forecast)) {
  c &lt;- vector(2, mode = "list")
  timeS &lt;- window(USAccDeaths, end = c(1977, 12))
  f &lt;- window(USAccDeaths, start = c(1978, 1))
  ets_fit   &lt;- ets(timeS)
  ets_pred  &lt;- forecast(ets_fit, h = length(f), level = 90)
  mean_pred &lt;- meanf(timeS, h = length(f), level = 90)
  c[[1]] &lt;- ts_info(timeS, future = f,
            prediction_info("ES", ets_pred$mean,
                            pi_info(90, ets_pred$lower, ets_pred$upper)),
            prediction_info("Mean", mean_pred$mean,
                            pi_info(90, mean_pred$lower, mean_pred$upper))
  )
  timeS &lt;- ts(rnorm(30, sd = 3))
  f &lt;- rnorm(5, sd = 3)
  rw &lt;- rwf(timeS, h = length(f), level = 80)
  mean &lt;- meanf(timeS, h = length(f), level = 90)
  c[[2]] &lt;- ts_info(timeS, future = f,
            prediction_info("Random Walk", rw$mean,
                            pi_info(80, rw$lower, rw$upper)),
            prediction_info("Mean", mean$mean,
                            pi_info(90, mean$lower, mean$upper))
  )
  plot_collection(c, number = 1)
}
if (require("forecast"))
  plot_collection(c, number = 2)
if (require("forecast"))
  plot_collection(c, number = 2, methods = "Mean") # just plot a forecasting method
if (require("forecast"))
  plot_collection(c, number = 2, methods = "Random Walk", level = 80)
</code></pre>

<hr>
<h2 id='plot_predictions'>Creates a ggplot object with a time series and some forecasts</h2><span id='topic+plot_predictions'></span>

<h3>Description</h3>

<p>Create a <code>ggplot</code> object with a time series and, optionally, some future
values of the time series and several forecast for those future values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_predictions(ts, future = NULL, predictions = NULL, sdp = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_predictions_+3A_ts">ts</code></td>
<td>
<p>a time series of class <code>ts</code>.</p>
</td></tr>
<tr><td><code id="plot_predictions_+3A_future">future</code></td>
<td>
<p>NULL (default) or a time series of class <code>ts</code> or a vector.
Future values of the time series.</p>
</td></tr>
<tr><td><code id="plot_predictions_+3A_predictions">predictions</code></td>
<td>
<p>NULL (default) or a named list containing the predictions
for the future values. Each component of the list should contain a vector or
an object of class <code>ts</code> representing a forecast, the name of the
component should be the name of the forecasting method.</p>
</td></tr>
<tr><td><code id="plot_predictions_+3A_sdp">sdp</code></td>
<td>
<p>logical. Should data points be shown? (default value <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>future</code> or the forecasts in the <code>prediction</code> list are vectors
then they are supposed to start after the last data of the time series.
</p>


<h3>Value</h3>

<p>The <code>ggplot</code> object representing the time series and its forecast.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># plot a time series, its future values and two forecasts
ts &lt;- window(USAccDeaths, end = c(1977, 12))
f &lt;- window(USAccDeaths, start = c(1978, 1))
prediction1 &lt;- rep(mean(ts), 12)
prediction2 &lt;- as.vector(window(ts, start = c(1977, 1)))
p &lt;- list(Mean = prediction1, Naive = prediction2)
plot_predictions(ts, future = f, predictions = p)
</code></pre>

<hr>
<h2 id='plot_ts'>Create a ggplot object with a time series and forecast</h2><span id='topic+plot_ts'></span>

<h3>Description</h3>

<p>Create a <code>ggplot</code> object associated with a time series and, optionally, its
future values, a forecast for its future values and a prediction interval of
the forecast.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ts(
  ts,
  future = NULL,
  prediction = NULL,
  method = NULL,
  lpi = NULL,
  upi = NULL,
  level = NULL,
  sdp = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_ts_+3A_ts">ts</code></td>
<td>
<p>a time series of class <code>ts</code>.</p>
</td></tr>
<tr><td><code id="plot_ts_+3A_future">future</code></td>
<td>
<p>NULL (default) or a time series of class <code>ts</code> or a vector.
Future values of the time series.</p>
</td></tr>
<tr><td><code id="plot_ts_+3A_prediction">prediction</code></td>
<td>
<p>NULL (default) or a time series of class <code>ts</code> or a
vector. Forecast of the future values of the time series.</p>
</td></tr>
<tr><td><code id="plot_ts_+3A_method">method</code></td>
<td>
<p>NULL (default) a character string with the name of the method
used to forecast the future values of the time series. This name will
appear in the legend.</p>
</td></tr>
<tr><td><code id="plot_ts_+3A_lpi">lpi</code></td>
<td>
<p>NULL (default) or a time series of class <code>ts</code> or a vector.
Lower limit of a prediction interval for the <code>prediction</code> parameter.</p>
</td></tr>
<tr><td><code id="plot_ts_+3A_upi">upi</code></td>
<td>
<p>NULL (default) or a time series of class <code>ts</code> or a vector.
Upper limit of a prediction interval for the <code>prediction</code> parameter.</p>
</td></tr>
<tr><td><code id="plot_ts_+3A_level">level</code></td>
<td>
<p>NULL (default) a number in the interval (0, 100) indicating the
level of the prediction interval.</p>
</td></tr>
<tr><td><code id="plot_ts_+3A_sdp">sdp</code></td>
<td>
<p>logical. Should data points be shown? (default value <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>future</code> or <code>prediction</code> are vectors then they are supposed to
start after the last data of the time series.
</p>


<h3>Value</h3>

<p>The <code>ggplot</code> object representing the time series and its forecast.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
plot_ts(USAccDeaths) # plot a time series

# plot a time series, not showing data points
plot_ts(USAccDeaths, sdp = FALSE)

# plot a time series, its future values and a prediction
ts &lt;- window(USAccDeaths, end = c(1977, 12))
f &lt;- window(USAccDeaths, start = c(1978, 1))
p &lt;- ts(window(USAccDeaths, start = c(1976, 1), end = c(1976, 12)),
        start = c(1978, 1),
        frequency = 12
)
plot_ts(ts, future = f, prediction = p)

# plot a time series and a prediction
plot_ts(USAccDeaths, prediction = rep(mean(USAccDeaths), 12),
        method = "Mean")

# plot a time series, a prediction and a prediction interval
if (require(forecast)) {
  timeS &lt;- window(USAccDeaths, end = c(1977, 12))
  f &lt;- window(USAccDeaths, start = c(1978, 1))
  ets_fit &lt;- ets(timeS)
  p &lt;- forecast(ets_fit, h = length(f), level = 90)
  plot_ts(timeS, future = f, prediction = p$mean, method = "ES",
          lpi = p$lower, upi = p$upper, level = 90
  )
}
</code></pre>

<hr>
<h2 id='prediction_info'>Create an object with a prediction about the future values of a time series</h2><span id='topic+prediction_info'></span>

<h3>Description</h3>

<p>The object created contains a forecast and, optionally, prediction intervals
for the forecast.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prediction_info(name, forecast, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prediction_info_+3A_name">name</code></td>
<td>
<p>a character indicating the name of the method used to forecast.</p>
</td></tr>
<tr><td><code id="prediction_info_+3A_forecast">forecast</code></td>
<td>
<p>a time series of class <code>ts</code> or a vector. It is a
prediction for the future values of a time series.</p>
</td></tr>
<tr><td><code id="prediction_info_+3A_...">...</code></td>
<td>
<p>prediction intervals for the forecast. These prediction intervals
must have been built with the <code><a href="#topic+pi_info">pi_info()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>pred_info</code>. A list with the information supplied
to the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pi_info">pi_info()</a></code> for how to create prediction intervals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("forecast")) {
  time_series &lt;- ts(rnorm(40))
  f &lt;- meanf(time_series, level = 95)
  info &lt;- prediction_info("mean", f$mean, pi_info(95, f$lower, f$upper))
}
</code></pre>

<hr>
<h2 id='ts_info'>Create an object with information about a time series</h2><span id='topic+ts_info'></span>

<h3>Description</h3>

<p>The information about the time series is compounded of the time series and,
optionally, its future values and forecasts for those future values (and
prediction intervals for those forecasts).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ts_info(historical, ..., future = NULL, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ts_info_+3A_historical">historical</code></td>
<td>
<p>a time series of class <code>ts</code> with the historical values
of the series.</p>
</td></tr>
<tr><td><code id="ts_info_+3A_...">...</code></td>
<td>
<p>forecasts for the future values of the time series. A forecast
must have been built with the <code><a href="#topic+prediction_info">prediction_info()</a></code> function. See the
examples section.</p>
</td></tr>
<tr><td><code id="ts_info_+3A_future">future</code></td>
<td>
<p>NULL (default) or a time series of class <code>ts</code> or a vector.
The future values of the time series (possibly to be forecast).</p>
</td></tr>
<tr><td><code id="ts_info_+3A_name">name</code></td>
<td>
<p>NULL (default) or a character string with information about the
time series. Typically, its name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>ts_info</code>. It is a list containing all the
information supplied to the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prediction_info">prediction_info()</a></code> for how to create forecasts.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># only information about a time series
info &lt;- ts_info(USAccDeaths)

# Information about a time series and its future values
info2 &lt;- ts_info(ts(rnorm(50)), future = rnorm(10))

# Information about a time series, its future values and a forecast
if (require("forecast")) {
  t &lt;- ts(rnorm(50))
  f &lt;- rnorm(10)
  mf &lt;- meanf(t, level = 95)
  info3 &lt;- ts_info(t, future = f,
                   prediction_info("mean", mf$mean,
                                   pi_info(95, mf$lower, mf$upper)
                   )
  )
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

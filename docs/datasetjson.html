<!DOCTYPE html><html lang="en-US"><head><title>Help for package datasetjson</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {datasetjson}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#datasetjson-package'><p>datasetjson: Read and Write CDISC Dataset JSON Files</p></a></li>
<li><a href='#dataset_json'><p>Create a Dataset JSON Object</p></a></li>
<li><a href='#get_column_metadata'><p>Extract column metadata to data frame</p></a></li>
<li><a href='#iris_items'><p>Example Variable Metadata for Iris</p></a></li>
<li><a href='#read_dataset_json'><p>Read a Dataset JSON to datasetjson object</p></a></li>
<li><a href='#schema_1_1_0'><p>Dataset JSON Schema Version 1.1.0</p></a></li>
<li><a href='#set_source_system'><p>Dataset Metadata Setters</p></a></li>
<li><a href='#set_variable_attributes'><p>Assign Dataset JSON attributes to data frame columns</p></a></li>
<li><a href='#validate_dataset_json'><p>Validate a Dataset JSON file</p></a></li>
<li><a href='#write_dataset_json'><p>Write out a Dataset JSON file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Read and Write CDISC Dataset JSON Files</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Read, construct and write CDISC (Clinical Data Interchange Standards Consortium) Dataset JSON (JavaScript Object Notation) files, while validating per the Dataset JSON schema file, as described in CDISC (2023) <a href="https://www.cdisc.org/standards/data-exchange/dataset-json">https://www.cdisc.org/standards/data-exchange/dataset-json</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://atorus-research.github.io/datasetjson/">https://atorus-research.github.io/datasetjson/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/atorus-research/datasetjson/issues/">https://github.com/atorus-research/datasetjson/issues/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>yyjsonr (&ge; 0.1.18), jsonvalidate (&ge; 1.3.1), hms</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), jsonlite (&ge; 1.8.0), knitr, haven,
rmarkdown, withr, purrr, tibble, dplyr, lubridate, data.table</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-30 15:44:49 UTC; mstackhouse</td>
</tr>
<tr>
<td>Author:</td>
<td>Mike Stackhouse <a href="https://orcid.org/0000-0001-6030-723X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Nicholas Masel [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mike Stackhouse &lt;mike.stackhouse@atorusresearch.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-30 16:00:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='datasetjson-package'>datasetjson: Read and Write CDISC Dataset JSON Files</h2><span id='topic+datasetjson'></span><span id='topic+datasetjson-package'></span>

<h3>Description</h3>

<p>Read, construct and write CDISC (Clinical Data Interchange Standards Consortium) Dataset JSON (JavaScript Object Notation) files, while validating per the Dataset JSON schema file, as described in CDISC (2023) <a href="https://www.cdisc.org/standards/data-exchange/dataset-json">https://www.cdisc.org/standards/data-exchange/dataset-json</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mike Stackhouse <a href="mailto:mike.stackhouse@atorusresearch.com">mike.stackhouse@atorusresearch.com</a> (<a href="https://orcid.org/0000-0001-6030-723X">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Nicholas Masel <a href="mailto:nmasel@its.jnj.com">nmasel@its.jnj.com</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://atorus-research.github.io/datasetjson/">https://atorus-research.github.io/datasetjson/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/atorus-research/datasetjson/issues/">https://github.com/atorus-research/datasetjson/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='dataset_json'>Create a Dataset JSON Object</h2><span id='topic+dataset_json'></span>

<h3>Description</h3>

<p>Create the base object used to write a Dataset JSON file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_json(
  .data,
  file_oid = NULL,
  last_modified = NULL,
  originator = NULL,
  sys = NULL,
  sys_version = NULL,
  study = NULL,
  metadata_version = NULL,
  metadata_ref = NULL,
  item_oid = NULL,
  name = NULL,
  dataset_label = NULL,
  columns = NULL,
  version = "1.1.0"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dataset_json_+3A_.data">.data</code></td>
<td>
<p>Input data to contain within the Dataset JSON file. Written to
the itemData parameter.</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_file_oid">file_oid</code></td>
<td>
<p>fileOID parameter, defined as &quot;A unique identifier for this
file.&quot; (optional)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_last_modified">last_modified</code></td>
<td>
<p>The date/time the source database was last modified
before creating the Dataset-JSON file (optional)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_originator">originator</code></td>
<td>
<p>originator parameter, defined as &quot;The organization that
generated the Dataset-JSON file.&quot; (optional)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_sys">sys</code></td>
<td>
<p>sourceSystem.name parameter, defined as &quot;The computer system or
database management system that is the source of the information in this
file.&quot; (Optional, required if coupled with sys_version)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_sys_version">sys_version</code></td>
<td>
<p>sourceSystem.Version, defined as &quot;The version of the
sourceSystem&quot; (Optional, required if coupled with sys)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_study">study</code></td>
<td>
<p>Study OID value (optional)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_metadata_version">metadata_version</code></td>
<td>
<p>Metadata version OID value (optional)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_metadata_ref">metadata_ref</code></td>
<td>
<p>Metadata reference (i.e. path to Define.xml) (optional)</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_item_oid">item_oid</code></td>
<td>
<p>ID used to label dataset with the itemGroupData parameter.
Defined as &quot;Object of Datasets. Key value is a unique identifier for
Dataset, corresponding to ItemGroupDef/@OID in Define-XML.&quot;</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_name">name</code></td>
<td>
<p>Dataset name</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_dataset_label">dataset_label</code></td>
<td>
<p>Dataset Label</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_columns">columns</code></td>
<td>
<p>Variable level metadata for the Dataset JSON object. See
details for format requirements.</p>
</td></tr>
<tr><td><code id="dataset_json_+3A_version">version</code></td>
<td>
<p>The DatasetJSON version to use. Currently only 1.1.0 is
supported.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>columns</code> parameter should be provided as a dataframe based off the
Dataset JSON Specification:
</p>

<ul>
<li> <p><strong>itemOID</strong>: <em>string, required</em>: Unique identifier for the variable that may also
function as a foreign key to an ItemDef/@OID in an associated Define-XML
file. See the <a href="https://wiki.cdisc.org/display/PUB/Element+Identifiers+and+References">ODM specification</a>
for OID considerations.
</p>
</li>
<li> <p><strong>name</strong>: <em>string, required</em>: Variable name
</p>
</li>
<li> <p><strong>label</strong>: <em>string, required</em>: Variable label
</p>
</li>
<li> <p><strong>dataType</strong>: <em>string, required</em>: Logical data type of the variable. The dataType
attribute represents the planned specificity of the data. See the <a href="https://wiki.cdisc.org/display/PUB/Data+Formats">ODM Data Formats specification</a> for
details.
-<strong>targetDataType</strong>: <em>string, optional</em>: Indicates the data type into which
the receiving system must transform the associated Dataset-JSON variable. The
variable with the data type attribute of dataType must be converted into the
targetDataType when transforming the Dataset-JSON dataset into a format for
operational use (e.g., SAS dataset, R dataframe, loading into a system's data
store). Only specify targetDataType when it is different from the dataType
attribute or the JSON data type and the data needs to be transformed by the
receiving system. See the Supported Column Data Type Combinations table for
details on usage. See the User's Guide for additional information.
</p>
</li>
<li> <p><strong>length</strong>: <em>integer, optional</em>: Specifies the number of characters
allowed for the variable value when it is represented as a text.
</p>
</li>
<li> <p><strong>displayFormat</strong>: *string, optional: A SAS display format value used for
data visualization of numeric float and date values.
</p>
</li>
<li> <p><strong>keySequence</strong>: <em>integer, optional</em>: Indicates that this item is a key
variable in the dataset structure. It also provides an ordering for the keys.
</p>
</li></ul>

<p>Note that DatasetJSON is on version 1.1.0. Based off findings from the pilot,
version 1.1.0 reflects feedback from the user community. Support for 1.0.0
has been deprecated.
</p>


<h3>Value</h3>

<p>dataset_json object pertaining to the specific Dataset JSON version
specific
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a basic object
ds_json &lt;- dataset_json(
  iris,
  file_oid = "/some/path",
  last_modified = "2023-02-15T10:23:15",
  originator = "Some Org",
  sys = "source system",
  sys_version = "1.0",
  study = "SOMESTUDY",
  metadata_version = "MDV.MSGv2.0.SDTMIG.3.3.SDTM.1.7",
  metadata_ref = "some/define.xml",
  item_oid = "IG.IRIS",
  name = "IRIS",
  dataset_label = "Iris",
  columns = iris_items
)

# Attach attributes directly
ds_json &lt;- dataset_json(iris, columns = iris_items)
ds_json &lt;- set_file_oid(ds_json, "/some/path")
ds_json &lt;- set_last_modified(ds_json, "2025-01-21T13:34:50")
ds_json &lt;- set_originator(ds_json, "Some Org")
ds_json &lt;- set_source_system(ds_json, "source system", "1.0")
ds_json &lt;- set_study_oid(ds_json, "SOMESTUDY")
ds_json &lt;- set_metadata_ref(ds_json, "some/define.xml")
ds_json &lt;- set_metadata_version(ds_json, "MDV.MSGv2.0.SDTMIG.3.3.SDTM.1.7")
ds_json &lt;- set_item_oid(ds_json, "IG.IRIS")
ds_json &lt;- set_dataset_name(ds_json, "Iris")
ds_json &lt;- set_dataset_label(ds_json, "The Iris Dataset")
</code></pre>

<hr>
<h2 id='get_column_metadata'>Extract column metadata to data frame</h2><span id='topic+get_column_metadata'></span>

<h3>Description</h3>

<p>This function pulls out the column metadata from the <code>datasetjson</code> object
attributes into a more user-friendly data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_column_metadata(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_column_metadata_+3A_x">x</code></td>
<td>
<p>A datasetjson object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the columns metadata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ds_json &lt;- dataset_json(
  iris,
  item_oid = "IG.IRIS",
  name = "IRIS",
  dataset_label = "Iris",
  columns = iris_items
)

get_column_metadata(ds_json)
</code></pre>

<hr>
<h2 id='iris_items'>Example Variable Metadata for Iris</h2><span id='topic+iris_items'></span>

<h3>Description</h3>

<p>Example of the necessary variable metadata included in a Dataset JSON file
based on the Iris data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iris_items
</code></pre>


<h3>Format</h3>



<h4><code>iris_items</code> A data frame with 5 rows and 6 columns:</h4>


<dl>
<dt>itemOID</dt><dd><p>Unique identifier for Variable. Must correspond to ItemDef/@OID in Define-XML.</p>
</dd>
<dt>name</dt><dd><p>Display format supports data visualization of numeric float and date values.</p>
</dd>
<dt>label</dt><dd><p>Label for Variable</p>
</dd>
<dt>dataType</dt><dd><p>Data type for Variable</p>
</dd>
<dt>length</dt><dd><p>Length for Variable</p>
</dd>
<dt>keySequence</dt><dd><p>Indicates that this item is a key variable in the dataset structure. It also provides an ordering for the keys.</p>
</dd>
</dl>



<hr>
<h2 id='read_dataset_json'>Read a Dataset JSON to datasetjson object</h2><span id='topic+read_dataset_json'></span>

<h3>Description</h3>

<p>This function validates a dataset JSON file against the Dataset JSON schema,
and if valid returns a datasetjson object. The Dataset JSON file can be either
a file path on disk of a URL which contains the Dataset JSON file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_dataset_json(file, decimals_as_floats = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_dataset_json_+3A_file">file</code></td>
<td>
<p>File path or URL of a Dataset JSON file</p>
</td></tr>
<tr><td><code id="read_dataset_json_+3A_decimals_as_floats">decimals_as_floats</code></td>
<td>
<p>Convert variables of &quot;decimal&quot; type to float</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The resulting dataframe contains the additional metadata available on the
Dataset JSON file within the attributes to make this accessible to the user.
Note that these attributes are only populated if available.
</p>

<ul>
<li> <p><strong>sourceSystem</strong>: The information system from which the content of this
dataset was source, including system name and version.
</p>
</li>
<li> <p><strong>datasetJSONVersion</strong>: The version of the Dataset-JSON standard used to
create the dataset.
</p>
</li>
<li> <p><strong>fileOID</strong>: A unique identifier for this dataset.
</p>
</li>
<li> <p><strong>dbLastModifiedDateTime</strong>: The date/time the source database was last
modified before creating the Dataset-JSON file.
</p>
</li>
<li> <p><strong>originator</strong>: The organization that generated the Dataset-JSON dataset.
</p>
</li>
<li> <p><strong>studyOID</strong>: Unique identifier for the study that may also function as a
foreign key to a Study/@OID in an associated Define-XML document, or to any
studyOID references that are used as keys in other documents;
</p>
</li>
<li> <p><strong>metaDataVersionOID</strong>: Unique identifier for the metadata version that may
also function as a foreign key to a MetaDataVersion/@OID in an associated
Define-XML file
</p>
</li>
<li> <p><strong>metaDataRef</strong>: URI for the metadata file describing the dataset (e.g.,
a Define-XML file).
</p>
</li>
<li> <p><strong>itemGroupOID</strong>: Unique identifier for the dataset that may also function
as a foreign key to an ItemGroupDef/@OID in an associated Define-XML file.
</p>
</li>
<li> <p><strong>name</strong>: The human-readable name for the dataset.
</p>
</li>
<li> <p><strong>label</strong>: A short description of the dataset.
</p>
</li>
<li> <p><strong>columns</strong>: An array of metadata objects that describe the dataset
variables. See <code>dataset_json()</code> for further information on the contents of
these fields.
</p>
</li></ul>



<h3>Value</h3>

<p>A dataframe with additional attributes attached containing the
DatasetJSON metadata.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read from disk
## Not run: 
  dat &lt;- read_dataset_json("path/to/file.json")
 # Read file from URL
  dat &lt;- dataset_json('https://www.somesite.com/file.json')

## End(Not run)

# Read from an already imported character vector
ds_json &lt;- dataset_json(iris, "IG.IRIS", "IRIS", "Iris", columns=iris_items)
js &lt;- write_dataset_json(ds_json)
dat &lt;- read_dataset_json(js)
</code></pre>

<hr>
<h2 id='schema_1_1_0'>Dataset JSON Schema Version 1.1.0</h2><span id='topic+schema_1_1_0'></span>

<h3>Description</h3>

<p>This object is a character vector holding the schema for Dataset JSON Version 1.1.0
</p>


<h3>Usage</h3>

<pre><code class='language-R'>schema_1_1_0
</code></pre>


<h3>Format</h3>



<h4><code>schema_1_1_0</code></h4>


<p>A character vector with 1 element

</p>


<hr>
<h2 id='set_source_system'>Dataset Metadata Setters</h2><span id='topic+set_source_system'></span><span id='topic+set_originator'></span><span id='topic+set_file_oid'></span><span id='topic+set_study_oid'></span><span id='topic+set_metadata_version'></span><span id='topic+set_metadata_ref'></span><span id='topic+set_item_oid'></span><span id='topic+set_dataset_name'></span><span id='topic+set_dataset_label'></span><span id='topic+set_last_modified'></span>

<h3>Description</h3>

<p>Set information about the file, source system, study, and dataset used to
generate the Dataset JSON object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_source_system(x, sys, sys_version)

set_originator(x, originator)

set_file_oid(x, file_oid)

set_study_oid(x, study)

set_metadata_version(x, metadata_version)

set_metadata_ref(x, metadata_ref)

set_item_oid(x, item_oid)

set_dataset_name(x, name)

set_dataset_label(x, dataset_label)

set_last_modified(x, last_modified)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_source_system_+3A_x">x</code></td>
<td>
<p>datasetjson object</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_sys">sys</code></td>
<td>
<p>sourceSystem.name parameter, defined as &quot;The computer system or
database management system that is the source of the information in this
file.&quot; (Optional, required if coupled with sys_version)</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_sys_version">sys_version</code></td>
<td>
<p>sourceSystem.Version, defined as &quot;The version of the
sourceSystem&quot; (Optional, required if coupled with sys)</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_originator">originator</code></td>
<td>
<p>originator parameter, defined as &quot;The organization that
generated the Dataset-JSON file.&quot; (optional)</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_file_oid">file_oid</code></td>
<td>
<p>fileOID parameter, defined as &quot;A unique identifier for this
file.&quot; (optional)</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_study">study</code></td>
<td>
<p>Study OID value (optional)</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_metadata_version">metadata_version</code></td>
<td>
<p>Metadata version OID value (optional)</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_metadata_ref">metadata_ref</code></td>
<td>
<p>Metadata reference (i.e. path to Define.xml) (optional)</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_item_oid">item_oid</code></td>
<td>
<p>ID used to label dataset with the itemGroupData parameter.
Defined as &quot;Object of Datasets. Key value is a unique identifier for
Dataset, corresponding to ItemGroupDef/@OID in Define-XML.&quot;</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_name">name</code></td>
<td>
<p>Dataset name</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_dataset_label">dataset_label</code></td>
<td>
<p>Dataset Label</p>
</td></tr>
<tr><td><code id="set_source_system_+3A_last_modified">last_modified</code></td>
<td>
<p>The date/time the source database was last modified
before creating the Dataset-JSON file (optional)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The fileOID parameter should be structured following description outlined in
the ODM V2.0 specification. &quot;FileOIDs should be universally unique if at all
possible. One way to ensure this is to prefix every FileOID with an internet
domain name owned by the creator of the ODM file or database (followed by a
forward slash, &quot;/&quot;). For example,
FileOID=&quot;BestPharmaceuticals.com/Study5894/1&quot; might be a good way to denote
the first file in a series for study 5894 from Best Pharmaceuticals.&quot;
</p>


<h3>Value</h3>

<p>datasetjson object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ds_json &lt;- dataset_json(iris, columns = iris_items)
ds_json &lt;- set_file_oid(ds_json, "/some/path")
ds_json &lt;- set_last_modified(ds_json, "2025-01-21T13:34:50")
ds_json &lt;- set_originator(ds_json, "Some Org")
ds_json &lt;- set_source_system(ds_json, "source system", "1.0")
ds_json &lt;- set_study_oid(ds_json, "SOMESTUDY")
ds_json &lt;- set_metadata_ref(ds_json, "some/define.xml")
ds_json &lt;- set_metadata_version(ds_json, "MDV.MSGv2.0.SDTMIG.3.3.SDTM.1.7")
ds_json &lt;- set_item_oid(ds_json, "IG.IRIS")
ds_json &lt;- set_dataset_name(ds_json, "Iris")
ds_json &lt;- set_dataset_label(ds_json, "The Iris Dataset")
</code></pre>

<hr>
<h2 id='set_variable_attributes'>Assign Dataset JSON attributes to data frame columns</h2><span id='topic+set_variable_attributes'></span>

<h3>Description</h3>

<p>Using the <code>columns</code> element of the Dataset JSON file, assign the available
metadata to individual columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_variable_attributes(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_variable_attributes_+3A_x">x</code></td>
<td>
<p>A datasetjson object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A datasetjson object with attributes assigned to individual
variables
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ds_json &lt;- dataset_json(
  iris,
  item_oid = "IG.IRIS",
  name = "IRIS",
  dataset_label = "Iris",
  columns = iris_items
)

ds_json &lt;- set_variable_attributes(ds_json)
</code></pre>

<hr>
<h2 id='validate_dataset_json'>Validate a Dataset JSON file</h2><span id='topic+validate_dataset_json'></span>

<h3>Description</h3>

<p>This function calls <code>jsonvalidate::json_validate()</code> directly, with the
parameters necessary to retrieve the error information of an invalid JSON
file per the Dataset JSON schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_dataset_json(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_dataset_json_+3A_x">x</code></td>
<td>
<p>File path or URL of a Dataset JSON file, or a character vector
holding JSON text</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
  validate_dataset_json('path/to/file.json')
  validate_dataset_json('https://www.somesite.com/file.json')

## End(Not run)

ds_json &lt;- dataset_json(
  iris,
  item_oid = "IG.IRIS",
  name = "IRIS",
  dataset_label = "Iris",
  columns = iris_items
)
js &lt;- write_dataset_json(ds_json)

validate_dataset_json(js)
</code></pre>

<hr>
<h2 id='write_dataset_json'>Write out a Dataset JSON file</h2><span id='topic+write_dataset_json'></span>

<h3>Description</h3>

<p>Write out a Dataset JSON file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_dataset_json(
  x,
  file,
  pretty = FALSE,
  float_as_decimals = FALSE,
  digits = 16
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_dataset_json_+3A_x">x</code></td>
<td>
<p>datasetjson object</p>
</td></tr>
<tr><td><code id="write_dataset_json_+3A_file">file</code></td>
<td>
<p>File path to save Dataset JSON file</p>
</td></tr>
<tr><td><code id="write_dataset_json_+3A_pretty">pretty</code></td>
<td>
<p>If TRUE, write with readable formatting. <em>Note: The Dataset
JSON standard prefers compressed formatting without line feeds. It is not
recommended you use pretty printing for submission purposes.</em></p>
</td></tr>
<tr><td><code id="write_dataset_json_+3A_float_as_decimals">float_as_decimals</code></td>
<td>
<p>If TRUE, Convert float variables to &quot;decimal&quot; data
type in the JSON output. This will manually convert the numeric values
using the <code>format()</code> function using the number of digits specified in
<code>digits</code>, bypassing the <code>yyjsonr</code> handling of float values and writing the
numbers out as JSON character strings. See the <a href="https://wiki.cdisc.org/display/PUB/Precision+and+Rounding">Dataset JSON user guide</a> for more
information. Defaults to FALSE</p>
</td></tr>
<tr><td><code id="write_dataset_json_+3A_digits">digits</code></td>
<td>
<p>When using <code>float_as_decimals</code>, the number of digits to use
when writing out floats. Going higher than 16 may start writing otherwise
sufficiently precise decimals (i.e. .2) to long strings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL when file written to disk, otherwise character string
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Write to character object
ds_json &lt;- dataset_json(
  iris,
  item_oid = "IG.IRIS",
  name = "IRIS",
  dataset_label = "Iris",
  columns = iris_items
)
js &lt;- write_dataset_json(ds_json)

# Write to disk
## Not run: 
  write_dataset_json(ds_json, "path/to/file.json")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ndtv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ndtv}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#compute.animation'>
<p>Compute a sequence of vertex layouts over time suitable for rendering an animation.</p></a></li>
<li><a href='#effectFun'>
<p>functions to manipulate graphic attributes of network for 'special effects'</p></a></li>
<li><a href='#export.dot'>
<p>Export a network file as Graphviz .dot formatted text file.</p></a></li>
<li><a href='#export.pajek.net'>
<p>Export a network file as a Pajek .net formatted text file.</p></a></li>
<li><a href='#filmstrip'>
<p>Create a 'small multiples' plot of a networkDynamic object.</p></a></li>
<li><a href='#install.ffmpeg'>
<p>Instructions for installing ffmpeg on various platforms</p></a></li>
<li><a href='#install.graphviz'>
<p>Instructions for installing the Graphviz libraries on various platforms</p></a></li>
<li><a href='#layout.center'>
<p>Functions to center and normalize the coordinates of a network plot within a window.</p></a></li>
<li><a href='#layout.distance'>
<p>Provides a default way to convert a network into a set of euclidian distances suitable for MDS-style layout optimization.</p></a></li>
<li><a href='#msm.sim'><p>MSM.sim : output of a stergm simulation of basic sex contact network model</p></a></li>
<li><a href='#ndtv-package'>
<p>Network Dynamic Temporal Visualization (ndtv)</p></a></li>
<li><a href='#ndtvAnimationWidget'>
<p>htmlwidgets wrapper functions for including ndtv-d3 animations in shinyapps</p></a></li>
<li><a href='#network.layout.animate'>
<p>Sequentially-stable network layout algorithms suitable for generating network animations.</p></a></li>
<li><a href='#proximity.timeline'>
<p>Plot a chart of a networkDynamic object in which vertices trace out paths in time, positioned vertically so that their proximity corresponds to their relative geodesic distance at the sampled time points.</p></a></li>
<li><a href='#render.animation'>
<p>Render animations of <code>networkDynamic</code> objects as movies in various formats</p></a></li>
<li><a href='#render.d3movie'>
<p>Render out a web-based animation of a networkDynamic object using ndtv-d3 player app</p></a></li>
<li><a href='#stergm.sim.1'>
<p>Very Very Basic stergm simulation output</p></a></li>
<li><a href='#timeline'>
<p>Plot a timeline for the edge and vertex spells of a network</p></a></li>
<li><a href='#timePrism'>
<p>Plot a networkDynamic object as sequence of snapshots in a pseudo-3D space-time prism</p></a></li>
<li><a href='#toy_epi_sim'>
<p>Toy Epidemic Simulation Output from the EpiModel package</p></a></li>
<li><a href='#transmissionTimeline'>
<p>plots network diffusion/transmission tree with generation time vs. clock/model time</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Network Dynamic Temporal Visualizations</td>
</tr>
<tr>
<td>Version:</td>
<td>0.13.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-11-20</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0), network (&ge; 1.13),networkDynamic (&ge;
0.9),animation (&ge; 2.4),sna</td>
</tr>
<tr>
<td>Imports:</td>
<td>MASS, statnet.common, jsonlite, base64</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tergm (&ge; 3.6), ergm, tsna, testthat, knitr, htmlwidgets,
scatterplot3d</td>
</tr>
<tr>
<td>Description:</td>
<td>Renders dynamic network data from 'networkDynamic' objects as movies, interactive animations, or other representations of changing relational structures and attributes.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/statnet/ndtv">https://github.com/statnet/ndtv</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-20 19:52:34 UTC; skyebend</td>
</tr>
<tr>
<td>Author:</td>
<td>Skye Bender-deMoll [cre, aut],
  Martina Morris [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Skye Bender-deMoll &lt;skyebend@uw.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-20 22:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='compute.animation'>
Compute a sequence of vertex layouts over time suitable for rendering an animation. 
</h2><span id='topic+compute.animation'></span><span id='topic+slice.par'></span>

<h3>Description</h3>

<p>Steps through a networkDynamic object and applies layout algorithms at specified intervals, storing the calculated coordinates in the network for later use by the render.animation function. Generally the layout are done in a sequence with each using the previously calculated positions as initial seed coordinates in order to smooth out the resulting movie. Not all network layout algorithms give good results. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute.animation(net, slice.par = NULL, animation.mode = "kamadakawai", 
                  seed.coords = NULL, layout.par = list(), 
                  default.dist = NULL, weight.attr = NULL, weight.dist=FALSE,
                  chain.direction=c('forward','reverse'),
                  verbose = TRUE,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute.animation_+3A_net">net</code></td>
<td>

<p>A networkDynamic network object describing the temporal evolution of a network.
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_slice.par">slice.par</code></td>
<td>

<p>A list of parameters which specify the time steps and aggregation that should be used when moving through the network. Example: 
<code>slice.par=list(start=0,end=100,interval=1,
  aggregate.dur=1,rule='latest')</code>
</p>
<p>The parameters are:
</p>

<ul>
<li> <p><code>start</code>  The time point at which the sequence of layouts should begin
</p>
</li>
<li> <p><code>end</code>  The time point at which the sequence of layouts should finish 
</p>
</li>
<li> <p><code>interval</code>   The amount of time between successive layouts
</p>
</li>
<li> <p><code>aggregate.dur</code>   The duration of time over which the network should be aggregated to derive the network for each layout
</p>
</li>
<li> <p><code>rule</code>  The aggregation rule to be used when collapsing the network.
</p>
</li></ul>

</td></tr>
<tr><td><code id="compute.animation_+3A_animation.mode">animation.mode</code></td>
<td>

<p>The name of the network animation layout to be used. These layouts are name network.layout.animate.something but will be matched using the final part of the name.  Current useful values are:
</p>

<ul>
<li> <p><code><a href="#topic+network.layout.animate.kamadakawai">network.layout.animate.kamadakawai</a></code> essentially wrapper for the Kamadakawai layout included in the network package.
</p>
</li>
<li> <p><code><a href="#topic+network.layout.animate.MDSJ">network.layout.animate.MDSJ</a></code> a wrapper to do a Stress Majorization optimized MDS layout using the Multi Dimensional Scaling for Java package. Note, due to license restrictions, this algorithm is for non-commercial use only)
</p>
</li>
<li> <p><code><a href="#topic+network.layout.animate.useAttribute">network.layout.animate.useAttribute</a></code> applies coordinates stored in a user-generated dynamic network attribute
</p>
</li>
<li> <p><code><a href="#topic+network.layout.animate.Graphviz">network.layout.animate.Graphviz</a></code> a wrapper for the Graphviz software library &ndash;if the library is installed on your system.
</p>
</li></ul>

</td></tr>
<tr><td><code id="compute.animation_+3A_seed.coords">seed.coords</code></td>
<td>

<p>(optional) an array of initial positions to be used for the very first layout in the sequence
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_layout.par">layout.par</code></td>
<td>

<p>A list of parameters to be passed to the layout algorithm.
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_default.dist">default.dist</code></td>
<td>

<p>The default distance to be used to separate nodes (or disconnected network components). Default to <code>sqrt(network.size(net))</code>. See <code><a href="#topic+layout.distance">layout.distance</a></code>. 
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_weight.attr">weight.attr</code></td>
<td>
<p>charater providing the name of a (possibly dynamic) numeric edge attribute defining weights for the edges in each time slice. The values <code>activity.duration</code> or <code>activity.count</code> can be used to weight edges by the duration or count of the edge's activity spells in the time slice. 
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_weight.dist">weight.dist</code></td>
<td>
<p>logical, defaults to <code>FALSE</code>, meaning that the edge weight values provided by <code>weight.attr</code> will be treated as similarities (larger values means closer). A value of <code>TRUE</code> means that weights should be intrepreted as distances. See <code><a href="#topic+layout.distance">layout.distance</a></code> for more information. 
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_chain.direction">chain.direction</code></td>
<td>

<p>a value of <code>'forward'</code> indicates the chain of layouts should be computes in forward temporal order. A value <code>'reverse'</code> runs the chain backwards. For some layouts, reverse-chaining means that isolated vertices are more likely to have positions close to the partners they will be tied to.
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_verbose">verbose</code></td>
<td>

<p>If true, additional information about the layout process and progress will be returned to console. 
</p>
</td></tr>
<tr><td><code id="compute.animation_+3A_...">...</code></td>
<td>

<p>possible additional arguments to be passed to sub processes
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is under active development so implementation and parameters will continue to change.
</p>


<h3>Value</h3>

<p>Invisibly returns original network argument (which is also modified in-place), with the addition of a network variable <code>slice.par</code> storing the slice parameters used, and dynamic node attributes <code>animation.x</code> and <code>animation.y</code> storing the coordinates calculated for each time point. 
</p>


<h3>Author(s)</h3>

<p>Skye Bender-deMoll, and the statnet team.
</p>


<h3>References</h3>

<p>See docs for specific layout functions. 
</p>
<p>Bender-deMoll, S., Morris, M. and Moody, J. (2008) Prototype Packages for Managing and Animating Longitudinal Network Data: dynamicnetwork and rSoNIA <em>Journal of Statistical Software</em> 24:7.
</p>
<p>Krivitsky P and Handcock M (2012).
<em>Fit, Simulate and Diagnose Models for Network Evoluation based on Exponential-Family Random Graph Models</em>.
Version 3.0-999.  Project home page at <a href="https://statnet.org">https://statnet.org</a>, <a href="https://cran.r-project.org/package=tergm">https://cran.r-project.org/package=tergm</a>.
</p>
<p>Butts CT (2008). network: A Package for Managing Relational Data in R.  <em>Journal of Statistical Software</em>, 24(2). <a href="https://doi.org/10.18637/jss.v024.i02">doi:10.18637/jss.v024.i02</a>. 
</p>
<p>Skye Bender-deMoll and McFarland, Daniel A. (2006)  The Art and Science of Dynamic Network Visualization. <em>Journal of Social Structure. Volume 7, Number 2</em> <a href="https://www.cmu.edu/joss/content/articles/volume7/deMollMcFarland/">https://www.cmu.edu/joss/content/articles/volume7/deMollMcFarland/</a>
</p>


<h3>See Also</h3>

<p>See also <code><a href="#topic+layout.distance">layout.distance</a></code>, <code><a href="#topic+render.animation">render.animation</a></code>, <code><a href="#topic+network.layout.animate.MDSJ">network.layout.animate.MDSJ</a></code>,<a href="#topic+ndtv">ndtv</a>, package vignette (<code>vignette('ndtv')</code>) for examples.
</p>

<hr>
<h2 id='effectFun'>
functions to manipulate graphic attributes of network for 'special effects'
</h2><span id='topic+effectFun'></span><span id='topic+effects'></span><span id='topic+effect.edgeAgeColor'></span><span id='topic+effect.vertexAgeColor'></span>

<h3>Description</h3>

<p>Functions that can return appropriate graphic attributes (i.e. color interpolation) based on properties of the network (ages of edges,etc) 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effectFun(name, ...)
effect.edgeAgeColor (net, onset, fade.dur, 
                     start.color = "#000000FF", end.color = "#00000000", 
                     na.color = "#CCCCCC55")
effect.vertexAgeColor (net, onset, fade.dur, start.color = "#000000FF", 
                      end.color = "#00000000", na.color = "#CCCCCC55")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effectFun_+3A_name">name</code></td>
<td>

<p>the short name of the effect function to be returned. i.e <code>'edgeAgeColor'</code> will return the <code>effect.edgeAgeColor</code> function
</p>
</td></tr>
<tr><td><code id="effectFun_+3A_...">...</code></td>
<td>

<p>additional arguments to be passed in to effect functions
</p>
</td></tr>
<tr><td><code id="effectFun_+3A_net">net</code></td>
<td>
<p>a network object to be evaluated</p>
</td></tr>
<tr><td><code id="effectFun_+3A_onset">onset</code></td>
<td>
<p>the time at which the network should be evaluated</p>
</td></tr>
<tr><td><code id="effectFun_+3A_fade.dur">fade.dur</code></td>
<td>
<p>(effect property) numeric value giving the color duration of the interpolation</p>
</td></tr>
<tr><td><code id="effectFun_+3A_start.color">start.color</code></td>
<td>
<p>(effect property) color name for color value to be used at start of interpolation</p>
</td></tr>
<tr><td><code id="effectFun_+3A_end.color">end.color</code></td>
<td>
<p>(effect property) color name for color value to be used at start of interpolation</p>
</td></tr>
<tr><td><code id="effectFun_+3A_na.color">na.color</code></td>
<td>
<p>(effect property) default color name for color value to be used for edge/vertices that are not currently active</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The special effects functions can be called directly for use as graphic parameters with standard network plots, or via  <code>effectFun</code> which will return the effect in a functional form so that it can evaluated/substituted at each time point as plot control function to <code><a href="#topic+render.animation">render.animation</a></code>
</p>
<p><code>effect.edgeAgeColor</code> calculates the edge of each edge in <code>net</code> at the time <code>onset</code> and uses the value to return a color interpolated between <code>start.color</code> and <code>end.color</code> by comparing the time of each edge to the <code>fade.dur</code> parameter
</p>
<p><code>effect.vertexAgeColor</code> does the same, but for vertices. 
</p>
<p>Users can also define functions to be called in this way
</p>


<h3>Value</h3>

<p><code>effectFun</code> returns the function named by its first argument, with any arguments matching in ... substituted.
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ndtv)
data('short.stergm.sim')
# render a plot with edges colored by age at time 24
# edges labeld with age
plot(short.stergm.sim,edge.col=effect.edgeAgeColor(short.stergm.sim,
                                                   fade.dur=25,
                                                   start.color = 'red',
                                                   end.color='blue', 
                                                   onset=24),
     edge.label=edges.age.at(short.stergm.sim,24),
     edge.lwd=5)
     
## Not run: 
# render an animation where edges are colored dynamically by their age
# starting out red and fading to blue
compute.animation(short.stergm.sim,slice.par = list(start=0,
                                                   end=25,
                                                   interval=1, a
                                                   ggregate.dur=5,
                                                   rule='latest'))
render.animation(short.stergm.sim,edge.col=effectFun('edgeAgeColor',
                                                      fade.dur=5,
                                                      start.color = 'red',
                                                      end.color='blue'))

## End(Not run)     

</code></pre>

<hr>
<h2 id='export.dot'>
Export a network file as Graphviz .dot formatted text file. 
</h2><span id='topic+export.dot'></span>

<h3>Description</h3>

<p>A crude exporter for saving out a network in the Graphviz .dot format. <a href="http://graphviz.org/content/dot-language">http://graphviz.org/content/dot-language</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export.dot(x, file = "", coords = NULL, all.dyads = FALSE, 
            vert.attrs = NULL, edge.attrs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export.dot_+3A_x">x</code></td>
<td>
<p> The network object to be exported
</p>
</td></tr>
<tr><td><code id="export.dot_+3A_file">file</code></td>
<td>
<p> The file name where network should be saved
</p>
</td></tr>
<tr><td><code id="export.dot_+3A_coords">coords</code></td>
<td>
<p> Optional node coordinates to include
</p>
</td></tr>
<tr><td><code id="export.dot_+3A_all.dyads">all.dyads</code></td>
<td>
<p> FALSE, a numeric value, or a symetric matrix of distances providing the desired lengths for all dyads..  If numeric,  entries are written out for all possible dyads in the network, and the numeric value will be used to fill in the values for all the dyads in the matrix not linked by an edge (see <code>default.dist</code> param to <code><a href="#topic+layout.distance">layout.distance</a></code>). This is necessary for some uses cases, but will generate dramatically larger files and slower performance. For the matrix and numeric cases, the values will be written as Graphviz 'len' edge attributes, and the values of <code>edge.attrs</code> will be ignored.  
</p>
</td></tr>
<tr><td><code id="export.dot_+3A_vert.attrs">vert.attrs</code></td>
<td>
<p>optional character vector listing the names of any vertex attributes of the network that should be included as attributes of the nodes in the Graphviz dot file. (e.g. 'label', 'width')</p>
</td></tr>
<tr><td><code id="export.dot_+3A_edge.attrs">edge.attrs</code></td>
<td>
<p>optional character vector listing the names of any edge attributes of the network that should be included as attributes of edges in the Graphviz dot file. (e.g. 'weight','penwidth')</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A crude exporter for saving out a network in the Graphviz .dot format. <a href="http://graphviz.org/content/dot-language">http://graphviz.org/content/dot-language</a>
</p>


<h3>Value</h3>

<p>Returns nothing but creates a file in .dot format: <a href="http://graphviz.org/content/dot-language">http://graphviz.org/content/dot-language</a>
</p>


<h3>Note</h3>

<p>This is still a partial implementation focusing on edges, edge wights, and node coordinates in order to pass the information to graphViz to use it as an external layout engine rather than a renderer. 
</p>


<h3>Author(s)</h3>

<p>Skye Bender-deMoll
</p>


<h3>References</h3>

<p><a href="http://graphviz.org/content/dot-language">http://graphviz.org/content/dot-language</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> library(network)
 net &lt;- network.initialize(5)
 net[1,] &lt;-1
 net[2,3] &lt;-2
 export.dot(net,file="testNet.dot")
 
 # clean up file afterwords (just for testing)
 file.remove("testNet.dot")
</code></pre>

<hr>
<h2 id='export.pajek.net'>
Export a network file as a Pajek .net formatted text file.
</h2><span id='topic+export.pajek.net'></span>

<h3>Description</h3>

<p>A basic tool for exporting a network as a Pajek <a href="http://pajek.imfm.si/doku.php?id=pajek">http://pajek.imfm.si/doku.php?id=pajek</a> .net format text file.  Does not yet encode attributes, layout information or timing info.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export.pajek.net(net, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export.pajek.net_+3A_net">net</code></td>
<td>
<p>a network object
</p>
</td></tr>
<tr><td><code id="export.pajek.net_+3A_filename">filename</code></td>
<td>
<p> the file where the network object should be saved
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>.net is basically an edgelist format with sections for vertices, arcs and edges.  Vertex attributes for 'label', coordinates named 'x','y','z', 'color' as 'ic' (inner color), 'shape' as a shape value  will be written in the appropriate Pajek format.  An edge attribute of 'weight' will be written as the edge value, 'width' as 'w' and 'color' as 'c'.    See <code><a href="network.html#topic+read.paj">read.paj</a></code> for reading pajek files (time info supported) 
</p>


<h3>Value</h3>

<p>A file is written out containing the vertex and edge data.
</p>


<h3>Note</h3>

<p>This is a very minimal implementation, mostly used for testing layout algorithms.  Timing information is not yet supported.
</p>


<h3>Author(s)</h3>

<p>Skye Bender-deMoll
</p>


<h3>References</h3>

<p>Pajek software: <a href="http://pajek.imfm.si/doku.php?id=pajek">http://pajek.imfm.si/doku.php?id=pajek</a>
</p>
<p>Pajek file format documentation: <a href="http://vlado.fmf.uni-lj.si/pub/networks/pajek/svganim/1.10.7.1/PajekToSvgAnim.pdf">http://vlado.fmf.uni-lj.si/pub/networks/pajek/svganim/1.10.7.1/PajekToSvgAnim.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data('toy_epi_sim')
toy_epi_sim%v%'color'&lt;-'blue'
export.pajek.net(toy_epi_sim,filename='toy_epi_sim.net')

# clean up file afterwards (just for testing)
file.remove('toy_epi_sim.net')
</code></pre>

<hr>
<h2 id='filmstrip'>
Create a 'small multiples' plot of a networkDynamic object.
</h2><span id='topic+filmstrip'></span>

<h3>Description</h3>

<p>Plots several frames of a network animation of a <code>networkDynamic</code> object in a single static image as a way to provide a quick visual summary of the dynamics of the network.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filmstrip(nd, frames = 9, slice.par, render.par, mfrow, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filmstrip_+3A_nd">nd</code></td>
<td>

<p>networkDynamic object to be plotted
</p>
</td></tr>
<tr><td><code id="filmstrip_+3A_frames">frames</code></td>
<td>

<p>integer number of frames to extract and render
</p>
</td></tr>
<tr><td><code id="filmstrip_+3A_slice.par">slice.par</code></td>
<td>

<p>optional list of parameters to control binning of network, overrides <code>frames</code> argument.  See <code><a href="#topic+compute.animation">compute.animation</a></code>
</p>
</td></tr>
<tr><td><code id="filmstrip_+3A_render.par">render.par</code></td>
<td>

<p>optional list of parameters to control rendering of network. See <code><a href="#topic+render.animation">render.animation</a></code>
</p>
</td></tr>
<tr><td><code id="filmstrip_+3A_mfrow">mfrow</code></td>
<td>

<p>optional two-element numeric vector giving the number of rows and columns for the layout grid. See <code><a href="graphics.html#topic+par">par</a></code>.
</p>
</td></tr>
<tr><td><code id="filmstrip_+3A_verbose">verbose</code></td>
<td>

<p>boolean,(defaults to FALSE) verbose argument to be passed to <code><a href="#topic+compute.animation">compute.animation</a></code><code><a href="#topic+render.animation">render.animation</a></code>/
</p>
</td></tr>
<tr><td><code id="filmstrip_+3A_...">...</code></td>
<td>

<p>additional arguments to be passed to <code><a href="network.html#topic+plot.network">plot.network</a></code> via <code><a href="#topic+render.animation">render.animation</a></code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the <code><a href="networkDynamic.html#topic+networkDynamic">networkDynamic</a></code> object does not already have animation coordinates, calls <code><a href="#topic+compute.animation">compute.animation</a></code> to calculate coordinates for the appropriate number of frames.  The <code>frames</code> argument determines the number of evenly-spaced network slices to be rendered by <code><a href="#topic+render.animation">render.animation</a></code> (with the normal plot recording disabled) as images on the final plot grid.  Note that if the layout has coordinates pre-computed by <code>compute.animation</code>, the slices selected by the <code>frames</code> argument may not align exactly with the previously compute slices.  Passing in a <code>slice.par</code> argument will overide <code>frames</code> to determine exactly which slices will be rendered. 
</p>
<p>The layout of plot grid can be changed via the <code>mfrow</code> argument. 
</p>


<h3>Value</h3>

<p>Generates plots on the active graphics device.
</p>


<h3>Note</h3>

<p>This is a DRAFT version of the function.  
</p>


<h3>Author(s)</h3>

<p>skyebend
</p>


<h3>See Also</h3>

<p>See also <code><a href="#topic+compute.animation">compute.animation</a></code>, <code><a href="#topic+render.animation">render.animation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(stergm.sim.1)
filmstrip(stergm.sim.1,displaylabels=FALSE)
# print an overall title for the main plot
title('stergm.sim.1 at 9 time points')

# adjust margins of individual plots to make more room
par(mar=c(1,1,1,1))
filmstrip(stergm.sim.1)
</code></pre>

<hr>
<h2 id='install.ffmpeg'>
Instructions for installing ffmpeg on various platforms
</h2><span id='topic+install.ffmpeg'></span>

<h3>Description</h3>

<p>The animation package uses ffmpeg to export movies into video formats. This internal function doesn't actually install the ffmpeg library, it just gives instructions on how to do the installation &ndash; which really just point to these docs. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install.ffmpeg()
</code></pre>


<h3>Details</h3>

<p>Here are some all-too-brief instructions for the various platforms. After you have installed FFmpeg on your system, you can verify that R knows where to find it by typing <code>Sys.which('ffmpeg')</code> in the R terminal. You many need to first restart R after the install. 
</p>


<h4>Installing in Windows</h4>


<ul>
<li><p> Download the recent 'static' build from  <a href="https://ffmpeg.org/download.html">https://ffmpeg.org/download.html</a>
</p>
</li>
<li><p> Downloads are compressed with 7zip, so you may need to first install a 7zip decompression program before you can unpack the installer.
</p>
</li>
<li><p> Decompress the package and store contents on your computer (probably in Program Files)
</p>
</li>
<li><p> Edit your system path variable to include the path to the directory containing ffmpeg.exe
</p>
</li></ul>




<h4>Installing on a Mac</h4>


<ul>
<li><p> Download most recent build from https://www.evermeet.cx/ffmpeg/
</p>
</li>
<li><p> The binary files are compressed with 7zip so may need to install an unarchiving utility: <a href="https://theunarchiver.com/">https://theunarchiver.com/</a>
</p>
</li>
<li><p> Copy ffmpeg to /usr/local/bin/ffmpeg
</p>
</li></ul>




<h4>Installing in Linux/Unix (ffmpeg or avconv)</h4>


<ul>
<li><p> FFmpeg is a standard package on many linux systems.  You can check if it is installed with a command like <code>dpkg -s ffmpeg</code>. If it is not installed, you should be able to install with your system's package manager.  i.e. <code>sudo apt-get install ffmpeg</code>  or search 'ffmpeg' in the Software Center on Ubuntu.
</p>
</li>
<li><p> Ubuntu and Debian systems may use an alternate program named &quot;avconv&quot; which can be installed with <code>sudo apt-get install libav-tools</code> or by searching 'libav-tools' in Ubuntu's Software Center. Verify that R knows where to find it by typing &lsquo;Sys.which(&rsquo;avconv')' in the R terminal. You many need to first restart R after the install. The <code>animation</code> library should automatically use 'avconv' if it sees it instead of 'ffmpeg'. If it doesn't, you can tell it to by typing <code>ani.options(ffmpeg='avconv')</code> in your R session
</p>
</li></ul>




<h3>Value</h3>

<p>On winddows: Will open a web browser window to the ffmpeg website and give instructions how to open this help file. 
</p>


<h3>References</h3>

<p><a href="https://ffmpeg.org">https://ffmpeg.org</a>
</p>

<hr>
<h2 id='install.graphviz'>
Instructions for installing the Graphviz libraries on various platforms
</h2><span id='topic+install.graphviz'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+network.layout.animate.Graphviz">network.layout.animate.Graphviz</a></code> layout provides an interface for calling the various layouts provided by the Graphviz library (<a href="http://www.graphviz.org">http://www.graphviz.org</a>) if it is installed on your system.  Since Graphviz is <em>not</em> an R package, you must manually install it on your system to get it to work. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install.graphviz()
</code></pre>


<h3>Details</h3>

<p>This function doesn't actually install Graphviz, it just points to these docs which give a very brief overview of how to do it on each platform. 
</p>


<h4>Installing on Windows</h4>


<ul>
<li><p> download the &quot;current stable release&quot; installer from <a href="http://graphviz.org/download/">http://graphviz.org/download/</a>
</p>
</li>
<li><p> run the installer
</p>
</li>
<li><p> Edit your system path variable to include the path to the directory containing the graphviz .exe files.
</p>
</li></ul>




<h4>Installing on a Mac</h4>

<p>It seems that there is no longer a .pkg for the mac, but it can be installed easily via homebrew
</p>

<ul>
<li><p> install the brew package manager from <a href="https://brew.sh/">https://brew.sh/</a>
</p>
</li>
<li><p> from the Terminal, run <code>brew install graphviz</code>
</p>
</li></ul>




<h4>Installing in Linux/unix</h4>


<ul>
<li><p> Graphviz is a standard package on many linux distributions. You can check if it is installed with a command like <code>dpkg -s graphivz</code>.  If it is not installed, you should be able to install it with your system's package manager. i.e. <code>sudo apt-get install graphviz</code> or search 'graphivz' in the Software Center on Ubuntu.
</p>
</li></ul>


<p>When Graphviz is installed correctly on any platform the R command <code>Sys.which('neato')</code> should print out the path to the installed libraries.
</p>


<h3>Value</h3>

<p>On some platforms this function will open a web browser pointing to the download page for Graphviz. 
</p>


<h3>Author(s)</h3>

<p>skyebend
</p>


<h3>References</h3>

<p>John Ellson et.al (2001) &quot;Graphviz &ndash; open source graph drawing tools&quot; Lecture Notes in Computer Science. Springer-Verlag. p483-484  <a href="http://www.graphviz.org">http://www.graphviz.org</a>
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+network.layout.animate.Graphviz">network.layout.animate.Graphviz</a></code> for more details about how ndtv usees Graphviz.
</p>

<hr>
<h2 id='layout.center'>
Functions to center and normalize the coordinates of a network plot within a window.
</h2><span id='topic+layout.center'></span><span id='topic+layout.normalize'></span>

<h3>Description</h3>

<p>The <code>layout.center</code> function takes a matrix of coordinates and an x- and y-coordinate range and centers the input coordinates within the range.
</p>
<p>The <code>layout.normalize</code> function takes a matrix of coordinates and rescales them to the range (-1,1). If <code>keep.aspect.ratio=FALSE</code>, x- and y-coords are rescaled independently. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layout.center(coords, xlim, ylim)
layout.normalize(coords, keep.aspect.ratio = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layout.center_+3A_coords">coords</code></td>
<td>

<p>two column numeric matrix of coordinates.
</p>
</td></tr>
<tr><td><code id="layout.center_+3A_xlim">xlim</code></td>
<td>

<p>two element numeric vector giving min and max of x axis
</p>
</td></tr>
<tr><td><code id="layout.center_+3A_ylim">ylim</code></td>
<td>

<p>two element numeric vector giving min and max of y axis
</p>
</td></tr>
<tr><td><code id="layout.center_+3A_keep.aspect.ratio">keep.aspect.ratio</code></td>
<td>

<p>boolean, if FALSE, x- and y-axis will be rescaled indpendently 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are used internally, but can also be called by the user when manipulating coordinates for layouts, especially when the coordinate ranges for a sequence of layouts do not match up well.  
TODO: add barycenter function, and center on vertex function
</p>


<h3>Value</h3>

<p>The input two column numeric matrix of coordinates with positions transformed.
</p>


<h3>Author(s)</h3>

<p>skyebend
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(McFarland_cls33_10_16_96)
coords&lt;-plot(cls33_10_16_96)

# center layout coords with 100 unit area
layout.center(coords,xlim=c(0,100),ylim=c(0,100))

# rescale layout coords to unit interval
layout.normalize(coords)
</code></pre>

<hr>
<h2 id='layout.distance'>
Provides a default way to convert a network into a set of euclidian distances suitable for MDS-style layout optimization.
</h2><span id='topic+layout.distance'></span>

<h3>Description</h3>

<p>Computes a geodesic path distance matrix for a network after symmetrizing, replacing Inf values with <code>default.dist</code> 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layout.distance(net, default.dist = NULL,  weight.attr = NULL,
                 weight.dist = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layout.distance_+3A_net">net</code></td>
<td>

<p>The network that the distance matrix should be computed for
</p>
</td></tr>
<tr><td><code id="layout.distance_+3A_default.dist">default.dist</code></td>
<td>

<p>An (optional) value to be used to replace undefined values created by isolates and disconnected components. 
</p>
</td></tr>
<tr><td><code id="layout.distance_+3A_weight.attr">weight.attr</code></td>
<td>
<p>character, (optional) the name of an edge attribute of <code>net</code> containing numeric values to use for edge distances.</p>
</td></tr>
<tr><td><code id="layout.distance_+3A_weight.dist">weight.dist</code></td>
<td>
<p>logical, should the edge values given by <code>weight.attr</code> be interpreted as distances (larger values should place vertices farther apart) ? Default (<code>FALSE</code>) assumes values are similarities (larger values means stronger connection means vertices closer together ).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no <code>default.dist</code> is provided the value <code>sqrt(network.size(net))</code> will be used. If input is similarity, it will be recoded/reversed to distances by subtracting each non-zero value from the max  value of the matrix and adding the min value of the matrix. If the network is directed, the matrix will then be symmatrized to either the max value of i-j relation (if <code>weight.dist=FALSE</code>) or min value of i-j relation (if <code>weight.dist=TRUE</code>). Note that if the network is marked as undirected but includes bi-directional edges, the (i,j) value will be chosen instead of (j,i). 
</p>


<h3>Value</h3>

<p>A distance matrix assumed to be appropriate for the network.
</p>


<h3>Author(s)</h3>

<p>Skye Bender-deMoll
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test&lt;-network.initialize(4)
add.edges(test,tail=1:2,head=2:3)
# in adjacency matrix form
as.matrix(test)
# as matrix of geodesic distances
layout.distance(test,1.5)

</code></pre>

<hr>
<h2 id='msm.sim'>MSM.sim : output of a stergm simulation of basic sex contact network model</h2><span id='topic+msm.sim'></span>

<h3>Description</h3>

<p>A 1000 vertex networkDynamic object that contains the output of 10 timesteps of a discrete stergm simulation of a basic sex contact network model. The model has two vertex types ('races') with different contact preferencs expressed with a <code>nodematch</code> parameter.   The output network object is included as an example because re-running the model can take a while.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(msm.sim)</code></pre>


<h3>Format</h3>

<p>a <code><a href="networkDynamic.html#topic+networkDynamic">networkDynamic</a> object</code></p>


<h3>Details</h3>

<p>The model was built with the following stergm:
</p>
<pre>
msm.net &lt;- network.initialize(1000, directed=F)  
msm.net %v% 'race' &lt;- rep(c(1,2),500)
sm.form.constraints &lt;- ~bd(maxout=2)
msm.form.formula &lt;- ~edges+nodematch('race')+
	degree(2)
msm.target.stats &lt;- c(450,375,50)
msm.diss.formula &lt;- ~offset(edges)+offset(nodematch("race"))
msm.theta.diss &lt;- c(2.944, -0.747)
msm.fit &lt;- stergm(msm.net,
	formation= msm.form.formula,
	dissolution= msm.diss.formula,
	targets="formation",
	target.stats= msm.target.stats,
	offset.coef.diss = msm.theta.diss,
	form.constraints=msm.form.constraints,
	estimate = "EGMME",
	control=control.stergm(SA.plot.progress=TRUE)
)																				
msm.sim &lt;- simulate(msm.fit,nsim=1,time.slices=100)
</pre>
<p>However, the tergm-related output that would normally be attached to the network (toggles, etc) has been removed.
</p>


<h3>Source</h3>

<p>statnet project stergm tutorial. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(network)
require(networkDynamic)
data(msm.sim)
# show the network, aggregating 5 timesteps
plot(network.extract(msm.sim,onset=0,terminus=5),
  vertex.col=msm.sim%v%"race",vertex.cex=0.5,edge.col="gray")

# this could take 10 minutes, so don't run in example checking
## Not run: 
# use ndtv to render a movie of the momentary view of the network
render.animation(msm.sim,vertex.col=msm.sim%v%'race',vertex.cex=.5)
ani.replay()
saveVideo(ani.replay(),video.name="msm.simMomentary.mp4", other.opts="-b 5000k",clean=TRUE)

# another version, this time with more temporal aggregation
msm.sim &lt;- compute.animation(msm.sim,slice.par=list(start=0,
                                                    end=10,
                                                    interval=1,
                                                    aggregate.dur=3,
                                                    rule='latest'))
# also more render more inbetween frames
render.animation(msm.sim,render.par = list(tween.frames = 15,show.times=TRUE), 
  vertex.col=msm.net%v%'race',vertex.cex=.5)
saveVideo(ani.replay(),video.name="msm.sim3Aggregated.mp4", other.opts="-b 5000k",clean=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='ndtv-package'>
Network Dynamic Temporal Visualization (ndtv)
</h2><span id='topic+ndtv-package'></span><span id='topic+ndtv'></span>

<h3>Description</h3>

<p>Construct visualizations such as timelines and animated movies of networkDynamic objects to show changes in structure and attributes over time.
</p>


<h3>Details</h3>

<p>For version and license information, run <code>packageDescription('ndtv')</code>
</p>
<p>Uses <a href="network.html#topic+network">network</a> objects with dynamics encoded using <a href="networkDynamic.html#topic+networkDynamic">networkDynamic</a>. 
</p>
<p>Key features:
</p>

<ul>
<li><p> Compute a dynamic layout using <a href="#topic+compute.animation">compute.animation</a>.
</p>
</li>
<li><p> Render it as a movie using <a href="#topic+render.animation">render.animation</a>.
</p>
</li>
<li><p> Render animations to a web page using <a href="#topic+render.d3movie">render.d3movie</a>
</p>
</li>
<li><p> Plot multiple 'stills' of a movie with <a href="#topic+filmstrip">filmstrip</a>
</p>
</li>
<li><p> Plot a timeline of edge and vertex activity with <a href="#topic+timeline">timeline</a>
</p>
</li>
<li><p> Plot network geodesic proximities as a stream graph with <a href="#topic+proximity.timeline">proximity.timeline</a>
</p>
</li></ul>

<p>To view package vignettes and extended examples, see <code>browseVignettes(package='ndtv')</code>.
</p>
<p>For a more indepth tutorial, see <a href="https://statnet.org/Workshops/ndtv_workshop.html">https://statnet.org/Workshops/ndtv_workshop.html</a>
</p>
<p>The package includes several example datasets:
</p>

<ul>
<li> <p><code><a href="#topic+msm.sim">msm.sim</a></code> output of a stergm simulation of basic sex contact network model
</p>
</li>
<li> <p><code><a href="#topic+short.stergm.sim">short.stergm.sim</a></code> Very Very Basic stergm simulation output (25 time steps)
</p>
</li>
<li> <p><code><a href="#topic+stergm.sim.1">stergm.sim.1</a></code>    Very Very Basic stergm simulation output (100 time steps)
</p>
</li>
<li> <p><code><a href="#topic+toy_epi_sim">toy_epi_sim</a></code>     Toy Epidemic Simulation Output from the EpiModel package
</p>
</li></ul>

<p>Report bugs at: <a href="https://github.com/statnet/ndtv/issues">https://github.com/statnet/ndtv/issues</a>
</p>


<h3>Author(s)</h3>

<p>Skye Bender-deMoll, and the Statnet Commons team
Maintainer: Skye &lt;skyebend@uw.edu&gt;
</p>


<h3>References</h3>

<p>Bender-deMoll, S., Morris, M. and Moody, J. (2008) Prototype Packages for Managing and Animating Longitudinal Network Data: dynamicnetwork and rSoNIA <em>Journal of Statistical Software</em> 24:7.
</p>
<p>Hunter DR, Handcock MS, Butts CT, Goodreau SM, Morris M (2008b).  ergm: A Package to Fit, Simulate and Diagnose Exponential-Family Models for Networks.  <em>Journal of Statistical Software</em>, 24(3). <a href="https://doi.org/10.18637/jss.v024.i03">doi:10.18637/jss.v024.i03</a>. 
</p>
<p>Butts CT (2008). network: A Package for Managing Relational Data in R.  <em>Journal of Statistical Software</em>, 24(2). <a href="https://doi.org/10.18637/jss.v024.i02">doi:10.18637/jss.v024.i02</a>. 
</p>
<p>Carter T. Butts, Ayn Leslie-Cook, Pavel N. Krivitsky and Skye Bender-deMoll (2015). networkDynamic: Dynamic Extensions for Network Objects. R package version 0.7. <a href="https://statnet.org">https://statnet.org</a>
</p>
<p>Skye Bender-deMoll and McFarland, Daniel A. (2006)  The Art and Science of Dynamic Network Visualization. <em>Journal of Social Structure. Volume 7, Number 2</em> <a href="https://www.cmu.edu/joss/content/articles/volume7/deMollMcFarland/">https://www.cmu.edu/joss/content/articles/volume7/deMollMcFarland/</a>
</p>


<h3>See Also</h3>

<p><code><a href="networkDynamic.html#topic+networkDynamic-package">networkDynamic</a></code>, <code><a href="#topic+compute.animation">compute.animation</a></code>,<code><a href="#topic+render.animation">render.animation</a></code> for examples, and the package vignette <code>vignette(package='ndtv')</code>.
</p>

<hr>
<h2 id='ndtvAnimationWidget'>
htmlwidgets wrapper functions for including ndtv-d3 animations in shinyapps
</h2><span id='topic+ndtvAnimationWidget'></span><span id='topic+ndtvAnimationWidgetOutput'></span><span id='topic+renderNdtvAnimationWidget'></span>

<h3>Description</h3>

<p>Wrapper functions to provide ndtv-d3 animation as an <code>htmlwidget</code>for use within an RStudio &quot;shiny&quot; web application.  These functions are not normally called by R users directly.  For example shiny app template code please see the 'server.R' and 'ui.R' files at <a href="https://github.com/statnet/ndtv/tree/master/htmlWidgetShinyTest">https://github.com/statnet/ndtv/tree/master/htmlWidgetShinyTest</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ndtvAnimationWidget(out, options, width = NULL, height = NULL)

renderNdtvAnimationWidget(expr, env = parent.frame(), quoted = FALSE) 

ndtvAnimationWidgetOutput(outputId, width = "100%", height = "500px")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ndtvAnimationWidget_+3A_out">out</code></td>
<td>

<p>the data structure describing the network animation. produced internally by <code><a href="#topic+render.d3movie">render.d3movie</a></code>
</p>
</td></tr>
<tr><td><code id="ndtvAnimationWidget_+3A_options">options</code></td>
<td>

<p>usually the <code>'d3.options'</code> from <code><a href="#topic+render.d3movie">render.d3movie</a></code>
</p>
</td></tr>
<tr><td><code id="ndtvAnimationWidget_+3A_width">width</code></td>
<td>

<p>Display width for the widget. Must be a valid CSS unit (like &quot;100%&quot;, &quot;400px&quot;, &quot;auto&quot;) or a number, which will be coerced to a string and have &quot;px&quot; appended.
</p>
</td></tr>
<tr><td><code id="ndtvAnimationWidget_+3A_height">height</code></td>
<td>

<p>Display eight for the widget. Must be a valid CSS unit (like &quot;100%&quot;, &quot;400px&quot;, &quot;auto&quot;) or a number, which will be coerced to a string and have &quot;px&quot; appended.
</p>
</td></tr>
<tr><td><code id="ndtvAnimationWidget_+3A_outputid">outputId</code></td>
<td>
<p>See <code><a href="htmlwidgets.html#topic+htmlwidgets-shiny">htmlwidgets-shiny</a></code></p>
</td></tr>
<tr><td><code id="ndtvAnimationWidget_+3A_expr">expr</code></td>
<td>
<p>An expression that does any necessary network processing and generates an HTML widget (usually via <code>render.d3move</code>). See <code><a href="htmlwidgets.html#topic+htmlwidgets-shiny">htmlwidgets-shiny</a></code></p>
</td></tr>
<tr><td><code id="ndtvAnimationWidget_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate expr. See <code><a href="htmlwidgets.html#topic+htmlwidgets-shiny">htmlwidgets-shiny</a></code></p>
</td></tr>
<tr><td><code id="ndtvAnimationWidget_+3A_quoted">quoted</code></td>
<td>
<p>Is expr a quoted expression (with quote())? This is useful if you want to save an expression in a variable. See <code><a href="htmlwidgets.html#topic+htmlwidgets-shiny">htmlwidgets-shiny</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The ndtv-d3 interactive HTML5 network animation can normally be produced via <code>render.d3movie(...,output.mode='htmlWidget')</code>. These functions are wrappers to make it possible to embed the animations as part of a 'Shiny' (<a href="https://shiny.rstudio.com/">https://shiny.rstudio.com/</a>) web application.  
</p>
<p><code>renderNdtvAnimationWidget</code> should be used as the wraper for the <code>render.d3movie</code> call within the app's <code>server.R</code> file and <code>ndtvAnimationWidgetOutput</code> is the corresponding ui component to include  in the <code>ui.R</code> file. See <code><a href="htmlwidgets.html#topic+htmlwidgets-shiny">htmlwidgets-shiny</a></code>
</p>
<p><code>ndtvAnimationWidget</code> initializes the widget, usually called automatically inside <code><a href="#topic+render.d3movie">render.d3movie</a></code> when <code>output.mode='htmlWidget'</code>.  
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>See Also</h3>

<p><code><a href="htmlwidgets.html#topic+htmlwidgets-package">htmlwidgets-package</a></code>, <code><a href="#topic+render.d3movie">render.d3movie</a></code>
</p>

<hr>
<h2 id='network.layout.animate'>
Sequentially-stable network layout algorithms suitable for generating network animations.
</h2><span id='topic+network.layout.animate.kamadakawai'></span><span id='topic+network.layout.animate.MDSJ'></span><span id='topic+network.layout.animate.useAttribute'></span><span id='topic+network.layout.animate.Graphviz'></span>

<h3>Description</h3>

<p>The <code>network.layout.animate.*</code> layouts are often adaptations or wrappers for existing static layout algorithms with some appropriate presets.  They all accept the coordinates of the &lsquo;previous&rsquo; layout as an argument so that they can try to construct a suitably smooth sequence of node positions. Usually these layouts are not called directly and instead selected by specifying the appropriate <code>animation.mode</code> argument to <code><a href="#topic+compute.animation">compute.animation</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.layout.animate.kamadakawai(net, dist.mat = NULL, default.dist = NULL, 
                        seed.coords = NULL, layout.par = list(),verbose=FALSE)

network.layout.animate.MDSJ(net, dist.mat = NULL, default.dist = NULL, 
                seed.coords = NULL, layout.par=list(max_iter=50, dimensions =
                 2),verbose=TRUE)
                
network.layout.animate.useAttribute(net, dist.mat = NULL, default.dist = NULL,
     seed.coords = NULL,  layout.par = list(x = "x", y = "y"), verbose = TRUE)
     
network.layout.animate.Graphviz(net, dist.mat = NULL, default.dist = NULL,
     seed.coords = NULL,  layout.par = list(), verbose = TRUE)     
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.layout.animate_+3A_net">net</code></td>
<td>
<p> The network (or temporal sub-network) that will be used to determine vertex positions. 
</p>
</td></tr>
<tr><td><code id="network.layout.animate_+3A_dist.mat">dist.mat</code></td>
<td>
<p> A (usually optional) matrix of distances between vertices that should be used to define node positions.  This is important to provide if network edge weights need special handling - for example to be fliped from similarities to distances, symmetrized, etc. 
</p>
</td></tr>
<tr><td><code id="network.layout.animate_+3A_default.dist">default.dist</code></td>
<td>
<p> A default distance value which a layout may use to fill in for undefined dyads to space out isolates and disconnected components. 
</p>
</td></tr>
<tr><td><code id="network.layout.animate_+3A_seed.coords">seed.coords</code></td>
<td>
<p>A two-column by n-vertex matrix of starting coordinates for the layout to use, usually the coordinates of the previous layout. 
</p>
</td></tr>
<tr><td><code id="network.layout.animate_+3A_layout.par">layout.par</code></td>
<td>
<p>A list of named layout parameters specific to the algorithm. 
</p>
</td></tr>
<tr><td><code id="network.layout.animate_+3A_verbose">verbose</code></td>
<td>
<p>Print more information about the layout process</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These layouts are generally called by <code><a href="#topic+compute.animation">compute.animation</a></code> on a sequence of extracted networks, with each layout fed the output of the previous layout
</p>
<p>Usually if the dist.mat is not included, one will be calculated using the <code><a href="#topic+layout.distance">layout.distance</a></code> function which will compute the geodesic path length distance between nodes after symmetrizing the network and replacing Inf values with either sqrt(network.size) or the passed in <code>default.dist</code>
</p>
<p><strong>KamadaKawai</strong>
</p>
<p>The KamadaKawai option provides resonably good dynamically stable layouts. It computes a symmetric geodesic distance matrix from the input network (replacing infinite values with <code>default.dist</code>, and seeds the initial coordinates for each slice with the results of the previous slice in an attempt to find solutions that are as close as possible to the previous positions.  However, it performs poorly on large networks and is not as stable as MDSJ. 
See <code><a href="network.html#topic+network.layout.kamadakawai">network.layout.kamadakawai</a></code> for more details about the implementation and parameters
</p>
<p><strong>MDSJ</strong>
</p>
<p>The MDSJ layout uses the MDSJ Java library written by Christian Pich, Algorithmics Group, Department of Computer &amp; Information Science, University of Konstanz, Germany <code>http://algo.uni-konstanz.de/software/mdsj/</code> (original url), 2009. The library does Multidimensional Scaling (MDS) of the distance matrix using SMACOF optimization.  Because MDSJ is released under a creative commons by-nc-sa license it is not distributed with the ndtv package, but an installer is included.
</p>
<p>When the MDSJ layout is called it checks for working Java installation, and then checks if MDSJ is installed. If not, it prompts the user and (optionally) downloads and installs MDSJ. If MDSJ is not installed, it falls back to calling the KamadaKawai layout instead.  
</p>
<p>MDSJ is quite fast for larger networks, but relatively less efficient for smaller ones because of the overhead of <code>system</code> calls and Java start up for each layout.  The <code>verbose</code> option prints more information on the Java process.  The <code>max_iter</code> parameter sets the maximum of minimization steps the algorithm can try. In cases where it seems like the layout has not completely finished, this can be set higher. The <code>dimensions</code> argument sets the number of dimensions the layout should be performed in and indirectly the number of columns expected and produced for coordinate matrices. 
</p>
<p><strong>useAttribute</strong>
</p>
<p>The <code>useAttribute</code> layout makes it possible to define vertex positions using a static or dynamic vertex attributes to provide the x and y coordinates for each time step.  The names of the attributes to be used are passed in via the <code>layout.par</code> argument.  For example <code>layout.par = list(x = "myX", y = "myY")</code> The attribute must have values defined for each time point that the network plotted. 
</p>
<p><strong>Graphviz</strong>
</p>
<p>The <code>Graphviz</code> layout is a wrapper for the Graphviz <a href="http://www.graphviz.org">http://www.graphviz.org</a> software library. If the library is installed on your system (see <code><a href="#topic+install.graphviz">install.graphviz</a></code>), it provides a number of additional high-quality layouts. When layout is called it checks for a working Graphviz installation (falling back to KamadaKawai if Graphviz cannot be found) and writes the network to a temp file using <code><a href="#topic+export.dot">export.dot</a></code>. Then the appropriate Graphviz layout engine (default is <code>neato</code>) is executed via a <code>system</code> call, and the coordinates of the vertices are parsed from the output.  
</p>
<p>Currently, the arguments to <code>layout.par</code> can be used to specify the Graphviz layout engine to use (i.e. <code>gv.engine='neato'</code> for stress-minimized, <code>gv.engine='dot'</code> for hierarchal, <code>gv.engine='fdp'</code> for force-directed, etc) and additional command-line control parameters can be passed in via <code>gv.args</code>.  For example, to use the 'dot' layout, but change layout rank direction to Left-Right: <code>layout.par=list(gv.engine='dot',gv.args='-Grankdir=LR')</code>.  See <a href="http://graphviz.gitlab.io/doc/info/command.html">http://graphviz.gitlab.io/doc/info/command.html</a>.  Note that Graphviz's graphic rendering parameters are not used to control network plot rendering (but they may impact layout positions). 
</p>
<p>It is also possible to pass edge attributes of the network directly through to the Graphviz .dot file by passing in the names of the attributes using <code>gv.edge.attrs</code> argument to <code>layout.par</code>. For example, <code>layout.par=list(gv.edge.attrs='len')</code> will write the value of the edge attribute 'len' to a gv attribute 'len', which would control the edge lengths when using neato or fdp <a href="http://graphviz.gitlab.io/docs/attrs/len/">http://graphviz.gitlab.io/docs/attrs/len/</a>.
</p>
<p>The Graphviz layout normally ignores the values in <code>dist.mat</code>, but for compatibility with other layouts, it is possible to use the values in <code>dist.mat</code> to influence Graphviz's edge length by setting <code>layout.par</code> <code>gv.len.mode='ndtv.distance.matrix'</code> instead of its default <code>'gv.edge.len'</code>. This writes out all of the possible edges to the file and will overide any other edge attributes. 
</p>


<h3>Value</h3>

<p>A two-column by n-vertex matrix of coordinates. 
</p>


<h3>Note</h3>

<p>The MDSJ algorithm can only be used for non-comercial projects as it is available under the terms and conditions of the Creative Commons License &quot;by-nc-sa&quot; 3.0. <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">https://creativecommons.org/licenses/by-nc-sa/3.0/</a>
</p>


<h3>Author(s)</h3>

<p>Skye Bender-deMoll
</p>


<h3>References</h3>

<p>Algorithmics Group. MDSJ: Java Library for Multidimensional Scaling (Version 0.2). Available at <code>http://algo.uni-konstanz.de/software/mdsj/</code>. University of Konstanz, 2009.
</p>
<p>Kamada, T. and Kawai, S. (1989). An Algorithm for Drawing General Undirected Graphs. Information Processing Letters, 31(1):7-15.
</p>
<p>John Ellson et.al (2001) &quot;Graphviz &ndash; open source graph drawing tools&quot; Lecture Notes in Computer Science. Springer-Verlag. p483-484  <a href="http://www.graphviz.org">http://www.graphviz.org</a>
</p>


<h3>See Also</h3>

<p>See Also <code><a href="network.html#topic+network.layout.kamadakawai">network.layout.kamadakawai</a></code>,<code><a href="#topic+layout.distance">layout.distance</a></code>,<code><a href="#topic+compute.animation">compute.animation</a></code>
</p>

<hr>
<h2 id='proximity.timeline'>
Plot a chart of a networkDynamic object in which vertices trace out paths in time, positioned vertically so that their proximity corresponds to their relative geodesic distance at the sampled time points. 
</h2><span id='topic+proximity.timeline'></span>

<h3>Description</h3>

<p>This a DRAFT version of the function, parameters are likely to change. Creates a 'phase plot' chart of vertex geodesic distance proximities overtime time, with the ability to size and color the lines corresponding to each vertex with arguments similar to <code><a href="network.html#topic+plot.network">plot.network</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>proximity.timeline(nd,  start = NULL, end = NULL, time.increment = NULL,
  onsets = NULL, termini = NULL, rule='earliest', default.dist = NULL, 
  vertex.col = "#55555555", label = network.vertex.names(nd), 
  labels.at = NULL, label.cex = 1,
  vertex.cex = 2, splines = -0.2, render.edges=FALSE, grid=!render.edges, 
  edge.col='#00000055', edge.lwd=4,
  mode=c('isoMDS','sammon','cmdscale','gvNeato','MDSJ'),
  coords=NULL,
  draw.inactive=NULL, 
  spline.style=c('default','inactive.ghost','inactive.gaps',
                'inactive.ignore','color.attribute'),
  chain.direction=c('forward','reverse'),
  verbose=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="proximity.timeline_+3A_nd">nd</code></td>
<td>

<p>a <code>networkDynamic</code> object to be plotted. 
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_start">start</code></td>
<td>
<p>optional numeric value giving the time to start the network sampling to be passed to <code>link{get.networks}</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_end">end</code></td>
<td>
<p>optional numeric value giving the time to end the network sampling to be passed to <code>link{get.networks}</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_time.increment">time.increment</code></td>
<td>
<p>optional numeric value to increment network sampling to be passed to <code>link{get.networks}</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_onsets">onsets</code></td>
<td>
<p>optional numeric vector of sampling onset time points to be passed to <code>link{get.networks}</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_termini">termini</code></td>
<td>
<p>optional numeric vector of sampling terminus time points to be passed to <code>link{get.networks}</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_rule">rule</code></td>
<td>
<p>attribute aggregation rule (default <code>'earliest'</code>) to be passed to <code><a href="networkDynamic.html#topic+network.collapse">network.collapse</a></code></p>
</td></tr> 
<tr><td><code id="proximity.timeline_+3A_default.dist">default.dist</code></td>
<td>
<p>numeric default distance parameter to space apart isolates and disconnected components. Usually defaults to square root of network size (see <code><a href="#topic+layout.distance">layout.distance</a></code>)
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_vertex.col">vertex.col</code></td>
<td>

<p>either a character color value, a vector of values of length equal to the size of the network, or the name of a vertex attribute containing color values to be used to color each of the vertices splines. Note that partially transparent colors work much better than opaque colors, as it is easier to see when lines overlap. When used with <code>spline.style='color.attribute'</code>, <code>vertex.col</code> can be a function with a special limited set of arguments (see Details of <code><a href="#topic+render.animation">render.animation</a></code>) which will be evaluated <em>at the onset</em> of each segment.
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_labels.at">labels.at</code></td>
<td>
<p> numeric value or vector of values specifying the time(s) at which vertex labels should be plotted on the splines. If <code>NULL</code> (default), labels will not be drawn.
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_label">label</code></td>
<td>
<p>character vector of labels for vertices or name of vertex attribute to be expanded. Default is network.vertex.names.  Labels only drawn if <code>labels.at</code> argument has a value.
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_label.cex">label.cex</code></td>
<td>
<p>numeric character expansion factor for vertex labels</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_vertex.cex">vertex.cex</code></td>
<td>
<p>either a numeric value, a vector of values of length equal to the size of the network, or the name of a vertex attribute containing numeric values to be used to scale the width of the lines (<code>lwd</code>) for each vertex. 
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_splines">splines</code></td>
<td>
<p> numeric. value controls how tightly the splines meet their control points. A value of 0 draws straight lines and sharp corners, values less than zero cause the spline to pass through the control point, values greater than zero will approximate the point. See the <code>shape</code> argument of <code><a href="graphics.html#topic+xspline">xspline</a></code>.
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_render.edges">render.edges</code></td>
<td>
<p>logical (default FALSE). Should overlapping virtical lines corresponding to the  edges be drawn between the the splines corresponding to the vertices at the time points of edge onsets?
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_edge.col">edge.col</code></td>
<td>
<p> color value or edge attribute name to be used for the edge lines if <code>render.edges=TRUE</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_edge.lwd">edge.lwd</code></td>
<td>
<p>numeric line width value or edge attribute name to be used for the width of the edge lines if <code>render.edges=TRUE</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_grid">grid</code></td>
<td>
<p> logical. if <code>TRUE</code>, vertical lines in the background color will be drawn at the beginning of each time slice to make it easier to determine where on the splines the positions are actually set. Usually this is not used with <code>render.edges</code>
</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_mode">mode</code></td>
<td>
<p>name of MDS algorithm to be used.  Currently one of <code><a href="MASS.html#topic+isoMDS">isoMDS</a></code>,<code><a href="MASS.html#topic+sammon">sammon</a></code>,<code><a href="stats.html#topic+cmdscale">cmdscale</a></code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_coords">coords</code></td>
<td>
<p>optional numeric matrix of pre-computed coordinates to be used instead of the algorithm in <code>mode</code>. The number of matrix rows must be equal to the network size and columns equal to number of time bins implied by other arguments)</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_draw.inactive">draw.inactive</code></td>
<td>
<p>DEPRECATED. see <code>spline.style</code></p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_spline.style">spline.style</code></td>
<td>
<p>options to control how vertices with inactive spells or changing attribute values should be drawn: 
</p>

<ul>
<li> <p><code>'inactive.ignore'</code> ignores activity spells and draws an unbroken spline for each vertex (fastest). 
</p>
</li>
<li> <p><code>'inactive.gaps'</code> leaves gaps in the splines when vertices are inactive 
</p>
</li>
<li> <p><code>'inactive.ghost'</code> draws faint gray dotted lines under the spline so they appear in the gaps 
</p>
</li>
<li> <p><code>'default'</code> does <code>'inactive.ignore'</code> if there are no gaps in encountered, otherwise <code>'inactive.ghost'</code> 
</p>
</li>
<li> <p><code>'color.attribute'</code> uses the activity spells of the vertex color TEA (indicated by the <code>vertex.col</code> argument) to break the splines in to color segments &ndash; ignoring the the vertices activity spells</p>
</li></ul>

</td></tr>
<tr><td><code id="proximity.timeline_+3A_chain.direction">chain.direction</code></td>
<td>
<p>value of <code>'forward'</code> means that the slice layouts should be computed in temporal order, with each layout initialized with the coordinates from the previous. A value of <code>'reverse'</code> causes layouts to be computed in reverse temporal order (for some layouts, this will cause less spline crossing as vertices will tend to be closer to their final state).  </p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_verbose">verbose</code></td>
<td>
<p>logical, default is TRUE, in which case status messages about the computations are printed to the console, at some speed cost</p>
</td></tr>
<tr><td><code id="proximity.timeline_+3A_...">...</code></td>
<td>

<p>arguments to be passed to <code><a href="networkDynamic.html#topic+network.collapse">network.collapse</a></code> (via <code><a href="networkDynamic.html#topic+get.networks">get.networks</a></code>) to control how the network should be aggregated during slicing</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The passed network dynamic object is sliced up into a series of networks. It loops over the networks, converting each to a distance matrix based on geodesic path distance with <code>layout.distance</code>. The distances are fed into an MDS algorithm (specified by <code>mode</code>) that lays them out <strong>in one dimension</strong>: essentially trying to position them along a vertical line. The sequence of 1D layouts are arranged along a timeline, and a spline is drawn for each vertex connecting its positions at each time point.  The idea is that closely-linked clusters form bands of lines that move together through the plot.  
</p>
<p>Currently, 
</p>

<ul>
<li> <p><code>mode='sammon'</code> tends to produce much equally spaced lines, making it easier to follow individual vertices, but harder to see clusters 
</p>
</li>
<li> <p><code>mode='isoMDS'</code> does a better job with clusters, but in some layouts converges too soon and just produces straight lines, 
</p>
</li>
<li> <p><code>mode='cmdscale'</code> does a great job with clusters, but is highly unstable (coordinates will reshuffle dramatically on nearly identical networks). 
</p>
</li>
<li> <p><code>mode='gvNeato'</code> tries to do a 1D Graphviz neato layout (experimental) <code><a href="#topic+network.layout.animate.Graphviz">network.layout.animate.Graphviz</a></code>. 
</p>
</li>
<li> <p><code>mode='MDSJ'</code> tries a 1D <code><a href="#topic+network.layout.animate.MDSJ">network.layout.animate.MDSJ</a></code> layout.
</p>
</li></ul>

<p>For most of the layouts it is necessary to manually adjust the default dist parameter to find a value that sufficently groups together linked clusters and spaces out isolates. 
</p>
<p>Note for RStudio users: the spline rendering seems to be much slower on RStudio's graphics device than on other graphics devices such as <code>x11()</code>.
</p>


<h3>Value</h3>

<p>Produces a plot with horizontal splines corresponding the vertices of the network and vertical proximities approximately proportional to geodesic distance. Invisibly returns a numeric matrix of coordinates corresponding to computed positions of each vertex at each time bin. This can be passed in via the <code>coords</code> argument. 
</p>


<h3>Note</h3>

<p>This is still very much a work in progress, the 1D optimization are not very stable, especially for cmdscale
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>References</h3>

<p>Some inspirational examples here: <a href="http://skyeome.net/wordpress/?p=604">http://skyeome.net/wordpress/?p=604</a>
</p>


<h3>See Also</h3>

<p>See also <code><a href="#topic+timeline">timeline</a></code> for plotting spells of vertices and edges without proximity positioning.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use the classroom interaction dataset
data(McFarland_cls33_10_16_96)

# divide the first 20 minutes of time into
# overlapping 2.5 minute bins
# and make the lines for the instructors much larger
proximity.timeline(cls33_10_16_96,
   onsets=seq(0,20,0.5),
   termini=seq(2.5,22.5,0.5),
   vertex.cex=(cls33_10_16_96%v%'type'=='instructor')*4+1,
   labels.at=16)

# load the infection sim dataset
data(toy_epi_sim)
# render a timeline with vertices colored by infection status
# show only the first 5 timesteps
proximity.timeline(toy_epi_sim,vertex.col = 'ndtvcol',
                  spline.style='color.attribute',
                  mode='sammon',default.dist=20,
                  chain.direction='reverse',
                  start=1,end=5)
</code></pre>

<hr>
<h2 id='render.animation'>
Render animations of <code>networkDynamic</code> objects as movies in various formats
</h2><span id='topic+render.animation'></span>

<h3>Description</h3>

<p>Takes a network object which describes a sequence of changes in properties of a network and graphically renders it out as a sequence of plots to create an animation. Normally the coordinates determining the vertex positions at specified time points should have been calculated and stored in the network object, along with the <code>slice.par</code> list of parameters describing when and how the network should be divided up in time. If the coordinate data is not found, <code><a href="#topic+compute.animation">compute.animation</a></code> will be called with default arguments.
</p>
<p>Appropriate &lsquo;static&rsquo; networks for each time region will be generated by <code>network.collapse</code>.  The rendering of each frame is drawn by <a href="network.html#topic+plot.network">plot.network</a> and most arguments are supported and are passed through to control the details of rendering. The rendered images are stored using the <code><a href="animation.html#topic+animation">animation</a></code> package and can be played in the plot window (<code><a href="animation.html#topic+ani.replay">ani.replay</a></code>) or saved to a movie file with <code><a href="animation.html#topic+saveVideo">saveVideo</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render.animation(net, render.par = list(tween.frames = 10, show.time = TRUE, 
            show.stats = NULL, extraPlotCmds=NULL, initial.coords=0),
            plot.par = list(bg='white'), ani.options = list(interval=0.1), 
            render.cache = c('plot.list','none'), verbose=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render.animation_+3A_net">net</code></td>
<td>

<p>The networkDynamic object to be rendered, usually containing pre-computed vertex positions as dynamic attributes. 
</p>
</td></tr>
<tr><td><code id="render.animation_+3A_render.par">render.par</code></td>
<td>

<p>Named list of parameters to specify the behavior of the animation.
</p>

<ul>
<li> <p><code>tween.frames</code> the number of interpolated frames to generate between each calculated network layout (default 10). 
</p>
</li>
<li> <p><code>show.time</code> If <code>TRUE</code>, labels the plot with onset and terminus time for each slice. 
</p>
</li>
<li> <p><code>show.stats</code> <code>NULL</code>, or a string containing a formula to be passed to summary.stergm to display the network statistics for the current slice on the plot. e.g. <code>"~edges+gwesp(0,fixed=TRUE)"</code>
</p>
</li>
<li> <p><code>extraPlotCmds</code> NULL, or additional plot commands to draw on each frame of the animation. 
</p>
</li>
<li> <p><code>initial.coords</code> default initial coords to be assigned to vertices. Can be a two-column numeric coordinate matrix, or a numeric values to be formed into a matrix.
</p>
</li></ul>

</td></tr>
<tr><td><code id="render.animation_+3A_plot.par">plot.par</code></td>
<td>

<p>list of &lsquo;high-level&rsquo; plotting control arguments to be passed to <code><a href="graphics.html#topic+par">par</a></code>. e.g. <code>bg</code> for background color, margins, fonts, etc. 
</p>
</td></tr>
<tr><td><code id="render.animation_+3A_ani.options">ani.options</code></td>
<td>

<p>list of control arguments for the animation library. For example. <code>interval</code> controls the delay between frames in playback, <code>ani.dev</code> and <code>ani.type</code> can be used to set non-default graphics devices for rendering (i.e <code>'jpeg'</code> instead of <code>'png'</code>). See <code><a href="animation.html#topic+ani.options">ani.options</a></code>
</p>
</td></tr>
<tr><td><code id="render.animation_+3A_render.cache">render.cache</code></td>
<td>
<p> the default value of <code>'plot.list'</code> causes each frame of the animation to be cached in an internal list by the <code><a href="animation.html#topic+ani.record">ani.record</a></code> function of the <code>animation</code> library. This is very useful for testing and replaying animations in R's plot window, but can be very slow (or cause out-of-memory errors) for large animations. If the value is set to <code>'none'</code>, the plot will not be recorded (but can be saved to disk via <code><a href="animation.html#topic+saveVideo">saveVideo</a></code>, see examples below) and cannot be replayed via the <code>ani.replay()</code> function.    
</p>
</td></tr>
<tr><td><code id="render.animation_+3A_verbose">verbose</code></td>
<td>

<p>If <code>TRUE</code>, update text will be printed to the console to report the status of the rendering process.
</p>
</td></tr>
<tr><td><code id="render.animation_+3A_...">...</code></td>
<td>

<p>Other parameters to control network rendering. See <code><a href="network.html#topic+plot.network.default">plot.network.default</a></code>. Most parameters can be set to TEA attribute names, or specified as a function to be evaluated at each timestep </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most of the network plotting arguments are passed directly to <code><a href="network.html#topic+plot.network.default">plot.network.default</a></code>.  All of the <code><a href="network.html#topic+plot.network">plot.network</a></code> arguments pased in via ... can be specified as a TEA or special type of function to be evaluated at each time step.  For example, if there was a dynamic vertex attribute named 'wealth', it could be mapped to vertex size by providing the TEA name <code>vertex.cex='wealth'</code>. If the wealth value needed transformation to be an appropriate vertex size, it can be specified as a function: <code>vertex.cex=function(slice){slice%v%'wealth'*5-3}</code>
</p>
<p>The arguments of plot control functions must draw from a specific set of named arguments which will be substituted in and evaluated at each time point before plotting.  The set of valid argument names is:
</p>

<ul>
<li> <p><code>net</code> is the original (uncollapsed) network
</p>
</li>
<li> <p><code>slice</code> is the network collapsed with the appropriate onset and terminus
</p>
</li>
<li> <p><code>s</code> is the slice number
</p>
</li>
<li> <p><code>onset</code> is the onset (start time) of the slice to be rendered
</p>
</li>
<li> <p><code>terminus</code> is the terminus (end time) of the slice to be rendered
</p>
</li></ul>

<p>A few of the plot parameters have defaults that are different from the ones given by <code><a href="network.html#topic+plot.network">plot.network</a></code>:
</p>

<ul>
<li> <p><code>jitter</code> defaults to <code>FALSE</code> to prevent unwanted bouncing
</p>
</li>
<li> <p><code>xlim</code> and <code>ylim</code> default to the ranges of the entire set of network coordinates.  Although they can be set to function values for interesting effects...
</p>
</li>
<li> <p><code>xlab</code> defaults to a function to display the time range: <code>function(onset,terminus){paste("t=",onset,"-",terminus,sep='')}</code>. It also will be overidden if <code>show.stats</code> is set. 
</p>
</li></ul>

<p>If no <code>slice.par</code> network attribute is found to define the time range to render,  it will make one up using the smallest and largest non-Inf time values, unit-length non-overlapping time steps and an aggregation rule of 'latest'. 
</p>
<p>If no dynamic coordinate information has been stored, <code><a href="#topic+compute.animation">compute.animation</a></code> will be called with default values to try to do the layout before giving up. 
</p>
<p>Additional plot commands passed in via the <code>extraPlotCmds</code> argument will be  passed to <code>eval()</code> after each frame is rendered and can be used to add extra annotations to the plot. 
</p>
<p>One some installations, the default output from <code style="white-space: pre;">&#8288;saveVideo()&#8288;</code> (really ffmpeg) produces videos in a slightly non-standard .mp4 format that won't play in Windows Media Player or QuickTime.  Users have reported that adding the argument <code style="white-space: pre;">&#8288;other.opts='-pix_fmt yuv420p"&#8288;</code> to <code style="white-space: pre;">&#8288;saveVideo&#8288;</code> corrects the problem. Recent versions of the <code style="white-space: pre;">&#8288;animation&#8288;</code> library will include this argument by default.  
</p>
<p>To avoid performance issues with the RStudio graphics device, RStudio users will see a message that ndtv is attempting to open another type of plot window.  It will try to guess a platform-appropriate device type, but specific device can be pre-specified by the user by setting the <code>R_DEFAULT_DEVICE</code> environment variable
</p>


<h3>Value</h3>

<p>A sequence of plots will be generated on the active plot device. If <code>render.cache='plot.list'</code> the recorded plots are stored as a list in <code>.ani.env$.images</code>. </p>


<h3>Note</h3>

<p>A few of the network drawing arguments have slightly different interpretations than their <a href="network.html#topic+plot.network">plot.network</a> equivalents:
</p>

<ul>
<li> <p><code>xlab</code> will be used to display time and network statistics if those <code>render.par</code> parameters are set
</p>
</li>
<li> <p><code>xlim</code> and <code>ylim</code> will be set using max and min observed coordinate values so that all network slices will appear on the plot
</p>
</li>
<li> <p><code>label</code> if not set explicitly, will default to the vertex names for the appropriate slice network. 
</p>
</li></ul>

<p>If the background color is transparent and not explicitly set, it will be reset to white to prevent unintentional behavior when exporting movies via ffmpeg. 
</p>


<h3>Author(s)</h3>

<p>Skye Bender-deMoll, and the statnet team. 
</p>


<h3>References</h3>

<p>Skye Bender-deMoll and McFarland, Daniel A. (2006) The Art and Science of Dynamic Network Visualization. <em>Journal of Social Structure. Volume 7, Number 2</em> <a href="https://www.cmu.edu/joss/content/articles/volume7/deMollMcFarland/">https://www.cmu.edu/joss/content/articles/volume7/deMollMcFarland/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compute.animation">compute.animation</a></code> for generating the movie coordinates, <code><a href="animation.html#topic+ani.replay">ani.replay</a></code>, <code><a href="network.html#topic+plot.network">plot.network</a></code> and the package vignette <code>vignette('ndtv')</code>. Also <code><a href="#topic+render.d3movie">render.d3movie</a></code> for displaying movies as interactive HTML5 animations in a web browser
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
require(ndtv)
# trivial example

triangle &lt;- network.initialize(3) # create a toy network
add.edge(triangle,1,2)
# add an edge between vertices 1 and 2
add.edge(triangle,2,3)
# add a more edges
activate.edges(triangle,at=1) # turn on all edges at time 1 only
activate.edges(triangle,onset=2, terminus=3,
e=get.edgeIDs(triangle,v=1,alter=2))
add.edges.active(triangle,onset=4, length=2,tail=3,head=1)
render.animation(triangle)
ani.replay() 

# an example with changing TEA attributes
wheel &lt;- network.initialize(10)  # create a toy network
add.edges.active(wheel,tail=1:9,head=c(2:9,1),onset=1:9, terminus=11)
add.edges.active(wheel,tail=10,head=c(1:9),onset=10, terminus=12)
# set a dynamic value for edge widths
activate.edge.attribute(wheel,'width',1,onset=0,terminus=3) 
activate.edge.attribute(wheel,'width',5,onset=3,terminus=7)
activate.edge.attribute(wheel,'width',10,onset=3,terminus=Inf)
# set a value for vertex sizes
activate.vertex.attribute(wheel,'mySize',1, onset=-Inf,terminus=Inf)
activate.vertex.attribute(wheel,'mySize',3, onset=5,terminus=10,v=4:8)
# set values for vertex colors
activate.vertex.attribute(wheel,'color','gray',onset=-Inf,terminus=Inf)
activate.vertex.attribute(wheel,'color','red',onset=5,terminus=6,v=4)
activate.vertex.attribute(wheel,'color','green',onset=6,terminus=7,v=5)
activate.vertex.attribute(wheel,'color','blue',onset=7,terminus=8,v=6)
activate.vertex.attribute(wheel,'color','pink',onset=8,terminus=9,v=7)
# render it all
render.animation(wheel,edge.lwd='width',vertex.cex='mySize',vertex.col='color')


# an example with functional attributes
set.network.attribute(wheel,'slice.par',
           list(start=1,end=10,interval=1, aggregate.dur=1,rule='latest'))
# render vertex size as betweeness
render.animation(wheel,vertex.cex=function(slice){(betweenness(slice)+1)/5})


# render it directly to a movie file without caching the plots (faster)
## Not run: 
saveVideo( render.animation(wheel,edge.lwd='width',vertex.cex='mySize',vertex.col='color',
           render.cache='none') )

## End(Not run)

# simulation based example
# disabled to save time when testing
## Not run: 
require(tergm)
# load in example data, results of a basic stergm sim
data(stergm.sim.1)

# (optional) pre-compute coordinates for set time range
# (optional) limit time range to a few steps to speek example
slice.par=list(start=0,end=10,interval=1, aggregate.dur=1,rule='latest')
compute.animation(stergm.sim.1,slice.par=slice.par)


# define the number of inbetween frames and a formula for stats to display
render.par&lt;-list(tween.frames=5,show.time=TRUE,
                show.stats="~edges+gwesp(0,fixed=TRUE)")
                
# render the movie, with labels, smaller vertices, etc
render.animation(stergm.sim.1,render.par=render.par,
                 edge.col="darkgray",displaylabels=TRUE,
                 label.cex=.6,label.col="blue")
                 
# preview the movie in the plot window
ani.replay()     

# save the movie as mp4 compressed video (if FFMPEG installed)
saveVideo(ani.replay(),video.name="stergm.sim.1.mp4", 
           other.opts="-b 5000k",clean=TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='render.d3movie'>
Render out a web-based animation of a networkDynamic object using ndtv-d3 player app
</h2><span id='topic+render.d3movie'></span>

<h3>Description</h3>

<p>Exports a self-contained HTML file including an SVG animation of the networkDynamic object and displays it in a web browser.   See <code><a href="#topic+render.animation">render.animation</a></code> for details of animation construction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render.d3movie(net, filename=tempfile(fileext = '.html'), 
                           render.par=list(tween.frames=10,
                                           show.time=TRUE,
                                           show.stats=NULL,
                                           extraPlotCmds=NULL,
                                           initial.coords=0),
                           plot.par=list(bg='white'),
                           d3.options, 
                           output.mode=c('HTML','JSON','inline','htmlWidget'),
                           script.type=c('embedded','remoteSrc'),
                           launchBrowser=TRUE,
                           verbose=TRUE,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render.d3movie_+3A_net">net</code></td>
<td>

<p>The network (usally <code><a href="networkDynamic.html#topic+networkDynamic">networkDynamic</a></code>) object to be rendered, usually containing pre-computed vertex positions as dynamic attributes cached by <code><a href="#topic+compute.animation">compute.animation</a></code>
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_filename">filename</code></td>
<td>

<p>The file name of the HTML or JSON file to be generated. Must end the proper file extension ('.json' for JSON '.html' for HTML) for correct browser display.
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_render.par">render.par</code></td>
<td>

<p>Named list of parameters to specify the behavior of the animation.
</p>

<ul>
<li> <p><code>tween.frames</code> the number of interpolated frames to generate between each calculated network layout (default 10). 
</p>
</li>
<li> <p><code>show.time</code> If <code>TRUE</code>, labels the plot with onset and terminus time for each slice. 
</p>
</li>
<li> <p><code>show.stats</code> <code>NULL</code>, or a string containing a formula to be passed to summary.stergm to display the network statistics for the current slice on the plot. e.g. <code>"~edges+gwesp(0,fixed=TRUE)"</code>
</p>
</li>
<li> <p><code>extraPlotCmds</code> NULL, or additional plot commands to draw on each frame of the animation. 
</p>
</li>
<li> <p><code>initial.coords</code> default initial coords to be assigned to vertices. Can be a two-column numeric coordinate matrix, or a numeric values to be formed into a matrix.
</p>
</li></ul>

</td></tr>
<tr><td><code id="render.d3movie_+3A_plot.par">plot.par</code></td>
<td>

<p>list of &lsquo;high-level&rsquo; plotting control arguments to be passed to <code><a href="graphics.html#topic+par">par</a></code>. e.g. <code>bg</code> <code>main</code> for background color, margins, fonts, etc. MANY OF THESE ARE NOT YET SUPPORTED BY THE NDTV-D3 PLAYER. See list in Details below.  
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_d3.options">d3.options</code></td>
<td>

<p>list of options to configure ndtv-d3 player app. <code>list(
                             animationDuration=800,
                             scrubDuration=0,
                             enterExitAnimationFactor=0,
                             nodeSizeFactor=0.01,
                             playControls=TRUE,
                             animateOnLoad=FALSE,
                             slider=TRUE,
                             debugFrameInfo=FALSE,
                             debugDurationControl=FALSE,
                           )</code> See Details below for explanations
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_output.mode">output.mode</code></td>
<td>

<p>character string, one of <code>'HTML'</code>,<code>'JSON'</code> or <code>'inline'</code>.  The first exports an HTML file with embedded javascript player app including the JSON data structure describing the animation. The second just exports the JSON data structure (for loading into an existing page).  The 3rd renders the HTML inside an iframe tag and supresses all other output in an attempt to make it embedable in rmarkdown documents. The 4th generates a <code>htmlWidget</code> suitable for displaying in an RStudio plot window or Shiny app. 
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_script.type">script.type</code></td>
<td>
<p>if <code>script.type='embedded'</code>, the scripts will be embedded directly in the output html page. This option is the most portable, but will require large file sizes. If <code>script.type='remoteSrc'</code>, only the links to the scripts will be included, so the page will require an active internet connection to play the animation. 
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_launchbrowser">launchBrowser</code></td>
<td>

<p>if TRUE, after exporting the file R will attempt to open it in a browser
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_verbose">verbose</code></td>
<td>

<p>If <code>TRUE</code>, update text will be printed to the console to report the status of the rendering process.
</p>
</td></tr>
<tr><td><code id="render.d3movie_+3A_...">...</code></td>
<td>

<p>Other parameters to control network rendering. See <code><a href="network.html#topic+plot.network.default">plot.network.default</a></code>. Most parameters can be set to TEA attribute names, or specified as a function to be evaluated at each timestep.  NOT ALL PLOT PARAMS ARE IMPLEMENTED YET</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Animations are generated using a process nearly identical to <code><a href="#topic+render.animation">render.animation</a></code>. However, instead of using R's plotting functions and the <code>animation</code> library, the relevant information is cached and written into a JSON-formatted file, embedded into a web page along with <code>ndtv-d3</code> player, and displayed in a web browser as an interactive HTML5 SVG animation.
</p>
<p>The <code>ndtv-d3</code> player app is not a fully-featured R plot device.  It only attempts to emulate the elements of plot normally used by <code><a href="network.html#topic+plot.network">plot.network</a></code> and it understands the graphic elements and a somewhat higher level so that it will be able to handle interaction with edge and vertex objects.
</p>
<p>However,  <code>ndtv-d3</code> includes several nice features to support exploring the network: 
</p>

<ul>
<li><p>controller buttons for playing, pausing and stepping through the animation
</p>
</li>
<li><p>time slider for jumping and 'scrubing' to parts of the movie
</p>
</li>
<li><p>pan and zoom into the network using the mouse-wheel
</p>
</li>
<li><p>click on vertices and edges to reveal their ids or abitrary text attached using the <code>vertex.tooltip</code> and <code>edge.tooltip</code> properties
</p>
</li>
<li><p>double-click on a vertex to highlight all of the connected edges and vertices
</p>
</li></ul>

<p>If passed a static network, by default only a single slice will be rendered and the time slider and controllers will be disabled. For consistency with <code><a href="network.html#topic+plot.network">plot.network</a></code> the static mode also supports passing in a matrix of coordinates via <code>coord</code> argument which will prevent the default call to <code>compute.animation</code>.
</p>
<p>Another advantage of <code>ndtv-d3</code> is that it does not require installing system libraries such as <code>ffmpeg</code> to render out the movie. 
</p>
<p>The coordinates for vertex postitions are read from the <code>animation.x</code> and <code>animation.y</code> TEA attributes, normally created using <code><a href="#topic+compute.animation">compute.animation</a></code>
</p>
<p>The list of currently supported <code><a href="graphics.html#topic+plot">plot</a></code>,<code><a href="network.html#topic+plot.network">plot.network</a></code> and <code><a href="graphics.html#topic+par">par</a></code> elements is
</p>

<ul>
<li><p><code>xlab</code>: label caption below the render, on the xaxis
</p>
</li>
<li><p><code>main</code>: main headline above the render
</p>
</li>
<li><p><code>displaylabels</code>: should vertex labels be displayed?
</p>
</li>
<li><p><code>usearrows</code>: should arrows be drawn on edges?
</p>
</li>
<li><p><code>bg</code>: background color (must be html compatible? need to check this)
</p>
</li>
<li><p><code>vertex.cex</code>: vertex expansion scale factor
</p>
</li>
<li><p><code>label</code>: labels for vertices (defaults to vertex.names)
</p>
</li>
<li><p><code>label.col</code>: color of vertex labels
</p>
</li>
<li><p><code>label.cex</code>: vertex label expansion scale factor
</p>
</li>
<li><p><code>vertex.col</code>: vertex fill colors
</p>
</li>
<li><p><code>vertex.sides</code>: number of sides for vertex polygon (shape)
</p>
</li>
<li><p><code>vertex.rot</code>: rotation for vertex polygon
</p>
</li>
<li><p><code>vertex.border</code>: color of vertex border stroke
</p>
</li>
<li><p><code>vertex.lwd</code>: width of vertex border stroke
</p>
</li>
<li><p><code>edge.lwd</code>: width of edge stroke
</p>
</li>
<li><p><code>edge.col</code>: edge stroke color   
</p>
</li></ul>

<p>All of the above properties can be defined as dynamic (TEA) attributes. Noteably, curved edges, edge labels, and label positioning are not yet implemented and will be ignored. The <code>main</code> and <code>xlab</code> params will not be positioned exactly as they are in <code><a href="graphics.html#topic+plot">plot</a></code>
</p>
<p>There are a few special plot parameters that are only supported by <code>render.d3move</code>:
</p>

<ul>
<li><p><code>vertex.tooltip</code> arbitrary text or html to be displayed when a vertex is clicked (default is the vertex id)
</p>
</li>
<li><p><code>edge.tooltip</code> arbitrary text or html to be displayed when an edge is clicked (default is the edge id)
</p>
</li>
<li><p><code>vertex.css.class</code> properties for adding arbitrary class attributes for use in CSS styling of vertices
</p>
</li>
<li><p><code>edge.css.class</code> properties for adding arbitrary class attributes for use in CSS styling of edges
</p>
</li>
<li><p><code>vertex.label.css.class</code> properties for adding arbitrary class attributes for use in CSS styling of vertex labels
</p>
</li></ul>

<p>ndtv-d3 has its own configuration properties passed in via the <code>d3.options</code> argument list, shown below with their default properties. Values which are set to <code>NULL</code> or omitted will be set to the ndtv-d3 player defaults.  
</p>

<ul>
<li><p><code>animationDuration=800</code> Duration (milliseconds) of each animation step during play or step actions
</p>
</li>
<li><p><code>enterExitAnimationFactor=0</code> Fraction (0-1) of total step animation time that edge enter/exit animations should take
</p>
</li>
<li><p><code>nodeSizeFactor=0.01</code> Sets default node (vertex) size, as a fraction of viewport size. 
</p>
</li>
<li><p><code>playControls=TRUE</code> Show the player controls (play, pause, step, etc)
</p>
</li>
<li><p><code>animateOnLoad=FALSE</code> If true, animation will start playing as soon as page loads. 
</p>
</li>
<li><p><code>slider=TRUE</code> Show the time slider control
</p>
</li>
<li><p><code>margin=list(x=20,y=10)</code> SVG margins - may be overridden when setting fixed aspect ratio 
</p>
</li>
<li><p><code>debugFrameInfo=FALSE</code>Show the slice timing info in corner
</p>
</li>
<li><p><code>durationControl=TRUE</code>Show a control to change speed of animation under the menu in the upper right corner
</p>
</li></ul>



<h3>Value</h3>

<p>If <code>output.mode='HTML'</code>, a file will be generated including the necessary javascript and JSON data structures
If <code>output.mode='JSON'</code>, a JSON file will be generated including a section describing all of the rendered slices, and a seperate section including the entire networkDynamic object.
If <code>output.mode='inline'</code>, HTML code for an iframe elment suitible for embedding in markdown documents will be printed, all other output supressed.  
If <code>output.mode='htmlWidget'</code>, a <code><a href="htmlwidgets.html#topic+htmlwidgets">htmlwidgets</a></code> object will be returned which, will produce appropriate html when 'printed' or emedded in a Shiny app
</p>


<h3>Note</h3>

<p>This is a very preliminary draft implementation. The animations preform poorly in the Linux Firefox browser, but are ok in Firefox on other platforms and excellent in the Chrome web browser. 
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>References</h3>

<p>The github repository for the ndtv-d3 javascript library is at <a href="https://github.com/statnet/ndtv-d3/">https://github.com/statnet/ndtv-d3/</a> (which is the statnet release fork of <a href="https://github.com/michalgm/ndtv-d3/">https://github.com/michalgm/ndtv-d3/</a>)
</p>


<h3>See Also</h3>

<p>See also the ndtv-d3 vignette <a href="https://statnet.org/Workshops/ndtv-d3_vignette.html">https://statnet.org/Workshops/ndtv-d3_vignette.html</a>, <code><a href="#topic+render.animation">render.animation</a></code>, <code><a href="#topic+compute.animation">compute.animation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># render an interactive SVG animation of short.stergm.sim and open it in a browser
data(short.stergm.sim)
render.d3movie(short.stergm.sim)

# render interactive widget in rmarkdown or RStudio plot window
render.d3movie(short.stergm.sim,output.mode='htmlWidget')

# render a static network as interactive SVG with lots of html tooltip info
data(emon)
render.d3movie(emon[[5]],
    vertex.tooltip=paste(emon[[5]]%v%'vertex.names',
      emon[[5]]%v%'Command.Rank.Score',
      emon[[5]]%v%'Sponsorship',
      sep="&lt;br&gt;"),
    edge.tooltip=paste('Frequency:',emon[[5]]%e%'Frequency'),
    edge.lwd='Frequency')

## Not run: 


# alternate code for embeding in rmarkdown
```{r,results='asis'}
render.d3movie(short.stergm.sim,output.mode='inline')
```



## End(Not run)

</code></pre>

<hr>
<h2 id='stergm.sim.1'>
Very Very Basic stergm simulation output
</h2><span id='topic+stergm.sim.1'></span><span id='topic+short.stergm.sim'></span>

<h3>Description</h3>

<p>Simulation from a crude stergm model based on the flobusiness network. Mostly good for testing movies 'cause it is small (16 vertices) and fast. The <code>stergm.sim.1</code> network is 100 simulation steps in duration. The <code>short.stergm.sim</code> network is an extract of the first 25 steps of <code>stergm.sim.1</code> &ndash; its shorter duration makes it more suitable for quickly testing animation techniques. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(stergm.sim.1)
data(short.stergm.sim)
</code></pre>


<h3>Format</h3>

<p>A <code>networkDynamic</code> object containing the output of the network simulations
</p>


<h3>Details</h3>

<p>The model used to generate the sim was:
</p>
<pre>
require(ergm)
data("florentine")
theta.diss &lt;- log(9)
# fit the model
stergm.fit.1 &lt;- stergm(flobusiness, 
  formation= ~edges+gwesp(0,fixed=T),
  dissolution = ~offset(edges),
	targets="formation",
	offset.coef.diss = theta.diss,
	estimate = "EGMME"	)
# simulate from the model	
stergm.sim.1 &lt;- simulate(stergm.fit.1,
                    nsim=1, time.slices = 100)
</pre>
<p>However, the ergm-related output that would normally be attached to the network (toggles, etc) has been removed.
</p>


<h3>Source</h3>

<p>See tergm package tutorials. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(stergm.sim.1)
range(get.change.times(stergm.sim.1))
data(short.stergm.sim)
range(get.change.times(short.stergm.sim))

</code></pre>

<hr>
<h2 id='timeline'>
Plot a timeline for the edge and vertex spells of a network
</h2><span id='topic+timeline'></span>

<h3>Description</h3>

<p>Produces a &lsquo;phase plot&rsquo; or timeline showing the durations of the activity spells in a networkDynamic object. Spells are traced out horizontally, with all the activity for each element (vertex or edge) in a single row. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timeline(x, v = seq_len(network.size(x)), e = seq_along(x$mel), 
        plot.vertex.spells = TRUE, plot.edge.spells = TRUE,
        slice.par = NULL,
        displaylabels = TRUE, e.label=TRUE, e.label.col='purple',
        edge.lwd=1,
        v.label, v.label.col='blue',
        vertex.cex=1, cex, adj=0,
        edge.col = rgb(0.5, 0.2, 0.2, 0.5), 
        vertex.col = rgb(0.2, 0.2, 0.5, 0.5), 
        xlab, ylab, xlim, ylim, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="timeline_+3A_x">x</code></td>
<td>

<p>a <code>networkDynamic</code> object that will have its spells plotted.
</p>
</td></tr>
<tr><td><code id="timeline_+3A_v">v</code></td>
<td>

<p>numeric vector of vertex ids to include
</p>
</td></tr>
<tr><td><code id="timeline_+3A_e">e</code></td>
<td>

<p>numeric vector of edge ids to include
</p>
</td></tr>
<tr><td><code id="timeline_+3A_plot.vertex.spells">plot.vertex.spells</code></td>
<td>

<p>logical, should vertex spells be plotted?
</p>
</td></tr>
<tr><td><code id="timeline_+3A_plot.edge.spells">plot.edge.spells</code></td>
<td>

<p>logical, should edge spells be plotted?
</p>
</td></tr>
<tr><td><code id="timeline_+3A_slice.par">slice.par</code></td>
<td>

<p>(optional) &lsquo;slice.par&rsquo; list giving network binning parameters. If included, rectangles corresponding to each bin will  be plotted over the spells to indicate which spell will land in bins. The bins will be drawn with slightly darker left edge more transparent right edge to evoke the effect of a right-open interval. 
</p>
</td></tr>
<tr><td><code id="timeline_+3A_displaylabels">displaylabels</code></td>
<td>

<p>logical, should labels be drawn for each spell
</p>
</td></tr>
<tr><td><code id="timeline_+3A_e.label">e.label</code></td>
<td>

<p>character vector of edge labels or edge attribute name. Default is edge.id 
</p>
</td></tr>
<tr><td><code id="timeline_+3A_e.label.col">e.label.col</code></td>
<td>

<p>color name or character vector of colors for edge labels (or name of edge attribute to provide them)  
</p>
</td></tr>
<tr><td><code id="timeline_+3A_v.label">v.label</code></td>
<td>

<p>character vector of vertex labels or vertex attribute name. Default is <code>network.vertex.names</code>
</p>
</td></tr>
<tr><td><code id="timeline_+3A_v.label.col">v.label.col</code></td>
<td>

<p>color name or character vector of colors for vertex labels (or name of vertex attribute to provide them)  
</p>
</td></tr>
<tr><td><code id="timeline_+3A_vertex.cex">vertex.cex</code></td>
<td>

<p>numeric scaling factor, vector of numeric scaling factors or attribute name.  Translated width of line (<code>lwd</code>) corresponding to each vertex. 
</p>
</td></tr>
<tr><td><code id="timeline_+3A_edge.lwd">edge.lwd</code></td>
<td>

<p>numeric scale factor, numeric vector, or character edge attribute name providing a numeric value for the width of the lines corresponding to each edge.  Note that this does not behave exactly as <code>edge.lwd</code> in <code><a href="network.html#topic+plot.network">plot.network</a></code> as it does not perform scaling based on attribute values. 
</p>
</td></tr>
<tr><td><code id="timeline_+3A_cex">cex</code></td>
<td>

<p>text size scaling for both vertex and edge labels (see <code><a href="graphics.html#topic+plot.default">plot.default</a></code>)
</p>
</td></tr>
<tr><td><code id="timeline_+3A_adj">adj</code></td>
<td>
<p>text justification parameter (see <code><a href="graphics.html#topic+par">par</a></code>) for both vertex and edge labels.  Labels are positioned relative to onset of spell.</p>
</td></tr>
<tr><td><code id="timeline_+3A_edge.col">edge.col</code></td>
<td>

<p>color to be used to draw lines for edge spells, or vector of color names corresponding to edges, or name of edge attribute.
</p>
</td></tr>
<tr><td><code id="timeline_+3A_vertex.col">vertex.col</code></td>
<td>

<p>color to be used to draw lines for vertex spells, or vector of color names corresponding to vertices, or name of vertex attribute.
</p>
</td></tr>
<tr><td><code id="timeline_+3A_xlab">xlab</code></td>
<td>

<p>x-axis label for plot
</p>
</td></tr>
<tr><td><code id="timeline_+3A_ylab">ylab</code></td>
<td>

<p>y-axis label for plot
</p>
</td></tr>
<tr><td><code id="timeline_+3A_xlim">xlim</code></td>
<td>

<p>two-element numeric vector giving the x-range (time bounds) of the plot to show. Defaults to (non-infinite) max and min time of network.
</p>
</td></tr>
<tr><td><code id="timeline_+3A_ylim">ylim</code></td>
<td>
<p> two-element numeric vector giving the y-range (effectively the number of entities) of plot to show. Defaults to an appropriate mapping of the number of entities to the available plot size.</p>
</td></tr> 
<tr><td><code id="timeline_+3A_...">...</code></td>
<td>

<p>additional arguments to be passed to plot subroutines.  See <code><a href="graphics.html#topic+plot.default">plot.default</a></code>,<code><a href="graphics.html#topic+lines">lines</a></code>,<code><a href="graphics.html#topic+text">text</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When the <code>v</code> argument is included, edges involving vertices not in <code>v</code> are excluded (but the reverse is not true for the <code>e</code> argument).  If <code>xlim</code> range is provided and the spells corresponding to a vertex or an edge lie entirely outside its bounds they will not be shown. 
</p>
<p>Many of the arguments correspond to arguments in <code><a href="network.html#topic+plot.network">plot.network</a></code> but are translated to the timeline plot context.  For example, <code>vertex.cex</code> actually controls the <code>lwd</code> (line width) of the lines corresponding to vertex spells.  The arguments are expanded using <code><a href="network.html#topic+plotArgs.network">plotArgs.network</a></code> so that they should give the expansion behavior and attribute look up as <code><a href="network.html#topic+plot.network">plot.network</a></code>
</p>
<p>Additional plotting arguments can be passed in to modify drawing.  For example, <code>lty</code> for line style. Vertices and edges that are never active are not included on the plot.
</p>


<h3>Value</h3>

<p>A plot is produced.
</p>


<h3>Note</h3>

<p>not fully implemented, would be nice to be able to pass network attribute names for properties..
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>See Also</h3>

<p>See also <code><a href="network.html#topic+plot.network">plot.network</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(stergm.sim.1)
  timeline(stergm.sim.1)
  
  # color vertices by priorates, don't show edges
  timeline(stergm.sim.1,vertex.col='priorates',plot.edge.spells=FALSE)
  
  # show only relationships among a few vertices
  timeline(stergm.sim.1,v=1:8)
  
  # zoom in on a region of time
  timeline(stergm.sim.1,xlim=c(20,40))
  
  # label vertices with numbers
  # and label edges by the tail and head vertices they link
  timeline(stergm.sim.1,xlim=c(0,5),v.label=1:network.size(stergm.sim.1),
      e.label=sapply(stergm.sim.1$mel,function(e){paste(e$inl,e$outl,sep='-&gt;')}) )
      
  # show only edge spells, hi-lite edge id 20
  set.edge.attribute(stergm.sim.1,'my_color','gray')
  set.edge.attribute(stergm.sim.1,'my_color','red',e=20)
  timeline(stergm.sim.1,edge.col='my_color',plot.vertex.spells=FALSE)
  
  # show binning over the edges
  timeline(stergm.sim.1,slice.par=list(start=0,
                                       end=100,
                                       interval=10, aggregate.dur=5,
                                       rule='latest'),
                      plot.vertex.spells=FALSE)
</code></pre>

<hr>
<h2 id='timePrism'>
Plot a networkDynamic object as sequence of snapshots in a pseudo-3D space-time prism
</h2><span id='topic+timePrism'></span>

<h3>Description</h3>

<p>Plots an image using <code><a href="scatterplot3d.html#topic+scatterplot3d">scatterplot3d</a></code> to render multiple network layout 'slices' in a '3D'  orthographic projection in which one axis is time. The coordinates for the networks are assumed to have been generated by <code><a href="#topic+compute.animation">compute.animation</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timePrism(nd, at, 
              spline.v = NULL, 
              spline.col = "#55555555", 
              spline.lwd = 1, 
              box = TRUE, 
              axis = TRUE, 
              planes = FALSE, 
              plane.col = "#FFFFFF99", 
              scale.y = 1, 
              angle = 20, 
              orientation = c("x", "y", "z"), 
              ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="timePrism_+3A_nd">nd</code></td>
<td>

<p>a <code><a href="networkDynamic.html#topic+networkDynamic">networkDynamic</a></code> object to be plotted
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_at">at</code></td>
<td>

<p>a numeric vector of times at which the network should be sampled and plotted.
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_spline.v">spline.v</code></td>
<td>

<p>optional integer vector of vertex ids to highlight with a spline linking the vertices&rdquo; positions at multiple time points
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_spline.col">spline.col</code></td>
<td>

<p>vector of colors corresponding to <code>spline.v</code>
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_spline.lwd">spline.lwd</code></td>
<td>

<p>numeric line width for vector splines
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_box">box</code></td>
<td>

<p>a logical value indicating whether a box should be drawn around the plot to indicate its bounds
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_axis">axis</code></td>
<td>

<p>a logical value indicating whether the x, y, and z axis should be drawn. 
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_planes">planes</code></td>
<td>

<p>a logical value indicating whether a 'plane' should be drawn to indicate the boundaries of each individual network plot
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_plane.col">plane.col</code></td>
<td>

<p>a color value to be used to color the planes (usually partially transparent)
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_scale.y">scale.y</code></td>
<td>

<p>numeric value giving the relative scale of y axis related to x- and z axis. (may distort network vertex shapes)
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_angle">angle</code></td>
<td>

<p>numeric angle (degrees) between x and y axis (Attention: result depends on scaling).
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_orientation">orientation</code></td>
<td>

<p>three-element charter vector the permutation of which determines the mapping and orientation of the plot axis relative to the figure. i.e. default <code>c('x','y','z')</code> will place 'z' (the time dimension) 'vertically' up the page, <code>c('z','x','y')</code> will make the time dimension horizontal, etc. 
</p>
</td></tr>
<tr><td><code id="timePrism_+3A_...">...</code></td>
<td>

<p>additional parameters to <code><a href="network.html#topic+plot.network">plot.network</a></code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implements a common conceptualization of dynamic networks a series of 'layers' or 'slices' in time. Mostly useful for illustrative purposes as this plot type tends to get really crowded if more than a few network time points are shown, or vertices highlighted. 
</p>


<h3>Value</h3>

<p>invisibly returns the result of the <code><a href="scatterplot3d.html#topic+scatterplot3d">scatterplot3d</a></code> command, which contains  useful functions as <code>$xyz.convert</code> which can be used to convert xyz coordinates into the plot space for additional annotation. 
</p>


<h3>Note</h3>

<p>Not all of the useful argument passthroughs to scatterplot3d and xspline have been implemented yet. Shapes of vertices and edges can be improperly distorted by coordinate projection. 
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compute.animation">compute.animation</a></code>,<code><a href="scatterplot3d.html#topic+scatterplot3d">scatterplot3d</a></code>, <code><a href="graphics.html#topic+xspline">xspline</a></code>, <code><a href="network.html#topic+plot.network">plot.network</a></code>. Also <code>filmstrip</code> and <code>proxmity.timeline</code> for related static views. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("short.stergm.sim")
compute.animation(short.stergm.sim)
timePrism(short.stergm.sim,at=c(1,10,20),
          displaylabels=TRUE,
          label.cex=0.5)
          
data(toy_epi_sim)  
timePrism(toy_epi_sim,
          orientation=c('z','y','x'),
          angle=40,
          spline.v=c(7, 29, 36, 70, 82, 96),  # hilite the infected 
          spline.col='red',
          spline.lwd=2,
          box=FALSE,
          planes=TRUE,
          vertex.col='ndtvcol')
</code></pre>

<hr>
<h2 id='toy_epi_sim'>
Toy Epidemic Simulation Output from the EpiModel package
</h2><span id='topic+toy_epi_sim'></span>

<h3>Description</h3>

<p>An example network of a trivial simulated disease process spreading over a simulated dynamic contact network among 100 individuals for 25 discrete time steps. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("toy_epi_sim")</code></pre>


<h3>Format</h3>

<p>The format is a <code>networkDynamic</code> object with attached attributes for <code>vertex.pid</code> (persistand ids), and dynamic attributes for <code>ndtvcol</code> (color corresponding to infection status) and <code>testatus</code> (infection status of vertices)
</p>


<h3>Details</h3>

<p>The <code>toy_epi_sim</code> network is example output from a basic dynamic network STERGM simulation and trivial &quot;SI&quot; infection simulation generated using the EpiModel package. The model had random (&quot;edges only&quot;) edge formation and dissolution effects, with rates calculated to lead to mean edge durations of 10 time units.  The infection simulation had an infection probability of 0.8. 
</p>
<p>The simulation was generated with the following code: 
</p>
<pre>
library(EpiModel)

## Network Estimation (using a tergm model)
nw &lt;- network.initialize(n = 100, directed = FALSE)
formation &lt;- ~ edges
target.stats &lt;- 50
dissolution &lt;- ~ offset(edges)
coef.diss &lt;- dissolution_coefs(dissolution, duration = 10)
est &lt;- netest(nw,
              formation,
              dissolution,
              target.stats,
              coef.diss,
              verbose = FALSE)

## Epidemic simulation
param &lt;- param.net(inf.prob = 0.8)
init &lt;- init.net(i.num = 5)
control &lt;- control.net(type = "SI", nsteps = 25, nsims = 1, verbose =
                         FALSE)
sim &lt;- netsim(est, param, init, control)

## Use some of EpiModel's default coloring functions to cache colors
toy_epi_sim &lt;- get_network(sim)
toy_epi_sim &lt;- color_tea(toy_epi_sim)
</pre>


<h3>References</h3>

<p>Samuel Jenness, Steven M. Goodreau and Martina Morris (2015). EpiModel: Mathematical Modeling of Infectious
Disease. R package version 1.1.4. <a href="https://CRAN.R-project.org/package=EpiModel">https://CRAN.R-project.org/package=EpiModel</a>
</p>
<p>Statnet EpiModel Tutorial <a href="http://www.epimodel.org/">http://www.epimodel.org/</a>  
</p>


<h3>See Also</h3>

 
<p>See also <code><a href="#topic+short.stergm.sim">short.stergm.sim</a></code> for another basic Stergm simulation output, and <code><a href="#topic+msm.sim">msm.sim</a></code> for a larger and more complex simulation without an infection process.  
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(toy_epi_sim)
timeline(toy_epi_sim)
## Not run: 


# set up layout to draw plots under timeline
layout(matrix(c(1,1,1,2,3,4),nrow=2,ncol=3,byrow=TRUE))
# plot a proximity.timeline illustrating infection spread
proximity.timeline(toy_epi_sim,vertex.col = 'ndtvcol',
                  spline.style='color.attribute',
                  mode = 'sammon',default.dist=100,
                  chain.direction='reverse')
# plot 3 static cross-sectional networks 
# (beginning, middle and end) underneath for comparison
plot(network.collapse(toy_epi_sim,at=1),vertex.col='ndtvcol',
       main='toy_epi_sim network at t=1')
plot(network.collapse(toy_epi_sim,at=17),vertex.col='ndtvcol',
       main='toy_epi_sim network at=17')
plot(network.collapse(toy_epi_sim,at=25),vertex.col='ndtvcol',
       main='toy_epi_sim network at t=25')
layout(1) # reset the layout


# render an animation of the network
render.animation(toy_epi_sim,vertex.col='ndtvcol',displaylabels=FALSE)
ani.replay()

## End(Not run)


</code></pre>

<hr>
<h2 id='transmissionTimeline'>
plots network diffusion/transmission tree with generation time vs. clock/model time
</h2><span id='topic+transmissionTimeline'></span>

<h3>Description</h3>

<p>Plots view of a network with positions determined by the timing and generation depth (previously calculated) in a transmission tree.  The horizontal axis is model time, and the vertical axis is the number of steps from the root of the tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transmissionTimeline(x, time.attr, 
                     label, 
                     displaylabels = !missing(label), 
                     label.cex = 0.7, 
                     label.col = 1, 
                     vertex.col = 2, 
                     vertex.border = 1, 
                     vertex.lwd = 1, 
                     vertex.sides = 50, 
                     vertex.cex = 1,
                     jitter=FALSE,
                     edge.col = "gray", 
                     edge.lty = 1, 
                     edge.lwd = 1, 
                     xlab = "time", 
                     ylab = "generation", 
                     ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transmissionTimeline_+3A_x">x</code></td>
<td>

<p>an object than can be coerced into a <code><a href="network.html#topic+network">network</a></code>.  The network must be a tree
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_time.attr">time.attr</code></td>
<td>

<p>name of a vertex attribute containing the transmission/infection/diffusion time for each vertex
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_label">label</code></td>
<td>

<p>a vector of vertex labels, if desired; defaults to the vertex labels returned by network.vertex.names. If label has one element and it matches with a vertex attribute name, the value of the attribute will be used. Note that labels may be set but hidden by the displaylabels argument.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_displaylabels">displaylabels</code></td>
<td>

<p>boolean; should vertex labels be displayed?
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_label.cex">label.cex</code></td>
<td>

<p>character expansion factor for label text.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_label.col">label.col</code></td>
<td>

<p>color for vertex labels; may be given as a vector or a vertex attribute name, if labels are to be of different colors.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_vertex.col">vertex.col</code></td>
<td>

<p>color for vertices; may be given as a vector or a vertex attribute name, if vertices are to be of different colors.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_vertex.border">vertex.border</code></td>
<td>

<p>border color for vertices; may be given as a vector or a vertex attribute name, if vertex borders are to be of different colors.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_vertex.lwd">vertex.lwd</code></td>
<td>

<p>line width of vertex borders; may be given as a vector or a vertex attribute name, if vertex borders are to have different line widths.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_vertex.sides">vertex.sides</code></td>
<td>

<p>number of polygon sides for vertices; may be given as a vector or a vertex attribute name, if vertices are to be of different types. NOTE: only values of 3,4,and 50 (circle) are used as they are translated to <code>pch</code> plot symbols.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_vertex.cex">vertex.cex</code></td>
<td>

<p>expansion factor for vertices; may be given as a vector or a vertex attribute name, if vertices are to be of different sizes.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_jitter">jitter</code></td>
<td>

<p>if TRUE, noise will be added to the coordinates with jitter to make overlapping vertex positions more noticeable
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_edge.col">edge.col</code></td>
<td>

<p>color for edges; may be given as a vector, adjacency matrix, or edge attribute name, if edges are to be of different colors.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_edge.lty">edge.lty</code></td>
<td>

<p>line type for edge borders; may be given as a vector, adjacency matrix, or edge attribute name, if edge borders are to have different line types.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_edge.lwd">edge.lwd</code></td>
<td>

<p>line width scale for edges;  May be given as a vector or edge attribute name, if edges are to have different line widths.
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_xlab">xlab</code></td>
<td>

<p>y-axis plot label
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_ylab">ylab</code></td>
<td>

<p>x-axis plot label
</p>
</td></tr>
<tr><td><code id="transmissionTimeline_+3A_...">...</code></td>
<td>

<p>additional arguments to <code><a href="graphics.html#topic+plot">plot</a></code> (and par)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Many (but not all) of the graphical arguments to <code><a href="network.html#topic+plot.network">plot.network</a></code> can be used and are expanded in the same way.  This does not currently use the <code><a href="network.html#topic+plot.network">plot.network</a></code> code to draw the network as non-square plot aspect ratios would cause distortion of the vertices when drawn.
</p>


<h3>Value</h3>

<p>produces a plot, invisibly returns the coordinates of the plot. 
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>See Also</h3>

<p><code><a href="network.html#topic+plot.network">plot.network</a></code>, <code><a href="#topic+proximity.timeline">proximity.timeline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># an edgelist describing an infection tree
el &lt;-cbind(c(16, 13, 13,  10, 13, 16, 10, 13, 1, 10, 8, 1, 4, 4, 2, 2),
            1:16)
# a vector of infection times
infectionTimes &lt;- c(583, 494, 634, 40, 712, 701, 224, 719,  
                   674, 0, 749, 621, 453, 665, 709, 575)
# make a network object, include the infection time                   
infTree&lt;-network(el,vertex.attr = list(infectionTimes),
            vertex.attrnames = list('infectionTimes'))

transmissionTimeline(infTree,time.attr='infectionTimes')


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package Certara.RsNLME.ModelBuilder</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Certara.RsNLME.ModelBuilder}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#change_ThetasMmdl'><p>Passes the metamodel to estimatesUI and, after returning, saves it as a metamodel file</p></a></li>
<li><a href='#create_metamodelBuiltin'><p>Run <code>modelBuilderUI()</code> and create resulting metamodel</p></a></li>
<li><a href='#create_metamodelTextual'><p>Send metamodel to <code>modelTextualUI()</code> and run shiny application</p></a></li>
<li><a href='#estimatesUI'><p>Shiny GUI to examine the model and evaluate estimates for fixed effects.</p></a></li>
<li><a href='#modelBuilderUI'><p>Build RsNLME model from Shiny GUI and generate corresponding RsNLME code</p></a></li>
<li><a href='#modelTextualUI'><p>Edit textual RsNLME model from Shiny GUI</p></a></li>
<li><a href='#NlmeCovarItem-class'><p>Class represents an NLME Covariate parameter</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Pharmacometric Model Building Using 'shiny'</td>
</tr>
<tr>
<td>Version:</td>
<td>3.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Develop Nonlinear Mixed Effects (NLME) models for pharmacometrics using a 'shiny'
      interface. The Pharmacometric Modeling Language (PML) code updates in real time given 
      changes to user inputs. Models can be executed using the 'Certara.RsNLME' package. 
      Additional support to generate the underlying 'Certara.RsNLME' code to recreate
      the corresponding model in R is provided in the user interface.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://certara.github.io/R-RsNLME-model-builder/">https://certara.github.io/R-RsNLME-model-builder/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Certara.RsNLME, shinymeta, shinyAce, bslib (&ge; 0.7.0),
data.table, DT, ggplot2, ggforce, htmltools, htmlwidgets,
magrittr, methods, shiny (&ge; 1.7.0), shinyjs, shinyWidgets,
tools, utils, fs</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-19 17:16:42 UTC; jcraig</td>
</tr>
<tr>
<td>Author:</td>
<td>James Craig [aut, cre],
  Mike Talley [aut],
  Shuhua Hu [ctb],
  Certara USA, Inc [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James Craig &lt;james.craig@certara.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-20 11:00:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='change_ThetasMmdl'>Passes the metamodel to estimatesUI and, after returning, saves it as a metamodel file</h2><span id='topic+change_ThetasMmdl'></span>

<h3>Description</h3>

<p>Passes the metamodel to estimatesUI and, after returning, saves it as a metamodel file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>change_ThetasMmdl(metamodelFile)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="change_ThetasMmdl_+3A_metamodelfile">metamodelFile</code></td>
<td>
<p>File where the metamodel should be updated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>changed metamodel text
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  OneCpt_IVInfusionFile &lt;- system.file("vignettesdata/OneCpt_IVInfusion.mmdl",
  package = "Certara.RsNLME",
  mustWork = TRUE)
  
  change_ThetasMmdl(OneCpt_IVInfusionFile)
}

</code></pre>

<hr>
<h2 id='create_metamodelBuiltin'>Run <code>modelBuilderUI()</code> and create resulting metamodel</h2><span id='topic+create_metamodelBuiltin'></span>

<h3>Description</h3>

<p>Used by Pirana to run <code>modelBuilderUI()</code>, saving the
resulting metamodel e.g., .mmmdl file given model building operations performed in GUI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_metamodelBuiltin(metamodelFile, datafile, author = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_metamodelBuiltin_+3A_metamodelfile">metamodelFile</code></td>
<td>
<p>File where the metamodel should be created.</p>
</td></tr>
<tr><td><code id="create_metamodelBuiltin_+3A_datafile">datafile</code></td>
<td>
<p>File with input data.</p>
</td></tr>
<tr><td><code id="create_metamodelBuiltin_+3A_author">author</code></td>
<td>
<p>Optional character string to specify the author in the metamodel.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NLME PML model S4 class instance
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
tmp_data &lt;- tempfile(fileext = ".csv")
write.csv(Certara.RsNLME::pkData, tmp_data, row.names = FALSE)

create_metamodelBuiltin(
  "run1.mmdl",
  tmp_data
  )
}

</code></pre>

<hr>
<h2 id='create_metamodelTextual'>Send metamodel to <code>modelTextualUI()</code> and run shiny application</h2><span id='topic+create_metamodelTextual'></span>

<h3>Description</h3>

<p>Used by Pirana to send existing metamodel to <code>modelTextualUI()</code> for
editing, and after returning, saves it as a metamodel file e.g, .mmdl.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_metamodelTextual(metamodelFile)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_metamodelTextual_+3A_metamodelfile">metamodelFile</code></td>
<td>
<p>Path to existing metmodel file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>DOSING CYCLE</code> block is presented in the metamodel, it will be
transferred to <code>COLDEF</code> block with a warning.
</p>


<h3>Value</h3>

<p>Updated metamodel text.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
mmdl_file &lt;- system.file("vignettesdata/OneCpt_IVInfusion.mmdl",
  package = "Certara.RsNLME")

create_metamodelTextual(
  mmdl_file
  )
}
</code></pre>

<hr>
<h2 id='estimatesUI'>Shiny GUI to examine the model and evaluate estimates for fixed effects.</h2><span id='topic+estimatesUI'></span>

<h3>Description</h3>

<p>Shiny GUI to examine the model and evaluate estimates for fixed effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimatesUI(model, host = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimatesUI_+3A_model">model</code></td>
<td>
<p>Model object.</p>
</td></tr>
<tr><td><code id="estimatesUI_+3A_host">host</code></td>
<td>
<p>Optional host parameter of class <code>hostParams</code>.
If <code>NULL</code>, local host will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A model object of class <code>NlmePmlModel</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
library(Certara.RsNLME)
host &lt;- hostParams(
  parallelMethod = "None",
  hostName = "local",
  numCores = 1
)

model &lt;- pkmodel(
  parameterization = "Clearance",
  absorption = "Intravenous",
  numCompartments = 2,
  data = pkData,
  ID = "Subject",
  A1 = "Amount",
  CObs = "Conc",
  Time = "Act_Time",
  modelName = "pk_model"
)

model &lt;- estimatesUI(model, host)
}

</code></pre>

<hr>
<h2 id='modelBuilderUI'>Build RsNLME model from Shiny GUI and generate corresponding RsNLME code</h2><span id='topic+modelBuilderUI'></span>

<h3>Description</h3>

<p>Shiny application to build RsNLME model from Shiny GUI and generate corresponding RsNLME code 
based on input selections.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modelBuilderUI(
  data,
  modelName = "PKPDmodel",
  workingDir = "",
  baseModel = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modelBuilderUI_+3A_data">data</code></td>
<td>
<p>Input dataset.</p>
</td></tr>
<tr><td><code id="modelBuilderUI_+3A_modelname">modelName</code></td>
<td>
<p>Name of the model; if <code>missing</code>, named as 'PKPDmodel.'</p>
</td></tr>
<tr><td><code id="modelBuilderUI_+3A_workingdir">workingDir</code></td>
<td>
<p>Working directory to run the model. Current working directory 
will be used if <code>workingDir</code> not specified or does not exist.</p>
</td></tr>
<tr><td><code id="modelBuilderUI_+3A_basemodel">baseModel</code></td>
<td>
<p>The model object from where the input dataset and model name are recovered if 
arguments <code>data</code> and <code>modelName</code> are not specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A model object of class <code>NlmePmlModel</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
model &lt;- modelBuilderUI(data = Certara.RsNLME::pkData, modelName = "PK_Model")
}
 
</code></pre>

<hr>
<h2 id='modelTextualUI'>Edit textual RsNLME model from Shiny GUI</h2><span id='topic+modelTextualUI'></span>

<h3>Description</h3>

<p>Shiny application to update RsNLME model from Shiny GUI and directly edit PML statements using Ace editor. Syntax and semantic check is performed
by TDL executable (if presented). The Shiny application also allows adding input options and column mappings from Shiny GUI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modelTextualUI(baseModel, initpml, data, modelName = "PKPDmodel")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modelTextualUI_+3A_basemodel">baseModel</code></td>
<td>
<p>The model object from where the information is recovered.</p>
</td></tr>
<tr><td><code id="modelTextualUI_+3A_initpml">initpml</code></td>
<td>
<p>Initial PML model file to be edited. Overrides
<code>baseModel@statements</code>, if presented.</p>
</td></tr>
<tr><td><code id="modelTextualUI_+3A_data">data</code></td>
<td>
<p>Input data frame.
Overrides <code>baseModel@inputData</code>, if presented.</p>
</td></tr>
<tr><td><code id="modelTextualUI_+3A_modelname">modelName</code></td>
<td>
<p>Name of the model; if <code>missing</code>, named as 'PKPDmodel'.
Overrides <code>baseModel@modelInfo@modelName</code>, if presented.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A model object of class <code>NlmePmlModel</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
model &lt;- modelBuilderUI(data = Certara.RsNLME::pkData, modelName = "PK_Model")

model &lt;- modelTextualUI(baseModel = model)
}

</code></pre>

<hr>
<h2 id='NlmeCovarItem-class'>Class represents an NLME Covariate parameter</h2><span id='topic+NlmeCovarItem-class'></span><span id='topic+NlmeCovarItem'></span>

<h3>Description</h3>

<p>Class represents an NLME Covariate parameter
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NlmeCovarItem-class_+3A_name">name</code></td>
<td>
<p>Name of covariate</p>
</td></tr>
<tr><td><code id="NlmeCovarItem-class_+3A_value">value</code></td>
<td>
<p>Covariate value</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

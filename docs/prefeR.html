<!DOCTYPE html><html><head><title>Help for package prefeR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {prefeR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.calculateLogProb'><p>Calculates the log probability of seeing a given set of preferences</p></a></li>
<li><a href='#.estimateEntropy'><p>Calculates the expected posterior entropy of the prefel object if x and y are compared. Ignores</p>
the odds of indifference preferences, as using them would increase runtime 50% without much gain.</a></li>
<li><a href='#.getLogIndifProb'><p>Evaluates the likelihood of the observed indifference preferences</p></a></li>
<li><a href='#.getLogStrictProb'><p>Evaluates the likelihood of the observed strict preferences</p></a></li>
<li><a href='#.sampleEntropy'><p>Calculates the entropy of a matrix of samples.</p></a></li>
<li><a href='#%&gt;%'><p>A helper function to add in preferences in a user-friendly way.</p></a></li>
<li><a href='#%&lt;%'><p>A helper function to add in preferences in a user-friendly way.</p></a></li>
<li><a href='#%=%'><p>A helper function to add in preferences in a user-friendly way.</p></a></li>
<li><a href='#BayesPrefClass'><p>An object containing all data necessary for preference elicitation.</p></a></li>
<li><a href='#Exp'><p>A convenience function for generating Exponential priors.</p></a></li>
<li><a href='#Flat'><p>A convenience function for generating a flat prior.</p></a></li>
<li><a href='#infer'><p>A function that estimates the user's underlying utility function.</p></a></li>
<li><a href='#Normal'><p>A convenience function for generating Normal priors.</p></a></li>
<li><a href='#prefEl'><p>A shortcut to create objects of the class BayesPrefClass.</p></a></li>
<li><a href='#suggest'><p>Suggests a good comparison for the user to make next.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Package for Pairwise Preference Elicitation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-24</td>
</tr>
<tr>
<td>Author:</td>
<td>John Lepird</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Lepird &lt;jlepird@alum.mit.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows users to derive multi-objective weights from pairwise comparisons, which
    research shows is more repeatable, transparent, and intuitive other techniques. These weights
    can be rank existing alternatives or to define a multi-objective utility function for optimization.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>mcmc, methods, entropy</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jlepird/prefeR">https://github.com/jlepird/prefeR</a>,
<a href="https://jlepird.github.io/prefeR/">https://jlepird.github.io/prefeR/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-24 22:51:34 UTC; jack</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-24 23:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.calculateLogProb'>Calculates the log probability of seeing a given set of preferences</h2><span id='topic+.calculateLogProb'></span>

<h3>Description</h3>

<p>Calculates the log probability of seeing a given set of preferences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.calculateLogProb(x, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".calculateLogProb_+3A_x">x</code></td>
<td>
<p>A guess for our weight vector</p>
</td></tr>
<tr><td><code id=".calculateLogProb_+3A_p">p</code></td>
<td>
<p>An object of the Bayes preference class</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scalar log-likelihood of the guess x
</p>

<hr>
<h2 id='.estimateEntropy'>Calculates the expected posterior entropy of the prefel object if x and y are compared. Ignores 
the odds of indifference preferences, as using them would increase runtime 50% without much gain.</h2><span id='topic+.estimateEntropy'></span>

<h3>Description</h3>

<p>Calculates the expected posterior entropy of the prefel object if x and y are compared. Ignores 
the odds of indifference preferences, as using them would increase runtime 50% without much gain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.estimateEntropy(p, currentGuess, x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".estimateEntropy_+3A_p">p</code></td>
<td>
<p>An object of class BayesPrefClass.</p>
</td></tr>
<tr><td><code id=".estimateEntropy_+3A_currentguess">currentGuess</code></td>
<td>
<p>The current best estimate for our weight vector.</p>
</td></tr>
<tr><td><code id=".estimateEntropy_+3A_x">x</code></td>
<td>
<p>Possible comparison 1</p>
</td></tr>
<tr><td><code id=".estimateEntropy_+3A_y">y</code></td>
<td>
<p>Possible comparison 2</p>
</td></tr>
</table>

<hr>
<h2 id='.getLogIndifProb'>Evaluates the likelihood of the observed indifference preferences</h2><span id='topic+.getLogIndifProb'></span>

<h3>Description</h3>

<p>Evaluates the likelihood of the observed indifference preferences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.getLogIndifProb(x, pref, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".getLogIndifProb_+3A_x">x</code></td>
<td>
<p>the underlying data</p>
</td></tr>
<tr><td><code id=".getLogIndifProb_+3A_pref">pref</code></td>
<td>
<p>the stated preference</p>
</td></tr>
<tr><td><code id=".getLogIndifProb_+3A_p">p</code></td>
<td>
<p>the preference elication object</p>
</td></tr>
</table>

<hr>
<h2 id='.getLogStrictProb'>Evaluates the likelihood of the observed strict preferences</h2><span id='topic+.getLogStrictProb'></span>

<h3>Description</h3>

<p>Evaluates the likelihood of the observed strict preferences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.getLogStrictProb(x, pref, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".getLogStrictProb_+3A_x">x</code></td>
<td>
<p>the underlying data</p>
</td></tr>
<tr><td><code id=".getLogStrictProb_+3A_pref">pref</code></td>
<td>
<p>the stated preference</p>
</td></tr>
<tr><td><code id=".getLogStrictProb_+3A_p">p</code></td>
<td>
<p>the preference elication object</p>
</td></tr>
</table>

<hr>
<h2 id='.sampleEntropy'>Calculates the entropy of a matrix of samples.</h2><span id='topic+.sampleEntropy'></span>

<h3>Description</h3>

<p>Calculates the entropy of a matrix of samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.sampleEntropy(X)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".sampleEntropy_+3A_x">X</code></td>
<td>
<p>a matrix where each row is a sample of variables in different columns</p>
</td></tr>
</table>

<hr>
<h2 id='+25+26gt+3B+25'>A helper function to add in preferences in a user-friendly way.</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>A helper function to add in preferences in a user-friendly way.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>a %&gt;% b
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_a">a</code></td>
<td>
<p>The preferred row</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_b">b</code></td>
<td>
<p>The non-preferred row</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other preferences: 
<code><a href="#topic++25+3C+25">%&lt;%</a>()</code>,
<code><a href="#topic++25+3D+25">%=%</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>1 %&gt;% 2 # prefer row 1 to row 2
</code></pre>

<hr>
<h2 id='+25+26lt+3B+25'>A helper function to add in preferences in a user-friendly way.</h2><span id='topic++25+3C+25'></span>

<h3>Description</h3>

<p>A helper function to add in preferences in a user-friendly way.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>a %&lt;% b
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26lt+2B3B+2B25_+3A_a">a</code></td>
<td>
<p>The non-preferred row</p>
</td></tr>
<tr><td><code id="+2B25+2B26lt+2B3B+2B25_+3A_b">b</code></td>
<td>
<p>The preferred row</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other preferences: 
<code><a href="#topic++25+3D+25">%=%</a>()</code>,
<code><a href="#topic++25+3E+25">%&gt;%</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>1 %&lt;% 2 # prefer row 2 to row 1
</code></pre>

<hr>
<h2 id='+25+3D+25'>A helper function to add in preferences in a user-friendly way.</h2><span id='topic++25+3D+25'></span>

<h3>Description</h3>

<p>A helper function to add in preferences in a user-friendly way.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>a %=% b
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B3D+2B25_+3A_a">a</code></td>
<td>
<p>The first alternative</p>
</td></tr>
<tr><td><code id="+2B25+2B3D+2B25_+3A_b">b</code></td>
<td>
<p>The second alternative</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other preferences: 
<code><a href="#topic++25+3C+25">%&lt;%</a>()</code>,
<code><a href="#topic++25+3E+25">%&gt;%</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>1 %=% 2 # indifferent between 1 and 2
</code></pre>

<hr>
<h2 id='BayesPrefClass'>An object containing all data necessary for preference elicitation.</h2><span id='topic+BayesPrefClass'></span>

<h3>Description</h3>

<p>An object containing all data necessary for preference elicitation.
</p>


<h3>Fields</h3>


<dl>
<dt><code>data</code></dt><dd><p>A matrix or dataframe of data.</p>
</dd>
<dt><code>priors</code></dt><dd><p>A list of functions that give the prior on each variable.</p>
</dd>
<dt><code>sigma</code></dt><dd><p>A scalar value to use for the confusion factor (default 0.1).</p>
</dd>
<dt><code>Sigma</code></dt><dd><p>(Internal use only) A matrix of sigma * diag(ncol(data)).</p>
</dd>
<dt><code>strict</code></dt><dd><p>A list of lists of preferences. For each element x, x[[1]] &gt; x[[2]].</p>
</dd>
<dt><code>indif</code></dt><dd><p>A list of lists of indifference preferences. For each element x, x[[1]] = x[[2]].</p>
</dd>
<dt><code>weights</code></dt><dd><p>A vector of weights determined by the inference algorithm.</p>
</dd>
</dl>


<h3>Methods</h3>


<dl>
<dt><code>addPref(x)</code></dt><dd><p>Adds a preference created using %&gt;%, %&lt;%, or %=%.</p>
</dd>
<dt><code>infer(estimate = "recommended")</code></dt><dd><p>Calls the &ldquo;infer&rdquo; function to guess weights</p>
</dd>
<dt><code>rank()</code></dt><dd><p>Calculates the utility of each row in our dataset</p>
</dd>
<dt><code>suggest(maxComparisons = 10)</code></dt><dd><p>Calls the &ldquo;suggest&rdquo; function to guess weights</p>
</dd>
</dl>

<hr>
<h2 id='Exp'>A convenience function for generating Exponential priors.</h2><span id='topic+Exp'></span>

<h3>Description</h3>

<p>A convenience function for generating Exponential priors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Exp(mu = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Exp_+3A_mu">mu</code></td>
<td>
<p>The mean of the exponential distribution, i.e. <code class="reqn">1/rate</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function yielding the log-PDF at x of a exponential distribution with given statistics.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+Flat">Flat</a>()</code>,
<code><a href="#topic+Normal">Normal</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Exp(1)(1) == dexp(1,1, log = TRUE)
</code></pre>

<hr>
<h2 id='Flat'>A convenience function for generating a flat prior.</h2><span id='topic+Flat'></span>

<h3>Description</h3>

<p>A convenience function for generating a flat prior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Flat()
</code></pre>


<h3>Value</h3>

<p>The zero function.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+Exp">Exp</a>()</code>,
<code><a href="#topic+Normal">Normal</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Flat()(1) == 0.0
</code></pre>

<hr>
<h2 id='infer'>A function that estimates the user's underlying utility function.</h2><span id='topic+infer'></span>

<h3>Description</h3>

<p>A function that estimates the user's underlying utility function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>infer(p, estimate = "recommended", nbatch = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="infer_+3A_p">p</code></td>
<td>
<p>A BayesPrefClass instance.</p>
</td></tr>
<tr><td><code id="infer_+3A_estimate">estimate</code></td>
<td>
<p>The type of posterior point-estimate returned. Valid options are &quot;recommended&quot; (default), &quot;MAP&quot;, and &quot;mean&quot;.</p>
</td></tr>
<tr><td><code id="infer_+3A_nbatch">nbatch</code></td>
<td>
<p>If using Monte Carlo estimates, the number of samples. Defaults to 1000.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of parameters that best fits the observed preferences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> p &lt;- prefEl(data = data.frame(c(1,0,1), c(0,1,1), c(1,1,1)),
             priors = c(Normal(0, 1), Exp(0.5), Flat()))
 p$addPref(1 %&gt;% 2)
 infer(p, estimate = "MAP")
</code></pre>

<hr>
<h2 id='Normal'>A convenience function for generating Normal priors.</h2><span id='topic+Normal'></span>

<h3>Description</h3>

<p>A convenience function for generating Normal priors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Normal(mu = 0, sigma = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Normal_+3A_mu">mu</code></td>
<td>
<p>The mean of the normal distribution</p>
</td></tr>
<tr><td><code id="Normal_+3A_sigma">sigma</code></td>
<td>
<p>The standard deviation of the prior</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function yielding the log-PDF at x of a normal distribution with given statistics.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+Exp">Exp</a>()</code>,
<code><a href="#topic+Flat">Flat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Normal(0, 1)(1) == dnorm(1, log = TRUE)
</code></pre>

<hr>
<h2 id='prefEl'>A shortcut to create objects of the class BayesPrefClass.</h2><span id='topic+prefEl'></span>

<h3>Description</h3>

<p>A shortcut to create objects of the class BayesPrefClass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prefEl(data = NA, priors = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prefEl_+3A_data">data</code></td>
<td>
<p>A matrix or dataframe of data. Each column should be a variable, each row an observation.</p>
</td></tr>
<tr><td><code id="prefEl_+3A_priors">priors</code></td>
<td>
<p>A list of functions that give the prior on each variable. E.g. see help(Flat)</p>
</td></tr>
<tr><td><code id="prefEl_+3A_...">...</code></td>
<td>
<p>Other parameters to pass to the class constructor. Not recommended.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- prefEl(data = data.frame(x = c(1,0,1), y = c(0, 1, 1)),
            priors = c(Normal(0,1), Flat()))
</code></pre>

<hr>
<h2 id='suggest'>Suggests a good comparison for the user to make next.</h2><span id='topic+suggest'></span>

<h3>Description</h3>

<p>Suggests a good comparison for the user to make next.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suggest(p, maxComparisons = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="suggest_+3A_p">p</code></td>
<td>
<p>An object of class BayesPrefClass.</p>
</td></tr>
<tr><td><code id="suggest_+3A_maxcomparisons">maxComparisons</code></td>
<td>
<p>The maximum number of possible comparisons to check. Default: 10.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A two-element vector of recommended comparisons.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>
